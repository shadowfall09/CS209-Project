{"items":[{"tags":["java","regex","parsing"],"comments":[{"owner":{"account_id":5531638,"reputation":14395,"user_id":4391450,"display_name":"AxelH"},"score":0,"creation_date":1512478623,"post_id":47653657,"comment_id":82266404,"body_markdown":"The second point being &quot;_,a sequence of numbers _&quot; ? `\\d+` ? Please provide a [mcve]. Using some enumeration for each requirements would be more readable. And of course, you have a lot of errors, but don&#39;t mention which one. If this is to complex to explain better that this at least add an example (input/output)","body":"The second point being &quot;_,a sequence of numbers _&quot; ? <code>\\d+</code> ? Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Using some enumeration for each requirements would be more readable. And of course, you have a lot of errors, but don&#39;t mention which one. If this is to complex to explain better that this at least add an example (input/output)"},{"owner":{"account_id":12246822,"reputation":1,"user_id":8938286,"display_name":"Shinon"},"score":0,"creation_date":1512479676,"post_id":47653657,"comment_id":82267160,"body_markdown":"thanks for asking:) my problem is the third point! every string like this: &quot;\\\\hello\\&quot;&quot; has to become \\hello&quot;      but i don&#39;t know how to do it! i mean the backslash and the &quot;  muest be  banned but \\\\ and \\&quot; must be agreeded..","body":"thanks for asking:) my problem is the third point! every string like this: &quot;\\\\hello\\&quot;&quot; has to become \\hello&quot;      but i don&#39;t know how to do it! i mean the backslash and the &quot;  muest be  banned but \\\\ and \\&quot; must be agreeded.."},{"owner":{"account_id":12246822,"reputation":1,"user_id":8938286,"display_name":"Shinon"},"score":0,"creation_date":1512479866,"post_id":47653657,"comment_id":82267276,"body_markdown":"the error is : Exception in thread &quot;main&quot; java.util.regex.PatternSyntaxException: Unmatched closing &#39;)&#39; near index 89\n([a-zA-Z]+[0-9a-zA-Z_]*)|(0(?![0-9])|([1-9]+)([0-9]*))|([&quot;]{1}([(\\(?=\\|\\&quot;))][^\\&quot;])*)[&quot;]{1})|(\\s+)\n                                                                                         ^\n\tat java.util.regex.Pattern.error(Unknown Source)\n\tat java.util.regex.Pattern.compile(Unknown Source)\n\tat java.util.regex.Pattern.&lt;init&gt;(Unknown Source)\n\tat java.util.regex.Pattern.compile(Unknown Source)\n\tat lab05_12_04.ExampleLexer.main(ExampleLexer.java:18)","body":"the error is : Exception in thread &quot;main&quot; java.util.regex.PatternSyntaxException: Unmatched closing &#39;)&#39; near index 89 ([a-zA-Z]+[0-9a-zA-Z_]*)|(0(?![0-9])|([1-9]+)([0-9]*))|([&quot;]{&zwnj;&#8203;1}([(&#40;?=\\|\\&quot;))][&zwnj;&#8203;^\\&quot;])*)[&quot;]{1})|(\\s+)                                                                                          ^ \tat java.util.regex.Pattern.error(Unknown Source) \tat java.util.regex.Pattern.compile(Unknown Source) \tat java.util.regex.Pattern.&lt;init&gt;(Unknown Source) \tat java.util.regex.Pattern.compile(Unknown Source) \tat lab05_12_04.ExampleLexer.main(ExampleLexer.java:18)"},{"owner":{"account_id":5531638,"reputation":14395,"user_id":4391450,"display_name":"AxelH"},"score":0,"creation_date":1512479906,"post_id":47653657,"comment_id":82267311,"body_markdown":"I will not read the regex (you should understand why ;) ) but you forgot a `)` to close a group. PS: [edit] the question with that information.","body":"I will not read the regex (you should understand why ;) ) but you forgot a <code>)</code> to close a group. PS: <a href=\"https://stackoverflow.com/posts/47653657/edit\">edit</a> the question with that information."},{"owner":{"account_id":12246822,"reputation":1,"user_id":8938286,"display_name":"Shinon"},"score":0,"creation_date":1512479943,"post_id":47653657,"comment_id":82267348,"body_markdown":"as you can see i have changed the third line of my regular expression, but still no work..","body":"as you can see i have changed the third line of my regular expression, but still no work.."},{"owner":{"account_id":12246822,"reputation":1,"user_id":8938286,"display_name":"Shinon"},"score":0,"creation_date":1512480027,"post_id":47653657,"comment_id":82267398,"body_markdown":"yeah, sorry :&#39;) but the problem is that everytime the syntax is correct the output will be &quot; unmtched lexem&quot;","body":"yeah, sorry :&#39;) but the problem is that everytime the syntax is correct the output will be &quot; unmtched lexem&quot;"},{"owner":{"account_id":5531638,"reputation":14395,"user_id":4391450,"display_name":"AxelH"},"score":0,"creation_date":1512480080,"post_id":47653657,"comment_id":82267438,"body_markdown":"Please... [mcve]","body":"Please... <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"}],"answers":[{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1512481500,"creation_date":1512481076,"answer_id":47654987,"question_id":47653657,"body_markdown":"    &quot;\\&quot;(\\\\\\\\.|[^\\&quot;\\\\\\\\])*\\&quot;&quot;            // (1)\r\n    &quot;\\&quot;(\\\\\\\\[\\&quot;\\\\\\\\]|[^\\&quot;\\\\\\\\])*\\&quot;&quot;     // (2)\r\n\r\n- quote\r\n- zero or more times `(`...`)*`\r\n  - either backslash `\\` followed by (1) any char `.` / (2) any non-quote/non-backslash\r\n  - or `|` not a quote, not a backslash `[^` ... `]`\r\n- quote      \r\n\r\nOn the escapes:\r\n\r\n1. `\\&quot;` is a String escape representing one char, the double quote.\r\n2. `\\\\` is the String escape representing a backslash, one char.\r\n3. `\\\\\\\\` is the regex escape `\\\\` to represent the backslash itself instead of being a regex escape sequence itself.\r\n4. If you ever want to replace backslashes, first attempt it without regex: `s = s.replace(&quot;\\\\&quot;, &quot;\\\\\\\\&quot;);` doubles every backslash. Guess how that is written in regex with `replaceAll`.","title":"regular expression on method Pattern.compile()","body":"<pre><code>\"\\\"(\\\\\\\\.|[^\\\"\\\\\\\\])*\\\"\"            // (1)\n\"\\\"(\\\\\\\\[\\\"\\\\\\\\]|[^\\\"\\\\\\\\])*\\\"\"     // (2)\n</code></pre>\n\n<ul>\n<li>quote</li>\n<li>zero or more times <code>(</code>...<code>)*</code>\n\n<ul>\n<li>either backslash <code>\\</code> followed by (1) any char <code>.</code> / (2) any non-quote/non-backslash</li>\n<li>or <code>|</code> not a quote, not a backslash <code>[^</code> ... <code>]</code></li>\n</ul></li>\n<li>quote      </li>\n</ul>\n\n<p>On the escapes:</p>\n\n<ol>\n<li><code>\\\"</code> is a String escape representing one char, the double quote.</li>\n<li><code>\\\\</code> is the String escape representing a backslash, one char.</li>\n<li><code>\\\\\\\\</code> is the regex escape <code>\\\\</code> to represent the backslash itself instead of being a regex escape sequence itself.</li>\n<li>If you ever want to replace backslashes, first attempt it without regex: <code>s = s.replace(\"\\\\\", \"\\\\\\\\\");</code> doubles every backslash. Guess how that is written in regex with <code>replaceAll</code>.</li>\n</ol>\n"}],"owner":{"account_id":12246822,"reputation":1,"user_id":8938286,"display_name":"Shinon"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":795,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693129706,"creation_date":1512476919,"question_id":47653657,"body_markdown":"i have to create a regular expression to put into the method Pattern.compile(regex);\r\nMy regex has to allow integer (without 0 at the beginning of the number),a sequence of numbers and char (A-Za-z),but the problem is the third point: a string that must begin and end with the char &#39; &quot; &#39;, must avoid the chars backslash (unless there isn&#39;t one other backslash) and the char &#39;&quot;&#39; (unless there is before a backslash)\r\n\r\nbut i don&#39;t understand how to do the second point ( i have met a lot of errors), this is my java code:\r\n\r\n\r\n    public static void main(String[] args) {\r\n\t\tif (args.length == 0)\r\n\t\t\tthrow new IllegalArgumentException();\r\n\t\tMatcher matcher = Pattern.compile(&quot;([a-zA-Z]+[0-9a-zA-Z_]*)|&quot;\r\n\t\t\t\t+ &quot;(0(?![0-9])|([1-9]+)([0-9]*))|&quot; //&quot;?!&quot; &#232; una asserzione : &quot; se la condizione tra parentesi &#232; vera non considerare lo zero\r\n\t\t\t\t+ &quot;([\\&quot;]{1}(([\\\\\\\\][^\\&quot;\\\\][\\\\\\&quot;])*)[\\&quot;]{1})&quot; \r\n\t\t\t\t+ &quot;|(\\\\s+)&quot;).matcher(args[0]);// \\s = [ \\t\\n\\x0B\\f\\r]\r\n\t\tSystem.out.println(&quot;Input: &quot; + args[0]); //println va a capo dopo la stampa\r\n\t\twhile (matcher.lookingAt()) {\r\n\t\t\tSystem.out.print(&quot;Lexeme &#39;&quot; + matcher.group() + &quot;&#39;&quot;); //non va a capo dopo la stampa\r\n\t\t\tSystem.out.println(&quot; group &quot; + ExampleLexer.getGroup(matcher));\r\n\t\t\tmatcher.region(matcher.end(), matcher.regionEnd());\r\n\t\t}\r\n\t\t\r\n\t\t //attenzione: matcher.hitEnd() restituisce true se il matcher arriva in fondo\r\n\t\t //all&#39;input anche se l&#39;ultimo match non ha avuto successo, quindi funziona solo\r\n\t\t //per espressioni regolari &quot;semplici&quot;\r\n\t\tif (matcher.regionStart() == matcher.regionEnd())\r\n\t\t\tSystem.out.println(&quot;All lexems succesfully matched&quot;);\r\n\t\telse {\r\n\t\t\tSystem.err.print(&quot;Unmatched lexem &quot;);\r\n\t\t\tmatcher.usePattern(Pattern.compile(&quot;.*&quot;));\r\n\t\t\tmatcher.lookingAt();\r\n\t\t\tSystem.err.println(matcher.group());\r\n\t\t}\r\n\t}","title":"regular expression on method Pattern.compile()","body":"<p>i have to create a regular expression to put into the method Pattern.compile(regex);\nMy regex has to allow integer (without 0 at the beginning of the number),a sequence of numbers and char (A-Za-z),but the problem is the third point: a string that must begin and end with the char ' \" ', must avoid the chars backslash (unless there isn't one other backslash) and the char '\"' (unless there is before a backslash)</p>\n\n<p>but i don't understand how to do the second point ( i have met a lot of errors), this is my java code:</p>\n\n<pre><code>public static void main(String[] args) {\n    if (args.length == 0)\n        throw new IllegalArgumentException();\n    Matcher matcher = Pattern.compile(\"([a-zA-Z]+[0-9a-zA-Z_]*)|\"\n            + \"(0(?![0-9])|([1-9]+)([0-9]*))|\" //\"?!\" è una asserzione : \" se la condizione tra parentesi è vera non considerare lo zero\n            + \"([\\\"]{1}(([\\\\\\\\][^\\\"\\\\][\\\\\\\"])*)[\\\"]{1})\" \n            + \"|(\\\\s+)\").matcher(args[0]);// \\s = [ \\t\\n\\x0B\\f\\r]\n    System.out.println(\"Input: \" + args[0]); //println va a capo dopo la stampa\n    while (matcher.lookingAt()) {\n        System.out.print(\"Lexeme '\" + matcher.group() + \"'\"); //non va a capo dopo la stampa\n        System.out.println(\" group \" + ExampleLexer.getGroup(matcher));\n        matcher.region(matcher.end(), matcher.regionEnd());\n    }\n\n     //attenzione: matcher.hitEnd() restituisce true se il matcher arriva in fondo\n     //all'input anche se l'ultimo match non ha avuto successo, quindi funziona solo\n     //per espressioni regolari \"semplici\"\n    if (matcher.regionStart() == matcher.regionEnd())\n        System.out.println(\"All lexems succesfully matched\");\n    else {\n        System.err.print(\"Unmatched lexem \");\n        matcher.usePattern(Pattern.compile(\".*\"));\n        matcher.lookingAt();\n        System.err.println(matcher.group());\n    }\n}\n</code></pre>\n"},{"tags":["java","regex","stringbuilder"],"comments":[{"owner":{"account_id":4739783,"reputation":612574,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":0,"creation_date":1510571313,"post_id":47262756,"comment_id":81476507,"body_markdown":"Why not just use `replaceAll`? `input = input.replaceAll(&quot;[0-9/$&amp;+,:;=?@#/]+&quot;, &quot;&quot;);`?","body":"Why not just use <code>replaceAll</code>? <code>input = input.replaceAll(&quot;[0-9&#47;$&amp;+,:;=?@#&#47;]+&quot;, &quot;&quot;);</code>?"},{"owner":{"account_id":10108456,"reputation":3914,"user_id":7470253,"display_name":"M. Prokhorov"},"score":1,"creation_date":1510571553,"post_id":47262756,"comment_id":81476642,"body_markdown":"After something has been deleted, the indexes become jumbled up, because StringBuilder contents change, while Matcher contents do not. So the next iteration will not work as you might expect. You might want to collect all matches first, and only then delete.","body":"After something has been deleted, the indexes become jumbled up, because StringBuilder contents change, while Matcher contents do not. So the next iteration will not work as you might expect. You might want to collect all matches first, and only then delete."},{"owner":{"account_id":9021005,"reputation":4164,"user_id":6722100,"accept_rate":67,"display_name":"achAmh&#225;in"},"score":0,"creation_date":1510571787,"post_id":47262756,"comment_id":81476786,"body_markdown":"You&#39;re also missing `^` from your regex","body":"You&#39;re also missing <code>^</code> from your regex"},{"owner":{"account_id":12238490,"reputation":26,"user_id":8932193,"display_name":"Sujeet Kumar"},"score":0,"creation_date":1510571977,"post_id":47262756,"comment_id":81476889,"body_markdown":"Yep thanks. Noted that :)","body":"Yep thanks. Noted that :)"}],"answers":[{"tags":[],"owner":{"account_id":5668676,"reputation":997,"user_id":4484081,"display_name":"akshaya pandey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1510571515,"creation_date":1510571515,"answer_id":47262968,"question_id":47262756,"body_markdown":"Basically, when you have removed one character from the string buffer, the index available with matcher are no longer accurate. You can verify this by printing out the string before and after the call to sb.delete...\r\nAdd following line of code after sb.delete() to fix it.This will ensure that matcher searched for pattern again  and has the correctr indices.\r\n\r\n     m = p.matcher(sb);","title":"Using Delete method to delete substring with special char and numbers in java","body":"<p>Basically, when you have removed one character from the string buffer, the index available with matcher are no longer accurate. You can verify this by printing out the string before and after the call to sb.delete...\nAdd following line of code after sb.delete() to fix it.This will ensure that matcher searched for pattern again  and has the correctr indices.</p>\n\n<pre><code> m = p.matcher(sb);\n</code></pre>\n"}],"owner":{"account_id":12238490,"reputation":26,"user_id":8932193,"display_name":"Sujeet Kumar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":255,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1693129701,"creation_date":1510570824,"question_id":47262756,"body_markdown":"I am trying to write a small functionality to delete the irregular expression that are generated while copying text from old browsers. I have to specifically use `StringBuilder` [`delete()`][1] method for this.\r\nBelow a sample code snippet that I wrote. While it identifies the correct characters its deleting just the next iteration\r\n`\r\n\r\n        String input = buff.readLine();\r\n        \t\tStringBuilder sb = new StringBuilder(input);\r\n        \t\tPattern p = Pattern.compile(&quot;[0-9/$&amp;+,:;=?@#/]&quot;);\r\n        \t\tMatcher m = p.matcher(input);\r\n        \t\t\twhile(m.find()){\r\n        \t\t\t\t\r\n        \t\t\t\tsb.delete(m.start(), m.end());\r\n        \t\t\t}\r\n        \t\t\r\n        \t\t\t\r\n        \t\t\r\n        \t\tSystem.out.println(&quot;Formatted content\\n&quot;+sb);\r\n    //input: this is &amp;^4567 matcher\r\n    //expected output: this is matcher\r\n    //output: this is ^46 acher\r\n\r\n`\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/lang/StringBuilder.html#delete(int,%20int)","title":"Using Delete method to delete substring with special char and numbers in java","body":"<p>I am trying to write a small functionality to delete the irregular expression that are generated while copying text from old browsers. I have to specifically use <code>StringBuilder</code> <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/StringBuilder.html#delete(int,%20int)\" rel=\"nofollow noreferrer\"><code>delete()</code></a> method for this.\nBelow a sample code snippet that I wrote. While it identifies the correct characters its deleting just the next iteration\n`</p>\n\n<pre><code>    String input = buff.readLine();\n            StringBuilder sb = new StringBuilder(input);\n            Pattern p = Pattern.compile(\"[0-9/$&amp;+,:;=?@#/]\");\n            Matcher m = p.matcher(input);\n                while(m.find()){\n\n                    sb.delete(m.start(), m.end());\n                }\n\n\n\n            System.out.println(\"Formatted content\\n\"+sb);\n//input: this is &amp;^4567 matcher\n//expected output: this is matcher\n//output: this is ^46 acher\n</code></pre>\n\n<p>`</p>\n"},{"tags":["java","package"],"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":6,"creation_date":1693129974,"post_id":76986514,"comment_id":135717100,"body_markdown":"You can use anything you want. There’s no requirement that it be a domain name at all. The reverse domain name convention was created to avoid conflicts: if you use a domain you have actually registered, and everyone else does the same, there won’t be any conflicts.","body":"You can use anything you want. There’s no requirement that it be a domain name at all. The reverse domain name convention was created to avoid conflicts: if you use a domain you have actually registered, and everyone else does the same, there won’t be any conflicts."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":3,"creation_date":1693130081,"post_id":76986514,"comment_id":135717116,"body_markdown":"So, the short answer is that new TLDs can be used without violating that convention, and nothing will break because it was only ever a convention.","body":"So, the short answer is that new TLDs can be used without violating that convention, and nothing will break because it was only ever a convention."},{"owner":{"account_id":213468,"reputation":103492,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1693130538,"post_id":76986514,"comment_id":135717154,"body_markdown":"Why do you even think that would be a problem?","body":"Why do you even think that would be a problem?"}],"owner":{"account_id":27184399,"reputation":33,"user_id":20719072,"display_name":"Alexander"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693129688,"creation_date":1693129688,"question_id":76986514,"body_markdown":"Let&#39;s say I own the domain name `alexander.website`, `akira.blue`, or anything else that uses a TLD that isn&#39;t 3 letters or traditionally used in packages. Can I name packages I create `website.alexander.packagename`, or is that frowned upon? Is it a technically sound idea?","title":"Can you use less traditional Top-Level Domain Names, such as &quot;.systems&quot; or &quot;.aero&quot; in package names?","body":"<p>Let's say I own the domain name <code>alexander.website</code>, <code>akira.blue</code>, or anything else that uses a TLD that isn't 3 letters or traditionally used in packages. Can I name packages I create <code>website.alexander.packagename</code>, or is that frowned upon? Is it a technically sound idea?</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":2871026,"reputation":31449,"user_id":2464386,"accept_rate":84,"display_name":"ajb"},"score":1,"creation_date":1509168690,"post_id":46986107,"comment_id":80920073,"body_markdown":"Do you know how to use arrays?  When you&#39;re repeating essentially the same code 31 times, that&#39;s a strong hint that you should be using arrays or lists and looping on them.","body":"Do you know how to use arrays?  When you&#39;re repeating essentially the same code 31 times, that&#39;s a strong hint that you should be using arrays or lists and looping on them."}],"answers":[{"tags":[],"owner":{"account_id":12109179,"reputation":1,"user_id":8846746,"display_name":"payal bansal"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1509166099,"creation_date":1509166099,"answer_id":46986350,"question_id":46986107,"body_markdown":"It is working for me. However, not checked in details. But your patterns can be improved upon a bit. Try this as the pattern:\r\n\r\n    Pattern p1 = Pattern.compile(&quot;[a|A][a-f][a-z&amp;&amp;[^ioq]][-][0-9][0-9][0-9][1-9]&quot;);\r\n    Matcher m1 = p1.matcher(field_val); // aguascalientes\r\n\r\n    Pattern p2 = Pattern.compile(&quot;[a-c][g-y&amp;&amp;^[ioq]][a-z&amp;&amp;[^ioq]][-][0-9][0-9][0-9][1-9]&quot;);\r\n    Matcher m2 = p2.matcher(field_val);\r\n\r\n-jahanvi.bansal@gmail.com","title":"Matcher not matching patterns properly","body":"<p>It is working for me. However, not checked in details. But your patterns can be improved upon a bit. Try this as the pattern:</p>\n\n<pre><code>Pattern p1 = Pattern.compile(\"[a|A][a-f][a-z&amp;&amp;[^ioq]][-][0-9][0-9][0-9][1-9]\");\nMatcher m1 = p1.matcher(field_val); // aguascalientes\n\nPattern p2 = Pattern.compile(\"[a-c][g-y&amp;&amp;^[ioq]][a-z&amp;&amp;[^ioq]][-][0-9][0-9][0-9][1-9]\");\nMatcher m2 = p2.matcher(field_val);\n</code></pre>\n\n<p>-jahanvi.bansal@gmail.com</p>\n"},{"tags":[],"owner":{"account_id":12109179,"reputation":1,"user_id":8846746,"display_name":"payal bansal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1509166379,"creation_date":1509166379,"answer_id":46986376,"question_id":46986107,"body_markdown":"You can use this in case you want both uppercase and lower case check\r\n\r\n    Pattern p1 = Pattern.compile(&quot;[a|A][a-f[A-F]][a-z[A-Z]&amp;&amp;[^ioqIOQ]][-][0-9][0-9][0-9][1-9]&quot;);\r\n    Matcher m1 = p1.matcher(field_val); // aguascalientes\r\n\r\n    Pattern p2 = Pattern.compile(&quot;[a-c[A-C]][g-y[G-Y]&amp;&amp;[^ioqIOQ]][a-z[A-Z]&amp;&amp;[^ioqIOQ]][-][0-9][0-9][0-9][1-9]&quot;);\r\n    Matcher m2 = p2.matcher(field_val); // bajac","title":"Matcher not matching patterns properly","body":"<p>You can use this in case you want both uppercase and lower case check</p>\n\n<pre><code>Pattern p1 = Pattern.compile(\"[a|A][a-f[A-F]][a-z[A-Z]&amp;&amp;[^ioqIOQ]][-][0-9][0-9][0-9][1-9]\");\nMatcher m1 = p1.matcher(field_val); // aguascalientes\n\nPattern p2 = Pattern.compile(\"[a-c[A-C]][g-y[G-Y]&amp;&amp;[^ioqIOQ]][a-z[A-Z]&amp;&amp;[^ioqIOQ]][-][0-9][0-9][0-9][1-9]\");\nMatcher m2 = p2.matcher(field_val); // bajac\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2871026,"reputation":31449,"user_id":2464386,"accept_rate":84,"display_name":"ajb"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1509170520,"creation_date":1509170520,"answer_id":46986744,"question_id":46986107,"body_markdown":"I assume you&#39;re converting all your input strings to lower case before using these pattern matchers.  (It&#39;s confusing that you&#39;ve left this out of the question, since you&#39;re talking about license plate numbers in upper case but matching only lower-case letters.)\r\n\r\nI don&#39;t see why ABH-6262 would give you the wrong result.  However, there are definitely combinations that will produce the wrong result.  For example, you say Edomex should be from LGA-0001 to PEZ-9999.  However, your pattern\r\n\r\n    Pattern p10 = Pattern.compile(&quot;[l|m|n|p][a-z&amp;&amp;[^ioqf]][a-z][-]\\\\d\\\\d\\\\d\\\\d&quot;);\r\n\r\nwill accept any combination whose first letter is L, M, N, or P, which is fine, but will also accept any combination whose second letter is not F (or I, O, Q).  This means that it will accept LAA, which should belong to Jalisco; and it will not accept MFA, which should be part of Edomex.\r\n\r\nThe problem is that you want to compare three-letter &quot;words&quot; in alphabetical order, and regular expressions are the wrong tool for that job.  You _could_ do it, with a pattern like\r\n\r\n    (l[g-z&amp;&amp;[^ioq]]|[mn][a-z&amp;&amp;[^ioq]]|p[a-e])[a-z&amp;&amp;[^ioq]]-\\d\\d\\d\\d\r\n\r\nThe part in parentheses, using `|` characters, means that it can match one of the alternatives.  In this case, it matches the first two letters of the license plate if one of the following is true (and if no letter is I, O, or Q):\r\n\r\n - The first letter is L, and the second letter is G to Z;\r\n - The first letter is M or N, and the second letter is anything;\r\n - The first letter is P, and the second letter is A to E.\r\n\r\nYou&#39;d have to rewrite many of your matchers to do something like this.  But this makes things much more complicated than they should be.  The fact is, you should be using string comparisons, not pattern matchers, to accomplish what you&#39;re trying to do.\r\n\r\nYou can do this with just one pattern:\r\n\r\n    Pattern licensePlatePattern = Pattern.compile(&quot;([a-z&amp;&amp;[^ioq]]{3})-\\\\d{4}&quot;);\r\n\r\nA few things to note: The first part matches any three letters that are not I, O, or Q; but that part of the pattern is in parentheses, which creates a _group_ so that we can look at the three letters later.  Note that this also uses `{3}` to mean exactly three of the thing before it (similarly `{4}`).  Also note that I used `-` by itself to match the dash, not `[-]`; you don&#39;t need to use `[]` when matching just one specific character.\r\n\r\nNow:\r\n\r\n    Matcher matcher = licensePlatePattern.matcher(field_val.getText());\r\n    if (matcher.find()) {\r\n        String letters = matcher.group(1);\r\n            // This gets the part of the input that matches the first parenthesized\r\n            // part of the pattern (in this case, the only parenthesized part)\r\n        if (letters.compareTo(&quot;aaa&quot;) &gt;= 0 &amp;&amp; letters.compareTo(&quot;afz&quot;) &lt;= 0) then {\r\n            res.setText(&quot; Your State is  Aguascalientes&quot;);\r\n        } else if (letters.compareTo(&quot;aga&quot;) &gt;= 0 &amp;&amp; letters.compareTo(&quot;cyz&quot;) &lt;= 0) then {\r\n            res.setText(&quot; Your State is  Baja&quot;);\r\n        } else if (letters.compareTo(&quot;cza&quot;) &gt;= 0 &amp;&amp; letters.compareTo(&quot;dez&quot;) &lt;= 0) then {\r\n            res.setText(&quot; Your State is  Baja Sur&quot;);\r\n\r\nand so on.  This is a lot easier to understand than having 31 complex patterns.  Even better would be to put the information for the states in an array, like\r\n\r\n    public class StateInfo {\r\n        private String name;\r\n        private String lowestThreeLetters;\r\n        private String highestThreeLetters;\r\n        // constructor, getters -- I&#39;ll let you figure out how to write these\r\n    }\r\n\r\n    // in some other class:\r\n    public static final StateInfo[] stateInfo = new StateInfo[] {\r\n        new StateInfo(&quot;Aguascalientes&quot;, &quot;aaa&quot;, &quot;afz&quot;),\r\n        new StateInfo(&quot;Baja&quot;, &quot;aga&quot;, &quot;cyz&quot;),\r\n        new StateInfo(&quot;Baja Sur&quot;, &quot;cza&quot;, &quot;dez&quot;),\r\n        ... };\r\n\r\nand instead of 31 `if` statements, you can loop through the array:\r\n\r\n        String letters = matcher.group(1);\r\n        for (StateInfo s : stateInfo) {\r\n            if (letters.compareTo(s.getLowestThreeLetters()) &gt;= 0 &amp;&amp;\r\n                letters.compareTo(s.getHighestThreeLetters()) &lt;= 0) { \r\n                res.setText(&quot; Your State is  &quot; + s.getName());\r\n                break;\r\n            }\r\n        }\r\n","title":"Matcher not matching patterns properly","body":"<p>I assume you're converting all your input strings to lower case before using these pattern matchers.  (It's confusing that you've left this out of the question, since you're talking about license plate numbers in upper case but matching only lower-case letters.)</p>\n\n<p>I don't see why ABH-6262 would give you the wrong result.  However, there are definitely combinations that will produce the wrong result.  For example, you say Edomex should be from LGA-0001 to PEZ-9999.  However, your pattern</p>\n\n<pre><code>Pattern p10 = Pattern.compile(\"[l|m|n|p][a-z&amp;&amp;[^ioqf]][a-z][-]\\\\d\\\\d\\\\d\\\\d\");\n</code></pre>\n\n<p>will accept any combination whose first letter is L, M, N, or P, which is fine, but will also accept any combination whose second letter is not F (or I, O, Q).  This means that it will accept LAA, which should belong to Jalisco; and it will not accept MFA, which should be part of Edomex.</p>\n\n<p>The problem is that you want to compare three-letter \"words\" in alphabetical order, and regular expressions are the wrong tool for that job.  You <em>could</em> do it, with a pattern like</p>\n\n<pre><code>(l[g-z&amp;&amp;[^ioq]]|[mn][a-z&amp;&amp;[^ioq]]|p[a-e])[a-z&amp;&amp;[^ioq]]-\\d\\d\\d\\d\n</code></pre>\n\n<p>The part in parentheses, using <code>|</code> characters, means that it can match one of the alternatives.  In this case, it matches the first two letters of the license plate if one of the following is true (and if no letter is I, O, or Q):</p>\n\n<ul>\n<li>The first letter is L, and the second letter is G to Z;</li>\n<li>The first letter is M or N, and the second letter is anything;</li>\n<li>The first letter is P, and the second letter is A to E.</li>\n</ul>\n\n<p>You'd have to rewrite many of your matchers to do something like this.  But this makes things much more complicated than they should be.  The fact is, you should be using string comparisons, not pattern matchers, to accomplish what you're trying to do.</p>\n\n<p>You can do this with just one pattern:</p>\n\n<pre><code>Pattern licensePlatePattern = Pattern.compile(\"([a-z&amp;&amp;[^ioq]]{3})-\\\\d{4}\");\n</code></pre>\n\n<p>A few things to note: The first part matches any three letters that are not I, O, or Q; but that part of the pattern is in parentheses, which creates a <em>group</em> so that we can look at the three letters later.  Note that this also uses <code>{3}</code> to mean exactly three of the thing before it (similarly <code>{4}</code>).  Also note that I used <code>-</code> by itself to match the dash, not <code>[-]</code>; you don't need to use <code>[]</code> when matching just one specific character.</p>\n\n<p>Now:</p>\n\n<pre><code>Matcher matcher = licensePlatePattern.matcher(field_val.getText());\nif (matcher.find()) {\n    String letters = matcher.group(1);\n        // This gets the part of the input that matches the first parenthesized\n        // part of the pattern (in this case, the only parenthesized part)\n    if (letters.compareTo(\"aaa\") &gt;= 0 &amp;&amp; letters.compareTo(\"afz\") &lt;= 0) then {\n        res.setText(\" Your State is  Aguascalientes\");\n    } else if (letters.compareTo(\"aga\") &gt;= 0 &amp;&amp; letters.compareTo(\"cyz\") &lt;= 0) then {\n        res.setText(\" Your State is  Baja\");\n    } else if (letters.compareTo(\"cza\") &gt;= 0 &amp;&amp; letters.compareTo(\"dez\") &lt;= 0) then {\n        res.setText(\" Your State is  Baja Sur\");\n</code></pre>\n\n<p>and so on.  This is a lot easier to understand than having 31 complex patterns.  Even better would be to put the information for the states in an array, like</p>\n\n<pre><code>public class StateInfo {\n    private String name;\n    private String lowestThreeLetters;\n    private String highestThreeLetters;\n    // constructor, getters -- I'll let you figure out how to write these\n}\n\n// in some other class:\npublic static final StateInfo[] stateInfo = new StateInfo[] {\n    new StateInfo(\"Aguascalientes\", \"aaa\", \"afz\"),\n    new StateInfo(\"Baja\", \"aga\", \"cyz\"),\n    new StateInfo(\"Baja Sur\", \"cza\", \"dez\"),\n    ... };\n</code></pre>\n\n<p>and instead of 31 <code>if</code> statements, you can loop through the array:</p>\n\n<pre><code>    String letters = matcher.group(1);\n    for (StateInfo s : stateInfo) {\n        if (letters.compareTo(s.getLowestThreeLetters()) &gt;= 0 &amp;&amp;\n            letters.compareTo(s.getHighestThreeLetters()) &lt;= 0) { \n            res.setText(\" Your State is  \" + s.getName());\n            break;\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":9983051,"reputation":61,"user_id":7385309,"accept_rate":40,"display_name":"BlazePage001"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1693129687,"creation_date":1509163338,"question_id":46986107,"body_markdown":"I&#39;m making a program that validates license plates for 31 States, each have different format and go from certain values also they should not include the letters I,O or Q in any of the license plates, here are the formats:\r\n\r\n    AGUASCALIENTES --from AAA-0001 to AFZ- 9999 \r\n    \r\n    BAJA CALIFORNIA-- from AGA-0001 to CYZ-9999 \r\n    \r\n    BAJA CALIFORNIA SUR-- from  CZA-0001 to DEZ-9999 \r\n    \r\n    CAMPECHE --\tfrom DFA-0001 to DKZ-9999 \r\n    \r\n    CHIAPAS --\tfrom DLA-0001 to DSZ-9999 \r\n    \r\n    CHIHUAHUA -- from\tDTA-0001 to\tETZ-9999 \r\n    \r\n    COAHUILA -- from EUA-0001 to FPZ-9999 \r\n    \r\n    COLIMA --\tfrom FRA-0001 to FWZ-9999 \r\n    \r\n    DURANGO -- from\tFXA-0001 to\tGFZ-9999 \r\n    \r\n    STATE OF MEXICO -- from\tLGA-0001 to\tPEZ-9999 \r\n    \r\n    GUANAJUATO -- from\tGGA-0001 to\tGYZ-9999 \r\n    \r\n    GUERRERO --\tfrom GZA-0001 to HFZ-9999 \r\n    \r\n    HIDALGO --\tfrom HGA-0001 to HRZ-9999 \r\n    \r\n    JALISCO -- from\tHSA-0001 to\tLFZ-9999 \r\n    \r\n    MICHOAC&#193;N -- from PFA-0001 \tto\tPUZ-9999 \r\n    \r\n    MORELOS --\tfrom PVA-0001 \tto\tRDZ-9999 \r\n    \r\n    NAYARIT -- from\tREA-0001 \tto\tRJZ-9999 \r\n    \r\n    NUEVO LE&#211;N -- from\tRKA-0001 \tto\tTGZ-999 \r\n    \r\n    OAXACA --\tfrom THA-0001 \tto\tTMZ-9999 \r\n    \r\n    PUEBLA--\tfrom TNA-0001 \tto\tUJZ-9999 \r\n    \r\n    QUER&#201;TARO-- from\tUKA-0001 \tto\tUPZ-9999 \r\n    \r\n    QUINTANA ROO-- from\tURA-0001 \tto\tUVZ-9999 \r\n    \r\n    SAN LUIS POTOS&#205;-- from\tUWA-0001 \tto\tVEZ-9999 \r\n    \r\n    SINALOA-- from\tVFA-0001 \tto\tVSZ-9999 \r\n    \r\n    SONORA-- from\tVTA-0001 \tto\tWKZ-9999 \r\n    \r\n    TABASCO-- from\tWLA-0001 \tto\tWWZ-9999 \r\n    \r\n    TAMAULIPAS-- from WXA-0001 \tto\tXSZ-9999 \r\n    \r\n    TLAXCALA-- from\tXTA-0001 \tto\tXXZ-9999 \r\n    \r\n    VERACRUZ-- from\tXYA-0001 \tto\tYVZ-9999 \r\n    \r\n    YUCAT&#193;N-- from\tYWA-0001 \tto\tZCZ-9999 \r\n    \r\n    ZACATECAS-- fromZDA-0001 \tto\tZHZ-9999 \r\n\r\nSo acording to the format a license plate for Campeche would go like this :\r\nDGB-5643\r\n\r\nI made these patterns\r\n\r\n       Pattern p1 = Pattern.compile(&quot;[a][a-z&amp;&amp;[^ioqghjklmnprstuvwxyz]][a-z][-]\\\\d\\\\d\\\\d\\\\d&quot;);\r\n        Matcher m1 = p1.matcher(field_val.getText()); // aguascalientes\r\n\r\n        Pattern p2 = Pattern.compile(&quot;[a|b|c][a-z&amp;&amp;[^ioqhjklmnprstuvwx]][a-z][-]\\\\d\\\\d\\\\d\\\\d&quot;);\r\n        Matcher m2 = p2.matcher(field_val.getText()); // bajac\r\n\r\n        Pattern p3 = Pattern.compile(&quot;[c|d][a-z&amp;&amp;[^ioqfghjklmnprstuvwxy]][a-z][-]\\\\d\\\\d\\\\d\\\\d&quot;);\r\n        Matcher m3 = p3.matcher(field_val.getText()); // bajasur\r\n\r\n        Pattern p4 = Pattern.compile(&quot;[d][a-z&amp;&amp;[^ioqabcdelmnprstuvwxyz]][a-z][-]\\\\d\\\\d\\\\d\\\\d&quot;);\r\n        Matcher m4 = p4.matcher(field_val.getText()); // campeche\r\n\r\n        Pattern p5 = Pattern.compile(&quot;[d][a-z&amp;&amp;[^ioqabcdefghjktuvwxyz]][a-z][-]\\\\d\\\\d\\\\d\\\\d&quot;);\r\n        Matcher m5 = p5.matcher(field_val.getText()); // chiapas\r\n\r\n        Pattern p6 = Pattern.compile(&quot;[d|e][a-z&amp;&amp;[^ioqabcdefghjklmnprsuvwxyz]][a-z][-]\\\\d\\\\d\\\\d\\\\d&quot;);\r\n        Matcher m6 = p6.matcher(field_val.getText()); // chihuahua\r\n\r\n        Pattern p7 = Pattern.compile(&quot;[e|f][a-z&amp;&amp;[^ioqabcdefghjklmnvwxyz]][a-z][-]\\\\d\\\\d\\\\d\\\\d&quot;);\r\n        Matcher m7 = p7.matcher(field_val.getText()); // coahuila\r\n\r\n        Pattern p8 = Pattern.compile(&quot;[f][a-z&amp;&amp;[^ioqabcdefghjklmnpxyz]][a-z][-]\\\\d\\\\d\\\\d\\\\d&quot;);\r\n        Matcher m8 = p8.matcher(field_val.getText()); // colima\r\n\r\n        Pattern p9 = Pattern.compile(&quot;[f|g][a-z&amp;&amp;[^ioqghjklmnprstuvw]][a-z][-]\\\\d\\\\d\\\\d\\\\d&quot;);\r\n        Matcher m9 = p9.matcher(field_val.getText()); // durango\r\n\r\n        Pattern p10 = Pattern.compile(&quot;[l|m|n|p][a-z&amp;&amp;[^ioqf]][a-z][-]\\\\d\\\\d\\\\d\\\\d&quot;);\r\n        Matcher m10 = p10.matcher(field_val.getText()); // edomex\r\n\r\n        Pattern p11 = Pattern.compile(&quot;[g][a-z&amp;&amp;[^ioqabcdefz]][a-z][-]\\\\d\\\\d\\\\d\\\\d&quot;);\r\n        Matcher m11 = p11.matcher(field_val.getText()); // guanajuato\r\n\r\n        Pattern p12 = Pattern.compile(&quot;[g|h][a-z&amp;&amp;[^ioqghjklmnprstuvwxy]][a-z][-]\\\\d\\\\d\\\\d\\\\d&quot;);\r\n        Matcher m12 = p12.matcher(field_val.getText()); // guerrero\r\n\r\n        Pattern p13 = Pattern.compile(&quot;[h][a-z&amp;&amp;[^ioqabcdefstuvwxyz]][a-z][-]\\\\d\\\\d\\\\d\\\\d&quot;);\r\n        Matcher m13 = p13.matcher(field_val.getText()); // hidalgo\r\n\r\n        Pattern p14 = Pattern.compile(&quot;[h|j|k|l][a-z&amp;&amp;[^ioqabcdetuvwxyz]][a-z][-]\\\\d\\\\d\\\\d\\\\d&quot;);\r\n        Matcher m14 = p14.matcher(field_val.getText()); // jalisco\r\n\r\n        Pattern p15 = Pattern.compile(&quot;[p][a-z&amp;&amp;[^ioqabcdevwxyz]][a-z][-]\\\\d\\\\d\\\\d\\\\d&quot;);\r\n        Matcher m15 = p15.matcher(field_val.getText()); // michoacan\r\n\r\n        Pattern p16 = Pattern.compile(&quot;[p|r][a-z&amp;&amp;[^ioqefghjklmnprstu]][a-z][-]\\\\d\\\\d\\\\d\\\\d&quot;);\r\n        Matcher m16 = p16.matcher(field_val.getText()); // morelos\r\n\r\n        Pattern p17 = Pattern.compile(&quot;[r][a-z&amp;&amp;[^ioqabcdklmnprstuvwxyz]][a-z][-]\\\\d\\\\d\\\\d\\\\d&quot;);\r\n        Matcher m17 = p17.matcher(field_val.getText()); // nayarit\r\n\r\n        Pattern p18 = Pattern.compile(&quot;[r|s|t][a-z&amp;&amp;[^ioqhj]][a-z][-]\\\\d\\\\d\\\\d\\\\d&quot;);\r\n        Matcher m18 = p18.matcher(field_val.getText()); // nuevoleon\r\n\r\n        Pattern p19 = Pattern.compile(&quot;[t][a-z&amp;&amp;[^ioqabcdefgnprstuvwxyz]][a-z][-]\\\\d\\\\d\\\\d\\\\d&quot;);\r\n        Matcher m19 = p19.matcher(field_val.getText()); // oaxaca\r\n\r\n        Pattern p20 = Pattern.compile(&quot;[t|u][a-z&amp;&amp;[^ioqklm]][a-z][-]\\\\d\\\\d\\\\d\\\\d&quot;);\r\n        Matcher m20 = p20.matcher(field_val.getText()); // puebla\r\n\r\n        Pattern p21 = Pattern.compile(&quot;[u][a-z&amp;&amp;[^ioqabcdefghjrstuvwxyz]][a-z][-]\\\\d\\\\d\\\\d\\\\d&quot;);\r\n        Matcher m21 = p21.matcher(field_val.getText()); // queretaro\r\n\r\n        Pattern p22 = Pattern.compile(&quot;[u][a-z&amp;&amp;[^ioqabcdefghjklmnpwxyz]][a-z][-]\\\\d\\\\d\\\\d\\\\d&quot;);\r\n        Matcher m22 = p22.matcher(field_val.getText()); // quintanaroo\r\n\r\n        Pattern p23 = Pattern.compile(&quot;[u|v][a-z&amp;&amp;[^ioqfghjklmnprstuv]][a-z][-]\\\\d\\\\d\\\\d\\\\d&quot;);\r\n        Matcher m23 = p23.matcher(field_val.getText()); // sanluispotosi\r\n\r\n        Pattern p24 = Pattern.compile(&quot;[v][a-z&amp;&amp;[^ioqabcdetuvwxyz]][a-z][-]\\\\d\\\\d\\\\d\\\\d&quot;);\r\n        Matcher m24 = p24.matcher(field_val.getText()); // sinaloa\r\n\r\n        Pattern p25 = Pattern.compile(&quot;[v|w][a-z&amp;&amp;[^ioqlmnprs]][a-z][-]\\\\d\\\\d\\\\d\\\\d&quot;);\r\n        Matcher m25 = p25.matcher(field_val.getText()); // sonora\r\n\r\n        Pattern p26 = Pattern.compile(&quot;[w][a-z&amp;&amp;[^ioqabcdefghjkxyz]][a-z][-]\\\\d\\\\d\\\\d\\\\d&quot;);\r\n        Matcher m26 = p26.matcher(field_val.getText()); // tabasco\r\n\r\n        Pattern p27 = Pattern.compile(&quot;[w|x][a-z&amp;&amp;[^ioqtuvw]][a-z][-]\\\\d\\\\d\\\\d\\\\d&quot;);\r\n        Matcher m27 = p27.matcher(field_val.getText()); // tamaulipas\r\n\r\n        Pattern p28 = Pattern.compile(&quot;[x][a-z&amp;&amp;[^ioqabcdefghjklmnprsyz]][a-z][-]\\\\d\\\\d\\\\d\\\\d&quot;);\r\n        Matcher m28 = p28.matcher(field_val.getText()); // tlaxcala\r\n\r\n        Pattern p29 = Pattern.compile(&quot;[x][a-z&amp;&amp;[^ioqwx]][a-z][-]\\\\d\\\\d\\\\d\\\\d&quot;);\r\n        Matcher m29 = p29.matcher(field_val.getText()); // veracruz\r\n\r\n        Pattern p30 = Pattern.compile(&quot;[y|z][a-z&amp;&amp;[^ioqdefghjklmnprstuv]][a-z][-]\\\\d\\\\d\\\\d\\\\d&quot;);\r\n        Matcher m30 = p30.matcher(field_val.getText()); // yucatan\r\n\r\n        Pattern p31 = Pattern.compile(&quot;[z][a-z&amp;&amp;[^ioqabcjklmnprstuvwxy]][a-z][-]\\\\d\\\\d\\\\d\\\\d&quot;);\r\n        Matcher m31 = p31.matcher(field_val.getText()); // zacatecas\r\n\r\nI&#39;m sending the result to a `textfield` called `res`\r\n\r\nhere are the matchers \r\n\r\n     if (m1.find()) {\r\n\r\n            res.setText(&quot; Your State is  Aguascalientes&quot;);\r\n        } else if (m2.find()) {\r\n\r\n            res.setText(&quot; Your State is  Baja&quot;);\r\n        } else if (m3.find()) {\r\n\r\n            res.setText(&quot; Your State is  Baja Sur&quot;);\r\n        } else if (m4.find()) {\r\n\r\n            res.setText(&quot; Your State is  Campeche&quot;);\r\n        } else if (m5.find()) {\r\n\r\n            res.setText(&quot; Your State is  Chiapas&quot;);\r\n        } else if (m6.find()) {\r\n\r\n            res.setText(&quot; Your State is  Chihuahua&quot;);\r\n        } else if (m7.find()) {\r\n\r\n            res.setText(&quot; Your State is  Coahuila&quot;);\r\n        } else if (m8.find()) {\r\n\r\n            res.setText(&quot; Your State is  Colima&quot;);\r\n        } else if (m9.find()) {\r\n\r\n            res.setText(&quot; Your State is  Durango&quot;);\r\n        } else if (m10.find()) {\r\n\r\n            res.setText(&quot; Your State is  Edomex&quot;);\r\n        } else if (m11.find()) {\r\n\r\n            res.setText(&quot; Your State is  Guanajuato&quot;);\r\n        } else if (m12.find()) {\r\n\r\n            res.setText(&quot; Your State is  Guerrero&quot;);\r\n        } else if (m13.find()) {\r\n\r\n            res.setText(&quot; Your State is  Hidalgo&quot;);\r\n        } else if (m14.find()) {\r\n\r\n            res.setText(&quot; Your State is  Jalisco&quot;);\r\n        } else if (m15.find()) {\r\n\r\n            res.setText(&quot; Your State is  Michoacan&quot;);\r\n        } else if (m16.find()) {\r\n\r\n            res.setText(&quot; Your State is  Morelos&quot;);\r\n        } else if (m17.find()) {\r\n\r\n            res.setText(&quot; Your State is  Nayarit&quot;);\r\n        } else if (m18.find()) {\r\n\r\n            res.setText(&quot; Your State is  Nuevo Leon&quot;);\r\n        } else if (m19.find()) {\r\n\r\n            res.setText(&quot; Your State is  Oaxaca&quot;);\r\n        } else if (m20.find()) {\r\n\r\n            res.setText(&quot; Your State is  Puebla&quot;);\r\n        } else if (m21.find()) {\r\n\r\n            res.setText(&quot; Your State is  Queretaro&quot;);\r\n        } else if (m22.find()) {\r\n\r\n            res.setText(&quot; Your State is  Quintana Roo&quot;);\r\n        } else if (m23.find()) {\r\n\r\n            res.setText(&quot; Your State is  San Luis Potosi&quot;);\r\n        } else if (m24.find()) {\r\n\r\n            res.setText(&quot; Your State is  Sinaloa&quot;);\r\n        } else if (m25.find()) {\r\n\r\n            res.setText(&quot; Your State is  Sonora&quot;);\r\n        } else if (m26.find()) {\r\n\r\n            res.setText(&quot; Your State is  Tabasco&quot;);\r\n        } else if (m27.find()) {\r\n\r\n            res.setText(&quot; Your State is  Tamaulipas&quot;);\r\n        } else if (m28.find()) {\r\n\r\n            res.setText(&quot; Your State is  Tlaxcala&quot;);\r\n        } else if (m29.find()) {\r\n\r\n            res.setText(&quot; Your State is  Veracruz&quot;);\r\n        } else if (m30.find()) {\r\n\r\n            res.setText(&quot; Your State is  Yucatan&quot;);\r\n        } else if (m31.find()) {\r\n\r\n            res.setText(&quot; Your State is  Zacatecas&quot;);\r\n        }\r\n\r\nIn cases where the first Letter Repeats in two or three states i don&#39;t get the correct match for the state i want \r\n\r\nFor example i input ABH-6262 and i get `Your State is Baja California` as a result and i&#39;m expecting to get Aguascalientes \r\n\r\n","title":"Matcher not matching patterns properly","body":"<p>I'm making a program that validates license plates for 31 States, each have different format and go from certain values also they should not include the letters I,O or Q in any of the license plates, here are the formats:</p>\n\n<pre><code>AGUASCALIENTES --from AAA-0001 to AFZ- 9999 \n\nBAJA CALIFORNIA-- from AGA-0001 to CYZ-9999 \n\nBAJA CALIFORNIA SUR-- from  CZA-0001 to DEZ-9999 \n\nCAMPECHE -- from DFA-0001 to DKZ-9999 \n\nCHIAPAS --  from DLA-0001 to DSZ-9999 \n\nCHIHUAHUA -- from   DTA-0001 to ETZ-9999 \n\nCOAHUILA -- from EUA-0001 to FPZ-9999 \n\nCOLIMA --   from FRA-0001 to FWZ-9999 \n\nDURANGO -- from FXA-0001 to GFZ-9999 \n\nSTATE OF MEXICO -- from LGA-0001 to PEZ-9999 \n\nGUANAJUATO -- from  GGA-0001 to GYZ-9999 \n\nGUERRERO -- from GZA-0001 to HFZ-9999 \n\nHIDALGO --  from HGA-0001 to HRZ-9999 \n\nJALISCO -- from HSA-0001 to LFZ-9999 \n\nMICHOACÁN -- from PFA-0001  to  PUZ-9999 \n\nMORELOS --  from PVA-0001   to  RDZ-9999 \n\nNAYARIT -- from REA-0001    to  RJZ-9999 \n\nNUEVO LEÓN -- from  RKA-0001    to  TGZ-999 \n\nOAXACA --   from THA-0001   to  TMZ-9999 \n\nPUEBLA--    from TNA-0001   to  UJZ-9999 \n\nQUERÉTARO-- from    UKA-0001    to  UPZ-9999 \n\nQUINTANA ROO-- from URA-0001    to  UVZ-9999 \n\nSAN LUIS POTOSÍ-- from  UWA-0001    to  VEZ-9999 \n\nSINALOA-- from  VFA-0001    to  VSZ-9999 \n\nSONORA-- from   VTA-0001    to  WKZ-9999 \n\nTABASCO-- from  WLA-0001    to  WWZ-9999 \n\nTAMAULIPAS-- from WXA-0001  to  XSZ-9999 \n\nTLAXCALA-- from XTA-0001    to  XXZ-9999 \n\nVERACRUZ-- from XYA-0001    to  YVZ-9999 \n\nYUCATÁN-- from  YWA-0001    to  ZCZ-9999 \n\nZACATECAS-- fromZDA-0001    to  ZHZ-9999 \n</code></pre>\n\n<p>So acording to the format a license plate for Campeche would go like this :\nDGB-5643</p>\n\n<p>I made these patterns</p>\n\n<pre><code>   Pattern p1 = Pattern.compile(\"[a][a-z&amp;&amp;[^ioqghjklmnprstuvwxyz]][a-z][-]\\\\d\\\\d\\\\d\\\\d\");\n    Matcher m1 = p1.matcher(field_val.getText()); // aguascalientes\n\n    Pattern p2 = Pattern.compile(\"[a|b|c][a-z&amp;&amp;[^ioqhjklmnprstuvwx]][a-z][-]\\\\d\\\\d\\\\d\\\\d\");\n    Matcher m2 = p2.matcher(field_val.getText()); // bajac\n\n    Pattern p3 = Pattern.compile(\"[c|d][a-z&amp;&amp;[^ioqfghjklmnprstuvwxy]][a-z][-]\\\\d\\\\d\\\\d\\\\d\");\n    Matcher m3 = p3.matcher(field_val.getText()); // bajasur\n\n    Pattern p4 = Pattern.compile(\"[d][a-z&amp;&amp;[^ioqabcdelmnprstuvwxyz]][a-z][-]\\\\d\\\\d\\\\d\\\\d\");\n    Matcher m4 = p4.matcher(field_val.getText()); // campeche\n\n    Pattern p5 = Pattern.compile(\"[d][a-z&amp;&amp;[^ioqabcdefghjktuvwxyz]][a-z][-]\\\\d\\\\d\\\\d\\\\d\");\n    Matcher m5 = p5.matcher(field_val.getText()); // chiapas\n\n    Pattern p6 = Pattern.compile(\"[d|e][a-z&amp;&amp;[^ioqabcdefghjklmnprsuvwxyz]][a-z][-]\\\\d\\\\d\\\\d\\\\d\");\n    Matcher m6 = p6.matcher(field_val.getText()); // chihuahua\n\n    Pattern p7 = Pattern.compile(\"[e|f][a-z&amp;&amp;[^ioqabcdefghjklmnvwxyz]][a-z][-]\\\\d\\\\d\\\\d\\\\d\");\n    Matcher m7 = p7.matcher(field_val.getText()); // coahuila\n\n    Pattern p8 = Pattern.compile(\"[f][a-z&amp;&amp;[^ioqabcdefghjklmnpxyz]][a-z][-]\\\\d\\\\d\\\\d\\\\d\");\n    Matcher m8 = p8.matcher(field_val.getText()); // colima\n\n    Pattern p9 = Pattern.compile(\"[f|g][a-z&amp;&amp;[^ioqghjklmnprstuvw]][a-z][-]\\\\d\\\\d\\\\d\\\\d\");\n    Matcher m9 = p9.matcher(field_val.getText()); // durango\n\n    Pattern p10 = Pattern.compile(\"[l|m|n|p][a-z&amp;&amp;[^ioqf]][a-z][-]\\\\d\\\\d\\\\d\\\\d\");\n    Matcher m10 = p10.matcher(field_val.getText()); // edomex\n\n    Pattern p11 = Pattern.compile(\"[g][a-z&amp;&amp;[^ioqabcdefz]][a-z][-]\\\\d\\\\d\\\\d\\\\d\");\n    Matcher m11 = p11.matcher(field_val.getText()); // guanajuato\n\n    Pattern p12 = Pattern.compile(\"[g|h][a-z&amp;&amp;[^ioqghjklmnprstuvwxy]][a-z][-]\\\\d\\\\d\\\\d\\\\d\");\n    Matcher m12 = p12.matcher(field_val.getText()); // guerrero\n\n    Pattern p13 = Pattern.compile(\"[h][a-z&amp;&amp;[^ioqabcdefstuvwxyz]][a-z][-]\\\\d\\\\d\\\\d\\\\d\");\n    Matcher m13 = p13.matcher(field_val.getText()); // hidalgo\n\n    Pattern p14 = Pattern.compile(\"[h|j|k|l][a-z&amp;&amp;[^ioqabcdetuvwxyz]][a-z][-]\\\\d\\\\d\\\\d\\\\d\");\n    Matcher m14 = p14.matcher(field_val.getText()); // jalisco\n\n    Pattern p15 = Pattern.compile(\"[p][a-z&amp;&amp;[^ioqabcdevwxyz]][a-z][-]\\\\d\\\\d\\\\d\\\\d\");\n    Matcher m15 = p15.matcher(field_val.getText()); // michoacan\n\n    Pattern p16 = Pattern.compile(\"[p|r][a-z&amp;&amp;[^ioqefghjklmnprstu]][a-z][-]\\\\d\\\\d\\\\d\\\\d\");\n    Matcher m16 = p16.matcher(field_val.getText()); // morelos\n\n    Pattern p17 = Pattern.compile(\"[r][a-z&amp;&amp;[^ioqabcdklmnprstuvwxyz]][a-z][-]\\\\d\\\\d\\\\d\\\\d\");\n    Matcher m17 = p17.matcher(field_val.getText()); // nayarit\n\n    Pattern p18 = Pattern.compile(\"[r|s|t][a-z&amp;&amp;[^ioqhj]][a-z][-]\\\\d\\\\d\\\\d\\\\d\");\n    Matcher m18 = p18.matcher(field_val.getText()); // nuevoleon\n\n    Pattern p19 = Pattern.compile(\"[t][a-z&amp;&amp;[^ioqabcdefgnprstuvwxyz]][a-z][-]\\\\d\\\\d\\\\d\\\\d\");\n    Matcher m19 = p19.matcher(field_val.getText()); // oaxaca\n\n    Pattern p20 = Pattern.compile(\"[t|u][a-z&amp;&amp;[^ioqklm]][a-z][-]\\\\d\\\\d\\\\d\\\\d\");\n    Matcher m20 = p20.matcher(field_val.getText()); // puebla\n\n    Pattern p21 = Pattern.compile(\"[u][a-z&amp;&amp;[^ioqabcdefghjrstuvwxyz]][a-z][-]\\\\d\\\\d\\\\d\\\\d\");\n    Matcher m21 = p21.matcher(field_val.getText()); // queretaro\n\n    Pattern p22 = Pattern.compile(\"[u][a-z&amp;&amp;[^ioqabcdefghjklmnpwxyz]][a-z][-]\\\\d\\\\d\\\\d\\\\d\");\n    Matcher m22 = p22.matcher(field_val.getText()); // quintanaroo\n\n    Pattern p23 = Pattern.compile(\"[u|v][a-z&amp;&amp;[^ioqfghjklmnprstuv]][a-z][-]\\\\d\\\\d\\\\d\\\\d\");\n    Matcher m23 = p23.matcher(field_val.getText()); // sanluispotosi\n\n    Pattern p24 = Pattern.compile(\"[v][a-z&amp;&amp;[^ioqabcdetuvwxyz]][a-z][-]\\\\d\\\\d\\\\d\\\\d\");\n    Matcher m24 = p24.matcher(field_val.getText()); // sinaloa\n\n    Pattern p25 = Pattern.compile(\"[v|w][a-z&amp;&amp;[^ioqlmnprs]][a-z][-]\\\\d\\\\d\\\\d\\\\d\");\n    Matcher m25 = p25.matcher(field_val.getText()); // sonora\n\n    Pattern p26 = Pattern.compile(\"[w][a-z&amp;&amp;[^ioqabcdefghjkxyz]][a-z][-]\\\\d\\\\d\\\\d\\\\d\");\n    Matcher m26 = p26.matcher(field_val.getText()); // tabasco\n\n    Pattern p27 = Pattern.compile(\"[w|x][a-z&amp;&amp;[^ioqtuvw]][a-z][-]\\\\d\\\\d\\\\d\\\\d\");\n    Matcher m27 = p27.matcher(field_val.getText()); // tamaulipas\n\n    Pattern p28 = Pattern.compile(\"[x][a-z&amp;&amp;[^ioqabcdefghjklmnprsyz]][a-z][-]\\\\d\\\\d\\\\d\\\\d\");\n    Matcher m28 = p28.matcher(field_val.getText()); // tlaxcala\n\n    Pattern p29 = Pattern.compile(\"[x][a-z&amp;&amp;[^ioqwx]][a-z][-]\\\\d\\\\d\\\\d\\\\d\");\n    Matcher m29 = p29.matcher(field_val.getText()); // veracruz\n\n    Pattern p30 = Pattern.compile(\"[y|z][a-z&amp;&amp;[^ioqdefghjklmnprstuv]][a-z][-]\\\\d\\\\d\\\\d\\\\d\");\n    Matcher m30 = p30.matcher(field_val.getText()); // yucatan\n\n    Pattern p31 = Pattern.compile(\"[z][a-z&amp;&amp;[^ioqabcjklmnprstuvwxy]][a-z][-]\\\\d\\\\d\\\\d\\\\d\");\n    Matcher m31 = p31.matcher(field_val.getText()); // zacatecas\n</code></pre>\n\n<p>I'm sending the result to a <code>textfield</code> called <code>res</code></p>\n\n<p>here are the matchers </p>\n\n<pre><code> if (m1.find()) {\n\n        res.setText(\" Your State is  Aguascalientes\");\n    } else if (m2.find()) {\n\n        res.setText(\" Your State is  Baja\");\n    } else if (m3.find()) {\n\n        res.setText(\" Your State is  Baja Sur\");\n    } else if (m4.find()) {\n\n        res.setText(\" Your State is  Campeche\");\n    } else if (m5.find()) {\n\n        res.setText(\" Your State is  Chiapas\");\n    } else if (m6.find()) {\n\n        res.setText(\" Your State is  Chihuahua\");\n    } else if (m7.find()) {\n\n        res.setText(\" Your State is  Coahuila\");\n    } else if (m8.find()) {\n\n        res.setText(\" Your State is  Colima\");\n    } else if (m9.find()) {\n\n        res.setText(\" Your State is  Durango\");\n    } else if (m10.find()) {\n\n        res.setText(\" Your State is  Edomex\");\n    } else if (m11.find()) {\n\n        res.setText(\" Your State is  Guanajuato\");\n    } else if (m12.find()) {\n\n        res.setText(\" Your State is  Guerrero\");\n    } else if (m13.find()) {\n\n        res.setText(\" Your State is  Hidalgo\");\n    } else if (m14.find()) {\n\n        res.setText(\" Your State is  Jalisco\");\n    } else if (m15.find()) {\n\n        res.setText(\" Your State is  Michoacan\");\n    } else if (m16.find()) {\n\n        res.setText(\" Your State is  Morelos\");\n    } else if (m17.find()) {\n\n        res.setText(\" Your State is  Nayarit\");\n    } else if (m18.find()) {\n\n        res.setText(\" Your State is  Nuevo Leon\");\n    } else if (m19.find()) {\n\n        res.setText(\" Your State is  Oaxaca\");\n    } else if (m20.find()) {\n\n        res.setText(\" Your State is  Puebla\");\n    } else if (m21.find()) {\n\n        res.setText(\" Your State is  Queretaro\");\n    } else if (m22.find()) {\n\n        res.setText(\" Your State is  Quintana Roo\");\n    } else if (m23.find()) {\n\n        res.setText(\" Your State is  San Luis Potosi\");\n    } else if (m24.find()) {\n\n        res.setText(\" Your State is  Sinaloa\");\n    } else if (m25.find()) {\n\n        res.setText(\" Your State is  Sonora\");\n    } else if (m26.find()) {\n\n        res.setText(\" Your State is  Tabasco\");\n    } else if (m27.find()) {\n\n        res.setText(\" Your State is  Tamaulipas\");\n    } else if (m28.find()) {\n\n        res.setText(\" Your State is  Tlaxcala\");\n    } else if (m29.find()) {\n\n        res.setText(\" Your State is  Veracruz\");\n    } else if (m30.find()) {\n\n        res.setText(\" Your State is  Yucatan\");\n    } else if (m31.find()) {\n\n        res.setText(\" Your State is  Zacatecas\");\n    }\n</code></pre>\n\n<p>In cases where the first Letter Repeats in two or three states i don't get the correct match for the state i want </p>\n\n<p>For example i input ABH-6262 and i get <code>Your State is Baja California</code> as a result and i'm expecting to get Aguascalientes </p>\n"},{"tags":["java","regex","parsing"],"comments":[{"owner":{"account_id":1575780,"reputation":10830,"user_id":1462282,"accept_rate":100,"display_name":"Sahil Chhabra"},"score":0,"creation_date":1508158312,"post_id":46770728,"comment_id":80486907,"body_markdown":"Do you want to validate whether input string should match this pattern?","body":"Do you want to validate whether input string should match this pattern?"},{"owner":{"account_id":8261568,"reputation":39,"user_id":6212764,"accept_rate":40,"display_name":"primož perušek"},"score":0,"creation_date":1508158451,"post_id":46770728,"comment_id":80487013,"body_markdown":"the main thing is that I parse out all the elements","body":"the main thing is that I parse out all the elements"},{"owner":{"account_id":5531638,"reputation":14395,"user_id":4391450,"display_name":"AxelH"},"score":0,"creation_date":1508159202,"post_id":46770728,"comment_id":80487539,"body_markdown":"But what have you tried ? Are you able to use a matcher, have you define the regex ? Or are you hoping for us to do it ?","body":"But what have you tried ? Are you able to use a matcher, have you define the regex ? Or are you hoping for us to do it ?"}],"answers":[{"tags":[],"owner":{"account_id":12004097,"reputation":31,"user_id":8782938,"display_name":"Kay Tila"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1508158528,"creation_date":1508158528,"answer_id":46770877,"question_id":46770728,"body_markdown":"This regex should do the trick:\r\n\r\n    ([a-bA-B0-9_])-([0-9]{4})-([0-9]{2})-([04]{2})-No(.+)\\.(.+)$\r\n\r\nIf you use this as pattern, each of the () signifies one part of the string you want to capture.\r\n\r\n","title":"parse filename using string [java]","body":"<p>This regex should do the trick:</p>\n\n<pre><code>([a-bA-B0-9_])-([0-9]{4})-([0-9]{2})-([04]{2})-No(.+)\\.(.+)$\n</code></pre>\n\n<p>If you use this as pattern, each of the () signifies one part of the string you want to capture.</p>\n"},{"tags":[],"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1508159180,"creation_date":1508159180,"answer_id":46771105,"question_id":46770728,"body_markdown":"This could work:\r\n\r\n    private static final Pattern PATTERN = Pattern.compile(&quot;^(.+)-([0-9]{4})-([0-9]{2})-([0-9]{2})-No(.+)\\.(.+)$&quot;);\r\n    \r\n    ...\r\n\r\n        Matcher matcher = PATTERN.matcher(string);\r\n        if (matcher.matches()) {\r\n            String name = matcher.group(1);\r\n            int year = Integer.parseInt(matcher.group(2));\r\n            int month = Integer.parseInt(matcher.group(3));\r\n            int day = Integer.parseInt(matcher.group(4));\r\n            String number = matcher.group(5);\r\n            String suffix = matcher.group(6);\r\n            System.out.println(&quot;name: &quot; + name);\r\n            System.out.println(&quot;year: &quot; + year);\r\n            System.out.println(&quot;month: &quot; + month);\r\n            System.out.println(&quot;day: &quot; + day);\r\n            System.out.println(&quot;number: &quot; + number);\r\n            System.out.println(&quot;suffix: &quot; + suffix);\r\n        } else {\r\n            // error: does not match\r\n        }\r\n\r\n\r\n","title":"parse filename using string [java]","body":"<p>This could work:</p>\n\n<pre><code>private static final Pattern PATTERN = Pattern.compile(\"^(.+)-([0-9]{4})-([0-9]{2})-([0-9]{2})-No(.+)\\.(.+)$\");\n\n...\n\n    Matcher matcher = PATTERN.matcher(string);\n    if (matcher.matches()) {\n        String name = matcher.group(1);\n        int year = Integer.parseInt(matcher.group(2));\n        int month = Integer.parseInt(matcher.group(3));\n        int day = Integer.parseInt(matcher.group(4));\n        String number = matcher.group(5);\n        String suffix = matcher.group(6);\n        System.out.println(\"name: \" + name);\n        System.out.println(\"year: \" + year);\n        System.out.println(\"month: \" + month);\n        System.out.println(\"day: \" + day);\n        System.out.println(\"number: \" + number);\n        System.out.println(\"suffix: \" + suffix);\n    } else {\n        // error: does not match\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1508159439,"creation_date":1508159439,"answer_id":46771189,"question_id":46770728,"body_markdown":"If the sequence is always the same why not simply split it using - or . like this:\r\n\r\n        String filename = &quot;Ab12_Cd9023-2000-12-04-No234.nekiRtt3434GGG&quot;;\r\n        String[] parts = filename.split(&quot;-|\\\\.&quot;);\r\n        for(String p : parts)\r\n            System.out.println(p);","title":"parse filename using string [java]","body":"<p>If the sequence is always the same why not simply split it using - or . like this:</p>\n\n<pre><code>    String filename = \"Ab12_Cd9023-2000-12-04-No234.nekiRtt3434GGG\";\n    String[] parts = filename.split(\"-|\\\\.\");\n    for(String p : parts)\n        System.out.println(p);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8261568,"reputation":39,"user_id":6212764,"accept_rate":40,"display_name":"primož perušek"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1508161383,"creation_date":1508161383,"answer_id":46771827,"question_id":46770728,"body_markdown":"This is the most nice looking solution that I found:\r\n\r\n    private static final Pattern PATTERN = Pattern.compile(&quot;^(?&lt;name&gt;\\\\w+)-&quot;\r\n    \t\t\t+ &quot;(?&lt;year&gt;\\\\d{4})-&quot;\r\n    \t\t\t+ &quot;(?&lt;month&gt;\\\\d{2})-&quot;\r\n    \t\t\t+ &quot;(?&lt;day&gt;\\\\d{2})-&quot;\r\n    \t\t\t+ &quot;No(?&lt;number&gt;\\\\d+).&quot;\r\n    \t\t\t+ &quot;(?&lt;suffix&gt;\\\\w+)$&quot;);\r\n\r\n    Matcher m = PATTERN.matcher(file.getName());\r\n    \t\tif(!m.matches())\r\n               //some code if the pattern doesnt match\r\n    \r\n    //this is how you acces the parsed strings:\r\n    m.group(&quot;year&quot;)\r\n\r\n\r\n","title":"parse filename using string [java]","body":"<p>This is the most nice looking solution that I found:</p>\n\n<pre><code>private static final Pattern PATTERN = Pattern.compile(\"^(?&lt;name&gt;\\\\w+)-\"\n            + \"(?&lt;year&gt;\\\\d{4})-\"\n            + \"(?&lt;month&gt;\\\\d{2})-\"\n            + \"(?&lt;day&gt;\\\\d{2})-\"\n            + \"No(?&lt;number&gt;\\\\d+).\"\n            + \"(?&lt;suffix&gt;\\\\w+)$\");\n\nMatcher m = PATTERN.matcher(file.getName());\n        if(!m.matches())\n           //some code if the pattern doesnt match\n\n//this is how you acces the parsed strings:\nm.group(\"year\")\n</code></pre>\n"}],"owner":{"account_id":8261568,"reputation":39,"user_id":6212764,"accept_rate":40,"display_name":"primož perušek"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":460,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":46771827,"answer_count":4,"score":-3,"last_activity_date":1693129680,"creation_date":1508158095,"question_id":46770728,"body_markdown":"What regex pattern do I need to parse a filename like this: `&quot;Ab12_Cd9023-2000-12-04-No234.nekiRtt3434GGG&quot;`, where the parsed elements are: `&quot;Ab12_Cd9023&quot;`(name), `&quot;2000&quot;`(year), `&quot;12&quot;`(month), `&quot;04&quot;`(day), `&quot;234&quot;`(number), `&quot;nekiRtt3434GGG&quot;`(suffix). The sequence is always the same: `name-yyyy-MM-dd-NoNN.suffix`.\r\n\r\nI want to use the `pattern` + `matcher` objects to solve that.","title":"parse filename using string [java]","body":"<p>What regex pattern do I need to parse a filename like this: <code>\"Ab12_Cd9023-2000-12-04-No234.nekiRtt3434GGG\"</code>, where the parsed elements are: <code>\"Ab12_Cd9023\"</code>(name), <code>\"2000\"</code>(year), <code>\"12\"</code>(month), <code>\"04\"</code>(day), <code>\"234\"</code>(number), <code>\"nekiRtt3434GGG\"</code>(suffix). The sequence is always the same: <code>name-yyyy-MM-dd-NoNN.suffix</code>.</p>\n\n<p>I want to use the <code>pattern</code> + <code>matcher</code> objects to solve that.</p>\n"},{"tags":["java","regex","string"],"comments":[{"owner":{"account_id":4739783,"reputation":612574,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":0,"creation_date":1506927022,"post_id":46516787,"comment_id":79995208,"body_markdown":"If you need concrete help, please ask a concrete question. Also, I think my solution is just what you need because the second regex returns the matches without spaces, and still checks for whitespace boundaries (thus, returning just 2 to 20-letter words).","body":"If you need concrete help, please ask a concrete question. Also, I think my solution is just what you need because the second regex returns the matches without spaces, and still checks for whitespace boundaries (thus, returning just 2 to 20-letter words)."}],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438169,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1506891627,"creation_date":1506891310,"answer_id":46516813,"question_id":46516787,"body_markdown":"Your pattern includes whitespace after the non-whitespace. That accounts for *both* of your questions: the space between &quot;Derek&quot; and &quot;Banas&quot; counts as part of the first match, which stops it being part of a match for &quot;Banas&quot; (because you&#39;d need another space before &quot;Banas&quot; to match).\r\n\r\nIf you change both `\\\\s` to `\\\\b` it will match a word boundary - which doesn&#39;t use the space. You then get output of:\r\n\r\n    Derek\r\n    Start Index: 1\r\n    Start Index: 6\r\n    Banas\r\n    Start Index: 7\r\n    Start Index: 12\r\n    CA\r\n    Start Index: 13\r\n    Start Index: 15\r\n    PA\r\n    Start Index: 22\r\n    Start Index: 24\r\n    johnsmith\r\n    Start Index: 39\r\n    Start Index: 48\r\n    hotmail\r\n    Start Index: 49\r\n    Start Index: 56\r\n    com\r\n    Start Index: 57\r\n    Start Index: 60\r\n\r\nAt that point you&#39;re probably getting matches you don&#39;t want though.\r\n\r\nYou could continue to capture the whitespace at the front, but remove the one at the end. A pattern like this:\r\n\r\n    regexChecker(&quot;\\\\s[A-Za-z]{2,20}&quot;, longString);\r\n\r\ngives output of:\r\n\r\n    Derek\r\n    Start Index: 0\r\n    Start Index: 6\r\n    Banas\r\n    Start Index: 6\r\n    Start Index: 12\r\n    CA\r\n    Start Index: 12\r\n    Start Index: 15\r\n    PA\r\n    Start Index: 21\r\n    Start Index: 24\r\n    johnsmith\r\n    Start Index: 38\r\n    Start Index: 48\r\n\r\n","title":"Why regex Matcher.find not showing a word which meets the criteria","body":"<p>Your pattern includes whitespace after the non-whitespace. That accounts for <em>both</em> of your questions: the space between \"Derek\" and \"Banas\" counts as part of the first match, which stops it being part of a match for \"Banas\" (because you'd need another space before \"Banas\" to match).</p>\n\n<p>If you change both <code>\\\\s</code> to <code>\\\\b</code> it will match a word boundary - which doesn't use the space. You then get output of:</p>\n\n<pre><code>Derek\nStart Index: 1\nStart Index: 6\nBanas\nStart Index: 7\nStart Index: 12\nCA\nStart Index: 13\nStart Index: 15\nPA\nStart Index: 22\nStart Index: 24\njohnsmith\nStart Index: 39\nStart Index: 48\nhotmail\nStart Index: 49\nStart Index: 56\ncom\nStart Index: 57\nStart Index: 60\n</code></pre>\n\n<p>At that point you're probably getting matches you don't want though.</p>\n\n<p>You could continue to capture the whitespace at the front, but remove the one at the end. A pattern like this:</p>\n\n<pre><code>regexChecker(\"\\\\s[A-Za-z]{2,20}\", longString);\n</code></pre>\n\n<p>gives output of:</p>\n\n<pre><code>Derek\nStart Index: 0\nStart Index: 6\nBanas\nStart Index: 6\nStart Index: 12\nCA\nStart Index: 12\nStart Index: 15\nPA\nStart Index: 21\nStart Index: 24\njohnsmith\nStart Index: 38\nStart Index: 48\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4739783,"reputation":612574,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1506891429,"creation_date":1506891429,"answer_id":46516828,"question_id":46516787,"body_markdown":"The pattern matches a whitespace, 2 to 20 ASCII letters *and a whitespace* after. That means that the end of the first match is the space after `Derek`, that is the 7th index.\r\n\r\nThat also accounts for the fact `Banas` does not match: the first match already consumed the space before `Banas`, and the first `\\s` does not match `B`, thus, `Banas` is skipped.\r\n\r\nYou need to make the last `\\s` non-consuming, use\r\n\r\n    &quot;\\\\s[A-Za-z]{2,20}(?!\\\\S)&quot;\r\n                     ^^^^^^\r\n\r\nSee the [regex demo][1].\r\n\r\nThe `(?!\\S)` negative lookahead matches a location in string that is immediately followed with either a whitespace or end of string. Note you may also use a similar &quot;trick&quot; with the first `\\s` if you turn it into a `(?&lt;!\\S)` lookbehind, `&quot;(?&lt;!\\\\S)[A-Za-z]{2,20}(?!\\\\S)&quot;`. Then, no whitespace will land inside the match value.\r\n\r\nSee [this regex demo][2].\r\n\r\nAnother way to solve the issue is by using `\\b` word boundaries that are also zero-width assertions, `&quot;\\\\b[A-Za-z]{2,20}\\\\b&quot;`.\r\n\r\n\r\n  [1]: https://regex101.com/r/bD8F58/1\r\n  [2]: https://regex101.com/r/bD8F58/2","title":"Why regex Matcher.find not showing a word which meets the criteria","body":"<p>The pattern matches a whitespace, 2 to 20 ASCII letters <em>and a whitespace</em> after. That means that the end of the first match is the space after <code>Derek</code>, that is the 7th index.</p>\n\n<p>That also accounts for the fact <code>Banas</code> does not match: the first match already consumed the space before <code>Banas</code>, and the first <code>\\s</code> does not match <code>B</code>, thus, <code>Banas</code> is skipped.</p>\n\n<p>You need to make the last <code>\\s</code> non-consuming, use</p>\n\n<pre><code>\"\\\\s[A-Za-z]{2,20}(?!\\\\S)\"\n                 ^^^^^^\n</code></pre>\n\n<p>See the <a href=\"https://regex101.com/r/bD8F58/1\" rel=\"nofollow noreferrer\">regex demo</a>.</p>\n\n<p>The <code>(?!\\S)</code> negative lookahead matches a location in string that is immediately followed with either a whitespace or end of string. Note you may also use a similar \"trick\" with the first <code>\\s</code> if you turn it into a <code>(?&lt;!\\S)</code> lookbehind, <code>\"(?&lt;!\\\\S)[A-Za-z]{2,20}(?!\\\\S)\"</code>. Then, no whitespace will land inside the match value.</p>\n\n<p>See <a href=\"https://regex101.com/r/bD8F58/2\" rel=\"nofollow noreferrer\">this regex demo</a>.</p>\n\n<p>Another way to solve the issue is by using <code>\\b</code> word boundaries that are also zero-width assertions, <code>\"\\\\b[A-Za-z]{2,20}\\\\b\"</code>.</p>\n"}],"owner":{"account_id":3291597,"reputation":133,"user_id":2769790,"accept_rate":25,"display_name":"user2769790"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":123,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1693129653,"creation_date":1506891159,"question_id":46516787,"body_markdown":"The given regex code is\r\n\r\n    import java.util.regex.*;\r\n\r\n    public class Test {\r\n        public static void main(String[] args) {\r\n            String longString = &quot; Derek Banas CA 12345 PA (412)555-1212 johnsmith@hotmail.com 412-555-1234 412 555-1234 &quot;; \r\n            regexChecker(&quot;\\\\s[A-Za-z]{2,20}\\\\s&quot;, longString);\r\n        }\r\n\r\n\t\tpublic static void regexChecker(String theRegex, String str2Check){\r\n            Pattern checkRegex = Pattern.compile(theRegex);\t\t\r\n            Matcher regexMatcher = checkRegex.matcher( str2Check );\r\n            while ( regexMatcher.find() ){\r\n                if (regexMatcher.group().length() != 0){\r\n                    System.out.println( regexMatcher.group().trim() );\r\n                    System.out.println( &quot;Start Index: &quot; + regexMatcher.start());\r\n                    System.out.println( &quot;Start Index: &quot; + regexMatcher.end());\r\n                }\r\n\t\t    }\r\n\t    }\r\n    }\r\n\r\nThe output here is \r\n\r\n    Derek\r\n    Start Index: 0\r\n    Start Index: 7\r\n    CA\r\n    Start Index: 12\r\n    Start Index: 16\r\n    PA\r\n    Start Index: 21\r\n    Start Index: 25\r\n\r\n1&gt; Why is the output of Derek is &#39;end index 7&#39; and not 6?\r\n&lt;br&gt; 2&gt; Why isn&#39;t &#39;Banas&#39; a part of the output?\r\n\r\nAny help would be appreciated.","title":"Why regex Matcher.find not showing a word which meets the criteria","body":"<p>The given regex code is</p>\n\n<pre><code>import java.util.regex.*;\n\npublic class Test {\n    public static void main(String[] args) {\n        String longString = \" Derek Banas CA 12345 PA (412)555-1212 johnsmith@hotmail.com 412-555-1234 412 555-1234 \"; \n        regexChecker(\"\\\\s[A-Za-z]{2,20}\\\\s\", longString);\n    }\n\n    public static void regexChecker(String theRegex, String str2Check){\n        Pattern checkRegex = Pattern.compile(theRegex);     \n        Matcher regexMatcher = checkRegex.matcher( str2Check );\n        while ( regexMatcher.find() ){\n            if (regexMatcher.group().length() != 0){\n                System.out.println( regexMatcher.group().trim() );\n                System.out.println( \"Start Index: \" + regexMatcher.start());\n                System.out.println( \"Start Index: \" + regexMatcher.end());\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>The output here is </p>\n\n<pre><code>Derek\nStart Index: 0\nStart Index: 7\nCA\nStart Index: 12\nStart Index: 16\nPA\nStart Index: 21\nStart Index: 25\n</code></pre>\n\n<p>1> Why is the output of Derek is 'end index 7' and not 6?\n<br> 2> Why isn't 'Banas' a part of the output?</p>\n\n<p>Any help would be appreciated.</p>\n"},{"tags":["java","regex","loops"],"comments":[{"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":2,"creation_date":1503379440,"post_id":45809436,"comment_id":78576394,"body_markdown":"Can you add a brief description of what this code is supposed to be doing?","body":"Can you add a brief description of what this code is supposed to be doing?"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1503379927,"post_id":45809436,"comment_id":78576588,"body_markdown":"Also what it&#39;s actually doing.","body":"Also what it&#39;s actually doing."},{"owner":{"account_id":4522209,"reputation":21301,"user_id":3675035,"display_name":"Blasanka"},"score":0,"creation_date":1503380053,"post_id":45809436,"comment_id":78576633,"body_markdown":"*upto its limit* ? What is the output you get and what is the output that you are expecting?","body":"<i>upto its limit</i> ? What is the output you get and what is the output that you are expecting?"},{"owner":{"account_id":11601290,"reputation":13,"user_id":8498312,"display_name":"Shubham Kumar"},"score":0,"creation_date":1503490800,"post_id":45809436,"comment_id":78636284,"body_markdown":"actually i want to run loop for n times for which i want to write something in string and using regex i want to match whether it contain integer or not.while taking n=2 i don,t able to write anything in string, means loop is not running.....","body":"actually i want to run loop for n times for which i want to write something in string and using regex i want to match whether it contain integer or not.while taking n=2 i don,t able to write anything in string, means loop is not running....."},{"owner":{"account_id":3502417,"reputation":4067,"user_id":2928880,"display_name":"JRG"},"score":0,"creation_date":1503558622,"post_id":45809436,"comment_id":78667928,"body_markdown":"@ShubhamKumar - did you try my solution?","body":"@ShubhamKumar - did you try my solution?"}],"answers":[{"tags":[],"owner":{"account_id":3502417,"reputation":4067,"user_id":2928880,"display_name":"JRG"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1503558613,"creation_date":1503381236,"answer_id":45809826,"question_id":45809436,"body_markdown":"For loop runs correctly for the no. of times i.e. n.\r\n\r\nYou should format your code, Java class name should be CamelCase and without underscore and do add System.out.println to help you understand debugging and program makes more logical sense.\r\n\r\nIt seems like your program is expecting a number for which user can enter numbers.\r\n\r\nThere are 2 arrays i.e. girl and boy. If the number is odd then then it is added to girl array and if the number is even then it is added to boy array.\r\n\r\nFinally girl array is printed.\r\n\r\n    import java.util.Scanner;\r\n    import java.util.regex.Matcher;\r\n    import java.util.regex.Pattern;\r\n    \r\n    public class StringInteger {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSystem.out.println(&quot;Enter no. of times input numbers will be given : &quot;);\r\n    \t\tScanner sc = new Scanner(System.in);\r\n    \t\tint n = sc.nextInt();\r\n    \t\tint index = 0, index1 = 0;\r\n    \t\tint girl[] = new int[1000];\r\n    \t\tint boy[] = new int[1000];\r\n    \t\tfor (int i = 1; i &lt;= n; i++) {\r\n    \t\t\tString s = sc.next();\r\n    \t\t\tPattern mypattern = Pattern.compile(&quot;[0-9]+&quot;);\r\n    \t\t\tMatcher mymatcher = mypattern.matcher(s);\r\n    \t\t\twhile (mymatcher.find()) {\r\n    \t\t\t\tif (i % 2 != 0) {\r\n    \t\t\t\t\tgirl[index] = Integer.valueOf(mymatcher.group());\r\n    \t\t\t\t\tindex++;\r\n    \t\t\t\t} else {\r\n    \t\t\t\t\tboy[index1] = Integer.valueOf(mymatcher.group());\r\n    \t\t\t\t\tindex1++;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tfor (int j = 0; j &lt; index; j++) {\r\n    \t\t\tSystem.out.print(girl[j] + &quot; &quot;);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n\r\nSample Run:\r\n\r\n    Enter no. of times input numbers will be given : \r\n    4\r\n    10\r\n    11\r\n    12\r\n    13\r\n    10 12 ","title":"java regex loop are not running properly","body":"<p>For loop runs correctly for the no. of times i.e. n.</p>\n\n<p>You should format your code, Java class name should be CamelCase and without underscore and do add System.out.println to help you understand debugging and program makes more logical sense.</p>\n\n<p>It seems like your program is expecting a number for which user can enter numbers.</p>\n\n<p>There are 2 arrays i.e. girl and boy. If the number is odd then then it is added to girl array and if the number is even then it is added to boy array.</p>\n\n<p>Finally girl array is printed.</p>\n\n<pre><code>import java.util.Scanner;\nimport java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\npublic class StringInteger {\n\n    public static void main(String[] args) {\n        System.out.println(\"Enter no. of times input numbers will be given : \");\n        Scanner sc = new Scanner(System.in);\n        int n = sc.nextInt();\n        int index = 0, index1 = 0;\n        int girl[] = new int[1000];\n        int boy[] = new int[1000];\n        for (int i = 1; i &lt;= n; i++) {\n            String s = sc.next();\n            Pattern mypattern = Pattern.compile(\"[0-9]+\");\n            Matcher mymatcher = mypattern.matcher(s);\n            while (mymatcher.find()) {\n                if (i % 2 != 0) {\n                    girl[index] = Integer.valueOf(mymatcher.group());\n                    index++;\n                } else {\n                    boy[index1] = Integer.valueOf(mymatcher.group());\n                    index1++;\n                }\n            }\n        }\n        for (int j = 0; j &lt; index; j++) {\n            System.out.print(girl[j] + \" \");\n        }\n    }\n}\n</code></pre>\n\n<p>Sample Run:</p>\n\n<pre><code>Enter no. of times input numbers will be given : \n4\n10\n11\n12\n13\n10 12 \n</code></pre>\n"}],"owner":{"account_id":11601290,"reputation":13,"user_id":8498312,"display_name":"Shubham Kumar"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":45809826,"answer_count":1,"score":0,"last_activity_date":1693129621,"creation_date":1503379306,"question_id":45809436,"body_markdown":"    import java.util.Scanner;\r\n    import java.util.regex.Matcher;\r\n    import java.util.regex.Pattern;\r\n    \r\n    public class StringInteger {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSystem.out.println(&quot;Enter no. of times input numbers will be given : &quot;);\r\n    \t\tScanner sc = new Scanner(System.in);\r\n    \t\tint n = sc.nextInt();\r\n    \t\tint index = 0, index1 = 0;\r\n    \t\tint girl[] = new int[1000];\r\n    \t\tint boy[] = new int[1000];\r\n    \t\tfor (int i = 1; i &lt;= n; i++) {\r\n    \t\t\tString s = sc.next();\r\n    \t\t\tPattern mypattern = Pattern.compile(&quot;[0-9]+&quot;);\r\n    \t\t\tMatcher mymatcher = mypattern.matcher(s);\r\n    \t\t\twhile (mymatcher.find()) {\r\n    \t\t\t\tif (i % 2 != 0) {\r\n    \t\t\t\t\tgirl[index] = Integer.valueOf(mymatcher.group());\r\n    \t\t\t\t\tindex++;\r\n    \t\t\t\t} else {\r\n    \t\t\t\t\tboy[index1] = Integer.valueOf(mymatcher.group());\r\n    \t\t\t\t\tindex1++;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tfor (int j = 0; j &lt; index; j++) {\r\n    \t\t\tSystem.out.print(girl[j] + &quot; &quot;);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nWhy loop are not running upto its limit?","title":"java regex loop are not running properly","body":"<pre><code>import java.util.Scanner;\nimport java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\npublic class StringInteger {\n\n    public static void main(String[] args) {\n        System.out.println(\"Enter no. of times input numbers will be given : \");\n        Scanner sc = new Scanner(System.in);\n        int n = sc.nextInt();\n        int index = 0, index1 = 0;\n        int girl[] = new int[1000];\n        int boy[] = new int[1000];\n        for (int i = 1; i &lt;= n; i++) {\n            String s = sc.next();\n            Pattern mypattern = Pattern.compile(\"[0-9]+\");\n            Matcher mymatcher = mypattern.matcher(s);\n            while (mymatcher.find()) {\n                if (i % 2 != 0) {\n                    girl[index] = Integer.valueOf(mymatcher.group());\n                    index++;\n                } else {\n                    boy[index1] = Integer.valueOf(mymatcher.group());\n                    index1++;\n                }\n            }\n        }\n        for (int j = 0; j &lt; index; j++) {\n            System.out.print(girl[j] + \" \");\n        }\n    }\n}\n</code></pre>\n\n<p>Why loop are not running upto its limit?</p>\n"},{"tags":["java","android","regex"],"answers":[{"tags":[],"owner":{"account_id":4739783,"reputation":612574,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1500573507,"creation_date":1500573507,"answer_id":45222025,"question_id":45221956,"body_markdown":"You need to use a non-greedy regex *and* use `while` to grab only Group 1 value:\r\n\r\n    String content = &quot;ObjectValue(Name1) ObjectValue(Name2) ObjectValue(Name3)&quot;;\r\n\tString patternString = OBJECT_VALUE+&quot;\\\\(([^()]+)\\\\)&quot;;\r\n\tPattern pattern = Pattern.compile(patternString);\r\n\tMatcher matcher = pattern.matcher(content);\r\n\twhile(matcher.find()) {\r\n\t    Log.d(&quot;Found item:&quot;, matcher.group(1));\r\n\t}\r\n\r\nSee [this Java demo][1]\r\n\r\n**Patter details**:\r\n\r\n - `\\\\(` - a literal `(`\r\n - `([^()]+)`  - Group 1 matching 1+ chars other than `(` and `)` (the one that is accessed with `matcher.group(1)`)\r\n - `\\\\)` - a literal `)`\r\n\r\nNote that `if` turned into `while`, and there is no need to loop over `matcher.groupCount()` since we know that the required value is in Group 1.\r\n\r\n  [1]: http://ideone.com/gWTWJl","title":"Matching regular expressions in Android","body":"<p>You need to use a non-greedy regex <em>and</em> use <code>while</code> to grab only Group 1 value:</p>\n\n<pre><code>String content = \"ObjectValue(Name1) ObjectValue(Name2) ObjectValue(Name3)\";\nString patternString = OBJECT_VALUE+\"\\\\(([^()]+)\\\\)\";\nPattern pattern = Pattern.compile(patternString);\nMatcher matcher = pattern.matcher(content);\nwhile(matcher.find()) {\n    Log.d(\"Found item:\", matcher.group(1));\n}\n</code></pre>\n\n<p>See <a href=\"http://ideone.com/gWTWJl\" rel=\"nofollow noreferrer\">this Java demo</a></p>\n\n<p><strong>Patter details</strong>:</p>\n\n<ul>\n<li><code>\\\\(</code> - a literal <code>(</code></li>\n<li><code>([^()]+)</code>  - Group 1 matching 1+ chars other than <code>(</code> and <code>)</code> (the one that is accessed with <code>matcher.group(1)</code>)</li>\n<li><code>\\\\)</code> - a literal <code>)</code></li>\n</ul>\n\n<p>Note that <code>if</code> turned into <code>while</code>, and there is no need to loop over <code>matcher.groupCount()</code> since we know that the required value is in Group 1.</p>\n"},{"tags":[],"owner":{"account_id":11317635,"reputation":53199,"user_id":8298909,"display_name":"Ben P."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1500573707,"creation_date":1500573707,"answer_id":45222081,"question_id":45221956,"body_markdown":"To elaborate on Wiktor&#39;s answer, there are two problems here.\r\n\r\nThe first is that, for the input string `&quot;ObjectValue(Name1) ObjectValue(Name2) ObjectValue(Name3)&quot;` and the pattern `ObjectValue\\((.+)\\)`, the `.+` can match `&quot;Name1) ObjectValue(Name2) ObjectValue(Name3&quot;`.\r\n\r\nThe second is that `matcher.group(0)` behaves a little strangely. From the documentation:\r\n\r\n&gt; Group zero denotes the entire pattern, so the expression m.group(0) is equivalent to m.group()","title":"Matching regular expressions in Android","body":"<p>To elaborate on Wiktor's answer, there are two problems here.</p>\n\n<p>The first is that, for the input string <code>\"ObjectValue(Name1) ObjectValue(Name2) ObjectValue(Name3)\"</code> and the pattern <code>ObjectValue\\((.+)\\)</code>, the <code>.+</code> can match <code>\"Name1) ObjectValue(Name2) ObjectValue(Name3\"</code>.</p>\n\n<p>The second is that <code>matcher.group(0)</code> behaves a little strangely. From the documentation:</p>\n\n<blockquote>\n  <p>Group zero denotes the entire pattern, so the expression m.group(0) is equivalent to m.group()</p>\n</blockquote>\n"}],"owner":{"account_id":6198868,"reputation":349,"user_id":4829379,"accept_rate":29,"display_name":"paola91"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":45222025,"answer_count":2,"score":1,"last_activity_date":1693129608,"creation_date":1500573292,"question_id":45221956,"body_markdown":"I want to extract specific information from a string like this:\r\n\r\n    String content = &quot;ObjectValue(Name1) ObjectValue(Name2) ObjectValue(Name3)&quot;;\r\n\r\nI want to use regular expressions in order to extract only:\r\n\r\n    Name1 Name2 Name3\r\n\r\nBut I can&#39;t succeed. Here&#39;s my code:\r\n\r\n    private static final String OBJECT_VALUE = &quot;ObjectValue&quot;;\r\n    String content = &quot;ObjectValue(Name1) ObjectValue(Name2) ObjectValue(Name3)&quot;;\r\n    String patternString = OBJECT_VALUE+&quot;\\\\((.+)\\\\)&quot;;\r\n    Pattern pattern = Pattern.compile(patternString);\r\n    Matcher matcher = pattern.matcher(content);\r\n        \r\n    if(matcher.find()) {\r\n            for (int i = 0; i &lt; matcher.groupCount(); i++) {\r\n                Log.d(&quot;Found items&quot;, matcher.group(i));\r\n            }\r\n            \r\n        }\r\n\r\nHere&#39;s the output:\r\n\r\n    Found items: ObjectValue(Name1) ObjectValue(Name2) ObjectValue(Name3)\r\n\r\nSo, first of all, I want to extract only the names, and I clearly missing something in the regex. Secondly, I want distinct elements of the group, while in the output, the group consist of a single element, is it possible?\r\n","title":"Matching regular expressions in Android","body":"<p>I want to extract specific information from a string like this:</p>\n<pre><code>String content = &quot;ObjectValue(Name1) ObjectValue(Name2) ObjectValue(Name3)&quot;;\n</code></pre>\n<p>I want to use regular expressions in order to extract only:</p>\n<pre><code>Name1 Name2 Name3\n</code></pre>\n<p>But I can't succeed. Here's my code:</p>\n<pre><code>private static final String OBJECT_VALUE = &quot;ObjectValue&quot;;\nString content = &quot;ObjectValue(Name1) ObjectValue(Name2) ObjectValue(Name3)&quot;;\nString patternString = OBJECT_VALUE+&quot;\\\\((.+)\\\\)&quot;;\nPattern pattern = Pattern.compile(patternString);\nMatcher matcher = pattern.matcher(content);\n    \nif(matcher.find()) {\n        for (int i = 0; i &lt; matcher.groupCount(); i++) {\n            Log.d(&quot;Found items&quot;, matcher.group(i));\n        }\n        \n    }\n</code></pre>\n<p>Here's the output:</p>\n<pre><code>Found items: ObjectValue(Name1) ObjectValue(Name2) ObjectValue(Name3)\n</code></pre>\n<p>So, first of all, I want to extract only the names, and I clearly missing something in the regex. Secondly, I want distinct elements of the group, while in the output, the group consist of a single element, is it possible?</p>\n"},{"tags":["java","regex"],"answers":[{"tags":[],"owner":{"account_id":4739783,"reputation":612574,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1500365809,"creation_date":1500365809,"answer_id":45161143,"question_id":45161098,"body_markdown":"You may use \r\n\r\n    String pattern = &quot;TKK_\\\\d+&quot;;\r\n\tPattern r = Pattern.compile(pattern);\r\n\tMatcher m = r.matcher(&quot;http://somewhere.com/core?item=TKK_43123&quot;);\r\n\tif (m.find()){\r\n\t\tSystem.out.println(m.group(0)); \r\n\t} \r\n    // =&gt; TKK_43123\r\n\r\nSee the [Java demo][1]\r\n\r\nThe `\\d+` will match 1 or more digits after `TKK_`.\r\n\r\nNote that using a lazily quantified pattern at the end of the string is almost never what you want because it matches the *minimal* number of chars to return a valid match. So, `.+?` at the end of the pattern will always match just 1 char. `.*?` at the end of the pattern will match an empty string.\r\n\r\nAnd surely always remember to actually *run* the *Matcher* using `.find()` or `.matches()`, otherwise, you won&#39;t be able to access any groups since no match has been found yet.\r\n\r\n  [1]: http://ideone.com/4SBE4R","title":"Using pattern/matcher to extract a substring","body":"<p>You may use </p>\n\n<pre><code>String pattern = \"TKK_\\\\d+\";\nPattern r = Pattern.compile(pattern);\nMatcher m = r.matcher(\"http://somewhere.com/core?item=TKK_43123\");\nif (m.find()){\n    System.out.println(m.group(0)); \n} \n// =&gt; TKK_43123\n</code></pre>\n\n<p>See the <a href=\"http://ideone.com/4SBE4R\" rel=\"nofollow noreferrer\">Java demo</a></p>\n\n<p>The <code>\\d+</code> will match 1 or more digits after <code>TKK_</code>.</p>\n\n<p>Note that using a lazily quantified pattern at the end of the string is almost never what you want because it matches the <em>minimal</em> number of chars to return a valid match. So, <code>.+?</code> at the end of the pattern will always match just 1 char. <code>.*?</code> at the end of the pattern will match an empty string.</p>\n\n<p>And surely always remember to actually <em>run</em> the <em>Matcher</em> using <code>.find()</code> or <code>.matches()</code>, otherwise, you won't be able to access any groups since no match has been found yet.</p>\n"}],"owner":{"account_id":459007,"reputation":23627,"user_id":859227,"accept_rate":87,"display_name":"mahmood"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":273,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":45161143,"answer_count":1,"score":0,"last_activity_date":1693129603,"creation_date":1500365691,"question_id":45161098,"body_markdown":"I want to get a substring starting with `TKK_` using regex and `matcher` in java. The string is actually a URL such as\r\n\r\n    http://somewhere.com/core?item=TKK_43123\r\n\r\nSo far, I wrote this based on this [example][1]\r\n\r\n    String pattern = &quot;TKK_.+?&quot;;\r\n    Pattern r = Pattern.compile(pattern );\r\n    Matcher m = r.matcher(url);\r\n\r\nBut printing `m.group(1)` says `No match found`. I want to get `TKK_43123`\r\n\r\n  [1]: http://tutorials.jenkov.com/java-regex/matcher.html#multiple-groups","title":"Using pattern/matcher to extract a substring","body":"<p>I want to get a substring starting with <code>TKK_</code> using regex and <code>matcher</code> in java. The string is actually a URL such as</p>\n\n<pre><code>http://somewhere.com/core?item=TKK_43123\n</code></pre>\n\n<p>So far, I wrote this based on this <a href=\"http://tutorials.jenkov.com/java-regex/matcher.html#multiple-groups\" rel=\"nofollow noreferrer\">example</a></p>\n\n<pre><code>String pattern = \"TKK_.+?\";\nPattern r = Pattern.compile(pattern );\nMatcher m = r.matcher(url);\n</code></pre>\n\n<p>But printing <code>m.group(1)</code> says <code>No match found</code>. I want to get <code>TKK_43123</code></p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":4605080,"reputation":137,"user_id":3734782,"accept_rate":100,"display_name":"user3734782"},"score":0,"creation_date":1500047280,"post_id":45106923,"comment_id":77185226,"body_markdown":"&quot;a log file and extracting certain data contained with in the file&quot; - What kind of data, what kind of log file? Post an example.","body":"&quot;a log file and extracting certain data contained with in the file&quot; - What kind of data, what kind of log file? Post an example."},{"owner":{"account_id":4060265,"reputation":375,"user_id":3337007,"accept_rate":79,"display_name":"DevRight"},"score":0,"creation_date":1500047369,"post_id":45106923,"comment_id":77185291,"body_markdown":"@user3734782150: 2017-06-14 18:02:21 INFO monitorinfo : Info: Lock VCS on node &quot;ieatrcxb4498-1&quot; this is a sample of the data from the log file.","body":"@user3734782150: 2017-06-14 18:02:21 INFO monitorinfo : Info: Lock VCS on node &quot;ieatrcxb4498-1&quot; this is a sample of the data from the log file."},{"owner":{"account_id":4605080,"reputation":137,"user_id":3734782,"accept_rate":100,"display_name":"user3734782"},"score":0,"creation_date":1500047546,"post_id":45106923,"comment_id":77185406,"body_markdown":"So you want to extract whole line containing the id ?","body":"So you want to extract whole line containing the id ?"},{"owner":{"account_id":4060265,"reputation":375,"user_id":3337007,"accept_rate":79,"display_name":"DevRight"},"score":0,"creation_date":1500047732,"post_id":45106923,"comment_id":77185525,"body_markdown":"@user3734782 no just the id it&#39;s self. Each line of the file has an id and want to take the id from each one. I have done it with the time, as shown above.","body":"@user3734782 no just the id it&#39;s self. Each line of the file has an id and want to take the id from each one. I have done it with the time, as shown above."}],"answers":[{"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1500048676,"creation_date":1500047891,"answer_id":45107205,"question_id":45106923,"body_markdown":"    public static void main(String[] args) {\r\n        String line = &quot;150: 2017-06-14 18:02:21 INFO  monitorinfo           :     Info: Lock VCS on node \\&quot;ieatrcxb4498-1\\&quot;&quot;;\r\n        String regex =&quot;ieatrcxb.*1&quot;;\r\n        Pattern p = Pattern.compile(regex);\r\n        Matcher m = p.matcher(line);\r\n        while(m.find()){\r\n            System.out.println(m.group());\r\n        }\r\n    }\r\n\r\nor if the id&#39;s are all quoted:\r\n\r\n     String id = line.substring(line.indexOf(&quot;\\&quot;&quot;), line.lastIndexOf(&quot;\\&quot;&quot;)+1);\r\n     System.out.println(id);","title":"Java Regex to extract an id string, based on recurring sub-string of each id","body":"<pre><code>public static void main(String[] args) {\n    String line = \"150: 2017-06-14 18:02:21 INFO  monitorinfo           :     Info: Lock VCS on node \\\"ieatrcxb4498-1\\\"\";\n    String regex =\"ieatrcxb.*1\";\n    Pattern p = Pattern.compile(regex);\n    Matcher m = p.matcher(line);\n    while(m.find()){\n        System.out.println(m.group());\n    }\n}\n</code></pre>\n\n<p>or if the id's are all quoted:</p>\n\n<pre><code> String id = line.substring(line.indexOf(\"\\\"\"), line.lastIndexOf(\"\\\"\")+1);\n System.out.println(id);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4605080,"reputation":137,"user_id":3734782,"accept_rate":100,"display_name":"user3734782"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1500048960,"creation_date":1500048193,"answer_id":45107276,"question_id":45106923,"body_markdown":" You are trying to do it by very difficult way. If each line of the `lock-unlock.txt` file is the same like on snippet you posted, you can do following:\r\n\r\n    File logFile = new File(&quot;lock-unlock.txt&quot;);\r\n    \r\n    List&lt;String&gt; lines = Files.readAllLines(logFile.toPath());\r\n\r\n    List&lt;Integer&gt; ids = lines.stream()\r\n                    .filter(line -&gt; line.contains(&quot;ieatrcxb&quot;))\r\n                    .map(line -&gt; line.split( &quot;\\&quot;&quot;)[1]) //&quot;ieatrcxb4498-1&quot;\r\n                    .map(line -&gt; line.replaceAll(&quot;\\\\D+&quot;,&quot;&quot;)) //&quot;44981&quot;\r\n                    .map(Integer::parseInt) // 44981\r\n                    .collect( Collectors.toList() );\r\n\r\nIf you are not looking for just the ID number, just remove/comment second and third `.map()` method call, but it will result to a List of Strings instead of Integers.","title":"Java Regex to extract an id string, based on recurring sub-string of each id","body":"<p>You are trying to do it by very difficult way. If each line of the <code>lock-unlock.txt</code> file is the same like on snippet you posted, you can do following:</p>\n\n<pre><code>File logFile = new File(\"lock-unlock.txt\");\n\nList&lt;String&gt; lines = Files.readAllLines(logFile.toPath());\n\nList&lt;Integer&gt; ids = lines.stream()\n                .filter(line -&gt; line.contains(\"ieatrcxb\"))\n                .map(line -&gt; line.split( \"\\\"\")[1]) //\"ieatrcxb4498-1\"\n                .map(line -&gt; line.replaceAll(\"\\\\D+\",\"\")) //\"44981\"\n                .map(Integer::parseInt) // 44981\n                .collect( Collectors.toList() );\n</code></pre>\n\n<p>If you are not looking for just the ID number, just remove/comment second and third <code>.map()</code> method call, but it will result to a List of Strings instead of Integers.</p>\n"},{"tags":[],"owner":{"display_name":"user7605325"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1500055046,"creation_date":1500049285,"answer_id":45107603,"question_id":45106923,"body_markdown":"Does the ID always have the format &quot;`ieatrcxb` followed by 4 digits, followed by `-`, followed by 1 digit&quot;?\r\n\r\nIf that&#39;s the case, you can do:\r\n\r\n    regexChecker(&quot;ieatrcxb\\\\d{4}-\\\\d&quot;, line);\r\n\r\nNote the `{4}` quantifier, which matches exactly 4 digits (`\\\\d`). If the last digit is always `1`, you could also use `&quot;ieatrcxb\\\\d{4}-1&quot;`.\r\n\r\nIf the number of digits vary, you can use `&quot;ieatrcxb\\\\d+-\\\\d+&quot;`, where `+` means &quot;1 or more&quot;.\r\n\r\nYou can also use the `{}` quantifier with the mininum and maximum number of occurences. Example: `&quot;ieatrcxb\\\\d{4,6}-\\\\d&quot;` - `{4,6}` means &quot;minimum of 4 and maximum of 6 occurrences&quot; (**that&#39;s just an example, I don&#39;t know if that&#39;s your case**). This is useful if you know exactly how many digits the ID can have.\r\n\r\nAll of the above work for your case, returning `ieatrcxb4498-1`. Which one to use will depend on how your input varies.\r\n\r\n---\r\nIf you want just the numbers without the `ieatrcxb` part (`4498-1`), you can use a [lookbehind regex][1]:\r\n\r\n    regexChecker(&quot;(?&lt;=ieatrcxb)\\\\d{4,6}-\\\\d&quot;, line);\r\n\r\nThis makes `ieatrcxb` to not be part of the match, thus returning just `4498-1`.\r\n\r\nIf you also don&#39;t want the `-1` and just `4498`, you can combine this with a lookahead:\r\n\r\n    regexChecker(&quot;(?&lt;=ieatrcxb)\\\\d{4,6}(?=-\\\\d)&quot;, line)\r\n\r\nThis returns just `4498`.\r\n\r\n  [1]: http://www.regular-expressions.info/lookaround.html","title":"Java Regex to extract an id string, based on recurring sub-string of each id","body":"<p>Does the ID always have the format \"<code>ieatrcxb</code> followed by 4 digits, followed by <code>-</code>, followed by 1 digit\"?</p>\n\n<p>If that's the case, you can do:</p>\n\n<pre><code>regexChecker(\"ieatrcxb\\\\d{4}-\\\\d\", line);\n</code></pre>\n\n<p>Note the <code>{4}</code> quantifier, which matches exactly 4 digits (<code>\\\\d</code>). If the last digit is always <code>1</code>, you could also use <code>\"ieatrcxb\\\\d{4}-1\"</code>.</p>\n\n<p>If the number of digits vary, you can use <code>\"ieatrcxb\\\\d+-\\\\d+\"</code>, where <code>+</code> means \"1 or more\".</p>\n\n<p>You can also use the <code>{}</code> quantifier with the mininum and maximum number of occurences. Example: <code>\"ieatrcxb\\\\d{4,6}-\\\\d\"</code> - <code>{4,6}</code> means \"minimum of 4 and maximum of 6 occurrences\" (<strong>that's just an example, I don't know if that's your case</strong>). This is useful if you know exactly how many digits the ID can have.</p>\n\n<p>All of the above work for your case, returning <code>ieatrcxb4498-1</code>. Which one to use will depend on how your input varies.</p>\n\n<hr>\n\n<p>If you want just the numbers without the <code>ieatrcxb</code> part (<code>4498-1</code>), you can use a <a href=\"http://www.regular-expressions.info/lookaround.html\" rel=\"nofollow noreferrer\">lookbehind regex</a>:</p>\n\n<pre><code>regexChecker(\"(?&lt;=ieatrcxb)\\\\d{4,6}-\\\\d\", line);\n</code></pre>\n\n<p>This makes <code>ieatrcxb</code> to not be part of the match, thus returning just <code>4498-1</code>.</p>\n\n<p>If you also don't want the <code>-1</code> and just <code>4498</code>, you can combine this with a lookahead:</p>\n\n<pre><code>regexChecker(\"(?&lt;=ieatrcxb)\\\\d{4,6}(?=-\\\\d)\", line)\n</code></pre>\n\n<p>This returns just <code>4498</code>.</p>\n"}],"owner":{"account_id":4060265,"reputation":375,"user_id":3337007,"accept_rate":79,"display_name":"DevRight"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":781,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":45107603,"answer_count":3,"score":1,"last_activity_date":1693129600,"creation_date":1500046904,"question_id":45106923,"body_markdown":"I am reading in a log file and extracting certain data contained with in the file. I am able to extract the time for each line of the log file.\r\n\r\nNow I want to extract the id `&quot;ieatrcxb4498-1&quot;`. All of the id&#39;s start with the sub string `ieatrcxb`  which I have tried to query and return the full string based on it.\r\n\r\nI have tried many different suggestions from other posts. But I have been unsuccessful, with the following patterns:\r\n\r\n    (?i)\\\\b(&quot;ieatrcxb&quot;(?:.+?)?)\\\\b\r\n    (?i)\\\\b\\\\w*&quot;ieatrcxb&quot;\\\\w*\\\\b&quot;\r\n    ^.*ieatrcxb.*$ \r\n\r\nI have also tried to extract the full id based, on the String starting with `i` and finishing in `1`. As they all do.\r\n\r\n**Line of the log file**\r\n\r\n    150: 2017-06-14 18:02:21 INFO  monitorinfo           :     Info: Lock VCS on node &quot;ieatrcxb4498-1&quot;\r\n\r\n**Code**\r\n\r\n    Scanner s = new Scanner(new FileReader(new File(&quot;lock-unlock.txt&quot;)));\r\n        //Record currentRecord = null;\r\n        ArrayList&lt;Record&gt; list = new ArrayList&lt;&gt;();\r\n\r\n        while (s.hasNextLine()) {\r\n            String line = s.nextLine();\r\n\r\n            Record newRec = new Record();\r\n            // newRec.time =\r\n            newRec.time = regexChecker(&quot;([0-1]?\\\\d|2[0-3]):([0-5]?\\\\d):([0-5]?\\\\d)&quot;, line);\r\n\r\n            newRec.ID = regexChecker(&quot;^.*ieatrcxb.*$&quot;, line);\r\n\r\n            list.add(newRec);\r\n\r\n        }\r\n\r\n\r\n    public static String regexChecker(String regEx, String str2Check) {\r\n\r\n        Pattern checkRegex = Pattern.compile(regEx);\r\n        Matcher regexMatcher = checkRegex.matcher(str2Check);\r\n        String regMat = &quot;&quot;;\r\n        while(regexMatcher.find()){\r\n            if(regexMatcher.group().length() !=0)\r\n                regMat = regexMatcher.group();\r\n            }\r\n            //System.out.println(&quot;Inside the &quot;+ regexMatcher.group().trim());\r\n        }\r\n\r\n         return regMat;\r\n    }\r\n\r\nI need a simple pattern which will do this for me. ","title":"Java Regex to extract an id string, based on recurring sub-string of each id","body":"<p>I am reading in a log file and extracting certain data contained with in the file. I am able to extract the time for each line of the log file.</p>\n\n<p>Now I want to extract the id <code>\"ieatrcxb4498-1\"</code>. All of the id's start with the sub string <code>ieatrcxb</code>  which I have tried to query and return the full string based on it.</p>\n\n<p>I have tried many different suggestions from other posts. But I have been unsuccessful, with the following patterns:</p>\n\n<pre><code>(?i)\\\\b(\"ieatrcxb\"(?:.+?)?)\\\\b\n(?i)\\\\b\\\\w*\"ieatrcxb\"\\\\w*\\\\b\"\n^.*ieatrcxb.*$ \n</code></pre>\n\n<p>I have also tried to extract the full id based, on the String starting with <code>i</code> and finishing in <code>1</code>. As they all do.</p>\n\n<p><strong>Line of the log file</strong></p>\n\n<pre><code>150: 2017-06-14 18:02:21 INFO  monitorinfo           :     Info: Lock VCS on node \"ieatrcxb4498-1\"\n</code></pre>\n\n<p><strong>Code</strong></p>\n\n<pre><code>Scanner s = new Scanner(new FileReader(new File(\"lock-unlock.txt\")));\n    //Record currentRecord = null;\n    ArrayList&lt;Record&gt; list = new ArrayList&lt;&gt;();\n\n    while (s.hasNextLine()) {\n        String line = s.nextLine();\n\n        Record newRec = new Record();\n        // newRec.time =\n        newRec.time = regexChecker(\"([0-1]?\\\\d|2[0-3]):([0-5]?\\\\d):([0-5]?\\\\d)\", line);\n\n        newRec.ID = regexChecker(\"^.*ieatrcxb.*$\", line);\n\n        list.add(newRec);\n\n    }\n\n\npublic static String regexChecker(String regEx, String str2Check) {\n\n    Pattern checkRegex = Pattern.compile(regEx);\n    Matcher regexMatcher = checkRegex.matcher(str2Check);\n    String regMat = \"\";\n    while(regexMatcher.find()){\n        if(regexMatcher.group().length() !=0)\n            regMat = regexMatcher.group();\n        }\n        //System.out.println(\"Inside the \"+ regexMatcher.group().trim());\n    }\n\n     return regMat;\n}\n</code></pre>\n\n<p>I need a simple pattern which will do this for me. </p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"score":0,"creation_date":1499345445,"post_id":44948269,"comment_id":76873815,"body_markdown":"I&#39;ve add a pattern solution which allows to keep the List option to add words and do not need to add by hand the words to pattern","body":"I&#39;ve add a pattern solution which allows to keep the List option to add words and do not need to add by hand the words to pattern"}],"answers":[{"tags":[],"owner":{"account_id":2719313,"reputation":15631,"user_id":2345933,"accept_rate":84,"display_name":"Adam Siemion"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1499348867,"creation_date":1499342776,"answer_id":44948432,"question_id":44948269,"body_markdown":"    boolean containsForbiddenName = forbiddenWordList.stream()\r\n         .anyMatch(forbiddenName -&gt; name.toLowerCase()\r\n              .contains(forbiddenName.toLowerCase()));\r\n","title":"Match any word of a List/Array in a Sentence java","body":"<pre><code>boolean containsForbiddenName = forbiddenWordList.stream()\n     .anyMatch(forbiddenName -&gt; name.toLowerCase()\n          .contains(forbiddenName.toLowerCase()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1503405192,"creation_date":1499343049,"answer_id":44948523,"question_id":44948269,"body_markdown":"You can use like this : \r\n\r\n**Iteration over words** (`stream`) and returns true if any words (named `w`) match with the condition (`contains`)\r\n    \r\n\r\n    public static boolean isForbidden(String word, List&lt;String&gt; words) {\r\n         return words.stream().anyMatch(w -&gt; (word.toLowerCase().contains(w.toLowerCase())));\r\n    }\r\n\r\n\r\n----------\r\n**Using regex**, it will build the pattern itself from the `List`\r\n\r\n    public static boolean isForbidden1(String word, List&lt;String&gt; words) {\r\n         String forbiddenWordPattern = String.join(&quot;|&quot;, words);\r\n  \r\n         return Pattern.compile(forbiddenWordPattern, Pattern.CASE_INSENSITIVE)\r\n                       .matcher(word)\r\n                       .find();\r\n     }","title":"Match any word of a List/Array in a Sentence java","body":"<p>You can use like this : </p>\n\n<p><strong>Iteration over words</strong> (<code>stream</code>) and returns true if any words (named <code>w</code>) match with the condition (<code>contains</code>)</p>\n\n<pre><code>public static boolean isForbidden(String word, List&lt;String&gt; words) {\n     return words.stream().anyMatch(w -&gt; (word.toLowerCase().contains(w.toLowerCase())));\n}\n</code></pre>\n\n<hr>\n\n<p><strong>Using regex</strong>, it will build the pattern itself from the <code>List</code></p>\n\n<pre><code>public static boolean isForbidden1(String word, List&lt;String&gt; words) {\n     String forbiddenWordPattern = String.join(\"|\", words);\n\n     return Pattern.compile(forbiddenWordPattern, Pattern.CASE_INSENSITIVE)\n                   .matcher(word)\n                   .find();\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1499343220,"creation_date":1499343220,"answer_id":44948578,"question_id":44948269,"body_markdown":"The list can be expressed as a pattern:\r\n\r\n    Pattern forbiddenWordPattern\r\n            = Pattern.compile(&quot;LATE|S/O|SO|W/O|WO&quot;, Pattern.CASE_INSENSITIVE);\r\n\r\nTo test the presence of a word in a text, you would do:\r\n\r\n    boolean hasForbiddenWord = forbiddenWordPattern.matcher(text).find();\r\n\r\n","title":"Match any word of a List/Array in a Sentence java","body":"<p>The list can be expressed as a pattern:</p>\n\n<pre><code>Pattern forbiddenWordPattern\n        = Pattern.compile(\"LATE|S/O|SO|W/O|WO\", Pattern.CASE_INSENSITIVE);\n</code></pre>\n\n<p>To test the presence of a word in a text, you would do:</p>\n\n<pre><code>boolean hasForbiddenWord = forbiddenWordPattern.matcher(text).find();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11054990,"reputation":713,"user_id":8118052,"display_name":"Ofer Skulsky"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1499344730,"creation_date":1499344730,"answer_id":44949130,"question_id":44948269,"body_markdown":"1. turn the list to a string with the | delimiter\r\n\r\n    String listDelimited = String.join(&quot;|&quot;, forbiddenWordList )\r\n\r\n2. create the regex\r\n\r\n    Pattern forbiddenWordPattern\r\n            = Pattern.compile(listDelimited , Pattern.CASE_INSENSITIVE);\r\n\r\n3. test your text\r\n\r\n    boolean hasForbiddenWord = forbiddenWordPattern.matcher(text).find();\r\n\r\n(similar to the answer of @Maurice Perry)\r\n","title":"Match any word of a List/Array in a Sentence java","body":"<ol>\n<li><p>turn the list to a string with the | delimiter</p>\n\n<p>String listDelimited = String.join(\"|\", forbiddenWordList )</p></li>\n<li><p>create the regex</p>\n\n<p>Pattern forbiddenWordPattern\n        = Pattern.compile(listDelimited , Pattern.CASE_INSENSITIVE);</p></li>\n<li><p>test your text</p>\n\n<p>boolean hasForbiddenWord = forbiddenWordPattern.matcher(text).find();</p></li>\n</ol>\n\n<p>(similar to the answer of @Maurice Perry)</p>\n"},{"tags":[],"owner":{"account_id":7060641,"reputation":857,"user_id":5406023,"accept_rate":39,"display_name":"Mr. Mak"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1499591548,"creation_date":1499590497,"answer_id":44994653,"question_id":44948269,"body_markdown":"Finally I have got a Solution myself with the help all of you....\r\n\r\n        String regex = String.join(&quot;|&quot;, forbiddenWordList.stream().map(word -&gt; &quot;\\\\b&quot; + word + &quot;\\\\b&quot;).collect(Collectors.toList()));\r\n        Pattern pattern = Pattern.compile(regex, Pattern.CASE_INSENSITIVE);\r\n        System.out.println(pattern.matcher(name).find());\r\n\r\nThe word boundary (`\\\\b`) helps to find exact word, not the matched text.\r\nThanks everyone for helping.","title":"Match any word of a List/Array in a Sentence java","body":"<p>Finally I have got a Solution myself with the help all of you....</p>\n\n<pre><code>    String regex = String.join(\"|\", forbiddenWordList.stream().map(word -&gt; \"\\\\b\" + word + \"\\\\b\").collect(Collectors.toList()));\n    Pattern pattern = Pattern.compile(regex, Pattern.CASE_INSENSITIVE);\n    System.out.println(pattern.matcher(name).find());\n</code></pre>\n\n<p>The word boundary (<code>\\\\b</code>) helps to find exact word, not the matched text.\nThanks everyone for helping.</p>\n"}],"owner":{"account_id":7060641,"reputation":857,"user_id":5406023,"accept_rate":39,"display_name":"Mr. Mak"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4137,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":44994653,"answer_count":5,"score":5,"last_activity_date":1693129594,"creation_date":1499342392,"question_id":44948269,"body_markdown":"I have an `List` of word like below\r\n\r\n    List&lt;String&gt; forbiddenWordList = Arrays.asList(&quot;LATE&quot;, &quot;S/O&quot;, &quot;SO&quot;, &quot;W/O&quot;, &quot;WO&quot;);\r\n\r\n How can I understand a `String` Contains any one of the word of the `List`. like....\r\n\r\n    String name1 = &quot;Adam Smith&quot;;      // false (not found)\r\n    String name2 = &quot;Late H Milton&quot;;   // true  (found Late)\r\n    String name3 = &quot;S/O Furi Kerman&quot;; // true  (found S/O)\r\n    String name4 = &quot;Conl Faruk&quot;;      // false (not found)\r\n    String name5 = &quot;Furi Kerman WO&quot;;  // true  (found WO)\r\n\r\nRegular Expression highly appreciated.\r\n\r\n\r\n \r\n","title":"Match any word of a List/Array in a Sentence java","body":"<p>I have an <code>List</code> of word like below</p>\n\n<pre><code>List&lt;String&gt; forbiddenWordList = Arrays.asList(\"LATE\", \"S/O\", \"SO\", \"W/O\", \"WO\");\n</code></pre>\n\n<p>How can I understand a <code>String</code> Contains any one of the word of the <code>List</code>. like....</p>\n\n<pre><code>String name1 = \"Adam Smith\";      // false (not found)\nString name2 = \"Late H Milton\";   // true  (found Late)\nString name3 = \"S/O Furi Kerman\"; // true  (found S/O)\nString name4 = \"Conl Faruk\";      // false (not found)\nString name5 = \"Furi Kerman WO\";  // true  (found WO)\n</code></pre>\n\n<p>Regular Expression highly appreciated.</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":262968,"reputation":767110,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"score":0,"creation_date":1497025437,"post_id":44462374,"comment_id":75921652,"body_markdown":"What is code in `method1` and `method2` and what is input string?","body":"What is code in <code>method1</code> and <code>method2</code> and what is input string?"},{"owner":{"account_id":4739783,"reputation":612574,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":1,"creation_date":1497025875,"post_id":44462374,"comment_id":75921930,"body_markdown":"Please provide an MCVE so that we could paste the code and see how it works. Add details: 1) what is wrong, 2) what it should behave like. &quot;`\\G(?=pattern)`&quot; but it does not work&quot; is a wrong kind of feedback - why doesn&#39;t it? It matches start of  string that starts with `pattern`.","body":"Please provide an MCVE so that we could paste the code and see how it works. Add details: 1) what is wrong, 2) what it should behave like. &quot;<code>\\G(?=pattern)</code>&quot; but it does not work&quot; is a wrong kind of feedback - why doesn&#39;t it? It matches start of  string that starts with <code>pattern</code>."},{"owner":{"account_id":4544827,"reputation":1412,"user_id":3691745,"accept_rate":88,"display_name":"markbernard"},"score":0,"creation_date":1497029445,"post_id":44462374,"comment_id":75923941,"body_markdown":"Did you try `Matcher.reset()`?","body":"Did you try <code>Matcher.reset()</code>?"},{"owner":{"account_id":1224143,"reputation":1697,"user_id":1190096,"accept_rate":79,"display_name":"Cutter"},"score":0,"creation_date":1497047214,"post_id":44462374,"comment_id":75931639,"body_markdown":"I need to keep the previous state. I need to remember where the last match ended.","body":"I need to keep the previous state. I need to remember where the last match ended."}],"answers":[{"tags":[],"owner":{"account_id":1957068,"reputation":22025,"user_id":1759845,"accept_rate":65,"display_name":"BackSlash"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1497025083,"creation_date":1497025083,"answer_id":44462488,"question_id":44462374,"body_markdown":"You cannot tell the matcher not to consume the capturing group, however you can reset it to discard its internal state and start again from the beginning of the string:\r\n\r\n\r\n    Pattern p = Pattern.compile(&quot;(\\\\d)&quot;); // single digit\r\n    String myString = &quot;12345&quot;;\r\n    Matcher matcher = p.matcher(myString);\r\n    \r\n    if(matcher.find()) { // expecting 1\r\n    \tSystem.out.println(matcher.group(1));\r\n    }\r\n    if(matcher.find()) { // expecting 2\r\n    \tSystem.out.println(matcher.group(1));\r\n    }\r\n    if(matcher.find()) { // expecting 3\r\n    \tSystem.out.println(matcher.group(1));\r\n    }\r\n    matcher.reset(); // discard internal state, next find() will return 1 again\r\n    \r\n    \r\n    if(matcher.find()) { // expecting 1\r\n    \tSystem.out.println(matcher.group(1));\r\n    }\r\n\r\nOutput:\r\n\r\n    1\r\n    2\r\n    3\r\n    1\r\n\r\n[DEMO](http://ideone.com/A3mjN5)","title":"How to use find() without changing​ the Matcher&#39;s state?","body":"<p>You cannot tell the matcher not to consume the capturing group, however you can reset it to discard its internal state and start again from the beginning of the string:</p>\n\n<pre><code>Pattern p = Pattern.compile(\"(\\\\d)\"); // single digit\nString myString = \"12345\";\nMatcher matcher = p.matcher(myString);\n\nif(matcher.find()) { // expecting 1\n    System.out.println(matcher.group(1));\n}\nif(matcher.find()) { // expecting 2\n    System.out.println(matcher.group(1));\n}\nif(matcher.find()) { // expecting 3\n    System.out.println(matcher.group(1));\n}\nmatcher.reset(); // discard internal state, next find() will return 1 again\n\n\nif(matcher.find()) { // expecting 1\n    System.out.println(matcher.group(1));\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>1\n2\n3\n1\n</code></pre>\n\n<p><a href=\"http://ideone.com/A3mjN5\" rel=\"nofollow noreferrer\">DEMO</a></p>\n"}],"owner":{"account_id":1224143,"reputation":1697,"user_id":1190096,"accept_rate":79,"display_name":"Cutter"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":496,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693129590,"creation_date":1497024625,"question_id":44462374,"body_markdown":"I have the following code: \r\n\r\n    class someclass {\r\n        Pattern pattern1 = Pattern.compile(&quot;\\\\G regex1&quot;);\r\n        Pattern pattern2 = Pattern.compile(&quot;\\\\G regex2&quot;);\r\n        Matcher matcher; \r\n    \r\n        public void parse(str) { \r\n            matcher = pattern1.matcher(str);\r\n            if(matcher.find() {\r\n                method1();\r\n            }\r\n            else if(matcher.usePattern(pattern2).find())\r\n                method2();\r\n        }\r\n    }\r\n\r\nIs it possible to test for a match without consuming the capturing group? I&#39;ve tried to match against lookahead pattern `&quot;\\G(?=pattern)&quot;` but it does not work. I need the captured string both in the parent method `parse()` and in the called methods `method1()` or `method2()` ; but the called methods look for it at the matcher&#39;s input.","title":"How to use find() without changing​ the Matcher&#39;s state?","body":"<p>I have the following code: </p>\n\n<pre><code>class someclass {\n    Pattern pattern1 = Pattern.compile(\"\\\\G regex1\");\n    Pattern pattern2 = Pattern.compile(\"\\\\G regex2\");\n    Matcher matcher; \n\n    public void parse(str) { \n        matcher = pattern1.matcher(str);\n        if(matcher.find() {\n            method1();\n        }\n        else if(matcher.usePattern(pattern2).find())\n            method2();\n    }\n}\n</code></pre>\n\n<p>Is it possible to test for a match without consuming the capturing group? I've tried to match against lookahead pattern <code>\"\\G(?=pattern)\"</code> but it does not work. I need the captured string both in the parent method <code>parse()</code> and in the called methods <code>method1()</code> or <code>method2()</code> ; but the called methods look for it at the matcher's input.</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":106788,"reputation":2959,"user_id":284308,"accept_rate":95,"display_name":"Prexx"},"score":0,"creation_date":1496321118,"post_id":44307846,"comment_id":75621005,"body_markdown":"It&#39;s working here: https://regex101.com/r/1FzP14/1","body":"It&#39;s working here: <a href=\"https://regex101.com/r/1FzP14/1\" rel=\"nofollow noreferrer\">regex101.com/r/1FzP14/1</a>"},{"owner":{"account_id":88542,"reputation":7203,"user_id":244811,"display_name":"Scott Weaver"},"score":0,"creation_date":1496321256,"post_id":44307846,"comment_id":75621125,"body_markdown":"i don&#39;t think you have to escape a dash when it isn&#39;t inside a character class... also the outer parens aren&#39;t doing anything:  `-?\\\\d+(\\\\.\\\\d+)?`","body":"i don&#39;t think you have to escape a dash when it isn&#39;t inside a character class... also the outer parens aren&#39;t doing anything:  <code>-?\\\\d+(\\\\.\\\\d+)?</code>"},{"owner":{"account_id":106788,"reputation":2959,"user_id":284308,"accept_rate":95,"display_name":"Prexx"},"score":0,"creation_date":1496321386,"post_id":44307846,"comment_id":75621236,"body_markdown":"@Rims That does not match non-decimal numbers like 1, -1 ...","body":"@Rims That does not match non-decimal numbers like 1, -1 ..."},{"owner":{"account_id":88542,"reputation":7203,"user_id":244811,"display_name":"Scott Weaver"},"score":0,"creation_date":1496321399,"post_id":44307846,"comment_id":75621243,"body_markdown":"when you say &quot;ignores&quot; the minus sign, what do you mean? it either matches it or doesn&#39;t...","body":"when you say &quot;ignores&quot; the minus sign, what do you mean? it either matches it or doesn&#39;t..."},{"owner":{"account_id":4739783,"reputation":612574,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":0,"creation_date":1496322743,"post_id":44307846,"comment_id":75622287,"body_markdown":"[Your regex works well](https://regex101.com/r/LP7mFG/1).","body":"<a href=\"https://regex101.com/r/LP7mFG/1\" rel=\"nofollow noreferrer\">Your regex works well</a>."},{"owner":{"account_id":875271,"reputation":2505,"user_id":925040,"accept_rate":75,"display_name":"Alexius DIAKOGIANNIS"},"score":0,"creation_date":1496324524,"post_id":44307846,"comment_id":75623657,"body_markdown":"Check my answer, if you want to include the parenthesis use this `[(][+-]?([0-9]*[.])?[0-9]+[)]` I have provided sample code.","body":"Check my answer, if you want to include the parenthesis use this <code>[(][+-]?([0-9]*[.])?[0-9]+[)]</code> I have provided sample code."},{"owner":{"account_id":10688001,"reputation":173,"user_id":7867937,"display_name":"Michael DiCioccio"},"score":0,"creation_date":1496325560,"post_id":44307846,"comment_id":75624525,"body_markdown":"You all misunderstood. My example was just showing you guys what numbers I want to pull from a string, the parenthesis do not mean anything. I just want the number, but sometimes the number might be one of those variations. No matter the number, the negative sign is always left out. So, say the number come sin as -259.12, the pattern.compile should return -259.12, but it returns 259.12 for some reason and ignores the &quot;-&quot;.","body":"You all misunderstood. My example was just showing you guys what numbers I want to pull from a string, the parenthesis do not mean anything. I just want the number, but sometimes the number might be one of those variations. No matter the number, the negative sign is always left out. So, say the number come sin as -259.12, the pattern.compile should return -259.12, but it returns 259.12 for some reason and ignores the &quot;-&quot;."}],"answers":[{"tags":[],"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1496321737,"creation_date":1496321252,"answer_id":44307982,"question_id":44307846,"body_markdown":"Try this:\r\n\r\n    Pattern pattern1 = Pattern.compile(&quot;(-|\\\\+)?\\\\d+&quot;);\r\n    \r\nThat should match both positive and negative integer numbers.\r\n\r\nFor decimals (should match either integers or decimals):\r\n\r\n    Pattern pattern2 = Pattern.compile(&quot;(-|\\\\+)?\\\\d+((\\\\.{1}\\\\d+)?)&quot;);\r\n","title":"I want Java Pattern.compile to recognize positive or negative integers or decimals","body":"<p>Try this:</p>\n\n<pre><code>Pattern pattern1 = Pattern.compile(\"(-|\\\\+)?\\\\d+\");\n</code></pre>\n\n<p>That should match both positive and negative integer numbers.</p>\n\n<p>For decimals (should match either integers or decimals):</p>\n\n<pre><code>Pattern pattern2 = Pattern.compile(\"(-|\\\\+)?\\\\d+((\\\\.{1}\\\\d+)?)\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2063259,"reputation":12403,"user_id":1839360,"display_name":"Yan Khonski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1496322058,"creation_date":1496321485,"answer_id":44308071,"question_id":44307846,"body_markdown":"     String regex = &quot;(-)?\\\\d+([.]\\\\d+)?&quot;;\r\n\r\nWe allow one optional minus (-)? for negative numbers and one optional decimal point ([.]) followed by digits (\\\\d) for decimal numbers. \r\n\r\n     \r\n     String regex = &quot;(-)?\\\\d+([.]\\\\d+)?&quot;;\r\n     Pattern pattern = Pattern.compile(regex);\r\n     String input = &quot;-0.123&quot;;\r\n     Matcher matcher = pattern.matcher(scr);\r\n     System.out.println(matcher.matches()); //Prints true.\r\n","title":"I want Java Pattern.compile to recognize positive or negative integers or decimals","body":"<pre><code> String regex = \"(-)?\\\\d+([.]\\\\d+)?\";\n</code></pre>\n\n<p>We allow one optional minus (-)? for negative numbers and one optional decimal point ([.]) followed by digits (\\d) for decimal numbers. </p>\n\n<pre><code> String regex = \"(-)?\\\\d+([.]\\\\d+)?\";\n Pattern pattern = Pattern.compile(regex);\n String input = \"-0.123\";\n Matcher matcher = pattern.matcher(scr);\n System.out.println(matcher.matches()); //Prints true.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":875271,"reputation":2505,"user_id":925040,"accept_rate":75,"display_name":"Alexius DIAKOGIANNIS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1496324409,"creation_date":1496321531,"answer_id":44308084,"question_id":44307846,"body_markdown":"I just tested your pattern and it works fine. Maybe I didnt understand the question but here is the source code I used.\r\n\r\n    import java.util.regex.Matcher;\r\n    import java.util.regex.Pattern;\r\n    \r\n    public class Play {\r\n    \r\n        /**\r\n         * @param args the command line arguments\r\n         */\r\n        public static void main(String[] args) {\r\n            Pattern p = Pattern.compile(&quot;(\\\\-?\\\\d+(\\\\.\\\\d+)?)&quot;);\r\n    \r\n            Matcher m = p.matcher(&quot;(1) (11) (1.1) (11.11) (-1) (-11) (-1.1) (-11.11)&quot;);\r\n    \r\n            while (m.find()) {\r\n                System.out.println(&quot;Found a &quot; + m.group());\r\n            }\r\n    \r\n        }\r\n    }\r\n\r\nAnd The outcome is\r\n\r\n    run:\r\n    \r\n    Found a 1\r\n    Found a 11\r\n    Found a 1.1\r\n    Found a 11.11\r\n    Found a -1\r\n    Found a -11\r\n    Found a -1.1\r\n    Found a -11.11\r\n    BUILD SUCCESSFUL (total time: 0 seconds)\r\n\r\nIf you want to include the parenthesis as well then use this pattern\r\n`[(][+-]?([0-9]*[.])?[0-9]+[)]`","title":"I want Java Pattern.compile to recognize positive or negative integers or decimals","body":"<p>I just tested your pattern and it works fine. Maybe I didnt understand the question but here is the source code I used.</p>\n\n<pre><code>import java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\npublic class Play {\n\n    /**\n     * @param args the command line arguments\n     */\n    public static void main(String[] args) {\n        Pattern p = Pattern.compile(\"(\\\\-?\\\\d+(\\\\.\\\\d+)?)\");\n\n        Matcher m = p.matcher(\"(1) (11) (1.1) (11.11) (-1) (-11) (-1.1) (-11.11)\");\n\n        while (m.find()) {\n            System.out.println(\"Found a \" + m.group());\n        }\n\n    }\n}\n</code></pre>\n\n<p>And The outcome is</p>\n\n<pre><code>run:\n\nFound a 1\nFound a 11\nFound a 1.1\nFound a 11.11\nFound a -1\nFound a -11\nFound a -1.1\nFound a -11.11\nBUILD SUCCESSFUL (total time: 0 seconds)\n</code></pre>\n\n<p>If you want to include the parenthesis as well then use this pattern\n<code>[(][+-]?([0-9]*[.])?[0-9]+[)]</code></p>\n"},{"tags":[],"owner":{"account_id":10688001,"reputation":173,"user_id":7867937,"display_name":"Michael DiCioccio"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1496326191,"creation_date":1496326191,"answer_id":44309855,"question_id":44307846,"body_markdown":"SOLUTION: for some reason the &quot;-&quot; is not be recognized, so I tried the unicode version and regexp allows unicode by doing \\\\u2212 a.k.a. (\\\\-). This solved my issue and i have no idea why it wouldnt work before doing this.","title":"I want Java Pattern.compile to recognize positive or negative integers or decimals","body":"<p>SOLUTION: for some reason the \"-\" is not be recognized, so I tried the unicode version and regexp allows unicode by doing \\u2212 a.k.a. (\\-). This solved my issue and i have no idea why it wouldnt work before doing this.</p>\n"},{"tags":[],"owner":{"account_id":11012983,"reputation":3516,"user_id":8089674,"display_name":"Robo Mop"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1496327072,"creation_date":1496327072,"answer_id":44310183,"question_id":44307846,"body_markdown":"    Pattern p = Pattern.compile(&quot;(-?(\\\\d+(\\\\.?\\\\d+)))&quot;);\r\n    Matcher m = p.matcher(YourString);\r\n    //m.group(1);","title":"I want Java Pattern.compile to recognize positive or negative integers or decimals","body":"<pre><code>Pattern p = Pattern.compile(\"(-?(\\\\d+(\\\\.?\\\\d+)))\");\nMatcher m = p.matcher(YourString);\n//m.group(1);\n</code></pre>\n"}],"owner":{"account_id":10688001,"reputation":173,"user_id":7867937,"display_name":"Michael DiCioccio"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":896,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":5,"score":1,"last_activity_date":1693129584,"creation_date":1496320889,"question_id":44307846,"body_markdown":"In Java I want to use Pattern.compile(String regexp) to find a negative or positive integer or decimal.\r\n\r\nEx. (1) (11) (1.1) (11.11) (-1) (-11) (-1.1) (-11.11)\r\n\r\nI have found several answers online that tell me this is the correct regexp, but it ignores &quot;-&quot; sign ever single time.\r\n\r\n    Pattern pattern1 = Pattern.compile(&quot;(\\\\-?\\\\d+(\\\\.\\\\d+)?)&quot;);","title":"I want Java Pattern.compile to recognize positive or negative integers or decimals","body":"<p>In Java I want to use Pattern.compile(String regexp) to find a negative or positive integer or decimal.</p>\n\n<p>Ex. (1) (11) (1.1) (11.11) (-1) (-11) (-1.1) (-11.11)</p>\n\n<p>I have found several answers online that tell me this is the correct regexp, but it ignores \"-\" sign ever single time.</p>\n\n<pre><code>Pattern pattern1 = Pattern.compile(\"(\\\\-?\\\\d+(\\\\.\\\\d+)?)\");\n</code></pre>\n"},{"tags":["java","regex"],"answers":[{"tags":[],"owner":{"account_id":785462,"reputation":16343,"user_id":845034,"accept_rate":57,"display_name":"steffen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1494977687,"creation_date":1494977193,"answer_id":44013183,"question_id":44013152,"body_markdown":"Well you could just use [`split(String, int)`)][1] with a limit of 2. That would be most easy. If you however want to stick to your solution, you can match the first `:` instead of the last `:` by either changing the greedyness of your quantifier (`.*?`) or match everything but `:` (like `([^:]*):(.*)`).\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#split(java.lang.String,%20int)","title":"How to Let Java regex Matcher matches the delimeter","body":"<p>Well you could just use <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#split(java.lang.String,%20int)\" rel=\"nofollow noreferrer\"><code>split(String, int)</code>)</a> with a limit of 2. That would be most easy. If you however want to stick to your solution, you can match the first <code>:</code> instead of the last <code>:</code> by either changing the greedyness of your quantifier (<code>.*?</code>) or match everything but <code>:</code> (like <code>([^:]*):(.*)</code>).</p>\n"},{"tags":[],"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1494977461,"creation_date":1494977461,"answer_id":44013210,"question_id":44013152,"body_markdown":"You can make the first `*` quantifier *lazy* by adding a `?`, so the first group will be as small as possible:\r\n\r\n    Pattern.compile(&quot;(.*?):(.*)&quot;)","title":"How to Let Java regex Matcher matches the delimeter","body":"<p>You can make the first <code>*</code> quantifier <em>lazy</em> by adding a <code>?</code>, so the first group will be as small as possible:</p>\n\n<pre><code>Pattern.compile(\"(.*?):(.*)\")\n</code></pre>\n"}],"owner":{"account_id":1882632,"reputation":2126,"user_id":1702461,"accept_rate":88,"display_name":"Freya Ren"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":44013210,"answer_count":2,"score":1,"last_activity_date":1693129580,"creation_date":1494976988,"question_id":44013152,"body_markdown":"Given an error message like &quot;5 : Invalid number : 123***345&quot;\r\n\r\nI want to split the message into `error_code` and `error_text`. And in this case, I want to have `5` and `Invalid number : 123***345`.\r\n\r\nHowever, this code splits the matcher into \r\n`5 : Invalid number` and `123***345`\r\n\r\nWhich means the regex matches the last `:`.\r\n\r\n    Pattern PROCESSOR_ERROR_INFO_PATTERN_ONE = Pattern.compile(&quot;(.*):(.*)&quot;);\r\n    \r\n    Matcher matcherOne = PROCESSOR_ERROR_INFO_PATTERN_ONE.matcher(error_message);\r\n    \r\n    if (matcherOne.matches()) {\r\n          processorErrorCode = matcherOne.group(1).trim();\r\n          processorErrorMessage = matcherOne.group(2).trim();\r\n    }\r\n\r\n\r\nBy the way, there&#39;s no guarantee that the error_code is digits only. So I can&#39;t use regex like `(\\\\d+):(.*) `\r\nIs there a way I can control to match the first `:` instead of the default last `:`?\r\n\r\n","title":"How to Let Java regex Matcher matches the delimeter","body":"<p>Given an error message like \"5 : Invalid number : 123***345\"</p>\n\n<p>I want to split the message into <code>error_code</code> and <code>error_text</code>. And in this case, I want to have <code>5</code> and <code>Invalid number : 123***345</code>.</p>\n\n<p>However, this code splits the matcher into \n<code>5 : Invalid number</code> and <code>123***345</code></p>\n\n<p>Which means the regex matches the last <code>:</code>.</p>\n\n<pre><code>Pattern PROCESSOR_ERROR_INFO_PATTERN_ONE = Pattern.compile(\"(.*):(.*)\");\n\nMatcher matcherOne = PROCESSOR_ERROR_INFO_PATTERN_ONE.matcher(error_message);\n\nif (matcherOne.matches()) {\n      processorErrorCode = matcherOne.group(1).trim();\n      processorErrorMessage = matcherOne.group(2).trim();\n}\n</code></pre>\n\n<p>By the way, there's no guarantee that the error_code is digits only. So I can't use regex like <code>(\\\\d+):(.*)</code>\nIs there a way I can control to match the first <code>:</code> instead of the default last <code>:</code>?</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1494719561,"post_id":43959047,"comment_id":74949095,"body_markdown":"Best way to do this is not to use regexes.","body":"Best way to do this is not to use regexes."},{"owner":{"account_id":7916054,"reputation":85,"user_id":5978442,"accept_rate":88,"display_name":"Jinyu Wu"},"score":0,"creation_date":1494726871,"post_id":43959047,"comment_id":74950216,"body_markdown":"Can you post your solution? cuz I think using regex to do this is a bit inefficient...","body":"Can you post your solution? cuz I think using regex to do this is a bit inefficient..."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1494727485,"post_id":43959047,"comment_id":74950313,"body_markdown":"Umm ... my solution?  I&#39;m sorry but this is a Q&amp;A site not a &quot;please write code for free&quot; site.","body":"Umm ... my solution?  I&#39;m sorry but this is a Q&amp;A site not a &quot;please write code for free&quot; site."},{"owner":{"account_id":7916054,"reputation":85,"user_id":5978442,"accept_rate":88,"display_name":"Jinyu Wu"},"score":0,"creation_date":1494728871,"post_id":43959047,"comment_id":74950507,"body_markdown":"Oh ok thanks though: )","body":"Oh ok thanks though: )"}],"answers":[{"tags":[],"owner":{"account_id":7034158,"reputation":666,"user_id":6455368,"accept_rate":50,"display_name":"Max K"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1494721028,"creation_date":1494721028,"answer_id":43959198,"question_id":43959047,"body_markdown":"Here&#39;s one way to achieve your goal: (not necessarily the most efficient, but it works and is simply understood)\r\n\r\n    String source = &quot;HOW do I replace different how in the same sentence by using Matcher?&quot;;\r\n\t\tString[] split = source.replaceAll(&quot;HOW&quot;, &quot;LOL&quot;).split(&quot; &quot;);\r\n\t\tString newSource = &quot;&quot;;\r\n\t\tfor(int i = 0; i &lt; split.length; i++) {\r\n\t\t\tString at = split[i];\r\n\t\t\tif(at.equalsIgnoreCase(&quot;how&quot;))  at = &quot;lol&quot;;\r\n\t\t\tnewSource+= &quot; &quot; + at;\r\n\t\t}\r\n\t\tnewSource.substring(1, newSource.length());\r\n    //The output string is newSource\r\n\r\nReplace all uppercase, then iterate over each word and replace the remaining &quot;how&quot;s with &quot;lol&quot;. That substring at the end is simply to remove the extra space.","title":"How do I replace the same word but different case in the same sentence separately?","body":"<p>Here's one way to achieve your goal: (not necessarily the most efficient, but it works and is simply understood)</p>\n\n<pre><code>String source = \"HOW do I replace different how in the same sentence by using Matcher?\";\n    String[] split = source.replaceAll(\"HOW\", \"LOL\").split(\" \");\n    String newSource = \"\";\n    for(int i = 0; i &lt; split.length; i++) {\n        String at = split[i];\n        if(at.equalsIgnoreCase(\"how\"))  at = \"lol\";\n        newSource+= \" \" + at;\n    }\n    newSource.substring(1, newSource.length());\n//The output string is newSource\n</code></pre>\n\n<p>Replace all uppercase, then iterate over each word and replace the remaining \"how\"s with \"lol\". That substring at the end is simply to remove the extra space.</p>\n"},{"tags":[],"owner":{"account_id":7916054,"reputation":85,"user_id":5978442,"accept_rate":88,"display_name":"Jinyu Wu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1494729366,"creation_date":1494729366,"answer_id":43959849,"question_id":43959047,"body_markdown":"I came up with a really dumb solution: \r\n\r\n    String result = source;\r\n    result = result.replaceAll(old_Word, new_Word);\r\n    result = result.replaceAll(old_Word.toUpperCase(), \r\n    newWord.toUpperCase());","title":"How do I replace the same word but different case in the same sentence separately?","body":"<p>I came up with a really dumb solution: </p>\n\n<pre><code>String result = source;\nresult = result.replaceAll(old_Word, new_Word);\nresult = result.replaceAll(old_Word.toUpperCase(), \nnewWord.toUpperCase());\n</code></pre>\n"}],"owner":{"account_id":7916054,"reputation":85,"user_id":5978442,"accept_rate":88,"display_name":"Jinyu Wu"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":206,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":43959198,"answer_count":2,"score":0,"last_activity_date":1693129574,"creation_date":1494719235,"question_id":43959047,"body_markdown":"For example, replace &quot;HOW do I replace different how in the same sentence by using Matcher?&quot; with &quot;LOL do I replace different lol in the same sentence?&quot; \r\n\r\nIf HOW is all caps, replace it with LOL. Otherwise, replace it with lol.\r\n\r\nI only know how to find them:\r\n    \r\n    String source = &quot;HOW do I replace different how in the same &quot; +\r\n                    &quot;sentence by using Matcher?&quot;\r\n\r\n    Pattern pattern = Pattern.compile(how, Pattern.CASE_INSENSITIVE);\r\n        Matcher m = pattern.matcher(source);\r\n        while (m.find()) {\r\n             if(m.group.match(&quot;^[A-Z]*$&quot;))        \r\n                  System.out.println(&quot;I am uppercase&quot;);\r\n             else\r\n                  System.out.println(&quot;I am lowercase&quot;);\r\n\r\n        }\r\n\r\nBut I don&#39;t know how to replace them by using matcher and pattern.\r\n\r\n","title":"How do I replace the same word but different case in the same sentence separately?","body":"<p>For example, replace \"HOW do I replace different how in the same sentence by using Matcher?\" with \"LOL do I replace different lol in the same sentence?\" </p>\n\n<p>If HOW is all caps, replace it with LOL. Otherwise, replace it with lol.</p>\n\n<p>I only know how to find them:</p>\n\n<pre><code>String source = \"HOW do I replace different how in the same \" +\n                \"sentence by using Matcher?\"\n\nPattern pattern = Pattern.compile(how, Pattern.CASE_INSENSITIVE);\n    Matcher m = pattern.matcher(source);\n    while (m.find()) {\n         if(m.group.match(\"^[A-Z]*$\"))        \n              System.out.println(\"I am uppercase\");\n         else\n              System.out.println(\"I am lowercase\");\n\n    }\n</code></pre>\n\n<p>But I don't know how to replace them by using matcher and pattern.</p>\n"},{"tags":["java","regex","string"],"comments":[{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":0,"creation_date":1494188818,"post_id":43836300,"comment_id":74709274,"body_markdown":"what output you expect to get?","body":"what output you expect to get?"},{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":0,"creation_date":1494188859,"post_id":43836300,"comment_id":74709287,"body_markdown":"what did you mean by `but somehow it only detects the first part of the regex not the last part` ?","body":"what did you mean by <code>but somehow it only detects the first part of the regex not the last part</code> ?"},{"owner":{"account_id":5377211,"reputation":787,"user_id":4283649,"accept_rate":2,"display_name":"i_o"},"score":0,"creation_date":1494188972,"post_id":43836300,"comment_id":74709333,"body_markdown":"I expect to get the whole string. Well it only gives me back -2√3254 not the entire string, which is what I expect. @YCF_L","body":"I expect to get the whole string. Well it only gives me back -2√3254 not the entire string, which is what I expect. @YCF_L"},{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":0,"creation_date":1494189012,"post_id":43836300,"comment_id":74709345,"body_markdown":"is that all your code? what is the inputs?","body":"is that all your code? what is the inputs?"},{"owner":{"account_id":5377211,"reputation":787,"user_id":4283649,"accept_rate":2,"display_name":"i_o"},"score":0,"creation_date":1494189372,"post_id":43836300,"comment_id":74709468,"body_markdown":"the input is the string m. The regex should detect the entire string. @YCF_L","body":"the input is the string m. The regex should detect the entire string. @YCF_L"},{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":0,"creation_date":1494189443,"post_id":43836300,"comment_id":74709495,"body_markdown":"`&quot;-2√3254i/18.5&quot;.matches(&quot;-?\\\\d+(\\\\.\\\\d*)?\\\\√\\\\d+(\\\\.\\\\d*)?i\\\\/\\\\d+(\\\\.\\\\d*)?&quot;)` return `true` mean your regex is correct for this input!!","body":"<code>&quot;-2√3254i&#47;18.5&quot;.matches(&quot;-?\\\\d+(\\\\.\\\\d*)?\\\\√\\\\d+(\\\\.\\\\d*)?i\\&zwnj;&#8203;\\&#47;\\\\d+(\\\\.\\\\d*)?&quot;)</code> return <code>true</code> mean your regex is correct for this input!!"},{"owner":{"account_id":5377211,"reputation":787,"user_id":4283649,"accept_rate":2,"display_name":"i_o"},"score":0,"creation_date":1494189803,"post_id":43836300,"comment_id":74709628,"body_markdown":"with the method matches it works, but I need it to work with a matcher object so I can use matcherobject.find() method @YCF_L","body":"with the method matches it works, but I need it to work with a matcher object so I can use matcherobject.find() method @YCF_L"},{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":1,"creation_date":1494189931,"post_id":43836300,"comment_id":74709679,"body_markdown":"did you mean `String m = &quot;-2√3254i/18.5&quot;;\nString regex = &quot;-?\\\\d+(\\\\.\\\\d*)?\\\\√\\\\d+(\\\\.\\\\d*)?i+\\\\/+\\\\d+(\\\\.\\\\d*)?&quot;;\n\nPattern pattern = Pattern.compile(regex);\nMatcher matcher = pattern.matcher(m);\n\nif (matcher.find()) {\n    System.out.println(matcher.group());\n}` ?","body":"did you mean <code>String m = &quot;-2√3254i&#47;18.5&quot;; String regex = &quot;-?\\\\d+(\\\\.\\\\d*)?\\\\√\\\\d+(\\\\.\\\\d*)?i+\\\\&#47;+\\\\d+(\\\\.\\\\d*)?&quot;;  Pattern pattern = Pattern.compile(regex); Matcher matcher = pattern.matcher(m);  if (matcher.find()) {     System.out.println(matcher.group()); }</code> ?"},{"owner":{"account_id":5377211,"reputation":787,"user_id":4283649,"accept_rate":2,"display_name":"i_o"},"score":0,"creation_date":1494189965,"post_id":43836300,"comment_id":74709691,"body_markdown":"yes. that is what I mean @YCF_L","body":"yes. that is what I mean @YCF_L"},{"owner":{"account_id":5377211,"reputation":787,"user_id":4283649,"accept_rate":2,"display_name":"i_o"},"score":0,"creation_date":1494189988,"post_id":43836300,"comment_id":74709700,"body_markdown":"It is weird that it works with matches method not with find() method. I wonder why?","body":"It is weird that it works with matches method not with find() method. I wonder why?"},{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":0,"creation_date":1494190022,"post_id":43836300,"comment_id":74709717,"body_markdown":"no it work with me try to copy past my code and you will see","body":"no it work with me try to copy past my code and you will see"},{"owner":{"account_id":5377211,"reputation":787,"user_id":4283649,"accept_rate":2,"display_name":"i_o"},"score":0,"creation_date":1494190582,"post_id":43836300,"comment_id":74709886,"body_markdown":"yes I see that it works, the problem is that my regex is really composed of many regexes into one. I separate them with &quot;|&quot; symbol . Maybe one of the other regexes that makes up my regex got in the way of matching the string. I probably should use the matches method instead. @YCF_L","body":"yes I see that it works, the problem is that my regex is really composed of many regexes into one. I separate them with &quot;|&quot; symbol . Maybe one of the other regexes that makes up my regex got in the way of matching the string. I probably should use the matches method instead. @YCF_L"},{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":0,"creation_date":1494190699,"post_id":43836300,"comment_id":74709929,"body_markdown":"analyse your problem step by step, not me who down-vote your question ok :) good luck","body":"analyse your problem step by step, not me who down-vote your question ok :) good luck"},{"owner":{"account_id":5377211,"reputation":787,"user_id":4283649,"accept_rate":2,"display_name":"i_o"},"score":0,"creation_date":1494190941,"post_id":43836300,"comment_id":74709992,"body_markdown":"I know exactly what happened. I will post the solution shortly. Can you remove the down vote. @YCF_L","body":"I know exactly what happened. I will post the solution shortly. Can you remove the down vote. @YCF_L"},{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":0,"creation_date":1494190983,"post_id":43836300,"comment_id":74710006,"body_markdown":"no it is not me who down-vote your question ok here my up-vote!","body":"no it is not me who down-vote your question ok here my up-vote!"},{"owner":{"account_id":5377211,"reputation":787,"user_id":4283649,"accept_rate":2,"display_name":"i_o"},"score":0,"creation_date":1494191964,"post_id":43836300,"comment_id":74710240,"body_markdown":"I just posted my answer @YCF_L","body":"I just posted my answer @YCF_L"}],"answers":[{"tags":[],"owner":{"account_id":5377211,"reputation":787,"user_id":4283649,"accept_rate":2,"display_name":"i_o"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1494192421,"creation_date":1494191932,"answer_id":43836827,"question_id":43836300,"body_markdown":"Okay so my regex is actually composed of many regexes:\r\n\r\n    String regex = &quot;a regex | another regex | -?\\\\d+(\\\\.\\\\d*)?\\\\√\\\\d+(\\\\.\\\\d*)?\\\\i&quot; \r\n                  + &quot;|another regex | -?\\\\d+(\\\\.\\\\d*)?\\\\√\\\\d+(\\\\.\\\\d*)?i\\\\/\\\\d+ (\\\\.\\\\d*)? \r\n\r\nThe problem happens between both regexes shown. The ***first*** symbolical regex is picked up by the matcher *first*, but I really intended for the ***second*** symbolical regex to pick up my `String m = &quot;-2√32454i/18.5&quot;` \r\n\r\nIt seems the matcher exits matching when one of the boolean conditions is met. \r\nAll I had to do was rearrange the order of my regexes which make up my regex.","title":"Java Regex not working as desired","body":"<p>Okay so my regex is actually composed of many regexes:</p>\n\n<pre><code>String regex = \"a regex | another regex | -?\\\\d+(\\\\.\\\\d*)?\\\\√\\\\d+(\\\\.\\\\d*)?\\\\i\" \n              + \"|another regex | -?\\\\d+(\\\\.\\\\d*)?\\\\√\\\\d+(\\\\.\\\\d*)?i\\\\/\\\\d+ (\\\\.\\\\d*)? \n</code></pre>\n\n<p>The problem happens between both regexes shown. The <strong><em>first</em></strong> symbolical regex is picked up by the matcher <em>first</em>, but I really intended for the <strong><em>second</em></strong> symbolical regex to pick up my <code>String m = \"-2√32454i/18.5\"</code> </p>\n\n<p>It seems the matcher exits matching when one of the boolean conditions is met. \nAll I had to do was rearrange the order of my regexes which make up my regex.</p>\n"}],"owner":{"account_id":5377211,"reputation":787,"user_id":4283649,"accept_rate":2,"display_name":"i_o"},"comment_count":16,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1693217717,"answer_count":1,"score":-1,"last_activity_date":1693129459,"creation_date":1494188637,"question_id":43836300,"body_markdown":"I created this regex, but somehow it only detects the first part \r\nof the regex not the last part. I would like to know what is going on?\r\n\r\nHere&#39;s the code:\r\n\r\n    String m = -2√3254i/18.5\r\n    String regex = &quot;-?\\\\d+(\\\\.\\\\d*)?\\\\√\\\\d+(\\\\.\\\\d*)?i\\\\/\\\\d+(\\\\.\\\\d*)?&quot;\r\n\r\nI have tried many different ways, such as:\r\n\r\n    -?\\\\d+(\\\\.\\\\d*)?\\\\√\\\\d+(\\\\.\\\\d*)?i+\\\\/+\\\\d+(\\\\.\\\\d*)?\r\n    -?\\\\d+(\\\\.\\\\d*)?\\\\√\\\\d+(\\\\.\\\\d*)?i/\\\\d+(\\\\.\\\\d*)?\r\n    -?\\\\d+(\\\\.\\\\d*)?\\\\√\\\\d+(\\\\.\\\\d*)?i\\\\(\\\\/\\\\d+(\\\\.\\\\d*))?\r\n\r\nnone of them work.\r\n\r\nthe output is always\r\n\r\n    -2√3254\r\n\r\nAny suggestions,\r\n\r\nthank you\r\n    ","title":"Java Regex not working as desired","body":"<p>I created this regex, but somehow it only detects the first part \nof the regex not the last part. I would like to know what is going on?</p>\n\n<p>Here's the code:</p>\n\n<pre><code>String m = -2√3254i/18.5\nString regex = \"-?\\\\d+(\\\\.\\\\d*)?\\\\√\\\\d+(\\\\.\\\\d*)?i\\\\/\\\\d+(\\\\.\\\\d*)?\"\n</code></pre>\n\n<p>I have tried many different ways, such as:</p>\n\n<pre><code>-?\\\\d+(\\\\.\\\\d*)?\\\\√\\\\d+(\\\\.\\\\d*)?i+\\\\/+\\\\d+(\\\\.\\\\d*)?\n-?\\\\d+(\\\\.\\\\d*)?\\\\√\\\\d+(\\\\.\\\\d*)?i/\\\\d+(\\\\.\\\\d*)?\n-?\\\\d+(\\\\.\\\\d*)?\\\\√\\\\d+(\\\\.\\\\d*)?i\\\\(\\\\/\\\\d+(\\\\.\\\\d*))?\n</code></pre>\n\n<p>none of them work.</p>\n\n<p>the output is always</p>\n\n<pre><code>-2√3254\n</code></pre>\n\n<p>Any suggestions,</p>\n\n<p>thank you</p>\n"},{"tags":["java","regex","error-handling"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1493149026,"post_id":43619498,"comment_id":74287949,"body_markdown":"`\\\\]` is a literal `]`, so you never close any of the `[`s.","body":"<code>\\\\]</code> is a literal <code>]</code>, so you never close any of the <code>[</code>s."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1493149187,"post_id":43619498,"comment_id":74288041,"body_markdown":"&quot;Any idea where is the error?&quot; [index 43](http://ideone.com/8eKOPL), the end of the string.","body":"&quot;Any idea where is the error?&quot; <a href=\"http://ideone.com/8eKOPL\" rel=\"nofollow noreferrer\">index 43</a>, the end of the string."}],"answers":[{"tags":[],"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1493149117,"creation_date":1493149117,"answer_id":43619528,"question_id":43619498,"body_markdown":"To use `[^&quot;\\]` you have to use 4 `\\\\\\\\` for the backslash `\\` instead of 2 `\\\\` like this :\r\n\r\n    &quot;\\&quot;[^\\&quot;\\\\\\\\]*(?:\\\\.[^\\&quot;\\\\\\\\]*)*\\&quot;|(?&lt;=,|^)([^,]*)(?=,|$)&quot;","title":"Can&#39;t find error in Matcher, unclosed character class","body":"<p>To use <code>[^\"\\]</code> you have to use 4 <code>\\\\\\\\</code> for the backslash <code>\\</code> instead of 2 <code>\\\\</code> like this :</p>\n\n<pre><code>\"\\\"[^\\\"\\\\\\\\]*(?:\\\\.[^\\\"\\\\\\\\]*)*\\\"|(?&lt;=,|^)([^,]*)(?=,|$)\"\n</code></pre>\n"}],"owner":{"display_name":"user7128116"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":43619528,"answer_count":1,"score":0,"last_activity_date":1693129423,"creation_date":1493148960,"question_id":43619498,"body_markdown":"I&#39;m trying to match a pattern in a String, but i get the unclosed character class, this is my matcher:\r\n\r\n    Matcher d = Pattern.compile(&quot;\\&quot;[^\\&quot;\\\\]*(?:\\\\.[^\\&quot;\\\\]*)*\\&quot;|(?&lt;=,|^)([^,]*)(?=,|$)&quot;)\r\n                    .matcher(titulos);\r\n\r\nAny idea where is the error?","title":"Can&#39;t find error in Matcher, unclosed character class","body":"<p>I'm trying to match a pattern in a String, but i get the unclosed character class, this is my matcher:</p>\n\n<pre><code>Matcher d = Pattern.compile(\"\\\"[^\\\"\\\\]*(?:\\\\.[^\\\"\\\\]*)*\\\"|(?&lt;=,|^)([^,]*)(?=,|$)\")\n                .matcher(titulos);\n</code></pre>\n\n<p>Any idea where is the error?</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":4739783,"reputation":612574,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":1,"creation_date":1492157159,"post_id":43407622,"comment_id":73874606,"body_markdown":"Escape the dots in `\\d+.*\\d*` or better, use `\\d+(?:\\.\\d+)?`","body":"Escape the dots in <code>\\d+.*\\d*</code> or better, use <code>\\d+(?:\\.\\d+)?</code>"}],"answers":[{"tags":[],"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1492157372,"creation_date":1492157372,"answer_id":43407704,"question_id":43407622,"body_markdown":"Your current pattern has several problems.  As others have pointed out, your dots should be escaped with two backslashes if you intend for them to be literal dots.  I think the pattern you want to use to match a number which may or may not have a decimal component is this:\r\n\r\n    (\\\\d+(?:\\\\.\\\\d+)?)\r\n\r\nThis matches the following:\r\n\r\n    \\\\d+          one or more numbers\r\n    (?:\\\\.\\\\d+)?  followed by a decimal point and one or more numbers\r\n                  this entire quantity being optional\r\n\r\nFull code:\r\n\r\n    Pattern pattern = Pattern.compile(&quot;.*?(\\\\d+(?:\\\\.\\\\d+)?).*?-.*?(\\\\d+(?:\\\\.\\\\d+)?).*?&quot;);\r\n    Matcher matcher = pattern.matcher(&quot;13.9 mp - 14.9 mp&quot;);\r\n    while (matcher.find()) {\r\n        System.out.println(matcher.group(1));\r\n        System.out.println(matcher.group(2));\r\n    }\r\n\r\n**Output:**\r\n\r\n    13.9\r\n    14.9","title":"Java regex matcher doesn&#39;t group as expected","body":"<p>Your current pattern has several problems.  As others have pointed out, your dots should be escaped with two backslashes if you intend for them to be literal dots.  I think the pattern you want to use to match a number which may or may not have a decimal component is this:</p>\n\n<pre><code>(\\\\d+(?:\\\\.\\\\d+)?)\n</code></pre>\n\n<p>This matches the following:</p>\n\n<pre><code>\\\\d+          one or more numbers\n(?:\\\\.\\\\d+)?  followed by a decimal point and one or more numbers\n              this entire quantity being optional\n</code></pre>\n\n<p>Full code:</p>\n\n<pre><code>Pattern pattern = Pattern.compile(\".*?(\\\\d+(?:\\\\.\\\\d+)?).*?-.*?(\\\\d+(?:\\\\.\\\\d+)?).*?\");\nMatcher matcher = pattern.matcher(\"13.9 mp - 14.9 mp\");\nwhile (matcher.find()) {\n    System.out.println(matcher.group(1));\n    System.out.println(matcher.group(2));\n}\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>13.9\n14.9\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10379291,"reputation":99,"user_id":7654613,"display_name":"Mr.lin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1492157600,"creation_date":1492157600,"answer_id":43407757,"question_id":43407622,"body_markdown":"    .*?(\\d+\\.*\\d*).*?-.*?(\\d+\\.*\\d*).*?\r\n\r\n. between &#39;\\d+&#39; and &#39;*\\d*&#39; in your regex should be changed to \\\\.","title":"Java regex matcher doesn&#39;t group as expected","body":"<pre><code>.*?(\\d+\\.*\\d*).*?-.*?(\\d+\\.*\\d*).*?\n</code></pre>\n\n<p>. between '\\d+' and '<em>\\d</em>' in your regex should be changed to \\.</p>\n"}],"owner":{"account_id":2188907,"reputation":1046,"user_id":1936584,"accept_rate":76,"display_name":"Jones"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":308,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":43407704,"answer_count":2,"score":3,"last_activity_date":1693129418,"creation_date":1492156992,"question_id":43407622,"body_markdown":"I have a regex \r\n\r\n    .*?(\\\\d+.*?\\\\d*).*?-.*?(\\\\d+.*?\\\\d*).*?\r\n\r\nI want to match any string that contains a numerical value followed by &quot;-&quot; and another number. Any string can be in between. \r\n\r\nAlso, I want to be able to extract the numbers using group function of Java Matcher class.\r\n\r\n    Pattern pattern = Pattern.compile(&quot;.*?(\\\\d+.*?\\\\d*).*?-.*?(\\\\d+.*?\\\\d*).*?&quot;);\r\n    Matcher matcher = pattern.matcher(&quot;13.9 mp - 14.9 mp&quot;);\r\n    matcher.matches();\r\n    \r\nI expect this result:\r\n    \r\n    matcher.group(1) // this should be 13.9 but it is 13 instead\r\n    matcher.group(2) // this should be 14.9 but it is 14 instead\r\n\r\nAny idea what I am missing?\r\n\r\n\r\n\r\n\r\n\r\n\r\n    \r\n\r\n    ","title":"Java regex matcher doesn&#39;t group as expected","body":"<p>I have a regex </p>\n\n<pre><code>.*?(\\\\d+.*?\\\\d*).*?-.*?(\\\\d+.*?\\\\d*).*?\n</code></pre>\n\n<p>I want to match any string that contains a numerical value followed by \"-\" and another number. Any string can be in between. </p>\n\n<p>Also, I want to be able to extract the numbers using group function of Java Matcher class.</p>\n\n<pre><code>Pattern pattern = Pattern.compile(\".*?(\\\\d+.*?\\\\d*).*?-.*?(\\\\d+.*?\\\\d*).*?\");\nMatcher matcher = pattern.matcher(\"13.9 mp - 14.9 mp\");\nmatcher.matches();\n</code></pre>\n\n<p>I expect this result:</p>\n\n<pre><code>matcher.group(1) // this should be 13.9 but it is 13 instead\nmatcher.group(2) // this should be 14.9 but it is 14 instead\n</code></pre>\n\n<p>Any idea what I am missing?</p>\n"},{"tags":["java","regex","out-of-memory"],"comments":[{"owner":{"account_id":740820,"reputation":47963,"user_id":2353911,"accept_rate":100,"display_name":"Mena"},"score":0,"creation_date":1492079048,"post_id":43389660,"comment_id":73840180,"body_markdown":"You don&#39;t need regular expressions for replacing a literal. My first advice would be to try replacing without `Pattern` / `Matcher` objects. Note that `String.replace` still uses regular expressions under the hood, but also ensures your search `String` is pattern-quoted, which might improve the memory footprint.","body":"You don&#39;t need regular expressions for replacing a literal. My first advice would be to try replacing without <code>Pattern</code> / <code>Matcher</code> objects. Note that <code>String.replace</code> still uses regular expressions under the hood, but also ensures your search <code>String</code> is pattern-quoted, which might improve the memory footprint."},{"owner":{"account_id":7125304,"reputation":1015,"user_id":5448410,"accept_rate":80,"display_name":"Sanchit Khera"},"score":0,"creation_date":1492079314,"post_id":43389660,"comment_id":73840358,"body_markdown":"Hi Mena, in the code, the next line is regex = &quot;\\\\[,\\\\]&quot;; which is also replaced using Pattern/Matcher in similar way. For this I think I&#39;ll have to use Pattern/Matcher. What do you think?","body":"Hi Mena, in the code, the next line is regex = &quot;\\&#91;,\\&#93;&quot;; which is also replaced using Pattern/Matcher in similar way. For this I think I&#39;ll have to use Pattern/Matcher. What do you think?"},{"owner":{"account_id":740820,"reputation":47963,"user_id":2353911,"accept_rate":100,"display_name":"Mena"},"score":0,"creation_date":1492079402,"post_id":43389660,"comment_id":73840411,"body_markdown":"well that seems to be a literal too, for `&quot;[,]&quot;`, since you&#39;re escaping the square brackets.","body":"well that seems to be a literal too, for <code>&quot;[,]&quot;</code>, since you&#39;re escaping the square brackets."}],"answers":[{"tags":[],"owner":{"account_id":10347632,"reputation":632,"user_id":7632058,"display_name":"Boschi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1492079801,"creation_date":1492079801,"answer_id":43389992,"question_id":43389660,"body_markdown":"Some alternatives you could try:\r\n\r\n1 - Increase the memory (using -Xmx in the command line)\r\n\r\n2 - Break the String into smaller chunks, analyze the chunks, and do not forget to check if the ending of a chunk plus the beginning of the next contain the pattern.\r\n\r\nThis will help you to &quot;tame&quot; the memory usage.","title":"OutOfMemoryError Matcher.replaceAll","body":"<p>Some alternatives you could try:</p>\n\n<p>1 - Increase the memory (using -Xmx in the command line)</p>\n\n<p>2 - Break the String into smaller chunks, analyze the chunks, and do not forget to check if the ending of a chunk plus the beginning of the next contain the pattern.</p>\n\n<p>This will help you to \"tame\" the memory usage.</p>\n"},{"tags":[],"owner":{"account_id":3814449,"reputation":2515,"user_id":3164160,"display_name":"Subodh Karwa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1492081767,"creation_date":1492081767,"answer_id":43390668,"question_id":43389660,"body_markdown":"Incresing heap is one the of the solutions.\r\nIt would depend on the Java Version you are using.\r\n\r\n1. If you are using Java6 or older versions, Strings are a part of PermGen Area and can be increased by XX:MaxPermSize=N\r\n\r\n2. If you are using Java 7 or Java 8 , simply bumping  (-Xmx) should help.\r\n\r\nIf you still face issues post that, following link http://www.wikiconsole.com/analyzing-out-of-memory-situations/ should help","title":"OutOfMemoryError Matcher.replaceAll","body":"<p>Incresing heap is one the of the solutions.\nIt would depend on the Java Version you are using.</p>\n\n<ol>\n<li><p>If you are using Java6 or older versions, Strings are a part of PermGen Area and can be increased by XX:MaxPermSize=N</p></li>\n<li><p>If you are using Java 7 or Java 8 , simply bumping  (-Xmx) should help.</p></li>\n</ol>\n\n<p>If you still face issues post that, following link <a href=\"http://www.wikiconsole.com/analyzing-out-of-memory-situations/\" rel=\"nofollow noreferrer\">http://www.wikiconsole.com/analyzing-out-of-memory-situations/</a> should help</p>\n"}],"owner":{"account_id":7125304,"reputation":1015,"user_id":5448410,"accept_rate":80,"display_name":"Sanchit Khera"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":365,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1693129414,"creation_date":1492078903,"question_id":43389660,"body_markdown":"In the following code, I&#39;m getting an OutOfMemoryError\r\n\r\n    String resultStr = json.format(obj);\r\n    String regex = &quot;null&quot;;\r\n    Pattern p = Pattern.compile(regex);\r\n    Matcher m = p.matcher(resultStr);\r\n    resultStr = m.replaceAll(&quot;&quot;);\r\n\r\nThe stack trace is below:\r\n\r\n    at java/lang/StringBuffer.ensureCapacityImpl(StringBuffer.java:338(Compiled Code)) \r\n    at java/lang/StringBuffer.append(StringBuffer.java:204(Compiled Code)) \r\n    at java/lang/StringBuffer.append(StringBuffer.java:1031(Compiled Code)) \r\n    at java/util/regex/Matcher.appendReplacement(Matcher.java:757(Compiled Code)) \r\n    at java/util/regex/Matcher.replaceAll(Matcher.java:824(Compiled Code))\r\n\r\nI know replaceAll is expensive and can cause OOM. What is the most efficient way to avoid OOM in such a case?\r\n\r\nI found there are similar questions on SO, but I&#39;m not sure if any of them answers my question.","title":"OutOfMemoryError Matcher.replaceAll","body":"<p>In the following code, I'm getting an OutOfMemoryError</p>\n\n<pre><code>String resultStr = json.format(obj);\nString regex = \"null\";\nPattern p = Pattern.compile(regex);\nMatcher m = p.matcher(resultStr);\nresultStr = m.replaceAll(\"\");\n</code></pre>\n\n<p>The stack trace is below:</p>\n\n<pre><code>at java/lang/StringBuffer.ensureCapacityImpl(StringBuffer.java:338(Compiled Code)) \nat java/lang/StringBuffer.append(StringBuffer.java:204(Compiled Code)) \nat java/lang/StringBuffer.append(StringBuffer.java:1031(Compiled Code)) \nat java/util/regex/Matcher.appendReplacement(Matcher.java:757(Compiled Code)) \nat java/util/regex/Matcher.replaceAll(Matcher.java:824(Compiled Code))\n</code></pre>\n\n<p>I know replaceAll is expensive and can cause OOM. What is the most efficient way to avoid OOM in such a case?</p>\n\n<p>I found there are similar questions on SO, but I'm not sure if any of them answers my question.</p>\n"},{"tags":["java","regex","replace"],"comments":[{"owner":{"account_id":4739783,"reputation":612574,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":0,"creation_date":1490098602,"post_id":42926885,"comment_id":72951008,"body_markdown":"See [java.util.regex - importance of Pattern.compile()?](http://stackoverflow.com/questions/1720191/java-util-regex-importance-of-pattern-compile)","body":"See <a href=\"http://stackoverflow.com/questions/1720191/java-util-regex-importance-of-pattern-compile\">java.util.regex - importance of Pattern.compile()?</a>"}],"answers":[{"tags":[],"owner":{"account_id":2206865,"reputation":811,"user_id":1949874,"display_name":"Justas"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1490098652,"creation_date":1490098652,"answer_id":42926936,"question_id":42926885,"body_markdown":"If you look at the String method `replaceAll` it does the same under the hood:\r\n\r\n    public String replaceAll(String regex, String replacement) {\r\n        return Pattern.compile(regex).matcher(this).replaceAll(replacement);\r\n    }\r\n\r\nIf you want to use the same pattern multiple times. It&#39;s better to go with the second option as you will not need to recompile it every time.","title":"String replacement efficiency java","body":"<p>If you look at the String method <code>replaceAll</code> it does the same under the hood:</p>\n\n<pre><code>public String replaceAll(String regex, String replacement) {\n    return Pattern.compile(regex).matcher(this).replaceAll(replacement);\n}\n</code></pre>\n\n<p>If you want to use the same pattern multiple times. It's better to go with the second option as you will not need to recompile it every time.</p>\n"}],"owner":{"account_id":3141769,"reputation":91,"user_id":2657096,"accept_rate":33,"display_name":"Abid"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":42926936,"answer_count":1,"score":0,"last_activity_date":1693129387,"creation_date":1490098540,"question_id":42926885,"body_markdown":"Which way is more efficient to replace characters/substring in a string. I have searched and i have found two ways : \r\n\r\n    output = output.replaceAll(REGEX, REPLACEMENT);\r\n\r\n\r\nor\r\n\r\n    Pattern p = Pattern.compile(REGEX);\r\n    Matcher m = p.matcher(output);\r\n    output = m.replaceAll(REPLACEMENT);\r\n\r\n    \r\nI mean with efficiency : less time, loops and/or new variables.  ","title":"String replacement efficiency java","body":"<p>Which way is more efficient to replace characters/substring in a string. I have searched and i have found two ways : </p>\n\n<pre><code>output = output.replaceAll(REGEX, REPLACEMENT);\n</code></pre>\n\n<p>or</p>\n\n<pre><code>Pattern p = Pattern.compile(REGEX);\nMatcher m = p.matcher(output);\noutput = m.replaceAll(REPLACEMENT);\n</code></pre>\n\n<p>I mean with efficiency : less time, loops and/or new variables.  </p>\n"},{"tags":["java","regex","recursive-backtracking"],"comments":[{"owner":{"account_id":262968,"reputation":767110,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"score":2,"creation_date":1488368796,"post_id":42530868,"comment_id":72197436,"body_markdown":"`[0-90-9]` can be changed to `[0-9]`","body":"<code>[0-90-9]</code> can be changed to <code>[0-9]</code>"},{"owner":{"account_id":4739783,"reputation":612574,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":2,"creation_date":1488368835,"post_id":42530868,"comment_id":72197464,"body_markdown":"What are the requirements for the pattern? `[0-90-9]` is certainly not the main problem here, but the nested quantifiers inside groups.","body":"What are the requirements for the pattern? <code>[0-90-9]</code> is certainly not the main problem here, but the nested quantifiers inside groups."},{"owner":{"account_id":4593215,"reputation":3134,"user_id":3725998,"accept_rate":58,"display_name":"Sainath S.R"},"score":0,"creation_date":1488368850,"post_id":42530868,"comment_id":72197475,"body_markdown":"Thanks ,I noticed that , But I would really appreciate if someone can make this regex backtrack infinitely.In that case I can be sure thats the problem","body":"Thanks ,I noticed that , But I would really appreciate if someone can make this regex backtrack infinitely.In that case I can be sure thats the problem"},{"owner":{"account_id":4593215,"reputation":3134,"user_id":3725998,"accept_rate":58,"display_name":"Sainath S.R"},"score":0,"creation_date":1488368881,"post_id":42530868,"comment_id":72197501,"body_markdown":"@WiktorStribiżew Find me an input which would break this regex ie cause it to loop infinitely","body":"@WiktorStribiżew Find me an input which would break this regex ie cause it to loop infinitely"},{"owner":{"account_id":1265583,"reputation":40647,"user_id":1222951,"accept_rate":88,"display_name":"Aran-Fey"},"score":0,"creation_date":1488368920,"post_id":42530868,"comment_id":72197522,"body_markdown":"This has nothing to do with &quot;infinite loop&quot; _or_ &quot;recursive backtracking&quot;...","body":"This has nothing to do with &quot;infinite loop&quot; <i>or</i> &quot;recursive backtracking&quot;..."},{"owner":{"account_id":10198020,"reputation":2625,"user_id":7529266,"accept_rate":75,"display_name":"MohaMad"},"score":0,"creation_date":1488369412,"post_id":42530868,"comment_id":72197853,"body_markdown":"all of your capturing groups are optional , where using `?` or `*` and if you want to validate input, add `^...$` warapper @SainathS.R","body":"all of your capturing groups are optional , where using <code>?</code> or <code>*</code> and if you want to validate input, add <code>^...$</code> warapper @SainathS.R"}],"answers":[{"tags":[],"owner":{"account_id":10198020,"reputation":2625,"user_id":7529266,"accept_rate":75,"display_name":"MohaMad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1488369685,"creation_date":1488369522,"answer_id":42531146,"question_id":42530868,"body_markdown":"To validate your input string use this one:\r\n\r\n    ^[-+]?(\\d+((\\,(\\d{2,}))*\\,(\\d{3}))*)?(\\.\\d*)?$\r\n\r\nAs I&#39;ve wrote in comments:\r\n\r\n&gt;all of your capturing groups are optional , where using `?` or `*` and if you want to validate input, add `^...$` wrapper\r\n\r\nHave a look at right side bar of https://regex101.com/r/eM7OFj/1 titled by **MATCH INFORMATION**","title":"Is my regex catastrophically backtracking?","body":"<p>To validate your input string use this one:</p>\n\n<pre><code>^[-+]?(\\d+((\\,(\\d{2,}))*\\,(\\d{3}))*)?(\\.\\d*)?$\n</code></pre>\n\n<p>As I've wrote in comments:</p>\n\n<blockquote>\n  <p>all of your capturing groups are optional , where using <code>?</code> or <code>*</code> and if you want to validate input, add <code>^...$</code> wrapper</p>\n</blockquote>\n\n<p>Have a look at right side bar of <a href=\"https://regex101.com/r/eM7OFj/1\" rel=\"nofollow noreferrer\">https://regex101.com/r/eM7OFj/1</a> titled by <strong>MATCH INFORMATION</strong></p>\n"},{"tags":[],"owner":{"account_id":1265583,"reputation":40647,"user_id":1222951,"accept_rate":88,"display_name":"Aran-Fey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1488370006,"creation_date":1488370006,"answer_id":42531292,"question_id":42530868,"body_markdown":"Yes, this regex is prone to catastrophic backtracking. Specifically, this segment:\r\n\r\n    ((\\,([0-9]{2,}))*\\,([0-9]{3}))*\r\n\r\nFor reference, this has a structure of the form\r\n\r\n    ((,d)*,d)*\r\n\r\nwhich, simplified, is essentially `(d+)*`.\r\n\r\nStrings like\r\n\r\n    1,111,111,111,111,111,111,111,111,111,111,111,111,111,11.\r\nwill therefore cause catastrophic backtracking.","title":"Is my regex catastrophically backtracking?","body":"<p>Yes, this regex is prone to catastrophic backtracking. Specifically, this segment:</p>\n\n<pre><code>((\\,([0-9]{2,}))*\\,([0-9]{3}))*\n</code></pre>\n\n<p>For reference, this has a structure of the form</p>\n\n<pre><code>((,d)*,d)*\n</code></pre>\n\n<p>which, simplified, is essentially <code>(d+)*</code>.</p>\n\n<p>Strings like</p>\n\n<pre><code>1,111,111,111,111,111,111,111,111,111,111,111,111,111,11.\n</code></pre>\n\n<p>will therefore cause catastrophic backtracking.</p>\n"}],"owner":{"account_id":4593215,"reputation":3134,"user_id":3725998,"accept_rate":58,"display_name":"Sainath S.R"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":42531292,"answer_count":2,"score":-3,"last_activity_date":1693129361,"creation_date":1488368733,"question_id":42530868,"body_markdown":"I use a regex to validate number formats.\r\n\r\n    [-+]?([0-90-9]+((\\,([0-90-9]{2,}))*\\,([0-90-9]{3}))*)?(\\.[0-90-9]*)? \r\nWhen I handled a large number of inputs for certain inputs it seems to loop infinitely .I read other answers regarding catastrophic backtracking .\r\nBut I am a regex newbie and need some help.\r\ncan you please provide any input that can make this regex catastrophically backtrack . Would be helpful for me to understand .Thanks .It can be a very long input too .\r\nI am using Java Pattern and matcher objects.","title":"Is my regex catastrophically backtracking?","body":"<p>I use a regex to validate number formats.</p>\n\n<pre><code>[-+]?([0-90-9]+((\\,([0-90-9]{2,}))*\\,([0-90-9]{3}))*)?(\\.[0-90-9]*)? \n</code></pre>\n\n<p>When I handled a large number of inputs for certain inputs it seems to loop infinitely .I read other answers regarding catastrophic backtracking .\nBut I am a regex newbie and need some help.\ncan you please provide any input that can make this regex catastrophically backtrack . Would be helpful for me to understand .Thanks .It can be a very long input too .\nI am using Java Pattern and matcher objects.</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":10263065,"reputation":2310,"user_id":7573818,"display_name":"Jeremy Grand"},"score":1,"creation_date":1487955421,"post_id":42444118,"comment_id":72032034,"body_markdown":"you can name your groups with the syntax `&quot;(?&lt;groupId&gt;.*)&quot;` into your pattern and then call `matcher.group(&quot;groupId&quot;)`. It&#39;s more readable and should enable you to do what you want.","body":"you can name your groups with the syntax <code>&quot;(?&lt;groupId&gt;.*)&quot;</code> into your pattern and then call <code>matcher.group(&quot;groupId&quot;)</code>. It&#39;s more readable and should enable you to do what you want."},{"owner":{"account_id":9003569,"reputation":489,"user_id":6711224,"accept_rate":86,"display_name":"Vitaliy"},"score":0,"creation_date":1487956811,"post_id":42444118,"comment_id":72032849,"body_markdown":"Will keep it in mind. Didn&#39;t know about this feature.","body":"Will keep it in mind. Didn&#39;t know about this feature."},{"owner":{"display_name":"user557597"},"score":0,"creation_date":1487958993,"post_id":42444118,"comment_id":72034053,"body_markdown":"You don&#39;t need to do it like this. You&#39;re not really enforcing an order via the number of the match. You can just use this `([Pр]исунок|[Pр]исунку|рис.|[Ff]igure|fig.)\\s(\\d+)`  If you are trying to enforce an order, you only need 1 match to get them all `(?:рис.\\s(\\d+)).*?(?:[Рр]исунок\\s(\\d+)).*?(?:[Рр]исунку\\s(\\d+)).*?(?:fig.\\s(\\d+)).*?(?:[fF]igure\\s(\\d+))`","body":"You don&#39;t need to do it like this. You&#39;re not really enforcing an order via the number of the match. You can just use this <code>([Pр]исунок|[Pр]исунку|рис.|[Ff]igure|fig.)\\s(\\d+)</code>  If you are trying to enforce an order, you only need 1 match to get them all <code>(?:рис.\\s(\\d+)).*?(?:[Рр]исунок\\s(\\d+)).*?(?:[Рр]исунку\\s(\\d&zwnj;&#8203;+)).*?(?:fig.\\s(\\d+)&zwnj;&#8203;).*?(?:[fF]igure\\s(\\&zwnj;&#8203;d+))</code>"}],"answers":[{"tags":[],"owner":{"account_id":262968,"reputation":767110,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1487955576,"creation_date":1487955576,"answer_id":42444265,"question_id":42444118,"body_markdown":"You can loop through all groups starting from 2nd group and find the first non-null group and populate your dom:\r\n\r\n    while(m.find()) {\r\n       for (c=2; c&lt;=m.groupCount(); c++) {\r\n           if (m.group(c) != null) {\r\n               domElement.setAttribute(&quot;rid&quot;, &quot;fig&quot; + m.group(c));\r\n               break;\r\n           }\r\n       }\r\n    }","title":"Java: extract group number from Matcher","body":"<p>You can loop through all groups starting from 2nd group and find the first non-null group and populate your dom:</p>\n\n<pre><code>while(m.find()) {\n   for (c=2; c&lt;=m.groupCount(); c++) {\n       if (m.group(c) != null) {\n           domElement.setAttribute(\"rid\", \"fig\" + m.group(c));\n           break;\n       }\n   }\n}\n</code></pre>\n"}],"owner":{"account_id":9003569,"reputation":489,"user_id":6711224,"accept_rate":86,"display_name":"Vitaliy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":703,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":42444265,"answer_count":1,"score":2,"last_activity_date":1693129333,"creation_date":1487955129,"question_id":42444118,"body_markdown":"Very short question, it is possible to extract groups numbers, found by the Matcher?\r\n\r\nfor example here is my code: \r\n\r\n    Pattern k = Pattern.compile(&quot;(рис.\\\\s(\\\\d+)|[Рр]исунок\\\\s(\\\\d+)|[Рр]исунку\\\\s(\\\\d+)|fig.\\\\s(\\\\d+)|[fF]igure\\\\s(\\\\d+))&quot;);\r\n    Matcher m = k.matcher(DOMNode.getTextContent());\r\n    \t\t    \r\n    \t        while(m.find()) {\t\t    \r\n    \t\t      domElement.setAttribute(&quot;rid&quot;, &quot;fig&quot; + m.group(!1));\r\n    \t        }\r\n\r\nWith this pattern I can get several full matches. They would be grouped as match 1: group 1, group 2; match 2: group 1, group 3; match 3: group 1, group 4\r\n\r\nI want to append to DOM element attribute from the second group. In the cycle it will be group 2 from first match, group 3 from second match etc.  ","title":"Java: extract group number from Matcher","body":"<p>Very short question, it is possible to extract groups numbers, found by the Matcher?</p>\n\n<p>for example here is my code: </p>\n\n<pre><code>Pattern k = Pattern.compile(\"(рис.\\\\s(\\\\d+)|[Рр]исунок\\\\s(\\\\d+)|[Рр]исунку\\\\s(\\\\d+)|fig.\\\\s(\\\\d+)|[fF]igure\\\\s(\\\\d+))\");\nMatcher m = k.matcher(DOMNode.getTextContent());\n\n            while(m.find()) {           \n              domElement.setAttribute(\"rid\", \"fig\" + m.group(!1));\n            }\n</code></pre>\n\n<p>With this pattern I can get several full matches. They would be grouped as match 1: group 1, group 2; match 2: group 1, group 3; match 3: group 1, group 4</p>\n\n<p>I want to append to DOM element attribute from the second group. In the cycle it will be group 2 from first match, group 3 from second match etc.  </p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":1715095,"reputation":1324,"user_id":1572356,"accept_rate":94,"display_name":"boxed__l"},"score":0,"creation_date":1487188756,"post_id":42258815,"comment_id":71675520,"body_markdown":"[`String.matches#`](https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#matches(java.lang.String)) method does the same thing. Since the pattern matches the whole string + there are no Capturing groups --&gt; group[1] would be erroneous.","body":"<a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#matches(java.lang.String)\" rel=\"nofollow noreferrer\"><code>String.matches#</code></a> method does the same thing. Since the pattern matches the whole string + there are no Capturing groups --&gt; group[1] would be erroneous."}],"answers":[{"tags":[],"owner":{"account_id":262968,"reputation":767110,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1487188887,"creation_date":1487188887,"answer_id":42258927,"question_id":42258815,"body_markdown":"&gt; `Exception in thread &quot;main&quot; java.lang.IndexOutOfBoundsException: No group 1`\r\n\r\nThis error is due to the fact that your regex pattern has no captured group #1.\r\n\r\nYou can change your pattern to this:\r\n\r\n    Pattern pattern = Pattern.compile(&quot;add entity ([a-zA-Z]*,[a-zA-Z]*)&quot;);\r\n\r\nso that part of `&quot;add entity &quot;` is captured in group #1. Note that there is no need to escape comma in a regex pattern.","title":"Extract Substring from Regex","body":"<blockquote>\n  <p><code>Exception in thread \"main\" java.lang.IndexOutOfBoundsException: No group 1</code></p>\n</blockquote>\n\n<p>This error is due to the fact that your regex pattern has no captured group #1.</p>\n\n<p>You can change your pattern to this:</p>\n\n<pre><code>Pattern pattern = Pattern.compile(\"add entity ([a-zA-Z]*,[a-zA-Z]*)\");\n</code></pre>\n\n<p>so that part of <code>\"add entity \"</code> is captured in group #1. Note that there is no need to escape comma in a regex pattern.</p>\n"}],"owner":{"account_id":7413300,"reputation":1156,"user_id":5639995,"accept_rate":94,"display_name":"Carle B. Navy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1487194033,"accepted_answer_id":42258927,"answer_count":1,"score":1,"last_activity_date":1693129328,"creation_date":1487188458,"question_id":42258815,"body_markdown":"I have an input string that should look like this in java:&lt;br&gt;\r\n`String input = add entity &lt;a-zA-Z&gt;,&lt;a-zA-z&gt;`&lt;br&gt;\r\nNow I want to check, whether a given String has the right format or not. If so I want to get the handed words.\r\n\r\nI already have the checking part\r\n\r\n    boolean foo(String input) {\r\n        Pattern pattern = Pattern.compile(&quot;add entity [a-zA-Z]*[,][a-zA-Z]*&quot;);\r\n    \tMatcher matcher = pattern.matcher(input);\r\n        return matcher.matches();\r\n    }\r\n\r\nI have found several other questions here where they have solved a similar problem with\r\n\r\n    if(matcher.find()) {\r\n        System.out.println(matcher.group(1));\r\n    }\r\nBut if I do so the console always throws the exception:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.IndexOutOfBoundsException: No group 1\r\nDoes anyone have an advice for me how to solve this ?\r\nThank you guys very much.\r\n","title":"Extract Substring from Regex","body":"<p>I have an input string that should look like this in java:<br>\n<code>String input = add entity &lt;a-zA-Z&gt;,&lt;a-zA-z&gt;</code><br>\nNow I want to check, whether a given String has the right format or not. If so I want to get the handed words.</p>\n\n<p>I already have the checking part</p>\n\n<pre><code>boolean foo(String input) {\n    Pattern pattern = Pattern.compile(\"add entity [a-zA-Z]*[,][a-zA-Z]*\");\n    Matcher matcher = pattern.matcher(input);\n    return matcher.matches();\n}\n</code></pre>\n\n<p>I have found several other questions here where they have solved a similar problem with</p>\n\n<pre><code>if(matcher.find()) {\n    System.out.println(matcher.group(1));\n}\n</code></pre>\n\n<p>But if I do so the console always throws the exception:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.IndexOutOfBoundsException: No group 1\n</code></pre>\n\n<p>Does anyone have an advice for me how to solve this ?\nThank you guys very much.</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":4739783,"reputation":612574,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":2,"creation_date":1485882794,"post_id":41963492,"comment_id":71106008,"body_markdown":"Use `\\\\b\\\\d+(?=HP\\\\b)` or [`\\\\b(\\\\d+)HP\\\\b`](http://ideone.com/6im4kH).","body":"Use <code>\\\\b\\\\d+(?=HP\\\\b)</code> or <a href=\"http://ideone.com/6im4kH\" rel=\"nofollow noreferrer\"><code>\\\\b(\\\\d+)HP\\\\b</code></a>."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1485883020,"post_id":41963492,"comment_id":71106151,"body_markdown":"Why did you decide to use `split` in the first place? Is it possible that your string will contain data like `foo123hpbar` in which case `123hp` should be ignored?","body":"Why did you decide to use <code>split</code> in the first place? Is it possible that your string will contain data like <code>foo123hpbar</code> in which case <code>123hp</code> should be ignored?"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1485883128,"post_id":41963492,"comment_id":71106229,"body_markdown":"Yes, the `split()` seems gratuitous, at best.  Likely it&#39;s just going to slow down your searching, at least if the sample input is any indication.","body":"Yes, the <code>split()</code> seems gratuitous, at best.  Likely it&#39;s just going to slow down your searching, at least if the sample input is any indication."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1485883221,"post_id":41963492,"comment_id":71106286,"body_markdown":"Speaking of performance, for simple searches like this it&#39;s really easy to just search for an &quot;H&quot;, followed by a &quot;P&quot;, then back up and copy the digits manually.  This can be much much faster than a regex engine if performance does become an issue.  Consider also using `indexOf(&quot;HP&quot;)` if you need more performance.","body":"Speaking of performance, for simple searches like this it&#39;s really easy to just search for an &quot;H&quot;, followed by a &quot;P&quot;, then back up and copy the digits manually.  This can be much much faster than a regex engine if performance does become an issue.  Consider also using <code>indexOf(&quot;HP&quot;)</code> if you need more performance."}],"answers":[{"tags":[],"owner":{"account_id":73100,"reputation":3555,"user_id":210713,"accept_rate":78,"display_name":"TedTrippin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1485883133,"creation_date":1485883133,"answer_id":41963651,"question_id":41963492,"body_markdown":"Add `HP` to your regex...\r\n\r\n            Pattern p = Pattern.compile(&quot;([0-9]+HP)&quot;);\r\n            Matcher m = p.matcher(&quot;asdf 123HP 123&quot;);\r\n            if (m.find())\r\n                System.out.println(&quot;result - &quot; + m.group(1));\r\n","title":"Get an integer with a certain prefix [Java]","body":"<p>Add <code>HP</code> to your regex...</p>\n\n<pre><code>        Pattern p = Pattern.compile(\"([0-9]+HP)\");\n        Matcher m = p.matcher(\"asdf 123HP 123\");\n        if (m.find())\n            System.out.println(\"result - \" + m.group(1));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2685682,"reputation":12530,"user_id":2320144,"display_name":"Ashraful Islam"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1485883972,"creation_date":1485883531,"answer_id":41963772,"question_id":41963492,"body_markdown":"Use this method : \r\n\r\n    public static List&lt;Integer&gt; parseIntegerWithSuffixIgnoreCase(String input, String suffix) {\r\n        List&lt;Integer&gt; result = new ArrayList&lt;&gt;();\r\n        Pattern pattern = Pattern.compile(String.format(&quot;(\\\\d+)%s(?:$|\\\\W+)&quot;, suffix));\r\n        Matcher matcher = pattern.matcher(input);\r\n        while (matcher.find()) {\r\n            result.add(Integer.parseInt(matcher.group(1)));\r\n        }\r\n        return result;\r\n    }\r\n\r\nHere I have used this regex : `(\\d+)SUFFIX(?:$|\\W+)`\r\n\r\n* `(\\d+)` - means zero or more digit and make capture group 1   \r\n* `$` means end of string   \r\n* `\\w+` zero or more non word character    \r\n* `(?:)` means not capture this group\r\n","title":"Get an integer with a certain prefix [Java]","body":"<p>Use this method : </p>\n\n<pre><code>public static List&lt;Integer&gt; parseIntegerWithSuffixIgnoreCase(String input, String suffix) {\n    List&lt;Integer&gt; result = new ArrayList&lt;&gt;();\n    Pattern pattern = Pattern.compile(String.format(\"(\\\\d+)%s(?:$|\\\\W+)\", suffix));\n    Matcher matcher = pattern.matcher(input);\n    while (matcher.find()) {\n        result.add(Integer.parseInt(matcher.group(1)));\n    }\n    return result;\n}\n</code></pre>\n\n<p>Here I have used this regex : <code>(\\d+)SUFFIX(?:$|\\W+)</code></p>\n\n<ul>\n<li><code>(\\d+)</code> - means zero or more digit and make capture group 1   </li>\n<li><code>$</code> means end of string   </li>\n<li><code>\\w+</code> zero or more non word character    </li>\n<li><code>(?:)</code> means not capture this group</li>\n</ul>\n"}],"owner":{"account_id":7798259,"reputation":1411,"user_id":5898626,"accept_rate":74,"display_name":"Stepan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1947,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":41963651,"answer_count":2,"score":0,"last_activity_date":1693129321,"creation_date":1485882660,"question_id":41963492,"body_markdown":"Given strings like `Engine Name 470/485HP and some other text here about 100RPM or torque` and I want to extract a number right before `HP `. In this example method should return `485`. Numbers are guaranteed to be integers (no `-123.45` to worry about). Pattern `digitsHP ` only appears once per string. Cases like `1234-5678HP ` are possible and `5678` is an expected result. I came up with a method that splits string by spaces, for each substring it checks if it ends with HP. If it does, method finds the last block of numbers and saves it. What is a better way to do this? I suspect it might be a regex one-liner.\r\n\r\n    \r\n    public static void main(String[] args) {\r\n\r\n        String myStr = &quot;Engine Name 470/485HP and some other text here about 100RPM or torque&quot;;\r\n        List&lt;Integer&gt; list = parseIntegerWithSuffixIgnoreCase(myStr, &quot;HP&quot;);\r\n        System.out.println(list.get(0));\r\n    }\r\n\r\n    public static List&lt;Integer&gt; parseIntegerWithSuffixIgnoreCase(String input, String suffix) {\r\n        List&lt;Integer&gt; result = new ArrayList&lt;&gt;();\r\n        String[] rawStrings = input.split(&quot;\\\\s&quot;);\r\n\r\n        for (String rawString : rawStrings) {\r\n            if (rawString.toUpperCase().endsWith(suffix)) {\r\n\r\n                Pattern p = Pattern.compile(&quot;[0-9]+&quot;);\r\n                Matcher m = p.matcher(rawString);\r\n                List&lt;String&gt; allNumericMatches = new ArrayList&lt;&gt;();\r\n                while (m.find()) {\r\n                    allNumericMatches.add(m.group());\r\n                }\r\n                Integer value = Integer.parseInt(allNumericMatches.get(allNumericMatches.size() - 1));\r\n                result.add(value);\r\n            }\r\n        }\r\n        return result;\r\n    }","title":"Get an integer with a certain prefix [Java]","body":"<p>Given strings like <code>Engine Name 470/485HP and some other text here about 100RPM or torque</code> and I want to extract a number right before <code>HP</code>. In this example method should return <code>485</code>. Numbers are guaranteed to be integers (no <code>-123.45</code> to worry about). Pattern <code>digitsHP</code> only appears once per string. Cases like <code>1234-5678HP</code> are possible and <code>5678</code> is an expected result. I came up with a method that splits string by spaces, for each substring it checks if it ends with HP. If it does, method finds the last block of numbers and saves it. What is a better way to do this? I suspect it might be a regex one-liner.</p>\n\n<pre><code>public static void main(String[] args) {\n\n    String myStr = \"Engine Name 470/485HP and some other text here about 100RPM or torque\";\n    List&lt;Integer&gt; list = parseIntegerWithSuffixIgnoreCase(myStr, \"HP\");\n    System.out.println(list.get(0));\n}\n\npublic static List&lt;Integer&gt; parseIntegerWithSuffixIgnoreCase(String input, String suffix) {\n    List&lt;Integer&gt; result = new ArrayList&lt;&gt;();\n    String[] rawStrings = input.split(\"\\\\s\");\n\n    for (String rawString : rawStrings) {\n        if (rawString.toUpperCase().endsWith(suffix)) {\n\n            Pattern p = Pattern.compile(\"[0-9]+\");\n            Matcher m = p.matcher(rawString);\n            List&lt;String&gt; allNumericMatches = new ArrayList&lt;&gt;();\n            while (m.find()) {\n                allNumericMatches.add(m.group());\n            }\n            Integer value = Integer.parseInt(allNumericMatches.get(allNumericMatches.size() - 1));\n            result.add(value);\n        }\n    }\n    return result;\n}\n</code></pre>\n"},{"tags":["java","regex","quotes"],"comments":[{"owner":{"account_id":4739783,"reputation":612574,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":0,"creation_date":1485415359,"post_id":41865132,"comment_id":70919098,"body_markdown":"Try `List[] res = s.split(&quot;\\\\s*\\&quot;[^\\&quot;\\\\\\\\]*(?:\\\\\\\\.[^\\&quot;\\\\\\\\]*)*\\&quot;\\\\s*&quot;);`","body":"Try <code>List[] res = s.split(&quot;\\\\s*\\&quot;[^\\&quot;\\\\\\\\]*(?:\\\\\\\\.[^\\&quot;\\\\\\\\]*)*\\&quot;\\\\s*&quot;);</code>"},{"owner":{"account_id":4739783,"reputation":612574,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":0,"creation_date":1485416383,"post_id":41865132,"comment_id":70919499,"body_markdown":"See https://ideone.com/NgMozq.","body":"See <a href=\"https://ideone.com/NgMozq\" rel=\"nofollow noreferrer\">ideone.com/NgMozq</a>."},{"owner":{"account_id":6238577,"reputation":110,"user_id":5876014,"accept_rate":100,"display_name":"Beerbossa"},"score":0,"creation_date":1485450070,"post_id":41865132,"comment_id":70939764,"body_markdown":"This works well, thanks a lot ! I&#39;ll try to understand how the regex works and apply it for commented source code as well (such as /*  */, /** **/ and // \\n).","body":"This works well, thanks a lot ! I&#39;ll try to understand how the regex works and apply it for commented source code as well (such as /*  <i>/, /*</i> **/ and // \\n)."},{"owner":{"account_id":4859,"reputation":40443,"user_id":7512,"accept_rate":75,"display_name":"slim"},"score":0,"creation_date":1485450765,"post_id":41865132,"comment_id":70940163,"body_markdown":"Show us your actual Java code -- and ideally a failing test method too.","body":"Show us your actual Java code -- and ideally a failing test method too."},{"owner":{"account_id":4739783,"reputation":612574,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":0,"creation_date":1485451003,"post_id":41865132,"comment_id":70940297,"body_markdown":"Note that the regex for `/*...*/` like comments in Java is [posted by me here](http://stackoverflow.com/a/36328890/3832970).","body":"Note that the regex for <code>&#47;*...*&#47;</code> like comments in Java is <a href=\"http://stackoverflow.com/a/36328890/3832970\">posted by me here</a>."},{"owner":{"account_id":6238577,"reputation":110,"user_id":5876014,"accept_rate":100,"display_name":"Beerbossa"},"score":0,"creation_date":1485452969,"post_id":41865132,"comment_id":70941513,"body_markdown":"I made this one before,reading your comment, to cover the multi line comments case. Sorry for asking so many questions but would you explain to me what&#39;s wrong with this version ? It seems to work fine and is shorter, but I assume there are some cases that I forgot to consider.\n\n**&quot;/\\\\**(?:[\\\\S\\\\s]*?)\\\\*/&quot;**","body":"I made this one before,reading your comment, to cover the multi line comments case. Sorry for asking so many questions but would you explain to me what&#39;s wrong with this version ? It seems to work fine and is shorter, but I assume there are some cases that I forgot to consider.  <b>&quot;/\\*<i>(?:[\\\\S\\\\s]</i>?)\\*/&quot;</b>"},{"owner":{"account_id":4739783,"reputation":612574,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":0,"creation_date":1485454978,"post_id":41865132,"comment_id":70942747,"body_markdown":"*Is shorter* is no argument in the regex world when you have to match strings of arbitrary length. Use your pattern and once your code freezes, you will switch to my version. Lazy (and greedy) quantifiers [take their toll](http://stackoverflow.com/questions/35759287/why-are-greedy-quantifiers-less-expensive-than-lazy-quantifiers). [Unrolling the loop](http://www.softec.lu/site/RegularExpressions/UnrollingTheLoop)  is a life savior.","body":"<i>Is shorter</i> is no argument in the regex world when you have to match strings of arbitrary length. Use your pattern and once your code freezes, you will switch to my version. Lazy (and greedy) quantifiers <a href=\"http://stackoverflow.com/questions/35759287/why-are-greedy-quantifiers-less-expensive-than-lazy-quantifiers\">take their toll</a>. <a href=\"http://www.softec.lu/site/RegularExpressions/UnrollingTheLoop\" rel=\"nofollow noreferrer\">Unrolling the loop</a>  is a life savior."}],"answers":[{"tags":[],"owner":{"account_id":4739783,"reputation":612574,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1485450527,"creation_date":1485450527,"answer_id":41879046,"question_id":41865132,"body_markdown":"It seems for your current task, you may use a pattern to match double quoted string literals to *split* the string:\r\n\r\n    List[] res = s.split(&quot;\\\\s*\\&quot;[^\\&quot;\\\\\\\\]*(?:\\\\\\\\.[^\\&quot;\\\\\\\\]*)*\\&quot;\\\\s*&quot;);\r\n\r\nSee the [Java demo][1]:\r\n\r\n    String s = &quot;This should be captured \\&quot;not this\\&quot; and \\&quot;not \\\\\\&quot;this\\\\\\&quot; either\\&quot;.&quot;;\r\n\tString[] res = s.split(&quot;\\\\s*\\&quot;[^\\&quot;\\\\\\\\]*(?:\\\\\\\\.[^\\&quot;\\\\\\\\]*)*\\&quot;\\\\s*&quot;);\r\n\tSystem.out.println(Arrays.toString(res));\r\n    // =&gt; [This should be captured, and, .]\r\n\r\n**Pattern details**:\r\n\r\n - `\\\\s*` - 0+ whitespaces\r\n - `\\&quot;` - a double quote\r\n - `[^\\&quot;\\\\\\\\]*` - 0+ chars other than `&quot;` and ``\\``\r\n - `(?:\\\\\\\\.[^\\&quot;\\\\\\\\]*)*` - 0+ sequences of:\r\n   - `\\\\\\\\.` - a ``\\`` and any char other than line break chars\r\n   - `[^\\&quot;\\\\\\\\]*` - 0+ chars other than `&quot;` and ``\\``\r\n - `\\&quot;\\\\s*` - a `&quot;` and 0+ whitespaces\r\n\r\n  [1]: https://ideone.com/NgMozq","title":"Java Regex - Capturing everything outside quotes","body":"<p>It seems for your current task, you may use a pattern to match double quoted string literals to <em>split</em> the string:</p>\n\n<pre><code>List[] res = s.split(\"\\\\s*\\\"[^\\\"\\\\\\\\]*(?:\\\\\\\\.[^\\\"\\\\\\\\]*)*\\\"\\\\s*\");\n</code></pre>\n\n<p>See the <a href=\"https://ideone.com/NgMozq\" rel=\"nofollow noreferrer\">Java demo</a>:</p>\n\n<pre><code>String s = \"This should be captured \\\"not this\\\" and \\\"not \\\\\\\"this\\\\\\\" either\\\".\";\nString[] res = s.split(\"\\\\s*\\\"[^\\\"\\\\\\\\]*(?:\\\\\\\\.[^\\\"\\\\\\\\]*)*\\\"\\\\s*\");\nSystem.out.println(Arrays.toString(res));\n// =&gt; [This should be captured, and, .]\n</code></pre>\n\n<p><strong>Pattern details</strong>:</p>\n\n<ul>\n<li><code>\\\\s*</code> - 0+ whitespaces</li>\n<li><code>\\\"</code> - a double quote</li>\n<li><code>[^\\\"\\\\\\\\]*</code> - 0+ chars other than <code>\"</code> and <code>\\</code></li>\n<li><code>(?:\\\\\\\\.[^\\\"\\\\\\\\]*)*</code> - 0+ sequences of:\n\n<ul>\n<li><code>\\\\\\\\.</code> - a <code>\\</code> and any char other than line break chars</li>\n<li><code>[^\\\"\\\\\\\\]*</code> - 0+ chars other than <code>\"</code> and <code>\\</code></li>\n</ul></li>\n<li><code>\\\"\\\\s*</code> - a <code>\"</code> and 0+ whitespaces</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1722137,"reputation":36,"user_id":13180602,"display_name":"Ela Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667813687,"creation_date":1667813687,"answer_id":74344456,"question_id":41865132,"body_markdown":"    String s = &quot;This should be captured \\&quot;not this\\&quot; and \\&quot;not \\\\\\&quot;this\\\\\\&quot; either\\&quot;.&quot;;\r\n    String[] res = s.split(&quot;\\&quot;([^\\&quot;]*)\\&quot;&quot;);\r\n    System.out.println(Arrays.toString(res));\r\n\r\nThis is a comparatively shorter regex pattern matching expression.\r\n","title":"Java Regex - Capturing everything outside quotes","body":"<pre><code>String s = &quot;This should be captured \\&quot;not this\\&quot; and \\&quot;not \\\\\\&quot;this\\\\\\&quot; either\\&quot;.&quot;;\nString[] res = s.split(&quot;\\&quot;([^\\&quot;]*)\\&quot;&quot;);\nSystem.out.println(Arrays.toString(res));\n</code></pre>\n<p>This is a comparatively shorter regex pattern matching expression.</p>\n"}],"owner":{"account_id":6238577,"reputation":110,"user_id":5876014,"accept_rate":100,"display_name":"Beerbossa"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":441,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":41879046,"answer_count":2,"score":2,"last_activity_date":1693129308,"creation_date":1485398547,"question_id":41865132,"body_markdown":"**TLDR: I&#39;m looking to capture everything outside of quotation marks, but I seem to fail to do so in Java with this regex \\\\&quot;|&quot;(?:\\\\&quot;|[^&quot;])*&quot;|([^\\&quot;]+) while it works on websites such as http://myregexp.com/. Can anyone point me what I&#39;m doing wrong ?**\r\n\r\nHi, I&#39;m currently trying to analyse a .java source code and extract as a string everything outside quotation marks (ignoring escaped quotes).\r\n\r\nFor example, in this string :\r\n&gt; This should be captured &quot;not this&quot; and &quot;not \\&quot;this\\&quot; either&quot;.\r\n\r\nI should be able with, pattern and matcher, to find &quot;This should be captured&quot;, &quot;and&quot;, &quot;.&quot;.\r\n\r\nWhat I currently have is **\\&quot;[^\\&quot;]+\\&quot;|([^\\&quot;]+)**, which works well if there is an equal pair of &quot;&quot; in the document but breaks as soon as there is an escaped one.\r\n\r\nOn an online regex testers, I tried **\\\\&quot;|&quot;(?:\\\\&quot;|[^&quot;])*&quot;|([^\\&quot;]+)** which seems to do exactly what I&#39;m looking for, but when I try it in Java it doesn&#39;t.\r\n\r\n\r\n\r\n","title":"Java Regex - Capturing everything outside quotes","body":"<p><strong>TLDR: I'm looking to capture everything outside of quotation marks, but I seem to fail to do so in Java with this regex \\\"|\"(?:\\\"|[^\"])*\"|([^\\\"]+) while it works on websites such as <a href=\"http://myregexp.com/\" rel=\"nofollow noreferrer\">http://myregexp.com/</a>. Can anyone point me what I'm doing wrong ?</strong></p>\n\n<p>Hi, I'm currently trying to analyse a .java source code and extract as a string everything outside quotation marks (ignoring escaped quotes).</p>\n\n<p>For example, in this string :</p>\n\n<blockquote>\n  <p>This should be captured \"not this\" and \"not \\\"this\\\" either\".</p>\n</blockquote>\n\n<p>I should be able with, pattern and matcher, to find \"This should be captured\", \"and\", \".\".</p>\n\n<p>What I currently have is <strong>\\\"[^\\\"]+\\\"|([^\\\"]+)</strong>, which works well if there is an equal pair of \"\" in the document but breaks as soon as there is an escaped one.</p>\n\n<p>On an online regex testers, I tried <strong>\\\"|\"(?:\\\"|[^\"])*\"|([^\\\"]+)</strong> which seems to do exactly what I'm looking for, but when I try it in Java it doesn't.</p>\n"},{"tags":["java","regex","string"],"comments":[{"owner":{"account_id":3354520,"reputation":5062,"user_id":2817802,"accept_rate":100,"display_name":"Baby"},"score":0,"creation_date":1485225796,"post_id":41819131,"comment_id":70826363,"body_markdown":"what is your expected output?","body":"what is your expected output?"},{"owner":{"account_id":5377211,"reputation":787,"user_id":4283649,"accept_rate":2,"display_name":"i_o"},"score":0,"creation_date":1485226299,"post_id":41819131,"comment_id":70826468,"body_markdown":"expected output here would be : 2.548^-3.654  AND ALSO: -14^-2.545 @Baby","body":"expected output here would be : 2.548^-3.654  AND ALSO: -14^-2.545 @Baby"},{"owner":{"account_id":3354520,"reputation":5062,"user_id":2817802,"accept_rate":100,"display_name":"Baby"},"score":0,"creation_date":1485227322,"post_id":41819131,"comment_id":70826712,"body_markdown":"this might be ugly but just try it `(\\-?\\d+\\.\\-?\\d+\\.?\\^\\-?\\d+\\.?\\d+)|(-?\\d+\\.?\\^\\-?\\d+\\.?\\d+)`","body":"this might be ugly but just try it <code>(\\-?\\d+\\.\\-?\\d+\\.?\\^\\-?\\d+\\.?\\d+)|(-?\\d+\\.?\\^\\-?\\d+\\.?\\d+)</code>"},{"owner":{"account_id":5377211,"reputation":787,"user_id":4283649,"accept_rate":2,"display_name":"i_o"},"score":0,"creation_date":1485227461,"post_id":41819131,"comment_id":70826745,"body_markdown":"Hey thanks.. lets see @Baby","body":"Hey thanks.. lets see @Baby"},{"owner":{"account_id":5377211,"reputation":787,"user_id":4283649,"accept_rate":2,"display_name":"i_o"},"score":0,"creation_date":1485227525,"post_id":41819131,"comment_id":70826762,"body_markdown":"nothing happened @Baby","body":"nothing happened @Baby"},{"owner":{"account_id":3354520,"reputation":5062,"user_id":2817802,"accept_rate":100,"display_name":"Baby"},"score":1,"creation_date":1485227997,"post_id":41819131,"comment_id":70826887,"body_markdown":"you need to escape the backslashes. see [**Demo here**](http://ideone.com/Qmwq1R)","body":"you need to escape the backslashes. see <a href=\"http://ideone.com/Qmwq1R\" rel=\"nofollow noreferrer\"><b>Demo here</b></a>"}],"answers":[{"tags":[],"owner":{"display_name":"user3702702"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1485228685,"creation_date":1485227567,"answer_id":41819405,"question_id":41819131,"body_markdown":"EDIT: replaced `[0123456789]` with `(\\\\d)`\r\n\r\nEDIT EDIT: added context for OP\r\n\r\nAnswer\r\n---\r\n\r\nHere&#39;s a pattern that should match what you need:\r\n\r\n    -?(\\\\d)+(\\\\.(\\\\d)+)?\\\\^-?(\\\\d)+(\\\\.(\\\\d)+)?\r\n\r\nExplanation\r\n---\r\n\r\n`-?` - zero or one minus symbols\r\n\r\n`(\\\\d)+` - one or more digits\r\n\r\n`(\\\\.(\\\\d)+)?` - (optional) a decimal point, followed by one or more digits\r\n\r\n`\\\\^` - one caret symbol\r\n\r\n---\r\n\r\nUsing this on your input with `String.replace(pattern, &quot;[FOUND]&quot;)` produced:\r\n\r\n    &quot;2.5(4x+3)[FOUND]=[FOUND]&quot;\r\n\r\n---\r\n\r\nIn the context of your answer, simply replace your `regex` with the one I posted, and use `m.group()` instead of `m.group(1)`.\r\n\r\n    String ss = &quot;2.5(4x+3)-2.548^-3.654=-14^-2.545&quot;;\r\n    String regex = &quot;-?(\\\\d)+(\\\\.(\\\\d)+)?\\\\^-?(\\\\d)+(\\\\.(\\\\d)+)?&quot;;\r\n\tPattern p = Pattern.compile(regex);\r\n\tMatcher m = p.matcher(ss);\r\n\r\n\twhile(m.find()) {\r\n\t\tSystem.out.println(&quot;Wiwi the cat: &quot; + m.group());\r\n\t}\r\n\r\nBest of luck!","title":"Setting up regex in Pattern object for java string","body":"<p>EDIT: replaced <code>[0123456789]</code> with <code>(\\\\d)</code></p>\n\n<p>EDIT EDIT: added context for OP</p>\n\n<h2>Answer</h2>\n\n<p>Here's a pattern that should match what you need:</p>\n\n<pre><code>-?(\\\\d)+(\\\\.(\\\\d)+)?\\\\^-?(\\\\d)+(\\\\.(\\\\d)+)?\n</code></pre>\n\n<h2>Explanation</h2>\n\n<p><code>-?</code> - zero or one minus symbols</p>\n\n<p><code>(\\\\d)+</code> - one or more digits</p>\n\n<p><code>(\\\\.(\\\\d)+)?</code> - (optional) a decimal point, followed by one or more digits</p>\n\n<p><code>\\\\^</code> - one caret symbol</p>\n\n<hr>\n\n<p>Using this on your input with <code>String.replace(pattern, \"[FOUND]\")</code> produced:</p>\n\n<pre><code>\"2.5(4x+3)[FOUND]=[FOUND]\"\n</code></pre>\n\n<hr>\n\n<p>In the context of your answer, simply replace your <code>regex</code> with the one I posted, and use <code>m.group()</code> instead of <code>m.group(1)</code>.</p>\n\n<pre><code>String ss = \"2.5(4x+3)-2.548^-3.654=-14^-2.545\";\nString regex = \"-?(\\\\d)+(\\\\.(\\\\d)+)?\\\\^-?(\\\\d)+(\\\\.(\\\\d)+)?\";\nPattern p = Pattern.compile(regex);\nMatcher m = p.matcher(ss);\n\nwhile(m.find()) {\n    System.out.println(\"Wiwi the cat: \" + m.group());\n}\n</code></pre>\n\n<p>Best of luck!</p>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1485228321,"creation_date":1485227956,"answer_id":41819464,"question_id":41819131,"body_markdown":"Your basic problem is this character: `^`. It means &quot;start of input&quot;, so your regex can&#39;t match anything.\r\n\r\nYou must *escape* it `\\^` so it becomes a literal.\r\n\r\nI also fixed the rest of your regex:\r\n\r\n    String regex = &quot;-?\\\\d+(\\\\.\\\\d*)?(\\\\^-?\\\\d+(\\\\.\\\\d*)?)?&quot;;\r\n\r\nSee [live demo][1].\r\n\r\nAnd use\r\n\r\n    match.group(); // the whole match\r\n\r\n\r\n  [1]: http://rubular.com/r/lDx0eW9qCC","title":"Setting up regex in Pattern object for java string","body":"<p>Your basic problem is this character: <code>^</code>. It means \"start of input\", so your regex can't match anything.</p>\n\n<p>You must <em>escape</em> it <code>\\^</code> so it becomes a literal.</p>\n\n<p>I also fixed the rest of your regex:</p>\n\n<pre><code>String regex = \"-?\\\\d+(\\\\.\\\\d*)?(\\\\^-?\\\\d+(\\\\.\\\\d*)?)?\";\n</code></pre>\n\n<p>See <a href=\"http://rubular.com/r/lDx0eW9qCC\" rel=\"nofollow noreferrer\">live demo</a>.</p>\n\n<p>And use</p>\n\n<pre><code>match.group(); // the whole match\n</code></pre>\n"}],"owner":{"account_id":5377211,"reputation":787,"user_id":4283649,"accept_rate":2,"display_name":"i_o"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":766,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1693129302,"creation_date":1485225631,"question_id":41819131,"body_markdown":"Am trying to get all matches in a java string. The matches must be bases and powers in a math equation. As you know, bases and powers could be negative and decimals as well. I have the pattern, regex and matcher set up. It looks something like this, but it is not giving me what I expect. I guided myself by this post here on StackOverflow **https://stackoverflow.com/questions/25707779/regex-to-find-integer-or-decimal-from-a-string-in-java-in-a-single-group** \r\n\r\n**Am really just interested in capturing powers that have negative exponents both integers and non-integers.** \r\n\r\nWell here is my code:\r\n\r\n    String ss = &quot;2.5(4x+3)-2.548^-3.654=-14^-2.545&quot;;\r\n    String regex = &quot;(\\\\d^+(?:\\\\d+)?)&quot;;\r\n    Pattern p = Pattern.compile(regex);\r\n    Matcher m = p.matcher(ss);\r\n\r\n    while(m.find()){\r\n            System.out.println(&quot;Wiwi the cat: &quot;+m.group(1));\r\n        }\r\n\r\nThe output of this code is nothing. Any ideas or suggestions would be great.\r\n\r\nthanks\r\n\r\n    ","title":"Setting up regex in Pattern object for java string","body":"<p>Am trying to get all matches in a java string. The matches must be bases and powers in a math equation. As you know, bases and powers could be negative and decimals as well. I have the pattern, regex and matcher set up. It looks something like this, but it is not giving me what I expect. I guided myself by this post here on StackOverflow <strong><a href=\"https://stackoverflow.com/questions/25707779/regex-to-find-integer-or-decimal-from-a-string-in-java-in-a-single-group\">Regex to find integer or decimal from a string in java in a single group?</a></strong> </p>\n\n<p><strong>Am really just interested in capturing powers that have negative exponents both integers and non-integers.</strong> </p>\n\n<p>Well here is my code:</p>\n\n<pre><code>String ss = \"2.5(4x+3)-2.548^-3.654=-14^-2.545\";\nString regex = \"(\\\\d^+(?:\\\\d+)?)\";\nPattern p = Pattern.compile(regex);\nMatcher m = p.matcher(ss);\n\nwhile(m.find()){\n        System.out.println(\"Wiwi the cat: \"+m.group(1));\n    }\n</code></pre>\n\n<p>The output of this code is nothing. Any ideas or suggestions would be great.</p>\n\n<p>thanks</p>\n"},{"tags":["java","hibernate-mapping","hibernate-annotations"],"comments":[{"owner":{"account_id":19974981,"reputation":146,"user_id":14639530,"display_name":"Codemaster"},"score":0,"creation_date":1618078969,"post_id":67037797,"comment_id":118495878,"body_markdown":"There is no such annotations,you have to create new `class` for photos and  use hibernate mappings like `@OnetoMany` ,this will create 2 tables.","body":"There is no such annotations,you have to create new <code>class</code> for photos and  use hibernate mappings like <code>@OnetoMany</code> ,this will create 2 tables."},{"owner":{"account_id":8348375,"reputation":117,"user_id":6271395,"accept_rate":50,"display_name":"Anmol Bhaskar"},"score":0,"creation_date":1618079062,"post_id":67037797,"comment_id":118495902,"body_markdown":"Kindly check the link https://stackoverflow.com/questions/3774198/org-hibernate-mappingexception-could-not-determine-type-for-java-util-list-at","body":"Kindly check the link <a href=\"https://stackoverflow.com/questions/3774198/org-hibernate-mappingexception-could-not-determine-type-for-java-util-list-at\" title=\"org hibernate mappingexception could not determine type for java util list at\">stackoverflow.com/questions/3774198/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":2795364,"reputation":7571,"user_id":2404683,"display_name":"Davide D&#39;Alto"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1618090364,"creation_date":1618081351,"answer_id":67038191,"question_id":67037797,"body_markdown":"This mapping is not going to work in Hibernate ORM.\r\n\r\nThe reason is that you are trying to have two nested collections of elements and this is not supported by Hibernate ORM (first collection is the `Map` and the second collection is the the `List`).\r\n\r\nYou have to use entities.\r\n\r\nYou can obtain something similar to an `@ElementCollection` with the following mapping:\r\n```\r\n\r\n@Entity\r\npublic static class PhotoEvent {\r\n\t@Id\r\n\t@Column(name = &quot;Event_Name&quot;)\r\n\tpublic String eventName;\r\n\r\n\t@ElementCollection\r\n\t@Column(name = &quot;`Values`&quot;)\r\n\tpublic List&lt;String&gt; values;\r\n\r\n\t@ManyToOne\r\n\tpublic Album album;\r\n...\r\n// getter/setter/hascode/equals...\r\n}\r\n\r\n\r\n@Entity\r\npublic static class Album {\r\n    ...\r\n\t\r\n    @OneToMany(mappedBy = &quot;album&quot;, fetch = FetchType.EAGER, cascade = CascadeType.ALL, orphanRemoval = true)\r\n    @MapKey(name = &quot;eventName&quot;)\r\n\tpublic Map&lt;String, PhotoEvent&gt; photoEvents;\r\n    \r\n    ...\r\n}\r\n\r\n```\r\n\r\nNote that I set `FetchType.EAGER` because it emulates an `@ElementCollection` but you will probably want to set it to `LAZY` (the default).\r\n\r\nYou will find more details about this type of mapping [in the Hibernate ORM documentation][1].\r\n\r\n\r\n  [1]: https://docs.jboss.org/hibernate/orm/5.4/userguide/html_single/Hibernate_User_Guide.html#collections-map","title":"How to map a collection Map&lt;String,List&lt;String&gt;&gt; type using Hibernate","body":"<p>This mapping is not going to work in Hibernate ORM.</p>\n<p>The reason is that you are trying to have two nested collections of elements and this is not supported by Hibernate ORM (first collection is the <code>Map</code> and the second collection is the the <code>List</code>).</p>\n<p>You have to use entities.</p>\n<p>You can obtain something similar to an <code>@ElementCollection</code> with the following mapping:</p>\n<pre><code>\n@Entity\npublic static class PhotoEvent {\n    @Id\n    @Column(name = &quot;Event_Name&quot;)\n    public String eventName;\n\n    @ElementCollection\n    @Column(name = &quot;`Values`&quot;)\n    public List&lt;String&gt; values;\n\n    @ManyToOne\n    public Album album;\n...\n// getter/setter/hascode/equals...\n}\n\n\n@Entity\npublic static class Album {\n    ...\n    \n    @OneToMany(mappedBy = &quot;album&quot;, fetch = FetchType.EAGER, cascade = CascadeType.ALL, orphanRemoval = true)\n    @MapKey(name = &quot;eventName&quot;)\n    public Map&lt;String, PhotoEvent&gt; photoEvents;\n    \n    ...\n}\n\n</code></pre>\n<p>Note that I set <code>FetchType.EAGER</code> because it emulates an <code>@ElementCollection</code> but you will probably want to set it to <code>LAZY</code> (the default).</p>\n<p>You will find more details about this type of mapping <a href=\"https://docs.jboss.org/hibernate/orm/5.4/userguide/html_single/Hibernate_User_Guide.html#collections-map\" rel=\"nofollow noreferrer\">in the Hibernate ORM documentation</a>.</p>\n"}],"owner":{"account_id":21101184,"reputation":25,"user_id":15511052,"display_name":"UtsavC"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1058,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":67038191,"answer_count":1,"score":1,"last_activity_date":1693127316,"creation_date":1618078689,"question_id":67037797,"body_markdown":"**The question was to persist the following class using Hibernate .**\r\n\r\n    Public class Album{\r\n    Private int albumid;\r\n    Private String aname;\r\n    Private Map&lt;String,List&lt;String&gt;&gt; photos;\r\n    }\r\n\r\nI have Tried this \r\n\r\n    @Entity\r\n    public class Album {\r\n    \t@Id\r\n    \tprivate int albumId;\r\n    \t@Column(name= &quot;Album_Name&quot;)\r\n    \tprivate String aname;\r\n    \t\r\n    \t@ElementCollection\r\n    \t@MapKeyColumn(name= &quot;Event_Name&quot;)\r\n    \t@Column(name=&quot;Values&quot;)\r\n    \tprivate Map&lt;String, List&lt;String&gt;&gt; photos;\r\n\r\nBut it is showing errors such as \r\n```\r\n\r\n    Exception in thread &quot;main&quot; org.hibernate.MappingException: Could not determine type for: java.util.List, at table: Album_photos, for columns: [org.hibernate.mapping.Column(Values)]\r\n    \tat org.hibernate.mapping.SimpleValue.getType(SimpleValue.java:336)\r\n    \tat org.hibernate.mapping.SimpleValue.isValid(SimpleValue.java:310)\r\n    \tat org.hibernate.mapping.Collection.validate(Collection.java:315)\r\n    \tat org.hibernate.mapping.IndexedCollection.validate(IndexedCollection.java:89)\r\n    \tat org.hibernate.cfg.Configuration.validate(Configuration.java:1362)\r\n    \tat org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1849)\r\n    \tat org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1928)\r\n    \tat com.wipro.Insert.main(Insert.java:17)\r\n\r\n```\r\n\r\n\r\n","title":"How to map a collection Map&lt;String,List&lt;String&gt;&gt; type using Hibernate","body":"<p><strong>The question was to persist the following class using Hibernate .</strong></p>\n<pre><code>Public class Album{\nPrivate int albumid;\nPrivate String aname;\nPrivate Map&lt;String,List&lt;String&gt;&gt; photos;\n}\n</code></pre>\n<p>I have Tried this</p>\n<pre><code>@Entity\npublic class Album {\n    @Id\n    private int albumId;\n    @Column(name= &quot;Album_Name&quot;)\n    private String aname;\n    \n    @ElementCollection\n    @MapKeyColumn(name= &quot;Event_Name&quot;)\n    @Column(name=&quot;Values&quot;)\n    private Map&lt;String, List&lt;String&gt;&gt; photos;\n</code></pre>\n<p>But it is showing errors such as</p>\n<pre><code>\n    Exception in thread &quot;main&quot; org.hibernate.MappingException: Could not determine type for: java.util.List, at table: Album_photos, for columns: [org.hibernate.mapping.Column(Values)]\n        at org.hibernate.mapping.SimpleValue.getType(SimpleValue.java:336)\n        at org.hibernate.mapping.SimpleValue.isValid(SimpleValue.java:310)\n        at org.hibernate.mapping.Collection.validate(Collection.java:315)\n        at org.hibernate.mapping.IndexedCollection.validate(IndexedCollection.java:89)\n        at org.hibernate.cfg.Configuration.validate(Configuration.java:1362)\n        at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1849)\n        at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1928)\n        at com.wipro.Insert.main(Insert.java:17)\n\n</code></pre>\n"},{"tags":["java","apache-poi"],"answers":[{"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1693127104,"creation_date":1692865566,"answer_id":76967463,"question_id":76966076,"body_markdown":"The Excel isn&#39;t blank but contains very small pictures using `XSSF` or `SXSSF`. [XSSFClientAnchor.setDx1](https://poi.apache.org/apidocs/dev/org/apache/poi/xssf/usermodel/XSSFClientAnchor.html#setDx1-int-) states: \r\n\r\n&gt; Note - XSSF and HSSF have a slightly different coordinate system,\r\n&gt; values in XSSF are larger by a factor of\r\n&gt; [Units.EMU_PER_PIXEL](https://poi.apache.org/apidocs/dev/org/apache/poi/util/Units.html#EMU_PER_PIXEL).\r\n\r\nBut that&#39;s not the whole truth. The meaning of the `dx` and `dy` is totally different. In the binary file system `*.xls`, the values are also dependent on the factor of `column-width / default column-width` and `row-height / default row-height`. See https://stackoverflow.com/questions/48567203/apache-poi-xssfclientanchor-not-positioning-picture-with-respect-to-dx1-dy1-dx/48607117#48607117. \r\n\r\nI had found out that same value of `dx` and `dy` means different length in pixel for different column widths or different row heights. The higher column width the more pixels are occupied from the same value of `dx` for example. Same for row height and `dy`.\r\n\r\nFound at least the definition of `dx` and `dy` for binary `*-xls` file format. It is defined in [2.5.193 OfficeArtClientAnchorSheet](https://learn.microsoft.com/en-us/openspecs/office_file_formats/ms-xls/fd656a2c-d5ee-4171-8f65-17a08b9f2262).\r\n\r\n`dx`: The value is expressed as 1024th’s of that cell’s width.\r\n\r\n`dy`: The value is expressed as 256th’s of that cell’s height.\r\n\r\nAdditional Microsoft uses many strange different measurement units for length in it&#39;s Office applications. There are Twip (Twentieth of an inch point), EMU (English Metric Uint), half points, and so on, additional to pixels and points.\r\n\r\nTaking all this into account, it can be a big challenge when the task is to create same sized and positioned pictures in drawings of binary `*.xls` and Office Open XML `*.xlsx`.\r\n\r\nAt first we should choose one measurement unit for length. In my example, i choose pixels.\r\n\r\nHaving that, we will see, that `XSSF` is most logically, if we know the  [Units.EMU_PER_PIXEL](https://poi.apache.org/apidocs/dev/org/apache/poi/util/Units.html#EMU_PER_PIXEL) factor.\r\n\r\nIt is `HSSF` which needs more recalculations. In your example the values 1023 and 245 used in your calculations seems to be trial&amp;error values optimized for HSSF. I suspect the 10 means a margin of 10. But 10 what? Pixels? Points? Your `HSSF`-result should have shown that it cannot be one of that. So your statement: &quot;I have no problem exporting pictures to excel using HSSFWorkbook.&quot; is not really true.\r\n\r\nThe following complete example should work using `HSSF`, `XSSF` and also `SXSSF` and producing the 4 pictures same aligned over cell `A1` in sheet-drawing.\r\n\r\nIt is tested and works using current Apache POI version 5.2.3.\r\n\r\n    import org.apache.poi.util.IOUtils;\r\n    import org.apache.poi.util.Units;\r\n    \r\n    import org.apache.poi.ss.usermodel.*;\r\n    import org.apache.poi.hssf.usermodel.*;\r\n    import org.apache.poi.xssf.usermodel.*;\r\n    import org.apache.poi.xssf.streaming.*;\r\n    \r\n    import java.io.FileInputStream;\r\n    import java.io.FileOutputStream;\r\n    \r\n    class ExcelCreatePictures {\r\n        \r\n     static final String[] imgs = { \r\n      &quot;./Bild1.jpg&quot;,\r\n      &quot;./Bild2.jpg&quot;,\r\n      &quot;./Bild3.jpg&quot;,\r\n      &quot;./Bild4.jpg&quot;\r\n     };\r\n         \r\n     public static void main(String[] args) throws Exception {\r\n         \r\n      //Workbook workbook = new HSSFWorkbook(); String filePath = &quot;./Excel.xls&quot;;\r\n      //Workbook workbook = new XSSFWorkbook(); String filePath = &quot;./Excel.xlsx&quot;;\r\n      Workbook workbook = new SXSSFWorkbook(); String filePath = &quot;./Excel.xlsx&quot;;\r\n     \r\n      Sheet sheet = workbook.createSheet();\r\n      sheet.setColumnWidth(0, 5000 * imgs.length);\r\n      int colWidthInPx = (int)Math.round(sheet.getColumnWidthInPixels(0));\r\n      \r\n      Row imgRow = sheet.createRow(0);\r\n      imgRow.setHeight((short) 1000);\r\n      int rowHeightInPx = (int)Math.round(imgRow.getHeightInPoints() * Units.PIXEL_DPI / Units.POINT_DPI);\r\n      \r\n      //int mar = 10 + 10 + (imgs.length - 1) * 10;\r\n      //int ave = (1023 - mar) / imgs.length;\r\n      int mar = 10;\r\n      int marSum = mar + mar + (imgs.length - 1) * mar;\r\n      int avePicW = (colWidthInPx - marSum) / imgs.length;\r\n    \r\n      // get drawing\r\n      Drawing drawing = sheet.createDrawingPatriarch();\r\n      \r\n      for (int i = 0; i &lt; imgs.length; i++) {\r\n          \r\n       // add picture to workbook, get pictureIdx\r\n       FileInputStream in = new FileInputStream(imgs[i]);\r\n       byte[] bytes = IOUtils.toByteArray(in);\r\n       int pictureIdx = workbook.addPicture(bytes, Workbook.PICTURE_TYPE_JPEG);\r\n       in.close();\r\n         \r\n       // create anchor for picture shape\r\n       CreationHelper helper = workbook.getCreationHelper();\r\n       ClientAnchor anchor = helper.createClientAnchor();\r\n       anchor.setDx1(mar * (i + 1) + avePicW * i);\r\n       if (drawing instanceof XSSFDrawing || drawing instanceof SXSSFDrawing) {\r\n        anchor.setDx1(anchor.getDx1() * Units.EMU_PER_PIXEL);\r\n       } else if (drawing instanceof HSSFPatriarch) {\r\n        anchor.setDx1((int)Math.round(anchor.getDx1() * 1024f / colWidthInPx));\r\n       }\r\n       \r\n       anchor.setDy1(mar);\r\n       if (drawing instanceof XSSFDrawing || drawing instanceof SXSSFDrawing) {\r\n        anchor.setDy1(anchor.getDy1() * Units.EMU_PER_PIXEL);\r\n       } else if (drawing instanceof HSSFPatriarch) {\r\n        anchor.setDy1((int)Math.round(anchor.getDy1() * 256f / rowHeightInPx));\r\n       }\r\n       \r\n       anchor.setDx2((mar + avePicW) * (i + 1));\r\n       if (drawing instanceof XSSFDrawing || drawing instanceof SXSSFDrawing) {\r\n        anchor.setDx2(anchor.getDx2() * Units.EMU_PER_PIXEL);\r\n       } else if (drawing instanceof HSSFPatriarch) {\r\n        anchor.setDx2((int)Math.round(anchor.getDx2() * 1024f / colWidthInPx));\r\n       }\r\n       \r\n       anchor.setDy2(rowHeightInPx - mar);\r\n       if (drawing instanceof XSSFDrawing || drawing instanceof SXSSFDrawing) {\r\n        anchor.setDy2(anchor.getDy2() * Units.EMU_PER_PIXEL);\r\n       } else if (drawing instanceof HSSFPatriarch) {\r\n        anchor.setDy2((int)Math.round(anchor.getDy2() * 256f / rowHeightInPx));\r\n       }\r\n       \r\n       anchor.setCol1(0);\r\n       anchor.setRow1(0); \r\n       anchor.setCol2(0);\r\n       anchor.setRow2(0); \r\n    \r\n       // create picture shape\r\n       Picture picture = drawing.createPicture(anchor, pictureIdx);\r\n      }\r\n      \r\n      FileOutputStream out = new FileOutputStream(filePath);\r\n      workbook.write(out);\r\n      out.close();\r\n      workbook.close();\r\n      if (workbook instanceof SXSSFWorkbook) ((SXSSFWorkbook)workbook).dispose();\r\n    \r\n     }\r\n    }\r\n\r\nResult:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JZRK4.png\r\n","title":"Why the same image export excel using HSSFWorkbook can use SXSSFWorkbook can not","body":"<p>The Excel isn't blank but contains very small pictures using <code>XSSF</code> or <code>SXSSF</code>. <a href=\"https://poi.apache.org/apidocs/dev/org/apache/poi/xssf/usermodel/XSSFClientAnchor.html#setDx1-int-\" rel=\"nofollow noreferrer\">XSSFClientAnchor.setDx1</a> states:</p>\n<blockquote>\n<p>Note - XSSF and HSSF have a slightly different coordinate system,\nvalues in XSSF are larger by a factor of\n<a href=\"https://poi.apache.org/apidocs/dev/org/apache/poi/util/Units.html#EMU_PER_PIXEL\" rel=\"nofollow noreferrer\">Units.EMU_PER_PIXEL</a>.</p>\n</blockquote>\n<p>But that's not the whole truth. The meaning of the <code>dx</code> and <code>dy</code> is totally different. In the binary file system <code>*.xls</code>, the values are also dependent on the factor of <code>column-width / default column-width</code> and <code>row-height / default row-height</code>. See <a href=\"https://stackoverflow.com/questions/48567203/apache-poi-xssfclientanchor-not-positioning-picture-with-respect-to-dx1-dy1-dx/48607117#48607117\">apache poi XSSFClientAnchor not positioning picture with respect to dx1, dy1, dx2, dy2</a>.</p>\n<p>I had found out that same value of <code>dx</code> and <code>dy</code> means different length in pixel for different column widths or different row heights. The higher column width the more pixels are occupied from the same value of <code>dx</code> for example. Same for row height and <code>dy</code>.</p>\n<p>Found at least the definition of <code>dx</code> and <code>dy</code> for binary <code>*-xls</code> file format. It is defined in <a href=\"https://learn.microsoft.com/en-us/openspecs/office_file_formats/ms-xls/fd656a2c-d5ee-4171-8f65-17a08b9f2262\" rel=\"nofollow noreferrer\">2.5.193 OfficeArtClientAnchorSheet</a>.</p>\n<p><code>dx</code>: The value is expressed as 1024th’s of that cell’s width.</p>\n<p><code>dy</code>: The value is expressed as 256th’s of that cell’s height.</p>\n<p>Additional Microsoft uses many strange different measurement units for length in it's Office applications. There are Twip (Twentieth of an inch point), EMU (English Metric Uint), half points, and so on, additional to pixels and points.</p>\n<p>Taking all this into account, it can be a big challenge when the task is to create same sized and positioned pictures in drawings of binary <code>*.xls</code> and Office Open XML <code>*.xlsx</code>.</p>\n<p>At first we should choose one measurement unit for length. In my example, i choose pixels.</p>\n<p>Having that, we will see, that <code>XSSF</code> is most logically, if we know the  <a href=\"https://poi.apache.org/apidocs/dev/org/apache/poi/util/Units.html#EMU_PER_PIXEL\" rel=\"nofollow noreferrer\">Units.EMU_PER_PIXEL</a> factor.</p>\n<p>It is <code>HSSF</code> which needs more recalculations. In your example the values 1023 and 245 used in your calculations seems to be trial&amp;error values optimized for HSSF. I suspect the 10 means a margin of 10. But 10 what? Pixels? Points? Your <code>HSSF</code>-result should have shown that it cannot be one of that. So your statement: &quot;I have no problem exporting pictures to excel using HSSFWorkbook.&quot; is not really true.</p>\n<p>The following complete example should work using <code>HSSF</code>, <code>XSSF</code> and also <code>SXSSF</code> and producing the 4 pictures same aligned over cell <code>A1</code> in sheet-drawing.</p>\n<p>It is tested and works using current Apache POI version 5.2.3.</p>\n<pre><code>import org.apache.poi.util.IOUtils;\nimport org.apache.poi.util.Units;\n\nimport org.apache.poi.ss.usermodel.*;\nimport org.apache.poi.hssf.usermodel.*;\nimport org.apache.poi.xssf.usermodel.*;\nimport org.apache.poi.xssf.streaming.*;\n\nimport java.io.FileInputStream;\nimport java.io.FileOutputStream;\n\nclass ExcelCreatePictures {\n    \n static final String[] imgs = { \n  &quot;./Bild1.jpg&quot;,\n  &quot;./Bild2.jpg&quot;,\n  &quot;./Bild3.jpg&quot;,\n  &quot;./Bild4.jpg&quot;\n };\n     \n public static void main(String[] args) throws Exception {\n     \n  //Workbook workbook = new HSSFWorkbook(); String filePath = &quot;./Excel.xls&quot;;\n  //Workbook workbook = new XSSFWorkbook(); String filePath = &quot;./Excel.xlsx&quot;;\n  Workbook workbook = new SXSSFWorkbook(); String filePath = &quot;./Excel.xlsx&quot;;\n \n  Sheet sheet = workbook.createSheet();\n  sheet.setColumnWidth(0, 5000 * imgs.length);\n  int colWidthInPx = (int)Math.round(sheet.getColumnWidthInPixels(0));\n  \n  Row imgRow = sheet.createRow(0);\n  imgRow.setHeight((short) 1000);\n  int rowHeightInPx = (int)Math.round(imgRow.getHeightInPoints() * Units.PIXEL_DPI / Units.POINT_DPI);\n  \n  //int mar = 10 + 10 + (imgs.length - 1) * 10;\n  //int ave = (1023 - mar) / imgs.length;\n  int mar = 10;\n  int marSum = mar + mar + (imgs.length - 1) * mar;\n  int avePicW = (colWidthInPx - marSum) / imgs.length;\n\n  // get drawing\n  Drawing drawing = sheet.createDrawingPatriarch();\n  \n  for (int i = 0; i &lt; imgs.length; i++) {\n      \n   // add picture to workbook, get pictureIdx\n   FileInputStream in = new FileInputStream(imgs[i]);\n   byte[] bytes = IOUtils.toByteArray(in);\n   int pictureIdx = workbook.addPicture(bytes, Workbook.PICTURE_TYPE_JPEG);\n   in.close();\n     \n   // create anchor for picture shape\n   CreationHelper helper = workbook.getCreationHelper();\n   ClientAnchor anchor = helper.createClientAnchor();\n   anchor.setDx1(mar * (i + 1) + avePicW * i);\n   if (drawing instanceof XSSFDrawing || drawing instanceof SXSSFDrawing) {\n    anchor.setDx1(anchor.getDx1() * Units.EMU_PER_PIXEL);\n   } else if (drawing instanceof HSSFPatriarch) {\n    anchor.setDx1((int)Math.round(anchor.getDx1() * 1024f / colWidthInPx));\n   }\n   \n   anchor.setDy1(mar);\n   if (drawing instanceof XSSFDrawing || drawing instanceof SXSSFDrawing) {\n    anchor.setDy1(anchor.getDy1() * Units.EMU_PER_PIXEL);\n   } else if (drawing instanceof HSSFPatriarch) {\n    anchor.setDy1((int)Math.round(anchor.getDy1() * 256f / rowHeightInPx));\n   }\n   \n   anchor.setDx2((mar + avePicW) * (i + 1));\n   if (drawing instanceof XSSFDrawing || drawing instanceof SXSSFDrawing) {\n    anchor.setDx2(anchor.getDx2() * Units.EMU_PER_PIXEL);\n   } else if (drawing instanceof HSSFPatriarch) {\n    anchor.setDx2((int)Math.round(anchor.getDx2() * 1024f / colWidthInPx));\n   }\n   \n   anchor.setDy2(rowHeightInPx - mar);\n   if (drawing instanceof XSSFDrawing || drawing instanceof SXSSFDrawing) {\n    anchor.setDy2(anchor.getDy2() * Units.EMU_PER_PIXEL);\n   } else if (drawing instanceof HSSFPatriarch) {\n    anchor.setDy2((int)Math.round(anchor.getDy2() * 256f / rowHeightInPx));\n   }\n   \n   anchor.setCol1(0);\n   anchor.setRow1(0); \n   anchor.setCol2(0);\n   anchor.setRow2(0); \n\n   // create picture shape\n   Picture picture = drawing.createPicture(anchor, pictureIdx);\n  }\n  \n  FileOutputStream out = new FileOutputStream(filePath);\n  workbook.write(out);\n  out.close();\n  workbook.close();\n  if (workbook instanceof SXSSFWorkbook) ((SXSSFWorkbook)workbook).dispose();\n\n }\n}\n</code></pre>\n<p>Result:</p>\n<p><a href=\"https://i.stack.imgur.com/JZRK4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JZRK4.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":29191953,"reputation":1,"user_id":22363910,"display_name":"yi deng"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693127104,"creation_date":1692847954,"question_id":76966076,"body_markdown":"This is my test case for exporting pictures using SXSSFWorkbook\r\n\r\n```Java\r\n@Test\r\n    public void testXSSF() throws IOException {\r\n        String[] imgs = { &quot;D:/EvaluationProject/uploadPath/upload/2023/07/24/f5214a64-72a7-41e6-a4e9-a64c992feaad.jpg&quot;,\r\n                &quot;D:/EvaluationProject/uploadPath/upload/2023/07/24/7fbc9564-2f2d-4dcd-959c-efc2d86191b5.jpg&quot;,\r\n                &quot;D:/EvaluationProject/uploadPath/upload/2023/07/24/405ad233-0a4a-4f13-b0e9-4a96f6fe530f.jpg&quot;,\r\n                &quot;D:/EvaluationProject/uploadPath/upload/2023/07/24/37b01589-dd2b-4703-9edb-064734efb3bd.jpg&quot; };\r\n        SXSSFWorkbook workBook = new SXSSFWorkbook();\r\n        SXSSFSheet sheet = workBook.createSheet();\r\n        sheet.setColumnWidth(0, 4800 * imgs.length);\r\n        BufferedImage bufferedImage = null;\r\n        Drawing patriarch = sheet.createDrawingPatriarch();\r\n        try {\r\n            SXSSFRow imgRow = sheet.createRow(0);\r\n            imgRow.setHeight((short) 1000);\r\n\r\n            int mar = 10 + 10 + (imgs.length - 1) * 10;\r\n            int ave = (1023 - mar) / imgs.length;\r\n\r\n            for (int i = 0; i &lt; imgs.length; i++) {\r\n                File file = new File(imgs[i]);\r\n                bufferedImage = ImageIO.read(file);\r\n                ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();\r\n                ImageIO.write(bufferedImage, &quot;jpg&quot;, byteArrayOutputStream);\r\n                XSSFClientAnchor anchor = new XSSFClientAnchor(10 * (i + 1) + ave * i, 10,\r\n                        (10 + ave) * (i + 1), 245, (short) 1, 1, (short) 1, 1);\r\n                patriarch.createPicture(anchor,\r\n                        workBook.addPicture(byteArrayOutputStream.toByteArray(), XSSFWorkbook.PICTURE_TYPE_JPEG));\r\n            }\r\n            FileOutputStream outputStream = new FileOutputStream(&quot;D://&quot; + new Date().getTime() + &quot;.xls&quot;);\r\n            workBook.write(outputStream);\r\n            outputStream.close();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n```\r\nI have no problem exporting pictures to excel using `HSSFWorkbook`, but when I changed to use `SXSSFWorkbook` to export pictures to Excel it&#39;s blank. I want to use `SXSSFWorkbook`. What should I do?","title":"Why the same image export excel using HSSFWorkbook can use SXSSFWorkbook can not","body":"<p>This is my test case for exporting pictures using SXSSFWorkbook</p>\n<pre><code>@Test\n    public void testXSSF() throws IOException {\n        String[] imgs = { &quot;D:/EvaluationProject/uploadPath/upload/2023/07/24/f5214a64-72a7-41e6-a4e9-a64c992feaad.jpg&quot;,\n                &quot;D:/EvaluationProject/uploadPath/upload/2023/07/24/7fbc9564-2f2d-4dcd-959c-efc2d86191b5.jpg&quot;,\n                &quot;D:/EvaluationProject/uploadPath/upload/2023/07/24/405ad233-0a4a-4f13-b0e9-4a96f6fe530f.jpg&quot;,\n                &quot;D:/EvaluationProject/uploadPath/upload/2023/07/24/37b01589-dd2b-4703-9edb-064734efb3bd.jpg&quot; };\n        SXSSFWorkbook workBook = new SXSSFWorkbook();\n        SXSSFSheet sheet = workBook.createSheet();\n        sheet.setColumnWidth(0, 4800 * imgs.length);\n        BufferedImage bufferedImage = null;\n        Drawing patriarch = sheet.createDrawingPatriarch();\n        try {\n            SXSSFRow imgRow = sheet.createRow(0);\n            imgRow.setHeight((short) 1000);\n\n            int mar = 10 + 10 + (imgs.length - 1) * 10;\n            int ave = (1023 - mar) / imgs.length;\n\n            for (int i = 0; i &lt; imgs.length; i++) {\n                File file = new File(imgs[i]);\n                bufferedImage = ImageIO.read(file);\n                ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();\n                ImageIO.write(bufferedImage, &quot;jpg&quot;, byteArrayOutputStream);\n                XSSFClientAnchor anchor = new XSSFClientAnchor(10 * (i + 1) + ave * i, 10,\n                        (10 + ave) * (i + 1), 245, (short) 1, 1, (short) 1, 1);\n                patriarch.createPicture(anchor,\n                        workBook.addPicture(byteArrayOutputStream.toByteArray(), XSSFWorkbook.PICTURE_TYPE_JPEG));\n            }\n            FileOutputStream outputStream = new FileOutputStream(&quot;D://&quot; + new Date().getTime() + &quot;.xls&quot;);\n            workBook.write(outputStream);\n            outputStream.close();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<p>I have no problem exporting pictures to excel using <code>HSSFWorkbook</code>, but when I changed to use <code>SXSSFWorkbook</code> to export pictures to Excel it's blank. I want to use <code>SXSSFWorkbook</code>. What should I do?</p>\n"},{"tags":["java","user-interface","javafx","processing","fractals"],"answers":[{"tags":[],"owner":{"account_id":13597048,"reputation":3418,"user_id":9808792,"display_name":"micycle"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1583410076,"creation_date":1539357023,"answer_id":52782409,"question_id":52709779,"body_markdown":"*I have devised two approaches: in the first, we bypass Processing&#39;s JavaFX stage creation and point Processing to draw into a JavaFX stage loaded from an FXML file; in the second, we replace Processing&#39;s default JavaFX scene with one loaded from an FXML file **during runtime**.*\r\n\r\n# 1. Launching from an FXML\r\n\r\nWith the first approach we launch the application like we would a JavaFX app (using `Application.launch(Launcher.class);`), completely bypassing Processing&#39;s JavaFX stage creation code.\r\n\r\nYou&#39;ll have to download a slightly modified *core.jar* for this approach to work, where I&#39;ve changed the visibility of a few members of the `PSurfaceFX` and `PGraphicsFX2D` classes from `Protected` to `Public`. The changes allow us to launch JavaFX from our own `... extends Application` class, while maintaining access to the members that Processing needs to set during the launch to function.\r\n\r\nProcessing 3 crashes in FX2D mode when the JDK in use is above Java 8, so I&#39;ve also made a working version for 8+, since the FXML files usually need at least Java 9 to work.\r\n\r\n - [Download core.jar (Java 8 &amp; below)][1]\r\n - [Download core.jar (Above Java 8)][2]\r\n\r\nThis is the FXML file I am working with in this example:\r\n\r\n[![enter image description here][3]][3]\r\n\r\nWith the modified *core.jar* added to your project&#39;s classpath, override `initSurface()` in your PApplet class with the following snippet. With this code, we bypass the PApplet&#39;s call to `initFrame()` - this is where processing creates its own JavaFX stage, **which we do not want it to do**.\r\n\r\n    @Override\r\n\tprotected PSurface initSurface() {\r\n\t\tg = createPrimaryGraphics();\r\n\t\tPSurface genericSurface = g.createSurface();\r\n\t\tPSurfaceFX fxSurface = (PSurfaceFX) genericSurface;\r\n\r\n\t\tfxSurface.sketch = this;\r\n\r\n\t\tLauncher.surface = fxSurface;\r\n\r\n\t\tnew Thread(new Runnable() {\r\n\t\t\tpublic void run() {\r\n\t\t\t\tApplication.launch(Launcher.class);\r\n\t\t\t}\r\n\t\t}).start();\r\n\r\n\t\twhile (fxSurface.stage == null) {\r\n\t\t\ttry {\r\n\t\t\t\tThread.sleep(5);\r\n\t\t\t} catch (InterruptedException e) {\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.surface = fxSurface;\r\n\t\treturn fxSurface;\r\n\t}\r\n\r\nSet the PApplet&#39;s renderering mode to FX2D like so:\r\n\r\n\t@Override\r\n\tpublic void settings() {\r\n\t\tsize(0, 0, FX2D);\r\n\t}\r\n\r\n\r\nPut the following, or similar, in your Launcher class. In this example, I have manually found the Node that I want to add the canvas object into. There are better, more programmatic, ways of doing this (such as *.lookup()* using the fx:id of the desired node -- this can be defined in the FXML file). I have also bound the dimensions of the canvas to those of its parent, so when the divisor separating the *Master* and *View* panes is dragged, the Processing canvas resizes accordingly.\r\n\r\n    public class Launcher extends Application {\r\n    \r\n    \tpublic static PSurfaceFX surface;\r\n    \r\n    \t@Override\r\n    \tpublic void start(Stage primaryStage) throws Exception {\r\n    \r\n    \t\tCanvas canvas = (Canvas) surface.getNative(); // boilerplate\r\n    \t\tGraphicsContext graphicsContext = canvas.getGraphicsContext2D(); // boilerplate\r\n    \t\tsurface.fx.context = graphicsContext; // boilerplate\r\n    \t\t\r\n    \t\tprimaryStage.setTitle(&quot;FXML/Processing&quot;);\r\n    \r\n    \t\tVBox root = FXMLLoader.load(new File(&quot;c:/Users/Mike/desktop/test.fxml&quot;).toURI().toURL());\r\n    \t\tSplitPane pane = (SplitPane) root.getChildren().get(1); // Manually get the item I want to add canvas to\r\n    \t\tAnchorPane pane2 = (AnchorPane) pane.getItems().get(0); // Manually get the item I want to add canvas to\r\n    \t\tpane2.getChildren().add(canvas); // Manually get the item I want to add canvas to\r\n    \t\t\r\n    \t\tcanvas.widthProperty().bind(pane2.widthProperty());\r\n    \t\tcanvas.heightProperty().bind(pane2.heightProperty());\r\n    \r\n    \t\tScene scene = new Scene(root, 800, 800);\r\n    \t\tprimaryStage.setScene(scene);\r\n    \t\tprimaryStage.show();\r\n    \r\n    \t\tsurface.stage = primaryStage; // boilerplate\r\n    \t}\r\n    }\r\n\r\nThis is the result:\r\n\r\n[![enter image description here][4]][4]\r\n\r\nAlso see [this][5] Github project -- a basic project showing how a Processing sketch and a FXML JavaFX stage may be integrated using this first approach, but includes a JavaFX `Controller` to populate `@FXML`annotated fields (providing an easy way to first get, and then reference, JavaFX objects in code).\r\n\r\n----------\r\n\r\n# 2. Launching, then loading a FXML\r\nThis approach works with vanilla Processing. Here, we launch Processing like normal and then replace the default scene with new scene loaded from an FXML file during runtime. This is a simpler approach (and doesn&#39;t require using a modified *.jar*!) but will make JavaFX/Processing interoperability more difficult because we can&#39;t use a JavaFX `Controller` to get fields via FXML injection.\r\n\r\nExample **PDE** code:\r\n\r\n    import java.util.Map;\r\n    import java.nio.file.Paths;\r\n    \r\n    import javafx.application.Platform;\r\n    import javafx.fxml.FXMLLoader;\r\n    import javafx.scene.Parent;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.SceneAntialiasing;\r\n    import javafx.scene.canvas.Canvas;\r\n    import javafx.scene.layout.AnchorPane;\r\n    import javafx.stage.Stage;\r\n    \r\n    import processing.javafx.PSurfaceFX;\r\n    \r\n    public void setup() {\r\n      size(800, 800, FX2D);\r\n      strokeWeight(3);\r\n    }\r\n    \r\n    protected PSurface initSurface() {\r\n      surface = (PSurfaceFX) super.initSurface();\r\n      final Canvas canvas = (Canvas) surface.getNative();\r\n      final Scene oldScene = canvas.getScene();\r\n      final Stage stage = (Stage) oldScene.getWindow();\r\n    \r\n      try {\r\n        FXMLLoader loader = new FXMLLoader(Paths.get(&quot;C:\\\\path--to--fxml\\\\stage.fxml&quot;).toUri().toURL()); // abs path to fxml file\r\n        final Parent sceneFromFXML = loader.load();\r\n        final Map&lt;String, Object&gt; namespace = loader.getNamespace();\r\n    \r\n        final Scene newScene = new Scene(sceneFromFXML, stage.getWidth(), stage.getHeight(), false, \r\n          SceneAntialiasing.BALANCED);\r\n        final AnchorPane pane = (AnchorPane) namespace.get(&quot;anchorPane&quot;); // get element by fx:id\r\n    \r\n        pane.getChildren().add(canvas); // processing to stackPane\r\n        canvas.widthProperty().bind(pane.widthProperty()); // bind canvas dimensions to pane\r\n        canvas.heightProperty().bind(pane.heightProperty()); // bind canvas dimensions to pane\r\n    \r\n        Platform.runLater(new Runnable() {\r\n          @Override\r\n            public void run() {\r\n            stage.setScene(newScene);\r\n          }\r\n        }\r\n        );\r\n      } \r\n      catch (IOException e) {\r\n        e.printStackTrace();\r\n      }\r\n      return surface;\r\n    }\r\n    \r\n    public void draw() {\r\n      background(125, 125, 98);\r\n      ellipse(200, 200, 200, 200);\r\n      line(0, 0, width, height);\r\n      line(width, 0, 0, height);\r\n    }\r\n\r\nResult:\r\n\r\n[![enter image description here][6]][6]\r\n\r\n…using this FXML file:\r\n\r\n[![enter image description here][7]][7]\r\n\r\n\r\n  [1]: https://www.mediafire.com/file/9ry4a3z7uz9b7qa/core-1.8.jar/file\r\n  [2]: https://www.mediafire.com/file/tyeiwizsc0h1zru/core-10.jar/file\r\n  [3]: https://i.stack.imgur.com/dGgyR.png\r\n  [4]: https://i.stack.imgur.com/hf6XP.png\r\n  [5]: https://github.com/micycle1/ProcessingFX\r\n  [6]: https://i.stack.imgur.com/BW89l.png\r\n  [7]: https://i.stack.imgur.com/fBkwh.png","title":"Java Processing 3 PAplet in JavaFX scene as FXNode","body":"<p><em>I have devised two approaches: in the first, we bypass Processing's JavaFX stage creation and point Processing to draw into a JavaFX stage loaded from an FXML file; in the second, we replace Processing's default JavaFX scene with one loaded from an FXML file <strong>during runtime</strong>.</em></p>\n\n<h1>1. Launching from an FXML</h1>\n\n<p>With the first approach we launch the application like we would a JavaFX app (using <code>Application.launch(Launcher.class);</code>), completely bypassing Processing's JavaFX stage creation code.</p>\n\n<p>You'll have to download a slightly modified <em>core.jar</em> for this approach to work, where I've changed the visibility of a few members of the <code>PSurfaceFX</code> and <code>PGraphicsFX2D</code> classes from <code>Protected</code> to <code>Public</code>. The changes allow us to launch JavaFX from our own <code>... extends Application</code> class, while maintaining access to the members that Processing needs to set during the launch to function.</p>\n\n<p>Processing 3 crashes in FX2D mode when the JDK in use is above Java 8, so I've also made a working version for 8+, since the FXML files usually need at least Java 9 to work.</p>\n\n<ul>\n<li><a href=\"https://www.mediafire.com/file/9ry4a3z7uz9b7qa/core-1.8.jar/file\" rel=\"nofollow noreferrer\">Download core.jar (Java 8 &amp; below)</a></li>\n<li><a href=\"https://www.mediafire.com/file/tyeiwizsc0h1zru/core-10.jar/file\" rel=\"nofollow noreferrer\">Download core.jar (Above Java 8)</a></li>\n</ul>\n\n<p>This is the FXML file I am working with in this example:</p>\n\n<p><a href=\"https://i.stack.imgur.com/dGgyR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dGgyR.png\" alt=\"enter image description here\"></a></p>\n\n<p>With the modified <em>core.jar</em> added to your project's classpath, override <code>initSurface()</code> in your PApplet class with the following snippet. With this code, we bypass the PApplet's call to <code>initFrame()</code> - this is where processing creates its own JavaFX stage, <strong>which we do not want it to do</strong>.</p>\n\n<pre><code>@Override\nprotected PSurface initSurface() {\n    g = createPrimaryGraphics();\n    PSurface genericSurface = g.createSurface();\n    PSurfaceFX fxSurface = (PSurfaceFX) genericSurface;\n\n    fxSurface.sketch = this;\n\n    Launcher.surface = fxSurface;\n\n    new Thread(new Runnable() {\n        public void run() {\n            Application.launch(Launcher.class);\n        }\n    }).start();\n\n    while (fxSurface.stage == null) {\n        try {\n            Thread.sleep(5);\n        } catch (InterruptedException e) {\n        }\n    }\n\n    this.surface = fxSurface;\n    return fxSurface;\n}\n</code></pre>\n\n<p>Set the PApplet's renderering mode to FX2D like so:</p>\n\n<pre><code>@Override\npublic void settings() {\n    size(0, 0, FX2D);\n}\n</code></pre>\n\n<p>Put the following, or similar, in your Launcher class. In this example, I have manually found the Node that I want to add the canvas object into. There are better, more programmatic, ways of doing this (such as <em>.lookup()</em> using the fx:id of the desired node -- this can be defined in the FXML file). I have also bound the dimensions of the canvas to those of its parent, so when the divisor separating the <em>Master</em> and <em>View</em> panes is dragged, the Processing canvas resizes accordingly.</p>\n\n<pre><code>public class Launcher extends Application {\n\n    public static PSurfaceFX surface;\n\n    @Override\n    public void start(Stage primaryStage) throws Exception {\n\n        Canvas canvas = (Canvas) surface.getNative(); // boilerplate\n        GraphicsContext graphicsContext = canvas.getGraphicsContext2D(); // boilerplate\n        surface.fx.context = graphicsContext; // boilerplate\n\n        primaryStage.setTitle(\"FXML/Processing\");\n\n        VBox root = FXMLLoader.load(new File(\"c:/Users/Mike/desktop/test.fxml\").toURI().toURL());\n        SplitPane pane = (SplitPane) root.getChildren().get(1); // Manually get the item I want to add canvas to\n        AnchorPane pane2 = (AnchorPane) pane.getItems().get(0); // Manually get the item I want to add canvas to\n        pane2.getChildren().add(canvas); // Manually get the item I want to add canvas to\n\n        canvas.widthProperty().bind(pane2.widthProperty());\n        canvas.heightProperty().bind(pane2.heightProperty());\n\n        Scene scene = new Scene(root, 800, 800);\n        primaryStage.setScene(scene);\n        primaryStage.show();\n\n        surface.stage = primaryStage; // boilerplate\n    }\n}\n</code></pre>\n\n<p>This is the result:</p>\n\n<p><a href=\"https://i.stack.imgur.com/hf6XP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hf6XP.png\" alt=\"enter image description here\"></a></p>\n\n<p>Also see <a href=\"https://github.com/micycle1/ProcessingFX\" rel=\"nofollow noreferrer\">this</a> Github project -- a basic project showing how a Processing sketch and a FXML JavaFX stage may be integrated using this first approach, but includes a JavaFX <code>Controller</code> to populate <code>@FXML</code>annotated fields (providing an easy way to first get, and then reference, JavaFX objects in code).</p>\n\n<hr>\n\n<h1>2. Launching, then loading a FXML</h1>\n\n<p>This approach works with vanilla Processing. Here, we launch Processing like normal and then replace the default scene with new scene loaded from an FXML file during runtime. This is a simpler approach (and doesn't require using a modified <em>.jar</em>!) but will make JavaFX/Processing interoperability more difficult because we can't use a JavaFX <code>Controller</code> to get fields via FXML injection.</p>\n\n<p>Example <strong>PDE</strong> code:</p>\n\n<pre><code>import java.util.Map;\nimport java.nio.file.Paths;\n\nimport javafx.application.Platform;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.scene.SceneAntialiasing;\nimport javafx.scene.canvas.Canvas;\nimport javafx.scene.layout.AnchorPane;\nimport javafx.stage.Stage;\n\nimport processing.javafx.PSurfaceFX;\n\npublic void setup() {\n  size(800, 800, FX2D);\n  strokeWeight(3);\n}\n\nprotected PSurface initSurface() {\n  surface = (PSurfaceFX) super.initSurface();\n  final Canvas canvas = (Canvas) surface.getNative();\n  final Scene oldScene = canvas.getScene();\n  final Stage stage = (Stage) oldScene.getWindow();\n\n  try {\n    FXMLLoader loader = new FXMLLoader(Paths.get(\"C:\\\\path--to--fxml\\\\stage.fxml\").toUri().toURL()); // abs path to fxml file\n    final Parent sceneFromFXML = loader.load();\n    final Map&lt;String, Object&gt; namespace = loader.getNamespace();\n\n    final Scene newScene = new Scene(sceneFromFXML, stage.getWidth(), stage.getHeight(), false, \n      SceneAntialiasing.BALANCED);\n    final AnchorPane pane = (AnchorPane) namespace.get(\"anchorPane\"); // get element by fx:id\n\n    pane.getChildren().add(canvas); // processing to stackPane\n    canvas.widthProperty().bind(pane.widthProperty()); // bind canvas dimensions to pane\n    canvas.heightProperty().bind(pane.heightProperty()); // bind canvas dimensions to pane\n\n    Platform.runLater(new Runnable() {\n      @Override\n        public void run() {\n        stage.setScene(newScene);\n      }\n    }\n    );\n  } \n  catch (IOException e) {\n    e.printStackTrace();\n  }\n  return surface;\n}\n\npublic void draw() {\n  background(125, 125, 98);\n  ellipse(200, 200, 200, 200);\n  line(0, 0, width, height);\n  line(width, 0, 0, height);\n}\n</code></pre>\n\n<p>Result:</p>\n\n<p><a href=\"https://i.stack.imgur.com/BW89l.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BW89l.png\" alt=\"enter image description here\"></a></p>\n\n<p>…using this FXML file:</p>\n\n<p><a href=\"https://i.stack.imgur.com/fBkwh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fBkwh.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":14564109,"reputation":55,"user_id":10519401,"display_name":"StefanH"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1541898412,"creation_date":1541898412,"answer_id":53244952,"question_id":52709779,"body_markdown":"To make it work, you have to launch your Processing sketch, not the JavaFX Application.\r\n\r\nSimply do \r\n\r\n    PApplet.main(Launcher.class.getName());\r\n\r\nAlso thanks so much for your help! I had NO idea how I should use the JavaFX stuff that comes with Processing!","title":"Java Processing 3 PAplet in JavaFX scene as FXNode","body":"<p>To make it work, you have to launch your Processing sketch, not the JavaFX Application.</p>\n\n<p>Simply do </p>\n\n<pre><code>PApplet.main(Launcher.class.getName());\n</code></pre>\n\n<p>Also thanks so much for your help! I had NO idea how I should use the JavaFX stuff that comes with Processing!</p>\n"},{"tags":[],"owner":{"account_id":14564109,"reputation":55,"user_id":10519401,"display_name":"StefanH"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1542749228,"creation_date":1542749228,"answer_id":53401797,"question_id":52709779,"body_markdown":"Okay, this is my code, that works! I copied everything and changed the names.\r\n!!!I have not tested this modified code, so don&#39;t copy paste everything!!!\r\nThe raw principle should definetly work though.\r\n\r\nIf you still have issues or questions, just comment.\r\n\r\n**Main**\r\n\r\n    public class Main {\r\n\r\n\t    public static void main(String[] args) {\r\n\r\n\t\t// Your code starts here, and runs Processing. \r\n\t\t// This is also, how you normally start Processing sketches.\r\n\t\tPApplet.main(Sketch.class.getName());\r\n\t    }\r\n    }\r\n\r\n**Sketch**\r\n\r\n    public class Sketch extends PApplet{\r\n\r\n\t    @Override\r\n\t    public void settings() {\r\n\t\t    size(200, 200, FX2D); // Size doesn&#39;t really matter\r\n\t    }\r\n\r\n\r\n\t    @Override\r\n\t    public void setup() {\r\n\r\n\t    }\r\n\r\n\t    @Override\r\n\t    public void draw() {\r\n\r\n\t    }\r\n\r\n\r\n\t// Processing uses this function to determine, \r\n\t// how to display everything, how to open the canvas...\r\n\t// We override the code, that would normally open a window with the normal Processing stuff,\r\n\t// to open start new JavaFX application in a new Thread.\r\n\r\n\r\n\t// micycle&#39;s code\r\n\t    @Override\r\n\t    protected PSurface initSurface() {\r\n\t        g = createPrimaryGraphics();\r\n\t        PSurface genericSurface = g.createSurface();\r\n\t        PSurfaceFX fxSurface = (PSurfaceFX) genericSurface;\r\n\r\n\t        fxSurface.sketch = this;\r\n\r\n\t        // Because the JavaFX App is being launched by reflection,\r\n\t        // we can&#39;t pass variables to it via constructor, so\r\n\t        // we have to access it in static context.\r\n\r\n\t        // Here, we give JavaFX the surface.\r\n\t        ExampleApp.surface = fxSurface;\r\n\r\n\t        // New thread started, so JavaFX and Processing don&#39;t interrupt each other.\r\n\t        new Thread(new Runnable() {\r\n\t            public void run() {\r\n\r\n\t        \t    // JavaFX way of launching a new Application\r\n\t                Application.launch(ExampleApp.class);\r\n\t            }\r\n\t        }).start();\r\n\r\n\t    while (fxSurface.stage == null) {\r\n\t        try {\r\n\t            Thread.sleep(5);\r\n\t        } catch (InterruptedException e) {\r\n\t        \r\n            }\r\n\t    }\r\n\r\n\t        this.surface = fxSurface;\r\n\t        return fxSurface;\r\n\t    }\r\n    }\r\n\r\n**ExampleApp**\r\n\r\n    public class ExampleApp extends Application {\r\n\r\n\t\tpublic Canvas canvas; // The Canvas you will be drawing to \r\n\t\tpublic static PSurfaceFX surface; // The Processing surface\r\n\r\n\r\n\r\n\t\t// JavaFX started, this method is being run to set everything up.\r\n\t\t@Override\r\n\t\tpublic void start(Stage primaryStage) {\r\n\r\n\t\t\t// This sets up the canvas, and the drawing region.\r\n\t\t\tcanvas = (Canvas) surface.getNative();\r\n\t\t\tsurface.fx.context = canvas.getGraphicsContext2D();\r\n\t\t\tsurface.stage = primaryStage;\r\n\r\n\r\n\t\t\t// I&#39;m just loading my FXML file. You can do all JavaFX stuff via code, if you want\r\n\t\t\ttry {\r\n\r\n\t\t\t\t// !!My root Container is a BorderPane!!\r\n\t\t\t\tBorderPane root = FXMLLoader.load(getClass().getClassLoader().getResource(&quot;application.fxml&quot;));\r\n\t\t\t} catch(IOException e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\r\n\t\t\t// Getting the Anchor pane, that is in the center of my BorderPane\r\n\t\t\tAnchorPane pane = (AnchorPane) root.getCenter();\r\n\r\n\t\t\t// The Anchor pane is being used, so the canvas can fill the parent (Center)\r\n\t\t\t// Canvases don&#39;t have a property to fill it&#39;s parent, like most Containers do (Because it isn&#39;t a container)\r\n\t\t\tcanvas.widthProperty().bind(pane.widthProperty());\r\n\t\t\tcanvas.heightProperty().bind(pane.heightProperty());\r\n\r\n\t\t\t// Adding the canvas to your App\r\n\t\t\troot.getChildren().add(canvas);\r\n\r\n\t\t\t// Launching the Stage\r\n\t\t\tprimaryStage.setTitle(&quot;Example App&quot;);\r\n\t\t\tprimaryStage.setScene(new Scene(root));\r\n\t\t\tprimaryStage.show();\r\n\t\t}\r\n\r\n\t}","title":"Java Processing 3 PAplet in JavaFX scene as FXNode","body":"<p>Okay, this is my code, that works! I copied everything and changed the names.\n!!!I have not tested this modified code, so don't copy paste everything!!!\nThe raw principle should definetly work though.</p>\n\n<p>If you still have issues or questions, just comment.</p>\n\n<p><strong>Main</strong></p>\n\n<pre><code>public class Main {\n\n    public static void main(String[] args) {\n\n    // Your code starts here, and runs Processing. \n    // This is also, how you normally start Processing sketches.\n    PApplet.main(Sketch.class.getName());\n    }\n}\n</code></pre>\n\n<p><strong>Sketch</strong></p>\n\n<pre><code>public class Sketch extends PApplet{\n\n    @Override\n    public void settings() {\n        size(200, 200, FX2D); // Size doesn't really matter\n    }\n\n\n    @Override\n    public void setup() {\n\n    }\n\n    @Override\n    public void draw() {\n\n    }\n\n\n// Processing uses this function to determine, \n// how to display everything, how to open the canvas...\n// We override the code, that would normally open a window with the normal Processing stuff,\n// to open start new JavaFX application in a new Thread.\n\n\n// micycle's code\n    @Override\n    protected PSurface initSurface() {\n        g = createPrimaryGraphics();\n        PSurface genericSurface = g.createSurface();\n        PSurfaceFX fxSurface = (PSurfaceFX) genericSurface;\n\n        fxSurface.sketch = this;\n\n        // Because the JavaFX App is being launched by reflection,\n        // we can't pass variables to it via constructor, so\n        // we have to access it in static context.\n\n        // Here, we give JavaFX the surface.\n        ExampleApp.surface = fxSurface;\n\n        // New thread started, so JavaFX and Processing don't interrupt each other.\n        new Thread(new Runnable() {\n            public void run() {\n\n                // JavaFX way of launching a new Application\n                Application.launch(ExampleApp.class);\n            }\n        }).start();\n\n    while (fxSurface.stage == null) {\n        try {\n            Thread.sleep(5);\n        } catch (InterruptedException e) {\n\n        }\n    }\n\n        this.surface = fxSurface;\n        return fxSurface;\n    }\n}\n</code></pre>\n\n<p><strong>ExampleApp</strong></p>\n\n<pre><code>public class ExampleApp extends Application {\n\n    public Canvas canvas; // The Canvas you will be drawing to \n    public static PSurfaceFX surface; // The Processing surface\n\n\n\n    // JavaFX started, this method is being run to set everything up.\n    @Override\n    public void start(Stage primaryStage) {\n\n        // This sets up the canvas, and the drawing region.\n        canvas = (Canvas) surface.getNative();\n        surface.fx.context = canvas.getGraphicsContext2D();\n        surface.stage = primaryStage;\n\n\n        // I'm just loading my FXML file. You can do all JavaFX stuff via code, if you want\n        try {\n\n            // !!My root Container is a BorderPane!!\n            BorderPane root = FXMLLoader.load(getClass().getClassLoader().getResource(\"application.fxml\"));\n        } catch(IOException e) {\n            e.printStackTrace();\n        }\n\n        // Getting the Anchor pane, that is in the center of my BorderPane\n        AnchorPane pane = (AnchorPane) root.getCenter();\n\n        // The Anchor pane is being used, so the canvas can fill the parent (Center)\n        // Canvases don't have a property to fill it's parent, like most Containers do (Because it isn't a container)\n        canvas.widthProperty().bind(pane.widthProperty());\n        canvas.heightProperty().bind(pane.heightProperty());\n\n        // Adding the canvas to your App\n        root.getChildren().add(canvas);\n\n        // Launching the Stage\n        primaryStage.setTitle(\"Example App\");\n        primaryStage.setScene(new Scene(root));\n        primaryStage.show();\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14564109,"reputation":55,"user_id":10519401,"display_name":"StefanH"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1545061795,"creation_date":1545061795,"answer_id":53818617,"question_id":52709779,"body_markdown":"Okay, since last time , I changed some elements.\r\nThe canvas&#39;s parent is now just a Pane instead of an AnchorPane.\r\n\r\nThe FXML won&#39;t help you much... It is just a BorderPane with another Pane in it, but alright... \r\n\r\n     &lt;center&gt;\r\n      &lt;VBox prefHeight=&quot;200.0&quot; prefWidth=&quot;100.0&quot; BorderPane.alignment=&quot;CENTER&quot;&gt;\r\n         &lt;children&gt;\r\n\r\n            &lt;Pane maxHeight=&quot;1.7976931348623157E308&quot; VBox.vgrow=&quot;ALWAYS&quot; /&gt;\r\n                  \r\n         &lt;/children&gt;\r\n      &lt;/VBox&gt;\r\n\r\nSo, what I&#39;m doing is taking the Canvas element, Processing creates and just adding it to the Pane.","title":"Java Processing 3 PAplet in JavaFX scene as FXNode","body":"<p>Okay, since last time , I changed some elements.\nThe canvas's parent is now just a Pane instead of an AnchorPane.</p>\n\n<p>The FXML won't help you much... It is just a BorderPane with another Pane in it, but alright... </p>\n\n<pre><code> &lt;center&gt;\n  &lt;VBox prefHeight=\"200.0\" prefWidth=\"100.0\" BorderPane.alignment=\"CENTER\"&gt;\n     &lt;children&gt;\n\n        &lt;Pane maxHeight=\"1.7976931348623157E308\" VBox.vgrow=\"ALWAYS\" /&gt;\n\n     &lt;/children&gt;\n  &lt;/VBox&gt;\n</code></pre>\n\n<p>So, what I'm doing is taking the Canvas element, Processing creates and just adding it to the Pane.</p>\n"},{"tags":[],"owner":{"account_id":12511748,"reputation":176,"user_id":9106580,"display_name":"Pierre Vittet"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693125851,"creation_date":1693125851,"answer_id":76986307,"question_id":52709779,"body_markdown":"I have make a fork of processing 3 (\r\nhttps://github.com/Piervit/processing3-javafx/tree/main) which\r\n  - is build with maven\r\n  - work with java 17\r\n  - only should be use with fx2d\r\n  - provide a javafx node which can be embedded in a frame.\r\n ","title":"Java Processing 3 PAplet in JavaFX scene as FXNode","body":"<p>I have make a fork of processing 3 (\n<a href=\"https://github.com/Piervit/processing3-javafx/tree/main\" rel=\"nofollow noreferrer\">https://github.com/Piervit/processing3-javafx/tree/main</a>) which</p>\n<ul>\n<li>is build with maven</li>\n<li>work with java 17</li>\n<li>only should be use with fx2d</li>\n<li>provide a javafx node which can be embedded in a frame.</li>\n</ul>\n"}],"owner":{"account_id":9818532,"reputation":1278,"user_id":7274239,"display_name":"Jan Čern&#253;"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2666,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":52782409,"answer_count":5,"score":6,"last_activity_date":1693125851,"creation_date":1539031153,"question_id":52709779,"body_markdown":"I am trying to make a program for visual analyzing Fractal sets. I choose Processing 3 as drawing library and JavaFX for the user interface. There are some screenshots of the current state: \r\n\r\n**My GUI:**\r\n\r\n[![JavaFX Scene Builder][1]][1]\r\n\r\n**there is Launcher code:**\r\n\r\n    import Graphics.Canvas2D;\r\n    import javafx.application.Application;\r\n    import javafx.fxml.FXMLLoader;\r\n    import javafx.scene.Parent;\r\n    import javafx.scene.Scene;\r\n    import javafx.stage.Stage;\r\n    import processing.core.PGraphics;\r\n    \r\n    import java.io.IOException;\r\n    \r\n    public class Launcher extends Application {\r\n        private static Stage primaryStage;\r\n    \r\n        public static void main(String[] args) {\r\n            launch(args);\r\n        }\r\n    \r\n        @Override\r\n        public void start(Stage primaryStage) {\r\n            Parent root = loadFXML(&quot;MainUI.fxml&quot;);\r\n            Scene scene = new Scene(root, 500, 400);\r\n            primaryStage.setTitle(&quot;Fractal Analyzer&quot;);\r\n            primaryStage.setScene(scene);\r\n            primaryStage.show();\r\n            primaryStage.setMaximized(true);\r\n    \r\n            Launcher.primaryStage = primaryStage;\r\n        }\r\n    \r\n        @Override\r\n        public void init() {\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void stop() {\r\n            System.exit(0);\r\n        }\r\n    \r\n        public static Stage getPrimaryStage() {\r\n            return primaryStage;\r\n        }\r\n    \r\n        public  void setCanvas(Canvas2D canvas){\r\n            \r\n        }\r\n    \r\n    \r\n    \r\n        private Parent loadFXML(String path) {\r\n            try {\r\n                return FXMLLoader.load(getClass().getResource(path));\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n            System.exit(1);\r\n            return null;\r\n        }\r\n    }\r\n\r\n\r\n**Testing fractal PAplet:**\r\n\r\n[![Processing PAplet window][2]][2]\r\n\r\n\r\n**There is a code of this PAplet:**\r\n\r\n    package Fractal;\r\n    \r\n    import processing.core.PApplet;\r\n    \r\n    public class SirpenskiTriangle extends PApplet {\r\n    \r\n        public static void main(String[] args) {\r\n            PApplet.main(&quot;Fractal.SirpenskiTriangle&quot;);\r\n        }\r\n    \r\n        public void settings() {\r\n            size(640, 640);\r\n            smooth();\r\n            if (frame != null) {\r\n                frame.setResizable(true);\r\n            }\r\n        }\r\n    \r\n        public void draw() {\r\n            drawTriangle(new Position(300, 20), new Position(620, 620), new Position(20, 620), 0);\r\n            noLoop();\r\n            scale(10f);\r\n        }\r\n    \r\n        public void setup(){}\r\n    \r\n        public void drawTriangle(Position top, Position right, Position left, int depth) {\r\n            if (depth &gt; 10) return;\r\n    \r\n            line(top.x, top.y, right.x, right.y);\r\n            line(right.x, right.y, left.x, left.y);\r\n            line(left.x, left.y, top.x, top.y);\r\n    \r\n            drawTriangle(top, top.middleWith(right), top.middleWith(left), depth + 1);\r\n            drawTriangle(top.middleWith(left), left.middleWith(right), left, depth + 1);\r\n            drawTriangle(top.middleWith(right), right, left.middleWith(right), depth + 1);\r\n        }\r\n    \r\n        class Position {\r\n            final float x;\r\n            final float y;\r\n    \r\n            Position(float x, float y) {\r\n                this.x = x;\r\n                this.y = y;\r\n            }\r\n    \r\n            Position middleWith(Position other) {\r\n                return new Position((x + other.x) / 2, (y + other.y) / 2);\r\n            }\r\n        }\r\n    }\r\n\r\nIs there any way to put processing PAplet into JavaFX scene like canvas or something similar?\r\n\r\nI hope it can work like this, but this code is invalid:\r\n[![example][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qAzsK.png\r\n  [2]: https://i.stack.imgur.com/bmHbz.png\r\n  [3]: https://i.stack.imgur.com/qtSye.png","title":"Java Processing 3 PAplet in JavaFX scene as FXNode","body":"<p>I am trying to make a program for visual analyzing Fractal sets. I choose Processing 3 as drawing library and JavaFX for the user interface. There are some screenshots of the current state: </p>\n\n<p><strong>My GUI:</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/qAzsK.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/qAzsK.png\" alt=\"JavaFX Scene Builder\"></a></p>\n\n<p><strong>there is Launcher code:</strong></p>\n\n<pre><code>import Graphics.Canvas2D;\nimport javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\nimport processing.core.PGraphics;\n\nimport java.io.IOException;\n\npublic class Launcher extends Application {\n    private static Stage primaryStage;\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n\n    @Override\n    public void start(Stage primaryStage) {\n        Parent root = loadFXML(\"MainUI.fxml\");\n        Scene scene = new Scene(root, 500, 400);\n        primaryStage.setTitle(\"Fractal Analyzer\");\n        primaryStage.setScene(scene);\n        primaryStage.show();\n        primaryStage.setMaximized(true);\n\n        Launcher.primaryStage = primaryStage;\n    }\n\n    @Override\n    public void init() {\n\n    }\n\n    @Override\n    public void stop() {\n        System.exit(0);\n    }\n\n    public static Stage getPrimaryStage() {\n        return primaryStage;\n    }\n\n    public  void setCanvas(Canvas2D canvas){\n\n    }\n\n\n\n    private Parent loadFXML(String path) {\n        try {\n            return FXMLLoader.load(getClass().getResource(path));\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        System.exit(1);\n        return null;\n    }\n}\n</code></pre>\n\n<p><strong>Testing fractal PAplet:</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/bmHbz.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/bmHbz.png\" alt=\"Processing PAplet window\"></a></p>\n\n<p><strong>There is a code of this PAplet:</strong></p>\n\n<pre><code>package Fractal;\n\nimport processing.core.PApplet;\n\npublic class SirpenskiTriangle extends PApplet {\n\n    public static void main(String[] args) {\n        PApplet.main(\"Fractal.SirpenskiTriangle\");\n    }\n\n    public void settings() {\n        size(640, 640);\n        smooth();\n        if (frame != null) {\n            frame.setResizable(true);\n        }\n    }\n\n    public void draw() {\n        drawTriangle(new Position(300, 20), new Position(620, 620), new Position(20, 620), 0);\n        noLoop();\n        scale(10f);\n    }\n\n    public void setup(){}\n\n    public void drawTriangle(Position top, Position right, Position left, int depth) {\n        if (depth &gt; 10) return;\n\n        line(top.x, top.y, right.x, right.y);\n        line(right.x, right.y, left.x, left.y);\n        line(left.x, left.y, top.x, top.y);\n\n        drawTriangle(top, top.middleWith(right), top.middleWith(left), depth + 1);\n        drawTriangle(top.middleWith(left), left.middleWith(right), left, depth + 1);\n        drawTriangle(top.middleWith(right), right, left.middleWith(right), depth + 1);\n    }\n\n    class Position {\n        final float x;\n        final float y;\n\n        Position(float x, float y) {\n            this.x = x;\n            this.y = y;\n        }\n\n        Position middleWith(Position other) {\n            return new Position((x + other.x) / 2, (y + other.y) / 2);\n        }\n    }\n}\n</code></pre>\n\n<p>Is there any way to put processing PAplet into JavaFX scene like canvas or something similar?</p>\n\n<p>I hope it can work like this, but this code is invalid:\n<a href=\"https://i.stack.imgur.com/qtSye.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/qtSye.png\" alt=\"example\"></a></p>\n"},{"tags":["java","apache-spark","beam"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1693313510,"post_id":76986222,"comment_id":135741736,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"owner":{"account_id":16548308,"reputation":39,"user_id":11957294,"display_name":"Ahmed Hesham"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693125292,"creation_date":1693123916,"question_id":76986222,"body_markdown":"I have a Java program in which I use `Spark` as a runner for beam pipeline.\r\nThere is a `Spark` task that collects some data. It got finished correctly but, after that, its worker died and this task got assigned to another worker.\r\nWhy doesn&#39;t it recover the data that&#39;s already collected?\r\nWhat&#39;s the best way to recover this data ?\r\n\r\nI tried using `shuffle service` but still faced the same problem. Any advice is welcome.","title":"Spark Task Data loss after worker dies in Java","body":"<p>I have a Java program in which I use <code>Spark</code> as a runner for beam pipeline.\nThere is a <code>Spark</code> task that collects some data. It got finished correctly but, after that, its worker died and this task got assigned to another worker.\nWhy doesn't it recover the data that's already collected?\nWhat's the best way to recover this data ?</p>\n<p>I tried using <code>shuffle service</code> but still faced the same problem. Any advice is welcome.</p>\n"},{"tags":["java","spring","spring-data-jpa","spring-data","batch-processing"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1693101972,"post_id":76985249,"comment_id":135715334,"body_markdown":"It would help to share the code you&#39;ve made regarding the processing of these requests, since that&#39;s the area of concern.","body":"It would help to share the code you&#39;ve made regarding the processing of these requests, since that&#39;s the area of concern."},{"owner":{"account_id":1100252,"reputation":10087,"user_id":1092818,"display_name":"crizzis"},"score":1,"creation_date":1693122695,"post_id":76985249,"comment_id":135716432,"body_markdown":"I&#39;m confused as to what exactly you are looking for. What do you mean by &#39;batch requests&#39;? Are you simply supposed to receive the payload and send the requests to appropriate REST endpoints? In such case, any HTTP client will work for you. Just use `RestTemplate` since you&#39;re using Spring already. You can couple that with Spring Batch for a declarative approach if you want, though it&#39;s probably an overkill","body":"I&#39;m confused as to what exactly you are looking for. What do you mean by &#39;batch requests&#39;? Are you simply supposed to receive the payload and send the requests to appropriate REST endpoints? In such case, any HTTP client will work for you. Just use <code>RestTemplate</code> since you&#39;re using Spring already. You can couple that with Spring Batch for a declarative approach if you want, though it&#39;s probably an overkill"},{"owner":{"account_id":21523921,"reputation":35,"user_id":15864561,"display_name":"Lubos Jansky"},"score":0,"creation_date":1693124274,"post_id":76985249,"comment_id":135716578,"body_markdown":"@crizzis I want to implement something like this: https://learn.microsoft.com/en-us/graph/json-batching. So, to send multiple API requests in just one API call.","body":"@crizzis I want to implement something like this: <a href=\"https://learn.microsoft.com/en-us/graph/json-batching\" rel=\"nofollow noreferrer\">learn.microsoft.com/en-us/graph/json-batching</a>. So, to send multiple API requests in just one API call."},{"owner":{"account_id":21523921,"reputation":35,"user_id":15864561,"display_name":"Lubos Jansky"},"score":0,"creation_date":1693125194,"post_id":76985249,"comment_id":135716659,"body_markdown":"@Rogue I have Implemented only basic things right now. See updated question :)","body":"@Rogue I have Implemented only basic things right now. See updated question :)"},{"owner":{"account_id":1100252,"reputation":10087,"user_id":1092818,"display_name":"crizzis"},"score":1,"creation_date":1693125359,"post_id":76985249,"comment_id":135716675,"body_markdown":"In that case, my comment still stands. Why inject `EventWebController`, though? Just use `RestTemplate` to call your own app. If you want to avoid the network overhead, you might want to have a look at [`HandlerAdapter`](https://stackoverflow.com/a/1324506/1092818)","body":"In that case, my comment still stands. Why inject <code>EventWebController</code>, though? Just use <code>RestTemplate</code> to call your own app. If you want to avoid the network overhead, you might want to have a look at <a href=\"https://stackoverflow.com/a/1324506/1092818\"><code>HandlerAdapter</code></a>"}],"owner":{"account_id":21523921,"reputation":35,"user_id":15864561,"display_name":"Lubos Jansky"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693125175,"creation_date":1693093969,"question_id":76985249,"body_markdown":"\r\nI would like to implement batch request handling in Java (Spring Data JPA, Hibernate, Lombok).\r\n\r\nI have some @RestControllers. This is the request body for batch request: \r\n```\r\n[\r\n  {\r\n    &quot;id&quot;: &quot;00000000-0000-0000-0000-000000000001&quot;,\r\n    &quot;method&quot;: &quot;GET&quot;,\r\n    &quot;URL&quot;: &quot;/something/&quot;,\r\n    &quot;body&quot;: {}\r\n  },\r\n  {\r\n    &quot;id&quot;: &quot;00000000-0000-0000-0000-000000000002&quot;,\r\n    &quot;method&quot;: &quot;POST&quot;,\r\n    &quot;url&quot;: &quot;/something2/&quot;,\r\n    &quot;body&quot;: {}\r\n  }\r\n]\r\n```\r\n\r\nI need to dynamically determine the correct RestController depending on **METHOD** and **URL**, which must process the request from batch. The response must look like this:\r\n\r\n```\r\n{\r\n  &quot;00000000-0000-0000-0000-000000000001&quot;: {\r\n    &quot;status&quot;: &quot;OK&quot;,\r\n    &quot;data&quot;: {}\r\n  },\r\n  &quot;00000000-0000-0000-0000-000000000002&quot;: {\r\n    &quot;status&quot;: &quot;ACCEPTED&quot;,\r\n    &quot;data&quot;: {}\r\n  }\r\n}\r\n```\r\n\r\nI already have the correct implementation of classes for batchRequests, batchResponse, and base BatchController, but I need to add dynamic request processing.\r\n\r\nThank you in advance for tips on how to do that.\r\n\r\n**Update - What is implemented:**\r\n - BatchRequest class:\r\n```\r\n\tpackage _batch;  \r\n\t  \r\n\timport jakarta.persistence.Transient;  \r\n\timport lombok.Getter;  \r\n\timport lombok.Setter;  \r\n\timport org.springframework.web.bind.annotation.RequestMethod;  \r\n\t  \r\n\timport java.util.UUID;  \r\n\t  \r\n\t@Getter  \r\n\t@Setter  \r\n\tpublic class BatchRequest {  \r\n\t  \r\n\t    @Transient  \r\n\t  private UUID id;  \r\n\t  \r\n\t    @Transient  \r\n\t  private RequestMethod method;  \r\n\t  \r\n\t    @Transient  \r\n\t  private String url;  \r\n\t  \r\n\t    @Transient  \r\n\t  private Object body;  \r\n\t  \r\n\t}\r\n```\r\n- BatchResponse class:\r\n```\r\n\tpackage _batch;  \r\n\t  \r\n\timport jakarta.persistence.Transient;  \r\n\timport lombok.Getter;  \r\n\timport lombok.Setter;  \r\n\timport org.springframework.http.HttpStatus;  \r\n\t  \r\n\t@Getter  \r\n\t@Setter  \r\n\tpublic class BatchResponse {  \r\n\t  \r\n\t    @Transient  \r\n\t  private HttpStatus status;  \r\n\t  \r\n\t    @Transient  \r\n\t  private Object data;  \r\n\t  \r\n\t}\r\n```\r\n- BatchWebController class:\r\n```\r\n\tpackage _batch;  \r\n\t  \r\n\timport EventWebController;  \r\n\timport io.swagger.v3.oas.annotations.security.SecurityRequirement;  \r\n\timport io.swagger.v3.oas.annotations.tags.Tag;  \r\n\timport org.springframework.beans.factory.annotation.Autowired;  \r\n\timport org.springframework.http.HttpStatus;  \r\n\timport org.springframework.security.access.prepost.PreAuthorize;  \r\n\timport org.springframework.web.bind.annotation.PostMapping;  \r\n\timport org.springframework.web.bind.annotation.RequestBody;  \r\n\timport org.springframework.web.bind.annotation.RestController;  \r\n\t  \r\n\timport java.util.*;  \r\n\t  \r\n\t@RestController  \r\n\t@PreAuthorize(&quot;@caller.isAuthenticated()&quot;)  \r\n\t@Tag(name = &quot;_Batch&quot;, description = &quot;Controller for handling batch requests&quot;)  \r\n\t@SecurityRequirement(name = &quot;Microsoft Entra&quot;)  \r\n\tpublic class BatchWebController {  \r\n\t  \r\n\t    @Autowired  \r\n\t  EventWebController eventWebController;  \r\n\t  \r\n\t  \r\n\t    @PostMapping(&quot;/batch&quot;)  \r\n\t    public Map&lt;UUID, BatchResponse&gt; processBatchRequest(@RequestBody List&lt;BatchRequest&gt; batchRequests) {  \r\n\t  \r\n\t        Map&lt;UUID, BatchResponse&gt; batchResponseList = new HashMap&lt;&gt;();  \r\n\t  \r\n\t        for (BatchRequest request : batchRequests) {  \r\n\t  \r\n\t            BatchResponse batchResponse = new BatchResponse();  \r\n\t            \r\n\t            ---&gt;&gt; batchResponse.setStatus(HttpStatus.OK);\r\n\t            ---&gt;&gt; batchResponse.setData(eventWebController.getEvents());\r\n\t  \r\n\t            batchResponseList.put(request.getId(), batchResponse);  \r\n\t  \r\n\t        }  \r\n\t  \r\n\t        return batchResponseList;  \r\n\t  \r\n\t    }  \r\n\t  \r\n\t}\r\n```\r\n- And there is a look on EventWebController:\r\n```\r\n\tpackage event;\r\n\r\n\timport NotFoundException;\r\n\timport io.swagger.v3.oas.annotations.security.SecurityRequirement;\r\n\timport io.swagger.v3.oas.annotations.tags.Tag;\r\n\timport org.springframework.beans.factory.annotation.Autowired;\r\n\timport org.springframework.security.access.prepost.PreAuthorize;\r\n\timport org.springframework.web.bind.annotation.GetMapping;\r\n\timport org.springframework.web.bind.annotation.PathVariable;\r\n\timport org.springframework.web.bind.annotation.RestController;\r\n\r\n\timport java.util.List;\r\n\timport java.util.UUID;\r\n\r\n\t@RestController\r\n\t@Tag(name = &quot;Events&quot;)\r\n\t@SecurityRequirement(name = &quot;Microsoft Entra&quot;)\r\n\tpublic class EventWebController {\r\n\r\n\t    @Autowired\r\n\t    private EventService eventService;\r\n\r\n\t    @GetMapping(&quot;/applications/events&quot;)\r\n\t    public List&lt;Event&gt; getEvents() {\r\n\t        return eventService.get();\r\n\t    }\r\n\r\n\t    @GetMapping(&quot;/applications/events/{id}&quot;)\r\n\t    public Event getEvent(@PathVariable UUID id) throws NotFoundException {\r\n\t        return eventService.get(id);\r\n\t    }\r\n\r\n\t}\r\n```","title":"Spring JPA - Batch Request","body":"<p>I would like to implement batch request handling in Java (Spring Data JPA, Hibernate, Lombok).</p>\n<p>I have some @RestControllers. This is the request body for batch request:</p>\n<pre><code>[\n  {\n    &quot;id&quot;: &quot;00000000-0000-0000-0000-000000000001&quot;,\n    &quot;method&quot;: &quot;GET&quot;,\n    &quot;URL&quot;: &quot;/something/&quot;,\n    &quot;body&quot;: {}\n  },\n  {\n    &quot;id&quot;: &quot;00000000-0000-0000-0000-000000000002&quot;,\n    &quot;method&quot;: &quot;POST&quot;,\n    &quot;url&quot;: &quot;/something2/&quot;,\n    &quot;body&quot;: {}\n  }\n]\n</code></pre>\n<p>I need to dynamically determine the correct RestController depending on <strong>METHOD</strong> and <strong>URL</strong>, which must process the request from batch. The response must look like this:</p>\n<pre><code>{\n  &quot;00000000-0000-0000-0000-000000000001&quot;: {\n    &quot;status&quot;: &quot;OK&quot;,\n    &quot;data&quot;: {}\n  },\n  &quot;00000000-0000-0000-0000-000000000002&quot;: {\n    &quot;status&quot;: &quot;ACCEPTED&quot;,\n    &quot;data&quot;: {}\n  }\n}\n</code></pre>\n<p>I already have the correct implementation of classes for batchRequests, batchResponse, and base BatchController, but I need to add dynamic request processing.</p>\n<p>Thank you in advance for tips on how to do that.</p>\n<p><strong>Update - What is implemented:</strong></p>\n<ul>\n<li>BatchRequest class:</li>\n</ul>\n<pre><code>    package _batch;  \n      \n    import jakarta.persistence.Transient;  \n    import lombok.Getter;  \n    import lombok.Setter;  \n    import org.springframework.web.bind.annotation.RequestMethod;  \n      \n    import java.util.UUID;  \n      \n    @Getter  \n    @Setter  \n    public class BatchRequest {  \n      \n        @Transient  \n      private UUID id;  \n      \n        @Transient  \n      private RequestMethod method;  \n      \n        @Transient  \n      private String url;  \n      \n        @Transient  \n      private Object body;  \n      \n    }\n</code></pre>\n<ul>\n<li>BatchResponse class:</li>\n</ul>\n<pre><code>    package _batch;  \n      \n    import jakarta.persistence.Transient;  \n    import lombok.Getter;  \n    import lombok.Setter;  \n    import org.springframework.http.HttpStatus;  \n      \n    @Getter  \n    @Setter  \n    public class BatchResponse {  \n      \n        @Transient  \n      private HttpStatus status;  \n      \n        @Transient  \n      private Object data;  \n      \n    }\n</code></pre>\n<ul>\n<li>BatchWebController class:</li>\n</ul>\n<pre><code>    package _batch;  \n      \n    import EventWebController;  \n    import io.swagger.v3.oas.annotations.security.SecurityRequirement;  \n    import io.swagger.v3.oas.annotations.tags.Tag;  \n    import org.springframework.beans.factory.annotation.Autowired;  \n    import org.springframework.http.HttpStatus;  \n    import org.springframework.security.access.prepost.PreAuthorize;  \n    import org.springframework.web.bind.annotation.PostMapping;  \n    import org.springframework.web.bind.annotation.RequestBody;  \n    import org.springframework.web.bind.annotation.RestController;  \n      \n    import java.util.*;  \n      \n    @RestController  \n    @PreAuthorize(&quot;@caller.isAuthenticated()&quot;)  \n    @Tag(name = &quot;_Batch&quot;, description = &quot;Controller for handling batch requests&quot;)  \n    @SecurityRequirement(name = &quot;Microsoft Entra&quot;)  \n    public class BatchWebController {  \n      \n        @Autowired  \n      EventWebController eventWebController;  \n      \n      \n        @PostMapping(&quot;/batch&quot;)  \n        public Map&lt;UUID, BatchResponse&gt; processBatchRequest(@RequestBody List&lt;BatchRequest&gt; batchRequests) {  \n      \n            Map&lt;UUID, BatchResponse&gt; batchResponseList = new HashMap&lt;&gt;();  \n      \n            for (BatchRequest request : batchRequests) {  \n      \n                BatchResponse batchResponse = new BatchResponse();  \n                \n                ---&gt;&gt; batchResponse.setStatus(HttpStatus.OK);\n                ---&gt;&gt; batchResponse.setData(eventWebController.getEvents());\n      \n                batchResponseList.put(request.getId(), batchResponse);  \n      \n            }  \n      \n            return batchResponseList;  \n      \n        }  \n      \n    }\n</code></pre>\n<ul>\n<li>And there is a look on EventWebController:</li>\n</ul>\n<pre><code>    package event;\n\n    import NotFoundException;\n    import io.swagger.v3.oas.annotations.security.SecurityRequirement;\n    import io.swagger.v3.oas.annotations.tags.Tag;\n    import org.springframework.beans.factory.annotation.Autowired;\n    import org.springframework.security.access.prepost.PreAuthorize;\n    import org.springframework.web.bind.annotation.GetMapping;\n    import org.springframework.web.bind.annotation.PathVariable;\n    import org.springframework.web.bind.annotation.RestController;\n\n    import java.util.List;\n    import java.util.UUID;\n\n    @RestController\n    @Tag(name = &quot;Events&quot;)\n    @SecurityRequirement(name = &quot;Microsoft Entra&quot;)\n    public class EventWebController {\n\n        @Autowired\n        private EventService eventService;\n\n        @GetMapping(&quot;/applications/events&quot;)\n        public List&lt;Event&gt; getEvents() {\n            return eventService.get();\n        }\n\n        @GetMapping(&quot;/applications/events/{id}&quot;)\n        public Event getEvent(@PathVariable UUID id) throws NotFoundException {\n            return eventService.get(id);\n        }\n\n    }\n</code></pre>\n"},{"tags":["java","spring-boot","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":1100252,"reputation":10087,"user_id":1092818,"display_name":"crizzis"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1693125122,"creation_date":1693124797,"answer_id":76986263,"question_id":76986089,"body_markdown":"There are two problems in your code that I can see: \r\n\r\n 1. There is no transaction around your controller call, and so, you are trying to persist an `Flashcard` entity that is referencing a detached `User`\r\n 2. Neither side of the association is marked as `@JsonIgnore`, so JSON serialization fails either with a `StackOverflowError`, if `spring.jpa.open-in-view` is `true`, or with a `LazyInitializationException` otherwise (this is likely the core issue, but I cannot be sure, since the root cause is not included in the stack trace you provided)\r\n\r\n\r\nA simpler way to do what you want would be: \r\n\r\n```\r\n@Transactional\r\n@ResponseStatus(CREATED)\r\n@PostMapping(&quot;/users/{id}/flashcards&quot;)\r\npublic Flashcard createFlashcard(@PathVariable(&quot;id&quot;) int userId, @RequestBody Flashcard flashcard) {\r\n    flashcard.setUser(userRepository.getReferenceById(userId));\r\n    return flashcardRepository.save(flashcard);\r\n}\r\n```\r\n\r\ncoupled with \r\n\r\n```\r\n@Data\r\n@Entity\r\npublic class User {\r\n    \r\n    @JsonIgnore\r\n    @OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;user&quot;)\r\n    private List&lt;Flashcard&gt; flashcards;\r\n}\r\n```\r\n\r\nSince you marked both sides to be lazy, you might need `@JsonIgnore` on both sides. \r\n\r\nBTW `@OnDelete(action = OnDeleteAction.CASCADE)` on `Flashcard.user` doesn&#39;t really make sense (what it is saying is &#39;when one of the user&#39;s flashcard is deleted, please delete the entire user as well&#39;, which I&#39;m pretty sure is NOT what you intended)","title":"Spring boot @OneToMany Relationship I can not create new data","body":"<p>There are two problems in your code that I can see:</p>\n<ol>\n<li>There is no transaction around your controller call, and so, you are trying to persist an <code>Flashcard</code> entity that is referencing a detached <code>User</code></li>\n<li>Neither side of the association is marked as <code>@JsonIgnore</code>, so JSON serialization fails either with a <code>StackOverflowError</code>, if <code>spring.jpa.open-in-view</code> is <code>true</code>, or with a <code>LazyInitializationException</code> otherwise (this is likely the core issue, but I cannot be sure, since the root cause is not included in the stack trace you provided)</li>\n</ol>\n<p>A simpler way to do what you want would be:</p>\n<pre><code>@Transactional\n@ResponseStatus(CREATED)\n@PostMapping(&quot;/users/{id}/flashcards&quot;)\npublic Flashcard createFlashcard(@PathVariable(&quot;id&quot;) int userId, @RequestBody Flashcard flashcard) {\n    flashcard.setUser(userRepository.getReferenceById(userId));\n    return flashcardRepository.save(flashcard);\n}\n</code></pre>\n<p>coupled with</p>\n<pre><code>@Data\n@Entity\npublic class User {\n    \n    @JsonIgnore\n    @OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;user&quot;)\n    private List&lt;Flashcard&gt; flashcards;\n}\n</code></pre>\n<p>Since you marked both sides to be lazy, you might need <code>@JsonIgnore</code> on both sides.</p>\n<p>BTW <code>@OnDelete(action = OnDeleteAction.CASCADE)</code> on <code>Flashcard.user</code> doesn't really make sense (what it is saying is 'when one of the user's flashcard is deleted, please delete the entire user as well', which I'm pretty sure is NOT what you intended)</p>\n"}],"owner":{"account_id":28790009,"reputation":11,"user_id":22049604,"display_name":"emre.krn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76986263,"answer_count":1,"score":0,"last_activity_date":1693125122,"creation_date":1693121554,"question_id":76986089,"body_markdown":"I am working on a new simple flashcard project. In summary: one user can have many flashcards, so the relationship between user and flashcard is oneToMany. When I try to create a new flashcard, I get the following error:\r\n\r\n     2023-08-27T09:03:14.399+02:00  WARN 31571 --- [nio-8080-exec-5] .w.s.m.s.DefaultHandlerExceptionResolver : Failure while trying to resolve exception [org.springframework.http.converter.HttpMessageNotWritableException]\r\n\r\n    java.lang.IllegalStateException: Cannot call sendError() after the response has been committed\r\n\tat org.apache.catalina.connector.ResponseFacade.checkCommitted(ResponseFacade.java:503) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n\tat org.apache.catalina.connector.ResponseFacade.sendError(ResponseFacade.java:347) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n    .\r\n    .\r\n    .\r\n\r\nMy Java classes are as following:\r\n\r\nUser.class:\r\n\r\n    @Data\r\n    @Entity\r\n    public class User {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;userId_generator&quot;)\r\n    private Integer id;\r\n    private String username;\r\n    private String firstName;\r\n    private String lastName;\r\n    private String password;\r\n\r\n    @OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;user&quot;)\r\n    private List&lt;Flashcard&gt; flashcards;\r\n\r\n    @CreationTimestamp\r\n    private Instant createdOn;\r\n    @UpdateTimestamp\r\n    private Instant updatedOn;\r\n    }\r\n\r\nFlashcard.class:\r\n\r\n    @Entity\r\n    @Data\r\n    public class Flashcard {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;flashcardId_generator&quot;)\r\n    private int id;\r\n\r\n    private String name;\r\n    private String description;\r\n\r\n    @ManyToOne( fetch = FetchType.LAZY, optional = false)\r\n    @JoinColumn(name = &quot;user_id&quot;, nullable = false)\r\n    @OnDelete(action = OnDeleteAction.CASCADE)\r\n    private User user;\r\n\r\n\r\n    }\r\n\r\nFlashcardController.class:\r\n\r\n    @RestController\r\n    public class FlashcardController {\r\n    @Autowired\r\n    FlashcardRepository flashcardRepository;\r\n\r\n    @Autowired\r\n    UserRepository userRepository;\r\n\r\n    ...some code with get method\r\n\r\n    @PostMapping(&quot;/users/{id}/flashcards&quot;)\r\n    public ResponseEntity&lt;Flashcard&gt; createFlashcard(@PathVariable(&quot;id&quot;) int userId, @RequestBody       Flashcard flashcard) {\r\n        Flashcard _flashcard = userRepository.findById(userId).map(user -&gt; {\r\n            flashcard.setUser(user);\r\n            return flashcardRepository.save(flashcard);\r\n        }).get();\r\n\r\n        return new ResponseEntity&lt;&gt;(_flashcard, HttpStatus.CREATED);\r\n    }\r\n    }\r\n\r\nWhen I remove \r\n\r\n    @OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;user&quot;)\r\n    private List&lt;Flashcard&gt; flashcards;\r\n\r\nfrom the User.class, I can create new flashcards. However, when I send a get request with a userId, I want to see all flashcards that belongs to him.","title":"Spring boot @OneToMany Relationship I can not create new data","body":"<p>I am working on a new simple flashcard project. In summary: one user can have many flashcards, so the relationship between user and flashcard is oneToMany. When I try to create a new flashcard, I get the following error:</p>\n<pre><code> 2023-08-27T09:03:14.399+02:00  WARN 31571 --- [nio-8080-exec-5] .w.s.m.s.DefaultHandlerExceptionResolver : Failure while trying to resolve exception [org.springframework.http.converter.HttpMessageNotWritableException]\n\njava.lang.IllegalStateException: Cannot call sendError() after the response has been committed\nat org.apache.catalina.connector.ResponseFacade.checkCommitted(ResponseFacade.java:503) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\nat org.apache.catalina.connector.ResponseFacade.sendError(ResponseFacade.java:347) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n.\n.\n.\n</code></pre>\n<p>My Java classes are as following:</p>\n<p>User.class:</p>\n<pre><code>@Data\n@Entity\npublic class User {\n\n@Id\n@GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;userId_generator&quot;)\nprivate Integer id;\nprivate String username;\nprivate String firstName;\nprivate String lastName;\nprivate String password;\n\n@OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;user&quot;)\nprivate List&lt;Flashcard&gt; flashcards;\n\n@CreationTimestamp\nprivate Instant createdOn;\n@UpdateTimestamp\nprivate Instant updatedOn;\n}\n</code></pre>\n<p>Flashcard.class:</p>\n<pre><code>@Entity\n@Data\npublic class Flashcard {\n\n@Id\n@GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;flashcardId_generator&quot;)\nprivate int id;\n\nprivate String name;\nprivate String description;\n\n@ManyToOne( fetch = FetchType.LAZY, optional = false)\n@JoinColumn(name = &quot;user_id&quot;, nullable = false)\n@OnDelete(action = OnDeleteAction.CASCADE)\nprivate User user;\n\n\n}\n</code></pre>\n<p>FlashcardController.class:</p>\n<pre><code>@RestController\npublic class FlashcardController {\n@Autowired\nFlashcardRepository flashcardRepository;\n\n@Autowired\nUserRepository userRepository;\n\n...some code with get method\n\n@PostMapping(&quot;/users/{id}/flashcards&quot;)\npublic ResponseEntity&lt;Flashcard&gt; createFlashcard(@PathVariable(&quot;id&quot;) int userId, @RequestBody       Flashcard flashcard) {\n    Flashcard _flashcard = userRepository.findById(userId).map(user -&gt; {\n        flashcard.setUser(user);\n        return flashcardRepository.save(flashcard);\n    }).get();\n\n    return new ResponseEntity&lt;&gt;(_flashcard, HttpStatus.CREATED);\n}\n}\n</code></pre>\n<p>When I remove</p>\n<pre><code>@OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;user&quot;)\nprivate List&lt;Flashcard&gt; flashcards;\n</code></pre>\n<p>from the User.class, I can create new flashcards. However, when I send a get request with a userId, I want to see all flashcards that belongs to him.</p>\n"},{"tags":["java","hashmap","roman-numerals"],"answers":[{"tags":[],"owner":{"account_id":24029930,"reputation":88,"user_id":18011018,"display_name":"jaragone"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693125003,"creation_date":1693125003,"answer_id":76986275,"question_id":76985716,"body_markdown":"Your code has a couple of issues. The loop control variables tmp and k are not clearly designed. tmp is incrementing when num - Math.pow(10,tmp) is greater than or equal to Math.pow(10, tmp), and k is incrementing otherwise. This creates an ambiguity in the control of the loop, and in certain cases, it might not terminate.\r\n\r\nYou are initializing k to 1 and increasing it in the loop, but k is not really required in this context. **The Roman numeral values are fixed and can be stored in an array or list**.\r\n\r\n    public class Solution {\r\n        \r\n        int findNextDigit(int num, int[] values) {\r\n            for (int value : values) {\r\n                if (num &gt;= value) {\r\n                    return value;\r\n                }\r\n            }\r\n            return 0;\r\n        }\r\n    \r\n        public String intToRoman(int num) {\r\n            StringBuilder ans = new StringBuilder();\r\n    \r\n            // Define the Roman numeral values and their corresponding strings\r\n            int[] values = {1000, 900, 500, 400, 100, 90, 50, 40, 10, 9, 5, 4, 1};\r\n            String[] symbols = {&quot;M&quot;, &quot;CM&quot;, &quot;D&quot;, &quot;CD&quot;, &quot;C&quot;, &quot;XC&quot;, &quot;L&quot;, &quot;XL&quot;, &quot;X&quot;, &quot;IX&quot;, &quot;V&quot;, &quot;IV&quot;, &quot;I&quot;};\r\n    \r\n            for (int i = 0; i &lt; values.length; i++) {\r\n                while (num &gt;= values[i]) {\r\n                    ans.append(symbols[i]);\r\n                    num -= values[i];\r\n                }\r\n            }\r\n    \r\n            return ans.toString();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            Solution solution = new Solution();\r\n            System.out.println(solution.intToRoman(1994));  // Should print &quot;MCMXCIV&quot;\r\n        }\r\n    }\r\n\r\nIn this specific case, using [StringBuilder][1] over String offers significant performance advantages because it avoids the overhead of creating multiple immutable String objects during concatenation. \r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/StringBuilder.html","title":"Why doesn&#39;t my solution to LC 12 Integer to Roman work?","body":"<p>Your code has a couple of issues. The loop control variables tmp and k are not clearly designed. tmp is incrementing when num - Math.pow(10,tmp) is greater than or equal to Math.pow(10, tmp), and k is incrementing otherwise. This creates an ambiguity in the control of the loop, and in certain cases, it might not terminate.</p>\n<p>You are initializing k to 1 and increasing it in the loop, but k is not really required in this context. <strong>The Roman numeral values are fixed and can be stored in an array or list</strong>.</p>\n<pre><code>public class Solution {\n    \n    int findNextDigit(int num, int[] values) {\n        for (int value : values) {\n            if (num &gt;= value) {\n                return value;\n            }\n        }\n        return 0;\n    }\n\n    public String intToRoman(int num) {\n        StringBuilder ans = new StringBuilder();\n\n        // Define the Roman numeral values and their corresponding strings\n        int[] values = {1000, 900, 500, 400, 100, 90, 50, 40, 10, 9, 5, 4, 1};\n        String[] symbols = {&quot;M&quot;, &quot;CM&quot;, &quot;D&quot;, &quot;CD&quot;, &quot;C&quot;, &quot;XC&quot;, &quot;L&quot;, &quot;XL&quot;, &quot;X&quot;, &quot;IX&quot;, &quot;V&quot;, &quot;IV&quot;, &quot;I&quot;};\n\n        for (int i = 0; i &lt; values.length; i++) {\n            while (num &gt;= values[i]) {\n                ans.append(symbols[i]);\n                num -= values[i];\n            }\n        }\n\n        return ans.toString();\n    }\n\n    public static void main(String[] args) {\n        Solution solution = new Solution();\n        System.out.println(solution.intToRoman(1994));  // Should print &quot;MCMXCIV&quot;\n    }\n}\n</code></pre>\n<p>In this specific case, using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/StringBuilder.html\" rel=\"nofollow noreferrer\">StringBuilder</a> over String offers significant performance advantages because it avoids the overhead of creating multiple immutable String objects during concatenation.</p>\n"}],"owner":{"account_id":24963958,"reputation":35,"user_id":18827675,"display_name":"Dean Loyals"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1693125003,"creation_date":1693110190,"question_id":76985716,"body_markdown":"What I don&#39;t understand is when I pass tmp-=1 to the function instead as it is returning &#39;X&#39; for numbers less than 10 and &#39;C&#39; for numbers less than 100 and greater than 10 it loops infinitely.\r\n\r\n    class Solution {\r\n    \r\n        int findNextDigit(int num)\r\n        {\r\n            \r\n                int tmp = 0;\r\n                int k = 1;\r\n    \r\n                while(Math.pow(10,tmp) *k &lt; num)\r\n                {\r\n                    if(num - Math.pow(10,tmp) &lt; Math.pow(10,tmp) )\r\n                    {\r\n                        k++;\r\n                    }\r\n    \r\n                    else\r\n                    {\r\n                        tmp++;\r\n                    }\r\n    \r\n                }\r\n                \r\n                return ((int)(Math.pow(10,tmp))*k);\r\n        }\r\n        public String intToRoman(int num) \r\n        {\r\n            String ans = &quot;&quot;;\r\n            Map&lt;Integer, String&gt; map = new HashMap&lt;&gt;();\r\n            map.put(1, &quot;I&quot;);\r\n            map.put(5, &quot;V&quot;);\r\n            map.put(10,&quot;X&quot;);\r\n            map.put(50, &quot;L&quot;);\r\n            map.put(100, &quot;C&quot;);\r\n            map.put(500, &quot;D&quot;);\r\n            map.put(1000, &quot;M&quot;);\r\n            map.put(4, &quot;IV&quot;);\r\n            map.put(9, &quot;IX&quot;);\r\n            map.put(40, &quot;XL&quot;);\r\n            map.put(90, &quot;XC&quot;);\r\n            map.put(400, &quot;CD&quot;);\r\n            map.put(900, &quot;CM&quot;);\r\n    \r\n            while(num&gt;0)\r\n            {\r\n                int tmp = findNextDigit(num);\r\n                ans+= map.get(tmp);\r\n                num-=tmp;\r\n            }   \r\n    \r\n    \r\n            return ans;\r\n            \r\n    \r\n        }\r\n    }","title":"Why doesn&#39;t my solution to LC 12 Integer to Roman work?","body":"<p>What I don't understand is when I pass tmp-=1 to the function instead as it is returning 'X' for numbers less than 10 and 'C' for numbers less than 100 and greater than 10 it loops infinitely.</p>\n<pre><code>class Solution {\n\n    int findNextDigit(int num)\n    {\n        \n            int tmp = 0;\n            int k = 1;\n\n            while(Math.pow(10,tmp) *k &lt; num)\n            {\n                if(num - Math.pow(10,tmp) &lt; Math.pow(10,tmp) )\n                {\n                    k++;\n                }\n\n                else\n                {\n                    tmp++;\n                }\n\n            }\n            \n            return ((int)(Math.pow(10,tmp))*k);\n    }\n    public String intToRoman(int num) \n    {\n        String ans = &quot;&quot;;\n        Map&lt;Integer, String&gt; map = new HashMap&lt;&gt;();\n        map.put(1, &quot;I&quot;);\n        map.put(5, &quot;V&quot;);\n        map.put(10,&quot;X&quot;);\n        map.put(50, &quot;L&quot;);\n        map.put(100, &quot;C&quot;);\n        map.put(500, &quot;D&quot;);\n        map.put(1000, &quot;M&quot;);\n        map.put(4, &quot;IV&quot;);\n        map.put(9, &quot;IX&quot;);\n        map.put(40, &quot;XL&quot;);\n        map.put(90, &quot;XC&quot;);\n        map.put(400, &quot;CD&quot;);\n        map.put(900, &quot;CM&quot;);\n\n        while(num&gt;0)\n        {\n            int tmp = findNextDigit(num);\n            ans+= map.get(tmp);\n            num-=tmp;\n        }   \n\n\n        return ans;\n        \n\n    }\n}\n</code></pre>\n"},{"tags":["java","android","security","ssl","okhttp"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1472918798,"post_id":39264056,"comment_id":65950224,"body_markdown":"Note: Your `checkServerTrusted` implementation is useless as you catch and ignore the CertificateException. Therefore all server certificates (trusted and untrusted) are accepted!","body":"Note: Your <code>checkServerTrusted</code> implementation is useless as you catch and ignore the CertificateException. Therefore all server certificates (trusted and untrusted) are accepted!"},{"owner":{"account_id":2714073,"reputation":3615,"user_id":2341815,"accept_rate":59,"display_name":"Ruwanka De Silva"},"score":0,"creation_date":1472959973,"post_id":39264056,"comment_id":65959335,"body_markdown":"@Robert thanks for the clarification. Yes **this is insecure and useless in security perspective**, I&#39;ve found the correct solution as described in my answer.","body":"@Robert thanks for the clarification. Yes <b>this is insecure and useless in security perspective</b>, I&#39;ve found the correct solution as described in my answer."}],"answers":[{"tags":[],"owner":{"account_id":2714073,"reputation":3615,"user_id":2341815,"accept_rate":59,"display_name":"Ruwanka De Silva"},"down_vote_count":0,"up_vote_count":28,"is_accepted":true,"score":28,"last_activity_date":1504425134,"creation_date":1472815350,"answer_id":39291151,"question_id":39264056,"body_markdown":"I am answering to this to give an idea about the scenario and solution as per the android developer site for others benefit. I have solved this using custom trust manager.\r\n\r\nThe problem was with the server certificate, it misses intermediate certificate authority. However with the first flow certificate path is completed somehow and result was successful certificate path validation.\r\n\r\nThere is a solution for this in [android developer site][1]. it suggest to use custom trust manager that trusts this server certificate or it suggest to server to include the intermediate CA in the server chain.\r\n\r\ncustom trust manager. source: https://developer.android.com/training/articles/security-ssl.html#UnknownCa\r\n\r\n    // Load CAs from an InputStream\r\n    // (could be from a resource or ByteArrayInputStream or ...)\r\n    CertificateFactory cf = CertificateFactory.getInstance(&quot;X.509&quot;);\r\n    // From https://www.washington.edu/itconnect/security/ca/load-der.crt\r\n    InputStream caInput = new BufferedInputStream(new FileInputStream(&quot;load-der.crt&quot;));\r\n    Certificate ca;\r\n    try {\r\n        ca = cf.generateCertificate(caInput);\r\n        System.out.println(&quot;ca=&quot; + ((X509Certificate) ca).getSubjectDN());\r\n    } finally {\r\n        caInput.close();\r\n    }\r\n    \r\n    // Create a KeyStore containing our trusted CAs\r\n    String keyStoreType = KeyStore.getDefaultType();\r\n    KeyStore keyStore = KeyStore.getInstance(keyStoreType);\r\n    keyStore.load(null, null);\r\n    keyStore.setCertificateEntry(&quot;ca&quot;, ca);\r\n    \r\n    // Create a TrustManager that trusts the CAs in our KeyStore\r\n    String tmfAlgorithm = TrustManagerFactory.getDefaultAlgorithm();\r\n    TrustManagerFactory tmf = TrustManagerFactory.getInstance(tmfAlgorithm);\r\n    tmf.init(keyStore);\r\n    \r\n    // Create an SSLContext that uses our TrustManager\r\n    SSLContext context = SSLContext.getInstance(&quot;TLS&quot;);\r\n    context.init(null, tmf.getTrustManagers(), null);\r\n    // Tell the okhttp to use a SocketFactory from our SSLContext\r\n    OkHttpClient okHttpClient client = new OkHttpClient.Builder().sslSocketFactory(context.getSocketFactory()).build();\r\n\r\n**UPDATE:** My problem was solved after intermediate certificate authority added to the certificate chain from the server side. It is the best solution, Bundling the certificate with the app requires app to be updated on certificate expiring or any other issues related with certificate management.\r\n\r\n**UPDATE:03/09/2017** Easiest way to load certificate file I found is use of raw resource.\r\n\r\n    InputStream caInput = new BufferedInputStream(context\r\n                    .getResources().openRawResource(R.raw.certfilename));\r\n\r\nwhere certfilename is the certificate file placed in resources/raw folder. Also okhttp&#39;s [`sslSocketFactory(SSLSocketFactory sslSocketFactory)`][2] has been deprecated and suggested approach in the okhttp api doc can be used. \r\n\r\nAlso when getting the certificate from the server it is better to use openssl.\r\n\r\n    openssl s_client -connect {server-address}:{port} -showcerts\r\n\r\nBecause I used to grab that from firefox and faced situation where it was altered by the virus guard.\r\n   \r\n\r\n\r\n  [1]: https://developer.android.com/training/articles/security-ssl.html#MissingCa\r\n  [2]: https://square.github.io/okhttp/3.x/okhttp/okhttp3/OkHttpClient.Builder.html#sslSocketFactory-javax.net.ssl.SSLSocketFactory-","title":"Android java.security.cert.CertPathValidatorException: Trust anchor for certification path not found","body":"<p>I am answering to this to give an idea about the scenario and solution as per the android developer site for others benefit. I have solved this using custom trust manager.</p>\n\n<p>The problem was with the server certificate, it misses intermediate certificate authority. However with the first flow certificate path is completed somehow and result was successful certificate path validation.</p>\n\n<p>There is a solution for this in <a href=\"https://developer.android.com/training/articles/security-ssl.html#MissingCa\" rel=\"noreferrer\">android developer site</a>. it suggest to use custom trust manager that trusts this server certificate or it suggest to server to include the intermediate CA in the server chain.</p>\n\n<p>custom trust manager. source: <a href=\"https://developer.android.com/training/articles/security-ssl.html#UnknownCa\" rel=\"noreferrer\">https://developer.android.com/training/articles/security-ssl.html#UnknownCa</a></p>\n\n<pre><code>// Load CAs from an InputStream\n// (could be from a resource or ByteArrayInputStream or ...)\nCertificateFactory cf = CertificateFactory.getInstance(\"X.509\");\n// From https://www.washington.edu/itconnect/security/ca/load-der.crt\nInputStream caInput = new BufferedInputStream(new FileInputStream(\"load-der.crt\"));\nCertificate ca;\ntry {\n    ca = cf.generateCertificate(caInput);\n    System.out.println(\"ca=\" + ((X509Certificate) ca).getSubjectDN());\n} finally {\n    caInput.close();\n}\n\n// Create a KeyStore containing our trusted CAs\nString keyStoreType = KeyStore.getDefaultType();\nKeyStore keyStore = KeyStore.getInstance(keyStoreType);\nkeyStore.load(null, null);\nkeyStore.setCertificateEntry(\"ca\", ca);\n\n// Create a TrustManager that trusts the CAs in our KeyStore\nString tmfAlgorithm = TrustManagerFactory.getDefaultAlgorithm();\nTrustManagerFactory tmf = TrustManagerFactory.getInstance(tmfAlgorithm);\ntmf.init(keyStore);\n\n// Create an SSLContext that uses our TrustManager\nSSLContext context = SSLContext.getInstance(\"TLS\");\ncontext.init(null, tmf.getTrustManagers(), null);\n// Tell the okhttp to use a SocketFactory from our SSLContext\nOkHttpClient okHttpClient client = new OkHttpClient.Builder().sslSocketFactory(context.getSocketFactory()).build();\n</code></pre>\n\n<p><strong>UPDATE:</strong> My problem was solved after intermediate certificate authority added to the certificate chain from the server side. It is the best solution, Bundling the certificate with the app requires app to be updated on certificate expiring or any other issues related with certificate management.</p>\n\n<p><strong>UPDATE:03/09/2017</strong> Easiest way to load certificate file I found is use of raw resource.</p>\n\n<pre><code>InputStream caInput = new BufferedInputStream(context\n                .getResources().openRawResource(R.raw.certfilename));\n</code></pre>\n\n<p>where certfilename is the certificate file placed in resources/raw folder. Also okhttp's <a href=\"https://square.github.io/okhttp/3.x/okhttp/okhttp3/OkHttpClient.Builder.html#sslSocketFactory-javax.net.ssl.SSLSocketFactory-\" rel=\"noreferrer\"><code>sslSocketFactory(SSLSocketFactory sslSocketFactory)</code></a> has been deprecated and suggested approach in the okhttp api doc can be used. </p>\n\n<p>Also when getting the certificate from the server it is better to use openssl.</p>\n\n<pre><code>openssl s_client -connect {server-address}:{port} -showcerts\n</code></pre>\n\n<p>Because I used to grab that from firefox and faced situation where it was altered by the virus guard.</p>\n"},{"tags":[],"owner":{"account_id":10787318,"reputation":556,"user_id":7935945,"display_name":"Md Shahnawaz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1595584952,"creation_date":1595584952,"answer_id":63071347,"question_id":39264056,"body_markdown":" 1. Paste your `cert.pem` in raw folder\r\n 2. Create a method\r\n \r\n\r\n        private SSLSocketFactory getSSLSocketFactory(){\r\n            try {\r\n                CertificateFactory cf;\r\n                cf = CertificateFactory.getInstance(&quot;X.509&quot;);\r\n    \r\n                Certificate ca;\r\n                InputStream cert = context.getResources().openRawResource(R.raw.cert);\r\n                ca = cf.generateCertificate(cert);\r\n                cert.close();\r\n    \r\n                String keyStoreType = KeyStore.getDefaultType();\r\n                KeyStore keyStore   = KeyStore.getInstance(keyStoreType);\r\n                keyStore.load(null, null);\r\n                keyStore.setCertificateEntry(&quot;ca&quot;, ca);\r\n    \r\n                String tmfAlgorithm = TrustManagerFactory.getDefaultAlgorithm();\r\n                TrustManagerFactory tmf = TrustManagerFactory.getInstance(tmfAlgorithm);\r\n                tmf.init(keyStore);\r\n    \r\n                SSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\r\n                sslContext.init(null, tmf.getTrustManagers(), null);\r\n    \r\n                return sslContext.getSocketFactory();\r\n    \r\n            }\r\n            catch (Exception e){\r\n                return null;\r\n            }\r\n        }\r\n\r\n3. Call like this \r\n\r\n       final OkHttpClient client = new OkHttpClient();\r\n        //pass getSSLSocketFactory() in params\r\n        client.setSslSocketFactory(getSSLSocketFactory());\r\n\r\n        String appURl = context.getString(R.string.apis_app_url);\r\n\r\n        final RestAdapter restAdapter = new RestAdapter.Builder()\r\n                .setEndpoint(appURl).setClient(new OkClient(client)).\r\n                        build();\r\n","title":"Android java.security.cert.CertPathValidatorException: Trust anchor for certification path not found","body":"<ol>\n<li><p>Paste your <code>cert.pem</code> in raw folder</p>\n</li>\n<li><p>Create a method</p>\n<pre><code>private SSLSocketFactory getSSLSocketFactory(){\n    try {\n        CertificateFactory cf;\n        cf = CertificateFactory.getInstance(&quot;X.509&quot;);\n\n        Certificate ca;\n        InputStream cert = context.getResources().openRawResource(R.raw.cert);\n        ca = cf.generateCertificate(cert);\n        cert.close();\n\n        String keyStoreType = KeyStore.getDefaultType();\n        KeyStore keyStore   = KeyStore.getInstance(keyStoreType);\n        keyStore.load(null, null);\n        keyStore.setCertificateEntry(&quot;ca&quot;, ca);\n\n        String tmfAlgorithm = TrustManagerFactory.getDefaultAlgorithm();\n        TrustManagerFactory tmf = TrustManagerFactory.getInstance(tmfAlgorithm);\n        tmf.init(keyStore);\n\n        SSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\n        sslContext.init(null, tmf.getTrustManagers(), null);\n\n        return sslContext.getSocketFactory();\n\n    }\n    catch (Exception e){\n        return null;\n    }\n}\n</code></pre>\n</li>\n<li><p>Call like this</p>\n<pre><code>final OkHttpClient client = new OkHttpClient();\n //pass getSSLSocketFactory() in params\n client.setSslSocketFactory(getSSLSocketFactory());\n\n String appURl = context.getString(R.string.apis_app_url);\n\n final RestAdapter restAdapter = new RestAdapter.Builder()\n         .setEndpoint(appURl).setClient(new OkClient(client)).\n                 build();\n</code></pre>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":28594770,"reputation":1,"user_id":21893193,"display_name":"Анвар Жумабаев"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683988466,"creation_date":1683988466,"answer_id":76243249,"question_id":39264056,"body_markdown":"The answer in my case was lack of part of ssl certificate file(I had several files on my server), solution was just copy and paste all of them inside 1 file and on nginx configuration file give the path to that new file\r\n","title":"Android java.security.cert.CertPathValidatorException: Trust anchor for certification path not found","body":"<p>The answer in my case was lack of part of ssl certificate file(I had several files on my server), solution was just copy and paste all of them inside 1 file and on nginx configuration file give the path to that new file</p>\n"}],"owner":{"account_id":2714073,"reputation":3615,"user_id":2341815,"accept_rate":59,"display_name":"Ruwanka De Silva"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93011,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":39291151,"answer_count":3,"score":18,"last_activity_date":1693124593,"creation_date":1472711042,"question_id":39264056,"body_markdown":"There are three hosts that an android app do the authentication and authorization. Final host is the REST API. For the first time using Oauth authentication and authorization process it works without issue. \r\n\r\nBut if **user kills the app** after login and accessing the services provided by REST API and then again open the app, this issue arise. **In this time authentication and authorization process is not happening, only the REST API.** It caused to `java.security.cert.CertPathValidatorException` **but it was working during the first use (login and then use the app).**\r\n\r\nCan someone explains the scenario behind this exception and whats wrong with the app. This works if certification exceptions are ignored as bellow according to [this SO answer][1].\r\n\r\n    SSLSocketFactory sslSocketFactory = null;\r\n    \r\n            try {\r\n                TrustManagerFactory tmf = TrustManagerFactory.getInstance(\r\n                        TrustManagerFactory.getDefaultAlgorithm());\r\n                // Initialise the TMF as you normally would, for example:\r\n                try {\r\n                    tmf.init((KeyStore)null);\r\n                } catch(KeyStoreException e) {\r\n                    e.printStackTrace();\r\n                }\r\n                TrustManager[] trustManagers = tmf.getTrustManagers();\r\n    \r\n                final X509TrustManager origTrustmanager = (X509TrustManager)trustManagers[0];\r\n    \r\n                // Create a trust manager that does not validate certificate chains\r\n                TrustManager[] wrappedTrustManagers = new TrustManager[]{\r\n                        new X509TrustManager() {\r\n                            public java.security.cert.X509Certificate[] getAcceptedIssuers() {\r\n                                return origTrustmanager.getAcceptedIssuers();\r\n                            }\r\n    \r\n                            public void checkClientTrusted(X509Certificate[] certs, String authType) {\r\n                                try {\r\n                                    origTrustmanager.checkClientTrusted(certs, authType);\r\n                                } catch(CertificateException e) {\r\n                                    e.printStackTrace();\r\n                                }\r\n                            }\r\n    \r\n                            public void checkServerTrusted(X509Certificate[] certs, String authType) {\r\n                                try {\r\n                                    origTrustmanager.checkServerTrusted(certs, authType);\r\n                                } catch(CertificateException e) {\r\n                                    e.printStackTrace();\r\n                                }\r\n                            }\r\n                        }\r\n                };\r\n                //TrustManager[] trustAllCerts = TrustManagerFactory.getInstance(&quot;SSL&quot;).getTrustManagers();\r\n    \r\n                // Install the all-trusting trust manager\r\n                final SSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\r\n                sslContext.init(null, wrappedTrustManagers, new java.security.SecureRandom());\r\n                // Create an ssl socket factory with our all-trusting manager\r\n                sslSocketFactory = sslContext.getSocketFactory();\r\n            } catch (NoSuchAlgorithmException | KeyManagementException e) {\r\n                e.printStackTrace();\r\n            }\r\n            return sslSocketFactory;\r\nI am using Okhttp 3 for the http requests. Any suggestion would help to solve the issue. And please let me know if I use above code snippet, is it a security violation? will it effect to the security of the app?\r\n\r\n  [1]: https://stackoverflow.com/a/8694377/2341815","title":"Android java.security.cert.CertPathValidatorException: Trust anchor for certification path not found","body":"<p>There are three hosts that an android app do the authentication and authorization. Final host is the REST API. For the first time using Oauth authentication and authorization process it works without issue. </p>\n\n<p>But if <strong>user kills the app</strong> after login and accessing the services provided by REST API and then again open the app, this issue arise. <strong>In this time authentication and authorization process is not happening, only the REST API.</strong> It caused to <code>java.security.cert.CertPathValidatorException</code> <strong>but it was working during the first use (login and then use the app).</strong></p>\n\n<p>Can someone explains the scenario behind this exception and whats wrong with the app. This works if certification exceptions are ignored as bellow according to <a href=\"https://stackoverflow.com/a/8694377/2341815\">this SO answer</a>.</p>\n\n<pre><code>SSLSocketFactory sslSocketFactory = null;\n\n        try {\n            TrustManagerFactory tmf = TrustManagerFactory.getInstance(\n                    TrustManagerFactory.getDefaultAlgorithm());\n            // Initialise the TMF as you normally would, for example:\n            try {\n                tmf.init((KeyStore)null);\n            } catch(KeyStoreException e) {\n                e.printStackTrace();\n            }\n            TrustManager[] trustManagers = tmf.getTrustManagers();\n\n            final X509TrustManager origTrustmanager = (X509TrustManager)trustManagers[0];\n\n            // Create a trust manager that does not validate certificate chains\n            TrustManager[] wrappedTrustManagers = new TrustManager[]{\n                    new X509TrustManager() {\n                        public java.security.cert.X509Certificate[] getAcceptedIssuers() {\n                            return origTrustmanager.getAcceptedIssuers();\n                        }\n\n                        public void checkClientTrusted(X509Certificate[] certs, String authType) {\n                            try {\n                                origTrustmanager.checkClientTrusted(certs, authType);\n                            } catch(CertificateException e) {\n                                e.printStackTrace();\n                            }\n                        }\n\n                        public void checkServerTrusted(X509Certificate[] certs, String authType) {\n                            try {\n                                origTrustmanager.checkServerTrusted(certs, authType);\n                            } catch(CertificateException e) {\n                                e.printStackTrace();\n                            }\n                        }\n                    }\n            };\n            //TrustManager[] trustAllCerts = TrustManagerFactory.getInstance(\"SSL\").getTrustManagers();\n\n            // Install the all-trusting trust manager\n            final SSLContext sslContext = SSLContext.getInstance(\"TLS\");\n            sslContext.init(null, wrappedTrustManagers, new java.security.SecureRandom());\n            // Create an ssl socket factory with our all-trusting manager\n            sslSocketFactory = sslContext.getSocketFactory();\n        } catch (NoSuchAlgorithmException | KeyManagementException e) {\n            e.printStackTrace();\n        }\n        return sslSocketFactory;\n</code></pre>\n\n<p>I am using Okhttp 3 for the http requests. Any suggestion would help to solve the issue. And please let me know if I use above code snippet, is it a security violation? will it effect to the security of the app?</p>\n"},{"tags":["java","android","apk","code-injection","smali"],"answers":[{"tags":[],"owner":{"account_id":1868243,"reputation":12957,"user_id":1691231,"accept_rate":67,"display_name":"FD_"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1583751491,"creation_date":1583751491,"answer_id":60599126,"question_id":49825498,"body_markdown":"The libs folder is for native libraries, not for JAR files. JAR files contain .class files that can be executed in a desktop JRE, but not on Android, since Android uses a different byte code format. In order to run JRE byte code on Android, the DX compiler is used to generate DEX (Dalvik executable) files.\r\nIf you want to inject the classes contained in the JAR file into an APK (and you&#39;ve obtained SMALI IR code via apk-tool), you&#39;ll have to use DX to generate a dex file from the jar, then use the baksmali tool to generate smali files that you&#39;ll then have to integrate into the folder structure of the decompiled APK.","title":"injecting jar library into apk app","body":"<p>The libs folder is for native libraries, not for JAR files. JAR files contain .class files that can be executed in a desktop JRE, but not on Android, since Android uses a different byte code format. In order to run JRE byte code on Android, the DX compiler is used to generate DEX (Dalvik executable) files.\nIf you want to inject the classes contained in the JAR file into an APK (and you've obtained SMALI IR code via apk-tool), you'll have to use DX to generate a dex file from the jar, then use the baksmali tool to generate smali files that you'll then have to integrate into the folder structure of the decompiled APK.</p>\n"}],"owner":{"account_id":1221477,"reputation":4119,"user_id":1188047,"accept_rate":60,"display_name":"Ben"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1548,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1693123292,"creation_date":1523655728,"question_id":49825498,"body_markdown":"I&#39;d like to inject a jar library into an apk file to use it from smali code. \r\n\r\nHere&#39;s what I did:\r\n\r\n 1. Unpackaged the apk `apktool d -f -r  app-debug.apk`\r\n 2. Copied the jar file to the `/libs` directory of decompiled project\r\n 3. Added the call to my library to the main activity on create hook like this:\r\n \r\n        invoke-static {p0}, Lcom/example/injection/Inject;-&gt;test(Landroid/content/Context;)V\r\n\r\n\r\n 4. Repacked the apk `apktool b .`\r\n 5. Sign the generated apk using `jarsigner`\r\n 6. Then I install the app from `/dist/` dir using `adb install app-debug.apk`\r\n\r\nThe app installs sucessfuly, but instantly crashes. \r\nOn each crash the logcat outputs following message:\r\n\r\n    4-14 00:37:45.397 3016-3162/? I/logserver: extract_appname, forward search, appname=com.example.ben.myapplication\r\n    04-14 00:37:45.397 3016-3162/? I/logserver: get_fault_appname, appname=com.example.ben.myapplication\r\n    04-14 00:37:45.400 3016-3161/? I/logserver: handle_notify_event, send msg [submit:trigger=0,bugtype=2,modulename=com.example.ben.myapplication,level=1,testtype=NORMAL,path=/data/log/unzip/ALE-L21_ALE-L21C432B584_0000000000_20180414003745_crash,mode=1;]\r\n    04-14 00:37:45.688 23691-23691/com.example.ben.myapplication I/Process: Sending signal. PID: 23691 SIG: 9\r\n\r\nI run this on device , so I can&#39;t really access the crash report, but It&#39;s obviously because the `com/example/injection/Inject` is not found.\r\n\r\nI&#39;ve done injection before, but instead of adding jars I added the smali classes into the project, but I would like to try and add jar libs instead. Is there a way to do this?","title":"injecting jar library into apk app","body":"<p>I'd like to inject a jar library into an apk file to use it from smali code. </p>\n\n<p>Here's what I did:</p>\n\n<ol>\n<li>Unpackaged the apk <code>apktool d -f -r  app-debug.apk</code></li>\n<li>Copied the jar file to the <code>/libs</code> directory of decompiled project</li>\n<li><p>Added the call to my library to the main activity on create hook like this:</p>\n\n<pre><code>invoke-static {p0}, Lcom/example/injection/Inject;-&gt;test(Landroid/content/Context;)V\n</code></pre></li>\n<li><p>Repacked the apk <code>apktool b .</code></p></li>\n<li>Sign the generated apk using <code>jarsigner</code></li>\n<li>Then I install the app from <code>/dist/</code> dir using <code>adb install app-debug.apk</code></li>\n</ol>\n\n<p>The app installs sucessfuly, but instantly crashes. \nOn each crash the logcat outputs following message:</p>\n\n<pre><code>4-14 00:37:45.397 3016-3162/? I/logserver: extract_appname, forward search, appname=com.example.ben.myapplication\n04-14 00:37:45.397 3016-3162/? I/logserver: get_fault_appname, appname=com.example.ben.myapplication\n04-14 00:37:45.400 3016-3161/? I/logserver: handle_notify_event, send msg [submit:trigger=0,bugtype=2,modulename=com.example.ben.myapplication,level=1,testtype=NORMAL,path=/data/log/unzip/ALE-L21_ALE-L21C432B584_0000000000_20180414003745_crash,mode=1;]\n04-14 00:37:45.688 23691-23691/com.example.ben.myapplication I/Process: Sending signal. PID: 23691 SIG: 9\n</code></pre>\n\n<p>I run this on device , so I can't really access the crash report, but It's obviously because the <code>com/example/injection/Inject</code> is not found.</p>\n\n<p>I've done injection before, but instead of adding jars I added the smali classes into the project, but I would like to try and add jar libs instead. Is there a way to do this?</p>\n"},{"tags":["java","android","facebook-android-sdk","keytool"],"comments":[{"owner":{"account_id":12201,"reputation":59994,"user_id":23897,"display_name":"Michael Petrotta"},"score":13,"creation_date":1344578772,"post_id":11896304,"comment_id":15833925,"body_markdown":"Download and install [OpenSSL](http://www.openssl.org/).","body":"Download and install <a href=\"http://www.openssl.org/\" rel=\"nofollow noreferrer\">OpenSSL</a>."},{"owner":{"account_id":1452454,"reputation":2765,"user_id":1368964,"accept_rate":82,"display_name":"Khurram W. Malik"},"score":2,"creation_date":1344579972,"post_id":11896304,"comment_id":15834264,"body_markdown":"I downloaded 3 of them no one is compatible :/","body":"I downloaded 3 of them no one is compatible :/"},{"owner":{"account_id":12201,"reputation":59994,"user_id":23897,"display_name":"Michael Petrotta"},"score":1,"creation_date":1344580114,"post_id":11896304,"comment_id":15834316,"body_markdown":"What does that mean, khurram?","body":"What does that mean, khurram?"},{"owner":{"account_id":1452454,"reputation":2765,"user_id":1368964,"accept_rate":82,"display_name":"Khurram W. Malik"},"score":1,"creation_date":1344580364,"post_id":11896304,"comment_id":15834393,"body_markdown":"I downloaded many versions of openssl from the link u gave but each of them gives an error before installation that it isnt compatible with windows 7- 64 bit. Can you tell me the exact openssl i require","body":"I downloaded many versions of openssl from the link u gave but each of them gives an error before installation that it isnt compatible with windows 7- 64 bit. Can you tell me the exact openssl i require"},{"owner":{"account_id":434458,"reputation":8942,"user_id":820443,"accept_rate":46,"display_name":"Usama Sarwar"},"score":3,"creation_date":1344581368,"post_id":11896304,"comment_id":15834687,"body_markdown":"you can get it from the link I have posted in my ans below...","body":"you can get it from the link I have posted in my ans below..."},{"owner":{"account_id":212305,"reputation":24651,"user_id":465053,"accept_rate":83,"display_name":"RBT"},"score":0,"creation_date":1638425574,"post_id":11896304,"comment_id":124085849,"body_markdown":"Related post - [How to install OpenSSL in windows 10?](https://stackoverflow.com/q/50625283/465053)","body":"Related post - <a href=\"https://stackoverflow.com/q/50625283/465053\">How to install OpenSSL in windows 10?</a>"}],"answers":[{"tags":[],"owner":{"account_id":434458,"reputation":8942,"user_id":820443,"accept_rate":46,"display_name":"Usama Sarwar"},"down_vote_count":0,"up_vote_count":440,"is_accepted":true,"score":440,"last_activity_date":1643268325,"creation_date":1344579344,"answer_id":11896406,"question_id":11896304,"body_markdown":"Well at the place of OpenSSL ... you have to put actually the path to your OpenSSL folder that you have downloaded. Your actual command should look like this:\r\n\r\n    keytool -exportcert -alias androiddebugkey -keystore ~/.android/debug.keystore | &quot;C:\\Users\\abc\\openssl\\bin\\openssl.exe&quot; sha1 -binary | &quot;C:\\Users\\abc\\openssl\\bin\\openssl.exe&quot; base64\r\n\r\nRemember, the path that you will enter will be the path where you have installed the OpenSSL.\r\n\r\n**Edit:**\r\n\r\nyou can download OpenSSL for windows 32 and 64 bit from the respective links below:\r\n\r\n[OpenSSL for 64 Bits][1] \r\n\r\n\r\n\r\n  [1]: http://code.google.com/p/openssl-for-windows/downloads/detail?name=openssl-0.9.8k_X64.zip\r\n\r\n\r\n[OpenSSL for 32 Bits][2]\r\n\r\n[2]: https://code.google.com/p/openssl-for-windows/downloads/detail?name=openssl-0.9.8k_WIN32.zip","title":"Openssl is not recognized as an internal or external command","body":"<p>Well at the place of OpenSSL ... you have to put actually the path to your OpenSSL folder that you have downloaded. Your actual command should look like this:</p>\n<pre><code>keytool -exportcert -alias androiddebugkey -keystore ~/.android/debug.keystore | &quot;C:\\Users\\abc\\openssl\\bin\\openssl.exe&quot; sha1 -binary | &quot;C:\\Users\\abc\\openssl\\bin\\openssl.exe&quot; base64\n</code></pre>\n<p>Remember, the path that you will enter will be the path where you have installed the OpenSSL.</p>\n<p><strong>Edit:</strong></p>\n<p>you can download OpenSSL for windows 32 and 64 bit from the respective links below:</p>\n<p><a href=\"http://code.google.com/p/openssl-for-windows/downloads/detail?name=openssl-0.9.8k_X64.zip\" rel=\"noreferrer\">OpenSSL for 64 Bits</a></p>\n<p><a href=\"https://code.google.com/p/openssl-for-windows/downloads/detail?name=openssl-0.9.8k_WIN32.zip\" rel=\"noreferrer\">OpenSSL for 32 Bits</a></p>\n"},{"tags":[],"owner":{"account_id":1212700,"reputation":1949,"user_id":1180954,"accept_rate":57,"display_name":"Siddiq Abu Bakkar"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1347070078,"creation_date":1347070078,"answer_id":12327481,"question_id":11896304,"body_markdown":"\r\nThis is worked for me successfully.\r\n\r\n**&quot;C:\\Program Files\\Java\\jdk1.6.0_26\\bin\\keytool.exe&quot; -exportcert -alias sociallisting -keystore &quot;D:\\keystore\\SocialListing&quot; | &quot;C:\\cygwin\\bin\\openssl.exe&quot; sha1 -binary | &quot;C:\\cygwin\\bin\\openssl.exe&quot; base64**\r\n\r\nBe careful with below path :\r\n\r\n- **&quot;C:\\Program Files\\Java\\jdk1.6.0_26\\bin\\keytool.exe&quot;**\r\n- **&quot;D:\\keystore\\SocialListing&quot;** or it can be like this &quot;**C:\\Users\\Shaon\\.android\\debug.keystore**&quot;\r\n- **&quot;C:\\cygwin\\bin\\openssl.exe&quot;** or can be like this **C:\\Users\\openssl\\bin\\openssl.exe**\r\n\r\nIf command successfully work then you will see this command :\r\n\r\n**Enter keystore password : typeyourpassword**\r\n\r\n**Encryptedhashkey****","title":"Openssl is not recognized as an internal or external command","body":"<p>This is worked for me successfully.</p>\n\n<p><strong>\"C:\\Program Files\\Java\\jdk1.6.0_26\\bin\\keytool.exe\" -exportcert -alias sociallisting -keystore \"D:\\keystore\\SocialListing\" | \"C:\\cygwin\\bin\\openssl.exe\" sha1 -binary | \"C:\\cygwin\\bin\\openssl.exe\" base64</strong></p>\n\n<p>Be careful with below path :</p>\n\n<ul>\n<li><strong>\"C:\\Program Files\\Java\\jdk1.6.0_26\\bin\\keytool.exe\"</strong></li>\n<li><strong>\"D:\\keystore\\SocialListing\"</strong> or it can be like this \"<strong>C:\\Users\\Shaon.android\\debug.keystore</strong>\"</li>\n<li><strong>\"C:\\cygwin\\bin\\openssl.exe\"</strong> or can be like this <strong>C:\\Users\\openssl\\bin\\openssl.exe</strong></li>\n</ul>\n\n<p>If command successfully work then you will see this command :</p>\n\n<p><strong>Enter keystore password : typeyourpassword</strong></p>\n\n<p><strong>Encryptedhashkey**</strong></p>\n"},{"tags":[],"owner":{"account_id":1476585,"reputation":53,"user_id":1386835,"display_name":"Haze"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1352376034,"creation_date":1352376034,"answer_id":13288696,"question_id":11896304,"body_markdown":"For those looking for a more recent location to install a windows binary version of openssl (32bit and 64bit) you can find it here:\r\n\r\nhttp://slproweb.com/products/Win32OpenSSL.html\r\n\r\nAn up to date list of websites that offer binary distributions is here\r\n\r\nhttp://www.openssl.org/related/binaries.html","title":"Openssl is not recognized as an internal or external command","body":"<p>For those looking for a more recent location to install a windows binary version of openssl (32bit and 64bit) you can find it here:</p>\n\n<p><a href=\"http://slproweb.com/products/Win32OpenSSL.html\" rel=\"nofollow\">http://slproweb.com/products/Win32OpenSSL.html</a></p>\n\n<p>An up to date list of websites that offer binary distributions is here</p>\n\n<p><a href=\"http://www.openssl.org/related/binaries.html\" rel=\"nofollow\">http://www.openssl.org/related/binaries.html</a></p>\n"},{"tags":[],"owner":{"account_id":2562209,"reputation":960,"user_id":2223122,"accept_rate":60,"display_name":"Kaloyan Drenski"},"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1364527240,"creation_date":1364527240,"answer_id":15696810,"question_id":11896304,"body_markdown":"Use the entire path, like this:\r\n\r\n    exportcert -alias androiddebugkey -keystore ~/.android\r\n    /debug.keystore | &quot;C:\\openssl\\bin\\openssl.exe&quot; sha1 -binary | &quot;C:\\openssl\\bin\\op\r\n    enssl.exe&quot; base64\r\n\r\nIt worked for me. ","title":"Openssl is not recognized as an internal or external command","body":"<p>Use the entire path, like this:</p>\n\n<pre><code>exportcert -alias androiddebugkey -keystore ~/.android\n/debug.keystore | \"C:\\openssl\\bin\\openssl.exe\" sha1 -binary | \"C:\\openssl\\bin\\op\nenssl.exe\" base64\n</code></pre>\n\n<p>It worked for me. </p>\n"},{"tags":[],"owner":{"account_id":2443196,"reputation":21,"user_id":2131152,"display_name":"Nguyễn Kim"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1365498570,"creation_date":1365497478,"answer_id":15897418,"question_id":11896304,"body_markdown":"I used this code: \r\n\r\nThis is worked for me successfully.\r\n\r\n    &quot;C:\\Program Files\\Java\\jdk1.6.0_26\\bin\\keytool.exe&quot; -exportcert -alias sociallisting -\r\n    keystore &quot;D:\\keystore\\SocialListing&quot; | &quot;C:\\cygwin\\bin\\openssl.exe&quot; sha1 -binary | \r\n    &quot;C:\\cygwin\\bin\\openssl.exe&quot; base64","title":"Openssl is not recognized as an internal or external command","body":"<p>I used this code: </p>\n\n<p>This is worked for me successfully.</p>\n\n<pre><code>\"C:\\Program Files\\Java\\jdk1.6.0_26\\bin\\keytool.exe\" -exportcert -alias sociallisting -\nkeystore \"D:\\keystore\\SocialListing\" | \"C:\\cygwin\\bin\\openssl.exe\" sha1 -binary | \n\"C:\\cygwin\\bin\\openssl.exe\" base64\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2259843,"reputation":766,"user_id":1990207,"display_name":"GAURAV KUMAR GUPTA"},"down_vote_count":0,"up_vote_count":36,"is_accepted":false,"score":36,"last_activity_date":1367161055,"creation_date":1367158070,"answer_id":16263688,"question_id":11896304,"body_markdown":"Please follow these step, I hope your key working properly:\r\n\r\n1. **Step 1** You will  need  OpenSSL. You can download the binary from [openssl-for-windows](https://code.google.com/p/openssl-for-windows/) project on Google Code.\r\n\r\n2. **Step 2** Unzip the folder, then copy the path to the `bin` folder to the clipboard.\r\n\r\n  For example, if the file is unzipped to the location `C:\\Users\\gaurav\\openssl-0.9.8k_WIN32`, then copy the path `C:\\Users\\gaurav\\openssl-0.9.8k_WIN32\\bin`.\r\n\r\n3. **Step 3** Add the path to your system environment path. After your `PATH` environment variable is set, open the cmd and type this command:\r\n\r\n        C:\\&gt;keytool -exportcert -alias androiddebugkey -keystore [path to debug.keystore] | openssl sha1 -binary | openssl base64\r\n\r\n  Type your password when prompted. If the command works, then you will be shown a key.\r\n\r\n ","title":"Openssl is not recognized as an internal or external command","body":"<p>Please follow these step, I hope your key working properly:</p>\n\n<ol>\n<li><p><strong>Step 1</strong> You will  need  OpenSSL. You can download the binary from <a href=\"https://code.google.com/p/openssl-for-windows/\" rel=\"noreferrer\">openssl-for-windows</a> project on Google Code.</p></li>\n<li><p><strong>Step 2</strong> Unzip the folder, then copy the path to the <code>bin</code> folder to the clipboard.</p>\n\n<p>For example, if the file is unzipped to the location <code>C:\\Users\\gaurav\\openssl-0.9.8k_WIN32</code>, then copy the path <code>C:\\Users\\gaurav\\openssl-0.9.8k_WIN32\\bin</code>.</p></li>\n<li><p><strong>Step 3</strong> Add the path to your system environment path. After your <code>PATH</code> environment variable is set, open the cmd and type this command:</p>\n\n<pre><code>C:\\&gt;keytool -exportcert -alias androiddebugkey -keystore [path to debug.keystore] | openssl sha1 -binary | openssl base64\n</code></pre>\n\n<p>Type your password when prompted. If the command works, then you will be shown a key.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":176090,"reputation":2064,"user_id":406544,"accept_rate":44,"display_name":"Nirav Shah"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1367489476,"creation_date":1367489476,"answer_id":16335429,"question_id":11896304,"body_markdown":"It is not guaranteed that generating hashkey with this single openssl method will work.\r\nIf it does not work for me. But thanks for giving me a direction to solve my issue.\r\n\r\n\r\nGuaranteed Solution :\r\nYou need to break the whole command in separate commands and have to write output of every execution in file.\r\n\r\nYou can take the help from the following link :\r\n\r\nhttp://www.helloandroid.com/tutorials/using-facebook-sdk-android-development-part-1\r\n\r\nEnjoy :)","title":"Openssl is not recognized as an internal or external command","body":"<p>It is not guaranteed that generating hashkey with this single openssl method will work.\nIf it does not work for me. But thanks for giving me a direction to solve my issue.</p>\n\n<p>Guaranteed Solution :\nYou need to break the whole command in separate commands and have to write output of every execution in file.</p>\n\n<p>You can take the help from the following link :</p>\n\n<p><a href=\"http://www.helloandroid.com/tutorials/using-facebook-sdk-android-development-part-1\" rel=\"nofollow\">http://www.helloandroid.com/tutorials/using-facebook-sdk-android-development-part-1</a></p>\n\n<p>Enjoy :)</p>\n"},{"tags":[],"owner":{"account_id":3056412,"reputation":386,"user_id":2589909,"display_name":"Azahar"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1385207928,"creation_date":1385207928,"answer_id":20162015,"question_id":11896304,"body_markdown":"use this worked for me. please change your Path\r\n\r\nC:\\Program Files\\Java\\jre7\\bin  keytool -exportcert -alias androiddebugkey -keystore &quot;C:\\Users\\Ace\\.android\\debug.keystore&quot; | &quot;C:\\openssl\\bin\r\n\r\n\\openssl.exe&quot; sha1 -binary | &quot;C:\\openssl\\bin\\openssl.exe&quot; base64","title":"Openssl is not recognized as an internal or external command","body":"<p>use this worked for me. please change your Path</p>\n\n<p>C:\\Program Files\\Java\\jre7\\bin  keytool -exportcert -alias androiddebugkey -keystore \"C:\\Users\\Ace.android\\debug.keystore\" | \"C:\\openssl\\bin</p>\n\n<p>\\openssl.exe\" sha1 -binary | \"C:\\openssl\\bin\\openssl.exe\" base64</p>\n"},{"tags":[],"owner":{"account_id":2836926,"reputation":83,"user_id":2437356,"accept_rate":25,"display_name":"Vibhor Kashyap"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1407823693,"creation_date":1407823693,"answer_id":25257258,"question_id":11896304,"body_markdown":"First navigate to your Java/jre/bin folder in cmd\r\ncd c:\\Program Files (x86)\\Java\\jre7\\bin\r\n\r\nThen use : [change debug.keystore path to the correct location on your system]\r\ninstall openssl (for windows 32 or 64 as per your needs at c:\\openssl )\r\n\r\n\r\n    keytool -exportcert -alias androiddebugkey -keystore &quot;C:\\Users\\vibhor\\.android\\debug.keystore&quot; | &quot;c:\\openssl\\bin\\openssl.exe&quot; sha1 -binary | &quot;c:\\openssl\\bin\\openssl.exe&quot; base64\r\n\r\n\r\nSo the whole command goes like this : [prompts to enter keystore password on execution ]\r\n\r\n    c:\\Program Files (x86)\\Java\\jre7\\bin&gt;keytool -exportcert -alias androiddebugkey\r\n    -keystore &quot;C:\\Users\\vibhor\\.android\\debug.keystore&quot; | &quot;c:\\openssl\\bin\\openssl.ex\r\n    e&quot; sha1 -binary | &quot;c:\\openssl\\bin\\openssl.exe&quot; base64\r\n    Enter keystore password:\r\n\r\n","title":"Openssl is not recognized as an internal or external command","body":"<p>First navigate to your Java/jre/bin folder in cmd\ncd c:\\Program Files (x86)\\Java\\jre7\\bin</p>\n\n<p>Then use : [change debug.keystore path to the correct location on your system]\ninstall openssl (for windows 32 or 64 as per your needs at c:\\openssl )</p>\n\n<pre><code>keytool -exportcert -alias androiddebugkey -keystore \"C:\\Users\\vibhor\\.android\\debug.keystore\" | \"c:\\openssl\\bin\\openssl.exe\" sha1 -binary | \"c:\\openssl\\bin\\openssl.exe\" base64\n</code></pre>\n\n<p>So the whole command goes like this : [prompts to enter keystore password on execution ]</p>\n\n<pre><code>c:\\Program Files (x86)\\Java\\jre7\\bin&gt;keytool -exportcert -alias androiddebugkey\n-keystore \"C:\\Users\\vibhor\\.android\\debug.keystore\" | \"c:\\openssl\\bin\\openssl.ex\ne\" sha1 -binary | \"c:\\openssl\\bin\\openssl.exe\" base64\nEnter keystore password:\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2647635,"reputation":4557,"user_id":2290017,"accept_rate":38,"display_name":"DjP"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1412057336,"creation_date":1412057336,"answer_id":26113891,"question_id":11896304,"body_markdown":"go to bin folder path in cmd and then run following command \r\n\r\n    keytool -exportcert -alias androiddebugkey -keystore %HOMEPATH%\\.android\\debug.keystore | openssl sha1 -binary | openssl base64\r\n\r\nyou will get your key hash  ","title":"Openssl is not recognized as an internal or external command","body":"<p>go to bin folder path in cmd and then run following command </p>\n\n<pre><code>keytool -exportcert -alias androiddebugkey -keystore %HOMEPATH%\\.android\\debug.keystore | openssl sha1 -binary | openssl base64\n</code></pre>\n\n<p>you will get your key hash  </p>\n"},{"tags":[],"owner":{"account_id":1323802,"reputation":2010,"user_id":1269074,"accept_rate":67,"display_name":"Oladipo Olasemo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1416512647,"creation_date":1416512647,"answer_id":27048148,"question_id":11896304,"body_markdown":"for windows users download open ssl from google&#39;s code repository https://code.google.com/p/openssl-for-windows/downloads/list\r\n\r\nAfter the download, extract the contents to a folder preferably in your c: drive.\r\n\r\nThen update your PATH environment variable so you can use the .exe from any location in your command line.\r\n\r\n[windows 8] To update your PATH environment variable, click my computer-&gt;properties-&gt;Advanced System Settings.\r\n\r\nClick the Advanced Tab and click the &#39;Environment Variable&#39; button at the bottom of the dialog then select the Path entry from the &#39;System Variables&#39; Section by clicking edit.\r\n\r\nPaste the path to the bin folder of the extracted openssl download and click ok.\r\n\r\nYou will need to close and open and command prompt you may have previously launched so that you can load the updated path settings.\r\n\r\nNow run this command:\r\n\r\nkeytool -exportcert -alias androiddebugkey -keystore &quot;C:\\Users\\Oladipo\\.android\\debug.keystore&quot; | openssl sha1 -binary | openssl base64\r\n\r\nYou should see the developer key.\r\n\r\n","title":"Openssl is not recognized as an internal or external command","body":"<p>for windows users download open ssl from google's code repository <a href=\"https://code.google.com/p/openssl-for-windows/downloads/list\" rel=\"nofollow\">https://code.google.com/p/openssl-for-windows/downloads/list</a></p>\n\n<p>After the download, extract the contents to a folder preferably in your c: drive.</p>\n\n<p>Then update your PATH environment variable so you can use the .exe from any location in your command line.</p>\n\n<p>[windows 8] To update your PATH environment variable, click my computer->properties->Advanced System Settings.</p>\n\n<p>Click the Advanced Tab and click the 'Environment Variable' button at the bottom of the dialog then select the Path entry from the 'System Variables' Section by clicking edit.</p>\n\n<p>Paste the path to the bin folder of the extracted openssl download and click ok.</p>\n\n<p>You will need to close and open and command prompt you may have previously launched so that you can load the updated path settings.</p>\n\n<p>Now run this command:</p>\n\n<p>keytool -exportcert -alias androiddebugkey -keystore \"C:\\Users\\Oladipo.android\\debug.keystore\" | openssl sha1 -binary | openssl base64</p>\n\n<p>You should see the developer key.</p>\n"},{"tags":[],"owner":{"account_id":5515933,"reputation":305,"user_id":4380716,"display_name":"sandhu"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1431543659,"creation_date":1431543044,"answer_id":30223019,"question_id":11896304,"body_markdown":"    Steps to create Hash Key. \r\n    1: Download openssl from Openssl for Windows . I downloaded the Win64 version \r\n    2:Unzip and copy all the files in the bin folder including openssl.exe(All file of bin folder) \r\n    3:Goto to the folder where you installed JDK for me it’s C:\\Program Files\\Java\\jdk1.8.0_05\\bin \r\n    4:Paste all the files you copied from Openssl’s bin folder to the Jdk folder. \r\nthen go  C:\\Program Files\\Java\\jdk1.8.0_05\\bin and press shift key and right click and open cmd \r\n    \r\n    C:\\Program Files\\Java\\jdk1.8.0_05\\bin&gt;//cmd path \r\n**that is for Sha1  past this**                           \r\nkeytool -exportcert -alias androiddebugkey -keystore  &quot;C:\\User\\ABC\\\\.android.keystore&quot; | openssl sha1 -binary | openssl base64      \r\n  //and ABC is system name put own system name\r\n\r\n","title":"Openssl is not recognized as an internal or external command","body":"<pre><code>Steps to create Hash Key. \n1: Download openssl from Openssl for Windows . I downloaded the Win64 version \n2:Unzip and copy all the files in the bin folder including openssl.exe(All file of bin folder) \n3:Goto to the folder where you installed JDK for me it’s C:\\Program Files\\Java\\jdk1.8.0_05\\bin \n4:Paste all the files you copied from Openssl’s bin folder to the Jdk folder. \n</code></pre>\n\n<p>then go  C:\\Program Files\\Java\\jdk1.8.0_05\\bin and press shift key and right click and open cmd </p>\n\n<pre><code>C:\\Program Files\\Java\\jdk1.8.0_05\\bin&gt;//cmd path \n</code></pre>\n\n<p><strong>that is for Sha1  past this</strong><br>\nkeytool -exportcert -alias androiddebugkey -keystore  \"C:\\User\\ABC\\.android.keystore\" | openssl sha1 -binary | openssl base64<br>\n  //and ABC is system name put own system name</p>\n"},{"tags":[],"owner":{"account_id":7793970,"reputation":5199,"user_id":5895830,"accept_rate":82,"display_name":"Sagar Chavada"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1541231708,"creation_date":1470377195,"answer_id":38782208,"question_id":11896304,"body_markdown":"it&#39;s late answer but it will help to lazy people like me.. add this code to your Application class, there is no need to download openssl and no need to set the path.. only need is just copy this code.. and keyHash will generated in log.\r\n\r\n    import com.facebook.FacebookSdk;\r\n    public class MyApplication extends Application {\r\n    \r\n        @Override\r\n        public void onCreate() {\r\n            super.onCreate();\r\n            FacebookSdk.sdkInitialize(getApplicationContext());\r\n            AppEventsLogger.activateApp(this);\r\n            printKeyHash();\r\n        }\r\n    \r\n        private void printKeyHash() {\r\n            try {\r\n                PackageInfo info = getPackageManager().getPackageInfo(\r\n                        getPackageName(), PackageManager.GET_SIGNATURES);\r\n                for (Signature signature : info.signatures) {\r\n                    MessageDigest md = MessageDigest.getInstance(&quot;SHA&quot;);\r\n                    md.update(signature.toByteArray());\r\n                    Log.i(&quot;KeyHash:&quot;,\r\n                            Base64.encodeToString(md.digest(), Base64.DEFAULT));\r\n                }\r\n            } catch (PackageManager.NameNotFoundException e) {\r\n                Log.e(&quot;jk&quot;, &quot;Exception(NameNotFoundException) : &quot; + e);\r\n            } catch (NoSuchAlgorithmException e) {\r\n                Log.e(&quot;mkm&quot;, &quot;Exception(NoSuchAlgorithmException) : &quot; + e);\r\n            }\r\n        }\r\n    }\r\n\r\nand do not forget add MyApplication class in manifest:\r\n\r\n    &lt;application\r\n            android:name=&quot;.MyApplication&quot;\r\n    &lt;/application&gt;","title":"Openssl is not recognized as an internal or external command","body":"<p>it's late answer but it will help to lazy people like me.. add this code to your Application class, there is no need to download openssl and no need to set the path.. only need is just copy this code.. and keyHash will generated in log.</p>\n\n<pre><code>import com.facebook.FacebookSdk;\npublic class MyApplication extends Application {\n\n    @Override\n    public void onCreate() {\n        super.onCreate();\n        FacebookSdk.sdkInitialize(getApplicationContext());\n        AppEventsLogger.activateApp(this);\n        printKeyHash();\n    }\n\n    private void printKeyHash() {\n        try {\n            PackageInfo info = getPackageManager().getPackageInfo(\n                    getPackageName(), PackageManager.GET_SIGNATURES);\n            for (Signature signature : info.signatures) {\n                MessageDigest md = MessageDigest.getInstance(\"SHA\");\n                md.update(signature.toByteArray());\n                Log.i(\"KeyHash:\",\n                        Base64.encodeToString(md.digest(), Base64.DEFAULT));\n            }\n        } catch (PackageManager.NameNotFoundException e) {\n            Log.e(\"jk\", \"Exception(NameNotFoundException) : \" + e);\n        } catch (NoSuchAlgorithmException e) {\n            Log.e(\"mkm\", \"Exception(NoSuchAlgorithmException) : \" + e);\n        }\n    }\n}\n</code></pre>\n\n<p>and do not forget add MyApplication class in manifest:</p>\n\n<pre><code>&lt;application\n        android:name=\".MyApplication\"\n&lt;/application&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6925725,"reputation":10963,"user_id":5316872,"display_name":"Keshav Gera"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1495797881,"creation_date":1495796540,"answer_id":44199907,"question_id":11896304,"body_markdown":"**Downloads and Unzip**\r\n    \r\nYou can download openssl for windows 32 and 64 bit from the respective links below:\r\n    \r\nhttps://code.google.com/archive/p/openssl-for-windows/downloads\r\n    \r\nOpenSSL for 64 Bits  OpenSSL for 32 Bits\r\n    \r\n    keytool -exportcert -alias androiddebugkey -keystore %HOMEPATH%\\.android\\debug.keystore | **&quot;C:\\Users\\keshav.gera\\openssl-0.9.8k_X64\\bin**\\openssl.exe&quot; sha1 -binary | **&quot;C:\\Users\\keshav.gera\\openssl-0.9.8k_X64\\bin**\\openssl.exe&quot; base64\r\n    \r\n**Important**  change our path Here as well as install open ssl in your system\r\n    \r\nIt&#39;s Working No Doubt\r\n    \r\n    C:\\Users\\keshav.gera&gt;keytool -exportcert -alias androiddebugkey -keystore %HOMEPATH%\\.android\\debug.keystore | &quot;C:\\Users\\keshav.gera\\openssl-0.9.8k_X64\\bin\\openssl.exe&quot; sha1 -binary | &quot;C:\\Users\\keshav.gera\\openssl-0.9.8k_X64\\bin\\openssl.exe&quot; base64\r\n    \r\nEnter keystore password:  **android**\r\n    \r\n    **ZrRtxw36xWNYL+h3aJdcCeQQxi0=**\r\n    \r\n    \r\n=============================================================\r\nusing Manually  through Coding\r\n=============================================================\r\n\r\n    import android.content.pm.PackageInfo;\r\n    import android.content.pm.PackageManager;\r\n    import android.content.pm.Signature;\r\n    import java.security.MessageDigest;\r\n    import java.security.NoSuchAlgorithmException;\r\n    \r\n    \r\n    private void PrintHashKey() {\r\n    \r\n            try {\r\n                PackageInfo info = getPackageManager().getPackageInfo(&quot;**com.keshav.patanjalidemo  Your Package Name Here**&quot;, PackageManager.GET_SIGNATURES);\r\n                for (Signature signature : info.signatures) {\r\n                    MessageDigest md = MessageDigest.getInstance(&quot;SHA&quot;);        \r\n                    md.update(signature.toByteArray());\r\n                    Log.d(&quot;KeyHash:&quot;, Base64.encodeToString(md.digest(), Base64.DEFAULT));\r\n                }\r\n            } catch (PackageManager.NameNotFoundException e) {\r\n                e.printStackTrace();\r\n            } catch (NoSuchAlgorithmException e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n        }\r\n\r\n","title":"Openssl is not recognized as an internal or external command","body":"<p><strong>Downloads and Unzip</strong></p>\n\n<p>You can download openssl for windows 32 and 64 bit from the respective links below:</p>\n\n<p><a href=\"https://code.google.com/archive/p/openssl-for-windows/downloads\" rel=\"nofollow noreferrer\">https://code.google.com/archive/p/openssl-for-windows/downloads</a></p>\n\n<p>OpenSSL for 64 Bits  OpenSSL for 32 Bits</p>\n\n<pre><code>keytool -exportcert -alias androiddebugkey -keystore %HOMEPATH%\\.android\\debug.keystore | **\"C:\\Users\\keshav.gera\\openssl-0.9.8k_X64\\bin**\\openssl.exe\" sha1 -binary | **\"C:\\Users\\keshav.gera\\openssl-0.9.8k_X64\\bin**\\openssl.exe\" base64\n</code></pre>\n\n<p><strong>Important</strong>  change our path Here as well as install open ssl in your system</p>\n\n<p>It's Working No Doubt</p>\n\n<pre><code>C:\\Users\\keshav.gera&gt;keytool -exportcert -alias androiddebugkey -keystore %HOMEPATH%\\.android\\debug.keystore | \"C:\\Users\\keshav.gera\\openssl-0.9.8k_X64\\bin\\openssl.exe\" sha1 -binary | \"C:\\Users\\keshav.gera\\openssl-0.9.8k_X64\\bin\\openssl.exe\" base64\n</code></pre>\n\n<p>Enter keystore password:  <strong>android</strong></p>\n\n<pre><code>**ZrRtxw36xWNYL+h3aJdcCeQQxi0=**\n</code></pre>\n\n<p>=============================================================</p>\n\n<h1>using Manually  through Coding</h1>\n\n<pre><code>import android.content.pm.PackageInfo;\nimport android.content.pm.PackageManager;\nimport android.content.pm.Signature;\nimport java.security.MessageDigest;\nimport java.security.NoSuchAlgorithmException;\n\n\nprivate void PrintHashKey() {\n\n        try {\n            PackageInfo info = getPackageManager().getPackageInfo(\"**com.keshav.patanjalidemo  Your Package Name Here**\", PackageManager.GET_SIGNATURES);\n            for (Signature signature : info.signatures) {\n                MessageDigest md = MessageDigest.getInstance(\"SHA\");        \n                md.update(signature.toByteArray());\n                Log.d(\"KeyHash:\", Base64.encodeToString(md.digest(), Base64.DEFAULT));\n            }\n        } catch (PackageManager.NameNotFoundException e) {\n            e.printStackTrace();\n        } catch (NoSuchAlgorithmException e) {\n            e.printStackTrace();\n        }\n\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6979896,"reputation":67,"user_id":5353234,"display_name":"Manish"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1504944683,"creation_date":1504933552,"answer_id":46127304,"question_id":11896304,"body_markdown":"This works for me:\r\n\r\n    C:\\Users\\example&gt;keytool -exportcert -alias androiddebugkey -keystore \r\n    &quot;C:\\Users\\example\\.android&quot; | &quot;C:\\openssl\\bin\\openssl.exe&quot; sha1 -binary \r\n    | &quot;C:\\openssl\\bin\\oenssl.exe&quot; base64\r\n","title":"Openssl is not recognized as an internal or external command","body":"<p>This works for me:</p>\n\n<pre><code>C:\\Users\\example&gt;keytool -exportcert -alias androiddebugkey -keystore \n\"C:\\Users\\example\\.android\" | \"C:\\openssl\\bin\\openssl.exe\" sha1 -binary \n| \"C:\\openssl\\bin\\oenssl.exe\" base64\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11639245,"reputation":61,"user_id":8524354,"display_name":"fuse"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1606730580,"creation_date":1606730580,"answer_id":65071474,"question_id":11896304,"body_markdown":"IDK if this is relevant here, but if you have Git Installed, you can find the openssl in the &quot;C:\\Program Files\\Git\\usr\\bin&quot; and that location you can use in the Terminal for your Keystore Command.\r\n\r\noh and yeah the command:\r\n\r\nkeytool -exportcert -alias keystore -keystore &quot;C:\\Users\\YOURPATH/filename.jks&quot; | &quot;C:\\Program Files\\Git\\usr\\bin\\openssl&quot; sha1 -binary | &quot;C:\\Program Files\\Git\\usr\\bin\\openssl&quot; base64","title":"Openssl is not recognized as an internal or external command","body":"<p>IDK if this is relevant here, but if you have Git Installed, you can find the openssl in the &quot;C:\\Program Files\\Git\\usr\\bin&quot; and that location you can use in the Terminal for your Keystore Command.</p>\n<p>oh and yeah the command:</p>\n<p>keytool -exportcert -alias keystore -keystore &quot;C:\\Users\\YOURPATH/filename.jks&quot; | &quot;C:\\Program Files\\Git\\usr\\bin\\openssl&quot; sha1 -binary | &quot;C:\\Program Files\\Git\\usr\\bin\\openssl&quot; base64</p>\n"},{"tags":[],"owner":{"account_id":13927840,"reputation":29,"user_id":10056692,"display_name":"Marcos Silva"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1625347946,"creation_date":1625347946,"answer_id":68240100,"question_id":11896304,"body_markdown":"\r\nFor those who arrive lost as I was now, follow Usama Sarwar response\r\nbut if:\r\n\r\n&gt;&quot;your_openssl_path/bin/openssl.exe&quot;\r\n\r\ndoesn&#39;t work, try it\r\n\r\n&gt;your_openssl_path/bin/openssl.exe.\r\n\r\nWithout the quotes.\r\n\r\n&gt;&quot;c:\\openssl\\bin\\openssl.exe&quot; =&gt; Didn&#39;t work for me\r\n\r\n\r\n&gt;c:\\openssl\\bin\\openssl.exe =&gt; Worked for me","title":"Openssl is not recognized as an internal or external command","body":"<p>For those who arrive lost as I was now, follow Usama Sarwar response\nbut if:</p>\n<blockquote>\n<p>&quot;your_openssl_path/bin/openssl.exe&quot;</p>\n</blockquote>\n<p>doesn't work, try it</p>\n<blockquote>\n<p>your_openssl_path/bin/openssl.exe.</p>\n</blockquote>\n<p>Without the quotes.</p>\n<blockquote>\n<p>&quot;c:\\openssl\\bin\\openssl.exe&quot; =&gt; Didn't work for me</p>\n</blockquote>\n<blockquote>\n<p>c:\\openssl\\bin\\openssl.exe =&gt; Worked for me</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":16659528,"reputation":328,"user_id":12039847,"display_name":"Slava Bugz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638203007,"creation_date":1638203007,"answer_id":70157907,"question_id":11896304,"body_markdown":"I&#39;ve got the same issue today, solved it by following this video (the SSL installation) - https://www.youtube.com/watch?v=PoAc1lpfK8I&amp;ab_channel=GleyGames\r\n\r\nThen, i&#39;ve took Usamas command, and run it (after changing the paths in the command), I&#39;ve run it FROM inside the bin folder inside the java installation, using CMD.\r\n\r\nfull command that worked for me:\r\n\r\n**(from inside C:\\Program Files\\Java\\jdk-11.0.12\\bin)** : \r\n\r\n    keytool -exportcert -alias androiddebugkey -keystore &quot;C:\\Users\\USERNAME\\.android\\debug.keystore&quot; | &quot;C:\\Program Files\\OpenSSL-Win64\\bin\\openssl&quot; sha1 -binary | &quot;C:\\Program Files\\OpenSSL-Win64\\bin\\openssl&quot; base64","title":"Openssl is not recognized as an internal or external command","body":"<p>I've got the same issue today, solved it by following this video (the SSL installation) - <a href=\"https://www.youtube.com/watch?v=PoAc1lpfK8I&amp;ab_channel=GleyGames\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=PoAc1lpfK8I&amp;ab_channel=GleyGames</a></p>\n<p>Then, i've took Usamas command, and run it (after changing the paths in the command), I've run it FROM inside the bin folder inside the java installation, using CMD.</p>\n<p>full command that worked for me:</p>\n<p><strong>(from inside C:\\Program Files\\Java\\jdk-11.0.12\\bin)</strong> :</p>\n<pre><code>keytool -exportcert -alias androiddebugkey -keystore &quot;C:\\Users\\USERNAME\\.android\\debug.keystore&quot; | &quot;C:\\Program Files\\OpenSSL-Win64\\bin\\openssl&quot; sha1 -binary | &quot;C:\\Program Files\\OpenSSL-Win64\\bin\\openssl&quot; base64\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14489422,"reputation":162,"user_id":10466214,"display_name":"Julian Paul"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649139250,"creation_date":1649139250,"answer_id":71747033,"question_id":11896304,"body_markdown":"**Step 1**\r\n\r\nDownload SSL for windows at [https://code.google.com/archive/p/openssl-for-windows/downloads][1].\r\n\r\n**Step 2**\r\n\r\nUnzip the folder to OpenSSL and paste it to &quot;*C:\\Program Files*&quot;.\r\n\r\n**Step 3**\r\n\r\nAdd &quot;*C:\\Program Files\\OpenSSL\\bin*&quot; to your environnement variables (Edit the system environnement variables &gt; Environnement variables &gt; Path &gt; New). It will make openssl work in the terminal.\r\n\r\n**Step 4**\r\n\r\nAdd &quot;*C:\\Program Files\\Android\\Android Studio\\jre\\bin*&quot; to your environnement variables. It will make keytool work in the terminal.\r\n\r\n**Step 5**\r\n\r\nOpen a terminal and execute :\r\n\r\n    keytool -exportcert -alias androiddebugkey -keystore .android\\debug.keystore | openssl sha1 -binary | openssl base64\r\n\r\nThe password should be android.\r\n\r\n  [1]: https://code.google.com/archive/p/openssl-for-windows/downloads","title":"Openssl is not recognized as an internal or external command","body":"<p><strong>Step 1</strong></p>\n<p>Download SSL for windows at <a href=\"https://code.google.com/archive/p/openssl-for-windows/downloads\" rel=\"nofollow noreferrer\">https://code.google.com/archive/p/openssl-for-windows/downloads</a>.</p>\n<p><strong>Step 2</strong></p>\n<p>Unzip the folder to OpenSSL and paste it to &quot;<em>C:\\Program Files</em>&quot;.</p>\n<p><strong>Step 3</strong></p>\n<p>Add &quot;<em>C:\\Program Files\\OpenSSL\\bin</em>&quot; to your environnement variables (Edit the system environnement variables &gt; Environnement variables &gt; Path &gt; New). It will make openssl work in the terminal.</p>\n<p><strong>Step 4</strong></p>\n<p>Add &quot;<em>C:\\Program Files\\Android\\Android Studio\\jre\\bin</em>&quot; to your environnement variables. It will make keytool work in the terminal.</p>\n<p><strong>Step 5</strong></p>\n<p>Open a terminal and execute :</p>\n<pre><code>keytool -exportcert -alias androiddebugkey -keystore .android\\debug.keystore | openssl sha1 -binary | openssl base64\n</code></pre>\n<p>The password should be android.</p>\n"},{"tags":[],"owner":{"account_id":22516601,"reputation":849,"user_id":16710738,"display_name":"Deepak Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649331298,"creation_date":1649331298,"answer_id":71781442,"question_id":11896304,"body_markdown":"**use this**  \r\n\r\n  \r\n\r\n    keytool -exportcert -alias androiddebugkey -keystore ~/.android/debug.keystore | &quot;C:\\Users\\DK\\openssl-0.9.8d_X64\\bin\\openssl.exe&quot; sha1 -binary | &quot;C:\\Users\\DK\\openssl-0.9.8d_X64\\bin\\openssl.exe&quot; base64","title":"Openssl is not recognized as an internal or external command","body":"<p><strong>use this</strong></p>\n<pre><code>keytool -exportcert -alias androiddebugkey -keystore ~/.android/debug.keystore | &quot;C:\\Users\\DK\\openssl-0.9.8d_X64\\bin\\openssl.exe&quot; sha1 -binary | &quot;C:\\Users\\DK\\openssl-0.9.8d_X64\\bin\\openssl.exe&quot; base64\n</code></pre>\n"},{"tags":[],"owner":{"account_id":983547,"reputation":3574,"user_id":1002613,"accept_rate":35,"display_name":"Mr.B"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656466074,"creation_date":1656466074,"answer_id":72794799,"question_id":11896304,"body_markdown":"Easy solution if you have git installed locally.\r\nyou can just open git bash, change directory where you want your keys will be generated and then run your command.\r\nit will work because git installs open ssl exe by default and your don&#39;t need to set path to your ssl exe manually each time you want to run it.\r\nit works for me and I hope it helps.","title":"Openssl is not recognized as an internal or external command","body":"<p>Easy solution if you have git installed locally.\nyou can just open git bash, change directory where you want your keys will be generated and then run your command.\nit will work because git installs open ssl exe by default and your don't need to set path to your ssl exe manually each time you want to run it.\nit works for me and I hope it helps.</p>\n"},{"tags":[],"owner":{"account_id":2888898,"reputation":5558,"user_id":2478134,"accept_rate":42,"display_name":"HybrisHelp"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1656497899,"creation_date":1656497899,"answer_id":72799697,"question_id":11896304,"body_markdown":"If you are on windows and if you have git installed then you can run the open ssl command using GIT Bash.\r\n\r\n 1. go to the directory where you want to store the key\r\n 2. Right-click and open the GIT Bash\r\n 3. Here you can run any openssl command. e.g.\r\n\r\n    `openssl enc -aes-128-cbc -k test -P -md sha1`","title":"Openssl is not recognized as an internal or external command","body":"<p>If you are on windows and if you have git installed then you can run the open ssl command using GIT Bash.</p>\n<ol>\n<li><p>go to the directory where you want to store the key</p>\n</li>\n<li><p>Right-click and open the GIT Bash</p>\n</li>\n<li><p>Here you can run any openssl command. e.g.</p>\n<p><code>openssl enc -aes-128-cbc -k test -P -md sha1</code></p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1614817,"reputation":812,"user_id":1492809,"accept_rate":18,"display_name":"Anuj Kaithwas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693123249,"creation_date":1693123249,"answer_id":76986192,"question_id":11896304,"body_markdown":"So I tried almost everything that was mentioned as a solution here but that didn&#39;t work for me. If you are on windows and have Git installed, just do the below and you will get it in a sec;\r\n\r\n\r\n\r\n\r\n```bash\r\n1. Open Git Bash\r\n2.keytool -exportcert -alias authFB -keystore &quot;c:\\users\\your name\\.android\\debug.keystore&quot; | &quot;C:\\Program Files\\Git\\usr\\bin\\openssl.exe&quot; sha1 -binary | &quot;C:\\Program Files\\Git\\usr\\bin\\openssl.exe&quot; base64\r\n```\r\n\r\n [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/U6v0I.png","title":"Openssl is not recognized as an internal or external command","body":"<p>So I tried almost everything that was mentioned as a solution here but that didn't work for me. If you are on windows and have Git installed, just do the below and you will get it in a sec;</p>\n<pre class=\"lang-bash prettyprint-override\"><code>1. Open Git Bash\n2.keytool -exportcert -alias authFB -keystore &quot;c:\\users\\your name\\.android\\debug.keystore&quot; | &quot;C:\\Program Files\\Git\\usr\\bin\\openssl.exe&quot; sha1 -binary | &quot;C:\\Program Files\\Git\\usr\\bin\\openssl.exe&quot; base64\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/U6v0I.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/U6v0I.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":1452454,"reputation":2765,"user_id":1368964,"accept_rate":82,"display_name":"Khurram W. Malik"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":332257,"favorite_count":0,"down_vote_count":0,"up_vote_count":225,"accepted_answer_id":11896406,"answer_count":23,"score":225,"last_activity_date":1693123249,"creation_date":1344578644,"question_id":11896304,"body_markdown":"I wish to generate an application signature for my app which will later be integrated with Facebook. In one of Facebook&#39;s tutorials, I found this command:\r\n\r\n    keytool -exportcert -alias androiddebugkey -keystore ~/.android/debug.keystore | openssl sha1 -binary | openssl base64\r\n\r\nIn the tutorial, it says that by running this cmd, my process of generating the signature will start.\r\n\r\nHowever, this command gives an error:\r\n\r\n    openssl is not recognized as an internal or external command\r\n\r\nHow can I get rid of this?\r\n\r\n        ","title":"Openssl is not recognized as an internal or external command","body":"<p>I wish to generate an application signature for my app which will later be integrated with Facebook. In one of Facebook's tutorials, I found this command:</p>\n\n<pre><code>keytool -exportcert -alias androiddebugkey -keystore ~/.android/debug.keystore | openssl sha1 -binary | openssl base64\n</code></pre>\n\n<p>In the tutorial, it says that by running this cmd, my process of generating the signature will start.</p>\n\n<p>However, this command gives an error:</p>\n\n<pre><code>openssl is not recognized as an internal or external command\n</code></pre>\n\n<p>How can I get rid of this?</p>\n"},{"tags":["java","spring-webflux","junit5","spring-test"],"comments":[{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1693123793,"post_id":76986168,"comment_id":135716540,"body_markdown":"The line `Mono&lt;Location&gt; monoResultMock = mock(Mono.class);` does not do anything. I suggest reading [Why are my mocked methods not called when executing a unit test?](https://stackoverflow.com/questions/74027324/why-are-my-mocked-methods-not-called-when-executing-a-unit-test), even if that might not be the immediate problem","body":"The line <code>Mono&lt;Location&gt; monoResultMock = mock(Mono.class);</code> does not do anything. I suggest reading <a href=\"https://stackoverflow.com/questions/74027324/why-are-my-mocked-methods-not-called-when-executing-a-unit-test\">Why are my mocked methods not called when executing a unit test?</a>, even if that might not be the immediate problem"}],"owner":{"account_id":25836931,"reputation":25,"user_id":19573182,"display_name":"Sujoy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":159,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1693123150,"creation_date":1693122886,"question_id":76986168,"body_markdown":"In a Spring Boot application, I have a repository class where I am doing some DB operation with R2DBC using DatabaseClient. \r\n\r\nMy code is something like this : \r\n\r\n```\r\nreturn client.sql(sqlToSearch)\r\n        .bind(&quot;alternateCodeType&quot;, alternateCodeType)\r\n        .bind(&quot;alternateCode&quot;, alternateCode)\r\n        .map(locationR2DBCMapper::apply).one();\r\n```\r\n\r\nwhere, locationR2DBCMapper is my custom BiFunction mapper class\r\n\r\nMapper class code is simple like this: \r\n\r\n```\r\npublic class LocationR2DBCMapper implements BiFunction&lt;Row, Object, Location&gt; {\r\n\r\n    @Override\r\n    public Location apply(Row row, Object o) {\r\n        if(row.get(0)!=null)\r\n        {\r\n            Location location = new Location();\r\n            location.setId(row.get(&quot;location_id&quot;, Long.class));\r\n            location.setLocationName(row.get(&quot;location_name&quot;, String.class));\r\n            location.setLocationType(row.get(&quot;location_type&quot;, String.class));\r\n            location.setProjectionMsg(row.get(&quot;projection_msg&quot;, String.class));\r\n            location.setIsFacility(row.get(&quot;is_facility&quot;,Boolean.class));\r\n            return location;\r\n        }\r\n        else {\r\n            return new Location();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nNow, I just want write a JUnit test case for this repository class, where I have to mock this DB call operation. Specifically this line: \r\n\r\n```\r\nclient.sql(sqlToSearch)\r\n        .bind(&quot;alternateCodeType&quot;, alternateCodeType)\r\n        .bind(&quot;alternateCode&quot;, alternateCode)\r\n        .map(locationR2DBCMapper::apply).one();\r\n```\r\n\r\nwhere client is object of DatabaseClient.\r\n\r\nI tried this approach: \r\n\r\n```\r\n@BeforeEach\r\nvoid setUp() {\r\n    databaseClientMock = Mockito.mock(DatabaseClient.class);\r\n\r\n    locationR2DBCMapperMock = Mockito.mock(LocationR2DBCMapper.class);\r\n\r\n    DatabaseClient databaseClientMock = mock(DatabaseClient.class);\r\n    DatabaseClient.GenericExecuteSpec executeSpecMock = mock(DatabaseClient.GenericExecuteSpec.class);\r\n\r\n    Mono&lt;Location&gt; monoResultMock = mock(Mono.class);\r\n\r\n    locationCustomRepositoryImplMock = new LocationCustomRepositoryImpl(databaseClientMock,locationR2DBCMapperMock);\r\n}\r\n\r\n@Test\r\npublic void getLocationByLocationTypeTest()\r\n{\r\n    RowsFetchSpec&lt;?&gt; rowsFetchSpecMock = mock(RowsFetchSpec.class);\r\n    when(databaseClientMock.sql(anyString())).thenReturn(executeSpecMock);\r\n    when(executeSpecMock.map(Mockito.any(BiFunction.class))).thenReturn(rowsFetchSpecMock);\r\n    Flux&lt;Object&gt; resultFluxMock = Flux.empty(); // Replace this with your own Flux instance\r\n    when(rowsFetchSpecMock.all()).thenReturn(resultFluxMock);\r\n\r\n    //Mockito.when(databaseClientMock.sql(anyString())).thenReturn(Flux.just(Location.builder().locationName(&quot;someName&quot;).id(Long.valueOf(123)).build()));\r\n}\r\n```\r\n\r\nbut, this line giving one error, saying _&quot;Cannot resolve method &#39;thenReturn(Flux\\&lt;Object&gt;)&#39;&quot;_\r\n```\r\nwhen(rowsFetchSpecMock.all()).thenReturn(resultFluxMock);\r\n```\r\n\r\nHow can I mock this and fix the error?","title":"How to write mock class for JUnit for R2DBC DatabaseClient","body":"<p>In a Spring Boot application, I have a repository class where I am doing some DB operation with R2DBC using DatabaseClient.</p>\n<p>My code is something like this :</p>\n<pre><code>return client.sql(sqlToSearch)\n        .bind(&quot;alternateCodeType&quot;, alternateCodeType)\n        .bind(&quot;alternateCode&quot;, alternateCode)\n        .map(locationR2DBCMapper::apply).one();\n</code></pre>\n<p>where, locationR2DBCMapper is my custom BiFunction mapper class</p>\n<p>Mapper class code is simple like this:</p>\n<pre><code>public class LocationR2DBCMapper implements BiFunction&lt;Row, Object, Location&gt; {\n\n    @Override\n    public Location apply(Row row, Object o) {\n        if(row.get(0)!=null)\n        {\n            Location location = new Location();\n            location.setId(row.get(&quot;location_id&quot;, Long.class));\n            location.setLocationName(row.get(&quot;location_name&quot;, String.class));\n            location.setLocationType(row.get(&quot;location_type&quot;, String.class));\n            location.setProjectionMsg(row.get(&quot;projection_msg&quot;, String.class));\n            location.setIsFacility(row.get(&quot;is_facility&quot;,Boolean.class));\n            return location;\n        }\n        else {\n            return new Location();\n        }\n    }\n}\n</code></pre>\n<p>Now, I just want write a JUnit test case for this repository class, where I have to mock this DB call operation. Specifically this line:</p>\n<pre><code>client.sql(sqlToSearch)\n        .bind(&quot;alternateCodeType&quot;, alternateCodeType)\n        .bind(&quot;alternateCode&quot;, alternateCode)\n        .map(locationR2DBCMapper::apply).one();\n</code></pre>\n<p>where client is object of DatabaseClient.</p>\n<p>I tried this approach:</p>\n<pre><code>@BeforeEach\nvoid setUp() {\n    databaseClientMock = Mockito.mock(DatabaseClient.class);\n\n    locationR2DBCMapperMock = Mockito.mock(LocationR2DBCMapper.class);\n\n    DatabaseClient databaseClientMock = mock(DatabaseClient.class);\n    DatabaseClient.GenericExecuteSpec executeSpecMock = mock(DatabaseClient.GenericExecuteSpec.class);\n\n    Mono&lt;Location&gt; monoResultMock = mock(Mono.class);\n\n    locationCustomRepositoryImplMock = new LocationCustomRepositoryImpl(databaseClientMock,locationR2DBCMapperMock);\n}\n\n@Test\npublic void getLocationByLocationTypeTest()\n{\n    RowsFetchSpec&lt;?&gt; rowsFetchSpecMock = mock(RowsFetchSpec.class);\n    when(databaseClientMock.sql(anyString())).thenReturn(executeSpecMock);\n    when(executeSpecMock.map(Mockito.any(BiFunction.class))).thenReturn(rowsFetchSpecMock);\n    Flux&lt;Object&gt; resultFluxMock = Flux.empty(); // Replace this with your own Flux instance\n    when(rowsFetchSpecMock.all()).thenReturn(resultFluxMock);\n\n    //Mockito.when(databaseClientMock.sql(anyString())).thenReturn(Flux.just(Location.builder().locationName(&quot;someName&quot;).id(Long.valueOf(123)).build()));\n}\n</code></pre>\n<p>but, this line giving one error, saying <em>&quot;Cannot resolve method 'thenReturn(Flux&lt;Object&gt;)'&quot;</em></p>\n<pre><code>when(rowsFetchSpecMock.all()).thenReturn(resultFluxMock);\n</code></pre>\n<p>How can I mock this and fix the error?</p>\n"},{"tags":["java","spring","rest"],"comments":[{"owner":{"account_id":1432415,"reputation":10687,"user_id":1354537,"accept_rate":83,"display_name":"Marged"},"score":0,"creation_date":1453308525,"post_id":34905675,"comment_id":57547587,"body_markdown":"Have  a look at the doRun method and see what the assertion is checking","body":"Have  a look at the doRun method and see what the assertion is checking"},{"owner":{"account_id":1324028,"reputation":1302,"user_id":1269260,"accept_rate":71,"display_name":"betseyb"},"score":3,"creation_date":1453308928,"post_id":34905675,"comment_id":57547860,"body_markdown":"Please add the relevant section of code, so people can offer more useful suggestions.","body":"Please add the relevant section of code, so people can offer more useful suggestions."},{"owner":{"account_id":3252189,"reputation":4357,"user_id":2742156,"accept_rate":64,"display_name":"Pratap A.K"},"score":0,"creation_date":1453309005,"post_id":34905675,"comment_id":57547914,"body_markdown":"This can be caused by a dirty classpath with different versions of Spring libraries all over the place. Cleanup it and align it to the one and same Spring version with the correct versioned dependencies.","body":"This can be caused by a dirty classpath with different versions of Spring libraries all over the place. Cleanup it and align it to the one and same Spring version with the correct versioned dependencies."},{"owner":{"account_id":1477692,"reputation":46661,"user_id":1393484,"accept_rate":100,"display_name":"Ali Dehghani"},"score":0,"creation_date":1453310382,"post_id":34905675,"comment_id":57548829,"body_markdown":"Please add the related code, especially your `SpringBootApplication` or `EnableAutoConfiguration` annotated class","body":"Please add the related code, especially your <code>SpringBootApplication</code> or <code>EnableAutoConfiguration</code> annotated class"}],"answers":[{"tags":[],"owner":{"account_id":7676208,"reputation":489,"user_id":5817007,"display_name":"Adipati Karna"},"down_vote_count":1,"up_vote_count":27,"is_accepted":false,"score":26,"last_activity_date":1589360102,"creation_date":1453380211,"answer_id":34924192,"question_id":34905675,"body_markdown":"It turns out that I did not set the main class correctly in Eclipse - Debug, and Run configuration.\r\n\r\nI set **org.springframework.boot.SpringApplication** as the main class.\r\n\r\nThe Main class should be pointing to my main class.\r\n\r\n","title":"Spring application start error: sources must not be empty","body":"<p>It turns out that I did not set the main class correctly in Eclipse - Debug, and Run configuration.</p>\n\n<p>I set <strong>org.springframework.boot.SpringApplication</strong> as the main class.</p>\n\n<p>The Main class should be pointing to my main class.</p>\n"},{"tags":[],"owner":{"account_id":1611959,"reputation":3349,"user_id":1490636,"display_name":"Maksim Kostromin"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1498937337,"creation_date":1498937337,"answer_id":44864648,"question_id":34905675,"body_markdown":"you must add at least one main config class as a source (see attached screenshots).\r\n\r\nwrong:\r\n[![enter image description here][1]][1]\r\n\r\nright:\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nO1mY.png\r\n  [2]: https://i.stack.imgur.com/k7K9H.png","title":"Spring application start error: sources must not be empty","body":"<p>you must add at least one main config class as a source (see attached screenshots).</p>\n\n<p>wrong:\n<a href=\"https://i.stack.imgur.com/nO1mY.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/nO1mY.png\" alt=\"enter image description here\"></a></p>\n\n<p>right:\n<a href=\"https://i.stack.imgur.com/k7K9H.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/k7K9H.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":14356340,"reputation":11,"user_id":10370099,"display_name":"user10370099"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1537084258,"creation_date":1537082143,"answer_id":52351850,"question_id":34905675,"body_markdown":"add scanBasePackages=&quot;com.login&quot; at main class thats all your code will work.\r\n\r\n    package com.login.example.LoginExample;\r\n\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n    @SpringBootApplication(scanBasePackages=&quot;com.login&quot;)\r\n\r\n    public class LoginExampleApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(LoginExampleApplication.class, args);\r\n\t    }\r\n    }\r\n","title":"Spring application start error: sources must not be empty","body":"<p>add scanBasePackages=\"com.login\" at main class thats all your code will work.</p>\n\n<pre><code>package com.login.example.LoginExample;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication(scanBasePackages=\"com.login\")\n\npublic class LoginExampleApplication {\n\npublic static void main(String[] args) {\n    SpringApplication.run(LoginExampleApplication.class, args);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14407295,"reputation":177,"user_id":10407026,"display_name":"Marcel"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1614698659,"creation_date":1556534672,"answer_id":55901738,"question_id":34905675,"body_markdown":"Had the same issue recently, turned out I was running the wrong java class. I went to class where I have my @SpringBootApplication and right click -&gt; run as java application. Hopefully that will help someone.","title":"Spring application start error: sources must not be empty","body":"<p>Had the same issue recently, turned out I was running the wrong java class. I went to class where I have my @SpringBootApplication and right click -&gt; run as java application. Hopefully that will help someone.</p>\n"},{"tags":[],"owner":{"account_id":5056115,"reputation":574,"user_id":4059307,"display_name":"Harish Narayanan"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1591534250,"creation_date":1591534250,"answer_id":62245588,"question_id":34905675,"body_markdown":"Run the main class &amp; not the project. ","title":"Spring application start error: sources must not be empty","body":"<p>Run the main class &amp; not the project. </p>\n"},{"tags":[],"owner":{"account_id":16491278,"reputation":7,"user_id":11915074,"display_name":"cbarkinozer"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1649846505,"creation_date":1640519326,"answer_id":70486202,"question_id":34905675,"body_markdown":"You can change the package of the Main class by doing `Run&gt;Run Configurations&gt;Main Class&gt;Search&gt; Select &quot;Spring Application`.\r\nThen, If you get `java.lang.IllegalArgumentException: Sources must not be empty` error. You can fix it by creating a new workspace.","title":"Spring application start error: sources must not be empty","body":"<p>You can change the package of the Main class by doing <code>Run&gt;Run Configurations&gt;Main Class&gt;Search&gt; Select &quot;Spring Application</code>.\nThen, If you get <code>java.lang.IllegalArgumentException: Sources must not be empty</code> error. You can fix it by creating a new workspace.</p>\n"},{"tags":[],"owner":{"account_id":18352597,"reputation":1,"user_id":13366455,"display_name":"ayoub razali"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647536230,"creation_date":1647536230,"answer_id":71516253,"question_id":34905675,"body_markdown":"in my case i solved it by changing the package of the main  class \r\nto the root  package","title":"Spring application start error: sources must not be empty","body":"<p>in my case i solved it by changing the package of the main  class\nto the root  package</p>\n"},{"tags":[],"owner":{"account_id":25411512,"reputation":1,"user_id":19219217,"display_name":"afsar raza"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658817727,"creation_date":1658515424,"answer_id":73084811,"question_id":34905675,"body_markdown":"kindly check beans are created for your runner class or not by using `@Component` annotation on that class.","title":"Spring application start error: sources must not be empty","body":"<p>kindly check beans are created for your runner class or not by using <code>@Component</code> annotation on that class.</p>\n"},{"tags":[],"owner":{"account_id":17426206,"reputation":1,"user_id":14126392,"display_name":"kaushik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680196046,"creation_date":1680196046,"answer_id":75891098,"question_id":34905675,"body_markdown":"Simple answer is instead of project name do right click on java file which contains main method. In our case java file which has @SpringBootApplication annotation.","title":"Spring application start error: sources must not be empty","body":"<p>Simple answer is instead of project name do right click on java file which contains main method. In our case java file which has @SpringBootApplication annotation.</p>\n"},{"tags":[],"owner":{"account_id":1003933,"reputation":3792,"user_id":1018154,"display_name":"CodeToLife"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684092333,"creation_date":1684092333,"answer_id":76249311,"question_id":34905675,"body_markdown":"in **SpringToolSuite** in *workspace window* **rightclick the project =&gt;** **run as =&gt;** **run configs =&gt;** **main** tab(in popup) **=&gt;** **project:** field **=&gt;** browse and pickup the right project **=&gt;** make sure in **Main class:** field there is you main class. Click  **Apply** and **Run**.","title":"Spring application start error: sources must not be empty","body":"<p>in <strong>SpringToolSuite</strong> in <em>workspace window</em> <strong>rightclick the project =&gt;</strong> <strong>run as =&gt;</strong> <strong>run configs =&gt;</strong> <strong>main</strong> tab(in popup) <strong>=&gt;</strong> <strong>project:</strong> field <strong>=&gt;</strong> browse and pickup the right project <strong>=&gt;</strong> make sure in <strong>Main class:</strong> field there is you main class. Click  <strong>Apply</strong> and <strong>Run</strong>.</p>\n"},{"tags":[],"owner":{"account_id":28693240,"reputation":1,"user_id":21972019,"display_name":"Omkar Gole"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693123119,"creation_date":1693123003,"answer_id":76986175,"question_id":34905675,"body_markdown":"\r\n\r\n  \r\n\r\n     &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n \r\n\r\n - Make sure if you are not using Database in spring boot then don&#39;t use this \r\n    dependency.\r\n\r\n - I had same problem but when I removed this dependency it started worked.\r\n    And also make sure you run project from your main class file \r\n","title":"Spring application start error: sources must not be empty","body":"<pre><code> &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<ul>\n<li><p>Make sure if you are not using Database in spring boot then don't use this\ndependency.</p>\n</li>\n<li><p>I had same problem but when I removed this dependency it started worked.\nAnd also make sure you run project from your main class file</p>\n</li>\n</ul>\n"}],"owner":{"account_id":7676208,"reputation":489,"user_id":5817007,"display_name":"Adipati Karna"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57033,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"answer_count":11,"score":22,"last_activity_date":1693123119,"creation_date":1453308172,"question_id":34905675,"body_markdown":"I&#39;m following a Spring tutorial, and when I tried to start the spring application I got the following error:\r\n\r\n&gt; 2016-01-20 23:18:15.907  INFO 5271 --- [           main]\r\n&gt; o.s.boot.SpringApplication               : Starting SpringApplication\r\n&gt; v1.3.1.RELEASE on  ... \r\n&gt; \r\n&gt; 2016-01-20 23:18:15.911  INFO 5271 --- [        main]\r\n&gt; o.s.boot.SpringApplication               : No active profile set,\r\n&gt; falling back to default profiles: default \r\n&gt; \r\n&gt; 2016-01-20 23:18:15.918 ERROR 5271 --- [           main]\r\n&gt; o.s.boot.SpringApplication            : Application startup failed\r\n&gt; java.lang.IllegalArgumentException: Sources must not be empty \tat\r\n&gt; org.springframework.util.Assert.notEmpty(Assert.java:276)\r\n&gt; ~[spring-core-4.2.4.RELEASE.jar:4.2.4.RELEASE] \tat\r\n&gt; org.springframework.boot.SpringApplication.doRun(SpringApplication.java:352)\r\n&gt; [spring-boot-1.3.1.RELEASE.jar:1.3.1.RELEASE] \tat\r\n&gt; org.springframework.boot.SpringApplication.run(SpringApplication.java:305)\r\n&gt; [spring-boot-1.3.1.RELEASE.jar:1.3.1.RELEASE] \tat\r\n&gt; org.springframework.boot.SpringApplication.run(SpringApplication.java:1124)\r\n&gt; [spring-boot-1.3.1.RELEASE.jar:1.3.1.RELEASE] \tat\r\n&gt; org.springframework.boot.SpringApplication.main(SpringApplication.java:1140)\r\n&gt; [spring-boot-1.3.1.RELEASE.jar:1.3.1.RELEASE]\r\n\r\nWhat is this &quot;Sources must not be empty&quot; error?\r\n\r\nI am using an Eclipse - Maven project for this tutorial project and I have updated the project. I have also cleaned and rebuilt but I still got this error.\r\n\r\n","title":"Spring application start error: sources must not be empty","body":"<p>I'm following a Spring tutorial, and when I tried to start the spring application I got the following error:</p>\n\n<blockquote>\n  <p>2016-01-20 23:18:15.907  INFO 5271 --- [           main]\n  o.s.boot.SpringApplication               : Starting SpringApplication\n  v1.3.1.RELEASE on  ... </p>\n  \n  <p>2016-01-20 23:18:15.911  INFO 5271 --- [        main]\n  o.s.boot.SpringApplication               : No active profile set,\n  falling back to default profiles: default </p>\n  \n  <p>2016-01-20 23:18:15.918 ERROR 5271 --- [           main]\n  o.s.boot.SpringApplication            : Application startup failed\n  java.lang.IllegalArgumentException: Sources must not be empty     at\n  org.springframework.util.Assert.notEmpty(Assert.java:276)\n  ~[spring-core-4.2.4.RELEASE.jar:4.2.4.RELEASE]    at\n  org.springframework.boot.SpringApplication.doRun(SpringApplication.java:352)\n  [spring-boot-1.3.1.RELEASE.jar:1.3.1.RELEASE]     at\n  org.springframework.boot.SpringApplication.run(SpringApplication.java:305)\n  [spring-boot-1.3.1.RELEASE.jar:1.3.1.RELEASE]     at\n  org.springframework.boot.SpringApplication.run(SpringApplication.java:1124)\n  [spring-boot-1.3.1.RELEASE.jar:1.3.1.RELEASE]     at\n  org.springframework.boot.SpringApplication.main(SpringApplication.java:1140)\n  [spring-boot-1.3.1.RELEASE.jar:1.3.1.RELEASE]</p>\n</blockquote>\n\n<p>What is this \"Sources must not be empty\" error?</p>\n\n<p>I am using an Eclipse - Maven project for this tutorial project and I have updated the project. I have also cleaned and rebuilt but I still got this error.</p>\n"},{"tags":["java","multithreading","deadlock","executors"],"comments":[{"owner":{"account_id":906200,"reputation":787,"user_id":941045,"accept_rate":80,"display_name":"ice"},"score":1,"creation_date":1355210783,"post_id":13815258,"comment_id":19008579,"body_markdown":"How did you run this example? And, please, provide your `LoadFileTask` source. Actually the deadlock must be in first call of `Future.get` - if you have something printed, then you executing this example in different way.","body":"How did you run this example? And, please, provide your <code>LoadFileTask</code> source. Actually the deadlock must be in first call of <code>Future.get</code> - if you have something printed, then you executing this example in different way."},{"owner":{"account_id":476484,"reputation":8618,"user_id":887421,"accept_rate":68,"display_name":"Achow"},"score":0,"creation_date":1355211331,"post_id":13815258,"comment_id":19008754,"body_markdown":"Updated the entire source. That&#39;s exactly whats baffling me, if I get future.get() for header, that&#39;s supposed to exit the header runnable, isn&#39;t it?","body":"Updated the entire source. That&#39;s exactly whats baffling me, if I get future.get() for header, that&#39;s supposed to exit the header runnable, isn&#39;t it?"}],"answers":[{"tags":[],"owner":{"account_id":906200,"reputation":787,"user_id":941045,"accept_rate":80,"display_name":"ice"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1355212185,"creation_date":1355212185,"answer_id":13815801,"question_id":13815258,"body_markdown":"There is no deadlock in your code, JVM doesn&#39;t shutdowned because it have working thread - executor thread for `exec` service(defined in `ThreadDeadlock`).\r\nIf you add \r\n    \r\n    exec.shutdown();\r\nbefore `return` in `RenderPageTask` then program will terminate after all tasks will be completed.","title":"Multithreading newSingleThreadExecutor Starvation Deadlock","body":"<p>There is no deadlock in your code, JVM doesn't shutdowned because it have working thread - executor thread for <code>exec</code> service(defined in <code>ThreadDeadlock</code>).\nIf you add </p>\n\n<pre><code>exec.shutdown();\n</code></pre>\n\n<p>before <code>return</code> in <code>RenderPageTask</code> then program will terminate after all tasks will be completed.</p>\n"},{"tags":[],"owner":{"account_id":1244574,"reputation":13277,"user_id":1206301,"accept_rate":10,"display_name":"Alexei Kaigorodov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1355216849,"creation_date":1355216849,"answer_id":13816906,"question_id":13815258,"body_markdown":"The deadlock cause is simple: the first task submits another 2 tasks and waits them to finish, effectively blocking the single working thread of the executor and preventing that tasks from execution.\r\n\r\nEither:\r\n\r\n- do not ever use blocking operations in the tasks running under executor\r\n\r\n- or use executor which adds working threads as needed","title":"Multithreading newSingleThreadExecutor Starvation Deadlock","body":"<p>The deadlock cause is simple: the first task submits another 2 tasks and waits them to finish, effectively blocking the single working thread of the executor and preventing that tasks from execution.</p>\n\n<p>Either:</p>\n\n<ul>\n<li><p>do not ever use blocking operations in the tasks running under executor</p></li>\n<li><p>or use executor which adds working threads as needed</p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":16980421,"reputation":515,"user_id":12282542,"display_name":"Kirill Parfenov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693123101,"creation_date":1693122260,"answer_id":76986129,"question_id":13815258,"body_markdown":"I ran in misunderstanding with such example.\r\nBut as @ice said - you should use same executor for header/footer and RenderPageTask for deadlock.\r\nHere is an example with deadlock:\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        var poolDeadlock = new ThreadDeadlock().new RenderPageTask();\r\n        System.out.println(poolDeadlock.call());\r\n        poolDeadlock.getExecutor().shutdown();\r\n    }\r\n\r\n    public static class ThreadDeadlock {\r\n        private final ExecutorService exec = Executors.newSingleThreadExecutor();\r\n\r\n        public class RenderPageTask implements Callable&lt;String&gt; {\r\n            public String call() throws Exception {\r\n                Future&lt;String&gt; header, footer;\r\n                header = exec.submit(new LoadFileTask(&quot;header.html&quot;));\r\n                footer = exec.submit(new LoadFileTask(&quot;footer.html&quot;));\r\n                String page = renderPage();\r\n                // Deadlock because you&#39;re using same single thread pool for header/footer\r\n                // and RenderPageTask\r\n                return header.get() + page + footer.get();\r\n            }\r\n\r\n            private String renderPage() throws Exception {\r\n                return exec.submit(new RenderPageTask()).get();\r\n            }\r\n\r\n            public ExecutorService getExecutor() {\r\n                return exec;\r\n            }\r\n        }\r\n    }\r\n\r\n    public static class LoadFileTask implements Callable&lt;String&gt; {\r\n        private final String data;\r\n\r\n        public LoadFileTask(String data) {\r\n            this.data = data;\r\n        }\r\n\r\n        @Override\r\n        public String call() {\r\n            return data;\r\n        }\r\n    }","title":"Multithreading newSingleThreadExecutor Starvation Deadlock","body":"<p>I ran in misunderstanding with such example.\nBut as @ice said - you should use same executor for header/footer and RenderPageTask for deadlock.\nHere is an example with deadlock:</p>\n<pre><code>public static void main(String[] args) throws Exception {\n    var poolDeadlock = new ThreadDeadlock().new RenderPageTask();\n    System.out.println(poolDeadlock.call());\n    poolDeadlock.getExecutor().shutdown();\n}\n\npublic static class ThreadDeadlock {\n    private final ExecutorService exec = Executors.newSingleThreadExecutor();\n\n    public class RenderPageTask implements Callable&lt;String&gt; {\n        public String call() throws Exception {\n            Future&lt;String&gt; header, footer;\n            header = exec.submit(new LoadFileTask(&quot;header.html&quot;));\n            footer = exec.submit(new LoadFileTask(&quot;footer.html&quot;));\n            String page = renderPage();\n            // Deadlock because you're using same single thread pool for header/footer\n            // and RenderPageTask\n            return header.get() + page + footer.get();\n        }\n\n        private String renderPage() throws Exception {\n            return exec.submit(new RenderPageTask()).get();\n        }\n\n        public ExecutorService getExecutor() {\n            return exec;\n        }\n    }\n}\n\npublic static class LoadFileTask implements Callable&lt;String&gt; {\n    private final String data;\n\n    public LoadFileTask(String data) {\n        this.data = data;\n    }\n\n    @Override\n    public String call() {\n        return data;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":476484,"reputation":8618,"user_id":887421,"accept_rate":68,"display_name":"Achow"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":838,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":13815801,"answer_count":3,"score":1,"last_activity_date":1693123101,"creation_date":1355209603,"question_id":13815258,"body_markdown":"This is straight from Java Concurrency in Practice.\r\nThe following causes a Deadlock :\r\n\r\n    class ThreadDeadlock {\r\n    \tExecutorService exec = Executors.newSingleThreadExecutor();\r\n    \tpublic class RenderPageTask implements Callable&lt;String&gt; {\r\n    \t\tpublic String call() throws Exception {\r\n    \t\t\tFuture&lt;String&gt; header, footer;\r\n    \t\t\tSystem.out.println(Thread.currentThread().getName());\r\n    \t\t\theader = exec.submit(new LoadFileTask(&quot;header.html&quot;));\r\n    \t\t\tfooter = exec.submit(new LoadFileTask(&quot;footer.html&quot;));\r\n    \t\t\t//String page = renderBody();\r\n    \t\t\t// Will deadlock -- task waiting for result of subtask\r\n    \t\t\t//System.out.println(&quot;executed header and footer&quot;);\r\n    \t\t\tString headerS = header.get();\r\n    \t\t\tSystem.out.println(&quot;retrieved header&quot;);\r\n    \t\t\tString footerS = footer.get();\r\n    \t\t\treturn headerS+ footerS;\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n\r\n\r\n    class LoadFileTask implements Callable&lt;String&gt;{\r\n    \tString name;\r\n    \tpublic LoadFileTask(String name) {\r\n    \t\tsuper();\r\n    \t\tthis.name = name;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic String call() throws Exception {\r\n    \t\t/*Scanner s = new Scanner(name);\r\n    \t\tStringBuilder str = new StringBuilder();\r\n    \t\twhile(s.hasNextLine()){\r\n    \t\t\tstr.append(s.nextLine());\r\n    \t\t}*/\r\n    \t\tSystem.out.println(Thread.currentThread().getName()+this.name);\r\n    \t\treturn &quot;&quot;;\r\n    \t}\r\n    }\r\n\r\n    /* Call from Main */\r\n             private static void checkDeadLock(){\r\n\t\tThreadDeadlock.RenderPageTask callable = new ThreadDeadlock().new RenderPageTask();\r\n\t\tExecutorService es = Executors.newFixedThreadPool(1);\r\n\t\tes.submit(callable);\r\n\t\tes.shutdown();\r\n\t}\r\n\r\nI am unable to figure out why this causes a deadlock.\r\nI have checked and it does.It even returns the header.get() and prints retrieved header, then how does it deadlock?\r\n","title":"Multithreading newSingleThreadExecutor Starvation Deadlock","body":"<p>This is straight from Java Concurrency in Practice.\nThe following causes a Deadlock :</p>\n\n<pre><code>class ThreadDeadlock {\n    ExecutorService exec = Executors.newSingleThreadExecutor();\n    public class RenderPageTask implements Callable&lt;String&gt; {\n        public String call() throws Exception {\n            Future&lt;String&gt; header, footer;\n            System.out.println(Thread.currentThread().getName());\n            header = exec.submit(new LoadFileTask(\"header.html\"));\n            footer = exec.submit(new LoadFileTask(\"footer.html\"));\n            //String page = renderBody();\n            // Will deadlock -- task waiting for result of subtask\n            //System.out.println(\"executed header and footer\");\n            String headerS = header.get();\n            System.out.println(\"retrieved header\");\n            String footerS = footer.get();\n            return headerS+ footerS;\n        }\n    }\n}\n\n\n\nclass LoadFileTask implements Callable&lt;String&gt;{\n    String name;\n    public LoadFileTask(String name) {\n        super();\n        this.name = name;\n    }\n\n    @Override\n    public String call() throws Exception {\n        /*Scanner s = new Scanner(name);\n        StringBuilder str = new StringBuilder();\n        while(s.hasNextLine()){\n            str.append(s.nextLine());\n        }*/\n        System.out.println(Thread.currentThread().getName()+this.name);\n        return \"\";\n    }\n}\n\n/* Call from Main */\n         private static void checkDeadLock(){\n    ThreadDeadlock.RenderPageTask callable = new ThreadDeadlock().new RenderPageTask();\n    ExecutorService es = Executors.newFixedThreadPool(1);\n    es.submit(callable);\n    es.shutdown();\n}\n</code></pre>\n\n<p>I am unable to figure out why this causes a deadlock.\nI have checked and it does.It even returns the header.get() and prints retrieved header, then how does it deadlock?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":213468,"reputation":103492,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1693122633,"post_id":76986109,"comment_id":135716425,"body_markdown":"The code as shown does not produce a _&quot;Cannot resolve symbol error&quot;_. Instead it produces _&quot;CalcKata.java:4: error: illegal start of expression&quot;_ and _&quot;CalcKata.java:7: error: class, interface, enum, or record expected&quot;_.","body":"The code as shown does not produce a <i>&quot;Cannot resolve symbol error&quot;</i>. Instead it produces <i>&quot;CalcKata.java:4: error: illegal start of expression&quot;</i> and <i>&quot;CalcKata.java:7: error: class, interface, enum, or record expected&quot;</i>."}],"answers":[{"tags":[],"owner":{"account_id":23625724,"reputation":124,"user_id":18034585,"display_name":"Gxogac"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1693122324,"creation_date":1693122232,"answer_id":76986126,"question_id":76986109,"body_markdown":"You can&#39;t declare the function like that in Java. Java doesn&#39;t allow you to define methods inside other methods\r\n\r\n```java\r\npublic class CalcKata {\r\n    public static void main(String[] args) {}\r\n    public static String calc(String input) {}\r\n}\r\n```\r\n\r\nThis is the correct one, hope that helps!","title":"Cannot resolve symbol (Java)","body":"<p>You can't declare the function like that in Java. Java doesn't allow you to define methods inside other methods</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class CalcKata {\n    public static void main(String[] args) {}\n    public static String calc(String input) {}\n}\n</code></pre>\n<p>This is the correct one, hope that helps!</p>\n"}],"owner":{"account_id":24053809,"reputation":7,"user_id":21852888,"display_name":"ra1n89"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1693122542,"accepted_answer_id":76986126,"answer_count":1,"score":-1,"last_activity_date":1693122703,"creation_date":1693121903,"question_id":76986109,"body_markdown":"The mistake here is **Cannot resolve symbol &#39;input&#39;** . \r\n\r\nWhy?\r\n\r\n```\r\npublic class CalcKata {\r\n\r\n    public static void main(String[] args) {\r\n        public static String calc (String input){\r\n        }\r\n    }\r\n}\r\n\r\n```\r\nThe code is writed on Java v17. \r\njava version &quot;17.0.2&quot; 2022-01-18 LTS\r\nJava(TM) SE Runtime Environment (build 17.0.2+8-LTS-86)\r\nJava HotSpot(TM) 64-Bit Server VM (build 17.0.2+8-LTS-86, mixed mode, sharing)\r\n\r\nI tried to write and run but it didn&#39;t help.","title":"Cannot resolve symbol (Java)","body":"<p>The mistake here is <strong>Cannot resolve symbol 'input'</strong> .</p>\n<p>Why?</p>\n<pre><code>public class CalcKata {\n\n    public static void main(String[] args) {\n        public static String calc (String input){\n        }\n    }\n}\n\n</code></pre>\n<p>The code is writed on Java v17.\njava version &quot;17.0.2&quot; 2022-01-18 LTS\nJava(TM) SE Runtime Environment (build 17.0.2+8-LTS-86)\nJava HotSpot(TM) 64-Bit Server VM (build 17.0.2+8-LTS-86, mixed mode, sharing)</p>\n<p>I tried to write and run but it didn't help.</p>\n"},{"tags":["java","gradle","jar","zip","build.gradle"],"comments":[{"owner":{"account_id":2489596,"reputation":705,"user_id":2167355,"display_name":"abendt"},"score":0,"creation_date":1693517668,"post_id":76950211,"comment_id":135775684,"body_markdown":"can you compare the contents of two zip archives from different clean builds? e.g. unzip -l &lt;zipfile&gt;. Maybe you can spot a difference in included files / lengths?","body":"can you compare the contents of two zip archives from different clean builds? e.g. unzip -l &lt;zipfile&gt;. Maybe you can spot a difference in included files / lengths?"}],"answers":[{"tags":[],"owner":{"account_id":20619661,"reputation":103,"user_id":15136978,"display_name":"Shaurya Singh"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1693122375,"creation_date":1693122375,"answer_id":76986136,"question_id":76950211,"body_markdown":"It could be possible that the hash changes on every clean build because the order of the files in the **`configurations.runtimeClasspath`** changes. You should try sorting the files in **`configurations.runtimeClasspath`** before adding them to the **zip** to ensure that the order is consistent.\r\n\r\n    task buildZip(type: Zip) {\r\n    includeEmptyDirs = false\r\n    preserveFileTimestamps = false\r\n    reproducibleFileOrder = true\r\n\r\n    from sourceSets.main.output \r\n    \r\n    into(&quot;lib&quot;) {\r\n        from configurations.runtimeClasspath.files.sort()\r\n    }\r\n    }\r\n\r\n\r\n\r\nThis should ensure that the order of the files in **`configurations.runtimeClasspath`** is consistent and the hash remains the same on every clean build.","title":"How to gradle build reproducible zip with configurations.runtimeClasspath?","body":"<p>It could be possible that the hash changes on every clean build because the order of the files in the <strong><code>configurations.runtimeClasspath</code></strong> changes. You should try sorting the files in <strong><code>configurations.runtimeClasspath</code></strong> before adding them to the <strong>zip</strong> to ensure that the order is consistent.</p>\n<pre><code>task buildZip(type: Zip) {\nincludeEmptyDirs = false\npreserveFileTimestamps = false\nreproducibleFileOrder = true\n\nfrom sourceSets.main.output \n\ninto(&quot;lib&quot;) {\n    from configurations.runtimeClasspath.files.sort()\n}\n}\n</code></pre>\n<p>This should ensure that the order of the files in <strong><code>configurations.runtimeClasspath</code></strong> is consistent and the hash remains the same on every clean build.</p>\n"}],"owner":{"account_id":1926234,"reputation":8411,"user_id":1736601,"accept_rate":70,"display_name":"atkayla"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1693122375,"creation_date":1692680269,"question_id":76950211,"body_markdown":"I have a gradle task to build a reproducible zip, hash it, then I check the hash is the same.\r\n\r\n```\r\ntask buildZip(type: Zip) {\r\n    includeEmptyDirs = false\r\n    preserveFileTimestamps = false\r\n    reproducibleFileOrder = true\r\n\r\n    from sourceSets.main.output\r\n}\r\n\r\ntask createChecksums(type: Checksum, dependsOn: build) {\r\n    inputFiles.setFrom(&quot;${buildDir}/distributions&quot;);\r\n    appendFileNameToChecksum.set(true)\r\n}\r\n```\r\n\r\nThis works as expected and the hash is consistent. However I noticed when I try to include the .jar dependencies under `configurations.runtimeClassPath`:\r\n```\r\ntask buildZip(type: Zip) {\r\n    includeEmptyDirs = false\r\n    preserveFileTimestamps = false\r\n    reproducibleFileOrder = true\r\n\r\n    from sourceSets.main.output\r\n    \r\n    into(&quot;lib&quot;) {\r\n        from configurations.runtimeClasspath\r\n    }\r\n}\r\n```\r\nThe hash changes on every clean build. Why is this happening and how to correct it?","title":"How to gradle build reproducible zip with configurations.runtimeClasspath?","body":"<p>I have a gradle task to build a reproducible zip, hash it, then I check the hash is the same.</p>\n<pre><code>task buildZip(type: Zip) {\n    includeEmptyDirs = false\n    preserveFileTimestamps = false\n    reproducibleFileOrder = true\n\n    from sourceSets.main.output\n}\n\ntask createChecksums(type: Checksum, dependsOn: build) {\n    inputFiles.setFrom(&quot;${buildDir}/distributions&quot;);\n    appendFileNameToChecksum.set(true)\n}\n</code></pre>\n<p>This works as expected and the hash is consistent. However I noticed when I try to include the .jar dependencies under <code>configurations.runtimeClassPath</code>:</p>\n<pre><code>task buildZip(type: Zip) {\n    includeEmptyDirs = false\n    preserveFileTimestamps = false\n    reproducibleFileOrder = true\n\n    from sourceSets.main.output\n    \n    into(&quot;lib&quot;) {\n        from configurations.runtimeClasspath\n    }\n}\n</code></pre>\n<p>The hash changes on every clean build. Why is this happening and how to correct it?</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":1100252,"reputation":10087,"user_id":1092818,"display_name":"crizzis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693121953,"creation_date":1693121953,"answer_id":76986112,"question_id":76985790,"body_markdown":"By providing a bean implementing `HealthIndicator`, you contribute a *custom* health indicator, rather than overriding some default. The base `/actuator/health` then returns an aggregate over all registered beans, including yours. \r\n\r\nTry naming your bean `CustomHealthIndicator` and you should be able to see your detail under `/actuator/health/custom`. ","title":"Spring Boot app : adding values to health endpoint response","body":"<p>By providing a bean implementing <code>HealthIndicator</code>, you contribute a <em>custom</em> health indicator, rather than overriding some default. The base <code>/actuator/health</code> then returns an aggregate over all registered beans, including yours.</p>\n<p>Try naming your bean <code>CustomHealthIndicator</code> and you should be able to see your detail under <code>/actuator/health/custom</code>.</p>\n"}],"owner":{"account_id":110000,"reputation":4107,"user_id":291253,"accept_rate":37,"display_name":"lm."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1693121953,"creation_date":1693113184,"question_id":76985790,"body_markdown":"I am trying to add custom functionality to health check endpoint. \r\nCreated class according to\r\n[this][1]  post : \r\n\r\n```\r\n@Component\r\npublic class CustomHealthCheck extends AbstractHealthIndicator {\r\n\t@Override\r\n\tprotected void doHealthCheck(Health.Builder builder) throws Exception {\r\n\t\tboolean someValue = true;\r\n\t\tif (someValue) {\r\n\t\t\tbuilder.withDetail(&quot;MyCustomField&quot;, &quot;MyValue&quot;);\r\n\t\t\tbuilder.up();\r\n\t\t} else {\r\n\t\t\tbuilder.down();\r\n\t\t}\r\n\t}\r\n} \r\n```\r\nBut when accessing to health endpoint via postman or via browser\r\n(&lt;mylocalurl&gt;/actuator/health)\r\nI got response \r\n```\r\n{\r\n\t&quot;status&quot;: &quot;UP&quot;\r\n} \r\n```\r\ni.e. custom field was not added to the response \r\nI also see in debugger , that doHealthCheck method of CustomHealthCheck was executed \r\n\r\nHere are relevant definitions from application.properties :\r\n```\r\nmanagement.endpoints.enabled-by-default=true\r\nmanagement.endpoint.health.enabled=true\r\nmanagement.endpoint.info.enabled=true\r\nmanagement.endpoints.web.exposure.include=health,info\r\n```\r\nIs there something missing in the code or definitions ? Thanks in advance  \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/44849568/how-to-add-a-custom-health-check-in-spring-boot-health","title":"Spring Boot app : adding values to health endpoint response","body":"<p>I am trying to add custom functionality to health check endpoint.\nCreated class according to\n<a href=\"https://stackoverflow.com/questions/44849568/how-to-add-a-custom-health-check-in-spring-boot-health\">this</a>  post :</p>\n<pre><code>@Component\npublic class CustomHealthCheck extends AbstractHealthIndicator {\n    @Override\n    protected void doHealthCheck(Health.Builder builder) throws Exception {\n        boolean someValue = true;\n        if (someValue) {\n            builder.withDetail(&quot;MyCustomField&quot;, &quot;MyValue&quot;);\n            builder.up();\n        } else {\n            builder.down();\n        }\n    }\n} \n</code></pre>\n<p>But when accessing to health endpoint via postman or via browser\n(/actuator/health)\nI got response</p>\n<pre><code>{\n    &quot;status&quot;: &quot;UP&quot;\n} \n</code></pre>\n<p>i.e. custom field was not added to the response\nI also see in debugger , that doHealthCheck method of CustomHealthCheck was executed</p>\n<p>Here are relevant definitions from application.properties :</p>\n<pre><code>management.endpoints.enabled-by-default=true\nmanagement.endpoint.health.enabled=true\nmanagement.endpoint.info.enabled=true\nmanagement.endpoints.web.exposure.include=health,info\n</code></pre>\n<p>Is there something missing in the code or definitions ? Thanks in advance</p>\n"},{"tags":["java","android","user-interface"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1693122658,"post_id":76986088,"comment_id":135716429,"body_markdown":"On what are you displaying your text?","body":"On what are you displaying your text?"},{"owner":{"account_id":28507881,"reputation":84,"user_id":21818286,"display_name":"umar mnaq"},"score":0,"creation_date":1693123033,"post_id":76986088,"comment_id":135716463,"body_markdown":"@blackapps In a TextView","body":"@blackapps In a TextView"}],"owner":{"account_id":28507881,"reputation":84,"user_id":21818286,"display_name":"umar mnaq"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1693121532,"creation_date":1693121532,"question_id":76986088,"body_markdown":"I want to make a text reader app. I have a paragraph and I want to play the audio that corresponds to the sentece that the user click on. How can I find out which sentence the user clicks on?\r\n\r\n\r\n```java\r\n    private void init() {\r\n        String definition = &quot;Oh My God What Are You Doing Here My Extremely Nice Friend Who Lives In Timbuktu&quot;.trim();\r\n        TextView definitionView = (TextView) findViewById(R.id.text);\r\n        definitionView.setMovementMethod(LinkMovementMethod.getInstance());\r\n        definitionView.setText(definition, TextView.BufferType.SPANNABLE);\r\n        Spannable spans = (Spannable) definitionView.getText();\r\n        BreakIterator iterator = BreakIterator.getWordInstance(Locale.US);\r\n        iterator.setText(definition);\r\n        int start = iterator.first();\r\n        for (int end = iterator.next(); end != BreakIterator.DONE; start = end, end = iterator\r\n                .next()) {\r\n            String possibleWord = definition.substring(start, end);\r\n            if (Character.isLetterOrDigit(possibleWord.charAt(0))) {\r\n                ClickableSpan clickSpan = getClickableSpan(possibleWord);\r\n                spans.setSpan(clickSpan, start, end,\r\n                        Spannable.SPAN_EXCLUSIVE_EXCLUSIVE);\r\n            }\r\n        }\r\n    }\r\n\r\n    private ClickableSpan getClickableSpan(final String word) {\r\n        return new ClickableSpan() {\r\n            final String mWord;\r\n            {\r\n                mWord = word;\r\n            }\r\n\r\n            @Override\r\n            public void onClick(View widget) {\r\n                Log.d(&quot;tapped on:&quot;, mWord);\r\n                Toast.makeText(widget.getContext(), mWord, Toast.LENGTH_SHORT)\r\n                        .show();\r\n            }\r\n\r\n            public void updateDrawState(TextPaint ds) {\r\n                super.updateDrawState(ds);\r\n            }\r\n        };\r\n    }\r\n```\r\n\r\nThis is what I have so far, but it only checks for words not sentences.","title":"Find which sentence the user clicks on in android","body":"<p>I want to make a text reader app. I have a paragraph and I want to play the audio that corresponds to the sentece that the user click on. How can I find out which sentence the user clicks on?</p>\n<pre class=\"lang-java prettyprint-override\"><code>    private void init() {\n        String definition = &quot;Oh My God What Are You Doing Here My Extremely Nice Friend Who Lives In Timbuktu&quot;.trim();\n        TextView definitionView = (TextView) findViewById(R.id.text);\n        definitionView.setMovementMethod(LinkMovementMethod.getInstance());\n        definitionView.setText(definition, TextView.BufferType.SPANNABLE);\n        Spannable spans = (Spannable) definitionView.getText();\n        BreakIterator iterator = BreakIterator.getWordInstance(Locale.US);\n        iterator.setText(definition);\n        int start = iterator.first();\n        for (int end = iterator.next(); end != BreakIterator.DONE; start = end, end = iterator\n                .next()) {\n            String possibleWord = definition.substring(start, end);\n            if (Character.isLetterOrDigit(possibleWord.charAt(0))) {\n                ClickableSpan clickSpan = getClickableSpan(possibleWord);\n                spans.setSpan(clickSpan, start, end,\n                        Spannable.SPAN_EXCLUSIVE_EXCLUSIVE);\n            }\n        }\n    }\n\n    private ClickableSpan getClickableSpan(final String word) {\n        return new ClickableSpan() {\n            final String mWord;\n            {\n                mWord = word;\n            }\n\n            @Override\n            public void onClick(View widget) {\n                Log.d(&quot;tapped on:&quot;, mWord);\n                Toast.makeText(widget.getContext(), mWord, Toast.LENGTH_SHORT)\n                        .show();\n            }\n\n            public void updateDrawState(TextPaint ds) {\n                super.updateDrawState(ds);\n            }\n        };\n    }\n</code></pre>\n<p>This is what I have so far, but it only checks for words not sentences.</p>\n"},{"tags":["java","visual-studio-code"],"answers":[{"tags":[],"owner":{"account_id":10637559,"reputation":2455,"user_id":7833793,"display_name":"R4N"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1629482081,"creation_date":1629482081,"answer_id":68866322,"question_id":68865964,"body_markdown":"As mentioned by @vaibhavsahu in the comments you can create user defined snippets in VSCode: https://code.visualstudio.com/docs/editor/userdefinedsnippets\r\n\r\nHere&#39;s a relevant excerpt from that document which shows where to locate the user defined snippets file:\r\n\r\n&gt;You can easily define your own snippets without any extension. To create or edit your own snippets, select User Snippets under File &gt; Preferences (Code &gt; Preferences on macOS), and then select the language (by language identifier) for which the snippets should appear, or the New Global Snippets file option if they should appear for all languages. VS Code manages the creation and refreshing of the underlying snippets file(s) for you.\r\n\r\nSo in your case you&#39;d go to File (or Code on macOS) &gt; Preferences &gt; User Defined Snippets and then type in Java, this should open a java.json file (which contains an example user defined snippet commented out).\r\n\r\nI think this snippet would do it for what you&#39;re trying to accomplish:\r\n\r\n    &quot;System.out.println(placeholder)&quot;: {\r\n\t\t&quot;prefix&quot;: &quot;sysout&quot;,\r\n\t\t&quot;body&quot; : [&quot;System.out.println(${1:string})&quot;],\r\n\t\t&quot;description&quot; : &quot;System out println with placeholder in parens&quot;\r\n\t}\r\n\r\nThen when you start typing `sysout` in a .java file IntelliSense should show the recommendation for the code snippet, when you enter enter it should be substituted in with your placeholder in the parens.\r\n\r\n\r\nEdit:\r\n\r\nThe `System.out.println(placeholder)` from the java.json file is just what displays in the IntelliSense dropdown, you could make it `System print` or whatever you&#39;d like so that you&#39;ll recognize it. The actual code which gets substituted is in the &quot;body&quot;\r\n","title":"Create a shortcut for system.out.println in visual studio code","body":"<p>As mentioned by @vaibhavsahu in the comments you can create user defined snippets in VSCode: <a href=\"https://code.visualstudio.com/docs/editor/userdefinedsnippets\" rel=\"noreferrer\">https://code.visualstudio.com/docs/editor/userdefinedsnippets</a></p>\n<p>Here's a relevant excerpt from that document which shows where to locate the user defined snippets file:</p>\n<blockquote>\n<p>You can easily define your own snippets without any extension. To create or edit your own snippets, select User Snippets under File &gt; Preferences (Code &gt; Preferences on macOS), and then select the language (by language identifier) for which the snippets should appear, or the New Global Snippets file option if they should appear for all languages. VS Code manages the creation and refreshing of the underlying snippets file(s) for you.</p>\n</blockquote>\n<p>So in your case you'd go to File (or Code on macOS) &gt; Preferences &gt; User Defined Snippets and then type in Java, this should open a java.json file (which contains an example user defined snippet commented out).</p>\n<p>I think this snippet would do it for what you're trying to accomplish:</p>\n<pre><code>&quot;System.out.println(placeholder)&quot;: {\n    &quot;prefix&quot;: &quot;sysout&quot;,\n    &quot;body&quot; : [&quot;System.out.println(${1:string})&quot;],\n    &quot;description&quot; : &quot;System out println with placeholder in parens&quot;\n}\n</code></pre>\n<p>Then when you start typing <code>sysout</code> in a .java file IntelliSense should show the recommendation for the code snippet, when you enter enter it should be substituted in with your placeholder in the parens.</p>\n<p>Edit:</p>\n<p>The <code>System.out.println(placeholder)</code> from the java.json file is just what displays in the IntelliSense dropdown, you could make it <code>System print</code> or whatever you'd like so that you'll recognize it. The actual code which gets substituted is in the &quot;body&quot;</p>\n"},{"tags":[],"owner":{"account_id":17983057,"reputation":1072,"user_id":13068918,"display_name":"Sheng Chen"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1629770267,"creation_date":1629770267,"answer_id":68900904,"question_id":68865964,"body_markdown":"There is no need to define the snippet yourself. You can install https://marketplace.visualstudio.com/items?itemName=redhat.java, which contains the predefined snippet for your case (and more than that), here are some screenshot:\r\n\r\nsysout:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nsyserr:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nand even systrace:\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/oPJb8.png\r\n  [2]: https://i.stack.imgur.com/serOt.png\r\n  [3]: https://i.stack.imgur.com/kvNYe.png\r\n\r\n&gt; If you want to developing your Java application in VS Code, you can also install https://marketplace.visualstudio.com/items?itemName=vscjava.vscode-java-pack, which provides debugging, testing, project managing capabilities to you.","title":"Create a shortcut for system.out.println in visual studio code","body":"<p>There is no need to define the snippet yourself. You can install <a href=\"https://marketplace.visualstudio.com/items?itemName=redhat.java\" rel=\"noreferrer\">https://marketplace.visualstudio.com/items?itemName=redhat.java</a>, which contains the predefined snippet for your case (and more than that), here are some screenshot:</p>\n<p>sysout:</p>\n<p><a href=\"https://i.stack.imgur.com/oPJb8.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/oPJb8.png\" alt=\"enter image description here\" /></a></p>\n<p>syserr:</p>\n<p><a href=\"https://i.stack.imgur.com/serOt.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/serOt.png\" alt=\"enter image description here\" /></a></p>\n<p>and even systrace:</p>\n<p><a href=\"https://i.stack.imgur.com/kvNYe.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/kvNYe.png\" alt=\"enter image description here\" /></a></p>\n<blockquote>\n<p>If you want to developing your Java application in VS Code, you can also install <a href=\"https://marketplace.visualstudio.com/items?itemName=vscjava.vscode-java-pack\" rel=\"noreferrer\">https://marketplace.visualstudio.com/items?itemName=vscjava.vscode-java-pack</a>, which provides debugging, testing, project managing capabilities to you.</p>\n</blockquote>\n"}],"owner":{"account_id":17824321,"reputation":618,"user_id":12945919,"display_name":"Mayank Kumar Thakur"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26331,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":68900904,"answer_count":2,"score":7,"last_activity_date":1693117949,"creation_date":1629480132,"question_id":68865964,"body_markdown":"I am using visual studio code IDE for my Java project and I want to create a shortcut for: \r\n\r\n```java\r\nSystem.out.println();\r\n```\r\nThat is if I write `sysout` or something like that it will automatically changed to `System.out.println();` with cursor inside parenthesis.\r\n\r\nIs there any way it can be achieved in VScode?","title":"Create a shortcut for system.out.println in visual studio code","body":"<p>I am using visual studio code IDE for my Java project and I want to create a shortcut for:</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println();\n</code></pre>\n<p>That is if I write <code>sysout</code> or something like that it will automatically changed to <code>System.out.println();</code> with cursor inside parenthesis.</p>\n<p>Is there any way it can be achieved in VScode?</p>\n"},{"tags":["java","gradle","quarkus","publish-subscribe","dapr"],"answers":[{"tags":[],"owner":{"account_id":540886,"reputation":323,"user_id":909239,"display_name":"oMG"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693116870,"creation_date":1693116870,"answer_id":76985904,"question_id":76984941,"body_markdown":"As it seems io.quarkiverse.dapr:quarkus-dapr example in github is updated to work with Quarkus 3+ but the latest version released is for version 2.\r\n\r\nThe only solutions I see is either work with an older Quarkus version or build the source code from github.","title":"Dapr - Quarkus Run/Build Error java.lang.ClassNotFoundException: javax.ws.rs.ext.MessageBodyReader","body":"<p>As it seems io.quarkiverse.dapr:quarkus-dapr example in github is updated to work with Quarkus 3+ but the latest version released is for version 2.</p>\n<p>The only solutions I see is either work with an older Quarkus version or build the source code from github.</p>\n"}],"owner":{"account_id":540886,"reputation":323,"user_id":909239,"display_name":"oMG"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1693116870,"creation_date":1693086069,"question_id":76984941,"body_markdown":"I&#39;m trying to build a very simple Pub/Sub demo based on [this][1] using Dapr &amp; Quarkus &amp; Gradle and I&#39;m facing this error:\r\n\r\n    [error]: Build step io.quarkiverse.dapr.deployment.DaprProcessor#vertxProviders threw an exception: java.lang.NoClassDefFoundError: javax/ws/rs/ext/MessageBodyReader\r\n\tat java.base/java.lang.ClassLoader.defineClass1(Native Method)\r\n\tat java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1013)\r\n\tat io.quarkus.bootstrap.classloading.QuarkusClassLoader.loadClass(QuarkusClassLoader.java:506)\r\n\tat io.quarkus.bootstrap.classloading.QuarkusClassLoader.loadClass(QuarkusClassLoader.java:466)\r\n\tat io.quarkiverse.dapr.deployment.DaprProcessor.vertxProviders(DaprProcessor.java:115)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:577)\r\n\tat io.quarkus.deployment.ExtensionLoader$3.execute(ExtensionLoader.java:858)\r\n\tat io.quarkus.builder.BuildContext.run(BuildContext.java:282)\r\n\tat org.jboss.threads.ContextHandler$1.runWith(ContextHandler.java:18)\r\n\tat org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2513)\r\n\tat org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1512)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\n\tat org.jboss.threads.JBossThread.run(JBossThread.java:501)\r\n    Caused by: java.lang.ClassNotFoundException: javax.ws.rs.ext.MessageBodyReader\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n    \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n    \tat io.quarkus.bootstrap.classloading.QuarkusClassLoader.loadClass(QuarkusClassLoader.java:516)\r\n    \tat io.quarkus.bootstrap.classloading.QuarkusClassLoader.loadClass(QuarkusClassLoader.java:466)\r\n    \t... 14 more\r\n\r\n when Quarkus tries to start or build.\r\n\r\nThis is my build.gradle file:\r\n\r\n    plugins {\r\n        id &#39;java&#39;\r\n        id &#39;io.quarkus&#39;\r\n    }\r\n    \r\n    wrapper{\r\n        gradleVersion = &#39;7.6&#39;\r\n        distributionUrl = distributionUrl.replace(&quot;bin&quot;, &quot;all&quot;)\r\n    }\r\n    \r\n    group &#39;com.test&#39;\r\n    version &#39;1.0.0-SNAPSHOT&#39;\r\n    \r\n    repositories {\r\n        mavenLocal()\r\n        mavenCentral()\r\n        jcenter()\r\n    }\r\n    \r\n    \r\n    dependencies {\r\n        implementation enforcedPlatform(&quot;${quarkusPlatformGroupId}:${quarkusPlatformArtifactId}:${quarkusPlatformVersion}&quot;)\r\n        implementation &#39;io.dapr:dapr-sdk:1.9.0&#39;\r\n        implementation &#39;io.dapr:dapr-sdk-actors:1.9.0&#39;\r\n        implementation &#39;io.quarkiverse.dapr:quarkus-dapr:1.0.4&#39;\r\n        implementation &#39;io.quarkus:quarkus-resteasy-reactive-jackson&#39;\r\n        implementation &#39;io.quarkus:quarkus-arc&#39;\r\n    \r\n    \r\n    \r\n    //\t\timplementation &#39;io.quarkus:quarkus-resteasy-reactive&#39;\r\n    //\t\timplementation &#39;io.quarkus:quarkus-rest-client-reactive-jackson&#39;\r\n    \r\n        compileOnly &#39;org.projectlombok:lombok:1.18.28&#39;\r\n        annotationProcessor &#39;org.projectlombok:lombok:1.18.28&#39;\r\n    \r\n        testCompileOnly &#39;org.projectlombok:lombok:1.18.28&#39;\r\n        testAnnotationProcessor &#39;org.projectlombok:lombok:1.18.28&#39;\r\n    \r\n        testImplementation &#39;io.quarkus:quarkus-junit5&#39;\r\n        testImplementation &#39;io.rest-assured:rest-assured&#39;\r\n    }\r\n    \r\n    java {\r\n        sourceCompatibility = JavaVersion.VERSION_17\r\n        targetCompatibility = JavaVersion.VERSION_17\r\n    }\r\n    \r\n    compileJava {\r\n        options.encoding = &#39;UTF-8&#39;\r\n        options.compilerArgs &lt;&lt; &#39;-parameters&#39;\r\n    }\r\n    test {\r\n        systemProperty &quot;java.util.logging.manager&quot;, &quot;org.jboss.logmanager.LogManager&quot;\r\n    }\r\n    \r\n    compileTestJava {\r\n        options.encoding = &#39;UTF-8&#39;\r\n    }\r\n\r\ngradle.properties\r\n\r\n    #Gradle properties\r\n    quarkusPluginId=io.quarkus\r\n    quarkusPluginVersion=3.3.0\r\n    quarkusPlatformGroupId=io.quarkus.platform\r\n    quarkusPlatformArtifactId=quarkus-bom\r\n    quarkusPlatformVersion=3.3.0\r\n\r\nPubsubResource.java\r\n\r\n    package io.quarkiverse.dapr.demo;\r\n    \r\n    import java.util.concurrent.atomic.AtomicInteger;\r\n    \r\n    import jakarta.enterprise.context.ApplicationScoped;\r\n    import jakarta.inject.Inject;\r\n    import jakarta.ws.rs.GET;\r\n    import jakarta.ws.rs.POST;\r\n    import jakarta.ws.rs.Path;\r\n    \r\n    import io.dapr.Topic;\r\n    import io.dapr.client.domain.CloudEvent;\r\n    import io.quarkiverse.dapr.core.SyncDaprClient;\r\n    \r\n    @Path(&quot;/pubsub&quot;)\r\n    @ApplicationScoped\r\n    public class PubsubResource {\r\n        private final AtomicInteger counter = new AtomicInteger(1);\r\n    \r\n        @Inject\r\n        SyncDaprClient dapr;\r\n    \r\n        @GET\r\n        public String hello() {\r\n            return &quot;Hello, this is quarkus-dapr demo app1&quot;;\r\n        }\r\n    \r\n        @GET\r\n        @Path(&quot;/trigger/topic1&quot;)\r\n        public String triggerSendEvent2Topic1() {\r\n            int content = counter.getAndIncrement();\r\n            dapr.publishEvent(&quot;topic1&quot;, content);\r\n            System.out.println(&quot;App1 succeeds to send event to topic1 with content=&quot; + content);\r\n    \r\n            return &quot;App1 succeeds to send event to topic1 with content=&quot; + content;\r\n        }\r\n    \r\n        @POST\r\n        @Path(&quot;/topic2&quot;)\r\n        @Topic(name = &quot;topic2&quot;)\r\n        public String eventOnTopic2(String content) {\r\n            System.out.println(&quot;App1 received event from topic2: content=&quot; + content);\r\n    \r\n            return &quot;App1 received event from topic2&quot;;\r\n        }\r\n    \r\n        @POST\r\n        @Path(&quot;/topic3&quot;)\r\n        @Topic(name = &quot;topic3&quot;)\r\n        public String eventOnTopic3(CloudEvent&lt;String&gt; event) {\r\n            String content = event.getData();\r\n            System.out.println(&quot;App1 received event from topic3: content=&quot; + content);\r\n    \r\n            return &quot;App1 received event from topic3&quot;;\r\n        }\r\n    \r\n        @POST\r\n        @Path(&quot;/topic4&quot;)\r\n        @Topic(name = &quot;topic4&quot;)\r\n        public String eventOnTopic4(CloudEvent&lt;TestData&gt; event) {\r\n            TestData testData = event.getData();\r\n            String content = testData.getContent();\r\n            System.out.println(&quot;App1 received event from topic4: content=&quot; + content);\r\n    \r\n            return &quot;App1 received event from topic4&quot;;\r\n        }\r\n    \r\n    }\r\n\r\nThe issue seems to be with the **io.quarkiverse.dapr:quarkus-dapr** import and I&#39;m not sure if I&#39;m missing another import, a configuration or there is a bug with it.\r\n\r\nAny help will be appreciated :-)\r\n \r\n  [1]: https://github.com/quarkiverse/quarkus-dapr/tree/main/demo\r\n\r\n\r\n","title":"Dapr - Quarkus Run/Build Error java.lang.ClassNotFoundException: javax.ws.rs.ext.MessageBodyReader","body":"<p>I'm trying to build a very simple Pub/Sub demo based on <a href=\"https://github.com/quarkiverse/quarkus-dapr/tree/main/demo\" rel=\"nofollow noreferrer\">this</a> using Dapr &amp; Quarkus &amp; Gradle and I'm facing this error:</p>\n<pre><code>[error]: Build step io.quarkiverse.dapr.deployment.DaprProcessor#vertxProviders threw an exception: java.lang.NoClassDefFoundError: javax/ws/rs/ext/MessageBodyReader\nat java.base/java.lang.ClassLoader.defineClass1(Native Method)\nat java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1013)\nat io.quarkus.bootstrap.classloading.QuarkusClassLoader.loadClass(QuarkusClassLoader.java:506)\nat io.quarkus.bootstrap.classloading.QuarkusClassLoader.loadClass(QuarkusClassLoader.java:466)\nat io.quarkiverse.dapr.deployment.DaprProcessor.vertxProviders(DaprProcessor.java:115)\nat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\nat java.base/java.lang.reflect.Method.invoke(Method.java:577)\nat io.quarkus.deployment.ExtensionLoader$3.execute(ExtensionLoader.java:858)\nat io.quarkus.builder.BuildContext.run(BuildContext.java:282)\nat org.jboss.threads.ContextHandler$1.runWith(ContextHandler.java:18)\nat org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2513)\nat org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1512)\nat java.base/java.lang.Thread.run(Thread.java:833)\nat org.jboss.threads.JBossThread.run(JBossThread.java:501)\nCaused by: java.lang.ClassNotFoundException: javax.ws.rs.ext.MessageBodyReader\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n    at io.quarkus.bootstrap.classloading.QuarkusClassLoader.loadClass(QuarkusClassLoader.java:516)\n    at io.quarkus.bootstrap.classloading.QuarkusClassLoader.loadClass(QuarkusClassLoader.java:466)\n    ... 14 more\n</code></pre>\n<p>when Quarkus tries to start or build.</p>\n<p>This is my build.gradle file:</p>\n<pre><code>plugins {\n    id 'java'\n    id 'io.quarkus'\n}\n\nwrapper{\n    gradleVersion = '7.6'\n    distributionUrl = distributionUrl.replace(&quot;bin&quot;, &quot;all&quot;)\n}\n\ngroup 'com.test'\nversion '1.0.0-SNAPSHOT'\n\nrepositories {\n    mavenLocal()\n    mavenCentral()\n    jcenter()\n}\n\n\ndependencies {\n    implementation enforcedPlatform(&quot;${quarkusPlatformGroupId}:${quarkusPlatformArtifactId}:${quarkusPlatformVersion}&quot;)\n    implementation 'io.dapr:dapr-sdk:1.9.0'\n    implementation 'io.dapr:dapr-sdk-actors:1.9.0'\n    implementation 'io.quarkiverse.dapr:quarkus-dapr:1.0.4'\n    implementation 'io.quarkus:quarkus-resteasy-reactive-jackson'\n    implementation 'io.quarkus:quarkus-arc'\n\n\n\n//      implementation 'io.quarkus:quarkus-resteasy-reactive'\n//      implementation 'io.quarkus:quarkus-rest-client-reactive-jackson'\n\n    compileOnly 'org.projectlombok:lombok:1.18.28'\n    annotationProcessor 'org.projectlombok:lombok:1.18.28'\n\n    testCompileOnly 'org.projectlombok:lombok:1.18.28'\n    testAnnotationProcessor 'org.projectlombok:lombok:1.18.28'\n\n    testImplementation 'io.quarkus:quarkus-junit5'\n    testImplementation 'io.rest-assured:rest-assured'\n}\n\njava {\n    sourceCompatibility = JavaVersion.VERSION_17\n    targetCompatibility = JavaVersion.VERSION_17\n}\n\ncompileJava {\n    options.encoding = 'UTF-8'\n    options.compilerArgs &lt;&lt; '-parameters'\n}\ntest {\n    systemProperty &quot;java.util.logging.manager&quot;, &quot;org.jboss.logmanager.LogManager&quot;\n}\n\ncompileTestJava {\n    options.encoding = 'UTF-8'\n}\n</code></pre>\n<p>gradle.properties</p>\n<pre><code>#Gradle properties\nquarkusPluginId=io.quarkus\nquarkusPluginVersion=3.3.0\nquarkusPlatformGroupId=io.quarkus.platform\nquarkusPlatformArtifactId=quarkus-bom\nquarkusPlatformVersion=3.3.0\n</code></pre>\n<p>PubsubResource.java</p>\n<pre><code>package io.quarkiverse.dapr.demo;\n\nimport java.util.concurrent.atomic.AtomicInteger;\n\nimport jakarta.enterprise.context.ApplicationScoped;\nimport jakarta.inject.Inject;\nimport jakarta.ws.rs.GET;\nimport jakarta.ws.rs.POST;\nimport jakarta.ws.rs.Path;\n\nimport io.dapr.Topic;\nimport io.dapr.client.domain.CloudEvent;\nimport io.quarkiverse.dapr.core.SyncDaprClient;\n\n@Path(&quot;/pubsub&quot;)\n@ApplicationScoped\npublic class PubsubResource {\n    private final AtomicInteger counter = new AtomicInteger(1);\n\n    @Inject\n    SyncDaprClient dapr;\n\n    @GET\n    public String hello() {\n        return &quot;Hello, this is quarkus-dapr demo app1&quot;;\n    }\n\n    @GET\n    @Path(&quot;/trigger/topic1&quot;)\n    public String triggerSendEvent2Topic1() {\n        int content = counter.getAndIncrement();\n        dapr.publishEvent(&quot;topic1&quot;, content);\n        System.out.println(&quot;App1 succeeds to send event to topic1 with content=&quot; + content);\n\n        return &quot;App1 succeeds to send event to topic1 with content=&quot; + content;\n    }\n\n    @POST\n    @Path(&quot;/topic2&quot;)\n    @Topic(name = &quot;topic2&quot;)\n    public String eventOnTopic2(String content) {\n        System.out.println(&quot;App1 received event from topic2: content=&quot; + content);\n\n        return &quot;App1 received event from topic2&quot;;\n    }\n\n    @POST\n    @Path(&quot;/topic3&quot;)\n    @Topic(name = &quot;topic3&quot;)\n    public String eventOnTopic3(CloudEvent&lt;String&gt; event) {\n        String content = event.getData();\n        System.out.println(&quot;App1 received event from topic3: content=&quot; + content);\n\n        return &quot;App1 received event from topic3&quot;;\n    }\n\n    @POST\n    @Path(&quot;/topic4&quot;)\n    @Topic(name = &quot;topic4&quot;)\n    public String eventOnTopic4(CloudEvent&lt;TestData&gt; event) {\n        TestData testData = event.getData();\n        String content = testData.getContent();\n        System.out.println(&quot;App1 received event from topic4: content=&quot; + content);\n\n        return &quot;App1 received event from topic4&quot;;\n    }\n\n}\n</code></pre>\n<p>The issue seems to be with the <strong>io.quarkiverse.dapr:quarkus-dapr</strong> import and I'm not sure if I'm missing another import, a configuration or there is a bug with it.</p>\n<p>Any help will be appreciated :-)</p>\n"},{"tags":["java","java-8","java-stream"],"comments":[{"owner":{"account_id":957496,"reputation":7121,"user_id":982542,"accept_rate":80,"display_name":"ThanksForAllTheFish"},"score":71,"creation_date":1423045954,"post_id":28319064,"comment_id":44986916,"body_markdown":"The second one. A proper function should have no side effects, in your first implementation you are modifying the external world.","body":"The second one. A proper function should have no side effects, in your first implementation you are modifying the external world."},{"owner":{"account_id":1443334,"reputation":41522,"user_id":1362755,"display_name":"the8472"},"score":47,"creation_date":1423046420,"post_id":28319064,"comment_id":44987194,"body_markdown":"just a matter of style, but `elt -&gt; elt != null` can be replaced with `Objects::nonNull`","body":"just a matter of style, but <code>elt -&gt; elt != null</code> can be replaced with <code>Objects::nonNull</code>"},{"owner":{"account_id":5505924,"reputation":956,"user_id":4373784,"accept_rate":62,"display_name":"Szymon Roziewski"},"score":0,"creation_date":1423046767,"post_id":28319064,"comment_id":44987424,"body_markdown":"You can use the parallelStream `myFinalList = myListToParse.parallelStream().filter(elt -&gt; elt != null).map(elt -&gt; doSomething(elt)).collect(Collectors.toList());` to boost performance","body":"You can use the parallelStream <code>myFinalList = myListToParse.parallelStream().filter(elt -&gt; elt != null).map(elt -&gt; doSomething(elt)).collect(Collectors.toList());</code> to boost performance"},{"owner":{"account_id":405939,"reputation":11839,"user_id":775138,"accept_rate":66,"display_name":"herman"},"score":2,"creation_date":1423046868,"post_id":28319064,"comment_id":44987473,"body_markdown":"@the8472 Even better would be to make sure there are no null values in the collection in the first place, and use `Optional&lt;T&gt;` instead in combination with `flatMap`.","body":"@the8472 Even better would be to make sure there are no null values in the collection in the first place, and use <code>Optional&lt;T&gt;</code> instead in combination with <code>flatMap</code>."},{"owner":{"display_name":"user3248346"},"score":2,"creation_date":1423046886,"post_id":28319064,"comment_id":44987485,"body_markdown":"@SzymonRoziewski, not quite. For something as trivial as this, the work needed to setup the parallelstream under the hood will make using this construct mute.","body":"@SzymonRoziewski, not quite. For something as trivial as this, the work needed to setup the parallelstream under the hood will make using this construct mute."},{"owner":{"account_id":5505924,"reputation":956,"user_id":4373784,"accept_rate":62,"display_name":"Szymon Roziewski"},"score":1,"creation_date":1423047087,"post_id":28319064,"comment_id":44987608,"body_markdown":"@I.K. yes, that&#39;s true, not everytime parallelization is a good choice. But if your data is quite big, you can think about it.","body":"@I.K. yes, that&#39;s true, not everytime parallelization is a good choice. But if your data is quite big, you can think about it."},{"owner":{"account_id":405939,"reputation":11839,"user_id":775138,"accept_rate":66,"display_name":"herman"},"score":2,"creation_date":1423050944,"post_id":28319064,"comment_id":44989707,"body_markdown":"Note that you can write `.map(this::doSomething)` assuming that `doSomething` is a non-static method.  If it&#39;s static you can replace `this` with the class name.","body":"Note that you can write <code>.map(this::doSomething)</code> assuming that <code>doSomething</code> is a non-static method.  If it&#39;s static you can replace <code>this</code> with the class name."},{"owner":{"account_id":5791518,"reputation":757,"user_id":4568811,"display_name":"harshtuna"},"score":0,"creation_date":1426125595,"post_id":28319064,"comment_id":46249095,"body_markdown":"there&#39;s a third way (using [toArray](http://stackoverflow.com/questions/28782165/why-didnt-stream-have-a-tolist-method)) - will add below for the sake of completeness, but the method 2 is preferrable","body":"there&#39;s a third way (using <a href=\"http://stackoverflow.com/questions/28782165/why-didnt-stream-have-a-tolist-method\">toArray</a>) - will add below for the sake of completeness, but the method 2 is preferrable"},{"owner":{"account_id":4667026,"reputation":10199,"user_id":3779853,"accept_rate":85,"display_name":"phil294"},"score":0,"creation_date":1485386464,"post_id":28319064,"comment_id":70910687,"body_markdown":"why not `.filter().collect()`??","body":"why not <code>.filter().collect()</code>??"},{"owner":{"account_id":2682534,"reputation":864,"user_id":2317585,"display_name":"John Gilmer"},"score":0,"creation_date":1667154811,"post_id":28319064,"comment_id":131098537,"body_markdown":"With Java 17 `map(elt -&gt; doSomething(elt)).collect(Collectors.toList());` can be `map(elt -&gt; doSomething(elt)).toList()); ` The Java 17 version has the added benefit of returning an immutable list.","body":"With Java 17 <code>map(elt -&gt; doSomething(elt)).collect(Collectors.toList());</code> can be <code>map(elt -&gt; doSomething(elt)).toList()); </code> The Java 17 version has the added benefit of returning an immutable list."}],"answers":[{"tags":[],"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1423046095,"creation_date":1423046095,"answer_id":28319148,"question_id":28319064,"body_markdown":"I prefer the second way.\r\n\r\nWhen you use the first way, if you decide to use a parallel stream to improve performance, you&#39;ll have no control over the order in which the elements will be added to the output list by `forEach`. \r\n\r\nWhen you use `toList`, the Streams API will preserve the order even if you use a parallel stream.","title":"Java Stream API - Best way to transform a list: map or forEach?","body":"<p>I prefer the second way.</p>\n\n<p>When you use the first way, if you decide to use a parallel stream to improve performance, you'll have no control over the order in which the elements will be added to the output list by <code>forEach</code>. </p>\n\n<p>When you use <code>toList</code>, the Streams API will preserve the order even if you use a parallel stream.</p>\n"},{"tags":[],"owner":{"account_id":405939,"reputation":11839,"user_id":775138,"accept_rate":66,"display_name":"herman"},"down_vote_count":0,"up_vote_count":220,"is_accepted":true,"score":220,"last_activity_date":1620872309,"creation_date":1423046290,"answer_id":28319221,"question_id":28319064,"body_markdown":"Don&#39;t worry about any performance differences, they&#39;re going to be minimal in this case normally.\r\n\r\nMethod 2 is preferable because\r\n\r\n1. it doesn&#39;t require mutating a collection that exists outside the lambda expression.\r\n\r\n2. it&#39;s more readable because the different steps that are performed in the collection pipeline are written sequentially: first a filter operation, then a map operation, then collecting the result (for more info on the benefits of collection pipelines, see Martin Fowler&#39;s [excellent article][1].)\r\n\r\n3. you can easily change the way values are collected by replacing the `Collector` that is used.  In some cases you may need to write your own `Collector`, but then the benefit is that you can easily reuse that.\r\n\r\n\r\n  [1]: http://martinfowler.com/articles/collection-pipeline/","title":"Java Stream API - Best way to transform a list: map or forEach?","body":"<p>Don't worry about any performance differences, they're going to be minimal in this case normally.</p>\n<p>Method 2 is preferable because</p>\n<ol>\n<li><p>it doesn't require mutating a collection that exists outside the lambda expression.</p>\n</li>\n<li><p>it's more readable because the different steps that are performed in the collection pipeline are written sequentially: first a filter operation, then a map operation, then collecting the result (for more info on the benefits of collection pipelines, see Martin Fowler's <a href=\"http://martinfowler.com/articles/collection-pipeline/\" rel=\"noreferrer\">excellent article</a>.)</p>\n</li>\n<li><p>you can easily change the way values are collected by replacing the <code>Collector</code> that is used.  In some cases you may need to write your own <code>Collector</code>, but then the benefit is that you can easily reuse that.</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"down_vote_count":0,"up_vote_count":58,"is_accepted":false,"score":58,"last_activity_date":1453575735,"creation_date":1423051755,"answer_id":28321016,"question_id":28319064,"body_markdown":"I agree with the existing answers that the second form is better because it does not have any side effects and is easier to parallelise (just use a parallel stream).\r\n\r\nPerformance wise, it appears they are equivalent until you start using parallel streams. In that case, **map** will perform really much better. See below the [micro benchmark][1] results:\r\n\r\n    Benchmark                         Mode  Samples    Score   Error  Units\r\n    SO28319064.forEach                avgt      100  187.310 &#177; 1.768  ms/op\r\n    SO28319064.map                    avgt      100  189.180 &#177; 1.692  ms/op\r\n    SO28319064.mapWithParallelStream  avgt      100   55,577 &#177; 0,782  ms/op\r\n\r\nYou can&#39;t boost the first example in the same manner because **forEach** is a terminal method - it returns void - so you are forced to use a stateful lambda. But [that is really a bad idea if you are using parallel streams][2].\r\n\r\nFinally note that your second snippet can be written in a sligthly more concise way with method references and static imports:\r\n\r\n    myFinalList = myListToParse.stream()\r\n        .filter(Objects::nonNull)\r\n        .map(this::doSomething)\r\n        .collect(toList()); \r\n\r\n\r\n  [1]: https://bitbucket.org/assylias/performance/src/master/src/main/java/com/assylias/performance/SO28319064.java\r\n  [2]: https://docs.oracle.com/javase/tutorial/collections/streams/parallelism.html#stateful_lambda_expressions","title":"Java Stream API - Best way to transform a list: map or forEach?","body":"<p>I agree with the existing answers that the second form is better because it does not have any side effects and is easier to parallelise (just use a parallel stream).</p>\n\n<p>Performance wise, it appears they are equivalent until you start using parallel streams. In that case, <strong>map</strong> will perform really much better. See below the <a href=\"https://bitbucket.org/assylias/performance/src/master/src/main/java/com/assylias/performance/SO28319064.java\">micro benchmark</a> results:</p>\n\n<pre><code>Benchmark                         Mode  Samples    Score   Error  Units\nSO28319064.forEach                avgt      100  187.310 ± 1.768  ms/op\nSO28319064.map                    avgt      100  189.180 ± 1.692  ms/op\nSO28319064.mapWithParallelStream  avgt      100   55,577 ± 0,782  ms/op\n</code></pre>\n\n<p>You can't boost the first example in the same manner because <strong>forEach</strong> is a terminal method - it returns void - so you are forced to use a stateful lambda. But <a href=\"https://docs.oracle.com/javase/tutorial/collections/streams/parallelism.html#stateful_lambda_expressions\">that is really a bad idea if you are using parallel streams</a>.</p>\n\n<p>Finally note that your second snippet can be written in a sligthly more concise way with method references and static imports:</p>\n\n<pre><code>myFinalList = myListToParse.stream()\n    .filter(Objects::nonNull)\n    .map(this::doSomething)\n    .collect(toList()); \n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user3248346"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1423059587,"creation_date":1423059265,"answer_id":28323553,"question_id":28319064,"body_markdown":"One of the main benefits of using streams is that it gives the ability to process data in a declarative way, that is, using a functional style of programming. It also gives multi-threading capability for free meaning there is no need to write any extra multi-threaded code to make your stream concurrent.\r\n\r\nAssuming the reason you are exploring this style of programming is that you want to exploit these benefits then your first code sample is potentially not functional since the `foreach` method is classed as being terminal (meaning that it can produce side-effects).\r\n\r\nThe second way is preferred from functional programming point of view since the map function can accept stateless lambda functions. More explicitly, the lambda passed to the map function should be\r\n\r\n 1. Non-interfering, meaning that the function should not alter the source of the stream if it is non-concurrent (e.g. `ArrayList`).\r\n 2. Stateless to avoid unexpected results when doing parallel processing (caused by thread scheduling differences).\r\n\r\nAnother benefit with the second approach is if the stream is parallel and the collector is concurrent and unordered then these characteristics can provide useful hints to the reduction operation to do the collecting concurrently.","title":"Java Stream API - Best way to transform a list: map or forEach?","body":"<p>One of the main benefits of using streams is that it gives the ability to process data in a declarative way, that is, using a functional style of programming. It also gives multi-threading capability for free meaning there is no need to write any extra multi-threaded code to make your stream concurrent.</p>\n\n<p>Assuming the reason you are exploring this style of programming is that you want to exploit these benefits then your first code sample is potentially not functional since the <code>foreach</code> method is classed as being terminal (meaning that it can produce side-effects).</p>\n\n<p>The second way is preferred from functional programming point of view since the map function can accept stateless lambda functions. More explicitly, the lambda passed to the map function should be</p>\n\n<ol>\n<li>Non-interfering, meaning that the function should not alter the source of the stream if it is non-concurrent (e.g. <code>ArrayList</code>).</li>\n<li>Stateless to avoid unexpected results when doing parallel processing (caused by thread scheduling differences).</li>\n</ol>\n\n<p>Another benefit with the second approach is if the stream is parallel and the collector is concurrent and unordered then these characteristics can provide useful hints to the reduction operation to do the collecting concurrently.</p>\n"},{"tags":[],"owner":{"account_id":12059,"reputation":26552,"user_id":23572,"accept_rate":63,"display_name":"Craig P. Motlin"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1693116325,"creation_date":1423174917,"answer_id":28355204,"question_id":28319064,"body_markdown":"If you use [Eclipse Collections][1], there is indeed a third way to approach your specific example. [Eclipse Collections&#39; `collectIf()` method][2] allows a single call to deal with both filtering and transformation.\r\n\r\n```java\r\nmyFinalList = myListToParse.collectIf(\r\n    Objects::nonNull,\r\n    elt -&gt; doSomething(elt));\r\n```\r\n\r\nIt evaluates eagerly and should be a bit faster than using a `Stream`.\r\n\r\nEC&#39;s Collect pattern is [documented in its reference guide][3].\r\n\r\n**Note:** I am a committer for Eclipse Collections.\r\n\r\n\r\n  [1]: https://www.eclipse.org/collections/\r\n  [2]: https://eclipse.dev/collections/javadoc/11.1.0/org/eclipse/collections/api/RichIterable.html#collectIf(org.eclipse.collections.api.block.predicate.Predicate,org.eclipse.collections.api.block.function.Function)\r\n  [3]: https://github.com/eclipse/eclipse-collections/blob/master/docs/1-Iteration_Patterns.adoc#collect-pattern","title":"Java Stream API - Best way to transform a list: map or forEach?","body":"<p>If you use <a href=\"https://www.eclipse.org/collections/\" rel=\"nofollow noreferrer\">Eclipse Collections</a>, there is indeed a third way to approach your specific example. <a href=\"https://eclipse.dev/collections/javadoc/11.1.0/org/eclipse/collections/api/RichIterable.html#collectIf(org.eclipse.collections.api.block.predicate.Predicate,org.eclipse.collections.api.block.function.Function)\" rel=\"nofollow noreferrer\">Eclipse Collections' <code>collectIf()</code> method</a> allows a single call to deal with both filtering and transformation.</p>\n<pre class=\"lang-java prettyprint-override\"><code>myFinalList = myListToParse.collectIf(\n    Objects::nonNull,\n    elt -&gt; doSomething(elt));\n</code></pre>\n<p>It evaluates eagerly and should be a bit faster than using a <code>Stream</code>.</p>\n<p>EC's Collect pattern is <a href=\"https://github.com/eclipse/eclipse-collections/blob/master/docs/1-Iteration_Patterns.adoc#collect-pattern\" rel=\"nofollow noreferrer\">documented in its reference guide</a>.</p>\n<p><strong>Note:</strong> I am a committer for Eclipse Collections.</p>\n"},{"tags":[],"owner":{"account_id":5791518,"reputation":757,"user_id":4568811,"display_name":"harshtuna"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1426200056,"creation_date":1426126572,"answer_id":29000802,"question_id":28319064,"body_markdown":"There is a third option - using `stream().toArray()` - see comments under [why didn&#39;t stream have a toList method](https://stackoverflow.com/questions/28782165/why-didnt-stream-have-a-tolist-method). It turns out to be slower than forEach() or collect(), and less expressive. It might be optimised in later JDK builds, so adding it here just in case.\r\n\r\nassuming `List&lt;String&gt;`\r\n\r\n        myFinalList = Arrays.asList(\r\n                myListToParse.stream()\r\n                        .filter(Objects::nonNull)\r\n                        .map(this::doSomething)\r\n                        .toArray(String[]::new)\r\n        );\r\n\r\nwith a micro-micro benchmark, 1M entries, 20% nulls and simple transform in doSomething()\r\n\r\n    private LongSummaryStatistics benchmark(final String testName, final Runnable methodToTest, int samples) {\r\n        long[] timing = new long[samples];\r\n        for (int i = 0; i &lt; samples; i++) {\r\n            long start = System.currentTimeMillis();\r\n            methodToTest.run();\r\n            timing[i] = System.currentTimeMillis() - start;\r\n        }\r\n        final LongSummaryStatistics stats = Arrays.stream(timing).summaryStatistics();\r\n        System.out.println(testName + &quot;: &quot; + stats);\r\n        return stats;\r\n    }\r\n\r\nthe results are\r\n\r\nparallel:\r\n\r\n    toArray: LongSummaryStatistics{count=10, sum=3721, min=321, average=372,100000, max=535}\r\n    forEach: LongSummaryStatistics{count=10, sum=3502, min=249, average=350,200000, max=389}\r\n    collect: LongSummaryStatistics{count=10, sum=3325, min=265, average=332,500000, max=368}\r\n\r\nsequential:\r\n\r\n    toArray: LongSummaryStatistics{count=10, sum=5493, min=517, average=549,300000, max=569}\r\n    forEach: LongSummaryStatistics{count=10, sum=5316, min=427, average=531,600000, max=571}\r\n    collect: LongSummaryStatistics{count=10, sum=5380, min=444, average=538,000000, max=557}\r\n\r\nparallel without nulls and filter (so the stream is `SIZED`):\r\ntoArrays has the best performance in such case, and `.forEach()` fails with &quot;indexOutOfBounds&quot; on the recepient ArrayList, had to replace with `.forEachOrdered()`\r\n\r\n    toArray: LongSummaryStatistics{count=100, sum=75566, min=707, average=755,660000, max=1107}\r\n    forEach: LongSummaryStatistics{count=100, sum=115802, min=992, average=1158,020000, max=1254}\r\n    collect: LongSummaryStatistics{count=100, sum=88415, min=732, average=884,150000, max=1014}\r\n","title":"Java Stream API - Best way to transform a list: map or forEach?","body":"<p>There is a third option - using <code>stream().toArray()</code> - see comments under <a href=\"https://stackoverflow.com/questions/28782165/why-didnt-stream-have-a-tolist-method\">why didn't stream have a toList method</a>. It turns out to be slower than forEach() or collect(), and less expressive. It might be optimised in later JDK builds, so adding it here just in case.</p>\n\n<p>assuming <code>List&lt;String&gt;</code></p>\n\n<pre><code>    myFinalList = Arrays.asList(\n            myListToParse.stream()\n                    .filter(Objects::nonNull)\n                    .map(this::doSomething)\n                    .toArray(String[]::new)\n    );\n</code></pre>\n\n<p>with a micro-micro benchmark, 1M entries, 20% nulls and simple transform in doSomething()</p>\n\n<pre><code>private LongSummaryStatistics benchmark(final String testName, final Runnable methodToTest, int samples) {\n    long[] timing = new long[samples];\n    for (int i = 0; i &lt; samples; i++) {\n        long start = System.currentTimeMillis();\n        methodToTest.run();\n        timing[i] = System.currentTimeMillis() - start;\n    }\n    final LongSummaryStatistics stats = Arrays.stream(timing).summaryStatistics();\n    System.out.println(testName + \": \" + stats);\n    return stats;\n}\n</code></pre>\n\n<p>the results are</p>\n\n<p>parallel:</p>\n\n<pre><code>toArray: LongSummaryStatistics{count=10, sum=3721, min=321, average=372,100000, max=535}\nforEach: LongSummaryStatistics{count=10, sum=3502, min=249, average=350,200000, max=389}\ncollect: LongSummaryStatistics{count=10, sum=3325, min=265, average=332,500000, max=368}\n</code></pre>\n\n<p>sequential:</p>\n\n<pre><code>toArray: LongSummaryStatistics{count=10, sum=5493, min=517, average=549,300000, max=569}\nforEach: LongSummaryStatistics{count=10, sum=5316, min=427, average=531,600000, max=571}\ncollect: LongSummaryStatistics{count=10, sum=5380, min=444, average=538,000000, max=557}\n</code></pre>\n\n<p>parallel without nulls and filter (so the stream is <code>SIZED</code>):\ntoArrays has the best performance in such case, and <code>.forEach()</code> fails with \"indexOutOfBounds\" on the recepient ArrayList, had to replace with <code>.forEachOrdered()</code></p>\n\n<pre><code>toArray: LongSummaryStatistics{count=100, sum=75566, min=707, average=755,660000, max=1107}\nforEach: LongSummaryStatistics{count=100, sum=115802, min=992, average=1158,020000, max=1254}\ncollect: LongSummaryStatistics{count=100, sum=88415, min=732, average=884,150000, max=1014}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2987511,"reputation":3024,"user_id":5772982,"display_name":"Kumar Abhishek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1612993464,"creation_date":1459864565,"answer_id":36428452,"question_id":28319064,"body_markdown":"May be Method 3.\r\n\r\nI always prefer to keep logic separate.\r\n\r\n    Predicate&lt;Long&gt; greaterThan100 = new Predicate&lt;Long&gt;() {\r\n        @Override\r\n        public boolean test(Long currentParameter) {\r\n            return currentParameter &gt; 100;\r\n        }\r\n    };\r\n    \t\t\r\n    List&lt;Long&gt; sourceLongList = Arrays.asList(1L, 10L, 50L, 80L, 100L, 120L, 133L, 333L);\r\n    List&lt;Long&gt; resultList = sourceLongList.parallelStream().filter(greaterThan100).collect(Collectors.toList());\r\n\r\n","title":"Java Stream API - Best way to transform a list: map or forEach?","body":"<p>May be Method 3.</p>\n<p>I always prefer to keep logic separate.</p>\n<pre><code>Predicate&lt;Long&gt; greaterThan100 = new Predicate&lt;Long&gt;() {\n    @Override\n    public boolean test(Long currentParameter) {\n        return currentParameter &gt; 100;\n    }\n};\n        \nList&lt;Long&gt; sourceLongList = Arrays.asList(1L, 10L, 50L, 80L, 100L, 120L, 133L, 333L);\nList&lt;Long&gt; resultList = sourceLongList.parallelStream().filter(greaterThan100).collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5914036,"reputation":5245,"user_id":4653367,"display_name":"John McClean"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1489161196,"creation_date":1489161196,"answer_id":42722504,"question_id":28319064,"body_markdown":"If using 3rd Pary Libaries is ok [cyclops-react](https://github.com/aol/cyclops-react) defines Lazy extended collections with this functionality built in. For example we could simply write\r\n\r\nListX myListToParse;\r\n\r\nListX myFinalList = myListToParse.filter(elt -&gt; elt != null)\r\n                                 .map(elt -&gt; doSomething(elt)); \r\n\r\nmyFinalList is not evaluated until first access (and there after the materialized list is cached and reused).\r\n\r\n[Disclosure I am the lead developer of cyclops-react]","title":"Java Stream API - Best way to transform a list: map or forEach?","body":"<p>If using 3rd Pary Libaries is ok <a href=\"https://github.com/aol/cyclops-react\" rel=\"nofollow noreferrer\">cyclops-react</a> defines Lazy extended collections with this functionality built in. For example we could simply write</p>\n\n<p>ListX myListToParse;</p>\n\n<p>ListX myFinalList = myListToParse.filter(elt -> elt != null)\n                                 .map(elt -> doSomething(elt)); </p>\n\n<p>myFinalList is not evaluated until first access (and there after the materialized list is cached and reused).</p>\n\n<p>[Disclosure I am the lead developer of cyclops-react]</p>\n"}],"owner":{"account_id":3408319,"reputation":10093,"user_id":2858871,"accept_rate":79,"display_name":"Emilien Brigand"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":239281,"favorite_count":0,"down_vote_count":1,"up_vote_count":255,"accepted_answer_id":28319221,"answer_count":8,"score":254,"last_activity_date":1693116325,"creation_date":1423045805,"question_id":28319064,"body_markdown":"I have a list, `myListToParse`, where I want to filter the elements and apply a method on each element, and add the result in another list, `myFinalList`.\r\n\r\nWith the `Stream` API (added in Java 8), I noticed that I can do it in 2 different ways. I would like to know the more efficient way between them and understand why one way is better than the other one. \r\n\r\nMethod 1:\r\n\r\n    myFinalList = new ArrayList&lt;&gt;();\r\n    myListToParse.stream()\r\n            .filter(elt -&gt; elt != null)\r\n            .forEach(elt -&gt; myFinalList.add(doSomething(elt)));\r\n\r\nMethod 2:\r\n\r\n    myFinalList = myListToParse.stream()\r\n            .filter(elt -&gt; elt != null)\r\n            .map(elt -&gt; doSomething(elt))\r\n            .collect(Collectors.toList()); \r\n\r\nI&#39;m open for any suggestion about a third way.","title":"Java Stream API - Best way to transform a list: map or forEach?","body":"<p>I have a list, <code>myListToParse</code>, where I want to filter the elements and apply a method on each element, and add the result in another list, <code>myFinalList</code>.</p>\n<p>With the <code>Stream</code> API (added in Java 8), I noticed that I can do it in 2 different ways. I would like to know the more efficient way between them and understand why one way is better than the other one.</p>\n<p>Method 1:</p>\n<pre><code>myFinalList = new ArrayList&lt;&gt;();\nmyListToParse.stream()\n        .filter(elt -&gt; elt != null)\n        .forEach(elt -&gt; myFinalList.add(doSomething(elt)));\n</code></pre>\n<p>Method 2:</p>\n<pre><code>myFinalList = myListToParse.stream()\n        .filter(elt -&gt; elt != null)\n        .map(elt -&gt; doSomething(elt))\n        .collect(Collectors.toList()); \n</code></pre>\n<p>I'm open for any suggestion about a third way.</p>\n"},{"tags":["java","unit-testing","amazon-web-services","mockito","verify"],"comments":[{"owner":{"account_id":2535057,"reputation":25845,"user_id":2202415,"display_name":"Maciej Kowalski"},"score":2,"creation_date":1506522760,"post_id":46450522,"comment_id":79856799,"body_markdown":"you should not be mocking the class under test for sure. If there is something to mock here then that is the ObjectMapper","body":"you should not be mocking the class under test for sure. If there is something to mock here then that is the ObjectMapper"},{"owner":{"account_id":11866151,"reputation":759,"user_id":8683646,"accept_rate":0,"display_name":"D.Zet"},"score":0,"creation_date":1506523273,"post_id":46450522,"comment_id":79857186,"body_markdown":"So how can i use verify and call the method without kitchenservice instance?\n    Examples of correct verifications:\n        verify(mock).someMethod();\n        verify(mock, times(10)).someMethod();\n        verify(mock, atLeastOnce()).someMethod();","body":"So how can i use verify and call the method without kitchenservice instance?     Examples of correct verifications:         verify(mock).someMethod();         verify(mock, times(10)).someMethod();         verify(mock, atLeastOnce()).someMethod();"},{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1506523767,"post_id":46450522,"comment_id":79857568,"body_markdown":"Your test makes no sense. You&#39;re mocking what you&#39;re testing. So you&#39;re not executing any of your code. Only Mockito&#39;s code. It makes no sense to create a fake thing, call the fake thing methods, and verify that you have called the fake thing methods. The real code is never executed is all you&#39;re doing is using a fake thing. Mocking is useful when you want to test A, and A depends on B, and you use a fake B to test A. Read https://stackoverflow.com/a/28783849/571407 for a detailed explanation.","body":"Your test makes no sense. You&#39;re mocking what you&#39;re testing. So you&#39;re not executing any of your code. Only Mockito&#39;s code. It makes no sense to create a fake thing, call the fake thing methods, and verify that you have called the fake thing methods. The real code is never executed is all you&#39;re doing is using a fake thing. Mocking is useful when you want to test A, and A depends on B, and you use a fake B to test A. Read <a href=\"https://stackoverflow.com/a/28783849/571407\">stackoverflow.com/a/28783849/571407</a> for a detailed explanation."},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1682958618,"post_id":46450522,"comment_id":134290490,"body_markdown":"You never do anything with `instance`, so there cannot be any calls to it. Also check https://stackoverflow.com/q/74027324/112968 for an in-depth discussion of common problems when using mocks","body":"You never do anything with <code>instance</code>, so there cannot be any calls to it. Also check <a href=\"https://stackoverflow.com/q/74027324/112968\">stackoverflow.com/q/74027324/112968</a> for an in-depth discussion of common problems when using mocks"}],"answers":[{"tags":[],"owner":{"account_id":2535057,"reputation":25845,"user_id":2202415,"display_name":"Maciej Kowalski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1506523733,"creation_date":1506523733,"answer_id":46450947,"question_id":46450522,"body_markdown":"What you should mock and verify is the `databaseController` dependency:\r\n\r\n    @Test\r\n    public void addProduct() throws Exception {\r\n    \r\n        KitchenService instance = new KitchenService(); // you should create the class under test\r\n    \r\n        DatabaseController controllerMock = mock(DatabaseController.class); // mock the controller\r\n    \r\n        instance.setController(controller); // inject the mock\r\n    \r\n        ...\r\n    \r\n        // Act\r\n        instance.addProduct(expectedProduct);\r\n    \r\n        // Assert\r\n        verify(controller).saveProduct(Mockito.eq(PRODUCT_TABLE), Mockito.any(Item.class));\r\n\r\n    }\r\n\r\nYou should verify that the database is called within the service.. checking that it was invoked with any `Item` object should be enough.\r\n","title":"Mockito verify unit test - Wanted but not invoked. Actually, there were zero interactions with this mock","body":"<p>What you should mock and verify is the <code>databaseController</code> dependency:</p>\n\n<pre><code>@Test\npublic void addProduct() throws Exception {\n\n    KitchenService instance = new KitchenService(); // you should create the class under test\n\n    DatabaseController controllerMock = mock(DatabaseController.class); // mock the controller\n\n    instance.setController(controller); // inject the mock\n\n    ...\n\n    // Act\n    instance.addProduct(expectedProduct);\n\n    // Assert\n    verify(controller).saveProduct(Mockito.eq(PRODUCT_TABLE), Mockito.any(Item.class));\n\n}\n</code></pre>\n\n<p>You should verify that the database is called within the service.. checking that it was invoked with any <code>Item</code> object should be enough.</p>\n"},{"tags":[],"owner":{"account_id":204659,"reputation":37539,"user_id":453005,"accept_rate":100,"display_name":"DwB"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1506524061,"creation_date":1506524061,"answer_id":46451065,"question_id":46450522,"body_markdown":"Mocking is a tool that you only use for dependencies of the class that is being tested.\r\nIt appears that your test does not care about the Author, Media, and Product objects,\r\nthese are just dependencies of the method you want to test;\r\nmock them.\r\n\r\nOrganization will greatly help your test;\r\ndo something like this:\r\n\r\n    public class TestKitchenService\r\n    {\r\n        private static String VALUE_PRODUCT_NAME = &quot;VALUE_PRODUCT_NAME&quot;;\r\n        ... use constants for other values as well.  The value of the constant does not matter.\r\n\r\n        @InjectMocks\r\n        private KitchenService classToTest;\r\n\r\n        private InOrder inOrder;\r\n\r\n        @Mock\r\n        private Author mockAuthor;\r\n\r\n        @Mock\r\n        private DatabaseController mockDatabaseController;\r\n\r\n        @Mock\r\n        private Logger mockLogger;\r\n        \r\n        @Mock\r\n        private Media mockMedia;\r\n\r\n        @Mock\r\n        private Product mockProduct;\r\n\r\n        @After\r\n        public void afterTest()\r\n        {\r\n            inOrder.verifyNoMoreInteractions();\r\n\r\n            verifyNoMoreInteractions(mockAuthor);\r\n            verifyNoMoreInteractions(mockDatabaseController);\r\n            verifyNoMoreInteractions(mockLogger);\r\n            verifyNoMoreInteractions(mockMedia);\r\n            verifyNoMoreInteractions(mockProduct);\r\n        }\r\n\r\n        @Before\r\n        public void beforeTest()\r\n        {\r\n            MockitoAnnotations.initMocks(this);\r\n\r\n            doReturn(mockAuthor).when(mockProduct).getAuthor();\r\n            doReturn(mockMedia).when(mockProduct).getMedia();\r\n            doReturn(VALUE_PRODUCT_NAME).when(mockProduct).getName();\r\n            doReturn(Collections.singletonList(ProductKind.MEAT)).when(mockProduct).getProductKinds();\r\n            \r\n            ... doReturns for the other product values.\r\n\r\n            inOrder = inOrder(\r\n                mockAuthor,\r\n                mockDatabaseController,\r\n                mockLogger,\r\n                mockMedia,\r\n                mockProduct);\r\n\r\n            ReflectionTestUtils.setField(\r\n                classToTest,\r\n                &quot;databaseController&quot;,\r\n                mockDatabaseController);\r\n                \r\n            ReflectionTestUtils.setField(\r\n                classToTest,\r\n                &quot;logger&quot;,\r\n                mockLogger);\r\n        }\r\n\r\n        @Test\r\n        public void addProduct_success()\r\n        {\r\n            final Product actualResult;\r\n\r\n\r\n            actualResult = classToTest.addProduct(mockProduct);\r\n\r\n\r\n            assertEquals(\r\n                mockProduct,\r\n                actualResult);\r\n\r\n            inOrder.verify(mockProduct).getMedia();\r\n\r\n            inOrder.verify(mockProduct).getAuthor();\r\n\r\n            inOrder.verify(mockProduct).getProductKinds();\r\n            \r\n            inOrder.verify(mockProduct).getName();\r\n            \r\n            ... inOrder.verify for the other product values.\r\n            \r\n            inOrder.verify(mockDatabaseController).saveProduct(\r\n                eq(PRODUCT_TABLE),\r\n                any(Item.class));\r\n        }\r\n    }","title":"Mockito verify unit test - Wanted but not invoked. Actually, there were zero interactions with this mock","body":"<p>Mocking is a tool that you only use for dependencies of the class that is being tested.\nIt appears that your test does not care about the Author, Media, and Product objects,\nthese are just dependencies of the method you want to test;\nmock them.</p>\n\n<p>Organization will greatly help your test;\ndo something like this:</p>\n\n<pre><code>public class TestKitchenService\n{\n    private static String VALUE_PRODUCT_NAME = \"VALUE_PRODUCT_NAME\";\n    ... use constants for other values as well.  The value of the constant does not matter.\n\n    @InjectMocks\n    private KitchenService classToTest;\n\n    private InOrder inOrder;\n\n    @Mock\n    private Author mockAuthor;\n\n    @Mock\n    private DatabaseController mockDatabaseController;\n\n    @Mock\n    private Logger mockLogger;\n\n    @Mock\n    private Media mockMedia;\n\n    @Mock\n    private Product mockProduct;\n\n    @After\n    public void afterTest()\n    {\n        inOrder.verifyNoMoreInteractions();\n\n        verifyNoMoreInteractions(mockAuthor);\n        verifyNoMoreInteractions(mockDatabaseController);\n        verifyNoMoreInteractions(mockLogger);\n        verifyNoMoreInteractions(mockMedia);\n        verifyNoMoreInteractions(mockProduct);\n    }\n\n    @Before\n    public void beforeTest()\n    {\n        MockitoAnnotations.initMocks(this);\n\n        doReturn(mockAuthor).when(mockProduct).getAuthor();\n        doReturn(mockMedia).when(mockProduct).getMedia();\n        doReturn(VALUE_PRODUCT_NAME).when(mockProduct).getName();\n        doReturn(Collections.singletonList(ProductKind.MEAT)).when(mockProduct).getProductKinds();\n\n        ... doReturns for the other product values.\n\n        inOrder = inOrder(\n            mockAuthor,\n            mockDatabaseController,\n            mockLogger,\n            mockMedia,\n            mockProduct);\n\n        ReflectionTestUtils.setField(\n            classToTest,\n            \"databaseController\",\n            mockDatabaseController);\n\n        ReflectionTestUtils.setField(\n            classToTest,\n            \"logger\",\n            mockLogger);\n    }\n\n    @Test\n    public void addProduct_success()\n    {\n        final Product actualResult;\n\n\n        actualResult = classToTest.addProduct(mockProduct);\n\n\n        assertEquals(\n            mockProduct,\n            actualResult);\n\n        inOrder.verify(mockProduct).getMedia();\n\n        inOrder.verify(mockProduct).getAuthor();\n\n        inOrder.verify(mockProduct).getProductKinds();\n\n        inOrder.verify(mockProduct).getName();\n\n        ... inOrder.verify for the other product values.\n\n        inOrder.verify(mockDatabaseController).saveProduct(\n            eq(PRODUCT_TABLE),\n            any(Item.class));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":192292,"reputation":7779,"user_id":433348,"accept_rate":88,"display_name":"Kevin Welker"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1506524705,"creation_date":1506524705,"answer_id":46451314,"question_id":46450522,"body_markdown":"The only things that should be mocked -- if anything -- are the ObjectMapper and databaseController.  One only mocks collaborator objects, and almost never the system/class under test (very rare cases exist for &quot;spying&quot; on the SUT).  And depending on what the ObjectMapper is and how transparent it&#39;s operation is, you may not really want to even mock that.  Furthermore, as your implementation code is written instantiating the ObjectMapper by directly calling a constructor, you can&#39;t even mock it.\r\n\r\nWhile I love the use of Mockito and mock objects, sometimes it is worthwhile to simply test with as many real objects as possible.  This is especially true when your collaborators are simple, straightforward, have no side effects, and don&#39;t require complex initialization or setup.  Only use mocks when it simplifies the test setup or verification.","title":"Mockito verify unit test - Wanted but not invoked. Actually, there were zero interactions with this mock","body":"<p>The only things that should be mocked -- if anything -- are the ObjectMapper and databaseController.  One only mocks collaborator objects, and almost never the system/class under test (very rare cases exist for \"spying\" on the SUT).  And depending on what the ObjectMapper is and how transparent it's operation is, you may not really want to even mock that.  Furthermore, as your implementation code is written instantiating the ObjectMapper by directly calling a constructor, you can't even mock it.</p>\n\n<p>While I love the use of Mockito and mock objects, sometimes it is worthwhile to simply test with as many real objects as possible.  This is especially true when your collaborators are simple, straightforward, have no side effects, and don't require complex initialization or setup.  Only use mocks when it simplifies the test setup or verification.</p>\n"}],"owner":{"account_id":11866151,"reputation":759,"user_id":8683646,"accept_rate":0,"display_name":"D.Zet"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26786,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1693116215,"creation_date":1506522590,"question_id":46450522,"body_markdown":"At first I want to sorry for my english.\r\n\r\nI started to make some unit tests (i&#39;ve never done this before, i&#39;m a new guy in programming). \r\n\r\nI have to test simple adding product to database (DynamoDB) method using mockito.verify but I have \r\n\r\n    &quot;Wanted but not invoked. Actually, there were zero interactions with this mock.&quot; \r\n\r\nError and I don&#39;t know what to do.\r\n\r\nThis is my method code (in KitchenService class): \r\n\r\n    public Product addProduct(Product content) {\r\n\r\n        ObjectMapper objectMapper = new ObjectMapper();\r\n\r\n        String mediaJSON = null;\r\n        String authorJSON = null;\r\n        String productKindsJSON = null;\r\n        try {\r\n            mediaJSON = objectMapper.writeValueAsString(content.getMedia());\r\n            authorJSON = objectMapper.writeValueAsString(content.getAuthor());\r\n            productKindsJSON = objectMapper.writeValueAsString(content.getProductKinds());\r\n        } catch (JsonProcessingException e) {\r\n            logger.log(e.getMessage());\r\n        }\r\n\r\n\r\n        Item item = new Item()\r\n                .withPrimaryKey(&quot;id&quot;, UUID.randomUUID().toString())\r\n                .with(&quot;name&quot;, content.getName())\r\n                .with(&quot;calories&quot;, content.getCalories())\r\n                .with(&quot;fat&quot;, content.getFat())\r\n                .with(&quot;carbo&quot;, content.getCarbo())\r\n                .with(&quot;protein&quot;, content.getProtein())\r\n                .with(&quot;productKinds&quot;, productKindsJSON)\r\n                .with(&quot;author&quot;, authorJSON)\r\n                .with(&quot;media&quot;, mediaJSON)\r\n                .with(&quot;approved&quot;, content.getApproved());\r\n\r\n\r\n        Item save = databaseController.saveProduct(PRODUCT_TABLE, item);\r\n        logger.log(save + &quot; created&quot;);\r\n\r\n\r\n\r\n        return content;\r\n\r\n    }\r\n\r\nAnd this is test code:\r\n\r\n    @Test\r\n    public void addProduct() throws Exception {\r\n\r\n\r\n        KitchenService instance = mock(KitchenService.class);\r\n\r\n\r\n        Product expectedProduct = new Product();\r\n        expectedProduct.setName(&quot;kaszanka&quot;);\r\n        expectedProduct.setCalories(1000);\r\n        expectedProduct.setFat(40.00);\r\n        expectedProduct.setCarbo(20.00);\r\n        expectedProduct.setProtein(40.00);\r\n        expectedProduct.setProductKinds(Collections.singletonList(ProductKind.MEAT));\r\n        expectedProduct.setApproved(false);\r\n        Author expectedAuthor = new Author();\r\n        expectedAuthor.setId(&quot;testID&quot;);\r\n        expectedAuthor.setName(&quot;Endrju Golota&quot;);\r\n        expectedProduct.setAuthor(expectedAuthor);\r\n        Media expectedMedia = new Media();\r\n        expectedMedia.setMediaType(MediaType.IMAGE);\r\n        expectedMedia.setName(&quot;dupajasia&quot;);\r\n        expectedMedia.setUrl(&quot;http://blabla.pl&quot;);\r\n        expectedProduct.setMedia(expectedMedia);\r\n\r\n        verify(instance, times(1)).addProduct(expectedProduct);\r\n    }\r\n\r\nThis is what I got after test:\r\n\r\n    Wanted but not invoked:\r\n    kitchenService.addProduct(\r\n        model.kitchen.Product@a0136253\r\n    );\r\n    -&gt; at     service.kitchen.KitchenServiceTest.addProduct(KitchenServiceTest.java:80)\r\n    Actually, there were zero interactions with this mock.\r\n\r\n\r\nCan someone tell me what im doing wrong?\r\n\r\n\r\n","title":"Mockito verify unit test - Wanted but not invoked. Actually, there were zero interactions with this mock","body":"<p>At first I want to sorry for my english.</p>\n\n<p>I started to make some unit tests (i've never done this before, i'm a new guy in programming). </p>\n\n<p>I have to test simple adding product to database (DynamoDB) method using mockito.verify but I have </p>\n\n<pre><code>\"Wanted but not invoked. Actually, there were zero interactions with this mock.\" \n</code></pre>\n\n<p>Error and I don't know what to do.</p>\n\n<p>This is my method code (in KitchenService class): </p>\n\n<pre><code>public Product addProduct(Product content) {\n\n    ObjectMapper objectMapper = new ObjectMapper();\n\n    String mediaJSON = null;\n    String authorJSON = null;\n    String productKindsJSON = null;\n    try {\n        mediaJSON = objectMapper.writeValueAsString(content.getMedia());\n        authorJSON = objectMapper.writeValueAsString(content.getAuthor());\n        productKindsJSON = objectMapper.writeValueAsString(content.getProductKinds());\n    } catch (JsonProcessingException e) {\n        logger.log(e.getMessage());\n    }\n\n\n    Item item = new Item()\n            .withPrimaryKey(\"id\", UUID.randomUUID().toString())\n            .with(\"name\", content.getName())\n            .with(\"calories\", content.getCalories())\n            .with(\"fat\", content.getFat())\n            .with(\"carbo\", content.getCarbo())\n            .with(\"protein\", content.getProtein())\n            .with(\"productKinds\", productKindsJSON)\n            .with(\"author\", authorJSON)\n            .with(\"media\", mediaJSON)\n            .with(\"approved\", content.getApproved());\n\n\n    Item save = databaseController.saveProduct(PRODUCT_TABLE, item);\n    logger.log(save + \" created\");\n\n\n\n    return content;\n\n}\n</code></pre>\n\n<p>And this is test code:</p>\n\n<pre><code>@Test\npublic void addProduct() throws Exception {\n\n\n    KitchenService instance = mock(KitchenService.class);\n\n\n    Product expectedProduct = new Product();\n    expectedProduct.setName(\"kaszanka\");\n    expectedProduct.setCalories(1000);\n    expectedProduct.setFat(40.00);\n    expectedProduct.setCarbo(20.00);\n    expectedProduct.setProtein(40.00);\n    expectedProduct.setProductKinds(Collections.singletonList(ProductKind.MEAT));\n    expectedProduct.setApproved(false);\n    Author expectedAuthor = new Author();\n    expectedAuthor.setId(\"testID\");\n    expectedAuthor.setName(\"Endrju Golota\");\n    expectedProduct.setAuthor(expectedAuthor);\n    Media expectedMedia = new Media();\n    expectedMedia.setMediaType(MediaType.IMAGE);\n    expectedMedia.setName(\"dupajasia\");\n    expectedMedia.setUrl(\"http://blabla.pl\");\n    expectedProduct.setMedia(expectedMedia);\n\n    verify(instance, times(1)).addProduct(expectedProduct);\n}\n</code></pre>\n\n<p>This is what I got after test:</p>\n\n<pre><code>Wanted but not invoked:\nkitchenService.addProduct(\n    model.kitchen.Product@a0136253\n);\n-&gt; at     service.kitchen.KitchenServiceTest.addProduct(KitchenServiceTest.java:80)\nActually, there were zero interactions with this mock.\n</code></pre>\n\n<p>Can someone tell me what im doing wrong?</p>\n"},{"tags":["java","rest","jms","jax-rs","activemq"],"comments":[{"owner":{"account_id":1758692,"reputation":965,"user_id":1606340,"accept_rate":64,"display_name":"Kumar"},"score":0,"creation_date":1384327983,"post_id":19706788,"comment_id":29688218,"body_markdown":"downvoter please comment. What is wrong in this question?","body":"downvoter please comment. What is wrong in this question?"},{"owner":{"account_id":67511,"reputation":5359,"user_id":197532,"accept_rate":56,"display_name":"Phani"},"score":0,"creation_date":1386242899,"post_id":19706788,"comment_id":30460687,"body_markdown":"Are you interested about custom object inside HttpServletRequest or you need it because you want to relay information back to the client later?","body":"Are you interested about custom object inside HttpServletRequest or you need it because you want to relay information back to the client later?"},{"owner":{"account_id":1758692,"reputation":965,"user_id":1606340,"accept_rate":64,"display_name":"Kumar"},"score":0,"creation_date":1386314110,"post_id":19706788,"comment_id":30495279,"body_markdown":"@Phani Yes, Inside the Httpservlet request.","body":"@Phani Yes, Inside the Httpservlet request."}],"answers":[{"tags":[],"owner":{"account_id":176018,"reputation":56316,"user_id":406429,"display_name":"Claus Ibsen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1383471106,"creation_date":1383471106,"answer_id":19751507,"question_id":19706788,"body_markdown":"Have you seen the REST documentation at Apache ActiveMQ: http://activemq.apache.org/rest.html\r\n\r\nAlso are you talking about embedding ActiveMQ as a broker inside Tomcat, or do you run ActiveMQ broker in a seperate box/jvm? \r\n\r\nAs the standalone ActiveMQ has REST API out of the box, as stated in that link above.","title":"jersey rest web Service with Activemq middleware integration","body":"<p>Have you seen the REST documentation at Apache ActiveMQ: <a href=\"http://activemq.apache.org/rest.html\" rel=\"nofollow\">http://activemq.apache.org/rest.html</a></p>\n\n<p>Also are you talking about embedding ActiveMQ as a broker inside Tomcat, or do you run ActiveMQ broker in a seperate box/jvm? </p>\n\n<p>As the standalone ActiveMQ has REST API out of the box, as stated in that link above.</p>\n"},{"tags":[],"owner":{"account_id":6796173,"reputation":1,"user_id":5231371,"display_name":"xcepttj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1439686783,"creation_date":1439686783,"answer_id":32030864,"question_id":19706788,"body_markdown":"The reason you are seeing ActiveMQ admin console while hitting rest URL due to missing credentials, Please pass credentials using basic authentication. I wrote a groovy client to call rest URL. You can use something similar....   \r\n \r\n    import groovyx.net.http.HTTPBuilder;\r\n    import groovyx.net.http.Method;\r\n    import groovyx.net.http.ContentType;\r\n    import groovyx.net.http.RESTClient;\r\n    import groovyx.net.http.HttpResponseDecorator;\r\n    import groovy.json.JsonSlurper;\r\n\r\n    def headers= [&quot;Authorization&quot;: &#39;Basic&#39;   +&#39;admin:admin&#39;.bytes.encodeBase64().toString()];\r\n    println headers;\r\n    def restClient = new RESTClient(&#39;http://servername:8161&#39;);\r\n    def restClientResponse = restClient.get(path: &#39;/api/message/queueName?type=queue&#39;,headers:headers,requestContentType: ContentType.JSON)\r\n    println restClientResponse.status;\r\n    println restClientResponse.headers[&#39;Content-Length&#39;];\r\n    println restClientResponse.getData();","title":"jersey rest web Service with Activemq middleware integration","body":"<p>The reason you are seeing ActiveMQ admin console while hitting rest URL due to missing credentials, Please pass credentials using basic authentication. I wrote a groovy client to call rest URL. You can use something similar....   </p>\n\n<pre><code>import groovyx.net.http.HTTPBuilder;\nimport groovyx.net.http.Method;\nimport groovyx.net.http.ContentType;\nimport groovyx.net.http.RESTClient;\nimport groovyx.net.http.HttpResponseDecorator;\nimport groovy.json.JsonSlurper;\n\ndef headers= [\"Authorization\": 'Basic'   +'admin:admin'.bytes.encodeBase64().toString()];\nprintln headers;\ndef restClient = new RESTClient('http://servername:8161');\ndef restClientResponse = restClient.get(path: '/api/message/queueName?type=queue',headers:headers,requestContentType: ContentType.JSON)\nprintln restClientResponse.status;\nprintln restClientResponse.headers['Content-Length'];\nprintln restClientResponse.getData();\n</code></pre>\n"}],"owner":{"account_id":1758692,"reputation":965,"user_id":1606340,"accept_rate":64,"display_name":"Kumar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10189,"favorite_count":0,"down_vote_count":1,"up_vote_count":8,"answer_count":2,"score":7,"last_activity_date":1693116215,"creation_date":1383223163,"question_id":19706788,"body_markdown":"I have a Restful service API developed with JAX-RS and jersey. I have deployed the same in TOMCAT 7. Now I would like to implement Activemq so that I would keep all request in a queue and process the request resource. How to do this and integrate with tomcat7. How to integrate ActiveMq with Tomcat7 or my rest service webapp. How to call the service. \r\n\r\nImportant :- \r\nInside the Rest Api, I am using FilterChaining concept for security concern and after verification of the calling party, I am simply forwarding the request to the resource. For this I have added in web.xml.\r\n\r\nThanks \r\n\r\n\r\n**Here is my class :-**\r\n\r\n        public class LimitFilter implements Filter {\r\n        \t\r\n        \tpublic void doFilter(ServletRequest request, ServletResponse response,\r\n        \t\t\tFilterChain chain) throws IOException, ServletException {\r\n        \t\t\r\n    //some authentication\r\n        \t\t\tif (true) {\r\n        \t\t\t\t// let the request through and process as usual\r\n        \t\t\t\tchain.doFilter(request, response);\r\n        \t\t\t\t\r\n        \t\t\t} else {\r\n        \t\t\t\t// handle limit case, e.g. return status code 429 (Too Many\r\n        \t\t\t\t// Requests)\r\n        \t\t\t\t// see http://tools.ietf.org/html/rfc6585#page-3\r\n        \t\t\t\t((HttpServletResponse) response).sendError(429);\r\n        \t\t\t}\r\n        \t\t} \r\n        \t\t}\r\n        \t}\r\n\r\n**Here is my sample class for activemq:-**\r\n\r\n    public class Qservlet extends HttpServlet {\r\n    \r\n    \t/**\r\n    \t * \r\n    \t */\r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \r\n    \tpublic void doGet(HttpServletRequest request, HttpServletResponse response)\r\n    \t\t\tthrows IOException, ServletException {\r\n    \t\t\tString body = &quot;&quot;;\r\n    \t\ttry {\r\n    \t\t\t// Create a ConnectionFactory\r\n    \r\n    \t\t\tConnectionFactory connectionFactory = new ActiveMQConnectionFactory(&quot;admin&quot;, &quot;admin&quot;, ActiveMQConnection.DEFAULT_BROKER_URL);\r\n    \r\n    \t\t\t// Create a Connection\r\n    \t\t\t\r\n    \t\t\tConnection connection = connectionFactory.createConnection();\r\n    \t\t\t\r\n    \t\t\t\r\n    \t\t\tSession session = connection.createSession(false,Session.AUTO_ACKNOWLEDGE);\r\n    \r\n    \t\t\tDestination destination = session.createQueue(&quot;testQ&quot;);\t\r\n    \t\t\tTextMessage message = session.createTextMessage();\r\n    \t\t\tmessage.setText( &quot;My text message was send and received&quot;);//\r\n    \t\t\tmessage.setJMSRedelivered(true);\r\n    \t\t\tmessage.setJMSCorrelationID(request.getSession().getId());\r\n    \t\t\t\r\n    \t\t\tconnection.start();\r\n    \r\n    \t\t\tMessageProducer producer = session.createProducer(destination);\r\n    \t\t\tproducer.setDeliveryMode(DeliveryMode.PERSISTENT);\r\n    \t\t\tproducer.send(message);\r\n    \t\t\t\r\n    \t\t\tmessage = null;\r\n    \t\t\tMessageConsumer consumer = session.createConsumer(destination);\r\n    \t\t\tmessage = (TextMessage) consumer.receive(1000);\r\n    \t\t\tif (message != null) {\r\n    \t\t\t\tbody = message.getText();\r\n    \t\t\t}\r\n    \r\n    \t\t\t\r\n    \t\t\tproducer.close();\r\n    \t\t\tconsumer.close();\r\n    \t\t\tsession.close();\r\n    \t\t\tconnection.close();\r\n    \r\n    \t\t} catch (Exception e) {\r\n    \t\t\tSystem.out.println(e.toString());\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\nNow if any request is coming in Limit Filter class, I am forwarding directly to the resources after some authentication mecanisam. Thats why I am using filter concept for catching all request. \r\n\r\nSecond class is example class when i am running ; messaging is enquing and dequeueing; I can see in console for ActiveMq. \r\n\r\nIn the first class I am simply writing **&quot;chain.doFilter(request, response)&quot;** to forward all http request to the respective resource. Now How to do here. Where to put the HTTP request. I need to handle each request asynchronously. REST is synchronous. \r\n\r\nPlease suggest some way. and explain your answer.\r\n\r\n\r\nThanks/Regards\r\nKumar Shorav\r\n\r\n","title":"jersey rest web Service with Activemq middleware integration","body":"<p>I have a Restful service API developed with JAX-RS and jersey. I have deployed the same in TOMCAT 7. Now I would like to implement Activemq so that I would keep all request in a queue and process the request resource. How to do this and integrate with tomcat7. How to integrate ActiveMq with Tomcat7 or my rest service webapp. How to call the service. </p>\n\n<p>Important :- \nInside the Rest Api, I am using FilterChaining concept for security concern and after verification of the calling party, I am simply forwarding the request to the resource. For this I have added in web.xml.</p>\n\n<p>Thanks </p>\n\n<p><strong>Here is my class :-</strong></p>\n\n<pre><code>    public class LimitFilter implements Filter {\n\n        public void doFilter(ServletRequest request, ServletResponse response,\n                FilterChain chain) throws IOException, ServletException {\n\n//some authentication\n                if (true) {\n                    // let the request through and process as usual\n                    chain.doFilter(request, response);\n\n                } else {\n                    // handle limit case, e.g. return status code 429 (Too Many\n                    // Requests)\n                    // see http://tools.ietf.org/html/rfc6585#page-3\n                    ((HttpServletResponse) response).sendError(429);\n                }\n            } \n            }\n        }\n</code></pre>\n\n<p><strong>Here is my sample class for activemq:-</strong></p>\n\n<pre><code>public class Qservlet extends HttpServlet {\n\n    /**\n     * \n     */\n    private static final long serialVersionUID = 1L;\n\n    public void doGet(HttpServletRequest request, HttpServletResponse response)\n            throws IOException, ServletException {\n            String body = \"\";\n        try {\n            // Create a ConnectionFactory\n\n            ConnectionFactory connectionFactory = new ActiveMQConnectionFactory(\"admin\", \"admin\", ActiveMQConnection.DEFAULT_BROKER_URL);\n\n            // Create a Connection\n\n            Connection connection = connectionFactory.createConnection();\n\n\n            Session session = connection.createSession(false,Session.AUTO_ACKNOWLEDGE);\n\n            Destination destination = session.createQueue(\"testQ\"); \n            TextMessage message = session.createTextMessage();\n            message.setText( \"My text message was send and received\");//\n            message.setJMSRedelivered(true);\n            message.setJMSCorrelationID(request.getSession().getId());\n\n            connection.start();\n\n            MessageProducer producer = session.createProducer(destination);\n            producer.setDeliveryMode(DeliveryMode.PERSISTENT);\n            producer.send(message);\n\n            message = null;\n            MessageConsumer consumer = session.createConsumer(destination);\n            message = (TextMessage) consumer.receive(1000);\n            if (message != null) {\n                body = message.getText();\n            }\n\n\n            producer.close();\n            consumer.close();\n            session.close();\n            connection.close();\n\n        } catch (Exception e) {\n            System.out.println(e.toString());\n        }\n\n    }\n\n}\n</code></pre>\n\n<p>Now if any request is coming in Limit Filter class, I am forwarding directly to the resources after some authentication mecanisam. Thats why I am using filter concept for catching all request. </p>\n\n<p>Second class is example class when i am running ; messaging is enquing and dequeueing; I can see in console for ActiveMq. </p>\n\n<p>In the first class I am simply writing <strong>\"chain.doFilter(request, response)\"</strong> to forward all http request to the respective resource. Now How to do here. Where to put the HTTP request. I need to handle each request asynchronously. REST is synchronous. </p>\n\n<p>Please suggest some way. and explain your answer.</p>\n\n<p>Thanks/Regards\nKumar Shorav</p>\n"},{"tags":["java","swing","jtree","textcolor"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1692884092,"post_id":76969747,"comment_id":135686788,"body_markdown":"You need to create a custom renderer. See [Customizing a JTrees Display](https://docs.oracle.com/javase/tutorial/uiswing/components/tree.html#display). The renderer would need some logic to know which node should be a different color.","body":"You need to create a custom renderer. See <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/tree.html#display\" rel=\"nofollow noreferrer\">Customizing a JTrees Display</a>. The renderer would need some logic to know which node should be a different color."}],"owner":{"account_id":29290882,"reputation":13,"user_id":22441389,"display_name":"Juan Alvarez"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1693115064,"creation_date":1692883451,"question_id":76969747,"body_markdown":"I know that I can change the text color using:\r\n\r\n```Java\r\nimport javax.swing.*;\r\nimport javax.swing.tree.DefaultMutableTreeNode;\r\nimport javax.swing.tree.DefaultTreeModel;\r\nimport java.awt.*;\r\n\r\npublic class UIManagerNodeColor {\r\n    public static void main(String[] args) {\r\n        SwingUtilities.invokeLater(() -&gt; {\r\n            JFrame frame = new JFrame(&quot;UIManager Node Color&quot;);\r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\r\n\r\n            UIManager.put(&quot;Tree.textForeground&quot;, Color.decode(&quot;#6FB2D2&quot;));\r\n\r\n            JTree tree = new JTree();\r\n\r\n            DefaultMutableTreeNode root = new DefaultMutableTreeNode(&quot;Root&quot;);\r\n            DefaultMutableTreeNode node1 = new DefaultMutableTreeNode(&quot;Node 1&quot;);\r\n            DefaultMutableTreeNode node2 = new DefaultMutableTreeNode(&quot;Node 2&quot;);\r\n\r\n            root.add(node1);\r\n            root.add(node2);\r\n\r\n\r\n            tree.setModel(new DefaultTreeModel(root));\r\n\r\n            frame.add(new JScrollPane(tree));\r\n            frame.setSize(300, 200);\r\n            frame.setLocationRelativeTo(null);\r\n            frame.setVisible(true);\r\n        });\r\n    }\r\n}\r\n```\r\n\r\n[this is the output:](https://i.stack.imgur.com/ypU5l.png)\r\n\r\n\r\nBy doing this all the node&#39;s text color is changed, but how should I do to change only the color of &quot;Node 1&quot;?\r\n","title":"How can I change the text color to certain elements of JTree but not to the whole tree?","body":"<p>I know that I can change the text color using:</p>\n<pre><code>import javax.swing.*;\nimport javax.swing.tree.DefaultMutableTreeNode;\nimport javax.swing.tree.DefaultTreeModel;\nimport java.awt.*;\n\npublic class UIManagerNodeColor {\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(() -&gt; {\n            JFrame frame = new JFrame(&quot;UIManager Node Color&quot;);\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n\n            UIManager.put(&quot;Tree.textForeground&quot;, Color.decode(&quot;#6FB2D2&quot;));\n\n            JTree tree = new JTree();\n\n            DefaultMutableTreeNode root = new DefaultMutableTreeNode(&quot;Root&quot;);\n            DefaultMutableTreeNode node1 = new DefaultMutableTreeNode(&quot;Node 1&quot;);\n            DefaultMutableTreeNode node2 = new DefaultMutableTreeNode(&quot;Node 2&quot;);\n\n            root.add(node1);\n            root.add(node2);\n\n\n            tree.setModel(new DefaultTreeModel(root));\n\n            frame.add(new JScrollPane(tree));\n            frame.setSize(300, 200);\n            frame.setLocationRelativeTo(null);\n            frame.setVisible(true);\n        });\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/ypU5l.png\" rel=\"nofollow noreferrer\">this is the output:</a></p>\n<p>By doing this all the node's text color is changed, but how should I do to change only the color of &quot;Node 1&quot;?</p>\n"},{"tags":["java","eclipse","tomcat","logging"],"comments":[{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":0,"creation_date":1336155463,"post_id":10453960,"comment_id":13498977,"body_markdown":"You actually seem to *have* the traceback and the line# - that should be enough to get you started.  It&#39;s entirely possible your Struts application might be logging to a different file.  Check your log4j.properties file (if you have one).","body":"You actually seem to <i>have</i> the traceback and the line# - that should be enough to get you started.  It&#39;s entirely possible your Struts application might be logging to a different file.  Check your log4j.properties file (if you have one)."},{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":1,"creation_date":1336155478,"post_id":10453960,"comment_id":13498981,"body_markdown":"possible duplicate of [500 internal server error on Tomcat7 while trying to do ajax getJson or post operation in jQuery + Struts2](http://stackoverflow.com/questions/10451269/500-internal-server-error-on-tomcat7-while-trying-to-do-ajax-getjson-or-post-ope)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/10451269/500-internal-server-error-on-tomcat7-while-trying-to-do-ajax-getjson-or-post-ope\">500 internal server error on Tomcat7 while trying to do ajax getJson or post operation in jQuery + Struts2</a>"},{"owner":{"account_id":1461272,"reputation":239,"user_id":1375539,"display_name":"Mandeep Singh"},"score":0,"creation_date":1336156774,"post_id":10453960,"comment_id":13499402,"body_markdown":"@paulsm4, its not a duplicate of that post because I want to know about the log files where the detailed information regarding the exception is given. Thanks.","body":"@paulsm4, its not a duplicate of that post because I want to know about the log files where the detailed information regarding the exception is given. Thanks."},{"owner":{"account_id":438909,"reputation":23723,"user_id":827480,"accept_rate":61,"display_name":"Eric B."},"score":0,"creation_date":1336159392,"post_id":10453960,"comment_id":13500364,"body_markdown":"Is this the catalina.out log file?  It would appear that this is one of the access log files (the name escapes me at the moment).","body":"Is this the catalina.out log file?  It would appear that this is one of the access log files (the name escapes me at the moment)."},{"owner":{"account_id":1461272,"reputation":239,"user_id":1375539,"display_name":"Mandeep Singh"},"score":0,"creation_date":1336162889,"post_id":10453960,"comment_id":13501642,"body_markdown":"Yup, thats correct. The excerpt shown above is from a localhost_access_log file. The files for all the handlers are being generated but none of them contains information about the &quot;NullPointerException&quot; stated above. I even tried to set the logging levels to &quot;ALL&quot; but get the same result. Where should I search for the &quot;NullPointerException&quot; ?","body":"Yup, thats correct. The excerpt shown above is from a localhost_access_log file. The files for all the handlers are being generated but none of them contains information about the &quot;NullPointerException&quot; stated above. I even tried to set the logging levels to &quot;ALL&quot; but get the same result. Where should I search for the &quot;NullPointerException&quot; ?"}],"answers":[{"tags":[],"owner":{"account_id":465863,"reputation":41382,"user_id":870248,"accept_rate":100,"display_name":"Paul Vargas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1336155881,"creation_date":1336155881,"answer_id":10454190,"question_id":10453960,"body_markdown":"I had some similar errors when I was using different versions of Apache Commons. For getting more details about these errors I changed the default loggind of Tomcat to [log4j][1]. You can see the detailed instructions in [Apache Tomcat 7 (7.0.27) - Logging in Tomcat][2]\r\n\r\nThis is xml example for `log4j` that I was using:\r\n\r\n    &lt;log4j:configuration xmlns:log4j=&quot;http://jakarta.apache.org/log4j/&quot;&gt;\r\n      &lt;appender name=&quot;STDOUT&quot; class=&quot;org.apache.log4j.ConsoleAppender&quot;&gt;\r\n        &lt;layout class=&quot;org.apache.log4j.PatternLayout&quot;&gt;\r\n          &lt;param name=&quot;ConversionPattern&quot; value=&quot;%d %-5p (%c.java:%L).%M - %m%n&quot; /&gt;\r\n        &lt;/layout&gt;\r\n      &lt;/appender&gt;\r\n      &lt;!-- CATALINA --&gt;\r\n      &lt;logger name=&quot;org.apache.catalina.session&quot;&gt;\r\n        &lt;level value=&quot;INFO&quot; /&gt;\r\n      &lt;/logger&gt;\r\n      &lt;!-- TOMCAT --&gt;\r\n      &lt;/logger&gt;\r\n      &lt;logger name=&quot;org.apache.jasper.compiler&quot;&gt;\r\n         &lt;level value=&quot;INFO&quot; /&gt;\r\n      &lt;/logger&gt;\r\n      &lt;!-- COMMONS --&gt;\r\n      &lt;logger name=&quot;org.apache.commons.digester&quot;&gt;\r\n         &lt;level value=&quot;INFO&quot; /&gt;\r\n      &lt;/logger&gt;\r\n      &lt;root&gt;\r\n        &lt;priority value=&quot;TRACE&quot; /&gt;\r\n        &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\r\n      &lt;/root&gt;\r\n    &lt;/log4j:configuration&gt;\r\n\r\nI hope that this can hep you.\r\n\r\n  [1]: http://logging.apache.org/log4j/1.2/\r\n  [2]: http://tomcat.apache.org/tomcat-7.0-doc/logging.html\r\n\r\n","title":"Accessing Detailed logs in Tomcat","body":"<p>I had some similar errors when I was using different versions of Apache Commons. For getting more details about these errors I changed the default loggind of Tomcat to <a href=\"http://logging.apache.org/log4j/1.2/\" rel=\"nofollow\">log4j</a>. You can see the detailed instructions in <a href=\"http://tomcat.apache.org/tomcat-7.0-doc/logging.html\" rel=\"nofollow\">Apache Tomcat 7 (7.0.27) - Logging in Tomcat</a></p>\n\n<p>This is xml example for <code>log4j</code> that I was using:</p>\n\n<pre><code>&lt;log4j:configuration xmlns:log4j=\"http://jakarta.apache.org/log4j/\"&gt;\n  &lt;appender name=\"STDOUT\" class=\"org.apache.log4j.ConsoleAppender\"&gt;\n    &lt;layout class=\"org.apache.log4j.PatternLayout\"&gt;\n      &lt;param name=\"ConversionPattern\" value=\"%d %-5p (%c.java:%L).%M - %m%n\" /&gt;\n    &lt;/layout&gt;\n  &lt;/appender&gt;\n  &lt;!-- CATALINA --&gt;\n  &lt;logger name=\"org.apache.catalina.session\"&gt;\n    &lt;level value=\"INFO\" /&gt;\n  &lt;/logger&gt;\n  &lt;!-- TOMCAT --&gt;\n  &lt;/logger&gt;\n  &lt;logger name=\"org.apache.jasper.compiler\"&gt;\n     &lt;level value=\"INFO\" /&gt;\n  &lt;/logger&gt;\n  &lt;!-- COMMONS --&gt;\n  &lt;logger name=\"org.apache.commons.digester\"&gt;\n     &lt;level value=\"INFO\" /&gt;\n  &lt;/logger&gt;\n  &lt;root&gt;\n    &lt;priority value=\"TRACE\" /&gt;\n    &lt;appender-ref ref=\"STDOUT\" /&gt;\n  &lt;/root&gt;\n&lt;/log4j:configuration&gt;\n</code></pre>\n\n<p>I hope that this can hep you.</p>\n"},{"tags":[],"owner":{"account_id":1684792,"reputation":1168,"user_id":1548296,"accept_rate":20,"display_name":"Balwant Kumar Singh"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1352720647,"creation_date":1352720647,"answer_id":13343123,"question_id":10453960,"body_markdown":"I had the same problem. I removed the unused project that was referenced in **properties-&gt;Java Build Path-&gt;Projects**. It was showing that xyz(project Name) is missing.\r\nI removed xyz. \r\n\r\nSometimes you can check in **properties-&gt;Java Build Path-&gt;libraries** whether any jar is missing. If so, you can add that jar from the classpath. ","title":"Accessing Detailed logs in Tomcat","body":"<p>I had the same problem. I removed the unused project that was referenced in <strong>properties->Java Build Path->Projects</strong>. It was showing that xyz(project Name) is missing.\nI removed xyz. </p>\n\n<p>Sometimes you can check in <strong>properties->Java Build Path->libraries</strong> whether any jar is missing. If so, you can add that jar from the classpath. </p>\n"}],"owner":{"account_id":1461272,"reputation":239,"user_id":1375539,"display_name":"Mandeep Singh"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32108,"favorite_count":0,"down_vote_count":1,"up_vote_count":7,"answer_count":2,"score":6,"last_activity_date":1693112790,"creation_date":1336154920,"question_id":10453960,"body_markdown":"while executing a small application in Eclipse, I get an Http Status 500 error from the Tomcat server that I am running through Eclipse itself...\r\n\r\n    HTTP Status 500 -   \r\n  \r\n    --------------------------------------------------------------------------------  \r\n  \r\n    type Exception report  \r\n  \r\n    message   \r\n  \r\n    description The server encountered an internal error () that prevented it from fulfilling this request.  \r\n  \r\n    exception   \r\n  \r\n    java.lang.NullPointerException  \r\n        org.apache.struts2.impl.StrutsActionProxy.getErrorMessage   (StrutsActionProxy.java:69)  \r\n        com.opensymphony.xwork2.DefaultActionProxy.prepare(DefaultActionProxy.java:185)  \r\n        org.apache.struts2.impl.StrutsActionProxy.prepare(StrutsActionProxy.java:63)  \r\n        org.apache.struts2.impl.StrutsActionProxyFactory.createActionProxy(StrutsActionProxyFactory.java:39)  \r\n        com.opensymphony.xwork2.DefaultActionProxyFactory.createActionProxy(DefaultActionProxyFactory.java:58)  \r\n        org.apache.struts2.dispatcher.Dispatcher.serviceAction(Dispatcher.java:500)  \r\n        org.apache.struts2.dispatcher.FilterDispatcher.doFilter(FilterDispatcher.java:434)  \r\n  \r\n  \r\n     note The full stack trace of the root cause is available in the Apache Tomcat/7.0.8 logs. \r\n\r\nThis message from the server says that error was caused by a &quot;NullPointerException&quot;. The last line says that &quot;full stack trace is available in Apache Tomcat/7.0.8 logs.\r\nI have checked the logs created in my workspace ( ${catalina.base} is set to a folder in my workspace) but the logs don&#39;t provide any details about the &quot;NullPointerException&quot;. The only thing present in the logs is...\r\n\r\n    0:0:0:0:0:0:0:1 - - [03/May/2012:15:19:16 +0530] &quot;GET /KurniawanChap02Struts/ HTTP/1.1&quot; 500 1789\r\n\r\nI have also tried increasing the &quot;logging levels&quot; but even that doesn&#39;t help. \r\nWhat should I do to access the detailed logs of the server ?","title":"Accessing Detailed logs in Tomcat","body":"<p>while executing a small application in Eclipse, I get an Http Status 500 error from the Tomcat server that I am running through Eclipse itself...</p>\n\n<pre><code>HTTP Status 500 -   \n\n--------------------------------------------------------------------------------  \n\ntype Exception report  \n\nmessage   \n\ndescription The server encountered an internal error () that prevented it from fulfilling this request.  \n\nexception   \n\njava.lang.NullPointerException  \n    org.apache.struts2.impl.StrutsActionProxy.getErrorMessage   (StrutsActionProxy.java:69)  \n    com.opensymphony.xwork2.DefaultActionProxy.prepare(DefaultActionProxy.java:185)  \n    org.apache.struts2.impl.StrutsActionProxy.prepare(StrutsActionProxy.java:63)  \n    org.apache.struts2.impl.StrutsActionProxyFactory.createActionProxy(StrutsActionProxyFactory.java:39)  \n    com.opensymphony.xwork2.DefaultActionProxyFactory.createActionProxy(DefaultActionProxyFactory.java:58)  \n    org.apache.struts2.dispatcher.Dispatcher.serviceAction(Dispatcher.java:500)  \n    org.apache.struts2.dispatcher.FilterDispatcher.doFilter(FilterDispatcher.java:434)  \n\n\n note The full stack trace of the root cause is available in the Apache Tomcat/7.0.8 logs. \n</code></pre>\n\n<p>This message from the server says that error was caused by a \"NullPointerException\". The last line says that \"full stack trace is available in Apache Tomcat/7.0.8 logs.\nI have checked the logs created in my workspace ( ${catalina.base} is set to a folder in my workspace) but the logs don't provide any details about the \"NullPointerException\". The only thing present in the logs is...</p>\n\n<pre><code>0:0:0:0:0:0:0:1 - - [03/May/2012:15:19:16 +0530] \"GET /KurniawanChap02Struts/ HTTP/1.1\" 500 1789\n</code></pre>\n\n<p>I have also tried increasing the \"logging levels\" but even that doesn't help. \nWhat should I do to access the detailed logs of the server ?</p>\n"},{"tags":["java","apache-flink","flink-streaming"],"comments":[{"owner":{"account_id":2119809,"reputation":50937,"user_id":1883316,"display_name":"Tim Roberts"},"score":2,"creation_date":1693096479,"post_id":76985285,"comment_id":135715045,"body_markdown":"Streams run in threads.  Threads do not run in any particular order.  If you need the output to be in order, then you don&#39;t really want asynchronous processing.","body":"Streams run in threads.  Threads do not run in any particular order.  If you need the output to be in order, then you don&#39;t really want asynchronous processing."},{"owner":{"account_id":4032106,"reputation":16084,"user_id":3317808,"accept_rate":54,"display_name":"overexchange"},"score":0,"creation_date":1693098067,"post_id":76985285,"comment_id":135715130,"body_markdown":"@TimRoberts how to enable ordering?","body":"@TimRoberts how to enable ordering?"},{"owner":{"account_id":2119809,"reputation":50937,"user_id":1883316,"display_name":"Tim Roberts"},"score":2,"creation_date":1693098420,"post_id":76985285,"comment_id":135715148,"body_markdown":"You don&#39;t enable ordering.  That&#39;s inherent to threading.  If you need the results ordered, then you sort them after they are finished.","body":"You don&#39;t enable ordering.  That&#39;s inherent to threading.  If you need the results ordered, then you sort them after they are finished."}],"answers":[{"tags":[],"owner":{"account_id":24792239,"reputation":413,"user_id":18675173,"display_name":"lant"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1693112327,"creation_date":1693112327,"answer_id":76985770,"question_id":76985285,"body_markdown":"There is a concept of parallelism in Flink, which you can think of as having multiple threads working simultaneously. When there is no clear parallelism in the code, the number of CPUs will be used as the default parallelism.  This also explains why there are 8 sinks.\r\n\r\nSo in your code, these five tuples are executed in different threads, so multiple threads work simultaneously, and the final output is not orderly.\r\n\r\nWhen these tuples are executed in the same thread, their output results are ordered, which is the order of the elements you define.You can set the global parallelism to 1 by setting it this way\r\n`env.setParallelism(1);`, but this will reduce the efficiency of processing.\r\n\r\nIf you want to achieve order under multiple degrees of parallelism, you can only change the parallelism during sink and process them in the same thread.","title":"Flink - Why the bounded stream print out of order sequence?","body":"<p>There is a concept of parallelism in Flink, which you can think of as having multiple threads working simultaneously. When there is no clear parallelism in the code, the number of CPUs will be used as the default parallelism.  This also explains why there are 8 sinks.</p>\n<p>So in your code, these five tuples are executed in different threads, so multiple threads work simultaneously, and the final output is not orderly.</p>\n<p>When these tuples are executed in the same thread, their output results are ordered, which is the order of the elements you define.You can set the global parallelism to 1 by setting it this way\n<code>env.setParallelism(1);</code>, but this will reduce the efficiency of processing.</p>\n<p>If you want to achieve order under multiple degrees of parallelism, you can only change the parallelism during sink and process them in the same thread.</p>\n"}],"owner":{"account_id":4032106,"reputation":16084,"user_id":3317808,"accept_rate":54,"display_name":"overexchange"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76985770,"answer_count":1,"score":0,"last_activity_date":1693112327,"creation_date":1693095044,"question_id":76985285,"body_markdown":"In the below code:\r\n\r\n        StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\r\n\r\n        DataStreamSource&lt;Tuple2&lt;String, Integer&gt;&gt; dataStream = env.fromElements(\r\n            Tuple2.of(&quot;01&quot;, 1),\r\n            Tuple2.of(&quot;02&quot;, 2),\r\n            Tuple2.of(&quot;03&quot;, 3),\r\n            Tuple2.of(&quot;04&quot;, 4),\r\n            Tuple2.of(&quot;05&quot;, 5)\r\n            );  \r\n        dataStream.print();\r\n\r\n\r\n--------\r\n\r\nOutput shows:\r\n\r\n    \tConnected to JobManager at Actor[akka://flink/user/jobmanager_1#-1227405543]\r\n    08/26/2023 19:00:45     Job execution switched to status RUNNING.\r\n    08/26/2023 19:00:45     Source: Collection Source(1/1) switched to SCHEDULED\r\n    08/26/2023 19:00:45     Source: Collection Source(1/1) switched to DEPLOYING\r\n    08/26/2023 19:00:45     Sink: Unnamed(1/8) switched to SCHEDULED \r\n    08/26/2023 19:00:45     Sink: Unnamed(1/8) switched to DEPLOYING\r\n    08/26/2023 19:00:45     Sink: Unnamed(2/8) switched to SCHEDULED\r\n    08/26/2023 19:00:45     Sink: Unnamed(2/8) switched to DEPLOYING\r\n    08/26/2023 19:00:45     Sink: Unnamed(3/8) switched to SCHEDULED\r\n    08/26/2023 19:00:45     Sink: Unnamed(3/8) switched to DEPLOYING\r\n    08/26/2023 19:00:45     Sink: Unnamed(4/8) switched to SCHEDULED\r\n    08/26/2023 19:00:45     Sink: Unnamed(4/8) switched to DEPLOYING\r\n    08/26/2023 19:00:45     Sink: Unnamed(5/8) switched to SCHEDULED\r\n    08/26/2023 19:00:45     Sink: Unnamed(5/8) switched to DEPLOYING \r\n    08/26/2023 19:00:45     Sink: Unnamed(6/8) switched to SCHEDULED\r\n    08/26/2023 19:00:45     Sink: Unnamed(6/8) switched to DEPLOYING\r\n    08/26/2023 19:00:45     Sink: Unnamed(7/8) switched to SCHEDULED\r\n    08/26/2023 19:00:45     Sink: Unnamed(7/8) switched to DEPLOYING\r\n    08/26/2023 19:00:45     Sink: Unnamed(8/8) switched to SCHEDULED\r\n    08/26/2023 19:00:45     Sink: Unnamed(8/8) switched to DEPLOYING\r\n    08/26/2023 19:00:45     Sink: Unnamed(3/8) switched to RUNNING \r\n    08/26/2023 19:00:45     Sink: Unnamed(4/8) switched to RUNNING\r\n    08/26/2023 19:00:45     Sink: Unnamed(2/8) switched to RUNNING\r\n    08/26/2023 19:00:45     Source: Collection Source(1/1) switched to RUNNING\r\n    08/26/2023 19:00:45     Sink: Unnamed(1/8) switched to RUNNING\r\n    08/26/2023 19:00:45     Sink: Unnamed(5/8) switched to RUNNING\r\n    08/26/2023 19:00:45     Sink: Unnamed(6/8) switched to RUNNING\r\n    08/26/2023 19:00:45     Sink: Unnamed(8/8) switched to RUNNING\r\n    08/26/2023 19:00:45     Sink: Unnamed(7/8) switched to RUNNING\r\n    5&gt; (05,5)\r\n    1&gt; (01,1)\r\n    3&gt; (03,3)\r\n    2&gt; (02,2)\r\n    4&gt; (04,4)\r\n    08/26/2023 19:00:45     Source: Collection Source(1/1) switched to FINISHED\r\n    08/26/2023 19:00:45     Sink: Unnamed(6/8) switched to FINISHED \r\n    08/26/2023 19:00:45     Sink: Unnamed(5/8) switched to FINISHED\r\n    08/26/2023 19:00:45     Sink: Unnamed(8/8) switched to FINISHED\r\n    08/26/2023 19:00:45     Sink: Unnamed(7/8) switched to FINISHED\r\n    08/26/2023 19:00:45     Sink: Unnamed(1/8) switched to FINISHED\r\n    08/26/2023 19:00:45     Sink: Unnamed(3/8) switched to FINISHED\r\n    08/26/2023 19:00:45     Sink: Unnamed(2/8) switched to FINISHED\r\n    08/26/2023 19:00:45     Sink: Unnamed(4/8) switched to FINISHED\r\n    08/26/2023 19:00:45     Job execution switched to status FINISHED.\r\n\r\n---------\r\n\r\n1) Why the output shows the stream, out of order? How to enable order in sequencing?\r\n\r\n       5&gt; (05,5)\r\n       1&gt; (01,1)\r\n       3&gt; (03,3)\r\n       2&gt; (02,2)\r\n       4&gt; (04,4)\r\n\r\n2) Why multiple sinks(almost 8) are enabled, as per trace?\r\n","title":"Flink - Why the bounded stream print out of order sequence?","body":"<p>In the below code:</p>\n<pre><code>    StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\n\n    DataStreamSource&lt;Tuple2&lt;String, Integer&gt;&gt; dataStream = env.fromElements(\n        Tuple2.of(&quot;01&quot;, 1),\n        Tuple2.of(&quot;02&quot;, 2),\n        Tuple2.of(&quot;03&quot;, 3),\n        Tuple2.of(&quot;04&quot;, 4),\n        Tuple2.of(&quot;05&quot;, 5)\n        );  \n    dataStream.print();\n</code></pre>\n<hr />\n<p>Output shows:</p>\n<pre><code>    Connected to JobManager at Actor[akka://flink/user/jobmanager_1#-1227405543]\n08/26/2023 19:00:45     Job execution switched to status RUNNING.\n08/26/2023 19:00:45     Source: Collection Source(1/1) switched to SCHEDULED\n08/26/2023 19:00:45     Source: Collection Source(1/1) switched to DEPLOYING\n08/26/2023 19:00:45     Sink: Unnamed(1/8) switched to SCHEDULED \n08/26/2023 19:00:45     Sink: Unnamed(1/8) switched to DEPLOYING\n08/26/2023 19:00:45     Sink: Unnamed(2/8) switched to SCHEDULED\n08/26/2023 19:00:45     Sink: Unnamed(2/8) switched to DEPLOYING\n08/26/2023 19:00:45     Sink: Unnamed(3/8) switched to SCHEDULED\n08/26/2023 19:00:45     Sink: Unnamed(3/8) switched to DEPLOYING\n08/26/2023 19:00:45     Sink: Unnamed(4/8) switched to SCHEDULED\n08/26/2023 19:00:45     Sink: Unnamed(4/8) switched to DEPLOYING\n08/26/2023 19:00:45     Sink: Unnamed(5/8) switched to SCHEDULED\n08/26/2023 19:00:45     Sink: Unnamed(5/8) switched to DEPLOYING \n08/26/2023 19:00:45     Sink: Unnamed(6/8) switched to SCHEDULED\n08/26/2023 19:00:45     Sink: Unnamed(6/8) switched to DEPLOYING\n08/26/2023 19:00:45     Sink: Unnamed(7/8) switched to SCHEDULED\n08/26/2023 19:00:45     Sink: Unnamed(7/8) switched to DEPLOYING\n08/26/2023 19:00:45     Sink: Unnamed(8/8) switched to SCHEDULED\n08/26/2023 19:00:45     Sink: Unnamed(8/8) switched to DEPLOYING\n08/26/2023 19:00:45     Sink: Unnamed(3/8) switched to RUNNING \n08/26/2023 19:00:45     Sink: Unnamed(4/8) switched to RUNNING\n08/26/2023 19:00:45     Sink: Unnamed(2/8) switched to RUNNING\n08/26/2023 19:00:45     Source: Collection Source(1/1) switched to RUNNING\n08/26/2023 19:00:45     Sink: Unnamed(1/8) switched to RUNNING\n08/26/2023 19:00:45     Sink: Unnamed(5/8) switched to RUNNING\n08/26/2023 19:00:45     Sink: Unnamed(6/8) switched to RUNNING\n08/26/2023 19:00:45     Sink: Unnamed(8/8) switched to RUNNING\n08/26/2023 19:00:45     Sink: Unnamed(7/8) switched to RUNNING\n5&gt; (05,5)\n1&gt; (01,1)\n3&gt; (03,3)\n2&gt; (02,2)\n4&gt; (04,4)\n08/26/2023 19:00:45     Source: Collection Source(1/1) switched to FINISHED\n08/26/2023 19:00:45     Sink: Unnamed(6/8) switched to FINISHED \n08/26/2023 19:00:45     Sink: Unnamed(5/8) switched to FINISHED\n08/26/2023 19:00:45     Sink: Unnamed(8/8) switched to FINISHED\n08/26/2023 19:00:45     Sink: Unnamed(7/8) switched to FINISHED\n08/26/2023 19:00:45     Sink: Unnamed(1/8) switched to FINISHED\n08/26/2023 19:00:45     Sink: Unnamed(3/8) switched to FINISHED\n08/26/2023 19:00:45     Sink: Unnamed(2/8) switched to FINISHED\n08/26/2023 19:00:45     Sink: Unnamed(4/8) switched to FINISHED\n08/26/2023 19:00:45     Job execution switched to status FINISHED.\n</code></pre>\n<hr />\n<ol>\n<li><p>Why the output shows the stream, out of order? How to enable order in sequencing?</p>\n<pre><code>5&gt; (05,5)\n1&gt; (01,1)\n3&gt; (03,3)\n2&gt; (02,2)\n4&gt; (04,4)\n</code></pre>\n</li>\n<li><p>Why multiple sinks(almost 8) are enabled, as per trace?</p>\n</li>\n</ol>\n"},{"tags":["java","android","kotlin","android-room","android-architecture-components"],"comments":[{"owner":{"account_id":21390158,"reputation":801,"user_id":15754377,"display_name":"Vivek Gupta"},"score":0,"creation_date":1693046844,"post_id":76982259,"comment_id":135710160,"body_markdown":"All those examples might have taken approach for simplicity but you shouldn&#39;t put observer inside an onClickListener.  Usually, change in the event should propagate to viewmodel and viewModel revert back action and observer observe the change and change the ui accordingly.","body":"All those examples might have taken approach for simplicity but you shouldn&#39;t put observer inside an onClickListener.  Usually, change in the event should propagate to viewmodel and viewModel revert back action and observer observe the change and change the ui accordingly."},{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1693051142,"post_id":76982259,"comment_id":135710584,"body_markdown":"From what you’ve shown, this does leak observers. There will be obsolete observers sitting in memory for almost every character typed or deleted until the Fragment’s view is destroyed. Even worse, if these observers come from Room, they will all be running queries every time the database is modified until they are released.","body":"From what you’ve shown, this does leak observers. There will be obsolete observers sitting in memory for almost every character typed or deleted until the Fragment’s view is destroyed. Even worse, if these observers come from Room, they will all be running queries every time the database is modified until they are released."},{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1693051565,"post_id":76982259,"comment_id":135710640,"body_markdown":"But maybe `ViewModel.searchAllDatabase()` has a “clever” implementation under the hood that removes observers from any previous LiveData it has returned. That would be kind of a sloppy design in my opinion, though.","body":"But maybe <code>ViewModel.searchAllDatabase()</code> has a “clever” implementation under the hood that removes observers from any previous LiveData it has returned. That would be kind of a sloppy design in my opinion, though."},{"owner":{"account_id":23333457,"reputation":9,"user_id":17409496,"display_name":"Emz"},"score":0,"creation_date":1693063239,"post_id":76982259,"comment_id":135711808,"body_markdown":"@VivekGupta What if we define a searchQuery variable of type LiveData&lt;String&gt; in the viewModel. and add an observer for this variable inside the fragment?","body":"@VivekGupta What if we define a searchQuery variable of type LiveData&lt;String&gt; in the viewModel. and add an observer for this variable inside the fragment?"},{"owner":{"account_id":23333457,"reputation":9,"user_id":17409496,"display_name":"Emz"},"score":0,"creation_date":1693063305,"post_id":76982259,"comment_id":135711819,"body_markdown":"@Tenfour04 What is the solution?","body":"@Tenfour04 What is the solution?"}],"answers":[{"tags":[],"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1693111572,"creation_date":1693111572,"answer_id":76985753,"question_id":76982259,"body_markdown":"From what you’ve shown, this does leak observers. There will be obsolete observers sitting in memory for almost every character typed or deleted until the Fragment’s view is destroyed. Even worse, if these observers come from Room, they will all be running queries every time the database is modified until they are released.\r\n\r\nOne way to avoid this would be to use a switch map operation based on the search query. The switch map operation does exactly what we want…when there is new data, it cancels observing the previous LiveData and starts a new one. This is done under its own hood, so to an outside observer, it’s just a single LiveData stream. \r\n\r\nIn the ViewModel, something like this:\r\n\r\n\r\n```\r\nprivate val searchQuery = MutableLiveData(&quot;&quot;)\r\n\r\nval queryText: String\r\n    get() = searchQuery.value\r\n    set(value) { searchQuery.value = value }\r\n\r\nval searchedData = searchQuery.switchMap { query -&gt;\r\n    if (query.isEmpty()) repo.allData else repo.searchAll(query)\r\n}\r\n```\r\nNow in your UI classes you only observe `viewModel.searchedData` a single time in `onViewCreated()` and do nothing but set the new value of `ViewModel.queryText` in `onQueryTextChange()`. \r\n\r\n\r\n___\r\nRegarding your proposed solution, there are a couple of drawbacks. \r\n\r\nFirst, it is really hacky to be trying read the `value` of a LiveData directly instead of observing it. In this case it leaves open the possibility of the user typing a letter before the `allData` gets its first value set, leaving the screen blank until the user types again. \r\n\r\nSecond, you are manually sifting through the data to perform the search yourself, which is likely less efficient than letting the repository do it. Databases are optimized for that kind of thing. ","title":"Potential memory leaks when using searchView along with ROOM database and live data","body":"<p>From what you’ve shown, this does leak observers. There will be obsolete observers sitting in memory for almost every character typed or deleted until the Fragment’s view is destroyed. Even worse, if these observers come from Room, they will all be running queries every time the database is modified until they are released.</p>\n<p>One way to avoid this would be to use a switch map operation based on the search query. The switch map operation does exactly what we want…when there is new data, it cancels observing the previous LiveData and starts a new one. This is done under its own hood, so to an outside observer, it’s just a single LiveData stream.</p>\n<p>In the ViewModel, something like this:</p>\n<pre><code>private val searchQuery = MutableLiveData(&quot;&quot;)\n\nval queryText: String\n    get() = searchQuery.value\n    set(value) { searchQuery.value = value }\n\nval searchedData = searchQuery.switchMap { query -&gt;\n    if (query.isEmpty()) repo.allData else repo.searchAll(query)\n}\n</code></pre>\n<p>Now in your UI classes you only observe <code>viewModel.searchedData</code> a single time in <code>onViewCreated()</code> and do nothing but set the new value of <code>ViewModel.queryText</code> in <code>onQueryTextChange()</code>.</p>\n<hr />\n<p>Regarding your proposed solution, there are a couple of drawbacks.</p>\n<p>First, it is really hacky to be trying read the <code>value</code> of a LiveData directly instead of observing it. In this case it leaves open the possibility of the user typing a letter before the <code>allData</code> gets its first value set, leaving the screen blank until the user types again.</p>\n<p>Second, you are manually sifting through the data to perform the search yourself, which is likely less efficient than letting the repository do it. Databases are optimized for that kind of thing.</p>\n"}],"owner":{"account_id":23333457,"reputation":9,"user_id":17409496,"display_name":"Emz"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76985753,"answer_count":1,"score":0,"last_activity_date":1693111572,"creation_date":1693040785,"question_id":76982259,"body_markdown":"I&#39;m looking to implement a SearchView feature in an app that utilizes the ROOM library. During my online research, I noticed that many examples follow a pattern similar to the one below: \r\n\r\n    override fun onQueryTextChange(newText: String?): Boolean {\r\n            if (newText != null) {\r\n                mViewModel.searchAllDatabase(newText).observe(viewLifecycleOwner){\r\n                    ...\r\n                }\r\n            }\r\n            return true\r\n        }\r\n\r\nNow, I&#39;m curious to know if I&#39;m getting the whole thing right. Could it be the case that with this approach, a new observer is created each time a user enters a new letter and the onQueryTextChange method is triggered? If that&#39;s the case, does this potentially lead to memory leaks? Or, on the other hand, does the viewLifecycleOwner automatically handle these observers, ensuring they are disposed of when they&#39;re no longer needed?\r\n\r\nEdit:what if we follow this approach:\r\n\r\n    override fun onQueryTextChange(newText: String?): Boolean {\r\n            if (newText != null) viewModel.searchQuery.value = newText\r\n            return true\r\n        }\r\nInside onViewCreated:\r\n\r\n    viewModel.allData.observe(viewLifecycleOwner) {\r\n            adapter.setData(it)\r\n        }\r\n    viewModel.searchQuery.observe(viewLifecycleOwner) { query -&gt;\r\n            if (viewModel.allData.value != null) {\r\n                adapter.setData(viewModel.allData.value!!.filter { it.title.contains(query) })\r\n            }\r\n        }\r\n\r\n","title":"Potential memory leaks when using searchView along with ROOM database and live data","body":"<p>I'm looking to implement a SearchView feature in an app that utilizes the ROOM library. During my online research, I noticed that many examples follow a pattern similar to the one below:</p>\n<pre><code>override fun onQueryTextChange(newText: String?): Boolean {\n        if (newText != null) {\n            mViewModel.searchAllDatabase(newText).observe(viewLifecycleOwner){\n                ...\n            }\n        }\n        return true\n    }\n</code></pre>\n<p>Now, I'm curious to know if I'm getting the whole thing right. Could it be the case that with this approach, a new observer is created each time a user enters a new letter and the onQueryTextChange method is triggered? If that's the case, does this potentially lead to memory leaks? Or, on the other hand, does the viewLifecycleOwner automatically handle these observers, ensuring they are disposed of when they're no longer needed?</p>\n<p>Edit:what if we follow this approach:</p>\n<pre><code>override fun onQueryTextChange(newText: String?): Boolean {\n        if (newText != null) viewModel.searchQuery.value = newText\n        return true\n    }\n</code></pre>\n<p>Inside onViewCreated:</p>\n<pre><code>viewModel.allData.observe(viewLifecycleOwner) {\n        adapter.setData(it)\n    }\nviewModel.searchQuery.observe(viewLifecycleOwner) { query -&gt;\n        if (viewModel.allData.value != null) {\n            adapter.setData(viewModel.allData.value!!.filter { it.title.contains(query) })\n        }\n    }\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1693102355,"post_id":76985334,"comment_id":135715362,"body_markdown":"First time seeing `%3A+Could+not+initialize+class+`, but I&#39;ve seen `NoClassDefFoundError` be thrown when the static initialization of a class failed (e.g. an exception being thrown). Those files noted in the linked duplicates may have new names now (since the answer is dated 2015, which was Java 8-11 era). More information regarding the error (e.g. a stack trace) would be helpful, or some type of reproducible example. Without those debugging details, we&#39;re left shooting in the dark.","body":"First time seeing <code>%3A+Could+not+initialize+class+</code>, but I&#39;ve seen <code>NoClassDefFoundError</code> be thrown when the static initialization of a class failed (e.g. an exception being thrown). Those files noted in the linked duplicates may have new names now (since the answer is dated 2015, which was Java 8-11 era). More information regarding the error (e.g. a stack trace) would be helpful, or some type of reproducible example. Without those debugging details, we&#39;re left shooting in the dark."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1693108972,"creation_date":1693107074,"answer_id":76985611,"question_id":76985334,"body_markdown":"Pentaho 9.3 is supported on Java 11; see [What&#39;s new in Pentaho 9.3](https://help.hitachivantara.com/Documentation/Pentaho/Data_Integration_and_Analytics/9.3/What%27s_new_in_Pentaho_9.3).\r\n\r\nWhat you are seeing is due to your attempting to run it on Java 20.  In Java 17, the security manager framework has been deprecated (see https://openjdk.org/jeps/411), and in Java 18 they started the process of dismantling it and removing it from the OpenJDK code base.  \r\n\r\nIt *appears* that Pentaho 9.3 startup depends on the security manager and/or on the obsolete&lt;sup&gt;1&lt;/sup&gt; crypto export policy JAR files that apparently have been removed&lt;sup&gt;2&lt;/sup&gt;; see https://stackoverflow.com/questions/65221732.  You didn&#39;t provide full stacktraces so we can&#39;t diagnose this fully.\r\n\r\n&lt;sup&gt;1 - Full strength crypto support is now enabled by default in all current builds of Java 8 and later.  The policy JARs have been obsolete for over 5 years; see https://bugs.openjdk.org/browse/JDK-8170157.&lt;br&gt;\r\n2 - I couldn&#39;t track down precisely when they were removed.&lt;/sup&gt;\r\n\r\n------------------\r\n\r\n&gt; What should I do?\r\n\r\nMy recommendation would be to use Java 11 until the vendor releases a Pentaho version that *they say* supports Java 17 LTS or the soon to be released Java 21 LTS.  \r\n\r\nTrying to get Pentaho (any version!) to work on a non-LTS Java version seems pointless.  Non-LTS Java versions only last 6 months anyway.  Java 20 will be end-of-life in under a month from now!","title":"local_policy.jar in JDK 20 and JRE 1.8","body":"<p>Pentaho 9.3 is supported on Java 11; see <a href=\"https://help.hitachivantara.com/Documentation/Pentaho/Data_Integration_and_Analytics/9.3/What%27s_new_in_Pentaho_9.3\" rel=\"nofollow noreferrer\">What's new in Pentaho 9.3</a>.</p>\n<p>What you are seeing is due to your attempting to run it on Java 20.  In Java 17, the security manager framework has been deprecated (see <a href=\"https://openjdk.org/jeps/411\" rel=\"nofollow noreferrer\">https://openjdk.org/jeps/411</a>), and in Java 18 they started the process of dismantling it and removing it from the OpenJDK code base.</p>\n<p>It <em>appears</em> that Pentaho 9.3 startup depends on the security manager and/or on the obsolete<sup>1</sup> crypto export policy JAR files that apparently have been removed<sup>2</sup>; see <a href=\"https://stackoverflow.com/questions/65221732\">Use of Local_policy.jar and US_export_policy.jar</a>.  You didn't provide full stacktraces so we can't diagnose this fully.</p>\n<p><sup>1 - Full strength crypto support is now enabled by default in all current builds of Java 8 and later.  The policy JARs have been obsolete for over 5 years; see <a href=\"https://bugs.openjdk.org/browse/JDK-8170157\" rel=\"nofollow noreferrer\">https://bugs.openjdk.org/browse/JDK-8170157</a>.<br>\n2 - I couldn't track down precisely when they were removed.</sup></p>\n<hr />\n<blockquote>\n<p>What should I do?</p>\n</blockquote>\n<p>My recommendation would be to use Java 11 until the vendor releases a Pentaho version that <em>they say</em> supports Java 17 LTS or the soon to be released Java 21 LTS.</p>\n<p>Trying to get Pentaho (any version!) to work on a non-LTS Java version seems pointless.  Non-LTS Java versions only last 6 months anyway.  Java 20 will be end-of-life in under a month from now!</p>\n"}],"owner":{"account_id":18264897,"reputation":340,"user_id":13296852,"display_name":"Akari Oozora"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76985611,"answer_count":1,"score":0,"last_activity_date":1693110705,"creation_date":1693096585,"question_id":76985334,"body_markdown":"I&#39;m trying to perform a transformation on Pentaho 9.3 using a database on my machine (localhost).\r\n\r\nWhenever I try to run, it returns the following error: `java.lang.noclassdeffounderror: Could not initialize class javax.crypto.JceSecurity`\r\n\r\nSearching for the error, I found this question on SO: https://stackoverflow.com/questions/29301407/java-lang-noclassdeffounderror-could-not-initialize-class-javax-crypto-jcesecur\r\n\r\n\r\n&gt; Make sure the following files on executing JRE is NOT corrupted/modified/deleted.   \r\n   jre\\lib\\security\\local_policy.jar\r\n   jre\\lib\\security\\US_export_policy.jar \r\n\r\nHowever, I didn&#39;t find either of these files. I have searched on both JDK 17 and 20 and JRE 1.8 files, all fresh installations.\r\n\r\nWhat should I do?\r\n\r\nAdding stack trace for a greater context:\r\n\r\n```\r\n2023/08/27 01:09:37 - Spoon - Running transformation using the Kettle execution engine\r\n2023/08/27 01:09:37 - Spoon - Transformation opened.\r\n2023/08/27 01:09:37 - Spoon - Launching transformation [Transf 01 Importa Dados 2005 para DS]...\r\n2023/08/27 01:09:37 - Spoon - Started the transformation execution.\r\n2023/08/27 01:09:37 - Transf 01 Importa Dados 2005 para DS - Dispatching started for transformation [Transf 01 Importa Dados 2005 para DS]\r\n2023/08/27 01:09:37 - Table output.0 - ERROR (version 9.3.0.0-428, build 9.3.0.0-428 from 2022-04-12 04.56.25 by buildguy) : Error initializing step [Table output]\r\n2023/08/27 01:09:37 - Table output.0 - ERROR (version 9.3.0.0-428, build 9.3.0.0-428 from 2022-04-12 04.56.25 by buildguy) : java.lang.NoClassDefFoundError: Could not initialize class javax.crypto.JceSecurity\r\n2023/08/27 01:09:37 - Table output.0 - \tat java.base/javax.crypto.SecretKeyFactory.nextSpi(SecretKeyFactory.java:299)\r\n2023/08/27 01:09:37 - Table output.0 - \tat java.base/javax.crypto.SecretKeyFactory.&lt;init&gt;(SecretKeyFactory.java:117)\r\n2023/08/27 01:09:37 - Table output.0 - \tat java.base/javax.crypto.SecretKeyFactory.getInstance(SecretKeyFactory.java:164)\r\n2023/08/27 01:09:37 - Table output.0 - \tat org.postgresql.shaded.com.ongres.scram.common.ScramMechanisms.saltedPassword(ScramMechanisms.java:155)\r\n2023/08/27 01:09:37 - Table output.0 - \tat org.postgresql.shaded.com.ongres.scram.common.ScramFunctions.saltedPassword(ScramFunctions.java:59)\r\n2023/08/27 01:09:37 - Table output.0 - \tat org.postgresql.shaded.com.ongres.scram.client.ScramSession$ClientFinalProcessor.&lt;init&gt;(ScramSession.java:196)\r\n2023/08/27 01:09:37 - Table output.0 - \tat org.postgresql.shaded.com.ongres.scram.client.ScramSession$ClientFinalProcessor.&lt;init&gt;(ScramSession.java:163)\r\n2023/08/27 01:09:37 - Table output.0 - \tat org.postgresql.shaded.com.ongres.scram.client.ScramSession$ServerFirstProcessor.clientFinalProcessor(ScramSession.java:130)\r\n2023/08/27 01:09:37 - Table output.0 - \tat org.postgresql.jre7.sasl.ScramAuthenticator.processServerFirstMessage(ScramAuthenticator.java:147)\r\n2023/08/27 01:09:37 - Table output.0 - \tat org.postgresql.core.v3.ConnectionFactoryImpl.doAuthentication(ConnectionFactoryImpl.java:778)\r\n2023/08/27 01:09:37 - Table output.0 - \tat org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:161)\r\n2023/08/27 01:09:37 - Table output.0 - \tat org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:213)\r\n2023/08/27 01:09:37 - Table output.0 - \tat org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:51)\r\n2023/08/27 01:09:37 - Table output.0 - \tat org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:223)\r\n2023/08/27 01:09:37 - Table output.0 - \tat org.postgresql.Driver.makeConnection(Driver.java:465)\r\n2023/08/27 01:09:37 - Table output.0 - \tat org.postgresql.Driver.connect(Driver.java:264)\r\n2023/08/27 01:09:37 - Table output.0 - \tat java.sql/java.sql.DriverManager.getConnection(DriverManager.java:683)\r\n2023/08/27 01:09:37 - Table output.0 - \tat java.sql/java.sql.DriverManager.getConnection(DriverManager.java:191)\r\n2023/08/27 01:09:37 - Table output.0 - \tat org.pentaho.di.core.database.Database.connectUsingClass(Database.java:589)\r\n2023/08/27 01:09:37 - Table output.0 - \tat org.pentaho.di.core.database.Database.normalConnect(Database.java:481)\r\n2023/08/27 01:09:37 - Table output.0 - \tat org.pentaho.di.core.database.Database.connect(Database.java:389)\r\n2023/08/27 01:09:37 - Table output.0 - \tat org.pentaho.di.core.database.Database.connect(Database.java:360)\r\n2023/08/27 01:09:37 - Table output.0 - \tat org.pentaho.di.trans.steps.tableoutput.TableOutput.init(TableOutput.java:533)\r\n2023/08/27 01:09:37 - Table output.0 - \tat org.pentaho.di.trans.step.StepInitThread.run(StepInitThread.java:69)\r\n2023/08/27 01:09:37 - Table output.0 - \tat java.base/java.lang.Thread.run(Thread.java:1623)\r\n2023/08/27 01:09:37 - Table output.0 - Caused by: java.lang.ExceptionInInitializerError: Exception java.lang.RuntimeException: java.net.MalformedURLException: Unknown protocol: http [in thread &quot;Thread-10&quot;]\r\n2023/08/27 01:09:37 - Table output.0 - \tat java.base/javax.crypto.JceSecurity.&lt;clinit&gt;(JceSecurity.java:249)\r\n2023/08/27 01:09:37 - Table output.0 - \tat java.base/javax.crypto.Cipher.getInstance(Cipher.java:549)\r\n2023/08/27 01:09:37 - Table output.0 - \tat java.base/sun.security.ssl.SSLCipher.isTransformationAvailable(SSLCipher.java:477)\r\n2023/08/27 01:09:37 - Table output.0 - \tat java.base/sun.security.ssl.SSLCipher.&lt;init&gt;(SSLCipher.java:466)\r\n2023/08/27 01:09:37 - Table output.0 - \tat java.base/sun.security.ssl.SSLCipher.&lt;clinit&gt;(SSLCipher.java:90)\r\n2023/08/27 01:09:37 - Table output.0 - \tat java.base/sun.security.ssl.CipherSuite.&lt;clinit&gt;(CipherSuite.java:65)\r\n2023/08/27 01:09:37 - Table output.0 - \tat java.base/sun.security.ssl.SSLContextImpl.getApplicableSupportedCipherSuites(SSLContextImpl.java:337)\r\n2023/08/27 01:09:37 - Table output.0 - \tat java.base/sun.security.ssl.SSLContextImpl$AbstractTLSContext.&lt;clinit&gt;(SSLContextImpl.java:550)\r\n2023/08/27 01:09:37 - Table output.0 - \tat java.base/java.lang.Class.forName0(Native Method)\r\n2023/08/27 01:09:37 - Table output.0 - \tat java.base/java.lang.Class.forName(Class.java:391)\r\n2023/08/27 01:09:37 - Table output.0 - \tat java.base/java.lang.Class.forName(Class.java:382)\r\n2023/08/27 01:09:37 - Table output.0 - \tat java.base/java.security.Provider$Service.getImplClass(Provider.java:1988)\r\n2023/08/27 01:09:37 - Table output.0 - \tat java.base/java.security.Provider$Service.getDefaultConstructor(Provider.java:2019)\r\n2023/08/27 01:09:37 - Table output.0 - \tat java.base/java.security.Provider$Service.newInstanceOf(Provider.java:1933)\r\n2023/08/27 01:09:37 - Table output.0 - \tat java.base/java.security.Provider$Service.newInstanceUtil(Provider.java:1941)\r\n2023/08/27 01:09:37 - Table output.0 - \tat java.base/java.security.Provider$Service.newInstance(Provider.java:1916)\r\n2023/08/27 01:09:37 - Table output.0 - \tat java.base/sun.security.jca.GetInstance.getInstance(GetInstance.java:236)\r\n2023/08/27 01:09:37 - Table output.0 - \tat java.base/sun.security.jca.GetInstance.getInstance(GetInstance.java:164)\r\n2023/08/27 01:09:37 - Table output.0 - \tat java.base/javax.net.ssl.SSLContext.getInstance(SSLContext.java:185)\r\n2023/08/27 01:09:37 - Table output.0 - \tat org.apache.http.ssl.SSLContexts.createDefault(SSLContexts.java:51)\r\n2023/08/27 01:09:37 - Table output.0 - \tat org.apache.http.impl.client.HttpClientBuilder.build(HttpClientBuilder.java:977)\r\n2023/08/27 01:09:37 - Table output.0 - \tat org.pentaho.versionchecker.VersionChecker.buildHttpClient(VersionChecker.java:413)\r\n2023/08/27 01:09:37 - Table output.0 - \tat org.pentaho.versionchecker.VersionChecker.performCheck(VersionChecker.java:367)\r\n2023/08/27 01:09:37 - Table output.0 - \tat org.pentaho.di.core.lifecycle.pdi.VersionCheckerListener$1.run(VersionCheckerListener.java:88)\r\n2023/08/27 01:09:37 - Table output.0 - \t... 1 more\r\n2023/08/27 01:09:37 - Transf 01 Importa Dados 2005 para DS - ERROR (version 9.3.0.0-428, build 9.3.0.0-428 from 2022-04-12 04.56.25 by buildguy) : Step [Table output.0] failed to initialize!\r\n2023/08/27 01:09:37 - Spoon - ERROR (version 9.3.0.0-428, build 9.3.0.0-428 from 2022-04-12 04.56.25 by buildguy) : Transf 01 Importa Dados 2005 para DS: preparing transformation execution failed\r\n2023/08/27 01:09:37 - Spoon - ERROR (version 9.3.0.0-428, build 9.3.0.0-428 from 2022-04-12 04.56.25 by buildguy) : org.pentaho.di.core.exception.KettleException: \r\n2023/08/27 01:09:37 - Spoon - We failed to initialize at least one step.  Execution can not begin!\r\n2023/08/27 01:09:37 - Spoon - \r\n2023/08/27 01:09:37 - Spoon - \r\n2023/08/27 01:09:37 - Spoon - \tat org.pentaho.di.trans.Trans.prepareExecution(Trans.java:1295)\r\n2023/08/27 01:09:37 - Spoon - \tat org.pentaho.di.ui.spoon.trans.TransGraph$30.run(TransGraph.java:4281)\r\n2023/08/27 01:09:37 - Spoon - \tat java.base/java.lang.Thread.run(Thread.java:1623)\r\n```","title":"local_policy.jar in JDK 20 and JRE 1.8","body":"<p>I'm trying to perform a transformation on Pentaho 9.3 using a database on my machine (localhost).</p>\n<p>Whenever I try to run, it returns the following error: <code>java.lang.noclassdeffounderror: Could not initialize class javax.crypto.JceSecurity</code></p>\n<p>Searching for the error, I found this question on SO: <a href=\"https://stackoverflow.com/questions/29301407/java-lang-noclassdeffounderror-could-not-initialize-class-javax-crypto-jcesecur\">java.lang.NoClassDefFoundError: Could not initialize class javax.crypto.JceSecurityManager</a></p>\n<blockquote>\n<p>Make sure the following files on executing JRE is NOT corrupted/modified/deleted.<br />\njre\\lib\\security\\local_policy.jar\njre\\lib\\security\\US_export_policy.jar</p>\n</blockquote>\n<p>However, I didn't find either of these files. I have searched on both JDK 17 and 20 and JRE 1.8 files, all fresh installations.</p>\n<p>What should I do?</p>\n<p>Adding stack trace for a greater context:</p>\n<pre><code>2023/08/27 01:09:37 - Spoon - Running transformation using the Kettle execution engine\n2023/08/27 01:09:37 - Spoon - Transformation opened.\n2023/08/27 01:09:37 - Spoon - Launching transformation [Transf 01 Importa Dados 2005 para DS]...\n2023/08/27 01:09:37 - Spoon - Started the transformation execution.\n2023/08/27 01:09:37 - Transf 01 Importa Dados 2005 para DS - Dispatching started for transformation [Transf 01 Importa Dados 2005 para DS]\n2023/08/27 01:09:37 - Table output.0 - ERROR (version 9.3.0.0-428, build 9.3.0.0-428 from 2022-04-12 04.56.25 by buildguy) : Error initializing step [Table output]\n2023/08/27 01:09:37 - Table output.0 - ERROR (version 9.3.0.0-428, build 9.3.0.0-428 from 2022-04-12 04.56.25 by buildguy) : java.lang.NoClassDefFoundError: Could not initialize class javax.crypto.JceSecurity\n2023/08/27 01:09:37 - Table output.0 -  at java.base/javax.crypto.SecretKeyFactory.nextSpi(SecretKeyFactory.java:299)\n2023/08/27 01:09:37 - Table output.0 -  at java.base/javax.crypto.SecretKeyFactory.&lt;init&gt;(SecretKeyFactory.java:117)\n2023/08/27 01:09:37 - Table output.0 -  at java.base/javax.crypto.SecretKeyFactory.getInstance(SecretKeyFactory.java:164)\n2023/08/27 01:09:37 - Table output.0 -  at org.postgresql.shaded.com.ongres.scram.common.ScramMechanisms.saltedPassword(ScramMechanisms.java:155)\n2023/08/27 01:09:37 - Table output.0 -  at org.postgresql.shaded.com.ongres.scram.common.ScramFunctions.saltedPassword(ScramFunctions.java:59)\n2023/08/27 01:09:37 - Table output.0 -  at org.postgresql.shaded.com.ongres.scram.client.ScramSession$ClientFinalProcessor.&lt;init&gt;(ScramSession.java:196)\n2023/08/27 01:09:37 - Table output.0 -  at org.postgresql.shaded.com.ongres.scram.client.ScramSession$ClientFinalProcessor.&lt;init&gt;(ScramSession.java:163)\n2023/08/27 01:09:37 - Table output.0 -  at org.postgresql.shaded.com.ongres.scram.client.ScramSession$ServerFirstProcessor.clientFinalProcessor(ScramSession.java:130)\n2023/08/27 01:09:37 - Table output.0 -  at org.postgresql.jre7.sasl.ScramAuthenticator.processServerFirstMessage(ScramAuthenticator.java:147)\n2023/08/27 01:09:37 - Table output.0 -  at org.postgresql.core.v3.ConnectionFactoryImpl.doAuthentication(ConnectionFactoryImpl.java:778)\n2023/08/27 01:09:37 - Table output.0 -  at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:161)\n2023/08/27 01:09:37 - Table output.0 -  at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:213)\n2023/08/27 01:09:37 - Table output.0 -  at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:51)\n2023/08/27 01:09:37 - Table output.0 -  at org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:223)\n2023/08/27 01:09:37 - Table output.0 -  at org.postgresql.Driver.makeConnection(Driver.java:465)\n2023/08/27 01:09:37 - Table output.0 -  at org.postgresql.Driver.connect(Driver.java:264)\n2023/08/27 01:09:37 - Table output.0 -  at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:683)\n2023/08/27 01:09:37 - Table output.0 -  at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:191)\n2023/08/27 01:09:37 - Table output.0 -  at org.pentaho.di.core.database.Database.connectUsingClass(Database.java:589)\n2023/08/27 01:09:37 - Table output.0 -  at org.pentaho.di.core.database.Database.normalConnect(Database.java:481)\n2023/08/27 01:09:37 - Table output.0 -  at org.pentaho.di.core.database.Database.connect(Database.java:389)\n2023/08/27 01:09:37 - Table output.0 -  at org.pentaho.di.core.database.Database.connect(Database.java:360)\n2023/08/27 01:09:37 - Table output.0 -  at org.pentaho.di.trans.steps.tableoutput.TableOutput.init(TableOutput.java:533)\n2023/08/27 01:09:37 - Table output.0 -  at org.pentaho.di.trans.step.StepInitThread.run(StepInitThread.java:69)\n2023/08/27 01:09:37 - Table output.0 -  at java.base/java.lang.Thread.run(Thread.java:1623)\n2023/08/27 01:09:37 - Table output.0 - Caused by: java.lang.ExceptionInInitializerError: Exception java.lang.RuntimeException: java.net.MalformedURLException: Unknown protocol: http [in thread &quot;Thread-10&quot;]\n2023/08/27 01:09:37 - Table output.0 -  at java.base/javax.crypto.JceSecurity.&lt;clinit&gt;(JceSecurity.java:249)\n2023/08/27 01:09:37 - Table output.0 -  at java.base/javax.crypto.Cipher.getInstance(Cipher.java:549)\n2023/08/27 01:09:37 - Table output.0 -  at java.base/sun.security.ssl.SSLCipher.isTransformationAvailable(SSLCipher.java:477)\n2023/08/27 01:09:37 - Table output.0 -  at java.base/sun.security.ssl.SSLCipher.&lt;init&gt;(SSLCipher.java:466)\n2023/08/27 01:09:37 - Table output.0 -  at java.base/sun.security.ssl.SSLCipher.&lt;clinit&gt;(SSLCipher.java:90)\n2023/08/27 01:09:37 - Table output.0 -  at java.base/sun.security.ssl.CipherSuite.&lt;clinit&gt;(CipherSuite.java:65)\n2023/08/27 01:09:37 - Table output.0 -  at java.base/sun.security.ssl.SSLContextImpl.getApplicableSupportedCipherSuites(SSLContextImpl.java:337)\n2023/08/27 01:09:37 - Table output.0 -  at java.base/sun.security.ssl.SSLContextImpl$AbstractTLSContext.&lt;clinit&gt;(SSLContextImpl.java:550)\n2023/08/27 01:09:37 - Table output.0 -  at java.base/java.lang.Class.forName0(Native Method)\n2023/08/27 01:09:37 - Table output.0 -  at java.base/java.lang.Class.forName(Class.java:391)\n2023/08/27 01:09:37 - Table output.0 -  at java.base/java.lang.Class.forName(Class.java:382)\n2023/08/27 01:09:37 - Table output.0 -  at java.base/java.security.Provider$Service.getImplClass(Provider.java:1988)\n2023/08/27 01:09:37 - Table output.0 -  at java.base/java.security.Provider$Service.getDefaultConstructor(Provider.java:2019)\n2023/08/27 01:09:37 - Table output.0 -  at java.base/java.security.Provider$Service.newInstanceOf(Provider.java:1933)\n2023/08/27 01:09:37 - Table output.0 -  at java.base/java.security.Provider$Service.newInstanceUtil(Provider.java:1941)\n2023/08/27 01:09:37 - Table output.0 -  at java.base/java.security.Provider$Service.newInstance(Provider.java:1916)\n2023/08/27 01:09:37 - Table output.0 -  at java.base/sun.security.jca.GetInstance.getInstance(GetInstance.java:236)\n2023/08/27 01:09:37 - Table output.0 -  at java.base/sun.security.jca.GetInstance.getInstance(GetInstance.java:164)\n2023/08/27 01:09:37 - Table output.0 -  at java.base/javax.net.ssl.SSLContext.getInstance(SSLContext.java:185)\n2023/08/27 01:09:37 - Table output.0 -  at org.apache.http.ssl.SSLContexts.createDefault(SSLContexts.java:51)\n2023/08/27 01:09:37 - Table output.0 -  at org.apache.http.impl.client.HttpClientBuilder.build(HttpClientBuilder.java:977)\n2023/08/27 01:09:37 - Table output.0 -  at org.pentaho.versionchecker.VersionChecker.buildHttpClient(VersionChecker.java:413)\n2023/08/27 01:09:37 - Table output.0 -  at org.pentaho.versionchecker.VersionChecker.performCheck(VersionChecker.java:367)\n2023/08/27 01:09:37 - Table output.0 -  at org.pentaho.di.core.lifecycle.pdi.VersionCheckerListener$1.run(VersionCheckerListener.java:88)\n2023/08/27 01:09:37 - Table output.0 -  ... 1 more\n2023/08/27 01:09:37 - Transf 01 Importa Dados 2005 para DS - ERROR (version 9.3.0.0-428, build 9.3.0.0-428 from 2022-04-12 04.56.25 by buildguy) : Step [Table output.0] failed to initialize!\n2023/08/27 01:09:37 - Spoon - ERROR (version 9.3.0.0-428, build 9.3.0.0-428 from 2022-04-12 04.56.25 by buildguy) : Transf 01 Importa Dados 2005 para DS: preparing transformation execution failed\n2023/08/27 01:09:37 - Spoon - ERROR (version 9.3.0.0-428, build 9.3.0.0-428 from 2022-04-12 04.56.25 by buildguy) : org.pentaho.di.core.exception.KettleException: \n2023/08/27 01:09:37 - Spoon - We failed to initialize at least one step.  Execution can not begin!\n2023/08/27 01:09:37 - Spoon - \n2023/08/27 01:09:37 - Spoon - \n2023/08/27 01:09:37 - Spoon -   at org.pentaho.di.trans.Trans.prepareExecution(Trans.java:1295)\n2023/08/27 01:09:37 - Spoon -   at org.pentaho.di.ui.spoon.trans.TransGraph$30.run(TransGraph.java:4281)\n2023/08/27 01:09:37 - Spoon -   at java.base/java.lang.Thread.run(Thread.java:1623)\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1608033195,"creation_date":1607538912,"answer_id":65222857,"question_id":65221732,"body_markdown":"**THEY ARE OBSOLETE** (at least as separate added files)\r\n\r\nThey _were_ used in an optional, and (nominally) geographically restricted, patch to versions of Sun-then-Oracle Java before late 2017, to enable (symmetric) ciphers with strength of more than 128 bits, which were disabled in the basic distribution packages in a lingering after-effect of conformity to US export regulations from the 1990s. No such patch was ever needed for OpenJDK, once that was released (which only started after the &#39;crypto thaw&#39;), but in its early years it wasn&#39;t widely supported and sometimes not consistently available, so many people continued using the Oracle/Sun versions -- and many Stack Overflow questions and/or answers (both Stack Overflow and others like security.SX and Super User and Server Fault) were written for that case. Since Stack Overflow doesn&#39;t automatically delete or even deprecate old content, it remains available.\r\n\r\nFor the official details (of the versions that still have any support, even paid) see https://www.oracle.com/java/technologies/javase-jce-all-downloads.html .\r\n\r\nIBM has long had its own implementation of Java, especially the cryptographic parts, and had a similar (but not the same) set of policy jars; I don&#39;t know if they still do, since I no longer have IBM systems running Java. In any case, Stack Overflow questions and answers for IBM Java are rare. \r\n\r\nThe &#39;openness&#39; of the original Sun-centered model for Java was somewhat controversial for years, until finally settled by the establishment of OpenJDK. If you want to discuss that, it probably belongs on https://opensource.stackexchange.com/ .","title":"Use of Local_policy.jar and US_export_policy.jar","body":"<p><strong>THEY ARE OBSOLETE</strong> (at least as separate added files)</p>\n<p>They <em>were</em> used in an optional, and (nominally) geographically restricted, patch to versions of Sun-then-Oracle Java before late 2017, to enable (symmetric) ciphers with strength of more than 128 bits, which were disabled in the basic distribution packages in a lingering after-effect of conformity to US export regulations from the 1990s. No such patch was ever needed for OpenJDK, once that was released (which only started after the 'crypto thaw'), but in its early years it wasn't widely supported and sometimes not consistently available, so many people continued using the Oracle/Sun versions -- and many Stack Overflow questions and/or answers (both Stack Overflow and others like security.SX and Super User and Server Fault) were written for that case. Since Stack Overflow doesn't automatically delete or even deprecate old content, it remains available.</p>\n<p>For the official details (of the versions that still have any support, even paid) see <a href=\"https://www.oracle.com/java/technologies/javase-jce-all-downloads.html\" rel=\"nofollow noreferrer\">https://www.oracle.com/java/technologies/javase-jce-all-downloads.html</a> .</p>\n<p>IBM has long had its own implementation of Java, especially the cryptographic parts, and had a similar (but not the same) set of policy jars; I don't know if they still do, since I no longer have IBM systems running Java. In any case, Stack Overflow questions and answers for IBM Java are rare.</p>\n<p>The 'openness' of the original Sun-centered model for Java was somewhat controversial for years, until finally settled by the establishment of OpenJDK. If you want to discuss that, it probably belongs on <a href=\"https://opensource.stackexchange.com/\">https://opensource.stackexchange.com/</a> .</p>\n"}],"owner":{"account_id":4197388,"reputation":8387,"user_id":3438473,"accept_rate":58,"display_name":"CuriousMind"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":872,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":65222857,"answer_count":1,"score":-1,"last_activity_date":1693107574,"creation_date":1607534488,"question_id":65221732,"body_markdown":"What is the use of these jars:\r\n\r\n```\r\nLocal_policy.jar\r\nUS_export_policy.jar \r\n```\r\n\r\nI have seen other SO questions where they are asking how to upgrade. My question is what&#39;s the use of these jars. It seems they come as a violation in open source.\r\n","title":"Use of Local_policy.jar and US_export_policy.jar","body":"<p>What is the use of these jars:</p>\n<pre><code>Local_policy.jar\nUS_export_policy.jar \n</code></pre>\n<p>I have seen other SO questions where they are asking how to upgrade. My question is what's the use of these jars. It seems they come as a violation in open source.</p>\n"},{"tags":["java","android","kotlin","android-studio","f#-giraffe"],"answers":[{"tags":[],"owner":{"account_id":16045392,"reputation":21,"user_id":11580651,"display_name":"Ehsan Yazdanyar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693086003,"creation_date":1693086003,"answer_id":76984939,"question_id":76984478,"body_markdown":"Click on Add your configuration and then in the run/debug configurations dialog press the + icon in the upper left corner, then select the (Android App) and then in the general tab, select your module, finally press ok and Let Android Studio start building your project, then the run icon will be activated and you can run your project\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gVbdf.png","title":"Update Android Studio Giraffe, but it does not recognize my project as an app","body":"<p>Click on Add your configuration and then in the run/debug configurations dialog press the + icon in the upper left corner, then select the (Android App) and then in the general tab, select your module, finally press ok and Let Android Studio start building your project, then the run icon will be activated and you can run your project</p>\n<p><a href=\"https://i.stack.imgur.com/gVbdf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gVbdf.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":5376042,"reputation":21,"user_id":4282918,"display_name":"Roger Natividad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1760,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1693107345,"creation_date":1693077356,"question_id":76984478,"body_markdown":"Good with control, it installs the latest version of Android studio Giraffe but it does not recognize my Android project. Nor does Android view icon appear as.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n\r\n\r\nI hope I can compile and with the play icon and test in the emulator\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9qd0l.png","title":"Update Android Studio Giraffe, but it does not recognize my project as an app","body":"<p>Good with control, it installs the latest version of Android studio Giraffe but it does not recognize my Android project. Nor does Android view icon appear as.</p>\n<p><a href=\"https://i.stack.imgur.com/9qd0l.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9qd0l.png\" alt=\"enter image description here\" /></a></p>\n<p>I hope I can compile and with the play icon and test in the emulator</p>\n"},{"tags":["java","spring","maven","architecture","microservices"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1548118869,"post_id":54299572,"comment_id":95420043,"body_markdown":"Avoid being unnecessarily specific, such as using `Qualifier` unless you have a known conflict to manage.","body":"Avoid being unnecessarily specific, such as using <code>Qualifier</code> unless you have a known conflict to manage."},{"owner":{"account_id":5123878,"reputation":4700,"user_id":4106653,"accept_rate":100,"display_name":"Neo"},"score":0,"creation_date":1548124968,"post_id":54299572,"comment_id":95421278,"body_markdown":"Did you try using `&lt;scope&gt;runtime&lt;/scope&gt;` instead of `&lt;scope&gt;compile&lt;/scope&gt;`? This should work. Verify that the `test-adapter` classes are available on the Claspath when you run it.","body":"Did you try using <code>&lt;scope&gt;runtime&lt;&#47;scope&gt;</code> instead of <code>&lt;scope&gt;compile&lt;&#47;scope&gt;</code>? This should work. Verify that the <code>test-adapter</code> classes are available on the Claspath when you run it."},{"owner":{"account_id":427843,"reputation":779,"user_id":809808,"accept_rate":67,"display_name":"user809808"},"score":0,"creation_date":1548138606,"post_id":54299572,"comment_id":95424697,"body_markdown":"@chrylis, sure, @Qualifier is the only example to one who can suggest such approach. @Neo, I am not quite sure, that I got your point. It works with `&lt;scope&gt;compile&lt;/scope&gt;` without an issue. My idea to do not have such dependency at all, doesn&#39;t matter scope of it. Do you think it&#39;s impossible to get rid of such relation?","body":"@chrylis, sure, @Qualifier is the only example to one who can suggest such approach. @Neo, I am not quite sure, that I got your point. It works with <code>&lt;scope&gt;compile&lt;&#47;scope&gt;</code> without an issue. My idea to do not have such dependency at all, doesn&#39;t matter scope of it. Do you think it&#39;s impossible to get rid of such relation?"}],"answers":[{"tags":[],"owner":{"account_id":16410155,"reputation":79,"user_id":11853662,"display_name":"Julien Top&#231;u"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1564424190,"creation_date":1564423323,"answer_id":57259192,"question_id":54299572,"body_markdown":"This is not really related to hexagonal architecture.\r\n\r\nThe SpringBootApplication will need in the classpath all the beans to be exposed in the ApplicationContext.\r\n\r\nI suppose in your case, this class is located in **test-application**.\r\nIf you don&#39;t put any dependency to **test-adapter**, the Configurations will not be loaded, so your ComponentScan has no effect.\r\n\r\nEven magic autoconfigured beans in SpringBoot have to be declared at least in runtime scope in your pom.xml\r\n\r\nMoreover in Hexagonal Architecture implementation, we usually use the application module to compose the bean injection strategy. So you should put your configurations inside this layer.\r\n\r\nThe adapters are used to interact with you domain, like a Rest layer for example.\r\n\r\nThe given [hexagonal architecture implementation example](https://gitlab.com/crafts-records/talkadvisor/talkadvisor-back/tree/master/talkadvisor-infra/talkadvisor-infra-application/src/main/kotlin/org/craftsrecords/talkadvisor/infra) has a single module where the application and the adapters are gathered. But if you want to split it, you&#39;ll basically get: \r\n\r\n - in an application module: the configurations and the *Application\r\n - in a youtube adapter: the youtube package (SPI in that case)\r\n - in a rest adapter: the controller and the resources\r\n\r\nBut the application module will have to get a dependency on each adapter.\r\n\r\nThe main purpose of the [hexagonal architecture](https://beyondxscratch.com/2017/08/19/decoupling-your-technical-code-from-your-business-logic-with-the-hexagonal-architecture-hexarch/) is the decoupling of the business logic from the technical part. Nothing states that an adapter should be standalone, but it can be your implementation choice anyway :)\r\n\r\n \r\n","title":"Hexagonal architecture with Spring and modules","body":"<p>This is not really related to hexagonal architecture.</p>\n\n<p>The SpringBootApplication will need in the classpath all the beans to be exposed in the ApplicationContext.</p>\n\n<p>I suppose in your case, this class is located in <strong>test-application</strong>.\nIf you don't put any dependency to <strong>test-adapter</strong>, the Configurations will not be loaded, so your ComponentScan has no effect.</p>\n\n<p>Even magic autoconfigured beans in SpringBoot have to be declared at least in runtime scope in your pom.xml</p>\n\n<p>Moreover in Hexagonal Architecture implementation, we usually use the application module to compose the bean injection strategy. So you should put your configurations inside this layer.</p>\n\n<p>The adapters are used to interact with you domain, like a Rest layer for example.</p>\n\n<p>The given <a href=\"https://gitlab.com/crafts-records/talkadvisor/talkadvisor-back/tree/master/talkadvisor-infra/talkadvisor-infra-application/src/main/kotlin/org/craftsrecords/talkadvisor/infra\" rel=\"nofollow noreferrer\">hexagonal architecture implementation example</a> has a single module where the application and the adapters are gathered. But if you want to split it, you'll basically get: </p>\n\n<ul>\n<li>in an application module: the configurations and the *Application</li>\n<li>in a youtube adapter: the youtube package (SPI in that case)</li>\n<li>in a rest adapter: the controller and the resources</li>\n</ul>\n\n<p>But the application module will have to get a dependency on each adapter.</p>\n\n<p>The main purpose of the <a href=\"https://beyondxscratch.com/2017/08/19/decoupling-your-technical-code-from-your-business-logic-with-the-hexagonal-architecture-hexarch/\" rel=\"nofollow noreferrer\">hexagonal architecture</a> is the decoupling of the business logic from the technical part. Nothing states that an adapter should be standalone, but it can be your implementation choice anyway :)</p>\n"}],"owner":{"account_id":427843,"reputation":779,"user_id":809808,"accept_rate":67,"display_name":"user809808"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3019,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1693103327,"creation_date":1548116269,"question_id":54299572,"body_markdown":"I am trying to implement [Hexagonal architecture][1] over Spring Boot application with multiple `Maven` modules. The main idea to depend on abstractions, not concretions. \r\nI created three modules **test-core**, **test-adapter**, **test-application** basically as described [here][2]:\r\n\r\n    ┌ \\ pom.xml\r\n    ├ \\ test-core\r\n    │   ├  pom.xml\r\n    │   └─ src\\com\\example\\core\\\r\n    |                      ├─ ConfigCore.java\r\n    |                      └─ FooService.java\r\n    ├ \\ test-adapter\r\n    │   ├  pom.xml\r\n    |   └─ src\\com\\example\\adapter\\\r\n    |                      ├─ ConfigAdapter.java\r\n    |                      └─ FooServiceImpl.java\r\n    └ \\ test-application\r\n        ├  pom.xml\r\n        └─ src\\com\\example\\\r\n                   ├─ ConfigApplication.java\r\n                   └─ Application.java\r\n        \r\nThe main idea is to have next dependencies: \r\n\r\n - **test-adapter** depends from **test-core**\r\n - **test-application** depends from **test-core**\r\n\r\nand that&#39;s all. However it&#39;s not possible to implement without third dependency where **test-application** depends from **test-adapter**. In given example, which I used they did it by this way (added direct dependency). However I would like to avoid this, as I want to have architect design without such coupling.\r\nIs it possible to implement somehow? Or I want too much? Or I incorrectly understand Ports-And-Adapters architecture? \r\n\r\nTo make issue more clear, below you can find code. **FooServices.java**\r\n\r\n    package com.example.core;\r\n    public interface FooService { String execute(); }\r\n\r\n**FooServiceImpl.java**\r\n\r\n    package com.example.adapter;\r\n    import org.springframework.stereotype.Service;\r\n    import org.springframework.beans.factory.annotation.Qualifier;\r\n    import com.example.core.FooService;\r\n    @Service\r\n    @Qualifier(&quot;fooService&quot;)\r\n    public class FooServiceImpl implements FooService {\r\n        public String execute() { return &quot;Hello world!&quot;; }\r\n    }\r\n\r\n**Application.java**\r\n\r\n    package com.example;\r\n    @SpringBootApplication(scanBasePackages = {&quot;com.example&quot;})\r\n    public class Application {\r\n        @Autowired\r\n        @Qualifier(&quot;fooService&quot;)\r\n        FooService fooService;\r\n\r\n        public static void main(String[] args) { SpringApplication.run(Application.class, args); }\r\n        @Bean\r\n        public CommandLineRunner commandLineRunner(ApplicationContext ctx) { return args -&gt; { System.out.println(fooService.execute()); }; }\r\n    }\r\n\r\nwithout written dependency in **\\ test-application \\ pom.xml** to **test-adapter** \r\n\r\n```lang-xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;test-adapter&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;scope&gt;compile&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\nI constantly receive next error\r\n\r\n&gt; Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;application&#39;: Unsatisfied dependency expressed through field &#39;fooService&#39;; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;com.example.core.FooService&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true), @org.springframework.beans.factory.annotation.Qualifier(value=fooService)}\r\n\r\nAs you see `@Qualifier` annotation doesn&#39;t help here. `@ComponentScan(basePackages = {&quot;com.example&quot;})`, `@SpringBootApplication(scanBasePackages = {&quot;com.example&quot;})` as well. \r\n\r\nSolution is to implement next steps:\r\n**ConfigCore.java**\r\n\r\n    package com.example.core;\r\n    @Configuration\r\n    @ComponentScan(basePackages = {&quot;com.example.core&quot;})\r\n    public class ConfigCore { }\r\n\r\n**ConfigAdapter.java**\r\n\r\n    package com.example.adapter;\r\n    @Configuration\r\n    @ComponentScan(basePackages = {&quot;com.example.adapter&quot;})\r\n    public class ConfigAdapter { }\r\n\r\n**ConfigApplication.java**\r\n\r\n    package com.example;\r\n    import com.example.core.ConfigCore;\r\n    import com.example.adapter.ConfigAdapter;\r\n    @Configuration\r\n    @ComponentScan(basePackages = {&quot;com.example&quot;})\r\n    @Import({ConfigCore.class, ConfigAdapter.class})\r\n    public class ConfigApplication { }\r\n\r\nand put corresponding dependency (mentioned above) to **pom.xml**. In that case everything works fine. However, as I mentioned I don&#39;t think that this is correct approach. Could you help me with understanding of possibilities to remove this dependency between **test-adapter** and **test-application** ? \r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Hexagonal_architecture_(software)\r\n  [2]: https://github.com/gshaw-pivotal/spring-hexagonal-example","title":"Hexagonal architecture with Spring and modules","body":"<p>I am trying to implement <a href=\"https://en.wikipedia.org/wiki/Hexagonal_architecture_(software)\" rel=\"nofollow noreferrer\">Hexagonal architecture</a> over Spring Boot application with multiple <code>Maven</code> modules. The main idea to depend on abstractions, not concretions.\nI created three modules <strong>test-core</strong>, <strong>test-adapter</strong>, <strong>test-application</strong> basically as described <a href=\"https://github.com/gshaw-pivotal/spring-hexagonal-example\" rel=\"nofollow noreferrer\">here</a>:</p>\n<pre><code>┌ \\ pom.xml\n├ \\ test-core\n│   ├  pom.xml\n│   └─ src\\com\\example\\core\\\n|                      ├─ ConfigCore.java\n|                      └─ FooService.java\n├ \\ test-adapter\n│   ├  pom.xml\n|   └─ src\\com\\example\\adapter\\\n|                      ├─ ConfigAdapter.java\n|                      └─ FooServiceImpl.java\n└ \\ test-application\n    ├  pom.xml\n    └─ src\\com\\example\\\n               ├─ ConfigApplication.java\n               └─ Application.java\n    \n</code></pre>\n<p>The main idea is to have next dependencies:</p>\n<ul>\n<li><strong>test-adapter</strong> depends from <strong>test-core</strong></li>\n<li><strong>test-application</strong> depends from <strong>test-core</strong></li>\n</ul>\n<p>and that's all. However it's not possible to implement without third dependency where <strong>test-application</strong> depends from <strong>test-adapter</strong>. In given example, which I used they did it by this way (added direct dependency). However I would like to avoid this, as I want to have architect design without such coupling.\nIs it possible to implement somehow? Or I want too much? Or I incorrectly understand Ports-And-Adapters architecture?</p>\n<p>To make issue more clear, below you can find code. <strong>FooServices.java</strong></p>\n<pre><code>package com.example.core;\npublic interface FooService { String execute(); }\n</code></pre>\n<p><strong>FooServiceImpl.java</strong></p>\n<pre><code>package com.example.adapter;\nimport org.springframework.stereotype.Service;\nimport org.springframework.beans.factory.annotation.Qualifier;\nimport com.example.core.FooService;\n@Service\n@Qualifier(&quot;fooService&quot;)\npublic class FooServiceImpl implements FooService {\n    public String execute() { return &quot;Hello world!&quot;; }\n}\n</code></pre>\n<p><strong>Application.java</strong></p>\n<pre><code>package com.example;\n@SpringBootApplication(scanBasePackages = {&quot;com.example&quot;})\npublic class Application {\n    @Autowired\n    @Qualifier(&quot;fooService&quot;)\n    FooService fooService;\n\n    public static void main(String[] args) { SpringApplication.run(Application.class, args); }\n    @Bean\n    public CommandLineRunner commandLineRunner(ApplicationContext ctx) { return args -&gt; { System.out.println(fooService.execute()); }; }\n}\n</code></pre>\n<p>without written dependency in <strong>\\ test-application \\ pom.xml</strong> to <strong>test-adapter</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;test-adapter&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;scope&gt;compile&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I constantly receive next error</p>\n<blockquote>\n<p>Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'application': Unsatisfied dependency expressed through field 'fooService'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.example.core.FooService' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true), @org.springframework.beans.factory.annotation.Qualifier(value=fooService)}</p>\n</blockquote>\n<p>As you see <code>@Qualifier</code> annotation doesn't help here. <code>@ComponentScan(basePackages = {&quot;com.example&quot;})</code>, <code>@SpringBootApplication(scanBasePackages = {&quot;com.example&quot;})</code> as well.</p>\n<p>Solution is to implement next steps:\n<strong>ConfigCore.java</strong></p>\n<pre><code>package com.example.core;\n@Configuration\n@ComponentScan(basePackages = {&quot;com.example.core&quot;})\npublic class ConfigCore { }\n</code></pre>\n<p><strong>ConfigAdapter.java</strong></p>\n<pre><code>package com.example.adapter;\n@Configuration\n@ComponentScan(basePackages = {&quot;com.example.adapter&quot;})\npublic class ConfigAdapter { }\n</code></pre>\n<p><strong>ConfigApplication.java</strong></p>\n<pre><code>package com.example;\nimport com.example.core.ConfigCore;\nimport com.example.adapter.ConfigAdapter;\n@Configuration\n@ComponentScan(basePackages = {&quot;com.example&quot;})\n@Import({ConfigCore.class, ConfigAdapter.class})\npublic class ConfigApplication { }\n</code></pre>\n<p>and put corresponding dependency (mentioned above) to <strong>pom.xml</strong>. In that case everything works fine. However, as I mentioned I don't think that this is correct approach. Could you help me with understanding of possibilities to remove this dependency between <strong>test-adapter</strong> and <strong>test-application</strong> ?</p>\n"},{"tags":["java","android","eclipse","networking","proxy"],"comments":[{"owner":{"account_id":375811,"reputation":67210,"user_id":726863,"accept_rate":81,"display_name":"Lalit Poptani"},"score":0,"creation_date":1326283604,"post_id":8818868,"comment_id":11006803,"body_markdown":"Does browser works fine in the Emulator?","body":"Does browser works fine in the Emulator?"},{"owner":{"account_id":440450,"reputation":61,"user_id":830015,"display_name":"Srikanth Pasumarthy"},"score":0,"creation_date":1326284066,"post_id":8818868,"comment_id":11006961,"body_markdown":"@LalitPoptani yes browser works fine in emulator","body":"@LalitPoptani yes browser works fine in emulator"}],"answers":[{"tags":[],"owner":{"account_id":912947,"reputation":210,"user_id":946357,"display_name":"amit sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1326284037,"creation_date":1326284037,"answer_id":8819041,"question_id":8818868,"body_markdown":"Just try to do.....\r\n\r\n    connection.setConnectTimeout(timeoutInMillisecs);\r\n\r\nProbably you r not setting it.","title":"java.net.SocketException: Address family not supported by protocol in android emulator","body":"<p>Just try to do.....</p>\n\n<pre><code>connection.setConnectTimeout(timeoutInMillisecs);\n</code></pre>\n\n<p>Probably you r not setting it.</p>\n"},{"tags":[],"owner":{"display_name":"user647826"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1326285307,"creation_date":1326285307,"answer_id":8819350,"question_id":8818868,"body_markdown":"Try adding this to your AndroidManifest.xml as well:\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n\r\nYou also need to catch this Exception:\r\n\r\n     catch(SocketException ex)\r\n           {\r\n             Log.e(&quot;Error : &quot; , &quot;Error on soapPrimitiveData() &quot; + ex.getMessage());\r\n               ex.printStackTrace();\r\n           }\r\n\r\n","title":"java.net.SocketException: Address family not supported by protocol in android emulator","body":"<p>Try adding this to your AndroidManifest.xml as well:</p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.ACCESS_NETWORK_STATE\" /&gt;\n</code></pre>\n\n<p>You also need to catch this Exception:</p>\n\n<pre><code> catch(SocketException ex)\n       {\n         Log.e(\"Error : \" , \"Error on soapPrimitiveData() \" + ex.getMessage());\n           ex.printStackTrace();\n       }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":937952,"reputation":1414,"user_id":966540,"accept_rate":44,"display_name":"The iCoder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1326287459,"creation_date":1326287459,"answer_id":8819835,"question_id":8818868,"body_markdown":"Try to set your proxy and port programmatically in Oncreate() like this\r\n\r\n          System.setProperty(&quot;http.proxyHost&quot;,&quot;IPaddress of ur machine&quot;);\r\n\t      System.setProperty(&quot;http.proxyPort&quot;,&quot;port no&quot;);","title":"java.net.SocketException: Address family not supported by protocol in android emulator","body":"<p>Try to set your proxy and port programmatically in Oncreate() like this</p>\n\n<pre><code>      System.setProperty(\"http.proxyHost\",\"IPaddress of ur machine\");\n      System.setProperty(\"http.proxyPort\",\"port no\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":243485,"reputation":2086,"user_id":515687,"display_name":"hungr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1342774720,"creation_date":1342774720,"answer_id":11576154,"question_id":8818868,"body_markdown":"Please try this:\r\n\r\n    HttpURLConnection con =null;\r\n    \r\n    URL url = new URL(&quot;abcdefg&quot;);\r\n    \r\n    Proxy proxy=new Proxy(java.net.Proxy.Type.HTTP, new InetSocketAddress(android.net.Proxy.getDefaultHost(),android.net.Proxy.getDefaultPort()));\r\n    \r\n    con = (HttpURLConnection) url.openConnection(proxy);\r\n\r\n","title":"java.net.SocketException: Address family not supported by protocol in android emulator","body":"<p>Please try this:</p>\n\n<pre><code>HttpURLConnection con =null;\n\nURL url = new URL(\"abcdefg\");\n\nProxy proxy=new Proxy(java.net.Proxy.Type.HTTP, new InetSocketAddress(android.net.Proxy.getDefaultHost(),android.net.Proxy.getDefaultPort()));\n\ncon = (HttpURLConnection) url.openConnection(proxy);\n</code></pre>\n"}],"owner":{"account_id":440450,"reputation":61,"user_id":830015,"display_name":"Srikanth Pasumarthy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9613,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":4,"score":6,"last_activity_date":1693102021,"creation_date":1326283204,"question_id":8818868,"body_markdown":"I am trying to run simple application to access internet from android emulator and here is my code. I am behind proxy and configured proxy settings in emulator by&quot;...Wireless Networks -&gt; APN -&gt; ...&quot; . But internet is working from browser and not from application.                  \r\n\r\n                HttpURLConnection connection = null;\r\n\t\tString URLName = &quot;http://www.google.com&quot;;\r\n\r\n\t\ttry {\r\n\t\t\tURL u = new URL(URLName);\r\n\t\t\tconnection = (HttpURLConnection) u.openConnection();\r\n\t\t\tconnection.setRequestMethod(&quot;HEAD&quot;);\r\n\t\t\tint code = connection.getResponseCode();\r\n\t\t\tLog.d(TAG1, &quot; &quot; + code);\r\n\t\t\t// You can determine on HTTP return code received. 200 is success.\r\n\t\t} catch (MalformedURLException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t} catch (IOException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t\tLog.d(TAG1, e.toString());\r\n\t\t}\r\n\r\n\t\tfinally {\r\n\t\t\tif (connection != null) {\r\n\t\t\t\tconnection.disconnect();\r\n\t\t\t}\r\n\t\t}\r\n\r\nThe part of error log in Logcat is as follows:\r\n\r\n    01-11 01:01:26.308: DEBUG/SntpClient(72): request time failed: java.net.SocketException: Address family not supported by protocol\r\n    \r\n    01-11 01:02:39.909: WARN/System.err(422): java.net.SocketException: The operation timed out\r\n\r\nI tried the following options after searching in forum but none of them seems working:\r\n\r\n1. In android launch options I used -http-proxy server:port -dns-server server\r\n\r\n2. I have included internet permissions in manifest file\r\n\r\n   \r\n\r\n       uses-permission android:name=&quot;android.permission.INTERNET&quot; \r\n\r\n        uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; \r\n\r\n3. Set the system properties to use ipv4 stack after someone suggested\r\n\r\n                java.lang.System.setProperty(&quot;java.net.preferIPv4Stack&quot;, &quot;true&quot;);\r\n\t\tjava.lang.System.setProperty(&quot;java.net.preferIPv6Addresses&quot;, &quot;false&quot;);\r\n\r\nI am working on Android 2.2 and windows vista, can you please help me here...\r\n\r\n","title":"java.net.SocketException: Address family not supported by protocol in android emulator","body":"<p>I am trying to run simple application to access internet from android emulator and here is my code. I am behind proxy and configured proxy settings in emulator by\"...Wireless Networks -> APN -> ...\" . But internet is working from browser and not from application.                  </p>\n\n<pre><code>            HttpURLConnection connection = null;\n    String URLName = \"http://www.google.com\";\n\n    try {\n        URL u = new URL(URLName);\n        connection = (HttpURLConnection) u.openConnection();\n        connection.setRequestMethod(\"HEAD\");\n        int code = connection.getResponseCode();\n        Log.d(TAG1, \" \" + code);\n        // You can determine on HTTP return code received. 200 is success.\n    } catch (MalformedURLException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    } catch (IOException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n        Log.d(TAG1, e.toString());\n    }\n\n    finally {\n        if (connection != null) {\n            connection.disconnect();\n        }\n    }\n</code></pre>\n\n<p>The part of error log in Logcat is as follows:</p>\n\n<pre><code>01-11 01:01:26.308: DEBUG/SntpClient(72): request time failed: java.net.SocketException: Address family not supported by protocol\n\n01-11 01:02:39.909: WARN/System.err(422): java.net.SocketException: The operation timed out\n</code></pre>\n\n<p>I tried the following options after searching in forum but none of them seems working:</p>\n\n<ol>\n<li><p>In android launch options I used -http-proxy server:port -dns-server server</p></li>\n<li><p>I have included internet permissions in manifest file</p>\n\n<p>uses-permission android:name=\"android.permission.INTERNET\" </p>\n\n<pre><code>uses-permission android:name=\"android.permission.ACCESS_NETWORK_STATE\" \n</code></pre></li>\n<li><p>Set the system properties to use ipv4 stack after someone suggested</p>\n\n<pre><code>        java.lang.System.setProperty(\"java.net.preferIPv4Stack\", \"true\");\njava.lang.System.setProperty(\"java.net.preferIPv6Addresses\", \"false\");\n</code></pre></li>\n</ol>\n\n<p>I am working on Android 2.2 and windows vista, can you please help me here...</p>\n"},{"tags":["java","list","types"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1629059081,"post_id":68795035,"comment_id":121580509,"body_markdown":"Your basic premise is wrong as objects never &quot;lose&quot; their type. Perhaps you want to use a double-dispatch mechanism, such as the Visitor Design Pattern","body":"Your basic premise is wrong as objects never &quot;lose&quot; their type. Perhaps you want to use a double-dispatch mechanism, such as the Visitor Design Pattern"},{"owner":{"account_id":22472430,"reputation":13,"user_id":16672688,"display_name":"Akjo"},"score":0,"creation_date":1629059786,"post_id":68795035,"comment_id":121580627,"body_markdown":"@HovercraftFullOfEels But if I add a Node to a List of BaseElements for example, I don&#39;t have access to the methods/fields of Node, which I need in this case. I still need to figure out what types are exactly and how to use them effectively. Will look into the Visitor Design Pattern then and see if it solves my problem. Thank you!","body":"@HovercraftFullOfEels But if I add a Node to a List of BaseElements for example, I don&#39;t have access to the methods/fields of Node, which I need in this case. I still need to figure out what types are exactly and how to use them effectively. Will look into the Visitor Design Pattern then and see if it solves my problem. Thank you!"},{"owner":{"account_id":18907962,"reputation":321,"user_id":13794675,"display_name":"Alex Shavlovsky"},"score":0,"creation_date":1629065045,"post_id":68795035,"comment_id":121581527,"body_markdown":"You should consider creating an &quot;abstract Location getLocation()&quot; method  in the BaseElement class and implementing it in your subclasses.","body":"You should consider creating an &quot;abstract Location getLocation()&quot; method  in the BaseElement class and implementing it in your subclasses."}],"answers":[{"tags":[],"owner":{"display_name":"user16669986"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1629064079,"creation_date":1629059737,"answer_id":68795168,"question_id":68795035,"body_markdown":"Suggested changes to your code:\r\n\r\n1.    `public abstract class Main&lt;BaseElement&gt;`\r\n\r\n2.  `private final ArrayList&lt;BaseElement&gt; elements;`\r\n\r\n3. `protected BaseElement addElement(BaseElement element) `\r\n\r\nThere is no need to use `extend` as it is already an abstract class\r\n\r\nafter that, any subclass of BaseELement will work fine :)","title":"How do I create a list with multiple types that have the same superclass, without losing the type","body":"<p>Suggested changes to your code:</p>\n<ol>\n<li><p><code>public abstract class Main&lt;BaseElement&gt;</code></p>\n</li>\n<li><p><code>private final ArrayList&lt;BaseElement&gt; elements;</code></p>\n</li>\n<li><p><code>protected BaseElement addElement(BaseElement element) </code></p>\n</li>\n</ol>\n<p>There is no need to use <code>extend</code> as it is already an abstract class</p>\n<p>after that, any subclass of BaseELement will work fine :)</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1693096900,"creation_date":1629064136,"answer_id":68795566,"question_id":68795035,"body_markdown":"# tl;dr\r\n\r\nAn object does *not* lose its type when retrieved from a Generics-savvy collection (having a parameterized type). You can test for the subtype by using `instanceof` and then cast. \r\n\r\nYou asked how to call a subclass-specific method on an object retrieved from Generics-enabled collection:\r\n\r\n&gt; `new EarthMap().getElement(0).getLocation() // getLocation() is defined in class Node, not in BaseElement`\r\n\r\nUsing the latest features in Java, this work can be as simple as:\r\n\r\n```java\r\nBaseElement element = new EarthMap().getElement(0) ;\r\nswitch ( element )\r\n{\r\n    case Node node -&gt; node.getLocation() ;  // Method defined in class `Node`, not `BaseElement`.\r\n    case Way way -&gt; way.someWaySpecificMethod();\r\n    case Relation relation -&gt; relation.someRelationSpecificMethod();\r\n}\r\n```\r\n\r\n… with the compiler verifying you have covered all possible cases.\r\n\r\nSuch an approach can be used instead of the cumbersome [Visitor Pattern][1] mentioned in the Comments on this Question. The pattern-matching and sealed-class features will generally make for more transparent and straightforward code.\r\n\r\n# Type is not lost\r\n\r\nWhen you retrieve an object from a container using [Java Generics][2], the object does not “lose its type”. The object’s type is masked, being returned as the more general type parameterized on the collection. But the object still knows its own type. \r\n\r\n## Polymorphism as proof\r\n\r\nWe can verify this fact by way of polymorphism. If the subclasses have their own distinct behavior, we should see that behavior rather than the superclass behavior if their type is preserved.\r\n\r\nLet&#39;s use a simple example, a superclass of `Animal` with two subclasses, `Dog` &amp; `Cat`. \r\n\r\n```java\r\npublic abstract class Animal {\r\n    public void eat () {\r\n        System.out.println( &quot;Eating.&quot; );\r\n    }\r\n}\r\n```\r\n\r\n```java\r\npublic class Dog extends Animal {\r\n    @Override\r\n    public void eat () {\r\n        System.out.println( &quot;Eating meat and veg. Woof.&quot; );\r\n    }\r\n}\r\n```\r\n\r\n```java\r\npublic class Cat extends Animal {\r\n    @Override\r\n    public void eat () {\r\n        System.out.println( &quot;Eating meat. Meow.&quot; );\r\n    }\r\n}\r\n```\r\n\r\nAn app to call `eat` method on each of the animals in a sample collection.\r\n\r\n```java\r\nList &lt; Animal &gt; animals =\r\n        List.of(\r\n                new Cat() ,\r\n                new Cat() ,\r\n                new Dog()\r\n        );\r\n\r\nanimals.stream().forEach( Animal :: eat );\r\n```\r\n\r\nWhen run.\r\n\r\n```none\r\nEating meat. Meow.\r\nEating meat. Meow.\r\nEating meat and veg. Woof.\r\n```\r\n\r\nSo, we can see the cats still know they are cats, and the dog still knows it is a dog. \r\n\r\n## Methods specific to a subclass\r\n\r\nYour Question asks about methods *not* defined on the superclass, methods that are specific to a particular subclass. \r\n\r\nFor that, let’s add `Dog#snooze` method and a `Cat#petMe` method, each specific to that class only.\r\n\r\n```java\r\npublic class Dog extends Animal {\r\n    @Override\r\n    public void eat () {\r\n        System.out.println( &quot;Eating meat and veg. Woof.&quot; );\r\n    }\r\n\r\n    public void snooze () {\r\n        System.out.println( &quot;I’m gonna take a nap at your feet, if you don’t mind.&quot; );\r\n    }\r\n}\r\n```\r\n\r\n```java\r\npublic class Cat extends Animal {\r\n    @Override\r\n    public void eat () {\r\n        System.out.println( &quot;Eating meat. Meow.&quot; );\r\n    }\r\n\r\n    public void petMe () {\r\n        System.out.println( &quot;Pet me, now, servant!&quot; );\r\n    }\r\n}\r\n```\r\n\r\nTo call those specific methods, we need to cast each object from the generic `Animal` to its more specific concrete class. \r\n\r\n```java\r\nfor ( Animal animal : animals )\r\n{\r\n    if ( animal instanceof Dog )\r\n    {\r\n        Dog dog = ( Dog ) animal;\r\n        dog.snooze();\r\n    }\r\n    if ( animal instanceof Cat )\r\n    {\r\n        Cat cat = ( Cat ) animal;\r\n        cat.petMe();\r\n    }\r\n}\r\n```\r\n\r\nWhen run.\r\n\r\n```none\r\nPet me, now, servant!\r\nPet me, now, servant!\r\nI’m gonna take a nap at your feet, if you don’t mind.\r\n```\r\n\r\n### Pattern Matching for `instanceof`\r\n\r\nIn Java 16 and later, we can now shorten that code testing `instanceof`. On a single line we can test, cast, and assign to a variable. See [*JEP 394: Pattern Matching for instanceof*](https://openjdk.java.net/jeps/394).\r\n\r\n```java\r\n// Java 16+ ➤ JEP 394: Pattern Matching for instanceof\r\nfor ( Animal animal : animals )\r\n{\r\n    if ( animal instanceof Dog dog )\r\n    {\r\n        {\r\n            dog.snooze();\r\n        }\r\n    }\r\n    else if ( animal instanceof Cat cat )\r\n    {\r\n        cat.petMe();\r\n    }\r\n    else\r\n    {\r\n        System.out.println( &quot;Oops, encountered unexpected type of animal.&quot; );\r\n    }\r\n}\r\n```\r\n\r\n### Pattern Matching for `switch`\r\n\r\nThis work gets even simpler using a new feature being previewed in Java 17. \r\n\r\n[*JEP 406: Pattern Matching for switch (Preview)*][3] brings that `instanceof` pattern-matching to the `switch` statement. \r\n\r\nBeware: You need to set your project &amp; runtime to enable this not-yet-official feature. By default, disabled.\r\n\r\n```java\r\n// Preview feature in Java 17 ➤ JEP 406: Pattern Matching for switch (Preview)\r\nfor ( Animal animal : animals )\r\n{\r\n    switch ( animal )\r\n    {\r\n        case Dog dog -&gt; dog.snooze();\r\n        case Cat cat -&gt; cat.petMe();\r\n        case null -&gt; System.out.println( &quot;Oops, no animal.&quot; );\r\n        default -&gt; System.out.println( &quot;Oops, encountered unexpected type of animal.&quot; );\r\n    }\r\n}\r\n```\r\n\r\n### Sealed classes\r\n\r\nJava 17, the current [Long-Term Support (LTS)][4] version, brings another new feature: *Sealed classes*. In a sealed class, you declare for a particular superclass all possible subclasses. The superclass is then considered closed for extension by any others. Therefore, the compiler can identify, at compile-time, a list of *all* subclasses. \r\n\r\nSee: [*JEP 409: Sealed Classes*](https://openjdk.java.net/jeps/409)\r\n\r\nNotice the `default` at bottom of that `switch` in our code above. It serves as a catch-all in case we have not accounted for all possible sub-types of `Animal`. The compiler can make use of the sealed-class list of known subclasses to tell if our `switch` statement has covered all possible cases. \r\n\r\nIf we seal our animal, dog, and cat classes:\r\n\r\n```java\r\n// Mark the class as `sealed`. \r\npublic abstract sealed class Animal permits Cat, Dog\r\n{\r\n    public void eat () {\r\n        System.out.println( &quot;Eating.&quot; );\r\n    }\r\n}\r\n```\r\n\r\n\r\n```java\r\n// Mark as `final` as one way to seal the superclass.\r\npublic final class Dog extends Animal {\r\n    @Override\r\n    public void eat () {\r\n        System.out.println( &quot;Eating meat and veg. Woof.&quot; );\r\n    }\r\n\r\n    public void snooze () {\r\n        System.out.println( &quot;I’m gonna take a nap at your feet, if you don’t mind.&quot; );\r\n    }\r\n}\r\n```\r\n\r\n```java\r\n// Mark as `final` as one way to seal the superclass.\r\npublic final class Cat extends Animal {\r\n    @Override\r\n    public void eat () {\r\n        System.out.println( &quot;Eating meat. Meow.&quot; );\r\n    }\r\n\r\n    public void petMe () {\r\n        System.out.println( &quot;Pet me, now, servant!&quot; );\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n… then we can further simplify that code above by omitting the `default` case. Furthermore, if we later add another subtype, the compiler will alert us by emitting a compiler error. If we edit our code to omit any of the subclasses (`Dog` case or `Cat` case here), the compiler likewise emits a compiler error. \r\n\r\n```java\r\n// Preview feature in Java 17 ➤ JEP 406: Pattern Matching for switch (Preview)\r\n// Combined with Java 17+ feature ➤ JEP 409: Sealed Classes\r\nfor ( Animal animal : animals )\r\n{\r\n    switch ( animal )\r\n    {\r\n        case Dog dog -&gt; dog.snooze();\r\n        case Cat cat -&gt; cat.petMe();\r\n        case null -&gt; System.out.println( &quot;Oops, no animal.&quot; );\r\n        // NO LONGER NEEDED…  default -&gt; System.out.println( &quot;Oops, encountered unexpected type of animal.&quot; );\r\n    }\r\n}\r\n```\r\n\r\n\r\n## Conclusion\r\n\r\nIf you want to collect `BaseElement` objects, then retrieve them and treat them as their more specific narrower type (`Node`, `Way` and `Relation`), just cast. Or let the latest Java features do the casting for you.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Visitor_pattern\r\n  [2]: https://en.wikipedia.org/wiki/Generics_in_Java\r\n  [3]: https://openjdk.java.net/jeps/406\r\n  [4]: https://en.wikipedia.org/wiki/Long-term_support","title":"How do I create a list with multiple types that have the same superclass, without losing the type","body":"<h1>tl;dr</h1>\n<p>An object does <em>not</em> lose its type when retrieved from a Generics-savvy collection (having a parameterized type). You can test for the subtype by using <code>instanceof</code> and then cast.</p>\n<p>You asked how to call a subclass-specific method on an object retrieved from Generics-enabled collection:</p>\n<blockquote>\n<p><code>new EarthMap().getElement(0).getLocation() // getLocation() is defined in class Node, not in BaseElement</code></p>\n</blockquote>\n<p>Using the latest features in Java, this work can be as simple as:</p>\n<pre class=\"lang-java prettyprint-override\"><code>BaseElement element = new EarthMap().getElement(0) ;\nswitch ( element )\n{\n    case Node node -&gt; node.getLocation() ;  // Method defined in class `Node`, not `BaseElement`.\n    case Way way -&gt; way.someWaySpecificMethod();\n    case Relation relation -&gt; relation.someRelationSpecificMethod();\n}\n</code></pre>\n<p>… with the compiler verifying you have covered all possible cases.</p>\n<p>Such an approach can be used instead of the cumbersome <a href=\"https://en.wikipedia.org/wiki/Visitor_pattern\" rel=\"nofollow noreferrer\">Visitor Pattern</a> mentioned in the Comments on this Question. The pattern-matching and sealed-class features will generally make for more transparent and straightforward code.</p>\n<h1>Type is not lost</h1>\n<p>When you retrieve an object from a container using <a href=\"https://en.wikipedia.org/wiki/Generics_in_Java\" rel=\"nofollow noreferrer\">Java Generics</a>, the object does not “lose its type”. The object’s type is masked, being returned as the more general type parameterized on the collection. But the object still knows its own type.</p>\n<h2>Polymorphism as proof</h2>\n<p>We can verify this fact by way of polymorphism. If the subclasses have their own distinct behavior, we should see that behavior rather than the superclass behavior if their type is preserved.</p>\n<p>Let's use a simple example, a superclass of <code>Animal</code> with two subclasses, <code>Dog</code> &amp; <code>Cat</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public abstract class Animal {\n    public void eat () {\n        System.out.println( &quot;Eating.&quot; );\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class Dog extends Animal {\n    @Override\n    public void eat () {\n        System.out.println( &quot;Eating meat and veg. Woof.&quot; );\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class Cat extends Animal {\n    @Override\n    public void eat () {\n        System.out.println( &quot;Eating meat. Meow.&quot; );\n    }\n}\n</code></pre>\n<p>An app to call <code>eat</code> method on each of the animals in a sample collection.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List &lt; Animal &gt; animals =\n        List.of(\n                new Cat() ,\n                new Cat() ,\n                new Dog()\n        );\n\nanimals.stream().forEach( Animal :: eat );\n</code></pre>\n<p>When run.</p>\n<pre class=\"lang-none prettyprint-override\"><code>Eating meat. Meow.\nEating meat. Meow.\nEating meat and veg. Woof.\n</code></pre>\n<p>So, we can see the cats still know they are cats, and the dog still knows it is a dog.</p>\n<h2>Methods specific to a subclass</h2>\n<p>Your Question asks about methods <em>not</em> defined on the superclass, methods that are specific to a particular subclass.</p>\n<p>For that, let’s add <code>Dog#snooze</code> method and a <code>Cat#petMe</code> method, each specific to that class only.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Dog extends Animal {\n    @Override\n    public void eat () {\n        System.out.println( &quot;Eating meat and veg. Woof.&quot; );\n    }\n\n    public void snooze () {\n        System.out.println( &quot;I’m gonna take a nap at your feet, if you don’t mind.&quot; );\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class Cat extends Animal {\n    @Override\n    public void eat () {\n        System.out.println( &quot;Eating meat. Meow.&quot; );\n    }\n\n    public void petMe () {\n        System.out.println( &quot;Pet me, now, servant!&quot; );\n    }\n}\n</code></pre>\n<p>To call those specific methods, we need to cast each object from the generic <code>Animal</code> to its more specific concrete class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>for ( Animal animal : animals )\n{\n    if ( animal instanceof Dog )\n    {\n        Dog dog = ( Dog ) animal;\n        dog.snooze();\n    }\n    if ( animal instanceof Cat )\n    {\n        Cat cat = ( Cat ) animal;\n        cat.petMe();\n    }\n}\n</code></pre>\n<p>When run.</p>\n<pre class=\"lang-none prettyprint-override\"><code>Pet me, now, servant!\nPet me, now, servant!\nI’m gonna take a nap at your feet, if you don’t mind.\n</code></pre>\n<h3>Pattern Matching for <code>instanceof</code></h3>\n<p>In Java 16 and later, we can now shorten that code testing <code>instanceof</code>. On a single line we can test, cast, and assign to a variable. See <a href=\"https://openjdk.java.net/jeps/394\" rel=\"nofollow noreferrer\"><em>JEP 394: Pattern Matching for instanceof</em></a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Java 16+ ➤ JEP 394: Pattern Matching for instanceof\nfor ( Animal animal : animals )\n{\n    if ( animal instanceof Dog dog )\n    {\n        {\n            dog.snooze();\n        }\n    }\n    else if ( animal instanceof Cat cat )\n    {\n        cat.petMe();\n    }\n    else\n    {\n        System.out.println( &quot;Oops, encountered unexpected type of animal.&quot; );\n    }\n}\n</code></pre>\n<h3>Pattern Matching for <code>switch</code></h3>\n<p>This work gets even simpler using a new feature being previewed in Java 17.</p>\n<p><a href=\"https://openjdk.java.net/jeps/406\" rel=\"nofollow noreferrer\"><em>JEP 406: Pattern Matching for switch (Preview)</em></a> brings that <code>instanceof</code> pattern-matching to the <code>switch</code> statement.</p>\n<p>Beware: You need to set your project &amp; runtime to enable this not-yet-official feature. By default, disabled.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Preview feature in Java 17 ➤ JEP 406: Pattern Matching for switch (Preview)\nfor ( Animal animal : animals )\n{\n    switch ( animal )\n    {\n        case Dog dog -&gt; dog.snooze();\n        case Cat cat -&gt; cat.petMe();\n        case null -&gt; System.out.println( &quot;Oops, no animal.&quot; );\n        default -&gt; System.out.println( &quot;Oops, encountered unexpected type of animal.&quot; );\n    }\n}\n</code></pre>\n<h3>Sealed classes</h3>\n<p>Java 17, the current <a href=\"https://en.wikipedia.org/wiki/Long-term_support\" rel=\"nofollow noreferrer\">Long-Term Support (LTS)</a> version, brings another new feature: <em>Sealed classes</em>. In a sealed class, you declare for a particular superclass all possible subclasses. The superclass is then considered closed for extension by any others. Therefore, the compiler can identify, at compile-time, a list of <em>all</em> subclasses.</p>\n<p>See: <a href=\"https://openjdk.java.net/jeps/409\" rel=\"nofollow noreferrer\"><em>JEP 409: Sealed Classes</em></a></p>\n<p>Notice the <code>default</code> at bottom of that <code>switch</code> in our code above. It serves as a catch-all in case we have not accounted for all possible sub-types of <code>Animal</code>. The compiler can make use of the sealed-class list of known subclasses to tell if our <code>switch</code> statement has covered all possible cases.</p>\n<p>If we seal our animal, dog, and cat classes:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Mark the class as `sealed`. \npublic abstract sealed class Animal permits Cat, Dog\n{\n    public void eat () {\n        System.out.println( &quot;Eating.&quot; );\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>// Mark as `final` as one way to seal the superclass.\npublic final class Dog extends Animal {\n    @Override\n    public void eat () {\n        System.out.println( &quot;Eating meat and veg. Woof.&quot; );\n    }\n\n    public void snooze () {\n        System.out.println( &quot;I’m gonna take a nap at your feet, if you don’t mind.&quot; );\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>// Mark as `final` as one way to seal the superclass.\npublic final class Cat extends Animal {\n    @Override\n    public void eat () {\n        System.out.println( &quot;Eating meat. Meow.&quot; );\n    }\n\n    public void petMe () {\n        System.out.println( &quot;Pet me, now, servant!&quot; );\n    }\n}\n</code></pre>\n<p>… then we can further simplify that code above by omitting the <code>default</code> case. Furthermore, if we later add another subtype, the compiler will alert us by emitting a compiler error. If we edit our code to omit any of the subclasses (<code>Dog</code> case or <code>Cat</code> case here), the compiler likewise emits a compiler error.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Preview feature in Java 17 ➤ JEP 406: Pattern Matching for switch (Preview)\n// Combined with Java 17+ feature ➤ JEP 409: Sealed Classes\nfor ( Animal animal : animals )\n{\n    switch ( animal )\n    {\n        case Dog dog -&gt; dog.snooze();\n        case Cat cat -&gt; cat.petMe();\n        case null -&gt; System.out.println( &quot;Oops, no animal.&quot; );\n        // NO LONGER NEEDED…  default -&gt; System.out.println( &quot;Oops, encountered unexpected type of animal.&quot; );\n    }\n}\n</code></pre>\n<h2>Conclusion</h2>\n<p>If you want to collect <code>BaseElement</code> objects, then retrieve them and treat them as their more specific narrower type (<code>Node</code>, <code>Way</code> and <code>Relation</code>), just cast. Or let the latest Java features do the casting for you.</p>\n"}],"owner":{"account_id":22472430,"reputation":13,"user_id":16672688,"display_name":"Akjo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1203,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":68795566,"answer_count":2,"score":1,"last_activity_date":1693096900,"creation_date":1629058346,"question_id":68795035,"body_markdown":"So I have an abstract class `Map` with an `ArrayList` of `BaseElement`&#39;s. \r\n\r\n`BaseElement` is also an abstract class, which is extended by three classes: `Node`, `Way` and `Relation`. It only has an attribute called `id`.\r\n\r\nInside the class `Map` i want to have a `addElement` method and a `getElement` method. The `addElement` method should add the element to the list and return the element back, without losing it&#39;s type. The `getElement` should find the element inside the list, by it&#39;s id and return it (also without losing the type).\r\n\r\nNow I tried to use type generics to do this, but I&#39;m still pretty new to type generics.\r\n\r\nCurrently this is my `Map` class:\r\n```java\r\npublic abstract class Map {\r\n\tprivate final String name;\r\n\tprivate final ArrayList&lt;BaseElement&gt; elements;\r\n\r\n\tprotected Map(String name) {\r\n\t\tthis.name = name;\r\n\t\tthis.elements = new ArrayList&lt;&gt;();\r\n\t\tthis.defineElements();\r\n\t}\r\n\r\n\tprotected abstract void defineElements();\r\n\r\n\tprotected &lt;T extends BaseElement&gt; T addElement(T element) {\r\n\t\telements.add(element);\r\n\t\treturn element;\r\n\t}\r\n\r\n\tpublic BaseElement getElement(int elementID) {\r\n\t\treturn elements.stream()\r\n\t\t\t\t.filter(element -&gt; element.getID() == elementID)\r\n\t\t\t\t.findFirst()\r\n\t\t\t\t.orElse(null);\r\n\t}\r\n\r\n\tpublic String getName() {\r\n\t\treturn name;\r\n\t}\r\n}\r\n```\r\n\r\nFor example I want to add an element with `addElement` like so...:\r\n```\r\npublic class EarthMap extends Map {\r\n\tpublic EarthMap() {\r\n\t\tsuper(&quot;Earth&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tprotected void defineElements() {\r\n\t\tNode exampleNode = this.addElement(BaseElementFactory.createNode(new Location(1.2345, 2.3456)));\r\n\t}\r\n}\r\n```\r\n\r\nand get the element again with `getElement` like so:\r\n```\r\npublic class Main {\r\n\tpublic static void main(String[] args) {\r\n\t\tnew EarthMap().getElement(0).getLocation() // getLocation() is defined in class Node, not in BaseElement\r\n\t}\r\n}\r\n```\r\n\r\nI&#39;m really not sure how to do this, without breaking the logic here. I have to store multiple objects that extend from `BaseElement` in a list, without losing their type. \r\n\r\nCan I do this with type generics? Or do I have to use another technique?","title":"How do I create a list with multiple types that have the same superclass, without losing the type","body":"<p>So I have an abstract class <code>Map</code> with an <code>ArrayList</code> of <code>BaseElement</code>'s.</p>\n<p><code>BaseElement</code> is also an abstract class, which is extended by three classes: <code>Node</code>, <code>Way</code> and <code>Relation</code>. It only has an attribute called <code>id</code>.</p>\n<p>Inside the class <code>Map</code> i want to have a <code>addElement</code> method and a <code>getElement</code> method. The <code>addElement</code> method should add the element to the list and return the element back, without losing it's type. The <code>getElement</code> should find the element inside the list, by it's id and return it (also without losing the type).</p>\n<p>Now I tried to use type generics to do this, but I'm still pretty new to type generics.</p>\n<p>Currently this is my <code>Map</code> class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public abstract class Map {\n    private final String name;\n    private final ArrayList&lt;BaseElement&gt; elements;\n\n    protected Map(String name) {\n        this.name = name;\n        this.elements = new ArrayList&lt;&gt;();\n        this.defineElements();\n    }\n\n    protected abstract void defineElements();\n\n    protected &lt;T extends BaseElement&gt; T addElement(T element) {\n        elements.add(element);\n        return element;\n    }\n\n    public BaseElement getElement(int elementID) {\n        return elements.stream()\n                .filter(element -&gt; element.getID() == elementID)\n                .findFirst()\n                .orElse(null);\n    }\n\n    public String getName() {\n        return name;\n    }\n}\n</code></pre>\n<p>For example I want to add an element with <code>addElement</code> like so...:</p>\n<pre><code>public class EarthMap extends Map {\n    public EarthMap() {\n        super(&quot;Earth&quot;);\n    }\n\n    @Override\n    protected void defineElements() {\n        Node exampleNode = this.addElement(BaseElementFactory.createNode(new Location(1.2345, 2.3456)));\n    }\n}\n</code></pre>\n<p>and get the element again with <code>getElement</code> like so:</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        new EarthMap().getElement(0).getLocation() // getLocation() is defined in class Node, not in BaseElement\n    }\n}\n</code></pre>\n<p>I'm really not sure how to do this, without breaking the logic here. I have to store multiple objects that extend from <code>BaseElement</code> in a list, without losing their type.</p>\n<p>Can I do this with type generics? Or do I have to use another technique?</p>\n"},{"tags":["java","function","inheritance","methods","overloading"],"comments":[{"owner":{"account_id":2492602,"reputation":3495,"user_id":2169777,"accept_rate":79,"display_name":"Jekin Kalariya"},"score":0,"creation_date":1473407481,"post_id":39406456,"comment_id":66137970,"body_markdown":"its depends on many things, like is your method static? what is return type of methods?","body":"its depends on many things, like is your method static? what is return type of methods?"},{"owner":{"account_id":9161307,"reputation":21,"user_id":6812526,"display_name":"RasimGuler"},"score":0,"creation_date":1473407545,"post_id":39406456,"comment_id":66138009,"body_markdown":"Their return type is float.","body":"Their return type is float."},{"owner":{"account_id":2492602,"reputation":3495,"user_id":2169777,"accept_rate":79,"display_name":"Jekin Kalariya"},"score":0,"creation_date":1473407589,"post_id":39406456,"comment_id":66138031,"body_markdown":"are they static? and both have same return type ?","body":"are they static? and both have same return type ?"},{"owner":{"account_id":9161307,"reputation":21,"user_id":6812526,"display_name":"RasimGuler"},"score":0,"creation_date":1473407961,"post_id":39406456,"comment_id":66138247,"body_markdown":"They are not static.Yes they have same return type.do_calc() method will have more than one, get_volume() methods. I think i will overload the get_volume() method. But I didn&#39;t understand how can I call two methods of same class in one line.","body":"They are not static.Yes they have same return type.do_calc() method will have more than one, get_volume() methods. I think i will overload the get_volume() method. But I didn&#39;t understand how can I call two methods of same class in one line."},{"owner":{"account_id":2492602,"reputation":3495,"user_id":2169777,"accept_rate":79,"display_name":"Jekin Kalariya"},"score":0,"creation_date":1473408559,"post_id":39406456,"comment_id":66138589,"body_markdown":"refer my anser , if both have same return type its not possible to call in one line","body":"refer my anser , if both have same return type its not possible to call in one line"}],"answers":[{"tags":[],"owner":{"account_id":8150102,"reputation":2253,"user_id":6137423,"accept_rate":100,"display_name":"AhmadWabbi"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1473412251,"creation_date":1473407479,"answer_id":39406497,"question_id":39406456,"body_markdown":"You must `return this;` at the end of each method of your class if they are not `static`. If the methods are `static`, do it like this:\r\n\r\n    public class Calculation {\r\n         public static Calculation do_calc () {\r\n               //do your calculation\r\n              return null;\r\n          }\r\n\r\n         public static Calculation get_volume(int x) {\r\n               //do your calculation\r\n              return null;\r\n          }\r\n    }\r\n\r\nThen you can write:\r\n\r\n    Calculation.do_calc().get_volume(1);\r\n\r\nNo problem in returning `null`, as the methods are static and not related to a specific instance of the class. If you don&#39;t like it, then `return new Calculation();`\r\n\r\n[Edit]\r\n\r\nThe first method should return a real object if you need to pass its result to the second method:\r\n\r\n    public class Calculation {\r\n\r\n         int result;\r\n\r\n         public static Calculation do_calc () {\r\n               //do your calculation\r\n               Calculation c=new Calculation();\r\n               c.result = theResultOfTheCalculation;\r\n              return c;\r\n          }\r\n\r\n         public void get_volume(int x) {\r\n               //do your calculation for example:\r\n               System.out.println(result + x);\r\n          }\r\n    }\r\n\r\n\r\n","title":"How to call two methods in same class?","body":"<p>You must <code>return this;</code> at the end of each method of your class if they are not <code>static</code>. If the methods are <code>static</code>, do it like this:</p>\n\n<pre><code>public class Calculation {\n     public static Calculation do_calc () {\n           //do your calculation\n          return null;\n      }\n\n     public static Calculation get_volume(int x) {\n           //do your calculation\n          return null;\n      }\n}\n</code></pre>\n\n<p>Then you can write:</p>\n\n<pre><code>Calculation.do_calc().get_volume(1);\n</code></pre>\n\n<p>No problem in returning <code>null</code>, as the methods are static and not related to a specific instance of the class. If you don't like it, then <code>return new Calculation();</code></p>\n\n<p>[Edit]</p>\n\n<p>The first method should return a real object if you need to pass its result to the second method:</p>\n\n<pre><code>public class Calculation {\n\n     int result;\n\n     public static Calculation do_calc () {\n           //do your calculation\n           Calculation c=new Calculation();\n           c.result = theResultOfTheCalculation;\n          return c;\n      }\n\n     public void get_volume(int x) {\n           //do your calculation for example:\n           System.out.println(result + x);\n      }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7925687,"reputation":131,"user_id":5985175,"accept_rate":100,"display_name":"ziraak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1473407541,"creation_date":1473407541,"answer_id":39406521,"question_id":39406456,"body_markdown":"Unless do_calc() returns the class in where de function get_volume() is located this should never be done. ","title":"How to call two methods in same class?","body":"<p>Unless do_calc() returns the class in where de function get_volume() is located this should never be done. </p>\n"},{"tags":[],"owner":{"account_id":6597541,"reputation":778,"user_id":5096800,"display_name":"riversun"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1473407583,"creation_date":1473407583,"answer_id":39406531,"question_id":39406456,"body_markdown":"Here is a little sample for you.\r\n\r\n\r\n    public class ChainTest {\r\n\r\n            public static void main(String[] args) {\r\n                    System.out.println(new ChainTest().do_calc().get_volume(1));\r\n            }\r\n\r\n            public ChainTest do_calc() {\r\n                    // do something;\r\n                    return ChainTest.this;\r\n            }\r\n\r\n            public int get_volume(int a) {\r\n                    return a;\r\n            }\r\n    }\r\n","title":"How to call two methods in same class?","body":"<p>Here is a little sample for you.</p>\n\n<pre><code>public class ChainTest {\n\n        public static void main(String[] args) {\n                System.out.println(new ChainTest().do_calc().get_volume(1));\n        }\n\n        public ChainTest do_calc() {\n                // do something;\n                return ChainTest.this;\n        }\n\n        public int get_volume(int a) {\n                return a;\n        }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3231299,"reputation":506,"user_id":2726496,"accept_rate":25,"display_name":"sugeesh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1473407806,"creation_date":1473407806,"answer_id":39406596,"question_id":39406456,"body_markdown":"You don&#39;t need to write the code in one line. You can call same object methods in different lines. \r\n\r\n    Calculator calculator = new Calculator();\r\n    calculator.do_calc();\r\n    calculator.get_volume(a);\r\n\r\nIn case, if you want static methods\r\n\r\n    Calculator.do_calc();\r\n    Calculator.get_volume(a);\r\n\r\n \r\n\r\n  ","title":"How to call two methods in same class?","body":"<p>You don't need to write the code in one line. You can call same object methods in different lines. </p>\n\n<pre><code>Calculator calculator = new Calculator();\ncalculator.do_calc();\ncalculator.get_volume(a);\n</code></pre>\n\n<p>In case, if you want static methods</p>\n\n<pre><code>Calculator.do_calc();\nCalculator.get_volume(a);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2492602,"reputation":3495,"user_id":2169777,"accept_rate":79,"display_name":"Jekin Kalariya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1473408481,"creation_date":1473408481,"answer_id":39406780,"question_id":39406456,"body_markdown":"**Case 1 If do_calc is static**\r\n\r\n\r\n    public class Calculator {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSystem.out.println(Calculator.do_calc().get_volume(1));\r\n    \t}\r\n    \r\n    \tpublic static Calculator do_calc() {\r\n    \r\n    \t\tCalculator calculator = new Calculator();\r\n    \t\t// do something;\r\n    \r\n    \t\treturn calculator;\r\n    \t}\r\n    \r\n    \tpublic float get_volume(int a) {\r\n    \t\treturn a;\r\n    \t}\r\n    }\r\n\r\n**Case 2 : If do_calc is not static**\r\n\r\n    public class Calculator {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSystem.out.println(new Calculator().do_calc().get_volume(1));\r\n    \t}\r\n    \r\n    \tpublic Calculator  do_calc() {\r\n    \r\n    \t\tCalculator calculator = new Calculator();\r\n    \t\t// do something;\r\n    \r\n    \t\treturn calculator;\r\n    \t}\r\n    \r\n    \tpublic float get_volume(int a) {\r\n    \t\treturn a;\r\n    \t}\r\n    }\r\n\r\n**Case  3 : If both have return type float as you mentioned in comment**\r\n\r\n    public class Calculator {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \t\tCalculator calculator = new Calculator();\r\n    \t\tcalculator.do_calc();\r\n    \t\tSystem.out.println(calculator.get_volume(1));\r\n    \t}\r\n    \r\n    \tpublic float do_calc() {\r\n    \r\n    \t\t// do something;\r\n    \r\n    \t\treturn 1f; // return your result\r\n    \t}\r\n    \r\n    \tpublic float get_volume(int a) {\r\n    \t\t// do something;\r\n    \t\treturn a;\r\n    \t}\r\n    }","title":"How to call two methods in same class?","body":"<p><strong>Case 1 If do_calc is static</strong></p>\n\n<pre><code>public class Calculator {\n\n    public static void main(String[] args) {\n        System.out.println(Calculator.do_calc().get_volume(1));\n    }\n\n    public static Calculator do_calc() {\n\n        Calculator calculator = new Calculator();\n        // do something;\n\n        return calculator;\n    }\n\n    public float get_volume(int a) {\n        return a;\n    }\n}\n</code></pre>\n\n<p><strong>Case 2 : If do_calc is not static</strong></p>\n\n<pre><code>public class Calculator {\n\n    public static void main(String[] args) {\n        System.out.println(new Calculator().do_calc().get_volume(1));\n    }\n\n    public Calculator  do_calc() {\n\n        Calculator calculator = new Calculator();\n        // do something;\n\n        return calculator;\n    }\n\n    public float get_volume(int a) {\n        return a;\n    }\n}\n</code></pre>\n\n<p><strong>Case  3 : If both have return type float as you mentioned in comment</strong></p>\n\n<pre><code>public class Calculator {\n\n    public static void main(String[] args) {\n\n        Calculator calculator = new Calculator();\n        calculator.do_calc();\n        System.out.println(calculator.get_volume(1));\n    }\n\n    public float do_calc() {\n\n        // do something;\n\n        return 1f; // return your result\n    }\n\n    public float get_volume(int a) {\n        // do something;\n        return a;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":9161307,"reputation":21,"user_id":6812526,"display_name":"RasimGuler"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10530,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":5,"score":0,"last_activity_date":1693094610,"creation_date":1473407342,"question_id":39406456,"body_markdown":"How can I call two methods from the same class over one object? I mean I try to write a class and its methods to run above code:\r\n\r\n    volume = Calculate.do_calc().get_volume(a);\r\n\r\nI am creating Calculate class and two methods of it. do_calc() and get_volume(a). How should I write this class to run that code.\r\n","title":"How to call two methods in same class?","body":"<p>How can I call two methods from the same class over one object? I mean I try to write a class and its methods to run above code:</p>\n<pre><code>volume = Calculate.do_calc().get_volume(a);\n</code></pre>\n<p>I am creating Calculate class and two methods of it. do_calc() and get_volume(a). How should I write this class to run that code.</p>\n"},{"tags":["java","serialization","automation","deserialization","rest-assured"],"answers":[{"tags":[],"owner":{"account_id":10263942,"reputation":5676,"user_id":7574461,"display_name":"lucas-nguyen-17"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1693094374,"creation_date":1693094374,"answer_id":76985265,"question_id":76984421,"body_markdown":"The issue is response key is `userId` not `userid`. \r\n\r\n**Solution 1**: change the property name and getter/setter.\r\n\r\n```java\r\nString userId;\r\n\r\npublic String getUserId() {\r\n    return userId;\r\n}\r\npublic void setUserId(String userid) {\r\n    this.userId = userid;\r\n}\r\n```\r\n\r\n**Solution 2**: use Jackson annotation and don&#39;t care the properties name and getter/setter\r\n\r\n```java\r\n@JsonProperty(&quot;userId&quot;)\r\nString userid;\r\n```","title":"Exception in thread &quot;main&quot; java.lang.RuntimeException: com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException:","body":"<p>The issue is response key is <code>userId</code> not <code>userid</code>.</p>\n<p><strong>Solution 1</strong>: change the property name and getter/setter.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String userId;\n\npublic String getUserId() {\n    return userId;\n}\npublic void setUserId(String userid) {\n    this.userId = userid;\n}\n</code></pre>\n<p><strong>Solution 2</strong>: use Jackson annotation and don't care the properties name and getter/setter</p>\n<pre class=\"lang-java prettyprint-override\"><code>@JsonProperty(&quot;userId&quot;)\nString userid;\n</code></pre>\n"}],"owner":{"account_id":13744424,"reputation":13,"user_id":9918582,"display_name":"Immy110"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76985265,"answer_count":1,"score":0,"last_activity_date":1693094374,"creation_date":1693076375,"question_id":76984421,"body_markdown":"I am trying to create an E2E Rest-Assured API automation flow for an E-commerce project.\r\n\r\nI am using Pojo classes and serialisation/deserialisation in order to help with this.\r\n\r\nHere I am trying to login to BaseUri called https://rahulshettyacademy.com with parameters &#39;/api/ecom/auth/login&#39;. I have tested this manually with my login and password in Postman &amp; it is working fine. But I am having issues in automating it.\r\n\r\nThis is my code for the main API class:\r\n\r\n```\r\nimport io.restassured.builder.RequestSpecBuilder;\r\nimport io.restassured.http.ContentType;\r\nimport io.restassured.specification.RequestSpecification;\r\nimport pojo.EcommerceLoginRequest;\r\nimport pojo.EcommerceLoginResponse;\r\n\r\n\r\nimport static io.restassured.RestAssured.given;\r\n\r\n\r\npublic class ECommerceAPITest {\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\t\r\n\t RequestSpecification req = new RequestSpecBuilder().setBaseUri(&quot;https://rahulshettyacademy.com&quot;).setContentType(ContentType.JSON).build();\r\n\t \r\n\t EcommerceLoginRequest loginRequest = new EcommerceLoginRequest();\r\n\t loginRequest.setUserEmail(&quot;imtiyaz_@hotmail.co.uk&quot;);\r\n\t loginRequest.setUserPassword(&quot;786Immy110.1&quot;);\r\n\r\n\t \r\n\tRequestSpecification reqLogin = given().log().all().spec(req).body(loginRequest); \r\n\tEcommerceLoginResponse loginResponse = reqLogin.when().post(&quot;/api/ecom/auth/login&quot;).then().log().all().extract().response().as(EcommerceLoginResponse.class); \r\n\r\n\t\r\n\t\r\n\tSystem.out.println(loginResponse.getToken());\r\n\tSystem.out.println(loginResponse.getuserid());\r\n\t\r\n\t\r\n\t\r\n\t}\r\n\r\n}\r\n```\r\n\r\n\r\nThe below is the code from the pojo class which is called &#39;EcommerceLoginResponse&#39;:\r\n\r\n```\r\npackage pojo;\r\n\r\n\r\npublic class EcommerceLoginResponse {\r\n\t\r\n\tString token;\r\n\tString userid;\r\n\tString message;\r\n\t\r\n\tpublic String getToken() {\r\n\t\treturn token;\r\n\t}\r\n\tpublic void setToken(String token) {\r\n\t\tthis.token = token;\r\n\t}\r\n\tpublic String getuserid() {\r\n\t\treturn userid;\r\n\t}\r\n\tpublic void setuserid(String userid) {\r\n\t\tthis.userid = userid;\r\n\t}\r\n\tpublic String getMessage() {\r\n\t\treturn message;\r\n\t}\r\n\tpublic void setMessage(String message) {\r\n\t\tthis.message = message;\r\n\t}\r\n\t\r\n\r\n}\r\n```\r\n\r\n\r\nUpon running the main test, I am getting the following error:\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.RuntimeException: com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognized field &quot;userId&quot; (class pojo.EcommerceLoginResponse), not marked as ignorable (3 known properties: &quot;token&quot;, &quot;userid&quot;, &quot;message&quot;])\r\n at [Source: (String)&quot;{&quot;token&quot;:&quot;eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2NGVhMmQ1MDc1M2VmYTQ2NTdmMDBiNDMiLCJ1c2VyRW1haWwiOiJpbXRpeWF6X0Bob3RtYWlsLmNvLnVrIiwidXNlck1vYmlsZSI6MTIzNDU2Nzg5MSwidXNlclJvbGUiOiJjdXN0b21lciIsImlhdCI6MTY5MzA3NjIwNywiZXhwIjoxNzI0NjMzODA3fQ.SZYf86-UPkQwy9UmZEsbt16cNDmYfnLcpRLgGa_aa1A&quot;,&quot;userId&quot;:&quot;64ea2d50753efa4657f00b43&quot;,&quot;message&quot;:&quot;Login Successfully&quot;}&quot;; line: 1, column: 306] (through reference chain: pojo.EcommerceLoginResponse[&quot;userId&quot;])\r\n```\r\n\r\nAny ideas on where I am going wrong?","title":"Exception in thread &quot;main&quot; java.lang.RuntimeException: com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException:","body":"<p>I am trying to create an E2E Rest-Assured API automation flow for an E-commerce project.</p>\n<p>I am using Pojo classes and serialisation/deserialisation in order to help with this.</p>\n<p>Here I am trying to login to BaseUri called <a href=\"https://rahulshettyacademy.com\" rel=\"nofollow noreferrer\">https://rahulshettyacademy.com</a> with parameters '/api/ecom/auth/login'. I have tested this manually with my login and password in Postman &amp; it is working fine. But I am having issues in automating it.</p>\n<p>This is my code for the main API class:</p>\n<pre><code>import io.restassured.builder.RequestSpecBuilder;\nimport io.restassured.http.ContentType;\nimport io.restassured.specification.RequestSpecification;\nimport pojo.EcommerceLoginRequest;\nimport pojo.EcommerceLoginResponse;\n\n\nimport static io.restassured.RestAssured.given;\n\n\npublic class ECommerceAPITest {\n\n    public static void main(String[] args) {\n\n        \n     RequestSpecification req = new RequestSpecBuilder().setBaseUri(&quot;https://rahulshettyacademy.com&quot;).setContentType(ContentType.JSON).build();\n     \n     EcommerceLoginRequest loginRequest = new EcommerceLoginRequest();\n     loginRequest.setUserEmail(&quot;imtiyaz_@hotmail.co.uk&quot;);\n     loginRequest.setUserPassword(&quot;786Immy110.1&quot;);\n\n     \n    RequestSpecification reqLogin = given().log().all().spec(req).body(loginRequest); \n    EcommerceLoginResponse loginResponse = reqLogin.when().post(&quot;/api/ecom/auth/login&quot;).then().log().all().extract().response().as(EcommerceLoginResponse.class); \n\n    \n    \n    System.out.println(loginResponse.getToken());\n    System.out.println(loginResponse.getuserid());\n    \n    \n    \n    }\n\n}\n</code></pre>\n<p>The below is the code from the pojo class which is called 'EcommerceLoginResponse':</p>\n<pre><code>package pojo;\n\n\npublic class EcommerceLoginResponse {\n    \n    String token;\n    String userid;\n    String message;\n    \n    public String getToken() {\n        return token;\n    }\n    public void setToken(String token) {\n        this.token = token;\n    }\n    public String getuserid() {\n        return userid;\n    }\n    public void setuserid(String userid) {\n        this.userid = userid;\n    }\n    public String getMessage() {\n        return message;\n    }\n    public void setMessage(String message) {\n        this.message = message;\n    }\n    \n\n}\n</code></pre>\n<p>Upon running the main test, I am getting the following error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.RuntimeException: com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognized field &quot;userId&quot; (class pojo.EcommerceLoginResponse), not marked as ignorable (3 known properties: &quot;token&quot;, &quot;userid&quot;, &quot;message&quot;])\n at [Source: (String)&quot;{&quot;token&quot;:&quot;eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2NGVhMmQ1MDc1M2VmYTQ2NTdmMDBiNDMiLCJ1c2VyRW1haWwiOiJpbXRpeWF6X0Bob3RtYWlsLmNvLnVrIiwidXNlck1vYmlsZSI6MTIzNDU2Nzg5MSwidXNlclJvbGUiOiJjdXN0b21lciIsImlhdCI6MTY5MzA3NjIwNywiZXhwIjoxNzI0NjMzODA3fQ.SZYf86-UPkQwy9UmZEsbt16cNDmYfnLcpRLgGa_aa1A&quot;,&quot;userId&quot;:&quot;64ea2d50753efa4657f00b43&quot;,&quot;message&quot;:&quot;Login Successfully&quot;}&quot;; line: 1, column: 306] (through reference chain: pojo.EcommerceLoginResponse[&quot;userId&quot;])\n</code></pre>\n<p>Any ideas on where I am going wrong?</p>\n"},{"tags":["java","java-module","methodhandle"],"answers":[{"tags":[],"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1693092353,"creation_date":1693092353,"answer_id":76985190,"question_id":76985140,"body_markdown":"A full-privilege `Lookup` can only access things that normal Java code in the [lookupClass()] could do as well.\r\n\r\nIn your case, the lookupClass is your class: `TestMH`.\r\n\r\nThe no-argument constructor of `TypeMetadata.Annotations` is [package-private](https://github.com/openjdk/jdk/blob/acd93102348f592d6f2e77a4bff6037edf708d55/src/jdk.compiler/share/classes/com/sun/tools/javac/code/TypeMetadata.java#L60-L62) - it can&#39;t be accessed from outside of that package.\r\n\r\nA Lookup respects that limitation - even if the package is open, you have to explicitly &quot;teleport&quot; into the target package:\r\n\r\n    MethodHandles.Lookup lookup = MethodHandles.lookup();\r\n    MethodHandles.Lookup targetLookup = MethodHandles.privateLookupIn(TypeMetadata.Annotations.class, lookup);\r\n    MethodType mt = MethodType.methodType(void.class);\r\n    MethodHandle mh = targetLookup.findConstructor(TypeMetadata.Annotations.class, mt);\r\n\r\n[lookupClass()]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/invoke/MethodHandles.Lookup.html#lookupClass()","title":"How to get around IllegalAccessError when creating a MethodHandle from unnamed module","body":"<p>A full-privilege <code>Lookup</code> can only access things that normal Java code in the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/invoke/MethodHandles.Lookup.html#lookupClass()\" rel=\"nofollow noreferrer\">lookupClass()</a> could do as well.</p>\n<p>In your case, the lookupClass is your class: <code>TestMH</code>.</p>\n<p>The no-argument constructor of <code>TypeMetadata.Annotations</code> is <a href=\"https://github.com/openjdk/jdk/blob/acd93102348f592d6f2e77a4bff6037edf708d55/src/jdk.compiler/share/classes/com/sun/tools/javac/code/TypeMetadata.java#L60-L62\" rel=\"nofollow noreferrer\">package-private</a> - it can't be accessed from outside of that package.</p>\n<p>A Lookup respects that limitation - even if the package is open, you have to explicitly &quot;teleport&quot; into the target package:</p>\n<pre><code>MethodHandles.Lookup lookup = MethodHandles.lookup();\nMethodHandles.Lookup targetLookup = MethodHandles.privateLookupIn(TypeMetadata.Annotations.class, lookup);\nMethodType mt = MethodType.methodType(void.class);\nMethodHandle mh = targetLookup.findConstructor(TypeMetadata.Annotations.class, mt);\n</code></pre>\n"}],"owner":{"account_id":122694,"reputation":2864,"user_id":1126796,"accept_rate":25,"display_name":"msridhar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693092353,"creation_date":1693090774,"question_id":76985140,"body_markdown":"I am trying to get a `MethodHandle` for any of the constructors of the `com.sun.tools.javac.code.TypeMetadata.Annotations` record on JDK 21.  Here is the source code of `TypeMetadata` (from OpenJDK):\r\n\r\nhttps://github.com/openjdk/jdk/blob/acd93102348f592d6f2e77a4bff6037edf708d55/src/jdk.compiler/share/classes/com/sun/tools/javac/code/TypeMetadata.java\r\n\r\nHere is my code:\r\n\r\n```java\r\nimport com.sun.tools.javac.code.TypeMetadata;\r\nimport java.lang.invoke.*;\r\nimport java.util.*;\r\n\r\nclass TestMH {\r\n  public static void main(String[] args) throws Throwable {\r\n    MethodHandles.Lookup lookup = MethodHandles.lookup();\r\n    MethodType mt = MethodType.methodType(void.class);\r\n    MethodHandle mh = lookup.findConstructor(TypeMetadata.Annotations.class, mt);\r\n    System.out.println(mh);\r\n  }\r\n}\r\n```\r\n\r\nI compile by doing `javac --add-exports=jdk.compiler/com.sun.tools.javac.code=ALL-UNNAMED TestMH.java`.  Here is the output of `java --add-opens=jdk.compiler/com.sun.tools.javac.code=ALL-UNNAMED TestMH`:\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.IllegalAccessException: no such constructor: com.sun.tools.javac.code.TypeMetadata$Annotations.&lt;init&gt;()void/newInvokeSpecial\r\n\tat java.base/java.lang.invoke.MemberName.makeAccessException(MemberName.java:911)\r\n\tat java.base/java.lang.invoke.MemberName$Factory.resolveOrFail(MemberName.java:994)\r\n\tat java.base/java.lang.invoke.MethodHandles$Lookup.resolveOrFail(MethodHandles.java:3750)\r\n\tat java.base/java.lang.invoke.MethodHandles$Lookup.findConstructor(MethodHandles.java:2837)\r\n\tat TestMH.main(TestMH.java:9)\r\nCaused by: java.lang.IllegalAccessError: class TestMH tried to access method &#39;void com.sun.tools.javac.code.TypeMetadata$Annotations.&lt;init&gt;()&#39; (TestMH is in unnamed module of loader &#39;app&#39;; com.sun.tools.javac.code.TypeMetadata$Annotations is in module jdk.compiler of loader &#39;app&#39;)\r\n\tat java.base/java.lang.invoke.MethodHandleNatives.resolve(Native Method)\r\n\tat java.base/java.lang.invoke.MemberName$Factory.resolve(MemberName.java:962)\r\n\tat java.base/java.lang.invoke.MemberName$Factory.resolveOrFail(MemberName.java:991)\r\n\t... 3 more\r\n```\r\nIs there some way to get around this `IllegalAccessError`, beyond the `--add-opens` flag?  Or is this a fundamental limitation due to the modules?\r\n\r\n","title":"How to get around IllegalAccessError when creating a MethodHandle from unnamed module","body":"<p>I am trying to get a <code>MethodHandle</code> for any of the constructors of the <code>com.sun.tools.javac.code.TypeMetadata.Annotations</code> record on JDK 21.  Here is the source code of <code>TypeMetadata</code> (from OpenJDK):</p>\n<p><a href=\"https://github.com/openjdk/jdk/blob/acd93102348f592d6f2e77a4bff6037edf708d55/src/jdk.compiler/share/classes/com/sun/tools/javac/code/TypeMetadata.java\" rel=\"nofollow noreferrer\">https://github.com/openjdk/jdk/blob/acd93102348f592d6f2e77a4bff6037edf708d55/src/jdk.compiler/share/classes/com/sun/tools/javac/code/TypeMetadata.java</a></p>\n<p>Here is my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.sun.tools.javac.code.TypeMetadata;\nimport java.lang.invoke.*;\nimport java.util.*;\n\nclass TestMH {\n  public static void main(String[] args) throws Throwable {\n    MethodHandles.Lookup lookup = MethodHandles.lookup();\n    MethodType mt = MethodType.methodType(void.class);\n    MethodHandle mh = lookup.findConstructor(TypeMetadata.Annotations.class, mt);\n    System.out.println(mh);\n  }\n}\n</code></pre>\n<p>I compile by doing <code>javac --add-exports=jdk.compiler/com.sun.tools.javac.code=ALL-UNNAMED TestMH.java</code>.  Here is the output of <code>java --add-opens=jdk.compiler/com.sun.tools.javac.code=ALL-UNNAMED TestMH</code>:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.IllegalAccessException: no such constructor: com.sun.tools.javac.code.TypeMetadata$Annotations.&lt;init&gt;()void/newInvokeSpecial\n    at java.base/java.lang.invoke.MemberName.makeAccessException(MemberName.java:911)\n    at java.base/java.lang.invoke.MemberName$Factory.resolveOrFail(MemberName.java:994)\n    at java.base/java.lang.invoke.MethodHandles$Lookup.resolveOrFail(MethodHandles.java:3750)\n    at java.base/java.lang.invoke.MethodHandles$Lookup.findConstructor(MethodHandles.java:2837)\n    at TestMH.main(TestMH.java:9)\nCaused by: java.lang.IllegalAccessError: class TestMH tried to access method 'void com.sun.tools.javac.code.TypeMetadata$Annotations.&lt;init&gt;()' (TestMH is in unnamed module of loader 'app'; com.sun.tools.javac.code.TypeMetadata$Annotations is in module jdk.compiler of loader 'app')\n    at java.base/java.lang.invoke.MethodHandleNatives.resolve(Native Method)\n    at java.base/java.lang.invoke.MemberName$Factory.resolve(MemberName.java:962)\n    at java.base/java.lang.invoke.MemberName$Factory.resolveOrFail(MemberName.java:991)\n    ... 3 more\n</code></pre>\n<p>Is there some way to get around this <code>IllegalAccessError</code>, beyond the <code>--add-opens</code> flag?  Or is this a fundamental limitation due to the modules?</p>\n"},{"tags":["java","java.util.scanner","user-input"],"comments":[{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1693072102,"post_id":76984148,"comment_id":135712896,"body_markdown":"Do you want to know if `a` is an integer?","body":"Do you want to know if <code>a</code> is an integer?"}],"answers":[{"tags":[],"owner":{"account_id":13906797,"reputation":119,"user_id":10040961,"display_name":"Jagdeesh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693073751,"creation_date":1693073751,"answer_id":76984271,"question_id":76984148,"body_markdown":"Use next() instead of nextInt() and check to see if the value is a string or a number to avoid errors by default.\r\nTry like this \r\n\r\n            System.out.println(&quot;Enter the Number you want the Maximum times the Pattern to Print while Increasing 1 each Time :\\n&quot;);\r\n            boolean isInteger = true;\r\n            do {\r\n                Scanner Obj = new Scanner(System.in);\r\n                String userInput = Obj.next();\r\n                int number = 0;\r\n                try {\r\n                    number = Integer.parseInt(userInput);\r\n                    isInteger = true;\r\n                } catch(Exception e) {\r\n                    isInteger = false;\r\n                }\r\n                if(isInteger) {\r\n                    int i, j;\r\n                    for (i = 1; i &lt;= number; i++) {\r\n                        for (j = 1; j &lt;= i; j++) {\r\n                            System.out.print(&quot;*&quot;);\r\n                        }\r\n                        System.out.println();\r\n                    }\r\n                } else {\r\n                    System.out.println(&quot;Please Enter a Integer Value - &quot; + userInput);\r\n                }\r\n            } while (isInteger == false);","title":"how do i Check if the Entered Value is a Integer? and if it is, Then only rest of the Code gets Executed","body":"<p>Use next() instead of nextInt() and check to see if the value is a string or a number to avoid errors by default.\nTry like this</p>\n<pre><code>        System.out.println(&quot;Enter the Number you want the Maximum times the Pattern to Print while Increasing 1 each Time :\\n&quot;);\n        boolean isInteger = true;\n        do {\n            Scanner Obj = new Scanner(System.in);\n            String userInput = Obj.next();\n            int number = 0;\n            try {\n                number = Integer.parseInt(userInput);\n                isInteger = true;\n            } catch(Exception e) {\n                isInteger = false;\n            }\n            if(isInteger) {\n                int i, j;\n                for (i = 1; i &lt;= number; i++) {\n                    for (j = 1; j &lt;= i; j++) {\n                        System.out.print(&quot;*&quot;);\n                    }\n                    System.out.println();\n                }\n            } else {\n                System.out.println(&quot;Please Enter a Integer Value - &quot; + userInput);\n            }\n        } while (isInteger == false);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693091322,"creation_date":1693077405,"answer_id":76984482,"question_id":76984148,"body_markdown":"&gt; _&quot;how do i Check if the Entered Value is a Integer? and if it is, Then only rest of the Code gets Executed ...&quot;_\r\n\r\nThe typical recommendation is to use the _[Integer#parseInt](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Integer.html#parseInt(java.lang.String))_ method.  \r\nThis method will throw _[NumberFormatException](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/NumberFormatException.html)_ for non-numeric values, so you can utilize a _[try-catch](https://docs.oracle.com/javase/tutorial/essential/exceptions/try.html)_ block.\r\n\r\n```java\r\nScanner Obj = new Scanner(System.in);\r\nString a = Obj.next();\r\ntry {\r\n    int value = Integer.parseInt(a);\r\n} catch (NumberFormatException exception) {\r\n        \r\n}\r\n```\r\n\r\nHere is a relevant _StackOverflow_ question and answer regarding this approach.  \r\n_[StackOverflow &amp;ndash; What&#39;s the best way to check if a String represents an integer in Java?](https://stackoverflow.com/questions/237159/whats-the-best-way-to-check-if-a-string-represents-an-integer-in-java)_.\r\n\r\nIf you are checking only integers, you can use the _[String#chars](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#chars())_ method on _a_.  \r\nThe _[Character#isDigit](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Character.html#isDigit(char))_ method will return _true_ for `&#39;0&#39;` though `&#39;9&#39;`.\r\n\r\n```java\r\nisInteger = a.chars().allMatch(Character::isDigit);\r\n```\r\n\r\nOr, you can also use the _[String#matches](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#matches(java.lang.String))_ method.  \r\nThis uses a _[regular expression pattern](https://en.wikipedia.org/wiki/Regular_expression)_, as a _String_ parameter.\r\n\r\n```java\r\nif (a.matches(&quot;\\\\d+&quot;)) \r\n```\r\n\r\n&gt; _&quot;... it should print `&quot;Please Enter a Integer Value : &quot;` and asks the user to enter another input. ...&quot;_\r\n\r\nIn this case, start _isInteger_ as _false_, and set it to _true_ from the other _if block_.\r\n\r\n&gt; _&quot;... Expected output of the above code:_\r\n&gt;\r\n&gt; ```none\r\n&gt; *\r\n&gt; **\r\n&gt; ***\r\n&gt; **** \r\n&gt; ```\r\n\r\nYou&#39;re going to want to use _[print](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/io/PrintStream.html#print(char))_, instead of _[println](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/io/PrintStream.html#println(java.lang.String))_.\r\n\r\n```java\r\nfor (j = 1; j &lt;= i; j++) {\r\n    System.out.print(&#39;*&#39;);\r\n}\r\nSystem.out.println();\r\n```\r\n\r\nHere is the full code,\r\n\r\n```java\r\nSystem.out.println(&quot;Enter the Number you want the Maximum times the Pattern to Print while Increasing 1 each Time :&quot;);\r\n\r\nboolean isInteger = false;\r\ndo {\r\n    Scanner Obj = new Scanner(System.in);\r\n    String a = Obj.next();\r\n\r\n    // The Condition I want is to check if INPUT &#39;a&#39; has a integer value and execute rest of the code on the condition.\r\n    if (a.matches(&quot;\\\\d+&quot;)) {\r\n        int i, length = Integer.parseInt(a);\r\n        for (i = 1; i &lt;= length; i++) {\r\n            int j;\r\n            for (j = 1; j &lt;= i; j++) {\r\n                System.out.print(&#39;*&#39;);\r\n            }\r\n            System.out.println();\r\n        }\r\n        isInteger = true;\r\n    } else {\r\n        System.out.println(&quot;Please Enter a Integer Value : &quot;);\r\n    }\r\n} while (isInteger == false);\r\n```\r\n\r\nOutput\r\n\r\n```none\r\nEnter the Number you want the Maximum times the Pattern to Print while Increasing 1 each Time :\r\n4\r\n*\r\n**\r\n***\r\n****\r\n```\r\n\r\nHere is how I would write the same code.\r\n\r\n```java\r\nScanner scanner = new Scanner(System.in);\r\nString string;\r\nint value, count;\r\nboolean exit = false;\r\nwhile (!exit) {\r\n    string = scanner.nextLine();\r\n    if (!string.matches(&quot;\\\\d+&quot;))\r\n        System.out.printf(&quot;invalid entry &#39;%s&#39;%n&quot;, string);\r\n    else {\r\n        value = Integer.parseInt(string);\r\n        for (count = 1; count &lt;= value; count++)\r\n            System.out.println(&quot;*&quot;.repeat(count));\r\n        exit = true;\r\n    }\r\n}\r\n```","title":"how do i Check if the Entered Value is a Integer? and if it is, Then only rest of the Code gets Executed","body":"<blockquote>\n<p><em>&quot;how do i Check if the Entered Value is a Integer? and if it is, Then only rest of the Code gets Executed ...&quot;</em></p>\n</blockquote>\n<p>The typical recommendation is to use the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Integer.html#parseInt(java.lang.String)\" rel=\"nofollow noreferrer\">Integer#parseInt</a></em> method.<br />\nThis method will throw <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/NumberFormatException.html\" rel=\"nofollow noreferrer\">NumberFormatException</a></em> for non-numeric values, so you can utilize a <em><a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/try.html\" rel=\"nofollow noreferrer\">try-catch</a></em> block.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Scanner Obj = new Scanner(System.in);\nString a = Obj.next();\ntry {\n    int value = Integer.parseInt(a);\n} catch (NumberFormatException exception) {\n        \n}\n</code></pre>\n<p>Here is a relevant <em>StackOverflow</em> question and answer regarding this approach.<br />\n<em><a href=\"https://stackoverflow.com/questions/237159/whats-the-best-way-to-check-if-a-string-represents-an-integer-in-java\">StackOverflow – What's the best way to check if a String represents an integer in Java?</a></em>.</p>\n<p>If you are checking only integers, you can use the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#chars()\" rel=\"nofollow noreferrer\">String#chars</a></em> method on <em>a</em>.<br />\nThe <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Character.html#isDigit(char)\" rel=\"nofollow noreferrer\">Character#isDigit</a></em> method will return <em>true</em> for <code>'0'</code> though <code>'9'</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>isInteger = a.chars().allMatch(Character::isDigit);\n</code></pre>\n<p>Or, you can also use the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#matches(java.lang.String)\" rel=\"nofollow noreferrer\">String#matches</a></em> method.<br />\nThis uses a <em><a href=\"https://en.wikipedia.org/wiki/Regular_expression\" rel=\"nofollow noreferrer\">regular expression pattern</a></em>, as a <em>String</em> parameter.</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (a.matches(&quot;\\\\d+&quot;)) \n</code></pre>\n<blockquote>\n<p><em>&quot;... it should print <code>&quot;Please Enter a Integer Value : &quot;</code> and asks the user to enter another input. ...&quot;</em></p>\n</blockquote>\n<p>In this case, start <em>isInteger</em> as <em>false</em>, and set it to <em>true</em> from the other <em>if block</em>.</p>\n<blockquote>\n<p><em>&quot;... Expected output of the above code:</em></p>\n<pre class=\"lang-none prettyprint-override\"><code>*\n**\n***\n**** \n</code></pre>\n</blockquote>\n<p>You're going to want to use <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/io/PrintStream.html#print(char)\" rel=\"nofollow noreferrer\">print</a></em>, instead of <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/io/PrintStream.html#println(java.lang.String)\" rel=\"nofollow noreferrer\">println</a></em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (j = 1; j &lt;= i; j++) {\n    System.out.print('*');\n}\nSystem.out.println();\n</code></pre>\n<p>Here is the full code,</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(&quot;Enter the Number you want the Maximum times the Pattern to Print while Increasing 1 each Time :&quot;);\n\nboolean isInteger = false;\ndo {\n    Scanner Obj = new Scanner(System.in);\n    String a = Obj.next();\n\n    // The Condition I want is to check if INPUT 'a' has a integer value and execute rest of the code on the condition.\n    if (a.matches(&quot;\\\\d+&quot;)) {\n        int i, length = Integer.parseInt(a);\n        for (i = 1; i &lt;= length; i++) {\n            int j;\n            for (j = 1; j &lt;= i; j++) {\n                System.out.print('*');\n            }\n            System.out.println();\n        }\n        isInteger = true;\n    } else {\n        System.out.println(&quot;Please Enter a Integer Value : &quot;);\n    }\n} while (isInteger == false);\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>Enter the Number you want the Maximum times the Pattern to Print while Increasing 1 each Time :\n4\n*\n**\n***\n****\n</code></pre>\n<p>Here is how I would write the same code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Scanner scanner = new Scanner(System.in);\nString string;\nint value, count;\nboolean exit = false;\nwhile (!exit) {\n    string = scanner.nextLine();\n    if (!string.matches(&quot;\\\\d+&quot;))\n        System.out.printf(&quot;invalid entry '%s'%n&quot;, string);\n    else {\n        value = Integer.parseInt(string);\n        for (count = 1; count &lt;= value; count++)\n            System.out.println(&quot;*&quot;.repeat(count));\n        exit = true;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":29301284,"reputation":1,"user_id":22449450,"display_name":"Rachit Srivastava"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1693091322,"creation_date":1693071896,"question_id":76984148,"body_markdown":"```\r\nimport java.util.*;\r\n\r\npublic class MainClass {\r\n\r\n  public static void main(String[] args) {\r\n    System.out.println(&quot;Enter the Number you want the Maximum times the Pattern to Print while Increasing 1 each Time :&quot;);\r\n\r\n    boolean isInteger = true;\r\n    do {\r\n      Scanner Obj = new Scanner(System.in);\r\n      int a = Obj.nextInt();\r\n\r\n      // The Condition I want is to check if INPUT &#39;a&#39; has a integer value and execute rest of the code on the condition.\r\n      if (a.hasNextInt()) {\r\n        int i;\r\n        for (i = 1; i &lt;= a; i++) {\r\n          int j;\r\n          for (j = 1; j &lt;= i; j++) {\r\n            System.out.println(&quot;a&quot;);\r\n          }\r\n          System.out.println();\r\n        }\r\n      } else {\r\n        System.out.println(&quot;Please Enter a Integer Value : &quot;);\r\n        isInteger = false;\r\n      }\r\n    } while (isInteger == false);\r\n  }\r\n}\r\n```\r\n\r\nExpected output of the above code:\r\n```\r\n*\r\n**\r\n***\r\n**** \r\n````\r\n\r\nType of Pattern Several Number of times, then I thought doing this by taking user input. If the User input is an Integer then only rest of the code gets executed, else it should print `&quot;Please Enter a Integer Value : &quot;` and asks the user to enter another input. I&#39;m new to Java.\r\n\r\nHow do I check if the entered value is an Integer?\r\n","title":"how do i Check if the Entered Value is a Integer? and if it is, Then only rest of the Code gets Executed","body":"<pre><code>import java.util.*;\n\npublic class MainClass {\n\n  public static void main(String[] args) {\n    System.out.println(&quot;Enter the Number you want the Maximum times the Pattern to Print while Increasing 1 each Time :&quot;);\n\n    boolean isInteger = true;\n    do {\n      Scanner Obj = new Scanner(System.in);\n      int a = Obj.nextInt();\n\n      // The Condition I want is to check if INPUT 'a' has a integer value and execute rest of the code on the condition.\n      if (a.hasNextInt()) {\n        int i;\n        for (i = 1; i &lt;= a; i++) {\n          int j;\n          for (j = 1; j &lt;= i; j++) {\n            System.out.println(&quot;a&quot;);\n          }\n          System.out.println();\n        }\n      } else {\n        System.out.println(&quot;Please Enter a Integer Value : &quot;);\n        isInteger = false;\n      }\n    } while (isInteger == false);\n  }\n}\n</code></pre>\n<p>Expected output of the above code:</p>\n<pre><code>*\n**\n***\n**** \n</code></pre>\n<p>Type of Pattern Several Number of times, then I thought doing this by taking user input. If the User input is an Integer then only rest of the code gets executed, else it should print <code>&quot;Please Enter a Integer Value : &quot;</code> and asks the user to enter another input. I'm new to Java.</p>\n<p>How do I check if the entered value is an Integer?</p>\n"},{"tags":["java","arrays","collections"],"answers":[{"tags":[],"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1512387736,"creation_date":1512387736,"answer_id":47632594,"question_id":47632521,"body_markdown":"You can produce a `Map&lt;String, List&lt;String&gt;&gt;` quite easily with Java 8 `Stream`s:\r\n\r\n    Map&lt;String, List&lt;String&gt;&gt;\r\n        merged =\r\n            Stream.of(data,data1) // create a Stream&lt;Map&lt;String,String&gt; of all Maps\r\n                  .flatMap(map-&gt;map.entrySet().stream()) // map all the entries of all the\r\n                                                         // Maps into a \r\n                                                         // Stream&lt;Map.Entry&lt;String,String&gt;&gt;\r\n                  .collect(Collectors.groupingBy(Map.Entry::getKey, // group entries by key\r\n                                                 Collectors.mapping(Map.Entry::getValue,\r\n                                                                    Collectors.toList())));\r\n\r\nThe output `Map`:\r\n\r\n    {John=[Taxi Driver, Driver], Mark=[Professional Killer, Murderer]}","title":"Merge maps and make values as array","body":"<p>You can produce a <code>Map&lt;String, List&lt;String&gt;&gt;</code> quite easily with Java 8 <code>Stream</code>s:</p>\n\n<pre><code>Map&lt;String, List&lt;String&gt;&gt;\n    merged =\n        Stream.of(data,data1) // create a Stream&lt;Map&lt;String,String&gt; of all Maps\n              .flatMap(map-&gt;map.entrySet().stream()) // map all the entries of all the\n                                                     // Maps into a \n                                                     // Stream&lt;Map.Entry&lt;String,String&gt;&gt;\n              .collect(Collectors.groupingBy(Map.Entry::getKey, // group entries by key\n                                             Collectors.mapping(Map.Entry::getValue,\n                                                                Collectors.toList())));\n</code></pre>\n\n<p>The output <code>Map</code>:</p>\n\n<pre><code>{John=[Taxi Driver, Driver], Mark=[Professional Killer, Murderer]}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1512387807,"creation_date":1512387807,"answer_id":47632616,"question_id":47632521,"body_markdown":"Something like this?\r\n\r\n    void add(String key, String value, Map&lt;String,List&lt;String&gt;&gt; map) {\r\n        List&lt;String&gt; list = map.get(key);\r\n        if (list == null) {\r\n            list = new ArrayList&lt;&gt;();\r\n            map.put(key, list);\r\n        }\r\n        list.add(value);\r\n    }","title":"Merge maps and make values as array","body":"<p>Something like this?</p>\n\n<pre><code>void add(String key, String value, Map&lt;String,List&lt;String&gt;&gt; map) {\n    List&lt;String&gt; list = map.get(key);\n    if (list == null) {\n        list = new ArrayList&lt;&gt;();\n        map.put(key, list);\n    }\n    list.add(value);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11052106,"reputation":3581,"user_id":8116173,"display_name":"Przemysław Moskal"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1512400067,"creation_date":1512387823,"answer_id":47632627,"question_id":47632521,"body_markdown":"You may want to create `Map&lt;String, &lt;ArrayList&lt;String&gt;&gt;`. That way you can store multiple values that are associated with one key.\n\nYou may consider creating method that provides storing multiple values associated to unique key in specified map:\n\n    public static void add(String key, String value, Map&lt;String, List&lt;String&gt;&gt; map) {\n    \t\t// Here you create a refeREnce to instance of the list storing values associated with given key:\n    \t\tList&lt;String&gt; listOfValues = map.get(key);\n    \t\t// If given key was already present in the map...\n    \t\tif(listOfValues != null) {\n    \t\t\t// Add given value to list of values associated with given key:\n    \t\t\tlistOfValues.add(value);\n    \t\t// If given key wasn&#39;t present in the map...\n    \t\t} else {\n    \t\t\t// Initialize an ArrayList that will store given value in the map:\n    \t\t\tlistOfValues = new ArrayList&lt;&gt;();\n    \t\t\t// Put new entry into the given map (given key and to-be-filled list of values:\n    \t\t\tmap.put(key, listOfValues);\n    \t\t\t// Put given value to the list of values associated with given key\n    \t\t\tlistOfValues.add(value);\n            }\n    }","title":"Merge maps and make values as array","body":"<p>You may want to create <code>Map&lt;String, &lt;ArrayList&lt;String&gt;&gt;</code>. That way you can store multiple values that are associated with one key.</p>\n\n<p>You may consider creating method that provides storing multiple values associated to unique key in specified map:</p>\n\n<pre><code>public static void add(String key, String value, Map&lt;String, List&lt;String&gt;&gt; map) {\n        // Here you create a refeREnce to instance of the list storing values associated with given key:\n        List&lt;String&gt; listOfValues = map.get(key);\n        // If given key was already present in the map...\n        if(listOfValues != null) {\n            // Add given value to list of values associated with given key:\n            listOfValues.add(value);\n        // If given key wasn't present in the map...\n        } else {\n            // Initialize an ArrayList that will store given value in the map:\n            listOfValues = new ArrayList&lt;&gt;();\n            // Put new entry into the given map (given key and to-be-filled list of values:\n            map.put(key, listOfValues);\n            // Put given value to the list of values associated with given key\n            listOfValues.add(value);\n        }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3318258,"reputation":199,"user_id":2790027,"accept_rate":75,"display_name":"Jerry Zhou"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1512388528,"creation_date":1512388528,"answer_id":47632810,"question_id":47632521,"body_markdown":"the data structure `Multimap` may be the best choice. The implementation in guava is highly recommended.  \r\n[https://github.com/google/guava/wiki/NewCollectionTypesExplained#multimap](https://github.com/google/guava/wiki/NewCollectionTypesExplained#multimap)","title":"Merge maps and make values as array","body":"<p>the data structure <code>Multimap</code> may be the best choice. The implementation in guava is highly recommended.<br>\n<a href=\"https://github.com/google/guava/wiki/NewCollectionTypesExplained#multimap\" rel=\"nofollow noreferrer\">https://github.com/google/guava/wiki/NewCollectionTypesExplained#multimap</a></p>\n"},{"tags":[],"owner":{"account_id":3155790,"reputation":14985,"user_id":2668232,"accept_rate":100,"display_name":"Oleksandr Pyrohov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693091113,"creation_date":1693091113,"answer_id":76985150,"question_id":47632521,"body_markdown":"Assuming `Map&lt;String, List&lt;String&gt;&gt;` as a result works for you, here is an iterative version using [`Map.computeIfAbsent`][1] available since Java 8:\r\n```\r\nMap&lt;String, List&lt;String&gt;&gt; data3 = new HashMap&lt;&gt;();\r\nfor (Map&lt;String, String&gt; d : Arrays.asList(data, data1)) {\r\n  for (String k : d.keySet()) {\r\n    data3.computeIfAbsent(k, ignored -&gt; new ArrayList&lt;&gt;()).add(d.get(k));\r\n  }\r\n}\r\n```\r\nNote: computeIfAbsent allows you to compute a value for a key if it&#39;s not already associated with a value. In this case, the mapping function passed to computeIfAbsent creates a new `ArrayList` if there is no existing value for the key `k`. Next, the value from `d.get(k)` is added to that list.\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#computeIfAbsent-K-java.util.function.Function-","title":"Merge maps and make values as array","body":"<p>Assuming <code>Map&lt;String, List&lt;String&gt;&gt;</code> as a result works for you, here is an iterative version using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#computeIfAbsent-K-java.util.function.Function-\" rel=\"nofollow noreferrer\"><code>Map.computeIfAbsent</code></a> available since Java 8:</p>\n<pre><code>Map&lt;String, List&lt;String&gt;&gt; data3 = new HashMap&lt;&gt;();\nfor (Map&lt;String, String&gt; d : Arrays.asList(data, data1)) {\n  for (String k : d.keySet()) {\n    data3.computeIfAbsent(k, ignored -&gt; new ArrayList&lt;&gt;()).add(d.get(k));\n  }\n}\n</code></pre>\n<p>Note: computeIfAbsent allows you to compute a value for a key if it's not already associated with a value. In this case, the mapping function passed to computeIfAbsent creates a new <code>ArrayList</code> if there is no existing value for the key <code>k</code>. Next, the value from <code>d.get(k)</code> is added to that list.</p>\n"}],"owner":{"account_id":7318758,"reputation":403,"user_id":5575415,"accept_rate":62,"display_name":"Melvin Richard"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":286,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":47632594,"answer_count":5,"score":4,"last_activity_date":1693091113,"creation_date":1512387492,"question_id":47632521,"body_markdown":"\t\t\t\r\n    public class MapCheck {\r\n\t    public static void main(String[] args) {\r\n\t\t    Map&lt;String, String&gt; data = new HashMap&lt;String, String&gt;();\r\n\t\t\tdata.put(&quot;John&quot;, &quot;Taxi Driver&quot;);\r\n\t\t\tdata.put(&quot;Mark&quot;, &quot;Professional Killer&quot;);\r\n\t\t\tMap&lt;String, String&gt; data1 = new HashMap&lt;String, String&gt;();\r\n\t\t\tdata1.put(&quot;John&quot;, &quot;Driver&quot;);\r\n\t\t\tdata1.put(&quot;Mark&quot;, &quot;Murderer&quot;);\r\n\t\t\tMap&lt;String, String&gt; data3 = new HashMap&lt;String, String&gt;();\r\n\t\t\tdata3.putAll(data);\r\n\t\t\tdata3.putAll(data1);\r\n\t\t\tSystem.out.println(data3);\r\n\t    }\r\n\t}\r\n\r\nI have few maps which contains same key, their values are different. I want to merge them. But when I merge them with the usual `putAll()` it gives me only the value of the key which was inserted latest.\r\n\r\nOutput from above code is  `{John=Driver, Mark=Murderer}`\r\n\r\nIs there a method which will get me all the values associated with the key and give me as a array like \r\n\r\n    {John=[Taxi Driver, Driver], Mark=[Professional Killer, Murderer]}","title":"Merge maps and make values as array","body":"<pre><code>public class MapCheck {\n    public static void main(String[] args) {\n        Map&lt;String, String&gt; data = new HashMap&lt;String, String&gt;();\n        data.put(\"John\", \"Taxi Driver\");\n        data.put(\"Mark\", \"Professional Killer\");\n        Map&lt;String, String&gt; data1 = new HashMap&lt;String, String&gt;();\n        data1.put(\"John\", \"Driver\");\n        data1.put(\"Mark\", \"Murderer\");\n        Map&lt;String, String&gt; data3 = new HashMap&lt;String, String&gt;();\n        data3.putAll(data);\n        data3.putAll(data1);\n        System.out.println(data3);\n    }\n}\n</code></pre>\n\n<p>I have few maps which contains same key, their values are different. I want to merge them. But when I merge them with the usual <code>putAll()</code> it gives me only the value of the key which was inserted latest.</p>\n\n<p>Output from above code is  <code>{John=Driver, Mark=Murderer}</code></p>\n\n<p>Is there a method which will get me all the values associated with the key and give me as a array like </p>\n\n<pre><code>{John=[Taxi Driver, Driver], Mark=[Professional Killer, Murderer]}\n</code></pre>\n"},{"tags":["java","jms"],"comments":[{"owner":{"account_id":202319,"reputation":4688,"user_id":449325,"display_name":"alpian"},"score":0,"creation_date":1306267328,"post_id":6115555,"comment_id":7094642,"body_markdown":"This sounds as easy as just looping until you&#39;ve read N messages, where N is the number requested by the user.  Why won&#39;t that work for you and what specific problem are you getting?","body":"This sounds as easy as just looping until you&#39;ve read N messages, where N is the number requested by the user.  Why won&#39;t that work for you and what specific problem are you getting?"},{"owner":{"account_id":1411666,"reputation":4134,"user_id":1338132,"display_name":"Axel Podehl"},"score":0,"creation_date":1515054485,"post_id":6115555,"comment_id":83156941,"body_markdown":"This type of feature falls more into the administrative features of a JMS Broker. Viewing the #msgs in a queue is not part of the JMS spec. Which JMS Provider are you using ? Very often there is a separate Admin API for that kind of thing. E.g. TIBCO EMS, ActiveMQ, IBM MQ all have this type of admin API.","body":"This type of feature falls more into the administrative features of a JMS Broker. Viewing the #msgs in a queue is not part of the JMS spec. Which JMS Provider are you using ? Very often there is a separate Admin API for that kind of thing. E.g. TIBCO EMS, ActiveMQ, IBM MQ all have this type of admin API."}],"answers":[{"tags":[],"owner":{"account_id":265406,"reputation":3155,"user_id":552347,"display_name":"Ravi Bhatt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1306268311,"creation_date":1306268311,"answer_id":6116335,"question_id":6115555,"body_markdown":"i assume that you are using a MessageListner, so OnMessage() method will be called once a message comes up. In this method you can keep a counter, once this counter reaches maximum allowed, you can call connection.stop() to stop consuming messages from the queue. \r\n\r\nYou can always restart by calling connection.start() again. ","title":"Reading a message from a Queue and display it to the user?","body":"<p>i assume that you are using a MessageListner, so OnMessage() method will be called once a message comes up. In this method you can keep a counter, once this counter reaches maximum allowed, you can call connection.stop() to stop consuming messages from the queue. </p>\n\n<p>You can always restart by calling connection.start() again. </p>\n"}],"owner":{"account_id":756801,"reputation":31,"user_id":768365,"display_name":"xyz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12687,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1693090850,"creation_date":1306264136,"question_id":6115555,"body_markdown":"I want to know first how many messages are already existing in a Queue. The following class Browser will return the number of messages existing in Queue. Now, I want user to enter the number of messages to be read from a queue and display only that number of messages to the client. I do not want to read all the messages from a queue but only those number of messages which user wants to read. Please check the code and reply what should be done. \r\n\r\n    public class Browser\r\n    {\r\n        public static void main(String[] args) throws Exception\r\n        {\r\n        |   // get the initial context\r\n        |   InitialContext ctx = new InitialContext();\r\n        |                                                                      \r\n        |   // lookup the queue object\r\n        |   Queue queue = (Queue) ctx.lookup(&quot;queue/queue0&quot;);\r\n        |                                                                      \r\n        |   // lookup the queue connection factory\r\n        |   QueueConnectionFactory connFactory = (QueueConnectionFactory) ctx.\r\n        |       lookup(&quot;queue/connectionFactory&quot;);\r\n        |                                                                      \r\n        |   // create a queue connection\r\n        |   QueueConnection queueConn = connFactory.createQueueConnection();\r\n        |                                                                      \r\n        |   // create a queue session\r\n        |   QueueSession queueSession = queueConn.createQueueSession(false,\r\n        |       Session.AUTO_ACKNOWLEDGE);\r\n        |                                                                      \r\n        |   // create a queue browser\r\n        |   QueueBrowser queueBrowser = queueSession.createBrowser(queue);\r\n        |                                                                      \r\n        |   // start the connection\r\n        |   queueConn.start();\r\n        |                                                                      \r\n        |   // browse the messages\r\n        |   Enumeration e = queueBrowser.getEnumeration();\r\n        |   int numMsgs = 0;\r\n        |                                                                      \r\n        |   // count number of messages\r\n        |   while (e.hasMoreElements()) {\r\n        |   |   Message message = (Message) e.nextElement();\r\n        |   |   numMsgs++;\r\n        |   }\r\n        |                                                                      \r\n        |   System.out.println(queue + &quot; has &quot; + numMsgs + &quot; messages&quot;);\r\n        |                                                                      \r\n        |   // close the queue connection\r\n        |   queueConn.close();\r\n        }\r\n    }\r\n    \r\n    \r\n    To read the number of messages as per user&#39;s requirements....\r\n    String NUMBER = request.getParameter(&quot;number&quot;); \r\n    .......\r\n    .......\r\n    .......\r\n    connection.start();\r\n                for (int s = 0; s &lt;= Integer.parseInt(NUMBER); s++){\r\n                 while (true){\r\n                \tMessage m = qReceiver.receive();\r\n                \tif (m != null){\r\n                \t\tif (m instanceof BytesMessage){\r\n                \t\t\tBytesMessage bytesMessage = (BytesMessage)m;\r\n                \t\t\tPrintStream buffer = null;\r\n                \t\t\tfor ( int i = 0; i &lt; (int)bytesMessage.getBodyLength(); i++) {\r\n                \t\t\t\tbuffer.append((char) bytesMessage.readByte());\r\n    \t            \t\t\t}\r\n    \t            \t\t\tString msg = buffer.toString().trim();\r\n    \t            \t\t\t\r\n    \t            \t\t\tSystem.out.println(&quot;Reading Message: &quot; + msg);\r\n                \t\t   }else if (m instanceof TextMessage){\r\n                \t\t\tTextMessage textMessage = (TextMessage)m;\r\n                \t\t\tSystem.out.println(&quot;Reading message: &quot; + textMessage.getText());\r\n                \t\t}else {\r\n                \t\t\tbreak;\r\n                \t\t}","title":"Reading a message from a Queue and display it to the user?","body":"<p>I want to know first how many messages are already existing in a Queue. The following class Browser will return the number of messages existing in Queue. Now, I want user to enter the number of messages to be read from a queue and display only that number of messages to the client. I do not want to read all the messages from a queue but only those number of messages which user wants to read. Please check the code and reply what should be done. </p>\n\n<pre><code>public class Browser\n{\n    public static void main(String[] args) throws Exception\n    {\n    |   // get the initial context\n    |   InitialContext ctx = new InitialContext();\n    |                                                                      \n    |   // lookup the queue object\n    |   Queue queue = (Queue) ctx.lookup(\"queue/queue0\");\n    |                                                                      \n    |   // lookup the queue connection factory\n    |   QueueConnectionFactory connFactory = (QueueConnectionFactory) ctx.\n    |       lookup(\"queue/connectionFactory\");\n    |                                                                      \n    |   // create a queue connection\n    |   QueueConnection queueConn = connFactory.createQueueConnection();\n    |                                                                      \n    |   // create a queue session\n    |   QueueSession queueSession = queueConn.createQueueSession(false,\n    |       Session.AUTO_ACKNOWLEDGE);\n    |                                                                      \n    |   // create a queue browser\n    |   QueueBrowser queueBrowser = queueSession.createBrowser(queue);\n    |                                                                      \n    |   // start the connection\n    |   queueConn.start();\n    |                                                                      \n    |   // browse the messages\n    |   Enumeration e = queueBrowser.getEnumeration();\n    |   int numMsgs = 0;\n    |                                                                      \n    |   // count number of messages\n    |   while (e.hasMoreElements()) {\n    |   |   Message message = (Message) e.nextElement();\n    |   |   numMsgs++;\n    |   }\n    |                                                                      \n    |   System.out.println(queue + \" has \" + numMsgs + \" messages\");\n    |                                                                      \n    |   // close the queue connection\n    |   queueConn.close();\n    }\n}\n\n\nTo read the number of messages as per user's requirements....\nString NUMBER = request.getParameter(\"number\"); \n.......\n.......\n.......\nconnection.start();\n            for (int s = 0; s &lt;= Integer.parseInt(NUMBER); s++){\n             while (true){\n                Message m = qReceiver.receive();\n                if (m != null){\n                    if (m instanceof BytesMessage){\n                        BytesMessage bytesMessage = (BytesMessage)m;\n                        PrintStream buffer = null;\n                        for ( int i = 0; i &lt; (int)bytesMessage.getBodyLength(); i++) {\n                            buffer.append((char) bytesMessage.readByte());\n                            }\n                            String msg = buffer.toString().trim();\n\n                            System.out.println(\"Reading Message: \" + msg);\n                       }else if (m instanceof TextMessage){\n                        TextMessage textMessage = (TextMessage)m;\n                        System.out.println(\"Reading message: \" + textMessage.getText());\n                    }else {\n                        break;\n                    }\n</code></pre>\n"},{"tags":["java","android","kotlin","android-service"],"comments":[{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1693082079,"post_id":76984542,"comment_id":135713917,"body_markdown":"Your `startForegroundService()` call will not work, as you are not calling `startForeground()` from inside the service. You also are not calling through to `super.onCreate()` from your `onCreate()` method.","body":"Your <code>startForegroundService()</code> call will not work, as you are not calling <code>startForeground()</code> from inside the service. You also are not calling through to <code>super.onCreate()</code> from your <code>onCreate()</code> method."},{"owner":{"account_id":12978452,"reputation":117,"user_id":9381727,"display_name":"Ibrahem Hamdy"},"score":0,"creation_date":1693082539,"post_id":76984542,"comment_id":135713983,"body_markdown":"It didn&#39;t work, I did everything","body":"It didn&#39;t work, I did everything"},{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1693082701,"post_id":76984542,"comment_id":135713997,"body_markdown":"Then perhaps you should update your question to show your code that uses `startForeground()` and `super.onCreate()`. Perhaps there is a bug tied to those that we can identify.","body":"Then perhaps you should update your question to show your code that uses <code>startForeground()</code> and <code>super.onCreate()</code>. Perhaps there is a bug tied to those that we can identify."},{"owner":{"account_id":12978452,"reputation":117,"user_id":9381727,"display_name":"Ibrahem Hamdy"},"score":0,"creation_date":1693083551,"post_id":76984542,"comment_id":135714092,"body_markdown":"I have modified","body":"I have modified"}],"answers":[{"tags":[],"owner":{"account_id":16045392,"reputation":21,"user_id":11580651,"display_name":"Ehsan Yazdanyar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693082979,"creation_date":1693082979,"answer_id":76984799,"question_id":76984542,"body_markdown":"When working with foreground services in Android, it&#39;s a requirement to call startForeground() within the onStartCommand() method to provide a persistent notification to the user. This notification informs the user that your app is running a foreground service and helps prevent the system from terminating the service unexpectedly.\r\n\r\n    @Override\r\n    public int onStartCommand(Intent intent, int flags, int startId) {\r\n    player = MediaPlayer.create(this, R.raw.ringtone);\r\n    player.start();\r\n\r\n    // Create a notification for the foreground service\r\n    Notification notification = new NotificationCompat.Builder(this, CHANNEL_ID)\r\n        .setContentTitle(&quot;Foreground Service&quot;)\r\n        .setContentText(&quot;Service is running...&quot;)\r\n        .setSmallIcon(R.drawable.ic_example)\r\n        .build();\r\n\r\n    // Start the service as a foreground service\r\n    startForeground(NOTIFICATION_ID, notification);\r\n\r\n    return START_NOT_STICKY;\r\n}","title":"1 processes and 0 service under Settings, Apps and Running","body":"<p>When working with foreground services in Android, it's a requirement to call startForeground() within the onStartCommand() method to provide a persistent notification to the user. This notification informs the user that your app is running a foreground service and helps prevent the system from terminating the service unexpectedly.</p>\n<pre><code>@Override\npublic int onStartCommand(Intent intent, int flags, int startId) {\nplayer = MediaPlayer.create(this, R.raw.ringtone);\nplayer.start();\n\n// Create a notification for the foreground service\nNotification notification = new NotificationCompat.Builder(this, CHANNEL_ID)\n    .setContentTitle(&quot;Foreground Service&quot;)\n    .setContentText(&quot;Service is running...&quot;)\n    .setSmallIcon(R.drawable.ic_example)\n    .build();\n\n// Start the service as a foreground service\nstartForeground(NOTIFICATION_ID, notification);\n\nreturn START_NOT_STICKY;\n</code></pre>\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":26035935,"reputation":51,"user_id":19741383,"display_name":"Malik Farooq"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693088738,"creation_date":1693088738,"answer_id":76985076,"question_id":76984542,"body_markdown":"There can be various causes that your service is not working\r\n1) Insure that you are starting the service like startForegroundService\r\n2) Make sure to grant the Battery Optimization permission.\r\n3) It&#39;s possible that service instantiated but it might be getting halted and problem can be originate other side of your project.","title":"1 processes and 0 service under Settings, Apps and Running","body":"<p>There can be various causes that your service is not working</p>\n<ol>\n<li>Insure that you are starting the service like startForegroundService</li>\n<li>Make sure to grant the Battery Optimization permission.</li>\n<li>It's possible that service instantiated but it might be getting halted and problem can be originate other side of your project.</li>\n</ol>\n"}],"owner":{"account_id":12978452,"reputation":117,"user_id":9381727,"display_name":"Ibrahem Hamdy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1693088738,"creation_date":1693078545,"question_id":76984542,"body_markdown":"The application is working, but why is the service not showing up?\r\n\r\nWhat is the cause of the problem, given that the Android version 10\r\n\r\n**Edit**\r\n\r\nhas been added\r\n    \r\n\r\nsuper.onCreate();\r\n\r\nI used notifications, but the problem didn&#39;t work\r\n\r\nI haven&#39;t been able to identify the cause of the problem yet\r\n\r\n\r\n[![enter image description here](https://i.stack.imgur.com/IWYiq.jpg)](https://i.stack.imgur.com/IWYiq.jpg)\r\n**in manifest\r\n**\r\n```\r\n&lt;service\r\n            android:name=&quot;.Service.AlarmService&quot;\r\n            android:label=&quot;Alarm&quot;\r\n            android:enabled=&quot;true&quot;\r\n            android:foregroundServiceType=&quot;mediaPlayback&quot;\r\n            android:icon=&quot;@drawable/ic_send&quot;/&gt;\r\n\r\n\r\n &lt;uses-permission android:name=&quot;android.permission.POST_NOTIFICATIONS&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.REQUEST_IGNORE_BATTERY_OPTIMIZATIONS&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot; /&gt;\r\n```\r\n**in service**\r\n```\r\npublic class AlarmService extends Service {\r\n    private MediaPlayer player;\r\n    IBinder iBinder;\r\n\r\n    @Override\r\n    public void onStart(Intent intent, int startId) {\r\n        super.onStart(intent, startId);\r\n\r\n\r\n    }\r\n\r\n   \r\n\r\n     @Override\r\n        public void onCreate() {\r\n            super.onCreate();\r\n              player =MediaPlayer.create(this,R.raw.ringtone);\r\n    \r\n    \r\n    if (Build.VERSION.SDK_INT &gt; Build.VERSION_CODES.O)\r\n                startMyOwnForeground();\r\n    else\r\n                startForeground(1, new Notification());\r\n        }\r\n    @Override\r\n    public int onStartCommand(Intent intent, int flags, int startId) {\r\n        player.start();\r\n\r\n\r\n       // bettrylife(this);\r\n       // stopSelf();\r\n        return START_NOT_STICKY;\r\n    }\r\n\r\n    @Override\r\n    public void onDestroy() {\r\n        super.onDestroy();\r\n    }\r\n\r\n    @Nullable\r\n    @Override\r\n    public IBinder onBind(Intent intent) {\r\n        return iBinder;\r\n    }\r\n    private void bettrylife(Context context){\r\n        PackageManager manager= context.getPackageManager();\r\n        ComponentName componentName = new ComponentName(context, AlarmService.class);\r\n\r\n        int settingcode =PackageManager.COMPONENT_ENABLED_STATE_ENABLED;\r\n        manager.setComponentEnabledSetting(componentName,settingcode, DONT_KILL_APP);\r\n\r\n    }\r\n \r\n\r\n    @RequiresApi(Build.VERSION_CODES.O)\r\n        private void startMyOwnForeground()\r\n        {\r\n            String NOTIFICATION_CHANNEL_ID = &quot;example.permanence&quot;;\r\n            String channelName = &quot;Background Service&quot;;\r\n            NotificationChannel chan = new NotificationChannel(NOTIFICATION_CHANNEL_ID, channelName, NotificationManager.IMPORTANCE_NONE);\r\n            chan.setLightColor(Color.BLUE);\r\n            chan.setLockscreenVisibility(Notification.VISIBILITY_PRIVATE);\r\n    \r\n            NotificationManager manager = (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\r\n            assert manager != null;\r\n            manager.createNotificationChannel(chan);\r\n    \r\n            NotificationCompat.Builder notificationBuilder = new NotificationCompat.Builder(this, NOTIFICATION_CHANNEL_ID);\r\n            Notification notification = notificationBuilder.setOngoing(true)\r\n                    .setContentTitle(&quot;App is running in background&quot;)\r\n                    .setPriority(NotificationManager.IMPORTANCE_MIN)\r\n                    .setCategory(Notification.CATEGORY_SERVICE)\r\n                    .build();\r\n            startForeground(2, notification);\r\n        }\r\n    \r\n    \r\n    }\r\n\r\n```\r\n\r\n**in fragment**\r\n```\r\n\r\nIntent intent =new Intent(getActivity(),AlarmService.class);\r\nstartService(intent);\r\n\r\n```\r\n\r\n\r\n\r\n\r\n\r\n","title":"1 processes and 0 service under Settings, Apps and Running","body":"<p>The application is working, but why is the service not showing up?</p>\n<p>What is the cause of the problem, given that the Android version 10</p>\n<p><strong>Edit</strong></p>\n<p>has been added</p>\n<p>super.onCreate();</p>\n<p>I used notifications, but the problem didn't work</p>\n<p>I haven't been able to identify the cause of the problem yet</p>\n<p><a href=\"https://i.stack.imgur.com/IWYiq.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IWYiq.jpg\" alt=\"enter image description here\" /></a>\n**in manifest\n**</p>\n<pre><code>&lt;service\n            android:name=&quot;.Service.AlarmService&quot;\n            android:label=&quot;Alarm&quot;\n            android:enabled=&quot;true&quot;\n            android:foregroundServiceType=&quot;mediaPlayback&quot;\n            android:icon=&quot;@drawable/ic_send&quot;/&gt;\n\n\n &lt;uses-permission android:name=&quot;android.permission.POST_NOTIFICATIONS&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.REQUEST_IGNORE_BATTERY_OPTIMIZATIONS&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot; /&gt;\n</code></pre>\n<p><strong>in service</strong></p>\n<pre><code>public class AlarmService extends Service {\n    private MediaPlayer player;\n    IBinder iBinder;\n\n    @Override\n    public void onStart(Intent intent, int startId) {\n        super.onStart(intent, startId);\n\n\n    }\n\n   \n\n     @Override\n        public void onCreate() {\n            super.onCreate();\n              player =MediaPlayer.create(this,R.raw.ringtone);\n    \n    \n    if (Build.VERSION.SDK_INT &gt; Build.VERSION_CODES.O)\n                startMyOwnForeground();\n    else\n                startForeground(1, new Notification());\n        }\n    @Override\n    public int onStartCommand(Intent intent, int flags, int startId) {\n        player.start();\n\n\n       // bettrylife(this);\n       // stopSelf();\n        return START_NOT_STICKY;\n    }\n\n    @Override\n    public void onDestroy() {\n        super.onDestroy();\n    }\n\n    @Nullable\n    @Override\n    public IBinder onBind(Intent intent) {\n        return iBinder;\n    }\n    private void bettrylife(Context context){\n        PackageManager manager= context.getPackageManager();\n        ComponentName componentName = new ComponentName(context, AlarmService.class);\n\n        int settingcode =PackageManager.COMPONENT_ENABLED_STATE_ENABLED;\n        manager.setComponentEnabledSetting(componentName,settingcode, DONT_KILL_APP);\n\n    }\n \n\n    @RequiresApi(Build.VERSION_CODES.O)\n        private void startMyOwnForeground()\n        {\n            String NOTIFICATION_CHANNEL_ID = &quot;example.permanence&quot;;\n            String channelName = &quot;Background Service&quot;;\n            NotificationChannel chan = new NotificationChannel(NOTIFICATION_CHANNEL_ID, channelName, NotificationManager.IMPORTANCE_NONE);\n            chan.setLightColor(Color.BLUE);\n            chan.setLockscreenVisibility(Notification.VISIBILITY_PRIVATE);\n    \n            NotificationManager manager = (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\n            assert manager != null;\n            manager.createNotificationChannel(chan);\n    \n            NotificationCompat.Builder notificationBuilder = new NotificationCompat.Builder(this, NOTIFICATION_CHANNEL_ID);\n            Notification notification = notificationBuilder.setOngoing(true)\n                    .setContentTitle(&quot;App is running in background&quot;)\n                    .setPriority(NotificationManager.IMPORTANCE_MIN)\n                    .setCategory(Notification.CATEGORY_SERVICE)\n                    .build();\n            startForeground(2, notification);\n        }\n    \n    \n    }\n\n</code></pre>\n<p><strong>in fragment</strong></p>\n<pre><code>\nIntent intent =new Intent(getActivity(),AlarmService.class);\nstartService(intent);\n\n</code></pre>\n"},{"tags":["java","null","mocking","mockito","inject"],"comments":[{"owner":{"account_id":5038945,"reputation":679,"user_id":4046978,"accept_rate":43,"display_name":"Abercrombieande"},"score":0,"creation_date":1416600347,"post_id":27065195,"comment_id":42651733,"body_markdown":"Is the method static or final?","body":"Is the method static or final?"},{"owner":{"account_id":5072640,"reputation":711,"user_id":4070987,"accept_rate":17,"display_name":"radpet"},"score":0,"creation_date":1416602364,"post_id":27065195,"comment_id":42652618,"body_markdown":"it is neather final nor static","body":"it is neather final nor static"},{"owner":{"account_id":3273973,"reputation":5791,"user_id":2756574,"accept_rate":89,"display_name":"Sebastian"},"score":3,"creation_date":1518425630,"post_id":27065195,"comment_id":84484764,"body_markdown":"&quot;Solved i should have read about the difference between @Mock and @Spy...&quot; would it be possible to post and accept your solution as an answer? That may help other users with the same problem and close this thread.","body":"&quot;Solved i should have read about the difference between @Mock and @Spy...&quot; would it be possible to post and accept your solution as an answer? That may help other users with the same problem and close this thread."},{"owner":{"account_id":3904494,"reputation":260,"user_id":3231510,"display_name":"Oscar Bravo"},"score":0,"creation_date":1595497995,"post_id":27065195,"comment_id":111497909,"body_markdown":"Please describe the solution rather than a silly clue.","body":"Please describe the solution rather than a silly clue."},{"owner":{"account_id":2349225,"reputation":26836,"user_id":2058547,"accept_rate":60,"display_name":"Ojonugwa Jude Ochalifu"},"score":0,"creation_date":1596400157,"post_id":27065195,"comment_id":111793203,"body_markdown":"@radpet kindly add the solution you found as an answer.","body":"@radpet kindly add the solution you found as an answer."}],"answers":[{"tags":[],"owner":{"account_id":5220196,"reputation":2212,"user_id":4173903,"display_name":"Khalid"},"down_vote_count":2,"up_vote_count":35,"is_accepted":false,"score":33,"last_activity_date":1416598860,"creation_date":1416598860,"answer_id":27069042,"question_id":27065195,"body_markdown":"Use `MockitoAnnotations.initMocks` to initiate the `@Mock` and `@InjectMocks` objects. Your test would look something like:\r\n\r\n    @Mock\r\n    FastPowering fastPower;\r\n    \r\n    @InjectMocks\r\n    Controller controller;\r\n\r\n    @Before\r\n    public void setup() {\r\n        MockitoAnnotations.initMocks(this);\r\n    }\r\n    \r\n    @Test\r\n    public void test() {\r\n        ....\r\n    }","title":"Null after @InjectMocks","body":"<p>Use <code>MockitoAnnotations.initMocks</code> to initiate the <code>@Mock</code> and <code>@InjectMocks</code> objects. Your test would look something like:</p>\n\n<pre><code>@Mock\nFastPowering fastPower;\n\n@InjectMocks\nController controller;\n\n@Before\npublic void setup() {\n    MockitoAnnotations.initMocks(this);\n}\n\n@Test\npublic void test() {\n    ....\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3270955,"reputation":2069,"user_id":2754357,"accept_rate":75,"display_name":"Tim Long"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1693088315,"creation_date":1450187342,"answer_id":34290929,"question_id":27065195,"body_markdown":"2 more things to check:\r\n\r\n   1. Mocking the behaviours of fastPower. What should this mocked object return, when it methods are called? i.e. when(fastPower.doSomething()).thenReturn(some_kind_of_object);\r\n   2. Check if the controller.computeAnswer() does not return NULL for the input of new BigDecimal(2), 2)).longValue(), (long) Math.pow(2, 2).","title":"Null after @InjectMocks","body":"<p>2 more things to check:</p>\n<ol>\n<li>Mocking the behaviours of fastPower. What should this mocked object return, when it methods are called? i.e. when(fastPower.doSomething()).thenReturn(some_kind_of_object);</li>\n<li>Check if the controller.computeAnswer() does not return NULL for the input of new BigDecimal(2), 2)).longValue(), (long) Math.pow(2, 2).</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":447134,"reputation":1792,"user_id":840584,"display_name":"Ilya Lysenko"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1669646996,"creation_date":1540765433,"answer_id":53036608,"question_id":27065195,"body_markdown":"After debugging I found a reason. This is because of the `org.powermock.core.MockRepository#instanceMocks` collection. It doesn&#39;t contain a mock for a field with `@InjectMocks` annotation (`Controller controller` in your case).\r\nTo solve it try to use the `@Spy` annotation in the field declaration with initializing of them and `@PrepareForTest` above the class declaration:\r\n\r\n```java\r\n@PrepareForTest(Controller.class)\r\n@RunWith(MockitoJUnitRunner.class)\r\npublic class ControllerTest {\r\n    \r\n    @Mock\r\n    FastPowering fastPower;\r\n    \r\n    @Spy\r\n    @InjectMocks    \r\n    Controller controller = new Controller();\r\n    \r\n    @Test\r\n    public void test() {\r\n        //...\r\n    }\r\n}\r\n```\r\n\r\nIn my case it helped. Using of the `Mockitoannotations.initMocks(this)` method is not required, it doesn&#39;t affect the result.","title":"Null after @InjectMocks","body":"<p>After debugging I found a reason. This is because of the <code>org.powermock.core.MockRepository#instanceMocks</code> collection. It doesn't contain a mock for a field with <code>@InjectMocks</code> annotation (<code>Controller controller</code> in your case).\nTo solve it try to use the <code>@Spy</code> annotation in the field declaration with initializing of them and <code>@PrepareForTest</code> above the class declaration:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@PrepareForTest(Controller.class)\n@RunWith(MockitoJUnitRunner.class)\npublic class ControllerTest {\n    \n    @Mock\n    FastPowering fastPower;\n    \n    @Spy\n    @InjectMocks    \n    Controller controller = new Controller();\n    \n    @Test\n    public void test() {\n        //...\n    }\n}\n</code></pre>\n<p>In my case it helped. Using of the <code>Mockitoannotations.initMocks(this)</code> method is not required, it doesn't affect the result.</p>\n"},{"tags":[],"owner":{"account_id":16864887,"reputation":872,"user_id":12194805,"display_name":"Oozeerally"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1602755306,"creation_date":1571824271,"answer_id":58520093,"question_id":27065195,"body_markdown":"Useful to note that the use of `MockitoAnnotations.initMocks(this);` needs to come at the **end** of your `@Before`/`setUp()` method. \r\n\r\nIf it is at the top of your `setUp()` then it may cause other mocked classes to not be initialised. \r\n\r\nI ran into this error myself just now and placing `.initMocks` at the end of my `@Before` solved my issue.","title":"Null after @InjectMocks","body":"<p>Useful to note that the use of <code>MockitoAnnotations.initMocks(this);</code> needs to come at the <strong>end</strong> of your <code>@Before</code>/<code>setUp()</code> method.</p>\n<p>If it is at the top of your <code>setUp()</code> then it may cause other mocked classes to not be initialised.</p>\n<p>I ran into this error myself just now and placing <code>.initMocks</code> at the end of my <code>@Before</code> solved my issue.</p>\n"},{"tags":[],"owner":{"account_id":391955,"reputation":9872,"user_id":752916,"accept_rate":84,"display_name":"AlexMA"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1679950734,"creation_date":1573493233,"answer_id":58806006,"question_id":27065195,"body_markdown":"I fixed this by removing the extraneous new instance I was creating in my @Before method (see example below). It was also fixed by moving `MockitoAnnotations.initMocks(this)` after initializing `myClass`, but since Mockito created `myClass` anyway, that solution was inferior.\r\n\r\n```java\r\n// Note - you may need @mock(name=&quot;foo&quot;) to help mockito differentiate props\r\n//        if they have the same type\r\n@Mock\r\nprivate Thing something;\r\n\r\n@InjectMocks\r\nprivate MyClass myClass;\r\n\r\n@Before\r\n public void setUp() {\r\n    MockitoAnnotations.initMocks(this); // Moving this below the next line fixed it...\r\n    myClass = new MyClass() // But just remove this line and let Mockito do the work\r\n}\r\n```","title":"Null after @InjectMocks","body":"<p>I fixed this by removing the extraneous new instance I was creating in my @Before method (see example below). It was also fixed by moving <code>MockitoAnnotations.initMocks(this)</code> after initializing <code>myClass</code>, but since Mockito created <code>myClass</code> anyway, that solution was inferior.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Note - you may need @mock(name=&quot;foo&quot;) to help mockito differentiate props\n//        if they have the same type\n@Mock\nprivate Thing something;\n\n@InjectMocks\nprivate MyClass myClass;\n\n@Before\n public void setUp() {\n    MockitoAnnotations.initMocks(this); // Moving this below the next line fixed it...\n    myClass = new MyClass() // But just remove this line and let Mockito do the work\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2908204,"reputation":1283,"user_id":2493020,"accept_rate":67,"display_name":"Abdul Mohsin"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1663152939,"creation_date":1663152939,"answer_id":73715662,"question_id":27065195,"body_markdown":"I was using the wrong `@Test` annotations, If you want to use `@InjectMocks` and `@Mock` in your Mockito Test, then you should\r\n\r\n 1. add `@ExtendWith(MockitoExtension.class)` annotation on your test class\r\n 2. annotate your test methods with `@Test (org.junit.jupiter.api.Test)` and not the `@Test (org.junit.Test)` annotation. be careful with the import that you are using for this annotation.\r\n\r\nThis works on `mockito-core:3.6.28` ","title":"Null after @InjectMocks","body":"<p>I was using the wrong <code>@Test</code> annotations, If you want to use <code>@InjectMocks</code> and <code>@Mock</code> in your Mockito Test, then you should</p>\n<ol>\n<li>add <code>@ExtendWith(MockitoExtension.class)</code> annotation on your test class</li>\n<li>annotate your test methods with <code>@Test (org.junit.jupiter.api.Test)</code> and not the <code>@Test (org.junit.Test)</code> annotation. be careful with the import that you are using for this annotation.</li>\n</ol>\n<p>This works on <code>mockito-core:3.6.28</code></p>\n"}],"owner":{"account_id":5072640,"reputation":711,"user_id":4070987,"accept_rate":17,"display_name":"radpet"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62021,"favorite_count":0,"down_vote_count":1,"up_vote_count":23,"answer_count":6,"score":22,"last_activity_date":1693088315,"creation_date":1416584939,"question_id":27065195,"body_markdown":"I am having some troubles passing a dependency while unit testing with JUnit.\r\n\r\nConsider these pieces of code:\r\n\r\nThis is the dependacy injecton into the class which i want to test, lets call it Controller.\r\n\r\n    @Inject private FastPowering fastPowering;\t\r\n\r\n\r\nAnd this is the unit test:\r\n\r\n    @RunWith(MockitoJUnitRunner.class)\r\n    public class ControllerTest {\r\n\r\n\t@Mock\r\n\tFastPowering fastPower;\r\n\r\n\t@InjectMocks\r\n\tController controller;\r\n\r\n\t@Test\r\n\tpublic void test() {\r\n\t\tassertEquals(\r\n\t\t\t\t(controller.computeAnswer(new BigDecimal(2), 2)).longValue(),\r\n\t\t\t\t(long) Math.pow(2, 2));\r\n\t    }\r\n    }\r\n\r\nIt seems that fastPower is null, please explain how to fix that.\r\nNull pointer exception , because of calling the @injected field (fastPower) inside the .computeAnswer method)\r\n\r\n\r\nEdit:\r\n\r\nSolved i should have read about the difference between @Mock and @Spy...\r\n\r\nDue to a lot of comments I am adding some more context to the solution\r\n\r\nThe difference is that in mock, you are creating a complete mock or fake object while in spy, there is the real object and you just spying or stubbing specific methods of it. While in spy objects, of course, since it is a real method, when you are not stubbing the method, then it will call the real method behavior.\r\n\r\nIf fastPower is annotated as *@Mock* it&#39;s methods are dummy, yet *controller.computeAnswer* depends on them to compute. One must provide behaviour.\r\n\r\nIf spy is used without stubbing then the real implementation of *fastPower* is being executed which eventually returns desired value.\r\n\r\nAnother option is to use a real *FastPowering* instance\r\n\r\nhttps://github.com/mockito/mockito/wiki/Using-Spies-(and-Fakes)\r\nhttps://github.com/mockito/mockito/wiki/Mocking-Object-Creation\r\n\r\n\r\nAnd some stackoverflow thread outlining the difference https://stackoverflow.com/questions/12827580/mocking-vs-spying-in-mocking-frameworks\r\n\r\nShort Answer: Replace `@Mock` with `@Spy` and should be working fine\r\n","title":"Null after @InjectMocks","body":"<p>I am having some troubles passing a dependency while unit testing with JUnit.</p>\n<p>Consider these pieces of code:</p>\n<p>This is the dependacy injecton into the class which i want to test, lets call it Controller.</p>\n<pre><code>@Inject private FastPowering fastPowering;  \n</code></pre>\n<p>And this is the unit test:</p>\n<pre><code>@RunWith(MockitoJUnitRunner.class)\npublic class ControllerTest {\n\n@Mock\nFastPowering fastPower;\n\n@InjectMocks\nController controller;\n\n@Test\npublic void test() {\n    assertEquals(\n            (controller.computeAnswer(new BigDecimal(2), 2)).longValue(),\n            (long) Math.pow(2, 2));\n    }\n}\n</code></pre>\n<p>It seems that fastPower is null, please explain how to fix that.\nNull pointer exception , because of calling the @injected field (fastPower) inside the .computeAnswer method)</p>\n<p>Edit:</p>\n<p>Solved i should have read about the difference between @Mock and @Spy...</p>\n<p>Due to a lot of comments I am adding some more context to the solution</p>\n<p>The difference is that in mock, you are creating a complete mock or fake object while in spy, there is the real object and you just spying or stubbing specific methods of it. While in spy objects, of course, since it is a real method, when you are not stubbing the method, then it will call the real method behavior.</p>\n<p>If fastPower is annotated as <em>@Mock</em> it's methods are dummy, yet <em>controller.computeAnswer</em> depends on them to compute. One must provide behaviour.</p>\n<p>If spy is used without stubbing then the real implementation of <em>fastPower</em> is being executed which eventually returns desired value.</p>\n<p>Another option is to use a real <em>FastPowering</em> instance</p>\n<p><a href=\"https://github.com/mockito/mockito/wiki/Using-Spies-(and-Fakes)\" rel=\"noreferrer\">https://github.com/mockito/mockito/wiki/Using-Spies-(and-Fakes)</a>\n<a href=\"https://github.com/mockito/mockito/wiki/Mocking-Object-Creation\" rel=\"noreferrer\">https://github.com/mockito/mockito/wiki/Mocking-Object-Creation</a></p>\n<p>And some stackoverflow thread outlining the difference <a href=\"https://stackoverflow.com/questions/12827580/mocking-vs-spying-in-mocking-frameworks\">Mocking vs. Spying in mocking frameworks</a></p>\n<p>Short Answer: Replace <code>@Mock</code> with <code>@Spy</code> and should be working fine</p>\n"},{"tags":["java","maven","gradle","jcommander"],"comments":[{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1693087317,"post_id":76984994,"comment_id":135714403,"body_markdown":"Is not a `c` missing in `Exception`?","body":"Is not a <code>c</code> missing in <code>Exception</code>?"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1693087457,"post_id":76984994,"comment_id":135714414,"body_markdown":"BZW _eternal_ libraries is just what I am looping for.","body":"BZW <i>eternal</i> libraries is just what I am looping for."}],"owner":{"account_id":19217331,"reputation":1,"user_id":14041838,"display_name":"batsheva"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693088153,"creation_date":1693087138,"question_id":76984994,"body_markdown":"I&#39;m using intellij and came across this error while running testNg.\r\n\r\nI verify 2 things:\r\n- the class com.buest.jcommander.ParameterExeption exists under eternal libraries\r\n- and jcommander path appears under project structure/modules.\r\n\r\nnote: when I run testNg via cmdline- the tests passed, but via intellij I get this error.\r\n","title":"java ClassNotFoundException : com.buest.jcommander.ParameterException","body":"<p>I'm using intellij and came across this error while running testNg.</p>\n<p>I verify 2 things:</p>\n<ul>\n<li>the class com.buest.jcommander.ParameterExeption exists under eternal libraries</li>\n<li>and jcommander path appears under project structure/modules.</li>\n</ul>\n<p>note: when I run testNg via cmdline- the tests passed, but via intellij I get this error.</p>\n"},{"tags":["java","spring","tomcat","war","embedded-tomcat-8"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":1,"creation_date":1611143381,"post_id":65808715,"comment_id":116354198,"body_markdown":"_Why_ are you doing this instead of using Boot?","body":"<i>Why</i> are you doing this instead of using Boot?"},{"owner":{"account_id":10344996,"reputation":21,"user_id":11944948,"display_name":"Musa Khan"},"score":2,"creation_date":1611143987,"post_id":65808715,"comment_id":116354529,"body_markdown":"It&#39;s an assignment from an institution. Btw, just discovered this and it seemed to have helped me: https://stackoverflow.com/questions/48998387/code-works-with-embedded-apache-tomcat-8-but-not-with-9-whats-changed","body":"It&#39;s an assignment from an institution. Btw, just discovered this and it seemed to have helped me: <a href=\"https://stackoverflow.com/questions/48998387/code-works-with-embedded-apache-tomcat-8-but-not-with-9-whats-changed\" title=\"code works with embedded apache tomcat 8 but not with 9 whats changed\">stackoverflow.com/questions/48998387/&hellip;</a>"}],"owner":{"account_id":10344996,"reputation":21,"user_id":11944948,"display_name":"Musa Khan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1291,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1693087905,"creation_date":1611142316,"question_id":65808715,"body_markdown":"Following the tutorial given here: &lt;https://www.codejava.net/servers/tomcat/how-to-embed-tomcat-server-into-java-web-applications&gt;, I am attempting to deploy a Spring war file in a separate embedded tomcat configured project. Here&#39;s my java configuration and my build.gradle configuration: \r\n\r\nJava Config for Embedded Tomcat:\r\n\r\n```\r\npublic static void main(String[] args) throws LifecycleException {\r\n        Tomcat tomcat = new Tomcat();\r\n        tomcat.setBaseDir(&quot;temp&quot;);\r\n        tomcat.setPort(9000);\r\n\r\n        String contextPath = &quot;&quot;;\r\n        String docBase = new File(&quot;spring.war&quot;).getAbsolutePath();\r\n\r\n        tomcat.getHost().setAppBase(&quot;.&quot;);\r\n\r\n        tomcat.addWebapp(contextPath, docBase);\r\n\r\n        tomcat.start();\r\n        tomcat.getServer().await();\r\n}\r\n```\r\n\r\nGradle build file:\r\n\r\n```\r\nplugins {\r\n    id &#39;java&#39;\r\n    id &#39;application&#39;\r\n}\r\n\r\ngroup &#39;org.example&#39;\r\nversion &#39;1.0-SNAPSHOT&#39;\r\n\r\nmainClassName = &#39;TomcatDriver&#39;\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    compile group: &#39;org.apache.tomcat.embed&#39;, name: &#39;tomcat-embed-core&#39;, version: &#39;9.0.37-dev&#39;\r\n    compile group: &#39;org.apache.tomcat.embed&#39;, name: &#39;tomcat-embed-jasper&#39;, version: &#39;9.0.37&#39;\r\n    compile group: &#39;org.apache.tomcat&#39;, name: &#39;tomcat-juli&#39;, version: &#39;9.0.37&#39;\r\n    compile group: &#39;org.apache.tomcat&#39;, name: &#39;tomcat-annotations-api&#39;, version: &#39;9.0.37&#39;\r\n}\r\n```\r\n\r\nWhen I run from Intellij Idea (Community), the app does seem to initialize somewhat, but visiting the specified address on the browser gives error:\r\n```\r\nThis site can’t be reached\r\nlocalhost refused to connect.\r\nTry:\r\nChecking the connection\r\nChecking the proxy and the firewall\r\nERR_CONNECTION_REFUSED\r\n```\r\n\r\nHere&#39;s the log that I get when running the app using Intellij Idea (Community):\r\n\r\n```\r\n17:13:32: Executing task &#39;TomcatDriver.main()&#39;...\r\n\r\n&gt; Task :compileJava\r\n&gt; Task :processResources NO-SOURCE\r\n&gt; Task :classes\r\n\r\n&gt; Task :TomcatDriver.main()\r\nJan 20, 2021 5:13:34 PM org.apache.catalina.core.StandardService startInternal\r\nINFO: Starting service [Tomcat]\r\nJan 20, 2021 5:13:34 PM org.apache.catalina.core.StandardEngine startInternal\r\nINFO: Starting Servlet engine: [Apache Tomcat/9.0.37]\r\nJan 20, 2021 5:13:34 PM org.apache.catalina.startup.ContextConfig getDefaultWebXmlFragment\r\nINFO: No global web.xml found\r\nJan 20, 2021 5:13:37 PM org.apache.jasper.servlet.TldScanner scanJars\r\nINFO: At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\r\nSLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\r\nSLF4J: Defaulting to no-operation (NOP) logger implementation\r\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\r\nJan 20, 2021 5:13:37 PM org.apache.catalina.core.ApplicationContext log\r\nINFO: 1 Spring WebApplicationInitializers detected on classpath\r\nJan 20, 2021 5:13:37 PM org.apache.catalina.core.ApplicationContext log\r\nINFO: Initializing Spring FrameworkServlet &#39;dispatcher&#39;\r\nJan 20, 2021 5:13:38 PM org.hibernate.jpa.internal.util.LogHelper logPersistenceUnitInformation\r\nINFO: HHH000204: Processing PersistenceUnitInfo [\r\n\tname: default\r\n\t...]\r\nJan 20, 2021 5:13:39 PM org.hibernate.Version logVersion\r\nINFO: HHH000412: Hibernate Core {5.3.7.Final}\r\nJan 20, 2021 5:13:39 PM org.hibernate.cfg.Environment &lt;clinit&gt;\r\nINFO: HHH000206: hibernate.properties not found\r\nJan 20, 2021 5:13:39 PM org.hibernate.annotations.common.reflection.java.JavaReflectionManager &lt;clinit&gt;\r\nINFO: HCANN000001: Hibernate Commons Annotations {5.0.4.Final}\r\nJan 20, 2021 5:13:40 PM org.hibernate.dialect.Dialect &lt;init&gt;\r\nINFO: HHH000400: Using dialect: org.hibernate.dialect.MySQLDialect\r\nJan 20, 2021 5:13:42 PM org.hibernate.validator.internal.util.Version &lt;clinit&gt;\r\nINFO: HV000001: Hibernate Validator 6.1.7.Final\r\n```\r\n\r\nCan anyone suggest what I&#39;m doing wrong in my configuration? The same configuration works for non-Spring projects with embedded tomcat of version 8 &lt;https://mvnrepository.com/artifact/org.apache.tomcat.embed/tomcat-embed-core/8.0.48&gt;. \r\n\r\nEmbedded Tomcat 8 jars don&#39;t seem to run Spring projects. I read here &lt;https://stackoverflow.com/questions/61671875/spring-boot-war-deployment-failed-to-start-in-tomcat&gt; that Spring war files may require Tomcat 9 for deployment. This is why I am trying with tomcat 9 jars. \r\n\r\n**UPDATE**\r\n\r\nI think this post solves the problem that I was having: &lt;https://stackoverflow.com/questions/48998387/code-works-with-embedded-apache-tomcat-8-but-not-with-9-whats-changed&gt;\r\n\r\n","title":"How to configure embedded Tomcat to run a Spring MVC application?","body":"<p>Following the tutorial given here: <a href=\"https://www.codejava.net/servers/tomcat/how-to-embed-tomcat-server-into-java-web-applications\" rel=\"nofollow noreferrer\">https://www.codejava.net/servers/tomcat/how-to-embed-tomcat-server-into-java-web-applications</a>, I am attempting to deploy a Spring war file in a separate embedded tomcat configured project. Here's my java configuration and my build.gradle configuration:</p>\n<p>Java Config for Embedded Tomcat:</p>\n<pre><code>public static void main(String[] args) throws LifecycleException {\n        Tomcat tomcat = new Tomcat();\n        tomcat.setBaseDir(&quot;temp&quot;);\n        tomcat.setPort(9000);\n\n        String contextPath = &quot;&quot;;\n        String docBase = new File(&quot;spring.war&quot;).getAbsolutePath();\n\n        tomcat.getHost().setAppBase(&quot;.&quot;);\n\n        tomcat.addWebapp(contextPath, docBase);\n\n        tomcat.start();\n        tomcat.getServer().await();\n}\n</code></pre>\n<p>Gradle build file:</p>\n<pre><code>plugins {\n    id 'java'\n    id 'application'\n}\n\ngroup 'org.example'\nversion '1.0-SNAPSHOT'\n\nmainClassName = 'TomcatDriver'\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    compile group: 'org.apache.tomcat.embed', name: 'tomcat-embed-core', version: '9.0.37-dev'\n    compile group: 'org.apache.tomcat.embed', name: 'tomcat-embed-jasper', version: '9.0.37'\n    compile group: 'org.apache.tomcat', name: 'tomcat-juli', version: '9.0.37'\n    compile group: 'org.apache.tomcat', name: 'tomcat-annotations-api', version: '9.0.37'\n}\n</code></pre>\n<p>When I run from Intellij Idea (Community), the app does seem to initialize somewhat, but visiting the specified address on the browser gives error:</p>\n<pre><code>This site can’t be reached\nlocalhost refused to connect.\nTry:\nChecking the connection\nChecking the proxy and the firewall\nERR_CONNECTION_REFUSED\n</code></pre>\n<p>Here's the log that I get when running the app using Intellij Idea (Community):</p>\n<pre><code>17:13:32: Executing task 'TomcatDriver.main()'...\n\n&gt; Task :compileJava\n&gt; Task :processResources NO-SOURCE\n&gt; Task :classes\n\n&gt; Task :TomcatDriver.main()\nJan 20, 2021 5:13:34 PM org.apache.catalina.core.StandardService startInternal\nINFO: Starting service [Tomcat]\nJan 20, 2021 5:13:34 PM org.apache.catalina.core.StandardEngine startInternal\nINFO: Starting Servlet engine: [Apache Tomcat/9.0.37]\nJan 20, 2021 5:13:34 PM org.apache.catalina.startup.ContextConfig getDefaultWebXmlFragment\nINFO: No global web.xml found\nJan 20, 2021 5:13:37 PM org.apache.jasper.servlet.TldScanner scanJars\nINFO: At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\nSLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\nJan 20, 2021 5:13:37 PM org.apache.catalina.core.ApplicationContext log\nINFO: 1 Spring WebApplicationInitializers detected on classpath\nJan 20, 2021 5:13:37 PM org.apache.catalina.core.ApplicationContext log\nINFO: Initializing Spring FrameworkServlet 'dispatcher'\nJan 20, 2021 5:13:38 PM org.hibernate.jpa.internal.util.LogHelper logPersistenceUnitInformation\nINFO: HHH000204: Processing PersistenceUnitInfo [\n    name: default\n    ...]\nJan 20, 2021 5:13:39 PM org.hibernate.Version logVersion\nINFO: HHH000412: Hibernate Core {5.3.7.Final}\nJan 20, 2021 5:13:39 PM org.hibernate.cfg.Environment &lt;clinit&gt;\nINFO: HHH000206: hibernate.properties not found\nJan 20, 2021 5:13:39 PM org.hibernate.annotations.common.reflection.java.JavaReflectionManager &lt;clinit&gt;\nINFO: HCANN000001: Hibernate Commons Annotations {5.0.4.Final}\nJan 20, 2021 5:13:40 PM org.hibernate.dialect.Dialect &lt;init&gt;\nINFO: HHH000400: Using dialect: org.hibernate.dialect.MySQLDialect\nJan 20, 2021 5:13:42 PM org.hibernate.validator.internal.util.Version &lt;clinit&gt;\nINFO: HV000001: Hibernate Validator 6.1.7.Final\n</code></pre>\n<p>Can anyone suggest what I'm doing wrong in my configuration? The same configuration works for non-Spring projects with embedded tomcat of version 8 <a href=\"https://mvnrepository.com/artifact/org.apache.tomcat.embed/tomcat-embed-core/8.0.48\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.apache.tomcat.embed/tomcat-embed-core/8.0.48</a>.</p>\n<p>Embedded Tomcat 8 jars don't seem to run Spring projects. I read here <a href=\"https://stackoverflow.com/questions/61671875/spring-boot-war-deployment-failed-to-start-in-tomcat\">Spring boot WAR deployment failed to start in Tomcat</a> that Spring war files may require Tomcat 9 for deployment. This is why I am trying with tomcat 9 jars.</p>\n<p><strong>UPDATE</strong></p>\n<p>I think this post solves the problem that I was having: <a href=\"https://stackoverflow.com/questions/48998387/code-works-with-embedded-apache-tomcat-8-but-not-with-9-whats-changed\">Code works with Embedded Apache Tomcat 8 but not with 9. What&#39;s changed?</a></p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":2450346,"reputation":5181,"user_id":2136795,"display_name":"Gyro Gearless"},"score":0,"creation_date":1692957638,"post_id":76976140,"comment_id":135698496,"body_markdown":"yup, you instruct maven to only include some generated java source files - sure you want that?","body":"yup, you instruct maven to only include some generated java source files - sure you want that?"},{"owner":{"account_id":10852360,"reputation":13,"user_id":7979749,"display_name":"UserASD"},"score":0,"creation_date":1692957776,"post_id":76976140,"comment_id":135698530,"body_markdown":"I have java classes in target/generated-sources/main. I generated these classes before i run my-jar profile. I want to have jar with only my generated classes.","body":"I have java classes in target/generated-sources/main. I generated these classes before i run my-jar profile. I want to have jar with only my generated classes."},{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":1,"creation_date":1692958774,"post_id":76976140,"comment_id":135698731,"body_markdown":"It does not make sense to put uncompiled Java classes into a JAR.","body":"It does not make sense to put uncompiled Java classes into a JAR."},{"owner":{"account_id":10852360,"reputation":13,"user_id":7979749,"display_name":"UserASD"},"score":0,"creation_date":1692959005,"post_id":76976140,"comment_id":135698784,"body_markdown":"When ill have jar with my classes inside I want to use it as dependency in pom.xml and use them in my project.","body":"When ill have jar with my classes inside I want to use it as dependency in pom.xml and use them in my project."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1692967796,"post_id":76976140,"comment_id":135700677,"body_markdown":"If that project is compiled and package the resulting jar contains already the compiled classes from your `target` including the ones `target/generated-sources`... if you like to have the generated part and other separated make a separate module which contains only the generation ...","body":"If that project is compiled and package the resulting jar contains already the compiled classes from your <code>target</code> including the ones <code>target&#47;generated-sources</code>... if you like to have the generated part and other separated make a separate module which contains only the generation ..."}],"answers":[{"tags":[],"owner":{"account_id":18837830,"reputation":1,"user_id":13740066,"display_name":"Abhishek Verma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693033185,"creation_date":1693033185,"answer_id":76981880,"question_id":76976140,"body_markdown":"In order to create JAR file with only your code then you can use below command without adding any extra plugin in pom.xml\r\n\r\n    mvn package\r\n\r\nBut if you want dependencies also to be part of your JAR file then you need to add assembly plugin in pom.xml and execute below command.\r\n\r\n    mvn package assembly:single\r\n\r\nYou can check steps in this tutorial for both commands: https://youtu.be/YwD9N9VYBCw?feature=shared","title":"How to generate jar from java classes in target","body":"<p>In order to create JAR file with only your code then you can use below command without adding any extra plugin in pom.xml</p>\n<pre><code>mvn package\n</code></pre>\n<p>But if you want dependencies also to be part of your JAR file then you need to add assembly plugin in pom.xml and execute below command.</p>\n<pre><code>mvn package assembly:single\n</code></pre>\n<p>You can check steps in this tutorial for both commands: <a href=\"https://youtu.be/YwD9N9VYBCw?feature=shared\" rel=\"nofollow noreferrer\">https://youtu.be/YwD9N9VYBCw?feature=shared</a></p>\n"}],"owner":{"account_id":10852360,"reputation":13,"user_id":7979749,"display_name":"UserASD"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1693087794,"creation_date":1692957330,"question_id":76976140,"body_markdown":"I want to generate a jar from Java classes I have in Target. I&#39;ve prepared this profile in pom.xml maven:\r\n\r\n    \t\t&lt;profile&gt;\r\n\t\t\t&lt;id&gt;my-jar&lt;/id&gt;\r\n\t\t\t&lt;build&gt;\r\n\t\t\t\t&lt;plugins&gt;\r\n\t\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t\t\t&lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;version&gt;3.2.0&lt;/version&gt;\r\n\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t&lt;includes&gt;\r\n\t\t\t\t\t\t\t\t&lt;include&gt;target/generated-sources/main/**/*.java&lt;/include&gt;\r\n\t\t\t\t\t\t\t&lt;/includes&gt;\r\n\t\t\t\t\t\t\t&lt;archive&gt;\r\n\t\t\t\t\t\t\t\t&lt;manifest&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;mainClass&gt;com.MyMainClass&lt;/mainClass&gt;\r\n\t\t\t\t\t\t\t\t&lt;/manifest&gt;\r\n\t\t\t\t\t\t\t&lt;/archive&gt;\r\n\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t\t&lt;/plugins&gt;\r\n\t\t\t&lt;/build&gt;\r\n\t\t&lt;/profile&gt;\r\nI run it this way:\r\n\r\n    mvn package -P my-jar\r\n\r\nIt generates jar file but without my java classes from target inside. Any idea whats wrong?","title":"How to generate jar from java classes in target","body":"<p>I want to generate a jar from Java classes I have in Target. I've prepared this profile in pom.xml maven:</p>\n<pre><code>        &lt;profile&gt;\n        &lt;id&gt;my-jar&lt;/id&gt;\n        &lt;build&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.2.0&lt;/version&gt;\n                    &lt;configuration&gt;\n                        &lt;includes&gt;\n                            &lt;include&gt;target/generated-sources/main/**/*.java&lt;/include&gt;\n                        &lt;/includes&gt;\n                        &lt;archive&gt;\n                            &lt;manifest&gt;\n                                &lt;mainClass&gt;com.MyMainClass&lt;/mainClass&gt;\n                            &lt;/manifest&gt;\n                        &lt;/archive&gt;\n                    &lt;/configuration&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/build&gt;\n    &lt;/profile&gt;\n</code></pre>\n<p>I run it this way:</p>\n<pre><code>mvn package -P my-jar\n</code></pre>\n<p>It generates jar file but without my java classes from target inside. Any idea whats wrong?</p>\n"},{"tags":["java","android","user-interface","kotlin"],"answers":[{"tags":[],"owner":{"account_id":2527365,"reputation":142481,"user_id":2196460,"accept_rate":93,"display_name":"hotkey"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1485361931,"creation_date":1485343413,"answer_id":41850369,"question_id":41849830,"body_markdown":"A more efficient approach would be to reduce the *O(n)* loop which iterates over all the views to a *O(log n)* search for the nearest edge in some sorted representation like a [`TreeSet`][1] or a [`TreeMap`][2], which are [balanced binary search trees][3]. This, of course, requires you to store four separate sorted representations for each of `leftEdge`, `rightEdge`, `topEdge`, and `bottomEdge`.\r\n\r\nA simple example would be (showing only `leftEdge`, the others are similar):\r\n\r\n    val viewsByLeftEdge = TreeMap&lt;Int, View&gt;()\r\n\r\nTo add a view into the map, just use:\r\n\r\n    viewsByLeftEdge[view.leftEdge()] = view\r\n\r\n&lt;sup&gt;(note that if several views have the same left edge value, only the last one will be stored in this map)&lt;/sup&gt;\r\n\r\nAnd after that, instead of iterating over all the views, you can find the nearest left edge to a given `left` coordinate:\r\n\r\n    val floorL = viewsByLeftEdge.floorKey(left)\r\n    val ceilingL = viewsByLeftEdge.ceilingKey(left)\r\n    val nearestL = when {\r\n        floorL == null -&gt; ceilingL\r\n        ceilingL == null -&gt; floorL\r\n        ceilingL - left &lt; left - floorL -&gt; ceilingL\r\n        else -&gt; floorL\r\n    }\r\n\r\n    if (nearestL in left - 50 .. left + 50)\r\n        x = nearestL\r\n\r\nHere, [`.floorKey(x)`][4] returns the highest edge coordinate in the map that is less than or equal to `x`, or `null` if there&#39;s no such coordinate. Similarly, [`.ceilingKey(x)`][5] returns the lowest coordinate in the map that is greater that `x`, or `null`.\r\n\r\nThis takes *O(log n)* time and will be faster than iterating over all the views for any significant number of views. If you don&#39;t need to get the view by its edge, simplify the code by replacing the `TreeMap&lt;Int, View&gt;` with `TreeSet&lt;Int&gt;` (the functions then are `floor(x)` and `ceiling(x)`.\r\n\r\nIt is up to you to place the maps in your code, fill them with your `View`s and compose the functions for the four edges that would fit better into your code design.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/TreeSet.html\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/util/TreeMap.html\r\n  [3]: https://en.wikipedia.org/wiki/Self-balancing_binary_search_tree\r\n  [4]: http://docs.oracle.com/javase/7/docs/api/java/util/TreeMap.html#floorKey(K)\r\n  [5]: http://docs.oracle.com/javase/7/docs/api/java/util/TreeMap.html#ceilingKey(K)","title":"Algorithm for alignment guidelines/snapping found in GUI builders","body":"<p>A more efficient approach would be to reduce the <em>O(n)</em> loop which iterates over all the views to a <em>O(log n)</em> search for the nearest edge in some sorted representation like a <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/TreeSet.html\" rel=\"nofollow noreferrer\"><code>TreeSet</code></a> or a <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/TreeMap.html\" rel=\"nofollow noreferrer\"><code>TreeMap</code></a>, which are <a href=\"https://en.wikipedia.org/wiki/Self-balancing_binary_search_tree\" rel=\"nofollow noreferrer\">balanced binary search trees</a>. This, of course, requires you to store four separate sorted representations for each of <code>leftEdge</code>, <code>rightEdge</code>, <code>topEdge</code>, and <code>bottomEdge</code>.</p>\n\n<p>A simple example would be (showing only <code>leftEdge</code>, the others are similar):</p>\n\n<pre><code>val viewsByLeftEdge = TreeMap&lt;Int, View&gt;()\n</code></pre>\n\n<p>To add a view into the map, just use:</p>\n\n<pre><code>viewsByLeftEdge[view.leftEdge()] = view\n</code></pre>\n\n<p><sup>(note that if several views have the same left edge value, only the last one will be stored in this map)</sup></p>\n\n<p>And after that, instead of iterating over all the views, you can find the nearest left edge to a given <code>left</code> coordinate:</p>\n\n<pre><code>val floorL = viewsByLeftEdge.floorKey(left)\nval ceilingL = viewsByLeftEdge.ceilingKey(left)\nval nearestL = when {\n    floorL == null -&gt; ceilingL\n    ceilingL == null -&gt; floorL\n    ceilingL - left &lt; left - floorL -&gt; ceilingL\n    else -&gt; floorL\n}\n\nif (nearestL in left - 50 .. left + 50)\n    x = nearestL\n</code></pre>\n\n<p>Here, <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/TreeMap.html#floorKey(K)\" rel=\"nofollow noreferrer\"><code>.floorKey(x)</code></a> returns the highest edge coordinate in the map that is less than or equal to <code>x</code>, or <code>null</code> if there's no such coordinate. Similarly, <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/TreeMap.html#ceilingKey(K)\" rel=\"nofollow noreferrer\"><code>.ceilingKey(x)</code></a> returns the lowest coordinate in the map that is greater that <code>x</code>, or <code>null</code>.</p>\n\n<p>This takes <em>O(log n)</em> time and will be faster than iterating over all the views for any significant number of views. If you don't need to get the view by its edge, simplify the code by replacing the <code>TreeMap&lt;Int, View&gt;</code> with <code>TreeSet&lt;Int&gt;</code> (the functions then are <code>floor(x)</code> and <code>ceiling(x)</code>.</p>\n\n<p>It is up to you to place the maps in your code, fill them with your <code>View</code>s and compose the functions for the four edges that would fit better into your code design.</p>\n"}],"owner":{"account_id":5345147,"reputation":423,"user_id":4260896,"accept_rate":100,"display_name":"Benjoyo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":546,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":41850369,"answer_count":1,"score":5,"last_activity_date":1693087718,"creation_date":1485341977,"question_id":41849830,"body_markdown":"I try to implement a behavior that is similar to many GUI builders: Currently dragged components should snap in alignment with another component if they are almost on a horizontal or vertical line with it.\r\nMy current approach is to iterate over all placed components and check if any of the four edges are (almost) aligned with an edge of the dragged component:\r\n\r\n    for (v in rootView.relativeLayout.children()) {\r\n\t\t// x\r\n\t\tval left = event.rawX - dXInit\r\n\t\tval right = event.rawX - dXInit + view.width\r\n\t\tval leftEdgeRange = (v.leftEdge() - 50 .. v.leftEdge() + 50)\r\n\t\tval rightEdgeRange = (v.rightEdge() - 50 .. v.rightEdge() + 50)\r\n\r\n\t\twhen (left) {\r\n\t\t\tin leftEdgeRange -&gt; x = v.leftEdge()\r\n\t\t\tin rightEdgeRange -&gt; x = v.rightEdge()\r\n\t\t}\r\n\t\twhen (right) {\r\n\t\t\tin leftEdgeRange -&gt; x = v.leftEdge() - view.width\r\n\t\t\tin rightEdgeRange -&gt; x = v.rightEdge() - view.width\r\n\t\t}\r\n\t\t// y\r\n\t\tval top = event.rawY - dYInit\r\n\t\tval bottom = event.rawY - dYInit + view.height\r\n\t\tval topEdgeRange = (v.topEdge() - 50 .. v.topEdge() + 50)\r\n\t\tval bottomEdgeRange = (v.bottomEdge() - 50 .. v.bottomEdge() + 50)\r\n\r\n\t\twhen (top) {\r\n\t\t\tin topEdgeRange -&gt; y = v.topEdge()\r\n\t\t\tin bottomEdgeRange -&gt; y = v.bottomEdge()\r\n\t\t}\r\n\t\twhen (bottom) {\r\n\t\t\tin topEdgeRange -&gt; y = v.topEdge() - view.height\r\n\t\t\tin bottomEdgeRange -&gt; y = v.bottomEdge() - view.height\r\n\t\t}\r\n\t}\r\n\r\nwith\r\n\r\n    fun View.topEdge() = y\r\n    fun View.bottomEdge() = y + height\r\n    fun View.leftEdge() = x\r\n    fun View.rightEdge() = x + width\r\n\r\nBut this seems inefficient because this code is called in **`onTouch()`**, so this loop is run pretty often. Is there a better approach? General or Java answers are welcome.","title":"Algorithm for alignment guidelines/snapping found in GUI builders","body":"<p>I try to implement a behavior that is similar to many GUI builders: Currently dragged components should snap in alignment with another component if they are almost on a horizontal or vertical line with it.\nMy current approach is to iterate over all placed components and check if any of the four edges are (almost) aligned with an edge of the dragged component:</p>\n<pre><code>for (v in rootView.relativeLayout.children()) {\n    // x\n    val left = event.rawX - dXInit\n    val right = event.rawX - dXInit + view.width\n    val leftEdgeRange = (v.leftEdge() - 50 .. v.leftEdge() + 50)\n    val rightEdgeRange = (v.rightEdge() - 50 .. v.rightEdge() + 50)\n\n    when (left) {\n        in leftEdgeRange -&gt; x = v.leftEdge()\n        in rightEdgeRange -&gt; x = v.rightEdge()\n    }\n    when (right) {\n        in leftEdgeRange -&gt; x = v.leftEdge() - view.width\n        in rightEdgeRange -&gt; x = v.rightEdge() - view.width\n    }\n    // y\n    val top = event.rawY - dYInit\n    val bottom = event.rawY - dYInit + view.height\n    val topEdgeRange = (v.topEdge() - 50 .. v.topEdge() + 50)\n    val bottomEdgeRange = (v.bottomEdge() - 50 .. v.bottomEdge() + 50)\n\n    when (top) {\n        in topEdgeRange -&gt; y = v.topEdge()\n        in bottomEdgeRange -&gt; y = v.bottomEdge()\n    }\n    when (bottom) {\n        in topEdgeRange -&gt; y = v.topEdge() - view.height\n        in bottomEdgeRange -&gt; y = v.bottomEdge() - view.height\n    }\n}\n</code></pre>\n<p>with</p>\n<pre><code>fun View.topEdge() = y\nfun View.bottomEdge() = y + height\nfun View.leftEdge() = x\nfun View.rightEdge() = x + width\n</code></pre>\n<p>But this seems inefficient because this code is called in <strong><code>onTouch()</code></strong>, so this loop is run pretty often. Is there a better approach? General or Java answers are welcome.</p>\n"},{"tags":["java","cdi","java-ee-6","openwebbeans"],"comments":[{"owner":{"account_id":3874110,"reputation":7800,"user_id":3208640,"display_name":"void"},"score":0,"creation_date":1424405755,"post_id":28600457,"comment_id":45545260,"body_markdown":"you want to create an instance of a singletone CDI bean with new!?","body":"you want to create an instance of a singletone CDI bean with new!?"},{"owner":{"account_id":2342087,"reputation":230,"user_id":2053148,"display_name":"Crx"},"score":0,"creation_date":1424418955,"post_id":28600457,"comment_id":45549306,"body_markdown":"@FarhangAmary&#39;Ferhęg&#39; - No that&#39;s not the case. See the code that I posted to make it clearer","body":"@FarhangAmary&#39;Ferhęg&#39; - No that&#39;s not the case. See the code that I posted to make it clearer"},{"owner":{"account_id":1365439,"reputation":2068,"user_id":1301970,"accept_rate":90,"display_name":"reith"},"score":0,"creation_date":1424637781,"post_id":28600457,"comment_id":45621050,"body_markdown":"Have you tried `CDI.current().get(MySingletonClass.class)`?","body":"Have you tried <code>CDI.current().get(MySingletonClass.class)</code>?"}],"answers":[{"tags":[],"owner":{"account_id":105869,"reputation":730,"user_id":282260,"display_name":"struberg"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1428573319,"creation_date":1428573001,"answer_id":29535180,"question_id":28600457,"body_markdown":"There are 2 possible solutions.\r\n\r\n1. If you have a JavaEE-7 container then you can use `CDI.current().get(MySingletonClass.class);`\r\n\r\n2. If you have a JavaEE-6 container or even a Java SE application then you can use [Apache DeltaSpike BeanProvider](http://deltaspike.apache.org/documentation/core.html#_beanprovider).\r\nIt tries to lookup the BeanManager from JNDI but also does other tricks which also work if you don&#39;t have a full EE container. E.g. in SE and unit test.\r\n\r\nYou also need to take care that not only the container got booted but also that the Contexts did properly get activated. This is usually done via a ServletListener. If you are in an EE container then they register it for you. If you are using plain tomcat, jetty, etc then you need to activate it yourself. \r\n\r\nSee [this example](https://github.com/apache/openwebbeans/blob/trunk/webbeans-web/src/main/java/org/apache/webbeans/servlet/WebBeansConfigurationListener.java) from Apache OpenWebBeans.","title":"Referencing a CDI Bean in a non managed CDI Bean","body":"<p>There are 2 possible solutions.</p>\n\n<ol>\n<li><p>If you have a JavaEE-7 container then you can use <code>CDI.current().get(MySingletonClass.class);</code></p></li>\n<li><p>If you have a JavaEE-6 container or even a Java SE application then you can use <a href=\"http://deltaspike.apache.org/documentation/core.html#_beanprovider\" rel=\"nofollow\">Apache DeltaSpike BeanProvider</a>.\nIt tries to lookup the BeanManager from JNDI but also does other tricks which also work if you don't have a full EE container. E.g. in SE and unit test.</p></li>\n</ol>\n\n<p>You also need to take care that not only the container got booted but also that the Contexts did properly get activated. This is usually done via a ServletListener. If you are in an EE container then they register it for you. If you are using plain tomcat, jetty, etc then you need to activate it yourself. </p>\n\n<p>See <a href=\"https://github.com/apache/openwebbeans/blob/trunk/webbeans-web/src/main/java/org/apache/webbeans/servlet/WebBeansConfigurationListener.java\" rel=\"nofollow\">this example</a> from Apache OpenWebBeans.</p>\n"},{"tags":[],"owner":{"account_id":15207672,"reputation":1864,"user_id":10973514,"display_name":"pref"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693087699,"creation_date":1693087699,"answer_id":76985020,"question_id":28600457,"body_markdown":"if you use new you have to have a constructor and initialize your dependencies manually and any logic that depends on them in a @PostConstruct method.\r\nInstead you can use CDI.current() e.g.\r\n\r\n     MyService service = CDI.current().select(MyService.class).get(); \r\nthen you can invoke all your service methods.","title":"Referencing a CDI Bean in a non managed CDI Bean","body":"<p>if you use new you have to have a constructor and initialize your dependencies manually and any logic that depends on them in a @PostConstruct method.\nInstead you can use CDI.current() e.g.</p>\n<pre><code> MyService service = CDI.current().select(MyService.class).get(); \n</code></pre>\n<p>then you can invoke all your service methods.</p>\n"}],"owner":{"account_id":2342087,"reputation":230,"user_id":2053148,"display_name":"Crx"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1691,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1693087699,"creation_date":1424329608,"question_id":28600457,"body_markdown":"Is it possible to obtain an instance of a CDI bean inside a class that is created using the `new` keyword? We&#39;re currently making some enhancements on an old application, and we&#39;re always getting a [ContextNotActiveException][1] everytime we do a [programmatic][2] lookup on CDI Singleton beans in our app.  \r\n\r\nCode for obtaining a reference:\r\n\r\n    public class ClassCreatedWithNew{\r\n         public void doSomething(){\r\n             MySingletonBean myBean = BeanManagerSupport.getInstance().getBean(MySingletonBean.class);\r\n         }\r\n    }\r\n\r\nBeanManagerSupport.java\r\n\r\n    public class BeanManagerSupport {\r\n    \t\r\n    \tprivate static final Logger LOG = Logger.getLogger(BeanManagerSupport.class);\r\n    \t\r\n    \tprivate static final BeanManagerSupport beanManagerSupport = new BeanManagerSupport();\r\n    \t\r\n    \tprivate BeanManager beanManager;\r\n    \t\r\n    \tprivate BeanManagerSupport() {\r\n    \t\ttry {\r\n    \t\t\tbeanManager = InitialContext.doLookup(&quot;java:comp/BeanManager&quot;);\r\n    \t\t} catch (NamingException e) {\r\n    \t\t\tLOG.error(&quot;An error has occured while obtaining an instance of BeanManager&quot;, e);\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \t@SuppressWarnings(&quot;unchecked&quot;)\r\n    \tpublic &lt;T&gt; T getBean(Class&lt;T&gt; clazz) {\r\n    \t\tIterator&lt;Bean&lt; ? &gt;&gt; iter = beanManager.getBeans(clazz).iterator();\r\n    \t\t\r\n    \t\tif (!iter.hasNext()) {\r\n    \t\t\tthrow new IllegalStateException(&quot;CDI BeanManager cannot find an instance of requested type &quot; + clazz.getName());\r\n    \t\t}\r\n    \t\t\r\n    \t\tBean&lt;T&gt; bean = (Bean&lt;T&gt;) iter.next();\r\n    \t\t\t\r\n    \t\treturn (T) beanManager.getContext(bean.getScope()).get(bean);\r\n    \t}\r\n    \t\r\n    \tpublic static BeanManagerSupport getInstance(){\r\n    \t\treturn beanManagerSupport;\r\n    \t}\r\n    }\r\n\r\n \r\n \r\n\r\n\r\n  [1]: http://docs.jboss.org/cdi/api/1.0/javax/enterprise/context/ContextNotActiveException.html\r\n  [2]: http://dominikdorn.com/2010/04/cdi-weld-manual-bean-lookup/","title":"Referencing a CDI Bean in a non managed CDI Bean","body":"<p>Is it possible to obtain an instance of a CDI bean inside a class that is created using the <code>new</code> keyword? We're currently making some enhancements on an old application, and we're always getting a <a href=\"http://docs.jboss.org/cdi/api/1.0/javax/enterprise/context/ContextNotActiveException.html\" rel=\"nofollow\">ContextNotActiveException</a> everytime we do a <a href=\"http://dominikdorn.com/2010/04/cdi-weld-manual-bean-lookup/\" rel=\"nofollow\">programmatic</a> lookup on CDI Singleton beans in our app.  </p>\n\n<p>Code for obtaining a reference:</p>\n\n<pre><code>public class ClassCreatedWithNew{\n     public void doSomething(){\n         MySingletonBean myBean = BeanManagerSupport.getInstance().getBean(MySingletonBean.class);\n     }\n}\n</code></pre>\n\n<p>BeanManagerSupport.java</p>\n\n<pre><code>public class BeanManagerSupport {\n\n    private static final Logger LOG = Logger.getLogger(BeanManagerSupport.class);\n\n    private static final BeanManagerSupport beanManagerSupport = new BeanManagerSupport();\n\n    private BeanManager beanManager;\n\n    private BeanManagerSupport() {\n        try {\n            beanManager = InitialContext.doLookup(\"java:comp/BeanManager\");\n        } catch (NamingException e) {\n            LOG.error(\"An error has occured while obtaining an instance of BeanManager\", e);\n        }\n    }\n\n    @SuppressWarnings(\"unchecked\")\n    public &lt;T&gt; T getBean(Class&lt;T&gt; clazz) {\n        Iterator&lt;Bean&lt; ? &gt;&gt; iter = beanManager.getBeans(clazz).iterator();\n\n        if (!iter.hasNext()) {\n            throw new IllegalStateException(\"CDI BeanManager cannot find an instance of requested type \" + clazz.getName());\n        }\n\n        Bean&lt;T&gt; bean = (Bean&lt;T&gt;) iter.next();\n\n        return (T) beanManager.getContext(bean.getScope()).get(bean);\n    }\n\n    public static BeanManagerSupport getInstance(){\n        return beanManagerSupport;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","unit-testing","security","resttemplate"],"answers":[{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1693086925,"creation_date":1693086925,"answer_id":76984980,"question_id":76984858,"body_markdown":"It is because you miss to configure the `HttpHeaders` with `Content-Type=application/json` to the `HttpEntity` that is sent out by the `RestTemplate` . \r\n\r\nChange to the following should fix the problem :\r\n\r\n``` java\r\n// Prepare request headers\r\nHttpHeaders headers = new HttpHeaders();\r\nheaders.setContentType(MediaType.APPLICATION_JSON);\r\n\r\n// Prepare request body\r\nHttpEntity&lt;String&gt; requestEntity = new HttpEntity&lt;&gt;(&quot;BAD-SCHEMA-$@#%{[|!/-&quot;, headers);\r\n\r\n```","title":"How to create a plain http request with json content type header in RestTemplate from Spring Test?","body":"<p>It is because you miss to configure the <code>HttpHeaders</code> with <code>Content-Type=application/json</code> to the <code>HttpEntity</code> that is sent out by the <code>RestTemplate</code> .</p>\n<p>Change to the following should fix the problem :</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Prepare request headers\nHttpHeaders headers = new HttpHeaders();\nheaders.setContentType(MediaType.APPLICATION_JSON);\n\n// Prepare request body\nHttpEntity&lt;String&gt; requestEntity = new HttpEntity&lt;&gt;(&quot;BAD-SCHEMA-$@#%{[|!/-&quot;, headers);\n\n</code></pre>\n"}],"owner":{"account_id":1290949,"reputation":3762,"user_id":1243068,"accept_rate":64,"display_name":"e-info128"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76984980,"answer_count":1,"score":1,"last_activity_date":1693086925,"creation_date":1693084026,"question_id":76984858,"body_markdown":"Have a simple rest/api spring boot project and need test when have a bad schema input, like as:\r\n\r\n```bash\r\ncurl -D- -X POST -H &#39;Content-Type: application/json&#39; \\\r\n  -d &#39;BAD-SCHEMA-$@#%{[|!/-&#39; \\\r\n  http://127.0.0.1:8080/auth/sign-up\r\n```\r\n\r\nI try use in test planning the `RestTemplate` for native JUnit 5 for Spring Test:\r\n\r\n```java\r\n    @Test\r\n    public void signUpBadInputSchemaValidation() {\r\n        /*\r\n        curl -D- -X POST -H &#39;Content-Type: application/json&#39; \\\r\n        -d &#39;BAD-SCHEMA-$@#%{[|!/-&#39; \\\r\n        http://127.0.0.1:8080/auth/sign-up\r\n        */\r\n\r\n        // Prepare request headers\r\n        HttpHeaders headers = new HttpHeaders();\r\n        headers.setContentType(MediaType.APPLICATION_JSON);\r\n\r\n        // Prepare request body\r\n        HttpEntity&lt;String&gt; requestEntity = new HttpEntity&lt;&gt;(&quot;BAD-SCHEMA-$@#%{[|!/-&quot;);\r\n\r\n        // Create http request\r\n        ResponseEntity&lt;Object&gt; responseEntity = restTemplate.exchange(\r\n            &quot;http://127.0.0.1:&quot; + port + &quot;/auth/sign-up&quot;,\r\n            HttpMethod.POST, requestEntity, Object.class);\r\n\r\n        // Response validation\r\n        assertThat(responseEntity.getStatusCode())\r\n            .isEqualTo(HttpStatus.UNPROCESSABLE_ENTITY);\r\n    }\r\n```\r\n\r\nBut `restTemplate` change `Content-Type` automatically to `text/plain`, but need keep the `application/json`.\r\n\r\nI try change port in test request and sniff with netcat:\r\n\r\n```bash\r\nncat -vlp 9999\r\nNcat: Version 7.80 ( https://nmap.org/ncat )\r\nNcat: Listening on :::9999\r\nNcat: Listening on 0.0.0.0:9999\r\nNcat: Connection from 127.0.0.1.\r\nNcat: Connection from 127.0.0.1:54478.\r\nPOST /system/access/first HTTP/1.1\r\nAccept: application/json, application/*+json\r\nContent-Type: text/plain;charset=UTF-8\r\nUser-Agent: Java/17.0.8\r\nHost: 127.0.0.1:9999\r\nConnection: keep-alive\r\nContent-Length: 21\r\n\r\nBAD-SCHEMA-$@#%{[|!/-\r\n```\r\n\r\n`restTemplate` change header to `Content-Type: text/plain;charset=UTF-8`.\r\n\r\nHow to keep `application/json` with plain text body using `restTemplate` for execute the security test?","title":"How to create a plain http request with json content type header in RestTemplate from Spring Test?","body":"<p>Have a simple rest/api spring boot project and need test when have a bad schema input, like as:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>curl -D- -X POST -H 'Content-Type: application/json' \\\n  -d 'BAD-SCHEMA-$@#%{[|!/-' \\\n  http://127.0.0.1:8080/auth/sign-up\n</code></pre>\n<p>I try use in test planning the <code>RestTemplate</code> for native JUnit 5 for Spring Test:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Test\n    public void signUpBadInputSchemaValidation() {\n        /*\n        curl -D- -X POST -H 'Content-Type: application/json' \\\n        -d 'BAD-SCHEMA-$@#%{[|!/-' \\\n        http://127.0.0.1:8080/auth/sign-up\n        */\n\n        // Prepare request headers\n        HttpHeaders headers = new HttpHeaders();\n        headers.setContentType(MediaType.APPLICATION_JSON);\n\n        // Prepare request body\n        HttpEntity&lt;String&gt; requestEntity = new HttpEntity&lt;&gt;(&quot;BAD-SCHEMA-$@#%{[|!/-&quot;);\n\n        // Create http request\n        ResponseEntity&lt;Object&gt; responseEntity = restTemplate.exchange(\n            &quot;http://127.0.0.1:&quot; + port + &quot;/auth/sign-up&quot;,\n            HttpMethod.POST, requestEntity, Object.class);\n\n        // Response validation\n        assertThat(responseEntity.getStatusCode())\n            .isEqualTo(HttpStatus.UNPROCESSABLE_ENTITY);\n    }\n</code></pre>\n<p>But <code>restTemplate</code> change <code>Content-Type</code> automatically to <code>text/plain</code>, but need keep the <code>application/json</code>.</p>\n<p>I try change port in test request and sniff with netcat:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>ncat -vlp 9999\nNcat: Version 7.80 ( https://nmap.org/ncat )\nNcat: Listening on :::9999\nNcat: Listening on 0.0.0.0:9999\nNcat: Connection from 127.0.0.1.\nNcat: Connection from 127.0.0.1:54478.\nPOST /system/access/first HTTP/1.1\nAccept: application/json, application/*+json\nContent-Type: text/plain;charset=UTF-8\nUser-Agent: Java/17.0.8\nHost: 127.0.0.1:9999\nConnection: keep-alive\nContent-Length: 21\n\nBAD-SCHEMA-$@#%{[|!/-\n</code></pre>\n<p><code>restTemplate</code> change header to <code>Content-Type: text/plain;charset=UTF-8</code>.</p>\n<p>How to keep <code>application/json</code> with plain text body using <code>restTemplate</code> for execute the security test?</p>\n"},{"tags":["java","apache-kafka"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1693143499,"post_id":76984132,"comment_id":135718352,"body_markdown":"`&lt;kafka.client.version&gt;3.4.0&lt;/kafka.client.version&gt;` is just a property, not a dependency. Show your full pom, please","body":"<code>&lt;kafka.client.version&gt;3.4.0&lt;&#47;kafka.client.version&gt;</code> is just a property, not a dependency. Show your full pom, please"}],"owner":{"account_id":541301,"reputation":849,"user_id":909792,"accept_rate":69,"display_name":"Kiran"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1693143605,"answer_count":0,"score":0,"last_activity_date":1693086538,"creation_date":1693071513,"question_id":76984132,"body_markdown":"I am trying to replay some offset, here is the kafka consumer that I have.  The same code is working fine in my local environment, but when i deploy in our DEV environment it is failing with below error. I am using `&lt;kafka.client.version&gt;3.4.0&lt;/kafka.client.version&gt;`\r\n\r\n    Properties consumerProperties = new Properties();\r\n    consumerProperties.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, kafkaProperties.getBootstrapServers());\r\n    consumerProperties.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class.getName());\r\n    consumerProperties.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class.getName());\r\n\r\n\r\n    KafkaConsumer&lt;String, String&gt; consumer = new KafkaConsumer&lt;&gt;(props);\r\n\r\nError Stack:\r\n\r\n     stack_trace: org.apache.kafka.common.config.ConfigException: Invalid value org.apache.kafka.common.serialization.StringDeserializer for configuration key.deserializer: Class org.apache.kafka.common.serialization.StringDeserializer could not be found.\r\n\tat org.apache.kafka.common.config.ConfigDef.parseType(ConfigDef.java:744)\r\n\tat org.apache.kafka.common.config.ConfigDef.parseValue(ConfigDef.java:490)\r\n\tat org.apache.kafka.common.config.ConfigDef.parse(ConfigDef.java:483)\r\n\tat org.apache.kafka.common.config.AbstractConfig.&lt;init&gt;(AbstractConfig.java:113)\r\n\tat org.apache.kafka.common.config.AbstractConfig.&lt;init&gt;(AbstractConfig.java:133)\r\n\tat org.apache.kafka.clients.consumer.ConsumerConfig.&lt;init&gt;(ConsumerConfig.java:652)\r\n\tat org.apache.kafka.clients.consumer.KafkaConsumer.&lt;init&gt;(KafkaConsumer.java:665)\r\n\tat org.apache.kafka.clients.consumer.KafkaConsumer.&lt;init&gt;(KafkaConsumer.java:646)\r\n\tat org.apache.kafka.clients.consumer.KafkaConsumer.&lt;init&gt;(KafkaConsumer.java:626)\r\n\tat java.base/java.util.concurrent.CompletableFuture$AsyncRun.run(CompletableFuture.java:1804)\r\n\tat util.TokenAwareRunnable.run(TokenAwareRunnable.java:28)\r\n\tat java.base/java.util.concurrent.ForkJoinTask$RunnableExecuteAction.exec(ForkJoinTask.java:1395)\r\n\tat java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:373)\r\n\tat java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1182)\r\n\tat java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1655)\r\n\tat java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1622)\r\n\tat java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:165)\r\n\r\nany help here ?  seems like classloader is not finding the StringDeserializer class.  May be build issue?","title":"org.apache.kafka.common.config.ConfigException : StringDeserializer could not be found","body":"<p>I am trying to replay some offset, here is the kafka consumer that I have.  The same code is working fine in my local environment, but when i deploy in our DEV environment it is failing with below error. I am using <code>&lt;kafka.client.version&gt;3.4.0&lt;/kafka.client.version&gt;</code></p>\n<pre><code>Properties consumerProperties = new Properties();\nconsumerProperties.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, kafkaProperties.getBootstrapServers());\nconsumerProperties.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class.getName());\nconsumerProperties.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class.getName());\n\n\nKafkaConsumer&lt;String, String&gt; consumer = new KafkaConsumer&lt;&gt;(props);\n</code></pre>\n<p>Error Stack:</p>\n<pre><code> stack_trace: org.apache.kafka.common.config.ConfigException: Invalid value org.apache.kafka.common.serialization.StringDeserializer for configuration key.deserializer: Class org.apache.kafka.common.serialization.StringDeserializer could not be found.\nat org.apache.kafka.common.config.ConfigDef.parseType(ConfigDef.java:744)\nat org.apache.kafka.common.config.ConfigDef.parseValue(ConfigDef.java:490)\nat org.apache.kafka.common.config.ConfigDef.parse(ConfigDef.java:483)\nat org.apache.kafka.common.config.AbstractConfig.&lt;init&gt;(AbstractConfig.java:113)\nat org.apache.kafka.common.config.AbstractConfig.&lt;init&gt;(AbstractConfig.java:133)\nat org.apache.kafka.clients.consumer.ConsumerConfig.&lt;init&gt;(ConsumerConfig.java:652)\nat org.apache.kafka.clients.consumer.KafkaConsumer.&lt;init&gt;(KafkaConsumer.java:665)\nat org.apache.kafka.clients.consumer.KafkaConsumer.&lt;init&gt;(KafkaConsumer.java:646)\nat org.apache.kafka.clients.consumer.KafkaConsumer.&lt;init&gt;(KafkaConsumer.java:626)\nat java.base/java.util.concurrent.CompletableFuture$AsyncRun.run(CompletableFuture.java:1804)\nat util.TokenAwareRunnable.run(TokenAwareRunnable.java:28)\nat java.base/java.util.concurrent.ForkJoinTask$RunnableExecuteAction.exec(ForkJoinTask.java:1395)\nat java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:373)\nat java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1182)\nat java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1655)\nat java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1622)\nat java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:165)\n</code></pre>\n<p>any help here ?  seems like classloader is not finding the StringDeserializer class.  May be build issue?</p>\n"},{"tags":["java","android","kotlin","github"],"comments":[{"owner":{"account_id":14549133,"reputation":525,"user_id":10508565,"display_name":"Mieczkoni"},"score":0,"creation_date":1671484039,"post_id":74855883,"comment_id":132105286,"body_markdown":"You can use the Android ShapeableImageView","body":"You can use the Android ShapeableImageView"}],"answers":[{"tags":[],"owner":{"account_id":15483805,"reputation":242,"user_id":11170352,"display_name":"Mokhtar Abdelhalim"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671527819,"creation_date":1671527819,"answer_id":74860794,"question_id":74855883,"body_markdown":"You can use this, and change the shape to `app:cropme_overlay_shape=&quot;circle&quot;`\r\n\r\n[https://github.com/TakuSemba/CropMe][1]\r\n\r\n\r\n  [1]: https://github.com/TakuSemba/CropMe","title":"How can I crop a picture in a circular shape just like Instagram profile picture","body":"<p>You can use this, and change the shape to <code>app:cropme_overlay_shape=&quot;circle&quot;</code></p>\n<p><a href=\"https://github.com/TakuSemba/CropMe\" rel=\"nofollow noreferrer\">https://github.com/TakuSemba/CropMe</a></p>\n"}],"owner":{"account_id":25789476,"reputation":23,"user_id":19533775,"display_name":"Souhail Krissaane"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1671550230,"accepted_answer_id":74860794,"answer_count":1,"score":0,"last_activity_date":1693085917,"creation_date":1671483223,"question_id":74855883,"body_markdown":"I want the user to pick an image from gallery and crop it [like this], similar to Instagram profile picture \r\n\r\n[![enter image description here][1]][1]\r\n\r\nIs there a package or something to help?  \r\n\r\nAll the packages I found don&#39;t have cropping in a circular shape , I&#39;m expecting maybe that there is a package that I didn&#39;t find or another way to do that \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nXvqg.jpg","title":"How can I crop a picture in a circular shape just like Instagram profile picture","body":"<p>I want the user to pick an image from gallery and crop it [like this], similar to Instagram profile picture</p>\n<p><a href=\"https://i.stack.imgur.com/nXvqg.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nXvqg.jpg\" alt=\"enter image description here\" /></a></p>\n<p>Is there a package or something to help?</p>\n<p>All the packages I found don't have cropping in a circular shape , I'm expecting maybe that there is a package that I didn't find or another way to do that</p>\n"},{"tags":["java","amazon-dynamodb"],"comments":[{"owner":{"account_id":9778190,"reputation":131,"user_id":7247326,"accept_rate":27,"display_name":"Ahmed"},"score":0,"creation_date":1693246230,"post_id":76981425,"comment_id":135732408,"body_markdown":"I was able to solve this using DynamoDBMapperTableModel and using the convert method there","body":"I was able to solve this using DynamoDBMapperTableModel and using the convert method there"}],"answers":[{"tags":[],"owner":{"account_id":10749774,"reputation":14475,"user_id":7909676,"display_name":"Leeroy Hannigan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693048515,"creation_date":1693048515,"answer_id":76982719,"question_id":76981425,"body_markdown":"Your post lacks details, but its simple to update a map within a list when you know its position:\r\n\r\n```\r\ntable.update_item(\r\n  Key={\r\n    &#39;PK&#39;: &#39;123&#39;\r\n  },\r\n  UpdateExpression=&quot;SET #i[0].#l = :v&quot;,\r\n  ExpressionAttributeNames={\r\n    &#39;#i&#39;: &#39;name&#39;,\r\n    &#39;#l&#39;: &#39;address&#39;\r\n  },\r\n  ExpressionAttributeValues={\r\n    &#39;:v&#39;: &#39;some value&#39;,\r\n  },\r\n)\r\n```\r\n\r\nYou can find more info in the docs [here](https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/Expressions.Attributes.html#Expressions.Attributes.NestedAttributes)","title":"Update Complex Object which is an element in a DynamoDB record&#39;s array","body":"<p>Your post lacks details, but its simple to update a map within a list when you know its position:</p>\n<pre><code>table.update_item(\n  Key={\n    'PK': '123'\n  },\n  UpdateExpression=&quot;SET #i[0].#l = :v&quot;,\n  ExpressionAttributeNames={\n    '#i': 'name',\n    '#l': 'address'\n  },\n  ExpressionAttributeValues={\n    ':v': 'some value',\n  },\n)\n</code></pre>\n<p>You can find more info in the docs <a href=\"https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/Expressions.Attributes.html#Expressions.Attributes.NestedAttributes\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":9778190,"reputation":131,"user_id":7247326,"accept_rate":27,"display_name":"Ahmed"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693085671,"creation_date":1693019608,"question_id":76981425,"body_markdown":"I am trying to PATCH a DynamoDB document. It has a list of elements of type Object which are complex object. I want to replace the element in the array completely. I know the index of the element that needs to be replaced.\r\n\r\nI tried converting the object to JSON and then to Map&lt;String, AttributeValue&gt; but conversion to JSON doesn&#39;t retain the DynamoDB type.\r\n\r\nSeems to use UpdateItem, you need to have Map&lt;String, AttributeValue&gt; of the object that you are trying to update and I am unable to find any straightforward to convert the complex object to Map&lt;String, AttributeValue&gt;\r\n\r\nUpdate: The object at the index I am trying to update is complex. The object itself has Sets and List&lt;Object&gt; too. And the SET query expects a Map&lt;String, AttributeValue&gt; meaning somehow this complex object needs to be translated to Map&lt;String,AttributeValue&gt; type. I tried converting this complex object to a JSON and then convert to Map&lt;String, AttributeValue&gt; using `Item.fromJSON(jsonStr)` but when converting the object to JSON, it doesn&#39;t retain the information of DynamoDB objects. For example one of my fields in the POJO is this\r\n\r\n      @DynamoDBTyped(DynamoDBAttributeType.SS)\r\n      private Set&lt;String&gt; c;\r\n\r\nIt updates the object at that index successfully but when I try to read the object back, it fails because its expecting a DynamoDBAttributeType.SS but instead gets a List since JSON treats Sets as just a List\r\n","title":"Update Complex Object which is an element in a DynamoDB record&#39;s array","body":"<p>I am trying to PATCH a DynamoDB document. It has a list of elements of type Object which are complex object. I want to replace the element in the array completely. I know the index of the element that needs to be replaced.</p>\n<p>I tried converting the object to JSON and then to Map&lt;String, AttributeValue&gt; but conversion to JSON doesn't retain the DynamoDB type.</p>\n<p>Seems to use UpdateItem, you need to have Map&lt;String, AttributeValue&gt; of the object that you are trying to update and I am unable to find any straightforward to convert the complex object to Map&lt;String, AttributeValue&gt;</p>\n<p>Update: The object at the index I am trying to update is complex. The object itself has Sets and List too. And the SET query expects a Map&lt;String, AttributeValue&gt; meaning somehow this complex object needs to be translated to Map&lt;String,AttributeValue&gt; type. I tried converting this complex object to a JSON and then convert to Map&lt;String, AttributeValue&gt; using <code>Item.fromJSON(jsonStr)</code> but when converting the object to JSON, it doesn't retain the information of DynamoDB objects. For example one of my fields in the POJO is this</p>\n<pre><code>  @DynamoDBTyped(DynamoDBAttributeType.SS)\n  private Set&lt;String&gt; c;\n</code></pre>\n<p>It updates the object at that index successfully but when I try to read the object back, it fails because its expecting a DynamoDBAttributeType.SS but instead gets a List since JSON treats Sets as just a List</p>\n"},{"tags":["java","spring","spring-boot","spring-security","cors"],"comments":[{"owner":{"account_id":7023209,"reputation":980,"user_id":5381672,"display_name":"Sridhar Patnaik"},"score":0,"creation_date":1630169446,"post_id":68965989,"comment_id":121885154,"body_markdown":"Can you post your login controller? there are 2 issues here. 1. CORS issues which you are facing because your UI is making an OPTIONS call before actual POST call. 2. 403 which should not ideally be there because you excluded /login in ant matcher. so just want to cross check","body":"Can you post your login controller? there are 2 issues here. 1. CORS issues which you are facing because your UI is making an OPTIONS call before actual POST call. 2. 403 which should not ideally be there because you excluded /login in ant matcher. so just want to cross check"},{"owner":{"account_id":16998078,"reputation":206,"user_id":12296041,"display_name":"CodingAnxiety"},"score":0,"creation_date":1630170629,"post_id":68965989,"comment_id":121885459,"body_markdown":"@SridharPatnaik I have no login controller. Everything is in the JwtAuthenticationFilter class.","body":"@SridharPatnaik I have no login controller. Everything is in the JwtAuthenticationFilter class."},{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1630223456,"post_id":68965989,"comment_id":121893473,"body_markdown":"Does this answer your question? [How to configure CORS in a Spring Boot + Spring Security application?](https://stackoverflow.com/questions/36968963/how-to-configure-cors-in-a-spring-boot-spring-security-application)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/36968963/how-to-configure-cors-in-a-spring-boot-spring-security-application\">How to configure CORS in a Spring Boot + Spring Security application?</a>"},{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1630223570,"post_id":68965989,"comment_id":121893493,"body_markdown":"CORS is the most answered question when it comes to spring security. We get about 5 questions a week about it. Please use the search function before asking. The spring security document has an entire chapter about CORS and there are literally 100s of answers here when it comes to CORS. Voted to close duplicate.","body":"CORS is the most answered question when it comes to spring security. We get about 5 questions a week about it. Please use the search function before asking. The spring security document has an entire chapter about CORS and there are literally 100s of answers here when it comes to CORS. Voted to close duplicate."}],"answers":[{"tags":[],"owner":{"account_id":7134819,"reputation":5058,"user_id":5454842,"display_name":"Marcus Hert da Coregio"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1630187858,"creation_date":1630187858,"answer_id":68968398,"question_id":68965989,"body_markdown":"You have to provide a Bean of type `CorsConfigurationSource` and tell Spring Security to use that configuration source in the `CorsFilter`, and place it before the authentication and authorization filters.\r\n\r\nFirst, define the `CorsConfigurationSource` Bean:\r\n```java\r\n@Bean\r\nCorsConfigurationSource corsConfigurationSource() {\r\n\tfinal UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n\tCorsConfiguration config = new CorsConfiguration();\r\n\tconfig.addAllowedHeader(&quot;*&quot;);\r\n\tconfig.addAllowedMethod(&quot;*&quot;);\r\n\tconfig.addAllowedOrigin(&quot;http://localhost:3000&quot;);\r\n\tsource.registerCorsConfiguration(&quot;/**&quot;, config);\r\n\treturn source;\r\n}\r\n```\r\n\r\nThen, tell Spring Security to configure CORS with defaults:\r\n\r\n```java\r\n@Override\r\nprotected void configure(HttpSecurity http) throws Exception {\r\n    ...\r\n    http.cors(Customizer.withDefaults());\r\n    ...\r\n}\r\n```","title":"How to authorize CORS in Spring Security filter","body":"<p>You have to provide a Bean of type <code>CorsConfigurationSource</code> and tell Spring Security to use that configuration source in the <code>CorsFilter</code>, and place it before the authentication and authorization filters.</p>\n<p>First, define the <code>CorsConfigurationSource</code> Bean:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\nCorsConfigurationSource corsConfigurationSource() {\n    final UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n    CorsConfiguration config = new CorsConfiguration();\n    config.addAllowedHeader(&quot;*&quot;);\n    config.addAllowedMethod(&quot;*&quot;);\n    config.addAllowedOrigin(&quot;http://localhost:3000&quot;);\n    source.registerCorsConfiguration(&quot;/**&quot;, config);\n    return source;\n}\n</code></pre>\n<p>Then, tell Spring Security to configure CORS with defaults:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\nprotected void configure(HttpSecurity http) throws Exception {\n    ...\n    http.cors(Customizer.withDefaults());\n    ...\n}\n</code></pre>\n"}],"owner":{"account_id":16998078,"reputation":206,"user_id":12296041,"display_name":"CodingAnxiety"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":963,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1693084939,"creation_date":1630166100,"question_id":68965989,"body_markdown":"I&#39;m trying to build a REST API with Spring Boot and Spring Security but I have run into an issue where any request to the `/login` endpoint is blocked because of `CORS` and I can&#39;t figure out how to allow it.\r\n\r\nHere&#39;s what I get when I inspect the network tab of my developper tools whenever I send a login request in my frontend application:\r\n\r\n[![enter image description here][1]][1]\r\n[![enter image description here][2]][2]\r\n[![enter image description here][3]][3]\r\n[![enter image description here][4]][4]\r\n\r\nHere&#39;s my `SecurityConfig.java` file (I&#39;ve omitted imports for brevity):\r\n\r\n    @EnableWebSecurity(debug = true)\r\n    @RequiredArgsConstructor\r\n    public class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n        private final AuthenticationUserDetailService authenticationUserDetailService;\r\n        private final PasswordEncoder passwordEncoder;\r\n        @Value(&quot;${jwt.secret}&quot;)\r\n        private String jwtSecret;\r\n    \r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n            http.csrf().disable();\r\n            http.cors();\r\n            http.authorizeRequests().antMatchers(&quot;/login&quot;).permitAll();\r\n            http.authorizeRequests().antMatchers(&quot;/&quot;).permitAll();\r\n            http.authorizeRequests().antMatchers(&quot;/api/teachers/**&quot;).hasAuthority(&quot;TEACHER&quot;);\r\n            http.authorizeRequests().antMatchers(&quot;/api/students/**&quot;).hasAuthority(&quot;STUDENT&quot;);\r\n            http.authorizeRequests().antMatchers(&quot;/api/**&quot;).hasAuthority(&quot;ADMIN&quot;);\r\n    \r\n            http.authorizeRequests().anyRequest().authenticated();\r\n            //http.authorizeRequests().anyRequest().permitAll();\r\n            http.addFilter(new JwtAuthenticationFilter(authenticationManager(), jwtSecret));\r\n            http.addFilter(new JwtAuthorizationFilter(authenticationManager(), jwtSecret));\r\n            http.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n        }\r\n    \r\n        @Override\r\n        protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n            auth.userDetailsService(authenticationUserDetailService).passwordEncoder(passwordEncoder);\r\n        }\r\n    }\r\n\r\n\r\nHere&#39;s my `JwtAuthenticationFilter.java` file:\r\n\r\n    public class JwtAuthenticationFilter extends UsernamePasswordAuthenticationFilter {\r\n        private final AuthenticationManager authenticationManager;\r\n        private final String jwtSecret;\r\n    \r\n        public JwtAuthenticationFilter(AuthenticationManager authenticationManager, String jwtSecret) {\r\n            this.authenticationManager = authenticationManager;\r\n            this.jwtSecret = jwtSecret;\r\n            setFilterProcessesUrl(&quot;/login&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public Authentication attemptAuthentication(HttpServletRequest request, HttpServletResponse response) throws AuthenticationException {\r\n            try {\r\n                LoginRequest credentials = new ObjectMapper()\r\n                        .readValue(request.getInputStream(), LoginRequest.class);\r\n    \r\n                return authenticationManager.authenticate(\r\n                        new UsernamePasswordAuthenticationToken(\r\n                                credentials.getUsername(),\r\n                                credentials.getPassword(),\r\n                                new ArrayList&lt;&gt;())\r\n                );\r\n            } catch (IOException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        protected void successfulAuthentication(HttpServletRequest request, HttpServletResponse response, FilterChain chain, Authentication authResult) throws IOException, ServletException {\r\n            User user = (User) authResult.getPrincipal();\r\n    \r\n            String token = Jwts.builder()\r\n                    .signWith(SignatureAlgorithm.HS512, jwtSecret.getBytes())\r\n                    .claim(&quot;role&quot;, authResult.getAuthorities().iterator().next().getAuthority())\r\n                    .setSubject(user.getUsername())\r\n                    .setExpiration(new Date(System.currentTimeMillis() + 24 * 3600 * 1000))\r\n                    .compact();\r\n    \r\n            response.setContentType(&quot;application/json&quot;);\r\n            response.setCharacterEncoding(&quot;UTF-8&quot;);\r\n            response.getWriter().write(&quot;{\\&quot;token\\&quot;:\\&quot;&quot; + token + &quot;\\&quot;}&quot;);\r\n        }\r\n    }\r\n\r\n\r\nI have tried every solution I have found online and I&#39;m out of ideas. How can I authorize CORS from any source for my `/login` endpoint ?\r\n\r\nThanks a lot!\r\n\r\n  [1]: https://i.stack.imgur.com/QtW7e.png\r\n  [2]: https://i.stack.imgur.com/Bbp11.png\r\n  [3]: https://i.stack.imgur.com/oM24r.png\r\n  [4]: https://i.stack.imgur.com/eu7BG.png","title":"How to authorize CORS in Spring Security filter","body":"<p>I'm trying to build a REST API with Spring Boot and Spring Security but I have run into an issue where any request to the <code>/login</code> endpoint is blocked because of <code>CORS</code> and I can't figure out how to allow it.</p>\n<p>Here's what I get when I inspect the network tab of my developper tools whenever I send a login request in my frontend application:</p>\n<p><a href=\"https://i.stack.imgur.com/QtW7e.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QtW7e.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/Bbp11.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Bbp11.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/oM24r.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oM24r.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/eu7BG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eu7BG.png\" alt=\"enter image description here\" /></a></p>\n<p>Here's my <code>SecurityConfig.java</code> file (I've omitted imports for brevity):</p>\n<pre><code>@EnableWebSecurity(debug = true)\n@RequiredArgsConstructor\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n    private final AuthenticationUserDetailService authenticationUserDetailService;\n    private final PasswordEncoder passwordEncoder;\n    @Value(&quot;${jwt.secret}&quot;)\n    private String jwtSecret;\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.csrf().disable();\n        http.cors();\n        http.authorizeRequests().antMatchers(&quot;/login&quot;).permitAll();\n        http.authorizeRequests().antMatchers(&quot;/&quot;).permitAll();\n        http.authorizeRequests().antMatchers(&quot;/api/teachers/**&quot;).hasAuthority(&quot;TEACHER&quot;);\n        http.authorizeRequests().antMatchers(&quot;/api/students/**&quot;).hasAuthority(&quot;STUDENT&quot;);\n        http.authorizeRequests().antMatchers(&quot;/api/**&quot;).hasAuthority(&quot;ADMIN&quot;);\n\n        http.authorizeRequests().anyRequest().authenticated();\n        //http.authorizeRequests().anyRequest().permitAll();\n        http.addFilter(new JwtAuthenticationFilter(authenticationManager(), jwtSecret));\n        http.addFilter(new JwtAuthorizationFilter(authenticationManager(), jwtSecret));\n        http.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n    }\n\n    @Override\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.userDetailsService(authenticationUserDetailService).passwordEncoder(passwordEncoder);\n    }\n}\n</code></pre>\n<p>Here's my <code>JwtAuthenticationFilter.java</code> file:</p>\n<pre><code>public class JwtAuthenticationFilter extends UsernamePasswordAuthenticationFilter {\n    private final AuthenticationManager authenticationManager;\n    private final String jwtSecret;\n\n    public JwtAuthenticationFilter(AuthenticationManager authenticationManager, String jwtSecret) {\n        this.authenticationManager = authenticationManager;\n        this.jwtSecret = jwtSecret;\n        setFilterProcessesUrl(&quot;/login&quot;);\n    }\n\n    @Override\n    public Authentication attemptAuthentication(HttpServletRequest request, HttpServletResponse response) throws AuthenticationException {\n        try {\n            LoginRequest credentials = new ObjectMapper()\n                    .readValue(request.getInputStream(), LoginRequest.class);\n\n            return authenticationManager.authenticate(\n                    new UsernamePasswordAuthenticationToken(\n                            credentials.getUsername(),\n                            credentials.getPassword(),\n                            new ArrayList&lt;&gt;())\n            );\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n    @Override\n    protected void successfulAuthentication(HttpServletRequest request, HttpServletResponse response, FilterChain chain, Authentication authResult) throws IOException, ServletException {\n        User user = (User) authResult.getPrincipal();\n\n        String token = Jwts.builder()\n                .signWith(SignatureAlgorithm.HS512, jwtSecret.getBytes())\n                .claim(&quot;role&quot;, authResult.getAuthorities().iterator().next().getAuthority())\n                .setSubject(user.getUsername())\n                .setExpiration(new Date(System.currentTimeMillis() + 24 * 3600 * 1000))\n                .compact();\n\n        response.setContentType(&quot;application/json&quot;);\n        response.setCharacterEncoding(&quot;UTF-8&quot;);\n        response.getWriter().write(&quot;{\\&quot;token\\&quot;:\\&quot;&quot; + token + &quot;\\&quot;}&quot;);\n    }\n}\n</code></pre>\n<p>I have tried every solution I have found online and I'm out of ideas. How can I authorize CORS from any source for my <code>/login</code> endpoint ?</p>\n<p>Thanks a lot!</p>\n"},{"tags":["java","lambda"],"comments":[{"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1623844657,"post_id":68002052,"comment_id":120192701,"body_markdown":"did you try using the same variable and updating it? note, you can do `.forEach(b -&gt; { System.out.println(&quot;Key: &quot; + b.getKey() + &quot; Value: &quot; + b.getValue()); .... })`. only challenge would be using a effectively final variable in there.","body":"did you try using the same variable and updating it? note, you can do <code>.forEach(b -&gt; { System.out.println(&quot;Key: &quot; + b.getKey() + &quot; Value: &quot; + b.getValue()); .... })</code>. only challenge would be using a effectively final variable in there."}],"answers":[{"tags":[],"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1623844742,"creation_date":1623844742,"answer_id":68002253,"question_id":68002052,"body_markdown":"Basically, you want to do something like this, but it wouldn&#39;t work:\r\n\r\n```java\r\ndouble totalPrice = 0;\r\nint items = 0;\r\nbasketItems.forEach((k,v) -&gt; {\r\n    totalPrice += k.getPrice();\r\n    items+=v;\r\n});\r\n```\r\n\r\nThe problem is that you can only access `final` (or effectively final) local variables in lambda expressions. In order to bypass that problem, you can create an object containing the variables:\r\n\r\n```java\r\nclass Stats{\r\n    private double totalPrice = 0;\r\n    private int items = 0;\r\n    //getter methods\r\n    public void add(double price,int items){\r\n        totalPrice+=price;\r\n        this.items+=items;\r\n    }\r\n}\r\n//...\r\nStats stats=new Stats();\r\nbasketItems.forEach((k,v) -&gt; {\r\n    stats.add(k.getPrice(),v);\r\n});\r\n```\r\n\r\nA shorter way to do this is using local variable type inference which is available since java 10:\r\n\r\n```java\r\nvar stats=new Object(){\r\n    private double totalPrice = 0;\r\n    private int items = 0;\r\n}\r\n\r\nbasketItems.forEach((k,v) -&gt; {\r\n    stats.totalPrice += k.getPrice();\r\n    stats.items+=v;\r\n});\r\n//access stats.totalPrice and stats.items\r\n```\r\n\r\nNote that I used [`Map#forEach`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html) instead of `EntrySet` so you don&#39;t need `Entry#getKey` and `Entry#getValue`","title":"Java lambda write foreach with entrySet","body":"<p>Basically, you want to do something like this, but it wouldn't work:</p>\n<pre class=\"lang-java prettyprint-override\"><code>double totalPrice = 0;\nint items = 0;\nbasketItems.forEach((k,v) -&gt; {\n    totalPrice += k.getPrice();\n    items+=v;\n});\n</code></pre>\n<p>The problem is that you can only access <code>final</code> (or effectively final) local variables in lambda expressions. In order to bypass that problem, you can create an object containing the variables:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Stats{\n    private double totalPrice = 0;\n    private int items = 0;\n    //getter methods\n    public void add(double price,int items){\n        totalPrice+=price;\n        this.items+=items;\n    }\n}\n//...\nStats stats=new Stats();\nbasketItems.forEach((k,v) -&gt; {\n    stats.add(k.getPrice(),v);\n});\n</code></pre>\n<p>A shorter way to do this is using local variable type inference which is available since java 10:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var stats=new Object(){\n    private double totalPrice = 0;\n    private int items = 0;\n}\n\nbasketItems.forEach((k,v) -&gt; {\n    stats.totalPrice += k.getPrice();\n    stats.items+=v;\n});\n//access stats.totalPrice and stats.items\n</code></pre>\n<p>Note that I used <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html\" rel=\"nofollow noreferrer\"><code>Map#forEach</code></a> instead of <code>EntrySet</code> so you don't need <code>Entry#getKey</code> and <code>Entry#getValue</code></p>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1623847033,"creation_date":1623846685,"answer_id":68002722,"question_id":68002052,"body_markdown":"From your question you seem to be under the impression that `.forEach` is &#39;better&#39; than `for(:)` and are now experimenting to prove this.\r\n\r\nYou can&#39;t prove it, because it&#39;s false. `.forEach` is often considerably _worse_. It&#39;s not shorter. Code-quality-wise, it usually results in less elegant code (&#39;elegant&#39; defined as: Easier to understand and follow, easier to modify in the face of change requests, easier to test. Not defined as &#39;looks prettier to me&#39; - There is no arguing about taste!)\r\n\r\nThere ARE reasons to use `.forEach`, but these are generally exotic.\r\n\r\n## Why is it worse?\r\n\r\nBecause lambdas are not transparent in regards to checked exceptions, control flow, and mutable local variables. These are all significant downsides that `for(:)` doesn&#39;t suffer from. The lack of mutable-local-variable-transparency is why you can&#39;t write this code, for example.\r\n\r\nSee below the fold for a full treatise if you are unsure of what these 3 concepts mean and how foreach does it well, lambdas do it badly, and in what scenarios lambdas actually shine and where this lack of transparency turns into upside.\r\n\r\n## How would I make the code example work with lambdas anyway?\r\n\r\nGenerally you need to adopt the function mindset. The problem here is that &#39;transparency of locals&#39; issue. You don&#39;t _WANT_ the locals to exist, they inherently mean parallelism isn&#39;t on the table (parallelism is rarely relevant, but the architecture of lambdas and streams is fundamentally designed that they should continue to operate efficiently and without race conditions even if it is relevant), and once you write code that fails in parallel scenarios, it tends to grate and cause issues when trying to adopt it into a lambda/stream style.\r\n\r\n## Nevermind all that, I want to just write my code!\r\n\r\nOnly real option is to use an `AtomicX` to carry the info:\r\n\r\n```\r\nAtomicInteger totalPrice = new AtomicInteger();\r\nAtomicInteger totalItems = new AtomicInteger();\r\nbasketItems.entrySet().forEach(b -&gt; {\r\n  totalPrice.add(b.getKey().getPrice() * b.getValue());\r\n  totalItems.add(b.getValue());\r\n});\r\n```\r\n\r\nThis is ugly, inefficient, lots of code, and not particularly readable. Hence why you shouldn&#39;t be doing this. This is not an improvement on `for(:)` whatsoever.\r\n\r\n## Tell me more about that &#39;think in lambdas&#39; thing.\r\n\r\nYou want each &#39;loop&#39; to stand alone, not interact with other loops, and then use a parallel approach to combine results. This is called map/reduce, and you should search the web for complete tutorials on this idea. lambdas/streams support the idea too. However, because you&#39;re gathering two things, it&#39;s considerably more complicated and you need a single object to represent all relevant info: Both the contribution to the total price, as well as the contribution to the item count.\r\n\r\nLet&#39;s say you JUST want to count items, nothing more. Then don&#39;t do:\r\n\r\n```\r\nAtomicInteger count_ = new AtomicInteger();\r\nbasketItems.values().forEach(x -&gt; count_.add(x));\r\nint count = count_.get();\r\n```\r\n\r\nbut do:\r\n\r\n```\r\nint count = basketItems.values().mapToInt(Integer::intValue).sum();\r\n```\r\n\r\nIn your case you&#39;re doing two things, so it gets considerably more complicated and hard to read code:\r\n\r\n```\r\nint[] totals = basketItems.entrySet()\r\n  .map(e -&gt; new int[] {e.getKey().getPrice() * e.getValue(), e.getValue()})\r\n  .collect(Collectors.reducing((a, b) -&gt; new int[] {a[0] + b[0], a[1] + b[1]}))\r\n  .orElse(new int[2]);\r\nint totalPrice = totals[0];\r\nint totalItems = totals[1];\r\n```\r\n\r\nThis will first map your item/amount pair into an int array where the first elem contains the total price, and the second contains the item count.\r\n\r\nIt then collects your stream of 2-size int arrays by merging the arrays into a single array.\r\n\r\nIt then returns this, using `[0, 0]` as standin in case you have an empty basket.\r\n\r\nThat&#39;s &#39;thinking in streams&#39;.\r\n\r\n## Is it shorter.\r\n\r\nHeck, no!\r\n\r\n* It is not a fair comparison if you force yourself to write out the intermediate type (in this case, `Map.Entry&lt;Item, Integer&gt;`), where in the lambda variant you don&#39;t. Use `var`.\r\n* It is not a fair comparison if you find it stylistically acceptable to pile the whole stream operation into one gigantic, brace-less line whilst also adopting a style guide that rigidly enforces braces everywhere else. Then you&#39;re just noticing that your own inconsistent style guide is weird, not that lambdas are fundamentally shorter, at all.\r\n\r\nWith that in mind, here is this code in for(:) form:\r\n\r\n```\r\ndouble totalPrice = 0;\r\nint items = 0;\r\n\r\nfor (var e : basketItems.entrySet()) {\r\n  totalPrice += entry.getKey().getPrice() * entry.getValue();\r\n  items += entry.getValue();\r\n}\r\n```\r\n\r\nSimple. Easy to read. Considerably less hacky (no int arrays just to carry info around). Likely an order of magnitude more performant. Pretty much better in every way.\r\n\r\n-----\r\n\r\n## In-depth: Lambdas and the transparencies\r\n\r\nThe conclusions drawn in this answer run counter to common if careless advice found in various corners on the internet. (Namely: Do not use lambdas or the functional approach unless the alternative is clearly much worse; when in doubt, don&#39;t use lambdas).\r\n\r\nThus, perhaps, one might think the burden of proof lies with this side of the argument (not sure this makes logical sense, but just in case, I guess).\r\n\r\nThus, an in-depth analysis of the 3 transparencies that lambdas do not have and the pros and cons:\r\n\r\n1. They are not checked exception transparent: If you write:\r\n\r\n```\r\ntry {\r\n    Runnable r = () -&gt; { throw new IOException(); }\r\n    r.run();\r\n} catch (IOException e) {}\r\n```\r\n\r\nit won&#39;t compile, even though your eyeballs and your brain are correctly telling you that it ought to - that IOException is thrown, and caught, guaranteed. It won&#39;t compile because your lambda body needs to &#39;fit&#39; the single abstract method in the `Runnable` interface which is not declared to allow you to throw `IOException`, therefore, you can&#39;t.\r\n\r\nit can be worked around by either aggressively rewrapping checked exceptions in unchecked ones; this ruins the point of checked exceptions and is a ton of boilerplate code to add, making lambdas long and unwieldy.\r\n\r\nA basic for loop / don&#39;t use lambdas, just doesn&#39;t suffer from this, at all:\r\n\r\n```\r\ntry {\r\n    throw new IOException();\r\n} catch (IOException e) {}\r\n```\r\n\r\ncompiles perfectly fine.\r\n\r\n2. They are not mutable local variable transparent.\r\n\r\n```\r\nint x = 0;\r\nList.of(&quot;a&quot;, &quot;b&quot;).forEach(elem -&gt; x++);\r\n```\r\n\r\nThis does not compile: Any non-final local variable cannot be accessed in lambdas within the scope of said local variable (the compiler knows which variable you&#39;re talking about, you just can&#39;t read or write to it). The compiler will do you a favour and treat any non-final local variable that is nevertheless never changed inside its entire scope as &#39;effectively final&#39; and let you read from it. However, writing to it from within a lambda is by definition impossible (as that would make it not effectively final). This is annoying. It can be worked around with `AtomicInteger` / `AtomicDouble` / `AtomicReference` (this is better than using `new int[1]` as vehicle).\r\n\r\nfor loops do not suffer from this. This compiles fine:\r\n\r\n```\r\nint x;\r\nfor (var elem : List.of(&quot;a&quot;, b&quot;)) x++;\r\n```\r\n\r\n3. They are not control flow transparent.\r\n\r\n```\r\nouter:\r\nwhile (true) {\r\n    List.of(&quot;a&quot;, &quot;b&quot;).forEach(x -&gt; {\r\n      // what goes here?\r\n    }\r\n    System.out.println(&quot;Hello&quot;);\r\n}\r\n```\r\n\r\nIn the &#39;what goes here&#39; section, imagine you want to abort not just this particular loop, but the __entire__ forEach run. For example, you want to stop processing when you hit `&quot;a&quot;`, and never even loop for `&quot;b&quot;`. __This is impossible__. Imagine you want to do something even more drastic break out of the while loop that surrounds it. __This is impossible__.\r\n\r\nBoth are quite possible with basic for loops:\r\n\r\n```\r\nouter:\r\nwhile (true) {\r\n  for (var e : List.of(&quot;a&quot;, &quot;b&quot;)) {\r\n     if (e.equals(&quot;a&quot;)) break; // break the for\r\n     if (e.equals(&quot;b&quot;)) break outer; // break the while\r\n  }\r\n}\r\n```\r\n\r\nThese 3 downsides turn, effectively, into upsides when the lambda &#39;travels&#39;. That is, the lambda is stored and run at some later time when the method that contains the code of the lambda has long since completed, or if the lambda is executed in an entirely different thread: All 3 downsides I list above become weird and confusing in such scenarios:\r\n\r\n1. That catch block? That entire method has ceased execution, all state is gone, code can&#39;t jump there, even though lexically it looks like it should, so that downside turned into an upside.\r\n\r\n2. If non-final locals can be seen and mutated in a lambda that runs in another thread, the local can no longer be declared on stack, it needs to silently be moved to heap. Should we start worrying about marking our locals as `volatile` now? All options, but right now in java a local is by definition limited to your thread and ceases to exist when your scope ends. That makes it easier to reason about code. These preconditions would have to go away. That&#39;s nasty. The downside turned into an upside.\r\n\r\n3. There is no while loop to continue or break to in this scenario. The code would be meaningless. The downside turned into an upside.\r\n\r\nThis results in the following conclusion:\r\n\r\nLambdas are __fantastic__, with no caveats, when they are used to write code that &#39;travels&#39; beyond the scope of where you wrote it, either because it is stored in a field and executed much later, or because it is run in another thread.\r\n\r\nLambdas are __dragged down with nasty caveats__, thus, bad style and a code smell, if they don&#39;t travel. It can still easily be the case that a lambda-based solution is correct even if the lambda does not &#39;travel&#39;, but they aren&#39;t just &#39;better by default&#39;. They are in fact WORSE by default.\r\n\r\nBecause of the above 2 rules, we get a third rule:\r\n\r\n__Calling `.forEach(elem -&gt; {...})` directly on a list, or on a stream that has no intermediate steps, is ALWAYS bad and a code smell!__\r\n\r\nIn other words, this is guaranteed silly:\r\n\r\n```\r\nlist.forEach(x -&gt; doStuff);\r\n\r\nset.stream().forEach(x -&gt; doStuff);\r\n```\r\n\r\nJust use basic for loops instead.\r\n\r\nThe `.forEach` terminal should therefore rarely be used. It is non-silly code in only 3 scenarios:\r\n\r\n1. The underlying data structure is parallel in nature and the processing you need to do is similarly parallel, but you have no need to finetune the pool used to run it. This is rare (as in, usually if parallelism is relevant like this, you need more control, and fork/join is the answer, OR parallelism doesn&#39;t matter. Rare that you&#39;re right in the middle), but if you do, then this can help, as these can run in parallel whereas a foreach doesn&#39;t. This scenario is very rarely relevant.\r\n\r\n2. You already have a Consumer&lt;T&gt;, e.g. passed in:\r\n\r\n```\r\npublic void peekEvents(Consumer&lt;Event&gt; consumer) {\r\n    eventQueue.forEach(consumer);\r\n}\r\n```\r\n\r\n3. You have intermediates:\r\n\r\n```\r\neventQueue.stream().filter(Event::isPublic)\r\n  .map(Event::getWidget)\r\n  .forEach(widget -&gt; System.out.println(&quot;Widget with queued up events: &quot; + widget);\r\n```\r\n\r\nHere you filter and map - then it starts to make more sense to use `forEach`.\r\n","title":"Java lambda write foreach with entrySet","body":"<p>From your question you seem to be under the impression that <code>.forEach</code> is 'better' than <code>for(:)</code> and are now experimenting to prove this.</p>\n<p>You can't prove it, because it's false. <code>.forEach</code> is often considerably <em>worse</em>. It's not shorter. Code-quality-wise, it usually results in less elegant code ('elegant' defined as: Easier to understand and follow, easier to modify in the face of change requests, easier to test. Not defined as 'looks prettier to me' - There is no arguing about taste!)</p>\n<p>There ARE reasons to use <code>.forEach</code>, but these are generally exotic.</p>\n<h2>Why is it worse?</h2>\n<p>Because lambdas are not transparent in regards to checked exceptions, control flow, and mutable local variables. These are all significant downsides that <code>for(:)</code> doesn't suffer from. The lack of mutable-local-variable-transparency is why you can't write this code, for example.</p>\n<p>See below the fold for a full treatise if you are unsure of what these 3 concepts mean and how foreach does it well, lambdas do it badly, and in what scenarios lambdas actually shine and where this lack of transparency turns into upside.</p>\n<h2>How would I make the code example work with lambdas anyway?</h2>\n<p>Generally you need to adopt the function mindset. The problem here is that 'transparency of locals' issue. You don't <em>WANT</em> the locals to exist, they inherently mean parallelism isn't on the table (parallelism is rarely relevant, but the architecture of lambdas and streams is fundamentally designed that they should continue to operate efficiently and without race conditions even if it is relevant), and once you write code that fails in parallel scenarios, it tends to grate and cause issues when trying to adopt it into a lambda/stream style.</p>\n<h2>Nevermind all that, I want to just write my code!</h2>\n<p>Only real option is to use an <code>AtomicX</code> to carry the info:</p>\n<pre><code>AtomicInteger totalPrice = new AtomicInteger();\nAtomicInteger totalItems = new AtomicInteger();\nbasketItems.entrySet().forEach(b -&gt; {\n  totalPrice.add(b.getKey().getPrice() * b.getValue());\n  totalItems.add(b.getValue());\n});\n</code></pre>\n<p>This is ugly, inefficient, lots of code, and not particularly readable. Hence why you shouldn't be doing this. This is not an improvement on <code>for(:)</code> whatsoever.</p>\n<h2>Tell me more about that 'think in lambdas' thing.</h2>\n<p>You want each 'loop' to stand alone, not interact with other loops, and then use a parallel approach to combine results. This is called map/reduce, and you should search the web for complete tutorials on this idea. lambdas/streams support the idea too. However, because you're gathering two things, it's considerably more complicated and you need a single object to represent all relevant info: Both the contribution to the total price, as well as the contribution to the item count.</p>\n<p>Let's say you JUST want to count items, nothing more. Then don't do:</p>\n<pre><code>AtomicInteger count_ = new AtomicInteger();\nbasketItems.values().forEach(x -&gt; count_.add(x));\nint count = count_.get();\n</code></pre>\n<p>but do:</p>\n<pre><code>int count = basketItems.values().mapToInt(Integer::intValue).sum();\n</code></pre>\n<p>In your case you're doing two things, so it gets considerably more complicated and hard to read code:</p>\n<pre><code>int[] totals = basketItems.entrySet()\n  .map(e -&gt; new int[] {e.getKey().getPrice() * e.getValue(), e.getValue()})\n  .collect(Collectors.reducing((a, b) -&gt; new int[] {a[0] + b[0], a[1] + b[1]}))\n  .orElse(new int[2]);\nint totalPrice = totals[0];\nint totalItems = totals[1];\n</code></pre>\n<p>This will first map your item/amount pair into an int array where the first elem contains the total price, and the second contains the item count.</p>\n<p>It then collects your stream of 2-size int arrays by merging the arrays into a single array.</p>\n<p>It then returns this, using <code>[0, 0]</code> as standin in case you have an empty basket.</p>\n<p>That's 'thinking in streams'.</p>\n<h2>Is it shorter.</h2>\n<p>Heck, no!</p>\n<ul>\n<li>It is not a fair comparison if you force yourself to write out the intermediate type (in this case, <code>Map.Entry&lt;Item, Integer&gt;</code>), where in the lambda variant you don't. Use <code>var</code>.</li>\n<li>It is not a fair comparison if you find it stylistically acceptable to pile the whole stream operation into one gigantic, brace-less line whilst also adopting a style guide that rigidly enforces braces everywhere else. Then you're just noticing that your own inconsistent style guide is weird, not that lambdas are fundamentally shorter, at all.</li>\n</ul>\n<p>With that in mind, here is this code in for(:) form:</p>\n<pre><code>double totalPrice = 0;\nint items = 0;\n\nfor (var e : basketItems.entrySet()) {\n  totalPrice += entry.getKey().getPrice() * entry.getValue();\n  items += entry.getValue();\n}\n</code></pre>\n<p>Simple. Easy to read. Considerably less hacky (no int arrays just to carry info around). Likely an order of magnitude more performant. Pretty much better in every way.</p>\n<hr />\n<h2>In-depth: Lambdas and the transparencies</h2>\n<p>The conclusions drawn in this answer run counter to common if careless advice found in various corners on the internet. (Namely: Do not use lambdas or the functional approach unless the alternative is clearly much worse; when in doubt, don't use lambdas).</p>\n<p>Thus, perhaps, one might think the burden of proof lies with this side of the argument (not sure this makes logical sense, but just in case, I guess).</p>\n<p>Thus, an in-depth analysis of the 3 transparencies that lambdas do not have and the pros and cons:</p>\n<ol>\n<li>They are not checked exception transparent: If you write:</li>\n</ol>\n<pre><code>try {\n    Runnable r = () -&gt; { throw new IOException(); }\n    r.run();\n} catch (IOException e) {}\n</code></pre>\n<p>it won't compile, even though your eyeballs and your brain are correctly telling you that it ought to - that IOException is thrown, and caught, guaranteed. It won't compile because your lambda body needs to 'fit' the single abstract method in the <code>Runnable</code> interface which is not declared to allow you to throw <code>IOException</code>, therefore, you can't.</p>\n<p>it can be worked around by either aggressively rewrapping checked exceptions in unchecked ones; this ruins the point of checked exceptions and is a ton of boilerplate code to add, making lambdas long and unwieldy.</p>\n<p>A basic for loop / don't use lambdas, just doesn't suffer from this, at all:</p>\n<pre><code>try {\n    throw new IOException();\n} catch (IOException e) {}\n</code></pre>\n<p>compiles perfectly fine.</p>\n<ol start=\"2\">\n<li>They are not mutable local variable transparent.</li>\n</ol>\n<pre><code>int x = 0;\nList.of(&quot;a&quot;, &quot;b&quot;).forEach(elem -&gt; x++);\n</code></pre>\n<p>This does not compile: Any non-final local variable cannot be accessed in lambdas within the scope of said local variable (the compiler knows which variable you're talking about, you just can't read or write to it). The compiler will do you a favour and treat any non-final local variable that is nevertheless never changed inside its entire scope as 'effectively final' and let you read from it. However, writing to it from within a lambda is by definition impossible (as that would make it not effectively final). This is annoying. It can be worked around with <code>AtomicInteger</code> / <code>AtomicDouble</code> / <code>AtomicReference</code> (this is better than using <code>new int[1]</code> as vehicle).</p>\n<p>for loops do not suffer from this. This compiles fine:</p>\n<pre><code>int x;\nfor (var elem : List.of(&quot;a&quot;, b&quot;)) x++;\n</code></pre>\n<ol start=\"3\">\n<li>They are not control flow transparent.</li>\n</ol>\n<pre><code>outer:\nwhile (true) {\n    List.of(&quot;a&quot;, &quot;b&quot;).forEach(x -&gt; {\n      // what goes here?\n    }\n    System.out.println(&quot;Hello&quot;);\n}\n</code></pre>\n<p>In the 'what goes here' section, imagine you want to abort not just this particular loop, but the <strong>entire</strong> forEach run. For example, you want to stop processing when you hit <code>&quot;a&quot;</code>, and never even loop for <code>&quot;b&quot;</code>. <strong>This is impossible</strong>. Imagine you want to do something even more drastic break out of the while loop that surrounds it. <strong>This is impossible</strong>.</p>\n<p>Both are quite possible with basic for loops:</p>\n<pre><code>outer:\nwhile (true) {\n  for (var e : List.of(&quot;a&quot;, &quot;b&quot;)) {\n     if (e.equals(&quot;a&quot;)) break; // break the for\n     if (e.equals(&quot;b&quot;)) break outer; // break the while\n  }\n}\n</code></pre>\n<p>These 3 downsides turn, effectively, into upsides when the lambda 'travels'. That is, the lambda is stored and run at some later time when the method that contains the code of the lambda has long since completed, or if the lambda is executed in an entirely different thread: All 3 downsides I list above become weird and confusing in such scenarios:</p>\n<ol>\n<li><p>That catch block? That entire method has ceased execution, all state is gone, code can't jump there, even though lexically it looks like it should, so that downside turned into an upside.</p>\n</li>\n<li><p>If non-final locals can be seen and mutated in a lambda that runs in another thread, the local can no longer be declared on stack, it needs to silently be moved to heap. Should we start worrying about marking our locals as <code>volatile</code> now? All options, but right now in java a local is by definition limited to your thread and ceases to exist when your scope ends. That makes it easier to reason about code. These preconditions would have to go away. That's nasty. The downside turned into an upside.</p>\n</li>\n<li><p>There is no while loop to continue or break to in this scenario. The code would be meaningless. The downside turned into an upside.</p>\n</li>\n</ol>\n<p>This results in the following conclusion:</p>\n<p>Lambdas are <strong>fantastic</strong>, with no caveats, when they are used to write code that 'travels' beyond the scope of where you wrote it, either because it is stored in a field and executed much later, or because it is run in another thread.</p>\n<p>Lambdas are <strong>dragged down with nasty caveats</strong>, thus, bad style and a code smell, if they don't travel. It can still easily be the case that a lambda-based solution is correct even if the lambda does not 'travel', but they aren't just 'better by default'. They are in fact WORSE by default.</p>\n<p>Because of the above 2 rules, we get a third rule:</p>\n<p><strong>Calling <code>.forEach(elem -&gt; {...})</code> directly on a list, or on a stream that has no intermediate steps, is ALWAYS bad and a code smell!</strong></p>\n<p>In other words, this is guaranteed silly:</p>\n<pre><code>list.forEach(x -&gt; doStuff);\n\nset.stream().forEach(x -&gt; doStuff);\n</code></pre>\n<p>Just use basic for loops instead.</p>\n<p>The <code>.forEach</code> terminal should therefore rarely be used. It is non-silly code in only 3 scenarios:</p>\n<ol>\n<li><p>The underlying data structure is parallel in nature and the processing you need to do is similarly parallel, but you have no need to finetune the pool used to run it. This is rare (as in, usually if parallelism is relevant like this, you need more control, and fork/join is the answer, OR parallelism doesn't matter. Rare that you're right in the middle), but if you do, then this can help, as these can run in parallel whereas a foreach doesn't. This scenario is very rarely relevant.</p>\n</li>\n<li><p>You already have a Consumer, e.g. passed in:</p>\n</li>\n</ol>\n<pre><code>public void peekEvents(Consumer&lt;Event&gt; consumer) {\n    eventQueue.forEach(consumer);\n}\n</code></pre>\n<ol start=\"3\">\n<li>You have intermediates:</li>\n</ol>\n<pre><code>eventQueue.stream().filter(Event::isPublic)\n  .map(Event::getWidget)\n  .forEach(widget -&gt; System.out.println(&quot;Widget with queued up events: &quot; + widget);\n</code></pre>\n<p>Here you filter and map - then it starts to make more sense to use <code>forEach</code>.</p>\n"},{"tags":[],"owner":{"account_id":3155790,"reputation":14985,"user_id":2668232,"accept_rate":100,"display_name":"Oleksandr Pyrohov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693084682,"creation_date":1693084682,"answer_id":76984879,"question_id":68002052,"body_markdown":"I am not sure if applying `forEach` is a strict requirement, but here is one possible solution using a combination of other Java 8 and Java 12 features:\r\n```\r\nPair&lt;Double, Integer&gt; res =\r\n    basketItems.entrySet().stream()\r\n        .peek(e -&gt; System.out.println(&quot;Key: &quot; + e.getKey() + &quot; Value: &quot; + e.getValue()))\r\n        .collect(\r\n            Collectors.teeing(\r\n                Collectors.summingDouble(e -&gt; e.getKey().getPrice() * e.getValue()),\r\n                Collectors.summingInt(Map.Entry::getValue),\r\n                Pair::of));\r\n```\r\n[`Collectors.teeing`][1] is available since Java 12.\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/util/stream/Collectors.html#teeing(java.util.stream.Collector,java.util.stream.Collector,java.util.function.BiFunction)","title":"Java lambda write foreach with entrySet","body":"<p>I am not sure if applying <code>forEach</code> is a strict requirement, but here is one possible solution using a combination of other Java 8 and Java 12 features:</p>\n<pre><code>Pair&lt;Double, Integer&gt; res =\n    basketItems.entrySet().stream()\n        .peek(e -&gt; System.out.println(&quot;Key: &quot; + e.getKey() + &quot; Value: &quot; + e.getValue()))\n        .collect(\n            Collectors.teeing(\n                Collectors.summingDouble(e -&gt; e.getKey().getPrice() * e.getValue()),\n                Collectors.summingInt(Map.Entry::getValue),\n                Pair::of));\n</code></pre>\n<p><a href=\"https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/util/stream/Collectors.html#teeing(java.util.stream.Collector,java.util.stream.Collector,java.util.function.BiFunction)\" rel=\"nofollow noreferrer\"><code>Collectors.teeing</code></a> is available since Java 12.</p>\n"}],"owner":{"account_id":20844725,"reputation":35,"user_id":15310503,"display_name":"S. Orlowski"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":858,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":68002722,"answer_count":3,"score":1,"last_activity_date":1693084682,"creation_date":1623843936,"question_id":68002052,"body_markdown":"I&#39;m trying to work with Maps and lambdas. Firstly I decide to write normal foreach loop and\r\nlater compare it with lambda and how its shorter. So firstly I have method which display key and values, after that I would like to get sum of this values. Key is object which contain name, price etc., values is count of item. \r\n\r\nBelow is normal foreach method.\r\n\r\n        double totalPrice = 0;\r\n        int items = 0;\r\n        for (Map.Entry&lt;Item, Integer&gt; entry : basketItems.entrySet()) {\r\n            System.out.println(&quot;Key: &quot; + entry.getKey() +\r\n                    &quot;Value: &quot; + entry.getValue());\r\n\r\n            totalPrice += entry.getKey().getPrice() * entry.getValue();\r\n            items += entry.getValue();\r\n        }\r\n\r\n        System.out.println(&quot;Wartość zam&#243;wienia: &quot; + String.format(&quot;%.2f&quot;, totalPrice));\r\n        System.out.println(&quot;Ilość przedmiot&#243;w: &quot; + items);\r\n\r\nThis same can I make with lambda like this.\r\n\r\n        basketItems.entrySet().forEach(\r\n                b -&gt; System.out.println(&quot;Key: &quot; + b.getKey() +\r\n                            &quot; Value: &quot; + b.getValue()));\r\n\r\nBut, how can I get my total price by that way in lambda? Its possible do that in one lambda? I have no idea.\r\n ","title":"Java lambda write foreach with entrySet","body":"<p>I'm trying to work with Maps and lambdas. Firstly I decide to write normal foreach loop and\nlater compare it with lambda and how its shorter. So firstly I have method which display key and values, after that I would like to get sum of this values. Key is object which contain name, price etc., values is count of item.</p>\n<p>Below is normal foreach method.</p>\n<pre><code>    double totalPrice = 0;\n    int items = 0;\n    for (Map.Entry&lt;Item, Integer&gt; entry : basketItems.entrySet()) {\n        System.out.println(&quot;Key: &quot; + entry.getKey() +\n                &quot;Value: &quot; + entry.getValue());\n\n        totalPrice += entry.getKey().getPrice() * entry.getValue();\n        items += entry.getValue();\n    }\n\n    System.out.println(&quot;Wartość zamówienia: &quot; + String.format(&quot;%.2f&quot;, totalPrice));\n    System.out.println(&quot;Ilość przedmiotów: &quot; + items);\n</code></pre>\n<p>This same can I make with lambda like this.</p>\n<pre><code>    basketItems.entrySet().forEach(\n            b -&gt; System.out.println(&quot;Key: &quot; + b.getKey() +\n                        &quot; Value: &quot; + b.getValue()));\n</code></pre>\n<p>But, how can I get my total price by that way in lambda? Its possible do that in one lambda? I have no idea.</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":2,"creation_date":1693084885,"post_id":76984865,"comment_id":135714207,"body_markdown":"Does this answer your question? [I want to do some task in Background in swing](https://stackoverflow.com/questions/31871365/i-want-to-do-some-task-in-background-in-swing)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/31871365/i-want-to-do-some-task-in-background-in-swing\">I want to do some task in Background in swing</a>"},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":2,"creation_date":1693084946,"post_id":76984865,"comment_id":135714216,"body_markdown":"Keep in mind that you must not block the GUI thread with your long running task. As long as `runSlowRequest()` is running with the GUI thread, no GUI updates are visible.","body":"Keep in mind that you must not block the GUI thread with your long running task. As long as <code>runSlowRequest()</code> is running with the GUI thread, no GUI updates are visible."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1693085826,"post_id":76984865,"comment_id":135714285,"body_markdown":"Swing is single threaded and not thread safe - this means you must not execute long running or blocking operations within the Event Dispatching Thread and any updates to the ui  or any state the ui relies on must be done on the EDT. setIndeterminate may be triggering a repaint request automatically, but I wouldn’t rely on it. If I need the ui updated, I’d manually trigger it","body":"Swing is single threaded and not thread safe - this means you must not execute long running or blocking operations within the Event Dispatching Thread and any updates to the ui  or any state the ui relies on must be done on the EDT. setIndeterminate may be triggering a repaint request automatically, but I wouldn’t rely on it. If I need the ui updated, I’d manually trigger it"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1693088584,"post_id":76984865,"comment_id":135714518,"body_markdown":"Recommended reading: https://docs.oracle.com/javase/tutorial/uiswing/concurrency/","body":"Recommended reading: <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/uiswing/concurrency</a>"},{"owner":{"account_id":1292246,"reputation":611,"user_id":1244113,"accept_rate":29,"display_name":"springcorn"},"score":0,"creation_date":1693182997,"post_id":76984865,"comment_id":135722209,"body_markdown":"@Progman I think i knew the problem but reading it written like this made me wake up to it.","body":"@Progman I think i knew the problem but reading it written like this made me wake up to it."}],"owner":{"account_id":1292246,"reputation":611,"user_id":1244113,"accept_rate":29,"display_name":"springcorn"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1693084362,"creation_date":1693084362,"question_id":76984865,"body_markdown":"I often use a jprogressbar in indeterminate mode to communicate an ongoing process to user.\r\n\r\n    JProgressBar systemProcess = new JProgressBar();  \r\n    systemProcess.setString(processName);\r\n    systemProcess.setIndeterminate(true); \r\n    runSlowRequest();\r\n    systemProcess.setIndeterminate(false); \r\n\r\n\r\nI always have to put the JProgressBar in a thread or it does not show.  I have used various versions of a thread, SwingWorker, SwingUtilities.invokelater, etc.  \r\nThey all work, but when the thread ends the swing gui does a full repaint.\r\n\r\nIf I remove the thread the repaint doesn&#39;t occur but the progressbar doesn&#39;t work.\r\n\r\n\r\nWhy does a JProgressBar only work when in a thread?\r\n","title":"JProgressBar indeterminate mode, why thread required?","body":"<p>I often use a jprogressbar in indeterminate mode to communicate an ongoing process to user.</p>\n<pre><code>JProgressBar systemProcess = new JProgressBar();  \nsystemProcess.setString(processName);\nsystemProcess.setIndeterminate(true); \nrunSlowRequest();\nsystemProcess.setIndeterminate(false); \n</code></pre>\n<p>I always have to put the JProgressBar in a thread or it does not show.  I have used various versions of a thread, SwingWorker, SwingUtilities.invokelater, etc.<br />\nThey all work, but when the thread ends the swing gui does a full repaint.</p>\n<p>If I remove the thread the repaint doesn't occur but the progressbar doesn't work.</p>\n<p>Why does a JProgressBar only work when in a thread?</p>\n"},{"tags":["java","selenium"],"comments":[{"owner":{"account_id":4446214,"reputation":2261,"user_id":3619412,"display_name":"Manu"},"score":0,"creation_date":1438002310,"post_id":31650837,"comment_id":51252913,"body_markdown":"You want to check if product selected to add to cart and product actually added to cart are same or not. Is it?","body":"You want to check if product selected to add to cart and product actually added to cart are same or not. Is it?"},{"owner":{"account_id":6140349,"reputation":2598,"user_id":4787944,"accept_rate":57,"display_name":"Saritha G"},"score":0,"creation_date":1438002424,"post_id":31650837,"comment_id":51252984,"body_markdown":"Yes. That too for first product in my search result.","body":"Yes. That too for first product in my search result."}],"answers":[{"tags":[],"owner":{"account_id":3866973,"reputation":3011,"user_id":3203287,"accept_rate":100,"display_name":"Vicky"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1438062496,"creation_date":1437995902,"answer_id":31651695,"question_id":31650837,"body_markdown":"After selecting the product in product detail page get the page title and store it in a String\r\n\r\n    String product_title=driver.getTitle();\r\n\r\nAfter adding the product to the cart in the cart page click the product image in the cart(You can also do this in another tab)\r\n\r\n    driver.findElement(By.xpath(&quot;//div[contains(@class,&#39;carty-image&#39;)]/a/img&quot;)).click();\r\n    \t\t\r\n    Assert.assertEquals(product_title, driver.getTitle());\r\n\r\nWe are comparing both the title&#39;s.In your case it should be &quot;Asus Zenfone 5 Price in India - Buy Asus Zenfone 5 Black 8 Online - Asus : Flipkart.com&quot; By this way you can be 100% sure that the product is the same product you selected.You can also check price in the details page and compare it with the cart page\r\n\r\nYou can also get the product attributes &quot;Black, with 8 GB, with 1.2 GHz Processor&quot; in detail page and compare it with the cart page\r\n\r\n    //product detail page\r\n    String detail_page=driver.findElement(By.xpath(&quot;//span[@class=&#39;subtitle&#39;]&quot;)).getText();\r\n    //cart page\t\t\r\n    String cart_page=driver.findElement(By.xpath(&quot;//p[contains(@class,&#39;fk-font-11&#39;)]&quot;)).getText();\r\n    Assert.assertEquals(detail_page, cart_page); \r\n\r\n**Edit** :\r\n\r\nYou cannot compare by using name in both product page and cart page bcoz if u look at the page source of cart page the name is &quot;Asus A501CG-2A508WWE/ A501CG-2A584WWE Zenfone...&quot; even if we write a regex and get the name ex : Asus zenfone we won&#39;t be able to get the full name Asus Zenfone 5 so this will not be the correct procedure to check.Only in the order summary section which appears after placing the order(clicking place order button in view cart page) you will be able to verify using the name &quot;Asus Zenfone 5&quot;.\r\n\r\n**Explanation about my solution** :\r\n\r\n**Step 1** : In the search page you click the first product(asus zenfone 5)\r\n\r\n**Step 2** : You will be redirected to the detail page of the product you selected here after selecting the features like color or storage the page will reload and after that get the page title it will be like ex : Asus Zenfone 5 Price in India - Buy Asus Zenfone 5 Red 8 Online - Asus : Flipkart.com and other features (like color, storage and processor selected),seller name \r\n\r\n**Step 3** : click add to cart button and go to the cart page\r\n\r\n**Step 4** : In the cart page verify whether all the features are present for checking the name the only thing you can do is click on the image of the product and open it in a new tab and then again get the title and compare it with the previous title which we got before adding the product to the cart.Thus you can verify that you have added the correct product.\r\n\r\nYou can also keep the another check to verify whether the product added is same like get the product id of the product before adding it to the cart and in the cart page get the **pid** attribute from the url and compare both of them \r\n\r\nHope this helps you...Kindly get back if you have any doubts","title":"Check Selected Product and product which is added to cart are same or not","body":"<p>After selecting the product in product detail page get the page title and store it in a String</p>\n\n<pre><code>String product_title=driver.getTitle();\n</code></pre>\n\n<p>After adding the product to the cart in the cart page click the product image in the cart(You can also do this in another tab)</p>\n\n<pre><code>driver.findElement(By.xpath(\"//div[contains(@class,'carty-image')]/a/img\")).click();\n\nAssert.assertEquals(product_title, driver.getTitle());\n</code></pre>\n\n<p>We are comparing both the title's.In your case it should be \"Asus Zenfone 5 Price in India - Buy Asus Zenfone 5 Black 8 Online - Asus : Flipkart.com\" By this way you can be 100% sure that the product is the same product you selected.You can also check price in the details page and compare it with the cart page</p>\n\n<p>You can also get the product attributes \"Black, with 8 GB, with 1.2 GHz Processor\" in detail page and compare it with the cart page</p>\n\n<pre><code>//product detail page\nString detail_page=driver.findElement(By.xpath(\"//span[@class='subtitle']\")).getText();\n//cart page     \nString cart_page=driver.findElement(By.xpath(\"//p[contains(@class,'fk-font-11')]\")).getText();\nAssert.assertEquals(detail_page, cart_page); \n</code></pre>\n\n<p><strong>Edit</strong> :</p>\n\n<p>You cannot compare by using name in both product page and cart page bcoz if u look at the page source of cart page the name is \"Asus A501CG-2A508WWE/ A501CG-2A584WWE Zenfone...\" even if we write a regex and get the name ex : Asus zenfone we won't be able to get the full name Asus Zenfone 5 so this will not be the correct procedure to check.Only in the order summary section which appears after placing the order(clicking place order button in view cart page) you will be able to verify using the name \"Asus Zenfone 5\".</p>\n\n<p><strong>Explanation about my solution</strong> :</p>\n\n<p><strong>Step 1</strong> : In the search page you click the first product(asus zenfone 5)</p>\n\n<p><strong>Step 2</strong> : You will be redirected to the detail page of the product you selected here after selecting the features like color or storage the page will reload and after that get the page title it will be like ex : Asus Zenfone 5 Price in India - Buy Asus Zenfone 5 Red 8 Online - Asus : Flipkart.com and other features (like color, storage and processor selected),seller name </p>\n\n<p><strong>Step 3</strong> : click add to cart button and go to the cart page</p>\n\n<p><strong>Step 4</strong> : In the cart page verify whether all the features are present for checking the name the only thing you can do is click on the image of the product and open it in a new tab and then again get the title and compare it with the previous title which we got before adding the product to the cart.Thus you can verify that you have added the correct product.</p>\n\n<p>You can also keep the another check to verify whether the product added is same like get the product id of the product before adding it to the cart and in the cart page get the <strong>pid</strong> attribute from the url and compare both of them </p>\n\n<p>Hope this helps you...Kindly get back if you have any doubts</p>\n"},{"tags":[],"owner":{"account_id":4446214,"reputation":2261,"user_id":3619412,"display_name":"Manu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1438005059,"creation_date":1438005059,"answer_id":31654976,"question_id":31650837,"body_markdown":"I agree with you that just the Product name cannot be used to distinguish between different products as many products may have same or similar name and that may not give you the expected result.\r\n\r\nTry Product Id instead. Use the code to compare the Product Id&#39;s.\r\n\r\n\r\n    driver.findElement(By.xpath(&quot;//*[@id=&#39;products&#39;]/div/div[1]/div[1]/div&quot;))\r\n          .getAttribute(&quot;data-pid&quot;)     //Id from first product in search result\r\n\r\n    driver.findElement(By.xpath(&quot;//*[@class=&#39;compare-items&#39;]/div[1]&quot;))\r\n          .getAttribute(&quot;item_id&quot;))    //Id from product added to cart\r\n \r\nAlso, there seems to be few dynamic XPath in your code, you may need to make it static so that test do not fail.\r\n\r\nLet me know if you have any queries. ","title":"Check Selected Product and product which is added to cart are same or not","body":"<p>I agree with you that just the Product name cannot be used to distinguish between different products as many products may have same or similar name and that may not give you the expected result.</p>\n\n<p>Try Product Id instead. Use the code to compare the Product Id's.</p>\n\n<pre><code>driver.findElement(By.xpath(\"//*[@id='products']/div/div[1]/div[1]/div\"))\n      .getAttribute(\"data-pid\")     //Id from first product in search result\n\ndriver.findElement(By.xpath(\"//*[@class='compare-items']/div[1]\"))\n      .getAttribute(\"item_id\"))    //Id from product added to cart\n</code></pre>\n\n<p>Also, there seems to be few dynamic XPath in your code, you may need to make it static so that test do not fail.</p>\n\n<p>Let me know if you have any queries. </p>\n"},{"tags":[],"owner":{"account_id":6484015,"reputation":463,"user_id":5020170,"display_name":"Hari kishen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1438009679,"creation_date":1438005610,"answer_id":31655195,"question_id":31650837,"body_markdown":"I think the title with mobile model number is displayed in the cart page and where as in the Product Details page, only the title of phone is displayed.\r\n\r\nSo if you want to compare both the titles:- \r\n\r\n    //Product Details page.\r\n    Title is = Asus Zenfone 5.\r\n    String product = driver.findElement(By.xpath(&quot;//*[@itemprop=&#39;name&#39;]&quot;)).getText();\r\n\r\nNote:- Difference in the page is &quot;Add To Cart&quot; Button is enable and you can click it.\r\n\r\n//Cart Page\r\nAfter clicking on mobile image icon the Title is = Asus Zenfone 5.\r\nClick on the small Mobile image icon and it will takes to the bigger page. Then you can take get Title. \r\n\r\n    driver.findElement (By.xpath(&quot;//*[@class=&#39;carty-image fk-text-center fk-position-relative&#39;]/a/img&quot;)).click();\r\n    String cart = driver.findElement(By.xpath(&quot;//*[@class=&#39;title   Hover&#39;]&quot;)).getText();\r\n\r\nNote:- Difference in the page is &quot;Add To Cart&quot; Button is disable, As we have already added the Item to the cart.\r\n\r\nNow you can compare by.\r\n\r\n    Assert.assertEquals(product, cart); \r\n\r\nI hope this helps you.\r\n","title":"Check Selected Product and product which is added to cart are same or not","body":"<p>I think the title with mobile model number is displayed in the cart page and where as in the Product Details page, only the title of phone is displayed.</p>\n\n<p>So if you want to compare both the titles:- </p>\n\n<pre><code>//Product Details page.\nTitle is = Asus Zenfone 5.\nString product = driver.findElement(By.xpath(\"//*[@itemprop='name']\")).getText();\n</code></pre>\n\n<p>Note:- Difference in the page is \"Add To Cart\" Button is enable and you can click it.</p>\n\n<p>//Cart Page\nAfter clicking on mobile image icon the Title is = Asus Zenfone 5.\nClick on the small Mobile image icon and it will takes to the bigger page. Then you can take get Title. </p>\n\n<pre><code>driver.findElement (By.xpath(\"//*[@class='carty-image fk-text-center fk-position-relative']/a/img\")).click();\nString cart = driver.findElement(By.xpath(\"//*[@class='title   Hover']\")).getText();\n</code></pre>\n\n<p>Note:- Difference in the page is \"Add To Cart\" Button is disable, As we have already added the Item to the cart.</p>\n\n<p>Now you can compare by.</p>\n\n<pre><code>Assert.assertEquals(product, cart); \n</code></pre>\n\n<p>I hope this helps you.</p>\n"}],"owner":{"account_id":6140349,"reputation":2598,"user_id":4787944,"accept_rate":57,"display_name":"Saritha G"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8592,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1693083860,"creation_date":1437993238,"question_id":31650837,"body_markdown":"I have searched for a mobile product which is of type **&quot; Asus Zenfone 5 &quot;** in **flipkart.com** website, search display many products. I selected first product and added it to cart.\r\n\r\nBelow is my code:\r\n\r\n   \r\n     @Test\r\n\t public void flipkartScript() throws InterruptedException {\r\n\r\n\t\tdriver.get(&quot;http://www.flipkart.com/&quot;);\r\n\t\tdriver.findElement(By.id(&quot;fk-top-search-box&quot;)).sendKeys(&quot;Asus Zenfone 5&quot;);\r\n\t\tdriver.findElement(By.xpath(&quot;//input[@value=&#39;Search&#39;]&quot;)).click();\r\n\r\n\t\t// Selecting first product\r\n\t\tdriver.findElement(By\r\n\t\t\t.xpath(&quot;.//*[@id=&#39;products&#39;]/div/div[1]/div[1]/div/div[1]/a[1]&quot;));\r\n\t\tString name = driver.findElement(By.className(&quot;title&quot;)).getText();\r\n\t\tString price = driver.findElement(By\r\n\t\t\t.xpath(&quot;//span[@class=&#39;selling-price omniture-field&#39;]&quot;)).getText();\r\n\t\tSystem.out.println(&quot;ProductName: &quot;+name + &quot;  ProductPrice: &quot;+price);\r\n\t\t\r\n\t\t//Adding selected product to cart\r\n\t\tdriver.findElement(By.xpath(&quot;//input[@value=&#39;Add to Cart&#39;]&quot;)).click();\r\n\t\tThread.sleep(3000);\r\n\t\t\r\n\t\t//Checking product is available in cart or not\r\n\t\tdriver.findElement(By.xpath(&quot;//span[@class=&#39;cart-label&#39;]&quot;)).click();\r\n\t\tThread.sleep(5000);\r\n\t}\r\n\r\nEverything is working fine in my code.\r\n\r\nNow my doubt is, to check if Selected product and added product both are same. Product name in cart is different from the first product Name in the search results. We can only check if the product names are same or not. Other than that, is there any other option to check? So how can we check whether the selected product is same as the product which is in the cart??","title":"Check Selected Product and product which is added to cart are same or not","body":"<p>I have searched for a mobile product which is of type <strong>\" Asus Zenfone 5 \"</strong> in <strong>flipkart.com</strong> website, search display many products. I selected first product and added it to cart.</p>\n\n<p>Below is my code:</p>\n\n<pre><code> @Test\n public void flipkartScript() throws InterruptedException {\n\n    driver.get(\"http://www.flipkart.com/\");\n    driver.findElement(By.id(\"fk-top-search-box\")).sendKeys(\"Asus Zenfone 5\");\n    driver.findElement(By.xpath(\"//input[@value='Search']\")).click();\n\n    // Selecting first product\n    driver.findElement(By\n        .xpath(\".//*[@id='products']/div/div[1]/div[1]/div/div[1]/a[1]\"));\n    String name = driver.findElement(By.className(\"title\")).getText();\n    String price = driver.findElement(By\n        .xpath(\"//span[@class='selling-price omniture-field']\")).getText();\n    System.out.println(\"ProductName: \"+name + \"  ProductPrice: \"+price);\n\n    //Adding selected product to cart\n    driver.findElement(By.xpath(\"//input[@value='Add to Cart']\")).click();\n    Thread.sleep(3000);\n\n    //Checking product is available in cart or not\n    driver.findElement(By.xpath(\"//span[@class='cart-label']\")).click();\n    Thread.sleep(5000);\n}\n</code></pre>\n\n<p>Everything is working fine in my code.</p>\n\n<p>Now my doubt is, to check if Selected product and added product both are same. Product name in cart is different from the first product Name in the search results. We can only check if the product names are same or not. Other than that, is there any other option to check? So how can we check whether the selected product is same as the product which is in the cart??</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"score":3,"creation_date":1693009513,"post_id":76981132,"comment_id":135707803,"body_markdown":"I&#39;m not sure I understand. You want to check if your input is equal to this specific string, but you want to do it in a.... &quot;safe&quot; way? What&#39;s wrong with `mySpecialString.equals(userInput)`? Is there some specific security threat that you&#39;re worried about when comparing strings for equality?","body":"I&#39;m not sure I understand. You want to check if your input is equal to this specific string, but you want to do it in a.... &quot;safe&quot; way? What&#39;s wrong with <code>mySpecialString.equals(userInput)</code>? Is there some specific security threat that you&#39;re worried about when comparing strings for equality?"},{"owner":{"account_id":466379,"reputation":17103,"user_id":871096,"accept_rate":52,"display_name":"Robert Dodier"},"score":0,"creation_date":1693009547,"post_id":76981132,"comment_id":135707809,"body_markdown":"If I&#39;m not mistaken, `0001-01-01T00:00:00Z` is the origin of the time; I believe it should be parsed successfully (barring problems with the date parser), and the resulting number of milliseconds for the parsed date should be 0. So that&#39;s something you can check: if milliseconds == 0, then you have this special date.","body":"If I&#39;m not mistaken, <code>0001-01-01T00:00:00Z</code> is the origin of the time; I believe it should be parsed successfully (barring problems with the date parser), and the resulting number of milliseconds for the parsed date should be 0. So that&#39;s something you can check: if milliseconds == 0, then you have this special date."},{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":2,"creation_date":1693010242,"post_id":76981132,"comment_id":135707851,"body_markdown":"@RobertDodier Actually, no, a zero `Instant` in Java is `1970-01-01T00:00:00Z` so the timestamp `0001-01-01T00:00:00Z` is some large negative number.","body":"@RobertDodier Actually, no, a zero <code>Instant</code> in Java is <code>1970-01-01T00:00:00Z</code> so the timestamp <code>0001-01-01T00:00:00Z</code> is some large negative number."},{"owner":{"account_id":466379,"reputation":17103,"user_id":871096,"accept_rate":52,"display_name":"Robert Dodier"},"score":0,"creation_date":1693011238,"post_id":76981132,"comment_id":135707898,"body_markdown":"@JimGarrison Hrm, yes, thanks for the reminder. Wishful thinking on my part, I guess.","body":"@JimGarrison Hrm, yes, thanks for the reminder. Wishful thinking on my part, I guess."},{"owner":{"account_id":248321,"reputation":62665,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":1,"creation_date":1693013015,"post_id":76981132,"comment_id":135708001,"body_markdown":"Did you try checking the content of the string **before** attempting to parse it? If not, what do you mean by &quot;safe&quot;?","body":"Did you try checking the content of the string <b>before</b> attempting to parse it? If not, what do you mean by &quot;safe&quot;?"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1693031393,"post_id":76981132,"comment_id":135708920,"body_markdown":"Sorry, this is a horrible interface design. You probably can’t change it? Also I strongly recommend you don’t use the long outdated `Date`  class, it was always poorly designed. Stick to java.time, the modern Java date and time API.","body":"Sorry, this is a horrible interface design. You probably can’t change it? Also I strongly recommend you don’t use the long outdated <code>Date</code>  class, it was always poorly designed. Stick to java.time, the modern Java date and time API."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1693031549,"post_id":76981132,"comment_id":135708930,"body_markdown":"The safe thing to do is proper input validation. So if the instant is within, say, 10 years from now, it’s sound. If it’s your designated null placeholder instant, also accept it. In all other cases reject the input as invalid.","body":"The safe thing to do is proper input validation. So if the instant is within, say, 10 years from now, it’s sound. If it’s your designated null placeholder instant, also accept it. In all other cases reject the input as invalid."}],"answers":[{"tags":[],"owner":{"account_id":4048441,"reputation":1429,"user_id":3328933,"accept_rate":71,"display_name":"My other car is a cadr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693010128,"creation_date":1693010128,"answer_id":76981159,"question_id":76981132,"body_markdown":"\r\nAssuming that you are only dealing with recent dates, I recommend comparing against the java.time.Instant.EPOCH constant. \r\n\r\n```\r\n        String dateStr = &quot;0001-01-01T00:00:00Z&quot;;\r\n        Instant instant = Instant.parse(dateStr);\r\n        if(instant.isBefore(java.time.Instant.EPOCH)){\r\n           // don&#39;t process this value\r\n        }\r\n        Date dt = Date.from(instant);\r\n```\r\nBut if you want to be on the extra safe side, you could make your own java.time.Instant constant that is somewhere around 2 AD. ","title":"Safe way to check &quot;0001-01-01T00:00:00Z&quot; in java?","body":"<p>Assuming that you are only dealing with recent dates, I recommend comparing against the java.time.Instant.EPOCH constant.</p>\n<pre><code>        String dateStr = &quot;0001-01-01T00:00:00Z&quot;;\n        Instant instant = Instant.parse(dateStr);\n        if(instant.isBefore(java.time.Instant.EPOCH)){\n           // don't process this value\n        }\n        Date dt = Date.from(instant);\n</code></pre>\n<p>But if you want to be on the extra safe side, you could make your own java.time.Instant constant that is somewhere around 2 AD.</p>\n"},{"tags":[],"owner":{"account_id":18135642,"reputation":41,"user_id":13190219,"display_name":"Gustavo Andres Benitez"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1693011015,"creation_date":1693011015,"answer_id":76981183,"question_id":76981132,"body_markdown":"I would suggest a few things:\r\n- Use java.time fully and avoid java.util.Date: The java.time package is a superior API for date and time operations, and is generally recommended over the older java.util.Date and java.util.Calendar classes.\r\n\r\n- Check against a specific Instant: Instead of checking against a &quot;min&quot; value, you can specifically check against the &quot;null&quot; date you expect, which is &quot;0001-01-01T00:00:00Z&quot;.\r\n\r\nAn example would be:\r\n```import java.time.Instant;\r\n\r\npublic class Main {\r\n    private static final Instant NULL_INSTANT = Instant.parse(&quot;0001-01-01T00:00:00Z&quot;);\r\n\r\n    public static void main(String[] args) {\r\n        String dateStr = &quot;0001-01-01T00:00:00Z&quot;;\r\n        Instant instant = Instant.parse(dateStr);\r\n\r\n        if (instant.equals(NULL_INSTANT)) {\r\n            System.out.println(&quot;This is the null date.&quot;);\r\n        } else {\r\n            System.out.println(&quot;This is a valid date.&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThe benefit of using a constant Instant (NULL_INSTANT) is that you define your null value in just one place, making your code easier to maintain and less prone to errors. If for any reason the null representation changes in the future, you would only have to change the value of NULL_INSTANT.","title":"Safe way to check &quot;0001-01-01T00:00:00Z&quot; in java?","body":"<p>I would suggest a few things:</p>\n<ul>\n<li><p>Use java.time fully and avoid java.util.Date: The java.time package is a superior API for date and time operations, and is generally recommended over the older java.util.Date and java.util.Calendar classes.</p>\n</li>\n<li><p>Check against a specific Instant: Instead of checking against a &quot;min&quot; value, you can specifically check against the &quot;null&quot; date you expect, which is &quot;0001-01-01T00:00:00Z&quot;.</p>\n</li>\n</ul>\n<p>An example would be:</p>\n<pre><code>\npublic class Main {\n    private static final Instant NULL_INSTANT = Instant.parse(&quot;0001-01-01T00:00:00Z&quot;);\n\n    public static void main(String[] args) {\n        String dateStr = &quot;0001-01-01T00:00:00Z&quot;;\n        Instant instant = Instant.parse(dateStr);\n\n        if (instant.equals(NULL_INSTANT)) {\n            System.out.println(&quot;This is the null date.&quot;);\n        } else {\n            System.out.println(&quot;This is a valid date.&quot;);\n        }\n    }\n}\n</code></pre>\n<p>The benefit of using a constant Instant (NULL_INSTANT) is that you define your null value in just one place, making your code easier to maintain and less prone to errors. If for any reason the null representation changes in the future, you would only have to change the value of NULL_INSTANT.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693082436,"creation_date":1693080756,"answer_id":76984688,"question_id":76981132,"body_markdown":"## tl;dr\r\n\r\nUse [`org.threeten.extra.Interval`][1] class, with its “unbounded” concept.\r\n\r\n```java\r\nif( \r\n    startInput.equals( &quot;0001-01-01T00:00:00Z&quot; ) \r\n) {\r\n    return Interval.endingAt( Instant.parse( endInput ) ) ;  // Start is “unbounded”. \r\n} \r\n```\r\n\r\n```java\r\nif ( interval.isUnboundedStart() ) { … }\r\n```\r\n\r\n## `org.threeten.extra.Interval`\r\n\r\nPerhaps a more sophisticated solution would be to redesign your app to leverage the [`Interval`][1] class found in the [*ThreeTen-Extra*][5] library. This library extends the *java.time* functionality built into Java. \r\n\r\nThe `Interval` class represents a span of time attached to the timeline. Objects of this class contain a pair of [`Instant`][6] objects, meaning the beginning and ending of the span. \r\n\r\n    Interval interval = \r\n        Interval.of(\r\n            Instant.parse( &quot;2023-08-26T00:30:00Z&quot; ) ,\r\n            Instant.parse( &quot;2023-08-26T02:30:00Z&quot; )\r\n        }\r\n    ;\r\n\r\nThe `Interval` class can generate (and parse) text in standard [ISO 8601 format][7].\r\n\r\n&gt;interval.toString(): 2023-08-26T00:30:00Z/2023-08-26T02:30:00Z\r\n\r\n### `Duration`\r\n\r\nYou can ask the `Interval` for a [`Duration`][8] of time elapsed. A `Duration` is a count of hours-minutes-seconds-nanos, that is, a span of time *not* attached to the timeline.\r\n\r\n    Duration duration = interval.toDuration() ;\r\n\r\nThe `Duration` class can generate (and parse) text in standard [ISO 8601 format][9].\r\n\r\n&gt;duration.toString(): PT2H\r\n\r\n### “unbounded” span\r\n\r\nYour input processor can produce an `Interval` object where either the start or the end is missing. The `Interval` class represents &quot;missing&quot; by using [`Instant.MIN`][10] &amp; [`Instant.MAX`][11] rather than `null`. Such a value marks the `Interval` as “unbounded”. \r\n\r\n    // Input processor returns an `Interval` object.\r\n    final String NULL_FLAG = &quot;0001-01-01T00:00:00Z&quot; ;\r\n\r\n    if( \r\n        startInput.equals( NULL_FLAG ) &amp;&amp; endInput.equals( NULL_FLAG )\r\n    ) {\r\n        return Interval.ALL ;  // An interval over the whole time-line, from Instant.MIN to Instant.MAX.\r\n    } \r\n\r\n    if( \r\n        startInput.equals( NULL_FLAG ) \r\n    ) {\r\n        return Interval.endingAt( Instant.parse( endInput ) ) ;\r\n    } \r\n\r\n    if( \r\n        endInput.equals( NULL_FLAG ) \r\n    ) {\r\n        return Interval.startingAt( Instant.parse( endInput ) ) ;\r\n    } \r\n\r\n    return \r\n        Interval.of(\r\n            Instant.parse( startInput ) ,\r\n            Instant.parse( endInput )\r\n        }\r\n    ;\r\n\r\nThe calling code can then inspect the `Interval` object. That class offers methods to detect if either the start and/or end is “unbounded”, that is, holds `Instant.MIN` or `Instant.MAX` respectively.\r\n\r\n    if ( interval.isUnboundedStart() ) { … }\r\n    if ( interval.isUnboundedEnd() ) { … }\r\n\r\n### Other handy methods\r\n\r\nYou may find other methods on that class to be useful.\r\n\r\n    if ( interval.isEmpty() ) { … }  // Start and end are the same moment.\r\n\r\nTo get the very earliest start and the latest end, combine the intervals. Then interrogate for the resulting combo interval’s start and end.\r\n\r\n    Interval combo = intervalX.union( intervalY ).union( intervalZ ) ;\r\n    if ( combo.isEmpty() ) { … }                // The start equals the end.\r\n    else if ( combo.isUnboundedStart() ) { … }  // The start is `Instant.MIN`.\r\n    else if ( combo.isUnboundedEnd() ) { … }    // The end is `Instant.MAX`.\r\n    else {\r\n        Instant earliestStart = combo.getStart() ;\r\n        Instant latestEnd = combo.getEnd() ;\r\n    }\r\n\r\n\r\n  [1]: https://www.threeten.org/threeten-extra/apidocs/org.threeten.extra/org/threeten/extra/Interval.html\r\n  [2]: https://stackoverflow.com/a/76981183/642706\r\n  [3]: https://stackoverflow.com/questions/76981132/safe-way-to-check-0001-01-01t000000z-in-java#comment135708930_76981132\r\n  [4]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Optional.html\r\n  [5]: https://www.threeten.org/threeten-extra/\r\n  [6]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/Instant.html\r\n  [7]: https://en.wikipedia.org/wiki/ISO_8601#Time_intervals\r\n  [8]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/Duration.html\r\n  [9]: https://en.wikipedia.org/wiki/ISO_8601#Durations\r\n  [10]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/Instant.html#MIN\r\n  [11]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/Instant.html#MAX","title":"Safe way to check &quot;0001-01-01T00:00:00Z&quot; in java?","body":"<h2>tl;dr</h2>\n<p>Use <a href=\"https://www.threeten.org/threeten-extra/apidocs/org.threeten.extra/org/threeten/extra/Interval.html\" rel=\"nofollow noreferrer\"><code>org.threeten.extra.Interval</code></a> class, with its “unbounded” concept.</p>\n<pre class=\"lang-java prettyprint-override\"><code>if( \n    startInput.equals( &quot;0001-01-01T00:00:00Z&quot; ) \n) {\n    return Interval.endingAt( Instant.parse( endInput ) ) ;  // Start is “unbounded”. \n} \n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>if ( interval.isUnboundedStart() ) { … }\n</code></pre>\n<h2><code>org.threeten.extra.Interval</code></h2>\n<p>Perhaps a more sophisticated solution would be to redesign your app to leverage the <a href=\"https://www.threeten.org/threeten-extra/apidocs/org.threeten.extra/org/threeten/extra/Interval.html\" rel=\"nofollow noreferrer\"><code>Interval</code></a> class found in the <a href=\"https://www.threeten.org/threeten-extra/\" rel=\"nofollow noreferrer\"><em>ThreeTen-Extra</em></a> library. This library extends the <em>java.time</em> functionality built into Java.</p>\n<p>The <code>Interval</code> class represents a span of time attached to the timeline. Objects of this class contain a pair of <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/Instant.html\" rel=\"nofollow noreferrer\"><code>Instant</code></a> objects, meaning the beginning and ending of the span.</p>\n<pre><code>Interval interval = \n    Interval.of(\n        Instant.parse( &quot;2023-08-26T00:30:00Z&quot; ) ,\n        Instant.parse( &quot;2023-08-26T02:30:00Z&quot; )\n    }\n;\n</code></pre>\n<p>The <code>Interval</code> class can generate (and parse) text in standard <a href=\"https://en.wikipedia.org/wiki/ISO_8601#Time_intervals\" rel=\"nofollow noreferrer\">ISO 8601 format</a>.</p>\n<blockquote>\n<p>interval.toString(): 2023-08-26T00:30:00Z/2023-08-26T02:30:00Z</p>\n</blockquote>\n<h3><code>Duration</code></h3>\n<p>You can ask the <code>Interval</code> for a <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/Duration.html\" rel=\"nofollow noreferrer\"><code>Duration</code></a> of time elapsed. A <code>Duration</code> is a count of hours-minutes-seconds-nanos, that is, a span of time <em>not</em> attached to the timeline.</p>\n<pre><code>Duration duration = interval.toDuration() ;\n</code></pre>\n<p>The <code>Duration</code> class can generate (and parse) text in standard <a href=\"https://en.wikipedia.org/wiki/ISO_8601#Durations\" rel=\"nofollow noreferrer\">ISO 8601 format</a>.</p>\n<blockquote>\n<p>duration.toString(): PT2H</p>\n</blockquote>\n<h3>“unbounded” span</h3>\n<p>Your input processor can produce an <code>Interval</code> object where either the start or the end is missing. The <code>Interval</code> class represents &quot;missing&quot; by using <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/Instant.html#MIN\" rel=\"nofollow noreferrer\"><code>Instant.MIN</code></a> &amp; <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/Instant.html#MAX\" rel=\"nofollow noreferrer\"><code>Instant.MAX</code></a> rather than <code>null</code>. Such a value marks the <code>Interval</code> as “unbounded”.</p>\n<pre><code>// Input processor returns an `Interval` object.\nfinal String NULL_FLAG = &quot;0001-01-01T00:00:00Z&quot; ;\n\nif( \n    startInput.equals( NULL_FLAG ) &amp;&amp; endInput.equals( NULL_FLAG )\n) {\n    return Interval.ALL ;  // An interval over the whole time-line, from Instant.MIN to Instant.MAX.\n} \n\nif( \n    startInput.equals( NULL_FLAG ) \n) {\n    return Interval.endingAt( Instant.parse( endInput ) ) ;\n} \n\nif( \n    endInput.equals( NULL_FLAG ) \n) {\n    return Interval.startingAt( Instant.parse( endInput ) ) ;\n} \n\nreturn \n    Interval.of(\n        Instant.parse( startInput ) ,\n        Instant.parse( endInput )\n    }\n;\n</code></pre>\n<p>The calling code can then inspect the <code>Interval</code> object. That class offers methods to detect if either the start and/or end is “unbounded”, that is, holds <code>Instant.MIN</code> or <code>Instant.MAX</code> respectively.</p>\n<pre><code>if ( interval.isUnboundedStart() ) { … }\nif ( interval.isUnboundedEnd() ) { … }\n</code></pre>\n<h3>Other handy methods</h3>\n<p>You may find other methods on that class to be useful.</p>\n<pre><code>if ( interval.isEmpty() ) { … }  // Start and end are the same moment.\n</code></pre>\n<p>To get the very earliest start and the latest end, combine the intervals. Then interrogate for the resulting combo interval’s start and end.</p>\n<pre><code>Interval combo = intervalX.union( intervalY ).union( intervalZ ) ;\nif ( combo.isEmpty() ) { … }                // The start equals the end.\nelse if ( combo.isUnboundedStart() ) { … }  // The start is `Instant.MIN`.\nelse if ( combo.isUnboundedEnd() ) { … }    // The end is `Instant.MAX`.\nelse {\n    Instant earliestStart = combo.getStart() ;\n    Instant latestEnd = combo.getEnd() ;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693082566,"creation_date":1693082566,"answer_id":76984772,"question_id":76981132,"body_markdown":"## `Optional` wrapper\r\n\r\nI like the [Answer by Benitez][2]. And I like the [Comment by Ole V.V.][3] suggesting you do proper input validation up front, before your business logic.\r\n\r\nIn combining those ideas, I think of using [`Optional`][4]. Process inputs first, detecting the value meant to indicate a null date-time value. The input processor returns an empty `Optional` for such null-indicative strings. Otherwise the input processor returns an `Optional` whose payload is a `Instant` object. \r\n\r\n    // Input processor\r\n    // Returns Optional &lt; Instant &gt;\r\n    if( input.equals( &quot;0001-01-01T00:00:00Z&quot; ) ) {\r\n        return Optional.empty() ;\r\n    } else {\r\n        return Optional.of( Instant.parse( input ) ) ;\r\n    }\r\n\r\nThe use of `Optional` forces the calling methods to deal with the fact that the `Instant` they expect may not be present. Perhaps this is what you meant by “safe”. \r\n\r\n\r\n  [2]: https://stackoverflow.com/a/76981183/642706\r\n  [3]: https://stackoverflow.com/questions/76981132/safe-way-to-check-0001-01-01t000000z-in-java#comment135708930_76981132\r\n  [4]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Optional.html","title":"Safe way to check &quot;0001-01-01T00:00:00Z&quot; in java?","body":"<h2><code>Optional</code> wrapper</h2>\n<p>I like the <a href=\"https://stackoverflow.com/a/76981183/642706\">Answer by Benitez</a>. And I like the <a href=\"https://stackoverflow.com/questions/76981132/safe-way-to-check-0001-01-01t000000z-in-java#comment135708930_76981132\">Comment by Ole V.V.</a> suggesting you do proper input validation up front, before your business logic.</p>\n<p>In combining those ideas, I think of using <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Optional.html\" rel=\"nofollow noreferrer\"><code>Optional</code></a>. Process inputs first, detecting the value meant to indicate a null date-time value. The input processor returns an empty <code>Optional</code> for such null-indicative strings. Otherwise the input processor returns an <code>Optional</code> whose payload is a <code>Instant</code> object.</p>\n<pre><code>// Input processor\n// Returns Optional &lt; Instant &gt;\nif( input.equals( &quot;0001-01-01T00:00:00Z&quot; ) ) {\n    return Optional.empty() ;\n} else {\n    return Optional.of( Instant.parse( input ) ) ;\n}\n</code></pre>\n<p>The use of <code>Optional</code> forces the calling methods to deal with the fact that the <code>Instant</code> they expect may not be present. Perhaps this is what you meant by “safe”.</p>\n"}],"owner":{"account_id":2591971,"reputation":16544,"user_id":2246488,"accept_rate":47,"display_name":"James Wierzba"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":138,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":4,"score":0,"last_activity_date":1693082566,"creation_date":1693009205,"question_id":76981132,"body_markdown":"I have a service that processes incoming events with some date time fields.\r\n\r\nThey come in this kind of format: &quot;2023-08-26T00:30:00Z&quot;. When the date is undefined, it comes in like this &quot;0001-01-01T00:00:00Z&quot;. Basically it is their way of representing null.\r\n\r\nWhat is a safe way for me to check for this in our app? I emphasize safe because if the condition I use does not work properly, it can cause a big problem. The reason for this is: we use this date value to determine a time interval for a sporting event. It is a heuristic that takes multiple date intervals, and merges them together. \r\n\r\nThe event comes in like this\r\n```\r\n&quot;event&quot; : {\r\n    &quot;game_time_windows&quot;: [\r\n        {\r\n            &quot;startTime&quot;: &quot;2023-08-26T00:30:00Z&quot;,\r\n            &quot;endTime&quot;: &quot;2023-08-26T02:30:00Z&quot;\r\n        },\r\n        {\r\n            &quot;startTime&quot;: &quot;2023-08-26T00:40:00Z&quot;,\r\n            &quot;endTime&quot;: &quot;2023-08-26T02:40:00Z&quot;\r\n        },\r\n        {\r\n            &quot;startTime&quot;: &quot;2023-08-26T00:50:00Z&quot;,\r\n            &quot;endTime&quot;: &quot;2023-08-26T02:50:00Z&quot;\r\n        }\r\n...\r\n    ]\r\n}\r\n```\r\n\r\nAnd then we merge them like so:\r\n```\r\nactual_game_start_time = min(startTime1, startTime2, ...)\r\nactual_game_end_time = max(endTime1, endTime2, ...)\r\n```\r\n\r\nSo if we accidentally parse the value &quot;0001-01-01T00:00:00Z&quot;, we risk getting a final result that has a start time of the beginning of time, and this has very bad repercussions in our application.\r\n\r\nI guess I am just hoping there is some strongly typed constant value that I can check against in java so I don&#39;t have to solve this issue myself, something like:\r\n```\r\nimport java.util.Date;\r\nimport java.time.Instant;\r\n\r\nString dateStr = &quot;0001-01-01T00:00:00Z&quot;;\r\nDate dt = Date.from(Instant.parse(dateStr));\r\nif (dt.equals(Date.MIN_VALUE)) {\r\n    // don&#39;t process this value\r\n}\r\n```\r\n\r\nI thought about checking the year, even though `getYear()` in `java.util.Date` is deprecated, but it does not seem to work well...\r\n\r\n```\r\nString dateStr = &quot;0001-01-01T00:00:00Z&quot;;\r\nDate dt = Date.from(Instant.parse(dateStr));\r\nSystem.out.println(dt.getYear());\r\n// output: -1899\r\n```","title":"Safe way to check &quot;0001-01-01T00:00:00Z&quot; in java?","body":"<p>I have a service that processes incoming events with some date time fields.</p>\n<p>They come in this kind of format: &quot;2023-08-26T00:30:00Z&quot;. When the date is undefined, it comes in like this &quot;0001-01-01T00:00:00Z&quot;. Basically it is their way of representing null.</p>\n<p>What is a safe way for me to check for this in our app? I emphasize safe because if the condition I use does not work properly, it can cause a big problem. The reason for this is: we use this date value to determine a time interval for a sporting event. It is a heuristic that takes multiple date intervals, and merges them together.</p>\n<p>The event comes in like this</p>\n<pre><code>&quot;event&quot; : {\n    &quot;game_time_windows&quot;: [\n        {\n            &quot;startTime&quot;: &quot;2023-08-26T00:30:00Z&quot;,\n            &quot;endTime&quot;: &quot;2023-08-26T02:30:00Z&quot;\n        },\n        {\n            &quot;startTime&quot;: &quot;2023-08-26T00:40:00Z&quot;,\n            &quot;endTime&quot;: &quot;2023-08-26T02:40:00Z&quot;\n        },\n        {\n            &quot;startTime&quot;: &quot;2023-08-26T00:50:00Z&quot;,\n            &quot;endTime&quot;: &quot;2023-08-26T02:50:00Z&quot;\n        }\n...\n    ]\n}\n</code></pre>\n<p>And then we merge them like so:</p>\n<pre><code>actual_game_start_time = min(startTime1, startTime2, ...)\nactual_game_end_time = max(endTime1, endTime2, ...)\n</code></pre>\n<p>So if we accidentally parse the value &quot;0001-01-01T00:00:00Z&quot;, we risk getting a final result that has a start time of the beginning of time, and this has very bad repercussions in our application.</p>\n<p>I guess I am just hoping there is some strongly typed constant value that I can check against in java so I don't have to solve this issue myself, something like:</p>\n<pre><code>import java.util.Date;\nimport java.time.Instant;\n\nString dateStr = &quot;0001-01-01T00:00:00Z&quot;;\nDate dt = Date.from(Instant.parse(dateStr));\nif (dt.equals(Date.MIN_VALUE)) {\n    // don't process this value\n}\n</code></pre>\n<p>I thought about checking the year, even though <code>getYear()</code> in <code>java.util.Date</code> is deprecated, but it does not seem to work well...</p>\n<pre><code>String dateStr = &quot;0001-01-01T00:00:00Z&quot;;\nDate dt = Date.from(Instant.parse(dateStr));\nSystem.out.println(dt.getYear());\n// output: -1899\n</code></pre>\n"},{"tags":["java","generics","enums"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1693062917,"post_id":76983559,"comment_id":135711782,"body_markdown":"Nah, even though `FOO` and `BAR` are classes, they&#39;re synthetic enum classes so you can&#39;t tie them into generics.","body":"Nah, even though <code>FOO</code> and <code>BAR</code> are classes, they&#39;re synthetic enum classes so you can&#39;t tie them into generics."},{"owner":{"account_id":19221358,"reputation":35,"user_id":15464124,"display_name":"RedDev"},"score":0,"creation_date":1693063016,"post_id":76983559,"comment_id":135711788,"body_markdown":"So there is absolutely no way to tie the `U` in put to the param in the enum values?","body":"So there is absolutely no way to tie the <code>U</code> in put to the param in the enum values?"},{"owner":{"account_id":918256,"reputation":1641,"user_id":950558,"display_name":"Bastien Aracil"},"score":0,"creation_date":1693063036,"post_id":76983559,"comment_id":135711790,"body_markdown":"What version of Java do you use ?","body":"What version of Java do you use ?"},{"owner":{"account_id":19221358,"reputation":35,"user_id":15464124,"display_name":"RedDev"},"score":0,"creation_date":1693063244,"post_id":76983559,"comment_id":135711809,"body_markdown":"I&#39;m using Java 17","body":"I&#39;m using Java 17"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1693063288,"post_id":76983559,"comment_id":135711817,"body_markdown":"No, the enum values aren&#39;t even proper classes they&#39;re instances of the enum as seen [here](https://stackoverflow.com/q/31039980/2541560). I remembered that they were subclasses like `Enum$FOO` but they&#39;re actually instances and you can&#39;t work with instances in generics.","body":"No, the enum values aren&#39;t even proper classes they&#39;re instances of the enum as seen <a href=\"https://stackoverflow.com/q/31039980/2541560\">here</a>. I remembered that they were subclasses like <code>Enum$FOO</code> but they&#39;re actually instances and you can&#39;t work with instances in generics."},{"owner":{"account_id":19221358,"reputation":35,"user_id":15464124,"display_name":"RedDev"},"score":0,"creation_date":1693063370,"post_id":76983559,"comment_id":135711826,"body_markdown":"I know that there are instances. But without proper case classes added to Java I won&#39;t be able to get my type checking right?","body":"I know that there are instances. But without proper case classes added to Java I won&#39;t be able to get my type checking right?"},{"owner":{"account_id":918256,"reputation":1641,"user_id":950558,"display_name":"Bastien Aracil"},"score":0,"creation_date":1693063379,"post_id":76983559,"comment_id":135711828,"body_markdown":"As @Kayaman wrote, this is not possible with enum. You could used sealed interface. This is not an enum but it has some kin of &quot;enumeration&quot; property.","body":"As @Kayaman wrote, this is not possible with enum. You could used sealed interface. This is not an enum but it has some kin of &quot;enumeration&quot; property."},{"owner":{"account_id":19221358,"reputation":35,"user_id":15464124,"display_name":"RedDev"},"score":0,"creation_date":1693063442,"post_id":76983559,"comment_id":135711836,"body_markdown":"But with sealed interfaces the syntax will become a lot more cluttered, I wanted to keep it simple :/","body":"But with sealed interfaces the syntax will become a lot more cluttered, I wanted to keep it simple :/"},{"owner":{"account_id":918256,"reputation":1641,"user_id":950558,"display_name":"Bastien Aracil"},"score":1,"creation_date":1693063532,"post_id":76983559,"comment_id":135711846,"body_markdown":"Then, forget enum. Define ParamType with a generic, and instantiate instances directly in the interface  as static members.","body":"Then, forget enum. Define ParamType with a generic, and instantiate instances directly in the interface  as static members."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1693076086,"post_id":76983559,"comment_id":135713316,"body_markdown":"I agree with Bastien.  Make your own pseudo-enum class with a private constructor and public static members that each have their own generic type.  An example of this is [StandardSocketOptions](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/net/StandardSocketOptions.html).","body":"I agree with Bastien.  Make your own pseudo-enum class with a private constructor and public static members that each have their own generic type.  An example of this is <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/net/StandardSocketOptions.html\" rel=\"nofollow noreferrer\">StandardSocketOptions</a>."}],"answers":[{"tags":[],"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1693081657,"creation_date":1693081657,"answer_id":76984724,"question_id":76983559,"body_markdown":"You are asking a very similar question to what I asked a while ago.\r\n\r\nLong story short, the current makers of Java are ***well aware of this issue***, and they tried to fix it, but decided that it was too much effort a few years back.\r\n\r\nHere is a link to their official attempt -- https://openjdk.org/jeps/301\r\n\r\nHere is a link to where they announced that they were giving up -- https://mail.openjdk.org/pipermail/amber-spec-experts/2017-May/000041.html\r\n\r\nHere is their second attempt -- https://mail.openjdk.org/pipermail/amber-spec-experts/2018-December/000876.html\r\n\r\nHere is me asking them for more context -- https://mail.openjdk.org/pipermail/amber-dev/2023-March/thread.html#7914\r\n\r\nAs well as here -- https://mail.openjdk.org/pipermail/amber-dev/2023-March/thread.html#7932","title":"Generics in enum for complex type checking","body":"<p>You are asking a very similar question to what I asked a while ago.</p>\n<p>Long story short, the current makers of Java are <em><strong>well aware of this issue</strong></em>, and they tried to fix it, but decided that it was too much effort a few years back.</p>\n<p>Here is a link to their official attempt -- <a href=\"https://openjdk.org/jeps/301\" rel=\"nofollow noreferrer\">https://openjdk.org/jeps/301</a></p>\n<p>Here is a link to where they announced that they were giving up -- <a href=\"https://mail.openjdk.org/pipermail/amber-spec-experts/2017-May/000041.html\" rel=\"nofollow noreferrer\">https://mail.openjdk.org/pipermail/amber-spec-experts/2017-May/000041.html</a></p>\n<p>Here is their second attempt -- <a href=\"https://mail.openjdk.org/pipermail/amber-spec-experts/2018-December/000876.html\" rel=\"nofollow noreferrer\">https://mail.openjdk.org/pipermail/amber-spec-experts/2018-December/000876.html</a></p>\n<p>Here is me asking them for more context -- <a href=\"https://mail.openjdk.org/pipermail/amber-dev/2023-March/thread.html#7914\" rel=\"nofollow noreferrer\">https://mail.openjdk.org/pipermail/amber-dev/2023-March/thread.html#7914</a></p>\n<p>As well as here -- <a href=\"https://mail.openjdk.org/pipermail/amber-dev/2023-March/thread.html#7932\" rel=\"nofollow noreferrer\">https://mail.openjdk.org/pipermail/amber-dev/2023-March/thread.html#7932</a></p>\n"}],"owner":{"account_id":19221358,"reputation":35,"user_id":15464124,"display_name":"RedDev"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76984724,"answer_count":1,"score":2,"last_activity_date":1693081657,"creation_date":1693062662,"question_id":76983559,"body_markdown":"I got in this situation recently where I was creating a system of defined arguments to be provided to build messages based on an enum to ensure that every element is present in the dynamic args and so that the types are correctly checked on the arguments not to provide a nonsensical arg. \r\n\r\nHere is my code:\r\n\r\n```java\r\ninterface ParamList { Class&lt;?&gt; paramType(); }\r\n```\r\n\r\n```java\r\n@AllArgsConstructor\r\nenum ParamType extends ParamList {\r\n    FOO(Foo.class),\r\n    BAR(Bar.class);\r\n\r\n    @Getter\r\n    private final Class&lt;?&gt; paramType;\r\n}\r\n```\r\n\r\n```java\r\nclass MessageParams&lt;T extends Enum&lt;T&gt; &amp; ParamList&gt; {\r\n\r\n    private Map&lt;T, Object&gt; args;\r\n\r\n    // constructor...\r\n\r\n    public &lt;U&gt; MessageArgs&lt;T&gt; put(T key, U value) {\r\n        args.put(key, value);\r\n        return this;\r\n    }\r\n\r\n    // get...\r\n}\r\n```\r\n\r\n\r\n\r\n\r\nMy problem is int he last class: `MessageParams`. I wonder if I could enforce the `U value` to be the `paramType()` of the provided `T` at compile-time (I omitted here my runtime check) so that I don&#39;t need to explicitly provide the generic when calling put to get correct hinting.\r\n\r\n","title":"Generics in enum for complex type checking","body":"<p>I got in this situation recently where I was creating a system of defined arguments to be provided to build messages based on an enum to ensure that every element is present in the dynamic args and so that the types are correctly checked on the arguments not to provide a nonsensical arg.</p>\n<p>Here is my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>interface ParamList { Class&lt;?&gt; paramType(); }\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@AllArgsConstructor\nenum ParamType extends ParamList {\n    FOO(Foo.class),\n    BAR(Bar.class);\n\n    @Getter\n    private final Class&lt;?&gt; paramType;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>class MessageParams&lt;T extends Enum&lt;T&gt; &amp; ParamList&gt; {\n\n    private Map&lt;T, Object&gt; args;\n\n    // constructor...\n\n    public &lt;U&gt; MessageArgs&lt;T&gt; put(T key, U value) {\n        args.put(key, value);\n        return this;\n    }\n\n    // get...\n}\n</code></pre>\n<p>My problem is int he last class: <code>MessageParams</code>. I wonder if I could enforce the <code>U value</code> to be the <code>paramType()</code> of the provided <code>T</code> at compile-time (I omitted here my runtime check) so that I don't need to explicitly provide the generic when calling put to get correct hinting.</p>\n"},{"tags":["java","parsing","jsoup"],"answers":[{"tags":[],"owner":{"account_id":323244,"reputation":11569,"user_id":643141,"display_name":"Hauke Ingmar Schmidt"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1327435801,"creation_date":1327435801,"answer_id":8993397,"question_id":8993115,"body_markdown":"This\r\n\r\n    Elements divs = doc.select(&quot;article &gt; a[href] &gt; span[class=mick vtEnabled]&quot;);\r\n\r\nselects the div with the two classes.","title":"jSoup to check if a span class exists","body":"<p>This</p>\n\n<pre><code>Elements divs = doc.select(\"article &gt; a[href] &gt; span[class=mick vtEnabled]\");\n</code></pre>\n\n<p>selects the div with the two classes.</p>\n"},{"tags":[],"owner":{"account_id":431536,"reputation":2527,"user_id":815672,"accept_rate":50,"display_name":"Rodrigo Gauzmanf"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1328362311,"creation_date":1328362311,"answer_id":9141242,"question_id":8993115,"body_markdown":"\tElement span = doc.select(&quot;article.cik &gt; a.ci &gt; span.mick.vtEnabled&quot;).first();\r\n\tif(span != null){\r\n\t\tSystem.out.println(&quot;Exist!!&quot;);\r\n\t}\r\n\telse {\r\n\t\tSystem.out.println(&quot;No Span :(&quot;);\r\n\t}\r\n","title":"jSoup to check if a span class exists","body":"<pre><code>Element span = doc.select(\"article.cik &gt; a.ci &gt; span.mick.vtEnabled\").first();\nif(span != null){\n    System.out.println(\"Exist!!\");\n}\nelse {\n    System.out.println(\"No Span :(\");\n}\n</code></pre>\n"}],"owner":{"account_id":1073176,"reputation":3217,"user_id":1071967,"accept_rate":61,"display_name":"Geek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9274,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":8993397,"answer_count":2,"score":4,"last_activity_date":1693081351,"creation_date":1327434525,"question_id":8993115,"body_markdown":"I have a HTML with the following format\r\n\r\n\r\n    &lt;article class=&quot;cik&quot; id=&quot;100&quot;&gt;\r\n      &lt;a class=&quot;ci&quot; href=&quot;/abc/1001/STUFF&quot;&gt;\r\n        &lt;img alt=&quot;Micky Mouse&quot; src=&quot;/images/1001.jpg&quot; /&gt;\r\n        &lt;span class=&quot;mick vtEnabled&quot;&gt;&lt;/span&gt;\r\n      &lt;/a&gt;\r\n    \r\n      &lt;div&gt;\r\n        &lt;a href=&quot;/abc/1001/STUFF&quot;&gt;Micky Mouse&lt;/a&gt;\r\n        &lt;span class=&quot;FP&quot;&gt;$88.00&lt;/span&gt;&amp;nbsp;&amp;nbsp;&lt;span class=&quot;SP&quot;&gt;$49.90&lt;/span&gt;       \r\n      &lt;/div&gt;\r\n    &lt;/article&gt;\r\n\r\nIn the above code the &lt;a&gt; tag inside article has a span ```class=&quot;mick vtEnabled&quot;``` with no label. I want to check if this span tag with the class name specified is present within the article tag. How do I do that?\r\n\r\nI tried ```select(&quot;&gt; a[href] &gt; span.mick vtEnabled&quot;)``` and checked the size..it remains 0 for all the article tags irrespective if its set or not. Any inputs?\r\n","title":"jSoup to check if a span class exists","body":"<p>I have a HTML with the following format</p>\n<pre><code>&lt;article class=&quot;cik&quot; id=&quot;100&quot;&gt;\n  &lt;a class=&quot;ci&quot; href=&quot;/abc/1001/STUFF&quot;&gt;\n    &lt;img alt=&quot;Micky Mouse&quot; src=&quot;/images/1001.jpg&quot; /&gt;\n    &lt;span class=&quot;mick vtEnabled&quot;&gt;&lt;/span&gt;\n  &lt;/a&gt;\n\n  &lt;div&gt;\n    &lt;a href=&quot;/abc/1001/STUFF&quot;&gt;Micky Mouse&lt;/a&gt;\n    &lt;span class=&quot;FP&quot;&gt;$88.00&lt;/span&gt;&amp;nbsp;&amp;nbsp;&lt;span class=&quot;SP&quot;&gt;$49.90&lt;/span&gt;       \n  &lt;/div&gt;\n&lt;/article&gt;\n</code></pre>\n<p>In the above code the  tag inside article has a span <code>class=&quot;mick vtEnabled&quot;</code> with no label. I want to check if this span tag with the class name specified is present within the article tag. How do I do that?</p>\n<p>I tried <code>select(&quot;&gt; a[href] &gt; span.mick vtEnabled&quot;)</code> and checked the size..it remains 0 for all the article tags irrespective if its set or not. Any inputs?</p>\n"},{"tags":["java","scala","apache-flink","flink-streaming"],"answers":[{"tags":[],"owner":{"account_id":2274094,"reputation":40354,"user_id":2000823,"display_name":"David Anderson"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1693080703,"creation_date":1693080703,"answer_id":76984683,"question_id":76984137,"body_markdown":"Event time windows always need watermarks.\r\n\r\nIn the case you mention with `fromElements` it appears that there are no watermarks, but actually there are. Whenever a bounded source (such as `fromElements`) reaches the end of its input, it generates one final watermark with the value MAX_WATERMARK. This causes all pending timers to be triggered, thus closing any open windows.\r\n\r\nThis is done to provide the semantics expected for batch jobs, which is that they produce their results after having consumed all of the input.","title":"Flink - When not to inject watermarks? for windowing","body":"<p>Event time windows always need watermarks.</p>\n<p>In the case you mention with <code>fromElements</code> it appears that there are no watermarks, but actually there are. Whenever a bounded source (such as <code>fromElements</code>) reaches the end of its input, it generates one final watermark with the value MAX_WATERMARK. This causes all pending timers to be triggered, thus closing any open windows.</p>\n<p>This is done to provide the semantics expected for batch jobs, which is that they produce their results after having consumed all of the input.</p>\n"}],"owner":{"account_id":4032106,"reputation":16084,"user_id":3317808,"accept_rate":54,"display_name":"overexchange"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76984683,"answer_count":1,"score":0,"last_activity_date":1693080703,"creation_date":1693071586,"question_id":76984137,"body_markdown":"I learnt that, Windowing of any stream data uses water marks, as boundaries\r\n\r\n-------\r\n\r\n\r\nIn the below code from [answer](https://stackoverflow.com/a/49895802/3317808), there is no water mark injected in the generated stream(`fromElements()`)\r\n\r\n\r\n    case class Record( key: String, value: Int )\r\n    \r\n    object Job extends App\r\n    {\r\n      val env = StreamExecutionEnvironment.getExecutionEnvironment\r\n      val data = env.fromElements( Record(&quot;01&quot;,1), Record(&quot;02&quot;,2), Record(&quot;03&quot;,3), Record(&quot;04&quot;,4), Record(&quot;05&quot;,5) )\r\n      val step1 = data.filter( record =&gt; record.value % 3 != 0  ) // introduces some data loss\r\n      val step2 = data.map( r =&gt; Record( r.key, r.value * 2 ) )\r\n      val step3 = data.map( r =&gt; Record( r.key, r.value * 3 ) )\r\n      val merged = step1.union( step2, step3 )\r\n      val keyed = merged.keyBy(0)\r\n      val windowed = keyed.timeWindow( Time.milliseconds( 50 ) )\r\n      val triggered = windowed.trigger( new CountTriggerWithTimeout( 3, env.getStreamTimeCharacteristic ) )\r\n      val summed = triggered.sum( 1 )\r\n      summed.print()\r\n      env.execute(&quot;test&quot;)\r\n    }\r\n\r\n----------------\r\n\r\n\r\n--------------\r\n\r\n\r\nIn the below code,\r\n\r\nkafka events have been water marked:\r\n\r\n    env.fromSource(kafkaSource, new CustomWatermarkStrategy(), &quot;Kafka Source With Custom Watermark Strategy&quot;)\r\n\r\n\r\n-----------------\r\n\r\nQuestion:\r\nwhen to inject watermarks? and when not to\r\n\r\n","title":"Flink - When not to inject watermarks? for windowing","body":"<p>I learnt that, Windowing of any stream data uses water marks, as boundaries</p>\n<hr />\n<p>In the below code from <a href=\"https://stackoverflow.com/a/49895802/3317808\">answer</a>, there is no water mark injected in the generated stream(<code>fromElements()</code>)</p>\n<pre><code>case class Record( key: String, value: Int )\n\nobject Job extends App\n{\n  val env = StreamExecutionEnvironment.getExecutionEnvironment\n  val data = env.fromElements( Record(&quot;01&quot;,1), Record(&quot;02&quot;,2), Record(&quot;03&quot;,3), Record(&quot;04&quot;,4), Record(&quot;05&quot;,5) )\n  val step1 = data.filter( record =&gt; record.value % 3 != 0  ) // introduces some data loss\n  val step2 = data.map( r =&gt; Record( r.key, r.value * 2 ) )\n  val step3 = data.map( r =&gt; Record( r.key, r.value * 3 ) )\n  val merged = step1.union( step2, step3 )\n  val keyed = merged.keyBy(0)\n  val windowed = keyed.timeWindow( Time.milliseconds( 50 ) )\n  val triggered = windowed.trigger( new CountTriggerWithTimeout( 3, env.getStreamTimeCharacteristic ) )\n  val summed = triggered.sum( 1 )\n  summed.print()\n  env.execute(&quot;test&quot;)\n}\n</code></pre>\n<hr />\n<hr />\n<p>In the below code,</p>\n<p>kafka events have been water marked:</p>\n<pre><code>env.fromSource(kafkaSource, new CustomWatermarkStrategy(), &quot;Kafka Source With Custom Watermark Strategy&quot;)\n</code></pre>\n<hr />\n<p>Question:\nwhen to inject watermarks? and when not to</p>\n"},{"tags":["java","spring","spring-security","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":6496784,"reputation":2573,"user_id":5029143,"accept_rate":82,"display_name":"SeaBiscuit"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1457783803,"creation_date":1457783803,"answer_id":35957343,"question_id":35957040,"body_markdown":"Here you go \r\n\r\n    @RestController\r\n    public class RestErrorController implements ErrorController{\r\n\r\n\tprivate static final String PATH = &quot;/error&quot;;\r\n\t\r\n\t@Autowired\r\n    private ErrorAttributes errorAttributes;\r\n\t\r\n\t@RequestMapping(value=PATH,method=RequestMethod.GET)\r\n\tpublic ApiErrorExtended error(HttpServletRequest request, HttpServletResponse response){\r\n\t\t return new ApiErrorExtended( response.getStatus(),getErrorAttributes(request, true));\r\n\t}\r\n\t\r\n    private Map&lt;String, Object&gt; getErrorAttributes(HttpServletRequest request, boolean includeStackTrace) {\r\n        RequestAttributes requestAttributes = new ServletRequestAttributes(request);\r\n        return errorAttributes.getErrorAttributes(requestAttributes, includeStackTrace);\r\n    }  \r\n\r\n    public String getErrorPath() {\r\n        return PATH;\r\n    } \r\n    }\r\n\r\nThis is my rest error controller. You can modify it to return whatever u want. \r\n","title":"How to show custom 404 page when user enters invalid URL in spring boot application?","body":"<p>Here you go </p>\n\n<pre><code>@RestController\npublic class RestErrorController implements ErrorController{\n\nprivate static final String PATH = \"/error\";\n\n@Autowired\nprivate ErrorAttributes errorAttributes;\n\n@RequestMapping(value=PATH,method=RequestMethod.GET)\npublic ApiErrorExtended error(HttpServletRequest request, HttpServletResponse response){\n     return new ApiErrorExtended( response.getStatus(),getErrorAttributes(request, true));\n}\n\nprivate Map&lt;String, Object&gt; getErrorAttributes(HttpServletRequest request, boolean includeStackTrace) {\n    RequestAttributes requestAttributes = new ServletRequestAttributes(request);\n    return errorAttributes.getErrorAttributes(requestAttributes, includeStackTrace);\n}  \n\npublic String getErrorPath() {\n    return PATH;\n} \n}\n</code></pre>\n\n<p>This is my rest error controller. You can modify it to return whatever u want. </p>\n"},{"tags":[],"owner":{"account_id":5064545,"reputation":317,"user_id":4064957,"accept_rate":0,"display_name":"sahmada"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1458240378,"creation_date":1457790495,"answer_id":35958427,"question_id":35957040,"body_markdown":"Whould you like to add this `@Bean` to your spring application config, like this :\r\n\r\n    @Bean\r\n    public EmbeddedServletContainerCustomizer containerCustomizer() {\r\n        return new EmbeddedServletContainerCustomizer() {\r\n            @Override\r\n            public void customize(ConfigurableEmbeddedServletContainer container) {\r\n    \r\n                ErrorPage error404Page = new ErrorPage(HttpStatus.NOT_FOUND, &quot;/error404.html&quot;);\r\n                container.addErrorPages(error404Page);\r\n    \r\n            }\r\n        };\r\n    }\r\n\r\nand put `error404.html` in your static folder.\r\n\r\nReference :\r\nhttp://www.sporcic.org/2014/05/custom-error-pages-with-spring-boot/","title":"How to show custom 404 page when user enters invalid URL in spring boot application?","body":"<p>Whould you like to add this <code>@Bean</code> to your spring application config, like this :</p>\n\n<pre><code>@Bean\npublic EmbeddedServletContainerCustomizer containerCustomizer() {\n    return new EmbeddedServletContainerCustomizer() {\n        @Override\n        public void customize(ConfigurableEmbeddedServletContainer container) {\n\n            ErrorPage error404Page = new ErrorPage(HttpStatus.NOT_FOUND, \"/error404.html\");\n            container.addErrorPages(error404Page);\n\n        }\n    };\n}\n</code></pre>\n\n<p>and put <code>error404.html</code> in your static folder.</p>\n\n<p>Reference :\n<a href=\"http://www.sporcic.org/2014/05/custom-error-pages-with-spring-boot/\" rel=\"nofollow\">http://www.sporcic.org/2014/05/custom-error-pages-with-spring-boot/</a></p>\n"},{"tags":[],"owner":{"account_id":1737078,"reputation":19,"user_id":1589388,"display_name":"tisboy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1458025883,"creation_date":1458025883,"answer_id":36004709,"question_id":35957040,"body_markdown":"hi，you only need to configure the following:\r\n \r\n\r\n    &lt;error-page&gt;\r\n         &lt;error-code&gt;404&lt;/error-code&gt;\r\n         &lt;location&gt;/pageNotFound/404.jsp&lt;/location&gt;\r\n     &lt;/error-page&gt;\r\nand you configure the Java exception:\r\n\r\n    &lt;error-page&gt;\r\n     &lt;exception-type&gt;java.lang.Exception&lt;/exception-type&gt;\r\n     &lt;location&gt;/pageNotFound/exception.jsp&lt;/location&gt;\r\n   &lt;/error-page&gt;\r\n","title":"How to show custom 404 page when user enters invalid URL in spring boot application?","body":"<p>hi，you only need to configure the following:</p>\n\n<pre><code>&lt;error-page&gt;\n     &lt;error-code&gt;404&lt;/error-code&gt;\n     &lt;location&gt;/pageNotFound/404.jsp&lt;/location&gt;\n &lt;/error-page&gt;\n</code></pre>\n\n<p>and you configure the Java exception:</p>\n\n<pre><code>&lt;error-page&gt;\n &lt;exception-type&gt;java.lang.Exception&lt;/exception-type&gt;\n &lt;location&gt;/pageNotFound/exception.jsp&lt;/location&gt;\n</code></pre>\n\n<p></p>\n"},{"tags":[],"owner":{"account_id":1477692,"reputation":46661,"user_id":1393484,"accept_rate":100,"display_name":"Ali Dehghani"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1460117472,"creation_date":1458146519,"answer_id":36041798,"question_id":35957040,"body_markdown":"First off, define an exception for each especial HTTP error you&#39;re going to handle. Here i&#39;m just defining one for handling `404 Not Found` case:\r\n\r\n    public class NotFoundException extends RuntimeException {}\r\nTo replace the default Spring Boot&#39;s error handling mechanism completely, we can implement `ErrorController`. Instead of just implementing the `ErrorController`, here i&#39;m extending `AbstractErrorController`, which implements the `ErrorController` and provides some auxiliary methods like `getStatus()`. \r\n\r\nAnyway, the basic idea is to handle all errors using an endpoint, say `/error`, and throw those pre-defined exceptions in case of their corresponding HTTP status codes:\r\n\r\n    @Controller\r\n    public class CustomErrorController extends AbstractErrorController {\r\n        private static final String ERROR_PATH=  &quot;/error&quot;;\r\n    \r\n        @Autowired\r\n        public CustomErrorController(ErrorAttributes errorAttributes) {\r\n            super(errorAttributes);\r\n        }\r\n    \r\n        /**\r\n         * Just catching the {@linkplain NotFoundException} exceptions and render\r\n         * the 404.jsp error page.\r\n         */\r\n        @ExceptionHandler(NotFoundException.class)\r\n        public String notFound() {\r\n            return &quot;404&quot;;\r\n        }\r\n    \r\n        /**\r\n         * Responsible for handling all errors and throw especial exceptions\r\n         * for some HTTP status codes. Otherwise, it will return a map that\r\n         * ultimately will be converted to a json error.\r\n         */\r\n        @RequestMapping(ERROR_PATH)\r\n        public ResponseEntity&lt;?&gt; handleErrors(HttpServletRequest request) {\r\n            HttpStatus status = getStatus(request);\r\n    \r\n            if (status.equals(HttpStatus.NOT_FOUND))\r\n                throw new NotFoundException();\r\n    \r\n            return ResponseEntity.status(status).body(getErrorAttributes(request, false));\r\n        }\r\n    \r\n        @Override\r\n        public String getErrorPath() {\r\n            return ERROR_PATH;\r\n        }\r\n    }\r\nOf course, this solution is only suitable for *Traditional Deployment*. If you&#39;re planning to use an Embedded Servlet Container, you&#39;re better off defining an `EmbeddedServletContainerCustomizer`.","title":"How to show custom 404 page when user enters invalid URL in spring boot application?","body":"<p>First off, define an exception for each especial HTTP error you're going to handle. Here i'm just defining one for handling <code>404 Not Found</code> case:</p>\n\n<pre><code>public class NotFoundException extends RuntimeException {}\n</code></pre>\n\n<p>To replace the default Spring Boot's error handling mechanism completely, we can implement <code>ErrorController</code>. Instead of just implementing the <code>ErrorController</code>, here i'm extending <code>AbstractErrorController</code>, which implements the <code>ErrorController</code> and provides some auxiliary methods like <code>getStatus()</code>. </p>\n\n<p>Anyway, the basic idea is to handle all errors using an endpoint, say <code>/error</code>, and throw those pre-defined exceptions in case of their corresponding HTTP status codes:</p>\n\n<pre><code>@Controller\npublic class CustomErrorController extends AbstractErrorController {\n    private static final String ERROR_PATH=  \"/error\";\n\n    @Autowired\n    public CustomErrorController(ErrorAttributes errorAttributes) {\n        super(errorAttributes);\n    }\n\n    /**\n     * Just catching the {@linkplain NotFoundException} exceptions and render\n     * the 404.jsp error page.\n     */\n    @ExceptionHandler(NotFoundException.class)\n    public String notFound() {\n        return \"404\";\n    }\n\n    /**\n     * Responsible for handling all errors and throw especial exceptions\n     * for some HTTP status codes. Otherwise, it will return a map that\n     * ultimately will be converted to a json error.\n     */\n    @RequestMapping(ERROR_PATH)\n    public ResponseEntity&lt;?&gt; handleErrors(HttpServletRequest request) {\n        HttpStatus status = getStatus(request);\n\n        if (status.equals(HttpStatus.NOT_FOUND))\n            throw new NotFoundException();\n\n        return ResponseEntity.status(status).body(getErrorAttributes(request, false));\n    }\n\n    @Override\n    public String getErrorPath() {\n        return ERROR_PATH;\n    }\n}\n</code></pre>\n\n<p>Of course, this solution is only suitable for <em>Traditional Deployment</em>. If you're planning to use an Embedded Servlet Container, you're better off defining an <code>EmbeddedServletContainerCustomizer</code>.</p>\n"},{"tags":[],"owner":{"account_id":3014557,"reputation":1292,"user_id":2557108,"accept_rate":50,"display_name":"Yonoss"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693080556,"creation_date":1693080556,"answer_id":76984669,"question_id":35957040,"body_markdown":"For applications that do not use Spring MVC, you can use the ErrorPageRegistrar interface to directly register ErrorPages:\r\n\r\n    import org.springframework.boot.web.server.ErrorPage;\r\n    import org.springframework.boot.web.server.ErrorPageRegistrar;\r\n    import org.springframework.boot.web.server.ErrorPageRegistry;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.http.HttpStatus;\r\n    \r\n    @Configuration(proxyBeanMethods = false)\r\n    public class MyErrorPagesConfiguration {\r\n    \r\n        @Bean\r\n        public ErrorPageRegistrar errorPageRegistrar() {\r\n            return this::registerErrorPages;\r\n        }\r\n    \r\n        private void registerErrorPages(ErrorPageRegistry registry) {\r\n            registry.addErrorPages(new ErrorPage(HttpStatus.BAD_REQUEST, &quot;/400.html&quot;));\r\n        }\r\n    \r\n    }\r\n\r\n\r\n\r\nhttps://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#web.servlet.spring-mvc.error-handling.error-pages-without-spring-mvc","title":"How to show custom 404 page when user enters invalid URL in spring boot application?","body":"<p>For applications that do not use Spring MVC, you can use the ErrorPageRegistrar interface to directly register ErrorPages:</p>\n<pre><code>import org.springframework.boot.web.server.ErrorPage;\nimport org.springframework.boot.web.server.ErrorPageRegistrar;\nimport org.springframework.boot.web.server.ErrorPageRegistry;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.http.HttpStatus;\n\n@Configuration(proxyBeanMethods = false)\npublic class MyErrorPagesConfiguration {\n\n    @Bean\n    public ErrorPageRegistrar errorPageRegistrar() {\n        return this::registerErrorPages;\n    }\n\n    private void registerErrorPages(ErrorPageRegistry registry) {\n        registry.addErrorPages(new ErrorPage(HttpStatus.BAD_REQUEST, &quot;/400.html&quot;));\n    }\n\n}\n</code></pre>\n<p><a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#web.servlet.spring-mvc.error-handling.error-pages-without-spring-mvc\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#web.servlet.spring-mvc.error-handling.error-pages-without-spring-mvc</a></p>\n"}],"owner":{"account_id":324114,"reputation":12953,"user_id":644518,"accept_rate":61,"display_name":"ajm"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16621,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":36041798,"answer_count":5,"score":8,"last_activity_date":1693080556,"creation_date":1457781948,"question_id":35957040,"body_markdown":"I am using java config in spring boot, spring security application. I have configured the error controller as below. But whenever, I enter an invalid URL it goes to `error.jsp`, which is configured to handle the errors in the application:\r\n\r\n\r\n    @Controller\r\n    public class AppErrorController implements ErrorController {\r\n    \r\n    \tprivate static final String PATH = &quot;/error&quot;;\r\n    \r\n    \t@RequestMapping(value = &quot;/pageNotFound&quot;, method = { RequestMethod.GET, RequestMethod.POST })\r\n    \tpublic String pageNotFound() {\r\n    \t\treturn &quot;pageNotFound&quot;;\r\n    \t}\r\n    \r\n    \t@RequestMapping(value = &quot;/accessDenied&quot;, method = { RequestMethod.GET, RequestMethod.POST })\r\n    \tpublic String accessDenied() {\r\n    \t\treturn &quot;accessDenied&quot;;\r\n    \t}\r\n    \r\n    \t@RequestMapping(value = PATH)\r\n    \tpublic String error() {\r\n    \t\treturn &quot;error&quot;;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic String getErrorPath() {\r\n    \t\treturn PATH;\r\n    \t}\r\n    }\r\n\r\nweb.xml\r\n\r\n\r\n    &lt;error-page&gt;\r\n    \t&lt;error-code&gt;404&lt;/error-code&gt;\r\n    \t&lt;location&gt;/pageNotFound&lt;/location&gt;\r\n    &lt;/error-page&gt;\r\n    \r\n    &lt;error-page&gt;\r\n    \t&lt;error-code&gt;500&lt;/error-code&gt;\r\n    \t&lt;location&gt;/error&lt;/location&gt;\r\n    &lt;/error-page&gt;\r\n\r\n\r\n404 is never thrown when the invalid URL is entered.\r\n\r\nAlso, I am not using embedded tomcat. I am deploying war to the external tomcat. I have this in my `application.yml` file:\r\n\r\n\r\n    server:\r\n        error:\r\n            whitelabel:\r\n                enabled: false\r\n\r\n\r\nBelow is the log in case if I enter a invalid URL. There is no error. It just redirects to `/error` in case of invalid URL:\r\n\r\n\r\n    2016-03-15 10:02:45.061 DEBUG 9997 --- [io-8080-exec-22] o.s.b.c.web.OrderedRequestContextFilter  : Bound request context to thread: org.apache.catalina.connector.RequestFacade@371ef2a3\r\n    2016-03-15 10:02:45.061 DEBUG 9997 --- [io-8080-exec-22] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : &#39;/donotexisturl&#39;; against &#39;/static/**&#39;\r\n    2016-03-15 10:02:45.061 DEBUG 9997 --- [io-8080-exec-22] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : &#39;/donotexisturl&#39;; against &#39;/i18n/**&#39;\r\n    2016-03-15 10:02:45.061 DEBUG 9997 --- [io-8080-exec-22] o.s.security.web.FilterChainProxy        : /doNotExistURL at position 1 of 13 in additional filter chain; firing Filter: &#39;WebAsyncManagerIntegrationFilter&#39;\r\n    2016-03-15 10:02:45.061 DEBUG 9997 --- [io-8080-exec-22] o.s.security.web.FilterChainProxy        : /doNotExistURL at position 2 of 13 in additional filter chain; firing Filter: &#39;SecurityContextPersistenceFilter&#39;\r\n    2016-03-15 10:02:45.061 DEBUG 9997 --- [io-8080-exec-22] w.c.HttpSessionSecurityContextRepository : Obtained a valid SecurityContext from SPRING_SECURITY_CONTEXT: &#39;org.springframework.security.core.context.SecurityContextImpl@b8db0c9d: Authentication: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@b8db0c9d: Principal: User{id=8, firstname=&#39;Adam&#39;, lastname=&#39;Milne&#39;, email=&#39;adam.milne@abcd.com&#39;, roleId=1}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@fffd148a: RemoteIpAddress: 127.0.0.1; SessionId: FED1F23633671F6E257CA9C5AFCEE216; Granted Authorities: ModuleOperation{moduleOperationId=1, moduleOperationName=&#39;roleList&#39;, moduleId=2, moduleName=&#39;role&#39;}, ModuleOperation{moduleOperationId=8, moduleOperationName=&#39;deleteUser&#39;, moduleId=1, moduleName=&#39;user&#39;}&#39;\r\n    2016-03-15 10:02:45.061 DEBUG 9997 --- [io-8080-exec-22] o.s.security.web.FilterChainProxy        : /doNotExistURL at position 3 of 13 in additional filter chain; firing Filter: &#39;HeaderWriterFilter&#39;\r\n    2016-03-15 10:02:45.061 DEBUG 9997 --- [io-8080-exec-22] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@6e929f31\r\n    2016-03-15 10:02:45.061 DEBUG 9997 --- [io-8080-exec-22] o.s.security.web.FilterChainProxy        : /doNotExistURL at position 4 of 13 in additional filter chain; firing Filter: &#39;CsrfFilter&#39;\r\n    2016-03-15 10:02:45.061 DEBUG 9997 --- [io-8080-exec-22] o.s.security.web.FilterChainProxy        : /doNotExistURL at position 5 of 13 in additional filter chain; firing Filter: &#39;LogoutFilter&#39;\r\n    2016-03-15 10:02:45.061 DEBUG 9997 --- [io-8080-exec-22] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request &#39;GET /donotexisturl&#39; doesn&#39;t match &#39;POST /logout\r\n    2016-03-15 10:02:45.061 DEBUG 9997 --- [io-8080-exec-22] o.s.security.web.FilterChainProxy        : /doNotExistURL at position 6 of 13 in additional filter chain; firing Filter: &#39;UsernamePasswordAuthenticationFilter&#39;\r\n    2016-03-15 10:02:45.061 DEBUG 9997 --- [io-8080-exec-22] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request &#39;GET /donotexisturl&#39; doesn&#39;t match &#39;POST /checklogin\r\n    2016-03-15 10:02:45.062 DEBUG 9997 --- [io-8080-exec-22] o.s.security.web.FilterChainProxy        : /doNotExistURL at position 7 of 13 in additional filter chain; firing Filter: &#39;ConcurrentSessionFilter&#39;\r\n    2016-03-15 10:02:45.062 DEBUG 9997 --- [io-8080-exec-22] o.s.security.web.FilterChainProxy        : /doNotExistURL at position 8 of 13 in additional filter chain; firing Filter: &#39;RequestCacheAwareFilter&#39;\r\n    2016-03-15 10:02:45.062 DEBUG 9997 --- [io-8080-exec-22] o.s.security.web.FilterChainProxy        : /doNotExistURL at position 9 of 13 in additional filter chain; firing Filter: &#39;SecurityContextHolderAwareRequestFilter&#39;\r\n    2016-03-15 10:02:45.062 DEBUG 9997 --- [io-8080-exec-22] o.s.security.web.FilterChainProxy        : /doNotExistURL at position 10 of 13 in additional filter chain; firing Filter: &#39;AnonymousAuthenticationFilter&#39;\r\n    2016-03-15 10:02:45.062 DEBUG 9997 --- [io-8080-exec-22] o.s.s.w.a.AnonymousAuthenticationFilter  : SecurityContextHolder not populated with anonymous token, as it already contained: &#39;org.springframework.security.authentication.UsernamePasswordAuthenticationToken@b8db0c9d: Principal: User{id=8, firstname=&#39;Adam&#39;, lastname=&#39;Milne&#39;, email=&#39;adam.milne@abcd.com&#39;, roleId=1}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@fffd148a: RemoteIpAddress: 127.0.0.1; SessionId: FED1F23633671F6E257CA9C5AFCEE216; Granted Authorities: ModuleOperation{moduleOperationId=1, moduleOperationName=&#39;roleList&#39;, moduleId=2, moduleName=&#39;role&#39;}, ModuleOperation{moduleOperationId=8, moduleOperationName=&#39;deleteUser&#39;, moduleId=1, moduleName=&#39;user&#39;}&#39;\r\n    2016-03-15 10:02:45.062 DEBUG 9997 --- [io-8080-exec-22] o.s.security.web.FilterChainProxy        : /doNotExistURL at position 11 of 13 in additional filter chain; firing Filter: &#39;SessionManagementFilter&#39;\r\n    2016-03-15 10:02:45.062 DEBUG 9997 --- [io-8080-exec-22] o.s.security.web.FilterChainProxy        : /doNotExistURL at position 12 of 13 in additional filter chain; firing Filter: &#39;ExceptionTranslationFilter&#39;\r\n    2016-03-15 10:02:45.062 DEBUG 9997 --- [io-8080-exec-22] o.s.security.web.FilterChainProxy        : /doNotExistURL at position 13 of 13 in additional filter chain; firing Filter: &#39;FilterSecurityInterceptor&#39;\r\n    2016-03-15 10:02:45.062 DEBUG 9997 --- [io-8080-exec-22] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request &#39;GET /donotexisturl&#39; doesn&#39;t match &#39;POST /logout\r\n    2016-03-15 10:02:45.062 DEBUG 9997 --- [io-8080-exec-22] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : &#39;/donotexisturl&#39;; against &#39;/login**&#39;\r\n    2016-03-15 10:02:45.062 DEBUG 9997 --- [io-8080-exec-22] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : &#39;/donotexisturl&#39;; against &#39;/error**&#39;\r\n    2016-03-15 10:02:45.062 DEBUG 9997 --- [io-8080-exec-22] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : &#39;/donotexisturl&#39;; against &#39;/checklogin**&#39;\r\n    2016-03-15 10:02:45.062 DEBUG 9997 --- [io-8080-exec-22] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /doNotExistURL; Attributes: [fullyAuthenticated]\r\n    2016-03-15 10:02:45.062 DEBUG 9997 --- [io-8080-exec-22] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@b8db0c9d: Principal: User{id=8, firstname=&#39;Adam&#39;, lastname=&#39;Milne&#39;, email=&#39;adam.milne@abcd.com&#39;, roleId=1}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@fffd148a: RemoteIpAddress: 127.0.0.1; SessionId: FED1F23633671F6E257CA9C5AFCEE216; Granted Authorities: ModuleOperation{moduleOperationId=1, moduleOperationName=&#39;roleList&#39;, moduleId=2, moduleName=&#39;role&#39;}, ModuleOperation{moduleOperationId=8, moduleOperationName=&#39;deleteUser&#39;, moduleId=1, moduleName=&#39;user&#39;}\r\n    2016-03-15 10:02:45.062 DEBUG 9997 --- [io-8080-exec-22] o.s.security.access.vote.UnanimousBased  : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@6ad88564, returned: 1\r\n    2016-03-15 10:02:45.062 DEBUG 9997 --- [io-8080-exec-22] o.s.security.access.vote.UnanimousBased  : Voter: org.springframework.security.access.vote.AuthenticatedVoter@19007bb6, returned: 0\r\n    2016-03-15 10:02:45.062 DEBUG 9997 --- [io-8080-exec-22] o.s.security.access.vote.UnanimousBased  : Voter: com.sts.app.core.user.security.AccessDecisionVoterImpl@1465b821, returned: 1\r\n    2016-03-15 10:02:45.062 DEBUG 9997 --- [io-8080-exec-22] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorization successful\r\n    2016-03-15 10:02:45.062 DEBUG 9997 --- [io-8080-exec-22] o.s.s.w.a.i.FilterSecurityInterceptor    : RunAsManager did not change Authentication object\r\n    2016-03-15 10:02:45.062 DEBUG 9997 --- [io-8080-exec-22] o.s.security.web.FilterChainProxy        : /doNotExistURL reached end of additional filter chain; proceeding with original chain\r\n    2016-03-15 10:02:45.062 DEBUG 9997 --- [io-8080-exec-22] o.s.web.servlet.DispatcherServlet        : DispatcherServlet with name &#39;dispatcherServlet&#39; processing GET request for [/gen/doNotExistURL]\r\n    2016-03-15 10:02:45.063 DEBUG 9997 --- [io-8080-exec-22] s.w.s.m.m.a.RequestMappingHandlerMapping : Looking up handler method for path /doNotExistURL\r\n    2016-03-15 10:02:45.064 DEBUG 9997 --- [io-8080-exec-22] s.w.s.m.m.a.RequestMappingHandlerMapping : Did not find handler method for [/doNotExistURL]\r\n    2016-03-15 10:02:45.064 DEBUG 9997 --- [io-8080-exec-22] o.s.w.s.handler.SimpleUrlHandlerMapping  : Matching patterns for request [/doNotExistURL] are [/**]\r\n    2016-03-15 10:02:45.064 DEBUG 9997 --- [io-8080-exec-22] o.s.w.s.handler.SimpleUrlHandlerMapping  : URI Template variables for request [/doNotExistURL] are {}\r\n    2016-03-15 10:02:45.064 DEBUG 9997 --- [io-8080-exec-22] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapping [/doNotExistURL] to HandlerExecutionChain with handler [ResourceHttpRequestHandler [locations=[ServletContext resource [/], class path resource [META-INF/resources/], class path resource [resources/], class path resource [static/], class path resource [public/]], resolvers=[org.springframework.web.servlet.resource.PathResourceResolver@87dd2cb]]] and 1 interceptor\r\n    2016-03-15 10:02:45.064 DEBUG 9997 --- [io-8080-exec-22] o.s.web.servlet.DispatcherServlet        : Last-Modified value for [/gen/doNotExistURL] is: -1\r\n    2016-03-15 10:02:45.077 DEBUG 9997 --- [io-8080-exec-22] o.s.web.servlet.DispatcherServlet        : Null ModelAndView returned to DispatcherServlet with name &#39;dispatcherServlet&#39;: assuming HandlerAdapter completed request handling\r\n    2016-03-15 10:02:45.078 DEBUG 9997 --- [io-8080-exec-22] o.s.web.servlet.DispatcherServlet        : Successfully completed request\r\n    2016-03-15 10:02:45.078 DEBUG 9997 --- [io-8080-exec-22] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally\r\n    2016-03-15 10:02:45.078 DEBUG 9997 --- [io-8080-exec-22] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed\r\n    2016-03-15 10:02:45.078 DEBUG 9997 --- [io-8080-exec-22] o.s.b.c.web.OrderedRequestContextFilter  : Cleared thread-bound request context: org.apache.catalina.connector.RequestFacade@371ef2a3\r\n    2016-03-15 10:02:45.078 DEBUG 9997 --- [io-8080-exec-22] o.s.b.c.web.OrderedRequestContextFilter  : Bound request context to thread: org.apache.catalina.core.ApplicationHttpRequest@20ae74b1\r\n    2016-03-15 10:02:45.078 DEBUG 9997 --- [io-8080-exec-22] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : &#39;/error&#39;; against &#39;/static/**&#39;\r\n    2016-03-15 10:02:45.078 DEBUG 9997 --- [io-8080-exec-22] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : &#39;/error&#39;; against &#39;/i18n/**&#39;\r\n    2016-03-15 10:02:45.078 DEBUG 9997 --- [io-8080-exec-22] o.s.security.web.FilterChainProxy        : /error at position 1 of 13 in additional filter chain; firing Filter: &#39;WebAsyncManagerIntegrationFilter&#39;\r\n    2016-03-15 10:02:45.078 DEBUG 9997 --- [io-8080-exec-22] o.s.security.web.FilterChainProxy        : /error at position 2 of 13 in additional filter chain; firing Filter: &#39;SecurityContextPersistenceFilter&#39;\r\n    2016-03-15 10:02:45.078 DEBUG 9997 --- [io-8080-exec-22] w.c.HttpSessionSecurityContextRepository : Obtained a valid SecurityContext from SPRING_SECURITY_CONTEXT: &#39;org.springframework.security.core.context.SecurityContextImpl@b8db0c9d: Authentication: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@b8db0c9d: Principal: User{id=8, firstname=&#39;Adam&#39;, lastname=&#39;Milne&#39;, email=&#39;adam.milne@abcd.com&#39;, roleId=1}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@fffd148a: RemoteIpAddress: 127.0.0.1; SessionId: FED1F23633671F6E257CA9C5AFCEE216; Granted Authorities: ModuleOperation{moduleOperationId=1, moduleOperationName=&#39;roleList&#39;, moduleId=2, moduleName=&#39;role&#39;}, ModuleOperation{moduleOperationId=8, moduleOperationName=&#39;deleteUser&#39;, moduleId=1, moduleName=&#39;user&#39;}&#39;\r\n    2016-03-15 10:02:45.078 DEBUG 9997 --- [io-8080-exec-22] o.s.security.web.FilterChainProxy        : /error at position 3 of 13 in additional filter chain; firing Filter: &#39;HeaderWriterFilter&#39;\r\n    2016-03-15 10:02:45.078 DEBUG 9997 --- [io-8080-exec-22] o.s.security.web.FilterChainProxy        : /error at position 4 of 13 in additional filter chain; firing Filter: &#39;CsrfFilter&#39;\r\n    2016-03-15 10:02:45.078 DEBUG 9997 --- [io-8080-exec-22] o.s.security.web.FilterChainProxy        : /error at position 5 of 13 in additional filter chain; firing Filter: &#39;LogoutFilter&#39;\r\n    2016-03-15 10:02:45.078 DEBUG 9997 --- [io-8080-exec-22] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request &#39;GET /error&#39; doesn&#39;t match &#39;POST /logout\r\n    2016-03-15 10:02:45.078 DEBUG 9997 --- [io-8080-exec-22] o.s.security.web.FilterChainProxy        : /error at position 6 of 13 in additional filter chain; firing Filter: &#39;UsernamePasswordAuthenticationFilter&#39;\r\n    2016-03-15 10:02:45.078 DEBUG 9997 --- [io-8080-exec-22] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request &#39;GET /error&#39; doesn&#39;t match &#39;POST /checklogin\r\n    2016-03-15 10:02:45.079 DEBUG 9997 --- [io-8080-exec-22] o.s.security.web.FilterChainProxy        : /error at position 7 of 13 in additional filter chain; firing Filter: &#39;ConcurrentSessionFilter&#39;\r\n    2016-03-15 10:02:45.079 DEBUG 9997 --- [io-8080-exec-22] o.s.security.web.FilterChainProxy        : /error at position 8 of 13 in additional filter chain; firing Filter: &#39;RequestCacheAwareFilter&#39;\r\n    2016-03-15 10:02:45.079 DEBUG 9997 --- [io-8080-exec-22] o.s.security.web.FilterChainProxy        : /error at position 9 of 13 in additional filter chain; firing Filter: &#39;SecurityContextHolderAwareRequestFilter&#39;\r\n    2016-03-15 10:02:45.079 DEBUG 9997 --- [io-8080-exec-22] o.s.security.web.FilterChainProxy        : /error at position 10 of 13 in additional filter chain; firing Filter: &#39;AnonymousAuthenticationFilter&#39;\r\n    2016-03-15 10:02:45.079 DEBUG 9997 --- [io-8080-exec-22] o.s.s.w.a.AnonymousAuthenticationFilter  : SecurityContextHolder not populated with anonymous token, as it already contained: &#39;org.springframework.security.authentication.UsernamePasswordAuthenticationToken@b8db0c9d: Principal: User{id=8, firstname=&#39;Adam&#39;, lastname=&#39;Milne&#39;, email=&#39;adam.milne@abcd.com&#39;, roleId=1}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@fffd148a: RemoteIpAddress: 127.0.0.1; SessionId: FED1F23633671F6E257CA9C5AFCEE216; Granted Authorities: ModuleOperation{moduleOperationId=1, moduleOperationName=&#39;roleList&#39;, moduleId=2, moduleName=&#39;role&#39;}, ModuleOperation{moduleOperationId=8, moduleOperationName=&#39;deleteUser&#39;, moduleId=1, moduleName=&#39;user&#39;}&#39;\r\n    2016-03-15 10:02:45.079 DEBUG 9997 --- [io-8080-exec-22] o.s.security.web.FilterChainProxy        : /error at position 11 of 13 in additional filter chain; firing Filter: &#39;SessionManagementFilter&#39;\r\n    2016-03-15 10:02:45.079 DEBUG 9997 --- [io-8080-exec-22] o.s.security.web.FilterChainProxy        : /error at position 12 of 13 in additional filter chain; firing Filter: &#39;ExceptionTranslationFilter&#39;\r\n    2016-03-15 10:02:45.079 DEBUG 9997 --- [io-8080-exec-22] o.s.security.web.FilterChainProxy        : /error at position 13 of 13 in additional filter chain; firing Filter: &#39;FilterSecurityInterceptor&#39;\r\n    2016-03-15 10:02:45.079 DEBUG 9997 --- [io-8080-exec-22] o.s.security.web.FilterChainProxy        : /error reached end of additional filter chain; proceeding with original chain\r\n    2016-03-15 10:02:45.079 DEBUG 9997 --- [io-8080-exec-22] o.s.web.servlet.DispatcherServlet        : DispatcherServlet with name &#39;dispatcherServlet&#39; processing GET request for [/gen/error]\r\n    2016-03-15 10:02:45.079 DEBUG 9997 --- [io-8080-exec-22] s.w.s.m.m.a.RequestMappingHandlerMapping : Looking up handler method for path /error\r\n    2016-03-15 10:02:45.079 DEBUG 9997 --- [io-8080-exec-22] s.w.s.m.m.a.RequestMappingHandlerMapping : Returning handler method [public java.lang.String com.sts.app.core.common.web.AppErrorController.error()]\r\n\r\n","title":"How to show custom 404 page when user enters invalid URL in spring boot application?","body":"<p>I am using java config in spring boot, spring security application. I have configured the error controller as below. But whenever, I enter an invalid URL it goes to <code>error.jsp</code>, which is configured to handle the errors in the application:</p>\n\n<pre><code>@Controller\npublic class AppErrorController implements ErrorController {\n\n    private static final String PATH = \"/error\";\n\n    @RequestMapping(value = \"/pageNotFound\", method = { RequestMethod.GET, RequestMethod.POST })\n    public String pageNotFound() {\n        return \"pageNotFound\";\n    }\n\n    @RequestMapping(value = \"/accessDenied\", method = { RequestMethod.GET, RequestMethod.POST })\n    public String accessDenied() {\n        return \"accessDenied\";\n    }\n\n    @RequestMapping(value = PATH)\n    public String error() {\n        return \"error\";\n    }\n\n    @Override\n    public String getErrorPath() {\n        return PATH;\n    }\n}\n</code></pre>\n\n<p>web.xml</p>\n\n<pre><code>&lt;error-page&gt;\n    &lt;error-code&gt;404&lt;/error-code&gt;\n    &lt;location&gt;/pageNotFound&lt;/location&gt;\n&lt;/error-page&gt;\n\n&lt;error-page&gt;\n    &lt;error-code&gt;500&lt;/error-code&gt;\n    &lt;location&gt;/error&lt;/location&gt;\n&lt;/error-page&gt;\n</code></pre>\n\n<p>404 is never thrown when the invalid URL is entered.</p>\n\n<p>Also, I am not using embedded tomcat. I am deploying war to the external tomcat. I have this in my <code>application.yml</code> file:</p>\n\n<pre><code>server:\n    error:\n        whitelabel:\n            enabled: false\n</code></pre>\n\n<p>Below is the log in case if I enter a invalid URL. There is no error. It just redirects to <code>/error</code> in case of invalid URL:</p>\n\n<pre><code>2016-03-15 10:02:45.061 DEBUG 9997 --- [io-8080-exec-22] o.s.b.c.web.OrderedRequestContextFilter  : Bound request context to thread: org.apache.catalina.connector.RequestFacade@371ef2a3\n2016-03-15 10:02:45.061 DEBUG 9997 --- [io-8080-exec-22] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/donotexisturl'; against '/static/**'\n2016-03-15 10:02:45.061 DEBUG 9997 --- [io-8080-exec-22] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/donotexisturl'; against '/i18n/**'\n2016-03-15 10:02:45.061 DEBUG 9997 --- [io-8080-exec-22] o.s.security.web.FilterChainProxy        : /doNotExistURL at position 1 of 13 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'\n2016-03-15 10:02:45.061 DEBUG 9997 --- [io-8080-exec-22] o.s.security.web.FilterChainProxy        : /doNotExistURL at position 2 of 13 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'\n2016-03-15 10:02:45.061 DEBUG 9997 --- [io-8080-exec-22] w.c.HttpSessionSecurityContextRepository : Obtained a valid SecurityContext from SPRING_SECURITY_CONTEXT: 'org.springframework.security.core.context.SecurityContextImpl@b8db0c9d: Authentication: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@b8db0c9d: Principal: User{id=8, firstname='Adam', lastname='Milne', email='adam.milne@abcd.com', roleId=1}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@fffd148a: RemoteIpAddress: 127.0.0.1; SessionId: FED1F23633671F6E257CA9C5AFCEE216; Granted Authorities: ModuleOperation{moduleOperationId=1, moduleOperationName='roleList', moduleId=2, moduleName='role'}, ModuleOperation{moduleOperationId=8, moduleOperationName='deleteUser', moduleId=1, moduleName='user'}'\n2016-03-15 10:02:45.061 DEBUG 9997 --- [io-8080-exec-22] o.s.security.web.FilterChainProxy        : /doNotExistURL at position 3 of 13 in additional filter chain; firing Filter: 'HeaderWriterFilter'\n2016-03-15 10:02:45.061 DEBUG 9997 --- [io-8080-exec-22] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@6e929f31\n2016-03-15 10:02:45.061 DEBUG 9997 --- [io-8080-exec-22] o.s.security.web.FilterChainProxy        : /doNotExistURL at position 4 of 13 in additional filter chain; firing Filter: 'CsrfFilter'\n2016-03-15 10:02:45.061 DEBUG 9997 --- [io-8080-exec-22] o.s.security.web.FilterChainProxy        : /doNotExistURL at position 5 of 13 in additional filter chain; firing Filter: 'LogoutFilter'\n2016-03-15 10:02:45.061 DEBUG 9997 --- [io-8080-exec-22] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /donotexisturl' doesn't match 'POST /logout\n2016-03-15 10:02:45.061 DEBUG 9997 --- [io-8080-exec-22] o.s.security.web.FilterChainProxy        : /doNotExistURL at position 6 of 13 in additional filter chain; firing Filter: 'UsernamePasswordAuthenticationFilter'\n2016-03-15 10:02:45.061 DEBUG 9997 --- [io-8080-exec-22] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /donotexisturl' doesn't match 'POST /checklogin\n2016-03-15 10:02:45.062 DEBUG 9997 --- [io-8080-exec-22] o.s.security.web.FilterChainProxy        : /doNotExistURL at position 7 of 13 in additional filter chain; firing Filter: 'ConcurrentSessionFilter'\n2016-03-15 10:02:45.062 DEBUG 9997 --- [io-8080-exec-22] o.s.security.web.FilterChainProxy        : /doNotExistURL at position 8 of 13 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'\n2016-03-15 10:02:45.062 DEBUG 9997 --- [io-8080-exec-22] o.s.security.web.FilterChainProxy        : /doNotExistURL at position 9 of 13 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'\n2016-03-15 10:02:45.062 DEBUG 9997 --- [io-8080-exec-22] o.s.security.web.FilterChainProxy        : /doNotExistURL at position 10 of 13 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'\n2016-03-15 10:02:45.062 DEBUG 9997 --- [io-8080-exec-22] o.s.s.w.a.AnonymousAuthenticationFilter  : SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@b8db0c9d: Principal: User{id=8, firstname='Adam', lastname='Milne', email='adam.milne@abcd.com', roleId=1}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@fffd148a: RemoteIpAddress: 127.0.0.1; SessionId: FED1F23633671F6E257CA9C5AFCEE216; Granted Authorities: ModuleOperation{moduleOperationId=1, moduleOperationName='roleList', moduleId=2, moduleName='role'}, ModuleOperation{moduleOperationId=8, moduleOperationName='deleteUser', moduleId=1, moduleName='user'}'\n2016-03-15 10:02:45.062 DEBUG 9997 --- [io-8080-exec-22] o.s.security.web.FilterChainProxy        : /doNotExistURL at position 11 of 13 in additional filter chain; firing Filter: 'SessionManagementFilter'\n2016-03-15 10:02:45.062 DEBUG 9997 --- [io-8080-exec-22] o.s.security.web.FilterChainProxy        : /doNotExistURL at position 12 of 13 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'\n2016-03-15 10:02:45.062 DEBUG 9997 --- [io-8080-exec-22] o.s.security.web.FilterChainProxy        : /doNotExistURL at position 13 of 13 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'\n2016-03-15 10:02:45.062 DEBUG 9997 --- [io-8080-exec-22] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /donotexisturl' doesn't match 'POST /logout\n2016-03-15 10:02:45.062 DEBUG 9997 --- [io-8080-exec-22] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/donotexisturl'; against '/login**'\n2016-03-15 10:02:45.062 DEBUG 9997 --- [io-8080-exec-22] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/donotexisturl'; against '/error**'\n2016-03-15 10:02:45.062 DEBUG 9997 --- [io-8080-exec-22] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/donotexisturl'; against '/checklogin**'\n2016-03-15 10:02:45.062 DEBUG 9997 --- [io-8080-exec-22] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /doNotExistURL; Attributes: [fullyAuthenticated]\n2016-03-15 10:02:45.062 DEBUG 9997 --- [io-8080-exec-22] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@b8db0c9d: Principal: User{id=8, firstname='Adam', lastname='Milne', email='adam.milne@abcd.com', roleId=1}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@fffd148a: RemoteIpAddress: 127.0.0.1; SessionId: FED1F23633671F6E257CA9C5AFCEE216; Granted Authorities: ModuleOperation{moduleOperationId=1, moduleOperationName='roleList', moduleId=2, moduleName='role'}, ModuleOperation{moduleOperationId=8, moduleOperationName='deleteUser', moduleId=1, moduleName='user'}\n2016-03-15 10:02:45.062 DEBUG 9997 --- [io-8080-exec-22] o.s.security.access.vote.UnanimousBased  : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@6ad88564, returned: 1\n2016-03-15 10:02:45.062 DEBUG 9997 --- [io-8080-exec-22] o.s.security.access.vote.UnanimousBased  : Voter: org.springframework.security.access.vote.AuthenticatedVoter@19007bb6, returned: 0\n2016-03-15 10:02:45.062 DEBUG 9997 --- [io-8080-exec-22] o.s.security.access.vote.UnanimousBased  : Voter: com.sts.app.core.user.security.AccessDecisionVoterImpl@1465b821, returned: 1\n2016-03-15 10:02:45.062 DEBUG 9997 --- [io-8080-exec-22] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorization successful\n2016-03-15 10:02:45.062 DEBUG 9997 --- [io-8080-exec-22] o.s.s.w.a.i.FilterSecurityInterceptor    : RunAsManager did not change Authentication object\n2016-03-15 10:02:45.062 DEBUG 9997 --- [io-8080-exec-22] o.s.security.web.FilterChainProxy        : /doNotExistURL reached end of additional filter chain; proceeding with original chain\n2016-03-15 10:02:45.062 DEBUG 9997 --- [io-8080-exec-22] o.s.web.servlet.DispatcherServlet        : DispatcherServlet with name 'dispatcherServlet' processing GET request for [/gen/doNotExistURL]\n2016-03-15 10:02:45.063 DEBUG 9997 --- [io-8080-exec-22] s.w.s.m.m.a.RequestMappingHandlerMapping : Looking up handler method for path /doNotExistURL\n2016-03-15 10:02:45.064 DEBUG 9997 --- [io-8080-exec-22] s.w.s.m.m.a.RequestMappingHandlerMapping : Did not find handler method for [/doNotExistURL]\n2016-03-15 10:02:45.064 DEBUG 9997 --- [io-8080-exec-22] o.s.w.s.handler.SimpleUrlHandlerMapping  : Matching patterns for request [/doNotExistURL] are [/**]\n2016-03-15 10:02:45.064 DEBUG 9997 --- [io-8080-exec-22] o.s.w.s.handler.SimpleUrlHandlerMapping  : URI Template variables for request [/doNotExistURL] are {}\n2016-03-15 10:02:45.064 DEBUG 9997 --- [io-8080-exec-22] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapping [/doNotExistURL] to HandlerExecutionChain with handler [ResourceHttpRequestHandler [locations=[ServletContext resource [/], class path resource [META-INF/resources/], class path resource [resources/], class path resource [static/], class path resource [public/]], resolvers=[org.springframework.web.servlet.resource.PathResourceResolver@87dd2cb]]] and 1 interceptor\n2016-03-15 10:02:45.064 DEBUG 9997 --- [io-8080-exec-22] o.s.web.servlet.DispatcherServlet        : Last-Modified value for [/gen/doNotExistURL] is: -1\n2016-03-15 10:02:45.077 DEBUG 9997 --- [io-8080-exec-22] o.s.web.servlet.DispatcherServlet        : Null ModelAndView returned to DispatcherServlet with name 'dispatcherServlet': assuming HandlerAdapter completed request handling\n2016-03-15 10:02:45.078 DEBUG 9997 --- [io-8080-exec-22] o.s.web.servlet.DispatcherServlet        : Successfully completed request\n2016-03-15 10:02:45.078 DEBUG 9997 --- [io-8080-exec-22] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally\n2016-03-15 10:02:45.078 DEBUG 9997 --- [io-8080-exec-22] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed\n2016-03-15 10:02:45.078 DEBUG 9997 --- [io-8080-exec-22] o.s.b.c.web.OrderedRequestContextFilter  : Cleared thread-bound request context: org.apache.catalina.connector.RequestFacade@371ef2a3\n2016-03-15 10:02:45.078 DEBUG 9997 --- [io-8080-exec-22] o.s.b.c.web.OrderedRequestContextFilter  : Bound request context to thread: org.apache.catalina.core.ApplicationHttpRequest@20ae74b1\n2016-03-15 10:02:45.078 DEBUG 9997 --- [io-8080-exec-22] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/error'; against '/static/**'\n2016-03-15 10:02:45.078 DEBUG 9997 --- [io-8080-exec-22] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/error'; against '/i18n/**'\n2016-03-15 10:02:45.078 DEBUG 9997 --- [io-8080-exec-22] o.s.security.web.FilterChainProxy        : /error at position 1 of 13 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'\n2016-03-15 10:02:45.078 DEBUG 9997 --- [io-8080-exec-22] o.s.security.web.FilterChainProxy        : /error at position 2 of 13 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'\n2016-03-15 10:02:45.078 DEBUG 9997 --- [io-8080-exec-22] w.c.HttpSessionSecurityContextRepository : Obtained a valid SecurityContext from SPRING_SECURITY_CONTEXT: 'org.springframework.security.core.context.SecurityContextImpl@b8db0c9d: Authentication: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@b8db0c9d: Principal: User{id=8, firstname='Adam', lastname='Milne', email='adam.milne@abcd.com', roleId=1}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@fffd148a: RemoteIpAddress: 127.0.0.1; SessionId: FED1F23633671F6E257CA9C5AFCEE216; Granted Authorities: ModuleOperation{moduleOperationId=1, moduleOperationName='roleList', moduleId=2, moduleName='role'}, ModuleOperation{moduleOperationId=8, moduleOperationName='deleteUser', moduleId=1, moduleName='user'}'\n2016-03-15 10:02:45.078 DEBUG 9997 --- [io-8080-exec-22] o.s.security.web.FilterChainProxy        : /error at position 3 of 13 in additional filter chain; firing Filter: 'HeaderWriterFilter'\n2016-03-15 10:02:45.078 DEBUG 9997 --- [io-8080-exec-22] o.s.security.web.FilterChainProxy        : /error at position 4 of 13 in additional filter chain; firing Filter: 'CsrfFilter'\n2016-03-15 10:02:45.078 DEBUG 9997 --- [io-8080-exec-22] o.s.security.web.FilterChainProxy        : /error at position 5 of 13 in additional filter chain; firing Filter: 'LogoutFilter'\n2016-03-15 10:02:45.078 DEBUG 9997 --- [io-8080-exec-22] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /error' doesn't match 'POST /logout\n2016-03-15 10:02:45.078 DEBUG 9997 --- [io-8080-exec-22] o.s.security.web.FilterChainProxy        : /error at position 6 of 13 in additional filter chain; firing Filter: 'UsernamePasswordAuthenticationFilter'\n2016-03-15 10:02:45.078 DEBUG 9997 --- [io-8080-exec-22] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /error' doesn't match 'POST /checklogin\n2016-03-15 10:02:45.079 DEBUG 9997 --- [io-8080-exec-22] o.s.security.web.FilterChainProxy        : /error at position 7 of 13 in additional filter chain; firing Filter: 'ConcurrentSessionFilter'\n2016-03-15 10:02:45.079 DEBUG 9997 --- [io-8080-exec-22] o.s.security.web.FilterChainProxy        : /error at position 8 of 13 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'\n2016-03-15 10:02:45.079 DEBUG 9997 --- [io-8080-exec-22] o.s.security.web.FilterChainProxy        : /error at position 9 of 13 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'\n2016-03-15 10:02:45.079 DEBUG 9997 --- [io-8080-exec-22] o.s.security.web.FilterChainProxy        : /error at position 10 of 13 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'\n2016-03-15 10:02:45.079 DEBUG 9997 --- [io-8080-exec-22] o.s.s.w.a.AnonymousAuthenticationFilter  : SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@b8db0c9d: Principal: User{id=8, firstname='Adam', lastname='Milne', email='adam.milne@abcd.com', roleId=1}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@fffd148a: RemoteIpAddress: 127.0.0.1; SessionId: FED1F23633671F6E257CA9C5AFCEE216; Granted Authorities: ModuleOperation{moduleOperationId=1, moduleOperationName='roleList', moduleId=2, moduleName='role'}, ModuleOperation{moduleOperationId=8, moduleOperationName='deleteUser', moduleId=1, moduleName='user'}'\n2016-03-15 10:02:45.079 DEBUG 9997 --- [io-8080-exec-22] o.s.security.web.FilterChainProxy        : /error at position 11 of 13 in additional filter chain; firing Filter: 'SessionManagementFilter'\n2016-03-15 10:02:45.079 DEBUG 9997 --- [io-8080-exec-22] o.s.security.web.FilterChainProxy        : /error at position 12 of 13 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'\n2016-03-15 10:02:45.079 DEBUG 9997 --- [io-8080-exec-22] o.s.security.web.FilterChainProxy        : /error at position 13 of 13 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'\n2016-03-15 10:02:45.079 DEBUG 9997 --- [io-8080-exec-22] o.s.security.web.FilterChainProxy        : /error reached end of additional filter chain; proceeding with original chain\n2016-03-15 10:02:45.079 DEBUG 9997 --- [io-8080-exec-22] o.s.web.servlet.DispatcherServlet        : DispatcherServlet with name 'dispatcherServlet' processing GET request for [/gen/error]\n2016-03-15 10:02:45.079 DEBUG 9997 --- [io-8080-exec-22] s.w.s.m.m.a.RequestMappingHandlerMapping : Looking up handler method for path /error\n2016-03-15 10:02:45.079 DEBUG 9997 --- [io-8080-exec-22] s.w.s.m.m.a.RequestMappingHandlerMapping : Returning handler method [public java.lang.String com.sts.app.core.common.web.AppErrorController.error()]\n</code></pre>\n"},{"tags":["java","archive","identification"],"comments":[{"owner":{"account_id":6453072,"reputation":37996,"user_id":4999394,"accept_rate":98,"display_name":"Ravindra babu"},"score":1,"creation_date":1448529217,"post_id":33934178,"comment_id":55629077,"body_markdown":"Get the file name. split the file name with . and get extension. Check whether extension is rar or zip .","body":"Get the file name. split the file name with . and get extension. Check whether extension is rar or zip ."},{"owner":{"account_id":1041770,"reputation":29273,"user_id":1047662,"accept_rate":86,"display_name":"Cyclonecode"},"score":4,"creation_date":1512139349,"post_id":33934178,"comment_id":82148953,"body_markdown":"@Ravindrababu - and What is stoppning one from simply changing the extension of a non zip file to zip or rar?","body":"@Ravindrababu - and What is stoppning one from simply changing the extension of a non zip file to zip or rar?"}],"answers":[{"tags":[],"owner":{"account_id":7319449,"reputation":531,"user_id":5575911,"display_name":"hatze"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1448530108,"creation_date":1448530108,"answer_id":33934859,"question_id":33934178,"body_markdown":"Exception is thrown in line\r\n\r\n    ZipFile zipFile = new ZipFile(pathToFile.toFile());\r\n\r\nThat&#39;s because if a non-ZipFile is given as parameter for the `ZipFile`constructor the `ZipException` is thrown.\r\nSo you have to check **before** generating a new `ZipFile` Object if your file path points to a correct `ZipFile`. \r\nOne solution might be to check the extension of the file path like so\r\n\r\n     PathMatcher matcher = FileSystems.getDefault().getPathMatcher(&quot;glob:*.zip&quot;);\r\n     boolean extensionCorrect = matcher.matches(path); ","title":"How to identify a zip file in java?","body":"<p>Exception is thrown in line</p>\n\n<pre><code>ZipFile zipFile = new ZipFile(pathToFile.toFile());\n</code></pre>\n\n<p>That's because if a non-ZipFile is given as parameter for the <code>ZipFile</code>constructor the <code>ZipException</code> is thrown.\nSo you have to check <strong>before</strong> generating a new <code>ZipFile</code> Object if your file path points to a correct <code>ZipFile</code>. \nOne solution might be to check the extension of the file path like so</p>\n\n<pre><code> PathMatcher matcher = FileSystems.getDefault().getPathMatcher(\"glob:*.zip\");\n boolean extensionCorrect = matcher.matches(path); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":5128734,"reputation":161,"user_id":4109758,"accept_rate":75,"display_name":"nanda"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1448530749,"creation_date":1448530231,"answer_id":33934896,"question_id":33934178,"body_markdown":"    RandomAccessFile raf = new RandomAccessFile(f, &quot;r&quot;);\r\n    \r\n    long n = raf.readInt();\r\n    \r\n    raf.close();\r\n    \r\n    if (n == 0x504B0304)\r\n    \r\n    &#160;&#160;&#160;&#160;System.out.println(&quot;Should be a zip file&quot;);\r\n    \r\n    else\r\n    \r\n    &#160;&#160;&#160;&#160;System.out.println(&quot;Not a zip file&quot;);\r\n\r\n\r\nYou can see it in  the following link.\r\nhttp://www.coderanch.com/t/381509/java/java/check-file-zip-file-java","title":"How to identify a zip file in java?","body":"<pre><code>RandomAccessFile raf = new RandomAccessFile(f, \"r\");\n\nlong n = raf.readInt();\n\nraf.close();\n\nif (n == 0x504B0304)\n\n    System.out.println(\"Should be a zip file\");\n\nelse\n\n    System.out.println(\"Not a zip file\");\n</code></pre>\n\n<p>You can see it in  the following link.\n<a href=\"http://www.coderanch.com/t/381509/java/java/check-file-zip-file-java\" rel=\"nofollow\">http://www.coderanch.com/t/381509/java/java/check-file-zip-file-java</a></p>\n"},{"tags":[],"owner":{"account_id":1192440,"reputation":1137,"user_id":1164913,"display_name":"bratkartoffel"},"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1448531298,"creation_date":1448530519,"answer_id":33934999,"question_id":33934178,"body_markdown":"I&#39;d suggest to open a plain InputStream an reading the first few bytes (magic bytes) and not to rely on the file extension as this can be easily spoofed. Also, you can omit the overhead creating and parsing the files.\r\n\r\nFor RAR the first bytes should be **52 61 72 21 1A 07**.\r\n\r\nFor ZIP it should be one of:\r\n\r\n - **50 4B 03 04**\r\n - **50 4B 05 06** (empty archive)\r\n - **50 4B 07 08** (spanned archive).\r\n\r\nSource: https://en.wikipedia.org/wiki/List_of_file_signatures\r\n\r\nAnother point, just looked at your code:\r\n\r\nWhy do you catch die InvalidZipException, throw it away and construct a new one? This way you lose all the information from the original exception, making it hard to debug and understand what exactly went wrong. Either don&#39;t catch it at all or, if you have to wrap it, do it right:\r\n\r\n    } catch (InvalidZipException e) {\r\n      throw new InvalidZipException(&quot;Not a zip file&quot;, e);\r\n    }","title":"How to identify a zip file in java?","body":"<p>I'd suggest to open a plain InputStream an reading the first few bytes (magic bytes) and not to rely on the file extension as this can be easily spoofed. Also, you can omit the overhead creating and parsing the files.</p>\n\n<p>For RAR the first bytes should be <strong>52 61 72 21 1A 07</strong>.</p>\n\n<p>For ZIP it should be one of:</p>\n\n<ul>\n<li><strong>50 4B 03 04</strong></li>\n<li><strong>50 4B 05 06</strong> (empty archive)</li>\n<li><strong>50 4B 07 08</strong> (spanned archive).</li>\n</ul>\n\n<p>Source: <a href=\"https://en.wikipedia.org/wiki/List_of_file_signatures\" rel=\"noreferrer\">https://en.wikipedia.org/wiki/List_of_file_signatures</a></p>\n\n<p>Another point, just looked at your code:</p>\n\n<p>Why do you catch die InvalidZipException, throw it away and construct a new one? This way you lose all the information from the original exception, making it hard to debug and understand what exactly went wrong. Either don't catch it at all or, if you have to wrap it, do it right:</p>\n\n<pre><code>} catch (InvalidZipException e) {\n  throw new InvalidZipException(\"Not a zip file\", e);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2595922,"reputation":3702,"user_id":2249614,"accept_rate":83,"display_name":"Fabian Braun"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1555416407,"creation_date":1512138397,"answer_id":47595502,"question_id":33934178,"body_markdown":"Merging the answers of nanda &amp; bratkartoffel.\r\n\r\n    private static boolean isArchive(File f) {\r\n    \tint fileSignature = 0;\r\n    \ttry (RandomAccessFile raf = new RandomAccessFile(f, &quot;r&quot;)) {\r\n    \t\tfileSignature = raf.readInt();\r\n    \t} catch (IOException e) {\r\n    \t\t// handle if you like\r\n    \t}\r\n    \treturn fileSignature == 0x504B0304 || fileSignature == 0x504B0506 || fileSignature == 0x504B0708;\r\n    }","title":"How to identify a zip file in java?","body":"<p>Merging the answers of nanda &amp; bratkartoffel.</p>\n\n<pre><code>private static boolean isArchive(File f) {\n    int fileSignature = 0;\n    try (RandomAccessFile raf = new RandomAccessFile(f, \"r\")) {\n        fileSignature = raf.readInt();\n    } catch (IOException e) {\n        // handle if you like\n    }\n    return fileSignature == 0x504B0304 || fileSignature == 0x504B0506 || fileSignature == 0x504B0708;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18655,"reputation":4922,"user_id":42962,"accept_rate":71,"display_name":"hooknc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649708312,"creation_date":1649708312,"answer_id":71833811,"question_id":33934178,"body_markdown":"[Apache Tika][1] was created to extract metadata from files, but one of its side benefits is it will determine a file&#39;s media-type by either its magic bytes and/or the files extension.\r\n\r\n```\r\npublic String detect(InputStream stream, String name) throws IOException\r\n```\r\n\r\n&gt; Detects the media type of the given document. The type detection is based on the content of the given document stream and the name of the document.\r\n\r\n\r\n  [1]: https://tika.apache.org/","title":"How to identify a zip file in java?","body":"<p><a href=\"https://tika.apache.org/\" rel=\"nofollow noreferrer\">Apache Tika</a> was created to extract metadata from files, but one of its side benefits is it will determine a file's media-type by either its magic bytes and/or the files extension.</p>\n<pre><code>public String detect(InputStream stream, String name) throws IOException\n</code></pre>\n<blockquote>\n<p>Detects the media type of the given document. The type detection is based on the content of the given document stream and the name of the document.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1195086,"reputation":2530,"user_id":1166992,"accept_rate":83,"display_name":"Olivier Faucheux"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693078893,"creation_date":1693078893,"answer_id":76984570,"question_id":33934178,"body_markdown":"I resolved it using Apache Tika (here for gzip):\r\n\r\n    final MimeTypes mimeTypes = MimeTypes.getDefaultMimeTypes(ClassLoader.getSystemClassLoader());\r\n    boolean isCompressed = mimeTypes.forName(&quot;application/gzip&quot;).matches(\r\n            FileUtils.readFileToByteArray(FileUtils.getFile(filepath))\r\n    );\r\n\r\nRemark: the library use the magic bytes, so it should be possible to read only some start bytes of the file instead of using `FileUtils.getFile()`.","title":"How to identify a zip file in java?","body":"<p>I resolved it using Apache Tika (here for gzip):</p>\n<pre><code>final MimeTypes mimeTypes = MimeTypes.getDefaultMimeTypes(ClassLoader.getSystemClassLoader());\nboolean isCompressed = mimeTypes.forName(&quot;application/gzip&quot;).matches(\n        FileUtils.readFileToByteArray(FileUtils.getFile(filepath))\n);\n</code></pre>\n<p>Remark: the library use the magic bytes, so it should be possible to read only some start bytes of the file instead of using <code>FileUtils.getFile()</code>.</p>\n"}],"owner":{"account_id":7228175,"reputation":209,"user_id":5516020,"accept_rate":0,"display_name":"Jack"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23563,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":6,"score":11,"last_activity_date":1693078893,"creation_date":1448528099,"question_id":33934178,"body_markdown":"I want to identify my archive whether it is `zip` or `rar`. But the problem I get runtime error before I can validate my file. I want to create custom notification:\r\n\r\n    public class ZipValidator {\r\n      public void validate(Path pathToFile) throws IOException {\r\n        try {\r\n          ZipFile zipFile = new ZipFile(pathToFile.toFile());\r\n          String zipname = zipFile.getName();\r\n        } catch (InvalidZipException e) {\r\n          throw new InvalidZipException(&quot;Not a zip file&quot;);\r\n        }\r\n      }\r\n    }\r\n\r\nAt the moment I have runtime error:\r\n\r\n    \r\n\r\n&gt; java.util.zip.ZipException: error in opening zip file","title":"How to identify a zip file in java?","body":"<p>I want to identify my archive whether it is <code>zip</code> or <code>rar</code>. But the problem I get runtime error before I can validate my file. I want to create custom notification:</p>\n\n<pre><code>public class ZipValidator {\n  public void validate(Path pathToFile) throws IOException {\n    try {\n      ZipFile zipFile = new ZipFile(pathToFile.toFile());\n      String zipname = zipFile.getName();\n    } catch (InvalidZipException e) {\n      throw new InvalidZipException(\"Not a zip file\");\n    }\n  }\n}\n</code></pre>\n\n<p>At the moment I have runtime error:</p>\n\n<blockquote>\n  <p>java.util.zip.ZipException: error in opening zip file</p>\n</blockquote>\n"},{"tags":["java","random"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1693068588,"post_id":76983889,"comment_id":135712476,"body_markdown":"Please [edit] your question to show your attempt and tell us what it is that you don&#39;t understand about it.","body":"Please <a href=\"https://stackoverflow.com/posts/76983889/edit\">edit</a> your question to show your attempt and tell us what it is that you don&#39;t understand about it."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1693073973,"post_id":76983889,"comment_id":135713115,"body_markdown":"`Random r = new Random();double a = r.nextDouble() &lt; 0.5;double b = r.nextDouble() &lt; 0.35;...`","body":"<code>Random r = new Random();double a = r.nextDouble() &lt; 0.5;double b = r.nextDouble() &lt; 0.35;...</code>"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1693074085,"post_id":76983889,"comment_id":135713121,"body_markdown":"Great answer to a not-so-good question. In the future, please show more of your own efforts in the question, if only so that it is unique from prior similar questions. You show absolutely no research into prior questions in your own question, by the way.","body":"Great answer to a not-so-good question. In the future, please show more of your own efforts in the question, if only so that it is unique from prior similar questions. You show absolutely no research into prior questions in your own question, by the way."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1693078634,"creation_date":1693069095,"answer_id":76983984,"question_id":76983889,"body_markdown":"[`Math.random()`][1] should almost never be used. It oversimplifies the job of &#39;create randomness&#39; and in doing so, just adds confusion and subtle bugs.\r\n\r\nInstead, the right way to do randomness is to __work with an instance of `java.util.Random`__.\r\n\r\nA trivial way to make one is simply [`new Random()`][2]. There are variants on the theme - you can for example go with [`SecureRandom.getInstanceStrong()`][3] instead - just `new Random()` tends to already be a source of randomness that is robust enough for security principles, but `SecureRandom.getInstanceStrong()` guarantees this and will crash (throw an exception) if for whatever reason the system is not capable of providing a random source that is suitable for use for providing randomness when generating keys for cryptography and the like. __As a beginner, just use `new Random()`__.\r\n\r\nAn instance of `j.u.Random` has various methods. The most important one is [`.nextInt(x)`][4]. This method returns a uniform-random value between 0 (inclusive) and x (exclusive). Thus:\r\n\r\n```\r\nRandom r = new Random();\r\n\r\n…\r\n\r\n// Roll 10 dice!\r\nfor (int i = 1; i &lt;= 10; i++) {\r\n  System.out.println(&quot;Diceroll &quot; + i + &quot;: &quot; + (rnd.nextInt(6) + 1));\r\n}\r\n```\r\n\r\n`rnd.nextInt(6)` can give 6 possible answers: 0, 1, 2, 3, 4, or 5. It will return one chosen uniformly randomly (uniform, meaning, each of those 6 options is exactly as likely as any of the other ones).\r\n\r\nYou may have read in a book or tutorial that you should use `1 + (int) (Math.random() * 6)` instead. __This is subtly broken__. It takes a university level understanding of the fundamentals of informatics to know why&lt;sup&gt;1&lt;/sup&gt;. Besides, `rnd.nextInt(6)` is simply easier to read and easier to use.\r\n\r\nLet&#39;s now look at your question. You&#39;ve stated all cases in nice whole percentages, that add up to 100. So, then, that&#39;s easy!\r\n\r\nOne trick is that you just have __one single randomness occurrence__ - one roll of the dice and off of that single roll we know whether to do event A, or event B, or event C. It&#39;s just.. it&#39;s a die with 100 faces. 50 of the faces should result in A, 35 of the faces in B, and the remaining 15 faces should result in C.\r\n\r\nHence, we only want __a single__ random number. Possibly you&#39;re trying to do this by first determining randomly if &#39;event A&#39; occurs, and then if A did not occur, use a second random number to determine of &#39;B&#39; should occur. This is just making things needlessly complicated, don&#39;t do that. Ask for one random number only:\r\n\r\n```\r\nint x = rnd.nextInt(100);\r\n// x is now 0, 1, 2, 3, 4, 5, ...., 97, 98, or 99. Uniformly chosen.\r\nif (x &lt; 50) {\r\n // 0-49 are all choices that match here, that&#39;s exactly 50%.\r\n eventA();\r\n} else if (x &lt; 85) {\r\n // 50-84 goes here, that&#39;s 35 options: 35% chance\r\n eventB();\r\n} else {\r\n //85-99 go here, that&#39;s 15 options, 15% chance\r\n  eventC();\r\n}\r\n```\r\n\r\nThe only &#39;trick&#39; we had to apply is to keep summing the odds. &#39;85&#39; is in the code above because 50+35 is 85. If you find this complicated you can let the computer do the math, if you prefer:\r\n\r\n```\r\nint z = rnd.nextInt(100);\r\nint odds = 0;\r\n\r\n/* Event A, 50% chance */\r\nodds += 50;\r\nif (z &lt; odds) {\r\n   eventA();\r\n   return; // or break - but we most not go any further than here!\r\n}\r\n\r\n/* Event B, 35% chance */\r\nodds += 35;\r\nif (z &lt; odds) {\r\n  eventB();\r\n  return;\r\n}\r\n\r\n/* event C, 15% chance */\r\nodds += 15;\r\nif (z &lt; odds) {\r\n  eventC();\r\n  return;\r\n}\r\n\r\nassert odds == 100;\r\n\r\nthrow new RuntimeException(&quot;We cannot possibly get here&quot;);\r\n```\r\n\r\n\r\n-----\r\n\r\n(1) If this goes over your head, it&#39;s not crucial to understand it - just know it&#39;s subtly broken. As in, broken, but you won&#39;t notice when testing and developing, so it shouldn&#39;t be used! - but, for the curious: It&#39;s the pigeonhole principle: `Math.random()` generates a `double`. Computers are finite concepts, so there is a large, __but finite__, amount of numbers that it can return. Unless that universe of answers it can give consists of Z numbers, where Z is __exactly__ divisible by 6, then by pigeonhole principle we can _prove_ that `1 + (int)(Math.random() * 6)` __cannot__ be exactly uniform: After all, if Z is, say, 16 numbers, how do you map those 16 results onto 6 outcomes such that each of the 6 is equally likely? That&#39;s not possible. QED. Computers, being binary things, tend to have everything be powers of 2. 6 is not a power of 2, hence it is rather unlikely `Math.random()`&#39;s output universe so happens to have a size that is exactly divisible by 6. And, without getting into the specifics of how `double` in fact works, indeed, it isn&#39;t. Thus, __not uniform__.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Math.html#random()\r\n  [2]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Random.html#%3Cinit%3E()\r\n  [3]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/security/SecureRandom.html#getInstanceStrong()\r\n  [4]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Random.html#nextInt(int)","title":"How to make a random event in java","body":"<p><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Math.html#random()\" rel=\"nofollow noreferrer\"><code>Math.random()</code></a> should almost never be used. It oversimplifies the job of 'create randomness' and in doing so, just adds confusion and subtle bugs.</p>\n<p>Instead, the right way to do randomness is to <strong>work with an instance of <code>java.util.Random</code></strong>.</p>\n<p>A trivial way to make one is simply <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Random.html#%3Cinit%3E()\" rel=\"nofollow noreferrer\"><code>new Random()</code></a>. There are variants on the theme - you can for example go with <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/security/SecureRandom.html#getInstanceStrong()\" rel=\"nofollow noreferrer\"><code>SecureRandom.getInstanceStrong()</code></a> instead - just <code>new Random()</code> tends to already be a source of randomness that is robust enough for security principles, but <code>SecureRandom.getInstanceStrong()</code> guarantees this and will crash (throw an exception) if for whatever reason the system is not capable of providing a random source that is suitable for use for providing randomness when generating keys for cryptography and the like. <strong>As a beginner, just use <code>new Random()</code></strong>.</p>\n<p>An instance of <code>j.u.Random</code> has various methods. The most important one is <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Random.html#nextInt(int)\" rel=\"nofollow noreferrer\"><code>.nextInt(x)</code></a>. This method returns a uniform-random value between 0 (inclusive) and x (exclusive). Thus:</p>\n<pre><code>Random r = new Random();\n\n…\n\n// Roll 10 dice!\nfor (int i = 1; i &lt;= 10; i++) {\n  System.out.println(&quot;Diceroll &quot; + i + &quot;: &quot; + (rnd.nextInt(6) + 1));\n}\n</code></pre>\n<p><code>rnd.nextInt(6)</code> can give 6 possible answers: 0, 1, 2, 3, 4, or 5. It will return one chosen uniformly randomly (uniform, meaning, each of those 6 options is exactly as likely as any of the other ones).</p>\n<p>You may have read in a book or tutorial that you should use <code>1 + (int) (Math.random() * 6)</code> instead. <strong>This is subtly broken</strong>. It takes a university level understanding of the fundamentals of informatics to know why<sup>1</sup>. Besides, <code>rnd.nextInt(6)</code> is simply easier to read and easier to use.</p>\n<p>Let's now look at your question. You've stated all cases in nice whole percentages, that add up to 100. So, then, that's easy!</p>\n<p>One trick is that you just have <strong>one single randomness occurrence</strong> - one roll of the dice and off of that single roll we know whether to do event A, or event B, or event C. It's just.. it's a die with 100 faces. 50 of the faces should result in A, 35 of the faces in B, and the remaining 15 faces should result in C.</p>\n<p>Hence, we only want <strong>a single</strong> random number. Possibly you're trying to do this by first determining randomly if 'event A' occurs, and then if A did not occur, use a second random number to determine of 'B' should occur. This is just making things needlessly complicated, don't do that. Ask for one random number only:</p>\n<pre><code>int x = rnd.nextInt(100);\n// x is now 0, 1, 2, 3, 4, 5, ...., 97, 98, or 99. Uniformly chosen.\nif (x &lt; 50) {\n // 0-49 are all choices that match here, that's exactly 50%.\n eventA();\n} else if (x &lt; 85) {\n // 50-84 goes here, that's 35 options: 35% chance\n eventB();\n} else {\n //85-99 go here, that's 15 options, 15% chance\n  eventC();\n}\n</code></pre>\n<p>The only 'trick' we had to apply is to keep summing the odds. '85' is in the code above because 50+35 is 85. If you find this complicated you can let the computer do the math, if you prefer:</p>\n<pre><code>int z = rnd.nextInt(100);\nint odds = 0;\n\n/* Event A, 50% chance */\nodds += 50;\nif (z &lt; odds) {\n   eventA();\n   return; // or break - but we most not go any further than here!\n}\n\n/* Event B, 35% chance */\nodds += 35;\nif (z &lt; odds) {\n  eventB();\n  return;\n}\n\n/* event C, 15% chance */\nodds += 15;\nif (z &lt; odds) {\n  eventC();\n  return;\n}\n\nassert odds == 100;\n\nthrow new RuntimeException(&quot;We cannot possibly get here&quot;);\n</code></pre>\n<hr />\n<p>(1) If this goes over your head, it's not crucial to understand it - just know it's subtly broken. As in, broken, but you won't notice when testing and developing, so it shouldn't be used! - but, for the curious: It's the pigeonhole principle: <code>Math.random()</code> generates a <code>double</code>. Computers are finite concepts, so there is a large, <strong>but finite</strong>, amount of numbers that it can return. Unless that universe of answers it can give consists of Z numbers, where Z is <strong>exactly</strong> divisible by 6, then by pigeonhole principle we can <em>prove</em> that <code>1 + (int)(Math.random() * 6)</code> <strong>cannot</strong> be exactly uniform: After all, if Z is, say, 16 numbers, how do you map those 16 results onto 6 outcomes such that each of the 6 is equally likely? That's not possible. QED. Computers, being binary things, tend to have everything be powers of 2. 6 is not a power of 2, hence it is rather unlikely <code>Math.random()</code>'s output universe so happens to have a size that is exactly divisible by 6. And, without getting into the specifics of how <code>double</code> in fact works, indeed, it isn't. Thus, <strong>not uniform</strong>.</p>\n"}],"owner":{"account_id":29304480,"reputation":1,"user_id":22451861,"display_name":"ImVic"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1693069851,"accepted_answer_id":76983984,"answer_count":1,"score":-1,"last_activity_date":1693078634,"creation_date":1693067613,"question_id":76983889,"body_markdown":"I want to write a java program where there 50% chance for event a to occur, 35% chance for event b to occur and 15% chance for event c to occur and finally print the event which took place.\r\nThanks.\r\n\r\n\r\nI tried using math.random but it ended up being too complicated for me to understand.","title":"How to make a random event in java","body":"<p>I want to write a java program where there 50% chance for event a to occur, 35% chance for event b to occur and 15% chance for event c to occur and finally print the event which took place.\nThanks.</p>\n<p>I tried using math.random but it ended up being too complicated for me to understand.</p>\n"},{"tags":["java","visual-studio-code","unicode","encoding"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":2,"creation_date":1693065299,"post_id":76983724,"comment_id":135712057,"body_markdown":"First of all, are you using a font that can display it?","body":"First of all, are you using a font that can display it?"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1693065374,"post_id":76983724,"comment_id":135712069,"body_markdown":"&quot;All I am asking for quick and easy solution !&quot; that&#39;s what everyone asks here, for free. Anyway, I&#39;d say you&#39;re on track with the issue being with console, you could test that by creating a text file with the character in UTF-8 and seeing if you can view it on your console. If you can, then the issue is somewhere else. But you can search SO yourself for these questions since there are dozens.","body":"&quot;All I am asking for quick and easy solution !&quot; that&#39;s what everyone asks here, for free. Anyway, I&#39;d say you&#39;re on track with the issue being with console, you could test that by creating a text file with the character in UTF-8 and seeing if you can view it on your console. If you can, then the issue is somewhere else. But you can search SO yourself for these questions since there are dozens."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1693066353,"post_id":76983724,"comment_id":135712212,"body_markdown":"YI SYLLABLE NJIX (U+A432) with glyph `ꐲ` can be displayed by the font &#39;Code200&#39;. Then you&#39;ll be wanting to make sure your console supports Unicode","body":"YI SYLLABLE NJIX (U+A432) with glyph <code>ꐲ</code> can be displayed by the font &#39;Code200&#39;. Then you&#39;ll be wanting to make sure your console supports Unicode"},{"owner":{"account_id":21925303,"reputation":3,"user_id":18048370,"display_name":"Determinante"},"score":0,"creation_date":1693070840,"post_id":76983724,"comment_id":135712742,"body_markdown":"@g00se I don&#39;t know abt that yet.","body":"@g00se I don&#39;t know abt that yet."},{"owner":{"account_id":21925303,"reputation":3,"user_id":18048370,"display_name":"Determinante"},"score":0,"creation_date":1693071397,"post_id":76983724,"comment_id":135712813,"body_markdown":"come on -3 votes why ? because it probably lacks research effort , well it is time consuming to do the research although I would get a sol but as a college student I gotta prioritize and I have other things to do!!","body":"come on -3 votes why ? because it probably lacks research effort , well it is time consuming to do the research although I would get a sol but as a college student I gotta prioritize and I have other things to do!!"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1693078566,"post_id":76983724,"comment_id":135713567,"body_markdown":"It would appear to be an issue with the _console_ output, my IDE uses _UTF-8_ and the character displays correctly.  _https://github.com/scalameta/metals/discussions/2591_.","body":"It would appear to be an issue with the <i>console</i> output, my IDE uses <i>UTF-8</i> and the character displays correctly.  <i><a href=\"https://github.com/scalameta/metals/discussions/2591\" rel=\"nofollow noreferrer\">github.com/scalameta/metals/discussions/2591</a></i>."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1693125244,"post_id":76983724,"comment_id":135716664,"body_markdown":"You can very usefully check what&#39;s going with the encoding with `System.out.println(java.util.HexFormat.of().formatHex((&quot;&quot;+c).getBytes()));` (for your variable `c`)","body":"You can very usefully check what&#39;s going with the encoding with <code>System.out.println(java.util.HexFormat.of().formatHex((&quot;&quot;+c)&zwnj;&#8203;.getBytes()));</code> (for your variable <code>c</code>)"},{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1693203416,"post_id":76983724,"comment_id":135723920,"body_markdown":"Welcome to StackOverflow. If an answer solves your problem you could click &#39;✔&#39; to mark it as an acceptable answer. If it helps you give it an upvote. If the answer is offtopic or doesn’t help at all, downvote or add a comment. See also [stackoverflow.com/help/why-vote](https://stackoverflow.com/help/why-vote)","body":"Welcome to StackOverflow. If an answer solves your problem you could click &#39;✔&#39; to mark it as an acceptable answer. If it helps you give it an upvote. If the answer is offtopic or doesn’t help at all, downvote or add a comment. See also <a href=\"https://stackoverflow.com/help/why-vote\">stackoverflow.com/help/why-vote</a>"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1693078282,"creation_date":1693068326,"answer_id":76983927,"question_id":76983724,"body_markdown":"You need some context to understand the answer.\r\n\r\n&gt; All I am asking for quick and easy solution !\r\n\r\nAnd I want world peace. We both asked for the impossible. There is a quick and easy solution, but from what you described it is not possible to know what that is, and it is not possible to explain to you what you need to tell us / what you need to do to find that quick and easy solution, without giving you a ton of context.\r\n\r\nThe answer is almost certainly &#39;go into your VSCode preferences/settings and change either an encoding setting or a font setting or both&#39;.\r\n\r\n## Fundamentals\r\n\r\nA lot of things in the computer world are based on bytes. For example, when you make connections over the internet (say, you type `www.stackoverflow.com` in your browser&#39;s toolbar and hit enter - your browser application tells the OS to tell the network system to connect to the internet and open a pipe. Kinda like picking up the telephone. Instead of voice audio being carried over the &#39;pipe&#39;, it&#39;s bytes). Files on disk? You read and write bytes to these.\r\n\r\nCrucially, also, applications are considered to have something called &#39;standard in&#39; and &#39;standard out&#39; - these are simply the inputs and outputs of the program. __By default__ if you start applications on the command line, the keyboard is hooked up to standard in, and the terminal (the big black box thing you&#39;re typing commands into) is hooked up as standard out. But you can change it, for example, in unixy systems you can write:\r\n\r\n```\r\ncat foo.txt &gt;/dev/printer\r\n```\r\n\r\nWhich will actually print out `foo.txt`. That&#39;s because the `cat` command means: &quot;Open the stated file and spew the entire contents out to the standard output&quot; and `&gt;/dev/printer` says: Instead of the default &#39;the black box thing&#39; as standard output, I want it to be sent to the file &#39;/dev/printer&#39; (which is a device, but in unix systems, they live on the file system too, so they have a path). Assuming things are hooked up right, the printer will spit out a page if you do this.\r\n\r\nThe crucial thing to understand is, __fundamentally, standard out and standard in are bytes, too!__\r\n\r\nHowever, __text and bytes aren&#39;t compatible__. A byte is a value between 0 and 255, i.e. it can represent at most 256 different unique things. However, there are __far__ more than 256 unique characters. Most of the computing world solves that problem by using unicode, but unicode about __a million__ symbols (or at least, has room for that many), clearly, we can&#39;t use a single byte to represent a unicode character.\r\n\r\nWhen you write `cat foo.txt`  you&#39;re asking cat to send the contents of that text file to the standard output (your screen, by default), but there&#39;s a problem here: standard output is a &#39;stream of bytes&#39;, and you don&#39;t want to see the bytes, you want to see characters. Thus, the code that runs that black box thing (`cmd.exe` on windows, your terminal and your shell on unixy systems) __is being tasked to interpret the bytes and guess what symbols those might represent__.\r\n\r\nIn order to do that, there is a charset encoding involved.\r\n\r\nThe key takeaway: __Anytime bytes turn into characters or vice versa, a charset encoding is applied__. To make things &#39;easy&#39;, _loads_ of systems will just take a wild stab in the dark and apply one whenever such conversions occur. `cat foo.txt` itself would do that, after all: you&#39;re not specifying a charset encoding. In fact, `cat` has no `cat --charset-encoding=UTF8` style option, because cat itself can only emit bytes, it&#39;s the terminal/cmd.exe/shell that has to do it.\r\n\r\nThe same rule applies __everywhere__. If the server that runs `stackoverflow.com` answers, it has to send bytes, your browser reads these but needs to show text, so it... applies a charset encoding to convert bytes to text. Similarly, when you submitted the form to submit your question, your browser had a bunch of characters, and had to apply a charset encoding to turn these into bytes in order to send it to the stackoverflow.com server.\r\n\r\n## Let&#39;s make that practical!\r\n\r\nLet&#39;s say I open an editor and write, literally:\r\n\r\n```\r\nclass Main { public static void main(String[] args) {\r\n  System.out.println(&quot;☃&quot;);\r\n}}\r\n```\r\n\r\nI then hit &#39;save&#39;.\r\n\r\nThis immediately causes some charset conversion to be applied. After all, the editor is a text-based notion, and when I save, that&#39;s: Write the contents of what I am writing to a file. Files are byte-based notions, thus, text-to-byte conversion occurs.\r\n\r\nYou&#39;ll find that every non-idiotic editor will indicate, or otherwise have some option, to tell it _what encoding to apply when saving your file_.\r\n\r\nI then switch to the command line and type:\r\n\r\n```\r\njavac Main.java\r\n```\r\n\r\njavac opens the file and parses my source code. Source code is a text based concept, files are a byte based concept, so _javac applies a charset encoding to turn the file contents into characters so it can parse them_. And, indeed, `javac` has a `--charset` option, as it should.\r\n\r\nFortunately, java has a built in system to store characters in a known manner in class files; no charset encoding is applied to do it, so at least here there is no char-to-byte conversion that we need to worry about.\r\n\r\nWe then type:\r\n\r\n```\r\njava Main\r\n```\r\n\r\nAnd the java executable dutifully powers up and executes the code in the main method. Which is to print that string (we established java class files have sorted that out for us; not all programming systems do, but java does, fortunately!) - it does that, but _`System.out` is a byte based concept_, so to do it, `java.exe` has to apply char-to-byte conversion, and thus, applies a charset encoding!\r\n\r\nThe bytes then arrive at `/bin/bash` which needs to turn that back into characters, and.. applies a charset encoding.\r\n\r\nSo, in this ridiculously simple act of writing a &#39;hello world&#39; java app and running it:\r\n\r\n* Our editor encoded text (our source code)\r\n* Our javac decoded a file (the file with our source code).\r\n* Our java executable encoded text (the snowman string)\r\n* Our terminal setup decoded bytes from the java.exe process&#39;s standard out (the snowman string)\r\n\r\nThose last 2 steps seem particularly stupid (we have text, why are we encoding it to bytes just so that the font rendering of the terminal can immediately decode those bytes right back to characters again??) - but, remember, the setup is that standard-in and standard-out can be redirected to printers, files, FTP servers, other applications, you name it.\r\n\r\n__Unless each of those 4 steps picked the same encoding, you get [mojibake](https://en.wikipedia.org/wiki/Mojibake)__.\r\n\r\nHopefully the entire chain all picks UTF-8, which is an encoding that can represent every single one of those ~million unicode symbols that exist. Not all charset encodings can do that. However, in practice, lots of systems (particularly windows) __do not__ have UTF_8 and mojibake is likely to occur.\r\n\r\n## So what explains that `?`?\r\n\r\nThere are 2 different explanations. From your question it simply isn&#39;t clear which of the two explanations is correct.\r\n\r\n### Explanation 1: Mojibake\r\n\r\nYou used `\\ua432` method in your java source file. You could have just as easily written:\r\n\r\n```\r\nchar c = &#39;ꐲ&#39;;\r\n```\r\n\r\nand __if your editor and `javac`&#39;s `--charset` option are in agreement__ this would have resulted in identical (literally, completely identical class files) results. That `\\u` thing is just a way to write such characters if you&#39;re not sure your editor&#39;s and `javac`&#39;s charsets line up, or if the charset you are using is incapable of storing this character. (Lots of different encodings treat ASCII symbols, which includes your basic space, a through `, 0 through 9, :, dollar, underscore, dash, etcetera - the same way. So if you take some text that consists solely of ASCII characters, encode it using one encoding, then decode it using a completely different encoding, often it works fine. __That still means your process is broken__, but you&#39;ll want realize this unless you render non-ASCII stuff. Such as ꐲ, but even &#235; and € aren&#39;t ASCII!.\r\n\r\nThus, you&#39;ve eliminated any opportunity for a mismatch in the first 2 steps (writing your source file, and having `javac` compile the source file). That leaves steps 3 and 4.\r\n\r\n__The little terminal-esque thingies in code editors are notorious for being crappy at encodings__. It&#39;s definitely possible that `java.exe` assumes the encoding the system uses is UTF_8, therefore converts your text via UTF_8 to bytes to send to its standard out, but that VSCode or where-ever you are running this actually applies, say, Cp1252 encoding or somesuch. If that&#39;s the case there&#39;s nothing you can do: Cp1252 can&#39;t represent ꐲ at all, so it&#39;s not possible to print it. Perhaps you can find a setting in VSCode to change the charset it uses to decode the bytes to characters (which it has to do to show the characters on your screen in the little terminal box thing in your editor).\r\n\r\n__ANSWER 1: Check your editor&#39;s setting, ensure that whatever your system&#39;s default charset encoding is, lines up. Most likely, just set everything to UTF-8__.\r\n\r\n## Explanation 2: Font limits\r\n\r\nAs I mentioned, unicode has room for a million symbols. It doesn&#39;t quite have that many, but there are __a lot__ of unicode symbols.\r\n\r\nUnicode just explains which number maps to which symbol. It doesn&#39;t actually dictate what things look like. A font does that: A font is a table that maps characters onto an image or vector instructions to actually draw these things on your display.\r\n\r\nFonts don&#39;t necessarily have an image for __every__ character.\r\n\r\nFor example:\r\n\r\n&gt; This sentence\r\n\r\n&gt; `This sentence`\r\n\r\nlooks completely different. Check the how in the second one, the &#39;i&#39; has serifs (little horizontal bars) and in the first one, it doesn&#39;t. That&#39;s because the actual characters are identical, but, a different font is used. One font maps the &#39;i&#39; character to the image &#39;i&#39;, the other to the image &#39;`i`&#39;.\r\n\r\n__ANSWER #2: The font used by VSCode in the &#39;terminal&#39; box simply doesn&#39;t have a mapping from A432 to any image at all. Which means the font rendering engine shows &#39;the placeholder &quot;I have no image for this character&quot; symbol instead, which _could_ be ?&#39;. To fix this, go into your VSCode settings and change which font is used in the console view.__\r\n\r\nThose &#39;images&#39; are generally called &#39;glyphs&#39;, so this condition is called a &#39;missing glyph&#39;.\r\n\r\nUsually, and the unicode spec strongly suggests this, font rendering engines should use the □ (white square, 25A1), or possibly � (replacement character) to do this. It would use ? only if the font also has no glyph for either of those. Which is certainly possible - various programmer fonts don&#39;t have _any_ glyphs for _anything_ outside of the ASCII range. If that is the case, `?` will be used instead, which is what you&#39;re seeing!\r\n\r\n----\r\n\r\n[1] Wellll, there&#39;s the whole topic of surrogate pairs and how one can colour an argument to say it really isn&#39;t true unicode, but OP specifically is complaining about complexity, and it doesn&#39;t apply to the exact symbol OP wants to display, so, let&#39;s not get into that.","title":"Katakana character in Java displaying as &#39;?&#39;","body":"<p>You need some context to understand the answer.</p>\n<blockquote>\n<p>All I am asking for quick and easy solution !</p>\n</blockquote>\n<p>And I want world peace. We both asked for the impossible. There is a quick and easy solution, but from what you described it is not possible to know what that is, and it is not possible to explain to you what you need to tell us / what you need to do to find that quick and easy solution, without giving you a ton of context.</p>\n<p>The answer is almost certainly 'go into your VSCode preferences/settings and change either an encoding setting or a font setting or both'.</p>\n<h2>Fundamentals</h2>\n<p>A lot of things in the computer world are based on bytes. For example, when you make connections over the internet (say, you type <code>www.stackoverflow.com</code> in your browser's toolbar and hit enter - your browser application tells the OS to tell the network system to connect to the internet and open a pipe. Kinda like picking up the telephone. Instead of voice audio being carried over the 'pipe', it's bytes). Files on disk? You read and write bytes to these.</p>\n<p>Crucially, also, applications are considered to have something called 'standard in' and 'standard out' - these are simply the inputs and outputs of the program. <strong>By default</strong> if you start applications on the command line, the keyboard is hooked up to standard in, and the terminal (the big black box thing you're typing commands into) is hooked up as standard out. But you can change it, for example, in unixy systems you can write:</p>\n<pre><code>cat foo.txt &gt;/dev/printer\n</code></pre>\n<p>Which will actually print out <code>foo.txt</code>. That's because the <code>cat</code> command means: &quot;Open the stated file and spew the entire contents out to the standard output&quot; and <code>&gt;/dev/printer</code> says: Instead of the default 'the black box thing' as standard output, I want it to be sent to the file '/dev/printer' (which is a device, but in unix systems, they live on the file system too, so they have a path). Assuming things are hooked up right, the printer will spit out a page if you do this.</p>\n<p>The crucial thing to understand is, <strong>fundamentally, standard out and standard in are bytes, too!</strong></p>\n<p>However, <strong>text and bytes aren't compatible</strong>. A byte is a value between 0 and 255, i.e. it can represent at most 256 different unique things. However, there are <strong>far</strong> more than 256 unique characters. Most of the computing world solves that problem by using unicode, but unicode about <strong>a million</strong> symbols (or at least, has room for that many), clearly, we can't use a single byte to represent a unicode character.</p>\n<p>When you write <code>cat foo.txt</code>  you're asking cat to send the contents of that text file to the standard output (your screen, by default), but there's a problem here: standard output is a 'stream of bytes', and you don't want to see the bytes, you want to see characters. Thus, the code that runs that black box thing (<code>cmd.exe</code> on windows, your terminal and your shell on unixy systems) <strong>is being tasked to interpret the bytes and guess what symbols those might represent</strong>.</p>\n<p>In order to do that, there is a charset encoding involved.</p>\n<p>The key takeaway: <strong>Anytime bytes turn into characters or vice versa, a charset encoding is applied</strong>. To make things 'easy', <em>loads</em> of systems will just take a wild stab in the dark and apply one whenever such conversions occur. <code>cat foo.txt</code> itself would do that, after all: you're not specifying a charset encoding. In fact, <code>cat</code> has no <code>cat --charset-encoding=UTF8</code> style option, because cat itself can only emit bytes, it's the terminal/cmd.exe/shell that has to do it.</p>\n<p>The same rule applies <strong>everywhere</strong>. If the server that runs <code>stackoverflow.com</code> answers, it has to send bytes, your browser reads these but needs to show text, so it... applies a charset encoding to convert bytes to text. Similarly, when you submitted the form to submit your question, your browser had a bunch of characters, and had to apply a charset encoding to turn these into bytes in order to send it to the stackoverflow.com server.</p>\n<h2>Let's make that practical!</h2>\n<p>Let's say I open an editor and write, literally:</p>\n<pre><code>class Main { public static void main(String[] args) {\n  System.out.println(&quot;☃&quot;);\n}}\n</code></pre>\n<p>I then hit 'save'.</p>\n<p>This immediately causes some charset conversion to be applied. After all, the editor is a text-based notion, and when I save, that's: Write the contents of what I am writing to a file. Files are byte-based notions, thus, text-to-byte conversion occurs.</p>\n<p>You'll find that every non-idiotic editor will indicate, or otherwise have some option, to tell it <em>what encoding to apply when saving your file</em>.</p>\n<p>I then switch to the command line and type:</p>\n<pre><code>javac Main.java\n</code></pre>\n<p>javac opens the file and parses my source code. Source code is a text based concept, files are a byte based concept, so <em>javac applies a charset encoding to turn the file contents into characters so it can parse them</em>. And, indeed, <code>javac</code> has a <code>--charset</code> option, as it should.</p>\n<p>Fortunately, java has a built in system to store characters in a known manner in class files; no charset encoding is applied to do it, so at least here there is no char-to-byte conversion that we need to worry about.</p>\n<p>We then type:</p>\n<pre><code>java Main\n</code></pre>\n<p>And the java executable dutifully powers up and executes the code in the main method. Which is to print that string (we established java class files have sorted that out for us; not all programming systems do, but java does, fortunately!) - it does that, but <em><code>System.out</code> is a byte based concept</em>, so to do it, <code>java.exe</code> has to apply char-to-byte conversion, and thus, applies a charset encoding!</p>\n<p>The bytes then arrive at <code>/bin/bash</code> which needs to turn that back into characters, and.. applies a charset encoding.</p>\n<p>So, in this ridiculously simple act of writing a 'hello world' java app and running it:</p>\n<ul>\n<li>Our editor encoded text (our source code)</li>\n<li>Our javac decoded a file (the file with our source code).</li>\n<li>Our java executable encoded text (the snowman string)</li>\n<li>Our terminal setup decoded bytes from the java.exe process's standard out (the snowman string)</li>\n</ul>\n<p>Those last 2 steps seem particularly stupid (we have text, why are we encoding it to bytes just so that the font rendering of the terminal can immediately decode those bytes right back to characters again??) - but, remember, the setup is that standard-in and standard-out can be redirected to printers, files, FTP servers, other applications, you name it.</p>\n<p><strong>Unless each of those 4 steps picked the same encoding, you get <a href=\"https://en.wikipedia.org/wiki/Mojibake\" rel=\"nofollow noreferrer\">mojibake</a></strong>.</p>\n<p>Hopefully the entire chain all picks UTF-8, which is an encoding that can represent every single one of those ~million unicode symbols that exist. Not all charset encodings can do that. However, in practice, lots of systems (particularly windows) <strong>do not</strong> have UTF_8 and mojibake is likely to occur.</p>\n<h2>So what explains that <code>?</code>?</h2>\n<p>There are 2 different explanations. From your question it simply isn't clear which of the two explanations is correct.</p>\n<h3>Explanation 1: Mojibake</h3>\n<p>You used <code>\\ua432</code> method in your java source file. You could have just as easily written:</p>\n<pre><code>char c = 'ꐲ';\n</code></pre>\n<p>and <strong>if your editor and <code>javac</code>'s <code>--charset</code> option are in agreement</strong> this would have resulted in identical (literally, completely identical class files) results. That <code>\\u</code> thing is just a way to write such characters if you're not sure your editor's and <code>javac</code>'s charsets line up, or if the charset you are using is incapable of storing this character. (Lots of different encodings treat ASCII symbols, which includes your basic space, a through `, 0 through 9, :, dollar, underscore, dash, etcetera - the same way. So if you take some text that consists solely of ASCII characters, encode it using one encoding, then decode it using a completely different encoding, often it works fine. <strong>That still means your process is broken</strong>, but you'll want realize this unless you render non-ASCII stuff. Such as ꐲ, but even ë and € aren't ASCII!.</p>\n<p>Thus, you've eliminated any opportunity for a mismatch in the first 2 steps (writing your source file, and having <code>javac</code> compile the source file). That leaves steps 3 and 4.</p>\n<p><strong>The little terminal-esque thingies in code editors are notorious for being crappy at encodings</strong>. It's definitely possible that <code>java.exe</code> assumes the encoding the system uses is UTF_8, therefore converts your text via UTF_8 to bytes to send to its standard out, but that VSCode or where-ever you are running this actually applies, say, Cp1252 encoding or somesuch. If that's the case there's nothing you can do: Cp1252 can't represent ꐲ at all, so it's not possible to print it. Perhaps you can find a setting in VSCode to change the charset it uses to decode the bytes to characters (which it has to do to show the characters on your screen in the little terminal box thing in your editor).</p>\n<p><strong>ANSWER 1: Check your editor's setting, ensure that whatever your system's default charset encoding is, lines up. Most likely, just set everything to UTF-8</strong>.</p>\n<h2>Explanation 2: Font limits</h2>\n<p>As I mentioned, unicode has room for a million symbols. It doesn't quite have that many, but there are <strong>a lot</strong> of unicode symbols.</p>\n<p>Unicode just explains which number maps to which symbol. It doesn't actually dictate what things look like. A font does that: A font is a table that maps characters onto an image or vector instructions to actually draw these things on your display.</p>\n<p>Fonts don't necessarily have an image for <strong>every</strong> character.</p>\n<p>For example:</p>\n<blockquote>\n<p>This sentence</p>\n</blockquote>\n<blockquote>\n<p><code>This sentence</code></p>\n</blockquote>\n<p>looks completely different. Check the how in the second one, the 'i' has serifs (little horizontal bars) and in the first one, it doesn't. That's because the actual characters are identical, but, a different font is used. One font maps the 'i' character to the image 'i', the other to the image '<code>i</code>'.</p>\n<p><strong>ANSWER #2: The font used by VSCode in the 'terminal' box simply doesn't have a mapping from A432 to any image at all. Which means the font rendering engine shows 'the placeholder &quot;I have no image for this character&quot; symbol instead, which <em>could</em> be ?'. To fix this, go into your VSCode settings and change which font is used in the console view.</strong></p>\n<p>Those 'images' are generally called 'glyphs', so this condition is called a 'missing glyph'.</p>\n<p>Usually, and the unicode spec strongly suggests this, font rendering engines should use the □ (white square, 25A1), or possibly � (replacement character) to do this. It would use ? only if the font also has no glyph for either of those. Which is certainly possible - various programmer fonts don't have <em>any</em> glyphs for <em>anything</em> outside of the ASCII range. If that is the case, <code>?</code> will be used instead, which is what you're seeing!</p>\n<hr />\n<p>[1] Wellll, there's the whole topic of surrogate pairs and how one can colour an argument to say it really isn't true unicode, but OP specifically is complaining about complexity, and it doesn't apply to the exact symbol OP wants to display, so, let's not get into that.</p>\n"}],"owner":{"account_id":21925303,"reputation":3,"user_id":18048370,"display_name":"Determinante"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":76983927,"answer_count":1,"score":-3,"last_activity_date":1693078282,"creation_date":1693065048,"question_id":76983724,"body_markdown":"A question mark gets displayed on the terminal in VS code when I use a value of a Japanese katakana character in  hexadecimal. I want the character to be displayed.\r\n\r\n``` lang-java\r\nchar c=&#39;\\ua432&#39;;\r\n```\r\nWhen I display var c I get the output as:\r\n&gt;? \r\n\r\nI am a newbie to java,I use VS code and I follow the &#39;complete reference of java&#39; by Herbert Schildt\r\n\r\nThe book says: \r\n&gt;  For\r\nhexadecimal, you enter a backslash-u ( \\u), then exactly four hexadecimal digits. For\r\nexample, &#39; \\u0061&#39; is the ISO-Latin-1 &#39;a&#39; because the top byte is zero. \\ua432 &#39; is a Japanese\r\nKatakana character.\r\n\r\nI surfed SO however  I got my mind clogged with haze. I couldn&#39;t get a direct workaround for the problem, I couldn&#39;t understand those solutions. I found that the main reason maybe the\r\nconsole I am printing it to doesn&#39;t understand the character encoding I am writing out, or else the console font doesn&#39;t have a glyph for the character. I have no idea on how to solve it\r\n\r\nAll I am asking for quick and easy solution !\r\n\r\nI hope this question is not a dupe because if a solution is out there in SO I just want that to be an implementable solution.","title":"Katakana character in Java displaying as &#39;?&#39;","body":"<p>A question mark gets displayed on the terminal in VS code when I use a value of a Japanese katakana character in  hexadecimal. I want the character to be displayed.</p>\n<pre class=\"lang-java prettyprint-override\"><code>char c='\\ua432';\n</code></pre>\n<p>When I display var c I get the output as:</p>\n<blockquote>\n<p>?</p>\n</blockquote>\n<p>I am a newbie to java,I use VS code and I follow the 'complete reference of java' by Herbert Schildt</p>\n<p>The book says:</p>\n<blockquote>\n<p>For\nhexadecimal, you enter a backslash-u ( \\u), then exactly four hexadecimal digits. For\nexample, ' \\u0061' is the ISO-Latin-1 'a' because the top byte is zero. \\ua432 ' is a Japanese\nKatakana character.</p>\n</blockquote>\n<p>I surfed SO however  I got my mind clogged with haze. I couldn't get a direct workaround for the problem, I couldn't understand those solutions. I found that the main reason maybe the\nconsole I am printing it to doesn't understand the character encoding I am writing out, or else the console font doesn't have a glyph for the character. I have no idea on how to solve it</p>\n<p>All I am asking for quick and easy solution !</p>\n<p>I hope this question is not a dupe because if a solution is out there in SO I just want that to be an implementable solution.</p>\n"},{"tags":["java","spring","jdbc","crud","one-to-many"],"comments":[{"owner":{"account_id":1310169,"reputation":3813,"user_id":1258319,"accept_rate":81,"display_name":"Julian"},"score":1,"creation_date":1693085883,"post_id":76984463,"comment_id":135714290,"body_markdown":"Can you debug and see what is the value of the useId. Your `DELETE` statement and its usage looks correct to me and I suspect (without checking the behaviour myself) `userId` is null. The foreigner key relationship here has nothing to do with deletion. It would be the other way around; not allowing you to delete an `user` for as long there are `give` associated to it. Also the fact that you make two database trips one to retrieve the `giveToDelete` and one to actually delete is not not performant. I suggest you look into using `DELETE ....RETURNING` syntax.","body":"Can you debug and see what is the value of the useId. Your <code>DELETE</code> statement and its usage looks correct to me and I suspect (without checking the behaviour myself) <code>userId</code> is null. The foreigner key relationship here has nothing to do with deletion. It would be the other way around; not allowing you to delete an <code>user</code> for as long there are <code>give</code> associated to it. Also the fact that you make two database trips one to retrieve the <code>giveToDelete</code> and one to actually delete is not not performant. I suggest you look into using <code>DELETE ....RETURNING</code> syntax."},{"owner":{"account_id":1310169,"reputation":3813,"user_id":1258319,"accept_rate":81,"display_name":"Julian"},"score":1,"creation_date":1693086014,"post_id":76984463,"comment_id":135714301,"body_markdown":"Also in the `Give` table definition you don&#39;t need to specify `FOREIGN KEY` twice. Just the `CONSTRAINT FK_Give_Users FOREIGN KEY` will suffice for most (if not all) database engines.","body":"Also in the <code>Give</code> table definition you don&#39;t need to specify <code>FOREIGN KEY</code> twice. Just the <code>CONSTRAINT FK_Give_Users FOREIGN KEY</code> will suffice for most (if not all) database engines."},{"owner":{"account_id":23420828,"reputation":389,"user_id":17481061,"display_name":"Ilze"},"score":0,"creation_date":1693162539,"post_id":76984463,"comment_id":135720530,"body_markdown":"Thank you for input, so i can try to change things. I took out the  CONSTRAINT FK_Give_Users FOREIGN KEY (users_give_id) REFERENCES Users(id) and so far looks nothing is broken. I also took out @AuthenticationPrincipal UserDTO user to work only with id, and changed query to   String deleteQuery = &quot;DELETE FROM harvest.Give WHERE id = ?&quot;; and still get  error  No value supplied for the SQL parameter &#39;users_give_id&#39;: No value registered for key &#39;users_give_id&#39;","body":"Thank you for input, so i can try to change things. I took out the  CONSTRAINT FK_Give_Users FOREIGN KEY (users_give_id) REFERENCES Users(id) and so far looks nothing is broken. I also took out @AuthenticationPrincipal UserDTO user to work only with id, and changed query to   String deleteQuery = &quot;DELETE FROM harvest.Give WHERE id = ?&quot;; and still get  error  No value supplied for the SQL parameter &#39;users_give_id&#39;: No value registered for key &#39;users_give_id&#39;"},{"owner":{"account_id":23420828,"reputation":389,"user_id":17481061,"display_name":"Ilze"},"score":0,"creation_date":1693166755,"post_id":76984463,"comment_id":135720962,"body_markdown":"Ok, i fix it buy changing return type to void. Thank you, its helpful to discuss.","body":"Ok, i fix it buy changing return type to void. Thank you, its helpful to discuss."}],"owner":{"account_id":23420828,"reputation":389,"user_id":17481061,"display_name":"Ilze"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693077832,"creation_date":1693077029,"question_id":76984463,"body_markdown":"im writing application using jdbc and not using JPA methods. Somehow i cannot find sources and a way how to operate with relations. In this case i want to delete item in one table which has one-many relationship with other table, like this \r\n\r\n```\r\nCREATE TABLE Users\r\n(\r\n    id         BIGINT UNSIGNED NOT NULL AUTO_INCREMENT PRIMARY KEY,\r\n    username VARCHAR(50) NOT NULL,\r\n    email      VARCHAR(100) NOT NULL,\r\n    password   VARCHAR(255) DEFAULT NULL,\r\n    enabled    BOOLEAN DEFAULT FALSE,\r\n    non_locked BOOLEAN DEFAULT TRUE,\r\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\r\n    image_url  VARCHAR(255) DEFAULT &#39;https://cdn-icons-png.flaticon.com/512/149/149071.png&#39;,\r\n    CONSTRAINT UQ_Users_Email UNIQUE (email)\r\n);\r\n\r\nDROP TABLE IF EXISTS Give;\r\n\r\nCREATE TABLE Give (\r\n                      id BIGINT PRIMARY KEY AUTO_INCREMENT,\r\n                      date DATETIME DEFAULT CURRENT_TIMESTAMP,\r\n                      type VARCHAR(255) NOT NULL,\r\n                      amount DOUBLE NOT NULL,\r\n                      amount_type VARCHAR(10) NOT NULL,\r\n                      description VARCHAR(500),\r\n                      img_url  VARCHAR(255),\r\n                      location VARCHAR(500),\r\n                      status VARCHAR(255) NOT NULL,\r\n                      users_give_id BIGINT UNSIGNED NOT NULL,\r\n                      FOREIGN KEY (users_give_id) REFERENCES Users(id),\r\n                      CONSTRAINT FK_Give_Users FOREIGN KEY (users_give_id) REFERENCES Users(id)\r\n);\r\n```\r\n\r\nnow in repository implementation im executing the deletion \r\n\r\n```\r\n@Override\r\n    public Give deleteGive(Long id, Long userId) {\r\n        try {\r\nGive giveToDelete = get(id);\r\n            String deleteQuery = &quot;DELETE FROM Give WHERE id = ? AND users_give_id = ?&quot;;\r\n            int rowsAffected = jdbc.getJdbcTemplate().update(deleteQuery, id, userId);\r\n            if (rowsAffected == 0) {\r\n                throw new ApiException(&quot;No Give found by id: &quot; + id);\r\n            }\r\n            return giveToDelete;\r\n        } catch (EmptyResultDataAccessException exception) {\r\n            throw new ApiException(&quot;No Give found by id: &quot; + id);\r\n        } catch (Exception exception) {\r\n            log.error(exception.getMessage());\r\n            throw new ApiException(&quot;An error occurred. Please try again.&quot;);\r\n        }\r\n    }\r\n```\r\n\r\ni suspect that the way i handle users_give_id is not right, since its relation id, which also then needs to be deleted. Maybe someone is more familiar with jdbc and can explain the right approach to delete item and relation as well, otherwise, executing this i get error &quot;: No value supplied for the SQL parameter &#39;users_give_id&#39;: No value registered for key &#39;users_give_id&#39;&quot;. Would really appreciate even suggestion or some similar example with deletion, i can work on it.\r\n\r\nFor reference my controller method \r\n\r\n```\r\n    @DeleteMapping(&quot;/give/delete/{id}&quot;)\r\n    public ResponseEntity&lt;HttpResponse&gt; deleteGive(@AuthenticationPrincipal UserDTO user, @PathVariable(&quot;id&quot;) Long id) {\r\n        Long userId = user.getId();\r\n        Give deletedGive = giveService.deleteGive(id, userId);\r\n        return ResponseEntity.ok().body(\r\n                HttpResponse.builder()\r\n                        .timeStamp(now().toString())\r\n                        .data(of(&quot;give&quot;, deletedGive))\r\n                        .message(&quot;Give deleted&quot;)\r\n                        .status(OK)\r\n                        .statusCode(OK.value())\r\n                        .build());\r\n    }\r\n```","title":"Deleting item with jdbc from table with relations","body":"<p>im writing application using jdbc and not using JPA methods. Somehow i cannot find sources and a way how to operate with relations. In this case i want to delete item in one table which has one-many relationship with other table, like this</p>\n<pre><code>CREATE TABLE Users\n(\n    id         BIGINT UNSIGNED NOT NULL AUTO_INCREMENT PRIMARY KEY,\n    username VARCHAR(50) NOT NULL,\n    email      VARCHAR(100) NOT NULL,\n    password   VARCHAR(255) DEFAULT NULL,\n    enabled    BOOLEAN DEFAULT FALSE,\n    non_locked BOOLEAN DEFAULT TRUE,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    image_url  VARCHAR(255) DEFAULT 'https://cdn-icons-png.flaticon.com/512/149/149071.png',\n    CONSTRAINT UQ_Users_Email UNIQUE (email)\n);\n\nDROP TABLE IF EXISTS Give;\n\nCREATE TABLE Give (\n                      id BIGINT PRIMARY KEY AUTO_INCREMENT,\n                      date DATETIME DEFAULT CURRENT_TIMESTAMP,\n                      type VARCHAR(255) NOT NULL,\n                      amount DOUBLE NOT NULL,\n                      amount_type VARCHAR(10) NOT NULL,\n                      description VARCHAR(500),\n                      img_url  VARCHAR(255),\n                      location VARCHAR(500),\n                      status VARCHAR(255) NOT NULL,\n                      users_give_id BIGINT UNSIGNED NOT NULL,\n                      FOREIGN KEY (users_give_id) REFERENCES Users(id),\n                      CONSTRAINT FK_Give_Users FOREIGN KEY (users_give_id) REFERENCES Users(id)\n);\n</code></pre>\n<p>now in repository implementation im executing the deletion</p>\n<pre><code>@Override\n    public Give deleteGive(Long id, Long userId) {\n        try {\nGive giveToDelete = get(id);\n            String deleteQuery = &quot;DELETE FROM Give WHERE id = ? AND users_give_id = ?&quot;;\n            int rowsAffected = jdbc.getJdbcTemplate().update(deleteQuery, id, userId);\n            if (rowsAffected == 0) {\n                throw new ApiException(&quot;No Give found by id: &quot; + id);\n            }\n            return giveToDelete;\n        } catch (EmptyResultDataAccessException exception) {\n            throw new ApiException(&quot;No Give found by id: &quot; + id);\n        } catch (Exception exception) {\n            log.error(exception.getMessage());\n            throw new ApiException(&quot;An error occurred. Please try again.&quot;);\n        }\n    }\n</code></pre>\n<p>i suspect that the way i handle users_give_id is not right, since its relation id, which also then needs to be deleted. Maybe someone is more familiar with jdbc and can explain the right approach to delete item and relation as well, otherwise, executing this i get error &quot;: No value supplied for the SQL parameter 'users_give_id': No value registered for key 'users_give_id'&quot;. Would really appreciate even suggestion or some similar example with deletion, i can work on it.</p>\n<p>For reference my controller method</p>\n<pre><code>    @DeleteMapping(&quot;/give/delete/{id}&quot;)\n    public ResponseEntity&lt;HttpResponse&gt; deleteGive(@AuthenticationPrincipal UserDTO user, @PathVariable(&quot;id&quot;) Long id) {\n        Long userId = user.getId();\n        Give deletedGive = giveService.deleteGive(id, userId);\n        return ResponseEntity.ok().body(\n                HttpResponse.builder()\n                        .timeStamp(now().toString())\n                        .data(of(&quot;give&quot;, deletedGive))\n                        .message(&quot;Give deleted&quot;)\n                        .status(OK)\n                        .statusCode(OK.value())\n                        .build());\n    }\n</code></pre>\n"},{"tags":["java","string","tabs","string-formatting"],"comments":[{"owner":{"account_id":4964280,"reputation":4147,"user_id":3994197,"accept_rate":38,"display_name":"Vishal Gajera"},"score":0,"creation_date":1497118096,"post_id":44476433,"comment_id":75948320,"body_markdown":"can you please display your code little bit more ? because as per seeing this 1-line, all looks good.","body":"can you please display your code little bit more ? because as per seeing this 1-line, all looks good."},{"owner":{"account_id":10017425,"reputation":1,"user_id":7408194,"accept_rate":0,"display_name":"MaskulinerJunge"},"score":0,"creation_date":1497127530,"post_id":44476433,"comment_id":75950948,"body_markdown":"My actually question was how I can make a String.format() of \\t\\t\\t because I heard that this is not very precise. I can send you the code private because of my teacher if you want","body":"My actually question was how I can make a String.format() of \\t\\t\\t because I heard that this is not very precise. I can send you the code private because of my teacher if you want"}],"owner":{"account_id":10017425,"reputation":1,"user_id":7408194,"accept_rate":0,"display_name":"MaskulinerJunge"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693077352,"creation_date":1497117575,"question_id":44476433,"body_markdown":"I have a little bug to fix. You can see in the Picture 3 Months outputted. \r\n\r\n![That is the result what I get][1]\r\n\r\nSo that is my code how I display this result. I tried String.format but I don&#39;t know how to use it at this tabs. I tried it with these tabs but unfortunately I found out that the format for the first Month (January) is shorter than the other months. All months use 3 tabs but not the first one. \r\n\r\n    public LinkedList&lt;String&gt; buildMonth(int month) {\r\n        int lengthOfMonth = calender.getLengthOfMonth(this.year, month);\r\n        LinkedList&lt;String&gt; monthList = new LinkedList&lt;&gt;();\r\n        monthList.add(String.format(&quot;%-10s&quot;,monthname[month]) + String.format(&quot;%-17s&quot;, this.year));\r\n\r\n        for (int day = 1; day &lt;= lengthOfMonth; day++) {\r\n            int daynumber = kf.daynumber(day, month, this.year);\r\n            int weekday = kf.weekday_in_year(this.year, daynumber);\r\n        //weekday give me a number where I can find out which weekname\r\n            \r\n                String monthPlan = weekdayShort[weekday] + &quot;|&quot; + String.format(&quot;%02d&quot;,day) +&quot;|\\t\\t\\t|&quot; +String.format(&quot;%-10s&quot;,calender.getTwoDigit(daynumber));\r\n                monthList.add(monthPlan);\r\n            \r\n\r\n        }\r\n        return monthList;\r\n    }\r\n\r\nI hope anyone can help and sorry for my bad English.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/lLrT0.png","title":"Define Stringformat for tabs?","body":"<p>I have a little bug to fix. You can see in the Picture 3 Months outputted.</p>\n<p><img src=\"https://i.stack.imgur.com/lLrT0.png\" alt=\"That is the result what I get\" /></p>\n<p>So that is my code how I display this result. I tried String.format but I don't know how to use it at this tabs. I tried it with these tabs but unfortunately I found out that the format for the first Month (January) is shorter than the other months. All months use 3 tabs but not the first one.</p>\n<pre><code>public LinkedList&lt;String&gt; buildMonth(int month) {\n    int lengthOfMonth = calender.getLengthOfMonth(this.year, month);\n    LinkedList&lt;String&gt; monthList = new LinkedList&lt;&gt;();\n    monthList.add(String.format(&quot;%-10s&quot;,monthname[month]) + String.format(&quot;%-17s&quot;, this.year));\n\n    for (int day = 1; day &lt;= lengthOfMonth; day++) {\n        int daynumber = kf.daynumber(day, month, this.year);\n        int weekday = kf.weekday_in_year(this.year, daynumber);\n    //weekday give me a number where I can find out which weekname\n        \n            String monthPlan = weekdayShort[weekday] + &quot;|&quot; + String.format(&quot;%02d&quot;,day) +&quot;|\\t\\t\\t|&quot; +String.format(&quot;%-10s&quot;,calender.getTwoDigit(daynumber));\n            monthList.add(monthPlan);\n        \n\n    }\n    return monthList;\n}\n</code></pre>\n<p>I hope anyone can help and sorry for my bad English.</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":4,"creation_date":1693071087,"post_id":76984082,"comment_id":135712777,"body_markdown":"Do you need that method to be accessible outside of the current package? If not, give it the default visibility (instead of making it `public`). If you do need it outside of the current package (which seems like something of a design flaw), then just make `java.sql` available via a `transitive` keyword in `module-info.java`","body":"Do you need that method to be accessible outside of the current package? If not, give it the default visibility (instead of making it <code>public</code>). If you do need it outside of the current package (which seems like something of a design flaw), then just make <code>java.sql</code> available via a <code>transitive</code> keyword in <code>module-info.java</code>"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":3,"creation_date":1693071118,"post_id":76984082,"comment_id":135712780,"body_markdown":"Off-topic: please use proper naming conventions when posting your code","body":"Off-topic: please use proper naming conventions when posting your code"},{"owner":{"account_id":4374266,"reputation":487,"user_id":3567690,"accept_rate":29,"display_name":"F.M"},"score":2,"creation_date":1693071928,"post_id":76984082,"comment_id":135712876,"body_markdown":"@James_D Thanks a lot. Your advice solved my problem.","body":"@James_D Thanks a lot. Your advice solved my problem."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1693073212,"post_id":76984082,"comment_id":135713032,"body_markdown":"Created an answer from that comment.","body":"Created an answer from that comment."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1693095190,"post_id":76984082,"comment_id":135714964,"body_markdown":"By the way: (a) you seem to be needlessly re-inventing [`DataSource`](https://docs.oracle.com/en/java/javase/20/docs/api/java.sql/javax/sql/DataSource.html), and (b) `Class.forName` has not been needed for many years — in modern Java, JDBC drivers are automatically loaded via the [Java Service Provider Interface (SPI)](https://en.wikipedia.org/wiki/Service_provider_interface).","body":"By the way: (a) you seem to be needlessly re-inventing <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.sql/javax/sql/DataSource.html\" rel=\"nofollow noreferrer\"><code>DataSource</code></a>, and (b) <code>Class.forName</code> has not been needed for many years — in modern Java, JDBC drivers are automatically loaded via the <a href=\"https://en.wikipedia.org/wiki/Service_provider_interface\" rel=\"nofollow noreferrer\">Java Service Provider Interface (SPI)</a>."}],"answers":[{"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1693073193,"creation_date":1693073193,"answer_id":76984236,"question_id":76984082,"body_markdown":"The warning occurs because you have a `public` method, `connect()`, defined in your public `DbConnect` class that has a return type of `Connection`. The method being `public` indicates the intention that the method can be called from anywhere, including any classes in other modules that require your module `myProject`. However, those classes will not be able to do so, because they will not be able to access the `Connection` class, which is in the `java.sql` module.\r\n\r\nYou probably don&#39;t need that method to be so widely accessible. The fact that your data is persisted to a relational database is, to a reasonable degree, an implementation detail that really shouldn&#39;t be exposed to other layers in your application.\r\n\r\nYou likely have some kind of data access class which accesses and persists domain objects and makes them available to other layers in your application (e.g. the presentation layer, with the UI etc.):\r\n\r\n    package myPackage;\r\n    \r\n    public class DataAccessor {\r\n    \r\n        private final Connection connection ;\r\n    \r\n        public DataAccessor() {\r\n            DbConnect dbConnect = new DbConnect();\r\n            this.connection = dbConnect.connect();\r\n        }\r\n    \r\n        public List&lt;Foo&gt; getAllFoos() throws Exception {\r\n            Statement statement = connection.createStatement();\r\n            ResultSet result = statement.executeQuery(&quot;SELECT * FROM foo&quot;);\r\n            List&lt;Foo&gt; foos = new ArrayList&lt;&gt;();\r\n            while (result.next()) {\r\n                Foo foo = new Foo();\r\n                foo.setBar(result.getString(&quot;bar&quot;))\r\n                // ...\r\n                foos.add(foo);\r\n            }\r\n            result.close();\r\n            statement.close();\r\n            return foos;\r\n        }\r\n    \r\n        // etc\r\n    }\r\n\r\nIn almost all cases, any data access classes belong in the same package as the `DbConnect` class, and the `DbConnect.connect()` method will not be needed anywhere outside that package. That means the `connect()` method does not need to be `public`, and it is general good practice to limit visibility only to the extent needed.\r\n\r\nIn this common case you can make the method have the default &quot;package-private&quot; visibility, which will remove the warning:\r\n\r\n    public class DbConnect {\r\n\r\n        private Connection connection;\r\n    \r\n        Connection connect() {\r\n            if (connection == null)\r\n            {         \r\n                try {\r\n                    Class.forName(databaseDriver);\r\n                    connection = (Connection) DriverManager.getConnection\r\n                            (databaseURL, getProperties());\r\n                }\r\n                catch (ClassNotFoundException | SQLException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n            return connection;\r\n        } \r\n    \r\n    }\r\n\r\nIn the (unlikely) event you really want to make the `connect()` method available publicly, you would need to make the `java.sql` module available to clients of your module. You can do this by requiring that module *transitively*:\r\n\r\n    module myProject{\r\n       requires transitive javafx.graphics;\r\n       requires javafx.controls;\r\n       requires javafx.fxml;\r\n       requires javafx.base;\r\n       requires javafx.web;\r\n       requires transitive java.sql;\r\n    \r\n       opens mypackage to javafx.fxml;\r\n       exports mypackage;\r\n    }\r\n\r\nBut again, it is quite unlikely you would need to do that, or need to structure your application to make that necessary.\r\n\r\n","title":"Why do I get java.sql may not be accessible to clients due to missing &#39;requires transitive&#39;","body":"<p>The warning occurs because you have a <code>public</code> method, <code>connect()</code>, defined in your public <code>DbConnect</code> class that has a return type of <code>Connection</code>. The method being <code>public</code> indicates the intention that the method can be called from anywhere, including any classes in other modules that require your module <code>myProject</code>. However, those classes will not be able to do so, because they will not be able to access the <code>Connection</code> class, which is in the <code>java.sql</code> module.</p>\n<p>You probably don't need that method to be so widely accessible. The fact that your data is persisted to a relational database is, to a reasonable degree, an implementation detail that really shouldn't be exposed to other layers in your application.</p>\n<p>You likely have some kind of data access class which accesses and persists domain objects and makes them available to other layers in your application (e.g. the presentation layer, with the UI etc.):</p>\n<pre><code>package myPackage;\n\npublic class DataAccessor {\n\n    private final Connection connection ;\n\n    public DataAccessor() {\n        DbConnect dbConnect = new DbConnect();\n        this.connection = dbConnect.connect();\n    }\n\n    public List&lt;Foo&gt; getAllFoos() throws Exception {\n        Statement statement = connection.createStatement();\n        ResultSet result = statement.executeQuery(&quot;SELECT * FROM foo&quot;);\n        List&lt;Foo&gt; foos = new ArrayList&lt;&gt;();\n        while (result.next()) {\n            Foo foo = new Foo();\n            foo.setBar(result.getString(&quot;bar&quot;))\n            // ...\n            foos.add(foo);\n        }\n        result.close();\n        statement.close();\n        return foos;\n    }\n\n    // etc\n}\n</code></pre>\n<p>In almost all cases, any data access classes belong in the same package as the <code>DbConnect</code> class, and the <code>DbConnect.connect()</code> method will not be needed anywhere outside that package. That means the <code>connect()</code> method does not need to be <code>public</code>, and it is general good practice to limit visibility only to the extent needed.</p>\n<p>In this common case you can make the method have the default &quot;package-private&quot; visibility, which will remove the warning:</p>\n<pre><code>public class DbConnect {\n\n    private Connection connection;\n\n    Connection connect() {\n        if (connection == null)\n        {         \n            try {\n                Class.forName(databaseDriver);\n                connection = (Connection) DriverManager.getConnection\n                        (databaseURL, getProperties());\n            }\n            catch (ClassNotFoundException | SQLException e) {\n                e.printStackTrace();\n            }\n        }\n        return connection;\n    } \n\n}\n</code></pre>\n<p>In the (unlikely) event you really want to make the <code>connect()</code> method available publicly, you would need to make the <code>java.sql</code> module available to clients of your module. You can do this by requiring that module <em>transitively</em>:</p>\n<pre><code>module myProject{\n   requires transitive javafx.graphics;\n   requires javafx.controls;\n   requires javafx.fxml;\n   requires javafx.base;\n   requires javafx.web;\n   requires transitive java.sql;\n\n   opens mypackage to javafx.fxml;\n   exports mypackage;\n}\n</code></pre>\n<p>But again, it is quite unlikely you would need to do that, or need to structure your application to make that necessary.</p>\n"}],"owner":{"account_id":4374266,"reputation":487,"user_id":3567690,"accept_rate":29,"display_name":"F.M"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76984236,"answer_count":1,"score":2,"last_activity_date":1693074762,"creation_date":1693070799,"question_id":76984082,"body_markdown":"I used javafx and sdk20 for my project. I have some warnings in using database.(My IDE is eclipse)\r\n\r\nthe warnings are:\r\n\r\n    Description\tResource\tPath\tLocation\tType\r\n    The type Connection from module java.sql may not be accessible to clients due to missing  &#39;requires transitive&#39;\tdbConnect.java\t/myProject/src/mypackage line 25\tJava Problem\r\n\r\n\r\n\r\n\r\nthe db.java:\r\n\r\n    package mypackage;;\r\n    import java.io.IOException;\r\n    import java.sql.*;     // Use classes in java.sql package\r\n    import java.util.Properties;\r\n\r\n    public class dbConnect {\r\n\t // init database constants\r\n     static final String databaseDriver = &quot;oracle.jdbc.driver.OracleDriver&quot;;\r\n     static final String databaseURL = &quot;jdbc:oracle:thin:@localhost:1521:xe&quot;;\r\n     static final String username = &quot;system&quot;;\r\n     static final String pass = &quot;oracle&quot;;\r\n     private Connection connection;\r\n     private Properties properties;\r\n     private Statement statement;\r\n    \r\n    /**\r\n     * Connect to the database  \r\n     * \r\n     * @return Connection\r\n     */\r\n    public Connection connect()\r\n    {\r\n        if (connection == null)\r\n        {         \r\n            try {\r\n                Class.forName(databaseDriver);\r\n                connection = (Connection) DriverManager.getConnection\r\n                \t\t(databaseURL, getProperties());\r\n            }\r\n            catch (ClassNotFoundException | SQLException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n        return connection;\r\n    }   \r\n    .\r\n    .\r\n    .\r\n\r\nmodjule-info.java\r\n\r\n    module myProject{\r\n\t   requires transitive javafx.graphics;\r\n\t   requires javafx.controls;\r\n\t   requires javafx.fxml;\r\n\t   requires javafx.base;\r\n\t   requires javafx.web;\r\n\t   requires java.sql;\r\n\r\n\t   opens mypackage to javafx.fxml;\r\n\t   exports mypackage;\r\n    }\r\n\r\nI have these warnings for ResultSet and PreparedStatement, too. I didn&#39;t type that section of code.","title":"Why do I get java.sql may not be accessible to clients due to missing &#39;requires transitive&#39;","body":"<p>I used javafx and sdk20 for my project. I have some warnings in using database.(My IDE is eclipse)</p>\n<p>the warnings are:</p>\n<pre><code>Description Resource    Path    Location    Type\nThe type Connection from module java.sql may not be accessible to clients due to missing  'requires transitive' dbConnect.java  /myProject/src/mypackage line 25    Java Problem\n</code></pre>\n<p>the db.java:</p>\n<pre><code>package mypackage;;\nimport java.io.IOException;\nimport java.sql.*;     // Use classes in java.sql package\nimport java.util.Properties;\n\npublic class dbConnect {\n // init database constants\n static final String databaseDriver = &quot;oracle.jdbc.driver.OracleDriver&quot;;\n static final String databaseURL = &quot;jdbc:oracle:thin:@localhost:1521:xe&quot;;\n static final String username = &quot;system&quot;;\n static final String pass = &quot;oracle&quot;;\n private Connection connection;\n private Properties properties;\n private Statement statement;\n\n/**\n * Connect to the database  \n * \n * @return Connection\n */\npublic Connection connect()\n{\n    if (connection == null)\n    {         \n        try {\n            Class.forName(databaseDriver);\n            connection = (Connection) DriverManager.getConnection\n                    (databaseURL, getProperties());\n        }\n        catch (ClassNotFoundException | SQLException e) {\n            e.printStackTrace();\n        }\n    }\n    return connection;\n}   \n.\n.\n.\n</code></pre>\n<p>modjule-info.java</p>\n<pre><code>module myProject{\n   requires transitive javafx.graphics;\n   requires javafx.controls;\n   requires javafx.fxml;\n   requires javafx.base;\n   requires javafx.web;\n   requires java.sql;\n\n   opens mypackage to javafx.fxml;\n   exports mypackage;\n}\n</code></pre>\n<p>I have these warnings for ResultSet and PreparedStatement, too. I didn't type that section of code.</p>\n"},{"tags":["java","mongodb","spring-boot","mongodb-query","mongotemplate"],"answers":[{"tags":[],"owner":{"account_id":1221675,"reputation":4074,"user_id":1188208,"accept_rate":90,"display_name":"Luis Lavieri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1693074733,"creation_date":1693074733,"answer_id":76984316,"question_id":76979247,"body_markdown":"As suggested in [this](https://stackoverflow.com/a/55116346/1188208) post, the answer is to override the `getMappingBasePackages()` in the mongo config file:\r\n\r\n\r\n    @Override\r\n    protected Collection&lt;String&gt; getMappingBasePackages()\r\n    {\r\n        return Arrays.asList(&quot;com.myapp.models&quot;);\r\n    }","title":"MappingInstantiationException from MongoDB while trying to update a collection with an abstract class","body":"<p>As suggested in <a href=\"https://stackoverflow.com/a/55116346/1188208\">this</a> post, the answer is to override the <code>getMappingBasePackages()</code> in the mongo config file:</p>\n<pre><code>@Override\nprotected Collection&lt;String&gt; getMappingBasePackages()\n{\n    return Arrays.asList(&quot;com.myapp.models&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":1221675,"reputation":4074,"user_id":1188208,"accept_rate":90,"display_name":"Luis Lavieri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76984316,"answer_count":1,"score":0,"last_activity_date":1693074733,"creation_date":1692983219,"question_id":76979247,"body_markdown":"So I&#39;m having this issue where I&#39;m using a single collection to store different  classes that inherit from the same abstract class wrapped in another class. I can insert these records without issue, but when I need to update a common property it fails. What can I do in this case?\r\n\r\n**Error:**\r\n\r\n&gt; &quot;Failed to instantiate com.models.Task using constructor\r\n&gt; public com.models.Task() with arguments &quot;\r\n\r\n**Classes**:\r\n    \r\n    //wrapper\r\n    @Data\r\n    @Document(collection=&quot;tasks&quot;)\r\n    public class WrapperTask {\r\n        @Id\r\n        private ObjectId id;\r\n        @BsonProperty(useDiscriminator = true)\r\n        private Task task;\r\n\r\n        public WrapperTask() {\r\n        }\r\n\r\n        public String getId() {\r\n            return Utils.ObjectId(this.id);\r\n        }\r\n    }\r\n\r\n    //abstract\r\n    @Data\r\n    @JsonTypeInfo( use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.PROPERTY, property = &quot;type&quot;)\r\n    @JsonSubTypes({ \r\n        @Type(value = UploadTask.class, name = &quot;uploadTask&quot;),\r\n        //more classes\r\n    })\r\n    @BsonDiscriminator\r\n    public abstract class Task {\r\n        private TaskStatus status;\r\n        public int totalCount;\r\n        public int completedCount;\r\n\r\n        public Task() {\r\n            this.status = TaskStatus.NEW;\r\n        }\r\n    }\r\n\r\n    //child\r\n    @Data\r\n    @EqualsAndHashCode(callSuper = true)\r\n    @Document(collection = &quot;tasks&quot;)\r\n    @TypeAlias(&quot;uploadTask&quot;)\r\n    @BsonDiscriminator\r\n    public class UploadTask extends Task {\r\n\r\n        private LinkedList&lt;Document&gt; documents = new LinkedList&lt;&gt;();\r\n\r\n        public UploadTask(int totalCount) {\r\n            super();\r\n            this.totalCount = totalCount;\r\n        }\r\n\r\n        public UploadTask() {\r\n            super();\r\n        }\r\n    }\r\n\r\n**Logic:**\r\n\r\n    Query query = new Query(Criteria.where(&quot;_id&quot;).is(taskId));\r\n    Update update = new Update();\r\n    update = update.set(&quot;task.status&quot;, &quot;some status&quot;);\r\n        \r\n    if (taskType == UploadTask.class) {\r\n        Criteria criteria = Criteria.where(&quot;document.index&quot;).is(index);           \r\n        update = update.set(&quot;task.documents.$[document].status&quot;, &quot;some status&quot;);\r\n        update = update.set(&quot;task.documents.$[document].statusMessage&quot;, &quot;some message&quot;).filterArray(criteria);    \r\n    }\r\n\r\n    mongoOperations.findAndModify(query, update, options().upsert(false), WrapperTask.class);\r\n\r\nSo, how do I make this update work?\r\n\r\nThanks","title":"MappingInstantiationException from MongoDB while trying to update a collection with an abstract class","body":"<p>So I'm having this issue where I'm using a single collection to store different  classes that inherit from the same abstract class wrapped in another class. I can insert these records without issue, but when I need to update a common property it fails. What can I do in this case?</p>\n<p><strong>Error:</strong></p>\n<blockquote>\n<p>&quot;Failed to instantiate com.models.Task using constructor\npublic com.models.Task() with arguments &quot;</p>\n</blockquote>\n<p><strong>Classes</strong>:</p>\n<pre><code>//wrapper\n@Data\n@Document(collection=&quot;tasks&quot;)\npublic class WrapperTask {\n    @Id\n    private ObjectId id;\n    @BsonProperty(useDiscriminator = true)\n    private Task task;\n\n    public WrapperTask() {\n    }\n\n    public String getId() {\n        return Utils.ObjectId(this.id);\n    }\n}\n\n//abstract\n@Data\n@JsonTypeInfo( use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.PROPERTY, property = &quot;type&quot;)\n@JsonSubTypes({ \n    @Type(value = UploadTask.class, name = &quot;uploadTask&quot;),\n    //more classes\n})\n@BsonDiscriminator\npublic abstract class Task {\n    private TaskStatus status;\n    public int totalCount;\n    public int completedCount;\n\n    public Task() {\n        this.status = TaskStatus.NEW;\n    }\n}\n\n//child\n@Data\n@EqualsAndHashCode(callSuper = true)\n@Document(collection = &quot;tasks&quot;)\n@TypeAlias(&quot;uploadTask&quot;)\n@BsonDiscriminator\npublic class UploadTask extends Task {\n\n    private LinkedList&lt;Document&gt; documents = new LinkedList&lt;&gt;();\n\n    public UploadTask(int totalCount) {\n        super();\n        this.totalCount = totalCount;\n    }\n\n    public UploadTask() {\n        super();\n    }\n}\n</code></pre>\n<p><strong>Logic:</strong></p>\n<pre><code>Query query = new Query(Criteria.where(&quot;_id&quot;).is(taskId));\nUpdate update = new Update();\nupdate = update.set(&quot;task.status&quot;, &quot;some status&quot;);\n    \nif (taskType == UploadTask.class) {\n    Criteria criteria = Criteria.where(&quot;document.index&quot;).is(index);           \n    update = update.set(&quot;task.documents.$[document].status&quot;, &quot;some status&quot;);\n    update = update.set(&quot;task.documents.$[document].statusMessage&quot;, &quot;some message&quot;).filterArray(criteria);    \n}\n\nmongoOperations.findAndModify(query, update, options().upsert(false), WrapperTask.class);\n</code></pre>\n<p>So, how do I make this update work?</p>\n<p>Thanks</p>\n"},{"tags":["java","string","sorting","date","hashmap"],"comments":[{"owner":{"account_id":11683,"reputation":1438169,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":6,"creation_date":1497131717,"post_id":44478426,"comment_id":75951921,"body_markdown":"You don&#39;t sort a hashmap - they&#39;re unordered (or rather, the ordering isn&#39;t specified, and can change).","body":"You don&#39;t sort a hashmap - they&#39;re unordered (or rather, the ordering isn&#39;t specified, and can change)."},{"owner":{"account_id":2774190,"reputation":13369,"user_id":3195526,"accept_rate":71,"display_name":"Paul Hicks"},"score":1,"creation_date":1497131886,"post_id":44478426,"comment_id":75951956,"body_markdown":"Are you looking for the implementation of a method along the lines of `List&lt;Event&gt; getEventsOrderedByDate(Map&lt;String, Event&gt; events)`?","body":"Are you looking for the implementation of a method along the lines of <code>List&lt;Event&gt; getEventsOrderedByDate(Map&lt;String, Event&gt; events)</code>?"},{"owner":{"account_id":9779820,"reputation":9709,"user_id":7248342,"display_name":"Thomas Fritsch"},"score":1,"creation_date":1497132470,"post_id":44478426,"comment_id":75952078,"body_markdown":"You can&#39;t sort a `HashMap`. You should use a [`TreeMap`](https://docs.oracle.com/javase/8/docs/api/java/util/TreeMap.html) equipped with a specialized `Comparator`.","body":"You can&#39;t sort a <code>HashMap</code>. You should use a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/TreeMap.html\" rel=\"nofollow noreferrer\"><code>TreeMap</code></a> equipped with a specialized <code>Comparator</code>."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1497147815,"post_id":44478426,"comment_id":75954418,"body_markdown":"Handling dates and sorting maps have been addressed many times on Stack Overflow. Always search thoroughly before posting.","body":"Handling dates and sorting maps have been addressed many times on Stack Overflow. Always search thoroughly before posting."}],"answers":[{"tags":[],"owner":{"account_id":9326131,"reputation":19,"user_id":6923376,"display_name":"anish kumaramangalam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1497136845,"creation_date":1497136845,"answer_id":44478978,"question_id":44478426,"body_markdown":"-----\r\n\r\nIf you have to use a HashMap you could put your keys in a Float list or vector and sort your keys and Keep your HashMap.\r\n\r\n-----\r\n\r\n    java.util.HashMap&lt;String, Event&gt; holidayMap = new java.util.HashMap&lt;String, Event&gt;();\r\n\r\n\tholidayMap.put(&quot;01.05&quot;, new Event(&quot;1. Mai&quot;));\r\n\tholidayMap.put(&quot;14.02&quot;, new Event(&quot;Valentinseday&quot;);\r\n\t\t\r\n\tjava.util.Vector&lt;Float&gt; v = new java.util.Vector&lt;Float&gt;();\r\n\t\r\n    // Use an Iterator to loop through the HashMap and add it to the Vector\r\n\tIterator it = holidayMap.entrySet().iterator();\r\n\twhile (it.hasNext()) {\r\n\t    Map.Entry pair = (Map.Entry)it.next();\t        \r\n        v.add(Integer.valueOf((String) pair.getKey()));\r\n\t        \r\n    }\r\n\t    \r\n    // now all you have to do is sort your keys\r\n\tBubbleSort s = new BubbleSort(v);\r\n\r\n**Use your sorted keys in the list or Vector get sorted Map data on demand**\r\nBut I do suggest you use LinkedList or Binary Tree\r\n\r\n","title":"How to sort a Hashmap by key String?","body":"<hr>\n\n<p>If you have to use a HashMap you could put your keys in a Float list or vector and sort your keys and Keep your HashMap.</p>\n\n<hr>\n\n<pre><code>java.util.HashMap&lt;String, Event&gt; holidayMap = new java.util.HashMap&lt;String, Event&gt;();\n\nholidayMap.put(\"01.05\", new Event(\"1. Mai\"));\nholidayMap.put(\"14.02\", new Event(\"Valentinseday\");\n\njava.util.Vector&lt;Float&gt; v = new java.util.Vector&lt;Float&gt;();\n\n// Use an Iterator to loop through the HashMap and add it to the Vector\nIterator it = holidayMap.entrySet().iterator();\nwhile (it.hasNext()) {\n    Map.Entry pair = (Map.Entry)it.next();          \n    v.add(Integer.valueOf((String) pair.getKey()));\n\n}\n\n// now all you have to do is sort your keys\nBubbleSort s = new BubbleSort(v);\n</code></pre>\n\n<p><strong>Use your sorted keys in the list or Vector get sorted Map data on demand</strong>\nBut I do suggest you use LinkedList or Binary Tree</p>\n"},{"tags":[],"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1497138358,"creation_date":1497137976,"answer_id":44479091,"question_id":44478426,"body_markdown":"There are two problems with this. I can solve one, but not the other precisely to your requirements as stated.\r\n\r\nThe easy one is how to sort the strings as date values. The solution is to use the built-in `MonthDay` class. This has a natural ordering from January 1 through December 31. It’s straightforward to parse your strings into `MonthDay` objects.\r\n\r\nThe part I cannot do is sort a `HashMap`. You cannot control the order of the entries in a `HashMap`. Suggestions include:\r\n\r\n - Take out all the data from the `HashMap` into a list (or array) and sort it.\r\n - Use a `SortedMap`, typically a `TreeMap` as Thomas Fritsch suggested in a comment\r\n - The closest I can get: Use a `LinkedHashMap`. You can control the order as either the insertion order or the access order. To sort the map, you need to sort the keys and then for each key in turn either remove it and reinsert, or just query its mapped value. `LinkedHashMap` is a subclass of `HashMap`, so it does count as one. Though this may give you what you asked for, it sounds a bit absurd in my ears.\r\n\r\nJust for illustration and aware that it conflicts with what you asked, here’s a way to convert you `HashMap&lt;String, Event&gt;` to a `TreeMap&lt;MonthDay, Evenet&gt;` using streams:\r\n\r\n\t    DateTimeFormatter parseFormatter = DateTimeFormatter.ofPattern(&quot;dd.MM&quot;);\r\n\t\tSortedMap&lt;MonthDay, Event&gt; sortedHolidayMap = this.holidayMap\r\n\t    \t\t.entrySet()\r\n\t    \t\t.stream()\r\n\t    \t\t.collect(Collectors.toMap((Map.Entry&lt;String, Event&gt; e) -&gt; MonthDay.parse(e.getKey(), parseFormatter), \r\n\t    \t\t\t\t\t\t\t\t  (Map.Entry&lt;String, Event&gt; e) -&gt; e.getValue(),\r\n\t    \t\t\t\t\t\t\t\t  (u, v) -&gt; { throw new IllegalArgumentException(); },\r\n\t    \t\t\t\t\t\t\t\t  () -&gt; new TreeMap&lt;MonthDay, Event&gt;()));\r\n\r\nFor a first test I tried filling a few more holidays into the `HashMap`:\r\n\r\n\t    this.holidayMap.put(&quot;01.05&quot;, new Event(&quot;1. Mai&quot;));\r\n\t    this.holidayMap.put(&quot;14.02&quot;, new Event(&quot;Valentinesday&quot;));\r\n\t    this.holidayMap.put(&quot;03.10&quot;, new Event(&quot;Tag der deutschen Einheit&quot;));\r\n\t    this.holidayMap.put(&quot;01.01&quot;, new Event(&quot;New Year&quot;));\r\n\t    this.holidayMap.put(&quot;17.05&quot;, new Event(&quot;Grunnlovsdag&quot;));\r\n\t    this.holidayMap.put(&quot;17.03&quot;, new Event(&quot;St. Patrick&quot;));\r\n\r\nThey come out nicely sorted:\r\n\r\n    01.01 New Year\r\n    14.02 Valentinesday\r\n    17.03 St. Patrick\r\n    01.05 1. Mai\r\n    17.05 Grunnlovsdag\r\n    03.10 Tag der deutschen Einheit\r\n\r\n","title":"How to sort a Hashmap by key String?","body":"<p>There are two problems with this. I can solve one, but not the other precisely to your requirements as stated.</p>\n\n<p>The easy one is how to sort the strings as date values. The solution is to use the built-in <code>MonthDay</code> class. This has a natural ordering from January 1 through December 31. It’s straightforward to parse your strings into <code>MonthDay</code> objects.</p>\n\n<p>The part I cannot do is sort a <code>HashMap</code>. You cannot control the order of the entries in a <code>HashMap</code>. Suggestions include:</p>\n\n<ul>\n<li>Take out all the data from the <code>HashMap</code> into a list (or array) and sort it.</li>\n<li>Use a <code>SortedMap</code>, typically a <code>TreeMap</code> as Thomas Fritsch suggested in a comment</li>\n<li>The closest I can get: Use a <code>LinkedHashMap</code>. You can control the order as either the insertion order or the access order. To sort the map, you need to sort the keys and then for each key in turn either remove it and reinsert, or just query its mapped value. <code>LinkedHashMap</code> is a subclass of <code>HashMap</code>, so it does count as one. Though this may give you what you asked for, it sounds a bit absurd in my ears.</li>\n</ul>\n\n<p>Just for illustration and aware that it conflicts with what you asked, here’s a way to convert you <code>HashMap&lt;String, Event&gt;</code> to a <code>TreeMap&lt;MonthDay, Evenet&gt;</code> using streams:</p>\n\n<pre><code>    DateTimeFormatter parseFormatter = DateTimeFormatter.ofPattern(\"dd.MM\");\n    SortedMap&lt;MonthDay, Event&gt; sortedHolidayMap = this.holidayMap\n            .entrySet()\n            .stream()\n            .collect(Collectors.toMap((Map.Entry&lt;String, Event&gt; e) -&gt; MonthDay.parse(e.getKey(), parseFormatter), \n                                      (Map.Entry&lt;String, Event&gt; e) -&gt; e.getValue(),\n                                      (u, v) -&gt; { throw new IllegalArgumentException(); },\n                                      () -&gt; new TreeMap&lt;MonthDay, Event&gt;()));\n</code></pre>\n\n<p>For a first test I tried filling a few more holidays into the <code>HashMap</code>:</p>\n\n<pre><code>    this.holidayMap.put(\"01.05\", new Event(\"1. Mai\"));\n    this.holidayMap.put(\"14.02\", new Event(\"Valentinesday\"));\n    this.holidayMap.put(\"03.10\", new Event(\"Tag der deutschen Einheit\"));\n    this.holidayMap.put(\"01.01\", new Event(\"New Year\"));\n    this.holidayMap.put(\"17.05\", new Event(\"Grunnlovsdag\"));\n    this.holidayMap.put(\"17.03\", new Event(\"St. Patrick\"));\n</code></pre>\n\n<p>They come out nicely sorted:</p>\n\n<pre><code>01.01 New Year\n14.02 Valentinesday\n17.03 St. Patrick\n01.05 1. Mai\n17.05 Grunnlovsdag\n03.10 Tag der deutschen Einheit\n</code></pre>\n"}],"owner":{"account_id":10970171,"reputation":29,"user_id":8060716,"accept_rate":0,"display_name":"MichaelDev"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":667,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":2,"score":-3,"last_activity_date":1693074668,"creation_date":1497131656,"question_id":44478426,"body_markdown":"I am using some holiday dates in a HashMap.\r\n\r\n    this.holidayMap.put(&quot;01.05&quot;, new Event(&quot;1. Mai&quot;));\r\n    this.holidayMap.put(&quot;14.02&quot;, new Event(&quot;Valentinseday&quot;));\r\n\r\nThat is some of my input. I have a separate method to add them. Now I want to sort them by the String - Date but I have no clue how to do it. I have seen many post of simple Strings but mine are a bit difficult because of the date format.\r\n\r\nI just want to call a method which then sorts the HashMap.\r\nI don&#39;t want to change the HashMap in a other type. Because I must use a HashMap.\r\n\r\nI am sorry I have no code to present.\r\n\r\nBest Regards","title":"How to sort a Hashmap by key String?","body":"<p>I am using some holiday dates in a HashMap.</p>\n<pre><code>this.holidayMap.put(&quot;01.05&quot;, new Event(&quot;1. Mai&quot;));\nthis.holidayMap.put(&quot;14.02&quot;, new Event(&quot;Valentinseday&quot;));\n</code></pre>\n<p>That is some of my input. I have a separate method to add them. Now I want to sort them by the String - Date but I have no clue how to do it. I have seen many post of simple Strings but mine are a bit difficult because of the date format.</p>\n<p>I just want to call a method which then sorts the HashMap.\nI don't want to change the HashMap in a other type. Because I must use a HashMap.</p>\n<p>I am sorry I have no code to present.</p>\n<p>Best Regards</p>\n"},{"tags":["java","text","relative-path"],"answers":[{"tags":[],"owner":{"account_id":5360294,"reputation":531,"user_id":4271767,"accept_rate":58,"display_name":"Fran"},"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1670257899,"creation_date":1433968199,"answer_id":30766716,"question_id":30765270,"body_markdown":"When you try to open a file, it takes your current working path.\r\nFor example this working tree:\r\n\r\n    Project\r\n    |-&gt;src\r\n    |   |--&gt;MyClass.java\r\n    |   |--&gt;MyFile1.txt\r\n    |-&gt;res\r\n       |-&gt;files\r\n         |--&gt;MyFile2.txt\r\n\r\nYou can use `new File(&quot;MyFile1.txt&quot;);` for MyFile1. \r\n\r\nor \r\n\r\n`new File(&quot;./res/files/MyFile2.txt&quot;);` for MyFile2.","title":"Reference a Text File with relative path in Java with the IntelliJ IDEA","body":"<p>When you try to open a file, it takes your current working path.\nFor example this working tree:</p>\n<pre><code>Project\n|-&gt;src\n|   |--&gt;MyClass.java\n|   |--&gt;MyFile1.txt\n|-&gt;res\n   |-&gt;files\n     |--&gt;MyFile2.txt\n</code></pre>\n<p>You can use <code>new File(&quot;MyFile1.txt&quot;);</code> for MyFile1.</p>\n<p>or</p>\n<p><code>new File(&quot;./res/files/MyFile2.txt&quot;);</code> for MyFile2.</p>\n"},{"tags":[],"owner":{"account_id":8928754,"reputation":7427,"user_id":6662058,"display_name":"Ashwin"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1526746266,"creation_date":1526746266,"answer_id":50427174,"question_id":30765270,"body_markdown":"You need to start your path from src. &quot;src/your/path/file.txt&quot;. See my answer [here][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/50427103/6662058","title":"Reference a Text File with relative path in Java with the IntelliJ IDEA","body":"<p>You need to start your path from src. \"src/your/path/file.txt\". See my answer <a href=\"https://stackoverflow.com/a/50427103/6662058\">here</a></p>\n"},{"tags":[],"owner":{"account_id":7717417,"reputation":4027,"user_id":5844686,"display_name":"Big Pumpkin"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1598242360,"creation_date":1598242360,"answer_id":63554622,"question_id":30765270,"body_markdown":"If you have a multi-project setup, it may not be obvious what the &quot;root&quot; directory is for a relative path. In that case, open the `Terminal` tab in your IntelliJ and see what directory it lands in. That is the &quot;root&quot; directory. Your relative path should start there.","title":"Reference a Text File with relative path in Java with the IntelliJ IDEA","body":"<p>If you have a multi-project setup, it may not be obvious what the &quot;root&quot; directory is for a relative path. In that case, open the <code>Terminal</code> tab in your IntelliJ and see what directory it lands in. That is the &quot;root&quot; directory. Your relative path should start there.</p>\n"},{"tags":[],"owner":{"account_id":904283,"reputation":432,"user_id":970082,"accept_rate":86,"display_name":"Sasha Kolsky"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678585566,"creation_date":1678585566,"answer_id":75710640,"question_id":30765270,"body_markdown":"@Big Pumpkin\r\nNot sure about the terminal showing me the path of the &quot;root&quot;.\r\nBut it does turn out to be the top most directory in a multi-module project.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/N3lef.png","title":"Reference a Text File with relative path in Java with the IntelliJ IDEA","body":"<p>@Big Pumpkin\nNot sure about the terminal showing me the path of the &quot;root&quot;.\nBut it does turn out to be the top most directory in a multi-module project.</p>\n<p><a href=\"https://i.stack.imgur.com/N3lef.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/N3lef.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":29304994,"reputation":1,"user_id":22452250,"display_name":"Aswin T B"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693074557,"creation_date":1693074557,"answer_id":76984305,"question_id":30765270,"body_markdown":"If file1.txt in &#39;src&#39; it will have path as &quot;src\\\\main\\\\java\\\\file1.txt&quot;. Relative path starts from src.","title":"Reference a Text File with relative path in Java with the IntelliJ IDEA","body":"<p>If file1.txt in 'src' it will have path as &quot;src\\main\\java\\file1.txt&quot;. Relative path starts from src.</p>\n"}],"owner":{"account_id":4021505,"reputation":435,"user_id":3498886,"accept_rate":56,"display_name":"gangwerz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31573,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":30766716,"answer_count":5,"score":10,"last_activity_date":1693074557,"creation_date":1433963548,"question_id":30765270,"body_markdown":"I have a program that reads numbers from a `.txt` file. My problem is where to place this file, or how to reference it with a relative path to make this file accessible without using the absolute path.","title":"Reference a Text File with relative path in Java with the IntelliJ IDEA","body":"<p>I have a program that reads numbers from a <code>.txt</code> file. My problem is where to place this file, or how to reference it with a relative path to make this file accessible without using the absolute path.</p>\n"},{"tags":["java","gradle","gradle-plugin","gradle-kotlin-dsl"],"answers":[{"tags":[],"owner":{"account_id":384599,"reputation":1379,"user_id":741217,"accept_rate":62,"display_name":"Rolf W."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661522691,"creation_date":1661522691,"answer_id":73502265,"question_id":72627792,"body_markdown":"I faced the same issue when implementing a similar plugin, and although I didn&#39;t find out why, I did manage to work around it:\r\n\r\n```kotlin\r\n// SettingsExtensions.kt\r\n\r\nimport org.gradle.api.Action\r\nimport org.gradle.api.initialization.Settings\r\nimport org.gradle.api.plugins.ExtensionAware\r\n\r\n/* WORKAROUND: for some reason a type-safe accessor is not generated for the extension,\r\n* even though it is present in the extension container where the plugin is applied.\r\n* This seems to work fine, and the extension methods are only available when the plugin\r\n* is actually applied. */\r\n\r\n/**\r\n * Retrieves the [modules][IncludeModulesExtension]\r\n * extension.\r\n */\r\nval Settings.modules: IncludeModulesExtension\r\n    get() =\r\n        (this as ExtensionAware).extensions.getByName(&quot;modules&quot;) as IncludeModulesExtension\r\n\r\n/**\r\n * Configures the [modules][IncludeModulesExtension] extension.\r\n */\r\nfun Settings.modules(configure: Action&lt;IncludeModulesExtension&gt;): Unit =\r\n    (this as ExtensionAware).extensions.configure(&quot;modules&quot;,\r\n        configure)\r\n```\r\n\r\nAs the comment explains, it behaves exactly the same as a generated type-safe accessor (same syntax and the extension is only available when the plugin is actually applied). \r\n\r\nI didn&#39;t test if it works for the Groovy DSL, but since the extension methods are syntactically identical to the generated accessors, I assume it does.\r\n\r\nAlternatively you can do without if instead of the `modules` DSL you do this in the settings script where the plugin is applied:\r\n\r\n```kotlin\r\nconfigure&lt;IncludeModulesExtension&gt; {\r\n    ...\r\n}\r\n```\r\n\r\nThis also works because even though the type-safe accessor is not generated, the extension _is_ properly initialized and added to the extensions container. But the DSL is obviously nicer.","title":"Gradle Settings plugin extension","body":"<p>I faced the same issue when implementing a similar plugin, and although I didn't find out why, I did manage to work around it:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>// SettingsExtensions.kt\n\nimport org.gradle.api.Action\nimport org.gradle.api.initialization.Settings\nimport org.gradle.api.plugins.ExtensionAware\n\n/* WORKAROUND: for some reason a type-safe accessor is not generated for the extension,\n* even though it is present in the extension container where the plugin is applied.\n* This seems to work fine, and the extension methods are only available when the plugin\n* is actually applied. */\n\n/**\n * Retrieves the [modules][IncludeModulesExtension]\n * extension.\n */\nval Settings.modules: IncludeModulesExtension\n    get() =\n        (this as ExtensionAware).extensions.getByName(&quot;modules&quot;) as IncludeModulesExtension\n\n/**\n * Configures the [modules][IncludeModulesExtension] extension.\n */\nfun Settings.modules(configure: Action&lt;IncludeModulesExtension&gt;): Unit =\n    (this as ExtensionAware).extensions.configure(&quot;modules&quot;,\n        configure)\n</code></pre>\n<p>As the comment explains, it behaves exactly the same as a generated type-safe accessor (same syntax and the extension is only available when the plugin is actually applied).</p>\n<p>I didn't test if it works for the Groovy DSL, but since the extension methods are syntactically identical to the generated accessors, I assume it does.</p>\n<p>Alternatively you can do without if instead of the <code>modules</code> DSL you do this in the settings script where the plugin is applied:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>configure&lt;IncludeModulesExtension&gt; {\n    ...\n}\n</code></pre>\n<p>This also works because even though the type-safe accessor is not generated, the extension <em>is</em> properly initialized and added to the extensions container. But the DSL is obviously nicer.</p>\n"},{"tags":[],"owner":{"account_id":24761962,"reputation":11,"user_id":18646253,"display_name":"Jukka Papinkivi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693074483,"creation_date":1693074483,"answer_id":76984301,"question_id":72627792,"body_markdown":"Add type-safe accessor to your plugin project. Make sure to put it on following package:\r\n```kotlin\r\npackage org.gradle.kotlin.dsl\r\n\r\nimport com.ieffects.gradle.server.IncludeModulesExtension\r\nimport org.gradle.api.initialization.Settings\r\n\r\nfun Settings.modules(action: IncludeModulesExtension.() -&gt; Unit) =\r\n    extensions.getByType(IncludeModulesExtension::class.java).action()\r\n\r\n```\r\n\r\nGradle has problems to generate DSL for settings on-the-fly. Might be chicken-egg problem when you apply plugin, Gradle has to generate DSL and you immediately try t configure it. Try restart Gradle &amp; IDE after adding plugin.\r\n","title":"Gradle Settings plugin extension","body":"<p>Add type-safe accessor to your plugin project. Make sure to put it on following package:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>package org.gradle.kotlin.dsl\n\nimport com.ieffects.gradle.server.IncludeModulesExtension\nimport org.gradle.api.initialization.Settings\n\nfun Settings.modules(action: IncludeModulesExtension.() -&gt; Unit) =\n    extensions.getByType(IncludeModulesExtension::class.java).action()\n\n</code></pre>\n<p>Gradle has problems to generate DSL for settings on-the-fly. Might be chicken-egg problem when you apply plugin, Gradle has to generate DSL and you immediately try t configure it. Try restart Gradle &amp; IDE after adding plugin.</p>\n"}],"owner":{"account_id":17573941,"reputation":71,"user_id":12749122,"display_name":"Mischael Schill"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1060,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1693074483,"creation_date":1655280062,"question_id":72627792,"body_markdown":"I want to create a settings plugin (not project plugin) to simplify some stuff, but I cannot get the configuration clause to work. \r\n\r\nThis is my plugin (Java code)\r\n\r\n```\r\npublic class SettingsPlugin implements Plugin&lt;Settings&gt; {\r\n    @Override\r\n    public void apply(Settings target) {\r\n        target.getExtensions()\r\n              .create(&quot;modules&quot;, IncludeModulesExtension.class, target);\r\n\r\n        System.err.println(&quot;Applied settings plugin&quot;);\r\n    }\r\n}\r\n\r\npublic class IncludeModulesExtension {\r\n\tprivate final Settings _settings;\r\n\r\n\tpublic IncludeModulesExtension(Settings settings) {\r\n\t\t_settings = settings;\r\n\t}\r\n\r\n\tpublic void include(String path) {\r\n\t}\r\n}\r\n\r\n```\r\n\r\nMy problem is, that gradle is not picking up the &quot;modules&quot; dynamic function in my settings.gradle.kts:\r\n\r\n```\r\npluginManagement {\r\n\t...\r\n}\r\n\r\nplugins {\r\n    id(&quot;com.ieffects.gradle-tools.settings-server&quot;) version (&quot;7.0.23-SNAPSHOT&quot;)\r\n}\r\n\r\nmodules {\r\n\t\r\n}\r\n```\r\n\r\nI omitted the pluginManagement, the plugin is found and applied, however the &quot;modules&quot; is not picked up. What is it I&#39;m doing wrong?\r\n\r\n```\r\nStarting Gradle Daemon...\r\nGradle Daemon started in 2 s 396 ms\r\nApplied settings plugin\r\ne: /Volumes/Development/Git/server-framework-galcon/settings.gradle.kts:22:1: Unresolved reference: modules\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* Where:\r\nSettings file &#39;/Volumes/Development/Git/server-framework-galcon/settings.gradle.kts&#39; line: 22\r\n\r\n* What went wrong:\r\nScript compilation error:\r\n\r\n  Line 22: modules {\r\n           ^ Unresolved reference: modules\r\n\r\n1 error\r\n```\r\n\r\n","title":"Gradle Settings plugin extension","body":"<p>I want to create a settings plugin (not project plugin) to simplify some stuff, but I cannot get the configuration clause to work.</p>\n<p>This is my plugin (Java code)</p>\n<pre><code>public class SettingsPlugin implements Plugin&lt;Settings&gt; {\n    @Override\n    public void apply(Settings target) {\n        target.getExtensions()\n              .create(&quot;modules&quot;, IncludeModulesExtension.class, target);\n\n        System.err.println(&quot;Applied settings plugin&quot;);\n    }\n}\n\npublic class IncludeModulesExtension {\n    private final Settings _settings;\n\n    public IncludeModulesExtension(Settings settings) {\n        _settings = settings;\n    }\n\n    public void include(String path) {\n    }\n}\n\n</code></pre>\n<p>My problem is, that gradle is not picking up the &quot;modules&quot; dynamic function in my settings.gradle.kts:</p>\n<pre><code>pluginManagement {\n    ...\n}\n\nplugins {\n    id(&quot;com.ieffects.gradle-tools.settings-server&quot;) version (&quot;7.0.23-SNAPSHOT&quot;)\n}\n\nmodules {\n    \n}\n</code></pre>\n<p>I omitted the pluginManagement, the plugin is found and applied, however the &quot;modules&quot; is not picked up. What is it I'm doing wrong?</p>\n<pre><code>Starting Gradle Daemon...\nGradle Daemon started in 2 s 396 ms\nApplied settings plugin\ne: /Volumes/Development/Git/server-framework-galcon/settings.gradle.kts:22:1: Unresolved reference: modules\n\nFAILURE: Build failed with an exception.\n\n* Where:\nSettings file '/Volumes/Development/Git/server-framework-galcon/settings.gradle.kts' line: 22\n\n* What went wrong:\nScript compilation error:\n\n  Line 22: modules {\n           ^ Unresolved reference: modules\n\n1 error\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-webflux","project-reactor"],"comments":[{"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"score":0,"creation_date":1676295837,"post_id":75434622,"comment_id":133102732,"body_markdown":"I don&#39;t get the point about &quot;without having to wait till the inner Publisher completes; but making sure it&#39;s completed nevertheless&quot;.  Is it a fire-and-forget scenario or you want to return some result for further processing? And what do you mean by &quot;wait&quot; ?","body":"I don&#39;t get the point about &quot;without having to wait till the inner Publisher completes; but making sure it&#39;s completed nevertheless&quot;.  Is it a fire-and-forget scenario or you want to return some result for further processing? And what do you mean by &quot;wait&quot; ?"},{"owner":{"account_id":3047853,"reputation":1464,"user_id":2583044,"accept_rate":62,"display_name":"62mkv"},"score":0,"creation_date":1676363159,"post_id":75434622,"comment_id":133116871,"body_markdown":"it&#39;s almost &quot;fire-and-forget&quot; but I want to be _confident_ that the subscription will complete. The presented code is not giving me this confidence, for some reason. by &quot;wait&quot; I mean &quot;complete this Publisher (the one I return from the method) only *after* the other one&quot; - this is a thing I want to avoid. \n\nIn an imperative, blocking code, an analogous construct would be to start some processing on a separate thread and return immediately, without having to wait till that thread is done","body":"it&#39;s almost &quot;fire-and-forget&quot; but I want to be <i>confident</i> that the subscription will complete. The presented code is not giving me this confidence, for some reason. by &quot;wait&quot; I mean &quot;complete this Publisher (the one I return from the method) only <i>after</i> the other one&quot; - this is a thing I want to avoid.   In an imperative, blocking code, an analogous construct would be to start some processing on a separate thread and return immediately, without having to wait till that thread is done"}],"answers":[{"tags":[],"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676376312,"creation_date":1676367596,"answer_id":75445943,"question_id":75434622,"body_markdown":"If I understand you correctly, then it is basically a fire-and-forget scenario, but nothing prevents you from using additional operators on that chain to process the results.\r\n\r\nIf by *&quot;to beconfident that the subscription will complete&quot;* you mean *&quot;do something if it is completed successfully&quot;* or *&quot;do something if it is completed with error&quot;* then:\r\n\r\nIf you want to start some processing in a separate thread and return immediately, and also be *confident* in completion of that sepapate processing, then you can use both `subscribeOn()` and put some operators to that chain to handle the results of success or errors of that processing, just as you do when you build any reactive chain.\r\n\r\nTo handle the results you can use, for example, `.map()`, `doOnNext()`, `flatMap()`, `switchIfEmpty()`, etc., whatever fits your requirements, \r\n\r\nTo handle errors, you can use, for example, `onErrorResume()`, `onErrorContinue()`, `onErrorMap()`, `onErrorReturn()`, `doOnError()`, etc., whatever fits your requirements.\r\n\r\nHere is an example how it would look like:\r\n\r\n&lt;!-- language: java --&gt;\r\n    private Mono&lt;Void&gt; someHandler() {\r\n        someService.registerPlayer(internalPlayer)\r\n                // handle results\r\n                .doOnNext(...)\r\n        \r\n                // handle errors\r\n                .orErrorResume(...)\r\n                // the whole subscription process will happen on the thread provided by the Scheduler you specified\r\n                .subscribeOn(Schedulers.boundedElastic())\r\n                .subscribe();\r\n        // return immediately\r\n        return Mono.empty();\r\n    }","title":"Is it safe to just subscribe to Publishers in the assembly phase and leave it at that?","body":"<p>If I understand you correctly, then it is basically a fire-and-forget scenario, but nothing prevents you from using additional operators on that chain to process the results.</p>\n<p>If by <em>&quot;to beconfident that the subscription will complete&quot;</em> you mean <em>&quot;do something if it is completed successfully&quot;</em> or <em>&quot;do something if it is completed with error&quot;</em> then:</p>\n<p>If you want to start some processing in a separate thread and return immediately, and also be <em>confident</em> in completion of that sepapate processing, then you can use both <code>subscribeOn()</code> and put some operators to that chain to handle the results of success or errors of that processing, just as you do when you build any reactive chain.</p>\n<p>To handle the results you can use, for example, <code>.map()</code>, <code>doOnNext()</code>, <code>flatMap()</code>, <code>switchIfEmpty()</code>, etc., whatever fits your requirements,</p>\n<p>To handle errors, you can use, for example, <code>onErrorResume()</code>, <code>onErrorContinue()</code>, <code>onErrorMap()</code>, <code>onErrorReturn()</code>, <code>doOnError()</code>, etc., whatever fits your requirements.</p>\n<p>Here is an example how it would look like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private Mono&lt;Void&gt; someHandler() {\n    someService.registerPlayer(internalPlayer)\n            // handle results\n            .doOnNext(...)\n    \n            // handle errors\n            .orErrorResume(...)\n            // the whole subscription process will happen on the thread provided by the Scheduler you specified\n            .subscribeOn(Schedulers.boundedElastic())\n            .subscribe();\n    // return immediately\n    return Mono.empty();\n}\n</code></pre>\n"}],"owner":{"account_id":3047853,"reputation":1464,"user_id":2583044,"accept_rate":62,"display_name":"62mkv"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":244,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693074468,"creation_date":1676283861,"question_id":75434622,"body_markdown":"I&#39;ve asked in Gitter already but looks like it&#39;s not too active these days.. \r\n\r\nI was curious, is it safe to use such constructs in production code:\r\n\r\n```\r\nprivate Mono&lt;Void&gt; someHandler() {\r\n        someService.registerPlayer(internalPlayer)\r\n                        .subscribe();\r\n\r\n        return Mono.empty();\r\n    }\r\n\r\n```\r\n\r\nand then just use this `Publisher` from WebFlux controller method, for example? \r\n\r\ndo we have anything in the official documentation about it? All the examples I could find in the Reference, seem to be examples of calling reactive code from blocking code and observing behavior. \r\n\r\nI guess this Disposable returned here will be GC-ed quite soon, right?\r\nand what would be the right way to achieve similar result (emitting on the outer `Publisher` without having to wait till the inner `Publisher` completes; but making sure it&#39;s completed nevertheless)","title":"Is it safe to just subscribe to Publishers in the assembly phase and leave it at that?","body":"<p>I've asked in Gitter already but looks like it's not too active these days..</p>\n<p>I was curious, is it safe to use such constructs in production code:</p>\n<pre><code>private Mono&lt;Void&gt; someHandler() {\n        someService.registerPlayer(internalPlayer)\n                        .subscribe();\n\n        return Mono.empty();\n    }\n\n</code></pre>\n<p>and then just use this <code>Publisher</code> from WebFlux controller method, for example?</p>\n<p>do we have anything in the official documentation about it? All the examples I could find in the Reference, seem to be examples of calling reactive code from blocking code and observing behavior.</p>\n<p>I guess this Disposable returned here will be GC-ed quite soon, right?\nand what would be the right way to achieve similar result (emitting on the outer <code>Publisher</code> without having to wait till the inner <code>Publisher</code> completes; but making sure it's completed nevertheless)</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":7577842,"reputation":9624,"user_id":5749570,"display_name":"VHS"},"score":1,"creation_date":1487174851,"post_id":42253486,"comment_id":71666534,"body_markdown":"Show us your full applicationContext.xml and if possible some part of your java code that references `FileItemFactory`.","body":"Show us your full applicationContext.xml and if possible some part of your java code that references <code>FileItemFactory</code>."},{"owner":{"account_id":10257066,"reputation":144,"user_id":7569626,"display_name":"Scientific.RAT"},"score":0,"creation_date":1487215076,"post_id":42253486,"comment_id":71685506,"body_markdown":"ok, I just add it to UPDATE. My java code never references `FileItemFactory`  `CommonsMultipartResolver` may reference","body":"ok, I just add it to UPDATE. My java code never references <code>FileItemFactory</code>  <code>CommonsMultipartResolver</code> may reference"}],"answers":[{"tags":[],"owner":{"account_id":7577842,"reputation":9624,"user_id":5749570,"display_name":"VHS"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1611172850,"creation_date":1487215778,"answer_id":42264317,"question_id":42253486,"body_markdown":"Download [commons-fileupload](https://mvnrepository.com/artifact/commons-fileupload/commons-fileupload/1.4) and keep it in your modules folder of your container. Apparently the class `org.springframework.web.multipart.commons.CommonsMultipartResolver` has a hard dependency on `org.apache.commons.fileupload.FileItemFactory` which is a class contained in the above jar. Once your container class loader loads this class, you wouldn&#39;t get this error.","title":"Fail to configure CommonsMultipartResolver in Spring4","body":"<p>Download <a href=\"https://mvnrepository.com/artifact/commons-fileupload/commons-fileupload/1.4\" rel=\"nofollow noreferrer\">commons-fileupload</a> and keep it in your modules folder of your container. Apparently the class <code>org.springframework.web.multipart.commons.CommonsMultipartResolver</code> has a hard dependency on <code>org.apache.commons.fileupload.FileItemFactory</code> which is a class contained in the above jar. Once your container class loader loads this class, you wouldn't get this error.</p>\n"},{"tags":[],"owner":{"account_id":8767894,"reputation":1528,"user_id":6555698,"display_name":"Odwori"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1611133327,"creation_date":1568199543,"answer_id":57887633,"question_id":42253486,"body_markdown":"If you are using maven then try\r\n\r\n        &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;commons-fileupload&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.4&lt;/version&gt; &lt;!-- makesure you put a correct version here --&gt;\r\n\t\t&lt;/dependency&gt;","title":"Fail to configure CommonsMultipartResolver in Spring4","body":"<p>If you are using maven then try</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;commons-fileupload&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt;\n        &lt;version&gt;1.4&lt;/version&gt; &lt;!-- makesure you put a correct version here --&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26138105,"reputation":1,"user_id":19827863,"display_name":"sudhanshu pandey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693073719,"creation_date":1692963553,"answer_id":76976850,"question_id":42253486,"body_markdown":"`org.springframework.web.multipart.commons.CommonsMultipartyResolver` has been superseded by `org.springframework.web.multipart.support.StandardServletMultipartResolver` since all Servlet 5.0+ containers have built-in multipart support now.\r\n\r\n","title":"Fail to configure CommonsMultipartResolver in Spring4","body":"<p><code>org.springframework.web.multipart.commons.CommonsMultipartyResolver</code> has been superseded by <code>org.springframework.web.multipart.support.StandardServletMultipartResolver</code> since all Servlet 5.0+ containers have built-in multipart support now.</p>\n"}],"owner":{"account_id":10257066,"reputation":144,"user_id":7569626,"display_name":"Scientific.RAT"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13080,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":42264317,"answer_count":3,"score":9,"last_activity_date":1693073719,"creation_date":1487172468,"question_id":42253486,"body_markdown":"I configure CommonsMultipartResolver in applicationContext.xml like following:\r\n\r\n    &lt;bean id=&quot;multipartResolver&quot;\r\n          class=&quot;org.springframework.web.multipart.commons.CommonsMultipartResolver&quot;&gt;\r\n    &lt;/bean&gt;\r\n\r\nbut it throws exception as following:\r\n\r\n    15-Feb-2017 22:17:35.049 INFO [RMI TCP Connection(2)-127.0.0.1] org.apache.jasper.servlet.TldScanner.scanJars At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\r\n    15-Feb-2017 22:17:35.107 INFO [RMI TCP Connection(2)-127.0.0.1] org.springframework.web.context.ContextLoader.initWebApplicationContext Root WebApplicationContext: initialization started\r\n    15-Feb-2017 22:17:35.172 INFO [RMI TCP Connection(2)-127.0.0.1] org.springframework.web.context.support.XmlWebApplicationContext.prepareRefresh Refreshing Root WebApplicationContext: startup date [Wed Feb 15 22:17:35 CST 2017]; root of context hierarchy\r\n    15-Feb-2017 22:17:35.240 INFO [RMI TCP Connection(2)-127.0.0.1] org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions Loading XML bean definitions from ServletContext resource [/WEB-INF/applicationContext.xml]\r\n    15-Feb-2017 22:17:35.563 WARNING [RMI TCP Connection(2)-127.0.0.1] org.springframework.web.context.support.XmlWebApplicationContext.refresh Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;multipartResolver&#39; defined in ServletContext resource [/WEB-INF/applicationContext.xml]: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.web.multipart.commons.CommonsMultipartResolver]: No default constructor found; nested exception is java.lang.NoClassDefFoundError: org/apache/commons/fileupload/FileItemFactory\r\n    15-Feb-2017 22:17:35.575 SEVERE [RMI TCP Connection(2)-127.0.0.1] org.springframework.web.context.ContextLoader.initWebApplicationContext Context initialization failed\r\n     org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;multipartResolver&#39; defined in ServletContext resource [/WEB-INF/applicationContext.xml]: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.web.multipart.commons.CommonsMultipartResolver]: No default constructor found; nested exception is java.lang.NoClassDefFoundError: org/apache/commons/fileupload/FileItemFactory\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1155)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1099)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:513)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\r\n        ...\r\nI don&#39;t known why CommonsMultipartResolver failed to be instantiated. I can find CommonsMultipartResolver in spring-web-4.3.6.RELEASE.jar.\r\nBut this exception is thrown:\r\n\r\n    java.lang.NoClassDefFoundError: org/apache/commons/fileupload/FileItemFactory\r\n\r\n\r\nWhat&#39;s wrong with my configuration?(I&#39;m using Intellij IDEA)    \r\n&lt;BR&gt;\r\n**UPDATE**  \r\nthis is my applicationContext.xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n           xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n           xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt;\r\n        &lt;bean id=&quot;multipartResolver&quot;\r\n              class=&quot;org.springframework.web.multipart.commons.CommonsMultipartResolver&quot;&gt;\r\n        &lt;/bean&gt;\r\n    &lt;/beans&gt;\r\n\r\nI have tried to solve the problem by adding `commons-fileupload` to IDEA project settings --&gt; libraries. But it does&#39;t help, problems still.  \r\n[project structure setting of IDEA][1]\r\n\r\n\r\n[project structure setting of IDEA][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Yiilf.png\r\n  [2]: https://i.stack.imgur.com/8AANU.png","title":"Fail to configure CommonsMultipartResolver in Spring4","body":"<p>I configure CommonsMultipartResolver in applicationContext.xml like following:</p>\n\n<pre><code>&lt;bean id=\"multipartResolver\"\n      class=\"org.springframework.web.multipart.commons.CommonsMultipartResolver\"&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>but it throws exception as following:</p>\n\n<pre><code>15-Feb-2017 22:17:35.049 INFO [RMI TCP Connection(2)-127.0.0.1] org.apache.jasper.servlet.TldScanner.scanJars At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\n15-Feb-2017 22:17:35.107 INFO [RMI TCP Connection(2)-127.0.0.1] org.springframework.web.context.ContextLoader.initWebApplicationContext Root WebApplicationContext: initialization started\n15-Feb-2017 22:17:35.172 INFO [RMI TCP Connection(2)-127.0.0.1] org.springframework.web.context.support.XmlWebApplicationContext.prepareRefresh Refreshing Root WebApplicationContext: startup date [Wed Feb 15 22:17:35 CST 2017]; root of context hierarchy\n15-Feb-2017 22:17:35.240 INFO [RMI TCP Connection(2)-127.0.0.1] org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions Loading XML bean definitions from ServletContext resource [/WEB-INF/applicationContext.xml]\n15-Feb-2017 22:17:35.563 WARNING [RMI TCP Connection(2)-127.0.0.1] org.springframework.web.context.support.XmlWebApplicationContext.refresh Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'multipartResolver' defined in ServletContext resource [/WEB-INF/applicationContext.xml]: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.web.multipart.commons.CommonsMultipartResolver]: No default constructor found; nested exception is java.lang.NoClassDefFoundError: org/apache/commons/fileupload/FileItemFactory\n15-Feb-2017 22:17:35.575 SEVERE [RMI TCP Connection(2)-127.0.0.1] org.springframework.web.context.ContextLoader.initWebApplicationContext Context initialization failed\n org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'multipartResolver' defined in ServletContext resource [/WEB-INF/applicationContext.xml]: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.web.multipart.commons.CommonsMultipartResolver]: No default constructor found; nested exception is java.lang.NoClassDefFoundError: org/apache/commons/fileupload/FileItemFactory\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1155)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1099)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:513)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\n    ...\n</code></pre>\n\n<p>I don't known why CommonsMultipartResolver failed to be instantiated. I can find CommonsMultipartResolver in spring-web-4.3.6.RELEASE.jar.\nBut this exception is thrown:</p>\n\n<pre><code>java.lang.NoClassDefFoundError: org/apache/commons/fileupload/FileItemFactory\n</code></pre>\n\n<p>What's wrong with my configuration?(I'm using Intellij IDEA)<br>\n<BR>\n<strong>UPDATE</strong><br>\nthis is my applicationContext.xml</p>\n\n\n\n<pre><code>&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n       xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\"&gt;\n    &lt;bean id=\"multipartResolver\"\n          class=\"org.springframework.web.multipart.commons.CommonsMultipartResolver\"&gt;\n    &lt;/bean&gt;\n&lt;/beans&gt;\n</code></pre>\n\n<p>I have tried to solve the problem by adding <code>commons-fileupload</code> to IDEA project settings --> libraries. But it does't help, problems still.<br>\n<a href=\"https://i.stack.imgur.com/Yiilf.png\" rel=\"noreferrer\">project structure setting of IDEA</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/8AANU.png\" rel=\"noreferrer\">project structure setting of IDEA</a></p>\n"},{"tags":["java","regex","parsing","lexer"],"comments":[{"owner":{"account_id":8566752,"reputation":53329,"user_id":6419007,"accept_rate":67,"display_name":"Eric Duminil"},"score":1,"creation_date":1479598486,"post_id":40699005,"comment_id":68627223,"body_markdown":"Shouldn&#39;t your inner quotes be escaped? What is the rule that prevents `&quot;My foo, has &quot;` from being your first token?","body":"Shouldn&#39;t your inner quotes be escaped? What is the rule that prevents <code>&quot;My foo, has &quot;</code> from being your first token?"},{"owner":{"account_id":7227412,"reputation":79,"user_id":5515512,"accept_rate":83,"display_name":"Ronn"},"score":0,"creation_date":1479598764,"post_id":40699005,"comment_id":68627279,"body_markdown":"Yes it should have escaped but it does not. :(","body":"Yes it should have escaped but it does not. :("}],"answers":[{"tags":[],"owner":{"account_id":5240719,"reputation":4724,"user_id":5103620,"accept_rate":71,"display_name":"Sebastian Lenartowicz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1479607368,"creation_date":1479607368,"answer_id":40699928,"question_id":40699005,"body_markdown":"Try taking a different approach. `String.split()` in Java can take a regex argument, and if you split on this pattern:\r\n\r\n    (&quot;\\s*)?,(?(1)|\\s*&quot;)\r\n\r\nIt&#39;ll spit out the array you want (minus the commas). The way it works is it&#39;ll match a comma that&#39;s either preceded or followed by a quotation mark (but not both). It does this using a [conditional][1] (the `(?(1)|...)`, which will match its pattern if the first capturing group _does not_ match).\r\n\r\n[Demo on Regex101][2]\r\n\r\n\r\n  [1]: http://www.regular-expressions.info/conditional.html\r\n  [2]: https://regex101.com/r/YZN6mE/1","title":"Regex for the tokenizing the String &quot;My foo has &quot;zero&quot; number&quot;,sugar,&quot;My bar has &quot;one number&quot;&quot;","body":"<p>Try taking a different approach. <code>String.split()</code> in Java can take a regex argument, and if you split on this pattern:</p>\n\n<pre><code>(\"\\s*)?,(?(1)|\\s*\")\n</code></pre>\n\n<p>It'll spit out the array you want (minus the commas). The way it works is it'll match a comma that's either preceded or followed by a quotation mark (but not both). It does this using a <a href=\"http://www.regular-expressions.info/conditional.html\" rel=\"nofollow noreferrer\">conditional</a> (the <code>(?(1)|...)</code>, which will match its pattern if the first capturing group <em>does not</em> match).</p>\n\n<p><a href=\"https://regex101.com/r/YZN6mE/1\" rel=\"nofollow noreferrer\">Demo on Regex101</a></p>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693073536,"creation_date":1693072667,"answer_id":76984205,"question_id":40699005,"body_markdown":"When the input has balanced quotes, the trick is to only split on a comma when there&#39;s an *even* number of quotes after it:\r\n\r\n    String[] parts = str.split(&quot; *, *(?=(([^\\&quot;]*\\&quot;){2})*[^\\&quot;]*$)&quot;);\r\n\r\nSee [Java live demo][2] producing the desired output.\r\n\r\nSee [regex live demo][1] too.\r\n\r\n  [1]: https://rubular.com/r/ofhfSIeSfjXVUi\r\n  [2]: https://ideone.com/NFBrYU","title":"Regex for the tokenizing the String &quot;My foo has &quot;zero&quot; number&quot;,sugar,&quot;My bar has &quot;one number&quot;&quot;","body":"<p>When the input has balanced quotes, the trick is to only split on a comma when there's an <em>even</em> number of quotes after it:</p>\n<pre><code>String[] parts = str.split(&quot; *, *(?=(([^\\&quot;]*\\&quot;){2})*[^\\&quot;]*$)&quot;);\n</code></pre>\n<p>See <a href=\"https://ideone.com/NFBrYU\" rel=\"nofollow noreferrer\">Java live demo</a> producing the desired output.</p>\n<p>See <a href=\"https://rubular.com/r/ofhfSIeSfjXVUi\" rel=\"nofollow noreferrer\">regex live demo</a> too.</p>\n"}],"owner":{"account_id":7227412,"reputation":79,"user_id":5515512,"accept_rate":83,"display_name":"Ronn"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1693073536,"creation_date":1479597902,"question_id":40699005,"body_markdown":"I am trying to tokenize the String in java\r\n\r\n    &quot;My foo, has &quot;zero&quot; number&quot;, sugar ,&quot;My bar has &quot;one or more&quot; numbers&quot;\r\nOutput should be like\r\n\r\n    &quot;My foo, has &quot;zero&quot; number&quot;\r\n    ,\r\n    sugar\r\n    ,\r\n    &quot;My bar has &quot;one or more&quot; numbers&quot;\r\n\r\nAlso i am using named capturing group to match them.\r\n\r\n    String[] p = new String[3];\r\n        p[0] = &quot;(?&lt;Special&gt;[\\\\[\\\\]/.$*\\\\-+=&gt;&lt;#()%,!|&amp;{}])&quot;; \r\n        p[1] = &quot;(?&lt;Literals&gt;\\&quot;[^\\&quot;]*\\&quot;)&quot;; \r\n        p[2] = &quot;(?&lt;Identifiers&gt;\\\\w+)&quot;;\r\n    for (String s: p) {\r\n            sb.append(String.format(&quot;|(%s)&quot;, s)); \r\n        } //for ends here\r\n\r\n        Pattern tp = Pattern.compile(new String(sb.substring(1))); // adding the patterns one after another separated by |\r\n\r\n        Matcher m = tp.matcher(line);\r\n\r\n        while (m.find()) { //searches if a token is matched.\r\n        if ((m.group(&quot;Special&quot;) != null)) {\r\n                System.out.println(m.group(&quot;Special&quot;));\r\n                continue;\r\n            }\r\n        else if((m.group(&quot;Literals&quot;) != null)) {\r\n                System.out.println(m.group(&quot;Literals&quot;));\r\n                continue;\r\n            }\r\n        else if((m.group(&quot;Identifiers&quot;) != null)) { \r\n                System.out.println(m.group(&quot;Identifiers&quot;));\r\n                continue;\r\n            }\r\n        }\r\nI am able to tokenize sugar(using it to match identifiers) using (\\\\w+) and , (using the regex in special). However for literals i am not able to match the group, i guess because of the inner quotes.","title":"Regex for the tokenizing the String &quot;My foo has &quot;zero&quot; number&quot;,sugar,&quot;My bar has &quot;one number&quot;&quot;","body":"<p>I am trying to tokenize the String in java</p>\n\n<pre><code>\"My foo, has \"zero\" number\", sugar ,\"My bar has \"one or more\" numbers\"\n</code></pre>\n\n<p>Output should be like</p>\n\n<pre><code>\"My foo, has \"zero\" number\"\n,\nsugar\n,\n\"My bar has \"one or more\" numbers\"\n</code></pre>\n\n<p>Also i am using named capturing group to match them.</p>\n\n<pre><code>String[] p = new String[3];\n    p[0] = \"(?&lt;Special&gt;[\\\\[\\\\]/.$*\\\\-+=&gt;&lt;#()%,!|&amp;{}])\"; \n    p[1] = \"(?&lt;Literals&gt;\\\"[^\\\"]*\\\")\"; \n    p[2] = \"(?&lt;Identifiers&gt;\\\\w+)\";\nfor (String s: p) {\n        sb.append(String.format(\"|(%s)\", s)); \n    } //for ends here\n\n    Pattern tp = Pattern.compile(new String(sb.substring(1))); // adding the patterns one after another separated by |\n\n    Matcher m = tp.matcher(line);\n\n    while (m.find()) { //searches if a token is matched.\n    if ((m.group(\"Special\") != null)) {\n            System.out.println(m.group(\"Special\"));\n            continue;\n        }\n    else if((m.group(\"Literals\") != null)) {\n            System.out.println(m.group(\"Literals\"));\n            continue;\n        }\n    else if((m.group(\"Identifiers\") != null)) { \n            System.out.println(m.group(\"Identifiers\"));\n            continue;\n        }\n    }\n</code></pre>\n\n<p>I am able to tokenize sugar(using it to match identifiers) using (\\w+) and , (using the regex in special). However for literals i am not able to match the group, i guess because of the inner quotes.</p>\n"},{"tags":["java","collision-detection","lwjgl","java-17","joml"],"comments":[{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":0,"creation_date":1692701362,"post_id":76952419,"comment_id":135656952,"body_markdown":"Can you post `Models.Sphere.getVertices`?","body":"Can you post <code>Models.Sphere.getVertices</code>?"},{"owner":{"account_id":3043323,"reputation":21366,"user_id":2579738,"display_name":"BDL"},"score":0,"creation_date":1692704501,"post_id":76952419,"comment_id":135657562,"body_markdown":"Do you have a valid OpenGL context when calling the method? Not really the problem, but it&#39;s definitely a bad design decision to mix rendering code into the getVertices method if you also use it for something else than rendering.","body":"Do you have a valid OpenGL context when calling the method? Not really the problem, but it&#39;s definitely a bad design decision to mix rendering code into the getVertices method if you also use it for something else than rendering."},{"owner":{"account_id":28779521,"reputation":47,"user_id":22041411,"display_name":"notwhale"},"score":0,"creation_date":1692705054,"post_id":76952419,"comment_id":135657697,"body_markdown":"I have this line:\nGLFW.glfwMakeContextCurrent(window);\nis this called a valid OpenGL context?\ndo you know how to fix a mistake or design decision?","body":"I have this line: GLFW.glfwMakeContextCurrent(window); is this called a valid OpenGL context? do you know how to fix a mistake or design decision?"}],"answers":[{"tags":[],"owner":{"account_id":10122276,"reputation":21,"user_id":7478819,"display_name":"Schema"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693072488,"creation_date":1693072488,"answer_id":76984195,"question_id":76952419,"body_markdown":"Doing a collision you are probably in a different opengl state/context. Calling openGL functions in the wrong state/context at the wrong time could be the cause of the crash.\r\n\r\nThe main issue is that your Sphere.GetVertices() function uses glTexCoord2f and glColor3f while it&#39;s not clear what context you are in. You can only call those from the thread the GLContext was created in, you should also only call them during actual draw contexts (i.e. between glBegin and glEnd). \r\n\r\nRemoving glColor3f and glTexCoord2f from GetVertices() will likely fix the issue, especially since you don&#39;t need them there to begin with, as you aren&#39;t drawing those vertices at that time.","title":"why the second method call crashes java?","body":"<p>Doing a collision you are probably in a different opengl state/context. Calling openGL functions in the wrong state/context at the wrong time could be the cause of the crash.</p>\n<p>The main issue is that your Sphere.GetVertices() function uses glTexCoord2f and glColor3f while it's not clear what context you are in. You can only call those from the thread the GLContext was created in, you should also only call them during actual draw contexts (i.e. between glBegin and glEnd).</p>\n<p>Removing glColor3f and glTexCoord2f from GetVertices() will likely fix the issue, especially since you don't need them there to begin with, as you aren't drawing those vertices at that time.</p>\n"}],"owner":{"account_id":28779521,"reputation":47,"user_id":22041411,"display_name":"notwhale"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1693072488,"creation_date":1692700399,"question_id":76952419,"body_markdown":"I&#39;m making a java 3d project with **lwjgl**.\r\n\r\nJava **crashes** when calling Sphere.getVertices() method. But when I try to detect a collision between two **cubes**, I see a black screen **with no components**, but java **doesn&#39;t** crash.\r\n\r\n**log**\r\n```\r\n#\r\n# A fatal error has been detected by the Java Runtime Environment:\r\n#\r\n#  EXCEPTION_ACCESS_VIOLATION (0xc0000005) at pc=0x00007ffbbedaa293, pid=2500, tid=1752\r\n#\r\n# JRE version: OpenJDK Runtime Environment Temurin-17.0.7+7 (17.0.7+7) (build 17.0.7+7)\r\n# Java VM: OpenJDK 64-Bit Server VM Temurin-17.0.7+7 (17.0.7+7, mixed mode, sharing, tiered, compressed oops, compressed class ptrs, g1 gc, windows-amd64)\r\n# Problematic frame:\r\n# C  [lwjgl_opengl.dll+0xa293]\r\n#\r\n# No core dump will be written. Minidumps are not enabled by default on client versions of Windows\r\n#\r\n# If you would like to submit a bug report, please visit:\r\n#   https://github.com/adoptium/adoptium-support/issues\r\n# The crash happened outside the Java Virtual Machine in native code.\r\n# See problematic frame for where to report the bug.\r\n#\r\n\r\n---------------  S U M M A R Y ------------\r\n\r\nCommand Line: -XX:+ShowCodeDetailsInExceptionMessages Main\r\n\r\nHost: Intel(R) Core(TM) i5-8265U CPU @ 1.60GHz, 8 cores, 7G,  Windows 10 , 64 bit Build 19041 (10.0.19041.3155)\r\nTime: Tue Aug 22 12:57:53 2023 RTZ 2 (s 10 , 64 bit Build 19041 (10.0.19041.3155) elapsed time: 0.495254 seconds (0d 0h 0m 0s)\r\n\r\n---------------  T H R E A D  ---------------\r\n\r\nCurrent thread (0x000001bc95c0e1a0):  JavaThread &quot;main&quot; [_thread_in_native, id=1752, stack(0x000000481f200000,0x000000481f300000)]\r\n\r\nStack: [0x000000481f200000,0x000000481f300000],  sp=0x000000481f2ff4c8,  free space=1021k\r\nNative frames: (J=compiled Java code, j=interpreted, Vv=VM code, C=native code)\r\nC  [lwjgl_opengl.dll+0xa293]\r\n\r\nJava frames: (J=compiled Java code, j=interpreted, Vv=VM code)\r\nj  org.lwjgl.opengl.GL11.glColor3f(FFF)V+0\r\nj  Models.Sphere$1.&lt;init&gt;(LModels/Sphere;)V+21\r\nj  Models.Sphere.getVertices()Ljava/util/ArrayList;+5\r\nj  Engine.Component.checkColision(LEngine/Component;)Z+21\r\nj  Main.main([Ljava/lang/String;)V+86\r\nv  ~StubRoutines::call_stub\r\n\r\nsiginfo: EXCEPTION_ACCESS_VIOLATION (0xc0000005), reading address 0x00000000000000b0\r\n\r\n\r\nRegister to memory mapping:\r\n\r\nRIP=0x00007ffbbedaa293 lwjgl_opengl.dll\r\nRAX=0x000001bcb84a83e0 points into unknown readable memory: 0x0000000000000000 | 00 00 00 00 00 00 00 00\r\nRBX={method} {0x000001bcb4704b78} &#39;glColor3f&#39; &#39;(FFF)V&#39; in &#39;org/lwjgl/opengl/GL11&#39;\r\nRCX=0x0 is NULL\r\nRDX=0x000000481f2ff560 is pointing into the stack for thread: 0x000001bc95c0e1a0\r\nRSP=0x000000481f2ff4c8 is pointing into the stack for thread: 0x000001bc95c0e1a0\r\nRBP=0x000000481f2ff550 is pointing into the stack for thread: 0x000001bc95c0e1a0\r\nRSI=0x000001bcb4007c98 is pointing into metadata\r\nRDI=0x0000000000009c1a is an unknown value\r\nR8 =0x0000000000000002 is an unknown value\r\nR9 =0x0000000000000002 is an unknown value\r\nR10=0x000001bca4c3d5f2 is at code_begin+946 in an Interpreter codelet\r\nmethod entry point (kind = native)  [0x000001bca4c3d240, 0x000001bca4c3dbc0]  2432 bytes\r\nR11=0x00000000894524c0 is an oop: java.lang.Class \r\n{0x00000000894524c0} - klass: &#39;java/lang/Class&#39;]\r\n```\r\n\r\n\r\n**Component.java** code:\r\n\r\n```\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\nimport org.joml.Matrix4f;\r\nimport org.joml.Vector3f;\r\n\r\n\r\npublic abstract class Component {\r\n    private Vector3f pos = new Vector3f(0, 0, 0);\r\n    private Vector3f rotate = new Vector3f(0, 0, 0);\r\n    private Vector3f scale = new Vector3f(1, 1, 1);\r\n\r\n    public boolean checkColision(Component component) {\r\n        ArrayList&lt;Vector3f&gt; transformedVertices = transformVertices(getVertices(), pos, rotate, scale);\r\n        ArrayList&lt;Vector3f&gt; componentTransformedVertices = transformVertices(component.getVertices(), component.getPos(), component.getRotate(), component.getScale()); //The problem is probably here.\r\n\r\n\r\n        Vector3f max = new Vector3f(Float.MIN_VALUE, Float.MIN_VALUE, Float.MIN_VALUE);\r\n        Vector3f min = new Vector3f(Float.MAX_VALUE, Float.MAX_VALUE, Float.MAX_VALUE);\r\n\r\n        for(Vector3f vertex : transformedVertices) {\r\n            if(vertex.x &gt; max.x) max.x = vertex.x;\r\n            if(vertex.y &gt; max.y) max.y = vertex.y;\r\n            if(vertex.z &gt; max.z) max.z = vertex.z;\r\n\r\n            if(vertex.x &lt; min.x) min.x = vertex.x;\r\n            if(vertex.y &lt; min.y) min.y = vertex.y;\r\n            if(vertex.z &lt; min.z) min.z = vertex.z;\r\n        }\r\n\r\n        Vector3f componentMax = new Vector3f(Float.MIN_VALUE, Float.MIN_VALUE, Float.MIN_VALUE);\r\n        Vector3f componentMin = new Vector3f(Float.MAX_VALUE, Float.MAX_VALUE, Float.MAX_VALUE);\r\n\r\n        for(Vector3f vertex : componentTransformedVertices) {\r\n            if(vertex.x &gt; componentMax.x) componentMax.x = vertex.x;\r\n            if(vertex.y &gt; componentMax.y) componentMax.y = vertex.y;\r\n            if(vertex.z &gt; componentMax.z) componentMax.z = vertex.z;\r\n\r\n            if(vertex.x &lt; componentMin.x) componentMin.x = vertex.x;\r\n            if(vertex.y &lt; componentMin.y) componentMin.y = vertex.y;\r\n            if(vertex.z &lt; componentMin.z) componentMin.z = vertex.z;\r\n        }\r\n\r\n        if (max.x &lt;= componentMin.x || min.x &gt;= componentMax.x) return false;\r\n        if (max.y &lt;= componentMin.y || min.y &gt;= componentMax.y) return false;\r\n        if (max.z &lt;= componentMin.z || min.z &gt;= componentMax.z) return false;\r\n        return true;\r\n    }\r\n\r\n//some getters and setters.\r\n\r\n    public abstract ArrayList&lt;Vector3f&gt; getVertices(); //returns an arraylist of object vertex coordinates for collision detection.\r\n\r\n    private synchronized static ArrayList&lt;Vector3f&gt; transformVertices(ArrayList&lt;Vector3f&gt; vertices, Vector3f position, Vector3f rotation, Vector3f scale) {\r\n        ArrayList&lt;Vector3f&gt; transformedVertices = new ArrayList&lt;&gt;();\r\n        Matrix4f transformationMatrix = new Matrix4f()\r\n            .translate(position)\r\n            .rotateX((float) Math.toRadians(rotation.x))\r\n            .rotateY((float) Math.toRadians(rotation.y))\r\n            .rotateZ((float) Math.toRadians(rotation.z))\r\n            .scale(scale);\r\n\r\n        for (Vector3f vertex : vertices) {\r\n            Vector3f transformedVertex = new Vector3f(vertex);\r\n            transformedVertex.mulPosition(transformationMatrix);\r\n            transformedVertices.add(transformedVertex);\r\n        }\r\n\r\n        return transformedVertices;\r\n    }\r\n}\r\n```\r\n\r\n**Sphere.java** code:\r\n```\r\npackage Models;\r\n\r\nimport Engine.Component;\r\nimport org.lwjgl.opengl.GL11;\r\n\r\nimport static org.lwjgl.opengl.GL11.*;\r\n\r\nimport java.util.ArrayList;\r\n\r\nimport org.joml.Vector3f;\r\n\r\npublic class Sphere extends Component {\r\n    public float radius = 1.0f;\r\n    public int gradation = 100;\r\n    public final float PI = (float) Math.PI;\r\n    @Override\r\n    public void draw() {\r\n        float x, y, z, alpha, beta;\r\n        for (alpha = 0.0f; alpha &lt; Math.PI; alpha += PI / gradation) {\r\n            glBegin(GL_TRIANGLE_STRIP);\r\n            GL11.glColor3f(0.7f, 0.7f, 0.7f);\r\n            for (beta = 0.0f; beta &lt; 2.01f * Math.PI; beta += PI / gradation) {\r\n                x = (float) (radius * Math.cos(beta) * Math.sin(alpha));\r\n                y = (float) (radius * Math.sin(beta) * Math.sin(alpha));\r\n                z = (float) (radius * Math.cos(alpha));\r\n                glTexCoord2f(beta / (2.0f * PI), alpha / PI);\r\n                glVertex3f(x, y, z);\r\n                x = (float) (radius * Math.cos(beta) * Math.sin(alpha + PI / gradation));\r\n                y = (float) (radius * Math.sin(beta) * Math.sin(alpha + PI / gradation));\r\n                z = (float) (radius * Math.cos(alpha + PI / gradation));\r\n                glTexCoord2f(beta / (2.0f * PI), alpha / PI + 1.0f / gradation);\r\n                glVertex3f(x, y, z);\r\n            }\r\n            glEnd();\r\n        }\r\n    }\r\n    @Override\r\n    public ArrayList&lt;Vector3f&gt; getVertices() {\r\n        return new ArrayList&lt;Vector3f&gt;() {{\r\n            float x, y, z, alpha, beta;\r\n            for (alpha = 0.0f; alpha &lt; Math.PI; alpha += PI / gradation) {\r\n                GL11.glColor3f(0.7f, 0.7f, 0.7f);\r\n                for (beta = 0.0f; beta &lt; 2.01f * Math.PI; beta += PI / gradation) {\r\n                    x = (float) (radius * Math.cos(beta) * Math.sin(alpha));\r\n                    y = (float) (radius * Math.sin(beta) * Math.sin(alpha));\r\n                    z = (float) (radius * Math.cos(alpha));\r\n                    glTexCoord2f(beta / (2.0f * PI), alpha / PI);\r\n                    add(new Vector3f(x, y, z));\r\n                    x = (float) (radius * Math.cos(beta) * Math.sin(alpha + PI / gradation));\r\n                    y = (float) (radius * Math.sin(beta) * Math.sin(alpha + PI / gradation));\r\n                    z = (float) (radius * Math.cos(alpha + PI / gradation));\r\n                    glTexCoord2f(beta / (2.0f * PI), alpha / PI + 1.0f / gradation);\r\n                    add(new Vector3f(x, y, z));\r\n                }\r\n            }\r\n        }};\r\n    }\r\n}\r\n```\r\n\r\n**Cube.java** code:\r\n```\r\npackage Models;\r\n\r\nimport Engine.Component;\r\n\r\nimport java.util.ArrayList;\r\n\r\nimport org.joml.Vector3f;\r\nimport org.lwjgl.opengl.GL11;\r\n\r\npublic class Cube extends Component {\r\n    public float size = 1.0f;\r\n    @Override\r\n    public void draw() {\r\n        GL11.glBegin(GL11.GL_QUADS);\r\n        GL11.glColor3f(0.7f, 0.7f, 0.7f);\r\n\r\n        GL11.glVertex3f(-size, size, -size);\r\n        GL11.glVertex3f(size, size, -size);\r\n        GL11.glVertex3f(size, size, size);\r\n        GL11.glVertex3f(-size, size, size);\r\n\r\n        GL11.glVertex3f(-size, -size, -size);\r\n        GL11.glVertex3f(-size, -size, size);\r\n        GL11.glVertex3f(size, -size, size);\r\n        GL11.glVertex3f(size, -size, -size);\r\n\r\n        GL11.glVertex3f(-size, -size, size);\r\n        GL11.glVertex3f(-size, size, size);\r\n        GL11.glVertex3f(size, size, size);\r\n        GL11.glVertex3f(size, -size, size);\r\n\r\n        GL11.glVertex3f(-size, -size, -size);\r\n        GL11.glVertex3f(size, -size, -size);\r\n        GL11.glVertex3f(size, size, -size);\r\n        GL11.glVertex3f(-size, size, -size);\r\n\r\n        GL11.glVertex3f(-size, -size, -size);\r\n        GL11.glVertex3f(-size, -size, size);\r\n        GL11.glVertex3f(-size, size, size);\r\n        GL11.glVertex3f(-size, size, -size);\r\n\r\n        GL11.glVertex3f(size, -size, -size);\r\n        GL11.glVertex3f(size, size, -size);\r\n        GL11.glVertex3f(size, size, size);\r\n        GL11.glVertex3f(size, -size, size);\r\n\r\n        GL11.glEnd();\r\n    }\r\n\r\n    @Override\r\n    public ArrayList&lt;Vector3f&gt; getVertices() {\r\n        return new ArrayList&lt;Vector3f&gt;() {{\r\n            add(new Vector3f(-size, size, -size));\r\n            add(new Vector3f(size, size, -size));\r\n            add(new Vector3f(size, size, size));\r\n            add(new Vector3f(-size, size, size));\r\n            add(new Vector3f(-size, -size, -size));\r\n            add(new Vector3f(-size, -size, size));\r\n            add(new Vector3f(size, -size, size));\r\n            add(new Vector3f(size, -size, -size));\r\n            add(new Vector3f(-size, -size, size));\r\n            add(new Vector3f(-size, size, size));\r\n            add(new Vector3f(size, size, size));\r\n            add(new Vector3f(size, -size, size));\r\n            add(new Vector3f(-size, -size, -size));\r\n            add(new Vector3f(size, -size, -size));\r\n            add(new Vector3f(size, size, -size));\r\n            add(new Vector3f(-size, size, -size));\r\n            add(new Vector3f(-size, -size, -size));\r\n            add(new Vector3f(-size, -size, size));\r\n            add(new Vector3f(-size, size, size));\r\n            add(new Vector3f(-size, size, -size));\r\n            add(new Vector3f(size, -size, -size));\r\n            add(new Vector3f(size, size, -size));\r\n            add(new Vector3f(size, size, size));\r\n            add(new Vector3f(size, -size, size));\r\n        }};\r\n    }\r\n}\r\n\r\n```\r\n\r\nInstead of **crashing**, I would like to have a method that returns **true** when object boundaries are crossed.\r\n","title":"why the second method call crashes java?","body":"<p>I'm making a java 3d project with <strong>lwjgl</strong>.</p>\n<p>Java <strong>crashes</strong> when calling Sphere.getVertices() method. But when I try to detect a collision between two <strong>cubes</strong>, I see a black screen <strong>with no components</strong>, but java <strong>doesn't</strong> crash.</p>\n<p><strong>log</strong></p>\n<pre><code>#\n# A fatal error has been detected by the Java Runtime Environment:\n#\n#  EXCEPTION_ACCESS_VIOLATION (0xc0000005) at pc=0x00007ffbbedaa293, pid=2500, tid=1752\n#\n# JRE version: OpenJDK Runtime Environment Temurin-17.0.7+7 (17.0.7+7) (build 17.0.7+7)\n# Java VM: OpenJDK 64-Bit Server VM Temurin-17.0.7+7 (17.0.7+7, mixed mode, sharing, tiered, compressed oops, compressed class ptrs, g1 gc, windows-amd64)\n# Problematic frame:\n# C  [lwjgl_opengl.dll+0xa293]\n#\n# No core dump will be written. Minidumps are not enabled by default on client versions of Windows\n#\n# If you would like to submit a bug report, please visit:\n#   https://github.com/adoptium/adoptium-support/issues\n# The crash happened outside the Java Virtual Machine in native code.\n# See problematic frame for where to report the bug.\n#\n\n---------------  S U M M A R Y ------------\n\nCommand Line: -XX:+ShowCodeDetailsInExceptionMessages Main\n\nHost: Intel(R) Core(TM) i5-8265U CPU @ 1.60GHz, 8 cores, 7G,  Windows 10 , 64 bit Build 19041 (10.0.19041.3155)\nTime: Tue Aug 22 12:57:53 2023 RTZ 2 (s 10 , 64 bit Build 19041 (10.0.19041.3155) elapsed time: 0.495254 seconds (0d 0h 0m 0s)\n\n---------------  T H R E A D  ---------------\n\nCurrent thread (0x000001bc95c0e1a0):  JavaThread &quot;main&quot; [_thread_in_native, id=1752, stack(0x000000481f200000,0x000000481f300000)]\n\nStack: [0x000000481f200000,0x000000481f300000],  sp=0x000000481f2ff4c8,  free space=1021k\nNative frames: (J=compiled Java code, j=interpreted, Vv=VM code, C=native code)\nC  [lwjgl_opengl.dll+0xa293]\n\nJava frames: (J=compiled Java code, j=interpreted, Vv=VM code)\nj  org.lwjgl.opengl.GL11.glColor3f(FFF)V+0\nj  Models.Sphere$1.&lt;init&gt;(LModels/Sphere;)V+21\nj  Models.Sphere.getVertices()Ljava/util/ArrayList;+5\nj  Engine.Component.checkColision(LEngine/Component;)Z+21\nj  Main.main([Ljava/lang/String;)V+86\nv  ~StubRoutines::call_stub\n\nsiginfo: EXCEPTION_ACCESS_VIOLATION (0xc0000005), reading address 0x00000000000000b0\n\n\nRegister to memory mapping:\n\nRIP=0x00007ffbbedaa293 lwjgl_opengl.dll\nRAX=0x000001bcb84a83e0 points into unknown readable memory: 0x0000000000000000 | 00 00 00 00 00 00 00 00\nRBX={method} {0x000001bcb4704b78} 'glColor3f' '(FFF)V' in 'org/lwjgl/opengl/GL11'\nRCX=0x0 is NULL\nRDX=0x000000481f2ff560 is pointing into the stack for thread: 0x000001bc95c0e1a0\nRSP=0x000000481f2ff4c8 is pointing into the stack for thread: 0x000001bc95c0e1a0\nRBP=0x000000481f2ff550 is pointing into the stack for thread: 0x000001bc95c0e1a0\nRSI=0x000001bcb4007c98 is pointing into metadata\nRDI=0x0000000000009c1a is an unknown value\nR8 =0x0000000000000002 is an unknown value\nR9 =0x0000000000000002 is an unknown value\nR10=0x000001bca4c3d5f2 is at code_begin+946 in an Interpreter codelet\nmethod entry point (kind = native)  [0x000001bca4c3d240, 0x000001bca4c3dbc0]  2432 bytes\nR11=0x00000000894524c0 is an oop: java.lang.Class \n{0x00000000894524c0} - klass: 'java/lang/Class']\n</code></pre>\n<p><strong>Component.java</strong> code:</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\n\nimport org.joml.Matrix4f;\nimport org.joml.Vector3f;\n\n\npublic abstract class Component {\n    private Vector3f pos = new Vector3f(0, 0, 0);\n    private Vector3f rotate = new Vector3f(0, 0, 0);\n    private Vector3f scale = new Vector3f(1, 1, 1);\n\n    public boolean checkColision(Component component) {\n        ArrayList&lt;Vector3f&gt; transformedVertices = transformVertices(getVertices(), pos, rotate, scale);\n        ArrayList&lt;Vector3f&gt; componentTransformedVertices = transformVertices(component.getVertices(), component.getPos(), component.getRotate(), component.getScale()); //The problem is probably here.\n\n\n        Vector3f max = new Vector3f(Float.MIN_VALUE, Float.MIN_VALUE, Float.MIN_VALUE);\n        Vector3f min = new Vector3f(Float.MAX_VALUE, Float.MAX_VALUE, Float.MAX_VALUE);\n\n        for(Vector3f vertex : transformedVertices) {\n            if(vertex.x &gt; max.x) max.x = vertex.x;\n            if(vertex.y &gt; max.y) max.y = vertex.y;\n            if(vertex.z &gt; max.z) max.z = vertex.z;\n\n            if(vertex.x &lt; min.x) min.x = vertex.x;\n            if(vertex.y &lt; min.y) min.y = vertex.y;\n            if(vertex.z &lt; min.z) min.z = vertex.z;\n        }\n\n        Vector3f componentMax = new Vector3f(Float.MIN_VALUE, Float.MIN_VALUE, Float.MIN_VALUE);\n        Vector3f componentMin = new Vector3f(Float.MAX_VALUE, Float.MAX_VALUE, Float.MAX_VALUE);\n\n        for(Vector3f vertex : componentTransformedVertices) {\n            if(vertex.x &gt; componentMax.x) componentMax.x = vertex.x;\n            if(vertex.y &gt; componentMax.y) componentMax.y = vertex.y;\n            if(vertex.z &gt; componentMax.z) componentMax.z = vertex.z;\n\n            if(vertex.x &lt; componentMin.x) componentMin.x = vertex.x;\n            if(vertex.y &lt; componentMin.y) componentMin.y = vertex.y;\n            if(vertex.z &lt; componentMin.z) componentMin.z = vertex.z;\n        }\n\n        if (max.x &lt;= componentMin.x || min.x &gt;= componentMax.x) return false;\n        if (max.y &lt;= componentMin.y || min.y &gt;= componentMax.y) return false;\n        if (max.z &lt;= componentMin.z || min.z &gt;= componentMax.z) return false;\n        return true;\n    }\n\n//some getters and setters.\n\n    public abstract ArrayList&lt;Vector3f&gt; getVertices(); //returns an arraylist of object vertex coordinates for collision detection.\n\n    private synchronized static ArrayList&lt;Vector3f&gt; transformVertices(ArrayList&lt;Vector3f&gt; vertices, Vector3f position, Vector3f rotation, Vector3f scale) {\n        ArrayList&lt;Vector3f&gt; transformedVertices = new ArrayList&lt;&gt;();\n        Matrix4f transformationMatrix = new Matrix4f()\n            .translate(position)\n            .rotateX((float) Math.toRadians(rotation.x))\n            .rotateY((float) Math.toRadians(rotation.y))\n            .rotateZ((float) Math.toRadians(rotation.z))\n            .scale(scale);\n\n        for (Vector3f vertex : vertices) {\n            Vector3f transformedVertex = new Vector3f(vertex);\n            transformedVertex.mulPosition(transformationMatrix);\n            transformedVertices.add(transformedVertex);\n        }\n\n        return transformedVertices;\n    }\n}\n</code></pre>\n<p><strong>Sphere.java</strong> code:</p>\n<pre><code>package Models;\n\nimport Engine.Component;\nimport org.lwjgl.opengl.GL11;\n\nimport static org.lwjgl.opengl.GL11.*;\n\nimport java.util.ArrayList;\n\nimport org.joml.Vector3f;\n\npublic class Sphere extends Component {\n    public float radius = 1.0f;\n    public int gradation = 100;\n    public final float PI = (float) Math.PI;\n    @Override\n    public void draw() {\n        float x, y, z, alpha, beta;\n        for (alpha = 0.0f; alpha &lt; Math.PI; alpha += PI / gradation) {\n            glBegin(GL_TRIANGLE_STRIP);\n            GL11.glColor3f(0.7f, 0.7f, 0.7f);\n            for (beta = 0.0f; beta &lt; 2.01f * Math.PI; beta += PI / gradation) {\n                x = (float) (radius * Math.cos(beta) * Math.sin(alpha));\n                y = (float) (radius * Math.sin(beta) * Math.sin(alpha));\n                z = (float) (radius * Math.cos(alpha));\n                glTexCoord2f(beta / (2.0f * PI), alpha / PI);\n                glVertex3f(x, y, z);\n                x = (float) (radius * Math.cos(beta) * Math.sin(alpha + PI / gradation));\n                y = (float) (radius * Math.sin(beta) * Math.sin(alpha + PI / gradation));\n                z = (float) (radius * Math.cos(alpha + PI / gradation));\n                glTexCoord2f(beta / (2.0f * PI), alpha / PI + 1.0f / gradation);\n                glVertex3f(x, y, z);\n            }\n            glEnd();\n        }\n    }\n    @Override\n    public ArrayList&lt;Vector3f&gt; getVertices() {\n        return new ArrayList&lt;Vector3f&gt;() {{\n            float x, y, z, alpha, beta;\n            for (alpha = 0.0f; alpha &lt; Math.PI; alpha += PI / gradation) {\n                GL11.glColor3f(0.7f, 0.7f, 0.7f);\n                for (beta = 0.0f; beta &lt; 2.01f * Math.PI; beta += PI / gradation) {\n                    x = (float) (radius * Math.cos(beta) * Math.sin(alpha));\n                    y = (float) (radius * Math.sin(beta) * Math.sin(alpha));\n                    z = (float) (radius * Math.cos(alpha));\n                    glTexCoord2f(beta / (2.0f * PI), alpha / PI);\n                    add(new Vector3f(x, y, z));\n                    x = (float) (radius * Math.cos(beta) * Math.sin(alpha + PI / gradation));\n                    y = (float) (radius * Math.sin(beta) * Math.sin(alpha + PI / gradation));\n                    z = (float) (radius * Math.cos(alpha + PI / gradation));\n                    glTexCoord2f(beta / (2.0f * PI), alpha / PI + 1.0f / gradation);\n                    add(new Vector3f(x, y, z));\n                }\n            }\n        }};\n    }\n}\n</code></pre>\n<p><strong>Cube.java</strong> code:</p>\n<pre><code>package Models;\n\nimport Engine.Component;\n\nimport java.util.ArrayList;\n\nimport org.joml.Vector3f;\nimport org.lwjgl.opengl.GL11;\n\npublic class Cube extends Component {\n    public float size = 1.0f;\n    @Override\n    public void draw() {\n        GL11.glBegin(GL11.GL_QUADS);\n        GL11.glColor3f(0.7f, 0.7f, 0.7f);\n\n        GL11.glVertex3f(-size, size, -size);\n        GL11.glVertex3f(size, size, -size);\n        GL11.glVertex3f(size, size, size);\n        GL11.glVertex3f(-size, size, size);\n\n        GL11.glVertex3f(-size, -size, -size);\n        GL11.glVertex3f(-size, -size, size);\n        GL11.glVertex3f(size, -size, size);\n        GL11.glVertex3f(size, -size, -size);\n\n        GL11.glVertex3f(-size, -size, size);\n        GL11.glVertex3f(-size, size, size);\n        GL11.glVertex3f(size, size, size);\n        GL11.glVertex3f(size, -size, size);\n\n        GL11.glVertex3f(-size, -size, -size);\n        GL11.glVertex3f(size, -size, -size);\n        GL11.glVertex3f(size, size, -size);\n        GL11.glVertex3f(-size, size, -size);\n\n        GL11.glVertex3f(-size, -size, -size);\n        GL11.glVertex3f(-size, -size, size);\n        GL11.glVertex3f(-size, size, size);\n        GL11.glVertex3f(-size, size, -size);\n\n        GL11.glVertex3f(size, -size, -size);\n        GL11.glVertex3f(size, size, -size);\n        GL11.glVertex3f(size, size, size);\n        GL11.glVertex3f(size, -size, size);\n\n        GL11.glEnd();\n    }\n\n    @Override\n    public ArrayList&lt;Vector3f&gt; getVertices() {\n        return new ArrayList&lt;Vector3f&gt;() {{\n            add(new Vector3f(-size, size, -size));\n            add(new Vector3f(size, size, -size));\n            add(new Vector3f(size, size, size));\n            add(new Vector3f(-size, size, size));\n            add(new Vector3f(-size, -size, -size));\n            add(new Vector3f(-size, -size, size));\n            add(new Vector3f(size, -size, size));\n            add(new Vector3f(size, -size, -size));\n            add(new Vector3f(-size, -size, size));\n            add(new Vector3f(-size, size, size));\n            add(new Vector3f(size, size, size));\n            add(new Vector3f(size, -size, size));\n            add(new Vector3f(-size, -size, -size));\n            add(new Vector3f(size, -size, -size));\n            add(new Vector3f(size, size, -size));\n            add(new Vector3f(-size, size, -size));\n            add(new Vector3f(-size, -size, -size));\n            add(new Vector3f(-size, -size, size));\n            add(new Vector3f(-size, size, size));\n            add(new Vector3f(-size, size, -size));\n            add(new Vector3f(size, -size, -size));\n            add(new Vector3f(size, size, -size));\n            add(new Vector3f(size, size, size));\n            add(new Vector3f(size, -size, size));\n        }};\n    }\n}\n\n</code></pre>\n<p>Instead of <strong>crashing</strong>, I would like to have a method that returns <strong>true</strong> when object boundaries are crossed.</p>\n"},{"tags":["java","intellij-idea","javafx","tableview","getter"],"comments":[{"owner":{"account_id":13010918,"reputation":442,"user_id":11532975,"display_name":"Adrian Lagartera"},"score":2,"creation_date":1692865303,"post_id":76967262,"comment_id":135682723,"body_markdown":"Well, if you don&#39;t have an error log at all, probably something in your events is wrong in the way you put it, as a tip try to debug on the lambda events you actually have, to see if it is really triggering. That&#39;s all I can say since there is no error log.","body":"Well, if you don&#39;t have an error log at all, probably something in your events is wrong in the way you put it, as a tip try to debug on the lambda events you actually have, to see if it is really triggering. That&#39;s all I can say since there is no error log."},{"owner":{"account_id":11370459,"reputation":321,"user_id":8336150,"display_name":"FARS"},"score":0,"creation_date":1692900919,"post_id":76967262,"comment_id":135690786,"body_markdown":"That isn&#39;t about your post, but I strongly suggest you to start using Maven and Hibernate/Lombok dependencies within. I know it might look like a lot right now, but thrust me. 1 week understanding how to use it and you&#39;ll never want to make things the way you&#39;re doing right now. It&#39;s just so much easier and faster.","body":"That isn&#39;t about your post, but I strongly suggest you to start using Maven and Hibernate/Lombok dependencies within. I know it might look like a lot right now, but thrust me. 1 week understanding how to use it and you&#39;ll never want to make things the way you&#39;re doing right now. It&#39;s just so much easier and faster."}],"owner":{"account_id":23756960,"reputation":1,"user_id":17772974,"display_name":"Ilaria Meghi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693071517,"creation_date":1692863862,"question_id":76967262,"body_markdown":"I&#39;m trying to display data from a database in a TableView in JavaFx, and I&#39;m using the class CheckAssunzione for creating my assunzione object that will be used to populate the table. I also have a refresh button that should update the lines in the table but is not working either.\r\nI don&#39;t get any errors/warnings in the terminal so I really don&#39;t know what is wrong but it&#39;s not filling up my table at all. Thanks for your help \r\n\r\n\r\n\r\n```\r\nDBUTILS CLASS THAT DOES THE DB QUERIES\r\n    // assunzioni registrate dal paziente di ogni farmaco a lui prescritto\r\n    public static int getAssunzioniGiornalierePerFarmaco(int pid, int fid) {\r\n        Connection connection = DBConnection.getConn();\r\n        PreparedStatement pst = null;\r\n        try {\r\n            pst = connection.prepareStatement(&quot;SELECT COUNT(pid) AS n_ass FROM assunzione WHERE  pid = ? AND fid = ? AND date(dataora) = current_date&quot;);\r\n            pst.setInt(1, pid);\r\n            pst.setInt(2, fid);\r\n            ResultSet rs = pst.executeQuery();\r\n            if (rs.next()) {\r\n                return rs.getInt(&quot;n_ass&quot;);\r\n            }\r\n        }catch (SQLException e){\r\n            System.out.println(&quot;Errore lettura dati&quot; + e.getMessage());\r\n        }\r\n        return 0;\r\n    }\r\n\r\n    //assunzioni prescritte al paziente di ogni farmaco\r\n    public static int getAssunzioniPrescrittePerFarmaco(int pid, int fid) {\r\n        Connection connection = DBConnection.getConn();\r\n        PreparedStatement pst = null;\r\n        try {\r\n            pst = connection.prepareStatement(&quot;SELECT n_ass FROM terapia WHERE  pid = ? AND fid = ?&quot;);\r\n            pst.setInt(1, pid);\r\n            pst.setInt(2, fid);\r\n            ResultSet rs = pst.executeQuery();\r\n            if (rs.next()) {\r\n                return rs.getInt(&quot;n_ass&quot;);\r\n            }\r\n        }catch (SQLException e){\r\n            System.out.println(&quot;Errore lettura dati&quot; + e.getMessage());\r\n        }\r\n        return 0;\r\n    }\r\n}\r\n```\r\n\r\n```\r\nCHECKASSUNZIONE CLASS\r\npackage com.example.demosw2023;\r\n\r\npublic class CheckAssunzione {\r\n    private String nomeF;\r\n    private int n_assP;\r\n    private int n_assG;\r\n\r\n    public CheckAssunzione(String nomeF, int n_assP, int n_assG) {\r\n        this.nomeF = nomeF;\r\n        this.n_assP = n_assP;\r\n        this.n_assG = n_assG;\r\n    }\r\n\r\n    public String getNomeF() {\r\n        return nomeF;\r\n    }\r\n\r\n    public int getN_assP() {\r\n        return n_assP;\r\n    }\r\n\r\n    public int getN_assG() {\r\n        return n_assG;\r\n    }\r\n}\r\n```\r\n\r\n\r\n```\r\nCONTROLLER CLASS THAT HAS THE TABLE\r\npackage com.example.demosw2023;\r\n\r\nimport javafx.collections.FXCollections;\r\nimport javafx.collections.ObservableList;\r\nimport javafx.event.ActionEvent;\r\nimport javafx.event.EventHandler;\r\nimport javafx.fxml.FXML;\r\nimport javafx.fxml.Initializable;\r\nimport javafx.scene.control.*;\r\nimport javafx.scene.control.cell.PropertyValueFactory;\r\nimport java.net.URL;\r\nimport java.sql.*;\r\nimport java.util.ResourceBundle;\r\n\r\npublic class LoggedInPazController implements Initializable{\r\n    static int pidPaz;\r\n    static {\r\n        pidPaz = GetPid.pid;\r\n    }\r\n    @FXML\r\n    private Button b_logout;\r\n    @FXML\r\n    private Label label_welcome;\r\n    @FXML\r\n    private Button b_pressione;\r\n    @FXML\r\n    private Button b_sintomi;\r\n    @FXML\r\n    private Button b_farmaci;\r\n    @FXML\r\n    private Button b_segnalazioni;\r\n    @FXML\r\n    private Button b_contatta;\r\n    @FXML\r\n    private Button b_terapie;\r\n    @FXML\r\n    private Button b_refresh;\r\n\r\n    @FXML\r\n    private TableView&lt;CheckAssunzione&gt; tb_checkassunzioni;\r\n    ObservableList&lt;CheckAssunzione&gt; alert = FXCollections.observableArrayList();\r\n    @FXML\r\n    private TableColumn&lt;CheckAssunzione, String&gt; tc_farmaco;\r\n    @FXML\r\n    private TableColumn&lt;CheckAssunzione, Integer&gt; tc_assunzioniGiornaliere;\r\n    @FXML\r\n    private TableColumn&lt;CheckAssunzione, Integer&gt; tc_assunzioniPrescritte;\r\n\r\n    public void visualizzaAssunzioni(int pidPaz){\r\n        Connection connection = DBConnection.getConn();\r\n        PreparedStatement pst_F;\r\n        ResultSet rs_F;\r\n        try{\r\n            pst_F = connection.prepareStatement(&quot;SELECT F.nome, F.fid FROM terapia T JOIN farmaco F on T.fid = F.fid WHERE pid = ?&quot;);\r\n            pst_F.setInt(1, pidPaz);\r\n            rs_F = pst_F.executeQuery();\r\n\r\n            alert.clear();\r\n            while (rs_F.next()) {\r\n                String nomeF = rs_F.getString(&quot;nome&quot;);\r\n                int n_assP = DBUtils.getAssunzioniPrescrittePerFarmaco(pidPaz, rs_F.getInt(&quot;fid&quot;));\r\n                int n_assG = DBUtils.getAssunzioniGiornalierePerFarmaco(pidPaz, rs_F.getInt(&quot;fid&quot;));\r\n                CheckAssunzione assunzione = new CheckAssunzione(nomeF, n_assP, n_assG);\r\n                alert.add(assunzione);\r\n            }\r\n            tb_checkassunzioni.setItems(alert);\r\n        }catch(SQLException e){\r\n            System.out.println(&quot;Errore lettura dati&quot; + e.getMessage());\r\n        }\r\n\r\n    }\r\n\r\n    @Override\r\n    public void initialize(URL url, ResourceBundle resourceBundle) {\r\n        tc_farmaco.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;nomeF&quot;));\r\n        tc_assunzioniPrescritte.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;n_assP&quot;));\r\n        tc_assunzioniGiornaliere.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;n_assG&quot;));\r\n        b_refresh.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\r\n            @Override\r\n            public void handle(ActionEvent event) {\r\n                visualizzaAssunzioni(pidPaz);\r\n            }\r\n        });\r\n\r\n        b_logout.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\r\n            @Override\r\n            public void handle(ActionEvent event) { View.changeScene(event, &quot;AccessOpt.fxml&quot;, &quot;Log in!&quot;);\r\n            }\r\n        });\r\n        b_pressione.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\r\n            @Override\r\n            public void handle(ActionEvent event) {\r\n                View.popUpScene(event, &quot;RegistraPressione.fxml&quot;, &quot;Registra le pressioni giornaliere&quot;);\r\n            }\r\n        });\r\n        b_farmaci.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\r\n            @Override\r\n            public void handle(ActionEvent event) {\r\n                View.popUpScene(event, &quot;RegistraAssunzione.fxml&quot;, &quot;Registra le assunzioni di farmaci&quot;);\r\n            }\r\n        });\r\n        b_contatta.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\r\n            @Override\r\n            public void handle(ActionEvent event) {\r\n                View.messageScene(event, &quot;Contatta.fxml&quot;, &quot;Contatta medico&quot;);\r\n            }\r\n        });\r\n        b_sintomi.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\r\n            @Override\r\n            public void handle(ActionEvent event) {\r\n                View.popUpScene(event, &quot;RegistraSintomo.fxml&quot;, &quot;Registra i sintomi&quot;);\r\n            }\r\n        });\r\n        b_segnalazioni.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\r\n            @Override\r\n            public void handle(ActionEvent event) {\r\n                View.popUpScene(event, &quot;RegistraPatologie.fxml&quot;, &quot;Registra le patologie&quot;);\r\n            }\r\n        });\r\n        b_terapie.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\r\n            @Override\r\n            public void handle(ActionEvent event) {\r\n                View.popUpScene(event, &quot;RegistraTerapia.fxml&quot;, &quot;Registra terapie concomitanti&quot;);\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    public void setUserInformation(String nome, String cognome){\r\n        label_welcome.setText(&quot;Benvenut@ &quot;+nome+&quot; &quot;+cognome+&quot;!&quot;);\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n\r\nI&#39;ve already populated another table using the same procedure and that is working properly. ","title":"IntelliJ seems to not recognize my getter methods","body":"<p>I'm trying to display data from a database in a TableView in JavaFx, and I'm using the class CheckAssunzione for creating my assunzione object that will be used to populate the table. I also have a refresh button that should update the lines in the table but is not working either.\nI don't get any errors/warnings in the terminal so I really don't know what is wrong but it's not filling up my table at all. Thanks for your help</p>\n<pre><code>DBUTILS CLASS THAT DOES THE DB QUERIES\n    // assunzioni registrate dal paziente di ogni farmaco a lui prescritto\n    public static int getAssunzioniGiornalierePerFarmaco(int pid, int fid) {\n        Connection connection = DBConnection.getConn();\n        PreparedStatement pst = null;\n        try {\n            pst = connection.prepareStatement(&quot;SELECT COUNT(pid) AS n_ass FROM assunzione WHERE  pid = ? AND fid = ? AND date(dataora) = current_date&quot;);\n            pst.setInt(1, pid);\n            pst.setInt(2, fid);\n            ResultSet rs = pst.executeQuery();\n            if (rs.next()) {\n                return rs.getInt(&quot;n_ass&quot;);\n            }\n        }catch (SQLException e){\n            System.out.println(&quot;Errore lettura dati&quot; + e.getMessage());\n        }\n        return 0;\n    }\n\n    //assunzioni prescritte al paziente di ogni farmaco\n    public static int getAssunzioniPrescrittePerFarmaco(int pid, int fid) {\n        Connection connection = DBConnection.getConn();\n        PreparedStatement pst = null;\n        try {\n            pst = connection.prepareStatement(&quot;SELECT n_ass FROM terapia WHERE  pid = ? AND fid = ?&quot;);\n            pst.setInt(1, pid);\n            pst.setInt(2, fid);\n            ResultSet rs = pst.executeQuery();\n            if (rs.next()) {\n                return rs.getInt(&quot;n_ass&quot;);\n            }\n        }catch (SQLException e){\n            System.out.println(&quot;Errore lettura dati&quot; + e.getMessage());\n        }\n        return 0;\n    }\n}\n</code></pre>\n<pre><code>CHECKASSUNZIONE CLASS\npackage com.example.demosw2023;\n\npublic class CheckAssunzione {\n    private String nomeF;\n    private int n_assP;\n    private int n_assG;\n\n    public CheckAssunzione(String nomeF, int n_assP, int n_assG) {\n        this.nomeF = nomeF;\n        this.n_assP = n_assP;\n        this.n_assG = n_assG;\n    }\n\n    public String getNomeF() {\n        return nomeF;\n    }\n\n    public int getN_assP() {\n        return n_assP;\n    }\n\n    public int getN_assG() {\n        return n_assG;\n    }\n}\n</code></pre>\n<pre><code>CONTROLLER CLASS THAT HAS THE TABLE\npackage com.example.demosw2023;\n\nimport javafx.collections.FXCollections;\nimport javafx.collections.ObservableList;\nimport javafx.event.ActionEvent;\nimport javafx.event.EventHandler;\nimport javafx.fxml.FXML;\nimport javafx.fxml.Initializable;\nimport javafx.scene.control.*;\nimport javafx.scene.control.cell.PropertyValueFactory;\nimport java.net.URL;\nimport java.sql.*;\nimport java.util.ResourceBundle;\n\npublic class LoggedInPazController implements Initializable{\n    static int pidPaz;\n    static {\n        pidPaz = GetPid.pid;\n    }\n    @FXML\n    private Button b_logout;\n    @FXML\n    private Label label_welcome;\n    @FXML\n    private Button b_pressione;\n    @FXML\n    private Button b_sintomi;\n    @FXML\n    private Button b_farmaci;\n    @FXML\n    private Button b_segnalazioni;\n    @FXML\n    private Button b_contatta;\n    @FXML\n    private Button b_terapie;\n    @FXML\n    private Button b_refresh;\n\n    @FXML\n    private TableView&lt;CheckAssunzione&gt; tb_checkassunzioni;\n    ObservableList&lt;CheckAssunzione&gt; alert = FXCollections.observableArrayList();\n    @FXML\n    private TableColumn&lt;CheckAssunzione, String&gt; tc_farmaco;\n    @FXML\n    private TableColumn&lt;CheckAssunzione, Integer&gt; tc_assunzioniGiornaliere;\n    @FXML\n    private TableColumn&lt;CheckAssunzione, Integer&gt; tc_assunzioniPrescritte;\n\n    public void visualizzaAssunzioni(int pidPaz){\n        Connection connection = DBConnection.getConn();\n        PreparedStatement pst_F;\n        ResultSet rs_F;\n        try{\n            pst_F = connection.prepareStatement(&quot;SELECT F.nome, F.fid FROM terapia T JOIN farmaco F on T.fid = F.fid WHERE pid = ?&quot;);\n            pst_F.setInt(1, pidPaz);\n            rs_F = pst_F.executeQuery();\n\n            alert.clear();\n            while (rs_F.next()) {\n                String nomeF = rs_F.getString(&quot;nome&quot;);\n                int n_assP = DBUtils.getAssunzioniPrescrittePerFarmaco(pidPaz, rs_F.getInt(&quot;fid&quot;));\n                int n_assG = DBUtils.getAssunzioniGiornalierePerFarmaco(pidPaz, rs_F.getInt(&quot;fid&quot;));\n                CheckAssunzione assunzione = new CheckAssunzione(nomeF, n_assP, n_assG);\n                alert.add(assunzione);\n            }\n            tb_checkassunzioni.setItems(alert);\n        }catch(SQLException e){\n            System.out.println(&quot;Errore lettura dati&quot; + e.getMessage());\n        }\n\n    }\n\n    @Override\n    public void initialize(URL url, ResourceBundle resourceBundle) {\n        tc_farmaco.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;nomeF&quot;));\n        tc_assunzioniPrescritte.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;n_assP&quot;));\n        tc_assunzioniGiornaliere.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;n_assG&quot;));\n        b_refresh.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\n            @Override\n            public void handle(ActionEvent event) {\n                visualizzaAssunzioni(pidPaz);\n            }\n        });\n\n        b_logout.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\n            @Override\n            public void handle(ActionEvent event) { View.changeScene(event, &quot;AccessOpt.fxml&quot;, &quot;Log in!&quot;);\n            }\n        });\n        b_pressione.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\n            @Override\n            public void handle(ActionEvent event) {\n                View.popUpScene(event, &quot;RegistraPressione.fxml&quot;, &quot;Registra le pressioni giornaliere&quot;);\n            }\n        });\n        b_farmaci.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\n            @Override\n            public void handle(ActionEvent event) {\n                View.popUpScene(event, &quot;RegistraAssunzione.fxml&quot;, &quot;Registra le assunzioni di farmaci&quot;);\n            }\n        });\n        b_contatta.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\n            @Override\n            public void handle(ActionEvent event) {\n                View.messageScene(event, &quot;Contatta.fxml&quot;, &quot;Contatta medico&quot;);\n            }\n        });\n        b_sintomi.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\n            @Override\n            public void handle(ActionEvent event) {\n                View.popUpScene(event, &quot;RegistraSintomo.fxml&quot;, &quot;Registra i sintomi&quot;);\n            }\n        });\n        b_segnalazioni.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\n            @Override\n            public void handle(ActionEvent event) {\n                View.popUpScene(event, &quot;RegistraPatologie.fxml&quot;, &quot;Registra le patologie&quot;);\n            }\n        });\n        b_terapie.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\n            @Override\n            public void handle(ActionEvent event) {\n                View.popUpScene(event, &quot;RegistraTerapia.fxml&quot;, &quot;Registra terapie concomitanti&quot;);\n            }\n        });\n\n    }\n\n    public void setUserInformation(String nome, String cognome){\n        label_welcome.setText(&quot;Benvenut@ &quot;+nome+&quot; &quot;+cognome+&quot;!&quot;);\n    }\n\n\n}\n</code></pre>\n<p>I've already populated another table using the same procedure and that is working properly.</p>\n"},{"tags":["java","spring","mongodb"],"answers":[{"tags":[],"owner":{"account_id":358380,"reputation":18171,"user_id":1388192,"accept_rate":100,"display_name":"Erwin Smout"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1556103680,"creation_date":1556103680,"answer_id":55828531,"question_id":55827640,"body_markdown":"If your framework tool ***requires*** (visible) no-arg constructors (plus accompanying setters), and the class you have is ***required*** to stay as is, then you could roll your own, say, MutableVehicleRoutingProblemSolution where in the setters you could have :\r\n\r\n    this.vehicleRoutingProblemSolution = new VehicleRoutingProblemSolution(vehicleRoutingProblemSolution.getId(), newSolution);\r\n\r\nThus your MutableVehicleRoutingProblemSolution wraps around the existing VehicleRoutingProblemSolution.\r\n\r\nHacky smell to it, but it fits the requirements.\r\n\r\n(Or you could try to find a tool that is able to use, not annotations on the contained fields, but annotations on constructor arguments.)","title":"How to fix &quot; Failed to instantiate &#39;className&#39; using constructor NO_CONSTRUCTOR with arguments&quot; in immutable class","body":"<p>If your framework tool <strong><em>requires</em></strong> (visible) no-arg constructors (plus accompanying setters), and the class you have is <strong><em>required</em></strong> to stay as is, then you could roll your own, say, MutableVehicleRoutingProblemSolution where in the setters you could have :</p>\n\n<pre><code>this.vehicleRoutingProblemSolution = new VehicleRoutingProblemSolution(vehicleRoutingProblemSolution.getId(), newSolution);\n</code></pre>\n\n<p>Thus your MutableVehicleRoutingProblemSolution wraps around the existing VehicleRoutingProblemSolution.</p>\n\n<p>Hacky smell to it, but it fits the requirements.</p>\n\n<p>(Or you could try to find a tool that is able to use, not annotations on the contained fields, but annotations on constructor arguments.)</p>\n"},{"tags":[],"owner":{"account_id":11873432,"reputation":528,"user_id":8689045,"display_name":"onouv"},"down_vote_count":0,"up_vote_count":17,"is_accepted":true,"score":17,"last_activity_date":1693071499,"creation_date":1569422439,"answer_id":58100985,"question_id":55827640,"body_markdown":"I ran into the exact same problem. A persistent immutable class containing other class instances, throwing that aforementioned exception when retrieved by this repository method: \r\n\r\n\r\n    public interface ProjectCodeCacheRepository extends MongoRepository&lt;CachedCode, String&gt; {\r\n    \tpublic CachedCode findByCode(String code);\t\r\n    \tpublic List&lt;CachedCode&gt; findByClientId(UUID clientId);\r\n    }\r\n    ...\r\n    List&lt;CachedCode&gt; cachedForClient = this.codeCacheRepo.`**findByClientId**`(clientId);\r\n    ...\r\n\r\nFollowing Erwin Smouts hints, this is nicely fixed by giving it a special constructor.  \r\n\r\nPrior to spring boot 3.0 the annotation used was:  `org.springframework.data.annotation.PersistenceConstructor`  \r\n\r\nAfter this version, the annotation was deprecated in favor of: `org.springframework.data.annotation.PersistenceCreator`  \r\n\r\nLike so: \r\n\r\n    @Document(collection=&quot;cachedcodes&quot;)\r\n    public class CachedCode {\r\n    \t\r\n    \t@PersistenceCreator\r\n    \tpublic CachedCode(String code, UUID clientId, LocalDateTime expiration) {\r\n    \t\tthis.code = code;\r\n    \t\tthis.clientId = clientId;\r\n    \t\tthis.expiration = expiration;\r\n    \t}\r\n    \t\r\n    \tpublic CachedCode(String code, UUID clientId, long secondsExpiring) {\r\n    \t\tthis.code = code;\r\n    \t\tthis.clientId = clientId;\r\n    \t\tthis.expiration = LocalDateTime.now().plusSeconds(secondsExpiring);\r\n    \t}\r\n    \t\r\n    \t\r\n    \tpublic UUID getClientId( ) {\r\n    \t\treturn this.clientId;\r\n    \t}\r\n    \t\t\t\r\n    \tpublic String getCode() {\r\n    \t\treturn this.code;\r\n    \t}\r\n    \t\t\r\n    \tpublic boolean hasExpired(LocalDateTime now) {\r\n    \t\treturn (expiration.isBefore(now));\r\n    \t}\r\n    \t\r\n    \t...\r\n        @Id\r\n    \tprivate final String code;\r\n    \tprivate final UUID clientId;\r\n    \tprivate final LocalDateTime expiration;\r\n    }\r\n\r\nSo, you should check if your VehicleRoutingProblemSolution has a) a constructor that matches the database fields (check in mongo client) and b) is annotated to be the one used by the driver (or whichever piece of Spring magic under the hood).\r\n\r\n\r\n\r\n","title":"How to fix &quot; Failed to instantiate &#39;className&#39; using constructor NO_CONSTRUCTOR with arguments&quot; in immutable class","body":"<p>I ran into the exact same problem. A persistent immutable class containing other class instances, throwing that aforementioned exception when retrieved by this repository method:</p>\n<pre><code>public interface ProjectCodeCacheRepository extends MongoRepository&lt;CachedCode, String&gt; {\n    public CachedCode findByCode(String code);  \n    public List&lt;CachedCode&gt; findByClientId(UUID clientId);\n}\n...\nList&lt;CachedCode&gt; cachedForClient = this.codeCacheRepo.`**findByClientId**`(clientId);\n...\n</code></pre>\n<p>Following Erwin Smouts hints, this is nicely fixed by giving it a special constructor.</p>\n<p>Prior to spring boot 3.0 the annotation used was:  <code>org.springframework.data.annotation.PersistenceConstructor</code></p>\n<p>After this version, the annotation was deprecated in favor of: <code>org.springframework.data.annotation.PersistenceCreator</code></p>\n<p>Like so:</p>\n<pre><code>@Document(collection=&quot;cachedcodes&quot;)\npublic class CachedCode {\n    \n    @PersistenceCreator\n    public CachedCode(String code, UUID clientId, LocalDateTime expiration) {\n        this.code = code;\n        this.clientId = clientId;\n        this.expiration = expiration;\n    }\n    \n    public CachedCode(String code, UUID clientId, long secondsExpiring) {\n        this.code = code;\n        this.clientId = clientId;\n        this.expiration = LocalDateTime.now().plusSeconds(secondsExpiring);\n    }\n    \n    \n    public UUID getClientId( ) {\n        return this.clientId;\n    }\n            \n    public String getCode() {\n        return this.code;\n    }\n        \n    public boolean hasExpired(LocalDateTime now) {\n        return (expiration.isBefore(now));\n    }\n    \n    ...\n    @Id\n    private final String code;\n    private final UUID clientId;\n    private final LocalDateTime expiration;\n}\n</code></pre>\n<p>So, you should check if your VehicleRoutingProblemSolution has a) a constructor that matches the database fields (check in mongo client) and b) is annotated to be the one used by the driver (or whichever piece of Spring magic under the hood).</p>\n"},{"tags":[],"owner":{"account_id":1341772,"reputation":11,"user_id":7229948,"display_name":"subrata das"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632467074,"creation_date":1632466659,"answer_id":69310781,"question_id":55827640,"body_markdown":"This is a problem where the corresponding class does not have a no-arg constructor like - I was facing an issue with java.io.File.\r\n\r\nSolution:  \r\nIn general - change the declaration to Object class and convert where we are using the class.\r\n\r\n**from** \r\n\r\n    class MyClass{\r\n    \r\n        File myfile;\r\n    \r\n    }\r\n\r\n**to**\r\n\r\n    class MyClass{\r\n    \r\n        Object myFile;\r\n    \r\n    }","title":"How to fix &quot; Failed to instantiate &#39;className&#39; using constructor NO_CONSTRUCTOR with arguments&quot; in immutable class","body":"<p>This is a problem where the corresponding class does not have a no-arg constructor like - I was facing an issue with java.io.File.</p>\n<p>Solution:<br />\nIn general - change the declaration to Object class and convert where we are using the class.</p>\n<p><strong>from</strong></p>\n<pre><code>class MyClass{\n\n    File myfile;\n\n}\n</code></pre>\n<p><strong>to</strong></p>\n<pre><code>class MyClass{\n\n    Object myFile;\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":41171,"reputation":20882,"user_id":119592,"accept_rate":75,"display_name":"Hamy"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1633360535,"creation_date":1633360535,"answer_id":69438406,"question_id":55827640,"body_markdown":"For anyone using lombok, you need to remove the `@Builder` annotation on your class and use `@Data` instead, or follow the above solution to provide a specialized constructor","title":"How to fix &quot; Failed to instantiate &#39;className&#39; using constructor NO_CONSTRUCTOR with arguments&quot; in immutable class","body":"<p>For anyone using lombok, you need to remove the <code>@Builder</code> annotation on your class and use <code>@Data</code> instead, or follow the above solution to provide a specialized constructor</p>\n"},{"tags":[],"owner":{"account_id":181514,"reputation":9905,"user_id":415559,"accept_rate":73,"display_name":"barrypicker"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636397518,"creation_date":1636397518,"answer_id":69888513,"question_id":55827640,"body_markdown":"Oddly, I received this when I attempted to decorate a custom interface with ...\r\n\r\n    @Document(collection = &quot;Person&quot;)\r\n\r\n\r\nExample:\r\n\r\n\r\n    package test.barry.interfaces;\r\n    \r\n    import org.springframework.data.mongodb.core.mapping.Document;\r\n    import org.springframework.data.mongodb.core.query.Query;\r\n    import org.springframework.data.mongodb.core.query.UpdateDefinition;\r\n    \r\n    \r\n    @Document(collection = &quot;Person&quot;)\r\n    public interface CustomRepository\r\n    {\r\n    \tvoid updatex(Query filterPredicate, UpdateDefinition updatePredicate);\r\n    }\r\n\r\n","title":"How to fix &quot; Failed to instantiate &#39;className&#39; using constructor NO_CONSTRUCTOR with arguments&quot; in immutable class","body":"<p>Oddly, I received this when I attempted to decorate a custom interface with ...</p>\n<pre><code>@Document(collection = &quot;Person&quot;)\n</code></pre>\n<p>Example:</p>\n<pre><code>package test.barry.interfaces;\n\nimport org.springframework.data.mongodb.core.mapping.Document;\nimport org.springframework.data.mongodb.core.query.Query;\nimport org.springframework.data.mongodb.core.query.UpdateDefinition;\n\n\n@Document(collection = &quot;Person&quot;)\npublic interface CustomRepository\n{\n    void updatex(Query filterPredicate, UpdateDefinition updatePredicate);\n}\n</code></pre>\n"}],"owner":{"account_id":15732620,"reputation":153,"user_id":11352583,"display_name":"tambovflow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18998,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":58100985,"answer_count":5,"score":10,"last_activity_date":1693071499,"creation_date":1556100888,"question_id":55827640,"body_markdown":"I use MongoDBRepository in spring boot, and when I save some object in database everything is ok. but when I find object by id spring does not allow do that. \r\n\r\nI try to change VehicleRoutingProblemSolution type to Object type, but  VehicleRoutingProblemSolution have other object field PickupService and it without default constructor to. And yes, this class has immutable... I can&#39;t create default constructors, what can I do?\r\n\r\n```\r\nimport com.fasterxml.jackson.annotation.JsonProperty;\r\nimport com.graphhopper.jsprit.core.problem.solution.VehicleRoutingProblemSolution;\r\nimport org.springframework.data.annotation.Id;\r\nimport org.springframework.data.mongodb.core.mapping.Document;\r\n\r\n@Document(collection = &quot;vrp_solutions&quot;)\r\npublic class VrpSolutionHolder {\r\n    // Specifies the solution id\r\n    @Id\r\n    @JsonProperty(&quot;id&quot;)\r\n    private String id;\r\n\r\n    // Specifies the solution id\r\n    @JsonProperty(&quot;solution&quot;)\r\n    private VehicleRoutingProblemSolution vehicleRoutingProblemSolution;\r\n\r\n    // Created at timestamp in millis\r\n    @JsonProperty(&quot;created_at&quot;)\r\n    private Long created_at = System.currentTimeMillis();\r\n\r\n\r\n    public VrpSolutionHolder(String id, VehicleRoutingProblemSolution vehicleRoutingProblemSolution) {\r\n        this.id = id;\r\n        this.vehicleRoutingProblemSolution = vehicleRoutingProblemSolution;\r\n    }\r\n\r\n    public String getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(String id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public VehicleRoutingProblemSolution getVehicleRoutingProblemSolution() {\r\n        return vehicleRoutingProblemSolution;\r\n    }\r\n\r\n    public void setVehicleRoutingProblemSolution(VehicleRoutingProblemSolution vehicleRoutingProblemSolution) {\r\n        this.vehicleRoutingProblemSolution = vehicleRoutingProblemSolution;\r\n    }\r\n\r\n    public Long getCreated_at() {\r\n        return created_at;\r\n    }\r\n\r\n    public void setCreated_at(Long created_at) {\r\n        this.created_at = created_at;\r\n    }\r\n}\r\n\r\n```\r\n\r\n&gt; org.springframework.web.util.NestedServletException: Request\r\n&gt; processing failed; nested exception is\r\n&gt; org.springframework.data.mapping.model.MappingInstantiationException:\r\n&gt; Failed to instantiate\r\n&gt; com.graphhopper.jsprit.core.problem.solution.VehicleRoutingProblemSolution\r\n&gt; using constructor NO_CONSTRUCTOR with arguments","title":"How to fix &quot; Failed to instantiate &#39;className&#39; using constructor NO_CONSTRUCTOR with arguments&quot; in immutable class","body":"<p>I use MongoDBRepository in spring boot, and when I save some object in database everything is ok. but when I find object by id spring does not allow do that. </p>\n\n<p>I try to change VehicleRoutingProblemSolution type to Object type, but  VehicleRoutingProblemSolution have other object field PickupService and it without default constructor to. And yes, this class has immutable... I can't create default constructors, what can I do?</p>\n\n<pre><code>import com.fasterxml.jackson.annotation.JsonProperty;\nimport com.graphhopper.jsprit.core.problem.solution.VehicleRoutingProblemSolution;\nimport org.springframework.data.annotation.Id;\nimport org.springframework.data.mongodb.core.mapping.Document;\n\n@Document(collection = \"vrp_solutions\")\npublic class VrpSolutionHolder {\n    // Specifies the solution id\n    @Id\n    @JsonProperty(\"id\")\n    private String id;\n\n    // Specifies the solution id\n    @JsonProperty(\"solution\")\n    private VehicleRoutingProblemSolution vehicleRoutingProblemSolution;\n\n    // Created at timestamp in millis\n    @JsonProperty(\"created_at\")\n    private Long created_at = System.currentTimeMillis();\n\n\n    public VrpSolutionHolder(String id, VehicleRoutingProblemSolution vehicleRoutingProblemSolution) {\n        this.id = id;\n        this.vehicleRoutingProblemSolution = vehicleRoutingProblemSolution;\n    }\n\n    public String getId() {\n        return id;\n    }\n\n    public void setId(String id) {\n        this.id = id;\n    }\n\n    public VehicleRoutingProblemSolution getVehicleRoutingProblemSolution() {\n        return vehicleRoutingProblemSolution;\n    }\n\n    public void setVehicleRoutingProblemSolution(VehicleRoutingProblemSolution vehicleRoutingProblemSolution) {\n        this.vehicleRoutingProblemSolution = vehicleRoutingProblemSolution;\n    }\n\n    public Long getCreated_at() {\n        return created_at;\n    }\n\n    public void setCreated_at(Long created_at) {\n        this.created_at = created_at;\n    }\n}\n\n</code></pre>\n\n<blockquote>\n  <p>org.springframework.web.util.NestedServletException: Request\n  processing failed; nested exception is\n  org.springframework.data.mapping.model.MappingInstantiationException:\n  Failed to instantiate\n  com.graphhopper.jsprit.core.problem.solution.VehicleRoutingProblemSolution\n  using constructor NO_CONSTRUCTOR with arguments</p>\n</blockquote>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9772,"page":220,"page_size":100}
