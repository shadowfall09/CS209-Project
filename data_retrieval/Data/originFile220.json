{"items":[{"tags":["java","postgresql","hibernate","wildfly","entitymanager"],"comments":[{"owner":{"account_id":2578864,"reputation":2991,"user_id":2235972,"display_name":"denvercoder9"},"score":0,"creation_date":1478943086,"post_id":40561414,"comment_id":68359981,"body_markdown":"Have you initialized `entityManager` anywhere? You are getting nullpointer because it is not initialized","body":"Have you initialized <code>entityManager</code> anywhere? You are getting nullpointer because it is not initialized"},{"owner":{"account_id":2993330,"reputation":311,"user_id":4566392,"accept_rate":45,"display_name":"aquilares"},"score":0,"creation_date":1478943149,"post_id":40561414,"comment_id":68359994,"body_markdown":"No, I don&#39;t initialize it anywhere. I was under the impression, since it&#39;s injected and managed by the application container, that I don&#39;t need to initialize it in my code? Where/how would I initialize it then?","body":"No, I don&#39;t initialize it anywhere. I was under the impression, since it&#39;s injected and managed by the application container, that I don&#39;t need to initialize it in my code? Where/how would I initialize it then?"},{"owner":{"account_id":2993330,"reputation":311,"user_id":4566392,"accept_rate":45,"display_name":"aquilares"},"score":0,"creation_date":1478943329,"post_id":40561414,"comment_id":68360042,"body_markdown":"Lol, yeah thanks, but I kinda know what a Nullpointer exception is, why it occurs and how to fix it. My problem is with understanding the whole JPA/container managed persistence context and entity manager, not with &quot;not knowing how to initialize an object&quot;","body":"Lol, yeah thanks, but I kinda know what a Nullpointer exception is, why it occurs and how to fix it. My problem is with understanding the whole JPA/container managed persistence context and entity manager, not with &quot;not knowing how to initialize an object&quot;"},{"owner":{"account_id":2578864,"reputation":2991,"user_id":2235972,"display_name":"denvercoder9"},"score":0,"creation_date":1478943339,"post_id":40561414,"comment_id":68360046,"body_markdown":"`org.declercq.librarysoftbackend.rest.UserWebService.getAllUsers(UserWebService.java:69)`","body":"<code>org.declercq.librarysoftbackend.rest.UserWebService.getAllUs&zwnj;&#8203;ers(UserWebService.j&zwnj;&#8203;ava:69)</code>"},{"owner":{"account_id":2993330,"reputation":311,"user_id":4566392,"accept_rate":45,"display_name":"aquilares"},"score":0,"creation_date":1478943477,"post_id":40561414,"comment_id":68360072,"body_markdown":"what&#39;s your point? That code calls the code I mentioned above (criteriabuilder creation)","body":"what&#39;s your point? That code calls the code I mentioned above (criteriabuilder creation)"},{"owner":{"account_id":2993330,"reputation":311,"user_id":4566392,"accept_rate":45,"display_name":"aquilares"},"score":0,"creation_date":1478943606,"post_id":40561414,"comment_id":68360107,"body_markdown":"https://tomee.apache.org/examples-trunk/injection-of-entitymanager/README.html -&gt; see the example here. I don&#39;t see any code that initializes the entitymanager after injecting it. I don&#39;t believe it&#39;s necessary to initialize it when using @PersistenceContext?","body":"<a href=\"https://tomee.apache.org/examples-trunk/injection-of-entitymanager/README.html\" rel=\"nofollow noreferrer\">tomee.apache.org/examples-trunk/injection-of-entitymanager/&hellip;</a> -&gt; see the example here. I don&#39;t see any code that initializes the entitymanager after injecting it. I don&#39;t believe it&#39;s necessary to initialize it when using @PersistenceContext?"},{"owner":{"account_id":2578864,"reputation":2991,"user_id":2235972,"display_name":"denvercoder9"},"score":0,"creation_date":1478943979,"post_id":40561414,"comment_id":68360193,"body_markdown":"Yup, you don&#39;t need to initialized it. I think the problem is with your query.","body":"Yup, you don&#39;t need to initialized it. I think the problem is with your query."},{"owner":{"account_id":2993330,"reputation":311,"user_id":4566392,"accept_rate":45,"display_name":"aquilares"},"score":0,"creation_date":1478944582,"post_id":40561414,"comment_id":68360350,"body_markdown":"what kind of problem? What would the query have to do with it, since it gives a nullpointer exception on the first attempt at using the entitymanager?","body":"what kind of problem? What would the query have to do with it, since it gives a nullpointer exception on the first attempt at using the entitymanager?"}],"answers":[{"comments":[{"owner":{"account_id":2993330,"reputation":311,"user_id":4566392,"accept_rate":45,"display_name":"aquilares"},"score":0,"creation_date":1478945264,"post_id":40561710,"comment_id":68360538,"body_markdown":"Yep, was just trying this too, I tried with Stateful and stateless for my UserDao, still same: nullpointerexception on same line.","body":"Yep, was just trying this too, I tried with Stateful and stateless for my UserDao, still same: nullpointerexception on same line."},{"owner":{"account_id":7926575,"reputation":16936,"user_id":5985853,"display_name":"Alexey Soshin"},"score":0,"creation_date":1478945589,"post_id":40561710,"comment_id":68360631,"body_markdown":"And how is your PostGreLibrarySoftDS configured?","body":"And how is your PostGreLibrarySoftDS configured?"},{"owner":{"account_id":2993330,"reputation":311,"user_id":4566392,"accept_rate":45,"display_name":"aquilares"},"score":0,"creation_date":1478945776,"post_id":40561710,"comment_id":68360669,"body_markdown":"See original post please, just added my datasources config from Wildfly.","body":"See original post please, just added my datasources config from Wildfly."},{"owner":{"account_id":7926575,"reputation":16936,"user_id":5985853,"display_name":"Alexey Soshin"},"score":0,"creation_date":1478946077,"post_id":40561710,"comment_id":68360747,"body_markdown":"First, in your current example you use Stateless, but you should be Stateful for anything to work. Second, in your persistence.xml, try &lt;jta-data-source&gt;PostGreLibrarySoftDS&lt;/jta-data-source&gt;, since persistence.xml doesn&#39;t work with full JNDI names.","body":"First, in your current example you use Stateless, but you should be Stateful for anything to work. Second, in your persistence.xml, try &lt;jta-data-source&gt;PostGreLibrarySoftDS&lt;/jta-data-source&gt;, since persistence.xml doesn&#39;t work with full JNDI names."},{"owner":{"account_id":2993330,"reputation":311,"user_id":4566392,"accept_rate":45,"display_name":"aquilares"},"score":0,"creation_date":1478946363,"post_id":40561710,"comment_id":68360820,"body_markdown":"Nope, sorry, changed to Stafeful and updated persistence.xml, still the same nullpointer exception. Are you sure about removing the java:/ too? Check the example here: https://docs.jboss.org/jbossas/docs/Server_Configuration_Guide/4/html/ch01s02s01.html","body":"Nope, sorry, changed to Stafeful and updated persistence.xml, still the same nullpointer exception. Are you sure about removing the java:/ too? Check the example here: <a href=\"https://docs.jboss.org/jbossas/docs/Server_Configuration_Guide/4/html/ch01s02s01.html\" rel=\"nofollow noreferrer\">docs.jboss.org/jbossas/docs/Server_Configuration_Guide/4/htm&zwnj;&#8203;l/&hellip;</a>"},{"owner":{"account_id":2993330,"reputation":311,"user_id":4566392,"accept_rate":45,"display_name":"aquilares"},"score":0,"creation_date":1478946918,"post_id":40561710,"comment_id":68360963,"body_markdown":"Also, check this example: http://www.javawebtutor.com/articles/ejb/ejb3_and_jpa_example_in_eclipse.php, check the persistence.xml example, uses the java:/-prefix.","body":"Also, check this example: <a href=\"http://www.javawebtutor.com/articles/ejb/ejb3_and_jpa_example_in_eclipse.php\" rel=\"nofollow noreferrer\">javawebtutor.com/articles/ejb/&hellip;</a>, check the persistence.xml example, uses the java:/-prefix."},{"owner":{"account_id":2993330,"reputation":311,"user_id":4566392,"accept_rate":45,"display_name":"aquilares"},"score":0,"creation_date":1478948135,"post_id":40561710,"comment_id":68361246,"body_markdown":"Found the solution. See original post. I kept using the java:/ in persistence.xml. The solution was that I forgot to inject my UserDao bean (which is stateless by the way, not stateful) in my webservice class using the &quot;@EJB&quot; annotation.","body":"Found the solution. See original post. I kept using the java:/ in persistence.xml. The solution was that I forgot to inject my UserDao bean (which is stateless by the way, not stateful) in my webservice class using the &quot;@EJB&quot; annotation."}],"tags":[],"owner":{"account_id":7926575,"reputation":16936,"user_id":5985853,"display_name":"Alexey Soshin"},"comment_count":7,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1478945029,"creation_date":1478945029,"answer_id":40561710,"question_id":40561414,"body_markdown":"Your UserDao is not managed by any framework. Please note that in the example you provided there&#39;s `@Stateful` on the Movies object. That tells you container that it should inject dependencies: PersistenceManager in your case.","title":"Getting a nullpointerexception for my EntityManager","body":"<p>Your UserDao is not managed by any framework. Please note that in the example you provided there's <code>@Stateful</code> on the Movies object. That tells you container that it should inject dependencies: PersistenceManager in your case.</p>\n"},{"tags":[],"owner":{"account_id":91502,"reputation":88311,"user_id":251173,"accept_rate":86,"display_name":"Buhake Sindi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1479374114,"creation_date":1479374114,"answer_id":40650840,"question_id":40561414,"body_markdown":"In your `UserWebService` resource, you are instantiating your `UserDao` as follows:\r\n\r\n    public UserWebService(){\r\n         this.userDao=new UserDao();\r\n    }\r\n\r\n\r\nYour `UserDao` is a `@Stateless` EJB (with a local no-interface view).\r\n\r\nTherefore, let the EJB container inject the `UserDao` EJB as follows:\r\n\r\n    @EJB\r\n    private UserDao userDao;\r\n\r\nYou can now delete the `UserWebService` constructor.\r\n\r\nI hope this helps.\r\n\r\n\r\n","title":"Getting a nullpointerexception for my EntityManager","body":"<p>In your <code>UserWebService</code> resource, you are instantiating your <code>UserDao</code> as follows:</p>\n\n<pre><code>public UserWebService(){\n     this.userDao=new UserDao();\n}\n</code></pre>\n\n<p>Your <code>UserDao</code> is a <code>@Stateless</code> EJB (with a local no-interface view).</p>\n\n<p>Therefore, let the EJB container inject the <code>UserDao</code> EJB as follows:</p>\n\n<pre><code>@EJB\nprivate UserDao userDao;\n</code></pre>\n\n<p>You can now delete the <code>UserWebService</code> constructor.</p>\n\n<p>I hope this helps.</p>\n"}],"owner":{"account_id":2993330,"reputation":311,"user_id":4566392,"accept_rate":45,"display_name":"aquilares"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12186,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1693191795,"creation_date":1478942658,"question_id":40561414,"body_markdown":"Working with Wildfly 10 on the following: a JSON webservice accessing a postgresql db using hibernate through a DAO object.\r\n\r\nMore specifically, my POJO User.java:\r\n\r\n    @Entity (name=&quot;User&quot;)\r\n    @Table(name = &quot;users&quot;)\r\n    public class User {\r\n    \t\r\n    \r\n    \t@Id @GeneratedValue\r\n    \t@Column(name=&quot;id&quot;)\r\n    \tprivate int id;\r\n    \t\r\n    \t@Column(name=&quot;username&quot;)\r\n    \tprivate String userName;\r\n    \t\r\n    \t@Column(name=&quot;password&quot;)\r\n    \tprivate String password;\r\n    \t\r\n    \t@Column(name=&quot;email&quot;)\r\n    \tprivate String emailAddress;\r\n    \t\r\n    \tpublic User(String userName, String password, String emailAddress) {\r\n    \t\tsuper();\r\n    \t\tthis.userName = userName;\r\n    \t\tthis.password = password;\r\n    \t\tthis.emailAddress = emailAddress;\r\n    \t}\r\n    \r\n    \tpublic User() {\r\n    \t\tsuper();\r\n    \t}\r\n    \r\n    \tpublic int getId() {\r\n    \t\treturn id;\r\n    \t}\r\n    \r\n    \tpublic void setId(int id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n\r\nMy UserDao:\r\n\r\n    @Stateless\r\n    public class UserDao {\r\n    \t\r\n    \t@PersistenceContext (unitName=&quot;librarysoftjpa&quot;)\r\n    \tprivate EntityManager entityManager;\r\n    \t\t\r\n    \tpublic List&lt;User&gt; getAllUsers(){\r\n    List&lt;User&gt; allUsers=null;\r\n    \t\t\t\r\n    \t\tCriteriaBuilder criteriaBuilder = this.entityManager.getCriteriaBuilder();\r\n    \t\tCriteriaQuery&lt;User&gt; criteria = criteriaBuilder.createQuery(User.class);\r\n    \t\tcriteria.from(User.class);\r\n    \t\t\t\r\n    \t\tTypedQuery&lt;User&gt;query = entityManager.createQuery(criteria);\r\n    \t\tallUsers = query.getResultList();\r\n    \t\treturn allUsers;\t\r\n    \t}\r\n    }\r\n\r\nMy webservice:\r\n\r\n    @RequestScoped\r\n    @Path(&quot;/users&quot;)\r\n    @Produces(&quot;application/json&quot;)\r\n    @Consumes(&quot;application/json&quot;)\r\n    public class UserWebService {\r\n    \t\r\n    \t\r\n    \tprivate UserDao userDao;\r\n    \r\n    \t\r\n    \tpublic UserWebService(){\r\n    \t\tthis.userDao=new UserDao();\r\n    \t}\r\n    @GET\r\n    \t@Path(&quot;/all&quot;)\r\n    \tpublic List&lt;User&gt; getAllUsers(){\r\n    \t\tList&lt;User&gt;users=this.userDao.getAllUsers();\r\n    \t\treturn users;\r\n    \t}\r\n    }\r\n\r\nMy persistence.xml:\r\n\r\n    &lt;persistence version=&quot;2.1&quot;\r\n       xmlns=&quot;http://xmlns.jcp.org/xml/ns/persistence&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n       xsi:schemaLocation=&quot;\r\n            http://xmlns.jcp.org/xml/ns/persistence\r\n            http://xmlns.jcp.org/xml/ns/persistence/persistence_2_1.xsd&quot;&gt;\r\n       &lt;persistence-unit name=&quot;librarysoftjpa&quot; transaction-type=&quot;JTA&quot;&gt;\r\n       \t&lt;jta-data-source&gt;java:/PostGreLibrarySoftDS&lt;/jta-data-source&gt;\r\n       \t&lt;class&gt;org.declercq.librarysoftbackend.models.Permission&lt;/class&gt;\r\n       \t&lt;class&gt;org.declercq.librarysoftbackend.models.Role&lt;/class&gt;\r\n       \t&lt;class&gt;org.declercq.librarysoftbackend.models.User&lt;/class&gt;\r\n          &lt;properties&gt;\r\n             &lt;!-- Properties for Hibernate --&gt;\r\n             &lt;property name=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;update&quot; /&gt;\r\n             &lt;property name=&quot;hibernate.show_sql&quot; value=&quot;true&quot; /&gt;\r\n             &lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.PostgreSQLDialect&quot;/&gt;\r\n             &lt;property name=&quot;hibernate.format_sql&quot; value=&quot;true&quot;/&gt;\r\n    \r\n          &lt;/properties&gt;\r\n       &lt;/persistence-unit&gt;\r\n    &lt;/persistence&gt;\r\n\r\n\r\nSo I&#39;m using container managed persistence, managed by Wildfly 10.\r\nHowever, when accessing the webservice, I get a nullpointer exception for my entitymanager:\r\n\r\n    10:17:10,095 INFO  [org.wildfly.extension.undertow] (ServerService Thread Pool -- 62) WFLYUT0021: Registered web context: /librarysoftbackend\r\n    10:17:10,174 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 34) WFLYSRV0010: Deployed &quot;librarysoftbackend.war&quot; (runtime-name : &quot;librarysoftbackend.war&quot;)\r\n    10:17:10,341 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0060: Http management interface listening on http://127.0.0.1:9990/management\r\n    10:17:10,342 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0051: Admin console listening on http://127.0.0.1:9990\r\n    10:17:10,343 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0025: WildFly Full 10.1.0.Final (WildFly Core 2.2.0.Final) started in 14178ms - Started 422 of 670 services (404 services are lazy, passive or on-demand)\r\n    10:17:18,898 ERROR [io.undertow.request] (default task-3) UT005023: Exception handling request to /librarysoftbackend/rest/users/all: org.jboss.resteasy.spi.UnhandledException: java.lang.NullPointerException\r\n    \tat org.jboss.resteasy.core.ExceptionHandler.handleApplicationException(ExceptionHandler.java:77)\r\n    \tat org.jboss.resteasy.core.ExceptionHandler.handleException(ExceptionHandler.java:220)\r\n    \tat org.jboss.resteasy.core.SynchronousDispatcher.writeException(SynchronousDispatcher.java:175)\r\n    \tat org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:418)\r\n    \tat org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:209)\r\n    \tat org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:221)\r\n    \tat org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:56)\r\n    \tat org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:51)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:790)\r\n    \tat io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:85)\r\n    \tat io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)\r\n    \tat io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)\r\n    \tat org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)\r\n    \tat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n    \tat io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:131)\r\n    \tat io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)\r\n    \tat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n    \tat io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)\r\n    \tat io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)\r\n    \tat io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)\r\n    \tat io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)\r\n    \tat io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)\r\n    \tat io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)\r\n    \tat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n    \tat org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)\r\n    \tat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n    \tat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n    \tat io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:292)\r\n    \tat io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:81)\r\n    \tat io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:138)\r\n    \tat io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:135)\r\n    \tat io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)\r\n    \tat io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\r\n    \tat io.undertow.servlet.api.LegacyThreadSetupActionWrapper$1.call(LegacyThreadSetupActionWrapper.java:44)\r\n    \tat io.undertow.servlet.api.LegacyThreadSetupActionWrapper$1.call(LegacyThreadSetupActionWrapper.java:44)\r\n    \tat io.undertow.servlet.api.LegacyThreadSetupActionWrapper$1.call(LegacyThreadSetupActionWrapper.java:44)\r\n    \tat io.undertow.servlet.api.LegacyThreadSetupActionWrapper$1.call(LegacyThreadSetupActionWrapper.java:44)\r\n    \tat io.undertow.servlet.api.LegacyThreadSetupActionWrapper$1.call(LegacyThreadSetupActionWrapper.java:44)\r\n    \tat io.undertow.servlet.api.LegacyThreadSetupActionWrapper$1.call(LegacyThreadSetupActionWrapper.java:44)\r\n    \tat io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:272)\r\n    \tat io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:81)\r\n    \tat io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:104)\r\n    \tat io.undertow.server.Connectors.executeRootHandler(Connectors.java:202)\r\n    \tat io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:805)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n    \tat java.lang.Thread.run(Thread.java:745)\r\n    Caused by: java.lang.NullPointerException\r\n    \tat org.declercq.librarysoftbackend.dao.UserDao.getAllUsers(UserDao.java:64)\r\n    \tat org.declercq.librarysoftbackend.rest.UserWebService.getAllUsers(UserWebService.java:69)\r\n    \tat org.declercq.librarysoftbackend.rest.UserWebService$Proxy$_$$_WeldClientProxy.getAllUsers(Unknown Source)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:139)\r\n    \tat org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:295)\r\n    \tat org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:249)\r\n    \tat org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:236)\r\n    \tat org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:402)\r\n    \t... 43 more\r\n\r\nMore specifically:\r\n\r\n    Caused by: java.lang.NullPointerException\r\n    \tat org.declercq.librarysoftbackend.dao.UserDao.getAllUsers(UserDao.java:64)\r\n\r\nWhich points to:\r\n\r\n    CriteriaBuilder criteriaBuilder = this.entityManager.getCriteriaBuilder();\r\n    \t\t\r\nin UserDao.java.\r\n\r\nAny idea what I&#39;m doing wrong here?\r\n\r\nUPDATE: the topic linked here as possible duplicate has absolutely zero procent to do with this. My issue is with container managed persistence context and injecting an entitymanager in my application, not with not knowing how to initialize an object.\r\n\r\nUPDATE2: I changed my code a bit and consider my UserDao as a Bean by adding the annotation @Stateless after reading this post from Adam Bien: http://www.adam-bien.com/roller/abien/entry/ejb_3_persistence_jpa_for. Basically states that DAO&#39;s are no longer needed for JPA, EJB&#39;s are better. However, still nullpointerexception on same location. (tried @Stateful too, same result).\r\n\r\nUPDATE3:\r\nConfiguration of my datasource in standalone.xml of Wildfly:\r\n\r\n    &lt;datasources&gt;\r\n                    &lt;datasource jndi-name=&quot;java:/PostGreLibrarySoftDS&quot; pool-name=&quot;PostgrePool&quot;&gt;\r\n                        &lt;connection-url&gt;jdbc:postgresql://127.0.0.1:5432/librarysoft&lt;/connection-url&gt;\r\n                        &lt;driver&gt;postgres&lt;/driver&gt;\r\n                        &lt;security&gt;\r\n                            &lt;user-name&gt;test&lt;/user-name&gt;\r\n                            &lt;password&gt;test&lt;/password&gt;\r\n                        &lt;/security&gt;\r\n                    &lt;/datasource&gt;\r\n                    &lt;drivers&gt;\r\n                        &lt;driver name=&quot;postgres&quot; module=&quot;org.postgres&quot;&gt;\r\n                            &lt;driver-class&gt;org.postgresql.Driver&lt;/driver-class&gt;\r\n                        &lt;/driver&gt;\r\n                    &lt;/drivers&gt;\r\n                &lt;/datasources&gt;\r\n-----------------------------------------------------------------------\r\n\r\n**Solved**.\r\nThe solution was to add @Stateless notation to my UserDao class, making it a bean.\r\nNext, in UserWebService, add the attribute:\r\n\r\n    @EJB\r\n    private UserDao userDao;\r\n\r\nInjecting the bean here with `@EJB` was the solution.\r\n","title":"Getting a nullpointerexception for my EntityManager","body":"<p>Working with Wildfly 10 on the following: a JSON webservice accessing a postgresql db using hibernate through a DAO object.</p>\n\n<p>More specifically, my POJO User.java:</p>\n\n<pre><code>@Entity (name=\"User\")\n@Table(name = \"users\")\npublic class User {\n\n\n    @Id @GeneratedValue\n    @Column(name=\"id\")\n    private int id;\n\n    @Column(name=\"username\")\n    private String userName;\n\n    @Column(name=\"password\")\n    private String password;\n\n    @Column(name=\"email\")\n    private String emailAddress;\n\n    public User(String userName, String password, String emailAddress) {\n        super();\n        this.userName = userName;\n        this.password = password;\n        this.emailAddress = emailAddress;\n    }\n\n    public User() {\n        super();\n    }\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n</code></pre>\n\n<p>My UserDao:</p>\n\n<pre><code>@Stateless\npublic class UserDao {\n\n    @PersistenceContext (unitName=\"librarysoftjpa\")\n    private EntityManager entityManager;\n\n    public List&lt;User&gt; getAllUsers(){\nList&lt;User&gt; allUsers=null;\n\n        CriteriaBuilder criteriaBuilder = this.entityManager.getCriteriaBuilder();\n        CriteriaQuery&lt;User&gt; criteria = criteriaBuilder.createQuery(User.class);\n        criteria.from(User.class);\n\n        TypedQuery&lt;User&gt;query = entityManager.createQuery(criteria);\n        allUsers = query.getResultList();\n        return allUsers;    \n    }\n}\n</code></pre>\n\n<p>My webservice:</p>\n\n<pre><code>@RequestScoped\n@Path(\"/users\")\n@Produces(\"application/json\")\n@Consumes(\"application/json\")\npublic class UserWebService {\n\n\n    private UserDao userDao;\n\n\n    public UserWebService(){\n        this.userDao=new UserDao();\n    }\n@GET\n    @Path(\"/all\")\n    public List&lt;User&gt; getAllUsers(){\n        List&lt;User&gt;users=this.userDao.getAllUsers();\n        return users;\n    }\n}\n</code></pre>\n\n<p>My persistence.xml:</p>\n\n<pre><code>&lt;persistence version=\"2.1\"\n   xmlns=\"http://xmlns.jcp.org/xml/ns/persistence\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n   xsi:schemaLocation=\"\n        http://xmlns.jcp.org/xml/ns/persistence\n        http://xmlns.jcp.org/xml/ns/persistence/persistence_2_1.xsd\"&gt;\n   &lt;persistence-unit name=\"librarysoftjpa\" transaction-type=\"JTA\"&gt;\n    &lt;jta-data-source&gt;java:/PostGreLibrarySoftDS&lt;/jta-data-source&gt;\n    &lt;class&gt;org.declercq.librarysoftbackend.models.Permission&lt;/class&gt;\n    &lt;class&gt;org.declercq.librarysoftbackend.models.Role&lt;/class&gt;\n    &lt;class&gt;org.declercq.librarysoftbackend.models.User&lt;/class&gt;\n      &lt;properties&gt;\n         &lt;!-- Properties for Hibernate --&gt;\n         &lt;property name=\"hibernate.hbm2ddl.auto\" value=\"update\" /&gt;\n         &lt;property name=\"hibernate.show_sql\" value=\"true\" /&gt;\n         &lt;property name=\"hibernate.dialect\" value=\"org.hibernate.dialect.PostgreSQLDialect\"/&gt;\n         &lt;property name=\"hibernate.format_sql\" value=\"true\"/&gt;\n\n      &lt;/properties&gt;\n   &lt;/persistence-unit&gt;\n&lt;/persistence&gt;\n</code></pre>\n\n<p>So I'm using container managed persistence, managed by Wildfly 10.\nHowever, when accessing the webservice, I get a nullpointer exception for my entitymanager:</p>\n\n<pre><code>10:17:10,095 INFO  [org.wildfly.extension.undertow] (ServerService Thread Pool -- 62) WFLYUT0021: Registered web context: /librarysoftbackend\n10:17:10,174 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 34) WFLYSRV0010: Deployed \"librarysoftbackend.war\" (runtime-name : \"librarysoftbackend.war\")\n10:17:10,341 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0060: Http management interface listening on http://127.0.0.1:9990/management\n10:17:10,342 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0051: Admin console listening on http://127.0.0.1:9990\n10:17:10,343 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0025: WildFly Full 10.1.0.Final (WildFly Core 2.2.0.Final) started in 14178ms - Started 422 of 670 services (404 services are lazy, passive or on-demand)\n10:17:18,898 ERROR [io.undertow.request] (default task-3) UT005023: Exception handling request to /librarysoftbackend/rest/users/all: org.jboss.resteasy.spi.UnhandledException: java.lang.NullPointerException\n    at org.jboss.resteasy.core.ExceptionHandler.handleApplicationException(ExceptionHandler.java:77)\n    at org.jboss.resteasy.core.ExceptionHandler.handleException(ExceptionHandler.java:220)\n    at org.jboss.resteasy.core.SynchronousDispatcher.writeException(SynchronousDispatcher.java:175)\n    at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:418)\n    at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:209)\n    at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:221)\n    at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:56)\n    at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:51)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:790)\n    at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:85)\n    at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)\n    at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)\n    at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)\n    at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n    at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:131)\n    at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)\n    at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n    at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)\n    at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)\n    at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)\n    at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)\n    at io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)\n    at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)\n    at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n    at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)\n    at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n    at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n    at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:292)\n    at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:81)\n    at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:138)\n    at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:135)\n    at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)\n    at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\n    at io.undertow.servlet.api.LegacyThreadSetupActionWrapper$1.call(LegacyThreadSetupActionWrapper.java:44)\n    at io.undertow.servlet.api.LegacyThreadSetupActionWrapper$1.call(LegacyThreadSetupActionWrapper.java:44)\n    at io.undertow.servlet.api.LegacyThreadSetupActionWrapper$1.call(LegacyThreadSetupActionWrapper.java:44)\n    at io.undertow.servlet.api.LegacyThreadSetupActionWrapper$1.call(LegacyThreadSetupActionWrapper.java:44)\n    at io.undertow.servlet.api.LegacyThreadSetupActionWrapper$1.call(LegacyThreadSetupActionWrapper.java:44)\n    at io.undertow.servlet.api.LegacyThreadSetupActionWrapper$1.call(LegacyThreadSetupActionWrapper.java:44)\n    at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:272)\n    at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:81)\n    at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:104)\n    at io.undertow.server.Connectors.executeRootHandler(Connectors.java:202)\n    at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:805)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:745)\nCaused by: java.lang.NullPointerException\n    at org.declercq.librarysoftbackend.dao.UserDao.getAllUsers(UserDao.java:64)\n    at org.declercq.librarysoftbackend.rest.UserWebService.getAllUsers(UserWebService.java:69)\n    at org.declercq.librarysoftbackend.rest.UserWebService$Proxy$_$$_WeldClientProxy.getAllUsers(Unknown Source)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:139)\n    at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:295)\n    at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:249)\n    at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:236)\n    at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:402)\n    ... 43 more\n</code></pre>\n\n<p>More specifically:</p>\n\n<pre><code>Caused by: java.lang.NullPointerException\n    at org.declercq.librarysoftbackend.dao.UserDao.getAllUsers(UserDao.java:64)\n</code></pre>\n\n<p>Which points to:</p>\n\n<pre><code>CriteriaBuilder criteriaBuilder = this.entityManager.getCriteriaBuilder();\n</code></pre>\n\n<p>in UserDao.java.</p>\n\n<p>Any idea what I'm doing wrong here?</p>\n\n<p>UPDATE: the topic linked here as possible duplicate has absolutely zero procent to do with this. My issue is with container managed persistence context and injecting an entitymanager in my application, not with not knowing how to initialize an object.</p>\n\n<p>UPDATE2: I changed my code a bit and consider my UserDao as a Bean by adding the annotation @Stateless after reading this post from Adam Bien: <a href=\"http://www.adam-bien.com/roller/abien/entry/ejb_3_persistence_jpa_for\" rel=\"noreferrer\">http://www.adam-bien.com/roller/abien/entry/ejb_3_persistence_jpa_for</a>. Basically states that DAO's are no longer needed for JPA, EJB's are better. However, still nullpointerexception on same location. (tried @Stateful too, same result).</p>\n\n<p>UPDATE3:\nConfiguration of my datasource in standalone.xml of Wildfly:</p>\n\n<pre><code>&lt;datasources&gt;\n                &lt;datasource jndi-name=\"java:/PostGreLibrarySoftDS\" pool-name=\"PostgrePool\"&gt;\n                    &lt;connection-url&gt;jdbc:postgresql://127.0.0.1:5432/librarysoft&lt;/connection-url&gt;\n                    &lt;driver&gt;postgres&lt;/driver&gt;\n                    &lt;security&gt;\n                        &lt;user-name&gt;test&lt;/user-name&gt;\n                        &lt;password&gt;test&lt;/password&gt;\n                    &lt;/security&gt;\n                &lt;/datasource&gt;\n                &lt;drivers&gt;\n                    &lt;driver name=\"postgres\" module=\"org.postgres\"&gt;\n                        &lt;driver-class&gt;org.postgresql.Driver&lt;/driver-class&gt;\n                    &lt;/driver&gt;\n                &lt;/drivers&gt;\n</code></pre>\n\n<h2>                </h2>\n\n<p><strong>Solved</strong>.\nThe solution was to add @Stateless notation to my UserDao class, making it a bean.\nNext, in UserWebService, add the attribute:</p>\n\n<pre><code>@EJB\nprivate UserDao userDao;\n</code></pre>\n\n<p>Injecting the bean here with <code>@EJB</code> was the solution.</p>\n"},{"tags":["java","windows","ffmpeg","processbuilder","kill-process"],"comments":[{"owner":{"account_id":476140,"reputation":35789,"user_id":886887,"accept_rate":94,"display_name":"Harry Johnston"},"score":0,"creation_date":1421275123,"post_id":27942679,"comment_id":44302591,"body_markdown":"I don&#39;t know if you can do this in Java, but based on your description, you need to send a control-C signal to FFMPEG.  The Win32 API call to do this is [GenerateConsoleCtrlEvent](http://msdn.microsoft.com/en-us/library/windows/desktop/ms683155%28v=vs.85%29.aspx).  Incidentally, the problem isn&#39;t the status code per se, that&#39;s just another symptom; terminating the process with status code 2 is no different to terminating it with status code 1.  You have to *ask* it to terminate (rather than forcing it to do so) so that it can run its cleanup routines.","body":"I don&#39;t know if you can do this in Java, but based on your description, you need to send a control-C signal to FFMPEG.  The Win32 API call to do this is <a href=\"http://msdn.microsoft.com/en-us/library/windows/desktop/ms683155%28v=vs.85%29.aspx\" rel=\"nofollow noreferrer\">GenerateConsoleCtrlEvent</a>.  Incidentally, the problem isn&#39;t the status code per se, that&#39;s just another symptom; terminating the process with status code 2 is no different to terminating it with status code 1.  You have to <i>ask</i> it to terminate (rather than forcing it to do so) so that it can run its cleanup routines."},{"owner":{"account_id":15387,"reputation":63718,"user_id":32453,"accept_rate":92,"display_name":"rogerdpack"},"score":0,"creation_date":1422616923,"post_id":27942679,"comment_id":44831198,"body_markdown":"If it&#39;s ffmpeg, maybe send it a &#39;q&#39; key to tell it to quit...","body":"If it&#39;s ffmpeg, maybe send it a &#39;q&#39; key to tell it to quit..."},{"owner":{"account_id":2072538,"reputation":2546,"user_id":1846656,"accept_rate":38,"display_name":"Bilal Ahmed Yaseen"},"score":0,"creation_date":1422617283,"post_id":27942679,"comment_id":44831381,"body_markdown":"yes If I send &#39;q&#39; through cmd it does terminate process normally. But I want to terminate it from inside my Application.","body":"yes If I send &#39;q&#39; through cmd it does terminate process normally. But I want to terminate it from inside my Application."},{"owner":{"account_id":335193,"reputation":1576,"user_id":662143,"accept_rate":71,"display_name":"ParagJ"},"score":1,"creation_date":1424941594,"post_id":27942679,"comment_id":45760297,"body_markdown":"@BilalAhmedYaseen: Did you get a solution to this? I am getting the same issue.","body":"@BilalAhmedYaseen: Did you get a solution to this? I am getting the same issue."},{"owner":{"account_id":1479236,"reputation":422,"user_id":2933899,"accept_rate":75,"display_name":"aBe"},"score":0,"creation_date":1470314909,"post_id":27942679,"comment_id":64906666,"body_markdown":"I created a library do do video exporting (https://github.com/hamoid/video_export_processing) and run into this exact issue on Windows. Would it be possible to send keystrokes to the process, as proposed at the bottom of https://stackoverflow.com/questions/3240704/execute-external-program-using-processbuilder-and-provide-input ?","body":"I created a library do do video exporting (<a href=\"https://github.com/hamoid/video_export_processing\" rel=\"nofollow noreferrer\">github.com/hamoid/video_export_processing</a>) and run into this exact issue on Windows. Would it be possible to send keystrokes to the process, as proposed at the bottom of <a href=\"https://stackoverflow.com/questions/3240704/execute-external-program-using-processbuilder-and-provide-input\" title=\"execute external program using processbuilder and provide input\">stackoverflow.com/questions/3240704/&hellip;</a> ?"}],"answers":[{"comments":[{"owner":{"account_id":2072538,"reputation":2546,"user_id":1846656,"accept_rate":38,"display_name":"Bilal Ahmed Yaseen"},"score":0,"creation_date":1421238814,"post_id":27943013,"comment_id":44281497,"body_markdown":"There is no such &#39;inheritIO()&#39; method for &#39;Process&#39; class in Java.\n\nProcessBuilder builder = new ProcessBuilder(command);\nProcess processToExecute = builder.start();","body":"There is no such &#39;inheritIO()&#39; method for &#39;Process&#39; class in Java.  ProcessBuilder builder = new ProcessBuilder(command); Process processToExecute = builder.start();"},{"owner":{"account_id":2072538,"reputation":2546,"user_id":1846656,"accept_rate":38,"display_name":"Bilal Ahmed Yaseen"},"score":0,"creation_date":1421241478,"post_id":27943013,"comment_id":44283009,"body_markdown":"Dear Again there is no &#39;write()&#39; method on InputStream. We can just read from InputStream while we can Write on OutputStream. And with OutputStream It makes no sense.","body":"Dear Again there is no &#39;write()&#39; method on InputStream. We can just read from InputStream while we can Write on OutputStream. And with OutputStream It makes no sense."},{"owner":{"account_id":445792,"reputation":1039,"user_id":838444,"display_name":"Sneg"},"score":0,"creation_date":1490202521,"post_id":27943013,"comment_id":73011090,"body_markdown":"He misprinted, he ment `process.getOutputStream().write(exitCode)`. Because `getInputStream()` returns readonly stream connected to the STDOUT of the subprocess. While `getOutputStream()` returns stream that is connected to the STDIN of the subprocess.","body":"He misprinted, he ment <code>process.getOutputStream().write(exitCode)</code>. Because <code>getInputStream()</code> returns readonly stream connected to the STDOUT of the subprocess. While <code>getOutputStream()</code> returns stream that is connected to the STDIN of the subprocess."}],"tags":[],"owner":{"account_id":5624369,"reputation":163,"user_id":4453250,"display_name":"Joe"},"comment_count":3,"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1421239858,"creation_date":1421238639,"answer_id":27943013,"question_id":27942679,"body_markdown":"Maybe try...\r\n\r\n    builder.inheritIO();\r\n    System.exit(2);\r\n\r\nOr you could try to write to the stdin of the process...\r\n\r\n    process.getInputStream().write(exitCode);","title":"How to Terminate a Process Normally Created using ProcessBuilder","body":"<p>Maybe try...</p>\n\n<pre><code>builder.inheritIO();\nSystem.exit(2);\n</code></pre>\n\n<p>Or you could try to write to the stdin of the process...</p>\n\n<pre><code>process.getInputStream().write(exitCode);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21832036,"reputation":1,"user_id":16126861,"display_name":"emilienbf"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690532005,"creation_date":1690532005,"answer_id":76785951,"question_id":27942679,"body_markdown":"You need to terminate all child in your procees with something like :\r\n```\r\nprocess.children().forEach(processHandle -&gt; processHandle.destroy());\r\nprocess.destroy();\r\n```","title":"How to Terminate a Process Normally Created using ProcessBuilder","body":"<p>You need to terminate all child in your procees with something like :</p>\n<pre><code>process.children().forEach(processHandle -&gt; processHandle.destroy());\nprocess.destroy();\n</code></pre>\n"}],"owner":{"account_id":2072538,"reputation":2546,"user_id":1846656,"accept_rate":38,"display_name":"Bilal Ahmed Yaseen"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10501,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":2,"score":8,"last_activity_date":1693191795,"creation_date":1421237476,"question_id":27942679,"body_markdown":"I am creating Processes using ProcessBuilder in my Java Application. The created process executes some FFMPEG commands which actually copy the RTSP streams in specified destination media file.\n\n    ProcessBuilder builder = new ProcessBuilder(&quot;ffmpeg&quot;, &quot;-i&quot;, RTSP_URL, &quot;-f&quot;, fileFormat, destFilePath);\n    Process processToExecute = builder.start();\n\nI want to close the process before it completes its execution. So, If I run this FFMPEG command directly in windows CMD and then press &#39;CTRL+C&#39; after 5 seconds then process get terminates with status &#39;2&#39;. And I can play the media file created so far.\n\nSo, If I do the same operation in my Java Application using:\n\n     process.destroy(); //I call this method after 5 sec\n\nI get the status code &#39;1&#39; which means abnormal termination. I get the status by the following way: \n\n     processToExecute.destroy();\n     processToExecute.exitValue(); //This return me status &#39;1&#39;\n\nAnd I can&#39;t play the media file and I think this is due to the abnormal termination of the process.\n\nSo how I can terminate the process created using ProcessBuilder in the same way we do in CMD with (CTRL+C) so that I may play the created media file ?\n\nI want to terminate process (created using ProcessBuilder) in Java Application with status code of &#39;2&#39; that I get when I terminate process using CMD.\n\n# EDIT#01: --- Sharing Findings #\n\nSo, when I try to delete that file once app terminates, I get the following error:\n\n    The Action Can&#39;t be Performed Because File is Opened in FFMPEG.exe\n\nWhich means that process is not terminating the command it is executing. That command still has occupied this file that&#39;s why I am not getting able to play it. Process gets terminate when I call:\n\n     processToExecute.destroy();\n\nBut, the task it is performing (that is execution of a command) is still active. Strange!!!!\n\n# EDIT#02: Sharing Ultimate Reason #\nActually If I directly press &#39;CTRL+C&#39; or &#39;q&#39; in cmd when process is running then it terminates the process successfully and this process is no more visible in the currently executing processes lists.\n\nAnd Programatically when I call method:\n\n    cmd&gt; processToExecute.destroy();\n\nIt terminates the process but when I see the list of currently executing processes I can still see them over there.\n\nAnd same scenario exists If I try to terminate this process using &#39;taskkill&#39; or &#39;kill&#39; command in another CMD by specifying their&#39;s name or pid that still process terminates abnormally.\n\nP.S. I use the following command to see the running processes:\n\n    tasklist\n\nSo from this it proves that destroy() method from Application and &#39;taskkill or kill&#39; command from another CMD is not terminating the process normally that pressing &#39;CTRL+C&#39; and &#39;q&#39; does.\n","title":"How to Terminate a Process Normally Created using ProcessBuilder","body":"<p>I am creating Processes using ProcessBuilder in my Java Application. The created process executes some FFMPEG commands which actually copy the RTSP streams in specified destination media file.</p>\n<pre><code>ProcessBuilder builder = new ProcessBuilder(&quot;ffmpeg&quot;, &quot;-i&quot;, RTSP_URL, &quot;-f&quot;, fileFormat, destFilePath);\nProcess processToExecute = builder.start();\n</code></pre>\n<p>I want to close the process before it completes its execution. So, If I run this FFMPEG command directly in windows CMD and then press 'CTRL+C' after 5 seconds then process get terminates with status '2'. And I can play the media file created so far.</p>\n<p>So, If I do the same operation in my Java Application using:</p>\n<pre><code> process.destroy(); //I call this method after 5 sec\n</code></pre>\n<p>I get the status code '1' which means abnormal termination. I get the status by the following way:</p>\n<pre><code> processToExecute.destroy();\n processToExecute.exitValue(); //This return me status '1'\n</code></pre>\n<p>And I can't play the media file and I think this is due to the abnormal termination of the process.</p>\n<p>So how I can terminate the process created using ProcessBuilder in the same way we do in CMD with (CTRL+C) so that I may play the created media file ?</p>\n<p>I want to terminate process (created using ProcessBuilder) in Java Application with status code of '2' that I get when I terminate process using CMD.</p>\n<h1>EDIT#01: --- Sharing Findings</h1>\n<p>So, when I try to delete that file once app terminates, I get the following error:</p>\n<pre><code>The Action Can't be Performed Because File is Opened in FFMPEG.exe\n</code></pre>\n<p>Which means that process is not terminating the command it is executing. That command still has occupied this file that's why I am not getting able to play it. Process gets terminate when I call:</p>\n<pre><code> processToExecute.destroy();\n</code></pre>\n<p>But, the task it is performing (that is execution of a command) is still active. Strange!!!!</p>\n<h1>EDIT#02: Sharing Ultimate Reason</h1>\n<p>Actually If I directly press 'CTRL+C' or 'q' in cmd when process is running then it terminates the process successfully and this process is no more visible in the currently executing processes lists.</p>\n<p>And Programatically when I call method:</p>\n<pre><code>cmd&gt; processToExecute.destroy();\n</code></pre>\n<p>It terminates the process but when I see the list of currently executing processes I can still see them over there.</p>\n<p>And same scenario exists If I try to terminate this process using 'taskkill' or 'kill' command in another CMD by specifying their's name or pid that still process terminates abnormally.</p>\n<p>P.S. I use the following command to see the running processes:</p>\n<pre><code>tasklist\n</code></pre>\n<p>So from this it proves that destroy() method from Application and 'taskkill or kill' command from another CMD is not terminating the process normally that pressing 'CTRL+C' and 'q' does.</p>\n"},{"tags":["java","jsf","glassfish"],"owner":{"account_id":28682652,"reputation":47,"user_id":21963506,"display_name":"Farhood Naqizadeh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693191206,"creation_date":1693191206,"question_id":76989795,"body_markdown":"I need something Like [Forward url&#39;s to another location][1] that work with jsf in glassfish not apache , The main problem of me is I have one Web Application That Serv for Android Services and In this application I have Jsf pages for admin panel, after a while we need create Another Web Application That provide WebView, So we have Struc like this :\r\n\r\nHttps://example.com/App (That show Web Panel for manage the android and web application)\r\n\r\nAnd\r\n\r\nHttps://example.com/App/Web (That show WebView of our new Application)\r\n\r\nIn here I need when user enter the Https://example.com/ shows the content of Https://example.com/App/Web but not redirect url!\r\nand stay the page of Https://example.com/.\r\nin docroot of glassfish I have JS and Css file so I can&#39;t change the Https://example.com/App/ (App) context to this (/).\r\nNow what can I do for showing the web application in the domain address?\r\n\r\ngood to know that application is huge in files and xhtml file so I can&#39;t re struc the project.\r\nAnother subject that good to know is I have only one index.html in App/Web\r\n\r\nThis is the Address of WebApplication : \r\nhttps://cattell.ir/App/Web/index.html\r\n\r\nGlassfish full platform Version 7.0.3\r\n\r\nJDK 17\r\n\r\n  [1]: https://stackoverflow.com/questions/21102998/forward-urls-to-another-location","title":"Forward one Page to another location in java jsf","body":"<p>I need something Like <a href=\"https://stackoverflow.com/questions/21102998/forward-urls-to-another-location\">Forward url's to another location</a> that work with jsf in glassfish not apache , The main problem of me is I have one Web Application That Serv for Android Services and In this application I have Jsf pages for admin panel, after a while we need create Another Web Application That provide WebView, So we have Struc like this :</p>\n<p>Https://example.com/App (That show Web Panel for manage the android and web application)</p>\n<p>And</p>\n<p>Https://example.com/App/Web (That show WebView of our new Application)</p>\n<p>In here I need when user enter the Https://example.com/ shows the content of Https://example.com/App/Web but not redirect url!\nand stay the page of Https://example.com/.\nin docroot of glassfish I have JS and Css file so I can't change the Https://example.com/App/ (App) context to this (/).\nNow what can I do for showing the web application in the domain address?</p>\n<p>good to know that application is huge in files and xhtml file so I can't re struc the project.\nAnother subject that good to know is I have only one index.html in App/Web</p>\n<p>This is the Address of WebApplication :\n<a href=\"https://cattell.ir/App/Web/index.html\" rel=\"nofollow noreferrer\">https://cattell.ir/App/Web/index.html</a></p>\n<p>Glassfish full platform Version 7.0.3</p>\n<p>JDK 17</p>\n"},{"tags":["java","sql","jsp","jstl"],"comments":[{"owner":{"account_id":3887004,"reputation":46525,"user_id":3218114,"accept_rate":84,"display_name":"Braj"},"score":0,"creation_date":1407489719,"post_id":25199272,"comment_id":39244239,"body_markdown":"have you included sql and core tag library?","body":"have you included sql and core tag library?"}],"answers":[{"comments":[{"owner":{"account_id":3318693,"reputation":8181,"user_id":2790364,"accept_rate":89,"display_name":"Santhosh"},"score":0,"creation_date":1407488441,"post_id":25199462,"comment_id":39243499,"body_markdown":"same thing works for me .check whether you have imported essential tag libs","body":"same thing works for me .check whether you have imported essential tag libs"},{"owner":{"account_id":3318693,"reputation":8181,"user_id":2790364,"accept_rate":89,"display_name":"Santhosh"},"score":0,"creation_date":1407488577,"post_id":25199462,"comment_id":39243573,"body_markdown":"the exception suggests that `Execution` tag lib is missing . try remove the tag libs and add it again","body":"the exception suggests that <code>Execution</code> tag lib is missing . try remove the tag libs and add it again"},{"owner":{"account_id":2221547,"reputation":1350,"user_id":1960809,"accept_rate":68,"display_name":"blitzen12"},"score":0,"creation_date":1407489577,"post_id":25199462,"comment_id":39244169,"body_markdown":"java SqlExecutionTag class is included in jstl-1.2.jar. So what do u mean by Execution tag lib?","body":"java SqlExecutionTag class is included in jstl-1.2.jar. So what do u mean by Execution tag lib?"},{"owner":{"account_id":3318693,"reputation":8181,"user_id":2790364,"accept_rate":89,"display_name":"Santhosh"},"score":0,"creation_date":1407489702,"post_id":25199462,"comment_id":39244234,"body_markdown":"this url `&lt;%@ taglib uri=&quot;http://java.sun.com/jsp/jstl/sql&quot; prefix=&quot;sql&quot;%&gt;` indicates support for sql tags . have you included this ?","body":"this url <code>&lt;%@ taglib uri=&quot;http:&#47;&#47;java.sun.com&#47;jsp&#47;jstl&#47;sql&quot; prefix=&quot;sql&quot;%&gt;</code> indicates support for sql tags . have you included this ?"},{"owner":{"account_id":3318693,"reputation":8181,"user_id":2790364,"accept_rate":89,"display_name":"Santhosh"},"score":0,"creation_date":1407489754,"post_id":25199462,"comment_id":39244259,"body_markdown":"your exception says the compiler cant find the class, that is required to execute the query in its class path","body":"your exception says the compiler cant find the class, that is required to execute the query in its class path"},{"owner":{"account_id":2221547,"reputation":1350,"user_id":1960809,"accept_rate":68,"display_name":"blitzen12"},"score":0,"creation_date":1407490465,"post_id":25199462,"comment_id":39244660,"body_markdown":"yes. both `&lt;%@taglib prefix=&quot;c&quot;  uri=&quot;http://java.sun.com/jsp/jstl/core&quot;%&gt;\n&lt;%@taglib prefix=&quot;sql&quot; uri=&quot;http://java.sun.com/jsp/jstl/sql&quot; %&gt;` is included","body":"yes. both <code>&lt;%@taglib prefix=&quot;c&quot;  uri=&quot;http:&#47;&#47;java.sun.com&#47;jsp&#47;jstl&#47;core&quot;%&gt; &lt;%@taglib prefix=&quot;sql&quot; uri=&quot;http:&#47;&#47;java.sun.com&#47;jsp&#47;jstl&#47;sql&quot; %&gt;</code> is included"}],"tags":[],"owner":{"account_id":3318693,"reputation":8181,"user_id":2790364,"accept_rate":89,"display_name":"Santhosh"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1407487875,"creation_date":1407487875,"answer_id":25199462,"question_id":25199272,"body_markdown":"you have specified query attribute , but it should be like below,\r\n\r\n    &lt;sql:setDataSource var=&quot;con&quot; driver=&quot;com.mysql.jdbc.Driver&quot; url=&quot;jdbc:mysql://localhost/test&quot; user=&quot;root&quot; password=&quot;&quot;/&gt;\r\n        &lt;sql:query var=&quot;result&quot; dataSource=&quot;${con }&quot;&gt;\r\n    select * from account\r\n    &lt;/sql:query&gt;\r\n        &lt;c:forEach var=&quot;rows&quot; items=&quot;${result.rows }&quot;&gt;\r\n            ${rows.email}\r\n        &lt;/c:forEach&gt;\r\n\r\nit should work as expected","title":"java.lang.ClassNotFoundException: javax.servlet.jsp.jstl.sql.SQLExecutionTag","body":"<p>you have specified query attribute , but it should be like below,</p>\n\n<pre><code>&lt;sql:setDataSource var=\"con\" driver=\"com.mysql.jdbc.Driver\" url=\"jdbc:mysql://localhost/test\" user=\"root\" password=\"\"/&gt;\n    &lt;sql:query var=\"result\" dataSource=\"${con }\"&gt;\nselect * from account\n&lt;/sql:query&gt;\n    &lt;c:forEach var=\"rows\" items=\"${result.rows }\"&gt;\n        ${rows.email}\n    &lt;/c:forEach&gt;\n</code></pre>\n\n<p>it should work as expected</p>\n"},{"comments":[{"owner":{"account_id":2221547,"reputation":1350,"user_id":1960809,"accept_rate":68,"display_name":"blitzen12"},"score":1,"creation_date":1407554549,"post_id":25203525,"comment_id":39272471,"body_markdown":"no need for jsp-api.jar it&#39;s already included in the tomcat lib by default. and also what&#39;s the difference between jstl-1.2 and jstl-1.2.1? I notice it won&#39;t work if combine jstl-1.2.1.jar and jstl-1.2-source.jar.","body":"no need for jsp-api.jar it&#39;s already included in the tomcat lib by default. and also what&#39;s the difference between jstl-1.2 and jstl-1.2.1? I notice it won&#39;t work if combine jstl-1.2.1.jar and jstl-1.2-source.jar."}],"tags":[],"owner":{"account_id":4824882,"reputation":263,"user_id":3894580,"accept_rate":75,"display_name":"Arjun Prajapati"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1407500853,"creation_date":1407500853,"answer_id":25203525,"question_id":25199272,"body_markdown":"please download both this jar and try this hopefully is should work.\r\n\r\nput them  in below location\r\n\r\nWebContent/WEB-INF/lib\r\n\r\n&lt;ul&gt;\r\n&lt;li&gt;&lt;a href=&quot;http://repo1.maven.org/maven2/javax/servlet/jsp-api/2.0/jsp-api-2.0.jar&quot;&gt;jsf-api.jar&lt;/a&gt;&lt;/li&gt;\r\n&lt;li&gt;&lt;a href=&quot;http://repo1.maven.org/maven2/javax/servlet/jstl/1.2/jstl-1.2.jar&quot;&gt;jstl.jar&lt;/a&gt;&lt;/li&gt;\r\n&lt;/ul&gt;","title":"java.lang.ClassNotFoundException: javax.servlet.jsp.jstl.sql.SQLExecutionTag","body":"<p>please download both this jar and try this hopefully is should work.</p>\n\n<p>put them  in below location</p>\n\n<p>WebContent/WEB-INF/lib</p>\n\n<ul>\n<li><a href=\"http://repo1.maven.org/maven2/javax/servlet/jsp-api/2.0/jsp-api-2.0.jar\" rel=\"nofollow\">jsf-api.jar</a></li>\n<li><a href=\"http://repo1.maven.org/maven2/javax/servlet/jstl/1.2/jstl-1.2.jar\" rel=\"nofollow\">jstl.jar</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":29276252,"reputation":1,"user_id":22429918,"display_name":"monukd01dev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693190782,"creation_date":1693190782,"answer_id":76989778,"question_id":25199272,"body_markdown":"I was also getting the same error, every time I run the app, I tired changing the mysql connector dependencies with several version but error was still their, I read my code many time and not found anything also tried cj and without cj in driver even then it doesn&#39;t work but then I re-load my Intellij IDEA Ultimate edition (IDE) and guess it&#39;s working :-&lt;&gt;","title":"java.lang.ClassNotFoundException: javax.servlet.jsp.jstl.sql.SQLExecutionTag","body":"<p>I was also getting the same error, every time I run the app, I tired changing the mysql connector dependencies with several version but error was still their, I read my code many time and not found anything also tried cj and without cj in driver even then it doesn't work but then I re-load my Intellij IDEA Ultimate edition (IDE) and guess it's working :-&lt;&gt;</p>\n"}],"owner":{"account_id":2221547,"reputation":1350,"user_id":1960809,"accept_rate":68,"display_name":"blitzen12"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5386,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1693214721,"answer_count":3,"score":1,"last_activity_date":1693190782,"creation_date":1407487217,"question_id":25199272,"body_markdown":"This might be a noob question but i&#39;m stuck in this error. I&#39;m using Tomcat 7.0.34\r\n\r\n    WebContent/WEB-INF/lib\r\n           jstl-1.2-sources.jar\r\n           jstl-1-2.jar\r\n           mysql-connector-java-5.1.31\r\n\r\nbelow is my jsp code.\r\n\r\n    &lt;sql:setDataSource var=&quot;con&quot; driver=&quot;com.mysql.jdbc.Driver&quot; url=&quot;jdbc:mysql://localhost/test&quot; user=&quot;root&quot; password=&quot;&quot;/&gt;\r\n    \t&lt;sql:query var=&quot;result&quot; sql=&quot;select * from account&quot; dataSource=&quot;${con }&quot;/&gt;\r\n    \t&lt;c:forEach var=&quot;rows&quot; items=&quot;${result.rows }&quot;&gt;\r\n    \t\t${rows.email}\r\n    \t&lt;/c:forEach&gt;\r\n\r\nfull stack trace:\r\n\r\n    SEVERE: Servlet.service() for servlet [jsp] in context with path [/JavaPMS] threw exception [java.lang.NoClassDefFoundError: javax/servlet/jsp/jstl/sql/SQLExecutionTag] with root cause\r\n    java.lang.ClassNotFoundException: javax.servlet.jsp.jstl.sql.SQLExecutionTag\r\n    \tat org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1720)\r\n    \tat org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1571)\r\n    \tat java.lang.ClassLoader.defineClass1(Native Method)\r\n    \tat java.lang.ClassLoader.defineClass(ClassLoader.java:760)\r\n    \tat java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\r\n    \tat org.apache.catalina.loader.WebappClassLoader.findClassInternal(WebappClassLoader.java:2957)\r\n    \tat org.apache.catalina.loader.WebappClassLoader.findClass(WebappClassLoader.java:1210)\r\n    \tat org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1690)\r\n    \tat org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1571)\r\n    \tat java.lang.ClassLoader.defineClass1(Native Method)\r\n    \tat java.lang.ClassLoader.defineClass(ClassLoader.java:760)\r\n    \tat java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\r\n    \tat org.apache.catalina.loader.WebappClassLoader.findClassInternal(WebappClassLoader.java:2957)\r\n    \tat org.apache.catalina.loader.WebappClassLoader.findClass(WebappClassLoader.java:1210)\r\n    \tat org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1690)\r\n    \tat org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1571)\r\n    \tat org.apache.jasper.compiler.Parser.parseCustomTag(Parser.java:1223)\r\n    \tat org.apache.jasper.compiler.Parser.parseElements(Parser.java:1452)\r\n    \tat org.apache.jasper.compiler.Parser.parse(Parser.java:138)\r\n    \tat org.apache.jasper.compiler.ParserController.doParse(ParserController.java:242)\r\n    \tat org.apache.jasper.compiler.ParserController.parse(ParserController.java:102)\r\n    \tat org.apache.jasper.compiler.Compiler.generateJava(Compiler.java:198)\r\n    \tat org.apache.jasper.compiler.Compiler.compile(Compiler.java:373)\r\n    \tat org.apache.jasper.compiler.Compiler.compile(Compiler.java:353)\r\n    \tat org.apache.jasper.compiler.Compiler.compile(Compiler.java:340)\r\n    \tat org.apache.jasper.JspCompilationContext.compile(JspCompilationContext.java:657)\r\n    \tat org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:357)\r\n    \tat org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:390)\r\n    \tat org.apache.jasper.servlet.JspServlet.service(JspServlet.java:334)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:727)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:303)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\r\n    \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:220)\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:122)\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:501)\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171)\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)\r\n    \tat org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:950)\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:408)\r\n    \tat org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1040)\r\n    \tat org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:607)\r\n    \tat org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:314)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tat java.lang.Thread.run(Thread.java:744)\r\n\r\nit seems to be working fine if I&#39;ll remove `&lt;sql:query/&gt;`.\r\n\r\nThank you.","title":"java.lang.ClassNotFoundException: javax.servlet.jsp.jstl.sql.SQLExecutionTag","body":"<p>This might be a noob question but i'm stuck in this error. I'm using Tomcat 7.0.34</p>\n\n<pre><code>WebContent/WEB-INF/lib\n       jstl-1.2-sources.jar\n       jstl-1-2.jar\n       mysql-connector-java-5.1.31\n</code></pre>\n\n<p>below is my jsp code.</p>\n\n<pre><code>&lt;sql:setDataSource var=\"con\" driver=\"com.mysql.jdbc.Driver\" url=\"jdbc:mysql://localhost/test\" user=\"root\" password=\"\"/&gt;\n    &lt;sql:query var=\"result\" sql=\"select * from account\" dataSource=\"${con }\"/&gt;\n    &lt;c:forEach var=\"rows\" items=\"${result.rows }\"&gt;\n        ${rows.email}\n    &lt;/c:forEach&gt;\n</code></pre>\n\n<p>full stack trace:</p>\n\n<pre><code>SEVERE: Servlet.service() for servlet [jsp] in context with path [/JavaPMS] threw exception [java.lang.NoClassDefFoundError: javax/servlet/jsp/jstl/sql/SQLExecutionTag] with root cause\njava.lang.ClassNotFoundException: javax.servlet.jsp.jstl.sql.SQLExecutionTag\n    at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1720)\n    at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1571)\n    at java.lang.ClassLoader.defineClass1(Native Method)\n    at java.lang.ClassLoader.defineClass(ClassLoader.java:760)\n    at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\n    at org.apache.catalina.loader.WebappClassLoader.findClassInternal(WebappClassLoader.java:2957)\n    at org.apache.catalina.loader.WebappClassLoader.findClass(WebappClassLoader.java:1210)\n    at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1690)\n    at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1571)\n    at java.lang.ClassLoader.defineClass1(Native Method)\n    at java.lang.ClassLoader.defineClass(ClassLoader.java:760)\n    at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\n    at org.apache.catalina.loader.WebappClassLoader.findClassInternal(WebappClassLoader.java:2957)\n    at org.apache.catalina.loader.WebappClassLoader.findClass(WebappClassLoader.java:1210)\n    at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1690)\n    at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1571)\n    at org.apache.jasper.compiler.Parser.parseCustomTag(Parser.java:1223)\n    at org.apache.jasper.compiler.Parser.parseElements(Parser.java:1452)\n    at org.apache.jasper.compiler.Parser.parse(Parser.java:138)\n    at org.apache.jasper.compiler.ParserController.doParse(ParserController.java:242)\n    at org.apache.jasper.compiler.ParserController.parse(ParserController.java:102)\n    at org.apache.jasper.compiler.Compiler.generateJava(Compiler.java:198)\n    at org.apache.jasper.compiler.Compiler.compile(Compiler.java:373)\n    at org.apache.jasper.compiler.Compiler.compile(Compiler.java:353)\n    at org.apache.jasper.compiler.Compiler.compile(Compiler.java:340)\n    at org.apache.jasper.JspCompilationContext.compile(JspCompilationContext.java:657)\n    at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:357)\n    at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:390)\n    at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:334)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:727)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:303)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:220)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:122)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:501)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)\n    at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:950)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:408)\n    at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1040)\n    at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:607)\n    at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:314)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.lang.Thread.run(Thread.java:744)\n</code></pre>\n\n<p>it seems to be working fine if I'll remove <code>&lt;sql:query/&gt;</code>.</p>\n\n<p>Thank you.</p>\n"},{"tags":["java","netbeans","java-8","illegalargumentexception","failed-installation"],"comments":[{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1693183749,"post_id":76988499,"comment_id":135722277,"body_markdown":"The error message is telling you exactly what to do: _&quot;get more details about the issue in the installer log file...&quot;_. So update your question with the information logged to the installer log file. Also, update your question to specify the versions of Java and NetBeans that are being used because you may be trying to use NetBeans with an unsupported version of Java. In particular, note that release 12.6 and later of NetBeans do not support Java 8.","body":"The error message is telling you exactly what to do: <i>&quot;get more details about the issue in the installer log file...&quot;</i>. So update your question with the information logged to the installer log file. Also, update your question to specify the versions of Java and NetBeans that are being used because you may be trying to use NetBeans with an unsupported version of Java. In particular, note that release 12.6 and later of NetBeans do not support Java 8."}],"answers":[{"comments":[{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1693339809,"post_id":76989716,"comment_id":135747223,"body_markdown":"It&#39;s simply wrong to claim that this is _&quot;a bug in the JDK&quot;_ based on the limited information provided in the question. We don&#39;t even know which JDK method is violating its contract! The JDK support team were unable to reproduce the problem on Windows 10 or Windows 11, testing with six different releases of Java. They are still [awaiting further information from the person who created the bug](https://bugs.openjdk.org/browse/JDK-8305072), and that bug has _&quot;Resolution:Incomplete&quot;_. No conclusions can be made until the OP shows us what is in their installer log file.","body":"It&#39;s simply wrong to claim that this is <i>&quot;a bug in the JDK&quot;</i> based on the limited information provided in the question. We don&#39;t even know which JDK method is violating its contract! The JDK support team were unable to reproduce the problem on Windows 10 or Windows 11, testing with six different releases of Java. They are still <a href=\"https://bugs.openjdk.org/browse/JDK-8305072\" rel=\"nofollow noreferrer\">awaiting further information from the person who created the bug</a>, and that bug has <i>&quot;Resolution:Incomplete&quot;</i>. No conclusions can be made until the OP shows us what is in their installer log file."}],"tags":[],"owner":{"account_id":15419085,"reputation":34,"user_id":11123596,"display_name":"troizet"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693189491,"creation_date":1693189491,"answer_id":76989716,"question_id":76988499,"body_markdown":"It&#39;s a bug in the JDK. How to solve it is described [here][1]. \r\n\r\n\r\n  [1]: https://github.com/apache/netbeans/discussions/6361","title":"Comparsion method violates its general contract error while installing NetBeans","body":"<p>It's a bug in the JDK. How to solve it is described <a href=\"https://github.com/apache/netbeans/discussions/6361\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":28998803,"reputation":1,"user_id":22212792,"display_name":"adcast076"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1693189491,"creation_date":1693162231,"question_id":76988499,"body_markdown":"I&#39;ve had the same screen error that keeps me from installing NetBeans, it appears right after the terms agreement, I have uninstalled and reinstalled JDK and older Java version multiple times but it keeps failing. Any suggesti&#243;n on what to do?\r\n\r\n[![Error screen][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/RpCrP.png","title":"Comparsion method violates its general contract error while installing NetBeans","body":"<p>I've had the same screen error that keeps me from installing NetBeans, it appears right after the terms agreement, I have uninstalled and reinstalled JDK and older Java version multiple times but it keeps failing. Any suggestión on what to do?</p>\n<p><a href=\"https://i.stack.imgur.com/RpCrP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RpCrP.png\" alt=\"Error screen\" /></a></p>\n"},{"tags":["java","utf-8"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1662034332,"post_id":73569018,"comment_id":129915782,"body_markdown":"`String.charAt` and `Character` operates on UTF-16 code units, so as long as you read the file correctly, and there are no characters outside the BMP, you won&#39;t get &quot;half a character&quot;. I&#39;m surprised I can&#39;t find a duplicate... Maybe I&#39;m not using the right words...","body":"<code>String.charAt</code> and <code>Character</code> operates on UTF-16 code units, so as long as you read the file correctly, and there are no characters outside the BMP, you won&#39;t get &quot;half a character&quot;. I&#39;m surprised I can&#39;t find a duplicate... Maybe I&#39;m not using the right words..."},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1662034625,"post_id":73569018,"comment_id":129915878,"body_markdown":"Note that the notion of &quot;character&quot; might not be as simple as you think (often a character is represented by one codepoint, but that&#39;s not always the case). And neither is the notion of &quot;duplicate&quot; (some characters can be represented in multiple ways that should be considered equivalent).","body":"Note that the notion of &quot;character&quot; might not be as simple as you think (often a character is represented by one codepoint, but that&#39;s not always the case). And neither is the notion of &quot;duplicate&quot; (some characters can be represented in multiple ways that should be considered equivalent)."},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1662034851,"post_id":73569018,"comment_id":129915955,"body_markdown":"I&#39;d suggest that you provide a [mcve] for that &quot;question marks&quot; problem, if you that&#39;s what you are actually asking about. Otherwise, you should remove that part to make your question more focused.","body":"I&#39;d suggest that you provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> for that &quot;question marks&quot; problem, if you that&#39;s what you are actually asking about. Otherwise, you should remove that part to make your question more focused."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1662045182,"post_id":73569018,"comment_id":129920283,"body_markdown":"Given no &#39;complications&#39; such as come from the increasingly imprecise nature of what defines a character, which has been discussed by others like @Joachim Sauer here, you can de-duplicate and order like this: ```TreeSet&lt;Character&gt; orderedChars = string.chars().mapToObj(c -&gt; (char)c).collect(Collectors.toCollection(TreeSet::new));\n``` As far as printing is concerned, as well as having encoding sorted out, you also need a font that has the glyphs for representing the characters","body":"Given no &#39;complications&#39; such as come from the increasingly imprecise nature of what defines a character, which has been discussed by others like @Joachim Sauer here, you can de-duplicate and order like this: <code>TreeSet&lt;Character&gt; orderedChars = string.chars().mapToObj(c -&gt; (char)c).collect(Collectors.toCollection(TreeSet::new)); </code> As far as printing is concerned, as well as having encoding sorted out, you also need a font that has the glyphs for representing the characters"},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1662172348,"post_id":73569018,"comment_id":129950949,"body_markdown":"You are asking multiple, unrelated questions, which means it may be closed (_&quot;This question currently includes multiple questions in one. It should focus on one problem only.&quot;_). Rendering to the console has nothing to do with sorting characters, nor removing duplicate characters. Please amend your question so that it focuses on a single issue, and create additional new question(s) if appropriate.","body":"You are asking multiple, unrelated questions, which means it may be closed (<i>&quot;This question currently includes multiple questions in one. It should focus on one problem only.&quot;</i>). Rendering to the console has nothing to do with sorting characters, nor removing duplicate characters. Please amend your question so that it focuses on a single issue, and create additional new question(s) if appropriate."}],"answers":[{"comments":[{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1662034713,"post_id":73569103,"comment_id":129915911,"body_markdown":"While Java goes pretty far in making Unicode &quot;just work&quot;, it doesn&#39;t lift the burden of having an understanding of what a &quot;character&quot; is (and more important: is not), which can be really hard to define in Unicode. Characters can be represented pre-composed or using combining marks, for example.","body":"While Java goes pretty far in making Unicode &quot;just work&quot;, it doesn&#39;t lift the burden of having an understanding of what a &quot;character&quot; is (and more important: is not), which can be really hard to define in Unicode. Characters can be represented pre-composed or using combining marks, for example."},{"owner":{"account_id":25534785,"reputation":532,"user_id":19322069,"display_name":"access violation"},"score":0,"creation_date":1662035203,"post_id":73569103,"comment_id":129916071,"body_markdown":"True, and perhaps this case (&quot;dealing with foreign languages&quot;) is going to have to deal with such nuances.","body":"True, and perhaps this case (&quot;dealing with foreign languages&quot;) is going to have to deal with such nuances."}],"tags":[],"owner":{"account_id":25534785,"reputation":532,"user_id":19322069,"display_name":"access violation"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1662034090,"creation_date":1662034090,"answer_id":73569103,"question_id":73569018,"body_markdown":"Characters in running Java programs are intrinsically Unicode (they are in fact stored as UTF-16, which you can ignore until you&#39;re interested in codes U+10000 or greater, which you&#39;re probably not at this point - but if you are, look at the &#39;codepoint&#39; operations). \r\n\r\nA String is thus automatically a string of Unicode characters.\r\n\r\nJava source code is generally interpreted as UTF-8; this may be alterable by local convention, I&#39;m not sure of that, since I&#39;m a &quot;UTF-8 only&quot; person.\r\n\r\nSo what this boils down to is that you don&#39;t have to do anything special in a Java program to &quot;use Unicode&quot; - it just is.\r\n\r\nYou may need to pay attention to cases where you read and write Strings to some external medium, like a disk file or a network connection. There is a conversion to a byte stream - typically UTF-8 by default, though the default can be changed by local convention. You can explicitly specify the byte encoding in most contexts.\r\n\r\nYour remaining problem seems to be related to display on Windows. That appears to be a font issue; you need a font containing the characters. Or, since it&#39;s Windows, it may be a matter of selecting the right &quot;code page&quot;.\r\n","title":"How to print and work with UTF-8 string on Java?","body":"<p>Characters in running Java programs are intrinsically Unicode (they are in fact stored as UTF-16, which you can ignore until you're interested in codes U+10000 or greater, which you're probably not at this point - but if you are, look at the 'codepoint' operations).</p>\n<p>A String is thus automatically a string of Unicode characters.</p>\n<p>Java source code is generally interpreted as UTF-8; this may be alterable by local convention, I'm not sure of that, since I'm a &quot;UTF-8 only&quot; person.</p>\n<p>So what this boils down to is that you don't have to do anything special in a Java program to &quot;use Unicode&quot; - it just is.</p>\n<p>You may need to pay attention to cases where you read and write Strings to some external medium, like a disk file or a network connection. There is a conversion to a byte stream - typically UTF-8 by default, though the default can be changed by local convention. You can explicitly specify the byte encoding in most contexts.</p>\n<p>Your remaining problem seems to be related to display on Windows. That appears to be a font issue; you need a font containing the characters. Or, since it's Windows, it may be a matter of selecting the right &quot;code page&quot;.</p>\n"},{"tags":[],"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1662228985,"creation_date":1662228985,"answer_id":73594488,"question_id":73569018,"body_markdown":"When calling `System.out.println(str)`, the charset used by the underlying `PrintStream` (i.e. `System.out`) is your _default charset_, and if that is not UTF-8 then you might have problems when rendering in the Eclipse console. From t[he javadoc for `PrintStream`][1], with my emphasis added:\r\n\r\n&gt; All characters printed by a PrintStream are converted into bytes using\r\n&gt; the given encoding or charset, **or platform&#39;s default character\r\n&gt; encoding if not specified**.\r\n\r\nSo your console output is probably not working because your _&quot;platform&#39;s default character encoding&quot;_ is not UTF-8. There are two simple coding approaches to resolve that:\r\n- Call [java.lang.System.setOut()][2] so that `System.out` uses UTF-8.\r\n- Create your own `PrintStream` that uses UTF-8 instead of using `System.out`.\r\n\r\nHere&#39;s code which reproduces your problem, and resolves it:\r\n\r\n    package pkg;\r\n    \r\n    import java.io.FileDescriptor;\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    import java.io.PrintStream;\r\n    import java.nio.charset.StandardCharsets;\r\n    \r\n    public class Main {\r\n    \r\n    \tpublic static void main(String[] args) throws IOException {\r\n    \t\t\r\n    \t\tString str = &quot;&#191;&#230;Ł&#233;İ&#252;ł&#239;ąņą&#248;&quot;; // Sample data from the question.\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;1: &quot; + str); // Fails if default charset is not UTF-8.  \r\n    \r\n    \t\t// Redirect System.out to use a PrintStream using UTF-8 charset.\r\n    \t\tFileOutputStream fos2 = new FileOutputStream(FileDescriptor.out);\r\n    \t\tPrintStream ps2 = new PrintStream(fos2, true, StandardCharsets.UTF_8);\r\n    \t\tSystem.setOut(ps2);\r\n    \t\tSystem.out.println(&quot;2: &quot; + str); // Works.\r\n    \t\t\r\n    \t\t// Use your own PrintStream with UTF-8 charset instead of using System.out.\r\n    \t\tFileOutputStream fos3 = new FileOutputStream(FileDescriptor.out);\r\n    \t\tPrintStream ps3 = new PrintStream(fos3, true, StandardCharsets.UTF_8);\r\n    \t\tps3.print(&quot;3: &quot; + str); // Works.\r\n    \t\tps3.close();\r\n    \t}\r\n    }\r\n\r\nThis is a screen shot of the Eclipse console output from running that code, which demonstrates that both solutions described above work:\r\n\r\n[![Eclipse console][3]][3]\r\n\r\nNotes:\r\n\r\n- My environment was Eclipse 2022-06 (4.24.0) with JDK 11.0.12 on Windows 10, with windows-1252 as the default charset and Consolas as the console font.\r\n- Presumably some (but not all) of the characters in your sample data rendered correctly because your _&quot;default charset&quot;_ supported some (but not all) of those characters. None of the characters rendered correctly when using my default charset (windows-1252). \r\n- An alternative approach would be to change your platforms default encoding to UTF-8, so that `System.out.println(str)` would automatically encode using UTF-8, but that would mean your code is not portable.\r\n- The question [Java JDK 18 in IntelliJ prints question mark &quot;?&quot; when I tried to print unicode like &quot;\\u1699&quot;](https://stackoverflow.com/q/71685543/2985643) is relevant, though it focuses on `println()` issues with JDK 17/18 on Intellij IDEA.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/PrintStream.html\r\n  [2]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/System.html#setOut(java.io.PrintStream)\r\n  [3]: https://i.stack.imgur.com/fisgO.png","title":"How to print and work with UTF-8 string on Java?","body":"<p>When calling <code>System.out.println(str)</code>, the charset used by the underlying <code>PrintStream</code> (i.e. <code>System.out</code>) is your <em>default charset</em>, and if that is not UTF-8 then you might have problems when rendering in the Eclipse console. From t<a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/PrintStream.html\" rel=\"nofollow noreferrer\">he javadoc for <code>PrintStream</code></a>, with my emphasis added:</p>\n<blockquote>\n<p>All characters printed by a PrintStream are converted into bytes using\nthe given encoding or charset, <strong>or platform's default character\nencoding if not specified</strong>.</p>\n</blockquote>\n<p>So your console output is probably not working because your <em>&quot;platform's default character encoding&quot;</em> is not UTF-8. There are two simple coding approaches to resolve that:</p>\n<ul>\n<li>Call <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/System.html#setOut(java.io.PrintStream)\" rel=\"nofollow noreferrer\">java.lang.System.setOut()</a> so that <code>System.out</code> uses UTF-8.</li>\n<li>Create your own <code>PrintStream</code> that uses UTF-8 instead of using <code>System.out</code>.</li>\n</ul>\n<p>Here's code which reproduces your problem, and resolves it:</p>\n<pre><code>package pkg;\n\nimport java.io.FileDescriptor;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.io.PrintStream;\nimport java.nio.charset.StandardCharsets;\n\npublic class Main {\n\n    public static void main(String[] args) throws IOException {\n        \n        String str = &quot;¿æŁéİüłïąņąø&quot;; // Sample data from the question.\n        \n        System.out.println(&quot;1: &quot; + str); // Fails if default charset is not UTF-8.  \n\n        // Redirect System.out to use a PrintStream using UTF-8 charset.\n        FileOutputStream fos2 = new FileOutputStream(FileDescriptor.out);\n        PrintStream ps2 = new PrintStream(fos2, true, StandardCharsets.UTF_8);\n        System.setOut(ps2);\n        System.out.println(&quot;2: &quot; + str); // Works.\n        \n        // Use your own PrintStream with UTF-8 charset instead of using System.out.\n        FileOutputStream fos3 = new FileOutputStream(FileDescriptor.out);\n        PrintStream ps3 = new PrintStream(fos3, true, StandardCharsets.UTF_8);\n        ps3.print(&quot;3: &quot; + str); // Works.\n        ps3.close();\n    }\n}\n</code></pre>\n<p>This is a screen shot of the Eclipse console output from running that code, which demonstrates that both solutions described above work:</p>\n<p><a href=\"https://i.stack.imgur.com/fisgO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fisgO.png\" alt=\"Eclipse console\" /></a></p>\n<p>Notes:</p>\n<ul>\n<li>My environment was Eclipse 2022-06 (4.24.0) with JDK 11.0.12 on Windows 10, with windows-1252 as the default charset and Consolas as the console font.</li>\n<li>Presumably some (but not all) of the characters in your sample data rendered correctly because your <em>&quot;default charset&quot;</em> supported some (but not all) of those characters. None of the characters rendered correctly when using my default charset (windows-1252).</li>\n<li>An alternative approach would be to change your platforms default encoding to UTF-8, so that <code>System.out.println(str)</code> would automatically encode using UTF-8, but that would mean your code is not portable.</li>\n<li>The question <a href=\"https://stackoverflow.com/q/71685543/2985643\">Java JDK 18 in IntelliJ prints question mark &quot;?&quot; when I tried to print unicode like &quot;\\u1699&quot;</a> is relevant, though it focuses on <code>println()</code> issues with JDK 17/18 on Intellij IDEA.</li>\n</ul>\n"}],"owner":{"account_id":2975457,"reputation":1032,"user_id":2526586,"accept_rate":33,"display_name":"user2526586"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1044,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73594488,"answer_count":2,"score":2,"last_activity_date":1693189333,"creation_date":1662033631,"question_id":73569018,"body_markdown":"I am working on a project that deals with foreign languages. I have this `String` on Java:\r\n```\r\nString string = &quot;&#225;&#231;&#241;&#233;&#252;&#246;&#235;&#233;&#243;&#237;&#243;&#237;&#243;&#237;&#243;&#237;&#237;&#237;&#227;&#227;&#233;&#237;&#225;&#233;&#237;&#225;&#231;&#231;&#227;&#211;łńńāņš&#248;&#248;&#248;&#248;&#233;&#233;&#232;&#232;&#220;&#252;&#220;&#252;&#233;&#233;&#237;&#233;&#225;&#233;&#225;ř&#237;ř&#237;&#231;&#231;&#225;&#225;&#241;&#241;&#239;&#239;šš&#228;&#228;&#228;&#233;&#233;&#232;&#232;&#225;&#225;&#233;&#225;&#233;&#225;&#233;&#225;&#233;&#225;&#233;&#225;&#233;&#225;&#232;&#232;&#232;&#232;&#237;&#237;&#233;&#232;&#233;&#232;&#225;&#233;&#233;&#199;&#199;&#233;&#233;&#233;&#233;&#237;&#237;&#252;&#252;&#252;&#252;&#237;&#237;&#248;&#248;&#225;&#225;&#225;&#225;&#191;&#191;&#237;&#237;&#243;&#233;̌&#205;&#225;̌&#237;&#225;&#230;&#230;&#246;&#246;&#237;&#193;&#237;&#193;&#237;&#237;&#237;ł&#231;&#231;&#241;&#241;&#225;璇&#252;şİ&#252;şİ&#246;ğ&#246;ğşşıı&#227;&#227;&#223;&#223;&#244;&#232;&#244;&#232;&#234;&#233;&#233;&#231;&#231;&#225;&#193;&#225;&#193;&#233;&#233;&#233;&#233;&#233;&#233;&#199;&#243;&#243;&#233;&#237;&#234;&#246;&#246;&#233;&#233;&#237;&#237;&#240;&#240;&#241;&#241;&#225;&#241;&#225;&#241;&#211;&#250;&#211;&#250;&#237;łńłń&#229;&#229;&#233;&#233;&#233;&#235;&#235;&#225;&#225;&#233;&#237;&#191;&#191;&#233;&#233;&#214;&#214;&#225;&#233;&#225;&#233;&#246;ğ&#214;&#252;&#246;ğ&#214;&#252;&#231;Ş&#231;Şıı&#231;ıı&#231;ııİİşİş&#237;&#225;&#237;&#225;&#233;&#252;&#252;&#201;&#201;&#233;&#233;&#233;&#248;&#241;&#241;&#239;&#237;&#233;&#233;&quot;;\r\n```\r\nand I have saved my java file in utf-8 encoding. \r\n\r\nI want to remove duplicated character, then sort characters by their unicodes, and finally print out the result string and save the string into a text file (in UTF-8 or other unicode). \r\n\r\nI don&#39;t know if it is because of the terminal - I am working on Eclipse (Windows) and I see &#39;?&#39;(question mark) when printing some of the characters. What is the correct way to print the string? \r\n\r\nI am also not sure how to *SAFELY* remove duplicated characters and sort the characters. For example, if I use `String.charAt()` and `HashSet&lt;Character&gt;`, is it safe to do so in my case? Will I get half a character for some multi-byte character? What is a safe way to compare these characters?\r\n\r\nKnowing that the project may deal with a very large variety of different languages, what is a safe way to save the string into text file? \r\n\r\n*****\r\n\r\n**Update:** To reproduce the question mark problem:\r\n```\r\nString str = &quot;&#191;&#230;Ł&#233;İ&#252;ł&#239;ąņą&#248;&quot;;\r\nSystem.out.println(str);\r\n```\r\n\r\nIt prints out this on my Eclipse console:\r\n```\r\n&#191;&#230;?&#233;?&#252;?&#239;???&#248;\r\n```\r\n\r\n*Note: I am already using GNU FreeMono for the console font, which has very good foreign character cover.* ","title":"How to print and work with UTF-8 string on Java?","body":"<p>I am working on a project that deals with foreign languages. I have this <code>String</code> on Java:</p>\n<pre><code>String string = &quot;áçñéüöëéóíóíóíóíííããéíáéíáççãÓłńńāņšøøøøééèèÜüÜüééíéáéáříříççááññïïššäääééèèááéáéáéáéáéáéáèèèèííéèéèáééÇÇééééííüüüüííøøáááá¿¿ííóé̌Íá̌íáææööíÁíÁíííłççññá璇üşİüşİöğöğşşııããßßôèôèêééççáÁáÁééééééÇóóéíêööééííððññáñáñÓúÓúíłńłńååéééëëááéí¿¿ééÖÖáéáéöğÖüöğÖüçŞçŞııçııçııİİşİşíáíáéüüÉÉéééøññïíéé&quot;;\n</code></pre>\n<p>and I have saved my java file in utf-8 encoding.</p>\n<p>I want to remove duplicated character, then sort characters by their unicodes, and finally print out the result string and save the string into a text file (in UTF-8 or other unicode).</p>\n<p>I don't know if it is because of the terminal - I am working on Eclipse (Windows) and I see '?'(question mark) when printing some of the characters. What is the correct way to print the string?</p>\n<p>I am also not sure how to <em>SAFELY</em> remove duplicated characters and sort the characters. For example, if I use <code>String.charAt()</code> and <code>HashSet&lt;Character&gt;</code>, is it safe to do so in my case? Will I get half a character for some multi-byte character? What is a safe way to compare these characters?</p>\n<p>Knowing that the project may deal with a very large variety of different languages, what is a safe way to save the string into text file?</p>\n<hr />\n<p><strong>Update:</strong> To reproduce the question mark problem:</p>\n<pre><code>String str = &quot;¿æŁéİüłïąņąø&quot;;\nSystem.out.println(str);\n</code></pre>\n<p>It prints out this on my Eclipse console:</p>\n<pre><code>¿æ?é?ü?ï???ø\n</code></pre>\n<p><em>Note: I am already using GNU FreeMono for the console font, which has very good foreign character cover.</em></p>\n"},{"tags":["java","jmx","activemq-artemis"],"answers":[{"comments":[{"owner":{"account_id":28568876,"reputation":127,"user_id":21871375,"display_name":"Vanish"},"score":0,"creation_date":1693209362,"post_id":76989579,"comment_id":135724889,"body_markdown":"The JMX settings are configured in broker.xml and management.xml. If you need to use system properties, can I change them at runtime? Let&#39;s say it will be a graphical application that will dynamically change the parameters on the button. Will they be able to change at runtime? And how can I finally connect to the broker via ssl?","body":"The JMX settings are configured in broker.xml and management.xml. If you need to use system properties, can I change them at runtime? Let&#39;s say it will be a graphical application that will dynamically change the parameters on the button. Will they be able to change at runtime? And how can I finally connect to the broker via ssl?"},{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1693259042,"post_id":76989579,"comment_id":135734412,"body_markdown":"What JMX connectivity settings are in `broker.xml`?","body":"What JMX connectivity settings are in <code>broker.xml</code>?"},{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1693259106,"post_id":76989579,"comment_id":135734418,"body_markdown":"You can change system properties at runtime. Simply use [`System.setProperty()`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/System.html#setProperty(java.lang.String,java.lang.String)).","body":"You can change system properties at runtime. Simply use <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/System.html#setProperty(java.lang.String,java.lang.String)\" rel=\"nofollow noreferrer\"><code>System.setProperty()</code></a>."},{"owner":{"account_id":28568876,"reputation":127,"user_id":21871375,"display_name":"Vanish"},"score":0,"creation_date":1693296845,"post_id":76989579,"comment_id":135738485,"body_markdown":"jmx settings in broker.xml: &lt;jmx-management-enabled&gt;true&lt;/jmx-management-enabled&gt;\nIn Map env should I put these values? env.put(&quot;jmx.remote.x.password.file&quot;, System.getProperty(&quot;password.file&quot;,&quot;&lt;default_path&gt;&quot;));","body":"jmx settings in broker.xml: &lt;jmx-management-enabled&gt;true&lt;/jmx-management-enabled&gt; In Map env should I put these values? env.put(&quot;jmx.remote.x.password.file&quot;, System.getProperty(&quot;password.file&quot;,&quot;&lt;default_path&gt;&quot;));"},{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1693341044,"post_id":76989579,"comment_id":135747451,"body_markdown":"The `jmx-management-enabled` is just a general switch to enable JMX management on the broker. It doesn&#39;t control anything related to _connectivity_. The `jmx.remote.x.password.file` property is for configuration of the MBean _server_, not the client.","body":"The <code>jmx-management-enabled</code> is just a general switch to enable JMX management on the broker. It doesn&#39;t control anything related to <i>connectivity</i>. The <code>jmx.remote.x.password.file</code> property is for configuration of the MBean <i>server</i>, not the client."},{"owner":{"account_id":28568876,"reputation":127,"user_id":21871375,"display_name":"Vanish"},"score":0,"creation_date":1694158077,"post_id":76989579,"comment_id":135857175,"body_markdown":"Everything worked out, thank you very much","body":"Everything worked out, thank you very much"}],"tags":[],"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"comment_count":6,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1693186037,"creation_date":1693186037,"answer_id":76989579,"question_id":76989241,"body_markdown":"The first problem with your broker configuration is that JMX connectivity is **not** configured in `broker.xml`. It is configured in `management.xml` as described in [the documentation][1]. Keep in mind that JMX and JMS connections are completely different. JMS is for *messaging* and JMX is for *management*.\r\n\r\nSSL parameters can be configured on the JMX client application using these system properties:\r\n\r\n - `javax.net.ssl.keyStore`\r\n - `javax.net.ssl.keyStoreType`\r\n - `javax.net.ssl.keyStorePassword`\r\n - `javax.net.ssl.trustStore`\r\n - `javax.net.ssl.trustStoreType`\r\n - `javax.net.ssl.trustStorePassword`\r\n\r\nMore details are available in the [Java documentation][2].\r\n\r\n\r\n  [1]: https://activemq.apache.org/components/artemis/documentation/latest/management.html#remote-jmx-access\r\n  [2]: https://docs.oracle.com/en/java/javase/11/management/monitoring-and-management-using-jmx-technology.html#GUID-FA9A0A97-6016-4283-9E9C-983C4D6F96D4","title":"How to connect to ActiveMQ Artemis via JMX via ssl?","body":"<p>The first problem with your broker configuration is that JMX connectivity is <strong>not</strong> configured in <code>broker.xml</code>. It is configured in <code>management.xml</code> as described in <a href=\"https://activemq.apache.org/components/artemis/documentation/latest/management.html#remote-jmx-access\" rel=\"nofollow noreferrer\">the documentation</a>. Keep in mind that JMX and JMS connections are completely different. JMS is for <em>messaging</em> and JMX is for <em>management</em>.</p>\n<p>SSL parameters can be configured on the JMX client application using these system properties:</p>\n<ul>\n<li><code>javax.net.ssl.keyStore</code></li>\n<li><code>javax.net.ssl.keyStoreType</code></li>\n<li><code>javax.net.ssl.keyStorePassword</code></li>\n<li><code>javax.net.ssl.trustStore</code></li>\n<li><code>javax.net.ssl.trustStoreType</code></li>\n<li><code>javax.net.ssl.trustStorePassword</code></li>\n</ul>\n<p>More details are available in the <a href=\"https://docs.oracle.com/en/java/javase/11/management/monitoring-and-management-using-jmx-technology.html#GUID-FA9A0A97-6016-4283-9E9C-983C4D6F96D4\" rel=\"nofollow noreferrer\">Java documentation</a>.</p>\n"}],"owner":{"account_id":28568876,"reputation":127,"user_id":21871375,"display_name":"Vanish"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76989579,"answer_count":1,"score":0,"last_activity_date":1693186037,"creation_date":1693177190,"question_id":76989241,"body_markdown":"I have code where I connect to a broker using the JMX protocol but without SSL. I made the broker settings so that it works via SSL, but how can I attach a certificate in an application that uses JMX?\r\n\r\nConfiguration from `broker.xml`:\r\n```xml\r\n&lt;acceptor name=&quot;main-connector&quot;&gt;tcp://localhost:61617?tcpSendBufferSize=1048576;amqpMinLargeMessageSize=102400;tcpReceiveBufferSize=1048576;sslEnabled=true;keyStorePath=keystore_server.jks;trustStorePath=truststore_server.jks;keyStorePassword=qwerty;trustStorePassword=qwerty;needClientAuth=true;protocols=CORE,AMQP,STOMP,HORNETQ,MQTT,OPENWIRE;useEpoll=true;enabledCipherSuites=TLS_AES_256_GCM_SHA384,TLS_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_RSA_WITH_AES_256_CBC_SHA;enabledProtocols=TLSv1.3,TLSv1.2&lt;/acceptor&gt;\r\n```\r\n\r\nThe structure of my broker folder:\r\n\r\n[![enter image description here](https://i.stack.imgur.com/TtHeW.png)](https://i.stack.imgur.com/TtHeW.png)\r\n\r\n\r\nMy code for connecting via JMX:\r\n\r\n```java\r\npublic static MBeanServerConnection connectBroker(String brokerUrl, String login, String password) {\r\n    MBeanServerConnection mBeanServerConnection = null;\r\n    try {\r\n        Map&lt;String, String[]&gt; env = new HashMap();\r\n        String[] creds = {login, password};\r\n        env.put(JMXConnector.CREDENTIALS, creds);\r\n        JMXConnector connector = JMXConnectorFactory.connect(new JMXServiceURL(&quot;service:jmx:rmi:///jndi/rmi://&quot; + brokerUrl + &quot;/jmxrmi&quot;), env);\r\n        mBeanServerConnection = connector.getMBeanServerConnection();\r\n        DialogsAlert.brokerJmxRmiConnectionSuccess.showAndWait();\r\n        LOGGER.log(Level.INFO,&quot;success&quot; + brokerUrl);\r\n    } catch (Exception e) {\r\n        LOGGER.log(Level.WARNING,&quot;fail&quot;, e);\r\n    }\r\n    return mBeanServerConnection;\r\n}\r\n```\r\nI don&#39;t really understand how to enclose my keystore.","title":"How to connect to ActiveMQ Artemis via JMX via ssl?","body":"<p>I have code where I connect to a broker using the JMX protocol but without SSL. I made the broker settings so that it works via SSL, but how can I attach a certificate in an application that uses JMX?</p>\n<p>Configuration from <code>broker.xml</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;acceptor name=&quot;main-connector&quot;&gt;tcp://localhost:61617?tcpSendBufferSize=1048576;amqpMinLargeMessageSize=102400;tcpReceiveBufferSize=1048576;sslEnabled=true;keyStorePath=keystore_server.jks;trustStorePath=truststore_server.jks;keyStorePassword=qwerty;trustStorePassword=qwerty;needClientAuth=true;protocols=CORE,AMQP,STOMP,HORNETQ,MQTT,OPENWIRE;useEpoll=true;enabledCipherSuites=TLS_AES_256_GCM_SHA384,TLS_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_RSA_WITH_AES_256_CBC_SHA;enabledProtocols=TLSv1.3,TLSv1.2&lt;/acceptor&gt;\n</code></pre>\n<p>The structure of my broker folder:</p>\n<p><a href=\"https://i.stack.imgur.com/TtHeW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TtHeW.png\" alt=\"enter image description here\" /></a></p>\n<p>My code for connecting via JMX:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static MBeanServerConnection connectBroker(String brokerUrl, String login, String password) {\n    MBeanServerConnection mBeanServerConnection = null;\n    try {\n        Map&lt;String, String[]&gt; env = new HashMap();\n        String[] creds = {login, password};\n        env.put(JMXConnector.CREDENTIALS, creds);\n        JMXConnector connector = JMXConnectorFactory.connect(new JMXServiceURL(&quot;service:jmx:rmi:///jndi/rmi://&quot; + brokerUrl + &quot;/jmxrmi&quot;), env);\n        mBeanServerConnection = connector.getMBeanServerConnection();\n        DialogsAlert.brokerJmxRmiConnectionSuccess.showAndWait();\n        LOGGER.log(Level.INFO,&quot;success&quot; + brokerUrl);\n    } catch (Exception e) {\n        LOGGER.log(Level.WARNING,&quot;fail&quot;, e);\n    }\n    return mBeanServerConnection;\n}\n</code></pre>\n<p>I don't really understand how to enclose my keystore.</p>\n"},{"tags":["java","logging","slf4j"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1693211557,"post_id":76989510,"comment_id":135725304,"body_markdown":"It&#39;s a strange use case. Usually when the condition makes a higher log level necessary, you would also want to change the message. It&#39;s a different thing that happens, after all.","body":"It&#39;s a strange use case. Usually when the condition makes a higher log level necessary, you would also want to change the message. It&#39;s a different thing that happens, after all."}],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1693184730,"creation_date":1693184730,"answer_id":76989535,"question_id":76989510,"body_markdown":"I think you want to use [`Logger.atLevel(Level)`](https://www.slf4j.org/api/org/slf4j/Logger.html#atLevel-org.slf4j.event.Level-) to get a [`LoggingEventBuilder`](https://www.slf4j.org/api/org/slf4j/spi/LoggingEventBuilder.html). You can then call [`log(String)`](https://www.slf4j.org/api/org/slf4j/spi/LoggingEventBuilder.html#log-java.lang.String-) on that. Like,\r\n\r\n    logger.atLevel(levelProvider.getLoggingLevel()).log(message);","title":"How do you dynamically pick a logging level for your messages when using SLF4J?","body":"<p>I think you want to use <a href=\"https://www.slf4j.org/api/org/slf4j/Logger.html#atLevel-org.slf4j.event.Level-\" rel=\"nofollow noreferrer\"><code>Logger.atLevel(Level)</code></a> to get a <a href=\"https://www.slf4j.org/api/org/slf4j/spi/LoggingEventBuilder.html\" rel=\"nofollow noreferrer\"><code>LoggingEventBuilder</code></a>. You can then call <a href=\"https://www.slf4j.org/api/org/slf4j/spi/LoggingEventBuilder.html#log-java.lang.String-\" rel=\"nofollow noreferrer\"><code>log(String)</code></a> on that. Like,</p>\n<pre><code>logger.atLevel(levelProvider.getLoggingLevel()).log(message);\n</code></pre>\n"}],"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76989535,"answer_count":1,"score":2,"last_activity_date":1693184730,"creation_date":1693184108,"question_id":76989510,"body_markdown":"How do you dynamically pick a log message level when using SLF4J? Is it possible? I would like to avoid writing code like\r\n```java\r\nString message = &quot;message&quot;;\r\nif (someCondition) {\r\n    log.info(message);\r\n} else if (someOtherCondition) {\r\n    log.warn(message);\r\n} // and potentially even more ifs\r\n```\r\nThis would be better (the code is made-up, such methods don&#39;t actually exist)\r\n```java\r\nString message = &quot;message&quot;;\r\nlog.log(message, levelProvider::getLoggingLevel);\r\n```\r\n\r\nPlease note this question is not about [setting a logging level of the entire logger][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/13442967/how-to-dynamically-change-log-level-in-slf4j-or-log4j","title":"How do you dynamically pick a logging level for your messages when using SLF4J?","body":"<p>How do you dynamically pick a log message level when using SLF4J? Is it possible? I would like to avoid writing code like</p>\n<pre class=\"lang-java prettyprint-override\"><code>String message = &quot;message&quot;;\nif (someCondition) {\n    log.info(message);\n} else if (someOtherCondition) {\n    log.warn(message);\n} // and potentially even more ifs\n</code></pre>\n<p>This would be better (the code is made-up, such methods don't actually exist)</p>\n<pre class=\"lang-java prettyprint-override\"><code>String message = &quot;message&quot;;\nlog.log(message, levelProvider::getLoggingLevel);\n</code></pre>\n<p>Please note this question is not about <a href=\"https://stackoverflow.com/questions/13442967/how-to-dynamically-change-log-level-in-slf4j-or-log4j\">setting a logging level of the entire logger</a></p>\n"},{"tags":["java","spring","spring-mvc","controller","spring-security"],"comments":[{"owner":{"account_id":104911,"reputation":119222,"user_id":280244,"accept_rate":81,"display_name":"Ralph"},"score":0,"creation_date":1328696643,"post_id":9182903,"comment_id":11566152,"body_markdown":"Could you please post the complete stack trace?","body":"Could you please post the complete stack trace?"}],"answers":[{"tags":[],"owner":{"account_id":395150,"reputation":427,"user_id":757962,"accept_rate":62,"display_name":"Bruno"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1693184507,"creation_date":1357258785,"answer_id":14149401,"question_id":9182903,"body_markdown":"The problem occurs because the Controller doesn&#39;t have an interface, so Spring creates a proxy but can&#39;t cast to Controller class.\r\n\r\nPossible solutions are:\r\n\r\n 1. Interceptor: using MethodSecurityInterceptor and AccessDecisionManager\r\n 2. Using `&lt;global-method-security proxy-target-class=&quot;true&quot;/&gt;` that activate CGLib proxy (proxy class is a subclass), so Spring can cast it.\r\n 3. Create an interface to Controller.\r\n 4. Using AspectJ.\r\n\r\nI tested all solutions but the AspectJ. I&#39;m using the CGLib solution for one project and for another I&#39;m using Interceptor, both solutions works fine.","title":"Using @RolesAllowed on Controller and getting &quot;object is not an instance of declaring class&quot;","body":"<p>The problem occurs because the Controller doesn't have an interface, so Spring creates a proxy but can't cast to Controller class.</p>\n<p>Possible solutions are:</p>\n<ol>\n<li>Interceptor: using MethodSecurityInterceptor and AccessDecisionManager</li>\n<li>Using <code>&lt;global-method-security proxy-target-class=&quot;true&quot;/&gt;</code> that activate CGLib proxy (proxy class is a subclass), so Spring can cast it.</li>\n<li>Create an interface to Controller.</li>\n<li>Using AspectJ.</li>\n</ol>\n<p>I tested all solutions but the AspectJ. I'm using the CGLib solution for one project and for another I'm using Interceptor, both solutions works fine.</p>\n"}],"owner":{"account_id":395150,"reputation":427,"user_id":757962,"accept_rate":62,"display_name":"Bruno"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2422,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":14149401,"answer_count":1,"score":3,"last_activity_date":1693184507,"creation_date":1328644465,"question_id":9182903,"body_markdown":"I&#39;m trying to use Method Security, so i put on dispatcher-servlet.xml (security.xml is on another context):\r\n\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;security:global-method-security secured-annotations=&quot;enabled&quot; jsr250-annotations=&quot;enabled&quot; /&gt;\r\n\r\n\r\nAnd put @RolesAllowed on Controller:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    @SessionAttributes({&quot;sessionCompanyDetails&quot;})\r\n    @Controller\r\n    @RequestMapping(&quot;/company&quot;)\r\n    @RolesAllowed(&quot;ROLE_ADMIN&quot;)\r\n    public class CompanyController extends BaseController {\r\n      ...\r\n\r\n\r\nI realized that when I use these annotations the Spring make a Proxy to Controller and because of that I get the error:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    java.lang.IllegalArgumentException:object is not an instance of declaring class","title":"Using @RolesAllowed on Controller and getting &quot;object is not an instance of declaring class&quot;","body":"<p>I'm trying to use Method Security, so i put on dispatcher-servlet.xml (security.xml is on another context):</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;security:global-method-security secured-annotations=\"enabled\" jsr250-annotations=\"enabled\" /&gt;\n</code></pre>\n\n<p>And put @RolesAllowed on Controller:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@SessionAttributes({\"sessionCompanyDetails\"})\n@Controller\n@RequestMapping(\"/company\")\n@RolesAllowed(\"ROLE_ADMIN\")\npublic class CompanyController extends BaseController {\n  ...\n</code></pre>\n\n<p>I realized that when I use these annotations the Spring make a Proxy to Controller and because of that I get the error:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>java.lang.IllegalArgumentException:object is not an instance of declaring class\n</code></pre>\n"},{"tags":["java","selenium","xpath"],"answers":[{"comments":[{"owner":{"account_id":1564531,"reputation":614,"user_id":1453606,"display_name":"Alan M"},"score":0,"creation_date":1444388071,"post_id":33036266,"comment_id":53893870,"body_markdown":"In case you want a more generic approach  so that you can do the wait with xpath or id or name or tagName or cssSelector; please let me know  Alan Mehio, London","body":"In case you want a more generic approach  so that you can do the wait with xpath or id or name or tagName or cssSelector; please let me know  Alan Mehio, London"}],"tags":[],"owner":{"account_id":1564531,"reputation":614,"user_id":1453606,"display_name":"Alan M"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1444387582,"creation_date":1444387582,"answer_id":33036266,"question_id":33029579,"body_markdown":"Basically your want to reverse the By to get its string and you are using xpath\r\n\r\nso change to this  which return the String instead of WebElement \r\n\r\n      public static class addProjInfo_container {\r\n\t\tpublic static String projName_txt(WebDriver driver) {\r\n\t\t\tBy by = By.xpath(&quot;//label[text()=&#39;Project Name&#39;]/following-sibling::input&quot;);\r\n\t\t\tdriver.findElement(by);\r\n\t\t\treturn getSelectorAsString(by);\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\tpublic static String getSelectorAsString(By by) {\r\n\t\t\tString str = by.toString();\r\n\t\t\treturn str.substring(str.indexOf(&quot; &quot;) , str.length());\r\n\t\t  }\r\n\t\t// and so on for every text field for adding project...\r\n\t}\r\n\r\nhope this could help  \r\n","title":"How to convert webelement to string in selenium using java? Please refers to detail section for more info","body":"<p>Basically your want to reverse the By to get its string and you are using xpath</p>\n\n<p>so change to this  which return the String instead of WebElement </p>\n\n<pre><code>  public static class addProjInfo_container {\n    public static String projName_txt(WebDriver driver) {\n        By by = By.xpath(\"//label[text()='Project Name']/following-sibling::input\");\n        driver.findElement(by);\n        return getSelectorAsString(by);\n\n    }\n\n    public static String getSelectorAsString(By by) {\n        String str = by.toString();\n        return str.substring(str.indexOf(\" \") , str.length());\n      }\n    // and so on for every text field for adding project...\n}\n</code></pre>\n\n<p>hope this could help  </p>\n"},{"tags":[],"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1444441232,"creation_date":1444441232,"answer_id":33049380,"question_id":33029579,"body_markdown":"This is really a convoluted way of trying to accomplish this task. Your `ProjName_txt()` method already has found the element because that&#39;s what it returns so you don&#39;t need to wait for it to appear by using `waitforElementXpath()`. I would recommend that you read some articles on OOP and classes before you write too much more code.","title":"How to convert webelement to string in selenium using java? Please refers to detail section for more info","body":"<p>This is really a convoluted way of trying to accomplish this task. Your <code>ProjName_txt()</code> method already has found the element because that's what it returns so you don't need to wait for it to appear by using <code>waitforElementXpath()</code>. I would recommend that you read some articles on OOP and classes before you write too much more code.</p>\n"},{"tags":[],"owner":{"account_id":11110332,"reputation":21,"user_id":8156329,"display_name":"user8156329"},"comment_count":0,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1497377407,"creation_date":1497377283,"answer_id":44528617,"question_id":33029579,"body_markdown":"The best way is:\r\n\r\n    String name = driver.findElementByClassName(&quot;classnamesample&quot;).getText() ;\r\n\r\nJust add `.getText()` in the last of xpath and receive this as `String`.","title":"How to convert webelement to string in selenium using java? Please refers to detail section for more info","body":"<p>The best way is:</p>\n\n<pre><code>String name = driver.findElementByClassName(\"classnamesample\").getText() ;\n</code></pre>\n\n<p>Just add <code>.getText()</code> in the last of xpath and receive this as <code>String</code>.</p>\n"},{"tags":[],"owner":{"account_id":8254069,"reputation":1,"user_id":6207749,"display_name":"anishjha"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679990454,"creation_date":1679990420,"answer_id":75863677,"question_id":33029579,"body_markdown":"The below given answer is useful.\r\n    \r\n    String expectedSearchText = drivers.findElement(By.xpath(&quot;//h1[contains(text(),&#39;latest&#39;)]&quot;)).getText();","title":"How to convert webelement to string in selenium using java? Please refers to detail section for more info","body":"<p>The below given answer is useful.</p>\n<pre><code>String expectedSearchText = drivers.findElement(By.xpath(&quot;//h1[contains(text(),'latest')]&quot;)).getText();\n</code></pre>\n"}],"owner":{"account_id":4648751,"reputation":1450,"user_id":3766164,"accept_rate":29,"display_name":"TodayILearned"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44710,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1693184440,"creation_date":1444362317,"question_id":33029579,"body_markdown":"I created a `POM` for &#39;Create project&#39; page\r\n\r\n    public static class addProjInfo_container\r\n    \t\t{\r\n    \t\t\tpublic static WebElement ProjName_txt(WebDriver driver)\r\n    \t\t\t{\r\n    \t\t\t\telement=driver.findElement(By.xpath(&quot;//label[text()=&#39;Project Name&#39;]/following-sibling::input&quot;));\r\n    \t\t\t\t\r\n    \t\t\t\treturn element;\r\n    \t\t\t}\r\n    // and so on for every text field for adding project...\r\n\r\n\r\nAnd I created a `TestUtility` class with method for `waitForElement` as show below\r\n\r\n    public final class TestUtility {\r\n    \r\n    \tprivate static WebDriver driver;\r\n    \r\n    \t\r\n    \tpublic static void waitforElementXpath(final WebDriver driver,final int waitTime,final String xp)\r\n    \t{\r\n    \t\tWebDriverWait wait =new WebDriverWait(driver, waitTime);\r\n    \t\twait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(xp)));\r\n    \t}\r\n    }\r\n\r\n\r\nNow, in Test script I want to avoid using `Thread.sleep()` to wait for webelement to be ready to start performing actions.\r\n\r\nso, I use\r\n\r\n    TestUtility.waitforElementXpath(driver,10,CreateProject_Page.addProjInfo_container.projName_txt(driver));\r\n\r\nBut,it displays error as\r\n\r\n    The method waitforElementXpath(WebDriver, int, String) in the type TestUtility is not applicable for the arguments (WebDriver, int, WebElement)\r\n\r\n\r\nKindly, let me know how to handle the issue.\r\n","title":"How to convert webelement to string in selenium using java? Please refers to detail section for more info","body":"<p>I created a <code>POM</code> for 'Create project' page</p>\n\n<pre><code>public static class addProjInfo_container\n        {\n            public static WebElement ProjName_txt(WebDriver driver)\n            {\n                element=driver.findElement(By.xpath(\"//label[text()='Project Name']/following-sibling::input\"));\n\n                return element;\n            }\n// and so on for every text field for adding project...\n</code></pre>\n\n<p>And I created a <code>TestUtility</code> class with method for <code>waitForElement</code> as show below</p>\n\n<pre><code>public final class TestUtility {\n\n    private static WebDriver driver;\n\n\n    public static void waitforElementXpath(final WebDriver driver,final int waitTime,final String xp)\n    {\n        WebDriverWait wait =new WebDriverWait(driver, waitTime);\n        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(xp)));\n    }\n}\n</code></pre>\n\n<p>Now, in Test script I want to avoid using <code>Thread.sleep()</code> to wait for webelement to be ready to start performing actions.</p>\n\n<p>so, I use</p>\n\n<pre><code>TestUtility.waitforElementXpath(driver,10,CreateProject_Page.addProjInfo_container.projName_txt(driver));\n</code></pre>\n\n<p>But,it displays error as</p>\n\n<pre><code>The method waitforElementXpath(WebDriver, int, String) in the type TestUtility is not applicable for the arguments (WebDriver, int, WebElement)\n</code></pre>\n\n<p>Kindly, let me know how to handle the issue.</p>\n"},{"tags":["java","amazon-web-services","amazon-ec2","google-cloud-sdk"],"owner":{"account_id":29295548,"reputation":1,"user_id":22444951,"display_name":"Anthony Brown"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693183642,"creation_date":1693183642,"question_id":76989492,"body_markdown":"I have a unique case where in the code I need to assume another IAM role that is different from the default role on an EC2 instance, load a google cloud external credentials file and then retrieve an access token from google cloud. I can do this currently via the AWS SDK and google cloud SDK but have noticed an annoying issue where it is still using the role associated with the EC2 instance to request the token from google cloud. \r\n\r\nI noticed this was due to the fact that in the google cloud SDK it explicitly checks the Environment variables for the region and AWS keys being available: \r\n```\r\nSystem.getEnv(env).\r\n```\r\nIf it doesn&#39;t it contacts a metadata server (which I don&#39;t want) using the default ec2 role. How can I set these AWS keys on the fly in the code as I can&#39;t do this before the java app runs? Is there a class I am missing or am I going to have to code the oauth2 logic from scratch?\r\n\r\nResources:\r\ngithub with relevant readme: https://github.com/googleapis/google-auth-library-java","title":"AWS oAuth2.0 to Google Cloud - Setting AWS Keys","body":"<p>I have a unique case where in the code I need to assume another IAM role that is different from the default role on an EC2 instance, load a google cloud external credentials file and then retrieve an access token from google cloud. I can do this currently via the AWS SDK and google cloud SDK but have noticed an annoying issue where it is still using the role associated with the EC2 instance to request the token from google cloud.</p>\n<p>I noticed this was due to the fact that in the google cloud SDK it explicitly checks the Environment variables for the region and AWS keys being available:</p>\n<pre><code>System.getEnv(env).\n</code></pre>\n<p>If it doesn't it contacts a metadata server (which I don't want) using the default ec2 role. How can I set these AWS keys on the fly in the code as I can't do this before the java app runs? Is there a class I am missing or am I going to have to code the oauth2 logic from scratch?</p>\n<p>Resources:\ngithub with relevant readme: <a href=\"https://github.com/googleapis/google-auth-library-java\" rel=\"nofollow noreferrer\">https://github.com/googleapis/google-auth-library-java</a></p>\n"},{"tags":["java","excel"],"comments":[{"owner":{"account_id":2502328,"reputation":810,"user_id":2177085,"accept_rate":37,"display_name":"kishorer747"},"score":1,"creation_date":1533025575,"post_id":37626709,"comment_id":90182392,"body_markdown":"cell.getCellType() is deprecated as of apache poi version 3.17","body":"cell.getCellType() is deprecated as of apache poi version 3.17"}],"answers":[{"comments":[{"owner":{"account_id":8571267,"reputation":21,"user_id":6422056,"display_name":"psaikia"},"score":0,"creation_date":1465030463,"post_id":37627155,"comment_id":62738540,"body_markdown":"can&#39;t we use simple logic in poi like\n1 .loop the 1st row to get column number with given column name . 2. loop the row with specified column where Y is present to find row number . 3. then get cell contents with row and column number","body":"can&#39;t we use simple logic in poi like 1 .loop the 1st row to get column number with given column name . 2. loop the row with specified column where Y is present to find row number . 3. then get cell contents with row and column number"},{"owner":{"account_id":3122390,"reputation":329,"user_id":2641913,"display_name":"Rofgar"},"score":0,"creation_date":1465033508,"post_id":37627155,"comment_id":62739408,"body_markdown":"Sure, you can. It is just an example.","body":"Sure, you can. It is just an example."},{"owner":{"account_id":8571267,"reputation":21,"user_id":6422056,"display_name":"psaikia"},"score":0,"creation_date":1465036219,"post_id":37627155,"comment_id":62740131,"body_markdown":"Can u help me to write a method in java , so that it returns String of the column value : So that simply I can Call the method . Sorry I am very new to java . The method can be  ::  methodName(excelpath,sheetname,columnName ) it returns String value with respect to column name.","body":"Can u help me to write a method in java , so that it returns String of the column value : So that simply I can Call the method . Sorry I am very new to java . The method can be  ::  methodName(excelpath,sheetname,columnName ) it returns String value with respect to column name."},{"owner":{"account_id":3122390,"reputation":329,"user_id":2641913,"display_name":"Rofgar"},"score":0,"creation_date":1465036383,"post_id":37627155,"comment_id":62740175,"body_markdown":"You mean list of strings? Column can have a lot of values","body":"You mean list of strings? Column can have a lot of values"},{"owner":{"account_id":8571267,"reputation":21,"user_id":6422056,"display_name":"psaikia"},"score":0,"creation_date":1465038840,"post_id":37627155,"comment_id":62740836,"body_markdown":"As per my requirements , there will be only one row marked &quot;Y&quot;  , so , one row + one column name  will only contain a single value , So only one string is enough for me .as return value .","body":"As per my requirements , there will be only one row marked &quot;Y&quot;  , so , one row + one column name  will only contain a single value , So only one string is enough for me .as return value ."},{"owner":{"account_id":8571267,"reputation":21,"user_id":6422056,"display_name":"psaikia"},"score":0,"creation_date":1465039833,"post_id":37627155,"comment_id":62741139,"body_markdown":"For &#39;Y&#39;  column number is fixed , \nFor column I know only name \nI need the value which has Y&#39;s row number and column name&#39;s column number","body":"For &#39;Y&#39;  column number is fixed ,  For column I know only name  I need the value which has Y&#39;s row number and column name&#39;s column number"},{"owner":{"account_id":3122390,"reputation":329,"user_id":2641913,"display_name":"Rofgar"},"score":0,"creation_date":1465113538,"post_id":37627155,"comment_id":62759513,"body_markdown":"Updated the answer, it will look for the first satisfying value, and if none is found it will return null.","body":"Updated the answer, it will look for the first satisfying value, and if none is found it will return null."},{"owner":{"account_id":8571267,"reputation":21,"user_id":6422056,"display_name":"psaikia"},"score":0,"creation_date":1465144998,"post_id":37627155,"comment_id":62768431,"body_markdown":"String executeValue = row.getCell(headers.get(filterColumnName)).getStringCellValue();\nI am getting error in this line :: Exception in thread &quot;main&quot; java.lang.NullPointerException\n\tat excel.Example.findFirstValue(Example.java:48)","body":"String executeValue = row.getCell(headers.get(filterColumnName)).getStringCellValu&zwnj;&#8203;e(); I am getting error in this line :: Exception in thread &quot;main&quot; java.lang.NullPointerException \tat excel.Example.findFirstValue(Example.java:48)"},{"owner":{"account_id":8571267,"reputation":21,"user_id":6422056,"display_name":"psaikia"},"score":0,"creation_date":1465148560,"post_id":37627155,"comment_id":62769622,"body_markdown":"big thanks for the code , I also tried but getting some error , I have updated my question , can u pls have a look and point out the errors in my code , its a very very beginner level code.","body":"big thanks for the code , I also tried but getting some error , I have updated my question , can u pls have a look and point out the errors in my code , its a very very beginner level code."}],"tags":[],"owner":{"account_id":3122390,"reputation":329,"user_id":2641913,"display_name":"Rofgar"},"comment_count":9,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1465113471,"creation_date":1465021924,"answer_id":37627155,"question_id":37626709,"body_markdown":"Apache POI does not support this kind of thing out of the bag.\r\nYou might need to read your EXCEL file to an abstract structure of your own writting.&lt;BR&gt;&lt;BR&gt;\r\nI would recommend something like a Document model, that contains your headers and contents.&lt;BR&gt;&lt;BR&gt;\r\nIf your purpose is solely gathering values by column name, with a bit of data redundancy you can store each value as a map entry of {column name : row value} in a list of all rows.&lt;BR&gt;&lt;BR&gt;\r\nWhen having such a structure you can easily search by column values.\r\n\r\n\r\nFor example:\r\n\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n\r\n    public class Document {\r\n    \r\n        private List&lt;String&gt; headers;\r\n    \r\n        private List&lt;DataRow&gt; contents;\r\n    \r\n        public Document(List&lt;String&gt; headers, List&lt;DataRow&gt; contents) {\r\n            this.headers = headers;\r\n            this.contents = contents;\r\n        }\r\n    \r\n        public List&lt;DataRow&gt; findAllWhere(String column, String value) {\r\n            List&lt;DataRow&gt; result = new ArrayList&lt;&gt;();\r\n            for (DataRow content : contents) {\r\n                if (content.get(column).equals(value)) {\r\n                    result.add(content);\r\n                }\r\n            }\r\n            return result;\r\n        }\r\n    \r\n        public List&lt;DataRow&gt; getContents() {\r\n            return contents;\r\n        }\r\n    \r\n        public void setContents(List&lt;DataRow&gt; contents) {\r\n            this.contents = contents;\r\n        }\r\n    \r\n        public List&lt;String&gt; getHeaders() {\r\n            return headers;\r\n        }\r\n    \r\n        public void setHeaders(List&lt;String&gt; headers) {\r\n            this.headers = headers;\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return &quot;Document{&quot; +\r\n                    &quot;headers=&quot; + headers +\r\n                    &quot;, contents=&quot; + contents +\r\n                    &#39;}&#39;;\r\n        }\r\n    \r\n    }\r\n\r\n\r\nFor rows we can have something like this:\r\n\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    \r\n    public class DataRow {\r\n    \r\n        private Map&lt;String, String&gt; values = new HashMap&lt;&gt;();\r\n        private Integer index;\r\n    \r\n        public String put(String columnName, String value) {\r\n            return values.put(columnName, value);\r\n        }\r\n    \r\n        public String get(String columnName) {\r\n            return values.get(columnName);\r\n        }\r\n    \r\n        public Integer getIndex() {\r\n            return index;\r\n        }\r\n    \r\n        public void setIndex(Integer index) {\r\n            this.index = index;\r\n        }\r\n    \r\n    \r\n        @Override\r\n        public String toString() {\r\n            return &quot;DataRow{&quot; +\r\n                    &quot;values=&quot; + values +\r\n                    &quot;, index=&quot; + index +\r\n                    &#39;}&#39;;\r\n        }\r\n    \r\n        @Override\r\n        public boolean equals(Object o) {\r\n            if (this == o) return true;\r\n            if (o == null || getClass() != o.getClass()) return false;\r\n    \r\n            DataRow dataRow = (DataRow) o;\r\n    \r\n            if (values != null ? !values.equals(dataRow.values) : dataRow.values != null) return false;\r\n            return !(index != null ? !index.equals(dataRow.index) : dataRow.index != null);\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public int hashCode() {\r\n            int result = values != null ? values.hashCode() : 0;\r\n            result = 31 * result + (index != null ? index.hashCode() : 0);\r\n            return result;\r\n        }\r\n    \r\n    }\r\n\r\nExample how to parse it:\r\n\r\n    import org.apache.poi.openxml4j.exceptions.InvalidFormatException;\r\n    import org.apache.poi.ss.usermodel.*;\r\n    \r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.util.ArrayList;\r\n    import java.util.Iterator;\r\n    import java.util.List;\r\n\r\n    public class Parser {\r\n    \r\n        private InputStream stream;\r\n    \r\n        public Parser(InputStream stream) {\r\n            this.stream = stream;\r\n        }\r\n    \r\n        public Document parse() {\r\n            try {\r\n                Workbook wb = WorkbookFactory.create(stream);\r\n    \r\n                //TODO better sheet searching\r\n                Sheet sheet = wb.getSheetAt(0);\r\n                Iterator&lt;Row&gt; rows = sheet.rowIterator();\r\n    \r\n                List&lt;String&gt; headers = new ArrayList&lt;&gt;();\r\n                if (rows.hasNext()) {\r\n                    Row row = rows.next();\r\n                    for (Cell cell : row) {\r\n                        headers.add(cell.getStringCellValue());\r\n                    }\r\n                }\r\n    \r\n                List&lt;DataRow&gt; contents = new ArrayList&lt;&gt;();\r\n                while (rows.hasNext()) {\r\n                    Row row = rows.next();\r\n                    DataRow dataRow = new DataRow();\r\n                    dataRow.setIndex(row.getRowNum());\r\n                    for (Cell cell : row) {\r\n                        //TODO safeguard for header resolving, cell column index might be out of bound of header array\r\n                        dataRow.put(\r\n                                headers.get(cell.getColumnIndex()),\r\n                                cell.getStringCellValue()\r\n                        );\r\n                    }\r\n                    contents.add(dataRow);\r\n                }\r\n    \r\n                return new Document(headers, contents);\r\n            } catch (IOException | InvalidFormatException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\nExample how to use: \r\n\r\n     Parser parser = new Parser(getClass().getResourceAsStream(&quot;resource.xlsx&quot;));\r\n     List&lt;DataRow&gt; data = parser.parse().findAllWhere(&quot;FLAG&quot;, &quot;Y&quot;);\r\n\r\nFull mock up is available [here][1]\r\n\r\n\r\n  [1]: https://github.com/Vladislav-Zolotaryov/Apache-POI-search-by-column-Example\r\n\r\n\r\nIs this what you are looking for?\r\nI must warn you, this is not a good idea to read the whole excel each time you need to search on it.\r\n\r\n    public static String findFirstExecute(String excelPath, String sheetName, String columnName) {\r\n        return findFirstValue(excelPath, sheetName, columnName, &quot;Execute&quot;, &quot;Y&quot;);\r\n    }\r\n    \r\n    public static String findFirstValue(String excelPath, String sheetName, String columnName, String filterColumnName, String filterColumnValue) {\r\n        try {\r\n            Workbook wb = WorkbookFactory.create(new FileInputStream(new File(excelPath)));\r\n    \r\n            Sheet sheet = wb.getSheet(sheetName);\r\n            Iterator&lt;Row&gt; rows = sheet.rowIterator();\r\n    \r\n            Map&lt;String, Integer&gt; headers = new HashMap&lt;&gt;();\r\n            if (rows.hasNext()) {\r\n                Row row = rows.next();\r\n                for (Cell cell : row) {\r\n                    headers.put(cell.getStringCellValue(), cell.getColumnIndex());\r\n                }\r\n            }\r\n    \r\n            while (rows.hasNext()) {\r\n                Row row = rows.next();\r\n                String executeValue = row.getCell(headers.get(filterColumnName)).getStringCellValue();\r\n                if (executeValue.equals(filterColumnValue)) {\r\n                    return row.getCell(headers.get(columnName)).getStringCellValue();\r\n                }\r\n            }\r\n            return null;\r\n        } catch (IOException | InvalidFormatException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }","title":"how to read a value from Column Name in Excel in Java","body":"<p>Apache POI does not support this kind of thing out of the bag.\nYou might need to read your EXCEL file to an abstract structure of your own writting.<BR><BR>\nI would recommend something like a Document model, that contains your headers and contents.<BR><BR>\nIf your purpose is solely gathering values by column name, with a bit of data redundancy you can store each value as a map entry of {column name : row value} in a list of all rows.<BR><BR>\nWhen having such a structure you can easily search by column values.</p>\n\n<p>For example:</p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\n\npublic class Document {\n\n    private List&lt;String&gt; headers;\n\n    private List&lt;DataRow&gt; contents;\n\n    public Document(List&lt;String&gt; headers, List&lt;DataRow&gt; contents) {\n        this.headers = headers;\n        this.contents = contents;\n    }\n\n    public List&lt;DataRow&gt; findAllWhere(String column, String value) {\n        List&lt;DataRow&gt; result = new ArrayList&lt;&gt;();\n        for (DataRow content : contents) {\n            if (content.get(column).equals(value)) {\n                result.add(content);\n            }\n        }\n        return result;\n    }\n\n    public List&lt;DataRow&gt; getContents() {\n        return contents;\n    }\n\n    public void setContents(List&lt;DataRow&gt; contents) {\n        this.contents = contents;\n    }\n\n    public List&lt;String&gt; getHeaders() {\n        return headers;\n    }\n\n    public void setHeaders(List&lt;String&gt; headers) {\n        this.headers = headers;\n    }\n\n    @Override\n    public String toString() {\n        return \"Document{\" +\n                \"headers=\" + headers +\n                \", contents=\" + contents +\n                '}';\n    }\n\n}\n</code></pre>\n\n<p>For rows we can have something like this:</p>\n\n<pre><code>import java.util.HashMap;\nimport java.util.Map;\n\npublic class DataRow {\n\n    private Map&lt;String, String&gt; values = new HashMap&lt;&gt;();\n    private Integer index;\n\n    public String put(String columnName, String value) {\n        return values.put(columnName, value);\n    }\n\n    public String get(String columnName) {\n        return values.get(columnName);\n    }\n\n    public Integer getIndex() {\n        return index;\n    }\n\n    public void setIndex(Integer index) {\n        this.index = index;\n    }\n\n\n    @Override\n    public String toString() {\n        return \"DataRow{\" +\n                \"values=\" + values +\n                \", index=\" + index +\n                '}';\n    }\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n\n        DataRow dataRow = (DataRow) o;\n\n        if (values != null ? !values.equals(dataRow.values) : dataRow.values != null) return false;\n        return !(index != null ? !index.equals(dataRow.index) : dataRow.index != null);\n\n    }\n\n    @Override\n    public int hashCode() {\n        int result = values != null ? values.hashCode() : 0;\n        result = 31 * result + (index != null ? index.hashCode() : 0);\n        return result;\n    }\n\n}\n</code></pre>\n\n<p>Example how to parse it:</p>\n\n<pre><code>import org.apache.poi.openxml4j.exceptions.InvalidFormatException;\nimport org.apache.poi.ss.usermodel.*;\n\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.util.ArrayList;\nimport java.util.Iterator;\nimport java.util.List;\n\npublic class Parser {\n\n    private InputStream stream;\n\n    public Parser(InputStream stream) {\n        this.stream = stream;\n    }\n\n    public Document parse() {\n        try {\n            Workbook wb = WorkbookFactory.create(stream);\n\n            //TODO better sheet searching\n            Sheet sheet = wb.getSheetAt(0);\n            Iterator&lt;Row&gt; rows = sheet.rowIterator();\n\n            List&lt;String&gt; headers = new ArrayList&lt;&gt;();\n            if (rows.hasNext()) {\n                Row row = rows.next();\n                for (Cell cell : row) {\n                    headers.add(cell.getStringCellValue());\n                }\n            }\n\n            List&lt;DataRow&gt; contents = new ArrayList&lt;&gt;();\n            while (rows.hasNext()) {\n                Row row = rows.next();\n                DataRow dataRow = new DataRow();\n                dataRow.setIndex(row.getRowNum());\n                for (Cell cell : row) {\n                    //TODO safeguard for header resolving, cell column index might be out of bound of header array\n                    dataRow.put(\n                            headers.get(cell.getColumnIndex()),\n                            cell.getStringCellValue()\n                    );\n                }\n                contents.add(dataRow);\n            }\n\n            return new Document(headers, contents);\n        } catch (IOException | InvalidFormatException e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n}\n</code></pre>\n\n<p>Example how to use: </p>\n\n<pre><code> Parser parser = new Parser(getClass().getResourceAsStream(\"resource.xlsx\"));\n List&lt;DataRow&gt; data = parser.parse().findAllWhere(\"FLAG\", \"Y\");\n</code></pre>\n\n<p>Full mock up is available <a href=\"https://github.com/Vladislav-Zolotaryov/Apache-POI-search-by-column-Example\" rel=\"nofollow\">here</a></p>\n\n<p>Is this what you are looking for?\nI must warn you, this is not a good idea to read the whole excel each time you need to search on it.</p>\n\n<pre><code>public static String findFirstExecute(String excelPath, String sheetName, String columnName) {\n    return findFirstValue(excelPath, sheetName, columnName, \"Execute\", \"Y\");\n}\n\npublic static String findFirstValue(String excelPath, String sheetName, String columnName, String filterColumnName, String filterColumnValue) {\n    try {\n        Workbook wb = WorkbookFactory.create(new FileInputStream(new File(excelPath)));\n\n        Sheet sheet = wb.getSheet(sheetName);\n        Iterator&lt;Row&gt; rows = sheet.rowIterator();\n\n        Map&lt;String, Integer&gt; headers = new HashMap&lt;&gt;();\n        if (rows.hasNext()) {\n            Row row = rows.next();\n            for (Cell cell : row) {\n                headers.put(cell.getStringCellValue(), cell.getColumnIndex());\n            }\n        }\n\n        while (rows.hasNext()) {\n            Row row = rows.next();\n            String executeValue = row.getCell(headers.get(filterColumnName)).getStringCellValue();\n            if (executeValue.equals(filterColumnValue)) {\n                return row.getCell(headers.get(columnName)).getStringCellValue();\n            }\n        }\n        return null;\n    } catch (IOException | InvalidFormatException e) {\n        throw new RuntimeException(e);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":8571267,"reputation":21,"user_id":6422056,"display_name":"psaikia"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32694,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1693180925,"creation_date":1465018057,"question_id":37626709,"body_markdown":"How can I read a value related to Specific Column Names with Apache POI in Excel (xlsx).\r\n\r\nColumn Names is my 1st Row of Excel Sheet .\r\nvalue is the row Which have Y as cell value .\r\n\r\nMy Input is only Column Name , \r\nI need value for the Column name and Row which has value &quot;Y&quot; \r\n\r\n[Below is the Excel Sheet][1]\r\n\r\n here I if enter Column names as &quot;Names&quot;  , it should return value &quot;Jose&quot;\r\n And &quot;Age&quot;  it should return 23\r\n\r\n  [1]: https://i.stack.imgur.com/PDb6m.png\r\n\r\n\r\n\r\nI have tried and found two codes with different loop system , but getting some error\r\n\r\n    public static void main(String[] args) throws Exception {\r\n\t\t\t\t\r\n\t\tFile file =    new File(&quot;D:\\\\xcel.xlsx&quot;);\r\n\t\tFileInputStream inputStream = new FileInputStream(file);\r\n\t\t\r\n\t\t\r\n\t\t Workbook wb = new XSSFWorkbook(inputStream);\r\n\t\t Sheet sh = wb.getSheet(&quot;Sheet1&quot;);\r\n\t\t\r\n\t\t//  Find the Column number Which has column name and row number 0\r\n\t\t \r\n\t\t Row row1 = sh.getRow(0); \t\t\r\n\t\t int colNum = -1;\r\n\t\t for (int i = 0 ;i&lt;=row1.getLastCellNum();i++){\r\n\t\t\t Cell cell1 = row1.getCell(i,Row.CREATE_NULL_AS_BLANK);\r\n\t\t\t String cellValue1 = cell1.getStringCellValue();\r\n\t\t\t if (&quot;Employee&quot;.equals(cellValue1)){\r\n\t\t\t \t  colNum = i ;\r\n\t\t\t \t  break;}\r\n\t\t \t}\r\n\t\t \r\n\t\t \r\n\t\t \r\n\t\t//  Find the Row number Which is &quot;Y&quot; and column number 1\r\n\t\t \r\n\t\t int rowNum = -1;\t\t \r\n\t\t for (int j = 0 ;j&lt;=sh.getLastRowNum()+1;j++){\t\t\t \r\n\t\t\t Row row2 = sh.getRow(j); \r\n\t\t\t Cell cell2 = row2.getCell(1,Row.CREATE_NULL_AS_BLANK);\t\t  \r\n\t\t\t String cellValue2 = cell2.getStringCellValue();\r\n\t\t\t \tif (&quot;Y&quot;.equals(cellValue2))\r\n\t\t\t \t{ rowNum = j ;\r\n\t\t\t \tbreak;}\t\t\t\t\t\t\r\n\t\t \t}\r\n\t\t\r\n\t\t\r\n\t \r\n\t\tRow r = sh.getRow(rowNum);\r\n\t\t String val = r.getCell(colNum).getStringCellValue();\r\n\t\t\r\n\t\t System.out.println(&quot;Row number is &quot;+rowNum);\r\n\t\t System.out.println(&quot;Last row number :&quot;+sh.getLastRowNum());\r\n\t\t System.out.println(&quot;Column number is &quot;+colNum);\r\n\t\t System.out.println(&quot;Last Column number :&quot;+sh.getRow(0).getLastCellNum());\r\n\t\t System.out.println(&quot;Value is &quot;+val); \r\n\t\t\r\n\t}\r\n\r\nWhen I run the above code , I get the column number even if there is a blank cell is present before it ,\r\n\r\nbut for row , if there is a blank cell present before it  , i get error Exception in thread &quot;main&quot; java.lang.NullPointerException\r\nBut it works fine if there is no black cell.\r\n\r\n\r\n\r\nAgain in this below  code , I don&#39;t get any error \r\n\r\nBut if my column name is present in last cell ,then last cell number and my column number should be same , but I getting my column number is one less than the last cell number .\r\n\r\nBut for row number , its fine , I am getting same number .\r\n\r\nThis problem is applies to the first code also\r\n\r\n    public static void main(String[] args) throws Exception {\r\n\t\t\t\t\r\n\t\tFile file =    new File(&quot;D:\\\\xcel.xlsx&quot;);\r\n\t\tFileInputStream inputStream = new FileInputStream(file);\r\n\t\t\r\n\t\t\r\n\t\t Workbook wb = new XSSFWorkbook(inputStream);\r\n\t\t Sheet sh = wb.getSheet(&quot;Sheet1&quot;);\r\n\t\t\r\n\t\t//  Find the Column number Which has column name and row number 0\r\n\t\t \r\n\t\t Row row1 = sh.getRow(0); \t\t\r\n\t\t \r\n\t\t int colNum = -1;\r\n\t\t for (Cell cell : row1) {\r\n\t            if (cell.getCellType() == Cell.CELL_TYPE_STRING) {\r\n\t                if (cell.getRichStringCellValue().getString().trim().equals(&quot;Employee&quot;)) {\r\n\t                \tcolNum =  cell.getColumnIndex();  \t\t\t\t\t\t\t\t   }\r\n\t            \t\t\t\t\t\t\t\t\t\t\t\t }\r\n\t        \t\t\t\t\t\t}\r\n\t\t \r\n\t\t//  Find the Row number Which is &quot;Y&quot; and column number 1\r\n\t\t \r\n\t\t\r\n\t\t int rowNum = -1;\r\n\t\t for (Row row : sh) {\r\n\t\t        for (Cell cell : row) {\r\n\t\t            if (cell.getCellType() == Cell.CELL_TYPE_STRING) {\r\n\t\t                if (cell.getRichStringCellValue().getString().trim().equals(&quot;Y&quot;)) {\r\n\t\t                    rowNum =  row.getRowNum();  \t\t\t\t\t\t\t\t   }\r\n\t\t            \t\t\t\t\t\t\t\t\t\t\t\t }\r\n\t\t        \t\t\t\t\t\t}\r\n\t\t \t\t\t\t\t}               \r\n\t\t   \r\n\t\t\r\n\t // Get the required value\r\n\t\tRow r = sh.getRow(rowNum);\r\n\t\t String val = r.getCell(colNum).getStringCellValue();\r\n\t\t\r\n\t\t System.out.println(&quot;Row number is &quot;+rowNum);\r\n\t\t System.out.println(&quot;Last row number :&quot;+sh.getLastRowNum());\r\n\t\t System.out.println(&quot;Column number is &quot;+colNum);\r\n\t\t System.out.println(&quot;Last Column number :&quot;+sh.getRow(0).getLastCellNum());\r\n\t\t System.out.println(&quot;Value is &quot;+val); ","title":"how to read a value from Column Name in Excel in Java","body":"<p>How can I read a value related to Specific Column Names with Apache POI in Excel (xlsx).</p>\n\n<p>Column Names is my 1st Row of Excel Sheet .\nvalue is the row Which have Y as cell value .</p>\n\n<p>My Input is only Column Name , \nI need value for the Column name and Row which has value \"Y\" </p>\n\n<p><a href=\"https://i.stack.imgur.com/PDb6m.png\" rel=\"nofollow\">Below is the Excel Sheet</a></p>\n\n<p>here I if enter Column names as \"Names\"  , it should return value \"Jose\"\n And \"Age\"  it should return 23</p>\n\n<p>I have tried and found two codes with different loop system , but getting some error</p>\n\n<pre><code>public static void main(String[] args) throws Exception {\n\n    File file =    new File(\"D:\\\\xcel.xlsx\");\n    FileInputStream inputStream = new FileInputStream(file);\n\n\n     Workbook wb = new XSSFWorkbook(inputStream);\n     Sheet sh = wb.getSheet(\"Sheet1\");\n\n    //  Find the Column number Which has column name and row number 0\n\n     Row row1 = sh.getRow(0);       \n     int colNum = -1;\n     for (int i = 0 ;i&lt;=row1.getLastCellNum();i++){\n         Cell cell1 = row1.getCell(i,Row.CREATE_NULL_AS_BLANK);\n         String cellValue1 = cell1.getStringCellValue();\n         if (\"Employee\".equals(cellValue1)){\n              colNum = i ;\n              break;}\n        }\n\n\n\n    //  Find the Row number Which is \"Y\" and column number 1\n\n     int rowNum = -1;        \n     for (int j = 0 ;j&lt;=sh.getLastRowNum()+1;j++){           \n         Row row2 = sh.getRow(j); \n         Cell cell2 = row2.getCell(1,Row.CREATE_NULL_AS_BLANK);       \n         String cellValue2 = cell2.getStringCellValue();\n            if (\"Y\".equals(cellValue2))\n            { rowNum = j ;\n            break;}                     \n        }\n\n\n\n    Row r = sh.getRow(rowNum);\n     String val = r.getCell(colNum).getStringCellValue();\n\n     System.out.println(\"Row number is \"+rowNum);\n     System.out.println(\"Last row number :\"+sh.getLastRowNum());\n     System.out.println(\"Column number is \"+colNum);\n     System.out.println(\"Last Column number :\"+sh.getRow(0).getLastCellNum());\n     System.out.println(\"Value is \"+val); \n\n}\n</code></pre>\n\n<p>When I run the above code , I get the column number even if there is a blank cell is present before it ,</p>\n\n<p>but for row , if there is a blank cell present before it  , i get error Exception in thread \"main\" java.lang.NullPointerException\nBut it works fine if there is no black cell.</p>\n\n<p>Again in this below  code , I don't get any error </p>\n\n<p>But if my column name is present in last cell ,then last cell number and my column number should be same , but I getting my column number is one less than the last cell number .</p>\n\n<p>But for row number , its fine , I am getting same number .</p>\n\n<p>This problem is applies to the first code also</p>\n\n<pre><code>public static void main(String[] args) throws Exception {\n\n    File file =    new File(\"D:\\\\xcel.xlsx\");\n    FileInputStream inputStream = new FileInputStream(file);\n\n\n     Workbook wb = new XSSFWorkbook(inputStream);\n     Sheet sh = wb.getSheet(\"Sheet1\");\n\n    //  Find the Column number Which has column name and row number 0\n\n     Row row1 = sh.getRow(0);       \n\n     int colNum = -1;\n     for (Cell cell : row1) {\n            if (cell.getCellType() == Cell.CELL_TYPE_STRING) {\n                if (cell.getRichStringCellValue().getString().trim().equals(\"Employee\")) {\n                    colNum =  cell.getColumnIndex();                                   }\n                                                             }\n                                }\n\n    //  Find the Row number Which is \"Y\" and column number 1\n\n\n     int rowNum = -1;\n     for (Row row : sh) {\n            for (Cell cell : row) {\n                if (cell.getCellType() == Cell.CELL_TYPE_STRING) {\n                    if (cell.getRichStringCellValue().getString().trim().equals(\"Y\")) {\n                        rowNum =  row.getRowNum();                                     }\n                                                                 }\n                                    }\n                        }               \n\n\n // Get the required value\n    Row r = sh.getRow(rowNum);\n     String val = r.getCell(colNum).getStringCellValue();\n\n     System.out.println(\"Row number is \"+rowNum);\n     System.out.println(\"Last row number :\"+sh.getLastRowNum());\n     System.out.println(\"Column number is \"+colNum);\n     System.out.println(\"Last Column number :\"+sh.getRow(0).getLastCellNum());\n     System.out.println(\"Value is \"+val); \n</code></pre>\n"},{"tags":["java","eclipse","maven"],"comments":[{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1692921049,"post_id":76973426,"comment_id":135693798,"body_markdown":"eclipse.org went full https a while ago. Perhaps your client version isn&#39;t paying attention to the redirect headers in the response? There *is* a response. Which Maven version are you using?","body":"eclipse.org went full https a while ago. Perhaps your client version isn&#39;t paying attention to the redirect headers in the response? There <i>is</i> a response. Which Maven version are you using?"},{"owner":{"account_id":22649518,"reputation":13,"user_id":16824403,"display_name":"Ubuntu Learner"},"score":0,"creation_date":1692921618,"post_id":76973426,"comment_id":135693862,"body_markdown":"Hi @nitind, I use maven 3.8.8 with Java 1.8. Do I need to upgrade maven to the latest version?","body":"Hi @nitind, I use maven 3.8.8 with Java 1.8. Do I need to upgrade maven to the latest version?"},{"owner":{"account_id":22649518,"reputation":13,"user_id":16824403,"display_name":"Ubuntu Learner"},"score":0,"creation_date":1692922123,"post_id":76973426,"comment_id":135693907,"body_markdown":"@nitind I tried maven 3.9.4 but got the same errors. Anything else I could try?","body":"@nitind I tried maven 3.9.4 but got the same errors. Anything else I could try?"},{"owner":{"account_id":22649518,"reputation":13,"user_id":16824403,"display_name":"Ubuntu Learner"},"score":0,"creation_date":1692931781,"post_id":76973426,"comment_id":135694666,"body_markdown":"Also I found ===INFO: I/O exception (org.apache.http.NoHttpResponseException) caught when processing request to {s}-&gt;https://download.eclipse.org:443: The target server failed to respond=== message in mvn install output. So both 80 and 443 are not accessible.","body":"Also I found ===INFO: I/O exception (org.apache.http.NoHttpResponseException) caught when processing request to {s}-&gt;<a href=\"https://download.eclipse.org:443\" rel=\"nofollow noreferrer\">download.eclipse.org:443</a>: The target server failed to respond=== message in mvn install output. So both 80 and 443 are not accessible."},{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1692935799,"post_id":76973426,"comment_id":135694999,"body_markdown":"It sounds like you have some kind of network connectivity issue to solve, even if Chrome is working correctly. Are you using a proxy? Does Maven build anything else without an issue?","body":"It sounds like you have some kind of network connectivity issue to solve, even if Chrome is working correctly. Are you using a proxy? Does Maven build anything else without an issue?"},{"owner":{"account_id":22649518,"reputation":13,"user_id":16824403,"display_name":"Ubuntu Learner"},"score":0,"creation_date":1692936476,"post_id":76973426,"comment_id":135695048,"body_markdown":"No, I don&#39;t have a proxy. I tried two different networks and two differents PCs with no success. I can build other maven projects with no issues. Actually, my project depends on CDO 3.0.1 and I&#39;m migrating to CDO 4.10.0. The project with CDO 3.0.1 can be built with no issues and maven can download all jars from maven repository. But the problem is they don&#39;t publish new CDO versions in maven repos anymore so I want to try building 4.10.0 CDO on my machine.","body":"No, I don&#39;t have a proxy. I tried two different networks and two differents PCs with no success. I can build other maven projects with no issues. Actually, my project depends on CDO 3.0.1 and I&#39;m migrating to CDO 4.10.0. The project with CDO 3.0.1 can be built with no issues and maven can download all jars from maven repository. But the problem is they don&#39;t publish new CDO versions in maven repos anymore so I want to try building 4.10.0 CDO on my machine."}],"answers":[{"tags":[],"owner":{"account_id":22649518,"reputation":13,"user_id":16824403,"display_name":"Ubuntu Learner"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1693179517,"creation_date":1693179517,"answer_id":76989351,"question_id":76973426,"body_markdown":"Seems there is no way to build CDO 4.10.0 from scratch. Eclipse infrastructure was changed. See [Eike&#39;s comment][1] here.\r\n\r\n\r\n  [1]: https://github.com/eclipse-cdo/cdo/discussions/7","title":"I/O exception (org.apache.http.NoHttpResponseException) caught when processing request to {}-&gt;http://download.eclipse.org:80","body":"<p>Seems there is no way to build CDO 4.10.0 from scratch. Eclipse infrastructure was changed. See <a href=\"https://github.com/eclipse-cdo/cdo/discussions/7\" rel=\"nofollow noreferrer\">Eike's comment</a> here.</p>\n"}],"owner":{"account_id":22649518,"reputation":13,"user_id":16824403,"display_name":"Ubuntu Learner"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76989351,"answer_count":1,"score":0,"last_activity_date":1693179517,"creation_date":1692919985,"question_id":76973426,"body_markdown":"I&#39;m trying to build CDO 4.10.0 from source code and caught the below error\r\n\r\n```INFO: I/O exception (org.apache.http.NoHttpResponseException) caught when processing request to {}-&gt;http://download.eclipse.org:80: The target server failed to respond```\r\n\r\nIt looks like a bug according to https://bugs.eclipse.org/bugs/show_bug.cgi?id=552876 thread and seems it was fixed; however, I&#39;m still getting this error each time I run ```mvn install```.\r\n\r\nThe web page http://download.eclipse.org:80 itself is accessible from my Google Chrome, so it&#39;s not related to my Internet connection or something like that.\r\n\r\nDoes anybody know if it&#39;s possible to fix the error or is it a remote server related error and I can do nothing with it?","title":"I/O exception (org.apache.http.NoHttpResponseException) caught when processing request to {}-&gt;http://download.eclipse.org:80","body":"<p>I'm trying to build CDO 4.10.0 from source code and caught the below error</p>\n<p><code>INFO: I/O exception (org.apache.http.NoHttpResponseException) caught when processing request to {}-&gt;http://download.eclipse.org:80: The target server failed to respond</code></p>\n<p>It looks like a bug according to <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=552876\" rel=\"nofollow noreferrer\">https://bugs.eclipse.org/bugs/show_bug.cgi?id=552876</a> thread and seems it was fixed; however, I'm still getting this error each time I run <code>mvn install</code>.</p>\n<p>The web page <a href=\"http://download.eclipse.org:80\" rel=\"nofollow noreferrer\">http://download.eclipse.org:80</a> itself is accessible from my Google Chrome, so it's not related to my Internet connection or something like that.</p>\n<p>Does anybody know if it's possible to fix the error or is it a remote server related error and I can do nothing with it?</p>\n"},{"tags":["java","google-chrome","selenium-webdriver","firefox","webdriver"],"comments":[{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":0,"creation_date":1693154344,"post_id":76988007,"comment_id":135719613,"body_markdown":"Q: Can you show a code snippet that reproduces the problem?","body":"Q: Can you show a code snippet that reproduces the problem?"},{"owner":{"account_id":9718904,"reputation":11,"user_id":22077359,"display_name":"asn"},"score":0,"creation_date":1693155102,"post_id":76988007,"comment_id":135719690,"body_markdown":"I have added the code and updated my post. You can refer my post above.","body":"I have added the code and updated my post. You can refer my post above."}],"answers":[{"comments":[{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":0,"creation_date":1693178371,"post_id":76988702,"comment_id":135721845,"body_markdown":"It sounds like the OP has a console mode Java program, and the webdriver closes when his program ends.  As it should ;)  SUGGESTION: Simply add \\a[System.in.read()](https://stackoverflow.com/a/6032257/421195) at the end of `main()`.  So the program won&#39;t exit until the user hits &quot;ENTER&quot;.","body":"It sounds like the OP has a console mode Java program, and the webdriver closes when his program ends.  As it should ;)  SUGGESTION: Simply add \\a<a href=\"https://stackoverflow.com/a/6032257/421195\">System.in.read()</a> at the end of <code>main()</code>.  So the program won&#39;t exit until the user hits &quot;ENTER&quot;."},{"owner":{"account_id":9718904,"reputation":11,"user_id":22077359,"display_name":"asn"},"score":0,"creation_date":1693195843,"post_id":76988702,"comment_id":135723145,"body_markdown":"As per your suggestion, I have used System.in.read() as the last statement in the main().  The code worked as I expected. Thanks.","body":"As per your suggestion, I have used System.in.read() as the last statement in the main().  The code worked as I expected. Thanks."},{"owner":{"account_id":15994883,"reputation":3427,"user_id":11543023,"display_name":"djmonki"},"score":0,"creation_date":1693289547,"post_id":76988702,"comment_id":135737190,"body_markdown":"@paulsm4 please add this as a definitive answer to the question, for others that may come across it","body":"@paulsm4 please add this as a definitive answer to the question, for others that may come across it"},{"owner":{"account_id":15994883,"reputation":3427,"user_id":11543023,"display_name":"djmonki"},"score":0,"creation_date":1693289610,"post_id":76988702,"comment_id":135737199,"body_markdown":"@asn please accept answer, once paulsm4 has published it","body":"@asn please accept answer, once paulsm4 has published it"}],"tags":[],"owner":{"account_id":9568655,"reputation":131,"user_id":14412760,"display_name":"Funky Monkey"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693165768,"creation_date":1693165768,"answer_id":76988702,"question_id":76988007,"body_markdown":"There are some options on keeping the browser open after the last line of code. Not sure why would you use it, but hopefully this helps.\r\n\r\nIf you are waiting for an element or some action, you can always use `wait`.\r\nWith that, your browser will stay open until the element you&#39;re waiting for has appeared or the `wait` timeout has expired (you define your own timeout duration). For more information visit this [link][1] \r\n\r\nOn the other hand, which I do not recommend, you can use `Thread.sleep`. It keeps the driver open, but in a *sleep* position. This method is not recommended though.\r\n\r\n\r\n  [1]: https://www.selenium.dev/documentation/webdriver/waits/","title":"Java Selenium WebDriver closes the web browser after reaching the last line of code?","body":"<p>There are some options on keeping the browser open after the last line of code. Not sure why would you use it, but hopefully this helps.</p>\n<p>If you are waiting for an element or some action, you can always use <code>wait</code>.\nWith that, your browser will stay open until the element you're waiting for has appeared or the <code>wait</code> timeout has expired (you define your own timeout duration). For more information visit this <a href=\"https://www.selenium.dev/documentation/webdriver/waits/\" rel=\"nofollow noreferrer\">link</a></p>\n<p>On the other hand, which I do not recommend, you can use <code>Thread.sleep</code>. It keeps the driver open, but in a <em>sleep</em> position. This method is not recommended though.</p>\n"}],"owner":{"account_id":9718904,"reputation":11,"user_id":22077359,"display_name":"asn"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1693178108,"creation_date":1693153953,"question_id":76988007,"body_markdown":"Without using the driver.close() the webdriver closes the browser window in Selenium 4.\r\nI want the browser to remain opened until I say driver.close().\r\n\r\n\r\nAfter executing my code the Selenium Webdriver should not close the browser.\r\nThe web browser should be opened until I call the driver.close() or driver.quit().\r\nIs there any option to keep the browser opened.\r\nI am using Selenium 4 with Java 17.\r\n\r\n    import java.time.Duration;\r\n    import org.openqa.selenium.WebDriver;\r\n    import io.github.bonigarcia.wdm.WebDriverManager;\r\n    \r\n    public class CloseBrowserTest_1\r\n    {\r\n        static WebDriver driver = null;\r\n    \r\n    \tpublic static void main(String[] args) throws InterruptedException\r\n    \t{\r\n    \t\tdriver = WebDriverManager.chromedriver().create();      \r\n    \t\tdriver.manage().window().maximize();\r\n    \t\tdriver.manage().timeouts().implicitlyWait(Duration.ofSeconds(5));   \r\n    \t\tdriver.manage().deleteAllCookies();\r\n    \t\t\r\n    \t\tdriver.get(&quot;https://www.google.com&quot;);\r\n    \t\tSystem.out.println(&quot;Title : &quot; + driver.getTitle());\r\n    \t\tSystem.out.println(&quot;Current URL : &quot; + driver.getCurrentUrl());\r\n     \t}\r\n    }","title":"Java Selenium WebDriver closes the web browser after reaching the last line of code?","body":"<p>Without using the driver.close() the webdriver closes the browser window in Selenium 4.\nI want the browser to remain opened until I say driver.close().</p>\n<p>After executing my code the Selenium Webdriver should not close the browser.\nThe web browser should be opened until I call the driver.close() or driver.quit().\nIs there any option to keep the browser opened.\nI am using Selenium 4 with Java 17.</p>\n<pre><code>import java.time.Duration;\nimport org.openqa.selenium.WebDriver;\nimport io.github.bonigarcia.wdm.WebDriverManager;\n\npublic class CloseBrowserTest_1\n{\n    static WebDriver driver = null;\n\n    public static void main(String[] args) throws InterruptedException\n    {\n        driver = WebDriverManager.chromedriver().create();      \n        driver.manage().window().maximize();\n        driver.manage().timeouts().implicitlyWait(Duration.ofSeconds(5));   \n        driver.manage().deleteAllCookies();\n        \n        driver.get(&quot;https://www.google.com&quot;);\n        System.out.println(&quot;Title : &quot; + driver.getTitle());\n        System.out.println(&quot;Current URL : &quot; + driver.getCurrentUrl());\n    }\n}\n</code></pre>\n"},{"tags":["java","arraylist","iterator"],"comments":[{"owner":{"account_id":7034556,"reputation":12335,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":3,"creation_date":1693164150,"post_id":76988565,"comment_id":135720700,"body_markdown":"Isn&#39;t this an infinite loop? You keep adding item before the cursor.","body":"Isn&#39;t this an infinite loop? You keep adding item before the cursor."},{"owner":{"account_id":20782878,"reputation":893,"user_id":15982771,"display_name":"Blue Robin"},"score":0,"creation_date":1693405398,"post_id":76988565,"comment_id":135756865,"body_markdown":"Code-only questions are not recommended. You need to explain your problem more in post.","body":"Code-only questions are not recommended. You need to explain your problem more in post."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693177997,"creation_date":1693177689,"answer_id":76989268,"question_id":76988565,"body_markdown":"# infinite loop\r\n\r\nAs stated in [a Comment][1]…\r\n\r\nYour code is in an infinite loop, always adding an element, and always having a previous element. \r\n\r\nYour test `while( it.hasPrevious() )` always returns `true`. After you add an element, you move the cursor back with a call to `previous`. \r\n\r\nUse a debugger and/or some println commands to watch the cursor of your iterator. \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/76988565/add-method-followed-by-previous-method-does-not-gave-any-output-while-using-arra#comment135720700_76988565","title":"add method followed by previous method does not gave any output while using ArrayList listIterator method in Java","body":"<h1>infinite loop</h1>\n<p>As stated in <a href=\"https://stackoverflow.com/questions/76988565/add-method-followed-by-previous-method-does-not-gave-any-output-while-using-arra#comment135720700_76988565\">a Comment</a>…</p>\n<p>Your code is in an infinite loop, always adding an element, and always having a previous element.</p>\n<p>Your test <code>while( it.hasPrevious() )</code> always returns <code>true</code>. After you add an element, you move the cursor back with a call to <code>previous</code>.</p>\n<p>Use a debugger and/or some println commands to watch the cursor of your iterator.</p>\n"}],"owner":{"account_id":4475411,"reputation":387,"user_id":3640657,"accept_rate":0,"display_name":"user3640657"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1693177997,"creation_date":1693163435,"question_id":76988565,"body_markdown":"```java\r\npackage listIterator;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.ListIterator;\r\n\r\npublic class Test {\r\n\r\n    public static void main(String[] args) {\r\n\t\r\n\tArrayList&lt;Integer&gt; list = new ArrayList&lt;&gt;();\r\n \tlist.add(10);\r\n \tlist.add(20);\r\n \tlist.add(30);\r\n\t\r\n\t// this code will not work\r\n \tListIterator&lt;Integer&gt; it;\r\n\r\n\t\tSystem.out.println(&quot;using add&quot;);\r\n\t \tit = list.listIterator(list.size());\r\n\t \twhile(it.hasPrevious()) {\r\n\t \t    it.add(5);\r\n\t \t    it.previous();\r\n\t \t    \r\n\t \t}\r\n\t\tSystem.out.println(list);\t\r\n\t\r\n    }\r\n}\r\n```","title":"add method followed by previous method does not gave any output while using ArrayList listIterator method in Java","body":"<pre class=\"lang-java prettyprint-override\"><code>package listIterator;\n\nimport java.util.ArrayList;\nimport java.util.ListIterator;\n\npublic class Test {\n\n    public static void main(String[] args) {\n    \n    ArrayList&lt;Integer&gt; list = new ArrayList&lt;&gt;();\n    list.add(10);\n    list.add(20);\n    list.add(30);\n    \n    // this code will not work\n    ListIterator&lt;Integer&gt; it;\n\n        System.out.println(&quot;using add&quot;);\n        it = list.listIterator(list.size());\n        while(it.hasPrevious()) {\n            it.add(5);\n            it.previous();\n            \n        }\n        System.out.println(list);   \n    \n    }\n}\n</code></pre>\n"},{"tags":["java","security","applet"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1384810403,"post_id":20041092,"comment_id":29877365,"body_markdown":"..Did you have a question?","body":"..Did you have a question?"}],"answers":[{"comments":[{"owner":{"account_id":346410,"reputation":2279,"user_id":679916,"accept_rate":65,"display_name":"java_enthu"},"score":0,"creation_date":1399533416,"post_id":23235208,"comment_id":36104955,"body_markdown":"Did you try adding your webpage/site to the exception list ?","body":"Did you try adding your webpage/site to the exception list ?"},{"owner":{"account_id":1775159,"reputation":859,"user_id":1619065,"display_name":"bincob"},"score":0,"creation_date":1400339172,"post_id":23235208,"comment_id":36442364,"body_markdown":"Guess this was addressed to Adnan. I don&#39;t think adding to the exception list will solve this; the JAR needs to be signed at least with a self signed certificate.","body":"Guess this was addressed to Adnan. I don&#39;t think adding to the exception list will solve this; the JAR needs to be signed at least with a self signed certificate."}],"tags":[],"owner":{"account_id":1775159,"reputation":859,"user_id":1619065,"display_name":"bincob"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1398229727,"creation_date":1398229727,"answer_id":23235208,"question_id":20041092,"body_markdown":"I guess your question is that you opted not to block the application, but you still run into the &#39;application blocked&#39; exception. I am answering this because this is what I am facing now.\r\n\r\nThe browser context is different from Eclipse and the browser&#39;s java-plugin will block unsigned jars which try to perform trusted operations. You need to provide more details so that others can help you out here. Different platforms and browsers add to the confusion. Try to debug this problem using the appletviewer tool first - it will help in clearing the first line of issues.","title":"User has denied the privileges to the code error during applet running","body":"<p>I guess your question is that you opted not to block the application, but you still run into the 'application blocked' exception. I am answering this because this is what I am facing now.</p>\n\n<p>The browser context is different from Eclipse and the browser's java-plugin will block unsigned jars which try to perform trusted operations. You need to provide more details so that others can help you out here. Different platforms and browsers add to the confusion. Try to debug this problem using the appletviewer tool first - it will help in clearing the first line of issues.</p>\n"}],"owner":{"account_id":323783,"reputation":4537,"user_id":644013,"accept_rate":73,"display_name":"Adnan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10939,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1693177310,"creation_date":1384754367,"question_id":20041092,"body_markdown":"I deployed an applet but when I try to access it using &quot;applet&quot; tag, it gives below error,but applet gets run when I run it from eclipse using eclipse &quot;Run as Java Applet&quot; option.\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/IDPvl.jpg","title":"User has denied the privileges to the code error during applet running","body":"<p>I deployed an applet but when I try to access it using \"applet\" tag, it gives below error,but applet gets run when I run it from eclipse using eclipse \"Run as Java Applet\" option.</p>\n\n<p><img src=\"https://i.stack.imgur.com/IDPvl.jpg\" alt=\"enter image description here\"></p>\n"},{"tags":["java","gradle","log4j","log4j2"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1640194027,"post_id":70452872,"comment_id":124539678,"body_markdown":"`./gradlew -q dependencies|grep -i log4j` - This should give you the version of log4j-dependencies (if any) that are used.","body":"<code>.&#47;gradlew -q dependencies|grep -i log4j</code> - This should give you the version of log4j-dependencies (if any) that are used."},{"owner":{"account_id":2059508,"reputation":2270,"user_id":1836461,"display_name":"computercarguy"},"score":0,"creation_date":1640194191,"post_id":70452872,"comment_id":124539752,"body_markdown":"@Turing85, shouldn&#39;t that be an answer, rather than a comment?","body":"@Turing85, shouldn&#39;t that be an answer, rather than a comment?"}],"answers":[{"comments":[{"owner":{"account_id":7129149,"reputation":978,"user_id":5451049,"accept_rate":62,"display_name":"sunder"},"score":0,"creation_date":1640194539,"post_id":70452981,"comment_id":124539889,"body_markdown":"There is dependencyInsight in gradle as well? any idea how that is different and should be used/ not used?","body":"There is dependencyInsight in gradle as well? any idea how that is different and should be used/ not used?"},{"owner":{"account_id":7129149,"reputation":978,"user_id":5451049,"accept_rate":62,"display_name":"sunder"},"score":0,"creation_date":1640194564,"post_id":70452981,"comment_id":124539896,"body_markdown":"gradle -q dependencyInsight","body":"gradle -q dependencyInsight"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1640194674,"post_id":70452981,"comment_id":124539941,"body_markdown":"I recommend reading the [documentation on `dependencyInsight`](https://docs.gradle.org/current/userguide/viewing_debugging_dependencies.html#sec:identifying_reason_dependency_selection). It states that: &quot;*... Every Gradle project provides the task `dependencyInsight` to render the so-called dependency insight report from the command line. Given a dependency in the dependency graph you can identify the selection reason and track down the origin of the dependency selection. ...*&quot;","body":"I recommend reading the <a href=\"https://docs.gradle.org/current/userguide/viewing_debugging_dependencies.html#sec:identifying_reason_dependency_selection\" rel=\"nofollow noreferrer\">documentation on <code>dependencyInsight</code></a>. It states that: &quot;<i>... Every Gradle project provides the task <code>dependencyInsight</code> to render the so-called dependency insight report from the command line. Given a dependency in the dependency graph you can identify the selection reason and track down the origin of the dependency selection. ...</i>&quot;"}],"tags":[],"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1693175695,"creation_date":1640194458,"answer_id":70452981,"question_id":70452872,"body_markdown":"We can use \r\n\r\n    ./gradlew -q dependencies\r\nTo list the dependency tree. It will list all dependencies with their respective version. Since this output can be lengthy, we can filter it down with `grep`:\r\n\r\n    ./gradlew -q dependencies | grep -i log4j\r\n\r\nThis will list all `log4j`-dependencies with their respective version.","title":"Detecting Apache Log4j vulnerability presence in gradle transitive dependencies","body":"<p>We can use</p>\n<pre><code>./gradlew -q dependencies\n</code></pre>\n<p>To list the dependency tree. It will list all dependencies with their respective version. Since this output can be lengthy, we can filter it down with <code>grep</code>:</p>\n<pre><code>./gradlew -q dependencies | grep -i log4j\n</code></pre>\n<p>This will list all <code>log4j</code>-dependencies with their respective version.</p>\n"},{"tags":[],"owner":{"account_id":7129149,"reputation":978,"user_id":5451049,"accept_rate":62,"display_name":"sunder"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640239715,"creation_date":1640239715,"answer_id":70458258,"question_id":70452872,"body_markdown":"    gradle -q dependencyInsight --dependency org.apache.logging.log4j \r\n     --configuration scm\r\n\r\nThere is another way to check this list using dependencyInsight as per the article:-\r\nhttps://venturebeat.com/2021/12/17/how-to-detect-whether-you-have-the-log4j2-vulnerability/","title":"Detecting Apache Log4j vulnerability presence in gradle transitive dependencies","body":"<pre><code>gradle -q dependencyInsight --dependency org.apache.logging.log4j \n --configuration scm\n</code></pre>\n<p>There is another way to check this list using dependencyInsight as per the article:-\n<a href=\"https://venturebeat.com/2021/12/17/how-to-detect-whether-you-have-the-log4j2-vulnerability/\" rel=\"nofollow noreferrer\">https://venturebeat.com/2021/12/17/how-to-detect-whether-you-have-the-log4j2-vulnerability/</a></p>\n"}],"owner":{"account_id":7129149,"reputation":978,"user_id":5451049,"accept_rate":62,"display_name":"sunder"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1048,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70452981,"answer_count":2,"score":1,"last_activity_date":1693175695,"creation_date":1640193958,"question_id":70452872,"body_markdown":"There is a recent vulnerability in log4j https://nvd.nist.gov/vuln/detail/CVE-2021-44228 which has criticality score of 10\r\n\r\nHow to check the presence of Log4j vulnerable versions in gradle so that it would list all the dependencies including the transitive dependencies?","title":"Detecting Apache Log4j vulnerability presence in gradle transitive dependencies","body":"<p>There is a recent vulnerability in log4j <a href=\"https://nvd.nist.gov/vuln/detail/CVE-2021-44228\" rel=\"nofollow noreferrer\">https://nvd.nist.gov/vuln/detail/CVE-2021-44228</a> which has criticality score of 10</p>\n<p>How to check the presence of Log4j vulnerable versions in gradle so that it would list all the dependencies including the transitive dependencies?</p>\n"},{"tags":["java","spring-boot","annotations","lombok","javax.validation"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1610359754,"post_id":65664768,"comment_id":116098309,"body_markdown":"Because validation doesn&#39;t work that way. Comparing Lombok with Javax.validation is comparing apples and oranges and find it strange that both differ from bananas. Lombok will generate code in your setter/constructor activly validating that. The `@NonBlank` requires a validator to check your object. It doesn&#39;t do any checks at compile time (also would that really help in someone subitting an empty HTML form?). So only at runtime when activly avalidated it will throw this error.","body":"Because validation doesn&#39;t work that way. Comparing Lombok with Javax.validation is comparing apples and oranges and find it strange that both differ from bananas. Lombok will generate code in your setter/constructor activly validating that. The <code>@NonBlank</code> requires a validator to check your object. It doesn&#39;t do any checks at compile time (also would that really help in someone subitting an empty HTML form?). So only at runtime when activly avalidated it will throw this error."},{"owner":{"account_id":157768,"reputation":4889,"user_id":1306402,"accept_rate":57,"display_name":"Madu"},"score":0,"creation_date":1610360720,"post_id":65664768,"comment_id":116098767,"body_markdown":"So do you mean that at run time if someone is trying to set the address field to empty string it will give an error?","body":"So do you mean that at run time if someone is trying to set the address field to empty string it will give an error?"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1610361219,"post_id":65664768,"comment_id":116098966,"body_markdown":"No, it will only give an error if **explicitly** validated.","body":"No, it will only give an error if <b>explicitly</b> validated."},{"owner":{"account_id":157768,"reputation":4889,"user_id":1306402,"accept_rate":57,"display_name":"Madu"},"score":0,"creation_date":1610582695,"post_id":65664768,"comment_id":116182914,"body_markdown":"So whats the use of this then, in which case it will give caution that some thing is not been set according to standards defined?","body":"So whats the use of this then, in which case it will give caution that some thing is not been set according to standards defined?"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1610607765,"post_id":65664768,"comment_id":116187609,"body_markdown":"It is a standardized validation api it doesn&#39;t do anything for code generation. Annotations by themselves are nothing just meta-data you need something (an implementation) to do something. So either you need a code generator for those annotations, generating butecode doing the validation or something at runtime. Only the latter is available afaik.","body":"It is a standardized validation api it doesn&#39;t do anything for code generation. Annotations by themselves are nothing just meta-data you need something (an implementation) to do something. So either you need a code generator for those annotations, generating butecode doing the validation or something at runtime. Only the latter is available afaik."}],"owner":{"account_id":157768,"reputation":4889,"user_id":1306402,"accept_rate":57,"display_name":"Madu"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1703,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693173098,"creation_date":1610359538,"question_id":65664768,"body_markdown":"I have a simple User class and its properties are annotated with both @NotBland and lombok @NonNull.\r\n\r\n    @AllArgsConstructor\r\n    @Data\r\n    @Builder\r\n    public class User {\r\n    \r\n        @NonNull\r\n        private String name;\r\n    \r\n        @NonNull\r\n        private String id;\r\n    \r\n        @NotBlank\r\n        private String address;\r\n    }\r\n\r\nWhat i am expecting from this is when i try to set blank in address field it informs me at compile time or at least crash at runtime. Lombok @NonNull is working in that way and is raising NPEs at runtime.\r\n\r\nI wrote the following test to check this \r\n\r\n    @Test\r\n    public void user_null_test(){\r\n\r\n        User user = User.builder()\r\n                .id(&quot;&quot;)\r\n                .name(&quot;&quot;)\r\n                .address(&quot;&quot;)\r\n                .build();\r\n\r\n\r\n\r\n        assertThat(user).isNotNull();\r\n\r\nBut the user is a valid user object with address being empty. Obviously i can use the following code to check for validation in my test\r\n\r\n        ValidatorFactory factory = Validation.buildDefaultValidatorFactory();\r\n        Validator validator = factory.getValidator();\r\n\r\n        Set&lt;ConstraintViolation&lt;User&gt;&gt; violations = validator.validate(user);\r\n        assertThat(violations).isEmpty(); \r\n\r\nbut i can&#39;t do that or want to write this type of code in my actual code base.\r\nSo my question is what is the use of @NotBlank if it does not raise any error at compile or run time if we are setting a property to as empty string when it is not supposed to be so according to the set annotation.","title":"Working of javax.validation @NotBlank and lombok @NonNull","body":"<p>I have a simple User class and its properties are annotated with both @NotBland and lombok @NonNull.</p>\n<pre><code>@AllArgsConstructor\n@Data\n@Builder\npublic class User {\n\n    @NonNull\n    private String name;\n\n    @NonNull\n    private String id;\n\n    @NotBlank\n    private String address;\n}\n</code></pre>\n<p>What i am expecting from this is when i try to set blank in address field it informs me at compile time or at least crash at runtime. Lombok @NonNull is working in that way and is raising NPEs at runtime.</p>\n<p>I wrote the following test to check this</p>\n<pre><code>@Test\npublic void user_null_test(){\n\n    User user = User.builder()\n            .id(&quot;&quot;)\n            .name(&quot;&quot;)\n            .address(&quot;&quot;)\n            .build();\n\n\n\n    assertThat(user).isNotNull();\n</code></pre>\n<p>But the user is a valid user object with address being empty. Obviously i can use the following code to check for validation in my test</p>\n<pre><code>    ValidatorFactory factory = Validation.buildDefaultValidatorFactory();\n    Validator validator = factory.getValidator();\n\n    Set&lt;ConstraintViolation&lt;User&gt;&gt; violations = validator.validate(user);\n    assertThat(violations).isEmpty(); \n</code></pre>\n<p>but i can't do that or want to write this type of code in my actual code base.\nSo my question is what is the use of @NotBlank if it does not raise any error at compile or run time if we are setting a property to as empty string when it is not supposed to be so according to the set annotation.</p>\n"},{"tags":["java","bluej"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1693146896,"post_id":76985940,"comment_id":135718688,"body_markdown":"An uninitialized int array’s elements are all zero when it is created.  Use evenCount and oddCount in your last two printing loops.  That is, `i&lt;evenCount` and `i&lt;oddCount`, respectively.","body":"An uninitialized int array’s elements are all zero when it is created.  Use evenCount and oddCount in your last two printing loops.  That is, <code>i&lt;evenCount</code> and <code>i&lt;oddCount</code>, respectively."}],"answers":[{"comments":[{"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":0,"creation_date":1693168625,"post_id":76985968,"comment_id":135721124,"body_markdown":"@AnujKulkarni There is [a better way to thank](https://stackoverflow.com/help/someone-answers) &#128522;.","body":"@AnujKulkarni There is <a href=\"https://stackoverflow.com/help/someone-answers\">a better way to thank</a> 😊."}],"tags":[],"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693118511,"creation_date":1693118511,"answer_id":76985968,"question_id":76985940,"body_markdown":"Your `even` and `odd` arrays have the same length as the original array (`15`), so if you print the full arrays, you&#39;ll see `0` values in the high indices of the arrays.\r\n\r\nYou should only print the `even` and `odd` array elements to which you assigned values. You can use your `evenCount` and `oddCount` counters for this purpose.\r\n\r\nChange\r\n\r\n        for(int i = 0; i&lt;even.length; i++)\r\n        {\r\n            System.out.print(even[i] + &quot; &quot;);\r\n        }\r\n        \r\n        System.out.println(&quot;Odd array : &quot;);\r\n        for(int i = 0; i&lt;even.length; i++)\r\n        {\r\n            System.out.println();\r\n            System.out.print(odd[i] + &quot; &quot;);\r\n        }\r\n\r\nto\r\n\r\n        for(int i = 0; i&lt;evenCount; i++)\r\n        {\r\n            System.out.print(even[i] + &quot; &quot;);\r\n        }\r\n        \r\n        System.out.println(&quot;Odd array : &quot;);\r\n        for(int i = 0; i&lt;oddCount; i++)\r\n        {\r\n            System.out.println();\r\n            System.out.print(odd[i] + &quot; &quot;);\r\n        }","title":"Creating an even and odd array of specific parameters from an original array","body":"<p>Your <code>even</code> and <code>odd</code> arrays have the same length as the original array (<code>15</code>), so if you print the full arrays, you'll see <code>0</code> values in the high indices of the arrays.</p>\n<p>You should only print the <code>even</code> and <code>odd</code> array elements to which you assigned values. You can use your <code>evenCount</code> and <code>oddCount</code> counters for this purpose.</p>\n<p>Change</p>\n<pre><code>    for(int i = 0; i&lt;even.length; i++)\n    {\n        System.out.print(even[i] + &quot; &quot;);\n    }\n    \n    System.out.println(&quot;Odd array : &quot;);\n    for(int i = 0; i&lt;even.length; i++)\n    {\n        System.out.println();\n        System.out.print(odd[i] + &quot; &quot;);\n    }\n</code></pre>\n<p>to</p>\n<pre><code>    for(int i = 0; i&lt;evenCount; i++)\n    {\n        System.out.print(even[i] + &quot; &quot;);\n    }\n    \n    System.out.println(&quot;Odd array : &quot;);\n    for(int i = 0; i&lt;oddCount; i++)\n    {\n        System.out.println();\n        System.out.print(odd[i] + &quot; &quot;);\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":29034427,"reputation":31,"user_id":22240649,"display_name":"Anuj Kulkarni"},"score":0,"creation_date":1693159360,"post_id":76986051,"comment_id":135720229,"body_markdown":"Yes this works thanks","body":"Yes this works thanks"}],"tags":[],"owner":{"account_id":29004294,"reputation":1,"user_id":22217219,"display_name":"Asmir"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693120652,"creation_date":1693120652,"answer_id":76986051,"question_id":76985940,"body_markdown":"You have a counter variable to count the even numbers in the original array, which is not used. Use it to calculate the right size of your new arrays.\r\n\r\n    int[] even = new int[counter];\r\n    int[] odd = new int[15 - counter];","title":"Creating an even and odd array of specific parameters from an original array","body":"<p>You have a counter variable to count the even numbers in the original array, which is not used. Use it to calculate the right size of your new arrays.</p>\n<pre><code>int[] even = new int[counter];\nint[] odd = new int[15 - counter];\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693172970,"creation_date":1693168363,"answer_id":76988842,"question_id":76985940,"body_markdown":"&gt; _&quot;... I have been trying to to create the even and odd arrays but its giving null values while printing ...&quot;_\r\n\r\nThis is because _even_ and _odd_ were initialized to 15 elements.  \r\n\r\nA source array of 15 elements won&#39;t produce 15 elements for both outputs arrays.  \r\nThus, at least one array will contain remaining, uninitialized values.\r\n\r\n```java\r\nint[] even = new int[15];\r\nint[] odd = new int[15];\r\n```\r\n\r\nYou can trim the _arrays_ with the _[Arrays#copyOfRange](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Arrays.html#copyOfRange(int[],int,int))_ method.\r\n\r\n```java\r\neven = Arrays.copyOfRange(even, 0, evenCount);\r\nodd = Arrays.copyOfRange(odd, 0, oddCount);\r\n```\r\n\r\n\r\nOr, use a _[List](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/List.html)_ object, which has a non-fixed size.\r\n\r\n```java\r\nList&lt;Integer&gt; even = new ArrayList&lt;&gt;();\r\nList&lt;Integer&gt; odd = new ArrayList&lt;&gt;();\r\nfor (int n : arr) (n % 2 == 0 ? even : odd).add(n);\r\n```\r\n\r\nAdditionally, another approach would be to count the even and odd values first, and then create the arrays in a subsequent iteration.\r\n\r\n```java\r\nint evenCount = 0, oddCount = 0;\r\nfor (int i = 0; i &lt; arr.length; i++) {\r\n    if (arr[i] % 2 == 0) evenCount++;\r\n    else oddCount++;\r\n}\r\n\r\nint[] even = new int[evenCount];\r\nint[] odd = new int[oddCount];\r\nevenCount = oddCount = 0;\r\n\r\nfor (int i = 0; i &lt; arr.length; i++) {\r\n    if (arr[i] % 2 == 0) {\r\n        even[evenCount++] = arr[i];\r\n    } else {\r\n        odd[oddCount++] = arr[i];\r\n    }\r\n}\r\n```\r\n\r\nAlso, you can print the _arrays_ with _[Arrays#toString](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Arrays.html#toString(int[]))_, if you want to avoid the _for-loop_.\r\n\r\n```java\r\nSystem.out.println(&quot;Even array : &quot; + Arrays.toString(even));\r\nSystem.out.println(&quot;Odd array : &quot; + Arrays.toString(odd));\r\n```\r\n\r\nOn a final note, you have a typo in your code.  \r\nThe _odd_ array _loop_ is conditional to _i&lt;even.length_.\r\n\r\n```java\r\nSystem.out.println(&quot;Odd array : &quot;);\r\nfor(int i = 0; i&lt;even.length; i++)\r\n{\r\n    System.out.println();\r\n    System.out.print(odd[i] + &quot; &quot;);\r\n}\r\n```\r\n\r\nOutput\r\n\r\n```none\r\nEnter 15 numbers\r\n23 4 5 78 34 56 12 20 33 2 76 11 29 9 54\r\nEven array : [2, 4, 12, 20, 34, 54, 56, 76, 78]\r\nOdd array : [5, 9, 11, 23, 29, 33]\r\n```\r\n\r\n```none\r\nEnter 15 numbers\r\n23 46 74 523 673 254 34 12 345 5755 344 33 5675 23242 3454\r\nEven array : [12, 34, 46, 74, 254, 344, 3454, 23242]\r\nOdd array : [23, 33, 345, 523, 673, 5675, 5755]\r\n```\r\n\r\nHere is how I would implement the same code.\r\n\r\n```java\r\nScanner scanner = new Scanner(System.in);\r\nList&lt;Integer&gt; list, even, odd;\r\neven = new ArrayList&lt;&gt;();\r\nodd = new ArrayList&lt;&gt;();\r\nlist = new ArrayList&lt;&gt;();\r\nfor (String string : scanner.nextLine().split(&quot; +&quot;))\r\n    list.add(Integer.parseInt(string));\r\nfor (int a = 0, b; a &lt; list.size() - 1; a++)\r\n    for (b = 0; b &lt; list.size() - a - 1; b++)\r\n        if (list.get(b) &gt; list.get(b + 1))\r\n            Collections.swap(list, b, b + 1);\r\nlist.forEach(x -&gt; (x % 2 == 0 ? even : odd).add(x));\r\nSystem.out.printf(&quot;%s%n%s%n&quot;, even, odd);\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n23 4 5 78 34 56 12 20 33 2 76 11 29 9 54\r\n[2, 4, 12, 20, 34, 54, 56, 76, 78]\r\n[5, 9, 11, 23, 29, 33]\r\n```","title":"Creating an even and odd array of specific parameters from an original array","body":"<blockquote>\n<p><em>&quot;... I have been trying to to create the even and odd arrays but its giving null values while printing ...&quot;</em></p>\n</blockquote>\n<p>This is because <em>even</em> and <em>odd</em> were initialized to 15 elements.</p>\n<p>A source array of 15 elements won't produce 15 elements for both outputs arrays.<br />\nThus, at least one array will contain remaining, uninitialized values.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int[] even = new int[15];\nint[] odd = new int[15];\n</code></pre>\n<p>You can trim the <em>arrays</em> with the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Arrays.html#copyOfRange(int%5B%5D,int,int)\" rel=\"nofollow noreferrer\">Arrays#copyOfRange</a></em> method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>even = Arrays.copyOfRange(even, 0, evenCount);\nodd = Arrays.copyOfRange(odd, 0, oddCount);\n</code></pre>\n<p>Or, use a <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/List.html\" rel=\"nofollow noreferrer\">List</a></em> object, which has a non-fixed size.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Integer&gt; even = new ArrayList&lt;&gt;();\nList&lt;Integer&gt; odd = new ArrayList&lt;&gt;();\nfor (int n : arr) (n % 2 == 0 ? even : odd).add(n);\n</code></pre>\n<p>Additionally, another approach would be to count the even and odd values first, and then create the arrays in a subsequent iteration.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int evenCount = 0, oddCount = 0;\nfor (int i = 0; i &lt; arr.length; i++) {\n    if (arr[i] % 2 == 0) evenCount++;\n    else oddCount++;\n}\n\nint[] even = new int[evenCount];\nint[] odd = new int[oddCount];\nevenCount = oddCount = 0;\n\nfor (int i = 0; i &lt; arr.length; i++) {\n    if (arr[i] % 2 == 0) {\n        even[evenCount++] = arr[i];\n    } else {\n        odd[oddCount++] = arr[i];\n    }\n}\n</code></pre>\n<p>Also, you can print the <em>arrays</em> with <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Arrays.html#toString(int%5B%5D)\" rel=\"nofollow noreferrer\">Arrays#toString</a></em>, if you want to avoid the <em>for-loop</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(&quot;Even array : &quot; + Arrays.toString(even));\nSystem.out.println(&quot;Odd array : &quot; + Arrays.toString(odd));\n</code></pre>\n<p>On a final note, you have a typo in your code.<br />\nThe <em>odd</em> array <em>loop</em> is conditional to <em>i&lt;even.length</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(&quot;Odd array : &quot;);\nfor(int i = 0; i&lt;even.length; i++)\n{\n    System.out.println();\n    System.out.print(odd[i] + &quot; &quot;);\n}\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>Enter 15 numbers\n23 4 5 78 34 56 12 20 33 2 76 11 29 9 54\nEven array : [2, 4, 12, 20, 34, 54, 56, 76, 78]\nOdd array : [5, 9, 11, 23, 29, 33]\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code>Enter 15 numbers\n23 46 74 523 673 254 34 12 345 5755 344 33 5675 23242 3454\nEven array : [12, 34, 46, 74, 254, 344, 3454, 23242]\nOdd array : [23, 33, 345, 523, 673, 5675, 5755]\n</code></pre>\n<p>Here is how I would implement the same code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Scanner scanner = new Scanner(System.in);\nList&lt;Integer&gt; list, even, odd;\neven = new ArrayList&lt;&gt;();\nodd = new ArrayList&lt;&gt;();\nlist = new ArrayList&lt;&gt;();\nfor (String string : scanner.nextLine().split(&quot; +&quot;))\n    list.add(Integer.parseInt(string));\nfor (int a = 0, b; a &lt; list.size() - 1; a++)\n    for (b = 0; b &lt; list.size() - a - 1; b++)\n        if (list.get(b) &gt; list.get(b + 1))\n            Collections.swap(list, b, b + 1);\nlist.forEach(x -&gt; (x % 2 == 0 ? even : odd).add(x));\nSystem.out.printf(&quot;%s%n%s%n&quot;, even, odd);\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>23 4 5 78 34 56 12 20 33 2 76 11 29 9 54\n[2, 4, 12, 20, 34, 54, 56, 76, 78]\n[5, 9, 11, 23, 29, 33]\n</code></pre>\n"}],"owner":{"account_id":29034427,"reputation":31,"user_id":22240649,"display_name":"Anuj Kulkarni"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1693172970,"creation_date":1693117838,"question_id":76985940,"body_markdown":"Write a program to accept 15 random numbers into a 1D array. Sort the array using Bubble Sort. After sorting, transfer and store all the even numbers and odd numbers into separate arrays. Display the unsorted original array and the sorted even and odd arrays with appropriate messages\r\n\r\nI have been trying to to create the even and odd arrays but its giving null values while printing\r\n\r\n\r\n```\r\nimport java.util.Scanner;\r\nclass Assignment10\r\n{\r\n    public static void main()\r\n    {\r\n        Scanner sc = new Scanner(System.in);\r\n        int arr[] = new int[15];\r\n        \r\n        System.out.println(&quot;Enter 15 numbers&quot;);\r\n        for(int i = 0; i&lt;arr.length; i++)//intializing the main array\r\n        {\r\n            arr[i] = sc.nextInt();\r\n        }\r\n\r\n        int temp;\r\n        for(int i = 0; i&lt;arr.length; i++)\r\n        {\r\n            for(int j = 0; j&lt;arr.length-1; j++)\r\n            {\r\n                if(arr[j] &gt; arr[j+1])\r\n                {\r\n                    temp = arr[j];\r\n                    arr[j] = arr[j+1];\r\n                    arr[j+1] = temp;\r\n                }\r\n\r\n            }\r\n        }\r\n        int counter = 0;\r\n\r\n        for(int i = 0; i&lt;arr.length; i++)\r\n        {\r\n            \r\n                if(arr[i]%2 == 0)\r\n                {\r\n                    counter ++;\r\n                }\r\n        }\r\n        \r\n         int[] even = new int[15];\r\n        int[] odd = new int[15];\r\n        int evenCount = 0, oddCount = 0;\r\n        \r\n        for (int i = 0; i &lt; arr.length; i++) {\r\n            if (arr[i] % 2 == 0) {\r\n                even[evenCount++] = arr[i];\r\n            } else {\r\n                odd[oddCount++] = arr[i];\r\n            }\r\n        }\r\n        System.out.println(&quot;Even array : &quot;);\r\n\r\n        for(int i = 0; i&lt;even.length; i++)\r\n        {\r\n            System.out.print(even[i] + &quot; &quot;);\r\n        }\r\n        \r\n        System.out.println(&quot;Odd array : &quot;);\r\n        for(int i = 0; i&lt;even.length; i++)\r\n        {\r\n            System.out.println();\r\n            System.out.print(odd[i] + &quot; &quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\nI expected this:\r\nOriginal array : 23 4 5 78 34 56 12 20 33 2 76 11 29 9 54\r\nEven array: 2 4 12 20 34 54 56 76 78\r\nOdd array: 5 9 11 23 29 33\r\n\r\nBut im getting null values while printing the even and odd arrays\r\n\r\nOutput:\r\nEnter 15 numbers\r\n23\r\n46\r\n74\r\n523\r\n673\r\n254\r\n34\r\n12\r\n345\r\n5755\r\n344\r\n33\r\n5675\r\n23242\r\n3454\r\nEven array : \r\n12 34 46 74 254 344 3454 23242 0 0 0 0 0 0 0 \r\nOdd array : \r\n23 33 345 523 673 5675 5755 0 0 0 0 0 0 0 0 \r\n","title":"Creating an even and odd array of specific parameters from an original array","body":"<p>Write a program to accept 15 random numbers into a 1D array. Sort the array using Bubble Sort. After sorting, transfer and store all the even numbers and odd numbers into separate arrays. Display the unsorted original array and the sorted even and odd arrays with appropriate messages</p>\n<p>I have been trying to to create the even and odd arrays but its giving null values while printing</p>\n<pre><code>import java.util.Scanner;\nclass Assignment10\n{\n    public static void main()\n    {\n        Scanner sc = new Scanner(System.in);\n        int arr[] = new int[15];\n        \n        System.out.println(&quot;Enter 15 numbers&quot;);\n        for(int i = 0; i&lt;arr.length; i++)//intializing the main array\n        {\n            arr[i] = sc.nextInt();\n        }\n\n        int temp;\n        for(int i = 0; i&lt;arr.length; i++)\n        {\n            for(int j = 0; j&lt;arr.length-1; j++)\n            {\n                if(arr[j] &gt; arr[j+1])\n                {\n                    temp = arr[j];\n                    arr[j] = arr[j+1];\n                    arr[j+1] = temp;\n                }\n\n            }\n        }\n        int counter = 0;\n\n        for(int i = 0; i&lt;arr.length; i++)\n        {\n            \n                if(arr[i]%2 == 0)\n                {\n                    counter ++;\n                }\n        }\n        \n         int[] even = new int[15];\n        int[] odd = new int[15];\n        int evenCount = 0, oddCount = 0;\n        \n        for (int i = 0; i &lt; arr.length; i++) {\n            if (arr[i] % 2 == 0) {\n                even[evenCount++] = arr[i];\n            } else {\n                odd[oddCount++] = arr[i];\n            }\n        }\n        System.out.println(&quot;Even array : &quot;);\n\n        for(int i = 0; i&lt;even.length; i++)\n        {\n            System.out.print(even[i] + &quot; &quot;);\n        }\n        \n        System.out.println(&quot;Odd array : &quot;);\n        for(int i = 0; i&lt;even.length; i++)\n        {\n            System.out.println();\n            System.out.print(odd[i] + &quot; &quot;);\n        }\n    }\n}\n</code></pre>\n<p>I expected this:\nOriginal array : 23 4 5 78 34 56 12 20 33 2 76 11 29 9 54\nEven array: 2 4 12 20 34 54 56 76 78\nOdd array: 5 9 11 23 29 33</p>\n<p>But im getting null values while printing the even and odd arrays</p>\n<p>Output:\nEnter 15 numbers\n23\n46\n74\n523\n673\n254\n34\n12\n345\n5755\n344\n33\n5675\n23242\n3454\nEven array :\n12 34 46 74 254 344 3454 23242 0 0 0 0 0 0 0\nOdd array :\n23 33 345 523 673 5675 5755 0 0 0 0 0 0 0 0</p>\n"},{"tags":["java","aws-lambda","jvm","quarkus","quarkus-native"],"owner":{"account_id":18102495,"reputation":3,"user_id":13160613,"display_name":"devkallel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693171672,"creation_date":1693169434,"question_id":76988900,"body_markdown":"Maybe someone help me with a question.\r\n\r\nI&#39;m trying to use Quarkus JVM to deploy lambda functions in AWS. But I cannot set a layer using the function.zip genereated by Quarkus when I use &quot;mvn clean package&quot;.\r\n\r\nWhen I set directly on each function, &quot;function.zip&quot; works.\r\n\r\nLike the following:\r\n\r\n    Globals:\r\n      Function:\r\n        Tracing: Active\r\n        CodeUri: target/function.zip\r\n        Handler: io.quarkus.amazon.lambda.runtime.QuarkusStreamHandler::handleRequest\r\n        Runtime: java17\r\n        Timeout: 30\r\n        MemorySize: 1024\r\n\r\n\r\nBut I would like to use a layer resource and use it the layer in the lambda function.\r\n\r\nFor example:\r\n\r\n    LambdaLayer:\r\n      Type: AWS::Serverless::LayerVersion\r\n      Properties:\r\n        LayerName: Quarkus-Layer\r\n        Description: QuarkusLayer\r\n        ContentUri: target/function.zip\r\n        CompatibleRuntimes:\r\n          - java17\r\n        CompatibleArchitectures:\r\n          - x86_64\r\n        LicenseInfo: MIT\r\n\r\n\r\nAnd I reference that layer in the lambda resource:\r\n\r\n\r\n    Globals:\r\n      Function:\r\n        Tracing: Active\r\n        CodeUri: target/empty-function.zip\r\n        Handler: io.quarkus.amazon.lambda.runtime.QuarkusStreamHandler::handleRequest\r\n        Runtime: java17\r\n        Timeout: 30\r\n        MemorySize: 1024\r\n        Layers:\r\n         - !Ref LambdaLayer\r\n\r\n\r\n\r\nBut If I use layers it doesn&#39;t work, Can&#39;t find quarkus handling class.\r\n\r\n\r\nAnd again, when I set direct &quot;function.zip&quot; directly on each lambda or globally it works great. But I feel like it&#39;s not efficient to use it that way, I&#39;d like to use layers.\r\n\r\nI&#39;ve searched GitHub for similar projects and they all use directly in each function they don&#39;t use layers.\r\n\r\n\r\n[CloudWatchLogs Image][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qxz7H.png","title":"Using a layer for lambda with Quarkus JVM (Non-native)","body":"<p>Maybe someone help me with a question.</p>\n<p>I'm trying to use Quarkus JVM to deploy lambda functions in AWS. But I cannot set a layer using the function.zip genereated by Quarkus when I use &quot;mvn clean package&quot;.</p>\n<p>When I set directly on each function, &quot;function.zip&quot; works.</p>\n<p>Like the following:</p>\n<pre><code>Globals:\n  Function:\n    Tracing: Active\n    CodeUri: target/function.zip\n    Handler: io.quarkus.amazon.lambda.runtime.QuarkusStreamHandler::handleRequest\n    Runtime: java17\n    Timeout: 30\n    MemorySize: 1024\n</code></pre>\n<p>But I would like to use a layer resource and use it the layer in the lambda function.</p>\n<p>For example:</p>\n<pre><code>LambdaLayer:\n  Type: AWS::Serverless::LayerVersion\n  Properties:\n    LayerName: Quarkus-Layer\n    Description: QuarkusLayer\n    ContentUri: target/function.zip\n    CompatibleRuntimes:\n      - java17\n    CompatibleArchitectures:\n      - x86_64\n    LicenseInfo: MIT\n</code></pre>\n<p>And I reference that layer in the lambda resource:</p>\n<pre><code>Globals:\n  Function:\n    Tracing: Active\n    CodeUri: target/empty-function.zip\n    Handler: io.quarkus.amazon.lambda.runtime.QuarkusStreamHandler::handleRequest\n    Runtime: java17\n    Timeout: 30\n    MemorySize: 1024\n    Layers:\n     - !Ref LambdaLayer\n</code></pre>\n<p>But If I use layers it doesn't work, Can't find quarkus handling class.</p>\n<p>And again, when I set direct &quot;function.zip&quot; directly on each lambda or globally it works great. But I feel like it's not efficient to use it that way, I'd like to use layers.</p>\n<p>I've searched GitHub for similar projects and they all use directly in each function they don't use layers.</p>\n<p><a href=\"https://i.stack.imgur.com/qxz7H.png\" rel=\"nofollow noreferrer\">CloudWatchLogs Image</a></p>\n"},{"tags":["java","json","spring","spring-mvc","spring-rest"],"comments":[{"owner":{"account_id":9099844,"reputation":4743,"user_id":6772373,"display_name":"Mike Tung"},"score":0,"creation_date":1509741992,"post_id":47104149,"comment_id":81158812,"body_markdown":"can you put the example print out?","body":"can you put the example print out?"},{"owner":{"account_id":5144424,"reputation":2664,"user_id":4337151,"display_name":"dehasi"},"score":0,"creation_date":1509742082,"post_id":47104149,"comment_id":81158851,"body_markdown":"have you tried to use `String`? `restTemplate.getForEntity(url, String.class);`","body":"have you tried to use <code>String</code>? <code>restTemplate.getForEntity(url, String.class);</code>"}],"answers":[{"comments":[{"owner":{"account_id":12917853,"reputation":997,"user_id":9341434,"display_name":"Brooklyn99"},"score":0,"creation_date":1606254897,"post_id":47104541,"comment_id":114907974,"body_markdown":"My return type is object and I want the raw json string?","body":"My return type is object and I want the raw json string?"},{"owner":{"account_id":1149936,"reputation":14493,"user_id":1131857,"accept_rate":76,"display_name":"wutzebaer"},"score":15,"creation_date":1609836009,"post_id":47104541,"comment_id":115939185,"body_markdown":"this won&#39;t wotk when the server sends `application/json` as content type `Cannot deserialize instance of java.lang.String out of START_ARRAY token` it will only gibt you a string if the body just contains a json-string","body":"this won&#39;t wotk when the server sends <code>application&#47;json</code> as content type <code>Cannot deserialize instance of java.lang.String out of START_ARRAY token</code> it will only gibt you a string if the body just contains a json-string"}],"tags":[],"owner":{"account_id":390441,"reputation":32048,"user_id":750510,"accept_rate":98,"display_name":"madhead"},"comment_count":2,"down_vote_count":2,"up_vote_count":63,"is_accepted":true,"score":61,"last_activity_date":1509743827,"creation_date":1509743827,"answer_id":47104541,"question_id":47104149,"body_markdown":"You don&#39;t even need `ResponseEntity`s! Just use [`getForObject`][1] with a `String.class` like:\r\n\r\n\tfinal RestTemplate restTemplate = new RestTemplate();\r\n\tfinal String response = restTemplate.getForObject(&quot;https://httpbin.org/ip&quot;, String.class);\r\n\r\n\tSystem.out.println(response);\r\n\r\nIt will print something like:\r\n\r\n    {\r\n      &quot;origin&quot;: &quot;1.2.3.4&quot;\r\n    }\r\n\r\n\r\n  [1]: https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/client/RestTemplate.html#getForObject-java.net.URI-java.lang.Class-","title":"Spring restTemplate get raw json string","body":"<p>You don't even need <code>ResponseEntity</code>s! Just use <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/client/RestTemplate.html#getForObject-java.net.URI-java.lang.Class-\" rel=\"noreferrer\"><code>getForObject</code></a> with a <code>String.class</code> like:</p>\n\n<pre><code>final RestTemplate restTemplate = new RestTemplate();\nfinal String response = restTemplate.getForObject(\"https://httpbin.org/ip\", String.class);\n\nSystem.out.println(response);\n</code></pre>\n\n<p>It will print something like:</p>\n\n<pre><code>{\n  \"origin\": \"1.2.3.4\"\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19590509,"reputation":71,"user_id":14337636,"display_name":"Don"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693171280,"creation_date":1689467434,"answer_id":76696269,"question_id":47104149,"body_markdown":"You can also use `restTemplate.execute` and pass `ResponseExtractor` that just parses the `InputStream` from the body.\r\n\r\n```java\r\npublic &lt;T&gt; T execute(String url,\r\n    org.springframework.http.HttpMethod method,\r\n    org.springframework.web.client.RequestCallback requestCallback,\r\n    org.springframework.web.client.ResponseExtractor&lt;T&gt; responseExtractor,\r\n    Object... uriVariables )\r\n```\r\n\r\nFor example:\r\n\r\n```java\r\nString rawJson = restTemplate.execute(url, HttpMethod.GET, (clientHttpRequest) -&gt; {}, this::responseExtractor, uriVariables);\r\n\r\n// response extractor would be something like this\r\nprivate String responseExtractor(ClientHttpResponse response) throws IOException {\r\n    InputStream inputStream = response.getBody();\r\n    ByteArrayOutputStream result = new ByteArrayOutputStream();\r\n    byte[] buffer = new byte[1024];\r\n    for (int length; (length = inputStream.read(buffer)) != -1; ) {\r\n        result.write(buffer, 0, length);\r\n    }\r\n    return result.toString(&quot;UTF-8&quot;);\r\n}\r\n```\r\n\r\nThis also bypasses ObjectMapper if your using Jackson and stringify invalid JSON.\r\n","title":"Spring restTemplate get raw json string","body":"<p>You can also use <code>restTemplate.execute</code> and pass <code>ResponseExtractor</code> that just parses the <code>InputStream</code> from the body.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public &lt;T&gt; T execute(String url,\n    org.springframework.http.HttpMethod method,\n    org.springframework.web.client.RequestCallback requestCallback,\n    org.springframework.web.client.ResponseExtractor&lt;T&gt; responseExtractor,\n    Object... uriVariables )\n</code></pre>\n<p>For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String rawJson = restTemplate.execute(url, HttpMethod.GET, (clientHttpRequest) -&gt; {}, this::responseExtractor, uriVariables);\n\n// response extractor would be something like this\nprivate String responseExtractor(ClientHttpResponse response) throws IOException {\n    InputStream inputStream = response.getBody();\n    ByteArrayOutputStream result = new ByteArrayOutputStream();\n    byte[] buffer = new byte[1024];\n    for (int length; (length = inputStream.read(buffer)) != -1; ) {\n        result.write(buffer, 0, length);\n    }\n    return result.toString(&quot;UTF-8&quot;);\n}\n</code></pre>\n<p>This also bypasses ObjectMapper if your using Jackson and stringify invalid JSON.</p>\n"}],"owner":{"account_id":6378382,"reputation":2978,"user_id":4948640,"accept_rate":58,"display_name":"suraj bahl"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58455,"favorite_count":0,"down_vote_count":0,"up_vote_count":39,"accepted_answer_id":47104541,"answer_count":2,"score":39,"last_activity_date":1693171280,"creation_date":1509741934,"question_id":47104149,"body_markdown":"How can I get the raw json string from spring rest template? I have tried following code but it returns me json without quotes which causes other issues, how can i get the json as is.\r\n\r\n    ResponseEntity&lt;Object&gt; response  = restTemplate.getForEntity(url, Object.class);\r\n    String json = response.getBody().toString();","title":"Spring restTemplate get raw json string","body":"<p>How can I get the raw json string from spring rest template? I have tried following code but it returns me json without quotes which causes other issues, how can i get the json as is.</p>\n\n<pre><code>ResponseEntity&lt;Object&gt; response  = restTemplate.getForEntity(url, Object.class);\nString json = response.getBody().toString();\n</code></pre>\n"},{"tags":["java","spring-boot","gradle","build.gradle"],"answers":[{"tags":[],"owner":{"account_id":5668676,"reputation":997,"user_id":4484081,"display_name":"akshaya pandey"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1510655254,"creation_date":1510655085,"answer_id":47283259,"question_id":47283048,"body_markdown":"add following to your Gradle script.It inserts the version into the jar manifest correctly, as shown here:\r\n\r\n    version = &#39;1.0&#39;\r\n    jar {\r\n        manifest {\r\n            attributes &#39;Implementation-Title&#39;: &#39;Gradle Quickstart&#39;,\r\n                       &#39;Implementation-Version&#39;: version\r\n        }\r\n    }\r\n\r\nYour code will be able to pick up the version from that jar manifest file:\r\n\r\n    public class BuildVersion {\r\n        public static String getBuildVersion(){\r\n            return BuildVersion.class.getPackage().getImplementationVersion();\r\n        }\r\n    }\r\n\r\nRefer the link below for more details: [https://github.com/akhikhl/wuff/wiki/Manifest-attributes-in-build.gradle][1]\r\n\r\n\r\n  [1]: https://github.com/akhikhl/wuff/wiki/Manifest-attributes-in-build.gradle","title":"how to capture Build Info using Gradle and Spring Boot","body":"<p>add following to your Gradle script.It inserts the version into the jar manifest correctly, as shown here:</p>\n\n<pre><code>version = '1.0'\njar {\n    manifest {\n        attributes 'Implementation-Title': 'Gradle Quickstart',\n                   'Implementation-Version': version\n    }\n}\n</code></pre>\n\n<p>Your code will be able to pick up the version from that jar manifest file:</p>\n\n<pre><code>public class BuildVersion {\n    public static String getBuildVersion(){\n        return BuildVersion.class.getPackage().getImplementationVersion();\n    }\n}\n</code></pre>\n\n<p>Refer the link below for more details: <a href=\"https://github.com/akhikhl/wuff/wiki/Manifest-attributes-in-build.gradle\" rel=\"nofollow noreferrer\">https://github.com/akhikhl/wuff/wiki/Manifest-attributes-in-build.gradle</a></p>\n"},{"comments":[{"owner":{"account_id":290411,"reputation":1535,"user_id":6171247,"accept_rate":92,"display_name":"robbie70"},"score":1,"creation_date":1510667797,"post_id":47286237,"comment_id":81525240,"body_markdown":"thank you Vampire. I&#39;ve change my code as you&#39;ve suggested but now getting an exception,\n\nDescription:\n\nA component required a bean of type,\n&#39;org.springframework.boot.info.BuildProperties&#39; that could not be found.\n- Bean method &#39;buildProperties&#39; in &#39;ProjectInfoAutoConfiguration&#39; not loaded because @ConditionalOnResource did not find resource &#39;${spring.info.build.location:classpath:META-INF/build-info.properties}&#39;\n\nI am not running a web-application this is a stand-alone Springboot app.","body":"thank you Vampire. I&#39;ve change my code as you&#39;ve suggested but now getting an exception,  Description:  A component required a bean of type, &#39;org.springframework.boot.info.BuildProperties&#39; that could not be found. - Bean method &#39;buildProperties&#39; in &#39;ProjectInfoAutoConfiguration&#39; not loaded because @ConditionalOnResource did not find resource &#39;${spring.info.build.location:classpath:META-INF/build-info.&zwnj;&#8203;properties}&#39;  I am not running a web-application this is a stand-alone Springboot app."},{"owner":{"account_id":290411,"reputation":1535,"user_id":6171247,"accept_rate":92,"display_name":"robbie70"},"score":0,"creation_date":1510670736,"post_id":47286237,"comment_id":81527473,"body_markdown":"I am marking your reply as an Answer because it helped me along quite a bit. If you agree with my Answer and sample code then can you please also mark it as an Answer as I cant mark my own","body":"I am marking your reply as an Answer because it helped me along quite a bit. If you agree with my Answer and sample code then can you please also mark it as an Answer as I cant mark my own"},{"owner":{"account_id":449669,"reputation":292,"user_id":844592,"display_name":"cldfzn"},"score":0,"creation_date":1510776086,"post_id":47286237,"comment_id":81583322,"body_markdown":"One possibility for not finding the build-info.properties is using bootRun to run the project. I don&#39;t know the recommended way to have both bootRun and buildinfo working.","body":"One possibility for not finding the build-info.properties is using bootRun to run the project. I don&#39;t know the recommended way to have both bootRun and buildinfo working."}],"tags":[],"owner":{"account_id":288740,"reputation":36435,"user_id":589329,"accept_rate":40,"display_name":"Vampire"},"comment_count":3,"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1510663411,"creation_date":1510663411,"answer_id":47286237,"question_id":47283048,"body_markdown":"Spring Boot auto-configures a `BuildProperties` bean with the information generated by `buildInfo()`.\r\n\r\nSo to get the information use `context.getBean(BuildProperties.class).getVersion();`.","title":"how to capture Build Info using Gradle and Spring Boot","body":"<p>Spring Boot auto-configures a <code>BuildProperties</code> bean with the information generated by <code>buildInfo()</code>.</p>\n\n<p>So to get the information use <code>context.getBean(BuildProperties.class).getVersion();</code>.</p>\n"},{"comments":[{"owner":{"account_id":4104221,"reputation":3989,"user_id":3368818,"accept_rate":75,"display_name":"Woodchuck"},"score":0,"creation_date":1565796553,"post_id":47288548,"comment_id":101465257,"body_markdown":"Thanks for the info! Do you know where the springBoot buildInfo additionalProperties approach is documented? Strangely, the similar but different approach shown here doesn&#39;t work: https://docs.spring.io/spring-boot/docs/2.0.3.RELEASE/gradle-plugin/reference/html/","body":"Thanks for the info! Do you know where the springBoot buildInfo additionalProperties approach is documented? Strangely, the similar but different approach shown here doesn&#39;t work: <a href=\"https://docs.spring.io/spring-boot/docs/2.0.3.RELEASE/gradle-plugin/reference/html/\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/2.0.3.RELEASE/gradle-plugin/&zwnj;&#8203;&hellip;</a>"},{"owner":{"account_id":5557760,"reputation":323,"user_id":4527149,"display_name":"CdVr"},"score":0,"creation_date":1629620911,"post_id":47288548,"comment_id":121730535,"body_markdown":"Thanks dude. I was unaware of this weird thing in IDE intellij IDEA. Its working when i running in docker container :)","body":"Thanks dude. I was unaware of this weird thing in IDE intellij IDEA. Its working when i running in docker container :)"}],"tags":[],"owner":{"account_id":290411,"reputation":1535,"user_id":6171247,"accept_rate":92,"display_name":"robbie70"},"comment_count":2,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1693171241,"creation_date":1510670629,"answer_id":47288548,"question_id":47283048,"body_markdown":"I managed to get it working now - using the help pointer that Vampire gave below and some other sources. The key was adding the actuator class to the project dependency. \r\nNote: Intellj doesn&#39;t seem to recognise buildInfo() in the springBoot tag - but it does run ok - so don&#39;t be put off.\r\n\r\n**build.gradle**\r\n\r\n```\r\nbuildscript {\r\n    ext {\r\n        springBootVersion = &#39;1.5.6.RELEASE&#39;\r\n        gradleVersion = &#39;3.3&#39;\r\n    }\r\n\r\n    repositories {\r\n        mavenLocal()\r\n        maven { url &quot;http://cft-nexus.ldn.xxxxxxxxx.com:8081/nexus/content/groups/public/&quot; }\r\n    }\r\n    dependencies {\r\n        classpath(&quot;org.springframework.boot:spring-boot-gradle-plugin:${springBootVersion}&quot;)\r\n    }\r\n}\r\n\r\napply plugin: &#39;application&#39;\r\napply plugin: &#39;java&#39;\r\napply plugin: &#39;eclipse&#39;\r\napply plugin: &#39;idea&#39;\r\napply plugin: &#39;org.springframework.boot&#39;\r\n\r\nversion = &#39;0.0.1-SNAPSHOT&#39;\r\nsourceCompatibility = 1.8\r\n\r\nspringBoot {\r\n    buildInfo {\r\n        additionalProperties = [&#39;foo&#39;: &#39;bar&#39;]\r\n    }\r\n}\r\n\r\ncompile &quot;org.springframework.boot:spring-boot-starter-actuator&quot;\r\n```\r\n\r\n\r\n**MyExampleApplication**\r\n\r\n    @Slf4j\r\n    @EnableIntegration\r\n    @EnableLoaderApplication\r\n    @SpringBootApplication\r\n    @EnableDiscoveryClient\r\n    public class MyExampleApplication implements CommandLineRunner {\r\n    \r\n    \tprivate static final String SYSTEM_NAME_INFO = &quot;My Example Application&quot;;\r\n    \tprivate static final String VERSION=&quot;0.0.1&quot;;\r\n    \r\n    \t@Autowired\r\n    \tprivate ApplicationContext context;\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(MyExampleApplication.class, args);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void run(String[] args) throws Exception{\r\n    \t\tBuildProperties buildProperties = context.getBean(BuildProperties.class);\r\n    \t\tdisplayInfo(buildProperties);\r\n    \t}\r\n    \r\n    \tprivate static void displayInfo(BuildProperties buildProperties) {\r\n    \t\tlog.info(&quot;build version is &lt;&quot; + buildProperties.getVersion() + &quot;&gt;&quot;);\r\n\t\tlog.info(&quot;value for custom key &#39;foo&#39; is &lt;&quot; + buildProperties.get(&quot;foo&quot;) + &quot;&gt;&quot;);\r\n    \t}\r\n    \r\n    }\r\n\r\n**Screenshot of Console output when running the Application in Intellj**\r\n[![Console Output when running the application is shown below][1]][1]\r\n\r\n*pasting the output as well incase the image doesn&#39;t display*\r\n\r\n    &gt; 2017-11-14 14:35:47.330  INFO 22448 --- [           main]\r\n    &gt; o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase\r\n    &gt; 2147483647 2017-11-14 14:35:47.448  INFO 22448 --- [           main]\r\n    &gt; s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s):\r\n    &gt; 8780 (http) 2017-11-14 14:35:47.451  INFO 22448 --- [           main]\r\n    &gt; c.u.o.metrics.MyExampleApplication         : build version is\r\n    &gt; &lt;0.0.1-SNAPSHOT&gt; 2017-11-14 14:35:47.451  INFO 22448 --- [          \r\n    &gt; main] c.u.o.myexample.MyExampleApplication         : value for custom key\r\n    &gt; &#39;foo&#39; is &lt;bar&gt;\r\n\r\n  [1]: https://i.stack.imgur.com/YWMjP.jpg\r\n\r\n**UPDATE**\r\n\r\nAfter reviewing this with my colleague we decided to move the some of the build properties, e.g. `version` (above) out of the `build.gradle` file and into `gradle.properties` file. This gives us a cleaner separation for build details and properties. When you run Gradle build it automatically pulls these values in and they are available in the BuildProperties bean in the Java main class as shown in the example above.\r\n\r\n**gradle.properties**\r\n\r\n    group=com.xxx.examplesource\r\n    version=0.0.1-SNAPSHOT \r\n    gradleVersion=3.3\r\n\r\n","title":"how to capture Build Info using Gradle and Spring Boot","body":"<p>I managed to get it working now - using the help pointer that Vampire gave below and some other sources. The key was adding the actuator class to the project dependency.\nNote: Intellj doesn't seem to recognise buildInfo() in the springBoot tag - but it does run ok - so don't be put off.</p>\n<p><strong>build.gradle</strong></p>\n<pre><code>buildscript {\n    ext {\n        springBootVersion = '1.5.6.RELEASE'\n        gradleVersion = '3.3'\n    }\n\n    repositories {\n        mavenLocal()\n        maven { url &quot;http://cft-nexus.ldn.xxxxxxxxx.com:8081/nexus/content/groups/public/&quot; }\n    }\n    dependencies {\n        classpath(&quot;org.springframework.boot:spring-boot-gradle-plugin:${springBootVersion}&quot;)\n    }\n}\n\napply plugin: 'application'\napply plugin: 'java'\napply plugin: 'eclipse'\napply plugin: 'idea'\napply plugin: 'org.springframework.boot'\n\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = 1.8\n\nspringBoot {\n    buildInfo {\n        additionalProperties = ['foo': 'bar']\n    }\n}\n\ncompile &quot;org.springframework.boot:spring-boot-starter-actuator&quot;\n</code></pre>\n<p><strong>MyExampleApplication</strong></p>\n<pre><code>@Slf4j\n@EnableIntegration\n@EnableLoaderApplication\n@SpringBootApplication\n@EnableDiscoveryClient\npublic class MyExampleApplication implements CommandLineRunner {\n\n    private static final String SYSTEM_NAME_INFO = &quot;My Example Application&quot;;\n    private static final String VERSION=&quot;0.0.1&quot;;\n\n    @Autowired\n    private ApplicationContext context;\n\n    public static void main(String[] args) {\n        SpringApplication.run(MyExampleApplication.class, args);\n    }\n\n    @Override\n    public void run(String[] args) throws Exception{\n        BuildProperties buildProperties = context.getBean(BuildProperties.class);\n        displayInfo(buildProperties);\n    }\n\n    private static void displayInfo(BuildProperties buildProperties) {\n        log.info(&quot;build version is &lt;&quot; + buildProperties.getVersion() + &quot;&gt;&quot;);\n    log.info(&quot;value for custom key 'foo' is &lt;&quot; + buildProperties.get(&quot;foo&quot;) + &quot;&gt;&quot;);\n    }\n\n}\n</code></pre>\n<p><strong>Screenshot of Console output when running the Application in Intellj</strong>\n<a href=\"https://i.stack.imgur.com/YWMjP.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YWMjP.jpg\" alt=\"Console Output when running the application is shown below\" /></a></p>\n<p><em>pasting the output as well incase the image doesn't display</em></p>\n<pre><code>&gt; 2017-11-14 14:35:47.330  INFO 22448 --- [           main]\n&gt; o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase\n&gt; 2147483647 2017-11-14 14:35:47.448  INFO 22448 --- [           main]\n&gt; s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s):\n&gt; 8780 (http) 2017-11-14 14:35:47.451  INFO 22448 --- [           main]\n&gt; c.u.o.metrics.MyExampleApplication         : build version is\n&gt; &lt;0.0.1-SNAPSHOT&gt; 2017-11-14 14:35:47.451  INFO 22448 --- [          \n&gt; main] c.u.o.myexample.MyExampleApplication         : value for custom key\n&gt; 'foo' is &lt;bar&gt;\n</code></pre>\n<p><strong>UPDATE</strong></p>\n<p>After reviewing this with my colleague we decided to move the some of the build properties, e.g. <code>version</code> (above) out of the <code>build.gradle</code> file and into <code>gradle.properties</code> file. This gives us a cleaner separation for build details and properties. When you run Gradle build it automatically pulls these values in and they are available in the BuildProperties bean in the Java main class as shown in the example above.</p>\n<p><strong>gradle.properties</strong></p>\n<pre><code>group=com.xxx.examplesource\nversion=0.0.1-SNAPSHOT \ngradleVersion=3.3\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1544792,"reputation":124,"user_id":1438576,"display_name":"runderworld"},"score":3,"creation_date":1588983437,"post_id":55813544,"comment_id":109120146,"body_markdown":"Probably easier just to leverage the built-in Spring Boot &#39;info&#39; Actuator (`/actuator/info`)  after calling `buildInfo` in the gradle build, rather than rolling your own controller method","body":"Probably easier just to leverage the built-in Spring Boot &#39;info&#39; Actuator (<code>&#47;actuator&#47;info</code>)  after calling <code>buildInfo</code> in the gradle build, rather than rolling your own controller method"},{"owner":{"account_id":5449054,"reputation":1020,"user_id":4334502,"accept_rate":30,"display_name":"ever alian"},"score":0,"creation_date":1622529997,"post_id":55813544,"comment_id":119810940,"body_markdown":"@runderworld   How can this be done for springboot war file deployed in a standalone tomcat?","body":"@runderworld   How can this be done for springboot war file deployed in a standalone tomcat?"}],"tags":[],"owner":{"account_id":7441196,"reputation":77,"user_id":5658941,"display_name":"Vytautas"},"comment_count":2,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1556029856,"creation_date":1556029856,"answer_id":55813544,"question_id":47283048,"body_markdown":"Easy way to get version number in Spring boot\r\n\r\n    @Controller\r\n    @RequestMapping(&quot;/api&quot;)\r\n    public class WebController {\r\n    \r\n    private final BuildProperties buildProperties;\r\n    \r\n    public WebController(BuildProperties properties) {\r\n        buildProperties = properties;\r\n    }\r\n    \r\n    @GetMapping(&quot;/test&quot;)\r\n    public String index() {\r\n    \r\n        System.out.println(buildProperties.getVersion());\r\n        System.out.println(buildProperties.getArtifact());\r\n        System.out.println(buildProperties.getGroup());\r\n        System.out.println(buildProperties.getName());\r\n        System.out.println(buildProperties.getTime());\r\n    \r\n        return &quot;index&quot;;\r\n    }\r\n    }\r\n\r\nAnd dont forget generate application-build.properties\r\n    \r\n    springBoot {\r\n        buildInfo()\r\n    }","title":"how to capture Build Info using Gradle and Spring Boot","body":"<p>Easy way to get version number in Spring boot</p>\n\n<pre><code>@Controller\n@RequestMapping(\"/api\")\npublic class WebController {\n\nprivate final BuildProperties buildProperties;\n\npublic WebController(BuildProperties properties) {\n    buildProperties = properties;\n}\n\n@GetMapping(\"/test\")\npublic String index() {\n\n    System.out.println(buildProperties.getVersion());\n    System.out.println(buildProperties.getArtifact());\n    System.out.println(buildProperties.getGroup());\n    System.out.println(buildProperties.getName());\n    System.out.println(buildProperties.getTime());\n\n    return \"index\";\n}\n}\n</code></pre>\n\n<p>And dont forget generate application-build.properties</p>\n\n<pre><code>springBoot {\n    buildInfo()\n}\n</code></pre>\n"}],"owner":{"account_id":290411,"reputation":1535,"user_id":6171247,"accept_rate":92,"display_name":"robbie70"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23046,"favorite_count":0,"down_vote_count":1,"up_vote_count":8,"accepted_answer_id":47286237,"answer_count":4,"score":7,"last_activity_date":1693171241,"creation_date":1510654533,"question_id":47283048,"body_markdown":"I am trying to get access to build info values such as `version` in my Java main application using Spring Boot and Gradle.\r\n\r\nI can&#39;t find any documentation / examples of how to configure the \r\n\r\n- `build.gradle`\r\n- `application.yml` (if required)\r\n- `Java main class`\r\n\r\ncould someone please help with a small code example for the above files.\r\n\r\nIn my `build.gradle` file I will have the `version` entry, so how to get this into Java main class using Spring Boot and Gradle.\r\n\r\nbuild.gradle\r\n-----------------\r\n\r\n    version=0.0.1-SNAPSHOT\r\n\r\nI&#39;ve tried adding\r\n\r\nbuild.gradle\r\n------------\r\n\r\n    apply plugin: &#39;org.springframework.boot&#39;\r\n    \r\n    springBoot {    \r\n        buildInfo() \r\n    }\r\n\r\nbut the `buildInfo()` isn&#39;t recognised as a keyword in Intellij\r\n\r\nIn my Java main class I have the following:\r\n\r\n    public class MyExampleApplication implements CommandLineRunner {\r\n      \t@Autowired\r\n    \tprivate ApplicationContext context;\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(MyExampleApplication.class, args);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void run(String[] args) throws Exception{\r\n    \t\tEnvironment env = (Environment) context.getBean(&quot;environment&quot;);\r\n    \t\tdisplayInfo(env);\r\n    \t}\r\n    \r\n        private static void displayInfo(Environment env) {\r\n           log.info(&quot;build version is &lt;&quot; + env.getProperty(&quot;version&quot;)     \r\n        }\r\n\r\nBut when I run this - the output from `env.getProperty(&quot;version&quot;)` is showing as `null`.","title":"how to capture Build Info using Gradle and Spring Boot","body":"<p>I am trying to get access to build info values such as <code>version</code> in my Java main application using Spring Boot and Gradle.</p>\n\n<p>I can't find any documentation / examples of how to configure the </p>\n\n<ul>\n<li><code>build.gradle</code></li>\n<li><code>application.yml</code> (if required)</li>\n<li><code>Java main class</code></li>\n</ul>\n\n<p>could someone please help with a small code example for the above files.</p>\n\n<p>In my <code>build.gradle</code> file I will have the <code>version</code> entry, so how to get this into Java main class using Spring Boot and Gradle.</p>\n\n<h2>build.gradle</h2>\n\n<pre><code>version=0.0.1-SNAPSHOT\n</code></pre>\n\n<p>I've tried adding</p>\n\n<h2>build.gradle</h2>\n\n<pre><code>apply plugin: 'org.springframework.boot'\n\nspringBoot {    \n    buildInfo() \n}\n</code></pre>\n\n<p>but the <code>buildInfo()</code> isn't recognised as a keyword in Intellij</p>\n\n<p>In my Java main class I have the following:</p>\n\n<pre><code>public class MyExampleApplication implements CommandLineRunner {\n    @Autowired\n    private ApplicationContext context;\n\n    public static void main(String[] args) {\n        SpringApplication.run(MyExampleApplication.class, args);\n    }\n\n    @Override\n    public void run(String[] args) throws Exception{\n        Environment env = (Environment) context.getBean(\"environment\");\n        displayInfo(env);\n    }\n\n    private static void displayInfo(Environment env) {\n       log.info(\"build version is &lt;\" + env.getProperty(\"version\")     \n    }\n</code></pre>\n\n<p>But when I run this - the output from <code>env.getProperty(\"version\")</code> is showing as <code>null</code>.</p>\n"},{"tags":["java","httpurlconnection","socketexception","bufferedoutputstream"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1693180553,"post_id":76989000,"comment_id":135722000,"body_markdown":"You could try it with fixed length streaming mode, but I suspect the file is too large for the server so it is closing the connection.","body":"You could try it with fixed length streaming mode, but I suspect the file is too large for the server so it is closing the connection."},{"owner":{"account_id":29310460,"reputation":1,"user_id":22456378,"display_name":"Mysterium57632"},"score":0,"creation_date":1693303376,"post_id":76989000,"comment_id":135739689,"body_markdown":"@user207421 I have already tried this, and the result is the same as when using setChunkedStreamingMode. When using smaller files, I am still unable to read the response code. So, the problem remains. I don&#39;t think it has anything to do with the file size. The server sends a response with exchange.sendResponseHeaders and an error code like 403 before it even starts reading the uploaded file. However, I am unable to read the response code.","body":"@user207421 I have already tried this, and the result is the same as when using setChunkedStreamingMode. When using smaller files, I am still unable to read the response code. So, the problem remains. I don&#39;t think it has anything to do with the file size. The server sends a response with exchange.sendResponseHeaders and an error code like 403 before it even starts reading the uploaded file. However, I am unable to read the response code."}],"owner":{"account_id":29310460,"reputation":1,"user_id":22456378,"display_name":"Mysterium57632"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693171068,"creation_date":1693171068,"question_id":76989000,"body_markdown":"I want to upload a file to a web server. To avoid getting an OutOfMemory error on large files, I added the `connection.setChunkedStreamingMode(2048);` method. This works fine when the server responds with a response code of 200. However, when the server responds with an error code like 403 (Access denied), the `connection.getResponseCode();` method throws an SocketException, and I am unable to retrieve the response code. The same error is thrown when I try to use `connection.getHeaderField(key);`.\r\n\r\n\r\n**My code:**\r\n```\r\n    private void uploadTest(File src) {\r\n        try {\r\n            URL url = new URL(&quot;https://localhost:42019/upload&quot;);\r\n            HttpURLConnection connection = (HttpsURLConnection) url.openConnection();\r\n            connection.setRequestMethod(&quot;POST&quot;);\r\n            connection.addRequestProperty(&quot;filename&quot;, &quot;uploadedFile.txt&quot;);\r\n            connection.setRequestProperty(&quot;connection&quot;, &quot;Keep-Alive&quot;);\r\n            connection.setDoOutput(true);\r\n\r\n            connection.setChunkedStreamingMode(2048);\r\n\r\n            try (FileInputStream fis = new FileInputStream(src);\r\n                 BufferedOutputStream bos = new BufferedOutputStream(connection.getOutputStream())) {\r\n                byte[] buffer = new byte[2048];\r\n                int count;\r\n                while ((count = fis.read(buffer)) != -1) {\r\n                    bos.write(buffer, 0, count);\r\n                }\r\n                bos.flush();\r\n            } catch (IOException ignored) {}\r\n\r\n            responseCode = connection.getResponseCode();\r\n            readRCode(connection);\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n```\r\n\r\n**The error:**\r\n\r\n```\r\njava.net.SocketException: Connection reset\r\n\tat java.base/sun.nio.ch.NioSocketImpl.implRead(NioSocketImpl.java:323)\r\n\tat java.base/sun.nio.ch.NioSocketImpl.read(NioSocketImpl.java:350)\r\n\tat java.base/sun.nio.ch.NioSocketImpl$1.read(NioSocketImpl.java:803)\r\n\tat java.base/java.net.Socket$SocketInputStream.read(Socket.java:976)\r\n\tat java.base/sun.security.ssl.SSLSocketInputRecord.read(SSLSocketInputRecord.java:478)\r\n\tat java.base/sun.security.ssl.SSLSocketInputRecord.readHeader(SSLSocketInputRecord.java:472)\r\n\tat java.base/sun.security.ssl.SSLSocketInputRecord.bytesInCompletePacket(SSLSocketInputRecord.java:70)\r\n\tat java.base/sun.security.ssl.SSLSocketImpl.readApplicationRecord(SSLSocketImpl.java:1460)\r\n\tat java.base/sun.security.ssl.SSLSocketImpl$AppInputStream.read(SSLSocketImpl.java:1064)\r\n\tat java.base/java.io.BufferedInputStream.fill(BufferedInputStream.java:244)\r\n\tat java.base/java.io.BufferedInputStream.read1(BufferedInputStream.java:284)\r\n\tat java.base/java.io.BufferedInputStream.read(BufferedInputStream.java:343)\r\n\tat java.base/sun.net.www.http.HttpClient.parseHTTPHeader(HttpClient.java:824)\r\n\tat java.base/sun.net.www.http.HttpClient.parseHTTP(HttpClient.java:759)\r\n\tat java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1691)\r\n\tat java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1592)\r\n\tat java.base/java.net.HttpURLConnection.getResponseCode(HttpURLConnection.java:529)\r\n\tat java.base/sun.net.www.protocol.https.HttpsURLConnectionImpl.getResponseCode(HttpsURLConnectionImpl.java:308)\r\n\tat de.paull.cloud.Request.uploadTest(Request.java:53)\r\n\tat de.paull.cloud.Request.main(Request.java:397)\r\n```\r\n\r\n\r\n\r\nI tried removing the `connection.setChunkedStreamingMode(2048);` line, and now I am able to read the response code and the response headers. However, when I attempt to upload a large file, I encounter a `java.lang.OutOfMemoryError: Java heap space` error again.\r\n\r\nI don&#39;t want to switch to another library because I&#39;ve built my entire project using HttpsURLConnection.","title":"Unable to read the HttpURLConnection.responseCode when HttpURLConnection.setChunkedStreamingMode is enabled","body":"<p>I want to upload a file to a web server. To avoid getting an OutOfMemory error on large files, I added the <code>connection.setChunkedStreamingMode(2048);</code> method. This works fine when the server responds with a response code of 200. However, when the server responds with an error code like 403 (Access denied), the <code>connection.getResponseCode();</code> method throws an SocketException, and I am unable to retrieve the response code. The same error is thrown when I try to use <code>connection.getHeaderField(key);</code>.</p>\n<p><strong>My code:</strong></p>\n<pre><code>    private void uploadTest(File src) {\n        try {\n            URL url = new URL(&quot;https://localhost:42019/upload&quot;);\n            HttpURLConnection connection = (HttpsURLConnection) url.openConnection();\n            connection.setRequestMethod(&quot;POST&quot;);\n            connection.addRequestProperty(&quot;filename&quot;, &quot;uploadedFile.txt&quot;);\n            connection.setRequestProperty(&quot;connection&quot;, &quot;Keep-Alive&quot;);\n            connection.setDoOutput(true);\n\n            connection.setChunkedStreamingMode(2048);\n\n            try (FileInputStream fis = new FileInputStream(src);\n                 BufferedOutputStream bos = new BufferedOutputStream(connection.getOutputStream())) {\n                byte[] buffer = new byte[2048];\n                int count;\n                while ((count = fis.read(buffer)) != -1) {\n                    bos.write(buffer, 0, count);\n                }\n                bos.flush();\n            } catch (IOException ignored) {}\n\n            responseCode = connection.getResponseCode();\n            readRCode(connection);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<p><strong>The error:</strong></p>\n<pre><code>java.net.SocketException: Connection reset\n    at java.base/sun.nio.ch.NioSocketImpl.implRead(NioSocketImpl.java:323)\n    at java.base/sun.nio.ch.NioSocketImpl.read(NioSocketImpl.java:350)\n    at java.base/sun.nio.ch.NioSocketImpl$1.read(NioSocketImpl.java:803)\n    at java.base/java.net.Socket$SocketInputStream.read(Socket.java:976)\n    at java.base/sun.security.ssl.SSLSocketInputRecord.read(SSLSocketInputRecord.java:478)\n    at java.base/sun.security.ssl.SSLSocketInputRecord.readHeader(SSLSocketInputRecord.java:472)\n    at java.base/sun.security.ssl.SSLSocketInputRecord.bytesInCompletePacket(SSLSocketInputRecord.java:70)\n    at java.base/sun.security.ssl.SSLSocketImpl.readApplicationRecord(SSLSocketImpl.java:1460)\n    at java.base/sun.security.ssl.SSLSocketImpl$AppInputStream.read(SSLSocketImpl.java:1064)\n    at java.base/java.io.BufferedInputStream.fill(BufferedInputStream.java:244)\n    at java.base/java.io.BufferedInputStream.read1(BufferedInputStream.java:284)\n    at java.base/java.io.BufferedInputStream.read(BufferedInputStream.java:343)\n    at java.base/sun.net.www.http.HttpClient.parseHTTPHeader(HttpClient.java:824)\n    at java.base/sun.net.www.http.HttpClient.parseHTTP(HttpClient.java:759)\n    at java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1691)\n    at java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1592)\n    at java.base/java.net.HttpURLConnection.getResponseCode(HttpURLConnection.java:529)\n    at java.base/sun.net.www.protocol.https.HttpsURLConnectionImpl.getResponseCode(HttpsURLConnectionImpl.java:308)\n    at de.paull.cloud.Request.uploadTest(Request.java:53)\n    at de.paull.cloud.Request.main(Request.java:397)\n</code></pre>\n<p>I tried removing the <code>connection.setChunkedStreamingMode(2048);</code> line, and now I am able to read the response code and the response headers. However, when I attempt to upload a large file, I encounter a <code>java.lang.OutOfMemoryError: Java heap space</code> error again.</p>\n<p>I don't want to switch to another library because I've built my entire project using HttpsURLConnection.</p>\n"},{"tags":["java","spring","maven","dependencies"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1590139973,"post_id":61951870,"comment_id":109572829,"body_markdown":"Please add full log output + JDK version and Maven version?","body":"Please add full log output + JDK version and Maven version?"},{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1590140035,"post_id":61951870,"comment_id":109572854,"body_markdown":"The artifact `com.shopizer:shopizer:pom:2.10.0` cannot be found. So, did you configure the right repository for this artifact?","body":"The artifact <code>com.shopizer:shopizer:pom:2.10.0</code> cannot be found. So, did you configure the right repository for this artifact?"},{"owner":{"account_id":13031664,"reputation":1971,"user_id":9417843,"display_name":"zlaval"},"score":0,"creation_date":1590141819,"post_id":61951870,"comment_id":109573824,"body_markdown":"Try to find the parent pom dependency on\nhttps://oss.sonatype.org\nbut could not find there.\nYou should check, and add the correct reposties.","body":"Try to find the parent pom dependency on <a href=\"https://oss.sonatype.org\" rel=\"nofollow noreferrer\">oss.sonatype.org</a> but could not find there. You should check, and add the correct reposties."}],"answers":[{"tags":[],"owner":{"account_id":9564131,"reputation":21,"user_id":7103948,"display_name":"Mohit Chaudhary"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1606497284,"creation_date":1606497284,"answer_id":65041272,"question_id":61951870,"body_markdown":"Remove canadapost-module from dependencies.","title":"MAVEN :- Could not resolve dependencies for project","body":"<p>Remove canadapost-module from dependencies.</p>\n"}],"owner":{"account_id":18652119,"reputation":1,"user_id":13595345,"display_name":"Ajaytime"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3411,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693168796,"creation_date":1590139763,"question_id":61951870,"body_markdown":"I hope some one facing the same issue to resolving the dependencies. `POM.xml` file mentioned below\r\n\r\n  \r\n\r\n    &lt;?xml version=&quot;1.0&quot;?&gt;\r\n    &lt;project xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;\r\n             xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; \r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;com.shopizer&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;habbit&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.12.0&lt;/version&gt;\r\n\t&lt;/parent&gt;\r\n\r\n\t&lt;artifactId&gt;habbit-core&lt;/artifactId&gt;\r\n\t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n\t&lt;name&gt;habbit-core&lt;/name&gt;\r\n\t&lt;url&gt;http://www.shopizer.com&lt;/url&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;coverage.lines&gt;.00&lt;/coverage.lines&gt;\r\n\t\t&lt;coverage.branches&gt;.00&lt;/coverage.branches&gt;\r\n\t\t&lt;google-client-maps-services-version&gt;0.1.6&lt;/google-client-maps-services-version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\r\n\t\t&lt;!-- jpa, crud repository --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.hibernate/hibernate-ehcache --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hibernate-ehcache&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- sm-core-model --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.shopizer&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;habbit-core-model&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- sm-core-modules --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.shopizer&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;habbit-core-modules&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- canadapost --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.shopizer&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;shopizer-shipping-canadapost-module&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${shopizer-canadapost.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- Google Map API --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.maps&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;google-maps-services&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.kie&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;kie-ci&lt;/artifactId&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.drools&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;drools-decisiontables&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.drools&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;drools-core&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.drools&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;drools-compiler&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!--spring integration --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.kie&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;kie-spring&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- end rules engine --&gt;\r\n\r\n\t\t&lt;!-- Infinispan --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.infinispan&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;infinispan-core&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.infinispan&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;infinispan-tree&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.apache.commons/commons-collections4 --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-collections4&lt;/artifactId&gt;\r\n\t\t\t&lt;!--&lt;version&gt;${commons-collections4.version}&lt;/version&gt; --&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/commons-validator/commons-validator --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;commons-validator&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-validator&lt;/artifactId&gt;\r\n\t\t\t&lt;!--&lt;version&gt;${commons-validator.version}&lt;/version&gt; --&gt;\r\n\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;commons-collections&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;commons-collections&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.freemarker/freemarker --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.freemarker&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;freemarker&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-context-support --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-context-support&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.apache.httpcomponents/httpclient --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;httpclient&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/com.amazonaws/aws-java-sdk-s3 --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;aws-java-sdk-s3&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/com.amazonaws/aws-java-sdk-ses --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;aws-java-sdk-ses&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- google cloud storage --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;google-cloud-storage&lt;/artifactId&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t\t&lt;!-- Payment dependencies --&gt;\r\n\r\n\t\t&lt;!-- Paypal --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.paypal.sdk&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;merchantsdk&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- Stripe --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.stripe&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;stripe-java&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- Braintree --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.braintreepayments.gateway&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;braintree-java&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t\t&lt;!-- Invoices --&gt;\r\n\t\t&lt;!-- &lt;dependency&gt; &lt;groupId&gt;com.itextpdf&lt;/groupId&gt; &lt;artifactId&gt;itextpdf&lt;/artifactId&gt; \r\n\t\t\t&lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.jopendocument&lt;/groupId&gt; &lt;artifactId&gt;jOpenDocument&lt;/artifactId&gt; \r\n\t\t\t&lt;/dependency&gt; --&gt;\r\n\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/com.maxmind.geoip2/geoip2 --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.maxmind.geoip2&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;geoip2&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- google cloud storage --&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/com.google.guava/guava --&gt;\r\n\t\t&lt;!-- Up to date for GCP storage issue --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- tests dependencies --&gt;\r\n\t\t&lt;!-- http://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-test --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- H2 DB --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- Elastic search --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.elasticsearch&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;elasticsearch&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.shopizer&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;sm-search&lt;/artifactId&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.elasticsearch&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;elasticsearch&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\r\n&lt;/project&gt;\r\n\r\nwhen I run command mvn clean install:-\r\n\r\n    [INFO] Scanning for projects...\r\n    [INFO] Inspecting build with total of 6 modules...\r\n    [INFO] Installing Nexus Staging features:\r\n    [INFO]   ... total of 6 executions of maven-deploy-plugin replaced with nexus-staging-maven-plugin\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Reactor Build Order:\r\n    [INFO]\r\n    [INFO] habbit                                                             [pom]\r\n    [INFO] habbit-core-model                                                  [jar]\r\n    [INFO] habbit-core-modules                                                [jar]\r\n    [INFO] habbit-core                                                        [jar]\r\n    [INFO] habbit-shop-model                                                  [jar]\r\n    [INFO] habbit-shop                                                        [jar]\r\n    [INFO]\r\n    [INFO] ------------------------&lt; com.shopizer:habbit &gt;-------------------------\r\n    [INFO] Building habbit 2.12.0                                             [1/6]\r\n    [INFO] --------------------------------[ pom ]---------------------------------\r\n    [INFO]\r\n    [INFO] --- maven-clean-plugin:3.1.0:clean (default-clean) @ habbit ---\r\n    [INFO]\r\n    [INFO] --- jacoco-maven-plugin:0.8.3:prepare-agent (default-prepare-agent) @ habbit ---\r\n    [INFO] argLine set to -javaagent:C:\\\\Users\\\\Hp\\\\.m2\\\\repository\\\\org\\\\jacoco\\\\org.jacoco.agent\\\\0.8.3\\\\org.jacoco.agent-0.8.3-runtime.jar=destfile=D:\\\\myProject\\\\h\r\n    abbit\\\\target\\\\jacoco.exec\r\n    [INFO]\r\n    [INFO] -------------------&lt; com.shopizer:habbit-core-model &gt;-------------------\r\n    [INFO] Building habbit-core-model 2.12.0                                  [2/6]\r\n    [INFO] --------------------------------[ jar ]---------------------------------\r\n    [INFO]\r\n    [INFO] --- maven-clean-plugin:3.1.0:clean (default-clean) @ habbit-core-model ---\r\n    [INFO] Deleting D:\\myProject\\habbit\\habbit-core-model\\target\r\n    [INFO]\r\n    [INFO] --- jacoco-maven-plugin:0.8.3:prepare-agent (default-prepare-agent) @ habbit-core-model ---\r\n    [INFO] argLine set to -javaagent:C:\\\\Users\\\\Hp\\\\.m2\\\\repository\\\\org\\\\jacoco\\\\org.jacoco.agent\\\\0.8.3\\\\org.jacoco.agent-0.8.3-runtime.jar=destfile=D:\\\\myProject\\\\h\r\n    abbit\\\\habbit-core-model\\\\target\\\\jacoco.exec\r\n    [INFO]\r\n    [INFO] --- maven-resources-plugin:3.1.0:resources (default-resources) @ habbit-core-model ---\r\n    [INFO] Using &#39;UTF-8&#39; encoding to copy filtered resources.\r\n    [INFO] skip non existing resourceDirectory D:\\myProject\\habbit\\habbit-core-model\\src\\main\\resources\r\n    [INFO] skip non existing resourceDirectory D:\\myProject\\habbit\\habbit-core-model\\src\\main\\resources\r\n    [INFO]\r\n    [INFO] --- maven-compiler-plugin:3.5.1:compile (default-compile) @ habbit-core-model ---\r\n    [INFO] Changes detected - recompiling the module!\r\n    [INFO] Compiling 182 source files to D:\\myProject\\habbit\\habbit-core-model\\target\\classes\r\n    [INFO]\r\n    [INFO] ------------------&lt; com.shopizer:habbit-core-modules &gt;------------------\r\n    [INFO] Building habbit-core-modules 2.12.0                                [3/6]\r\n    [INFO] --------------------------------[ jar ]---------------------------------\r\n    [INFO]\r\n    [INFO] --- maven-clean-plugin:3.1.0:clean (default-clean) @ habbit-core-modules ---\r\n    [INFO] Deleting D:\\myProject\\habbit\\habbit-core-modules\\target\r\n    [INFO]\r\n    [INFO] --- jacoco-maven-plugin:0.8.3:prepare-agent (default-prepare-agent) @ habbit-core-modules ---\r\n    [INFO] argLine set to -javaagent:C:\\\\Users\\\\Hp\\\\.m2\\\\repository\\\\org\\\\jacoco\\\\org.jacoco.agent\\\\0.8.3\\\\org.jacoco.agent-0.8.3-runtime.jar=destfile=D:\\\\myProject\\\\h\r\n    abbit\\\\habbit-core-modules\\\\target\\\\jacoco.exec\r\n    [INFO]\r\n    [INFO] --- maven-resources-plugin:3.1.0:resources (default-resources) @ habbit-core-modules ---\r\n    [INFO] Using &#39;UTF-8&#39; encoding to copy filtered resources.\r\n    [INFO] skip non existing resourceDirectory D:\\myProject\\habbit\\habbit-core-modules\\src\\main\\resources\r\n    [INFO] skip non existing resourceDirectory D:\\myProject\\habbit\\habbit-core-modules\\src\\main\\resources\r\n    [INFO]\r\n    [INFO] --- maven-compiler-plugin:3.5.1:compile (default-compile) @ habbit-core-modules ---\r\n    [INFO] Changes detected - recompiling the module!\r\n    [INFO] Compiling 14 source files to D:\\myProject\\habbit\\habbit-core-modules\\target\\classes\r\n    [INFO]\r\n    [INFO] ----------------------&lt; com.shopizer:habbit-core &gt;----------------------\r\n    [INFO] Building habbit-core 2.12.0                                        [4/6]\r\n    [INFO] --------------------------------[ jar ]---------------------------------\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Reactor Summary for habbit 2.12.0:\r\n    [INFO]\r\n    [INFO] habbit ............................................. SUCCESS [  2.919 s]\r\n    [INFO] habbit-core-model .................................. SUCCESS [ 14.010 s]\r\n    [INFO] habbit-core-modules ................................ SUCCESS [  2.125 s]\r\n    [INFO] habbit-core ........................................ FAILURE [  2.078 s]\r\n    [INFO] habbit-shop-model .................................. SKIPPED\r\n    [INFO] habbit-shop ........................................ SKIPPED\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time:  24.245 s\r\n    [INFO] Finished at: 2020-05-22T15:12:57+05:30\r\n    [INFO] ------------------------------------------------------------------------\r\n    [ERROR] Failed to execute goal on project habbit-core: Could not resolve dependencies for project com.shopizer:habbit-core:jar:2.12.0: Failed to collect dependenci\r\n    es at com.shopizer:shopizer-shipping-canadapost-module:jar:2.11.0 -&gt; com.shopizer:sm-core-model:jar:2.10.0: Failed to read artifact descriptor for com.shopizer:sm-\r\n    core-model:jar:2.10.0: Failure to find com.shopizer:shopizer:pom:2.10.0 in https://oss.sonatype.org/content/repositories/snapshots/ was cached in the local reposit\r\n    ory, resolution will not be reattempted until the update interval of oss-sonatype has elapsed or updates are forced -&gt; [Help 1]\r\n    [ERROR]\r\n    [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n    [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n    [ERROR]\r\n    [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n    [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/DependencyResolutionException\r\n    [ERROR]\r\n    [ERROR] After correcting the problems, you can resume the build with the command\r\n    [ERROR]   mvn &lt;args&gt; -rf :habbit-core\r\n\r\n\r\n\r\n\r\n\r\n","title":"MAVEN :- Could not resolve dependencies for project","body":"<p>I hope some one facing the same issue to resolving the dependencies. <code>POM.xml</code> file mentioned below</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot;?&gt;\n&lt;project xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;\n         xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; \n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n&lt;parent&gt;\n    &lt;groupId&gt;com.shopizer&lt;/groupId&gt;\n    &lt;artifactId&gt;habbit&lt;/artifactId&gt;\n    &lt;version&gt;2.12.0&lt;/version&gt;\n&lt;/parent&gt;\n\n&lt;artifactId&gt;habbit-core&lt;/artifactId&gt;\n&lt;packaging&gt;jar&lt;/packaging&gt;\n\n&lt;name&gt;habbit-core&lt;/name&gt;\n&lt;url&gt;http://www.shopizer.com&lt;/url&gt;\n\n&lt;properties&gt;\n    &lt;coverage.lines&gt;.00&lt;/coverage.lines&gt;\n    &lt;coverage.branches&gt;.00&lt;/coverage.branches&gt;\n    &lt;google-client-maps-services-version&gt;0.1.6&lt;/google-client-maps-services-version&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n\n    &lt;!-- jpa, crud repository --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n\n    &lt;!-- https://mvnrepository.com/artifact/org.hibernate/hibernate-ehcache --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-ehcache&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- sm-core-model --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.shopizer&lt;/groupId&gt;\n        &lt;artifactId&gt;habbit-core-model&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- sm-core-modules --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.shopizer&lt;/groupId&gt;\n        &lt;artifactId&gt;habbit-core-modules&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- canadapost --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.shopizer&lt;/groupId&gt;\n        &lt;artifactId&gt;shopizer-shipping-canadapost-module&lt;/artifactId&gt;\n        &lt;version&gt;${shopizer-canadapost.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Google Map API --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.maps&lt;/groupId&gt;\n        &lt;artifactId&gt;google-maps-services&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.kie&lt;/groupId&gt;\n        &lt;artifactId&gt;kie-ci&lt;/artifactId&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n                &lt;artifactId&gt;guava&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.drools&lt;/groupId&gt;\n        &lt;artifactId&gt;drools-decisiontables&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.drools&lt;/groupId&gt;\n        &lt;artifactId&gt;drools-core&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.drools&lt;/groupId&gt;\n        &lt;artifactId&gt;drools-compiler&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;!--spring integration --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.kie&lt;/groupId&gt;\n        &lt;artifactId&gt;kie-spring&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;!-- end rules engine --&gt;\n\n    &lt;!-- Infinispan --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.infinispan&lt;/groupId&gt;\n        &lt;artifactId&gt;infinispan-core&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.infinispan&lt;/groupId&gt;\n        &lt;artifactId&gt;infinispan-tree&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/org.apache.commons/commons-collections4 --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-collections4&lt;/artifactId&gt;\n        &lt;!--&lt;version&gt;${commons-collections4.version}&lt;/version&gt; --&gt;\n    &lt;/dependency&gt;\n\n\n    &lt;!-- https://mvnrepository.com/artifact/commons-validator/commons-validator --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-validator&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-validator&lt;/artifactId&gt;\n        &lt;!--&lt;version&gt;${commons-validator.version}&lt;/version&gt; --&gt;\n\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;commons-collections&lt;/groupId&gt;\n                &lt;artifactId&gt;commons-collections&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n\n\n    &lt;!-- https://mvnrepository.com/artifact/org.freemarker/freemarker --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.freemarker&lt;/groupId&gt;\n        &lt;artifactId&gt;freemarker&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-context-support --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-context-support&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/org.apache.httpcomponents/httpclient --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n        &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/com.amazonaws/aws-java-sdk-s3 --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n        &lt;artifactId&gt;aws-java-sdk-s3&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/com.amazonaws/aws-java-sdk-ses --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n        &lt;artifactId&gt;aws-java-sdk-ses&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- google cloud storage --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;google-cloud-storage&lt;/artifactId&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n                &lt;artifactId&gt;guava&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n\n\n    &lt;!-- Payment dependencies --&gt;\n\n    &lt;!-- Paypal --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.paypal.sdk&lt;/groupId&gt;\n        &lt;artifactId&gt;merchantsdk&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Stripe --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.stripe&lt;/groupId&gt;\n        &lt;artifactId&gt;stripe-java&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Braintree --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.braintreepayments.gateway&lt;/groupId&gt;\n        &lt;artifactId&gt;braintree-java&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n\n    &lt;!-- Invoices --&gt;\n    &lt;!-- &lt;dependency&gt; &lt;groupId&gt;com.itextpdf&lt;/groupId&gt; &lt;artifactId&gt;itextpdf&lt;/artifactId&gt; \n        &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.jopendocument&lt;/groupId&gt; &lt;artifactId&gt;jOpenDocument&lt;/artifactId&gt; \n        &lt;/dependency&gt; --&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/com.maxmind.geoip2/geoip2 --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.maxmind.geoip2&lt;/groupId&gt;\n        &lt;artifactId&gt;geoip2&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- google cloud storage --&gt;\n    &lt;!-- https://mvnrepository.com/artifact/com.google.guava/guava --&gt;\n    &lt;!-- Up to date for GCP storage issue --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n        &lt;artifactId&gt;guava&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- tests dependencies --&gt;\n    &lt;!-- http://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-test --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;!-- H2 DB --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n        &lt;artifactId&gt;h2&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Elastic search --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.elasticsearch&lt;/groupId&gt;\n        &lt;artifactId&gt;elasticsearch&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.shopizer&lt;/groupId&gt;\n        &lt;artifactId&gt;sm-search&lt;/artifactId&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;org.elasticsearch&lt;/groupId&gt;\n                &lt;artifactId&gt;elasticsearch&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n                &lt;artifactId&gt;guava&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n\n<p>when I run command mvn clean install:-</p>\n<pre><code>[INFO] Scanning for projects...\n[INFO] Inspecting build with total of 6 modules...\n[INFO] Installing Nexus Staging features:\n[INFO]   ... total of 6 executions of maven-deploy-plugin replaced with nexus-staging-maven-plugin\n[INFO] ------------------------------------------------------------------------\n[INFO] Reactor Build Order:\n[INFO]\n[INFO] habbit                                                             [pom]\n[INFO] habbit-core-model                                                  [jar]\n[INFO] habbit-core-modules                                                [jar]\n[INFO] habbit-core                                                        [jar]\n[INFO] habbit-shop-model                                                  [jar]\n[INFO] habbit-shop                                                        [jar]\n[INFO]\n[INFO] ------------------------&lt; com.shopizer:habbit &gt;-------------------------\n[INFO] Building habbit 2.12.0                                             [1/6]\n[INFO] --------------------------------[ pom ]---------------------------------\n[INFO]\n[INFO] --- maven-clean-plugin:3.1.0:clean (default-clean) @ habbit ---\n[INFO]\n[INFO] --- jacoco-maven-plugin:0.8.3:prepare-agent (default-prepare-agent) @ habbit ---\n[INFO] argLine set to -javaagent:C:\\\\Users\\\\Hp\\\\.m2\\\\repository\\\\org\\\\jacoco\\\\org.jacoco.agent\\\\0.8.3\\\\org.jacoco.agent-0.8.3-runtime.jar=destfile=D:\\\\myProject\\\\h\nabbit\\\\target\\\\jacoco.exec\n[INFO]\n[INFO] -------------------&lt; com.shopizer:habbit-core-model &gt;-------------------\n[INFO] Building habbit-core-model 2.12.0                                  [2/6]\n[INFO] --------------------------------[ jar ]---------------------------------\n[INFO]\n[INFO] --- maven-clean-plugin:3.1.0:clean (default-clean) @ habbit-core-model ---\n[INFO] Deleting D:\\myProject\\habbit\\habbit-core-model\\target\n[INFO]\n[INFO] --- jacoco-maven-plugin:0.8.3:prepare-agent (default-prepare-agent) @ habbit-core-model ---\n[INFO] argLine set to -javaagent:C:\\\\Users\\\\Hp\\\\.m2\\\\repository\\\\org\\\\jacoco\\\\org.jacoco.agent\\\\0.8.3\\\\org.jacoco.agent-0.8.3-runtime.jar=destfile=D:\\\\myProject\\\\h\nabbit\\\\habbit-core-model\\\\target\\\\jacoco.exec\n[INFO]\n[INFO] --- maven-resources-plugin:3.1.0:resources (default-resources) @ habbit-core-model ---\n[INFO] Using 'UTF-8' encoding to copy filtered resources.\n[INFO] skip non existing resourceDirectory D:\\myProject\\habbit\\habbit-core-model\\src\\main\\resources\n[INFO] skip non existing resourceDirectory D:\\myProject\\habbit\\habbit-core-model\\src\\main\\resources\n[INFO]\n[INFO] --- maven-compiler-plugin:3.5.1:compile (default-compile) @ habbit-core-model ---\n[INFO] Changes detected - recompiling the module!\n[INFO] Compiling 182 source files to D:\\myProject\\habbit\\habbit-core-model\\target\\classes\n[INFO]\n[INFO] ------------------&lt; com.shopizer:habbit-core-modules &gt;------------------\n[INFO] Building habbit-core-modules 2.12.0                                [3/6]\n[INFO] --------------------------------[ jar ]---------------------------------\n[INFO]\n[INFO] --- maven-clean-plugin:3.1.0:clean (default-clean) @ habbit-core-modules ---\n[INFO] Deleting D:\\myProject\\habbit\\habbit-core-modules\\target\n[INFO]\n[INFO] --- jacoco-maven-plugin:0.8.3:prepare-agent (default-prepare-agent) @ habbit-core-modules ---\n[INFO] argLine set to -javaagent:C:\\\\Users\\\\Hp\\\\.m2\\\\repository\\\\org\\\\jacoco\\\\org.jacoco.agent\\\\0.8.3\\\\org.jacoco.agent-0.8.3-runtime.jar=destfile=D:\\\\myProject\\\\h\nabbit\\\\habbit-core-modules\\\\target\\\\jacoco.exec\n[INFO]\n[INFO] --- maven-resources-plugin:3.1.0:resources (default-resources) @ habbit-core-modules ---\n[INFO] Using 'UTF-8' encoding to copy filtered resources.\n[INFO] skip non existing resourceDirectory D:\\myProject\\habbit\\habbit-core-modules\\src\\main\\resources\n[INFO] skip non existing resourceDirectory D:\\myProject\\habbit\\habbit-core-modules\\src\\main\\resources\n[INFO]\n[INFO] --- maven-compiler-plugin:3.5.1:compile (default-compile) @ habbit-core-modules ---\n[INFO] Changes detected - recompiling the module!\n[INFO] Compiling 14 source files to D:\\myProject\\habbit\\habbit-core-modules\\target\\classes\n[INFO]\n[INFO] ----------------------&lt; com.shopizer:habbit-core &gt;----------------------\n[INFO] Building habbit-core 2.12.0                                        [4/6]\n[INFO] --------------------------------[ jar ]---------------------------------\n[INFO] ------------------------------------------------------------------------\n[INFO] Reactor Summary for habbit 2.12.0:\n[INFO]\n[INFO] habbit ............................................. SUCCESS [  2.919 s]\n[INFO] habbit-core-model .................................. SUCCESS [ 14.010 s]\n[INFO] habbit-core-modules ................................ SUCCESS [  2.125 s]\n[INFO] habbit-core ........................................ FAILURE [  2.078 s]\n[INFO] habbit-shop-model .................................. SKIPPED\n[INFO] habbit-shop ........................................ SKIPPED\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  24.245 s\n[INFO] Finished at: 2020-05-22T15:12:57+05:30\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal on project habbit-core: Could not resolve dependencies for project com.shopizer:habbit-core:jar:2.12.0: Failed to collect dependenci\nes at com.shopizer:shopizer-shipping-canadapost-module:jar:2.11.0 -&gt; com.shopizer:sm-core-model:jar:2.10.0: Failed to read artifact descriptor for com.shopizer:sm-\ncore-model:jar:2.10.0: Failure to find com.shopizer:shopizer:pom:2.10.0 in https://oss.sonatype.org/content/repositories/snapshots/ was cached in the local reposit\nory, resolution will not be reattempted until the update interval of oss-sonatype has elapsed or updates are forced -&gt; [Help 1]\n[ERROR]\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/DependencyResolutionException\n[ERROR]\n[ERROR] After correcting the problems, you can resume the build with the command\n[ERROR]   mvn &lt;args&gt; -rf :habbit-core\n</code></pre>\n"},{"tags":["java","maven","jenkins"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1693134490,"post_id":76986784,"comment_id":135717496,"body_markdown":"*I have already tried using -Dsun.jnu.encoding=utf-8* AFAIK, that property is read-only. [Please never post images of text](https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors/285557#285557). They are not searchable, we cannot copy-paste... Always copy-paste the text and format it properly.","body":"<i>I have already tried using -Dsun.jnu.encoding=utf-8</i> AFAIK, that property is read-only. <a href=\"https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors/285557#285557\">Please never post images of text</a>. They are not searchable, we cannot copy-paste... Always copy-paste the text and format it properly."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1693149626,"post_id":76986784,"comment_id":135719060,"body_markdown":"According to https://stackoverflow.com/questions/46112011 you should use `-Dfile.encoding=UTF-8`","body":"According to <a href=\"https://stackoverflow.com/questions/46112011\">stackoverflow.com/questions/46112011</a> you should use <code>-Dfile.encoding=UTF-8</code>"}],"answers":[{"comments":[{"owner":{"account_id":294314,"reputation":4599,"user_id":598141,"accept_rate":44,"display_name":"Ian W"},"score":0,"creation_date":1693205502,"post_id":76988746,"comment_id":135724237,"body_markdown":"Does Jenkins managed by `systemd` even source the local profile?","body":"Does Jenkins managed by <code>systemd</code> even source the local profile?"},{"owner":{"account_id":2021629,"reputation":57953,"user_id":1807667,"accept_rate":60,"display_name":"Ortomala Lokni"},"score":0,"creation_date":1693211861,"post_id":76988746,"comment_id":135725353,"body_markdown":"When user Jenkins run bash scripts, it should run local profiles.","body":"When user Jenkins run bash scripts, it should run local profiles."}],"tags":[],"owner":{"account_id":2021629,"reputation":57953,"user_id":1807667,"accept_rate":60,"display_name":"Ortomala Lokni"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693168155,"creation_date":1693166496,"answer_id":76988746,"question_id":76986784,"body_markdown":"Try to set the locale in `.bashrc` and `.bash_profile` in `/home/jenkins/`.\r\n\r\nCheck also if you have the [locale plugin](https://plugins.jenkins.io/locale/) installed in Jenkins.\r\n\r\nYou can also install this plugin to better control you locales.","title":"Jenkins &quot;sun.jnu.encoding&quot; default is &quot;ANSI_X3.4-1968&quot;","body":"<p>Try to set the locale in <code>.bashrc</code> and <code>.bash_profile</code> in <code>/home/jenkins/</code>.</p>\n<p>Check also if you have the <a href=\"https://plugins.jenkins.io/locale/\" rel=\"nofollow noreferrer\">locale plugin</a> installed in Jenkins.</p>\n<p>You can also install this plugin to better control you locales.</p>\n"}],"owner":{"account_id":19259242,"reputation":11,"user_id":14075489,"display_name":"Weir Lee"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":152,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1693168155,"creation_date":1693134104,"question_id":76986784,"body_markdown":"I&#39;ve encountered some issues while using Jenkins and would like to seek your assistance. The specific problem is as follows:\r\n\r\nI have already tried using `-Dsun.jnu.encoding=utf-8`, but unfortunately, it didn&#39;t have the intended effect. I&#39;ve thoroughly checked, and the Linux locale is already set to `en_US UTF-8`. However, the `systemInfo` in Jenkins consistently displays as `ANSI_X3.4-1968`, which has left me quite puzzled. Currently, my hypothesis is that Jenkins might be overwriting this property setting, although I&#39;m uncertain about the exact reasons behind it. I&#39;m hoping you could provide clarity to my confusion. Thank you very much.\r\n\r\n[Jenkins service status](https://i.stack.imgur.com/ctcxk.png)\r\n\r\n[Jenkins user locale information](https://i.stack.imgur.com/rhuxD.png)\r\n\r\n[&#39;mvn&#39; command in bash](https://i.stack.imgur.com/RBFZo.png)\r\n\r\n[&#39;mvn&#39; command in Jenkins](https://i.stack.imgur.com/avSlU.png)\r\n\r\n\r\nThe following is the version information:\r\n\r\njava: java 17.0.8\r\nmaven: Apache Maven 3.8.5\r\nJenkins: Jenkins 2.414.1\r\n\r\n\r\nUse the following command to add java properties, but doesn&#39;t work.\r\n```sh\r\nsudo systemctl edit jenkins.service\r\n```\r\n`\r\nANSI_X3.4-1968` causes some characters to be garbled, but through the following methods, it can be temporarily solved, but the root cause is still not found\r\n\r\n\r\n```groovy\r\nenvironment {\r\n\tLC_ALL = &#39;en_US.UTF-8&#39;\r\n\tLANG    = &#39;en_US.UTF-8&#39;\r\n\tLANGUAGE = &#39;en_US.UTF-8&#39;\r\n}\r\n```\r\n","title":"Jenkins &quot;sun.jnu.encoding&quot; default is &quot;ANSI_X3.4-1968&quot;","body":"<p>I've encountered some issues while using Jenkins and would like to seek your assistance. The specific problem is as follows:</p>\n<p>I have already tried using <code>-Dsun.jnu.encoding=utf-8</code>, but unfortunately, it didn't have the intended effect. I've thoroughly checked, and the Linux locale is already set to <code>en_US UTF-8</code>. However, the <code>systemInfo</code> in Jenkins consistently displays as <code>ANSI_X3.4-1968</code>, which has left me quite puzzled. Currently, my hypothesis is that Jenkins might be overwriting this property setting, although I'm uncertain about the exact reasons behind it. I'm hoping you could provide clarity to my confusion. Thank you very much.</p>\n<p><a href=\"https://i.stack.imgur.com/ctcxk.png\" rel=\"nofollow noreferrer\">Jenkins service status</a></p>\n<p><a href=\"https://i.stack.imgur.com/rhuxD.png\" rel=\"nofollow noreferrer\">Jenkins user locale information</a></p>\n<p><a href=\"https://i.stack.imgur.com/RBFZo.png\" rel=\"nofollow noreferrer\">'mvn' command in bash</a></p>\n<p><a href=\"https://i.stack.imgur.com/avSlU.png\" rel=\"nofollow noreferrer\">'mvn' command in Jenkins</a></p>\n<p>The following is the version information:</p>\n<p>java: java 17.0.8\nmaven: Apache Maven 3.8.5\nJenkins: Jenkins 2.414.1</p>\n<p>Use the following command to add java properties, but doesn't work.</p>\n<pre class=\"lang-bash prettyprint-override\"><code>sudo systemctl edit jenkins.service\n</code></pre>\n<p><code> ANSI_X3.4-1968</code> causes some characters to be garbled, but through the following methods, it can be temporarily solved, but the root cause is still not found</p>\n<pre><code>environment {\n    LC_ALL = 'en_US.UTF-8'\n    LANG    = 'en_US.UTF-8'\n    LANGUAGE = 'en_US.UTF-8'\n}\n</code></pre>\n"},{"tags":["java","multithreading","inputstream"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1693152802,"post_id":76987912,"comment_id":135719429,"body_markdown":"Which line, specifically, throws the exception?  What is `App.main(null)`?","body":"Which line, specifically, throws the exception?  What is <code>App.main(null)</code>?"},{"owner":{"account_id":4200525,"reputation":61370,"user_id":3440745,"display_name":"Tsyvarev"},"score":0,"creation_date":1693161850,"post_id":76987912,"comment_id":135720460,"body_markdown":"The method `System.setIn` sets InputStream for **all threads**, that is all 5 your threads share the **same** `InputStream` object and share value of `.position` field in it. If you want each thread to have independent value of `.position`, then you could make this field to be *thread local*. See also [that question](https://stackoverflow.com/a/15526391/3440745) as example of &quot;multiplexing&quot; of output stream between threads.","body":"The method <code>System.setIn</code> sets InputStream for <b>all threads</b>, that is all 5 your threads share the <b>same</b> <code>InputStream</code> object and share value of <code>.position</code> field in it. If you want each thread to have independent value of <code>.position</code>, then you could make this field to be <i>thread local</i>. See also <a href=\"https://stackoverflow.com/a/15526391/3440745\">that question</a> as example of &quot;multiplexing&quot; of output stream between threads."},{"owner":{"account_id":26242481,"reputation":33,"user_id":19916583,"display_name":"ehbong"},"score":0,"creation_date":1693217001,"post_id":76987912,"comment_id":135726315,"body_markdown":"@markspace yes, App.main(null) line.","body":"@markspace yes, App.main(null) line."}],"answers":[{"comments":[{"owner":{"account_id":26242481,"reputation":33,"user_id":19916583,"display_name":"ehbong"},"score":0,"creation_date":1693227387,"post_id":76988721,"comment_id":135728333,"body_markdown":"This method also runs the test target as an independent process, so it is not suitable for concurrency testing for the same value as when using multi-thread. But thank you for your sincere reply.","body":"This method also runs the test target as an independent process, so it is not suitable for concurrency testing for the same value as when using multi-thread. But thank you for your sincere reply."},{"owner":{"account_id":9059972,"reputation":3080,"user_id":6746785,"display_name":"gthanop"},"score":0,"creation_date":1693229579,"post_id":76988721,"comment_id":135728830,"body_markdown":"Ah ok! Indeed I wasn&#39;t aware you need to share state between the `App.main` calls. One could maybe use IPC for that (in case they used processes), however I now understand that multiprocessing is not what you are trying to do.","body":"Ah ok! Indeed I wasn&#39;t aware you need to share state between the <code>App.main</code> calls. One could maybe use IPC for that (in case they used processes), however I now understand that multiprocessing is not what you are trying to do."}],"tags":[],"owner":{"account_id":9059972,"reputation":3080,"user_id":6746785,"display_name":"gthanop"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693166124,"creation_date":1693166124,"answer_id":76988721,"question_id":76987912,"body_markdown":"In the simple case that I am aware of, a process can only have one input stream, along with one output stream and one error stream. So if you don&#39;t have control over what `App.main` does, or you don&#39;t want to modify it, then you could create multiple processes.\r\n\r\nImagine doing the following multiple times:\r\n1. Opening a CLI instance.\r\n2. Executing the runnable program you want (the one that calls `App.main` as far as I understand from your question), but with redirected input stream.\r\n\r\nYou can do this programmatically with `java.lang.Process`.\r\n\r\nProcesses are heavier than threads (in terms of resource consumption), I know, but in case your scenario is simple (eg you need only a handful of processes in parallel) then you can try the following:\r\n\r\n```\r\nimport java.io.BufferedReader;\r\nimport java.io.IOException;\r\nimport java.io.InputStreamReader;\r\nimport java.io.OutputStreamWriter;\r\nimport java.nio.charset.StandardCharsets;\r\nimport java.util.ArrayList;\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\nimport java.util.Objects;\r\n\r\npublic class MultiSystemIn {\r\n    \r\n    private static class ExecuteProcessRunnable implements Runnable {\r\n        \r\n        private final String input;\r\n        private final List&lt;String&gt; command;\r\n        \r\n        public ExecuteProcessRunnable(final List&lt;String&gt; command,\r\n                                      final String input) {\r\n            this.input = Objects.requireNonNull(input);\r\n            if (command == null || command.isEmpty())\r\n                throw new IllegalArgumentException(&quot;Empty command.&quot;);\r\n            this.command = new ArrayList&lt;&gt;(command);\r\n        }\r\n        \r\n        @Override\r\n        public void run() {\r\n            final ProcessBuilder builder = new ProcessBuilder(command);\r\n            Process process = null;\r\n            try {\r\n                //Start the command:\r\n                process = builder.start();\r\n                \r\n                //process.getOutputStream() is what the process will be reading as its own System.in...\r\n                try (final OutputStreamWriter osw = new OutputStreamWriter(process.getOutputStream(), StandardCharsets.UTF_8)) {\r\n                    osw.write(input);\r\n                }\r\n                \r\n                //process.getErrorStream() is what we can read as the corresponding System.err of the command.get(0) program...\r\n                try (final InputStreamReader isr = new InputStreamReader(process.getErrorStream(), StandardCharsets.UTF_8);\r\n                     final BufferedReader br = new BufferedReader(isr)) {\r\n                    for (String errline = br.readLine(); errline != null; errline = br.readLine())\r\n                        System.out.println(&quot;Process &quot; + command + &quot; error stream says: &quot; + errline);\r\n                }\r\n            }\r\n            catch (final IOException ioe) {\r\n                System.err.println(&quot;Process &quot; + command + &quot; failed with &quot; + ioe);\r\n            }\r\n            finally {\r\n                if (process != null) {\r\n                    process.destroyForcibly();\r\n                    try {\r\n                        process.waitFor();\r\n                    }\r\n                    catch (final InterruptedException ie) {\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    \r\n    public static void main(final String[] args) {\r\n        for (int i = 0; i &lt; 10; ++i) {\r\n            System.out.println(&quot;Starting process &quot; + i + &quot;...&quot;);\r\n            final Thread t = new Thread(new ExecuteProcessRunnable(\r\n                    Arrays.asList(&quot;java&quot;, &quot;App&quot;),\r\n                    &quot;o\\n611019\\n2\\n748943\\n8\\n \\nq\\n&quot;\r\n            ));\r\n            t.setDaemon(false);\r\n            t.start();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThe above code also uses threads, where each one corresponds to managing one of the processes (eg relaying error stream, writing the standard input of the process and waiting for process termination).\r\n\r\nBy default a process created this way uses a pipe for its standard input stream, but pipes don&#39;t have unlimited buffers (you have to read from them at some point in order to be able to write to them again in the case their buffer gets full). This is the reason why I also used threads, because if one did the same without threads (ie just run a loop in `main` creating and starting the `Process`es and then writing to their streams) then in the case the input `String` got too big for some reason then a pipe could block, not letting the other processes start.\r\n\r\nYou could do this also with redirecting the streams with files instead of writing manually to the stream of each process. There are also some other customizations one can do (just read the documentation of `Process` and `ProcessBuilder`).\r\n","title":"How to autocomplete input in scanner class method using multithreading in java test code?","body":"<p>In the simple case that I am aware of, a process can only have one input stream, along with one output stream and one error stream. So if you don't have control over what <code>App.main</code> does, or you don't want to modify it, then you could create multiple processes.</p>\n<p>Imagine doing the following multiple times:</p>\n<ol>\n<li>Opening a CLI instance.</li>\n<li>Executing the runnable program you want (the one that calls <code>App.main</code> as far as I understand from your question), but with redirected input stream.</li>\n</ol>\n<p>You can do this programmatically with <code>java.lang.Process</code>.</p>\n<p>Processes are heavier than threads (in terms of resource consumption), I know, but in case your scenario is simple (eg you need only a handful of processes in parallel) then you can try the following:</p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.io.OutputStreamWriter;\nimport java.nio.charset.StandardCharsets;\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.List;\nimport java.util.Objects;\n\npublic class MultiSystemIn {\n    \n    private static class ExecuteProcessRunnable implements Runnable {\n        \n        private final String input;\n        private final List&lt;String&gt; command;\n        \n        public ExecuteProcessRunnable(final List&lt;String&gt; command,\n                                      final String input) {\n            this.input = Objects.requireNonNull(input);\n            if (command == null || command.isEmpty())\n                throw new IllegalArgumentException(&quot;Empty command.&quot;);\n            this.command = new ArrayList&lt;&gt;(command);\n        }\n        \n        @Override\n        public void run() {\n            final ProcessBuilder builder = new ProcessBuilder(command);\n            Process process = null;\n            try {\n                //Start the command:\n                process = builder.start();\n                \n                //process.getOutputStream() is what the process will be reading as its own System.in...\n                try (final OutputStreamWriter osw = new OutputStreamWriter(process.getOutputStream(), StandardCharsets.UTF_8)) {\n                    osw.write(input);\n                }\n                \n                //process.getErrorStream() is what we can read as the corresponding System.err of the command.get(0) program...\n                try (final InputStreamReader isr = new InputStreamReader(process.getErrorStream(), StandardCharsets.UTF_8);\n                     final BufferedReader br = new BufferedReader(isr)) {\n                    for (String errline = br.readLine(); errline != null; errline = br.readLine())\n                        System.out.println(&quot;Process &quot; + command + &quot; error stream says: &quot; + errline);\n                }\n            }\n            catch (final IOException ioe) {\n                System.err.println(&quot;Process &quot; + command + &quot; failed with &quot; + ioe);\n            }\n            finally {\n                if (process != null) {\n                    process.destroyForcibly();\n                    try {\n                        process.waitFor();\n                    }\n                    catch (final InterruptedException ie) {\n                    }\n                }\n            }\n        }\n    }\n    \n    public static void main(final String[] args) {\n        for (int i = 0; i &lt; 10; ++i) {\n            System.out.println(&quot;Starting process &quot; + i + &quot;...&quot;);\n            final Thread t = new Thread(new ExecuteProcessRunnable(\n                    Arrays.asList(&quot;java&quot;, &quot;App&quot;),\n                    &quot;o\\n611019\\n2\\n748943\\n8\\n \\nq\\n&quot;\n            ));\n            t.setDaemon(false);\n            t.start();\n        }\n    }\n}\n</code></pre>\n<p>The above code also uses threads, where each one corresponds to managing one of the processes (eg relaying error stream, writing the standard input of the process and waiting for process termination).</p>\n<p>By default a process created this way uses a pipe for its standard input stream, but pipes don't have unlimited buffers (you have to read from them at some point in order to be able to write to them again in the case their buffer gets full). This is the reason why I also used threads, because if one did the same without threads (ie just run a loop in <code>main</code> creating and starting the <code>Process</code>es and then writing to their streams) then in the case the input <code>String</code> got too big for some reason then a pipe could block, not letting the other processes start.</p>\n<p>You could do this also with redirecting the streams with files instead of writing manually to the stream of each process. There are also some other customizations one can do (just read the documentation of <code>Process</code> and <code>ProcessBuilder</code>).</p>\n"}],"owner":{"account_id":26242481,"reputation":33,"user_id":19916583,"display_name":"ehbong"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1693166124,"creation_date":1693152468,"question_id":76987912,"body_markdown":"I&#39;m trying to write a Java test source.\r\nHow do I handle auto input for a test target that receives input through Scanner class methods in a multi-threaded environment?\r\n\r\n\r\n```java\r\nclass SystemInInterceptor extends InputStream {\r\n    private String input;\r\n    private int position = 0;\r\n\r\n    public SystemInInterceptor(String input) {\r\n        this.input = input + &quot;\\n&quot;;  // Add a newline at the end to simulate Enter key\r\n    }\r\n\r\n    @Override\r\n    public int read() {\r\n        if (position &gt;= input.length()) {\r\n            return -1;\r\n        }\r\n        return input.charAt(position++);\r\n    }\r\n}\r\n```\r\n\r\n```java\r\nThread[] threads = new Thread[5];\r\n        \r\n        for (int i = 0; i &lt; threads.length; i++) {\r\n            threads[i] = new Thread(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    try {\r\n                        String testInput = &quot;o\\n611019\\n2\\n748943\\n8\\n \\nq\\n&quot;;\r\n                        InputStream inputStream = new SystemInInterceptor(testInput);\r\n                        System.setIn(inputStream);\r\n                        App.main(null);\r\n                    } catch (SoldOutException e) {\r\n                        throw new RuntimeException(e);\r\n                    }\r\n                }\r\n            });\r\n\r\n        }\r\n        for(Thread thread: threads){\r\n            thread.start();\r\n        }\r\n        for(Thread thread: threads){\r\n            thread.join();\r\n        }\r\n```\r\nWhen I run the source above, the first thread works fine, but the other threads throw\r\n```\r\nException in thread &quot;Thread-0&quot; Exception in thread &quot;Thread-2&quot; Exception in thread &quot;Thread-1&quot; java.util.NoSuchElementException: No line found\r\n```\r\nIt works fine in non-multithreaded situations.","title":"How to autocomplete input in scanner class method using multithreading in java test code?","body":"<p>I'm trying to write a Java test source.\nHow do I handle auto input for a test target that receives input through Scanner class methods in a multi-threaded environment?</p>\n<pre class=\"lang-java prettyprint-override\"><code>class SystemInInterceptor extends InputStream {\n    private String input;\n    private int position = 0;\n\n    public SystemInInterceptor(String input) {\n        this.input = input + &quot;\\n&quot;;  // Add a newline at the end to simulate Enter key\n    }\n\n    @Override\n    public int read() {\n        if (position &gt;= input.length()) {\n            return -1;\n        }\n        return input.charAt(position++);\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>Thread[] threads = new Thread[5];\n        \n        for (int i = 0; i &lt; threads.length; i++) {\n            threads[i] = new Thread(new Runnable() {\n                @Override\n                public void run() {\n                    try {\n                        String testInput = &quot;o\\n611019\\n2\\n748943\\n8\\n \\nq\\n&quot;;\n                        InputStream inputStream = new SystemInInterceptor(testInput);\n                        System.setIn(inputStream);\n                        App.main(null);\n                    } catch (SoldOutException e) {\n                        throw new RuntimeException(e);\n                    }\n                }\n            });\n\n        }\n        for(Thread thread: threads){\n            thread.start();\n        }\n        for(Thread thread: threads){\n            thread.join();\n        }\n</code></pre>\n<p>When I run the source above, the first thread works fine, but the other threads throw</p>\n<pre><code>Exception in thread &quot;Thread-0&quot; Exception in thread &quot;Thread-2&quot; Exception in thread &quot;Thread-1&quot; java.util.NoSuchElementException: No line found\n</code></pre>\n<p>It works fine in non-multithreaded situations.</p>\n"},{"tags":["java","spring-boot","lombok"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1693164312,"post_id":76988606,"comment_id":135720716,"body_markdown":"Lombok&#39;s annotations do only take effect on the direct class they are placed on. In general, annotations are not inherited by default. Only when the annotation class itself is annotated with [`@Inherited` (`docs.oracle.com`)](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/annotation/Inherited.html) are they inherited.","body":"Lombok&#39;s annotations do only take effect on the direct class they are placed on. In general, annotations are not inherited by default. Only when the annotation class itself is annotated with <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/annotation/Inherited.html\" rel=\"nofollow noreferrer\"><code>@Inherited</code> (<code>docs.oracle.com</code>)</a> are they inherited."},{"owner":{"account_id":29310144,"reputation":13,"user_id":22456144,"display_name":"learningProgrammer"},"score":0,"creation_date":1693164747,"post_id":76988606,"comment_id":135720778,"body_markdown":"Ok so if I want to inherit the annotations I need to annotate with @Inherited? Does it have any drawbacks or is it safe to use?","body":"Ok so if I want to inherit the annotations I need to annotate with @Inherited? Does it have any drawbacks or is it safe to use?"},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1693164997,"post_id":76988606,"comment_id":135720810,"body_markdown":"The Lombok annotations would need to be _meta annotated_ themselves with `@Inherited`. You cannot put `@Inherited` on your classes, only on annotations.","body":"The Lombok annotations would need to be <i>meta annotated</i> themselves with <code>@Inherited</code>. You cannot put <code>@Inherited</code> on your classes, only on annotations."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1693165010,"post_id":76988606,"comment_id":135720811,"body_markdown":"The annotation itself must be annotated. You cannot do that since you cannot modify the (official) lombok code. Aside from this, even if it were possible, I am not sure how the lombok annotation processor exactly works, i.e. if it would take effect. Maybe @rzwiterloot sees this post and cares to explain.","body":"The annotation itself must be annotated. You cannot do that since you cannot modify the (official) lombok code. Aside from this, even if it were possible, I am not sure how the lombok annotation processor exactly works, i.e. if it would take effect. Maybe @rzwiterloot sees this post and cares to explain."},{"owner":{"account_id":29310144,"reputation":13,"user_id":22456144,"display_name":"learningProgrammer"},"score":0,"creation_date":1693165139,"post_id":76988606,"comment_id":135720827,"body_markdown":"Ok it&#39;s clear, thanks a lot guys!","body":"Ok it&#39;s clear, thanks a lot guys!"}],"answers":[{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1693166111,"creation_date":1693166111,"answer_id":76988720,"question_id":76988606,"body_markdown":"If you look at the source of the Lombok annotations (for example [`AllArgsConstructor`](https://github.com/projectlombok/lombok/blob/master/src/core/lombok/AllArgsConstructor.java#L41): \r\n\r\n    @Target(ElementType.TYPE)\r\n    @Retention(RetentionPolicy.SOURCE)\r\n    public @interface AllArgsConstructor {\r\n\r\nor [`Data`](https://github.com/projectlombok/lombok/blob/master/src/core/lombok/Data.java#L45):\r\n\r\n    @Target(ElementType.TYPE)\r\n    @Retention(RetentionPolicy.SOURCE)\r\n    public @interface Data {\r\n\r\n) you can see that those annotations are themselves annotated with `@Retention(RetentionPolicy.SOURCE)`.\r\n\r\nThe [`RetentionPolicy.SOURCE`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/annotation/RetentionPolicy.html#SOURCE) annotation means the generated class files doesn&#39;t contain any trace of the Lombok annotation any more:\r\n\r\n&gt;     public static final RetentionPolicy SOURCE\r\n&gt; Annotations are to be discarded by the compiler.","title":"Lombok Annotations and inheritance","body":"<p>If you look at the source of the Lombok annotations (for example <a href=\"https://github.com/projectlombok/lombok/blob/master/src/core/lombok/AllArgsConstructor.java#L41\" rel=\"nofollow noreferrer\"><code>AllArgsConstructor</code></a>:</p>\n<pre><code>@Target(ElementType.TYPE)\n@Retention(RetentionPolicy.SOURCE)\npublic @interface AllArgsConstructor {\n</code></pre>\n<p>or <a href=\"https://github.com/projectlombok/lombok/blob/master/src/core/lombok/Data.java#L45\" rel=\"nofollow noreferrer\"><code>Data</code></a>:</p>\n<pre><code>@Target(ElementType.TYPE)\n@Retention(RetentionPolicy.SOURCE)\npublic @interface Data {\n</code></pre>\n<p>) you can see that those annotations are themselves annotated with <code>@Retention(RetentionPolicy.SOURCE)</code>.</p>\n<p>The <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/annotation/RetentionPolicy.html#SOURCE\" rel=\"nofollow noreferrer\"><code>RetentionPolicy.SOURCE</code></a> annotation means the generated class files doesn't contain any trace of the Lombok annotation any more:</p>\n<blockquote>\n<pre><code>public static final RetentionPolicy SOURCE\n</code></pre>\n<p>Annotations are to be discarded by the compiler.</p>\n</blockquote>\n"}],"owner":{"account_id":29310144,"reputation":13,"user_id":22456144,"display_name":"learningProgrammer"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":263,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76988720,"answer_count":1,"score":0,"last_activity_date":1693166111,"creation_date":1693164116,"question_id":76988606,"body_markdown":"I am currently developing a project in Spring boot and I am having some issues in inherited classes. The issues are coming from the fact that I use annotations in the abstract parent class (such as @Data) but these do not get inherited by the child classes. I am also using chatgpt to ask questions (since its my first spring boot project) and it mentions that &quot;Lombok annotations are indeed inherited by child classes in Java, including Spring Boot projects. If a parent class has Lombok annotations like @Data, @AllArgsConstructor, @NoArgsConstructor, etc., the child class should inherit these annotations and their behavior without requiring redundant annotations in the child class.&quot; However, even inputing my classes into it does not seem to identify or help with the problem. \r\n\r\nHere is an example of the classes:\r\n \r\n```\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic abstract class AbstractResponse {\r\n    private boolean success;\r\n}\r\n```\r\n\r\nfollowed by a child class:\r\n\r\n\r\n```\r\npublic class QuoteResponse extends AbstractResponse{\r\n    private double c;\r\n    private double d;\r\n    private double dp;\r\n    private double h;\r\n    private double l;\r\n    private double o;\r\n    private double pc;\r\n    private long t;\r\n}\r\n```\r\n\r\nIf I don&#180;t use @Data in the child class I don&#180;t have getter and setters. Initially I though this was normal but since chatgpt mentioned several times it should work I want to clarify it. \r\n","title":"Lombok Annotations and inheritance","body":"<p>I am currently developing a project in Spring boot and I am having some issues in inherited classes. The issues are coming from the fact that I use annotations in the abstract parent class (such as @Data) but these do not get inherited by the child classes. I am also using chatgpt to ask questions (since its my first spring boot project) and it mentions that &quot;Lombok annotations are indeed inherited by child classes in Java, including Spring Boot projects. If a parent class has Lombok annotations like @Data, @AllArgsConstructor, @NoArgsConstructor, etc., the child class should inherit these annotations and their behavior without requiring redundant annotations in the child class.&quot; However, even inputing my classes into it does not seem to identify or help with the problem.</p>\n<p>Here is an example of the classes:</p>\n<pre><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic abstract class AbstractResponse {\n    private boolean success;\n}\n</code></pre>\n<p>followed by a child class:</p>\n<pre><code>public class QuoteResponse extends AbstractResponse{\n    private double c;\n    private double d;\n    private double dp;\n    private double h;\n    private double l;\n    private double o;\n    private double pc;\n    private long t;\n}\n</code></pre>\n<p>If I don´t use @Data in the child class I don´t have getter and setters. Initially I though this was normal but since chatgpt mentioned several times it should work I want to clarify it.</p>\n"},{"tags":["java","arraylist"],"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1693156108,"post_id":76988121,"comment_id":135719797,"body_markdown":"To quote the Javadoc: “A Path representing an empty path is returned if first is the empty string and more does not contain any non-empty strings.”","body":"To quote the Javadoc: “A Path representing an empty path is returned if first is the empty string and more does not contain any non-empty strings.”"},{"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":1,"creation_date":1693156266,"post_id":76988121,"comment_id":135719821,"body_markdown":"`System.out.println(Paths.get(&quot;&quot;).toAbsolutePath());` should display the path to your project directory. I&#39;m wondering why you are overdoing it.","body":"<code>System.out.println(Paths.get(&quot;&quot;).toAbsolutePath());</code> should display the path to your project directory. I&#39;m wondering why you are overdoing it."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1693157889,"post_id":76988121,"comment_id":135720027,"body_markdown":"@ArvindKumarAvinash it  won&#39;t actually. It will display the path to the current directory. If that&#39;s the project directory, it&#39;s a happy accident that shouldn&#39;t be relied upon","body":"@ArvindKumarAvinash it  won&#39;t actually. It will display the path to the current directory. If that&#39;s the project directory, it&#39;s a happy accident that shouldn&#39;t be relied upon"}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1693165674,"creation_date":1693156466,"answer_id":76988169,"question_id":76988121,"body_markdown":"## tl;dr\r\n\r\n    pathToFile.getParent()\r\n\r\n## `Path#getParent`\r\n\r\nNo need to resort to crude string manipulation. Java NIO abstracts us away from the platform-specific details. \r\n\r\nCall [`Path#getParent`][1] to get another path object while dropping the last element of the original.\r\n\r\n    Path pathToFile = Paths.get( &quot;SomeFolder&quot; , &quot;SomeFile&quot; ) ;\r\n    Path pathToFolder = pathToFile.getParent() ;\r\n\r\n\r\n## `List#removeLast`\r\n\r\nBy the way, to answer the title of your Question…\r\n\r\nIn Java 21+, `List` is a sub-interface of `SequencedCollection`. This brings convenient new methods such as [removeLast][2]. \r\n\r\n    myList.removeLast() ;\r\n\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/nio/file/Path.html#getParent()\r\n  [2]: https://download.java.net/java/early_access/jdk21/docs/api/java.base/java/util/List.html#removeLast()","title":"Remove Last Element from a List in Java","body":"<h2>tl;dr</h2>\n<pre><code>pathToFile.getParent()\n</code></pre>\n<h2><code>Path#getParent</code></h2>\n<p>No need to resort to crude string manipulation. Java NIO abstracts us away from the platform-specific details.</p>\n<p>Call <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/nio/file/Path.html#getParent()\" rel=\"nofollow noreferrer\"><code>Path#getParent</code></a> to get another path object while dropping the last element of the original.</p>\n<pre><code>Path pathToFile = Paths.get( &quot;SomeFolder&quot; , &quot;SomeFile&quot; ) ;\nPath pathToFolder = pathToFile.getParent() ;\n</code></pre>\n<h2><code>List#removeLast</code></h2>\n<p>By the way, to answer the title of your Question…</p>\n<p>In Java 21+, <code>List</code> is a sub-interface of <code>SequencedCollection</code>. This brings convenient new methods such as <a href=\"https://download.java.net/java/early_access/jdk21/docs/api/java.base/java/util/List.html#removeLast()\" rel=\"nofollow noreferrer\">removeLast</a>.</p>\n<pre><code>myList.removeLast() ;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27594883,"reputation":120,"user_id":21061328,"display_name":"java_coder"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1693156710,"creation_date":1693156710,"answer_id":76988187,"question_id":76988121,"body_markdown":"Actually, you might be getting the UnsupportedOperationException, this is happening because you have used the Arrays.asList method, by using which the list cannot be modified i.e. no elements can be added or removed from the path list.\r\n\r\nSo, to perform your desired operation, you can use the below code. \r\n\r\n````\r\nString[] pathArray = Paths.get(&quot;&quot;).toAbsolutePath().toString().split(&quot;\\\\\\\\&quot;);\r\n\t\tList&lt;String&gt; path = new ArrayList&lt;&gt;();\r\n\t\tCollections.addAll(path, pathArray);\r\n\t\tSystem.out.println(path);\r\n\t\tint removeJavaFile = path.size() - 1;\r\n\t\tpath.remove(removeJavaFile);\r\n\t\tSystem.out.println(&quot;Path: &quot;+path);\r\n\t\tString filePath = path.stream().map(n -&gt; String.valueOf(n)).collect(Collectors.joining(&quot;\\\\\\\\&quot;));\r\n\t\tSystem.out.println(filePath);\r\n````\r\n\r\nHere, first you get the pathArray and then add those array elements into a list which can be modified which makes you remove the last element from the list.\r\n","title":"Remove Last Element from a List in Java","body":"<p>Actually, you might be getting the UnsupportedOperationException, this is happening because you have used the Arrays.asList method, by using which the list cannot be modified i.e. no elements can be added or removed from the path list.</p>\n<p>So, to perform your desired operation, you can use the below code.</p>\n<pre><code>String[] pathArray = Paths.get(&quot;&quot;).toAbsolutePath().toString().split(&quot;\\\\\\\\&quot;);\n        List&lt;String&gt; path = new ArrayList&lt;&gt;();\n        Collections.addAll(path, pathArray);\n        System.out.println(path);\n        int removeJavaFile = path.size() - 1;\n        path.remove(removeJavaFile);\n        System.out.println(&quot;Path: &quot;+path);\n        String filePath = path.stream().map(n -&gt; String.valueOf(n)).collect(Collectors.joining(&quot;\\\\\\\\&quot;));\n        System.out.println(filePath);\n</code></pre>\n<p>Here, first you get the pathArray and then add those array elements into a list which can be modified which makes you remove the last element from the list.</p>\n"}],"owner":{"account_id":27279680,"reputation":35,"user_id":20799756,"display_name":"Harshini V"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":105,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":76988169,"answer_count":2,"score":2,"last_activity_date":1693165674,"creation_date":1693155714,"question_id":76988121,"body_markdown":"```\r\nList&lt;String&gt; path = Arrays.asList(Paths.get(&quot;&quot;).toAbsolutePath().toString().split(&quot;\\\\\\\\&quot;));\r\nSystem.out.println(path);\r\nint removeJavaFile = path.size() - 1;\r\npath.remove(removeJavaFile);\r\nString filePath = path.stream().map(n -&gt; String.valueOf(n)).collect(Collectors.joining(&quot;\\\\\\\\&quot;));\r\nSystem.out.println(filePath);\r\n```\r\n\r\n\r\nI was trying to get the directory in which my program is, and ended up using this to get the path to the file. I thought of getting the path, and then splitting it to later remove the file name from the path to get the directory, but failed to do so, despite using the `.remove()` method. Could anyone please help me out?","title":"Remove Last Element from a List in Java","body":"<pre><code>List&lt;String&gt; path = Arrays.asList(Paths.get(&quot;&quot;).toAbsolutePath().toString().split(&quot;\\\\\\\\&quot;));\nSystem.out.println(path);\nint removeJavaFile = path.size() - 1;\npath.remove(removeJavaFile);\nString filePath = path.stream().map(n -&gt; String.valueOf(n)).collect(Collectors.joining(&quot;\\\\\\\\&quot;));\nSystem.out.println(filePath);\n</code></pre>\n<p>I was trying to get the directory in which my program is, and ended up using this to get the path to the file. I thought of getting the path, and then splitting it to later remove the file name from the path to get the directory, but failed to do so, despite using the <code>.remove()</code> method. Could anyone please help me out?</p>\n"},{"tags":["java","locking","synchronized"],"answers":[{"comments":[{"owner":{"account_id":12799490,"reputation":315,"user_id":9261248,"display_name":"DuZhentong"},"score":0,"creation_date":1522670231,"post_id":49610754,"comment_id":86228053,"body_markdown":"It can be said that each object has a monitor, but the monitor is not useful when it does not synchronize, so it does not activate the call, which involves the monitor to monitor the data when the code is locked synchronously. Can this be understood in this way?","body":"It can be said that each object has a monitor, but the monitor is not useful when it does not synchronize, so it does not activate the call, which involves the monitor to monitor the data when the code is locked synchronously. Can this be understood in this way?"},{"owner":{"account_id":2056806,"reputation":2735,"user_id":1834329,"accept_rate":60,"display_name":"Jared Beach"},"score":0,"creation_date":1616456925,"post_id":49610754,"comment_id":118003667,"body_markdown":"This doesn&#39;t provide the definition of a lock","body":"This doesn&#39;t provide the definition of a lock"}],"tags":[],"owner":{"account_id":2660107,"reputation":4547,"user_id":2300013,"accept_rate":100,"display_name":"AR1"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1522669858,"creation_date":1522669858,"answer_id":49610754,"question_id":49610644,"body_markdown":"In [this document][1], you can find the answer to your question:\n\n&gt; Synchronization. The&#160;Java programming language provides multiple\n&gt; mechanisms for communicating between threads. The most basic of these\n&gt; methods is synchronization, which is implemented using&#160;**monitors**. Each\n&gt; object in&#160;Java&#160;is associated with a&#160;monitor, which a thread\n&gt; can&#160;**lock**&#160;or unlock.\n\n\n  [1]: https://docs.oracle.com/javase/specs/jls/se7/html/jls-17.html","title":"In Java, what is the difference between a monitor and a lock","body":"<p>In <a href=\"https://docs.oracle.com/javase/specs/jls/se7/html/jls-17.html\" rel=\"nofollow noreferrer\">this document</a>, you can find the answer to your question:</p>\n\n<blockquote>\n  <p>Synchronization. The Java programming language provides multiple\n  mechanisms for communicating between threads. The most basic of these\n  methods is synchronization, which is implemented using <strong>monitors</strong>. Each\n  object in Java is associated with a monitor, which a thread\n  can <strong>lock</strong> or unlock.</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":1260481,"reputation":1276,"user_id":1218905,"display_name":"Martin"},"score":1,"creation_date":1587448917,"post_id":49611089,"comment_id":108507780,"body_markdown":"@Harash can you describe the relationship between these two notions? What is the exact relation between a monitor and a lock? Are locks the subset of monitors, or vice versa? Are locks just an implementation of monitors (while monitors are an abstract concept)? So far I was unable to find any concrete answer to this question.","body":"@Harash can you describe the relationship between these two notions? What is the exact relation between a monitor and a lock? Are locks the subset of monitors, or vice versa? Are locks just an implementation of monitors (while monitors are an abstract concept)? So far I was unable to find any concrete answer to this question."},{"owner":{"account_id":406441,"reputation":32619,"user_id":775954,"accept_rate":85,"display_name":"Matthias Braun"},"score":4,"creation_date":1604600206,"post_id":49611089,"comment_id":114403292,"body_markdown":"&quot;So a monitor and a lock can not be compared for differences, rather they are complementary to each other.&quot; How does that follow from [the source](https://docs.oracle.com/javase/tutorial/essential/concurrency/locksync.html) you quoted? It seems that the terms &quot;lock&quot; and &quot;monitor&quot; are **synonyms** in this context.","body":"&quot;So a monitor and a lock can not be compared for differences, rather they are complementary to each other.&quot; How does that follow from <a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/locksync.html\" rel=\"nofollow noreferrer\">the source</a> you quoted? It seems that the terms &quot;lock&quot; and &quot;monitor&quot; are <b>synonyms</b> in this context."}],"tags":[],"owner":{"account_id":5634947,"reputation":571,"user_id":4460698,"display_name":"Harsh Mehta"},"comment_count":2,"down_vote_count":1,"up_vote_count":12,"is_accepted":true,"score":11,"last_activity_date":1604599942,"creation_date":1522671226,"answer_id":49611089,"question_id":49610644,"body_markdown":" From the official documentation of [Locks and Synchronization](https://docs.oracle.com/javase/tutorial/essential/concurrency/locksync.html):\r\n\r\n&gt;  - Synchronization is built around an internal entity known as the ***intrinsic lock*** or ***monitor lock***. (The API specification often refers to this entity simply as a &quot;monitor.&quot;)\r\n&gt;  - Every object has an intrinsic lock associated with it. By convention, a thread has to acquire the object&#39;s **monitor lock**\r\n&gt; before accessing them, and then release the **monitor lock** when it&#39;s\r\n&gt; done with them. A thread is said to own the lock between the time it\r\n&gt; has acquired the lock and released the lock. As long as a thread owns\r\n&gt; a monitor lock, no other thread can acquire the same lock. The other\r\n&gt; thread will block when it attempts to acquire the lock.\r\n&gt;  - When a thread releases the lock, a happens-before relationship is established between that action and any subsequent acquisition of the\r\n&gt; same lock.\r\n\r\nSo a monitor and a lock can not be compared for differences, rather they are complementary to each other. Every object in Java is associated with a monitor which a thread can **lock** or **unlock**.\r\n","title":"In Java, what is the difference between a monitor and a lock","body":"<p>From the official documentation of <a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/locksync.html\" rel=\"nofollow noreferrer\">Locks and Synchronization</a>:</p>\n<blockquote>\n<ul>\n<li>Synchronization is built around an internal entity known as the <em><strong>intrinsic lock</strong></em> or <em><strong>monitor lock</strong></em>. (The API specification often refers to this entity simply as a &quot;monitor.&quot;)</li>\n<li>Every object has an intrinsic lock associated with it. By convention, a thread has to acquire the object's <strong>monitor lock</strong>\nbefore accessing them, and then release the <strong>monitor lock</strong> when it's\ndone with them. A thread is said to own the lock between the time it\nhas acquired the lock and released the lock. As long as a thread owns\na monitor lock, no other thread can acquire the same lock. The other\nthread will block when it attempts to acquire the lock.</li>\n<li>When a thread releases the lock, a happens-before relationship is established between that action and any subsequent acquisition of the\nsame lock.</li>\n</ul>\n</blockquote>\n<p>So a monitor and a lock can not be compared for differences, rather they are complementary to each other. Every object in Java is associated with a monitor which a thread can <strong>lock</strong> or <strong>unlock</strong>.</p>\n"},{"comments":[{"owner":{"account_id":184227,"reputation":1077,"user_id":420131,"display_name":"theRiley"},"score":0,"creation_date":1574182695,"post_id":49611203,"comment_id":104136977,"body_markdown":"Nice answer.  Your first link has expired ,fyi.","body":"Nice answer.  Your first link has expired ,fyi."}],"tags":[],"owner":{"account_id":4081262,"reputation":1022,"user_id":3351697,"accept_rate":63,"display_name":"Afgan"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1693165519,"creation_date":1522671689,"answer_id":49611203,"question_id":49610644,"body_markdown":"**Locks**\r\n\r\nA lock is kind of data which is logically part of an object’s header on the heap memory. Each object in a JVM has this lock (or mutex) that any program can use to coordinate multi-threaded access to the object. If any thread want to access instance variables of that object; then thread must “own” the object’s lock (set some flag in lock memory area). All other threads that attempt to access the object’s variables have to wait until the owning thread releases the object’s lock (unset the flag).\r\n\r\nOnce a thread owns a lock, it can request the same lock again multiple times, but then has to release the lock the same number of times before it is made available to other threads. If a thread requests a lock three times, for example, that thread will continue to own the lock until it has “released” it three times.\r\n\r\nPlease note that lock is acquired by a thread, when it explicitly ask for it. In Java, this is done with the synchronized keyword, or with wait and notify.\r\n\r\n**Monitors**\r\n\r\nMonitor is a synchronization construct that allows threads to have both mutual exclusion (using locks) and cooperation i.e. the ability to make threads wait for certain condition to be true (using wait-set).\r\n\r\nIn other words, along with data that implements a lock, every Java object is logically associated with data that implements a wait-set. Whereas locks help threads to work independently on shared data without interfering with one another, wait-sets help threads to cooperate with one another to work together towards a common goal e.g. all waiting threads will be moved to this wait-set and all will be notified once lock is released. This wait-set helps in building monitors with additional help of lock (mutex).\r\n\r\nFor more clarification refer -\r\n\r\n[UNDERSTANDING THREADS, MONITORS AND LOCKS][1]\r\n \r\n\r\n\r\n[Difference between lock and monitor – Java Concurrency][2]\r\n\r\n\r\n  [1]: https://web.archive.org/web/20170709144604/http://www.javacreed.com/understanding-threads-monitors-and-locks/\r\n  [2]: https://howtodoinjava.com/core-java/multi-threading/multithreading-difference-between-lock-and-monitor/","title":"In Java, what is the difference between a monitor and a lock","body":"<p><strong>Locks</strong></p>\n<p>A lock is kind of data which is logically part of an object’s header on the heap memory. Each object in a JVM has this lock (or mutex) that any program can use to coordinate multi-threaded access to the object. If any thread want to access instance variables of that object; then thread must “own” the object’s lock (set some flag in lock memory area). All other threads that attempt to access the object’s variables have to wait until the owning thread releases the object’s lock (unset the flag).</p>\n<p>Once a thread owns a lock, it can request the same lock again multiple times, but then has to release the lock the same number of times before it is made available to other threads. If a thread requests a lock three times, for example, that thread will continue to own the lock until it has “released” it three times.</p>\n<p>Please note that lock is acquired by a thread, when it explicitly ask for it. In Java, this is done with the synchronized keyword, or with wait and notify.</p>\n<p><strong>Monitors</strong></p>\n<p>Monitor is a synchronization construct that allows threads to have both mutual exclusion (using locks) and cooperation i.e. the ability to make threads wait for certain condition to be true (using wait-set).</p>\n<p>In other words, along with data that implements a lock, every Java object is logically associated with data that implements a wait-set. Whereas locks help threads to work independently on shared data without interfering with one another, wait-sets help threads to cooperate with one another to work together towards a common goal e.g. all waiting threads will be moved to this wait-set and all will be notified once lock is released. This wait-set helps in building monitors with additional help of lock (mutex).</p>\n<p>For more clarification refer -</p>\n<p><a href=\"https://web.archive.org/web/20170709144604/http://www.javacreed.com/understanding-threads-monitors-and-locks/\" rel=\"nofollow noreferrer\">UNDERSTANDING THREADS, MONITORS AND LOCKS</a></p>\n<p><a href=\"https://howtodoinjava.com/core-java/multi-threading/multithreading-difference-between-lock-and-monitor/\" rel=\"nofollow noreferrer\">Difference between lock and monitor – Java Concurrency</a></p>\n"},{"tags":[],"owner":{"account_id":174652,"reputation":2168,"user_id":404145,"accept_rate":62,"display_name":"DiveInto"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1602954783,"creation_date":1602954059,"answer_id":64405062,"question_id":49610644,"body_markdown":"The doc https://docs.oracle.com/javase/tutorial/essential/concurrency/locksync.html might not be a very good place to figure out the difference between Lock and Monitor, especially the terms it mentioned: `intrinsic lock`, `monitor lock` and simply `monitor`, which seems suggest that monitor and lock are interchangeable.\r\n\r\nThis is not true.\r\n\r\nMonitor is a structure used for multi-thread synchronization. It consists of a lock and several condition variables. A condition variable is a queue that threads can put them on when a given condition is not as desired. Some other thread can wake these threads up when it makes the condition true. Condition Variable is a way helps threads cooperating with each other. \r\n\r\nIn simple synchronization cases, we only make use of the lock the monitor provided, like this example:\r\n\r\n    class SimpleCase {\r\n      int counter;\r\n    \r\n      synchronized inc() int {\r\n        return counter++;\r\n      }\r\n    } \r\n\r\nThreads doing `inc()` needs no cooperation, only lock is needed to make the threads mutually exclusive, thus makes the `counter` thread safe.\r\n\r\nWhile in more complicated cases, no only mutual exclusion(mutex) is needed, but also cooperation.\r\n\r\nFor example, the bounded consumer/producer problem: multi consumers and producers consume and send messages to a queue. Cooperation is needed cause the message queue has a max size, when the queue is full, no more messages can be sent, and when the queue is empty, no more messages can be consumed. \r\n\r\nBelow is the code showing the producer:\r\n\r\n    package monitor;\r\n    \r\n    public class Producer {\r\n        BoundedQueue queue;\r\n    \r\n        public Producer(BoundedQueue queue) {\r\n            this.queue = queue;\r\n        }\r\n    \r\n        public void send(int msg) throws InterruptedException {\r\n            synchronized (queue) {\r\n                // wait till there is room to produce\r\n                while (queue.isFull()) {\r\n                    queue.wait();\r\n                }\r\n    \r\n                // business logic here\r\n                queue.add(msg);\r\n                System.out.println(&quot;sent:&quot; + msg + &quot;, from:&quot; + Thread.currentThread().getName());\r\n    \r\n                // before exit, call notify() to wake up waiting threads\r\n                queue.notifyAll();\r\n            }// implicit release the lock when exiting the synchronized block\r\n        }\r\n    }\r\n\r\nIn the code, the `BoundedQueue` is used as a monitor, except for mutual exclusion, producers and consumers also need cooperation: when queue is full, producers need to `wait()`, and when queue has available slots, producers need to be *notified* to wake up from the wait, after producer send data to the queue, it also needs to call `notifyAll()` in case there are consumers waiting for the condition that the queue is not empty.\r\n\r\nHere, the ability to `wait` and `notify` is provided by Monitor to make threads cooperate.\r\n \r\nHope this helps you understand the difference between Monitor and Lock.\r\n\r\nRef: \r\n\r\n- https://en.wikipedia.org/wiki/Monitor_(synchronization)\r\n- http://pages.cs.wisc.edu/~remzi/OSTEP/threads-cv.pdf\r\n","title":"In Java, what is the difference between a monitor and a lock","body":"<p>The doc <a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/locksync.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/essential/concurrency/locksync.html</a> might not be a very good place to figure out the difference between Lock and Monitor, especially the terms it mentioned: <code>intrinsic lock</code>, <code>monitor lock</code> and simply <code>monitor</code>, which seems suggest that monitor and lock are interchangeable.</p>\n<p>This is not true.</p>\n<p>Monitor is a structure used for multi-thread synchronization. It consists of a lock and several condition variables. A condition variable is a queue that threads can put them on when a given condition is not as desired. Some other thread can wake these threads up when it makes the condition true. Condition Variable is a way helps threads cooperating with each other.</p>\n<p>In simple synchronization cases, we only make use of the lock the monitor provided, like this example:</p>\n<pre><code>class SimpleCase {\n  int counter;\n\n  synchronized inc() int {\n    return counter++;\n  }\n} \n</code></pre>\n<p>Threads doing <code>inc()</code> needs no cooperation, only lock is needed to make the threads mutually exclusive, thus makes the <code>counter</code> thread safe.</p>\n<p>While in more complicated cases, no only mutual exclusion(mutex) is needed, but also cooperation.</p>\n<p>For example, the bounded consumer/producer problem: multi consumers and producers consume and send messages to a queue. Cooperation is needed cause the message queue has a max size, when the queue is full, no more messages can be sent, and when the queue is empty, no more messages can be consumed.</p>\n<p>Below is the code showing the producer:</p>\n<pre><code>package monitor;\n\npublic class Producer {\n    BoundedQueue queue;\n\n    public Producer(BoundedQueue queue) {\n        this.queue = queue;\n    }\n\n    public void send(int msg) throws InterruptedException {\n        synchronized (queue) {\n            // wait till there is room to produce\n            while (queue.isFull()) {\n                queue.wait();\n            }\n\n            // business logic here\n            queue.add(msg);\n            System.out.println(&quot;sent:&quot; + msg + &quot;, from:&quot; + Thread.currentThread().getName());\n\n            // before exit, call notify() to wake up waiting threads\n            queue.notifyAll();\n        }// implicit release the lock when exiting the synchronized block\n    }\n}\n</code></pre>\n<p>In the code, the <code>BoundedQueue</code> is used as a monitor, except for mutual exclusion, producers and consumers also need cooperation: when queue is full, producers need to <code>wait()</code>, and when queue has available slots, producers need to be <em>notified</em> to wake up from the wait, after producer send data to the queue, it also needs to call <code>notifyAll()</code> in case there are consumers waiting for the condition that the queue is not empty.</p>\n<p>Here, the ability to <code>wait</code> and <code>notify</code> is provided by Monitor to make threads cooperate.</p>\n<p>Hope this helps you understand the difference between Monitor and Lock.</p>\n<p>Ref:</p>\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Monitor_(synchronization)\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Monitor_(synchronization)</a></li>\n<li><a href=\"http://pages.cs.wisc.edu/%7Eremzi/OSTEP/threads-cv.pdf\" rel=\"nofollow noreferrer\">http://pages.cs.wisc.edu/~remzi/OSTEP/threads-cv.pdf</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2056806,"reputation":2735,"user_id":1834329,"accept_rate":60,"display_name":"Jared Beach"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1616457836,"creation_date":1616457836,"answer_id":66755468,"question_id":49610644,"body_markdown":"A [monitor](https://en.wikipedia.org/wiki/Monitor_(synchronization)) is a combination of mutual exclusion, the ability to wait for an external condition to be true, and the ability to notify other threads of that event.\r\nThe condition and notification pieces are essentially [cooperation](https://en.wikipedia.org/wiki/Cooperative_multitasking)\r\n\r\nA [lock](https://en.wikipedia.org/wiki/Lock_(computer_science)) provides mutual exclusion. This means it prevents multiple threads from accessing the same data at the same time.\r\n\r\nNotice a monitor uses mutual exclusion. Therefore, locks are used to implement monitors.","title":"In Java, what is the difference between a monitor and a lock","body":"<p>A <a href=\"https://en.wikipedia.org/wiki/Monitor_(synchronization)\" rel=\"nofollow noreferrer\">monitor</a> is a combination of mutual exclusion, the ability to wait for an external condition to be true, and the ability to notify other threads of that event.\nThe condition and notification pieces are essentially <a href=\"https://en.wikipedia.org/wiki/Cooperative_multitasking\" rel=\"nofollow noreferrer\">cooperation</a></p>\n<p>A <a href=\"https://en.wikipedia.org/wiki/Lock_(computer_science)\" rel=\"nofollow noreferrer\">lock</a> provides mutual exclusion. This means it prevents multiple threads from accessing the same data at the same time.</p>\n<p>Notice a monitor uses mutual exclusion. Therefore, locks are used to implement monitors.</p>\n"},{"tags":[],"owner":{"account_id":4610300,"reputation":63,"user_id":5689632,"display_name":"Shubham"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669066702,"creation_date":1669052493,"answer_id":74522899,"question_id":49610644,"body_markdown":"The other answers provide definitions of these two. Let&#39;s visualise a practical use case:\r\n\r\n    public class Test {\r\n\r\n    public synchronized static void testMonitor() throws InterruptedException {\r\n            Thread.sleep(1000);\r\n            System.out.println(&quot;done&quot;);\r\n    }\r\n\r\n    public static void testLock(Object lock) throws InterruptedException {\r\n        synchronized (lock){\r\n        Thread.sleep(1000);\r\n        System.out.println(&quot;done&quot;);}\r\n    }\r\n\r\n    public static void main(String[] args) throws InterruptedException {\r\n        long start = System.currentTimeMillis();\r\n        List&lt;Thread&gt; threadList = new ArrayList&lt;&gt;();\r\n        for(int i=0 ;i&lt; 10; i++){\r\n            Thread thread = new Thread(() -&gt; {\r\n                try {\r\n                    Test.testMonitor();\r\n                } catch (InterruptedException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            });\r\n            threadList.add(thread);\r\n            thread.start();\r\n        }\r\n\r\n        for(int i=0 ;i&lt; 10; i++){\r\n            threadList.get(i).join();\r\n        }\r\n        long end = System.currentTimeMillis();\r\n        System.out.println((end - start)/1000);\r\n\r\n    }\r\n\r\n    public static void main(String[] args) throws InterruptedException {\r\n        long start = System.currentTimeMillis();\r\n        List&lt;Thread&gt; threadList = new ArrayList&lt;&gt;();\r\n        for(int i=0 ;i&lt; 10; i++){\r\n            Object lock = new Object();\r\n            Thread thread = new Thread(() -&gt; {\r\n                try {\r\n                    Test.testLock(lock);\r\n                } catch (InterruptedException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            });\r\n            threadList.add(thread);\r\n            thread.start();\r\n        }\r\n\r\n        for(int i=0 ;i&lt; 10; i++){\r\n            threadList.get(i).join();\r\n        }\r\n        long end = System.currentTimeMillis();\r\n        System.out.println((end - start)/1000);\r\n\r\n    }}\r\n\r\nThe first method testMonitor uses monitor(intrinsic lock). Running 1st main method will print execution time as 10 seconds.\r\n\r\nThe second method testLock uses object lock. Running 2nd main method will print execution time as 1 seconds.\r\n","title":"In Java, what is the difference between a monitor and a lock","body":"<p>The other answers provide definitions of these two. Let's visualise a practical use case:</p>\n<pre><code>public class Test {\n\npublic synchronized static void testMonitor() throws InterruptedException {\n        Thread.sleep(1000);\n        System.out.println(&quot;done&quot;);\n}\n\npublic static void testLock(Object lock) throws InterruptedException {\n    synchronized (lock){\n    Thread.sleep(1000);\n    System.out.println(&quot;done&quot;);}\n}\n\npublic static void main(String[] args) throws InterruptedException {\n    long start = System.currentTimeMillis();\n    List&lt;Thread&gt; threadList = new ArrayList&lt;&gt;();\n    for(int i=0 ;i&lt; 10; i++){\n        Thread thread = new Thread(() -&gt; {\n            try {\n                Test.testMonitor();\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        });\n        threadList.add(thread);\n        thread.start();\n    }\n\n    for(int i=0 ;i&lt; 10; i++){\n        threadList.get(i).join();\n    }\n    long end = System.currentTimeMillis();\n    System.out.println((end - start)/1000);\n\n}\n\npublic static void main(String[] args) throws InterruptedException {\n    long start = System.currentTimeMillis();\n    List&lt;Thread&gt; threadList = new ArrayList&lt;&gt;();\n    for(int i=0 ;i&lt; 10; i++){\n        Object lock = new Object();\n        Thread thread = new Thread(() -&gt; {\n            try {\n                Test.testLock(lock);\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        });\n        threadList.add(thread);\n        thread.start();\n    }\n\n    for(int i=0 ;i&lt; 10; i++){\n        threadList.get(i).join();\n    }\n    long end = System.currentTimeMillis();\n    System.out.println((end - start)/1000);\n\n}}\n</code></pre>\n<p>The first method testMonitor uses monitor(intrinsic lock). Running 1st main method will print execution time as 10 seconds.</p>\n<p>The second method testLock uses object lock. Running 2nd main method will print execution time as 1 seconds.</p>\n"}],"owner":{"account_id":12799490,"reputation":315,"user_id":9261248,"display_name":"DuZhentong"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16562,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":49611089,"answer_count":6,"score":16,"last_activity_date":1693165519,"creation_date":1522669382,"question_id":49610644,"body_markdown":"Using the synchronized keyword method, using the javap command to view the bytecode, it is found that monitor is used, and if it is possible to call the monitor when the synchronized is implemented, is that my understanding, right? Please correct it if you do not. What is the relationship between them? What is the relationship between the lock and the monitor?","title":"In Java, what is the difference between a monitor and a lock","body":"<p>Using the synchronized keyword method, using the javap command to view the bytecode, it is found that monitor is used, and if it is possible to call the monitor when the synchronized is implemented, is that my understanding, right? Please correct it if you do not. What is the relationship between them? What is the relationship between the lock and the monitor?</p>\n"},{"tags":["java","spring","spring-security","oauth-2.0"],"comments":[{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":1,"creation_date":1693034687,"post_id":76981449,"comment_id":135709115,"body_markdown":"Never return jwts to end clients, always cookies since jwts lack important security features that cookies have. I suggest you read up on Spring handles login against google, facebook etc. Spring will get the jwt and then issue a cookie to your client.","body":"Never return jwts to end clients, always cookies since jwts lack important security features that cookies have. I suggest you read up on Spring handles login against google, facebook etc. Spring will get the jwt and then issue a cookie to your client."},{"owner":{"account_id":29226450,"reputation":58,"user_id":22391023,"display_name":"Yusuf Khan"},"score":0,"creation_date":1693066153,"post_id":76981449,"comment_id":135712181,"body_markdown":"Spring can deal with logins with Google/FB etc. with the Spring OAuth2 client dependency, but that is for a web page. I want my backend to be for mobile only right now","body":"Spring can deal with logins with Google/FB etc. with the Spring OAuth2 client dependency, but that is for a web page. I want my backend to be for mobile only right now"},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1693066340,"post_id":76981449,"comment_id":135712210,"body_markdown":"There is no difference between web page and a mobile client. They are both clients and they both do rest calls! And both are vulnerable to the same sort of exploits","body":"There is no difference between web page and a mobile client. They are both clients and they both do rest calls! And both are vulnerable to the same sort of exploits"},{"owner":{"account_id":29226450,"reputation":58,"user_id":22391023,"display_name":"Yusuf Khan"},"score":0,"creation_date":1693066899,"post_id":76981449,"comment_id":135712281,"body_markdown":"In Spring there is. Spring doesn&#39;t have direct support for what I am trying to accomplish if my Spring app is back-end only for a mobile app. Similarly to what this other question has asked: https://stackoverflow.com/questions/43733865/mobile-sign-up-with-spring-social?rq=2","body":"In Spring there is. Spring doesn&#39;t have direct support for what I am trying to accomplish if my Spring app is back-end only for a mobile app. Similarly to what this other question has asked: <a href=\"https://stackoverflow.com/questions/43733865/mobile-sign-up-with-spring-social?rq=2\" title=\"mobile sign up with spring social\">stackoverflow.com/questions/43733865/&hellip;</a>"},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1693067532,"post_id":76981449,"comment_id":135712355,"body_markdown":"@Toerktumlare if you have knowledge of documentation or blog posts for authorizing native applications requests with sessions on a backend configured as an OAuth2 client, I&#39;d be grateful that you share it. This would be particularly useful with ReactNative for which the libs for configuring native app as public client are not really maintained and don&#39;t even support app links / deep links correctly (have to use custom scheme, which is now discouraged).","body":"@Toerktumlare if you have knowledge of documentation or blog posts for authorizing native applications requests with sessions on a backend configured as an OAuth2 client, I&#39;d be grateful that you share it. This would be particularly useful with ReactNative for which the libs for configuring native app as public client are not really maintained and don&#39;t even support app links / deep links correctly (have to use custom scheme, which is now discouraged)."},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1693073092,"post_id":76981449,"comment_id":135713020,"body_markdown":"i dont really understand your question but react native themselfes have https://reactnative.dev/docs/security which states where sessions/sensitive information should be stored on mobile applications, other than that any mobile application should be treated like any other client. Mobile clients can easy be reversed to obtain keys and are susceptible to XSS attacks etc. Mobile apps should most preferably use code flow since implicit flow now is deprecated which means using the BFF-pattern, if one wants to specifically use spring social logins, you should treat your client like its a web browser","body":"i dont really understand your question but react native themselfes have <a href=\"https://reactnative.dev/docs/security\" rel=\"nofollow noreferrer\">reactnative.dev/docs/security</a> which states where sessions/sensitive information should be stored on mobile applications, other than that any mobile application should be treated like any other client. Mobile clients can easy be reversed to obtain keys and are susceptible to XSS attacks etc. Mobile apps should most preferably use code flow since implicit flow now is deprecated which means using the BFF-pattern, if one wants to specifically use spring social logins, you should treat your client like its a web browser"},{"owner":{"account_id":29226450,"reputation":58,"user_id":22391023,"display_name":"Yusuf Khan"},"score":0,"creation_date":1693073960,"post_id":76981449,"comment_id":135713113,"body_markdown":"I think you are missing the question. I am wanting to use Spring Security to validate a JWT token (the credentials) provided by the client after they did a social sign-in client-side (on mobile app) with an OAuth2 client. You answered #2, and I can just use cookies from Spring Security for that. But I still need insight (from you or someone else) on #1 and #2. Thanks.","body":"I think you are missing the question. I am wanting to use Spring Security to validate a JWT token (the credentials) provided by the client after they did a social sign-in client-side (on mobile app) with an OAuth2 client. You answered #2, and I can just use cookies from Spring Security for that. But I still need insight (from you or someone else) on #1 and #2. Thanks."},{"owner":{"account_id":29226450,"reputation":58,"user_id":22391023,"display_name":"Yusuf Khan"},"score":0,"creation_date":1693074452,"post_id":76981449,"comment_id":135713150,"body_markdown":"Also it seems that JWT is preferred over cookies for mobile applications (React Native). If I generate my own JWT for a user after I authenticate their SSO (Google/FB) JWT, I can then return an access token to the user with my own backend login API. I believe you are misunderstanding JWTs in this context.. the article you linked above doesn&#39;t mention anything against JWTs in my use case.","body":"Also it seems that JWT is preferred over cookies for mobile applications (React Native). If I generate my own JWT for a user after I authenticate their SSO (Google/FB) JWT, I can then return an access token to the user with my own backend login API. I believe you are misunderstanding JWTs in this context.. the article you linked above doesn&#39;t mention anything against JWTs in my use case."},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1693082344,"post_id":76981449,"comment_id":135713959,"body_markdown":"@Toerktumlare as far as I understand the link you provided, it does not explain how you can have the REST requests to a BFF executed in the same session as the one in which the authorization_code flow is executed. I know the value of the BFF pattern, I just didn&#39;t manage to implement it in native mobile applications (using ReactNative, Capacitor or Flutter).","body":"@Toerktumlare as far as I understand the link you provided, it does not explain how you can have the REST requests to a BFF executed in the same session as the one in which the authorization_code flow is executed. I know the value of the BFF pattern, I just didn&#39;t manage to implement it in native mobile applications (using ReactNative, Capacitor or Flutter)."},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1693083773,"post_id":76981449,"comment_id":135714115,"body_markdown":"I&#39;d even add that if you [browse down the page you linked](https://reactnative.dev/docs/security#oauth2-and-redirects) the authors are talking about a mobile app configured as a &quot;public&quot; OAuth2 client and using authorization_code with PKCE to **fetch tokens**, not of a mobile frontend (not OAuth2) talking to an OAuth2 &quot;confidential&quot; client backend, authorizing requests with session (like I&#39;d like to achieve, with tokens staying on the server).","body":"I&#39;d even add that if you <a href=\"https://reactnative.dev/docs/security#oauth2-and-redirects\" rel=\"nofollow noreferrer\">browse down the page you linked</a> the authors are talking about a mobile app configured as a &quot;public&quot; OAuth2 client and using authorization_code with PKCE to <b>fetch tokens</b>, not of a mobile frontend (not OAuth2) talking to an OAuth2 &quot;confidential&quot; client backend, authorizing requests with session (like I&#39;d like to achieve, with tokens staying on the server)."},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1693093973,"post_id":76981449,"comment_id":135714871,"body_markdown":"@Toerktumlare I should have phrased my questions differently: Have you ever implemented the pattern you promote with a native mobile app? Can you link a sample (I haven&#39;t found a single one so far, all are configuring native app as &quot;public&quot; OAuth2 client) or explain in details how it works? But nevermind, thinking of it again, I believe I found the solution: I was deep-linking back into the app too late (after the client have fetched tokens).","body":"@Toerktumlare I should have phrased my questions differently: Have you ever implemented the pattern you promote with a native mobile app? Can you link a sample (I haven&#39;t found a single one so far, all are configuring native app as &quot;public&quot; OAuth2 client) or explain in details how it works? But nevermind, thinking of it again, I believe I found the solution: I was deep-linking back into the app too late (after the client have fetched tokens)."},{"owner":{"account_id":20782878,"reputation":893,"user_id":15982771,"display_name":"Blue Robin"},"score":0,"creation_date":1693319603,"post_id":76981449,"comment_id":135743168,"body_markdown":"This question is a bit broad. If you have multiple questions in one, try to focus on one question to fix this question.","body":"This question is a bit broad. If you have multiple questions in one, try to focus on one question to fix this question."}],"answers":[{"comments":[{"owner":{"account_id":29226450,"reputation":58,"user_id":22391023,"display_name":"Yusuf Khan"},"score":0,"creation_date":1693085629,"post_id":76984809,"comment_id":135714269,"body_markdown":"I see.. but I have my own database table for a User that I want to use. So you are telling me if I want a user to Single Sign On with Google/FB/etc in my mobile app and use that to authenticate with my Spring REST API, I would need to make my own authorization server? I don&#39;t necessarily want to make my own auth/resources servers, I just want to enable Single Sign On with my mobile app so they can use my REST API. This stuff is confusing for me because of how complicated Spring Security is to learn as a beginner so I am trying my best to understand.","body":"I see.. but I have my own database table for a User that I want to use. So you are telling me if I want a user to Single Sign On with Google/FB/etc in my mobile app and use that to authenticate with my Spring REST API, I would need to make my own authorization server? I don&#39;t necessarily want to make my own auth/resources servers, I just want to enable Single Sign On with my mobile app so they can use my REST API. This stuff is confusing for me because of how complicated Spring Security is to learn as a beginner so I am trying my best to understand."},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":1,"creation_date":1693088703,"post_id":76984809,"comment_id":135714530,"body_markdown":"The complexity you complain about is not related to Spring. This is just how OAuth2 / OpenID works. If you want SSO with the OpenID providers you link, you have no other choice than understanding OAuth2: what the responsibility of each actors are (client, resource server, authorization server and resource owner) and how the flows work (a minimum of `authorization_code`, `refresh_token` and `client_credentials`)","body":"The complexity you complain about is not related to Spring. This is just how OAuth2 / OpenID works. If you want SSO with the OpenID providers you link, you have no other choice than understanding OAuth2: what the responsibility of each actors are (client, resource server, authorization server and resource owner) and how the flows work (a minimum of <code>authorization_code</code>, <code>refresh_token</code> and <code>client_credentials</code>)"},{"owner":{"account_id":29226450,"reputation":58,"user_id":22391023,"display_name":"Yusuf Khan"},"score":0,"creation_date":1693097596,"post_id":76984809,"comment_id":135715092,"body_markdown":"Right. But what I mean is, implementing OAuth 2 SSO on Spring for web clients is easy. I just implement the OAuth2 Client dependency then throw in my Client ID and Client Secret. So in better words, how can I mimic this behavior for a React Native mobile application - to my understanding that would not require an Auth or Resource server; as Spring OAuth2 Client works for the web app side without that. I&#39;ll look more into understanding OAuth 2 and how it works, I feel like I&#39;m overthinking this all.","body":"Right. But what I mean is, implementing OAuth 2 SSO on Spring for web clients is easy. I just implement the OAuth2 Client dependency then throw in my Client ID and Client Secret. So in better words, how can I mimic this behavior for a React Native mobile application - to my understanding that would not require an Auth or Resource server; as Spring OAuth2 Client works for the web app side without that. I&#39;ll look more into understanding OAuth 2 and how it works, I feel like I&#39;m overthinking this all."},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1693112963,"post_id":76984809,"comment_id":135715776,"body_markdown":"See my updated answer.","body":"See my updated answer."},{"owner":{"account_id":29226450,"reputation":58,"user_id":22391023,"display_name":"Yusuf Khan"},"score":0,"creation_date":1693158519,"post_id":76984809,"comment_id":135720110,"body_markdown":"I see, thanks for the insight. I used Amazon Cognito before but with AWS-Amplify and ditched it because AWS-Amplify is very limited (which is why I am making my own mobile backend in Spring). If I use Keycloak, would I be able to easily link sign-ins (through Google, FB, Apple, etc.) to my own database?","body":"I see, thanks for the insight. I used Amazon Cognito before but with AWS-Amplify and ditched it because AWS-Amplify is very limited (which is why I am making my own mobile backend in Spring). If I use Keycloak, would I be able to easily link sign-ins (through Google, FB, Apple, etc.) to my own database?"},{"owner":{"account_id":29226450,"reputation":58,"user_id":22391023,"display_name":"Yusuf Khan"},"score":0,"creation_date":1693162526,"post_id":76984809,"comment_id":135720525,"body_markdown":"Okay after some research and re-reading what you said it makes sense. My Spring backend for my mobile app is the resource server. I would make an authorization server (Keycloak, Okta, etc.) where I have federated identity providers set up (Google, etc.). Then my OAuth2 client (mobile and web frontend) would get a token from the auth server (by signing in), then grant me an access token to then use for GET/POST calls to my resource server (Spring backend). Am I understanding it correctly now? Only question is how I would add these users to my own DB","body":"Okay after some research and re-reading what you said it makes sense. My Spring backend for my mobile app is the resource server. I would make an authorization server (Keycloak, Okta, etc.) where I have federated identity providers set up (Google, etc.). Then my OAuth2 client (mobile and web frontend) would get a token from the auth server (by signing in), then grant me an access token to then use for GET/POST calls to my resource server (Spring backend). Am I understanding it correctly now? Only question is how I would add these users to my own DB"},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1693163966,"post_id":76984809,"comment_id":135720686,"body_markdown":"This is the option where the mobile app is a public OAuth2 client. It has the vulnerabilities of public clients and exposes tokens to the internet. The other option with a BFF between the front-ends (mobile app or web app) and your resource server(s) has none of this vulnerabilities. For the other point, most OpenID Providers let you customise the claims of access token =&gt; you should be able to have it carry the user data you need.","body":"This is the option where the mobile app is a public OAuth2 client. It has the vulnerabilities of public clients and exposes tokens to the internet. The other option with a BFF between the front-ends (mobile app or web app) and your resource server(s) has none of this vulnerabilities. For the other point, most OpenID Providers let you customise the claims of access token =&gt; you should be able to have it carry the user data you need."},{"owner":{"account_id":29226450,"reputation":58,"user_id":22391023,"display_name":"Yusuf Khan"},"score":0,"creation_date":1693169182,"post_id":76984809,"comment_id":135721176,"body_markdown":"Makes sense. I am going to implement the public client first then transition to BFF after just so I can get things set up. I am going to store the user from the auth ID after authentication so I can do my own things as well such as linking them to groups, access levels (admin, user, etc.) and so on. Thanks for the help","body":"Makes sense. I am going to implement the public client first then transition to BFF after just so I can get things set up. I am going to store the user from the auth ID after authentication so I can do my own things as well such as linking them to groups, access levels (admin, user, etc.) and so on. Thanks for the help"},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1693169717,"post_id":76984809,"comment_id":135721225,"body_markdown":"This groups definition should be in the authorization server and assignment to user included in tokens. Whatever the authorization server you choose, it should have a REST API for your own resource servers to manipulate user data (groups definition, assignment to users, user profiles updates etc.)","body":"This groups definition should be in the authorization server and assignment to user included in tokens. Whatever the authorization server you choose, it should have a REST API for your own resource servers to manipulate user data (groups definition, assignment to users, user profiles updates etc.)"},{"owner":{"account_id":29226450,"reputation":58,"user_id":22391023,"display_name":"Yusuf Khan"},"score":0,"creation_date":1693172565,"post_id":76984809,"comment_id":135721477,"body_markdown":"I noticed that - however for my API and my mobile app to function the way I want, I need my own database tables for groups and other user-to-user relations, access levels, and so on that tie in with my already existing data that persists in my REST API.","body":"I noticed that - however for my API and my mobile app to function the way I want, I need my own database tables for groups and other user-to-user relations, access levels, and so on that tie in with my already existing data that persists in my REST API."},{"owner":{"account_id":29226450,"reputation":58,"user_id":22391023,"display_name":"Yusuf Khan"},"score":0,"creation_date":1693173192,"post_id":76984809,"comment_id":135721534,"body_markdown":"In an ideal scenario, I want have my own relations between the User and multiple things such as Group &lt;-&gt; User (where Group ties into other data tables I have), User -&gt; other User, and other relations. I don&#39;t think these platforms are that flexible to support that.","body":"In an ideal scenario, I want have my own relations between the User and multiple things such as Group &lt;-&gt; User (where Group ties into other data tables I have), User -&gt; other User, and other relations. I don&#39;t think these platforms are that flexible to support that."},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1693173841,"post_id":76984809,"comment_id":135721588,"body_markdown":"Think again. Maybe consider that **1)** you don&#39;t necessarily need all data in the same database (you should be able to find a unique key for users) and **2)** some authorization servers can be backed by your existing users database (Keycloak and spring-authorization-server are samples). But this are completely different question. I think you got more than enough useful content and the answer to several questions. I won&#39;t architect your information system.","body":"Think again. Maybe consider that <b>1)</b> you don&#39;t necessarily need all data in the same database (you should be able to find a unique key for users) and <b>2)</b> some authorization servers can be backed by your existing users database (Keycloak and spring-authorization-server are samples). But this are completely different question. I think you got more than enough useful content and the answer to several questions. I won&#39;t architect your information system."},{"owner":{"account_id":29226450,"reputation":58,"user_id":22391023,"display_name":"Yusuf Khan"},"score":0,"creation_date":1693174218,"post_id":76984809,"comment_id":135721619,"body_markdown":"I think you misunderstood what I said. I was implying I would use the unique ID provided by the third party authorization server (Okta/Keycloak) to store in my own relational database. Anyways, I was not asking for you to &quot;architect&quot; anything for me. I was simply responding to your comment. Thanks for the help and have a nice day. Goodbye","body":"I think you misunderstood what I said. I was implying I would use the unique ID provided by the third party authorization server (Okta/Keycloak) to store in my own relational database. Anyways, I was not asking for you to &quot;architect&quot; anything for me. I was simply responding to your comment. Thanks for the help and have a nice day. Goodbye"}],"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"comment_count":13,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1693165497,"creation_date":1693083138,"answer_id":76984809,"question_id":76981449,"body_markdown":"It should actually be possible to have a mobile application querying a backend configured as an OAuth2 client (Spring or not).\r\n\r\nAn important thing to understand beforehand is that requests to an OAuth2 client are authorized with sessions, not tokens (JWT or not). **Such a backend is stateful and vulnerable to CSRF attacks**. You&#39;ll have to configure your backend to expose a CSRF cookie and manually extract its value in your mobile app to set it as a header (usually `X-XSRF-TOKEN`) to each of your `POST`, `PUT` and `DELETE` requests).\r\n\r\n### Sample authorization_code flow in a web app as you already got working\r\n\r\n 1. the user is redirected to an URI on the client responsible for initiating the flow. Let&#39;s say `https://bff.demo.c4-soft.com/oauth2/authorization/keycloak-confidential-user`\r\n 2. what he gets as response is a redirection to the authorization endpoint on the authorization server. Something like: `https://oidc.c4-soft.com/auth/realms/spring-addons/protocol/openid-connect/auth?response_type=code&amp;client_id=spring-addons-bff&amp;scope=openid%20profile%20email%20offline_access%20roles&amp;state=nToh3rnFS-tLVTJ7ajWkq-Fbmi0fUhicoS1nxbdCh8I%3D&amp;redirect_uri=https://bff.demo.c4-soft.com/login/oauth2/code/keycloak-confidential-user&amp;nonce=sNWSLXrLBOfb77jZtImq3k0gV4cg_qKoFLiaEWgbsio`. This URI must be followed with a user agent capable of displaying login UI (login and password, but also maybe multi-factor authentication tokens, etc.)\r\n 3. the user is redirected back to the client using the `redirect_uri` passed as query parameter (after having a input credentials if he doesn&#39;t have a session opened on the authorization server for the client-id and the user-agent used). Let&#39;s say `https://bff.demo.c4-soft.com/login/oauth2/code/keycloak-confidential-user?state=ZmaSZzNr5WQ8BjyOAMHtnC8SMty1kEMHuQSCLJO4NEE%3D&amp;session_state=1ec90be5-1388-44ac-8b6c-39910558c037&amp;code=c067d4d5-c3eb-4277-9776-9b5c2509b52a.1ec90be5-1388-44ac-8b6c-39910558c037.fb507d1e-2f06-425c-8885-5f232dc02b4e`\r\n 4. the client calls the authorization server endpoint to exchange authorization code for tokens (directly, this does not goes through user device and should require both client-id and client-secret), and stores it in session.\r\n\r\n### What changes in a native app?\r\n\r\nIf you redirect the user to the authorization server authorization endpoint with the system browser (or a web view) and let the authorization code flow go to its end normally, the user identity on the backend will be tied to the session for this user agent, not the REST client in your app, and REST requests from your app will remain unauthorized.\r\n\r\nThe option I just thought of is to modify the request at step 2. above to replace the `redirect_uri` with a deep-link to your app. When entering in the app back from authorization server with authorization code, extract the parameters, and **follow the redirection as it was before you modify it, but using your native app REST client** (not the system browser or a webview). Then, let the flow end normally. This should be enough for the tokens to be tied to your native app REST client session.\r\n\r\n### Why you should probably not do exactly like that\r\n\r\nAs stated above, OAuth2 clients are stateful. This poorly scales. Also, you&#39;ll run into problems as soon as you leave the single monolithic app model (if you adopt a multi-service architecture).\r\n\r\nREST APIs are much better configured as OAuth2 resource servers.\r\n\r\nThe trick is that some of the social identity providers you list deliver &quot;opaque&quot; access tokens, not JWTs, and introspecting tokens on an authorization server standing in another data center is hardly acceptable. This is the case of Google for instance.\r\n\r\nAccording to OpenID spec, only ID token have to be JWTs. It is safe to send ID tokens around, including to frontends, but the reason for this safety is it should only be used to read user info, **not to authorize requests** (anyone accessing the ID token can read the userinfo, but shouldn&#39;t be able to do anything on behalf of that user using ID tokens).\r\n\r\nThe audience of the access tokens (by whom it is intended to be used) delivered by each of the providers you list are their own APIs (Google access token for Google APIs, Github access token for Github API, etc.). Not your REST API.\r\n\r\nIf you want tokens to query your own resource servers, you should configure an authorization server of your own. Choose one with identity federation features (&quot;login with ...&quot;). Keycloak is a famous sample you can install on your desktop and servers. Auth0, Okta and Amazon Cognito are just a few samples among many cloud offers. You could even build your own with `spring-authorization-server`.\r\n\r\nYou then use this authorization server as only reference in your system: resource servers and whatever are your OAuth2 clients (mobile apps configured as &quot;public&quot; clients or **B**ackenf **F**or **F**rontend configured as &quot;confidential&quot; client (as discussed in the comments to your question).\r\n\r\n`spring-cloud-gateway` can be configured as BFF with `spring-boot-starter-oauth2-client` and `TokenRelay=` filter. This gateway will be stateful, but it is a thin layer only responsible for routing and storing OAuth2 tokens. Most part of the processing will be done by stateless resource server behind it.","title":"Spring Security for Mobile Application with 3rd Party SSO","body":"<p>It should actually be possible to have a mobile application querying a backend configured as an OAuth2 client (Spring or not).</p>\n<p>An important thing to understand beforehand is that requests to an OAuth2 client are authorized with sessions, not tokens (JWT or not). <strong>Such a backend is stateful and vulnerable to CSRF attacks</strong>. You'll have to configure your backend to expose a CSRF cookie and manually extract its value in your mobile app to set it as a header (usually <code>X-XSRF-TOKEN</code>) to each of your <code>POST</code>, <code>PUT</code> and <code>DELETE</code> requests).</p>\n<h3>Sample authorization_code flow in a web app as you already got working</h3>\n<ol>\n<li>the user is redirected to an URI on the client responsible for initiating the flow. Let's say <code>https://bff.demo.c4-soft.com/oauth2/authorization/keycloak-confidential-user</code></li>\n<li>what he gets as response is a redirection to the authorization endpoint on the authorization server. Something like: <code>https://oidc.c4-soft.com/auth/realms/spring-addons/protocol/openid-connect/auth?response_type=code&amp;client_id=spring-addons-bff&amp;scope=openid%20profile%20email%20offline_access%20roles&amp;state=nToh3rnFS-tLVTJ7ajWkq-Fbmi0fUhicoS1nxbdCh8I%3D&amp;redirect_uri=https://bff.demo.c4-soft.com/login/oauth2/code/keycloak-confidential-user&amp;nonce=sNWSLXrLBOfb77jZtImq3k0gV4cg_qKoFLiaEWgbsio</code>. This URI must be followed with a user agent capable of displaying login UI (login and password, but also maybe multi-factor authentication tokens, etc.)</li>\n<li>the user is redirected back to the client using the <code>redirect_uri</code> passed as query parameter (after having a input credentials if he doesn't have a session opened on the authorization server for the client-id and the user-agent used). Let's say <code>https://bff.demo.c4-soft.com/login/oauth2/code/keycloak-confidential-user?state=ZmaSZzNr5WQ8BjyOAMHtnC8SMty1kEMHuQSCLJO4NEE%3D&amp;session_state=1ec90be5-1388-44ac-8b6c-39910558c037&amp;code=c067d4d5-c3eb-4277-9776-9b5c2509b52a.1ec90be5-1388-44ac-8b6c-39910558c037.fb507d1e-2f06-425c-8885-5f232dc02b4e</code></li>\n<li>the client calls the authorization server endpoint to exchange authorization code for tokens (directly, this does not goes through user device and should require both client-id and client-secret), and stores it in session.</li>\n</ol>\n<h3>What changes in a native app?</h3>\n<p>If you redirect the user to the authorization server authorization endpoint with the system browser (or a web view) and let the authorization code flow go to its end normally, the user identity on the backend will be tied to the session for this user agent, not the REST client in your app, and REST requests from your app will remain unauthorized.</p>\n<p>The option I just thought of is to modify the request at step 2. above to replace the <code>redirect_uri</code> with a deep-link to your app. When entering in the app back from authorization server with authorization code, extract the parameters, and <strong>follow the redirection as it was before you modify it, but using your native app REST client</strong> (not the system browser or a webview). Then, let the flow end normally. This should be enough for the tokens to be tied to your native app REST client session.</p>\n<h3>Why you should probably not do exactly like that</h3>\n<p>As stated above, OAuth2 clients are stateful. This poorly scales. Also, you'll run into problems as soon as you leave the single monolithic app model (if you adopt a multi-service architecture).</p>\n<p>REST APIs are much better configured as OAuth2 resource servers.</p>\n<p>The trick is that some of the social identity providers you list deliver &quot;opaque&quot; access tokens, not JWTs, and introspecting tokens on an authorization server standing in another data center is hardly acceptable. This is the case of Google for instance.</p>\n<p>According to OpenID spec, only ID token have to be JWTs. It is safe to send ID tokens around, including to frontends, but the reason for this safety is it should only be used to read user info, <strong>not to authorize requests</strong> (anyone accessing the ID token can read the userinfo, but shouldn't be able to do anything on behalf of that user using ID tokens).</p>\n<p>The audience of the access tokens (by whom it is intended to be used) delivered by each of the providers you list are their own APIs (Google access token for Google APIs, Github access token for Github API, etc.). Not your REST API.</p>\n<p>If you want tokens to query your own resource servers, you should configure an authorization server of your own. Choose one with identity federation features (&quot;login with ...&quot;). Keycloak is a famous sample you can install on your desktop and servers. Auth0, Okta and Amazon Cognito are just a few samples among many cloud offers. You could even build your own with <code>spring-authorization-server</code>.</p>\n<p>You then use this authorization server as only reference in your system: resource servers and whatever are your OAuth2 clients (mobile apps configured as &quot;public&quot; clients or <strong>B</strong>ackenf <strong>F</strong>or <strong>F</strong>rontend configured as &quot;confidential&quot; client (as discussed in the comments to your question).</p>\n<p><code>spring-cloud-gateway</code> can be configured as BFF with <code>spring-boot-starter-oauth2-client</code> and <code>TokenRelay=</code> filter. This gateway will be stateful, but it is a thin layer only responsible for routing and storing OAuth2 tokens. Most part of the processing will be done by stateless resource server behind it.</p>\n"}],"owner":{"account_id":29226450,"reputation":58,"user_id":22391023,"display_name":"Yusuf Khan"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":249,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":76984809,"answer_count":1,"score":-2,"last_activity_date":1693165497,"creation_date":1693020384,"question_id":76981449,"body_markdown":"I want to allow SSO (single sign-on) via Google, Facebook, or Apple, etc. while having my own User Entity in a database (Spring JPA) for my mobile application project. My User Entity will hold general info (i.e. Email, First/Last, etc.) along with app-related info (i.e. groups, permissions, etc.).\r\n\r\nThe mobile application front-end is React Native, and my back-end is a Spring app (back-end only) that holds the REST API.\r\n\r\nIt looks like I would first allow SSO for Google, Facebook, etc. via an OAuth2 Client on the mobile app front-end. The result of the OAuth2 sign-in (a JWT token) would be sent to the back-end (my Spring app), where I would verify the token and authenticate the user (i.e. create new user, or update existing) and grant requests.\r\n\r\nThis looks doable, however I ran into some issues/questions to actually accomplish this:\r\n\r\n1. How would I verify the user properly via JWT? A JWT has an identity token (which includes credentials I need, i.e. &quot;email&quot;, &quot;first/last&quot;, etc.) and an access token. Do I need only need the identity token, or both identity and access tokens?\r\n\r\n2. What would I return to the user after verifying &amp; authenticating them via Spring Security? My own JWT, or the JWT (Google/FB/etc.) that the user sent in?\r\n\r\n3. This is passwordless sign-in, so would I need not only my own AuthenticationProvider and UserDetailsService but also a custom Spring Token instead of &quot;UsernamePasswordAuthenticationToken&quot; instead?\r\n\r\nI have looked into Spring Security&#39;s authentication process and many examples, but they are not specific to what I am trying to accomplish. I&#39;ve seen some other questions on here and other websites regarding it, but no explicit examples are provided.\r\n\r\nIf anyone can point me in the right direction, that would be great. Thanks.","title":"Spring Security for Mobile Application with 3rd Party SSO","body":"<p>I want to allow SSO (single sign-on) via Google, Facebook, or Apple, etc. while having my own User Entity in a database (Spring JPA) for my mobile application project. My User Entity will hold general info (i.e. Email, First/Last, etc.) along with app-related info (i.e. groups, permissions, etc.).</p>\n<p>The mobile application front-end is React Native, and my back-end is a Spring app (back-end only) that holds the REST API.</p>\n<p>It looks like I would first allow SSO for Google, Facebook, etc. via an OAuth2 Client on the mobile app front-end. The result of the OAuth2 sign-in (a JWT token) would be sent to the back-end (my Spring app), where I would verify the token and authenticate the user (i.e. create new user, or update existing) and grant requests.</p>\n<p>This looks doable, however I ran into some issues/questions to actually accomplish this:</p>\n<ol>\n<li><p>How would I verify the user properly via JWT? A JWT has an identity token (which includes credentials I need, i.e. &quot;email&quot;, &quot;first/last&quot;, etc.) and an access token. Do I need only need the identity token, or both identity and access tokens?</p>\n</li>\n<li><p>What would I return to the user after verifying &amp; authenticating them via Spring Security? My own JWT, or the JWT (Google/FB/etc.) that the user sent in?</p>\n</li>\n<li><p>This is passwordless sign-in, so would I need not only my own AuthenticationProvider and UserDetailsService but also a custom Spring Token instead of &quot;UsernamePasswordAuthenticationToken&quot; instead?</p>\n</li>\n</ol>\n<p>I have looked into Spring Security's authentication process and many examples, but they are not specific to what I am trying to accomplish. I've seen some other questions on here and other websites regarding it, but no explicit examples are provided.</p>\n<p>If anyone can point me in the right direction, that would be great. Thanks.</p>\n"},{"tags":["java","ssl","protocols","tls1.2","java-7"],"comments":[{"owner":{"account_id":8860436,"reputation":45945,"user_id":7509065,"display_name":"Joseph Sible-Reinstate Monica"},"score":2,"creation_date":1693164689,"post_id":76988621,"comment_id":135720764,"body_markdown":"If you care about security, then you need to ensure that you *don&#39;t* support the lower versions.","body":"If you care about security, then you need to ensure that you <i>don&#39;t</i> support the lower versions."},{"owner":{"account_id":26599006,"reputation":1,"user_id":20220903,"display_name":"Muddu Madesh"},"score":0,"creation_date":1693165313,"post_id":76988621,"comment_id":135720843,"body_markdown":"@JosephSible-ReinstateMonica Thanks for the advice. We are migrating the things it will take some time. But for now we are in a position where we need to enable this protocol ASAP.","body":"@JosephSible-ReinstateMonica Thanks for the advice. We are migrating the things it will take some time. But for now we are in a position where we need to enable this protocol ASAP."},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":3,"creation_date":1693167115,"post_id":76988621,"comment_id":135721000,"body_markdown":"You are probably aware but just for the record Java 7 has been EOL since 2015 and it is a security nightmare. Anyone using it should be migrating urgently to a recent release.","body":"You are probably aware but just for the record Java 7 has been EOL since 2015 and it is a security nightmare. Anyone using it should be migrating urgently to a recent release."}],"answers":[{"tags":[],"owner":{"account_id":3509196,"reputation":16493,"user_id":2933977,"display_name":"stdunbar"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1693165303,"creation_date":1693165303,"answer_id":76988676,"question_id":76988621,"body_markdown":"While I strongly question using an unsupported Java version and using anything less than TLS 1.2, it&#39;s pretty straight forward:\r\n\r\n\r\n     SSLContext sslContext = SSLContexts.custom()\r\n         .build()\r\n    \r\n    SSLConnectionSocketFactory socketFactory = new SSLConnectionSocketFactory(\r\n         sslContext,\r\n         new String[]{ &quot;TLSv1.0&quot;, &quot;TLSv1.1&quot;, &quot;TLSv1.2&quot; },\r\n         null,\r\n         SSLConnectionSocketFactory.getDefaultHostnameVerifier())\r\n\r\nYour HttpClient calls will now accept TLS 1.2 and below.\r\n\r\n","title":"How to enable the TLSv1.2 support in java 7","body":"<p>While I strongly question using an unsupported Java version and using anything less than TLS 1.2, it's pretty straight forward:</p>\n<pre><code> SSLContext sslContext = SSLContexts.custom()\n     .build()\n\nSSLConnectionSocketFactory socketFactory = new SSLConnectionSocketFactory(\n     sslContext,\n     new String[]{ &quot;TLSv1.0&quot;, &quot;TLSv1.1&quot;, &quot;TLSv1.2&quot; },\n     null,\n     SSLConnectionSocketFactory.getDefaultHostnameVerifier())\n</code></pre>\n<p>Your HttpClient calls will now accept TLS 1.2 and below.</p>\n"}],"owner":{"account_id":26599006,"reputation":1,"user_id":20220903,"display_name":"Muddu Madesh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693165303,"creation_date":1693164295,"question_id":76988621,"body_markdown":"We wanted to enable the **TLSv1.2** protocol with version of **Java 7**, while also ensuring support for the lower versions.\r\n\r\nI am aware that we can utilize SSLContext.getInstance(&quot;TLSv1.2&quot;) to activate TLSv1.2. However, our scenario involves the utilization of an Axis repository, specifically the org.apache.commons.httpclient.* packages, for conducting SOAP calls.\r\n\r\n\r\nWe&#39;ve implemented the usage of ProtocolSocketFactory to register the protocol, and in this context, we&#39;ve designed a custom protocol factory class that extends HttpSecureProtocol.\r\n\r\nNow using this existing code how can I achieve this.\r\n\r\n**Initialization class:\r\n\r\n\r\n    PropertiesLoader props = PropertiesLoader.getInstance();\r\n            // Mask the system variable. Causes problems, as not-commons-ssl expects the private key to be there\r\n            Properties sysProps = System.getProperties();\r\n            String sysKeystore = (String) sysProps.remove(&quot;javax.net.ssl.keyStore&quot;);\r\n            // use client keystore for connection factory\r\n            ProtocolSocketFactory factory = new FixedProtocolSocketFactory(KEYSTORE, KEYSTORE_PASS);\r\n            Protocol.unregisterProtocol(&quot;https&quot;);\r\n            Protocol.registerProtocol(&quot;https&quot;, new Protocol(&quot;https&quot;, factory , HttpsURL.DEFAULT_PORT));\r\n            Protocol.registerProtocol(&quot;https&quot;, new Protocol(&quot;https&quot;, factory , 8443));\r\n            if (sysKeystore != null) {\r\n                sysProps.setProperty(&quot;javax.net.ssl.keyStore&quot;, sysKeystore);\r\n            }\r\n\r\n\r\n**Custom class:\r\n**\r\n\r\n    public class FixedProtocolSocketFactory extends HttpSecureProtocol {\r\n    \t\r\n        public FixedProtocolSocketFactory(final String keystore,\r\n                final String keystorePassword) throws GeneralSecurityException, IOException {\r\n    \r\n            super();\r\n            TrustChain trustChain = TrustMaterial.CACERTS;\r\n            super.setTrustMaterial(trustChain);\r\n            File keystoreFile = new File(keystore);\r\n    \r\n            // prepare key material\r\n            if (keystoreFile != null &amp;&amp; keystoreFile.exists()) {\r\n                char[] ksPass = null;\r\n                if (keystorePassword != null) {\r\n                    ksPass = keystorePassword.toCharArray();\r\n                }\r\n                KeyMaterial km = new KeyMaterial(keystoreFile, ksPass.clone());\r\n                super.setKeyMaterial(km);\r\n    \r\n    \r\n            }\r\n    \r\n        }\r\n\r\n\r\n\r\n**NOTE **: Can&#39;t upgrade to an higher versions of java \r\n\r\n\r\n\r\n \r\n\r\n**What has been tried?\r\n**\r\n1. We have defined the protocols in the custom class .\r\n2. Implemented the socket class in the Initialization class.\r\n\r\n**What I am expecting?\r\n**Need to do the handshake with TLSv1.2 in a SOAP call.","title":"How to enable the TLSv1.2 support in java 7","body":"<p>We wanted to enable the <strong>TLSv1.2</strong> protocol with version of <strong>Java 7</strong>, while also ensuring support for the lower versions.</p>\n<p>I am aware that we can utilize SSLContext.getInstance(&quot;TLSv1.2&quot;) to activate TLSv1.2. However, our scenario involves the utilization of an Axis repository, specifically the org.apache.commons.httpclient.* packages, for conducting SOAP calls.</p>\n<p>We've implemented the usage of ProtocolSocketFactory to register the protocol, and in this context, we've designed a custom protocol factory class that extends HttpSecureProtocol.</p>\n<p>Now using this existing code how can I achieve this.</p>\n<p>**Initialization class:</p>\n<pre><code>PropertiesLoader props = PropertiesLoader.getInstance();\n        // Mask the system variable. Causes problems, as not-commons-ssl expects the private key to be there\n        Properties sysProps = System.getProperties();\n        String sysKeystore = (String) sysProps.remove(&quot;javax.net.ssl.keyStore&quot;);\n        // use client keystore for connection factory\n        ProtocolSocketFactory factory = new FixedProtocolSocketFactory(KEYSTORE, KEYSTORE_PASS);\n        Protocol.unregisterProtocol(&quot;https&quot;);\n        Protocol.registerProtocol(&quot;https&quot;, new Protocol(&quot;https&quot;, factory , HttpsURL.DEFAULT_PORT));\n        Protocol.registerProtocol(&quot;https&quot;, new Protocol(&quot;https&quot;, factory , 8443));\n        if (sysKeystore != null) {\n            sysProps.setProperty(&quot;javax.net.ssl.keyStore&quot;, sysKeystore);\n        }\n</code></pre>\n<p>**Custom class:\n**</p>\n<pre><code>public class FixedProtocolSocketFactory extends HttpSecureProtocol {\n    \n    public FixedProtocolSocketFactory(final String keystore,\n            final String keystorePassword) throws GeneralSecurityException, IOException {\n\n        super();\n        TrustChain trustChain = TrustMaterial.CACERTS;\n        super.setTrustMaterial(trustChain);\n        File keystoreFile = new File(keystore);\n\n        // prepare key material\n        if (keystoreFile != null &amp;&amp; keystoreFile.exists()) {\n            char[] ksPass = null;\n            if (keystorePassword != null) {\n                ksPass = keystorePassword.toCharArray();\n            }\n            KeyMaterial km = new KeyMaterial(keystoreFile, ksPass.clone());\n            super.setKeyMaterial(km);\n\n\n        }\n\n    }\n</code></pre>\n<p>**NOTE **: Can't upgrade to an higher versions of java</p>\n<p>**What has been tried?\n**</p>\n<ol>\n<li>We have defined the protocols in the custom class .</li>\n<li>Implemented the socket class in the Initialization class.</li>\n</ol>\n<p>**What I am expecting?\n**Need to do the handshake with TLSv1.2 in a SOAP call.</p>\n"},{"tags":["java","spring","spring-mvc","spring-boot"],"comments":[{"owner":{"account_id":6932710,"reputation":3956,"user_id":5321729,"accept_rate":67,"display_name":"Ajit Soman"},"score":0,"creation_date":1512642775,"post_id":47691514,"comment_id":82345005,"body_markdown":"Could you elaborate more with example","body":"Could you elaborate more with example"},{"owner":{"account_id":2390663,"reputation":1891,"user_id":2090568,"accept_rate":86,"display_name":"Panup Pong"},"score":0,"creation_date":1512704380,"post_id":47691514,"comment_id":82374713,"body_markdown":"Could you look at my answer?","body":"Could you look at my answer?"}],"answers":[{"comments":[{"owner":{"account_id":12154147,"reputation":179,"user_id":8873529,"accept_rate":75,"display_name":"i712345"},"score":0,"creation_date":1512640457,"post_id":47691748,"comment_id":82343374,"body_markdown":"That&#39;s not what I&#39;m asking.","body":"That&#39;s not what I&#39;m asking."}],"tags":[],"owner":{"account_id":6836948,"reputation":4738,"user_id":5258516,"accept_rate":75,"display_name":"e2rabi"},"comment_count":1,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1512639062,"creation_date":1512639062,"answer_id":47691748,"question_id":47691514,"body_markdown":"I think using @PathVariable will help you \r\n\r\n    @Controller\r\n    @RequestMapping(value=&quot;/controller&quot;)\r\n    public class Controller {\r\n        @RequestMapping(value=&quot;/url/{id}&quot;, method=RequestMethod.GET)\r\n        public String method(@PathVariable(&quot;id&quot;) String id) {\r\n             System.out.println(&quot;the url value : &quot;+id );\r\n            return &quot;Whatever&quot;\r\n        }\r\n    }\r\n\r\nthen you can call the method using /controller/url/{here the value}\r\nexample /controller/url/www.google.com ","title":"Generating URL for Controller action in Spring","body":"<p>I think using @PathVariable will help you </p>\n\n<pre><code>@Controller\n@RequestMapping(value=\"/controller\")\npublic class Controller {\n    @RequestMapping(value=\"/url/{id}\", method=RequestMethod.GET)\n    public String method(@PathVariable(\"id\") String id) {\n         System.out.println(\"the url value : \"+id );\n        return \"Whatever\"\n    }\n}\n</code></pre>\n\n<p>then you can call the method using /controller/url/{here the value}\nexample /controller/url/www.google.com </p>\n"},{"tags":[],"owner":{"account_id":2390663,"reputation":1891,"user_id":2090568,"accept_rate":86,"display_name":"Panup Pong"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1512704112,"creation_date":1512641068,"answer_id":47692427,"question_id":47691514,"body_markdown":"if you want to map only Controller , using a property file\r\n\r\napplication.properties\r\n\r\n    server.context-path=/rest\r\n\r\n\r\nIf your Controllers are serving Data from a Repository, then Spring Data REST can take out much of the boilerplate &amp; solve your initial problem.\r\n\r\n**[Spring Data REST][1]**\r\n\r\n\r\n\r\npom.xml\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\nYou can control the base URL by using a property file.\r\n\r\napplication.properties\r\n\r\n    spring.data.rest.basePath=/rest\r\n\r\n\r\n\r\n\r\nThat&#39;s you want /rest concat controller/url \r\n\r\n\r\n  [1]: https://docs.spring.io/spring-data/rest/docs/current/reference/html/#_changing_the_base_uri","title":"Generating URL for Controller action in Spring","body":"<p>if you want to map only Controller , using a property file</p>\n\n<p>application.properties</p>\n\n<pre><code>server.context-path=/rest\n</code></pre>\n\n<p>If your Controllers are serving Data from a Repository, then Spring Data REST can take out much of the boilerplate &amp; solve your initial problem.</p>\n\n<p><strong><a href=\"https://docs.spring.io/spring-data/rest/docs/current/reference/html/#_changing_the_base_uri\" rel=\"nofollow noreferrer\">Spring Data REST</a></strong></p>\n\n<p>pom.xml</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>You can control the base URL by using a property file.</p>\n\n<p>application.properties</p>\n\n<pre><code>spring.data.rest.basePath=/rest\n</code></pre>\n\n<p>That's you want /rest concat controller/url </p>\n"},{"comments":[{"owner":{"account_id":12154147,"reputation":179,"user_id":8873529,"accept_rate":75,"display_name":"i712345"},"score":0,"creation_date":1512643690,"post_id":47693094,"comment_id":82345626,"body_markdown":"I need to generate that URL outside that Controller.","body":"I need to generate that URL outside that Controller."},{"owner":{"account_id":5058163,"reputation":2221,"user_id":4060708,"accept_rate":75,"display_name":"amdg"},"score":0,"creation_date":1512646805,"post_id":47693094,"comment_id":82347746,"body_markdown":"u mean, outside of the any method where the request is mapped?","body":"u mean, outside of the any method where the request is mapped?"},{"owner":{"account_id":12154147,"reputation":179,"user_id":8873529,"accept_rate":75,"display_name":"i712345"},"score":0,"creation_date":1512647347,"post_id":47693094,"comment_id":82348083,"body_markdown":"To map a request somewhere, you need to know the location of somewhere. That location is the URL, hence I want to be able to generate the URL of somewhere.","body":"To map a request somewhere, you need to know the location of somewhere. That location is the URL, hence I want to be able to generate the URL of somewhere."},{"owner":{"account_id":5058163,"reputation":2221,"user_id":4060708,"accept_rate":75,"display_name":"amdg"},"score":0,"creation_date":1512649142,"post_id":47693094,"comment_id":82349308,"body_markdown":"yeah,the application must have at least one known mapping. Once the request comes there, you can simply use `return &quot;redirect:/user?url=website.com&quot;` to pass it to any other controller method by passing any request parameters/path variables. You don&#39;t really require the complete url unless you are passing to a different application. The relative path will suffice if you are redirecting it within the same application.","body":"yeah,the application must have at least one known mapping. Once the request comes there, you can simply use <code>return &quot;redirect:&#47;user?url=website.com&quot;</code> to pass it to any other controller method by passing any request parameters/path variables. You don&#39;t really require the complete url unless you are passing to a different application. The relative path will suffice if you are redirecting it within the same application."},{"owner":{"account_id":12154147,"reputation":179,"user_id":8873529,"accept_rate":75,"display_name":"i712345"},"score":0,"creation_date":1512652318,"post_id":47693094,"comment_id":82351266,"body_markdown":"Yeah, but that means I have to remember whether a given controller has a special URL mapping or not.","body":"Yeah, but that means I have to remember whether a given controller has a special URL mapping or not."},{"owner":{"account_id":5058163,"reputation":2221,"user_id":4060708,"accept_rate":75,"display_name":"amdg"},"score":0,"creation_date":1512712097,"post_id":47693094,"comment_id":82376745,"body_markdown":"as far as I know, there should be at least one known mapping. Otherwise, spring wont be able to figure out which method should handle the request. Once, the request comes to controller, it can then be routed to any mapped url across the application","body":"as far as I know, there should be at least one known mapping. Otherwise, spring wont be able to figure out which method should handle the request. Once, the request comes to controller, it can then be routed to any mapped url across the application"}],"tags":[],"owner":{"account_id":5058163,"reputation":2221,"user_id":4060708,"accept_rate":75,"display_name":"amdg"},"comment_count":6,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1581593520,"creation_date":1512643034,"answer_id":47693094,"question_id":47691514,"body_markdown":"you can use [UriComponentsBuilder][1] to get the current url and concat the additional part to it\r\n\r\n    @Controller\r\n    @RequestMapping(&quot;controller&quot;)\r\n    public class Controller {\r\n        @RequestMapping(&quot;url&quot;)\r\n        public String method(UriComponentBuilder ucb) {\r\n            URI uri = ucb.path(&quot;/url&quot;).build().toUri();\r\n            return &quot;Whatever&quot;\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/util/UriComponentsBuilder.html","title":"Generating URL for Controller action in Spring","body":"<p>you can use <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/util/UriComponentsBuilder.html\" rel=\"nofollow noreferrer\">UriComponentsBuilder</a> to get the current url and concat the additional part to it</p>\n\n<pre><code>@Controller\n@RequestMapping(\"controller\")\npublic class Controller {\n    @RequestMapping(\"url\")\n    public String method(UriComponentBuilder ucb) {\n        URI uri = ucb.path(\"/url\").build().toUri();\n        return \"Whatever\"\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2356814,"reputation":345,"user_id":2064434,"accept_rate":100,"display_name":"Tushar Saxena"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1589621686,"creation_date":1589621686,"answer_id":61834705,"question_id":47691514,"body_markdown":"There is a library present for spring boot framework. Which you need to add in your project in order to generate link dynamically. The gradle dependency of this library is given below.\r\n\r\n    compile &#39;org.springframework.boot:spring-boot-starter-hateoas:2.1.4.RELEASE&#39;\r\n\r\nI am assuming your build system is gradle but if you are using maven then please use below syntax.\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-hateoas&lt;/artifactId&gt;\r\n        &lt;version&gt;2.1.4.RELEASE&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nAfter than you can generate link dynamically as below.\r\n\r\n    WebMvcLinkBuilder.linkTo(Controller.class).slash(&quot;url&quot;).withSelfRel().getHref();","title":"Generating URL for Controller action in Spring","body":"<p>There is a library present for spring boot framework. Which you need to add in your project in order to generate link dynamically. The gradle dependency of this library is given below.</p>\n\n<pre><code>compile 'org.springframework.boot:spring-boot-starter-hateoas:2.1.4.RELEASE'\n</code></pre>\n\n<p>I am assuming your build system is gradle but if you are using maven then please use below syntax.</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-hateoas&lt;/artifactId&gt;\n    &lt;version&gt;2.1.4.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>After than you can generate link dynamically as below.</p>\n\n<pre><code>WebMvcLinkBuilder.linkTo(Controller.class).slash(\"url\").withSelfRel().getHref();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2790664,"reputation":7618,"user_id":2400966,"accept_rate":74,"display_name":"jbrown"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693164159,"creation_date":1693164159,"answer_id":76988608,"question_id":47691514,"body_markdown":"Building on Tushar&#39;s answer, this is my approach to generating URLs by name with some sanity to prevent a load of broken links:\r\n\r\n```\r\nimport org.springframework.hateoas.server.mvc.WebMvcLinkBuilder;\r\n\r\npublic final class ControllerUtils {\r\n\r\n    public static String getActionUrl(Class&lt;?&gt; cls, String name) {\r\n        return WebMvcLinkBuilder.linkTo(cls).slash(name).withSelfRel().getHref();\r\n    }\r\n}\r\n```\r\n```\r\npublic class MyController {\r\n\r\n    public static final String URL_RESULTS = &quot;results&quot;;\r\n    \r\n    @PostMapping\r\n    public String handleForm() {\r\n      var nextUrl = ControllerUtils.getActionUrl(this.getClass(), URL_RESULTS);\r\n      response.sendRedirect(nextUrl);\r\n    }\r\n\r\n    @GetMapping(&quot;/&quot; + URL_RESULTS)\r\n    @ResponseBody\r\n    public String results() { .... }\r\n```","title":"Generating URL for Controller action in Spring","body":"<p>Building on Tushar's answer, this is my approach to generating URLs by name with some sanity to prevent a load of broken links:</p>\n<pre><code>import org.springframework.hateoas.server.mvc.WebMvcLinkBuilder;\n\npublic final class ControllerUtils {\n\n    public static String getActionUrl(Class&lt;?&gt; cls, String name) {\n        return WebMvcLinkBuilder.linkTo(cls).slash(name).withSelfRel().getHref();\n    }\n}\n</code></pre>\n<pre><code>public class MyController {\n\n    public static final String URL_RESULTS = &quot;results&quot;;\n    \n    @PostMapping\n    public String handleForm() {\n      var nextUrl = ControllerUtils.getActionUrl(this.getClass(), URL_RESULTS);\n      response.sendRedirect(nextUrl);\n    }\n\n    @GetMapping(&quot;/&quot; + URL_RESULTS)\n    @ResponseBody\n    public String results() { .... }\n</code></pre>\n"}],"owner":{"account_id":12154147,"reputation":179,"user_id":8873529,"accept_rate":75,"display_name":"i712345"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6973,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":5,"score":3,"last_activity_date":1693164159,"creation_date":1512638260,"question_id":47691514,"body_markdown":"How can I dynamically create an URL for a Controller action?\r\n\r\nConsider the following case:\r\n\r\n    @Controller\r\n    @RequestMapping(&quot;controller&quot;)\r\n    public class Controller {\r\n        @RequestMapping(&quot;url&quot;)\r\n        public String method() {\r\n            return &quot;Whatever&quot;\r\n        }\r\n    }\r\n\r\nWhat I&#39;d like to do is get the base URL and concat controller/url to it.\r\nFor this behavior, Laravel for example provides the URL helper (action() method). Is there something similar in Spring Boot?","title":"Generating URL for Controller action in Spring","body":"<p>How can I dynamically create an URL for a Controller action?</p>\n\n<p>Consider the following case:</p>\n\n<pre><code>@Controller\n@RequestMapping(\"controller\")\npublic class Controller {\n    @RequestMapping(\"url\")\n    public String method() {\n        return \"Whatever\"\n    }\n}\n</code></pre>\n\n<p>What I'd like to do is get the base URL and concat controller/url to it.\nFor this behavior, Laravel for example provides the URL helper (action() method). Is there something similar in Spring Boot?</p>\n"},{"tags":["java","kotlin","gradle","xmlnode"],"owner":{"account_id":10952241,"reputation":591,"user_id":8048260,"display_name":"Shanti Swarup Tunga"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693162969,"creation_date":1693162969,"question_id":76988533,"body_markdown":"I have a gradle project in kotlin using xml(javax.xml.bind:jaxb-api:2.3.1). \r\nI want to test my parsing logic , hence I need to mock my Node(org.w3c.dom.Node).\r\nHow ever while mocking I am facing this error.\r\n\r\n    io/mockk/proxy/jvm/advice/jvm/JvmMockKProxyInterceptor java.lang.NoClassDefFoundError: io/mockk/proxy/jvm/advice/jvm/JvmMockKProxyInterceptor\r\n\tat java.xml/org.w3c.dom.Node$Subclass0.getNodeName(Unknown Source)\r\n\r\nMy Code\r\n\r\nbuild.gradle.kts\r\n\r\n    import org.jetbrains.kotlin.gradle.tasks.KotlinCompile\r\n    \r\n    plugins {\r\n        kotlin(&quot;jvm&quot;) version &quot;1.8.0&quot;\r\n        application\r\n    }\r\n    \r\n    group = &quot;me.shantiswaruptunga&quot;\r\n    version = &quot;1.0-SNAPSHOT&quot;\r\n    \r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    \r\n    dependencies {\r\n        implementation(&quot;org.jetbrains.kotlinx:kotlinx-coroutines-core:1.7.1&quot;)\r\n        implementation(&quot;javax.xml.bind:jaxb-api:2.3.1&quot;)\r\n        testImplementation(kotlin(&quot;test&quot;))\r\n        testImplementation(&quot;io.mockk:mockk:1.12.4&quot;)\r\n    }\r\n    \r\n    tasks.test {\r\n        useJUnitPlatform()\r\n    }\r\n    \r\n    tasks.withType&lt;KotlinCompile&gt; {\r\n        kotlinOptions.jvmTarget = &quot;1.8&quot;\r\n    }\r\n    \r\n    application {\r\n        mainClass.set(&quot;MainKt&quot;)\r\n    }\r\n\r\nXMLTest.kt\r\n\r\n    import io.mockk.every\r\n    import io.mockk.mockk\r\n    import org.junit.jupiter.api.Test\r\n    import org.w3c.dom.Node\r\n    \r\n    class XmlTest {\r\n        @Test\r\n        fun test2() {\r\n            val node1 = mockk&lt;Node&gt;()\r\n            every { node1.nodeName } returns &quot;x&quot;\r\n        }\r\n    }\r\n\r\nThe same code was working with jdk 8 kotlin 1.4.31\r\nI referred this [mockk github issue][1] but couldn&#39;t figure out the problem\r\n\r\n\r\n  [1]: https://github.com/mockk/mockk/issues/520","title":"java.lang.NoClassDefFoundError: io/mockk/proxy/jvm/advice/jvm/JvmMockKProxyInterceptor ERROR while mocking org.w3c.dom.Node using mockk","body":"<p>I have a gradle project in kotlin using xml(javax.xml.bind:jaxb-api:2.3.1).\nI want to test my parsing logic , hence I need to mock my Node(org.w3c.dom.Node).\nHow ever while mocking I am facing this error.</p>\n<pre><code>io/mockk/proxy/jvm/advice/jvm/JvmMockKProxyInterceptor java.lang.NoClassDefFoundError: io/mockk/proxy/jvm/advice/jvm/JvmMockKProxyInterceptor\nat java.xml/org.w3c.dom.Node$Subclass0.getNodeName(Unknown Source)\n</code></pre>\n<p>My Code</p>\n<p>build.gradle.kts</p>\n<pre><code>import org.jetbrains.kotlin.gradle.tasks.KotlinCompile\n\nplugins {\n    kotlin(&quot;jvm&quot;) version &quot;1.8.0&quot;\n    application\n}\n\ngroup = &quot;me.shantiswaruptunga&quot;\nversion = &quot;1.0-SNAPSHOT&quot;\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation(&quot;org.jetbrains.kotlinx:kotlinx-coroutines-core:1.7.1&quot;)\n    implementation(&quot;javax.xml.bind:jaxb-api:2.3.1&quot;)\n    testImplementation(kotlin(&quot;test&quot;))\n    testImplementation(&quot;io.mockk:mockk:1.12.4&quot;)\n}\n\ntasks.test {\n    useJUnitPlatform()\n}\n\ntasks.withType&lt;KotlinCompile&gt; {\n    kotlinOptions.jvmTarget = &quot;1.8&quot;\n}\n\napplication {\n    mainClass.set(&quot;MainKt&quot;)\n}\n</code></pre>\n<p>XMLTest.kt</p>\n<pre><code>import io.mockk.every\nimport io.mockk.mockk\nimport org.junit.jupiter.api.Test\nimport org.w3c.dom.Node\n\nclass XmlTest {\n    @Test\n    fun test2() {\n        val node1 = mockk&lt;Node&gt;()\n        every { node1.nodeName } returns &quot;x&quot;\n    }\n}\n</code></pre>\n<p>The same code was working with jdk 8 kotlin 1.4.31\nI referred this <a href=\"https://github.com/mockk/mockk/issues/520\" rel=\"nofollow noreferrer\">mockk github issue</a> but couldn't figure out the problem</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":18639931,"reputation":106,"user_id":13585925,"display_name":"Jacob Christonsen"},"score":0,"creation_date":1693093521,"post_id":76985175,"comment_id":135714839,"body_markdown":"That code complies, but it just outputs the number 0 before terminating. It doesn&#39;t even run the rest of the script. Also, it&#39;s not possible to convert from char to String, and charSelection isn&#39;t a valid type like StringSelection is.","body":"That code complies, but it just outputs the number 0 before terminating. It doesn&#39;t even run the rest of the script. Also, it&#39;s not possible to convert from char to String, and charSelection isn&#39;t a valid type like StringSelection is."},{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":2,"creation_date":1693093563,"post_id":76985175,"comment_id":135714844,"body_markdown":"There are 373,071,582 different sequences starting with `a` and ending with `zzzzzz`.  Assuming one second for each sequence, it will take almost 12 years to go through the sequences.","body":"There are 373,071,582 different sequences starting with <code>a</code> and ending with <code>zzzzzz</code>.  Assuming one second for each sequence, it will take almost 12 years to go through the sequences."},{"owner":{"account_id":18639931,"reputation":106,"user_id":13585925,"display_name":"Jacob Christonsen"},"score":0,"creation_date":1693093644,"post_id":76985175,"comment_id":135714849,"body_markdown":"And? That&#39;s beside the point. I didn&#39;t ask for a solution to what I am doing with it, I asked how to make it execute what I need it to.","body":"And? That&#39;s beside the point. I didn&#39;t ask for a solution to what I am doing with it, I asked how to make it execute what I need it to."},{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":2,"creation_date":1693093950,"post_id":76985175,"comment_id":135714869,"body_markdown":"Let 0 equal space, 1 equals `a`, through 26 equals &#39;z&#39;.  Set up a `for` loop from 0 through 373,071,581.  Convert the int index to letters using the transformation I outlined.","body":"Let 0 equal space, 1 equals <code>a</code>, through 26 equals &#39;z&#39;.  Set up a <code>for</code> loop from 0 through 373,071,581.  Convert the int index to letters using the transformation I outlined."},{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":3,"creation_date":1693094027,"post_id":76985175,"comment_id":135714875,"body_markdown":"If you want to do it purely in strings, your basic problem, I would guess, is that while incrementing &#39;a&#39;...&#39;z&#39; is easy, there&#39;s no primitive way to increment &#39;z&#39; to &#39;aa&#39;.  So your first step should be to write that routine.","body":"If you want to do it purely in strings, your basic problem, I would guess, is that while incrementing &#39;a&#39;...&#39;z&#39; is easy, there&#39;s no primitive way to increment &#39;z&#39; to &#39;aa&#39;.  So your first step should be to write that routine."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":2,"creation_date":1693097686,"post_id":76985175,"comment_id":135715097,"body_markdown":"I&#39;m not sure I understand the problem. I don&#39;t see where the code related to `Robot` is relevant to what was asked. Can you, please, edit the question, and show a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example) with code that focuses only on the specific problem?","body":"I&#39;m not sure I understand the problem. I don&#39;t see where the code related to <code>Robot</code> is relevant to what was asked. Can you, please, edit the question, and show a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> with code that focuses only on the specific problem?"},{"owner":{"account_id":18639931,"reputation":106,"user_id":13585925,"display_name":"Jacob Christonsen"},"score":0,"creation_date":1693099282,"post_id":76985175,"comment_id":135715197,"body_markdown":"The code does. The robot code is necessary because otherwise, people start suggesting things that cannot be used with KeyEvent and/or Clipboard types.","body":"The code does. The robot code is necessary because otherwise, people start suggesting things that cannot be used with KeyEvent and/or Clipboard types."},{"owner":{"account_id":18639931,"reputation":106,"user_id":13585925,"display_name":"Jacob Christonsen"},"score":0,"creation_date":1693099403,"post_id":76985175,"comment_id":135715206,"body_markdown":"I&#39;m not understanding how to implement the part with SPACE = 0, a = 1. etc. I can make the for loop easily enough, but not the converting the int index.","body":"I&#39;m not understanding how to implement the part with SPACE = 0, a = 1. etc. I can make the for loop easily enough, but not the converting the int index."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1693100747,"post_id":76985175,"comment_id":135715275,"body_markdown":"From some initial pattern, you&#39;re able to make a loop for `a` through `z` to add onto the end of that pattern. The next step is making a loop surrounding that, which takes the output from the previous iteration and feeds it into the nested loop again. Basically, starting from `&quot;&quot;`, then `[&quot;a&quot;, &quot;b&quot;, ..., &quot;z&quot;]`, then `[&quot;aa&quot;, &quot;ba&quot;, ..., &quot;za&quot;, &quot;ab&quot;, &quot;bb&quot;, ..., &quot;zb&quot;, ..., &quot;zz&quot;]` and so forth. If you want the partial configurations (ones with less than 6 characters) to be valid, then simply preserve those intermediate results. As mentioned previously, you&#39;re going to get an exponential # of results","body":"From some initial pattern, you&#39;re able to make a loop for <code>a</code> through <code>z</code> to add onto the end of that pattern. The next step is making a loop surrounding that, which takes the output from the previous iteration and feeds it into the nested loop again. Basically, starting from <code>&quot;&quot;</code>, then <code>[&quot;a&quot;, &quot;b&quot;, ..., &quot;z&quot;]</code>, then <code>[&quot;aa&quot;, &quot;ba&quot;, ..., &quot;za&quot;, &quot;ab&quot;, &quot;bb&quot;, ..., &quot;zb&quot;, ..., &quot;zz&quot;]</code> and so forth. If you want the partial configurations (ones with less than 6 characters) to be valid, then simply preserve those intermediate results. As mentioned previously, you&#39;re going to get an exponential # of results"}],"answers":[{"comments":[{"owner":{"account_id":18639931,"reputation":106,"user_id":13585925,"display_name":"Jacob Christonsen"},"score":1,"creation_date":1693116227,"post_id":76985552,"comment_id":135715970,"body_markdown":"Thank you very much, this works well. Is there a way to shift the window of values? For example, if I wanted to skip the single letters and go straight to triple letters, or if I wanted to focus it in on a smaller part of the list?","body":"Thank you very much, this works well. Is there a way to shift the window of values? For example, if I wanted to skip the single letters and go straight to triple letters, or if I wanted to focus it in on a smaller part of the list?"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1693148822,"post_id":76985552,"comment_id":135718963,"body_markdown":"@JacobChristonsen if you want to skip the single and double letters, can you remove `list.add(String.valueOf(c1));` and `list.add(&quot;%s%s&quot;.formatted(c1, c2));` lines ?","body":"@JacobChristonsen if you want to skip the single and double letters, can you remove <code>list.add(String.valueOf(c1));</code> and <code>list.add(&quot;%s%s&quot;.formatted(c1, c2));</code> lines ?"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1693159350,"post_id":76985552,"comment_id":135720226,"body_markdown":"@JacobChristonsen, no problem.  Yes, you can remove the first and second _list.add_ calls from the _loops_.  Or, you can use the _[List#subList](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/List.html#subList(int,int))_ method.  I&#39;ve update my answer; towards the bottom.","body":"@JacobChristonsen, no problem.  Yes, you can remove the first and second <i>list.add</i> calls from the <i>loops</i>.  Or, you can use the <i><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/List.html#subList(int,int)\" rel=\"nofollow noreferrer\">List#subList</a></i> method.  I&#39;ve update my answer; towards the bottom."}],"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1693162602,"creation_date":1693105005,"answer_id":76985552,"question_id":76985175,"body_markdown":"&gt; _&#39;... I&#39;m trying to get Java to output every sequence of letters between &quot;a&quot; and &quot;zzzzzz&quot; ...&#39;_\r\n\r\nUse a _for-loop_ to iterate from `a` to `z`.  \r\nHere is an example for `a` through `zzz`, which generates _18,278_ values.\r\n\r\n```java\r\nList&lt;String&gt; list = new ArrayList&lt;&gt;();\r\nfor (char c1 = &#39;a&#39;; c1 &lt;= &#39;z&#39;; c1++) {\r\n    list.add(String.valueOf(c1));\r\n    for (char c2 = &#39;a&#39;; c2 &lt;= &#39;z&#39;; c2++) {\r\n        list.add(&quot;%s%s&quot;.formatted(c1, c2));\r\n        for (char c3 = &#39;a&#39;; c3 &lt;= &#39;z&#39;; c3++)\r\n            list.add(&quot;%s%s%s&quot;.formatted(c1, c2, c3));\r\n    }\r\n}\r\nlist.sort(Comparator.comparing(String::length));\r\n```\r\n\r\n&gt; _&quot;... I&#39;ve gotten this to work successfully with int, but Java doesn&#39;t convert easily to String or char. ...&quot;_\r\n\r\nConversion is simple, here is how to convert an _int_ to a _char_.\r\n\r\n```java\r\nint a = 97;\r\nchar c = (char) a;\r\n```\r\n\r\nAnd, how to convert an _int_ to a _char_, and then to a _String_.\r\n\r\n```java\r\nint b = 98;\r\nString s = String.valueOf((char) b);\r\n```\r\n\r\n&gt; _&quot;... Is it possible to easily convert ...&quot;_\r\n\r\nAfter generating the list you can just iterate each item.\r\n\r\n```java\r\npublic static void main2(String[] args) throws AWTException, InterruptedException{\r\n    // TODO Auto-generated method stub\r\n    Thread.sleep(500);\r\n    List&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n    for (char c1 = &#39;a&#39;; c1 &lt;= &#39;z&#39;; c1++) {\r\n        list.add(String.valueOf(c1));\r\n        for (char c2 = &#39;a&#39;; c2 &lt;= &#39;z&#39;; c2++) {\r\n            list.add(&quot;%s%s&quot;.formatted(c1, c2));\r\n            for (char c3 = &#39;a&#39;; c3 &lt;= &#39;z&#39;; c3++)\r\n                list.add(&quot;%s%s%s&quot;.formatted(c1, c2, c3));\r\n        }\r\n    }\r\n    list.sort(Comparator.comparing(String::length));\r\n    for (String str : list) {\r\n        Robot r = new Robot();\r\n        Thread.sleep(200);\r\n        String text = str;\r\n        StringSelection stringSelection = new StringSelection(text);\r\n        Clipboard clipboard = Toolkit.getDefaultToolkit().getSystemClipboard();\r\n        clipboard.setContents(stringSelection, stringSelection);\r\n        Thread.sleep(200);\r\n        Robot robot = new Robot();\r\n        robot.keyPress(KeyEvent.VK_CONTROL);\r\n        robot.keyPress(KeyEvent.VK_C);\r\n        robot.keyRelease(KeyEvent.VK_CONTROL);\r\n        robot.keyRelease(KeyEvent.VK_C);\r\n        robot.keyPress(KeyEvent.VK_CONTROL);\r\n        robot.keyPress(KeyEvent.VK_V);\r\n        robot.keyRelease(KeyEvent.VK_CONTROL);\r\n        robot.keyRelease(KeyEvent.VK_V);\r\n\r\n    }\r\n}\r\n```\r\n\r\n&gt; _&quot;... Is there a way to shift the window of values? For example, if I wanted to skip the single letters and go straight to triple letters ...&quot;_\r\n\r\nYes, as _@OldDogProgrammer_ mentioned, you could remove the first two _list.add_ calls.\r\n\r\n```java\r\nList&lt;String&gt; list = new ArrayList&lt;&gt;();\r\nfor (char c1 = &#39;a&#39;; c1 &lt;= &#39;z&#39;; c1++)\r\n    for (char c2 = &#39;a&#39;; c2 &lt;= &#39;z&#39;; c2++)\r\n        for (char c3 = &#39;a&#39;; c3 &lt;= &#39;z&#39;; c3++)\r\n            list.add(&quot;%s%s%s&quot;.formatted(c1, c2, c3));\r\nlist.sort(Comparator.comparing(String::length));\r\n```\r\n\r\n&gt; _&quot;... or if I wanted to focus it in on a smaller part of the list?&quot;_\r\n\r\nYou can use the _[List#subList](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/List.html#subList(int,int))_ method to capture just a portion of the list.\r\n\r\n```java\r\nlist = list.subList(list.indexOf(&quot;zz&quot;) + 1, list.size());\r\n```","title":"How to convert an int for loop to a String or char for loop to output a series of sequences to the mouse cursor?","body":"<blockquote>\n<p><em>'... I'm trying to get Java to output every sequence of letters between &quot;a&quot; and &quot;zzzzzz&quot; ...'</em></p>\n</blockquote>\n<p>Use a <em>for-loop</em> to iterate from <code>a</code> to <code>z</code>.<br />\nHere is an example for <code>a</code> through <code>zzz</code>, which generates <em>18,278</em> values.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; list = new ArrayList&lt;&gt;();\nfor (char c1 = 'a'; c1 &lt;= 'z'; c1++) {\n    list.add(String.valueOf(c1));\n    for (char c2 = 'a'; c2 &lt;= 'z'; c2++) {\n        list.add(&quot;%s%s&quot;.formatted(c1, c2));\n        for (char c3 = 'a'; c3 &lt;= 'z'; c3++)\n            list.add(&quot;%s%s%s&quot;.formatted(c1, c2, c3));\n    }\n}\nlist.sort(Comparator.comparing(String::length));\n</code></pre>\n<blockquote>\n<p><em>&quot;... I've gotten this to work successfully with int, but Java doesn't convert easily to String or char. ...&quot;</em></p>\n</blockquote>\n<p>Conversion is simple, here is how to convert an <em>int</em> to a <em>char</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int a = 97;\nchar c = (char) a;\n</code></pre>\n<p>And, how to convert an <em>int</em> to a <em>char</em>, and then to a <em>String</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int b = 98;\nString s = String.valueOf((char) b);\n</code></pre>\n<blockquote>\n<p><em>&quot;... Is it possible to easily convert ...&quot;</em></p>\n</blockquote>\n<p>After generating the list you can just iterate each item.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main2(String[] args) throws AWTException, InterruptedException{\n    // TODO Auto-generated method stub\n    Thread.sleep(500);\n    List&lt;String&gt; list = new ArrayList&lt;&gt;();\n    for (char c1 = 'a'; c1 &lt;= 'z'; c1++) {\n        list.add(String.valueOf(c1));\n        for (char c2 = 'a'; c2 &lt;= 'z'; c2++) {\n            list.add(&quot;%s%s&quot;.formatted(c1, c2));\n            for (char c3 = 'a'; c3 &lt;= 'z'; c3++)\n                list.add(&quot;%s%s%s&quot;.formatted(c1, c2, c3));\n        }\n    }\n    list.sort(Comparator.comparing(String::length));\n    for (String str : list) {\n        Robot r = new Robot();\n        Thread.sleep(200);\n        String text = str;\n        StringSelection stringSelection = new StringSelection(text);\n        Clipboard clipboard = Toolkit.getDefaultToolkit().getSystemClipboard();\n        clipboard.setContents(stringSelection, stringSelection);\n        Thread.sleep(200);\n        Robot robot = new Robot();\n        robot.keyPress(KeyEvent.VK_CONTROL);\n        robot.keyPress(KeyEvent.VK_C);\n        robot.keyRelease(KeyEvent.VK_CONTROL);\n        robot.keyRelease(KeyEvent.VK_C);\n        robot.keyPress(KeyEvent.VK_CONTROL);\n        robot.keyPress(KeyEvent.VK_V);\n        robot.keyRelease(KeyEvent.VK_CONTROL);\n        robot.keyRelease(KeyEvent.VK_V);\n\n    }\n}\n</code></pre>\n<blockquote>\n<p><em>&quot;... Is there a way to shift the window of values? For example, if I wanted to skip the single letters and go straight to triple letters ...&quot;</em></p>\n</blockquote>\n<p>Yes, as <em>@OldDogProgrammer</em> mentioned, you could remove the first two <em>list.add</em> calls.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; list = new ArrayList&lt;&gt;();\nfor (char c1 = 'a'; c1 &lt;= 'z'; c1++)\n    for (char c2 = 'a'; c2 &lt;= 'z'; c2++)\n        for (char c3 = 'a'; c3 &lt;= 'z'; c3++)\n            list.add(&quot;%s%s%s&quot;.formatted(c1, c2, c3));\nlist.sort(Comparator.comparing(String::length));\n</code></pre>\n<blockquote>\n<p><em>&quot;... or if I wanted to focus it in on a smaller part of the list?&quot;</em></p>\n</blockquote>\n<p>You can use the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/List.html#subList(int,int)\" rel=\"nofollow noreferrer\">List#subList</a></em> method to capture just a portion of the list.</p>\n<pre class=\"lang-java prettyprint-override\"><code>list = list.subList(list.indexOf(&quot;zz&quot;) + 1, list.size());\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1693401160,"post_id":76985880,"comment_id":135755787,"body_markdown":"You could reduce the memory bloat quite a bit by making this streamable. In the simplest sense that&#39;d mean just printing them directly, but it also applies to providing a `Spliterator` as a general solution.","body":"You could reduce the memory bloat quite a bit by making this streamable. In the simplest sense that&#39;d mean just printing them directly, but it also applies to providing a <code>Spliterator</code> as a general solution."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1693402617,"post_id":76985880,"comment_id":135756149,"body_markdown":"It relies on memoizing the intermediate 1 to 5 digit results. Of course, you don’t have to store the 6 digit results. It could be alternatively written to recompute everything each time, but that would trade space for time.","body":"It relies on memoizing the intermediate 1 to 5 digit results. Of course, you don’t have to store the 6 digit results. It could be alternatively written to recompute everything each time, but that would trade space for time."}],"tags":[],"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693116091,"creation_date":1693116091,"answer_id":76985880,"question_id":76985175,"body_markdown":"Here&#39;s an example that handles an arbitrary number of characters:\r\n\r\n```java\r\npublic class StringLoop {\r\n    public static void main(String[] args) {\r\n        int maxChars = 6;\r\n        String[][] combinations = new String[maxChars][];\r\n\r\n        combinations[0] = new String[26];\r\n        for (char c = &#39;a&#39;; c &lt;= &#39;z&#39;; c++) {\r\n            combinations[0][c - &#39;a&#39;] = String.valueOf(c);\r\n        }\r\n\r\n        for (int i = 1; i &lt; maxChars; i++) {\r\n            combinations[i] = new String[(int) Math.pow(26, i + 1)];\r\n            String[] prevCombinations = combinations[i - 1];\r\n            for (char c = &#39;a&#39;; c &lt;= &#39;z&#39;; c++) {\r\n                for (int j = 0; j &lt; prevCombinations.length; j++) {\r\n                    int index = ((c - &#39;a&#39;) * prevCombinations.length) + j;\r\n                    combinations[i][index] = c + prevCombinations[j];\r\n                }\r\n            }\r\n        }\r\n\r\n        for (String[] combination : combinations) {\r\n            for (String s : combination) {\r\n                System.out.println(s);\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nAs others have mentioned, this has exponential complexity, so requires a large amount of heap space and a considerable amount of time to complete. I am able to get it to run with `-Xmx16g` (a 16 gigabyte heap). 15 GB was not enough.","title":"How to convert an int for loop to a String or char for loop to output a series of sequences to the mouse cursor?","body":"<p>Here's an example that handles an arbitrary number of characters:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class StringLoop {\n    public static void main(String[] args) {\n        int maxChars = 6;\n        String[][] combinations = new String[maxChars][];\n\n        combinations[0] = new String[26];\n        for (char c = 'a'; c &lt;= 'z'; c++) {\n            combinations[0][c - 'a'] = String.valueOf(c);\n        }\n\n        for (int i = 1; i &lt; maxChars; i++) {\n            combinations[i] = new String[(int) Math.pow(26, i + 1)];\n            String[] prevCombinations = combinations[i - 1];\n            for (char c = 'a'; c &lt;= 'z'; c++) {\n                for (int j = 0; j &lt; prevCombinations.length; j++) {\n                    int index = ((c - 'a') * prevCombinations.length) + j;\n                    combinations[i][index] = c + prevCombinations[j];\n                }\n            }\n        }\n\n        for (String[] combination : combinations) {\n            for (String s : combination) {\n                System.out.println(s);\n            }\n        }\n    }\n}\n</code></pre>\n<p>As others have mentioned, this has exponential complexity, so requires a large amount of heap space and a considerable amount of time to complete. I am able to get it to run with <code>-Xmx16g</code> (a 16 gigabyte heap). 15 GB was not enough.</p>\n"},{"comments":[{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1693159899,"post_id":76987900,"comment_id":135720287,"body_markdown":"You have _elapsedTime + 500L_, why the _+ 500_?","body":"You have <i>elapsedTime + 500L</i>, why the <i>+ 500</i>?"},{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1693163771,"post_id":76987900,"comment_id":135720664,"body_markdown":"@Reilas: To round the time to the nearest second.","body":"@Reilas: To round the time to the nearest second."}],"tags":[],"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693152279,"creation_date":1693152279,"answer_id":76987900,"question_id":76985175,"body_markdown":"I created my version that just prints the character sequences from `a` to `zzzzzz` on the output console.\r\n\r\nI use an `int` array to hold the digits which translate into characters.  You can start the character sequence anywhere you want by initializing the `int` array to the value representing the character string you&#39;re looking to start with.\r\n\r\nEnding on a different sequence than `zzzzzz` is difficult because I test for overflow on the leftmost digit.\r\n\r\nHere are the last few lines of my last test.\r\n\r\n    zzzzzt\r\n    zzzzzu\r\n    zzzzzv\r\n    zzzzzw\r\n    zzzzzx\r\n    zzzzzy\r\n    zzzzzz\r\n    \r\n    Printed 321,272,406 strings in 7 minutes, 25 seconds\r\n\r\nThat&#39;s a lot of password cracking attempts.  As I said in my comment, one attempt per second would take almost 12 years.  Limiting the character strings to just the six-letter combinations doesn&#39;t reduce the count by a significant amount.\r\n\r\nHere&#39;s the code I ran.\r\n\r\n    public class CharacterSequence {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tCharacterSequence cs = new CharacterSequence();\r\n    \t\tcs.createAllSequences();\r\n    \t}\r\n    \t\r\n    \tprivate String alphabet = &quot; abcdefghijklmnopqrstuvwxyz&quot;;\r\n    \t\r\n    \tpublic void createAllSequences() {\r\n    \t\tlong startTime = System.currentTimeMillis();\r\n    \t\tint length = 6;\r\n    \t\tint[] digit = new int[length];\r\n    \t\tboolean isRunning = true;\r\n    \t\tint counter = 0;\r\n    \t\t\r\n    \t\twhile (isRunning) {\r\n    \t\t\tfor (int index = length - 1; index &gt;= 0; index--) {\r\n    \t\t\t\tdigit[index]++;\r\n    \t\t\t\tif (digit[index] &gt;= alphabet.length()) {\r\n    \t\t\t\t\tdigit[index] = 1;\r\n    \t\t\t\t\tif (index &lt;= 0) {\r\n    \t\t\t\t\t\tisRunning = false;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\tcontinue;\r\n    \t\t\t\t}\r\n    \t\t\t\tbreak;\r\n    \t\t\t}\r\n    \t\t\tif (isRunning) {\r\n    \t\t\t\tSystem.out.println(toSequence(digit));\r\n    \t\t\t\tcounter++;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t\r\n    \t\tlong elapsedTime = System.currentTimeMillis() - startTime;\r\n    \t\telapsedTime = (elapsedTime + 500L) / 1000L;\r\n    \t\tint minutes = (int) (elapsedTime / 60L);\r\n    \t\tint seconds = (int) (elapsedTime % 60L);\r\n    \t\tString s = &quot;Printed &quot; + String.format(&quot;%,d&quot;, counter);\r\n    \t\ts += &quot; strings in &quot; + minutes + &quot; minutes, &quot; + seconds;\r\n    \t\ts += &quot; seconds&quot;;\r\n    \t\tSystem.out.println();\r\n    \t\tSystem.out.println(s);\r\n    \t}\r\n    \t\r\n    \tprivate String toSequence(int[] digit) {\r\n    \t\tString s = &quot;&quot;;\r\n    \t\tfor (int index = 0; index &lt; digit.length; index++) {\r\n    \t\t\ts += alphabet.charAt(digit[index]);\r\n    \t\t}\r\n    \t\t\r\n    \t\treturn s.trim();\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"How to convert an int for loop to a String or char for loop to output a series of sequences to the mouse cursor?","body":"<p>I created my version that just prints the character sequences from <code>a</code> to <code>zzzzzz</code> on the output console.</p>\n<p>I use an <code>int</code> array to hold the digits which translate into characters.  You can start the character sequence anywhere you want by initializing the <code>int</code> array to the value representing the character string you're looking to start with.</p>\n<p>Ending on a different sequence than <code>zzzzzz</code> is difficult because I test for overflow on the leftmost digit.</p>\n<p>Here are the last few lines of my last test.</p>\n<pre><code>zzzzzt\nzzzzzu\nzzzzzv\nzzzzzw\nzzzzzx\nzzzzzy\nzzzzzz\n\nPrinted 321,272,406 strings in 7 minutes, 25 seconds\n</code></pre>\n<p>That's a lot of password cracking attempts.  As I said in my comment, one attempt per second would take almost 12 years.  Limiting the character strings to just the six-letter combinations doesn't reduce the count by a significant amount.</p>\n<p>Here's the code I ran.</p>\n<pre><code>public class CharacterSequence {\n\n    public static void main(String[] args) {\n        CharacterSequence cs = new CharacterSequence();\n        cs.createAllSequences();\n    }\n    \n    private String alphabet = &quot; abcdefghijklmnopqrstuvwxyz&quot;;\n    \n    public void createAllSequences() {\n        long startTime = System.currentTimeMillis();\n        int length = 6;\n        int[] digit = new int[length];\n        boolean isRunning = true;\n        int counter = 0;\n        \n        while (isRunning) {\n            for (int index = length - 1; index &gt;= 0; index--) {\n                digit[index]++;\n                if (digit[index] &gt;= alphabet.length()) {\n                    digit[index] = 1;\n                    if (index &lt;= 0) {\n                        isRunning = false;\n                    }\n                    continue;\n                }\n                break;\n            }\n            if (isRunning) {\n                System.out.println(toSequence(digit));\n                counter++;\n            }\n        }\n        \n        long elapsedTime = System.currentTimeMillis() - startTime;\n        elapsedTime = (elapsedTime + 500L) / 1000L;\n        int minutes = (int) (elapsedTime / 60L);\n        int seconds = (int) (elapsedTime % 60L);\n        String s = &quot;Printed &quot; + String.format(&quot;%,d&quot;, counter);\n        s += &quot; strings in &quot; + minutes + &quot; minutes, &quot; + seconds;\n        s += &quot; seconds&quot;;\n        System.out.println();\n        System.out.println(s);\n    }\n    \n    private String toSequence(int[] digit) {\n        String s = &quot;&quot;;\n        for (int index = 0; index &lt; digit.length; index++) {\n            s += alphabet.charAt(digit[index]);\n        }\n        \n        return s.trim();\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":18639931,"reputation":106,"user_id":13585925,"display_name":"Jacob Christonsen"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":76985552,"answer_count":3,"score":1,"last_activity_date":1693162602,"creation_date":1693091890,"question_id":76985175,"body_markdown":"I&#39;m trying to get Java to output every sequence of letters between &quot;a&quot; and &quot;zzzzzz&quot; to the point of the mouse cursor. I&#39;ve gotten this to work successfully with int, but Java doesn&#39;t convert easily to String or char. \r\n```java\r\nimport java.awt.AWTException;\r\nimport java.awt.event.InputEvent;\r\nimport java.awt.Robot;\r\nimport java.awt.Toolkit;\r\nimport java.awt.datatransfer.Clipboard;\r\nimport java.awt.datatransfer.StringSelection;\r\nimport java.awt.event.KeyEvent;\r\nimport java.util.concurrent.TimeUnit;\r\n\r\npublic class robot {\r\n    static int i;\r\n\r\n    public static void main(String[] args) throws AWTException, InterruptedException {\r\n        // TODO Auto-generated method stub\r\n        Thread.sleep(500);\r\n        for (int i=0; i&lt; 30; i+=1) {\r\n            String str = &quot; &quot; + i + &quot; &quot;;\r\n            Robot r = new Robot();\r\n            Thread.sleep(200);\r\n            String text = str;\r\n            StringSelection stringSelection = new StringSelection(text);\r\n            Clipboard clipboard = Toolkit.getDefaultToolkit().getSystemClipboard();\r\n            clipboard.setContents(stringSelection, stringSelection);\r\n            Thread.sleep(200);\r\n            Robot robot = new Robot();\r\n            robot.keyPress(KeyEvent.VK_CONTROL);\r\n            robot.keyPress(KeyEvent.VK_C);\r\n            robot.keyRelease(KeyEvent.VK_CONTROL);\r\n            robot.keyRelease(KeyEvent.VK_C);\r\n            robot.keyPress(KeyEvent.VK_CONTROL);\r\n            robot.keyPress(KeyEvent.VK_V);\r\n            robot.keyRelease(KeyEvent.VK_CONTROL);\r\n            robot.keyRelease(KeyEvent.VK_V);\r\n        }\r\n    }\r\n}\r\n```\r\nIs it possible to easily convert \r\n\r\n    for (int i=0; i&lt; 30; i+=1) {\r\n        String str = &quot; &quot; + i + &quot; &quot;;\r\n\r\nto work with String sequences instead? I&#39;ve tried for a while and nothing has worked. Even == doesn&#39;t allow it to compile.\r\n","title":"How to convert an int for loop to a String or char for loop to output a series of sequences to the mouse cursor?","body":"<p>I'm trying to get Java to output every sequence of letters between &quot;a&quot; and &quot;zzzzzz&quot; to the point of the mouse cursor. I've gotten this to work successfully with int, but Java doesn't convert easily to String or char.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.awt.AWTException;\nimport java.awt.event.InputEvent;\nimport java.awt.Robot;\nimport java.awt.Toolkit;\nimport java.awt.datatransfer.Clipboard;\nimport java.awt.datatransfer.StringSelection;\nimport java.awt.event.KeyEvent;\nimport java.util.concurrent.TimeUnit;\n\npublic class robot {\n    static int i;\n\n    public static void main(String[] args) throws AWTException, InterruptedException {\n        // TODO Auto-generated method stub\n        Thread.sleep(500);\n        for (int i=0; i&lt; 30; i+=1) {\n            String str = &quot; &quot; + i + &quot; &quot;;\n            Robot r = new Robot();\n            Thread.sleep(200);\n            String text = str;\n            StringSelection stringSelection = new StringSelection(text);\n            Clipboard clipboard = Toolkit.getDefaultToolkit().getSystemClipboard();\n            clipboard.setContents(stringSelection, stringSelection);\n            Thread.sleep(200);\n            Robot robot = new Robot();\n            robot.keyPress(KeyEvent.VK_CONTROL);\n            robot.keyPress(KeyEvent.VK_C);\n            robot.keyRelease(KeyEvent.VK_CONTROL);\n            robot.keyRelease(KeyEvent.VK_C);\n            robot.keyPress(KeyEvent.VK_CONTROL);\n            robot.keyPress(KeyEvent.VK_V);\n            robot.keyRelease(KeyEvent.VK_CONTROL);\n            robot.keyRelease(KeyEvent.VK_V);\n        }\n    }\n}\n</code></pre>\n<p>Is it possible to easily convert</p>\n<pre><code>for (int i=0; i&lt; 30; i+=1) {\n    String str = &quot; &quot; + i + &quot; &quot;;\n</code></pre>\n<p>to work with String sequences instead? I've tried for a while and nothing has worked. Even == doesn't allow it to compile.</p>\n"},{"tags":["java","iterator"],"comments":[{"owner":{"account_id":44195,"reputation":269053,"user_id":129570,"accept_rate":79,"display_name":"Oliver Charlesworth"},"score":3,"creation_date":1331816465,"post_id":9720195,"comment_id":12357261,"body_markdown":"An iterator doesn&#39;t necessarily correspond to something with a &quot;count&quot;...","body":"An iterator doesn&#39;t necessarily correspond to something with a &quot;count&quot;..."},{"owner":{"account_id":955055,"reputation":3960,"user_id":980521,"display_name":"ecle"},"score":0,"creation_date":1331816502,"post_id":9720195,"comment_id":12357284,"body_markdown":"Iterators are what they are; to iterate to the next object of a collection (it can be anything like set, array, etc.) Why do they need to tell the size when they don&#39;t care what they are trying to iterate for? `to provide an implementation-independent method for access, in which the user does not need to know whether the underlying implementation is some form of array or of linked list, and allows the user go through the collection without explicit indexing.` http://penguin.ewu.edu/~trolfe/LinkedSort/Iterator.html","body":"Iterators are what they are; to iterate to the next object of a collection (it can be anything like set, array, etc.) Why do they need to tell the size when they don&#39;t care what they are trying to iterate for? <code>to provide an implementation-independent method for access, in which the user does not need to know whether the underlying implementation is some form of array or of linked list, and allows the user go through the collection without explicit indexing.</code> <a href=\"http://penguin.ewu.edu/~trolfe/LinkedSort/Iterator.html\" rel=\"nofollow noreferrer\">penguin.ewu.edu/~trolfe/LinkedSort/Iterator.html</a>"}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1516056473,"creation_date":1331816462,"answer_id":9720236,"question_id":9720195,"body_markdown":"There is no more efficient way, if all you have is the iterator.  And if the iterator can only be used once, then getting the count before you get the iterator&#39;s contents is ... problematic.\r\n\r\nThe solution is either to change your application so that it doesn&#39;t need the count, or to obtain the count by some other means.  (For example, pass a `Collection` rather than `Iterator` ...)\r\n\r\n ","title":"What is the best way to get the count/length/size of an iterator?","body":"<p>There is no more efficient way, if all you have is the iterator.  And if the iterator can only be used once, then getting the count before you get the iterator's contents is ... problematic.</p>\n\n<p>The solution is either to change your application so that it doesn't need the count, or to obtain the count by some other means.  (For example, pass a <code>Collection</code> rather than <code>Iterator</code> ...)</p>\n"},{"comments":[{"owner":{"account_id":14983151,"reputation":570,"user_id":10816587,"display_name":"MichaelCkr"},"score":3,"creation_date":1597834682,"post_id":9720254,"comment_id":112261091,"body_markdown":"Beware of the side-effect of ``Iterators.size(...)`` (mentioned in other comments below and in java-doc):\n&quot;Returns the number of elements remaining in iterator. The iterator will be left exhausted: its hasNext() method will return false.&quot; That means, you can&#39;t use the Iterator anymore afterwards. ``Lists.newArrayList(some_iterator);`` may help.","body":"Beware of the side-effect of <code>Iterators.size(...)</code> (mentioned in other comments below and in java-doc): &quot;Returns the number of elements remaining in iterator. The iterator will be left exhausted: its hasNext() method will return false.&quot; That means, you can&#39;t use the Iterator anymore afterwards. <code>Lists.newArrayList(some_iterator);</code> may help."}],"tags":[],"owner":{"account_id":264830,"reputation":70811,"user_id":551406,"accept_rate":95,"display_name":"Michael Berry"},"comment_count":1,"down_vote_count":1,"up_vote_count":81,"is_accepted":true,"score":80,"last_activity_date":1608115724,"creation_date":1331816528,"answer_id":9720254,"question_id":9720195,"body_markdown":"If you&#39;ve just got the iterator then that&#39;s what you&#39;ll have to do - it doesn&#39;t *know* how many items it&#39;s got left to iterate over, so you can&#39;t query it for that result. There are utility methods that will *seem* to do this efficiently (such as `Iterators.size()` in Guava), but underneath they&#39;re just consuming the iterator and counting as they go, the same as in your example.\r\n\r\nHowever, many iterators come from collections, which you can often query for their size. And if it&#39;s a user made class you&#39;re getting the iterator for, you could look to provide a size() method on that class.\r\n\r\nIn short, in the situation where you *only* have the iterator then there&#39;s no better way, but much more often than not you have access to the underlying collection or object from which you may be able to get the size directly.","title":"What is the best way to get the count/length/size of an iterator?","body":"<p>If you've just got the iterator then that's what you'll have to do - it doesn't <em>know</em> how many items it's got left to iterate over, so you can't query it for that result. There are utility methods that will <em>seem</em> to do this efficiently (such as <code>Iterators.size()</code> in Guava), but underneath they're just consuming the iterator and counting as they go, the same as in your example.</p>\n<p>However, many iterators come from collections, which you can often query for their size. And if it's a user made class you're getting the iterator for, you could look to provide a size() method on that class.</p>\n<p>In short, in the situation where you <em>only</em> have the iterator then there's no better way, but much more often than not you have access to the underlying collection or object from which you may be able to get the size directly.</p>\n"},{"comments":[{"owner":{"account_id":3147269,"reputation":10469,"user_id":3075340,"accept_rate":70,"display_name":"Micro"},"score":1,"creation_date":1539475694,"post_id":9720262,"comment_id":92516492,"body_markdown":"how efficient is this? what if the iterator is like a million values?","body":"how efficient is this? what if the iterator is like a million values?"},{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":5,"creation_date":1539711615,"post_id":9720262,"comment_id":92598116,"body_markdown":"@Micro technically an iterator could be infinite - in which case the loop will go on forever.","body":"@Micro technically an iterator could be infinite - in which case the loop will go on forever."},{"owner":{"account_id":4716379,"reputation":1255,"user_id":3901138,"accept_rate":41,"display_name":"Park JongBum"},"score":0,"creation_date":1681350859,"post_id":9720262,"comment_id":134043614,"body_markdown":"by definition, iterator(able) object can be a target of for-each loop. So, that kind object&#39;s size could be known by counting one item by one item, eventually. Therefore, looping is inevitable.","body":"by definition, iterator(able) object can be a target of for-each loop. So, that kind object&#39;s size could be known by counting one item by one item, eventually. Therefore, looping is inevitable."}],"tags":[],"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"comment_count":3,"down_vote_count":1,"up_vote_count":20,"is_accepted":false,"score":19,"last_activity_date":1331816546,"creation_date":1331816546,"answer_id":9720262,"question_id":9720195,"body_markdown":"Your code will give you an exception when you reach the end of the iterator. You could do:\r\n\r\n    int i = 0;\r\n    while(iterator.hasNext()) {\r\n        i++;\r\n        iterator.next();\r\n    }\r\n\r\nIf you had access to the underlying collection, you would be able to call `coll.size()`...\r\n\r\n**EDIT**\r\nOK you have amended...","title":"What is the best way to get the count/length/size of an iterator?","body":"<p>Your code will give you an exception when you reach the end of the iterator. You could do:</p>\n\n<pre><code>int i = 0;\nwhile(iterator.hasNext()) {\n    i++;\n    iterator.next();\n}\n</code></pre>\n\n<p>If you had access to the underlying collection, you would be able to call <code>coll.size()</code>...</p>\n\n<p><strong>EDIT</strong>\nOK you have amended...</p>\n"},{"comments":[{"owner":{"account_id":3109932,"reputation":1266,"user_id":2631925,"accept_rate":84,"display_name":"Tvde1"},"score":1,"creation_date":1506329272,"post_id":9720278,"comment_id":79759193,"body_markdown":"What if we don&#39;t have `a`, but only `i`?","body":"What if we don&#39;t have <code>a</code>, but only <code>i</code>?"}],"tags":[],"owner":{"account_id":473751,"reputation":19104,"user_id":883033,"accept_rate":63,"display_name":"Chandra Sekhar"},"comment_count":1,"down_vote_count":7,"up_vote_count":1,"is_accepted":false,"score":-6,"last_activity_date":1331817163,"creation_date":1331816598,"answer_id":9720278,"question_id":9720195,"body_markdown":"iterator object contains the same number of elements what your collection contained.\r\n\r\n    List&lt;E&gt; a =...;\r\n    Iterator&lt;E&gt; i = a.iterator();\r\n    int size = a.size();//Because iterators size is equal to list a&#39;s size.\r\n\r\nBut instead of getting the size of iterator and iterating through index 0 to that size, it is better to iterate through the method **next()** of the iterator.","title":"What is the best way to get the count/length/size of an iterator?","body":"<p>iterator object contains the same number of elements what your collection contained.</p>\n\n<pre><code>List&lt;E&gt; a =...;\nIterator&lt;E&gt; i = a.iterator();\nint size = a.size();//Because iterators size is equal to list a's size.\n</code></pre>\n\n<p>But instead of getting the size of iterator and iterating through index 0 to that size, it is better to iterate through the method <strong>next()</strong> of the iterator.</p>\n"},{"tags":[],"owner":{"account_id":552427,"reputation":11380,"user_id":917548,"display_name":"Roger Lindsj&#246;"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1331817187,"creation_date":1331817187,"answer_id":9720435,"question_id":9720195,"body_markdown":"If all you have is the iterator, then no, there is no &quot;better&quot; way. If the iterator comes from a collection you could as that for size.\r\n\r\nKeep in mind that Iterator is just an interface for traversing distinct values, you would very well have code such as this\r\n\r\n\t\tnew Iterator&lt;Long&gt;() {\r\n\t\t\tfinal Random r = new Random();\r\n\t\t\t@Override\r\n\t\t\tpublic boolean hasNext() {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic Long next() {\r\n\t\t\t\treturn r.nextLong();\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void remove() {\r\n\t\t\t\tthrow new IllegalArgumentException(&quot;Not implemented&quot;);\r\n\t\t\t}\r\n\t\t};\r\n\r\nor\r\n\r\n\t\tnew Iterator&lt;BigInteger&gt;() {\r\n\t\t\tBigInteger next = BigInteger.ZERO;\r\n\t\t\t\r\n\t\t\t@Override\r\n\t\t\tpublic boolean hasNext() {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic BigInteger next() {\r\n\t\t\t\tBigInteger current = next;\r\n\t\t\t\tnext = next.add(BigInteger.ONE);\r\n\t\t\t\treturn current;\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void remove() {\r\n\t\t\t\tthrow new IllegalArgumentException(&quot;Not implemented&quot;);\r\n\t\t\t}\r\n\t\t}; ","title":"What is the best way to get the count/length/size of an iterator?","body":"<p>If all you have is the iterator, then no, there is no \"better\" way. If the iterator comes from a collection you could as that for size.</p>\n\n<p>Keep in mind that Iterator is just an interface for traversing distinct values, you would very well have code such as this</p>\n\n<pre><code>    new Iterator&lt;Long&gt;() {\n        final Random r = new Random();\n        @Override\n        public boolean hasNext() {\n            return true;\n        }\n\n        @Override\n        public Long next() {\n            return r.nextLong();\n        }\n\n        @Override\n        public void remove() {\n            throw new IllegalArgumentException(\"Not implemented\");\n        }\n    };\n</code></pre>\n\n<p>or</p>\n\n<pre><code>    new Iterator&lt;BigInteger&gt;() {\n        BigInteger next = BigInteger.ZERO;\n\n        @Override\n        public boolean hasNext() {\n            return true;\n        }\n\n        @Override\n        public BigInteger next() {\n            BigInteger current = next;\n            next = next.add(BigInteger.ONE);\n            return current;\n        }\n\n        @Override\n        public void remove() {\n            throw new IllegalArgumentException(\"Not implemented\");\n        }\n    }; \n</code></pre>\n"},{"comments":[{"owner":{"account_id":1779818,"reputation":16441,"user_id":1622847,"accept_rate":70,"display_name":"lolski"},"score":12,"creation_date":1525263256,"post_id":26866447,"comment_id":87286682,"body_markdown":"This is very elegant. Just remember that you are consuming your iterator (ie., the iterator will be empty afterwards)","body":"This is very elegant. Just remember that you are consuming your iterator (ie., the iterator will be empty afterwards)"},{"owner":{"account_id":151452,"reputation":12263,"user_id":365338,"accept_rate":83,"display_name":"Zak"},"score":5,"creation_date":1565974531,"post_id":26866447,"comment_id":101522916,"body_markdown":"This is not &quot;computationally quick&quot;, this is a convenience method that has the undesired side effect of consuming the iterator.","body":"This is not &quot;computationally quick&quot;, this is a convenience method that has the undesired side effect of consuming the iterator."},{"owner":{"account_id":13329511,"reputation":211,"user_id":9621370,"display_name":"Aditya Verma"},"score":0,"creation_date":1592253470,"post_id":26866447,"comment_id":110354434,"body_markdown":"Can you please explain how does this work ? @Andrejs    List&lt;Tuple2&lt;String, Integer&gt;&gt; wordCountsWithGroupByKey = wordsPairRdd.groupByKey()\n                .mapValues(intIterable -&gt; Iterables.size(intIterable)).collect();\n        System.out.println(&quot;wordCountsWithGroupByKey: &quot; + wordCountsWithGroupByKey);    &quot; Iterables.size(intIterable)?","body":"Can you please explain how does this work ? @Andrejs    List&lt;Tuple2&lt;String, Integer&gt;&gt; wordCountsWithGroupByKey = wordsPairRdd.groupByKey()                 .mapValues(intIterable -&gt; Iterables.size(intIterable)).collect();         System.out.println(&quot;wordCountsWithGroupByKey: &quot; + wordCountsWithGroupByKey);    &quot; Iterables.size(intIterable)?"},{"owner":{"account_id":2338104,"reputation":9101,"user_id":2049986,"accept_rate":89,"display_name":"Jacob van Lingen"},"score":0,"creation_date":1624966877,"post_id":26866447,"comment_id":120496471,"body_markdown":"The Apache Commons variant: `int size = IteratorUtils.size(iterator)`","body":"The Apache Commons variant: <code>int size = IteratorUtils.size(iterator)</code>"}],"tags":[],"owner":{"account_id":1212298,"reputation":27085,"user_id":1180621,"accept_rate":100,"display_name":"Andrejs"},"comment_count":4,"down_vote_count":5,"up_vote_count":118,"is_accepted":false,"score":113,"last_activity_date":1624967004,"creation_date":1415713910,"answer_id":26866447,"question_id":9720195,"body_markdown":"Using [Guava library][1]:\r\n\r\n    int size = Iterators.size(iterator);\r\n\r\nInternally it just iterates over all elements so its just for convenience.\r\n\r\n\r\n  [1]: https://guava.dev/releases/snapshot/api/docs/com/google/common/collect/Iterators.html#size(java.util.Iterator)","title":"What is the best way to get the count/length/size of an iterator?","body":"<p>Using <a href=\"https://guava.dev/releases/snapshot/api/docs/com/google/common/collect/Iterators.html#size(java.util.Iterator)\" rel=\"noreferrer\">Guava library</a>:</p>\n<pre><code>int size = Iterators.size(iterator);\n</code></pre>\n<p>Internally it just iterates over all elements so its just for convenience.</p>\n"},{"comments":[{"owner":{"account_id":7609722,"reputation":3939,"user_id":5771029,"accept_rate":100,"display_name":"Winter"},"score":2,"creation_date":1482255881,"post_id":32969580,"comment_id":69696637,"body_markdown":"@LoveToCode Less efficient than the example on the original question","body":"@LoveToCode Less efficient than the example on the original question"},{"owner":{"account_id":2325017,"reputation":5048,"user_id":2039736,"accept_rate":78,"display_name":"tashuhka"},"score":3,"creation_date":1482314723,"post_id":32969580,"comment_id":69720424,"body_markdown":"Sure, creating a new object with all the elements is slower than just iterating and discarding. \nIMHO, this solution is a one-liner that improves the code readability. I use it a lot for collections with few elements (up to 1000) or when speed is not an issue.","body":"Sure, creating a new object with all the elements is slower than just iterating and discarding.  IMHO, this solution is a one-liner that improves the code readability. I use it a lot for collections with few elements (up to 1000) or when speed is not an issue."}],"tags":[],"owner":{"account_id":2325017,"reputation":5048,"user_id":2039736,"accept_rate":78,"display_name":"tashuhka"},"comment_count":2,"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1526453746,"creation_date":1444133321,"answer_id":32969580,"question_id":9720195,"body_markdown":"Using [Guava library][1], another option is to convert the `Iterable` to a `List`.\r\n\r\n    List list = Lists.newArrayList(some_iterator);\r\n    int count = list.size();\r\n\r\nUse this if you need also to access the elements of the iterator after getting its size. By using `Iterators.size()` you no longer can access the iterated elements.\r\n\r\n  [1]: http://google.github.io/guava/releases/snapshot/api/docs/com/google/common/collect/Iterators.html","title":"What is the best way to get the count/length/size of an iterator?","body":"<p>Using <a href=\"http://google.github.io/guava/releases/snapshot/api/docs/com/google/common/collect/Iterators.html\" rel=\"noreferrer\">Guava library</a>, another option is to convert the <code>Iterable</code> to a <code>List</code>.</p>\n\n<pre><code>List list = Lists.newArrayList(some_iterator);\nint count = list.size();\n</code></pre>\n\n<p>Use this if you need also to access the elements of the iterator after getting its size. By using <code>Iterators.size()</code> you no longer can access the iterated elements.</p>\n"},{"tags":[],"owner":{"account_id":3242704,"reputation":13438,"user_id":2735286,"accept_rate":89,"display_name":"gil.fernandes"},"comment_count":0,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1515696770,"creation_date":1515696770,"answer_id":48214030,"question_id":9720195,"body_markdown":"You will always have to iterate. Yet you can use Java 8, 9 to do the counting without looping explicitely:\r\n\r\n    Iterable&lt;Integer&gt; newIterable = () -&gt; iter;\r\n    long count = StreamSupport.stream(newIterable.spliterator(), false).count();\r\n\r\nHere is a test:\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        Iterator&lt;Integer&gt; iter = Arrays.asList(1, 2, 3, 4, 5).iterator();\r\n        Iterable&lt;Integer&gt; newIterable = () -&gt; iter;\r\n        long count = StreamSupport.stream(newIterable.spliterator(), false).count();\r\n        System.out.println(count);\r\n    }\r\n\r\nThis prints:\r\n\r\n    5\r\n\r\nInteresting enough you can parallelize the count operation here by changing the `parallel` flag on this call:\r\n\r\n    long count = StreamSupport.stream(newIterable.spliterator(), *true*).count();","title":"What is the best way to get the count/length/size of an iterator?","body":"<p>You will always have to iterate. Yet you can use Java 8, 9 to do the counting without looping explicitely:</p>\n\n<pre><code>Iterable&lt;Integer&gt; newIterable = () -&gt; iter;\nlong count = StreamSupport.stream(newIterable.spliterator(), false).count();\n</code></pre>\n\n<p>Here is a test:</p>\n\n<pre><code>public static void main(String[] args) throws IOException {\n    Iterator&lt;Integer&gt; iter = Arrays.asList(1, 2, 3, 4, 5).iterator();\n    Iterable&lt;Integer&gt; newIterable = () -&gt; iter;\n    long count = StreamSupport.stream(newIterable.spliterator(), false).count();\n    System.out.println(count);\n}\n</code></pre>\n\n<p>This prints:</p>\n\n<pre><code>5\n</code></pre>\n\n<p>Interesting enough you can parallelize the count operation here by changing the <code>parallel</code> flag on this call:</p>\n\n<pre><code>long count = StreamSupport.stream(newIterable.spliterator(), *true*).count();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":13597048,"reputation":3428,"user_id":9808792,"display_name":"micycle"},"score":0,"creation_date":1618045373,"post_id":61526876,"comment_id":118487139,"body_markdown":"Why the `AtomicInteger`?","body":"Why the <code>AtomicInteger</code>?"}],"tags":[],"owner":{"account_id":290411,"reputation":1535,"user_id":6171247,"accept_rate":92,"display_name":"robbie70"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1588330926,"creation_date":1588259901,"answer_id":61526876,"question_id":9720195,"body_markdown":"for **Java 8** you could use,\r\n\r\n    public static int getIteratorSize(Iterator iterator){\r\n            AtomicInteger count = new AtomicInteger(0);\r\n            iterator.forEachRemaining(element -&gt; {\r\n                count.incrementAndGet();\r\n            });\r\n            return count.get();\r\n        }","title":"What is the best way to get the count/length/size of an iterator?","body":"<p>for <strong>Java 8</strong> you could use,</p>\n\n<pre><code>public static int getIteratorSize(Iterator iterator){\n        AtomicInteger count = new AtomicInteger(0);\n        iterator.forEachRemaining(element -&gt; {\n            count.incrementAndGet();\n        });\n        return count.get();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6753562,"reputation":28,"user_id":5202832,"display_name":"madhav"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658136473,"creation_date":1658136473,"answer_id":73020063,"question_id":9720195,"body_markdown":"To get the size of an Iterable\r\n\r\n    Iterable&lt;Users&gt; users = usersRepository.findUsersByLocation(&quot;IND&quot;);\r\n\r\nNow assert the size of users of Type Iterable\r\n\r\n    assertEquals(2, ((Collection&lt;Users&gt;)users).size());","title":"What is the best way to get the count/length/size of an iterator?","body":"<p>To get the size of an Iterable</p>\n<pre><code>Iterable&lt;Users&gt; users = usersRepository.findUsersByLocation(&quot;IND&quot;);\n</code></pre>\n<p>Now assert the size of users of Type Iterable</p>\n<pre><code>assertEquals(2, ((Collection&lt;Users&gt;)users).size());\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4487116,"reputation":429,"user_id":3649352,"accept_rate":67,"display_name":"Kunal Varpe"},"score":0,"creation_date":1672849216,"post_id":75007206,"comment_id":132366668,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/75007206/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":7034980,"reputation":11,"user_id":5389444,"display_name":"Pierre Paillard"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672844035,"creation_date":1672844035,"answer_id":75007206,"question_id":9720195,"body_markdown":"To get quickly the size :\r\n\r\n    [...iterator].length","title":"What is the best way to get the count/length/size of an iterator?","body":"<p>To get quickly the size :</p>\n<pre><code>[...iterator].length\n</code></pre>\n"}],"owner":{"account_id":151452,"reputation":12263,"user_id":365338,"accept_rate":83,"display_name":"Zak"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":248719,"favorite_count":0,"down_vote_count":0,"up_vote_count":131,"accepted_answer_id":9720254,"answer_count":11,"score":131,"last_activity_date":1693162330,"creation_date":1331816322,"question_id":9720195,"body_markdown":"Is there a &quot;computationally&quot; quick way to get the count of an iterator?\r\n\r\n    int i = 0;\r\n    for ( ; some_iterator.hasNext() ; ++i ) some_iterator.next();\r\n\r\n... seems like a waste of CPU cycles.\r\n","title":"What is the best way to get the count/length/size of an iterator?","body":"<p>Is there a \"computationally\" quick way to get the count of an iterator?</p>\n\n<pre><code>int i = 0;\nfor ( ; some_iterator.hasNext() ; ++i ) some_iterator.next();\n</code></pre>\n\n<p>... seems like a waste of CPU cycles.</p>\n"},{"tags":["java","stun"],"answers":[{"tags":[],"owner":{"account_id":36607,"reputation":101051,"user_id":104458,"accept_rate":91,"display_name":"selbie"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1419108506,"creation_date":1419108506,"answer_id":27584193,"question_id":27469398,"body_markdown":"*Reasonable answer why STUN in Java is so huge is also acceptable.*\r\n\r\nIt&#39;s a reasonable question. 99% of what STUN is just a simple echo/response protocol for a client to self-discover the IP and port mapping as a result of NAT between it and the public internet.  Having built [a STUN library in C++][1], I have some insight.\r\n\r\nLet&#39;s think about what is required of a STUN library:\r\n   \r\n - A message writer that generates the STUN messages with an attribute field schema that not only allows for fields to appear *in any order*, it also allows for custom attributes to be added as well.\r\n   \r\n - A message parser that can read such messages back and convert a data\r\n   structure reasonable for code to use. It needs to do this securely and avoid unhandled exceptions.\r\n   \r\n - Socket networking code to send/receive such messages. And STUN servers are technically required to listen on 2 IPs and 2 ports, so that makes the networking code for the server a bit more complex.\r\n   \r\n - If we just care about binding requests and binding responses, we&#39;d be\r\n   done. But the STUN RFCs also define a set of NAT classification tests. So additional state machine logic is needed to make any such library complete.\r\n\r\n - And if the STUN library is going to go all the way with the security options afforded by the protocol, it would need some amount of crypto code for hashing and signing of messages\r\n\r\nSo combining all this into a library that anyone can use for all the different purposes of STUN including mapped address discovery, NAT classification, and ICE negotiation, it starts to get big quick.\r\n\r\nYou could easily just roll some socket code that hardcodes the bytes of a binding request and then some hacked up parsing to parse the response. That might meet your own needs, but a well established open source library would never be written this way.\r\n\r\n[JSTUN][2] is a good start. I&#39;ve shared some interop and bug fixing code with the original author. He doesn&#39;t actively maintain it, but it&#39;s a good implementation of RFC 3489. I even hacked it up once to run on Android.\r\n\r\nTo generate a STUN binding request in JSTUN.\r\n\r\n    MessageHeader sendMH = new MessageHeader(MessageHeader.MessageHeaderType.BindingRequest);\r\n\tsendMH.generateTransactionID();\r\n\r\n    // add an empty ChangeRequest attribute. Not required by the standard, but JSTUN server requires it\r\n\tChangeRequest changeRequest = new ChangeRequest();\r\n\tsendMH.addMessageAttribute(changeRequest);\r\n    \r\n\tbyte[] data = sendMH.getBytes();\r\n    \r\n    // not shown - sending the message\r\n    \r\nThen to parse the response back:\r\n\r\n    byte [] receivedData = new byte[500];\r\n\r\n    // not shown - socket code that receives the messages into receivedData\r\n    receiveMH.parseAttributes(receivedData);\r\n    MappedAddress ma = (MappedAddress) receiveMH.getMessageAttribute(MessageAttribute.MessageAttributeType.MappedAddress);    \r\n\r\n\r\nThen combine the above with some socket code.  The best example of combining the above with socket code can be found in the DiscoveryTest.java source file.  You really just need the code in the `test1()` method of this class.\r\n\r\n\r\n  [1]: https://github.com/jselbie/stunserver\r\n  [2]: http://jstun.javawi.de/\r\n\r\n","title":"Simple STUN client in java","body":"<p><em>Reasonable answer why STUN in Java is so huge is also acceptable.</em></p>\n\n<p>It's a reasonable question. 99% of what STUN is just a simple echo/response protocol for a client to self-discover the IP and port mapping as a result of NAT between it and the public internet.  Having built <a href=\"https://github.com/jselbie/stunserver\" rel=\"noreferrer\">a STUN library in C++</a>, I have some insight.</p>\n\n<p>Let's think about what is required of a STUN library:</p>\n\n<ul>\n<li><p>A message writer that generates the STUN messages with an attribute field schema that not only allows for fields to appear <em>in any order</em>, it also allows for custom attributes to be added as well.</p></li>\n<li><p>A message parser that can read such messages back and convert a data\nstructure reasonable for code to use. It needs to do this securely and avoid unhandled exceptions.</p></li>\n<li><p>Socket networking code to send/receive such messages. And STUN servers are technically required to listen on 2 IPs and 2 ports, so that makes the networking code for the server a bit more complex.</p></li>\n<li><p>If we just care about binding requests and binding responses, we'd be\ndone. But the STUN RFCs also define a set of NAT classification tests. So additional state machine logic is needed to make any such library complete.</p></li>\n<li><p>And if the STUN library is going to go all the way with the security options afforded by the protocol, it would need some amount of crypto code for hashing and signing of messages</p></li>\n</ul>\n\n<p>So combining all this into a library that anyone can use for all the different purposes of STUN including mapped address discovery, NAT classification, and ICE negotiation, it starts to get big quick.</p>\n\n<p>You could easily just roll some socket code that hardcodes the bytes of a binding request and then some hacked up parsing to parse the response. That might meet your own needs, but a well established open source library would never be written this way.</p>\n\n<p><a href=\"http://jstun.javawi.de/\" rel=\"noreferrer\">JSTUN</a> is a good start. I've shared some interop and bug fixing code with the original author. He doesn't actively maintain it, but it's a good implementation of RFC 3489. I even hacked it up once to run on Android.</p>\n\n<p>To generate a STUN binding request in JSTUN.</p>\n\n<pre><code>MessageHeader sendMH = new MessageHeader(MessageHeader.MessageHeaderType.BindingRequest);\nsendMH.generateTransactionID();\n\n// add an empty ChangeRequest attribute. Not required by the standard, but JSTUN server requires it\nChangeRequest changeRequest = new ChangeRequest();\nsendMH.addMessageAttribute(changeRequest);\n\nbyte[] data = sendMH.getBytes();\n\n// not shown - sending the message\n</code></pre>\n\n<p>Then to parse the response back:</p>\n\n<pre><code>byte [] receivedData = new byte[500];\n\n// not shown - socket code that receives the messages into receivedData\nreceiveMH.parseAttributes(receivedData);\nMappedAddress ma = (MappedAddress) receiveMH.getMessageAttribute(MessageAttribute.MessageAttributeType.MappedAddress);    \n</code></pre>\n\n<p>Then combine the above with some socket code.  The best example of combining the above with socket code can be found in the DiscoveryTest.java source file.  You really just need the code in the <code>test1()</code> method of this class.</p>\n"},{"tags":[],"owner":{"account_id":5124438,"reputation":2515,"user_id":4107038,"accept_rate":44,"display_name":"Rajat"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1693161171,"creation_date":1493749934,"answer_id":43744882,"question_id":27469398,"body_markdown":"Java:\r\n\r\n        MessageHeader sendMH = new MessageHeader(MessageHeader.MessageHeaderType.BindingRequest);\r\n\t\t// sendMH.generateTransactionID();\r\n\r\n\t\t// add an empty ChangeRequest attribute. Not required by the\r\n\t\t// standard,\r\n\t\t// but JSTUN server requires it\r\n\r\n\t\tChangeRequest changeRequest = new ChangeRequest();\r\n\t\tsendMH.addMessageAttribute(changeRequest);\r\n\r\n\t\tbyte[] data = sendMH.getBytes();\r\n\t\t\r\n\r\n\t\ts = new DatagramSocket();\r\n\t\ts.setReuseAddress(true);\r\n\r\n\t\tDatagramPacket p = new DatagramPacket(data, data.length, InetAddress.getByName(&quot;stun.l.google.com&quot;), 19302);\r\n\t\ts.send(p);\r\n\r\n\t\tDatagramPacket rp;\r\n\r\n\t\trp = new DatagramPacket(new byte[32], 32);\r\n\r\n\t\ts.receive(rp);\r\n\t\tMessageHeader receiveMH = new MessageHeader(MessageHeader.MessageHeaderType.BindingResponse);\r\n\t\t// System.out.println(receiveMH.getTransactionID().toString() + &quot;Size:&quot;\r\n\t\t// + receiveMH.getTransactionID().length);\r\n\t\treceiveMH.parseAttributes(rp.getData());\r\n\t\tMappedAddress ma = (MappedAddress) receiveMH\r\n\t\t\t\t.getMessageAttribute(MessageAttribute.MessageAttributeType.MappedAddress);\r\n        System.out.println(ma.getAddress()+&quot; &quot;+ma.getPort());\r\n\r\n----\r\nkotlin\r\n```kotlin\r\nval sendMH = MessageHeader(MessageHeaderInterface.MessageHeaderType.BindingRequest)\r\nsendMH.generateTransactionID()\r\nprintln(&quot;sent transaction id: ${sendMH.transactionID.toHexString()}&quot;)\r\n\r\n// add an empty ChangeRequest attribute. Not required by the standard,\r\n// but JSTUN server requires it\r\nval changeRequest = ChangeRequest()\r\nsendMH.addMessageAttribute(changeRequest)\r\nval data:ByteArray = sendMH.bytes\r\n\r\nval s = DatagramSocket()\r\ns.reuseAddress = true\r\nval p = DatagramPacket(data,data.size,InetAddress.getByName(&quot;stun.l.google.com&quot;),19302)\r\ns.send(p)\r\n\r\nval rp = DatagramPacket(ByteArray(32),32)\r\ns.receive(rp)\r\nval receiveMH = MessageHeader(MessageHeaderInterface.MessageHeaderType.BindingResponse)\r\ntry\r\n{\r\n    receiveMH.parseAttributes(rp.data)\r\n}\r\ncatch (e:MessageAttributeParsingException)\r\n{\r\n    e.printStackTrace()\r\n}\r\nprintln(&quot;received transaction id: ${receiveMH.transactionID.toHexString()}&quot;)\r\nval ma = receiveMH.getMessageAttribute(MessageAttributeInterface.MessageAttributeType.MappedAddress) as MappedAddress\r\nprintln(&quot;${ma.address}:${ma.port}&quot;)\r\n```","title":"Simple STUN client in java","body":"<p>Java:</p>\n<pre><code>    MessageHeader sendMH = new MessageHeader(MessageHeader.MessageHeaderType.BindingRequest);\n    // sendMH.generateTransactionID();\n\n    // add an empty ChangeRequest attribute. Not required by the\n    // standard,\n    // but JSTUN server requires it\n\n    ChangeRequest changeRequest = new ChangeRequest();\n    sendMH.addMessageAttribute(changeRequest);\n\n    byte[] data = sendMH.getBytes();\n    \n\n    s = new DatagramSocket();\n    s.setReuseAddress(true);\n\n    DatagramPacket p = new DatagramPacket(data, data.length, InetAddress.getByName(&quot;stun.l.google.com&quot;), 19302);\n    s.send(p);\n\n    DatagramPacket rp;\n\n    rp = new DatagramPacket(new byte[32], 32);\n\n    s.receive(rp);\n    MessageHeader receiveMH = new MessageHeader(MessageHeader.MessageHeaderType.BindingResponse);\n    // System.out.println(receiveMH.getTransactionID().toString() + &quot;Size:&quot;\n    // + receiveMH.getTransactionID().length);\n    receiveMH.parseAttributes(rp.getData());\n    MappedAddress ma = (MappedAddress) receiveMH\n            .getMessageAttribute(MessageAttribute.MessageAttributeType.MappedAddress);\n    System.out.println(ma.getAddress()+&quot; &quot;+ma.getPort());\n</code></pre>\n<hr />\n<p>kotlin</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val sendMH = MessageHeader(MessageHeaderInterface.MessageHeaderType.BindingRequest)\nsendMH.generateTransactionID()\nprintln(&quot;sent transaction id: ${sendMH.transactionID.toHexString()}&quot;)\n\n// add an empty ChangeRequest attribute. Not required by the standard,\n// but JSTUN server requires it\nval changeRequest = ChangeRequest()\nsendMH.addMessageAttribute(changeRequest)\nval data:ByteArray = sendMH.bytes\n\nval s = DatagramSocket()\ns.reuseAddress = true\nval p = DatagramPacket(data,data.size,InetAddress.getByName(&quot;stun.l.google.com&quot;),19302)\ns.send(p)\n\nval rp = DatagramPacket(ByteArray(32),32)\ns.receive(rp)\nval receiveMH = MessageHeader(MessageHeaderInterface.MessageHeaderType.BindingResponse)\ntry\n{\n    receiveMH.parseAttributes(rp.data)\n}\ncatch (e:MessageAttributeParsingException)\n{\n    e.printStackTrace()\n}\nprintln(&quot;received transaction id: ${receiveMH.transactionID.toHexString()}&quot;)\nval ma = receiveMH.getMessageAttribute(MessageAttributeInterface.MessageAttributeType.MappedAddress) as MappedAddress\nprintln(&quot;${ma.address}:${ma.port}&quot;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5597519,"reputation":699,"user_id":4592525,"display_name":"Constantin Zagorsky"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1564964245,"creation_date":1564964245,"answer_id":57351040,"question_id":27469398,"body_markdown":"    import java.io.IOException;\r\n    import java.net.DatagramPacket;\r\n    import java.net.DatagramSocket;\r\n    import java.net.InetAddress;\r\n    import java.net.InetSocketAddress;\r\n    import java.net.SocketException;\r\n    import java.net.SocketTimeoutException;\r\n    import java.net.UnknownHostException;\r\n    \r\n    import de.javawi.jstun.attribute.ChangeRequest;\r\n    import de.javawi.jstun.attribute.ChangedAddress;\r\n    import de.javawi.jstun.attribute.ErrorCode;\r\n    import de.javawi.jstun.attribute.MappedAddress;\r\n    import de.javawi.jstun.attribute.MessageAttribute;\r\n    import de.javawi.jstun.attribute.MessageAttributeException;\r\n    import de.javawi.jstun.attribute.MessageAttributeParsingException;\r\n    import de.javawi.jstun.header.MessageHeader;\r\n    import de.javawi.jstun.header.MessageHeaderParsingException;\r\n    import de.javawi.jstun.util.UtilityException;\r\n    \r\n    \r\n    public class StunTest { public static void main(String[] args) throws UtilityException, IOException {\r\n    \r\n    \r\n            MessageHeader sendMH = new MessageHeader(MessageHeader.MessageHeaderType.BindingRequest);\r\n            // sendMH.generateTransactionID();\r\n    \r\n            // add an empty ChangeRequest attribute. Not required by the\r\n            // standard,\r\n            // but JSTUN server requires it\r\n    \r\n            ChangeRequest changeRequest = new ChangeRequest();\r\n            sendMH.addMessageAttribute(changeRequest);\r\n    \r\n            byte[] data = sendMH.getBytes();\r\n    \r\n    \r\n            DatagramSocket s = new DatagramSocket();\r\n            s.setReuseAddress(true);\r\n    \r\n            DatagramPacket p = new DatagramPacket(data, data.length, InetAddress.getByName(&quot;stun.l.google.com&quot;), 19302);\r\n            s.send(p);\r\n    \r\n            DatagramPacket rp;\r\n    \r\n            rp = new DatagramPacket(new byte[32], 32);\r\n    \r\n            s.receive(rp);\r\n            MessageHeader receiveMH = new MessageHeader(MessageHeader.MessageHeaderType.BindingResponse);\r\n            // System.out.println(receiveMH.getTransactionID().toString() + &quot;Size:&quot;\r\n            // + receiveMH.getTransactionID().length);\r\n            try {\r\n                    receiveMH.parseAttributes(rp.getData());\r\n            } catch (MessageAttributeParsingException e) {\r\n                    e.printStackTrace();\r\n            }\r\n            MappedAddress ma = (MappedAddress) receiveMH\r\n                    .getMessageAttribute(MessageAttribute.MessageAttributeType.MappedAddress);\r\n            System.out.println(ma.getAddress()+&quot; &quot;+ma.getPort());\r\n        }\r\n    }","title":"Simple STUN client in java","body":"<pre><code>import java.io.IOException;\nimport java.net.DatagramPacket;\nimport java.net.DatagramSocket;\nimport java.net.InetAddress;\nimport java.net.InetSocketAddress;\nimport java.net.SocketException;\nimport java.net.SocketTimeoutException;\nimport java.net.UnknownHostException;\n\nimport de.javawi.jstun.attribute.ChangeRequest;\nimport de.javawi.jstun.attribute.ChangedAddress;\nimport de.javawi.jstun.attribute.ErrorCode;\nimport de.javawi.jstun.attribute.MappedAddress;\nimport de.javawi.jstun.attribute.MessageAttribute;\nimport de.javawi.jstun.attribute.MessageAttributeException;\nimport de.javawi.jstun.attribute.MessageAttributeParsingException;\nimport de.javawi.jstun.header.MessageHeader;\nimport de.javawi.jstun.header.MessageHeaderParsingException;\nimport de.javawi.jstun.util.UtilityException;\n\n\npublic class StunTest { public static void main(String[] args) throws UtilityException, IOException {\n\n\n        MessageHeader sendMH = new MessageHeader(MessageHeader.MessageHeaderType.BindingRequest);\n        // sendMH.generateTransactionID();\n\n        // add an empty ChangeRequest attribute. Not required by the\n        // standard,\n        // but JSTUN server requires it\n\n        ChangeRequest changeRequest = new ChangeRequest();\n        sendMH.addMessageAttribute(changeRequest);\n\n        byte[] data = sendMH.getBytes();\n\n\n        DatagramSocket s = new DatagramSocket();\n        s.setReuseAddress(true);\n\n        DatagramPacket p = new DatagramPacket(data, data.length, InetAddress.getByName(\"stun.l.google.com\"), 19302);\n        s.send(p);\n\n        DatagramPacket rp;\n\n        rp = new DatagramPacket(new byte[32], 32);\n\n        s.receive(rp);\n        MessageHeader receiveMH = new MessageHeader(MessageHeader.MessageHeaderType.BindingResponse);\n        // System.out.println(receiveMH.getTransactionID().toString() + \"Size:\"\n        // + receiveMH.getTransactionID().length);\n        try {\n                receiveMH.parseAttributes(rp.getData());\n        } catch (MessageAttributeParsingException e) {\n                e.printStackTrace();\n        }\n        MappedAddress ma = (MappedAddress) receiveMH\n                .getMessageAttribute(MessageAttribute.MessageAttributeType.MappedAddress);\n        System.out.println(ma.getAddress()+\" \"+ma.getPort());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":249430,"reputation":6306,"user_id":525454,"accept_rate":76,"display_name":"Max"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8214,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":27584193,"answer_count":3,"score":5,"last_activity_date":1693161171,"creation_date":1418561003,"question_id":27469398,"body_markdown":"I have found several java STUN implementations\r\n\r\nhttps://stackoverflow.com/questions/5704326/java-and-which-stun-libraries-i-should-use\r\n&gt; There is \r\n&gt; \r\n&gt;  - JSTUN: http://jstun.javawi.de/\r\n&gt;  - STUN: http://java.net/projects/stun\r\n&gt; \r\n&gt; See also: https://stackoverflow.com/questions/2039147/stun-turn-ice-library-for-java\r\n\r\nBut it is jars with many classes. I wish to find something simple in form of single method or at least single small class. Like following python code.\r\n\r\nhttps://github.com/jtriley/pystun/blob/develop/stun/__init__.py\r\n\r\nReasonable answer why STUN in Java is so huge is also acceptable.\r\n\r\n","title":"Simple STUN client in java","body":"<p>I have found several java STUN implementations</p>\n\n<p><a href=\"https://stackoverflow.com/questions/5704326/java-and-which-stun-libraries-i-should-use\">Java and Which Stun libraries i should use?</a></p>\n\n<blockquote>\n  <p>There is </p>\n  \n  <ul>\n  <li>JSTUN: <a href=\"http://jstun.javawi.de/\" rel=\"nofollow noreferrer\">http://jstun.javawi.de/</a></li>\n  <li>STUN: <a href=\"http://java.net/projects/stun\" rel=\"nofollow noreferrer\">http://java.net/projects/stun</a></li>\n  </ul>\n  \n  <p>See also: <a href=\"https://stackoverflow.com/questions/2039147/stun-turn-ice-library-for-java\">STUN, TURN, ICE library for Java</a></p>\n</blockquote>\n\n<p>But it is jars with many classes. I wish to find something simple in form of single method or at least single small class. Like following python code.</p>\n\n<p><a href=\"https://github.com/jtriley/pystun/blob/develop/stun/__init__.py\" rel=\"nofollow noreferrer\">https://github.com/jtriley/pystun/blob/develop/stun/<strong>init</strong>.py</a></p>\n\n<p>Reasonable answer why STUN in Java is so huge is also acceptable.</p>\n"},{"tags":["java","hibernate"],"answers":[{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1693159927,"creation_date":1693159152,"answer_id":76988344,"question_id":76988151,"body_markdown":"According to the latest [javadoc][1] , you should use [`createMutationQuery()`][2] instead as you are doing update only : \r\n\r\n``` java\r\nMutationQuery query = session.createMutationQuery(&quot;UPDATE HistoryDataProcessorSettingsEntity row SET row.ipLastTimeStamp=:ipLastTimeStamp WHERE row.id=:id &quot;)\r\n                            .setParameter(&quot;id&quot;, 1)\r\n                            .setParameter(&quot;ipLastTimeStamp&quot;, ipLastTimeStamp.toInstant());\r\n```\r\n\r\n\r\n  [1]: https://docs.jboss.org/hibernate/orm/6.2/javadocs/org/hibernate/query/QueryProducer.html#createQuery(java.lang.String)\r\n  [2]: https://docs.jboss.org/hibernate/orm/6.2/userguide/html_single/Hibernate_User_Guide.html#hql-MutationQuery","title":"How to fix deprecated createQuery method for an Update query in Hibernate?","body":"<p>According to the latest <a href=\"https://docs.jboss.org/hibernate/orm/6.2/javadocs/org/hibernate/query/QueryProducer.html#createQuery(java.lang.String)\" rel=\"nofollow noreferrer\">javadoc</a> , you should use <a href=\"https://docs.jboss.org/hibernate/orm/6.2/userguide/html_single/Hibernate_User_Guide.html#hql-MutationQuery\" rel=\"nofollow noreferrer\"><code>createMutationQuery()</code></a> instead as you are doing update only :</p>\n<pre class=\"lang-java prettyprint-override\"><code>MutationQuery query = session.createMutationQuery(&quot;UPDATE HistoryDataProcessorSettingsEntity row SET row.ipLastTimeStamp=:ipLastTimeStamp WHERE row.id=:id &quot;)\n                            .setParameter(&quot;id&quot;, 1)\n                            .setParameter(&quot;ipLastTimeStamp&quot;, ipLastTimeStamp.toInstant());\n</code></pre>\n"}],"owner":{"account_id":3274297,"reputation":1267,"user_id":2756820,"accept_rate":96,"display_name":"Ram"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76988344,"answer_count":1,"score":0,"last_activity_date":1693159927,"creation_date":1693156141,"question_id":76988151,"body_markdown":"I am upgrading the legacy code to Hibernate 6. I am getting deprecation warning for createQuery method for Update query. How do I fix this code? Google search just gives examples of old API only.\r\n\r\n    public static int setLastIpTimeStamp(Timestamp ipLastTimeStamp)\r\n            {\r\n                int rowsaffected = -1;\r\n                try (Session session = SessionFactoryManager.getSessionFactory().openSession())\r\n                {\r\n                    Transaction tx = session.beginTransaction();\r\n                    try\r\n                    {\r\n                        Query query = session.createQuery(&quot;UPDATE HistoryDataProcessorSettingsEntity row SET row.ipLastTimeStamp=:ipLastTimeStamp WHERE row.id=:id &quot;)\r\n                                .setParameter(&quot;id&quot;, 1)\r\n                                .setParameter(&quot;ipLastTimeStamp&quot;, ipLastTimeStamp.toInstant());\r\n                        rowsaffected = query.executeUpdate();\r\n                        tx.commit();\r\n                    }\r\n                    catch (Exception e)\r\n                    {\r\n                        tx.rollback();\r\n                        if (Logger.isErrorEnabled())\r\n                            Logger.error(e);\r\n                    }\r\n                }\r\n                catch (Exception e)\r\n                {\r\n                    if (Logger.isErrorEnabled())\r\n                        Logger.error(e);\r\n                }\r\n                return rowsaffected;\r\n            }","title":"How to fix deprecated createQuery method for an Update query in Hibernate?","body":"<p>I am upgrading the legacy code to Hibernate 6. I am getting deprecation warning for createQuery method for Update query. How do I fix this code? Google search just gives examples of old API only.</p>\n<pre><code>public static int setLastIpTimeStamp(Timestamp ipLastTimeStamp)\n        {\n            int rowsaffected = -1;\n            try (Session session = SessionFactoryManager.getSessionFactory().openSession())\n            {\n                Transaction tx = session.beginTransaction();\n                try\n                {\n                    Query query = session.createQuery(&quot;UPDATE HistoryDataProcessorSettingsEntity row SET row.ipLastTimeStamp=:ipLastTimeStamp WHERE row.id=:id &quot;)\n                            .setParameter(&quot;id&quot;, 1)\n                            .setParameter(&quot;ipLastTimeStamp&quot;, ipLastTimeStamp.toInstant());\n                    rowsaffected = query.executeUpdate();\n                    tx.commit();\n                }\n                catch (Exception e)\n                {\n                    tx.rollback();\n                    if (Logger.isErrorEnabled())\n                        Logger.error(e);\n                }\n            }\n            catch (Exception e)\n            {\n                if (Logger.isErrorEnabled())\n                    Logger.error(e);\n            }\n            return rowsaffected;\n        }\n</code></pre>\n"},{"tags":["java","multithreading","wait","java-threads","blocked-threads"],"comments":[{"owner":{"account_id":2120104,"reputation":537,"user_id":1883546,"accept_rate":80,"display_name":"Abdul"},"score":0,"creation_date":1364469940,"post_id":15680422,"comment_id":22260445,"body_markdown":"check answer in this thread http://stackoverflow.com/questions/2534147/java-thread-wait-blocked also this link may provide further clarification http://geekexplains.blogspot.cz/2008/07/threadstate-in-java-blocked-vs-waiting.html","body":"check answer in this thread <a href=\"http://stackoverflow.com/questions/2534147/java-thread-wait-blocked\" title=\"java thread wait blocked\">stackoverflow.com/questions/2534147/java-thread-wait-blocked</a> also this link may provide further clarification <a href=\"http://geekexplains.blogspot.cz/2008/07/threadstate-in-java-blocked-vs-waiting.html\" rel=\"nofollow noreferrer\">geekexplains.blogspot.cz/2008/07/&hellip;</a>"},{"owner":{"account_id":1127972,"reputation":10009,"user_id":1114773,"accept_rate":46,"display_name":"More Than Five"},"score":1,"creation_date":1364470713,"post_id":15680422,"comment_id":22260868,"body_markdown":"@Abdul the geekexplains link says that a thread can go into a blocked state by calling Object.wait() that&#39;s not correct is it?","body":"@Abdul the geekexplains link says that a thread can go into a blocked state by calling Object.wait() that&#39;s not correct is it?"},{"owner":{"account_id":2120104,"reputation":537,"user_id":1883546,"accept_rate":80,"display_name":"Abdul"},"score":1,"creation_date":1364473022,"post_id":15680422,"comment_id":22262183,"body_markdown":"according to oracle docs http://docs.oracle.com/javase/6/docs/api/java/lang/Thread.State.html#WAITING:  A thread is in the waiting state due to calling one of the following methods:Object.wait with no timeout, Thread.join with no timeout, LockSupport.park","body":"according to oracle docs <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/Thread.State.html#WAITING\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/6/docs/api/java/lang/&hellip;</a>:  A thread is in the waiting state due to calling one of the following methods:Object.wait with no timeout, Thread.join with no timeout, LockSupport.park"},{"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"score":1,"creation_date":1552501346,"post_id":15680422,"comment_id":97037985,"body_markdown":"For the record, I think @Flavio&#39;s answer is a bit better than Ankit&#39;s in case you might consider changing.","body":"For the record, I think @Flavio&#39;s answer is a bit better than Ankit&#39;s in case you might consider changing."}],"answers":[{"comments":[{"owner":{"account_id":1127972,"reputation":10009,"user_id":1114773,"accept_rate":46,"display_name":"More Than Five"},"score":2,"creation_date":1364470778,"post_id":15680550,"comment_id":22260911,"body_markdown":"is it correct to say that only a thread itself can make it go into wait? Can Thread-B ever make Thread-A go to WAIT state?","body":"is it correct to say that only a thread itself can make it go into wait? Can Thread-B ever make Thread-A go to WAIT state?"},{"owner":{"account_id":1127972,"reputation":10009,"user_id":1114773,"accept_rate":46,"display_name":"More Than Five"},"score":0,"creation_date":1364470974,"post_id":15680550,"comment_id":22261024,"body_markdown":"And why would you ever want to use wait state. I can understand Thread.join() but surely it is better to stay away from this construct and to instead always make threads just think about the data they want to access rather than interacting with other threads?","body":"And why would you ever want to use wait state. I can understand Thread.join() but surely it is better to stay away from this construct and to instead always make threads just think about the data they want to access rather than interacting with other threads?"},{"owner":{"account_id":1138001,"reputation":22629,"user_id":1122645,"accept_rate":89,"display_name":"UmNyobe"},"score":0,"creation_date":1364472114,"post_id":15680550,"comment_id":22261644,"body_markdown":"yes, only a thread itself can make it go to wait. You want a wait state because you don&#39;t want to loop on sleep(100ms) before a foreign action finally take place","body":"yes, only a thread itself can make it go to wait. You want a wait state because you don&#39;t want to loop on sleep(100ms) before a foreign action finally take place"},{"owner":{"account_id":216888,"reputation":11757,"user_id":472393,"accept_rate":80,"display_name":"Flavio"},"score":1,"creation_date":1364478734,"post_id":15680550,"comment_id":22265886,"body_markdown":"You rarely use `Object.wait()` directly, but you end up in the `WAITING` state also using the more high-level concurrency constructs - like locks, blocking queues, etc... broadly speaking, whenever two threads have to coordinate.","body":"You rarely use <code>Object.wait()</code> directly, but you end up in the <code>WAITING</code> state also using the more high-level concurrency constructs - like locks, blocking queues, etc... broadly speaking, whenever two threads have to coordinate."},{"owner":{"account_id":216888,"reputation":11757,"user_id":472393,"accept_rate":80,"display_name":"Flavio"},"score":1,"creation_date":1508937390,"post_id":15680550,"comment_id":80813889,"body_markdown":"From personal experience, threads waiting for IO (e.g. reading from a Socket) are in `RUNNING` state.","body":"From personal experience, threads waiting for IO (e.g. reading from a Socket) are in <code>RUNNING</code> state."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":4,"creation_date":1528896395,"post_id":15680550,"comment_id":88680650,"body_markdown":"Java8 doc for [`Thread.State`](https://docs.oracle.com/javase/8/docs/api/java/lang/Thread.State.html) says, &quot;...These states are virtual machine states which do not reflect any operating system thread states.&quot; In other words, the JVM does not care about the difference between a thread that is running Java code, a thread that is waiting for a system call to return, or a thread that is waiting for a time slice.  Those are all just `RUNNABLE` as far as the JVM is concerned.","body":"Java8 doc for <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Thread.State.html\" rel=\"nofollow noreferrer\"><code>Thread.State</code></a> says, &quot;...These states are virtual machine states which do not reflect any operating system thread states.&quot; In other words, the JVM does not care about the difference between a thread that is running Java code, a thread that is waiting for a system call to return, or a thread that is waiting for a time slice.  Those are all just <code>RUNNABLE</code> as far as the JVM is concerned."},{"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"score":5,"creation_date":1552501449,"post_id":15680550,"comment_id":97038035,"body_markdown":"It might be nice to add that when a thread moves from the `WAITING` state, it must first go to the `BLOCKED` state until it can acquire the lock associated with the object which it was waiting on.","body":"It might be nice to add that when a thread moves from the <code>WAITING</code> state, it must first go to the <code>BLOCKED</code> state until it can acquire the lock associated with the object which it was waiting on."}],"tags":[],"owner":{"account_id":216888,"reputation":11757,"user_id":472393,"accept_rate":80,"display_name":"Flavio"},"comment_count":7,"down_vote_count":1,"up_vote_count":109,"is_accepted":false,"score":108,"last_activity_date":1376432385,"creation_date":1364469895,"answer_id":15680550,"question_id":15680422,"body_markdown":"The difference is relatively simple.\r\n\r\nIn the `BLOCKED` state, a thread is about to enter a `synchronized` block, but there is another thread currently running inside a `synchronized` block on the same object. The first thread must then wait for the second thread to exit its block.\r\n\r\nIn the `WAITING` state, a thread is waiting for a signal from another thread. This happens typically by calling `Object.wait()`, or `Thread.join()`. The thread will then remain in this state until another thread calls `Object.notify()`, or dies.","title":"Difference between WAIT and BLOCKED thread states","body":"<p>The difference is relatively simple.</p>\n\n<p>In the <code>BLOCKED</code> state, a thread is about to enter a <code>synchronized</code> block, but there is another thread currently running inside a <code>synchronized</code> block on the same object. The first thread must then wait for the second thread to exit its block.</p>\n\n<p>In the <code>WAITING</code> state, a thread is waiting for a signal from another thread. This happens typically by calling <code>Object.wait()</code>, or <code>Thread.join()</code>. The thread will then remain in this state until another thread calls <code>Object.notify()</code>, or dies.</p>\n"},{"comments":[{"owner":{"account_id":51513,"reputation":1175,"user_id":153940,"accept_rate":58,"display_name":"Kumar Manish"},"score":3,"creation_date":1375643334,"post_id":15680579,"comment_id":26402522,"body_markdown":"You explained it much better because you explained the sequence in which a thread reaches those two states which makes it clearer than just explaining each of the two states in isolation (which is done by &quot;More Than Five&quot;&#39;s answer","body":"You explained it much better because you explained the sequence in which a thread reaches those two states which makes it clearer than just explaining each of the two states in isolation (which is done by &quot;More Than Five&quot;&#39;s answer"},{"owner":{"account_id":2291118,"reputation":1806,"user_id":2013911,"accept_rate":83,"display_name":"Niklas Peter"},"score":9,"creation_date":1441111620,"post_id":15680579,"comment_id":52538163,"body_markdown":"For all those, who wonder why most (all?) of the state diagrams found in the web claim, that notify()/notifyAll() results in RUNNABLE instead of BLOCKED: http://stackoverflow.com/questions/28378592/java-thread-state-transition-waiting-to-blocked-or-runnable","body":"For all those, who wonder why most (all?) of the state diagrams found in the web claim, that notify()/notifyAll() results in RUNNABLE instead of BLOCKED: <a href=\"http://stackoverflow.com/questions/28378592/java-thread-state-transition-waiting-to-blocked-or-runnable\" title=\"java thread state transition waiting to blocked or runnable\">stackoverflow.com/questions/28378592/&hellip;</a>"},{"owner":{"account_id":543250,"reputation":18874,"user_id":912319,"accept_rate":62,"display_name":"Kanagavelu Sugumar"},"score":0,"creation_date":1465978350,"post_id":15680579,"comment_id":63121365,"body_markdown":"Assume there is only one thread and waited on some time in millis; now Is it possible a thread can directly from waiting state to go to runnable state? since no other thread takes lock here since only single threaded?","body":"Assume there is only one thread and waited on some time in millis; now Is it possible a thread can directly from waiting state to go to runnable state? since no other thread takes lock here since only single threaded?"},{"owner":{"account_id":183072,"reputation":4982,"user_id":418235,"accept_rate":100,"display_name":"Ankit Bansal"},"score":0,"creation_date":1465979004,"post_id":15680579,"comment_id":63121802,"body_markdown":"There is a wait(time) method which will get back to runnable state once the time has elapsed. But if no time is specified, it will wait till other thread notifies or the thread is interrupted.","body":"There is a wait(time) method which will get back to runnable state once the time has elapsed. But if no time is specified, it will wait till other thread notifies or the thread is interrupted."},{"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"score":2,"creation_date":1552501131,"post_id":15680579,"comment_id":97037875,"body_markdown":"Your answer is good but it doesn&#39;t quite explain that you can enter a Blocked state anytime you try to acquire a lock.  It doesn&#39;t have to have anything to do with signal/notify.","body":"Your answer is good but it doesn&#39;t quite explain that you can enter a Blocked state anytime you try to acquire a lock.  It doesn&#39;t have to have anything to do with signal/notify."}],"tags":[],"owner":{"account_id":183072,"reputation":4982,"user_id":418235,"accept_rate":100,"display_name":"Ankit Bansal"},"comment_count":5,"down_vote_count":5,"up_vote_count":128,"is_accepted":true,"score":123,"last_activity_date":1552556815,"creation_date":1364470016,"answer_id":15680579,"question_id":15680422,"body_markdown":"A thread goes to wait state once it calls `wait()` on an Object. This is called **Waiting** State.  Once a thread reaches waiting state, it will need to wait till some other thread calls `notify()` or `notifyAll()` on the object.\r\n\r\nOnce this thread is notified, it will not be runnable. It might be that other threads are also notified (using `notifyAll()`) or the first thread has not finished his work, so it is still blocked till it gets its chance. This is called **Blocked** State. A Blocked state will occur whenever a thread tries to acquire lock on object and some other thread is already holding the lock. \r\n\r\nOnce other threads have left and its this thread chance, it moves to Runnable state after that it is eligible pick up work based on JVM threading mechanism and moves to run state.","title":"Difference between WAIT and BLOCKED thread states","body":"<p>A thread goes to wait state once it calls <code>wait()</code> on an Object. This is called <strong>Waiting</strong> State.  Once a thread reaches waiting state, it will need to wait till some other thread calls <code>notify()</code> or <code>notifyAll()</code> on the object.</p>\n\n<p>Once this thread is notified, it will not be runnable. It might be that other threads are also notified (using <code>notifyAll()</code>) or the first thread has not finished his work, so it is still blocked till it gets its chance. This is called <strong>Blocked</strong> State. A Blocked state will occur whenever a thread tries to acquire lock on object and some other thread is already holding the lock. </p>\n\n<p>Once other threads have left and its this thread chance, it moves to Runnable state after that it is eligible pick up work based on JVM threading mechanism and moves to run state.</p>\n"},{"tags":[],"owner":{"account_id":5101646,"reputation":226,"user_id":4091109,"display_name":"Prakash Bisht"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1454497462,"creation_date":1454496342,"answer_id":35174878,"question_id":15680422,"body_markdown":"Blocked- Your thread is in runnable state of thread life cycle and trying to obtain object lock.\r\nWait- Your thread is in waiting state of thread life cycle and waiting for notify signal to come in runnable state of thread.","title":"Difference between WAIT and BLOCKED thread states","body":"<p>Blocked- Your thread is in runnable state of thread life cycle and trying to obtain object lock.\nWait- Your thread is in waiting state of thread life cycle and waiting for notify signal to come in runnable state of thread.</p>\n"},{"comments":[{"owner":{"account_id":367746,"reputation":24129,"user_id":714112,"accept_rate":80,"display_name":"Sridhar Sarnobat"},"score":1,"creation_date":1519934875,"post_id":35681252,"comment_id":85120402,"body_markdown":"I like your explanation. That&#39;s exactly what I&#39;m trying to do in analyzing thread dumps right now :)","body":"I like your explanation. That&#39;s exactly what I&#39;m trying to do in analyzing thread dumps right now :)"},{"owner":{"account_id":1710481,"reputation":22873,"user_id":1568658,"accept_rate":82,"display_name":"Eric"},"score":0,"creation_date":1546768803,"post_id":35681252,"comment_id":94954298,"body_markdown":"@MuhammadGelbana Yeah, you are right, I have deleted the comment.","body":"@MuhammadGelbana Yeah, you are right, I have deleted the comment."},{"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"score":1,"creation_date":1552502111,"post_id":35681252,"comment_id":97038412,"body_markdown":"Your `RUNNABLE` is not quite right.  It could be in the Java run queue but not executing or it could be executing Java code.  It doesn&#39;t have to be calling out to native-land.","body":"Your <code>RUNNABLE</code> is not quite right.  It could be in the Java run queue but not executing or it could be executing Java code.  It doesn&#39;t have to be calling out to native-land."}],"tags":[],"owner":{"account_id":7937593,"reputation":299,"user_id":5992947,"display_name":"oldguy"},"comment_count":3,"down_vote_count":1,"up_vote_count":30,"is_accepted":false,"score":29,"last_activity_date":1681912527,"creation_date":1456654658,"answer_id":35681252,"question_id":15680422,"body_markdown":"Simplified perspective for interpreting thread dumps:&lt;br&gt;\r\n\r\n - **WAIT** - I&#39;m waiting to be given some work, so I&#39;m idle right now.&lt;br&gt;\r\n - **BLOCKED** - I&#39;m busy trying to get work done but another thread is standing in my way, so I&#39;m idle right now.&lt;br&gt;\r\n - **RUNNABLE**...(Native Method) - I called out to RUN some native code (which hasn&#39;t finished yet) so as far as the JVM is concerned, you&#39;re RUNNABLE and it can&#39;t give any further information.  \r\n\r\nA common example would be a **native socket listener** method coded in `C` which is actually waiting for any traffic to arrive, so I&#39;m idle right now. In that situation, this is can be seen as a special kind of `WAIT` as we&#39;re not actually `RUNNING` (no CPU burn) at all but you&#39;d have to use an OS thread dump rather than a Java thread dump to see it.\r\n","title":"Difference between WAIT and BLOCKED thread states","body":"<p>Simplified perspective for interpreting thread dumps:<br></p>\n<ul>\n<li><strong>WAIT</strong> - I'm waiting to be given some work, so I'm idle right now.<br></li>\n<li><strong>BLOCKED</strong> - I'm busy trying to get work done but another thread is standing in my way, so I'm idle right now.<br></li>\n<li><strong>RUNNABLE</strong>...(Native Method) - I called out to RUN some native code (which hasn't finished yet) so as far as the JVM is concerned, you're RUNNABLE and it can't give any further information.</li>\n</ul>\n<p>A common example would be a <strong>native socket listener</strong> method coded in <code>C</code> which is actually waiting for any traffic to arrive, so I'm idle right now. In that situation, this is can be seen as a special kind of <code>WAIT</code> as we're not actually <code>RUNNING</code> (no CPU burn) at all but you'd have to use an OS thread dump rather than a Java thread dump to see it.</p>\n"},{"comments":[{"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"score":1,"creation_date":1552502194,"post_id":43830698,"comment_id":97038467,"body_markdown":"Thanks for the code but I&#39;d rather you have a textual answer and then show a _small_ code block.","body":"Thanks for the code but I&#39;d rather you have a textual answer and then show a <i>small</i> code block."},{"owner":{"account_id":2123818,"reputation":969,"user_id":1886510,"display_name":"darw"},"score":0,"creation_date":1601723720,"post_id":43830698,"comment_id":113498067,"body_markdown":"it would be useful if the code was crystal clear to reason through","body":"it would be useful if the code was crystal clear to reason through"}],"tags":[],"owner":{"account_id":5689444,"reputation":38,"user_id":4497922,"display_name":"murali"},"comment_count":2,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1494154970,"creation_date":1494154970,"answer_id":43830698,"question_id":15680422,"body_markdown":"see this example:\r\n\r\n\r\ndemonstration of thread states.\r\n\r\n    /*NEW- thread object created, but not started.\r\n    RUNNABLE- thread is executing.\r\n    BLOCKED- waiting for monitor after calling wait() method.\r\n    WAITING- when wait() if called &amp; waiting for notify() to be called.\r\n      Also when join() is called.\r\n    TIMED_WAITING- when below methods are called:\r\n     Thread.sleep\r\n     Object.wait with timeout\r\n     Thread.join with timeout\r\n    TERMINATED- thread returned from run() method.*/\r\n    public class ThreadBlockingState{\r\n    \r\n    public static void main(String[] args) throws InterruptedException {\r\n    \tObject obj= new Object();\r\n    \tObject obj2 = new Object();\r\n    \tThread3 t3 = new Thread3(obj,obj2);\r\n    \tThread.sleep(1000);\r\n    \tSystem.out.println(&quot;nm:&quot;+t3.getName()+&quot;,state:&quot;+t3.getState().toString()+\r\n    \t\t\t&quot;,when Wait() is called &amp; waiting for notify() to be called.&quot;);\r\n    \tThread4 t4 = new Thread4(obj,obj2);\r\n    \tThread.sleep(3000);\r\n    \tSystem.out.println(&quot;nm:&quot;+t3.getName()+&quot;,state:&quot;+t3.getState().toString()+&quot;,After calling Wait() &amp; waiting for monitor of obj2.&quot;);\r\n    \tSystem.out.println(&quot;nm:&quot;+t4.getName()+&quot;,state:&quot;+t4.getState().toString()+&quot;,when sleep() is called.&quot;);\r\n    }\r\n    \r\n    }\r\n    class Thread3 extends Thread{\r\n    Object obj,obj2;\r\n    int cnt;\r\n    Thread3(Object obj,Object obj2){\r\n    \tthis.obj = obj;\r\n    \tthis.obj2 = obj2;\r\n    \tthis.start();\r\n    }\r\n    \r\n    @Override\r\n    public void run() {\r\n    \tsuper.run();\r\n    \tsynchronized (obj) {\r\n    \t\ttry {\r\n    \t\t\tSystem.out.println(&quot;nm:&quot;+this.getName()+&quot;,state:&quot;+this.getState().toString()+&quot;,Before Wait().&quot;);\r\n    \t\t\tobj.wait();\t\t\t\t\r\n    \t\t\tSystem.out.println(&quot;nm:&quot;+this.getName()+&quot;,state:&quot;+this.getState().toString()+&quot;,After Wait().&quot;);\r\n    \t\t\tsynchronized (obj2) {\r\n    \t\t\t\tcnt++;\r\n    \t\t\t}\r\n    \t\t} catch (InterruptedException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    }\r\n    }\r\n    class Thread4 extends Thread{\r\n    Object obj,obj2;\r\n    Thread4(Object obj,Object obj2){\r\n    \tthis.obj = obj;\r\n    \tthis.obj2 = obj2;\r\n    \tthis.start();\r\n    }\r\n    \r\n    @Override\r\n    public void run() {\r\n    \tsuper.run();\r\n    \tsynchronized (obj) {\r\n    \t\tSystem.out.println(&quot;nm:&quot;+this.getName()+&quot;,state:&quot;+this.getState().toString()+&quot;,Before notify().&quot;);\r\n    \t\tobj.notify();\r\n    \t\tSystem.out.println(&quot;nm:&quot;+this.getName()+&quot;,state:&quot;+this.getState().toString()+&quot;,After notify().&quot;);\r\n    \t}\r\n    \tsynchronized (obj2) {\r\n    \t\ttry {\r\n    \t\t\tThread.sleep(15000);\r\n    \t\t} catch (InterruptedException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    }\r\n    }\r\n","title":"Difference between WAIT and BLOCKED thread states","body":"<p>see this example:</p>\n\n<p>demonstration of thread states.</p>\n\n<pre><code>/*NEW- thread object created, but not started.\nRUNNABLE- thread is executing.\nBLOCKED- waiting for monitor after calling wait() method.\nWAITING- when wait() if called &amp; waiting for notify() to be called.\n  Also when join() is called.\nTIMED_WAITING- when below methods are called:\n Thread.sleep\n Object.wait with timeout\n Thread.join with timeout\nTERMINATED- thread returned from run() method.*/\npublic class ThreadBlockingState{\n\npublic static void main(String[] args) throws InterruptedException {\n    Object obj= new Object();\n    Object obj2 = new Object();\n    Thread3 t3 = new Thread3(obj,obj2);\n    Thread.sleep(1000);\n    System.out.println(\"nm:\"+t3.getName()+\",state:\"+t3.getState().toString()+\n            \",when Wait() is called &amp; waiting for notify() to be called.\");\n    Thread4 t4 = new Thread4(obj,obj2);\n    Thread.sleep(3000);\n    System.out.println(\"nm:\"+t3.getName()+\",state:\"+t3.getState().toString()+\",After calling Wait() &amp; waiting for monitor of obj2.\");\n    System.out.println(\"nm:\"+t4.getName()+\",state:\"+t4.getState().toString()+\",when sleep() is called.\");\n}\n\n}\nclass Thread3 extends Thread{\nObject obj,obj2;\nint cnt;\nThread3(Object obj,Object obj2){\n    this.obj = obj;\n    this.obj2 = obj2;\n    this.start();\n}\n\n@Override\npublic void run() {\n    super.run();\n    synchronized (obj) {\n        try {\n            System.out.println(\"nm:\"+this.getName()+\",state:\"+this.getState().toString()+\",Before Wait().\");\n            obj.wait();             \n            System.out.println(\"nm:\"+this.getName()+\",state:\"+this.getState().toString()+\",After Wait().\");\n            synchronized (obj2) {\n                cnt++;\n            }\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n    }\n}\n}\nclass Thread4 extends Thread{\nObject obj,obj2;\nThread4(Object obj,Object obj2){\n    this.obj = obj;\n    this.obj2 = obj2;\n    this.start();\n}\n\n@Override\npublic void run() {\n    super.run();\n    synchronized (obj) {\n        System.out.println(\"nm:\"+this.getName()+\",state:\"+this.getState().toString()+\",Before notify().\");\n        obj.notify();\n        System.out.println(\"nm:\"+this.getName()+\",state:\"+this.getState().toString()+\",After notify().\");\n    }\n    synchronized (obj2) {\n        try {\n            Thread.sleep(15000);\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n    }\n}\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1275298,"reputation":3439,"user_id":1230694,"accept_rate":80,"display_name":"berimbolo"},"score":0,"creation_date":1499551560,"post_id":43831408,"comment_id":76957296,"body_markdown":"Is that because it is some other threads responsibility to call notify() on the monitor object?","body":"Is that because it is some other threads responsibility to call notify() on the monitor object?"},{"owner":{"account_id":75804,"reputation":94840,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"score":1,"creation_date":1499605389,"post_id":43831408,"comment_id":76967345,"body_markdown":"@berimbolo: I don&#39;t understand what you&#39;re asking","body":"@berimbolo: I don&#39;t understand what you&#39;re asking"},{"owner":{"account_id":1275298,"reputation":3439,"user_id":1230694,"accept_rate":80,"display_name":"berimbolo"},"score":0,"creation_date":1499621115,"post_id":43831408,"comment_id":76972110,"body_markdown":"It was in regard to why a waiting thread is not something the scheduler need worry about. I wondered if that was because another thread will be responsible for calling notify if it&#39;s waiting.","body":"It was in regard to why a waiting thread is not something the scheduler need worry about. I wondered if that was because another thread will be responsible for calling notify if it&#39;s waiting."},{"owner":{"account_id":75804,"reputation":94840,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"score":0,"creation_date":1499622754,"post_id":43831408,"comment_id":76972630,"body_markdown":"@berimbolo: the waiting Thread eventually gets woken by a notify. The scheduler would decide which waiting thread gets notified.","body":"@berimbolo: the waiting Thread eventually gets woken by a notify. The scheduler would decide which waiting thread gets notified."},{"owner":{"account_id":1523998,"reputation":800,"user_id":1422870,"display_name":"Frank Zhang"},"score":0,"creation_date":1526553551,"post_id":43831408,"comment_id":87794177,"body_markdown":"counts something, you are saying spin-lock, BLOCKED dose not mean it is spin-lock","body":"counts something, you are saying spin-lock, BLOCKED dose not mean it is spin-lock"},{"owner":{"account_id":75804,"reputation":94840,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"score":0,"creation_date":1526555044,"post_id":43831408,"comment_id":87795129,"body_markdown":"@Frank: I didn&#39;t use that term. I don&#39;t know what point you&#39;re trying to make here.","body":"@Frank: I didn&#39;t use that term. I don&#39;t know what point you&#39;re trying to make here."},{"owner":{"account_id":3408167,"reputation":690,"user_id":2859238,"accept_rate":32,"display_name":"user104309"},"score":2,"creation_date":1531159294,"post_id":43831408,"comment_id":89481918,"body_markdown":"`notify` is the one to be used if this behavior should be avoided. But just for the information of some who thinks `notify` is the better one always. `notifyAll` is the one to be used if your application should progress without a deadlock-like situation (if your application has the possibility to be in this situation and if it happens your application will not work as you intended) due to &quot;missed signal&quot; ( here, the intended thread misses the signal because the signal reached some other thread which is not the intended one ) See https://stackoverflow.com/a/3186336/2859238","body":"<code>notify</code> is the one to be used if this behavior should be avoided. But just for the information of some who thinks <code>notify</code> is the better one always. <code>notifyAll</code> is the one to be used if your application should progress without a deadlock-like situation (if your application has the possibility to be in this situation and if it happens your application will not work as you intended) due to &quot;missed signal&quot; ( here, the intended thread misses the signal because the signal reached some other thread which is not the intended one ) See <a href=\"https://stackoverflow.com/a/3186336/2859238\">stackoverflow.com/a/3186336/2859238</a>"},{"owner":{"account_id":75804,"reputation":94840,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"score":0,"creation_date":1531160418,"post_id":43831408,"comment_id":89482422,"body_markdown":"@user104309: ok, tried to add something to cover this. seems better to use ReentrantLock with multiple Conditions for this case.","body":"@user104309: ok, tried to add something to cover this. seems better to use ReentrantLock with multiple Conditions for this case."},{"owner":{"account_id":9160569,"reputation":61,"user_id":6812019,"display_name":"Jayesslee"},"score":0,"creation_date":1681743875,"post_id":43831408,"comment_id":134102165,"body_markdown":"How to decide the priority of these blocked threads?","body":"How to decide the priority of these blocked threads?"}],"tags":[],"owner":{"account_id":75804,"reputation":94840,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"comment_count":9,"down_vote_count":1,"up_vote_count":45,"is_accepted":false,"score":44,"last_activity_date":1572883435,"creation_date":1494159706,"answer_id":43831408,"question_id":15680422,"body_markdown":"The important difference between the blocked and wait states is the impact on the scheduler. A thread in a blocked state is contending for a lock; that thread still counts as something the scheduler needs to service, possibly getting factored into the scheduler&#39;s decisions about how much time to give running threads (so that it can give the threads blocking on the lock a chance).\r\n\r\nOnce a thread is in the wait state the stress it puts on the system is minimized, and the scheduler doesn&#39;t have to worry about it. It goes dormant until it receives a notification. Except for the fact that it keeps an OS thread occupied it is entirely out of play.\r\n\r\nThis is why using notifyAll is less than ideal, it causes a bunch of threads that were previously happily dormant putting no load on the system to get woken up, where most of them will block until they can acquire the lock, find the condition they are waiting for is not true, and go back to waiting. It would be preferable to notify only those threads that have a chance of making progress. \r\n\r\n(Using ReentrantLock instead of intrinsic locks allows you to have multiple conditions for one lock, so that you can make sure the notified thread is one that&#39;s waiting on a particular condition, avoiding the lost-notification bug in the case of a thread getting notified for something it can&#39;t act on.)","title":"Difference between WAIT and BLOCKED thread states","body":"<p>The important difference between the blocked and wait states is the impact on the scheduler. A thread in a blocked state is contending for a lock; that thread still counts as something the scheduler needs to service, possibly getting factored into the scheduler's decisions about how much time to give running threads (so that it can give the threads blocking on the lock a chance).</p>\n\n<p>Once a thread is in the wait state the stress it puts on the system is minimized, and the scheduler doesn't have to worry about it. It goes dormant until it receives a notification. Except for the fact that it keeps an OS thread occupied it is entirely out of play.</p>\n\n<p>This is why using notifyAll is less than ideal, it causes a bunch of threads that were previously happily dormant putting no load on the system to get woken up, where most of them will block until they can acquire the lock, find the condition they are waiting for is not true, and go back to waiting. It would be preferable to notify only those threads that have a chance of making progress. </p>\n\n<p>(Using ReentrantLock instead of intrinsic locks allows you to have multiple conditions for one lock, so that you can make sure the notified thread is one that's waiting on a particular condition, avoiding the lost-notification bug in the case of a thread getting notified for something it can't act on.)</p>\n"}],"owner":{"account_id":1127972,"reputation":10009,"user_id":1114773,"accept_rate":46,"display_name":"More Than Five"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":103647,"favorite_count":0,"down_vote_count":1,"up_vote_count":144,"accepted_answer_id":15680579,"answer_count":6,"score":143,"last_activity_date":1693159765,"creation_date":1364469525,"question_id":15680422,"body_markdown":"What is the difference between thread state WAIT and thread state BLOCKED?\r\n\r\nThe [Thread.State documentation][1]:\r\n\r\n&gt; **Blocked**  \r\n&gt; A thread that is blocked waiting for a monitor lock is in this state.\r\n&gt;\r\n&gt; **Waiting**  \r\n&gt; A thread that is waiting indefinitely for another thread to perform a particular action is in this state\r\n\r\n\r\ndoes not explain the difference to me.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/Thread.State.html","title":"Difference between WAIT and BLOCKED thread states","body":"<p>What is the difference between thread state WAIT and thread state BLOCKED?</p>\n<p>The <a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/Thread.State.html\" rel=\"noreferrer\">Thread.State documentation</a>:</p>\n<blockquote>\n<p><strong>Blocked</strong><br />\nA thread that is blocked waiting for a monitor lock is in this state.</p>\n<p><strong>Waiting</strong><br />\nA thread that is waiting indefinitely for another thread to perform a particular action is in this state</p>\n</blockquote>\n<p>does not explain the difference to me.</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"score":0,"creation_date":1692951950,"post_id":76975403,"comment_id":135697404,"body_markdown":"From your description, you have the correct configuration in pom. Maybe it&#39;s an IDE issues (I had this similar issue with IntelliJ many times). I suggest using a terminal, go to your project B and use `mvn compile` to check that your configuration is correct. Terminal shouldn&#39;t fail. And if it does, then there&#39;s something else you&#39;re missing.","body":"From your description, you have the correct configuration in pom. Maybe it&#39;s an IDE issues (I had this similar issue with IntelliJ many times). I suggest using a terminal, go to your project B and use <code>mvn compile</code> to check that your configuration is correct. Terminal shouldn&#39;t fail. And if it does, then there&#39;s something else you&#39;re missing."},{"owner":{"account_id":29221183,"reputation":9,"user_id":22386893,"display_name":"AppleBees"},"score":0,"creation_date":1692957090,"post_id":76975403,"comment_id":135698417,"body_markdown":"On terminal, it does not compile as well with the error `package com.demo.practice does not exist`.I am importing `DemoClass` as `import com.demo.practice.DemoClass` and using it as `DemoClass classItem = new DemoClass();`","body":"On terminal, it does not compile as well with the error <code>package com.demo.practice does not exist</code>.I am importing <code>DemoClass</code> as <code>import com.demo.practice.DemoClass</code> and using it as <code>DemoClass classItem = new DemoClass();</code>"},{"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"score":0,"creation_date":1692960845,"post_id":76975403,"comment_id":135699172,"body_markdown":"Go to project A using the terminal and run  `mvn clean install`. Make sure it works without issues. If there&#39;s any issue, it won&#39;t be installed and you won&#39;t be able to reference it in other projects.","body":"Go to project A using the terminal and run  <code>mvn clean install</code>. Make sure it works without issues. If there&#39;s any issue, it won&#39;t be installed and you won&#39;t be able to reference it in other projects."}],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1693159424,"post_id":76977639,"comment_id":135720238,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76977639/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":27594883,"reputation":120,"user_id":21061328,"display_name":"java_coder"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693159690,"creation_date":1692969862,"answer_id":76977639,"question_id":76975403,"body_markdown":"Try\r\n1. Right click Project B -&gt; Maven -&gt; Update\r\n2. Run mvn install on project B - This will build your ","title":"Importing Spring Project into another Spring Project","body":"<p>Try</p>\n<ol>\n<li>Right click Project B -&gt; Maven -&gt; Update</li>\n<li>Run mvn install on project B - This will build your</li>\n</ol>\n"},{"tags":[],"owner":{"display_name":"user22423960"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692972643,"creation_date":1692972643,"answer_id":76977998,"question_id":76975403,"body_markdown":"Something you can do to narrow down what&#39;s causing the issue is check your local Maven repo (&#39;{PATH}/.m2/repository/com/demo/practice&#39;) and see if the jar for project A is there after running &#39;mvn install&#39;","title":"Importing Spring Project into another Spring Project","body":"<p>Something you can do to narrow down what's causing the issue is check your local Maven repo ('{PATH}/.m2/repository/com/demo/practice') and see if the jar for project A is there after running 'mvn install'</p>\n"}],"owner":{"account_id":29221183,"reputation":9,"user_id":22386893,"display_name":"AppleBees"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1693159690,"creation_date":1692950788,"question_id":76975403,"body_markdown":"I am trying to import a Spring project (project A) into another project (project B) and use the public classes defined in project A. \r\n\r\nFor a simplified example, I created a public class `DemoClass` in project A:\r\n\r\n```\r\npackage com.demo.practice\r\n\r\npublic class DemoClass {\r\n    public String name;\r\n    public DemoClass(String name) {\r\n        this.name = name;\r\n    }\r\n}\r\n```\r\n\r\nAnd I am trying to use it in project B as follows:\r\n\r\n```\r\n@SpringBootApplication\r\npublic class ConsumerApplication {\r\n\r\n        DemoClass classItem = new DemoClass();\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(ConsumerApplication.class, args);\r\n\t}\r\n\r\n}\r\n```\r\n\r\nHere are the steps I performed:\r\n\r\n1. Run `mvn install` in project A\r\n\r\n2. Add a dependency in project B&#39;s pom.xml\r\n\r\n3. Reload maven project in project B, using the refresh icon on Maven&#39;s GUI in Intellij\r\n\r\n4. When I try to use it in project B, IntelliJ says `cannot resolve symbol DemoClass` and I am unable to import it as well.\r\n\r\n**Project A&#39;s codebase**\r\n\r\n`DemoApplication.java`\r\n\r\n```\r\npackage com.demo.practice;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n@SpringBootApplication\r\npublic class DemoApplication {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(DemoApplication.class, args);\r\n    }\r\n\r\n}\r\n```\r\n\r\n`DemoClass.java`\r\n\r\n```\r\npackage com.demo.practice;\r\n\r\npublic class DemoClass {\r\n    public String name;\r\n    public DemoClass(String name) {\r\n        this.name = name;\r\n    }\r\n}\r\n```\r\n\r\n`pom.xml`\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.1.2&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.demo&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;practice&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1&lt;/version&gt;\r\n\t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n\t&lt;name&gt;demo&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;repackage&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t&lt;classifier&gt;exec&lt;/classifier&gt;\r\n\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-source-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.2.0&lt;/version&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;attach-sources&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;verify&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;jar-no-fork&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nIn Project B, I imported it as follows:\r\n\r\n```\r\n&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.demo&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;practice&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.0.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nWhat am I doing wrong here? \r\n\r\nPlease advise, thank you.","title":"Importing Spring Project into another Spring Project","body":"<p>I am trying to import a Spring project (project A) into another project (project B) and use the public classes defined in project A.</p>\n<p>For a simplified example, I created a public class <code>DemoClass</code> in project A:</p>\n<pre><code>package com.demo.practice\n\npublic class DemoClass {\n    public String name;\n    public DemoClass(String name) {\n        this.name = name;\n    }\n}\n</code></pre>\n<p>And I am trying to use it in project B as follows:</p>\n<pre><code>@SpringBootApplication\npublic class ConsumerApplication {\n\n        DemoClass classItem = new DemoClass();\n\n    public static void main(String[] args) {\n        SpringApplication.run(ConsumerApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>Here are the steps I performed:</p>\n<ol>\n<li><p>Run <code>mvn install</code> in project A</p>\n</li>\n<li><p>Add a dependency in project B's pom.xml</p>\n</li>\n<li><p>Reload maven project in project B, using the refresh icon on Maven's GUI in Intellij</p>\n</li>\n<li><p>When I try to use it in project B, IntelliJ says <code>cannot resolve symbol DemoClass</code> and I am unable to import it as well.</p>\n</li>\n</ol>\n<p><strong>Project A's codebase</strong></p>\n<p><code>DemoApplication.java</code></p>\n<pre><code>package com.demo.practice;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class DemoApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(DemoApplication.class, args);\n    }\n\n}\n</code></pre>\n<p><code>DemoClass.java</code></p>\n<pre><code>package com.demo.practice;\n\npublic class DemoClass {\n    public String name;\n    public DemoClass(String name) {\n        this.name = name;\n    }\n}\n</code></pre>\n<p><code>pom.xml</code></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.2&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.demo&lt;/groupId&gt;\n    &lt;artifactId&gt;practice&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    &lt;name&gt;demo&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;repackage&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;classifier&gt;exec&lt;/classifier&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-source-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.2.0&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;attach-sources&lt;/id&gt;\n                        &lt;phase&gt;verify&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;jar-no-fork&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>In Project B, I imported it as follows:</p>\n<pre><code>&lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.demo&lt;/groupId&gt;\n            &lt;artifactId&gt;practice&lt;/artifactId&gt;\n            &lt;version&gt;0.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>What am I doing wrong here?</p>\n<p>Please advise, thank you.</p>\n"},{"tags":["java","spring-boot","spring-data-jpa","thymeleaf"],"comments":[{"owner":{"account_id":9365949,"reputation":2414,"user_id":6950859,"accept_rate":92,"display_name":"cela"},"score":0,"creation_date":1693159008,"post_id":76988220,"comment_id":135720178,"body_markdown":"Your `UserEntityController` has a base path on it called `/user`. Therefore, you should be accessing `localhost:8080/user/createNewuser`.","body":"Your <code>UserEntityController</code> has a base path on it called <code>&#47;user</code>. Therefore, you should be accessing <code>localhost:8080&#47;user&#47;createNewuser</code>."}],"answers":[{"tags":[],"owner":{"account_id":27594883,"reputation":120,"user_id":21061328,"display_name":"java_coder"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1693158969,"creation_date":1693158522,"answer_id":76988306,"question_id":76988220,"body_markdown":"The URL you are using does not match the UserEntityController class.\r\n\r\nYou are accessing localhost:8080/createNewuser in the browser, which is incorrect.\r\n\r\nSee your Controller class. At the class level, you have Request Mapping as **/user**.\r\n\r\n````java\r\n@Controller\r\n@RequestMapping(&quot;/user&quot;)\r\npublic class UserEntityController {\r\n````\r\n\r\nand then, the method for create user has &quot;createNewuser&quot; mapped with it.\r\n\r\n```java\r\n@PostMapping(&quot;/createNewuser&quot;)\r\n// please correct your method name\r\npublic String createUawe(@ModelAttribute(&quot;user&quot;) UserEntity user,\r\n                             BindingResult bindResult,Model model){\r\n```\r\n\r\n\r\nYour path should be:\r\n\r\n&gt; localhost:8080/user/createNewuser","title":"page redirection and data not store in database proprely in springboot","body":"<p>The URL you are using does not match the UserEntityController class.</p>\n<p>You are accessing localhost:8080/createNewuser in the browser, which is incorrect.</p>\n<p>See your Controller class. At the class level, you have Request Mapping as <strong>/user</strong>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Controller\n@RequestMapping(&quot;/user&quot;)\npublic class UserEntityController {\n</code></pre>\n<p>and then, the method for create user has &quot;createNewuser&quot; mapped with it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@PostMapping(&quot;/createNewuser&quot;)\n// please correct your method name\npublic String createUawe(@ModelAttribute(&quot;user&quot;) UserEntity user,\n                             BindingResult bindResult,Model model){\n</code></pre>\n<p>Your path should be:</p>\n<blockquote>\n<p>localhost:8080/user/createNewuser</p>\n</blockquote>\n"}],"owner":{"account_id":19101252,"reputation":55,"user_id":13949498,"display_name":"nilnil"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1693158969,"creation_date":1693157172,"question_id":76988220,"body_markdown":"&gt; I am using thymeleaf as frontend technology and springboot as backend.\r\n&gt; I am try to register new user through a registration page but when I\r\n&gt; am  insert data ,data not store in database ,when user data submit and\r\n&gt; press submit button it is not redirect to successPage. it gives me\r\n&gt; this type of error page.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/LPCBS.jpg\r\n\r\n&gt; userRegistration.html\r\n\r\n    &lt;form th:action=&quot;@{/createNewuser}&quot; th:object=&quot;${user}&quot; method=&quot;post&quot;&gt;\r\n              &lt;div class=&quot;form-group&quot;&gt;\r\n                &lt;label&gt;NAME&lt;/label&gt; &lt;input type=&quot;text&quot; name=&quot;name&quot;\r\n                                           th:field=&quot;*{name}&quot; class=&quot;form-control&quot; placeholder=&quot;Enter name&quot; /&gt;\r\n              &lt;/div&gt;\r\n              &lt;div class=&quot;box-footer&quot;&gt;\r\n                &lt;button type=&quot;submit&quot; class=&quot;btn btn-primary&quot;&gt;SUBMIT&lt;/button&gt;\r\n              &lt;/div&gt;\r\n            &lt;/form&gt;\r\n\r\n&gt; UserEntityController.java\r\n\r\n     @Controller\r\n    @RequestMapping(&quot;/user&quot;)\r\n    public class UserEntityController {\r\n        @Autowired\r\n        private UserEntityServiceImpl userServiceImpl;\r\n    \r\n        }\r\n        @GetMapping(&quot;/newUser&quot;)\r\n        public String saveUser(Model model) {\r\n            UserEntity user = new UserEntity();\r\n            //model.addAllAttributes(&quot;user&quot;,user);\r\n            model.addAttribute(&quot;user&quot;,user);\r\n            return &quot;userRegistration&quot;;\r\n        }\r\n        @GetMapping(&quot;/successPage&quot;)\r\n        public String successPage() {\r\n            return &quot;successPage&quot;; \r\n        }\r\n    \r\n        @PostMapping(&quot;/createNewuser&quot;)\r\n        public String createUawe(@ModelAttribute(&quot;user&quot;) UserEntity user,\r\n                                 BindingResult bindResult,Model model){\r\n    \r\n            if (bindResult.hasErrors()){\r\n                return &quot;userRegistration&quot;;\r\n            }\r\n            if (userServiceImpl.isEmailAlreadyRegistered(user.getEmail())) {\r\n                bindResult.rejectValue(&quot;email&quot;, &quot;error.user&quot;, &quot;Email is already registered.&quot;);\r\n                return &quot;userRegistration&quot;;\r\n            }\r\n    \r\n            if (userServiceImpl.isMobileNoAlreadyRegistered(user.getMobileNo())) {\r\n                bindResult.rejectValue(&quot;mobileNo&quot;, &quot;error.user&quot;, &quot;Mobile number is already registered.&quot;);\r\n                return &quot;userRegistration&quot;;\r\n            }\r\n             user=userServiceImpl.saveUser(user);\r\n             model.addAttribute(&quot;name&quot;,user.getName());\r\n            return &quot;redirect:/successPage&quot;;\r\n        }\r\n    \r\n    \r\n    \r\n    }","title":"page redirection and data not store in database proprely in springboot","body":"<blockquote>\n<p>I am using thymeleaf as frontend technology and springboot as backend.\nI am try to register new user through a registration page but when I\nam  insert data ,data not store in database ,when user data submit and\npress submit button it is not redirect to successPage. it gives me\nthis type of error page.\n<a href=\"https://i.stack.imgur.com/LPCBS.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LPCBS.jpg\" alt=\"enter image description here\" /></a></p>\n</blockquote>\n<blockquote>\n<p>userRegistration.html</p>\n</blockquote>\n<pre><code>&lt;form th:action=&quot;@{/createNewuser}&quot; th:object=&quot;${user}&quot; method=&quot;post&quot;&gt;\n          &lt;div class=&quot;form-group&quot;&gt;\n            &lt;label&gt;NAME&lt;/label&gt; &lt;input type=&quot;text&quot; name=&quot;name&quot;\n                                       th:field=&quot;*{name}&quot; class=&quot;form-control&quot; placeholder=&quot;Enter name&quot; /&gt;\n          &lt;/div&gt;\n          &lt;div class=&quot;box-footer&quot;&gt;\n            &lt;button type=&quot;submit&quot; class=&quot;btn btn-primary&quot;&gt;SUBMIT&lt;/button&gt;\n          &lt;/div&gt;\n        &lt;/form&gt;\n</code></pre>\n<blockquote>\n<p>UserEntityController.java</p>\n</blockquote>\n<pre><code> @Controller\n@RequestMapping(&quot;/user&quot;)\npublic class UserEntityController {\n    @Autowired\n    private UserEntityServiceImpl userServiceImpl;\n\n    }\n    @GetMapping(&quot;/newUser&quot;)\n    public String saveUser(Model model) {\n        UserEntity user = new UserEntity();\n        //model.addAllAttributes(&quot;user&quot;,user);\n        model.addAttribute(&quot;user&quot;,user);\n        return &quot;userRegistration&quot;;\n    }\n    @GetMapping(&quot;/successPage&quot;)\n    public String successPage() {\n        return &quot;successPage&quot;; \n    }\n\n    @PostMapping(&quot;/createNewuser&quot;)\n    public String createUawe(@ModelAttribute(&quot;user&quot;) UserEntity user,\n                             BindingResult bindResult,Model model){\n\n        if (bindResult.hasErrors()){\n            return &quot;userRegistration&quot;;\n        }\n        if (userServiceImpl.isEmailAlreadyRegistered(user.getEmail())) {\n            bindResult.rejectValue(&quot;email&quot;, &quot;error.user&quot;, &quot;Email is already registered.&quot;);\n            return &quot;userRegistration&quot;;\n        }\n\n        if (userServiceImpl.isMobileNoAlreadyRegistered(user.getMobileNo())) {\n            bindResult.rejectValue(&quot;mobileNo&quot;, &quot;error.user&quot;, &quot;Mobile number is already registered.&quot;);\n            return &quot;userRegistration&quot;;\n        }\n         user=userServiceImpl.saveUser(user);\n         model.addAttribute(&quot;name&quot;,user.getName());\n        return &quot;redirect:/successPage&quot;;\n    }\n\n\n\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"comments":[{"owner":{"account_id":19198927,"reputation":304,"user_id":14027230,"display_name":"meridbt"},"score":2,"creation_date":1677559706,"post_id":75587512,"comment_id":133357344,"body_markdown":"Please carefully read this https://www.jpa-buddy.com/blog/lombok-and-jpa-what-may-go-wrong/","body":"Please carefully read this <a href=\"https://www.jpa-buddy.com/blog/lombok-and-jpa-what-may-go-wrong/\" rel=\"nofollow noreferrer\">jpa-buddy.com/blog/lombok-and-jpa-what-may-go-wrong</a>"},{"owner":{"account_id":25845523,"reputation":45,"user_id":19580434,"display_name":"HelloTy"},"score":0,"creation_date":1677601783,"post_id":75587512,"comment_id":133368623,"body_markdown":"Thanks, I added the getter and setter methods, and it worked. Also read the Article for @Data, I appreciate the wisdom!","body":"Thanks, I added the getter and setter methods, and it worked. Also read the Article for @Data, I appreciate the wisdom!"},{"owner":{"account_id":19407482,"reputation":254,"user_id":14192630,"display_name":"Tafita Raza"},"score":0,"creation_date":1698790933,"post_id":75587512,"comment_id":136449791,"body_markdown":"I did but it doesn&#39;t work .. anyway, if I create getter and setter manually, it works.","body":"I did but it doesn&#39;t work .. anyway, if I create getter and setter manually, it works."}],"tags":[],"owner":{"account_id":25866694,"reputation":191,"user_id":19598245,"display_name":"Phil Ku"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1677553904,"creation_date":1677553594,"answer_id":75587512,"question_id":75587423,"body_markdown":"I tried to replicate your issue, as you are using lombok, I suggest you try using `@Data` in your `Articles` entity:\r\n\r\n    @Entity\r\n    @Data\r\n    @Table(name = &quot;game_articles&quot;)\r\n    public class Articles {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        private Long id;\r\n    \r\n        @Column(name = &quot;title&quot;)\r\n        private String title;\r\n    \r\n        @Column(name = &quot;reviewer&quot;)\r\n        private String reviewer;\r\n    \r\n        @Column(name = &quot;review&quot;)\r\n        private String review;\r\n    \r\n        @Column(name = &quot;path&quot;)\r\n        private String path;\r\n    \r\n        @Column(columnDefinition = &quot;integer default 0&quot;)\r\n        private int comments;\r\n    \r\n    }\r\n\r\nIt will generate all **`@Getter` and `@Setter`** methods for the entity, which you need for the entity when querying data from your repository, as well as `@RequiredArgsConstructor`, `@ToString` and `@EqualsAndHashCode`\r\n\r\nHope it can help you a bit.","title":"GET Request Returning Empty Object in SpringBoot","body":"<p>I tried to replicate your issue, as you are using lombok, I suggest you try using <code>@Data</code> in your <code>Articles</code> entity:</p>\n<pre><code>@Entity\n@Data\n@Table(name = &quot;game_articles&quot;)\npublic class Articles {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n\n    @Column(name = &quot;title&quot;)\n    private String title;\n\n    @Column(name = &quot;reviewer&quot;)\n    private String reviewer;\n\n    @Column(name = &quot;review&quot;)\n    private String review;\n\n    @Column(name = &quot;path&quot;)\n    private String path;\n\n    @Column(columnDefinition = &quot;integer default 0&quot;)\n    private int comments;\n\n}\n</code></pre>\n<p>It will generate all <strong><code>@Getter</code> and <code>@Setter</code></strong> methods for the entity, which you need for the entity when querying data from your repository, as well as <code>@RequiredArgsConstructor</code>, <code>@ToString</code> and <code>@EqualsAndHashCode</code></p>\n<p>Hope it can help you a bit.</p>\n"},{"tags":[],"owner":{"account_id":27896125,"reputation":138,"user_id":21301377,"display_name":"Anonymus"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677554887,"creation_date":1677554864,"answer_id":75587606,"question_id":75587423,"body_markdown":"I added **@Getter** and **@Setter** in **Articles** entity, after it is working good. ","title":"GET Request Returning Empty Object in SpringBoot","body":"<p>I added <strong>@Getter</strong> and <strong>@Setter</strong> in <strong>Articles</strong> entity, after it is working good.</p>\n"},{"tags":[],"owner":{"account_id":19198927,"reputation":304,"user_id":14027230,"display_name":"meridbt"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677559605,"creation_date":1677559605,"answer_id":75587965,"question_id":75587423,"body_markdown":"Just put in the body of your GET method the line\r\n\r\n```java\r\nreturn ResponseEntity.ok(articlesRepository.findAll());\r\n```","title":"GET Request Returning Empty Object in SpringBoot","body":"<p>Just put in the body of your GET method the line</p>\n<pre class=\"lang-java prettyprint-override\"><code>return ResponseEntity.ok(articlesRepository.findAll());\n</code></pre>\n"},{"comments":[{"owner":{"account_id":19407482,"reputation":254,"user_id":14192630,"display_name":"Tafita Raza"},"score":0,"creation_date":1698791018,"post_id":76988330,"comment_id":136449803,"body_markdown":"I put this up &#39;cause you&#39;re not wrong ... but I think we need to explain why it works for another people and not for us.","body":"I put this up &#39;cause you&#39;re not wrong ... but I think we need to explain why it works for another people and not for us."}],"tags":[],"owner":{"account_id":29309804,"reputation":11,"user_id":22455901,"display_name":"Devinder Singh"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1693158951,"creation_date":1693158941,"answer_id":76988330,"question_id":75587423,"body_markdown":"Lombok is not working i think.\r\n\r\nRemove the lombok annotations and add all the things manually (getters, setters, all argument constructor and no argument constructor).","title":"GET Request Returning Empty Object in SpringBoot","body":"<p>Lombok is not working i think.</p>\n<p>Remove the lombok annotations and add all the things manually (getters, setters, all argument constructor and no argument constructor).</p>\n"}],"owner":{"account_id":25845523,"reputation":45,"user_id":19580434,"display_name":"HelloTy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":615,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75587512,"answer_count":4,"score":0,"last_activity_date":1693158951,"creation_date":1677552404,"question_id":75587423,"body_markdown":"I&#39;ve created a SpringBoot application that interacts with a react frontend UI. I wanted to ensure that data was getting passed in correctly through the API so I tried a GET Request in Postman. The response is returning an empty object instead of the data from the database, which I want. I can POST with no problem and compile with no errors. All files are in the same package. I have two rows in the table that correspond with the two open brackets, I&#39;m just getting no data. \r\n\r\n**Entity Class**\r\n\r\n```\r\n@ToString\r\n@EqualsAndHashCode\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Entity\r\n@Table(name = &quot;game_articles&quot;)\r\npublic class Articles {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Long id;\r\n\r\n    @Column(name = &quot;title&quot;)\r\n    private String title;\r\n\r\n    @Column(name = &quot;reviewer&quot;)\r\n    private String reviewer;\r\n\r\n    @Column(name = &quot;review&quot;)\r\n    private String review;\r\n\r\n    @Column(name = &quot;path&quot;)\r\n    private String path;\r\n\r\n    @Column(columnDefinition = &quot;integer default 0&quot;)\r\n    private int comments;\r\n\r\n    public Articles(String title, String reviewer, String review, String path, int comments){\r\n        this.title = title;\r\n        this.reviewer = reviewer;\r\n        this.review = review;\r\n        this.path = path;\r\n        this.comments = comments;\r\n    }\r\n\r\n}\r\n```\r\n**Controller**: Commented method was my first attempt. \r\n```\r\n@CrossOrigin(origins = &quot;http://localhost:3000&quot;)\r\n@RequestMapping(&quot;/api/v1&quot;)\r\n@RestController\r\n@AllArgsConstructor\r\npublic class ArticlesController {\r\n\r\n    @Autowired\r\n    ArticlesRepository articlesRepository;\r\n\r\n    @GetMapping(&quot;/articles&quot;)\r\n    public List&lt;Articles&gt; getAllArticles(){\r\n//        createArticle();\r\n        return articlesRepository.findAll();\r\n    }\r\n\r\n    public void createArticle(){ //ignore\r\n    Articles a = new Articles(1L,&quot;Title Test&quot;, &quot;TyTest&quot;, &quot;This is a test review&quot;, &quot;path/totest&quot;, 10);\r\n        articlesRepository.save(a);\r\n    }\r\n\r\n\r\n//    @GetMapping(&quot;/articles&quot;)\r\n//    public ResponseEntity&lt;List&lt;Articles&gt;&gt; getAllArticles(){\r\n//        try {\r\n////            articlesRepository.findAll().forEach(articles::add);\r\n//            return new ResponseEntity&lt;&gt;(articles, HttpStatus.OK);\r\n//        }\r\n//        catch (Exception e){\r\n//            return new ResponseEntity&lt;&gt;(null, HttpStatus.INTERNAL_SERVER_ERROR);\r\n//        }\r\n//    }\r\n}\r\n```\r\n**Repository**\r\n```\r\n@Repository\r\npublic interface ArticlesRepository extends JpaRepository&lt;Articles, Long&gt; {\r\n}\r\n```\r\n**SQL Query in the logs. I&#39;m not sure why the columns are being referenced as articles0 but it had no effect on adding data to the database.**\r\n```\r\nHibernate: \r\n    select\r\n        articles0_.id as id1_0_,\r\n        articles0_.comments as comments2_0_,\r\n        articles0_.path as path3_0_,\r\n        articles0_.review as review4_0_,\r\n        articles0_.reviewer as reviewer5_0_,\r\n        articles0_.title as title6_0_ \r\n    from\r\n        game_articles articles0_\r\n```\r\n[![Postman GET Request and Database Data.][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/09JhB.png","title":"GET Request Returning Empty Object in SpringBoot","body":"<p>I've created a SpringBoot application that interacts with a react frontend UI. I wanted to ensure that data was getting passed in correctly through the API so I tried a GET Request in Postman. The response is returning an empty object instead of the data from the database, which I want. I can POST with no problem and compile with no errors. All files are in the same package. I have two rows in the table that correspond with the two open brackets, I'm just getting no data.</p>\n<p><strong>Entity Class</strong></p>\n<pre><code>@ToString\n@EqualsAndHashCode\n@NoArgsConstructor\n@AllArgsConstructor\n@Entity\n@Table(name = &quot;game_articles&quot;)\npublic class Articles {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n\n    @Column(name = &quot;title&quot;)\n    private String title;\n\n    @Column(name = &quot;reviewer&quot;)\n    private String reviewer;\n\n    @Column(name = &quot;review&quot;)\n    private String review;\n\n    @Column(name = &quot;path&quot;)\n    private String path;\n\n    @Column(columnDefinition = &quot;integer default 0&quot;)\n    private int comments;\n\n    public Articles(String title, String reviewer, String review, String path, int comments){\n        this.title = title;\n        this.reviewer = reviewer;\n        this.review = review;\n        this.path = path;\n        this.comments = comments;\n    }\n\n}\n</code></pre>\n<p><strong>Controller</strong>: Commented method was my first attempt.</p>\n<pre><code>@CrossOrigin(origins = &quot;http://localhost:3000&quot;)\n@RequestMapping(&quot;/api/v1&quot;)\n@RestController\n@AllArgsConstructor\npublic class ArticlesController {\n\n    @Autowired\n    ArticlesRepository articlesRepository;\n\n    @GetMapping(&quot;/articles&quot;)\n    public List&lt;Articles&gt; getAllArticles(){\n//        createArticle();\n        return articlesRepository.findAll();\n    }\n\n    public void createArticle(){ //ignore\n    Articles a = new Articles(1L,&quot;Title Test&quot;, &quot;TyTest&quot;, &quot;This is a test review&quot;, &quot;path/totest&quot;, 10);\n        articlesRepository.save(a);\n    }\n\n\n//    @GetMapping(&quot;/articles&quot;)\n//    public ResponseEntity&lt;List&lt;Articles&gt;&gt; getAllArticles(){\n//        try {\n////            articlesRepository.findAll().forEach(articles::add);\n//            return new ResponseEntity&lt;&gt;(articles, HttpStatus.OK);\n//        }\n//        catch (Exception e){\n//            return new ResponseEntity&lt;&gt;(null, HttpStatus.INTERNAL_SERVER_ERROR);\n//        }\n//    }\n}\n</code></pre>\n<p><strong>Repository</strong></p>\n<pre><code>@Repository\npublic interface ArticlesRepository extends JpaRepository&lt;Articles, Long&gt; {\n}\n</code></pre>\n<p><strong>SQL Query in the logs. I'm not sure why the columns are being referenced as articles0 but it had no effect on adding data to the database.</strong></p>\n<pre><code>Hibernate: \n    select\n        articles0_.id as id1_0_,\n        articles0_.comments as comments2_0_,\n        articles0_.path as path3_0_,\n        articles0_.review as review4_0_,\n        articles0_.reviewer as reviewer5_0_,\n        articles0_.title as title6_0_ \n    from\n        game_articles articles0_\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/09JhB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/09JhB.png\" alt=\"Postman GET Request and Database Data.\" /></a></p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":8183678,"reputation":938,"user_id":6160065,"display_name":"uniknow"},"score":2,"creation_date":1460978692,"post_id":36692414,"comment_id":60973383,"body_markdown":"The following answer may be of interest to you: [how to get date picture created in java](http://stackoverflow.com/questions/83787/how-to-get-date-picture-created-in-java)","body":"The following answer may be of interest to you: <a href=\"http://stackoverflow.com/questions/83787/how-to-get-date-picture-created-in-java\">how to get date picture created in java</a>"},{"owner":{"account_id":15271,"reputation":63428,"user_id":32090,"accept_rate":91,"display_name":"Boris Pavlović"},"score":0,"creation_date":1460979767,"post_id":36692414,"comment_id":60974151,"body_markdown":"Or: http://johnbokma.com/java/obtaining-image-metadata.html","body":"Or: <a href=\"http://johnbokma.com/java/obtaining-image-metadata.html\" rel=\"nofollow noreferrer\">johnbokma.com/java/obtaining-image-metadata.html</a>"},{"owner":{"account_id":2063259,"reputation":12403,"user_id":1839360,"display_name":"Yan Khonski"},"score":0,"creation_date":1460980577,"post_id":36692414,"comment_id":60974747,"body_markdown":"I tried this library.\n`Iterator&lt;ImageReader&gt; readers = ImageIO.getImageReaders(inputStream);\n\t\t\twhile (readers.hasNext()) {...}`\n**hasNext** is  **false**","body":"I tried this library. <code>Iterator&lt;ImageReader&gt; readers = ImageIO.getImageReaders(inputStream); \t\t\twhile (readers.hasNext()) {...}</code> <b>hasNext</b> is  <b>false</b>"}],"answers":[{"comments":[{"owner":{"account_id":327760,"reputation":7708,"user_id":650322,"accept_rate":58,"display_name":"Anthony"},"score":0,"creation_date":1486902999,"post_id":36697948,"comment_id":71537270,"body_markdown":"`BufferedInputStream bufferedInputStream = inputStream instanceof BufferedInputStream\n            ? (BufferedInputStream)inputStream\n            : new BufferedInputStream(inputStream);`\n\nAutomatically called by `readMetadata`.  Doubtful it was the actual solution.","body":"<code>BufferedInputStream bufferedInputStream = inputStream instanceof BufferedInputStream             ? (BufferedInputStream)inputStream             : new BufferedInputStream(inputStream);</code>  Automatically called by <code>readMetadata</code>.  Doubtful it was the actual solution."}],"tags":[],"owner":{"account_id":2063259,"reputation":12403,"user_id":1839360,"display_name":"Yan Khonski"},"comment_count":1,"down_vote_count":1,"up_vote_count":4,"is_accepted":true,"score":3,"last_activity_date":1460992717,"creation_date":1460992321,"answer_id":36697948,"question_id":36692414,"body_markdown":"After a research and debug I found this.\r\n**BufferedInputStream** is the necessety!\r\n\r\n            File imageFile = new File(filename);\r\n            Path path = imageFile.toPath();\r\n\t\t\tbyte[] data = Files.readAllBytes(path);\r\n\r\n            String str = DatatypeConverter.printBase64Binary(data);\r\n            //Store encoded data.\r\n            //Retrieve encoded string from the database.\r\n\t\t\tbyte [] data2 = DatatypeConverter.parseBase64Binary(str);\r\n\r\n            InputStream inputStream = new ByteArrayInputStream(data2);\r\n\t\t\tBufferedInputStream bis = new BufferedInputStream(inputStream);\r\n\t\t\tMetadata metadata = ImageMetadataReader.readMetadata(bis);\r\n\r\nSo it worked! \r\n\r\nOne thing, not all the images contain metadata (I need date-time taken).\r\nHere are two examples of metadata.  \r\n\r\n    [JPEG] - Compression Type = Baseline\r\n    [JPEG] - Data Precision = 8 bits\r\n    [JPEG] - Image Height = 758 pixels\r\n    [JPEG] - Image Width = 1024 pixels\r\n    [JPEG] - Number of Components = 3\r\n    [JPEG] - Component 1 = Y component: Quantization table 0, Sampling factors 2 horiz/2 vert\r\n    [JPEG] - Component 2 = Cb component: Quantization table 1, Sampling factors 1 horiz/1 vert\r\n    [JPEG] - Component 3 = Cr component: Quantization table 1, Sampling factors 1 horiz/1 vert\r\n    [JFIF] - Version = 1.1\r\n    [JFIF] - Resolution Units = none\r\n    [JFIF] - X Resolution = 1 dot\r\n    [JFIF] - Y Resolution = 1 dot\r\n    [JFIF] - Thumbnail Width Pixels = 0\r\n    [JFIF] - Thumbnail Height Pixels = 0\r\n\r\n\r\n----------\r\n\r\n\r\n    [JPEG] - Compression Type = Baseline\r\n    [JPEG] - Data Precision = 8 bits\r\n    [JPEG] - Image Height = 3104 pixels\r\n    [JPEG] - Image Width = 4192 pixels\r\n    [JPEG] - Number of Components = 3\r\n    [JPEG] - Component 1 = Y component: Quantization table 0, Sampling factors 2 horiz/1 vert\r\n    [JPEG] - Component 2 = Cb component: Quantization table 1, Sampling factors 1 horiz/1 vert\r\n    [JPEG] - Component 3 = Cr component: Quantization table 1, Sampling factors 1 horiz/1 vert\r\n    [Exif IFD0] - Software = Flyme\r\n    [Exif IFD0] - Orientation = Top, left side (Horizontal / normal)\r\n    [Exif IFD0] - Unknown tag (0x0224) = 1\r\n    [Exif IFD0] - Unknown tag (0x0225) = \r\n    [Exif IFD0] - Date/Time = 2016:04:13 10:20:08\r\n    [Exif IFD0] - Model = m1 note                        \r\n    [Exif IFD0] - Unknown tag (0x0222) = 0\r\n    [Exif IFD0] - Unknown tag (0x0223) = 0\r\n    [Exif IFD0] - Unknown tag (0x0220) = 0\r\n    [Exif IFD0] - Unknown tag (0x0221) = 0\r\n    [Exif IFD0] - Y Resolution = 72 dots per inch\r\n    [Exif IFD0] - X Resolution = 72 dots per inch\r\n    [Exif IFD0] - YCbCr Positioning = Datum point\r\n    [Exif IFD0] - Resolution Unit = Inch\r\n    [Exif IFD0] - Image Description =                                \r\n    [Exif IFD0] - Make = Meizu                          \r\n    [GPS] - GPS Img Direction = 49 degrees\r\n    [GPS] - GPS Img Direction Ref = Magnetic direction\r\n    [Exif SubIFD] - Date/Time Digitized = 2016:04:13 10:20:08\r\n    [Exif SubIFD] - Color Space = sRGB\r\n    [Exif SubIFD] - Date/Time Original = 2016:04:13 10:20:08\r\n    [Exif SubIFD] - FlashPix Version = 1.00\r\n    [Exif SubIFD] - Metering Mode = Center weighted average\r\n    [Exif SubIFD] - Exposure Bias Value = 0 EV\r\n    [Exif SubIFD] - Exif Image Height = 3104 pixels\r\n    [Exif SubIFD] - Exif Version = 2.20\r\n    [Exif SubIFD] - Exif Image Width = 4192 pixels\r\n    [Exif SubIFD] - Focal Length = 3.8 mm\r\n    [Exif SubIFD] - Digital Zoom Ratio = 1\r\n    [Exif SubIFD] - White Balance = (Other)\r\n    [Exif SubIFD] - Scene Capture Type = Standard\r\n    [Exif SubIFD] - Flash = Flash did not fire\r\n    [Exif SubIFD] - White Balance Mode = Auto white balance\r\n    [Exif SubIFD] - Exposure Mode = Auto exposure\r\n    [Exif SubIFD] - Exposure Time = 79999/1000000 sec\r\n    [Exif SubIFD] - ISO Speed Ratings = 810\r\n    [Exif SubIFD] - Components Configuration = YCbCr\r\n    [Exif SubIFD] - F-Number = f/2.2\r\n    [Exif SubIFD] - Exposure Program = Unknown (0)\r\n    [Interoperability] - Interoperability Index = Recommended Exif Interoperability Rules (ExifR98)\r\n    [Interoperability] - Interoperability Version = 1.00\r\n    [Exif Thumbnail] - Orientation = Top, left side (Horizontal / normal)\r\n    [Exif Thumbnail] - Compression = JPEG (old-style)\r\n    [Exif Thumbnail] - Thumbnail Offset = 962 bytes\r\n    [Exif Thumbnail] - YCbCr Positioning = Datum point\r\n    [Exif Thumbnail] - Thumbnail Length = 0 bytes\r\n    [Exif Thumbnail] - Y Resolution = 72 dots per inch\r\n    [Exif Thumbnail] - Resolution Unit = Inch\r\n    [Exif Thumbnail] - X Resolution = 72 dots per inch\r\n\r\n","title":"Retrieve creation date from image&#39;s bytes","body":"<p>After a research and debug I found this.\n<strong>BufferedInputStream</strong> is the necessety!</p>\n\n<pre><code>        File imageFile = new File(filename);\n        Path path = imageFile.toPath();\n        byte[] data = Files.readAllBytes(path);\n\n        String str = DatatypeConverter.printBase64Binary(data);\n        //Store encoded data.\n        //Retrieve encoded string from the database.\n        byte [] data2 = DatatypeConverter.parseBase64Binary(str);\n\n        InputStream inputStream = new ByteArrayInputStream(data2);\n        BufferedInputStream bis = new BufferedInputStream(inputStream);\n        Metadata metadata = ImageMetadataReader.readMetadata(bis);\n</code></pre>\n\n<p>So it worked! </p>\n\n<p>One thing, not all the images contain metadata (I need date-time taken).\nHere are two examples of metadata.  </p>\n\n<pre><code>[JPEG] - Compression Type = Baseline\n[JPEG] - Data Precision = 8 bits\n[JPEG] - Image Height = 758 pixels\n[JPEG] - Image Width = 1024 pixels\n[JPEG] - Number of Components = 3\n[JPEG] - Component 1 = Y component: Quantization table 0, Sampling factors 2 horiz/2 vert\n[JPEG] - Component 2 = Cb component: Quantization table 1, Sampling factors 1 horiz/1 vert\n[JPEG] - Component 3 = Cr component: Quantization table 1, Sampling factors 1 horiz/1 vert\n[JFIF] - Version = 1.1\n[JFIF] - Resolution Units = none\n[JFIF] - X Resolution = 1 dot\n[JFIF] - Y Resolution = 1 dot\n[JFIF] - Thumbnail Width Pixels = 0\n[JFIF] - Thumbnail Height Pixels = 0\n</code></pre>\n\n<hr>\n\n<pre><code>[JPEG] - Compression Type = Baseline\n[JPEG] - Data Precision = 8 bits\n[JPEG] - Image Height = 3104 pixels\n[JPEG] - Image Width = 4192 pixels\n[JPEG] - Number of Components = 3\n[JPEG] - Component 1 = Y component: Quantization table 0, Sampling factors 2 horiz/1 vert\n[JPEG] - Component 2 = Cb component: Quantization table 1, Sampling factors 1 horiz/1 vert\n[JPEG] - Component 3 = Cr component: Quantization table 1, Sampling factors 1 horiz/1 vert\n[Exif IFD0] - Software = Flyme\n[Exif IFD0] - Orientation = Top, left side (Horizontal / normal)\n[Exif IFD0] - Unknown tag (0x0224) = 1\n[Exif IFD0] - Unknown tag (0x0225) = \n[Exif IFD0] - Date/Time = 2016:04:13 10:20:08\n[Exif IFD0] - Model = m1 note                        \n[Exif IFD0] - Unknown tag (0x0222) = 0\n[Exif IFD0] - Unknown tag (0x0223) = 0\n[Exif IFD0] - Unknown tag (0x0220) = 0\n[Exif IFD0] - Unknown tag (0x0221) = 0\n[Exif IFD0] - Y Resolution = 72 dots per inch\n[Exif IFD0] - X Resolution = 72 dots per inch\n[Exif IFD0] - YCbCr Positioning = Datum point\n[Exif IFD0] - Resolution Unit = Inch\n[Exif IFD0] - Image Description =                                \n[Exif IFD0] - Make = Meizu                          \n[GPS] - GPS Img Direction = 49 degrees\n[GPS] - GPS Img Direction Ref = Magnetic direction\n[Exif SubIFD] - Date/Time Digitized = 2016:04:13 10:20:08\n[Exif SubIFD] - Color Space = sRGB\n[Exif SubIFD] - Date/Time Original = 2016:04:13 10:20:08\n[Exif SubIFD] - FlashPix Version = 1.00\n[Exif SubIFD] - Metering Mode = Center weighted average\n[Exif SubIFD] - Exposure Bias Value = 0 EV\n[Exif SubIFD] - Exif Image Height = 3104 pixels\n[Exif SubIFD] - Exif Version = 2.20\n[Exif SubIFD] - Exif Image Width = 4192 pixels\n[Exif SubIFD] - Focal Length = 3.8 mm\n[Exif SubIFD] - Digital Zoom Ratio = 1\n[Exif SubIFD] - White Balance = (Other)\n[Exif SubIFD] - Scene Capture Type = Standard\n[Exif SubIFD] - Flash = Flash did not fire\n[Exif SubIFD] - White Balance Mode = Auto white balance\n[Exif SubIFD] - Exposure Mode = Auto exposure\n[Exif SubIFD] - Exposure Time = 79999/1000000 sec\n[Exif SubIFD] - ISO Speed Ratings = 810\n[Exif SubIFD] - Components Configuration = YCbCr\n[Exif SubIFD] - F-Number = f/2.2\n[Exif SubIFD] - Exposure Program = Unknown (0)\n[Interoperability] - Interoperability Index = Recommended Exif Interoperability Rules (ExifR98)\n[Interoperability] - Interoperability Version = 1.00\n[Exif Thumbnail] - Orientation = Top, left side (Horizontal / normal)\n[Exif Thumbnail] - Compression = JPEG (old-style)\n[Exif Thumbnail] - Thumbnail Offset = 962 bytes\n[Exif Thumbnail] - YCbCr Positioning = Datum point\n[Exif Thumbnail] - Thumbnail Length = 0 bytes\n[Exif Thumbnail] - Y Resolution = 72 dots per inch\n[Exif Thumbnail] - Resolution Unit = Inch\n[Exif Thumbnail] - X Resolution = 72 dots per inch\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16694296,"reputation":11,"user_id":12065968,"display_name":"himank gupta"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693158806,"creation_date":1693158806,"answer_id":76988328,"question_id":36692414,"body_markdown":"along with converting it to BufferedInputStream, I also had to pass bytes length as second arg to get rid of that error.\r\n\r\n    byte[] imageBytes = downloadImageFromUrl(imageUrl);\r\n    Metadata metadata = ImageMetadataReader.readMetadata(new BufferedInputStream(new ByteArrayInputStream(imageBytes)), imageBytes.length)","title":"Retrieve creation date from image&#39;s bytes","body":"<p>along with converting it to BufferedInputStream, I also had to pass bytes length as second arg to get rid of that error.</p>\n<pre><code>byte[] imageBytes = downloadImageFromUrl(imageUrl);\nMetadata metadata = ImageMetadataReader.readMetadata(new BufferedInputStream(new ByteArrayInputStream(imageBytes)), imageBytes.length)\n</code></pre>\n"}],"owner":{"account_id":2063259,"reputation":12403,"user_id":1839360,"display_name":"Yan Khonski"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3730,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":36697948,"answer_count":2,"score":2,"last_activity_date":1693158806,"creation_date":1460978174,"question_id":36692414,"body_markdown":"I have images stored in the database as Base64 encoded strings. I want to read this string, decode it into an array of bytes and display it. So far so good.\r\n\r\nNow I also want to display additional information about this image. I really care when this image was taken / created.\r\n\r\nI have tried several approaches. When an image exists in the file system, there is no problem. However, when I read encoded string, decode it into bytes, a problem appears.\r\n\r\n I used **metadata-extractor** library.\r\n\r\n        &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.drewnoakes&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;metadata-extractor&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.9.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\r\n     public void processData(String data) {\r\n\t\tif (data == null || data.isEmpty()) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tbyte[] base64Decoded = DatatypeConverter.parseBase64Binary(data);\r\n\t\tread(base64Decoded );\r\n\t\t//displayImage();\r\n        //displayImageInfo();\r\n\t}\r\n\r\n\r\n\r\n\r\n    public void read(byte [] data) {\r\n\t\ttry {\r\n\t\t\tInputStream inputStream = new ByteArrayInputStream(data);\r\n\t\t\tBufferedImage image = ImageIO.read(inputStream);\r\n\t\t\tretrieveImageInfo();\r\n\r\n\t\t\tMetadata metadata = ImageMetadataReader.readMetadata(inputStream);\r\n\t\t\tretrieveAdditiaonlInfo2(metadata);\r\n\t\t} catch (Exception e) {\r\n\t\t\t//throw new RuntimeException(&quot;Failed to read the image from bytes.&quot;, e);\r\n\t\t}\r\n\t}\r\n\r\n\tprivate void retrieveImageInfo() {\r\n\t\timageWidth = (long) image.getWidth();\r\n\t\timageHeight = (long) image.getHeight();\r\n\t\timageSize = (long) data.length;\r\n\r\n\t}\r\n\r\n\tprivate void retrieveAdditiaonlInfo2(Metadata metadata) {\r\n\t\tfor (Directory directory : metadata.getDirectories()) {\r\n\t\t\tfor (Tag tag : directory.getTags()) {\r\n\t\t\t\tSystem.out.format(&quot;[%s] - %s = %s&quot;, directory.getName(), tag.getTagName(), tag.getDescription());\r\n\t\t\t\tSystem.out.println();\r\n\t\t\t}\r\n\t\t\tif (directory.hasErrors()) {\r\n\t\t\t\tfor (String error : directory.getErrors()) {\r\n\t\t\t\t\tSystem.err.format(&quot;ERROR: %s&quot;, error);\r\n\t\t\t\t\tSystem.err.println();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\nThis works well for images that were read from files. But for our database it does not work. It says, \r\n\r\n*Caused by: java.io.IOException: Stream ended before file&#39;s magic number could be determined.\r\n\tat com.drew.imaging.FileTypeDetector.detectFileType(FileTypeDetector.java:97)*\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/ZJlET.jpg","title":"Retrieve creation date from image&#39;s bytes","body":"<p>I have images stored in the database as Base64 encoded strings. I want to read this string, decode it into an array of bytes and display it. So far so good.</p>\n\n<p>Now I also want to display additional information about this image. I really care when this image was taken / created.</p>\n\n<p>I have tried several approaches. When an image exists in the file system, there is no problem. However, when I read encoded string, decode it into bytes, a problem appears.</p>\n\n<p>I used <strong>metadata-extractor</strong> library.</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.drewnoakes&lt;/groupId&gt;\n        &lt;artifactId&gt;metadata-extractor&lt;/artifactId&gt;\n        &lt;version&gt;2.9.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n\n\n public void processData(String data) {\n    if (data == null || data.isEmpty()) {\n        return;\n    }\n    byte[] base64Decoded = DatatypeConverter.parseBase64Binary(data);\n    read(base64Decoded );\n    //displayImage();\n    //displayImageInfo();\n}\n\n\n\n\npublic void read(byte [] data) {\n    try {\n        InputStream inputStream = new ByteArrayInputStream(data);\n        BufferedImage image = ImageIO.read(inputStream);\n        retrieveImageInfo();\n\n        Metadata metadata = ImageMetadataReader.readMetadata(inputStream);\n        retrieveAdditiaonlInfo2(metadata);\n    } catch (Exception e) {\n        //throw new RuntimeException(\"Failed to read the image from bytes.\", e);\n    }\n}\n\nprivate void retrieveImageInfo() {\n    imageWidth = (long) image.getWidth();\n    imageHeight = (long) image.getHeight();\n    imageSize = (long) data.length;\n\n}\n\nprivate void retrieveAdditiaonlInfo2(Metadata metadata) {\n    for (Directory directory : metadata.getDirectories()) {\n        for (Tag tag : directory.getTags()) {\n            System.out.format(\"[%s] - %s = %s\", directory.getName(), tag.getTagName(), tag.getDescription());\n            System.out.println();\n        }\n        if (directory.hasErrors()) {\n            for (String error : directory.getErrors()) {\n                System.err.format(\"ERROR: %s\", error);\n                System.err.println();\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>This works well for images that were read from files. But for our database it does not work. It says, </p>\n\n<p><em>Caused by: java.io.IOException: Stream ended before file's magic number could be determined.\n    at com.drew.imaging.FileTypeDetector.detectFileType(FileTypeDetector.java:97)</em></p>\n\n<p><a href=\"https://i.stack.imgur.com/ZJlET.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZJlET.jpg\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","count","pdfbox"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1693087096,"post_id":76984969,"comment_id":135714384,"body_markdown":"Please read through your code again, and explain how you could ever get a count greater than 1.","body":"Please read through your code again, and explain how you could ever get a count greater than 1."},{"owner":{"account_id":27351817,"reputation":1,"user_id":20860875,"display_name":"Ramya Podha"},"score":0,"creation_date":1693088063,"post_id":76984969,"comment_id":135714466,"body_markdown":"I did using the regax and it works fine but I want to use latest way of writting it.\n\nHere my code using regax : \n`for (String word : definedWords) {\n                Pattern pattern = Pattern.compile(&quot;\\\\b&quot; + Pattern.quote(word) + &quot;\\\\b&quot;);\n                Matcher matcher = pattern.matcher(pdfText);\n\n                int count = 0;\n                while (matcher.find()) {\n                    count++;\n                }\n                phraseCount.put(word, count);\n            }`\n\n@tgdavies","body":"I did using the regax and it works fine but I want to use latest way of writting it.  Here my code using regax :  <code>for (String word : definedWords) {                 Pattern pattern = Pattern.compile(&quot;\\\\b&quot; + Pattern.quote(word) + &quot;\\\\b&quot;);                 Matcher matcher = pattern.matcher(pdfText);                  int count = 0;                 while (matcher.find()) {                     count++;                 }                 phraseCount.put(word, count);             }</code>  @tgdavies"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1693095285,"post_id":76984969,"comment_id":135714973,"body_markdown":"What is the &quot;latest way of writing it&quot;?","body":"What is the &quot;latest way of writing it&quot;?"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":2,"creation_date":1693109029,"post_id":76984969,"comment_id":135715611,"body_markdown":"You&#39;re testing once for each sentence. You&#39;re not checking the position and then looking for more &quot;hits&quot; after the position + length of word. So yes, it will be 1 max in the original code.","body":"You&#39;re testing once for each sentence. You&#39;re not checking the position and then looking for more &quot;hits&quot; after the position + length of word. So yes, it will be 1 max in the original code."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1693168757,"post_id":76984969,"comment_id":135721133,"body_markdown":"If your &quot;latest way of writing it&quot; is the code in your question, then (as other comments already say) you only check whether the test phrase appears in the content (`1`) or not (`0`). In that case please tell why you want to use this latest way instead of the regular expression variant.","body":"If your &quot;latest way of writing it&quot; is the code in your question, then (as other comments already say) you only check whether the test phrase appears in the content (<code>1</code>) or not (<code>0</code>). In that case please tell why you want to use this latest way instead of the regular expression variant."}],"owner":{"account_id":27351817,"reputation":1,"user_id":20860875,"display_name":"Ramya Podha"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693158316,"creation_date":1693086695,"question_id":76984969,"body_markdown":"Input: pdf file with a set of defined words (phrases)\r\n\r\nRequired Output: I need to display the phrases and their count in the whole pdf\r\n\r\nMy code below is always giving me count = 1. I believe that is happening because it is not checking the entire file.\r\n\r\nHere is the code:\r\n\r\n\r\n```\r\nimport org.apache.pdfbox.Loader;\r\nimport org.apache.pdfbox.pdmodel.PDDocument;\r\nimport org.apache.pdfbox.text.PDFTextStripper;\r\n\r\nimport java.io.File;\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\npublic class task {\r\n    public static void main(String[] args) {\r\n        try {\r\n            PDDocument document = Loader.loadPDF(new File(&quot;filepath));\r\n            PDFTextStripper textStripper = new PDFTextStripper();\r\n            String pdfText = textStripper.getText(document);\r\n            String[] sentencesToSearch = {\r\n                    &quot;hotels, restaurants, airlines, golf clubs, food and beverage, meeting, theme park, cruise, casino&quot;,\r\n                    &quot;revenue management techniques&quot;,\r\n                    &quot;Excel&quot;,\r\n                    &quot;data&quot;,\r\n                    &quot;marketing&quot;,\r\n                    &quot;finance&quot;,\r\n                    &quot;cost&quot;,\r\n                    &quot;economic principles&quot;,\r\n                    &quot;strategy&quot;,\r\n                    &quot;knowledge of&quot;,\r\n                    &quot;that&quot;\r\n            };\r\n            Map&lt;String, Integer&gt; sentenceCount = new HashMap&lt;&gt;();\r\n\r\n            for (String sentence : sentencesToSearch) {\r\n                    if (pdfText.contains(sentence)) {\r\n                        sentenceCount.put(sentence, sentenceCount.getOrDefault(sentence, 0) + 1);\r\n                    }\r\n            }\r\n            document.close();\r\n            for (Map.Entry&lt;String, Integer&gt; entry : sentenceCount.entrySet()) {\r\n                System.out.println(&quot;Sentence: &quot; + entry.getKey());\r\n                System.out.println(&quot;Count: &quot; + entry.getValue());\r\n            }\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\nHere is the code that worked using Regex:\r\n\r\n    for (String word : definedWords) {                 \r\n       Pattern pattern = Pattern.compile(&quot;\\\\b&quot; + Pattern.quote(word) + &quot;\\\\b&quot;);                 \r\n       Matcher matcher = pattern.matcher(pdfText);                  \r\n       int count = 0;                 \r\n       while (matcher.find()) {                     \r\n          count++;                 \r\n       }                 \r\n       phraseCount.put(word, count);             \r\n    }","title":"Count the phrases in a pdf file and display the phrases with the count for each phrase","body":"<p>Input: pdf file with a set of defined words (phrases)</p>\n<p>Required Output: I need to display the phrases and their count in the whole pdf</p>\n<p>My code below is always giving me count = 1. I believe that is happening because it is not checking the entire file.</p>\n<p>Here is the code:</p>\n<pre><code>import org.apache.pdfbox.Loader;\nimport org.apache.pdfbox.pdmodel.PDDocument;\nimport org.apache.pdfbox.text.PDFTextStripper;\n\nimport java.io.File;\nimport java.util.HashMap;\nimport java.util.Map;\n\npublic class task {\n    public static void main(String[] args) {\n        try {\n            PDDocument document = Loader.loadPDF(new File(&quot;filepath));\n            PDFTextStripper textStripper = new PDFTextStripper();\n            String pdfText = textStripper.getText(document);\n            String[] sentencesToSearch = {\n                    &quot;hotels, restaurants, airlines, golf clubs, food and beverage, meeting, theme park, cruise, casino&quot;,\n                    &quot;revenue management techniques&quot;,\n                    &quot;Excel&quot;,\n                    &quot;data&quot;,\n                    &quot;marketing&quot;,\n                    &quot;finance&quot;,\n                    &quot;cost&quot;,\n                    &quot;economic principles&quot;,\n                    &quot;strategy&quot;,\n                    &quot;knowledge of&quot;,\n                    &quot;that&quot;\n            };\n            Map&lt;String, Integer&gt; sentenceCount = new HashMap&lt;&gt;();\n\n            for (String sentence : sentencesToSearch) {\n                    if (pdfText.contains(sentence)) {\n                        sentenceCount.put(sentence, sentenceCount.getOrDefault(sentence, 0) + 1);\n                    }\n            }\n            document.close();\n            for (Map.Entry&lt;String, Integer&gt; entry : sentenceCount.entrySet()) {\n                System.out.println(&quot;Sentence: &quot; + entry.getKey());\n                System.out.println(&quot;Count: &quot; + entry.getValue());\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>Here is the code that worked using Regex:</p>\n<pre><code>for (String word : definedWords) {                 \n   Pattern pattern = Pattern.compile(&quot;\\\\b&quot; + Pattern.quote(word) + &quot;\\\\b&quot;);                 \n   Matcher matcher = pattern.matcher(pdfText);                  \n   int count = 0;                 \n   while (matcher.find()) {                     \n      count++;                 \n   }                 \n   phraseCount.put(word, count);             \n}\n</code></pre>\n"},{"tags":["java","gson"],"comments":[{"owner":{"account_id":10433138,"reputation":984,"user_id":7692352,"display_name":"Aris"},"score":2,"creation_date":1633686728,"post_id":69493871,"comment_id":122831543,"body_markdown":"Does this answer your question? [serialize and deserialize enum with Gson](https://stackoverflow.com/questions/16740078/serialize-and-deserialize-enum-with-gson)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/16740078/serialize-and-deserialize-enum-with-gson\">serialize and deserialize enum with Gson</a>"},{"owner":{"account_id":14961660,"reputation":1403,"user_id":10801227,"display_name":"John"},"score":0,"creation_date":1633686961,"post_id":69493871,"comment_id":122831635,"body_markdown":"@Aris this approach doesn&#39;t work for me. My problem is the type of ```Status.UNKNOWN```. It has ```com.test.Status$2``` type and therefore Gson ignoring my custom serializer.","body":"@Aris this approach doesn&#39;t work for me. My problem is the type of <code>Status.UNKNOWN</code>. It has <code>com.test.Status$2</code> type and therefore Gson ignoring my custom serializer."},{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1633687824,"post_id":69493871,"comment_id":122831977,"body_markdown":"I see you registered 2 serializers.  Try to remove GsonProcessTypeEnumDeserializer and see if it works","body":"I see you registered 2 serializers.  Try to remove GsonProcessTypeEnumDeserializer and see if it works"},{"owner":{"account_id":14961660,"reputation":1403,"user_id":10801227,"display_name":"John"},"score":0,"creation_date":1633689025,"post_id":69493871,"comment_id":122832445,"body_markdown":"@SusanMustafa I can&#39;t remove my custom deserializer because it breaks my deserialization process for other values of Status enum.","body":"@SusanMustafa I can&#39;t remove my custom deserializer because it breaks my deserialization process for other values of Status enum."}],"answers":[{"comments":[{"owner":{"account_id":14961660,"reputation":1403,"user_id":10801227,"display_name":"John"},"score":0,"creation_date":1633691648,"post_id":69494823,"comment_id":122833380,"body_markdown":"@ferrouskid thank you for this approach. It is not my code and I can&#39;t change this enum because of backward compatibility. But your approach is really good and I agree with you.","body":"@ferrouskid thank you for this approach. It is not my code and I can&#39;t change this enum because of backward compatibility. But your approach is really good and I agree with you."}],"tags":[],"owner":{"account_id":22978237,"reputation":486,"user_id":17105581,"display_name":"ferrouskid"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1633691339,"creation_date":1633690980,"answer_id":69494823,"question_id":69493871,"body_markdown":"**Quick fix: if you really need your code to work, remove the curly braces after UNKNOWN(&quot;del&quot;)**\r\n\r\nI tried replicating your code, but I don&#39;t quite understand the need behind some of your decisions, so please to provide additional clarification if this is not applicable. There are a few points:\r\n\r\n\r\n**KISS: Over engineering**\r\nI think a lot of your code is unnecessary, so lets Keep It Stupid Simple. We can simplify Status to be:\r\n\r\nStatus enum: \r\n```\r\npublic enum Status {\r\n    ONLINE,\r\n    OFFLINE,\r\n    UNKNOWN\r\n}\r\n```\r\n\r\nIt appears there is some confusion about what enum is actually doing. Enum is just for convenience really, the identifiers &quot;ONLINE&quot;, &quot;OFFLINE&quot;, and &quot;UNKNOWN&quot; are of the type Status. To check this we can do: \r\n\r\n```\r\nfor (Status value : Status.values()){\r\n    System.out.println(value.getClass().getName());\r\n}\r\n```\r\n\r\nAnd we get the following output: \r\n\r\n```\r\nStatus\r\nStatus\r\nStatus\r\n\r\nProcess finished with exit code 0\r\n```\r\n\r\nWhat this means is that you don&#39;t have to convert it to strings and back, and that you don&#39;t need your custom serializer and deserializer at all! \r\n\r\n**Naming**\r\n\r\nI&#39;d suggest having a consistent naming convention for you variables and methods. Calling one class ```GsonStatusEnumSerializer``` and another ```GsonProcessTypeEnumDeserializer ``` (status vs process) can be tricky to keep track of, and makes it appear to others that they&#39;re not logically connected. \r\n\r\nIn Status, you had ```ONLINE(&#39;online&#39;)``` and ```OFFLINE(&#39;offline&#39;)``` but ```UNKNOWN(&#39;del&#39;)```, which can be the root of a lot of confusion (especially when you&#39;re overriding the ```toString()``` method to return &quot;off&quot;!)\r\n\r\n**Encapsulation**\r\nEncapsulation is a core principle of object oriented programming, making variables accessible via getters and setters makes code safer.\r\n\r\n**Final output**\r\n```\r\npublic static void main(String[] args) {\r\n        Gson gson = new Gson();\r\n        User user = new User(&quot;John&quot;, Status.UNKNOWN);\r\n\r\n        String json = gson.toJson(user);\r\n\r\n        System.out.println(json);\r\n\r\n        User user1 = gson.fromJson(json, User.class);\r\n\r\n        System.out.println(user1.getName());\r\n        System.out.println(user1.getStatus());\r\n    }\r\n```\r\n\r\nRunning the above produces the following output: \r\n\r\n```\r\n{&quot;name&quot;:&quot;John&quot;,&quot;status&quot;:&quot;UNKNOWN&quot;}\r\nJohn\r\nUNKNOWN\r\n\r\nProcess finished with exit code 0\r\n```\r\nGood luck with all your coding endeavours :)","title":"How to serialize/deserialize enum using Gson","body":"<p><strong>Quick fix: if you really need your code to work, remove the curly braces after UNKNOWN(&quot;del&quot;)</strong></p>\n<p>I tried replicating your code, but I don't quite understand the need behind some of your decisions, so please to provide additional clarification if this is not applicable. There are a few points:</p>\n<p><strong>KISS: Over engineering</strong>\nI think a lot of your code is unnecessary, so lets Keep It Stupid Simple. We can simplify Status to be:</p>\n<p>Status enum:</p>\n<pre><code>public enum Status {\n    ONLINE,\n    OFFLINE,\n    UNKNOWN\n}\n</code></pre>\n<p>It appears there is some confusion about what enum is actually doing. Enum is just for convenience really, the identifiers &quot;ONLINE&quot;, &quot;OFFLINE&quot;, and &quot;UNKNOWN&quot; are of the type Status. To check this we can do:</p>\n<pre><code>for (Status value : Status.values()){\n    System.out.println(value.getClass().getName());\n}\n</code></pre>\n<p>And we get the following output:</p>\n<pre><code>Status\nStatus\nStatus\n\nProcess finished with exit code 0\n</code></pre>\n<p>What this means is that you don't have to convert it to strings and back, and that you don't need your custom serializer and deserializer at all!</p>\n<p><strong>Naming</strong></p>\n<p>I'd suggest having a consistent naming convention for you variables and methods. Calling one class <code>GsonStatusEnumSerializer</code> and another <code>GsonProcessTypeEnumDeserializer </code> (status vs process) can be tricky to keep track of, and makes it appear to others that they're not logically connected.</p>\n<p>In Status, you had <code>ONLINE('online')</code> and <code>OFFLINE('offline')</code> but <code>UNKNOWN('del')</code>, which can be the root of a lot of confusion (especially when you're overriding the <code>toString()</code> method to return &quot;off&quot;!)</p>\n<p><strong>Encapsulation</strong>\nEncapsulation is a core principle of object oriented programming, making variables accessible via getters and setters makes code safer.</p>\n<p><strong>Final output</strong></p>\n<pre><code>public static void main(String[] args) {\n        Gson gson = new Gson();\n        User user = new User(&quot;John&quot;, Status.UNKNOWN);\n\n        String json = gson.toJson(user);\n\n        System.out.println(json);\n\n        User user1 = gson.fromJson(json, User.class);\n\n        System.out.println(user1.getName());\n        System.out.println(user1.getStatus());\n    }\n</code></pre>\n<p>Running the above produces the following output:</p>\n<pre><code>{&quot;name&quot;:&quot;John&quot;,&quot;status&quot;:&quot;UNKNOWN&quot;}\nJohn\nUNKNOWN\n\nProcess finished with exit code 0\n</code></pre>\n<p>Good luck with all your coding endeavours :)</p>\n"},{"tags":[],"owner":{"account_id":14961660,"reputation":1403,"user_id":10801227,"display_name":"John"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1633691903,"creation_date":1633691903,"answer_id":69495005,"question_id":69493871,"body_markdown":"I have found the solution, I have to add a serializer for this type separately.\r\n```\r\npublic static void main(String[] args) {\r\n    Gson gson = new GsonBuilder()\r\n                .registerTypeAdapter(Status.class, new GsonStatusEnumDeserializer())\r\n                .registerTypeAdapter(Status.class, new GsonStatusEnumSerializer())\r\n                .registerTypeAdapter(Status.UNKNOWN.getClass(), new GsonStatusEnumSerializer())\r\n                .create();\r\n    User user = new User();\r\n    user.name = &quot;John&quot;;\r\n    user.status = Status.UNKNOWN;\r\n    \r\n    String json = gson.toJson(user);\r\n    User user1 = gson.fromJson(json, User.class);\r\n}\r\n```\r\nI don&#39;t like this approach, but it works for me.","title":"How to serialize/deserialize enum using Gson","body":"<p>I have found the solution, I have to add a serializer for this type separately.</p>\n<pre><code>public static void main(String[] args) {\n    Gson gson = new GsonBuilder()\n                .registerTypeAdapter(Status.class, new GsonStatusEnumDeserializer())\n                .registerTypeAdapter(Status.class, new GsonStatusEnumSerializer())\n                .registerTypeAdapter(Status.UNKNOWN.getClass(), new GsonStatusEnumSerializer())\n                .create();\n    User user = new User();\n    user.name = &quot;John&quot;;\n    user.status = Status.UNKNOWN;\n    \n    String json = gson.toJson(user);\n    User user1 = gson.fromJson(json, User.class);\n}\n</code></pre>\n<p>I don't like this approach, but it works for me.</p>\n"},{"tags":[],"owner":{"account_id":28614897,"reputation":11,"user_id":21909124,"display_name":"slalomoon"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693134214,"creation_date":1693090109,"answer_id":76985120,"question_id":69493871,"body_markdown":"`com.test.Status$2` is a descendant of `com.test.Status`\r\nso just use `registerTypeHierarchyAdapter` (instead of `registerTypeAdapter`)\r\n\r\n    registerTypeHierarchyAdapter(Status.class, new GsonStatusEnumSerializer()) ","title":"How to serialize/deserialize enum using Gson","body":"<p><code>com.test.Status$2</code> is a descendant of <code>com.test.Status</code>\nso just use <code>registerTypeHierarchyAdapter</code> (instead of <code>registerTypeAdapter</code>)</p>\n<pre><code>registerTypeHierarchyAdapter(Status.class, new GsonStatusEnumSerializer()) \n</code></pre>\n"}],"owner":{"account_id":14961660,"reputation":1403,"user_id":10801227,"display_name":"John"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1186,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69495005,"answer_count":3,"score":1,"last_activity_date":1693158249,"creation_date":1633686441,"question_id":69493871,"body_markdown":"I need to serialize/deserialize a specific enum:\r\n```\r\npublic enum Status {\r\n    ONLINE(&quot;online&quot;),\r\n    OFFLINE(&quot;offline&quot;),\r\n    UNKNOWN(&quot;del&quot;) {\r\n        @Override\r\n        public String getStatusOld() {\r\n            return &quot;off&quot;;\r\n        }\r\n    };\r\n  \r\n    private final String name;\r\n    Status(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public String getStatusOld() {\r\n        return name;\r\n    }\r\n    \r\n    public String toString() {\r\n        return name;\r\n    }\r\n\r\n    public static Status typeOf(String name) {\r\n        if (!StringUtils.isEmpty(name)) {\r\n            for (Status type : values()) {\r\n                if (type.name.equalsIgnoreCase(name)) {\r\n                    return type;\r\n                }\r\n                if (type.getStatusOld().equalsIgnoreCase(name)) {\r\n                    return type;\r\n                }\r\n            }\r\n        }\r\n        throw new IllegalArgumentException(&quot;Unknown status type: &quot; + name);\r\n    }\r\n}\r\n```\r\nand I have the POJO looks like the following:\r\n```\r\npublic class User {\r\n    public String name;\r\n    public Status status;\r\n    ...\r\n}\r\n```\r\nand order to serialize/deserialize my enum ```Status``` I have created the custom serializer/deserializer:\r\n```\r\npublic class GsonStatusEnumSerializer implements JsonSerializer&lt;Status&gt; {\r\n    @Override\r\n    public JsonElement serialize(Status status, Type type, JsonSerializationContext jsonSerializationContext) {\r\n        return new JsonPrimitive(status.toString());\r\n    }\r\n}\r\npublic class GsonStatusEnumDeserializer implements JsonDeserializer&lt;Status&gt; {\r\n    @Override\r\n    public Status deserialize(JsonElement jsonElement, Type type, JsonDeserializationContext jsonDeserializationContext) throws JsonParseException {\r\n        if (jsonElement != null &amp;&amp; jsonElement.isJsonPrimitive()) {\r\n            final String status = jsonElement.getAsString();\r\n            if (StringUtils.isNotBlank(status)) {\r\n                return Status.typeOf(status);\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n}\r\n\r\n```\r\nand when I&#39;m trying to serialize my ```User``` class and the Status has value ```UNKNOWN``` my custom serializer isn&#39;t using by Gson for serializing User&#39;s status.\r\nI&#39;ve found it is happening because in case ```UNKNOWN``` value has a different type.\r\n```\r\npublic static void main(String[] args) {\r\n    for (Status value : Status.values()) {\r\n            System.out.println(&quot;class = &quot; + value.getClass() + &quot;, value = &quot; + value);\r\n        }\r\n}\r\n```\r\nand I got the results looks like the following:\r\n```\r\nclass = class com.test.Status, value = online\r\nclass = class com.test.Status$2, value = del\r\nclass = class com.test.Status, value = offline\r\n```\r\nMy main method for serializing the User POJO:\r\n```\r\npublic static void main(String[] args) {\r\n    Gson gson = new GsonBuilder()\r\n                .registerTypeAdapter(Status.class, new GsonStatusEnumDeserializer())\r\n                .registerTypeAdapter(Status.class, new GsonStatusEnumSerializer())\r\n                .create();\r\n    User user = new User();\r\n    user.name = &quot;John&quot;;\r\n    user.status = Status.UNKNOWN;\r\n    \r\n    String json = gson.toJson(user);\r\n    User user1 = gson.fromJson(json, User.class);\r\n}\r\n```\r\nand I get an exception:\r\n```\r\nException in thread &quot;main&quot; java.lang.IllegalArgumentException: Unknown process type: UNKNOWN\r\n\tat com.test.Status.typeOf(Status.java:97)\r\n\tat com.test.GsonStatusEnumDeserializer.deserialize(GsonStatusEnumDeserializer.java:22)\r\n\tat com.test.GsonStatusEnumDeserializer.deserialize(GsonStatusEnumDeserializer.java:16)\r\n```\r\nHow can I serialize/deserialize it by Gson?","title":"How to serialize/deserialize enum using Gson","body":"<p>I need to serialize/deserialize a specific enum:</p>\n<pre><code>public enum Status {\n    ONLINE(&quot;online&quot;),\n    OFFLINE(&quot;offline&quot;),\n    UNKNOWN(&quot;del&quot;) {\n        @Override\n        public String getStatusOld() {\n            return &quot;off&quot;;\n        }\n    };\n  \n    private final String name;\n    Status(String name) {\n        this.name = name;\n    }\n\n    public String getStatusOld() {\n        return name;\n    }\n    \n    public String toString() {\n        return name;\n    }\n\n    public static Status typeOf(String name) {\n        if (!StringUtils.isEmpty(name)) {\n            for (Status type : values()) {\n                if (type.name.equalsIgnoreCase(name)) {\n                    return type;\n                }\n                if (type.getStatusOld().equalsIgnoreCase(name)) {\n                    return type;\n                }\n            }\n        }\n        throw new IllegalArgumentException(&quot;Unknown status type: &quot; + name);\n    }\n}\n</code></pre>\n<p>and I have the POJO looks like the following:</p>\n<pre><code>public class User {\n    public String name;\n    public Status status;\n    ...\n}\n</code></pre>\n<p>and order to serialize/deserialize my enum <code>Status</code> I have created the custom serializer/deserializer:</p>\n<pre><code>public class GsonStatusEnumSerializer implements JsonSerializer&lt;Status&gt; {\n    @Override\n    public JsonElement serialize(Status status, Type type, JsonSerializationContext jsonSerializationContext) {\n        return new JsonPrimitive(status.toString());\n    }\n}\npublic class GsonStatusEnumDeserializer implements JsonDeserializer&lt;Status&gt; {\n    @Override\n    public Status deserialize(JsonElement jsonElement, Type type, JsonDeserializationContext jsonDeserializationContext) throws JsonParseException {\n        if (jsonElement != null &amp;&amp; jsonElement.isJsonPrimitive()) {\n            final String status = jsonElement.getAsString();\n            if (StringUtils.isNotBlank(status)) {\n                return Status.typeOf(status);\n            }\n        }\n        return null;\n    }\n}\n\n</code></pre>\n<p>and when I'm trying to serialize my <code>User</code> class and the Status has value <code>UNKNOWN</code> my custom serializer isn't using by Gson for serializing User's status.\nI've found it is happening because in case <code>UNKNOWN</code> value has a different type.</p>\n<pre><code>public static void main(String[] args) {\n    for (Status value : Status.values()) {\n            System.out.println(&quot;class = &quot; + value.getClass() + &quot;, value = &quot; + value);\n        }\n}\n</code></pre>\n<p>and I got the results looks like the following:</p>\n<pre><code>class = class com.test.Status, value = online\nclass = class com.test.Status$2, value = del\nclass = class com.test.Status, value = offline\n</code></pre>\n<p>My main method for serializing the User POJO:</p>\n<pre><code>public static void main(String[] args) {\n    Gson gson = new GsonBuilder()\n                .registerTypeAdapter(Status.class, new GsonStatusEnumDeserializer())\n                .registerTypeAdapter(Status.class, new GsonStatusEnumSerializer())\n                .create();\n    User user = new User();\n    user.name = &quot;John&quot;;\n    user.status = Status.UNKNOWN;\n    \n    String json = gson.toJson(user);\n    User user1 = gson.fromJson(json, User.class);\n}\n</code></pre>\n<p>and I get an exception:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: Unknown process type: UNKNOWN\n    at com.test.Status.typeOf(Status.java:97)\n    at com.test.GsonStatusEnumDeserializer.deserialize(GsonStatusEnumDeserializer.java:22)\n    at com.test.GsonStatusEnumDeserializer.deserialize(GsonStatusEnumDeserializer.java:16)\n</code></pre>\n<p>How can I serialize/deserialize it by Gson?</p>\n"},{"tags":["java","spring-boot"],"owner":{"account_id":25600348,"reputation":11,"user_id":19375457,"display_name":"Pankaj kumar Verma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1693157743,"creation_date":1693157743,"question_id":76988259,"body_markdown":"Facing the mentioned issue and unable to connect to aerospike:\r\n\r\n\r\n```\r\n[2m2023-08-27 21:33:53.913[0;39m [32m INFO[0;39m [35m13487[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.s.aop.framework.CglibAopProxy         [0;39m [2m:[0;39m Unable to proxy interface-implementing method [public final com.aerospike.client.policy.Policy com.aerospike.client.AerospikeClient.getReadPolicyDefault()] because it is marked as final: Consider using interface-based JDK proxies instead!\r\n[2m2023-08-27 21:33:53.913[0;39m [32m INFO[0;39m [35m13487[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.s.aop.framework.CglibAopProxy         [0;39m [2m:[0;39m Unable to proxy interface-implementing method [public final com.aerospike.client.policy.WritePolicy com.aerospike.client.AerospikeClient.getWritePolicyDefault()] because it is marked as final: Consider using interface-based JDK proxies instead!\r\n[2m2023-08-27 21:33:53.918[0;39m [32m INFO[0;39m [35m13487[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.s.aop.framework.CglibAopProxy         [0;39m [2m:[0;39m Unable to proxy interface-implementing method [public final boolean com.aerospike.client.AerospikeClient.isConnected()] because it is marked as final: Consider using interface-based JDK proxies instead!\r\n[2m2023-08-27 21:33:53.918[0;39m [32m INFO[0;39m [35m13487[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.s.aop.framework.CglibAopProxy         [0;39m [2m:[0;39m Unable to proxy interface-implementing method [public final void com.aerospike.client.AerospikeClient.prepend(com.aerospike.client.policy.WritePolicy,com.aerospike.client.Key,com.aerospike.client.Bin[]) throws com.aerospike.client.AerospikeException] because it is marked as final: Consider using interface-based JDK proxies instead!\r\n[2m2023-08-27 21:33:53.918[0;39m [32m INFO[0;39m [35m13487[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.s.aop.framework.CglibAopProxy         [0;39m [2m:[0;39m Unable to proxy interface-implementing method [public final void com.aerospike.client.AerospikeClient.prepend(com.aerospike.client.async.EventLoop,com.aerospike.client.listener.WriteListener,com.aerospike.client.policy.WritePolicy,com.aerospike.client.Key,com.aerospike.client.Bin[]) throws com.aerospike.client.AerospikeException] because it is marked as final: Consider using interface-based JDK proxies instead!\r\n[2m2023-08-27 21:33:53.918[0;39m [32m INFO[0;39m [35m13487[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.s.aop.framework.CglibAopProxy         [0;39m [2m:[0;39m Unable to proxy interface-implementing method [public final void com.aerospike.client.AerospikeClient.add(com.aerospike.client.async.EventLoop,com.aerospike.client.listener.WriteListener,com.aerospike.client.policy.WritePolicy,com.aerospike.client.Key,com.aerospike.client.Bin[]) throws com.aerospike.client.AerospikeException] because it is marked as final: Consider using interface-based JDK proxies instead!\r\n[2m2023-08-27 21:33:53.918[0;39m [32m INFO[0;39m [35m13487[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.s.aop.framework.CglibAopProxy         [0;39m [2m:[0;39m Unable to proxy interface-implementing method [public final void com.aerospike.client.AerospikeClient.add(com.aerospike.client.policy.WritePolicy,com.aerospike.client.Key,com.aerospike.client.Bin[]) throws com.aerospike.client.AerospikeException] because it is marked as final: Consider using interface-based JDK proxies instead!\r\n[2m2023-08-27 21:33:53.918[0;39m [32m INFO[0;39m [35m13487[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.s.aop.framework.CglibAopProxy         [0;39m [2m:[0;39m Unable to proxy interface-implementing method [public final void com.aerospike.client.AerospikeClient.get(com.aerospike.client.async.EventLoop,com.aerospike.client.listener.RecordListener,com.aerospike.client.policy.Policy,com.aerospike.client.Key) throws com.aerospike.client.AerospikeException] because it is marked as final: Consider using interface-based JDK proxies instead!\r\n[2m2023-08-27 21:33:53.918[0;39m [32m INFO[0;39m [35m13487[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.s.aop.framework.CglibAopProxy         [0;39m [2m:[0;39m Unable to proxy interface-implementing method [public final com.aerospike.client.Record com.aerospike.client.AerospikeClient.get(com.aerospike.client.policy.Policy,com.aerospike.client.Key,java.lang.String[]) throws com.aerospike.client.AerospikeException] because it is marked as final: Consider using interface-based JDK proxies instead!\r\n[2m2023-08-27 21:33:53.918[0;39m [32m INFO[0;39m [35m13487[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.s.aop.framework.CglibAopProxy         [0;39m [2m:[0;39m Unable to proxy interface-implementing method [public final void com.aerospike.client.AerospikeClient.get(com.aerospike.client.async.EventLoop,com.aerospike.client.listener.RecordListener,com.aerospike.client.policy.Policy,com.aerospike.client.Key,java.lang.String[]) throws com.aerospike.client.AerospikeException] because it is marked as final: Consider using interface-based JDK proxies instead!\r\n[2m2023-08-27 21:33:53.918[0;39m [32m INFO[0;39m [35m13487[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.s.aop.framework.CglibAopProxy         [0;39m [2m:[0;39m Unable to proxy interface-implementing method [public final com.aerospike.client.Record com.aerospike.client.AerospikeClient.get(com.aerospike.client.policy.Policy,com.aerospike.client.Key) throws com.aerospike.client.AerospikeException] because it is marked as final: Consider using interface-based JDK proxies instead!\r\n[2m2023-08-27 21:33:53.918[0;39m [32m INFO[0;39m [35m13487[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.s.aop.framework.CglibAopProxy         [0;39m [2m:[0;39m Unable to proxy interface-implementing method [public final com.aerospike.client.Record[] com.aerospike.client.AerospikeClient.get(com.aerospike.client.policy.BatchPolicy,com.aerospike.client.Key[],java.lang.String[]) throws com.aerospike.client.AerospikeException] because it is marked as final: Consider using interface-based JDK proxies instead!\r\n[2m2023-08-27 21:33:53.918[0;39m [32m INFO[0;39m [35m13487[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.s.aop.framework.CglibAopProxy         [0;39m [2m:[0;39m Unable to proxy interface-implementing method [public final void com.aerospike.client.AerospikeClient.get(com.aerospike.client.policy.BatchPolicy,java.util.List) throws com.aerospike.client.AerospikeException] because it is marked as final: Consider using interface-based JDK proxies instead!\r\n[2m2023-08-27 21:33:53.918[0;39m [32m INFO[0;39m [35m13487[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.s.aop.framework.CglibAopProxy         [0;39m [2m:[0;39m Unable to proxy interface-implementing method [public final void com.aerospike.client.AerospikeClient.get(com.aerospike.client.async.EventLoop,com.aerospike.client.listener.BatchListListener,com.aerospike.client.policy.BatchPolicy,java.util.List) throws com.aerospike.client.AerospikeException] because it is marked as final: Consider using interface-based JDK proxies instead!\r\n[2m2023-08-27 21:33:53.918[0;39m [32m INFO[0;39m [35m13487[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.s.aop.framework.CglibAopProxy         [0;39m [2m:[0;39m Unable to proxy interface-implementing method [public final com.aerospike.client.Record[] com.aerospike.client.AerospikeClient.get(com.aerospike.client.policy.BatchPolicy,com.aerospike.client.Key[]) throws com.aerospike.client.AerospikeException] because it is marked as final: Consider using interface-based JDK proxies instead!\r\n[2m2023-08-27 21:33:53.919[0;39m [32m INFO[0;39m [35m13487[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.s.aop.framework.CglibAopProxy         [0;39m [2m:[0;39m Unable to proxy interface-implementing method [public final void com.aerospike.client.AerospikeClient.get(com.aerospike.client.async.EventLoop,com.aerospike.client.listener.BatchSequenceListener,com.aerospike.client.policy.BatchPolicy,java.util.List) throws com.aerospike.client.AerospikeException] because it is marked as final: Consider using interface-based JDK proxies instead!\r\n[2m2023-08-27 21:33:53.919[0;39m [32m INFO[0;39m [35m13487[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.s.aop.framework.CglibAopProxy         [0;39m [2m:[0;39m Unable to proxy interface-implementing method [public final void com.aerospike.client.AerospikeClient.get(com.aerospike.client.async.EventLoop,com.aerospike.client.listener.RecordSequenceListener,com.aerospike.client.policy.BatchPolicy,com.aerospike.client.Key[]) throws com.aerospike.client.AerospikeException] because it is marked as final: Consider using interface-based JDK proxies instead!\r\n[2m2023-08-27 21:33:53.919[0;39m [32m INFO[0;39m [35m13487[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.s.aop.framework.CglibAopProxy         [0;39m [2m:[0;39m Unable to proxy interface-implementing method [public final void com.aerospike.client.AerospikeClient.get(com.aerospike.client.async.EventLoop,com.aerospike.client.listener.RecordArrayListener,com.aerospike.client.policy.BatchPolicy,com.aerospike.client.Key[]) throws com.aerospike.client.AerospikeException] because it is marked as final: Consider using interface-based JDK proxies instead!\r\n[2m2023-08-27 21:33:53.919[0;39m [32m INFO[0;39m [35m13487[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.s.aop.framework.CglibAopProxy         [0;39m [2m:[0;39m Unable to proxy interface-implementing method [public final void com.aerospike.client.AerospikeClient.get(com.aerospike.client.async.EventLoop,com.aerospike.client.listener.RecordArrayListener,com.aerospike.client.policy.BatchPolicy,com.aerospike.client.Key[],java.lang.String[]) throws com.aerospike.client.AerospikeException] because it is marked as final: Consider using interface-based JDK proxies instead!\r\n[2m2023-08-27 21:33:53.919[0;39m [32m INFO[0;39m [35m13487[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.s.aop.framework.CglibAopProxy         [0;39m [2m:[0;39m Unable to proxy interface-implementing method [public final void com.aerospike.client.AerospikeClient.get(com.aerospike.client.async.EventLoop,com.aerospike.client.listener.RecordSequenceListener,com.aerospike.client.policy.BatchPolicy,com.aerospike.client.Key[],java.lang.String[]) throws com.aerospike.client.AerospikeException] because it is marked as final: Consider using interface-based JDK proxies instead!\r\n[2m2023-08-27 21:33:53.919[0;39m [32m INFO[0;39m [35m13487[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.s.aop.framework.CglibAopProxy         [0;39m [2m:[0;39m Unable to proxy interface-implementing method [public final void com.aerospike.client.AerospikeClient.put(com.aerospike.client.policy.WritePolicy,com.aerospike.client.Key,com.aerospike.client.Bin[]) throws com.aerospike.client.AerospikeException] because it is marked as final: Consider using interface-based JDK proxies instead!\r\n[2m2023-08-27 21:33:53.919[0;39m [32m INFO[0;39m [35m13487[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.s.aop.framework.CglibAopProxy         [0;39m [2m:[0;39m Unable to proxy interface-implementing method [public final void com.aerospike.client.AerospikeClient.put(com.aerospike.client.async.EventLoop,com.aerospike.client.listener.WriteListener,com.aerospike.client.policy.WritePolicy,com.aerospike.client.Key,com.aerospike.client.Bin[]) throws com.aerospike.client.AerospikeException] because it is marked as final: Consider using interface-based JDK proxies instead!\r\n[2m2023-08-27 21:33:53.919[0;39m [32m INFO[0;39m [35m13487[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.s.aop.framework.CglibAopProxy         [0;39m [2m:[0;39m Unable to proxy interface-implementing method [public final void com.aerospike.client.AerospikeClient.append(com.aerospike.client.policy.WritePolicy,com.aerospike.client.Key,com.aerospike.client.Bin[]) throws com.aerospike.client.AerospikeException] because it is marked as final: Consider using interface-based JDK proxies instead!\r\n[2m2023-08-27 21:33:53.919[0;39m [32m INFO[0;39m [35m13487[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.s.aop.framework.CglibAopProxy         [0;39m [2m:[0;39m Unable to proxy interface-implementing method [public final void com.aerospike.client.AerospikeClient.append(com.aerospike.client.async.EventLoop,com.aerospike.client.listener.WriteListener,com.aerospike.client.policy.WritePolicy,com.aerospike.client.Key,com.aerospike.client.Bin[]) throws com.aerospike.client.AerospikeException] because it is marked as final: Consider using interface-based JDK proxies instead!\r\n[2m2023-08-27 21:33:53.919[0;39m [32m INFO[0;39m [35m13487[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.s.aop.framework.CglibAopProxy         [0;39m [2m:[0;39m Unable to proxy interface-implementing method [public final com.aerospike.client.task.RegisterTask com.aerospike.client.AerospikeClient.register(com.aerospike.client.policy.Policy,java.lang.String,java.lang.String,com.aerospike.client.Language) throws com.aerospike.client.AerospikeException] because it is marked as final: Consider using interface-based JDK proxies instead!\r\n[2m2023-08-27 21:33:53.919[0;39m [32m INFO[0;39m [35m13487[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.s.aop.framework.CglibAopProxy         [0;39m [2m:[0;39m Unable to proxy interface-implementing method [public final com.aerospike.client.task.RegisterTask com.aerospike.client.AerospikeClient.register(com.aerospike.client.policy.Policy,java.lang.ClassLoader,java.lang.String,java.lang.String,com.aerospike.client.Language) throws com.aerospike.client.AerospikeException] because it is marked as final: Consider using interface-based JDK proxies instead!\r\n[2m2023-08-27 21:33:53.919[0;39m [32m INFO[0;39m [35m13487[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.s.aop.framework.CglibAopProxy         [0;39m [2m:[0;39m Unable to proxy interface-implementing method [public final java.lang.Object com.aerospike.client.AerospikeClient.execute(com.aerospike.client.policy.WritePolicy,com.aerospike.client.Key,java.lang.String,java.lang.String,com.aerospike.client.Value[]) throws com.aerospike.client.AerospikeException] because it is marked as final: Consider using interface-based JDK proxies instead!\r\n[2m2023-08-27 21:33:53.919[0;39m [32m INFO[0;39m [35m13487[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.s.aop.framework.CglibAopProxy         [0;39m [2m:[0;39m Unable to proxy interface-implementing method [public final com.aerospike.client.task.ExecuteTask com.aerospike.client.AerospikeClient.execute(com.aerospike.client.policy.WritePolicy,com.aerospike.client.query.Statement,java.lang.String,java.lang.String,com.aerospike.client.Value[]) throws com.aerospike.client.AerospikeException] because it is marked as final: Consider using interface-based JDK proxies instead!\r\n[2m2023-08-27 21:33:53.919[0;39m [32m INFO[0;39m [35m13487[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.s.aop.framework.CglibAopProxy         [0;39m [2m:[0;39m Unable to proxy interface-implementing method [public final com.aerospike.client.task.ExecuteTask com.aerospike.client.AerospikeClient.execute(com.aerospike.client.policy.WritePolicy,com.aerospike.client.query.Statement,com.aerospike.client.Operation[]) throws com.aerospike.client.AerospikeException] because it is marked as final: Consider using interface-based JDK proxies instead!\r\n[2m2023-08-27 21:33:53.919[0;39m [32m INFO[0;39m [35m13487[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.s.aop.framework.CglibAopProxy         [0;39m [2m:[0;39m Unable to proxy interface-implementing method [public final void com.aerospike.client.AerospikeClient.execute(com.aerospike.client.async.EventLoop,com.aerospike.client.listener.ExecuteListener,com.aerospike.client.policy.WritePolicy,com.aerospike.client.Key,java.lang.String,java.lang.String,com.aerospike.client.Value[]) throws com.aerospike.client.AerospikeException] because it is marked as final: Consider using interface-based JDK proxies instead!\r\n[2m2023-08-27 21:33:53.919[0;39m [32m INFO[0;39m [35m13487[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.s.aop.framework.CglibAopProxy         [0;39m [2m:[0;39m Unable to proxy interface-implementing method [public final void com.aerospike.client.AerospikeClient.delete(com.aerospike.client.async.EventLoop,com.aerospike.client.listener.DeleteListener,com.aerospike.client.policy.WritePolicy,com.aerospike.client.Key) throws com.aerospike.client.AerospikeException] because it is marked as final: Consider using interface-based JDK proxies instead!\r\n[2m2023-08-27 21:33:53.919[0;39m [32m INFO[0;39m [35m13487[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.s.aop.framework.CglibAopProxy         [0;39m [2m:[0;39m Unable to proxy interface-implementing method [public final boolean com.aerospike.client.AerospikeClient.delete(com.aerospike.client.policy.WritePolicy,com.aerospike.client.Key) throws com.aerospike.client.AerospikeException] because it is marked as final: Consider using interface-based JDK proxies instead!\r\n[2m2023-08-27 21:33:53.919[0;39m [32m INFO[0;39m [35m13487[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.s.aop.framework.CglibAopProxy         [0;39m [2m:[0;39m Unable to proxy interface-implementing method [public final boolean com.aerospike.client.AerospikeClient.exists(com.aerospike.client.policy.Policy,com.aerospike.client.Key) throws com.aerospike.client.AerospikeException] because it is marked as final: Consider using interface-based JDK proxies instead!\r\n[2m2023-08-27 21:33:53.919[0;39m [32m INFO[0;39m [35m13487[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.s.aop.framework.CglibAopProxy         [0;39m [2m:[0;39m Unable to proxy interface-implementing method [public final void com.aerospike.client.AerospikeClient.exists(com.aerospike.client.async.EventLoop,com.aerospike.client.listener.ExistsListener,com.aerospike.client.policy.Policy,com.aerospike.client.Key) throws com.aerospike.client.AerospikeException] because it is marked as final: Consider using interface-based JDK proxies instead!\r\n[2m2023-08-27 21:33:53.920[0;39m [32m INFO[0;39m [35m13487[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.s.aop.framework.CglibAopProxy         [0;39m [2m:[0;39m Unable to proxy interface-implementing method [public final boolean[] com.aerospike.client.AerospikeClient.exists(com.aerospike.client.policy.BatchPolicy,com.aerospike.client.Key[]) throws com.aerospike.client.AerospikeException] because it is marked as final: Consider using interface-based JDK proxies instead!\r\n[2m2023-08-27 21:33:53.920[0;39m [32m INFO[0;39m [35m13487[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.s.aop.framework.CglibAopProxy         [0;39m [2m:[0;39m Unable to proxy interface-implementing method [public final void com.aerospike.client.AerospikeClient.exists(com.aerospike.client.async.EventLoop,com.aerospike.client.listener.ExistsArrayListener,com.aerospike.client.policy.BatchPolicy,com.aerospike.client.Key[]) throws com.aerospike.client.AerospikeException] because it is marked as final: Consider using interface-based JDK proxies instead!\r\n[2m2023-08-27 21:33:53.920[0;39m [32m INFO[0;39m [35m13487[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.s.aop.framework.CglibAopProxy         [0;39m [2m:[0;39m Unable to proxy interface-implementing method [public final void com.aerospike.client.AerospikeClient.exists(com.aerospike.client.async.EventLoop,com.aerospike.client.listener.ExistsSequenceListener,com.aerospike.client.policy.BatchPolicy,com.aerospike.client.Key[]) throws com.aerospike.client.AerospikeException] because it is marked as final: Consider using interface-based JDK proxies instead!\r\n[2m2023-08-27 21:33:53.920[0;39m [32m INFO[0;39m [35m13487[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.s.aop.framework.CglibAopProxy         [0;39m [2m:[0;39m Unable to proxy interface-implementing method [public final void com.aerospike.client.AerospikeClient.query(com.aerospike.client.async.EventLoop,com.aerospike.client.listener.RecordSequenceListener,com.aerospike.client.policy.QueryPolicy,com.aerospike.client.query.Statement) throws com.aerospike.client.AerospikeException] because it is marked as final: Consider using interface-based JDK proxies instead!\r\n[2m2023-08-27 21:33:53.920[0;39m [32m INFO[0;39m [35m13487[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.s.aop.framework.CglibAopProxy         [0;39m [2m:[0;39m Unable to proxy interface-implementing method [public final com.aerospike.client.query.RecordSet com.aerospike.client.AerospikeClient.query(com.aerospike.client.policy.QueryPolicy,com.aerospike.client.query.Statement) throws com.aerospike.client.AerospikeException] because it is marked as final: Consider using interface-based JDK proxies instead!\r\n[2m2023-08-27 21:33:53.920[0;39m [32m INFO[0;39m [35m13487[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.s.aop.framework.CglibAopProxy         [0;39m [2m:[0;39m Unable to proxy interface-implementing method [public final void com.aerospike.client.AerospikeClient.truncate(com.aerospike.client.policy.InfoPolicy,java.lang.String,java.lang.String,java.util.Calendar) throws com.aerospike.client.AerospikeException] because it is marked as final: Consider using interface-based JDK proxies instead!\r\n[2m2023-08-27 21:33:53.920[0;39m [32m INFO[0;39m [35m13487[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.s.aop.framework.CglibAopProxy         [0;39m [2m:[0;39m Unable to proxy interface-implementing method [public final com.aerospike.client.cluster.Node com.aerospike.client.AerospikeClient.getNode(java.lang.String) throws com.aerospike.client.AerospikeException$InvalidNode] because it is marked as final: Consider using interface-based JDK proxies instead!\r\n```\r\n\r\n\r\nIm getting this warning msg while running the service and because of the same, not able to connect to aerospike.\r\n\r\nNote: Getting this issue, when im creating a bean of &#39;AerospikeClient&#39; with @RefreshScope as:\r\n\r\n```\r\n        @Bean\r\n\t@RefreshScope\r\n\tAerospikeClient aerospikeClient() {\r\n\t\tSystem.out.println(&quot;AerospikeBeanInit&quot;);\r\n\t\tList&lt;Host&gt; hostList = null;\r\n\t\tif(aerospikeHostList.contains(&quot;,&quot;)) {\r\n\t\t\thostList = new ArrayList&lt;&gt;();\r\n\t\t\tString[] hostNames = aerospikeHostList.split(&quot;,&quot;);\r\n\t\t\tfor(String hostName : hostNames) {\r\n\t\t\t\tHost host = new Host(hostName, aerospikePort);\r\n\t\t\t\thostList.add(host);\r\n\t\t\t}\r\n\t\t}\r\n\t\tif(CollectionUtils.isNotEmpty(hostList)) {\r\n\t\t\tHost[] hostArray = new Host[hostList.size()];\r\n\t\t\treturn new AerospikeClient(clientPolicy, hostList.toArray(hostArray));\r\n\t\t}\r\n\t\treturn new AerospikeClient(clientPolicy, aerospikeHostList, aerospikePort);\r\n\t}\r\n```\r\n\r\n**Help me resolve this issue as I want to use the annotation @RefreshScope on the same**\r\n\r\n\r\n**Help me resolve this issue as I want to use the annotation @RefreshScope on the same**","title":"Unable to proxy interface-implementing method | Unable to call Aerospike | Spring Boot","body":"<p>Facing the mentioned issue and unable to connect to aerospike:</p>\n<pre><code>[2m2023-08-27 21:33:53.913[0;39m [32m INFO[0;39m [35m13487[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.s.aop.framework.CglibAopProxy         [0;39m [2m:[0;39m Unable to proxy interface-implementing method [public final com.aerospike.client.policy.Policy com.aerospike.client.AerospikeClient.getReadPolicyDefault()] because it is marked as final: Consider using interface-based JDK proxies instead!\n[2m2023-08-27 21:33:53.913[0;39m [32m INFO[0;39m [35m13487[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.s.aop.framework.CglibAopProxy         [0;39m [2m:[0;39m Unable to proxy interface-implementing method [public final com.aerospike.client.policy.WritePolicy com.aerospike.client.AerospikeClient.getWritePolicyDefault()] because it is marked as final: Consider using interface-based JDK proxies instead!\n[2m2023-08-27 21:33:53.918[0;39m [32m INFO[0;39m [35m13487[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.s.aop.framework.CglibAopProxy         [0;39m [2m:[0;39m Unable to proxy interface-implementing method [public final boolean com.aerospike.client.AerospikeClient.isConnected()] because it is marked as final: Consider using interface-based JDK proxies instead!\n[2m2023-08-27 21:33:53.918[0;39m [32m INFO[0;39m [35m13487[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.s.aop.framework.CglibAopProxy         [0;39m [2m:[0;39m Unable to proxy interface-implementing method [public final void com.aerospike.client.AerospikeClient.prepend(com.aerospike.client.policy.WritePolicy,com.aerospike.client.Key,com.aerospike.client.Bin[]) throws com.aerospike.client.AerospikeException] because it is marked as final: Consider using interface-based JDK proxies instead!\n[2m2023-08-27 21:33:53.918[0;39m [32m INFO[0;39m [35m13487[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.s.aop.framework.CglibAopProxy         [0;39m [2m:[0;39m Unable to proxy interface-implementing method [public final void com.aerospike.client.AerospikeClient.prepend(com.aerospike.client.async.EventLoop,com.aerospike.client.listener.WriteListener,com.aerospike.client.policy.WritePolicy,com.aerospike.client.Key,com.aerospike.client.Bin[]) throws com.aerospike.client.AerospikeException] because it is marked as final: Consider using interface-based JDK proxies instead!\n[2m2023-08-27 21:33:53.918[0;39m [32m INFO[0;39m [35m13487[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.s.aop.framework.CglibAopProxy         [0;39m [2m:[0;39m Unable to proxy interface-implementing method [public final void com.aerospike.client.AerospikeClient.add(com.aerospike.client.async.EventLoop,com.aerospike.client.listener.WriteListener,com.aerospike.client.policy.WritePolicy,com.aerospike.client.Key,com.aerospike.client.Bin[]) throws com.aerospike.client.AerospikeException] because it is marked as final: Consider using interface-based JDK proxies instead!\n[2m2023-08-27 21:33:53.918[0;39m [32m INFO[0;39m [35m13487[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.s.aop.framework.CglibAopProxy         [0;39m [2m:[0;39m Unable to proxy interface-implementing method [public final void com.aerospike.client.AerospikeClient.add(com.aerospike.client.policy.WritePolicy,com.aerospike.client.Key,com.aerospike.client.Bin[]) throws com.aerospike.client.AerospikeException] because it is marked as final: Consider using interface-based JDK proxies instead!\n[2m2023-08-27 21:33:53.918[0;39m [32m INFO[0;39m [35m13487[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.s.aop.framework.CglibAopProxy         [0;39m [2m:[0;39m Unable to proxy interface-implementing method [public final void com.aerospike.client.AerospikeClient.get(com.aerospike.client.async.EventLoop,com.aerospike.client.listener.RecordListener,com.aerospike.client.policy.Policy,com.aerospike.client.Key) throws com.aerospike.client.AerospikeException] because it is marked as final: Consider using interface-based JDK proxies instead!\n[2m2023-08-27 21:33:53.918[0;39m [32m INFO[0;39m [35m13487[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.s.aop.framework.CglibAopProxy         [0;39m [2m:[0;39m Unable to proxy interface-implementing method [public final com.aerospike.client.Record com.aerospike.client.AerospikeClient.get(com.aerospike.client.policy.Policy,com.aerospike.client.Key,java.lang.String[]) throws com.aerospike.client.AerospikeException] because it is marked as final: Consider using interface-based JDK proxies instead!\n[2m2023-08-27 21:33:53.918[0;39m [32m INFO[0;39m [35m13487[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.s.aop.framework.CglibAopProxy         [0;39m [2m:[0;39m Unable to proxy interface-implementing method [public final void com.aerospike.client.AerospikeClient.get(com.aerospike.client.async.EventLoop,com.aerospike.client.listener.RecordListener,com.aerospike.client.policy.Policy,com.aerospike.client.Key,java.lang.String[]) throws com.aerospike.client.AerospikeException] because it is marked as final: Consider using interface-based JDK proxies instead!\n[2m2023-08-27 21:33:53.918[0;39m [32m INFO[0;39m [35m13487[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.s.aop.framework.CglibAopProxy         [0;39m [2m:[0;39m Unable to proxy interface-implementing method [public final com.aerospike.client.Record com.aerospike.client.AerospikeClient.get(com.aerospike.client.policy.Policy,com.aerospike.client.Key) throws com.aerospike.client.AerospikeException] because it is marked as final: Consider using interface-based JDK proxies instead!\n[2m2023-08-27 21:33:53.918[0;39m [32m INFO[0;39m [35m13487[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.s.aop.framework.CglibAopProxy         [0;39m [2m:[0;39m Unable to proxy interface-implementing method [public final com.aerospike.client.Record[] com.aerospike.client.AerospikeClient.get(com.aerospike.client.policy.BatchPolicy,com.aerospike.client.Key[],java.lang.String[]) throws com.aerospike.client.AerospikeException] because it is marked as final: Consider using interface-based JDK proxies instead!\n[2m2023-08-27 21:33:53.918[0;39m [32m INFO[0;39m [35m13487[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.s.aop.framework.CglibAopProxy         [0;39m [2m:[0;39m Unable to proxy interface-implementing method [public final void com.aerospike.client.AerospikeClient.get(com.aerospike.client.policy.BatchPolicy,java.util.List) throws com.aerospike.client.AerospikeException] because it is marked as final: Consider using interface-based JDK proxies instead!\n[2m2023-08-27 21:33:53.918[0;39m [32m INFO[0;39m [35m13487[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.s.aop.framework.CglibAopProxy         [0;39m [2m:[0;39m Unable to proxy interface-implementing method [public final void com.aerospike.client.AerospikeClient.get(com.aerospike.client.async.EventLoop,com.aerospike.client.listener.BatchListListener,com.aerospike.client.policy.BatchPolicy,java.util.List) throws com.aerospike.client.AerospikeException] because it is marked as final: Consider using interface-based JDK proxies instead!\n[2m2023-08-27 21:33:53.918[0;39m [32m INFO[0;39m [35m13487[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.s.aop.framework.CglibAopProxy         [0;39m [2m:[0;39m Unable to proxy interface-implementing method [public final com.aerospike.client.Record[] com.aerospike.client.AerospikeClient.get(com.aerospike.client.policy.BatchPolicy,com.aerospike.client.Key[]) throws com.aerospike.client.AerospikeException] because it is marked as final: Consider using interface-based JDK proxies instead!\n[2m2023-08-27 21:33:53.919[0;39m [32m INFO[0;39m [35m13487[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.s.aop.framework.CglibAopProxy         [0;39m [2m:[0;39m Unable to proxy interface-implementing method [public final void com.aerospike.client.AerospikeClient.get(com.aerospike.client.async.EventLoop,com.aerospike.client.listener.BatchSequenceListener,com.aerospike.client.policy.BatchPolicy,java.util.List) throws com.aerospike.client.AerospikeException] because it is marked as final: Consider using interface-based JDK proxies instead!\n[2m2023-08-27 21:33:53.919[0;39m [32m INFO[0;39m [35m13487[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.s.aop.framework.CglibAopProxy         [0;39m [2m:[0;39m Unable to proxy interface-implementing method [public final void com.aerospike.client.AerospikeClient.get(com.aerospike.client.async.EventLoop,com.aerospike.client.listener.RecordSequenceListener,com.aerospike.client.policy.BatchPolicy,com.aerospike.client.Key[]) throws com.aerospike.client.AerospikeException] because it is marked as final: Consider using interface-based JDK proxies instead!\n[2m2023-08-27 21:33:53.919[0;39m [32m INFO[0;39m [35m13487[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.s.aop.framework.CglibAopProxy         [0;39m [2m:[0;39m Unable to proxy interface-implementing method [public final void com.aerospike.client.AerospikeClient.get(com.aerospike.client.async.EventLoop,com.aerospike.client.listener.RecordArrayListener,com.aerospike.client.policy.BatchPolicy,com.aerospike.client.Key[]) throws com.aerospike.client.AerospikeException] because it is marked as final: Consider using interface-based JDK proxies instead!\n[2m2023-08-27 21:33:53.919[0;39m [32m INFO[0;39m [35m13487[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.s.aop.framework.CglibAopProxy         [0;39m [2m:[0;39m Unable to proxy interface-implementing method [public final void com.aerospike.client.AerospikeClient.get(com.aerospike.client.async.EventLoop,com.aerospike.client.listener.RecordArrayListener,com.aerospike.client.policy.BatchPolicy,com.aerospike.client.Key[],java.lang.String[]) throws com.aerospike.client.AerospikeException] because it is marked as final: Consider using interface-based JDK proxies instead!\n[2m2023-08-27 21:33:53.919[0;39m [32m INFO[0;39m [35m13487[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.s.aop.framework.CglibAopProxy         [0;39m [2m:[0;39m Unable to proxy interface-implementing method [public final void com.aerospike.client.AerospikeClient.get(com.aerospike.client.async.EventLoop,com.aerospike.client.listener.RecordSequenceListener,com.aerospike.client.policy.BatchPolicy,com.aerospike.client.Key[],java.lang.String[]) throws com.aerospike.client.AerospikeException] because it is marked as final: Consider using interface-based JDK proxies instead!\n[2m2023-08-27 21:33:53.919[0;39m [32m INFO[0;39m [35m13487[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.s.aop.framework.CglibAopProxy         [0;39m [2m:[0;39m Unable to proxy interface-implementing method [public final void com.aerospike.client.AerospikeClient.put(com.aerospike.client.policy.WritePolicy,com.aerospike.client.Key,com.aerospike.client.Bin[]) throws com.aerospike.client.AerospikeException] because it is marked as final: Consider using interface-based JDK proxies instead!\n[2m2023-08-27 21:33:53.919[0;39m [32m INFO[0;39m [35m13487[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.s.aop.framework.CglibAopProxy         [0;39m [2m:[0;39m Unable to proxy interface-implementing method [public final void com.aerospike.client.AerospikeClient.put(com.aerospike.client.async.EventLoop,com.aerospike.client.listener.WriteListener,com.aerospike.client.policy.WritePolicy,com.aerospike.client.Key,com.aerospike.client.Bin[]) throws com.aerospike.client.AerospikeException] because it is marked as final: Consider using interface-based JDK proxies instead!\n[2m2023-08-27 21:33:53.919[0;39m [32m INFO[0;39m [35m13487[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.s.aop.framework.CglibAopProxy         [0;39m [2m:[0;39m Unable to proxy interface-implementing method [public final void com.aerospike.client.AerospikeClient.append(com.aerospike.client.policy.WritePolicy,com.aerospike.client.Key,com.aerospike.client.Bin[]) throws com.aerospike.client.AerospikeException] because it is marked as final: Consider using interface-based JDK proxies instead!\n[2m2023-08-27 21:33:53.919[0;39m [32m INFO[0;39m [35m13487[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.s.aop.framework.CglibAopProxy         [0;39m [2m:[0;39m Unable to proxy interface-implementing method [public final void com.aerospike.client.AerospikeClient.append(com.aerospike.client.async.EventLoop,com.aerospike.client.listener.WriteListener,com.aerospike.client.policy.WritePolicy,com.aerospike.client.Key,com.aerospike.client.Bin[]) throws com.aerospike.client.AerospikeException] because it is marked as final: Consider using interface-based JDK proxies instead!\n[2m2023-08-27 21:33:53.919[0;39m [32m INFO[0;39m [35m13487[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.s.aop.framework.CglibAopProxy         [0;39m [2m:[0;39m Unable to proxy interface-implementing method [public final com.aerospike.client.task.RegisterTask com.aerospike.client.AerospikeClient.register(com.aerospike.client.policy.Policy,java.lang.String,java.lang.String,com.aerospike.client.Language) throws com.aerospike.client.AerospikeException] because it is marked as final: Consider using interface-based JDK proxies instead!\n[2m2023-08-27 21:33:53.919[0;39m [32m INFO[0;39m [35m13487[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.s.aop.framework.CglibAopProxy         [0;39m [2m:[0;39m Unable to proxy interface-implementing method [public final com.aerospike.client.task.RegisterTask com.aerospike.client.AerospikeClient.register(com.aerospike.client.policy.Policy,java.lang.ClassLoader,java.lang.String,java.lang.String,com.aerospike.client.Language) throws com.aerospike.client.AerospikeException] because it is marked as final: Consider using interface-based JDK proxies instead!\n[2m2023-08-27 21:33:53.919[0;39m [32m INFO[0;39m [35m13487[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.s.aop.framework.CglibAopProxy         [0;39m [2m:[0;39m Unable to proxy interface-implementing method [public final java.lang.Object com.aerospike.client.AerospikeClient.execute(com.aerospike.client.policy.WritePolicy,com.aerospike.client.Key,java.lang.String,java.lang.String,com.aerospike.client.Value[]) throws com.aerospike.client.AerospikeException] because it is marked as final: Consider using interface-based JDK proxies instead!\n[2m2023-08-27 21:33:53.919[0;39m [32m INFO[0;39m [35m13487[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.s.aop.framework.CglibAopProxy         [0;39m [2m:[0;39m Unable to proxy interface-implementing method [public final com.aerospike.client.task.ExecuteTask com.aerospike.client.AerospikeClient.execute(com.aerospike.client.policy.WritePolicy,com.aerospike.client.query.Statement,java.lang.String,java.lang.String,com.aerospike.client.Value[]) throws com.aerospike.client.AerospikeException] because it is marked as final: Consider using interface-based JDK proxies instead!\n[2m2023-08-27 21:33:53.919[0;39m [32m INFO[0;39m [35m13487[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.s.aop.framework.CglibAopProxy         [0;39m [2m:[0;39m Unable to proxy interface-implementing method [public final com.aerospike.client.task.ExecuteTask com.aerospike.client.AerospikeClient.execute(com.aerospike.client.policy.WritePolicy,com.aerospike.client.query.Statement,com.aerospike.client.Operation[]) throws com.aerospike.client.AerospikeException] because it is marked as final: Consider using interface-based JDK proxies instead!\n[2m2023-08-27 21:33:53.919[0;39m [32m INFO[0;39m [35m13487[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.s.aop.framework.CglibAopProxy         [0;39m [2m:[0;39m Unable to proxy interface-implementing method [public final void com.aerospike.client.AerospikeClient.execute(com.aerospike.client.async.EventLoop,com.aerospike.client.listener.ExecuteListener,com.aerospike.client.policy.WritePolicy,com.aerospike.client.Key,java.lang.String,java.lang.String,com.aerospike.client.Value[]) throws com.aerospike.client.AerospikeException] because it is marked as final: Consider using interface-based JDK proxies instead!\n[2m2023-08-27 21:33:53.919[0;39m [32m INFO[0;39m [35m13487[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.s.aop.framework.CglibAopProxy         [0;39m [2m:[0;39m Unable to proxy interface-implementing method [public final void com.aerospike.client.AerospikeClient.delete(com.aerospike.client.async.EventLoop,com.aerospike.client.listener.DeleteListener,com.aerospike.client.policy.WritePolicy,com.aerospike.client.Key) throws com.aerospike.client.AerospikeException] because it is marked as final: Consider using interface-based JDK proxies instead!\n[2m2023-08-27 21:33:53.919[0;39m [32m INFO[0;39m [35m13487[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.s.aop.framework.CglibAopProxy         [0;39m [2m:[0;39m Unable to proxy interface-implementing method [public final boolean com.aerospike.client.AerospikeClient.delete(com.aerospike.client.policy.WritePolicy,com.aerospike.client.Key) throws com.aerospike.client.AerospikeException] because it is marked as final: Consider using interface-based JDK proxies instead!\n[2m2023-08-27 21:33:53.919[0;39m [32m INFO[0;39m [35m13487[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.s.aop.framework.CglibAopProxy         [0;39m [2m:[0;39m Unable to proxy interface-implementing method [public final boolean com.aerospike.client.AerospikeClient.exists(com.aerospike.client.policy.Policy,com.aerospike.client.Key) throws com.aerospike.client.AerospikeException] because it is marked as final: Consider using interface-based JDK proxies instead!\n[2m2023-08-27 21:33:53.919[0;39m [32m INFO[0;39m [35m13487[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.s.aop.framework.CglibAopProxy         [0;39m [2m:[0;39m Unable to proxy interface-implementing method [public final void com.aerospike.client.AerospikeClient.exists(com.aerospike.client.async.EventLoop,com.aerospike.client.listener.ExistsListener,com.aerospike.client.policy.Policy,com.aerospike.client.Key) throws com.aerospike.client.AerospikeException] because it is marked as final: Consider using interface-based JDK proxies instead!\n[2m2023-08-27 21:33:53.920[0;39m [32m INFO[0;39m [35m13487[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.s.aop.framework.CglibAopProxy         [0;39m [2m:[0;39m Unable to proxy interface-implementing method [public final boolean[] com.aerospike.client.AerospikeClient.exists(com.aerospike.client.policy.BatchPolicy,com.aerospike.client.Key[]) throws com.aerospike.client.AerospikeException] because it is marked as final: Consider using interface-based JDK proxies instead!\n[2m2023-08-27 21:33:53.920[0;39m [32m INFO[0;39m [35m13487[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.s.aop.framework.CglibAopProxy         [0;39m [2m:[0;39m Unable to proxy interface-implementing method [public final void com.aerospike.client.AerospikeClient.exists(com.aerospike.client.async.EventLoop,com.aerospike.client.listener.ExistsArrayListener,com.aerospike.client.policy.BatchPolicy,com.aerospike.client.Key[]) throws com.aerospike.client.AerospikeException] because it is marked as final: Consider using interface-based JDK proxies instead!\n[2m2023-08-27 21:33:53.920[0;39m [32m INFO[0;39m [35m13487[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.s.aop.framework.CglibAopProxy         [0;39m [2m:[0;39m Unable to proxy interface-implementing method [public final void com.aerospike.client.AerospikeClient.exists(com.aerospike.client.async.EventLoop,com.aerospike.client.listener.ExistsSequenceListener,com.aerospike.client.policy.BatchPolicy,com.aerospike.client.Key[]) throws com.aerospike.client.AerospikeException] because it is marked as final: Consider using interface-based JDK proxies instead!\n[2m2023-08-27 21:33:53.920[0;39m [32m INFO[0;39m [35m13487[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.s.aop.framework.CglibAopProxy         [0;39m [2m:[0;39m Unable to proxy interface-implementing method [public final void com.aerospike.client.AerospikeClient.query(com.aerospike.client.async.EventLoop,com.aerospike.client.listener.RecordSequenceListener,com.aerospike.client.policy.QueryPolicy,com.aerospike.client.query.Statement) throws com.aerospike.client.AerospikeException] because it is marked as final: Consider using interface-based JDK proxies instead!\n[2m2023-08-27 21:33:53.920[0;39m [32m INFO[0;39m [35m13487[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.s.aop.framework.CglibAopProxy         [0;39m [2m:[0;39m Unable to proxy interface-implementing method [public final com.aerospike.client.query.RecordSet com.aerospike.client.AerospikeClient.query(com.aerospike.client.policy.QueryPolicy,com.aerospike.client.query.Statement) throws com.aerospike.client.AerospikeException] because it is marked as final: Consider using interface-based JDK proxies instead!\n[2m2023-08-27 21:33:53.920[0;39m [32m INFO[0;39m [35m13487[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.s.aop.framework.CglibAopProxy         [0;39m [2m:[0;39m Unable to proxy interface-implementing method [public final void com.aerospike.client.AerospikeClient.truncate(com.aerospike.client.policy.InfoPolicy,java.lang.String,java.lang.String,java.util.Calendar) throws com.aerospike.client.AerospikeException] because it is marked as final: Consider using interface-based JDK proxies instead!\n[2m2023-08-27 21:33:53.920[0;39m [32m INFO[0;39m [35m13487[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.s.aop.framework.CglibAopProxy         [0;39m [2m:[0;39m Unable to proxy interface-implementing method [public final com.aerospike.client.cluster.Node com.aerospike.client.AerospikeClient.getNode(java.lang.String) throws com.aerospike.client.AerospikeException$InvalidNode] because it is marked as final: Consider using interface-based JDK proxies instead!\n</code></pre>\n<p>Im getting this warning msg while running the service and because of the same, not able to connect to aerospike.</p>\n<p>Note: Getting this issue, when im creating a bean of 'AerospikeClient' with @RefreshScope as:</p>\n<pre><code>        @Bean\n    @RefreshScope\n    AerospikeClient aerospikeClient() {\n        System.out.println(&quot;AerospikeBeanInit&quot;);\n        List&lt;Host&gt; hostList = null;\n        if(aerospikeHostList.contains(&quot;,&quot;)) {\n            hostList = new ArrayList&lt;&gt;();\n            String[] hostNames = aerospikeHostList.split(&quot;,&quot;);\n            for(String hostName : hostNames) {\n                Host host = new Host(hostName, aerospikePort);\n                hostList.add(host);\n            }\n        }\n        if(CollectionUtils.isNotEmpty(hostList)) {\n            Host[] hostArray = new Host[hostList.size()];\n            return new AerospikeClient(clientPolicy, hostList.toArray(hostArray));\n        }\n        return new AerospikeClient(clientPolicy, aerospikeHostList, aerospikePort);\n    }\n</code></pre>\n<p><strong>Help me resolve this issue as I want to use the annotation @RefreshScope on the same</strong></p>\n<p><strong>Help me resolve this issue as I want to use the annotation @RefreshScope on the same</strong></p>\n"},{"tags":["java","visual-studio-code","intellisense"],"comments":[{"owner":{"account_id":11089842,"reputation":313,"user_id":8142131,"display_name":"funky"},"score":0,"creation_date":1693091712,"post_id":76985123,"comment_id":135714739,"body_markdown":"You could just jump to the end of the line by pressing &quot;END&quot; on your keyboard. This way you can save yourself typing &quot;)&quot;.","body":"You could just jump to the end of the line by pressing &quot;END&quot; on your keyboard. This way you can save yourself typing &quot;)&quot;."},{"owner":{"account_id":27396490,"reputation":29,"user_id":20898597,"display_name":"SilianRail"},"score":0,"creation_date":1693092640,"post_id":76985123,"comment_id":135714795,"body_markdown":"@funky I am using a Mac so, I&#39;ll have to press Cmd+right arrow which again would disrupt the flow. Is there no fix to this?","body":"@funky I am using a Mac so, I&#39;ll have to press Cmd+right arrow which again would disrupt the flow. Is there no fix to this?"},{"owner":{"account_id":11089842,"reputation":313,"user_id":8142131,"display_name":"funky"},"score":0,"creation_date":1693092896,"post_id":76985123,"comment_id":135714811,"body_markdown":"I do not know about the &quot;double semicolon&quot;-thing but if the &quot;jump to the end&quot;-thingy might help you, you can always overwrite the default keybindings to find a button (or button combination) of your liking. File &gt; Preferences &gt; Keyboard Shortcuts","body":"I do not know about the &quot;double semicolon&quot;-thing but if the &quot;jump to the end&quot;-thingy might help you, you can always overwrite the default keybindings to find a button (or button combination) of your liking. File &gt; Preferences &gt; Keyboard Shortcuts"},{"owner":{"account_id":27396490,"reputation":29,"user_id":20898597,"display_name":"SilianRail"},"score":0,"creation_date":1693093081,"post_id":76985123,"comment_id":135714822,"body_markdown":"@funky yeah, that will work but I don&#39;t want to get into that bad habit since what if I type my code on a simple text editor.","body":"@funky yeah, that will work but I don&#39;t want to get into that bad habit since what if I type my code on a simple text editor."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1693093241,"post_id":76985123,"comment_id":135714827,"body_markdown":"You can create your own snippet that will move the cursor to _after_ the semicolon when pressing tab (at least, that&#39;s how it works on Windows). That makes it consistent with the behavior when filling in method arguments.","body":"You can create your own snippet that will move the cursor to <i>after</i> the semicolon when pressing tab (at least, that&#39;s how it works on Windows). That makes it consistent with the behavior when filling in method arguments."},{"owner":{"account_id":27396490,"reputation":29,"user_id":20898597,"display_name":"SilianRail"},"score":0,"creation_date":1693093879,"post_id":76985123,"comment_id":135714865,"body_markdown":"@Slaw Oh ok, I could try that","body":"@Slaw Oh ok, I could try that"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1693094146,"post_id":76985123,"comment_id":135714886,"body_markdown":"Making the body of the snippet `System.out.println($1);$2` worked for me.","body":"Making the body of the snippet <code>System.out.println($1);$2</code> worked for me."},{"owner":{"account_id":27396490,"reputation":29,"user_id":20898597,"display_name":"SilianRail"},"score":0,"creation_date":1693094838,"post_id":76985123,"comment_id":135714932,"body_markdown":"@Slaw you mean this is what you added on your .code_snippets file right?\nBecause this isn&#39;t working for me","body":"@Slaw you mean this is what you added on your .code_snippets file right? Because this isn&#39;t working for me"},{"owner":{"account_id":27396490,"reputation":29,"user_id":20898597,"display_name":"SilianRail"},"score":0,"creation_date":1693094891,"post_id":76985123,"comment_id":135714936,"body_markdown":"I&#39;ll have to figure out how to make snippets. Thanks for your help though!","body":"I&#39;ll have to figure out how to make snippets. Thanks for your help though!"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1693095220,"post_id":76985123,"comment_id":135714967,"body_markdown":"I brought up the command palette (Ctrl+P on Windows), typed in &quot;Snippets&quot;, chose &quot;Configure User Snippets&quot;, chose Java, and it opened a JSON file where you can add custom Java snippets. From the documentation in the file, it might be more appropriate to use `$0` instead of `$2`.","body":"I brought up the command palette (Ctrl+P on Windows), typed in &quot;Snippets&quot;, chose &quot;Configure User Snippets&quot;, chose Java, and it opened a JSON file where you can add custom Java snippets. From the documentation in the file, it might be more appropriate to use <code>$0</code> instead of <code>$2</code>."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1693147138,"post_id":76985123,"comment_id":135718724,"body_markdown":"@starball VS Code is obviously smart enough not to put an extra `)` when typed, why can&#39;t it be smart enough not to put an extra `;`?","body":"@starball VS Code is obviously smart enough not to put an extra <code>)</code> when typed, why can&#39;t it be smart enough not to put an extra <code>;</code>?"},{"owner":{"account_id":15396644,"reputation":25775,"user_id":11107541,"display_name":"starball"},"score":0,"creation_date":1693159096,"post_id":76985123,"comment_id":135720196,"body_markdown":"loosely related things: https://github.com/microsoft/vscode/issues/8154, https://github.com/microsoft/vscode/issues/64609, https://stackoverflow.com/a/68809808/11107541","body":"loosely related things: <a href=\"https://github.com/microsoft/vscode/issues/8154\" rel=\"nofollow noreferrer\">github.com/microsoft/vscode/issues/8154</a>, <a href=\"https://github.com/microsoft/vscode/issues/64609\" rel=\"nofollow noreferrer\">github.com/microsoft/vscode/issues/64609</a>, <a href=\"https://stackoverflow.com/a/68809808/11107541\">stackoverflow.com/a/68809808/11107541</a>"},{"owner":{"account_id":15396644,"reputation":25775,"user_id":11107541,"display_name":"starball"},"score":0,"creation_date":1693169139,"post_id":76985123,"comment_id":135721172,"body_markdown":"silian, I&#39;ve edited your title, but can you confirm whether or not it is still representative of your actual question? You seem to have rejected the workarounds people have proposed...","body":"silian, I&#39;ve edited your title, but can you confirm whether or not it is still representative of your actual question? You seem to have rejected the workarounds people have proposed..."},{"owner":{"account_id":27396490,"reputation":29,"user_id":20898597,"display_name":"SilianRail"},"score":0,"creation_date":1693170160,"post_id":76985123,"comment_id":135721274,"body_markdown":"@starball yes, Thanks for the edit, it better represents the question I asked.","body":"@starball yes, Thanks for the edit, it better represents the question I asked."},{"owner":{"account_id":27396490,"reputation":29,"user_id":20898597,"display_name":"SilianRail"},"score":0,"creation_date":1693171108,"post_id":76985123,"comment_id":135721353,"body_markdown":"@Slaw I implemented your method today and the Tab is working fine for me and I think that&#39;s a pretty good workaround. Thanks a lot! :)","body":"@Slaw I implemented your method today and the Tab is working fine for me and I think that&#39;s a pretty good workaround. Thanks a lot! :)"},{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1693204959,"post_id":76985123,"comment_id":135724159,"body_markdown":"If you find the solution, Please consider answering it and accepting it as an answer to change its status to Answered. It will also help others to solve a similar issue. See [can I answer my own question..](https://stackoverflow.com/help/self-answer), Just a reminder :)","body":"If you find the solution, Please consider answering it and accepting it as an answer to change its status to Answered. It will also help others to solve a similar issue. See <a href=\"https://stackoverflow.com/help/self-answer\">can I answer my own question..</a>, Just a reminder :)"}],"owner":{"account_id":27396490,"reputation":29,"user_id":20898597,"display_name":"SilianRail"},"comment_count":16,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1693157615,"creation_date":1693090173,"question_id":76985123,"body_markdown":"I recently started programming in Java and set up *vscode* for the purpose. I have already installed the extension packs required for Java.\r\n\r\n**The Problem**- whenever I type any command, say for example `sysout` and hit enter, vscode correctly generates `System.out.println(|);` with my cursor at the point where I have made the `|` symbol. Here, when I enter closing paranthesis, it is not actually entered and my cursor just moves forward. **Now**, when I enter `;`, I get two semicolons (semicolon is not ignored) ex.- `System.out.println();;`.\r\n\r\nIs there a way to fix this because it&#39;s really annoying me, particularly since when I am typing really fast, I have to stop and access my trackpad to move the cursor or either press the right arrow key which disrupts the whole flow.\r\n\r\nI tried looking online but couldn&#39;t really find any resource that solves this problem. \r\nAny Help would be greatly appreciated!","title":"How can I make VS Code skip over a semicolon added from a snippet when &quot;retyping&quot; that semicolon?","body":"<p>I recently started programming in Java and set up <em>vscode</em> for the purpose. I have already installed the extension packs required for Java.</p>\n<p><strong>The Problem</strong>- whenever I type any command, say for example <code>sysout</code> and hit enter, vscode correctly generates <code>System.out.println(|);</code> with my cursor at the point where I have made the <code>|</code> symbol. Here, when I enter closing paranthesis, it is not actually entered and my cursor just moves forward. <strong>Now</strong>, when I enter <code>;</code>, I get two semicolons (semicolon is not ignored) ex.- <code>System.out.println();;</code>.</p>\n<p>Is there a way to fix this because it's really annoying me, particularly since when I am typing really fast, I have to stop and access my trackpad to move the cursor or either press the right arrow key which disrupts the whole flow.</p>\n<p>I tried looking online but couldn't really find any resource that solves this problem.\nAny Help would be greatly appreciated!</p>\n"},{"tags":["java","c","jna"],"answers":[{"tags":[],"owner":{"account_id":1187908,"reputation":8615,"user_id":1161484,"accept_rate":93,"display_name":"Daniel Widdis"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693157443,"creation_date":1693157443,"answer_id":76988244,"question_id":76943647,"body_markdown":"The variables with `*` are pointers to data elsewhere. You are given the information the data at these pointer locations is one or more `double` values.  So the correct mapping is probably going to either be `DoubleByReference` for a single value, or the `double[]` arrays you have mapped if the native function is actually an array.  But you need to read the native function documentation to determine that.\r\n\r\nIn your method you missed using either the `ByReference` or array mapping for the last two arguments, `pip` and `tgo`.\r\n\r\nAlso note that you need to deal with native memory allocations.  In the case that you use `DoubleByReference`, JNA handles allocating the 8 bytes needed.  In the case that you define a primitive `double[]` array, JNA also will allocate the memory for the size of the array when you pass it to the native function, but if the return value requires more space than you have allocated, you&#39;ll generate errors.","title":"Mapping jna with pointer","body":"<p>The variables with <code>*</code> are pointers to data elsewhere. You are given the information the data at these pointer locations is one or more <code>double</code> values.  So the correct mapping is probably going to either be <code>DoubleByReference</code> for a single value, or the <code>double[]</code> arrays you have mapped if the native function is actually an array.  But you need to read the native function documentation to determine that.</p>\n<p>In your method you missed using either the <code>ByReference</code> or array mapping for the last two arguments, <code>pip</code> and <code>tgo</code>.</p>\n<p>Also note that you need to deal with native memory allocations.  In the case that you use <code>DoubleByReference</code>, JNA handles allocating the 8 bytes needed.  In the case that you define a primitive <code>double[]</code> array, JNA also will allocate the memory for the size of the array when you pass it to the native function, but if the return value requires more space than you have allocated, you'll generate errors.</p>\n"}],"owner":{"account_id":29266230,"reputation":1,"user_id":22422005,"display_name":"techtomo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693157443,"creation_date":1692607040,"question_id":76943647,"body_markdown":"I tried to use a C library with JNA in Java. I use Linux for my project.\r\n\r\nI want to map a `.so` native library but I have an error.  I think the problem is from my mapping\r\n\r\nThe C function is:\r\n```c\r\nvoid updateTarget(\r\n    int idcar,\r\n    double *carPosition,\r\n    double *carVelocity,\r\n    double isABT,\r\n    double *busPosition,\r\n    double *busVelocity,\r\n    double *pip,\r\n    double *tgo\r\n);\r\n```\r\n\r\nThis function modifies `busPosition`, `busVelocity`, `pip`, and `*go` values.\r\n\r\nI tried this in Java\r\n```java\r\nvoid updateTarget(\r\n    int idcar,\r\n    double[] carPosition,\r\n    double[] carVelocity,\r\n    double isABT,\r\n    double[] busPosition,\r\n    double[] busVelocity,\r\n    double pip,\r\n    double tgo\r\n);\r\n```\r\n","title":"Mapping jna with pointer","body":"<p>I tried to use a C library with JNA in Java. I use Linux for my project.</p>\n<p>I want to map a <code>.so</code> native library but I have an error.  I think the problem is from my mapping</p>\n<p>The C function is:</p>\n<pre class=\"lang-c prettyprint-override\"><code>void updateTarget(\n    int idcar,\n    double *carPosition,\n    double *carVelocity,\n    double isABT,\n    double *busPosition,\n    double *busVelocity,\n    double *pip,\n    double *tgo\n);\n</code></pre>\n<p>This function modifies <code>busPosition</code>, <code>busVelocity</code>, <code>pip</code>, and <code>*go</code> values.</p>\n<p>I tried this in Java</p>\n<pre class=\"lang-java prettyprint-override\"><code>void updateTarget(\n    int idcar,\n    double[] carPosition,\n    double[] carVelocity,\n    double isABT,\n    double[] busPosition,\n    double[] busVelocity,\n    double pip,\n    double tgo\n);\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3370948,"reputation":4617,"user_id":2830167,"accept_rate":100,"display_name":"ZhaoGang"},"score":0,"creation_date":1593757831,"post_id":30401948,"comment_id":110895803,"body_markdown":"I would like to call what you need a `declaration` rather than an `initailization`. See this linke: https://stackoverflow.com/questions/6232986/how-do-i-initialize-a-two-dimensional-list-statically","body":"I would like to call what you need a <code>declaration</code> rather than an <code>initailization</code>. See this linke: <a href=\"https://stackoverflow.com/questions/6232986/how-do-i-initialize-a-two-dimensional-list-statically\" title=\"how do i initialize a two dimensional list statically\">stackoverflow.com/questions/6232986/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":2399479,"reputation":6729,"user_id":2097529,"accept_rate":76,"display_name":"Kick Buttowski"},"score":2,"creation_date":1432314203,"post_id":30401985,"comment_id":48892029,"body_markdown":"thanks God, there is no explanation behind this , so we can learn?","body":"thanks God, there is no explanation behind this , so we can learn?"},{"owner":{"account_id":794766,"reputation":158675,"user_id":871026,"accept_rate":76,"display_name":"Reimeus"},"score":0,"creation_date":1432314644,"post_id":30401985,"comment_id":48892232,"body_markdown":"The question is how to proceed so I&#39;ll let the OP search for terms like &quot;invariance&quot; and &quot;diamond operator&quot; :)","body":"The question is how to proceed so I&#39;ll let the OP search for terms like &quot;invariance&quot; and &quot;diamond operator&quot; :)"},{"owner":{"account_id":5105220,"reputation":947,"user_id":4694871,"display_name":"Abhishek saharn"},"score":3,"creation_date":1604438461,"post_id":30401985,"comment_id":114347398,"body_markdown":"A little bit of explanation of how and why this works can help a lot of people.","body":"A little bit of explanation of how and why this works can help a lot of people."}],"tags":[],"owner":{"account_id":794766,"reputation":158675,"user_id":871026,"accept_rate":76,"display_name":"Reimeus"},"comment_count":3,"down_vote_count":0,"up_vote_count":44,"is_accepted":true,"score":44,"last_activity_date":1432313281,"creation_date":1432313281,"answer_id":30401985,"question_id":30401948,"body_markdown":"Use\r\n\r\n    List&lt;List&lt;Integer&gt;&gt; list = new ArrayList&lt;List&lt;Integer&gt;&gt;();\r\n\r\nor since Java 1.7\r\n\r\n    List&lt;List&lt;Integer&gt;&gt; list = new ArrayList&lt;&gt;();","title":"Initialize List&lt;List&lt;Integer&gt;&gt; in Java","body":"<p>Use</p>\n\n<pre><code>List&lt;List&lt;Integer&gt;&gt; list = new ArrayList&lt;List&lt;Integer&gt;&gt;();\n</code></pre>\n\n<p>or since Java 1.7</p>\n\n<pre><code>List&lt;List&lt;Integer&gt;&gt; list = new ArrayList&lt;&gt;();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6303188,"reputation":3960,"user_id":4897144,"display_name":"shruti1810"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1432313472,"creation_date":1432313472,"answer_id":30402035,"question_id":30401948,"body_markdown":"You can define it as `List&lt;List&lt;Integer&gt;&gt; list = new ArrayList&lt;List&lt;Integer&gt;&gt;();`.\r\n\r\nThen while defining the inner `List` you can take care of initialising it as `ArrayList&lt;Integer&gt;`.","title":"Initialize List&lt;List&lt;Integer&gt;&gt; in Java","body":"<p>You can define it as <code>List&lt;List&lt;Integer&gt;&gt; list = new ArrayList&lt;List&lt;Integer&gt;&gt;();</code>.</p>\n\n<p>Then while defining the inner <code>List</code> you can take care of initialising it as <code>ArrayList&lt;Integer&gt;</code>.</p>\n"},{"tags":[],"owner":{"account_id":19639765,"reputation":21,"user_id":14376154,"display_name":"Aditya Patil"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1601582055,"creation_date":1601582055,"answer_id":64162354,"question_id":30401948,"body_markdown":"You can define it as `List&lt;List&lt;Integer&gt;&gt; list = new LinkedList();`","title":"Initialize List&lt;List&lt;Integer&gt;&gt; in Java","body":"<p>You can define it as <code>List&lt;List&lt;Integer&gt;&gt; list = new LinkedList();</code></p>\n"},{"comments":[{"owner":{"account_id":18061484,"reputation":11,"user_id":13128517,"display_name":"Shravan Bejini"},"score":0,"creation_date":1617972531,"post_id":67021304,"comment_id":118467319,"body_markdown":"Thanks Suraj, I was fixing the html for angle brackets while you edited the comment","body":"Thanks Suraj, I was fixing the html for angle brackets while you edited the comment"},{"owner":{"account_id":10620565,"reputation":3742,"user_id":7821823,"display_name":"Mario Varchmin"},"score":0,"creation_date":1617980767,"post_id":67021304,"comment_id":118471502,"body_markdown":"The OP wanted to initialize List&lt;List&lt;Integer&gt;&gt;, not List&lt;ArrayList&lt;Integer&gt;&gt;.","body":"The OP wanted to initialize List&lt;List&lt;Integer&gt;&gt;, not List&lt;ArrayList&lt;Integer&gt;&gt;."}],"tags":[],"owner":{"account_id":18061484,"reputation":11,"user_id":13128517,"display_name":"Shravan Bejini"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1617972343,"creation_date":1617971880,"answer_id":67021304,"question_id":30401948,"body_markdown":"You can initialize this as \r\n\r\n    List&lt;ArrayList&lt;Integer&gt;&gt; list = new ArrayList&lt;ArrayList&lt;Integer&gt;&gt;();\r\n\r\nNote that the inner List has to be an implementation of the List interface, e.g., ArrayList.&lt;br/&gt;\r\nSince List is an interface, one can&#39;t have objects of the type List itself.\r\n\r\n","title":"Initialize List&lt;List&lt;Integer&gt;&gt; in Java","body":"<p>You can initialize this as</p>\n<pre><code>List&lt;ArrayList&lt;Integer&gt;&gt; list = new ArrayList&lt;ArrayList&lt;Integer&gt;&gt;();\n</code></pre>\n<p>Note that the inner List has to be an implementation of the List interface, e.g., ArrayList.<br/>\nSince List is an interface, one can't have objects of the type List itself.</p>\n"}],"owner":{"account_id":6350690,"reputation":351,"user_id":4929864,"display_name":"Ram Swami"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79120,"favorite_count":0,"down_vote_count":1,"up_vote_count":27,"accepted_answer_id":30401985,"answer_count":4,"score":26,"last_activity_date":1693156375,"creation_date":1432313156,"question_id":30401948,"body_markdown":"How can I initialize `List&lt;List&lt;Integer&gt;&gt;` in Java? \r\n\r\nI know `List` is an interface and I can use `ArrayList` or `LinkedList` to implement `List&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;()`, but when I initialize `List&lt;List&lt;Integer&gt;&gt; list = new ArrayList&lt;ArrayList&lt;Integer&gt;&gt;();` I get error incompatible types:\r\n\r\n    ArrayList&lt;ArrayList&lt;Integer&gt;&gt; cannot be converted to List&lt;List&lt;Integer&gt;&gt;.\r\n\r\nSo how can I proceed?","title":"Initialize List&lt;List&lt;Integer&gt;&gt; in Java","body":"<p>How can I initialize <code>List&lt;List&lt;Integer&gt;&gt;</code> in Java? </p>\n\n<p>I know <code>List</code> is an interface and I can use <code>ArrayList</code> or <code>LinkedList</code> to implement <code>List&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;()</code>, but when I initialize <code>List&lt;List&lt;Integer&gt;&gt; list = new ArrayList&lt;ArrayList&lt;Integer&gt;&gt;();</code> I get error incompatible types:</p>\n\n<pre><code>ArrayList&lt;ArrayList&lt;Integer&gt;&gt; cannot be converted to List&lt;List&lt;Integer&gt;&gt;.\n</code></pre>\n\n<p>So how can I proceed?</p>\n"},{"tags":["java","amazon-s3","aws-sdk-java-2.0"],"answers":[{"tags":[],"owner":{"account_id":279619,"reputation":661,"user_id":574880,"display_name":"deleze"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1628770651,"creation_date":1628770651,"answer_id":68757367,"question_id":68757161,"body_markdown":"I found the issue. If metadata value have a white space at the end, the signature generated by the AWS SDK will not be the same as the one returned by the server. \r\n\r\nProbably that S3 trim the name and values of metadata.\r\n\r\nLater I found also a similar issue in the aws-sdk-go:  https://github.com/aws/aws-sdk-go/issues/2448\r\n\r\nI&#39;m using the version 2.15.36 of aws-sdk-java. I don&#39;t know if it was fixed in newer version of the SDK.","title":"S3Exception: The request signature we calculated does not match the signature you provided","body":"<p>I found the issue. If metadata value have a white space at the end, the signature generated by the AWS SDK will not be the same as the one returned by the server.</p>\n<p>Probably that S3 trim the name and values of metadata.</p>\n<p>Later I found also a similar issue in the aws-sdk-go:  <a href=\"https://github.com/aws/aws-sdk-go/issues/2448\" rel=\"nofollow noreferrer\">https://github.com/aws/aws-sdk-go/issues/2448</a></p>\n<p>I'm using the version 2.15.36 of aws-sdk-java. I don't know if it was fixed in newer version of the SDK.</p>\n"},{"tags":[],"owner":{"account_id":10027059,"reputation":1,"user_id":7414931,"display_name":"Kaveri"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658221458,"creation_date":1658221296,"answer_id":73034089,"question_id":68757161,"body_markdown":"For me, the issue is caused when the filename contains special characters(like &#169;). I have set the filename as metadata for the S3Object.\r\nIn order to fix the issue, I have removed those special characters from the filename.\r\n\r\n**Reference Links:**\r\n\r\n - https://github.com/aws-amplify/amplify-js/issues/7630\r\n - https://github.com/aws/aws-sdk-java/issues/2577\r\n \r\n - https://docs.aws.amazon.com/AmazonS3/latest/userguide/UsingMetadata.html \r\n\r\n&gt; User-defined metadata is a set of key-value pairs. Amazon S3 stores user-defined metadata keys in lowercase.\r\nAmazon S3 allows arbitrary Unicode characters in your metadata values.\r\nTo avoid issues around the presentation of these metadata values, you should conform to using US-ASCII characters when using REST and UTF-8 when using SOAP or browser-based uploads via POST.\r\nWhen using non US-ASCII characters in your metadata values, the provided unicode string is examined for non US-ASCII characters. Values of such headers are character decoded as per RFC 2047 before storing and encoded as per RFC 2047 to make them mail-safe before returning. If the string contains only US-ASCII characters, it is presented as is.\r\n\r\n\r\n\r\n**My Environment:**\r\n\r\n - springboot: 2.6.6\r\n - aws-java-sdk-s3: 1.12.131\r\n - httpclient: 4.5.13","title":"S3Exception: The request signature we calculated does not match the signature you provided","body":"<p>For me, the issue is caused when the filename contains special characters(like ©). I have set the filename as metadata for the S3Object.\nIn order to fix the issue, I have removed those special characters from the filename.</p>\n<p><strong>Reference Links:</strong></p>\n<ul>\n<li><p><a href=\"https://github.com/aws-amplify/amplify-js/issues/7630\" rel=\"nofollow noreferrer\">https://github.com/aws-amplify/amplify-js/issues/7630</a></p>\n</li>\n<li><p><a href=\"https://github.com/aws/aws-sdk-java/issues/2577\" rel=\"nofollow noreferrer\">https://github.com/aws/aws-sdk-java/issues/2577</a></p>\n</li>\n<li><p><a href=\"https://docs.aws.amazon.com/AmazonS3/latest/userguide/UsingMetadata.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/AmazonS3/latest/userguide/UsingMetadata.html</a></p>\n</li>\n</ul>\n<blockquote>\n<p>User-defined metadata is a set of key-value pairs. Amazon S3 stores user-defined metadata keys in lowercase.\nAmazon S3 allows arbitrary Unicode characters in your metadata values.\nTo avoid issues around the presentation of these metadata values, you should conform to using US-ASCII characters when using REST and UTF-8 when using SOAP or browser-based uploads via POST.\nWhen using non US-ASCII characters in your metadata values, the provided unicode string is examined for non US-ASCII characters. Values of such headers are character decoded as per RFC 2047 before storing and encoded as per RFC 2047 to make them mail-safe before returning. If the string contains only US-ASCII characters, it is presented as is.</p>\n</blockquote>\n<p><strong>My Environment:</strong></p>\n<ul>\n<li>springboot: 2.6.6</li>\n<li>aws-java-sdk-s3: 1.12.131</li>\n<li>httpclient: 4.5.13</li>\n</ul>\n"}],"owner":{"account_id":279619,"reputation":661,"user_id":574880,"display_name":"deleze"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18493,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1693155960,"creation_date":1628769860,"question_id":68757161,"body_markdown":"I have different objects that produce file that are saved in S3. Each object call the following function to save the file.\r\n\r\nI have the following issue only with few objects. The objects either always save files or can never save the files.\r\n\r\n\r\n```\r\n    /**\r\n\t * Upload a file (with metadata).\r\n\t *\r\n\t * @param bucketId    the id of the bucket\r\n\t * @param key         the key of the file\r\n\t * @param inputStream the content of the file\r\n\t * @param metadata    the metadata of the file\r\n\t * @return the eTag of the uploaded file\r\n\t * @throws IOException If an error occurs during the file upload\r\n\t */\r\n\tpublic String upload(String bucketId, String key, InputStream inputStream, Map&lt;String, String&gt; metadata) throws IOException {\r\n\t\tLOG.info(&quot;Upload file {} on bucket {} with metadata: {}&quot;, key, bucketId, metadata);\r\n\t\tCreateMultipartUploadRequest.Builder builder = CreateMultipartUploadRequest.builder();\r\n\t\tif (!this.encryptionAlgorithm.equalsIgnoreCase(&quot;none&quot;)) {\r\n\t\t\tbuilder = builder.serverSideEncryption(this.encryptionAlgorithm);\r\n\t\t}\r\n\t\tCreateMultipartUploadRequest createMultipartUploadRequest = builder.bucket(bucketId)\r\n\t\t\t.key(key)\r\n\t\t\t.metadata(metadata)\r\n\t\t\t.build();\r\n\r\n\t\tCreateMultipartUploadResponse createMultipartUploadResponse = s3Client.createMultipartUpload(createMultipartUploadRequest);\r\n\t\tString uploadId = createMultipartUploadResponse.uploadId();\r\n\r\n\t\ttry {\r\n\t\t\tList&lt;CompletedPart&gt; parts = uploadFileParts(bucketId, key, uploadId, inputStream);\r\n\r\n\t\t\tCompleteMultipartUploadRequest completeMultipartUploadRequest = CompleteMultipartUploadRequest.builder()\r\n\t\t\t\t.bucket(bucketId)\r\n\t\t\t\t.key(key)\r\n\t\t\t\t.uploadId(uploadId)\r\n\t\t\t\t.multipartUpload(CompletedMultipartUpload.builder().parts(parts).build())\r\n\t\t\t\t.build();\r\n\t\t\tCompleteMultipartUploadResponse completeMultipartUploadResponse = s3Client.completeMultipartUpload(completeMultipartUploadRequest);\r\n\r\n\t\t\treturn completeMultipartUploadResponse.eTag();\r\n\t\t} catch (Exception e) {\r\n\t\t\tLOG.error(&quot;Error while uploading {} multipart {} on bucket {} with metadata {}&quot;, key, uploadId, bucketId, metadata, e);\r\n\r\n\t\t\ts3Client.abortMultipartUpload(AbortMultipartUploadRequest.builder()\r\n\t\t\t\t.bucket(bucketId)\r\n\t\t\t\t.key(key)\r\n\t\t\t\t.uploadId(uploadId)\r\n\t\t\t\t.build());\r\n\r\n\t\t\tthrow e;\r\n\t\t}\r\n\t}\r\n```\r\n\r\nThe error is \r\n\r\n**The request signature we calculated does not match the signature you provided. Check your AWS Secret Access Key and signing method. For more information, see REST Authentication and SOAP Authentication for details. (Service: S3, Status Code: 403, Request ID: 79b6c0a2-0d74-1f30-a4bf-246e9631ccd8, Extended Request ID: null)**\r\n\r\nI verify, the bucket is always the same value, the input stream data contains the data of the file. The data are transmitted successfully to the S3 bucket. The key is always like `eventsnapshot-21234-7-2021-08-12-1628767690000.jpg`. \r\n\r\nDid you already had such of issue ?\r\n","title":"S3Exception: The request signature we calculated does not match the signature you provided","body":"<p>I have different objects that produce file that are saved in S3. Each object call the following function to save the file.</p>\n<p>I have the following issue only with few objects. The objects either always save files or can never save the files.</p>\n<pre><code>    /**\n     * Upload a file (with metadata).\n     *\n     * @param bucketId    the id of the bucket\n     * @param key         the key of the file\n     * @param inputStream the content of the file\n     * @param metadata    the metadata of the file\n     * @return the eTag of the uploaded file\n     * @throws IOException If an error occurs during the file upload\n     */\n    public String upload(String bucketId, String key, InputStream inputStream, Map&lt;String, String&gt; metadata) throws IOException {\n        LOG.info(&quot;Upload file {} on bucket {} with metadata: {}&quot;, key, bucketId, metadata);\n        CreateMultipartUploadRequest.Builder builder = CreateMultipartUploadRequest.builder();\n        if (!this.encryptionAlgorithm.equalsIgnoreCase(&quot;none&quot;)) {\n            builder = builder.serverSideEncryption(this.encryptionAlgorithm);\n        }\n        CreateMultipartUploadRequest createMultipartUploadRequest = builder.bucket(bucketId)\n            .key(key)\n            .metadata(metadata)\n            .build();\n\n        CreateMultipartUploadResponse createMultipartUploadResponse = s3Client.createMultipartUpload(createMultipartUploadRequest);\n        String uploadId = createMultipartUploadResponse.uploadId();\n\n        try {\n            List&lt;CompletedPart&gt; parts = uploadFileParts(bucketId, key, uploadId, inputStream);\n\n            CompleteMultipartUploadRequest completeMultipartUploadRequest = CompleteMultipartUploadRequest.builder()\n                .bucket(bucketId)\n                .key(key)\n                .uploadId(uploadId)\n                .multipartUpload(CompletedMultipartUpload.builder().parts(parts).build())\n                .build();\n            CompleteMultipartUploadResponse completeMultipartUploadResponse = s3Client.completeMultipartUpload(completeMultipartUploadRequest);\n\n            return completeMultipartUploadResponse.eTag();\n        } catch (Exception e) {\n            LOG.error(&quot;Error while uploading {} multipart {} on bucket {} with metadata {}&quot;, key, uploadId, bucketId, metadata, e);\n\n            s3Client.abortMultipartUpload(AbortMultipartUploadRequest.builder()\n                .bucket(bucketId)\n                .key(key)\n                .uploadId(uploadId)\n                .build());\n\n            throw e;\n        }\n    }\n</code></pre>\n<p>The error is</p>\n<p><strong>The request signature we calculated does not match the signature you provided. Check your AWS Secret Access Key and signing method. For more information, see REST Authentication and SOAP Authentication for details. (Service: S3, Status Code: 403, Request ID: 79b6c0a2-0d74-1f30-a4bf-246e9631ccd8, Extended Request ID: null)</strong></p>\n<p>I verify, the bucket is always the same value, the input stream data contains the data of the file. The data are transmitted successfully to the S3 bucket. The key is always like <code>eventsnapshot-21234-7-2021-08-12-1628767690000.jpg</code>.</p>\n<p>Did you already had such of issue ?</p>\n"},{"tags":["java","testing","cucumber","compatibility","gherkin"],"comments":[{"owner":{"account_id":5700778,"reputation":8968,"user_id":4512398,"display_name":"Grasshopper"},"score":0,"creation_date":1693163392,"post_id":76988131,"comment_id":135720618,"body_markdown":"Maybe this helps - https://github.com/cucumber/cucumber-jvm/blob/303a14694aadfa55ac2a40b7363a77421ffaafcb/cucumber-core/src/main/java/io/cucumber/core/plugin/TestSourcesModel.java#L100","body":"Maybe this helps - <a href=\"https://github.com/cucumber/cucumber-jvm/blob/303a14694aadfa55ac2a40b7363a77421ffaafcb/cucumber-core/src/main/java/io/cucumber/core/plugin/TestSourcesModel.java#L100\" rel=\"nofollow noreferrer\">github.com/cucumber/cucumber-jvm/blob/&hellip;</a>"}],"owner":{"account_id":11946358,"reputation":29,"user_id":8741465,"display_name":"SANTIAGO PADILLA"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693155873,"creation_date":1693155873,"question_id":76988131,"body_markdown":"I&#39;m currently working with Cucumber in Java and have a method, parseGherkinDocument, that uses GherkinDocument. I&#39;ve been facing issues when trying to update this method to align with the latest version of Cucumber. Here is the existing method:\r\n\r\n\r\n```\r\nprivate static GherkinDocument parseGherkinDocument(TestSourceRead testSource) {\r\n    Objects.requireNonNull(testSource, &quot;testSource cannot be null&quot;);\r\n    String source = testSource.getSource();\r\n    List&lt;Envelope&gt; sources = singletonList(fromResource(source, testSource.getUri().toString()));\r\n    List&lt;Envelope&gt; envelopes = Gherkin\r\n            .fromSources(sources, true, true, true, () -&gt; String.valueOf(UUID.randomUUID())).collect(toList());\r\n    GherkinDocument gherkinDocument = envelopes.stream()\r\n        .map(Envelope::getGherkinDocument).filter(Objects::nonNull)\r\n        .findFirst().orElse(null);\r\n    return gherkinDocument;\r\n}\r\n\r\n```\r\n\r\nI would like to know how I can update this method to be compatible with the latest version of Cucumber. Are there any changes in the new version that affect how GherkinDocument should be used?\r\n\r\nI wrote a method that uses Cucumber&#39;s GherkinDocument class to parse Gherkin test sources in Java. My method worked fine with an older version of Cucumber. When I updated to the latest version of Cucumber, I expected my custom method to continue functioning correctly, or at least with minimal modifications. However, it seems to be incompatible with the new version, and I&#39;m having trouble figuring out how to update it. I&#39;ve reviewed the latest Cucumber documentation but couldn&#39;t find clear guidance on how to update the usage of GherkinDocument\r\n\r\nThank you for your assistance!","title":"Updating parseGherkinDocument method to the latest version of Cucumber in Java","body":"<p>I'm currently working with Cucumber in Java and have a method, parseGherkinDocument, that uses GherkinDocument. I've been facing issues when trying to update this method to align with the latest version of Cucumber. Here is the existing method:</p>\n<pre><code>private static GherkinDocument parseGherkinDocument(TestSourceRead testSource) {\n    Objects.requireNonNull(testSource, &quot;testSource cannot be null&quot;);\n    String source = testSource.getSource();\n    List&lt;Envelope&gt; sources = singletonList(fromResource(source, testSource.getUri().toString()));\n    List&lt;Envelope&gt; envelopes = Gherkin\n            .fromSources(sources, true, true, true, () -&gt; String.valueOf(UUID.randomUUID())).collect(toList());\n    GherkinDocument gherkinDocument = envelopes.stream()\n        .map(Envelope::getGherkinDocument).filter(Objects::nonNull)\n        .findFirst().orElse(null);\n    return gherkinDocument;\n}\n\n</code></pre>\n<p>I would like to know how I can update this method to be compatible with the latest version of Cucumber. Are there any changes in the new version that affect how GherkinDocument should be used?</p>\n<p>I wrote a method that uses Cucumber's GherkinDocument class to parse Gherkin test sources in Java. My method worked fine with an older version of Cucumber. When I updated to the latest version of Cucumber, I expected my custom method to continue functioning correctly, or at least with minimal modifications. However, it seems to be incompatible with the new version, and I'm having trouble figuring out how to update it. I've reviewed the latest Cucumber documentation but couldn't find clear guidance on how to update the usage of GherkinDocument</p>\n<p>Thank you for your assistance!</p>\n"},{"tags":["java","mysql","hibernate"],"answers":[{"tags":[],"owner":{"account_id":2238936,"reputation":1737,"user_id":1974494,"accept_rate":43,"display_name":"martin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1693155814,"creation_date":1693155814,"answer_id":76988128,"question_id":76923782,"body_markdown":"It&#39;s not perfect, but it works:\r\n\r\nMaven dependency:\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/com.xk72/pherialize --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.xk72&lt;/groupId&gt;\r\n        &lt;artifactId&gt;pherialize&lt;/artifactId&gt;\r\n        &lt;version&gt;1.2.4&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nand my code:\r\n\r\n\t@Transactional()\r\n\tpublic void replaceAll(int serverId, String find, String replace, boolean update) {\r\n\r\n\t\tString dbName = String.format(&quot;wh%d&quot;, serverId);\r\n\r\n\t\t// get list of tables:\r\n\t\tString getTablesQuery = String.format(\r\n\t\t\t\t&quot;SELECT table_name, table_schema FROM information_schema.tables WHERE table_schema = &#39;%s&#39; AND table_type = &#39;BASE TABLE&#39; ORDER BY table_name ASC&quot;,\r\n\t\t\t\tdbName);\r\n\t\tlog.debug(&quot;getTablesQuery: {}&quot;, getTablesQuery);\r\n\t\tList&lt;String&gt; tables = new ArrayList&lt;&gt;();\r\n\t\tList&lt;Object[]&gt; tablesObjects = entityManager.createNativeQuery(getTablesQuery).getResultList();\r\n\t\tfor (Object[] o : tablesObjects) {\r\n\t\t\tString tableName = (String) o[0];\r\n\t\t\tString tableSchema = (String) o[1];\r\n\t\t\tString fullName = String.format(&quot;%s.%s&quot;, tableSchema, tableName);\r\n\t\t\ttables.add(fullName);\r\n\t\t\t// System.out.println(fullName);\r\n\t\t}\r\n\t\tlog.debug(&quot;TABLES_LIST: {}&quot;, tables.toString());\r\n\r\n\t\t// find all occurences of string:\r\n\t\tfor (String table : tables) {\r\n\t\t\tString query = &quot;SELECT * FROM &quot; + table;\r\n\t\t\t// https://stackoverflow.com/a/69945073/1974494\r\n\t\t\tfinal List&lt;Tuple&gt; queryRows = entityManager.createNativeQuery(query, Tuple.class).getResultList();\r\n\t\t\tfinal List&lt;Map&lt;String, Object&gt;&gt; formattedRows = new ArrayList&lt;&gt;();\r\n\r\n\t\t\tqueryRows.forEach(row -&gt; {\r\n\t\t\t\tfinal Map&lt;String, Object&gt; formattedRow = new HashMap&lt;&gt;();\r\n\r\n\t\t\t\trow.getElements().forEach(column -&gt; {\r\n\t\t\t\t\tfinal String columnName = column.getAlias();\r\n\t\t\t\t\tfinal Object columnValue = row.get(column);\r\n\t\t\t\t\tif (columnValue.toString().contains(find)) {\r\n\r\n\t\t\t\t\t\tif (columnValue.toString().startsWith(&quot;a:&quot;)) { // PHP serialized array\r\n\t\t\t\t\t\t\tlog.debug(&quot;Table: &quot; + table + &quot;; columnName: &quot; + columnName + &quot;; columnValue: &quot;\r\n\t\t\t\t\t\t\t\t\t+ columnValue);\r\n\t\t\t\t\t\t\tlog.debug(&quot;Found PHP serialized array: {}&quot;, columnValue.toString());\r\n\r\n\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\t// https://docs.jboss.org/hibernate/orm/5.1/userguide/html_single/chapters/query-native/Native.html\r\n\t\t\t\t\t\t\t\tMixedArray mlist = Pherialize.unserialize(columnValue.toString()).toArray();\r\n\r\n\t\t\t\t\t\t\t\tfor (Map.Entry&lt;Object, Object&gt; entry : mlist.entrySet()) {\r\n\t\t\t\t\t\t\t\t\tObject key = entry.getKey();\r\n\t\t\t\t\t\t\t\t\tObject val = entry.getValue();\r\n\t\t\t\t\t\t\t\t\tlog.debug(&quot;PHP ARRAY - KEY={}; VALUE={}&quot;, key, val);\r\n\r\n\t\t\t\t\t\t\t\t\tif (val.toString().contains(find)) {\r\n\t\t\t\t\t\t\t\t\t\tString newValue = val.toString().replace(find, replace);\r\n\t\t\t\t\t\t\t\t\t\tentry.setValue(newValue);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\tString updateArray = Pherialize.serialize(mlist);\r\n\t\t\t\t\t\t\t\tlog.debug(&quot;PHP ARRAY - UPATED_ARRAY= {}&quot;, updateArray);\r\n\t\t\t\t\t\t\t\tlog.debug(&quot;PHP ARRAY - REPLACE: {} WITH: {}&quot;, columnValue.toString(), updateArray);\r\n\t\t\t\t\t\t\t\tString updateQuery = String.format(&quot;UPDATE %s SET %s = &#39;%s&#39; WHERE %s = &#39;%s&#39;&quot;, table,\r\n\t\t\t\t\t\t\t\t\t\tcolumnName, updateArray, columnName, columnValue);\r\n\t\t\t\t\t\t\t\tlog.debug(updateQuery);\r\n\t\t\t\t\t\t\t\tif (update) {\r\n\t\t\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\t\t\tint result = entityManager.createNativeQuery(updateQuery).executeUpdate();\r\n\t\t\t\t\t\t\t\t\t\tlog.info(&quot;QUERY=\\&quot;{}\\&quot;, RESULT(PHP): {}&quot;, updateQuery, result);\r\n\t\t\t\t\t\t\t\t\t} catch (Exception e) {\r\n\t\t\t\t\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t\t\t\t\t\tString msg = String.format(&quot;SQL update query error. Query=\\&quot;%s\\&quot;, Error=\\&quot;%s\\&quot;&quot;,\r\n\t\t\t\t\t\t\t\t\t\t\t\tupdateQuery, e.toString());\r\n\t\t\t\t\t\t\t\t\t\tlog.error(msg);\r\n\t\t\t\t\t\t\t\t\t\tthrow new ResponseStatusException(HttpStatus.INTERNAL_SERVER_ERROR,\r\n\t\t\t\t\t\t\t\t\t\t\t\t&quot;SQL update query error&quot;);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t} catch (Exception e) {\r\n\t\t\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t\t\t\tlog.error(&quot;Broken PHP serialized array&quot;);\r\n\t\t\t\t\t\t\t\tthrow new ResponseStatusException(HttpStatus.INTERNAL_SERVER_ERROR,\r\n\t\t\t\t\t\t\t\t\t\t&quot;Broken PHP serialized array&quot;);\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\tString newValue = columnValue.toString().replace(find, replace);\r\n\t\t\t\t\t\t\tlog.debug(&quot;REPLACE: {} WITH: {}&quot;, columnValue.toString(), newValue);\r\n\t\t\t\t\t\t\tString updateQuery = String.format(&quot;UPDATE %s SET %s = &#39;%s&#39; WHERE %s = &#39;%s&#39;&quot;, table,\r\n\t\t\t\t\t\t\t\t\tcolumnName, newValue, columnName, columnValue);\r\n\t\t\t\t\t\t\tlog.debug(updateQuery);\r\n\t\t\t\t\t\t\tif (update) {\r\n\t\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\t\tint result = entityManager.createNativeQuery(updateQuery).executeUpdate();\r\n\t\t\t\t\t\t\t\t\tlog.info(&quot;QUERY=\\&quot;{}\\&quot;, RESULT(NORMAL): {}&quot;, updateQuery, result);\r\n\t\t\t\t\t\t\t\t} catch (Exception e) {\r\n\t\t\t\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t\t\t\t\tString msg = String.format(&quot;SQL update query error. Query=\\&quot;%s\\&quot;, Error=\\&quot;%s\\&quot;&quot;,\r\n\t\t\t\t\t\t\t\t\t\t\tupdateQuery, e.toString());\r\n\t\t\t\t\t\t\t\t\tlog.error(msg);\r\n\t\t\t\t\t\t\t\t\tthrow new ResponseStatusException(HttpStatus.INTERNAL_SERVER_ERROR,\r\n\t\t\t\t\t\t\t\t\t\t\t&quot;SQL update query error&quot;);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tformattedRow.put(columnName, columnValue);\r\n\t\t\t\t});\r\n\r\n\t\t\t\tformattedRows.add(formattedRow);\r\n\t\t\t});\r\n\t\t}\r\n\t}","title":"Java Hibernate: replace all occurrences of string without entity mapping","body":"<p>It's not perfect, but it works:</p>\n<p>Maven dependency:</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/com.xk72/pherialize --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.xk72&lt;/groupId&gt;\n    &lt;artifactId&gt;pherialize&lt;/artifactId&gt;\n    &lt;version&gt;1.2.4&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>and my code:</p>\n<pre><code>@Transactional()\npublic void replaceAll(int serverId, String find, String replace, boolean update) {\n\n    String dbName = String.format(&quot;wh%d&quot;, serverId);\n\n    // get list of tables:\n    String getTablesQuery = String.format(\n            &quot;SELECT table_name, table_schema FROM information_schema.tables WHERE table_schema = '%s' AND table_type = 'BASE TABLE' ORDER BY table_name ASC&quot;,\n            dbName);\n    log.debug(&quot;getTablesQuery: {}&quot;, getTablesQuery);\n    List&lt;String&gt; tables = new ArrayList&lt;&gt;();\n    List&lt;Object[]&gt; tablesObjects = entityManager.createNativeQuery(getTablesQuery).getResultList();\n    for (Object[] o : tablesObjects) {\n        String tableName = (String) o[0];\n        String tableSchema = (String) o[1];\n        String fullName = String.format(&quot;%s.%s&quot;, tableSchema, tableName);\n        tables.add(fullName);\n        // System.out.println(fullName);\n    }\n    log.debug(&quot;TABLES_LIST: {}&quot;, tables.toString());\n\n    // find all occurences of string:\n    for (String table : tables) {\n        String query = &quot;SELECT * FROM &quot; + table;\n        // https://stackoverflow.com/a/69945073/1974494\n        final List&lt;Tuple&gt; queryRows = entityManager.createNativeQuery(query, Tuple.class).getResultList();\n        final List&lt;Map&lt;String, Object&gt;&gt; formattedRows = new ArrayList&lt;&gt;();\n\n        queryRows.forEach(row -&gt; {\n            final Map&lt;String, Object&gt; formattedRow = new HashMap&lt;&gt;();\n\n            row.getElements().forEach(column -&gt; {\n                final String columnName = column.getAlias();\n                final Object columnValue = row.get(column);\n                if (columnValue.toString().contains(find)) {\n\n                    if (columnValue.toString().startsWith(&quot;a:&quot;)) { // PHP serialized array\n                        log.debug(&quot;Table: &quot; + table + &quot;; columnName: &quot; + columnName + &quot;; columnValue: &quot;\n                                + columnValue);\n                        log.debug(&quot;Found PHP serialized array: {}&quot;, columnValue.toString());\n\n                        try {\n                            // https://docs.jboss.org/hibernate/orm/5.1/userguide/html_single/chapters/query-native/Native.html\n                            MixedArray mlist = Pherialize.unserialize(columnValue.toString()).toArray();\n\n                            for (Map.Entry&lt;Object, Object&gt; entry : mlist.entrySet()) {\n                                Object key = entry.getKey();\n                                Object val = entry.getValue();\n                                log.debug(&quot;PHP ARRAY - KEY={}; VALUE={}&quot;, key, val);\n\n                                if (val.toString().contains(find)) {\n                                    String newValue = val.toString().replace(find, replace);\n                                    entry.setValue(newValue);\n                                }\n                            }\n\n                            String updateArray = Pherialize.serialize(mlist);\n                            log.debug(&quot;PHP ARRAY - UPATED_ARRAY= {}&quot;, updateArray);\n                            log.debug(&quot;PHP ARRAY - REPLACE: {} WITH: {}&quot;, columnValue.toString(), updateArray);\n                            String updateQuery = String.format(&quot;UPDATE %s SET %s = '%s' WHERE %s = '%s'&quot;, table,\n                                    columnName, updateArray, columnName, columnValue);\n                            log.debug(updateQuery);\n                            if (update) {\n                                try {\n                                    int result = entityManager.createNativeQuery(updateQuery).executeUpdate();\n                                    log.info(&quot;QUERY=\\&quot;{}\\&quot;, RESULT(PHP): {}&quot;, updateQuery, result);\n                                } catch (Exception e) {\n                                    e.printStackTrace();\n                                    String msg = String.format(&quot;SQL update query error. Query=\\&quot;%s\\&quot;, Error=\\&quot;%s\\&quot;&quot;,\n                                            updateQuery, e.toString());\n                                    log.error(msg);\n                                    throw new ResponseStatusException(HttpStatus.INTERNAL_SERVER_ERROR,\n                                            &quot;SQL update query error&quot;);\n                                }\n                            }\n\n                        } catch (Exception e) {\n                            e.printStackTrace();\n                            log.error(&quot;Broken PHP serialized array&quot;);\n                            throw new ResponseStatusException(HttpStatus.INTERNAL_SERVER_ERROR,\n                                    &quot;Broken PHP serialized array&quot;);\n                        }\n\n                    } else {\n\n                        String newValue = columnValue.toString().replace(find, replace);\n                        log.debug(&quot;REPLACE: {} WITH: {}&quot;, columnValue.toString(), newValue);\n                        String updateQuery = String.format(&quot;UPDATE %s SET %s = '%s' WHERE %s = '%s'&quot;, table,\n                                columnName, newValue, columnName, columnValue);\n                        log.debug(updateQuery);\n                        if (update) {\n                            try {\n                                int result = entityManager.createNativeQuery(updateQuery).executeUpdate();\n                                log.info(&quot;QUERY=\\&quot;{}\\&quot;, RESULT(NORMAL): {}&quot;, updateQuery, result);\n                            } catch (Exception e) {\n                                e.printStackTrace();\n                                String msg = String.format(&quot;SQL update query error. Query=\\&quot;%s\\&quot;, Error=\\&quot;%s\\&quot;&quot;,\n                                        updateQuery, e.toString());\n                                log.error(msg);\n                                throw new ResponseStatusException(HttpStatus.INTERNAL_SERVER_ERROR,\n                                        &quot;SQL update query error&quot;);\n                            }\n                        }\n                    }\n                }\n                formattedRow.put(columnName, columnValue);\n            });\n\n            formattedRows.add(formattedRow);\n        });\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2238936,"reputation":1737,"user_id":1974494,"accept_rate":43,"display_name":"martin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76988128,"answer_count":1,"score":0,"last_activity_date":1693155814,"creation_date":1692292597,"question_id":76923782,"body_markdown":"I need to replace all occurrences of string in database. I don&#39;t know names of tables. Column definition. Nothing.\r\n\r\nDatabase is MySQL database of Wordpress and I need to replace strings in all tables. If user install some Wordpress plugin it can create own database table. So I can&#39;t map tables to POJO using Hibernate.\r\n\r\nTables may looks like on this image:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI tried `entityManager.createNativeQuery()` for get names of all tables. It works:\r\n\r\n```java\r\n@PersistenceContext\r\nEntityManager entityManager;\r\n//...\r\n\t\r\nString q3 = &quot;SELECT table_name, table_schema FROM information_schema.tables WHERE table_schema = &#39;wh&quot; + Integer.toString(serverId) + &quot;&#39; AND table_type = &#39;BASE TABLE&#39; ORDER BY table_name ASC&quot;;\r\nSystem.out.println(q3);\r\nList&lt;Object[]&gt; objects3 = entityManager.createNativeQuery(q3).getResultList();\r\nfor (Object[] o : objects3) {\r\n\tString table_name   = (String) o[0];\r\n\tString table_schema = (String) o[1];\r\n\tSystem.out.println(table_name + &quot; --- &quot; + table_schema);\r\n}\r\n```\r\n\r\noutput:\r\n```\r\nwh123_commentmeta --- wh123\r\nwh123_comments --- wh123\r\nwh123_links --- wh123\r\nwh123_options --- wh123\r\nwh123_postmeta --- wh123\r\nwh123_posts --- wh123\r\nwh123_term_relationships --- wh123\r\nwh123_term_taxonomy --- wh123\r\nwh123_termmeta --- wh123\r\nwh123_terms --- wh123\r\nwh123_usermeta --- wh123\r\nwh123_users --- wh123\r\nwh123_ve_posts_layer --- wh123\r\n```\r\n\r\nAnd find all occurrences of string &quot;example.net&quot;. It works too:\r\n\r\n```java\r\n// example for one table:\r\nString find = &quot;example.net&quot;;\r\nString q4 = &quot;SELECT * FROM wh&quot; + Integer.toString(serverId) + &quot;.wh&quot; + Integer.toString(serverId) + &quot;_options&quot;;\r\nSystem.out.println(q4);\r\nList&lt;Object[]&gt; objects4 = entityManager.createNativeQuery(q4).getResultList();\r\nfor (Object[] o : objects4) {\r\n\tfor (int i = 0; i &lt; o.length; i++) {\r\n\t\tSystem.out.print(o[i]);\r\n\t\tSystem.out.print(&quot; - &quot;);\r\n\t\tif (o[i].toString().contains(find)) {\r\n\t\t\tSystem.err.println(&quot;STRING FOUND: &quot; + o[i].toString());\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\noutput:\r\n```\r\n617 - web_option_license - a:1:{s:7:&quot;license&quot;;s:16:&quot;test@example.net&quot;;} - STRING FOUND: a:1:{s:7:&quot;license&quot;;s:16:&quot;test@example.net&quot;;}\r\n```\r\n\r\nNow I need to replace `example.net` with (for example) `text.com` and replace the original string in the database. But now I have no idea how to put replaced string back to the database...\r\n\r\n(De)serialization of PHP array will be the next step...\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dPPPz.png","title":"Java Hibernate: replace all occurrences of string without entity mapping","body":"<p>I need to replace all occurrences of string in database. I don't know names of tables. Column definition. Nothing.</p>\n<p>Database is MySQL database of Wordpress and I need to replace strings in all tables. If user install some Wordpress plugin it can create own database table. So I can't map tables to POJO using Hibernate.</p>\n<p>Tables may looks like on this image:</p>\n<p><a href=\"https://i.stack.imgur.com/dPPPz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dPPPz.png\" alt=\"enter image description here\" /></a></p>\n<p>I tried <code>entityManager.createNativeQuery()</code> for get names of all tables. It works:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@PersistenceContext\nEntityManager entityManager;\n//...\n    \nString q3 = &quot;SELECT table_name, table_schema FROM information_schema.tables WHERE table_schema = 'wh&quot; + Integer.toString(serverId) + &quot;' AND table_type = 'BASE TABLE' ORDER BY table_name ASC&quot;;\nSystem.out.println(q3);\nList&lt;Object[]&gt; objects3 = entityManager.createNativeQuery(q3).getResultList();\nfor (Object[] o : objects3) {\n    String table_name   = (String) o[0];\n    String table_schema = (String) o[1];\n    System.out.println(table_name + &quot; --- &quot; + table_schema);\n}\n</code></pre>\n<p>output:</p>\n<pre><code>wh123_commentmeta --- wh123\nwh123_comments --- wh123\nwh123_links --- wh123\nwh123_options --- wh123\nwh123_postmeta --- wh123\nwh123_posts --- wh123\nwh123_term_relationships --- wh123\nwh123_term_taxonomy --- wh123\nwh123_termmeta --- wh123\nwh123_terms --- wh123\nwh123_usermeta --- wh123\nwh123_users --- wh123\nwh123_ve_posts_layer --- wh123\n</code></pre>\n<p>And find all occurrences of string &quot;example.net&quot;. It works too:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// example for one table:\nString find = &quot;example.net&quot;;\nString q4 = &quot;SELECT * FROM wh&quot; + Integer.toString(serverId) + &quot;.wh&quot; + Integer.toString(serverId) + &quot;_options&quot;;\nSystem.out.println(q4);\nList&lt;Object[]&gt; objects4 = entityManager.createNativeQuery(q4).getResultList();\nfor (Object[] o : objects4) {\n    for (int i = 0; i &lt; o.length; i++) {\n        System.out.print(o[i]);\n        System.out.print(&quot; - &quot;);\n        if (o[i].toString().contains(find)) {\n            System.err.println(&quot;STRING FOUND: &quot; + o[i].toString());\n        }\n    }\n}\n</code></pre>\n<p>output:</p>\n<pre><code>617 - web_option_license - a:1:{s:7:&quot;license&quot;;s:16:&quot;test@example.net&quot;;} - STRING FOUND: a:1:{s:7:&quot;license&quot;;s:16:&quot;test@example.net&quot;;}\n</code></pre>\n<p>Now I need to replace <code>example.net</code> with (for example) <code>text.com</code> and replace the original string in the database. But now I have no idea how to put replaced string back to the database...</p>\n<p>(De)serialization of PHP array will be the next step...</p>\n"},{"tags":["java","google-app-engine","google-analytics"],"comments":[{"owner":{"account_id":20715675,"reputation":5404,"user_id":15211203,"display_name":"NoCommandLine"},"score":0,"creation_date":1692906404,"post_id":76971829,"comment_id":135691799,"body_markdown":"what do you mean by ``` it did not yield the desired results```?","body":"what do you mean by ``` it did not yield the desired results```?"},{"owner":{"account_id":12929907,"reputation":291,"user_id":9349267,"display_name":"Udhaya"},"score":0,"creation_date":1692933149,"post_id":76971829,"comment_id":135694785,"body_markdown":"It is not working.","body":"It is not working."},{"owner":{"account_id":20715675,"reputation":5404,"user_id":15211203,"display_name":"NoCommandLine"},"score":0,"creation_date":1692977029,"post_id":76971829,"comment_id":135703075,"body_markdown":"You need to be explicit - did you get an error (if so what is the error), did it not log the data to Google Analytics, what exactly happened?","body":"You need to be explicit - did you get an error (if so what is the error), did it not log the data to Google Analytics, what exactly happened?"},{"owner":{"account_id":12929907,"reputation":291,"user_id":9349267,"display_name":"Udhaya"},"score":0,"creation_date":1693064729,"post_id":76971829,"comment_id":135711980,"body_markdown":"The event wasn&#39;t triggered though the connection was successful. Found what went wrong and fixed it.","body":"The event wasn&#39;t triggered though the connection was successful. Found what went wrong and fixed it."}],"answers":[{"comments":[{"owner":{"account_id":20715675,"reputation":5404,"user_id":15211203,"display_name":"NoCommandLine"},"score":0,"creation_date":1693070539,"post_id":76983698,"comment_id":135712693,"body_markdown":"You should provide an explanation of what the issue was/what you did to fix it.","body":"You should provide an explanation of what the issue was/what you did to fix it."},{"owner":{"account_id":12929907,"reputation":291,"user_id":9349267,"display_name":"Udhaya"},"score":0,"creation_date":1693155778,"post_id":76983698,"comment_id":135719767,"body_markdown":"@NoCommandLine Thanks for the suggestion. I&#39;ve updated my answer.","body":"@NoCommandLine Thanks for the suggestion. I&#39;ve updated my answer."}],"tags":[],"owner":{"account_id":12929907,"reputation":291,"user_id":9349267,"display_name":"Udhaya"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1693155722,"creation_date":1693064670,"answer_id":76983698,"question_id":76971829,"body_markdown":"The issue I encountered while using the code from the provided link - https://cloud.google.com/appengine/docs/legacy/standard/java/google-analytics - was that the URL used for pushing events was outdated. Upon further investigation, I discovered that the URL has been updated. I can now utilize the API key and measurement ID for this purpose. After testing the following code, I found that it meets my requirements for pushing events successfully.\r\n\r\n```\r\npublic class TrackAnalytics {\r\n  final String API_KEY = &quot;{YOUR_API_KEY}&quot;;\r\n  final String GA_ID = &quot;{YOUR_MEASUREMENT_ID}&quot;;\r\n  public void triggerGAEvent() {\r\n    String url = &quot;https://www.google-analytics.com/mp/collect?api_secret=&quot; + API_KEY + &quot;&amp;measurement_id=&quot; + GA_ID;\r\n    \r\n    Map&lt;String, String&gt; params = new HashMap&lt;&gt;();\r\n    params.put(&quot;{EVENT_PARAM_KEY_1}&quot;, &quot;EVENT_PARAM_VALUE_1&quot;);\r\n    params.put(&quot;{EVENT_PARAM_KEY_2}&quot;, &quot;EVENT_PARAM_VALUE_2&quot;);\r\n\r\n    Map&lt;String, Object&gt; event = new HashMap&lt;&gt;();\r\n    event.put(&quot;name&quot;, &quot;{EVENT_NAME}&quot;);\r\n    event.put(&quot;params&quot;, params);\r\n    \r\n    List&lt;Map&lt;String, Object&gt;&gt; events = new ArrayList&lt;&gt;();\r\n    events.add(event);\r\n    \r\n    Map&lt;String, Object&gt; payload = new HashMap&lt;&gt;();\r\n    payload.put(&quot;client_id&quot;, UUID.randomUUID()); //Can be user session id\r\n    payload.put(&quot;non_personalized_ads&quot;, false);\r\n    payload.put(&quot;events&quot;, events);\r\n\r\n    // Use HttpURLConnection\r\n    // Method: POST\r\n    // content-type: application/json\r\n    // Body: Payload\r\n\r\n }\r\n}\r\n```","title":"Implementing GA4 Event Tracking in Java on Google App Engine","body":"<p>The issue I encountered while using the code from the provided link - <a href=\"https://cloud.google.com/appengine/docs/legacy/standard/java/google-analytics\" rel=\"nofollow noreferrer\">https://cloud.google.com/appengine/docs/legacy/standard/java/google-analytics</a> - was that the URL used for pushing events was outdated. Upon further investigation, I discovered that the URL has been updated. I can now utilize the API key and measurement ID for this purpose. After testing the following code, I found that it meets my requirements for pushing events successfully.</p>\n<pre><code>public class TrackAnalytics {\n  final String API_KEY = &quot;{YOUR_API_KEY}&quot;;\n  final String GA_ID = &quot;{YOUR_MEASUREMENT_ID}&quot;;\n  public void triggerGAEvent() {\n    String url = &quot;https://www.google-analytics.com/mp/collect?api_secret=&quot; + API_KEY + &quot;&amp;measurement_id=&quot; + GA_ID;\n    \n    Map&lt;String, String&gt; params = new HashMap&lt;&gt;();\n    params.put(&quot;{EVENT_PARAM_KEY_1}&quot;, &quot;EVENT_PARAM_VALUE_1&quot;);\n    params.put(&quot;{EVENT_PARAM_KEY_2}&quot;, &quot;EVENT_PARAM_VALUE_2&quot;);\n\n    Map&lt;String, Object&gt; event = new HashMap&lt;&gt;();\n    event.put(&quot;name&quot;, &quot;{EVENT_NAME}&quot;);\n    event.put(&quot;params&quot;, params);\n    \n    List&lt;Map&lt;String, Object&gt;&gt; events = new ArrayList&lt;&gt;();\n    events.add(event);\n    \n    Map&lt;String, Object&gt; payload = new HashMap&lt;&gt;();\n    payload.put(&quot;client_id&quot;, UUID.randomUUID()); //Can be user session id\n    payload.put(&quot;non_personalized_ads&quot;, false);\n    payload.put(&quot;events&quot;, events);\n\n    // Use HttpURLConnection\n    // Method: POST\n    // content-type: application/json\n    // Body: Payload\n\n }\n}\n</code></pre>\n"}],"owner":{"account_id":12929907,"reputation":291,"user_id":9349267,"display_name":"Udhaya"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76983698,"answer_count":1,"score":0,"last_activity_date":1693155722,"creation_date":1692899535,"question_id":76971829,"body_markdown":"I have a requirement to trigger a Google Analytics event from a backend that runs on Google App Engine using Java 8. I attempted the approach mentioned in the official documentation, specifically the one found here: https://cloud.google.com/appengine/docs/legacy/standard/java/google-analytics but unfortunately, it did not yield the desired results.\r\n\r\nIt appears that the method outlined in the documentation is intended for Universal Analytics (UA) tracking IDs, while I am using a Google Analytics 4 (GA4) tracking ID. In my search for a solution, I came across a resource intended for Firebase, which is not quite applicable to my situation: https://developers.google.com/analytics/devguides/collection/protocol/ga4/validating-events\r\n\r\nPlease provide guidance or suggestions on how to successfully trigger Google Analytics events from a Java 8 backend on Google App Engine, specifically for a GA4 tracking ID.","title":"Implementing GA4 Event Tracking in Java on Google App Engine","body":"<p>I have a requirement to trigger a Google Analytics event from a backend that runs on Google App Engine using Java 8. I attempted the approach mentioned in the official documentation, specifically the one found here: <a href=\"https://cloud.google.com/appengine/docs/legacy/standard/java/google-analytics\" rel=\"nofollow noreferrer\">https://cloud.google.com/appengine/docs/legacy/standard/java/google-analytics</a> but unfortunately, it did not yield the desired results.</p>\n<p>It appears that the method outlined in the documentation is intended for Universal Analytics (UA) tracking IDs, while I am using a Google Analytics 4 (GA4) tracking ID. In my search for a solution, I came across a resource intended for Firebase, which is not quite applicable to my situation: <a href=\"https://developers.google.com/analytics/devguides/collection/protocol/ga4/validating-events\" rel=\"nofollow noreferrer\">https://developers.google.com/analytics/devguides/collection/protocol/ga4/validating-events</a></p>\n<p>Please provide guidance or suggestions on how to successfully trigger Google Analytics events from a Java 8 backend on Google App Engine, specifically for a GA4 tracking ID.</p>\n"},{"tags":["java","sql","database","hibernate","jpa"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1689929166,"post_id":76731778,"comment_id":135285567,"body_markdown":"What does `equals()` and `hashCode()` look like for `Message`?","body":"What does <code>equals()</code> and <code>hashCode()</code> look like for <code>Message</code>?"},{"owner":{"account_id":18238102,"reputation":94,"user_id":13275649,"display_name":"Lucas Tomic"},"score":0,"creation_date":1690016930,"post_id":76731778,"comment_id":135296401,"body_markdown":"I&#39;ve just added it to the post. Is the generated by IntelliJ","body":"I&#39;ve just added it to the post. Is the generated by IntelliJ"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1690265075,"post_id":76731778,"comment_id":135325069,"body_markdown":"Just use `Objects.hash(id, value);`. Do the same for user and chat. They shouldn&#39;t be part of `equals()` and `hashCode()`","body":"Just use <code>Objects.hash(id, value);</code>. Do the same for user and chat. They shouldn&#39;t be part of <code>equals()</code> and <code>hashCode()</code>"},{"owner":{"account_id":18238102,"reputation":94,"user_id":13275649,"display_name":"Lucas Tomic"},"score":0,"creation_date":1691480511,"post_id":76731778,"comment_id":135493591,"body_markdown":"Done. But, It hasn&#39;t solved the problem","body":"Done. But, It hasn&#39;t solved the problem"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1691504199,"post_id":76731778,"comment_id":135498718,"body_markdown":"Have you tried making Chat.messages and Chat.users lazily fetched? Eager in Hibernate is treated the same as a fetch join, and this is known to cause problems on *toMany relations in ways that might make your queries more difficult for Hibernate to piece together. Not all providers have this issue and know how to filter out duplicates from the collections. I believe it is why they so commonly use Set instead of List (a different solution). Alternatively, you can try @BatchSize on the relationship(s). Basically anything other than eager/join fetching.","body":"Have you tried making Chat.messages and Chat.users lazily fetched? Eager in Hibernate is treated the same as a fetch join, and this is known to cause problems on *toMany relations in ways that might make your queries more difficult for Hibernate to piece together. Not all providers have this issue and know how to filter out duplicates from the collections. I believe it is why they so commonly use Set instead of List (a different solution). Alternatively, you can try @BatchSize on the relationship(s). Basically anything other than eager/join fetching."},{"owner":{"account_id":1100252,"reputation":10087,"user_id":1092818,"display_name":"crizzis"},"score":0,"creation_date":1693121339,"post_id":76731778,"comment_id":135716309,"body_markdown":"`this is incompatible with sql_mode=only_full_group_by` suggests you should perhaps try another mode","body":"<code>this is incompatible with sql_mode=only_full_group_by</code> suggests you should perhaps try another mode"}],"answers":[{"comments":[{"owner":{"account_id":18238102,"reputation":94,"user_id":13275649,"display_name":"Lucas Tomic"},"score":0,"creation_date":1691479975,"post_id":76750783,"comment_id":135493482,"body_markdown":"Hello, I&#39;m sorry for the delay (I was on vacations). It returns me the next error:\n\nExpression #3 of SELECT list is not in GROUP BY clause and contains nonaggregated column &#39;close.m1_0.id&#39; which is not functionally dependent on columns in GROUP BY clause; this is incompatible with sql_mode=only_full_group_by\n\nI will add it in details on the post, so you can see it better","body":"Hello, I&#39;m sorry for the delay (I was on vacations). It returns me the next error:  Expression #3 of SELECT list is not in GROUP BY clause and contains nonaggregated column &#39;close.m1_0.id&#39; which is not functionally dependent on columns in GROUP BY clause; this is incompatible with sql_mode=only_full_group_by  I will add it in details on the post, so you can see it better"},{"owner":{"account_id":9146887,"reputation":151,"user_id":6802723,"display_name":"EdmarSM"},"score":0,"creation_date":1691507783,"post_id":76750783,"comment_id":135499619,"body_markdown":"I think I have figured out the problem, I am going to change my answer.","body":"I think I have figured out the problem, I am going to change my answer."},{"owner":{"account_id":18238102,"reputation":94,"user_id":13275649,"display_name":"Lucas Tomic"},"score":0,"creation_date":1692894255,"post_id":76750783,"comment_id":135689319,"body_markdown":"I&#39;ve realizaed that this hasn&#39;t solved the problem. I thought It has, but I realized that the message are still duplicated. The difference is that they use to be duplicated this way: AABBCCDDEE..., and with this answer they are duplicated this way: ABCDEABCDE","body":"I&#39;ve realizaed that this hasn&#39;t solved the problem. I thought It has, but I realized that the message are still duplicated. The difference is that they use to be duplicated this way: AABBCCDDEE..., and with this answer they are duplicated this way: ABCDEABCDE"}],"tags":[],"owner":{"account_id":9146887,"reputation":151,"user_id":6802723,"display_name":"EdmarSM"},"comment_count":3,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1691508374,"creation_date":1690157741,"answer_id":76750783,"question_id":76731778,"body_markdown":"When your query executes, your model will always return a cartesian plan composed of the 3 tables.\r\n\r\nI believe that in this case what you should have to do is implement the `DISTINCT` clause into your projection, this way Hibernate would be able to compare the objects and add to the list of messages only one of each different message.\r\n\r\n```java\r\n    public interface ChatRepository extends JpaRepository&lt;Chat,Long&gt; {\r\n        @Query(&quot;SELECT DISTINCT c FROM Chat c INNER JOIN FETCH c.users u LEFT JOIN FETCH c.messages m WHERE c.id IN (SELECT c2.id FROM Chat c2 INNER JOIN c2.users u2 WHERE u2.id IN :usersIDs GROUP BY c2 HAVING COUNT(DISTINCT u2) = :numberOfUsers)&quot;)\r\n        Optional&lt;Chat&gt; getChat(@Param(&quot;usersIDs&quot;) List&lt;Long&gt; usersIDs, int numberOfUsers);\r\n    }\r\n```\r\n\r\nI have also added `FETCH` to your join to retrieve messages into a single shot, but that also can make the query bigger and add another instance of the user table to retrieve the message&#39;s user instead of reusing the same of the chat&#39;s user.\r\n\r\nBesides distinct would have no effect on database query, Hibernate would know that the result must pass on a reduction process to eliminate duplicity.\r\n\r\nAlso, this article could be helpful: https://vladmihalcea.com/jpql-distinct-jpa-hibernate/\r\n\r\nNotice that I&#39;ve added the user count into a subquery, this way it is expected that you will not have an error in the group by clause.","title":"JPARepository returns duplicated child entities","body":"<p>When your query executes, your model will always return a cartesian plan composed of the 3 tables.</p>\n<p>I believe that in this case what you should have to do is implement the <code>DISTINCT</code> clause into your projection, this way Hibernate would be able to compare the objects and add to the list of messages only one of each different message.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public interface ChatRepository extends JpaRepository&lt;Chat,Long&gt; {\n        @Query(&quot;SELECT DISTINCT c FROM Chat c INNER JOIN FETCH c.users u LEFT JOIN FETCH c.messages m WHERE c.id IN (SELECT c2.id FROM Chat c2 INNER JOIN c2.users u2 WHERE u2.id IN :usersIDs GROUP BY c2 HAVING COUNT(DISTINCT u2) = :numberOfUsers)&quot;)\n        Optional&lt;Chat&gt; getChat(@Param(&quot;usersIDs&quot;) List&lt;Long&gt; usersIDs, int numberOfUsers);\n    }\n</code></pre>\n<p>I have also added <code>FETCH</code> to your join to retrieve messages into a single shot, but that also can make the query bigger and add another instance of the user table to retrieve the message's user instead of reusing the same of the chat's user.</p>\n<p>Besides distinct would have no effect on database query, Hibernate would know that the result must pass on a reduction process to eliminate duplicity.</p>\n<p>Also, this article could be helpful: <a href=\"https://vladmihalcea.com/jpql-distinct-jpa-hibernate/\" rel=\"nofollow noreferrer\">https://vladmihalcea.com/jpql-distinct-jpa-hibernate/</a></p>\n<p>Notice that I've added the user count into a subquery, this way it is expected that you will not have an error in the group by clause.</p>\n"},{"tags":[],"owner":{"account_id":18238102,"reputation":94,"user_id":13275649,"display_name":"Lucas Tomic"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693053177,"creation_date":1693053177,"answer_id":76982977,"question_id":76731778,"body_markdown":"Here we go. Finally, I coulnd&#39;t find any clean solution. The better I could do was:\r\n\r\n    @Query(&quot;SELECT c FROM Chat c JOIN c.users u WHERE u.id IN :usersIDs GROUP BY c HAVING COUNT(DISTINCT u) = :numberOfUsers&quot;)\r\n    Optional&lt;Chat&gt; getChatWithDuplicatedMessages(@Param(&quot;usersIDs&quot;) List&lt;Long&gt; usersIDs, int numberOfUsers);\r\n    \r\n    @Query(&quot;SELECT DISTINCT m FROM Chat c JOIN c.messages m WHERE c.id = :chatId&quot;)\r\n    List&lt;Message&gt; getMessagesByChat(Long chatId);\r\n\r\nAnd override the messages of the Chat retrieved in the first method, with the messages retrieved in the second method. \r\n\r\nPretty dirty solution, I know. But is all I could manage to do. If someone knows how to face the problem in a cleaner way (modifying the SQL sentence to retrieve the `Chat` without duplicity), I will mark their solution as the correct one.","title":"JPARepository returns duplicated child entities","body":"<p>Here we go. Finally, I coulnd't find any clean solution. The better I could do was:</p>\n<pre><code>@Query(&quot;SELECT c FROM Chat c JOIN c.users u WHERE u.id IN :usersIDs GROUP BY c HAVING COUNT(DISTINCT u) = :numberOfUsers&quot;)\nOptional&lt;Chat&gt; getChatWithDuplicatedMessages(@Param(&quot;usersIDs&quot;) List&lt;Long&gt; usersIDs, int numberOfUsers);\n\n@Query(&quot;SELECT DISTINCT m FROM Chat c JOIN c.messages m WHERE c.id = :chatId&quot;)\nList&lt;Message&gt; getMessagesByChat(Long chatId);\n</code></pre>\n<p>And override the messages of the Chat retrieved in the first method, with the messages retrieved in the second method.</p>\n<p>Pretty dirty solution, I know. But is all I could manage to do. If someone knows how to face the problem in a cleaner way (modifying the SQL sentence to retrieve the <code>Chat</code> without duplicity), I will mark their solution as the correct one.</p>\n"},{"comments":[{"owner":{"account_id":18238102,"reputation":94,"user_id":13275649,"display_name":"Lucas Tomic"},"score":0,"creation_date":1693155411,"post_id":76987896,"comment_id":135719722,"body_markdown":"Thank you for your answer. Sounds good, seems like I&#39;m trying to &quot;merge&quot; two chats in one. I think I couldn&#39;t see it before because I don&#39;t fully understand the way JPA traduces JPQL to SQL, do you think that could be my problem? By the way, I can&#39;t use `Set&lt;Message&gt;` because I need the messages to be sorted.","body":"Thank you for your answer. Sounds good, seems like I&#39;m trying to &quot;merge&quot; two chats in one. I think I couldn&#39;t see it before because I don&#39;t fully understand the way JPA traduces JPQL to SQL, do you think that could be my problem? By the way, I can&#39;t use <code>Set&lt;Message&gt;</code> because I need the messages to be sorted."},{"owner":{"account_id":18238102,"reputation":94,"user_id":13275649,"display_name":"Lucas Tomic"},"score":0,"creation_date":1693156356,"post_id":76987896,"comment_id":135719836,"body_markdown":"And one thing more. Using the SQL sentence &quot;&quot;SELECT c FROM Chat c WHERE c.id = :id&quot; I get the chat with the messages duplicated 8 times. I don&#39;t understand that neither","body":"And one thing more. Using the SQL sentence &quot;&quot;SELECT c FROM Chat c WHERE c.id = :id&quot; I get the chat with the messages duplicated 8 times. I don&#39;t understand that neither"},{"owner":{"account_id":24224809,"reputation":363,"user_id":18179479,"display_name":"Mircea Sirghi"},"score":0,"creation_date":1693160546,"post_id":76987896,"comment_id":135720354,"body_markdown":"Interesting, I can imagine such case only if you select using previous query having 8 users, your result gets cashed, and you select the same id again which is returned from cash. Though, if possible, please share the generated query.","body":"Interesting, I can imagine such case only if you select using previous query having 8 users, your result gets cashed, and you select the same id again which is returned from cash. Though, if possible, please share the generated query."},{"owner":{"account_id":24224809,"reputation":363,"user_id":18179479,"display_name":"Mircea Sirghi"},"score":0,"creation_date":1693178362,"post_id":76987896,"comment_id":135721844,"body_markdown":"@LucasTomic I have tested your configuration, there are no duplication at all in either cases. I suspect you really have duplication in your DB. The problem seems to be when you insert a message you insert it for each user. If you don&#39;t mind I can add my project in github so you can have a look.","body":"@LucasTomic I have tested your configuration, there are no duplication at all in either cases. I suspect you really have duplication in your DB. The problem seems to be when you insert a message you insert it for each user. If you don&#39;t mind I can add my project in github so you can have a look."},{"owner":{"account_id":18238102,"reputation":94,"user_id":13275649,"display_name":"Lucas Tomic"},"score":0,"creation_date":1693214196,"post_id":76987896,"comment_id":135725784,"body_markdown":"Yes, please add it. However, if I watch my database in MysqlWorkbench I see no duplication. Also, when I see the duplicity in my debugger the duplicated messages has the same ID (which is the primary key) so, they can&#39;t be duplicated in the databse","body":"Yes, please add it. However, if I watch my database in MysqlWorkbench I see no duplication. Also, when I see the duplicity in my debugger the duplicated messages has the same ID (which is the primary key) so, they can&#39;t be duplicated in the databse"},{"owner":{"account_id":24224809,"reputation":363,"user_id":18179479,"display_name":"Mircea Sirghi"},"score":0,"creation_date":1693241749,"post_id":76987896,"comment_id":135731613,"body_markdown":"Here you are the repo: https://github.com/hackus/TriangleRelations, test is failing because of Optional&lt;Chat&gt; it should actually be List&lt;Chat, To check the database add a breakpoint in test for current thread only. And open http://localhost:8081/h2-console","body":"Here you are the repo: <a href=\"https://github.com/hackus/TriangleRelations\" rel=\"nofollow noreferrer\">github.com/hackus/TriangleRelations</a>, test is failing because of Optional&lt;Chat&gt; it should actually be List&lt;Chat, To check the database add a breakpoint in test for current thread only. And open <a href=\"http://localhost:8081/h2-console\" rel=\"nofollow noreferrer\">localhost:8081/h2-console</a>"},{"owner":{"account_id":18238102,"reputation":94,"user_id":13275649,"display_name":"Lucas Tomic"},"score":0,"creation_date":1693309634,"post_id":76987896,"comment_id":135740885,"body_markdown":"I&#39;m sorry, there was no way for me to run your project. I opened an Issue in your GitHub","body":"I&#39;m sorry, there was no way for me to run your project. I opened an Issue in your GitHub"},{"owner":{"account_id":24224809,"reputation":363,"user_id":18179479,"display_name":"Mircea Sirghi"},"score":0,"creation_date":1693312603,"post_id":76987896,"comment_id":135741517,"body_markdown":"Fixed, please check. It was because I have used an older hibernate version trying to simulate your case. Also you may have to delete .idea folder and run invalidate cash.","body":"Fixed, please check. It was because I have used an older hibernate version trying to simulate your case. Also you may have to delete .idea folder and run invalidate cash."},{"owner":{"account_id":18238102,"reputation":94,"user_id":13275649,"display_name":"Lucas Tomic"},"score":0,"creation_date":1693379692,"post_id":76987896,"comment_id":135751194,"body_markdown":"I&#39;been testing your repo and you&#39;re right. It works properly. So, the problem in my project must be in other part.","body":"I&#39;been testing your repo and you&#39;re right. It works properly. So, the problem in my project must be in other part."},{"owner":{"account_id":24224809,"reputation":363,"user_id":18179479,"display_name":"Mircea Sirghi"},"score":0,"creation_date":1693380627,"post_id":76987896,"comment_id":135751331,"body_markdown":"Yes, you have some relations(foreign keys, tables) in your database that confuses hibernate to create wrong queries.","body":"Yes, you have some relations(foreign keys, tables) in your database that confuses hibernate to create wrong queries."},{"owner":{"account_id":24224809,"reputation":363,"user_id":18179479,"display_name":"Mircea Sirghi"},"score":0,"creation_date":1693381279,"post_id":76987896,"comment_id":135751449,"body_markdown":"I can add an init SQL script and remove ddl-auto: update, so that you test your schema directly.","body":"I can add an init SQL script and remove ddl-auto: update, so that you test your schema directly."},{"owner":{"account_id":24224809,"reputation":363,"user_id":18179479,"display_name":"Mircea Sirghi"},"score":0,"creation_date":1693382340,"post_id":76987896,"comment_id":135751651,"body_markdown":"Here you are, the branch to better simulate database through init script https://github.com/hackus/TriangleRelations/tree/feature/addinitscript you can update https://github.com/hackus/TriangleRelations/blob/feature/addinitscript/src/main/resources/data.sql so that it matches your DB schema.","body":"Here you are, the branch to better simulate database through init script <a href=\"https://github.com/hackus/TriangleRelations/tree/feature/addinitscript\" rel=\"nofollow noreferrer\">github.com/hackus/TriangleRelations/tree/feature/addinitscri&zwnj;&#8203;pt</a> you can update <a href=\"https://github.com/hackus/TriangleRelations/blob/feature/addinitscript/src/main/resources/data.sql\" rel=\"nofollow noreferrer\">github.com/hackus/TriangleRelations/blob/feature/addinitscri&zwnj;&#8203;pt/&hellip;</a> so that it matches your DB schema."},{"owner":{"account_id":18238102,"reputation":94,"user_id":13275649,"display_name":"Lucas Tomic"},"score":0,"creation_date":1693385264,"post_id":76987896,"comment_id":135752259,"body_markdown":"I think I&#39;ve found the problem. I&#39;m updating the post in a moment","body":"I think I&#39;ve found the problem. I&#39;m updating the post in a moment"}],"tags":[],"owner":{"account_id":24224809,"reputation":363,"user_id":18179479,"display_name":"Mircea Sirghi"},"comment_count":13,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1693155372,"creation_date":1693152186,"answer_id":76987896,"question_id":76731778,"body_markdown":"It is totally correct to receive duplicated messages, as you receive same chat for two different users. So first chat has its messages, second chat has its messages, because it is the same chat, messages are duplicated. Had you had received three users, you would have received triplicated messages. \r\n\r\nThe problem is that you should select separately users and messages having your relational diagram. \r\n\r\nWhat you are trying to select is those chats that have number of users from a list of users. I would rather select just the distinct chat ids, then retrieve the list of messages by chat id separately. Otherwise you combine two separate relations chats-users and chat-messages and want them to match each other - impossible.\r\n\r\nChange your query to: \r\n\r\n    &quot;SELECT DISTINCT c.id FROM Chat c JOIN c.users u WHERE u.id IN :usersIDs GROUP BY c HAVING COUNT(DISTINCT u) = :numberOfUsers&quot; \r\n\r\nthen fetch chats by id, and from each chat get users or get messages, which will be two separate queries with no duplicates.\r\n\r\nYou can also try to change\r\n\r\n    @OneToMany(mappedBy = &quot;chat&quot;, cascade = CascadeType.ALL)\r\n        private List&lt;Message&gt; messages = new ArrayList&lt;&gt;();\r\n\r\nto\r\n\r\n    @OneToMany(mappedBy = &quot;chat&quot;, cascade = CascadeType.ALL)\r\n        private Set&lt;Message&gt; messages = new HashSet&lt;&gt;();\r\n\r\nThis can help, have not tried. Though if it does not throw an exception it will do.","title":"JPARepository returns duplicated child entities","body":"<p>It is totally correct to receive duplicated messages, as you receive same chat for two different users. So first chat has its messages, second chat has its messages, because it is the same chat, messages are duplicated. Had you had received three users, you would have received triplicated messages.</p>\n<p>The problem is that you should select separately users and messages having your relational diagram.</p>\n<p>What you are trying to select is those chats that have number of users from a list of users. I would rather select just the distinct chat ids, then retrieve the list of messages by chat id separately. Otherwise you combine two separate relations chats-users and chat-messages and want them to match each other - impossible.</p>\n<p>Change your query to:</p>\n<pre><code>&quot;SELECT DISTINCT c.id FROM Chat c JOIN c.users u WHERE u.id IN :usersIDs GROUP BY c HAVING COUNT(DISTINCT u) = :numberOfUsers&quot; \n</code></pre>\n<p>then fetch chats by id, and from each chat get users or get messages, which will be two separate queries with no duplicates.</p>\n<p>You can also try to change</p>\n<pre><code>@OneToMany(mappedBy = &quot;chat&quot;, cascade = CascadeType.ALL)\n    private List&lt;Message&gt; messages = new ArrayList&lt;&gt;();\n</code></pre>\n<p>to</p>\n<pre><code>@OneToMany(mappedBy = &quot;chat&quot;, cascade = CascadeType.ALL)\n    private Set&lt;Message&gt; messages = new HashSet&lt;&gt;();\n</code></pre>\n<p>This can help, have not tried. Though if it does not throw an exception it will do.</p>\n"}],"owner":{"account_id":18238102,"reputation":94,"user_id":13275649,"display_name":"Lucas Tomic"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":229,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"closed_date":1693479522,"accepted_answer_id":76987896,"answer_count":3,"score":5,"last_activity_date":1693155372,"creation_date":1689869470,"question_id":76731778,"body_markdown":"I&#39;m developing the chat feature in my app. The problem occurs when I try to retrieve a `Chat` object from my database, all the messages are retrieved duplicated twice.\r\n\r\n## Project structure ##\r\nThis is the simplified structure followed:\r\n\r\n[![UML diagram][1]][1]\r\n\r\nAnd this are the entities (simplified):\r\n\r\n\r\n    @Entity\r\n    public class Chat {\r\n        @Id\r\n        @GeneratedValue\r\n        private Long id;\r\n    \r\n        @ManyToMany\r\n        @JoinTable(\r\n                name = &quot;user_chat&quot;,\r\n                joinColumns = @JoinColumn(name = &quot;chat&quot;),\r\n                inverseJoinColumns = @JoinColumn(name = &quot;user&quot;)\r\n        )\r\n        private Set&lt;User&gt; users = new HashSet&lt;&gt;();\r\n    \r\n        @OneToMany(mappedBy = &quot;chat&quot;, cascade = CascadeType.ALL)\r\n        private List&lt;Message&gt; messages = new ArrayList&lt;&gt;();\r\n    \r\n    \r\n        public void addMessage(Message message){\r\n            this.messages.add(message);\r\n        }\r\n    }\r\n\r\n\r\n    @Entity\r\n    public class Message {\r\n        private @Id @GeneratedValue Long id;\r\n    \r\n        @ManyToOne\r\n        @JoinColumn(name=&quot;senderId&quot;, nullable=false)\r\n        private User sender;\r\n    \r\n        @Column(name=&quot;value&quot;)\r\n        private String value;\r\n    \r\n        @ManyToOne()\r\n        @JoinColumn(name = &quot;chat&quot;)\r\n        private Chat chat;\r\n    }\r\n\r\n\r\n    @Entity\r\n    public class User implements UserDetails {\r\n        private @Id\r\n        @GeneratedValue\r\n        Long id;\r\n    \r\n        @OneToMany(mappedBy = &quot;sender&quot;, cascade = CascadeType.ALL)\r\n        private List&lt;Message&gt; messagesSent;\r\n    \r\n        @ManyToMany(mappedBy = &quot;users&quot;)\r\n        private Set&lt;Chat&gt; chats = new HashSet&lt;&gt;();\r\n    }\r\n\r\nAnd this is the repository which is failing:\r\n\r\n    public interface ChatRepository extends JpaRepository&lt;Chat,Long&gt; {\r\n        @Query(&quot;SELECT c FROM Chat c JOIN c.users u WHERE u.id IN :usersIDs GROUP BY c HAVING COUNT(DISTINCT u) = :numberOfUsers&quot;)\r\n        Optional&lt;Chat&gt; getChat(@Param(&quot;usersIDs&quot;) List&lt;Long&gt; usersIDs, int numberOfUsers);\r\n    }\r\n\r\n## The problem ##\r\nHere you can see an example of how the object is retrieved:\r\n\r\n[![Debugger][2]][2]\r\n\r\nAs you can see, every `Message` object is duplicated\r\n\r\nWhat I suppose the problem is\r\n-----------------------------\r\nResearching and executing the raw SQL query to the DB, I come across with the assumption that the problem can be this:\r\nHibernate is making the query this way: Join between Chat and Users and then Join between the result and Messages. This gives messages duplicated because it joins each message with Chat-User1 and Chat-User2 rows. Just this way:\r\n\r\n    SELECT message.id as messageID, chat.id as chatID, user.id as userID FROM chat JOIN user JOIN message;\r\n\r\n[![SQL response][3]][3]\r\n\r\n\r\n## What I have tried until here ##\r\nIn response of the assumption I explained before, I tried changing the repository query this way:\r\n\r\n        public interface ChatRepository extends JpaRepository&lt;Chat,Long&gt; {\r\n            @Query(&quot;SELECT c FROM Chat c JOIN c.users u LEFT JOIN c.messages m ON m.sender = u AND m.chat = c WHERE u.id IN :usersIDs GROUP BY c HAVING COUNT(DISTINCT u) = :numberOfUsers&quot;)\r\n            Optional&lt;Chat&gt; getChat(@Param(&quot;usersIDs&quot;) List&lt;Long&gt; usersIDs, int numberOfUsers);\r\n        }\r\n\r\nQuery breakdown:\r\n\r\n`SELECT c FROM Chat c JOIN c.users u` Chat and Users joined\r\n\r\n`LEFT JOIN c.messages m ON m.sender = u AND m.chat = c` Join between the result and messages\r\n\r\n`WHERE u.id IN :usersIDs` Filtering just requested users \r\n\r\n`GROUP BY c HAVING COUNT(DISTINCT u) = :numberOfUsers&quot;)` Retrieving the Chat which has all the users requested\r\n\r\nAs you can see, the difference lies in the `ON m.sender = u AND m.chat = c`. This way, the `Messages` must also join the `User`, like in this query:\r\n\r\n        SELECT message.id as messageID, chat.id as chatID, user.id as userID FROM chat JOIN user JOIN message ON message.sender_id = user.id and message.chat = chat.id;\r\n[![SQL response][4]][4]\r\n\r\nand the `LEFT` before the JOIN is for getting the users who hasn&#39;t send message to the chat but are members.\r\n\r\nHowever, this query is not solving the problem. Returns the Chat with the messages duplicated as well.\r\n\r\nThis is a list of other things I have tried:\r\n\r\n - Adding `@Fetch (FetchMode.SELECT)` before `private List&lt;Message&gt; messages = new ArrayList&lt;&gt;();`\r\n - Using `@Transactional` before the query\r\n - Overriding `equals(Object o)` in `Message`\r\n\r\nThis is how the `message.equals()` method looks like:\r\n\r\n    @Override\r\n    public boolean equals(Object o) {\r\n        if (this == o) return true;\r\n        if (o == null || getClass() != o.getClass()) return false;\r\n        Message message = (Message) o;\r\n        return Objects.equals(id, message.id) &amp;&amp; Objects.equals(sender, message.sender) &amp;&amp; Objects.equals(value, message.value) &amp;&amp; Objects.equals(chat, message.chat);\r\n    }\r\n    \r\n    @Override\r\n    public int hashCode() {\r\n        return Objects.hash(id, sender, value, chat);\r\n    }\r\n\r\n## Other SO posts which I have read ##\r\n\r\n[JPA - EntityManager find method returns duplicates][5]\r\n\r\n[Multiple fetches with EAGER type in Hibernate with JPA][6]\r\n\r\n\r\n\r\n## Updates ##\r\n\r\nIn response on what @EdmarSM have told me in the comments, I have modified my query like this:\r\n\r\n    @Query(&quot;SELECT DISTINCT c FROM Chat c INNER JOIN FETCH c.users u LEFT JOIN FETCH c.messages m WHERE u.id IN :usersIDs GROUP BY c HAVING COUNT(DISTINCT u) = :numberOfUsers&quot;)\r\n\r\nHowever, I&#39;ve received the next error:\r\n\r\n&gt; Expression #3 of SELECT list is not in GROUP BY clause and contains\r\n&gt; nonaggregated column &#39;close.m1_0.id&#39; which is not functionally\r\n&gt; dependent on columns in GROUP BY clause; this is incompatible with\r\n&gt; sql_mode=only_full_group_by\r\n\r\nI can see that this error is produced because of the `INNER JOIN FETCH` part. Without it, there is no error. \r\n\r\nI also tried using the query without that part, just adding the `DISTINCT` to the query I&#39;ve proposed above.\r\n\r\n    @Query(&quot;SELECT DISTINCT c FROM Chat c JOIN c.users u LEFT JOIN c.messages m ON m.sender = u AND m.chat = c WHERE u.id IN :usersIDs GROUP BY c HAVING COUNT(DISTINCT u) = :numberOfUsers&quot;)\r\n\r\nBut the response was exactly the same, the Chat with duplicated messages.\r\n\r\n## Second update ##\r\n\r\nAgain, according with @EdmarSM has told me, I tried with this:\r\n\r\n    public interface ChatRepository extends JpaRepository&lt;Chat,Long&gt; {\r\n        @Query(&quot;SELECT DISTINCT c FROM Chat c INNER JOIN FETCH c.users u LEFT JOIN FETCH c.messages m WHERE c.id IN (SELECT c2.id FROM Chat c2 INNER JOIN c2.users u2 WHERE u2.id IN :usersIDs GROUP BY c2 HAVING COUNT(DISTINCT u2) = :numberOfUsers)&quot;)\r\n        Optional&lt;Chat&gt; getChat(@Param(&quot;usersIDs&quot;) List&lt;Long&gt; usersIDs, int numberOfUsers);\r\n    }\r\n\r\nI thought it has solved my problem but it hasn&#39;t. It just changed the way the messages were duplicated. \r\nBefore, it used to be this way:\r\n\r\n AABBCCDDEE...\r\n\r\nAnd with this implementation, the pattern is ABCDEABCDE\r\n\r\nIn other words, it use to be:\r\n\r\n - **Message 1**\r\n - **Message 1**\r\n - Message 2\r\n - Message 2\r\n - **Message 3**\r\n - **Message 3**\r\n - Message 4\r\n - Message 4\r\n\r\nAnd now is:\r\n\r\n - **Message 1**\r\n - Message 2\r\n - **Message 3**\r\n - Message 4\r\n - **Message 1**\r\n - Message 2\r\n - **Message 3**\r\n - Message 4\r\n\r\n  [1]: https://i.stack.imgur.com/toJzA.jpg\r\n  [2]: https://i.stack.imgur.com/83iJa.png\r\n  [3]: https://i.stack.imgur.com/wor9f.png\r\n  [4]: https://i.stack.imgur.com/yIGCu.png\r\n  [5]: https://stackoverflow.com/questions/37024881/jpa-entitymanager-find-method-returns-duplicates\r\n  [6]: https://stackoverflow.com/questions/17566304/multiple-fetches-with-eager-type-in-hibernate-with-jpa?noredirect=1&amp;lq=1","title":"JPARepository returns duplicated child entities","body":"<p>I'm developing the chat feature in my app. The problem occurs when I try to retrieve a <code>Chat</code> object from my database, all the messages are retrieved duplicated twice.</p>\n<h2>Project structure</h2>\n<p>This is the simplified structure followed:</p>\n<p><a href=\"https://i.stack.imgur.com/toJzA.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/toJzA.jpg\" alt=\"UML diagram\" /></a></p>\n<p>And this are the entities (simplified):</p>\n<pre><code>@Entity\npublic class Chat {\n    @Id\n    @GeneratedValue\n    private Long id;\n\n    @ManyToMany\n    @JoinTable(\n            name = &quot;user_chat&quot;,\n            joinColumns = @JoinColumn(name = &quot;chat&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;user&quot;)\n    )\n    private Set&lt;User&gt; users = new HashSet&lt;&gt;();\n\n    @OneToMany(mappedBy = &quot;chat&quot;, cascade = CascadeType.ALL)\n    private List&lt;Message&gt; messages = new ArrayList&lt;&gt;();\n\n\n    public void addMessage(Message message){\n        this.messages.add(message);\n    }\n}\n\n\n@Entity\npublic class Message {\n    private @Id @GeneratedValue Long id;\n\n    @ManyToOne\n    @JoinColumn(name=&quot;senderId&quot;, nullable=false)\n    private User sender;\n\n    @Column(name=&quot;value&quot;)\n    private String value;\n\n    @ManyToOne()\n    @JoinColumn(name = &quot;chat&quot;)\n    private Chat chat;\n}\n\n\n@Entity\npublic class User implements UserDetails {\n    private @Id\n    @GeneratedValue\n    Long id;\n\n    @OneToMany(mappedBy = &quot;sender&quot;, cascade = CascadeType.ALL)\n    private List&lt;Message&gt; messagesSent;\n\n    @ManyToMany(mappedBy = &quot;users&quot;)\n    private Set&lt;Chat&gt; chats = new HashSet&lt;&gt;();\n}\n</code></pre>\n<p>And this is the repository which is failing:</p>\n<pre><code>public interface ChatRepository extends JpaRepository&lt;Chat,Long&gt; {\n    @Query(&quot;SELECT c FROM Chat c JOIN c.users u WHERE u.id IN :usersIDs GROUP BY c HAVING COUNT(DISTINCT u) = :numberOfUsers&quot;)\n    Optional&lt;Chat&gt; getChat(@Param(&quot;usersIDs&quot;) List&lt;Long&gt; usersIDs, int numberOfUsers);\n}\n</code></pre>\n<h2>The problem</h2>\n<p>Here you can see an example of how the object is retrieved:</p>\n<p><a href=\"https://i.stack.imgur.com/83iJa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/83iJa.png\" alt=\"Debugger\" /></a></p>\n<p>As you can see, every <code>Message</code> object is duplicated</p>\n<h2>What I suppose the problem is</h2>\n<p>Researching and executing the raw SQL query to the DB, I come across with the assumption that the problem can be this:\nHibernate is making the query this way: Join between Chat and Users and then Join between the result and Messages. This gives messages duplicated because it joins each message with Chat-User1 and Chat-User2 rows. Just this way:</p>\n<pre><code>SELECT message.id as messageID, chat.id as chatID, user.id as userID FROM chat JOIN user JOIN message;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/wor9f.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wor9f.png\" alt=\"SQL response\" /></a></p>\n<h2>What I have tried until here</h2>\n<p>In response of the assumption I explained before, I tried changing the repository query this way:</p>\n<pre><code>    public interface ChatRepository extends JpaRepository&lt;Chat,Long&gt; {\n        @Query(&quot;SELECT c FROM Chat c JOIN c.users u LEFT JOIN c.messages m ON m.sender = u AND m.chat = c WHERE u.id IN :usersIDs GROUP BY c HAVING COUNT(DISTINCT u) = :numberOfUsers&quot;)\n        Optional&lt;Chat&gt; getChat(@Param(&quot;usersIDs&quot;) List&lt;Long&gt; usersIDs, int numberOfUsers);\n    }\n</code></pre>\n<p>Query breakdown:</p>\n<p><code>SELECT c FROM Chat c JOIN c.users u</code> Chat and Users joined</p>\n<p><code>LEFT JOIN c.messages m ON m.sender = u AND m.chat = c</code> Join between the result and messages</p>\n<p><code>WHERE u.id IN :usersIDs</code> Filtering just requested users</p>\n<p><code>GROUP BY c HAVING COUNT(DISTINCT u) = :numberOfUsers&quot;)</code> Retrieving the Chat which has all the users requested</p>\n<p>As you can see, the difference lies in the <code>ON m.sender = u AND m.chat = c</code>. This way, the <code>Messages</code> must also join the <code>User</code>, like in this query:</p>\n<pre><code>    SELECT message.id as messageID, chat.id as chatID, user.id as userID FROM chat JOIN user JOIN message ON message.sender_id = user.id and message.chat = chat.id;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/yIGCu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yIGCu.png\" alt=\"SQL response\" /></a></p>\n<p>and the <code>LEFT</code> before the JOIN is for getting the users who hasn't send message to the chat but are members.</p>\n<p>However, this query is not solving the problem. Returns the Chat with the messages duplicated as well.</p>\n<p>This is a list of other things I have tried:</p>\n<ul>\n<li>Adding <code>@Fetch (FetchMode.SELECT)</code> before <code>private List&lt;Message&gt; messages = new ArrayList&lt;&gt;();</code></li>\n<li>Using <code>@Transactional</code> before the query</li>\n<li>Overriding <code>equals(Object o)</code> in <code>Message</code></li>\n</ul>\n<p>This is how the <code>message.equals()</code> method looks like:</p>\n<pre><code>@Override\npublic boolean equals(Object o) {\n    if (this == o) return true;\n    if (o == null || getClass() != o.getClass()) return false;\n    Message message = (Message) o;\n    return Objects.equals(id, message.id) &amp;&amp; Objects.equals(sender, message.sender) &amp;&amp; Objects.equals(value, message.value) &amp;&amp; Objects.equals(chat, message.chat);\n}\n\n@Override\npublic int hashCode() {\n    return Objects.hash(id, sender, value, chat);\n}\n</code></pre>\n<h2>Other SO posts which I have read</h2>\n<p><a href=\"https://stackoverflow.com/questions/37024881/jpa-entitymanager-find-method-returns-duplicates\">JPA - EntityManager find method returns duplicates</a></p>\n<p><a href=\"https://stackoverflow.com/questions/17566304/multiple-fetches-with-eager-type-in-hibernate-with-jpa?noredirect=1&amp;lq=1\">Multiple fetches with EAGER type in Hibernate with JPA</a></p>\n<h2>Updates</h2>\n<p>In response on what @EdmarSM have told me in the comments, I have modified my query like this:</p>\n<pre><code>@Query(&quot;SELECT DISTINCT c FROM Chat c INNER JOIN FETCH c.users u LEFT JOIN FETCH c.messages m WHERE u.id IN :usersIDs GROUP BY c HAVING COUNT(DISTINCT u) = :numberOfUsers&quot;)\n</code></pre>\n<p>However, I've received the next error:</p>\n<blockquote>\n<p>Expression #3 of SELECT list is not in GROUP BY clause and contains\nnonaggregated column 'close.m1_0.id' which is not functionally\ndependent on columns in GROUP BY clause; this is incompatible with\nsql_mode=only_full_group_by</p>\n</blockquote>\n<p>I can see that this error is produced because of the <code>INNER JOIN FETCH</code> part. Without it, there is no error.</p>\n<p>I also tried using the query without that part, just adding the <code>DISTINCT</code> to the query I've proposed above.</p>\n<pre><code>@Query(&quot;SELECT DISTINCT c FROM Chat c JOIN c.users u LEFT JOIN c.messages m ON m.sender = u AND m.chat = c WHERE u.id IN :usersIDs GROUP BY c HAVING COUNT(DISTINCT u) = :numberOfUsers&quot;)\n</code></pre>\n<p>But the response was exactly the same, the Chat with duplicated messages.</p>\n<h2>Second update</h2>\n<p>Again, according with @EdmarSM has told me, I tried with this:</p>\n<pre><code>public interface ChatRepository extends JpaRepository&lt;Chat,Long&gt; {\n    @Query(&quot;SELECT DISTINCT c FROM Chat c INNER JOIN FETCH c.users u LEFT JOIN FETCH c.messages m WHERE c.id IN (SELECT c2.id FROM Chat c2 INNER JOIN c2.users u2 WHERE u2.id IN :usersIDs GROUP BY c2 HAVING COUNT(DISTINCT u2) = :numberOfUsers)&quot;)\n    Optional&lt;Chat&gt; getChat(@Param(&quot;usersIDs&quot;) List&lt;Long&gt; usersIDs, int numberOfUsers);\n}\n</code></pre>\n<p>I thought it has solved my problem but it hasn't. It just changed the way the messages were duplicated.\nBefore, it used to be this way:</p>\n<p>AABBCCDDEE...</p>\n<p>And with this implementation, the pattern is ABCDEABCDE</p>\n<p>In other words, it use to be:</p>\n<ul>\n<li><strong>Message 1</strong></li>\n<li><strong>Message 1</strong></li>\n<li>Message 2</li>\n<li>Message 2</li>\n<li><strong>Message 3</strong></li>\n<li><strong>Message 3</strong></li>\n<li>Message 4</li>\n<li>Message 4</li>\n</ul>\n<p>And now is:</p>\n<ul>\n<li><strong>Message 1</strong></li>\n<li>Message 2</li>\n<li><strong>Message 3</strong></li>\n<li>Message 4</li>\n<li><strong>Message 1</strong></li>\n<li>Message 2</li>\n<li><strong>Message 3</strong></li>\n<li>Message 4</li>\n</ul>\n"},{"tags":["java","selenium-webdriver"],"comments":[{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1579635210,"post_id":59847693,"comment_id":105829598,"body_markdown":"Post the markup and any code you&#39;ve tried.  To create the Excel file I recommend POI: https://poi.apache.org/","body":"Post the markup and any code you&#39;ve tried.  To create the Excel file I recommend POI: <a href=\"https://poi.apache.org/\" rel=\"nofollow noreferrer\">poi.apache.org</a>"},{"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1579635221,"post_id":59847693,"comment_id":105829604,"body_markdown":"Code trials? Relevant HTML?","body":"Code trials? Relevant HTML?"},{"owner":{"account_id":17554607,"reputation":1,"user_id":12734325,"display_name":"Raj"},"score":0,"creation_date":1579817399,"post_id":59847693,"comment_id":105904226,"body_markdown":"Added HTML tr&gt;\n&lt;td&gt;&lt;table cellspacing=&quot;5&quot;&gt;\n&lt;tbody&gt;\n&lt;tr&gt;\n&lt;td class=&quot;textLabel&quot;&gt;&lt;label&gt;RdwLength:&lt;/label&gt;&lt;/td&gt;\n&lt;td class=&quot;text&quot;&gt;&lt;span class=&quot;text&quot;&gt;8034&lt;/span&gt;&lt;/td&gt;\n&lt;td class=&quot;textLabel&quot;&gt;&lt;label&gt;CompanyCode:&lt;/label&gt;&lt;/td&gt;\n&lt;td class=&quot;text&quot;&gt;&lt;span class=&quot;text&quot;&gt;101&lt;/span&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td class=&quot;textLabel&quot;&gt;&lt;label&gt;SortCtlInd:&lt;/label&gt;&lt;/td&gt;\n&lt;td class=&quot;text&quot;&gt;&lt;span class=&quot;text&quot;&gt; &lt;/span&gt;&lt;/td&gt;\n&lt;td class=&quot;textLabel&quot;&gt;&lt;label&gt;MasterId:&lt;/label&gt;&lt;/td&gt;\n&lt;td class=&quot;text&quot;&gt;&lt;span class=&quot;text&quot;&gt;FP16000367&lt;/span&gt;&lt;/td&gt;\n&lt;/tr&gt;","body":"Added HTML tr&gt; &lt;td&gt;&lt;table cellspacing=&quot;5&quot;&gt; &lt;tbody&gt; &lt;tr&gt; &lt;td class=&quot;textLabel&quot;&gt;&lt;label&gt;RdwLength:&lt;/label&gt;&lt;/td&gt; &lt;td class=&quot;text&quot;&gt;&lt;span class=&quot;text&quot;&gt;8034&lt;/span&gt;&lt;/td&gt; &lt;td class=&quot;textLabel&quot;&gt;&lt;label&gt;CompanyCode:&lt;/label&gt;&lt;/td&gt; &lt;td class=&quot;text&quot;&gt;&lt;span class=&quot;text&quot;&gt;101&lt;/span&gt;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td class=&quot;textLabel&quot;&gt;&lt;label&gt;SortCtlInd:&lt;/label&gt;&lt;/td&gt; &lt;td class=&quot;text&quot;&gt;&lt;span class=&quot;text&quot;&gt; &lt;/span&gt;&lt;/td&gt; &lt;td class=&quot;textLabel&quot;&gt;&lt;label&gt;MasterId:&lt;/label&gt;&lt;/td&gt; &lt;td class=&quot;text&quot;&gt;&lt;span class=&quot;text&quot;&gt;FP16000367&lt;/span&gt;&lt;/td&gt; &lt;/tr&gt;"}],"owner":{"account_id":17554607,"reputation":1,"user_id":12734325,"display_name":"Raj"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693154892,"creation_date":1579633675,"question_id":59847693,"body_markdown":"I have a Webtable with four columns with the structure be like \r\n\r\n[Webtable][1]\r\n\r\nI have to iterate throw each rows in the webtable and create an output in this format:\r\n\r\n[output][2] \r\n\r\n  [1]: https://i.stack.imgur.com/5cPZ9.png\r\n  [2]: https://i.stack.imgur.com/I7eBD.png\r\n\r\nAnd output should be written to an Excel file.\r\n\r\nCould anyone suggest how to do this?","title":"In Java selenium webdriver - Is there a way to make alternate columns as header of a webtable","body":"<p>I have a Webtable with four columns with the structure be like</p>\n<p><a href=\"https://i.stack.imgur.com/5cPZ9.png\" rel=\"nofollow noreferrer\">Webtable</a></p>\n<p>I have to iterate throw each rows in the webtable and create an output in this format:</p>\n<p><a href=\"https://i.stack.imgur.com/I7eBD.png\" rel=\"nofollow noreferrer\">output</a></p>\n<p>And output should be written to an Excel file.</p>\n<p>Could anyone suggest how to do this?</p>\n"},{"tags":["java","logging","log4j2"],"owner":{"account_id":4597459,"reputation":949,"user_id":3729081,"display_name":"Deep"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1650,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1693154756,"creation_date":1579814937,"question_id":59887338,"body_markdown":"I am creating a log4j2 logger programmatically and adding appenders to it.\r\n\r\nI want the logger to write the messages in two different locations / files according to some parameter/criteria.\r\n\r\nFor this I found that RoutingAppender can be good option to route the messages in different locations.\r\n\r\nAnd for the criteria with the help of which I want to route messages, I am using Marker as used in https://stackoverflow.com/questions/46336225/how-to-create-multiple-log-file-programatically-in-log4j2  \r\n\r\nBut I am enable to manage it properly.Below is my code snippet for reference :\r\n\r\n    public class Log4j2TestApplication {\r\n\r\n\tprivate static final Marker MARKER1 = MarkerManager.getMarker(&quot;MARKER1&quot;);\r\n\r\n\tprivate static final Marker MARKER2 = MarkerManager.getMarker(&quot;MARKER2&quot;);\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tString loggerName = &quot;demoLogger&quot;;\r\n\t\tfinal ConfigurationBuilder&lt;BuiltConfiguration&gt; builder = ConfigurationBuilderFactory.newConfigurationBuilder();\r\n\r\n\t\tfinal LoggerComponentBuilder loggerComp = builder.newLogger(loggerName, Level.ALL).addAttribute(&quot;additivity&quot;,\r\n\t\t\t\tfalse);\r\n\r\n\t\tbuilder.add(loggerComp);\r\n\t\tConfiguration configuration = builder.build();\r\n\t\tLoggerContext ctx = Configurator.initialize(builder.build());\r\n\t\tctx.start(configuration);\r\n\t\tctx.updateLoggers(configuration);\r\n\t\tLogger logger = ctx.getLogger(loggerName);\r\n\t\tAppender csvAppender = createCsvAppender(configuration);\r\n\t\tAppender textAppender = createTextAppender(configuration);\r\n\t\tcsvAppender.start();\r\n\t\ttextAppender.start();\r\n\t\tlogger.addAppender(csvAppender);\r\n\t\tlogger.addAppender(textAppender);\r\n\t\tAppender routingAppender = createRoutingAppender(configuration, textAppender, csvAppender);\r\n\t\troutingAppender.start();\r\n\t\tlogger.addAppender(routingAppender);\r\n\t\tlogger.error(MARKER1, &quot;the text message&quot;, &quot;testing parameter&quot;);\r\n\t\tlogger.error(MARKER2, &quot;the csv message&quot;, &quot;testing parameter&quot;);\r\n\t\tcsvAppender.stop();\r\n\t\ttextAppender.stop();\r\n\t\troutingAppender.stop();\r\n\t}\r\n\r\n\tprivate static Appender createCsvAppender(final Configuration config) {\r\n\r\n\t\treturn RollingFileAppender.newBuilder().setConfiguration(config).setName(&quot;csvAppender&quot;)\r\n\t\t\t\t.withFileName(&quot;TestFile.csv&quot;).withFilePattern(&quot;TestFile.csv&quot;)\r\n\t\t\t\t.withPolicy(SizeBasedTriggeringPolicy.createPolicy(&quot;100M&quot;))\r\n\t\t\t\t.withStrategy(DefaultRolloverStrategy.newBuilder().withConfig(config).build()).withImmediateFlush(true)\r\n\t\t\t\t.setFilter(ThresholdFilter.createFilter(Level.ALL, Result.ACCEPT, Result.DENY)).setLayout(getCsvLayout(config))\r\n\t\t\t\t.build();\r\n\t}\r\n\r\n\tprivate static Layout&lt;String&gt; getCsvLayout(final Configuration config) {\r\n\r\n\t\treturn new CsvParameterLayout(config, StandardCharsets.UTF_8, CSVFormat.DEFAULT.withDelimiter(&#39;,&#39;),\r\n\t\t\t\t&quot;column1;column2\\n&quot;, null);\r\n\t}\r\n\r\n\tprivate static Appender createTextAppender(final Configuration config) {\r\n\r\n\t\treturn RollingFileAppender.newBuilder().setConfiguration(config).setName(&quot;txtAppender&quot;)\r\n\t\t\t\t.withFileName(&quot;TestFile.txt&quot;).withFilePattern(&quot;TestFile.txt&quot;)\r\n\t\t\t\t.withPolicy(SizeBasedTriggeringPolicy.createPolicy(&quot;100M&quot;))\r\n\t\t\t\t.withStrategy(DefaultRolloverStrategy.newBuilder().withConfig(config).build()).withImmediateFlush(true)\r\n\t\t\t\t.setFilter(ThresholdFilter.createFilter(Level.ALL, Result.ACCEPT, Result.DENY)).setLayout(getTextLayout(config, &quot;header\\n&quot;))\r\n\t\t\t\t.build();\r\n\t}\r\n\r\n\tprivate static Layout&lt;String&gt; getTextLayout(final Configuration config, final String header) {\r\n\t\treturn PatternLayout.newBuilder().withConfiguration(config).withCharset(StandardCharsets.UTF_8)\r\n\t\t\t\t.withPattern(&quot;[%d][%-5.-5p]&quot;).withHeader(header).build();\r\n\t}\r\n\r\n\tprivate static Appender createRoutingAppender(final Configuration config, Appender appender1, Appender appender2) {\r\n\r\n\t\tRoute[] routeArray = new Route[2];\r\n\t\trouteArray[0] = Route.createRoute(appender1.getName(), &quot;MARKER1&quot;, null);\r\n\t\trouteArray[1] = Route.createRoute(appender2.getName(), &quot;MARKER2&quot;, null);\r\n\t\tRoutes routes = Routes.newBuilder().withRoutes(routeArray).withPattern(&quot;marker&quot;).build();\r\n\t\tAppender routingAppender = RoutingAppender.newBuilder().setName(&quot;routingAppender&quot;).setConfiguration(config)\r\n\t\t\t\t.withRoutes(routes).build();\r\n\r\n\t\treturn routingAppender;\r\n\t    }\r\n    }\r\n\r\nI have referenced below links also but I could not find the accurate way of RoutingAppender programmatically.\r\n\r\nhttps://stackoverflow.com/questions/30111754/is-there-a-way-to-route-logs-based-on-marker-with-the-routingappender-in-log4j2\r\n\r\nhttps://stackoverflow.com/questions/18279656/wildcard-pattern-for-routingappender-of-log4j2\r\n\r\nhttps://stackoverflow.com/questions/46336225/how-to-create-multiple-log-file-programatically-in-log4j2\r\n","title":"How to correctly use RoutingAppender in log4j2 programmatically?","body":"<p>I am creating a log4j2 logger programmatically and adding appenders to it.</p>\n<p>I want the logger to write the messages in two different locations / files according to some parameter/criteria.</p>\n<p>For this I found that RoutingAppender can be good option to route the messages in different locations.</p>\n<p>And for the criteria with the help of which I want to route messages, I am using Marker as used in <a href=\"https://stackoverflow.com/questions/46336225/how-to-create-multiple-log-file-programatically-in-log4j2\">How to create multiple log file programatically in log4j2?</a></p>\n<p>But I am enable to manage it properly.Below is my code snippet for reference :</p>\n<pre><code>public class Log4j2TestApplication {\n\nprivate static final Marker MARKER1 = MarkerManager.getMarker(&quot;MARKER1&quot;);\n\nprivate static final Marker MARKER2 = MarkerManager.getMarker(&quot;MARKER2&quot;);\n\npublic static void main(String[] args) {\n    String loggerName = &quot;demoLogger&quot;;\n    final ConfigurationBuilder&lt;BuiltConfiguration&gt; builder = ConfigurationBuilderFactory.newConfigurationBuilder();\n\n    final LoggerComponentBuilder loggerComp = builder.newLogger(loggerName, Level.ALL).addAttribute(&quot;additivity&quot;,\n            false);\n\n    builder.add(loggerComp);\n    Configuration configuration = builder.build();\n    LoggerContext ctx = Configurator.initialize(builder.build());\n    ctx.start(configuration);\n    ctx.updateLoggers(configuration);\n    Logger logger = ctx.getLogger(loggerName);\n    Appender csvAppender = createCsvAppender(configuration);\n    Appender textAppender = createTextAppender(configuration);\n    csvAppender.start();\n    textAppender.start();\n    logger.addAppender(csvAppender);\n    logger.addAppender(textAppender);\n    Appender routingAppender = createRoutingAppender(configuration, textAppender, csvAppender);\n    routingAppender.start();\n    logger.addAppender(routingAppender);\n    logger.error(MARKER1, &quot;the text message&quot;, &quot;testing parameter&quot;);\n    logger.error(MARKER2, &quot;the csv message&quot;, &quot;testing parameter&quot;);\n    csvAppender.stop();\n    textAppender.stop();\n    routingAppender.stop();\n}\n\nprivate static Appender createCsvAppender(final Configuration config) {\n\n    return RollingFileAppender.newBuilder().setConfiguration(config).setName(&quot;csvAppender&quot;)\n            .withFileName(&quot;TestFile.csv&quot;).withFilePattern(&quot;TestFile.csv&quot;)\n            .withPolicy(SizeBasedTriggeringPolicy.createPolicy(&quot;100M&quot;))\n            .withStrategy(DefaultRolloverStrategy.newBuilder().withConfig(config).build()).withImmediateFlush(true)\n            .setFilter(ThresholdFilter.createFilter(Level.ALL, Result.ACCEPT, Result.DENY)).setLayout(getCsvLayout(config))\n            .build();\n}\n\nprivate static Layout&lt;String&gt; getCsvLayout(final Configuration config) {\n\n    return new CsvParameterLayout(config, StandardCharsets.UTF_8, CSVFormat.DEFAULT.withDelimiter(','),\n            &quot;column1;column2\\n&quot;, null);\n}\n\nprivate static Appender createTextAppender(final Configuration config) {\n\n    return RollingFileAppender.newBuilder().setConfiguration(config).setName(&quot;txtAppender&quot;)\n            .withFileName(&quot;TestFile.txt&quot;).withFilePattern(&quot;TestFile.txt&quot;)\n            .withPolicy(SizeBasedTriggeringPolicy.createPolicy(&quot;100M&quot;))\n            .withStrategy(DefaultRolloverStrategy.newBuilder().withConfig(config).build()).withImmediateFlush(true)\n            .setFilter(ThresholdFilter.createFilter(Level.ALL, Result.ACCEPT, Result.DENY)).setLayout(getTextLayout(config, &quot;header\\n&quot;))\n            .build();\n}\n\nprivate static Layout&lt;String&gt; getTextLayout(final Configuration config, final String header) {\n    return PatternLayout.newBuilder().withConfiguration(config).withCharset(StandardCharsets.UTF_8)\n            .withPattern(&quot;[%d][%-5.-5p]&quot;).withHeader(header).build();\n}\n\nprivate static Appender createRoutingAppender(final Configuration config, Appender appender1, Appender appender2) {\n\n    Route[] routeArray = new Route[2];\n    routeArray[0] = Route.createRoute(appender1.getName(), &quot;MARKER1&quot;, null);\n    routeArray[1] = Route.createRoute(appender2.getName(), &quot;MARKER2&quot;, null);\n    Routes routes = Routes.newBuilder().withRoutes(routeArray).withPattern(&quot;marker&quot;).build();\n    Appender routingAppender = RoutingAppender.newBuilder().setName(&quot;routingAppender&quot;).setConfiguration(config)\n            .withRoutes(routes).build();\n\n    return routingAppender;\n    }\n}\n</code></pre>\n<p>I have referenced below links also but I could not find the accurate way of RoutingAppender programmatically.</p>\n<p><a href=\"https://stackoverflow.com/questions/30111754/is-there-a-way-to-route-logs-based-on-marker-with-the-routingappender-in-log4j2\">Is there a way to Route logs based on Marker with the RoutingAppender in Log4j2</a></p>\n<p><a href=\"https://stackoverflow.com/questions/18279656/wildcard-pattern-for-routingappender-of-log4j2\">Wildcard pattern for RoutingAppender of Log4j2</a></p>\n<p><a href=\"https://stackoverflow.com/questions/46336225/how-to-create-multiple-log-file-programatically-in-log4j2\">How to create multiple log file programatically in log4j2?</a></p>\n"},{"tags":["java","c#","android","unity-game-engine"],"answers":[{"comments":[{"owner":{"account_id":1428124,"reputation":1339,"user_id":1351156,"accept_rate":37,"display_name":"zyonneo"},"score":0,"creation_date":1580212729,"post_id":59946553,"comment_id":106016322,"body_markdown":"Now another class issue came java.lang.ClassNotFoundException: Didn&#39;t find class   com/techripples/unityplugin/UnityBinder","body":"Now another class issue came java.lang.ClassNotFoundException: Didn&#39;t find class   com/techripples/unityplugin/UnityBinder"},{"owner":{"account_id":15021099,"reputation":603,"user_id":10842492,"display_name":"Nikolay Gonza"},"score":1,"creation_date":1580212939,"post_id":59946553,"comment_id":106016432,"body_markdown":"you should use AndroidJavaObject but not class, as in video","body":"you should use AndroidJavaObject but not class, as in video"},{"owner":{"account_id":1428124,"reputation":1339,"user_id":1351156,"accept_rate":37,"display_name":"zyonneo"},"score":0,"creation_date":1580213416,"post_id":59946553,"comment_id":106016697,"body_markdown":"..I used it but still the same result and took rebuild  `AndroidJavaObject ajo = new AndroidJavaObject(&quot;com.techripples.unityplugin.UnityBinder&quot;);\n            ajo.CallStatic(&quot;OpenGallery&quot;, ajc.GetStatic&lt;AndroidJavaObject&gt;(&quot;currentActivity&quot;));` `AndroidJavaException: java.lang.ClassNotFoundException: Didn&#39;t find class &quot;com/techripples/unityplugin/UnityBinder&quot; on path: DexPathList[[zip file &quot;/data/app/com.testing.androidplugin-UeK55atMMYver0KFY27PYQ==/base.apk&quot;]`","body":"..I used it but still the same result and took rebuild  <code>AndroidJavaObject ajo = new AndroidJavaObject(&quot;com.techripples.unityplugin.UnityBinder&quot;)&zwnj;&#8203;;             ajo.CallStatic(&quot;OpenGallery&quot;, ajc.GetStatic&lt;AndroidJavaObject&gt;(&quot;currentActivity&quot;));</code> <code>AndroidJavaException: java.lang.ClassNotFoundException: Didn&#39;t find class &quot;com&#47;techripples&#47;unityplugin&#47;UnityBinder&quot; on path: DexPathList[[zip file &quot;&#47;data&#47;app&#47;com.testing.androidplugin-UeK55atMMYver0KFY27PYQ=&zwnj;&#8203;=&#47;base.apk&quot;]</code>"},{"owner":{"account_id":15021099,"reputation":603,"user_id":10842492,"display_name":"Nikolay Gonza"},"score":0,"creation_date":1580213750,"post_id":59946553,"comment_id":106016863,"body_markdown":"open your jar with 7zip and check out your path to class like this \nhttps://i.imgur.com/tOBLmUK.png\nfrom com to class","body":"open your jar with 7zip and check out your path to class like this  <a href=\"https://i.imgur.com/tOBLmUK.png\" rel=\"nofollow noreferrer\">i.imgur.com/tOBLmUK.png</a> from com to class"},{"owner":{"account_id":1428124,"reputation":1339,"user_id":1351156,"accept_rate":37,"display_name":"zyonneo"},"score":0,"creation_date":1580214056,"post_id":59946553,"comment_id":106017022,"body_markdown":"I unzipped on mac and /com/techripples/unityplugin and In this folder i found three classes BuildConfig.class,Gallery.class and UnityBinder.class","body":"I unzipped on mac and /com/techripples/unityplugin and In this folder i found three classes BuildConfig.class,Gallery.class and UnityBinder.class"},{"owner":{"account_id":1428124,"reputation":1339,"user_id":1351156,"accept_rate":37,"display_name":"zyonneo"},"score":0,"creation_date":1580214372,"post_id":59946553,"comment_id":106017216,"body_markdown":"One more doubt when I call com.techripples.unityplugin.UnityBinder .In this line what is unityplugin - Is it the package name or plugin name?","body":"One more doubt when I call com.techripples.unityplugin.UnityBinder .In this line what is unityplugin - Is it the package name or plugin name?"},{"owner":{"account_id":15021099,"reputation":603,"user_id":10842492,"display_name":"Nikolay Gonza"},"score":0,"creation_date":1580214525,"post_id":59946553,"comment_id":106017289,"body_markdown":"its just package name, can you show your build.gradle?","body":"its just package name, can you show your build.gradle?"},{"owner":{"account_id":1428124,"reputation":1339,"user_id":1351156,"accept_rate":37,"display_name":"zyonneo"},"score":0,"creation_date":1580215290,"post_id":59946553,"comment_id":106017732,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/206789/discussion-between-zyonneo-and-nikolay-gonza).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/206789/discussion-between-zyonneo-and-nikolay-gonza\">continue this discussion in chat</a>."},{"owner":{"account_id":1428124,"reputation":1339,"user_id":1351156,"accept_rate":37,"display_name":"zyonneo"},"score":0,"creation_date":1580389066,"post_id":59946553,"comment_id":106086454,"body_markdown":"Video of how I have done it. Any mistakes in steps? https://www.youtube.com/watch?v=IDwKH2E6Bw4","body":"Video of how I have done it. Any mistakes in steps? <a href=\"https://www.youtube.com/watch?v=IDwKH2E6Bw4\" rel=\"nofollow noreferrer\">youtube.com/watch?v=IDwKH2E6Bw4</a>"},{"owner":{"account_id":15021099,"reputation":603,"user_id":10842492,"display_name":"Nikolay Gonza"},"score":1,"creation_date":1580808163,"post_id":59946553,"comment_id":106210069,"body_markdown":"you should only remove classes form lib folder","body":"you should only remove classes form lib folder"},{"owner":{"account_id":1428124,"reputation":1339,"user_id":1351156,"accept_rate":37,"display_name":"zyonneo"},"score":0,"creation_date":1580809939,"post_id":59946553,"comment_id":106211034,"body_markdown":"Now I removed the classes only from inside the libs folder. The classes.jar  outside the lib folder I kept it there but getting the same error.","body":"Now I removed the classes only from inside the libs folder. The classes.jar  outside the lib folder I kept it there but getting the same error."},{"owner":{"account_id":15021099,"reputation":603,"user_id":10842492,"display_name":"Nikolay Gonza"},"score":0,"creation_date":1580810496,"post_id":59946553,"comment_id":106211404,"body_markdown":"go to our discussion","body":"go to our discussion"}],"tags":[],"owner":{"account_id":15021099,"reputation":603,"user_id":10842492,"display_name":"Nikolay Gonza"},"comment_count":12,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1580207322,"creation_date":1580206866,"answer_id":59946553,"question_id":59945841,"body_markdown":"If you open UnityPlayerActivity, you can see, that its package name is &quot;com.unity3d.player&quot; and class name is &quot;UnityPlayer&quot;\r\n\r\n[![image][1]][1]\r\n\r\nSo you should change you unity player class name in C# script to &quot;com.unity3d.player.UnityPlayer&quot;.\r\n\r\nAnother solution is add to your android plugin Unity classes and extend your activity from UnityPlayerActivity and you can call your methods directly from your plugin\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/tff3d.png","title":"Android Plugin not working in unity with class not found exception?","body":"<p>If you open UnityPlayerActivity, you can see, that its package name is \"com.unity3d.player\" and class name is \"UnityPlayer\"</p>\n\n<p><a href=\"https://i.stack.imgur.com/tff3d.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tff3d.png\" alt=\"image\"></a></p>\n\n<p>So you should change you unity player class name in C# script to \"com.unity3d.player.UnityPlayer\".</p>\n\n<p>Another solution is add to your android plugin Unity classes and extend your activity from UnityPlayerActivity and you can call your methods directly from your plugin</p>\n"}],"owner":{"account_id":1428124,"reputation":1339,"user_id":1351156,"accept_rate":37,"display_name":"zyonneo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2947,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":59946553,"answer_count":1,"score":2,"last_activity_date":1693154678,"creation_date":1580204344,"question_id":59945841,"body_markdown":"I tried creating a plugin but not working in unity.I do not have much idea about Android studio but watched this [video][1] to create an android plugin.I created a new android project without any activity.So I have written two classes UnityBinder.java and Gallery.java.They are given below\r\n\r\n   UnityBinder.java\r\n\r\n    package com.techripples.unityplugin;\r\n \r\n    import android.app.Activity;\r\n    import android.content.Intent;\r\n\r\n    public class UnityBinder {\r\n    public static void OpenGallery(Activity activity)\r\n    {\r\n \r\n        Intent intent =new Intent(activity,Gallery.class);\r\n        activity.startActivity(intent);\r\n \r\n    }\r\n \r\n    }\r\n\r\n\r\nGallery.java class given below\r\n\r\n    package com.techripples.unityplugin;\r\n \r\n\r\n    import android.app.Activity;\r\n    import android.content.Intent;\r\n    import android.os.Bundle;\r\n    import android.provider.MediaStore;\r\n    import android.net.Uri;\r\n    import android.database.*;\r\n    import com.unity3d.player.*;\r\n\r\n \r\n\r\n    public class Gallery extends Activity {\r\n\r\n \r\n    int PHOTO_GALLERY=1;\r\n \r\n    @Override\r\n    protected void onCreate(Bundle bundle)\r\n    {\r\n        super.onCreate(bundle);\r\n        Intent intent=new Intent(Intent.ACTION_PICK, MediaStore.Images.Media.EXTERNAL_CONTENT_URI);\r\n        startActivityForResult(intent,PHOTO_GALLERY);\r\n    }\r\n \r\n    //it will run when user picks a photo from the gallery\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n \r\n        if(resultCode==RESULT_OK &amp;&amp; requestCode==PHOTO_GALLERY &amp;&amp; data!=null)\r\n        {\r\n \r\n            Uri uri=data.getData();\r\n            String[] fileColumn={MediaStore.Images.Media.DATA};\r\n            Cursor cursor=getContentResolver().query(uri,fileColumn,null,null,null);\r\n            cursor.moveToFirst();\r\n            int columnIndex=cursor.getColumnIndex(fileColumn[0]);\r\n            String photoPath=cursor.getString(columnIndex);\r\n \r\n \r\n            //Send path to unity to get photo\r\n                                            //GamObject Name,method name,argument\r\n            UnityPlayer.UnitySendMessage(&quot;Gallery&quot;,&quot;OnPhotoPick&quot;,photoPath);\r\n            Gallery.this.finish();//close activity\r\n \r\n        }\r\n    }\r\n    }\r\n\r\nNext I have build and copied the jar file into Unity.The c# code written is as follows\r\n\r\n    using System.Collections;\r\n    using System.Collections.Generic;\r\n    using UnityEngine;\r\n    \r\n    public class ShowPicture : MonoBehaviour\r\n    {\r\n\r\n    Texture2D galleryImage;\r\n    bool isGalleryImageLoaded = false;\r\n\r\n    WWW www;\r\n\r\n    // Start is called before the first frame update\r\n    void Start()\r\n    {\r\n        \r\n    }\r\n\r\n    // Update is called once per frame\r\n    void Update()\r\n    {\r\n        \r\n    }\r\n\r\n\tvoid OnGUI()\r\n\t{\r\n\r\n        if(isGalleryImageLoaded)\r\n        {\r\n            GUI.DrawTexture(new Rect(0, 0, Screen.width, Screen.height), galleryImage);\r\n\r\n        }\r\n        if(GUI.Button(new Rect(50,50,100,100),&quot;Open&quot;))\r\n        {\r\n\r\n            isGalleryImageLoaded = false;\r\n            AndroidJavaClass ajc = new AndroidJavaClass(&quot;com.unity.player.UnityPlayer&quot;);\r\n            //While asking question used AndroidJavaClass instead of AndroidJavaObject\r\n            AndroidJavaObject ajo = new AndroidJavaObject(&quot;com.techripples.unityplugin.UnityBinder&quot;);\r\n            ajo.CallStatic(&quot;OpenGallery&quot;, ajc.GetStatic&lt;AndroidJavaObject&gt;(&quot;currentActivity&quot;));\r\n        }\r\n\t\r\n        if(www!=null &amp;&amp; www.isDone)\r\n        {\r\n            galleryImage = new Texture2D(www.texture.width, www.texture.height);\r\n            galleryImage.SetPixels32(www.texture.GetPixels32());\r\n            galleryImage.Apply();\r\n            www = null;\r\n\r\n            isGalleryImageLoaded = true;\r\n\r\n        }\r\n\r\n\t}\r\n\r\n\r\n    public void OnPhotoPick(string filePath)\r\n    {\r\n        Debug.Log(filePath);\r\n\r\n        www = new WWW(&quot;file://&quot; + filePath);\r\n    }\r\n \r\n\r\n     }\r\n\r\nThe manifest file which I copied into the Unity folder.Assets&gt;Plugins&gt;Android. is as follows.\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    package=&quot;com.unity3d.player&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:installLocation=&quot;preferExternal&quot;&gt;\r\n    &lt;supports-screens\r\n        android:smallScreens=&quot;true&quot;\r\n        android:normalScreens=&quot;true&quot;\r\n        android:largeScreens=&quot;true&quot;\r\n        android:xlargeScreens=&quot;true&quot;\r\n        android:anyDensity=&quot;true&quot;/&gt;\r\n\r\n    &lt;application\r\n        android:theme=&quot;@style/UnityThemeSelector&quot;\r\n        android:icon=&quot;@mipmap/app_icon&quot;\r\n        android:label=&quot;@string/app_name&quot;&gt;\r\n        &lt;activity android:name=&quot;com.unity3d.player.UnityPlayerActivity&quot;\r\n                  android:label=&quot;@string/app_name&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n            &lt;meta-data android:name=&quot;unityplayer.UnityActivity&quot; android:value=&quot;true&quot; /&gt;\r\n        &lt;/activity&gt;\r\n      &lt;activity android:name=&quot;com.techripples.unityplugin.Gallery&quot;&gt;&lt;/activity&gt;\r\n        \r\n    &lt;/application&gt;\r\n&lt;/manifest&gt;\r\n\r\nThe error I got from terminal is as follows\r\n\r\n    01-28 13:25:06.305 27032 27061 E Unity : java.lang.ClassNotFoundException: Didn&#39;t find class &quot;com/unity/player/UnityPlayer&quot; on path: DexPathList[[zip file &quot;/data/app/com.testing.androidplugin-Aq1j3vpTxsomWMvd4kK7NQ==/base.apk&quot;],nativeLibraryDirectories=[/data/app/com.testing.androidplugin-Aq1j3vpTxsomWMvd4kK7NQ==/lib/arm, /data/app/com.testing.androidplugin-Aq1j3vpTxsomWMvd4kK7NQ==/base.apk!/lib/armeabi-v7a, /system/lib, /system/vendor/lib]]\r\n\r\nVideo of plugin done.What I am doing wrong here.\r\n[Making Of Android plugin][2]\r\n\r\nI dont know how the calls are being made or what should I write in the manifest for the activity to run.\r\n[![Android studio and Unity][3]][3]\r\n\r\n\r\n  [1]: https://www.youtube.com/watch?v=E54KjhrP66I\r\n  [2]: https://www.youtube.com/watch?v=IDwKH2E6Bw4\r\n  [3]: https://i.stack.imgur.com/q8S7K.jpg","title":"Android Plugin not working in unity with class not found exception?","body":"<p>I tried creating a plugin but not working in unity.I do not have much idea about Android studio but watched this <a href=\"https://www.youtube.com/watch?v=E54KjhrP66I\" rel=\"nofollow noreferrer\">video</a> to create an android plugin.I created a new android project without any activity.So I have written two classes UnityBinder.java and Gallery.java.They are given below</p>\n<p>UnityBinder.java</p>\n<pre><code>package com.techripples.unityplugin;\n\nimport android.app.Activity;\nimport android.content.Intent;\n\npublic class UnityBinder {\npublic static void OpenGallery(Activity activity)\n{\n\n    Intent intent =new Intent(activity,Gallery.class);\n    activity.startActivity(intent);\n\n}\n\n}\n</code></pre>\n<p>Gallery.java class given below</p>\n<pre><code>package com.techripples.unityplugin;\n\n\nimport android.app.Activity;\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.provider.MediaStore;\nimport android.net.Uri;\nimport android.database.*;\nimport com.unity3d.player.*;\n\n\n\npublic class Gallery extends Activity {\n\n\nint PHOTO_GALLERY=1;\n\n@Override\nprotected void onCreate(Bundle bundle)\n{\n    super.onCreate(bundle);\n    Intent intent=new Intent(Intent.ACTION_PICK, MediaStore.Images.Media.EXTERNAL_CONTENT_URI);\n    startActivityForResult(intent,PHOTO_GALLERY);\n}\n\n//it will run when user picks a photo from the gallery\n@Override\nprotected void onActivityResult(int requestCode, int resultCode, Intent data) {\n    super.onActivityResult(requestCode, resultCode, data);\n\n    if(resultCode==RESULT_OK &amp;&amp; requestCode==PHOTO_GALLERY &amp;&amp; data!=null)\n    {\n\n        Uri uri=data.getData();\n        String[] fileColumn={MediaStore.Images.Media.DATA};\n        Cursor cursor=getContentResolver().query(uri,fileColumn,null,null,null);\n        cursor.moveToFirst();\n        int columnIndex=cursor.getColumnIndex(fileColumn[0]);\n        String photoPath=cursor.getString(columnIndex);\n\n\n        //Send path to unity to get photo\n                                        //GamObject Name,method name,argument\n        UnityPlayer.UnitySendMessage(&quot;Gallery&quot;,&quot;OnPhotoPick&quot;,photoPath);\n        Gallery.this.finish();//close activity\n\n    }\n}\n}\n</code></pre>\n<p>Next I have build and copied the jar file into Unity.The c# code written is as follows</p>\n<pre><code>using System.Collections;\nusing System.Collections.Generic;\nusing UnityEngine;\n\npublic class ShowPicture : MonoBehaviour\n{\n\nTexture2D galleryImage;\nbool isGalleryImageLoaded = false;\n\nWWW www;\n\n// Start is called before the first frame update\nvoid Start()\n{\n    \n}\n\n// Update is called once per frame\nvoid Update()\n{\n    \n}\n\nvoid OnGUI()\n{\n\n    if(isGalleryImageLoaded)\n    {\n        GUI.DrawTexture(new Rect(0, 0, Screen.width, Screen.height), galleryImage);\n\n    }\n    if(GUI.Button(new Rect(50,50,100,100),&quot;Open&quot;))\n    {\n\n        isGalleryImageLoaded = false;\n        AndroidJavaClass ajc = new AndroidJavaClass(&quot;com.unity.player.UnityPlayer&quot;);\n        //While asking question used AndroidJavaClass instead of AndroidJavaObject\n        AndroidJavaObject ajo = new AndroidJavaObject(&quot;com.techripples.unityplugin.UnityBinder&quot;);\n        ajo.CallStatic(&quot;OpenGallery&quot;, ajc.GetStatic&lt;AndroidJavaObject&gt;(&quot;currentActivity&quot;));\n    }\n\n    if(www!=null &amp;&amp; www.isDone)\n    {\n        galleryImage = new Texture2D(www.texture.width, www.texture.height);\n        galleryImage.SetPixels32(www.texture.GetPixels32());\n        galleryImage.Apply();\n        www = null;\n\n        isGalleryImageLoaded = true;\n\n    }\n\n}\n\n\npublic void OnPhotoPick(string filePath)\n{\n    Debug.Log(filePath);\n\n    www = new WWW(&quot;file://&quot; + filePath);\n}\n\n\n }\n</code></pre>\n<p>The manifest file which I copied into the Unity folder.Assets&gt;Plugins&gt;Android. is as follows.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest\nxmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\npackage=&quot;com.unity3d.player&quot;\nxmlns:tools=&quot;http://schemas.android.com/tools&quot;\nandroid:installLocation=&quot;preferExternal&quot;&gt;\n&lt;supports-screens\n    android:smallScreens=&quot;true&quot;\n    android:normalScreens=&quot;true&quot;\n    android:largeScreens=&quot;true&quot;\n    android:xlargeScreens=&quot;true&quot;\n    android:anyDensity=&quot;true&quot;/&gt;\n\n&lt;application\n    android:theme=&quot;@style/UnityThemeSelector&quot;\n    android:icon=&quot;@mipmap/app_icon&quot;\n    android:label=&quot;@string/app_name&quot;&gt;\n    &lt;activity android:name=&quot;com.unity3d.player.UnityPlayerActivity&quot;\n              android:label=&quot;@string/app_name&quot;&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n            &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n        &lt;/intent-filter&gt;\n        &lt;meta-data android:name=&quot;unityplayer.UnityActivity&quot; android:value=&quot;true&quot; /&gt;\n    &lt;/activity&gt;\n  &lt;activity android:name=&quot;com.techripples.unityplugin.Gallery&quot;&gt;&lt;/activity&gt;\n    \n&lt;/application&gt;\n</code></pre>\n\n<p>The error I got from terminal is as follows</p>\n<pre><code>01-28 13:25:06.305 27032 27061 E Unity : java.lang.ClassNotFoundException: Didn't find class &quot;com/unity/player/UnityPlayer&quot; on path: DexPathList[[zip file &quot;/data/app/com.testing.androidplugin-Aq1j3vpTxsomWMvd4kK7NQ==/base.apk&quot;],nativeLibraryDirectories=[/data/app/com.testing.androidplugin-Aq1j3vpTxsomWMvd4kK7NQ==/lib/arm, /data/app/com.testing.androidplugin-Aq1j3vpTxsomWMvd4kK7NQ==/base.apk!/lib/armeabi-v7a, /system/lib, /system/vendor/lib]]\n</code></pre>\n<p>Video of plugin done.What I am doing wrong here.\n<a href=\"https://www.youtube.com/watch?v=IDwKH2E6Bw4\" rel=\"nofollow noreferrer\">Making Of Android plugin</a></p>\n<p>I dont know how the calls are being made or what should I write in the manifest for the activity to run.\n<a href=\"https://i.stack.imgur.com/q8S7K.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/q8S7K.jpg\" alt=\"Android studio and Unity\" /></a></p>\n"},{"tags":["java","spring","scope","scheduled-tasks"],"answers":[{"tags":[],"owner":{"account_id":2324765,"reputation":3704,"user_id":2039546,"display_name":"İsmail Y."},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1693153118,"creation_date":1688123834,"answer_id":76588431,"question_id":76587696,"body_markdown":"**The above error occurs because the spring request scope is only registered for web app requests.**\r\n\r\nThrough the implementation of the [`RequestAttribute`](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/context/request/RequestAttributes.html) interface, spring puts/gets the request scope information from `HttpRequest`. \r\n\r\nIf the thread was started outside of the web request, the thread does not have the required attributes in its variables and hence throws exception.\r\n\r\nI ran into the same problem - needed to execute code in the job using `@Scheduled`, so it was unable to use any Session or Request scope beans. \r\n\r\nThere are couple of ways to solve this problem, I solved it the following way:\r\n\r\n##### Implement RequestAttributes Interface:\r\n\r\n```java\r\nimport org.springframework.web.context.request.RequestAttributes;\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\npublic class CustomRequestAttribute implements RequestAttributes {\r\n\r\n    private Map&lt;String, Object&gt; requestAttributes = new HashMap&lt;&gt;();\r\n\r\n    @Override\r\n    public Object getAttribute(String name, int scope) {\r\n        if (scope == RequestAttributes.SCOPE_REQUEST) {\r\n            return this.requestAttributes.get(name);\r\n        } else return null;\r\n    }\r\n\r\n    @Override\r\n    public void setAttribute(String name, Object value, int scope) {\r\n        if (scope == RequestAttributes.SCOPE_REQUEST) {\r\n            this.requestAttributes.put(name, value);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void removeAttribute(String name, int scope) {\r\n        if (scope == RequestAttributes.SCOPE_REQUEST) {\r\n            this.requestAttributes.remove(name);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public String[] getAttributeNames(int scope) {\r\n        if (scope == RequestAttributes.SCOPE_REQUEST) {\r\n            return this.requestAttributes.keySet().toArray(new String[0]);\r\n        } else return new String[0];\r\n    }\r\n\r\n    @Override\r\n    public void registerDestructionCallback(String name, Runnable callback, int scope) {}\r\n\r\n    @Override\r\n    public Object resolveReference(String key) { return null; }\r\n\r\n    @Override\r\n    public String getSessionId() { return null; }\r\n\r\n    @Override\r\n    public Object getSessionMutex() { return null; }\r\n}\r\n```\r\n\r\nNow at the start of the request in your code, instruct the `RequestContextHolder` to use this `CustomRequestAttribute` by executing the following statement and in the finally block clear out the request attributes.\r\n\r\n```java\r\n@Scheduled(cron = &quot;0 0 7 * * *&quot;)\r\npublic void doSomething() {\r\n    try {\r\n        RequestContextHolder.setRequestAttributes(\r\n                new CustomRequestAttribute());\r\n        userService.getSomeUsersIds\r\n                .forEach(userService::doSomething);\r\n    } catch (Exception e) {\r\n        // ...\r\n    } finally {\r\n        RequestContextHolder.resetRequestAttributes();\r\n    }\r\n}\r\n```","title":"How to create bean with &quot;request&quot; and &quot;schedule&quot; scopes at one time?","body":"<p><strong>The above error occurs because the spring request scope is only registered for web app requests.</strong></p>\n<p>Through the implementation of the <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/context/request/RequestAttributes.html\" rel=\"nofollow noreferrer\"><code>RequestAttribute</code></a> interface, spring puts/gets the request scope information from <code>HttpRequest</code>.</p>\n<p>If the thread was started outside of the web request, the thread does not have the required attributes in its variables and hence throws exception.</p>\n<p>I ran into the same problem - needed to execute code in the job using <code>@Scheduled</code>, so it was unable to use any Session or Request scope beans.</p>\n<p>There are couple of ways to solve this problem, I solved it the following way:</p>\n<h5>Implement RequestAttributes Interface:</h5>\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.web.context.request.RequestAttributes;\nimport java.util.HashMap;\nimport java.util.Map;\n\npublic class CustomRequestAttribute implements RequestAttributes {\n\n    private Map&lt;String, Object&gt; requestAttributes = new HashMap&lt;&gt;();\n\n    @Override\n    public Object getAttribute(String name, int scope) {\n        if (scope == RequestAttributes.SCOPE_REQUEST) {\n            return this.requestAttributes.get(name);\n        } else return null;\n    }\n\n    @Override\n    public void setAttribute(String name, Object value, int scope) {\n        if (scope == RequestAttributes.SCOPE_REQUEST) {\n            this.requestAttributes.put(name, value);\n        }\n    }\n\n    @Override\n    public void removeAttribute(String name, int scope) {\n        if (scope == RequestAttributes.SCOPE_REQUEST) {\n            this.requestAttributes.remove(name);\n        }\n    }\n\n    @Override\n    public String[] getAttributeNames(int scope) {\n        if (scope == RequestAttributes.SCOPE_REQUEST) {\n            return this.requestAttributes.keySet().toArray(new String[0]);\n        } else return new String[0];\n    }\n\n    @Override\n    public void registerDestructionCallback(String name, Runnable callback, int scope) {}\n\n    @Override\n    public Object resolveReference(String key) { return null; }\n\n    @Override\n    public String getSessionId() { return null; }\n\n    @Override\n    public Object getSessionMutex() { return null; }\n}\n</code></pre>\n<p>Now at the start of the request in your code, instruct the <code>RequestContextHolder</code> to use this <code>CustomRequestAttribute</code> by executing the following statement and in the finally block clear out the request attributes.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Scheduled(cron = &quot;0 0 7 * * *&quot;)\npublic void doSomething() {\n    try {\n        RequestContextHolder.setRequestAttributes(\n                new CustomRequestAttribute());\n        userService.getSomeUsersIds\n                .forEach(userService::doSomething);\n    } catch (Exception e) {\n        // ...\n    } finally {\n        RequestContextHolder.resetRequestAttributes();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":18442446,"reputation":388,"user_id":14614707,"display_name":"Zhenyria"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":178,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76588431,"answer_count":1,"score":0,"last_activity_date":1693153118,"creation_date":1688117506,"question_id":76587696,"body_markdown":"I have `UsersHandledInRequestCache` bean which is using for caching during request:\r\n```lang-java\r\n@Configuration\r\npublic class CacheConfiguration {\r\n\r\n    @Bean\r\n    @RequestScope\r\n    public UsersHandledInRequestCache usersHandledInRequestCache() {\r\n        return new UsersHandledInRequestCache();\r\n    }\r\n\r\n    public static class UsersHandledInRequestCache {\r\n        private final Set&lt;Integer&gt; cachedUsersIds = new HashSet&lt;&gt;();\r\n\r\n        public void cache(Integer userId) {\r\n            this.cachedUsersIds.add(userId);\r\n        }\r\n\r\n        public boolean isCached(Integer userId) {\r\n            return this.cachedUsersIds.contains(userId);\r\n        }\r\n    }\r\n}\r\n```\r\nAnd i have a service which uses the bean:\r\n```lang-java\r\n@Service\r\npublic class UserService {\r\n\r\n    @Resource(name = &quot;usersHandledInRequestCache&quot;)\r\n    private CacheConfiguration.UsersHandledInRequestCache usersHandledInRequestCache;\r\n\r\n    public void doSomething(Integer userId) {\r\n        if (!usersHandledInRequestCache.isCached(userId)) {\r\n            // do something\r\n            usersHandledInRequestCache.cache(userId);\r\n        }\r\n    }\r\n}\r\n```\r\nSo the service can be called by controllers and there are no problems:\r\n```lang-java\r\n@RestController\r\n@RequiredArgsConstructor\r\n@RequestMapping(&quot;/users&quot;)\r\npublic class UserController {\r\n\r\n    private final UserService userService;\r\n\r\n    @PostMapping\r\n    public void doSomething(@RequestBody Collection&lt;Integer&gt; usersIds) {\r\n        usersIds.forEach(userService::doSomething);\r\n    }\r\n}\r\n```\r\nIn this case `UsersHandledInRequestCache` bean is creating for each request and works correct. But additionaly i have scheduled service:\r\n```lang-java\r\n@Component\r\n@RequiredArgsConstructor\r\npublic class UserJob {\r\n    \r\n    private final UserService userService;\r\n\r\n    @Scheduled(cron = &quot;0 0 7 * * *&quot;)\r\n    public void doSomething() {\r\n        userService.getSomeUsersIds.forEach(userService::doSomething);\r\n    }\r\n}\r\n```\r\nAnd when the scheduled service is starting to work i get exception due to field `UserService#usersHandledInRequestCache` can not be initialized *(because there are no any requests and method calling is initiated by scheduled service work)*:\r\n\r\n&gt; Error creating bean with name\r\n&gt; &#39;scopedTarget.usersHandledInRequestCache&#39;: Scope &#39;request&#39; is not\r\n&gt; active for the current thread; consider defining a scoped proxy for\r\n&gt; this bean if you intend to refer to it from a singleton; nested\r\n&gt; exception is java.lang.IllegalStateException: No thread-bound request\r\n&gt; found: Are you referring to request attributes outside of an actual\r\n&gt; web request, or processing a request outside of the originally\r\n&gt; receiving thread? If you are actually operating within a web request\r\n&gt; and still receive this message, your code is probably running outside\r\n&gt; of DispatcherServlet: In this case, use RequestContextListener or\r\n&gt; RequestContextFilter to expose the current request.\r\n\r\nI want to make bean `UsersHandledInRequestCache` with &quot;request&quot; scope and &quot;schedule&quot; scope at one time. How i can get it?","title":"How to create bean with &quot;request&quot; and &quot;schedule&quot; scopes at one time?","body":"<p>I have <code>UsersHandledInRequestCache</code> bean which is using for caching during request:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class CacheConfiguration {\n\n    @Bean\n    @RequestScope\n    public UsersHandledInRequestCache usersHandledInRequestCache() {\n        return new UsersHandledInRequestCache();\n    }\n\n    public static class UsersHandledInRequestCache {\n        private final Set&lt;Integer&gt; cachedUsersIds = new HashSet&lt;&gt;();\n\n        public void cache(Integer userId) {\n            this.cachedUsersIds.add(userId);\n        }\n\n        public boolean isCached(Integer userId) {\n            return this.cachedUsersIds.contains(userId);\n        }\n    }\n}\n</code></pre>\n<p>And i have a service which uses the bean:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class UserService {\n\n    @Resource(name = &quot;usersHandledInRequestCache&quot;)\n    private CacheConfiguration.UsersHandledInRequestCache usersHandledInRequestCache;\n\n    public void doSomething(Integer userId) {\n        if (!usersHandledInRequestCache.isCached(userId)) {\n            // do something\n            usersHandledInRequestCache.cache(userId);\n        }\n    }\n}\n</code></pre>\n<p>So the service can be called by controllers and there are no problems:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@RequiredArgsConstructor\n@RequestMapping(&quot;/users&quot;)\npublic class UserController {\n\n    private final UserService userService;\n\n    @PostMapping\n    public void doSomething(@RequestBody Collection&lt;Integer&gt; usersIds) {\n        usersIds.forEach(userService::doSomething);\n    }\n}\n</code></pre>\n<p>In this case <code>UsersHandledInRequestCache</code> bean is creating for each request and works correct. But additionaly i have scheduled service:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\n@RequiredArgsConstructor\npublic class UserJob {\n    \n    private final UserService userService;\n\n    @Scheduled(cron = &quot;0 0 7 * * *&quot;)\n    public void doSomething() {\n        userService.getSomeUsersIds.forEach(userService::doSomething);\n    }\n}\n</code></pre>\n<p>And when the scheduled service is starting to work i get exception due to field <code>UserService#usersHandledInRequestCache</code> can not be initialized <em>(because there are no any requests and method calling is initiated by scheduled service work)</em>:</p>\n<blockquote>\n<p>Error creating bean with name\n'scopedTarget.usersHandledInRequestCache': Scope 'request' is not\nactive for the current thread; consider defining a scoped proxy for\nthis bean if you intend to refer to it from a singleton; nested\nexception is java.lang.IllegalStateException: No thread-bound request\nfound: Are you referring to request attributes outside of an actual\nweb request, or processing a request outside of the originally\nreceiving thread? If you are actually operating within a web request\nand still receive this message, your code is probably running outside\nof DispatcherServlet: In this case, use RequestContextListener or\nRequestContextFilter to expose the current request.</p>\n</blockquote>\n<p>I want to make bean <code>UsersHandledInRequestCache</code> with &quot;request&quot; scope and &quot;schedule&quot; scope at one time. How i can get it?</p>\n"},{"tags":["java","spring","criteria-api","criteriaquery"],"answers":[{"tags":[],"owner":{"account_id":2324765,"reputation":3704,"user_id":2039546,"display_name":"İsmail Y."},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1693152423,"creation_date":1693152423,"answer_id":76987911,"question_id":76970467,"body_markdown":"**TL;DR**\r\n\r\n`::` or `&amp;&amp;` are not part of the `JPA Criteria API` standard. **You could use a native SQL query.**\r\n\r\n---\r\n\r\nIf you want to use specific features or functions unique to a database system like `PostgreSQL`, it may not be possible to use them directly within the JPA Criteria API.\r\n\r\nSome queries, [you can avoid the headache by specifying the escape sequence completely](https://stackoverflow.com/a/69773402/2039546), but for this query; There is no way to simultaneously escape special types such as `overlap (&amp;&amp;)`, `double colon (::)`, and `tsrange (cast(string as tsrange))`.\r\n\r\nIt would be appropriate to create this query using a *native query (@Query)* instead of the Criteria API, or alternatively; if you are using `Hibernate` you can create a `FunctionContributor` for this statement.\r\n\r\nCreate a *FunctionContributor*, here we give our function a special name and set our pattern:\r\n\r\n*(It is a simple function definition approach, it can be made more usable.)*\r\n\r\n```java\r\npublic class PostgreSQLTsrangeOverlapFunction implements FunctionContributor {\r\n\r\n    @Override\r\n    public void contributeFunctions(FunctionContributions functionContributions) {\r\n        functionContributions.getFunctionRegistry().registerPattern(\r\n                &quot;fn_tsrange_overlap&quot;,\r\n                &quot;?1 &amp;&amp; ?2::tsrange&quot;,\r\n                functionContributions\r\n                        .getTypeConfiguration()\r\n                        .getBasicTypeRegistry()\r\n                        .resolve(StandardBasicTypes.BOOLEAN)\r\n        );\r\n    }\r\n}\r\n```\r\n\r\nWe use this function with the Criteria API:\r\n\r\n```java\r\npublic static Specification&gt; getSpecification() {\r\n    return (root, query, cb) -&gt; {\r\n        String dateTimeString1 = &quot;2014-09-15 00:00:00&quot;;\r\n        String dateTimeString2 = &quot;2015-09-15 00:00:00&quot;;\r\n        String dateTimeFormat = &quot;yyyy-MM-dd HH:mm:ss&quot;;\r\n\r\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(dateTimeFormat);\r\n        LocalDateTime d1 = LocalDateTime.parse(dateTimeString1, formatter);\r\n        LocalDateTime d2 = LocalDateTime.parse(dateTimeString2, formatter);\r\n\r\n        Path&lt;Object&gt; field = root.get(&quot;time_range_column&quot;);\r\n        Expression&lt;String&gt; bound = cb.literal(&quot;[&quot; + d1 + &quot;,&quot; + d2 + &quot;]&quot;);\r\n        Expression&lt;Boolean&gt; function = cb.function(\r\n                &quot;fn_tsrange_overlap&quot;,\r\n                Boolean.class,\r\n                field,\r\n                bound);\r\n\r\n        return cb.isTrue(function);\r\n    };\r\n}\r\n```\r\n\r\nThe class must be then registered via [Java ServiceLoader](https://docs.oracle.com/javase/6/docs/api/java/util/ServiceLoader.html) mechanism by adding full name of the class with its packages into the file with name `org.hibernate.boot.model.FunctionContributor` into the java module’s `META-INF/services` directory.\r\n\r\nYou use this specification your query will look like this:\r\n\r\n```sql\r\nselect ... from table t1 \r\nwhere t1.time_range_column &amp;&amp; &#39;[2014-09-15T00:00,2015-09-15T00:00]&#39;::tsrange\r\n```\r\n\r\n*It was prepared with `Spring Boot 3.2.1` and `Hibernate 6.2.7.Final`.*","title":"Construct a Criteria Api Predicate that overlaps a tsrange column type in Postgresql","body":"<p><strong>TL;DR</strong></p>\n<p><code>::</code> or <code>&amp;&amp;</code> are not part of the <code>JPA Criteria API</code> standard. <strong>You could use a native SQL query.</strong></p>\n<hr />\n<p>If you want to use specific features or functions unique to a database system like <code>PostgreSQL</code>, it may not be possible to use them directly within the JPA Criteria API.</p>\n<p>Some queries, <a href=\"https://stackoverflow.com/a/69773402/2039546\">you can avoid the headache by specifying the escape sequence completely</a>, but for this query; There is no way to simultaneously escape special types such as <code>overlap (&amp;&amp;)</code>, <code>double colon (::)</code>, and <code>tsrange (cast(string as tsrange))</code>.</p>\n<p>It would be appropriate to create this query using a <em>native query (@Query)</em> instead of the Criteria API, or alternatively; if you are using <code>Hibernate</code> you can create a <code>FunctionContributor</code> for this statement.</p>\n<p>Create a <em>FunctionContributor</em>, here we give our function a special name and set our pattern:</p>\n<p><em>(It is a simple function definition approach, it can be made more usable.)</em></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class PostgreSQLTsrangeOverlapFunction implements FunctionContributor {\n\n    @Override\n    public void contributeFunctions(FunctionContributions functionContributions) {\n        functionContributions.getFunctionRegistry().registerPattern(\n                &quot;fn_tsrange_overlap&quot;,\n                &quot;?1 &amp;&amp; ?2::tsrange&quot;,\n                functionContributions\n                        .getTypeConfiguration()\n                        .getBasicTypeRegistry()\n                        .resolve(StandardBasicTypes.BOOLEAN)\n        );\n    }\n}\n</code></pre>\n<p>We use this function with the Criteria API:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static Specification&gt; getSpecification() {\n    return (root, query, cb) -&gt; {\n        String dateTimeString1 = &quot;2014-09-15 00:00:00&quot;;\n        String dateTimeString2 = &quot;2015-09-15 00:00:00&quot;;\n        String dateTimeFormat = &quot;yyyy-MM-dd HH:mm:ss&quot;;\n\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(dateTimeFormat);\n        LocalDateTime d1 = LocalDateTime.parse(dateTimeString1, formatter);\n        LocalDateTime d2 = LocalDateTime.parse(dateTimeString2, formatter);\n\n        Path&lt;Object&gt; field = root.get(&quot;time_range_column&quot;);\n        Expression&lt;String&gt; bound = cb.literal(&quot;[&quot; + d1 + &quot;,&quot; + d2 + &quot;]&quot;);\n        Expression&lt;Boolean&gt; function = cb.function(\n                &quot;fn_tsrange_overlap&quot;,\n                Boolean.class,\n                field,\n                bound);\n\n        return cb.isTrue(function);\n    };\n}\n</code></pre>\n<p>The class must be then registered via <a href=\"https://docs.oracle.com/javase/6/docs/api/java/util/ServiceLoader.html\" rel=\"nofollow noreferrer\">Java ServiceLoader</a> mechanism by adding full name of the class with its packages into the file with name <code>org.hibernate.boot.model.FunctionContributor</code> into the java module’s <code>META-INF/services</code> directory.</p>\n<p>You use this specification your query will look like this:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>select ... from table t1 \nwhere t1.time_range_column &amp;&amp; '[2014-09-15T00:00,2015-09-15T00:00]'::tsrange\n</code></pre>\n<p><em>It was prepared with <code>Spring Boot 3.2.1</code> and <code>Hibernate 6.2.7.Final</code>.</em></p>\n"}],"owner":{"account_id":29291551,"reputation":13,"user_id":22441895,"display_name":"Gabriela SO"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76987911,"answer_count":1,"score":1,"last_activity_date":1693152423,"creation_date":1692888387,"question_id":76970467,"body_markdown":"I want to create a Java Criteria Api Predicate that performs the equivalent SQL query in Postgres 15 as follows:\r\n```\r\nSELECT time_range_column FROM public.address_table\r\nWHERE  time_range_column &amp;&amp; &#39;[2014-09-23, 2015-09-24]&#39;::tsrange;\r\n```\r\n\r\nI declared the `time_range_column` in my entity as follows:\r\n\r\n```\r\n@Type(PostgreSQLRangeType.class)\r\n@Column(name = &quot;time_range_column&quot;)\r\nprivate Range\\&lt;LocalDateTime\\&gt; timeRangeColumn;\r\n```\r\n\r\nMy solution is as follows, but returns no results:\r\n\r\n```\r\nString dateTimeString1 = &quot;2014-09-15 00:00:00&quot;;\r\nString dateTimeString2 = &quot;2015-09-15 00:00:00&quot;;\r\nString dateTimeFormat = &quot;yyyy-MM-dd HH:mm:ss&quot;;\r\n\r\nDateTimeFormatter formatter = DateTimeFormatter.ofPattern(dateTimeFormat);\r\nLocalDateTime d1 = LocalDateTime.parse(dateTimeString1, formatter);\r\nLocalDateTime d2 = LocalDateTime.parse(dateTimeString2, formatter);\r\n\r\nString rangeLiteral = &quot;[&quot; + d1 + &quot;,&quot; + d2 + &quot;)&quot;;\r\n\r\nPredicate dateRangePredicate = criteriaBuilder.and(criteriaBuilder.literal(rangeLiteral)\r\n.in(root.&lt;LocalDateTime&gt;get(&quot;time_range_column&quot;)));\r\n```\r\n\r\n\r\n\r\nHow to create the predicate that overlaps these dates?","title":"Construct a Criteria Api Predicate that overlaps a tsrange column type in Postgresql","body":"<p>I want to create a Java Criteria Api Predicate that performs the equivalent SQL query in Postgres 15 as follows:</p>\n<pre><code>SELECT time_range_column FROM public.address_table\nWHERE  time_range_column &amp;&amp; '[2014-09-23, 2015-09-24]'::tsrange;\n</code></pre>\n<p>I declared the <code>time_range_column</code> in my entity as follows:</p>\n<pre><code>@Type(PostgreSQLRangeType.class)\n@Column(name = &quot;time_range_column&quot;)\nprivate Range\\&lt;LocalDateTime\\&gt; timeRangeColumn;\n</code></pre>\n<p>My solution is as follows, but returns no results:</p>\n<pre><code>String dateTimeString1 = &quot;2014-09-15 00:00:00&quot;;\nString dateTimeString2 = &quot;2015-09-15 00:00:00&quot;;\nString dateTimeFormat = &quot;yyyy-MM-dd HH:mm:ss&quot;;\n\nDateTimeFormatter formatter = DateTimeFormatter.ofPattern(dateTimeFormat);\nLocalDateTime d1 = LocalDateTime.parse(dateTimeString1, formatter);\nLocalDateTime d2 = LocalDateTime.parse(dateTimeString2, formatter);\n\nString rangeLiteral = &quot;[&quot; + d1 + &quot;,&quot; + d2 + &quot;)&quot;;\n\nPredicate dateRangePredicate = criteriaBuilder.and(criteriaBuilder.literal(rangeLiteral)\n.in(root.&lt;LocalDateTime&gt;get(&quot;time_range_column&quot;)));\n</code></pre>\n<p>How to create the predicate that overlaps these dates?</p>\n"},{"tags":["java","arrays","json"],"comments":[{"owner":{"account_id":3260062,"reputation":6909,"user_id":2745792,"accept_rate":65,"display_name":"Ninad Pingale"},"score":0,"creation_date":1406032455,"post_id":24887490,"comment_id":38658170,"body_markdown":"It says in file there is no array, but a simple json object.","body":"It says in file there is no array, but a simple json object."},{"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"score":0,"creation_date":1406032631,"post_id":24887490,"comment_id":38658301,"body_markdown":"First go to json.org and learn the JSON syntax.  It only takes 5-10 minutes.","body":"First go to json.org and learn the JSON syntax.  It only takes 5-10 minutes."},{"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"score":0,"creation_date":1406032765,"post_id":24887490,"comment_id":38658380,"body_markdown":"(It&#39;s saying that the data in the file is *not* an array.  Ie, what you have shown us above is not what&#39;s in the file.)","body":"(It&#39;s saying that the data in the file is <i>not</i> an array.  Ie, what you have shown us above is not what&#39;s in the file.)"}],"answers":[{"comments":[{"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"score":0,"creation_date":1406032848,"post_id":24887573,"comment_id":38658431,"body_markdown":"Which implies that the quoted JSON is not what&#39;s actually in the file.","body":"Which implies that the quoted JSON is not what&#39;s actually in the file."}],"tags":[],"owner":{"account_id":2524996,"reputation":2764,"user_id":2194537,"accept_rate":50,"display_name":"Nikhil Talreja"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1406033174,"creation_date":1406032468,"answer_id":24887573,"question_id":24887490,"body_markdown":"The exception is quite clear. \r\nYou need to cast to `JSONObject` and not `JSONArray`\r\n\r\n    JSONObject a = (JSONObject) parser.parse(new FileReader(&quot;c:\\\\exer4-courses.json&quot;));\r\n\r\nYou could possibly have this structure for your JSON:\r\n\r\n    {\r\n    &#160;&#160;&#160;&quot;records&quot;: [\r\n    &#160;&#160;&#160;&#160;&#160;&#160;{\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&quot;name&quot;: &quot;John&quot;,\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&quot;city&quot;: &quot;Berlin&quot;,\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&quot;cars&quot;: [\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&quot;audi&quot;,\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&quot;bmw&quot;\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;],\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&quot;job&quot;: &quot;Teacher&quot;\r\n    &#160;&#160;&#160;&#160;&#160;&#160;},\r\n    &#160;&#160;&#160;&#160;&#160;&#160;{\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&quot;name&quot;: &quot;Mark&quot;,\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&quot;city&quot;: &quot;Oslo&quot;,\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&quot;cars&quot;: [\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&quot;VW&quot;,\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&quot;Toyata&quot;\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;],\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&quot;job&quot;: &quot;Doctor&quot;\r\n    &#160;&#160;&#160;&#160;&#160;&#160;}\r\n    &#160;&#160;&#160;]\r\n    }\r\n\r\nNow to iterate you can do:\r\n\r\n    JSONArray records = (JSONArray)a.get(&quot;records&quot;);\r\n\r\n    for (Object o : records) {\r\n        JSONObject person = (JSONObject) o;\r\n    \r\n        String name = (String) person.get(&quot;name&quot;);\r\n        System.out.println(name);\r\n    \r\n        String city = (String) person.get(&quot;city&quot;);\r\n        System.out.println(city);\r\n    \r\n        String job = (String) person.get(&quot;job&quot;);\r\n        System.out.println(job);\r\n    \r\n        JSONArray cars = (JSONArray) jsonObject.get(&quot;cars&quot;);\r\n    \r\n        for (Object c : cars) {\r\n          System.out.println(c + &quot;&quot;);\r\n        }\r\n      }\r\n\r\n","title":"How to read json file (array form) using simple JSON library?","body":"<p>The exception is quite clear. \nYou need to cast to <code>JSONObject</code> and not <code>JSONArray</code></p>\n\n<pre><code>JSONObject a = (JSONObject) parser.parse(new FileReader(\"c:\\\\exer4-courses.json\"));\n</code></pre>\n\n<p>You could possibly have this structure for your JSON:</p>\n\n<pre><code>{\n   \"records\": [\n      {\n         \"name\": \"John\",\n         \"city\": \"Berlin\",\n         \"cars\": [\n            \"audi\",\n            \"bmw\"\n         ],\n         \"job\": \"Teacher\"\n      },\n      {\n         \"name\": \"Mark\",\n         \"city\": \"Oslo\",\n         \"cars\": [\n            \"VW\",\n            \"Toyata\"\n         ],\n         \"job\": \"Doctor\"\n      }\n   ]\n}\n</code></pre>\n\n<p>Now to iterate you can do:</p>\n\n<pre><code>JSONArray records = (JSONArray)a.get(\"records\");\n\nfor (Object o : records) {\n    JSONObject person = (JSONObject) o;\n\n    String name = (String) person.get(\"name\");\n    System.out.println(name);\n\n    String city = (String) person.get(\"city\");\n    System.out.println(city);\n\n    String job = (String) person.get(\"job\");\n    System.out.println(job);\n\n    JSONArray cars = (JSONArray) jsonObject.get(\"cars\");\n\n    for (Object c : cars) {\n      System.out.println(c + \"\");\n    }\n  }\n</code></pre>\n"}],"owner":{"account_id":4520034,"reputation":139,"user_id":3673589,"accept_rate":0,"display_name":"styner"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23232,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693152070,"creation_date":1406032245,"question_id":24887490,"body_markdown":"Actually, The example below is an answer somewhere in StackOverFlow.\r\nI tried to use the below code, but,\r\n\r\n    JSONArray a = (JSONArray) parser.parse(new FileReader(&quot;c:\\\\exer4-courses.json&quot;));\r\n\r\nAbove line doesn&#39;t work because of the below Exception.\r\n\r\n    java.lang.ClassCastException: org.json.simple.JSONObject cannot be cast to org.json.simple.JSONArray\r\n\r\nIs there any way to read my JSON file?\r\n\r\nJSON file:\r\n\r\n    [\r\n        {\r\n            &quot;name&quot;: &quot;John&quot;,\r\n            &quot;city&quot;: &quot;Berlin&quot;,\r\n            &quot;cars&quot;: [\r\n                &quot;audi&quot;,\r\n                &quot;bmw&quot;\r\n            ],\r\n            &quot;job&quot;: &quot;Teacher&quot;\r\n        },\r\n        {\r\n            &quot;name&quot;: &quot;Mark&quot;,\r\n            &quot;city&quot;: &quot;Oslo&quot;,\r\n            &quot;cars&quot;: [\r\n                &quot;VW&quot;,\r\n                &quot;Toyata&quot;\r\n            ],\r\n            &quot;job&quot;: &quot;Doctor&quot;\r\n        }\r\n    ]\r\n\r\nJava code:\r\n\r\n    JSONArray a = (JSONArray) parser.parse(new FileReader(&quot;c:\\\\exer4-courses.json&quot;));\r\n\r\n    for (Object o : a) {\r\n        JSONObject person = (JSONObject) o;\r\n\r\n        String name = (String) person.get(&quot;name&quot;);\r\n        System.out.println(name);\r\n\r\n        String city = (String) person.get(&quot;city&quot;);\r\n        System.out.println(city);\r\n\r\n        String job = (String) person.get(&quot;job&quot;);\r\n        System.out.println(job);\r\n\r\n        JSONArray cars = (JSONArray) jsonObject.get(&quot;cars&quot;);\r\n\r\n        for (Object c : cars) {\r\n          System.out.println(c + &quot;&quot;);\r\n        }\r\n      }","title":"How to read json file (array form) using simple JSON library?","body":"<p>Actually, The example below is an answer somewhere in StackOverFlow.\nI tried to use the below code, but,</p>\n\n<pre><code>JSONArray a = (JSONArray) parser.parse(new FileReader(\"c:\\\\exer4-courses.json\"));\n</code></pre>\n\n<p>Above line doesn't work because of the below Exception.</p>\n\n<pre><code>java.lang.ClassCastException: org.json.simple.JSONObject cannot be cast to org.json.simple.JSONArray\n</code></pre>\n\n<p>Is there any way to read my JSON file?</p>\n\n<p>JSON file:</p>\n\n<pre><code>[\n    {\n        \"name\": \"John\",\n        \"city\": \"Berlin\",\n        \"cars\": [\n            \"audi\",\n            \"bmw\"\n        ],\n        \"job\": \"Teacher\"\n    },\n    {\n        \"name\": \"Mark\",\n        \"city\": \"Oslo\",\n        \"cars\": [\n            \"VW\",\n            \"Toyata\"\n        ],\n        \"job\": \"Doctor\"\n    }\n]\n</code></pre>\n\n<p>Java code:</p>\n\n<pre><code>JSONArray a = (JSONArray) parser.parse(new FileReader(\"c:\\\\exer4-courses.json\"));\n\nfor (Object o : a) {\n    JSONObject person = (JSONObject) o;\n\n    String name = (String) person.get(\"name\");\n    System.out.println(name);\n\n    String city = (String) person.get(\"city\");\n    System.out.println(city);\n\n    String job = (String) person.get(\"job\");\n    System.out.println(job);\n\n    JSONArray cars = (JSONArray) jsonObject.get(\"cars\");\n\n    for (Object c : cars) {\n      System.out.println(c + \"\");\n    }\n  }\n</code></pre>\n"},{"tags":["java","spring","spring-boot","maven","environment-variables"],"answers":[{"comments":[{"owner":{"account_id":1741891,"reputation":887,"user_id":1593058,"accept_rate":61,"display_name":"BUKTOP"},"score":0,"creation_date":1693151349,"post_id":76987731,"comment_id":135719261,"body_markdown":"Thank you for reply! Your help is greatly appreciated, but I&#39;m not sure I understand it. I do use spring profiles. The problem is, that I need to set vars from env for container, but cannot test outside container because env vars ain&#39;t set in maven","body":"Thank you for reply! Your help is greatly appreciated, but I&#39;m not sure I understand it. I do use spring profiles. The problem is, that I need to set vars from env for container, but cannot test outside container because env vars ain&#39;t set in maven"},{"owner":{"account_id":1741891,"reputation":887,"user_id":1593058,"accept_rate":61,"display_name":"BUKTOP"},"score":0,"creation_date":1693151591,"post_id":76987731,"comment_id":135719295,"body_markdown":"I added application.properties for clarification","body":"I added application.properties for clarification"},{"owner":{"account_id":1741891,"reputation":887,"user_id":1593058,"accept_rate":61,"display_name":"BUKTOP"},"score":0,"creation_date":1693166681,"post_id":76987731,"comment_id":135720957,"body_markdown":"Well, at last I got your idea. Brilliant! Thank you!","body":"Well, at last I got your idea. Brilliant! Thank you!"}],"tags":[],"owner":{"account_id":19900384,"reputation":81,"user_id":14580500,"display_name":"ash"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1693149586,"creation_date":1693149561,"answer_id":76987731,"question_id":76987507,"body_markdown":"How about use the spring.profiles.active?\\\r\nYou can define a variable in your different environment.\\\r\nMake three properties file in your code.\r\nOne is application.properties,\r\nit just set spring.profiles.active = ${Your environment variable name}\\\r\nThe other two is container.properties and dev.properties,define the different environment variable.\\\r\nThen set the different variable in your develop operate system and your container system.","title":"Spring application.properties, docker and tests","body":"<p>How about use the spring.profiles.active?<br />\nYou can define a variable in your different environment.<br />\nMake three properties file in your code.\nOne is application.properties,\nit just set spring.profiles.active = ${Your environment variable name}<br />\nThe other two is container.properties and dev.properties,define the different environment variable.<br />\nThen set the different variable in your develop operate system and your container system.</p>\n"}],"owner":{"account_id":1741891,"reputation":887,"user_id":1593058,"accept_rate":61,"display_name":"BUKTOP"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76987731,"answer_count":1,"score":1,"last_activity_date":1693151556,"creation_date":1693145668,"question_id":76987507,"body_markdown":"I use spring boot app with maven and i need to set spring properties and I cannot sort it out. \r\n\r\nProblem:\r\n\r\nAssume, there&#39;s a spring app and application.properties should have ``spring.datasource.url`` set. \r\n\r\nI have two maven profiles with two different application.properties files, one for development and second one for deployment. Like, application-container.properties and application-dev.properties:\r\n\r\n```\r\n    &lt;profiles&gt;\r\n        &lt;profile&gt;\r\n            &lt;id&gt;dev&lt;/id&gt;\r\n            &lt;activation&gt;\r\n                &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\r\n            &lt;/activation&gt;\r\n            &lt;properties&gt;\r\n                &lt;activatedProperties&gt;dev&lt;/activatedProperties&gt;\r\n                &lt;spring.profiles.active&gt;dev&lt;/spring.profiles.active&gt;\r\n            &lt;/properties&gt;\r\n        &lt;/profile&gt;\r\n\r\n        &lt;profile&gt;\r\n            &lt;id&gt;container&lt;/id&gt;\r\n            &lt;properties&gt;\r\n                &lt;activatedProperties&gt;container&lt;/activatedProperties&gt;\r\n                &lt;spring.profiles.active&gt;container&lt;/spring.profiles.active&gt;\r\n            &lt;/properties&gt;\r\n        &lt;/profile&gt;\r\n    &lt;/profiles&gt;\r\n\r\n```\r\nand application.properties:\r\n```\r\nspring.profiles.active=@spring.profiles.active@\r\n```\r\n\r\n - For development and testing it should be something like\r\n\r\napplication-dev.properties:\r\n```\r\nspring.datasource.url=jdbc://devdatabase://localhost:12345/database\r\n```\r\n - The app built should run in container, suppose it is docker. For docker application.properties will look like\r\n\r\napplication-container.properties:\r\n\r\n```\r\nspring.datasource.url=${DATASOURCE}\r\n```\r\n\r\nAnd in docker the env file will be used, like (docker-compose.yaml):\r\n```\r\n    env_file:\r\n      - ./docker.env\r\n```\r\nwhere docker.env is like:\r\n```\r\nDATASOURCE=jdbc://proddatabase://prodhost:2345/proddatabase\r\n```\r\n\r\n\r\n\r\nThe problem is, that when I build app locally for docker deployment, I cannot run tests because ``spring.datasource.url`` is expected to be set from the system environment. I tried to find a maven plugin to load env variables from file(s) but didn&#39;t succeed.\r\n\r\nWorth to mention, that I actually have like 20-30 such a parameters.\r\n\r\nMy question: how could I solve that? I&#39;m not familiar with maven yet, maybe there&#39;s another approach I could use except building in the container? Ideally i&#39;d like to use single application.properties that takes values from the environment and just switch the environment for maven by using different env files, like it&#39;s done in docker. It will be great to see some example as well.\r\n\r\nYour advices are greatly appreciated. Thank you.\r\n\r\n","title":"Spring application.properties, docker and tests","body":"<p>I use spring boot app with maven and i need to set spring properties and I cannot sort it out.</p>\n<p>Problem:</p>\n<p>Assume, there's a spring app and application.properties should have <code>spring.datasource.url</code> set.</p>\n<p>I have two maven profiles with two different application.properties files, one for development and second one for deployment. Like, application-container.properties and application-dev.properties:</p>\n<pre><code>    &lt;profiles&gt;\n        &lt;profile&gt;\n            &lt;id&gt;dev&lt;/id&gt;\n            &lt;activation&gt;\n                &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\n            &lt;/activation&gt;\n            &lt;properties&gt;\n                &lt;activatedProperties&gt;dev&lt;/activatedProperties&gt;\n                &lt;spring.profiles.active&gt;dev&lt;/spring.profiles.active&gt;\n            &lt;/properties&gt;\n        &lt;/profile&gt;\n\n        &lt;profile&gt;\n            &lt;id&gt;container&lt;/id&gt;\n            &lt;properties&gt;\n                &lt;activatedProperties&gt;container&lt;/activatedProperties&gt;\n                &lt;spring.profiles.active&gt;container&lt;/spring.profiles.active&gt;\n            &lt;/properties&gt;\n        &lt;/profile&gt;\n    &lt;/profiles&gt;\n\n</code></pre>\n<p>and application.properties:</p>\n<pre><code>spring.profiles.active=@spring.profiles.active@\n</code></pre>\n<ul>\n<li>For development and testing it should be something like</li>\n</ul>\n<p>application-dev.properties:</p>\n<pre><code>spring.datasource.url=jdbc://devdatabase://localhost:12345/database\n</code></pre>\n<ul>\n<li>The app built should run in container, suppose it is docker. For docker application.properties will look like</li>\n</ul>\n<p>application-container.properties:</p>\n<pre><code>spring.datasource.url=${DATASOURCE}\n</code></pre>\n<p>And in docker the env file will be used, like (docker-compose.yaml):</p>\n<pre><code>    env_file:\n      - ./docker.env\n</code></pre>\n<p>where docker.env is like:</p>\n<pre><code>DATASOURCE=jdbc://proddatabase://prodhost:2345/proddatabase\n</code></pre>\n<p>The problem is, that when I build app locally for docker deployment, I cannot run tests because <code>spring.datasource.url</code> is expected to be set from the system environment. I tried to find a maven plugin to load env variables from file(s) but didn't succeed.</p>\n<p>Worth to mention, that I actually have like 20-30 such a parameters.</p>\n<p>My question: how could I solve that? I'm not familiar with maven yet, maybe there's another approach I could use except building in the container? Ideally i'd like to use single application.properties that takes values from the environment and just switch the environment for maven by using different env files, like it's done in docker. It will be great to see some example as well.</p>\n<p>Your advices are greatly appreciated. Thank you.</p>\n"},{"tags":["java","spring-boot","spring-webflux","reactor-netty"],"answers":[{"comments":[{"owner":{"account_id":5301676,"reputation":111,"user_id":4231057,"display_name":"crixx"},"score":0,"creation_date":1522664605,"post_id":49430177,"comment_id":86225357,"body_markdown":"Hi @joanna, thanks a lot - I&#39;ll check that out soon!","body":"Hi @joanna, thanks a lot - I&#39;ll check that out soon!"},{"owner":{"account_id":1329278,"reputation":2885,"user_id":1273497,"accept_rate":91,"display_name":"wild_nothing"},"score":5,"creation_date":1557761386,"post_id":49430177,"comment_id":98864529,"body_markdown":"Can&#39;t `doOnTerminate` be simplified to `() -&gt; connect(url)`? What is the reason for needing to send out an application event?","body":"Can&#39;t <code>doOnTerminate</code> be simplified to <code>() -&gt; connect(url)</code>? What is the reason for needing to send out an application event?"},{"owner":{"account_id":4173994,"reputation":708,"user_id":3421066,"accept_rate":25,"display_name":"alext"},"score":0,"creation_date":1687204555,"post_id":49430177,"comment_id":134901334,"body_markdown":"That&#39;s a good point by @wild_nothing, why make it complicated?","body":"That&#39;s a good point by @wild_nothing, why make it complicated?"}],"tags":[],"owner":{"account_id":6858272,"reputation":2158,"user_id":5273185,"display_name":"Joanna Mamczynska"},"comment_count":3,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1521726640,"creation_date":1521725921,"answer_id":49430177,"question_id":48598295,"body_markdown":"There is no out-of-the-box solution, reconnection mechanism is not part of JSR 356 - Java API for WebSocket. But you can implement it on your own - a simple example with Spring events:\r\n\r\n**Step 1 - Create an event class.**\r\n\r\n    public class ReconnectionEvent extends ApplicationEvent {\r\n    \r\n        private String url;\r\n    \r\n        public ReconnectionEvent(String url) {\r\n            super(url);\r\n            this.url = url;\r\n        }\r\n    \r\n        public String getUrl() {\r\n            return url;\r\n        }\r\n    \r\n    }\r\n\r\n**Step 2 - Provide a method for websocket connection.** An example:\r\n\r\n    ...\r\n    @Autowired\r\n    private ApplicationEventPublisher publisher;\r\n    ...\r\n    public void connect(String url) {\r\n    \r\n        ReactorNettyWebSocketClient client = new ReactorNettyWebSocketClient();\r\n    \r\n        EmitterProcessor&lt;String&gt; output = EmitterProcessor.create();\r\n    \r\n        Mono&lt;Void&gt; sessionMono = client.execute(URI.create(url),\r\n    \r\n                session -&gt; session.receive()\r\n                        .map(WebSocketMessage::getPayloadAsText)\r\n                        .log()\r\n                        .subscribeWith(output)\r\n                        .doOnTerminate(() -&gt; publisher.publishEvent(new ReconnectEvent(url)))\r\n                        .then());\r\n    \r\n        output\r\n                .doOnSubscribe(s -&gt; sessionMono.subscribe())\r\n                .subscribe();\r\n    }\r\n\r\nCheck `doOnTerminate()` method - when the Flux terminates, either by completing successfully or with an error, it emits a ReconnectEvent. If necessary, you can emit the reconnection event on other Flux&#39;s callbacks (for example only on `doOnError()`).\r\n\r\n**Step 3 - Provide a listener, that connects again on given url when a reconnection event occures.**\r\n\r\n    @EventListener(ReconnectEvent.class)\r\n    public void onApplicationEvent(ReconnectEvent event) {\r\n        connect(event.getUrl());\r\n    }\r\n\r\n\r\n","title":"How to reconnect ReactorNettyWebSocketClient connection?","body":"<p>There is no out-of-the-box solution, reconnection mechanism is not part of JSR 356 - Java API for WebSocket. But you can implement it on your own - a simple example with Spring events:</p>\n\n<p><strong>Step 1 - Create an event class.</strong></p>\n\n<pre><code>public class ReconnectionEvent extends ApplicationEvent {\n\n    private String url;\n\n    public ReconnectionEvent(String url) {\n        super(url);\n        this.url = url;\n    }\n\n    public String getUrl() {\n        return url;\n    }\n\n}\n</code></pre>\n\n<p><strong>Step 2 - Provide a method for websocket connection.</strong> An example:</p>\n\n<pre><code>...\n@Autowired\nprivate ApplicationEventPublisher publisher;\n...\npublic void connect(String url) {\n\n    ReactorNettyWebSocketClient client = new ReactorNettyWebSocketClient();\n\n    EmitterProcessor&lt;String&gt; output = EmitterProcessor.create();\n\n    Mono&lt;Void&gt; sessionMono = client.execute(URI.create(url),\n\n            session -&gt; session.receive()\n                    .map(WebSocketMessage::getPayloadAsText)\n                    .log()\n                    .subscribeWith(output)\n                    .doOnTerminate(() -&gt; publisher.publishEvent(new ReconnectEvent(url)))\n                    .then());\n\n    output\n            .doOnSubscribe(s -&gt; sessionMono.subscribe())\n            .subscribe();\n}\n</code></pre>\n\n<p>Check <code>doOnTerminate()</code> method - when the Flux terminates, either by completing successfully or with an error, it emits a ReconnectEvent. If necessary, you can emit the reconnection event on other Flux's callbacks (for example only on <code>doOnError()</code>).</p>\n\n<p><strong>Step 3 - Provide a listener, that connects again on given url when a reconnection event occures.</strong></p>\n\n<pre><code>@EventListener(ReconnectEvent.class)\npublic void onApplicationEvent(ReconnectEvent event) {\n    connect(event.getUrl());\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1736313,"reputation":141,"user_id":1588804,"display_name":"kapitanrum"},"score":1,"creation_date":1658311055,"post_id":53847140,"comment_id":129018038,"body_markdown":"UnicastProcessor is deprecated. Use rather `Sinks.Many&lt;String&gt; reconnectManager = Sinks.many().unicast().onBackpressureBuffer();` and `reconnectManager.asFlux().publish()` or `reconnectManager.tryEmitOn(this)`","body":"UnicastProcessor is deprecated. Use rather <code>Sinks.Many&lt;String&gt; reconnectManager = Sinks.many().unicast().onBackpressureBuffer();</code> and <code>reconnectManager.asFlux().publish()</code> or <code>reconnectManager.tryEmitOn(this)</code>"}],"tags":[],"owner":{"account_id":9663379,"reputation":33,"user_id":7170627,"display_name":"Icatream"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1545208147,"creation_date":1545207729,"answer_id":53847140,"question_id":48598295,"body_markdown":"I did something by using ```UnicastProcessor``` of reactor.\r\n\r\n    ...\r\n    public abstract class AbstractWsReconnectClient {\r\n        private Logger ...\r\n\r\n        protected UnicastProcessor&lt;AbstractWsReconnectClient&gt; reconnectProcessor = UnicastProcessor.create();\r\n\r\n        protected AbstractWsReconnectClient(Duration reconnectDuration) {\r\n            reconnect(reconnectDuration);\r\n        }\r\n\r\n        public abstract Mono&lt;Void&gt; connect();\r\n        \r\n        private void reconnect(Duration duration) {\r\n            reconnectProcessor.publish()\r\n                .autoConnect()\r\n                .delayElements(duration)\r\n                .flatMap(AbstractWsReconnectClient::connect)\r\n                .onErrorContinue(throwable -&gt; true,\r\n                    (throwable, o) -&gt; {\r\n                        if (throwable instanceof ConnectException) {\r\n                            logger.warn(throwable.getMessage());\r\n                        } else {\r\n                            logger.error(&quot;unexpected error occur during websocket reconnect&quot;);\r\n                            logger.error(throwable.getMessage());\r\n                        }\r\n                    })\r\n                .doOnTerminate(() -&gt; logger.error(&quot;websocket reconnect processor terminate &quot;))\r\n                .subscribe();\r\n        }\r\n    }\r\n\r\nWhen the ```WebSocketClient``` is terminate, invoke ```UnicastProcessor.onNext```\r\n\r\n    public Mono&lt;Void&gt; connect() {\r\n        WebSocketClient client = new ReactorNettyWebSocketClient();\r\n        logger.info(&quot;trying to connect to sso server {}&quot;, uri.toString());\r\n        return client.execute(uri, headers, ssoClientHandler)\r\n            .doOnTerminate(() -&gt; {\r\n                logger.warn(&quot;sso server {} disconnect&quot;, uri.toString());\r\n                super.reconnectProcessor.onNext(this);\r\n            });\r\n    }","title":"How to reconnect ReactorNettyWebSocketClient connection?","body":"<p>I did something by using <code>UnicastProcessor</code> of reactor.</p>\n\n<pre><code>...\npublic abstract class AbstractWsReconnectClient {\n    private Logger ...\n\n    protected UnicastProcessor&lt;AbstractWsReconnectClient&gt; reconnectProcessor = UnicastProcessor.create();\n\n    protected AbstractWsReconnectClient(Duration reconnectDuration) {\n        reconnect(reconnectDuration);\n    }\n\n    public abstract Mono&lt;Void&gt; connect();\n\n    private void reconnect(Duration duration) {\n        reconnectProcessor.publish()\n            .autoConnect()\n            .delayElements(duration)\n            .flatMap(AbstractWsReconnectClient::connect)\n            .onErrorContinue(throwable -&gt; true,\n                (throwable, o) -&gt; {\n                    if (throwable instanceof ConnectException) {\n                        logger.warn(throwable.getMessage());\n                    } else {\n                        logger.error(\"unexpected error occur during websocket reconnect\");\n                        logger.error(throwable.getMessage());\n                    }\n                })\n            .doOnTerminate(() -&gt; logger.error(\"websocket reconnect processor terminate \"))\n            .subscribe();\n    }\n}\n</code></pre>\n\n<p>When the <code>WebSocketClient</code> is terminate, invoke <code>UnicastProcessor.onNext</code></p>\n\n<pre><code>public Mono&lt;Void&gt; connect() {\n    WebSocketClient client = new ReactorNettyWebSocketClient();\n    logger.info(\"trying to connect to sso server {}\", uri.toString());\n    return client.execute(uri, headers, ssoClientHandler)\n        .doOnTerminate(() -&gt; {\n            logger.warn(\"sso server {} disconnect\", uri.toString());\n            super.reconnectProcessor.onNext(this);\n        });\n}\n</code></pre>\n"}],"owner":{"account_id":5301676,"reputation":111,"user_id":4231057,"display_name":"crixx"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4353,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1693149155,"creation_date":1517667171,"question_id":48598295,"body_markdown":"I need to access a websocket-service which closes an open websocket-connection after 24h. How do I have to implement the reconnect with Spring-Boot 2 and Webflux?\r\n\r\nThis is what I have so far (taken from https://github.com/artembilan/webflux-websocket-demo):\r\n\r\n    @GetMapping(path = &quot;/stream&quot;, produces = MediaType.TEXT_EVENT_STREAM_VALUE)\r\n    public Flux&lt;String&gt; getStreaming() throws URISyntaxException {\r\n        ReactorNettyWebSocketClient client = new ReactorNettyWebSocketClient();\r\n\r\n        EmitterProcessor&lt;String&gt; output = EmitterProcessor.create();\r\n\r\n        Mono&lt;Void&gt; sessionMono = client.execute(new URI(&quot;ws://localhost:8080/echo&quot;),\r\n\r\n        session -&gt; session.receive()\r\n        .timeout(Duration.ofSeconds(3))\r\n        .map(WebSocketMessage::getPayloadAsText)\r\n        .subscribeWith(output)\r\n        .then());\r\n\r\n        return output.doOnSubscribe(s -&gt; sessionMono.subscribe());\r\n    }\r\n\r\n\r\nAs soon as the connection gets lost (3 seconds no input anymore), a TimeoutException is thrown. But how can I reconnect the socket?","title":"How to reconnect ReactorNettyWebSocketClient connection?","body":"<p>I need to access a websocket-service which closes an open websocket-connection after 24h. How do I have to implement the reconnect with Spring-Boot 2 and Webflux?</p>\n\n<p>This is what I have so far (taken from <a href=\"https://github.com/artembilan/webflux-websocket-demo\" rel=\"noreferrer\">https://github.com/artembilan/webflux-websocket-demo</a>):</p>\n\n<pre><code>@GetMapping(path = \"/stream\", produces = MediaType.TEXT_EVENT_STREAM_VALUE)\npublic Flux&lt;String&gt; getStreaming() throws URISyntaxException {\n    ReactorNettyWebSocketClient client = new ReactorNettyWebSocketClient();\n\n    EmitterProcessor&lt;String&gt; output = EmitterProcessor.create();\n\n    Mono&lt;Void&gt; sessionMono = client.execute(new URI(\"ws://localhost:8080/echo\"),\n\n    session -&gt; session.receive()\n    .timeout(Duration.ofSeconds(3))\n    .map(WebSocketMessage::getPayloadAsText)\n    .subscribeWith(output)\n    .then());\n\n    return output.doOnSubscribe(s -&gt; sessionMono.subscribe());\n}\n</code></pre>\n\n<p>As soon as the connection gets lost (3 seconds no input anymore), a TimeoutException is thrown. But how can I reconnect the socket?</p>\n"},{"tags":["java","pdf","pdf-generation","pdfbox","boxable"],"comments":[{"owner":{"account_id":1864458,"reputation":103,"user_id":1688343,"accept_rate":13,"display_name":"Aryasindhu Sahu"},"score":0,"creation_date":1693157118,"post_id":76987669,"comment_id":135719926,"body_markdown":"I am not sure how google sheet does it.\nIt only has Chewy.ttf, no italics available for download.","body":"I am not sure how google sheet does it. It only has Chewy.ttf, no italics available for download."}],"owner":{"account_id":1864458,"reputation":103,"user_id":1688343,"accept_rate":13,"display_name":"Aryasindhu Sahu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693148629,"creation_date":1693148629,"question_id":76987669,"body_markdown":"I am using a custom font file(.ttf) and need to make the font look italics in the cell.\r\n\r\n`\r\n    PDType0Font chewyFont = PDType0Font.load(document,new File(&quot;Chewy-Regular.ttf&quot;));\r\n`\r\n\r\n\r\n\r\n`\r\n    BaseTable table = new BaseTable(yPosition, yStartNewPage, bottomMargin, tableWidth, margin, document, page, true, drawContent);\r\n    Row&lt;PDPage&gt; headerRow = table.createRow(20);\r\n    Cell&lt;PDPage&gt; cell = headerRow.createCell(100, &quot;Hello !!&quot;);\r\n    cell.setFont(chewyFont);\r\n    table.draw();\r\n`","title":"How to set italics font in PDFBox loaded with custom font file","body":"<p>I am using a custom font file(.ttf) and need to make the font look italics in the cell.</p>\n<p><code>PDType0Font chewyFont = PDType0Font.load(document,new File(&quot;Chewy-Regular.ttf&quot;));</code></p>\n<p><code>BaseTable table = new BaseTable(yPosition, yStartNewPage, bottomMargin, tableWidth, margin, document, page, true, drawContent); Row&lt;PDPage&gt; headerRow = table.createRow(20); Cell&lt;PDPage&gt; cell = headerRow.createCell(100, &quot;Hello !!&quot;); cell.setFont(chewyFont); table.draw();</code></p>\n"},{"tags":["java","midi"],"answers":[{"tags":[],"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691266071,"creation_date":1691265523,"answer_id":76843324,"question_id":76841923,"body_markdown":"The problem was I used the same channel as my `NOTE_ON` message. If I change it to a different one, the problem disappears\r\n```java\r\n            hookEvent = builder.withCommand(CONTROL_CHANGE)\r\n                    .withChannel(Math.max(1, (channel + 1) % 16)) // note this change\r\n                    .withFirstByte(HOOK_EVENT_NUM)\r\n                    .withSecondByte(0)\r\n                    .withTick(i + 1)\r\n                    .build();\r\n            track.add(hookEvent);\r\n```\r\nNotice I used `Math.max(1, (channel + 1) % 16)` instead of simply `channel + 1`. If `channel` equals 16 (and there are only 16 of them), `16 + 1` causes a runtime exception. `(channel + 1) % 16` is problematic too since if `channel` is 16, the expression produces 0 which is an illegal `channel` value (MIDI channels are one-based)\r\n\r\nIt&#39;s probably not the most elegant solution, but I hope you get the idea","title":"Sequencer API: How do I listen to NOTE_ON events?","body":"<p>The problem was I used the same channel as my <code>NOTE_ON</code> message. If I change it to a different one, the problem disappears</p>\n<pre class=\"lang-java prettyprint-override\"><code>            hookEvent = builder.withCommand(CONTROL_CHANGE)\n                    .withChannel(Math.max(1, (channel + 1) % 16)) // note this change\n                    .withFirstByte(HOOK_EVENT_NUM)\n                    .withSecondByte(0)\n                    .withTick(i + 1)\n                    .build();\n            track.add(hookEvent);\n</code></pre>\n<p>Notice I used <code>Math.max(1, (channel + 1) % 16)</code> instead of simply <code>channel + 1</code>. If <code>channel</code> equals 16 (and there are only 16 of them), <code>16 + 1</code> causes a runtime exception. <code>(channel + 1) % 16</code> is problematic too since if <code>channel</code> is 16, the expression produces 0 which is an illegal <code>channel</code> value (MIDI channels are one-based)</p>\n<p>It's probably not the most elegant solution, but I hope you get the idea</p>\n"},{"tags":[],"owner":{"account_id":9026259,"reputation":1316,"user_id":6725459,"display_name":"jjazzboss"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693147648,"creation_date":1693147648,"answer_id":76987611,"question_id":76841923,"body_markdown":"It&#39;s not a good practice to have Note-ONs without the corresponding Note-OFFs: on many synths it will use up all the polyphony. \r\n\r\nIf note sound is &quot;cut&quot;, it means that the Note-OFF happened &quot;too soon&quot; (change the tick position of the Note-OFF). Of course it depends on the sound nature (a piano note will ring much longer than a drums kick) and on the tempo. \r\n\r\nAlso, if you want to listen to **all** Note-ON events of a track, just use a MidiReceiver connected to the Sequencer, it will avoid to add dummy events. The book &quot;trick&quot; with the custom Contrller event is OK when you want for example to be notified on every beat. ","title":"Sequencer API: How do I listen to NOTE_ON events?","body":"<p>It's not a good practice to have Note-ONs without the corresponding Note-OFFs: on many synths it will use up all the polyphony.</p>\n<p>If note sound is &quot;cut&quot;, it means that the Note-OFF happened &quot;too soon&quot; (change the tick position of the Note-OFF). Of course it depends on the sound nature (a piano note will ring much longer than a drums kick) and on the tempo.</p>\n<p>Also, if you want to listen to <strong>all</strong> Note-ON events of a track, just use a MidiReceiver connected to the Sequencer, it will avoid to add dummy events. The book &quot;trick&quot; with the custom Contrller event is OK when you want for example to be notified on every beat.</p>\n"}],"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1693147648,"creation_date":1691242910,"question_id":76841923,"body_markdown":"How do I properly listen to `NOTE_ON` events when using the Sequencer API? Considering you can&#39;t directly listen to `NOTE_ON` events, they recommended [this approach][1] in the Head First Java book: you register a `ControllerEventListener` that listens to a dummy event (they used 127 as the event number) which occurs at the same time as the event you want to listen to. It kind of works but here&#39;s the problem: my sounds now lack the smooth transitions between them. Somehow, adding the listener affected the output. You may hear for yourself by running the code below as is and then running it after uncommenting the blocks that are commented out\r\n```java\r\npublic class App {\r\n    public static void main(String[] args) {\r\n        MidiPlayer player = new MidiPlayer();\r\n        player.playRegularPiano();\r\n    }\r\n}\r\n```\r\n```java\r\nimport static javax.sound.midi.ShortMessage.*;\r\n\r\n@SuppressWarnings(&quot;unused&quot;)\r\npublic class MidiPlayer {\r\n    private static final int KEYBOARD_CHANNEL = 1;\r\n    private static final int PERCUSSION_CHANNEL = 9;\r\n    private static final int MAGIC_NUMBER_THAT_MEANS_SEQUENCE_IS_FINISHED = 47;\r\n    private static final int HOOK_EVENT_NUM = 127; // as I understand, it&#39;s arbitrary number: any non-reserved int would do\r\n\r\n    public void playRegularPiano() {\r\n        playInstrument(KEYBOARD_CHANNEL, Keyboards.REGULAR_PIANO);\r\n    }\r\n    \r\n    // more playX() methods\r\n\r\n    @SneakyThrows\r\n    private void playInstrument(int channel, int instrument) {\r\n        Sequencer sequencer = MidiSystem.getSequencer();\r\n        sequencer.open();\r\n//\r\n//        sequencer.addControllerEventListener(event -&gt;\r\n//                System.out.println(&quot;la-la&quot;), new int[]{HOOK_EVENT_NUM});\r\n\r\n        Sequence sequence = getSequence(channel, instrument);\r\n        sequencer.setSequence(sequence);\r\n\r\n        MetaEventListener listener = getClosingListener(sequencer);\r\n        sequencer.addMetaEventListener(listener);\r\n\r\n        sequencer.start();\r\n\r\n    }\r\n\r\n    private Sequence getSequence(int channel, int instrument) throws InvalidMidiDataException {\r\n        Sequence sequence = new Sequence(Sequence.PPQ, 4);\r\n        MidiEventBuilder builder = new MidiEventBuilder();\r\n        Track track = sequence.createTrack();\r\n        ShortMessage firstMessage, secondMessage;\r\n        MidiEvent instrumentPick, noteOn, noteOff, hookEvent;\r\n\r\n        instrumentPick = builder.withCommand(PROGRAM_CHANGE)\r\n                .withChannel(channel)\r\n                .withFirstByte(instrument)\r\n                .withSecondByte(80)\r\n                .withTick(0)\r\n                .build();\r\n        track.add(instrumentPick);\r\n\r\n        for (int i = 0; i &lt; 8; i++) {\r\n            noteOn = builder.withCommand(NOTE_ON)\r\n                    .withChannel(channel)\r\n                    .withFirstByte(54 - i)\r\n                    .withSecondByte(80)\r\n                    .withTick(i + 1)\r\n                    .build();\r\n            track.add(noteOn);\r\n//\r\n//            hookEvent = builder.withCommand(CONTROL_CHANGE)\r\n//                    .withChannel(channel)\r\n//                    .withFirstByte(HOOK_EVENT_NUM)\r\n//                    .withSecondByte(0)\r\n//                    .withTick(i + 1)\r\n//                    .build();\r\n//            track.add(hookEvent);\r\n\r\n            noteOff = builder.withCommand(NOTE_OFF)\r\n                    .withChannel(channel)\r\n                    .withFirstByte(54 - i)\r\n                    .withSecondByte(80)\r\n                    .withTick(i + 1 + 20)\r\n                    .build();\r\n            track.add(noteOff);\r\n        }\r\n\r\n        for (int i = 8; i &lt; 25; i++) {\r\n            noteOn = builder.withCommand(NOTE_ON)\r\n                    .withChannel(channel)\r\n                    .withFirstByte(54 - (7 - (i - 7)))\r\n                    .withSecondByte(100)\r\n                    .withTick(i + 1)\r\n                    .build();\r\n            track.add(noteOn);\r\n//\r\n//            hookEvent = builder.withCommand(CONTROL_CHANGE)\r\n//                    .withChannel(channel)\r\n//                    .withFirstByte(HOOK_EVENT_NUM)\r\n//                    .withSecondByte(0)\r\n//                    .withTick(i + 1)\r\n//                    .build();\r\n//            track.add(hookEvent);\r\n\r\n            noteOff = builder.withCommand(NOTE_OFF)\r\n                    .withChannel(channel)\r\n                    .withFirstByte(54 - (7 - (i - 7)))\r\n                    .withSecondByte(100)\r\n                    .withTick(i + 1 + 20)\r\n                    .build();\r\n            track.add(noteOff);\r\n        }\r\n        return sequence;\r\n    }\r\n\r\n    private MetaEventListener getClosingListener(Sequencer sequencer) {\r\n        return (metaMessage) -&gt; {\r\n            if (metaMessage.getType() == MAGIC_NUMBER_THAT_MEANS_SEQUENCE_IS_FINISHED) {\r\n                sequencer.close();\r\n            }\r\n        };\r\n    }\r\n\r\n    private static class Keyboards {\r\n        private static final int REGULAR_PIANO = 1;\r\n\r\n        // more constants\r\n    }\r\n\r\n    private static class MidiEventBuilder {\r\n        private int command;\r\n        private int channel;\r\n        private int firstByte;\r\n        private int secondByte;\r\n        private int tick;\r\n\r\n        private MidiEventBuilder withCommand(int command) {\r\n            this.command = command;\r\n            return this;\r\n        }\r\n\r\n        private MidiEventBuilder withChannel(int channel) {\r\n            this.channel = channel;\r\n            return this;\r\n        }\r\n\r\n        private MidiEventBuilder withFirstByte(int firstByte) {\r\n            this.firstByte = firstByte;\r\n            return this;\r\n        }\r\n\r\n        private MidiEventBuilder withSecondByte(int secondByte) {\r\n            this.secondByte = secondByte;\r\n            return this;\r\n        }\r\n\r\n        private MidiEventBuilder withTick(int tick) {\r\n            this.tick = tick;\r\n            return this;\r\n        }\r\n\r\n        private MidiEvent build() throws InvalidMidiDataException {\r\n            ShortMessage message = new ShortMessage(command, channel, firstByte, secondByte);\r\n            return new MidiEvent(message, tick);\r\n        }\r\n    }\r\n}\r\n```\r\nHow do I listen to `NOTE_ON` events in a way that doesn&#39;t compromise the sound?\r\n\r\n\r\n  [1]: https://archive.org/details/head-first-java-2nd-edition/page/390/mode/1up?view=theater","title":"Sequencer API: How do I listen to NOTE_ON events?","body":"<p>How do I properly listen to <code>NOTE_ON</code> events when using the Sequencer API? Considering you can't directly listen to <code>NOTE_ON</code> events, they recommended <a href=\"https://archive.org/details/head-first-java-2nd-edition/page/390/mode/1up?view=theater\" rel=\"nofollow noreferrer\">this approach</a> in the Head First Java book: you register a <code>ControllerEventListener</code> that listens to a dummy event (they used 127 as the event number) which occurs at the same time as the event you want to listen to. It kind of works but here's the problem: my sounds now lack the smooth transitions between them. Somehow, adding the listener affected the output. You may hear for yourself by running the code below as is and then running it after uncommenting the blocks that are commented out</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class App {\n    public static void main(String[] args) {\n        MidiPlayer player = new MidiPlayer();\n        player.playRegularPiano();\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>import static javax.sound.midi.ShortMessage.*;\n\n@SuppressWarnings(&quot;unused&quot;)\npublic class MidiPlayer {\n    private static final int KEYBOARD_CHANNEL = 1;\n    private static final int PERCUSSION_CHANNEL = 9;\n    private static final int MAGIC_NUMBER_THAT_MEANS_SEQUENCE_IS_FINISHED = 47;\n    private static final int HOOK_EVENT_NUM = 127; // as I understand, it's arbitrary number: any non-reserved int would do\n\n    public void playRegularPiano() {\n        playInstrument(KEYBOARD_CHANNEL, Keyboards.REGULAR_PIANO);\n    }\n    \n    // more playX() methods\n\n    @SneakyThrows\n    private void playInstrument(int channel, int instrument) {\n        Sequencer sequencer = MidiSystem.getSequencer();\n        sequencer.open();\n//\n//        sequencer.addControllerEventListener(event -&gt;\n//                System.out.println(&quot;la-la&quot;), new int[]{HOOK_EVENT_NUM});\n\n        Sequence sequence = getSequence(channel, instrument);\n        sequencer.setSequence(sequence);\n\n        MetaEventListener listener = getClosingListener(sequencer);\n        sequencer.addMetaEventListener(listener);\n\n        sequencer.start();\n\n    }\n\n    private Sequence getSequence(int channel, int instrument) throws InvalidMidiDataException {\n        Sequence sequence = new Sequence(Sequence.PPQ, 4);\n        MidiEventBuilder builder = new MidiEventBuilder();\n        Track track = sequence.createTrack();\n        ShortMessage firstMessage, secondMessage;\n        MidiEvent instrumentPick, noteOn, noteOff, hookEvent;\n\n        instrumentPick = builder.withCommand(PROGRAM_CHANGE)\n                .withChannel(channel)\n                .withFirstByte(instrument)\n                .withSecondByte(80)\n                .withTick(0)\n                .build();\n        track.add(instrumentPick);\n\n        for (int i = 0; i &lt; 8; i++) {\n            noteOn = builder.withCommand(NOTE_ON)\n                    .withChannel(channel)\n                    .withFirstByte(54 - i)\n                    .withSecondByte(80)\n                    .withTick(i + 1)\n                    .build();\n            track.add(noteOn);\n//\n//            hookEvent = builder.withCommand(CONTROL_CHANGE)\n//                    .withChannel(channel)\n//                    .withFirstByte(HOOK_EVENT_NUM)\n//                    .withSecondByte(0)\n//                    .withTick(i + 1)\n//                    .build();\n//            track.add(hookEvent);\n\n            noteOff = builder.withCommand(NOTE_OFF)\n                    .withChannel(channel)\n                    .withFirstByte(54 - i)\n                    .withSecondByte(80)\n                    .withTick(i + 1 + 20)\n                    .build();\n            track.add(noteOff);\n        }\n\n        for (int i = 8; i &lt; 25; i++) {\n            noteOn = builder.withCommand(NOTE_ON)\n                    .withChannel(channel)\n                    .withFirstByte(54 - (7 - (i - 7)))\n                    .withSecondByte(100)\n                    .withTick(i + 1)\n                    .build();\n            track.add(noteOn);\n//\n//            hookEvent = builder.withCommand(CONTROL_CHANGE)\n//                    .withChannel(channel)\n//                    .withFirstByte(HOOK_EVENT_NUM)\n//                    .withSecondByte(0)\n//                    .withTick(i + 1)\n//                    .build();\n//            track.add(hookEvent);\n\n            noteOff = builder.withCommand(NOTE_OFF)\n                    .withChannel(channel)\n                    .withFirstByte(54 - (7 - (i - 7)))\n                    .withSecondByte(100)\n                    .withTick(i + 1 + 20)\n                    .build();\n            track.add(noteOff);\n        }\n        return sequence;\n    }\n\n    private MetaEventListener getClosingListener(Sequencer sequencer) {\n        return (metaMessage) -&gt; {\n            if (metaMessage.getType() == MAGIC_NUMBER_THAT_MEANS_SEQUENCE_IS_FINISHED) {\n                sequencer.close();\n            }\n        };\n    }\n\n    private static class Keyboards {\n        private static final int REGULAR_PIANO = 1;\n\n        // more constants\n    }\n\n    private static class MidiEventBuilder {\n        private int command;\n        private int channel;\n        private int firstByte;\n        private int secondByte;\n        private int tick;\n\n        private MidiEventBuilder withCommand(int command) {\n            this.command = command;\n            return this;\n        }\n\n        private MidiEventBuilder withChannel(int channel) {\n            this.channel = channel;\n            return this;\n        }\n\n        private MidiEventBuilder withFirstByte(int firstByte) {\n            this.firstByte = firstByte;\n            return this;\n        }\n\n        private MidiEventBuilder withSecondByte(int secondByte) {\n            this.secondByte = secondByte;\n            return this;\n        }\n\n        private MidiEventBuilder withTick(int tick) {\n            this.tick = tick;\n            return this;\n        }\n\n        private MidiEvent build() throws InvalidMidiDataException {\n            ShortMessage message = new ShortMessage(command, channel, firstByte, secondByte);\n            return new MidiEvent(message, tick);\n        }\n    }\n}\n</code></pre>\n<p>How do I listen to <code>NOTE_ON</code> events in a way that doesn't compromise the sound?</p>\n"},{"tags":["java","spring","spring-aop"],"answers":[{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1693144769,"creation_date":1693109530,"answer_id":76985694,"question_id":76985393,"body_markdown":"&gt; When we use `@ControllerAdvice` and `@ExceptionHandler` to catch exceptions globally, does it mean that spring uses aop internally,\r\n\r\nYes and no. The name part &quot;advice&quot; in the annotation, which clearly is an AOP terminology reference, tells you that logically it is implemented using an AOP concept, i.e. controller advices with exception handlers are being scanned and cached when wiring the application, then later applied as a cross-cutting concern where necessary for exception handling.\r\n\r\n&gt; that is to say, spring will create a cut point inside, which matches all @Controller or @RestController modified method, and the aspect is `@Around` or `@AfterThrowing`?\r\n\r\nNot really. If you look at your controller beans, you will not see any registered AOP advisors on them. If they are not targeted by any other Spring AOP aspects, no dynamic proxies will be created for them either, even if they are targeted by controller advice exception handlers. This is all wired into Spring internally. Probably it could have been implemented using real AOP aspects, similar to how it is done for `@Transactional`, but there might be reasons other than just historical ones to hard-wire it, possibly because exception handling is considered a fundamental (low-level?) thing that should be built into the framework.","title":"whether global catch exception use aop-related technology？","body":"<blockquote>\n<p>When we use <code>@ControllerAdvice</code> and <code>@ExceptionHandler</code> to catch exceptions globally, does it mean that spring uses aop internally,</p>\n</blockquote>\n<p>Yes and no. The name part &quot;advice&quot; in the annotation, which clearly is an AOP terminology reference, tells you that logically it is implemented using an AOP concept, i.e. controller advices with exception handlers are being scanned and cached when wiring the application, then later applied as a cross-cutting concern where necessary for exception handling.</p>\n<blockquote>\n<p>that is to say, spring will create a cut point inside, which matches all @Controller or @RestController modified method, and the aspect is <code>@Around</code> or <code>@AfterThrowing</code>?</p>\n</blockquote>\n<p>Not really. If you look at your controller beans, you will not see any registered AOP advisors on them. If they are not targeted by any other Spring AOP aspects, no dynamic proxies will be created for them either, even if they are targeted by controller advice exception handlers. This is all wired into Spring internally. Probably it could have been implemented using real AOP aspects, similar to how it is done for <code>@Transactional</code>, but there might be reasons other than just historical ones to hard-wire it, possibly because exception handling is considered a fundamental (low-level?) thing that should be built into the framework.</p>\n"}],"owner":{"account_id":29255382,"reputation":13,"user_id":22413718,"display_name":"voi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76985694,"answer_count":1,"score":0,"last_activity_date":1693144769,"creation_date":1693098745,"question_id":76985393,"body_markdown":"When we use `@ControllerAdvice` and `@ExceptionHandler` to catch exceptions globally, does it mean that spring uses aop internally, that is to say, spring will create a cut point inside, which matches all @Controller or @RestController modified method, and the aspect is `@Around` or `@AfterThrowing`?\r\nOr, there is no such cut point, but if there is such logic in `DispatcherServlet`, if an exception is encountered, it will be handed over to the corresponding ExceptionHandler method?\r\n\r\n```\r\n@ControllerAdvice\r\n@ResponseBody\r\npublic class GlobalExceptionHandler {\r\n\r\n     @ExceptionHandler(BaseException. class)\r\n     public ResponseEntity&lt;?&gt; handleAppException(BaseException ex, HttpServletRequest request) {\r\n       //...\r\n     }\r\n\r\n     @ExceptionHandler(value = ResourceNotFoundException. class)\r\n     public ResponseEntity&lt;ErrorReponse&gt; handleResourceNotFoundException(ResourceNotFoundException ex, HttpServletRequest request) {\r\n       //...\r\n     }\r\n}\r\n```\r\n\r\n\r\nIt seems that there is such a source code:\r\n```\r\n@Nullable\r\nprivate Method getMappedMethod(Class&lt;? extends Throwable&gt; exceptionType) {\r\nList&lt;Class&lt;? extends Throwable&gt;&gt; matches = new ArrayList&lt;&gt;();\r\n     //Find all exception information that can be handled. MappedMethods stores the correspondence between exceptions and methods for handling exceptions\r\nfor (Class&lt;? extends Throwable&gt; mappedException : this. mappedMethods. keySet()) {\r\nif (mappedException. isAssignableFrom(exceptionType)) {\r\nmatches. add(mappedException);\r\n}\r\n}\r\n     // If it is not empty, it means that there is a method to handle exceptions\r\nif (!matches. isEmpty()) {\r\n       // Sort by matching degree from small to large\r\nmatches. sort(new ExceptionDepthComparator(exceptionType));\r\n       // Return the method that handles the exception\r\nreturn this.mappedMethods.get(matches.get(0));\r\n}\r\nelse {\r\nreturn null;\r\n}\r\n}\r\n```\r\nBut although this is a method to find the corresponding method, it does not mean that there is no defined cut point, so does the global catch exception use aop-related technology? Is global catching exceptions counted as aop, or is it just related to spring mvc?","title":"whether global catch exception use aop-related technology？","body":"<p>When we use <code>@ControllerAdvice</code> and <code>@ExceptionHandler</code> to catch exceptions globally, does it mean that spring uses aop internally, that is to say, spring will create a cut point inside, which matches all @Controller or @RestController modified method, and the aspect is <code>@Around</code> or <code>@AfterThrowing</code>?\nOr, there is no such cut point, but if there is such logic in <code>DispatcherServlet</code>, if an exception is encountered, it will be handed over to the corresponding ExceptionHandler method?</p>\n<pre><code>@ControllerAdvice\n@ResponseBody\npublic class GlobalExceptionHandler {\n\n     @ExceptionHandler(BaseException. class)\n     public ResponseEntity&lt;?&gt; handleAppException(BaseException ex, HttpServletRequest request) {\n       //...\n     }\n\n     @ExceptionHandler(value = ResourceNotFoundException. class)\n     public ResponseEntity&lt;ErrorReponse&gt; handleResourceNotFoundException(ResourceNotFoundException ex, HttpServletRequest request) {\n       //...\n     }\n}\n</code></pre>\n<p>It seems that there is such a source code:</p>\n<pre><code>@Nullable\nprivate Method getMappedMethod(Class&lt;? extends Throwable&gt; exceptionType) {\nList&lt;Class&lt;? extends Throwable&gt;&gt; matches = new ArrayList&lt;&gt;();\n     //Find all exception information that can be handled. MappedMethods stores the correspondence between exceptions and methods for handling exceptions\nfor (Class&lt;? extends Throwable&gt; mappedException : this. mappedMethods. keySet()) {\nif (mappedException. isAssignableFrom(exceptionType)) {\nmatches. add(mappedException);\n}\n}\n     // If it is not empty, it means that there is a method to handle exceptions\nif (!matches. isEmpty()) {\n       // Sort by matching degree from small to large\nmatches. sort(new ExceptionDepthComparator(exceptionType));\n       // Return the method that handles the exception\nreturn this.mappedMethods.get(matches.get(0));\n}\nelse {\nreturn null;\n}\n}\n</code></pre>\n<p>But although this is a method to find the corresponding method, it does not mean that there is no defined cut point, so does the global catch exception use aop-related technology? Is global catching exceptions counted as aop, or is it just related to spring mvc?</p>\n"},{"tags":["java","aspectj","spring-aop"],"comments":[{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":0,"creation_date":1693103792,"post_id":76983622,"comment_id":135715421,"body_markdown":"It looks ok, we need to see a minimal example where it doesn’t work.","body":"It looks ok, we need to see a minimal example where it doesn’t work."},{"owner":{"account_id":18670408,"reputation":143,"user_id":13609359,"display_name":"Slevin"},"score":0,"creation_date":1693105499,"post_id":76983622,"comment_id":135715499,"body_markdown":"Maybe without aditional space? `@PointCut(&quot;execution(* *())&quot;)`","body":"Maybe without aditional space? <code>@PointCut(&quot;execution(* *())&quot;)</code>"}],"answers":[{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1693113755,"creation_date":1693102479,"answer_id":76985488,"question_id":76983622,"body_markdown":"What you are describing seems to be incorrect. I cannot reproduce this problem. Both pointcuts work as expected for me. Probably you have another problem, your situation being different from the simplified version you have shown here.\r\n\r\nI would, however, recommend to use `execution(* *())` without the extra space between method name wildcard and opening parenthesis, because this is how AspectJ pointcuts are usually written. It does not make a difference in your case, though, it just looks strange.","title":"How do I create a pointcut only matching methods with no arguments?","body":"<p>What you are describing seems to be incorrect. I cannot reproduce this problem. Both pointcuts work as expected for me. Probably you have another problem, your situation being different from the simplified version you have shown here.</p>\n<p>I would, however, recommend to use <code>execution(* *())</code> without the extra space between method name wildcard and opening parenthesis, because this is how AspectJ pointcuts are usually written. It does not make a difference in your case, though, it just looks strange.</p>\n"}],"owner":{"account_id":14527719,"reputation":373,"user_id":10493440,"display_name":"Eisenknurr"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76985488,"answer_count":1,"score":-1,"last_activity_date":1693144668,"creation_date":1693063646,"question_id":76983622,"body_markdown":"I am trying to _only_ match methods with no parameters.\r\n\r\nSo far, I can match any method by using something like `@PointCut(&quot;execution(* * (..))&quot;)` but that is too broad. I tried `execution(* * ())` but that never triggered. Right now I am checking the length of the parameter array of the JoinPoint but I would like a more straightforward solution.\r\n\r\nEdit: It was working indeed (thanks everyone for checking!) and I was looking at a different problem but maybe this helps someone else. My setup is a request handler that calls two methods (one without arguments and one with) in a third class and I wanted to advise only one of those methods - missing that the pointcut matched the request method which had the same number of arguments as one of the methods in the third class. These methods are not matched at all but that is a different problem.","title":"How do I create a pointcut only matching methods with no arguments?","body":"<p>I am trying to <em>only</em> match methods with no parameters.</p>\n<p>So far, I can match any method by using something like <code>@PointCut(&quot;execution(* * (..))&quot;)</code> but that is too broad. I tried <code>execution(* * ())</code> but that never triggered. Right now I am checking the length of the parameter array of the JoinPoint but I would like a more straightforward solution.</p>\n<p>Edit: It was working indeed (thanks everyone for checking!) and I was looking at a different problem but maybe this helps someone else. My setup is a request handler that calls two methods (one without arguments and one with) in a third class and I wanted to advise only one of those methods - missing that the pointcut matched the request method which had the same number of arguments as one of the methods in the third class. These methods are not matched at all but that is a different problem.</p>\n"},{"tags":["java","regex","lex"],"answers":[{"comments":[{"owner":{"account_id":7369804,"reputation":1147,"user_id":5610358,"display_name":"rhowell"},"score":0,"creation_date":1549036490,"post_id":54482779,"comment_id":95772764,"body_markdown":"Pattern tokenPatterns = Pattern.compile(new String(tokenPatternsBuffer.substring(1))); Here is the full code incase i left anything else out - https://pastebin.com/NaC8xCQW","body":"Pattern tokenPatterns = Pattern.compile(new String(tokenPatternsBuffer.substring(1))); Here is the full code incase i left anything else out - <a href=\"https://pastebin.com/NaC8xCQW\" rel=\"nofollow noreferrer\">pastebin.com/NaC8xCQW</a>"},{"owner":{"account_id":12039849,"reputation":53,"user_id":8807190,"display_name":"alexflex25"},"score":0,"creation_date":1549036853,"post_id":54482779,"comment_id":95773005,"body_markdown":"Do you have sample file for input?","body":"Do you have sample file for input?"},{"owner":{"account_id":7369804,"reputation":1147,"user_id":5610358,"display_name":"rhowell"},"score":0,"creation_date":1549037686,"post_id":54482779,"comment_id":95773494,"body_markdown":"the input is defined in the main method. String input = &quot;a&quot;; A good test case would be an input like this... String input = &quot;if (int 5) abc @&quot;; I would want it to detect that the &#39;@&#39; symbol is an error. Also, I forgot some outdated code in the original pastebin I linked so please use this one if you want to refer to the complete code  - https://pastebin.com/jLtnJwgj","body":"the input is defined in the main method. String input = &quot;a&quot;; A good test case would be an input like this... String input = &quot;if (int 5) abc @&quot;; I would want it to detect that the &#39;@&#39; symbol is an error. Also, I forgot some outdated code in the original pastebin I linked so please use this one if you want to refer to the complete code  - <a href=\"https://pastebin.com/jLtnJwgj\" rel=\"nofollow noreferrer\">pastebin.com/jLtnJwgj</a>"},{"owner":{"account_id":7369804,"reputation":1147,"user_id":5610358,"display_name":"rhowell"},"score":0,"creation_date":1549038898,"post_id":54482779,"comment_id":95774169,"body_markdown":"@alexflex25 This is definitely closer to what I want, although it still doesn&#39;t work quite right. For example, if I use &quot;hello world!&quot; as the input I would expect it to detect the &#39;!&#39; at the end but it doesn&#39;t. If I use &#39;s@@@!!!&#39; as input, it for some reason only detects the &#39;s&#39; token.","body":"@alexflex25 This is definitely closer to what I want, although it still doesn&#39;t work quite right. For example, if I use &quot;hello world!&quot; as the input I would expect it to detect the &#39;!&#39; at the end but it doesn&#39;t. If I use &#39;s@@@!!!&#39; as input, it for some reason only detects the &#39;s&#39; token."},{"owner":{"account_id":7369804,"reputation":1147,"user_id":5610358,"display_name":"rhowell"},"score":0,"creation_date":1549039683,"post_id":54482779,"comment_id":95774604,"body_markdown":"I actually just got it working! Your solution got me to the solved version, thanks so much","body":"I actually just got it working! Your solution got me to the solved version, thanks so much"},{"owner":{"account_id":12039849,"reputation":53,"user_id":8807190,"display_name":"alexflex25"},"score":0,"creation_date":1549040772,"post_id":54482779,"comment_id":95775156,"body_markdown":"yes, you can add\n`other = unknow(tokens, other);`\nbefore lex return","body":"yes, you can add <code>other = unknow(tokens, other);</code> before lex return"}],"tags":[],"owner":{"account_id":12039849,"reputation":53,"user_id":8807190,"display_name":"alexflex25"},"comment_count":6,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1549041813,"creation_date":1549036041,"answer_id":54482779,"question_id":54481302,"body_markdown":"Do you try something like this?\r\n    \r\n    public class Lexer {\r\n\r\n\tpublic static enum TokenType {\r\n\t\t// Definitions of accepted tokens\r\n\t\tIF(&quot;if&quot;),\r\n\t\tWHILE(&quot;while&quot;),\r\n\t\tPRINT(&quot;print&quot;),\r\n\t\tTYPE(&quot;int|string|boolean&quot;),\r\n\t\tBOOLOP(&quot;==|!=&quot;),\r\n\t\tBOOLVAL(&quot;false|true&quot;),\r\n\t\tINTOP(&quot;[+]&quot;),\r\n\t\tCHAR(&quot;[a-z]&quot;),\r\n\t\tDIGIT(&quot;[0-9]&quot;),\r\n\t\tWHITESPACE(&quot;[ \\t\\f\\r\\n]+&quot;),\r\n\t\tLPAREN(&quot;[(]&quot;),\r\n\t\tRPAREN(&quot;[)]&quot;),\r\n\t\tOTHER(&quot;.&quot;);\r\n\t\tpublic final String pattern;\r\n\r\n\t\tprivate TokenType(final String pattern) {\r\n\t\t\tthis.pattern = pattern;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static class Token {\r\n\t\tpublic TokenType type;\r\n\t\tpublic String data;\r\n\r\n\t\tpublic Token(final TokenType type, final String data) {\r\n\t\t\tthis.type = type;\r\n\t\t\tthis.data = data;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static ArrayList&lt;Token&gt; lex(final String input) {\r\n\t\t// The tokens to return\r\n\t\tfinal ArrayList&lt;Token&gt; tokens = new ArrayList&lt;Token&gt;();\r\n\r\n\t\t// allows us to work with a mutable string\r\n\t\tfinal StringBuffer tokenPatternsBuffer = new StringBuffer();\r\n\r\n\t\tfor (final TokenType tokenType : TokenType.values()) {\r\n\t\t\ttokenPatternsBuffer.append(String.format(&quot;|(?&lt;%s&gt;%s)&quot;,\r\n\t\t\t\t\ttokenType.name(), tokenType.pattern));\r\n\t\t}\r\n\t\tfinal Pattern tokenPatterns = Pattern.compile(\r\n\t\t\t\tnew String(tokenPatternsBuffer.substring(1)));\r\n\r\n\t\t// Begin matching tokens\r\n\t\tString other = &quot;&quot;;\r\n\t\tfinal Matcher matcher = tokenPatterns.matcher(input);\r\n\t\twhile (matcher.find()) {\r\n\t\t\tif (matcher.group(TokenType.DIGIT.name()) != null) {\r\n\t\t\t\tother = unknow(tokens, other);\r\n\t\t\t\ttokens.add(new Token(TokenType.DIGIT,\r\n\t\t\t\t\t\tmatcher.group(TokenType.DIGIT.name())));\r\n\t\t\t\tcontinue;\r\n\t\t\t} else if (matcher.group(TokenType.IF.name()) != null) {\r\n\t\t\t\tother = unknow(tokens, other);\r\n\t\t\t\ttokens.add(new Token(TokenType.IF,\r\n\t\t\t\t\t\tmatcher.group(TokenType.IF.name())));\r\n\t\t\t\tcontinue;\r\n\t\t\t} else if (matcher.group(TokenType.WHILE.name()) != null) {\r\n\t\t\t\tother = unknow(tokens, other);\r\n\t\t\t\ttokens.add(new Token(TokenType.WHILE,\r\n\t\t\t\t\t\tmatcher.group(TokenType.WHILE.name())));\r\n\t\t\t\tcontinue;\r\n\t\t\t} else if (matcher.group(TokenType.TYPE.name()) != null) {\r\n\t\t\t\tother = unknow(tokens, other);\r\n\t\t\t\ttokens.add(new Token(TokenType.TYPE,\r\n\t\t\t\t\t\tmatcher.group(TokenType.TYPE.name())));\r\n\t\t\t\tcontinue;\r\n\t\t\t} else if (matcher.group(TokenType.PRINT.name()) != null) {\r\n\t\t\t\tother = unknow(tokens, other);\r\n\t\t\t\ttokens.add(new Token(TokenType.PRINT,\r\n\t\t\t\t\t\tmatcher.group(TokenType.PRINT.name())));\r\n\t\t\t\tcontinue;\r\n\t\t\t} else if (matcher.group(TokenType.BOOLOP.name()) != null) {\r\n\t\t\t\tother = unknow(tokens, other);\r\n\t\t\t\ttokens.add(new Token(TokenType.BOOLOP,\r\n\t\t\t\t\t\tmatcher.group(TokenType.BOOLOP.name())));\r\n\t\t\t\tcontinue;\r\n\t\t\t} else if (matcher.group(TokenType.BOOLVAL.name()) != null) {\r\n\t\t\t\tother = unknow(tokens, other);\r\n\t\t\t\ttokens.add(new Token(TokenType.BOOLVAL,\r\n\t\t\t\t\t\tmatcher.group(TokenType.BOOLVAL.name())));\r\n\t\t\t\tcontinue;\r\n\t\t\t} else if (matcher.group(TokenType.INTOP.name()) != null) {\r\n\t\t\t\tother = unknow(tokens, other);\r\n\t\t\t\ttokens.add(new Token(TokenType.INTOP,\r\n\t\t\t\t\t\tmatcher.group(TokenType.INTOP.name())));\r\n\t\t\t\tcontinue;\r\n\t\t\t} else if (matcher.group(TokenType.CHAR.name()) != null) {\r\n\t\t\t\tother = unknow(tokens, other);\r\n\t\t\t\ttokens.add(new Token(TokenType.CHAR,\r\n\t\t\t\t\t\tmatcher.group(TokenType.CHAR.name())));\r\n\t\t\t\tcontinue;\r\n\t\t\t} else if (matcher.group(TokenType.LPAREN.name()) != null) {\r\n\t\t\t\tother = unknow(tokens, other);\r\n\t\t\t\ttokens.add(new Token(TokenType.LPAREN,\r\n\t\t\t\t\t\tmatcher.group(TokenType.LPAREN.name())));\r\n\t\t\t\tcontinue;\r\n\t\t\t} else if (matcher.group(TokenType.RPAREN.name()) != null) {\r\n\t\t\t\tother = unknow(tokens, other);\r\n\t\t\t\ttokens.add(new Token(TokenType.RPAREN,\r\n\t\t\t\t\t\tmatcher.group(TokenType.RPAREN.name())));\r\n\t\t\t\tcontinue;\r\n\t\t\t} else if (matcher.group(TokenType.WHITESPACE.name()) != null) {\r\n\t\t\t\tcontinue;\r\n\t\t\t} else if (matcher.group(TokenType.OTHER.name()) != null) {\r\n\t\t\t\tother += matcher.group(TokenType.OTHER.name());\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t}\r\n        other = unknow(tokens, other);\r\n\t\treturn tokens;\r\n\t}\r\n\r\n\tprivate static String unknow(final ArrayList&lt;Token&gt; tokens, final String _unknow) {\r\n\t\tif (!_unknow.isEmpty()) {\r\n\t\t\ttokens.add(new Token(TokenType.OTHER,_unknow));\r\n\t\t}\r\n\t\treturn &quot;&quot;;\r\n\t}\r\n\r\n\tpublic static void main(final String[] args) {\r\n\t\tfinal String input = &quot;if\\nprint\\nta!?!?!taelse?&#167;.?toto&quot;;\r\n\t\t// Create tokens and print them\r\n\t\tfinal ArrayList&lt;Token&gt; tokens = lex(input);\r\n\t\tfor (final Token token : tokens)\r\n\t\t\tSystem.out.println(&quot;DEBUG Lexer - &quot; + token.type + &quot; [ &quot;\r\n\t\t\t\t\t+ token.data + &quot; ] &quot; + &quot;found at &quot; + &quot;linenumber&quot;);\r\n\t}\r\n\r\n    }","title":"How to identify data that doesn&#39;t match pattern","body":"<p>Do you try something like this?</p>\n\n<pre><code>public class Lexer {\n\npublic static enum TokenType {\n    // Definitions of accepted tokens\n    IF(\"if\"),\n    WHILE(\"while\"),\n    PRINT(\"print\"),\n    TYPE(\"int|string|boolean\"),\n    BOOLOP(\"==|!=\"),\n    BOOLVAL(\"false|true\"),\n    INTOP(\"[+]\"),\n    CHAR(\"[a-z]\"),\n    DIGIT(\"[0-9]\"),\n    WHITESPACE(\"[ \\t\\f\\r\\n]+\"),\n    LPAREN(\"[(]\"),\n    RPAREN(\"[)]\"),\n    OTHER(\".\");\n    public final String pattern;\n\n    private TokenType(final String pattern) {\n        this.pattern = pattern;\n    }\n}\n\npublic static class Token {\n    public TokenType type;\n    public String data;\n\n    public Token(final TokenType type, final String data) {\n        this.type = type;\n        this.data = data;\n    }\n}\n\npublic static ArrayList&lt;Token&gt; lex(final String input) {\n    // The tokens to return\n    final ArrayList&lt;Token&gt; tokens = new ArrayList&lt;Token&gt;();\n\n    // allows us to work with a mutable string\n    final StringBuffer tokenPatternsBuffer = new StringBuffer();\n\n    for (final TokenType tokenType : TokenType.values()) {\n        tokenPatternsBuffer.append(String.format(\"|(?&lt;%s&gt;%s)\",\n                tokenType.name(), tokenType.pattern));\n    }\n    final Pattern tokenPatterns = Pattern.compile(\n            new String(tokenPatternsBuffer.substring(1)));\n\n    // Begin matching tokens\n    String other = \"\";\n    final Matcher matcher = tokenPatterns.matcher(input);\n    while (matcher.find()) {\n        if (matcher.group(TokenType.DIGIT.name()) != null) {\n            other = unknow(tokens, other);\n            tokens.add(new Token(TokenType.DIGIT,\n                    matcher.group(TokenType.DIGIT.name())));\n            continue;\n        } else if (matcher.group(TokenType.IF.name()) != null) {\n            other = unknow(tokens, other);\n            tokens.add(new Token(TokenType.IF,\n                    matcher.group(TokenType.IF.name())));\n            continue;\n        } else if (matcher.group(TokenType.WHILE.name()) != null) {\n            other = unknow(tokens, other);\n            tokens.add(new Token(TokenType.WHILE,\n                    matcher.group(TokenType.WHILE.name())));\n            continue;\n        } else if (matcher.group(TokenType.TYPE.name()) != null) {\n            other = unknow(tokens, other);\n            tokens.add(new Token(TokenType.TYPE,\n                    matcher.group(TokenType.TYPE.name())));\n            continue;\n        } else if (matcher.group(TokenType.PRINT.name()) != null) {\n            other = unknow(tokens, other);\n            tokens.add(new Token(TokenType.PRINT,\n                    matcher.group(TokenType.PRINT.name())));\n            continue;\n        } else if (matcher.group(TokenType.BOOLOP.name()) != null) {\n            other = unknow(tokens, other);\n            tokens.add(new Token(TokenType.BOOLOP,\n                    matcher.group(TokenType.BOOLOP.name())));\n            continue;\n        } else if (matcher.group(TokenType.BOOLVAL.name()) != null) {\n            other = unknow(tokens, other);\n            tokens.add(new Token(TokenType.BOOLVAL,\n                    matcher.group(TokenType.BOOLVAL.name())));\n            continue;\n        } else if (matcher.group(TokenType.INTOP.name()) != null) {\n            other = unknow(tokens, other);\n            tokens.add(new Token(TokenType.INTOP,\n                    matcher.group(TokenType.INTOP.name())));\n            continue;\n        } else if (matcher.group(TokenType.CHAR.name()) != null) {\n            other = unknow(tokens, other);\n            tokens.add(new Token(TokenType.CHAR,\n                    matcher.group(TokenType.CHAR.name())));\n            continue;\n        } else if (matcher.group(TokenType.LPAREN.name()) != null) {\n            other = unknow(tokens, other);\n            tokens.add(new Token(TokenType.LPAREN,\n                    matcher.group(TokenType.LPAREN.name())));\n            continue;\n        } else if (matcher.group(TokenType.RPAREN.name()) != null) {\n            other = unknow(tokens, other);\n            tokens.add(new Token(TokenType.RPAREN,\n                    matcher.group(TokenType.RPAREN.name())));\n            continue;\n        } else if (matcher.group(TokenType.WHITESPACE.name()) != null) {\n            continue;\n        } else if (matcher.group(TokenType.OTHER.name()) != null) {\n            other += matcher.group(TokenType.OTHER.name());\n            continue;\n        }\n    }\n    other = unknow(tokens, other);\n    return tokens;\n}\n\nprivate static String unknow(final ArrayList&lt;Token&gt; tokens, final String _unknow) {\n    if (!_unknow.isEmpty()) {\n        tokens.add(new Token(TokenType.OTHER,_unknow));\n    }\n    return \"\";\n}\n\npublic static void main(final String[] args) {\n    final String input = \"if\\nprint\\nta!?!?!taelse?§.?toto\";\n    // Create tokens and print them\n    final ArrayList&lt;Token&gt; tokens = lex(input);\n    for (final Token token : tokens)\n        System.out.println(\"DEBUG Lexer - \" + token.type + \" [ \"\n                + token.data + \" ] \" + \"found at \" + \"linenumber\");\n}\n\n}\n</code></pre>\n"}],"owner":{"account_id":7369804,"reputation":1147,"user_id":5610358,"display_name":"rhowell"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693144023,"creation_date":1549030518,"question_id":54481302,"body_markdown":"So I&#39;m using the matcher class and using it to identify tokens that i&#39;ve defined in an enum. \r\n\r\n      public static enum TokenType {\r\n        // Definitions of accepted tokens\r\n    \t IF(&quot;if&quot;), WHILE(&quot;while&quot;), PRINT(&quot;print&quot;), TYPE(&quot;int|string|boolean&quot;), BOOLOP(&quot;==|!=&quot;), BOOLVAL(&quot;false|true&quot;), INTOP(&quot;[+]&quot;), CHAR(&quot;[a-z]&quot;), DIGIT(&quot;[0-9]&quot;), WHITESPACE(&quot;[ \\t\\f\\r\\n]+&quot;), LPAREN(&quot;[(]&quot;), RPAREN(&quot;[)]&quot;);\r\n        public final String pattern;\r\n    \r\n        private TokenType(String pattern) {\r\n          this.pattern = pattern;\r\n        }\r\n      }\r\n    \r\n      public static class Token {\r\n        public TokenType type;\r\n        public String data;\r\n\r\n\r\n\r\nMy problem is, I also need to identify anything that isn&#39;t defined in my pattern and print an error when that occurs.\r\n\r\nThis is what my matcher logic looks like\r\n\r\n        // Begin matching tokens\r\n        Matcher matcher = tokenPatterns.matcher(input);\r\n          while (matcher.find()) {\r\n            if (matcher.group(TokenType.DIGIT.name()) != null) {\r\n              tokens.add(new Token(TokenType.DIGIT, matcher.group(TokenType.DIGIT.name())));\r\n              continue;\r\n          } else if (matcher.group(TokenType.IF.name()) != null) {\r\n              tokens.add(new Token(TokenType.IF, matcher.group(TokenType.IF.name())));\r\n              continue;\r\n          } else if (matcher.group(TokenType.WHILE.name()) != null) {\r\n              tokens.add(new Token(TokenType.WHILE, matcher.group(TokenType.WHILE.name())));\r\n              continue;\r\n          } else if (matcher.group(TokenType.TYPE.name()) != null) {\r\n              tokens.add(new Token(TokenType.TYPE, matcher.group(TokenType.TYPE.name())));\r\n              continue;\r\n          } else if (matcher.group(TokenType.PRINT.name()) != null) {\r\n              tokens.add(new Token(TokenType.PRINT, matcher.group(TokenType.PRINT.name())));\r\n              continue;\r\n          } else if (matcher.group(TokenType.BOOLOP.name()) != null) {\r\n              tokens.add(new Token(TokenType.BOOLOP, matcher.group(TokenType.BOOLOP.name())));\r\n              continue;\r\n          } else if (matcher.group(TokenType.BOOLVAL.name()) != null) {\r\n              tokens.add(new Token(TokenType.BOOLVAL, matcher.group(TokenType.BOOLVAL.name())));\r\n              continue;\r\n          } else if (matcher.group(TokenType.INTOP.name()) != null) {\r\n              tokens.add(new Token(TokenType.INTOP, matcher.group(TokenType.INTOP.name())));\r\n              continue;\r\n          } else if (matcher.group(TokenType.CHAR.name()) != null) {\r\n            tokens.add(new Token(TokenType.CHAR, matcher.group(TokenType.CHAR.name())));\r\n            continue;\r\n          } else if (matcher.group(TokenType.LPAREN.name()) != null) {\r\n              tokens.add(new Token(TokenType.LPAREN, matcher.group(TokenType.LPAREN.name())));\r\n              continue;\r\n          } else if (matcher.group(TokenType.RPAREN.name()) != null) {\r\n              tokens.add(new Token(TokenType.RPAREN, matcher.group(TokenType.RPAREN.name())));\r\n              continue;  \r\n          } else if (matcher.group(TokenType.WHITESPACE.name()) != null) {\r\n              continue; \r\n          }\r\n        }\r\n        \r\n        return tokens;\r\n      }\r\n\r\n\r\n\r\nA possible solution would be to add a case to my pattern that accounts for everything that hasn&#39;t been defined already which would look something like this WHITESPACE(&quot;[ \\t\\f\\r\\n]+&quot;), LPAREN(&quot;[(]&quot;), **ERROR(&quot;@|#,$,%,^,&amp;.....&quot;)** but im not sure of any realistic way to implement that.\r\n\r\nThanks for any help.\r\nHere&#39;s a link to the full code in case I left anything out - https://pastebin.com/jLtnJwgj","title":"How to identify data that doesn&#39;t match pattern","body":"<p>So I'm using the matcher class and using it to identify tokens that i've defined in an enum. </p>\n\n<pre><code>  public static enum TokenType {\n    // Definitions of accepted tokens\n     IF(\"if\"), WHILE(\"while\"), PRINT(\"print\"), TYPE(\"int|string|boolean\"), BOOLOP(\"==|!=\"), BOOLVAL(\"false|true\"), INTOP(\"[+]\"), CHAR(\"[a-z]\"), DIGIT(\"[0-9]\"), WHITESPACE(\"[ \\t\\f\\r\\n]+\"), LPAREN(\"[(]\"), RPAREN(\"[)]\");\n    public final String pattern;\n\n    private TokenType(String pattern) {\n      this.pattern = pattern;\n    }\n  }\n\n  public static class Token {\n    public TokenType type;\n    public String data;\n</code></pre>\n\n<p>My problem is, I also need to identify anything that isn't defined in my pattern and print an error when that occurs.</p>\n\n<p>This is what my matcher logic looks like</p>\n\n<pre><code>    // Begin matching tokens\n    Matcher matcher = tokenPatterns.matcher(input);\n      while (matcher.find()) {\n        if (matcher.group(TokenType.DIGIT.name()) != null) {\n          tokens.add(new Token(TokenType.DIGIT, matcher.group(TokenType.DIGIT.name())));\n          continue;\n      } else if (matcher.group(TokenType.IF.name()) != null) {\n          tokens.add(new Token(TokenType.IF, matcher.group(TokenType.IF.name())));\n          continue;\n      } else if (matcher.group(TokenType.WHILE.name()) != null) {\n          tokens.add(new Token(TokenType.WHILE, matcher.group(TokenType.WHILE.name())));\n          continue;\n      } else if (matcher.group(TokenType.TYPE.name()) != null) {\n          tokens.add(new Token(TokenType.TYPE, matcher.group(TokenType.TYPE.name())));\n          continue;\n      } else if (matcher.group(TokenType.PRINT.name()) != null) {\n          tokens.add(new Token(TokenType.PRINT, matcher.group(TokenType.PRINT.name())));\n          continue;\n      } else if (matcher.group(TokenType.BOOLOP.name()) != null) {\n          tokens.add(new Token(TokenType.BOOLOP, matcher.group(TokenType.BOOLOP.name())));\n          continue;\n      } else if (matcher.group(TokenType.BOOLVAL.name()) != null) {\n          tokens.add(new Token(TokenType.BOOLVAL, matcher.group(TokenType.BOOLVAL.name())));\n          continue;\n      } else if (matcher.group(TokenType.INTOP.name()) != null) {\n          tokens.add(new Token(TokenType.INTOP, matcher.group(TokenType.INTOP.name())));\n          continue;\n      } else if (matcher.group(TokenType.CHAR.name()) != null) {\n        tokens.add(new Token(TokenType.CHAR, matcher.group(TokenType.CHAR.name())));\n        continue;\n      } else if (matcher.group(TokenType.LPAREN.name()) != null) {\n          tokens.add(new Token(TokenType.LPAREN, matcher.group(TokenType.LPAREN.name())));\n          continue;\n      } else if (matcher.group(TokenType.RPAREN.name()) != null) {\n          tokens.add(new Token(TokenType.RPAREN, matcher.group(TokenType.RPAREN.name())));\n          continue;  \n      } else if (matcher.group(TokenType.WHITESPACE.name()) != null) {\n          continue; \n      }\n    }\n\n    return tokens;\n  }\n</code></pre>\n\n<p>A possible solution would be to add a case to my pattern that accounts for everything that hasn't been defined already which would look something like this WHITESPACE(\"[ \\t\\f\\r\\n]+\"), LPAREN(\"[(]\"), <strong>ERROR(\"@|#,$,%,^,&amp;.....\")</strong> but im not sure of any realistic way to implement that.</p>\n\n<p>Thanks for any help.\nHere's a link to the full code in case I left anything out - <a href=\"https://pastebin.com/jLtnJwgj\" rel=\"nofollow noreferrer\">https://pastebin.com/jLtnJwgj</a></p>\n"},{"tags":["java","android","regex"],"owner":{"account_id":5179202,"reputation":71,"user_id":4145376,"display_name":"Denis K"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1693143883,"creation_date":1614676372,"question_id":66436436,"body_markdown":"I&#39;ve found some problem with Matcher.replaceFirst/replaceAll when subgroup count in regex is more than 9...\r\nsimple example:\r\n\r\n`String res = &quot;abcdefghij&quot;.replaceFirst(&quot;(.)(.)(.)(.)(.)(.)(.)(.)(.)(.)&quot;, &quot;$1 $2 $3 $4 $5 $6 $7 $8 $9 $10&quot;);`\r\n\r\nExpected result is `&quot;a b c d e f g h i j&quot;` but got `&quot;a b c d e f g h i a0&quot;` string.\r\n\r\nThis problem can reproduced in Android runtime, but on local unit tests with desktop java it works well.\r\nWhen I tried to debug it step by step, I&#39;ve found following ugly code in Android sources of Matcher class:\r\n\r\n    private void appendEvaluated(StringBuffer buffer, String s) {\r\n            boolean escape = false;\r\n            boolean dollar = false;\r\n            boolean escapeNamedGroup = false;\r\n            int escapeNamedGroupStart = -1;\r\n    \r\n            for (int i = 0; i &lt; s.length(); i++) {\r\n                char c = s.charAt(i);\r\n                if (c == &#39;\\\\&#39; &amp;&amp; !escape) {\r\n                    escape = true;\r\n                } else if (c == &#39;$&#39; &amp;&amp; !escape) {\r\n                    dollar = true;\r\n                } else if (c &gt;= &#39;0&#39; &amp;&amp; c &lt;= &#39;9&#39; &amp;&amp; dollar) { //&lt;&lt;&lt;&lt;------ WHAT IS IT?!\r\n                    buffer.append(group(c - &#39;0&#39;));\r\n                    dollar = false;\r\n                } else if (c == &#39;{&#39; &amp;&amp; dollar) {\r\n                    escapeNamedGroup = true;\r\n                    escapeNamedGroupStart = i;\r\n                } else if (c == &#39;}&#39; &amp;&amp; dollar &amp;&amp; escapeNamedGroup) {\r\n                    String namedGroupName =\r\n                        s.substring(escapeNamedGroupStart + 1, i);\r\n                    buffer.append(group(namedGroupName));\r\n                    dollar = false;\r\n                    escapeNamedGroup = false;\r\n                } else if (c != &#39;}&#39; &amp;&amp; dollar &amp;&amp; escapeNamedGroup) {\r\n                    continue;\r\n                } else {\r\n                    buffer.append(c);\r\n                    dollar = false;\r\n                    escape = false;\r\n                    escapeNamedGroup = false;\r\n                }\r\n            }\r\n    \r\n            if (escape) {\r\n                throw new IllegalArgumentException(&quot;character to be escaped is missing&quot;);\r\n            }\r\n    \r\n            if (dollar) {\r\n                throw new IllegalArgumentException(&quot;Illegal group reference: group index is missing&quot;);\r\n            }\r\n    \r\n            if (escapeNamedGroup) {\r\n                throw new IllegalArgumentException(&quot;Missing ending brace &#39;}&#39; from replacement string&quot;);\r\n            }\r\n        }\r\n\r\nthis is part of SDK API 29... I&#39;ve checked API 30 level, it has same code.\r\n\r\nmaybe someone already solve this problem?\r\nI think it needs to create custom replacer with more correct logic...\r\n","title":"Android Matcher.replaceAll/replaceFirst problem with groups count &gt; 9","body":"<p>I've found some problem with Matcher.replaceFirst/replaceAll when subgroup count in regex is more than 9...\nsimple example:</p>\n<p><code>String res = &quot;abcdefghij&quot;.replaceFirst(&quot;(.)(.)(.)(.)(.)(.)(.)(.)(.)(.)&quot;, &quot;$1 $2 $3 $4 $5 $6 $7 $8 $9 $10&quot;);</code></p>\n<p>Expected result is <code>&quot;a b c d e f g h i j&quot;</code> but got <code>&quot;a b c d e f g h i a0&quot;</code> string.</p>\n<p>This problem can reproduced in Android runtime, but on local unit tests with desktop java it works well.\nWhen I tried to debug it step by step, I've found following ugly code in Android sources of Matcher class:</p>\n<pre><code>private void appendEvaluated(StringBuffer buffer, String s) {\n        boolean escape = false;\n        boolean dollar = false;\n        boolean escapeNamedGroup = false;\n        int escapeNamedGroupStart = -1;\n\n        for (int i = 0; i &lt; s.length(); i++) {\n            char c = s.charAt(i);\n            if (c == '\\\\' &amp;&amp; !escape) {\n                escape = true;\n            } else if (c == '$' &amp;&amp; !escape) {\n                dollar = true;\n            } else if (c &gt;= '0' &amp;&amp; c &lt;= '9' &amp;&amp; dollar) { //&lt;&lt;&lt;&lt;------ WHAT IS IT?!\n                buffer.append(group(c - '0'));\n                dollar = false;\n            } else if (c == '{' &amp;&amp; dollar) {\n                escapeNamedGroup = true;\n                escapeNamedGroupStart = i;\n            } else if (c == '}' &amp;&amp; dollar &amp;&amp; escapeNamedGroup) {\n                String namedGroupName =\n                    s.substring(escapeNamedGroupStart + 1, i);\n                buffer.append(group(namedGroupName));\n                dollar = false;\n                escapeNamedGroup = false;\n            } else if (c != '}' &amp;&amp; dollar &amp;&amp; escapeNamedGroup) {\n                continue;\n            } else {\n                buffer.append(c);\n                dollar = false;\n                escape = false;\n                escapeNamedGroup = false;\n            }\n        }\n\n        if (escape) {\n            throw new IllegalArgumentException(&quot;character to be escaped is missing&quot;);\n        }\n\n        if (dollar) {\n            throw new IllegalArgumentException(&quot;Illegal group reference: group index is missing&quot;);\n        }\n\n        if (escapeNamedGroup) {\n            throw new IllegalArgumentException(&quot;Missing ending brace '}' from replacement string&quot;);\n        }\n    }\n</code></pre>\n<p>this is part of SDK API 29... I've checked API 30 level, it has same code.</p>\n<p>maybe someone already solve this problem?\nI think it needs to create custom replacer with more correct logic...</p>\n"},{"tags":["java","regex","java-stream"],"answers":[{"comments":[{"owner":{"account_id":27860916,"reputation":23,"user_id":21273478,"display_name":"Salamantha"},"score":1,"creation_date":1677161886,"post_id":75545968,"comment_id":133286208,"body_markdown":"Note: It also works like this:\n[...]\n                            Matcher matcher = P.matcher(i);\n                            while (matcher.find()) {\n                                count++;\n                            }\n[...]","body":"Note: It also works like this: [...]                             Matcher matcher = P.matcher(i);                             while (matcher.find()) {                                 count++;                             } [...]"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1677327442,"post_id":75545968,"comment_id":133318208,"body_markdown":"There’s no sense in writing `while (true)`, just to have a conditional `break` right as the first statement inside the loop. That’s exactly what the loop condition is for: `while(matcher.find()) …`. Since the `Matcher` fulfills the role of a loop variable, the most idiomatic form would be `for(Matcher matcher = P.matcher(i); matcher.find(); ) count++;`","body":"There’s no sense in writing <code>while (true)</code>, just to have a conditional <code>break</code> right as the first statement inside the loop. That’s exactly what the loop condition is for: <code>while(matcher.find()) …</code>. Since the <code>Matcher</code> fulfills the role of a loop variable, the most idiomatic form would be <code>for(Matcher matcher = P.matcher(i); matcher.find(); ) count++;</code>"}],"tags":[],"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1677165775,"creation_date":1677161552,"answer_id":75545968,"question_id":75545823,"body_markdown":"The problem is on line `while (P.matcher(i).find())`, each time the while loop checking the condition, [`P.matcher(i)`][1] is invoked and a new matcher instance is created to call `find()`, of course it return true every time, hence it becomes infinite loop.  \r\n\r\nTo solve the problem, assign `P.matcher(i)` to a variable first so `find()` is invoked on the same `Matcher` instance.\r\n\r\n```java\r\n...\r\nMatcher matcher = P.matcher(i);\r\nwhile (true) {\r\n    if (!matcher.find()) break;\r\n    count++;\r\n}\r\nreturn count;\r\n...\r\n```\r\nOne improvement is we can make use of [`Matcher.results()`][2] to get the count, as below:\r\n\r\n```java\r\nMatcher matcher = P.matcher(i);\r\nreturn (int) matcher.results().count();\r\n```\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/regex/Pattern.html#matcher(java.lang.CharSequence)\r\n  [2]: https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/regex/Matcher.html#results()","title":"Why is my while(matcher.find()) entering an infinite loop? I use it in with Streams","body":"<p>The problem is on line <code>while (P.matcher(i).find())</code>, each time the while loop checking the condition, <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/regex/Pattern.html#matcher(java.lang.CharSequence)\" rel=\"nofollow noreferrer\"><code>P.matcher(i)</code></a> is invoked and a new matcher instance is created to call <code>find()</code>, of course it return true every time, hence it becomes infinite loop.</p>\n<p>To solve the problem, assign <code>P.matcher(i)</code> to a variable first so <code>find()</code> is invoked on the same <code>Matcher</code> instance.</p>\n<pre class=\"lang-java prettyprint-override\"><code>...\nMatcher matcher = P.matcher(i);\nwhile (true) {\n    if (!matcher.find()) break;\n    count++;\n}\nreturn count;\n...\n</code></pre>\n<p>One improvement is we can make use of <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/regex/Matcher.html#results()\" rel=\"nofollow noreferrer\"><code>Matcher.results()</code></a> to get the count, as below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Matcher matcher = P.matcher(i);\nreturn (int) matcher.results().count();\n</code></pre>\n"}],"owner":{"account_id":27860916,"reputation":23,"user_id":21273478,"display_name":"Salamantha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75545968,"answer_count":1,"score":2,"last_activity_date":1693143550,"creation_date":1677160884,"question_id":75545823,"body_markdown":"What I want: [”Einstein”, “ist”, “kein”, “Stein”] ⇒ {”Einstein”=2, “kein”=1, “Stein”=1}\r\nUsing a Stream I want to transform a list of strings to a map finding all the &quot;ei&quot; instances.\r\n\r\nMy Code is stuck in an infinite loop:\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n  List&lt;String&gt; L5 = List.of(&quot;Einstein&quot;, &quot;ist&quot;, &quot;kein&quot;, &quot;Stein&quot;);\r\n  Pattern P = Pattern.compile(&quot;[Ee]i&quot;);\r\n  Map&lt;String, Integer&gt; result = L5.stream().filter(S -&gt; P.matcher(S).find()).collect(\r\n    Collectors.toMap(i -&gt; i, i -&gt; {\r\n      int count = 0;\r\n      while (P.matcher(i).find()) {\r\n        count++;\r\n      }\r\n      return count;\r\n    })\r\n  );\r\n  System.out.println(result);\r\n}\r\n```\r\n\r\nI want to count the instances of &quot;ei&quot; in a map (specifically using streams)","title":"Why is my while(matcher.find()) entering an infinite loop? I use it in with Streams","body":"<p>What I want: [”Einstein”, “ist”, “kein”, “Stein”] ⇒ {”Einstein”=2, “kein”=1, “Stein”=1}\nUsing a Stream I want to transform a list of strings to a map finding all the &quot;ei&quot; instances.</p>\n<p>My Code is stuck in an infinite loop:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n  List&lt;String&gt; L5 = List.of(&quot;Einstein&quot;, &quot;ist&quot;, &quot;kein&quot;, &quot;Stein&quot;);\n  Pattern P = Pattern.compile(&quot;[Ee]i&quot;);\n  Map&lt;String, Integer&gt; result = L5.stream().filter(S -&gt; P.matcher(S).find()).collect(\n    Collectors.toMap(i -&gt; i, i -&gt; {\n      int count = 0;\n      while (P.matcher(i).find()) {\n        count++;\n      }\n      return count;\n    })\n  );\n  System.out.println(result);\n}\n</code></pre>\n<p>I want to count the instances of &quot;ei&quot; in a map (specifically using streams)</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":25141139,"reputation":388,"user_id":18987462,"display_name":"HeapUnderStop"},"score":2,"creation_date":1674676219,"post_id":75239030,"comment_id":132767848,"body_markdown":"Please describe your class `OffsetResult`.","body":"Please describe your class <code>OffsetResult</code>."},{"owner":{"account_id":9261632,"reputation":851,"user_id":6878504,"accept_rate":50,"display_name":"Den B"},"score":0,"creation_date":1674718085,"post_id":75239030,"comment_id":132774429,"body_markdown":"Hi @HeapUnderStop! I updated my question with OffsetResult","body":"Hi @HeapUnderStop! I updated my question with OffsetResult"}],"answers":[{"comments":[{"owner":{"account_id":9261632,"reputation":851,"user_id":6878504,"accept_rate":50,"display_name":"Den B"},"score":0,"creation_date":1674718222,"post_id":75239129,"comment_id":132774462,"body_markdown":"Hi! Thanks for your answer. But I was wondering maybe there&#39;s a solution without splitting the string. Because right now I have a working prototype with passing each string line. And it works fine. But I wanted to find solution with providing 1000 lines as a single string. To speed up the process","body":"Hi! Thanks for your answer. But I was wondering maybe there&#39;s a solution without splitting the string. Because right now I have a working prototype with passing each string line. And it works fine. But I wanted to find solution with providing 1000 lines as a single string. To speed up the process"}],"tags":[],"owner":{"account_id":5190284,"reputation":13363,"user_id":4153426,"display_name":"m.antkowicz"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674676220,"creation_date":1674676220,"answer_id":75239129,"question_id":75239030,"body_markdown":"You can either split the string then find position in every of them and take e.g. first\r\n\r\n    Arrays.stream(input.split(String.format(&quot;%n&quot;)))\r\n        .map(s -&gt; someMethodReturningPositionOrNull(s))\r\n        .filter(s -&gt; s != null)\r\n        .findFirst()\r\n        .orElseGet(someDefaultValueOrNull)\r\n\r\nor extend your regular expression to get last new line character just before searched string (then you also need to take care about string occuring before first new line character)","title":"Java Matcher start in respect to line","body":"<p>You can either split the string then find position in every of them and take e.g. first</p>\n<pre><code>Arrays.stream(input.split(String.format(&quot;%n&quot;)))\n    .map(s -&gt; someMethodReturningPositionOrNull(s))\n    .filter(s -&gt; s != null)\n    .findFirst()\n    .orElseGet(someDefaultValueOrNull)\n</code></pre>\n<p>or extend your regular expression to get last new line character just before searched string (then you also need to take care about string occuring before first new line character)</p>\n"}],"owner":{"account_id":9261632,"reputation":851,"user_id":6878504,"accept_rate":50,"display_name":"Den B"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693143545,"creation_date":1674675555,"question_id":75239030,"body_markdown":"I&#39;m trying to write a program to check if a list of keys are present in the long text.\r\n\r\nI consume my text and feed it to the matcher in 1000 rows as a single String separated by \\n new line symbol.\r\n\r\nIn case of matching I call match.start() to get the position of matched symbol. But it returns me the position not in regard new line but like the single string.\r\n\r\nHere&#39;s text example: \r\n\r\n    The Project Gutenberg EBook of The Adventures of Sherlock Holmes\r\n    by Sir Arthur Conan Doyle\r\n    (#15 in our series by Sir Arthur Conan Doyle)\r\n    \r\n    Copyright laws are changing all over the world. Be sure to check the\r\n    copyright laws for your country before downloading or redistributing\r\n    this or any other Project Gutenberg eBook.\r\n\r\nI consume it using this method: \r\n\r\n    public String readLinesBatch(int startLine, int step, String file) {\r\n        try (Stream&lt;String&gt; lines = Files.lines(Paths.get(file))) {\r\n            return lines.skip(startLine)\r\n                    .limit(step).collect(Collectors.joining(System.lineSeparator()));\r\n        } catch (IOException e) {\r\n            log.error(&quot;Exception while reading lines: {}&quot;, e.getMessage());\r\n        }\r\n        return &quot;&quot;;\r\n    }\r\n\r\nAfter that I feed it to the Matcher method: \r\n\r\n    public List&lt;OffsetResult&gt; matchV1(String source, Integer line) {\r\n        List&lt;OffsetResult&gt; result = new ArrayList&lt;&gt;();\r\n        Matcher match = Pattern.compile(String.join(&quot;|&quot;, keys))\r\n                .matcher(source);\r\n        while (match.find()) {\r\n            int offsetStart = match.start();\r\n            getLine(source, match.start());\r\n            result.add(new OffsetResult(match.group(), line, offsetStart));\r\n        }\r\n        return result;\r\n    }\r\n\r\nThe result I receive if `Arthur` is present in my keys is next:\r\n\r\n    Arthur=[charOffset=72]\r\n\r\nBut what I need is it to be **7**. Because `Arthur` world occurs on a 2 line at the 7th position.\r\n\r\nI googled and found nothing regarding this issue. \r\nDoes anyone have some ideas? \r\nThanks in advance!\r\n\r\nUPD: my OffsetResult class\r\n\r\n    public class OffsetResult {\r\n    \r\n        private String key;\r\n        private Integer lineOffset;\r\n        private Integer charOffset;\r\n    }","title":"Java Matcher start in respect to line","body":"<p>I'm trying to write a program to check if a list of keys are present in the long text.</p>\n<p>I consume my text and feed it to the matcher in 1000 rows as a single String separated by \\n new line symbol.</p>\n<p>In case of matching I call match.start() to get the position of matched symbol. But it returns me the position not in regard new line but like the single string.</p>\n<p>Here's text example:</p>\n<pre><code>The Project Gutenberg EBook of The Adventures of Sherlock Holmes\nby Sir Arthur Conan Doyle\n(#15 in our series by Sir Arthur Conan Doyle)\n\nCopyright laws are changing all over the world. Be sure to check the\ncopyright laws for your country before downloading or redistributing\nthis or any other Project Gutenberg eBook.\n</code></pre>\n<p>I consume it using this method:</p>\n<pre><code>public String readLinesBatch(int startLine, int step, String file) {\n    try (Stream&lt;String&gt; lines = Files.lines(Paths.get(file))) {\n        return lines.skip(startLine)\n                .limit(step).collect(Collectors.joining(System.lineSeparator()));\n    } catch (IOException e) {\n        log.error(&quot;Exception while reading lines: {}&quot;, e.getMessage());\n    }\n    return &quot;&quot;;\n}\n</code></pre>\n<p>After that I feed it to the Matcher method:</p>\n<pre><code>public List&lt;OffsetResult&gt; matchV1(String source, Integer line) {\n    List&lt;OffsetResult&gt; result = new ArrayList&lt;&gt;();\n    Matcher match = Pattern.compile(String.join(&quot;|&quot;, keys))\n            .matcher(source);\n    while (match.find()) {\n        int offsetStart = match.start();\n        getLine(source, match.start());\n        result.add(new OffsetResult(match.group(), line, offsetStart));\n    }\n    return result;\n}\n</code></pre>\n<p>The result I receive if <code>Arthur</code> is present in my keys is next:</p>\n<pre><code>Arthur=[charOffset=72]\n</code></pre>\n<p>But what I need is it to be <strong>7</strong>. Because <code>Arthur</code> world occurs on a 2 line at the 7th position.</p>\n<p>I googled and found nothing regarding this issue.\nDoes anyone have some ideas?\nThanks in advance!</p>\n<p>UPD: my OffsetResult class</p>\n<pre><code>public class OffsetResult {\n\n    private String key;\n    private Integer lineOffset;\n    private Integer charOffset;\n}\n</code></pre>\n"},{"tags":["java","regex","replaceall"],"answers":[{"tags":[],"owner":{"account_id":462886,"reputation":2853,"user_id":865448,"accept_rate":82,"display_name":"tostao"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1674146276,"creation_date":1674146276,"answer_id":75175480,"question_id":75175457,"body_markdown":"    String test = &quot;Hello world!&quot;;\r\n    System.out.println(test.toUpperCase());\r\n\r\nwill print: `HELLO WORLD!`\r\n","title":"Can we change case of an input string with regex replacement using Matcher in Java?","body":"<pre><code>String test = &quot;Hello world!&quot;;\nSystem.out.println(test.toUpperCase());\n</code></pre>\n<p>will print: <code>HELLO WORLD!</code></p>\n"},{"tags":[],"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1674146384,"creation_date":1674146384,"answer_id":75175504,"question_id":75175457,"body_markdown":"You can pass a replacement function to [`Matcher#replaceAll`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/Matcher.html#replaceAll(java.lang.String)) instead.\r\n\r\n```java\r\nString res = pattern.matcher(str).replaceAll(mr -&gt; mr.group().toUpperCase());\r\n```","title":"Can we change case of an input string with regex replacement using Matcher in Java?","body":"<p>You can pass a replacement function to <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/Matcher.html#replaceAll(java.lang.String)\" rel=\"nofollow noreferrer\"><code>Matcher#replaceAll</code></a> instead.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String res = pattern.matcher(str).replaceAll(mr -&gt; mr.group().toUpperCase());\n</code></pre>\n"}],"owner":{"account_id":23070791,"reputation":11,"user_id":17190050,"display_name":"Vamshi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1693143536,"creation_date":1674146163,"question_id":75175457,"body_markdown":"I would like to achieve something like,\r\n\r\nInput: Hello world!\r\nOutput: HELLO WORLD!\r\n\r\nWhat **replacement string** can I use in Matcher.replaceAll(replacement) to achieve this?\r\n\r\nI know we can use a functional reference, but i would like to achieve this using a regex string like *replaceAll(&quot;\\U....something...&quot;)*\r\n\r\nI can see that some compilers used in text editors and perl supports &quot;\\U&quot; that converts the case.\r\n\r\nDo we have anything equivalent in Java?\r\n\r\nI tried using \\U but seems it&#39;s not supported.\r\n\r\nIn Pattern class JavaDoc it&#39;s mentioned that \\U is not supported under &quot;Differences from Perl&quot;.\r\n\r\nCould not find more what can be used for the purpose.","title":"Can we change case of an input string with regex replacement using Matcher in Java?","body":"<p>I would like to achieve something like,</p>\n<p>Input: Hello world!\nOutput: HELLO WORLD!</p>\n<p>What <strong>replacement string</strong> can I use in Matcher.replaceAll(replacement) to achieve this?</p>\n<p>I know we can use a functional reference, but i would like to achieve this using a regex string like <em>replaceAll(&quot;\\U....something...&quot;)</em></p>\n<p>I can see that some compilers used in text editors and perl supports &quot;\\U&quot; that converts the case.</p>\n<p>Do we have anything equivalent in Java?</p>\n<p>I tried using \\U but seems it's not supported.</p>\n<p>In Pattern class JavaDoc it's mentioned that \\U is not supported under &quot;Differences from Perl&quot;.</p>\n<p>Could not find more what can be used for the purpose.</p>\n"},{"tags":["java","regex"],"answers":[{"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1674022563,"post_id":75155271,"comment_id":132623636,"body_markdown":"Or just keep the start anchor.","body":"Or just keep the start anchor."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1674022814,"post_id":75155271,"comment_id":132623689,"body_markdown":"Note that `lookingAt()`/`find()` will always return true because the `*` matches zero-length strings. You&#39;ll want to compare `end()` to `i.length()` to check if it&#39;s a full match or not.","body":"Note that <code>lookingAt()</code>/<code>find()</code> will always return true because the <code>*</code> matches zero-length strings. You&#39;ll want to compare <code>end()</code> to <code>i.length()</code> to check if it&#39;s a full match or not."},{"owner":{"account_id":262968,"reputation":767160,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"score":0,"creation_date":1674023061,"post_id":75155271,"comment_id":132623738,"body_markdown":"Good point, i have now suggested to use `+` instead of `*`","body":"Good point, i have now suggested to use <code>+</code> instead of <code>*</code>"},{"owner":{"account_id":23090314,"reputation":385,"user_id":20607467,"display_name":"ﾓｷｬﾃﾞ"},"score":0,"creation_date":1674024122,"post_id":75155271,"comment_id":132623937,"body_markdown":"Your code doesn&#39;t print whether the expected pattern was matched. If there is an unexpected character at the beginning, nothing is output. Otherwise, it prints something, but I don&#39;t know if the whole thing matched.","body":"Your code doesn&#39;t print whether the expected pattern was matched. If there is an unexpected character at the beginning, nothing is output. Otherwise, it prints something, but I don&#39;t know if the whole thing matched."},{"owner":{"account_id":2898137,"reputation":1813,"user_id":2485458,"accept_rate":48,"display_name":"Panadol Chong"},"score":0,"creation_date":1674024206,"post_id":75155271,"comment_id":132623952,"body_markdown":"@anubhava , is this one possible applicable on the opposite site? meaning I put $ at behind my regex and wan to make the .find() is false. and only find out which column giving problem.","body":"@anubhava , is this one possible applicable on the opposite site? meaning I put $ at behind my regex and wan to make the .find() is false. and only find out which column giving problem."},{"owner":{"account_id":262968,"reputation":767160,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"score":0,"creation_date":1674024915,"post_id":75155271,"comment_id":132624069,"body_markdown":"If you put `$` then `find()/lookingAt()` will fail and then you can&#39;t use `end()` method as calling that would throw exception `ava.lang.IllegalStateException: No match available`","body":"If you put <code>$</code> then <code>find()&#47;lookingAt()</code> will fail and then you can&#39;t use <code>end()</code> method as calling that would throw exception <code>ava.lang.IllegalStateException: No match available</code>"},{"owner":{"account_id":262968,"reputation":767160,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"score":0,"creation_date":1674024979,"post_id":75155271,"comment_id":132624084,"body_markdown":"@ﾓｷｬﾃﾞ: I have added `else` block to print `No match!!` for failure case.","body":"@ﾓｷｬﾃﾞ: I have added <code>else</code> block to print <code>No match!!</code> for failure case."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1674025399,"post_id":75155271,"comment_id":132624162,"body_markdown":"Only if you consider a partial match success, which doesn&#39;t appear to be OP&#39;s intent. See my previous comment.","body":"Only if you consider a partial match success, which doesn&#39;t appear to be OP&#39;s intent. See my previous comment."},{"owner":{"account_id":262968,"reputation":767160,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"score":0,"creation_date":1674025988,"post_id":75155271,"comment_id":132624272,"body_markdown":"@shmosel: I get your point, have added length check in answer.","body":"@shmosel: I get your point, have added length check in answer."}],"tags":[],"owner":{"account_id":262968,"reputation":767160,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"comment_count":9,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1674035681,"creation_date":1674022375,"answer_id":75155271,"question_id":75155125,"body_markdown":"You should remove anchors from your regex and then use [`Matcher#end()`][1] method to get the position where it stopped the previous match like this:\r\n\r\n```sh\r\nString i = &quot;f698fec0-dd89-11e8-b06b-&#226;˜&#186;&quot;;\r\nPattern p = Pattern.compile(&quot;[\\\\w$&amp;+,:;=\\\\[\\\\]{}?@#|\\\\\\\\&#39;&lt;&gt;.^*()%!/~\\&quot;`  -]+&quot;);\r\nMatcher m = p.matcher(i);\r\nif (m.lookingAt() &amp;&amp; i.length() &gt; m.end()) { \r\n   System.out.println(&quot;Match &lt;&quot; + m.group() + &quot;&gt; failed at: &quot; + m.end());\r\n}\r\n```\r\n\r\n**Output:**\r\n\r\n```sh\r\nMatch &lt;f698fec0-dd89-11e8-b06b-&gt; failed at: 24\r\n```\r\n\r\n**PS**: I have used `lookingAt()` to ensure that we match the pattern starting from the beginning of the region. You can use `find()` as well to get the next match anywhere or else keep the start anchor in pattern as \r\n\r\n    &quot;^[\\\\w$&amp;+,:;=\\\\[\\\\]{}?@#|\\\\\\\\&#39;&lt;&gt;.^*()%!/~\\&quot;`  -]+&quot;\r\n\r\nand use `find()` to effectively make it behave like the above code with `lookingAt()`.\r\n\r\n[Read difference between `lookingAt()` and `find()`][2]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/regex/Matcher.html#lookingAt--\r\n  [2]: https://stackoverflow.com/questions/30008397/whats-the-difference-between-matcher-lookingat-and-find\r\n\r\nI have refactored your regex to use `\\w` instead of `[a-zA-Z0-9_]` and used quantifier `+` (meaning match 1 or more) instead of `*` (meaning match 0 or more) to avoid returning success for zero-length matches.","title":"java regex tell which column not match","body":"<p>You should remove anchors from your regex and then use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/regex/Matcher.html#lookingAt--\" rel=\"nofollow noreferrer\"><code>Matcher#end()</code></a> method to get the position where it stopped the previous match like this:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>String i = &quot;f698fec0-dd89-11e8-b06b-â˜º&quot;;\nPattern p = Pattern.compile(&quot;[\\\\w$&amp;+,:;=\\\\[\\\\]{}?@#|\\\\\\\\'&lt;&gt;.^*()%!/~\\&quot;`  -]+&quot;);\nMatcher m = p.matcher(i);\nif (m.lookingAt() &amp;&amp; i.length() &gt; m.end()) { \n   System.out.println(&quot;Match &lt;&quot; + m.group() + &quot;&gt; failed at: &quot; + m.end());\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre class=\"lang-bash prettyprint-override\"><code>Match &lt;f698fec0-dd89-11e8-b06b-&gt; failed at: 24\n</code></pre>\n<p><strong>PS</strong>: I have used <code>lookingAt()</code> to ensure that we match the pattern starting from the beginning of the region. You can use <code>find()</code> as well to get the next match anywhere or else keep the start anchor in pattern as</p>\n<pre><code>&quot;^[\\\\w$&amp;+,:;=\\\\[\\\\]{}?@#|\\\\\\\\'&lt;&gt;.^*()%!/~\\&quot;`  -]+&quot;\n</code></pre>\n<p>and use <code>find()</code> to effectively make it behave like the above code with <code>lookingAt()</code>.</p>\n<p><a href=\"https://stackoverflow.com/questions/30008397/whats-the-difference-between-matcher-lookingat-and-find\">Read difference between <code>lookingAt()</code> and <code>find()</code></a></p>\n<p>I have refactored your regex to use <code>\\w</code> instead of <code>[a-zA-Z0-9_]</code> and used quantifier <code>+</code> (meaning match 1 or more) instead of <code>*</code> (meaning match 0 or more) to avoid returning success for zero-length matches.</p>\n"}],"owner":{"account_id":2898137,"reputation":1813,"user_id":2485458,"accept_rate":48,"display_name":"Panadol Chong"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":75155271,"answer_count":1,"score":3,"last_activity_date":1693143528,"creation_date":1674021118,"question_id":75155125,"body_markdown":"Good day,\r\n\r\nMy java code is as follow:\r\n\r\n    Pattern p = Pattern.compile(&quot;^[a-zA-Z0-9$&amp;+,:;=\\\\[\\\\]{}?@#|\\\\\\\\&#39;&lt;&gt;._^*()%!/~\\&quot;`&#160; -]*$&quot;);\r\n    String i = &quot;f698fec0-dd89-11e8-b06b-&#226;˜&#186;&quot;;\r\n    Matcher tagmatch = p.matcher(i);\r\n    System.out.println(&quot;tagmatch is &quot; + tagmatch.find());\r\n\r\nAs expected, the answer will be false, because there is `&#226;˜&#186;` character inside. However, I would like to show the column number that not match. For this example, it should show column 25th having the invalid character.\r\n\r\nMay I know how can I do this?","title":"java regex tell which column not match","body":"<p>Good day,</p>\n<p>My java code is as follow:</p>\n<pre><code>Pattern p = Pattern.compile(&quot;^[a-zA-Z0-9$&amp;+,:;=\\\\[\\\\]{}?@#|\\\\\\\\'&lt;&gt;._^*()%!/~\\&quot;`  -]*$&quot;);\nString i = &quot;f698fec0-dd89-11e8-b06b-â˜º&quot;;\nMatcher tagmatch = p.matcher(i);\nSystem.out.println(&quot;tagmatch is &quot; + tagmatch.find());\n</code></pre>\n<p>As expected, the answer will be false, because there is <code>â˜º</code> character inside. However, I would like to show the column number that not match. For this example, it should show column 25th having the invalid character.</p>\n<p>May I know how can I do this?</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":15396644,"reputation":25775,"user_id":11107541,"display_name":"starball"},"score":0,"creation_date":1671414007,"post_id":74823314,"comment_id":132087803,"body_markdown":"See [ask]. describe your problem before showing code.","body":"See <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>. describe your problem before showing code."}],"answers":[{"tags":[],"owner":{"account_id":4739783,"reputation":612633,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671187676,"creation_date":1671187676,"answer_id":74823366,"question_id":74823314,"body_markdown":"You can use\r\n```none\r\n^(.*?)(?::\\[(.*?)])?$\r\n^(.*?)(?::\\[([^\\]\\[]*)])?$\r\n```\r\nSee the [regex demo][1].\r\n\r\nIn Java:\r\n```java\r\nString regex = &quot;^(.*?)(?::\\\\[(.*?)])?$&quot;;\r\n// Or\r\nString regex = &quot;^(.*?)(?::\\\\[([^\\\\]\\\\[]*)])?$&quot;;\r\n```\r\nI added the `^` and `$` anchors since you are using `matcher.find()`. If you switch to `matcher.matches()`, you can remove the anchors.\r\n\r\n*Details*:\r\n\r\n - `^` - start of string\r\n - `(.*?)`  - Group 1: any zero or more chars other than line break chars as few as possible\r\n - `(?::\\[(.*?)])?` - an optional sequence of `:[`, then Group 2 capturing any zero or more chars other than line break chars as few as possible and then a `]` char (if you use `[^\\]\\[]*` it will match zero or more chars other than square brackets)\r\n - `$` - end of string.\r\n\r\n  [1]: https://regex101.com/r/OcJfYe/1","title":"How do I make a regex part optional and finish regex at the same point if that optional part contains a string end ($)?","body":"<p>You can use</p>\n<pre class=\"lang-none prettyprint-override\"><code>^(.*?)(?::\\[(.*?)])?$\n^(.*?)(?::\\[([^\\]\\[]*)])?$\n</code></pre>\n<p>See the <a href=\"https://regex101.com/r/OcJfYe/1\" rel=\"nofollow noreferrer\">regex demo</a>.</p>\n<p>In Java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String regex = &quot;^(.*?)(?::\\\\[(.*?)])?$&quot;;\n// Or\nString regex = &quot;^(.*?)(?::\\\\[([^\\\\]\\\\[]*)])?$&quot;;\n</code></pre>\n<p>I added the <code>^</code> and <code>$</code> anchors since you are using <code>matcher.find()</code>. If you switch to <code>matcher.matches()</code>, you can remove the anchors.</p>\n<p><em>Details</em>:</p>\n<ul>\n<li><code>^</code> - start of string</li>\n<li><code>(.*?)</code>  - Group 1: any zero or more chars other than line break chars as few as possible</li>\n<li><code>(?::\\[(.*?)])?</code> - an optional sequence of <code>:[</code>, then Group 2 capturing any zero or more chars other than line break chars as few as possible and then a <code>]</code> char (if you use <code>[^\\]\\[]*</code> it will match zero or more chars other than square brackets)</li>\n<li><code>$</code> - end of string.</li>\n</ul>\n"}],"owner":{"account_id":27270810,"reputation":23,"user_id":20792152,"display_name":"Anupam Anand"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74823366,"answer_count":1,"score":2,"last_activity_date":1693143469,"creation_date":1671187450,"question_id":74823314,"body_markdown":"```\r\nString s1 = &quot;NetworkElement=Test,testWork=1:[456]&quot;;\r\nString s2 = &quot;NetworkElement=Test,testWork=1&quot;;\r\nString regex = &quot;(.*):\\\\[(.*)\\\\]&quot;;\r\nPattern pattern = Pattern.compile(regex);\r\nMatcher matcher = pattern.matcher(s1);\r\nif (matcher.find()) {\r\n    System.out.println(matcher.group(1));\r\n    System.out.println(matcher.group(2));\r\n}\r\nMatcher matcher2 = pattern.matcher(s2);\r\nif (matcher2.find()) {\r\n    System.out.println(matcher2.group(1));\r\n    System.out.println(matcher2.group(2));\r\n}\r\n\r\n/*\r\nExpected output:\r\nfor s1 : NetworkElement=Test,testWork=1\r\n         456\r\nfor s2 : NetworkElement=Test,testWork=1\r\n         0\r\n*/\r\n```\r\n\r\nProblem : This regex is working fine for String s1 but not for s2. for string s2, matcher2.find() return false.","title":"How do I make a regex part optional and finish regex at the same point if that optional part contains a string end ($)?","body":"<pre><code>String s1 = &quot;NetworkElement=Test,testWork=1:[456]&quot;;\nString s2 = &quot;NetworkElement=Test,testWork=1&quot;;\nString regex = &quot;(.*):\\\\[(.*)\\\\]&quot;;\nPattern pattern = Pattern.compile(regex);\nMatcher matcher = pattern.matcher(s1);\nif (matcher.find()) {\n    System.out.println(matcher.group(1));\n    System.out.println(matcher.group(2));\n}\nMatcher matcher2 = pattern.matcher(s2);\nif (matcher2.find()) {\n    System.out.println(matcher2.group(1));\n    System.out.println(matcher2.group(2));\n}\n\n/*\nExpected output:\nfor s1 : NetworkElement=Test,testWork=1\n         456\nfor s2 : NetworkElement=Test,testWork=1\n         0\n*/\n</code></pre>\n<p>Problem : This regex is working fine for String s1 but not for s2. for string s2, matcher2.find() return false.</p>\n"},{"tags":["java","regex","replace"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1667893945,"post_id":74357178,"comment_id":131269987,"body_markdown":"Your expression should work as well, you just need to make `[^A-Za-z0-9_]` a look-ahead so it&#39;s not consumed and replaced:  `(?=[^A-Za-z0-9_])`. For your specific case you could also use the [word boundary](https://www.rexegg.com/regex-boundaries.html#wordboundary) `\\b` as Tim suggested: it will match the position between word (`[A-Za-z0-9_]`) and non-word characters (`[^A-Za-z0-9_]`).","body":"Your expression should work as well, you just need to make <code>[^A-Za-z0-9_]</code> a look-ahead so it&#39;s not consumed and replaced:  <code>(?=[^A-Za-z0-9_])</code>. For your specific case you could also use the <a href=\"https://www.rexegg.com/regex-boundaries.html#wordboundary\" rel=\"nofollow noreferrer\">word boundary</a> <code>\\b</code> as Tim suggested: it will match the position between word (<code>[A-Za-z0-9_]</code>) and non-word characters (<code>[^A-Za-z0-9_]</code>)."}],"answers":[{"tags":[],"owner":{"account_id":2094057,"reputation":506144,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1667893591,"creation_date":1667893591,"answer_id":74357224,"question_id":74357178,"body_markdown":"You should be able to find `\\$c\\b` and replace with `$text`:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    String input = &quot;$c+350 - $c + $c_new * $c_new[x(12345)]&quot;;\r\n    String output = input.replaceAll(&quot;\\\\$c\\\\b&quot;, &quot;\\\\$text&quot;);\r\n    System.out.println(output);\r\n\r\nThis prints:\r\n\r\n    $text+350 - $text + $c_new * $c_new[x(12345)]","title":"Java - non greedy-regex to replace partial string in longer words?","body":"<p>You should be able to find <code>\\$c\\b</code> and replace with <code>$text</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String input = &quot;$c+350 - $c + $c_new * $c_new[x(12345)]&quot;;\nString output = input.replaceAll(&quot;\\\\$c\\\\b&quot;, &quot;\\\\$text&quot;);\nSystem.out.println(output);\n</code></pre>\n<p>This prints:</p>\n<pre><code>$text+350 - $text + $c_new * $c_new[x(12345)]\n</code></pre>\n"}],"owner":{"account_id":2310125,"reputation":1532,"user_id":2028440,"accept_rate":25,"display_name":"Bằng Rikimaru"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74357224,"answer_count":1,"score":0,"last_activity_date":1693143455,"creation_date":1667893362,"question_id":74357178,"body_markdown":"I have a string like that:\r\n\r\n```\r\n  $c+350 - $c + $c_new * $c_new[x(12345)]\r\n```\r\n\r\nHere, I only want to replace the first two **$c** (as they don&#39;t have any followed characters `[A-Za-z0-9_]`) with **$text**\r\n\r\nI tried to use with Java regex pattern:\r\n\r\n```\r\nString a = &quot;$c+350 - $c + $c_new * $c_new[x(12345)]&quot;;\r\nString b = a.replaceAll(&quot;\\\\$c[^A-Za-z0-9_]&quot;,  &quot;\\\\$text&quot;)\r\n```\r\n\r\nbut it only returns with one stripped character for each **$text**\r\n\r\n```\r\nb = &quot;$text350 - $text+ $c_new * $c_new[x(12345)]&quot;\r\n```\r\n\r\ninstead of the text it should be:\r\n\r\n```\r\nb = &quot;$text+350 - $text + $c_new * $c_new[x(12345)]&quot;\r\n```","title":"Java - non greedy-regex to replace partial string in longer words?","body":"<p>I have a string like that:</p>\n<pre><code>  $c+350 - $c + $c_new * $c_new[x(12345)]\n</code></pre>\n<p>Here, I only want to replace the first two <strong>$c</strong> (as they don't have any followed characters <code>[A-Za-z0-9_]</code>) with <strong>$text</strong></p>\n<p>I tried to use with Java regex pattern:</p>\n<pre><code>String a = &quot;$c+350 - $c + $c_new * $c_new[x(12345)]&quot;;\nString b = a.replaceAll(&quot;\\\\$c[^A-Za-z0-9_]&quot;,  &quot;\\\\$text&quot;)\n</code></pre>\n<p>but it only returns with one stripped character for each <strong>$text</strong></p>\n<pre><code>b = &quot;$text350 - $text+ $c_new * $c_new[x(12345)]&quot;\n</code></pre>\n<p>instead of the text it should be:</p>\n<pre><code>b = &quot;$text+350 - $text + $c_new * $c_new[x(12345)]&quot;\n</code></pre>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":3,"creation_date":1666894420,"post_id":74226525,"comment_id":131049073,"body_markdown":"Not really the way to do it. You should really be using something like ```java.nio.file.Path.getParent()```","body":"Not really the way to do it. You should really be using something like <code>java.nio.file.Path.getParent()</code>"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":2,"creation_date":1666894654,"post_id":74226525,"comment_id":131049151,"body_markdown":"Possibly related: [Java: How to check if a directory is inside other directory](https://stackoverflow.com/q/26518033)","body":"Possibly related: <a href=\"https://stackoverflow.com/q/26518033\">Java: How to check if a directory is inside other directory</a>"},{"owner":{"account_id":11620930,"reputation":5054,"user_id":8512262,"display_name":"JRiggles"},"score":0,"creation_date":1666894708,"post_id":74226525,"comment_id":131049170,"body_markdown":"This pattern will match whatever the last folder in the path is: &quot;E:(?:\\\\\\w+)*\\\\(.*)\\\\&quot;, see [here](https://regex101.com/r/17YEl7/1) for examples. As has been said, though, there are probably better was to deal with this.","body":"This pattern will match whatever the last folder in the path is: &quot;E:(?:\\\\\\w+)*\\&#40;.*)\\\\&quot;, see <a href=\"https://regex101.com/r/17YEl7/1\" rel=\"nofollow noreferrer\">here</a> for examples. As has been said, though, there are probably better was to deal with this."},{"owner":{"account_id":785462,"reputation":16343,"user_id":845034,"accept_rate":57,"display_name":"steffen"},"score":0,"creation_date":1666896330,"post_id":74226525,"comment_id":131049672,"body_markdown":"I don&#39;t know, why this questions was closed again :-( So here&#39;s only a few things via comments :-/ Your `.` is escaped, so it matches stricly only a `.`, not &lt;any character&gt;. Then, `.*` (not escacped dot) _would_ match 0..* times, not 1..* times.. You should not use word boundary `\\b` after `test`, because it doesn&#39;t make sense. If you want a backslash, match a backslash. Matching a backslash requires 4 backslashes (that&#39;s `\\\\\\\\ `.). The other comments are very valid: You should use `getParent()`. &quot;test&quot; in `[]` doesn&#39;t make sense, read the docs.","body":"I don&#39;t know, why this questions was closed again :-( So here&#39;s only a few things via comments :-/ Your <code>.</code> is escaped, so it matches stricly only a <code>.</code>, not &lt;any character&gt;. Then, <code>.*</code> (not escacped dot) <i>would</i> match 0..* times, not 1..* times.. You should not use word boundary <code>\\b</code> after <code>test</code>, because it doesn&#39;t make sense. If you want a backslash, match a backslash. Matching a backslash requires 4 backslashes (that&#39;s <code>\\\\\\\\ </code>.). The other comments are very valid: You should use <code>getParent()</code>. &quot;test&quot; in <code>[]</code> doesn&#39;t make sense, read the docs."},{"owner":{"account_id":18355178,"reputation":167,"user_id":13368385,"display_name":"Dahlin"},"score":0,"creation_date":1666896559,"post_id":74226525,"comment_id":131049731,"body_markdown":"yeah exactly, people are so ignorant &quot;yeah that thing was definitely answered somewhere else&quot; Bruh, its not only about the backslashes here. Thanks for your answer! : 3","body":"yeah exactly, people are so ignorant &quot;yeah that thing was definitely answered somewhere else&quot; Bruh, its not only about the backslashes here. Thanks for your answer! : 3"}],"answers":[{"comments":[{"owner":{"account_id":18355178,"reputation":167,"user_id":13368385,"display_name":"Dahlin"},"score":0,"creation_date":1666895313,"post_id":74226639,"comment_id":131049337,"body_markdown":"But I have 4 backslashes?","body":"But I have 4 backslashes?"},{"owner":{"account_id":4739783,"reputation":612633,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":0,"creation_date":1666895613,"post_id":74226639,"comment_id":131049442,"body_markdown":"@Dahlin No, you have not. You have 2 backslashes to match a backslash. The next 2 backslashes are for `\\b`, word boundary, that you do not even need here.","body":"@Dahlin No, you have not. You have 2 backslashes to match a backslash. The next 2 backslashes are for <code>\\b</code>, word boundary, that you do not even need here."}],"tags":[],"owner":{"account_id":6158361,"reputation":11,"user_id":4800687,"display_name":"tecop"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1666894852,"creation_date":1666894852,"answer_id":74226639,"question_id":74226525,"body_markdown":"Possible duplicated of [escaping-special-characters-in-java-regular-expressions][1].\r\n\r\nYou need more backslashes. &quot;The 4 slashes in the Java string turn into 2 slashes in the regex pattern. 2 backslashes in a regex pattern matches the backslash itself.&quot;.\r\n\r\n  [1]: https://stackoverflow.com/questions/10664434/escaping-special-characters-in-java-regular-expressions","title":"Java regex match part of path","body":"<p>Possible duplicated of <a href=\"https://stackoverflow.com/questions/10664434/escaping-special-characters-in-java-regular-expressions\">escaping-special-characters-in-java-regular-expressions</a>.</p>\n<p>You need more backslashes. &quot;The 4 slashes in the Java string turn into 2 slashes in the regex pattern. 2 backslashes in a regex pattern matches the backslash itself.&quot;.</p>\n"}],"owner":{"account_id":18355178,"reputation":167,"user_id":13368385,"display_name":"Dahlin"},"comment_count":5,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":222,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"closed_date":1666895632,"answer_count":1,"score":-2,"last_activity_date":1693143437,"creation_date":1666894179,"question_id":74226525,"body_markdown":"I am trying to check if a chosen path is a valid path for my Java program. In order to be valid, it must match the path `E:\\test\\(someFolderName)\\`. The chosen folder can be deeper in that directory.\r\n\r\nThis is what I have tried:\r\n\r\n    String a = &quot;E:\\\\test\\\\anotherFolder&quot;;\r\n\tif (a.matches(&quot;E:\\\\\\\\btest\\\\b\\\\.*&quot;)) {\r\n\t\tSystem.out.println(&quot;match&quot;);\r\n\t}\r\n\r\nI have also tried putting `test` into `[]` but it did not work.\r\n\r\n `\\b` would mark the beginning of a word boundary, and adding `\\b` again should close it, correct?\r\n\r\n`.*` would match any character 1 to infinite times.\r\n\r\nSo, is there a problem with the escaping? Or do I need to group it differently?","title":"Java regex match part of path","body":"<p>I am trying to check if a chosen path is a valid path for my Java program. In order to be valid, it must match the path <code>E:\\test\\(someFolderName)\\</code>. The chosen folder can be deeper in that directory.</p>\n<p>This is what I have tried:</p>\n<pre><code>String a = &quot;E:\\\\test\\\\anotherFolder&quot;;\nif (a.matches(&quot;E:\\\\\\\\btest\\\\b\\\\.*&quot;)) {\n    System.out.println(&quot;match&quot;);\n}\n</code></pre>\n<p>I have also tried putting <code>test</code> into <code>[]</code> but it did not work.</p>\n<p><code>\\b</code> would mark the beginning of a word boundary, and adding <code>\\b</code> again should close it, correct?</p>\n<p><code>.*</code> would match any character 1 to infinite times.</p>\n<p>So, is there a problem with the escaping? Or do I need to group it differently?</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":3,"creation_date":1661505964,"post_id":73498800,"comment_id":129793400,"body_markdown":"You have only one capturing group in your regex, `([1-5])` at the end.","body":"You have only one capturing group in your regex, <code>([1-5])</code> at the end."},{"owner":{"account_id":7226774,"reputation":19717,"user_id":5515060,"accept_rate":100,"display_name":"Lino"},"score":1,"creation_date":1661506016,"post_id":73498800,"comment_id":129793420,"body_markdown":"Also note that `matcher.group(0)` will always be the full match. I.e. the input string. From the javadoc: *Group zero denotes the entire pattern, so the expression m.group(0) is equivalent to m.group()*","body":"Also note that <code>matcher.group(0)</code> will always be the full match. I.e. the input string. From the javadoc: <i>Group zero denotes the entire pattern, so the expression m.group(0) is equivalent to m.group()</i>"}],"answers":[{"tags":[],"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1661506001,"creation_date":1661506001,"answer_id":73498844,"question_id":73498800,"body_markdown":"That is because the first group (index 0) is the whole pattern and is not counted. See the [javadoc][1]:\r\n\r\n&gt;`public int groupCount()`\r\n\r\n&gt;Returns the number of capturing groups in this matcher&#39;s pattern.  \r\nGroup zero denotes the entire pattern by convention. It is not included in this count.  \r\nAny non-negative integer smaller than or equal to the value returned by this method is guaranteed to be a valid group index for this matcher.\r\n\r\nSo you can change your code to this for example:\r\n\r\n    for (var i = 1; i &lt;= matcher.groupCount(); i++){\r\n      matches.add(matcher.group(i));\r\n    }\r\n\r\n [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/Matcher.html#groupCount()","title":"Java Regex Matcher get wrong group count?","body":"<p>That is because the first group (index 0) is the whole pattern and is not counted. See the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/Matcher.html#groupCount()\" rel=\"nofollow noreferrer\">javadoc</a>:</p>\n<blockquote>\n<p><code>public int groupCount()</code></p>\n</blockquote>\n<blockquote>\n<p>Returns the number of capturing groups in this matcher's pattern.<br />\nGroup zero denotes the entire pattern by convention. It is not included in this count.<br />\nAny non-negative integer smaller than or equal to the value returned by this method is guaranteed to be a valid group index for this matcher.</p>\n</blockquote>\n<p>So you can change your code to this for example:</p>\n<pre><code>for (var i = 1; i &lt;= matcher.groupCount(); i++){\n  matches.add(matcher.group(i));\n}\n</code></pre>\n"}],"owner":{"account_id":8935976,"reputation":692,"user_id":6666797,"display_name":"Cositanto"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":324,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":73498844,"answer_count":1,"score":0,"last_activity_date":1693143171,"creation_date":1661505765,"question_id":73498800,"body_markdown":"My code is \r\n\r\n    String debug = &quot;1$&lt;$2&quot;;\r\n    Matcher matcher = Pattern.compile(&quot;^[1-5]&quot; + &quot;\\\\(?\\\\$[^\\\\$]*\\\\$\\\\)?&quot; + &quot;([1-5])$&quot;).matcher(debug);\r\n    List&lt;String&gt; matches = new ArrayList&lt;String&gt;();\r\n    if (matcher.matches()) {\r\n      for (var i = 0;i&lt; matcher.groupCount();i++){\r\n        matches.add(matcher.group(i));\r\n      }\r\n    }\r\n    System.out.println(matcher.groupCount());\r\n    System.out.println(matches);\r\n\r\nAnd the group count is only 1.\r\n\r\nThe `matches` is `1$&lt;$2`.\r\n\r\nBut actually the result of `matcher.group(1)` is `2`.\r\n\r\nHow can I get the right group count?","title":"Java Regex Matcher get wrong group count?","body":"<p>My code is</p>\n<pre><code>String debug = &quot;1$&lt;$2&quot;;\nMatcher matcher = Pattern.compile(&quot;^[1-5]&quot; + &quot;\\\\(?\\\\$[^\\\\$]*\\\\$\\\\)?&quot; + &quot;([1-5])$&quot;).matcher(debug);\nList&lt;String&gt; matches = new ArrayList&lt;String&gt;();\nif (matcher.matches()) {\n  for (var i = 0;i&lt; matcher.groupCount();i++){\n    matches.add(matcher.group(i));\n  }\n}\nSystem.out.println(matcher.groupCount());\nSystem.out.println(matches);\n</code></pre>\n<p>And the group count is only 1.</p>\n<p>The <code>matches</code> is <code>1$&lt;$2</code>.</p>\n<p>But actually the result of <code>matcher.group(1)</code> is <code>2</code>.</p>\n<p>How can I get the right group count?</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":7089168,"reputation":157141,"user_id":5424988,"display_name":"The fourth bird"},"score":1,"creation_date":1656610426,"post_id":72819841,"comment_id":128621046,"body_markdown":"Why don&#39;t use use `matcher.group(1)` and `.matcher.group(2)` instead?","body":"Why don&#39;t use use <code>matcher.group(1)</code> and <code>.matcher.group(2)</code> instead?"},{"owner":{"account_id":2975457,"reputation":1032,"user_id":2526586,"accept_rate":33,"display_name":"user2526586"},"score":0,"creation_date":1656610741,"post_id":72819841,"comment_id":128621141,"body_markdown":"@Thefourthbird I have attempted using `.group(n)` already, but I just don&#39;t know how to make them work for the formatter. The thing about the formatter string is that, it is provided by the user, so I have no control on how to format the extraction in advance.","body":"@Thefourthbird I have attempted using <code>.group(n)</code> already, but I just don&#39;t know how to make them work for the formatter. The thing about the formatter string is that, it is provided by the user, so I have no control on how to format the extraction in advance."},{"owner":{"account_id":7089168,"reputation":157141,"user_id":5424988,"display_name":"The fourth bird"},"score":0,"creation_date":1656611586,"post_id":72819841,"comment_id":128621412,"body_markdown":"Is `extractionFormatter` your own specified custom template, that you want to parse and then convert the `$1` for example to `matcher.group(1)`?","body":"Is <code>extractionFormatter</code> your own specified custom template, that you want to parse and then convert the <code>$1</code> for example to <code>matcher.group(1)</code>?"},{"owner":{"account_id":2975457,"reputation":1032,"user_id":2526586,"accept_rate":33,"display_name":"user2526586"},"score":0,"creation_date":1656611926,"post_id":72819841,"comment_id":128621516,"body_markdown":"@Thefourthbird It basically is a just simple string provided by the user. It is designed to work just like the `replacement` in `Matcher.replaceAll(replacement)` . So the user can type in anything like `Hello, $1!`.","body":"@Thefourthbird It basically is a just simple string provided by the user. It is designed to work just like the <code>replacement</code> in <code>Matcher.replaceAll(replacement)</code> . So the user can type in anything like <code>Hello, $1!</code>."},{"owner":{"account_id":2975457,"reputation":1032,"user_id":2526586,"accept_rate":33,"display_name":"user2526586"},"score":0,"creation_date":1656612809,"post_id":72819841,"comment_id":128621786,"body_markdown":"The user enters `extractionFormatter` via a JTextPane on the GUI","body":"The user enters <code>extractionFormatter</code> via a JTextPane on the GUI"}],"answers":[{"tags":[],"owner":{"account_id":7089168,"reputation":157141,"user_id":5424988,"display_name":"The fourth bird"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1656617112,"creation_date":1656613343,"answer_id":72820406,"question_id":72819841,"body_markdown":"You can use [String.replaceAll](https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#replaceAll(java.lang.String,%20java.lang.String)) instead.\r\n\r\nThe thing to note is that if you want to get the desired output with capture groups, you would have to match (to remove) from the string that should not be there in the replacement.\r\n\r\nUsing a pattern that would give the desired output:\r\n\r\n    String fileContent = &quot;&quot;&quot;\r\n    aaabbcac aabb\r\n    bcbcbbccc babba\r\n    &quot;&quot;&quot;;\r\n    String pattern = &quot;(?m)^.*?(bb\\\\S*).*(.)(abb).*$&quot;;\r\n    String extractionFormatter = &quot;$2: $1 $2$3, \\\\$$3&quot;;\r\n    System.out.print(fileContent.replaceAll(pattern, extractionFormatter));\r\n\r\nOutput\r\n\r\n    a: bbcac aabb, $abb\r\n    b: bbccc babb, $abb\r\n\r\nSee a [Java demo](https://ideone.com/IjbqM6).\r\n\r\n&lt;hr&gt;\r\n\r\nOr using the Stringbuilder, Matcher and the while loop:\r\n\r\n    String fileContent = &quot;&quot;&quot;\r\n    aaabbcac aabb\r\n    bcbcbbccc babba\r\n    &quot;&quot;&quot;;\r\n    String pat = &quot;bb.*(.)(abb)&quot;;\r\n    Pattern pattern = Pattern.compile(pat);\r\n    Matcher matcher = pattern.matcher(fileContent);\r\n    String extractionFormatter = &quot;$1: $0, \\\\$$2&quot;;\r\n    StringBuilder sb = new StringBuilder();\r\n    \r\n    while(matcher.find()) {\r\n        sb.append(matcher.group().replaceAll(pat, extractionFormatter)).append(&quot;\\n&quot;);\r\n    }\r\n    System.out.print(sb);\r\n\r\nSee a [Java demo](https://ideone.com/PJQHZ9).","title":"Extract text with Java regex with reference support","body":"<p>You can use <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#replaceAll(java.lang.String,%20java.lang.String)\" rel=\"nofollow noreferrer\">String.replaceAll</a> instead.</p>\n<p>The thing to note is that if you want to get the desired output with capture groups, you would have to match (to remove) from the string that should not be there in the replacement.</p>\n<p>Using a pattern that would give the desired output:</p>\n<pre><code>String fileContent = &quot;&quot;&quot;\naaabbcac aabb\nbcbcbbccc babba\n&quot;&quot;&quot;;\nString pattern = &quot;(?m)^.*?(bb\\\\S*).*(.)(abb).*$&quot;;\nString extractionFormatter = &quot;$2: $1 $2$3, \\\\$$3&quot;;\nSystem.out.print(fileContent.replaceAll(pattern, extractionFormatter));\n</code></pre>\n<p>Output</p>\n<pre><code>a: bbcac aabb, $abb\nb: bbccc babb, $abb\n</code></pre>\n<p>See a <a href=\"https://ideone.com/IjbqM6\" rel=\"nofollow noreferrer\">Java demo</a>.</p>\n<hr>\n<p>Or using the Stringbuilder, Matcher and the while loop:</p>\n<pre><code>String fileContent = &quot;&quot;&quot;\naaabbcac aabb\nbcbcbbccc babba\n&quot;&quot;&quot;;\nString pat = &quot;bb.*(.)(abb)&quot;;\nPattern pattern = Pattern.compile(pat);\nMatcher matcher = pattern.matcher(fileContent);\nString extractionFormatter = &quot;$1: $0, \\\\$$2&quot;;\nStringBuilder sb = new StringBuilder();\n\nwhile(matcher.find()) {\n    sb.append(matcher.group().replaceAll(pat, extractionFormatter)).append(&quot;\\n&quot;);\n}\nSystem.out.print(sb);\n</code></pre>\n<p>See a <a href=\"https://ideone.com/PJQHZ9\" rel=\"nofollow noreferrer\">Java demo</a>.</p>\n"},{"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1656615350,"creation_date":1656615350,"answer_id":72820783,"question_id":72819841,"body_markdown":"You can use the `results` method from the `Matcher` class which returns a stream of `MatchResult`s to first get all matches, get the results as string using `MatchResult.group`, replace now using the method `String.replaceAll` using the pattern as regex and your `extractionFormatter` as replacement and finally join all using new line:\r\n\r\n    String fileContent = &quot;aaabbcac aabb\\n&quot; +\r\n                         &quot;bcbcbbccc babba&quot;;\r\n\r\n    Pattern pattern = Pattern.compile(&quot;bb.*(.)(abb)&quot;);\r\n    String extractionFormatter = &quot;$1: $0, \\\\$$2&quot;;\r\n\r\n    String output = pattern.matcher(fileContent)\r\n                            .results()\r\n                            .map(MatchResult::group)\r\n                            .map(s -&gt; s.replaceAll(pattern.pattern(), extractionFormatter))\r\n                            .collect(Collectors.joining(System.lineSeparator()));\r\n\r\n    System.out.println(output);","title":"Extract text with Java regex with reference support","body":"<p>You can use the <code>results</code> method from the <code>Matcher</code> class which returns a stream of <code>MatchResult</code>s to first get all matches, get the results as string using <code>MatchResult.group</code>, replace now using the method <code>String.replaceAll</code> using the pattern as regex and your <code>extractionFormatter</code> as replacement and finally join all using new line:</p>\n<pre><code>String fileContent = &quot;aaabbcac aabb\\n&quot; +\n                     &quot;bcbcbbccc babba&quot;;\n\nPattern pattern = Pattern.compile(&quot;bb.*(.)(abb)&quot;);\nString extractionFormatter = &quot;$1: $0, \\\\$$2&quot;;\n\nString output = pattern.matcher(fileContent)\n                        .results()\n                        .map(MatchResult::group)\n                        .map(s -&gt; s.replaceAll(pattern.pattern(), extractionFormatter))\n                        .collect(Collectors.joining(System.lineSeparator()));\n\nSystem.out.println(output);\n</code></pre>\n"}],"owner":{"account_id":2975457,"reputation":1032,"user_id":2526586,"accept_rate":33,"display_name":"user2526586"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72820783,"answer_count":2,"score":1,"last_activity_date":1693143153,"creation_date":1656610258,"question_id":72819841,"body_markdown":"I am having some problem writing a method in Java. It basically extracts text with matching pattern and returns *ALL* the extractions. It simply works just like `java.util.regex.Matcher`&#39;s `find()`/`matches()` then `group()` :\r\n```\r\nMatcher matcher = pattern.matcher(fileContent);\r\nStringBuilder sb = new StringBuilder();\r\nwhile(matcher.matches()) {\r\n    sb.append(matcher.group()).append(&quot;\\n&quot;);\r\n}\r\nreturn sb.toString();\r\n```\r\n\r\nHowever, I would like the extractions to be formatted with the references(dollar sign,`$`) and literal-character-escaping (backslash,`\\`) support, just like the replacement in `Matcher.replaceAll(replacement)`([Doc][1]). For example:\r\n```\r\nfileContent = &quot;&quot;&quot;\r\n    aaabbcac aabb\r\n    bcbcbbccc babba\r\n&quot;&quot;&quot;;\r\npattern = Pattern.compile(&quot;bb.*(.)(abb)&quot;);\r\nextractionFormatter = &quot;$1: $0, \\\\$$2&quot;;\r\n```\r\n\r\nThe expected output would be:\r\n```\r\na: bbcac aabb, $abb\r\nb: bbccc babb, $abb\r\n```\r\n\r\nI hope you understand what I am trying to do. Do you know if there is any existing library/method that can achieve this without having me to reinvent the wheel?\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/regex/Matcher.html#replaceAll(java.lang.String)","title":"Extract text with Java regex with reference support","body":"<p>I am having some problem writing a method in Java. It basically extracts text with matching pattern and returns <em>ALL</em> the extractions. It simply works just like <code>java.util.regex.Matcher</code>'s <code>find()</code>/<code>matches()</code> then <code>group()</code> :</p>\n<pre><code>Matcher matcher = pattern.matcher(fileContent);\nStringBuilder sb = new StringBuilder();\nwhile(matcher.matches()) {\n    sb.append(matcher.group()).append(&quot;\\n&quot;);\n}\nreturn sb.toString();\n</code></pre>\n<p>However, I would like the extractions to be formatted with the references(dollar sign,<code>$</code>) and literal-character-escaping (backslash,<code>\\</code>) support, just like the replacement in <code>Matcher.replaceAll(replacement)</code>(<a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/regex/Matcher.html#replaceAll(java.lang.String)\" rel=\"nofollow noreferrer\">Doc</a>). For example:</p>\n<pre><code>fileContent = &quot;&quot;&quot;\n    aaabbcac aabb\n    bcbcbbccc babba\n&quot;&quot;&quot;;\npattern = Pattern.compile(&quot;bb.*(.)(abb)&quot;);\nextractionFormatter = &quot;$1: $0, \\\\$$2&quot;;\n</code></pre>\n<p>The expected output would be:</p>\n<pre><code>a: bbcac aabb, $abb\nb: bbccc babb, $abb\n</code></pre>\n<p>I hope you understand what I am trying to do. Do you know if there is any existing library/method that can achieve this without having me to reinvent the wheel?</p>\n"},{"tags":["java","regex","string","java-stream"],"comments":[{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1654804972,"post_id":72500420,"comment_id":128186201,"body_markdown":"Just in case, **1.** *Primitive streams* perform better than streams of objects, **2.** usage of collector has an additional cost. That said `sum()` operation on the `IntStream` would be faster than `Collectors.summingInt()`.","body":"Just in case, <b>1.</b> <i>Primitive streams</i> perform better than streams of objects, <b>2.</b> usage of collector has an additional cost. That said <code>sum()</code> operation on the <code>IntStream</code> would be faster than <code>Collectors.summingInt()</code>."}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654385232,"creation_date":1654353795,"answer_id":72500674,"question_id":72500420,"body_markdown":"&gt; Is it possible to solve this problem using Stream API?\r\n\r\nSplit the given string by substring that are not comprised of digits using `.split(&quot;\\\\D+&quot;)`. Regex `&quot;\\\\D+&quot;` matches a string which consists of one or more *non-digit character*. The result will be an array of numeric strings.\r\n\r\nCreate a stream over the array and filter out strings that are not empty. Then parse the string into `int` with `mapToInt()` and apply `sum()` as a terminal operation.\r\n\r\nThis solution passes all tests on *CodingBat*:\r\n\r\n    public int sumNumbers(String str) {\r\n        return Arrays.stream(str.split(&quot;\\\\D+&quot;))\r\n            .filter(s -&gt; !s.isEmpty())\r\n            .mapToInt(Integer::parseInt)\r\n            .sum();\r\n    }\r\n__________________________________________________________\r\n\r\nSince there could be only a single empty string at the very beginning of the array produced by `.split(&quot;\\\\D+&quot;)`, in order to reduce the number of actions performed in the stream-pipeline `filter()` can be replaced with `dropWhile()`. \r\n\r\nIt will skip the first string if it&#39;s *empty*, and after the first *non-empty* element has been encountered this check would not be applied. I.e. *predicate* `dropWhile()` passed to the `dropWhile()` would be executed at most `2` times. In case of lengthy string (*otherwise all optimizations don&#39;t matter*) it would be **cheaper** than generating a *new string* with `replaceAll()`.\r\n\r\n    public static int sumNumbers(String str) {\r\n        return Arrays.stream(str.split(&quot;\\\\D+&quot;))\r\n            .dropWhile(String::isEmpty)\r\n            .mapToInt(Integer::parseInt)\r\n            .sum();\r\n    }\r\n\r\n*Caveat:* `dropWhile()` is available with Java 9 onwards. *CodingBat* is still on Java 8, therefore it&#39;s unaware of that feature. Nevertheless, it&#39;s a valid and also performant solution.\r\nYou can test it in your IDE and play around with [*Online Demo*](https://www.jdoodle.com/ia/rSo)\r\n______________________________________________________\r\n\r\n*Tests (the first solution):*\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/V9bCTl.jpg","title":"Codingbat challenge: sumNumbers Stream API Solution","body":"<blockquote>\n<p>Is it possible to solve this problem using Stream API?</p>\n</blockquote>\n<p>Split the given string by substring that are not comprised of digits using <code>.split(&quot;\\\\D+&quot;)</code>. Regex <code>&quot;\\\\D+&quot;</code> matches a string which consists of one or more <em>non-digit character</em>. The result will be an array of numeric strings.</p>\n<p>Create a stream over the array and filter out strings that are not empty. Then parse the string into <code>int</code> with <code>mapToInt()</code> and apply <code>sum()</code> as a terminal operation.</p>\n<p>This solution passes all tests on <em>CodingBat</em>:</p>\n<pre><code>public int sumNumbers(String str) {\n    return Arrays.stream(str.split(&quot;\\\\D+&quot;))\n        .filter(s -&gt; !s.isEmpty())\n        .mapToInt(Integer::parseInt)\n        .sum();\n}\n</code></pre>\n<hr />\n<p>Since there could be only a single empty string at the very beginning of the array produced by <code>.split(&quot;\\\\D+&quot;)</code>, in order to reduce the number of actions performed in the stream-pipeline <code>filter()</code> can be replaced with <code>dropWhile()</code>.</p>\n<p>It will skip the first string if it's <em>empty</em>, and after the first <em>non-empty</em> element has been encountered this check would not be applied. I.e. <em>predicate</em> <code>dropWhile()</code> passed to the <code>dropWhile()</code> would be executed at most <code>2</code> times. In case of lengthy string (<em>otherwise all optimizations don't matter</em>) it would be <strong>cheaper</strong> than generating a <em>new string</em> with <code>replaceAll()</code>.</p>\n<pre><code>public static int sumNumbers(String str) {\n    return Arrays.stream(str.split(&quot;\\\\D+&quot;))\n        .dropWhile(String::isEmpty)\n        .mapToInt(Integer::parseInt)\n        .sum();\n}\n</code></pre>\n<p><em>Caveat:</em> <code>dropWhile()</code> is available with Java 9 onwards. <em>CodingBat</em> is still on Java 8, therefore it's unaware of that feature. Nevertheless, it's a valid and also performant solution.\nYou can test it in your IDE and play around with <a href=\"https://www.jdoodle.com/ia/rSo\" rel=\"nofollow noreferrer\"><em>Online Demo</em></a></p>\n<hr />\n<p><em>Tests (the first solution):</em></p>\n<p><a href=\"https://i.stack.imgur.com/V9bCTl.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/V9bCTl.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"comments":[{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1654377782,"post_id":72500675,"comment_id":128077903,"body_markdown":"Blank can only occur once and only at the start, so using `str.replaceAll(&quot;^\\\\D+&quot;, &quot;&quot;).split(&quot;\\\\D+&quot;)` would mean you could delete the filter.","body":"Blank can only occur once and only at the start, so using <code>str.replaceAll(&quot;^\\\\D+&quot;, &quot;&quot;).split(&quot;\\\\D+&quot;)</code> would mean you could delete the filter."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1654480072,"post_id":72500675,"comment_id":128093909,"body_markdown":"@Bohemian `replaceAll`/`replaceFirst` has to generate a copy of the string, so it doesn&#39;t matter that the matching substring would be located at the very beginning. It still needs to iterate over the entire string. There&#39;s no need to pay this cost of extra iteration and allocate a new string in memory in order to eliminate redundant invocations of the `filter()`.","body":"@Bohemian <code>replaceAll</code>/<code>replaceFirst</code> has to generate a copy of the string, so it doesn&#39;t matter that the matching substring would be located at the very beginning. It still needs to iterate over the entire string. There&#39;s no need to pay this cost of extra iteration and allocate a new string in memory in order to eliminate redundant invocations of the <code>filter()</code>."}],"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654536695,"creation_date":1654353804,"answer_id":72500675,"question_id":72500420,"body_markdown":"Yes. \r\n\r\n``` \r\nString[] data = { &quot;abc123xyz&quot;, &quot;aa11b33&quot;, &quot;7 11&quot; };\r\n```\r\n- `\\\\D` - Split on any but string of non digits \r\n- filter empty strings from the split\r\n- convert to an `int` and sum the values.\r\n- return an entry to show both string and sum (not needed but shows the association)\r\n```\r\nArrays.stream(data).map(\r\n\t\tstr -&gt; new AbstractMap.SimpleEntry&lt;String, Integer&gt;(\r\n\t\t\t\tstr,\r\n\t\t\t\tArrays.stream(str.split(&quot;\\\\D+&quot;))\r\n\t\t\t\t\t\t.filter(s -&gt; !s.isBlank())\r\n\t\t\t\t\t\t.mapToInt(Integer::parseInt).sum()))\r\n\t\t.forEach(e -&gt; System.out.printf(&quot;%-10s -&gt; %d%n&quot;,\r\n\t\t\t\te.getKey(), e.getValue()));\r\n```\r\nPrints\r\n```\r\nabc123xyz  -&gt; 123\r\naa11b33    -&gt; 44\r\n7 11       -&gt; 18\r\n```\r\nIf you just want the sum you can do the following:\r\n```\r\npublic static int getSum(String str) {\r\n\treturn Arrays.stream(str.split(&quot;\\\\D+&quot;))\r\n\t\t\t\t.filter(s -&gt; !s.isBlank())\r\n\t\t\t\t.mapToInt(Integer::parseInt)\r\n\t\t\t\t.sum();\r\n}\r\n\r\n","title":"Codingbat challenge: sumNumbers Stream API Solution","body":"<p>Yes.</p>\n<pre><code>String[] data = { &quot;abc123xyz&quot;, &quot;aa11b33&quot;, &quot;7 11&quot; };\n</code></pre>\n<ul>\n<li><code>\\\\D</code> - Split on any but string of non digits</li>\n<li>filter empty strings from the split</li>\n<li>convert to an <code>int</code> and sum the values.</li>\n<li>return an entry to show both string and sum (not needed but shows the association)</li>\n</ul>\n<pre><code>Arrays.stream(data).map(\n        str -&gt; new AbstractMap.SimpleEntry&lt;String, Integer&gt;(\n                str,\n                Arrays.stream(str.split(&quot;\\\\D+&quot;))\n                        .filter(s -&gt; !s.isBlank())\n                        .mapToInt(Integer::parseInt).sum()))\n        .forEach(e -&gt; System.out.printf(&quot;%-10s -&gt; %d%n&quot;,\n                e.getKey(), e.getValue()));\n</code></pre>\n<p>Prints</p>\n<pre><code>abc123xyz  -&gt; 123\naa11b33    -&gt; 44\n7 11       -&gt; 18\n</code></pre>\n<p>If you just want the sum you can do the following:</p>\n<pre><code>public static int getSum(String str) {\n    return Arrays.stream(str.split(&quot;\\\\D+&quot;))\n                .filter(s -&gt; !s.isBlank())\n                .mapToInt(Integer::parseInt)\n                .sum();\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5569841,"reputation":3750,"user_id":4415625,"display_name":"dani-vta"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1654354915,"creation_date":1654354609,"answer_id":72500756,"question_id":72500420,"body_markdown":"To keep the stream implementation closer to your original solution you could still employ a `Pattern` and `Matcher` and then stream the `Matcher`&#39;s results.\r\n\r\n```\r\npublic int sumNumbers(String s) {\r\n    return Pattern.compile(&quot;\\\\d+&quot;).matcher(s).results()\r\n        .collect(Collectors.summingInt(m -&gt; Integer.valueOf(m.group())));\r\n}\r\n```\r\n\r\n&lt;h4&gt;Output&lt;/h4&gt;\r\n\r\n```\r\n123\r\n44\r\n18\r\n```\r\n\r\nHere is a link to test the code with the expected output:\r\n\r\nhttps://www.jdoodle.com/iembed/v0/rRS","title":"Codingbat challenge: sumNumbers Stream API Solution","body":"<p>To keep the stream implementation closer to your original solution you could still employ a <code>Pattern</code> and <code>Matcher</code> and then stream the <code>Matcher</code>'s results.</p>\n<pre><code>public int sumNumbers(String s) {\n    return Pattern.compile(&quot;\\\\d+&quot;).matcher(s).results()\n        .collect(Collectors.summingInt(m -&gt; Integer.valueOf(m.group())));\n}\n</code></pre>\n<h4>Output</h4>\n<pre><code>123\n44\n18\n</code></pre>\n<p>Here is a link to test the code with the expected output:</p>\n<p><a href=\"https://www.jdoodle.com/iembed/v0/rRS\" rel=\"nofollow noreferrer\">https://www.jdoodle.com/iembed/v0/rRS</a></p>\n"},{"tags":[],"owner":{"account_id":4688171,"reputation":11056,"user_id":3795036,"accept_rate":88,"display_name":"K.Nicholas"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1654354719,"creation_date":1654354719,"answer_id":72500767,"question_id":72500420,"body_markdown":"You maniacs. Just to me snarky you can convert any function to a stream. Map/Reduce is a common pattern:\r\n\r\n    int s = Stream.of(&quot;abc123xyz&quot;).mapToInt(str-&gt;{\r\n        int sum = 0;\r\n\r\n        java.util.regex.Matcher matcher = java.util.regex.Pattern.compile(&quot;[0-9]+&quot;).matcher(str);\r\n        while (matcher.find()) {\r\n            sum += Integer.parseInt(matcher.group());\r\n        }\r\n\r\n        return sum;\r\n    }).sum();\r\n    System.out.println(s);\r\n","title":"Codingbat challenge: sumNumbers Stream API Solution","body":"<p>You maniacs. Just to me snarky you can convert any function to a stream. Map/Reduce is a common pattern:</p>\n<pre><code>int s = Stream.of(&quot;abc123xyz&quot;).mapToInt(str-&gt;{\n    int sum = 0;\n\n    java.util.regex.Matcher matcher = java.util.regex.Pattern.compile(&quot;[0-9]+&quot;).matcher(str);\n    while (matcher.find()) {\n        sum += Integer.parseInt(matcher.group());\n    }\n\n    return sum;\n}).sum();\nSystem.out.println(s);\n</code></pre>\n"}],"owner":{"account_id":22312572,"reputation":140,"user_id":16561343,"display_name":"Evgeniy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":209,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":72500756,"answer_count":4,"score":0,"last_activity_date":1693143145,"creation_date":1654351821,"question_id":72500420,"body_markdown":"Given the task [*sumNumbers*][1] from *CodingBat*:\r\n\r\n&gt; Given a **string**, return the **sum** of the numbers appearing in the string,\r\n&gt; ignoring all other characters. A number is a series of `1` or more digit\r\n&gt; chars in a row. \r\n&gt; \r\n&gt; (Note: `Character.isDigit(char)` tests if `a` char is one\r\n&gt; of the chars `0`, `1`, ..., `9`. `Integer.parseInt(string)` converts `a`\r\n&gt; string to an `int`.)\r\n\r\n```\r\nsumNumbers(&quot;abc123xyz&quot;)  →   123\r\nsumNumbers(&quot;aa11b33&quot;)    →   44\r\nsumNumbers(&quot;7 11&quot;)       →   18\r\n```\r\nMy solution to this problem is the following:\r\n\r\n    public int sumNumbers(String str) {\r\n      int sum = 0;\r\n      \r\n      java.util.regex.Matcher matcher = java.util.regex.Pattern.compile(&quot;[0-9]+&quot;).matcher(str);\r\n        while (matcher.find()) {\r\n            sum += Integer.parseInt(matcher.group());\r\n        }\r\n        \r\n      return sum;\r\n    }\r\n\r\nIs it possible to solve this problem using ***Stream API*** ?\r\n\r\n  [1]: https://codingbat.com/prob/p121193\r\n","title":"Codingbat challenge: sumNumbers Stream API Solution","body":"<p>Given the task <a href=\"https://codingbat.com/prob/p121193\" rel=\"nofollow noreferrer\"><em>sumNumbers</em></a> from <em>CodingBat</em>:</p>\n<blockquote>\n<p>Given a <strong>string</strong>, return the <strong>sum</strong> of the numbers appearing in the string,\nignoring all other characters. A number is a series of <code>1</code> or more digit\nchars in a row.</p>\n<p>(Note: <code>Character.isDigit(char)</code> tests if <code>a</code> char is one\nof the chars <code>0</code>, <code>1</code>, ..., <code>9</code>. <code>Integer.parseInt(string)</code> converts <code>a</code>\nstring to an <code>int</code>.)</p>\n</blockquote>\n<pre><code>sumNumbers(&quot;abc123xyz&quot;)  →   123\nsumNumbers(&quot;aa11b33&quot;)    →   44\nsumNumbers(&quot;7 11&quot;)       →   18\n</code></pre>\n<p>My solution to this problem is the following:</p>\n<pre><code>public int sumNumbers(String str) {\n  int sum = 0;\n  \n  java.util.regex.Matcher matcher = java.util.regex.Pattern.compile(&quot;[0-9]+&quot;).matcher(str);\n    while (matcher.find()) {\n        sum += Integer.parseInt(matcher.group());\n    }\n    \n  return sum;\n}\n</code></pre>\n<p>Is it possible to solve this problem using <em><strong>Stream API</strong></em> ?</p>\n"},{"tags":["java","sql","string-parsing"],"answers":[{"comments":[{"owner":{"account_id":1410365,"reputation":135,"user_id":1337096,"accept_rate":38,"display_name":"M.Hussaini"},"score":0,"creation_date":1336128155,"post_id":10447146,"comment_id":13487988,"body_markdown":"Thanks, is there no other way i can do it without connecting to the DB?","body":"Thanks, is there no other way i can do it without connecting to the DB?"},{"owner":{"account_id":1405229,"reputation":8733,"user_id":1333133,"accept_rate":51,"display_name":"Satya"},"score":0,"creation_date":1336128229,"post_id":10447146,"comment_id":13488011,"body_markdown":"you need to parse the queryString , split on ,","body":"you need to parse the queryString , split on ,"},{"owner":{"account_id":1410365,"reputation":135,"user_id":1337096,"accept_rate":38,"display_name":"M.Hussaini"},"score":0,"creation_date":1336128905,"post_id":10447146,"comment_id":13488242,"body_markdown":"Ok, I am new to these. Can you please give me a regex format for my case. Thanks","body":"Ok, I am new to these. Can you please give me a regex format for my case. Thanks"}],"tags":[],"owner":{"account_id":1405229,"reputation":8733,"user_id":1333133,"accept_rate":51,"display_name":"Satya"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1336127657,"creation_date":1336127657,"answer_id":10447146,"question_id":10447095,"body_markdown":"have you tried \r\n\r\n    ResultSetMetaData rsmd = rs.getMetaData();\r\n    String name = rsmd.getColumnName(1);","title":"How to extract column names from SQL Query as String SQL query is passed as a String","body":"<p>have you tried </p>\n\n<pre><code>ResultSetMetaData rsmd = rs.getMetaData();\nString name = rsmd.getColumnName(1);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1101381,"reputation":2436,"user_id":1093710,"accept_rate":95,"display_name":"Sridhar"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1336136633,"creation_date":1336136633,"answer_id":10449380,"question_id":10447095,"body_markdown":"Though somewhat convoluted this works for both the queries listed in the question :\r\n\r\n    String query = &quot;Select uname AS name, hgt AS height, wgt AS weight from table1&quot;;\r\n    Pattern p = Pattern.compile(&quot;\\\\s*\\\\w+,&quot;);Pattern p1 = Pattern.compile(&quot;\\\\s+\\\\w+\\\\s+from&quot;);\r\n    Matcher m = p.matcher(query);Matcher m1=p1.matcher(query);\r\n    String colsOnly=&quot;&quot;;\r\n    while(m.find()){colsOnly+=(m.group().trim());}\r\n    while(m1.find()){colsOnly+=(m1.group().substring(0,m1.group().length()-4).trim());}\r\n    String[] cols = colsOnly.split(&quot;,&quot;);","title":"How to extract column names from SQL Query as String SQL query is passed as a String","body":"<p>Though somewhat convoluted this works for both the queries listed in the question :</p>\n\n<pre><code>String query = \"Select uname AS name, hgt AS height, wgt AS weight from table1\";\nPattern p = Pattern.compile(\"\\\\s*\\\\w+,\");Pattern p1 = Pattern.compile(\"\\\\s+\\\\w+\\\\s+from\");\nMatcher m = p.matcher(query);Matcher m1=p1.matcher(query);\nString colsOnly=\"\";\nwhile(m.find()){colsOnly+=(m.group().trim());}\nwhile(m1.find()){colsOnly+=(m1.group().substring(0,m1.group().length()-4).trim());}\nString[] cols = colsOnly.split(\",\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3999539,"reputation":1,"user_id":3295923,"display_name":"user3295923"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1392101419,"creation_date":1392100214,"answer_id":21694748,"question_id":10447095,"body_markdown":"        String str = &quot;select dept,empid as eid , ename as name,deptname,deptid as department_id from emp&quot;;\r\n\r\n\t\tString[] arr = str.split(&quot;as&quot;);\r\n\t\tStringTokenizer str1 = new StringTokenizer(str, &quot; ,&quot;);\r\n\t\tArrayList&lt;String&gt; arrStr = new ArrayList&lt;&gt;();\r\n\t\twhile (str1.hasMoreTokens())\r\n\t\t{\r\n\t\t\tString strT = str1.nextToken().toString();\t\t\t\r\n\t\t\tarrStr.add(strT);\r\n\t\t}\t\t\r\n\t\tfor (int i = 0; i &lt; arrStr.size(); i++)\r\n\t\t{\r\n\t\t\tif (arrStr.get(i).equals(&quot;as&quot;))\r\n\t\t\t{\r\n\t\t\t\tSystem.out.println(&quot;Orignal\\t&quot; + arrStr.get(i - 1));\r\n\t\t\t\tSystem.out.println(&quot;Alias\\t&quot; + arrStr.get(i + 1));\r\n\t\t\t}\r\n\t\t}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nOutput\r\n\r\nOrignal\tempid\r\n\r\nAlias\teid\r\n\r\nOrignal\tename\r\n\r\nAlias\tname\r\n\r\nOrignal\tdeptid\r\n\r\nAlias\tdepartment_id","title":"How to extract column names from SQL Query as String SQL query is passed as a String","body":"<pre><code>    String str = \"select dept,empid as eid , ename as name,deptname,deptid as department_id from emp\";\n\n    String[] arr = str.split(\"as\");\n    StringTokenizer str1 = new StringTokenizer(str, \" ,\");\n    ArrayList&lt;String&gt; arrStr = new ArrayList&lt;&gt;();\n    while (str1.hasMoreTokens())\n    {\n        String strT = str1.nextToken().toString();          \n        arrStr.add(strT);\n    }       \n    for (int i = 0; i &lt; arrStr.size(); i++)\n    {\n        if (arrStr.get(i).equals(\"as\"))\n        {\n            System.out.println(\"Orignal\\t\" + arrStr.get(i - 1));\n            System.out.println(\"Alias\\t\" + arrStr.get(i + 1));\n        }\n    }\n</code></pre>\n\n<p>Output</p>\n\n<p>Orignal empid</p>\n\n<p>Alias   eid</p>\n\n<p>Orignal ename</p>\n\n<p>Alias   name</p>\n\n<p>Orignal deptid</p>\n\n<p>Alias   department_id</p>\n"},{"tags":[],"owner":{"account_id":8742544,"reputation":33,"user_id":6539123,"display_name":"singla_02"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692962481,"creation_date":1692954825,"answer_id":76975816,"question_id":10447095,"body_markdown":"Use [JSqlParser][1]\r\n\r\n****Features****\r\n- query validation\r\n- support SQL standard as well as all major RDBMS\r\n- translates SQL statements into a traversable hierarchy of Java classes\r\n\r\n****Maven dependency****\r\n```\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;com.github.jsqlparser&lt;/groupId&gt;\r\n  &lt;artifactId&gt;jsqlparser&lt;/artifactId&gt;\r\n  &lt;version&gt;4.5&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n**Implementation**\r\n```\r\npublic class SqlParser {\r\n\r\n  private static Statement parseQuery(String query) throws JSQLParserException {\r\n    return CCJSqlParserUtil.parse(query);\r\n  }\r\n\r\n  private static Select parseSelectQuery(String query) throws JSQLParserException {\r\n    return (Select) parseQuery(query);\r\n  }\r\n\r\n  private static List&lt;String&gt; extractColumnNames(Select selectQuery) {\r\n    SelectStatementColumnVisitor visitor = new SelectStatementColumnVisitor();\r\n    for (SelectItem selectItem : ((PlainSelect) selectQuery.getSelectBody()).getSelectItems()) {\r\n      selectItem.accept(visitor);\r\n    }\r\n\r\n    return visitor.columnNames();\r\n  }\r\n\r\n  public static void main(String[] args) throws JSQLParserException {\r\n    Select selectStatement = parseSelectQuery(&quot;SELECT uname AS name, hgt AS height, wgt AS weight from table1&quot;);\r\n    List&lt;String&gt; columns = extractColumnNames(selectStatement);\r\n    System.out.println(columns);\r\n  }\r\n}\r\n```\r\n```\r\nclass SelectStatementColumnVisitor implements SelectItemVisitor {\r\n\r\n    private final List&lt;String&gt; columnNames = new ArrayList&lt;&gt;();\r\n\r\n    public List&lt;String&gt; columnNames() {\r\n        return this.columnNames;\r\n    }\r\n\r\n    @Override\r\n    public void visit(SelectExpressionItem item) {\r\n        if (item.getAlias() != null) {\r\n            columnNames.add(item.getAlias().getName());\r\n            return;\r\n        }\r\n\r\n        columnNames.add(item.getExpression().toString());\r\n    }\r\n\r\n    @Override\r\n    public void visit(AllColumns columns) {\r\n        columnNames.add(columns.toString());\r\n    }\r\n\r\n    @Override\r\n    public void visit(AllTableColumns columns) {\r\n        columnNames.add(columns.toString());\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://github.com/JSQLParser/JSqlParser","title":"How to extract column names from SQL Query as String SQL query is passed as a String","body":"<p>Use <a href=\"https://github.com/JSQLParser/JSqlParser\" rel=\"nofollow noreferrer\">JSqlParser</a></p>\n<p><strong><strong>Features</strong></strong></p>\n<ul>\n<li>query validation</li>\n<li>support SQL standard as well as all major RDBMS</li>\n<li>translates SQL statements into a traversable hierarchy of Java classes</li>\n</ul>\n<p><strong><strong>Maven dependency</strong></strong></p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.github.jsqlparser&lt;/groupId&gt;\n  &lt;artifactId&gt;jsqlparser&lt;/artifactId&gt;\n  &lt;version&gt;4.5&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><strong>Implementation</strong></p>\n<pre><code>public class SqlParser {\n\n  private static Statement parseQuery(String query) throws JSQLParserException {\n    return CCJSqlParserUtil.parse(query);\n  }\n\n  private static Select parseSelectQuery(String query) throws JSQLParserException {\n    return (Select) parseQuery(query);\n  }\n\n  private static List&lt;String&gt; extractColumnNames(Select selectQuery) {\n    SelectStatementColumnVisitor visitor = new SelectStatementColumnVisitor();\n    for (SelectItem selectItem : ((PlainSelect) selectQuery.getSelectBody()).getSelectItems()) {\n      selectItem.accept(visitor);\n    }\n\n    return visitor.columnNames();\n  }\n\n  public static void main(String[] args) throws JSQLParserException {\n    Select selectStatement = parseSelectQuery(&quot;SELECT uname AS name, hgt AS height, wgt AS weight from table1&quot;);\n    List&lt;String&gt; columns = extractColumnNames(selectStatement);\n    System.out.println(columns);\n  }\n}\n</code></pre>\n<pre><code>class SelectStatementColumnVisitor implements SelectItemVisitor {\n\n    private final List&lt;String&gt; columnNames = new ArrayList&lt;&gt;();\n\n    public List&lt;String&gt; columnNames() {\n        return this.columnNames;\n    }\n\n    @Override\n    public void visit(SelectExpressionItem item) {\n        if (item.getAlias() != null) {\n            columnNames.add(item.getAlias().getName());\n            return;\n        }\n\n        columnNames.add(item.getExpression().toString());\n    }\n\n    @Override\n    public void visit(AllColumns columns) {\n        columnNames.add(columns.toString());\n    }\n\n    @Override\n    public void visit(AllTableColumns columns) {\n        columnNames.add(columns.toString());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1410365,"reputation":135,"user_id":1337096,"accept_rate":38,"display_name":"M.Hussaini"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2475,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1693143103,"creation_date":1336127455,"question_id":10447095,"body_markdown":"An SQL Query will be passed to my Method as a String, How can i retrieve the Column names in the query, if the query is e.g. \r\n\r\n    Select name, dob, age, gender from table1; or \r\n    Select uname AS name, hgt AS height, wgt AS weight from table1;\r\n\r\nI want to get the Column names in an Array or List.\r\n","title":"How to extract column names from SQL Query as String SQL query is passed as a String","body":"<p>An SQL Query will be passed to my Method as a String, How can i retrieve the Column names in the query, if the query is e.g. </p>\n\n<pre><code>Select name, dob, age, gender from table1; or \nSelect uname AS name, hgt AS height, wgt AS weight from table1;\n</code></pre>\n\n<p>I want to get the Column names in an Array or List.</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":4739783,"reputation":612633,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":1,"creation_date":1647363994,"post_id":71486184,"comment_id":126350585,"body_markdown":"What does `[_\\\\w\\\\d&amp;&amp;^(bahmanBAHMAN)]` mean in this pattern? Why not use `\\\\w` instead?","body":"What does <code>[_\\\\w\\\\d&amp;&amp;^(bahmanBAHMAN)]</code> mean in this pattern? Why not use <code>\\\\w</code> instead?"},{"owner":{"account_id":23400686,"reputation":48,"user_id":17463895,"display_name":"Mohammad PiMj"},"score":0,"creation_date":1647364143,"post_id":71486184,"comment_id":126350637,"body_markdown":"The letters in the username shouldn&#39;t be &quot;bahman&quot; or &quot;BAHMAN&quot; It&#39;s a regex university homework by the way so that&#39;s why","body":"The letters in the username shouldn&#39;t be &quot;bahman&quot; or &quot;BAHMAN&quot; It&#39;s a regex university homework by the way so that&#39;s why"}],"answers":[{"tags":[],"owner":{"account_id":4739783,"reputation":612633,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647366841,"creation_date":1647364384,"answer_id":71486338,"question_id":71486184,"body_markdown":"The regex needs to be fixed where you tried to use character class subtraction:\r\n```none\r\nnewTask[\\{] taskId\\&quot;(?&lt;id&gt;\\d{1,4})\\&quot;, username\\&quot;[a-zA-Z][a-zA-Z&amp;&amp;[^bahmnBAHMN]]{6,15}\\d\\&quot;, isValid\\&quot;(?&lt;isitthough&gt;no|yes)\\&quot;, name\\&quot;[\\w\\s]*\\&quot;, address\\&quot;(?&lt;address&gt;[\\w\\s]+-\\d{8,10})\\&quot;, date\\&quot;(?&lt;date&gt;\\d{8})\\&quot;, info\\&quot;(?&lt;info&gt;[^\\&quot;]*)\\&quot;, price\\&quot;(?&lt;price&gt;\\d+\\.?\\d*)\\&quot;\r\n```\r\nSee the [regex demo][1].\r\n\r\nThe `\\w([_\\w\\d&amp;&amp;^(bahmanBAHMAN)]){6,15}\\d\\&quot;` is replaced with `(?!(?i:bahman\\&quot;))\\w{7,16}\\d\\&quot;`. Here is why:\r\n\r\n - `\\w([_\\w\\d&amp;&amp;^(bahmanBAHMAN)]){6,15}\\d` - matches a word char (with `\\w`), then 6-15 occurrences a `b`, `a`, `h`, `m`, `n`, `B`, `A`, `H`, `M`, `N` char, and then a digit. This happens because what you used is a [character class intersection][2], and the `[_\\w\\d&amp;&amp;^(bahmanBAHMAN)]` pattern matches only those chars that are present both in the `[_\\w\\d]` and `[^(bahmanBAHMAN)]` charsets.\r\n - The `[a-zA-Z][a-zA-Z&amp;&amp;[^bahmnBAHMN]]{6,15}\\d` pattern matches a single ASCII letter, then 6 to 15 ASCII letters other than `b`, `a`, `h`, `m` and `n` (case insensitive) and then a digit.\r\n\r\nIn Java:\r\n```java\r\nString newtask = &quot;newTask\\\\{ taskId\\&quot;(?&lt;id&gt;\\\\d{1,4})\\&quot;, username\\&quot;[a-zA-Z][a-zA-Z&amp;&amp;[^bahmnBAHMN]]{6,15}\\\\d\\&quot;, isValid\\&quot;(?&lt;isitthough&gt;no|yes)\\&quot;, name\\&quot;[\\\\w\\\\s]*\\&quot;, address\\&quot;(?&lt;address&gt;[\\\\w\\\\s]+-\\\\d{8,10})\\&quot;, date\\&quot;(?&lt;date&gt;\\\\d{8})\\&quot;, info\\&quot;(?&lt;info&gt;[^\\&quot;]*)\\&quot;, price\\&quot;(?&lt;price&gt;\\\\d+\\\\.?\\\\d*)\\&quot;&quot;;\r\n```\r\n\r\n  [1]: https://regex101.com/r/gNtah9/1\r\n  [2]: https://www.regular-expressions.info/charclassintersect.html","title":"Regex isn&#39;t being matched","body":"<p>The regex needs to be fixed where you tried to use character class subtraction:</p>\n<pre class=\"lang-none prettyprint-override\"><code>newTask[\\{] taskId\\&quot;(?&lt;id&gt;\\d{1,4})\\&quot;, username\\&quot;[a-zA-Z][a-zA-Z&amp;&amp;[^bahmnBAHMN]]{6,15}\\d\\&quot;, isValid\\&quot;(?&lt;isitthough&gt;no|yes)\\&quot;, name\\&quot;[\\w\\s]*\\&quot;, address\\&quot;(?&lt;address&gt;[\\w\\s]+-\\d{8,10})\\&quot;, date\\&quot;(?&lt;date&gt;\\d{8})\\&quot;, info\\&quot;(?&lt;info&gt;[^\\&quot;]*)\\&quot;, price\\&quot;(?&lt;price&gt;\\d+\\.?\\d*)\\&quot;\n</code></pre>\n<p>See the <a href=\"https://regex101.com/r/gNtah9/1\" rel=\"nofollow noreferrer\">regex demo</a>.</p>\n<p>The <code>\\w([_\\w\\d&amp;&amp;^(bahmanBAHMAN)]){6,15}\\d\\&quot;</code> is replaced with <code>(?!(?i:bahman\\&quot;))\\w{7,16}\\d\\&quot;</code>. Here is why:</p>\n<ul>\n<li><code>\\w([_\\w\\d&amp;&amp;^(bahmanBAHMAN)]){6,15}\\d</code> - matches a word char (with <code>\\w</code>), then 6-15 occurrences a <code>b</code>, <code>a</code>, <code>h</code>, <code>m</code>, <code>n</code>, <code>B</code>, <code>A</code>, <code>H</code>, <code>M</code>, <code>N</code> char, and then a digit. This happens because what you used is a <a href=\"https://www.regular-expressions.info/charclassintersect.html\" rel=\"nofollow noreferrer\">character class intersection</a>, and the <code>[_\\w\\d&amp;&amp;^(bahmanBAHMAN)]</code> pattern matches only those chars that are present both in the <code>[_\\w\\d]</code> and <code>[^(bahmanBAHMAN)]</code> charsets.</li>\n<li>The <code>[a-zA-Z][a-zA-Z&amp;&amp;[^bahmnBAHMN]]{6,15}\\d</code> pattern matches a single ASCII letter, then 6 to 15 ASCII letters other than <code>b</code>, <code>a</code>, <code>h</code>, <code>m</code> and <code>n</code> (case insensitive) and then a digit.</li>\n</ul>\n<p>In Java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String newtask = &quot;newTask\\\\{ taskId\\&quot;(?&lt;id&gt;\\\\d{1,4})\\&quot;, username\\&quot;[a-zA-Z][a-zA-Z&amp;&amp;[^bahmnBAHMN]]{6,15}\\\\d\\&quot;, isValid\\&quot;(?&lt;isitthough&gt;no|yes)\\&quot;, name\\&quot;[\\\\w\\\\s]*\\&quot;, address\\&quot;(?&lt;address&gt;[\\\\w\\\\s]+-\\\\d{8,10})\\&quot;, date\\&quot;(?&lt;date&gt;\\\\d{8})\\&quot;, info\\&quot;(?&lt;info&gt;[^\\&quot;]*)\\&quot;, price\\&quot;(?&lt;price&gt;\\\\d+\\\\.?\\\\d*)\\&quot;&quot;;\n</code></pre>\n"}],"owner":{"account_id":23400686,"reputation":48,"user_id":17463895,"display_name":"Mohammad PiMj"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71486338,"answer_count":1,"score":1,"last_activity_date":1693142961,"creation_date":1647363648,"question_id":71486184,"body_markdown":"This is the code:\r\n```\r\nString newtask = &quot;newTask[\\\\{] taskId\\&quot;(?&lt;id&gt;\\\\d{1,4})\\&quot;, username\\&quot;\\\\w([_\\\\w\\\\d&amp;&amp;^(bahmanBAHMAN)]){6,15}\\\\d\\&quot;, isValid\\&quot;(?&lt;isitthough&gt;(no|yes))\\&quot;, name\\&quot;[\\\\w\\\\s]*\\&quot;, address\\&quot;(?&lt;address&gt;[\\\\w\\\\s]+[-]\\\\d{8,10})\\&quot;, date\\&quot;(?&lt;date&gt;\\\\d{8})\\&quot;, info\\&quot;(?&lt;info&gt;[^\\&quot;]*)\\&quot;, price\\&quot;(?&lt;price&gt;\\\\d+\\\\.{0,1}\\\\d*)\\&quot; &quot;; String changeaddress = &quot;changePlace[\\\\{] taskId\\&quot;(?&lt;idtobechanged&gt;\\\\d{1,4})\\&quot;, newAddress\\&quot;(?&lt;theaddress&gt;[\\\\w\\\\s]+[-]\\\\d{8,10})\\&quot; &quot;;\r\nPattern addingpat = Pattern.compile(newtask);\r\nString command=scanner.nextLine();\r\nMatcher addingmat = addingpat.matcher(command);\r\nif (addingmat.find())\r\nSystem.out.println(&quot;it has matched&quot;);\r\n```\r\nAnd what the user will type in terminal:\r\n```\r\nnewTask{ taskId&quot;1&quot;, username&quot;AyesItsGoood4&quot;, isValid&quot;yes&quot;, name&quot;reza&quot;, address&quot;LeninGrad-12345678&quot;, date&quot;19410908&quot;, info&quot;do the task&quot;, price&quot;1.57&quot; \r\n```\r\nIt isn&#39;t printing anything.\r\nI would be really thankful if somone pointed out the problem of this code.\r\nThanks for reading.","title":"Regex isn&#39;t being matched","body":"<p>This is the code:</p>\n<pre><code>String newtask = &quot;newTask[\\\\{] taskId\\&quot;(?&lt;id&gt;\\\\d{1,4})\\&quot;, username\\&quot;\\\\w([_\\\\w\\\\d&amp;&amp;^(bahmanBAHMAN)]){6,15}\\\\d\\&quot;, isValid\\&quot;(?&lt;isitthough&gt;(no|yes))\\&quot;, name\\&quot;[\\\\w\\\\s]*\\&quot;, address\\&quot;(?&lt;address&gt;[\\\\w\\\\s]+[-]\\\\d{8,10})\\&quot;, date\\&quot;(?&lt;date&gt;\\\\d{8})\\&quot;, info\\&quot;(?&lt;info&gt;[^\\&quot;]*)\\&quot;, price\\&quot;(?&lt;price&gt;\\\\d+\\\\.{0,1}\\\\d*)\\&quot; &quot;; String changeaddress = &quot;changePlace[\\\\{] taskId\\&quot;(?&lt;idtobechanged&gt;\\\\d{1,4})\\&quot;, newAddress\\&quot;(?&lt;theaddress&gt;[\\\\w\\\\s]+[-]\\\\d{8,10})\\&quot; &quot;;\nPattern addingpat = Pattern.compile(newtask);\nString command=scanner.nextLine();\nMatcher addingmat = addingpat.matcher(command);\nif (addingmat.find())\nSystem.out.println(&quot;it has matched&quot;);\n</code></pre>\n<p>And what the user will type in terminal:</p>\n<pre><code>newTask{ taskId&quot;1&quot;, username&quot;AyesItsGoood4&quot;, isValid&quot;yes&quot;, name&quot;reza&quot;, address&quot;LeninGrad-12345678&quot;, date&quot;19410908&quot;, info&quot;do the task&quot;, price&quot;1.57&quot; \n</code></pre>\n<p>It isn't printing anything.\nI would be really thankful if somone pointed out the problem of this code.\nThanks for reading.</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":2094057,"reputation":506144,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1621477503,"post_id":67613106,"comment_id":119509746,"body_markdown":"What is the _exact_ output you expect here?","body":"What is the <i>exact</i> output you expect here?"},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1621477516,"post_id":67613106,"comment_id":119509750,"body_markdown":"First, remove the `r&#39;` and `&#39;` from the regex, since they are not part of the regex. They are characters used by other languages to delimit regex expressions. In Java, regex expressions are String literals. --- Second, since your data is not double-quoted, remove the `&quot;` from the regex. --- Third, the question is all about the `|` separator, but the regex doesn&#39;t check for `|` at all. How would that ever work? --- In short, your regex is way off the mark for what you claim you want. Step back, and re-think what you&#39;re doing.","body":"First, remove the <code>r&#39;</code> and <code>&#39;</code> from the regex, since they are not part of the regex. They are characters used by other languages to delimit regex expressions. In Java, regex expressions are String literals. --- Second, since your data is not double-quoted, remove the <code>&quot;</code> from the regex. --- Third, the question is all about the <code>|</code> separator, but the regex doesn&#39;t check for <code>|</code> at all. How would that ever work? --- In short, your regex is way off the mark for what you claim you want. Step back, and re-think what you&#39;re doing."},{"owner":{"account_id":8539054,"reputation":1396,"user_id":6399762,"display_name":"Andy A."},"score":0,"creation_date":1621493077,"post_id":67613106,"comment_id":119513300,"body_markdown":"Please check https://regex101.com . There you can verify regex patterns.","body":"Please check <a href=\"https://regex101.com\" rel=\"nofollow noreferrer\">regex101.com</a> . There you can verify regex patterns."}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1621478476,"creation_date":1621478476,"answer_id":67613247,"question_id":67613106,"body_markdown":"You might try it like this rather than using a pure regex solution\r\n- stream the lines of the file\r\n- filter for lines starting with `D|`\r\n- split filtered lines starting at index 2\r\n- create new array of just first two values\r\n- and collect in a `List&lt;String[]&gt;`\r\n\r\n```\r\nList&lt;String[]&gt; list = Files.lines(Path.of(&quot;Myfile.txt&quot;))\r\n.filter(str-&gt;str.startsWith(&quot;D|&quot;))\r\n.map(str-&gt;str.substring(2).split(&quot;\\\\|&quot;,3))\r\n.map(arr-&gt;new String[]{arr[0],arr[1]})\r\n.collect(Collectors.toList());\r\n\r\n} catch (IOException ioe) {\r\n\tioe.printStackTrace();\r\n}","title":"using Regex pattern match for pipe delimited string","body":"<p>You might try it like this rather than using a pure regex solution</p>\n<ul>\n<li>stream the lines of the file</li>\n<li>filter for lines starting with <code>D|</code></li>\n<li>split filtered lines starting at index 2</li>\n<li>create new array of just first two values</li>\n<li>and collect in a <code>List&lt;String[]&gt;</code></li>\n</ul>\n<pre><code>List&lt;String[]&gt; list = Files.lines(Path.of(&quot;Myfile.txt&quot;))\n.filter(str-&gt;str.startsWith(&quot;D|&quot;))\n.map(str-&gt;str.substring(2).split(&quot;\\\\|&quot;,3))\n.map(arr-&gt;new String[]{arr[0],arr[1]})\n.collect(Collectors.toList());\n\n} catch (IOException ioe) {\n    ioe.printStackTrace();\n}\n</code></pre>\n"}],"owner":{"account_id":21657453,"reputation":1,"user_id":15977005,"display_name":"Rupali"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":320,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1693142906,"creation_date":1621477265,"question_id":67613106,"body_markdown":"I am  trying to do pattern match on pipe delimited string in java . But not sure what&#39;s going wrong. Need help from experts.\r\n\r\n```none\r\nA|Bill Access Key|CBEBALCOM|\r\nD|215325775|20210507|9|BALCOM SYSTEMS LTD|||\r\nI|1|Back of Duplex Page|\r\n```\r\n\r\nI have file with records as above and I want to find record starting with &#39;D&#39; and get the next pipe delimited values. And store those in some POJO object.\r\n\r\nSo tried to first read values by applying pattern but unable to find match.\r\n\r\n    String pattern = &quot;r&#39;D((?:\\&quot;(.*?)\\&quot;))&#39;&quot;;\r\n    \r\n    Pattern r = Pattern.compile(pattern); Matcher m = r.matcher(line); \r\n    if (m.find( )) { \r\n        System.out.println(&quot;value1&quot; + m.group(0) ); \r\n        System.out.println(&quot;value2&quot; + m.group(1) ); \r\n    } else {\r\n        System.out.println(&quot;No Match&quot;); \r\n    } ","title":"using Regex pattern match for pipe delimited string","body":"<p>I am  trying to do pattern match on pipe delimited string in java . But not sure what's going wrong. Need help from experts.</p>\n<pre class=\"lang-none prettyprint-override\"><code>A|Bill Access Key|CBEBALCOM|\nD|215325775|20210507|9|BALCOM SYSTEMS LTD|||\nI|1|Back of Duplex Page|\n</code></pre>\n<p>I have file with records as above and I want to find record starting with 'D' and get the next pipe delimited values. And store those in some POJO object.</p>\n<p>So tried to first read values by applying pattern but unable to find match.</p>\n<pre><code>String pattern = &quot;r'D((?:\\&quot;(.*?)\\&quot;))'&quot;;\n\nPattern r = Pattern.compile(pattern); Matcher m = r.matcher(line); \nif (m.find( )) { \n    System.out.println(&quot;value1&quot; + m.group(0) ); \n    System.out.println(&quot;value2&quot; + m.group(1) ); \n} else {\n    System.out.println(&quot;No Match&quot;); \n} \n</code></pre>\n"},{"tags":["java","regex","for-loop"],"comments":[{"owner":{"account_id":7547305,"reputation":774,"user_id":5729872,"display_name":"Adam Burke"},"score":0,"creation_date":1608180137,"post_id":65334621,"comment_id":115505765,"body_markdown":"There is a useful reference for regular expression (&quot;regex&quot;) support in the Java API documentation https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/regex/Pattern.html","body":"There is a useful reference for regular expression (&quot;regex&quot;) support in the Java API documentation <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/regex/Pattern.html\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/11/docs/api/java.base/java/ut&zwnj;&#8203;il/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"display_name":"user14612876"},"score":0,"creation_date":1608242535,"post_id":65334649,"comment_id":115531479,"body_markdown":"This works splendidly! Thank you so much! Also, is it possible to get the position of the second number found, such as with an index? In the strings I am testing it with, each is set up in this format: &quot;1-36 g: guacamole&quot;, so I was wondering if there was a way to find the letter after the two integers, and the full string after the &#39;:&#39; sign. Is that possible, or only numbers?","body":"This works splendidly! Thank you so much! Also, is it possible to get the position of the second number found, such as with an index? In the strings I am testing it with, each is set up in this format: &quot;1-36 g: guacamole&quot;, so I was wondering if there was a way to find the letter after the two integers, and the full string after the &#39;:&#39; sign. Is that possible, or only numbers?"},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1608248672,"post_id":65334649,"comment_id":115533178,"body_markdown":"@Bubbly it is possible. Regex is a very powerful tool. You can get the index with `start` and `end` methods of the matches. If you want to find other letters, that’s another question.","body":"@Bubbly it is possible. Regex is a very powerful tool. You can get the index with <code>start</code> and <code>end</code> methods of the matches. If you want to find other letters, that’s another question."}],"tags":[],"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1608178882,"creation_date":1608178496,"answer_id":65334649,"question_id":65334621,"body_markdown":"Calling `group()` finds group **0** (i.e. the whole match), but the number you want is captured in group **1**, so you should do:\r\n\r\n    max = Integer.valueOf(second.group(1));\r\n\r\nYou don&#39;t actually need a second regex to find the second number. Just ask the first matcher to match _again_. It will find the second number:\r\n\r\n    Matcher first = Pattern.compile(&quot;\\\\d+&quot;).matcher(current);\r\n    first.find();\r\n    min = Integer.valueOf(first.group());\r\n\r\n    first.find(); // call find again!\r\n    max = Integer.valueOf(first.group());\r\n\r\nA safer way to do this is to check if the matcher actually found anything before calling `group`:\r\n\r\n    Matcher first = Pattern.compile(&quot;\\\\d+&quot;).matcher(current);\r\n    if (first.find()) {\r\n        min = Integer.valueOf(first.group());\r\n    \r\n\r\n        if (first.find()) { // call find again!\r\n            max = Integer.valueOf(first.group());\r\n        } else {\r\n            // can&#39;t find a second number!\r\n        }\r\n    } else {\r\n        // can&#39;t find any numbers!\r\n    }","title":"Trying to find second integer in string - Not working","body":"<p>Calling <code>group()</code> finds group <strong>0</strong> (i.e. the whole match), but the number you want is captured in group <strong>1</strong>, so you should do:</p>\n<pre><code>max = Integer.valueOf(second.group(1));\n</code></pre>\n<p>You don't actually need a second regex to find the second number. Just ask the first matcher to match <em>again</em>. It will find the second number:</p>\n<pre><code>Matcher first = Pattern.compile(&quot;\\\\d+&quot;).matcher(current);\nfirst.find();\nmin = Integer.valueOf(first.group());\n\nfirst.find(); // call find again!\nmax = Integer.valueOf(first.group());\n</code></pre>\n<p>A safer way to do this is to check if the matcher actually found anything before calling <code>group</code>:</p>\n<pre><code>Matcher first = Pattern.compile(&quot;\\\\d+&quot;).matcher(current);\nif (first.find()) {\n    min = Integer.valueOf(first.group());\n\n\n    if (first.find()) { // call find again!\n        max = Integer.valueOf(first.group());\n    } else {\n        // can't find a second number!\n    }\n} else {\n    // can't find any numbers!\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2094057,"reputation":506144,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1608178715,"creation_date":1608178715,"answer_id":65334674,"question_id":65334621,"body_markdown":"If you want to use a one-liner regex approach, then use `String#replaceAll` with this regex pattern:\r\n\r\n&lt;!-- language: regex --&gt;\r\n\r\n    \\D*\\d+\\D+(\\d+).*\r\n\r\nThis will capture the second number in the input in the first capture group.  Sample script:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    String input = &quot;1 guacamole 36&quot;;\r\n    String secondNum = input.replaceAll(&quot;\\\\D*\\\\d+\\\\D+(\\\\d+).*&quot;, &quot;$1&quot;);\r\n    System.out.println(secondNum);  // prints 36\r\n\r\nNote: Should the input _not_ have at least two separate numbers in it, then the above replacement would actually just return the input.  In this case, if you wanted to report no match, you should first check for a matching pattern using `String#matches`.","title":"Trying to find second integer in string - Not working","body":"<p>If you want to use a one-liner regex approach, then use <code>String#replaceAll</code> with this regex pattern:</p>\n<pre class=\"lang-regex prettyprint-override\"><code>\\D*\\d+\\D+(\\d+).*\n</code></pre>\n<p>This will capture the second number in the input in the first capture group.  Sample script:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String input = &quot;1 guacamole 36&quot;;\nString secondNum = input.replaceAll(&quot;\\\\D*\\\\d+\\\\D+(\\\\d+).*&quot;, &quot;$1&quot;);\nSystem.out.println(secondNum);  // prints 36\n</code></pre>\n<p>Note: Should the input <em>not</em> have at least two separate numbers in it, then the above replacement would actually just return the input.  In this case, if you wanted to report no match, you should first check for a matching pattern using <code>String#matches</code>.</p>\n"},{"tags":[],"owner":{"account_id":1947573,"reputation":6810,"user_id":1752366,"accept_rate":54,"display_name":"silentsudo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1608179601,"creation_date":1608179601,"answer_id":65334774,"question_id":65334621,"body_markdown":"I think you need to keep looking next item as long as string contains it and you want to process. As informed in other answers if you are explictly looking for 2nd number then you either use `regex` or use `second.group(1)`.\r\n\r\nIf you are looking to find the min and maximum number give in a string, here is how i have done:\r\n\r\n```java\r\nString text = &quot;1 guacamole 36 admin test 23 which is equivalent 22&quot;;\r\nPattern pattern = Pattern.compile(&quot;\\\\d+&quot;);\r\nMatcher matcher = pattern.matcher(text);\r\nList&lt;Integer&gt; numbers = new ArrayList&lt;&gt;();\r\nwhile (matcher.find()) {\r\n    numbers.add(Integer.parseInt(matcher.group()));\r\n}\r\nSystem.out.println(numbers);\r\nCollections.sort(numbers);\r\nint min = -1;\r\nint max = -1;\r\nif (!numbers.isEmpty()) {\r\n    int size = numbers.size();\r\n    min = numbers.get(0);\r\n    max = numbers.get(size - 1);\r\n}\r\nSystem.out.println(&quot;Min : &quot; + min);\r\nSystem.out.println(&quot;Max : &quot; + max);\r\n```\r\n\r\nThis should print\r\n```\r\n[1, 36, 23, 22]\r\nMin : 1\r\nMax : 36\r\n```\r\n","title":"Trying to find second integer in string - Not working","body":"<p>I think you need to keep looking next item as long as string contains it and you want to process. As informed in other answers if you are explictly looking for 2nd number then you either use <code>regex</code> or use <code>second.group(1)</code>.</p>\n<p>If you are looking to find the min and maximum number give in a string, here is how i have done:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String text = &quot;1 guacamole 36 admin test 23 which is equivalent 22&quot;;\nPattern pattern = Pattern.compile(&quot;\\\\d+&quot;);\nMatcher matcher = pattern.matcher(text);\nList&lt;Integer&gt; numbers = new ArrayList&lt;&gt;();\nwhile (matcher.find()) {\n    numbers.add(Integer.parseInt(matcher.group()));\n}\nSystem.out.println(numbers);\nCollections.sort(numbers);\nint min = -1;\nint max = -1;\nif (!numbers.isEmpty()) {\n    int size = numbers.size();\n    min = numbers.get(0);\n    max = numbers.get(size - 1);\n}\nSystem.out.println(&quot;Min : &quot; + min);\nSystem.out.println(&quot;Max : &quot; + max);\n</code></pre>\n<p>This should print</p>\n<pre><code>[1, 36, 23, 22]\nMin : 1\nMax : 36\n</code></pre>\n"}],"owner":{"display_name":"user14612876"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":334,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":65334649,"answer_count":3,"score":1,"last_activity_date":1693142901,"creation_date":1608178261,"question_id":65334621,"body_markdown":"I have been trying to find certain integers in a string using regex (I&#39;m not completely sure what it is, could someone refer me something to look at to learn about it?), but have some problems. I&#39;ve got it working to look for the first integer in a string and set that integer value to a variable, but am stuck when looking for the second. This is my code currently:\r\n\r\n    for (int x = 0; x &lt; list.length; x++) {\r\n    \t\t\t\t\t\r\n    \tcurrent = list[x];\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\r\n    \tMatcher first = Pattern.compile(&quot;\\\\d+&quot;).matcher(current);\r\n    \tfirst.find();\r\n    \tmin = Integer.valueOf(first.group());\r\n    \t\t\t\t\t\r\n    \tMatcher second = Pattern.compile(&quot;^\\\\D*\\\\d+\\\\D+(\\\\d+)&quot;).matcher(current);\r\n    \tsecond.find();\r\n    \tmax = Integer.valueOf(second.group());\r\n    \t\t\t\t\t\r\n    \tSystem.out.println(&quot;min: &quot; + min + &quot; max: &quot; + max);\r\n    \t\t\t\t\t\r\n    \t\t\t\t\t\r\n    }\r\n\r\nIn this case, say the string was &quot;1 guacamole 36&quot;, I would want it to set the `min` variable to a value of 1, and the `max` to a variable of 36. How would I do so? All that comes up are errors, I&#39;m assuming from the section with the second matcher.\r\n\r\nPlease let me know if you can help with either inquiry or if I should add more information - thanks in advance!\r\n\r\nP.S. `list` is an array of strings in which I am trying to have, for each string, min and max reset each time to the integers in the strings.","title":"Trying to find second integer in string - Not working","body":"<p>I have been trying to find certain integers in a string using regex (I'm not completely sure what it is, could someone refer me something to look at to learn about it?), but have some problems. I've got it working to look for the first integer in a string and set that integer value to a variable, but am stuck when looking for the second. This is my code currently:</p>\n<pre><code>for (int x = 0; x &lt; list.length; x++) {\n                    \n    current = list[x];\n                                                \n    Matcher first = Pattern.compile(&quot;\\\\d+&quot;).matcher(current);\n    first.find();\n    min = Integer.valueOf(first.group());\n                    \n    Matcher second = Pattern.compile(&quot;^\\\\D*\\\\d+\\\\D+(\\\\d+)&quot;).matcher(current);\n    second.find();\n    max = Integer.valueOf(second.group());\n                    \n    System.out.println(&quot;min: &quot; + min + &quot; max: &quot; + max);\n                    \n                    \n}\n</code></pre>\n<p>In this case, say the string was &quot;1 guacamole 36&quot;, I would want it to set the <code>min</code> variable to a value of 1, and the <code>max</code> to a variable of 36. How would I do so? All that comes up are errors, I'm assuming from the section with the second matcher.</p>\n<p>Please let me know if you can help with either inquiry or if I should add more information - thanks in advance!</p>\n<p>P.S. <code>list</code> is an array of strings in which I am trying to have, for each string, min and max reset each time to the integers in the strings.</p>\n"},{"tags":["java","regex","extract"],"comments":[{"owner":{"account_id":4000458,"reputation":17823,"user_id":3296621,"accept_rate":78,"display_name":"Smutje"},"score":0,"creation_date":1603788498,"post_id":64550698,"comment_id":114139906,"body_markdown":"Not sure what you want to achieve but your code doesn&#39;t even compile. I often wonder why people are struggling with Regex instead of trying to use the simple way (substring) first.","body":"Not sure what you want to achieve but your code doesn&#39;t even compile. I often wonder why people are struggling with Regex instead of trying to use the simple way (substring) first."},{"owner":{"account_id":16311226,"reputation":63,"user_id":11779800,"display_name":"thranduil90"},"score":0,"creation_date":1603788586,"post_id":64550698,"comment_id":114139939,"body_markdown":"I need to select the values from the text log and store them into variables using regex. For instance, the FPS min value, the FPS max value, etc","body":"I need to select the values from the text log and store them into variables using regex. For instance, the FPS min value, the FPS max value, etc"},{"owner":{"account_id":16311226,"reputation":63,"user_id":11779800,"display_name":"thranduil90"},"score":0,"creation_date":1603788674,"post_id":64550698,"comment_id":114139971,"body_markdown":"@Smutje how can I do that using substring? That&#39;s a single log file, but very long","body":"@Smutje how can I do that using substring? That&#39;s a single log file, but very long"},{"owner":{"account_id":4000458,"reputation":17823,"user_id":3296621,"accept_rate":78,"display_name":"Smutje"},"score":0,"creation_date":1603788738,"post_id":64550698,"comment_id":114139998,"body_markdown":"I&#39;d suggest to simplify your example by removing every unnecessary line of code (the file part for example) to narrow down why the regex won&#39;t work. Also, that helps others to help you if they can compile your code on their machines without additional overhead.","body":"I&#39;d suggest to simplify your example by removing every unnecessary line of code (the file part for example) to narrow down why the regex won&#39;t work. Also, that helps others to help you if they can compile your code on their machines without additional overhead."}],"answers":[{"comments":[{"owner":{"account_id":16311226,"reputation":63,"user_id":11779800,"display_name":"thranduil90"},"score":0,"creation_date":1603789036,"post_id":64550917,"comment_id":114140114,"body_markdown":"Can you please show me your code? It is not working for me, and it says I need to modify the matcher to pattern","body":"Can you please show me your code? It is not working for me, and it says I need to modify the matcher to pattern"},{"owner":{"account_id":4000458,"reputation":17823,"user_id":3296621,"accept_rate":78,"display_name":"Smutje"},"score":0,"creation_date":1603789584,"post_id":64550917,"comment_id":114140377,"body_markdown":"@thranduil90 that&#39;s because `Pattern#compile` returns a `Pattern` and not a `Matcher`,","body":"@thranduil90 that&#39;s because <code>Pattern#compile</code> returns a <code>Pattern</code> and not a <code>Matcher</code>,"},{"owner":{"account_id":16311226,"reputation":63,"user_id":11779800,"display_name":"thranduil90"},"score":0,"creation_date":1603790132,"post_id":64550917,"comment_id":114140676,"body_markdown":"That&#39;s perfect, thanks! But how can I store the Min and the Max in different variables?","body":"That&#39;s perfect, thanks! But how can I store the Min and the Max in different variables?"},{"owner":{"account_id":16311226,"reputation":63,"user_id":11779800,"display_name":"thranduil90"},"score":0,"creation_date":1603790378,"post_id":64550917,"comment_id":114140787,"body_markdown":"@Smutje Thanks, I fixed the issue with Pattern and Matcher. Now I just need to sort out how to select Min and Max and assign them to different variables","body":"@Smutje Thanks, I fixed the issue with Pattern and Matcher. Now I just need to sort out how to select Min and Max and assign them to different variables"},{"owner":{"account_id":11330845,"reputation":391,"user_id":8308427,"display_name":"A.Ktns"},"score":0,"creation_date":1603790519,"post_id":64550917,"comment_id":114140854,"body_markdown":"One way could be to use split() function. After getting the result ValMin: 29.000, ValMax: 35.000 using the above code I mentioned, you could do `String[] splitted = result.split(&quot;,&quot;)`  where result is a string to store the result of the above code and on splitted[0] you would have ValMin: 29.000 and on splitted[1] you would have ValMax: 35.000. Then in the same way you could do `String[] minVal = splitted[1].split(&quot;: &quot;)` and on  minVal[1] you will get 29.000. Similarly, do the same for ValMax","body":"One way could be to use split() function. After getting the result ValMin: 29.000, ValMax: 35.000 using the above code I mentioned, you could do <code>String[] splitted = result.split(&quot;,&quot;)</code>  where result is a string to store the result of the above code and on splitted[0] you would have ValMin: 29.000 and on splitted[1] you would have ValMax: 35.000. Then in the same way you could do <code>String[] minVal = splitted[1].split(&quot;: &quot;)</code> and on  minVal[1] you will get 29.000. Similarly, do the same for ValMax"},{"owner":{"account_id":11330845,"reputation":391,"user_id":8308427,"display_name":"A.Ktns"},"score":0,"creation_date":1603790887,"post_id":64550917,"comment_id":114141036,"body_markdown":"I meant `String[] minVal = splitted[0].split(&quot;: &quot;)`","body":"I meant <code>String[] minVal = splitted[0].split(&quot;: &quot;)</code>"},{"owner":{"account_id":16311226,"reputation":63,"user_id":11779800,"display_name":"thranduil90"},"score":0,"creation_date":1603803148,"post_id":64550917,"comment_id":114146978,"body_markdown":"I&#39;ve added the code I wrote, but I can&#39;t make it work. Can you please look at it?","body":"I&#39;ve added the code I wrote, but I can&#39;t make it work. Can you please look at it?"},{"owner":{"account_id":16311226,"reputation":63,"user_id":11779800,"display_name":"thranduil90"},"score":0,"creation_date":1603810213,"post_id":64550917,"comment_id":114150900,"body_markdown":"@A.Ktns the result I&#39;m getting is a java object and not a string Ljava.lang.String;@112ds4","body":"@A.Ktns the result I&#39;m getting is a java object and not a string Ljava.lang.String;@112ds4"},{"owner":{"account_id":11330845,"reputation":391,"user_id":8308427,"display_name":"A.Ktns"},"score":0,"creation_date":1603963184,"post_id":64550917,"comment_id":114203618,"body_markdown":"Sorry for the late answer. If you get an object you can cast it to String with (String) or simply do `myObject.toString()`. Check here: https://stackoverflow.com/questions/31847080/how-to-convert-any-object-to-string","body":"Sorry for the late answer. If you get an object you can cast it to String with (String) or simply do <code>myObject.toString()</code>. Check here: <a href=\"https://stackoverflow.com/questions/31847080/how-to-convert-any-object-to-string\" title=\"how to convert any object to string\">stackoverflow.com/questions/31847080/&hellip;</a>"}],"tags":[],"owner":{"account_id":11330845,"reputation":391,"user_id":8308427,"display_name":"A.Ktns"},"comment_count":9,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1603789826,"creation_date":1603788684,"answer_id":64550917,"question_id":64550698,"body_markdown":"Maybe your pattern should be like this  `^FPS\\\\(FramesPerSecond\\\\)\\\\[ValMin:` . I&#39;ve tried it and it works for me.\r\n\r\n    \tString line = &quot;FPS(FramesPerSecond)[ValMin: 29.0000, ValMax: 35.000]&quot;;\r\n\t\t\r\n\t\tPattern pattern = Pattern.compile(&quot;^FPS\\\\(FramesPerSecond\\\\)\\\\[ValMin:&quot;);\r\n\t\t\r\n\t\tMatcher matcher = pattern.matcher(line);\r\n\t\t\r\n\t\tif (matcher.find()) {\r\n\t\t\t\r\n\t\t\tSystem.out.println(line.substring(matcher.end(), line.length()-1));\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n\r\nIn that way, you get the offset of the line that you want to extract data and using the substring function you can get all characters starting from offset until the size of the line-1 (because you dont want to get also the ] character)","title":"Java regex extract specific values in long log","body":"<p>Maybe your pattern should be like this  <code>^FPS\\\\(FramesPerSecond\\\\)\\\\[ValMin:</code> . I've tried it and it works for me.</p>\n<pre><code>    String line = &quot;FPS(FramesPerSecond)[ValMin: 29.0000, ValMax: 35.000]&quot;;\n    \n    Pattern pattern = Pattern.compile(&quot;^FPS\\\\(FramesPerSecond\\\\)\\\\[ValMin:&quot;);\n    \n    Matcher matcher = pattern.matcher(line);\n    \n    if (matcher.find()) {\n        \n        System.out.println(line.substring(matcher.end(), line.length()-1));\n        \n    }\n}\n</code></pre>\n<p>In that way, you get the offset of the line that you want to extract data and using the substring function you can get all characters starting from offset until the size of the line-1 (because you dont want to get also the ] character)</p>\n"},{"comments":[{"owner":{"account_id":16311226,"reputation":63,"user_id":11779800,"display_name":"thranduil90"},"score":0,"creation_date":1603791122,"post_id":64551467,"comment_id":114141151,"body_markdown":"Thanks! But the dots were just an example, there is much useless text in there. How do I modify the pattern to include only the Frames, TotalFrames and MemoryUsage?","body":"Thanks! But the dots were just an example, there is much useless text in there. How do I modify the pattern to include only the Frames, TotalFrames and MemoryUsage?"},{"owner":{"account_id":24801,"reputation":15286,"user_id":63293,"accept_rate":50,"display_name":"Peter Walser"},"score":0,"creation_date":1603791616,"post_id":64551467,"comment_id":114141374,"body_markdown":"Instead of matching anything before the first square bracket `(.*)`, you then would match only `(FPS\\(FramesPerSecond\\)|TotalFrames|MemoryUsage\\(In MB\\))`.\nOr you use the original pattern, and filter by the first group (if the name is within the set of these three names).","body":"Instead of matching anything before the first square bracket <code>(.*)</code>, you then would match only <code>(FPS\\(FramesPerSecond\\)|TotalFrames|MemoryUsage\\(In MB\\))</code>. Or you use the original pattern, and filter by the first group (if the name is within the set of these three names)."}],"tags":[],"owner":{"account_id":24801,"reputation":15286,"user_id":63293,"accept_rate":50,"display_name":"Peter Walser"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1603790820,"creation_date":1603790820,"answer_id":64551467,"question_id":64550698,"body_markdown":"The following regular expression will match and capture the name, min and max:\r\n\r\n    Pattern.compile(&quot;(.*)\\\\[.+:\\\\s*(\\\\d+(?:\\\\.\\\\d+)?)[A-Z]*,.+:\\\\s*(\\\\d+(?:\\\\.\\\\d+)?)[A-Z]*\\\\]&quot;);\r\n\r\nUsage (extracting the captured groups):\r\n\r\n    String input = (&quot;.........\\n&quot; +\r\n            &quot;FPS(FramesPerSecond)[ValMin: 29.0000, ValMax: 35.000]\\n&quot; +\r\n            &quot;.........\\n&quot; +\r\n            &quot;TotalFrames[ValMin: 100000, ValMax:200000]\\n&quot; +\r\n            &quot;.........\\n&quot; +\r\n            &quot;MemoryUsage(In MB)[ValMin:190000MB, ValMax:360000MB]\\n&quot; +\r\n            &quot;.........&quot;);\r\n\r\n    for (String s : input.split(&quot;\\n&quot;)) {\r\n        Matcher matcher = pattern.matcher(s);\r\n        if (matcher.matches()) {\r\n            System.out.println(matcher.group(1) + &quot;, &quot; + matcher.group(2) + &quot;, &quot; + matcher.group(3));\r\n        }\r\n    }\r\n\r\nOutput:\r\n\r\n&gt; FPS(FramesPerSecond), 29.0000, 35.000 &lt;br&gt;\r\n&gt; TotalFrames, 100000, 200000 &lt;br&gt;\r\n&gt; MemoryUsage(In MB), 190000, 360000","title":"Java regex extract specific values in long log","body":"<p>The following regular expression will match and capture the name, min and max:</p>\n<pre><code>Pattern.compile(&quot;(.*)\\\\[.+:\\\\s*(\\\\d+(?:\\\\.\\\\d+)?)[A-Z]*,.+:\\\\s*(\\\\d+(?:\\\\.\\\\d+)?)[A-Z]*\\\\]&quot;);\n</code></pre>\n<p>Usage (extracting the captured groups):</p>\n<pre><code>String input = (&quot;.........\\n&quot; +\n        &quot;FPS(FramesPerSecond)[ValMin: 29.0000, ValMax: 35.000]\\n&quot; +\n        &quot;.........\\n&quot; +\n        &quot;TotalFrames[ValMin: 100000, ValMax:200000]\\n&quot; +\n        &quot;.........\\n&quot; +\n        &quot;MemoryUsage(In MB)[ValMin:190000MB, ValMax:360000MB]\\n&quot; +\n        &quot;.........&quot;);\n\nfor (String s : input.split(&quot;\\n&quot;)) {\n    Matcher matcher = pattern.matcher(s);\n    if (matcher.matches()) {\n        System.out.println(matcher.group(1) + &quot;, &quot; + matcher.group(2) + &quot;, &quot; + matcher.group(3));\n    }\n}\n</code></pre>\n<p>Output:</p>\n<blockquote>\n<p>FPS(FramesPerSecond), 29.0000, 35.000 <br>\nTotalFrames, 100000, 200000 <br>\nMemoryUsage(In MB), 190000, 360000</p>\n</blockquote>\n"}],"owner":{"account_id":16311226,"reputation":63,"user_id":11779800,"display_name":"thranduil90"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":64550917,"answer_count":2,"score":-1,"last_activity_date":1693142774,"creation_date":1603787767,"question_id":64550698,"body_markdown":"I have a very long text and I&#39;m extracting some specific values that are followed by some particular words. Here&#39;s an example of my long text:\r\n\r\n    .........\r\n    FPS(FramesPerSecond)[ValMin: 29.0000, ValMax: 35.000]\r\n    .........\r\n    TotalFrames[ValMin: 100000, ValMax:200000]\r\n    .........\r\n    MemoryUsage(In MB)[ValMin:190000MB, ValMax:360000MB]\r\n    .........\r\n\r\nhere&#39;s my code:\r\n\r\n    File file = filePath.toFile();\r\n            JSONObject jsonObject = new JSONObject();\r\n    String FPSMin=&quot;&quot;;\r\n    String FPSMax=&quot;&quot;;\r\n    String TotalFramesMin=&quot;&quot;;\r\n    String TotalFramesMax=&quot;&quot;;\r\n    String MemUsageMin=&quot;&quot;;\r\n    String MemUsageMax=&quot;&quot;;\r\n    \r\n    String log = &quot;my//log//file&quot;;\r\n    \r\n            final Matcher matcher = Pattern.compile(&quot;FPS/\\(FramesPerSecond/\\)/\\[ValMin:&quot;);\r\n            if(matcher.find()){\r\n                FPSMin= matcher.end().trim();\r\n            }\r\n\r\nBut I can&#39;t make it work. Where am I wrong? Basically I need to select, for each String, the corresponding values (max and min) coming from that long text and store them into the variables. Like\r\n\r\n    FPSMin = 29.0000\r\n    FPSMax = 35.0000\r\n    FramesMin = 100000\r\n    Etc \r\n\r\nThank you\r\n\r\nEDIT:\r\nI tried the following code (in a test case) to see if the solution could work, but I&#39;m experiencing issues because I can&#39;t print anything except an object. Here&#39;s the code:\r\n\r\n \r\n\r\n     @Test\r\n        public void whenReadLargeFileJava7_thenCorrect()\r\n                throws IOException, URISyntaxException {\r\n            Scanner txtScan = new Scanner(&quot;path//to//file//test.txt&quot;);\r\n    \r\n    \r\n            String[] FPSMin= new String[0];\r\n            String FPSMax= &quot;&quot;;\r\n      \r\n    //Read File Line By Line\r\n            while (txtScan.hasNextLine())   {\r\n                // Print the content on the console\r\n                String str = txtScan.nextLine();\r\n                Pattern FPSMin= Pattern.compile(&quot;^FPS\\\\(FramesPerSecond\\\\)\\\\[ValMin:&quot;);\r\n                Matcher matcher = FPSMin.matcher(str);\r\n    \r\n                if(matcher.find()){\r\n                    String MinMaxFPS= str.substring(matcher.end(), str.length()-1);\r\n                    String[] splitted = MinMaxFPS.split(&quot;,&quot;);\r\n                    FPSMin= splitted[0].split(&quot;: &quot;);\r\n                    FPSMax = splitted[1];\r\n    \r\n                }\r\n    \r\n                System.out.println(FPSMin);\r\n                System.out.println(FPSMax);\r\n    \r\n            }","title":"Java regex extract specific values in long log","body":"<p>I have a very long text and I'm extracting some specific values that are followed by some particular words. Here's an example of my long text:</p>\n<pre><code>.........\nFPS(FramesPerSecond)[ValMin: 29.0000, ValMax: 35.000]\n.........\nTotalFrames[ValMin: 100000, ValMax:200000]\n.........\nMemoryUsage(In MB)[ValMin:190000MB, ValMax:360000MB]\n.........\n</code></pre>\n<p>here's my code:</p>\n<pre><code>File file = filePath.toFile();\n        JSONObject jsonObject = new JSONObject();\nString FPSMin=&quot;&quot;;\nString FPSMax=&quot;&quot;;\nString TotalFramesMin=&quot;&quot;;\nString TotalFramesMax=&quot;&quot;;\nString MemUsageMin=&quot;&quot;;\nString MemUsageMax=&quot;&quot;;\n\nString log = &quot;my//log//file&quot;;\n\n        final Matcher matcher = Pattern.compile(&quot;FPS/\\(FramesPerSecond/\\)/\\[ValMin:&quot;);\n        if(matcher.find()){\n            FPSMin= matcher.end().trim();\n        }\n</code></pre>\n<p>But I can't make it work. Where am I wrong? Basically I need to select, for each String, the corresponding values (max and min) coming from that long text and store them into the variables. Like</p>\n<pre><code>FPSMin = 29.0000\nFPSMax = 35.0000\nFramesMin = 100000\nEtc \n</code></pre>\n<p>Thank you</p>\n<p>EDIT:\nI tried the following code (in a test case) to see if the solution could work, but I'm experiencing issues because I can't print anything except an object. Here's the code:</p>\n<pre><code> @Test\n    public void whenReadLargeFileJava7_thenCorrect()\n            throws IOException, URISyntaxException {\n        Scanner txtScan = new Scanner(&quot;path//to//file//test.txt&quot;);\n\n\n        String[] FPSMin= new String[0];\n        String FPSMax= &quot;&quot;;\n  \n//Read File Line By Line\n        while (txtScan.hasNextLine())   {\n            // Print the content on the console\n            String str = txtScan.nextLine();\n            Pattern FPSMin= Pattern.compile(&quot;^FPS\\\\(FramesPerSecond\\\\)\\\\[ValMin:&quot;);\n            Matcher matcher = FPSMin.matcher(str);\n\n            if(matcher.find()){\n                String MinMaxFPS= str.substring(matcher.end(), str.length()-1);\n                String[] splitted = MinMaxFPS.split(&quot;,&quot;);\n                FPSMin= splitted[0].split(&quot;: &quot;);\n                FPSMax = splitted[1];\n\n            }\n\n            System.out.println(FPSMin);\n            System.out.println(FPSMax);\n\n        }\n</code></pre>\n"},{"tags":["java","regex","path","glob"],"answers":[{"comments":[{"owner":{"account_id":4660684,"reputation":312,"user_id":3775041,"display_name":"user3775041"},"score":0,"creation_date":1601300957,"post_id":64103257,"comment_id":113356670,"body_markdown":"I can verify this solution is working, but my final jar will only ever run on Linux/Unix so this solution won&#39;t be my desired one. It would be nice to have another Path implementation which don&#39;t seem to exist on a Windows JRE.","body":"I can verify this solution is working, but my final jar will only ever run on Linux/Unix so this solution won&#39;t be my desired one. It would be nice to have another Path implementation which don&#39;t seem to exist on a Windows JRE."},{"owner":{"account_id":18159434,"reputation":300,"user_id":13211030,"display_name":"Fullslack"},"score":0,"creation_date":1601301561,"post_id":64103257,"comment_id":113356969,"body_markdown":"@user3775041 I agree that the Path implementations between different filesystems is somewhat difficult in Java. This is mainly because it is using native implementations and sadly every filesystem does it different. We can only hope that in the future all filesystems will be the same.","body":"@user3775041 I agree that the Path implementations between different filesystems is somewhat difficult in Java. This is mainly because it is using native implementations and sadly every filesystem does it different. We can only hope that in the future all filesystems will be the same."},{"owner":{"account_id":4660684,"reputation":312,"user_id":3775041,"display_name":"user3775041"},"score":2,"creation_date":1601302569,"post_id":64103257,"comment_id":113357534,"body_markdown":"By the way: a bit less ugly is `regex:[/\\\\\\\\]|[/\\\\\\\\]test` in my opinion.","body":"By the way: a bit less ugly is <code>regex:[&#47;\\\\\\\\]|[&#47;\\\\\\\\]test</code> in my opinion."}],"tags":[],"owner":{"account_id":18159434,"reputation":300,"user_id":13211030,"display_name":"Fullslack"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1601303862,"creation_date":1601300116,"answer_id":64103257,"question_id":64102053,"body_markdown":"First I want to say this is undocumented behavior in the glob handling syntax of the PathMatcher. It appears to convert backward slashes (as common on the Windows filesystems) to forward slashes (or vice-versa). Thus making it always work between Linux and Windows.\r\n\r\nThe following line demonstrates the different output:\r\n```java\r\nSystem.out.println(Paths.get(&quot;/test&quot;)); // Will output &#39;\\test&#39; on Windows, &#39;/test&#39; on Linux\r\n```\r\n\r\nTo solve the original question we need to get some RegexFu going.\r\n```java\r\nFileSystems.getDefault().getPathMatcher(&quot;regex:/|/test&quot;);\r\n```\r\nNeeds to become\r\n```java\r\nFileSystems.getDefault().getPathMatcher(&quot;regex:(/|\\\\\\\\)|((/|\\\\\\\\)test)&quot;);\r\n```\r\n - The first group will check between `/` and `\\` (you need `\\\\` to escape the `\\`, but because Java it needs to be input like `\\\\\\\\`).\r\n - Second group is made up out of two parts, where again the first part checks between either `/` or `\\` and the second part is the text entered in the question.\r\n\r\nThanks to @user3775041 for a bit cleaner regex:\r\n```java\r\nFileSystems.getDefault().getPathMatcher(&quot;regex:[/\\\\\\\\]|[/\\\\\\\\]test&quot;);\r\n```\r\n\r\nThis has been tested on Windows 10 and Ubuntu 20.04 with both having the following output:\r\n```\r\ntrue\r\ntrue\r\nfalse\r\ntrue\r\ntrue\r\nfalse\r\n```\r\n\r\nEdit: a good site to test regex patterns in Java is https://www.regexplanet.com/advanced/java/index.html","title":"Java PathMatcher not working properly on Windows","body":"<p>First I want to say this is undocumented behavior in the glob handling syntax of the PathMatcher. It appears to convert backward slashes (as common on the Windows filesystems) to forward slashes (or vice-versa). Thus making it always work between Linux and Windows.</p>\n<p>The following line demonstrates the different output:</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(Paths.get(&quot;/test&quot;)); // Will output '\\test' on Windows, '/test' on Linux\n</code></pre>\n<p>To solve the original question we need to get some RegexFu going.</p>\n<pre class=\"lang-java prettyprint-override\"><code>FileSystems.getDefault().getPathMatcher(&quot;regex:/|/test&quot;);\n</code></pre>\n<p>Needs to become</p>\n<pre class=\"lang-java prettyprint-override\"><code>FileSystems.getDefault().getPathMatcher(&quot;regex:(/|\\\\\\\\)|((/|\\\\\\\\)test)&quot;);\n</code></pre>\n<ul>\n<li>The first group will check between <code>/</code> and <code>\\</code> (you need <code>\\\\</code> to escape the <code>\\</code>, but because Java it needs to be input like <code>\\\\\\\\</code>).</li>\n<li>Second group is made up out of two parts, where again the first part checks between either <code>/</code> or <code>\\</code> and the second part is the text entered in the question.</li>\n</ul>\n<p>Thanks to @user3775041 for a bit cleaner regex:</p>\n<pre class=\"lang-java prettyprint-override\"><code>FileSystems.getDefault().getPathMatcher(&quot;regex:[/\\\\\\\\]|[/\\\\\\\\]test&quot;);\n</code></pre>\n<p>This has been tested on Windows 10 and Ubuntu 20.04 with both having the following output:</p>\n<pre><code>true\ntrue\nfalse\ntrue\ntrue\nfalse\n</code></pre>\n<p>Edit: a good site to test regex patterns in Java is <a href=\"https://www.regexplanet.com/advanced/java/index.html\" rel=\"nofollow noreferrer\">https://www.regexplanet.com/advanced/java/index.html</a></p>\n"},{"comments":[{"owner":{"account_id":4660684,"reputation":312,"user_id":3775041,"display_name":"user3775041"},"score":0,"creation_date":1601357600,"post_id":64104617,"comment_id":113374408,"body_markdown":"Much better, still uglifies my always-run-on-Linux code but far more readable than `[/\\\\\\\\]`.","body":"Much better, still uglifies my always-run-on-Linux code but far more readable than <code>[&#47;\\\\\\\\]</code>."}],"tags":[],"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1601304896,"creation_date":1601304896,"answer_id":64104617,"question_id":64102053,"body_markdown":"If you want a version which does not include Windows file separator character in the regex when the code is run on Linux, you can also use:\r\n\r\n    String sep = Pattern.quote(File.separator);\r\n    PathMatcher regex = FileSystems.getDefault().getPathMatcher(&quot;regex:&quot;+sep+&quot;|&quot;+sep+&quot;test&quot;);\r\n\r\nThis prints same output on Linux/Windows.","title":"Java PathMatcher not working properly on Windows","body":"<p>If you want a version which does not include Windows file separator character in the regex when the code is run on Linux, you can also use:</p>\n<pre><code>String sep = Pattern.quote(File.separator);\nPathMatcher regex = FileSystems.getDefault().getPathMatcher(&quot;regex:&quot;+sep+&quot;|&quot;+sep+&quot;test&quot;);\n</code></pre>\n<p>This prints same output on Linux/Windows.</p>\n"},{"tags":[],"owner":{"account_id":2892776,"reputation":3221,"user_id":2481153,"display_name":"HungNM2"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1628003356,"creation_date":1627985264,"answer_id":68634146,"question_id":64102053,"body_markdown":"This code worked well for window and linux:\r\n\r\n\t\tString pattern = &quot;regex:\\\\./src/main/java/.*\\\\.java|\\\\./src/main/java/.*\\\\.txt&quot;;\r\n\t\tString newPattern;\r\n\t\t\r\n\t\tif(File.separator.equals(&quot;\\\\&quot;)) { //window fix\r\n\t\t\tnewPattern = pattern.replace(&quot;/&quot;, &quot;\\\\\\\\&quot;); \r\n\t\t}else { //linux\r\n\t\t\tnewPattern = pattern;\r\n\t\t}\r\n\t\t\r\n\t\tPathMatcher pathMatcher = FileSystems.getDefault().getPathMatcher(newPattern);\r\n","title":"Java PathMatcher not working properly on Windows","body":"<p>This code worked well for window and linux:</p>\n<pre><code>    String pattern = &quot;regex:\\\\./src/main/java/.*\\\\.java|\\\\./src/main/java/.*\\\\.txt&quot;;\n    String newPattern;\n    \n    if(File.separator.equals(&quot;\\\\&quot;)) { //window fix\n        newPattern = pattern.replace(&quot;/&quot;, &quot;\\\\\\\\&quot;); \n    }else { //linux\n        newPattern = pattern;\n    }\n    \n    PathMatcher pathMatcher = FileSystems.getDefault().getPathMatcher(newPattern);\n</code></pre>\n"}],"owner":{"account_id":4660684,"reputation":312,"user_id":3775041,"display_name":"user3775041"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":940,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":64104617,"answer_count":3,"score":4,"last_activity_date":1693142763,"creation_date":1601295474,"question_id":64102053,"body_markdown":"I try to implement a JUnit test for my SimpleFileVisitor but the used PathMatcher doesn&#39;t work properly on Windows. The problem seems to be the PathMatcher with a regex pattern behaves different on Linux and Windows:\r\n\r\n```java\r\nimport java.nio.file.FileSystems;\r\nimport java.nio.file.PathMatcher;\r\nimport java.nio.file.Paths;\r\n\r\npublic class TestApp{\r\n\r\n     public static void main(String []args){\r\n\t\tfinal PathMatcher glob = FileSystems.getDefault().getPathMatcher(&quot;glob:{/,/test}&quot;);\r\n\t\tfinal PathMatcher regex = FileSystems.getDefault().getPathMatcher(&quot;regex:/|/test&quot;);\r\n\r\n\t\tSystem.err.println(glob.matches(Paths.get(&quot;/&quot;)));       // --&gt; Linux=true  Windows=true\r\n\t\tSystem.err.println(glob.matches(Paths.get(&quot;/test&quot;)));   // --&gt; Linux=true  Windows=true\r\n\t\tSystem.err.println(glob.matches(Paths.get(&quot;/test2&quot;)));  // --&gt; Linux=false Windows=false\r\n\r\n\t\tSystem.err.println(regex.matches(Paths.get(&quot;/&quot;)));      // --&gt; Linux=true  Windows=false\r\n\t\tSystem.err.println(regex.matches(Paths.get(&quot;/test&quot;)));  // --&gt; Linux=true  Windows=false\r\n\t\tSystem.err.println(regex.matches(Paths.get(&quot;/test2&quot;))); // --&gt; Linux=false Windows=false\r\n     }  \r\n}\r\n```\r\n\r\nBut I&#39;ve a longer list in my regex for multiple files which are not easy to migrate to glob syntax. Otherwise I&#39;ve nested groups which is not allowed or an even longer list if I wrote every pattern as a not-grouped pattern.\r\n\r\nWhat is the best way to do this in a cross-platform manner?","title":"Java PathMatcher not working properly on Windows","body":"<p>I try to implement a JUnit test for my SimpleFileVisitor but the used PathMatcher doesn't work properly on Windows. The problem seems to be the PathMatcher with a regex pattern behaves different on Linux and Windows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.nio.file.FileSystems;\nimport java.nio.file.PathMatcher;\nimport java.nio.file.Paths;\n\npublic class TestApp{\n\n     public static void main(String []args){\n        final PathMatcher glob = FileSystems.getDefault().getPathMatcher(&quot;glob:{/,/test}&quot;);\n        final PathMatcher regex = FileSystems.getDefault().getPathMatcher(&quot;regex:/|/test&quot;);\n\n        System.err.println(glob.matches(Paths.get(&quot;/&quot;)));       // --&gt; Linux=true  Windows=true\n        System.err.println(glob.matches(Paths.get(&quot;/test&quot;)));   // --&gt; Linux=true  Windows=true\n        System.err.println(glob.matches(Paths.get(&quot;/test2&quot;)));  // --&gt; Linux=false Windows=false\n\n        System.err.println(regex.matches(Paths.get(&quot;/&quot;)));      // --&gt; Linux=true  Windows=false\n        System.err.println(regex.matches(Paths.get(&quot;/test&quot;)));  // --&gt; Linux=true  Windows=false\n        System.err.println(regex.matches(Paths.get(&quot;/test2&quot;))); // --&gt; Linux=false Windows=false\n     }  \n}\n</code></pre>\n<p>But I've a longer list in my regex for multiple files which are not easy to migrate to glob syntax. Otherwise I've nested groups which is not allowed or an even longer list if I wrote every pattern as a not-grouped pattern.</p>\n<p>What is the best way to do this in a cross-platform manner?</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":11784619,"reputation":84,"user_id":8622854,"display_name":"squ1dd13"},"score":0,"creation_date":1596633364,"post_id":63265918,"comment_id":111873651,"body_markdown":"If you used an `if`, the second input example would only print one result (I think). The `while` is necessary if you want to find _all_ the matches, rather than just the first.","body":"If you used an <code>if</code>, the second input example would only print one result (I think). The <code>while</code> is necessary if you want to find <i>all</i> the matches, rather than just the first."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1596633373,"post_id":63265918,"comment_id":111873654,"body_markdown":"The body of a while loop runs zero or more times; the body of an if statement runs zero or one times. The choice between them depends on how many matches you expect to find.","body":"The body of a while loop runs zero or more times; the body of an if statement runs zero or one times. The choice between them depends on how many matches you expect to find."}],"answers":[{"tags":[],"owner":{"account_id":9554554,"reputation":46,"user_id":7097522,"display_name":"Rishi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1596633575,"creation_date":1596633575,"answer_id":63266095,"question_id":63265918,"body_markdown":"When you call ```find()```, the matcher will attempt to find the next sequence that matches your regex pattern. By using ```find()``` in a while loop, you will be able to obtain all the matching sequences if there are any. If you want to match the input string as a whole, you can use ```matches()```. \r\n\r\nReference: \r\n\r\n[find method in Java Docs][1]\r\n\r\n[matches method in Java Docs][2]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/regex/Matcher.html#find()\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/util/regex/Matcher.html#matches()","title":"matcher.find() regex Java function","body":"<p>When you call <code>find()</code>, the matcher will attempt to find the next sequence that matches your regex pattern. By using <code>find()</code> in a while loop, you will be able to obtain all the matching sequences if there are any. If you want to match the input string as a whole, you can use <code>matches()</code>.</p>\n<p>Reference:</p>\n<p><a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/regex/Matcher.html#find()\" rel=\"nofollow noreferrer\">find method in Java Docs</a></p>\n<p><a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/regex/Matcher.html#matches()\" rel=\"nofollow noreferrer\">matches method in Java Docs</a></p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1596725238,"creation_date":1596633614,"answer_id":63266110,"question_id":63265918,"body_markdown":"The answer is in the [javadoc][1] for `find`.\r\n\r\n&gt; `public boolean find()`\r\n&gt;\r\n&gt; Attempts to find the next subsequence of the input sequence that matches the pattern.\r\n&gt;\r\n&gt; This method starts at the beginning of this matcher&#39;s region, or, *if a previous invocation of the method was successful and the matcher has not since been reset, at the first character not matched by the previous match*.\r\n&gt;\r\n&gt; If the match succeeds then more information can be obtained via the start, end, and group methods. \r\n\r\nThe code you are looking at is *repeatedly* finding the next match for the regex and printing its matched 2nd group.  Since the 2nd group of the match is the tag contents, this prints the contents of all tags.\r\n\r\nIf you used `if` instead of `while`, only the first match will be printed; i.e. only content of the first tag.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/regex/Matcher.html#find()","title":"matcher.find() regex Java function","body":"<p>The answer is in the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/regex/Matcher.html#find()\" rel=\"nofollow noreferrer\">javadoc</a> for <code>find</code>.</p>\n<blockquote>\n<p><code>public boolean find()</code></p>\n<p>Attempts to find the next subsequence of the input sequence that matches the pattern.</p>\n<p>This method starts at the beginning of this matcher's region, or, <em>if a previous invocation of the method was successful and the matcher has not since been reset, at the first character not matched by the previous match</em>.</p>\n<p>If the match succeeds then more information can be obtained via the start, end, and group methods.</p>\n</blockquote>\n<p>The code you are looking at is <em>repeatedly</em> finding the next match for the regex and printing its matched 2nd group.  Since the 2nd group of the match is the tag contents, this prints the contents of all tags.</p>\n<p>If you used <code>if</code> instead of <code>while</code>, only the first match will be printed; i.e. only content of the first tag.</p>\n"}],"owner":{"account_id":15067305,"reputation":11,"user_id":10873981,"display_name":"ayvahb"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":429,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1693142744,"creation_date":1596632985,"question_id":63265918,"body_markdown":"consider the below code that checks if input is in the form: `&lt;tag&gt;contents&lt;/tag&gt;`\r\nIf input in above form, print content between the tags else print None.\r\n\r\neg:\r\n1) input: `&lt;h1&gt;Nayeem loves counseling&lt;/h1&gt;`\r\noutput: Nayeem loves counseling\r\n\r\n2) input: `&lt;h1&gt;&lt;h1&gt;Sanjay has no watch&lt;/h1&gt;&lt;/h1&gt;&lt;par&gt;So wait for a while&lt;/par&gt;`\r\noutput: Sanjay has no watch\r\nSo wait for a while\r\n\r\n3) input: `&lt;Amee&gt;safat codes like a ninja&lt;/amee&gt;`\r\noutput: None\r\n```java\r\nString line = scan.nextLine();\r\n\r\nboolean matchFound = false;\r\nPattern r = Pattern.compile(&quot;&lt;(.+)&gt;([^&lt;]+)&lt;/\\\\1&gt;&quot;);\r\nMatcher m = r.matcher(line);\r\n\r\nwhile(m.find()) {\r\n    System.out.println(m.group(2));\r\n    matchFound = true;\r\n}\r\n\r\nif(!matchFound) {\r\n    System.out.println(&quot;None&quot;);\r\n}\r\n```\r\nHere find() returns boolean type. My question is why should find() be used with while loop? Why can&#39;t I use &quot;if&quot; in place of while? How is find working internally?\r\n","title":"matcher.find() regex Java function","body":"<p>consider the below code that checks if input is in the form: <code>&lt;tag&gt;contents&lt;/tag&gt;</code>\nIf input in above form, print content between the tags else print None.</p>\n<p>eg:</p>\n<ol>\n<li><p>input: <code>&lt;h1&gt;Nayeem loves counseling&lt;/h1&gt;</code>\noutput: Nayeem loves counseling</p>\n</li>\n<li><p>input: <code>&lt;h1&gt;&lt;h1&gt;Sanjay has no watch&lt;/h1&gt;&lt;/h1&gt;&lt;par&gt;So wait for a while&lt;/par&gt;</code>\noutput: Sanjay has no watch\nSo wait for a while</p>\n</li>\n<li><p>input: <code>&lt;Amee&gt;safat codes like a ninja&lt;/amee&gt;</code>\noutput: None</p>\n</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>String line = scan.nextLine();\n\nboolean matchFound = false;\nPattern r = Pattern.compile(&quot;&lt;(.+)&gt;([^&lt;]+)&lt;/\\\\1&gt;&quot;);\nMatcher m = r.matcher(line);\n\nwhile(m.find()) {\n    System.out.println(m.group(2));\n    matchFound = true;\n}\n\nif(!matchFound) {\n    System.out.println(&quot;None&quot;);\n}\n</code></pre>\n<p>Here find() returns boolean type. My question is why should find() be used with while loop? Why can't I use &quot;if&quot; in place of while? How is find working internally?</p>\n"},{"tags":["java","regex"],"answers":[{"comments":[{"owner":{"account_id":17444705,"reputation":17,"user_id":12645978,"display_name":"Bhoomi"},"score":0,"creation_date":1595906259,"post_id":63126131,"comment_id":111628903,"body_markdown":"Hi @AlexVoss  I modified my regex like this (^\\\\s)/\\*(.|[\\\\r\\\\n])*?\\*/$, is this what you mean?","body":"Hi @AlexVoss  I modified my regex like this (^\\\\s)/*(.|[\\\\r\\\\n])*?*/$, is this what you mean?"},{"owner":{"account_id":19128884,"reputation":146,"user_id":13971264,"display_name":"Alex Voss"},"score":0,"creation_date":1596017361,"post_id":63126131,"comment_id":111671981,"body_markdown":"Yes, except (a) you need to escape the asterisks in the comment delimiters as in the code you originally posted and (b) you may want to allow whitespace at the end. You may want to experiment with the expression on https://regexr.com. Turn multi-line mode on.","body":"Yes, except (a) you need to escape the asterisks in the comment delimiters as in the code you originally posted and (b) you may want to allow whitespace at the end. You may want to experiment with the expression on <a href=\"https://regexr.com\" rel=\"nofollow noreferrer\">regexr.com</a>. Turn multi-line mode on."}],"tags":[],"owner":{"account_id":19128884,"reputation":146,"user_id":13971264,"display_name":"Alex Voss"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1596064047,"creation_date":1595903031,"answer_id":63126131,"question_id":63126008,"body_markdown":"Use the ^ boundary matcher in combination with \\s to match lines that have only whitespace between beginning of the line and the beginning of the comment. Then use $ to do the equivalent for the end of the line case.\r\n\r\nhttps://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html","title":"Ignoring comment preceded or succeed by code","body":"<p>Use the ^ boundary matcher in combination with \\s to match lines that have only whitespace between beginning of the line and the beginning of the comment. Then use $ to do the equivalent for the end of the line case.</p>\n<p><a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html</a></p>\n"},{"tags":[],"owner":{"account_id":17444705,"reputation":17,"user_id":12645978,"display_name":"Bhoomi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1596086723,"creation_date":1596086723,"answer_id":63166691,"question_id":63126008,"body_markdown":"```\r\nprivate static final Pattern MULTI_LINE_COMMENT = Pattern.compile(&quot;((?&lt;=([\\\\r\\\\n]))([\\\\s]*)|^)(/\\\\*[^*]*\\\\*+(?:[^/*][^*]*\\\\*+)*/)([\\\\s]*(\\\\n|\\\\z))&quot;);\r\n```\r\nThis solved it.","title":"Ignoring comment preceded or succeed by code","body":"<pre><code>private static final Pattern MULTI_LINE_COMMENT = Pattern.compile(&quot;((?&lt;=([\\\\r\\\\n]))([\\\\s]*)|^)(/\\\\*[^*]*\\\\*+(?:[^/*][^*]*\\\\*+)*/)([\\\\s]*(\\\\n|\\\\z))&quot;);\n</code></pre>\n<p>This solved it.</p>\n"}],"owner":{"account_id":17444705,"reputation":17,"user_id":12645978,"display_name":"Bhoomi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1693142736,"creation_date":1595901933,"question_id":63126008,"body_markdown":"This is the pattern I have used for finding multi line comments\r\n```\r\nprivate static final Pattern MULTI_LINE = Pattern.compile(&quot;/\\\\*(.|[\\\\r\\\\n])*?\\\\*/&quot;);\r\n```\r\nHowever I want to ignore comments that are preceded or succeeded by code \r\nlike this \r\n```\r\n1. /* Some comment */ String val = &quot;foo&quot;;\r\n2. String val1 = &quot;foo1&quot;; /* Some comment */\r\n```\r\nHow do I alter my regex to ignore such cases?\r\nI do not want to replace the comment, but I want to ignore such cases as comment lines in the code as I am trying to find the number of commented lines in the file.\r\n\r\n\r\n","title":"Ignoring comment preceded or succeed by code","body":"<p>This is the pattern I have used for finding multi line comments</p>\n<pre><code>private static final Pattern MULTI_LINE = Pattern.compile(&quot;/\\\\*(.|[\\\\r\\\\n])*?\\\\*/&quot;);\n</code></pre>\n<p>However I want to ignore comments that are preceded or succeeded by code\nlike this</p>\n<pre><code>1. /* Some comment */ String val = &quot;foo&quot;;\n2. String val1 = &quot;foo1&quot;; /* Some comment */\n</code></pre>\n<p>How do I alter my regex to ignore such cases?\nI do not want to replace the comment, but I want to ignore such cases as comment lines in the code as I am trying to find the number of commented lines in the file.</p>\n"},{"tags":["java","regex","split"],"comments":[{"owner":{"display_name":"user7571182"},"score":0,"creation_date":1592041985,"post_id":62357490,"comment_id":110285851,"body_markdown":"It is working for me. Please see [**this**](https://onlinegdb.com/SyxxG7G6U)","body":"It is working for me. Please see <a href=\"https://onlinegdb.com/SyxxG7G6U\" rel=\"nofollow noreferrer\"><b>this</b></a>"}],"answers":[{"tags":[],"owner":{"account_id":18653738,"reputation":41,"user_id":13598048,"display_name":"Artem Berezovski"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1592040530,"creation_date":1592040530,"answer_id":62357839,"question_id":62357490,"body_markdown":"It happens because there are two `2` in the last expression. When you get the last `2`, you add spaces around all `2`s, so it leads to `12` to be split.","title":"Why regex in java is behaving differently for different example?","body":"<p>It happens because there are two <code>2</code> in the last expression. When you get the last <code>2</code>, you add spaces around all <code>2</code>s, so it leads to <code>12</code> to be split.</p>\n"}],"owner":{"account_id":18827900,"reputation":3,"user_id":13732367,"display_name":"Faraz anwar"},"comment_count":1,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1592043584,"accepted_answer_id":62357839,"answer_count":1,"score":-1,"last_activity_date":1693141400,"creation_date":1592038330,"question_id":62357490,"body_markdown":"    Scanner sc = new Scanner(System.in);\r\n           String s = sc.nextLine().trim();\r\n           s= s.replaceAll(&quot;\\\\++&quot;,&quot; + &quot;);\r\n           Pattern p = Pattern.compile(&quot;[a-zA-Z]+|\\\\d+|[\\\\(\\\\*\\\\)/%]&quot;);\r\n           Matcher m = p.matcher(s);\r\n           while(m.find()){\r\n               String str=m.group();\r\n               s= s.replace(m.group(),&quot; &quot;+str+&quot; &quot;).trim();\r\n           }\r\n          String[] str=s.split(&quot; +&quot;);\r\n          for(String s1:str) System.out.print(s1+&quot;,&quot;);\r\n\r\nif `s=22*(7-9` output is: **22,*,(,7,-,9,**\r\n\r\nif `s=12*(4-2`   output is:**1,2,*,(,4,-,2,**\r\n\r\n\r\nWhy digits of 12 got separated in  second example?\r\nHelp me if someone knows about it \r\n\r\n","title":"Why regex in java is behaving differently for different example?","body":"<pre><code>Scanner sc = new Scanner(System.in);\n       String s = sc.nextLine().trim();\n       s= s.replaceAll(\"\\\\++\",\" + \");\n       Pattern p = Pattern.compile(\"[a-zA-Z]+|\\\\d+|[\\\\(\\\\*\\\\)/%]\");\n       Matcher m = p.matcher(s);\n       while(m.find()){\n           String str=m.group();\n           s= s.replace(m.group(),\" \"+str+\" \").trim();\n       }\n      String[] str=s.split(\" +\");\n      for(String s1:str) System.out.print(s1+\",\");\n</code></pre>\n\n<p>if <code>s=22*(7-9</code> output is: <strong>22,*,(,7,-,9,</strong></p>\n\n<p>if <code>s=12*(4-2</code>   output is:<strong>1,2,*,(,4,-,2,</strong></p>\n\n<p>Why digits of 12 got separated in  second example?\nHelp me if someone knows about it </p>\n"},{"tags":["java","json","regex"],"comments":[{"owner":{"account_id":8277763,"reputation":573,"user_id":6223346,"accept_rate":67,"display_name":"Harish"},"score":0,"creation_date":1591831988,"post_id":62314711,"comment_id":110209736,"body_markdown":"@HarshalParekh - added the output details","body":"@HarshalParekh - added the output details"},{"owner":{"account_id":11502933,"reputation":5909,"user_id":8430155,"display_name":"Harshal Parekh"},"score":0,"creation_date":1591832178,"post_id":62314711,"comment_id":110209779,"body_markdown":"Can your String have a JSON Array?","body":"Can your String have a JSON Array?"},{"owner":{"account_id":11502933,"reputation":5909,"user_id":8430155,"display_name":"Harshal Parekh"},"score":0,"creation_date":1591832415,"post_id":62314711,"comment_id":110209828,"body_markdown":"Currently, you string has a max depth of 4. `{}` is counted as a level as per JSON.","body":"Currently, you string has a max depth of 4. <code>{}</code> is counted as a level as per JSON."},{"owner":{"account_id":11502933,"reputation":5909,"user_id":8430155,"display_name":"Harshal Parekh"},"score":0,"creation_date":1591832451,"post_id":62314711,"comment_id":110209836,"body_markdown":"What will be the output for level 2?","body":"What will be the output for level 2?"},{"owner":{"account_id":18481872,"reputation":281,"user_id":13463803,"display_name":"user13463803"},"score":0,"creation_date":1591833426,"post_id":62314711,"comment_id":110210087,"body_markdown":"Recursive structures call out for recursive solutions. Each time you hit a &quot;{&quot;, call self recursively.  When you hit the &quot;}&quot;, return.","body":"Recursive structures call out for recursive solutions. Each time you hit a &quot;{&quot;, call self recursively.  When you hit the &quot;}&quot;, return."},{"owner":{"account_id":8277763,"reputation":573,"user_id":6223346,"accept_rate":67,"display_name":"Harish"},"score":0,"creation_date":1591833907,"post_id":62314711,"comment_id":110210190,"body_markdown":"@HarshalParekh - max level is always 3 or 4 depending on how u assume","body":"@HarshalParekh - max level is always 3 or 4 depending on how u assume"},{"owner":{"account_id":11502933,"reputation":5909,"user_id":8430155,"display_name":"Harshal Parekh"},"score":0,"creation_date":1591834132,"post_id":62314711,"comment_id":110210243,"body_markdown":"@Harish, there is no assumption here. Empty json is valid and hence should be counted as a level. What about my other question?","body":"@Harish, there is no assumption here. Empty json is valid and hence should be counted as a level. What about my other question?"},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1591834309,"post_id":62314711,"comment_id":110210283,"body_markdown":"@HarshalParekh If you call `depth(data,4)` you get back an empty list, so the max level with a non-empty list is 3, hence the correct result is `max_level = 3`","body":"@HarshalParekh If you call <code>depth(data,4)</code> you get back an empty list, so the max level with a non-empty list is 3, hence the correct result is <code>max_level = 3</code>"}],"answers":[{"tags":[],"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1591835516,"creation_date":1591835516,"answer_id":62315251,"question_id":62314711,"body_markdown":"I would do it like this, so you don&#39;t have to scan the text again to ask for a different level.\r\n\r\n```lang-java\r\npublic final class NestedJson {\r\n\tprivate int maxLevel;\r\n\tprivate Map&lt;Integer, List&lt;String&gt;&gt; items = new HashMap&lt;&gt;();\r\n\r\n\tpublic NestedJson(String data) {\r\n\t\tint level = 0;\r\n\t\tfor (Matcher m = Pattern.compile(&quot;\\&quot;([^\\&quot;]*+)\\&quot;|([{}])&quot;).matcher(data); m.find(); ) {\r\n\t\t\tif (m.start(1) != -1) {\r\n\t\t\t\tthis.items.computeIfAbsent(level, k -&gt; new ArrayList&lt;&gt;()).add(m.group(1));\r\n\t\t\t\tif (level &gt; this.maxLevel)\r\n\t\t\t\t\tthis.maxLevel = level;\r\n\t\t\t} else if (m.group(2).charAt(0) == &#39;{&#39;) {\r\n\t\t\t\tlevel++;\r\n\t\t\t} else {\r\n\t\t\t\tlevel--;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tpublic int getMaxLevel() {\r\n\t\treturn this.maxLevel;\r\n\t}\r\n\tpublic List&lt;String&gt; getItems(int level) {\r\n\t\treturn this.items.get(level);\r\n\t}\r\n}\r\n```\r\n\r\n*Test*\r\n\r\n```lang-java\r\nString data = &quot;{\\n&quot; +\r\n              &quot;\\t\\&quot;1\\&quot; : {\\n&quot; +\r\n              &quot;\\t   \\&quot;A\\&quot; :{}\\n&quot; +\r\n              &quot;\\t},\\n&quot; +\r\n              &quot;\\t\\&quot;2\\&quot; : {\\n&quot; +\r\n              &quot;\\t   \\&quot;A\\&quot; :{}\\n&quot; +\r\n              &quot;\\t   \\&quot;B\\&quot; : {\\n&quot; +\r\n              &quot;\\t     \\&quot;I\\&quot; :{},\\n&quot; +\r\n              &quot;\\t     \\&quot;II\\&quot;:{}\\n&quot; +\r\n              &quot;\\t   }\\n&quot; +\r\n              &quot;\\t},\\n&quot; +\r\n              &quot;\\t\\&quot;3\\&quot; : {}\\n&quot; +\r\n              &quot;}&quot;;\r\n\r\nNestedJson nestedJson = new NestedJson(data);\r\nSystem.out.println(&quot;maxLevel = &quot; + nestedJson.getMaxLevel());\r\nfor (int level = 1; level &lt;= nestedJson.getMaxLevel(); level++)\r\n\tSystem.out.println(&quot;items(&quot; + level + &quot;) = &quot; + nestedJson.getItems(level));\r\n```\r\n\r\n*Output*\r\n\r\n```lang-none\r\nmaxLevel = 3\r\nitems(1) = [1, 2, 3]\r\nitems(2) = [A, A, B]\r\nitems(3) = [I, II]\r\n```","title":"Return the maximum level of nesting and list of items at a given level from the given JSON","body":"<p>I would do it like this, so you don't have to scan the text again to ask for a different level.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public final class NestedJson {\n    private int maxLevel;\n    private Map&lt;Integer, List&lt;String&gt;&gt; items = new HashMap&lt;&gt;();\n\n    public NestedJson(String data) {\n        int level = 0;\n        for (Matcher m = Pattern.compile(\"\\\"([^\\\"]*+)\\\"|([{}])\").matcher(data); m.find(); ) {\n            if (m.start(1) != -1) {\n                this.items.computeIfAbsent(level, k -&gt; new ArrayList&lt;&gt;()).add(m.group(1));\n                if (level &gt; this.maxLevel)\n                    this.maxLevel = level;\n            } else if (m.group(2).charAt(0) == '{') {\n                level++;\n            } else {\n                level--;\n            }\n        }\n    }\n\n    public int getMaxLevel() {\n        return this.maxLevel;\n    }\n    public List&lt;String&gt; getItems(int level) {\n        return this.items.get(level);\n    }\n}\n</code></pre>\n\n<p><em>Test</em></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>String data = \"{\\n\" +\n              \"\\t\\\"1\\\" : {\\n\" +\n              \"\\t   \\\"A\\\" :{}\\n\" +\n              \"\\t},\\n\" +\n              \"\\t\\\"2\\\" : {\\n\" +\n              \"\\t   \\\"A\\\" :{}\\n\" +\n              \"\\t   \\\"B\\\" : {\\n\" +\n              \"\\t     \\\"I\\\" :{},\\n\" +\n              \"\\t     \\\"II\\\":{}\\n\" +\n              \"\\t   }\\n\" +\n              \"\\t},\\n\" +\n              \"\\t\\\"3\\\" : {}\\n\" +\n              \"}\";\n\nNestedJson nestedJson = new NestedJson(data);\nSystem.out.println(\"maxLevel = \" + nestedJson.getMaxLevel());\nfor (int level = 1; level &lt;= nestedJson.getMaxLevel(); level++)\n    System.out.println(\"items(\" + level + \") = \" + nestedJson.getItems(level));\n</code></pre>\n\n<p><em>Output</em></p>\n\n<pre class=\"lang-none prettyprint-override\"><code>maxLevel = 3\nitems(1) = [1, 2, 3]\nitems(2) = [A, A, B]\nitems(3) = [I, II]\n</code></pre>\n"}],"owner":{"account_id":8277763,"reputation":573,"user_id":6223346,"accept_rate":67,"display_name":"Harish"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":185,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":62315251,"answer_count":1,"score":0,"last_activity_date":1693141354,"creation_date":1591831473,"question_id":62314711,"body_markdown":"How to return the maximum level of nesting and list of items at a given level from the given JSON. I was asked not to use any third-party library. So I tried to use Pattern matching but could not get the result.\r\n\r\n    {\r\n    \t&quot;1&quot; : {\r\n    \t   &quot;A&quot; :{}\r\n    \t},\r\n    \t&quot;2&quot; : {\r\n    \t   &quot;A&quot; :{}\r\n    \t   &quot;B&quot; : {\r\n    \t     &quot;I&quot; :{},\r\n    \t     &quot;II&quot;:{}\r\n    \t   }\r\n    \t},\r\n    \t&quot;3&quot; : {}\r\n    }\r\n\r\nCode I tried:\r\n\r\n    public class NestedJson {\r\n    \r\n        public int depth(String data, int deptth){\r\n    \r\n            Pattern pattern = Pattern.compile(&quot;\\&quot;(.+)\\&quot;&quot;);\r\n            Matcher matcher = pattern.matcher(data);\r\n    \r\n            List&lt;String&gt; list = new ArrayList&lt;String&gt;();\r\n            while (matcher.find()) {\r\n                list.add(matcher.group(1));\r\n            }\r\n    \r\n            System.out.println(list.size());\r\n            return list.size();\r\n    \r\n        }\r\n    \r\n        public static void main(String args[]){\r\n         String data = &quot;{\\n&quot; +\r\n                 &quot;\\t\\&quot;1\\&quot; : {\\n&quot; +\r\n                 &quot;\\t   \\&quot;A\\&quot; :{}\\n&quot; +\r\n                 &quot;\\t},\\n&quot; +\r\n                 &quot;\\t\\&quot;2\\&quot; : {\\n&quot; +\r\n                 &quot;\\t   \\&quot;A\\&quot; :{}\\n&quot; +\r\n                 &quot;\\t   \\&quot;B\\&quot; : {\\n&quot; +\r\n                 &quot;\\t     \\&quot;I\\&quot; :{},\\n&quot; +\r\n                 &quot;\\t     \\&quot;II\\&quot;:{}\\n&quot; +\r\n                 &quot;\\t   }\\n&quot; +\r\n                 &quot;\\t},\\n&quot; +\r\n                 &quot;\\t\\&quot;3\\&quot; : {}\\n&quot; +\r\n                 &quot;}&quot;;\r\n    \r\n            NestedJson nestedJson = new NestedJson();\r\n            nestedJson.depth(data, 1);\r\n        }\r\n    }\r\n\r\nSample output required:\r\n\r\n    depth(data,1) -&gt; {&quot;max_level&quot;= 3, items= [1,2,3]}\r\n    depth(data,2) -&gt; {&quot;max_level&quot;= 3, items= [A,A,B]}","title":"Return the maximum level of nesting and list of items at a given level from the given JSON","body":"<p>How to return the maximum level of nesting and list of items at a given level from the given JSON. I was asked not to use any third-party library. So I tried to use Pattern matching but could not get the result.</p>\n\n<pre><code>{\n    \"1\" : {\n       \"A\" :{}\n    },\n    \"2\" : {\n       \"A\" :{}\n       \"B\" : {\n         \"I\" :{},\n         \"II\":{}\n       }\n    },\n    \"3\" : {}\n}\n</code></pre>\n\n<p>Code I tried:</p>\n\n<pre><code>public class NestedJson {\n\n    public int depth(String data, int deptth){\n\n        Pattern pattern = Pattern.compile(\"\\\"(.+)\\\"\");\n        Matcher matcher = pattern.matcher(data);\n\n        List&lt;String&gt; list = new ArrayList&lt;String&gt;();\n        while (matcher.find()) {\n            list.add(matcher.group(1));\n        }\n\n        System.out.println(list.size());\n        return list.size();\n\n    }\n\n    public static void main(String args[]){\n     String data = \"{\\n\" +\n             \"\\t\\\"1\\\" : {\\n\" +\n             \"\\t   \\\"A\\\" :{}\\n\" +\n             \"\\t},\\n\" +\n             \"\\t\\\"2\\\" : {\\n\" +\n             \"\\t   \\\"A\\\" :{}\\n\" +\n             \"\\t   \\\"B\\\" : {\\n\" +\n             \"\\t     \\\"I\\\" :{},\\n\" +\n             \"\\t     \\\"II\\\":{}\\n\" +\n             \"\\t   }\\n\" +\n             \"\\t},\\n\" +\n             \"\\t\\\"3\\\" : {}\\n\" +\n             \"}\";\n\n        NestedJson nestedJson = new NestedJson();\n        nestedJson.depth(data, 1);\n    }\n}\n</code></pre>\n\n<p>Sample output required:</p>\n\n<pre><code>depth(data,1) -&gt; {\"max_level\"= 3, items= [1,2,3]}\ndepth(data,2) -&gt; {\"max_level\"= 3, items= [A,A,B]}\n</code></pre>\n"},{"tags":["javascript","java","html","thymeleaf"],"comments":[{"owner":{"account_id":966579,"reputation":3980,"user_id":989920,"accept_rate":76,"display_name":"evolutionxbox"},"score":0,"creation_date":1692616590,"post_id":76944759,"comment_id":135643085,"body_markdown":"_&quot;Java to JSP&quot;_ - do you mean JavaScript or JSP? They&#39;re different things","body":"<i>&quot;Java to JSP&quot;</i> - do you mean JavaScript or JSP? They&#39;re different things"},{"owner":{"account_id":24118424,"reputation":179,"user_id":18087971,"display_name":"waynewingorc"},"score":0,"creation_date":1692616654,"post_id":76944759,"comment_id":135643099,"body_markdown":"Sorry I meant JavaScript","body":"Sorry I meant JavaScript"},{"owner":{"account_id":5152799,"reputation":19367,"user_id":4126893,"display_name":"Metroids"},"score":0,"creation_date":1692628938,"post_id":76944759,"comment_id":135645940,"body_markdown":"Thymeleaf does this out of the box... have you read the Thymeleaf documentation on [JavaScript inlining](https://www.thymeleaf.org/doc/tutorials/3.1/usingthymeleaf.html#javascript-inlining)?","body":"Thymeleaf does this out of the box... have you read the Thymeleaf documentation on <a href=\"https://www.thymeleaf.org/doc/tutorials/3.1/usingthymeleaf.html#javascript-inlining\" rel=\"nofollow noreferrer\">JavaScript inlining</a>?"}],"answers":[{"comments":[{"owner":{"account_id":24118424,"reputation":179,"user_id":18087971,"display_name":"waynewingorc"},"score":0,"creation_date":1692618759,"post_id":76944912,"comment_id":135643550,"body_markdown":"Thank you. Does this require manually copying `jsonStr` value to JavaScript? I&#39;m trying to avoid any manual work. Sorry if this is a silly question as I&#39;m quite new to JavaScript","body":"Thank you. Does this require manually copying <code>jsonStr</code> value to JavaScript? I&#39;m trying to avoid any manual work. Sorry if this is a silly question as I&#39;m quite new to JavaScript"},{"owner":{"account_id":112084,"reputation":171457,"user_id":295783,"accept_rate":81,"display_name":"mplungjan"},"score":0,"creation_date":1692619137,"post_id":76944912,"comment_id":135643642,"body_markdown":"Yes that is a bit silly - no you do not need more code than that. What I showed is the bit of the JSP that needs to include the `&lt;script&gt;const exprs = JSON.parse(&#39;&lt;%=jsonStr%&gt;&#39;);&lt;/script&gt;` as minimum for the javascript to pick it up (for example if the rest of the script is in an external JS file) - if you do not want to use an objectmapper, then use whatever is current best practise in JAVA to stringify an array","body":"Yes that is a bit silly - no you do not need more code than that. What I showed is the bit of the JSP that needs to include the <code>&lt;script&gt;const exprs = JSON.parse(&#39;&lt;%=jsonStr%&gt;&#39;);&lt;&#47;script&gt;</code> as minimum for the javascript to pick it up (for example if the rest of the script is in an external JS file) - if you do not want to use an objectmapper, then use whatever is current best practise in JAVA to stringify an array"},{"owner":{"account_id":24118424,"reputation":179,"user_id":18087971,"display_name":"waynewingorc"},"score":0,"creation_date":1692621469,"post_id":76944912,"comment_id":135644190,"body_markdown":"Does this work if my java map is in the backend service classes, i.e., it&#39;s not a block of JSP code wrapped by `&lt;%  %&gt;` in the html","body":"Does this work if my java map is in the backend service classes, i.e., it&#39;s not a block of JSP code wrapped by <code>&lt;%  %&gt;</code> in the html"},{"owner":{"account_id":112084,"reputation":171457,"user_id":295783,"accept_rate":81,"display_name":"mplungjan"},"score":0,"creation_date":1692622050,"post_id":76944912,"comment_id":135644314,"body_markdown":"See updated answer","body":"See updated answer"},{"owner":{"account_id":24118424,"reputation":179,"user_id":18087971,"display_name":"waynewingorc"},"score":0,"creation_date":1692623278,"post_id":76944912,"comment_id":135644637,"body_markdown":"Thank you. I don’t really want to create a web service just to return the static map (when the map does change, there will be a new deployment). I’ve edited my question with a solution I can think of, by setting the map to html data-* attribute using Thymeleaf","body":"Thank you. I don’t really want to create a web service just to return the static map (when the map does change, there will be a new deployment). I’ve edited my question with a solution I can think of, by setting the map to html data-* attribute using Thymeleaf"},{"owner":{"account_id":112084,"reputation":171457,"user_id":295783,"accept_rate":81,"display_name":"mplungjan"},"score":0,"creation_date":1692623884,"post_id":76944912,"comment_id":135644781,"body_markdown":"Show how you do that. If it is something like `... data-list=&quot;{{ list }}&quot;` then you can do the same in JS: `const exprs = {{ list }}`","body":"Show how you do that. If it is something like <code>... data-list=&quot;{{ list }}&quot;</code> then you can do the same in JS: <code>const exprs = {{ list }}</code>"}],"tags":[],"owner":{"account_id":112084,"reputation":171457,"user_id":295783,"accept_rate":81,"display_name":"mplungjan"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692622043,"creation_date":1692617702,"answer_id":76944912,"question_id":76944759,"body_markdown":"Something like this (change ObjectMapper to any JSON stringifier you have)\r\n\r\n      ObjectMapper mapper = new ObjectMapper();\r\n      String jsonStr = mapper.writeValueAsString(countryToExprMap);\r\n    %&gt;\r\n\r\n    &lt;script&gt;\r\n    const exprs = JSON.parse(&#39;&lt;%=jsonStr%&gt;&#39;);\r\n    document.getElementById(&quot;exprs&quot;)\r\n      .innerHTML = `&lt;option value=&quot;&quot;&gt;Please select&lt;/option&gt;\r\n        ${exprs.map(val =&gt; `&lt;option value=&quot;${val}&quot;&gt;${val}&lt;/option&gt;`).join(&quot;&quot;)}`;\r\n    &lt;/script&gt;\r\n\r\nIf the JSON is not in the JSP, but can be delivered by your backend ass a file, then it is simpler: \r\n\r\n    fetch(&quot;yourListServiceReturningJSON&quot;)\r\n    .then(response =&gt; response.json())\r\n    .then(exprs =&gt; {\r\n      document.getElementById(&quot;exprs&quot;)\r\n        .innerHTML = `&lt;option value=&quot;&quot;&gt;Please select&lt;/option&gt;\r\n        ${exprs.map(val =&gt; `&lt;option value=&quot;${val}&quot;&gt;${val}&lt;/option&gt;`).join(&quot;&quot;)}`;\r\n    });\r\n","title":"Passing variable from Java to Javascript using Thymeleaf","body":"<p>Something like this (change ObjectMapper to any JSON stringifier you have)</p>\n<pre><code>  ObjectMapper mapper = new ObjectMapper();\n  String jsonStr = mapper.writeValueAsString(countryToExprMap);\n%&gt;\n\n&lt;script&gt;\nconst exprs = JSON.parse('&lt;%=jsonStr%&gt;');\ndocument.getElementById(&quot;exprs&quot;)\n  .innerHTML = `&lt;option value=&quot;&quot;&gt;Please select&lt;/option&gt;\n    ${exprs.map(val =&gt; `&lt;option value=&quot;${val}&quot;&gt;${val}&lt;/option&gt;`).join(&quot;&quot;)}`;\n&lt;/script&gt;\n</code></pre>\n<p>If the JSON is not in the JSP, but can be delivered by your backend ass a file, then it is simpler:</p>\n<pre><code>fetch(&quot;yourListServiceReturningJSON&quot;)\n.then(response =&gt; response.json())\n.then(exprs =&gt; {\n  document.getElementById(&quot;exprs&quot;)\n    .innerHTML = `&lt;option value=&quot;&quot;&gt;Please select&lt;/option&gt;\n    ${exprs.map(val =&gt; `&lt;option value=&quot;${val}&quot;&gt;${val}&lt;/option&gt;`).join(&quot;&quot;)}`;\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24118424,"reputation":179,"user_id":18087971,"display_name":"waynewingorc"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1693141330,"creation_date":1693141330,"answer_id":76987232,"question_id":76944759,"body_markdown":"Thanks to @Metroids.\r\n\r\nI was able to use Thymeleaf native way to solve it:\r\n\r\n```javascript\r\n\r\n// Access public static final Map COUNTRY_TO_EXPR_MAP in MyUtil.java\r\n&lt;script th:inline=&quot;javascript&quot;\r\n        th:with=&quot;countryToExprMap=${@my.package.MyUtil@COUNTRY_TO_EXPR_MAP}&quot;&gt;\r\n    const exprsMap = new Map(Object.entries([[${countryToExprMap}]]));\r\n    ...\r\n&lt;/script&gt;\r\n\r\n```","title":"Passing variable from Java to Javascript using Thymeleaf","body":"<p>Thanks to @Metroids.</p>\n<p>I was able to use Thymeleaf native way to solve it:</p>\n<pre class=\"lang-js prettyprint-override\"><code>\n// Access public static final Map COUNTRY_TO_EXPR_MAP in MyUtil.java\n&lt;script th:inline=&quot;javascript&quot;\n        th:with=&quot;countryToExprMap=${@my.package.MyUtil@COUNTRY_TO_EXPR_MAP}&quot;&gt;\n    const exprsMap = new Map(Object.entries([[${countryToExprMap}]]));\n    ...\n&lt;/script&gt;\n\n</code></pre>\n"}],"owner":{"account_id":24118424,"reputation":179,"user_id":18087971,"display_name":"waynewingorc"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76987232,"answer_count":2,"score":1,"last_activity_date":1693141330,"creation_date":1692616374,"question_id":76944759,"body_markdown":"I have a java `Map&lt;Country, List&lt;Expr&gt;&gt; countryToExprMap` in the backend service.  \r\nIn my web page rendered by Thymeleaf, I have a `Country` drop down to select Country, and a `Expr` drop down, where I only want `Expr`s mapped by the selected `Country` to be displayed.  \r\nTo do that, I need to pass `countryToExprMap` from Java to Javascript so that I can know the eligible `Expr`s from a given `Country`, so as to build a `updateExprOptions` function to be called by the `Country` dropdown on &quot;change&quot; event. Something like:\r\n```javascript\r\nvar exprDropDown = document.getElementById(&quot;exprs&quot;);\r\n\r\n// Map from Java\r\nvar exprs = countryToExprMap[selectedCountry];\r\n\r\n// Create options for the expr dropdown\r\nfor (var i = 0; i &lt; exprs.length; i++) {\r\n    var option = document.createElement(&quot;option&quot;);\r\n    option.value = exprs[i];\r\n    option.text = exprs[i];\r\n    exprDropDown.appendChild(option);\r\n}\r\n\r\n```\r\n\r\nUnfortunately it doesn&#39;t look like there&#39;s a way to pass the map variable from Java to JavaScript.  Any advice appreciated.\r\n\r\n---\r\nWhat I can think of is to stringify the map in Java,  \r\nset it as data-* attribute to a html element using Thymeleaf,  \r\nand at last deserialise the map in JavaScript to use it there.\r\n","title":"Passing variable from Java to Javascript using Thymeleaf","body":"<p>I have a java <code>Map&lt;Country, List&lt;Expr&gt;&gt; countryToExprMap</code> in the backend service.<br />\nIn my web page rendered by Thymeleaf, I have a <code>Country</code> drop down to select Country, and a <code>Expr</code> drop down, where I only want <code>Expr</code>s mapped by the selected <code>Country</code> to be displayed.<br />\nTo do that, I need to pass <code>countryToExprMap</code> from Java to Javascript so that I can know the eligible <code>Expr</code>s from a given <code>Country</code>, so as to build a <code>updateExprOptions</code> function to be called by the <code>Country</code> dropdown on &quot;change&quot; event. Something like:</p>\n<pre class=\"lang-js prettyprint-override\"><code>var exprDropDown = document.getElementById(&quot;exprs&quot;);\n\n// Map from Java\nvar exprs = countryToExprMap[selectedCountry];\n\n// Create options for the expr dropdown\nfor (var i = 0; i &lt; exprs.length; i++) {\n    var option = document.createElement(&quot;option&quot;);\n    option.value = exprs[i];\n    option.text = exprs[i];\n    exprDropDown.appendChild(option);\n}\n\n</code></pre>\n<p>Unfortunately it doesn't look like there's a way to pass the map variable from Java to JavaScript.  Any advice appreciated.</p>\n<hr />\n<p>What I can think of is to stringify the map in Java,<br />\nset it as data-* attribute to a html element using Thymeleaf,<br />\nand at last deserialise the map in JavaScript to use it there.</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":0,"creation_date":1591591017,"post_id":62255057,"comment_id":110103163,"body_markdown":"Q: Will every item code always include all three parts: itemValue, monthValue and yearValue?  Q: What&#39;s the rule for determining how long itemValue is: whether it&#39;s one, two or three characters?","body":"Q: Will every item code always include all three parts: itemValue, monthValue and yearValue?  Q: What&#39;s the rule for determining how long itemValue is: whether it&#39;s one, two or three characters?"},{"owner":{"account_id":13580905,"reputation":1768,"user_id":9796935,"display_name":"ennth"},"score":0,"creation_date":1591591414,"post_id":62255057,"comment_id":110103254,"body_markdown":"Yes, each input will have three parts. There is no rule for determining itemvalue length, it can just be 1 to 3 characters or digits at random. That&#39;s why I thought regex was the best approach.","body":"Yes, each input will have three parts. There is no rule for determining itemvalue length, it can just be 1 to 3 characters or digits at random. That&#39;s why I thought regex was the best approach."},{"owner":{"account_id":13102294,"reputation":417,"user_id":9466253,"display_name":"jnrdn0011"},"score":0,"creation_date":1591591524,"post_id":62255057,"comment_id":110103283,"body_markdown":"You can use or condition to exclude length 3.","body":"You can use or condition to exclude length 3."},{"owner":{"display_name":"user7571182"},"score":0,"creation_date":1592382602,"post_id":62255057,"comment_id":110402504,"body_markdown":"@ennth; if any of the below answer helps; please accept the one which best suits you and close this post. It&#39;ll help the answerer as well as the future readers of this post.","body":"@ennth; if any of the below answer helps; please accept the one which best suits you and close this post. It&#39;ll help the answerer as well as the future readers of this post."}],"answers":[{"tags":[],"owner":{"account_id":6401714,"reputation":5744,"user_id":4964136,"accept_rate":100,"display_name":"Vishwa Ratna"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1591592020,"creation_date":1591592020,"answer_id":62255227,"question_id":62255057,"body_markdown":"If you looking something different than a regex solution then the below could help:\r\n\r\n    String txt = &quot;QZAB19&quot;;\r\n    String month = txt.replaceAll(&quot;[0-9]&quot;, &quot;&quot;); //replaces all integers\r\n    System.out.println(month.charAt(month.length()-1)); //get you the last character that is month \r\n\r\n**Output:**\r\n\r\n    B","title":"Java regex parsing out middle value of String","body":"<p>If you looking something different than a regex solution then the below could help:</p>\n\n<pre><code>String txt = \"QZAB19\";\nString month = txt.replaceAll(\"[0-9]\", \"\"); //replaces all integers\nSystem.out.println(month.charAt(month.length()-1)); //get you the last character that is month \n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>B\n</code></pre>\n"},{"comments":[{"owner":{"account_id":13580905,"reputation":1768,"user_id":9796935,"display_name":"ennth"},"score":0,"creation_date":1591592517,"post_id":62255252,"comment_id":110103497,"body_markdown":"Ah, okay, this is what I was getting to also. What exactly do you mean by putting the $ at the end? And everytime I see people put the $ at the end, they also use ^ at the front, how is this different from not using ^...$  if I may ask? Thank you.","body":"Ah, okay, this is what I was getting to also. What exactly do you mean by putting the $ at the end? And everytime I see people put the $ at the end, they also use ^ at the front, how is this different from not using ^...$  if I may ask? Thank you."},{"owner":{"account_id":13102294,"reputation":417,"user_id":9466253,"display_name":"jnrdn0011"},"score":0,"creation_date":1591593714,"post_id":62255252,"comment_id":110103799,"body_markdown":"Yes, you have to use ^ also to strict the start matching point. I am suggesting this because I can see that you are trying to match the whole input string, but if you want to just pick the matching part from a large string or file then you don&#39;t need to use ^ and $.","body":"Yes, you have to use ^ also to strict the start matching point. I am suggesting this because I can see that you are trying to match the whole input string, but if you want to just pick the matching part from a large string or file then you don&#39;t need to use ^ and $."}],"tags":[],"owner":{"account_id":13102294,"reputation":417,"user_id":9466253,"display_name":"jnrdn0011"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1591593264,"creation_date":1591592151,"answer_id":62255252,"question_id":62255057,"body_markdown":"    Pattern pattern = Pattern.compile(&quot;^([a-zA-Z0-9]{1,3})([a-zA-Z])(([0-9]{1,2})|([0-9]{4}))$&quot;);\r\n\r\nYou should use $ to restrict the end matching point else your condition for restricting digts at end of string doesn&#39;t work.","title":"Java regex parsing out middle value of String","body":"<pre><code>Pattern pattern = Pattern.compile(\"^([a-zA-Z0-9]{1,3})([a-zA-Z])(([0-9]{1,2})|([0-9]{4}))$\");\n</code></pre>\n\n<p>You should use $ to restrict the end matching point else your condition for restricting digts at end of string doesn't work.</p>\n"},{"comments":[{"owner":{"account_id":13580905,"reputation":1768,"user_id":9796935,"display_name":"ennth"},"score":0,"creation_date":1591592637,"post_id":62255261,"comment_id":110103527,"body_markdown":"but would&#39;&#39;t \\d {1,4} on the yearvalue pick up a length of 3? that violates the yearvalue rule.","body":"but would&#39;&#39;t \\d {1,4} on the yearvalue pick up a length of 3? that violates the yearvalue rule."},{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":0,"creation_date":1591637223,"post_id":62255261,"comment_id":110125726,"body_markdown":"The regex will do it&#39;s job - it&#39;ll extract the values just fine. If you also want validate potentially bad input... then I&#39;d recommend doing checking for *all* possible errors in Java, after you&#39;ve extracted the values.  If you *really* want to exclude &quot;3&quot;, [mandy8055](https://stackoverflow.com/a/62255317/3135317) showed you how to combine &quot;or&quot; with a [&quot;non-capture subpattern&quot;](https://stackoverflow.com/questions/3705842/).  Please consider &quot;upvoting&quot; and &quot;accepting&quot; his (most excellent!) reply.","body":"The regex will do it&#39;s job - it&#39;ll extract the values just fine. If you also want validate potentially bad input... then I&#39;d recommend doing checking for <i>all</i> possible errors in Java, after you&#39;ve extracted the values.  If you <i>really</i> want to exclude &quot;3&quot;, <a href=\"https://stackoverflow.com/a/62255317/3135317\">mandy8055</a> showed you how to combine &quot;or&quot; with a <a href=\"https://stackoverflow.com/questions/3705842/\">&quot;non-capture subpattern&quot;</a>.  Please consider &quot;upvoting&quot; and &quot;accepting&quot; his (most excellent!) reply."}],"tags":[],"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1591637176,"creation_date":1591592208,"answer_id":62255261,"question_id":62255057,"body_markdown":"Try this:\r\n\r\n    ([\\w]{1,3})(\\D)([\\d]{1,4})\r\n\r\nExamples:\r\n\r\nhttps://www.freeformatter.com/java-regex-tester.html#ad-output\r\n\r\n    Input     Match:\r\n    -----     -----\r\n    AP18      (A)(P)(18)\r\n    QZAB19    (QZA)(B)(19)\r\n    ARM8      (AR)(M)(8)\r\n    QZAB123   (QZA)(B)(123)\r\n    QZAB1234  (QZA)(B)(1234)\r\n    A123      No match\r\n    1234      No match","title":"Java regex parsing out middle value of String","body":"<p>Try this:</p>\n\n<pre><code>([\\w]{1,3})(\\D)([\\d]{1,4})\n</code></pre>\n\n<p>Examples:</p>\n\n<p><a href=\"https://www.freeformatter.com/java-regex-tester.html#ad-output\" rel=\"nofollow noreferrer\">https://www.freeformatter.com/java-regex-tester.html#ad-output</a></p>\n\n<pre><code>Input     Match:\n-----     -----\nAP18      (A)(P)(18)\nQZAB19    (QZA)(B)(19)\nARM8      (AR)(M)(8)\nQZAB123   (QZA)(B)(123)\nQZAB1234  (QZA)(B)(1234)\nA123      No match\n1234      No match\n</code></pre>\n"},{"comments":[{"owner":{"account_id":13580905,"reputation":1768,"user_id":9796935,"display_name":"ennth"},"score":0,"creation_date":1591592627,"post_id":62255317,"comment_id":110103526,"body_markdown":"but would&#39;&#39;t \\d {1,4} on the yearvalue pick up a length of 3? that violates the yearvalue rule.","body":"but would&#39;&#39;t \\d {1,4} on the yearvalue pick up a length of 3? that violates the yearvalue rule."},{"owner":{"display_name":"user7571182"},"score":0,"creation_date":1591592751,"post_id":62255317,"comment_id":110103554,"body_markdown":"Updated the regex.Please check","body":"Updated the regex.Please check"}],"tags":[],"owner":{"display_name":"user7571182"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1591635420,"creation_date":1591592549,"answer_id":62255317,"question_id":62255057,"body_markdown":"Your regex is correct. To add your last requirement you may try:\n\n    ^\\w{1,3}([a-zA-Z])(?:\\d{1,2}|\\d{4})$\n                       ^^^^^^^^^^^^^^^^\n                        This part\n\n**Explanation of the above regex:**\n&gt;**```^, $```** - Represents start and end of line respectively.\n&gt;\n&gt;**```\\w{1,3}```** - Matches from `[0-9A-Za-z_]` 1 to 3 times. If there is a chance that your test string contains **`_`**; then try to use `[0-9A-Za-z]` here.\n&gt;\n&gt;**```([a-zA-Z])```** - Represents capturing group matching a letter.\n&gt;\n&gt;**```(?:\\d{1,2}|\\d{4})```** - Represents a non-capturing group matching the digits 1, 2 or 4 times **but not three**.\n \nYou can find the above regex demo in [**here.**](https://regex101.com/r/wzf6Gm/4)\n\n[![pictorial Representation][1]][1]\n\n**Implementation in java:**\n```\nimport java.util.regex.Pattern;\nimport java.util.regex.Matcher;\npublic class Main\n{\n    private static final Pattern pattern = Pattern.compile(&quot;^\\\\w{1,3}([a-zA-Z])(?:\\\\d{1,2}|\\\\d{4})$&quot;, Pattern.MULTILINE);\n    public static void main(String[] args) {\n        final String string = &quot;QZAB19\\n&quot;\n     + &quot;AP18\\n&quot;\n     + &quot;ARM8\\n&quot;\n     + &quot;ARM803&quot;; // This won&#39;t match since the year value is 3.\n     Matcher matcher = pattern.matcher(string);\n     while(matcher.find())System.out.println(matcher.group(1)); // 1st group matches the month-value.\n    }\n}\n\n```\n\nYou can find the sample run of the above code in [**here.**](https://onlinegdb.com/SklMYSj2I)\n\n\n  [1]: https://i.stack.imgur.com/qSe9E.png","title":"Java regex parsing out middle value of String","body":"<p>Your regex is correct. To add your last requirement you may try:</p>\n<pre><code>^\\w{1,3}([a-zA-Z])(?:\\d{1,2}|\\d{4})$\n                   ^^^^^^^^^^^^^^^^\n                    This part\n</code></pre>\n<p><strong>Explanation of the above regex:</strong></p>\n<blockquote>\n<p><strong><code>^, $</code></strong> - Represents start and end of line respectively.</p>\n<p><strong><code>\\w{1,3}</code></strong> - Matches from <code>[0-9A-Za-z_]</code> 1 to 3 times. If there is a chance that your test string contains <strong><code>_</code></strong>; then try to use <code>[0-9A-Za-z]</code> here.</p>\n<p><strong><code>([a-zA-Z])</code></strong> - Represents capturing group matching a letter.</p>\n<p><strong><code>(?:\\d{1,2}|\\d{4})</code></strong> - Represents a non-capturing group matching the digits 1, 2 or 4 times <strong>but not three</strong>.</p>\n</blockquote>\n<p>You can find the above regex demo in <a href=\"https://regex101.com/r/wzf6Gm/4\" rel=\"nofollow noreferrer\"><strong>here.</strong></a></p>\n<p><a href=\"https://i.stack.imgur.com/qSe9E.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qSe9E.png\" alt=\"pictorial Representation\" /></a></p>\n<p><strong>Implementation in java:</strong></p>\n<pre><code>import java.util.regex.Pattern;\nimport java.util.regex.Matcher;\npublic class Main\n{\n    private static final Pattern pattern = Pattern.compile(&quot;^\\\\w{1,3}([a-zA-Z])(?:\\\\d{1,2}|\\\\d{4})$&quot;, Pattern.MULTILINE);\n    public static void main(String[] args) {\n        final String string = &quot;QZAB19\\n&quot;\n     + &quot;AP18\\n&quot;\n     + &quot;ARM8\\n&quot;\n     + &quot;ARM803&quot;; // This won't match since the year value is 3.\n     Matcher matcher = pattern.matcher(string);\n     while(matcher.find())System.out.println(matcher.group(1)); // 1st group matches the month-value.\n    }\n}\n\n</code></pre>\n<p>You can find the sample run of the above code in <a href=\"https://onlinegdb.com/SklMYSj2I\" rel=\"nofollow noreferrer\"><strong>here.</strong></a></p>\n"}],"owner":{"account_id":13580905,"reputation":1768,"user_id":9796935,"display_name":"ennth"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1270,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":62255317,"answer_count":4,"score":4,"last_activity_date":1693141296,"creation_date":1591590730,"question_id":62255057,"body_markdown":"I have some data that comes in as a String, and I need to extract or print out the **monthvalue** ( middle group) that is in the form:\r\n\r\n**[itemvalue] [monthvalue] [yearvalue]**\r\n\r\n*The rules are:*\r\n\r\n**itemvalue** = can be 1-3 characters (or digits) in length\r\n\r\n**monthvalue** = is single alpha character [a-z]\r\n\r\n**yearvalue** = can be 1, 2, or 4 digits representing calender year\r\n\r\n\r\nSome Example Inputs:\r\n\r\n**Input1**\r\n\r\n`AP18`\r\n\r\n**Output1**\r\n\r\n`P`\r\n\r\n**Input2**\r\n\r\n`QZAB19`\r\n\r\n**Output2**\r\n\r\n`B`\r\n\r\n**Input3**\r\n\r\n`ARM8`\r\n\r\n**Output3**\r\n\r\n`M`\r\n\r\nI was trying to **compile** a **pattern** like:\r\n\r\n    Pattern pattern = Pattern.compile(&quot;([a-zA-Z0-9]{1,3})([a-z])([0-9]{1,4})&quot;);\r\n\r\nand then call **matcher** on the input to **find()** the groups, in this case, the **monthvalue**, which should be **matcher.group(2)** like:\r\n\r\n    Matcher m = pattern.matcher(&quot;OneOfTheExampleInputStringsFromAbove&quot;); \r\n \r\n        if (matcher.find()) {\r\n        System.out.println(matcher.group(2));\r\n    }\r\n\r\nI thought I was close but one issue was how to include a length of 1, 2 and 4, but exclude 3 length for the **yearvalue**. Is my approach good? Am I missing anything in my Compile pattern?\r\n\r\nplease let me know!","title":"Java regex parsing out middle value of String","body":"<p>I have some data that comes in as a String, and I need to extract or print out the <strong>monthvalue</strong> ( middle group) that is in the form:</p>\n\n<p><strong>[itemvalue] [monthvalue] [yearvalue]</strong></p>\n\n<p><em>The rules are:</em></p>\n\n<p><strong>itemvalue</strong> = can be 1-3 characters (or digits) in length</p>\n\n<p><strong>monthvalue</strong> = is single alpha character [a-z]</p>\n\n<p><strong>yearvalue</strong> = can be 1, 2, or 4 digits representing calender year</p>\n\n<p>Some Example Inputs:</p>\n\n<p><strong>Input1</strong></p>\n\n<p><code>AP18</code></p>\n\n<p><strong>Output1</strong></p>\n\n<p><code>P</code></p>\n\n<p><strong>Input2</strong></p>\n\n<p><code>QZAB19</code></p>\n\n<p><strong>Output2</strong></p>\n\n<p><code>B</code></p>\n\n<p><strong>Input3</strong></p>\n\n<p><code>ARM8</code></p>\n\n<p><strong>Output3</strong></p>\n\n<p><code>M</code></p>\n\n<p>I was trying to <strong>compile</strong> a <strong>pattern</strong> like:</p>\n\n<pre><code>Pattern pattern = Pattern.compile(\"([a-zA-Z0-9]{1,3})([a-z])([0-9]{1,4})\");\n</code></pre>\n\n<p>and then call <strong>matcher</strong> on the input to <strong>find()</strong> the groups, in this case, the <strong>monthvalue</strong>, which should be <strong>matcher.group(2)</strong> like:</p>\n\n<pre><code>Matcher m = pattern.matcher(\"OneOfTheExampleInputStringsFromAbove\"); \n\n    if (matcher.find()) {\n    System.out.println(matcher.group(2));\n}\n</code></pre>\n\n<p>I thought I was close but one issue was how to include a length of 1, 2 and 4, but exclude 3 length for the <strong>yearvalue</strong>. Is my approach good? Am I missing anything in my Compile pattern?</p>\n\n<p>please let me know!</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":10130520,"reputation":719,"user_id":7484134,"display_name":"Benjamin Eckardt"},"score":2,"creation_date":1591199330,"post_id":62177004,"comment_id":109966811,"body_markdown":"Is it the same problem https://stackoverflow.com/questions/9687596/slow-regex-performance ?","body":"Is it the same problem <a href=\"https://stackoverflow.com/questions/9687596/slow-regex-performance\" title=\"slow regex performance\">stackoverflow.com/questions/9687596/slow-regex-performance</a> ?"},{"owner":{"account_id":13010042,"reputation":769,"user_id":9403408,"accept_rate":100,"display_name":"H Athukorala"},"score":0,"creation_date":1591199816,"post_id":62177004,"comment_id":109967123,"body_markdown":"@BenjaminEckardt But why this is for just a one website? Currently the issue is with this website.","body":"@BenjaminEckardt But why this is for just a one website? Currently the issue is with this website."},{"owner":{"account_id":10130520,"reputation":719,"user_id":7484134,"display_name":"Benjamin Eckardt"},"score":1,"creation_date":1591200143,"post_id":62177004,"comment_id":109967307,"body_markdown":"It&#39;s quite some content you have there. Maybe you can reduce `pageBody`, and split it in order to find out if that gives you a clue about any extraordinary parts in the content.","body":"It&#39;s quite some content you have there. Maybe you can reduce <code>pageBody</code>, and split it in order to find out if that gives you a clue about any extraordinary parts in the content."},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":2,"creation_date":1591200261,"post_id":62177004,"comment_id":109967382,"body_markdown":"`pageBody` is more than 245000 characters, and with the double match-many (`([\\\\.\\\\w])+[\\\\w]+`) there is a lot of backtracking going on. Removing that last `+` might help, e.g. use `&quot;[\\\\w\\\\-][\\\\.\\\\w]+\\\\w@[\\\\w\\\\-\\\\.]+?\\\\.[A-Za-z]{2,4}&quot;`","body":"<code>pageBody</code> is more than 245000 characters, and with the double match-many (<code>([\\\\.\\\\w])+[\\\\w]+</code>) there is a lot of backtracking going on. Removing that last <code>+</code> might help, e.g. use <code>&quot;[\\\\w\\\\-][\\\\.\\\\w]+\\\\w@[\\\\w\\\\-\\\\.]+?\\\\.[A-Za-z]{2,4}&quot;</code>"},{"owner":{"account_id":5399016,"reputation":5264,"user_id":4299358,"display_name":"AmigoJack"},"score":1,"creation_date":1591200815,"post_id":62177004,"comment_id":109967675,"body_markdown":"This is also a regexp which by far won&#39;t find all valid e-mail addresses (i.e. a trailing `-` in the account is allowed). Seeing `\\\\w` put into `[]` and escaping `.` in `[]` indicates you don&#39;t understand regexp.","body":"This is also a regexp which by far won&#39;t find all valid e-mail addresses (i.e. a trailing <code>-</code> in the account is allowed). Seeing <code>\\\\w</code> put into <code>[]</code> and escaping <code>.</code> in <code>[]</code> indicates you don&#39;t understand regexp."},{"owner":{"account_id":1268556,"reputation":48088,"user_id":1225328,"accept_rate":93,"display_name":"sp00m"},"score":0,"creation_date":1591201223,"post_id":62177004,"comment_id":109967930,"body_markdown":"You might be ReDoS-ing yourself here. I&#39;d recommend using `[^\\s@]+@[^\\s@]+` first which should perform better, then possibly filter out the false positives with a more precise regex. Matching email addresses with a regex is a tough job anyway. For instance, the regex you&#39;re using won&#39;t match valid addresses like `foo+bar@example.org`.","body":"You might be ReDoS-ing yourself here. I&#39;d recommend using <code>[^\\s@]+@[^\\s@]+</code> first which should perform better, then possibly filter out the false positives with a more precise regex. Matching email addresses with a regex is a tough job anyway. For instance, the regex you&#39;re using won&#39;t match valid addresses like <code>foo+bar@example.org</code>."}],"answers":[{"comments":[{"owner":{"account_id":5399016,"reputation":5264,"user_id":4299358,"display_name":"AmigoJack"},"score":0,"creation_date":1591202439,"post_id":62177525,"comment_id":109968614,"body_markdown":"This regexp makes the same mistake of unnecessarily escaping characters in a class (`\\.` inside `[]`), is redundant (two `+` inside same `[]`) and is technically wrong either (account part is 64 octets at max, see https://tools.ietf.org/html/rfc5321#section-4.5.3.1.1)","body":"This regexp makes the same mistake of unnecessarily escaping characters in a class (<code>\\.</code> inside <code>[]</code>), is redundant (two <code>+</code> inside same <code>[]</code>) and is technically wrong either (account part is 64 octets at max, see <a href=\"https://tools.ietf.org/html/rfc5321#section-4.5.3.1.1\" rel=\"nofollow noreferrer\">tools.ietf.org/html/rfc5321#section-4.5.3.1.1</a>)"},{"owner":{"account_id":13010042,"reputation":769,"user_id":9403408,"accept_rate":100,"display_name":"H Athukorala"},"score":0,"creation_date":1591713039,"post_id":62177525,"comment_id":110156315,"body_markdown":"Thank you very much for the quick and clear answer and I really appreciate putting your time and effort to answer this question. Thank you very, much.","body":"Thank you very much for the quick and clear answer and I really appreciate putting your time and effort to answer this question. Thank you very, much."}],"tags":[],"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1591200688,"creation_date":1591200688,"answer_id":62177525,"question_id":62177004,"body_markdown":"There is some problem with your regex. Given below is the code with the working regex:\r\n\r\n    import java.io.IOException;\r\n    import java.util.regex.Matcher;\r\n    import java.util.regex.Pattern;\r\n    \r\n    import org.jsoup.Jsoup;\r\n    import org.jsoup.nodes.Document;\r\n    \r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tDocument documentTwo = null;\r\n    \t\ttry {\r\n    \t\t\tdocumentTwo = Jsoup\r\n    \t\t\t\t\t.connect(\r\n    \t\t\t\t\t\t\t&quot;https://www.mercurynews.com/2020/03/21/how-can-i-get-tested-for-covid-19-in-the-bay-area/&quot;)\r\n    \t\t\t\t\t.header(&quot;Content-Language&quot;, &quot;en-US&quot;).get();\r\n    \t\t} catch (IOException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \r\n    \t\tString pageBody = documentTwo.toString();\r\n    \t\tPattern pattern = Pattern.compile(\r\n    \t\t\t\t&quot;([a-zA-Z0-9\\\\+\\\\.\\\\_\\\\%\\\\-\\\\+]{1,256}\\\\@[a-zA-Z0-9][a-zA-Z0-9\\\\-]{0,64}(\\\\.[a-zA-Z0-9][a-zA-Z0-9\\\\-]{0,25})+)&quot;);\r\n    \t\tMatcher matcher = pattern.matcher(pageBody);\r\n    \t\twhile (matcher.find()) {\r\n    \t\t\tSystem.out.println(matcher.group());\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n**Output:**\r\n\r\n    lkrieger@bayareanewsgroup.com\r\n    lkrieger@bayareanewsgroup.com\r\n    fkelliher@bayareanewsgroup.com\r\n    lkrieger@bayareanewsgroup.com\r\n    lkrieger@bayareanewsgroup.com\r\n    fkelliher@bayareanewsgroup.com\r\n    fkelliher@bayareanewsgroup.com\r\n    lkrieger@bayareanewsgroup.com\r\n    lkrieger@bayareanewsgroup.com\r\n    fkelliher@bayareanewsgroup.com\r\n    fkelliher@bayareanewsgroup.com\r\n    lkrieger@bayareanewsgroup.com\r\n\r\n","title":"Why matcher.find() is not giving any result? Why it freezes?","body":"<p>There is some problem with your regex. Given below is the code with the working regex:</p>\n\n<pre><code>import java.io.IOException;\nimport java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\nimport org.jsoup.Jsoup;\nimport org.jsoup.nodes.Document;\n\npublic class Main {\n    public static void main(String[] args) {\n        Document documentTwo = null;\n        try {\n            documentTwo = Jsoup\n                    .connect(\n                            \"https://www.mercurynews.com/2020/03/21/how-can-i-get-tested-for-covid-19-in-the-bay-area/\")\n                    .header(\"Content-Language\", \"en-US\").get();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n\n        String pageBody = documentTwo.toString();\n        Pattern pattern = Pattern.compile(\n                \"([a-zA-Z0-9\\\\+\\\\.\\\\_\\\\%\\\\-\\\\+]{1,256}\\\\@[a-zA-Z0-9][a-zA-Z0-9\\\\-]{0,64}(\\\\.[a-zA-Z0-9][a-zA-Z0-9\\\\-]{0,25})+)\");\n        Matcher matcher = pattern.matcher(pageBody);\n        while (matcher.find()) {\n            System.out.println(matcher.group());\n        }\n    }\n}\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>lkrieger@bayareanewsgroup.com\nlkrieger@bayareanewsgroup.com\nfkelliher@bayareanewsgroup.com\nlkrieger@bayareanewsgroup.com\nlkrieger@bayareanewsgroup.com\nfkelliher@bayareanewsgroup.com\nfkelliher@bayareanewsgroup.com\nlkrieger@bayareanewsgroup.com\nlkrieger@bayareanewsgroup.com\nfkelliher@bayareanewsgroup.com\nfkelliher@bayareanewsgroup.com\nlkrieger@bayareanewsgroup.com\n</code></pre>\n"}],"owner":{"account_id":13010042,"reputation":769,"user_id":9403408,"accept_rate":100,"display_name":"H Athukorala"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":355,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":62177525,"answer_count":1,"score":1,"last_activity_date":1693141271,"creation_date":1591199052,"question_id":62177004,"body_markdown":"I am creating an email scraper. But when I tried with one particular URL `matcher.find()` is not giving any `boolean` result. As I see it freezes. But for some other URLs the code is working fine.\r\n\r\nHere is my code,\r\n\r\n    private Matcher matcher;\r\n    private Pattern pattern = null;\r\n    private final String emailPattern = &quot;([\\\\w\\\\-]([\\\\.\\\\w])+[\\\\w]+@([\\\\w\\\\-]+\\\\.)+[A-Za-z]{2,4})&quot;;\r\n    \r\n    public void scrape() {\r\n       pattern = Pattern.compile(emailPattern);\r\n    \r\n       Document documentTwo = null;\r\n    \r\n       try {\r\n          documentTwo = Jsoup.connect(&quot;https://www.mercurynews.com/2020/03/21/how-can-i-get-tested-for-covid-19-in-the-bay-area/&quot;)\r\n                  .ignoreHttpErrors(true)\r\n                  .userAgent(RandomUserAgent.getRandomUserAgent())\r\n                  .header(&quot;Content-Language&quot;, &quot;en-US&quot;)\r\n                  .get();\r\n       } catch (IOException ex) {\r\n         break;\r\n       }\r\n    \r\n       String pageBody = documentTwo.toString();\r\n    \r\n       matcher = pattern.matcher(pageBody);\r\n    \r\n       while (matcher.find()) {\r\n          // this will never execute for the above web address\r\n       }\r\n    }\r\n\r\nTo check I have added `System.out.println(matcher.find());` above the while loop and it stucks there without printing any value. So what I am doing wrong here? I have tried with many different email regex patterns but the above pattern is the working one.\r\n","title":"Why matcher.find() is not giving any result? Why it freezes?","body":"<p>I am creating an email scraper. But when I tried with one particular URL <code>matcher.find()</code> is not giving any <code>boolean</code> result. As I see it freezes. But for some other URLs the code is working fine.</p>\n<p>Here is my code,</p>\n<pre><code>private Matcher matcher;\nprivate Pattern pattern = null;\nprivate final String emailPattern = &quot;([\\\\w\\\\-]([\\\\.\\\\w])+[\\\\w]+@([\\\\w\\\\-]+\\\\.)+[A-Za-z]{2,4})&quot;;\n\npublic void scrape() {\n   pattern = Pattern.compile(emailPattern);\n\n   Document documentTwo = null;\n\n   try {\n      documentTwo = Jsoup.connect(&quot;https://www.mercurynews.com/2020/03/21/how-can-i-get-tested-for-covid-19-in-the-bay-area/&quot;)\n              .ignoreHttpErrors(true)\n              .userAgent(RandomUserAgent.getRandomUserAgent())\n              .header(&quot;Content-Language&quot;, &quot;en-US&quot;)\n              .get();\n   } catch (IOException ex) {\n     break;\n   }\n\n   String pageBody = documentTwo.toString();\n\n   matcher = pattern.matcher(pageBody);\n\n   while (matcher.find()) {\n      // this will never execute for the above web address\n   }\n}\n</code></pre>\n<p>To check I have added <code>System.out.println(matcher.find());</code> above the while loop and it stucks there without printing any value. So what I am doing wrong here? I have tried with many different email regex patterns but the above pattern is the working one.</p>\n"},{"tags":["java","regex"],"answers":[{"comments":[{"owner":{"display_name":"user13240224"},"score":0,"creation_date":1586193812,"post_id":61065196,"comment_id":108033161,"body_markdown":"Yes, it&#39;s working, but I have 2 problems with that: 1. it&#39;s duplicating backticks, when already set 2. and it&#39;s only working if word is lowercase, but word can be like that &quot;Username&quot;","body":"Yes, it&#39;s working, but I have 2 problems with that: 1. it&#39;s duplicating backticks, when already set 2. and it&#39;s only working if word is lowercase, but word can be like that &quot;Username&quot;"},{"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":0,"creation_date":1586194613,"post_id":61065196,"comment_id":108033542,"body_markdown":"@yoshino - I&#39;ve updated my answer to fulfil these two requirements as well. Feel free to comment in case of any doubt/issue.","body":"@yoshino - I&#39;ve updated my answer to fulfil these two requirements as well. Feel free to comment in case of any doubt/issue."}],"tags":[],"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669582688,"creation_date":1586193134,"answer_id":61065196,"question_id":61064851,"body_markdown":"Do it as follows:\r\n\r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\t// Tests\r\n    \t\tString[] sqls = { \r\n    \t\t\t\t&quot;SELECT * FROM users WHERE username=?;&quot;, \r\n    \t\t\t\t&quot;SELECT * FROM Users WHERE username=?;&quot;,\r\n    \t\t\t\t&quot;SELECT * FROM `users` WHERE username=?;&quot;, \r\n    \t\t\t\t&quot;SELECT * FROM `Users` WHERE username=?;&quot; \r\n    \t\t\t\t};\r\n    \t\tfor (String sql : sqls) {\r\n    \t\t\tSystem.out.println(sql.replace(&quot;`&quot;, &quot;&quot;).replaceAll(&quot;(\\\\b[A-Z][a-z]+)|(\\\\b([a-z]+)\\\\b)&quot;, &quot;`$0`&quot;));\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n**Output:**\r\n\r\n    SELECT * FROM `users` WHERE `username`=?;\r\n    SELECT * FROM `Users` WHERE `username`=?;\r\n    SELECT * FROM `users` WHERE `username`=?;\r\n    SELECT * FROM `Users` WHERE `username`=?;\r\n\r\n**Explanation:**\r\n\r\n 1. *sql.replace(&quot;`&quot;, &quot;&quot;)* removes all backticks (by replacing them with an empty string) if they are already present to avoid duplicating them.\r\n 2. `\\b` is used for word boundary.\r\n 3. `[a-z]+` is for only lowercase characters.\r\n 4. `[A-Z][a-z]+` is for a capital letter followed by lowercase letters.\r\n 5.  `|` is used as an `or`.\r\n 6. `$0` is used for the whole match argument.\r\n","title":"Java regex doesn&#39;t match","body":"<p>Do it as follows:</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        // Tests\n        String[] sqls = { \n                &quot;SELECT * FROM users WHERE username=?;&quot;, \n                &quot;SELECT * FROM Users WHERE username=?;&quot;,\n                &quot;SELECT * FROM `users` WHERE username=?;&quot;, \n                &quot;SELECT * FROM `Users` WHERE username=?;&quot; \n                };\n        for (String sql : sqls) {\n            System.out.println(sql.replace(&quot;`&quot;, &quot;&quot;).replaceAll(&quot;(\\\\b[A-Z][a-z]+)|(\\\\b([a-z]+)\\\\b)&quot;, &quot;`$0`&quot;));\n        }\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>SELECT * FROM `users` WHERE `username`=?;\nSELECT * FROM `Users` WHERE `username`=?;\nSELECT * FROM `users` WHERE `username`=?;\nSELECT * FROM `Users` WHERE `username`=?;\n</code></pre>\n<p><strong>Explanation:</strong></p>\n<ol>\n<li><em>sql.replace(&quot;`&quot;, &quot;&quot;)</em> removes all backticks (by replacing them with an empty string) if they are already present to avoid duplicating them.</li>\n<li><code>\\b</code> is used for word boundary.</li>\n<li><code>[a-z]+</code> is for only lowercase characters.</li>\n<li><code>[A-Z][a-z]+</code> is for a capital letter followed by lowercase letters.</li>\n<li><code>|</code> is used as an <code>or</code>.</li>\n<li><code>$0</code> is used for the whole match argument.</li>\n</ol>\n"}],"owner":{"display_name":"user13240224"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":61065196,"answer_count":1,"score":1,"last_activity_date":1693141233,"creation_date":1586191835,"question_id":61064851,"body_markdown":"I have this regex:\r\n```\r\n#(?&lt;=[^\\w`&quot;\\[?:]|^)[a-z_][a-z0-9_]*(?=[^\\w`&quot;(\\]]|$)#Di\r\n```\r\nand I&#39;m trying to make SQL syntax pretty. For example from &quot;SELECT * FROM users WHERE username=?;&quot; to\r\n```\r\nSELECT * FROM `users` WHERE `username`=?;\r\n```\r\n\r\nThis regex matching all words, which doesn&#39;t contain backticks. And in the match group I&#39;m checking if is matched word uppercase. If is it true, then this word is skipped. And other words are added to the backticks. My problem is, that regex doesn&#39;t match nothing. I have similar code in the PHP, and it works there.\r\n\r\n```\r\nfunction tryDelimite(string $s): string {\r\n\treturn preg_replace_callback(&#39;#(?&lt;=[^\\w`&quot;\\[?:]|^)[a-z_][a-z0-9_]*(?=[^\\w`&quot;(\\]]|$)#Di&#39;, function (array $m): string {\r\n\t\treturn strtoupper($m[0]) === $m[0] ? $m[0] : delimite($m[0]);\r\n\t}, $s);\r\n}\r\n\r\nfunction delimite(string $name): string\t{\r\n\treturn &#39;`&#39; . str_replace(&#39;`&#39;, &#39;``&#39;, $name) . &#39;`&#39;;\r\n}\r\n\r\necho tryDelimite(&quot;SELECT * FROM users WHERE username=?;&quot;);\r\n```\r\n\r\nDoes anyone have an idea, please?","title":"Java regex doesn&#39;t match","body":"<p>I have this regex:</p>\n\n<pre><code>#(?&lt;=[^\\w`\"\\[?:]|^)[a-z_][a-z0-9_]*(?=[^\\w`\"(\\]]|$)#Di\n</code></pre>\n\n<p>and I'm trying to make SQL syntax pretty. For example from \"SELECT * FROM users WHERE username=?;\" to</p>\n\n<pre><code>SELECT * FROM `users` WHERE `username`=?;\n</code></pre>\n\n<p>This regex matching all words, which doesn't contain backticks. And in the match group I'm checking if is matched word uppercase. If is it true, then this word is skipped. And other words are added to the backticks. My problem is, that regex doesn't match nothing. I have similar code in the PHP, and it works there.</p>\n\n<pre><code>function tryDelimite(string $s): string {\n    return preg_replace_callback('#(?&lt;=[^\\w`\"\\[?:]|^)[a-z_][a-z0-9_]*(?=[^\\w`\"(\\]]|$)#Di', function (array $m): string {\n        return strtoupper($m[0]) === $m[0] ? $m[0] : delimite($m[0]);\n    }, $s);\n}\n\nfunction delimite(string $name): string {\n    return '`' . str_replace('`', '``', $name) . '`';\n}\n\necho tryDelimite(\"SELECT * FROM users WHERE username=?;\");\n</code></pre>\n\n<p>Does anyone have an idea, please?</p>\n"},{"tags":["java","regex","string","arraylist"],"answers":[{"tags":[],"owner":{"account_id":10310871,"reputation":25632,"user_id":7606764,"display_name":"Andronicus"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1584411084,"creation_date":1584411084,"answer_id":60715377,"question_id":60715341,"body_markdown":"You can use regular expression for that:\r\n\r\n    patterntoSearch.stream()\r\n        .anyMatch(s -&gt; text.matches(&quot;.*&quot; + s + &quot;.*&quot;));\r\n\r\nThis returns `boolean` indicating whether any element in `patterntoSearch` is contained in `text`.\r\n\r\n    patterntoSearch.stream()\r\n        .filter(s -&gt; text.matches(&quot;.*&quot; + s + &quot;.*&quot;))\r\n        .collect(Collectors.toList());\r\n\r\nThis will return a list of words in `patterntoSearch`, that are contained in `text`. If you want only one, then:\r\n\r\n    patterntoSearch.stream()\r\n        .filter(s -&gt; text.matches(&quot;.*&quot; + s + &quot;.*&quot;))\r\n        .findAny()\r\n        .orElse(null);\r\n\r\nI have passed `null` as default, but you can provide any `String`.","title":"How to loop through a string then find if a part of that string is in an arrayList","body":"<p>You can use regular expression for that:</p>\n\n<pre><code>patterntoSearch.stream()\n    .anyMatch(s -&gt; text.matches(\".*\" + s + \".*\"));\n</code></pre>\n\n<p>This returns <code>boolean</code> indicating whether any element in <code>patterntoSearch</code> is contained in <code>text</code>.</p>\n\n<pre><code>patterntoSearch.stream()\n    .filter(s -&gt; text.matches(\".*\" + s + \".*\"))\n    .collect(Collectors.toList());\n</code></pre>\n\n<p>This will return a list of words in <code>patterntoSearch</code>, that are contained in <code>text</code>. If you want only one, then:</p>\n\n<pre><code>patterntoSearch.stream()\n    .filter(s -&gt; text.matches(\".*\" + s + \".*\"))\n    .findAny()\n    .orElse(null);\n</code></pre>\n\n<p>I have passed <code>null</code> as default, but you can provide any <code>String</code>.</p>\n"}],"owner":{"account_id":17980660,"reputation":35,"user_id":13067090,"display_name":"kyrie3"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":60715377,"answer_count":1,"score":1,"last_activity_date":1693141103,"creation_date":1584410710,"question_id":60715341,"body_markdown":"What I am trying to do is to find loop through a string then match them with an arrayList.\r\n\r\nSay, I got this code working:\r\n\r\n    import java.io.*;\r\n    import java.text.ParseException;\r\n    import java.util.*;\r\n    \r\n    public class Test_Mark4 {\r\n    \tpublic static ArrayList&lt;String&gt; patterntoSearch;\r\n    \tpublic static void main(String[] args) throws IOException, ParseException {\r\n        \tString text = &quot;Lebron James&quot;;\r\n        \tpatterntoSearch = new ArrayList();\r\n        \tpatterntoSearch.add(&quot;Lebron James&quot;);\r\n        \tpatterntoSearch.add(&quot;Michael Jordan&quot;);\r\n        \tpatterntoSearch.add(&quot;Kobe Bryant&quot;);\r\n        \tSystem.out.println(patterntoSearch);\r\n        \tSystem.out.println(text);\r\n        \tboolean valueContained = patterntoSearch.contains(text);\r\n        \tSystem.out.println(valueContained);\r\n        }\r\n    }\r\n\r\n\r\nHowever, what if I replace `String text = &quot;Lebron James&quot;;` with `String text = &quot;Lebron James 2017-218 NBA Hoops Card&quot;;`? Clearly there is the string `Lebron James` in that string, but it got mixed with other words as well (which I would not care, and only care about the string `Lebron James`. I have thought about a `for` loop but unsure how to construct it.","title":"How to loop through a string then find if a part of that string is in an arrayList","body":"<p>What I am trying to do is to find loop through a string then match them with an arrayList.</p>\n\n<p>Say, I got this code working:</p>\n\n<pre><code>import java.io.*;\nimport java.text.ParseException;\nimport java.util.*;\n\npublic class Test_Mark4 {\n    public static ArrayList&lt;String&gt; patterntoSearch;\n    public static void main(String[] args) throws IOException, ParseException {\n        String text = \"Lebron James\";\n        patterntoSearch = new ArrayList();\n        patterntoSearch.add(\"Lebron James\");\n        patterntoSearch.add(\"Michael Jordan\");\n        patterntoSearch.add(\"Kobe Bryant\");\n        System.out.println(patterntoSearch);\n        System.out.println(text);\n        boolean valueContained = patterntoSearch.contains(text);\n        System.out.println(valueContained);\n    }\n}\n</code></pre>\n\n<p>However, what if I replace <code>String text = \"Lebron James\";</code> with <code>String text = \"Lebron James 2017-218 NBA Hoops Card\";</code>? Clearly there is the string <code>Lebron James</code> in that string, but it got mixed with other words as well (which I would not care, and only care about the string <code>Lebron James</code>. I have thought about a <code>for</code> loop but unsure how to construct it.</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":7369804,"reputation":1147,"user_id":5610358,"display_name":"rhowell"},"score":2,"creation_date":1583951981,"post_id":60642539,"comment_id":107288800,"body_markdown":"Can you also show where/how you are assigning the issueBody string? Maybe something is wrong with that.","body":"Can you also show where/how you are assigning the issueBody string? Maybe something is wrong with that."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1583952964,"post_id":60642539,"comment_id":107289262,"body_markdown":"My first guess is that issueBody was created from a byte stream using the wrong charset.","body":"My first guess is that issueBody was created from a byte stream using the wrong charset."},{"owner":{"account_id":6710657,"reputation":333,"user_id":8890035,"display_name":"midhun mathew"},"score":0,"creation_date":1583953053,"post_id":60642539,"comment_id":107289294,"body_markdown":"What is the value of currentCodeLinePattern","body":"What is the value of currentCodeLinePattern"},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1583953089,"post_id":60642539,"comment_id":107289311,"body_markdown":"*&quot;Why?&quot;* Because `issueBody` is **not** the same value as that string literal, regardless of your unproven claim that it is. To verify that, print the bytes of both: `System.out.println(Arrays.toString(issueBody.getBytes(StandardCharsets.UTF_8)));` and the same for the string literal, then compare the two.","body":"<i>&quot;Why?&quot;</i> Because <code>issueBody</code> is <b>not</b> the same value as that string literal, regardless of your unproven claim that it is. To verify that, print the bytes of both: <code>System.out.println(Arrays.toString(issueBody.getBytes(Standa&zwnj;&#8203;rdCharsets.UTF_8)));</code> and the same for the string literal, then compare the two."},{"owner":{"account_id":8248580,"reputation":151,"user_id":6203948,"display_name":"nimrod"},"score":0,"creation_date":1583953726,"post_id":60642539,"comment_id":107289606,"body_markdown":"I added the whole function. **issueBody** is nothing but a string which related to an issue object...","body":"I added the whole function. <b>issueBody</b> is nothing but a string which related to an issue object..."},{"owner":{"account_id":4739783,"reputation":612633,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":0,"creation_date":1583958779,"post_id":60642539,"comment_id":107291645,"body_markdown":"Try ``String codeSnippetForCodeLinePattern = &quot;(?d)\\\\(Line #%s\\\\).*\\\\W`{3}\\\\W+(.*)(?=\\\\W+`{3})&quot;;``","body":"Try <code>String codeSnippetForCodeLinePattern = &quot;(?d)\\\\(Line #%s\\\\).*\\\\W`{3}\\\\W+(.*)(?=\\\\W+`{3})&quot;;</code>"},{"owner":{"account_id":8248580,"reputation":151,"user_id":6203948,"display_name":"nimrod"},"score":0,"creation_date":1583959291,"post_id":60642539,"comment_id":107291872,"body_markdown":"@WiktorStribiżew - it doesn&#39;t work.. the initial &#39;(?d)&#39; marked as incomplete group structure","body":"@WiktorStribiżew - it doesn&#39;t work.. the initial &#39;(?d)&#39; marked as incomplete group structure"},{"owner":{"account_id":8248580,"reputation":151,"user_id":6203948,"display_name":"nimrod"},"score":1,"creation_date":1583959328,"post_id":60642539,"comment_id":107291890,"body_markdown":"@Andreas - you are right. they are not the same. why is that and what needs to be done?","body":"@Andreas - you are right. they are not the same. why is that and what needs to be done?"},{"owner":{"account_id":4739783,"reputation":612633,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":1,"creation_date":1583959438,"post_id":60642539,"comment_id":107291939,"body_markdown":"Hm, and `Pattern pattern = Pattern.compile(currentCodeLinePattern, Pattern.UNIX_LINES);`? Note `Pattern.MULTILINE` is not necessary as your pattern has neither `^` nor `$`.","body":"Hm, and <code>Pattern pattern = Pattern.compile(currentCodeLinePattern, Pattern.UNIX_LINES);</code>? Note <code>Pattern.MULTILINE</code> is not necessary as your pattern has neither <code>^</code> nor <code>$</code>."},{"owner":{"account_id":8248580,"reputation":151,"user_id":6203948,"display_name":"nimrod"},"score":1,"creation_date":1583960317,"post_id":60642539,"comment_id":107292289,"body_markdown":"@WiktorStribiżew - it worked! I guess I never would have though the `Pattern.MULTILINE` is the problem... thanks!","body":"@WiktorStribiżew - it worked! I guess I never would have though the <code>Pattern.MULTILINE</code> is the problem... thanks!"},{"owner":{"account_id":4739783,"reputation":612633,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":0,"creation_date":1638127041,"post_id":60642539,"comment_id":123999069,"body_markdown":"If my answer did not solve your problem please consider updating the question.","body":"If my answer did not solve your problem please consider updating the question."}],"answers":[{"tags":[],"owner":{"account_id":4739783,"reputation":612633,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1591299142,"creation_date":1583965019,"answer_id":60645130,"question_id":60642539,"body_markdown":"*TL;DR:*\r\n\r\n**By using `Pattern.UNIX_LINES`, you tell Java regex engine to match with `.` any char but a newline, LF.** Use\r\n\r\n    Pattern pattern = Pattern.compile(currentCodeLinePattern, Pattern.UNIX_LINES);\r\n\r\n\r\nIn your hard-coded string, you have only newlines, LF endings, while your `issueBody` most likely contains `\\r\\n`, CRLF endings. Your pattern only matches a single non-word char with `\\W` (see ``\\\\W\\\\`{3}`` pattern part), but CRLF consists of two non-word chars. By default, `.` does not match line break chars, so it does not match neither `\\r`, CR, nor `\\n`, LF. The ``\\(Line #%s\\).*\\W\\`{3}`` fails right because of this:\r\n \r\n - `\\(Line #%s\\)` - matches `(Line #&lt;NUMBER&gt;)`\r\n - `.*` - matches 0 or more chars other than any line break char (up to CR or CRLF)\r\n - `\\W` - matches a char other than a letter/digit/`_` (so, only `\\r` or `\\n`)\r\n - ``\\`{3}`` - 3 backticks - these are only matched if there was a `\\n` ending, not `\\r\\n` (CRLF).\r\n\r\nAgain, by using [`Pattern.UNIX_LINES`][1], you tell Java regex engine to match with `.` any char but a newline, LF.\r\n\r\n    \r\nBTW, `Pattern.MULTILINE` only makes `^` match at the start of each line, and `$` to match at the end of each line, and since there are neither `^`, nor `$` in your pattern, you may safely discard this option.\r\n\r\n  [1]: https://stackoverflow.com/questions/16064527/pattern-unix-lines-in-regex-with-java","title":"Why matcher.find() for input parameter always return &#39;false&#39;?","body":"<p><em>TL;DR:</em></p>\n\n<p><strong>By using <code>Pattern.UNIX_LINES</code>, you tell Java regex engine to match with <code>.</code> any char but a newline, LF.</strong> Use</p>\n\n<pre><code>Pattern pattern = Pattern.compile(currentCodeLinePattern, Pattern.UNIX_LINES);\n</code></pre>\n\n<p>In your hard-coded string, you have only newlines, LF endings, while your <code>issueBody</code> most likely contains <code>\\r\\n</code>, CRLF endings. Your pattern only matches a single non-word char with <code>\\W</code> (see <code>\\\\W\\\\`{3}</code> pattern part), but CRLF consists of two non-word chars. By default, <code>.</code> does not match line break chars, so it does not match neither <code>\\r</code>, CR, nor <code>\\n</code>, LF. The <code>\\(Line #%s\\).*\\W\\`{3}</code> fails right because of this:</p>\n\n<ul>\n<li><code>\\(Line #%s\\)</code> - matches <code>(Line #&lt;NUMBER&gt;)</code></li>\n<li><code>.*</code> - matches 0 or more chars other than any line break char (up to CR or CRLF)</li>\n<li><code>\\W</code> - matches a char other than a letter/digit/<code>_</code> (so, only <code>\\r</code> or <code>\\n</code>)</li>\n<li><code>\\`{3}</code> - 3 backticks - these are only matched if there was a <code>\\n</code> ending, not <code>\\r\\n</code> (CRLF).</li>\n</ul>\n\n<p>Again, by using <a href=\"https://stackoverflow.com/questions/16064527/pattern-unix-lines-in-regex-with-java\"><code>Pattern.UNIX_LINES</code></a>, you tell Java regex engine to match with <code>.</code> any char but a newline, LF.</p>\n\n<p>BTW, <code>Pattern.MULTILINE</code> only makes <code>^</code> match at the start of each line, and <code>$</code> to match at the end of each line, and since there are neither <code>^</code>, nor <code>$</code> in your pattern, you may safely discard this option.</p>\n"}],"owner":{"account_id":8248580,"reputation":151,"user_id":6203948,"display_name":"nimrod"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":226,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":1,"score":2,"last_activity_date":1693141025,"creation_date":1583951861,"question_id":60642539,"body_markdown":"I have a strange situation which I find difficult to understand regarding regex matcher.\r\n\r\nWhen I pass the next input parameter *issueBody* to the matcher, the matcher.find() always return false, while passing a hard-coded String with the same value as the *issueBody* - it works as expected.\r\n\r\n**The regex function**:\r\n\r\n    private Map&lt;String, String&gt; extractCodeSnippet(Set&lt;String&gt; resolvedIssueCodeLines, String issueBody) {\r\n            String codeSnippetForCodeLinePattern = &quot;\\\\(Line #%s\\\\).*\\\\W\\\\`{3}\\\\W+(.*)(?=\\\\W+\\\\`{3})&quot;;\r\n            Map&lt;String, String&gt; resolvedIssuesMap = new HashMap&lt;&gt;();\r\n    \r\n            for (String currentResolvedIssue : resolvedIssueCodeLines) {\r\n                String currentCodeLinePattern = String.format(codeSnippetForCodeLinePattern, currentResolvedIssue);\r\n    \r\n                Pattern pattern = Pattern.compile(currentCodeLinePattern, Pattern.MULTILINE);\r\n                Matcher matcher = pattern.matcher(issueBody);\r\n    \r\n                while (matcher.find()) {\r\n                    resolvedIssuesMap.put(currentResolvedIssue, matcher.group());\r\n                }\r\n            }\r\n            return resolvedIssuesMap;\r\n        }\r\n\r\n\r\n## The following always return false ##\r\n\r\n    Pattern pattern = Pattern.compile(currentCodeLinePattern, Pattern.MULTILINE);\r\n    Matcher matcher = pattern.matcher(issueBody);\r\n\r\n## While the following always return true##\r\n\r\n    Pattern pattern = Pattern.compile(currentCodeLinePattern, Pattern.MULTILINE);\r\n    Matcher matcher = pattern.matcher(&quot;**SQL_Injection** issue exists @ **VB_3845_112_lines/encode.frm** in branch **master**\\n&quot; +\r\n                            &quot;\\n&quot; +\r\n                            &quot;Severity: High\\n&quot; +\r\n                            &quot;\\n&quot; +\r\n                            &quot;CWE:89\\n&quot; +\r\n                            &quot;\\n&quot; +\r\n                            &quot;[Vulnerability details and guidance](https://cwe.mitre.org/data/definitions/89.html)\\n&quot; +\r\n                            &quot;\\n&quot; +\r\n                            &quot;[Internal Guidance](https://checkmarx.atlassian.net/wiki/spaces/AS/pages/79462432/Remediation+Guidance)\\n&quot; +\r\n                            &quot;\\n&quot; +\r\n                            &quot;[ppttx](http://WIN2K12-TEMP/bbcl/ViewerMain.aspx?planid=1010013&amp;projectid=10005&amp;pathid=1)\\n&quot; +\r\n                            &quot;\\n&quot; +\r\n                            &quot;Lines: 41 42 \\n&quot; +\r\n                            &quot;\\n&quot; +\r\n                            &quot;---\\n&quot; +\r\n                            &quot;[Code (Line #41):](null#L41)\\n&quot; +\r\n                            &quot;```\\n&quot; +\r\n                            &quot;    user_name = txtUserName.Text\\n&quot; +\r\n                            &quot;```\\n&quot; +\r\n                            &quot;---\\n&quot; +\r\n                            &quot;[Code (Line #42):](null#L42)\\n&quot; +\r\n                            &quot;```\\n&quot; +\r\n                            &quot;    password = txtPassword.Text\\n&quot; +\r\n                            &quot;```\\n&quot; +\r\n                            &quot;---\\n&quot;);\r\n\r\nMy question is - why? what is the difference between the two statements?\r\n","title":"Why matcher.find() for input parameter always return &#39;false&#39;?","body":"<p>I have a strange situation which I find difficult to understand regarding regex matcher.</p>\n\n<p>When I pass the next input parameter <em>issueBody</em> to the matcher, the matcher.find() always return false, while passing a hard-coded String with the same value as the <em>issueBody</em> - it works as expected.</p>\n\n<p><strong>The regex function</strong>:</p>\n\n<pre><code>private Map&lt;String, String&gt; extractCodeSnippet(Set&lt;String&gt; resolvedIssueCodeLines, String issueBody) {\n        String codeSnippetForCodeLinePattern = \"\\\\(Line #%s\\\\).*\\\\W\\\\`{3}\\\\W+(.*)(?=\\\\W+\\\\`{3})\";\n        Map&lt;String, String&gt; resolvedIssuesMap = new HashMap&lt;&gt;();\n\n        for (String currentResolvedIssue : resolvedIssueCodeLines) {\n            String currentCodeLinePattern = String.format(codeSnippetForCodeLinePattern, currentResolvedIssue);\n\n            Pattern pattern = Pattern.compile(currentCodeLinePattern, Pattern.MULTILINE);\n            Matcher matcher = pattern.matcher(issueBody);\n\n            while (matcher.find()) {\n                resolvedIssuesMap.put(currentResolvedIssue, matcher.group());\n            }\n        }\n        return resolvedIssuesMap;\n    }\n</code></pre>\n\n<h2>The following always return false</h2>\n\n<pre><code>Pattern pattern = Pattern.compile(currentCodeLinePattern, Pattern.MULTILINE);\nMatcher matcher = pattern.matcher(issueBody);\n</code></pre>\n\n<h2>While the following always return true</h2>\n\n<pre><code>Pattern pattern = Pattern.compile(currentCodeLinePattern, Pattern.MULTILINE);\nMatcher matcher = pattern.matcher(\"**SQL_Injection** issue exists @ **VB_3845_112_lines/encode.frm** in branch **master**\\n\" +\n                        \"\\n\" +\n                        \"Severity: High\\n\" +\n                        \"\\n\" +\n                        \"CWE:89\\n\" +\n                        \"\\n\" +\n                        \"[Vulnerability details and guidance](https://cwe.mitre.org/data/definitions/89.html)\\n\" +\n                        \"\\n\" +\n                        \"[Internal Guidance](https://checkmarx.atlassian.net/wiki/spaces/AS/pages/79462432/Remediation+Guidance)\\n\" +\n                        \"\\n\" +\n                        \"[ppttx](http://WIN2K12-TEMP/bbcl/ViewerMain.aspx?planid=1010013&amp;projectid=10005&amp;pathid=1)\\n\" +\n                        \"\\n\" +\n                        \"Lines: 41 42 \\n\" +\n                        \"\\n\" +\n                        \"---\\n\" +\n                        \"[Code (Line #41):](null#L41)\\n\" +\n                        \"```\\n\" +\n                        \"    user_name = txtUserName.Text\\n\" +\n                        \"```\\n\" +\n                        \"---\\n\" +\n                        \"[Code (Line #42):](null#L42)\\n\" +\n                        \"```\\n\" +\n                        \"    password = txtPassword.Text\\n\" +\n                        \"```\\n\" +\n                        \"---\\n\");\n</code></pre>\n\n<p>My question is - why? what is the difference between the two statements?</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":3,"creation_date":1581792852,"post_id":60242069,"comment_id":106557279,"body_markdown":"Parentheses are for capturing, do you want to capture: then you need them, if you don&#39;t, then you don&#39;t need them.","body":"Parentheses are for capturing, do you want to capture: then you need them, if you don&#39;t, then you don&#39;t need them."},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":2,"creation_date":1581792917,"post_id":60242069,"comment_id":106557298,"body_markdown":"@MarkRotteveel Not necessarily, parentheses are generally also used for grouping things together. However, if you don&#39;t want to capture then you&#39;d use `(?:pattern)` instead.","body":"@MarkRotteveel Not necessarily, parentheses are generally also used for grouping things together. However, if you don&#39;t want to capture then you&#39;d use <code>(?:pattern)</code> instead."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1581793066,"post_id":60242069,"comment_id":106557339,"body_markdown":"@MaartenBodewes True, I considered adding that to my comment, but in the examples shown, that wasn&#39;t relevant. Although, it could be relevant in the last one.","body":"@MaartenBodewes True, I considered adding that to my comment, but in the examples shown, that wasn&#39;t relevant. Although, it could be relevant in the last one."},{"owner":{"display_name":"user12873296"},"score":0,"creation_date":1581793071,"post_id":60242069,"comment_id":106557341,"body_markdown":"`final static PATTERN = Pattern.compile(String.format(&quot;test command (?&lt;number&gt;%s))&quot;), InOutputStrings.NUMBER_PATTERN));   Matcher matcher = PATTERN.matcher(argument); number = matcher.group(&quot;number&quot;);` - Why do Patterns work without parentheses here?","body":"<code>final static PATTERN = Pattern.compile(String.format(&quot;test command (?&lt;number&gt;%s))&quot;), InOutputStrings.NUMBER_PATTERN));   Matcher matcher = PATTERN.matcher(argument); number = matcher.group(&quot;number&quot;);</code> - Why do Patterns work without parentheses here?"},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1581796264,"post_id":60242069,"comment_id":106558208,"body_markdown":"@LudwigvonDrake Because you don&#39;t call `matcher.group(1)`, so the capture group defined by the `(...)` is not needed.","body":"@LudwigvonDrake Because you don&#39;t call <code>matcher.group(1)</code>, so the capture group defined by the <code>(...)</code> is not needed."}],"answers":[{"comments":[{"owner":{"display_name":"user12873296"},"score":1,"creation_date":1581793511,"post_id":60242155,"comment_id":106557466,"body_markdown":"Thanks for taking the time to explain this to me!","body":"Thanks for taking the time to explain this to me!"},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1581796519,"post_id":60242155,"comment_id":106558273,"body_markdown":"*&quot;I don&#39;t see any problems with your expressions&quot;* The `INTEGER_PATTERN` is a problem without a group. Pattern `&quot;^[+-]?[1-9]\\\\d*|0$&quot;` would be a problem if using the `find()` method, because of the `|` OR operator. Since question doesn&#39;t specify whether `find()` or `matches()` is used, then it should be considered a problem.","body":"<i>&quot;I don&#39;t see any problems with your expressions&quot;</i> The <code>INTEGER_PATTERN</code> is a problem without a group. Pattern <code>&quot;^[+-]?[1-9]\\\\d*|0$&quot;</code> would be a problem if using the <code>find()</code> method, because of the <code>|</code> OR operator. Since question doesn&#39;t specify whether <code>find()</code> or <code>matches()</code> is used, then it should be considered a problem."},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1581797103,"post_id":60242155,"comment_id":106558441,"body_markdown":"Why would you use `find` with `^` and `$`?","body":"Why would you use <code>find</code> with <code>^</code> and <code>$</code>?"}],"tags":[],"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1581797774,"creation_date":1581793395,"answer_id":60242155,"question_id":60242069,"body_markdown":"Yes, a sequence of characters or character classes is the default, and it is of higher precedence than the OR operator `|`. So if you don&#39;t have anything in front or behind your sequence (clearly displayed in your cases of `true|false`) then you don&#39;t need them.\r\n\r\nHowever, if you want to use e.g. `this is true|false` for `&quot;this is true&quot;` or `&quot;this is false&quot;` then the precedence will fail for `&quot;this is false&quot;` and you need to group the `true|false`, for instance using a **non-capturing** group, e.g. `this is (?:true|false)`.\r\n\r\nI don&#39;t see any problems with your expressions where you removed some of the parentheses. However, if you want to check them, then simply put them into an (online) checker that shows the precedence (e.g. [this one](https://regex101.com/)) and check if the resulting &quot;explanation&quot; changes. The various IDE plugings for regexp testing will hopefully also provide a similar *tree view* for you.\r\n\r\nBeware that you are sometimes using boundary matchers (`^` and `$`) and sometimes you are not. I&#39;d expect those to be either used or not used.","title":"Regex are &quot;(&quot; and &quot;)&quot; necessary?","body":"<p>Yes, a sequence of characters or character classes is the default, and it is of higher precedence than the OR operator <code>|</code>. So if you don't have anything in front or behind your sequence (clearly displayed in your cases of <code>true|false</code>) then you don't need them.</p>\n\n<p>However, if you want to use e.g. <code>this is true|false</code> for <code>\"this is true\"</code> or <code>\"this is false\"</code> then the precedence will fail for <code>\"this is false\"</code> and you need to group the <code>true|false</code>, for instance using a <strong>non-capturing</strong> group, e.g. <code>this is (?:true|false)</code>.</p>\n\n<p>I don't see any problems with your expressions where you removed some of the parentheses. However, if you want to check them, then simply put them into an (online) checker that shows the precedence (e.g. <a href=\"https://regex101.com/\" rel=\"nofollow noreferrer\">this one</a>) and check if the resulting \"explanation\" changes. The various IDE plugings for regexp testing will hopefully also provide a similar <em>tree view</em> for you.</p>\n\n<p>Beware that you are sometimes using boundary matchers (<code>^</code> and <code>$</code>) and sometimes you are not. I'd expect those to be either used or not used.</p>\n"}],"owner":{"display_name":"user12873296"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":60242155,"answer_count":1,"score":0,"last_activity_date":1693141011,"creation_date":1581792754,"question_id":60242069,"body_markdown":"Do I only have to use `(`and `)` if the pattern consists of multiple groups?\r\n\r\nSo if the pattern is `true|false` it doesn&#39;t matter if I add parenthesis or not, right? \r\nThen again, if the pattern is `POINT_PATTERN(&quot;\\\\((\\\\d+),(\\\\d+)\\\\)&quot;)` it does make a difference because I want to get two different values from it.\r\n\r\nCan I write my current patterns, which are:\r\n```\r\nNUMBER_PATTERN(&quot;(?!(0[0-9]))[0-9]+&quot;),\r\nBOOLEAN_PATTERN(&quot;(true|false)&quot;),\r\nSTRING_PATTERN(&quot;(\\\\w+)&quot;),\r\nINTEGER_PATTERN(&quot;/^([+-]?[1-9]\\\\d*|0)$/&quot;),\r\n```\r\n\r\nas\r\n\r\n```\r\nNUMBER_PATTERN(&quot;(?!0[0-9])[0-9]+&quot;),\r\nBOOLEAN_PATTERN(&quot;true|false&quot;),\r\nSTRING_PATTERN(&quot;\\\\w+&quot;),\r\nINTEGER_PATTERN(&quot;^[+-]?[1-9]\\\\d*|0$&quot;);\r\n```\r\nwithout any loss?\r\n\r\nI am particularly unsure about `NUMER_PATTERN` and `INTEGER_PATTERN`. Is there any other reason why I shouldn&#39;t do this (bad coding style, ...)?","title":"Regex are &quot;(&quot; and &quot;)&quot; necessary?","body":"<p>Do I only have to use <code>(</code>and <code>)</code> if the pattern consists of multiple groups?</p>\n\n<p>So if the pattern is <code>true|false</code> it doesn't matter if I add parenthesis or not, right? \nThen again, if the pattern is <code>POINT_PATTERN(\"\\\\((\\\\d+),(\\\\d+)\\\\)\")</code> it does make a difference because I want to get two different values from it.</p>\n\n<p>Can I write my current patterns, which are:</p>\n\n<pre><code>NUMBER_PATTERN(\"(?!(0[0-9]))[0-9]+\"),\nBOOLEAN_PATTERN(\"(true|false)\"),\nSTRING_PATTERN(\"(\\\\w+)\"),\nINTEGER_PATTERN(\"/^([+-]?[1-9]\\\\d*|0)$/\"),\n</code></pre>\n\n<p>as</p>\n\n<pre><code>NUMBER_PATTERN(\"(?!0[0-9])[0-9]+\"),\nBOOLEAN_PATTERN(\"true|false\"),\nSTRING_PATTERN(\"\\\\w+\"),\nINTEGER_PATTERN(\"^[+-]?[1-9]\\\\d*|0$\");\n</code></pre>\n\n<p>without any loss?</p>\n\n<p>I am particularly unsure about <code>NUMER_PATTERN</code> and <code>INTEGER_PATTERN</code>. Is there any other reason why I shouldn't do this (bad coding style, ...)?</p>\n"},{"tags":["java","regex"],"answers":[{"tags":[],"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1581294194,"creation_date":1581294194,"answer_id":60142654,"question_id":60142624,"body_markdown":"Why use a regexp for this? String has [lastIndexOf](https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#lastIndexOf-int-) to find the last index of a delimiter (like space), and it looks like you&#39;re not trying to find a &quot;word&quot; but &quot;the substring after the last space&quot; (which are **not** the same thing in many, many languages), so given that, just use:\r\n\r\n    String last = input.substring(input.getLastIndexOf(&#39; &#39;) + 1);\r\n\r\n(optionally as two lines with a check to see if `getLastIndexOf` is a sensible position), and done?","title":"Java Regex Return Last Word","body":"<p>Why use a regexp for this? String has <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#lastIndexOf-int-\" rel=\"nofollow noreferrer\">lastIndexOf</a> to find the last index of a delimiter (like space), and it looks like you're not trying to find a \"word\" but \"the substring after the last space\" (which are <strong>not</strong> the same thing in many, many languages), so given that, just use:</p>\n\n<pre><code>String last = input.substring(input.getLastIndexOf(' ') + 1);\n</code></pre>\n\n<p>(optionally as two lines with a check to see if <code>getLastIndexOf</code> is a sensible position), and done?</p>\n"},{"comments":[{"owner":{"account_id":5176046,"reputation":175,"user_id":4143148,"accept_rate":80,"display_name":"Name Name"},"score":0,"creation_date":1581322726,"post_id":60142681,"comment_id":106378983,"body_markdown":"How about input of &quot;helpsomeone&quot; I would expect it to return &quot;helpsomeone&quot; i.e. the complete word and &quot;helpsomeone t&quot;, I would of expect &quot;helpsomeone&quot; not &quot;helpsomeone t&quot;. Is this possible?","body":"How about input of &quot;helpsomeone&quot; I would expect it to return &quot;helpsomeone&quot; i.e. the complete word and &quot;helpsomeone t&quot;, I would of expect &quot;helpsomeone&quot; not &quot;helpsomeone t&quot;. Is this possible?"},{"owner":{"account_id":14737908,"reputation":596,"user_id":10643339,"display_name":"manzk"},"score":0,"creation_date":1581327417,"post_id":60142681,"comment_id":106381157,"body_markdown":"@NameName can you try this:\n    String regex = &quot;(.[^\\\\s+].*some*.[^\\\\s]+|.[^\\\\s+].*text*.[^\\\\s]+)&quot;;\nI also updated my answer :)","body":"@NameName can you try this:     String regex = &quot;(.[^\\\\s+].*some*.[^\\\\s]+|.[^\\\\s+].*text*.[^\\\\s]+)&quot;; I also updated my answer :)"}],"tags":[],"owner":{"account_id":14737908,"reputation":596,"user_id":10643339,"display_name":"manzk"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1581327460,"creation_date":1581294612,"answer_id":60142681,"question_id":60142624,"body_markdown":"you can use the following regex instead:\r\n\r\n      String regex = &quot;(.[^\\\\s+].*some*.[^\\\\s]+|.[^\\\\s+].*text*.[^\\\\s]+)&quot;;\r\n\r\nThis will take all the words that start with some or text. For example: someone.","title":"Java Regex Return Last Word","body":"<p>you can use the following regex instead:</p>\n\n<pre><code>  String regex = \"(.[^\\\\s+].*some*.[^\\\\s]+|.[^\\\\s+].*text*.[^\\\\s]+)\";\n</code></pre>\n\n<p>This will take all the words that start with some or text. For example: someone.</p>\n"}],"owner":{"account_id":5176046,"reputation":175,"user_id":4143148,"accept_rate":80,"display_name":"Name Name"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":188,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"answer_count":2,"score":-4,"last_activity_date":1693140990,"creation_date":1581293840,"question_id":60142624,"body_markdown":"    String regex = &quot;(some|text|)&quot;;\r\n\r\n        Pattern pattern = Pattern.compile(regex, Pattern.CASE_INSENSITIVE);\r\n        Matcher matcher = pattern.matcher(input);\r\n        while (matcher.find())\r\n        {\r\n            int start = matcher.start();\r\n            int end = matcher.end();\r\n            System.out.print(&quot;Start index: &quot; + start);\r\n            System.out.print(&quot; End index: &quot; + end + &quot; &quot;);\r\n            System.out.println(matcher.group());\r\n        }\r\n\r\nHi I would like to return the the full substring including to the end of the word. For example,\r\n\r\nif the input is:\r\n\r\n    String input = &quot;I am a texte&quot;;\r\n\r\nI would expect it to return 7 11, I would basically would want to return text upto &quot;e&quot; rather than &quot;t&quot;. Is this possible? If so, how can this be implemented?\r\n","title":"Java Regex Return Last Word","body":"<pre><code>String regex = \"(some|text|)\";\n\n    Pattern pattern = Pattern.compile(regex, Pattern.CASE_INSENSITIVE);\n    Matcher matcher = pattern.matcher(input);\n    while (matcher.find())\n    {\n        int start = matcher.start();\n        int end = matcher.end();\n        System.out.print(\"Start index: \" + start);\n        System.out.print(\" End index: \" + end + \" \");\n        System.out.println(matcher.group());\n    }\n</code></pre>\n\n<p>Hi I would like to return the the full substring including to the end of the word. For example,</p>\n\n<p>if the input is:</p>\n\n<pre><code>String input = \"I am a texte\";\n</code></pre>\n\n<p>I would expect it to return 7 11, I would basically would want to return text upto \"e\" rather than \"t\". Is this possible? If so, how can this be implemented?</p>\n"},{"tags":["java","apache-spark","amazon-s3","spark-structured-streaming"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1693140794,"creation_date":1693140794,"answer_id":76987204,"question_id":76976053,"body_markdown":"The Spark documentation explains that only newly noticed files will be processed, and existing ones will be ignored\r\n","title":"File Streaming using Spark","body":"<p>The Spark documentation explains that only newly noticed files will be processed, and existing ones will be ignored</p>\n"}],"owner":{"account_id":12533976,"reputation":15,"user_id":9121198,"display_name":"Ajit Sharma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76987204,"answer_count":1,"score":0,"last_activity_date":1693140819,"creation_date":1692956611,"question_id":76976053,"body_markdown":"I am using Spark file streaming from s3. Code is running well but For the first batch all files are being considered valid from directory. Please help i am new for spark.\r\nMy code is Below.\r\n\r\n\r\n    &lt;pre&gt;\r\n     \r\n    Dataset&lt;Row&gt; df = spark.readStream().format(&quot;csv&quot;).schema(getOLRSchema()).load(\r\n\t\t\t\t\t&quot;s3a://filePath/*.csv&quot;);\r\n\t\t\t\r\n    query = df.writeStream().foreachBatch(new VoidFunction2&lt;Dataset&lt;Row&gt;, Long&gt;() {\r\n\t    @Override\r\n\t    public void call(Dataset&lt;Row&gt; ds, Long batchId) throws Exception {\r\n\t\t    long timestamp = System.currentTimeMillis();\t\r\n\t\t    ds.write().parquet(&quot;hdfs://ha-cluster/testStreaming/&quot;);\r\n\t\t    System.out.println(&quot;Time taken to complete: &quot; + \r\n               (System.currentTimeMillis() -    timestamp));\r\n\t    }\r\n    })\r\n    .option(&quot;checkpointLocation&quot;, &quot;hdfs://ha-cluster/mnt/vol2/Ajit/checkpoint&quot;)\r\n    .option(&quot;latestFirst&quot;, &quot;true&quot;)\r\n    .option(&quot;maxFilesPerTrigger&quot;, &quot;32&quot;)\r\n    .trigger(Trigger.ProcessingTime(120000))\r\n    .outputMode(&quot;append&quot;)\r\n    .start();\r\n\r\n    query.awaitTermination();\r\n\r\n    &lt;/pre&gt;\r\n\r\n\r\n\r\n","title":"File Streaming using Spark","body":"<p>I am using Spark file streaming from s3. Code is running well but For the first batch all files are being considered valid from directory. Please help i am new for spark.\nMy code is Below.</p>\n<pre><code>&lt;pre&gt;\n \nDataset&lt;Row&gt; df = spark.readStream().format(&quot;csv&quot;).schema(getOLRSchema()).load(\n                &quot;s3a://filePath/*.csv&quot;);\n        \nquery = df.writeStream().foreachBatch(new VoidFunction2&lt;Dataset&lt;Row&gt;, Long&gt;() {\n    @Override\n    public void call(Dataset&lt;Row&gt; ds, Long batchId) throws Exception {\n        long timestamp = System.currentTimeMillis();    \n        ds.write().parquet(&quot;hdfs://ha-cluster/testStreaming/&quot;);\n        System.out.println(&quot;Time taken to complete: &quot; + \n           (System.currentTimeMillis() -    timestamp));\n    }\n})\n.option(&quot;checkpointLocation&quot;, &quot;hdfs://ha-cluster/mnt/vol2/Ajit/checkpoint&quot;)\n.option(&quot;latestFirst&quot;, &quot;true&quot;)\n.option(&quot;maxFilesPerTrigger&quot;, &quot;32&quot;)\n.trigger(Trigger.ProcessingTime(120000))\n.outputMode(&quot;append&quot;)\n.start();\n\nquery.awaitTermination();\n\n&lt;/pre&gt;\n</code></pre>\n"},{"tags":["java","regex","nullpointerexception"],"comments":[{"owner":{"account_id":15847779,"reputation":4627,"user_id":11434552,"display_name":"Nexevis"},"score":0,"creation_date":1580310081,"post_id":59969547,"comment_id":106056373,"body_markdown":"It would have been easier to debug this if you did not swallow your stacktraces, and instead printed them out so you can see what is happening.","body":"It would have been easier to debug this if you did not swallow your stacktraces, and instead printed them out so you can see what is happening."}],"answers":[{"comments":[{"owner":{"account_id":17645402,"reputation":29,"user_id":12806944,"display_name":"Chris"},"score":0,"creation_date":1580310731,"post_id":59969709,"comment_id":106056763,"body_markdown":"Nailed it - thanks so much for a quick response!","body":"Nailed it - thanks so much for a quick response!"}],"tags":[],"owner":{"account_id":12033000,"reputation":684,"user_id":8802609,"display_name":"nluk"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1580309529,"creation_date":1580309529,"answer_id":59969709,"question_id":59969547,"body_markdown":"Your NPE is from uninitialized List:\r\n\r\n    List&lt;String&gt; result = null;\r\n\r\nChanged to\r\n    \r\n    List&lt;String&gt; result = new ArrayList&lt;&gt;();\r\n\r\n    result: 5.18.72\r\n    result: 5.18.71\r\n    result: 5.18.70\r\n    match count:3\r\n    [5.18.72, 5.18.71, 5.18.70]","title":"Java Regex NPE On Matcher.Find()","body":"<p>Your NPE is from uninitialized List:</p>\n\n<pre><code>List&lt;String&gt; result = null;\n</code></pre>\n\n<p>Changed to</p>\n\n<pre><code>List&lt;String&gt; result = new ArrayList&lt;&gt;();\n\nresult: 5.18.72\nresult: 5.18.71\nresult: 5.18.70\nmatch count:3\n[5.18.72, 5.18.71, 5.18.70]\n</code></pre>\n"}],"owner":{"account_id":17645402,"reputation":29,"user_id":12806944,"display_name":"Chris"},"comment_count":1,"delete_vote_count":2,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":128,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"closed_date":1580310038,"accepted_answer_id":59969709,"answer_count":1,"score":1,"last_activity_date":1693140757,"creation_date":1580308949,"question_id":59969547,"body_markdown":"I&#39;m going insane trying to figure out why this doesn&#39;t work. \r\n\r\nI&#39;ve got a changelog file where I want to consume contents, and parse out version numbers. I have an existing regex that works that I&#39;ve used as a baseline for the the new regex to just strip version numbers and can see that it works. However, when I attempt to iterate through the new Matcher results using .find() method to just get the version numbers, I&#39;m getting a Null Pointer Exception and no results are found. \r\n\r\nIs there an issue with the regex, or the way it&#39;s being compiled, or something else? \r\n\r\nFWIW, the regex pattern does exactly what I want when I try it on a few online regex editors (Java based). \r\n\r\n\r\nHere&#39;s what I&#39;m running. \r\n````\r\nimport java.util.*;\r\nimport java.util.regex.Matcher;\r\nimport java.util.regex.Pattern;\r\n\r\npublic class HelloWorld{\r\n\r\n    public static final String changelog=&quot;## Current Version&quot;+\r\n            &quot;\\n\\n&quot;+\r\n            &quot;- None&quot;+\r\n            &quot;\\n\\n&quot;+\r\n            &quot;## 5.18.72 (2020-01-17)&quot;+\r\n            &quot;\\n\\n&quot;+\r\n            &quot;- #### [US12345]&quot;+\r\n            &quot;\\n\\n&quot;+\r\n            &quot;## 5.18.71 (2020-01-15)&quot;+\r\n            &quot;\\n\\n&quot;+\r\n            &quot;- #### [US123456]&quot;+\r\n            &quot;\\n\\n&quot;+\r\n            &quot;## 5.18.70 (2020-01-09)&quot;;\r\n     \r\n    private static final String RAW_CHANGELOG_PATTERN = &quot;(?ms)(##[\\\\w\\\\s\\\\-]*.%s.*\\n\\n.*)(\\n\\n##[\\\\w\\\\s\\\\-]*.%s)&quot;;\r\n    private static final String RAW_CHANGELOG_VERSION_PATTERN=&quot;(?ms)(\\\\d{1,3}\\\\.\\\\d{1,3}\\\\.\\\\d{1,3})&quot;;\r\n     \r\n     public static void main(String []args){\r\n         \r\n        \r\n        System.out.println(extractKnownVersions(changelog));\r\n        \r\n        System.out.println(&quot;Next\\n&quot;);\r\n        \r\n        System.out.println(extractVersions(changelog.toString()));\r\n     }\r\n    \r\n    private static String extractKnownVersions(String changelog){\r\n        String patternString = String.format(RAW_CHANGELOG_PATTERN,&quot;5.18.72&quot;,&quot;5.18.70&quot;);\r\n        Pattern pattern = Pattern.compile(patternString, Pattern.CASE_INSENSITIVE);\r\n        Matcher matcher = pattern.matcher(changelog);\r\n        String result = null;\r\n        if (matcher.find()) {\r\n            result = matcher.group();\r\n        } else {\r\n            System.out.println(&quot;No diff found between versions 5.18.72 and 5.18.70 Check that both versions exist in Changelog.&quot;);\r\n        }\r\n        return result;\r\n    }\r\n    \r\n    private static List&lt;String&gt; extractVersions(String changelog) {\r\n        // TODO: Fix the regex so that it actually grabs what we want\r\n        String patternString = RAW_CHANGELOG_VERSION_PATTERN;\r\n        Pattern pattern = Pattern.compile(patternString);\r\n        Matcher matcher = pattern.matcher(changelog);\r\n\r\n        List&lt;String&gt; result = null;\r\n        int count = 0;\r\n        \r\n        try {\r\n            while (matcher.find()) {\r\n                result.add(matcher.group());\r\n                System.out.println(&quot;result: &quot; + result.get(count));\r\n                count++;\r\n            }\r\n        } catch (NullPointerException npe) {\r\n            System.out.println(&quot;NPE: Could not extract versions from Changelog&quot;);\r\n        } catch (Exception e) {\r\n            System.out.println(&quot;Exception extracting versions from Changelog&quot;);\r\n        }\r\n\r\n        System.out.println(&quot;match count:&quot; + count);\r\n        return result;\r\n    }\r\n}\r\n````\r\n\r\nAnd here&#39;s the output on SOP -- notice the original regex `RAW_CHANGELOG_PATTERN` works and produces the output I&#39;m expecting (everything between the two version numbers), but the second method `extractVersions` which uses the new regex `RAW_CHANGELOG_VERSION_PATTERN` is throwing the NPE. \r\n\r\n````\r\n## 5.18.72 (2020-01-17)\r\n\r\n- #### [US12345]\r\n\r\n## 5.18.71 (2020-01-15)\r\n\r\n- #### [US123456]\r\n\r\n## 5.18.70\r\nNext\r\n\r\nNPE: Could not extract versions from Changelog\r\nmatch count:0\r\nnull\r\n````\r\n\r\nI&#39;m hoping this is something silly syntax wise that I&#39;m missing? ","title":"Java Regex NPE On Matcher.Find()","body":"<p>I'm going insane trying to figure out why this doesn't work. </p>\n\n<p>I've got a changelog file where I want to consume contents, and parse out version numbers. I have an existing regex that works that I've used as a baseline for the the new regex to just strip version numbers and can see that it works. However, when I attempt to iterate through the new Matcher results using .find() method to just get the version numbers, I'm getting a Null Pointer Exception and no results are found. </p>\n\n<p>Is there an issue with the regex, or the way it's being compiled, or something else? </p>\n\n<p>FWIW, the regex pattern does exactly what I want when I try it on a few online regex editors (Java based). </p>\n\n<p>Here's what I'm running. </p>\n\n<pre><code>import java.util.*;\nimport java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\npublic class HelloWorld{\n\n    public static final String changelog=\"## Current Version\"+\n            \"\\n\\n\"+\n            \"- None\"+\n            \"\\n\\n\"+\n            \"## 5.18.72 (2020-01-17)\"+\n            \"\\n\\n\"+\n            \"- #### [US12345]\"+\n            \"\\n\\n\"+\n            \"## 5.18.71 (2020-01-15)\"+\n            \"\\n\\n\"+\n            \"- #### [US123456]\"+\n            \"\\n\\n\"+\n            \"## 5.18.70 (2020-01-09)\";\n\n    private static final String RAW_CHANGELOG_PATTERN = \"(?ms)(##[\\\\w\\\\s\\\\-]*.%s.*\\n\\n.*)(\\n\\n##[\\\\w\\\\s\\\\-]*.%s)\";\n    private static final String RAW_CHANGELOG_VERSION_PATTERN=\"(?ms)(\\\\d{1,3}\\\\.\\\\d{1,3}\\\\.\\\\d{1,3})\";\n\n     public static void main(String []args){\n\n\n        System.out.println(extractKnownVersions(changelog));\n\n        System.out.println(\"Next\\n\");\n\n        System.out.println(extractVersions(changelog.toString()));\n     }\n\n    private static String extractKnownVersions(String changelog){\n        String patternString = String.format(RAW_CHANGELOG_PATTERN,\"5.18.72\",\"5.18.70\");\n        Pattern pattern = Pattern.compile(patternString, Pattern.CASE_INSENSITIVE);\n        Matcher matcher = pattern.matcher(changelog);\n        String result = null;\n        if (matcher.find()) {\n            result = matcher.group();\n        } else {\n            System.out.println(\"No diff found between versions 5.18.72 and 5.18.70 Check that both versions exist in Changelog.\");\n        }\n        return result;\n    }\n\n    private static List&lt;String&gt; extractVersions(String changelog) {\n        // TODO: Fix the regex so that it actually grabs what we want\n        String patternString = RAW_CHANGELOG_VERSION_PATTERN;\n        Pattern pattern = Pattern.compile(patternString);\n        Matcher matcher = pattern.matcher(changelog);\n\n        List&lt;String&gt; result = null;\n        int count = 0;\n\n        try {\n            while (matcher.find()) {\n                result.add(matcher.group());\n                System.out.println(\"result: \" + result.get(count));\n                count++;\n            }\n        } catch (NullPointerException npe) {\n            System.out.println(\"NPE: Could not extract versions from Changelog\");\n        } catch (Exception e) {\n            System.out.println(\"Exception extracting versions from Changelog\");\n        }\n\n        System.out.println(\"match count:\" + count);\n        return result;\n    }\n}\n</code></pre>\n\n<p>And here's the output on SOP -- notice the original regex <code>RAW_CHANGELOG_PATTERN</code> works and produces the output I'm expecting (everything between the two version numbers), but the second method <code>extractVersions</code> which uses the new regex <code>RAW_CHANGELOG_VERSION_PATTERN</code> is throwing the NPE. </p>\n\n<pre><code>## 5.18.72 (2020-01-17)\n\n- #### [US12345]\n\n## 5.18.71 (2020-01-15)\n\n- #### [US123456]\n\n## 5.18.70\nNext\n\nNPE: Could not extract versions from Changelog\nmatch count:0\nnull\n</code></pre>\n\n<p>I'm hoping this is something silly syntax wise that I'm missing? </p>\n"},{"tags":["java","regex"],"answers":[{"comments":[{"owner":{"account_id":17318932,"reputation":117,"user_id":12544798,"display_name":"Artjom Prozorov"},"score":0,"creation_date":1579605666,"post_id":59839930,"comment_id":105814087,"body_markdown":"Hey thank you for your comment, i need to either find 1 group or both groups , in your case it looks like its one group or another","body":"Hey thank you for your comment, i need to either find 1 group or both groups , in your case it looks like its one group or another"}],"tags":[],"owner":{"account_id":16536466,"reputation":154,"user_id":11948342,"display_name":"Nobody"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1579605309,"creation_date":1579605309,"answer_id":59839930,"question_id":59839440,"body_markdown":"according to your post, you would want to match string and substrings within, I cannot think of proper solution. However, your problem is easy, if we omit  &quot;Всего&quot;, then we can do following:\r\n\r\n    &quot;((\\\\d*)\\\\s*Коробки|\\\\s*([\\\\d,]*)\\\\s*(?:Короб-шкаф[ова]*|Коробо*к[аи]*))&quot;\r\n\r\nto find either string with &quot;Коробки&quot; or another string","title":"Capturing multiple groups via regex","body":"<p>according to your post, you would want to match string and substrings within, I cannot think of proper solution. However, your problem is easy, if we omit  \"Всего\", then we can do following:</p>\n\n<pre><code>\"((\\\\d*)\\\\s*Коробки|\\\\s*([\\\\d,]*)\\\\s*(?:Короб-шкаф[ова]*|Коробо*к[аи]*))\"\n</code></pre>\n\n<p>to find either string with \"Коробки\" or another string</p>\n"},{"comments":[{"owner":{"account_id":17318932,"reputation":117,"user_id":12544798,"display_name":"Artjom Prozorov"},"score":0,"creation_date":1579689953,"post_id":59841060,"comment_id":105847586,"body_markdown":"Hey this wasn&#39;t really what i wanted to achieve , but thank you so much for your comment, i have approached  another way of capturing the result , thank you for your time,your comment is still very useful","body":"Hey this wasn&#39;t really what i wanted to achieve , but thank you so much for your comment, i have approached  another way of capturing the result , thank you for your time,your comment is still very useful"},{"owner":{"account_id":3262328,"reputation":2135,"user_id":2747642,"display_name":"Sree Kumar"},"score":1,"creation_date":1579768800,"post_id":59841060,"comment_id":105879101,"body_markdown":"Oh. Sorry about getting the requirement incorrect. Is it possible for you to post here what you finally used?","body":"Oh. Sorry about getting the requirement incorrect. Is it possible for you to post here what you finally used?"}],"tags":[],"owner":{"account_id":3262328,"reputation":2135,"user_id":2747642,"display_name":"Sree Kumar"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1579609296,"creation_date":1579609296,"answer_id":59841060,"question_id":59839440,"body_markdown":"Does this work for you? I didn&#39;t use the methods you provided though since the basic requirement you mentioned can be achieved through a simple ```Matcher.replaceAll()``` call.\r\n\r\n    Pattern p = Pattern.compile(&quot;Всего\\\\s*(\\\\d*)(\\\\s*Коробки,?)?(\\\\s*([\\\\d,]*)\\\\s*(?:Короб-шкаф[ова]*|Коробо*к[аи]*))?&quot;);\r\n\tString replacement = &quot;$1 $4&quot;;\r\n\tString text = &quot;Всего 2 Коробки, 193 Короб-шкафа&quot;;\r\n\tSystem.out.println( p.matcher( text ).replaceAll( replacement ) );\r\n\r\nThis considers the string &quot;Всего&quot; to be present in the input always.","title":"Capturing multiple groups via regex","body":"<p>Does this work for you? I didn't use the methods you provided though since the basic requirement you mentioned can be achieved through a simple <code>Matcher.replaceAll()</code> call.</p>\n\n<pre><code>Pattern p = Pattern.compile(\"Всего\\\\s*(\\\\d*)(\\\\s*Коробки,?)?(\\\\s*([\\\\d,]*)\\\\s*(?:Короб-шкаф[ова]*|Коробо*к[аи]*))?\");\nString replacement = \"$1 $4\";\nString text = \"Всего 2 Коробки, 193 Короб-шкафа\";\nSystem.out.println( p.matcher( text ).replaceAll( replacement ) );\n</code></pre>\n\n<p>This considers the string \"Всего\" to be present in the input always.</p>\n"}],"owner":{"account_id":17318932,"reputation":117,"user_id":12544798,"display_name":"Artjom Prozorov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1693140737,"creation_date":1579603762,"question_id":59839440,"body_markdown":"I have a function that locates a single group which perfectly working perfectly \r\n\r\n    public static Optional&lt;String&gt; locateInText(String text, Pattern pattern) {\r\n        Matcher matcher = pattern.matcher(text);\r\n        return matcher.find() ? Optional.of(matcher.group(1)) : Optional.empty();\r\n    }\r\n\r\nNow I am trying to build up a function that locates 2 groups and concatenates them and returns the value in String if two groups do not exist return 1 group \r\n\r\n    public static Optional&lt;String&gt; locateInTextt(String text, Pattern pattern) {\r\n        Matcher matcher = pattern.matcher(text);\r\n        while (matcher.find()) {\r\n            if (matcher.groupCount() &gt; 1) {\r\n                int sum = Integer.parseInt(matcher.group(1)) + Integer.parseInt(matcher.group(2));\r\n                return Optional.of(String.valueOf(sum));\r\n            } else if (matcher.groupCount() == 1) {\r\n                return Optional.of(matcher.group(1));\r\n            }\r\n        }\r\n        return Optional.empty();\r\n    }\r\n\r\nThe test did work if there are two matches but if there is just one it keeps returning empty, what I am missing, I read some information and it seems to be possible to indicate group as optional, would appreciate any advice \r\n\r\nUse case text:\r\n&gt;Всего 2 Коробки, 193 Короб-шкафа\r\n\r\nin that case, I need both groups captured, which is 2 and 193 = 195\r\n\r\nSecond use case text;\r\n\r\n&gt;Всего 2 Коробки \r\n\r\nThird use case text\r\n\r\n&gt;Всего 193 Короб-шкафа\r\n\r\n     Pattern.compile(&quot;Всего\\\\s*(\\\\d*)\\\\s*Коробки,\\\\s*([\\\\d,]*)\\\\s*(?:Короб-шкаф[ова]*|Коробо*к[аи]*)&quot;);\r\n\r\n\r\n\r\n","title":"Capturing multiple groups via regex","body":"<p>I have a function that locates a single group which perfectly working perfectly </p>\n\n<pre><code>public static Optional&lt;String&gt; locateInText(String text, Pattern pattern) {\n    Matcher matcher = pattern.matcher(text);\n    return matcher.find() ? Optional.of(matcher.group(1)) : Optional.empty();\n}\n</code></pre>\n\n<p>Now I am trying to build up a function that locates 2 groups and concatenates them and returns the value in String if two groups do not exist return 1 group </p>\n\n<pre><code>public static Optional&lt;String&gt; locateInTextt(String text, Pattern pattern) {\n    Matcher matcher = pattern.matcher(text);\n    while (matcher.find()) {\n        if (matcher.groupCount() &gt; 1) {\n            int sum = Integer.parseInt(matcher.group(1)) + Integer.parseInt(matcher.group(2));\n            return Optional.of(String.valueOf(sum));\n        } else if (matcher.groupCount() == 1) {\n            return Optional.of(matcher.group(1));\n        }\n    }\n    return Optional.empty();\n}\n</code></pre>\n\n<p>The test did work if there are two matches but if there is just one it keeps returning empty, what I am missing, I read some information and it seems to be possible to indicate group as optional, would appreciate any advice </p>\n\n<p>Use case text:</p>\n\n<blockquote>\n  <p>Всего 2 Коробки, 193 Короб-шкафа</p>\n</blockquote>\n\n<p>in that case, I need both groups captured, which is 2 and 193 = 195</p>\n\n<p>Second use case text;</p>\n\n<blockquote>\n  <p>Всего 2 Коробки </p>\n</blockquote>\n\n<p>Third use case text</p>\n\n<blockquote>\n  <p>Всего 193 Короб-шкафа</p>\n</blockquote>\n\n<pre><code> Pattern.compile(\"Всего\\\\s*(\\\\d*)\\\\s*Коробки,\\\\s*([\\\\d,]*)\\\\s*(?:Короб-шкаф[ова]*|Коробо*к[аи]*)\");\n</code></pre>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":6443946,"reputation":2589,"user_id":4993010,"accept_rate":90,"display_name":"frosty"},"score":0,"creation_date":1578423790,"post_id":59633856,"comment_id":105431280,"body_markdown":"@VictorS isn&#39;t the string &quot;the best of&quot;?","body":"@VictorS isn&#39;t the string &quot;the best of&quot;?"},{"owner":{"display_name":"user7548672"},"score":0,"creation_date":1578428219,"post_id":59633856,"comment_id":105433207,"body_markdown":"Thanks I added a answer.","body":"Thanks I added a answer."}],"answers":[{"comments":[{"owner":{"account_id":6443946,"reputation":2589,"user_id":4993010,"accept_rate":90,"display_name":"frosty"},"score":0,"creation_date":1578423285,"post_id":59634117,"comment_id":105431053,"body_markdown":"Well, no, I need to store the pattern that I found in a variable. That&#39;s why I need matches.","body":"Well, no, I need to store the pattern that I found in a variable. That&#39;s why I need matches."},{"owner":{"account_id":16876231,"reputation":617,"user_id":12203568,"display_name":"SephB"},"score":1,"creation_date":1578428644,"post_id":59634117,"comment_id":105433366,"body_markdown":"`find` will do the same as `matches` it just looks for a partial match instead of having to match the whole string. You still have access to groups after find. The major difference is you can call find multiple times to find each instance that matches.","body":"<code>find</code> will do the same as <code>matches</code> it just looks for a partial match instead of having to match the whole string. You still have access to groups after find. The major difference is you can call find multiple times to find each instance that matches."}],"tags":[],"owner":{"account_id":3504923,"reputation":377,"user_id":2930657,"display_name":"ARPAN CHAKARVARTY"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1578421773,"creation_date":1578421773,"answer_id":59634117,"question_id":59633856,"body_markdown":"As per your requirement you have to find the string &quot;best&quot; in &quot;the best of&quot;, so **find()** method suits your requirement instead of **matches()**. Please find the sample code snippet below:\r\n\r\n\r\n    \tPattern pattern = Pattern.compile(&quot;best&quot;);\r\n    \tString theString = &quot;the best of&quot;;\r\n    \tMatcher matcher = pattern.matcher(theString);\r\n    \tif(matcher.find()) {\r\n    \t\tSystem.out.println(&quot;found&quot;);\r\n    \t}else {\r\n    \t\tSystem.out.println(&quot;not found&quot;);\r\n    \t}\r\n    \t\r\n    }","title":"Using regex in java to get a word from a string","body":"<p>As per your requirement you have to find the string \"best\" in \"the best of\", so <strong>find()</strong> method suits your requirement instead of <strong>matches()</strong>. Please find the sample code snippet below:</p>\n\n<pre><code>    Pattern pattern = Pattern.compile(\"best\");\n    String theString = \"the best of\";\n    Matcher matcher = pattern.matcher(theString);\n    if(matcher.find()) {\n        System.out.println(\"found\");\n    }else {\n        System.out.println(\"not found\");\n    }\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6443946,"reputation":2589,"user_id":4993010,"accept_rate":90,"display_name":"frosty"},"score":0,"creation_date":1578423274,"post_id":59634219,"comment_id":105431047,"body_markdown":"Well, no, I need to store the pattern that I found in a variable. That&#39;s why I need matches.","body":"Well, no, I need to store the pattern that I found in a variable. That&#39;s why I need matches."}],"tags":[],"owner":{"account_id":16071736,"reputation":1,"user_id":11600043,"display_name":"Hassan El-seoudy"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1578422262,"creation_date":1578422262,"answer_id":59634219,"question_id":59633856,"body_markdown":"Use **find()** not matches!\r\n\r\n        public static void main(String[] args){\r\n        Pattern pattern = Pattern.compile(&quot;(best)&quot;);\r\n        String theString = &quot;the best of&quot;;\r\n        Matcher matcher = pattern.matcher(theString);\r\n        if(matcher.find())\r\n            System.out.println(&quot;Hi!&quot;);\r\n    }","title":"Using regex in java to get a word from a string","body":"<p>Use <strong>find()</strong> not matches!</p>\n\n<pre><code>    public static void main(String[] args){\n    Pattern pattern = Pattern.compile(\"(best)\");\n    String theString = \"the best of\";\n    Matcher matcher = pattern.matcher(theString);\n    if(matcher.find())\n        System.out.println(\"Hi!\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user7548672"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1578428476,"creation_date":1578427537,"answer_id":59635370,"question_id":59633856,"body_markdown":"What I think you want is this.\r\n\r\n    String theString = &quot;the best of&quot;;\r\n    \r\n    String regex = &quot;(best)&quot;;\r\n    Pattern p = Pattern.compile(regex);\r\n    Matcher m = p.matcher(theString);\r\n    \t\t\r\n    while (m.find()) {\r\n    \tString result = m.group(1);\r\n    \tSystem.out.println(&quot;found: &quot; + result);\r\n    }\r\n\r\noutputs:\r\n\r\n    found: best","title":"Using regex in java to get a word from a string","body":"<p>What I think you want is this.</p>\n\n<pre><code>String theString = \"the best of\";\n\nString regex = \"(best)\";\nPattern p = Pattern.compile(regex);\nMatcher m = p.matcher(theString);\n\nwhile (m.find()) {\n    String result = m.group(1);\n    System.out.println(\"found: \" + result);\n}\n</code></pre>\n\n<p>outputs:</p>\n\n<pre><code>found: best\n</code></pre>\n"}],"owner":{"account_id":6443946,"reputation":2589,"user_id":4993010,"accept_rate":90,"display_name":"frosty"},"comment_count":2,"delete_vote_count":2,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1578432700,"answer_count":3,"score":-1,"last_activity_date":1693140671,"creation_date":1578420549,"question_id":59633856,"body_markdown":"I need to find the word &quot;best&quot; in a string using regex but it&#39;s throwing a &quot;no match found&quot; error. What am I doing wrong?\r\n    \r\n    Pattern pattern = Pattern.compile(&quot;(best)&quot;);\r\n    String theString = &quot;the best of&quot;;\r\n    Matcher matcher = pattern.matcher(theString);\r\n    matcher.matches();\r\n    String whatYouNeed = matcher.group(1);\r\n    Log.d(String.valueOf(LOG), whatYouNeed);","title":"Using regex in java to get a word from a string","body":"<p>I need to find the word \"best\" in a string using regex but it's throwing a \"no match found\" error. What am I doing wrong?</p>\n\n<pre><code>Pattern pattern = Pattern.compile(\"(best)\");\nString theString = \"the best of\";\nMatcher matcher = pattern.matcher(theString);\nmatcher.matches();\nString whatYouNeed = matcher.group(1);\nLog.d(String.valueOf(LOG), whatYouNeed);\n</code></pre>\n"},{"tags":["java","mockito"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1641229965,"post_id":70569208,"comment_id":124747105,"body_markdown":"Use a `@BeforeAll`-method to initialize the static mock instead of initializing it in each test.","body":"Use a <code>@BeforeAll</code>-method to initialize the static mock instead of initializing it in each test."},{"owner":{"account_id":2449121,"reputation":195,"user_id":2135795,"display_name":"claudsan"},"score":0,"creation_date":1641237989,"post_id":70569208,"comment_id":124749706,"body_markdown":"@Lesiak  `Mockito.reset(Mockito.mockStatic(TesteEstatico.class))` it would be something similar to this?","body":"@Lesiak  <code>Mockito.reset(Mockito.mockStatic(TesteEstatico.class))</code> it would be something similar to this?"}],"answers":[{"comments":[{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":2,"creation_date":1641242182,"post_id":70569652,"comment_id":124750934,"body_markdown":"This is bad advice - tests are not independent anymore","body":"This is bad advice - tests are not independent anymore"}],"tags":[],"owner":{"account_id":5879019,"reputation":1195,"user_id":4629025,"display_name":"Raushan Kumar"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1641232478,"creation_date":1641232478,"answer_id":70569652,"question_id":70569208,"body_markdown":"you need to use static block to mock it.\r\n\r\n    import org.junit.jupiter.api.AfterAll;\r\n    import org.junit.jupiter.api.BeforeAll;\r\n    import org.junit.jupiter.api.BeforeEach;\r\n    import org.junit.jupiter.api.Test;\r\n    import org.junit.jupiter.api.extension.ExtendWith;\r\n    import org.mockito.InjectMocks;\r\n    import org.mockito.Mockito;\r\n    import org.mockito.junit.jupiter.MockitoExtension;\r\n    \r\n    \r\n    @ExtendWith(MockitoExtension.class)\r\n    public class UsaTesteEstaticoTest {\r\n        @InjectMocks\r\n        UsaTesteEstatico usaTesteEstatico;\r\n    \r\n        @BeforeAll\r\n        public static void init(){\r\n            Mockito.mockStatic(TesteEstatico.class);\r\n        }\r\n    \r\n        @Test\r\n        void teste1(){\r\n    \r\n            Mockito.when(TesteEstatico.teste())\r\n                    .thenReturn(&quot;BANANA&quot;);\r\n    \r\n            String res = usaTesteEstatico.metodoParaTeste1();\r\n            System.out.println(res);\r\n        }\r\n    \r\n        @Test\r\n        void teste2(){\r\n    \r\n            Mockito.when(TesteEstatico.teste())\r\n                    .thenReturn(&quot;LARANJA&quot;);\r\n    \r\n            String res = usaTesteEstatico.metodoParaTeste2();\r\n            System.out.println(res);\r\n    \r\n        }\r\n    }","title":"Mokito/Java - Static Methods Mock","body":"<p>you need to use static block to mock it.</p>\n<pre><code>import org.junit.jupiter.api.AfterAll;\nimport org.junit.jupiter.api.BeforeAll;\nimport org.junit.jupiter.api.BeforeEach;\nimport org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.extension.ExtendWith;\nimport org.mockito.InjectMocks;\nimport org.mockito.Mockito;\nimport org.mockito.junit.jupiter.MockitoExtension;\n\n\n@ExtendWith(MockitoExtension.class)\npublic class UsaTesteEstaticoTest {\n    @InjectMocks\n    UsaTesteEstatico usaTesteEstatico;\n\n    @BeforeAll\n    public static void init(){\n        Mockito.mockStatic(TesteEstatico.class);\n    }\n\n    @Test\n    void teste1(){\n\n        Mockito.when(TesteEstatico.teste())\n                .thenReturn(&quot;BANANA&quot;);\n\n        String res = usaTesteEstatico.metodoParaTeste1();\n        System.out.println(res);\n    }\n\n    @Test\n    void teste2(){\n\n        Mockito.when(TesteEstatico.teste())\n                .thenReturn(&quot;LARANJA&quot;);\n\n        String res = usaTesteEstatico.metodoParaTeste2();\n        System.out.println(res);\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1641242128,"creation_date":1641242128,"answer_id":70571147,"question_id":70569208,"body_markdown":"You should use try-with-resources block in each of the tests to close the mockStatic.\r\n\r\n```lang-java\r\npublic class UsaTesteEstaticoTest {\r\n    \r\n    UsaTesteEstatico usaTesteEstatico = new UsaTesteEstatico();\r\n\r\n    @Test\r\n    void teste1(){\r\n        try (var ms = Mockito.mockStatic(TesteEstatico.class)) {\r\n            Mockito.when(TesteEstatico.teste()).thenReturn(&quot;BANANA&quot;);\r\n            String res = usaTesteEstatico.metodoParaTeste1();\r\n            System.out.println(res);\r\n        }\r\n    }\r\n\r\n    @Test\r\n    void teste2(){\r\n        try (var ms = Mockito.mockStatic(TesteEstatico.class)) {\r\n            Mockito.when(TesteEstatico.teste()).thenReturn(&quot;LARANJA&quot;);\r\n            String res = usaTesteEstatico.metodoParaTeste2();\r\n            System.out.println(res);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n**Note on mockStatic in @BeforeAll**\r\n\r\nUsing `@BeforeAll` is a trap and bad advice.\r\nYou should strive for independent tests that don&#39;t affect each other.\r\nThis is not the case for mockStatic called in @BeforeAll, as stubbing from test methods outlive the test methods.\r\n\r\nFor example\r\n```lang-java\r\n// BAD CODE DONT USE\r\npublic class UsaTesteEstaticoTest {\r\n\r\n    UsaTesteEstatico usaTesteEstatico = new UsaTesteEstatico();\r\n    static MockedStatic&lt;TesteEstatico&gt; ms;\r\n\r\n    @BeforeAll\r\n    public static void init() {\r\n        ms = Mockito.mockStatic(TesteEstatico.class);\r\n    }\r\n\r\n    @AfterAll\r\n    public static void close() {\r\n        ms.close();\r\n    }\r\n\r\n\r\n    @Test\r\n    void teste1() {\r\n        Mockito.when(TesteEstatico.teste()).thenReturn(&quot;BANANA&quot;);\r\n        String res = usaTesteEstatico.metodoParaTeste1();\r\n        System.out.println(res);\r\n    }\r\n\r\n    @Test\r\n    void teste2() {\r\n        String res = usaTesteEstatico.metodoParaTeste2();\r\n        System.out.println(res);\r\n    }\r\n}\r\n```\r\n\r\n`teste2` prints:\r\n- `FOO BANANA BAR` if run after `teste1`\r\n- `FOO null BAR` if run separately \r\n\r\nThis is precisely what you want to avoid.","title":"Mokito/Java - Static Methods Mock","body":"<p>You should use try-with-resources block in each of the tests to close the mockStatic.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class UsaTesteEstaticoTest {\n    \n    UsaTesteEstatico usaTesteEstatico = new UsaTesteEstatico();\n\n    @Test\n    void teste1(){\n        try (var ms = Mockito.mockStatic(TesteEstatico.class)) {\n            Mockito.when(TesteEstatico.teste()).thenReturn(&quot;BANANA&quot;);\n            String res = usaTesteEstatico.metodoParaTeste1();\n            System.out.println(res);\n        }\n    }\n\n    @Test\n    void teste2(){\n        try (var ms = Mockito.mockStatic(TesteEstatico.class)) {\n            Mockito.when(TesteEstatico.teste()).thenReturn(&quot;LARANJA&quot;);\n            String res = usaTesteEstatico.metodoParaTeste2();\n            System.out.println(res);\n        }\n    }\n}\n</code></pre>\n<p><strong>Note on mockStatic in @BeforeAll</strong></p>\n<p>Using <code>@BeforeAll</code> is a trap and bad advice.\nYou should strive for independent tests that don't affect each other.\nThis is not the case for mockStatic called in @BeforeAll, as stubbing from test methods outlive the test methods.</p>\n<p>For example</p>\n<pre class=\"lang-java prettyprint-override\"><code>// BAD CODE DONT USE\npublic class UsaTesteEstaticoTest {\n\n    UsaTesteEstatico usaTesteEstatico = new UsaTesteEstatico();\n    static MockedStatic&lt;TesteEstatico&gt; ms;\n\n    @BeforeAll\n    public static void init() {\n        ms = Mockito.mockStatic(TesteEstatico.class);\n    }\n\n    @AfterAll\n    public static void close() {\n        ms.close();\n    }\n\n\n    @Test\n    void teste1() {\n        Mockito.when(TesteEstatico.teste()).thenReturn(&quot;BANANA&quot;);\n        String res = usaTesteEstatico.metodoParaTeste1();\n        System.out.println(res);\n    }\n\n    @Test\n    void teste2() {\n        String res = usaTesteEstatico.metodoParaTeste2();\n        System.out.println(res);\n    }\n}\n</code></pre>\n<p><code>teste2</code> prints:</p>\n<ul>\n<li><code>FOO BANANA BAR</code> if run after <code>teste1</code></li>\n<li><code>FOO null BAR</code> if run separately</li>\n</ul>\n<p>This is precisely what you want to avoid.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1693336470,"post_id":76987193,"comment_id":135746613,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/76987193/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":22971536,"reputation":1,"user_id":17099813,"display_name":"Rohit"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693140660,"creation_date":1693140660,"answer_id":76987193,"question_id":70569208,"body_markdown":"    import org.junit.jupiter.api.Test;\r\n    import org.junit.jupiter.api.extension.ExtendWith; \r\n    import org.mockito.InjectMocks; \r\n    import org.mockito.Mockito; \r\n    import org.mockito.junit.jupiter.MockitoExtension;\r\n    \r\n    @ExtendWith(MockitoExtension.class) \r\n    public class UsaTesteEstaticoTest {\r\n    \r\n       @InjectMocks\r\n       UsaTesteEstatico usaTesteEstatico;\r\n        \r\n       MockedStatic&lt;TesteEstatico&gt; testeEstatico;\r\n    \r\n       @BeforeClass\r\n        public void init(){\r\n            testeEstatico = Mockito.mockStatic(TesteEstatico.class);\r\n        }\r\n    \r\n        @AfterClass\r\n        public void destroy(){\r\n            testeEstatico.close();\r\n        }\r\n    \r\n       @Test\r\n       void teste1(){\r\n           Mockito.when(TesteEstatico.teste())\r\n                .thenReturn(&quot;BANANA&quot;);\r\n    \r\n           String res = usaTesteEstatico.metodoParaTeste1();\r\n           System.out.println(res);\r\n       }\r\n    \r\n       @Test\r\n       void teste2(){\r\n           Mockito.when(TesteEstatico.teste())\r\n                .thenReturn(&quot;LARANJA&quot;);\r\n    \r\n           String res = usaTesteEstatico.metodoParaTeste2();\r\n           System.out.println(res);\r\n    \r\n       }\r\n    }\r\n\r\nNone of the above-mentioned solutions posted earlier worked for me If you are having the same static methods to be mocked at multiple locations.Try this out ","title":"Mokito/Java - Static Methods Mock","body":"<pre><code>import org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.extension.ExtendWith; \nimport org.mockito.InjectMocks; \nimport org.mockito.Mockito; \nimport org.mockito.junit.jupiter.MockitoExtension;\n\n@ExtendWith(MockitoExtension.class) \npublic class UsaTesteEstaticoTest {\n\n   @InjectMocks\n   UsaTesteEstatico usaTesteEstatico;\n    \n   MockedStatic&lt;TesteEstatico&gt; testeEstatico;\n\n   @BeforeClass\n    public void init(){\n        testeEstatico = Mockito.mockStatic(TesteEstatico.class);\n    }\n\n    @AfterClass\n    public void destroy(){\n        testeEstatico.close();\n    }\n\n   @Test\n   void teste1(){\n       Mockito.when(TesteEstatico.teste())\n            .thenReturn(&quot;BANANA&quot;);\n\n       String res = usaTesteEstatico.metodoParaTeste1();\n       System.out.println(res);\n   }\n\n   @Test\n   void teste2(){\n       Mockito.when(TesteEstatico.teste())\n            .thenReturn(&quot;LARANJA&quot;);\n\n       String res = usaTesteEstatico.metodoParaTeste2();\n       System.out.println(res);\n\n   }\n}\n</code></pre>\n<p>None of the above-mentioned solutions posted earlier worked for me If you are having the same static methods to be mocked at multiple locations.Try this out</p>\n"}],"owner":{"account_id":2449121,"reputation":195,"user_id":2135795,"display_name":"claudsan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14956,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70571147,"answer_count":3,"score":2,"last_activity_date":1693140660,"creation_date":1641229797,"question_id":70569208,"body_markdown":"For example I have the following classes below:\r\n\r\n    public class TesteEstatico {\r\n    \r\n       public static String teste(){\r\n          return &quot;FOO&quot;;\r\n       }\r\n    \r\n    }\r\n\r\nAnd I have a class that uses her method:\r\n\r\n    public class UsaTesteEstatico {\r\n    \r\n       public String metodoParaTeste1 (){\r\n           return  TesteEstatico.teste() + &quot; BAR &quot;;\r\n       }\r\n    \r\n       public String metodoParaTeste2 (){\r\n           return  &quot;FOO &quot;+TesteEstatico.teste() + &quot; BAR &quot;;\r\n       }\r\n    \r\n    }\r\n\r\nTest class:\r\n\r\n    import org.junit.jupiter.api.Test;\r\n    import org.junit.jupiter.api.extension.ExtendWith; \r\n    import org.mockito.InjectMocks; \r\n    import org.mockito.Mockito; \r\n    import org.mockito.junit.jupiter.MockitoExtension;\r\n    \r\n    @ExtendWith(MockitoExtension.class) public class UsaTesteEstaticoTest {\r\n    \r\n       @InjectMocks\r\n       UsaTesteEstatico usaTesteEstatico;\r\n    \r\n       @Test\r\n       void teste1(){\r\n           Mockito.mockStatic(TesteEstatico.class);\r\n           Mockito.when(TesteEstatico.teste())\r\n                .thenReturn(&quot;BANANA&quot;);\r\n    \r\n           String res = usaTesteEstatico.metodoParaTeste1();\r\n           System.out.println(res);\r\n       }\r\n    \r\n       @Test\r\n       void teste2(){\r\n           Mockito.mockStatic(TesteEstatico.class);\r\n           Mockito.when(TesteEstatico.teste())\r\n                .thenReturn(&quot;LARANJA&quot;);\r\n    \r\n           String res = usaTesteEstatico.metodoParaTeste2();\r\n           System.out.println(res);\r\n    \r\n       }\r\n    }\r\n\r\nError I get when trying to run the tests:\r\n\r\norg.mockito.exceptions.base.MockitoException: \r\nFor TesteEstatico, static mocking is already registered in the current thread\r\nTo create a new mock, the existing static mock registration must be deregistered\r\n\r\n\r\nVersions of the libs that are in the project:\r\n\r\n- junit-jupiter 5.5.2\r\n- mockito-junit-jupiter 3.2.14\r\n- mockito-inline 3.2.14\r\n\r\nAny idea how to solve this, i&#39;ve tried a few things but nothing successful.\r\n\r\nNOTE: I cannot change or add any new libraries as it is a restricted project.\r\n","title":"Mokito/Java - Static Methods Mock","body":"<p>For example I have the following classes below:</p>\n<pre><code>public class TesteEstatico {\n\n   public static String teste(){\n      return &quot;FOO&quot;;\n   }\n\n}\n</code></pre>\n<p>And I have a class that uses her method:</p>\n<pre><code>public class UsaTesteEstatico {\n\n   public String metodoParaTeste1 (){\n       return  TesteEstatico.teste() + &quot; BAR &quot;;\n   }\n\n   public String metodoParaTeste2 (){\n       return  &quot;FOO &quot;+TesteEstatico.teste() + &quot; BAR &quot;;\n   }\n\n}\n</code></pre>\n<p>Test class:</p>\n<pre><code>import org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.extension.ExtendWith; \nimport org.mockito.InjectMocks; \nimport org.mockito.Mockito; \nimport org.mockito.junit.jupiter.MockitoExtension;\n\n@ExtendWith(MockitoExtension.class) public class UsaTesteEstaticoTest {\n\n   @InjectMocks\n   UsaTesteEstatico usaTesteEstatico;\n\n   @Test\n   void teste1(){\n       Mockito.mockStatic(TesteEstatico.class);\n       Mockito.when(TesteEstatico.teste())\n            .thenReturn(&quot;BANANA&quot;);\n\n       String res = usaTesteEstatico.metodoParaTeste1();\n       System.out.println(res);\n   }\n\n   @Test\n   void teste2(){\n       Mockito.mockStatic(TesteEstatico.class);\n       Mockito.when(TesteEstatico.teste())\n            .thenReturn(&quot;LARANJA&quot;);\n\n       String res = usaTesteEstatico.metodoParaTeste2();\n       System.out.println(res);\n\n   }\n}\n</code></pre>\n<p>Error I get when trying to run the tests:</p>\n<p>org.mockito.exceptions.base.MockitoException:\nFor TesteEstatico, static mocking is already registered in the current thread\nTo create a new mock, the existing static mock registration must be deregistered</p>\n<p>Versions of the libs that are in the project:</p>\n<ul>\n<li>junit-jupiter 5.5.2</li>\n<li>mockito-junit-jupiter 3.2.14</li>\n<li>mockito-inline 3.2.14</li>\n</ul>\n<p>Any idea how to solve this, i've tried a few things but nothing successful.</p>\n<p>NOTE: I cannot change or add any new libraries as it is a restricted project.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9914,"page":220,"page_size":100}
