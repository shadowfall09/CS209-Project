{"items":[{"tags":["java","arrays","char"],"comments":[{"owner":{"account_id":4441392,"reputation":3262,"user_id":3615862,"accept_rate":100,"display_name":"ThisaruG"},"score":0,"creation_date":1666345707,"post_id":74151678,"comment_id":130920215,"body_markdown":"What is the type of `a` and `b`? What happen if the `a` is an instance of `Double` and `b` is an instance of `Long`?","body":"What is the type of <code>a</code> and <code>b</code>? What happen if the <code>a</code> is an instance of <code>Double</code> and <code>b</code> is an instance of <code>Long</code>?"},{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":0,"creation_date":1666346798,"post_id":74151678,"comment_id":130920592,"body_markdown":"How these two chars came into the array? do you have some kind of scanner/lexical analyzer? why don&#39;t you use an enum type instead?","body":"How these two chars came into the array? do you have some kind of scanner/lexical analyzer? why don&#39;t you use an enum type instead?"},{"owner":{"account_id":1653069,"reputation":1472,"user_id":1523263,"accept_rate":46,"display_name":"Nagappa L M"},"score":0,"creation_date":1666777634,"post_id":74151678,"comment_id":131014557,"body_markdown":"@MauricePerry Yes iterative of reading each char from string expression","body":"@MauricePerry Yes iterative of reading each char from string expression"}],"answers":[{"tags":[],"owner":{"account_id":1041463,"reputation":3845,"user_id":1047418,"display_name":"Torben"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1666346023,"creation_date":1666346023,"answer_id":74151881,"question_id":74151678,"body_markdown":"Convert each one of these into [BiFunctions][1].\r\n\r\n        if (a instanceof Double || b instanceof Double) {\r\n          result = a.doubleValue() + b.doubleValue();\r\n        } else if (a instanceof Long &amp;&amp; b instanceof Long) {\r\n          result = a.longValue() + b.longValue();\r\n        }\r\n\r\nAnd put them into a map using the operator as key. Your big if-else-switch statement becomes:\r\n\r\n    result = operatorMap.get(op.toString()).apply(a, b);\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/function/BiFunction.html","title":"Java Convert two char Operator String to working Operator?","body":"<p>Convert each one of these into <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/function/BiFunction.html\" rel=\"nofollow noreferrer\">BiFunctions</a>.</p>\n<pre><code>    if (a instanceof Double || b instanceof Double) {\n      result = a.doubleValue() + b.doubleValue();\n    } else if (a instanceof Long &amp;&amp; b instanceof Long) {\n      result = a.longValue() + b.longValue();\n    }\n</code></pre>\n<p>And put them into a map using the operator as key. Your big if-else-switch statement becomes:</p>\n<pre><code>result = operatorMap.get(op.toString()).apply(a, b);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1653069,"reputation":1472,"user_id":1523263,"accept_rate":46,"display_name":"Nagappa L M"},"score":0,"creation_date":1666779775,"post_id":74152871,"comment_id":131015276,"body_markdown":"Thank you Holger :-) i could avoid many if&#39;s using your code.","body":"Thank you Holger :-) i could avoid many if&#39;s using your code."}],"tags":[],"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1666351144,"creation_date":1666351144,"answer_id":74152871,"question_id":74151678,"body_markdown":"As always, avoid repetition by moving common code into methods. The struggle seems to be with the passing of the actual operations as arguments. One solution could be\r\n\r\n```java\r\nswitch(operator.length == 1? operator[0]: operator[0] &lt;&lt; 16 | operator[1])\r\n{\r\n  case &#39;+&#39;: result = perform(a, b, Double::sum, Long::sum); break;\r\n  case &#39;-&#39;: result = perform(a, b, (d1, d2) -&gt; d1 - d2, (l1, l2) -&gt; l1 - l2); break;\r\n  case &#39;*&#39;: result = perform(a, b, (d1, d2) -&gt; d1 * d2, (l1, l2) -&gt; l1 * l2); break;\r\n  case &#39;/&#39;: result = perform(a, b, (d1, d2) -&gt; d1 / check(d2),(l1, l2) -&gt; l1 / l2);break;\r\n  case &#39;%&#39;: result = perform(a, b, (d1, d2) -&gt; d1 % check(d2),(l1, l2) -&gt; l1 % l2);break;\r\n  case &#39;^&#39;: result = perform(a, b, Math::pow, (l1, l2) -&gt; (long)Math.pow(l1, l2)); break;\r\n  case &#39;&gt;&#39;:\r\n    resultDecorator.setTypeOfexpresion(EvaluatorConstants.Boolean);\r\n    result = performCmp(a, b, (d1, d2) -&gt; d1 &gt; d2, (l1, l2) -&gt; l1 &gt; l2);\r\n    break;\r\n  case &#39;&lt;&#39;:\r\n    resultDecorator.setTypeOfexpresion(EvaluatorConstants.Boolean);\r\n    result = performCmp(a, b, (d1, d2) -&gt; d1 &lt; d2, (l1, l2) -&gt; l1 &lt; l2);\r\n    break;\r\n  case &#39;&lt;&#39; &lt;&lt; 16 | &#39;=&#39;:\r\n    resultDecorator.setTypeOfexpresion(EvaluatorConstants.Boolean);\r\n    result = performCmp(a, b, (d1, d2) -&gt; d1 &lt;= d2, (l1, l2) -&gt; l1 &lt;= l2);\r\n    break;\r\n  case &#39;&gt;&#39; &lt;&lt; 16 | &#39;=&#39;:\r\n    resultDecorator.setTypeOfexpresion(EvaluatorConstants.Boolean);\r\n    result = performCmp(a, b, (d1, d2) -&gt; d1 &gt;= d2, (l1, l2) -&gt; l1 &gt;= l2);\r\n    break;\r\n  case &#39;=&#39; &lt;&lt; 16 | &#39;=&#39;:\r\n    resultDecorator.setTypeOfexpresion(EvaluatorConstants.Boolean);\r\n    result = performCmp(a, b, (d1, d2) -&gt; d1 == d2, (l1, l2) -&gt; l1 == l2);\r\n    break;\r\n  default: throw new ArithmeticException(&quot;unknown operator &quot; + new String(operator));\r\n}\r\n```\r\n```java\r\nstatic Number perform(\r\n    Number a, Number b, DoubleBinaryOperator dOp, LongBinaryOperator lOp)\r\n{\r\n  return a instanceof Double || b instanceof Double?\r\n      dOp.applyAsDouble(a.doubleValue(), b.doubleValue()):\r\n      lOp.applyAsLong(a.longValue(), b.longValue());\r\n}\r\n\r\n@FunctionalInterface interface BinaryDoublePredicate\r\n{\r\n  boolean test(double d1, double d2);\r\n}\r\n\r\n@FunctionalInterface interface BinaryLongPredicate\r\n{\r\n  boolean test(long d1, long d2);\r\n}\r\n\r\nstatic Number performCmp(\r\n    Number a, Number b, BinaryDoublePredicate dOp, BinaryLongPredicate lOp)\r\n{\r\n  return (a instanceof Double || b instanceof Double?\r\n      dOp.test(a.doubleValue(), b.doubleValue()):\r\n      lOp.test(a.longValue(), b.longValue()))? 1: 0;\r\n}\r\n\r\nstatic double check(double d2)\r\n{\r\n  if(d2 == 0) throw new ArithmeticException(&quot;/ by zero&quot;);\r\n  return d2;\r\n}\r\n```\r\n\r\nNote that when using the better suited `ArithmeticException` instead of `UnsupportedOperationException` for division by zero, you get it for free when performing `/` or `%` on `long`. Only for the `double` operation, an explicit check is needed when you want to get an exception rather than `NaN`.\r\n\r\nThe code above also handles the one-char and two-char values with a single `switch` statement as an `int` can easily contain two chars. The only drawback is that it would handle `&quot;\\0+&quot;` like `&quot;+&quot;` but such input should be ruled out by the preceding processing operation already.\r\n","title":"Java Convert two char Operator String to working Operator?","body":"<p>As always, avoid repetition by moving common code into methods. The struggle seems to be with the passing of the actual operations as arguments. One solution could be</p>\n<pre class=\"lang-java prettyprint-override\"><code>switch(operator.length == 1? operator[0]: operator[0] &lt;&lt; 16 | operator[1])\n{\n  case '+': result = perform(a, b, Double::sum, Long::sum); break;\n  case '-': result = perform(a, b, (d1, d2) -&gt; d1 - d2, (l1, l2) -&gt; l1 - l2); break;\n  case '*': result = perform(a, b, (d1, d2) -&gt; d1 * d2, (l1, l2) -&gt; l1 * l2); break;\n  case '/': result = perform(a, b, (d1, d2) -&gt; d1 / check(d2),(l1, l2) -&gt; l1 / l2);break;\n  case '%': result = perform(a, b, (d1, d2) -&gt; d1 % check(d2),(l1, l2) -&gt; l1 % l2);break;\n  case '^': result = perform(a, b, Math::pow, (l1, l2) -&gt; (long)Math.pow(l1, l2)); break;\n  case '&gt;':\n    resultDecorator.setTypeOfexpresion(EvaluatorConstants.Boolean);\n    result = performCmp(a, b, (d1, d2) -&gt; d1 &gt; d2, (l1, l2) -&gt; l1 &gt; l2);\n    break;\n  case '&lt;':\n    resultDecorator.setTypeOfexpresion(EvaluatorConstants.Boolean);\n    result = performCmp(a, b, (d1, d2) -&gt; d1 &lt; d2, (l1, l2) -&gt; l1 &lt; l2);\n    break;\n  case '&lt;' &lt;&lt; 16 | '=':\n    resultDecorator.setTypeOfexpresion(EvaluatorConstants.Boolean);\n    result = performCmp(a, b, (d1, d2) -&gt; d1 &lt;= d2, (l1, l2) -&gt; l1 &lt;= l2);\n    break;\n  case '&gt;' &lt;&lt; 16 | '=':\n    resultDecorator.setTypeOfexpresion(EvaluatorConstants.Boolean);\n    result = performCmp(a, b, (d1, d2) -&gt; d1 &gt;= d2, (l1, l2) -&gt; l1 &gt;= l2);\n    break;\n  case '=' &lt;&lt; 16 | '=':\n    resultDecorator.setTypeOfexpresion(EvaluatorConstants.Boolean);\n    result = performCmp(a, b, (d1, d2) -&gt; d1 == d2, (l1, l2) -&gt; l1 == l2);\n    break;\n  default: throw new ArithmeticException(&quot;unknown operator &quot; + new String(operator));\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>static Number perform(\n    Number a, Number b, DoubleBinaryOperator dOp, LongBinaryOperator lOp)\n{\n  return a instanceof Double || b instanceof Double?\n      dOp.applyAsDouble(a.doubleValue(), b.doubleValue()):\n      lOp.applyAsLong(a.longValue(), b.longValue());\n}\n\n@FunctionalInterface interface BinaryDoublePredicate\n{\n  boolean test(double d1, double d2);\n}\n\n@FunctionalInterface interface BinaryLongPredicate\n{\n  boolean test(long d1, long d2);\n}\n\nstatic Number performCmp(\n    Number a, Number b, BinaryDoublePredicate dOp, BinaryLongPredicate lOp)\n{\n  return (a instanceof Double || b instanceof Double?\n      dOp.test(a.doubleValue(), b.doubleValue()):\n      lOp.test(a.longValue(), b.longValue()))? 1: 0;\n}\n\nstatic double check(double d2)\n{\n  if(d2 == 0) throw new ArithmeticException(&quot;/ by zero&quot;);\n  return d2;\n}\n</code></pre>\n<p>Note that when using the better suited <code>ArithmeticException</code> instead of <code>UnsupportedOperationException</code> for division by zero, you get it for free when performing <code>/</code> or <code>%</code> on <code>long</code>. Only for the <code>double</code> operation, an explicit check is needed when you want to get an exception rather than <code>NaN</code>.</p>\n<p>The code above also handles the one-char and two-char values with a single <code>switch</code> statement as an <code>int</code> can easily contain two chars. The only drawback is that it would handle <code>&quot;\\0+&quot;</code> like <code>&quot;+&quot;</code> but such input should be ruled out by the preceding processing operation already.</p>\n"},{"tags":[],"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666355486,"creation_date":1666355486,"answer_id":74153663,"question_id":74151678,"body_markdown":"You could use a table of binary operators. For instance, the following class could be used to model one of these binary operators:\r\n\r\n    public class Operator2&lt;T1 extends Number, T2 extends Number&gt; {\r\n        private final Class&lt;T1&gt; t1;\r\n        private final Class&lt;T2&gt; t2;\r\n        private final BiFunction&lt;T1,T2,?&gt; op;\r\n    \r\n        public Operator2(\r\n                Class&lt;T1&gt; t1, Class&lt;T2&gt; t2, BiFunction&lt;T1,T2,?&gt; op) {\r\n            this.t1 = t1;\r\n            this.t2 = t2;\r\n            this.op = op;\r\n        }\r\n    \r\n        public boolean canApplyTo(Number a, Number b) {\r\n            return canConvert(a.getClass(), t1) &amp;&amp; canConvert(b.getClass(), t2);\r\n        }\r\n    \r\n        public Object apply(Number a, Number b) {\r\n            return op.apply((T1)convert(a, t1), (T2)convert(b, t2));\r\n        }\r\n    \r\n        private static boolean canConvert(\r\n                Class&lt;? extends Number&gt; s, Class&lt;? extends Number&gt; t) {\r\n            if (s == t) {\r\n                return true;\r\n            }\r\n            if (t == Double.class) {\r\n                return true;\r\n            }\r\n            return false;\r\n        }\r\n    \r\n        private static Number convert(Number v, Class&lt;? extends Number&gt; t) {\r\n            if (v.getClass() == t) {\r\n                return v;\r\n            }\r\n            if (t == Double.class) {\r\n                return v.doubleValue();\r\n            }\r\n            return 0L;\r\n        }\r\n    }\r\n\r\nThe next class is a table of binary operators:\r\n\r\n\r\n    public class Operator2Table {\r\n        private final Map&lt;String,List&lt;Operator2&lt;?,?&gt;&gt;&gt; map = new HashMap&lt;&gt;();\r\n    \r\n        public Operator2Table() {\r\n            register(&quot;+&quot;, Long.class, Long.class, (a,b) -&gt; a+b);\r\n            register(&quot;+&quot;, Double.class, Double.class, (a,b) -&gt; a+b);\r\n            // ...\r\n        }\r\n    \r\n        public Object apply(String s, Number a, Number b) {\r\n            List&lt;Operator2&lt;?,?&gt;&gt; list = map.get(s);\r\n            if (list == null) {\r\n                throw new IllegalArgumentException(&quot;Unknown operator &quot; + s);\r\n            }\r\n            for (Operator2&lt;?,?&gt; op: list) {\r\n                if (op.canApplyTo(a, b)) {\r\n                    return op.apply(a, b);\r\n                }\r\n            }\r\n            throw new IllegalArgumentException(&quot;Cannot apply operator &quot; + s\r\n                    + &quot; to given argument&quot;);\r\n        }\r\n    \r\n        private &lt;T1 extends Number,T2 extends Number&gt;\r\n             void register(String s, Class&lt;T1&gt; t1, Class&lt;T2&gt; t2, BiFunction&lt;T1,T2,?&gt; op) {\r\n            List&lt;Operator2&lt;?,?&gt;&gt; list = map.get(s);\r\n            if (list == null) {\r\n                list = new ArrayList&lt;&gt;();\r\n                map.put(s, list);\r\n            }\r\n            list.add(new Operator2&lt;&gt;(t1, t2, op));\r\n        }\r\n    }\r\n\r\nNote that it is important that you register the `Long` version of a given operator before the `Double` version because the `Double` version can also be applied to two `Long`s whereas the `Long` version cannot be applied to two `Double`s.\r\n\r\nThese tables are very flexible, and you could easily extend the code to support `Int`s, `Short`s and `Float`s.\r\n","title":"Java Convert two char Operator String to working Operator?","body":"<p>You could use a table of binary operators. For instance, the following class could be used to model one of these binary operators:</p>\n<pre><code>public class Operator2&lt;T1 extends Number, T2 extends Number&gt; {\n    private final Class&lt;T1&gt; t1;\n    private final Class&lt;T2&gt; t2;\n    private final BiFunction&lt;T1,T2,?&gt; op;\n\n    public Operator2(\n            Class&lt;T1&gt; t1, Class&lt;T2&gt; t2, BiFunction&lt;T1,T2,?&gt; op) {\n        this.t1 = t1;\n        this.t2 = t2;\n        this.op = op;\n    }\n\n    public boolean canApplyTo(Number a, Number b) {\n        return canConvert(a.getClass(), t1) &amp;&amp; canConvert(b.getClass(), t2);\n    }\n\n    public Object apply(Number a, Number b) {\n        return op.apply((T1)convert(a, t1), (T2)convert(b, t2));\n    }\n\n    private static boolean canConvert(\n            Class&lt;? extends Number&gt; s, Class&lt;? extends Number&gt; t) {\n        if (s == t) {\n            return true;\n        }\n        if (t == Double.class) {\n            return true;\n        }\n        return false;\n    }\n\n    private static Number convert(Number v, Class&lt;? extends Number&gt; t) {\n        if (v.getClass() == t) {\n            return v;\n        }\n        if (t == Double.class) {\n            return v.doubleValue();\n        }\n        return 0L;\n    }\n}\n</code></pre>\n<p>The next class is a table of binary operators:</p>\n<pre><code>public class Operator2Table {\n    private final Map&lt;String,List&lt;Operator2&lt;?,?&gt;&gt;&gt; map = new HashMap&lt;&gt;();\n\n    public Operator2Table() {\n        register(&quot;+&quot;, Long.class, Long.class, (a,b) -&gt; a+b);\n        register(&quot;+&quot;, Double.class, Double.class, (a,b) -&gt; a+b);\n        // ...\n    }\n\n    public Object apply(String s, Number a, Number b) {\n        List&lt;Operator2&lt;?,?&gt;&gt; list = map.get(s);\n        if (list == null) {\n            throw new IllegalArgumentException(&quot;Unknown operator &quot; + s);\n        }\n        for (Operator2&lt;?,?&gt; op: list) {\n            if (op.canApplyTo(a, b)) {\n                return op.apply(a, b);\n            }\n        }\n        throw new IllegalArgumentException(&quot;Cannot apply operator &quot; + s\n                + &quot; to given argument&quot;);\n    }\n\n    private &lt;T1 extends Number,T2 extends Number&gt;\n         void register(String s, Class&lt;T1&gt; t1, Class&lt;T2&gt; t2, BiFunction&lt;T1,T2,?&gt; op) {\n        List&lt;Operator2&lt;?,?&gt;&gt; list = map.get(s);\n        if (list == null) {\n            list = new ArrayList&lt;&gt;();\n            map.put(s, list);\n        }\n        list.add(new Operator2&lt;&gt;(t1, t2, op));\n    }\n}\n</code></pre>\n<p>Note that it is important that you register the <code>Long</code> version of a given operator before the <code>Double</code> version because the <code>Double</code> version can also be applied to two <code>Long</code>s whereas the <code>Long</code> version cannot be applied to two <code>Double</code>s.</p>\n<p>These tables are very flexible, and you could easily extend the code to support <code>Int</code>s, <code>Short</code>s and <code>Float</code>s.</p>\n"}],"owner":{"account_id":1653069,"reputation":1472,"user_id":1523263,"accept_rate":46,"display_name":"Nagappa L M"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74151881,"answer_count":3,"score":1,"last_activity_date":1666355486,"creation_date":1666344960,"question_id":74151678,"body_markdown":"```java\r\nHave char[] operator = // &quot;+&quot; or &quot;&lt;&quot; or &quot;&lt;=&quot; etc\r\n  if(op.length == 1) {\r\n    switch (op[0]) {\r\n      case &#39;+&#39;:\r\n        if (a instanceof Double || b instanceof Double) {\r\n          result = a.doubleValue() + b.doubleValue();\r\n        } else if (a instanceof Long &amp;&amp; b instanceof Long) {\r\n          result = a.longValue() + b.longValue();\r\n        }\r\n        break;\r\n      case &#39;-&#39;:\r\n        if (a instanceof Double || b instanceof Double) {\r\n          result = a.doubleValue() - b.doubleValue();\r\n        } else if (a instanceof Long &amp;&amp; b instanceof Long) {\r\n          result = a.longValue() - b.longValue();\r\n        }\r\n        break;\r\n      case &#39;*&#39;:\r\n        if (a instanceof Double || b instanceof Double) {\r\n          result = a.doubleValue() * b.doubleValue();\r\n        } else if (a instanceof Long &amp;&amp; b instanceof Long) {\r\n          result = a.longValue() * b.longValue();\r\n        }\r\n        break;\r\n      case &#39;^&#39;:\r\n        if (a instanceof Double || b instanceof Double) {\r\n          result = Double.valueOf(Math.pow(a.doubleValue(), b.doubleValue()));\r\n        } else if (a instanceof Long &amp;&amp; b instanceof Long) {\r\n          result = (long) Math.pow(a.longValue(), b.longValue());\r\n        }\r\n        break;\r\n      case &#39;/&#39;:\r\n        if (b.doubleValue() == 0) {\r\n          throw new UnsupportedOperationException(&quot;Cannot divide by zero&quot;);\r\n        }\r\n        if (a instanceof Double || b instanceof Double) {\r\n          result = a.doubleValue() / b.doubleValue();\r\n        } else if (a instanceof Long &amp;&amp; b instanceof Long) {\r\n          result = a.longValue() / b.longValue();\r\n        }\r\n        break;\r\n      case &#39;&gt;&#39;:\r\n        resultDecorator.setTypeOfexpresion(EvaluatorConstants.Boolean);\r\n      if (a instanceof Double || b instanceof Double) {\r\n        result = a.doubleValue() &gt; b.doubleValue()?1:0;\r\n      } else if (a instanceof Long &amp;&amp; b instanceof Long) {\r\n        result = a.longValue() &gt; b.longValue()?1:0;\r\n      }\r\n      break;\r\n    case &#39;&lt;&#39;:\r\n      resultDecorator.setTypeOfexpresion(EvaluatorConstants.Boolean);\r\n      if (a instanceof Double || b instanceof Double) {\r\n        result = a.doubleValue() &lt; b.doubleValue()?1:0;\r\n      } else if (a instanceof Long &amp;&amp; b instanceof Long) {\r\n        result = a.longValue() &lt; b.longValue()?1:0;\r\n      }\r\n      break;\r\n    }\r\n  } else if (op.length == 2) {\r\n    resultDecorator.setTypeOfexpresion(EvaluatorConstants.Boolean);\r\n    switch (op.toString()) {\r\n      case &quot;&gt;=&quot;:\r\n        if (a instanceof Double || b instanceof Double) {\r\n          result = a.doubleValue() &gt;= b.doubleValue()?1:0;\r\n        } else if (a instanceof Long &amp;&amp; b instanceof Long) {\r\n          result = a.longValue() &gt;= b.longValue()?1:0;\r\n        }\r\n        break;\r\n      case &quot;&lt;=&quot;:\r\n        if (a instanceof Double || b instanceof Double) {\r\n          result = a.doubleValue() &lt;= b.doubleValue()?1:0;\r\n        } else if (a instanceof Long &amp;&amp; b instanceof Long) {\r\n          result = a.longValue() &lt;= b.longValue()?1:0;\r\n        }\r\n        break;\r\n          case &quot;==&quot;:\r\n            if (a instanceof Double || b instanceof Double) {\r\n              result = a.doubleValue() == b.doubleValue()?1:0;\r\n            } else if (a instanceof Long &amp;&amp; b instanceof Long) {\r\n              result = a.longValue() == b.longValue()?1:0;\r\n            }\r\n            break;\r\n          }\r\n        }\r\n```\r\nWanted to avoid many comparison operations.\r\n\r\nI don&#39;t see a solution to covert string to literal I mean convert to working operator(single char operator or two char operator).\r\n\r\nCan it be achieved without using any lib?","title":"Java Convert two char Operator String to working Operator?","body":"<pre class=\"lang-java prettyprint-override\"><code>Have char[] operator = // &quot;+&quot; or &quot;&lt;&quot; or &quot;&lt;=&quot; etc\n  if(op.length == 1) {\n    switch (op[0]) {\n      case '+':\n        if (a instanceof Double || b instanceof Double) {\n          result = a.doubleValue() + b.doubleValue();\n        } else if (a instanceof Long &amp;&amp; b instanceof Long) {\n          result = a.longValue() + b.longValue();\n        }\n        break;\n      case '-':\n        if (a instanceof Double || b instanceof Double) {\n          result = a.doubleValue() - b.doubleValue();\n        } else if (a instanceof Long &amp;&amp; b instanceof Long) {\n          result = a.longValue() - b.longValue();\n        }\n        break;\n      case '*':\n        if (a instanceof Double || b instanceof Double) {\n          result = a.doubleValue() * b.doubleValue();\n        } else if (a instanceof Long &amp;&amp; b instanceof Long) {\n          result = a.longValue() * b.longValue();\n        }\n        break;\n      case '^':\n        if (a instanceof Double || b instanceof Double) {\n          result = Double.valueOf(Math.pow(a.doubleValue(), b.doubleValue()));\n        } else if (a instanceof Long &amp;&amp; b instanceof Long) {\n          result = (long) Math.pow(a.longValue(), b.longValue());\n        }\n        break;\n      case '/':\n        if (b.doubleValue() == 0) {\n          throw new UnsupportedOperationException(&quot;Cannot divide by zero&quot;);\n        }\n        if (a instanceof Double || b instanceof Double) {\n          result = a.doubleValue() / b.doubleValue();\n        } else if (a instanceof Long &amp;&amp; b instanceof Long) {\n          result = a.longValue() / b.longValue();\n        }\n        break;\n      case '&gt;':\n        resultDecorator.setTypeOfexpresion(EvaluatorConstants.Boolean);\n      if (a instanceof Double || b instanceof Double) {\n        result = a.doubleValue() &gt; b.doubleValue()?1:0;\n      } else if (a instanceof Long &amp;&amp; b instanceof Long) {\n        result = a.longValue() &gt; b.longValue()?1:0;\n      }\n      break;\n    case '&lt;':\n      resultDecorator.setTypeOfexpresion(EvaluatorConstants.Boolean);\n      if (a instanceof Double || b instanceof Double) {\n        result = a.doubleValue() &lt; b.doubleValue()?1:0;\n      } else if (a instanceof Long &amp;&amp; b instanceof Long) {\n        result = a.longValue() &lt; b.longValue()?1:0;\n      }\n      break;\n    }\n  } else if (op.length == 2) {\n    resultDecorator.setTypeOfexpresion(EvaluatorConstants.Boolean);\n    switch (op.toString()) {\n      case &quot;&gt;=&quot;:\n        if (a instanceof Double || b instanceof Double) {\n          result = a.doubleValue() &gt;= b.doubleValue()?1:0;\n        } else if (a instanceof Long &amp;&amp; b instanceof Long) {\n          result = a.longValue() &gt;= b.longValue()?1:0;\n        }\n        break;\n      case &quot;&lt;=&quot;:\n        if (a instanceof Double || b instanceof Double) {\n          result = a.doubleValue() &lt;= b.doubleValue()?1:0;\n        } else if (a instanceof Long &amp;&amp; b instanceof Long) {\n          result = a.longValue() &lt;= b.longValue()?1:0;\n        }\n        break;\n          case &quot;==&quot;:\n            if (a instanceof Double || b instanceof Double) {\n              result = a.doubleValue() == b.doubleValue()?1:0;\n            } else if (a instanceof Long &amp;&amp; b instanceof Long) {\n              result = a.longValue() == b.longValue()?1:0;\n            }\n            break;\n          }\n        }\n</code></pre>\n<p>Wanted to avoid many comparison operations.</p>\n<p>I don't see a solution to covert string to literal I mean convert to working operator(single char operator or two char operator).</p>\n<p>Can it be achieved without using any lib?</p>\n"},{"tags":["java","docker","docker-compose","microservices"],"comments":[{"owner":{"account_id":13863020,"reputation":137043,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1666351369,"post_id":74152794,"comment_id":130922107,"body_markdown":"In the general case that&#39;s something you need to configure externally.  Is your machine running behind a load balancer, or a firewall service, such that external clients need to connect to something else that forwards requests on to you?  You can&#39;t tell that from just the local system, whether in a container or not.","body":"In the general case that&#39;s something you need to configure externally.  Is your machine running behind a load balancer, or a firewall service, such that external clients need to connect to something else that forwards requests on to you?  You can&#39;t tell that from just the local system, whether in a container or not."},{"owner":{"account_id":15967888,"reputation":165,"user_id":11522914,"display_name":"CovetousSlope"},"score":0,"creation_date":1666352140,"post_id":74152794,"comment_id":130922332,"body_markdown":"@DavidMaze I understand what you mean. Currently what I expect is to run docker containers on my local host and resolve the url from browser of my machine , something similar to what I am currently doing to access swagger-ui using docker host ip.","body":"@DavidMaze I understand what you mean. Currently what I expect is to run docker containers on my local host and resolve the url from browser of my machine , something similar to what I am currently doing to access swagger-ui using docker host ip."},{"owner":{"account_id":8391404,"reputation":293,"user_id":6300032,"display_name":"SimGel"},"score":0,"creation_date":1666352968,"post_id":74152794,"comment_id":130922580,"body_markdown":"Are you using docker on windows/macOS?\nIn this case you cannot access the docker IPs directly. \n\nFor windows/macOS the only option is a port-forward. (`-p 8080:80`) https://docs.docker.com/config/containers/container-networking/","body":"Are you using docker on windows/macOS? In this case you cannot access the docker IPs directly.   For windows/macOS the only option is a port-forward. (<code>-p 8080:80</code>) <a href=\"https://docs.docker.com/config/containers/container-networking/\" rel=\"nofollow noreferrer\">docs.docker.com/config/containers/container-networking</a>"},{"owner":{"account_id":15967888,"reputation":165,"user_id":11522914,"display_name":"CovetousSlope"},"score":0,"creation_date":1666353526,"post_id":74152794,"comment_id":130922739,"body_markdown":"hey @SimGel , I am already exposing the ports in docker compose using below config \n` shorturl:\n    build: ./shorturl\n    restart: on-failure\n    ports:\n      - &quot;8080:8080&quot;`\nIs this what you mean or do you suggest something else.","body":"hey @SimGel , I am already exposing the ports in docker compose using below config  ` shorturl:     build: ./shorturl     restart: on-failure     ports:       - &quot;8080:8080&quot;` Is this what you mean or do you suggest something else."},{"owner":{"account_id":8391404,"reputation":293,"user_id":6300032,"display_name":"SimGel"},"score":0,"creation_date":1666354059,"post_id":74152794,"comment_id":130922940,"body_markdown":"Okay. I assume you are exposing both services then? Shorturl on 8080 and Redirection on 8081 or someting like this? In this case the Shorturl service must generate the URL with localhost:8081.\nBut as @DavidMaze already stated you should set this externaly.\nThe containers can talk to each other with their internal IPs. But since you accessing the service via localhost the internal IPs are useless.","body":"Okay. I assume you are exposing both services then? Shorturl on 8080 and Redirection on 8081 or someting like this? In this case the Shorturl service must generate the URL with localhost:8081. But as @DavidMaze already stated you should set this externaly. The containers can talk to each other with their internal IPs. But since you accessing the service via localhost the internal IPs are useless."},{"owner":{"account_id":8391404,"reputation":293,"user_id":6300032,"display_name":"SimGel"},"score":0,"creation_date":1666354225,"post_id":74152794,"comment_id":130923012,"body_markdown":"If you are using a port-forward your machine is creating a DNAT which forwards the traffic from localhost:8080-&gt;container:8080. But the container is not aware of the DNAT.","body":"If you are using a port-forward your machine is creating a DNAT which forwards the traffic from localhost:8080-&gt;container:8080. But the container is not aware of the DNAT."},{"owner":{"account_id":15967888,"reputation":165,"user_id":11522914,"display_name":"CovetousSlope"},"score":0,"creation_date":1666354334,"post_id":74152794,"comment_id":130923046,"body_markdown":"@SimGel spot on. You are right. The thing is though , I am able to access swagger ui of both the services with docker-host-ip eg: http://192.168.99.100/swagger-ui/index.html , so is there a way that I can pass/access docker host ip which is 192.168.99.100 to my microservice ...","body":"@SimGel spot on. You are right. The thing is though , I am able to access swagger ui of both the services with docker-host-ip eg: <a href=\"http://192.168.99.100/swagger-ui/index.html\" rel=\"nofollow noreferrer\">192.168.99.100/swagger-ui/index.html</a> , so is there a way that I can pass/access docker host ip which is 192.168.99.100 to my microservice ..."}],"answers":[{"tags":[],"owner":{"account_id":8391404,"reputation":293,"user_id":6300032,"display_name":"SimGel"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1666355474,"creation_date":1666355110,"answer_id":74153595,"question_id":74152794,"body_markdown":"As @DavidMaze stated you should pass the external part of the URL to the container.\r\n\r\nOne option is using environment variables.\r\n\r\n* Via Docker run: https://docs.docker.com/config/containers/container-networking/\r\n* Docker compose: https://docs.docker.com/compose/environment-variables/\r\n\r\nSo in your case you have to pass an environment variable to the shorturl-service containing the host/port of the redirection service.\r\n\r\nexample:\r\n```lang-bash\r\ndocker run -it --env REDIRECTION_SVC=http://localhost:8081 debian\r\n```\r\n\r\nInside your container you can read the value from the environment of the process.\r\n\r\nin bash this would be:\r\n```lang-bash\r\necho $REDIRECTION_SVC\r\n```\r\n\r\n**Update:** read from java:\r\n```lang-java\r\nSystem.getenv(&quot;REDIRECTION_SVC&quot;);\r\n```","title":"Need docker host ip in order to resolve url to my microservice","body":"<p>As @DavidMaze stated you should pass the external part of the URL to the container.</p>\n<p>One option is using environment variables.</p>\n<ul>\n<li>Via Docker run: <a href=\"https://docs.docker.com/config/containers/container-networking/\" rel=\"nofollow noreferrer\">https://docs.docker.com/config/containers/container-networking/</a></li>\n<li>Docker compose: <a href=\"https://docs.docker.com/compose/environment-variables/\" rel=\"nofollow noreferrer\">https://docs.docker.com/compose/environment-variables/</a></li>\n</ul>\n<p>So in your case you have to pass an environment variable to the shorturl-service containing the host/port of the redirection service.</p>\n<p>example:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>docker run -it --env REDIRECTION_SVC=http://localhost:8081 debian\n</code></pre>\n<p>Inside your container you can read the value from the environment of the process.</p>\n<p>in bash this would be:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>echo $REDIRECTION_SVC\n</code></pre>\n<p><strong>Update:</strong> read from java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.getenv(&quot;REDIRECTION_SVC&quot;);\n</code></pre>\n"}],"owner":{"account_id":15967888,"reputation":165,"user_id":11522914,"display_name":"CovetousSlope"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":307,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74153595,"answer_count":1,"score":0,"last_activity_date":1666355474,"creation_date":1666350798,"question_id":74152794,"body_markdown":"I have 2 microservices 1) shortUrl service 2) redirection service. \r\nShortUrl service converts a longurl to short url like : http://redirection-service-ip:redirection-service-port/hash-for-long-url and stores (hash-for-long-url, longurl) to db.\r\n\r\nNow a user can just paste the generated shorturl to browser which is actually the call to redirection microservice with path param as hash-for-long-url. Redirection service simply fetches the long url from db using hash and redirects (302) the request to original long url of the user.\r\n\r\nThis setup works perfectly fine on localhost. I am fetching the ip address to generate short url using ```InetAddress.getLocalHost().hostAddress``` function in java. But this doesn&#39;t work when i deploy everything to docker because using above function docker can simply provide container ip address which is not accessible from browser. Even when I try to access swagger-ui for docker deployed services , I need to use docker host ip address (with respective ports of each service).\r\n\r\nI want to know if there is any solution so that I can pass docker host ip to my microservice which will make the generated short url to be accessed from browser just like swagger ui. Or is there a way that I can expose container ip address so that it can be accessed via browser.","title":"Need docker host ip in order to resolve url to my microservice","body":"<p>I have 2 microservices 1) shortUrl service 2) redirection service.\nShortUrl service converts a longurl to short url like : http://redirection-service-ip:redirection-service-port/hash-for-long-url and stores (hash-for-long-url, longurl) to db.</p>\n<p>Now a user can just paste the generated shorturl to browser which is actually the call to redirection microservice with path param as hash-for-long-url. Redirection service simply fetches the long url from db using hash and redirects (302) the request to original long url of the user.</p>\n<p>This setup works perfectly fine on localhost. I am fetching the ip address to generate short url using <code>InetAddress.getLocalHost().hostAddress</code> function in java. But this doesn't work when i deploy everything to docker because using above function docker can simply provide container ip address which is not accessible from browser. Even when I try to access swagger-ui for docker deployed services , I need to use docker host ip address (with respective ports of each service).</p>\n<p>I want to know if there is any solution so that I can pass docker host ip to my microservice which will make the generated short url to be accessed from browser just like swagger ui. Or is there a way that I can expose container ip address so that it can be accessed via browser.</p>\n"},{"tags":["java","localhost"],"comments":[{"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"score":0,"creation_date":1436886762,"post_id":31408368,"comment_id":50794338,"body_markdown":"Possible duplicate of http://stackoverflow.com/questions/4969156/error-java-net-unknownhostexception","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/4969156/error-java-net-unknownhostexception\" title=\"error java net unknownhostexception\">stackoverflow.com/questions/4969156/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":329850,"reputation":3368,"user_id":653614,"accept_rate":79,"display_name":"ed_me"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1436882064,"creation_date":1436881691,"answer_id":31408548,"question_id":31408368,"body_markdown":"You could just check: -\r\n\r\n    System.getProperty(&quot;os.name&quot;);\r\n\r\nThen use the correct environment variable for that operating system, i.e.\r\n\r\n**Windows**\r\n\r\n    System.getenv(&quot;COMPUTERNAME&quot;);\r\n\r\n**Linux**\r\n\r\n    System.getenv(&quot;HOSTNAME&quot;);\r\n\r\nThe problem with this approach is that when you start running on operating systems that are less common, you may have to dig for the environment variables.\r\n\r\n\r\nFor the reasons as to why it&#39;s failing, I believe your answer is probably found by looking at this post: -\r\n\r\nhttps://stackoverflow.com/questions/7348711/recommended-way-to-get-hostname-in-java\r\n\r\n&gt; Any attempt to determine the hostname by an IP address like this\r\n&gt; \r\n&gt; `InetAddress.getLocalHost().getHostName()`\r\n&gt; \r\n&gt; is bound to fail in some circumstances:","title":"InetAddress.getLocalHost().getHostName() throws UnknownHostException","body":"<p>You could just check: -</p>\n\n<pre><code>System.getProperty(\"os.name\");\n</code></pre>\n\n<p>Then use the correct environment variable for that operating system, i.e.</p>\n\n<p><strong>Windows</strong></p>\n\n<pre><code>System.getenv(\"COMPUTERNAME\");\n</code></pre>\n\n<p><strong>Linux</strong></p>\n\n<pre><code>System.getenv(\"HOSTNAME\");\n</code></pre>\n\n<p>The problem with this approach is that when you start running on operating systems that are less common, you may have to dig for the environment variables.</p>\n\n<p>For the reasons as to why it's failing, I believe your answer is probably found by looking at this post: -</p>\n\n<p><a href=\"https://stackoverflow.com/questions/7348711/recommended-way-to-get-hostname-in-java\">Recommended way to get hostname in Java</a></p>\n\n<blockquote>\n  <p>Any attempt to determine the hostname by an IP address like this</p>\n  \n  <p><code>InetAddress.getLocalHost().getHostName()</code></p>\n  \n  <p>is bound to fail in some circumstances:</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":39732,"reputation":1259,"user_id":114736,"accept_rate":0,"display_name":"Montecarlo"},"score":0,"creation_date":1491326396,"post_id":31408613,"comment_id":73499055,"body_markdown":"I may be missing something, but this code seems to do the same as the code of the OP. The only difference is that this code catches the exception. But the problem will still be there.","body":"I may be missing something, but this code seems to do the same as the code of the OP. The only difference is that this code catches the exception. But the problem will still be there."}],"tags":[],"owner":{"account_id":4405286,"reputation":5401,"user_id":3589897,"display_name":"Arthur Tsidkilov"},"comment_count":1,"down_vote_count":2,"up_vote_count":1,"is_accepted":true,"score":-1,"last_activity_date":1436881851,"creation_date":1436881851,"answer_id":31408613,"question_id":31408368,"body_markdown":"try this:\r\n\r\n\r\n\timport java.net.InetAddress;\r\n\timport java.net.UnknownHostException;\r\n\t \r\n\t/**\r\n\t * @author Crunchify.com\r\n\t */\r\n\t \r\n\tpublic class CrunchifyGetIPHostname {\r\n\t \r\n\t\tpublic static void main(String[] args) {\r\n\t \r\n\t\t\tInetAddress ip;\r\n\t\t\tString hostname;\r\n\t\t\ttry {\r\n\t\t\t\tip = InetAddress.getLocalHost();\r\n\t\t\t\thostname = ip.getHostName();\r\n\t\t\t\tSystem.out.println(&quot;Your current IP address : &quot; + ip);\r\n\t\t\t\tSystem.out.println(&quot;Your current Hostname : &quot; + hostname);\r\n\t \r\n\t\t\t} catch (UnknownHostException e) {\r\n\t \r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\r\nyou test this code online on http://www.browxy.com/\r\n\r\n\r\ni have taken it from http://crunchify.com/how-to-get-server-ip-address-and-hostname-in-java/","title":"InetAddress.getLocalHost().getHostName() throws UnknownHostException","body":"<p>try this:</p>\n\n<pre><code>import java.net.InetAddress;\nimport java.net.UnknownHostException;\n\n/**\n * @author Crunchify.com\n */\n\npublic class CrunchifyGetIPHostname {\n\n    public static void main(String[] args) {\n\n        InetAddress ip;\n        String hostname;\n        try {\n            ip = InetAddress.getLocalHost();\n            hostname = ip.getHostName();\n            System.out.println(\"Your current IP address : \" + ip);\n            System.out.println(\"Your current Hostname : \" + hostname);\n\n        } catch (UnknownHostException e) {\n\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n\n<p>you test this code online on <a href=\"http://www.browxy.com/\" rel=\"nofollow\">http://www.browxy.com/</a></p>\n\n<p>i have taken it from <a href=\"http://crunchify.com/how-to-get-server-ip-address-and-hostname-in-java/\" rel=\"nofollow\">http://crunchify.com/how-to-get-server-ip-address-and-hostname-in-java/</a></p>\n"},{"tags":[],"owner":{"account_id":21425,"reputation":10691,"user_id":52070,"accept_rate":67,"display_name":"David Newcomb"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666355300,"creation_date":1666355300,"answer_id":74153633,"question_id":31408368,"body_markdown":"This is a bit old but no one seemed to have spotted that you have commented out the entry for `ThinkPad-Edge-E430` in your hosts file. It also had a typo in the ip address.\r\n\r\nChange:\r\n\r\n    #127.0.1.1  ThinkPad-Edge-E430\r\n\r\nTo:\r\n\r\n    127.0.0.1  ThinkPad-Edge-E430\r\n\r\nand you should be ok.","title":"InetAddress.getLocalHost().getHostName() throws UnknownHostException","body":"<p>This is a bit old but no one seemed to have spotted that you have commented out the entry for <code>ThinkPad-Edge-E430</code> in your hosts file. It also had a typo in the ip address.</p>\n<p>Change:</p>\n<pre><code>#127.0.1.1  ThinkPad-Edge-E430\n</code></pre>\n<p>To:</p>\n<pre><code>127.0.0.1  ThinkPad-Edge-E430\n</code></pre>\n<p>and you should be ok.</p>\n"}],"owner":{"account_id":2822831,"reputation":691,"user_id":2426173,"accept_rate":69,"display_name":"Bishwarup Das"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9711,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":31408613,"answer_count":3,"score":2,"last_activity_date":1666355300,"creation_date":1436881253,"question_id":31408368,"body_markdown":"I am trying to get the host name off the server where it is running.\r\n\r\nJava code:    \r\n\r\n    import java.net.InetAddress; \r\n    System.out.println(&quot;Host Name: &quot; + InetAddress.getLocalHost().getHostName());\r\n    System.exit(0);\r\n\r\nOutput:\r\n\r\n    java.net.UnknownHostException: ThinkPad-Edge-E430: ThinkPad-Edge-E430: Name or service not known\r\n\tat java.net.InetAddress.getLocalHost(InetAddress.java:1473)\r\n\tat MailQ.main(MailQ.java:45)\r\n    Caused by: java.net.UnknownHostException: ThinkPad-Edge-E430: Name or service not known\r\n\tat java.net.Inet6AddressImpl.lookupAllHostAddr(Native Method)\r\n\tat java.net.InetAddress$1.lookupAllHostAddr(InetAddress.java:901)\r\n\tat java.net.InetAddress.getAddressesFromNameService(InetAddress.java:1293)\r\n\tat java.net.InetAddress.getLocalHost(InetAddress.java:1469)\r\n\t... 1 more\r\n\r\nHosts:\r\n\r\n    127.0.0.1\tlocalhost #admin.local.com\r\n    #127.0.1.1\tThinkPad-Edge-E430\r\n    192.168.81.238 admin.local.com\r\n    # The following lines are desirable for IPv6 capable hosts\r\n    ::1     ip6-localhost ip6-loopback\r\n    fe00::0 ip6-localnet\r\n    ff00::0 ip6-mcastprefix\r\n    ff02::1 ip6-allnodes\r\n    ff02::2 ip6-allrouters\r\n\r\nI cant find what is the issue here. Can some help me out?\r\n\r\n\r\n","title":"InetAddress.getLocalHost().getHostName() throws UnknownHostException","body":"<p>I am trying to get the host name off the server where it is running.</p>\n\n<p>Java code:    </p>\n\n<pre><code>import java.net.InetAddress; \nSystem.out.println(\"Host Name: \" + InetAddress.getLocalHost().getHostName());\nSystem.exit(0);\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>java.net.UnknownHostException: ThinkPad-Edge-E430: ThinkPad-Edge-E430: Name or service not known\nat java.net.InetAddress.getLocalHost(InetAddress.java:1473)\nat MailQ.main(MailQ.java:45)\nCaused by: java.net.UnknownHostException: ThinkPad-Edge-E430: Name or service not known\nat java.net.Inet6AddressImpl.lookupAllHostAddr(Native Method)\nat java.net.InetAddress$1.lookupAllHostAddr(InetAddress.java:901)\nat java.net.InetAddress.getAddressesFromNameService(InetAddress.java:1293)\nat java.net.InetAddress.getLocalHost(InetAddress.java:1469)\n... 1 more\n</code></pre>\n\n<p>Hosts:</p>\n\n<pre><code>127.0.0.1   localhost #admin.local.com\n#127.0.1.1  ThinkPad-Edge-E430\n192.168.81.238 admin.local.com\n# The following lines are desirable for IPv6 capable hosts\n::1     ip6-localhost ip6-loopback\nfe00::0 ip6-localnet\nff00::0 ip6-mcastprefix\nff02::1 ip6-allnodes\nff02::2 ip6-allrouters\n</code></pre>\n\n<p>I cant find what is the issue here. Can some help me out?</p>\n"},{"tags":["java","android","android-studio","kotlin"],"comments":[{"owner":{"account_id":4610741,"reputation":6080,"user_id":3738947,"accept_rate":51,"display_name":"Chirag Savsani"},"score":0,"creation_date":1603692277,"post_id":64531905,"comment_id":114105905,"body_markdown":"What issue are you facing exactly?","body":"What issue are you facing exactly?"},{"owner":{"account_id":18901658,"reputation":39,"user_id":13789514,"display_name":"Arsalan Khan"},"score":0,"creation_date":1603696427,"post_id":64531905,"comment_id":114107024,"body_markdown":"I&#39;m unable to open the pdf file within the app because of the uri, getting the uri like this content://com.android.providers.downloads.documents/document/16 and when i try to get the real path, getting the path like this /document/16","body":"I&#39;m unable to open the pdf file within the app because of the uri, getting the uri like this content://com.android.providers.downloads.documents/document&zwnj;&#8203;/16 and when i try to get the real path, getting the path like this /document/16"},{"owner":{"account_id":4610741,"reputation":6080,"user_id":3738947,"accept_rate":51,"display_name":"Chirag Savsani"},"score":0,"creation_date":1603696688,"post_id":64531905,"comment_id":114107101,"body_markdown":"Have you tried on a lower android version like Android 8 or 9? Is it working in the lower android version?","body":"Have you tried on a lower android version like Android 8 or 9? Is it working in the lower android version?"},{"owner":{"account_id":18901658,"reputation":39,"user_id":13789514,"display_name":"Arsalan Khan"},"score":0,"creation_date":1603700367,"post_id":64531905,"comment_id":114108334,"body_markdown":"yes, on lower upto 8 it is working fine but on android 10 and android 11 (api level 29 and 30) it is not working, on version 8 and lower than 8 getting real path from URI using this code https://gist.github.com/MeNiks/947b471b762f3b26178ef165a7f5558a and it working fine upto version 8 but it is not working on android 10 and android 11","body":"yes, on lower upto 8 it is working fine but on android 10 and android 11 (api level 29 and 30) it is not working, on version 8 and lower than 8 getting real path from URI using this code <a href=\"https://gist.github.com/MeNiks/947b471b762f3b26178ef165a7f5558a\" rel=\"nofollow noreferrer\">gist.github.com/MeNiks/947b471b762f3b26178ef165a7f5558a</a> and it working fine upto version 8 but it is not working on android 10 and android 11"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":1,"creation_date":1603704053,"post_id":64531905,"comment_id":114109633,"body_markdown":"Do not try to get a &#39;real&#39; path from that nice uri. What you got is no real path too as you have seen. Use the obtained uri directly to open the file. Further it is unclear what you try to do if you wanna open a file.","body":"Do not try to get a &#39;real&#39; path from that nice uri. What you got is no real path too as you have seen. Use the obtained uri directly to open the file. Further it is unclear what you try to do if you wanna open a file."},{"owner":{"account_id":18901658,"reputation":39,"user_id":13789514,"display_name":"Arsalan Khan"},"score":0,"creation_date":1603721432,"post_id":64531905,"comment_id":114117739,"body_markdown":"It is file viewer app, try uri also to view the file but unable to achieve it and also from uri i&#39;m unable to get the file name, file extension etc","body":"It is file viewer app, try uri also to view the file but unable to achieve it and also from uri i&#39;m unable to get the file name, file extension etc"}],"answers":[{"tags":[],"owner":{"account_id":7452927,"reputation":9355,"user_id":5667051,"display_name":"rm8x"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1614293557,"creation_date":1614293557,"answer_id":66377680,"question_id":64531905,"body_markdown":"You can do this to get the data:\r\n\r\n`val inputStream = context.contentResolver.openInputStream(uri)`\r\n\r\nbut I am not sure you can get a usable file path from the uri.","title":"How to get Real path from Uri in android 11","body":"<p>You can do this to get the data:</p>\n<p><code>val inputStream = context.contentResolver.openInputStream(uri)</code></p>\n<p>but I am not sure you can get a usable file path from the uri.</p>\n"},{"tags":[],"owner":{"account_id":25252274,"reputation":1,"user_id":19084584,"display_name":"Freesia"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666355000,"creation_date":1666354868,"answer_id":74153546,"question_id":64531905,"body_markdown":"We can&#39;t get _data in contentResolver.query(uri,...), so we need to find another way.\r\n\r\nThis is my code, based on table MediaStore.Files:\r\n\r\nBe careful to add \r\n\r\n&gt; android.permission.MANAGE_EXTERNAL_STORAGE\r\n\r\n\r\n```java\r\n    public static String Uri2Path(Context context, Uri uri) {\r\n        if (uri == null) {\r\n            return null;\r\n        }\r\n\r\n        if(ContentResolver.SCHEME_FILE.equals(uri.getScheme())) {\r\n            return uri.getPath();\r\n        }\r\n        else if(ContentResolver.SCHEME_CONTENT.equals(uri.getScheme())) {\r\n            String authority = uri.getAuthority();\r\n\r\n            if(authority.startsWith(&quot;com.android.externalstorage&quot;)) {\r\n                return Environment.getExternalStorageDirectory() + &quot;/&quot; + uri.getPath().split(&quot;:&quot;)[1];\r\n            }\r\n            else {\r\n                String idStr = &quot;&quot;;\r\n                if(authority.equals(&quot;media&quot;)) {\r\n                    idStr = uri.toString().substring(uri.toString().lastIndexOf(&#39;/&#39;) + 1);\r\n                }\r\n                else if(authority.startsWith(&quot;com.android.providers&quot;)) {\r\n                    idStr = DocumentsContract.getDocumentId(uri).split(&quot;:&quot;)[1];\r\n                }\r\n\r\n                ContentResolver contentResolver = context.getContentResolver();\r\n                Cursor cursor = contentResolver.query(MediaStore.Files.getContentUri(&quot;external&quot;),\r\n                        new String[] {MediaStore.Files.FileColumns.DATA},\r\n                        &quot;_id=?&quot;,\r\n                        new String[]{idStr}, null);\r\n                if (cursor != null) {\r\n                    cursor.moveToFirst();\r\n                    try {\r\n                        int idx = cursor.getColumnIndex(MediaStore.Files.FileColumns.DATA);\r\n\r\n                        return cursor.getString(idx);\r\n                    } catch (Exception e) {\r\n                    } finally {\r\n                        cursor.close();\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n```\r\nYou can replace the table for your need :\r\n```\r\nMediaStore.Files.getContentUri(&quot;external&quot;)\r\nMediaStore.Files.getContentUri(&quot;internal&quot;)\r\nMediaStore.Video.Media.EXTERNAL_CONTENT_URI\r\nMediaStore.Video.Media.INTERNAL_CONTENT_URI\r\nMediaStore.Images.Media.EXTERNAL_CONTENT_URI\r\nMediaStore.Images.Media.INTERNAL_CONTENT_URI\r\nMediaStore.Audio.Media.EXTERNAL_CONTENT_URI\r\nMediaStore.Audio.Media.INTERNAL_CONTENT_URI\r\nMediaStore.Downloads.Media.EXTERNAL_CONTENT_URI\r\nMediaStore.Downloads.Media.INTERNAL_CONTENT_URI\r\n```","title":"How to get Real path from Uri in android 11","body":"<p>We can't get _data in contentResolver.query(uri,...), so we need to find another way.</p>\n<p>This is my code, based on table MediaStore.Files:</p>\n<p>Be careful to add</p>\n<blockquote>\n<p>android.permission.MANAGE_EXTERNAL_STORAGE</p>\n</blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>    public static String Uri2Path(Context context, Uri uri) {\n        if (uri == null) {\n            return null;\n        }\n\n        if(ContentResolver.SCHEME_FILE.equals(uri.getScheme())) {\n            return uri.getPath();\n        }\n        else if(ContentResolver.SCHEME_CONTENT.equals(uri.getScheme())) {\n            String authority = uri.getAuthority();\n\n            if(authority.startsWith(&quot;com.android.externalstorage&quot;)) {\n                return Environment.getExternalStorageDirectory() + &quot;/&quot; + uri.getPath().split(&quot;:&quot;)[1];\n            }\n            else {\n                String idStr = &quot;&quot;;\n                if(authority.equals(&quot;media&quot;)) {\n                    idStr = uri.toString().substring(uri.toString().lastIndexOf('/') + 1);\n                }\n                else if(authority.startsWith(&quot;com.android.providers&quot;)) {\n                    idStr = DocumentsContract.getDocumentId(uri).split(&quot;:&quot;)[1];\n                }\n\n                ContentResolver contentResolver = context.getContentResolver();\n                Cursor cursor = contentResolver.query(MediaStore.Files.getContentUri(&quot;external&quot;),\n                        new String[] {MediaStore.Files.FileColumns.DATA},\n                        &quot;_id=?&quot;,\n                        new String[]{idStr}, null);\n                if (cursor != null) {\n                    cursor.moveToFirst();\n                    try {\n                        int idx = cursor.getColumnIndex(MediaStore.Files.FileColumns.DATA);\n\n                        return cursor.getString(idx);\n                    } catch (Exception e) {\n                    } finally {\n                        cursor.close();\n                    }\n                }\n            }\n        }\n        return null;\n    }\n</code></pre>\n<p>You can replace the table for your need :</p>\n<pre><code>MediaStore.Files.getContentUri(&quot;external&quot;)\nMediaStore.Files.getContentUri(&quot;internal&quot;)\nMediaStore.Video.Media.EXTERNAL_CONTENT_URI\nMediaStore.Video.Media.INTERNAL_CONTENT_URI\nMediaStore.Images.Media.EXTERNAL_CONTENT_URI\nMediaStore.Images.Media.INTERNAL_CONTENT_URI\nMediaStore.Audio.Media.EXTERNAL_CONTENT_URI\nMediaStore.Audio.Media.INTERNAL_CONTENT_URI\nMediaStore.Downloads.Media.EXTERNAL_CONTENT_URI\nMediaStore.Downloads.Media.INTERNAL_CONTENT_URI\n</code></pre>\n"}],"owner":{"account_id":18901658,"reputation":39,"user_id":13789514,"display_name":"Arsalan Khan"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1956,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1666355000,"creation_date":1603689860,"question_id":64531905,"body_markdown":"How to get Real path from URI in android 10 and android 11. Getting the Uri from intent data i.e.\r\n\r\n\r\n     private val startForResult =\r\n            registerForActivityResult(ActivityResultContracts.StartActivityForResult()) { result: ActivityResult -&gt;\r\n                if (result.resultCode == Activity.RESULT_OK) {\r\n                    val uri = result.data?.data\r\n                  \r\n                }\r\n            }\r\n\r\nand intent to get pdf file\r\n  \r\n\r\n  \r\n\r\n     val mimeType = &quot;application/pdf&quot;\r\n                val intent = Intent(Intent.ACTION_GET_CONTENT)\r\n                intent.type = mimeType\r\n                intent.addCategory(Intent.CATEGORY_OPENABLE)\r\n     if (packageManager.resolveActivity(sIntent, 0) != null) {\r\n                // it is device with Samsung file manager\r\n                chooserIntent = Intent.createChooser(sIntent, &quot;Select an PDF File&quot;)\r\n                chooserIntent.putExtra(Intent.EXTRA_INITIAL_INTENTS, arrayOf(intent))\r\n            } else {\r\n                chooserIntent = Intent.createChooser(intent, &quot;Select an PDF File&quot;)\r\n            }\r\n            try {\r\n                chooserIntent.resolveActivity(packageManager)?.let {\r\n                    //  startActivityForResult(Intent.createChooser(this,&quot;Pick MHT file&quot;),1)\r\n                    startForResult.launch(chooserIntent)\r\n                }\r\n            } catch (ex: ActivityNotFoundException) {\r\n                Toast.makeText(\r\n                    applicationContext,\r\n                    &quot;No suitable File Manager was found.&quot;,\r\n                    Toast.LENGTH_SHORT\r\n                ).show()\r\n            }\r\n\r\n\r\n","title":"How to get Real path from Uri in android 11","body":"<p>How to get Real path from URI in android 10 and android 11. Getting the Uri from intent data i.e.</p>\n<pre><code> private val startForResult =\n        registerForActivityResult(ActivityResultContracts.StartActivityForResult()) { result: ActivityResult -&gt;\n            if (result.resultCode == Activity.RESULT_OK) {\n                val uri = result.data?.data\n              \n            }\n        }\n</code></pre>\n<p>and intent to get pdf file</p>\n<pre><code> val mimeType = &quot;application/pdf&quot;\n            val intent = Intent(Intent.ACTION_GET_CONTENT)\n            intent.type = mimeType\n            intent.addCategory(Intent.CATEGORY_OPENABLE)\n if (packageManager.resolveActivity(sIntent, 0) != null) {\n            // it is device with Samsung file manager\n            chooserIntent = Intent.createChooser(sIntent, &quot;Select an PDF File&quot;)\n            chooserIntent.putExtra(Intent.EXTRA_INITIAL_INTENTS, arrayOf(intent))\n        } else {\n            chooserIntent = Intent.createChooser(intent, &quot;Select an PDF File&quot;)\n        }\n        try {\n            chooserIntent.resolveActivity(packageManager)?.let {\n                //  startActivityForResult(Intent.createChooser(this,&quot;Pick MHT file&quot;),1)\n                startForResult.launch(chooserIntent)\n            }\n        } catch (ex: ActivityNotFoundException) {\n            Toast.makeText(\n                applicationContext,\n                &quot;No suitable File Manager was found.&quot;,\n                Toast.LENGTH_SHORT\n            ).show()\n        }\n</code></pre>\n"},{"tags":["java","quarkus"],"answers":[{"comments":[{"owner":{"account_id":7370703,"reputation":61,"user_id":5610941,"display_name":"Shiva Bommanabathina"},"score":1,"creation_date":1636636863,"post_id":69927422,"comment_id":123613727,"body_markdown":"Thanks for the response but i have only one datasource i.e like default datasource existing it has oracle and able to connect to the database into all environments. So i have a new requirement to implement same changes into AWS environment and we have created config and deployment files accordingly but it needs to connect aurora postgres database for that i have included one more dependency called quarkus-jdbc-postgres then while deploying into AWS environment its unable to identifying the driver and we don&#39;t have multiple datasources in a same file. it has follows only.","body":"Thanks for the response but i have only one datasource i.e like default datasource existing it has oracle and able to connect to the database into all environments. So i have a new requirement to implement same changes into AWS environment and we have created config and deployment files accordingly but it needs to connect aurora postgres database for that i have included one more dependency called quarkus-jdbc-postgres then while deploying into AWS environment its unable to identifying the driver and we don&#39;t have multiple datasources in a same file. it has follows only."},{"owner":{"account_id":7370703,"reputation":61,"user_id":5610941,"display_name":"Shiva Bommanabathina"},"score":0,"creation_date":1636637015,"post_id":69927422,"comment_id":123613780,"body_markdown":"we don&#39;t need any reactive datasource and always it has single default datasource with respective environment and two dependencies.\nquarkus.datasource.db-kind=postgresql \nquarkus.datasource.username=user-default\nquarkus.datasource.password=password-default\nquarkus.datasource.jdbc.max-size=13\n\nif we have added two dependencies at the same time then it&#39;s causing of failed to connect the database and it&#39;s throwing following exception.\n\nCould not obtain connection to query metadata: java.sql.SQLException: Driver does not support the provided URL: jdbc:postgresql://","body":"we don&#39;t need any reactive datasource and always it has single default datasource with respective environment and two dependencies. quarkus.datasource.db-kind=postgresql  quarkus.datasource.username=user-default quarkus.datasource.password=password-default quarkus.datasource.jdbc.max-size=13  if we have added two dependencies at the same time then it&#39;s causing of failed to connect the database and it&#39;s throwing following exception.  Could not obtain connection to query metadata: java.sql.SQLException: Driver does not support the provided URL: jdbc:postgresql://"}],"tags":[],"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636629644,"creation_date":1636629644,"answer_id":69927422,"question_id":69924679,"body_markdown":"According to the official documentation, you can use Multiple Datasources.\r\nHowever if you **have more than 1**, then you must provide a **Name**, otherwise how will Quarkus know which Drivers to use.\r\n\r\nThe format : `quarkus.datasource.&lt;datasourceCustomName&gt;.`  If it is not your default DataSource which will not require a name.\r\n\r\nImportant to Notice: `For now, multiple datasources are only supported for JDBC and the Agroal extension. So it is not currently possible to create multiple reactive datasources.`\r\n\r\n\r\nhttps://quarkus.io/guides/datasource#multiple-datasources\r\n\r\n\r\n**Multiple Datasources**\r\n\r\n&gt; Configuring Multiple Datasources\r\n&gt; \r\n&gt; For now, multiple datasources are only supported for JDBC and the\r\n&gt; Agroal extension. So it is not currently possible to create multiple\r\n&gt; reactive datasources. \t\r\n&gt; \r\n&gt; The Hibernate ORM extension supports defining several persistence\r\n&gt; units using configuration properties. For each persistence unit, you\r\n&gt; can point to the datasource of your choice.\r\n&gt; \r\n&gt; Defining multiple datasources works exactly the same way as defining a\r\n&gt; single datasource, with one important change: you define a name.\r\n\r\nIn the following example, you have 3 different datasources:\r\n\r\n 1. The default one, \r\n 2. A datasource named users, \r\n 3. A datasource named inventory,\r\n\r\neach with its own configuration.\r\n\r\n    quarkus.datasource.db-kind=h2\r\n    quarkus.datasource.username=username-default\r\n    quarkus.datasource.jdbc.url=jdbc:h2:mem:default\r\n    quarkus.datasource.jdbc.max-size=13\r\n    \r\n    quarkus.datasource.users.db-kind=h2\r\n    quarkus.datasource.users.username=username1\r\n    quarkus.datasource.users.jdbc.url=jdbc:h2:mem:users\r\n    quarkus.datasource.users.jdbc.max-size=11\r\n    \r\n    quarkus.datasource.inventory.db-kind=h2\r\n    quarkus.datasource.inventory.username=username2\r\n    quarkus.datasource.inventory.jdbc.url=jdbc:h2:mem:inventory\r\n    quarkus.datasource.inventory.jdbc.max-size=12\r\n\r\n","title":"Multiple database dependencies is causing to connect database in Quarkus","body":"<p>According to the official documentation, you can use Multiple Datasources.\nHowever if you <strong>have more than 1</strong>, then you must provide a <strong>Name</strong>, otherwise how will Quarkus know which Drivers to use.</p>\n<p>The format : <code>quarkus.datasource.&lt;datasourceCustomName&gt;.</code>  If it is not your default DataSource which will not require a name.</p>\n<p>Important to Notice: <code>For now, multiple datasources are only supported for JDBC and the Agroal extension. So it is not currently possible to create multiple reactive datasources.</code></p>\n<p><a href=\"https://quarkus.io/guides/datasource#multiple-datasources\" rel=\"nofollow noreferrer\">https://quarkus.io/guides/datasource#multiple-datasources</a></p>\n<p><strong>Multiple Datasources</strong></p>\n<blockquote>\n<p>Configuring Multiple Datasources</p>\n<p>For now, multiple datasources are only supported for JDBC and the\nAgroal extension. So it is not currently possible to create multiple\nreactive datasources.</p>\n<p>The Hibernate ORM extension supports defining several persistence\nunits using configuration properties. For each persistence unit, you\ncan point to the datasource of your choice.</p>\n<p>Defining multiple datasources works exactly the same way as defining a\nsingle datasource, with one important change: you define a name.</p>\n</blockquote>\n<p>In the following example, you have 3 different datasources:</p>\n<ol>\n<li>The default one,</li>\n<li>A datasource named users,</li>\n<li>A datasource named inventory,</li>\n</ol>\n<p>each with its own configuration.</p>\n<pre><code>quarkus.datasource.db-kind=h2\nquarkus.datasource.username=username-default\nquarkus.datasource.jdbc.url=jdbc:h2:mem:default\nquarkus.datasource.jdbc.max-size=13\n\nquarkus.datasource.users.db-kind=h2\nquarkus.datasource.users.username=username1\nquarkus.datasource.users.jdbc.url=jdbc:h2:mem:users\nquarkus.datasource.users.jdbc.max-size=11\n\nquarkus.datasource.inventory.db-kind=h2\nquarkus.datasource.inventory.username=username2\nquarkus.datasource.inventory.jdbc.url=jdbc:h2:mem:inventory\nquarkus.datasource.inventory.jdbc.max-size=12\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1082613,"reputation":4508,"user_id":1079174,"display_name":"Daniel K&#228;fer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666199280,"creation_date":1666199280,"answer_id":74129311,"question_id":69924679,"body_markdown":"`quarkus.datasource.db-kind` is fixed at build time. The property can not change at runtime.\r\n \r\nYou have to build the app for Oracle and seperate for Postgresql\r\n\r\nhttps://quarkus.io/guides/all-config#quarkus-datasource_quarkus.datasource.db-kind","title":"Multiple database dependencies is causing to connect database in Quarkus","body":"<p><code>quarkus.datasource.db-kind</code> is fixed at build time. The property can not change at runtime.</p>\n<p>You have to build the app for Oracle and seperate for Postgresql</p>\n<p><a href=\"https://quarkus.io/guides/all-config#quarkus-datasource_quarkus.datasource.db-kind\" rel=\"nofollow noreferrer\">https://quarkus.io/guides/all-config#quarkus-datasource_quarkus.datasource.db-kind</a></p>\n"}],"owner":{"account_id":7370703,"reputation":61,"user_id":5610941,"display_name":"Shiva Bommanabathina"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":702,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1666354971,"creation_date":1636616339,"question_id":69924679,"body_markdown":"    \r\nI have two environments like onprem and aws, for\r\n onprem we have connected with Oracle database and required configuration\r\n is done and but for aws we are using aurora postgres and whenever \r\ni have tried to add postgres dependency then deploying into \r\naws environment it&#39;s giving error so is it possible if we have \r\nmultiple dependencies in same pom file and used for different environments.\r\n    \r\n    Quarks version : 1.13.3.final\r\n    Sample configuration:\r\n    \r\n    Oracle:\r\n    -------\r\n    quarkus.datasource.db-kind=oracle\r\n    quarkus.datasource.username=user-default\r\n    quarkus.datasource.password=password-default\r\n    quarkus.datasource.reactive.url=jdbc:oracle:thin://localhost:5432/default\r\n    \r\n    Postgresql:\r\n    -----------\r\n    quarkus.datasource.db-kind=postgresql \r\n    quarkus.datasource.username=user-default\r\n    quarkus.datasource.password=password-default\r\n    quarkus.datasource.reactive.url=postgresql://localhost:5432/default\r\n   \r\nCode or issue: \r\n    The issue i&#39;m getting is as follows:\r\n    \r\n    2021-11-11 07:18:45,173 WARN [org.hib.eng.jdb.env.int.JdbcEnvironmentInitiator] (main) HHH000342: Could not obtain connection to query metadata: java.sql.SQLException: Driver does not support the provided URL: jdbc:postgresql://\r\n            at io.agroal.pool.ConnectionFactory.connectionSetup(ConnectionFactory.java:220)\r\n            \tat io.agroal.pool.ConnectionFactory.createConnection(ConnectionFactory.java:204)\r\n            \tat io.agroal.pool.ConnectionPool$CreateConnectionTask.call(ConnectionPool.java:490)\r\n            \tat io.agroal.pool.ConnectionPool$CreateConnectionTask.call(ConnectionPool.java:472)\r\n    \r\n\r\n\r\n----------\r\n\r\n\r\n    Dependencies:\r\n    quarkus-jdbc-oracle\r\n    quarkus-jdbc-postgresql","title":"Multiple database dependencies is causing to connect database in Quarkus","body":"<p>I have two environments like onprem and aws, for\nonprem we have connected with Oracle database and required configuration\nis done and but for aws we are using aurora postgres and whenever\ni have tried to add postgres dependency then deploying into\naws environment it's giving error so is it possible if we have\nmultiple dependencies in same pom file and used for different environments.</p>\n<pre><code>Quarks version : 1.13.3.final\nSample configuration:\n\nOracle:\n-------\nquarkus.datasource.db-kind=oracle\nquarkus.datasource.username=user-default\nquarkus.datasource.password=password-default\nquarkus.datasource.reactive.url=jdbc:oracle:thin://localhost:5432/default\n\nPostgresql:\n-----------\nquarkus.datasource.db-kind=postgresql \nquarkus.datasource.username=user-default\nquarkus.datasource.password=password-default\nquarkus.datasource.reactive.url=postgresql://localhost:5432/default\n</code></pre>\n<p>Code or issue:\nThe issue i'm getting is as follows:</p>\n<pre><code>2021-11-11 07:18:45,173 WARN [org.hib.eng.jdb.env.int.JdbcEnvironmentInitiator] (main) HHH000342: Could not obtain connection to query metadata: java.sql.SQLException: Driver does not support the provided URL: jdbc:postgresql://\n        at io.agroal.pool.ConnectionFactory.connectionSetup(ConnectionFactory.java:220)\n            at io.agroal.pool.ConnectionFactory.createConnection(ConnectionFactory.java:204)\n            at io.agroal.pool.ConnectionPool$CreateConnectionTask.call(ConnectionPool.java:490)\n            at io.agroal.pool.ConnectionPool$CreateConnectionTask.call(ConnectionPool.java:472)\n</code></pre>\n<hr />\n<pre><code>Dependencies:\nquarkus-jdbc-oracle\nquarkus-jdbc-postgresql\n</code></pre>\n"},{"tags":["java","elasticsearch","cqlsh","elassandra"],"answers":[{"tags":[],"owner":{"account_id":7187902,"reputation":5118,"user_id":5489276,"accept_rate":20,"display_name":"Sagar Patel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666354822,"creation_date":1666354822,"answer_id":74153538,"question_id":74152980,"body_markdown":"As you are mentioning, Elasticsearch storing `timecolumn` as `text` type hence i will suggest to change mapping of `timecolumn` to `date` type and you will be able to use range query with date. Because if you store date as text and applied range then it will not return a expected result. \r\n\r\n```json\r\n{\r\n  &quot;mappings&quot;: {\r\n    &quot;properties&quot;: {\r\n      &quot;timecolumn&quot;: {\r\n        &quot;type&quot;: &quot;date&quot;\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nNow coming to your Java code issue, You can use below code for creating range query in Java as you are using Java client.\r\n\r\n```java\r\nSearchSourceBuilder searchSourceBuilder = new SearchSourceBuilder();\r\nQueryBuilder query = QueryBuilders.rangeQuery(&quot;timecolumn&quot;).gte(&quot;2022-10-07T09:45:13Z&quot;).lte(&quot;2022-10-07T09:50:50Z&quot;);\r\nsearchSourceBuilder.query(query);\r\nsearchRequest.source(searchSourceBuilder);\r\n```\r\n\r\n**Regarding your concern about reindexing data:**\r\n\r\n&gt; I cannot convert for each row after inserting because we have lakhs of\r\n&gt; data\r\n\r\nYou can use [Reindex API][1] to move data from original index to temp index and delete your original index. Then, defined the index with proper mapping and again use same Reindex API to copy data from temp index to original index with new mapping.\r\n\r\n\r\n  [1]: https://www.elastic.co/guide/en/elasticsearch/reference/current/docs-reindex.html","title":"Unable to parse 2022-10-04T19:24:50Z format in ElasticSearch Java Implemnetation","body":"<p>As you are mentioning, Elasticsearch storing <code>timecolumn</code> as <code>text</code> type hence i will suggest to change mapping of <code>timecolumn</code> to <code>date</code> type and you will be able to use range query with date. Because if you store date as text and applied range then it will not return a expected result.</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;mappings&quot;: {\n    &quot;properties&quot;: {\n      &quot;timecolumn&quot;: {\n        &quot;type&quot;: &quot;date&quot;\n      }\n    }\n  }\n}\n</code></pre>\n<p>Now coming to your Java code issue, You can use below code for creating range query in Java as you are using Java client.</p>\n<pre class=\"lang-java prettyprint-override\"><code>SearchSourceBuilder searchSourceBuilder = new SearchSourceBuilder();\nQueryBuilder query = QueryBuilders.rangeQuery(&quot;timecolumn&quot;).gte(&quot;2022-10-07T09:45:13Z&quot;).lte(&quot;2022-10-07T09:50:50Z&quot;);\nsearchSourceBuilder.query(query);\nsearchRequest.source(searchSourceBuilder);\n</code></pre>\n<p><strong>Regarding your concern about reindexing data:</strong></p>\n<blockquote>\n<p>I cannot convert for each row after inserting because we have lakhs of\ndata</p>\n</blockquote>\n<p>You can use <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/docs-reindex.html\" rel=\"nofollow noreferrer\">Reindex API</a> to move data from original index to temp index and delete your original index. Then, defined the index with proper mapping and again use same Reindex API to copy data from temp index to original index with new mapping.</p>\n"}],"owner":{"account_id":13892465,"reputation":13,"user_id":10948905,"display_name":"mpsimham"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74153538,"answer_count":1,"score":0,"last_activity_date":1666354822,"creation_date":1666351820,"question_id":74152980,"body_markdown":"```java\r\nSearchRequest searchRequest = Requests.searchRequest(indexName);\r\nSearchSourceBuilder builder = new SearchSourceBuilder();\r\nGson gson = new Gson();\r\nQueryBuilder querybuilder = QueryBuilders.wrapperQuery(query);\r\n```\r\n\r\n```json\r\nquery : {\r\n    &quot;range&quot;: {\r\n        &quot;timecolumn&quot;: {\r\n            &quot;gte&quot;:&quot;2022-10-07T09:45:13Z&quot;,\r\n            &quot;lte&quot;:&quot;2022-10-07T09:50:50Z&quot;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nWhile passing the above Query I am getting Parser Exception , I cannot change the date format as data in DB is getting inserted in same format .\r\n\r\n\r\nNeed Advice on :\r\n1) How can we parse this kind of timestamp in ElasticSearch Java , if not \r\n2) How can we control pattern updation during data insertion like my column in defined as text which takes date format &quot;2022-10-07T09:45:13Z&quot; as text .\r\n\r\neither I have to pass this format in ES Parser or I have to change format to 2022-10-07 09:45:13 during insertion itself .\r\n\r\nI cannot convert for each row after inserting because we have lakhs of data","title":"Unable to parse 2022-10-04T19:24:50Z format in ElasticSearch Java Implemnetation","body":"<pre class=\"lang-java prettyprint-override\"><code>SearchRequest searchRequest = Requests.searchRequest(indexName);\nSearchSourceBuilder builder = new SearchSourceBuilder();\nGson gson = new Gson();\nQueryBuilder querybuilder = QueryBuilders.wrapperQuery(query);\n</code></pre>\n<pre class=\"lang-json prettyprint-override\"><code>query : {\n    &quot;range&quot;: {\n        &quot;timecolumn&quot;: {\n            &quot;gte&quot;:&quot;2022-10-07T09:45:13Z&quot;,\n            &quot;lte&quot;:&quot;2022-10-07T09:50:50Z&quot;\n        }\n    }\n}\n</code></pre>\n<p>While passing the above Query I am getting Parser Exception , I cannot change the date format as data in DB is getting inserted in same format .</p>\n<p>Need Advice on :</p>\n<ol>\n<li>How can we parse this kind of timestamp in ElasticSearch Java , if not</li>\n<li>How can we control pattern updation during data insertion like my column in defined as text which takes date format &quot;2022-10-07T09:45:13Z&quot; as text .</li>\n</ol>\n<p>either I have to pass this format in ES Parser or I have to change format to 2022-10-07 09:45:13 during insertion itself .</p>\n<p>I cannot convert for each row after inserting because we have lakhs of data</p>\n"},{"tags":["java","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1666353134,"post_id":74152353,"comment_id":130922625,"body_markdown":"Okay, so as far as I understand `@MapsId`, you are currently trying to force 2 separate identifiers on the child id. Example: `FirstParent` has id `123` and `SecondParent` has id `abc`. Which id should `Child` now have?","body":"Okay, so as far as I understand <code>@MapsId</code>, you are currently trying to force 2 separate identifiers on the child id. Example: <code>FirstParent</code> has id <code>123</code> and <code>SecondParent</code> has id <code>abc</code>. Which id should <code>Child</code> now have?"},{"owner":{"account_id":16688949,"reputation":25,"user_id":12062053,"display_name":"AiR"},"score":0,"creation_date":1666354106,"post_id":74152353,"comment_id":130922963,"body_markdown":"`FirstParent` and `SecondParent` can not have the same `Child`. So, the `FirstParent` (with id `123`) will have the `Child` with id `123`; and the `SecondParent` (with id `abc`) will have the `Child` with id `abc`","body":"<code>FirstParent</code> and <code>SecondParent</code> can not have the same <code>Child</code>. So, the <code>FirstParent</code> (with id <code>123</code>) will have the <code>Child</code> with id <code>123</code>; and the <code>SecondParent</code> (with id <code>abc</code>) will have the <code>Child</code> with id <code>abc</code>"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":1,"creation_date":1666354332,"post_id":74152353,"comment_id":130923044,"body_markdown":"But one child should have a `FirstParent` as well as a `SecondParent` at the same time as per your mapping","body":"But one child should have a <code>FirstParent</code> as well as a <code>SecondParent</code> at the same time as per your mapping"},{"owner":{"account_id":16688949,"reputation":25,"user_id":12062053,"display_name":"AiR"},"score":0,"creation_date":1666355127,"post_id":74152353,"comment_id":130923326,"body_markdown":"Ok, than the mappings are wrong. `FirstParent` and `SecondParent` are not related, they can just a `Child` (optional). How should I map this?","body":"Ok, than the mappings are wrong. <code>FirstParent</code> and <code>SecondParent</code> are not related, they can just a <code>Child</code> (optional). How should I map this?"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1666355300,"post_id":74152353,"comment_id":130923396,"body_markdown":"Do you need a reference from child to parent?","body":"Do you need a reference from child to parent?"},{"owner":{"account_id":16688949,"reputation":25,"user_id":12062053,"display_name":"AiR"},"score":0,"creation_date":1666356485,"post_id":74152353,"comment_id":130923816,"body_markdown":"I only need to be able to cascade all the operations from parent to child","body":"I only need to be able to cascade all the operations from parent to child"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1666357103,"post_id":74152353,"comment_id":130924047,"body_markdown":"Then it should be enough to remove both `@OneToOne` from `Child` class","body":"Then it should be enough to remove both <code>@OneToOne</code> from <code>Child</code> class"},{"owner":{"account_id":16688949,"reputation":25,"user_id":12062053,"display_name":"AiR"},"score":0,"creation_date":1666361462,"post_id":74152353,"comment_id":130925704,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/248969/discussion-between-air-and-xtremebaumer).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/248969/discussion-between-air-and-xtremebaumer\">continue this discussion in chat</a>."}],"owner":{"account_id":16688949,"reputation":25,"user_id":12062053,"display_name":"AiR"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666354635,"creation_date":1666348524,"question_id":74152353,"body_markdown":"I have the following problem: two parents entities can have the same type of child entity (but not the same child). I want to map both of relations using `@MapsId` and `@OneToOne`. The child is optional in both cases and can not exist without parent. The problem is that I am getting `org.hibernate.id.IdentifierGenerationException: attempted to assign id from null one-to-one property ` when I try to create an instance of one of the parents.\r\n\r\nThis is the code:\r\n\r\nfirst parent entity\r\n```\r\n@Entity\r\n@DynamicUpdate\r\n@Table(name = &quot;first_parent&quot;)\r\n@Inheritance(strategy = InheritanceType.JOINED)\r\npublic abstract class FirstParent {\r\n\r\n@Id\r\nprivate UUID id;\r\n\r\n@OneToOne(mappedBy = &quot;firstParent&quot;, cascade = CascadeType.ALL)\r\nprivate Child child;\r\n\r\nprotected FirstParent(Child child) {\r\n this.id = UUID.randomUUID();\r\n setChild(child);\r\n}\r\n\r\nprivate void setChild(@Nullable Child child) {\r\n  this.child = child;\r\n\r\n  if (child != null) {\r\n   child.setId(id);\r\n   child.setFirstParent(this);\r\n  }\r\n }\r\n}\r\n```\r\nsecond parent entity:\r\n\r\n```\r\n@Entity\r\n@DynamicUpdate\r\n@Table(name = &quot;second_parent&quot;)\r\n@Inheritence(strategy = InheritenceType.JOINED)\r\npublic abstract class SecondParent {\r\n\r\n@Id\r\nprivate UUID id;\r\n\r\n@OneToOne(mappedBy = &quot;secondParent&quot;, cascade = CascadeType.ALL)\r\nprivate Child child;\r\n\r\nprotected SecondParent(Child child) {\r\n  this.id = UUID.randomUUID();\r\n  setChild(child);\r\n }\r\n\r\nprivate void setChild(@Nullable Child child) {\r\n  this.child = child;\r\n\r\n  if (child != null) {\r\n   child.setId(id);\r\n   child.setSecondParent(this);\r\n  }\r\n }\r\n}\r\n```\r\nchild entity:\r\n\r\n```\r\n@Entity\r\n@DynamicUpdate\r\n@Table(name = &quot;child&quot;)\r\npublic class Child {\r\n\r\n@Id\r\nprivate UUID id;\r\n\r\n@OneToOne(fetch = FetchType.LAZY)\r\n@MapsId\r\n@JoinColumn(name = &quot;id&quot;)\r\nprivate FirstParent firstParent;\r\n\r\n@OneToOne(fetch = FetchType.LAZY)\r\n@MapsId\r\n@JoinColumn(name = &quot;id&quot;)\r\nprivate SecondParent secondParent;\r\n\r\n}\r\n```\r\nThe problem is that every time when I am creating a `firstParent` instance, I am getting the following execption:\r\n`org.hibernate.id.IdentifierGenerationException: attempted to assign id from null one-to-one property [.....Child.secondParent]`\r\n\r\nThis is indicating me that hibernate attempts to assign the id also for the `secondParent` even if it shouldn&#39;t do that, should do this only for the child entity.\r\n\r\nInteresting is, that when I am creating an instance of `firstParent`, the above mentioned exception does not occures.\r\n\r\nWhat am I doing wrong and how can I map this properly?","title":"How can I map two parents to the same child using @OneToOne and @MapsId","body":"<p>I have the following problem: two parents entities can have the same type of child entity (but not the same child). I want to map both of relations using <code>@MapsId</code> and <code>@OneToOne</code>. The child is optional in both cases and can not exist without parent. The problem is that I am getting <code>org.hibernate.id.IdentifierGenerationException: attempted to assign id from null one-to-one property </code> when I try to create an instance of one of the parents.</p>\n<p>This is the code:</p>\n<p>first parent entity</p>\n<pre><code>@Entity\n@DynamicUpdate\n@Table(name = &quot;first_parent&quot;)\n@Inheritance(strategy = InheritanceType.JOINED)\npublic abstract class FirstParent {\n\n@Id\nprivate UUID id;\n\n@OneToOne(mappedBy = &quot;firstParent&quot;, cascade = CascadeType.ALL)\nprivate Child child;\n\nprotected FirstParent(Child child) {\n this.id = UUID.randomUUID();\n setChild(child);\n}\n\nprivate void setChild(@Nullable Child child) {\n  this.child = child;\n\n  if (child != null) {\n   child.setId(id);\n   child.setFirstParent(this);\n  }\n }\n}\n</code></pre>\n<p>second parent entity:</p>\n<pre><code>@Entity\n@DynamicUpdate\n@Table(name = &quot;second_parent&quot;)\n@Inheritence(strategy = InheritenceType.JOINED)\npublic abstract class SecondParent {\n\n@Id\nprivate UUID id;\n\n@OneToOne(mappedBy = &quot;secondParent&quot;, cascade = CascadeType.ALL)\nprivate Child child;\n\nprotected SecondParent(Child child) {\n  this.id = UUID.randomUUID();\n  setChild(child);\n }\n\nprivate void setChild(@Nullable Child child) {\n  this.child = child;\n\n  if (child != null) {\n   child.setId(id);\n   child.setSecondParent(this);\n  }\n }\n}\n</code></pre>\n<p>child entity:</p>\n<pre><code>@Entity\n@DynamicUpdate\n@Table(name = &quot;child&quot;)\npublic class Child {\n\n@Id\nprivate UUID id;\n\n@OneToOne(fetch = FetchType.LAZY)\n@MapsId\n@JoinColumn(name = &quot;id&quot;)\nprivate FirstParent firstParent;\n\n@OneToOne(fetch = FetchType.LAZY)\n@MapsId\n@JoinColumn(name = &quot;id&quot;)\nprivate SecondParent secondParent;\n\n}\n</code></pre>\n<p>The problem is that every time when I am creating a <code>firstParent</code> instance, I am getting the following execption:\n<code>org.hibernate.id.IdentifierGenerationException: attempted to assign id from null one-to-one property [.....Child.secondParent]</code></p>\n<p>This is indicating me that hibernate attempts to assign the id also for the <code>secondParent</code> even if it shouldn't do that, should do this only for the child entity.</p>\n<p>Interesting is, that when I am creating an instance of <code>firstParent</code>, the above mentioned exception does not occures.</p>\n<p>What am I doing wrong and how can I map this properly?</p>\n"},{"tags":["java","testing","jmeter","performance-testing","load-testing"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1666393130,"post_id":74151563,"comment_id":130934541,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":3460456,"reputation":162758,"user_id":2897748,"display_name":"Dmitri T"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666354179,"creation_date":1666354179,"answer_id":74153417,"question_id":74151563,"body_markdown":"Check out [Remote hosts and RMI configuration][2] section of JMeter documentation and pay particular attention to the following:\r\n\r\n - `client.rmi.localport` - Parameter that controls the RMI ports used by RemoteSampleListenerImpl and RemoteThreadsListenerImpl (The Controller)\r\n - `server.rmi.port` - To change the default port (1099) used to access the server.\r\n - `server.rmi.localport` - To use a specific port for the JMeter server engine, define this property before starting the server.\r\n - `server_port` - RMI port to be used by the server (must start rmiregistry with same port).\r\n\r\nWhere:\r\n\r\n - `client` (or `Controller`) == JMeter Master\r\n - `server` == JMeter Slave\r\n\r\nMore information:\r\n\r\n - [Remote Testing][3]\r\n - [How to Perform Distributed Testing in JMeter][4]\r\n - [Apache JMeter Distributed Testing Step-by-step][5]\r\n\r\n\r\n----------\r\nWe cannot suggest any fixes without seeing what properties you&#39;ve defined on master and slave machines, for now I can mention that:\r\n\r\n 1. If you want to change `server_port` from default `1099` to `1234` you need to do this **on the slaves side**\r\n 2. On the master side you need to make JMeter aware of the port change via `remote_hosts` property like\r\n\r\n        remote_hosts=1.1.1.1:1234,2.2.2.2:1234,etc.\r\n\r\n\r\n\r\n \r\n\r\n\r\n  [1]: https://jmeter.apache.org/usermanual/get-started.html#configuring_jmeter\r\n  [2]: https://jmeter.apache.org/usermanual/properties_reference.html#remote\r\n  [3]: https://jmeter.apache.org/usermanual/remote-test.html\r\n  [4]: https://www.blazemeter.com/blog/distributed-testing-in-jmeter\r\n  [5]: https://jmeter.apache.org/usermanual/jmeter_distributed_testing_step_by_step.html","title":"Unable to connect to a slave machine in JMeter distributed testing [JMeter Distributed Testing]","body":"<p>Check out <a href=\"https://jmeter.apache.org/usermanual/properties_reference.html#remote\" rel=\"nofollow noreferrer\">Remote hosts and RMI configuration</a> section of JMeter documentation and pay particular attention to the following:</p>\n<ul>\n<li><code>client.rmi.localport</code> - Parameter that controls the RMI ports used by RemoteSampleListenerImpl and RemoteThreadsListenerImpl (The Controller)</li>\n<li><code>server.rmi.port</code> - To change the default port (1099) used to access the server.</li>\n<li><code>server.rmi.localport</code> - To use a specific port for the JMeter server engine, define this property before starting the server.</li>\n<li><code>server_port</code> - RMI port to be used by the server (must start rmiregistry with same port).</li>\n</ul>\n<p>Where:</p>\n<ul>\n<li><code>client</code> (or <code>Controller</code>) == JMeter Master</li>\n<li><code>server</code> == JMeter Slave</li>\n</ul>\n<p>More information:</p>\n<ul>\n<li><a href=\"https://jmeter.apache.org/usermanual/remote-test.html\" rel=\"nofollow noreferrer\">Remote Testing</a></li>\n<li><a href=\"https://www.blazemeter.com/blog/distributed-testing-in-jmeter\" rel=\"nofollow noreferrer\">How to Perform Distributed Testing in JMeter</a></li>\n<li><a href=\"https://jmeter.apache.org/usermanual/jmeter_distributed_testing_step_by_step.html\" rel=\"nofollow noreferrer\">Apache JMeter Distributed Testing Step-by-step</a></li>\n</ul>\n<hr />\n<p>We cannot suggest any fixes without seeing what properties you've defined on master and slave machines, for now I can mention that:</p>\n<ol>\n<li><p>If you want to change <code>server_port</code> from default <code>1099</code> to <code>1234</code> you need to do this <strong>on the slaves side</strong></p>\n</li>\n<li><p>On the master side you need to make JMeter aware of the port change via <code>remote_hosts</code> property like</p>\n<pre><code>remote_hosts=1.1.1.1:1234,2.2.2.2:1234,etc.\n</code></pre>\n</li>\n</ol>\n"}],"owner":{"account_id":26691107,"reputation":1,"user_id":20299672,"display_name":"Rukhsar Shaikh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":244,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666354179,"creation_date":1666344433,"question_id":74151563,"body_markdown":"I am trying to setup a master-slave environment to perform distributed testing in JMeter, But even after setting up all the things, i am unable to do so.\r\n\r\nBelow configurations i already setup:\r\n\r\n1. Firewall is disable.\r\n\r\n2. RMI keystore is generated from master machine and the created &quot;jks&quot; file has been pasted to all slave machine. Also for alternative solution, i marked &quot;server.rmi.ssl.disable&quot; as &quot;true&quot; in &quot;user.properties&quot; fike.\r\n\r\n3. I also setup a server port in &quot;jmeter.properties&quot; file with slave ip addresses as well.\r\n\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/iiQJP.png\r\n\r\nbut after doing all the above listed things, i am getting error as &quot;Connection timed out&quot; and &quot;Connection Refused to host&quot;.","title":"Unable to connect to a slave machine in JMeter distributed testing [JMeter Distributed Testing]","body":"<p>I am trying to setup a master-slave environment to perform distributed testing in JMeter, But even after setting up all the things, i am unable to do so.</p>\n<p>Below configurations i already setup:</p>\n<ol>\n<li><p>Firewall is disable.</p>\n</li>\n<li><p>RMI keystore is generated from master machine and the created &quot;jks&quot; file has been pasted to all slave machine. Also for alternative solution, i marked &quot;server.rmi.ssl.disable&quot; as &quot;true&quot; in &quot;user.properties&quot; fike.</p>\n</li>\n<li><p>I also setup a server port in &quot;jmeter.properties&quot; file with slave ip addresses as well.</p>\n</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/iiQJP.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>but after doing all the above listed things, i am getting error as &quot;Connection timed out&quot; and &quot;Connection Refused to host&quot;.</p>\n"},{"tags":["java","node.js","encryption"],"comments":[{"owner":{"account_id":12359353,"reputation":42442,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1666351201,"post_id":74152534,"comment_id":130922044,"body_markdown":"What is `ENC_KEY` in the NodeJS code (i.e. have you considered the key derivation via SHA-1)? Also, the Java code applies AES-128. The article fails to point out that ECB and SHA-1 as key derivation are insecure.","body":"What is <code>ENC_KEY</code> in the NodeJS code (i.e. have you considered the key derivation via SHA-1)? Also, the Java code applies AES-128. The article fails to point out that ECB and SHA-1 as key derivation are insecure."},{"owner":{"account_id":26691737,"reputation":1,"user_id":20300218,"display_name":"Ricardo Cacheira"},"score":0,"creation_date":1666351616,"post_id":74152534,"comment_id":130922196,"body_markdown":"`ENC_KEY` is the key we defined. After researching I have changed to aes-128-ecb and hashed the `ENC_KEY` as such `var key = crypto.scryptSync(ENC_KEY, &#39;sha1&#39;, 16)` but still don&#39;t get a readable result.\nEDIT: I&#39;ve also learned that it is insecure however this is not to exchange sensitive information. It is just a way to avoid exploitation of our system.","body":"<code>ENC_KEY</code> is the key we defined. After researching I have changed to aes-128-ecb and hashed the <code>ENC_KEY</code> as such <code>var key = crypto.scryptSync(ENC_KEY, &#39;sha1&#39;, 16)</code> but still don&#39;t get a readable result. EDIT: I&#39;ve also learned that it is insecure however this is not to exchange sensitive information. It is just a way to avoid exploitation of our system."},{"owner":{"account_id":12359353,"reputation":42442,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1666352045,"post_id":74152534,"comment_id":130922304,"body_markdown":"If you want to decrypt the ciphertext generated by the Java code, then of course you have to apply the key derivation used in the Java code (and that is not *scrypt*), see here: https://www.jdoodle.com/ia/xKT.","body":"If you want to decrypt the ciphertext generated by the Java code, then of course you have to apply the key derivation used in the Java code (and that is not <i>scrypt</i>), see here: <a href=\"https://www.jdoodle.com/ia/xKT\" rel=\"nofollow noreferrer\">jdoodle.com/ia/xKT</a>."},{"owner":{"account_id":26691737,"reputation":1,"user_id":20300218,"display_name":"Ricardo Cacheira"},"score":0,"creation_date":1666352485,"post_id":74152534,"comment_id":130922440,"body_markdown":"That worked! I was starting to come to the conclusion that the key was the issue but I am not experienced with cryptography and Java enough to understand what I was missing.\nIf you write your comment as an answer I&#39;ll mark it as correct to save some time to whoever needs this solution.","body":"That worked! I was starting to come to the conclusion that the key was the issue but I am not experienced with cryptography and Java enough to understand what I was missing. If you write your comment as an answer I&#39;ll mark it as correct to save some time to whoever needs this solution."}],"answers":[{"tags":[],"owner":{"account_id":26691737,"reputation":1,"user_id":20300218,"display_name":"Ricardo Cacheira"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666354066,"creation_date":1666353937,"answer_id":74153373,"question_id":74152534,"body_markdown":"For anyone who encounters the same problem as me follow the solution @Topaco added in the comments:\r\n\r\n&gt; If you want to decrypt the ciphertext generated by the Java code, then of course you have to apply the key derivation used in the Java code (and that is not scrypt), see here: jdoodle.com/ia/xKT.\r\n\r\nhttps://www.jdoodle.com/ia/xKT","title":"NodeJs Can&#39;t decrypt result ecrypted in Java (AES/ECB/PKCS5Padding)","body":"<p>For anyone who encounters the same problem as me follow the solution @Topaco added in the comments:</p>\n<blockquote>\n<p>If you want to decrypt the ciphertext generated by the Java code, then of course you have to apply the key derivation used in the Java code (and that is not scrypt), see here: jdoodle.com/ia/xKT.</p>\n</blockquote>\n<p><a href=\"https://www.jdoodle.com/ia/xKT\" rel=\"nofollow noreferrer\">https://www.jdoodle.com/ia/xKT</a></p>\n"}],"owner":{"account_id":26691737,"reputation":1,"user_id":20300218,"display_name":"Ricardo Cacheira"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":159,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74153373,"answer_count":1,"score":0,"last_activity_date":1666354066,"creation_date":1666349367,"question_id":74152534,"body_markdown":"I&#39;m working with a client and made some code to decrypt a value that their system encrypts.\r\nThey are using Java (which I&#39;m not familiar with) and have used the following code example:\r\nhttps://howtodoinjava.com/java/java-security/java-aes-encryption-example/\r\n\r\nThe following node.js code worked with my testing examples but returns an error when trying to decrypt theirs\r\n\r\n    const decipher = crypto.createDecipheriv(&quot;aes-256-ecb&quot;, ENC_KEY, null);\r\n    decipher.setAutoPadding(true);\r\n    deciphered = decipher.update(encryptedValue, &quot;base64&quot;, &quot;utf8&quot;);\r\n    deciphered += decipher.final(&quot;utf8&quot;);\r\n    console.log(deciphered);\r\n\r\nError: error:06065064:digital envelope routines:EVP_DecryptFinal_ex:bad decrypt\r\n\r\nMy research online hasn&#39;t returned any solution that worked so far.\r\n\r\nAm I missing something in my code?\r\n\r\nEDIT: After more research i found that crypto already does pkcs5padding by default and setting autoPadding to false resolved the bad decrypt however I now get some strange characters (�[�→&gt;↔��I�O�v L�▼v���.,\r\n��&lt;G��♠V�/,J9�) and not the expected result","title":"NodeJs Can&#39;t decrypt result ecrypted in Java (AES/ECB/PKCS5Padding)","body":"<p>I'm working with a client and made some code to decrypt a value that their system encrypts.\nThey are using Java (which I'm not familiar with) and have used the following code example:\n<a href=\"https://howtodoinjava.com/java/java-security/java-aes-encryption-example/\" rel=\"nofollow noreferrer\">https://howtodoinjava.com/java/java-security/java-aes-encryption-example/</a></p>\n<p>The following node.js code worked with my testing examples but returns an error when trying to decrypt theirs</p>\n<pre><code>const decipher = crypto.createDecipheriv(&quot;aes-256-ecb&quot;, ENC_KEY, null);\ndecipher.setAutoPadding(true);\ndeciphered = decipher.update(encryptedValue, &quot;base64&quot;, &quot;utf8&quot;);\ndeciphered += decipher.final(&quot;utf8&quot;);\nconsole.log(deciphered);\n</code></pre>\n<p>Error: error:06065064:digital envelope routines:EVP_DecryptFinal_ex:bad decrypt</p>\n<p>My research online hasn't returned any solution that worked so far.</p>\n<p>Am I missing something in my code?</p>\n<p>EDIT: After more research i found that crypto already does pkcs5padding by default and setting autoPadding to false resolved the bad decrypt however I now get some strange characters (�[�→&gt;↔��I�O�v L�▼v���.,\n��&lt;G��♠V�/,J9�) and not the expected result</p>\n"},{"tags":["java","android","google-cloud-firestore"],"comments":[{"owner":{"account_id":24326039,"reputation":2411,"user_id":18265570,"display_name":"Roopa M"},"score":0,"creation_date":1666360244,"post_id":74152760,"comment_id":130925221,"body_markdown":"Have you tried [Transactions](https://firebase.google.com/docs/firestore/manage-data/transactions) and barched writes? Can you have a look at this [StackOverflow thread](https://stackoverflow.com/a/57653880/18265570)?","body":"Have you tried <a href=\"https://firebase.google.com/docs/firestore/manage-data/transactions\" rel=\"nofollow noreferrer\">Transactions</a> and barched writes? Can you have a look at this <a href=\"https://stackoverflow.com/a/57653880/18265570\">StackOverflow thread</a>?"},{"owner":{"account_id":26090846,"reputation":113,"user_id":19787762,"display_name":"Vince Yba&#241;ez"},"score":0,"creation_date":1666360865,"post_id":74152760,"comment_id":130925447,"body_markdown":"I think it cannot be achieved using transactions and batched writes because the IDs are unknown","body":"I think it cannot be achieved using transactions and batched writes because the IDs are unknown"},{"owner":{"account_id":24326039,"reputation":2411,"user_id":18265570,"display_name":"Roopa M"},"score":0,"creation_date":1666513470,"post_id":74152760,"comment_id":130951342,"body_markdown":"Does this [StackOverflow link](https://stackoverflow.com/a/61136301/18265570) helps you?","body":"Does this <a href=\"https://stackoverflow.com/a/61136301/18265570\">StackOverflow link</a> helps you?"},{"owner":{"account_id":26090846,"reputation":113,"user_id":19787762,"display_name":"Vince Yba&#241;ez"},"score":0,"creation_date":1666675334,"post_id":74152760,"comment_id":130987053,"body_markdown":"@RoopaM not really. I did not find any solution in that link. In fact, I did not find a solution even in Firestore documentation. I guess I have to run multiple queries from different collections at once and then update at once but I think its a bad practice and can cost me a lot.","body":"@RoopaM not really. I did not find any solution in that link. In fact, I did not find a solution even in Firestore documentation. I guess I have to run multiple queries from different collections at once and then update at once but I think its a bad practice and can cost me a lot."},{"owner":{"account_id":24326039,"reputation":2411,"user_id":18265570,"display_name":"Roopa M"},"score":0,"creation_date":1666684193,"post_id":74152760,"comment_id":130989169,"body_markdown":"How about considering maps as discussed [here](https://stackoverflow.com/a/46945340/18265570)?","body":"How about considering maps as discussed <a href=\"https://stackoverflow.com/a/46945340/18265570\">here</a>?"}],"owner":{"account_id":26090846,"reputation":113,"user_id":19787762,"display_name":"Vince Yba&#241;ez"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1666792373,"answer_count":0,"score":0,"last_activity_date":1666354034,"creation_date":1666350589,"question_id":74152760,"body_markdown":"Here is my DB:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Dr8zr.png\r\n  [2]: https://i.stack.imgur.com/VyknD.png\r\n  [3]: https://i.stack.imgur.com/IubgC.png\r\n\r\nI want to update the fullName of a member in multiple locations all at once. The fullName of a member is inside AnnualDue, MemberFee, and Faculty.","title":"How to update data in multiple location (e.g. top level collection, subcollection)?","body":"<p>Here is my DB:</p>\n<p><a href=\"https://i.stack.imgur.com/Dr8zr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Dr8zr.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/VyknD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VyknD.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/IubgC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IubgC.png\" alt=\"enter image description here\" /></a></p>\n<p>I want to update the fullName of a member in multiple locations all at once. The fullName of a member is inside AnnualDue, MemberFee, and Faculty.</p>\n"},{"tags":["java","android","android-permissions","android-file","android-fileprovider"],"answers":[{"comments":[{"owner":{"account_id":1735730,"reputation":1154,"user_id":1684254,"display_name":"Akin Okegbile"},"score":0,"creation_date":1594826167,"post_id":62917704,"comment_id":111264179,"body_markdown":"@blackapps His problem wasn&#39;t the string or the URL generation. it was the permission to access the url.","body":"@blackapps His problem wasn&#39;t the string or the URL generation. it was the permission to access the url."},{"owner":{"account_id":1735730,"reputation":1154,"user_id":1684254,"display_name":"Akin Okegbile"},"score":0,"creation_date":1594827511,"post_id":62917704,"comment_id":111265000,"body_markdown":"You should take time to edit your own answer below. Just saying. p.s. I didnt downvote you.","body":"You should take time to edit your own answer below. Just saying. p.s. I didnt downvote you."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1594827873,"post_id":62917704,"comment_id":111265189,"body_markdown":"`We need to provide persistent Uri permission.`  As you cannot provide anything here you probably mean: `We need to receive persistent Uri permission in onActivityResult.`.","body":"<code>We need to provide persistent Uri permission.</code>  As you cannot provide anything here you probably mean: <code>We need to receive persistent Uri permission in onActivityResult.</code>."},{"owner":{"account_id":19084813,"reputation":51,"user_id":13936310,"display_name":"DevJayJay"},"score":0,"creation_date":1595856613,"post_id":62917704,"comment_id":111610753,"body_markdown":"Btw this problem just returned. If I save the filename and restart the phone I lose the permissions on that file. Can someone please help? Is there a way to perpetually grant access to mp3 file in the dowload or other folder?","body":"Btw this problem just returned. If I save the filename and restart the phone I lose the permissions on that file. Can someone please help? Is there a way to perpetually grant access to mp3 file in the dowload or other folder?"},{"owner":{"account_id":17466472,"reputation":747,"user_id":12663117,"display_name":"Nate T"},"score":0,"creation_date":1595859553,"post_id":62917704,"comment_id":111612520,"body_markdown":"I was gonna give this answer. It seemed like common sense looking at the error code, but ive never implemented this type of intent so I backed off...","body":"I was gonna give this answer. It seemed like common sense looking at the error code, but ive never implemented this type of intent so I backed off..."},{"owner":{"account_id":1735730,"reputation":1154,"user_id":1684254,"display_name":"Akin Okegbile"},"score":0,"creation_date":1595860615,"post_id":62917704,"comment_id":111613172,"body_markdown":"@DevJayJay. Are you using ```Intent.ACTION_GET_DOCUMENT``` unknowingly? Do a global search for that just in case.","body":"@DevJayJay. Are you using <code>Intent.ACTION_GET_DOCUMENT</code> unknowingly? Do a global search for that just in case."},{"owner":{"account_id":19084813,"reputation":51,"user_id":13936310,"display_name":"DevJayJay"},"score":2,"creation_date":1595865602,"post_id":62917704,"comment_id":111615805,"body_markdown":"Nevermind I just figured out what the problem was. I had to persist the permission with takePersistableUriPermission() and Intent.FLAG_GRANT_READ_URI_PERMISSION. It was actually in the documentation but I wasn&#39;t sure I was doing the correct process. Anyone out there reading this wanting to persist the permissions through reboot don&#39;t forget to use takePersistableUriPersmission()!!","body":"Nevermind I just figured out what the problem was. I had to persist the permission with takePersistableUriPermission() and Intent.FLAG_GRANT_READ_URI_PERMISSION. It was actually in the documentation but I wasn&#39;t sure I was doing the correct process. Anyone out there reading this wanting to persist the permissions through reboot don&#39;t forget to use takePersistableUriPersmission()!!"},{"owner":{"account_id":1735730,"reputation":1154,"user_id":1684254,"display_name":"Akin Okegbile"},"score":0,"creation_date":1595869334,"post_id":62917704,"comment_id":111617516,"body_markdown":"Look at the edit history.. It was in the original answer :p. Remind me to stick to guns next time lmao","body":"Look at the edit history.. It was in the original answer :p. Remind me to stick to guns next time lmao"}],"tags":[],"owner":{"account_id":1735730,"reputation":1154,"user_id":1684254,"display_name":"Akin Okegbile"},"comment_count":8,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1666353954,"creation_date":1594824707,"answer_id":62917704,"question_id":62917518,"body_markdown":"We need to provide persistent Uri permission. \r\n\r\n----\r\n\r\nJAVA\r\n\r\n     Intent openFileIntent = new Intent(Intent.ACTION_OPEN_DOCUMENT);\r\n     openFileIntent.addCategory(Intent.CATEGORY_OPENABLE);\r\n     openFileIntent.setType(&quot;audio/mpeg&quot;);\r\n     startActivityForResult(openFileIntent, PICK_MP3_FILE);\r\n\r\n----\r\n\r\nAlso, a note worth mentioning is persistent permission is available only to `Intent.ACTION_OPEN_DOCUMENT` and **NOT** `Intent.ACTION_GET_CONTENT` whereas the latter one is like a one-time thing.","title":"How to convert a string to a URI without throwing exceptions","body":"<p>We need to provide persistent Uri permission.</p>\n<hr />\n<p>JAVA</p>\n<pre><code> Intent openFileIntent = new Intent(Intent.ACTION_OPEN_DOCUMENT);\n openFileIntent.addCategory(Intent.CATEGORY_OPENABLE);\n openFileIntent.setType(&quot;audio/mpeg&quot;);\n startActivityForResult(openFileIntent, PICK_MP3_FILE);\n</code></pre>\n<hr />\n<p>Also, a note worth mentioning is persistent permission is available only to <code>Intent.ACTION_OPEN_DOCUMENT</code> and <strong>NOT</strong> <code>Intent.ACTION_GET_CONTENT</code> whereas the latter one is like a one-time thing.</p>\n"},{"comments":[{"owner":{"account_id":19084813,"reputation":51,"user_id":13936310,"display_name":"DevJayJay"},"score":0,"creation_date":1595856796,"post_id":62918053,"comment_id":111610855,"body_markdown":"I did use toString actually. Sorry I have edited the question.","body":"I did use toString actually. Sorry I have edited the question."}],"tags":[],"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1594826437,"creation_date":1594825800,"answer_id":62918053,"question_id":62917518,"body_markdown":"&gt;&gt; To do that I used getPath().\r\n\r\nYou should use toString() instead.\r\n\r\n     String scheme = uri.toString();\r\n\r\n     Uri uri = Uri.parse(scheme);","title":"How to convert a string to a URI without throwing exceptions","body":"<blockquote>\n<blockquote>\n<p>To do that I used getPath().</p>\n</blockquote>\n</blockquote>\n<p>You should use toString() instead.</p>\n<pre><code> String scheme = uri.toString();\n\n Uri uri = Uri.parse(scheme);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4705887,"reputation":71,"user_id":3808056,"display_name":"Booo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645394618,"creation_date":1645394618,"answer_id":71199210,"question_id":62917518,"body_markdown":"The permission denial issue needs to be dealt with the first time you receive a URI.\r\n```\r\n    private val pickImage = registerForActivityResult(\r\n        ActivityResultContracts.StartActivityForResult()\r\n    ) { result: ActivityResult -&gt;\r\n        if (result.resultCode == Activity.RESULT_OK) {\r\n            //  you will get result here in result.data\r\n            val uri = result.data?.data!!\r\n            requireActivity().contentResolver.takePersistableUriPermission(\r\n                uri,\r\n                Intent.FLAG_GRANT_READ_URI_PERMISSION\r\n            )\r\n            // Do something else with the URI. E.g, save the URI as a string in the database\r\n        }\r\n    }\r\n```","title":"How to convert a string to a URI without throwing exceptions","body":"<p>The permission denial issue needs to be dealt with the first time you receive a URI.</p>\n<pre><code>    private val pickImage = registerForActivityResult(\n        ActivityResultContracts.StartActivityForResult()\n    ) { result: ActivityResult -&gt;\n        if (result.resultCode == Activity.RESULT_OK) {\n            //  you will get result here in result.data\n            val uri = result.data?.data!!\n            requireActivity().contentResolver.takePersistableUriPermission(\n                uri,\n                Intent.FLAG_GRANT_READ_URI_PERMISSION\n            )\n            // Do something else with the URI. E.g, save the URI as a string in the database\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":19084813,"reputation":51,"user_id":13936310,"display_name":"DevJayJay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":354,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"accepted_answer_id":62917704,"answer_count":3,"score":4,"last_activity_date":1666353954,"creation_date":1594824128,"question_id":62917518,"body_markdown":"I had to convert a Uri to a string so that I could serialize that Uri. \r\n\r\n    Intent openFileIntent = new Intent(Intent.ACTION_GET_CONTENT);\r\n    openFileIntent.addCategory(Intent.CATEGORY_OPENABLE);\r\n    openFileIntent.setType(&quot;audio/mpeg&quot;);\r\n    startActivityForResult(openFileIntent, PICK_MP3_FILE);\r\n\r\n...then on activity result...\r\n\r\n    public void onActivityResult(int requestCode, int resultCode, @Nullable Intent data)\r\n        {\r\n            super.onActivityResult(requestCode, resultCode, data);\r\n    \r\n            if (requestCode == PICK_MP3_FILE)\r\n            {\r\n                if (resultCode == RESULT_OK)\r\n                {\r\n                    try\r\n                    {\r\n                        if (data != null)\r\n                        {\r\n                            Uri mp3AudioFile;\r\n                            if ((mp3AudioFile = data.getData()) != null)\r\n                            {\r\n                                myObject.setMp3Path(mp3AudioFile.getPath());\r\n                                myObject.Save();\r\n    \r\n                            }\r\n                        }\r\n                    } catch (Exception e)\r\n                    {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n\r\nI closed the app and opened again. When I try to open that Uri with:\r\n\r\n    Uri uri = Uri.parse(myObject.getMp3Path();\r\n\r\nI get an error:\r\n\r\n    java.lang.SecurityException: Permission Denial: reading com.android.providers.downloads.DownloadStorageProvider uri content://com.android.providers.downloads.documents/document/raw%3A%2Fstorage%2Femulated%2F0%2FDownload%2Faudio.mp3 from pid=601, uid=10107 requires that you obtain access using ACTION_OPEN_DOCUMENT or related APIs\r\n\r\nMy Manifest has the following permissions:\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot; /&gt;\r\n\r\n\r\n\r\n\r\n","title":"How to convert a string to a URI without throwing exceptions","body":"<p>I had to convert a Uri to a string so that I could serialize that Uri.</p>\n<pre><code>Intent openFileIntent = new Intent(Intent.ACTION_GET_CONTENT);\nopenFileIntent.addCategory(Intent.CATEGORY_OPENABLE);\nopenFileIntent.setType(&quot;audio/mpeg&quot;);\nstartActivityForResult(openFileIntent, PICK_MP3_FILE);\n</code></pre>\n<p>...then on activity result...</p>\n<pre><code>public void onActivityResult(int requestCode, int resultCode, @Nullable Intent data)\n    {\n        super.onActivityResult(requestCode, resultCode, data);\n\n        if (requestCode == PICK_MP3_FILE)\n        {\n            if (resultCode == RESULT_OK)\n            {\n                try\n                {\n                    if (data != null)\n                    {\n                        Uri mp3AudioFile;\n                        if ((mp3AudioFile = data.getData()) != null)\n                        {\n                            myObject.setMp3Path(mp3AudioFile.getPath());\n                            myObject.Save();\n\n                        }\n                    }\n                } catch (Exception e)\n                {\n                    e.printStackTrace();\n                }\n            }\n        }\n    }\n</code></pre>\n<p>I closed the app and opened again. When I try to open that Uri with:</p>\n<pre><code>Uri uri = Uri.parse(myObject.getMp3Path();\n</code></pre>\n<p>I get an error:</p>\n<pre><code>java.lang.SecurityException: Permission Denial: reading com.android.providers.downloads.DownloadStorageProvider uri content://com.android.providers.downloads.documents/document/raw%3A%2Fstorage%2Femulated%2F0%2FDownload%2Faudio.mp3 from pid=601, uid=10107 requires that you obtain access using ACTION_OPEN_DOCUMENT or related APIs\n</code></pre>\n<p>My Manifest has the following permissions:</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.STORAGE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot; /&gt;\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":2414645,"reputation":11194,"user_id":2108972,"display_name":"greenapps"},"score":0,"creation_date":1508868317,"post_id":46916992,"comment_id":80781744,"body_markdown":"Start with removing the addFlags() from the used intent. Makes no sense.","body":"Start with removing the addFlags() from the used intent. Makes no sense."},{"owner":{"account_id":2414645,"reputation":11194,"user_id":2108972,"display_name":"greenapps"},"score":0,"creation_date":1508868359,"post_id":46916992,"comment_id":80781766,"body_markdown":"After that you should take a persistable uri permission in onActivityResult. Where is your code?","body":"After that you should take a persistable uri permission in onActivityResult. Where is your code?"},{"owner":{"account_id":2414645,"reputation":11194,"user_id":2108972,"display_name":"greenapps"},"score":0,"creation_date":1508868562,"post_id":46916992,"comment_id":80781877,"body_markdown":"`imageURI = Uri.parse(cursor.getString(cursor.getColumnIndexOrThrow(WineContract.WineEntry.COLUMN_WINE_IMAGE)));`. My god... Should we know what uri you are taking there? You are supposed to use code that is understandable for everybody.","body":"<code>imageURI = Uri.parse(cursor.getString(cursor.getColumnIndexOrThrow(Wine&zwnj;&#8203;Contract.WineEntry.C&zwnj;&#8203;OLUMN_WINE_IMAGE)));</code>&zwnj;&#8203;. My god... Should we know what uri you are taking there? You are supposed to use code that is understandable for everybody."},{"owner":{"account_id":11902191,"reputation":359,"user_id":8709842,"accept_rate":83,"display_name":"andrdoiddev"},"score":0,"creation_date":1508868710,"post_id":46916992,"comment_id":80781972,"body_markdown":"@greenapps Sorry, I just didn&#39;t think the result of that line specifically would have helped anyone. Maybe I was mistaken? Here is the Log TAG  that gets retreived from that line: &quot;DetailsActivity: imageURI: content://com.android.providers.media.documents/document/image%3A46421&quot;","body":"@greenapps Sorry, I just didn&#39;t think the result of that line specifically would have helped anyone. Maybe I was mistaken? Here is the Log TAG  that gets retreived from that line: &quot;DetailsActivity: imageURI: content://com.android.providers.media.documents/document/ima&zwnj;&#8203;ge%3A46421&quot;"},{"owner":{"account_id":2414645,"reputation":11194,"user_id":2108972,"display_name":"greenapps"},"score":0,"creation_date":1508868812,"post_id":46916992,"comment_id":80782018,"body_markdown":"Yes that is better. You should have used it in your code straight away.","body":"Yes that is better. You should have used it in your code straight away."},{"owner":{"account_id":11902191,"reputation":359,"user_id":8709842,"accept_rate":83,"display_name":"andrdoiddev"},"score":0,"creation_date":1508868909,"post_id":46916992,"comment_id":80782076,"body_markdown":"@greenapps Sorry about that. I just to make the post as detailed as I can (with relevant information), but I&#39;m pretty new to all this yet so I&#39;m not 100% positive on what is releavant or not.","body":"@greenapps Sorry about that. I just to make the post as detailed as I can (with relevant information), but I&#39;m pretty new to all this yet so I&#39;m not 100% positive on what is releavant or not."}],"answers":[{"comments":[{"owner":{"account_id":13182554,"reputation":1588,"user_id":9521509,"display_name":"Pat Lee"},"score":2,"creation_date":1623154060,"post_id":46917241,"comment_id":119991424,"body_markdown":"Got `java.lang.SecurityException: No persistable permission grants found for UID 10522 and Uri content://com.android.externalstorage.documents/document/primary:Pictures/___.jpg [user 0]`","body":"Got <code>java.lang.SecurityException: No persistable permission grants found for UID 10522 and Uri content:&#47;&#47;com.android.externalstorage.documents&#47;document&#47;pri&zwnj;&#8203;mary:Pictures&#47;___.jp&zwnj;&#8203;g [user 0]</code>"},{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1623154324,"post_id":46917241,"comment_id":119991546,"body_markdown":"@PatLee: You might want to ask a separate Stack Overflow question where you can provide a [mcve] showing how you are making the `ACTION_OPEN_DOCUMENT` request, plus where and how you are calling `takePersistableUriPermission()`.","body":"@PatLee: You might want to ask a separate Stack Overflow question where you can provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> showing how you are making the <code>ACTION_OPEN_DOCUMENT</code> request, plus where and how you are calling <code>takePersistableUriPermission()</code>."}],"tags":[],"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"comment_count":2,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1508868404,"creation_date":1508868404,"answer_id":46917241,"question_id":46916992,"body_markdown":"In `onActivityResult()`, [call `takePersistableUriPermission()` on a `ContentResolver`][1], passing in the `Uri` that you got along with the mode flag(s) that indicate what access you want (read, write, both).\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/content/ContentResolver.html#takePersistableUriPermission(android.net.Uri,%20int)","title":"Having trouble implementing ACTION_OPEN_DOCUMENT to my project","body":"<p>In <code>onActivityResult()</code>, <a href=\"https://developer.android.com/reference/android/content/ContentResolver.html#takePersistableUriPermission(android.net.Uri,%20int)\" rel=\"noreferrer\">call <code>takePersistableUriPermission()</code> on a <code>ContentResolver</code></a>, passing in the <code>Uri</code> that you got along with the mode flag(s) that indicate what access you want (read, write, both).</p>\n"},{"comments":[{"owner":{"account_id":1849514,"reputation":193878,"user_id":1676363,"accept_rate":100,"display_name":"ianhanniballake"},"score":2,"creation_date":1508868687,"post_id":46917304,"comment_id":80781951,"body_markdown":"There are no runtime permissions needed with `ACTION_OPEN_DOCUMENT`.","body":"There are no runtime permissions needed with <code>ACTION_OPEN_DOCUMENT</code>."},{"owner":{"account_id":11902191,"reputation":359,"user_id":8709842,"accept_rate":83,"display_name":"andrdoiddev"},"score":0,"creation_date":1508869639,"post_id":46917304,"comment_id":80782473,"body_markdown":"I just added the &quot;if (Build.VERSION...&quot; statement from the onActivityResult section and that fixed the issue. So basically this code (if I&#39;m understanding it correctly) is just telling it that if the version of Android is higher than Lollipop, it needs to get the persistant permission for that specific URI so it can open up even after restarts. And thats because versions newer than Lollipop switched it up to use &quot;content:&quot; instead, which is a bit more locked down. (Sorry, I&#39;m just trying to give a bit more explanation for myself)","body":"I just added the &quot;if (Build.VERSION...&quot; statement from the onActivityResult section and that fixed the issue. So basically this code (if I&#39;m understanding it correctly) is just telling it that if the version of Android is higher than Lollipop, it needs to get the persistant permission for that specific URI so it can open up even after restarts. And thats because versions newer than Lollipop switched it up to use &quot;content:&quot; instead, which is a bit more locked down. (Sorry, I&#39;m just trying to give a bit more explanation for myself)"},{"owner":{"account_id":11902191,"reputation":359,"user_id":8709842,"accept_rate":83,"display_name":"andrdoiddev"},"score":0,"creation_date":1508870066,"post_id":46917304,"comment_id":80782695,"body_markdown":"@Richard Muvirimi, could I get a bit of an explanation on why it has to be Lollipop or newer? Is there a reason this wouldn&#39;t work on Kitkat, for example?","body":"@Richard Muvirimi, could I get a bit of an explanation on why it has to be Lollipop or newer? Is there a reason this wouldn&#39;t work on Kitkat, for example?"},{"owner":{"account_id":6686072,"reputation":714,"user_id":5956589,"display_name":"Richard Muvirimi"},"score":0,"creation_date":1508870086,"post_id":46917304,"comment_id":80782703,"body_markdown":"Yes that&#39;s completely correct. You should change the lollipop part to Kitkat since that&#39;s when the storage access framework was introduced","body":"Yes that&#39;s completely correct. You should change the lollipop part to Kitkat since that&#39;s when the storage access framework was introduced"}],"tags":[],"owner":{"account_id":6686072,"reputation":714,"user_id":5956589,"display_name":"Richard Muvirimi"},"comment_count":4,"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1508870153,"creation_date":1508868652,"answer_id":46917304,"question_id":46916992,"body_markdown":"To handle permission results overide onRequestPermissionsResult as below\r\n   \r\n\r\n     @Override\r\n     public void onRequestPermissionsResult (int requestCode, String[] permissions, int[] grantResults) {\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n        switch (requestCode) {\r\n        \tcase General.REQUESTPERMISSION:\r\n        \t\tif (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n        \t\t\t//reload my activity with permission granted or use the features that required the permission\r\n        \t\t\t\t\t\r\n        \t\t} else {\r\n        \t\t\tMessenger.makeToast(getContext(), R.string.noPermissionMarshmallow);\r\n        \t\t}\r\n        \t\tbreak;\r\n        }\r\n    }\r\n\r\nand to persist the permission implement as shown below in your onActivityResult method\r\n\r\n    @Override\r\n    public void onActivityResult (int requestCode, int resultCode, Intent data) {\r\n    \tsuper.onActivityResult(requestCode, resultCode, data);\r\n        //if ok user selected a file\r\n    \tif (resultCode == RESULT_OK) {\r\n            Uri sourceTreeUri = data.getData();\r\n    \t\tif (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.KITKAT) {\r\n    \t\t\tgetContext().getContentResolver().takePersistableUriPermission(sourceTreeUri, Intent.FLAG_GRANT_READ_URI_PERMISSION | Intent.FLAG_GRANT_WRITE_URI_PERMISSION);\r\n    \t\t}\r\n        }\r\n    }","title":"Having trouble implementing ACTION_OPEN_DOCUMENT to my project","body":"<p>To handle permission results overide onRequestPermissionsResult as below</p>\n\n<pre><code> @Override\n public void onRequestPermissionsResult (int requestCode, String[] permissions, int[] grantResults) {\n    super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n    switch (requestCode) {\n        case General.REQUESTPERMISSION:\n            if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n                //reload my activity with permission granted or use the features that required the permission\n\n            } else {\n                Messenger.makeToast(getContext(), R.string.noPermissionMarshmallow);\n            }\n            break;\n    }\n}\n</code></pre>\n\n<p>and to persist the permission implement as shown below in your onActivityResult method</p>\n\n<pre><code>@Override\npublic void onActivityResult (int requestCode, int resultCode, Intent data) {\n    super.onActivityResult(requestCode, resultCode, data);\n    //if ok user selected a file\n    if (resultCode == RESULT_OK) {\n        Uri sourceTreeUri = data.getData();\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.KITKAT) {\n            getContext().getContentResolver().takePersistableUriPermission(sourceTreeUri, Intent.FLAG_GRANT_READ_URI_PERMISSION | Intent.FLAG_GRANT_WRITE_URI_PERMISSION);\n        }\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1752522,"reputation":5575,"user_id":1601298,"accept_rate":44,"display_name":"Mike Hanafey"},"score":3,"creation_date":1582477948,"post_id":60075521,"comment_id":106782813,"body_markdown":"To persist access to the &#39;uri&#39; you still need: `getContentResolver().takePersistableUriPermission(uri, Intent.FLAG_GRANT_READ_URI_PERMISSION)` in `onActivityResult`","body":"To persist access to the &#39;uri&#39; you still need: <code>getContentResolver().takePersistableUriPermission(uri, Intent.FLAG_GRANT_READ_URI_PERMISSION)</code> in <code>onActivityResult</code>"}],"tags":[],"owner":{"account_id":1340078,"reputation":6396,"user_id":1281930,"accept_rate":82,"display_name":"guness"},"comment_count":1,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1666353695,"creation_date":1580904581,"answer_id":60075521,"question_id":46916992,"body_markdown":"a bit late but...\r\nWe need to provide persistent Uri permission. Instead of doing it on `onActivityResult` as oppose to prior answers, I prefer to add it as a flag:\r\n\r\n    val intent = Intent(Intent.ACTION_OPEN_DOCUMENT).also {\r\n        it.addCategory(Intent.CATEGORY_OPENABLE)\r\n        it.type = &quot;image/*&quot;\r\n        it.addFlags(Intent.FLAG_GRANT_PERSISTABLE_URI_PERMISSION)\r\n        it.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION)\r\n    }\r\n\r\n----\r\nAlso, a note worth mentioning is persistent permission is available only to `Intent.ACTION_OPEN_DOCUMENT` and **NOT** `Intent.ACTION_GET_CONTENT` whereas the latter one is like a one-time thing.","title":"Having trouble implementing ACTION_OPEN_DOCUMENT to my project","body":"<p>a bit late but...\nWe need to provide persistent Uri permission. Instead of doing it on <code>onActivityResult</code> as oppose to prior answers, I prefer to add it as a flag:</p>\n<pre><code>val intent = Intent(Intent.ACTION_OPEN_DOCUMENT).also {\n    it.addCategory(Intent.CATEGORY_OPENABLE)\n    it.type = &quot;image/*&quot;\n    it.addFlags(Intent.FLAG_GRANT_PERSISTABLE_URI_PERMISSION)\n    it.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION)\n}\n</code></pre>\n<hr />\n<p>Also, a note worth mentioning is persistent permission is available only to <code>Intent.ACTION_OPEN_DOCUMENT</code> and <strong>NOT</strong> <code>Intent.ACTION_GET_CONTENT</code> whereas the latter one is like a one-time thing.</p>\n"},{"comments":[{"owner":{"account_id":3571150,"reputation":26348,"user_id":2981429,"accept_rate":94,"display_name":"max pleaner"},"score":0,"creation_date":1675504836,"post_id":71199241,"comment_id":132946338,"body_markdown":"Getting `No persistable permission grants found` when I try this ...","body":"Getting <code>No persistable permission grants found</code> when I try this ..."},{"owner":{"account_id":3571150,"reputation":26348,"user_id":2981429,"accept_rate":94,"display_name":"max pleaner"},"score":0,"creation_date":1675504976,"post_id":71199241,"comment_id":132946358,"body_markdown":"I guess I have to use `ACTION_OPEN_DOCUMENT` as explained here .. https://stackoverflow.com/a/34665204/2981429","body":"I guess I have to use <code>ACTION_OPEN_DOCUMENT</code> as explained here .. <a href=\"https://stackoverflow.com/a/34665204/2981429\">stackoverflow.com/a/34665204/2981429</a>"}],"tags":[],"owner":{"account_id":4705887,"reputation":71,"user_id":3808056,"display_name":"Booo"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1645394880,"creation_date":1645394880,"answer_id":71199241,"question_id":46916992,"body_markdown":"The permission denial issue needs to be dealt with the first time you receive a URI. If you use **registerForActivityResult()** instead of **startActivityForResult()**\r\n```\r\n    // Kotlin\r\n    private val pickImage = registerForActivityResult(\r\n        ActivityResultContracts.StartActivityForResult()\r\n    ) { result: ActivityResult -&gt;\r\n        if (result.resultCode == Activity.RESULT_OK) {\r\n            //  you will get result here in result.data\r\n            val uri = result.data?.data!!\r\n            requireActivity().contentResolver.takePersistableUriPermission(\r\n                uri,\r\n                Intent.FLAG_GRANT_READ_URI_PERMISSION\r\n            )\r\n            // Do something else with the URI. E.g, save the URI as a string in the database\r\n        }\r\n    }\r\n```","title":"Having trouble implementing ACTION_OPEN_DOCUMENT to my project","body":"<p>The permission denial issue needs to be dealt with the first time you receive a URI. If you use <strong>registerForActivityResult()</strong> instead of <strong>startActivityForResult()</strong></p>\n<pre><code>    // Kotlin\n    private val pickImage = registerForActivityResult(\n        ActivityResultContracts.StartActivityForResult()\n    ) { result: ActivityResult -&gt;\n        if (result.resultCode == Activity.RESULT_OK) {\n            //  you will get result here in result.data\n            val uri = result.data?.data!!\n            requireActivity().contentResolver.takePersistableUriPermission(\n                uri,\n                Intent.FLAG_GRANT_READ_URI_PERMISSION\n            )\n            // Do something else with the URI. E.g, save the URI as a string in the database\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":11902191,"reputation":359,"user_id":8709842,"accept_rate":83,"display_name":"andrdoiddev"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25091,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":46917304,"answer_count":4,"score":16,"last_activity_date":1666353695,"creation_date":1508867485,"question_id":46916992,"body_markdown":"I have AddActivity, which lets you get the URI from either a picture you can take from the camera, or an image that you can select from the gallery. Then you can go to DetailsActivity to view the image. I have it working right now until you restart the device. After you restart and try to go to DetailsActivity for that image, this is the error:\r\n\r\n    Caused by: java.lang.SecurityException: Permission Denial: opening provider com.android.providers.media.MediaDocumentsProvider from ProcessRecord{3a5e86d 2915:jeremy.com.wineofmine/u0a321} (pid=2915, uid=10321) requires that you obtain access using ACTION_OPEN_DOCUMENT or related APIs\r\n\r\nI went to the [&quot;Open Files Using Storage Access Framework&quot;][1] Android Development page and read up on the Persist Permissions section. I&#39;m having trouble applying it to my project though.\r\n\r\nI think the main thing I don&#39;t understand is that it looks like you need to call an intent (in my case inside the DetailsActivity), but I don&#39;t even have an intent there. \r\n\r\nHere is the intent that lets you pick the gallery image. This is in AddActivity:\r\n\r\n    Intent intentGallery = new Intent(Intent.ACTION_OPEN_DOCUMENT);\r\n                intentGallery.addCategory(Intent.CATEGORY_OPENABLE);\r\n                intentGallery.setType(&quot;image/*&quot;);\r\n                intentGallery.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\r\n                intentGallery.addFlags(Intent.FLAG_GRANT_WRITE_URI_PERMISSION);\r\n                startActivityForResult(intentGallery, SELECT_IMAGE);\r\n\r\nIn the DetailsActivity, this is where it actually crashes:\r\n\r\n    imageURI = Uri.parse(cursor.getString(cursor.getColumnIndexOrThrow(WineContract.WineEntry.COLUMN_WINE_IMAGE)));\r\n    \r\n    bitmap = null;\r\n        try {\r\n            //If the cursor does not have anything in the image column, set the image to null, with a height so the textviews look decent\r\n            if (cursor.isNull(cursor.getColumnIndexOrThrow(WineContract.WineEntry.COLUMN_WINE_IMAGE))){\r\n                mFullImage.setImageBitmap(null);\r\n                mFullImage.setMaxHeight(300);\r\n            }else{\r\n                //remake the bitmap from the URI in the image column\r\n          //********This next line is where the program crashes**********\r\n                bitmap = MediaStore.Images.Media.getBitmap(this.getContentResolver(), imageURI);\r\n                mFullImage.setImageBitmap(bitmap);\r\n\r\n            }\r\n\r\n\r\n  [1]: https://developer.android.com/guide/topics/providers/document-provider.html\r\n\r\nCould I get some help with figuring out how to apply this to my project?","title":"Having trouble implementing ACTION_OPEN_DOCUMENT to my project","body":"<p>I have AddActivity, which lets you get the URI from either a picture you can take from the camera, or an image that you can select from the gallery. Then you can go to DetailsActivity to view the image. I have it working right now until you restart the device. After you restart and try to go to DetailsActivity for that image, this is the error:</p>\n\n<pre><code>Caused by: java.lang.SecurityException: Permission Denial: opening provider com.android.providers.media.MediaDocumentsProvider from ProcessRecord{3a5e86d 2915:jeremy.com.wineofmine/u0a321} (pid=2915, uid=10321) requires that you obtain access using ACTION_OPEN_DOCUMENT or related APIs\n</code></pre>\n\n<p>I went to the <a href=\"https://developer.android.com/guide/topics/providers/document-provider.html\" rel=\"noreferrer\">\"Open Files Using Storage Access Framework\"</a> Android Development page and read up on the Persist Permissions section. I'm having trouble applying it to my project though.</p>\n\n<p>I think the main thing I don't understand is that it looks like you need to call an intent (in my case inside the DetailsActivity), but I don't even have an intent there. </p>\n\n<p>Here is the intent that lets you pick the gallery image. This is in AddActivity:</p>\n\n<pre><code>Intent intentGallery = new Intent(Intent.ACTION_OPEN_DOCUMENT);\n            intentGallery.addCategory(Intent.CATEGORY_OPENABLE);\n            intentGallery.setType(\"image/*\");\n            intentGallery.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\n            intentGallery.addFlags(Intent.FLAG_GRANT_WRITE_URI_PERMISSION);\n            startActivityForResult(intentGallery, SELECT_IMAGE);\n</code></pre>\n\n<p>In the DetailsActivity, this is where it actually crashes:</p>\n\n<pre><code>imageURI = Uri.parse(cursor.getString(cursor.getColumnIndexOrThrow(WineContract.WineEntry.COLUMN_WINE_IMAGE)));\n\nbitmap = null;\n    try {\n        //If the cursor does not have anything in the image column, set the image to null, with a height so the textviews look decent\n        if (cursor.isNull(cursor.getColumnIndexOrThrow(WineContract.WineEntry.COLUMN_WINE_IMAGE))){\n            mFullImage.setImageBitmap(null);\n            mFullImage.setMaxHeight(300);\n        }else{\n            //remake the bitmap from the URI in the image column\n      //********This next line is where the program crashes**********\n            bitmap = MediaStore.Images.Media.getBitmap(this.getContentResolver(), imageURI);\n            mFullImage.setImageBitmap(bitmap);\n\n        }\n</code></pre>\n\n<p>Could I get some help with figuring out how to apply this to my project?</p>\n"},{"tags":["java","spring","spring-boot","apache-poi"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":1,"creation_date":1666350411,"post_id":74152598,"comment_id":130921779,"body_markdown":"`row = sheet.createRow(second);` you re-create the row for every column. You either want it for every `ExplosureDto` or for every `ChildExplosure`","body":"<code>row = sheet.createRow(second);</code> you re-create the row for every column. You either want it for every <code>ExplosureDto</code> or for every <code>ChildExplosure</code>"},{"owner":{"account_id":20661616,"reputation":147,"user_id":15169462,"display_name":"Alexander"},"score":0,"creation_date":1666351677,"post_id":74152598,"comment_id":130922218,"body_markdown":"@Alexander For every ChildExplosure","body":"@Alexander For every ChildExplosure"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1666352674,"post_id":74152598,"comment_id":130922487,"body_markdown":"Then move it one line up and you should be good","body":"Then move it one line up and you should be good"},{"owner":{"account_id":20661616,"reputation":147,"user_id":15169462,"display_name":"Alexander"},"score":0,"creation_date":1666427658,"post_id":74152598,"comment_id":130938172,"body_markdown":"@XtremeBaumer I tried different options, it doesn&#39;t work","body":"@XtremeBaumer I tried different options, it doesn&#39;t work"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1666594308,"post_id":74152598,"comment_id":130965299,"body_markdown":"&quot;Doesn&#39;t work&quot; is too broad. Also `Cell cell1 = row.createCell(second);` -&gt; you don&#39;t iterate the columns. You need a counter for the row number and one for the columns. Column counter must be reset whenever you create a new row","body":"&quot;Doesn&#39;t work&quot; is too broad. Also <code>Cell cell1 = row.createCell(second);</code> -&gt; you don&#39;t iterate the columns. You need a counter for the row number and one for the columns. Column counter must be reset whenever you create a new row"},{"owner":{"account_id":20661616,"reputation":147,"user_id":15169462,"display_name":"Alexander"},"score":0,"creation_date":1666600601,"post_id":74152598,"comment_id":130967109,"body_markdown":"@XtremeBaumer Thanks for the answer!\nCan you write a code so that I accept it as an answer to my question?","body":"@XtremeBaumer Thanks for the answer! Can you write a code so that I accept it as an answer to my question?"}],"owner":{"account_id":20661616,"reputation":147,"user_id":15169462,"display_name":"Alexander"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":236,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1666353538,"creation_date":1666349653,"question_id":74152598,"body_markdown":"I have a method that accepts dynamic data and saves it to an excel file:\r\n\r\n    private void saveExcel(List&lt;ExplosureDto&gt; list, List&lt;String&gt; columns, HttpServletResponse response) throws IOException {\r\n    \r\n                        XSSFWorkbook workbook = new XSSFWorkbook();\r\n                        XSSFSheet sheet = workbook.createSheet(&quot;Reports&quot;);\r\n                        XSSFRow row = sheet.createRow(0);\r\n    \r\n                        List&lt;Object&gt; namesForRowZero = new ArrayList&lt;&gt;(columns);\r\n                       // Map&lt;XSSFCell, Integer&gt; namesForRowZero1 = new HashMap&lt;&gt;();\r\n                        for (int i = 0; i &lt; namesForRowZero.size(); i++) {\r\n                            Cell cell = row.createCell(i);\r\n                            cell.setCellValue(String.valueOf(namesForRowZero.get(i)));\r\n                            cell.setCellStyle(excelStylesDtoService.greenColor(workbook));\r\n    \r\n                            namesForRowZero1.put(sheet.getRow(0).getCell(i), i);\r\n                        }\r\n    \r\n                            int second = sheet.getLastRowNum() + 1;\r\n    \r\n                            for (ExplosureDto dto : list) {\r\n                                for (ChildExplosure childExplosure : dto.getChildExplosures()) {\r\n                                   \r\n                                        row = sheet.createRow(second);\r\n                                        Cell cell1 = row.createCell(second);\r\n                                        BigDecimal amount = childExplosure.getAmount();\r\n                                        sheet.setColumnWidth(second, 20 * 256);\r\n                                        cell1.setCellValue(amount.doubleValue());\r\n                                        cell1.setCellStyle(excelStylesDtoService.styleBorder(workbook));\r\n                                            second++;\r\n                                        }\r\n                                }\r\n                            }\r\n                        String report = &quot;C:/download/Report.xlsx&quot;;\r\n                        FileOutputStream outputStream = new FileOutputStream(report);\r\n                        workbook.write(outputStream);\r\n                        workbook.close();\r\n    \r\n                        outputStream.flush();\r\n                        outputStream.close();\r\n        }\r\n    }\r\n\r\n\r\nThe column names are the dates that the user enters.\r\nThese names (dates) I get correctly.\r\nBut the sums themselves come out like this:\r\n\r\n       2022-01  |     2022-02    |   2022-03    |   2022-04    |   2022-05   |\r\n    ------------+----------------+--------------+--------------+-------------+\r\n                |   334008,0972  |              |              |             |\r\n                |                |  334008,0972 |              |             |\r\n                |                |              |  334008,0972 |             |\r\n                |                |              |              | 334008,0972 |\r\n                |                |              |              |             |  334008,0972\r\n\r\n     \r\nHowever, the question is how to tie these dates to the amounts that refer to them.\r\nOf course it should look like this:\r\n\r\n\r\n       2022-01  |     2022-02    |   2022-03    |   2022-04    |   2022-05   |\r\n    ------------+----------------+--------------+--------------+-------------+\r\n                |                | 334008,0972  | 334008,0972  | 334008,0972 |\r\n                |                |  334008,0972 | 334008,0972  |             |\r\n    334008,0972 | 334008,0972    | 334008,0972  |  334008,0972 |             |\r\n                | 334008,0972    |              |              | 334008,0972 |\r\n                |                |              |              |             |  \r\n\r\n\r\nI had an idea to do it via Map (I commented out this line in the code). But I can&#39;t do it right","title":"Apache.poi save to Excel. Associate data with column names","body":"<p>I have a method that accepts dynamic data and saves it to an excel file:</p>\n<pre><code>private void saveExcel(List&lt;ExplosureDto&gt; list, List&lt;String&gt; columns, HttpServletResponse response) throws IOException {\n\n                    XSSFWorkbook workbook = new XSSFWorkbook();\n                    XSSFSheet sheet = workbook.createSheet(&quot;Reports&quot;);\n                    XSSFRow row = sheet.createRow(0);\n\n                    List&lt;Object&gt; namesForRowZero = new ArrayList&lt;&gt;(columns);\n                   // Map&lt;XSSFCell, Integer&gt; namesForRowZero1 = new HashMap&lt;&gt;();\n                    for (int i = 0; i &lt; namesForRowZero.size(); i++) {\n                        Cell cell = row.createCell(i);\n                        cell.setCellValue(String.valueOf(namesForRowZero.get(i)));\n                        cell.setCellStyle(excelStylesDtoService.greenColor(workbook));\n\n                        namesForRowZero1.put(sheet.getRow(0).getCell(i), i);\n                    }\n\n                        int second = sheet.getLastRowNum() + 1;\n\n                        for (ExplosureDto dto : list) {\n                            for (ChildExplosure childExplosure : dto.getChildExplosures()) {\n                               \n                                    row = sheet.createRow(second);\n                                    Cell cell1 = row.createCell(second);\n                                    BigDecimal amount = childExplosure.getAmount();\n                                    sheet.setColumnWidth(second, 20 * 256);\n                                    cell1.setCellValue(amount.doubleValue());\n                                    cell1.setCellStyle(excelStylesDtoService.styleBorder(workbook));\n                                        second++;\n                                    }\n                            }\n                        }\n                    String report = &quot;C:/download/Report.xlsx&quot;;\n                    FileOutputStream outputStream = new FileOutputStream(report);\n                    workbook.write(outputStream);\n                    workbook.close();\n\n                    outputStream.flush();\n                    outputStream.close();\n    }\n}\n</code></pre>\n<p>The column names are the dates that the user enters.\nThese names (dates) I get correctly.\nBut the sums themselves come out like this:</p>\n<pre><code>   2022-01  |     2022-02    |   2022-03    |   2022-04    |   2022-05   |\n------------+----------------+--------------+--------------+-------------+\n            |   334008,0972  |              |              |             |\n            |                |  334008,0972 |              |             |\n            |                |              |  334008,0972 |             |\n            |                |              |              | 334008,0972 |\n            |                |              |              |             |  334008,0972\n\n \n</code></pre>\n<p>However, the question is how to tie these dates to the amounts that refer to them.\nOf course it should look like this:</p>\n<pre><code>   2022-01  |     2022-02    |   2022-03    |   2022-04    |   2022-05   |\n------------+----------------+--------------+--------------+-------------+\n            |                | 334008,0972  | 334008,0972  | 334008,0972 |\n            |                |  334008,0972 | 334008,0972  |             |\n334008,0972 | 334008,0972    | 334008,0972  |  334008,0972 |             |\n            | 334008,0972    |              |              | 334008,0972 |\n            |                |              |              |             |  \n</code></pre>\n<p>I had an idea to do it via Map (I commented out this line in the code). But I can't do it right</p>\n"},{"tags":["java","maven","jenkins","jenkins-pipeline"],"answers":[{"comments":[{"owner":{"account_id":26671785,"reputation":354,"user_id":20283130,"display_name":"MJG"},"score":0,"creation_date":1666353737,"post_id":74153269,"comment_id":130922819,"body_markdown":"Hint: the problem is in &#39;prerequisits&#39;, when you assign &#39;export JAVA_HOME=$PATH&#39;","body":"Hint: the problem is in &#39;prerequisits&#39;, when you assign &#39;export JAVA_HOME=$PATH&#39;"}],"tags":[],"owner":{"account_id":26671785,"reputation":354,"user_id":20283130,"display_name":"MJG"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666353459,"creation_date":1666353459,"answer_id":74153269,"question_id":74151354,"body_markdown":"To help Maven to find Java, you should change the environment accordingly:\r\n\r\n    export JAVA_HOME=/home/jenkins/tools/hudson.model.JDK/OpenJDK18/openjdk18\r\n\r\n**NOT**\r\n\r\n    export JAVA_HOME=/home/jenkins/tools/hudson.model.JDK/OpenJDK18/openjdk18/bin\r\n\r\n\r\n","title":"Multiple Java version issue in Jenkins 2.319.1","body":"<p>To help Maven to find Java, you should change the environment accordingly:</p>\n<pre><code>export JAVA_HOME=/home/jenkins/tools/hudson.model.JDK/OpenJDK18/openjdk18\n</code></pre>\n<p><strong>NOT</strong></p>\n<pre><code>export JAVA_HOME=/home/jenkins/tools/hudson.model.JDK/OpenJDK18/openjdk18/bin\n</code></pre>\n"}],"owner":{"account_id":22617162,"reputation":1,"user_id":16796537,"display_name":"Raman Sawhney"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":431,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666353459,"creation_date":1666343400,"question_id":74151354,"body_markdown":"We have instaled jenkins via helm charts and we have used kubernetes dynamic agents(jnlp-agents) and image we are using for agents is (jenkins/jnlp-agent-python).\r\nNow the problem is i want to run a maven project which has java version 17 requirement but my jenkins has java version 11 installed.\r\n\r\nSO i tried to build a pipeline on which it download the openjdk18 on dynamic node(agent) for running the pipeline.\r\n```\r\npipeline {\t\t\t\r\nagent any\r\ntools {\r\n    jdk &#39;OpenJDK18&#39;\r\n    maven &#39;maven-3.8.5&#39;\r\n}\r\nstages\t{\t\r\nstage(&quot;prerequisits&quot;) {\r\n    steps {\r\n        sh &#39;&#39;&#39;\r\n        env | grep -e PATH -e JAVA_HOME\r\n        export JAVA_HOME=$PATH\r\n        java -version\r\n        &#39;&#39;&#39;\r\n    }\r\n}\r\nstage(&quot;Checkout&quot;)\t{\t\r\n\tsteps\t{\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\tgit\t(\r\n\t\t    url: &#39;git@github.ibm.com:watson/cloud-scheduling-api.git&#39;,\t\r\n\t\t    credentialsId: &#39;cloud-scheduling-api-sonarqube-ssh-key&#39;\r\n\t\t    )\r\n\t\t    }\t\t\t\t\t\t\t\t\t\t\r\n\t                }\t\r\nstage (&quot;build&quot;) {\r\n     steps {\r\n         echo &#39;This is the build stage&#39;\r\n              sh &#39;mvn clean install -DskipTests&#39;\r\n\t          \r\n\t            }\r\n\t                   \r\n\t\t       }\r\n}\r\n}\r\n```\r\nAnd its unable to find the JAVA_HOME\r\n\r\n```\r\nStarted by user Jenkins Admin\r\n[Pipeline] Start of Pipeline\r\n[Pipeline] node\r\nStill waiting to schedule task\r\nWaiting for next available executor\r\nAgent default-wxtw0 is provisioned from template default\r\n---\r\napiVersion: &quot;v1&quot;\r\nkind: &quot;Pod&quot;\r\nmetadata:\r\n  labels:\r\n    jenkins/jenkins-jenkins-agent: &quot;true&quot;\r\n    jenkins/label-digest: &quot;500b4f18aee87616849e4f4c2435020898e34aa0&quot;\r\n    jenkins/label: &quot;jenkins-jenkins-agent&quot;\r\n  name: &quot;default-wxtw0&quot;\r\nspec:\r\n  containers:\r\n  - args:\r\n    - &quot;********&quot;\r\n    - &quot;default-wxtw0&quot;\r\n    env:\r\n    - name: &quot;JENKINS_SECRET&quot;\r\n      value: &quot;********&quot;\r\n    - name: &quot;JENKINS_TUNNEL&quot;\r\n      value: &quot;jenkins-agent.jenkins.svc.cluster.local:50000&quot;\r\n    - name: &quot;JENKINS_AGENT_NAME&quot;\r\n      value: &quot;default-wxtw0&quot;\r\n    - name: &quot;JENKINS_NAME&quot;\r\n      value: &quot;default-wxtw0&quot;\r\n    - name: &quot;JENKINS_AGENT_WORKDIR&quot;\r\n      value: &quot;/home/jenkins&quot;\r\n    - name: &quot;JENKINS_URL&quot;\r\n      value: &quot;http://jenkins.jenkins.svc.cluster.local:8080/&quot;\r\n    image: &quot;us.icr.io/watsonmedia-wlc/jnlp-agent-python:latest&quot;\r\n    imagePullPolicy: &quot;Always&quot;\r\n    name: &quot;jnlp&quot;\r\n    resources:\r\n      limits:\r\n        memory: &quot;2048Mi&quot;\r\n        cpu: &quot;512m&quot;\r\n      requests:\r\n        memory: &quot;1024Mi&quot;\r\n        cpu: &quot;512m&quot;\r\n    securityContext:\r\n      privileged: false\r\n      runAsUser: 1000\r\n    tty: false\r\n    volumeMounts:\r\n    - mountPath: &quot;/home/jenkins&quot;\r\n      name: &quot;workspace-volume&quot;\r\n      readOnly: false\r\n    workingDir: &quot;/home/jenkins&quot;\r\n  imagePullSecrets:\r\n  - name: &quot;bx-registry&quot;\r\n  nodeSelector:\r\n    kubernetes.io/os: &quot;linux&quot;\r\n  restartPolicy: &quot;Never&quot;\r\n  serviceAccountName: &quot;default&quot;\r\n  volumes:\r\n  - emptyDir:\r\n      medium: &quot;&quot;\r\n    name: &quot;workspace-volume&quot;\r\n\r\nRunning on default-wxtw0 in /home/jenkins/workspace/cloud-api-test-pipeline\r\n[Pipeline] {\r\n[Pipeline] stage\r\n[Pipeline] { (Declarative: Tool Install)\r\n[Pipeline] tool\r\nUnpacking https://download.java.net/java/GA/jdk18.0.2.1/db379da656dc47308e138f21b33976fa/1/GPL/openjdk-18.0.2.1_linux-x64_bin.tar.gz to /home/jenkins/tools/hudson.model.JDK/OpenJDK18 on default-wxtw0\r\n[Pipeline] envVarsForTool\r\n[Pipeline] tool\r\nUnpacking https://repo.maven.apache.org/maven2/org/apache/maven/apache-maven/3.8.5/apache-maven-3.8.5-bin.zip to /home/jenkins/tools/hudson.tasks.Maven_MavenInstallation/maven-3.8.5 on default-wxtw0\r\n[Pipeline] envVarsForTool\r\n[Pipeline] }\r\n[Pipeline] // stage\r\n[Pipeline] withEnv\r\n[Pipeline] {\r\n[Pipeline] stage\r\n[Pipeline] { (prerequisits)\r\n[Pipeline] tool\r\n[Pipeline] envVarsForTool\r\n[Pipeline] tool\r\n[Pipeline] envVarsForTool\r\n[Pipeline] withEnv\r\n[Pipeline] {\r\n[Pipeline] sh\r\n+ grep -e PATH -e JAVA_HOME\r\n+ env\r\nPATH=/home/jenkins/tools/hudson.model.JDK/OpenJDK18/openjdk18/bin:/home/jenkins/tools/hudson.tasks.Maven_MavenInstallation/maven-3.8.5/bin:/home/jenkins/tools/hudson.model.JDK/OpenJDK18/openjdk18/bin:/home/jenkins/tools/hudson.tasks.Maven_MavenInstallation/maven-3.8.5/bin:/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\r\nJAVA_HOME=/home/jenkins/tools/hudson.model.JDK/OpenJDK18/openjdk18\r\n+ export JAVA_HOME=/home/jenkins/tools/hudson.model.JDK/OpenJDK18/openjdk18/bin:/home/jenkins/tools/hudson.tasks.Maven_MavenInstallation/maven-3.8.5/bin:/home/jenkins/tools/hudson.model.JDK/OpenJDK18/openjdk18/bin:/home/jenkins/tools/hudson.tasks.Maven_MavenInstallation/maven-3.8.5/bin:/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\r\n+ java -version\r\nopenjdk version &quot;11.0.13&quot; 2021-10-19\r\nOpenJDK Runtime Environment Temurin-11.0.13+8 (build 11.0.13+8)\r\nOpenJDK 64-Bit Server VM Temurin-11.0.13+8 (build 11.0.13+8, mixed mode)\r\n[Pipeline] }\r\n[Pipeline] // withEnv\r\n[Pipeline] }\r\n[Pipeline] // stage\r\n[Pipeline] stage\r\n[Pipeline] { (Checkout)\r\n[Pipeline] tool\r\n[Pipeline] envVarsForTool\r\n[Pipeline] tool\r\n[Pipeline] envVarsForTool\r\n[Pipeline] withEnv\r\n[Pipeline] {\r\n[Pipeline] git\r\nThe recommended git tool is: NONE\r\nusing credential cloud-scheduling-api-sonarqube-ssh-key\r\nCloning the remote Git repository\r\nCloning repository git@github.ibm.com:watson/cloud-scheduling-api.git\r\n &gt; git init /home/jenkins/workspace/cloud-api-test-pipeline # timeout=10\r\nFetching upstream changes from git@github.ibm.com:watson/cloud-scheduling-api.git\r\n &gt; git --version # timeout=10\r\n &gt; git --version # &#39;git version 2.30.2&#39;\r\nusing GIT_SSH to set credentials cloud-scheduling-api-sonarqube-ssh-key-for-repo\r\n &gt; git fetch --tags --force --progress -- git@github.ibm.com:watson/cloud-scheduling-api.git +refs/heads/*:refs/remotes/origin/* # timeout=10\r\nAvoid second fetch\r\nChecking out Revision 2c0d2a25013835fe0579c3879b918e57a7d3aa70 (refs/remotes/origin/master)\r\n &gt; git config remote.origin.url git@github.ibm.com:watson/cloud-scheduling-api.git # timeout=10\r\n &gt; git config --add remote.origin.fetch +refs/heads/*:refs/remotes/origin/* # timeout=10\r\n &gt; git rev-parse refs/remotes/origin/master^{commit} # timeout=10\r\n &gt; git config core.sparsecheckout # timeout=10\r\n &gt; git checkout -f 2c0d2a25013835fe0579c3879b918e57a7d3aa70 # timeout=10\r\n &gt; git branch -a -v --no-abbrev # timeout=10\r\n &gt; git checkout -b master 2c0d2a25013835fe0579c3879b918e57a7d3aa70 # timeout=10\r\nCommit message: &quot;Merge pull request #43 from watsonmedia-wlc/wlc-1508&quot;\r\n &gt; git rev-list --no-walk 2c0d2a25013835fe0579c3879b918e57a7d3aa70 # timeout=10\r\n[Pipeline] }\r\n[Pipeline] // withEnv\r\n[Pipeline] }\r\n[Pipeline] // stage\r\n[Pipeline] stage\r\n[Pipeline] { (build)\r\n[Pipeline] tool\r\n[Pipeline] envVarsForTool\r\n[Pipeline] tool\r\n[Pipeline] envVarsForTool\r\n[Pipeline] withEnv\r\n[Pipeline] {\r\n[Pipeline] echo\r\nThis is the build stage\r\n[Pipeline] sh\r\n+ env\r\n+ grep -e PATH -e JAVA_HOME\r\nPATH=/home/jenkins/tools/hudson.model.JDK/OpenJDK18/openjdk18/bin:/home/jenkins/tools/hudson.tasks.Maven_MavenInstallation/maven-3.8.5/bin:/home/jenkins/tools/hudson.model.JDK/OpenJDK18/openjdk18/bin:/home/jenkins/tools/hudson.tasks.Maven_MavenInstallation/maven-3.8.5/bin:/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\r\nJAVA_HOME=/home/jenkins/tools/hudson.model.JDK/OpenJDK18/openjdk18\r\n+ export JAVA_HOME=/home/jenkins/tools/hudson.model.JDK/OpenJDK18/openjdk18/bin:/home/jenkins/tools/hudson.tasks.Maven_MavenInstallation/maven-3.8.5/bin:/home/jenkins/tools/hudson.model.JDK/OpenJDK18/openjdk18/bin:/home/jenkins/tools/hudson.tasks.Maven_MavenInstallation/maven-3.8.5/bin:/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\r\n+ java -version\r\nopenjdk version &quot;11.0.13&quot; 2021-10-19\r\nOpenJDK Runtime Environment Temurin-11.0.13+8 (build 11.0.13+8)\r\nOpenJDK 64-Bit Server VM Temurin-11.0.13+8 (build 11.0.13+8, mixed mode)\r\n[Pipeline] sh\r\n+ mvn clean install -DskipTests\r\nThe JAVA_HOME environment variable is not defined correctly,\r\nthis environment variable is needed to run this program.\r\n[Pipeline] }\r\n[Pipeline] // withEnv\r\n[Pipeline] }\r\n[Pipeline] // stage\r\n[Pipeline] }\r\n[Pipeline] // withEnv\r\n[Pipeline] }\r\n[Pipeline] // node\r\n[Pipeline] End of Pipeline\r\nERROR: script returned exit code 1\r\nFinished: FAILURE\r\n```\r\n","title":"Multiple Java version issue in Jenkins 2.319.1","body":"<p>We have instaled jenkins via helm charts and we have used kubernetes dynamic agents(jnlp-agents) and image we are using for agents is (jenkins/jnlp-agent-python).\nNow the problem is i want to run a maven project which has java version 17 requirement but my jenkins has java version 11 installed.</p>\n<p>SO i tried to build a pipeline on which it download the openjdk18 on dynamic node(agent) for running the pipeline.</p>\n<pre><code>pipeline {          \nagent any\ntools {\n    jdk 'OpenJDK18'\n    maven 'maven-3.8.5'\n}\nstages  {   \nstage(&quot;prerequisits&quot;) {\n    steps {\n        sh '''\n        env | grep -e PATH -e JAVA_HOME\n        export JAVA_HOME=$PATH\n        java -version\n        '''\n    }\n}\nstage(&quot;Checkout&quot;)   {   \n    steps   {                                                                               \n        git (\n            url: 'git@github.ibm.com:watson/cloud-scheduling-api.git',  \n            credentialsId: 'cloud-scheduling-api-sonarqube-ssh-key'\n            )\n            }                                       \n                    }   \nstage (&quot;build&quot;) {\n     steps {\n         echo 'This is the build stage'\n              sh 'mvn clean install -DskipTests'\n              \n                }\n                       \n               }\n}\n}\n</code></pre>\n<p>And its unable to find the JAVA_HOME</p>\n<pre><code>Started by user Jenkins Admin\n[Pipeline] Start of Pipeline\n[Pipeline] node\nStill waiting to schedule task\nWaiting for next available executor\nAgent default-wxtw0 is provisioned from template default\n---\napiVersion: &quot;v1&quot;\nkind: &quot;Pod&quot;\nmetadata:\n  labels:\n    jenkins/jenkins-jenkins-agent: &quot;true&quot;\n    jenkins/label-digest: &quot;500b4f18aee87616849e4f4c2435020898e34aa0&quot;\n    jenkins/label: &quot;jenkins-jenkins-agent&quot;\n  name: &quot;default-wxtw0&quot;\nspec:\n  containers:\n  - args:\n    - &quot;********&quot;\n    - &quot;default-wxtw0&quot;\n    env:\n    - name: &quot;JENKINS_SECRET&quot;\n      value: &quot;********&quot;\n    - name: &quot;JENKINS_TUNNEL&quot;\n      value: &quot;jenkins-agent.jenkins.svc.cluster.local:50000&quot;\n    - name: &quot;JENKINS_AGENT_NAME&quot;\n      value: &quot;default-wxtw0&quot;\n    - name: &quot;JENKINS_NAME&quot;\n      value: &quot;default-wxtw0&quot;\n    - name: &quot;JENKINS_AGENT_WORKDIR&quot;\n      value: &quot;/home/jenkins&quot;\n    - name: &quot;JENKINS_URL&quot;\n      value: &quot;http://jenkins.jenkins.svc.cluster.local:8080/&quot;\n    image: &quot;us.icr.io/watsonmedia-wlc/jnlp-agent-python:latest&quot;\n    imagePullPolicy: &quot;Always&quot;\n    name: &quot;jnlp&quot;\n    resources:\n      limits:\n        memory: &quot;2048Mi&quot;\n        cpu: &quot;512m&quot;\n      requests:\n        memory: &quot;1024Mi&quot;\n        cpu: &quot;512m&quot;\n    securityContext:\n      privileged: false\n      runAsUser: 1000\n    tty: false\n    volumeMounts:\n    - mountPath: &quot;/home/jenkins&quot;\n      name: &quot;workspace-volume&quot;\n      readOnly: false\n    workingDir: &quot;/home/jenkins&quot;\n  imagePullSecrets:\n  - name: &quot;bx-registry&quot;\n  nodeSelector:\n    kubernetes.io/os: &quot;linux&quot;\n  restartPolicy: &quot;Never&quot;\n  serviceAccountName: &quot;default&quot;\n  volumes:\n  - emptyDir:\n      medium: &quot;&quot;\n    name: &quot;workspace-volume&quot;\n\nRunning on default-wxtw0 in /home/jenkins/workspace/cloud-api-test-pipeline\n[Pipeline] {\n[Pipeline] stage\n[Pipeline] { (Declarative: Tool Install)\n[Pipeline] tool\nUnpacking https://download.java.net/java/GA/jdk18.0.2.1/db379da656dc47308e138f21b33976fa/1/GPL/openjdk-18.0.2.1_linux-x64_bin.tar.gz to /home/jenkins/tools/hudson.model.JDK/OpenJDK18 on default-wxtw0\n[Pipeline] envVarsForTool\n[Pipeline] tool\nUnpacking https://repo.maven.apache.org/maven2/org/apache/maven/apache-maven/3.8.5/apache-maven-3.8.5-bin.zip to /home/jenkins/tools/hudson.tasks.Maven_MavenInstallation/maven-3.8.5 on default-wxtw0\n[Pipeline] envVarsForTool\n[Pipeline] }\n[Pipeline] // stage\n[Pipeline] withEnv\n[Pipeline] {\n[Pipeline] stage\n[Pipeline] { (prerequisits)\n[Pipeline] tool\n[Pipeline] envVarsForTool\n[Pipeline] tool\n[Pipeline] envVarsForTool\n[Pipeline] withEnv\n[Pipeline] {\n[Pipeline] sh\n+ grep -e PATH -e JAVA_HOME\n+ env\nPATH=/home/jenkins/tools/hudson.model.JDK/OpenJDK18/openjdk18/bin:/home/jenkins/tools/hudson.tasks.Maven_MavenInstallation/maven-3.8.5/bin:/home/jenkins/tools/hudson.model.JDK/OpenJDK18/openjdk18/bin:/home/jenkins/tools/hudson.tasks.Maven_MavenInstallation/maven-3.8.5/bin:/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\nJAVA_HOME=/home/jenkins/tools/hudson.model.JDK/OpenJDK18/openjdk18\n+ export JAVA_HOME=/home/jenkins/tools/hudson.model.JDK/OpenJDK18/openjdk18/bin:/home/jenkins/tools/hudson.tasks.Maven_MavenInstallation/maven-3.8.5/bin:/home/jenkins/tools/hudson.model.JDK/OpenJDK18/openjdk18/bin:/home/jenkins/tools/hudson.tasks.Maven_MavenInstallation/maven-3.8.5/bin:/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\n+ java -version\nopenjdk version &quot;11.0.13&quot; 2021-10-19\nOpenJDK Runtime Environment Temurin-11.0.13+8 (build 11.0.13+8)\nOpenJDK 64-Bit Server VM Temurin-11.0.13+8 (build 11.0.13+8, mixed mode)\n[Pipeline] }\n[Pipeline] // withEnv\n[Pipeline] }\n[Pipeline] // stage\n[Pipeline] stage\n[Pipeline] { (Checkout)\n[Pipeline] tool\n[Pipeline] envVarsForTool\n[Pipeline] tool\n[Pipeline] envVarsForTool\n[Pipeline] withEnv\n[Pipeline] {\n[Pipeline] git\nThe recommended git tool is: NONE\nusing credential cloud-scheduling-api-sonarqube-ssh-key\nCloning the remote Git repository\nCloning repository git@github.ibm.com:watson/cloud-scheduling-api.git\n &gt; git init /home/jenkins/workspace/cloud-api-test-pipeline # timeout=10\nFetching upstream changes from git@github.ibm.com:watson/cloud-scheduling-api.git\n &gt; git --version # timeout=10\n &gt; git --version # 'git version 2.30.2'\nusing GIT_SSH to set credentials cloud-scheduling-api-sonarqube-ssh-key-for-repo\n &gt; git fetch --tags --force --progress -- git@github.ibm.com:watson/cloud-scheduling-api.git +refs/heads/*:refs/remotes/origin/* # timeout=10\nAvoid second fetch\nChecking out Revision 2c0d2a25013835fe0579c3879b918e57a7d3aa70 (refs/remotes/origin/master)\n &gt; git config remote.origin.url git@github.ibm.com:watson/cloud-scheduling-api.git # timeout=10\n &gt; git config --add remote.origin.fetch +refs/heads/*:refs/remotes/origin/* # timeout=10\n &gt; git rev-parse refs/remotes/origin/master^{commit} # timeout=10\n &gt; git config core.sparsecheckout # timeout=10\n &gt; git checkout -f 2c0d2a25013835fe0579c3879b918e57a7d3aa70 # timeout=10\n &gt; git branch -a -v --no-abbrev # timeout=10\n &gt; git checkout -b master 2c0d2a25013835fe0579c3879b918e57a7d3aa70 # timeout=10\nCommit message: &quot;Merge pull request #43 from watsonmedia-wlc/wlc-1508&quot;\n &gt; git rev-list --no-walk 2c0d2a25013835fe0579c3879b918e57a7d3aa70 # timeout=10\n[Pipeline] }\n[Pipeline] // withEnv\n[Pipeline] }\n[Pipeline] // stage\n[Pipeline] stage\n[Pipeline] { (build)\n[Pipeline] tool\n[Pipeline] envVarsForTool\n[Pipeline] tool\n[Pipeline] envVarsForTool\n[Pipeline] withEnv\n[Pipeline] {\n[Pipeline] echo\nThis is the build stage\n[Pipeline] sh\n+ env\n+ grep -e PATH -e JAVA_HOME\nPATH=/home/jenkins/tools/hudson.model.JDK/OpenJDK18/openjdk18/bin:/home/jenkins/tools/hudson.tasks.Maven_MavenInstallation/maven-3.8.5/bin:/home/jenkins/tools/hudson.model.JDK/OpenJDK18/openjdk18/bin:/home/jenkins/tools/hudson.tasks.Maven_MavenInstallation/maven-3.8.5/bin:/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\nJAVA_HOME=/home/jenkins/tools/hudson.model.JDK/OpenJDK18/openjdk18\n+ export JAVA_HOME=/home/jenkins/tools/hudson.model.JDK/OpenJDK18/openjdk18/bin:/home/jenkins/tools/hudson.tasks.Maven_MavenInstallation/maven-3.8.5/bin:/home/jenkins/tools/hudson.model.JDK/OpenJDK18/openjdk18/bin:/home/jenkins/tools/hudson.tasks.Maven_MavenInstallation/maven-3.8.5/bin:/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\n+ java -version\nopenjdk version &quot;11.0.13&quot; 2021-10-19\nOpenJDK Runtime Environment Temurin-11.0.13+8 (build 11.0.13+8)\nOpenJDK 64-Bit Server VM Temurin-11.0.13+8 (build 11.0.13+8, mixed mode)\n[Pipeline] sh\n+ mvn clean install -DskipTests\nThe JAVA_HOME environment variable is not defined correctly,\nthis environment variable is needed to run this program.\n[Pipeline] }\n[Pipeline] // withEnv\n[Pipeline] }\n[Pipeline] // stage\n[Pipeline] }\n[Pipeline] // withEnv\n[Pipeline] }\n[Pipeline] // node\n[Pipeline] End of Pipeline\nERROR: script returned exit code 1\nFinished: FAILURE\n</code></pre>\n"},{"tags":["java","spring","graphql-java","spring-graphql"],"answers":[{"tags":[],"owner":{"account_id":26482382,"reputation":239,"user_id":20121447,"display_name":"Julio C&#233;sar Estravis"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666353247,"creation_date":1666353247,"answer_id":74153220,"question_id":74144155,"body_markdown":"Yes, there is an alternative to avoid the N+1 problem in Spring for GraphQL. It&#39;s the @BatchMapping annotation:\r\n\r\nSuppose you have the following schema:\r\n\r\n    type Query {\r\n        artistas: [Artista]\r\n    }\r\n    \r\n    type Artista {\r\n        id: ID\r\n        apellido: String\r\n        estilo: String\r\n        obras:[Obra]\r\n    }\r\n    \r\n    type Obra{\r\n        artistaId: ID\r\n        titulo: String\r\n        imagen: String\r\n    }\r\n\r\nAnd the following @QueryMapping:\r\n\r\n    @QueryMapping\r\n    Flux&lt;Artista&gt; artistas(){\r\n    \treturn Flux.fromIterable(allArtistas);\r\n    }\r\n\r\nOur Artista DTO contains a List of Obra we may sometimes want, so it can cause us the N+1 problem:\r\n\r\n    record Artista (Long id, String apellido, String estilo, List&lt;Obra&gt; obras){}\r\n    record Obra (Long artistaId, String titulo, String imagen){}\r\n\r\nSo if you add an additional mapping method annotated with @BatchMapping, you tell the GraphQL engine to fetch that data using a DataLoader under the hood and keeping it at hand for each DB roundtrip, for example. \r\n\r\n    @BatchMapping(typeName = &quot;Artista&quot;)\r\n    Mono&lt;Map&lt;Artista, List&lt;Obra&gt;&gt;&gt; obras(List&lt;Artista&gt; artistas){\r\n    \tvar artistasIds = artistas.stream()\r\n    \t\t\t\t.map(Artista::id)\r\n    \t\t\t\t.toList();\r\n    \r\n    \tvar todasLasObras = obtenerObras(artistasIds);\r\n    \r\n    \treturn todasLasObras.collectList()\r\n    \t\t\t.map(obras -&gt; {\r\n    \t\t\t\tMap&lt;Long, List&lt;Obra&gt;&gt; obrasDeCadaArtistaId = obras.stream()\r\n    \t\t\t\t\t\t.collect(Collectors.groupingBy(Obra::artistaId));\r\n    \r\n    \t\t\t\treturn artistas.stream()\r\n    \t\t\t\t\t\t.collect(Collectors.toMap(\r\n    \t\t\t\t\t\t\t\tunArtista -&gt; unArtista, //K, el Artista\r\n    \t\t\t\t\t\t\t\tunArtista -&gt; obrasDeCadaArtistaId.get(Long.parseLong(unArtista.id().toString())))); //V, la lista de obras\r\n    \t\t\t});\r\n    }\r\n    private Flux&lt;Obra&gt; obtenerObras(List&lt;Long&gt; artistasIds) {\r\n    // ...your service-specific way of getting all the Obras from each artistaId...\r\n    }\r\n\r\nIf you throw some logs here and there you can check it only fetches the Obras once.\r\n\r\nHope it helps!","title":"Is there a spring for graphql alternative for netflix&#39;s @DGSDataloader and DGSData","body":"<p>Yes, there is an alternative to avoid the N+1 problem in Spring for GraphQL. It's the @BatchMapping annotation:</p>\n<p>Suppose you have the following schema:</p>\n<pre><code>type Query {\n    artistas: [Artista]\n}\n\ntype Artista {\n    id: ID\n    apellido: String\n    estilo: String\n    obras:[Obra]\n}\n\ntype Obra{\n    artistaId: ID\n    titulo: String\n    imagen: String\n}\n</code></pre>\n<p>And the following @QueryMapping:</p>\n<pre><code>@QueryMapping\nFlux&lt;Artista&gt; artistas(){\n    return Flux.fromIterable(allArtistas);\n}\n</code></pre>\n<p>Our Artista DTO contains a List of Obra we may sometimes want, so it can cause us the N+1 problem:</p>\n<pre><code>record Artista (Long id, String apellido, String estilo, List&lt;Obra&gt; obras){}\nrecord Obra (Long artistaId, String titulo, String imagen){}\n</code></pre>\n<p>So if you add an additional mapping method annotated with @BatchMapping, you tell the GraphQL engine to fetch that data using a DataLoader under the hood and keeping it at hand for each DB roundtrip, for example.</p>\n<pre><code>@BatchMapping(typeName = &quot;Artista&quot;)\nMono&lt;Map&lt;Artista, List&lt;Obra&gt;&gt;&gt; obras(List&lt;Artista&gt; artistas){\n    var artistasIds = artistas.stream()\n                .map(Artista::id)\n                .toList();\n\n    var todasLasObras = obtenerObras(artistasIds);\n\n    return todasLasObras.collectList()\n            .map(obras -&gt; {\n                Map&lt;Long, List&lt;Obra&gt;&gt; obrasDeCadaArtistaId = obras.stream()\n                        .collect(Collectors.groupingBy(Obra::artistaId));\n\n                return artistas.stream()\n                        .collect(Collectors.toMap(\n                                unArtista -&gt; unArtista, //K, el Artista\n                                unArtista -&gt; obrasDeCadaArtistaId.get(Long.parseLong(unArtista.id().toString())))); //V, la lista de obras\n            });\n}\nprivate Flux&lt;Obra&gt; obtenerObras(List&lt;Long&gt; artistasIds) {\n// ...your service-specific way of getting all the Obras from each artistaId...\n}\n</code></pre>\n<p>If you throw some logs here and there you can check it only fetches the Obras once.</p>\n<p>Hope it helps!</p>\n"}],"owner":{"account_id":11715873,"reputation":13,"user_id":8576408,"display_name":"Tariq"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":721,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74153220,"answer_count":1,"score":0,"last_activity_date":1666353247,"creation_date":1666287624,"question_id":74144155,"body_markdown":"Trying to migrate a Netflix DGS GraphQL and Neo4J project to now use Spring for GraphQL and Neo4J instead. Hit a roadblock when I wanted to avoid the N+1 problem.","title":"Is there a spring for graphql alternative for netflix&#39;s @DGSDataloader and DGSData","body":"<p>Trying to migrate a Netflix DGS GraphQL and Neo4J project to now use Spring for GraphQL and Neo4J instead. Hit a roadblock when I wanted to avoid the N+1 problem.</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":0,"creation_date":1666341185,"post_id":74150881,"comment_id":130918709,"body_markdown":"Remove the `^`.","body":"Remove the <code>^</code>."},{"owner":{"account_id":13226838,"reputation":175,"user_id":9551700,"display_name":"VladimirCoder84"},"score":0,"creation_date":1666341300,"post_id":74150881,"comment_id":130918764,"body_markdown":"I need to catch the white spaces only at beginning of string","body":"I need to catch the white spaces only at beginning of string"},{"owner":{"account_id":6426510,"reputation":17091,"user_id":5527985,"display_name":"bobble bubble"},"score":1,"creation_date":1666341565,"post_id":74150881,"comment_id":130918845,"body_markdown":"Fyi: `\\s` already contains `\\r` and `\\n` afaik :) Also it looks like [it works](https://regex101.com/r/LhCqgC/1). Maybe you forgot to escape backslashes in string. Try `&quot;^\\\\s*&quot;`","body":"Fyi: <code>\\s</code> already contains <code>\\r</code> and <code>\\n</code> afaik :) Also it looks like <a href=\"https://regex101.com/r/LhCqgC/1\" rel=\"nofollow noreferrer\">it works</a>. Maybe you forgot to escape backslashes in string. Try <code>&quot;^\\\\s*&quot;</code>"}],"answers":[{"comments":[{"owner":{"account_id":13226838,"reputation":175,"user_id":9551700,"display_name":"VladimirCoder84"},"score":1,"creation_date":1666341927,"post_id":74150946,"comment_id":130918977,"body_markdown":"seems not working","body":"seems not working"},{"owner":{"account_id":262968,"reputation":767160,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"score":0,"creation_date":1666342129,"post_id":74150946,"comment_id":130919051,"body_markdown":"Please try my updated answer","body":"Please try my updated answer"}],"tags":[],"owner":{"account_id":262968,"reputation":767160,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"comment_count":2,"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1666351627,"creation_date":1666341393,"answer_id":74150946,"question_id":74150881,"body_markdown":"You can use:\r\n\r\n```sh\r\nstring = string.replaceAll(&quot;(?m)^\\\\s+|\\\\h+$&quot;, &quot;&quot;);\r\n```\r\n\r\n[RegEx Demo][1]\r\n\r\n\r\n  [1]: https://regex101.com/r/uDYtDD/2\r\n\r\n**Breakdown:**\r\n\r\n- `(?m)`: Enable multiline mode\r\n- `^\\\\s+`: Match 1+ whitespaces (including line breaks) at start\r\n- `|`: OR\r\n- `\\\\h+$`: Match 1+ horizontal whitespaces before end\r\n","title":"Replace all whitespace at all beginning line and empty lines","body":"<p>You can use:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>string = string.replaceAll(&quot;(?m)^\\\\s+|\\\\h+$&quot;, &quot;&quot;);\n</code></pre>\n<p><a href=\"https://regex101.com/r/uDYtDD/2\" rel=\"nofollow noreferrer\">RegEx Demo</a></p>\n<p><strong>Breakdown:</strong></p>\n<ul>\n<li><code>(?m)</code>: Enable multiline mode</li>\n<li><code>^\\\\s+</code>: Match 1+ whitespaces (including line breaks) at start</li>\n<li><code>|</code>: OR</li>\n<li><code>\\\\h+$</code>: Match 1+ horizontal whitespaces before end</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":6426510,"reputation":17091,"user_id":5527985,"display_name":"bobble bubble"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666344330,"creation_date":1666342786,"answer_id":74151221,"question_id":74150881,"body_markdown":"Reasons why it&#39;s not working could be that:\r\n1. Backslash was not escaped\r\n2. Lack of [multiline flag][1], so [`^`][2] only matches start of the string and not start of each line.\r\n\r\nFurther to mention that [`\\s`][3] already contains `\\r` and `\\n`. You should be fine using (as a Java String)  \r\n\r\n    &quot;^\\\\s+&quot;\r\n\r\nSee [this demo at regex101][4] or [Java demo at tio.run][5] (compile with `MULTILINE` or use `(?m)` flag)  \r\nNote that I also changed the `*` [quantifier][6] to `+` for matching *one or more* whitespaces.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html#MULTILINE\r\n  [2]: https://www.regular-expressions.info/anchors.html\r\n  [3]: https://www.regular-expressions.info/shorthand.html\r\n  [4]: https://regex101.com/r/dmT9Zu/1\r\n  [5]: https://tio.run/##dZGxboMwEIbn8hQnJlAaD8mIGDpkiJRUldJOpZWMcaipMZZ9RKmqPDs1YKooCufhl/77znc@V/REl1Xx3XWi1o1BqJxBWhSSGF7yM9lTZF/cJMFM/oUicqOSIGCSWgubM6215PAbgAvd5lIwsEjRyakRBdRUqOiARqjy/QOoKW3s4T6OQlEJYxqGDpBC@JlldhEm9yk7isNcZjlGzkuhVG8zblAcBaPIM9WfMHiAxcBOsVqv1lVVFUwpJ7a4y9ni@szO0uYW@1GugBvSLwy013RyCGtqLSSPhmc//tv7t93rdrd93sS3Tf3fuJWOmk6XEu9E427iZG6/tpX9uB53X6olZfxJymh4yVXh4ccir0nTItGuGKWKxnLPXIJL1/0B\r\n  [6]: https://www.regular-expressions.info/refrepeat.html","title":"Replace all whitespace at all beginning line and empty lines","body":"<p>Reasons why it's not working could be that:</p>\n<ol>\n<li>Backslash was not escaped</li>\n<li>Lack of <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html#MULTILINE\" rel=\"nofollow noreferrer\">multiline flag</a>, so <a href=\"https://www.regular-expressions.info/anchors.html\" rel=\"nofollow noreferrer\"><code>^</code></a> only matches start of the string and not start of each line.</li>\n</ol>\n<p>Further to mention that <a href=\"https://www.regular-expressions.info/shorthand.html\" rel=\"nofollow noreferrer\"><code>\\s</code></a> already contains <code>\\r</code> and <code>\\n</code>. You should be fine using (as a Java String)</p>\n<pre><code>&quot;^\\\\s+&quot;\n</code></pre>\n<p>See <a href=\"https://regex101.com/r/dmT9Zu/1\" rel=\"nofollow noreferrer\">this demo at regex101</a> or <a href=\"https://tio.run/##dZGxboMwEIbn8hQnJlAaD8mIGDpkiJRUldJOpZWMcaipMZZ9RKmqPDs1YKooCufhl/77znc@V/REl1Xx3XWi1o1BqJxBWhSSGF7yM9lTZF/cJMFM/oUicqOSIGCSWgubM6215PAbgAvd5lIwsEjRyakRBdRUqOiARqjy/QOoKW3s4T6OQlEJYxqGDpBC@JlldhEm9yk7isNcZjlGzkuhVG8zblAcBaPIM9WfMHiAxcBOsVqv1lVVFUwpJ7a4y9ni@szO0uYW@1GugBvSLwy013RyCGtqLSSPhmc//tv7t93rdrd93sS3Tf3fuJWOmk6XEu9E427iZG6/tpX9uB53X6olZfxJymh4yVXh4ccir0nTItGuGKWKxnLPXIJL1/0B\" rel=\"nofollow noreferrer\">Java demo at tio.run</a> (compile with <code>MULTILINE</code> or use <code>(?m)</code> flag)<br />\nNote that I also changed the <code>*</code> <a href=\"https://www.regular-expressions.info/refrepeat.html\" rel=\"nofollow noreferrer\">quantifier</a> to <code>+</code> for matching <em>one or more</em> whitespaces.</p>\n"},{"tags":[],"owner":{"account_id":26670159,"reputation":1,"user_id":20281707,"display_name":"gitmeturnam"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666352931,"creation_date":1666350978,"answer_id":74152840,"question_id":74150881,"body_markdown":"I hope that will be useful. this code removes white spaces from beginning of lines and blank lines from a string\r\n\r\n    string.replaceAll(&quot;(?m)^[\\\\s&amp;&amp;[^\\\\n]]+&quot;, &quot;&quot;).replace(&quot;(?m)^[\\n]&quot;,&quot;&quot;)\r\n\r\nThis is the shorter form.\r\n\r\n    string.replaceAll(&quot;(?m)^[\\\\s&amp;&amp;[^\\\\n]]+|^[\\n]&quot;, &quot;&quot;)","title":"Replace all whitespace at all beginning line and empty lines","body":"<p>I hope that will be useful. this code removes white spaces from beginning of lines and blank lines from a string</p>\n<pre><code>string.replaceAll(&quot;(?m)^[\\\\s&amp;&amp;[^\\\\n]]+&quot;, &quot;&quot;).replace(&quot;(?m)^[\\n]&quot;,&quot;&quot;)\n</code></pre>\n<p>This is the shorter form.</p>\n<pre><code>string.replaceAll(&quot;(?m)^[\\\\s&amp;&amp;[^\\\\n]]+|^[\\n]&quot;, &quot;&quot;)\n</code></pre>\n"}],"owner":{"account_id":13226838,"reputation":175,"user_id":9551700,"display_name":"VladimirCoder84"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":333,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74150946,"answer_count":3,"score":2,"last_activity_date":1666352931,"creation_date":1666341096,"question_id":74150881,"body_markdown":"I have a string like:\r\n\r\n       -------beginning certificate\r\n\r\n\r\n               2323jjjdcnnjjjsd\r\n\r\n\r\n            sdsdsdsdsdsdsd\r\n\r\nand I would like to transform it in (white spaces should be removed only at beginning of each lines):\r\n\r\n    -------beginning certificate\r\n    2323jjjdcnnjjjsd\r\n    sdsdsdsdsdsdsd\r\n\r\nI have tried with :\r\n\r\n    string.replaceAll(&quot;^[\\n\\r\\s]*&quot;,&quot;&quot;);\r\n\r\nbut seems nothing happens.","title":"Replace all whitespace at all beginning line and empty lines","body":"<p>I have a string like:</p>\n<pre><code>   -------beginning certificate\n\n\n           2323jjjdcnnjjjsd\n\n\n        sdsdsdsdsdsdsd\n</code></pre>\n<p>and I would like to transform it in (white spaces should be removed only at beginning of each lines):</p>\n<pre><code>-------beginning certificate\n2323jjjdcnnjjjsd\nsdsdsdsdsdsdsd\n</code></pre>\n<p>I have tried with :</p>\n<pre><code>string.replaceAll(&quot;^[\\n\\r\\s]*&quot;,&quot;&quot;);\n</code></pre>\n<p>but seems nothing happens.</p>\n"},{"tags":["java","kubernetes","intellij-idea","fabric8"],"answers":[{"comments":[{"owner":{"account_id":1180483,"reputation":3616,"user_id":1155514,"display_name":"Muhammad Tariq"},"score":0,"creation_date":1666427124,"post_id":74153050,"comment_id":130938098,"body_markdown":"Thanks Rohan. I think documentation should also be updated with the latest version. I have created a pull request to add this code in the fabric8 kubernetes-client GitHub repo. This will be helpful for others.","body":"Thanks Rohan. I think documentation should also be updated with the latest version. I have created a pull request to add this code in the fabric8 kubernetes-client GitHub repo. This will be helpful for others."}],"tags":[],"owner":{"account_id":3370885,"reputation":5502,"user_id":2830116,"accept_rate":88,"display_name":"Rohan Kumar"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666352324,"creation_date":1666352324,"answer_id":74153050,"question_id":74148689,"body_markdown":"Since Fabric8 v6, we&#39;ve introduced a new `resource(T item)` DSL method which recieves the resource which is supposed to be operated on. You should be able to access all operations from here.\r\n\r\nSo, you need to change your code to this:\r\n```java\r\nJob job2 = client.batch().v1().jobs().inNamespace(&quot;default&quot;).resource(job).create();\r\n```\r\n\r\nYou can read more about this in [Fabric8 v6 Migration guide][1].\r\n\r\n\r\n  [1]: https://github.com/fabric8io/kubernetes-client/blob/master/doc/MIGRATION-v6.md#deprecations","title":"Kubernetes job creation method showing as deprecated in IntelliJ. I am using Fabric8 Kubernetes Client api","body":"<p>Since Fabric8 v6, we've introduced a new <code>resource(T item)</code> DSL method which recieves the resource which is supposed to be operated on. You should be able to access all operations from here.</p>\n<p>So, you need to change your code to this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Job job2 = client.batch().v1().jobs().inNamespace(&quot;default&quot;).resource(job).create();\n</code></pre>\n<p>You can read more about this in <a href=\"https://github.com/fabric8io/kubernetes-client/blob/master/doc/MIGRATION-v6.md#deprecations\" rel=\"nofollow noreferrer\">Fabric8 v6 Migration guide</a>.</p>\n"}],"owner":{"account_id":1180483,"reputation":3616,"user_id":1155514,"display_name":"Muhammad Tariq"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":482,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74153050,"answer_count":1,"score":0,"last_activity_date":1666352324,"creation_date":1666325532,"question_id":74148689,"body_markdown":"I am using Fabric8 Kubernetes Client library to for Java to create Kubernetes job, but the create method is shown as deprecated. I checked all the available docs and I don&#39;t see that its deprecated but IntelliJ IDE is showing as deprecated. \r\n\r\nWhile searching for solution, I found out this link https://github.com/fabric8io/kubernetes-client/issues/3309. I used the same method as defined in the link but IDE still showing it as deprecated.\r\n\r\nHere is the screenshot. I am using fabric8 version 6.0.0\r\n\r\n[![enter image description here][1]][1]\r\n\r\nKindly guide me how can I fix this deprecation issue. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dREiL.png","title":"Kubernetes job creation method showing as deprecated in IntelliJ. I am using Fabric8 Kubernetes Client api","body":"<p>I am using Fabric8 Kubernetes Client library to for Java to create Kubernetes job, but the create method is shown as deprecated. I checked all the available docs and I don't see that its deprecated but IntelliJ IDE is showing as deprecated.</p>\n<p>While searching for solution, I found out this link <a href=\"https://github.com/fabric8io/kubernetes-client/issues/3309\" rel=\"nofollow noreferrer\">https://github.com/fabric8io/kubernetes-client/issues/3309</a>. I used the same method as defined in the link but IDE still showing it as deprecated.</p>\n<p>Here is the screenshot. I am using fabric8 version 6.0.0</p>\n<p><a href=\"https://i.stack.imgur.com/dREiL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dREiL.png\" alt=\"enter image description here\" /></a></p>\n<p>Kindly guide me how can I fix this deprecation issue.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":24591845,"reputation":29,"user_id":18495613,"display_name":"cheesecakefactory"},"score":0,"creation_date":1666282162,"post_id":74143036,"comment_id":130905028,"body_markdown":"It&#39;s not necessary to show how many seconds left in the program though.","body":"It&#39;s not necessary to show how many seconds left in the program though."}],"answers":[{"comments":[{"owner":{"account_id":24591845,"reputation":29,"user_id":18495613,"display_name":"cheesecakefactory"},"score":0,"creation_date":1666358813,"post_id":74152954,"comment_id":130924667,"body_markdown":"Thanks for the input! However, after the user inserted an input, the timer should restart and wait for user input again instead of doing timer.cancel().","body":"Thanks for the input! However, after the user inserted an input, the timer should restart and wait for user input again instead of doing timer.cancel()."},{"owner":{"account_id":24339691,"reputation":19,"user_id":18277288,"display_name":"thies"},"score":0,"creation_date":1666368668,"post_id":74152954,"comment_id":130928392,"body_markdown":"You could place the code in a loop or re-schedule the task. I&#39;m happy to update the solution if you want to maybe give a little more context if that wouldn&#39;t do it by itself.","body":"You could place the code in a loop or re-schedule the task. I&#39;m happy to update the solution if you want to maybe give a little more context if that wouldn&#39;t do it by itself."}],"tags":[],"owner":{"account_id":24339691,"reputation":19,"user_id":18277288,"display_name":"thies"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666351886,"creation_date":1666351636,"answer_id":74152954,"question_id":74143036,"body_markdown":"Heavily inspired by [this answer][1], I&#39;ve adopted the given solution to your problem.\r\n\r\n\r\n    import java.util.Scanner;\r\n    import java.util.Timer;\r\n    import java.util.TimerTask;\r\n    \r\n    public class Test {\r\n      private static final int DURATION = 10;\r\n    \r\n      public static void main(String[] args) {\r\n        Timer timer = new Timer();\r\n    \r\n        TimerTask task = new TimerTask() {\r\n          public void run() {\r\n            System.out.println(&quot;Failed to receive input.&quot;);\r\n            //Maybe: System.exit(0);\r\n          }\r\n        };\r\n    \r\n        timer.schedule(task, DURATION * 1000);\r\n    \r\n        System.out.println(&quot;Provide input within &quot; + DURATION + &quot; seconds.&quot;);\r\n        Scanner s = new Scanner(System.in);\r\n    \r\n        String input = s.nextLine();\r\n        timer.cancel();\r\n        System.out.println(&quot;Success! Your input was: \\&quot;&quot; + input + &quot;\\&quot;.&quot;);\r\n      }\r\n    }\r\n\r\nStart the timer first, before asking the user for input to assure it is running. When java executes `s.nextLine`, it will wait for the user to insert something followed by a newline (Enter). While the program waits, the timer is running in the background. If an input is received in time, you can cancel the timer, else the `TimerTask` is executed, and you can either let the user know or exit the program (optional).\r\n\r\nSide note: Following the Java naming convention, I&#39;ve renamed the class ;)\r\n\r\n  [1]: https://stackoverflow.com/a/5854048/18277288","title":"Reset timer on user input","body":"<p>Heavily inspired by <a href=\"https://stackoverflow.com/a/5854048/18277288\">this answer</a>, I've adopted the given solution to your problem.</p>\n<pre><code>import java.util.Scanner;\nimport java.util.Timer;\nimport java.util.TimerTask;\n\npublic class Test {\n  private static final int DURATION = 10;\n\n  public static void main(String[] args) {\n    Timer timer = new Timer();\n\n    TimerTask task = new TimerTask() {\n      public void run() {\n        System.out.println(&quot;Failed to receive input.&quot;);\n        //Maybe: System.exit(0);\n      }\n    };\n\n    timer.schedule(task, DURATION * 1000);\n\n    System.out.println(&quot;Provide input within &quot; + DURATION + &quot; seconds.&quot;);\n    Scanner s = new Scanner(System.in);\n\n    String input = s.nextLine();\n    timer.cancel();\n    System.out.println(&quot;Success! Your input was: \\&quot;&quot; + input + &quot;\\&quot;.&quot;);\n  }\n}\n</code></pre>\n<p>Start the timer first, before asking the user for input to assure it is running. When java executes <code>s.nextLine</code>, it will wait for the user to insert something followed by a newline (Enter). While the program waits, the timer is running in the background. If an input is received in time, you can cancel the timer, else the <code>TimerTask</code> is executed, and you can either let the user know or exit the program (optional).</p>\n<p>Side note: Following the Java naming convention, I've renamed the class ;)</p>\n"}],"owner":{"account_id":24591845,"reputation":29,"user_id":18495613,"display_name":"cheesecakefactory"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666351886,"creation_date":1666282083,"question_id":74143036,"body_markdown":"I&#39;m trying to implement a program that receives user input, if no input within 1 minutes, the program ends, otherwise the timer resets and waits for user input again. \r\n\r\nI&#39;m only able to do a timer until now and can&#39;t find a way to implement it with user input.\r\n```\r\nimport java.util.Timer;\r\nimport java.util.TimerTask;\r\nimport java.io.*;\r\npublic class test {\r\n    \r\n    public static void main(String[] args){\r\n        Timer timer = new Timer();\r\n        TimerTask task = new TimerTask() {\r\n            int sec = 10;\r\n            public void run() {\r\n                if (sec &gt; 0){\r\n                    System.out.println(sec + &quot;seconds&quot;);\r\n                    sec--;\r\n                }else {\r\n                    System.out.println(&quot;Time&#39;s up&quot;);\r\n                    timer.cancel();\r\n                }\r\n            }\r\n        };\r\n        timer.scheduleAtFixedRate( task, 0,1000 );\r\n    }\r\n}\r\n```\r\nThanks for any help!","title":"Reset timer on user input","body":"<p>I'm trying to implement a program that receives user input, if no input within 1 minutes, the program ends, otherwise the timer resets and waits for user input again.</p>\n<p>I'm only able to do a timer until now and can't find a way to implement it with user input.</p>\n<pre><code>import java.util.Timer;\nimport java.util.TimerTask;\nimport java.io.*;\npublic class test {\n    \n    public static void main(String[] args){\n        Timer timer = new Timer();\n        TimerTask task = new TimerTask() {\n            int sec = 10;\n            public void run() {\n                if (sec &gt; 0){\n                    System.out.println(sec + &quot;seconds&quot;);\n                    sec--;\n                }else {\n                    System.out.println(&quot;Time's up&quot;);\n                    timer.cancel();\n                }\n            }\n        };\n        timer.scheduleAtFixedRate( task, 0,1000 );\n    }\n}\n</code></pre>\n<p>Thanks for any help!</p>\n"},{"tags":["java","amazon-web-services","aws-api-gateway","aws-sdk-java-2.0","aws-sdk-java"],"answers":[{"tags":[],"owner":{"account_id":26621204,"reputation":1,"user_id":20239964,"display_name":"davee"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666350630,"creation_date":1666350630,"answer_id":74152769,"question_id":70827513,"body_markdown":"I came accross this when trying to do exactly the same thing and migrate from the example given on [How to call aws api gateway from the java code][1] to something that used v2 of the sdk.  I dont know if you got it working in the end but I thought I&#39;d share my solution for others that might come looking :) \r\n\r\n  [1]: https://inspeerity.com/blog/how-to-call-aws-api-gateway-from-the-java-code\r\n\r\nRather than try and recreate things as they were I&#39;ve ended up with something a lot simpler which seems to work\r\n\r\n    \r\n        // get creds (Could use the defaultCredentialsProvider)\r\n        ProfileCredentialsProvider credentialsProvider = ProfileCredentialsProvider.builder().profileName(&lt;MY_PROFILE&gt;).build();\r\n        AwsCredentials credentials = credentialsProvider.resolveCredentials();\r\n\r\n        // Build query params \r\n        List&lt;NameValuePair&gt; queryParams = new ArrayList&lt;&gt;();\r\n        queryParams.add(new BasicNameValuePair(&quot;param1&quot;, &quot;test&quot;));\r\n        queryParams.add(new BasicNameValuePair(&quot;param2&quot;, &quot;1234&quot;));\r\n\r\n        // create URI with params\r\n        URI uri = new URIBuilder(&lt;THE URL&gt;)\r\n                .addParameters(queryParams)\r\n                .build();\r\n\r\n        // create the request\r\n        final SdkHttpFullRequest request = SdkHttpFullRequest.builder()\r\n                .method(SdkHttpMethod.GET)\r\n                .uri(uri)\r\n                .build();\r\n\r\n        //Sign it...\r\n        Aws4Signer signer = Aws4Signer.create();\r\n        Aws4SignerParams signerParams = Aws4SignerParams.builder()\r\n                .signingRegion(Region.EU_WEST_1)\r\n                .awsCredentials(credentials)\r\n                .signingName(&quot;execute-api&quot;)\r\n\t\t\t\t.build();\r\n        SdkHttpFullRequest signedRequest = signer.sign(request, signerParams);\r\n\r\n        // create httpClient - set timeout and proxy config on this if necessary\r\n        SdkHttpClient httpClient =  ApacheHttpClient.builder().build();\r\n\r\n        // Create executable request\r\n        HttpExecuteRequest executeRequest = HttpExecuteRequest.builder().request(signedRequest).build();\r\n        ExecutableHttpRequest executableHttpRequest = httpClient.prepareRequest(executeRequest);\r\n\r\n        // Execute the request\r\n        HttpExecuteResponse res = executableHttpRequest.call();\r\n\r\n        // get response \r\n        AbortableInputStream abortableInputStream = res.responseBody().orElseThrow(() -&gt; new RuntimeException(&quot;No Response Body found&quot;));\r\n\r\n","title":"Migrate AmazonWebServiceClient to ApiGatewayAsyncClient in aws-sdk-java-v2","body":"<p>I came accross this when trying to do exactly the same thing and migrate from the example given on <a href=\"https://inspeerity.com/blog/how-to-call-aws-api-gateway-from-the-java-code\" rel=\"nofollow noreferrer\">How to call aws api gateway from the java code</a> to something that used v2 of the sdk.  I dont know if you got it working in the end but I thought I'd share my solution for others that might come looking :)</p>\n<p>Rather than try and recreate things as they were I've ended up with something a lot simpler which seems to work</p>\n<pre><code>    // get creds (Could use the defaultCredentialsProvider)\n    ProfileCredentialsProvider credentialsProvider = ProfileCredentialsProvider.builder().profileName(&lt;MY_PROFILE&gt;).build();\n    AwsCredentials credentials = credentialsProvider.resolveCredentials();\n\n    // Build query params \n    List&lt;NameValuePair&gt; queryParams = new ArrayList&lt;&gt;();\n    queryParams.add(new BasicNameValuePair(&quot;param1&quot;, &quot;test&quot;));\n    queryParams.add(new BasicNameValuePair(&quot;param2&quot;, &quot;1234&quot;));\n\n    // create URI with params\n    URI uri = new URIBuilder(&lt;THE URL&gt;)\n            .addParameters(queryParams)\n            .build();\n\n    // create the request\n    final SdkHttpFullRequest request = SdkHttpFullRequest.builder()\n            .method(SdkHttpMethod.GET)\n            .uri(uri)\n            .build();\n\n    //Sign it...\n    Aws4Signer signer = Aws4Signer.create();\n    Aws4SignerParams signerParams = Aws4SignerParams.builder()\n            .signingRegion(Region.EU_WEST_1)\n            .awsCredentials(credentials)\n            .signingName(&quot;execute-api&quot;)\n            .build();\n    SdkHttpFullRequest signedRequest = signer.sign(request, signerParams);\n\n    // create httpClient - set timeout and proxy config on this if necessary\n    SdkHttpClient httpClient =  ApacheHttpClient.builder().build();\n\n    // Create executable request\n    HttpExecuteRequest executeRequest = HttpExecuteRequest.builder().request(signedRequest).build();\n    ExecutableHttpRequest executableHttpRequest = httpClient.prepareRequest(executeRequest);\n\n    // Execute the request\n    HttpExecuteResponse res = executableHttpRequest.call();\n\n    // get response \n    AbortableInputStream abortableInputStream = res.responseBody().orElseThrow(() -&gt; new RuntimeException(&quot;No Response Body found&quot;));\n</code></pre>\n"}],"owner":{"account_id":18374960,"reputation":111,"user_id":13384266,"display_name":"celadari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":850,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666351311,"creation_date":1642980854,"question_id":70827513,"body_markdown":"I&#39;m currently using an **AWS java client to request a gateway API**.\r\n\r\nThe actual code relies on &lt;s&gt;&quot;aws-sdk-java&quot;&lt;/s&gt; and I want to migrate the more modern version **&quot;aws-sdk-java-v2&quot;**.\r\nThe client would then benefit from a non blocking I/O API. Turns out, migrating from v1 to v2 is not straightforward (at least for me).\r\nI would gladly appreciate some guidance on this. \r\n\r\nMore specifically I need to stop extending the &lt;s&gt;```com.amazonaws.AmazonWebServiceClient```&lt;/s&gt; class for the more modern **```software.amazon.awssdk.services.apigateway.ApiGatewayAsyncClient```** class.\r\n\r\n\r\n**There are several parts of the code I can&#39;t figure out to properly migrate:**\r\n\r\n - How to provide correct signer ```software.amazon.awssdk.core.signer.Signer``` and/or ```software.amazon.awssdk.core.signer.AsyncSigner``` ?\r\n - How to provide response and error handler ?\r\n - Is method ```getGatewayResponse``` of `client` the right method to call the api in an asynchronous manner ?\r\n\r\n\r\nThe original code is based on [How to call AWS API Gateway From the Java code ?](https://inspeerity.com/blog/how-to-call-aws-api-gateway-from-the-java-code/)\r\n\r\n```java\r\npackage com.piotrfilipowicz.aws;\r\n\r\nimport com.amazonaws.AmazonServiceException;\r\nimport com.amazonaws.AmazonWebServiceClient;\r\nimport com.amazonaws.ClientConfiguration;\r\nimport com.amazonaws.DefaultRequest;\r\nimport com.amazonaws.RequestConfig;\r\nimport com.amazonaws.auth.AWS4Signer;\r\nimport com.amazonaws.auth.AWSCredentialsProvider;\r\nimport com.amazonaws.auth.AWSStaticCredentialsProvider;\r\nimport com.amazonaws.auth.BasicAWSCredentials;\r\nimport com.amazonaws.http.ExecutionContext;\r\nimport com.amazonaws.http.HttpMethodName;\r\nimport com.amazonaws.http.JsonErrorResponseHandler;\r\nimport com.amazonaws.http.JsonResponseHandler;\r\nimport com.amazonaws.internal.AmazonWebServiceRequestAdapter;\r\nimport com.amazonaws.internal.auth.DefaultSignerProvider;\r\nimport com.amazonaws.protocol.json.JsonOperationMetadata;\r\nimport com.amazonaws.protocol.json.SdkStructuredPlainJsonFactory;\r\nimport com.amazonaws.transform.JsonErrorUnmarshaller;\r\nimport com.amazonaws.transform.JsonUnmarshallerContext;\r\nimport com.amazonaws.transform.Unmarshaller;\r\nimport com.fasterxml.jackson.databind.JsonNode;\r\n\r\nimport java.io.InputStream;\r\nimport java.net.URI;\r\nimport java.util.Collections;\r\n\r\npublic class JsonApiGatewayCaller extends AmazonWebServiceClient {\r\n    private static final String API_GATEWAY_SERVICE_NAME = &quot;execute-api&quot;;\r\n\r\n    private final AWSCredentialsProvider credentials;\r\n    private final String apiKey;\r\n    private final AWS4Signer signer;\r\n\r\n    private final JsonResponseHandler&lt;ApiGatewayResponse&gt; responseHandler;\r\n    private final JsonErrorResponseHandler errorResponseHandler;\r\n\r\n    public JsonApiGatewayCaller(String accessKey, String secretAccessKey, String apiKey, String region, URI endpoint) {\r\n\r\n        super(new ClientConfiguration());\r\n\r\n        this.credentials = new AWSStaticCredentialsProvider(new BasicAWSCredentials(accessKey, secretAccessKey));\r\n        this.apiKey = apiKey;\r\n        this.endpoint = endpoint;\r\n\r\n        this.signer = new AWS4Signer();\r\n        this.signer.setServiceName(API_GATEWAY_SERVICE_NAME);\r\n        this.signer.setRegionName(region);\r\n\r\n        final JsonOperationMetadata metadata = new JsonOperationMetadata().withHasStreamingSuccessResponse(false).withPayloadJson(false);\r\n        final Unmarshaller&lt;ApiGatewayResponse, JsonUnmarshallerContext&gt; responseUnmarshaller = in -&gt; new ApiGatewayResponse(in.getHttpResponse());\r\n        this.responseHandler = SdkStructuredPlainJsonFactory.SDK_JSON_FACTORY.createResponseHandler(metadata, responseUnmarshaller);\r\n\r\n        JsonErrorUnmarshaller defaultErrorUnmarshaller = new JsonErrorUnmarshaller(ApiGatewayException.class, null) {\r\n            @Override\r\n            public AmazonServiceException unmarshall(JsonNode jsonContent) throws Exception {\r\n                return new ApiGatewayException(jsonContent.toString());\r\n            }\r\n        };\r\n\r\n        this.errorResponseHandler = SdkStructuredPlainJsonFactory.SDK_JSON_FACTORY.createErrorResponseHandler(\r\n                Collections.singletonList(defaultErrorUnmarshaller), null);\r\n    }\r\n\r\n    public ApiGatewayResponse execute(HttpMethodName method, String resourcePath, InputStream content) {\r\n        final ExecutionContext executionContext = createExecutionContext();\r\n\r\n        DefaultRequest request = prepareRequest(method, resourcePath, content);\r\n\r\n        RequestConfig requestConfig = new AmazonWebServiceRequestAdapter(request.getOriginalRequest());\r\n\r\n        return this.client.execute(request, responseHandler, errorResponseHandler, executionContext, requestConfig).getAwsResponse();\r\n    }\r\n\r\n    private DefaultRequest prepareRequest(HttpMethodName method, String resourcePath, InputStream content) {\r\n        DefaultRequest request = new DefaultRequest(API_GATEWAY_SERVICE_NAME);\r\n        request.setHttpMethod(method);\r\n        request.setContent(content);\r\n        request.setEndpoint(this.endpoint);\r\n        request.setResourcePath(resourcePath);\r\n        request.setHeaders(Collections.singletonMap(&quot;Content-type&quot;, &quot;application/json&quot;));\r\n        return request;\r\n    }\r\n\r\n    private ExecutionContext createExecutionContext() {\r\n        final ExecutionContext executionContext = ExecutionContext.builder().withSignerProvider(\r\n                new DefaultSignerProvider(this, signer)).build();\r\n        executionContext.setCredentialsProvider(credentials);\r\n        return executionContext;\r\n    }\r\n\r\n}\r\n```\r\n\r\nMy migrated code looks like that so far\r\n\r\n```java\r\n\r\nimport software.amazon.awssdk.core.client.config.ClientAsyncConfiguration;\r\nimport software.amazon.awssdk.core.client.config.ClientOverrideConfiguration;\r\nimport software.amazon.awssdk.core.client.config.SdkAdvancedClientOption;\r\nimport software.amazon.awssdk.core.client.config.SdkAdvancedAsyncClientOption;\r\nimport software.amazon.awssdk.core.signer.AsyncSigner;\r\nimport software.amazon.awssdk.regions.Region;\r\nimport software.amazon.awssdk.auth.credentials.AwsBasicCredentials;\r\nimport software.amazon.awssdk.auth.credentials.AwsCredentials;\r\nimport software.amazon.awssdk.auth.credentials.AwsCredentialsProvider;\r\nimport software.amazon.awssdk.services.apigateway.model.GetGatewayResponseRequest;\r\nimport software.amazon.awssdk.http.async.SdkAsyncHttpClient;\r\nimport software.amazon.awssdk.http.crt.AwsCrtAsyncHttpClient;\r\nimport software.amazon.awssdk.services.apigateway.ApiGatewayAsyncClient;\r\nimport org.apache.log4j.Logger;\r\nimport java.io.ByteArrayInputStream;\r\nimport java.io.InputStream;\r\nimport java.net.URI;\r\nimport java.net.URISyntaxException;\r\nimport java.util.Collections;\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\npublic class AsyncGatewayClient extends ApiGatewayAsyncClient {\r\n\r\n    public class AwsApiCredentialsProvider implements AwsCredentialsProvider {\r\n        private final String accessKey;\r\n        private final String secretAccessKey;\r\n\r\n        public AwsApiCredentialsProvider(String accessKey, String secretAccessKey) {\r\n            this.accessKey = accessKey;\r\n            this.secretAccessKey = secretAccessKey;\r\n        }\r\n\r\n        @Override\r\n        public AwsCredentials resolveCredentials() {\r\n            return AwsBasicCredentials.create(accessKey, secretAccessKey);\r\n        }\r\n    }\r\n\r\n    public final static SdkAsyncHttpClient httpClient = AwsCrtAsyncHttpClient.builder().build();\r\n\r\n    public AsyncGatewayClient(\r\n       String accessKey, String secretAccessKey, String endPointString, String regionUid\r\n    ) {\r\n        AwsCredentialsProvider credentialsProvider = new AwsApiCredentialsProvider(accessKey, secretAccessKey);\r\n        Region region = Region.of(regionUid);\r\n\r\n        URI endPointUri;\r\n        try {\r\n            endPointUri = new URI(endPointString);\r\n        } catch (URISyntaxException e) {\r\n            throw new ConfigException.Missing(&quot;Endpoint is not a valid URI: &quot; + endPointString);\r\n        }\r\n\r\n        ClientAsyncConfiguration overrideAsyncConfig = ClientAsyncConfiguration.builder()\r\n                .advancedOptions(new SdkAdvancedAsyncClientOption(AsyncSigner.class), )\r\n                .build();\r\n        ClientOverrideConfiguration overrideConfig = ClientOverrideConfiguration.builder()\r\n                .advancedOptions(SdkAdvancedClientOption.SIGNER, )\r\n                .build();\r\n\r\n        ApiGatewayAsyncClient client = ApiGatewayAsyncClient.builder()\r\n                .httpClient(httpClient)\r\n                .endpointOverride(endpoint)\r\n                .overrideConfiguration(overrideConfig)\r\n                .asyncConfiguration(overrideAsyncConfig)\r\n                .credentialsProvider(credentialsProvider)\r\n                .region(region)\r\n                .build();\r\n\r\n```\r\n\r\n\r\n","title":"Migrate AmazonWebServiceClient to ApiGatewayAsyncClient in aws-sdk-java-v2","body":"<p>I'm currently using an <strong>AWS java client to request a gateway API</strong>.</p>\n<p>The actual code relies on <s>&quot;aws-sdk-java&quot;</s> and I want to migrate the more modern version <strong>&quot;aws-sdk-java-v2&quot;</strong>.\nThe client would then benefit from a non blocking I/O API. Turns out, migrating from v1 to v2 is not straightforward (at least for me).\nI would gladly appreciate some guidance on this.</p>\n<p>More specifically I need to stop extending the <s><code>com.amazonaws.AmazonWebServiceClient</code></s> class for the more modern <strong><code>software.amazon.awssdk.services.apigateway.ApiGatewayAsyncClient</code></strong> class.</p>\n<p><strong>There are several parts of the code I can't figure out to properly migrate:</strong></p>\n<ul>\n<li>How to provide correct signer <code>software.amazon.awssdk.core.signer.Signer</code> and/or <code>software.amazon.awssdk.core.signer.AsyncSigner</code> ?</li>\n<li>How to provide response and error handler ?</li>\n<li>Is method <code>getGatewayResponse</code> of <code>client</code> the right method to call the api in an asynchronous manner ?</li>\n</ul>\n<p>The original code is based on <a href=\"https://inspeerity.com/blog/how-to-call-aws-api-gateway-from-the-java-code/\" rel=\"nofollow noreferrer\">How to call AWS API Gateway From the Java code ?</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.piotrfilipowicz.aws;\n\nimport com.amazonaws.AmazonServiceException;\nimport com.amazonaws.AmazonWebServiceClient;\nimport com.amazonaws.ClientConfiguration;\nimport com.amazonaws.DefaultRequest;\nimport com.amazonaws.RequestConfig;\nimport com.amazonaws.auth.AWS4Signer;\nimport com.amazonaws.auth.AWSCredentialsProvider;\nimport com.amazonaws.auth.AWSStaticCredentialsProvider;\nimport com.amazonaws.auth.BasicAWSCredentials;\nimport com.amazonaws.http.ExecutionContext;\nimport com.amazonaws.http.HttpMethodName;\nimport com.amazonaws.http.JsonErrorResponseHandler;\nimport com.amazonaws.http.JsonResponseHandler;\nimport com.amazonaws.internal.AmazonWebServiceRequestAdapter;\nimport com.amazonaws.internal.auth.DefaultSignerProvider;\nimport com.amazonaws.protocol.json.JsonOperationMetadata;\nimport com.amazonaws.protocol.json.SdkStructuredPlainJsonFactory;\nimport com.amazonaws.transform.JsonErrorUnmarshaller;\nimport com.amazonaws.transform.JsonUnmarshallerContext;\nimport com.amazonaws.transform.Unmarshaller;\nimport com.fasterxml.jackson.databind.JsonNode;\n\nimport java.io.InputStream;\nimport java.net.URI;\nimport java.util.Collections;\n\npublic class JsonApiGatewayCaller extends AmazonWebServiceClient {\n    private static final String API_GATEWAY_SERVICE_NAME = &quot;execute-api&quot;;\n\n    private final AWSCredentialsProvider credentials;\n    private final String apiKey;\n    private final AWS4Signer signer;\n\n    private final JsonResponseHandler&lt;ApiGatewayResponse&gt; responseHandler;\n    private final JsonErrorResponseHandler errorResponseHandler;\n\n    public JsonApiGatewayCaller(String accessKey, String secretAccessKey, String apiKey, String region, URI endpoint) {\n\n        super(new ClientConfiguration());\n\n        this.credentials = new AWSStaticCredentialsProvider(new BasicAWSCredentials(accessKey, secretAccessKey));\n        this.apiKey = apiKey;\n        this.endpoint = endpoint;\n\n        this.signer = new AWS4Signer();\n        this.signer.setServiceName(API_GATEWAY_SERVICE_NAME);\n        this.signer.setRegionName(region);\n\n        final JsonOperationMetadata metadata = new JsonOperationMetadata().withHasStreamingSuccessResponse(false).withPayloadJson(false);\n        final Unmarshaller&lt;ApiGatewayResponse, JsonUnmarshallerContext&gt; responseUnmarshaller = in -&gt; new ApiGatewayResponse(in.getHttpResponse());\n        this.responseHandler = SdkStructuredPlainJsonFactory.SDK_JSON_FACTORY.createResponseHandler(metadata, responseUnmarshaller);\n\n        JsonErrorUnmarshaller defaultErrorUnmarshaller = new JsonErrorUnmarshaller(ApiGatewayException.class, null) {\n            @Override\n            public AmazonServiceException unmarshall(JsonNode jsonContent) throws Exception {\n                return new ApiGatewayException(jsonContent.toString());\n            }\n        };\n\n        this.errorResponseHandler = SdkStructuredPlainJsonFactory.SDK_JSON_FACTORY.createErrorResponseHandler(\n                Collections.singletonList(defaultErrorUnmarshaller), null);\n    }\n\n    public ApiGatewayResponse execute(HttpMethodName method, String resourcePath, InputStream content) {\n        final ExecutionContext executionContext = createExecutionContext();\n\n        DefaultRequest request = prepareRequest(method, resourcePath, content);\n\n        RequestConfig requestConfig = new AmazonWebServiceRequestAdapter(request.getOriginalRequest());\n\n        return this.client.execute(request, responseHandler, errorResponseHandler, executionContext, requestConfig).getAwsResponse();\n    }\n\n    private DefaultRequest prepareRequest(HttpMethodName method, String resourcePath, InputStream content) {\n        DefaultRequest request = new DefaultRequest(API_GATEWAY_SERVICE_NAME);\n        request.setHttpMethod(method);\n        request.setContent(content);\n        request.setEndpoint(this.endpoint);\n        request.setResourcePath(resourcePath);\n        request.setHeaders(Collections.singletonMap(&quot;Content-type&quot;, &quot;application/json&quot;));\n        return request;\n    }\n\n    private ExecutionContext createExecutionContext() {\n        final ExecutionContext executionContext = ExecutionContext.builder().withSignerProvider(\n                new DefaultSignerProvider(this, signer)).build();\n        executionContext.setCredentialsProvider(credentials);\n        return executionContext;\n    }\n\n}\n</code></pre>\n<p>My migrated code looks like that so far</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nimport software.amazon.awssdk.core.client.config.ClientAsyncConfiguration;\nimport software.amazon.awssdk.core.client.config.ClientOverrideConfiguration;\nimport software.amazon.awssdk.core.client.config.SdkAdvancedClientOption;\nimport software.amazon.awssdk.core.client.config.SdkAdvancedAsyncClientOption;\nimport software.amazon.awssdk.core.signer.AsyncSigner;\nimport software.amazon.awssdk.regions.Region;\nimport software.amazon.awssdk.auth.credentials.AwsBasicCredentials;\nimport software.amazon.awssdk.auth.credentials.AwsCredentials;\nimport software.amazon.awssdk.auth.credentials.AwsCredentialsProvider;\nimport software.amazon.awssdk.services.apigateway.model.GetGatewayResponseRequest;\nimport software.amazon.awssdk.http.async.SdkAsyncHttpClient;\nimport software.amazon.awssdk.http.crt.AwsCrtAsyncHttpClient;\nimport software.amazon.awssdk.services.apigateway.ApiGatewayAsyncClient;\nimport org.apache.log4j.Logger;\nimport java.io.ByteArrayInputStream;\nimport java.io.InputStream;\nimport java.net.URI;\nimport java.net.URISyntaxException;\nimport java.util.Collections;\nimport java.util.HashMap;\nimport java.util.Map;\n\npublic class AsyncGatewayClient extends ApiGatewayAsyncClient {\n\n    public class AwsApiCredentialsProvider implements AwsCredentialsProvider {\n        private final String accessKey;\n        private final String secretAccessKey;\n\n        public AwsApiCredentialsProvider(String accessKey, String secretAccessKey) {\n            this.accessKey = accessKey;\n            this.secretAccessKey = secretAccessKey;\n        }\n\n        @Override\n        public AwsCredentials resolveCredentials() {\n            return AwsBasicCredentials.create(accessKey, secretAccessKey);\n        }\n    }\n\n    public final static SdkAsyncHttpClient httpClient = AwsCrtAsyncHttpClient.builder().build();\n\n    public AsyncGatewayClient(\n       String accessKey, String secretAccessKey, String endPointString, String regionUid\n    ) {\n        AwsCredentialsProvider credentialsProvider = new AwsApiCredentialsProvider(accessKey, secretAccessKey);\n        Region region = Region.of(regionUid);\n\n        URI endPointUri;\n        try {\n            endPointUri = new URI(endPointString);\n        } catch (URISyntaxException e) {\n            throw new ConfigException.Missing(&quot;Endpoint is not a valid URI: &quot; + endPointString);\n        }\n\n        ClientAsyncConfiguration overrideAsyncConfig = ClientAsyncConfiguration.builder()\n                .advancedOptions(new SdkAdvancedAsyncClientOption(AsyncSigner.class), )\n                .build();\n        ClientOverrideConfiguration overrideConfig = ClientOverrideConfiguration.builder()\n                .advancedOptions(SdkAdvancedClientOption.SIGNER, )\n                .build();\n\n        ApiGatewayAsyncClient client = ApiGatewayAsyncClient.builder()\n                .httpClient(httpClient)\n                .endpointOverride(endpoint)\n                .overrideConfiguration(overrideConfig)\n                .asyncConfiguration(overrideAsyncConfig)\n                .credentialsProvider(credentialsProvider)\n                .region(region)\n                .build();\n\n</code></pre>\n"},{"tags":["java","intellij-idea","intellij-plugin"],"comments":[{"owner":{"account_id":2264130,"reputation":38917,"user_id":1993366,"accept_rate":86,"display_name":"vikingsteve"},"score":1,"creation_date":1423506847,"post_id":28415695,"comment_id":45166748,"body_markdown":"I want to override `Registry.intValue(&quot;ide.max.recent.projects&quot;)`. I can&#39;t find it in any files in `.IntelliJ14` or subfolders, therefore I conclude it comes from static configuration and would like to override it at runtime. (And yes, I routinely work in more than 25 projects)","body":"I want to override <code>Registry.intValue(&quot;ide.max.recent.projects&quot;)</code>. I can&#39;t find it in any files in <code>.IntelliJ14</code> or subfolders, therefore I conclude it comes from static configuration and would like to override it at runtime. (And yes, I routinely work in more than 25 projects)"}],"answers":[{"comments":[{"owner":{"account_id":2120248,"reputation":7754,"user_id":1883647,"display_name":"ajp15243"},"score":10,"creation_date":1423515402,"post_id":28419108,"comment_id":45171540,"body_markdown":"I would guess that OS X users need to use Command instead of Control.","body":"I would guess that OS X users need to use Command instead of Control."},{"owner":{"account_id":2264130,"reputation":38917,"user_id":1993366,"accept_rate":86,"display_name":"vikingsteve"},"score":0,"creation_date":1423519196,"post_id":28419108,"comment_id":45173562,"body_markdown":"Btw, this apparently isn&#39;y  available in Android Studio, any ideas?","body":"Btw, this apparently isn&#39;y  available in Android Studio, any ideas?"},{"owner":{"account_id":49385,"reputation":93769,"user_id":147024,"display_name":"yole"},"score":0,"creation_date":1423522908,"post_id":28419108,"comment_id":45175387,"body_markdown":"I think they disabled this action.","body":"I think they disabled this action."},{"owner":{"account_id":2264130,"reputation":38917,"user_id":1993366,"accept_rate":86,"display_name":"vikingsteve"},"score":2,"creation_date":1423570629,"post_id":28419108,"comment_id":45193206,"body_markdown":"Okay. You can do it via code like so: `Registry.get(KEY).setValue(123);`","body":"Okay. You can do it via code like so: <code>Registry.get(KEY).setValue(123);</code>"},{"owner":{"account_id":7253656,"reputation":1250,"user_id":5533075,"accept_rate":100,"display_name":"Dwhitz"},"score":12,"creation_date":1562138492,"post_id":28419108,"comment_id":100278749,"body_markdown":"With newer version of Intellij, you can just double press **Shift**, click on **Action** panel and type Registry","body":"With newer version of Intellij, you can just double press <b>Shift</b>, click on <b>Action</b> panel and type Registry"}],"tags":[],"owner":{"account_id":49385,"reputation":93769,"user_id":147024,"display_name":"yole"},"comment_count":5,"down_vote_count":1,"up_vote_count":81,"is_accepted":true,"score":80,"last_activity_date":1613212475,"creation_date":1423515105,"answer_id":28419108,"question_id":28415695,"body_markdown":"Press &lt;kbd&gt;Ctrl&lt;/kbd&gt;-&lt;kbd&gt;Alt&lt;/kbd&gt;-&lt;kbd&gt;Shift&lt;/kbd&gt;-&lt;kbd&gt;/&lt;/kbd&gt; and select &quot;Registry&quot; from the menu that appears.\r\n\r\n(If that keyboard shortcut is not working for you, use your configured keyboard shortcut for `Find Action`. On Mac by default it is &lt;kbd&gt;Shift&lt;/kbd&gt;+&lt;kbd&gt;⌘&lt;/kbd&gt;+&lt;kbd&gt;A&lt;/kbd&gt;, on Windows it is &lt;kbd&gt;Shift&lt;/kbd&gt;+&lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;A&lt;/kbd&gt; ([docs](https://blog.jetbrains.com/idea/2020/03/top-15-intellij-idea-shortcuts/)). Then type &quot;Registry&quot; and click or hit enter.)","title":"How do you set a value in the IntelliJ Registry?","body":"<p>Press <kbd>Ctrl</kbd>-<kbd>Alt</kbd>-<kbd>Shift</kbd>-<kbd>/</kbd> and select &quot;Registry&quot; from the menu that appears.</p>\n<p>(If that keyboard shortcut is not working for you, use your configured keyboard shortcut for <code>Find Action</code>. On Mac by default it is <kbd>Shift</kbd>+<kbd>⌘</kbd>+<kbd>A</kbd>, on Windows it is <kbd>Shift</kbd>+<kbd>Ctrl</kbd>+<kbd>A</kbd> (<a href=\"https://blog.jetbrains.com/idea/2020/03/top-15-intellij-idea-shortcuts/\" rel=\"noreferrer\">docs</a>). Then type &quot;Registry&quot; and click or hit enter.)</p>\n"},{"tags":[],"owner":{"account_id":2018045,"reputation":509,"user_id":1804846,"display_name":"Saulo Aguiar"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1493500835,"creation_date":1493500835,"answer_id":43700601,"question_id":28415695,"body_markdown":"If you are using OS X, you can open the registry by typing &#39;cmd + shift + A&#39;. Type &#39;registry&#39; and change the value of the option you&#39;re looking for.\r\nIn this [source](https://www.mkyong.com/spring-boot/intellij-idea-spring-boot-template-reload-is-not-working/) you can see an example.","title":"How do you set a value in the IntelliJ Registry?","body":"<p>If you are using OS X, you can open the registry by typing 'cmd + shift + A'. Type 'registry' and change the value of the option you're looking for.\nIn this <a href=\"https://www.mkyong.com/spring-boot/intellij-idea-spring-boot-template-reload-is-not-working/\" rel=\"noreferrer\">source</a> you can see an example.</p>\n"},{"tags":[],"owner":{"account_id":180055,"reputation":75792,"user_id":413127,"accept_rate":96,"display_name":"Blundell"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666351274,"creation_date":1666351274,"answer_id":74152891,"question_id":28415695,"body_markdown":"You can see the registry entries you have modified here:\r\n\r\n(Modify the version to your installed IDE version)\r\n\r\nIntelliJ:\r\n\r\n    /Users/YourUser/Library/Application Support/JetBrains/IdeaIC2022.1/options/ide.general.xml\r\n\r\nAndroid Studio:\r\n\r\n    /Users/YourUser/Library/Application Support/Google/AndroidStudio2021.3/options/ide.general.xml\r\n\r\n\r\nIt&#39;ll look something like this:\r\n\r\n    &lt;application&gt;\r\n        &lt;component name=&quot;Registry&quot;&gt;\r\n            &lt;entry key=&quot;unknown.sdk.auto&quot; value=&quot;1337&quot; /&gt;            \r\n        &lt;/component&gt;\r\n        &lt;component name=&quot;StatusBar&quot;&gt;\r\n            &lt;option name=&quot;widgets&quot;&gt;\r\n                &lt;map&gt;\r\n                    &lt;entry key=&quot;Memory&quot; value=&quot;true&quot; /&gt;                    \r\n                &lt;/map&gt;\r\n            &lt;/option&gt;\r\n        &lt;/component&gt;        \r\n    &lt;/application&gt;\r\n\r\nAnd in the IDE:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CKhsw.png","title":"How do you set a value in the IntelliJ Registry?","body":"<p>You can see the registry entries you have modified here:</p>\n<p>(Modify the version to your installed IDE version)</p>\n<p>IntelliJ:</p>\n<pre><code>/Users/YourUser/Library/Application Support/JetBrains/IdeaIC2022.1/options/ide.general.xml\n</code></pre>\n<p>Android Studio:</p>\n<pre><code>/Users/YourUser/Library/Application Support/Google/AndroidStudio2021.3/options/ide.general.xml\n</code></pre>\n<p>It'll look something like this:</p>\n<pre><code>&lt;application&gt;\n    &lt;component name=&quot;Registry&quot;&gt;\n        &lt;entry key=&quot;unknown.sdk.auto&quot; value=&quot;1337&quot; /&gt;            \n    &lt;/component&gt;\n    &lt;component name=&quot;StatusBar&quot;&gt;\n        &lt;option name=&quot;widgets&quot;&gt;\n            &lt;map&gt;\n                &lt;entry key=&quot;Memory&quot; value=&quot;true&quot; /&gt;                    \n            &lt;/map&gt;\n        &lt;/option&gt;\n    &lt;/component&gt;        \n&lt;/application&gt;\n</code></pre>\n<p>And in the IDE:</p>\n<p><a href=\"https://i.stack.imgur.com/CKhsw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CKhsw.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":2264130,"reputation":38917,"user_id":1993366,"accept_rate":86,"display_name":"vikingsteve"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29099,"favorite_count":0,"down_vote_count":0,"up_vote_count":45,"accepted_answer_id":28419108,"answer_count":3,"score":45,"last_activity_date":1666351274,"creation_date":1423503014,"question_id":28415695,"body_markdown":"How can I override a value that is used internally in IntelliJ, for example this expression:\r\n\r\n    Registry.intValue(&quot;a.b.c&quot;)\r\n\r\nI can access the registry `Registry.getInstance()` but it doesn&#39;t allow updating any key/value pairs.\r\n\r\nAny tips?","title":"How do you set a value in the IntelliJ Registry?","body":"<p>How can I override a value that is used internally in IntelliJ, for example this expression:</p>\n\n<pre><code>Registry.intValue(\"a.b.c\")\n</code></pre>\n\n<p>I can access the registry <code>Registry.getInstance()</code> but it doesn't allow updating any key/value pairs.</p>\n\n<p>Any tips?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":5,"creation_date":1666347216,"post_id":74152081,"comment_id":130920733,"body_markdown":"1) A recursive approach may not be the best fit. 2) Put what&#39;s after the `if` in its `else` clause.","body":"1) A recursive approach may not be the best fit. 2) Put what&#39;s after the <code>if</code> in its <code>else</code> clause."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1666347246,"post_id":74152081,"comment_id":130920742,"body_markdown":"3) Please don&#39;t post pictures of your output; post it as text inside the question, instead.","body":"3) Please don&#39;t post pictures of your output; post it as text inside the question, instead."}],"answers":[{"tags":[],"owner":{"account_id":8391404,"reputation":293,"user_id":6300032,"display_name":"SimGel"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1666347618,"creation_date":1666347618,"answer_id":74152180,"question_id":74152081,"body_markdown":"You are calling the main method again (recursive call) so after you entered &quot;9&quot; the `main(args);` call returns and print the output for the first input.\r\n\r\nSo you should ask for a new number until you get a correct input.\r\n\r\n```lang-java\r\nimport java.util.Scanner;\r\n\r\npublic class PythagoreanTriplet {\r\n    public static void main(String[]args) //main method\r\n    {\r\n        Scanner sc = new Scanner(System.in);\r\n\r\n        System.out.println(&quot;Enter number to find Pythagorean Triplet : &quot;);\r\n        int a = sc.nextInt();\r\n        while(a&lt;2) //our program only works on natural numbers greater than 1\r\n        {\r\n            System.out.println(&quot;&quot;);\r\n            System.out.println(&quot;Your number is not a natural number or is 1&quot;);\r\n            System.out.println();\r\n\r\n            System.out.println(&quot;Please retry with a number greater than 1 : &quot;);\r\n            a = sc.nextInt();\r\n        }\r\n        double p1= 2*a;\r\n        double p2=Math.pow(a,2) - 1;\r\n        double p3=Math.pow(a,2) + 1;\r\n        System.out.println(&quot;&quot;);\r\n        System.out.println(p1 + &quot;, &quot; + p2 + &quot; and &quot; + p3 + &quot; form a &#39;Pythagorean Triplet&#39;&quot;);\r\n    }\r\n}\r\n```","title":"Why is my program printing two statements including of my previously entered number?","body":"<p>You are calling the main method again (recursive call) so after you entered &quot;9&quot; the <code>main(args);</code> call returns and print the output for the first input.</p>\n<p>So you should ask for a new number until you get a correct input.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class PythagoreanTriplet {\n    public static void main(String[]args) //main method\n    {\n        Scanner sc = new Scanner(System.in);\n\n        System.out.println(&quot;Enter number to find Pythagorean Triplet : &quot;);\n        int a = sc.nextInt();\n        while(a&lt;2) //our program only works on natural numbers greater than 1\n        {\n            System.out.println(&quot;&quot;);\n            System.out.println(&quot;Your number is not a natural number or is 1&quot;);\n            System.out.println();\n\n            System.out.println(&quot;Please retry with a number greater than 1 : &quot;);\n            a = sc.nextInt();\n        }\n        double p1= 2*a;\n        double p2=Math.pow(a,2) - 1;\n        double p3=Math.pow(a,2) + 1;\n        System.out.println(&quot;&quot;);\n        System.out.println(p1 + &quot;, &quot; + p2 + &quot; and &quot; + p3 + &quot; form a 'Pythagorean Triplet'&quot;);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":129540,"reputation":210839,"user_id":328193,"accept_rate":91,"display_name":"David"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666347972,"creation_date":1666347972,"answer_id":74152262,"question_id":74152081,"body_markdown":"Calling a method doesn&#39;t *stop* the current method from executing.  When the method you call completes, the current method continues.\r\n\r\nFor example, when you do this:\r\n\r\n    System.out.println();\r\n\r\nYou are calling a method.  That method performs its logic, completes, and then this code continues on to the next statement.  So when you do this:\r\n\r\n    main();\r\n\r\n*The same exact thing happens.*  The method performs its logic (in this case accepts your new input and produces output), completes, and then this code continues on to the next statement.  That next logic is to produce the rest of the output.\r\n\r\n---\r\n\r\nBasically, recursion is the wrong tool for this job.  Instead, *loop* over reading the input until correct input is received.  Perhaps something like this:\r\n\r\n    Scanner sc = new Scanner(System.in);\r\n    int a = 0;\r\n    while (a &lt; 2) {\r\n        // your loop logic\r\n    }\r\n\r\nNotice how `a` is initialized to something that will cause us to enter the loop.  Then *in the loop* is the operation we want to repeat, where we will continually ask for input *until* `a` is a valid value:\r\n\r\n    Scanner sc = new Scanner(System.in);\r\n    int a = 0;\r\n    while (a &lt; 2) {\r\n        System.out.println(&quot;Enter number to find Pythagorean Triplet : &quot;);\r\n        a = sc.nextInt();\r\n        if (a &lt; 2) {\r\n            System.out.println(&quot;&quot;);\r\n            System.out.println(&quot;Your number is not a natural number or is 1&quot;);\r\n            System.out.println();\r\n        }\r\n    }\r\n\r\nThere are different ways to structure it.  In this approach I&#39;ve repeated the `a &lt; 2` logic.  Another approach might ask outside the loop then re-ask within the loop, repeating the `nextInt()` logic.  How you structure it generally comes down to the UX you want in the prompts and personal preference on how to organize the logic.\r\n\r\nBut overall the point here is that you want a *loop*, not *recursion*.","title":"Why is my program printing two statements including of my previously entered number?","body":"<p>Calling a method doesn't <em>stop</em> the current method from executing.  When the method you call completes, the current method continues.</p>\n<p>For example, when you do this:</p>\n<pre><code>System.out.println();\n</code></pre>\n<p>You are calling a method.  That method performs its logic, completes, and then this code continues on to the next statement.  So when you do this:</p>\n<pre><code>main();\n</code></pre>\n<p><em>The same exact thing happens.</em>  The method performs its logic (in this case accepts your new input and produces output), completes, and then this code continues on to the next statement.  That next logic is to produce the rest of the output.</p>\n<hr />\n<p>Basically, recursion is the wrong tool for this job.  Instead, <em>loop</em> over reading the input until correct input is received.  Perhaps something like this:</p>\n<pre><code>Scanner sc = new Scanner(System.in);\nint a = 0;\nwhile (a &lt; 2) {\n    // your loop logic\n}\n</code></pre>\n<p>Notice how <code>a</code> is initialized to something that will cause us to enter the loop.  Then <em>in the loop</em> is the operation we want to repeat, where we will continually ask for input <em>until</em> <code>a</code> is a valid value:</p>\n<pre><code>Scanner sc = new Scanner(System.in);\nint a = 0;\nwhile (a &lt; 2) {\n    System.out.println(&quot;Enter number to find Pythagorean Triplet : &quot;);\n    a = sc.nextInt();\n    if (a &lt; 2) {\n        System.out.println(&quot;&quot;);\n        System.out.println(&quot;Your number is not a natural number or is 1&quot;);\n        System.out.println();\n    }\n}\n</code></pre>\n<p>There are different ways to structure it.  In this approach I've repeated the <code>a &lt; 2</code> logic.  Another approach might ask outside the loop then re-ask within the loop, repeating the <code>nextInt()</code> logic.  How you structure it generally comes down to the UX you want in the prompts and personal preference on how to organize the logic.</p>\n<p>But overall the point here is that you want a <em>loop</em>, not <em>recursion</em>.</p>\n"},{"tags":[],"owner":{"account_id":17150101,"reputation":61,"user_id":12412231,"display_name":"A-New-User"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666351159,"creation_date":1666351159,"answer_id":74152876,"question_id":74152081,"body_markdown":"Since none of the above answers are accepted as the answer to your problem, i guess you actually want to work with recursion. Following is a representation of what your program currently does with the your example inputs.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PYmIA.png\r\n\r\nwhat we need to do now, is to stop the first &#39;main()&#39; call from printing its output. to achive that, we can simply &#39;return&#39; after calling &#39;main()&#39; the second time, or put the block of code which prints the output into the &#39;else&#39; block of your if statement. your program would then look something like this:\r\n\r\nusing &#39;return&#39; to stop wrong outputs\r\n    \r\n    import java.util.*;\r\n    public class Pythagorean_Triplet\r\n    {\r\n        private static int a;\r\n        public static void main(String[]args) //main method \r\n        {\r\n            Scanner sc=new Scanner(System.in);\r\n            System.out.println(&quot;Enter number to find Pythagorean Triplet : &quot;);\r\n            int a=sc.nextInt();\r\n            if(a&lt;2) //our program only works on natural numbers greater than 1\r\n            {\r\n                System.out.println(&quot;&quot;);\r\n                System.out.println(&quot;Your number is not a natural number or is 1&quot;);\r\n                System.out.println();\r\n                main(args);\r\n                return;\r\n            }\r\n            double p1= 2*a;\r\n            double p2=Math.pow(a,2) - 1; \r\n            double p3=Math.pow(a,2) + 1;  \r\n            System.out.println(&quot;&quot;);\r\n            System.out.println(p1 + &quot;, &quot; + p2 + &quot; and &quot; + p3 + &quot; form a &#39;Pythagorean Triplet&#39;&quot;);\r\n        }\r\n    }\r\n\r\nusing &#39;else&#39; to stop wrong outputs\r\n    \r\n    import java.util.*;\r\n    public class Pythagorean_Triplet\r\n    {\r\n        private static int a;\r\n        public static void main(String[]args) //main method \r\n        {\r\n            Scanner sc=new Scanner(System.in);\r\n            System.out.println(&quot;Enter number to find Pythagorean Triplet : &quot;);\r\n            int a=sc.nextInt();\r\n            if(a&lt;2) //our program only works on natural numbers greater than 1\r\n            {\r\n                System.out.println(&quot;&quot;);\r\n                System.out.println(&quot;Your number is not a natural number or is 1&quot;);\r\n                System.out.println();\r\n                main(args);\r\n            } else {\r\n                double p1= 2*a;\r\n                double p2=Math.pow(a,2) - 1; \r\n                double p3=Math.pow(a,2) + 1;  \r\n                System.out.println(&quot;&quot;);\r\n                System.out.println(p1 + &quot;, &quot; + p2 + &quot; and &quot; + p3 + &quot; form a &#39;Pythagorean Triplet&#39;&quot;);\r\n            }\r\n        }\r\n    }","title":"Why is my program printing two statements including of my previously entered number?","body":"<p>Since none of the above answers are accepted as the answer to your problem, i guess you actually want to work with recursion. Following is a representation of what your program currently does with the your example inputs.</p>\n<p><a href=\"https://i.stack.imgur.com/PYmIA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PYmIA.png\" alt=\"enter image description here\" /></a></p>\n<p>what we need to do now, is to stop the first 'main()' call from printing its output. to achive that, we can simply 'return' after calling 'main()' the second time, or put the block of code which prints the output into the 'else' block of your if statement. your program would then look something like this:</p>\n<p>using 'return' to stop wrong outputs</p>\n<pre><code>import java.util.*;\npublic class Pythagorean_Triplet\n{\n    private static int a;\n    public static void main(String[]args) //main method \n    {\n        Scanner sc=new Scanner(System.in);\n        System.out.println(&quot;Enter number to find Pythagorean Triplet : &quot;);\n        int a=sc.nextInt();\n        if(a&lt;2) //our program only works on natural numbers greater than 1\n        {\n            System.out.println(&quot;&quot;);\n            System.out.println(&quot;Your number is not a natural number or is 1&quot;);\n            System.out.println();\n            main(args);\n            return;\n        }\n        double p1= 2*a;\n        double p2=Math.pow(a,2) - 1; \n        double p3=Math.pow(a,2) + 1;  \n        System.out.println(&quot;&quot;);\n        System.out.println(p1 + &quot;, &quot; + p2 + &quot; and &quot; + p3 + &quot; form a 'Pythagorean Triplet'&quot;);\n    }\n}\n</code></pre>\n<p>using 'else' to stop wrong outputs</p>\n<pre><code>import java.util.*;\npublic class Pythagorean_Triplet\n{\n    private static int a;\n    public static void main(String[]args) //main method \n    {\n        Scanner sc=new Scanner(System.in);\n        System.out.println(&quot;Enter number to find Pythagorean Triplet : &quot;);\n        int a=sc.nextInt();\n        if(a&lt;2) //our program only works on natural numbers greater than 1\n        {\n            System.out.println(&quot;&quot;);\n            System.out.println(&quot;Your number is not a natural number or is 1&quot;);\n            System.out.println();\n            main(args);\n        } else {\n            double p1= 2*a;\n            double p2=Math.pow(a,2) - 1; \n            double p3=Math.pow(a,2) + 1;  \n            System.out.println(&quot;&quot;);\n            System.out.println(p1 + &quot;, &quot; + p2 + &quot; and &quot; + p3 + &quot; form a 'Pythagorean Triplet'&quot;);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":26691433,"reputation":1,"user_id":20299966,"display_name":"Neil "},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1666351159,"creation_date":1666347096,"question_id":74152081,"body_markdown":"&#39;So question was to find pytho triplet using the number inputted but number has to be greater than one and natural. \r\n\r\n\r\nThe error I am facing is that suppose I enter -4, then it runs method again and asks me to enter number again and I enter suppose 9 but while printing final statement, it prints triplets of both -4 and 9. How can I fix it as I only want triplet of 9 to be printed?\r\n\r\n[![][1]][1]\r\n \r\n\r\n    import java.util.*;\r\n    public class Pythagorean_Triplet\r\n    {\r\n        private static int a;\r\n        public static void main(String[]args) //main method \r\n        {\r\n            Scanner sc=new Scanner(System.in);\r\n            System.out.println(&quot;Enter number to find Pythagorean Triplet : &quot;);\r\n            int a=sc.nextInt();\r\n            if(a&lt;2) //our program only works on natural numbers greater than 1\r\n            {\r\n                System.out.println(&quot;&quot;);\r\n                System.out.println(&quot;Your number is not a natural number or is 1&quot;);\r\n                System.out.println();\r\n                main(args);\r\n            }\r\n            double p1= 2*a;\r\n            double p2=Math.pow(a,2) - 1; \r\n            double p3=Math.pow(a,2) + 1;  \r\n            System.out.println(&quot;&quot;);\r\n            System.out.println(p1 + &quot;, &quot; + p2 + &quot; and &quot; + p3 + &quot; form a &#39;Pythagorean Triplet&#39;&quot;);\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WHvTo.png","title":"Why is my program printing two statements including of my previously entered number?","body":"<p>'So question was to find pytho triplet using the number inputted but number has to be greater than one and natural.</p>\n<p>The error I am facing is that suppose I enter -4, then it runs method again and asks me to enter number again and I enter suppose 9 but while printing final statement, it prints triplets of both -4 and 9. How can I fix it as I only want triplet of 9 to be printed?</p>\n<p><a href=\"https://i.stack.imgur.com/WHvTo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WHvTo.png\" alt=\"\" /></a></p>\n<pre><code>import java.util.*;\npublic class Pythagorean_Triplet\n{\n    private static int a;\n    public static void main(String[]args) //main method \n    {\n        Scanner sc=new Scanner(System.in);\n        System.out.println(&quot;Enter number to find Pythagorean Triplet : &quot;);\n        int a=sc.nextInt();\n        if(a&lt;2) //our program only works on natural numbers greater than 1\n        {\n            System.out.println(&quot;&quot;);\n            System.out.println(&quot;Your number is not a natural number or is 1&quot;);\n            System.out.println();\n            main(args);\n        }\n        double p1= 2*a;\n        double p2=Math.pow(a,2) - 1; \n        double p3=Math.pow(a,2) + 1;  \n        System.out.println(&quot;&quot;);\n        System.out.println(p1 + &quot;, &quot; + p2 + &quot; and &quot; + p3 + &quot; form a 'Pythagorean Triplet'&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":16673497,"reputation":2011,"user_id":12050506,"display_name":"possum"},"score":0,"creation_date":1596728746,"post_id":63285854,"comment_id":111910567,"body_markdown":"Do you have a layout file resource for `activity_main` and does `app_name` exist in your strings resource?","body":"Do you have a layout file resource for <code>activity_main</code> and does <code>app_name</code> exist in your strings resource?"},{"owner":{"account_id":5342740,"reputation":81,"user_id":4259222,"display_name":"Gnat"},"score":0,"creation_date":1596798242,"post_id":63285854,"comment_id":111933383,"body_markdown":"Yes, my strings.xml file contains only the string &quot;&lt;string name=&quot;app_name&quot;&gt;CameraX App&lt;/string&gt;&quot;, and my layout file is activity_main.xml","body":"Yes, my strings.xml file contains only the string &quot;&lt;string name=&quot;app_name&quot;&gt;CameraX App&lt;/string&gt;&quot;, and my layout file is activity_main.xml"}],"answers":[{"comments":[{"owner":{"account_id":4002701,"reputation":146,"user_id":3298300,"display_name":"Maurilio Atila"},"score":0,"creation_date":1632924552,"post_id":64590140,"comment_id":122625011,"body_markdown":"Yes this work, I add: `package com.example.cameraxapp`","body":"Yes this work, I add: <code>package com.example.cameraxapp</code>"}],"tags":[],"owner":{"account_id":19851570,"reputation":31,"user_id":14541964,"display_name":"Anuar MC"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1603970610,"creation_date":1603970610,"answer_id":64590140,"question_id":63285854,"body_markdown":"You need to add in line 0 of MainActivity.kt package [NAME_PROJECT] with project name, for example `package com.example.myapplication`\r\n\r\n\r\n\r\n","title":"Android Studio, &quot;Unresolved Reference: activity_main&quot;","body":"<p>You need to add in line 0 of MainActivity.kt package [NAME_PROJECT] with project name, for example <code>package com.example.myapplication</code></p>\n"},{"tags":[],"owner":{"account_id":48818,"reputation":40628,"user_id":145173,"accept_rate":79,"display_name":"Edward Brey"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1609066952,"creation_date":1609066952,"answer_id":65465047,"question_id":63285854,"body_markdown":"The example that you pasted in didn&#39;t include the package name on the first line. To restore the package name, add this line to the top of `MainActivity.kt`:\r\n\r\n``` kotlin\r\npackage com.example.myapplication\r\n```\r\n\r\nExcept replace `com.example.myapplication` with your package name.","title":"Android Studio, &quot;Unresolved Reference: activity_main&quot;","body":"<p>The example that you pasted in didn't include the package name on the first line. To restore the package name, add this line to the top of <code>MainActivity.kt</code>:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>package com.example.myapplication\n</code></pre>\n<p>Except replace <code>com.example.myapplication</code> with your package name.</p>\n"},{"tags":[],"owner":{"account_id":12258236,"reputation":323,"user_id":8946710,"display_name":"CWD"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651061056,"creation_date":1651061056,"answer_id":72028388,"question_id":63285854,"body_markdown":"I had this issue and it was because I accidentally edited the line that loads this info. Make sure you have the line below in your MainActivity.kt\r\n\r\n    import android.R.*\r\n\r\n ","title":"Android Studio, &quot;Unresolved Reference: activity_main&quot;","body":"<p>I had this issue and it was because I accidentally edited the line that loads this info. Make sure you have the line below in your MainActivity.kt</p>\n<pre><code>import android.R.*\n</code></pre>\n"}],"owner":{"account_id":5342740,"reputation":81,"user_id":4259222,"display_name":"Gnat"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5411,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1666350583,"creation_date":1596724322,"question_id":63285854,"body_markdown":"I am following [this tutorial][1] and cannot figure out how to resolve the errors &quot;Unresolved Reference: activity_main&quot; and &quot;Unresolved Reference: app_name&quot;. The tutorial was created fairly recently, so I don&#39;t think it&#39;s deprecated, but I have only recently reinstalled Android Studio, so everything should be default.\r\n\r\nWhen trying to create a resource with that name, both resources fail to create because they already exist.\r\n\r\nHere is the MainActivity.kt:\r\n\r\n``` \r\nimport androidx.appcompat.app.AppCompatActivity\r\nimport android.os.Bundle\r\nimport android.Manifest\r\nimport android.content.pm.PackageManager\r\nimport android.net.Uri\r\nimport android.util.Log\r\nimport android.widget.Toast\r\nimport androidx.core.app.ActivityCompat\r\nimport androidx.core.content.ContextCompat\r\nimport java.util.concurrent.Executors\r\nimport androidx.camera.core.*\r\nimport androidx.camera.lifecycle.ProcessCameraProvider\r\nimport kotlinx.android.synthetic.main.activity_main.*\r\nimport java.io.File\r\nimport java.nio.ByteBuffer\r\nimport java.text.SimpleDateFormat\r\nimport java.util.*\r\nimport java.util.concurrent.ExecutorService\r\ntypealias LumaListener = (luma: Double) -&gt; Unit\r\n\r\nclass MainActivity : AppCompatActivity() {\r\n   private var imageCapture: ImageCapture? = null\r\n\r\n   private lateinit var outputDirectory: File\r\n   private lateinit var cameraExecutor: ExecutorService\r\n\r\n   override fun onCreate(savedInstanceState: Bundle?) {\r\n       super.onCreate(savedInstanceState)\r\n       setContentView(R.layout.activity_main)\r\n\r\n       // Request camera permissions\r\n       if (allPermissionsGranted()) {\r\n           startCamera()\r\n       } else {\r\n           ActivityCompat.requestPermissions(\r\n               this, REQUIRED_PERMISSIONS, REQUEST_CODE_PERMISSIONS)\r\n       }\r\n\r\n       // Setup the listener for take photo button\r\n       camera_capture_button.setOnClickListener { takePhoto() }\r\n\r\n       outputDirectory = getOutputDirectory()\r\n\r\n       cameraExecutor = Executors.newSingleThreadExecutor()\r\n   }\r\n\r\n   private fun takePhoto() {}\r\n\r\n   private fun startCamera() {}\r\n\r\n   private fun allPermissionsGranted() = REQUIRED_PERMISSIONS.all {\r\n       ContextCompat.checkSelfPermission(\r\n           baseContext, it) == PackageManager.PERMISSION_GRANTED\r\n   }\r\n\r\n   private fun getOutputDirectory(): File {\r\n       val mediaDir = externalMediaDirs.firstOrNull()?.let {\r\n           File(it, resources.getString(R.string.app_name)).apply { mkdirs() } }\r\n       return if (mediaDir != null &amp;&amp; mediaDir.exists())\r\n           mediaDir else filesDir\r\n   }\r\n\r\n   override fun onDestroy() {\r\n       super.onDestroy()\r\n       cameraExecutor.shutdown()\r\n   }\r\n\r\n   companion object {\r\n       private const val TAG = &quot;CameraXBasic&quot;\r\n       private const val FILENAME_FORMAT = &quot;yyyy-MM-dd-HH-mm-ss-SSS&quot;\r\n       private const val REQUEST_CODE_PERMISSIONS = 10\r\n       private val REQUIRED_PERMISSIONS = arrayOf(Manifest.permission.CAMERA)\r\n   }\r\n}\r\n```\r\n\r\n```R.layout.activity_main``` and ```R.string.app_name``` are the lines in question.\r\n\r\nHere is the Module: app build.gradle:\r\n\r\n```\r\napply plugin: &#39;com.android.application&#39;\r\napply plugin: &#39;kotlin-android&#39;\r\napply plugin: &#39;kotlin-android-extensions&#39;\r\n\r\nandroid {\r\n    compileSdkVersion 30\r\n    buildToolsVersion &quot;30.0.1&quot;\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.example.cameraxapp&quot;\r\n        minSdkVersion 21\r\n        targetSdkVersion 30\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n}\r\n\r\ndependencies {\r\n    implementation fileTree(dir: &quot;libs&quot;, include: [&quot;*.jar&quot;])\r\n    implementation &quot;org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version&quot;\r\n    implementation &#39;androidx.core:core-ktx:1.1.0&#39;\r\n    implementation &#39;androidx.appcompat:appcompat:1.1.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:1.1.3&#39;\r\n    def camerax_version = &quot;1.0.0-beta07&quot;\r\n// CameraX core library using camera2 implementation\r\n    implementation &quot;androidx.camera:camera-camera2:$camerax_version&quot;\r\n// CameraX Lifecycle Library\r\n    implementation &quot;androidx.camera:camera-lifecycle:$camerax_version&quot;\r\n// CameraX View class\r\n    implementation &quot;androidx.camera:camera-view:1.0.0-alpha14&quot;\r\n    testImplementation &#39;junit:junit:4.12&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.1&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.2.0&#39;\r\n\r\n}\r\n```\r\n\r\nI&#39;ve seen people suggest removing ```import android.R```, but I cannot find anything in my project with this import statement. Any suggestions as to which file this statement might be in would be appreciated.\r\n\r\n[1]: https://codelabs.developers.google.com/codelabs/camerax-getting-started/index.html?index=..%2F..index","title":"Android Studio, &quot;Unresolved Reference: activity_main&quot;","body":"<p>I am following <a href=\"https://codelabs.developers.google.com/codelabs/camerax-getting-started/index.html?index=..%2F..index\" rel=\"nofollow noreferrer\">this tutorial</a> and cannot figure out how to resolve the errors &quot;Unresolved Reference: activity_main&quot; and &quot;Unresolved Reference: app_name&quot;. The tutorial was created fairly recently, so I don't think it's deprecated, but I have only recently reinstalled Android Studio, so everything should be default.</p>\n<p>When trying to create a resource with that name, both resources fail to create because they already exist.</p>\n<p>Here is the MainActivity.kt:</p>\n<pre><code>import androidx.appcompat.app.AppCompatActivity\nimport android.os.Bundle\nimport android.Manifest\nimport android.content.pm.PackageManager\nimport android.net.Uri\nimport android.util.Log\nimport android.widget.Toast\nimport androidx.core.app.ActivityCompat\nimport androidx.core.content.ContextCompat\nimport java.util.concurrent.Executors\nimport androidx.camera.core.*\nimport androidx.camera.lifecycle.ProcessCameraProvider\nimport kotlinx.android.synthetic.main.activity_main.*\nimport java.io.File\nimport java.nio.ByteBuffer\nimport java.text.SimpleDateFormat\nimport java.util.*\nimport java.util.concurrent.ExecutorService\ntypealias LumaListener = (luma: Double) -&gt; Unit\n\nclass MainActivity : AppCompatActivity() {\n   private var imageCapture: ImageCapture? = null\n\n   private lateinit var outputDirectory: File\n   private lateinit var cameraExecutor: ExecutorService\n\n   override fun onCreate(savedInstanceState: Bundle?) {\n       super.onCreate(savedInstanceState)\n       setContentView(R.layout.activity_main)\n\n       // Request camera permissions\n       if (allPermissionsGranted()) {\n           startCamera()\n       } else {\n           ActivityCompat.requestPermissions(\n               this, REQUIRED_PERMISSIONS, REQUEST_CODE_PERMISSIONS)\n       }\n\n       // Setup the listener for take photo button\n       camera_capture_button.setOnClickListener { takePhoto() }\n\n       outputDirectory = getOutputDirectory()\n\n       cameraExecutor = Executors.newSingleThreadExecutor()\n   }\n\n   private fun takePhoto() {}\n\n   private fun startCamera() {}\n\n   private fun allPermissionsGranted() = REQUIRED_PERMISSIONS.all {\n       ContextCompat.checkSelfPermission(\n           baseContext, it) == PackageManager.PERMISSION_GRANTED\n   }\n\n   private fun getOutputDirectory(): File {\n       val mediaDir = externalMediaDirs.firstOrNull()?.let {\n           File(it, resources.getString(R.string.app_name)).apply { mkdirs() } }\n       return if (mediaDir != null &amp;&amp; mediaDir.exists())\n           mediaDir else filesDir\n   }\n\n   override fun onDestroy() {\n       super.onDestroy()\n       cameraExecutor.shutdown()\n   }\n\n   companion object {\n       private const val TAG = &quot;CameraXBasic&quot;\n       private const val FILENAME_FORMAT = &quot;yyyy-MM-dd-HH-mm-ss-SSS&quot;\n       private const val REQUEST_CODE_PERMISSIONS = 10\n       private val REQUIRED_PERMISSIONS = arrayOf(Manifest.permission.CAMERA)\n   }\n}\n</code></pre>\n<p><code>R.layout.activity_main</code> and <code>R.string.app_name</code> are the lines in question.</p>\n<p>Here is the Module: app build.gradle:</p>\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-android-extensions'\n\nandroid {\n    compileSdkVersion 30\n    buildToolsVersion &quot;30.0.1&quot;\n\n    defaultConfig {\n        applicationId &quot;com.example.cameraxapp&quot;\n        minSdkVersion 21\n        targetSdkVersion 30\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n}\n\ndependencies {\n    implementation fileTree(dir: &quot;libs&quot;, include: [&quot;*.jar&quot;])\n    implementation &quot;org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version&quot;\n    implementation 'androidx.core:core-ktx:1.1.0'\n    implementation 'androidx.appcompat:appcompat:1.1.0'\n    implementation 'androidx.constraintlayout:constraintlayout:1.1.3'\n    def camerax_version = &quot;1.0.0-beta07&quot;\n// CameraX core library using camera2 implementation\n    implementation &quot;androidx.camera:camera-camera2:$camerax_version&quot;\n// CameraX Lifecycle Library\n    implementation &quot;androidx.camera:camera-lifecycle:$camerax_version&quot;\n// CameraX View class\n    implementation &quot;androidx.camera:camera-view:1.0.0-alpha14&quot;\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.1'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.2.0'\n\n}\n</code></pre>\n<p>I've seen people suggest removing <code>import android.R</code>, but I cannot find anything in my project with this import statement. Any suggestions as to which file this statement might be in would be appreciated.</p>\n"},{"tags":["java","docker","cassandra","datatables","cqlsh"],"answers":[{"comments":[{"owner":{"account_id":399610,"reputation":6990,"user_id":765076,"accept_rate":59,"display_name":"Shane Gannon"},"score":0,"creation_date":1665568865,"post_id":74038978,"comment_id":130729547,"body_markdown":"Is there a work around? In my test container docker setup, AFAIK, there&#39;s only a single node. Would that not bypass the issue above?","body":"Is there a work around? In my test container docker setup, AFAIK, there&#39;s only a single node. Would that not bypass the issue above?"},{"owner":{"account_id":9963,"reputation":82992,"user_id":18627,"display_name":"Alex Ott"},"score":0,"creation_date":1665570683,"post_id":74038978,"comment_id":130730169,"body_markdown":"it really hard to say without the actual code","body":"it really hard to say without the actual code"},{"owner":{"account_id":399610,"reputation":6990,"user_id":765076,"accept_rate":59,"display_name":"Shane Gannon"},"score":0,"creation_date":1665573303,"post_id":74038978,"comment_id":130731188,"body_markdown":"This might be too little context. But the Java code boils down to `cqlSession.execute( SimpleStatement.newInstance(query).setIdempotent(isIdempotent) );` and uses `java-driver-core` version `4.14.1`. Where `query` is the CQL statement to create a table. e.g. `CREATE TABLE settings (key text, value text, PRIMARY KEY (key))` which took 1.125 s to run.","body":"This might be too little context. But the Java code boils down to <code>cqlSession.execute( SimpleStatement.newInstance(query).setIdempotent(isIdempoten&zwnj;&#8203;t) );</code> and uses <code>java-driver-core</code> version <code>4.14.1</code>. Where <code>query</code> is the CQL statement to create a table. e.g. <code>CREATE TABLE settings (key text, value text, PRIMARY KEY (key))</code> which took 1.125 s to run."},{"owner":{"account_id":9963,"reputation":82992,"user_id":18627,"display_name":"Alex Ott"},"score":0,"creation_date":1665576373,"post_id":74038978,"comment_id":130732293,"body_markdown":"As I remember, driver 4.x explicitly waits for schema agreement...","body":"As I remember, driver 4.x explicitly waits for schema agreement..."},{"owner":{"account_id":399610,"reputation":6990,"user_id":765076,"accept_rate":59,"display_name":"Shane Gannon"},"score":0,"creation_date":1665581810,"post_id":74038978,"comment_id":130734550,"body_markdown":"Thanks for the direction. I&#39;ll need to investigate this further. Looks like there are some options available - https://docs.datastax.com/en/developer/java-driver/4.2/manual/core/metadata/schema/#schema-agreement","body":"Thanks for the direction. I&#39;ll need to investigate this further. Looks like there are some options available - <a href=\"https://docs.datastax.com/en/developer/java-driver/4.2/manual/core/metadata/schema/#schema-agreement\" rel=\"nofollow noreferrer\">docs.datastax.com/en/developer/java-driver/4.2/manual/core/&hellip;</a>"}],"tags":[],"owner":{"account_id":9963,"reputation":82992,"user_id":18627,"display_name":"Alex Ott"},"comment_count":5,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1665564405,"creation_date":1665564405,"answer_id":74038978,"question_id":74033150,"body_markdown":"Because Cassandra is a distributed system, when you create a table you need to make sure that changes are propagated to all nodes so schema will be in agreement. This is especially important when you use something like Java driver that by default uses round-robin policy, so different DDL statements could be sent to different nodes, causing schema mismatch errors.  You can find an example of how to do that correctly [here][1].\r\n\r\nIn `cqlsh` it&#39;s not the issue as it always uses the same connection to send all commands, so you won&#39;t get schema mismatch because schema versions are generated on the same node. \r\n\r\n\r\n  [1]: https://github.com/alexott/cassandra-dse-playground/blob/master/driver-1.x/src/main/java/com/datastax/alexott/demos/WhiteListPolicyExample.java#L41","title":"Is Cassandra table creation slow?","body":"<p>Because Cassandra is a distributed system, when you create a table you need to make sure that changes are propagated to all nodes so schema will be in agreement. This is especially important when you use something like Java driver that by default uses round-robin policy, so different DDL statements could be sent to different nodes, causing schema mismatch errors.  You can find an example of how to do that correctly <a href=\"https://github.com/alexott/cassandra-dse-playground/blob/master/driver-1.x/src/main/java/com/datastax/alexott/demos/WhiteListPolicyExample.java#L41\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>In <code>cqlsh</code> it's not the issue as it always uses the same connection to send all commands, so you won't get schema mismatch because schema versions are generated on the same node.</p>\n"},{"tags":[],"owner":{"account_id":399610,"reputation":6990,"user_id":765076,"accept_rate":59,"display_name":"Shane Gannon"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666350468,"creation_date":1666350468,"answer_id":74152732,"question_id":74033150,"body_markdown":"Turns out in the `java-driver-core` there is a feature called [debouncing](https://docs.datastax.com/en/developer/java-driver/4.14/manual/core/performance/#debouncing). Here requests are accumulated over 1 second / an upper count before being sent to Cassandra. You can see the code [here](https://github.com/datastax/java-driver/blob/4.x/core/src/main/java/com/datastax/oss/driver/internal/core/util/concurrent/Debouncer.java#L127).\r\n\r\nThere are driver config settings that can be used to control the debounce behaviour, which I set as\r\n\r\n    datastax-java-driver.advanced.metadata {\r\n      schema.debouncer {\r\n        window = 1 milliseconds\r\n        max-events = 1\r\n      }\r\n    }\r\n\r\nin order to remove the 1 second delay. This is appropriate for my use case. But the change requires consideration depending on usage.","title":"Is Cassandra table creation slow?","body":"<p>Turns out in the <code>java-driver-core</code> there is a feature called <a href=\"https://docs.datastax.com/en/developer/java-driver/4.14/manual/core/performance/#debouncing\" rel=\"nofollow noreferrer\">debouncing</a>. Here requests are accumulated over 1 second / an upper count before being sent to Cassandra. You can see the code <a href=\"https://github.com/datastax/java-driver/blob/4.x/core/src/main/java/com/datastax/oss/driver/internal/core/util/concurrent/Debouncer.java#L127\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>There are driver config settings that can be used to control the debounce behaviour, which I set as</p>\n<pre><code>datastax-java-driver.advanced.metadata {\n  schema.debouncer {\n    window = 1 milliseconds\n    max-events = 1\n  }\n}\n</code></pre>\n<p>in order to remove the 1 second delay. This is appropriate for my use case. But the change requires consideration depending on usage.</p>\n"}],"owner":{"account_id":399610,"reputation":6990,"user_id":765076,"accept_rate":59,"display_name":"Shane Gannon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":237,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74152732,"answer_count":2,"score":1,"last_activity_date":1666350468,"creation_date":1665516237,"question_id":74033150,"body_markdown":"I&#39;ve a Jar file that initialises my Cassandra database during which it creates ~13 tables. This file is being run by our tests where we start a Cassandra test container and use the jar to set it up.\r\n\r\nBut I&#39;m surprised to see that each table takes ~1-2 seconds to initialise, totaling ~15 seconds. If I manually create one of these tables, using `cqlsh`, it takes ~100-120 ms.\r\n\r\nIs there an explanation for this delay? Is there a work around?\r\n\r\nI came across https://stackoverflow.com/questions/35455968/why-does-it-take-so-long-to-create-a-table but I don&#39;t have any tabs in my tables.\r\n\r\n**Update**\r\n\r\nThe Java Code boils down to\r\n\r\n    cqlSession.execute( SimpleStatement.newInstance(query).setIdempotent(isIdempotent) );\r\n\r\nwhich uses the `java-driver-core` version `4.14.1`. The `query` looks like\r\n\r\n    CREATE TABLE settings (key text, value text, PRIMARY KEY (key))\r\n\r\nand took 1.125 seconds.","title":"Is Cassandra table creation slow?","body":"<p>I've a Jar file that initialises my Cassandra database during which it creates ~13 tables. This file is being run by our tests where we start a Cassandra test container and use the jar to set it up.</p>\n<p>But I'm surprised to see that each table takes ~1-2 seconds to initialise, totaling ~15 seconds. If I manually create one of these tables, using <code>cqlsh</code>, it takes ~100-120 ms.</p>\n<p>Is there an explanation for this delay? Is there a work around?</p>\n<p>I came across <a href=\"https://stackoverflow.com/questions/35455968/why-does-it-take-so-long-to-create-a-table\">Why does it take so long to create a table?</a> but I don't have any tabs in my tables.</p>\n<p><strong>Update</strong></p>\n<p>The Java Code boils down to</p>\n<pre><code>cqlSession.execute( SimpleStatement.newInstance(query).setIdempotent(isIdempotent) );\n</code></pre>\n<p>which uses the <code>java-driver-core</code> version <code>4.14.1</code>. The <code>query</code> looks like</p>\n<pre><code>CREATE TABLE settings (key text, value text, PRIMARY KEY (key))\n</code></pre>\n<p>and took 1.125 seconds.</p>\n"},{"tags":["java","docker","gradle"],"comments":[{"owner":{"account_id":6590538,"reputation":3948,"user_id":5091874,"display_name":"Warren Parad"},"score":0,"creation_date":1655492887,"post_id":72418896,"comment_id":128353706,"body_markdown":"You need to add your dockerfile to this with a minimal reproducible example for anyone to be able to help unfortunately.","body":"You need to add your dockerfile to this with a minimal reproducible example for anyone to be able to help unfortunately."}],"owner":{"account_id":13565139,"reputation":581,"user_id":9785462,"display_name":"Yang Liu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":477,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1666350269,"creation_date":1653768166,"question_id":72418896,"body_markdown":"I am able to do a [Gradle composite build][1] locally.\r\n\r\nNow I&#39;m trying to build the docker image in a docker container instead of on my local laptop. And I got this error:\r\n\r\n```\r\nIncluded build &#39;/home/yang-liu/eCommerceServiceDataAccessLayer&#39; does not exist.\r\n```\r\n\r\nSo it complains that above package doesn&#39;t exist.\r\n\r\nI&#39;m not sure how to build docker image inside docker container when multiple packages are involved. My two packages are in different GitHub repositories. \r\n\r\n\r\n# More Context\r\n\r\n### Project structure\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n### settings.gradle files\r\n\r\n`settings.gradle` for `eCommerceService`:\r\n\r\n```\r\nrootProject.name = &#39;eCommerceService&#39;\r\n\r\nincludeBuild(&quot;../eCommerceServiceDataAccessLayer&quot;)\r\n```\r\n\r\n\r\n`settings.gradle` for `eCommerceServiceDataAccessLayer`:\r\n\r\n```\r\nrootProject.name = &#39;eCommerceServiceDataAccessLayer&#39;\r\n```\r\n\r\n\r\n### Dockerfile in eCommerceService\r\n\r\n```\r\n########################################################################################\r\n# We are multi-stage builds here to build the docker image.\r\n# https://docs.docker.com/develop/develop-images/multistage-build/\r\n########################################################################################\r\n\r\n########################################################################################\r\n# Build Stage\r\n########################################################################################\r\nFROM openjdk:11 AS BUILD_ARTIFACT\r\nRUN ls\r\nARG APP_NAME=ecommerce-service\r\nARG USER_NAME=yang-liu\r\nENV APP_HOME=/home/$USER_NAME/$APP_NAME\r\nWORKDIR $APP_HOME\r\nCOPY build.gradle settings.gradle gradlew $APP_HOME\r\nCOPY gradle $APP_HOME/gradle\r\n\r\n# https://stackoverflow.com/questions/25873971/docker-cache-gradle-dependencies\r\nRUN ./gradlew build || return 0\r\nCOPY . .\r\nRUN ./gradlew build\r\n\r\n########################################################################################\r\n# Run Stage\r\n########################################################################################\r\n\r\nFROM openjdk:11-jre AS RUN_ARTIFACT\r\n# Run as a non-root user to mitigate security risks\r\n# https://security.stackexchange.com/questions/106860/can-a-root-user-inside-a-docker-lxc-break-the-security-of-the-whole-system\r\nARG GROUP_NAME=ecommerce-service\r\nARG USER_NAME=yang-liu\r\nARG APP_NAME=ecommerce-service\r\nARG USER_NAME=yang-liu\r\nENV APP_HOME=/home/$USER_NAME/$APP_NAME\r\nRUN addgroup $GROUP_NAME\r\n\r\nENV APP_HOME=/home/$USER_NAME\r\nWORKDIR $APP_HOME\r\n\r\nRUN adduser --ingroup $GROUP_NAME $USER_NAME --home $APP_HOME\r\nUSER $USER_NAME\r\n\r\n# Copy the artifact from BUILD_ARTIFACT stage\r\nCOPY --from=BUILD_ARTIFACT  $APP_HOME/build/libs/eCommerceService-0.0.1.jar eCommerceService-0.0.1.jar\r\n\r\n# Set ENTRYPOINT in exec form to run the container as an executable\r\nENTRYPOINT [&quot;java&quot;,&quot;-classpath&quot;, &quot;-jar&quot;,&quot;eCommerceService-0.0.1.jar&quot;]\r\n```\r\n\r\n\r\n  [1]: https://docs.gradle.org/current/userguide/composite_builds.html\r\n  [2]: https://i.stack.imgur.com/4oqZD.png","title":"How to do a Gradle composite build in Docker?","body":"<p>I am able to do a <a href=\"https://docs.gradle.org/current/userguide/composite_builds.html\" rel=\"nofollow noreferrer\">Gradle composite build</a> locally.</p>\n<p>Now I'm trying to build the docker image in a docker container instead of on my local laptop. And I got this error:</p>\n<pre><code>Included build '/home/yang-liu/eCommerceServiceDataAccessLayer' does not exist.\n</code></pre>\n<p>So it complains that above package doesn't exist.</p>\n<p>I'm not sure how to build docker image inside docker container when multiple packages are involved. My two packages are in different GitHub repositories.</p>\n<h1>More Context</h1>\n<h3>Project structure</h3>\n<p><a href=\"https://i.stack.imgur.com/4oqZD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4oqZD.png\" alt=\"enter image description here\" /></a></p>\n<h3>settings.gradle files</h3>\n<p><code>settings.gradle</code> for <code>eCommerceService</code>:</p>\n<pre><code>rootProject.name = 'eCommerceService'\n\nincludeBuild(&quot;../eCommerceServiceDataAccessLayer&quot;)\n</code></pre>\n<p><code>settings.gradle</code> for <code>eCommerceServiceDataAccessLayer</code>:</p>\n<pre><code>rootProject.name = 'eCommerceServiceDataAccessLayer'\n</code></pre>\n<h3>Dockerfile in eCommerceService</h3>\n<pre><code>########################################################################################\n# We are multi-stage builds here to build the docker image.\n# https://docs.docker.com/develop/develop-images/multistage-build/\n########################################################################################\n\n########################################################################################\n# Build Stage\n########################################################################################\nFROM openjdk:11 AS BUILD_ARTIFACT\nRUN ls\nARG APP_NAME=ecommerce-service\nARG USER_NAME=yang-liu\nENV APP_HOME=/home/$USER_NAME/$APP_NAME\nWORKDIR $APP_HOME\nCOPY build.gradle settings.gradle gradlew $APP_HOME\nCOPY gradle $APP_HOME/gradle\n\n# https://stackoverflow.com/questions/25873971/docker-cache-gradle-dependencies\nRUN ./gradlew build || return 0\nCOPY . .\nRUN ./gradlew build\n\n########################################################################################\n# Run Stage\n########################################################################################\n\nFROM openjdk:11-jre AS RUN_ARTIFACT\n# Run as a non-root user to mitigate security risks\n# https://security.stackexchange.com/questions/106860/can-a-root-user-inside-a-docker-lxc-break-the-security-of-the-whole-system\nARG GROUP_NAME=ecommerce-service\nARG USER_NAME=yang-liu\nARG APP_NAME=ecommerce-service\nARG USER_NAME=yang-liu\nENV APP_HOME=/home/$USER_NAME/$APP_NAME\nRUN addgroup $GROUP_NAME\n\nENV APP_HOME=/home/$USER_NAME\nWORKDIR $APP_HOME\n\nRUN adduser --ingroup $GROUP_NAME $USER_NAME --home $APP_HOME\nUSER $USER_NAME\n\n# Copy the artifact from BUILD_ARTIFACT stage\nCOPY --from=BUILD_ARTIFACT  $APP_HOME/build/libs/eCommerceService-0.0.1.jar eCommerceService-0.0.1.jar\n\n# Set ENTRYPOINT in exec form to run the container as an executable\nENTRYPOINT [&quot;java&quot;,&quot;-classpath&quot;, &quot;-jar&quot;,&quot;eCommerceService-0.0.1.jar&quot;]\n</code></pre>\n"},{"tags":["java","csv","parsing","univocity"],"comments":[{"owner":{"account_id":7373320,"reputation":17364,"user_id":5612858,"display_name":"Arnaud"},"score":0,"creation_date":1541498573,"post_id":53169596,"comment_id":93228889,"body_markdown":"Could you add a sample line from your file ?","body":"Could you add a sample line from your file ?"},{"owner":{"account_id":11954482,"reputation":811,"user_id":8747255,"display_name":"Mukhamedali  Zhadigerov"},"score":0,"creation_date":1541498819,"post_id":53169596,"comment_id":93229042,"body_markdown":"@Arnaud yes, sure. Check the edit.","body":"@Arnaud yes, sure. Check the edit."},{"owner":{"account_id":7373320,"reputation":17364,"user_id":5612858,"display_name":"Arnaud"},"score":0,"creation_date":1541499334,"post_id":53169596,"comment_id":93229361,"body_markdown":"Do you have any way to change how the csv file is generated ?","body":"Do you have any way to change how the csv file is generated ?"},{"owner":{"account_id":11954482,"reputation":811,"user_id":8747255,"display_name":"Mukhamedali  Zhadigerov"},"score":0,"creation_date":1541499398,"post_id":53169596,"comment_id":93229395,"body_markdown":"@Arnaud no, i don&#39;t generate it by myself, unfortunately.","body":"@Arnaud no, i don&#39;t generate it by myself, unfortunately."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":3,"creation_date":1541499969,"post_id":53169596,"comment_id":93229700,"body_markdown":"Double quotes are commonly used to escape text with delimiters in CSV, thus if your line looks like one entry that contains delimiters. I assume that `&quot;Kazakhstan, Almaty, 66, 3&quot;` would be an actual escaped entry and whoever wrote the line escaped it again and thus you get the escaped escape characters (i.e. double double quotes, `&quot;&quot;`). The problem with removing the double quotes at the start and the end of the line would not take care of the incorrectly escaped double quotes in the line itself.","body":"Double quotes are commonly used to escape text with delimiters in CSV, thus if your line looks like one entry that contains delimiters. I assume that <code>&quot;Kazakhstan, Almaty, 66, 3&quot;</code> would be an actual escaped entry and whoever wrote the line escaped it again and thus you get the escaped escape characters (i.e. double double quotes, <code>&quot;&quot;</code>). The problem with removing the double quotes at the start and the end of the line would not take care of the incorrectly escaped double quotes in the line itself."},{"owner":{"account_id":325503,"reputation":10378,"user_id":646723,"display_name":"Bruce Martin"},"score":2,"creation_date":1541500924,"post_id":53169596,"comment_id":93230222,"body_markdown":"the csv parser is parsing the line correctly; solutions `Fix the program` that creates the file or write a program to fix the file","body":"the csv parser is parsing the line correctly; solutions <code>Fix the program</code> that creates the file or write a program to fix the file"}],"answers":[{"tags":[],"owner":{"account_id":4865932,"reputation":6159,"user_id":3924178,"display_name":"Jeronimo Backes"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1541573242,"creation_date":1541573242,"answer_id":53184704,"question_id":53169596,"body_markdown":"Author of the library here. The input you have there is a well-formed CSV, with a single value consisting of:\r\n\r\n`100926653937,Kasym Amina,620414400630,Marzhan Erbolova,&quot;Kazakhstan, Almaty, 66, 3&quot;,87029845662`\r\n\r\nIf that row appeared in the middle of your input, I suppose your input has unescaped quotes (somewhere before you got to that line). Try playing with the unescaped quote handling setting:\r\n\r\nFor example, this might work:\r\n\r\n`settings.setUnescapedQuoteHandling(UnescapedQuoteHandling.STOP_AT_CLOSING_QUOTE);`\r\n\r\nIf nothing works, and all your lines look like the one you posted, then you can parse the input twice (which is shitty and slow but will work):\r\n\r\n    CsvParser parser = new CsvParser(settings);\r\n    parser.beginParsing(csvFile);\r\n    \r\n    List&lt;String[]&gt; out = new ArrayList&lt;&gt;();\r\n    String[] row;\r\n\twhile ((row = parser.parseNext()) != null) {\r\n        //got a row with unexpected length?\r\n        if(row.length == 1){\r\n            //break it down again.\r\n            row = parser.parseLine(row[0]);\r\n        }\r\n\t\tout.add(row);\r\n\t}\r\n\r\n\r\nHope this helps.\r\n","title":"Univocity CSV parser glues the whole line if it begins with quote &quot;","body":"<p>Author of the library here. The input you have there is a well-formed CSV, with a single value consisting of:</p>\n\n<p><code>100926653937,Kasym Amina,620414400630,Marzhan Erbolova,\"Kazakhstan, Almaty, 66, 3\",87029845662</code></p>\n\n<p>If that row appeared in the middle of your input, I suppose your input has unescaped quotes (somewhere before you got to that line). Try playing with the unescaped quote handling setting:</p>\n\n<p>For example, this might work:</p>\n\n<p><code>settings.setUnescapedQuoteHandling(UnescapedQuoteHandling.STOP_AT_CLOSING_QUOTE);</code></p>\n\n<p>If nothing works, and all your lines look like the one you posted, then you can parse the input twice (which is shitty and slow but will work):</p>\n\n<pre><code>CsvParser parser = new CsvParser(settings);\nparser.beginParsing(csvFile);\n\nList&lt;String[]&gt; out = new ArrayList&lt;&gt;();\nString[] row;\nwhile ((row = parser.parseNext()) != null) {\n    //got a row with unexpected length?\n    if(row.length == 1){\n        //break it down again.\n        row = parser.parseLine(row[0]);\n    }\n    out.add(row);\n}\n</code></pre>\n\n<p>Hope this helps.</p>\n"}],"owner":{"account_id":11954482,"reputation":811,"user_id":8747255,"display_name":"Mukhamedali  Zhadigerov"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1122,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666350239,"creation_date":1541498493,"question_id":53169596,"body_markdown":"I&#39;m using `univocity 2.7.5` to parse `csv` file. Till now it worked fine and parsed a row in `csv` file as String array with `n` elements, where n = number of columns in a row. But now i have a file, where rows start with quote `&quot;` and the parser cannot handle it. It returns a row as String array with only one element which contains whole row data. I tried to remove that quote from `csv` file and it worked fine, but there are about 500,000 rows. What should i do to make it work?\r\n\r\n\r\nHere is the sample line from my file **(it has quotes in source file too)**:\r\n\r\n     &quot;100926653937,Kasym Amina,620414400630,Marzhan Erbolova,&quot;&quot;Kazakhstan, Almaty, 66, 3&quot;&quot;,87029845662&quot;\r\n\r\n\r\nAnd here&#39;s my code:\r\n\r\n        CsvParserSettings settings = new CsvParserSettings();\r\n        settings.setDelimiterDetectionEnabled(true);\r\n        CsvParser parser = new CsvParser(settings);\r\n        List&lt;String[]&gt; rows = parser.parseAll(csvFile);\r\n\r\n","title":"Univocity CSV parser glues the whole line if it begins with quote &quot;","body":"<p>I'm using <code>univocity 2.7.5</code> to parse <code>csv</code> file. Till now it worked fine and parsed a row in <code>csv</code> file as String array with <code>n</code> elements, where n = number of columns in a row. But now i have a file, where rows start with quote <code>\"</code> and the parser cannot handle it. It returns a row as String array with only one element which contains whole row data. I tried to remove that quote from <code>csv</code> file and it worked fine, but there are about 500,000 rows. What should i do to make it work?</p>\n\n<p>Here is the sample line from my file <strong>(it has quotes in source file too)</strong>:</p>\n\n<pre><code> \"100926653937,Kasym Amina,620414400630,Marzhan Erbolova,\"\"Kazakhstan, Almaty, 66, 3\"\",87029845662\"\n</code></pre>\n\n<p>And here's my code:</p>\n\n<pre><code>    CsvParserSettings settings = new CsvParserSettings();\n    settings.setDelimiterDetectionEnabled(true);\n    CsvParser parser = new CsvParser(settings);\n    List&lt;String[]&gt; rows = parser.parseAll(csvFile);\n</code></pre>\n"},{"tags":["java","mysql","jdbc"],"answers":[{"tags":[],"owner":{"account_id":14429850,"reputation":87,"user_id":10423516,"display_name":"Sanjay Makwana"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666350102,"creation_date":1555497604,"answer_id":55725661,"question_id":54289434,"body_markdown":"I have a same problem in my project. I solved It by changing localhost with server ip in connection url\r\n\r\n     connection = DriverManager.getConnection(&quot;jdbc:mysql://192.168.3.3:3306/test&quot; , &quot;root&quot; , &quot;12345&quot;);\r\n\r\nAlso make sure that your mysql server is running and your username and password are correct.","title":"The driver has not received any packets from the server in IntelliJ IDEA","body":"<p>I have a same problem in my project. I solved It by changing localhost with server ip in connection url</p>\n<pre><code> connection = DriverManager.getConnection(&quot;jdbc:mysql://192.168.3.3:3306/test&quot; , &quot;root&quot; , &quot;12345&quot;);\n</code></pre>\n<p>Also make sure that your mysql server is running and your username and password are correct.</p>\n"},{"tags":[],"owner":{"account_id":4525260,"reputation":559,"user_id":3677294,"display_name":"MonirRouissi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639834832,"creation_date":1623854015,"answer_id":68004783,"question_id":54289434,"body_markdown":"make sure your `Mysql server` is up and running:\r\n\r\n### steps: ###\r\n\r\n 1. check if `MySQL80` service is running \r\n 2. try connect to your database using  `mysqlWorkbench` or any other tool\r\n 3. rerun your app\r\n\r\nNote: for windows you can access `MySQL80` service by searching for `services`\r\n\r\n","title":"The driver has not received any packets from the server in IntelliJ IDEA","body":"<p>make sure your <code>Mysql server</code> is up and running:</p>\n<h3>steps:</h3>\n<ol>\n<li>check if <code>MySQL80</code> service is running</li>\n<li>try connect to your database using  <code>mysqlWorkbench</code> or any other tool</li>\n<li>rerun your app</li>\n</ol>\n<p>Note: for windows you can access <code>MySQL80</code> service by searching for <code>services</code></p>\n"}],"owner":{"account_id":4336593,"reputation":29,"user_id":3540943,"display_name":"Sundos Altamimi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18710,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1623855915,"answer_count":2,"score":1,"last_activity_date":1666350102,"creation_date":1548071639,"question_id":54289434,"body_markdown":"Im trying to connect my intelliJ java project with mysql for the first time and unfortunately I get this error : \r\n\r\n    com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure\r\n\r\n    The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\r\n\tat com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174)\r\n\tat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64)\r\n\tat com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:835)\r\n\tat com.mysql.cj.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:455)\r\n\tat com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:240)\r\n\tat com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:207)\r\n\tat java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)\r\n\tat java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)\r\n\tat sundos.ConnectionConfig.getConnect(ConnectionConfig.java:15)\r\n\tat sundos.Main.main(Main.java:15)\r\n    Caused by: com.mysql.cj.exceptions.CJCommunicationsException: \r\n    Communications link failure\r\n\r\nI already added the mysql-connector.\r\nhere is a simple code of me : \r\n\r\n    public static Connection getConnect (){\r\n\r\n        Connection connection = null;\r\n\r\n        try {\r\n\r\n            Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n            connection = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/test&quot; , &quot;root&quot; , &quot;12345&quot;);\r\n        } catch (Exception e){\r\n            e.printStackTrace();\r\n        }\r\n\r\n        return connection;\r\n    }\r\n\r\n","title":"The driver has not received any packets from the server in IntelliJ IDEA","body":"<p>Im trying to connect my intelliJ java project with mysql for the first time and unfortunately I get this error : </p>\n\n<pre><code>com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure\n\nThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\nat com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174)\nat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64)\nat com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:835)\nat com.mysql.cj.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:455)\nat com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:240)\nat com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:207)\nat java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)\nat java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)\nat sundos.ConnectionConfig.getConnect(ConnectionConfig.java:15)\nat sundos.Main.main(Main.java:15)\nCaused by: com.mysql.cj.exceptions.CJCommunicationsException: \nCommunications link failure\n</code></pre>\n\n<p>I already added the mysql-connector.\nhere is a simple code of me : </p>\n\n<pre><code>public static Connection getConnect (){\n\n    Connection connection = null;\n\n    try {\n\n        Class.forName(\"com.mysql.cj.jdbc.Driver\");\n        connection = DriverManager.getConnection(\"jdbc:mysql://localhost:3306/test\" , \"root\" , \"12345\");\n    } catch (Exception e){\n        e.printStackTrace();\n    }\n\n    return connection;\n}\n</code></pre>\n"},{"tags":["java","spring","mongodb","spring-boot","spring-retry"],"answers":[{"comments":[{"owner":{"account_id":4397755,"reputation":790,"user_id":3584279,"accept_rate":100,"display_name":"RVA"},"score":0,"creation_date":1665585276,"post_id":74042332,"comment_id":130736057,"body_markdown":"Do you mean that within my service I can&#39;t have a @retryable method ?\nI need to extract this method in another bean ?","body":"Do you mean that within my service I can&#39;t have a @retryable method ? I need to extract this method in another bean ?"},{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1665585624,"post_id":74042332,"comment_id":130736212,"body_markdown":"Correct, `@Retryable` methods will only be retried when called from outside the bean.","body":"Correct, <code>@Retryable</code> methods will only be retried when called from outside the bean."},{"owner":{"account_id":4397755,"reputation":790,"user_id":3584279,"accept_rate":100,"display_name":"RVA"},"score":0,"creation_date":1665587736,"post_id":74042332,"comment_id":130737081,"body_markdown":"Thanks  for your response. If I add a interface with a method @retryable which I implement in  my service will it work ?","body":"Thanks  for your response. If I add a interface with a method @retryable which I implement in  my service will it work ?"},{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1665591542,"post_id":74042332,"comment_id":130738558,"body_markdown":"Not if you still call it from within the service; retry uses Spring AOP, which wraps the bean in a proxy with the retry interceptor as an advice; if you call the method internally, you are bypassing the interceptor.","body":"Not if you still call it from within the service; retry uses Spring AOP, which wraps the bean in a proxy with the retry interceptor as an advice; if you call the method internally, you are bypassing the interceptor."}],"tags":[],"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"comment_count":4,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1665579940,"creation_date":1665579940,"answer_id":74042332,"question_id":74042120,"body_markdown":"The `@Retryable` method must be in a different bean managed by Spring; if you call the method internally, within the same class, you will bypass the retry interceptor.","title":"java spring retryable not working as expected","body":"<p>The <code>@Retryable</code> method must be in a different bean managed by Spring; if you call the method internally, within the same class, you will bypass the retry interceptor.</p>\n"}],"owner":{"account_id":4397755,"reputation":790,"user_id":3584279,"accept_rate":100,"display_name":"RVA"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1623,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74042332,"answer_count":1,"score":0,"last_activity_date":1666349980,"creation_date":1665578957,"question_id":74042120,"body_markdown":"I&#39;m working on an  spring boot app configure like this : \r\n\r\n    @SpringBootApplication\r\n    @EnableRetry\r\n    public class SpringBootApp {\r\n      public static void main(String[] args) {\r\n        SpringApplication.run(SpringBootApp.class, args);\r\n      }\r\n    }\r\n\r\nI&#39;ve a Kafka listener hooked up to a topic which can have 5 different schemas. To handle this (it might be the wrong way, I&#39;m open to suggestion on this part) we are doing this :\r\n     \r\n    private void fillEvents(ConsumerRecords&lt;Key, SpecificRecord&gt; events) {\r\n        events.forEach(event -&gt; {\r\n            SpecificRecord value = event.value();\r\n            if (value instanceof A a) {\r\n                aEvents.add(a);\r\n            } else if (value instanceof B b){\r\n                bEvents.add(b)\r\n            }\r\n            ....\r\n       });\r\n\r\nand in the main  listener : \r\n\r\n    @KafkaListener(topics = &quot;topicName&quot;, groupId = &quot;myApp&quot;, containerFactory = &quot;listenerFactory&quot;)\r\n    public void receive(ConsumerRecords&lt;Key, SpecificRecord&gt; events) {\r\n        Splitter splitter = new Splitter(events); //doing the fillEvents(..) from above\r\n        aService.handleEvents(splitter.getAEvents());\r\n        bService.handleEvents(splitter.getBEvents());\r\n        ... \r\n    }\r\n\r\nIn each service we can have other processes (like file&#39;s integration or API&#39;s calls) that might modify the same resources we want to in our kafka listener. We have a MongoDB database so we are handling the persistence with a classic spring data layer : save(entity). But to avoid failure due to multiple access we are doing this (in each service) :\r\n\r\n    ...\r\n    public void handleEvents(List&lt;A&gt; events) {\r\n        events.forEach(event -&gt; processEvent(event));\r\n    }\r\n\r\n    @Retryable(value = {OptimisticLockingFailureException.class, DuplicateKeyException.class, MongoCommandException.class},\r\n            maxAttempts = 100,\r\n            backoff = @Backoff(random = true, delay = 200, maxDelay = 5000, multiplier = 2))\r\n    public void processEvent(A event) {\r\n      refresh() // in case of failure (from retryable) we are refreshing dependencies \r\n      processBusinessRules(event) // processing event with business rules\r\n      aRepository.save(event)\r\n    }\r\n\r\nWe are facing a case when our kafka listener polls about 30 messages, with both A and B instances. The handling of A fail due to OptimisticFailureException (a bug which we have now identified) but B are not processed. It seems that the thread stops just after 1 failure and do not retries the processEvent method. The poll is only processed again thanks to the Kafka listener, which could be great with other case of error (like network issues), but not in our case of Optimistic Failure\r\n\r\nWhat are we missing ? \r\n\r\nOur goal would be to retry the processEvent method and not discarding the following events","title":"java spring retryable not working as expected","body":"<p>I'm working on an  spring boot app configure like this :</p>\n<pre><code>@SpringBootApplication\n@EnableRetry\npublic class SpringBootApp {\n  public static void main(String[] args) {\n    SpringApplication.run(SpringBootApp.class, args);\n  }\n}\n</code></pre>\n<p>I've a Kafka listener hooked up to a topic which can have 5 different schemas. To handle this (it might be the wrong way, I'm open to suggestion on this part) we are doing this :</p>\n<pre><code>private void fillEvents(ConsumerRecords&lt;Key, SpecificRecord&gt; events) {\n    events.forEach(event -&gt; {\n        SpecificRecord value = event.value();\n        if (value instanceof A a) {\n            aEvents.add(a);\n        } else if (value instanceof B b){\n            bEvents.add(b)\n        }\n        ....\n   });\n</code></pre>\n<p>and in the main  listener :</p>\n<pre><code>@KafkaListener(topics = &quot;topicName&quot;, groupId = &quot;myApp&quot;, containerFactory = &quot;listenerFactory&quot;)\npublic void receive(ConsumerRecords&lt;Key, SpecificRecord&gt; events) {\n    Splitter splitter = new Splitter(events); //doing the fillEvents(..) from above\n    aService.handleEvents(splitter.getAEvents());\n    bService.handleEvents(splitter.getBEvents());\n    ... \n}\n</code></pre>\n<p>In each service we can have other processes (like file's integration or API's calls) that might modify the same resources we want to in our kafka listener. We have a MongoDB database so we are handling the persistence with a classic spring data layer : save(entity). But to avoid failure due to multiple access we are doing this (in each service) :</p>\n<pre><code>...\npublic void handleEvents(List&lt;A&gt; events) {\n    events.forEach(event -&gt; processEvent(event));\n}\n\n@Retryable(value = {OptimisticLockingFailureException.class, DuplicateKeyException.class, MongoCommandException.class},\n        maxAttempts = 100,\n        backoff = @Backoff(random = true, delay = 200, maxDelay = 5000, multiplier = 2))\npublic void processEvent(A event) {\n  refresh() // in case of failure (from retryable) we are refreshing dependencies \n  processBusinessRules(event) // processing event with business rules\n  aRepository.save(event)\n}\n</code></pre>\n<p>We are facing a case when our kafka listener polls about 30 messages, with both A and B instances. The handling of A fail due to OptimisticFailureException (a bug which we have now identified) but B are not processed. It seems that the thread stops just after 1 failure and do not retries the processEvent method. The poll is only processed again thanks to the Kafka listener, which could be great with other case of error (like network issues), but not in our case of Optimistic Failure</p>\n<p>What are we missing ?</p>\n<p>Our goal would be to retry the processEvent method and not discarding the following events</p>\n"},{"tags":["java","android","stack"],"answers":[{"comments":[{"owner":{"account_id":24883506,"reputation":1,"user_id":18756435,"display_name":"Deba"},"score":0,"creation_date":1667479615,"post_id":74152596,"comment_id":131179304,"body_markdown":"Yeah this worked for me, thanks,  just had to play little bit to find right place for it.","body":"Yeah this worked for me, thanks,  just had to play little bit to find right place for it."}],"tags":[],"owner":{"account_id":25288575,"reputation":584,"user_id":19115089,"display_name":"Lucas.K"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666349650,"creation_date":1666349650,"answer_id":74152596,"question_id":74152371,"body_markdown":"Try to set `FLAG_ACTIVITY_CLEAR_TOP`for the intent before calling startActivity. This should clear the stack.\r\n\r\n`intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);`\r\n\r\nhttps://developer.android.com/reference/android/content/Intent.html#FLAG_ACTIVITY_CLEAR_TOP","title":"Android activity stack button go back","body":"<p>Try to set <code>FLAG_ACTIVITY_CLEAR_TOP</code>for the intent before calling startActivity. This should clear the stack.</p>\n<p><code>intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);</code></p>\n<p><a href=\"https://developer.android.com/reference/android/content/Intent.html#FLAG_ACTIVITY_CLEAR_TOP\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/content/Intent.html#FLAG_ACTIVITY_CLEAR_TOP</a></p>\n"}],"owner":{"account_id":24883506,"reputation":1,"user_id":18756435,"display_name":"Deba"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666349650,"creation_date":1666348587,"question_id":74152371,"body_markdown":"I have a problem, my app has 3 activities:\r\nHome activity &gt;  Activity 1 &gt; Activity 2\r\nwhen I go to activity 2 and back to home activity with my back buttons all activities I been to stay in stack so if I use back button on the lower nav menu it takes me to all activities I have been to and I want it just to go back to parent activity but if i use \r\n\r\n`android:noHistory:&quot;true&quot;;`\r\nor\r\n`finish()`\r\n\r\nit makes my activity close the app when i go back\r\n\r\nthis is code for the back button:\r\n\r\n    button.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n    \r\n                    Intent intent = new Intent(InstitutionActivity.this, HomeActivity.class);\r\n                    startActivity(intent);\r\n                }\r\n            });\r\n\r\n`","title":"Android activity stack button go back","body":"<p>I have a problem, my app has 3 activities:\nHome activity &gt;  Activity 1 &gt; Activity 2\nwhen I go to activity 2 and back to home activity with my back buttons all activities I been to stay in stack so if I use back button on the lower nav menu it takes me to all activities I have been to and I want it just to go back to parent activity but if i use</p>\n<p><code>android:noHistory:&quot;true&quot;;</code>\nor\n<code>finish()</code></p>\n<p>it makes my activity close the app when i go back</p>\n<p>this is code for the back button:</p>\n<pre><code>button.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n\n                Intent intent = new Intent(InstitutionActivity.this, HomeActivity.class);\n                startActivity(intent);\n            }\n        });\n</code></pre>\n<p>`</p>\n"},{"tags":["java","optimization","jvm","compiler-optimization"],"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":4,"creation_date":1666338462,"post_id":74145828,"comment_id":130917785,"body_markdown":"[Is JVM or JIT able to reduce duplicate method calls?](https://stackoverflow.com/q/74106557/2711488) has been asked just a few days ago. But don’t worry, `validation()` is only invoked twice in the exceptional case, which might not be performance relevant at all. Instead, you should ask yourself the real question: is the suggested refactoring that requires the caller to invoke `hasErrors()` instead of throwing exceptions directly, really a good idea? Offering the possibility to ignore errors and continue, leads to exactly that, ignoring errors. How often do you check `System.out.checkError()`?","body":"<a href=\"https://stackoverflow.com/q/74106557/2711488\">Is JVM or JIT able to reduce duplicate method calls?</a> has been asked just a few days ago. But don’t worry, <code>validation()</code> is only invoked twice in the exceptional case, which might not be performance relevant at all. Instead, you should ask yourself the real question: is the suggested refactoring that requires the caller to invoke <code>hasErrors()</code> instead of throwing exceptions directly, really a good idea? Offering the possibility to ignore errors and continue, leads to exactly that, ignoring errors. How often do you check <code>System.out.checkError()</code>?"}],"answers":[{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1666299496,"post_id":74146026,"comment_id":130910743,"body_markdown":"Another benefit to having a named variable containing a calculated result: Naming makes it more [self-documenting](https://en.wikipedia.org/wiki/Self-documenting_code). In your example here, I would name `short length` to be `short countOfWhatever`, with &quot;Whatever&quot; being the subject matter at hand.","body":"Another benefit to having a named variable containing a calculated result: Naming makes it more <a href=\"https://en.wikipedia.org/wiki/Self-documenting_code\" rel=\"nofollow noreferrer\">self-documenting</a>. In your example here, I would name <code>short length</code> to be <code>short countOfWhatever</code>, with &quot;Whatever&quot; being the subject matter at hand."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1666299606,"post_id":74146026,"comment_id":130910776,"body_markdown":"By the way… I may be wrong, but I vaguely recall that `short` does not save memory in modern implementations of Java. That may explain why they added `…IntExact` &amp; `…LongExact` methods in the [`Math`](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Math.html) class, but no `…ShortExact` methods.","body":"By the way… I may be wrong, but I vaguely recall that <code>short</code> does not save memory in modern implementations of Java. That may explain why they added <code>…IntExact</code> &amp; <code>…LongExact</code> methods in the <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Math.html\" rel=\"nofollow noreferrer\"><code>Math</code></a> class, but no <code>…ShortExact</code> methods."},{"owner":{"account_id":23265029,"reputation":128,"user_id":17350710,"display_name":"Ahmad Mtera"},"score":0,"creation_date":1666299978,"post_id":74146026,"comment_id":130910868,"body_markdown":"@BasilBourque I remember there&#39;s padding involved, in order to avoid any CPU performance hits that accompany upholding various requirements to do non-standard (e.g. short operations) on the macro level, as opposed to just having 32-bit or 64-bit operand operations.","body":"@BasilBourque I remember there&#39;s padding involved, in order to avoid any CPU performance hits that accompany upholding various requirements to do non-standard (e.g. short operations) on the macro level, as opposed to just having 32-bit or 64-bit operand operations."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1666300239,"post_id":74146026,"comment_id":130910918,"body_markdown":"Regardless of the `short` issue, your overall point is wise, and should be heeded.","body":"Regardless of the <code>short</code> issue, your overall point is wise, and should be heeded."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1666337630,"post_id":74146026,"comment_id":130917541,"body_markdown":"@BasilBourque in fact, using `short` for local variables *never* saved memory because there are no short variables in compiled code. Java uses `int` arithmetic for all integer types except `long`. That’s even [specified on the language level](https://docs.oracle.com/javase/specs/jls/se17/html/jls-4.html#jls-4.2.2:~:text=Otherwise,type%20int%20by%20numeric%20promotion.). That’s why `i++` for a `short` variable is short-hand for `i = (short)(i + 1)`, requiring five bytecode instructions where `i++` for `int` compiles to a single instruction. Using `short` here makes the code worse on all levels.","body":"@BasilBourque in fact, using <code>short</code> for local variables <i>never</i> saved memory because there are no short variables in compiled code. Java uses <code>int</code> arithmetic for all integer types except <code>long</code>. That’s even <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-4.html#jls-4.2.2:~:text=Otherwise,type%20int%20by%20numeric%20promotion.\" rel=\"nofollow noreferrer\">specified on the language level</a>. That’s why <code>i++</code> for a <code>short</code> variable is short-hand for <code>i = (short)(i + 1)</code>, requiring five bytecode instructions where <code>i++</code> for <code>int</code> compiles to a single instruction. Using <code>short</code> here makes the code worse on all levels."},{"owner":{"account_id":23265029,"reputation":128,"user_id":17350710,"display_name":"Ahmad Mtera"},"score":0,"creation_date":1666349368,"post_id":74146026,"comment_id":130921414,"body_markdown":"@Holger I was only under the habit of using ‘short’ for when I use other programing languages that benefit from the use of the short data type. With that being said, since we’re talking about Java here, I’ve just replaced ‘short’ with ‘int’ and emitted the part about the ‘short’ usage. Thank you!","body":"@Holger I was only under the habit of using ‘short’ for when I use other programing languages that benefit from the use of the short data type. With that being said, since we’re talking about Java here, I’ve just replaced ‘short’ with ‘int’ and emitted the part about the ‘short’ usage. Thank you!"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1666350447,"post_id":74146026,"comment_id":130921791,"body_markdown":"If you don’t need the index `i` in the loop body, you can just write `for(int grade: grades) { … }` Even for the other programming languages, it’s rather unlikely to draw a benefit from using `short` *for a loop counter*. Using smaller data types becomes relevant when using heap variable, most notably arrays.","body":"If you don’t need the index <code>i</code> in the loop body, you can just write <code>for(int grade: grades) { … }</code> Even for the other programming languages, it’s rather unlikely to draw a benefit from using <code>short</code> <i>for a loop counter</i>. Using smaller data types becomes relevant when using heap variable, most notably arrays."}],"tags":[],"owner":{"account_id":23265029,"reputation":128,"user_id":17350710,"display_name":"Ahmad Mtera"},"comment_count":7,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1666349397,"creation_date":1666297996,"answer_id":74146026,"question_id":74145828,"body_markdown":"The Java to Bytecode compiler has a limited set of optimization techniques (e.g. 9*9 in the condition would turn into 81).\r\n\r\nThe real optimization happens by the JIT (Just In Time) compiler. This compiler is the result of over a decade and a half of extensive research and there is no simple answer to tell what it is capable of in every scenario.\r\n\r\nWith that being said, as a good practice, I always handle repetitive identical method calls by storing their result before approaching any loop structure where that result is needed. Example:\r\n\r\n    int[] grades = new int[500];\r\n    int countOfGrades = arr.length;\r\n    for (int i = 0; i &lt; countOfGrades; i++) {\r\n        // Some code here\r\n    }\r\n\r\nFor your code (which is only run twice), you shouldn&#39;t worry as much about such optimization. But if you&#39;re looking for the ultimate – guaranteed – optimization on the account of a fraction of space (which is cheap), then you&#39;re better off using a variable to store any **identical** method result when needed more than once:\r\n\r\n    var validation = validation();\r\n    if (validation.hasErrors()) \r\n        throw new IllegalArgumentException(validation.errorMessage());","title":"Calling method twice in same block. Why?","body":"<p>The Java to Bytecode compiler has a limited set of optimization techniques (e.g. 9*9 in the condition would turn into 81).</p>\n<p>The real optimization happens by the JIT (Just In Time) compiler. This compiler is the result of over a decade and a half of extensive research and there is no simple answer to tell what it is capable of in every scenario.</p>\n<p>With that being said, as a good practice, I always handle repetitive identical method calls by storing their result before approaching any loop structure where that result is needed. Example:</p>\n<pre><code>int[] grades = new int[500];\nint countOfGrades = arr.length;\nfor (int i = 0; i &lt; countOfGrades; i++) {\n    // Some code here\n}\n</code></pre>\n<p>For your code (which is only run twice), you shouldn't worry as much about such optimization. But if you're looking for the ultimate – guaranteed – optimization on the account of a fraction of space (which is cheap), then you're better off using a variable to store any <strong>identical</strong> method result when needed more than once:</p>\n<pre><code>var validation = validation();\nif (validation.hasErrors()) \n    throw new IllegalArgumentException(validation.errorMessage());\n</code></pre>\n"},{"comments":[{"owner":{"account_id":23265029,"reputation":128,"user_id":17350710,"display_name":"Ahmad Mtera"},"score":2,"creation_date":1666299845,"post_id":74146226,"comment_id":130910834,"body_markdown":"Clarity is of course important, but storing a function call&#39;s result is actually sometimes more readable. This is especially true when you have nested function calls where the result of one call is called upon in another: In this case, it&#39;s more readable to store it in a separate variable. We should also not forget that the most important aspect of a program is the user&#39;s experience – after all, all the user cares about is the speed of the program, and I don&#39;t think it&#39;s a good practice to convenience yourself as a programer on the expense of the user&#39;s convenience.","body":"Clarity is of course important, but storing a function call&#39;s result is actually sometimes more readable. This is especially true when you have nested function calls where the result of one call is called upon in another: In this case, it&#39;s more readable to store it in a separate variable. We should also not forget that the most important aspect of a program is the user&#39;s experience – after all, all the user cares about is the speed of the program, and I don&#39;t think it&#39;s a good practice to convenience yourself as a programer on the expense of the user&#39;s convenience."},{"owner":{"account_id":78868,"reputation":337070,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":0,"creation_date":1666352126,"post_id":74146226,"comment_id":130922329,"body_markdown":"&quot;It doesn&#39;t matter&quot; is at *best* a comment or footnote on specific questions about how certain compilers work, whether they&#39;re able to do certain optimizations.  It&#39;s true most of the time, but that doesn&#39;t invalidate the question for the purposes of curiosity.  I guess the actual point of your answer was about clarity for human readers, which is fine and could be a good answer if people agreed with you about the clarity.  I think Holger&#39;s point in a comment under the question makes sense: you&#39;re getting a message from a different return value than the error, so they might not match.","body":"&quot;It doesn&#39;t matter&quot; is at <i>best</i> a comment or footnote on specific questions about how certain compilers work, whether they&#39;re able to do certain optimizations.  It&#39;s true most of the time, but that doesn&#39;t invalidate the question for the purposes of curiosity.  I guess the actual point of your answer was about clarity for human readers, which is fine and could be a good answer if people agreed with you about the clarity.  I think Holger&#39;s point in a comment under the question makes sense: you&#39;re getting a message from a different return value than the error, so they might not match."}],"tags":[],"owner":{"account_id":1887489,"reputation":8619,"user_id":4811873,"accept_rate":6,"display_name":"Mike Robinson"},"comment_count":2,"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1666299339,"creation_date":1666299339,"answer_id":74146226,"question_id":74145828,"body_markdown":"However, I must simply question ... *&quot;these days,&quot;* does it even actually **matter** anymore?  Simply write the source-code &quot;in the most obvious manner available,&quot; as the original programmer certainly did.\r\n\r\n&quot;Microseconds&quot; really don&#39;t matter anymore.  But, **&quot;clarity** still does.&quot;  To me, the first version of the code is frankly more ***understandable*** than the second, and &quot;that&#39;s what matters to me most.&quot;  Please don&#39;t bother to try to *&quot;out-smart&quot;* the compiler, if it results in source-code that is in any way harder to understand.","title":"Calling method twice in same block. Why?","body":"<p>However, I must simply question ... <em>&quot;these days,&quot;</em> does it even actually <strong>matter</strong> anymore?  Simply write the source-code &quot;in the most obvious manner available,&quot; as the original programmer certainly did.</p>\n<p>&quot;Microseconds&quot; really don't matter anymore.  But, <strong>&quot;clarity</strong> still does.&quot;  To me, the first version of the code is frankly more <em><strong>understandable</strong></em> than the second, and &quot;that's what matters to me most.&quot;  Please don't bother to try to <em>&quot;out-smart&quot;</em> the compiler, if it results in source-code that is in any way harder to understand.</p>\n"},{"tags":[],"owner":{"account_id":208217,"reputation":1488,"user_id":458561,"display_name":"boneill"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1666299568,"creation_date":1666299568,"answer_id":74146260,"question_id":74145828,"body_markdown":"The validation method will be called twice, and it will do the same work each time. First, the method is relatively big, and so it won&#39;t get inlined. Without being inlined, the compiler doesn&#39;t know what it does. Therefore, it safely assumes that the method has side effects, and so it cannot optimize away the second call.\r\n\r\nEven if the method was inlined, and the compiler could examine it, it would see that there are in fact side effects. Calling LocalDate.now() returns a different result each time. For this reason, the code that you linked to is defective, although it&#39;s not likely to experience a problem in practice.\r\n\r\nIt&#39;s safer to capture the validation result in a local variable not for performance reasons, but for stability reasons. Imagine the odd case in which the initial validation call fails, but the second call passes. You&#39;d then throw an exception with no message in it.","title":"Calling method twice in same block. Why?","body":"<p>The validation method will be called twice, and it will do the same work each time. First, the method is relatively big, and so it won't get inlined. Without being inlined, the compiler doesn't know what it does. Therefore, it safely assumes that the method has side effects, and so it cannot optimize away the second call.</p>\n<p>Even if the method was inlined, and the compiler could examine it, it would see that there are in fact side effects. Calling LocalDate.now() returns a different result each time. For this reason, the code that you linked to is defective, although it's not likely to experience a problem in practice.</p>\n<p>It's safer to capture the validation result in a local variable not for performance reasons, but for stability reasons. Imagine the odd case in which the initial validation call fails, but the second call passes. You'd then throw an exception with no message in it.</p>\n"}],"owner":{"account_id":11407057,"reputation":387,"user_id":8362224,"display_name":"LagSurfer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":353,"favorite_count":0,"down_vote_count":2,"up_vote_count":4,"accepted_answer_id":74146260,"answer_count":3,"score":2,"last_activity_date":1666349397,"creation_date":1666296834,"question_id":74145828,"body_markdown":"I&#39;m reading a blog post and trying to understand what&#39;s going on. \r\n[This is the blogpost.][1]\r\n\r\n\r\n  [1]: https://martinfowler.com/articles/replaceThrowWithNotification.html\r\nit has this code:\r\n\r\n    if (validation().hasErrors()) \r\n          throw new IllegalArgumentException(validation().errorMessage());\r\n\r\nIn the validation() method we have some object initialization and calculations so let&#39; say it&#39;s an expensive call. Is it going to be executed twice? Or will it be optimized by the compiler to be something like this? \r\n\r\n    var validation = validation();\r\n    if (validation.hasErrors()) \r\n        throw new IllegalArgumentException(validation.errorMessage());\r\n\r\nThanks! \r\n\r\n","title":"Calling method twice in same block. Why?","body":"<p>I'm reading a blog post and trying to understand what's going on.\n<a href=\"https://martinfowler.com/articles/replaceThrowWithNotification.html\" rel=\"nofollow noreferrer\">This is the blogpost.</a></p>\n<p>it has this code:</p>\n<pre><code>if (validation().hasErrors()) \n      throw new IllegalArgumentException(validation().errorMessage());\n</code></pre>\n<p>In the validation() method we have some object initialization and calculations so let' say it's an expensive call. Is it going to be executed twice? Or will it be optimized by the compiler to be something like this?</p>\n<pre><code>var validation = validation();\nif (validation.hasErrors()) \n    throw new IllegalArgumentException(validation.errorMessage());\n</code></pre>\n<p>Thanks!</p>\n"},{"tags":["java","json","spring-boot","linkedhashmap"],"answers":[{"comments":[{"owner":{"account_id":17898206,"reputation":225,"user_id":13003044,"display_name":"cpigeon"},"score":0,"creation_date":1666360325,"post_id":74152145,"comment_id":130925251,"body_markdown":"Good answer, but if we&#39;re still within a Spring Boot context when a manual serialization is needed, a simpler way is to just pull in the auto-configured ObjectMapper bean, and supply the object to be serialized (Map in this case) to its `writeValueAsString` method. Then again, it&#39;s an &quot;external library&quot;, so...","body":"Good answer, but if we&#39;re still within a Spring Boot context when a manual serialization is needed, a simpler way is to just pull in the auto-configured ObjectMapper bean, and supply the object to be serialized (Map in this case) to its <code>writeValueAsString</code> method. Then again, it&#39;s an &quot;external library&quot;, so..."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1666362477,"post_id":74152145,"comment_id":130926071,"body_markdown":"@cpigeon Thanks for your comment. As I&#39;ve said in the first part of the answer, that&#39;s the default behavior, i.e. there&#39;s nothing to configure, the map would be serialized precisely like that. The code provided in the second part just tackles what OP was asking for *&quot;get the equivalent json string using only java inbuilt methods&quot;* (I would **not** recommend generating JSON manually regardless whether the Spring is used in the project or not).","body":"@cpigeon Thanks for your comment. As I&#39;ve said in the first part of the answer, that&#39;s the default behavior, i.e. there&#39;s nothing to configure, the map would be serialized precisely like that. The code provided in the second part just tackles what OP was asking for <i>&quot;get the equivalent json string using only java inbuilt methods&quot;</i> (I would <b>not</b> recommend generating JSON manually regardless whether the Spring is used in the project or not)."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1666363094,"post_id":74152145,"comment_id":130926327,"body_markdown":"@cpigeon Regarding the ways of tweaking the serialization with Spring Boot, I agree that we should rely on the built-in mechanisms. I would advise doing customizations without accessing `ObjectMapper` directly (unless you didn&#39;t find other way), for instance via `Jackson2ObjectMapperBuilderCustomizer` Bean. Or in the case if you only need to plug-in the module (like `JavaTimeModule`) it would be sufficient to put the module as a Bean in the Context and Spring Boot will do all the required configuration steps.","body":"@cpigeon Regarding the ways of tweaking the serialization with Spring Boot, I agree that we should rely on the built-in mechanisms. I would advise doing customizations without accessing <code>ObjectMapper</code> directly (unless you didn&#39;t find other way), for instance via <code>Jackson2ObjectMapperBuilderCustomizer</code> Bean. Or in the case if you only need to plug-in the module (like <code>JavaTimeModule</code>) it would be sufficient to put the module as a Bean in the Context and Spring Boot will do all the required configuration steps."}],"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":3,"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1666348933,"creation_date":1666347388,"answer_id":74152145,"question_id":74151864,"body_markdown":"&gt; But I wanted to get the equivalent json string using only java inbuilt methods and no external libraries.\r\n\r\nSince you&#39;re using Spring, that intention is weird.\r\n\r\nJackson library is already integrated with Spring, it&#39;s coming with Spring Web dependency. Spring Boot would autoconfigure it at the application start up. And would be used automatically to deserialize JSON requests into proper objects and to convert objects into JSON.\r\n\r\nIf you return a `Map` from a method of a rest-controller, it would be serialized into JSON without any effort from your side.\r\n\r\nThat&#39;s how such endpoint might look like:\r\n\r\n    @GetMapping(path = &quot;/foo&quot;)\r\n    public Map&lt;String, String&gt; bar() {\r\n        \r\n        Map&lt;String, String&gt; options = // initialize the map \r\n            \r\n        return options;\r\n    }\r\n\r\nBut if you really want to convert a simple Map containing pairs attribute-value into JSON manually, here&#39;s how it can be done in a single statement with Stream API using collector [`Collectors.joining()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#joining(java.lang.CharSequence,java.lang.CharSequence,java.lang.CharSequence)):\r\n\r\n    public static String mapToJson(Map&lt;String, String&gt; map) {\r\n        \r\n        return map.entrySet().stream()\r\n            .map(e -&gt; String.format(&quot;\\t\\&quot;%s\\&quot;:\\&quot;%s\\&quot;&quot;, e.getKey(), e.getValue()))\r\n            .collect(Collectors.joining(&quot;,\\n&quot;, &quot;{\\n&quot;, &quot;\\n}&quot;));\r\n    }\r\n\r\n`main()`\r\n\r\n    public static void main(String[] args) {\r\n        Map&lt;String, String&gt; options = new LinkedHashMap&lt;&gt;();\r\n        options.put(&quot;access&quot;, &quot;public&quot;);\r\n        options.put(&quot;foo&quot;, &quot;bar&quot;);\r\n    \r\n        System.out.println(mapToJson(options));\r\n    }\r\n\r\n*Output:*\r\n\r\n```\r\n{\r\n\t&quot;access&quot;:&quot;public&quot;,\r\n\t&quot;foo&quot;:&quot;bar&quot;\r\n}\r\n```","title":"Convert a HashMap to JSON String using only built-in methods with Java 8","body":"<blockquote>\n<p>But I wanted to get the equivalent json string using only java inbuilt methods and no external libraries.</p>\n</blockquote>\n<p>Since you're using Spring, that intention is weird.</p>\n<p>Jackson library is already integrated with Spring, it's coming with Spring Web dependency. Spring Boot would autoconfigure it at the application start up. And would be used automatically to deserialize JSON requests into proper objects and to convert objects into JSON.</p>\n<p>If you return a <code>Map</code> from a method of a rest-controller, it would be serialized into JSON without any effort from your side.</p>\n<p>That's how such endpoint might look like:</p>\n<pre><code>@GetMapping(path = &quot;/foo&quot;)\npublic Map&lt;String, String&gt; bar() {\n    \n    Map&lt;String, String&gt; options = // initialize the map \n        \n    return options;\n}\n</code></pre>\n<p>But if you really want to convert a simple Map containing pairs attribute-value into JSON manually, here's how it can be done in a single statement with Stream API using collector <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#joining(java.lang.CharSequence,java.lang.CharSequence,java.lang.CharSequence)\" rel=\"nofollow noreferrer\"><code>Collectors.joining()</code></a>:</p>\n<pre><code>public static String mapToJson(Map&lt;String, String&gt; map) {\n    \n    return map.entrySet().stream()\n        .map(e -&gt; String.format(&quot;\\t\\&quot;%s\\&quot;:\\&quot;%s\\&quot;&quot;, e.getKey(), e.getValue()))\n        .collect(Collectors.joining(&quot;,\\n&quot;, &quot;{\\n&quot;, &quot;\\n}&quot;));\n}\n</code></pre>\n<p><code>main()</code></p>\n<pre><code>public static void main(String[] args) {\n    Map&lt;String, String&gt; options = new LinkedHashMap&lt;&gt;();\n    options.put(&quot;access&quot;, &quot;public&quot;);\n    options.put(&quot;foo&quot;, &quot;bar&quot;);\n\n    System.out.println(mapToJson(options));\n}\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>{\n    &quot;access&quot;:&quot;public&quot;,\n    &quot;foo&quot;:&quot;bar&quot;\n}\n</code></pre>\n"}],"owner":{"account_id":9986738,"reputation":19,"user_id":7387628,"display_name":"himan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":453,"favorite_count":0,"down_vote_count":5,"up_vote_count":2,"closed_date":1666362499,"accepted_answer_id":74152145,"answer_count":1,"score":-3,"last_activity_date":1666349018,"creation_date":1666345926,"question_id":74151864,"body_markdown":"I have a json `options` \r\n```   \r\noptions = {\r\n  &quot;access&quot;: &quot;public&quot;\r\n}\r\n```\r\nHave made it in java using Hashmap, as shown below: \r\n```\r\nMap&lt;String, String&gt; options = new LinkedHashMap&lt;String, String&gt;();\r\noptions.put(&quot;access&quot;, &quot;public&quot;);\r\n```\r\nNow I want to convert this to json string, something like below:\r\n```\r\noptionsString = &quot;{\\&quot;access\\&quot;:\\&quot;public\\&quot;}&quot;\r\n```\r\n\r\nI know we can do it with external libraries like gson, jackson, jsonObject, etc.\r\n\r\nBut I wanted to get the equivalent json string using only java inbuilt methods and no external libraries.\r\n\r\n\r\nIs there any way to accomplish this? ","title":"Convert a HashMap to JSON String using only built-in methods with Java 8","body":"<p>I have a json <code>options</code></p>\n<pre><code>options = {\n  &quot;access&quot;: &quot;public&quot;\n}\n</code></pre>\n<p>Have made it in java using Hashmap, as shown below:</p>\n<pre><code>Map&lt;String, String&gt; options = new LinkedHashMap&lt;String, String&gt;();\noptions.put(&quot;access&quot;, &quot;public&quot;);\n</code></pre>\n<p>Now I want to convert this to json string, something like below:</p>\n<pre><code>optionsString = &quot;{\\&quot;access\\&quot;:\\&quot;public\\&quot;}&quot;\n</code></pre>\n<p>I know we can do it with external libraries like gson, jackson, jsonObject, etc.</p>\n<p>But I wanted to get the equivalent json string using only java inbuilt methods and no external libraries.</p>\n<p>Is there any way to accomplish this?</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1666348957,"post_id":74145489,"comment_id":130921280,"body_markdown":"If you&#39;re trying to search for a substring **in** the value, see https://stackoverflow.com/questions/10559191/firebase-and-indexing-search. If you&#39;re trying to find value **starting with** a substring that *is* possible. Please edit your question to simplify the code though, and reproduce the problem with hard-coded values for the database query that isn&#39;t working (so `user_word` or `search_bar`). Also see: [how to create a minimal, complete, verifiable example](http://stackoverflow.com/help/mcve).","body":"If you&#39;re trying to search for a substring <b>in</b> the value, see <a href=\"https://stackoverflow.com/questions/10559191/firebase-and-indexing-search\" title=\"firebase and indexing search\">stackoverflow.com/questions/10559191/&hellip;</a>. If you&#39;re trying to find value <b>starting with</b> a substring that <i>is</i> possible. Please edit your question to simplify the code though, and reproduce the problem with hard-coded values for the database query that isn&#39;t working (so <code>user_word</code> or <code>search_bar</code>). Also see: <a href=\"http://stackoverflow.com/help/mcve\">how to create a minimal, complete, verifiable example</a>."},{"owner":{"account_id":13248275,"reputation":1,"user_id":20087585,"display_name":"thejock"},"score":0,"creation_date":1666470841,"post_id":74145489,"comment_id":130946496,"body_markdown":"@FrankvanPuffelen in the node `description` if someone enters `this is `#myfirstpost` i only want to retrieve the hashtag. No matter where it is in the string . Is that possible?","body":"@FrankvanPuffelen in the node <code>description</code> if someone enters <code>this is </code>#myfirstpost` i only want to retrieve the hashtag. No matter where it is in the string . Is that possible?"},{"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1666471126,"post_id":74145489,"comment_id":130946548,"body_markdown":"The Firebase Realtime Database does not support contains operations or other advanced text search capabilities. See the question I linked in my first comment, or more results from https://stackoverflow.com/search?q=%5Bfirebase-realtime-database%5D+full+text+search","body":"The Firebase Realtime Database does not support contains operations or other advanced text search capabilities. See the question I linked in my first comment, or more results from <a href=\"https://stackoverflow.com/search?q=%5Bfirebase-realtime-database%5D+full+text+search\">stackoverflow.com/&hellip;</a>"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1666788711,"post_id":74145489,"comment_id":131018304,"body_markdown":"Since you&#39;re using Java, then I think that this [resource](https://medium.com/firebase-tips-tricks/how-to-filter-firestore-data-cheaper-705f5efec444) will help.","body":"Since you&#39;re using Java, then I think that this <a href=\"https://medium.com/firebase-tips-tricks/how-to-filter-firestore-data-cheaper-705f5efec444\" rel=\"nofollow noreferrer\">resource</a> will help."},{"owner":{"account_id":13248275,"reputation":1,"user_id":20087585,"display_name":"thejock"},"score":0,"creation_date":1666899635,"post_id":74145489,"comment_id":131050555,"body_markdown":"@AlexMamo is there one for firebase ?","body":"@AlexMamo is there one for firebase ?"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1666900134,"post_id":74145489,"comment_id":131050705,"body_markdown":"Are you looking for something like [this](https://medium.com/firebase-tips-tricks/how-to-optimize-firebase-realtime-database-calls-to-improve-performance-cc63dad374d5)?","body":"Are you looking for something like <a href=\"https://medium.com/firebase-tips-tricks/how-to-optimize-firebase-realtime-database-calls-to-improve-performance-cc63dad374d5\" rel=\"nofollow noreferrer\">this</a>?"}],"owner":{"account_id":13248275,"reputation":1,"user_id":20087585,"display_name":"thejock"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1666471193,"answer_count":0,"score":0,"last_activity_date":1666348737,"creation_date":1666294747,"question_id":74145489,"body_markdown":"I am trying to search my database and show the user the hashtag they searched for. So for e.g. if they search for `#funny` then that hashtag will show up in the recycler view. \r\n\r\nRight now nothing shows up when I search for the hashtag. Can someone help me ?\r\n\r\n    private void searchHashTags(String user_word) {\r\n\r\n        //Log.d(&quot;TAG1&quot;, &quot;message is:&quot; + user_word);\r\n\r\n        DatabaseReference usersRef = FirebaseDatabase.getInstance().getReference(&quot;Video_Posts&quot;);\r\n        Query query = usersRef.orderByChild(&quot;description&quot;).equalTo(user_word);\r\n\r\n        query.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\r\n\r\n                if (search_bar.getText().toString().equals(&quot;&quot;)) {\r\n                    recyclerHashTags.setVisibility(View.INVISIBLE);\r\n                }\r\n\r\n                Query query2 = usersRef.orderByChild(&quot;description&quot;).startAt(search_bar.getText().toString()).endAt(search_bar.getText().toString()+&quot;\\uf8ff&quot;);\r\n\r\n                query2.addValueEventListener(new ValueEventListener() {\r\n                    @Override\r\n                    public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n\r\n                        hashTags.clear();\r\n                        for (DataSnapshot userSnapshot : snapshot.getChildren()) {\r\n                            //mUsers.add(userSnapshot.getValue(User.class));\r\n\r\n                            Post post = userSnapshot.getValue(Post.class);\r\n\r\n                            Log.d(&quot;TAG5&quot;, user_word);\r\n\r\n                            hashTags2.add(post.getDescription());\r\n                            //hashTags2.add(post.getDescription());\r\n                        }\r\n                        adapterExplorer.notifyDataSetChanged();\r\n                    }\r\n\r\n                    @Override\r\n                    public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n                    }\r\n                });\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n                Log.d(&quot;Error name&quot;, error.getMessage());\r\n            }\r\n        });\r\n    }\r\n\r\n![database structure][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fZ2D5.png","title":"search and select substring Firebase Java","body":"<p>I am trying to search my database and show the user the hashtag they searched for. So for e.g. if they search for <code>#funny</code> then that hashtag will show up in the recycler view.</p>\n<p>Right now nothing shows up when I search for the hashtag. Can someone help me ?</p>\n<pre><code>private void searchHashTags(String user_word) {\n\n    //Log.d(&quot;TAG1&quot;, &quot;message is:&quot; + user_word);\n\n    DatabaseReference usersRef = FirebaseDatabase.getInstance().getReference(&quot;Video_Posts&quot;);\n    Query query = usersRef.orderByChild(&quot;description&quot;).equalTo(user_word);\n\n    query.addValueEventListener(new ValueEventListener() {\n        @Override\n        public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\n\n            if (search_bar.getText().toString().equals(&quot;&quot;)) {\n                recyclerHashTags.setVisibility(View.INVISIBLE);\n            }\n\n            Query query2 = usersRef.orderByChild(&quot;description&quot;).startAt(search_bar.getText().toString()).endAt(search_bar.getText().toString()+&quot;\\uf8ff&quot;);\n\n            query2.addValueEventListener(new ValueEventListener() {\n                @Override\n                public void onDataChange(@NonNull DataSnapshot snapshot) {\n\n                    hashTags.clear();\n                    for (DataSnapshot userSnapshot : snapshot.getChildren()) {\n                        //mUsers.add(userSnapshot.getValue(User.class));\n\n                        Post post = userSnapshot.getValue(Post.class);\n\n                        Log.d(&quot;TAG5&quot;, user_word);\n\n                        hashTags2.add(post.getDescription());\n                        //hashTags2.add(post.getDescription());\n                    }\n                    adapterExplorer.notifyDataSetChanged();\n                }\n\n                @Override\n                public void onCancelled(@NonNull DatabaseError error) {\n\n                }\n            });\n        }\n\n        @Override\n        public void onCancelled(@NonNull DatabaseError error) {\n\n            Log.d(&quot;Error name&quot;, error.getMessage());\n        }\n    });\n}\n</code></pre>\n<p><img src=\"https://i.stack.imgur.com/fZ2D5.png\" alt=\"database structure\" /></p>\n"},{"tags":["java","concurrency","volatile"],"answers":[{"tags":[],"owner":{"account_id":8391404,"reputation":293,"user_id":6300032,"display_name":"SimGel"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666348603,"creation_date":1666348603,"answer_id":74152377,"question_id":74152100,"body_markdown":"The `volatile` might be necesarry when you update the variable `myMap` while other threads read from it.\r\n\r\nIf you are just reading from the map you dont need a threadsafe map implementation.\r\n\r\nhttps://stackoverflow.com/questions/106591/what-is-the-volatile-keyword-useful-for","title":"Volatile for immutable object","body":"<p>The <code>volatile</code> might be necesarry when you update the variable <code>myMap</code> while other threads read from it.</p>\n<p>If you are just reading from the map you dont need a threadsafe map implementation.</p>\n<p><a href=\"https://stackoverflow.com/questions/106591/what-is-the-volatile-keyword-useful-for\">What is the volatile keyword useful for?</a></p>\n"}],"owner":{"account_id":96438,"reputation":2390,"user_id":262114,"accept_rate":69,"display_name":"HamoriZ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666348603,"creation_date":1666347167,"question_id":74152100,"body_markdown":"I have a variable\r\n\r\n```java\r\nprivate volatile MultiMap myMap;\r\n\r\npublic void doProcessing {\r\n    \r\n     myMap = getValueFromMainThread()\r\n     myForkJoinPool.submit(() -&gt; readWithinMultipleThreads())\r\n\r\n\r\n}\r\n\r\nprivate void readWithinMultipleThreads() {\r\n   readSomethingFrom(myMap.get)\r\n}\r\n```\r\n\r\nI assume this might be enough and do not need myMap to be threadsafe as I read in the child thread and do not modify the state. I am also not sure if I would need volatile at all\r\n","title":"Volatile for immutable object","body":"<p>I have a variable</p>\n<pre class=\"lang-java prettyprint-override\"><code>private volatile MultiMap myMap;\n\npublic void doProcessing {\n    \n     myMap = getValueFromMainThread()\n     myForkJoinPool.submit(() -&gt; readWithinMultipleThreads())\n\n\n}\n\nprivate void readWithinMultipleThreads() {\n   readSomethingFrom(myMap.get)\n}\n</code></pre>\n<p>I assume this might be enough and do not need myMap to be threadsafe as I read in the child thread and do not modify the state. I am also not sure if I would need volatile at all</p>\n"},{"tags":["java","xml","spring","spring-batch","java-batch"],"comments":[{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":0,"creation_date":1666338394,"post_id":74145878,"comment_id":130917761,"body_markdown":"Before digging into how to technically do this, why would you need to create a bean of type `Date` with the current date (or previous day date)? This should be a runtime information and not a static bean definition. What are you trying to achieve?","body":"Before digging into how to technically do this, why would you need to create a bean of type <code>Date</code> with the current date (or previous day date)? This should be a runtime information and not a static bean definition. What are you trying to achieve?"}],"answers":[{"tags":[],"owner":{"account_id":384402,"reputation":1902,"user_id":740888,"display_name":"httPants"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666348429,"creation_date":1666348429,"answer_id":74152340,"question_id":74145878,"body_markdown":"Using [natty][1] you can parse natural language date expressions like &quot;yesterday&quot; or &quot;24 hours before now&quot; to generate a java.util.Date object.\r\n\r\n\r\n  [1]: https://github.com/joestelmach/natty","title":"Returning previous business day instead of currentDate with fastDateFormat","body":"<p>Using <a href=\"https://github.com/joestelmach/natty\" rel=\"nofollow noreferrer\">natty</a> you can parse natural language date expressions like &quot;yesterday&quot; or &quot;24 hours before now&quot; to generate a java.util.Date object.</p>\n"}],"owner":{"account_id":15697444,"reputation":55,"user_id":11326492,"display_name":"Ay123"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666348429,"creation_date":1666297068,"question_id":74145878,"body_markdown":"I currently have the below code utilized for retrieving current date in spring batch. Is there a way to implement a similar solution, but instead, returning the previous business day instead of the currentDate?\r\n\r\n    &lt;bean id=&quot;fastDateFormat&quot; class=&quot;org.apache.commons.lang.time.FastDateFormat&quot;\r\n        factory-method=&quot;getInstance&quot;&gt;\r\n        &lt;constructor-arg value=&quot;yyyyMMdd&quot; /&gt;\r\n    &lt;/bean&gt;\r\n    \r\n    &lt;bean id=&quot;currentDate&quot; class=&quot;java.util.Date&quot; factory-bean=&quot;fastDateFormat&quot;\r\n        factory-method=&quot;format&quot;&gt;\r\n        &lt;constructor-arg&gt;\r\n            &lt;bean class=&quot;java.util.Date&quot; /&gt;\r\n        &lt;/constructor-arg&gt;\r\n    &lt;/bean&gt;","title":"Returning previous business day instead of currentDate with fastDateFormat","body":"<p>I currently have the below code utilized for retrieving current date in spring batch. Is there a way to implement a similar solution, but instead, returning the previous business day instead of the currentDate?</p>\n<pre><code>&lt;bean id=&quot;fastDateFormat&quot; class=&quot;org.apache.commons.lang.time.FastDateFormat&quot;\n    factory-method=&quot;getInstance&quot;&gt;\n    &lt;constructor-arg value=&quot;yyyyMMdd&quot; /&gt;\n&lt;/bean&gt;\n\n&lt;bean id=&quot;currentDate&quot; class=&quot;java.util.Date&quot; factory-bean=&quot;fastDateFormat&quot;\n    factory-method=&quot;format&quot;&gt;\n    &lt;constructor-arg&gt;\n        &lt;bean class=&quot;java.util.Date&quot; /&gt;\n    &lt;/constructor-arg&gt;\n&lt;/bean&gt;\n</code></pre>\n"},{"tags":["java","groovy","hashmap","maps"],"comments":[{"owner":{"account_id":4358,"reputation":168420,"user_id":6509,"display_name":"tim_yates"},"score":0,"creation_date":1666348301,"post_id":74152291,"comment_id":130921077,"body_markdown":"What is `displayTimeZone`?","body":"What is <code>displayTimeZone</code>?"},{"owner":{"account_id":26691644,"reputation":1,"user_id":20300140,"display_name":"Kuldeep Rajput"},"score":0,"creation_date":1666348594,"post_id":74152291,"comment_id":130921166,"body_markdown":"displyTimeZone is a method to get All the TimeZone Ids. The method returns values like this :-\n(GMT-7:420) America/Hermosillo\n(GMT-5:300) America/Indiana/Indianapolis\n(GMT-6:360) America/Indiana/Knox\n(GMT-5:300) America/Indiana/Marengo\n(GMT-5:300) America/Indiana/Petersburg\n(GMT-6:360) America/Indiana/Tell_City(GMT-9:540) America/Juneau\n(GMT-5:300) America/Kentucky/Louisville\n(GMT-5:300) America/Kentucky/Monticello\n and so on for all regions TimeZone Ids.","body":"displyTimeZone is a method to get All the TimeZone Ids. The method returns values like this :- (GMT-7:420) America/Hermosillo (GMT-5:300) America/Indiana/Indianapolis (GMT-6:360) America/Indiana/Knox (GMT-5:300) America/Indiana/Marengo (GMT-5:300) America/Indiana/Petersburg (GMT-6:360) America/Indiana/Tell_City(GMT-9:540) America/Juneau (GMT-5:300) America/Kentucky/Louisville (GMT-5:300) America/Kentucky/Monticello  and so on for all regions TimeZone Ids."},{"owner":{"account_id":4358,"reputation":168420,"user_id":6509,"display_name":"tim_yates"},"score":3,"creation_date":1666353377,"post_id":74152291,"comment_id":130922696,"body_markdown":"Any chance you can update the example so we can run it, and see the problem you&#39;re describing?","body":"Any chance you can update the example so we can run it, and see the problem you&#39;re describing?"},{"owner":{"account_id":3837378,"reputation":35488,"user_id":3181392,"display_name":"cfrick"},"score":0,"creation_date":1666691124,"post_id":74152291,"comment_id":130991637,"body_markdown":"If old values are overridden by new, this means, that you are storing them under the same key.","body":"If old values are overridden by new, this means, that you are storing them under the same key."}],"owner":{"account_id":26691644,"reputation":1,"user_id":20300140,"display_name":"Kuldeep Rajput"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666348115,"creation_date":1666348115,"question_id":74152291,"body_markdown":"I have to store some values in Hashmap, using loops. I tried using .put(key,value) method, it worked but in loop the Hashmap gets overwritten by new values, is there any method to not overwrite the new values?\r\nHere is my code :-\r\n\r\n    import javax.sound.sampled.Line\r\n    import java.time.*\r\n    import java.time.format.DateTimeFormatter\r\n    import java.util.concurrent.TimeUnit;\r\n    import java.util.Map.Entry;\r\n    \r\n    String[] ids = TimeZone.getAvailableIDs();\r\n    String map\r\n    for (String id : ids) {\r\n        map =  displayTimeZone(TimeZone.getTimeZone(id))\r\n        String mapValue = map.split(&quot; &quot;)\r\n        String value = mapValue.split(&quot;,&quot;)[1].trim().replace(&quot;]&quot;,&quot;&quot;)\r\n        String key = mapValue.split(&quot;,&quot;)[0].replace(&quot;[(&quot;,&quot;&quot;).replace(&quot;)&quot;,&quot;&quot;)\r\n        timeZones.put(key,value)\r\n        println(&quot;--------------------------------------------------------------------------------------------------------------------------------------------------------&quot;)\r\n        println(timeZones)\r\n    }","title":"put values in Hashmap in Groovy using loops","body":"<p>I have to store some values in Hashmap, using loops. I tried using .put(key,value) method, it worked but in loop the Hashmap gets overwritten by new values, is there any method to not overwrite the new values?\nHere is my code :-</p>\n<pre><code>import javax.sound.sampled.Line\nimport java.time.*\nimport java.time.format.DateTimeFormatter\nimport java.util.concurrent.TimeUnit;\nimport java.util.Map.Entry;\n\nString[] ids = TimeZone.getAvailableIDs();\nString map\nfor (String id : ids) {\n    map =  displayTimeZone(TimeZone.getTimeZone(id))\n    String mapValue = map.split(&quot; &quot;)\n    String value = mapValue.split(&quot;,&quot;)[1].trim().replace(&quot;]&quot;,&quot;&quot;)\n    String key = mapValue.split(&quot;,&quot;)[0].replace(&quot;[(&quot;,&quot;&quot;).replace(&quot;)&quot;,&quot;&quot;)\n    timeZones.put(key,value)\n    println(&quot;--------------------------------------------------------------------------------------------------------------------------------------------------------&quot;)\n    println(timeZones)\n}\n</code></pre>\n"},{"tags":["java","ms-word","apache-poi","tableofcontents"],"comments":[{"owner":{"account_id":2655673,"reputation":11140,"user_id":2296441,"accept_rate":86,"display_name":"jmarkmurphy"},"score":1,"creation_date":1464267464,"post_id":37454260,"comment_id":62421922,"body_markdown":"Give us a stripped down version of your code that exhibits the problem, then maybe someone can help.","body":"Give us a stripped down version of your code that exhibits the problem, then maybe someone can help."},{"owner":{"account_id":5952989,"reputation":325,"user_id":4680492,"accept_rate":17,"display_name":"Hendrien"},"score":0,"creation_date":1464268431,"post_id":37454260,"comment_id":62422683,"body_markdown":"Hi. I added some code to the initial question, hope this helps.","body":"Hi. I added some code to the initial question, hope this helps."}],"answers":[{"comments":[{"owner":{"account_id":5952989,"reputation":325,"user_id":4680492,"accept_rate":17,"display_name":"Hendrien"},"score":0,"creation_date":1464271193,"post_id":37462699,"comment_id":62424895,"body_markdown":"Hi. Thanks for your comment. It works but the TOC is now at the end of the document. Is there any way I can specify where the TOC should be generated? The enforceUpdateFields() did work for the TOC, but it only updated it in the navigation panel, and not in the word document itself.","body":"Hi. Thanks for your comment. It works but the TOC is now at the end of the document. Is there any way I can specify where the TOC should be generated? The enforceUpdateFields() did work for the TOC, but it only updated it in the navigation panel, and not in the word document itself."},{"owner":{"account_id":2655673,"reputation":11140,"user_id":2296441,"accept_rate":86,"display_name":"jmarkmurphy"},"score":0,"creation_date":1464273930,"post_id":37462699,"comment_id":62427147,"body_markdown":"Sorry, don&#39;t know the answer here, it is down in the weeds, and I don&#39;t have time to dig through the source and find it. Word documents are kind of an extra in POI. And I don&#39;t know if there are even any committers working on it right now. HWPF doesn&#39;t even have a way to do a TOC. It would be easier if the `createToc()` method would return the TOC so you could add lines yourself if necessary. It is not automatic though.","body":"Sorry, don&#39;t know the answer here, it is down in the weeds, and I don&#39;t have time to dig through the source and find it. Word documents are kind of an extra in POI. And I don&#39;t know if there are even any committers working on it right now. HWPF doesn&#39;t even have a way to do a TOC. It would be easier if the <code>createToc()</code> method would return the TOC so you could add lines yourself if necessary. It is not automatic though."}],"tags":[],"owner":{"account_id":2655673,"reputation":11140,"user_id":2296441,"accept_rate":86,"display_name":"jmarkmurphy"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1464270365,"creation_date":1464270365,"answer_id":37462699,"question_id":37454260,"body_markdown":"Hmmm... I am looking at the `createTOC()` method code, and it appears that it looks for styles that look like `Heading #`. So `Tier1Header` would not be found. Try creating your text first, and use styles like `Heading 1` for your headings. Then add the TOC using `createTOC()`. It should find all the headings when the TOC is created. I do not know if `enforceUpdateFields()` affects the TOC.","title":"Apache POI Table of contents not updating","body":"<p>Hmmm... I am looking at the <code>createTOC()</code> method code, and it appears that it looks for styles that look like <code>Heading #</code>. So <code>Tier1Header</code> would not be found. Try creating your text first, and use styles like <code>Heading 1</code> for your headings. Then add the TOC using <code>createTOC()</code>. It should find all the headings when the TOC is created. I do not know if <code>enforceUpdateFields()</code> affects the TOC.</p>\n"},{"comments":[{"owner":{"account_id":9441529,"reputation":11,"user_id":7021824,"display_name":"Programmer"},"score":0,"creation_date":1476494380,"post_id":40054014,"comment_id":67383813,"body_markdown":"Update: add the following line just before the save method:\ndocTemplate.enforceUpdateFields();","body":"Update: add the following line just before the save method: docTemplate.enforceUpdateFields();"}],"tags":[],"owner":{"account_id":9441529,"reputation":11,"user_id":7021824,"display_name":"Programmer"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1476494250,"creation_date":1476494250,"answer_id":40054014,"question_id":37454260,"body_markdown":"//Your docx template should contain the following or something similar text //which will be searched for and replaced with a WORD TOC.\t\r\n\r\n//${TOC}\r\n\r\n    public static void main(String[] args) throws IOException, OpenXML4JException {\r\n    \t\tXWPFDocument docTemplate = null;\r\n    \t\ttry {\r\n    \t\t\tFile file = new File(PATH_TO_FILE); //&quot;C:\\\\Reports\\\\Template.docx&quot;;\r\n    \t\t\tFileInputStream fis = new FileInputStream(file);\r\n    \t\t\tdocTemplate = new XWPFDocument(fis);\r\n    \t\t\t generateTOC(docTemplate);\r\n    \t\t\tsaveDocument(docTemplate);\r\n    \t\t} catch (FileNotFoundException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t} catch (IOException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t} finally {\r\n    \t\t\tif (docTemplate != null) {\r\n    \t\t\t\tdocTemplate.close();\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\t\r\n\r\n\tprivate static void saveDocument(XWPFDocument docTemplate) throws FileNotFoundException, IOException {\r\n\t\tFileOutputStream outputFile = null;\r\n\t\ttry {\r\n\t\t\toutputFile = new FileOutputStream(OUTFILENAME);\r\n\t\t\tdocTemplate.write(outputFile);\r\n\t\t} finally {\r\n\t\t\tif (outputFile != null) {\r\n\t\t\t\toutputFile.close();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\r\n    public static void generateTOC(XWPFDocument document) throws InvalidFormatException, FileNotFoundException, IOException {\r\n    \t\tString findText = &quot;${TOC}&quot;;\r\n    \t\tString replaceText = &quot;&quot;;\r\n    \t\tfor (XWPFParagraph p : document.getParagraphs()) {\r\n    \t\t\tfor (XWPFRun r : p.getRuns()) {\r\n    \t\t\t\tint pos = r.getTextPosition();\r\n    \t\t\t\tString text = r.getText(pos);\r\n    \t\t\t\tif (text != null &amp;&amp; text.contains(findText)) {\r\n    \t\t\t\t\ttext = text.replace(findText, replaceText);\r\n    \t\t\t\t\tr.setText(text, 0);\r\n    \t\t\t\t\taddField(p, &quot;TOC \\\\o \\&quot;1-3\\&quot; \\\\h \\\\z \\\\u&quot;);\r\n    \t\t\t\t\tbreak;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n\r\n\tprivate static void addField(XWPFParagraph paragraph, String fieldName) {\r\n\t\tCTSimpleField ctSimpleField = paragraph.getCTP().addNewFldSimple();\r\n\t\t// ctSimpleField.setInstr(fieldName + &quot; \\\\* MERGEFORMAT &quot;);\r\n\t\tctSimpleField.setInstr(fieldName);\r\n\t\tctSimpleField.addNewR().addNewT().setStringValue(&quot;&lt;&lt;fieldName&gt;&gt;&quot;);\r\n\t}\r\n","title":"Apache POI Table of contents not updating","body":"<p>//Your docx template should contain the following or something similar text //which will be searched for and replaced with a WORD TOC.  </p>\n\n<p>//${TOC}</p>\n\n<pre><code>public static void main(String[] args) throws IOException, OpenXML4JException {\n        XWPFDocument docTemplate = null;\n        try {\n            File file = new File(PATH_TO_FILE); //\"C:\\\\Reports\\\\Template.docx\";\n            FileInputStream fis = new FileInputStream(file);\n            docTemplate = new XWPFDocument(fis);\n             generateTOC(docTemplate);\n            saveDocument(docTemplate);\n        } catch (FileNotFoundException e) {\n            e.printStackTrace();\n        } catch (IOException e) {\n            e.printStackTrace();\n        } finally {\n            if (docTemplate != null) {\n                docTemplate.close();\n            }\n        }\n    }   \n\nprivate static void saveDocument(XWPFDocument docTemplate) throws FileNotFoundException, IOException {\n    FileOutputStream outputFile = null;\n    try {\n        outputFile = new FileOutputStream(OUTFILENAME);\n        docTemplate.write(outputFile);\n    } finally {\n        if (outputFile != null) {\n            outputFile.close();\n        }\n    }\n}\n\n\npublic static void generateTOC(XWPFDocument document) throws InvalidFormatException, FileNotFoundException, IOException {\n        String findText = \"${TOC}\";\n        String replaceText = \"\";\n        for (XWPFParagraph p : document.getParagraphs()) {\n            for (XWPFRun r : p.getRuns()) {\n                int pos = r.getTextPosition();\n                String text = r.getText(pos);\n                if (text != null &amp;&amp; text.contains(findText)) {\n                    text = text.replace(findText, replaceText);\n                    r.setText(text, 0);\n                    addField(p, \"TOC \\\\o \\\"1-3\\\" \\\\h \\\\z \\\\u\");\n                    break;\n                }\n            }\n        }\n    }\n\nprivate static void addField(XWPFParagraph paragraph, String fieldName) {\n    CTSimpleField ctSimpleField = paragraph.getCTP().addNewFldSimple();\n    // ctSimpleField.setInstr(fieldName + \" \\\\* MERGEFORMAT \");\n    ctSimpleField.setInstr(fieldName);\n    ctSimpleField.addNewR().addNewT().setStringValue(\"&lt;&lt;fieldName&gt;&gt;\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1234084,"reputation":6052,"user_id":1198067,"accept_rate":100,"display_name":"Andrea"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1477573698,"creation_date":1477479622,"answer_id":40260538,"question_id":37454260,"body_markdown":"This is the code of `createTOC()`, obtained by inspecting `XWPFDocument.class`:\r\n\r\n\tpublic void createTOC() {\r\n\t\tCTSdtBlock block = getDocument().getBody().addNewSdt();\r\n\t\tTOC toc = new TOC(block);\r\n\t\tfor (XWPFParagraph par : this.paragraphs) {\r\n\t\t\tString parStyle = par.getStyle();\r\n\t\t\tif ((parStyle != null) &amp;&amp; (parStyle.startsWith(&quot;Heading&quot;))) try {\r\n\t\t\t\tint level = Integer.valueOf(parStyle.substring(&quot;Heading&quot;.length())).intValue();\r\n\t\t\t\ttoc.addRow(level, par.getText(), 1, &quot;112723803&quot;);\r\n\t\t\t} catch (NumberFormatException e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\nAs you can see, it adds to the TOC all paragraphs having styles named &quot;`HeadingX`&quot;, with X being a number. But, unfortunately, that&#39;s not sufficent. The method, in fact, is bugged/uncomplete in its implementation.\r\n\r\nThe page number passed to `addRow()` is always `1`, it&#39;s not even calculated.\r\nSo, at the end, you will have a TOC with all your paragraphs and the trailing dots giving the proper indentation, but the pages will be always equal to &quot;1&quot;.\r\n\r\n\r\n----------\r\n\r\n\r\n**EDIT**\r\n...but, there&#39;s a solution [here][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/40235909/creating-a-table-of-contents-for-a-xwpfdocument-with-page-numbers-indication/40264237#40264237","title":"Apache POI Table of contents not updating","body":"<p>This is the code of <code>createTOC()</code>, obtained by inspecting <code>XWPFDocument.class</code>:</p>\n\n<pre><code>public void createTOC() {\n    CTSdtBlock block = getDocument().getBody().addNewSdt();\n    TOC toc = new TOC(block);\n    for (XWPFParagraph par : this.paragraphs) {\n        String parStyle = par.getStyle();\n        if ((parStyle != null) &amp;&amp; (parStyle.startsWith(\"Heading\"))) try {\n            int level = Integer.valueOf(parStyle.substring(\"Heading\".length())).intValue();\n            toc.addRow(level, par.getText(), 1, \"112723803\");\n        } catch (NumberFormatException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n\n<p>As you can see, it adds to the TOC all paragraphs having styles named \"<code>HeadingX</code>\", with X being a number. But, unfortunately, that's not sufficent. The method, in fact, is bugged/uncomplete in its implementation.</p>\n\n<p>The page number passed to <code>addRow()</code> is always <code>1</code>, it's not even calculated.\nSo, at the end, you will have a TOC with all your paragraphs and the trailing dots giving the proper indentation, but the pages will be always equal to \"1\".</p>\n\n<hr>\n\n<p><strong>EDIT</strong>\n...but, there's a solution <a href=\"https://stackoverflow.com/questions/40235909/creating-a-table-of-contents-for-a-xwpfdocument-with-page-numbers-indication/40264237#40264237\">here</a>.</p>\n"}],"owner":{"account_id":5952989,"reputation":325,"user_id":4680492,"accept_rate":17,"display_name":"Hendrien"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5161,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":3,"score":1,"last_activity_date":1666348080,"creation_date":1464247758,"question_id":37454260,"body_markdown":"I am using Apache POI XWPF components and java, to extract data from a .xml file into a word document. So far so good, but I am struggling to create a table of contents. \r\n\r\nI have to create a table of contents at the start of the method and then I update it at the end to get all the new headers. Currently I use `doc.createTOC()`, where doc is a variable created from `XWPFDocument`, to create the table at the start and then I use `doc.enforceUpdateFields()` to update everything at the end of the document. But when I open the document after I ran the program, the table of contents is empty, but the navigation panel does include some of the headers I specified.\r\n\r\nA comment recommended that I include some code. So i started off by create the document from a template:\r\n\r\n    XWPFDocument doc = new XWPFDocument(new FileInputStream(&quot;D://Template.docx&quot;));\r\n\r\nI then create a table of contents:\r\n\r\n    doc.createTOC();\r\n\r\nThen throughout the method I add headers to the document:\r\n\r\n    XWPFParagraph documentControlHeading = doc.createParagraph();\r\n    documentControlHeading.setPageBreak(true);\r\n    documentControlHeading.setAlignment(ParagraphAlignment.LEFT);\r\n    documentControlHeading.setStyle(&quot;Tier1Header&quot;);\r\n\r\nAfter all the headers are added, I want to update the document so that all the new headers will appear in the table of contents. I do this buy using the following command:\r\n\r\n    doc.enforceUpdateFields();\r\n\r\n","title":"Apache POI Table of contents not updating","body":"<p>I am using Apache POI XWPF components and java, to extract data from a .xml file into a word document. So far so good, but I am struggling to create a table of contents.</p>\n<p>I have to create a table of contents at the start of the method and then I update it at the end to get all the new headers. Currently I use <code>doc.createTOC()</code>, where doc is a variable created from <code>XWPFDocument</code>, to create the table at the start and then I use <code>doc.enforceUpdateFields()</code> to update everything at the end of the document. But when I open the document after I ran the program, the table of contents is empty, but the navigation panel does include some of the headers I specified.</p>\n<p>A comment recommended that I include some code. So i started off by create the document from a template:</p>\n<pre><code>XWPFDocument doc = new XWPFDocument(new FileInputStream(&quot;D://Template.docx&quot;));\n</code></pre>\n<p>I then create a table of contents:</p>\n<pre><code>doc.createTOC();\n</code></pre>\n<p>Then throughout the method I add headers to the document:</p>\n<pre><code>XWPFParagraph documentControlHeading = doc.createParagraph();\ndocumentControlHeading.setPageBreak(true);\ndocumentControlHeading.setAlignment(ParagraphAlignment.LEFT);\ndocumentControlHeading.setStyle(&quot;Tier1Header&quot;);\n</code></pre>\n<p>After all the headers are added, I want to update the document so that all the new headers will appear in the table of contents. I do this buy using the following command:</p>\n<pre><code>doc.enforceUpdateFields();\n</code></pre>\n"},{"tags":["java","xml","delegates","spring-batch","writer"],"answers":[{"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666251216,"creation_date":1666251216,"answer_id":74135987,"question_id":74135204,"body_markdown":"The `FlatFileItemWriter` is designed to write flat files, not XML files.\r\n\r\nIn your case, you can use a `CompositeItemWriter` with two `StaxEventItemWriter`s as delegates to generate two XML files.","title":"Read CSV and write two differents xml files - best practices","body":"<p>The <code>FlatFileItemWriter</code> is designed to write flat files, not XML files.</p>\n<p>In your case, you can use a <code>CompositeItemWriter</code> with two <code>StaxEventItemWriter</code>s as delegates to generate two XML files.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1666722619,"post_id":74152248,"comment_id":131002578,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/74152248/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":19843084,"reputation":61,"user_id":14535321,"display_name":"lasnico37"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666347907,"creation_date":1666347907,"answer_id":74152248,"question_id":74135204,"body_markdown":"Bonjour,\r\n\r\nMerci pour le retour.\r\n\r\nJe vais essayer avec CompositeItemWriter et deux StaxEventItemWriter. Mais pourrais je utiliser les classes Java g&#233;n&#233;r&#233;es avec Xjc qui me permettent d&#39;&#233;crire les XmL actuellement ? \r\n\r\nCdt,","title":"Read CSV and write two differents xml files - best practices","body":"<p>Bonjour,</p>\n<p>Merci pour le retour.</p>\n<p>Je vais essayer avec CompositeItemWriter et deux StaxEventItemWriter. Mais pourrais je utiliser les classes Java générées avec Xjc qui me permettent d'écrire les XmL actuellement ?</p>\n<p>Cdt,</p>\n"}],"owner":{"account_id":19843084,"reputation":61,"user_id":14535321,"display_name":"lasnico37"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1666347907,"creation_date":1666246438,"question_id":74135204,"body_markdown":"I have a batch that reads a .csv file and maps its data into a POJO.\r\nI need to write two XML files as output. Currently, to write these two files, I generated classes via XJC from their XSD.\r\n\r\nI am writing from a FlatFileItemWriter (written in a text file which is useless) via a delegator. It is in this delegator that I write my two XML files. The batch works fine, I produce both XML files as output, no problem. However, I&#39;m not satisfied because I&#39;m producing a useless empty .txt file and I&#39;m using a FlatFileItemWriter, that&#39;s not the way to do it.\r\n\r\n```java\r\n@Bean\r\n@StepScope\r\npublic FlatFileItemWriter&lt;MetaCsv&gt; csvWriter(MetaAgregator aggregator) {\r\n    FlatFileItemWriter&lt;MetaCsv&gt; flatFileItemWriter = new FlatFileItemWriter&lt;&gt;();\r\n    String outFilePath = &quot;resources/data/esopetosae/output/out.txt&quot;;\r\n    flatFileItemWriter.setResource(new FileSystemResource(outFilePath));\r\n    flatFileItemWriter.setLineAggregator(aggregator);\r\n    flatFileItemWriter.setShouldDeleteIfExists(true);\r\n    flatFileItemWriter.setShouldDeleteIfEmpty(true);\r\n    return flatFileItemWriter;\r\n}\r\n```\r\nAggregator:\r\n\r\n```java\r\n@Bean\r\npublic MetaAgregator aggregator() {\r\n    return new MetaAgregator ();\r\n}\r\n```\r\n\r\nHow can I make my Writer manage the writing of the two different XML files (different rootXML, different structure and data) while keeping the aggregator? Is it possible?\r\n","title":"Read CSV and write two differents xml files - best practices","body":"<p>I have a batch that reads a .csv file and maps its data into a POJO.\nI need to write two XML files as output. Currently, to write these two files, I generated classes via XJC from their XSD.</p>\n<p>I am writing from a FlatFileItemWriter (written in a text file which is useless) via a delegator. It is in this delegator that I write my two XML files. The batch works fine, I produce both XML files as output, no problem. However, I'm not satisfied because I'm producing a useless empty .txt file and I'm using a FlatFileItemWriter, that's not the way to do it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\n@StepScope\npublic FlatFileItemWriter&lt;MetaCsv&gt; csvWriter(MetaAgregator aggregator) {\n    FlatFileItemWriter&lt;MetaCsv&gt; flatFileItemWriter = new FlatFileItemWriter&lt;&gt;();\n    String outFilePath = &quot;resources/data/esopetosae/output/out.txt&quot;;\n    flatFileItemWriter.setResource(new FileSystemResource(outFilePath));\n    flatFileItemWriter.setLineAggregator(aggregator);\n    flatFileItemWriter.setShouldDeleteIfExists(true);\n    flatFileItemWriter.setShouldDeleteIfEmpty(true);\n    return flatFileItemWriter;\n}\n</code></pre>\n<p>Aggregator:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic MetaAgregator aggregator() {\n    return new MetaAgregator ();\n}\n</code></pre>\n<p>How can I make my Writer manage the writing of the two different XML files (different rootXML, different structure and data) while keeping the aggregator? Is it possible?</p>\n"},{"tags":["java","list","key-value","linkedhashmap"],"comments":[{"owner":{"account_id":5923824,"reputation":429,"user_id":4660406,"accept_rate":82,"display_name":"Zannith"},"score":4,"creation_date":1535056418,"post_id":50963967,"comment_id":90937412,"body_markdown":"It sounds like you are using the map backwards in that case, perhaps you want Map&lt;String, Integer&gt;? then you would just say names.get(name). Also how would you want to handle duplicate names? or are duplicates allowed?","body":"It sounds like you are using the map backwards in that case, perhaps you want Map&lt;String, Integer&gt;? then you would just say names.get(name). Also how would you want to handle duplicate names? or are duplicates allowed?"},{"owner":{"account_id":2366187,"reputation":60172,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":1,"creation_date":1535061449,"post_id":50963967,"comment_id":90939288,"body_markdown":"You seem to be using a `Map` backwards. Oops. This looks a lot like it could be replaced by a `List` - just use `List.indexOf`. Not fast, but it will work.","body":"You seem to be using a <code>Map</code> backwards. Oops. This looks a lot like it could be replaced by a <code>List</code> - just use <code>List.indexOf</code>. Not fast, but it will work."}],"answers":[{"tags":[],"owner":{"account_id":3639271,"reputation":108,"user_id":3033864,"display_name":"Konzern"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1535122851,"creation_date":1535070307,"answer_id":51995941,"question_id":50963967,"body_markdown":"    for (Map.Entry&lt;String, ArrayList&lt;String&gt;&gt; entry : names.entrySet()) {\r\n    String key = entry.getKey();\r\n    ArrayList&lt;String&gt; value = entry.getValue();\r\n    }\r\nuse Map.Entry to iterate","title":"How to get a key from LinkedHashMap","body":"<pre><code>for (Map.Entry&lt;String, ArrayList&lt;String&gt;&gt; entry : names.entrySet()) {\nString key = entry.getKey();\nArrayList&lt;String&gt; value = entry.getValue();\n}\n</code></pre>\n\n<p>use Map.Entry to iterate</p>\n"},{"tags":[],"owner":{"account_id":4900086,"reputation":3091,"user_id":3948697,"accept_rate":67,"display_name":"Atul"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1602749082,"creation_date":1602749082,"answer_id":64367299,"question_id":50963967,"body_markdown":"If you want to collect the keys in order they are in Set then it is like this:\r\n\r\n    map.entrySet().stream().map(Map.Entry::getKey).collect(Collectors.toCollection(LinkedHashSet::new));\r\n\r\nHere the LinkedHashSet maintains the order of insertion of LinkedHashMap.\r\nIf you use HashSet it may change the order of keys. For surety use LinkedHashSet.\r\n \r\n\r\nSame thing is applicable on case of ArrayList. ArrayList maintains the insertion order, so nothing to worry about order.\r\n\r\n    map.entrySet().stream().map(Map.Entry::getKey).collect(Collectors.toCollection(ArrayList::new));","title":"How to get a key from LinkedHashMap","body":"<p>If you want to collect the keys in order they are in Set then it is like this:</p>\n<pre><code>map.entrySet().stream().map(Map.Entry::getKey).collect(Collectors.toCollection(LinkedHashSet::new));\n</code></pre>\n<p>Here the LinkedHashSet maintains the order of insertion of LinkedHashMap.\nIf you use HashSet it may change the order of keys. For surety use LinkedHashSet.</p>\n<p>Same thing is applicable on case of ArrayList. ArrayList maintains the insertion order, so nothing to worry about order.</p>\n<pre><code>map.entrySet().stream().map(Map.Entry::getKey).collect(Collectors.toCollection(ArrayList::new));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6950939,"reputation":422,"user_id":5333592,"display_name":"Olavi Vaino"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666347779,"creation_date":1666347779,"answer_id":74152217,"question_id":50963967,"body_markdown":"Answer to question &quot;How to get a key from LinkedHashMap?&quot;\r\n\r\n    names.entrySet().stream().findFirst().get().getKey();","title":"How to get a key from LinkedHashMap","body":"<p>Answer to question &quot;How to get a key from LinkedHashMap?&quot;</p>\n<pre><code>names.entrySet().stream().findFirst().get().getKey();\n</code></pre>\n"}],"owner":{"account_id":13507017,"reputation":31,"user_id":9824519,"display_name":"Qew"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13634,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":51995941,"answer_count":3,"score":3,"last_activity_date":1666347779,"creation_date":1529570099,"question_id":50963967,"body_markdown":"How to get a key from LinkedHashMap?\r\n\r\nFor example I have `LinkedHashMap` which contains key and user names and I need to input name with the help of scanner after that I want to see what key that element has, the element that I input:\r\n\r\n    static LinkedHashMap&lt;Integer, String&gt; names = new LinkedHashMap&lt;&gt;();\r\n    static Scanner sc = new Scanner(System.in);\r\n    static int i = 1;\r\n    stasic String name;\r\n\r\n    public static void main(String[] args) {\r\n        int b = 0;\r\n        while (b == 0) {\r\n            System.out.println(&quot;Input your name: &quot;);\r\n            name = sc.nextLine;\r\n            names.put(i, name);\r\n            i += 1;\r\n            outName();\r\n        }\r\n    }\r\n\r\n    public static void outName() {\r\n        System.out.println(&quot;Input name: &quot;);\r\n        name = sc.nextLine();\r\n        if (names.containsValue(name)) {\r\n            //I do not know what should I do here?\r\n        }\r\n    }","title":"How to get a key from LinkedHashMap","body":"<p>How to get a key from LinkedHashMap?</p>\n\n<p>For example I have <code>LinkedHashMap</code> which contains key and user names and I need to input name with the help of scanner after that I want to see what key that element has, the element that I input:</p>\n\n<pre><code>static LinkedHashMap&lt;Integer, String&gt; names = new LinkedHashMap&lt;&gt;();\nstatic Scanner sc = new Scanner(System.in);\nstatic int i = 1;\nstasic String name;\n\npublic static void main(String[] args) {\n    int b = 0;\n    while (b == 0) {\n        System.out.println(\"Input your name: \");\n        name = sc.nextLine;\n        names.put(i, name);\n        i += 1;\n        outName();\n    }\n}\n\npublic static void outName() {\n    System.out.println(\"Input name: \");\n    name = sc.nextLine();\n    if (names.containsValue(name)) {\n        //I do not know what should I do here?\n    }\n}\n</code></pre>\n"},{"tags":["java","string","android-studio","firebase-realtime-database","double"],"comments":[{"owner":{"account_id":2818342,"reputation":299906,"user_id":2422776,"display_name":"Mureinik"},"score":0,"creation_date":1666346969,"post_id":74152022,"comment_id":130920653,"body_markdown":"Can you share an example value of the string that causes this error?","body":"Can you share an example value of the string that causes this error?"},{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1666347014,"post_id":74152022,"comment_id":130920667,"body_markdown":"The error message clearly tells you that your code tries to convert the String &quot;latitude&quot; to a number, which will not work for obvious reasons. You need to debug why your String contains &quot;latitude&quot; instead of an actual number value.","body":"The error message clearly tells you that your code tries to convert the String &quot;latitude&quot; to a number, which will not work for obvious reasons. You need to debug why your String contains &quot;latitude&quot; instead of an actual number value."},{"owner":{"account_id":26035811,"reputation":17,"user_id":19741271,"display_name":"Timow"},"score":0,"creation_date":1666347071,"post_id":74152022,"comment_id":130920693,"body_markdown":"I edited the post and put the latitude and longitude respectively, displayed on a textview","body":"I edited the post and put the latitude and longitude respectively, displayed on a textview"},{"owner":{"account_id":4111718,"reputation":436,"user_id":3374342,"accept_rate":92,"display_name":"Azrael_404"},"score":0,"creation_date":1666347243,"post_id":74152022,"comment_id":130920739,"body_markdown":"You should logging what&#39;s your textViewLatt.getText() return, it might return an object more than a a real string","body":"You should logging what&#39;s your textViewLatt.getText() return, it might return an object more than a a real string"},{"owner":{"account_id":26035811,"reputation":17,"user_id":19741271,"display_name":"Timow"},"score":0,"creation_date":1666347309,"post_id":74152022,"comment_id":130920760,"body_markdown":"@OHGODSPIDERS so does my string value contains the word &quot;latitude&quot;? however it is shown on the textview as just number. but before I change the textview into the thos coordinates, the previous value of that textview was &quot;latitude&quot;. does that value still exist even after I changed it to coordinates?","body":"@OHGODSPIDERS so does my string value contains the word &quot;latitude&quot;? however it is shown on the textview as just number. but before I change the textview into the thos coordinates, the previous value of that textview was &quot;latitude&quot;. does that value still exist even after I changed it to coordinates?"}],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1666601810,"post_id":74152138,"comment_id":130967537,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/74152138/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":25559497,"reputation":3,"user_id":19342348,"display_name":"Afnan Khakwani"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666347352,"creation_date":1666347352,"answer_id":74152138,"question_id":74152022,"body_markdown":"Check your text views, you are somehow failed to set the Digits of Lat Long values in TextViews properly and they contains alphabets thats why you are unable to parse them into Double.","title":"Cant convert String to double","body":"<p>Check your text views, you are somehow failed to set the Digits of Lat Long values in TextViews properly and they contains alphabets thats why you are unable to parse them into Double.</p>\n"},{"tags":[],"owner":{"account_id":26035811,"reputation":17,"user_id":19741271,"display_name":"Timow"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666347776,"creation_date":1666347759,"answer_id":74152210,"question_id":74152022,"body_markdown":"Update: I found the problem, it seems like its getting the value even before I change the textview&#39;s value into numbers. thus it was trying to convert &quot;latitude&quot;(the previous value of the textview) to a double and instead of the coordinates. \r\n\r\nThank you for your suggestions guys!","title":"Cant convert String to double","body":"<p>Update: I found the problem, it seems like its getting the value even before I change the textview's value into numbers. thus it was trying to convert &quot;latitude&quot;(the previous value of the textview) to a double and instead of the coordinates.</p>\n<p>Thank you for your suggestions guys!</p>\n"}],"owner":{"account_id":26035811,"reputation":17,"user_id":19741271,"display_name":"Timow"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":148,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74152210,"answer_count":2,"score":0,"last_activity_date":1666347776,"creation_date":1666346850,"question_id":74152022,"body_markdown":"So I got the latitude and longitude and successfully saved it on firebase, and now I was able to retrieve it and paste their values on a TextView. \r\n\r\nI am planning to get the string value from the TextView and convert it to double and use that as a latitude and longitude to show a location on a map. I followed the format for converting string value to double value and it still wont work. \r\n\r\nThis is my code:\r\n\r\n @Override\r\n    public void onMapReady(GoogleMap googleMap) {\r\n        mMap = googleMap;\r\n\r\n        String latitude = textViewLatt.getText().toString();\r\n        String longitude = textViewLong.getText().toString();\r\n\r\n        //Double latitude = Double.valueOf(textViewLatt.getText().toString());\r\n        //Double longitude = Double.valueOf(textViewLong.getText().toString());\r\n\r\n        double latt = Double.parseDouble(latitude);\r\n        double longi= Double.parseDouble(longitude);\r\n\r\n        //double latt = Double.valueOf(latitude);\r\n        //double longi = Double.valueOf(longitude);\r\n\r\n        // Add a marker in Sydney and move the camera\r\n        LatLng sydney = new LatLng(latt, longi);\r\n        mMap.addMarker(new MarkerOptions()\r\n                .position(sydney)\r\n                .title(&quot;Marker&quot;));\r\n        mMap.moveCamera(CameraUpdateFactory.newLatLng(sydney));\r\n\r\n\r\nand these are the errors I got from debugging, I tried to search the problem and I couldnt find any solutions. Any help will be great.\r\n\r\n[enter image description here][1]\r\n\r\n\r\n[enter image description here][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PviBI.png\r\n  [2]: https://i.stack.imgur.com/eU9Ax.png","title":"Cant convert String to double","body":"<p>So I got the latitude and longitude and successfully saved it on firebase, and now I was able to retrieve it and paste their values on a TextView.</p>\n<p>I am planning to get the string value from the TextView and convert it to double and use that as a latitude and longitude to show a location on a map. I followed the format for converting string value to double value and it still wont work.</p>\n<p>This is my code:</p>\n<p>@Override\npublic void onMapReady(GoogleMap googleMap) {\nmMap = googleMap;</p>\n<pre><code>    String latitude = textViewLatt.getText().toString();\n    String longitude = textViewLong.getText().toString();\n\n    //Double latitude = Double.valueOf(textViewLatt.getText().toString());\n    //Double longitude = Double.valueOf(textViewLong.getText().toString());\n\n    double latt = Double.parseDouble(latitude);\n    double longi= Double.parseDouble(longitude);\n\n    //double latt = Double.valueOf(latitude);\n    //double longi = Double.valueOf(longitude);\n\n    // Add a marker in Sydney and move the camera\n    LatLng sydney = new LatLng(latt, longi);\n    mMap.addMarker(new MarkerOptions()\n            .position(sydney)\n            .title(&quot;Marker&quot;));\n    mMap.moveCamera(CameraUpdateFactory.newLatLng(sydney));\n</code></pre>\n<p>and these are the errors I got from debugging, I tried to search the problem and I couldnt find any solutions. Any help will be great.</p>\n<p><a href=\"https://i.stack.imgur.com/PviBI.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p><a href=\"https://i.stack.imgur.com/eU9Ax.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","junit","junit5"],"answers":[{"tags":[],"owner":{"account_id":24350641,"reputation":125,"user_id":18286518,"display_name":"Find Bugs"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1666330825,"creation_date":1666330825,"answer_id":74149196,"question_id":74149003,"body_markdown":"Usage 1:\r\n```\r\ntry{\r\n    Optional&lt;Recipe&gt; recipeOptional = Optional.empty(); \r\n    when(recipeRepository.findById(anyLong())).thenReturn(recipeOptional); \r\n    Recipe recipeReturned = recipeService.findById(1L);\r\n}catch(Exception e){\r\n    AssertThat(e, instanceOf(NotFoundException.class));\r\n}\r\n```\r\n\r\nUsage 2:\r\n\r\n```\r\nAssertions.assertThrow(NotFoundException.class, () -&gt; {\r\n    Optional&lt;Recipe&gt; recipeOptional = Optional.empty();\r\n    when(recipeRepository.findById(anyLong())).thenReturn(recipeOptional);\r\n    Recipe recipeReturned = recipeService.findById(1L);\r\n});\r\n```","title":"JUnit 5 Exception Testing Equivalent of Junit 4","body":"<p>Usage 1:</p>\n<pre><code>try{\n    Optional&lt;Recipe&gt; recipeOptional = Optional.empty(); \n    when(recipeRepository.findById(anyLong())).thenReturn(recipeOptional); \n    Recipe recipeReturned = recipeService.findById(1L);\n}catch(Exception e){\n    AssertThat(e, instanceOf(NotFoundException.class));\n}\n</code></pre>\n<p>Usage 2:</p>\n<pre><code>Assertions.assertThrow(NotFoundException.class, () -&gt; {\n    Optional&lt;Recipe&gt; recipeOptional = Optional.empty();\n    when(recipeRepository.findById(anyLong())).thenReturn(recipeOptional);\n    Recipe recipeReturned = recipeService.findById(1L);\n});\n</code></pre>\n"}],"owner":{"account_id":3188079,"reputation":1216,"user_id":2693135,"accept_rate":52,"display_name":"user2693135"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74149196,"answer_count":1,"score":0,"last_activity_date":1666347756,"creation_date":1666328840,"question_id":74149003,"body_markdown":"I have the following JUnit 4 test for exception:\r\n\r\n    @Test(expected = NotFoundException.class)\r\n    public void getRecipeByIdTestNotFound() throws Exception {\r\n\r\n        Optional&lt;Recipe&gt; recipeOptional = Optional.empty();\r\n\r\n        when(recipeRepository.findById(anyLong())).thenReturn(recipeOptional);\r\n\r\n        Recipe recipeReturned = recipeService.findById(1L);\r\n\r\n        //should go boom\r\n    }\r\nI want help on the most efficient approach to test the same in JUnit 5.","title":"JUnit 5 Exception Testing Equivalent of Junit 4","body":"<p>I have the following JUnit 4 test for exception:</p>\n<pre><code>@Test(expected = NotFoundException.class)\npublic void getRecipeByIdTestNotFound() throws Exception {\n\n    Optional&lt;Recipe&gt; recipeOptional = Optional.empty();\n\n    when(recipeRepository.findById(anyLong())).thenReturn(recipeOptional);\n\n    Recipe recipeReturned = recipeService.findById(1L);\n\n    //should go boom\n}\n</code></pre>\n<p>I want help on the most efficient approach to test the same in JUnit 5.</p>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":14583346,"reputation":898,"user_id":10533012,"display_name":"Elyorbek Ibrokhimov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666334132,"creation_date":1666334132,"answer_id":74149603,"question_id":74141815,"body_markdown":"I believe that&#39;s because of `name` in `(@RequestParam(name = &quot;order&quot;)`. Spring boot tries to bind a request parameter named `order` when you put `name` not the whole map. You should remove `name`to accept all parameters to a map.\r\n ```java\r\n    @GetMapping\r\n    public ResponseEntity&lt;String&gt; test(@RequestParam Map&lt;String, String&gt; order) {\r\n        log.info(&quot;order : &quot; + order);\r\n        return ResponseEntity.ok(&quot;Hello&quot;);\r\n    }\r\n","title":"Parsing query parameters that contains square brackets in spring boot as a map","body":"<p>I believe that's because of <code>name</code> in <code>(@RequestParam(name = &quot;order&quot;)</code>. Spring boot tries to bind a request parameter named <code>order</code> when you put <code>name</code> not the whole map. You should remove <code>name</code>to accept all parameters to a map.</p>\n<pre class=\"lang-java prettyprint-override\"><code>   @GetMapping\n   public ResponseEntity&lt;String&gt; test(@RequestParam Map&lt;String, String&gt; order) {\n       log.info(&quot;order : &quot; + order);\n       return ResponseEntity.ok(&quot;Hello&quot;);\n   }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666347695,"creation_date":1666347695,"answer_id":74152199,"question_id":74141815,"body_markdown":"The problem should not be the code you have but the `url` that you send that is broken in an earlier place\r\n\r\n    /app/api/incidents?customSearch=Some reason&amp;dt=month&amp;order[timeStart]=desc\r\n\r\nTry with\r\n\r\n    /app/api/incidents?customSearch=Some%20reason&amp;dt=month&amp;order[timeStart]=desc\r\n\r\nyou should normally encode empty spaces in query parameter values.","title":"Parsing query parameters that contains square brackets in spring boot as a map","body":"<p>The problem should not be the code you have but the <code>url</code> that you send that is broken in an earlier place</p>\n<pre><code>/app/api/incidents?customSearch=Some reason&amp;dt=month&amp;order[timeStart]=desc\n</code></pre>\n<p>Try with</p>\n<pre><code>/app/api/incidents?customSearch=Some%20reason&amp;dt=month&amp;order[timeStart]=desc\n</code></pre>\n<p>you should normally encode empty spaces in query parameter values.</p>\n"}],"owner":{"account_id":1617279,"reputation":149,"user_id":1494625,"display_name":"Biswajit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":913,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1666347695,"creation_date":1666277006,"question_id":74141815,"body_markdown":"I am currently working on rewriting the backend of a PHP Symfony application with Spring boot. I cannot touch the front-end code, and have to modify my backend to work in accordance with existing request structure.\r\nHowever, I am currently stuck with something that i need some help with\r\n\r\nsome examples of an endpoint looks as below\r\n\r\n```\r\n/app/api/incidents?customSearch=Some reason&amp;dt=month&amp;order[timeStart]=desc\r\n/app/api/incidents?customSearch=Some reason&amp;dt=month&amp;order[timeResolved]=desc\r\n```\r\n\r\nHow can I map these endpoints to my RestController as a Map ? as per latest tomcat configuration square brackets are not valid and hence unsupported, throwing a 400 error. Adding a configuration for tomcat to support these characters, resolves the issue. \r\nBut how can I map the above request params into an order hashmap ? \r\nThere are other parameters that needs to be mapped as well \r\ne.g. timeStart\r\n\r\n```\r\n/app/api/incidents?timeStart[after]=2022-10-11 00:00:00&amp;timeStart[before]=2022-10-13 23:59:59&amp;dt=range&amp;order[incidentSeverity.orderBy]=desc\r\n```\r\n\r\nbased on these values, the corresponding query needs to be formed. \r\n\r\n```\r\n    @GetMapping\r\n    public ResponseEntity&lt;String&gt; test(@RequestParam(name = &quot;order&quot;) Map&lt;String, String&gt; order) {\r\n        log.info(&quot;order : &quot; + order);\r\n        return ResponseEntity.ok(&quot;Hello&quot;);\r\n    }\r\n```\r\nBut order is mapped to null\r\n\r\nCan anyone please help me with this. I have already wasted way more time than I should have.\r\n","title":"Parsing query parameters that contains square brackets in spring boot as a map","body":"<p>I am currently working on rewriting the backend of a PHP Symfony application with Spring boot. I cannot touch the front-end code, and have to modify my backend to work in accordance with existing request structure.\nHowever, I am currently stuck with something that i need some help with</p>\n<p>some examples of an endpoint looks as below</p>\n<pre><code>/app/api/incidents?customSearch=Some reason&amp;dt=month&amp;order[timeStart]=desc\n/app/api/incidents?customSearch=Some reason&amp;dt=month&amp;order[timeResolved]=desc\n</code></pre>\n<p>How can I map these endpoints to my RestController as a Map ? as per latest tomcat configuration square brackets are not valid and hence unsupported, throwing a 400 error. Adding a configuration for tomcat to support these characters, resolves the issue.\nBut how can I map the above request params into an order hashmap ?\nThere are other parameters that needs to be mapped as well\ne.g. timeStart</p>\n<pre><code>/app/api/incidents?timeStart[after]=2022-10-11 00:00:00&amp;timeStart[before]=2022-10-13 23:59:59&amp;dt=range&amp;order[incidentSeverity.orderBy]=desc\n</code></pre>\n<p>based on these values, the corresponding query needs to be formed.</p>\n<pre><code>    @GetMapping\n    public ResponseEntity&lt;String&gt; test(@RequestParam(name = &quot;order&quot;) Map&lt;String, String&gt; order) {\n        log.info(&quot;order : &quot; + order);\n        return ResponseEntity.ok(&quot;Hello&quot;);\n    }\n</code></pre>\n<p>But order is mapped to null</p>\n<p>Can anyone please help me with this. I have already wasted way more time than I should have.</p>\n"},{"tags":["java","gradle"],"owner":{"account_id":21219550,"reputation":387,"user_id":15606459,"display_name":"iAmWhy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1666347637,"creation_date":1665638416,"question_id":74050798,"body_markdown":"I&#39;m trying to create an internal Java library with Gradle. For the SQL connection, we&#39;re using the jtds-1.3.1 package which is saved as a local jar in the libs folder.  \r\nI&#39;ve added the dependency of this package into the build.gradle file:\r\n```\r\ndependencies {\r\n    implementation files(&#39;libs/jtds-1.3.1.jar&#39;)\r\n}\r\n```\r\nI can now import the package without any problems. However, I need to access a class in the package using reflection, as shown below:\r\n\r\n```\r\npublic void connect() {\r\n    Class.forName(&quot;net.sourceforge.jtds.jdbc.Driver&quot;);\r\n      ...\r\n}\r\n```\r\nIf I now use the library in another Gradle project, it does not find the class. In order for the class to be found, I also have to copy the jtds-jar to the Libs folder in the executable Gradle project and adjust the build file.\r\n","title":"Reflection to external packages in Gradle library","body":"<p>I'm trying to create an internal Java library with Gradle. For the SQL connection, we're using the jtds-1.3.1 package which is saved as a local jar in the libs folder.<br />\nI've added the dependency of this package into the build.gradle file:</p>\n<pre><code>dependencies {\n    implementation files('libs/jtds-1.3.1.jar')\n}\n</code></pre>\n<p>I can now import the package without any problems. However, I need to access a class in the package using reflection, as shown below:</p>\n<pre><code>public void connect() {\n    Class.forName(&quot;net.sourceforge.jtds.jdbc.Driver&quot;);\n      ...\n}\n</code></pre>\n<p>If I now use the library in another Gradle project, it does not find the class. In order for the class to be found, I also have to copy the jtds-jar to the Libs folder in the executable Gradle project and adjust the build file.</p>\n"},{"tags":["java","android","kotlin","webview","android-webview"],"owner":{"account_id":26607579,"reputation":11,"user_id":20228175,"display_name":"SGE"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1666347603,"creation_date":1665640058,"question_id":74050982,"body_markdown":"The video calling feature was working perfectly with webview until almost 3 months ago. Recently it&#39;s not supporting camera and audio functionality, even browser and application have both of these permissions. I would like to know if it is because of any recent update with webview or Chromium or with anything else, as it was working properly before. \r\n\r\nBelow is the method used to load the URL:\r\n```\r\noverride fun onCreate(savedInstanceState: Bundle?) {\r\n\tsuper.onCreate(savedInstanceState)\r\n\tgetBindingModel().webView.settings.javaScriptEnabled = true\r\n\tgetBindingModel().webView.settings.mediaPlaybackRequiresUserGesture = false\r\n\tgetBindingModel().webView.webViewClient = object : WebViewClient() {\r\n\t\toverride fun shouldOverrideUrlLoading(view: WebView, url: String): Boolean {\r\n\t\t\tview.loadUrl(url)\r\n\t\t\treturn false\r\n\t\t}\r\n\t}\r\n\r\n\tgetBindingModel().webView.webChromeClient = object : WebChromeClient() {\r\n\t\toverride fun onProgressChanged(view: WebView?, newProgress: Int) {\r\n\t\t\tgetBindingModel().loadingText.text = &quot;$newProgress%&quot;\r\n\t\t\tgetBindingModel().loadingText.visibility =\r\n\t\t\t\tif (newProgress &gt; 99) View.GONE else View.VISIBLE\r\n\t\t\tgetBindingModel().progress.visibility =\r\n\t\t\t\tif (newProgress &gt; 99) View.GONE else View.VISIBLE\r\n\t\t}\r\n\r\n\t\toverride fun onPermissionRequest(request: PermissionRequest?) {\r\n\t\t\trunOnUiThread { request?.grant(request.resources) }\r\n\t\t}\r\n\t}\r\n}\r\n```","title":"Webview Camera, Audio permission issue","body":"<p>The video calling feature was working perfectly with webview until almost 3 months ago. Recently it's not supporting camera and audio functionality, even browser and application have both of these permissions. I would like to know if it is because of any recent update with webview or Chromium or with anything else, as it was working properly before.</p>\n<p>Below is the method used to load the URL:</p>\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    getBindingModel().webView.settings.javaScriptEnabled = true\n    getBindingModel().webView.settings.mediaPlaybackRequiresUserGesture = false\n    getBindingModel().webView.webViewClient = object : WebViewClient() {\n        override fun shouldOverrideUrlLoading(view: WebView, url: String): Boolean {\n            view.loadUrl(url)\n            return false\n        }\n    }\n\n    getBindingModel().webView.webChromeClient = object : WebChromeClient() {\n        override fun onProgressChanged(view: WebView?, newProgress: Int) {\n            getBindingModel().loadingText.text = &quot;$newProgress%&quot;\n            getBindingModel().loadingText.visibility =\n                if (newProgress &gt; 99) View.GONE else View.VISIBLE\n            getBindingModel().progress.visibility =\n                if (newProgress &gt; 99) View.GONE else View.VISIBLE\n        }\n\n        override fun onPermissionRequest(request: PermissionRequest?) {\n            runOnUiThread { request?.grant(request.resources) }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","reactive-programming","spring-webflux","mdc"],"owner":{"account_id":22074613,"reputation":57,"user_id":16340746,"display_name":"Anton"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":330,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1666347233,"creation_date":1659013458,"question_id":73153446,"body_markdown":"I have MDC context and it is using for logging. I`m starting reactive chain from Scheduler and generating context: \r\n```\r\nprivate void generateMDCcontext() {\r\n        UUID uuid = UUID.randomUUID();\r\n        MDC.put(&quot;requestid&quot;, uuid.toString());\r\n}\r\n```\r\nNext, I have WebClient for external http request and during request I lost my context.\r\nThis is initialization WebClient in constructor:\r\n```\r\nthis.webClient = WebClient.create().mutate()\r\n                .clientConnector(new JettyClientHttpConnector(httpClient))\r\n                .build();\r\n```\r\nAnd below I`m sending request:\r\n```\r\nlog.info(&quot;Before request&quot;);\r\nreturn webClient.post()\r\n                .uri(addr)\r\n                .acceptCharset(StandardCharsets.UTF_8)\r\n                .contentLength(BODY_LENGTH)\r\n                .retrieve()\r\n                .onStatus(HttpStatus::isError, response -&gt; Mono.error(...)//custom error\r\n                .bodyToMono(CustomResponse.class)\r\n                .timeout(timeuot)\r\n                .doOnError(e -&gt; log.error(&quot;Error during request &quot;);\r\n                )\r\n                .onErrorMap(e -&gt; {\r\n                return customExceptoin;\r\n                })\r\n                .doOnSuccess(resp -&gt; {\r\n                log.info(&quot;Success, response: {}&quot;, resp == null ? null : resp);\r\n                });\r\n    }\r\n```\r\nIf I have problem with external server, I`m waiting next result:\r\n```\r\n2022-07-28 15:01:20.128 requestid[7fa703d7-5d99-4502-b3cf-0e4737a2d7be] INFO Before request\r\n2022-07-28 15:01:20.228 requestid[7fa703d7-5d99-4502-b3cf-0e4737a2d7be] ERROR Error during request\r\n2022-07-28 15:01:20.328 requestid[7fa703d7-5d99-4502-b3cf-0e4737a2d7be] ERROR CustomExceptiomMsg\r\n```\r\nBut I`m getting logs with empty requestid inside webClient calling:\r\n```\r\n2022-07-28 15:01:20.128 requestid[7fa703d7-5d99-4502-b3cf-0e4737a2d7be] INFO Before request\r\n2022-07-28 15:01:20.228 requestid[] ERROR Error during request\r\n2022-07-28 15:01:20.328 requestid[] ERROR CustomExceptiomMsg\r\n```\r\nI can fix it through using MDC.getCopyOfContextMap() before webClient and MDC.setContextMap(copyOfContextMap) in each lambda but I`m looking for more right solution","title":"How to forward reactive context in to WebClient?","body":"<p>I have MDC context and it is using for logging. I`m starting reactive chain from Scheduler and generating context:</p>\n<pre><code>private void generateMDCcontext() {\n        UUID uuid = UUID.randomUUID();\n        MDC.put(&quot;requestid&quot;, uuid.toString());\n}\n</code></pre>\n<p>Next, I have WebClient for external http request and during request I lost my context.\nThis is initialization WebClient in constructor:</p>\n<pre><code>this.webClient = WebClient.create().mutate()\n                .clientConnector(new JettyClientHttpConnector(httpClient))\n                .build();\n</code></pre>\n<p>And below I`m sending request:</p>\n<pre><code>log.info(&quot;Before request&quot;);\nreturn webClient.post()\n                .uri(addr)\n                .acceptCharset(StandardCharsets.UTF_8)\n                .contentLength(BODY_LENGTH)\n                .retrieve()\n                .onStatus(HttpStatus::isError, response -&gt; Mono.error(...)//custom error\n                .bodyToMono(CustomResponse.class)\n                .timeout(timeuot)\n                .doOnError(e -&gt; log.error(&quot;Error during request &quot;);\n                )\n                .onErrorMap(e -&gt; {\n                return customExceptoin;\n                })\n                .doOnSuccess(resp -&gt; {\n                log.info(&quot;Success, response: {}&quot;, resp == null ? null : resp);\n                });\n    }\n</code></pre>\n<p>If I have problem with external server, I`m waiting next result:</p>\n<pre><code>2022-07-28 15:01:20.128 requestid[7fa703d7-5d99-4502-b3cf-0e4737a2d7be] INFO Before request\n2022-07-28 15:01:20.228 requestid[7fa703d7-5d99-4502-b3cf-0e4737a2d7be] ERROR Error during request\n2022-07-28 15:01:20.328 requestid[7fa703d7-5d99-4502-b3cf-0e4737a2d7be] ERROR CustomExceptiomMsg\n</code></pre>\n<p>But I`m getting logs with empty requestid inside webClient calling:</p>\n<pre><code>2022-07-28 15:01:20.128 requestid[7fa703d7-5d99-4502-b3cf-0e4737a2d7be] INFO Before request\n2022-07-28 15:01:20.228 requestid[] ERROR Error during request\n2022-07-28 15:01:20.328 requestid[] ERROR CustomExceptiomMsg\n</code></pre>\n<p>I can fix it through using MDC.getCopyOfContextMap() before webClient and MDC.setContextMap(copyOfContextMap) in each lambda but I`m looking for more right solution</p>\n"},{"tags":["java","spring","geoserver"],"comments":[{"owner":{"account_id":195980,"reputation":10228,"user_id":439194,"accept_rate":100,"display_name":"Ian Turton"},"score":0,"creation_date":1649939881,"post_id":71870334,"comment_id":127004627,"body_markdown":"which exact versions of GeoServer and JDK did you try? that extension will work with the **main** 2.21.x build (and probably no other) and it will only work with JDK 8 and 11 for sure. Plus it is a community module it may not work at all.","body":"which exact versions of GeoServer and JDK did you try? that extension will work with the <b>main</b> 2.21.x build (and probably no other) and it will only work with JDK 8 and 11 for sure. Plus it is a community module it may not work at all."},{"owner":{"account_id":6924918,"reputation":41,"user_id":5316261,"display_name":"kyle13311"},"score":0,"creation_date":1650374088,"post_id":71870334,"comment_id":127095728,"body_markdown":"I tried it with version 2.20.3, 2.20.4, 2.21 and the appropriate GSR extension versions. All with same results. I also tried both Java versions.\nI now got it running using Geoserver version 2.18.1 and openjdk 1.8.0_322 but would like to upgrade as soon as possible...","body":"I tried it with version 2.20.3, 2.20.4, 2.21 and the appropriate GSR extension versions. All with same results. I also tried both Java versions. I now got it running using Geoserver version 2.18.1 and openjdk 1.8.0_322 but would like to upgrade as soon as possible..."}],"answers":[{"comments":[{"owner":{"account_id":6767185,"reputation":17855,"user_id":5211833,"accept_rate":83,"display_name":"Adriaan"},"score":0,"creation_date":1666347628,"post_id":71870761,"comment_id":130920860,"body_markdown":"Please read [answer]. As it stands, this is very vague. What&#39;s wrong in that file, how can the OP resolve the error ..? Please [edit] the answer for clarity.","body":"Please read <a href=\"https://stackoverflow.com/questions/how-to-answer\">How to Answer</a>. As it stands, this is very vague. What&#39;s wrong in that file, how can the OP resolve the error ..? Please <a href=\"https://stackoverflow.com/posts/71870761/edit\">edit</a> the answer for clarity."}],"tags":[],"owner":{"account_id":13275834,"reputation":29,"user_id":9585226,"display_name":"Rahul Gupta"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649935033,"creation_date":1649935033,"answer_id":71870761,"question_id":71870334,"body_markdown":"I think you have did something wrong in ```applicationContext.xml``` file.","title":"How to solve java error on Geoserver GSR extension","body":"<p>I think you have did something wrong in <code>applicationContext.xml</code> file.</p>\n"},{"tags":[],"owner":{"account_id":13654575,"reputation":63,"user_id":9851488,"display_name":"ca5p3r"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650210439,"creation_date":1650210439,"answer_id":71903283,"question_id":71870334,"body_markdown":"Make sure you&#39;re installing the same plugin version for the same GeoServer version you&#39;re having.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/EkBVg.png","title":"How to solve java error on Geoserver GSR extension","body":"<p>Make sure you're installing the same plugin version for the same GeoServer version you're having.</p>\n<p><a href=\"https://i.stack.imgur.com/EkBVg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EkBVg.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":6924918,"reputation":41,"user_id":5316261,"display_name":"kyle13311"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":503,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1666346976,"creation_date":1649933059,"question_id":71870334,"body_markdown":"&lt;br&gt;\r\nI have set up a Geoserver instance. Now I need the GSR extension to have an ArcGIS compatible REST API.&lt;br&gt;\r\nI installed the extension as described but on Geoserver startup I get a couple of errors and when I access the webpage a HTTP error 503.&lt;br&gt;\r\nI already tried different versions of Geoserver and JDK, all with the same result.\r\nHere is the Java error:&lt;br&gt;\r\n\r\n&gt; 11:52:17.791 [main] ERROR\r\n&gt; org.springframework.web.context.ContextLoader - Context initialization\r\n&gt; failed org.springframework.beans.factory.BeanCreationException: Error\r\n&gt; creating bean with name &#39;gsrDispatcher&#39; defined in URL\r\n&gt; [jar:file:/home/nico/gs/webapps/geoserver/WEB-INF/lib/gs-gsr-2.21-SNAPSHOT.jar!/applicationContext.xml]:\r\n&gt; Initialization of bean failed; nested exception is\r\n&gt; javax.xml.stream.FactoryConfigurationError: Provider for\r\n&gt; javax.xml.stream.XMLOutputFactory cannot be found\r\n\r\nThanks for any hint,&lt;br&gt;\r\nbest regards&lt;br&gt;\r\nNico\r\n\r\n&lt;br&gt;\r\nI did some more research and tested the following versions each with both openjdk version (&quot;1.8.0_312&quot; &amp; &quot;11.0.14.1&quot;):&lt;br&gt;\r\n\r\ngeoserver-2.18-SNAPSHOT-gsr-plugin.zip&lt;br&gt;\r\nGeoserver version:&lt;br&gt;\r\n2.18.2-6&lt;br&gt;\r\nRunning without problems&lt;br&gt;\r\n\r\ngeoserver-2.19-SNAPSHOT-gsr-plugin.zip&lt;br&gt;\r\nGeoserver version:&lt;br&gt;\r\n2.19.0-5&lt;br&gt;\r\nProblem: Error creating bean with name &#39;geoServicesExceptionResolver&#39;&lt;br&gt;\r\n\r\ngeoserver-2.19-SNAPSHOT-gsr-plugin.zip&lt;br&gt;\r\nGeoserver version:&lt;br&gt;\r\n2.19.6&lt;br&gt;\r\nProblem: Error creating bean with name &#39;gsrDispatcher&#39;&lt;br&gt;\r\n\r\ngeoserver-2.20-SNAPSHOT-gsr-plugin.zip&lt;br&gt;\r\nGeoserver version:&lt;br&gt;\r\n2.20.0-4&lt;br&gt;\r\nProblem: Error creating bean with name &#39;gsrDispatcher&#39;&lt;br&gt;\r\n\r\ngeoserver-2.21-SNAPSHOT-gsr-plugin.zip&lt;br&gt;\r\nGeoserver version:&lt;br&gt;\r\n2.21&lt;br&gt;\r\nProblem: Error creating bean with name &#39;gsrDispatcher&#39;&lt;br&gt;\r\n\r\n\r\nSo it seems something happened between geoserver version 2.18.6 and 2.19.0 and something more happened between version 2.19.5 and 2.19.6.&lt;br&gt;\r\nIt would be helpful if someone could give me the contact of the community GSR extenstion. I can not find anything about it.&lt;br&gt;\r\nTo get my geoserver updated it would be great to have this fixed soon.&lt;br&gt;\r\nMany thanks in advance.","title":"How to solve java error on Geoserver GSR extension","body":"<br>\nI have set up a Geoserver instance. Now I need the GSR extension to have an ArcGIS compatible REST API.<br>\nI installed the extension as described but on Geoserver startup I get a couple of errors and when I access the webpage a HTTP error 503.<br>\nI already tried different versions of Geoserver and JDK, all with the same result.\nHere is the Java error:<br>\n<blockquote>\n<p>11:52:17.791 [main] ERROR\norg.springframework.web.context.ContextLoader - Context initialization\nfailed org.springframework.beans.factory.BeanCreationException: Error\ncreating bean with name 'gsrDispatcher' defined in URL\n[jar:file:/home/nico/gs/webapps/geoserver/WEB-INF/lib/gs-gsr-2.21-SNAPSHOT.jar!/applicationContext.xml]:\nInitialization of bean failed; nested exception is\njavax.xml.stream.FactoryConfigurationError: Provider for\njavax.xml.stream.XMLOutputFactory cannot be found</p>\n</blockquote>\n<p>Thanks for any hint,<br>\nbest regards<br>\nNico</p>\n<br>\nI did some more research and tested the following versions each with both openjdk version (\"1.8.0_312\" & \"11.0.14.1\"):<br>\n<p>geoserver-2.18-SNAPSHOT-gsr-plugin.zip<br>\nGeoserver version:<br>\n2.18.2-6<br>\nRunning without problems<br></p>\n<p>geoserver-2.19-SNAPSHOT-gsr-plugin.zip<br>\nGeoserver version:<br>\n2.19.0-5<br>\nProblem: Error creating bean with name 'geoServicesExceptionResolver'<br></p>\n<p>geoserver-2.19-SNAPSHOT-gsr-plugin.zip<br>\nGeoserver version:<br>\n2.19.6<br>\nProblem: Error creating bean with name 'gsrDispatcher'<br></p>\n<p>geoserver-2.20-SNAPSHOT-gsr-plugin.zip<br>\nGeoserver version:<br>\n2.20.0-4<br>\nProblem: Error creating bean with name 'gsrDispatcher'<br></p>\n<p>geoserver-2.21-SNAPSHOT-gsr-plugin.zip<br>\nGeoserver version:<br>\n2.21<br>\nProblem: Error creating bean with name 'gsrDispatcher'<br></p>\n<p>So it seems something happened between geoserver version 2.18.6 and 2.19.0 and something more happened between version 2.19.5 and 2.19.6.<br>\nIt would be helpful if someone could give me the contact of the community GSR extenstion. I can not find anything about it.<br>\nTo get my geoserver updated it would be great to have this fixed soon.<br>\nMany thanks in advance.</p>\n"},{"tags":["java","android","number-formatting"],"comments":[{"owner":{"account_id":9850021,"reputation":411,"user_id":7296372,"display_name":"mrkachariker"},"score":0,"creation_date":1666349219,"post_id":74151940,"comment_id":130921355,"body_markdown":"It must be that the value passed in the second case is not the one you think it is (i.e: 40000.08).","body":"It must be that the value passed in the second case is not the one you think it is (i.e: 40000.08)."},{"owner":{"account_id":13335325,"reputation":65,"user_id":9625377,"display_name":"Ivan Paul"},"score":0,"creation_date":1666545389,"post_id":74151940,"comment_id":130957555,"body_markdown":"I&#39;ve checked and followed it along with the debugger","body":"I&#39;ve checked and followed it along with the debugger"}],"owner":{"account_id":13335325,"reputation":65,"user_id":9625377,"display_name":"Ivan Paul"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666346360,"creation_date":1666346360,"question_id":74151940,"body_markdown":"I have a method using Java NumberFormat to format and return a string with commas for float inputs. \r\n\r\n    public static String takeFloatAddCommasPlain(float fNumber){\r\n        NumberFormat numberFormat = NumberFormat.getNumberInstance(Locale.US);\r\n        return numberFormat.format(fNumber);\r\n    }\r\nIt works fine except when the input is 40000.08. I have gone through the input and output at the points where I call this method in my debugger and my findings are as below;\r\n&gt; When the input is 30000.256\r\n[![When the input is 30000.256][1]][1]\r\n\r\n[![When the input is 30000.256][2]][2]\r\n\r\n&gt; When the input is 40000.08\r\n[![When the input is 40000.08][3]][3]\r\n\r\n[![When the input is 40000.08][4]][4]\r\n\r\nOne interesting bit was when I input the number directly in the Expression Evaluator, it returned it fine; \r\n[![enter image description here][5]][5]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zZp3L.png\r\n  [2]: https://i.stack.imgur.com/5BBPt.png\r\n  [3]: https://i.stack.imgur.com/4m5wW.png\r\n  [4]: https://i.stack.imgur.com/yZsgF.png\r\n  [5]: https://i.stack.imgur.com/MZjP4.png","title":"Java NumberFormat adds extra digit to output for particular number input","body":"<p>I have a method using Java NumberFormat to format and return a string with commas for float inputs.</p>\n<pre><code>public static String takeFloatAddCommasPlain(float fNumber){\n    NumberFormat numberFormat = NumberFormat.getNumberInstance(Locale.US);\n    return numberFormat.format(fNumber);\n}\n</code></pre>\n<p>It works fine except when the input is 40000.08. I have gone through the input and output at the points where I call this method in my debugger and my findings are as below;</p>\n<blockquote>\n<p>When the input is 30000.256\n<a href=\"https://i.stack.imgur.com/zZp3L.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zZp3L.png\" alt=\"When the input is 30000.256\" /></a></p>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/5BBPt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5BBPt.png\" alt=\"When the input is 30000.256\" /></a></p>\n<blockquote>\n<p>When the input is 40000.08\n<a href=\"https://i.stack.imgur.com/4m5wW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4m5wW.png\" alt=\"When the input is 40000.08\" /></a></p>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/yZsgF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yZsgF.png\" alt=\"When the input is 40000.08\" /></a></p>\n<p>One interesting bit was when I input the number directly in the Expression Evaluator, it returned it fine;\n<a href=\"https://i.stack.imgur.com/MZjP4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MZjP4.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2915811,"reputation":10602,"user_id":2499035,"accept_rate":100,"display_name":"resueman"},"score":2,"creation_date":1476736117,"post_id":40095082,"comment_id":67462994,"body_markdown":"You need to say `return contains(...)`, not just call the method. Right now you&#39;re discarding the results of the recursive call, and eventually getting to the `return false;` at the end of the method.","body":"You need to say <code>return contains(...)</code>, not just call the method. Right now you&#39;re discarding the results of the recursive call, and eventually getting to the <code>return false;</code> at the end of the method."},{"owner":{"account_id":8979626,"reputation":215,"user_id":6695257,"display_name":"Anon Ymous"},"score":0,"creation_date":1476736187,"post_id":40095082,"comment_id":67463018,"body_markdown":"Sure that&#39;s the reason... God I&#39;m feeling stupid. Thank you very much.","body":"Sure that&#39;s the reason... God I&#39;m feeling stupid. Thank you very much."}],"answers":[{"tags":[],"owner":{"account_id":8227804,"reputation":563,"user_id":6189538,"display_name":"Andrei-Marius Longhin"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1476746262,"creation_date":1476736302,"answer_id":40095145,"question_id":40095082,"body_markdown":"`return contains(...)` instead of just calling `contains(...)` for those recursive calls, so that you don&#39;t lose values when they are made","title":"Java - Including BST","body":"<p><code>return contains(...)</code> instead of just calling <code>contains(...)</code> for those recursive calls, so that you don't lose values when they are made</p>\n"},{"comments":[{"owner":{"account_id":1235278,"reputation":2660,"user_id":1198979,"accept_rate":82,"display_name":"SSP"},"score":0,"creation_date":1569150558,"post_id":58048419,"comment_id":102495848,"body_markdown":"Explain your answer","body":"Explain your answer"}],"tags":[],"owner":{"account_id":9526865,"reputation":1,"user_id":7079842,"display_name":"Poornima Tom"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1569149232,"creation_date":1569149232,"answer_id":58048419,"question_id":40095082,"body_markdown":"    public class BinarySearchTree {\r\n        public static boolean contains(Node root, int value) {\r\n           if(root.value==value)\r\n               return true;\r\n            else if(value&lt;root.value &amp;&amp; root.left!=null)\r\n                return contains(root.left,value);\r\n                else if(value&gt; root.value &amp;&amp; root.right!=null)\r\n                    return contains(root.right,value);\r\n                    else return false;\r\n        }","title":"Java - Including BST","body":"<pre><code>public class BinarySearchTree {\n    public static boolean contains(Node root, int value) {\n       if(root.value==value)\n           return true;\n        else if(value&lt;root.value &amp;&amp; root.left!=null)\n            return contains(root.left,value);\n            else if(value&gt; root.value &amp;&amp; root.right!=null)\n                return contains(root.right,value);\n                else return false;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20836366,"reputation":1,"user_id":15304160,"display_name":"xubo peng"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1614574234,"creation_date":1614569387,"answer_id":66416264,"question_id":40095082,"body_markdown":"I have written one c++ version. It seems that it is more clear to understand.\r\n\r\n    #include &lt;stdexcept&gt;\r\n    #include &lt;string&gt;\r\n    #include &lt;iostream&gt;\r\n    #include &lt;algorithm&gt;\r\n    \r\n    class Node\r\n    {\r\n    public:\r\n       Node(int value, Node* left, Node* right)\r\n       {\r\n          this-&gt;value = value;\r\n          this-&gt;left = left;\r\n          this-&gt;right = right;\r\n       }\r\n    \r\n       int getValue() const\r\n       {\r\n          return value;\r\n       }\r\n    \r\n       Node* getLeft() const\r\n       {\r\n          return left;\r\n       }\r\n    \r\n       Node* getRight() const\r\n       {\r\n          return right;\r\n       }\r\n    \r\n    private:\r\n       int value;\r\n       Node* left;\r\n       Node* right;\r\n    };\r\n    class BinarySearchTree\r\n    {\r\n    public:\r\n    \r\n       static bool isValidBST( Node&amp; root)\r\n       {\r\n    \r\n        if ((root.getLeft())&amp;&amp;(root.getValue()&lt;=(root.getLeft()-&gt;getValue())))\r\n            return false;\r\n        if ((root.getRight())&amp;&amp;(root.getValue()&gt;=(root.getRight()-&gt;getValue())))\r\n        {\r\n            return false;\r\n        }\r\n        if (root.getRight())\r\n        {\r\n            if(!isValidBST(*(root.getRight()))) return false;\r\n        }\r\n        if(root.getLeft())\r\n        {\r\n            if(!isValidBST(*(root.getLeft()))) return false;\r\n        }\r\n    \r\n        return true;\r\n    \r\n        }\r\n    };\r\n    \r\n    \r\n    #ifndef RunTests\r\n    int main(int argc, const char* argv[])\r\n    {\r\n        Node n7(7, NULL, NULL);\r\n        Node n10(11, NULL, NULL);\r\n        Node n2(2, NULL, NULL);\r\n        Node n5(5, NULL, NULL);\r\n        Node n4(4, &amp;n2, &amp;n5);\r\n        Node n9(9, &amp;n7, &amp;n10);\r\n        Node n6(6, &amp;n4, &amp;n9);\r\n        \r\n        std::cout &lt;&lt; BinarySearchTree::isValidBST(n6);\r\n    \r\n        return 0;\r\n    }\r\n    #endif","title":"Java - Including BST","body":"<p>I have written one c++ version. It seems that it is more clear to understand.</p>\n<pre><code>#include &lt;stdexcept&gt;\n#include &lt;string&gt;\n#include &lt;iostream&gt;\n#include &lt;algorithm&gt;\n\nclass Node\n{\npublic:\n   Node(int value, Node* left, Node* right)\n   {\n      this-&gt;value = value;\n      this-&gt;left = left;\n      this-&gt;right = right;\n   }\n\n   int getValue() const\n   {\n      return value;\n   }\n\n   Node* getLeft() const\n   {\n      return left;\n   }\n\n   Node* getRight() const\n   {\n      return right;\n   }\n\nprivate:\n   int value;\n   Node* left;\n   Node* right;\n};\nclass BinarySearchTree\n{\npublic:\n\n   static bool isValidBST( Node&amp; root)\n   {\n\n    if ((root.getLeft())&amp;&amp;(root.getValue()&lt;=(root.getLeft()-&gt;getValue())))\n        return false;\n    if ((root.getRight())&amp;&amp;(root.getValue()&gt;=(root.getRight()-&gt;getValue())))\n    {\n        return false;\n    }\n    if (root.getRight())\n    {\n        if(!isValidBST(*(root.getRight()))) return false;\n    }\n    if(root.getLeft())\n    {\n        if(!isValidBST(*(root.getLeft()))) return false;\n    }\n\n    return true;\n\n    }\n};\n\n\n#ifndef RunTests\nint main(int argc, const char* argv[])\n{\n    Node n7(7, NULL, NULL);\n    Node n10(11, NULL, NULL);\n    Node n2(2, NULL, NULL);\n    Node n5(5, NULL, NULL);\n    Node n4(4, &amp;n2, &amp;n5);\n    Node n9(9, &amp;n7, &amp;n10);\n    Node n6(6, &amp;n4, &amp;n9);\n    \n    std::cout &lt;&lt; BinarySearchTree::isValidBST(n6);\n\n    return 0;\n}\n#endif\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1666730237,"post_id":74151845,"comment_id":131004754,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/74151845/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":6778563,"reputation":1,"user_id":5219671,"display_name":"biplob"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666345853,"creation_date":1666345853,"answer_id":74151845,"question_id":40095082,"body_markdown":"```\r\nusing System;\r\n\r\npublic class Node\r\n{\r\n    public int Value { get; set; }\r\n\r\n    public Node Left { get; set; }\r\n\r\n    public Node Right { get; set; }\r\n\r\n    public Node(int value, Node left, Node right)\r\n    {\r\n        Value = value;\r\n        Left = left;\r\n        Right = right;\r\n    }\r\n}\r\n\r\npublic class BinarySearchTree\r\n{\r\n    public static bool Contains(Node root, int value)\r\n    {\r\n          if(root.Value == value){\r\n            return true;\r\n          }        \r\n          else if(value &lt; root.Value &amp;&amp; root.Left !=null ){\r\n           return Contains(root.Left,value);          \r\n          }\r\n          else if(value &gt; root.Value &amp;&amp; root.Right !=null){\r\n            return Contains(root.Right,value);            \r\n          }\r\n          else{\r\n            return false;\r\n          }\r\n    }\r\n\r\n    public static void Main(string[] args)\r\n    {\r\n        Node n1 = new Node(1, null, null);\r\n        Node n3 = new Node(3, null, null);\r\n        Node n2 = new Node(2, n1, n3);\r\n\r\n        Console.WriteLine(Contains(n2, 3));\r\n    }\r\n}\r\n```","title":"Java - Including BST","body":"<pre><code>using System;\n\npublic class Node\n{\n    public int Value { get; set; }\n\n    public Node Left { get; set; }\n\n    public Node Right { get; set; }\n\n    public Node(int value, Node left, Node right)\n    {\n        Value = value;\n        Left = left;\n        Right = right;\n    }\n}\n\npublic class BinarySearchTree\n{\n    public static bool Contains(Node root, int value)\n    {\n          if(root.Value == value){\n            return true;\n          }        \n          else if(value &lt; root.Value &amp;&amp; root.Left !=null ){\n           return Contains(root.Left,value);          \n          }\n          else if(value &gt; root.Value &amp;&amp; root.Right !=null){\n            return Contains(root.Right,value);            \n          }\n          else{\n            return false;\n          }\n    }\n\n    public static void Main(string[] args)\n    {\n        Node n1 = new Node(1, null, null);\n        Node n3 = new Node(3, null, null);\n        Node n2 = new Node(2, n1, n3);\n\n        Console.WriteLine(Contains(n2, 3));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":8979626,"reputation":215,"user_id":6695257,"display_name":"Anon Ymous"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3011,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":40095145,"answer_count":4,"score":1,"last_activity_date":1666345853,"creation_date":1476735956,"question_id":40095082,"body_markdown":"I have this BST problem I&#39;m trying to solve in java, but I don&#39;t know why it&#39;s not working.\r\nHere&#39;s the problem:\r\n\r\n - Binary search tree (BST) is a binary tree where the value of each\r\n   node is larger or equal to the values in all the nodes in that node&#39;s\r\n   left subtree and is smaller than the values in all the nodes in that\r\n   node&#39;s right subtree.\r\n   \r\n   Write a function that checks if a given binary search tree contains a\r\n   given value.\r\n   \r\n   For example, for the following tree:\r\n   \r\n   n1 (Value: 1, Left: null, Right: null) n2 (Value: 2, Left: n1, Right:\r\n   n3) n3 (Value: 3, Left: null, Right: null) Call to contains(n2, 3)\r\n   should return true since a tree with root at n2 contains number 3.\r\n\r\nThis is how I am trying to solve it:\r\n\r\n        class Node {\r\n        public int value;\r\n        public Node left, right;\r\n    \r\n        public Node(int value, Node left, Node right) {\r\n            this.value = value;\r\n            this.left = left;\r\n            this.right = right;\r\n        }\r\n    }\r\n    \r\n    public class BinarySearchTree {\r\n        public static boolean contains(Node root, int value) {\r\n    \t   if(root.value == value)\r\n    \t\t   return true;\r\n    \t\r\n    \t   else if(value &lt; root.value){\r\n    \t\t   if(root.left == null)\r\n    \t\t\t   return false;\r\n    \t\t   contains(root.left, value);\r\n    \t   }\r\n    \t   else if(value &gt; root.value){\r\n    \t\t   if(root.right == null)\r\n    \t\t\t   return false;\r\n    \t\t   contains(root.right, value);\r\n    \t   }\r\n    \t   \r\n            return false;\r\n        }\r\n       \r\n        \r\n        public static void main(String[] args) {\r\n            Node n1 = new Node(1, null, null);\r\n            Node n3 = new Node(3, null, null);\r\n            Node n2 = new Node(2, n1, n3);\r\n            \r\n            System.out.println(contains(n2, 3));\r\n        }\r\n    }\r\n\r\nThis should return true, but it doesn&#39;t... Thank you in advance.","title":"Java - Including BST","body":"<p>I have this BST problem I'm trying to solve in java, but I don't know why it's not working.\nHere's the problem:</p>\n\n<ul>\n<li><p>Binary search tree (BST) is a binary tree where the value of each\nnode is larger or equal to the values in all the nodes in that node's\nleft subtree and is smaller than the values in all the nodes in that\nnode's right subtree.</p>\n\n<p>Write a function that checks if a given binary search tree contains a\ngiven value.</p>\n\n<p>For example, for the following tree:</p>\n\n<p>n1 (Value: 1, Left: null, Right: null) n2 (Value: 2, Left: n1, Right:\nn3) n3 (Value: 3, Left: null, Right: null) Call to contains(n2, 3)\nshould return true since a tree with root at n2 contains number 3.</p></li>\n</ul>\n\n<p>This is how I am trying to solve it:</p>\n\n<pre><code>    class Node {\n    public int value;\n    public Node left, right;\n\n    public Node(int value, Node left, Node right) {\n        this.value = value;\n        this.left = left;\n        this.right = right;\n    }\n}\n\npublic class BinarySearchTree {\n    public static boolean contains(Node root, int value) {\n       if(root.value == value)\n           return true;\n\n       else if(value &lt; root.value){\n           if(root.left == null)\n               return false;\n           contains(root.left, value);\n       }\n       else if(value &gt; root.value){\n           if(root.right == null)\n               return false;\n           contains(root.right, value);\n       }\n\n        return false;\n    }\n\n\n    public static void main(String[] args) {\n        Node n1 = new Node(1, null, null);\n        Node n3 = new Node(3, null, null);\n        Node n2 = new Node(2, n1, n3);\n\n        System.out.println(contains(n2, 3));\n    }\n}\n</code></pre>\n\n<p>This should return true, but it doesn't... Thank you in advance.</p>\n"},{"tags":["java","spring-boot","wso2","wso2-identity-server","scim2"],"answers":[{"tags":[],"owner":{"account_id":20549773,"reputation":411,"user_id":15082730,"display_name":"Sominda Gamage"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666344262,"creation_date":1666344262,"answer_id":74151530,"question_id":74151334,"body_markdown":"The values that you have mentioned are for the token call right? In that case these does not need to be in the header of the request. You should have them as the request body.\r\n\r\nOnce you get the token from the `oauth2/token` you can use it to invoke the SCIM APIs. Following is a sample API call to invoke user creation with a bearer token.\r\n```\r\ncurl -L -X POST &#39;https://localhost:9443/scim2/Users&#39; -H &#39;Content-Type: application/json&#39; -H &#39;Authorization: Bearer 15b93905-68b2-3377-b77b-9bd1968d7ff9&#39; --data-raw &#39;{\r\n    &quot;schemas&quot;: [],\r\n    &quot;userName&quot;: &quot;somindaRest&quot;,\r\n    &quot;password&quot;: &quot;somindaRest&quot;\r\n}\r\n```","title":"Spring and WSO2 Identity Server - SCIM2.0 API for User CRUD","body":"<p>The values that you have mentioned are for the token call right? In that case these does not need to be in the header of the request. You should have them as the request body.</p>\n<p>Once you get the token from the <code>oauth2/token</code> you can use it to invoke the SCIM APIs. Following is a sample API call to invoke user creation with a bearer token.</p>\n<pre><code>curl -L -X POST 'https://localhost:9443/scim2/Users' -H 'Content-Type: application/json' -H 'Authorization: Bearer 15b93905-68b2-3377-b77b-9bd1968d7ff9' --data-raw '{\n    &quot;schemas&quot;: [],\n    &quot;userName&quot;: &quot;somindaRest&quot;,\n    &quot;password&quot;: &quot;somindaRest&quot;\n}\n</code></pre>\n"}],"owner":{"account_id":20104489,"reputation":35,"user_id":14742326,"display_name":"ffff"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":222,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666344262,"creation_date":1666343328,"question_id":74151334,"body_markdown":"I&#39;m implementing an application with Spring Boot. From the application some users will have the permission to create, update, delete other users. To do so I&#39;m using WSO2 Idenity server SCIM 2.0 APIs. \r\n\r\nWhen I try with postman to call for example this api: POST localhost:9443/t/carbon.super/scim2/Users\r\n\r\nto create a new user and i pass all the required information:\r\n1. Access token, generated with the command: \r\n\r\n    curl -L -X POST &#39;localhost:9443/t/carbon.super/oauth2/token&#39; -H &#39;Authorization: Basic &lt;clientid:clientsecret&gt;&#39; -H &#39;Content-Type: application/x-www-form-urlencoded&#39; --data-urlencode &#39;grant_type=password&#39; --data-urlencode &#39;username=manager&#39; --data-urlencode &#39;password=manager&#39; --data-urlencode &#39;scope=internal_user_mgt_create&#39;\r\n\r\n2. clientid\r\n3. clientsecret\r\n4. scope (internal_user_mgt_create)\r\n\r\nit works, but now I have to implement it in java.\r\n\r\nSo I created a UserController and I implemented this:\r\n\r\n    @PostMapping(&quot;https://localhost:9443/t/carbon.super/scim2/Users&quot;)\r\n    public ResponseEntity&lt;Void&gt; createUser(@RequestBody CreateUserRequest createUserRequest) {\r\n        HttpHeaders headers = new HttpHeaders();\r\n        \r\n        String plainCreds = clientId:clientSecret;\r\n        byte[] plainCredsBytes = plainCreds.getBytes();\r\n        byte[] base64CredsBytes = Base64.encodeBase64(plainCredsBytes);\r\n        String base64Creds = new String(base64CredsBytes);\r\n\r\n        headers.add(&quot;Authorization&quot;, &quot;Basic &quot; + base64Creds);\r\n        headers.add(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;);\r\n        return ...;\r\n    }\r\n\r\nhow do I specify in the header these other things:\r\n\r\n    --data-urlencode &#39;grant_type=password&#39; \r\n    --data-urlencode &#39;username=manager&#39; \r\n    --data-urlencode &#39;password=manager&#39; \r\n    --data-urlencode &#39;scope=internal_user_mgt_create&#39;","title":"Spring and WSO2 Identity Server - SCIM2.0 API for User CRUD","body":"<p>I'm implementing an application with Spring Boot. From the application some users will have the permission to create, update, delete other users. To do so I'm using WSO2 Idenity server SCIM 2.0 APIs.</p>\n<p>When I try with postman to call for example this api: POST localhost:9443/t/carbon.super/scim2/Users</p>\n<p>to create a new user and i pass all the required information:</p>\n<ol>\n<li><p>Access token, generated with the command:</p>\n<p>curl -L -X POST 'localhost:9443/t/carbon.super/oauth2/token' -H 'Authorization: Basic clientid:clientsecret' -H 'Content-Type: application/x-www-form-urlencoded' --data-urlencode 'grant_type=password' --data-urlencode 'username=manager' --data-urlencode 'password=manager' --data-urlencode 'scope=internal_user_mgt_create'</p>\n</li>\n<li><p>clientid</p>\n</li>\n<li><p>clientsecret</p>\n</li>\n<li><p>scope (internal_user_mgt_create)</p>\n</li>\n</ol>\n<p>it works, but now I have to implement it in java.</p>\n<p>So I created a UserController and I implemented this:</p>\n<pre><code>@PostMapping(&quot;https://localhost:9443/t/carbon.super/scim2/Users&quot;)\npublic ResponseEntity&lt;Void&gt; createUser(@RequestBody CreateUserRequest createUserRequest) {\n    HttpHeaders headers = new HttpHeaders();\n    \n    String plainCreds = clientId:clientSecret;\n    byte[] plainCredsBytes = plainCreds.getBytes();\n    byte[] base64CredsBytes = Base64.encodeBase64(plainCredsBytes);\n    String base64Creds = new String(base64CredsBytes);\n\n    headers.add(&quot;Authorization&quot;, &quot;Basic &quot; + base64Creds);\n    headers.add(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;);\n    return ...;\n}\n</code></pre>\n<p>how do I specify in the header these other things:</p>\n<pre><code>--data-urlencode 'grant_type=password' \n--data-urlencode 'username=manager' \n--data-urlencode 'password=manager' \n--data-urlencode 'scope=internal_user_mgt_create'\n</code></pre>\n"},{"tags":["java","android","permissions"],"comments":[{"owner":{"account_id":9074424,"reputation":2576,"user_id":6756514,"display_name":"Divyesh Patel"},"score":3,"creation_date":1492598692,"post_id":43493446,"comment_id":74041213,"body_markdown":"change this == to !=  after this, Manifest.permission.READ_CONTACTS)","body":"change this == to !=  after this, Manifest.permission.READ_CONTACTS)"},{"owner":{"account_id":6336146,"reputation":43,"user_id":4919479,"accept_rate":60,"display_name":"Hawkeye Roe"},"score":0,"creation_date":1492598761,"post_id":43493446,"comment_id":74041271,"body_markdown":"I really can&#39;t believe I was this blind. Thank you.","body":"I really can&#39;t believe I was this blind. Thank you."}],"answers":[{"tags":[],"owner":{"account_id":2305894,"reputation":3340,"user_id":2025187,"display_name":"Komal12"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1492598761,"creation_date":1492598761,"answer_id":43493494,"question_id":43493446,"body_markdown":"Try this,\r\n\t\t\r\n\tprivate Context mContext=YourActivity.this;\r\n\t\r\n\tprivate static final int REQUEST = 112;\r\n\r\n\tif (Build.VERSION.SDK_INT &gt;= 23) {\r\n\t\tString[] PERMISSIONS = {android.Manifest.permission.READ_CONTACTS};\r\n\t\tif (!hasPermissions(mContext, PERMISSIONS)) {\r\n\t\t\tActivityCompat.requestPermissions((Activity) mContext, PERMISSIONS, REQUEST );\r\n\t\t} else {\r\n\t\t    readContacts();\r\n\t\t}\r\n\t} else {\r\n\t\treadContacts();\r\n\t}\r\n\r\nget Permissions Result\r\n\r\n\t@Override\r\n\tpublic void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n\t\tsuper.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n\t\tswitch (requestCode) {\r\n\t\t\tcase REQUEST: {\r\n\t\t\t\tif (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n\t\t\t\t\t\treadContacts();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tToast.makeText(mContext, &quot;The app was not allowed to read your contact&quot;, Toast.LENGTH_LONG).show();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\t\r\n\t\t\r\ncheck permissions  for marshmallow\r\n\r\n\tprivate static boolean hasPermissions(Context context, String... permissions) {\r\n\t\tif (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M &amp;&amp; context != null &amp;&amp; permissions != null) {\r\n\t\t\tfor (String permission : permissions) {\r\n\t\t\t\tif (ActivityCompat.checkSelfPermission(context, permission) != PackageManager.PERMISSION_GRANTED) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n\t\t\r\nManifest\t\t\t\r\n\t\t\t\r\n\t&lt;uses-permission android:name=&quot;android.permission.READ_CONTACTS&quot; /&gt;\r\n\t","title":"Android contacts permission granted without asking at runtime","body":"<p>Try this,</p>\n\n<pre><code>private Context mContext=YourActivity.this;\n\nprivate static final int REQUEST = 112;\n\nif (Build.VERSION.SDK_INT &gt;= 23) {\n    String[] PERMISSIONS = {android.Manifest.permission.READ_CONTACTS};\n    if (!hasPermissions(mContext, PERMISSIONS)) {\n        ActivityCompat.requestPermissions((Activity) mContext, PERMISSIONS, REQUEST );\n    } else {\n        readContacts();\n    }\n} else {\n    readContacts();\n}\n</code></pre>\n\n<p>get Permissions Result</p>\n\n<pre><code>@Override\npublic void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n    super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n    switch (requestCode) {\n        case REQUEST: {\n            if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n                    readContacts();\n            } else {\n                Toast.makeText(mContext, \"The app was not allowed to read your contact\", Toast.LENGTH_LONG).show();\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>check permissions  for marshmallow</p>\n\n<pre><code>private static boolean hasPermissions(Context context, String... permissions) {\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M &amp;&amp; context != null &amp;&amp; permissions != null) {\n        for (String permission : permissions) {\n            if (ActivityCompat.checkSelfPermission(context, permission) != PackageManager.PERMISSION_GRANTED) {\n                return false;\n            }\n        }\n    }\n    return true;\n}\n</code></pre>\n\n<p>Manifest            </p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.READ_CONTACTS\" /&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6336146,"reputation":43,"user_id":4919479,"accept_rate":60,"display_name":"Hawkeye Roe"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1492598976,"creation_date":1492598976,"answer_id":43493574,"question_id":43493446,"body_markdown":"As Divyesh Patel pointed out, I had the boolean statemetns mixed up, it should be\r\n    \r\n    ContextCompat.checkSelfPermission(this, Manifest.permission.READ_CONTACTS) != PackageManager.PERMISSION_GRANTED)\r\n\r\nRather than\r\n\r\n    ContextCompat.checkSelfPermission(this, Manifest.permission.READ_CONTACTS) == PackageManager.PERMISSION_GRANTED)","title":"Android contacts permission granted without asking at runtime","body":"<p>As Divyesh Patel pointed out, I had the boolean statemetns mixed up, it should be</p>\n\n<pre><code>ContextCompat.checkSelfPermission(this, Manifest.permission.READ_CONTACTS) != PackageManager.PERMISSION_GRANTED)\n</code></pre>\n\n<p>Rather than</p>\n\n<pre><code>ContextCompat.checkSelfPermission(this, Manifest.permission.READ_CONTACTS) == PackageManager.PERMISSION_GRANTED)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10508663,"reputation":129,"user_id":7745070,"display_name":"Apurv Mahesh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1492599086,"creation_date":1492599086,"answer_id":43493622,"question_id":43493446,"body_markdown":"Important thing for you to note here that these permissions are asked only for devices with version&gt;23 and if you have lower version of android then for only some models like redmi you have to invoke the permissions manually .\r\n\r\nOtherwise version&lt;23 generally do not ask for permissions.\r\nIf you put in manifest. It will automatically take it, specially when you are installing app over usb.\r\n\r\n","title":"Android contacts permission granted without asking at runtime","body":"<p>Important thing for you to note here that these permissions are asked only for devices with version>23 and if you have lower version of android then for only some models like redmi you have to invoke the permissions manually .</p>\n\n<p>Otherwise version&lt;23 generally do not ask for permissions.\nIf you put in manifest. It will automatically take it, specially when you are installing app over usb.</p>\n"},{"comments":[{"owner":{"account_id":6336146,"reputation":43,"user_id":4919479,"accept_rate":60,"display_name":"Hawkeye Roe"},"score":0,"creation_date":1492629711,"post_id":43494191,"comment_id":74063176,"body_markdown":"Hi Rajesh. I&#39;ve already specified the required permissions in the manifest for OS versions 23 and below, but I&#39;m testing on APIs 24 and 25 for runtime permissions, and they weren&#39;t coming up. As it turns out, I just had my boolean statement wrong.","body":"Hi Rajesh. I&#39;ve already specified the required permissions in the manifest for OS versions 23 and below, but I&#39;m testing on APIs 24 and 25 for runtime permissions, and they weren&#39;t coming up. As it turns out, I just had my boolean statement wrong."}],"tags":[],"owner":{"account_id":10708687,"reputation":1148,"user_id":7881546,"display_name":"Rajesh Peram"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1492600571,"creation_date":1492600571,"answer_id":43494191,"question_id":43493446,"body_markdown":"If any device has OS version below &lt;23 or In app manifist file maxtarget version is below &lt;23 then it will not ask permission in runtime because while the app installing on these devices you actually giving permission to all you mentioned.\r\n\r\nSo the runtime permissions are possible only in the case of device has OS version above 22(Lolipop).\r\n\r\nHope this helpful..\r\n\r\n@Rajesh","title":"Android contacts permission granted without asking at runtime","body":"<p>If any device has OS version below &lt;23 or In app manifist file maxtarget version is below &lt;23 then it will not ask permission in runtime because while the app installing on these devices you actually giving permission to all you mentioned.</p>\n\n<p>So the runtime permissions are possible only in the case of device has OS version above 22(Lolipop).</p>\n\n<p>Hope this helpful..</p>\n\n<p>@Rajesh</p>\n"},{"tags":[],"owner":{"account_id":9280154,"reputation":57862,"user_id":6891563,"accept_rate":75,"display_name":"Khemraj Sharma"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1531244000,"creation_date":1531244000,"answer_id":51271171,"question_id":43493446,"body_markdown":"I use [**RxPermission**][3] for permissions to make my code ultimately short.\r\n\r\nFirst add these permissions (or one you need) in your `manifest.xml`.\r\n\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_CONTACTS&quot; /&gt;\r\n\r\nThen ask run time permission from user in your activity.\r\n\r\n    RxPermissions rxPermissions = new RxPermissions(this);\r\n    rxPermissions\r\n    .request(Manifest.permission.READ_CONTACTS) // ask single or multiple permission once\r\n    .subscribe(granted -&gt; {\r\n        if (granted) {\r\n           // All requested permissions are granted\r\n        } else {\r\n           // At least one permission is denied\r\n        }\r\n    });\r\n\r\nadd this library in your `build.gradle`\r\n\r\n    allprojects {\r\n        repositories {\r\n            ...\r\n            maven { url &#39;https://jitpack.io&#39; }\r\n        }\r\n    }\r\n    \r\n    dependencies {\r\n        implementation &#39;com.github.tbruyelle:rxpermissions:0.10.1&#39;\r\n        implementation &#39;com.jakewharton.rxbinding2:rxbinding:2.1.1&#39;\r\n    }\r\n\r\n**Isn&#39;t this easy?**\r\n\r\n  [1]: https://developer.android.com/guide/topics/permissions/overview\r\n  [2]: https://developer.android.com/training/permissions/requesting\r\n  [3]: https://github.com/tbruyelle/RxPermissions\r\n\r\n","title":"Android contacts permission granted without asking at runtime","body":"<p>I use <a href=\"https://github.com/tbruyelle/RxPermissions\" rel=\"nofollow noreferrer\"><strong>RxPermission</strong></a> for permissions to make my code ultimately short.</p>\n\n<p>First add these permissions (or one you need) in your <code>manifest.xml</code>.</p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.READ_CONTACTS\" /&gt;\n</code></pre>\n\n<p>Then ask run time permission from user in your activity.</p>\n\n<pre><code>RxPermissions rxPermissions = new RxPermissions(this);\nrxPermissions\n.request(Manifest.permission.READ_CONTACTS) // ask single or multiple permission once\n.subscribe(granted -&gt; {\n    if (granted) {\n       // All requested permissions are granted\n    } else {\n       // At least one permission is denied\n    }\n});\n</code></pre>\n\n<p>add this library in your <code>build.gradle</code></p>\n\n<pre><code>allprojects {\n    repositories {\n        ...\n        maven { url 'https://jitpack.io' }\n    }\n}\n\ndependencies {\n    implementation 'com.github.tbruyelle:rxpermissions:0.10.1'\n    implementation 'com.jakewharton.rxbinding2:rxbinding:2.1.1'\n}\n</code></pre>\n\n<p><strong>Isn't this easy?</strong></p>\n"}],"owner":{"account_id":6336146,"reputation":43,"user_id":4919479,"accept_rate":60,"display_name":"Hawkeye Roe"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7192,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":43493574,"answer_count":5,"score":0,"last_activity_date":1666343254,"creation_date":1492598631,"question_id":43493446,"body_markdown":"I&#39;m trying to request the ability to read contacts in an app, and have followed several tutorials. All of these use nearly the same code for this process. Below is the code in my MainActivity.java file, that should request permission.\r\n\r\n    private void checkContactPermissions()\r\n        {\r\n            if(ContextCompat.checkSelfPermission(this, Manifest.permission.READ_CONTACTS) == PackageManager.PERMISSION_GRANTED) {\r\n                Log.i(TAG, &quot;Contacts permission NOT granted&quot;);\r\n                ActivityCompat.requestPermissions(MainActivity.this,\r\n                        new String[]{Manifest.permission.READ_CONTACTS}, MY_PERMISSIONS_REQUEST_READ_CONTACTS);\r\n            }\r\n            else\r\n            {\r\n                Log.i(TAG, &quot;Contacts permission granted&quot;);\r\n                readContacts();\r\n            }\r\n        }\r\n\r\nMy manifest.xml also includes the line:\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_CONTACTS&quot; /&gt;\r\n\r\nWhen the app is run, either on emulator or physical debugging device, it does not ask for permission, however the log states that the permission was granted. I have confirmed the permission is off by going to the settings and checking it was turned off. What else would be causing the app to perform as if permissions were granted.","title":"Android contacts permission granted without asking at runtime","body":"<p>I'm trying to request the ability to read contacts in an app, and have followed several tutorials. All of these use nearly the same code for this process. Below is the code in my MainActivity.java file, that should request permission.</p>\n\n<pre><code>private void checkContactPermissions()\n    {\n        if(ContextCompat.checkSelfPermission(this, Manifest.permission.READ_CONTACTS) == PackageManager.PERMISSION_GRANTED) {\n            Log.i(TAG, \"Contacts permission NOT granted\");\n            ActivityCompat.requestPermissions(MainActivity.this,\n                    new String[]{Manifest.permission.READ_CONTACTS}, MY_PERMISSIONS_REQUEST_READ_CONTACTS);\n        }\n        else\n        {\n            Log.i(TAG, \"Contacts permission granted\");\n            readContacts();\n        }\n    }\n</code></pre>\n\n<p>My manifest.xml also includes the line:</p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.READ_CONTACTS\" /&gt;\n</code></pre>\n\n<p>When the app is run, either on emulator or physical debugging device, it does not ask for permission, however the log states that the permission was granted. I have confirmed the permission is off by going to the settings and checking it was turned off. What else would be causing the app to perform as if permissions were granted.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":2,"creation_date":1665723201,"post_id":74063892,"comment_id":130769420,"body_markdown":"You are converting the audio bytes in your byte array to a string and even with a char encoding. That is impossible. Not the way to go. You can never get the original bytes back. Please remove all your code as its irrelevant. Then come back with a byte array and ask how to save a byte array to shared preferences.","body":"You are converting the audio bytes in your byte array to a string and even with a char encoding. That is impossible. Not the way to go. You can never get the original bytes back. Please remove all your code as its irrelevant. Then come back with a byte array and ask how to save a byte array to shared preferences."},{"owner":{"account_id":26617220,"reputation":1,"user_id":20236431,"display_name":"CodeBlack"},"score":0,"creation_date":1665735489,"post_id":74063892,"comment_id":130772166,"body_markdown":"@blackapps how can i save buffer correctly and retrieve","body":"@blackapps how can i save buffer correctly and retrieve"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1665752418,"post_id":74063892,"comment_id":130777383,"body_markdown":"Encode the bytes in your byte array base64. Then you will get a nice string that you can save in shared preferences.","body":"Encode the bytes in your byte array base64. Then you will get a nice string that you can save in shared preferences."},{"owner":{"account_id":26617220,"reputation":1,"user_id":20236431,"display_name":"CodeBlack"},"score":0,"creation_date":1665757725,"post_id":74063892,"comment_id":130779565,"body_markdown":"@blackapps same result distorted sound i am updating my question","body":"@blackapps same result distorted sound i am updating my question"},{"owner":{"account_id":1547313,"reputation":82164,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1665758059,"post_id":74063892,"comment_id":130779713,"body_markdown":"&quot;i tried this Encode the bytes in your byte array base64&quot; You show the code where you decode the bytes, but not where you encode them.","body":"&quot;i tried this Encode the bytes in your byte array base64&quot; You show the code where you decode the bytes, but not where you encode them."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1665768490,"post_id":74063892,"comment_id":130783124,"body_markdown":"Yes, please show with encoding.","body":"Yes, please show with encoding."},{"owner":{"account_id":26617220,"reputation":1,"user_id":20236431,"display_name":"CodeBlack"},"score":0,"creation_date":1666322155,"post_id":74063892,"comment_id":130914556,"body_markdown":"@blackapps sorry for the delay family troubles . i updated the code please check","body":"@blackapps sorry for the delay family troubles . i updated the code please check"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1666333976,"post_id":74063892,"comment_id":130916458,"body_markdown":"You are not saving string `saveThis` to shared preverences. And `dataName` is not `au_ + index`.","body":"You are not saving string <code>saveThis</code> to shared preverences. And <code>dataName</code> is not <code>au_ + index</code>."},{"owner":{"account_id":26617220,"reputation":1,"user_id":20236431,"display_name":"CodeBlack"},"score":0,"creation_date":1666343374,"post_id":74063892,"comment_id":130919454,"body_markdown":"@blackapps that was a mistake final code i updated still distorted","body":"@blackapps that was a mistake final code i updated still distorted"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1666357654,"post_id":74063892,"comment_id":130924241,"body_markdown":"`minBufSize = recorder.read(buffer, 0, buffer.length);` Why are you calling that variable minBufSize? As read() returns the number of bytes read. It could be less than the buffer size. In the following statement you encode the whole buffer but that is no good if the buffer is not filled. `int nread = recorder.read(buffer, 0, buffer.length);String saveThis = Base64.encodeToString(buffer, 0, nread,  Base64.DEFAULT);`","body":"<code>minBufSize = recorder.read(buffer, 0, buffer.length);</code> Why are you calling that variable minBufSize? As read() returns the number of bytes read. It could be less than the buffer size. In the following statement you encode the whole buffer but that is no good if the buffer is not filled. <code>int nread = recorder.read(buffer, 0, buffer.length);String saveThis = Base64.encodeToString(buffer, 0, nread,  Base64.DEFAULT);</code>"}],"owner":{"account_id":26617220,"reputation":1,"user_id":20236431,"display_name":"CodeBlack"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666343219,"creation_date":1665716691,"question_id":74063892,"body_markdown":"i like to save microphone data to shared preference as a byte[] . i found this below method in stack but its not working  distorted sound like minions \r\n\r\nsaving to shared pref\r\n\r\n                    int  index = 0;\r\n                while(index != 1000) {\r\n                    index++;\r\n\r\n                    //reading data from MIC into buffer\r\n                    minBufSize = recorder.read(buffer, 0, buffer.length);\r\n\r\n                    // Store Buffer to shared pref\r\n                    String saveThis = Base64.encodeToString(buffer, Base64.DEFAULT);\r\n\r\n\r\n                    SharedPreferences.Editor editor = getSharedPreferences(PREF_NAME, MODE_PRIVATE).edit();\r\n                    editor.putString(&quot;data_&quot; + index, saveThis);\r\n                    editor.apply();\r\n\r\n                    // mark realtime database\r\n                    System.out.println(&quot;MinBufferSize: &quot; + minBufSize);\r\n\r\n\r\n                }\r\n\r\nreading back\r\n\r\n                    int  index = 0;\r\n                while(index != 1000) {\r\n                    index++;\r\n\r\n                    // get dat from firebase Storage\r\n                    String dataName = &quot;data_&quot;+ index;\r\n\r\n                    SharedPreferences prefs = getSharedPreferences(PREF_NAME, MODE_PRIVATE);\r\n                    String data = prefs.getString(dataName , null);//&quot;No name defined&quot; is the default value.\r\n                    bufferPlay = Base64.decode(data, Base64.DEFAULT);\r\n\r\n                    speaker.write(bufferPlay, 0, 1280);\r\n                    // set buffer\r\n                    Log.d(&quot;T&quot;, String.valueOf(index));\r\n\r\n\r\n                }\r\n\r\n","title":"how to write and read byte array to shared preference","body":"<p>i like to save microphone data to shared preference as a byte[] . i found this below method in stack but its not working  distorted sound like minions</p>\n<p>saving to shared pref</p>\n<pre><code>                int  index = 0;\n            while(index != 1000) {\n                index++;\n\n                //reading data from MIC into buffer\n                minBufSize = recorder.read(buffer, 0, buffer.length);\n\n                // Store Buffer to shared pref\n                String saveThis = Base64.encodeToString(buffer, Base64.DEFAULT);\n\n\n                SharedPreferences.Editor editor = getSharedPreferences(PREF_NAME, MODE_PRIVATE).edit();\n                editor.putString(&quot;data_&quot; + index, saveThis);\n                editor.apply();\n\n                // mark realtime database\n                System.out.println(&quot;MinBufferSize: &quot; + minBufSize);\n\n\n            }\n</code></pre>\n<p>reading back</p>\n<pre><code>                int  index = 0;\n            while(index != 1000) {\n                index++;\n\n                // get dat from firebase Storage\n                String dataName = &quot;data_&quot;+ index;\n\n                SharedPreferences prefs = getSharedPreferences(PREF_NAME, MODE_PRIVATE);\n                String data = prefs.getString(dataName , null);//&quot;No name defined&quot; is the default value.\n                bufferPlay = Base64.decode(data, Base64.DEFAULT);\n\n                speaker.write(bufferPlay, 0, 1280);\n                // set buffer\n                Log.d(&quot;T&quot;, String.valueOf(index));\n\n\n            }\n</code></pre>\n"},{"tags":["java","sql","postgresql","spring-boot","jdbctemplate"],"comments":[{"owner":{"display_name":"user330315"},"score":0,"creation_date":1666342058,"post_id":74150915,"comment_id":130919021,"body_markdown":"Maybe a missing `commit`?","body":"Maybe a missing <code>commit</code>?"}],"answers":[{"tags":[],"owner":{"account_id":25242737,"reputation":13,"user_id":19076403,"display_name":"Justin Xu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666342702,"creation_date":1666342702,"answer_id":74151208,"question_id":74150915,"body_markdown":"As mention by @a_horse_with_no_name at the comment, I&#39;m missing commit at the SQL file.\r\n\r\n`init_schema.sql`\r\n```\r\nBEGIN TRANSACTION;\r\n\r\nCREATE SCHEMA IF NOT EXISTS &quot;account_controller_integration_test&quot;;\r\nCREATE SCHEMA IF NOT EXISTS &quot;account_controller_using_hikari_integration_test&quot;;\r\nCREATE SCHEMA IF NOT EXISTS &quot;account_controller_using_memcached_integration_test&quot;;\r\nCREATE SCHEMA IF NOT EXISTS &quot;gojek_helper_controller_integration_test&quot;;\r\nCREATE SCHEMA IF NOT EXISTS &quot;integration_failure_controller_integration_test&quot;;\r\n\r\nCOMMIT TRANSACTION;\r\n```","title":"Creating Postgres Schema on Runtime in Spring Boot","body":"<p>As mention by @a_horse_with_no_name at the comment, I'm missing commit at the SQL file.</p>\n<p><code>init_schema.sql</code></p>\n<pre><code>BEGIN TRANSACTION;\n\nCREATE SCHEMA IF NOT EXISTS &quot;account_controller_integration_test&quot;;\nCREATE SCHEMA IF NOT EXISTS &quot;account_controller_using_hikari_integration_test&quot;;\nCREATE SCHEMA IF NOT EXISTS &quot;account_controller_using_memcached_integration_test&quot;;\nCREATE SCHEMA IF NOT EXISTS &quot;gojek_helper_controller_integration_test&quot;;\nCREATE SCHEMA IF NOT EXISTS &quot;integration_failure_controller_integration_test&quot;;\n\nCOMMIT TRANSACTION;\n</code></pre>\n"}],"owner":{"account_id":25242737,"reputation":13,"user_id":19076403,"display_name":"Justin Xu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":174,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74151208,"answer_count":1,"score":0,"last_activity_date":1666342702,"creation_date":1666341246,"question_id":74150915,"body_markdown":"I&#39;m trying to create a database schema. But it seems like the code did nothing.\r\n\r\n```java\r\n  public void myfunc() {\r\n    executeSqlFile(getSqlFilePath(&quot;init_schema.sql&quot;));\r\n  }\r\n  protected void executeSqlFile(String sqlFileName) {\r\n    Resource resource = new ClassPathResource(sqlFileName);\r\n    ResourceDatabasePopulator databasePopulator = new ResourceDatabasePopulator(resource);\r\n    databasePopulator.execute(jdbcTemplate.getDataSource());\r\n  }\r\n```\r\n\r\n`init_schema.sql`\r\n```\r\nCREATE SCHEMA IF NOT EXISTS &quot;account_controller_integration_test&quot;;\r\nCREATE SCHEMA IF NOT EXISTS &quot;account_controller_using_hikari_integration_test&quot;;\r\nCREATE SCHEMA IF NOT EXISTS &quot;account_controller_using_memcached_integration_test&quot;;\r\nCREATE SCHEMA IF NOT EXISTS &quot;gojek_helper_controller_integration_test&quot;;\r\nCREATE SCHEMA IF NOT EXISTS &quot;integration_failure_controller_integration_test&quot;;\r\n```\r\n\r\n`log`\r\n```\r\n[] ... INFO  o.s.j.datasource.init.ScriptUtils - Executing SQL script from class path resource [sql/init_schema.sql] \r\n[] ... INFO  o.s.j.datasource.init.ScriptUtils - Executed SQL script from class path resource [sql/init_schema.sql] in 8 ms.\r\n```\r\n\r\nAfter the code ran, I run the following commands on console.\r\n```\r\nselect schema_name\r\nfrom information_schema.schemata;\r\n```\r\n`output`\r\n```\r\nschema_name\r\n-----------\r\npg_toast\r\npg_catalog\r\npublic\r\ninformation_schema\r\n```\r\n","title":"Creating Postgres Schema on Runtime in Spring Boot","body":"<p>I'm trying to create a database schema. But it seems like the code did nothing.</p>\n<pre class=\"lang-java prettyprint-override\"><code>  public void myfunc() {\n    executeSqlFile(getSqlFilePath(&quot;init_schema.sql&quot;));\n  }\n  protected void executeSqlFile(String sqlFileName) {\n    Resource resource = new ClassPathResource(sqlFileName);\n    ResourceDatabasePopulator databasePopulator = new ResourceDatabasePopulator(resource);\n    databasePopulator.execute(jdbcTemplate.getDataSource());\n  }\n</code></pre>\n<p><code>init_schema.sql</code></p>\n<pre><code>CREATE SCHEMA IF NOT EXISTS &quot;account_controller_integration_test&quot;;\nCREATE SCHEMA IF NOT EXISTS &quot;account_controller_using_hikari_integration_test&quot;;\nCREATE SCHEMA IF NOT EXISTS &quot;account_controller_using_memcached_integration_test&quot;;\nCREATE SCHEMA IF NOT EXISTS &quot;gojek_helper_controller_integration_test&quot;;\nCREATE SCHEMA IF NOT EXISTS &quot;integration_failure_controller_integration_test&quot;;\n</code></pre>\n<p><code>log</code></p>\n<pre><code>[] ... INFO  o.s.j.datasource.init.ScriptUtils - Executing SQL script from class path resource [sql/init_schema.sql] \n[] ... INFO  o.s.j.datasource.init.ScriptUtils - Executed SQL script from class path resource [sql/init_schema.sql] in 8 ms.\n</code></pre>\n<p>After the code ran, I run the following commands on console.</p>\n<pre><code>select schema_name\nfrom information_schema.schemata;\n</code></pre>\n<p><code>output</code></p>\n<pre><code>schema_name\n-----------\npg_toast\npg_catalog\npublic\ninformation_schema\n</code></pre>\n"},{"tags":["java","elasticsearch"],"comments":[{"owner":{"account_id":4277851,"reputation":51792,"user_id":3498062,"display_name":"Andrei Stefan"},"score":0,"creation_date":1469643223,"post_id":38615227,"comment_id":64626423,"body_markdown":"This looks weird and impossible... what ES version and what was the query that returned that?","body":"This looks weird and impossible... what ES version and what was the query that returned that?"},{"owner":{"account_id":233111,"reputation":3483,"user_id":498391,"accept_rate":89,"display_name":"ndtreviv"},"score":0,"creation_date":1469696252,"post_id":38615227,"comment_id":64646926,"body_markdown":"@AndreiStefan I know, right?! I&#39;ve updated the question with the requested details.","body":"@AndreiStefan I know, right?! I&#39;ve updated the question with the requested details."},{"owner":{"account_id":476240,"reputation":2441,"user_id":887040,"accept_rate":79,"display_name":"geneqew"},"score":0,"creation_date":1469700204,"post_id":38615227,"comment_id":64649730,"body_markdown":"could you register a bulk processor listener and log the beforeBulk and afterBulk info?","body":"could you register a bulk processor listener and log the beforeBulk and afterBulk info?"},{"owner":{"account_id":233111,"reputation":3483,"user_id":498391,"accept_rate":89,"display_name":"ndtreviv"},"score":0,"creation_date":1469701662,"post_id":38615227,"comment_id":64650759,"body_markdown":"@geneqew I&#39;m not sure how to register the listener doing it the way I&#39;m doing it...? Which raises the question - am I doing the bulk request in the best way?","body":"@geneqew I&#39;m not sure how to register the listener doing it the way I&#39;m doing it...? Which raises the question - am I doing the bulk request in the best way?"},{"owner":{"account_id":233111,"reputation":3483,"user_id":498391,"accept_rate":89,"display_name":"ndtreviv"},"score":0,"creation_date":1469701853,"post_id":38615227,"comment_id":64650900,"body_markdown":"Actually, hang fire. I&#39;ll make some changes.","body":"Actually, hang fire. I&#39;ll make some changes."},{"owner":{"account_id":476240,"reputation":2441,"user_id":887040,"accept_rate":79,"display_name":"geneqew"},"score":0,"creation_date":1469703074,"post_id":38615227,"comment_id":64651715,"body_markdown":"You may use this as a reference (i&#39;m using spring factory bean), here is my [bulkProcessor](https://gist.github.com/geneqew/9c023d41f330a9e742ccef10c1b58eb5) , with the [listener](https://gist.github.com/geneqew/ce1679a4937c4e388b3da440ea1f5a12). Then to use it similar to your code... from there could you check the logs?","body":"You may use this as a reference (i&#39;m using spring factory bean), here is my <a href=\"https://gist.github.com/geneqew/9c023d41f330a9e742ccef10c1b58eb5\" rel=\"nofollow noreferrer\">bulkProcessor</a> , with the <a href=\"https://gist.github.com/geneqew/ce1679a4937c4e388b3da440ea1f5a12\" rel=\"nofollow noreferrer\">listener</a>. Then to use it similar to your code... from there could you check the logs?"},{"owner":{"account_id":233111,"reputation":3483,"user_id":498391,"accept_rate":89,"display_name":"ndtreviv"},"score":0,"creation_date":1469716270,"post_id":38615227,"comment_id":64661782,"body_markdown":"@geneqew Any ideas?","body":"@geneqew Any ideas?"},{"owner":{"account_id":1164039,"reputation":6835,"user_id":1143013,"accept_rate":77,"display_name":"raam86"},"score":0,"creation_date":1469783221,"post_id":38615227,"comment_id":64690966,"body_markdown":"Can you take these two documents and try and index them in a new cluster? If you index twice and get 2 documents it looks like ES bug, if you index the 2 documents and receive one there is a problem with your cluster setup. Seems like the documents are on different shards, it may be because you tried manual routing.","body":"Can you take these two documents and try and index them in a new cluster? If you index twice and get 2 documents it looks like ES bug, if you index the 2 documents and receive one there is a problem with your cluster setup. Seems like the documents are on different shards, it may be because you tried manual routing."},{"owner":{"account_id":233111,"reputation":3483,"user_id":498391,"accept_rate":89,"display_name":"ndtreviv"},"score":0,"creation_date":1469785209,"post_id":38615227,"comment_id":64692225,"body_markdown":"Again, there is no manual routing...wait... garr!","body":"Again, there is no manual routing...wait... garr!"}],"answers":[{"tags":[],"owner":{"account_id":233111,"reputation":3483,"user_id":498391,"accept_rate":89,"display_name":"ndtreviv"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1469785491,"creation_date":1469785491,"answer_id":38655589,"question_id":38615227,"body_markdown":"**Executive Summary**:&lt;br /&gt;\r\nI am an idiot.\r\n\r\n**Details**:&lt;br /&gt;\r\nI started today by learning [how elasticsearch routes documents to shards][1]. \r\n\r\nIt turns out that it uses the following forumula:\r\n```\r\nshard = hash(routing) % number_of_primary_shards\r\n```\r\n\r\nBy default, `routing` is the `_id` of the document, unless you override that when indexing.\r\n\r\nEveryone was mentioning that I was doing routing, but I was adamant that I was not. ***And that was the problem!!!***\r\n\r\nI had restored a snapshot of data. The data in the index I was attempting to upgrade was originally written by a program called [stormcrawler][2].\r\n\r\nstormcrawler **does** use routing to index these documents, but because I wasn&#39;t using routing to re-index them, it was creating apparent duplicates on different shards.\r\n\r\nOnce again, elasticsearch rules and I suck.\r\n\r\nSorry for everyone whose time I wasted on this. I&#39;m now going to lie down in a dark room and cry.\r\n\r\n\r\n  [1]: https://www.elastic.co/guide/en/elasticsearch/guide/current/routing-value.html\r\n  [2]: https://github.com/DigitalPebble/storm-crawler/","title":"elasticsearch allows duplicate ID with different body data","body":"<p><strong>Executive Summary</strong>:<br />\nI am an idiot.</p>\n\n<p><strong>Details</strong>:<br />\nI started today by learning <a href=\"https://www.elastic.co/guide/en/elasticsearch/guide/current/routing-value.html\" rel=\"noreferrer\">how elasticsearch routes documents to shards</a>. </p>\n\n<p>It turns out that it uses the following forumula:\n<code>\nshard = hash(routing) % number_of_primary_shards\n</code></p>\n\n<p>By default, <code>routing</code> is the <code>_id</code> of the document, unless you override that when indexing.</p>\n\n<p>Everyone was mentioning that I was doing routing, but I was adamant that I was not. <strong><em>And that was the problem!!!</em></strong></p>\n\n<p>I had restored a snapshot of data. The data in the index I was attempting to upgrade was originally written by a program called <a href=\"https://github.com/DigitalPebble/storm-crawler/\" rel=\"noreferrer\">stormcrawler</a>.</p>\n\n<p>stormcrawler <strong>does</strong> use routing to index these documents, but because I wasn't using routing to re-index them, it was creating apparent duplicates on different shards.</p>\n\n<p>Once again, elasticsearch rules and I suck.</p>\n\n<p>Sorry for everyone whose time I wasted on this. I'm now going to lie down in a dark room and cry.</p>\n"},{"tags":[],"owner":{"account_id":11069686,"reputation":19,"user_id":8128278,"display_name":"Tareq Saif"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666342326,"creation_date":1666342008,"answer_id":74151076,"question_id":38615227,"body_markdown":"For the next person that ends up here. I ran into this issue when inheriting an elasticsearch-1.2.1 instance. Copying the /var/lib/elasticsearch files is not enough. To fix the issue where multiple records have the same ID I did the following\r\n\r\n - Export all of the records using elasticdump\r\n\r\n    elasticdump --input=&#39;http://localhost:9200/your-index&#39; --output=your-index.json\r\n\r\n - Delete all records in the index (it&#39;s important not to delete the index itself because you don&#39;t want to rebuild the metadata)\r\n\r\n    curl -XDELETE localhost:9200/your_index/_query?q=&#39;*&#39;\r\n\r\n - Import all of the records using elasticdump\r\n\r\n    elasticdump --input=./your-index.json --output=http://localhost:9200/your-index\r\n\r\nThis removed duplicates for me and resolved the sharding issue\r\n\r\nAdditionally you can identify if its a sharding issue by adding a preference parameter to your search and restricting it to particular shards.","title":"elasticsearch allows duplicate ID with different body data","body":"<p>For the next person that ends up here. I ran into this issue when inheriting an elasticsearch-1.2.1 instance. Copying the /var/lib/elasticsearch files is not enough. To fix the issue where multiple records have the same ID I did the following</p>\n<ul>\n<li><p>Export all of the records using elasticdump</p>\n<p>elasticdump --input='http://localhost:9200/your-index' --output=your-index.json</p>\n</li>\n<li><p>Delete all records in the index (it's important not to delete the index itself because you don't want to rebuild the metadata)</p>\n<p>curl -XDELETE localhost:9200/your_index/_query?q='*'</p>\n</li>\n<li><p>Import all of the records using elasticdump</p>\n<p>elasticdump --input=./your-index.json --output=http://localhost:9200/your-index</p>\n</li>\n</ul>\n<p>This removed duplicates for me and resolved the sharding issue</p>\n<p>Additionally you can identify if its a sharding issue by adding a preference parameter to your search and restricting it to particular shards.</p>\n"}],"owner":{"account_id":233111,"reputation":3483,"user_id":498391,"accept_rate":89,"display_name":"ndtreviv"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3875,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":38655589,"answer_count":2,"score":2,"last_activity_date":1666342326,"creation_date":1469628217,"question_id":38615227,"body_markdown":"I&#39;m currently attempting to migrate our elasticsearch data to being 2.0 compatible (ie: no dots in field names) in preparation for an upgrade form 1.x to 2.x.\r\n\r\nI&#39;ve written a program that runs through the data (in batches) that sits in a one-node cluster, and renames the fields, re-indexing the documents using the Bulk API.\r\n\r\nAt some point it all goes wrong, and the total number of documents coming back from my query (to be &quot;ugpraded&quot;) doesn&#39;t change, even though it should be counting down.\r\n\r\nInitially I thought that it wasn&#39;t working. When I pick a document and query for it to see if it&#39;s changing, I can see that it is working.\r\n\r\nHowever, when I query documents for a specific field within that document I get two results with the same ID. One of the results has the upgraded field, the other one does not.\r\n\r\nOn further inspection I can see that they come from different shards:\r\n\r\n    {\r\n      &quot;took&quot; : 2,\r\n      &quot;timed_out&quot; : false,\r\n      &quot;_shards&quot; : {\r\n        &quot;total&quot; : 5,\r\n        &quot;successful&quot; : 5,\r\n        &quot;failed&quot; : 0\r\n      },\r\n      &quot;hits&quot; : {\r\n        &quot;total&quot; : 2,\r\n        &quot;max_score&quot; : 19.059433,\r\n        &quot;hits&quot; : [ {\r\n          &quot;_shard&quot; : 0,\r\n          &quot;_node&quot; : &quot;FxbpjCyQRzKfA9QvBbSsmA&quot;,\r\n          &quot;_index&quot; : &quot;status&quot;,\r\n          &quot;_type&quot; : &quot;status&quot;,\r\n          &quot;_id&quot; : &quot;http://static.photosite.com/80018335.jpg&quot;,\r\n          &quot;_version&quot; : 2,\r\n          &quot;_score&quot; : 19.059433,\r\n          &quot;_source&quot;:{&quot;url&quot;:&quot;http://static.photosite.com/80018335.jpg&quot;,&quot;metadata&quot;:{&quot;url.path&quot;:[&quot;http://www.photosite.com/80018335&quot;],&quot;source&quot;:[&quot;http://www.photosite.com/80018335&quot;],&quot;longitude&quot;:[&quot;104.507755&quot;],&quot;latitude&quot;:[&quot;21.601669&quot;]}},\r\n          ...\r\n        }, {\r\n          &quot;_shard&quot; : 3,\r\n          &quot;_node&quot; : &quot;FxbpjCyQRzKfA9QvBbSsmA&quot;,\r\n          &quot;_index&quot; : &quot;status&quot;,\r\n          &quot;_type&quot; : &quot;status&quot;,\r\n          &quot;_id&quot; : &quot;http://static.photosite.com/80018335.jpg&quot;,\r\n          &quot;_version&quot; : 27,\r\n          &quot;_score&quot; : 17.607681,\r\n          &quot;_source&quot;:{&quot;url&quot;:&quot;http://static.photosite.com/80018335.jpg&quot;,&quot;metadata&quot;:{&quot;url_path&quot;:[&quot;http://www.photosite.com/80018335&quot;],&quot;source&quot;:[&quot;http://www.photosite.com/80018335&quot;],&quot;longitude&quot;:[&quot;104.507755&quot;],&quot;latitude&quot;:[&quot;21.601669&quot;]}},\r\n          ...      \r\n      }\r\n    }\r\n\r\nHow can I prevent this from happening?\r\n\r\n**elasticsearch version:** 1.7.3\r\n\r\n**query:**\r\n\r\n    {\r\n      &quot;bool&quot; : {\r\n        &quot;must&quot; : {\r\n          &quot;wildcard&quot; : {\r\n            &quot;metadata.url.path&quot; : &quot;*&quot;\r\n          }\r\n        },\r\n        &quot;must_not&quot; : {\r\n          &quot;wildcard&quot; : {\r\n            &quot;metadata.url_path&quot; : &quot;*&quot;\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\nCode to write the document:\r\n\r\n            BulkRequestBuilder bulkRequest = destinationConnection.getClient().prepareBulk();\r\n            for(Map&lt;String, Object&gt; doc : batch.getDocs()){\r\n                XContentBuilder builder;\r\n                try {\r\n                    builder = XContentFactory.jsonBuilder().startObject();\r\n                    for(Map.Entry&lt;String, Object&gt; mapEntry : doc.entrySet()){\r\n                        if(!mapEntry.getKey().equals(&quot;id&quot;)){\r\n                            builder.field(mapEntry.getKey(), mapEntry.getValue());\r\n                        }\r\n                    }\r\n                    builder.endObject();\r\n                } catch (IOException e) {\r\n                    throw new DocumentBuilderException(&quot;Error building request to move items to new parent!&quot;, e);\r\n                }\r\n    \r\n                bulkRequest.add(destinationConnection.getClient().prepareIndex(destinationIndex, destinationType, (String) doc.get(&quot;id&quot;)).setSource(builder).request());\r\n    \r\n            }\r\n            // Tried with and without setRefresh\r\n            BulkResponse response = bulkRequest.setRefresh(true).execute().actionGet();\r\n            for(BulkItemResponse itemResponse : response.getItems()){\r\n                if(itemResponse.isFailed()){\r\n                    LOG.error(&quot;Updating item: {} failed: {}&quot;, itemResponse.getFailure().getId(), itemResponse.getFailureMessage());\r\n                }\r\n            }\r\n\r\n**Update**&lt;br /&gt;\r\nCould it be refresh/query speed?\r\n\r\nThe program is set to process 5000 document-batches, and is not using a scroll query, so I&#39;d be expecting the total number of results coming back from that query to be reduced by 5000 every iteration. \r\n\r\nIn actual fact this is not happening. The amount of documents removed from the total result set each iteration reduces and reduces until eventually it&#39;s the same every iteration:\r\n\r\n    10:43:42.220  INFO : Fetching another batch\r\n    10:43:51.701  INFO : Found 9260992 matching documents. Processing 5000...\r\n    10:43:51.794  INFO : Total remaining: 9260992\r\n    10:43:51.813  INFO : Writing batch of 5000 items\r\n    10:43:57.261  INFO : Fetching another batch\r\n    10:44:06.136  INFO : Found 9258661 matching documents. Processing 5000...\r\n    10:44:06.154  INFO : Total remaining: 9258661\r\n    10:44:06.158  INFO : Writing batch of 5000 items\r\n    10:44:11.369  INFO : Fetching another batch\r\n    10:44:19.790  INFO : Found 9256813 matching documents. Processing 5000...\r\n    10:44:19.804  INFO : Total remaining: 9256813\r\n    10:44:19.807  INFO : Writing batch of 5000 items\r\n    10:44:22.684  INFO : Fetching another batch\r\n    10:44:31.182  INFO : Found 9255697 matching documents. Processing 5000...\r\n    10:44:31.193  INFO : Total remaining: 9255697\r\n    10:44:31.196  INFO : Writing batch of 5000 items\r\n    10:44:33.852  INFO : Fetching another batch\r\n    10:44:42.394  INFO : Found 9255115 matching documents. Processing 5000...\r\n    10:44:42.406  INFO : Total remaining: 9255115\r\n    10:44:42.409  INFO : Writing batch of 5000 items\r\n    10:44:45.152  INFO : Fetching another batch\r\n    10:44:51.473  INFO : Found 9254744 matching documents. Processing 5000...\r\n    10:44:51.483  INFO : Total remaining: 9254744\r\n    10:44:51.486  INFO : Writing batch of 5000 items\r\n    10:44:53.853  INFO : Fetching another batch\r\n    10:44:59.966  INFO : Found 9254551 matching documents. Processing 5000...\r\n    10:44:59.978  INFO : Total remaining: 9254551\r\n    10:44:59.981  INFO : Writing batch of 5000 items\r\n    10:45:02.446  INFO : Fetching another batch\r\n    10:45:07.773  INFO : Found 9254445 matching documents. Processing 5000...\r\n    10:45:07.787  INFO : Total remaining: 9254445\r\n    10:45:07.791  INFO : Writing batch of 5000 items\r\n    10:45:10.237  INFO : Fetching another batch\r\n    10:45:15.679  INFO : Found 9254384 matching documents. Processing 5000...\r\n    10:45:15.703  INFO : Total remaining: 9254384\r\n    10:45:15.712  INFO : Writing batch of 5000 items\r\n    10:45:18.078  INFO : Fetching another batch\r\n    10:45:23.660  INFO : Found 9254359 matching documents. Processing 5000...\r\n    10:45:23.712  INFO : Total remaining: 9254359\r\n    10:45:23.725  INFO : Writing batch of 5000 items\r\n    10:45:26.520  INFO : Fetching another batch\r\n    10:45:31.895  INFO : Found 9254343 matching documents. Processing 5000...\r\n    10:45:31.905  INFO : Total remaining: 9254343\r\n    10:45:31.908  INFO : Writing batch of 5000 items\r\n    10:45:34.279  INFO : Fetching another batch\r\n    10:45:40.121  INFO : Found 9254333 matching documents. Processing 5000...\r\n    10:45:40.136  INFO : Total remaining: 9254333\r\n    10:45:40.139  INFO : Writing batch of 5000 items\r\n    10:45:42.381  INFO : Fetching another batch\r\n    10:45:47.798  INFO : Found 9254325 matching documents. Processing 5000...\r\n    10:45:47.823  INFO : Total remaining: 9254325\r\n    10:45:47.833  INFO : Writing batch of 5000 items\r\n    10:45:50.370  INFO : Fetching another batch\r\n    10:45:57.105  INFO : Found 9254321 matching documents. Processing 5000...\r\n    10:45:57.117  INFO : Total remaining: 9254321\r\n    10:45:57.121  INFO : Writing batch of 5000 items\r\n    10:45:59.459  INFO : Fetching another batch\r\n\r\n\r\nIt looks as though document duplication is rife from the outset.\r\n\r\nI&#39;ve just tried a two-node cluster with cluster health status: green, and the same thing happens.\r\n\r\nI&#39;m going to try a single node with no replication next.\r\n\r\n**Update**:&lt;br /&gt;\r\nHere is an example before/after bulk processor listener data:\r\n\r\nBefore:\r\n\r\n    Item( id=http://static.photosite.com/20160123_093502.jpg, index=status, type=status, op_type=INDEX, version=-3, parent=null, routing=null )\r\n\r\nAfter (BulkResponse indicated no failures):\r\n\r\n    Item( id=http://static.photosite.com/20160123_093502.jpg, index=status, type=status, op_type=index, version=22)\r\n\r\nThings of note:\r\n\r\n 1. No parent\r\n 2. No routing\r\n 3. Massive jump in document version\r\n\r\nAlso not made clear by this snippet is that each item in the beforeBulk request is represented as a successful IndexRequest in the afterBulk request details (ie: none are missing). \r\n\r\n**Update 2**\r\n\r\nI think that the initial negative version might have something to do with it: https://discuss.elastic.co/t/negative-version-number-on-snapshot-restore-from-s3-bucket/56642\r\n\r\n**Update 3**\r\n\r\nI&#39;ve just discovered that when I query the documents using curl the versions are positive, ie: \r\n\r\n1. Restore snapshot.\r\n2. Query for document using curl, version is 2\r\n3. Query for document using java API, version is -1\r\n4. Re-indexing the document causes a duplicate (new document with the same ID written to a different shard) with a version of 1.\r\n\r\nWhat&#39;s happening here?","title":"elasticsearch allows duplicate ID with different body data","body":"<p>I'm currently attempting to migrate our elasticsearch data to being 2.0 compatible (ie: no dots in field names) in preparation for an upgrade form 1.x to 2.x.</p>\n\n<p>I've written a program that runs through the data (in batches) that sits in a one-node cluster, and renames the fields, re-indexing the documents using the Bulk API.</p>\n\n<p>At some point it all goes wrong, and the total number of documents coming back from my query (to be \"ugpraded\") doesn't change, even though it should be counting down.</p>\n\n<p>Initially I thought that it wasn't working. When I pick a document and query for it to see if it's changing, I can see that it is working.</p>\n\n<p>However, when I query documents for a specific field within that document I get two results with the same ID. One of the results has the upgraded field, the other one does not.</p>\n\n<p>On further inspection I can see that they come from different shards:</p>\n\n<pre><code>{\n  \"took\" : 2,\n  \"timed_out\" : false,\n  \"_shards\" : {\n    \"total\" : 5,\n    \"successful\" : 5,\n    \"failed\" : 0\n  },\n  \"hits\" : {\n    \"total\" : 2,\n    \"max_score\" : 19.059433,\n    \"hits\" : [ {\n      \"_shard\" : 0,\n      \"_node\" : \"FxbpjCyQRzKfA9QvBbSsmA\",\n      \"_index\" : \"status\",\n      \"_type\" : \"status\",\n      \"_id\" : \"http://static.photosite.com/80018335.jpg\",\n      \"_version\" : 2,\n      \"_score\" : 19.059433,\n      \"_source\":{\"url\":\"http://static.photosite.com/80018335.jpg\",\"metadata\":{\"url.path\":[\"http://www.photosite.com/80018335\"],\"source\":[\"http://www.photosite.com/80018335\"],\"longitude\":[\"104.507755\"],\"latitude\":[\"21.601669\"]}},\n      ...\n    }, {\n      \"_shard\" : 3,\n      \"_node\" : \"FxbpjCyQRzKfA9QvBbSsmA\",\n      \"_index\" : \"status\",\n      \"_type\" : \"status\",\n      \"_id\" : \"http://static.photosite.com/80018335.jpg\",\n      \"_version\" : 27,\n      \"_score\" : 17.607681,\n      \"_source\":{\"url\":\"http://static.photosite.com/80018335.jpg\",\"metadata\":{\"url_path\":[\"http://www.photosite.com/80018335\"],\"source\":[\"http://www.photosite.com/80018335\"],\"longitude\":[\"104.507755\"],\"latitude\":[\"21.601669\"]}},\n      ...      \n  }\n}\n</code></pre>\n\n<p>How can I prevent this from happening?</p>\n\n<p><strong>elasticsearch version:</strong> 1.7.3</p>\n\n<p><strong>query:</strong></p>\n\n<pre><code>{\n  \"bool\" : {\n    \"must\" : {\n      \"wildcard\" : {\n        \"metadata.url.path\" : \"*\"\n      }\n    },\n    \"must_not\" : {\n      \"wildcard\" : {\n        \"metadata.url_path\" : \"*\"\n      }\n    }\n  }\n}\n</code></pre>\n\n<p>Code to write the document:</p>\n\n<pre><code>        BulkRequestBuilder bulkRequest = destinationConnection.getClient().prepareBulk();\n        for(Map&lt;String, Object&gt; doc : batch.getDocs()){\n            XContentBuilder builder;\n            try {\n                builder = XContentFactory.jsonBuilder().startObject();\n                for(Map.Entry&lt;String, Object&gt; mapEntry : doc.entrySet()){\n                    if(!mapEntry.getKey().equals(\"id\")){\n                        builder.field(mapEntry.getKey(), mapEntry.getValue());\n                    }\n                }\n                builder.endObject();\n            } catch (IOException e) {\n                throw new DocumentBuilderException(\"Error building request to move items to new parent!\", e);\n            }\n\n            bulkRequest.add(destinationConnection.getClient().prepareIndex(destinationIndex, destinationType, (String) doc.get(\"id\")).setSource(builder).request());\n\n        }\n        // Tried with and without setRefresh\n        BulkResponse response = bulkRequest.setRefresh(true).execute().actionGet();\n        for(BulkItemResponse itemResponse : response.getItems()){\n            if(itemResponse.isFailed()){\n                LOG.error(\"Updating item: {} failed: {}\", itemResponse.getFailure().getId(), itemResponse.getFailureMessage());\n            }\n        }\n</code></pre>\n\n<p><strong>Update</strong><br />\nCould it be refresh/query speed?</p>\n\n<p>The program is set to process 5000 document-batches, and is not using a scroll query, so I'd be expecting the total number of results coming back from that query to be reduced by 5000 every iteration. </p>\n\n<p>In actual fact this is not happening. The amount of documents removed from the total result set each iteration reduces and reduces until eventually it's the same every iteration:</p>\n\n<pre><code>10:43:42.220  INFO : Fetching another batch\n10:43:51.701  INFO : Found 9260992 matching documents. Processing 5000...\n10:43:51.794  INFO : Total remaining: 9260992\n10:43:51.813  INFO : Writing batch of 5000 items\n10:43:57.261  INFO : Fetching another batch\n10:44:06.136  INFO : Found 9258661 matching documents. Processing 5000...\n10:44:06.154  INFO : Total remaining: 9258661\n10:44:06.158  INFO : Writing batch of 5000 items\n10:44:11.369  INFO : Fetching another batch\n10:44:19.790  INFO : Found 9256813 matching documents. Processing 5000...\n10:44:19.804  INFO : Total remaining: 9256813\n10:44:19.807  INFO : Writing batch of 5000 items\n10:44:22.684  INFO : Fetching another batch\n10:44:31.182  INFO : Found 9255697 matching documents. Processing 5000...\n10:44:31.193  INFO : Total remaining: 9255697\n10:44:31.196  INFO : Writing batch of 5000 items\n10:44:33.852  INFO : Fetching another batch\n10:44:42.394  INFO : Found 9255115 matching documents. Processing 5000...\n10:44:42.406  INFO : Total remaining: 9255115\n10:44:42.409  INFO : Writing batch of 5000 items\n10:44:45.152  INFO : Fetching another batch\n10:44:51.473  INFO : Found 9254744 matching documents. Processing 5000...\n10:44:51.483  INFO : Total remaining: 9254744\n10:44:51.486  INFO : Writing batch of 5000 items\n10:44:53.853  INFO : Fetching another batch\n10:44:59.966  INFO : Found 9254551 matching documents. Processing 5000...\n10:44:59.978  INFO : Total remaining: 9254551\n10:44:59.981  INFO : Writing batch of 5000 items\n10:45:02.446  INFO : Fetching another batch\n10:45:07.773  INFO : Found 9254445 matching documents. Processing 5000...\n10:45:07.787  INFO : Total remaining: 9254445\n10:45:07.791  INFO : Writing batch of 5000 items\n10:45:10.237  INFO : Fetching another batch\n10:45:15.679  INFO : Found 9254384 matching documents. Processing 5000...\n10:45:15.703  INFO : Total remaining: 9254384\n10:45:15.712  INFO : Writing batch of 5000 items\n10:45:18.078  INFO : Fetching another batch\n10:45:23.660  INFO : Found 9254359 matching documents. Processing 5000...\n10:45:23.712  INFO : Total remaining: 9254359\n10:45:23.725  INFO : Writing batch of 5000 items\n10:45:26.520  INFO : Fetching another batch\n10:45:31.895  INFO : Found 9254343 matching documents. Processing 5000...\n10:45:31.905  INFO : Total remaining: 9254343\n10:45:31.908  INFO : Writing batch of 5000 items\n10:45:34.279  INFO : Fetching another batch\n10:45:40.121  INFO : Found 9254333 matching documents. Processing 5000...\n10:45:40.136  INFO : Total remaining: 9254333\n10:45:40.139  INFO : Writing batch of 5000 items\n10:45:42.381  INFO : Fetching another batch\n10:45:47.798  INFO : Found 9254325 matching documents. Processing 5000...\n10:45:47.823  INFO : Total remaining: 9254325\n10:45:47.833  INFO : Writing batch of 5000 items\n10:45:50.370  INFO : Fetching another batch\n10:45:57.105  INFO : Found 9254321 matching documents. Processing 5000...\n10:45:57.117  INFO : Total remaining: 9254321\n10:45:57.121  INFO : Writing batch of 5000 items\n10:45:59.459  INFO : Fetching another batch\n</code></pre>\n\n<p>It looks as though document duplication is rife from the outset.</p>\n\n<p>I've just tried a two-node cluster with cluster health status: green, and the same thing happens.</p>\n\n<p>I'm going to try a single node with no replication next.</p>\n\n<p><strong>Update</strong>:<br />\nHere is an example before/after bulk processor listener data:</p>\n\n<p>Before:</p>\n\n<pre><code>Item( id=http://static.photosite.com/20160123_093502.jpg, index=status, type=status, op_type=INDEX, version=-3, parent=null, routing=null )\n</code></pre>\n\n<p>After (BulkResponse indicated no failures):</p>\n\n<pre><code>Item( id=http://static.photosite.com/20160123_093502.jpg, index=status, type=status, op_type=index, version=22)\n</code></pre>\n\n<p>Things of note:</p>\n\n<ol>\n<li>No parent</li>\n<li>No routing</li>\n<li>Massive jump in document version</li>\n</ol>\n\n<p>Also not made clear by this snippet is that each item in the beforeBulk request is represented as a successful IndexRequest in the afterBulk request details (ie: none are missing). </p>\n\n<p><strong>Update 2</strong></p>\n\n<p>I think that the initial negative version might have something to do with it: <a href=\"https://discuss.elastic.co/t/negative-version-number-on-snapshot-restore-from-s3-bucket/56642\" rel=\"nofollow\">https://discuss.elastic.co/t/negative-version-number-on-snapshot-restore-from-s3-bucket/56642</a></p>\n\n<p><strong>Update 3</strong></p>\n\n<p>I've just discovered that when I query the documents using curl the versions are positive, ie: </p>\n\n<ol>\n<li>Restore snapshot.</li>\n<li>Query for document using curl, version is 2</li>\n<li>Query for document using java API, version is -1</li>\n<li>Re-indexing the document causes a duplicate (new document with the same ID written to a different shard) with a version of 1.</li>\n</ol>\n\n<p>What's happening here?</p>\n"},{"tags":["java","mybatis"],"comments":[{"owner":{"account_id":2573819,"reputation":15175,"user_id":2231972,"display_name":"Roman-Stop RU aggression in UA"},"score":0,"creation_date":1541540520,"post_id":53179457,"comment_id":93251035,"body_markdown":"How do you run unit tests? Do you use IDE or do you use maven or gradle? If you use IDE is your project correctly setup namely is `src/main/resources` configured as a source folder?","body":"How do you run unit tests? Do you use IDE or do you use maven or gradle? If you use IDE is your project correctly setup namely is <code>src&#47;main&#47;resources</code> configured as a source folder?"},{"owner":{"display_name":"user1094865"},"score":0,"creation_date":1541542641,"post_id":53179457,"comment_id":93251909,"body_markdown":"Yeah I run the unit tests from eclipse IDE &amp; src/main/resources has been added as a source folder.","body":"Yeah I run the unit tests from eclipse IDE &amp; src/main/resources has been added as a source folder."},{"owner":{"account_id":2573819,"reputation":15175,"user_id":2231972,"display_name":"Roman-Stop RU aggression in UA"},"score":0,"creation_date":1541544211,"post_id":53179457,"comment_id":93252514,"body_markdown":"Then you need to provide minimal verifiable example that demonstrates the problem. This [minimal example](https://bitbucket.org/rkonoval/mybatis-simple/src/master/) works just fine when I import it to eclipse and run the test. Try to remove things gradually from your project to get the minimal thing that still does not work and compare it will my example.","body":"Then you need to provide minimal verifiable example that demonstrates the problem. This <a href=\"https://bitbucket.org/rkonoval/mybatis-simple/src/master/\" rel=\"nofollow noreferrer\">minimal example</a> works just fine when I import it to eclipse and run the test. Try to remove things gradually from your project to get the minimal thing that still does not work and compare it will my example."}],"answers":[{"comments":[{"owner":{"account_id":2573819,"reputation":15175,"user_id":2231972,"display_name":"Roman-Stop RU aggression in UA"},"score":0,"creation_date":1541540018,"post_id":53180309,"comment_id":93250827,"body_markdown":"This is mybatis class and it uses another class that [appends](https://github.com/mybatis/mybatis-3/blob/master/src/main/java/org/apache/ibatis/io/ClassLoaderWrapper.java#L151) &#39;/&#39; in case it failed to load the resource with the provided name.","body":"This is mybatis class and it uses another class that <a href=\"https://github.com/mybatis/mybatis-3/blob/master/src/main/java/org/apache/ibatis/io/ClassLoaderWrapper.java#L151\" rel=\"nofollow noreferrer\">appends</a> &#39;/&#39; in case it failed to load the resource with the provided name."},{"owner":{"account_id":39088,"reputation":67399,"user_id":112671,"accept_rate":79,"display_name":"Robert Munteanu"},"score":0,"creation_date":1541595907,"post_id":53180309,"comment_id":93268887,"body_markdown":"Looks like a classpath problem. You might want to just use `getClass().getResourceAsStream(..)` to make sure that everything is all right. Also, double-check that the `src/main/resources` folder is actually on the classpath.","body":"Looks like a classpath problem. You might want to just use <code>getClass().getResourceAsStream(..)</code> to make sure that everything is all right. Also, double-check that the <code>src&#47;main&#47;resources</code> folder is actually on the classpath."}],"tags":[],"owner":{"account_id":39088,"reputation":67399,"user_id":112671,"accept_rate":79,"display_name":"Robert Munteanu"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1541539768,"creation_date":1541539768,"answer_id":53180309,"question_id":53179457,"body_markdown":"It all depends on what your `Resources` class is doing. Maybe try with &quot;/mybatis-config.xml&quot; ( note the leading slash ).","title":"MyBatis cannot find mybatis-config.xml","body":"<p>It all depends on what your <code>Resources</code> class is doing. Maybe try with \"/mybatis-config.xml\" ( note the leading slash ).</p>\n"},{"tags":[],"owner":{"display_name":"user1094865"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1542194688,"creation_date":1542194688,"answer_id":53299098,"question_id":53179457,"body_markdown":"Thanks for the input folks, I figured out what was wrong.\r\n\r\nIt was the weirdest Eclipse config issue I have seen in 15 years of programming, somehow all the XML files in the project were marked as TEXT files.\r\n\r\nThink it might be time to move to IntelliJ.","title":"MyBatis cannot find mybatis-config.xml","body":"<p>Thanks for the input folks, I figured out what was wrong.</p>\n\n<p>It was the weirdest Eclipse config issue I have seen in 15 years of programming, somehow all the XML files in the project were marked as TEXT files.</p>\n\n<p>Think it might be time to move to IntelliJ.</p>\n"},{"tags":[],"owner":{"account_id":15040369,"reputation":909,"user_id":10855224,"display_name":"Woodsman"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1567212747,"creation_date":1567212747,"answer_id":57734450,"question_id":53179457,"body_markdown":"I realize this is an old question but for those who stumble on this I&#39;d place that config.xml file under src/test/resources in addition to the one for regular code. You might want a different test configuration.","title":"MyBatis cannot find mybatis-config.xml","body":"<p>I realize this is an old question but for those who stumble on this I'd place that config.xml file under src/test/resources in addition to the one for regular code. You might want a different test configuration.</p>\n"},{"tags":[],"owner":{"account_id":13139344,"reputation":955,"user_id":9491394,"display_name":"MangduYogii"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1582264518,"creation_date":1582264518,"answer_id":60332888,"question_id":53179457,"body_markdown":"You can use `SQLMapClient` for reading the SqlConfig file.\r\n\t\r\n    private static String path= &quot;/sqlmap-config.xml&quot;;\r\n    \r\n    public static SqlMapClient getSqlMapInstance() throws IOException {\r\n    \t\tReader reader = Resources.getResourceAsReader(path);\r\n    \t\tsqlMapClient = SqlMapClientBuilder.buildSqlMapClient(reader);\r\n    \r\n    \t\treturn sqlMapClient;\r\n    \r\n    \t}\r\n\r\nmake sure your `sqlmap-config.xml` is located in classpath `resoures` folder.","title":"MyBatis cannot find mybatis-config.xml","body":"<p>You can use <code>SQLMapClient</code> for reading the SqlConfig file.</p>\n\n<pre><code>private static String path= \"/sqlmap-config.xml\";\n\npublic static SqlMapClient getSqlMapInstance() throws IOException {\n        Reader reader = Resources.getResourceAsReader(path);\n        sqlMapClient = SqlMapClientBuilder.buildSqlMapClient(reader);\n\n        return sqlMapClient;\n\n    }\n</code></pre>\n\n<p>make sure your <code>sqlmap-config.xml</code> is located in classpath <code>resoures</code> folder.</p>\n"},{"comments":[{"owner":{"account_id":6886389,"reputation":1436,"user_id":7841468,"accept_rate":75,"display_name":"shuberman"},"score":0,"creation_date":1594867734,"post_id":62926393,"comment_id":111279382,"body_markdown":"The OP is looking for code based solutions. Im not sure how this aligns to his query","body":"The OP is looking for code based solutions. Im not sure how this aligns to his query"}],"tags":[],"owner":{"account_id":14220011,"reputation":514,"user_id":10272632,"display_name":"dyy.alex"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1594865594,"creation_date":1594865594,"answer_id":62926393,"question_id":53179457,"body_markdown":"If you use IDEA, you could try mark resources folder as root resources file so that the xml file could be found by program.","title":"MyBatis cannot find mybatis-config.xml","body":"<p>If you use IDEA, you could try mark resources folder as root resources file so that the xml file could be found by program.</p>\n"}],"owner":{"display_name":"user1094865"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4397,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":53299098,"answer_count":5,"score":5,"last_activity_date":1666342310,"creation_date":1541535799,"question_id":53179457,"body_markdown":"I&#39;m some trouble getting MyBatis (3.4.6) working.\r\n\r\nI have placed my **mybatis-config.xml** file in the **src/main/resources** folder of my project but when I run a unit test I get the following error.\r\n \r\n    &gt; java.io.IOException: Could not find resource mybatis-config.xml \tat\r\n    &gt; org.apache.ibatis.io.Resources.getResourceAsStream(Resources.java:114)\r\n\r\nThis is the code I am using to read the XML file.\r\n\r\n    String resource = &quot;mybatis-config.xml&quot;;\r\n    try \r\n    {\r\n    \tInputStream inputStream = Resources.getResourceAsStream(resource);\r\n    \tsqlSessionFactory = new SqlSessionFactoryBuilder().build(inputStream);\r\n    \r\n    } catch (IOException ex) {\r\n    \r\n    \tex.printStackTrace();\r\n    }\r\n\r\nAnyone got any ideas?","title":"MyBatis cannot find mybatis-config.xml","body":"<p>I'm some trouble getting MyBatis (3.4.6) working.</p>\n\n<p>I have placed my <strong>mybatis-config.xml</strong> file in the <strong>src/main/resources</strong> folder of my project but when I run a unit test I get the following error.</p>\n\n<pre><code>&gt; java.io.IOException: Could not find resource mybatis-config.xml   at\n&gt; org.apache.ibatis.io.Resources.getResourceAsStream(Resources.java:114)\n</code></pre>\n\n<p>This is the code I am using to read the XML file.</p>\n\n<pre><code>String resource = \"mybatis-config.xml\";\ntry \n{\n    InputStream inputStream = Resources.getResourceAsStream(resource);\n    sqlSessionFactory = new SqlSessionFactoryBuilder().build(inputStream);\n\n} catch (IOException ex) {\n\n    ex.printStackTrace();\n}\n</code></pre>\n\n<p>Anyone got any ideas?</p>\n"},{"tags":["java","methods"],"comments":[{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1666341855,"post_id":74150914,"comment_id":130918944,"body_markdown":"Your program simply considers that non of your if blocks is entered because there is no guarantee that the user enters either `&quot;F&quot;` or `&quot;M&quot;`. You could just initialize sal as an empty Stirng `sal = &quot;&quot;;`. But you also call your method before you even have your logic to set the values and you pass your arguments in the wrong order. it should be `Greet(name, sal)` after your if-blocks, not what you currently have","body":"Your program simply considers that non of your if blocks is entered because there is no guarantee that the user enters either <code>&quot;F&quot;</code> or <code>&quot;M&quot;</code>. You could just initialize sal as an empty Stirng <code>sal = &quot;&quot;;</code>. But you also call your method before you even have your logic to set the values and you pass your arguments in the wrong order. it should be <code>Greet(name, sal)</code> after your if-blocks, not what you currently have"},{"owner":{"account_id":4236471,"reputation":1687,"user_id":3467488,"display_name":"kiwiron"},"score":1,"creation_date":1666341877,"post_id":74150914,"comment_id":130918956,"body_markdown":"Sal is being printed before it is given a value. Move your Greet,() call to after sal is set. Also Java convention is camel case for method names so it should be greet()","body":"Sal is being printed before it is given a value. Move your Greet,() call to after sal is set. Also Java convention is camel case for method names so it should be greet()"},{"owner":{"account_id":6457401,"reputation":583,"user_id":5002324,"display_name":"Christoph S."},"score":0,"creation_date":1666344130,"post_id":74150914,"comment_id":130919695,"body_markdown":"`sal` did not get any value before you used it for the first time.","body":"<code>sal</code> did not get any value before you used it for the first time."}],"answers":[{"tags":[],"owner":{"account_id":15422094,"reputation":136,"user_id":11125873,"display_name":"IvanNickSim"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666342215,"creation_date":1666342215,"answer_id":74151109,"question_id":74150914,"body_markdown":"The problem that you are experiencing - &quot;Variable &#39;sal&#39; might not have been initialized&quot; is because you are trying to use this variable before having any value assigned to it. \r\n\r\nCurrently, since you are defining the variable within the method body it doesn&#39;t have a default value, therefore its value in the case of String is null. You can see the difference when you for example initialize the sal variable right before calling the Greet(sal, name) method... \r\n\r\nFor example you can do it like that:\r\n\r\n```\r\nsal = &quot;Test Value&quot;;\r\nGreet(sal,name);\r\n```\r\n\r\nThere are three main types of variables: local variable, class (static) variable, and instance variable. You might take a look [here][1] for a better understanding of your problem.\r\n\r\n\r\n  [1]: https://javajee.com/class-variables-instance-variables-and-local-variables-in-java#:~:text=Instance%20variables%20(non%2Dstatic),a%20class%20outside%20any%20methods.&amp;text=Local%20variables%20are%20variables%20defined,within%20a%20method%20or%20block.","title":"Using method in java","body":"<p>The problem that you are experiencing - &quot;Variable 'sal' might not have been initialized&quot; is because you are trying to use this variable before having any value assigned to it.</p>\n<p>Currently, since you are defining the variable within the method body it doesn't have a default value, therefore its value in the case of String is null. You can see the difference when you for example initialize the sal variable right before calling the Greet(sal, name) method...</p>\n<p>For example you can do it like that:</p>\n<pre><code>sal = &quot;Test Value&quot;;\nGreet(sal,name);\n</code></pre>\n<p>There are three main types of variables: local variable, class (static) variable, and instance variable. You might take a look <a href=\"https://javajee.com/class-variables-instance-variables-and-local-variables-in-java#:%7E:text=Instance%20variables%20(non%2Dstatic),a%20class%20outside%20any%20methods.&amp;text=Local%20variables%20are%20variables%20defined,within%20a%20method%20or%20block.\" rel=\"nofollow noreferrer\">here</a> for a better understanding of your problem.</p>\n"}],"owner":{"account_id":24470693,"reputation":1,"user_id":18390480,"display_name":"Agrimtouma"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1666342215,"creation_date":1666341241,"question_id":74150914,"body_markdown":"I&#39;m pretty new to java and currently trying to make a code using methods in which it would output &quot;Welcome, Mr. David.&quot; Something like this. The salutation would come from the gender and status. I&#39;m also trying to figure out how to do this &quot;variable might not have been initialized&quot;. I tried to search for a fix, but it just put the word &#39;null&#39; in the front of the name like this, &quot;nullDavid&quot;.\r\n\r\n    package designingmethod;\r\n    \r\n    import java.util.Scanner;\r\n    \r\n    public class DesigningMethod {\r\n        \r\n        \r\n        public static void main(String[] args) {\r\n            \r\n            String name, m1, m2, m3, f1, f2, f3, sal, sex, status;\r\n                    \r\n            m1 = &quot;Mr.&quot;;\r\n            m2 = &quot;Mr.&quot;;\r\n            m3 = &quot;Sir&quot;;\r\n            f1 = &quot;Ms.&quot;;\r\n            f2 = &quot;Mrs.&quot;;\r\n            f3 = &quot;Ma&#39;am&quot;;\r\n            \r\n            Scanner sc = new Scanner(System.in);\r\n            \r\n            System.out.println(&quot;Name:&quot;);\r\n            name = sc.next();\r\n            System.out.println(&quot;Sex(M/F):&quot;);\r\n            sex = sc.next();\r\n            System.out.println(&quot;Status(S/M/W):&quot;);\r\n            status = sc.next();\r\n            Greet(sal, name);\r\n    \r\n            \r\n            if(&quot;M&quot;.equals(sex)){\r\n                switch (status) {\r\n                    case &quot;S&quot;:\r\n                        sal = m1;\r\n                        break;\r\n                    case &quot;M&quot;:\r\n                        sal = m2;\r\n                        break;\r\n                    case &quot;W&quot;:\r\n                        sal = m3;\r\n                        break;\r\n                    default:\r\n                        return;\r\n                }\r\n            }\r\n            if(&quot;F&quot;.equals(sex)){\r\n                switch (status) {\r\n                    case &quot;S&quot;:\r\n                        sal = f1;\r\n                        break;\r\n                    case &quot;M&quot;:\r\n                        sal = f2;\r\n                        break;\r\n                    case &quot;W&quot;:\r\n                        sal = f3;\r\n                        break;\r\n                    default:\r\n                        return;\r\n                }\r\n        }\r\n        }\r\n        static void Greet(String name, String sal){\r\n            System.out.println(&quot;Welcome, &quot; + sal + name + &quot;.&quot;);\r\n        }\r\n    }","title":"Using method in java","body":"<p>I'm pretty new to java and currently trying to make a code using methods in which it would output &quot;Welcome, Mr. David.&quot; Something like this. The salutation would come from the gender and status. I'm also trying to figure out how to do this &quot;variable might not have been initialized&quot;. I tried to search for a fix, but it just put the word 'null' in the front of the name like this, &quot;nullDavid&quot;.</p>\n<pre><code>package designingmethod;\n\nimport java.util.Scanner;\n\npublic class DesigningMethod {\n    \n    \n    public static void main(String[] args) {\n        \n        String name, m1, m2, m3, f1, f2, f3, sal, sex, status;\n                \n        m1 = &quot;Mr.&quot;;\n        m2 = &quot;Mr.&quot;;\n        m3 = &quot;Sir&quot;;\n        f1 = &quot;Ms.&quot;;\n        f2 = &quot;Mrs.&quot;;\n        f3 = &quot;Ma'am&quot;;\n        \n        Scanner sc = new Scanner(System.in);\n        \n        System.out.println(&quot;Name:&quot;);\n        name = sc.next();\n        System.out.println(&quot;Sex(M/F):&quot;);\n        sex = sc.next();\n        System.out.println(&quot;Status(S/M/W):&quot;);\n        status = sc.next();\n        Greet(sal, name);\n\n        \n        if(&quot;M&quot;.equals(sex)){\n            switch (status) {\n                case &quot;S&quot;:\n                    sal = m1;\n                    break;\n                case &quot;M&quot;:\n                    sal = m2;\n                    break;\n                case &quot;W&quot;:\n                    sal = m3;\n                    break;\n                default:\n                    return;\n            }\n        }\n        if(&quot;F&quot;.equals(sex)){\n            switch (status) {\n                case &quot;S&quot;:\n                    sal = f1;\n                    break;\n                case &quot;M&quot;:\n                    sal = f2;\n                    break;\n                case &quot;W&quot;:\n                    sal = f3;\n                    break;\n                default:\n                    return;\n            }\n    }\n    }\n    static void Greet(String name, String sal){\n        System.out.println(&quot;Welcome, &quot; + sal + name + &quot;.&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","multithreading","locking","java-threads"],"comments":[{"owner":{"account_id":9850021,"reputation":411,"user_id":7296372,"display_name":"mrkachariker"},"score":0,"creation_date":1666341978,"post_id":74150735,"comment_id":130918994,"body_markdown":"The locking in multithreading shouldn&#39;t be inside the run() method since that is individual to every thread and does not get shared between threads. Instead do some operation on a shared object between threads (which you pass inside the constructor of the threads.","body":"The locking in multithreading shouldn&#39;t be inside the run() method since that is individual to every thread and does not get shared between threads. Instead do some operation on a shared object between threads (which you pass inside the constructor of the threads."}],"answers":[{"comments":[{"owner":{"account_id":6162914,"reputation":87,"user_id":4803870,"display_name":"Arthur"},"score":1,"creation_date":1666354908,"post_id":74151096,"comment_id":130923253,"body_markdown":"Thanks @Eskapone, \nInstead of using the threadId variable I directly checked the id in the if condition and just removed the threadId variable from the SequenceDemo class. That worked as expected .We don&#39;t need to create new instance of SequenceDemo and pass it to each thread.","body":"Thanks @Eskapone,  Instead of using the threadId variable I directly checked the id in the if condition and just removed the threadId variable from the SequenceDemo class. That worked as expected .We don&#39;t need to create new instance of SequenceDemo and pass it to each thread."}],"tags":[],"owner":{"account_id":25113175,"reputation":321,"user_id":18962551,"display_name":"Eskapone"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666342158,"creation_date":1666342158,"answer_id":74151096,"question_id":74150735,"body_markdown":"Your code is fine, you should just pass a new SequenceDemo instance to each thread, otherwise they share the threadId and it&#39;s just stuck on the value 4 for all threads. (Took me a few minutes to see haha)","title":"Run multiple threads in sequence using locks","body":"<p>Your code is fine, you should just pass a new SequenceDemo instance to each thread, otherwise they share the threadId and it's just stuck on the value 4 for all threads. (Took me a few minutes to see haha)</p>\n"}],"owner":{"account_id":6162914,"reputation":87,"user_id":4803870,"display_name":"Arthur"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":200,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1666342158,"creation_date":1666340456,"question_id":74150735,"body_markdown":"I am trying to run 4 threads in sequence like 4 -&gt; 3 -&gt; 2 -&gt; 1.\r\nAnd I am using int threadId and AtomicInteger to validate if the current thread is eligible to run or not.\r\nBut the 4th thread starts and the execution gets stuck, I am not getting why the thread 3, 2 and 1 are not getting a chance to run.\r\n\r\nHere is what I did:\r\n\r\n```\r\npublic class SequenceDemo implements Runnable{\r\n\t\r\n\tint threadId;\r\n\tstatic AtomicInteger currentThread = new AtomicInteger(4);\r\n\tReentrantLock lock;\r\n\tCondition condition;\r\n\t\r\n\tpublic SequenceDemo( ReentrantLock lock, Condition condition) {\r\n\t\tthis.lock = lock;\r\n\t\tthis.condition = condition;\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic void run() {\r\n\t\ttry {\r\n\t\t\tlock.lock();\r\n\t\t\tthreadId = Integer.parseInt(Thread.currentThread().getName());\r\n\t\t\twhile(currentThread.get()!=threadId) {\r\n\t\t\t\tcondition.await();\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tSystem.out.println(&quot;Thread &quot;+Thread.currentThread().getName()+&quot; started executing&quot;);\r\n\t\t\tThread.sleep(1000);\r\n\t\t\tSystem.out.println(&quot;Thread &quot;+Thread.currentThread().getName()+&quot; finished executing&quot;);\r\n\t\t\t\r\n\t\t\tcurrentThread.decrementAndGet();\r\n\t\t\tcondition.signalAll();\r\n\t\t\t\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t} finally {\r\n\t\t\tlock.unlock();\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tReentrantLock lock = new ReentrantLock();\r\n\t\tCondition condition = lock.newCondition();\r\n\t\t\r\n\t\tSequenceDemo demo1 = new SequenceDemo(lock, condition);\r\n\t\t\r\n\t\tThread t1 = new Thread(demo1, &quot;1&quot;);\r\n\t\tThread t2 = new Thread(demo1, &quot;2&quot;);\r\n\t\tThread t3 = new Thread(demo1, &quot;3&quot;);\r\n\t\tThread t4 = new Thread(demo1, &quot;4&quot;);\r\n\t\t\r\n\t\tt1.start();\r\n\t\tt2.start();\r\n\t\tt3.start();\r\n\t\tt4.start();\r\n\t\t\r\n\t}\r\n}\r\n\r\n```\r\n\r\noutput: Execution gets stuck after execution of thread 4:\r\n```\r\nThread 4 started executing\r\nThread 4 finished executing\r\n\r\n```","title":"Run multiple threads in sequence using locks","body":"<p>I am trying to run 4 threads in sequence like 4 -&gt; 3 -&gt; 2 -&gt; 1.\nAnd I am using int threadId and AtomicInteger to validate if the current thread is eligible to run or not.\nBut the 4th thread starts and the execution gets stuck, I am not getting why the thread 3, 2 and 1 are not getting a chance to run.</p>\n<p>Here is what I did:</p>\n<pre><code>public class SequenceDemo implements Runnable{\n    \n    int threadId;\n    static AtomicInteger currentThread = new AtomicInteger(4);\n    ReentrantLock lock;\n    Condition condition;\n    \n    public SequenceDemo( ReentrantLock lock, Condition condition) {\n        this.lock = lock;\n        this.condition = condition;\n    }\n    \n    @Override\n    public void run() {\n        try {\n            lock.lock();\n            threadId = Integer.parseInt(Thread.currentThread().getName());\n            while(currentThread.get()!=threadId) {\n                condition.await();\n            }\n            \n            System.out.println(&quot;Thread &quot;+Thread.currentThread().getName()+&quot; started executing&quot;);\n            Thread.sleep(1000);\n            System.out.println(&quot;Thread &quot;+Thread.currentThread().getName()+&quot; finished executing&quot;);\n            \n            currentThread.decrementAndGet();\n            condition.signalAll();\n            \n        } catch (Exception e) {\n            e.printStackTrace();\n        } finally {\n            lock.unlock();\n        }\n    }\n\n    public static void main(String[] args) {\n        \n        ReentrantLock lock = new ReentrantLock();\n        Condition condition = lock.newCondition();\n        \n        SequenceDemo demo1 = new SequenceDemo(lock, condition);\n        \n        Thread t1 = new Thread(demo1, &quot;1&quot;);\n        Thread t2 = new Thread(demo1, &quot;2&quot;);\n        Thread t3 = new Thread(demo1, &quot;3&quot;);\n        Thread t4 = new Thread(demo1, &quot;4&quot;);\n        \n        t1.start();\n        t2.start();\n        t3.start();\n        t4.start();\n        \n    }\n}\n\n</code></pre>\n<p>output: Execution gets stuck after execution of thread 4:</p>\n<pre><code>Thread 4 started executing\nThread 4 finished executing\n\n</code></pre>\n"},{"tags":["java","mysql","spring-boot","hikaricp"],"owner":{"account_id":10036927,"reputation":28,"user_id":7421178,"display_name":"Brahim B."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":832,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1666341956,"creation_date":1666275507,"question_id":74141444,"body_markdown":"I have a spring boot application using hikari and a Mysql database.  \r\nThere is my hikari configuration : \r\n\r\n```\r\nHikariPool-1 - configuration:\r\nallowPoolSuspension.............false\r\nautoCommit......................true\r\ncatalog.........................none\r\nconnectionInitSql...............none\r\nconnectionTestQuery.............none\r\nconnectionTimeout...............300000\r\ndataSource......................none\r\ndataSourceClassName.............none\r\ndataSourceJNDI..................none\r\ndataSourceProperties............{password=&lt;masked&gt;}\r\ndriverClassName.................&quot;org.mariadb.jdbc.Driver&quot;\r\nexceptionOverrideClassName......none\r\nhealthCheckProperties...........{}\r\nhealthCheckRegistry.............none\r\nidleTimeout.....................600000\r\ninitializationFailTimeout.......1\r\nisolateInternalQueries..........false\r\njdbcUrl.........................jdbc:mysql://mydatabase?rewriteBatchedStatements=true\r\nleakDetectionThreshold..........0\r\nmaxLifetime.....................27000000\r\nmaximumPoolSize.................70\r\nmetricRegistry..................none\r\nmetricsTrackerFactory...........none\r\nminimumIdle.....................20\r\npassword........................&lt;masked&gt;\r\npoolName........................&quot;HikariPool-1&quot;\r\nreadOnly........................false\r\nregisterMbeans..................false\r\nscheduledExecutor...............none\r\nschema..........................none\r\nthreadFactory...................internal\r\ntransactionIsolation............default\r\nusername........................&quot;user_name&quot;\r\nvalidationTimeout...............10000\r\n\r\n```\r\n\r\n\r\n\r\nThere is my database configuration :\r\n\r\n    wait_timeout\t28800\r\n    interactive_timeout\t28800\r\n    innodb_lock_wait_timeout\t180\r\n    connect_timeout\t10\r\n\r\nI keep getting this error and I don&#39;t understand why : \r\n\r\n```\r\n2022-10-20 14:39:37,465 WARN c8c20a5b-7877-4830-bac8-ece994ae84e5 c.z.h.p.ProxyConnection: HikariPool-1 - Connection org.mariadb.jdbc.MariaDbConnection@5737d116 marked as broken because of SQLSTATE(08000), ErrorCode(0)\r\njava.sql.SQLNonTransientConnectionException: (conn=10076858) Connexion termin&#233;e par expiration du d&#233;lai d&#39;attente (Read failed)\r\n        at org.mariadb.jdbc.internal.util.exceptions.ExceptionFactory.createException(ExceptionFactory.java:73)\r\n        at org.mariadb.jdbc.internal.util.exceptions.ExceptionFactory.create(ExceptionFactory.java:153)\r\n        at org.mariadb.jdbc.MariaDbStatement.executeExceptionEpilogue(MariaDbStatement.java:274)\r\n        at org.mariadb.jdbc.MariaDbStatement.executeInternal(MariaDbStatement.java:363)\r\n        at org.mariadb.jdbc.MariaDbStatement.execute(MariaDbStatement.java:501)\r\n        at org.mariadb.jdbc.MariaDbConnection.commit(MariaDbConnection.java:721)\r\n        at com.zaxxer.hikari.pool.ProxyConnection.commit(ProxyConnection.java:387)\r\n        at com.zaxxer.hikari.pool.HikariProxyConnection.commit(HikariProxyConnection.java)\r\n        at org.hibernate.resource.jdbc.internal.AbstractLogicalConnectionImplementor.commit(AbstractLogicalConnectionImplementor.java:86)\r\n        at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:282)\r\n        at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)\r\n        at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:562)\r\n        at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:743)\r\n        at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:711)\r\n        at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:654)\r\n        at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:407)\r\n        at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)\r\n        at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:692)\r\n````\r\n\r\nThe connection **5737d116** referenced in the stacktrace has been created just 2 hours before :\r\n\r\n```\r\n2022-10-20 12:37:30,333 DEBUG   c.z.h.p.HikariPool: HikariPool-1 - Added connection org.mariadb.jdbc.MariaDbConnection@5737d116\r\n```\r\nAnd here is the state of the pool of connection just before the exception occured :\r\n\r\n```\r\n2022-10-20 14:39:00,600 DEBUG   c.z.h.p.HikariPool: HikariPool-1 - Before cleanup stats (total=21, active=1, idle=20, waiting=0)\r\n2022-10-20 14:39:00,601 DEBUG   c.z.h.p.HikariPool: HikariPool-1 - After cleanup  stats (total=21, active=1, idle=20, waiting=0)\r\n2022-10-20 14:39:00,601 DEBUG   c.z.h.p.HikariPool: HikariPool-1 - Fill pool skipped, pool is at sufficient level.\r\n2022-10-20 14:39:02,197 DEBUG   c.z.h.p.HikariPool: HikariPool-2 - Before cleanup stats (total=20, active=0, idle=20, waiting=0)\r\n2022-10-20 14:39:02,197 DEBUG   c.z.h.p.HikariPool: HikariPool-2 - After cleanup  stats (total=20, active=0, idle=20, waiting=0)\r\n2022-10-20 14:39:02,197 DEBUG   c.z.h.p.HikariPool: HikariPool-2 - Fill pool skipped, pool is at sufficient level.\r\n2022-10-20 14:39:30,601 DEBUG   c.z.h.p.HikariPool: HikariPool-1 - Before cleanup stats (total=21, active=1, idle=20, waiting=0)\r\n2022-10-20 14:39:30,601 DEBUG   c.z.h.p.HikariPool: HikariPool-1 - After cleanup  stats (total=21, active=1, idle=20, waiting=0)\r\n2022-10-20 14:39:30,601 DEBUG   c.z.h.p.HikariPool: HikariPool-1 - Fill pool skipped, pool is at sufficient level.\r\n2022-10-20 14:39:32,198 DEBUG   c.z.h.p.HikariPool: HikariPool-2 - Before cleanup stats (total=20, active=0, idle=20, waiting=0)\r\n2022-10-20 14:39:32,198 DEBUG   c.z.h.p.HikariPool: HikariPool-2 - After cleanup  stats (total=20, active=0, idle=20, waiting=0)\r\n```\r\n\r\nThanks in advance for your help\r\n","title":"Connection marked as broken because of SQLSTATE(08000), ErrorCode(0)","body":"<p>I have a spring boot application using hikari and a Mysql database.<br />\nThere is my hikari configuration :</p>\n<pre><code>HikariPool-1 - configuration:\nallowPoolSuspension.............false\nautoCommit......................true\ncatalog.........................none\nconnectionInitSql...............none\nconnectionTestQuery.............none\nconnectionTimeout...............300000\ndataSource......................none\ndataSourceClassName.............none\ndataSourceJNDI..................none\ndataSourceProperties............{password=&lt;masked&gt;}\ndriverClassName.................&quot;org.mariadb.jdbc.Driver&quot;\nexceptionOverrideClassName......none\nhealthCheckProperties...........{}\nhealthCheckRegistry.............none\nidleTimeout.....................600000\ninitializationFailTimeout.......1\nisolateInternalQueries..........false\njdbcUrl.........................jdbc:mysql://mydatabase?rewriteBatchedStatements=true\nleakDetectionThreshold..........0\nmaxLifetime.....................27000000\nmaximumPoolSize.................70\nmetricRegistry..................none\nmetricsTrackerFactory...........none\nminimumIdle.....................20\npassword........................&lt;masked&gt;\npoolName........................&quot;HikariPool-1&quot;\nreadOnly........................false\nregisterMbeans..................false\nscheduledExecutor...............none\nschema..........................none\nthreadFactory...................internal\ntransactionIsolation............default\nusername........................&quot;user_name&quot;\nvalidationTimeout...............10000\n\n</code></pre>\n<p>There is my database configuration :</p>\n<pre><code>wait_timeout    28800\ninteractive_timeout 28800\ninnodb_lock_wait_timeout    180\nconnect_timeout 10\n</code></pre>\n<p>I keep getting this error and I don't understand why :</p>\n<pre><code>2022-10-20 14:39:37,465 WARN c8c20a5b-7877-4830-bac8-ece994ae84e5 c.z.h.p.ProxyConnection: HikariPool-1 - Connection org.mariadb.jdbc.MariaDbConnection@5737d116 marked as broken because of SQLSTATE(08000), ErrorCode(0)\njava.sql.SQLNonTransientConnectionException: (conn=10076858) Connexion terminée par expiration du délai d'attente (Read failed)\n        at org.mariadb.jdbc.internal.util.exceptions.ExceptionFactory.createException(ExceptionFactory.java:73)\n        at org.mariadb.jdbc.internal.util.exceptions.ExceptionFactory.create(ExceptionFactory.java:153)\n        at org.mariadb.jdbc.MariaDbStatement.executeExceptionEpilogue(MariaDbStatement.java:274)\n        at org.mariadb.jdbc.MariaDbStatement.executeInternal(MariaDbStatement.java:363)\n        at org.mariadb.jdbc.MariaDbStatement.execute(MariaDbStatement.java:501)\n        at org.mariadb.jdbc.MariaDbConnection.commit(MariaDbConnection.java:721)\n        at com.zaxxer.hikari.pool.ProxyConnection.commit(ProxyConnection.java:387)\n        at com.zaxxer.hikari.pool.HikariProxyConnection.commit(HikariProxyConnection.java)\n        at org.hibernate.resource.jdbc.internal.AbstractLogicalConnectionImplementor.commit(AbstractLogicalConnectionImplementor.java:86)\n        at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:282)\n        at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)\n        at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:562)\n        at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:743)\n        at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:711)\n        at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:654)\n        at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:407)\n        at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)\n        at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:692)\n</code></pre>\n<p>The connection <strong>5737d116</strong> referenced in the stacktrace has been created just 2 hours before :</p>\n<pre><code>2022-10-20 12:37:30,333 DEBUG   c.z.h.p.HikariPool: HikariPool-1 - Added connection org.mariadb.jdbc.MariaDbConnection@5737d116\n</code></pre>\n<p>And here is the state of the pool of connection just before the exception occured :</p>\n<pre><code>2022-10-20 14:39:00,600 DEBUG   c.z.h.p.HikariPool: HikariPool-1 - Before cleanup stats (total=21, active=1, idle=20, waiting=0)\n2022-10-20 14:39:00,601 DEBUG   c.z.h.p.HikariPool: HikariPool-1 - After cleanup  stats (total=21, active=1, idle=20, waiting=0)\n2022-10-20 14:39:00,601 DEBUG   c.z.h.p.HikariPool: HikariPool-1 - Fill pool skipped, pool is at sufficient level.\n2022-10-20 14:39:02,197 DEBUG   c.z.h.p.HikariPool: HikariPool-2 - Before cleanup stats (total=20, active=0, idle=20, waiting=0)\n2022-10-20 14:39:02,197 DEBUG   c.z.h.p.HikariPool: HikariPool-2 - After cleanup  stats (total=20, active=0, idle=20, waiting=0)\n2022-10-20 14:39:02,197 DEBUG   c.z.h.p.HikariPool: HikariPool-2 - Fill pool skipped, pool is at sufficient level.\n2022-10-20 14:39:30,601 DEBUG   c.z.h.p.HikariPool: HikariPool-1 - Before cleanup stats (total=21, active=1, idle=20, waiting=0)\n2022-10-20 14:39:30,601 DEBUG   c.z.h.p.HikariPool: HikariPool-1 - After cleanup  stats (total=21, active=1, idle=20, waiting=0)\n2022-10-20 14:39:30,601 DEBUG   c.z.h.p.HikariPool: HikariPool-1 - Fill pool skipped, pool is at sufficient level.\n2022-10-20 14:39:32,198 DEBUG   c.z.h.p.HikariPool: HikariPool-2 - Before cleanup stats (total=20, active=0, idle=20, waiting=0)\n2022-10-20 14:39:32,198 DEBUG   c.z.h.p.HikariPool: HikariPool-2 - After cleanup  stats (total=20, active=0, idle=20, waiting=0)\n</code></pre>\n<p>Thanks in advance for your help</p>\n"},{"tags":["java","pattern-matching","java-19"],"comments":[{"owner":{"account_id":45934,"reputation":203679,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":0,"creation_date":1666340889,"post_id":74150784,"comment_id":130918603,"body_markdown":"What error message do you get?","body":"What error message do you get?"}],"answers":[{"comments":[{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1666342845,"post_id":74151055,"comment_id":130919303,"body_markdown":"indeed! they changed the guards now. thank you.","body":"indeed! they changed the guards now. thank you."}],"tags":[],"owner":{"account_id":10410879,"reputation":120,"user_id":7676306,"display_name":"cvifli"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1666341919,"creation_date":1666341919,"answer_id":74151055,"question_id":74150784,"body_markdown":"You probably should use the `when` clause \r\n```\r\n    static String asString(Object value) {\r\n        return switch (value) {\r\n            // Note the `when` here\r\n            case String s when s.length() &gt; 10 -&gt; &quot;bigger then 10 : &quot; + s;\r\n            case String s -&gt; &quot;less then 10 &quot; + s;\r\n            case Collection&lt;?&gt; c -&gt;  &quot;collection : &quot; + c;\r\n            case null -&gt; &quot;null&quot;;\r\n            default -&gt; value.toString();\r\n        };\r\n    }\r\n```\r\n\r\nReference: https://docs.oracle.com/en/java/javase/19/language/pattern-matching.html#GUID-A5C220F6-F70A-4FE2-ADB8-3B8883A67E8A","title":"jdk-19 pattern switch fails to compile","body":"<p>You probably should use the <code>when</code> clause</p>\n<pre><code>    static String asString(Object value) {\n        return switch (value) {\n            // Note the `when` here\n            case String s when s.length() &gt; 10 -&gt; &quot;bigger then 10 : &quot; + s;\n            case String s -&gt; &quot;less then 10 &quot; + s;\n            case Collection&lt;?&gt; c -&gt;  &quot;collection : &quot; + c;\n            case null -&gt; &quot;null&quot;;\n            default -&gt; value.toString();\n        };\n    }\n</code></pre>\n<p>Reference: <a href=\"https://docs.oracle.com/en/java/javase/19/language/pattern-matching.html#GUID-A5C220F6-F70A-4FE2-ADB8-3B8883A67E8A\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/19/language/pattern-matching.html#GUID-A5C220F6-F70A-4FE2-ADB8-3B8883A67E8A</a></p>\n"}],"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":162,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74151055,"answer_count":1,"score":0,"last_activity_date":1666341919,"creation_date":1666340685,"question_id":74150784,"body_markdown":"I am trying a very simple example with jdk-19 preview of pattern matching:\r\n\r\n\r\n```\r\n    static String asString(Object value) {\r\n        return switch (value) {\r\n            case String s &amp;&amp; s.length() &gt; 10 -&gt; &quot;bigger then 10 : &quot; + s;\r\n            case String s -&gt; &quot;less then 10 &quot; + s;\r\n            case Collection&lt;?&gt; c -&gt;  &quot;collection : &quot; + c;\r\n            case null -&gt; &quot;null&quot;;\r\n            default -&gt; value.toString();\r\n        };\r\n    }\r\n```\r\n\r\nTo my surprise this fails to compile with jdk-19, but works fine with jdk-17. Is this an intentional change or a tiny bug?\r\n\r\nThe error is :\r\n\r\n```\r\nOne.java:13: error: : or -&gt; expected\r\n            case String s &amp;&amp; s.length() &gt; 10 -&gt; &quot;bigger then 10 : &quot; + s;\r\n                         ^\r\nOne.java:13: error: illegal start of expression\r\n            case String s &amp;&amp; s.length() &gt; 10 -&gt; &quot;bigger then 10 : &quot; + s;\r\n                          ^\r\nOne.java:13: error: &#39;;&#39; expected\r\n            case String s &amp;&amp; s.length() &gt; 10 -&gt; &quot;bigger then 10 : &quot; + s;\r\n                                            ^\r\nOne.java:13: error: not a statement\r\n            case String s &amp;&amp; s.length() &gt; 10 -&gt; &quot;bigger then 10 : &quot; + s;\r\n                                                                      ^\r\nNote: One.java uses preview features of Java SE 19.\r\nNote: Recompile with -Xlint:preview for details.\r\n4 errors\r\n```\r\n\r\nAlso `java -version`:\r\n\r\n```\r\nopenjdk version &quot;19&quot; 2022-09-20\r\nOpenJDK Runtime Environment (build 19+37)\r\nOpenJDK 64-Bit Server VM (build 19+37, mixed mode, sharing)\r\n```","title":"jdk-19 pattern switch fails to compile","body":"<p>I am trying a very simple example with jdk-19 preview of pattern matching:</p>\n<pre><code>    static String asString(Object value) {\n        return switch (value) {\n            case String s &amp;&amp; s.length() &gt; 10 -&gt; &quot;bigger then 10 : &quot; + s;\n            case String s -&gt; &quot;less then 10 &quot; + s;\n            case Collection&lt;?&gt; c -&gt;  &quot;collection : &quot; + c;\n            case null -&gt; &quot;null&quot;;\n            default -&gt; value.toString();\n        };\n    }\n</code></pre>\n<p>To my surprise this fails to compile with jdk-19, but works fine with jdk-17. Is this an intentional change or a tiny bug?</p>\n<p>The error is :</p>\n<pre><code>One.java:13: error: : or -&gt; expected\n            case String s &amp;&amp; s.length() &gt; 10 -&gt; &quot;bigger then 10 : &quot; + s;\n                         ^\nOne.java:13: error: illegal start of expression\n            case String s &amp;&amp; s.length() &gt; 10 -&gt; &quot;bigger then 10 : &quot; + s;\n                          ^\nOne.java:13: error: ';' expected\n            case String s &amp;&amp; s.length() &gt; 10 -&gt; &quot;bigger then 10 : &quot; + s;\n                                            ^\nOne.java:13: error: not a statement\n            case String s &amp;&amp; s.length() &gt; 10 -&gt; &quot;bigger then 10 : &quot; + s;\n                                                                      ^\nNote: One.java uses preview features of Java SE 19.\nNote: Recompile with -Xlint:preview for details.\n4 errors\n</code></pre>\n<p>Also <code>java -version</code>:</p>\n<pre><code>openjdk version &quot;19&quot; 2022-09-20\nOpenJDK Runtime Environment (build 19+37)\nOpenJDK 64-Bit Server VM (build 19+37, mixed mode, sharing)\n</code></pre>\n"},{"tags":["java","android-studio","sqliteopenhelper"],"answers":[{"comments":[{"owner":{"account_id":26650806,"reputation":1,"user_id":20265153,"display_name":"festus"},"score":0,"creation_date":1666506352,"post_id":74151040,"comment_id":130950434,"body_markdown":"Thanks @Cosmin I read about shared preferences, and I got my problem solved.","body":"Thanks @Cosmin I read about shared preferences, and I got my problem solved."},{"owner":{"account_id":25959828,"reputation":23,"user_id":19676635,"display_name":"Cosmin Popa"},"score":0,"creation_date":1666541512,"post_id":74151040,"comment_id":130956639,"body_markdown":"You&#39;re welcome. Give a correct message if the post is solved, please. :)","body":"You&#39;re welcome. Give a correct message if the post is solved, please. :)"}],"tags":[],"owner":{"account_id":25959828,"reputation":23,"user_id":19676635,"display_name":"Cosmin Popa"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666341844,"creation_date":1666341844,"answer_id":74151040,"question_id":74149205,"body_markdown":"Try using &quot;shared preferences&quot;. They are used to share data between activities.","title":"How can I view the details of the user who is currently logged in","body":"<p>Try using &quot;shared preferences&quot;. They are used to share data between activities.</p>\n"}],"owner":{"account_id":26650806,"reputation":1,"user_id":20265153,"display_name":"festus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1666341844,"creation_date":1666330929,"question_id":74149205,"body_markdown":"Am developing an android application in java android studio. I need to collect the details of the user who is currently logged in. I don&#39;t seem to find any help online.  I have tried using the code below, but it is not working [[1]: https://i.stack.imgur.com/WZWH2.pnge].\r\n\r\nhttps://i.stack.imgur.com/WZWH2.pnge\r\n\r\nI have added a column in the user details table, called isCurrentUser, in this I am supposed to set it to true once a user logs in. I don&#39;t know how to do that either.\r\n\r\n\r\nI would love some help on this, or a different way to achiev5e the same.\r\n\r\n\r\n\r\n\r\n\r\n  ","title":"How can I view the details of the user who is currently logged in","body":"<p>Am developing an android application in java android studio. I need to collect the details of the user who is currently logged in. I don't seem to find any help online.  I have tried using the code below, but it is not working [[1]: https://i.stack.imgur.com/WZWH2.pnge].</p>\n<p><a href=\"https://i.stack.imgur.com/WZWH2.pnge\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/WZWH2.pnge</a></p>\n<p>I have added a column in the user details table, called isCurrentUser, in this I am supposed to set it to true once a user logs in. I don't know how to do that either.</p>\n<p>I would love some help on this, or a different way to achiev5e the same.</p>\n"},{"tags":["java","json","spring","spring-boot","rest"],"answers":[{"tags":[],"owner":{"account_id":11358426,"reputation":1127,"user_id":8327330,"display_name":"iamgirdhar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666274106,"creation_date":1666272443,"answer_id":74140695,"question_id":74140323,"body_markdown":"You can use `ObjectMapper` to fetch the desired key-value from the `@RequestBody String executor` as:\r\n\r\n   \r\n**Approach Here:**\r\n\r\nThe `@RequestBody`that you are getting from the API is in the object form and using `ObjectMapper` , it will be converted into a Map of attributes as in the API request and we can fetch the desired key-value pair.\r\n\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    Map&lt;String,Object&gt; map = mapper.readValue(executor, new TypeReference&lt;&gt;() {});\r\n    String s = (String) map.get(&quot;executor&quot;);\r\n\r\n\r\n**Added in acceptAssignment method as:**\r\n\r\n\r\n     @Override\r\n      public String acceptAssignment(Integer id, String executor) throws JsonProcessingException {\r\n    \r\n        ObjectMapper mapper = new ObjectMapper();\r\n        Map&lt;String,Object&gt; requestMap = mapper.readValue(executor, new TypeReference&lt;&gt;() {});\r\n        Assignment assignment = assignmentRespository.findById(id).orElse(null);\r\n        assignment.setExecutor((String)requestMap.get(&quot;executor&quot;));\r\n        AssignmentDTO assignmentDTO = assignmentConverter.convertEntityToDto(assignment);\r\n        assignmentRespository.save(assignment);\r\n    \r\n        return assignmentDTO.getExecutor();\r\n      }","title":"Convert object to string Spring Boot rest API","body":"<p>You can use <code>ObjectMapper</code> to fetch the desired key-value from the <code>@RequestBody String executor</code> as:</p>\n<p><strong>Approach Here:</strong></p>\n<p>The <code>@RequestBody</code>that you are getting from the API is in the object form and using <code>ObjectMapper</code> , it will be converted into a Map of attributes as in the API request and we can fetch the desired key-value pair.</p>\n<pre><code>ObjectMapper mapper = new ObjectMapper();\nMap&lt;String,Object&gt; map = mapper.readValue(executor, new TypeReference&lt;&gt;() {});\nString s = (String) map.get(&quot;executor&quot;);\n</code></pre>\n<p><strong>Added in acceptAssignment method as:</strong></p>\n<pre><code> @Override\n  public String acceptAssignment(Integer id, String executor) throws JsonProcessingException {\n\n    ObjectMapper mapper = new ObjectMapper();\n    Map&lt;String,Object&gt; requestMap = mapper.readValue(executor, new TypeReference&lt;&gt;() {});\n    Assignment assignment = assignmentRespository.findById(id).orElse(null);\n    assignment.setExecutor((String)requestMap.get(&quot;executor&quot;));\n    AssignmentDTO assignmentDTO = assignmentConverter.convertEntityToDto(assignment);\n    assignmentRespository.save(assignment);\n\n    return assignmentDTO.getExecutor();\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666341650,"creation_date":1666294542,"answer_id":74145448,"question_id":74140323,"body_markdown":"**TL;DR** - you&#39;re using a `String` containing a JSON-object as if it was an attribute of this JSON-object. The solution it to treat this JSON properly.\r\n\r\n**Note** that you **don&#39;t** need to mess with desirialization manually, let the JSON-converter of the framework do its job.\r\n\r\nAll that you need is a simple POJO:\r\n\r\n    @Getter\r\n    @Setter\r\n    public class AssignmentExecutor {\r\n        private String executor;\r\n    }\r\n\r\nThe above POJO can be automatically translated *in &amp; to* the following of JSON without any effort from your side (owing to the magic of Spring):\r\n\r\n```\r\n{\r\n    &quot;executor&quot;: &quot;Pietje&quot;\r\n}\r\n```\r\n\r\nIt would be automatically parsed to the proper type by a Spring&#39;s message-converter, you only need to specify that you need an `AssignmentExecutor` instead of a plain `String`.\r\n\r\n    @PostMapping(path = &quot;/accept/{id}&quot;)\r\n    public String acceptAssignment(@Valid @PathVariable Integer id,\r\n                                   @RequestBody AssignmentExecutor executor) {\r\n        \r\n        return assignmentService.acceptAssignment(id, executor);\r\n    }\r\n\r\n**Note**\r\n* Introducing this new type would not require any changes in the `Assignment`, executor can still be represented as a `String` field.\r\n* By invoking `orElse(null)` on the optional result, you&#39;re creating a potential problem by depriving the possibility to get a meaningful exception if the data that corresponds to the given `id` was not found. In such a case, your current code would trigger a `NullPointerException` right on the next line. Instead, I would advise providing a suitable exception via [`Optional.orElseThrow()`](https://docs.oracle.com/en/java/javase/17/docs/api//java.base/java/util/Optional.html#orElseThrow(java.util.function.Supplier)).\r\n\r\nA now again all that you need is to return an instance of `AssignmentExecutor` and it would be automatically converted into JSON:\r\n    \r\n    @Override\r\n    public String acceptAssignment(Integer id, AssignmentExecutor executor) {\r\n        Assignment assignment = assignmentRespository.findById(id)\r\n            .orElseThrow(() -&gt; new MyException(&quot;Assignment with id &quot; + id + &quot; was not found&quot;));\r\n        \r\n        assignment.setExecutor(executor.getExecutor());\r\n        assignmentRespository.save(assignment);\r\n        \r\n        return executor;\r\n    }","title":"Convert object to string Spring Boot rest API","body":"<p><strong>TL;DR</strong> - you're using a <code>String</code> containing a JSON-object as if it was an attribute of this JSON-object. The solution it to treat this JSON properly.</p>\n<p><strong>Note</strong> that you <strong>don't</strong> need to mess with desirialization manually, let the JSON-converter of the framework do its job.</p>\n<p>All that you need is a simple POJO:</p>\n<pre><code>@Getter\n@Setter\npublic class AssignmentExecutor {\n    private String executor;\n}\n</code></pre>\n<p>The above POJO can be automatically translated <em>in &amp; to</em> the following of JSON without any effort from your side (owing to the magic of Spring):</p>\n<pre><code>{\n    &quot;executor&quot;: &quot;Pietje&quot;\n}\n</code></pre>\n<p>It would be automatically parsed to the proper type by a Spring's message-converter, you only need to specify that you need an <code>AssignmentExecutor</code> instead of a plain <code>String</code>.</p>\n<pre><code>@PostMapping(path = &quot;/accept/{id}&quot;)\npublic String acceptAssignment(@Valid @PathVariable Integer id,\n                               @RequestBody AssignmentExecutor executor) {\n    \n    return assignmentService.acceptAssignment(id, executor);\n}\n</code></pre>\n<p><strong>Note</strong></p>\n<ul>\n<li>Introducing this new type would not require any changes in the <code>Assignment</code>, executor can still be represented as a <code>String</code> field.</li>\n<li>By invoking <code>orElse(null)</code> on the optional result, you're creating a potential problem by depriving the possibility to get a meaningful exception if the data that corresponds to the given <code>id</code> was not found. In such a case, your current code would trigger a <code>NullPointerException</code> right on the next line. Instead, I would advise providing a suitable exception via <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api//java.base/java/util/Optional.html#orElseThrow(java.util.function.Supplier)\" rel=\"nofollow noreferrer\"><code>Optional.orElseThrow()</code></a>.</li>\n</ul>\n<p>A now again all that you need is to return an instance of <code>AssignmentExecutor</code> and it would be automatically converted into JSON:</p>\n<pre><code>@Override\npublic String acceptAssignment(Integer id, AssignmentExecutor executor) {\n    Assignment assignment = assignmentRespository.findById(id)\n        .orElseThrow(() -&gt; new MyException(&quot;Assignment with id &quot; + id + &quot; was not found&quot;));\n    \n    assignment.setExecutor(executor.getExecutor());\n    assignmentRespository.save(assignment);\n    \n    return executor;\n}\n</code></pre>\n"}],"owner":{"account_id":14049866,"reputation":123,"user_id":10148986,"display_name":"Vercors"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1621,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74145448,"answer_count":2,"score":0,"last_activity_date":1666341650,"creation_date":1666270879,"question_id":74140323,"body_markdown":"I&#39;m receiving an `id` (integer) and a `executor` (String) in my controller (Rest API). However, when looking at my database, I see that the string is being inserted into the database as an object. Example of database entry: \r\n```\r\n{\r\n &#160; &#160;&quot;executor&quot;: &quot;Pietje&quot;\r\n}\r\n```\r\n\r\n*Controller:*\r\n\r\n    @PostMapping(path = &quot;/accept/{id}&quot;)\r\n    public String acceptAssignment(@Valid @PathVariable Integer id, @RequestBody String executor) {\r\n        return assignmentService.acceptAssignment(id, executor);\r\n    }\r\n\r\n*Service implementation:*\r\n\r\n    @Override\r\n    public String acceptAssignment(Integer id, String executor) {\r\n        Assignment assignment = assignmentRespository.findById(id).orElse(null);\r\n        \r\n        assignment.setExecutor(String.valueOf(executor));\r\n        \r\n        AssignmentDTO assignmentDTO = assignmentConverter.convertEntityToDto(assignment);\r\n        \r\n        assignmentRespository.save(assignment);\r\n        \r\n        return assignmentDTO.getExecutor();\r\n    }\r\n\r\nWhat am I doing wrong, and how can I fix it?\r\n\r\nI could pass along the entire DTO instead of just the &#39;executor&#39; value, but that doesn&#39;t seem efficient. As far as I know, the problem is not with the frontend but I could add the React code if necessary.","title":"Convert object to string Spring Boot rest API","body":"<p>I'm receiving an <code>id</code> (integer) and a <code>executor</code> (String) in my controller (Rest API). However, when looking at my database, I see that the string is being inserted into the database as an object. Example of database entry:</p>\n<pre><code>{\n    &quot;executor&quot;: &quot;Pietje&quot;\n}\n</code></pre>\n<p><em>Controller:</em></p>\n<pre><code>@PostMapping(path = &quot;/accept/{id}&quot;)\npublic String acceptAssignment(@Valid @PathVariable Integer id, @RequestBody String executor) {\n    return assignmentService.acceptAssignment(id, executor);\n}\n</code></pre>\n<p><em>Service implementation:</em></p>\n<pre><code>@Override\npublic String acceptAssignment(Integer id, String executor) {\n    Assignment assignment = assignmentRespository.findById(id).orElse(null);\n    \n    assignment.setExecutor(String.valueOf(executor));\n    \n    AssignmentDTO assignmentDTO = assignmentConverter.convertEntityToDto(assignment);\n    \n    assignmentRespository.save(assignment);\n    \n    return assignmentDTO.getExecutor();\n}\n</code></pre>\n<p>What am I doing wrong, and how can I fix it?</p>\n<p>I could pass along the entire DTO instead of just the 'executor' value, but that doesn't seem efficient. As far as I know, the problem is not with the frontend but I could add the React code if necessary.</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1666334337,"post_id":74149007,"comment_id":130916539,"body_markdown":"There are several ways to get the index of the button that was pressed. The best way depends on what you want to do with that index. Does each button (in the list) perform a different action depending on the index of that button? I believe I can offer you an alternative solution to that which you are trying to implement now. Can you provide some background as to why you are using a list of buttons? Does each button have text? Is it the same text for each button? Do the buttons have an icon? Are the icons the same for each button?","body":"There are several ways to get the index of the button that was pressed. The best way depends on what you want to do with that index. Does each button (in the list) perform a different action depending on the index of that button? I believe I can offer you an alternative solution to that which you are trying to implement now. Can you provide some background as to why you are using a list of buttons? Does each button have text? Is it the same text for each button? Do the buttons have an icon? Are the icons the same for each button?"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1666335219,"post_id":74149007,"comment_id":130916790,"body_markdown":"Of-course, simplest solution would be (in method `actionPerformed`): `buttons.indexOf(event.getSource()))` where `buttons` is your `ArrayList` of buttons and `event` is the [`actionPerformed`] method parameter, which is an instance of class `java.awt.event.ActionEvent`.","body":"Of-course, simplest solution would be (in method <code>actionPerformed</code>): <code>buttons.indexOf(event.getSource()))</code> where <code>buttons</code> is your <code>ArrayList</code> of buttons and <code>event</code> is the [<code>actionPerformed</code>] method parameter, which is an instance of class <code>java.awt.event.ActionEvent</code>."}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666341543,"creation_date":1666329142,"answer_id":74149029,"question_id":74149007,"body_markdown":"The actionPerformed() method has the [ActionEvent][1] as parameter.\r\nUse the getSource() method to find out which object fired the event.\r\n\r\nWith that, your ActionListener can look like this (I assume you attach this ActionListener only to JButtons):\r\n\r\n    public void actionPerformed(ActionEvent e) {\r\n        JButton pressedButton = (JButton)e.getSource();\r\n\r\n        // do whatever you need to do with that button\r\n    }\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java/awt/event/ActionEvent.html","title":"How to refer to the object on which an action was performed","body":"<p>The actionPerformed() method has the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java/awt/event/ActionEvent.html\" rel=\"nofollow noreferrer\">ActionEvent</a> as parameter.\nUse the getSource() method to find out which object fired the event.</p>\n<p>With that, your ActionListener can look like this (I assume you attach this ActionListener only to JButtons):</p>\n<pre><code>public void actionPerformed(ActionEvent e) {\n    JButton pressedButton = (JButton)e.getSource();\n\n    // do whatever you need to do with that button\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8049065,"reputation":804,"user_id":6068297,"display_name":"Level_Up"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666336303,"creation_date":1666333415,"answer_id":74149508,"question_id":74149007,"body_markdown":"Here is first solution. In this case you can use the internal ActionEvent getSource() methods \r\n\r\n    private static List&lt;JButton&gt; buttons = new ArrayList&lt;&gt;();\r\n    static class MyButtonListener implements ActionListener {\r\n        @Override\r\n        public void actionPerformed(ActionEvent e) {\r\n            int buttonIndex = buttons.indexOf(e.getSource());\r\n            JButton pressedButton = buttons.get(buttonIndex);\r\n            // buttonIndex and pressedButton. You can do whatever you want\r\n            System.out.println(buttonIndex); // Just for testing\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        JFrame frame = new JFrame(&quot;Test Buttons&quot;);\r\n\r\n        // set frame site\r\n        frame.setMinimumSize(new Dimension(800, 600));\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        for(int i = 0; i&lt; 10; i++)\r\n        {\r\n            JButton btn = new JButton();\r\n            btn.setText(Integer.valueOf(i).toString());// Just to display for testing\r\n            MyButtonListener myListener = new MyButtonListener();\r\n            btn.addActionListener(myListener);\r\n            buttons.add(btn);\r\n            frame.setLayout(new FlowLayout());\r\n            frame.add(btn);\r\n        }\r\n        frame.pack();\r\n        frame.setVisible(true);\r\n    }\r\n\r\n==================================================\r\n\r\nThis is second solution. This time you set the index on the creation of the Button Listener (inside the constructor). Here you use class parameter which will memorize which was the button index. Then when you are using it and it will know already which is the button.\r\n\r\n    private static List&lt;JButton&gt; buttons = new ArrayList&lt;&gt;();\r\n    static class MyButtonListener implements ActionListener {\r\n        int buttonIndex;\r\n        public MyButtonListener(int i) {\r\n            buttonIndex = i;\r\n        }\r\n\r\n        @Override\r\n        public void actionPerformed(ActionEvent e) {\r\n            JButton pressedButton = buttons.get(buttonIndex);\r\n            //... Work here with pressedButton or buttonIndex  \r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        for(int i = 0; i&lt; 10; i++)\r\n        {\r\n            JButton btn = new JButton();\r\n            MyButtonListener myListener = new MyButtonListener(i); //Here set the index in the constructor\r\n            btn.addActionListener(myListener);\r\n            buttons.add(btn);\r\n        }\r\n\r\n    }\r\n\r\nBest of luck to all!","title":"How to refer to the object on which an action was performed","body":"<p>Here is first solution. In this case you can use the internal ActionEvent getSource() methods</p>\n<pre><code>private static List&lt;JButton&gt; buttons = new ArrayList&lt;&gt;();\nstatic class MyButtonListener implements ActionListener {\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        int buttonIndex = buttons.indexOf(e.getSource());\n        JButton pressedButton = buttons.get(buttonIndex);\n        // buttonIndex and pressedButton. You can do whatever you want\n        System.out.println(buttonIndex); // Just for testing\n    }\n}\n\npublic static void main(String[] args) {\n    JFrame frame = new JFrame(&quot;Test Buttons&quot;);\n\n    // set frame site\n    frame.setMinimumSize(new Dimension(800, 600));\n    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    for(int i = 0; i&lt; 10; i++)\n    {\n        JButton btn = new JButton();\n        btn.setText(Integer.valueOf(i).toString());// Just to display for testing\n        MyButtonListener myListener = new MyButtonListener();\n        btn.addActionListener(myListener);\n        buttons.add(btn);\n        frame.setLayout(new FlowLayout());\n        frame.add(btn);\n    }\n    frame.pack();\n    frame.setVisible(true);\n}\n</code></pre>\n<p>==================================================</p>\n<p>This is second solution. This time you set the index on the creation of the Button Listener (inside the constructor). Here you use class parameter which will memorize which was the button index. Then when you are using it and it will know already which is the button.</p>\n<pre><code>private static List&lt;JButton&gt; buttons = new ArrayList&lt;&gt;();\nstatic class MyButtonListener implements ActionListener {\n    int buttonIndex;\n    public MyButtonListener(int i) {\n        buttonIndex = i;\n    }\n\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        JButton pressedButton = buttons.get(buttonIndex);\n        //... Work here with pressedButton or buttonIndex  \n    }\n}\n\npublic static void main(String[] args) {\n    for(int i = 0; i&lt; 10; i++)\n    {\n        JButton btn = new JButton();\n        MyButtonListener myListener = new MyButtonListener(i); //Here set the index in the constructor\n        btn.addActionListener(myListener);\n        buttons.add(btn);\n    }\n\n}\n</code></pre>\n<p>Best of luck to all!</p>\n"}],"owner":{"account_id":26688918,"reputation":1,"user_id":20297779,"display_name":"Jonah Koch"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":205,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1666341543,"creation_date":1666328903,"question_id":74149007,"body_markdown":"I created an `ArrayList` of `JButton`s using a `for` loop, so I don&#39;t have a specific name for each object. In the `actionPerformed()` method, I want to get the index of the button that was just pressed. Using the `this` keyword, it refers to the overall class this is defined in, not the object that was pressed. \r\n```java\r\npublic class Game implements ActionListener\r\n{\t\r\n    public void actionPerformed(ActionEvent event)\r\n    {\r\n\t    int temp = this.buttons.indexOf(this);\r\n    }\r\n}\r\n```","title":"How to refer to the object on which an action was performed","body":"<p>I created an <code>ArrayList</code> of <code>JButton</code>s using a <code>for</code> loop, so I don't have a specific name for each object. In the <code>actionPerformed()</code> method, I want to get the index of the button that was just pressed. Using the <code>this</code> keyword, it refers to the overall class this is defined in, not the object that was pressed.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Game implements ActionListener\n{   \n    public void actionPerformed(ActionEvent event)\n    {\n        int temp = this.buttons.indexOf(this);\n    }\n}\n</code></pre>\n"},{"tags":["java","visual-studio-code","lwjgl","lib"],"answers":[{"tags":[],"owner":{"account_id":26357636,"reputation":11,"user_id":20014387,"display_name":"firestar4204"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664801466,"creation_date":1664801466,"answer_id":73935746,"question_id":73934518,"body_markdown":"You need to add the jar to your classpath.  The classpath is something used by java to find the libraries your program uses.  Java looks in each folder/jar archive to find the class files, because it would be slow if it searched every directory on your computer.  See this question: https://stackoverflow.com/questions/2396493/what-is-a-classpath-and-how-do-i-set-it","title":"Visual studio code cannot find java libraries","body":"<p>You need to add the jar to your classpath.  The classpath is something used by java to find the libraries your program uses.  Java looks in each folder/jar archive to find the class files, because it would be slow if it searched every directory on your computer.  See this question: <a href=\"https://stackoverflow.com/questions/2396493/what-is-a-classpath-and-how-do-i-set-it\">What is a classpath and how do I set it?</a></p>\n"},{"tags":[],"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666341467,"creation_date":1666341467,"answer_id":74150962,"question_id":73934518,"body_markdown":"Add a reference to the package in the following way.\r\n\r\n- Click the plus sign to the right of **Referenced Libraries** under the **JAVA PROJECTS** panel\r\n\r\n   [![enter image description here][1]][1]\r\n\r\n- Select the `.jar` file in the pop-up window.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PAd88.png","title":"Visual studio code cannot find java libraries","body":"<p>Add a reference to the package in the following way.</p>\n<ul>\n<li><p>Click the plus sign to the right of <strong>Referenced Libraries</strong> under the <strong>JAVA PROJECTS</strong> panel</p>\n<p><a href=\"https://i.stack.imgur.com/PAd88.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PAd88.png\" alt=\"enter image description here\" /></a></p>\n</li>\n<li><p>Select the <code>.jar</code> file in the pop-up window.</p>\n</li>\n</ul>\n"}],"owner":{"account_id":2783387,"reputation":187,"user_id":2395428,"display_name":"Razvan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1447,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1666341467,"creation_date":1664795157,"question_id":73934518,"body_markdown":"I&#39;ve setup a Java project in Visual Studio Code. I installed previously a few java extensions :\r\n\r\n[![Extensions][1]][1]\r\n\r\n\r\nand I can create a program that does Hello World.\r\nIn a folder called lib inside the project folder, I copied some jars (lwjgl3) and, although are shown by intellisense when I try to import them, I have an error that says it cannot find the package :\r\n\r\n[![Error][2]][2]\r\n\r\nAnything I missed ?\r\n\r\n  [1]: https://i.stack.imgur.com/payP3.png\r\n  [2]: https://i.stack.imgur.com/6QKuJ.png","title":"Visual studio code cannot find java libraries","body":"<p>I've setup a Java project in Visual Studio Code. I installed previously a few java extensions :</p>\n<p><a href=\"https://i.stack.imgur.com/payP3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/payP3.png\" alt=\"Extensions\" /></a></p>\n<p>and I can create a program that does Hello World.\nIn a folder called lib inside the project folder, I copied some jars (lwjgl3) and, although are shown by intellisense when I try to import them, I have an error that says it cannot find the package :</p>\n<p><a href=\"https://i.stack.imgur.com/6QKuJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6QKuJ.png\" alt=\"Error\" /></a></p>\n<p>Anything I missed ?</p>\n"},{"tags":["java","json","gradle"],"comments":[{"owner":{"account_id":12256412,"reputation":107,"user_id":8945327,"display_name":"CT95"},"score":1,"creation_date":1666365075,"post_id":74150877,"comment_id":130927009,"body_markdown":"One way to solve the problem is to separate the provider classes. As explained here [https://github.com/elastic/elasticsearch-java/pull/63](https://github.com/elastic/elasticsearch-java/pull/63) an implementation is [Eclipse Parsson](https://github.com/eclipse-ee4j/parsson). So introducing this dependency `implementation &#39;org.eclipse.parsson:parsson:1.1.1&#39;` and taking the api `implementation &#39;jakarta.json:jakarta.json-api:2.1.1&#39;` is a working solution.","body":"One way to solve the problem is to separate the provider classes. As explained here <a href=\"https://github.com/elastic/elasticsearch-java/pull/63\" rel=\"nofollow noreferrer\">https://github.com/elastic/elasticsearch-java/pull/63</a> an implementation is <a href=\"https://github.com/eclipse-ee4j/parsson\" rel=\"nofollow noreferrer\">Eclipse Parsson</a>. So introducing this dependency <code>implementation &#39;org.eclipse.parsson:parsson:1.1.1&#39;</code> and taking the api <code>implementation &#39;jakarta.json:jakarta.json-api:2.1.1&#39;</code> is a working solution."},{"owner":{"account_id":5638140,"reputation":649,"user_id":4462975,"display_name":"zajer"},"score":0,"creation_date":1700013117,"post_id":74150877,"comment_id":136602089,"body_markdown":"why don&#39;t you post this as an answer?\nYour comment has helped me solve a similar issue.","body":"why don&#39;t you post this as an answer? Your comment has helped me solve a similar issue."}],"owner":{"account_id":12256412,"reputation":107,"user_id":8945327,"display_name":"CT95"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1083,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666341088,"creation_date":1666341088,"question_id":74150877,"body_markdown":"I am using `jakarta.json` in a modular project built in Eclipse 2022-06 using Gradle. At runtime I get the error\r\n``` \r\nException in thread &quot;main&quot; jakarta.json.JsonException: Provider org.glassfish.json.JsonProviderImpl not found\r\n\tat jakarta.json@2.0.1/jakarta.json.spi.JsonProvider.provider(JsonProvider.java:75)\r\n\tat jakarta.json@2.0.1/jakarta.json.Json.createObjectBuilder(Json.java:275)\r\n\tat mytest/Test2.Main.main(Main.java:10)\r\nCaused by: java.lang.ClassNotFoundException: org.glassfish.json.JsonProviderImpl\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:602)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\r\n\tat java.base/java.lang.Class.forName0(Native Method)\r\n\tat java.base/java.lang.Class.forName(Class.java:340)\r\n\tat jakarta.json@2.0.1/jakarta.json.spi.JsonProvider.provider(JsonProvider.java:72)\r\n\t... 2 more\r\n```\r\nwhich to me looks clear: the implementation classes for json are missing. What I don&#39; understand is why, because they are included in the `jakarta.json` module.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI setup a minimal project to reproduce the error.\r\nHere below my `module-info.java`\r\n```\r\nmodule mytest {\r\n  requires jakarta.json;\r\n}\r\n```\r\n\r\nand `build.gradle`\r\n```\r\nplugins {\r\n  \tid &#39;application&#39;\r\n  \tid &#39;org.javamodularity.moduleplugin&#39; version &#39;1.8.9&#39;\r\n}\r\n\r\napply plugin: &#39;eclipse&#39;\r\n\r\neclipse.classpath.file {\r\n    whenMerged {\r\n        entries.findAll { isModule(it) }.each { it.entryAttributes[&#39;module&#39;] = &#39;true&#39; }\r\n    }\r\n}\r\n\r\nboolean isModule(entry) {\r\n    // filter java 9 modules\r\n    entry.kind == &#39;lib&#39;  // Only libraries can be modules\r\n}\r\napplication {\r\n\tmainModule = &quot;mytest&quot; \r\n    mainClass = &quot;Test2.Main&quot;\r\n}\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\n\r\ndependencies {\r\n\t// https://mvnrepository.com/artifact/org.glassfish/jakarta.json\r\n\timplementation &#39;org.glassfish:jakarta.json:2.0.1&#39;\r\n}\r\n```\r\nCan anybody help please?\r\n\r\n  [1]: https://i.stack.imgur.com/2KYH9.png","title":"How to fix &quot;provider org.glassfish.json.JsonProviderImpl not found&quot; in modular java project with jakarta.json","body":"<p>I am using <code>jakarta.json</code> in a modular project built in Eclipse 2022-06 using Gradle. At runtime I get the error</p>\n<pre><code>Exception in thread &quot;main&quot; jakarta.json.JsonException: Provider org.glassfish.json.JsonProviderImpl not found\n    at jakarta.json@2.0.1/jakarta.json.spi.JsonProvider.provider(JsonProvider.java:75)\n    at jakarta.json@2.0.1/jakarta.json.Json.createObjectBuilder(Json.java:275)\n    at mytest/Test2.Main.main(Main.java:10)\nCaused by: java.lang.ClassNotFoundException: org.glassfish.json.JsonProviderImpl\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:602)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\n    at java.base/java.lang.Class.forName0(Native Method)\n    at java.base/java.lang.Class.forName(Class.java:340)\n    at jakarta.json@2.0.1/jakarta.json.spi.JsonProvider.provider(JsonProvider.java:72)\n    ... 2 more\n</code></pre>\n<p>which to me looks clear: the implementation classes for json are missing. What I don' understand is why, because they are included in the <code>jakarta.json</code> module.</p>\n<p><a href=\"https://i.stack.imgur.com/2KYH9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2KYH9.png\" alt=\"enter image description here\" /></a></p>\n<p>I setup a minimal project to reproduce the error.\nHere below my <code>module-info.java</code></p>\n<pre><code>module mytest {\n  requires jakarta.json;\n}\n</code></pre>\n<p>and <code>build.gradle</code></p>\n<pre><code>plugins {\n    id 'application'\n    id 'org.javamodularity.moduleplugin' version '1.8.9'\n}\n\napply plugin: 'eclipse'\n\neclipse.classpath.file {\n    whenMerged {\n        entries.findAll { isModule(it) }.each { it.entryAttributes['module'] = 'true' }\n    }\n}\n\nboolean isModule(entry) {\n    // filter java 9 modules\n    entry.kind == 'lib'  // Only libraries can be modules\n}\napplication {\n    mainModule = &quot;mytest&quot; \n    mainClass = &quot;Test2.Main&quot;\n}\n\nrepositories {\n    mavenCentral()\n}\n\n\ndependencies {\n    // https://mvnrepository.com/artifact/org.glassfish/jakarta.json\n    implementation 'org.glassfish:jakarta.json:2.0.1'\n}\n</code></pre>\n<p>Can anybody help please?</p>\n"},{"tags":["java","dynamic"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1666340454,"post_id":74148961,"comment_id":130918462,"body_markdown":"Please don&#39;t add tags to titles, that is what the question tags are for.","body":"Please don&#39;t add tags to titles, that is what the question tags are for."}],"answers":[{"comments":[{"owner":{"account_id":19003427,"reputation":1,"user_id":13870538,"display_name":"Mudassarnazar Nagori"},"score":0,"creation_date":1666687920,"post_id":74150849,"comment_id":130990567,"body_markdown":"Thanks for answering but the thing you shared is just to access nested property and  not about getting its full path like address.pin or address.doorNo dynamically.","body":"Thanks for answering but the thing you shared is just to access nested property and  not about getting its full path like address.pin or address.doorNo dynamically."},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1666699415,"post_id":74150849,"comment_id":130994404,"body_markdown":"True, it works one way only. But just thinking of the bottom-up approach, how would you implement it? After all, a POJO does not necessarily know where in memory there are references to itself.","body":"True, it works one way only. But just thinking of the bottom-up approach, how would you implement it? After all, a POJO does not necessarily know where in memory there are references to itself."}],"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666341023,"creation_date":1666341023,"answer_id":74150849,"question_id":74148961,"body_markdown":"Yes, it is possible.\r\n\r\nThe [Apache Commons BeanUtils][1] project is a library capable of that. \r\n\r\nCheck\r\nhttps://commons.apache.org/proper/commons-beanutils/javadocs/v1.9.4/apidocs/org/apache/commons/beanutils/package-summary.html#standard.nested\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-beanutils/","title":"How to get path of a field of a model dynamically from root to leaf","body":"<p>Yes, it is possible.</p>\n<p>The <a href=\"https://commons.apache.org/proper/commons-beanutils/\" rel=\"nofollow noreferrer\">Apache Commons BeanUtils</a> project is a library capable of that.</p>\n<p>Check\n<a href=\"https://commons.apache.org/proper/commons-beanutils/javadocs/v1.9.4/apidocs/org/apache/commons/beanutils/package-summary.html#standard.nested\" rel=\"nofollow noreferrer\">https://commons.apache.org/proper/commons-beanutils/javadocs/v1.9.4/apidocs/org/apache/commons/beanutils/package-summary.html#standard.nested</a></p>\n"}],"owner":{"account_id":19003427,"reputation":1,"user_id":13870538,"display_name":"Mudassarnazar Nagori"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666341023,"creation_date":1666328467,"question_id":74148961,"body_markdown":"I have one requirement in Java where I have a student object. Let us say I am accessing pin using `studentObj.getAddress().getPin();`.\r\nI want to print the path like address.pin for the pin dynamically without using reflection. In a similar way, I want to get path like address.doorNo for the doorNo. Is it possible?\r\n\r\n```java\r\nclass Student {\r\n    private Address address;\r\n    private String name;\r\n}\r\n\r\nclass Address {\r\n    String pin;\r\n    String doorNo;    \r\n}\r\n```\r\n","title":"How to get path of a field of a model dynamically from root to leaf","body":"<p>I have one requirement in Java where I have a student object. Let us say I am accessing pin using <code>studentObj.getAddress().getPin();</code>.\nI want to print the path like address.pin for the pin dynamically without using reflection. In a similar way, I want to get path like address.doorNo for the doorNo. Is it possible?</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Student {\n    private Address address;\n    private String name;\n}\n\nclass Address {\n    String pin;\n    String doorNo;    \n}\n</code></pre>\n"},{"tags":["java","sorting","comparator","string-comparison"],"answers":[{"tags":[],"owner":{"account_id":3206362,"reputation":7086,"user_id":2707363,"accept_rate":58,"display_name":"zenbeni"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1666341012,"creation_date":1666341012,"answer_id":74150847,"question_id":74150684,"body_markdown":"Problems are exponential as you incorporate more mutations and more &quot;choices&quot; in your algorithms.\r\n\r\nYou can check what Sonarcloud thinks about cognitivity complexity and cyclomatic complexity. https://www.sonarsource.com/resources/cognitive-complexity/\r\n\r\nTo put it simply less choices, less state to manage will create more robust code and less bugs. Bringing 2 classes is low on complexity, especially if they don&#39;t depend on anything else. Code volume added should be low. I personally would use 2 classes with 2 implementations that don&#39;t share anything between themselves if possible so there is no if condition in your implementation of your compare function.","title":"Dynamic comparator or 2 separate comparators?","body":"<p>Problems are exponential as you incorporate more mutations and more &quot;choices&quot; in your algorithms.</p>\n<p>You can check what Sonarcloud thinks about cognitivity complexity and cyclomatic complexity. <a href=\"https://www.sonarsource.com/resources/cognitive-complexity/\" rel=\"nofollow noreferrer\">https://www.sonarsource.com/resources/cognitive-complexity/</a></p>\n<p>To put it simply less choices, less state to manage will create more robust code and less bugs. Bringing 2 classes is low on complexity, especially if they don't depend on anything else. Code volume added should be low. I personally would use 2 classes with 2 implementations that don't share anything between themselves if possible so there is no if condition in your implementation of your compare function.</p>\n"}],"owner":{"account_id":11407057,"reputation":387,"user_id":8362224,"display_name":"LagSurfer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74150847,"answer_count":1,"score":0,"last_activity_date":1666341012,"creation_date":1666340266,"question_id":74150684,"body_markdown":"I&#39;m working on a solution including 2 types of sorting based on a property. What do you think which one is a better approach? \r\n\r\n    public class ABComparator implements Comparator&lt;O&gt; {\r\n        \r\n        private final Property property;\r\n        \r\n        public ABComparator(Request request) {\r\n            property = getProperty();\r\n        }\r\n    \r\n        @Override\r\n        public int compare(O o1, O o2) {\r\n    \tif (property.someLogic()) {\r\n    \t\t// 1 first type of sorting\r\n    \t} else. {\r\n    \t\t// another type of sorting\r\n    \t}        \r\n        }\r\n    }\r\n\r\nor is better having 2 classes with their own logic and choosing one in the class where the sort is actually happening?\r\n\r\nThanks\r\n","title":"Dynamic comparator or 2 separate comparators?","body":"<p>I'm working on a solution including 2 types of sorting based on a property. What do you think which one is a better approach?</p>\n<pre><code>public class ABComparator implements Comparator&lt;O&gt; {\n    \n    private final Property property;\n    \n    public ABComparator(Request request) {\n        property = getProperty();\n    }\n\n    @Override\n    public int compare(O o1, O o2) {\n    if (property.someLogic()) {\n        // 1 first type of sorting\n    } else. {\n        // another type of sorting\n    }        \n    }\n}\n</code></pre>\n<p>or is better having 2 classes with their own logic and choosing one in the class where the sort is actually happening?</p>\n<p>Thanks</p>\n"},{"tags":["java","scala","jackson","amazon-sqs","objectmapper"],"answers":[{"comments":[{"owner":{"account_id":7855898,"reputation":1267,"user_id":5937760,"accept_rate":93,"display_name":"sojim2"},"score":0,"creation_date":1666329345,"post_id":74148966,"comment_id":130915565,"body_markdown":"Hmm it says `Type Mismatch. Required: SQSEvent, Found: ObjectMapper` for this line:  `val test = handleRequest(sqs)`","body":"Hmm it says <code>Type Mismatch. Required: SQSEvent, Found: ObjectMapper</code> for this line:  <code>val test = handleRequest(sqs)</code>"},{"owner":{"account_id":5368982,"reputation":895,"user_id":4278032,"display_name":"Moritz"},"score":0,"creation_date":1666329611,"post_id":74148966,"comment_id":130915606,"body_markdown":"Be careful, in the code you posted above you are assigning the `tmp` variable (of type `ObjectMapper`) to `sqs` rather than the return value of `readValue`.","body":"Be careful, in the code you posted above you are assigning the <code>tmp</code> variable (of type <code>ObjectMapper</code>) to <code>sqs</code> rather than the return value of <code>readValue</code>."},{"owner":{"account_id":7855898,"reputation":1267,"user_id":5937760,"accept_rate":93,"display_name":"sojim2"},"score":0,"creation_date":1666329777,"post_id":74148966,"comment_id":130915633,"body_markdown":"Ah scala is strange! Thank you! Changed it to this and it worked `val sqs = {\n      val tmp = new ObjectMapper()\n      tmp.readValue(json, classOf[SQSEvent])\n    }`","body":"Ah scala is strange! Thank you! Changed it to this and it worked <code>val sqs = {       val tmp = new ObjectMapper()       tmp.readValue(json, classOf[SQSEvent])     }</code>"},{"owner":{"account_id":5368982,"reputation":895,"user_id":4278032,"display_name":"Moritz"},"score":0,"creation_date":1666330579,"post_id":74148966,"comment_id":130915747,"body_markdown":"Good to hear, but why use this `tmp` ObjectMapper? You already assigned another one to `mapper`...","body":"Good to hear, but why use this <code>tmp</code> ObjectMapper? You already assigned another one to <code>mapper</code>..."},{"owner":{"account_id":7855898,"reputation":1267,"user_id":5937760,"accept_rate":93,"display_name":"sojim2"},"score":0,"creation_date":1666372682,"post_id":74148966,"comment_id":130929655,"body_markdown":"Whooops, I was testing out different approaches and forgot to remove","body":"Whooops, I was testing out different approaches and forgot to remove"}],"tags":[],"owner":{"account_id":5368982,"reputation":895,"user_id":4278032,"display_name":"Moritz"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666328488,"creation_date":1666328488,"answer_id":74148966,"question_id":74147181,"body_markdown":"Make sure to pass the `SQSEvent` class object to `readValue`. Then things should resolve fine:\r\n\r\n```Scala\r\n  def main(args: String): Unit = {\r\n    val json = &quot;{ \\&quot;prop\\&quot;:\\&quot;value\\&quot;}&quot;\r\n    val mapper = new ObjectMapper()\r\n\r\n    val sqs = mapper.readValue(json, classOf[SQSEvent])\r\n\r\n    val test = handleRequest(sqs: SQSEvent) //JSON Convert to SQS Event\r\n  }\r\n```","title":"Convert JSON to Java object SQSEvent","body":"<p>Make sure to pass the <code>SQSEvent</code> class object to <code>readValue</code>. Then things should resolve fine:</p>\n<pre><code>  def main(args: String): Unit = {\n    val json = &quot;{ \\&quot;prop\\&quot;:\\&quot;value\\&quot;}&quot;\n    val mapper = new ObjectMapper()\n\n    val sqs = mapper.readValue(json, classOf[SQSEvent])\n\n    val test = handleRequest(sqs: SQSEvent) //JSON Convert to SQS Event\n  }\n</code></pre>\n"}],"owner":{"account_id":7855898,"reputation":1267,"user_id":5937760,"accept_rate":93,"display_name":"sojim2"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":792,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74148966,"answer_count":1,"score":0,"last_activity_date":1666340946,"creation_date":1666307198,"question_id":74147181,"body_markdown":"I need to test a method that parses SQS Events, I&#39;d like to be able to convert JSON to SQSEvent to achieve this.\r\n\r\nWhen I tried `ObjectMapper`, I&#39;m getting `Cannot resolve overloaded method &#39;readValue&#39;` on `tmp.readValue(json, SQSEvent)`\r\n\r\nDocumentation on SQSEvent class: https://javadoc.io/static/com.amazonaws/aws-lambda-java-events/2.2.2/com/amazonaws/services/lambda/runtime/events/SQSEvent.html#SQSEvent--\r\n\r\n\r\n      def main(args: String): Unit = {\r\n        val json = &quot;{ \\&quot;prop\\&quot;:\\&quot;value\\&quot;}&quot;\r\n        val mapper = new ObjectMapper()\r\n    \r\n        val sqs = {\r\n          val tmp = new ObjectMapper()\r\n          tmp.readValue(json, SQSEvent)\r\n          tmp\r\n        }\r\n    \r\n        val test = handleRequest(SQSEvent sqs) //JSON Convert to SQS Event\r\n      }","title":"Convert JSON to Java object SQSEvent","body":"<p>I need to test a method that parses SQS Events, I'd like to be able to convert JSON to SQSEvent to achieve this.</p>\n<p>When I tried <code>ObjectMapper</code>, I'm getting <code>Cannot resolve overloaded method 'readValue'</code> on <code>tmp.readValue(json, SQSEvent)</code></p>\n<p>Documentation on SQSEvent class: <a href=\"https://javadoc.io/static/com.amazonaws/aws-lambda-java-events/2.2.2/com/amazonaws/services/lambda/runtime/events/SQSEvent.html#SQSEvent--\" rel=\"nofollow noreferrer\">https://javadoc.io/static/com.amazonaws/aws-lambda-java-events/2.2.2/com/amazonaws/services/lambda/runtime/events/SQSEvent.html#SQSEvent--</a></p>\n<pre><code>  def main(args: String): Unit = {\n    val json = &quot;{ \\&quot;prop\\&quot;:\\&quot;value\\&quot;}&quot;\n    val mapper = new ObjectMapper()\n\n    val sqs = {\n      val tmp = new ObjectMapper()\n      tmp.readValue(json, SQSEvent)\n      tmp\n    }\n\n    val test = handleRequest(SQSEvent sqs) //JSON Convert to SQS Event\n  }\n</code></pre>\n"},{"tags":["linux","java","random"],"comments":[{"owner":{"account_id":1058123,"reputation":541,"user_id":1060378,"accept_rate":90,"display_name":"schroeder"},"score":0,"creation_date":1453909138,"post_id":35050628,"comment_id":57825458,"body_markdown":"I&#39;m not sure this is a security question, but a java internals question.","body":"I&#39;m not sure this is a security question, but a java internals question."},{"owner":{"account_id":180089,"reputation":32736,"user_id":413180,"accept_rate":80,"display_name":"SilverlightFox"},"score":0,"creation_date":1453910432,"post_id":35050628,"comment_id":57825459,"body_markdown":"Were they generated from a newly created instance in both cases?","body":"Were they generated from a newly created instance in both cases?"},{"owner":{"account_id":4433704,"reputation":119,"user_id":3610164,"display_name":"Steve Dodier-Lazaro"},"score":1,"creation_date":1453934707,"post_id":35050628,"comment_id":57825460,"body_markdown":"What if whatever internal storage used to keep this `UUID seed` thingy is a file that is managed via Chef / Puppet / part of a VM snapshot? I think it&#39;s legitimate to ask how this allegedly unique seed is stored and manipulated and whether there is a chance for the ways in which the OS is managed to cause it to be reset to a past value. Equally interesting is the question of whether the PRNG used in Java is likely to loop over a small subset of values, how often and how an attacker would detect that.","body":"What if whatever internal storage used to keep this <code>UUID seed</code> thingy is a file that is managed via Chef / Puppet / part of a VM snapshot? I think it&#39;s legitimate to ask how this allegedly unique seed is stored and manipulated and whether there is a chance for the ways in which the OS is managed to cause it to be reset to a past value. Equally interesting is the question of whether the PRNG used in Java is likely to loop over a small subset of values, how often and how an attacker would detect that."},{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":1,"creation_date":1453942811,"post_id":35050628,"comment_id":57826327,"body_markdown":"You say &quot;a set of 200k UUIDs&quot; -- out of how many?","body":"You say &quot;a set of 200k UUIDs&quot; -- out of how many?"},{"owner":{"account_id":4477301,"reputation":4930,"user_id":3642107,"accept_rate":66,"display_name":"Oliver Hausler"},"score":1,"creation_date":1467344006,"post_id":35050628,"comment_id":63703990,"body_markdown":"I am just seeing exactly the same. I was just running a test `@Test(threadPoolSize = 50, invocationCount = 2)` using `testng`. When I set `invocationCount = 1`, my test runs fine. But when I set it to 2 or more for simultaneous parallel threads, the test failed. I&#39;ve been digging in an realized the ids I generated for my test objects using `UUID.randomUUID()` were exactly the same in all threads. I was able to circumvent this by adding a random delay for each thread. In other words: If threads run exactly at the same time, the UUID being generated is the same in all threads.","body":"I am just seeing exactly the same. I was just running a test <code>@Test(threadPoolSize = 50, invocationCount = 2)</code> using <code>testng</code>. When I set <code>invocationCount = 1</code>, my test runs fine. But when I set it to 2 or more for simultaneous parallel threads, the test failed. I&#39;ve been digging in an realized the ids I generated for my test objects using <code>UUID.randomUUID()</code> were exactly the same in all threads. I was able to circumvent this by adding a random delay for each thread. In other words: If threads run exactly at the same time, the UUID being generated is the same in all threads."}],"answers":[{"comments":[{"owner":{"account_id":307385,"reputation":10049,"user_id":618649,"display_name":"Craig Tullis"},"score":0,"creation_date":1453937420,"post_id":35050629,"comment_id":57825461,"body_markdown":"I was just shocked to discover that I apparently downvoted this answer completely without intending to, and I can&#39;t reverse it because it was too long ago. I must have idly clicked while I was reading. Not that it&#39;s going to negatively impact your 203k reputation score, but sorry, wasn&#39;t intended.","body":"I was just shocked to discover that I apparently downvoted this answer completely without intending to, and I can&#39;t reverse it because it was too long ago. I must have idly clicked while I was reading. Not that it&#39;s going to negatively impact your 203k reputation score, but sorry, wasn&#39;t intended."},{"owner":{"account_id":19184715,"reputation":4772,"user_id":14015737,"display_name":"buddemat"},"score":0,"creation_date":1666340932,"post_id":35050629,"comment_id":130918614,"body_markdown":"@CraigTullis: You can always do a small edit to lift the restriction and then remove the down vote. It should not be a habit but it is one way to reverse a mistake/correct something after it has been changed. I just added a missing word, so if you feel like it, you could probably remove your downvote now. :)","body":"@CraigTullis: You can always do a small edit to lift the restriction and then remove the down vote. It should not be a habit but it is one way to reverse a mistake/correct something after it has been changed. I just added a missing word, so if you feel like it, you could probably remove your downvote now. :)"}],"tags":[],"owner":{"account_id":92852,"reputation":73276,"user_id":254279,"display_name":"Thomas Pornin"},"comment_count":2,"down_vote_count":1,"up_vote_count":20,"is_accepted":false,"score":19,"last_activity_date":1666340870,"creation_date":1453910757,"answer_id":35050629,"question_id":35050628,"body_markdown":"From JDK 1.6 source, indeed, `UUID.randomUUID()` feeds on a `java.util.SecureRandom` instance. If you got a repeated sequence of UUID, then either you got very lucky (or very unlucky, depending on your point of view), or someone played with VM snapshots, or there is something fishy in your Java configuration.\r\n\r\nWhen taking a VM snapshot, you record the complete live state of the machine, processes and RAM included. If there was a live process with an already instantiated `SecureRandom` instance, restoring the snapshot will bring back that state, so the sequence of random values output by that `SecureRandom` will be the same each time a restore occurs, until the `SecureRandom` reseeds itself from `/dev/urandom` (`/dev/urandom` continuously gathers &quot;random&quot; physical events, but these won&#39;t impact the `SecureRandom` state until the next reseeding).\r\n\r\nThe Java configuration may impact `SecureRandom`, in that `SecureRandom` is NOT a PRNG, but a shell around an instance of `SecureRandomSpi` provided by a duly registered cryptographic provider. Sun&#39;s JDK comes with a default implementation that _normally_ feeds on the system&#39;s resources (`/dev/urandom` on Linux). However, this can be configured; lookup the `java.security.egd` system property, and also the `securerandom.source` property in the `java.security` file. The default provider may also be replaced altogether with an alternate implementation that does things differently (and possibly very poorly). See [this answer][1] for some details. Verifying what random source is indeed used can be a bit complex, but you could try launching your process with [strace][2], which will show system calls, hence whether `/dev/random` or `/dev/urandom` is opened at some point.\r\n\r\nIf your Java configuration is fine, _and_ there was no game with VM snapshots, _and_ you are sure that you indeed got the same sequence of UUID as previously, then you really _really_ should have bought a Powerball ticket instead (but I do not honestly believe in this scenario).\r\n\r\n\r\n  [1]: https://security.stackexchange.com/a/14387/655\r\n  [2]: http://linux.die.net/man/1/strace","title":"Repeated set of UUIDs from java&#39;s UUID.randomUUID()","body":"<p>From JDK 1.6 source, indeed, <code>UUID.randomUUID()</code> feeds on a <code>java.util.SecureRandom</code> instance. If you got a repeated sequence of UUID, then either you got very lucky (or very unlucky, depending on your point of view), or someone played with VM snapshots, or there is something fishy in your Java configuration.</p>\n<p>When taking a VM snapshot, you record the complete live state of the machine, processes and RAM included. If there was a live process with an already instantiated <code>SecureRandom</code> instance, restoring the snapshot will bring back that state, so the sequence of random values output by that <code>SecureRandom</code> will be the same each time a restore occurs, until the <code>SecureRandom</code> reseeds itself from <code>/dev/urandom</code> (<code>/dev/urandom</code> continuously gathers &quot;random&quot; physical events, but these won't impact the <code>SecureRandom</code> state until the next reseeding).</p>\n<p>The Java configuration may impact <code>SecureRandom</code>, in that <code>SecureRandom</code> is NOT a PRNG, but a shell around an instance of <code>SecureRandomSpi</code> provided by a duly registered cryptographic provider. Sun's JDK comes with a default implementation that <em>normally</em> feeds on the system's resources (<code>/dev/urandom</code> on Linux). However, this can be configured; lookup the <code>java.security.egd</code> system property, and also the <code>securerandom.source</code> property in the <code>java.security</code> file. The default provider may also be replaced altogether with an alternate implementation that does things differently (and possibly very poorly). See <a href=\"https://security.stackexchange.com/a/14387/655\">this answer</a> for some details. Verifying what random source is indeed used can be a bit complex, but you could try launching your process with <a href=\"http://linux.die.net/man/1/strace\" rel=\"nofollow noreferrer\">strace</a>, which will show system calls, hence whether <code>/dev/random</code> or <code>/dev/urandom</code> is opened at some point.</p>\n<p>If your Java configuration is fine, <em>and</em> there was no game with VM snapshots, <em>and</em> you are sure that you indeed got the same sequence of UUID as previously, then you really <em>really</em> should have bought a Powerball ticket instead (but I do not honestly believe in this scenario).</p>\n"}],"owner":{"display_name":"PJ1"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4958,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":1,"score":6,"last_activity_date":1666340870,"creation_date":1453908583,"question_id":35050628,"body_markdown":"\r\nWe have observed that set of almost 200,000 UUIDs has replayed two months apart, and I&#39;m wondering if anyone has seen anything similar.\r\n\r\nThe UUIDs are generated using UUID.randomUUID().  In digging into this (looking at java source), randomUUID() uses SecureRandom() under the hood, which in turn is using NativePRNG.  It is my understanding that NativePRNG uses /dev/urandom to acquire its seed.  The implication of course is baffling - that somehow /dev/urandom returned the same seed to NativePRNG two months apart.  From what I can tell, once instantiated the PRNG does not re-seed.  This is a long running job which s listening for messages and using a UUID as an ID for it.  The pseudocode is simply:\r\n\r\n&lt;code&gt;\r\n&lt; receive message&gt;\r\nString uuid = UUID.randomUUID().toString();\r\nString fname = h.composeArtifact(uuid);\r\n&lt;save message&gt;\r\n&lt;/code&gt;\r\n\r\nThe OS is Centos 6, on an AWS EC2 instance running JDK1.6.  Is this something that anyone has seen/experienced in the past?  Seems like the kind of thing that should &#39;never happen&#39;...\r\n\r\n","title":"Repeated set of UUIDs from java&#39;s UUID.randomUUID()","body":"<p>We have observed that set of almost 200,000 UUIDs has replayed two months apart, and I'm wondering if anyone has seen anything similar.</p>\n\n<p>The UUIDs are generated using UUID.randomUUID().  In digging into this (looking at java source), randomUUID() uses SecureRandom() under the hood, which in turn is using NativePRNG.  It is my understanding that NativePRNG uses /dev/urandom to acquire its seed.  The implication of course is baffling - that somehow /dev/urandom returned the same seed to NativePRNG two months apart.  From what I can tell, once instantiated the PRNG does not re-seed.  This is a long running job which s listening for messages and using a UUID as an ID for it.  The pseudocode is simply:</p>\n\n<p><code>\n&lt; receive message>\nString uuid = UUID.randomUUID().toString();\nString fname = h.composeArtifact(uuid);\n\n</code></p>\n\n<p>The OS is Centos 6, on an AWS EC2 instance running JDK1.6.  Is this something that anyone has seen/experienced in the past?  Seems like the kind of thing that should 'never happen'...</p>\n"},{"tags":["java","android"],"answers":[{"comments":[{"owner":{"account_id":23128584,"reputation":85,"user_id":17234028,"display_name":"Daniel Hern&#225;ndez"},"score":0,"creation_date":1666285954,"post_id":74143672,"comment_id":130906416,"body_markdown":"I mostly have trouble on how to aproach the service part. I have give it a thought and maybe using a BroadcastReceiver is not the best choice. But rather check if there is any internet connection inside the service that handles the timing, would using `ScheduledThreadPoolExecutor` be a good idea in that case?","body":"I mostly have trouble on how to aproach the service part. I have give it a thought and maybe using a BroadcastReceiver is not the best choice. But rather check if there is any internet connection inside the service that handles the timing, would using <code>ScheduledThreadPoolExecutor</code> be a good idea in that case?"},{"owner":{"account_id":323601,"reputation":2971,"user_id":643716,"accept_rate":92,"display_name":"Eric"},"score":0,"creation_date":1666299525,"post_id":74143672,"comment_id":130910754,"body_markdown":"The BroadcastReceiver will notify the app when the network state changes so you can send up all the offline logs from onReceive. And then in the service that sends the logs, you can check if the device has a network connection to decide whether or not you want to send the log right then or place it in a pending queue. Your service can be as simple as a Retrofit call wrapped in a class, you don&#39;t necessarily need to extend the Service class and use AlarmManager but you can. If the app is open all the time and you want to send the logs at an interval it could be simple java Timer at an interval.","body":"The BroadcastReceiver will notify the app when the network state changes so you can send up all the offline logs from onReceive. And then in the service that sends the logs, you can check if the device has a network connection to decide whether or not you want to send the log right then or place it in a pending queue. Your service can be as simple as a Retrofit call wrapped in a class, you don&#39;t necessarily need to extend the Service class and use AlarmManager but you can. If the app is open all the time and you want to send the logs at an interval it could be simple java Timer at an interval."},{"owner":{"account_id":323601,"reputation":2971,"user_id":643716,"accept_rate":92,"display_name":"Eric"},"score":0,"creation_date":1666299621,"post_id":74143672,"comment_id":130910782,"body_markdown":"For checking network connection in the service https://stackoverflow.com/questions/9570237/android-check-internet-connection","body":"For checking network connection in the service <a href=\"https://stackoverflow.com/questions/9570237/android-check-internet-connection\" title=\"android check internet connection\">stackoverflow.com/questions/9570237/&hellip;</a>"}],"tags":[],"owner":{"account_id":323601,"reputation":2971,"user_id":643716,"accept_rate":92,"display_name":"Eric"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666299540,"creation_date":1666285181,"answer_id":74143672,"question_id":74142491,"body_markdown":"1. In that service that is running each hour, check if the device has a connection. If it doesn&#39;t add the log data to a &quot;pending&quot; queue, otherwise send the log.\r\n\r\n2. When the broadcast receiver notifies a good connection, send all the logs in the queue.\r\n\r\n3. Clear the queue.\r\n\r\nYou could even save the queued logs to Shared Preferences or to a Room database so if the app is closed you could save them and check for a connection and send logs on next startup.","title":"Scheduling tasks while ensuring there is internet connectivity","body":"<ol>\n<li><p>In that service that is running each hour, check if the device has a connection. If it doesn't add the log data to a &quot;pending&quot; queue, otherwise send the log.</p>\n</li>\n<li><p>When the broadcast receiver notifies a good connection, send all the logs in the queue.</p>\n</li>\n<li><p>Clear the queue.</p>\n</li>\n</ol>\n<p>You could even save the queued logs to Shared Preferences or to a Room database so if the app is closed you could save them and check for a connection and send logs on next startup.</p>\n"},{"tags":[],"owner":{"account_id":26681719,"reputation":61,"user_id":20291569,"display_name":"Adin D"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666340773,"creation_date":1666340773,"answer_id":74150802,"question_id":74142491,"body_markdown":"You can use Android WorkManager for scheduling tasks\r\n[WorkManager Codelabs][1]\r\n\r\n\r\n  [1]: https://developer.android.com/codelabs/android-workmanager\r\n\r\nCreate worker class\r\n\r\n    class MyWorker(appContext: Context, workerParams: WorkerParameters) :Worker(appContext, workerParams) {\r\n        override fun doWork(): Result {\r\n            //do task\r\n            return Result.success()\r\n        }\r\n    }\r\n\r\nConsume it\r\n\r\n    val myWorkerRequest: WorkRequest =\r\n                PeriodicWorkRequestBuilder&lt;MyWorker&gt;(10, TimeUnit.SECONDS)\r\n    .setConstraints(Constraints.Builder().setRequiredNetworkType(NetworkType.CONNECTED).build()).build()\r\n                WorkManager.getInstance(requireContext()).enqueue(myWorkerRequest)\r\n\r\n\r\n","title":"Scheduling tasks while ensuring there is internet connectivity","body":"<p>You can use Android WorkManager for scheduling tasks\n<a href=\"https://developer.android.com/codelabs/android-workmanager\" rel=\"nofollow noreferrer\">WorkManager Codelabs</a></p>\n<p>Create worker class</p>\n<pre><code>class MyWorker(appContext: Context, workerParams: WorkerParameters) :Worker(appContext, workerParams) {\n    override fun doWork(): Result {\n        //do task\n        return Result.success()\n    }\n}\n</code></pre>\n<p>Consume it</p>\n<pre><code>val myWorkerRequest: WorkRequest =\n            PeriodicWorkRequestBuilder&lt;MyWorker&gt;(10, TimeUnit.SECONDS)\n.setConstraints(Constraints.Builder().setRequiredNetworkType(NetworkType.CONNECTED).build()).build()\n            WorkManager.getInstance(requireContext()).enqueue(myWorkerRequest)\n</code></pre>\n"}],"owner":{"account_id":23128584,"reputation":85,"user_id":17234028,"display_name":"Daniel Hern&#225;ndez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1666340773,"creation_date":1666279665,"question_id":74142491,"body_markdown":"I want to schedule a post to my API that sends logs every couple hours while ensuring there is an internet connection, so for example if I reach the 2 hours and I dont have internet at that moment, I want to wait until there is, send the request and reset the timer to the current sync hour.\r\n\r\nI have seen this related [issue][1] but doesnt take in consideration the internet connectivity part.\r\n\r\nI extended AppCompatActivity to register a BroadcastReceiver in every activity as so:\r\n\r\n    public class BaseActivity extends AppCompatActivity {\r\n    \r\n        InternetReceiver internetReceiver = new InternetReceiver();\r\n        @Override\r\n        protected void onCreate(@Nullable Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            IntentFilter intentFilter = new IntentFilter(ConnectivityManager.CONNECTIVITY_ACTION);\r\n            registerReceiver(internetReceiver, intentFilter);\r\n        }\r\n    \r\n        @Override\r\n        protected void onDestroy() {\r\n            super.onDestroy();\r\n            unregisterReceiver(internetReceiver);\r\n        }\r\n\r\nAnd my InternetReceiver looks like so:\r\n\r\n    public class InternetReceiver extends BroadcastReceiver {\r\n        @Override\r\n        public void onReceive(Context context, Intent intent) {\r\n            if (ConnectivityManager.CONNECTIVITY_ACTION.equals(intent.getAction())) {\r\n                boolean noConnection = intent.getBooleanExtra(ConnectivityManager.EXTRA_NO_CONNECTIVITY, false);\r\n                if (!noConnection) {\r\n                    // send some data...\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nHow can I achieve this? \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/14376470/scheduling-recurring-task-in-android","title":"Scheduling tasks while ensuring there is internet connectivity","body":"<p>I want to schedule a post to my API that sends logs every couple hours while ensuring there is an internet connection, so for example if I reach the 2 hours and I dont have internet at that moment, I want to wait until there is, send the request and reset the timer to the current sync hour.</p>\n<p>I have seen this related <a href=\"https://stackoverflow.com/questions/14376470/scheduling-recurring-task-in-android\">issue</a> but doesnt take in consideration the internet connectivity part.</p>\n<p>I extended AppCompatActivity to register a BroadcastReceiver in every activity as so:</p>\n<pre><code>public class BaseActivity extends AppCompatActivity {\n\n    InternetReceiver internetReceiver = new InternetReceiver();\n    @Override\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        IntentFilter intentFilter = new IntentFilter(ConnectivityManager.CONNECTIVITY_ACTION);\n        registerReceiver(internetReceiver, intentFilter);\n    }\n\n    @Override\n    protected void onDestroy() {\n        super.onDestroy();\n        unregisterReceiver(internetReceiver);\n    }\n</code></pre>\n<p>And my InternetReceiver looks like so:</p>\n<pre><code>public class InternetReceiver extends BroadcastReceiver {\n    @Override\n    public void onReceive(Context context, Intent intent) {\n        if (ConnectivityManager.CONNECTIVITY_ACTION.equals(intent.getAction())) {\n            boolean noConnection = intent.getBooleanExtra(ConnectivityManager.EXTRA_NO_CONNECTIVITY, false);\n            if (!noConnection) {\n                // send some data...\n            }\n        }\n    }\n}\n</code></pre>\n<p>How can I achieve this?</p>\n"},{"tags":["java","android","design-patterns"],"comments":[{"owner":{"account_id":4192472,"reputation":1728,"user_id":3434763,"display_name":"TheLibrarian"},"score":0,"creation_date":1666351000,"post_id":74150761,"comment_id":130921978,"body_markdown":"If `ClassA` needs something from `ClassB` then `ClassB` shouldn&#39;t be in a different package. The only way how to expose class from a package is by making it `public`.","body":"If <code>ClassA</code> needs something from <code>ClassB</code> then <code>ClassB</code> shouldn&#39;t be in a different package. The only way how to expose class from a package is by making it <code>public</code>."},{"owner":{"account_id":25117461,"reputation":153,"user_id":18966287,"display_name":"Saad Waseem"},"score":0,"creation_date":1666352278,"post_id":74150761,"comment_id":130922375,"body_markdown":"@TheLibrarian Would it be ok, according to convention, to put `ClassB` with `ClassA` if `ClassA` is used only for network calls and `ClassB` uses those network calls to create objects that are then used by developers that use the library?","body":"@TheLibrarian Would it be ok, according to convention, to put <code>ClassB</code> with <code>ClassA</code> if <code>ClassA</code> is used only for network calls and <code>ClassB</code> uses those network calls to create objects that are then used by developers that use the library?"},{"owner":{"account_id":4192472,"reputation":1728,"user_id":3434763,"display_name":"TheLibrarian"},"score":0,"creation_date":1666353399,"post_id":74150761,"comment_id":130922707,"body_markdown":"That&#39;s a very loaded question and there is basically no context to say so but I think what you are basically missing is a public interface(don&#39;t mean code-wise) to those packages. If you want those classes to be self-sufficient, they need to have public ways how to get data in and how to get data out without them knowing where they came from or what someone is gonna do with them.","body":"That&#39;s a very loaded question and there is basically no context to say so but I think what you are basically missing is a public interface(don&#39;t mean code-wise) to those packages. If you want those classes to be self-sufficient, they need to have public ways how to get data in and how to get data out without them knowing where they came from or what someone is gonna do with them."},{"owner":{"account_id":25117461,"reputation":153,"user_id":18966287,"display_name":"Saad Waseem"},"score":0,"creation_date":1666364421,"post_id":74150761,"comment_id":130926838,"body_markdown":"@TheLibrarian Well what I want to achieve is that, the classes can be in the same package but for the sake of organization of different files, I want to have them in separate directories without using packages. I&#39;m not sure if something like that can be achieved.","body":"@TheLibrarian Well what I want to achieve is that, the classes can be in the same package but for the sake of organization of different files, I want to have them in separate directories without using packages. I&#39;m not sure if something like that can be achieved."}],"owner":{"account_id":25117461,"reputation":153,"user_id":18966287,"display_name":"Saad Waseem"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":189,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666340570,"creation_date":1666340570,"question_id":74150761,"body_markdown":"I&#39;m developing a library for Android that I want to distribute but I want to restrict access to some public classes only within the library. The current structure of my library is something like:\r\n\r\n    lib\r\n    |--- pkg1\r\n    |     |---- ClassA\r\n    |\r\n    |--- pkg2\r\n          |---- ClassB\r\nI want to access ClassA from ClassB but I don&#39;t want users to access ClassA. I&#39;ve separated packages based on functionality like network calls, business logic etc. but this hierarchy doesn&#39;t allow me to access classes from other sub-packages in the library if `package-private` modifier is used and with `public` modifier, modules like `app` can access my classes that I want to restrict.\r\n","title":"Restrict access of public classes within library only on Android","body":"<p>I'm developing a library for Android that I want to distribute but I want to restrict access to some public classes only within the library. The current structure of my library is something like:</p>\n<pre><code>lib\n|--- pkg1\n|     |---- ClassA\n|\n|--- pkg2\n      |---- ClassB\n</code></pre>\n<p>I want to access ClassA from ClassB but I don't want users to access ClassA. I've separated packages based on functionality like network calls, business logic etc. but this hierarchy doesn't allow me to access classes from other sub-packages in the library if <code>package-private</code> modifier is used and with <code>public</code> modifier, modules like <code>app</code> can access my classes that I want to restrict.</p>\n"},{"tags":["java","visual-studio-code","gradle"],"comments":[{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1665649677,"post_id":74041576,"comment_id":130750786,"body_markdown":"How do you structure the project? Better to provide more information like file structure etc.","body":"How do you structure the project? Better to provide more information like file structure etc."}],"answers":[{"comments":[{"owner":{"account_id":21219550,"reputation":387,"user_id":15606459,"display_name":"iAmWhy"},"score":0,"creation_date":1665578266,"post_id":74041710,"comment_id":130732980,"body_markdown":"I changed the build.gradle, but the import statement shows the exact same error.","body":"I changed the build.gradle, but the import statement shows the exact same error."}],"tags":[],"owner":{"account_id":5458850,"reputation":85,"user_id":4341547,"display_name":"Idriss Riouak"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665577092,"creation_date":1665577092,"answer_id":74041710,"question_id":74041576,"body_markdown":"You have to specify the local folder in your gradle script:\r\n\r\n    sourceSets.main {\r\n      java {\r\n        srcDir &#39;dir/to/java/src&#39;\r\n      }\r\n      resources {\r\n        srcDir &#39;dir/to/resources/&#39;\r\n      }\r\n      repositories {\r\n        mavenLocal()\r\n        flatDir { dirs &quot;libs&quot; }.   // &lt;---- This is what you want\r\n      }\r\n      dependencies {\r\n        jtds name: &quot;jtds-1.3.1.jar&quot;. // &lt;--- Name of the dependency\r\n      }\r\n    }\r\n\r\n","title":"Import Local Jar to Gradle Project in VSCode","body":"<p>You have to specify the local folder in your gradle script:</p>\n<pre><code>sourceSets.main {\n  java {\n    srcDir 'dir/to/java/src'\n  }\n  resources {\n    srcDir 'dir/to/resources/'\n  }\n  repositories {\n    mavenLocal()\n    flatDir { dirs &quot;libs&quot; }.   // &lt;---- This is what you want\n  }\n  dependencies {\n    jtds name: &quot;jtds-1.3.1.jar&quot;. // &lt;--- Name of the dependency\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":21219550,"reputation":387,"user_id":15606459,"display_name":"iAmWhy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":533,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1666340437,"creation_date":1665576474,"question_id":74041576,"body_markdown":"After adding the dependency of a local jar-file in the build.gradle file (see code below) in VSCode I cannot import classes of it (.class-files).\r\n\r\n```\r\ndependencies {\r\n  implementation files(&#39;libs/jtds-1.3.1.jar&#39;)\r\n}\r\n```\r\nEvery time I try it, I get the following error: &quot;The import net cannot be resolved Java(268435846)&quot;\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nWith IDEs like IntelliJ, the same import does not cause any problems, so no errors are displayed.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4eaQE.png","title":"Import Local Jar to Gradle Project in VSCode","body":"<p>After adding the dependency of a local jar-file in the build.gradle file (see code below) in VSCode I cannot import classes of it (.class-files).</p>\n<pre><code>dependencies {\n  implementation files('libs/jtds-1.3.1.jar')\n}\n</code></pre>\n<p>Every time I try it, I get the following error: &quot;The import net cannot be resolved Java(268435846)&quot;</p>\n<p><a href=\"https://i.stack.imgur.com/4eaQE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4eaQE.png\" alt=\"enter image description here\" /></a></p>\n<p>With IDEs like IntelliJ, the same import does not cause any problems, so no errors are displayed.</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":47312,"reputation":9659,"user_id":140070,"accept_rate":92,"display_name":"IProblemFactory"},"score":1,"creation_date":1347355374,"post_id":12366496,"comment_id":16608768,"body_markdown":"I don&#39;t understand your question... provide some examples","body":"I don&#39;t understand your question... provide some examples"},{"owner":{"account_id":1397413,"reputation":432,"user_id":1326922,"accept_rate":50,"display_name":"NLP JAVA"},"score":0,"creation_date":1347355582,"post_id":12366496,"comment_id":16608853,"body_markdown":"i want to remove the url that are comming with text .","body":"i want to remove the url that are comming with text ."},{"owner":{"account_id":1830957,"reputation":1722,"user_id":1662364,"accept_rate":77,"display_name":"Martin Rohwedder"},"score":0,"creation_date":1347355788,"post_id":12366496,"comment_id":16608942,"body_markdown":"You could maybe check this post - http://stackoverflow.com/questions/8694984/remove-part-of-string","body":"You could maybe check this post - <a href=\"http://stackoverflow.com/questions/8694984/remove-part-of-string\">stackoverflow.com/questions/8694984/remove-part-of-string</a>"},{"owner":{"account_id":1397413,"reputation":432,"user_id":1326922,"accept_rate":50,"display_name":"NLP JAVA"},"score":0,"creation_date":1347355960,"post_id":12366496,"comment_id":16609026,"body_markdown":"@Rohwedder this not working if my text is ending with url because i dont have index number of url.","body":"@Rohwedder this not working if my text is ending with url because i dont have index number of url."},{"owner":{"account_id":1397413,"reputation":432,"user_id":1326922,"accept_rate":50,"display_name":"NLP JAVA"},"score":0,"creation_date":1347356168,"post_id":12366496,"comment_id":16609113,"body_markdown":"@Philipp i have the string like #AssamRiots: Situation calm in Dhubri; curfew relaxed for 2 hours - Daily Bhaskar http://t.co/ocq6RNFI","body":"@Philipp i have the string like #AssamRiots: Situation calm in Dhubri; curfew relaxed for 2 hours - Daily Bhaskar <a href=\"http://t.co/ocq6RNFI\" rel=\"nofollow noreferrer\">t.co/ocq6RNFI</a>"}],"answers":[{"comments":[{"owner":{"account_id":77498,"reputation":390,"user_id":221135,"display_name":"Jaec"},"score":2,"creation_date":1479068528,"post_id":12366679,"comment_id":68392385,"body_markdown":"It must be `yourText.replaceAll(&quot;http.*?\\\\s&quot;, &quot;&quot;);`","body":"It must be <code>yourText.replaceAll(&quot;http.*?\\\\s&quot;, &quot;&quot;);</code>"}],"tags":[],"owner":{"account_id":1192481,"reputation":4568,"user_id":1164954,"accept_rate":77,"display_name":"svz"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1490379962,"creation_date":1347355771,"answer_id":12366679,"question_id":12366496,"body_markdown":"Well, you haven&#39;t provided any info about your text, so with the assumption of your text looking like this: `&quot;Some text here  http://www.example.com some text there&quot;`, you can do this:\r\n\r\n    String yourText = &quot;blah-blah&quot;;\r\n    String cleartext = yourText.replaceAll(&quot;http.*?\\\\s&quot;, &quot; &quot;);\r\n\r\nThis will remove all sequences starting with &quot;http&quot; and up to the first space character.\r\n\r\nYou should read the Javadoc on [String][1] class. It will make things clear for you.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/1.4.2/docs/api/java/lang/String.html &quot;String&quot;","title":"Removing the url from text using java","body":"<p>Well, you haven't provided any info about your text, so with the assumption of your text looking like this: <code>\"Some text here  http://www.example.com some text there\"</code>, you can do this:</p>\n\n<pre><code>String yourText = \"blah-blah\";\nString cleartext = yourText.replaceAll(\"http.*?\\\\s\", \" \");\n</code></pre>\n\n<p>This will remove all sequences starting with \"http\" and up to the first space character.</p>\n\n<p>You should read the Javadoc on <a href=\"http://docs.oracle.com/javase/1.4.2/docs/api/java/lang/String.html\" rel=\"nofollow noreferrer\" title=\"String\">String</a> class. It will make things clear for you.</p>\n"},{"comments":[{"owner":{"account_id":1397413,"reputation":432,"user_id":1326922,"accept_rate":50,"display_name":"NLP JAVA"},"score":0,"creation_date":1347356302,"post_id":12366750,"comment_id":16609175,"body_markdown":"i have string  #AssamRiots: Situation calm in Dhubri; curfew relaxed for 2 hours - Daily Bhaskar http://t.co/ocq6RNFI","body":"i have string  #AssamRiots: Situation calm in Dhubri; curfew relaxed for 2 hours - Daily Bhaskar <a href=\"http://t.co/ocq6RNFI\" rel=\"nofollow noreferrer\">t.co/ocq6RNFI</a>"},{"owner":{"account_id":1777092,"reputation":68282,"user_id":1620671,"accept_rate":87,"display_name":"Philipp"},"score":0,"creation_date":1347356781,"post_id":12366750,"comment_id":16609386,"body_markdown":"The regular expression I posted should also work when the URL is at the end of the message. When there are no whitespaces after the URL, it matches until the end of the message. At least it does on http://regexpal.com/","body":"The regular expression I posted should also work when the URL is at the end of the message. When there are no whitespaces after the URL, it matches until the end of the message. At least it does on <a href=\"http://regexpal.com/\" rel=\"nofollow noreferrer\">regexpal.com</a>"},{"owner":{"account_id":1777092,"reputation":68282,"user_id":1620671,"accept_rate":87,"display_name":"Philipp"},"score":0,"creation_date":1347361375,"post_id":12366750,"comment_id":16611368,"body_markdown":"Why are you asking me when you went with the solution by svz?","body":"Why are you asking me when you went with the solution by svz?"}],"tags":[],"owner":{"account_id":1777092,"reputation":68282,"user_id":1620671,"accept_rate":87,"display_name":"Philipp"},"comment_count":3,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1347356062,"creation_date":1347356062,"answer_id":12366750,"question_id":12366496,"body_markdown":"How do you define URL? You might not just want to filter http:// but also https:// and other protocols like ftp://, rss:// or custom protocols.\r\n\r\nMaybe this regular expression would do the job: \r\n\r\n`[\\S]+://[\\S]+`\r\n\r\nExplanation:\r\n \r\n- one or more non-whitespaces\r\n- followed by the string &quot;://&quot;\r\n- followed by one or more non-whitespaces\r\n\r\n    ","title":"Removing the url from text using java","body":"<p>How do you define URL? You might not just want to filter http:// but also https:// and other protocols like ftp://, rss:// or custom protocols.</p>\n\n<p>Maybe this regular expression would do the job: </p>\n\n<p><code>[\\S]+://[\\S]+</code></p>\n\n<p>Explanation:</p>\n\n<ul>\n<li>one or more non-whitespaces</li>\n<li>followed by the string \"://\"</li>\n<li>followed by one or more non-whitespaces</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":1679818,"reputation":705,"user_id":1544376,"accept_rate":0,"display_name":"Can Uludağ"},"score":0,"creation_date":1454747999,"post_id":12950893,"comment_id":58192276,"body_markdown":"Thanks! Really great solution.","body":"Thanks! Really great solution."},{"owner":{"account_id":6138760,"reputation":2773,"user_id":4786793,"accept_rate":75,"display_name":"Shubham Sharma"},"score":2,"creation_date":1505385820,"post_id":12950893,"comment_id":79396438,"body_markdown":"after 3 to 4 hours i realized that your code is not working","body":"after 3 to 4 hours i realized that your code is not working"}],"tags":[],"owner":{"account_id":1397413,"reputation":432,"user_id":1326922,"accept_rate":50,"display_name":"NLP JAVA"},"comment_count":2,"down_vote_count":0,"up_vote_count":22,"is_accepted":true,"score":22,"last_activity_date":1403179795,"creation_date":1350550973,"answer_id":12950893,"question_id":12366496,"body_markdown":"Input the `String` that contains the url \r\n    \r\n    private String removeUrl(String commentstr)\r\n    \t{\r\n    \t\tString urlPattern = &quot;((https?|ftp|gopher|telnet|file|Unsure|http):((//)|(\\\\\\\\))+[\\\\w\\\\d:#@%/;$()~_?\\\\+-=\\\\\\\\\\\\.&amp;]*)&quot;;\r\n    \t    Pattern p = Pattern.compile(urlPattern,Pattern.CASE_INSENSITIVE);\r\n    \t    Matcher m = p.matcher(commentstr);\r\n    \t    int i = 0;\r\n    \t    while (m.find()) {\r\n    \t    \tcommentstr = commentstr.replaceAll(m.group(i),&quot;&quot;).trim();\r\n    \t        i++;\r\n    \t    }\r\n    \t    return commentstr;\r\n    \t}\r\n\r\n","title":"Removing the url from text using java","body":"<p>Input the <code>String</code> that contains the url </p>\n\n<pre><code>private String removeUrl(String commentstr)\n    {\n        String urlPattern = \"((https?|ftp|gopher|telnet|file|Unsure|http):((//)|(\\\\\\\\))+[\\\\w\\\\d:#@%/;$()~_?\\\\+-=\\\\\\\\\\\\.&amp;]*)\";\n        Pattern p = Pattern.compile(urlPattern,Pattern.CASE_INSENSITIVE);\n        Matcher m = p.matcher(commentstr);\n        int i = 0;\n        while (m.find()) {\n            commentstr = commentstr.replaceAll(m.group(i),\"\").trim();\n            i++;\n        }\n        return commentstr;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2979067,"reputation":429,"user_id":2529478,"display_name":"tick_tack_techie"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1437622698,"creation_date":1437620075,"answer_id":31577408,"question_id":12366496,"body_markdown":"`m.group(0)` should be replaced with an empty string rather than `m.group(i)` where `i` is incremented with every call to `m.find()` as mentioned in one of the answers above. \r\n\r\n\r\n    private String removeUrl(String commentstr)\r\n    {\r\n        String urlPattern = &quot;((https?|ftp|gopher|telnet|file|Unsure|http):((//)|(\\\\\\\\))+[\\\\w\\\\d:#@%/;$()~_?\\\\+-=\\\\\\\\\\\\.&amp;]*)&quot;;\r\n        Pattern p = Pattern.compile(urlPattern,Pattern.CASE_INSENSITIVE);\r\n        Matcher m = p.matcher(commentstr);\r\n        StringBuffer sb = new StringBuffer(commentstr.length);\r\n        while (m.find()) {\r\n            m.appendReplacement(sb, &quot;&quot;);\r\n        }\r\n        return sb.toString();\r\n    }","title":"Removing the url from text using java","body":"<p><code>m.group(0)</code> should be replaced with an empty string rather than <code>m.group(i)</code> where <code>i</code> is incremented with every call to <code>m.find()</code> as mentioned in one of the answers above. </p>\n\n<pre><code>private String removeUrl(String commentstr)\n{\n    String urlPattern = \"((https?|ftp|gopher|telnet|file|Unsure|http):((//)|(\\\\\\\\))+[\\\\w\\\\d:#@%/;$()~_?\\\\+-=\\\\\\\\\\\\.&amp;]*)\";\n    Pattern p = Pattern.compile(urlPattern,Pattern.CASE_INSENSITIVE);\n    Matcher m = p.matcher(commentstr);\n    StringBuffer sb = new StringBuffer(commentstr.length);\n    while (m.find()) {\n        m.appendReplacement(sb, \"\");\n    }\n    return sb.toString();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":532373,"reputation":1592,"user_id":903397,"accept_rate":86,"display_name":"Tooraj Jam"},"score":0,"creation_date":1654503634,"post_id":34884328,"comment_id":128097844,"body_markdown":"Easily call `replace` instead of multiple `replaceAll`.","body":"Easily call <code>replace</code> instead of multiple <code>replaceAll</code>."}],"tags":[],"owner":{"account_id":72659,"reputation":3796,"user_id":209696,"accept_rate":70,"display_name":"John81"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1453228092,"creation_date":1453228092,"answer_id":34884328,"question_id":12366496,"body_markdown":"Note that if your URL contains characters like &amp; and \\ then the answers above will not work because replaceAll can&#39;t handle those characters.  What worked for me was to remove those characters in a new string variable then remove those characters from the results of m.find() and use replaceAll on my new string variable.\r\n\r\n    private String removeUrl(String commentstr)\r\n    {\r\n        // rid of ? and &amp; in urls since replaceAll can&#39;t deal with them\r\n        String commentstr1 = commentstr.replaceAll(&quot;\\\\?&quot;, &quot;&quot;).replaceAll(&quot;\\\\&amp;&quot;, &quot;&quot;);\r\n        \r\n        String urlPattern = &quot;((https?|ftp|gopher|telnet|file|Unsure|http):((//)|(\\\\\\\\))+[\\\\w\\\\d:#@%/;$()~_?\\\\+-=\\\\\\\\\\\\.&amp;]*)&quot;;\r\n        Pattern p = Pattern.compile(urlPattern,Pattern.CASE_INSENSITIVE);\r\n        Matcher m = p.matcher(commentstr);\r\n        int i = 0;\r\n        while (m.find()) {\r\n            commentstr = commentstr1.replaceAll(m.group(i).replaceAll(&quot;\\\\?&quot;, &quot;&quot;).replaceAll(&quot;\\\\&amp;&quot;, &quot;&quot;),&quot;&quot;).trim();\r\n            i++;\r\n        }\r\n        return commentstr;\r\n    }    ","title":"Removing the url from text using java","body":"<p>Note that if your URL contains characters like &amp; and \\ then the answers above will not work because replaceAll can't handle those characters.  What worked for me was to remove those characters in a new string variable then remove those characters from the results of m.find() and use replaceAll on my new string variable.</p>\n\n<pre><code>private String removeUrl(String commentstr)\n{\n    // rid of ? and &amp; in urls since replaceAll can't deal with them\n    String commentstr1 = commentstr.replaceAll(\"\\\\?\", \"\").replaceAll(\"\\\\&amp;\", \"\");\n\n    String urlPattern = \"((https?|ftp|gopher|telnet|file|Unsure|http):((//)|(\\\\\\\\))+[\\\\w\\\\d:#@%/;$()~_?\\\\+-=\\\\\\\\\\\\.&amp;]*)\";\n    Pattern p = Pattern.compile(urlPattern,Pattern.CASE_INSENSITIVE);\n    Matcher m = p.matcher(commentstr);\n    int i = 0;\n    while (m.find()) {\n        commentstr = commentstr1.replaceAll(m.group(i).replaceAll(\"\\\\?\", \"\").replaceAll(\"\\\\&amp;\", \"\"),\"\").trim();\n        i++;\n    }\n    return commentstr;\n}    \n</code></pre>\n"},{"tags":[],"owner":{"account_id":6138760,"reputation":2773,"user_id":4786793,"accept_rate":75,"display_name":"Shubham Sharma"},"comment_count":0,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1505386765,"creation_date":1505386765,"answer_id":46217328,"question_id":12366496,"body_markdown":"If you can move on towards python then you can find much better solution here using these code,\r\n\r\n    import re\r\n    text = &quot;&lt;hello how are you ?&gt; then ftp and mailto and gopher and file ftp://ideone.com/K3Cut rthen you &quot;\r\n    text = re.sub(r&quot;ftp\\S+&quot;, &quot;&quot;, result)\r\n    print(result)\r\n\r\n\r\n\r\n","title":"Removing the url from text using java","body":"<p>If you can move on towards python then you can find much better solution here using these code,</p>\n\n<pre><code>import re\ntext = \"&lt;hello how are you ?&gt; then ftp and mailto and gopher and file ftp://ideone.com/K3Cut rthen you \"\ntext = re.sub(r\"ftp\\S+\", \"\", result)\nprint(result)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1128510,"reputation":153,"user_id":1115160,"display_name":"Mir Saman"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1536499647,"creation_date":1536499647,"answer_id":52244978,"question_id":12366496,"body_markdown":"As @Ev0oD mentioned, the code works perfect except in the following tweet I&#39;m working on:\r\n`RT @_Val83_: The cast of #ThorRagnarok playing &quot;Ragnarok Paper Scissors&quot; #TomHiddleston #MarkRuffalo (https://t.co /k9nYBu3QHu)`\r\n\r\nwhere the token is going to be removed:\r\n`commentstr = commentstr.replaceAll(m.group(i),&quot;&quot;).trim();`\r\n\r\nI have faced the following error:\r\n\r\n`java.util.regex.PatternSyntaxException: Unmatched closing &#39;)&#39; near index 22`\r\n\r\nwhere the `m.group(i)` is `https://t.co /k9nYBu3QHu`)``","title":"Removing the url from text using java","body":"<p>As @Ev0oD mentioned, the code works perfect except in the following tweet I'm working on:\n<code>RT @_Val83_: The cast of #ThorRagnarok playing \"Ragnarok Paper Scissors\" #TomHiddleston #MarkRuffalo (https://t.co /k9nYBu3QHu)</code></p>\n\n<p>where the token is going to be removed:\n<code>commentstr = commentstr.replaceAll(m.group(i),\"\").trim();</code></p>\n\n<p>I have faced the following error:</p>\n\n<p><code>java.util.regex.PatternSyntaxException: Unmatched closing ')' near index 22</code></p>\n\n<p>where the <code>m.group(i)</code> is <code>https://t.co /k9nYBu3QHu</code>)``</p>\n"},{"tags":[],"owner":{"account_id":1968038,"reputation":317,"user_id":1767739,"display_name":"Oleg"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666340412,"creation_date":1666340412,"answer_id":74150725,"question_id":12366496,"body_markdown":"    &quot;Hello https://www.google.com/hello - visit us here!&quot;.replaceAll(&quot;((https?|http):((//)|(\\\\\\\\))+[\\\\w\\\\d:#@%/;$()~_?\\\\+-=\\\\\\\\\\\\.&amp;]*)&quot;, &quot;&quot;);\r\n\r\nwill print:\r\n\r\n    Hello  - visit us here!\r\n\r\nOptionally add a space before &#39;https&#39; and &#39;http&#39; in the regex to strip the space before URL as well.","title":"Removing the url from text using java","body":"<pre><code>&quot;Hello https://www.google.com/hello - visit us here!&quot;.replaceAll(&quot;((https?|http):((//)|(\\\\\\\\))+[\\\\w\\\\d:#@%/;$()~_?\\\\+-=\\\\\\\\\\\\.&amp;]*)&quot;, &quot;&quot;);\n</code></pre>\n<p>will print:</p>\n<pre><code>Hello  - visit us here!\n</code></pre>\n<p>Optionally add a space before 'https' and 'http' in the regex to strip the space before URL as well.</p>\n"}],"owner":{"account_id":1397413,"reputation":432,"user_id":1326922,"accept_rate":50,"display_name":"NLP JAVA"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24555,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":12950893,"answer_count":8,"score":14,"last_activity_date":1666340412,"creation_date":1347355127,"question_id":12366496,"body_markdown":"How to remove the URLs present in text example\r\n\r\n    String str=&quot;Fear psychosis after #AssamRiots - http://www.google.com/LdEbWTgD http://www.yahoo.com/mksVZKBz&quot;;\r\n\r\nusing a regular expression?\r\n\r\nI want to remove all the URLs in the text. But it&#39;s not working, my code is :\r\n\r\n\r\n    String pattern = &quot;(http(.*?)\\\\s)&quot;;\r\n    Pattern pt = Pattern.compile(pattern);\r\n    Matcher namemacher = pt.matcher(input);\r\n    if (namemacher.find()) {\r\n      str=input.replace(namemacher.group(0), &quot;&quot;);\r\n    }\r\n","title":"Removing the url from text using java","body":"<p>How to remove the URLs present in text example</p>\n\n<pre><code>String str=\"Fear psychosis after #AssamRiots - http://www.google.com/LdEbWTgD http://www.yahoo.com/mksVZKBz\";\n</code></pre>\n\n<p>using a regular expression?</p>\n\n<p>I want to remove all the URLs in the text. But it's not working, my code is :</p>\n\n<pre><code>String pattern = \"(http(.*?)\\\\s)\";\nPattern pt = Pattern.compile(pattern);\nMatcher namemacher = pt.matcher(input);\nif (namemacher.find()) {\n  str=input.replace(namemacher.group(0), \"\");\n}\n</code></pre>\n"},{"tags":["java","maven","jenkins","jenkins-plugins","jenkins-job-dsl"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1666335105,"post_id":74149724,"comment_id":130916752,"body_markdown":"Does this answer your question? [Jenkins Build error java.lang.ClassNotFoundException: hudson.remoting.Launcher](https://stackoverflow.com/questions/11556404/jenkins-build-error-java-lang-classnotfoundexception-hudson-remoting-launcher)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/11556404/jenkins-build-error-java-lang-classnotfoundexception-hudson-remoting-launcher\">Jenkins Build error java.lang.ClassNotFoundException: hudson.remoting.Launcher</a>"},{"owner":{"account_id":1387645,"reputation":7926,"user_id":1319284,"accept_rate":69,"display_name":"kutschkem"},"score":0,"creation_date":1666335148,"post_id":74149724,"comment_id":130916764,"body_markdown":"It seems that I can&#39;t upload the picture, so I copied the error message   -  Good, text is better than a screenshot!","body":"It seems that I can&#39;t upload the picture, so I copied the error message   -  Good, text is better than a screenshot!"},{"owner":{"account_id":16925647,"reputation":1,"user_id":12241307,"display_name":"EzjAmeng"},"score":0,"creation_date":1666336407,"post_id":74149724,"comment_id":130917152,"body_markdown":"I&#39;m sorry I don&#39;t know how to reply to comments. What I want to say is that &#39;Jenkins Build error java.lang.ClassNotFoundException: hudson.remoting.Launcher&#39; didn&#39;t solve my problem","body":"I&#39;m sorry I don&#39;t know how to reply to comments. What I want to say is that &#39;Jenkins Build error java.lang.ClassNotFoundException: hudson.remoting.Launcher&#39; didn&#39;t solve my problem"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1666338486,"post_id":74149724,"comment_id":130917796,"body_markdown":"I guess you need to add a few dependencies/configurations to your pom.xml. However, I can&#39;t tell which ones","body":"I guess you need to add a few dependencies/configurations to your pom.xml. However, I can&#39;t tell which ones"},{"owner":{"account_id":16925647,"reputation":1,"user_id":12241307,"display_name":"EzjAmeng"},"score":0,"creation_date":1666341909,"post_id":74149724,"comment_id":130918970,"body_markdown":"For my program, I don&#39;t use any dependencies. If I need to add dependencies or configurations, I have no idea","body":"For my program, I don&#39;t use any dependencies. If I need to add dependencies or configurations, I have no idea"}],"owner":{"account_id":16925647,"reputation":1,"user_id":12241307,"display_name":"EzjAmeng"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":203,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666339632,"creation_date":1666334907,"question_id":74149724,"body_markdown":"Firstly this are my configures\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/s5Z0X.png\r\nIt seems that I can&#39;t upload the picture, so I copied the error message\r\n\r\nmy jdk version is jdk1.8.0_152\r\n\r\nmy maven version is apache-maven-3.6.1-bin\r\n\r\nI can run this program in IDEA\r\n\r\n    public class Main {\r\n        public static void main(String[] args) throws IOException {\r\n            String filePath = &quot;./cifile&quot;;\r\n            File dir = new File(filePath);\r\n            // 一、检查放置文件的文件夹路径是否存在，不存在则创建\r\n            if (!dir.exists()) {\r\n                dir.mkdirs();// mkdirs创建多级目录\r\n            }\r\n            File checkFile = new File(filePath + &quot;/filename.txt&quot;);\r\n            FileWriter writer = null;\r\n            try {\r\n                // 二、检查目标文件是否存在，不存在则创建\r\n                if (!checkFile.exists()) {\r\n                    checkFile.createNewFile();// 创建目标文件\r\n                }\r\n                // 三、向目标文件中写入内容\r\n                // FileWriter(File file, boolean append)，append为true时为追加模式，false或缺省则为覆盖模式\r\n                writer = new FileWriter(checkFile, true);\r\n                writer.append(&quot;my content&quot;);\r\n                writer.flush();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            } finally {\r\n                if (null != writer)\r\n                    writer.close();\r\n            }\r\n        }\r\n    }\r\n\r\nThis program is just a simple write file\r\n\r\nSo there is no configuration in my pom.xml file\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n        &lt;artifactId&gt;citest&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n            &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n        &lt;/properties&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nThe following is my error message\r\n\r\n\r\n    Started by user ameng\r\n    Running as SYSTEM\r\n    Building in workspace C:\\Users\\阿蒙\\.jenkins\\workspace\\test\r\n    Updating http://114.67.219.61:8080/svn/TeamDesigner at revision &#39;2022-10-21T14:20:55.278 +0800&#39; --quiet\r\n    Using sole credentials pengweihao/****** in realm ‘&lt;http://114.67.219.61:8080&gt; VisualSVN Server’\r\n    At revision 3\r\n    \r\n    No changes for http://114.67.219.61:8080/svn/TeamDesigner since the previous build\r\n    Parsing POMs\r\n    Established TCP socket on 64312\r\n    [TeamDesigner] $ &quot;C:\\Program Files\\Java\\jdk1.8.0_152/bin/java&quot; -cp C:\\Users\\阿蒙\\.jenkins\\plugins\\maven-plugin\\WEB-INF\\lib\\maven35-agent-1.14.jar;D:\\apache-maven-3.6.1-bin\\boot\\plexus-classworlds-2.6.0.jar;D:\\apache-maven-3.6.1-bin/conf/logging jenkins.maven3.agent.Maven35Main D:\\apache-maven-3.6.1-bin C:\\Users\\??\\.jenkins\\war\\WEB-INF\\lib\\remoting-4.13.2.jar C:\\Users\\阿蒙\\.jenkins\\plugins\\maven-plugin\\WEB-INF\\lib\\maven35-interceptor-1.14.jar C:\\Users\\阿蒙\\.jenkins\\plugins\\maven-plugin\\WEB-INF\\lib\\maven3-interceptor-commons-1.14.jar 64312\r\n    Exception in thread &quot;main&quot; java.lang.ClassNotFoundException: hudson.remoting.Launcher\r\n    \tat org.codehaus.plexus.classworlds.strategy.SelfFirstStrategy.loadClass(SelfFirstStrategy.java:50)\r\n    \tat org.codehaus.plexus.classworlds.realm.ClassRealm.unsynchronizedLoadClass(ClassRealm.java:271)\r\n    \tat org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass(ClassRealm.java:247)\r\n    \tat org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass(ClassRealm.java:239)\r\n    \tat jenkins.maven3.agent.Maven35Main.main(Maven35Main.java:136)\r\n    \tat jenkins.maven3.agent.Maven35Main.main(Maven35Main.java:66)\r\n    ERROR: ================================================================================\r\n    ERROR: Invalid project setup: Connection reset\r\n    ERROR: [JENKINS-18403][JENKINS-28294] JDK &#39;jdk&#39; not supported to run Maven projects.\r\n    ERROR: Maven projects have to be launched with a Java version greater or equal to the minimum version required by the controller.\r\n    ERROR: Use the Maven JDK Toolchains (plugin) to build your maven project with an older JDK.\r\n    ERROR: Retrying with agent Java and setting compile/test properties to point to C:\\Program Files\\Java\\jdk1.8.0_152.\r\n    ERROR: ================================================================================\r\n    Established TCP socket on 64314\r\n    [TeamDesigner] $ &quot;C:\\Program Files\\Java\\jre1.8.0_152/bin/java&quot; -cp C:\\Users\\阿蒙\\.jenkins\\plugins\\maven-plugin\\WEB-INF\\lib\\maven35-agent-1.14.jar;D:\\apache-maven-3.6.1-bin\\boot\\plexus-classworlds-2.6.0.jar;D:\\apache-maven-3.6.1-bin/conf/logging jenkins.maven3.agent.Maven35Main D:\\apache-maven-3.6.1-bin C:\\Users\\??\\.jenkins\\war\\WEB-INF\\lib\\remoting-4.13.2.jar C:\\Users\\阿蒙\\.jenkins\\plugins\\maven-plugin\\WEB-INF\\lib\\maven35-interceptor-1.14.jar C:\\Users\\阿蒙\\.jenkins\\plugins\\maven-plugin\\WEB-INF\\lib\\maven3-interceptor-commons-1.14.jar 64314\r\n    Exception in thread &quot;main&quot; java.lang.ClassNotFoundException: hudson.remoting.Launcher\r\n    \tat org.codehaus.plexus.classworlds.strategy.SelfFirstStrategy.loadClass(SelfFirstStrategy.java:50)\r\n    \tat org.codehaus.plexus.classworlds.realm.ClassRealm.unsynchronizedLoadClass(ClassRealm.java:271)\r\n    \tat org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass(ClassRealm.java:247)\r\n    \tat org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass(ClassRealm.java:239)\r\n    \tat jenkins.maven3.agent.Maven35Main.main(Maven35Main.java:136)\r\n    \tat jenkins.maven3.agent.Maven35Main.main(Maven35Main.java:66)\r\n    [TeamDesigner] $ cmd.exe /C &quot;D:\\apache-maven-3.6.1-bin\\bin\\mvn.cmd clean package &amp;&amp; exit %%ERRORLEVEL%%&quot;\r\n    [INFO] Scanning for projects...\r\n    [INFO] \r\n    [INFO] -------------------------&lt; org.example:citest &gt;-------------------------\r\n    [INFO] Building citest 1.0-SNAPSHOT\r\n    [INFO] --------------------------------[ jar ]---------------------------------\r\n    [INFO] \r\n    [INFO] --- maven-clean-plugin:2.5:clean (default-clean) @ citest ---\r\n    [INFO] Deleting C:\\Users\\阿蒙\\.jenkins\\workspace\\test\\TeamDesigner\\target\r\n    [INFO] \r\n    [INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ citest ---\r\n    [WARNING] Using platform encoding (GBK actually) to copy filtered resources, i.e. build is platform dependent!\r\n    [INFO] Copying 0 resource\r\n    [INFO] \r\n    [INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ citest ---\r\n    [INFO] Changes detected - recompiling the module!\r\n    [WARNING] File encoding has not been set, using platform encoding GBK, i.e. build is platform dependent!\r\n    [INFO] Compiling 1 source file to C:\\Users\\阿蒙\\.jenkins\\workspace\\test\\TeamDesigner\\target\\classes\r\n    [WARNING] /C:/Users/阿蒙/.jenkins/workspace/test/TeamDesigner/src/main/java/org/example/Main.java:[15,13] 编码GBK的不可映射字符\r\n    [WARNING] /C:/Users/阿蒙/.jenkins/workspace/test/TeamDesigner/src/main/java/org/example/Main.java:[22,18] 编码GBK的不可映射字符\r\n    [WARNING] /C:/Users/阿蒙/.jenkins/workspace/test/TeamDesigner/src/main/java/org/example/Main.java:[26,18] 编码GBK的不可映射字符\r\n    [WARNING] /C:/Users/阿蒙/.jenkins/workspace/test/TeamDesigner/src/main/java/org/example/Main.java:[26,34] 编码GBK的不可映射字符\r\n    [WARNING] /C:/Users/阿蒙/.jenkins/workspace/test/TeamDesigner/src/main/java/org/example/Main.java:[27,93] 编码GBK的不可映射字符\r\n    [INFO] \r\n    [INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ citest ---\r\n    [WARNING] Using platform encoding (GBK actually) to copy filtered resources, i.e. build is platform dependent!\r\n    [INFO] skip non existing resourceDirectory C:\\Users\\阿蒙\\.jenkins\\workspace\\test\\TeamDesigner\\src\\test\\resources\r\n    [INFO] \r\n    [INFO] --- maven-compiler-plugin:3.1:testCompile (default-testCompile) @ citest ---\r\n    [INFO] Nothing to compile - all classes are up to date\r\n    [INFO] \r\n    [INFO] --- maven-surefire-plugin:2.12.4:test (default-test) @ citest ---\r\n    [INFO] No tests to run.\r\n    [INFO] \r\n    [INFO] --- maven-jar-plugin:2.4:jar (default-jar) @ citest ---\r\n    [INFO] Building jar: C:\\Users\\阿蒙\\.jenkins\\workspace\\test\\TeamDesigner\\target\\citest-1.0-SNAPSHOT.jar\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD SUCCESS\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time:  1.156 s\r\n    [INFO] Finished at: 2022-10-21T14:20:59+08:00\r\n    [INFO] ------------------------------------------------------------------------\r\n    ERROR: Failed to parse POMs\r\n    java.net.SocketException: Connection reset\r\n    \tat java.net.SocketInputStream.read(Unknown Source)\r\n    \tat java.net.SocketInputStream.read(Unknown Source)\r\n    \tat java.io.FilterInputStream.read(Unknown Source)\r\n    \tat java.io.BufferedInputStream.fill(Unknown Source)\r\n    \tat java.io.BufferedInputStream.read(Unknown Source)\r\n    \tat hudson.remoting.ChannelBuilder.negotiate(ChannelBuilder.java:457)\r\n    \tat hudson.remoting.ChannelBuilder.build(ChannelBuilder.java:404)\r\n    \tat hudson.slaves.Channels.forProcess(Channels.java:119)\r\n    \tat hudson.maven.AbstractMavenProcessFactory.newProcess(AbstractMavenProcessFactory.java:296)\r\n    \tat hudson.maven.ProcessCache.get(ProcessCache.java:236)\r\n    \tat hudson.maven.MavenModuleSetBuild$MavenModuleSetBuildExecution.doRun(MavenModuleSetBuild.java:802)\r\n    \tat hudson.model.AbstractBuild$AbstractBuildExecution.run(AbstractBuild.java:524)\r\n    \tat hudson.model.Run.execute(Run.java:1897)\r\n    \tat hudson.maven.MavenModuleSetBuild.run(MavenModuleSetBuild.java:543)\r\n    \tat hudson.model.ResourceController.execute(ResourceController.java:101)\r\n    \tat hudson.model.Executor.run(Executor.java:442)\r\n    Finished: FAILURE\r\n\r\nI can&#39;t understand why my jdk can&#39;t support running maven\r\n\r\nSecondly, it is clear that the compilation has been successful and the jar package has also been generated, but why does the final result still fail\r\n\r\nBy the way, I pull files from TortoiseSVN\r\n\r\nRelated links do not solve my problem because I only have one machine working, no msater and slave","title":"I met two unsolvable problems about jenkins","body":"<p>Firstly this are my configures\n<a href=\"https://i.stack.imgur.com/s5Z0X.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>It seems that I can't upload the picture, so I copied the error message</p>\n<p>my jdk version is jdk1.8.0_152</p>\n<p>my maven version is apache-maven-3.6.1-bin</p>\n<p>I can run this program in IDEA</p>\n<pre><code>public class Main {\n    public static void main(String[] args) throws IOException {\n        String filePath = &quot;./cifile&quot;;\n        File dir = new File(filePath);\n        // 一、检查放置文件的文件夹路径是否存在，不存在则创建\n        if (!dir.exists()) {\n            dir.mkdirs();// mkdirs创建多级目录\n        }\n        File checkFile = new File(filePath + &quot;/filename.txt&quot;);\n        FileWriter writer = null;\n        try {\n            // 二、检查目标文件是否存在，不存在则创建\n            if (!checkFile.exists()) {\n                checkFile.createNewFile();// 创建目标文件\n            }\n            // 三、向目标文件中写入内容\n            // FileWriter(File file, boolean append)，append为true时为追加模式，false或缺省则为覆盖模式\n            writer = new FileWriter(checkFile, true);\n            writer.append(&quot;my content&quot;);\n            writer.flush();\n        } catch (IOException e) {\n            e.printStackTrace();\n        } finally {\n            if (null != writer)\n                writer.close();\n        }\n    }\n}\n</code></pre>\n<p>This program is just a simple write file</p>\n<p>So there is no configuration in my pom.xml file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\n    &lt;artifactId&gt;citest&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n    &lt;/properties&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>The following is my error message</p>\n<pre><code>Started by user ameng\nRunning as SYSTEM\nBuilding in workspace C:\\Users\\阿蒙\\.jenkins\\workspace\\test\nUpdating http://114.67.219.61:8080/svn/TeamDesigner at revision '2022-10-21T14:20:55.278 +0800' --quiet\nUsing sole credentials pengweihao/****** in realm ‘&lt;http://114.67.219.61:8080&gt; VisualSVN Server’\nAt revision 3\n\nNo changes for http://114.67.219.61:8080/svn/TeamDesigner since the previous build\nParsing POMs\nEstablished TCP socket on 64312\n[TeamDesigner] $ &quot;C:\\Program Files\\Java\\jdk1.8.0_152/bin/java&quot; -cp C:\\Users\\阿蒙\\.jenkins\\plugins\\maven-plugin\\WEB-INF\\lib\\maven35-agent-1.14.jar;D:\\apache-maven-3.6.1-bin\\boot\\plexus-classworlds-2.6.0.jar;D:\\apache-maven-3.6.1-bin/conf/logging jenkins.maven3.agent.Maven35Main D:\\apache-maven-3.6.1-bin C:\\Users\\??\\.jenkins\\war\\WEB-INF\\lib\\remoting-4.13.2.jar C:\\Users\\阿蒙\\.jenkins\\plugins\\maven-plugin\\WEB-INF\\lib\\maven35-interceptor-1.14.jar C:\\Users\\阿蒙\\.jenkins\\plugins\\maven-plugin\\WEB-INF\\lib\\maven3-interceptor-commons-1.14.jar 64312\nException in thread &quot;main&quot; java.lang.ClassNotFoundException: hudson.remoting.Launcher\n    at org.codehaus.plexus.classworlds.strategy.SelfFirstStrategy.loadClass(SelfFirstStrategy.java:50)\n    at org.codehaus.plexus.classworlds.realm.ClassRealm.unsynchronizedLoadClass(ClassRealm.java:271)\n    at org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass(ClassRealm.java:247)\n    at org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass(ClassRealm.java:239)\n    at jenkins.maven3.agent.Maven35Main.main(Maven35Main.java:136)\n    at jenkins.maven3.agent.Maven35Main.main(Maven35Main.java:66)\nERROR: ================================================================================\nERROR: Invalid project setup: Connection reset\nERROR: [JENKINS-18403][JENKINS-28294] JDK 'jdk' not supported to run Maven projects.\nERROR: Maven projects have to be launched with a Java version greater or equal to the minimum version required by the controller.\nERROR: Use the Maven JDK Toolchains (plugin) to build your maven project with an older JDK.\nERROR: Retrying with agent Java and setting compile/test properties to point to C:\\Program Files\\Java\\jdk1.8.0_152.\nERROR: ================================================================================\nEstablished TCP socket on 64314\n[TeamDesigner] $ &quot;C:\\Program Files\\Java\\jre1.8.0_152/bin/java&quot; -cp C:\\Users\\阿蒙\\.jenkins\\plugins\\maven-plugin\\WEB-INF\\lib\\maven35-agent-1.14.jar;D:\\apache-maven-3.6.1-bin\\boot\\plexus-classworlds-2.6.0.jar;D:\\apache-maven-3.6.1-bin/conf/logging jenkins.maven3.agent.Maven35Main D:\\apache-maven-3.6.1-bin C:\\Users\\??\\.jenkins\\war\\WEB-INF\\lib\\remoting-4.13.2.jar C:\\Users\\阿蒙\\.jenkins\\plugins\\maven-plugin\\WEB-INF\\lib\\maven35-interceptor-1.14.jar C:\\Users\\阿蒙\\.jenkins\\plugins\\maven-plugin\\WEB-INF\\lib\\maven3-interceptor-commons-1.14.jar 64314\nException in thread &quot;main&quot; java.lang.ClassNotFoundException: hudson.remoting.Launcher\n    at org.codehaus.plexus.classworlds.strategy.SelfFirstStrategy.loadClass(SelfFirstStrategy.java:50)\n    at org.codehaus.plexus.classworlds.realm.ClassRealm.unsynchronizedLoadClass(ClassRealm.java:271)\n    at org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass(ClassRealm.java:247)\n    at org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass(ClassRealm.java:239)\n    at jenkins.maven3.agent.Maven35Main.main(Maven35Main.java:136)\n    at jenkins.maven3.agent.Maven35Main.main(Maven35Main.java:66)\n[TeamDesigner] $ cmd.exe /C &quot;D:\\apache-maven-3.6.1-bin\\bin\\mvn.cmd clean package &amp;&amp; exit %%ERRORLEVEL%%&quot;\n[INFO] Scanning for projects...\n[INFO] \n[INFO] -------------------------&lt; org.example:citest &gt;-------------------------\n[INFO] Building citest 1.0-SNAPSHOT\n[INFO] --------------------------------[ jar ]---------------------------------\n[INFO] \n[INFO] --- maven-clean-plugin:2.5:clean (default-clean) @ citest ---\n[INFO] Deleting C:\\Users\\阿蒙\\.jenkins\\workspace\\test\\TeamDesigner\\target\n[INFO] \n[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ citest ---\n[WARNING] Using platform encoding (GBK actually) to copy filtered resources, i.e. build is platform dependent!\n[INFO] Copying 0 resource\n[INFO] \n[INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ citest ---\n[INFO] Changes detected - recompiling the module!\n[WARNING] File encoding has not been set, using platform encoding GBK, i.e. build is platform dependent!\n[INFO] Compiling 1 source file to C:\\Users\\阿蒙\\.jenkins\\workspace\\test\\TeamDesigner\\target\\classes\n[WARNING] /C:/Users/阿蒙/.jenkins/workspace/test/TeamDesigner/src/main/java/org/example/Main.java:[15,13] 编码GBK的不可映射字符\n[WARNING] /C:/Users/阿蒙/.jenkins/workspace/test/TeamDesigner/src/main/java/org/example/Main.java:[22,18] 编码GBK的不可映射字符\n[WARNING] /C:/Users/阿蒙/.jenkins/workspace/test/TeamDesigner/src/main/java/org/example/Main.java:[26,18] 编码GBK的不可映射字符\n[WARNING] /C:/Users/阿蒙/.jenkins/workspace/test/TeamDesigner/src/main/java/org/example/Main.java:[26,34] 编码GBK的不可映射字符\n[WARNING] /C:/Users/阿蒙/.jenkins/workspace/test/TeamDesigner/src/main/java/org/example/Main.java:[27,93] 编码GBK的不可映射字符\n[INFO] \n[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ citest ---\n[WARNING] Using platform encoding (GBK actually) to copy filtered resources, i.e. build is platform dependent!\n[INFO] skip non existing resourceDirectory C:\\Users\\阿蒙\\.jenkins\\workspace\\test\\TeamDesigner\\src\\test\\resources\n[INFO] \n[INFO] --- maven-compiler-plugin:3.1:testCompile (default-testCompile) @ citest ---\n[INFO] Nothing to compile - all classes are up to date\n[INFO] \n[INFO] --- maven-surefire-plugin:2.12.4:test (default-test) @ citest ---\n[INFO] No tests to run.\n[INFO] \n[INFO] --- maven-jar-plugin:2.4:jar (default-jar) @ citest ---\n[INFO] Building jar: C:\\Users\\阿蒙\\.jenkins\\workspace\\test\\TeamDesigner\\target\\citest-1.0-SNAPSHOT.jar\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  1.156 s\n[INFO] Finished at: 2022-10-21T14:20:59+08:00\n[INFO] ------------------------------------------------------------------------\nERROR: Failed to parse POMs\njava.net.SocketException: Connection reset\n    at java.net.SocketInputStream.read(Unknown Source)\n    at java.net.SocketInputStream.read(Unknown Source)\n    at java.io.FilterInputStream.read(Unknown Source)\n    at java.io.BufferedInputStream.fill(Unknown Source)\n    at java.io.BufferedInputStream.read(Unknown Source)\n    at hudson.remoting.ChannelBuilder.negotiate(ChannelBuilder.java:457)\n    at hudson.remoting.ChannelBuilder.build(ChannelBuilder.java:404)\n    at hudson.slaves.Channels.forProcess(Channels.java:119)\n    at hudson.maven.AbstractMavenProcessFactory.newProcess(AbstractMavenProcessFactory.java:296)\n    at hudson.maven.ProcessCache.get(ProcessCache.java:236)\n    at hudson.maven.MavenModuleSetBuild$MavenModuleSetBuildExecution.doRun(MavenModuleSetBuild.java:802)\n    at hudson.model.AbstractBuild$AbstractBuildExecution.run(AbstractBuild.java:524)\n    at hudson.model.Run.execute(Run.java:1897)\n    at hudson.maven.MavenModuleSetBuild.run(MavenModuleSetBuild.java:543)\n    at hudson.model.ResourceController.execute(ResourceController.java:101)\n    at hudson.model.Executor.run(Executor.java:442)\nFinished: FAILURE\n</code></pre>\n<p>I can't understand why my jdk can't support running maven</p>\n<p>Secondly, it is clear that the compilation has been successful and the jar package has also been generated, but why does the final result still fail</p>\n<p>By the way, I pull files from TortoiseSVN</p>\n<p>Related links do not solve my problem because I only have one machine working, no msater and slave</p>\n"},{"tags":["java","android","android-studio","filter","sms"],"answers":[{"tags":[],"owner":{"account_id":1660785,"reputation":6891,"user_id":1529129,"accept_rate":50,"display_name":"Rahul Tiwari"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666339323,"creation_date":1666339323,"answer_id":74150509,"question_id":74130944,"body_markdown":"the way you are trying will not be possible.\r\nRather take any opensource sms app like telegram or chomp sms from github and add functionality you need.","title":"How to pass a text on to the standard android messaging app?","body":"<p>the way you are trying will not be possible.\nRather take any opensource sms app like telegram or chomp sms from github and add functionality you need.</p>\n"}],"owner":{"account_id":26675085,"reputation":3,"user_id":20285960,"display_name":"Fact Smash"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74150509,"answer_count":1,"score":0,"last_activity_date":1666339323,"creation_date":1666208212,"question_id":74130944,"body_markdown":"I am developing an sms text blocking app for android. I have set up my app to be considered the default sms app, but I don&#39;t want to have to develop the UI and systems to handle being a messaging app myself. Does anyone know a way to pass the texts to the original messaging app once I have determined I want it to go through?\r\n\r\nFor reference, here is my code for deciding whether to block an SMS:\r\n```\r\npublic void onReceive(Context context, Intent intent) {\r\n        Bundle bundle = intent.getExtras();\r\n        Object[] pdus = (Object[]) bundle.get(&quot;pdus&quot;);\r\n        final SmsMessage[] messages = new SmsMessage[pdus.length];\r\n        for (int i = 0; i &lt; pdus.length; i++) {\r\n            messages[i] = SmsMessage.createFromPdu((byte[]) pdus[i], (String)bundle.get(&quot;format&quot;));\r\n            long phone = PersistentData.convertNumberToLong(messages[i].getDisplayOriginatingAddress());\r\n   if(PersistentData.contactsContains(phone)){\r\n         if(PersistentData.contactByNumber(phone).getAllowedBy() &lt; 1){\r\n            // Block\r\n         }\r\n         else{\r\n            // Allow\r\n         }\r\n      }\r\n      else if(PersistentData.callContactsContains(phone)){\r\n         if(PersistentData.callContactByNumber(phone).getAllowedBy() &lt; 1){\r\n            // Block\r\n         }\r\n         else{\r\n            // Allow\r\n         }\r\n      }\r\n      else{\r\n         // Block\r\n      }\r\n   }\r\n}\r\n```\r\nThis receiver is set up to receive based on\r\n```\r\n&lt;receiver android:name=&quot;.SMSReceiver&quot;\r\n    android:permission=&quot;android.permission.BROADCAST_SMS&quot;\r\n    android:exported=&quot;true&quot;&gt;\r\n    &lt;intent-filter&gt;\r\n        &lt;action android:name=&quot;android.provider.Telephony.SMS_DELIVER&quot; /&gt;\r\n    &lt;/intent-filter&gt;\r\n&lt;/receiver&gt;\r\n```","title":"How to pass a text on to the standard android messaging app?","body":"<p>I am developing an sms text blocking app for android. I have set up my app to be considered the default sms app, but I don't want to have to develop the UI and systems to handle being a messaging app myself. Does anyone know a way to pass the texts to the original messaging app once I have determined I want it to go through?</p>\n<p>For reference, here is my code for deciding whether to block an SMS:</p>\n<pre><code>public void onReceive(Context context, Intent intent) {\n        Bundle bundle = intent.getExtras();\n        Object[] pdus = (Object[]) bundle.get(&quot;pdus&quot;);\n        final SmsMessage[] messages = new SmsMessage[pdus.length];\n        for (int i = 0; i &lt; pdus.length; i++) {\n            messages[i] = SmsMessage.createFromPdu((byte[]) pdus[i], (String)bundle.get(&quot;format&quot;));\n            long phone = PersistentData.convertNumberToLong(messages[i].getDisplayOriginatingAddress());\n   if(PersistentData.contactsContains(phone)){\n         if(PersistentData.contactByNumber(phone).getAllowedBy() &lt; 1){\n            // Block\n         }\n         else{\n            // Allow\n         }\n      }\n      else if(PersistentData.callContactsContains(phone)){\n         if(PersistentData.callContactByNumber(phone).getAllowedBy() &lt; 1){\n            // Block\n         }\n         else{\n            // Allow\n         }\n      }\n      else{\n         // Block\n      }\n   }\n}\n</code></pre>\n<p>This receiver is set up to receive based on</p>\n<pre><code>&lt;receiver android:name=&quot;.SMSReceiver&quot;\n    android:permission=&quot;android.permission.BROADCAST_SMS&quot;\n    android:exported=&quot;true&quot;&gt;\n    &lt;intent-filter&gt;\n        &lt;action android:name=&quot;android.provider.Telephony.SMS_DELIVER&quot; /&gt;\n    &lt;/intent-filter&gt;\n&lt;/receiver&gt;\n</code></pre>\n"},{"tags":["java","apache-kafka","avro"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1560816917,"post_id":56640003,"comment_id":99851396,"body_markdown":"Confluent already provides Avro serializers for Kafka. Are you trying to write your own?","body":"Confluent already provides Avro serializers for Kafka. Are you trying to write your own?"},{"owner":{"account_id":1333050,"reputation":681,"user_id":1276464,"accept_rate":12,"display_name":"pc70"},"score":0,"creation_date":1560817385,"post_id":56640003,"comment_id":99851485,"body_markdown":"Not using schema registry in my case. Will those work even if schema registry is not used?","body":"Not using schema registry in my case. Will those work even if schema registry is not used?"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1560894810,"post_id":56640003,"comment_id":99884929,"body_markdown":"This should work, although, I don&#39;t see it frequently being done in Kafka.","body":"This should work, although, I don&#39;t see it frequently being done in Kafka."}],"answers":[{"tags":[],"owner":{"account_id":71046,"reputation":11239,"user_id":205528,"display_name":"Kien Truong"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1562318251,"creation_date":1562318251,"answer_id":56900115,"question_id":56640003,"body_markdown":"This is likely due to you having an older version of Avro in your classpath. To check, run your program with the `-verbose:class` parameter and look for instance of `SpecificData` in the output. Example:\n\n     java -verbose:class -jar your_jar.jar","title":"IllegalAccessError: tried to access method org.apache.avro.specific.SpecificData.&lt;init&gt;()","body":"<p>This is likely due to you having an older version of Avro in your classpath. To check, run your program with the <code>-verbose:class</code> parameter and look for instance of <code>SpecificData</code> in the output. Example:</p>\n\n<pre><code> java -verbose:class -jar your_jar.jar\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26690269,"reputation":1,"user_id":20298934,"display_name":"user20298934"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666338949,"creation_date":1666338949,"answer_id":74150441,"question_id":56640003,"body_markdown":"Changing the class loading from parent-first to child-first fixed this for me","title":"IllegalAccessError: tried to access method org.apache.avro.specific.SpecificData.&lt;init&gt;()","body":"<p>Changing the class loading from parent-first to child-first fixed this for me</p>\n"}],"owner":{"account_id":1333050,"reputation":681,"user_id":1276464,"accept_rate":12,"display_name":"pc70"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":794,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1666338949,"creation_date":1560814164,"question_id":56640003,"body_markdown":"Using Avro for serializing data to byte[] and deserializing data. https://cwiki.apache.org/confluence/display/AVRO/FAQ#FAQ-HowcanIserializedirectlyto/fromabytearray? shows sample usage.\r\n\r\n    SpecificDatumReader&lt;User&gt; reader = new SpecificDatumReader&lt;User&gt;(User.getClassSchema());\r\n\r\nThe above line is causing the following error\r\n\r\n    IllegalAccessError: tried to access method org.apache.avro.specific.SpecificData.&lt;init&gt;() from class com.abc.schema.generated.User\r\n\r\nAny pointers to what might be going wrong here? No errors seen at compile time.","title":"IllegalAccessError: tried to access method org.apache.avro.specific.SpecificData.&lt;init&gt;()","body":"<p>Using Avro for serializing data to byte[] and deserializing data. <a href=\"https://cwiki.apache.org/confluence/display/AVRO/FAQ#FAQ-HowcanIserializedirectlyto/fromabytearray\" rel=\"nofollow noreferrer\">https://cwiki.apache.org/confluence/display/AVRO/FAQ#FAQ-HowcanIserializedirectlyto/fromabytearray</a>? shows sample usage.</p>\n\n<pre><code>SpecificDatumReader&lt;User&gt; reader = new SpecificDatumReader&lt;User&gt;(User.getClassSchema());\n</code></pre>\n\n<p>The above line is causing the following error</p>\n\n<pre><code>IllegalAccessError: tried to access method org.apache.avro.specific.SpecificData.&lt;init&gt;() from class com.abc.schema.generated.User\n</code></pre>\n\n<p>Any pointers to what might be going wrong here? No errors seen at compile time.</p>\n"},{"tags":["java","android","arrays","sorting","object"],"answers":[{"tags":[],"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1666294903,"creation_date":1666287964,"answer_id":74144215,"question_id":74144149,"body_markdown":"One option is to have the classes implement a common interface:\r\n\r\n```\r\ninterface NamedVehicle {\r\n  String getName();\r\n}\r\n\r\nclass Car implements NamedVehicle {\r\n    public String name;\r\n    @Override public String getName() { return name; }\r\n}\r\n\r\nclass Bus implements NamedVehicle {\r\n    public String name;\r\n    @Override public String getName() { return name; }\r\n}\r\n```\r\n\r\nAnd then store a list of interface references instead of `Object`:\r\n\r\n```\r\nfinal List&lt;NamedVehicle&gt; vehicles = new ArrayList&lt;&gt;(Arrays.asList(\r\n  new Car(&quot;Fiat&quot;),\r\n  new Car(&quot;Citroen&quot;),\r\n  new Bus(&quot;Ford&quot;),\r\n  new Bus(&quot;Toyota&quot;)\r\n));\r\nvehicles.sort(Comparator.comparing(NamedVehicle::getName));\r\n```\r\n\r\nThe above would be the recommended option (keywords &quot;program against an interface&quot;, &quot;information hiding&quot;, &quot;don&#39;t expose fields&quot;). If you cannot introduce an interface, it is going to be more tricky and ugly, but it&#39;s doable.\r\n\r\n```\r\nfinal List&lt;Object&gt; vehicles = new ArrayList&lt;&gt;(Arrays.asList(\r\n  new Car(&quot;Fiat&quot;),\r\n  new Car(&quot;Citroen&quot;),\r\n  new Bus(&quot;Ford&quot;),\r\n  new Bus(&quot;Toyota&quot;)\r\n));\r\nvehicles.sort(Comparator.comparing(o -&gt; {\r\n  if (o instanceof Car) { return ((Car)o).name; }\r\n  if (o instanceof Bus) { return ((Bus)o).name; }\r\n  return &quot;&quot;; // you cannot guarantee that the list will only contain Buses and Cars (it is &lt;Object&gt;, after all), so you have to return some dummy value here or throw an exception.\r\n}));\r\n```","title":"Sort array of different types of objects","body":"<p>One option is to have the classes implement a common interface:</p>\n<pre><code>interface NamedVehicle {\n  String getName();\n}\n\nclass Car implements NamedVehicle {\n    public String name;\n    @Override public String getName() { return name; }\n}\n\nclass Bus implements NamedVehicle {\n    public String name;\n    @Override public String getName() { return name; }\n}\n</code></pre>\n<p>And then store a list of interface references instead of <code>Object</code>:</p>\n<pre><code>final List&lt;NamedVehicle&gt; vehicles = new ArrayList&lt;&gt;(Arrays.asList(\n  new Car(&quot;Fiat&quot;),\n  new Car(&quot;Citroen&quot;),\n  new Bus(&quot;Ford&quot;),\n  new Bus(&quot;Toyota&quot;)\n));\nvehicles.sort(Comparator.comparing(NamedVehicle::getName));\n</code></pre>\n<p>The above would be the recommended option (keywords &quot;program against an interface&quot;, &quot;information hiding&quot;, &quot;don't expose fields&quot;). If you cannot introduce an interface, it is going to be more tricky and ugly, but it's doable.</p>\n<pre><code>final List&lt;Object&gt; vehicles = new ArrayList&lt;&gt;(Arrays.asList(\n  new Car(&quot;Fiat&quot;),\n  new Car(&quot;Citroen&quot;),\n  new Bus(&quot;Ford&quot;),\n  new Bus(&quot;Toyota&quot;)\n));\nvehicles.sort(Comparator.comparing(o -&gt; {\n  if (o instanceof Car) { return ((Car)o).name; }\n  if (o instanceof Bus) { return ((Bus)o).name; }\n  return &quot;&quot;; // you cannot guarantee that the list will only contain Buses and Cars (it is &lt;Object&gt;, after all), so you have to return some dummy value here or throw an exception.\n}));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26681719,"reputation":61,"user_id":20291569,"display_name":"Adin D"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666338625,"creation_date":1666338625,"answer_id":74150374,"question_id":74144149,"body_markdown":"\r\n\r\n\r\n\r\n\r\n    class Car extends Vehicle {\r\n    public Car(String name) {\r\n        super(name);\r\n    }\r\n}\r\n\r\n    class Bus extends Vehicle {\r\n        public Bus(String name) {\r\n            super(name);\r\n        }\r\n    }\r\n\r\n    class Vehicle {\r\n        public String name;\r\n    \r\n        public Vehicle(String name) {\r\n            this.name = name;\r\n        }\r\n    \r\n        public Vehicle() {\r\n        }\r\n    }\r\n    ArrayList&lt;Vehicle&gt; vehicles = new ArrayList&lt;&gt;();\r\n    vehicles.add(new Car(&quot;Fiat&quot;));\r\n    vehicles.add(new Car(&quot;Citroen&quot;));\r\n    vehicles.add(new Bus(&quot;Ford&quot;));\r\n    vehicles.add(new Bus(&quot;Toyota&quot;));\r\n    vehicles.sort(Comparator.comparing(vehicle -&gt; vehicle.name));\r\n\r\n","title":"Sort array of different types of objects","body":"<pre><code>class Car extends Vehicle {\npublic Car(String name) {\n    super(name);\n}\n</code></pre>\n<p>}</p>\n<pre><code>class Bus extends Vehicle {\n    public Bus(String name) {\n        super(name);\n    }\n}\n\nclass Vehicle {\n    public String name;\n\n    public Vehicle(String name) {\n        this.name = name;\n    }\n\n    public Vehicle() {\n    }\n}\nArrayList&lt;Vehicle&gt; vehicles = new ArrayList&lt;&gt;();\nvehicles.add(new Car(&quot;Fiat&quot;));\nvehicles.add(new Car(&quot;Citroen&quot;));\nvehicles.add(new Bus(&quot;Ford&quot;));\nvehicles.add(new Bus(&quot;Toyota&quot;));\nvehicles.sort(Comparator.comparing(vehicle -&gt; vehicle.name));\n</code></pre>\n"}],"owner":{"account_id":245259,"reputation":4710,"user_id":518657,"accept_rate":86,"display_name":"seba123neo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74144215,"answer_count":2,"score":0,"last_activity_date":1666338625,"creation_date":1666287597,"question_id":74144149,"body_markdown":"I have two classes (Car and Bus) like below\r\n\r\nwith the same property (name)\r\n\r\nClass 1\r\n\r\n\r\n    class Car {\r\n        public String name;\r\n    }\r\n\r\nClass 2\r\n\r\n    class Bus {\r\n        public String name;\r\n    }\r\n\r\nand i have an array of objects of the two classes\r\n\r\n    ArrayList&lt;Object&gt; vehicles = new ArrayList&lt;&gt;();\r\n    vehicles.add(new Car(&quot;Fiat&quot;));\r\n    vehicles.add(new Car(&quot;Citroen&quot;));\r\n    vehicles.add(new Bus(&quot;Ford&quot;));\r\n    vehicles.add(new Bus(&quot;Toyota&quot;));\r\n\r\nHow do I order the array by the name property alphabetically if they are 2 different classes?","title":"Sort array of different types of objects","body":"<p>I have two classes (Car and Bus) like below</p>\n<p>with the same property (name)</p>\n<p>Class 1</p>\n<pre><code>class Car {\n    public String name;\n}\n</code></pre>\n<p>Class 2</p>\n<pre><code>class Bus {\n    public String name;\n}\n</code></pre>\n<p>and i have an array of objects of the two classes</p>\n<pre><code>ArrayList&lt;Object&gt; vehicles = new ArrayList&lt;&gt;();\nvehicles.add(new Car(&quot;Fiat&quot;));\nvehicles.add(new Car(&quot;Citroen&quot;));\nvehicles.add(new Bus(&quot;Ford&quot;));\nvehicles.add(new Bus(&quot;Toyota&quot;));\n</code></pre>\n<p>How do I order the array by the name property alphabetically if they are 2 different classes?</p>\n"},{"tags":["java","c++","opencv3.1"],"comments":[{"owner":{"account_id":8577974,"reputation":14710,"user_id":6426692,"accept_rate":81,"display_name":"Ilyes"},"score":0,"creation_date":1485504803,"post_id":41889366,"comment_id":70960968,"body_markdown":"Please read [How to create a Minimal, Complete, and Verifiable example](http://stackoverflow.com/help/mcve)","body":"Please read <a href=\"http://stackoverflow.com/help/mcve\">How to create a Minimal, Complete, and Verifiable example</a>"},{"owner":{"account_id":6467478,"reputation":41095,"user_id":5008845,"display_name":"Miki"},"score":2,"creation_date":1485507153,"post_id":41889366,"comment_id":70962119,"body_markdown":"According to the doc for 3.0, you just need to use the name without the &quot;CV_&quot;, i.e. `RETR_CCOMP` and `CHAIN_APPROX_SIMPLE`","body":"According to the doc for 3.0, you just need to use the name without the &quot;CV_&quot;, i.e. <code>RETR_CCOMP</code> and <code>CHAIN_APPROX_SIMPLE</code>"},{"owner":{"account_id":10120292,"reputation":9,"user_id":7477443,"display_name":"user7477443"},"score":0,"creation_date":1485514497,"post_id":41889366,"comment_id":70966515,"body_markdown":"Thanks. Now it works.","body":"Thanks. Now it works."}],"answers":[{"tags":[],"owner":{"account_id":26690037,"reputation":1,"user_id":20298743,"display_name":"aSharon"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666337968,"creation_date":1666337612,"answer_id":74150189,"question_id":41889366,"body_markdown":"\r\nHere is the code:\r\n```\r\n Imgproc.findContours([here you put your input image/live], contours, hierarchy , Imgproc.RETR_TREE, Imgproc.CHAIN_APPROX_SIMPLE);\r\n```\r\nIf it didn&#39;t work for you, you can ask and I&#39;ll try to help.","title":"how to use CV_RETR_CCOMP and CV_CHAIN_APPROX_SIMPLE in Java OpenCV 3.2.0","body":"<p>Here is the code:</p>\n<pre><code> Imgproc.findContours([here you put your input image/live], contours, hierarchy , Imgproc.RETR_TREE, Imgproc.CHAIN_APPROX_SIMPLE);\n</code></pre>\n<p>If it didn't work for you, you can ask and I'll try to help.</p>\n"}],"owner":{"account_id":10120292,"reputation":9,"user_id":7477443,"display_name":"user7477443"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2251,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1666337968,"creation_date":1485504482,"question_id":41889366,"body_markdown":"I am new to **OpenCV**. I am converting C++ code into Java code. By referencing [this link](https://stackoverflow.com/questions/23506105/extracting-text-opencv/23672571#23672571). \r\n\r\nWhile doing this I came across this line:\r\n\r\n\r\n\r\n    findContours(connected, contours, hierarchy, CV_RETR_CCOMP,\r\n                 CV_CHAIN_APPROX_SIMPLE, Point(0, 0));\r\n\r\n`CV_RETR_CCOMP` and `CV_CHAIN_APPROX_SIMPLE` not found in Java OpenCV 3.2.0. \r\n\r\nAny reference link or any tutorial regarding this would be great help.  ","title":"how to use CV_RETR_CCOMP and CV_CHAIN_APPROX_SIMPLE in Java OpenCV 3.2.0","body":"<p>I am new to <strong>OpenCV</strong>. I am converting C++ code into Java code. By referencing <a href=\"https://stackoverflow.com/questions/23506105/extracting-text-opencv/23672571#23672571\">this link</a>. </p>\n\n<p>While doing this I came across this line:</p>\n\n<pre><code>findContours(connected, contours, hierarchy, CV_RETR_CCOMP,\n             CV_CHAIN_APPROX_SIMPLE, Point(0, 0));\n</code></pre>\n\n<p><code>CV_RETR_CCOMP</code> and <code>CV_CHAIN_APPROX_SIMPLE</code> not found in Java OpenCV 3.2.0. </p>\n\n<p>Any reference link or any tutorial regarding this would be great help.  </p>\n"},{"tags":["java","spring-boot","camunda"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1666276036,"post_id":74139330,"comment_id":130902464,"body_markdown":"Did you see the &quot;Unable to acquire JDBC Connection&quot; part? Check that your database is accepting connections and you have the right credentials. Also check that `Job.xml` mentioned.","body":"Did you see the &quot;Unable to acquire JDBC Connection&quot; part? Check that your database is accepting connections and you have the right credentials. Also check that <code>Job.xml</code> mentioned."},{"owner":{"account_id":26681369,"reputation":1,"user_id":20291267,"display_name":"Vasil K"},"score":0,"creation_date":1666276928,"post_id":74139330,"comment_id":130902865,"body_markdown":"Database hase proper credentials definitely, there were no changes there from 2019. And this issue start happens on Oct 06","body":"Database hase proper credentials definitely, there were no changes there from 2019. And this issue start happens on Oct 06"},{"owner":{"account_id":26681369,"reputation":1,"user_id":20291267,"display_name":"Vasil K"},"score":0,"creation_date":1666276978,"post_id":74139330,"comment_id":130902893,"body_markdown":"database is H2  - i dont see any reason whe server can not connect to it because its server-local.","body":"database is H2  - i dont see any reason whe server can not connect to it because its server-local."}],"answers":[{"tags":[],"owner":{"account_id":1612994,"reputation":7243,"user_id":1491439,"display_name":"rob2universe"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666312733,"creation_date":1666312733,"answer_id":74147615,"question_id":74139330,"body_markdown":"You Spring boot starter version indicates that you are on a quite dated Camunda release. Upgrade, also for the relevant security fixes.\r\n\r\nIs the there more error long than the snippet you shared? *&quot;Unable to acquire JDBC Connection.&quot;* could mean that you connection pool ran out of connections. You are  indicating that it worked fine before. Has the usage of the system increased recently? Then you may need to increase the connection pool size.\r\n\r\n(I would not recommend to use the embedded h2 database for any production like scenario. Get e.e.g a PostgreSQL)","title":"Camunda ENGINE-16004 Exception while closing command context","body":"<p>You Spring boot starter version indicates that you are on a quite dated Camunda release. Upgrade, also for the relevant security fixes.</p>\n<p>Is the there more error long than the snippet you shared? <em>&quot;Unable to acquire JDBC Connection.&quot;</em> could mean that you connection pool ran out of connections. You are  indicating that it worked fine before. Has the usage of the system increased recently? Then you may need to increase the connection pool size.</p>\n<p>(I would not recommend to use the embedded h2 database for any production like scenario. Get e.e.g a PostgreSQL)</p>\n"},{"tags":[],"owner":{"account_id":26681369,"reputation":1,"user_id":20291267,"display_name":"Vasil K"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666337910,"creation_date":1666337910,"answer_id":74150239,"question_id":74139330,"body_markdown":"Here is the full exception message:\r\n\r\n    ENGINE-16004 Exception while closing command context: \r\n### Error querying database.  Cause: org.apache.ibatis.executor.ExecutorException: Error preparing statement.  Cause: org.hibernate.exception.JDBCConnectionException: Unable to acquire JDBC Connection\r\n### The error may exist in org/camunda/bpm/engine/impl/mapping/entity/Job.xml\r\n### The error may involve org.camunda.bpm.engine.impl.persistence.entity.JobEntity.selectNextJobsToExecute\r\n### The error occurred while executing a query\r\n### SQL: SELECT SUB.* FROM (     select       RES.* , row_number() over (ORDER BY RES.ID_ asc) rnk FROM ( select distinct RES.*      from ACT_RU_JOB RES      where (RES.RETRIES_ &gt; 0)       and (                   RES.DUEDATE_ is null or                   RES.DUEDATE_ &lt;= ?       )       and (RES.LOCK_OWNER_ is null or RES.LOCK_EXP_TIME_ &lt; ?)       and RES.SUSPENSION_STATE_ = 1                 and (      (      RES.EXCLUSIVE_ = 1           and not exists(             select J2.* from ACT_RU_JOB J2             where J2.PROCESS_INSTANCE_ID_ = RES.PROCESS_INSTANCE_ID_                                           -- from the same proc. inst.             and (J2.EXCLUSIVE_ = 1)                                                              -- also exclusive             and (J2.LOCK_OWNER_ is not null and J2.LOCK_EXP_TIME_ &gt;= ?)  -- in progress             )    )     or           RES.EXCLUSIVE_ = 0        )            )RES ) SUB WHERE SUB.rnk &gt;= ? AND SUB.rnk &lt; ? ORDER BY SUB.rnk\r\n### Cause: org.apache.ibatis.executor.ExecutorException: Error preparing statement.  Cause: org.hibernate.exception.JDBCConnectionException: Unable to acquire JDBC Connection\r\n\r\n\r\njava.sql.SQLTransientConnectionException: Hikari - Connection is not available, request timed out after 30000ms.\r\n\tat com.zaxxer.hikari.pool.HikariPool.createTimeoutException(HikariPool.java:695)\r\n\tat com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:197)\r\n\tat com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:162)\r\n\tat com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:128)\r\n\tat org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)\r\n\tat org.hibernate.internal.NonContextualJdbcConnectionAccess.obtainConnection(NonContextualJdbcConnectionAccess.java:38)\r\n\tat org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.acquireConnectionIfNeeded(LogicalConnectionManagedImpl.java:104)\r\n\t... 41 common frames omitted\r\nWrapped by: org.hibernate.exception.JDBCConnectionException: Unable to acquire JDBC Connection\r\n\tat org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:48)\r\n\tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42)\r\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)\r\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99)\r\n\tat org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.acquireConnectionIfNeeded(LogicalConnectionManagedImpl.java:107)\r\n\tat org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.getPhysicalConnection(LogicalConnectionManagedImpl.java:134)\r\n\tat org.hibernate.internal.SessionImpl.connection(SessionImpl.java:470)\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor458.invoke(Unknown Source)\r\n\tat jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n\tat java.lang.reflect.Method.invoke(Unknown Source)\r\n\tat org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:282)\r\n\tat org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:266)\r\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle.doGetConnection(HibernateJpaDialect.java:430)\r\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle.getConnection(HibernateJpaDialect.java:419)\r\n\tat org.springframework.jdbc.datasource.ConnectionHolder.getConnection(ConnectionHolder.java:162)\r\n\tat org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:111)\r\n\tat org.springframework.jdbc.datasource.TransactionAwareDataSourceProxy$TransactionAwareInvocationHandler.invoke(TransactionAwareDataSourceProxy.java:226)\r\n\tat com.sun.proxy.$Proxy210.prepareStatement(Unknown Source)\r\n\tat org.apache.ibatis.executor.statement.PreparedStatementHandler.instantiateStatement(PreparedStatementHandler.java:87)\r\n\tat org.apache.ibatis.executor.statement.BaseStatementHandler.prepare(BaseStatementHandler.java:88)\r\n\t... 26 common frames omitted\r\nWrapped by: org.apache.ibatis.executor.ExecutorException: Error preparing statement.  Cause: org.hibernate.exception.JDBCConnectionException: Unable to acquire JDBC Connection\r\n\tat org.apache.ibatis.executor.statement.BaseStatementHandler.prepare(BaseStatementHandler.java:97)\r\n\tat org.apache.ibatis.executor.statement.RoutingStatementHandler.prepare(RoutingStatementHandler.java:59)\r\n\tat org.apache.ibatis.executor.BatchExecutor.doQuery(BatchExecutor.java:91)\r\n\tat org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:324)\r\n\tat org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)\r\n\tat org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:109)\r\n\tat org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:83)\r\n\tat org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:148)\r\n\t... 19 common frames omitted\r\nWrapped by: org.apache.ibatis.exceptions.PersistenceException: \r\n### Error querying database.  Cause: org.apache.ibatis.executor.ExecutorException: Error preparing statement.  Cause: org.hibernate.exception.JDBCConnectionException: Unable to acquire JDBC Connection\r\n### The error may exist in org/camunda/bpm/engine/impl/mapping/entity/Job.xml\r\n### The error may involve org.camunda.bpm.engine.impl.persistence.entity.JobEntity.selectNextJobsToExecute\r\n### The error occurred while executing a query\r\n### SQL: SELECT SUB.* FROM (     select       RES.* , row_number() over (ORDER BY RES.ID_ asc) rnk FROM ( select distinct RES.*      from ACT_RU_JOB RES      where (RES.RETRIES_ &gt; 0)       and (                   RES.DUEDATE_ is null or                   RES.DUEDATE_ &lt;= ?       )       and (RES.LOCK_OWNER_ is null or RES.LOCK_EXP_TIME_ &lt; ?)       and RES.SUSPENSION_STATE_ = 1                 and (      (      RES.EXCLUSIVE_ = 1           and not exists(             select J2.* from ACT_RU_JOB J2             where J2.PROCESS_INSTANCE_ID_ = RES.PROCESS_INSTANCE_ID_                                           -- from the same proc. inst.             and (J2.EXCLUSIVE_ = 1)                                                              -- also exclusive             and (J2.LOCK_OWNER_ is not null and J2.LOCK_EXP_TIME_ &gt;= ?)  -- in progress             )    )     or           RES.EXCLUSIVE_ = 0        )            )RES ) SUB WHERE SUB.rnk &gt;= ? AND SUB.rnk &lt; ? ORDER BY SUB.rnk\r\n### Cause: org.apache.ibatis.executor.ExecutorException: Error preparing statement.  Cause: org.hibernate.exception.JDBCConnectionException: Unable to acquire JDBC Connection\r\n\tat org.apache.ibatis.exceptions.ExceptionFactory.wrapException(ExceptionFactory.java:30)\r\n\tat org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:150)\r\n\tat org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:141)\r\n\tat org.camunda.bpm.engine.impl.db.sql.DbSqlSession.selectList(DbSqlSession.java:97)\r\n\tat org.camunda.bpm.engine.impl.db.entitymanager.DbEntityManager.selectListWithRawParameter(DbEntityManager.java:184)\r\n\tat org.camunda.bpm.engine.impl.db.entitymanager.DbEntityManager.selectList(DbEntityManager.java:176)\r\n\tat org.camunda.bpm.engine.impl.db.entitymanager.DbEntityManager.selectList(DbEntityManager.java:172)\r\n\tat org.camunda.bpm.engine.impl.db.entitymanager.DbEntityManager.selectList(DbEntityManager.java:161)\r\n\tat org.camunda.bpm.engine.impl.persistence.entity.JobManager.findNextJobsToExecute(JobManager.java:197)\r\n\tat org.camunda.bpm.engine.impl.cmd.AcquireJobsCmd.execute(AcquireJobsCmd.java:60)\r\n\tat org.camunda.bpm.engine.impl.cmd.AcquireJobsCmd.execute(AcquireJobsCmd.java:38)\r\n\tat org.camunda.bpm.engine.impl.interceptor.CommandExecutorImpl.execute(CommandExecutorImpl.java:28)\r\n\tat org.camunda.bpm.engine.impl.interceptor.CommandContextInterceptor.execute(CommandContextInterceptor.java:107)\r\n\tat org.camunda.bpm.engine.spring.SpringTransactionInterceptor$1.doInTransaction(SpringTransactionInterceptor.java:46)\r\n\tat org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)\r\n\tat org.camunda.bpm.engine.spring.SpringTransactionInterceptor.execute(SpringTransactionInterceptor.java:44)\r\n\tat org.camunda.bpm.engine.impl.interceptor.ProcessApplicationContextInterceptor.execute(ProcessApplicationContextInterceptor.java:70)\r\n\tat org.camunda.bpm.engine.impl.interceptor.LogInterceptor.execute(LogInterceptor.java:33)\r\n\tat org.camunda.bpm.engine.impl.jobexecutor.SequentialJobAcquisitionRunnable.acquireJobs(SequentialJobAcquisitionRunnable.java:158)\r\n\tat org.camunda.bpm.engine.impl.jobexecutor.SequentialJobAcquisitionRunnable.run(SequentialJobAcquisitionRunnable.java:76)\r\n\tat java.lang.Thread.run(Unknown Source)\r\n\r\nЕhe workload has not increased to any great extent recently. And we dont have any database settings for camunda in spring properties.","title":"Camunda ENGINE-16004 Exception while closing command context","body":"<p>Here is the full exception message:</p>\n<pre><code>ENGINE-16004 Exception while closing command context: \n</code></pre>\n<h3>Error querying database.  Cause: org.apache.ibatis.executor.ExecutorException: Error preparing statement.  Cause: org.hibernate.exception.JDBCConnectionException: Unable to acquire JDBC Connection</h3>\n<h3>The error may exist in org/camunda/bpm/engine/impl/mapping/entity/Job.xml</h3>\n<h3>The error may involve org.camunda.bpm.engine.impl.persistence.entity.JobEntity.selectNextJobsToExecute</h3>\n<h3>The error occurred while executing a query</h3>\n<h3>SQL: SELECT SUB.* FROM (     select       RES.* , row_number() over (ORDER BY RES.ID_ asc) rnk FROM ( select distinct RES.*      from ACT_RU_JOB RES      where (RES.RETRIES_ &gt; 0)       and (                   RES.DUEDATE_ is null or                   RES.DUEDATE_ &lt;= ?       )       and (RES.LOCK_OWNER_ is null or RES.LOCK_EXP_TIME_ &lt; ?)       and RES.SUSPENSION_STATE_ = 1                 and (      (      RES.EXCLUSIVE_ = 1           and not exists(             select J2.* from ACT_RU_JOB J2             where J2.PROCESS_INSTANCE_ID_ = RES.PROCESS_INSTANCE_ID_                                           -- from the same proc. inst.             and (J2.EXCLUSIVE_ = 1)                                                              -- also exclusive             and (J2.LOCK_OWNER_ is not null and J2.LOCK_EXP_TIME_ &gt;= ?)  -- in progress             )    )     or           RES.EXCLUSIVE_ = 0        )            )RES ) SUB WHERE SUB.rnk &gt;= ? AND SUB.rnk &lt; ? ORDER BY SUB.rnk</h3>\n<h3>Cause: org.apache.ibatis.executor.ExecutorException: Error preparing statement.  Cause: org.hibernate.exception.JDBCConnectionException: Unable to acquire JDBC Connection</h3>\n<p>java.sql.SQLTransientConnectionException: Hikari - Connection is not available, request timed out after 30000ms.\nat com.zaxxer.hikari.pool.HikariPool.createTimeoutException(HikariPool.java:695)\nat com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:197)\nat com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:162)\nat com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:128)\nat org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)\nat org.hibernate.internal.NonContextualJdbcConnectionAccess.obtainConnection(NonContextualJdbcConnectionAccess.java:38)\nat org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.acquireConnectionIfNeeded(LogicalConnectionManagedImpl.java:104)\n... 41 common frames omitted\nWrapped by: org.hibernate.exception.JDBCConnectionException: Unable to acquire JDBC Connection\nat org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:48)\nat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42)\nat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)\nat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99)\nat org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.acquireConnectionIfNeeded(LogicalConnectionManagedImpl.java:107)\nat org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.getPhysicalConnection(LogicalConnectionManagedImpl.java:134)\nat org.hibernate.internal.SessionImpl.connection(SessionImpl.java:470)\nat jdk.internal.reflect.GeneratedMethodAccessor458.invoke(Unknown Source)\nat jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\nat java.lang.reflect.Method.invoke(Unknown Source)\nat org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:282)\nat org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:266)\nat org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle.doGetConnection(HibernateJpaDialect.java:430)\nat org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle.getConnection(HibernateJpaDialect.java:419)\nat org.springframework.jdbc.datasource.ConnectionHolder.getConnection(ConnectionHolder.java:162)\nat org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:111)\nat org.springframework.jdbc.datasource.TransactionAwareDataSourceProxy$TransactionAwareInvocationHandler.invoke(TransactionAwareDataSourceProxy.java:226)\nat com.sun.proxy.$Proxy210.prepareStatement(Unknown Source)\nat org.apache.ibatis.executor.statement.PreparedStatementHandler.instantiateStatement(PreparedStatementHandler.java:87)\nat org.apache.ibatis.executor.statement.BaseStatementHandler.prepare(BaseStatementHandler.java:88)\n... 26 common frames omitted\nWrapped by: org.apache.ibatis.executor.ExecutorException: Error preparing statement.  Cause: org.hibernate.exception.JDBCConnectionException: Unable to acquire JDBC Connection\nat org.apache.ibatis.executor.statement.BaseStatementHandler.prepare(BaseStatementHandler.java:97)\nat org.apache.ibatis.executor.statement.RoutingStatementHandler.prepare(RoutingStatementHandler.java:59)\nat org.apache.ibatis.executor.BatchExecutor.doQuery(BatchExecutor.java:91)\nat org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:324)\nat org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)\nat org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:109)\nat org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:83)\nat org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:148)\n... 19 common frames omitted\nWrapped by: org.apache.ibatis.exceptions.PersistenceException:</p>\n<h3>Error querying database.  Cause: org.apache.ibatis.executor.ExecutorException: Error preparing statement.  Cause: org.hibernate.exception.JDBCConnectionException: Unable to acquire JDBC Connection</h3>\n<h3>The error may exist in org/camunda/bpm/engine/impl/mapping/entity/Job.xml</h3>\n<h3>The error may involve org.camunda.bpm.engine.impl.persistence.entity.JobEntity.selectNextJobsToExecute</h3>\n<h3>The error occurred while executing a query</h3>\n<h3>SQL: SELECT SUB.* FROM (     select       RES.* , row_number() over (ORDER BY RES.ID_ asc) rnk FROM ( select distinct RES.*      from ACT_RU_JOB RES      where (RES.RETRIES_ &gt; 0)       and (                   RES.DUEDATE_ is null or                   RES.DUEDATE_ &lt;= ?       )       and (RES.LOCK_OWNER_ is null or RES.LOCK_EXP_TIME_ &lt; ?)       and RES.SUSPENSION_STATE_ = 1                 and (      (      RES.EXCLUSIVE_ = 1           and not exists(             select J2.* from ACT_RU_JOB J2             where J2.PROCESS_INSTANCE_ID_ = RES.PROCESS_INSTANCE_ID_                                           -- from the same proc. inst.             and (J2.EXCLUSIVE_ = 1)                                                              -- also exclusive             and (J2.LOCK_OWNER_ is not null and J2.LOCK_EXP_TIME_ &gt;= ?)  -- in progress             )    )     or           RES.EXCLUSIVE_ = 0        )            )RES ) SUB WHERE SUB.rnk &gt;= ? AND SUB.rnk &lt; ? ORDER BY SUB.rnk</h3>\n<h3>Cause: org.apache.ibatis.executor.ExecutorException: Error preparing statement.  Cause: org.hibernate.exception.JDBCConnectionException: Unable to acquire JDBC Connection</h3>\n<pre><code>at org.apache.ibatis.exceptions.ExceptionFactory.wrapException(ExceptionFactory.java:30)\nat org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:150)\nat org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:141)\nat org.camunda.bpm.engine.impl.db.sql.DbSqlSession.selectList(DbSqlSession.java:97)\nat org.camunda.bpm.engine.impl.db.entitymanager.DbEntityManager.selectListWithRawParameter(DbEntityManager.java:184)\nat org.camunda.bpm.engine.impl.db.entitymanager.DbEntityManager.selectList(DbEntityManager.java:176)\nat org.camunda.bpm.engine.impl.db.entitymanager.DbEntityManager.selectList(DbEntityManager.java:172)\nat org.camunda.bpm.engine.impl.db.entitymanager.DbEntityManager.selectList(DbEntityManager.java:161)\nat org.camunda.bpm.engine.impl.persistence.entity.JobManager.findNextJobsToExecute(JobManager.java:197)\nat org.camunda.bpm.engine.impl.cmd.AcquireJobsCmd.execute(AcquireJobsCmd.java:60)\nat org.camunda.bpm.engine.impl.cmd.AcquireJobsCmd.execute(AcquireJobsCmd.java:38)\nat org.camunda.bpm.engine.impl.interceptor.CommandExecutorImpl.execute(CommandExecutorImpl.java:28)\nat org.camunda.bpm.engine.impl.interceptor.CommandContextInterceptor.execute(CommandContextInterceptor.java:107)\nat org.camunda.bpm.engine.spring.SpringTransactionInterceptor$1.doInTransaction(SpringTransactionInterceptor.java:46)\nat org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)\nat org.camunda.bpm.engine.spring.SpringTransactionInterceptor.execute(SpringTransactionInterceptor.java:44)\nat org.camunda.bpm.engine.impl.interceptor.ProcessApplicationContextInterceptor.execute(ProcessApplicationContextInterceptor.java:70)\nat org.camunda.bpm.engine.impl.interceptor.LogInterceptor.execute(LogInterceptor.java:33)\nat org.camunda.bpm.engine.impl.jobexecutor.SequentialJobAcquisitionRunnable.acquireJobs(SequentialJobAcquisitionRunnable.java:158)\nat org.camunda.bpm.engine.impl.jobexecutor.SequentialJobAcquisitionRunnable.run(SequentialJobAcquisitionRunnable.java:76)\nat java.lang.Thread.run(Unknown Source)\n</code></pre>\n<p>Еhe workload has not increased to any great extent recently. And we dont have any database settings for camunda in spring properties.</p>\n"}],"owner":{"account_id":26681369,"reputation":1,"user_id":20291267,"display_name":"Vasil K"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2498,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1666337910,"creation_date":1666266334,"question_id":74139330,"body_markdown":"Error start happens last five days, never was before, camunda spring-boot-starter  version is 3.5.5.\r\n\t\r\n```none\r\nENGINE-16004 Exception while closing command context: \r\n### Error querying database.  Cause: org.apache.ibatis.executor.ExecutorException: Error preparing statement.  Cause: org.hibernate.exception.JDBCConnectionException: Unable to acquire JDBC Connection\r\n### The error may exist in org/camunda/bpm/engine/impl/mapping/entity/Job.xml\r\n### The error may involve org.camunda.bpm.engine.impl.persistence.entity.JobEntity.selectNextJobsToExecute\r\n### The error occurred while executing a query\r\n### SQL: SELECT SUB.* FROM (     select       RES.* , row_number() over (ORDER BY RES.ID_ asc) rnk FROM ( select distinct RES.*      from ACT_RU_JOB RES      where (RES.RETRIES_ &gt; 0)       and (               RES.DUEDATE_ is null or                   RES.DUEDATE_ &lt;= ?       )    and (RES.LOCK_OWNER_ is null or RES.LOCK_EXP_TIME_ &lt; ?)       and RES.SUSPENSION_STATE_ = 1                 and (      (      RES.EXCLUSIVE_ = 1           and not exists(             select J2.* from ACT_RU_JOB J2             where J2.PROCESS_INSTANCE_ID_ = RES.PROCESS_INSTANCE_ID_                                           -- from the same proc. inst.             and (J2.EXCLUSIVE_ = 1)         \r\n-- also exclusive             and (J2.LOCK_OWNER_ is not null and J2.LOCK_EXP_TIME_ &gt;= ?)  -- in progress             )    )     or      RES.EXCLUSIVE_ = 0        )            )RES ) SUB WHERE SUB.rnk &gt;= ? AND SUB.rnk &lt; ? ORDER BY SUB.rnk\r\n### Cause: org.apache.ibatis.executor.ExecutorException: Error preparing statement.  Cause: org.hibernate.exception.JDBCConnectionException: Unable to acquire JDBC Connection.\r\n```\r\n\r\nCan anyone help please?","title":"Camunda ENGINE-16004 Exception while closing command context","body":"<p>Error start happens last five days, never was before, camunda spring-boot-starter  version is 3.5.5.</p>\n<pre class=\"lang-none prettyprint-override\"><code>ENGINE-16004 Exception while closing command context: \n### Error querying database.  Cause: org.apache.ibatis.executor.ExecutorException: Error preparing statement.  Cause: org.hibernate.exception.JDBCConnectionException: Unable to acquire JDBC Connection\n### The error may exist in org/camunda/bpm/engine/impl/mapping/entity/Job.xml\n### The error may involve org.camunda.bpm.engine.impl.persistence.entity.JobEntity.selectNextJobsToExecute\n### The error occurred while executing a query\n### SQL: SELECT SUB.* FROM (     select       RES.* , row_number() over (ORDER BY RES.ID_ asc) rnk FROM ( select distinct RES.*      from ACT_RU_JOB RES      where (RES.RETRIES_ &gt; 0)       and (               RES.DUEDATE_ is null or                   RES.DUEDATE_ &lt;= ?       )    and (RES.LOCK_OWNER_ is null or RES.LOCK_EXP_TIME_ &lt; ?)       and RES.SUSPENSION_STATE_ = 1                 and (      (      RES.EXCLUSIVE_ = 1           and not exists(             select J2.* from ACT_RU_JOB J2             where J2.PROCESS_INSTANCE_ID_ = RES.PROCESS_INSTANCE_ID_                                           -- from the same proc. inst.             and (J2.EXCLUSIVE_ = 1)         \n-- also exclusive             and (J2.LOCK_OWNER_ is not null and J2.LOCK_EXP_TIME_ &gt;= ?)  -- in progress             )    )     or      RES.EXCLUSIVE_ = 0        )            )RES ) SUB WHERE SUB.rnk &gt;= ? AND SUB.rnk &lt; ? ORDER BY SUB.rnk\n### Cause: org.apache.ibatis.executor.ExecutorException: Error preparing statement.  Cause: org.hibernate.exception.JDBCConnectionException: Unable to acquire JDBC Connection.\n</code></pre>\n<p>Can anyone help please?</p>\n"},{"tags":["java","postgresql","hibernate","timezone"],"comments":[{"owner":{"display_name":"user330315"},"score":0,"creation_date":1666335275,"post_id":74149741,"comment_id":130916810,"body_markdown":"[Don&#39;t use time with time zone](https://wiki.postgresql.org/wiki/Don%27t_Do_This#Don.27t_use_timetz)","body":"<a href=\"https://wiki.postgresql.org/wiki/Don%27t_Do_This#Don.27t_use_timetz\" rel=\"nofollow noreferrer\">Don&#39;t use time with time zone</a>"},{"owner":{"account_id":20576670,"reputation":1,"user_id":15103694,"display_name":"Rostovchanin"},"score":0,"creation_date":1666336842,"post_id":74149741,"comment_id":130917287,"body_markdown":"I see, that using timestamp is also goes that way but by OffsetTimeJavaDescriptor (-&gt;ZonedDateTime-&gt;toLocalDateTime()).","body":"I see, that using timestamp is also goes that way but by OffsetTimeJavaDescriptor (-&gt;ZonedDateTime-&gt;toLocalDateTime())."},{"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"score":0,"creation_date":1667811368,"post_id":74149741,"comment_id":131247855,"body_markdown":"That&#39;s a bug. I created https://hibernate.atlassian.net/browse/HHH-15679 for this.","body":"That&#39;s a bug. I created <a href=\"https://hibernate.atlassian.net/browse/HHH-15679\" rel=\"nofollow noreferrer\">hibernate.atlassian.net/browse/HHH-15679</a> for this."},{"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"score":0,"creation_date":1668100493,"post_id":74149741,"comment_id":131330253,"body_markdown":"I can just repeat again what other wrote: https://wiki.postgresql.org/wiki/Don%27t_Do_This#Don.27t_use_timetz","body":"I can just repeat again what other wrote: <a href=\"https://wiki.postgresql.org/wiki/Don%27t_Do_This#Don.27t_use_timetz\" rel=\"nofollow noreferrer\">wiki.postgresql.org/wiki/Don%27t_Do_This#Don.27t_use_timetz</a>"}],"owner":{"account_id":20576670,"reputation":1,"user_id":15103694,"display_name":"Rostovchanin"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666337633,"creation_date":1666334977,"question_id":74149741,"body_markdown":"I had an unexpected result when try to store with Hibernate (5.6.1) **OffsetTime** entity properties into Postgresql **Time with time zone** field.\r\n\r\nFor ex (if **current default** zone is **+02**):\r\n    \r\n    | OffsetTime| Timez    |\r\n    | --------  | -------- |\r\n    | 00:00+01  | 00:00+02 |\r\n    | 00:00+02  | 00:00+02 |\r\n    | 00:00+03  | 00:00+02 |\r\n\r\n **Original offset was lost and stored default instead.**\r\n    \r\nI researched two classes:\r\n    \r\n- org.hibernate.type.descriptor.sql.TimeTypeDescriptor\r\n    \r\n ``` java\r\n final Time time = javaTypeDescriptor.unwrap( value, Time.class, options );\r\n ```\r\n    \r\n- org.hibernate.type.descriptor.java.OffsetTimeJavaDescriptor\r\n    \r\n``` java\r\nif ( java.sql.Time.class.isAssignableFrom( type ) ) {\r\n    return (X) java.sql.Time.valueOf( offsetTime.toLocalTime() );\r\n}\r\n```\r\n\r\n\r\nI think, that I had some mistake in understanding this logic, but in another answers I saw recommendation: ([LINK][1])\r\n    \r\n``` java    \r\n ZoneOffset zoneOffset = ZoneOffset.systemDefault().getRules()\r\n            .getOffset(LocalDateTime.now());\r\n    \r\n Notification notification = new Notification()\r\n   //...\r\n ).setClockAlarm(\r\n      OffsetTime.of(7, 30, 0, 0, zoneOffset)\r\n );\r\n```    \r\n    \r\n**So, do I must to convert all OffsetTime values to *default time zone* so that it store correctly?**\r\n    \r\n    \r\n  [1]: https://stackoverflow.com/a/61525553/15103694","title":"Strange binding behavior of Hibernate when storing OffsetTime (JVM) into Time","body":"<p>I had an unexpected result when try to store with Hibernate (5.6.1) <strong>OffsetTime</strong> entity properties into Postgresql <strong>Time with time zone</strong> field.</p>\n<p>For ex (if <strong>current default</strong> zone is <strong>+02</strong>):</p>\n<pre><code>| OffsetTime| Timez    |\n| --------  | -------- |\n| 00:00+01  | 00:00+02 |\n| 00:00+02  | 00:00+02 |\n| 00:00+03  | 00:00+02 |\n</code></pre>\n<p><strong>Original offset was lost and stored default instead.</strong></p>\n<p>I researched two classes:</p>\n<ul>\n<li>org.hibernate.type.descriptor.sql.TimeTypeDescriptor</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>final Time time = javaTypeDescriptor.unwrap( value, Time.class, options );\n</code></pre>\n<ul>\n<li>org.hibernate.type.descriptor.java.OffsetTimeJavaDescriptor</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>if ( java.sql.Time.class.isAssignableFrom( type ) ) {\n    return (X) java.sql.Time.valueOf( offsetTime.toLocalTime() );\n}\n</code></pre>\n<p>I think, that I had some mistake in understanding this logic, but in another answers I saw recommendation: (<a href=\"https://stackoverflow.com/a/61525553/15103694\">LINK</a>)</p>\n<pre class=\"lang-java prettyprint-override\"><code> ZoneOffset zoneOffset = ZoneOffset.systemDefault().getRules()\n            .getOffset(LocalDateTime.now());\n    \n Notification notification = new Notification()\n   //...\n ).setClockAlarm(\n      OffsetTime.of(7, 30, 0, 0, zoneOffset)\n );\n</code></pre>\n<p><strong>So, do I must to convert all OffsetTime values to <em>default time zone</em> so that it store correctly?</strong></p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1666337630,"creation_date":1666336615,"answer_id":74150020,"question_id":74149848,"body_markdown":"&gt; Why does `ProcessBuilder.start()` starts a process by a `fork()`?\r\n\r\nBecause if it didn&#39;t `fork()` a child process, then the subsequent `execve()` would replace the JVM&#39;s code and data with the code and data of the new command you are running.\r\n\r\nWhy?\r\n\r\nBecause that is how the `fork()` and `execve()` system calls work.\r\n\r\nWhy?\r\n\r\nBecause:\r\n\r\n  - it allows the child process (prior to the exec) to set up the file descriptors for that the exec&#39;d command will see, and potentially other things\r\n  - it was designed that way back in ~1970&#39;s era UNIX, and there hasn&#39;t been a strong enough case do it (significantly) differently.\r\n\r\n ","title":"Why does java.lang.ProcessBuilder.start() starts a process by a fork()?","body":"<blockquote>\n<p>Why does <code>ProcessBuilder.start()</code> starts a process by a <code>fork()</code>?</p>\n</blockquote>\n<p>Because if it didn't <code>fork()</code> a child process, then the subsequent <code>execve()</code> would replace the JVM's code and data with the code and data of the new command you are running.</p>\n<p>Why?</p>\n<p>Because that is how the <code>fork()</code> and <code>execve()</code> system calls work.</p>\n<p>Why?</p>\n<p>Because:</p>\n<ul>\n<li>it allows the child process (prior to the exec) to set up the file descriptors for that the exec'd command will see, and potentially other things</li>\n<li>it was designed that way back in ~1970's era UNIX, and there hasn't been a strong enough case do it (significantly) differently.</li>\n</ul>\n"}],"owner":{"account_id":4934165,"reputation":194,"user_id":3972907,"display_name":"Huy Ngo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74150020,"answer_count":1,"score":0,"last_activity_date":1666337630,"creation_date":1666335624,"question_id":74149848,"body_markdown":"``java.lang.ProcessBuilder.start()`` calls to ``java.lang.ProcessImpl.forkAndExec()``, which is a native method. From what I learned in my Operating System class, a fork will basically create a clone of the process which called it. I have checked the PPID of processes created by ``ProcessBuilder.start()`` and confirmed that those PPIDs are equivalent to PID of current Java process. \r\n\r\nHowever, ``ProcessBuilder.start()`` may run an arbitrarily process which share nothing with current Java process. So why does ``java.lang.ProcessBuilder.start()`` starts a new process by a fork()?","title":"Why does java.lang.ProcessBuilder.start() starts a process by a fork()?","body":"<p><code>java.lang.ProcessBuilder.start()</code> calls to <code>java.lang.ProcessImpl.forkAndExec()</code>, which is a native method. From what I learned in my Operating System class, a fork will basically create a clone of the process which called it. I have checked the PPID of processes created by <code>ProcessBuilder.start()</code> and confirmed that those PPIDs are equivalent to PID of current Java process.</p>\n<p>However, <code>ProcessBuilder.start()</code> may run an arbitrarily process which share nothing with current Java process. So why does <code>java.lang.ProcessBuilder.start()</code> starts a new process by a fork()?</p>\n"},{"tags":["java","mysql","spring-boot","jpa"],"answers":[{"tags":[],"owner":{"account_id":20375424,"reputation":517,"user_id":14946729,"display_name":"grigouille"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666337443,"creation_date":1666337443,"answer_id":74150159,"question_id":74149528,"body_markdown":"Add constructor to myModel :\r\n\r\n    package foo;\r\n    public class myModel {\r\n        private String name;\r\n        private Integer id;\r\n    \r\n        public myModel(String name, Integer id) {\r\n          this.name = name;\r\n          this.id = id;\r\n        }\r\n        //getter/setter\r\n    }\r\n\r\nThen try this :\r\n\r\n    @Query(value = &quot;SELECT new foo.myModel(name, id_tr AS id) FROM ....&quot;)\r\n\r\nI&#39;m not sure about the &quot;AS id&quot;. You may have to remove it.","title":"Error mapping JPA custom-query to my DTO model","body":"<p>Add constructor to myModel :</p>\n<pre><code>package foo;\npublic class myModel {\n    private String name;\n    private Integer id;\n\n    public myModel(String name, Integer id) {\n      this.name = name;\n      this.id = id;\n    }\n    //getter/setter\n}\n</code></pre>\n<p>Then try this :</p>\n<pre><code>@Query(value = &quot;SELECT new foo.myModel(name, id_tr AS id) FROM ....&quot;)\n</code></pre>\n<p>I'm not sure about the &quot;AS id&quot;. You may have to remove it.</p>\n"}],"owner":{"account_id":24183247,"reputation":472,"user_id":18570428,"display_name":"Talenel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":391,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74150159,"answer_count":1,"score":0,"last_activity_date":1666337443,"creation_date":1666333550,"question_id":74149528,"body_markdown":"I&#39;ve created a custom `query` that returns data from different tables in a new table. However `JPA` is not able to map the result to my `DTO` object.\r\n\r\n    org.springframework.core.convert.ConverterNotFoundException: No converter found capable of converting from type [org.springframework.data.jpa.repository.query.AbstractJpaQuery$TupleConverter$TupleBackedMap] to type [model.myModel]\r\n\r\nThis is my model class\r\n\r\n    @Data\r\n    public class myModel {\r\n    \r\n    \tprivate String name;\r\n    \t\r\n    \tprivate Integer id;\r\n    }\r\n\r\nand my Repository with the `custom query`:\r\n\r\n    @Query(value = &quot;SELECT name, id_tr AS id FROM (SELECT A.nombre name, D.id_transaccion from tableA A LEFT JOIN ....  RESULTED WHERE RESULTED.id_tr IN (?1)&quot;, nativeQuery = true)\r\n    \tList&lt;myModel&gt; findNameOperation(List&lt;Integer&gt; idList);\r\n\r\nWhat is the problem? I have named the attributes of my `DTO` in the same way as the fields that would come out in my table.\r\nI read this article [https://stackoverflow.com/questions/46966487/error-is-no-converter-found-capable-of-converting-from-type-java-lang-string][1] but I&#39;m not using `mongo`, my database is `mysql`.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/46966487/error-is-no-converter-found-capable-of-converting-from-type-java-lang-string","title":"Error mapping JPA custom-query to my DTO model","body":"<p>I've created a custom <code>query</code> that returns data from different tables in a new table. However <code>JPA</code> is not able to map the result to my <code>DTO</code> object.</p>\n<pre><code>org.springframework.core.convert.ConverterNotFoundException: No converter found capable of converting from type [org.springframework.data.jpa.repository.query.AbstractJpaQuery$TupleConverter$TupleBackedMap] to type [model.myModel]\n</code></pre>\n<p>This is my model class</p>\n<pre><code>@Data\npublic class myModel {\n\n    private String name;\n    \n    private Integer id;\n}\n</code></pre>\n<p>and my Repository with the <code>custom query</code>:</p>\n<pre><code>@Query(value = &quot;SELECT name, id_tr AS id FROM (SELECT A.nombre name, D.id_transaccion from tableA A LEFT JOIN ....  RESULTED WHERE RESULTED.id_tr IN (?1)&quot;, nativeQuery = true)\n    List&lt;myModel&gt; findNameOperation(List&lt;Integer&gt; idList);\n</code></pre>\n<p>What is the problem? I have named the attributes of my <code>DTO</code> in the same way as the fields that would come out in my table.\nI read this article <a href=\"https://stackoverflow.com/questions/46966487/error-is-no-converter-found-capable-of-converting-from-type-java-lang-string\">Error is &quot;No converter found capable of converting from type [java.lang.String] to type [com.marter.travel.model.Picture]&quot;</a> but I'm not using <code>mongo</code>, my database is <code>mysql</code>.</p>\n"},{"tags":["java","javaparser"],"answers":[{"tags":[],"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1571662237,"creation_date":1571662237,"answer_id":58486694,"question_id":58486490,"body_markdown":"You either have to add all the compilation units manually, or just call `tryToParse()` on the `sourceRoot`.\r\n\r\nWith this small modification, it found (almost*) all .java files below the SourceRoot.\r\n\r\n    Path pathToSource = Paths.get(&quot;resources/src&quot;);\r\n    SourceRoot sourceRoot = new SourceRoot(pathToSource);\r\n    sourceRoot.tryToParse();\r\n    List&lt;CompilationUnit&gt; compilations = sourceRoot.getCompilationUnits();\r\n\r\n(* it did not support java modules, so it failed to parse my `module-info.java`).","title":"JavaParser reading a src directory","body":"<p>You either have to add all the compilation units manually, or just call <code>tryToParse()</code> on the <code>sourceRoot</code>.</p>\n\n<p>With this small modification, it found (almost*) all .java files below the SourceRoot.</p>\n\n<pre><code>Path pathToSource = Paths.get(\"resources/src\");\nSourceRoot sourceRoot = new SourceRoot(pathToSource);\nsourceRoot.tryToParse();\nList&lt;CompilationUnit&gt; compilations = sourceRoot.getCompilationUnits();\n</code></pre>\n\n<p>(* it did not support java modules, so it failed to parse my <code>module-info.java</code>).</p>\n"},{"tags":[],"owner":{"account_id":6470949,"reputation":382,"user_id":5011127,"accept_rate":0,"display_name":"jpl"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666337417,"creation_date":1666337417,"answer_id":74150156,"question_id":58486490,"body_markdown":"The pathToSource variable must refer to the root directory which corresponds to **the root of the package structure** of the source files it contains.\r\nFor example, in a classic maven project, this variable should be initialized with the src/main/java directory.","title":"JavaParser reading a src directory","body":"<p>The pathToSource variable must refer to the root directory which corresponds to <strong>the root of the package structure</strong> of the source files it contains.\nFor example, in a classic maven project, this variable should be initialized with the src/main/java directory.</p>\n"}],"owner":{"account_id":1218559,"reputation":3374,"user_id":1185671,"accept_rate":87,"display_name":"algorhythm"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1122,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":58486694,"answer_count":2,"score":1,"last_activity_date":1666337417,"creation_date":1571661520,"question_id":58486490,"body_markdown":"I&#39;ve been using a `CompilationUnit` to parse Java files but now I&#39;d like to parse all files within a directory.\r\n\r\nI&#39;ve tried the following however the compilation size is calculated as 0 when I expect it to be the number of Java files within the specified directory.\r\n\r\n    Path pathToSource = Paths.get(&quot;resources/src&quot;);\r\n    SourceRoot sourceRoot = new SourceRoot(pathToSource);\r\n    List&lt;CompilationUnit&gt; compilations = sourceRoot.getCompilationUnits();\r\n\r\nFollowing the JavaDoc - https://www.javadoc.io/doc/com.github.javaparser/javaparser-core","title":"JavaParser reading a src directory","body":"<p>I've been using a <code>CompilationUnit</code> to parse Java files but now I'd like to parse all files within a directory.</p>\n\n<p>I've tried the following however the compilation size is calculated as 0 when I expect it to be the number of Java files within the specified directory.</p>\n\n<pre><code>Path pathToSource = Paths.get(\"resources/src\");\nSourceRoot sourceRoot = new SourceRoot(pathToSource);\nList&lt;CompilationUnit&gt; compilations = sourceRoot.getCompilationUnits();\n</code></pre>\n\n<p>Following the JavaDoc - <a href=\"https://www.javadoc.io/doc/com.github.javaparser/javaparser-core\" rel=\"nofollow noreferrer\">https://www.javadoc.io/doc/com.github.javaparser/javaparser-core</a></p>\n"},{"tags":["java","windows","unix","newline","text-formatting"],"comments":[{"owner":{"account_id":1147310,"reputation":2661,"user_id":1129781,"display_name":"Gijs Overvliet"},"score":0,"creation_date":1395907787,"post_id":22681534,"comment_id":34554044,"body_markdown":"`String NEWLINE = &quot;\\n\\r&quot;;` or whatever you want, followed by\n`System.out.print(&quot;yourString&quot;+NEWLINE);`","body":"<code>String NEWLINE = &quot;\\n\\r&quot;;</code> or whatever you want, followed by <code>System.out.print(&quot;yourString&quot;+NEWLINE);</code>"},{"owner":{"account_id":319034,"reputation":672,"user_id":636578,"accept_rate":67,"display_name":"Andreas"},"score":0,"creation_date":1395907828,"post_id":22681534,"comment_id":34554060,"body_markdown":"That&#39;s a workaround that does work but can&#39;t you explicitly tell java what environment you want to target?","body":"That&#39;s a workaround that does work but can&#39;t you explicitly tell java what environment you want to target?"}],"answers":[{"comments":[{"owner":{"account_id":319034,"reputation":672,"user_id":636578,"accept_rate":67,"display_name":"Andreas"},"score":0,"creation_date":1395908251,"post_id":22681619,"comment_id":34554271,"body_markdown":"Ok so `out.println()` uses this method to add it&#39;s linebreak. But is there some way to change what the property `line.separator` returns? Tell java that you are targeting another platform maybe?","body":"Ok so <code>out.println()</code> uses this method to add it&#39;s linebreak. But is there some way to change what the property <code>line.separator</code> returns? Tell java that you are targeting another platform maybe?"},{"owner":{"account_id":3300755,"reputation":3796,"user_id":2777005,"display_name":"Levenal"},"score":0,"creation_date":1395908285,"post_id":22681619,"comment_id":34554283,"body_markdown":"I downvoted becuase the question asked how to change the seperator, and you had just put how to get it, however since you updated your answer I decided to remove it as it looks a lot better now :)","body":"I downvoted becuase the question asked how to change the seperator, and you had just put how to get it, however since you updated your answer I decided to remove it as it looks a lot better now :)"},{"owner":{"account_id":1626304,"reputation":169369,"user_id":1501794,"accept_rate":72,"display_name":"Rahul Tripathi"},"score":0,"creation_date":1395908446,"post_id":22681619,"comment_id":34554379,"body_markdown":"@Andreas:- You may use the `System.setProperty(&quot;line.separator&quot;, &quot;\\n&quot;);` at the beginning of your code then!","body":"@Andreas:- You may use the <code>System.setProperty(&quot;line.separator&quot;, &quot;\\n&quot;);</code> at the beginning of your code then!"}],"tags":[],"owner":{"account_id":1626304,"reputation":169369,"user_id":1501794,"accept_rate":72,"display_name":"Rahul Tripathi"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1395907822,"creation_date":1395907822,"answer_id":22681619,"question_id":22681534,"body_markdown":"You may try with:\r\n\r\n    String str = &quot;\\n\\r&quot;;\r\n    System.out.print(&quot;yourString&quot;+str);\r\n\r\nbut you can instead use this:-\r\n\r\n    System.getProperty(&quot;line.separator&quot;);\r\n\r\nto get the [line seperator][1] \r\n\r\n&gt; Returns the system-dependent line separator string. It always returns\r\n&gt; the same value - the initial value of the system property\r\n&gt; line.separator.\r\n&gt; \r\n&gt; On UNIX systems, it returns &quot;\\n&quot;; on Microsoft Windows systems it\r\n&gt; returns &quot;\\r\\n&quot;.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/lang/System.html#lineSeparator%28%29","title":"Java change system new-line character","body":"<p>You may try with:</p>\n\n<pre><code>String str = \"\\n\\r\";\nSystem.out.print(\"yourString\"+str);\n</code></pre>\n\n<p>but you can instead use this:-</p>\n\n<pre><code>System.getProperty(\"line.separator\");\n</code></pre>\n\n<p>to get the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/System.html#lineSeparator%28%29\" rel=\"nofollow\">line seperator</a> </p>\n\n<blockquote>\n  <p>Returns the system-dependent line separator string. It always returns\n  the same value - the initial value of the system property\n  line.separator.</p>\n  \n  <p>On UNIX systems, it returns \"\\n\"; on Microsoft Windows systems it\n  returns \"\\r\\n\".</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":3537759,"reputation":2321,"user_id":2955605,"display_name":"Slimu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1395907869,"creation_date":1395907869,"answer_id":22681635,"question_id":22681534,"body_markdown":"The method `    System.lineSeparator()` returns the line separator used by the system. From the documentation it specifies that it uses the system property line.separator. ","title":"Java change system new-line character","body":"<p>The method <code>System.lineSeparator()</code> returns the line separator used by the system. From the documentation it specifies that it uses the system property line.separator. </p>\n"},{"comments":[{"owner":{"account_id":319034,"reputation":672,"user_id":636578,"accept_rate":67,"display_name":"Andreas"},"score":0,"creation_date":1395908738,"post_id":22681789,"comment_id":34554527,"body_markdown":"Confirmed by piping through to `od` in cywgin. Thanx a bunch!","body":"Confirmed by piping through to <code>od</code> in cywgin. Thanx a bunch!"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1395908853,"post_id":22681789,"comment_id":34554601,"body_markdown":"+1 If you were a few minutes faster I had skipped writing my own answer… However, it’s worth noting that some JRE parts cache that value, like the Java&#160;7 `java.lang.System.lineSeparator()` does. To get a consistent behavior, that property should be specified at startup time.","body":"+1 If you were a few minutes faster I had skipped writing my own answer… However, it’s worth noting that some JRE parts cache that value, like the Java 7 <code>java.lang.System.lineSeparator()</code> does. To get a consistent behavior, that property should be specified at startup time."},{"owner":{"account_id":319034,"reputation":672,"user_id":636578,"accept_rate":67,"display_name":"Andreas"},"score":0,"creation_date":1395909353,"post_id":22681789,"comment_id":34554901,"body_markdown":"I never though about this actually. I still think this answer is the best however, this does not change the behaviour of System.out.println() which will still output `\\r\\n`","body":"I never though about this actually. I still think this answer is the best however, this does not change the behaviour of System.out.println() which will still output <code>\\r\\n</code>"},{"owner":{"account_id":1604752,"reputation":3710,"user_id":1485064,"accept_rate":74,"display_name":"Mikkel L&#248;kke"},"score":0,"creation_date":1395910428,"post_id":22681789,"comment_id":34555485,"body_markdown":"While this answer is technically correct, I&#39;d like to point out that changing the system property to something that is wrong can potentially  cause a lot of headaches, if you&#39;re using 3rd party libraries. Also keep in mind that this change is JVM-wide, so it will effect everything running on that JVM, whether you intend to or not.","body":"While this answer is technically correct, I&#39;d like to point out that changing the system property to something that is wrong can potentially  cause a lot of headaches, if you&#39;re using 3rd party libraries. Also keep in mind that this change is JVM-wide, so it will effect everything running on that JVM, whether you intend to or not."},{"owner":{"account_id":220789,"reputation":114430,"user_id":478399,"accept_rate":83,"display_name":"AlexR"},"score":0,"creation_date":1395910668,"post_id":22681789,"comment_id":34555626,"body_markdown":"@Holger, sure, you are right. Using `-Dline.separator` is preferable. I however do not know how to pass `\\n` from shell... I was just too lazy to try this.","body":"@Holger, sure, you are right. Using <code>-Dline.separator</code> is preferable. I however do not know how to pass <code>\\n</code> from shell... I was just too lazy to try this."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1395911212,"post_id":22681789,"comment_id":34555969,"body_markdown":"@Andreas: As said, at some places that property is cached. In case of `System.out.println()` it’s the class `BufferedWriter` which does that caching. Specifying the property at the command line works.","body":"@Andreas: As said, at some places that property is cached. In case of <code>System.out.println()</code> it’s the class <code>BufferedWriter</code> which does that caching. Specifying the property at the command line works."},{"owner":{"account_id":338172,"reputation":634,"user_id":666886,"display_name":"philwalk"},"score":1,"creation_date":1542321678,"post_id":22681789,"comment_id":93538241,"body_markdown":"as pointed out by @Andreas, you can use -Dline.separator=$&#39;\\n&#39;","body":"as pointed out by @Andreas, you can use -Dline.separator=$&#39;\\n&#39;"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1620005310,"post_id":22681789,"comment_id":119066261,"body_markdown":"This is not working on Java 14. I did not check backwards to previous Java versions when it started to break, but unless the property is set on the command line, it definitely has not effect for me, neither with streams nor with writers.","body":"This is not working on Java 14. I did not check backwards to previous Java versions when it started to break, but unless the property is set on the command line, it definitely has not effect for me, neither with streams nor with writers."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1620007201,"post_id":22681789,"comment_id":119066508,"body_markdown":"BTW, does anyone know how to do this on Windows in IntelliJ IDEA run configurations? I found no way to escape a newline character in there.","body":"BTW, does anyone know how to do this on Windows in IntelliJ IDEA run configurations? I found no way to escape a newline character in there."}],"tags":[],"owner":{"account_id":220789,"reputation":114430,"user_id":478399,"accept_rate":83,"display_name":"AlexR"},"comment_count":9,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1395908347,"creation_date":1395908347,"answer_id":22681789,"question_id":22681534,"body_markdown":"Yes, there is a way and I&#39;ve just tried it. \r\n\r\nThere is a system property `line.separator`. You can set it using `System.setProperty(&quot;line.separator&quot;, whatever)`\r\n\r\nTo be sure that it indeed causes JVM to use other separator I implemented the following exercise:\r\n\r\n\t\tPrintWriter writer = new PrintWriter(new FileWriter(&quot;c:/temp/mytest.txt&quot;));\r\n\t\twriter.println(&quot;hello&quot;);\r\n\t\twriter.println(&quot;world&quot;);\r\n\t\twriter.close();\r\n\r\nI am running on windows now, so the result was 14 bytes long file:\r\n\r\n    03/27/2014  10:13 AM                14 mytest.txt\r\n                   1 File(s)             14 bytes\r\n                   0 Dir(s)  409,157,980,160 bytes free\r\n\r\nHowever when I added the following line to the beginning of my code:\r\n\r\n\t\tSystem.setProperty(&quot;line.separator&quot;, &quot;\\n&quot;);\r\n\r\nI got 14 bytes long file:\r\n\r\n03/27/2014  10:13 AM                14 mytest.txt\r\n               1 File(s)             14 bytes\r\n               0 Dir(s)  409,157,980,160 bytes free\r\n\r\nI opened this file with notepad that does not recognize single `\\n` as a new line and saw one-line text `helloworld` instead of 2 separate lines. So, this works. \r\n","title":"Java change system new-line character","body":"<p>Yes, there is a way and I've just tried it. </p>\n\n<p>There is a system property <code>line.separator</code>. You can set it using <code>System.setProperty(\"line.separator\", whatever)</code></p>\n\n<p>To be sure that it indeed causes JVM to use other separator I implemented the following exercise:</p>\n\n<pre><code>    PrintWriter writer = new PrintWriter(new FileWriter(\"c:/temp/mytest.txt\"));\n    writer.println(\"hello\");\n    writer.println(\"world\");\n    writer.close();\n</code></pre>\n\n<p>I am running on windows now, so the result was 14 bytes long file:</p>\n\n<pre><code>03/27/2014  10:13 AM                14 mytest.txt\n               1 File(s)             14 bytes\n               0 Dir(s)  409,157,980,160 bytes free\n</code></pre>\n\n<p>However when I added the following line to the beginning of my code:</p>\n\n<pre><code>    System.setProperty(\"line.separator\", \"\\n\");\n</code></pre>\n\n<p>I got 14 bytes long file:</p>\n\n<p>03/27/2014  10:13 AM                14 mytest.txt\n               1 File(s)             14 bytes\n               0 Dir(s)  409,157,980,160 bytes free</p>\n\n<p>I opened this file with notepad that does not recognize single <code>\\n</code> as a new line and saw one-line text <code>helloworld</code> instead of 2 separate lines. So, this works. </p>\n"},{"comments":[{"owner":{"account_id":319034,"reputation":672,"user_id":636578,"accept_rate":67,"display_name":"Andreas"},"score":6,"creation_date":1395917083,"post_id":22681891,"comment_id":34560014,"body_markdown":"you can specify newline as follows `-Dline.separator=$&#39;\\n&#39;`","body":"you can specify newline as follows <code>-Dline.separator=$&#39;\\n&#39;</code>"},{"owner":{"account_id":338172,"reputation":634,"user_id":666886,"display_name":"philwalk"},"score":3,"creation_date":1542823826,"post_id":22681891,"comment_id":93710560,"body_markdown":"@Andreas +1. bit the $&#39;\\n&#39; usage implies a bash shell, and that requires IFS=&#39; &#39; also to be set, otherwise the newline may be treated as whitespace and discarded.","body":"@Andreas +1. bit the $&#39;\\n&#39; usage implies a bash shell, and that requires IFS=&#39; &#39; also to be set, otherwise the newline may be treated as whitespace and discarded."}],"tags":[],"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"comment_count":2,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1395908610,"creation_date":1395908610,"answer_id":22681891,"question_id":22681534,"body_markdown":"As already stated by others, the system property `line.separator` contains the actual line separator. Strangely, the other answers missed the simple conclusion: you can override that separator by changing that system property at startup time.\r\n\r\nE.g. if you run your program with the option `-Dline.separator=X` at the command line you will get the funny behavior of `System.out.println(…);` ending the line with an `X`.\r\n\r\nThe tricky part is how to specify characters like `\\n` or `\\r` at the command line. But that’s system/environment specific and not a Java question anymore.\r\n","title":"Java change system new-line character","body":"<p>As already stated by others, the system property <code>line.separator</code> contains the actual line separator. Strangely, the other answers missed the simple conclusion: you can override that separator by changing that system property at startup time.</p>\n\n<p>E.g. if you run your program with the option <code>-Dline.separator=X</code> at the command line you will get the funny behavior of <code>System.out.println(…);</code> ending the line with an <code>X</code>.</p>\n\n<p>The tricky part is how to specify characters like <code>\\n</code> or <code>\\r</code> at the command line. But that’s system/environment specific and not a Java question anymore.</p>\n"},{"tags":[],"owner":{"account_id":1147310,"reputation":2661,"user_id":1129781,"display_name":"Gijs Overvliet"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1395909505,"creation_date":1395909505,"answer_id":22682184,"question_id":22681534,"body_markdown":"As stated in the [Java SE tutorial][1]:\n\n&gt; To modify the existing set of system properties, use\n&gt; System.setProperties. This method takes a Properties object that has\n&gt; been initialized to contain the properties to be set. This method\n&gt; replaces the entire set of system properties with the new set\n&gt; represented by the Properties object. \n&gt;\n&gt; **Warning:** Changing system\n&gt; properties is potentially dangerous and should be done with\n&gt; discretion. Many system properties are not reread after start-up and\n&gt; are there for informational purposes. Changing some properties may\n&gt; have unexpected side-effects.\n\nIn the case of `System.out.println()`, the line separator that existed on system startup will be used. This is probably because [`System.lineSeparator()`][2] is used to terminate the line. From the documentation:\n\n&gt; Returns the system-dependent line separator string. It always returns\n&gt; the same value - the initial value of the system property\n&gt; line.separator.\n&gt; \n&gt; On UNIX systems, it returns &quot;\\n&quot;; on Microsoft Windows systems it\n&gt; returns &quot;\\r\\n&quot;.\n\nAs Holger [pointed out][3], you need to overwrite this property at startup of the JVM.\n\n\n  [1]: http://docs.oracle.com/javase/tutorial/essential/environment/sysprop.html\n  [2]: http://docs.oracle.com/javase/8/docs/api/java/lang/System.html#lineSeparator--\n  [3]: https://stackoverflow.com/questions/22681534/java-change-system-new-line-character/22681891#22681891","title":"Java change system new-line character","body":"<p>As stated in the <a href=\"http://docs.oracle.com/javase/tutorial/essential/environment/sysprop.html\" rel=\"nofollow noreferrer\">Java SE tutorial</a>:</p>\n<blockquote>\n<p>To modify the existing set of system properties, use\nSystem.setProperties. This method takes a Properties object that has\nbeen initialized to contain the properties to be set. This method\nreplaces the entire set of system properties with the new set\nrepresented by the Properties object.</p>\n<p><strong>Warning:</strong> Changing system\nproperties is potentially dangerous and should be done with\ndiscretion. Many system properties are not reread after start-up and\nare there for informational purposes. Changing some properties may\nhave unexpected side-effects.</p>\n</blockquote>\n<p>In the case of <code>System.out.println()</code>, the line separator that existed on system startup will be used. This is probably because <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/System.html#lineSeparator--\" rel=\"nofollow noreferrer\"><code>System.lineSeparator()</code></a> is used to terminate the line. From the documentation:</p>\n<blockquote>\n<p>Returns the system-dependent line separator string. It always returns\nthe same value - the initial value of the system property\nline.separator.</p>\n<p>On UNIX systems, it returns &quot;\\n&quot;; on Microsoft Windows systems it\nreturns &quot;\\r\\n&quot;.</p>\n</blockquote>\n<p>As Holger <a href=\"https://stackoverflow.com/questions/22681534/java-change-system-new-line-character/22681891#22681891\">pointed out</a>, you need to overwrite this property at startup of the JVM.</p>\n"},{"tags":[],"owner":{"account_id":57788,"reputation":46120,"user_id":173149,"accept_rate":62,"display_name":"gavenkoa"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1616514692,"creation_date":1616514692,"answer_id":66766654,"question_id":22681534,"body_markdown":"Checked Java 11 implementation:\r\n\r\n    private static void initPhase1() {\r\n        lineSeparator = props.getProperty(&quot;line.separator&quot;);\r\n    }\r\n\r\n    public static String lineSeparator() {\r\n        return lineSeparator;\r\n    }\r\n\r\nSo altering system property at runtime doesn&#39;t change `System.lineSeparator()`.\r\n\r\nFor this reason some projects re-read system property directly, see my answer: https://stackoverflow.com/questions/27969268/how-to-avoid-crlf-carriage-return-and-line-feed-in-logback-cwe-117/66766346#66766346\r\n\r\nThe only viable option is to set system property during app startup.\r\n\r\nFor Bash it is as simple as: `java -Dline.separator=$&#39;\\n&#39; -jar my.jar`.\r\n\r\nFor POSIX shell it is better to save that character in some variable first:\r\n\r\n    LF=&#39;\r\n    &#39;\r\n\r\n    java -Dline.separator=&quot;$LF&quot; -jar my.jar\r\n\r\nIf you are not sure debug it:\r\n\r\n```\r\nprintf %s &quot;$LF&quot; | wc -c\r\n1\r\n\r\nprintf %s &quot;$LF&quot; | od -x\r\n0000000 000a\r\n```\r\n\r\nFor Gradle I use:\r\n\r\n    tasks.withType(Test).configureEach {\r\n        systemProperty &#39;line.separator&#39;, &#39;\\n&#39;\r\n    }\r\n\r\n    bootRun {\r\n        systemProperty &#39;line.separator&#39;, &#39;\\n&#39;\r\n    }","title":"Java change system new-line character","body":"<p>Checked Java 11 implementation:</p>\n<pre><code>private static void initPhase1() {\n    lineSeparator = props.getProperty(&quot;line.separator&quot;);\n}\n\npublic static String lineSeparator() {\n    return lineSeparator;\n}\n</code></pre>\n<p>So altering system property at runtime doesn't change <code>System.lineSeparator()</code>.</p>\n<p>For this reason some projects re-read system property directly, see my answer: <a href=\"https://stackoverflow.com/questions/27969268/how-to-avoid-crlf-carriage-return-and-line-feed-in-logback-cwe-117/66766346#66766346\">How to avoid CRLF (Carriage Return and Line Feed) in Logback - CWE 117</a></p>\n<p>The only viable option is to set system property during app startup.</p>\n<p>For Bash it is as simple as: <code>java -Dline.separator=$'\\n' -jar my.jar</code>.</p>\n<p>For POSIX shell it is better to save that character in some variable first:</p>\n<pre><code>LF='\n'\n\njava -Dline.separator=&quot;$LF&quot; -jar my.jar\n</code></pre>\n<p>If you are not sure debug it:</p>\n<pre><code>printf %s &quot;$LF&quot; | wc -c\n1\n\nprintf %s &quot;$LF&quot; | od -x\n0000000 000a\n</code></pre>\n<p>For Gradle I use:</p>\n<pre><code>tasks.withType(Test).configureEach {\n    systemProperty 'line.separator', '\\n'\n}\n\nbootRun {\n    systemProperty 'line.separator', '\\n'\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1620121025,"creation_date":1620013053,"answer_id":67363205,"question_id":22681534,"body_markdown":"Because the accepted answer simply does not work, as others pointed out before me, and the JDK only initialises the value once and then never reads the property anymore, only an internal static field, it became clear that the clean way to change the property is to set it on the command line when starting the JVM. So far, so good.\r\n\r\nThe reason I am writing yet another answer is that I want to present a reflective way to change the field, which really works with streams and writers relying on `System.lineSeparator()`. It does not hurt to update the system property, too, but the field is more important.\r\n\r\nI know that reflection is ugly, as of Java 16+ needs an extra JVM command line parameter in order to allow it, and only works as long as the internals of `System` do not change in OpenJDK. But FWIW, here is my solution - don&#39;t do this at home, kids:\r\n\r\n```java\r\nimport java.io.*;\r\nimport java.lang.reflect.Field;\r\nimport java.nio.file.Files;\r\n\r\n/**\r\n * &#39;assert&#39; requires VM parameter &#39;-ea&#39; (enable assert)\r\n * &#39;Field.setAccessible&#39; on System requires &#39;--add-opens java.base/java.lang=ALL-UNNAMED&#39; on Java 16+\r\n */\r\npublic class ChangeLineSeparator {\r\n  public static void main(String[] args) throws IOException, NoSuchFieldException, IllegalAccessException {\r\n    assert System.lineSeparator().equals(&quot;\\r\\n&quot;) : &quot;default Windows line separator should be CRLF&quot;;\r\n    Field lineSeparator = System.class.getDeclaredField(&quot;lineSeparator&quot;);\r\n    lineSeparator.setAccessible(true);\r\n    lineSeparator.set(null, &quot;\\n&quot;);\r\n    assert System.lineSeparator().equals(&quot;\\n&quot;) : &quot;modified separator should be LF&quot;;\r\n\r\n    File tempFile = Files.createTempFile(null, null).toFile();\r\n    tempFile.deleteOnExit();\r\n    try (PrintWriter out = new PrintWriter(new FileWriter(tempFile))) {\r\n      out.println(&quot;foo&quot;);\r\n      out.println(&quot;bar&quot;);\r\n    }\r\n    assert tempFile.length() == &quot;foo\\nbar\\n&quot;.length() : &quot;unexpected file size&quot;;\r\n  }\r\n}\r\n```\r\n","title":"Java change system new-line character","body":"<p>Because the accepted answer simply does not work, as others pointed out before me, and the JDK only initialises the value once and then never reads the property anymore, only an internal static field, it became clear that the clean way to change the property is to set it on the command line when starting the JVM. So far, so good.</p>\n<p>The reason I am writing yet another answer is that I want to present a reflective way to change the field, which really works with streams and writers relying on <code>System.lineSeparator()</code>. It does not hurt to update the system property, too, but the field is more important.</p>\n<p>I know that reflection is ugly, as of Java 16+ needs an extra JVM command line parameter in order to allow it, and only works as long as the internals of <code>System</code> do not change in OpenJDK. But FWIW, here is my solution - don't do this at home, kids:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.*;\nimport java.lang.reflect.Field;\nimport java.nio.file.Files;\n\n/**\n * 'assert' requires VM parameter '-ea' (enable assert)\n * 'Field.setAccessible' on System requires '--add-opens java.base/java.lang=ALL-UNNAMED' on Java 16+\n */\npublic class ChangeLineSeparator {\n  public static void main(String[] args) throws IOException, NoSuchFieldException, IllegalAccessException {\n    assert System.lineSeparator().equals(&quot;\\r\\n&quot;) : &quot;default Windows line separator should be CRLF&quot;;\n    Field lineSeparator = System.class.getDeclaredField(&quot;lineSeparator&quot;);\n    lineSeparator.setAccessible(true);\n    lineSeparator.set(null, &quot;\\n&quot;);\n    assert System.lineSeparator().equals(&quot;\\n&quot;) : &quot;modified separator should be LF&quot;;\n\n    File tempFile = Files.createTempFile(null, null).toFile();\n    tempFile.deleteOnExit();\n    try (PrintWriter out = new PrintWriter(new FileWriter(tempFile))) {\n      out.println(&quot;foo&quot;);\n      out.println(&quot;bar&quot;);\n    }\n    assert tempFile.length() == &quot;foo\\nbar\\n&quot;.length() : &quot;unexpected file size&quot;;\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13460295,"reputation":1223,"user_id":9712582,"display_name":"user9712582"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648314922,"creation_date":1648314922,"answer_id":71630196,"question_id":22681534,"body_markdown":"Windows cmd: Credit jeb at https://superuser.com/a/1519790 for a technique to specify a line-feed character in a parameter using a cmd variable.  This technique can be used to specify the java line.separator.\r\n\r\nHere&#39;s a sample `javalf.cmd` file\r\n\r\n    @echo off\r\n    \r\n    REM define variable %\\n% to be the linefeed character\r\n    (set \\n=^^^\r\n    \r\n    ^\r\n    \r\n    )\r\n    \r\n    REM Start java using the value of %\\n% as the line.separator System property\r\n    java -Dline.separator=%\\n% %1 %2 %3 %4 %5 %6 %7 %8 %9\r\n\r\nHere&#39;s a short test progam.\r\n\r\n    public class ReadLineSeparator {\r\n      public static void main(String... ignore) {\r\n        System.out.println(System.lineSeparator().chars()\r\n                           .mapToObj(c -&gt; &quot;{&quot;+Character.getName(c)+&quot;}&quot;)\r\n                           .collect(java.util.stream.Collectors.joining()));\r\n      }\r\n    }\r\n\r\nOn Windows,\r\n`java ReadLineSeparator` produces \r\n\r\n&lt;pre&gt;{CARRIAGE RETURN (CR)}{LINE FEED (LF)}&lt;/pre&gt;\r\n\r\n`.\\javalf.cmd ReadLineSeparator` produces \r\n\r\n&lt;pre&gt;{LINE FEED (LF)}&lt;/pre&gt;\r\n\r\n","title":"Java change system new-line character","body":"<p>Windows cmd: Credit jeb at <a href=\"https://superuser.com/a/1519790\">https://superuser.com/a/1519790</a> for a technique to specify a line-feed character in a parameter using a cmd variable.  This technique can be used to specify the java line.separator.</p>\n<p>Here's a sample <code>javalf.cmd</code> file</p>\n<pre><code>@echo off\n\nREM define variable %\\n% to be the linefeed character\n(set \\n=^^^\n\n^\n\n)\n\nREM Start java using the value of %\\n% as the line.separator System property\njava -Dline.separator=%\\n% %1 %2 %3 %4 %5 %6 %7 %8 %9\n</code></pre>\n<p>Here's a short test progam.</p>\n<pre><code>public class ReadLineSeparator {\n  public static void main(String... ignore) {\n    System.out.println(System.lineSeparator().chars()\n                       .mapToObj(c -&gt; &quot;{&quot;+Character.getName(c)+&quot;}&quot;)\n                       .collect(java.util.stream.Collectors.joining()));\n  }\n}\n</code></pre>\n<p>On Windows,\n<code>java ReadLineSeparator</code> produces</p>\n<pre>{CARRIAGE RETURN (CR)}{LINE FEED (LF)}</pre>\n<p><code>.\\javalf.cmd ReadLineSeparator</code> produces</p>\n<pre>{LINE FEED (LF)}</pre>\n"}],"owner":{"account_id":319034,"reputation":672,"user_id":636578,"accept_rate":67,"display_name":"Andreas"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15062,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":22681891,"answer_count":8,"score":8,"last_activity_date":1666336797,"creation_date":1395907550,"question_id":22681534,"body_markdown":"On Windows, using `System.out.println()` prints out `\\n\\r` while on a Unix system you would get `\\n`.\r\n\r\nIs there any way to tell java what new-line characters you want to use?","title":"Java change system new-line character","body":"<p>On Windows, using <code>System.out.println()</code> prints out <code>\\n\\r</code> while on a Unix system you would get <code>\\n</code>.</p>\n\n<p>Is there any way to tell java what new-line characters you want to use?</p>\n"},{"tags":["java","oracle","quarkus"],"answers":[{"tags":[],"owner":{"account_id":2446461,"reputation":8725,"user_id":2133695,"display_name":"tsegismont"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666336664,"creation_date":1666336664,"answer_id":74150028,"question_id":74145676,"body_markdown":"It is not supported yet (as of Vert.x 4.3.4). I have [filed an issue][1], hopefully we can get it in the next release.\r\n\r\n\r\nIn the meantime, as a workaround, you may invoke the Oracle JDBC driver on a worker thread.\r\n\r\n  [1]: https://github.com/eclipse-vertx/vertx-sql-client/issues/1246","title":"How to set OUT parameter in Java Quarkus reactive client?","body":"<p>It is not supported yet (as of Vert.x 4.3.4). I have <a href=\"https://github.com/eclipse-vertx/vertx-sql-client/issues/1246\" rel=\"nofollow noreferrer\">filed an issue</a>, hopefully we can get it in the next release.</p>\n<p>In the meantime, as a workaround, you may invoke the Oracle JDBC driver on a worker thread.</p>\n"}],"owner":{"account_id":26685670,"reputation":11,"user_id":20295030,"display_name":"Anyer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":202,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1666336664,"creation_date":1666295920,"question_id":74145676,"body_markdown":"I need to send a parameter of type OUT in the call to the stored procedure, I can&#39;t find a way to declare (instead of &quot;OUTparameter&quot;) it using quarkus-reactive-oracle-client\r\n\r\nI use:\r\n   \r\n    @Inject\r\n    io.vertx.mutiny.oracleclient.OraclePool client;\r\n\r\nFragment: \r\n\r\n    Uni&lt;RowSet&lt;Row&gt;&gt; rowSet = client.preparedQuery(&quot;{CALL RSMFE02PCK.GET_ALL_XML(?,?)}&quot;).execute(Tuple.of(contract, &quot;OUTparameter&quot;));\r\n    return rowSet.onItem().transformToMulti(set -&gt; Multi.createFrom().iterable(set)).onItem().transform(row -&gt; row.getString(0));","title":"How to set OUT parameter in Java Quarkus reactive client?","body":"<p>I need to send a parameter of type OUT in the call to the stored procedure, I can't find a way to declare (instead of &quot;OUTparameter&quot;) it using quarkus-reactive-oracle-client</p>\n<p>I use:</p>\n<pre><code>@Inject\nio.vertx.mutiny.oracleclient.OraclePool client;\n</code></pre>\n<p>Fragment:</p>\n<pre><code>Uni&lt;RowSet&lt;Row&gt;&gt; rowSet = client.preparedQuery(&quot;{CALL RSMFE02PCK.GET_ALL_XML(?,?)}&quot;).execute(Tuple.of(contract, &quot;OUTparameter&quot;));\nreturn rowSet.onItem().transformToMulti(set -&gt; Multi.createFrom().iterable(set)).onItem().transform(row -&gt; row.getString(0));\n</code></pre>\n"},{"tags":["java","loops","java.util.scanner","infinite"],"comments":[{"owner":{"account_id":48447,"reputation":44848,"user_id":143938,"display_name":"Jonathan Feinberg"},"score":1,"creation_date":1259116160,"post_id":1794281,"comment_id":1681886,"body_markdown":"Since you haven&#39;t shown anybody what `in` is, or how you constructed it, there&#39;s no telling how it should behave!","body":"Since you haven&#39;t shown anybody what <code>in</code> is, or how you constructed it, there&#39;s no telling how it should behave!"}],"answers":[{"comments":[{"owner":{"account_id":14309,"reputation":4719,"user_id":29326,"accept_rate":91,"display_name":"Tomek"},"score":0,"creation_date":1259119186,"post_id":1794329,"comment_id":1682058,"body_markdown":"is there a reason you make the Scanner final?","body":"is there a reason you make the Scanner final?"},{"owner":{"account_id":26356,"reputation":68584,"user_id":68507,"accept_rate":94,"display_name":"Ben S"},"score":2,"creation_date":1259120910,"post_id":1794329,"comment_id":1682147,"body_markdown":"I make it final since it won&#39;t change. The compiler might do certain optimizations because of this. It&#39;s a good habit to declare everything that can be final. The loop will be broken when the user enters correct input. It&#39;s only infinite if the user choose to make it infinite. If you want, I can edit it so that it only allows for a given number of retries.","body":"I make it final since it won&#39;t change. The compiler might do certain optimizations because of this. It&#39;s a good habit to declare everything that can be final. The loop will be broken when the user enters correct input. It&#39;s only infinite if the user choose to make it infinite. If you want, I can edit it so that it only allows for a given number of retries."},{"owner":{"account_id":14309,"reputation":4719,"user_id":29326,"accept_rate":91,"display_name":"Tomek"},"score":0,"creation_date":1259121244,"post_id":1794329,"comment_id":1682163,"body_markdown":"I mean if i enter a &#39;w&#39; it goes into an infinite loop of displaying\n\n&quot;Specify an integer between 0 and 5: You have entered an invalid input. Try again.&quot;\n&quot;Specify an integer between 0 and 5: You have entered an invalid input. Try again.&quot;\n&quot;Specify an integer between 0 and 5: You have entered an invalid input. Try again.&quot;\n\nand so on. It was not until I added the in.next() to the catch statement to &quot;to clear the &#39;w&#39; or other invalid input from the Scanner&quot; as Brasse said. Unrelated, but you produce some quality code","body":"I mean if i enter a &#39;w&#39; it goes into an infinite loop of displaying  &quot;Specify an integer between 0 and 5: You have entered an invalid input. Try again.&quot; &quot;Specify an integer between 0 and 5: You have entered an invalid input. Try again.&quot; &quot;Specify an integer between 0 and 5: You have entered an invalid input. Try again.&quot;  and so on. It was not until I added the in.next() to the catch statement to &quot;to clear the &#39;w&#39; or other invalid input from the Scanner&quot; as Brasse said. Unrelated, but you produce some quality code"},{"owner":{"account_id":26356,"reputation":68584,"user_id":68507,"accept_rate":94,"display_name":"Ben S"},"score":0,"creation_date":1259121930,"post_id":1794329,"comment_id":1682207,"body_markdown":"I fix my example to properly discard non-int inputs.","body":"I fix my example to properly discard non-int inputs."},{"owner":{"account_id":14309,"reputation":4719,"user_id":29326,"accept_rate":91,"display_name":"Tomek"},"score":0,"creation_date":1259122180,"post_id":1794329,"comment_id":1682217,"body_markdown":"thank you but the in.next() statement should go in the catch block","body":"thank you but the in.next() statement should go in the catch block"},{"owner":{"account_id":118410,"reputation":62929,"user_id":309412,"accept_rate":74,"display_name":"Lie Ryan"},"score":0,"creation_date":1288888383,"post_id":1794329,"comment_id":4410980,"body_markdown":"congratulations for doing cargo cult programming","body":"congratulations for doing cargo cult programming"},{"owner":{"account_id":186022,"reputation":27604,"user_id":423105,"accept_rate":68,"display_name":"LarsH"},"score":0,"creation_date":1527843246,"post_id":1794329,"comment_id":88289206,"body_markdown":"As @RichFletcher pointed out, it&#39;s not true that &quot;`hasNextInt()` does not block.&quot; The documentation is explicit on that point. I think what you meant was that `hasNextInt()` doesn&#39;t advance past any input.","body":"As @RichFletcher pointed out, it&#39;s not true that &quot;<code>hasNextInt()</code> does not block.&quot; The documentation is explicit on that point. I think what you meant was that <code>hasNextInt()</code> doesn&#39;t advance past any input."}],"tags":[],"owner":{"account_id":26356,"reputation":68584,"user_id":68507,"accept_rate":94,"display_name":"Ben S"},"comment_count":7,"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1259122830,"creation_date":1259117104,"answer_id":1794329,"question_id":1794281,"body_markdown":"Flag variables are too error prone to use. Use explicit loop control with comments instead. Also, [`hasNextInt()`][1] does not block. It&#39;s the non-blocking check to see if a future [`next`][2] call could get input without blocking. If you want to block, use the [`nextInt()`][3] method.\r\n\r\n    // Scanner that will read the integer\r\n    final Scanner in = new Scanner(System.in);\r\n    int inputInt;\r\n    do {  // Loop until we have correct input\r\n        System.out.print(&quot;Specify an integer between 0 and 5: &quot;);\r\n        try {\r\n            inputInt = in.nextInt(); // Blocks for user input\r\n            if (inputInt &gt;= 0 &amp;&amp; inputInt &lt;= 5)  { \r\n                break;    // Got valid input, stop looping\r\n            } else {\r\n                System.out.println(&quot;You have not entered a number between 0 and 5. Try again.&quot;);\r\n                continue; // restart loop, wrong number\r\n             }\r\n        } catch (final InputMismatchException e) {\r\n            System.out.println(&quot;You have entered an invalid input. Try again.&quot;);\r\n            in.next();    // discard non-int input\r\n            continue;     // restart loop, didn&#39;t get an integer input\r\n        }\r\n    } while (true);\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/util/Scanner.html#hasNextInt()\r\n  [2]: http://java.sun.com/javase/6/docs/api/java/util/Scanner.html#next()\r\n  [3]: http://java.sun.com/javase/6/docs/api/java/util/Scanner.html#nextInt()","title":"Java: Infinite loop using Scanner in.hasNextInt()","body":"<p>Flag variables are too error prone to use. Use explicit loop control with comments instead. Also, <a href=\"http://java.sun.com/javase/6/docs/api/java/util/Scanner.html#hasNextInt()\" rel=\"nofollow noreferrer\"><code>hasNextInt()</code></a> does not block. It's the non-blocking check to see if a future <a href=\"http://java.sun.com/javase/6/docs/api/java/util/Scanner.html#next()\" rel=\"nofollow noreferrer\"><code>next</code></a> call could get input without blocking. If you want to block, use the <a href=\"http://java.sun.com/javase/6/docs/api/java/util/Scanner.html#nextInt()\" rel=\"nofollow noreferrer\"><code>nextInt()</code></a> method.</p>\n\n<pre><code>// Scanner that will read the integer\nfinal Scanner in = new Scanner(System.in);\nint inputInt;\ndo {  // Loop until we have correct input\n    System.out.print(\"Specify an integer between 0 and 5: \");\n    try {\n        inputInt = in.nextInt(); // Blocks for user input\n        if (inputInt &gt;= 0 &amp;&amp; inputInt &lt;= 5)  { \n            break;    // Got valid input, stop looping\n        } else {\n            System.out.println(\"You have not entered a number between 0 and 5. Try again.\");\n            continue; // restart loop, wrong number\n         }\n    } catch (final InputMismatchException e) {\n        System.out.println(\"You have entered an invalid input. Try again.\");\n        in.next();    // discard non-int input\n        continue;     // restart loop, didn't get an integer input\n    }\n} while (true);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":59951,"reputation":51423,"user_id":179233,"accept_rate":100,"display_name":"Kaleb Brasee"},"comment_count":0,"down_vote_count":0,"up_vote_count":28,"is_accepted":true,"score":28,"last_activity_date":1259117247,"creation_date":1259117247,"answer_id":1794333,"question_id":1794281,"body_markdown":"In your last `else` block, you need to clear the &#39;w&#39; or other invalid input from the Scanner.  You can do this by calling `next()` on the Scanner and ignoring its return value to throw away that invalid input, as follows:\r\n\r\n    else\r\n    {\r\n          System.out.println(&quot;You have entered an invalid input. Try again.&quot;);\r\n          in.next();\r\n    }\r\n","title":"Java: Infinite loop using Scanner in.hasNextInt()","body":"<p>In your last <code>else</code> block, you need to clear the 'w' or other invalid input from the Scanner.  You can do this by calling <code>next()</code> on the Scanner and ignoring its return value to throw away that invalid input, as follows:</p>\n\n<pre><code>else\n{\n      System.out.println(\"You have entered an invalid input. Try again.\");\n      in.next();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":102991,"reputation":378292,"user_id":276101,"accept_rate":67,"display_name":"polygenelubricants"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1272950400,"creation_date":1272950400,"answer_id":2762976,"question_id":1794281,"body_markdown":"The problem was that you did not advance the `Scanner` past the problematic input. From [`hasNextInt()`](http://java.sun.com/javase/6/docs/api/java/util/Scanner.html#hasNextInt%28%29) documentation:\r\n\r\n&gt; Returns `true` if the next token in this scanner&#39;s input can be interpreted as an `int` value in the default radix using the `nextInt()` method. **The scanner does not advance past any input.**\r\n\r\nThis is true of all `hasNextXXX()` methods: they return `true` or `false`, without advancing the `Scanner`.\r\n\r\nHere&#39;s a snippet to illustrate the problem:\r\n\r\n\t\tString input = &quot;1 2 3 oops 4 5 6&quot;;\r\n\t\tScanner sc = new Scanner(input);\r\n\t\twhile (sc.hasNext()) {\r\n\t\t\tif (sc.hasNextInt()) {\r\n\t\t\t\tint num = sc.nextInt();\r\n\t\t\t\tSystem.out.println(&quot;Got &quot; + num);\r\n\t\t\t} else {\r\n\t\t\t\tSystem.out.println(&quot;int, please!&quot;);\r\n\t\t\t\t//sc.next(); // uncomment to fix!\r\n\t\t\t}\r\n\t\t}\r\n\r\nYou will find that this program will go into an infinite loop, asking `int, please!` repeatedly.\r\n\r\nIf you uncomment the `sc.next()` statement, then it will make the `Scanner` go past the token that fails `hasNextInt()`. The program would then print:\r\n\r\n    Got 1\r\n    Got 2\r\n    Got 3\r\n    int, please!\r\n    Got 4\r\n    Got 5\r\n    Got 6\r\n\r\nThe fact that a failed `hasNextXXX()` check doesn&#39;t skip the input is intentional: it allows you to perform additional checks on that token if necessary. Here&#39;s an example to illustrate:\r\n\r\n\t\tString input = &quot; 1 true foo 2 false bar 3 &quot;;\r\n\t\tScanner sc = new Scanner(input);\r\n\t\twhile (sc.hasNext()) {\r\n\t\t\tif (sc.hasNextInt()) {\r\n\t\t\t\tSystem.out.println(&quot;(int) &quot; + sc.nextInt());\r\n\t\t\t} else if (sc.hasNextBoolean()) {\r\n\t\t\t\tSystem.out.println(&quot;(boolean) &quot; + sc.nextBoolean());\r\n\t\t\t} else {\r\n\t\t\t\tSystem.out.println(sc.next());\r\n\t\t\t}\r\n\t\t}\r\n\r\nIf you run this program, it will output the following:\r\n\r\n    (int) 1\r\n    (boolean) true\r\n    foo\r\n    (int) 2\r\n    (boolean) false\r\n    bar\r\n    (int) 3\r\n\r\n","title":"Java: Infinite loop using Scanner in.hasNextInt()","body":"<p>The problem was that you did not advance the <code>Scanner</code> past the problematic input. From <a href=\"http://java.sun.com/javase/6/docs/api/java/util/Scanner.html#hasNextInt%28%29\" rel=\"noreferrer\"><code>hasNextInt()</code></a> documentation:</p>\n\n<blockquote>\n  <p>Returns <code>true</code> if the next token in this scanner's input can be interpreted as an <code>int</code> value in the default radix using the <code>nextInt()</code> method. <strong>The scanner does not advance past any input.</strong></p>\n</blockquote>\n\n<p>This is true of all <code>hasNextXXX()</code> methods: they return <code>true</code> or <code>false</code>, without advancing the <code>Scanner</code>.</p>\n\n<p>Here's a snippet to illustrate the problem:</p>\n\n<pre><code>    String input = \"1 2 3 oops 4 5 6\";\n    Scanner sc = new Scanner(input);\n    while (sc.hasNext()) {\n        if (sc.hasNextInt()) {\n            int num = sc.nextInt();\n            System.out.println(\"Got \" + num);\n        } else {\n            System.out.println(\"int, please!\");\n            //sc.next(); // uncomment to fix!\n        }\n    }\n</code></pre>\n\n<p>You will find that this program will go into an infinite loop, asking <code>int, please!</code> repeatedly.</p>\n\n<p>If you uncomment the <code>sc.next()</code> statement, then it will make the <code>Scanner</code> go past the token that fails <code>hasNextInt()</code>. The program would then print:</p>\n\n<pre><code>Got 1\nGot 2\nGot 3\nint, please!\nGot 4\nGot 5\nGot 6\n</code></pre>\n\n<p>The fact that a failed <code>hasNextXXX()</code> check doesn't skip the input is intentional: it allows you to perform additional checks on that token if necessary. Here's an example to illustrate:</p>\n\n<pre><code>    String input = \" 1 true foo 2 false bar 3 \";\n    Scanner sc = new Scanner(input);\n    while (sc.hasNext()) {\n        if (sc.hasNextInt()) {\n            System.out.println(\"(int) \" + sc.nextInt());\n        } else if (sc.hasNextBoolean()) {\n            System.out.println(\"(boolean) \" + sc.nextBoolean());\n        } else {\n            System.out.println(sc.next());\n        }\n    }\n</code></pre>\n\n<p>If you run this program, it will output the following:</p>\n\n<pre><code>(int) 1\n(boolean) true\nfoo\n(int) 2\n(boolean) false\nbar\n(int) 3\n</code></pre>\n"},{"tags":[],"owner":{"account_id":341271,"reputation":53,"user_id":671771,"display_name":"Rich Fletcher"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1300819706,"creation_date":1300819706,"answer_id":5396298,"question_id":1794281,"body_markdown":"This statement by Ben S. about the non-blocking call is false:\r\n\r\n&gt; Also, hasNextInt() does not block. It&#39;s the non-blocking check to see if a future next call could get input without blocking. \r\n\r\n...although I do recognize that the [documentation][1] can easily be misread to give this opinion, and the name itself implies it is to be used for this purpose.  The relevant quote, with emphasis added:\r\n\r\n&gt; The next() and hasNext() methods **and their primitive-type companion methods (such as nextInt() and hasNextInt())** first skip any input that matches the delimiter pattern, and then attempt to return the next token. **Both hasNext and next methods may block waiting for further input.** Whether a hasNext method blocks has no connection to whether or not its associated next method will block. \r\n\r\nIt is a subtle point, to be sure.  Either saying &quot;Both **the** hasNext and next methods&quot;, or &quot;Both hasnext() and next()&quot; would have implied that the companion methods would act differently.  But seeing as they conform to the same naming convention (and the documentation, of course), it&#39;s reasonable to expect they act the same, and [hasNext()][2]\r\nclearly says that it can block.\r\n\r\nMeta note: this should probably be a comment to the incorrect post, but it seems that as a new user I can only post this answer (or edit the wiki which seems to be preferred for sytlistic changes, not those of substance).\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/util/Scanner.html\r\n  [2]: http://download.oracle.com/javase/6/docs/api/java/util/Scanner.html#hasNext%28%29","title":"Java: Infinite loop using Scanner in.hasNextInt()","body":"<p>This statement by Ben S. about the non-blocking call is false:</p>\n\n<blockquote>\n  <p>Also, hasNextInt() does not block. It's the non-blocking check to see if a future next call could get input without blocking. </p>\n</blockquote>\n\n<p>...although I do recognize that the <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/Scanner.html\" rel=\"nofollow\">documentation</a> can easily be misread to give this opinion, and the name itself implies it is to be used for this purpose.  The relevant quote, with emphasis added:</p>\n\n<blockquote>\n  <p>The next() and hasNext() methods <strong>and their primitive-type companion methods (such as nextInt() and hasNextInt())</strong> first skip any input that matches the delimiter pattern, and then attempt to return the next token. <strong>Both hasNext and next methods may block waiting for further input.</strong> Whether a hasNext method blocks has no connection to whether or not its associated next method will block. </p>\n</blockquote>\n\n<p>It is a subtle point, to be sure.  Either saying \"Both <strong>the</strong> hasNext and next methods\", or \"Both hasnext() and next()\" would have implied that the companion methods would act differently.  But seeing as they conform to the same naming convention (and the documentation, of course), it's reasonable to expect they act the same, and <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/Scanner.html#hasNext%28%29\" rel=\"nofollow\">hasNext()</a>\nclearly says that it can block.</p>\n\n<p>Meta note: this should probably be a comment to the incorrect post, but it seems that as a new user I can only post this answer (or edit the wiki which seems to be preferred for sytlistic changes, not those of substance).</p>\n"}],"owner":{"account_id":14309,"reputation":4719,"user_id":29326,"accept_rate":91,"display_name":"Tomek"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54944,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"accepted_answer_id":1794333,"answer_count":4,"score":22,"last_activity_date":1666336523,"creation_date":1259115952,"question_id":1794281,"body_markdown":"I am using the following code:\r\n\r\n    while (invalidInput)\r\n    {\r\n        // ask the user to specify a number to update the times by\r\n        System.out.print(&quot;Specify an integer between 0 and 5: &quot;);\r\n\r\n        if (in.hasNextInt())\r\n        {\r\n            // get the update value\r\n            updateValue = in.nextInt();\r\n\t\t\t\t\r\n            // check to see if it was within range\r\n            if (updateValue &gt;= 0 &amp;&amp; updateValue &lt;= 5) \r\n            { \r\n                invalidInput = false; \r\n            } \r\n            else \r\n            {\r\n                System.out.println(&quot;You have not entered a number between 0 and 5. Try again.&quot;);\r\n            }\r\n        } else\r\n        {\r\n            System.out.println(&quot;You have entered an invalid input. Try again.&quot;);\r\n        }\r\n    }\r\n\r\nHowever, if I enter a &#39;w&#39; it will tell me &quot;You have entered invalid input. Try Again.&quot; and then it will go into an infinite loop showing the text &quot;Specify an integer between 0 and 5: You have entered an invalid input. Try again.&quot;\r\n\r\nWhy is this happening? Isn&#39;t the program supposed to wait for the user to input and press enter each time it reaches the statement:\r\n\r\n    if (in.hasNextInt())\r\n","title":"Java: Infinite loop using Scanner in.hasNextInt()","body":"<p>I am using the following code:</p>\n\n<pre><code>while (invalidInput)\n{\n    // ask the user to specify a number to update the times by\n    System.out.print(\"Specify an integer between 0 and 5: \");\n\n    if (in.hasNextInt())\n    {\n        // get the update value\n        updateValue = in.nextInt();\n\n        // check to see if it was within range\n        if (updateValue &gt;= 0 &amp;&amp; updateValue &lt;= 5) \n        { \n            invalidInput = false; \n        } \n        else \n        {\n            System.out.println(\"You have not entered a number between 0 and 5. Try again.\");\n        }\n    } else\n    {\n        System.out.println(\"You have entered an invalid input. Try again.\");\n    }\n}\n</code></pre>\n\n<p>However, if I enter a 'w' it will tell me \"You have entered invalid input. Try Again.\" and then it will go into an infinite loop showing the text \"Specify an integer between 0 and 5: You have entered an invalid input. Try again.\"</p>\n\n<p>Why is this happening? Isn't the program supposed to wait for the user to input and press enter each time it reaches the statement:</p>\n\n<pre><code>if (in.hasNextInt())\n</code></pre>\n"},{"tags":["java","spring-boot","cookies"],"comments":[{"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"score":1,"creation_date":1666480240,"post_id":74149765,"comment_id":130947907,"body_markdown":"did you check my answer?","body":"did you check my answer?"}],"answers":[{"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666336464,"creation_date":1666336464,"answer_id":74149993,"question_id":74149765,"body_markdown":"Try with \r\n \r\n\r\n    public void deleteCookiesFromDomain(HttpServletRequest request, HttpServletResponse response, String domain) {\r\n\t    Arrays.stream(request.getCookies()).filter(cookie -&gt; cookie.getDomain().equals(domain)).forEach(cookie -&gt; {\r\n\t        cookie.setMaxAge(0);\r\n\t        cookie.setPath(&quot;/&quot;);\r\n            response.addCookie(cookie);\r\n        });\r\n\r\n`HttpServletRequest` and `HttpServletResponse` could be injected in your controller from Spring if requested.","title":"Springboot : delete all cookies for a specific domain","body":"<p>Try with</p>\n<pre><code>public void deleteCookiesFromDomain(HttpServletRequest request, HttpServletResponse response, String domain) {\n    Arrays.stream(request.getCookies()).filter(cookie -&gt; cookie.getDomain().equals(domain)).forEach(cookie -&gt; {\n        cookie.setMaxAge(0);\n        cookie.setPath(&quot;/&quot;);\n        response.addCookie(cookie);\n    });\n</code></pre>\n<p><code>HttpServletRequest</code> and <code>HttpServletResponse</code> could be injected in your controller from Spring if requested.</p>\n"}],"owner":{"account_id":5173763,"reputation":955,"user_id":4141569,"accept_rate":32,"display_name":"Sritam Jagadev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":408,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74149993,"answer_count":1,"score":1,"last_activity_date":1666336464,"creation_date":1666335158,"question_id":74149765,"body_markdown":"I am deleting cookies one by one by manually providing cookie field names for specific domain by using below code in spring boot.\r\n\r\n    ResponseCookie rs = ResponseCookie.from(&quot;&lt;cookie field key&gt;&quot;,null).domain(&quot;abc.com&quot;).maxAge(0).path(&quot;/&quot;).build();\r\n    headers.add(HttpHeaders.SET_COOKIE,rs.toString());\r\n\r\nBut I want to delete all the cookies for a specific domain without providing cookie field names.","title":"Springboot : delete all cookies for a specific domain","body":"<p>I am deleting cookies one by one by manually providing cookie field names for specific domain by using below code in spring boot.</p>\n<pre><code>ResponseCookie rs = ResponseCookie.from(&quot;&lt;cookie field key&gt;&quot;,null).domain(&quot;abc.com&quot;).maxAge(0).path(&quot;/&quot;).build();\nheaders.add(HttpHeaders.SET_COOKIE,rs.toString());\n</code></pre>\n<p>But I want to delete all the cookies for a specific domain without providing cookie field names.</p>\n"},{"tags":["java","date","datetime","pdf","datetime-format"],"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1666291146,"post_id":74110869,"comment_id":130908205,"body_markdown":"I put my suggestion here: https://rextester.com/OQF29673. It’s longer but also more explicit and doesn’t use the `p` format pattern letter because it’s really for space padding, not zero padding, so I considered it an unpleasant hack.","body":"I put my suggestion here: <a href=\"https://rextester.com/OQF29673\" rel=\"nofollow noreferrer\">rextester.com/OQF29673</a>. It’s longer but also more explicit and doesn’t use the <code>p</code> format pattern letter because it’s really for space padding, not zero padding, so I considered it an unpleasant hack."}],"answers":[{"comments":[{"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":2,"creation_date":1666115275,"post_id":74112301,"comment_id":130857562,"body_markdown":"Good find! However, you still need to make two changes for this to work for the full format: (1) `dateTimeString = dateTimeString.replaceAll(&quot;&#39;(\\\\d{2})&#39;$&quot;, &quot;:$1&quot;);`. There can be other alternatives but this is an easy option. (2) Use  `XXX` in the pattern i.e. use the pattern `&quot;[&#39;D:&#39;]ppppy[ppM[ppd[ppH[ppm[pps[XXX]]]]]]&quot;`.","body":"Good find! However, you still need to make two changes for this to work for the full format: (1) <code>dateTimeString = dateTimeString.replaceAll(&quot;&#39;(\\\\d{2})&#39;$&quot;, &quot;:$1&quot;);</code>. There can be other alternatives but this is an easy option. (2) Use  <code>XXX</code> in the pattern i.e. use the pattern <code>&quot;[&#39;D:&#39;]ppppy[ppM[ppd[ppH[ppm[pps[XXX]]]]]]&quot;</code>."},{"owner":{"account_id":8762581,"reputation":95,"user_id":6552131,"display_name":"Adrian Diemer"},"score":0,"creation_date":1666163047,"post_id":74112301,"comment_id":130867388,"body_markdown":"Yes, single quotes have to be removed. I&#39;ll update the answer. However, I&#39;d rather use `replaceAll(&quot;&#39;&quot;, &quot;&quot;)` in order to allow for missing offset minutes. Parsing the whole string works for me using `X`. And I think for formatting, accoding to https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html you would have to use `XX` to get the same format (minus the single quotes).","body":"Yes, single quotes have to be removed. I&#39;ll update the answer. However, I&#39;d rather use <code>replaceAll(&quot;&#39;&quot;, &quot;&quot;)</code> in order to allow for missing offset minutes. Parsing the whole string works for me using <code>X</code>. And I think for formatting, accoding to <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/time/format/&hellip;</a> you would have to use <code>XX</code> to get the same format (minus the single quotes)."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1666209555,"post_id":74112301,"comment_id":130884497,"body_markdown":"Prefer `YearMonth` over `Month` when we know a year must be present. Also prefer `OffsetDateTime` over `ZonedDateTime` when you may have an offset but certainly no time zone . A single quote, `&#39;`, can be parsed when you place two of them in the pattern, `&#39;&#39;`. I find this nicer than the manual removal.","body":"Prefer <code>YearMonth</code> over <code>Month</code> when we know a year must be present. Also prefer <code>OffsetDateTime</code> over <code>ZonedDateTime</code> when you may have an offset but certainly no time zone . A single quote, <code>&#39;</code>, can be parsed when you place two of them in the pattern, <code>&#39;&#39;</code>. I find this nicer than the manual removal."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1666210482,"post_id":74112301,"comment_id":130884808,"body_markdown":"Please forget what I said about the apostrophe.  It doesn&#39;t work within a UTC offset.","body":"Please forget what I said about the apostrophe.  It doesn&#39;t work within a UTC offset."}],"tags":[],"owner":{"account_id":8762581,"reputation":95,"user_id":6552131,"display_name":"Adrian Diemer"},"comment_count":4,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1666336265,"creation_date":1666101587,"answer_id":74112301,"question_id":74110869,"body_markdown":"I&#39;ve found a solution:\r\n\r\n```java\r\nString dateString = &quot;D:20020101120000+01&#39;00&#39;&quot;;\r\nString normalized = dateString.replace(&quot;&#39;&quot;, &quot;&quot;);\r\nDateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;[&#39;D:&#39;]ppppy[ppM[ppd[ppH[ppm[pps[X]]]]]]&quot;);\r\nTemporalAccessor temporalAccessor = formatter.parseBest(normalized,\r\n    OffsetDateTime::from,\r\n    LocalDateTime::from,\r\n    LocalDate::from,\r\n    YearMonth::from,\r\n    Year::from\r\n);\r\n```\r\n\r\nAs it seems, the length of the components is ambiguous and parsing of the date without any separators thus failed.\r\nWhen specifying a padding, the length of each component is clearly stated and the date can therefore be parsed.\r\n\r\nAt least that&#39;s my theory.","title":"Parsing PDF date using Java DateTimeFormatter","body":"<p>I've found a solution:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String dateString = &quot;D:20020101120000+01'00'&quot;;\nString normalized = dateString.replace(&quot;'&quot;, &quot;&quot;);\nDateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;['D:']ppppy[ppM[ppd[ppH[ppm[pps[X]]]]]]&quot;);\nTemporalAccessor temporalAccessor = formatter.parseBest(normalized,\n    OffsetDateTime::from,\n    LocalDateTime::from,\n    LocalDate::from,\n    YearMonth::from,\n    Year::from\n);\n</code></pre>\n<p>As it seems, the length of the components is ambiguous and parsing of the date without any separators thus failed.\nWhen specifying a padding, the length of each component is clearly stated and the date can therefore be parsed.</p>\n<p>At least that's my theory.</p>\n"}],"owner":{"account_id":8762581,"reputation":95,"user_id":6552131,"display_name":"Adrian Diemer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":164,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74112301,"answer_count":1,"score":2,"last_activity_date":1666336265,"creation_date":1666095627,"question_id":74110869,"body_markdown":"I&#39;m trying to parse the date format used in PDFs. According to [this page][1], the format looks as follows:\r\n\r\n    D:YYYYMMDDHHmmSSOHH&#39;mm&#39;\r\n\r\nWhere all components except the year are optional. I assume this means the string can be cut off at any point as i.e. specifying a year and an hour without specifying a month and a day seems kind of pointless to me. Also, it would make parsing pretty much impossible.\r\n\r\nAs far as I can tell, Java does not support zone offsets containing single quotes. Therefore, the first step would be to get rid of those:\r\n\r\n    D:YYYYMMDDHHmmSSOHHmm\r\n\r\nThe resulting Java date pattern should then look like this:\r\n\r\n    [&#39;D:&#39;]uuuu[MM[dd[HH[mm[ss[X]]]]]]\r\n\r\nAnd my overall code looks like this:\r\n```java\r\nDateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;[&#39;D:&#39;]uuuu[MM[dd[HH[mm[ss[X]]]]]]&quot;);\r\nTemporalAccessor temporalAccessor = formatter.parseBest(&quot;D:20020101&quot;,\r\n    ZonedDateTime::from,\r\n    LocalDateTime::from,\r\n    LocalDate::from,\r\n    Month::from,\r\n    Year::from\r\n);\r\n```\r\nI would expect that to result in a LocalDate object but what I get is `java.time.format.DateTimeParseException: Text &#39;D:20020101&#39; could not be parsed at index 2`.\r\n\r\nI&#39;ve played around a bit with that and found out that everything works fine with the optional literal at the beginning but as soon as I add optional date components, I get an exception.\r\n\r\nCan anybody tell me what I&#39;m doing wrong?\r\n\r\nThanks in advance!\r\n\r\n  [1]: https://www.verypdf.com/pdfinfoeditor/pdf-date-format.htm","title":"Parsing PDF date using Java DateTimeFormatter","body":"<p>I'm trying to parse the date format used in PDFs. According to <a href=\"https://www.verypdf.com/pdfinfoeditor/pdf-date-format.htm\" rel=\"nofollow noreferrer\">this page</a>, the format looks as follows:</p>\n<pre><code>D:YYYYMMDDHHmmSSOHH'mm'\n</code></pre>\n<p>Where all components except the year are optional. I assume this means the string can be cut off at any point as i.e. specifying a year and an hour without specifying a month and a day seems kind of pointless to me. Also, it would make parsing pretty much impossible.</p>\n<p>As far as I can tell, Java does not support zone offsets containing single quotes. Therefore, the first step would be to get rid of those:</p>\n<pre><code>D:YYYYMMDDHHmmSSOHHmm\n</code></pre>\n<p>The resulting Java date pattern should then look like this:</p>\n<pre><code>['D:']uuuu[MM[dd[HH[mm[ss[X]]]]]]\n</code></pre>\n<p>And my overall code looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;['D:']uuuu[MM[dd[HH[mm[ss[X]]]]]]&quot;);\nTemporalAccessor temporalAccessor = formatter.parseBest(&quot;D:20020101&quot;,\n    ZonedDateTime::from,\n    LocalDateTime::from,\n    LocalDate::from,\n    Month::from,\n    Year::from\n);\n</code></pre>\n<p>I would expect that to result in a LocalDate object but what I get is <code>java.time.format.DateTimeParseException: Text 'D:20020101' could not be parsed at index 2</code>.</p>\n<p>I've played around a bit with that and found out that everything works fine with the optional literal at the beginning but as soon as I add optional date components, I get an exception.</p>\n<p>Can anybody tell me what I'm doing wrong?</p>\n<p>Thanks in advance!</p>\n"},{"tags":["java","android","firebase","google-cloud-firestore"],"answers":[{"comments":[{"owner":{"account_id":15604510,"reputation":35,"user_id":11257675,"display_name":"W. Braz"},"score":0,"creation_date":1666384672,"post_id":74138652,"comment_id":130932964,"body_markdown":"Thank you for your answer! It helped me to understand the logic behind it, but I&#39;m facing some issues when trying to put it in practice.\nI would be grateful if you could take a look in what I&#39;ve done: https://pastebin.com/fQaiqNCT","body":"Thank you for your answer! It helped me to understand the logic behind it, but I&#39;m facing some issues when trying to put it in practice. I would be grateful if you could take a look in what I&#39;ve done: <a href=\"https://pastebin.com/fQaiqNCT\" rel=\"nofollow noreferrer\">pastebin.com/fQaiqNCT</a>"},{"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1666436586,"post_id":74138652,"comment_id":130939515,"body_markdown":"&quot;some issues&quot; is really hard to help with. If you set breakpoints on each line of the code you shared, run in the debugger, and then check the value of every variable on every line, which is the *first* one that doesn&#39;t do what you expect it to do?","body":"&quot;some issues&quot; is really hard to help with. If you set breakpoints on each line of the code you shared, run in the debugger, and then check the value of every variable on every line, which is the <i>first</i> one that doesn&#39;t do what you expect it to do?"},{"owner":{"account_id":15604510,"reputation":35,"user_id":11257675,"display_name":"W. Braz"},"score":0,"creation_date":1666527081,"post_id":74138652,"comment_id":130953619,"body_markdown":"Sorry, I expressed myself wrongly. The problem is, even though I tried to do as you told me in the answer earlier, about using the UID and such. I still keep getting blocked from saving the data, because it points out that the username is already in use...","body":"Sorry, I expressed myself wrongly. The problem is, even though I tried to do as you told me in the answer earlier, about using the UID and such. I still keep getting blocked from saving the data, because it points out that the username is already in use..."},{"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1666589024,"post_id":74138652,"comment_id":130964339,"body_markdown":"That&#39;s the final result that is not what you want. Instead: try to find he first line that isn&#39;t working. --- If you set breakpoints on each line of the code you shared, run in the debugger, and then check the value of every variable on every line, which is the first one that doesn&#39;t do what you expect it to do?","body":"That&#39;s the final result that is not what you want. Instead: try to find he first line that isn&#39;t working. --- If you set breakpoints on each line of the code you shared, run in the debugger, and then check the value of every variable on every line, which is the first one that doesn&#39;t do what you expect it to do?"}],"tags":[],"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666263122,"creation_date":1666263122,"answer_id":74138652,"question_id":74134480,"body_markdown":"You&#39;ll need to have some indication in each `Users` document to indicate **which** user has claimed that specific name. Given that you store the username *inside* the document, ownership would typically be established by using the UID of the user as the ID of the document.\r\n\r\nOnce you have run your query to find the document for the username, you can then check the UID of the owner of that username against the currently signed in user. If the two UIDs are the same, the current user owns the username and is allowed to update the document.","title":"How to update user data without changes into Firestore when it&#39;s checking for already existence in database?","body":"<p>You'll need to have some indication in each <code>Users</code> document to indicate <strong>which</strong> user has claimed that specific name. Given that you store the username <em>inside</em> the document, ownership would typically be established by using the UID of the user as the ID of the document.</p>\n<p>Once you have run your query to find the document for the username, you can then check the UID of the owner of that username against the currently signed in user. If the two UIDs are the same, the current user owns the username and is allowed to update the document.</p>\n"},{"tags":[],"owner":{"account_id":16268011,"reputation":54,"user_id":11747484,"display_name":"Umair Qayyum"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666336184,"creation_date":1666335598,"answer_id":74149843,"question_id":74134480,"body_markdown":"Compare new username with previous username(store it in a variable while displaying user profile data), if both are same don&#39;t update it all else check for its uniqueness.\r\nor if you don&#39;t have existing  username data create relationship with that document and fetch previous username first.","title":"How to update user data without changes into Firestore when it&#39;s checking for already existence in database?","body":"<p>Compare new username with previous username(store it in a variable while displaying user profile data), if both are same don't update it all else check for its uniqueness.\nor if you don't have existing  username data create relationship with that document and fetch previous username first.</p>\n"}],"owner":{"account_id":15604510,"reputation":35,"user_id":11257675,"display_name":"W. Braz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1666336184,"creation_date":1666240451,"question_id":74134480,"body_markdown":"I recently implemented unique username into my app when registering, all good far here, by the way I also need to set it to when the user is editting it&#39;s profile.\r\n\r\nI tried to do the same thing, but I&#39;m facing an issue here. The app don&#39;t let save the profile, because it&#39;s checking if the username&#39;s taken and, as we&#39;re already using one, it won&#39;t let us do it.\r\n\r\n***Ex.:*** My username is **&quot;bob&quot;**, I changed my profile pic or my display name, so when I click to save, the app will do a username checking in the background and will not let me save it because the username is already taken, but the problem is that it&#39;s already my user. \r\n\r\nI&#39;ve tried to set this, but failed:\r\n\r\n    if (document.equals(setup_username.getText().toString()) || document.isEmpty()){\r\n        updateProfile();\r\n\r\nHere&#39;s my code:\r\n\r\n    setup_progressbar.setVisibility(View.VISIBLE);\r\n    FirebaseFirestore.getInstance().collection(&quot;Users&quot;).whereEqualTo(&quot;username&quot;,setup_username.getText().toString()).get().addOnCompleteListener((task) -&gt; {\r\n        if (task.isSuccessful()){\r\n            List&lt;DocumentSnapshot&gt; document = task.getResult().getDocuments();\r\n            if (document.equals(setup_username.getText().toString()) || document.isEmpty()){\r\n                updateProfile();\r\n            } else {\r\n                setup_progressbar.setVisibility(View.INVISIBLE);\r\n                setup_username.setError(getString(R.string.username_taken));\r\n                return;\r\n            }\r\n        } else {\r\n            setup_progressbar.setVisibility(View.INVISIBLE);\r\n            String error = task.getException().getMessage();\r\n            FancyToast.makeText(getApplicationContext(), error, FancyToast.LENGTH_SHORT, FancyToast.ERROR, false).show();\r\n        }\r\n    });\r\n\r\n*So how to get around this and only forbid it when I try to change my username to another that is taken? Like: **&quot;bob&quot;** to **&quot;bill&quot;**, but **&quot;bill&quot;** is already taken, so it won&#39;t allow.*","title":"How to update user data without changes into Firestore when it&#39;s checking for already existence in database?","body":"<p>I recently implemented unique username into my app when registering, all good far here, by the way I also need to set it to when the user is editting it's profile.</p>\n<p>I tried to do the same thing, but I'm facing an issue here. The app don't let save the profile, because it's checking if the username's taken and, as we're already using one, it won't let us do it.</p>\n<p><em><strong>Ex.:</strong></em> My username is <strong>&quot;bob&quot;</strong>, I changed my profile pic or my display name, so when I click to save, the app will do a username checking in the background and will not let me save it because the username is already taken, but the problem is that it's already my user.</p>\n<p>I've tried to set this, but failed:</p>\n<pre><code>if (document.equals(setup_username.getText().toString()) || document.isEmpty()){\n    updateProfile();\n</code></pre>\n<p>Here's my code:</p>\n<pre><code>setup_progressbar.setVisibility(View.VISIBLE);\nFirebaseFirestore.getInstance().collection(&quot;Users&quot;).whereEqualTo(&quot;username&quot;,setup_username.getText().toString()).get().addOnCompleteListener((task) -&gt; {\n    if (task.isSuccessful()){\n        List&lt;DocumentSnapshot&gt; document = task.getResult().getDocuments();\n        if (document.equals(setup_username.getText().toString()) || document.isEmpty()){\n            updateProfile();\n        } else {\n            setup_progressbar.setVisibility(View.INVISIBLE);\n            setup_username.setError(getString(R.string.username_taken));\n            return;\n        }\n    } else {\n        setup_progressbar.setVisibility(View.INVISIBLE);\n        String error = task.getException().getMessage();\n        FancyToast.makeText(getApplicationContext(), error, FancyToast.LENGTH_SHORT, FancyToast.ERROR, false).show();\n    }\n});\n</code></pre>\n<p><em>So how to get around this and only forbid it when I try to change my username to another that is taken? Like: <strong>&quot;bob&quot;</strong> to <strong>&quot;bill&quot;</strong>, but <strong>&quot;bill&quot;</strong> is already taken, so it won't allow.</em></p>\n"},{"tags":["java","spring-boot","camunda","camunda-modeler"],"comments":[{"owner":{"account_id":1421688,"reputation":146,"user_id":1346176,"display_name":"Jayarajan"},"score":0,"creation_date":1666471311,"post_id":74149893,"comment_id":130946587,"body_markdown":"If you are using Camunda 7 - this link might help https://docs.camunda.org/manual/latest/user-guide/task-forms/#camunda-forms","body":"If you are using Camunda 7 - this link might help <a href=\"https://docs.camunda.org/manual/latest/user-guide/task-forms/#camunda-forms\" rel=\"nofollow noreferrer\">docs.camunda.org/manual/latest/user-guide/task-forms/&hellip;</a>"},{"owner":{"account_id":3266581,"reputation":14306,"user_id":2750966,"accept_rate":75,"display_name":"pme"},"score":0,"creation_date":1667499223,"post_id":74149893,"comment_id":131187020,"body_markdown":"Have you checked if the form is deployed - More/Deployments?","body":"Have you checked if the form is deployed - More/Deployments?"}],"owner":{"account_id":2237989,"reputation":3237,"user_id":1973779,"accept_rate":27,"display_name":"Rahul Raj"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":432,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666335893,"creation_date":1666335893,"question_id":74149893,"body_markdown":"I have created a form and saved in resources directory of spring boot project.\r\n\r\nI created a User Task and used the above mentioned form to load as part of the user task (as shown below).\r\n\r\n[![enter image description here][1]][1]\r\n\r\nNote that the form reference is the name of external form that was created in previous step.\r\n\r\nbut, when the I open the user task from task list, the form is not displayed.\r\n\r\nHere is the form configuration (just a drop down and submit button) :\r\n[![enter image description here][2]][2]\r\n\r\nvariable routes created properly (Map&lt;String,String&gt; type) in the service task before the user task.\r\n\r\n```\r\n    @Override\r\n    public void execute(DelegateExecution execution) throws Exception {\r\n\r\n        Map&lt;String, String&gt; routes = new HashMap&lt;&gt;();\r\n\r\n        routes.put(&quot;001&quot;, &quot;Route 1&quot;);\r\n        routes.put(&quot;002&quot;, &quot;Route 2&quot;);\r\n        routes.put(&quot;003&quot;, &quot;route 3&quot;);\r\n         \r\n         \r\n        // delegateExecution.setVariable(&quot;routes&quot;, routes);\r\n\r\n        ObjectValue batchesDataValue = Variables.objectValue(routes)\r\n                .serializationDataFormat(Variables.SerializationDataFormats.JSON)\r\n                .create();\r\n        execution.setVariable(&quot;routes&quot;,batchesDataValue);\r\n\r\n    }\r\n\r\n```\r\n\r\nCan someone tell me why the form is not getting displayed in the user task when opened from task list?\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2FdsV.png\r\n  [2]: https://i.stack.imgur.com/ip6zh.png\r\n  [3]: https://i.stack.imgur.com/peaEo.png","title":"Camunda form not appearing in User task","body":"<p>I have created a form and saved in resources directory of spring boot project.</p>\n<p>I created a User Task and used the above mentioned form to load as part of the user task (as shown below).</p>\n<p><a href=\"https://i.stack.imgur.com/2FdsV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2FdsV.png\" alt=\"enter image description here\" /></a></p>\n<p>Note that the form reference is the name of external form that was created in previous step.</p>\n<p>but, when the I open the user task from task list, the form is not displayed.</p>\n<p>Here is the form configuration (just a drop down and submit button) :\n<a href=\"https://i.stack.imgur.com/ip6zh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ip6zh.png\" alt=\"enter image description here\" /></a></p>\n<p>variable routes created properly (Map&lt;String,String&gt; type) in the service task before the user task.</p>\n<pre><code>    @Override\n    public void execute(DelegateExecution execution) throws Exception {\n\n        Map&lt;String, String&gt; routes = new HashMap&lt;&gt;();\n\n        routes.put(&quot;001&quot;, &quot;Route 1&quot;);\n        routes.put(&quot;002&quot;, &quot;Route 2&quot;);\n        routes.put(&quot;003&quot;, &quot;route 3&quot;);\n         \n         \n        // delegateExecution.setVariable(&quot;routes&quot;, routes);\n\n        ObjectValue batchesDataValue = Variables.objectValue(routes)\n                .serializationDataFormat(Variables.SerializationDataFormats.JSON)\n                .create();\n        execution.setVariable(&quot;routes&quot;,batchesDataValue);\n\n    }\n\n</code></pre>\n<p>Can someone tell me why the form is not getting displayed in the user task when opened from task list?\n<a href=\"https://i.stack.imgur.com/peaEo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/peaEo.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","json","github-api","resttemplate"],"comments":[{"owner":{"account_id":3977767,"reputation":22190,"user_id":3280538,"accept_rate":74,"display_name":"flakes"},"score":1,"creation_date":1543003218,"post_id":53452321,"comment_id":93777204,"body_markdown":"Take a look at the graphql api. The client is able to choose exactly what data is returned https://developer.github.com/v4/","body":"Take a look at the graphql api. The client is able to choose exactly what data is returned <a href=\"https://developer.github.com/v4/\" rel=\"nofollow noreferrer\">developer.github.com/v4</a>"},{"owner":{"account_id":8435229,"reputation":41,"user_id":6329591,"display_name":"Andy"},"score":0,"creation_date":1543058076,"post_id":53452321,"comment_id":93787008,"body_markdown":"Thank you for the answer. I have been looking into this, but I am not even sure how I could start with it to limit the results in my REST app... Should I create everytime body of the request?","body":"Thank you for the answer. I have been looking into this, but I am not even sure how I could start with it to limit the results in my REST app... Should I create everytime body of the request?"}],"answers":[{"tags":[],"owner":{"account_id":14506303,"reputation":316,"user_id":10478001,"display_name":"J.Gerbershagen"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1543837945,"creation_date":1543837945,"answer_id":53593308,"question_id":53452321,"body_markdown":"You can&#39;t use the REST api in combination with the graphql library. How must move completely to the graphql library. Calls with the graphql library are totaly different.\r\n\r\nHere is german article graphql for beginners: https://www.heise.de/developer/artikel/Java-Anwendungen-mit-GraphQL-Teil-1-4205852.html.\r\n\r\nHere is a example query: https://developer.github.com/v4/guides/forming-calls/#example-query\r\nSo your query should look like this (in http post body):\r\n{&quot;query&quot;:&quot;{repository(owner:&quot;octokit&quot;, name:&quot;octokit.rb&quot;){ id  isPrivate name }}&quot;}\r\n","title":"Returning only chosen fields from GitHub API","body":"<p>You can't use the REST api in combination with the graphql library. How must move completely to the graphql library. Calls with the graphql library are totaly different.</p>\n\n<p>Here is german article graphql for beginners: <a href=\"https://www.heise.de/developer/artikel/Java-Anwendungen-mit-GraphQL-Teil-1-4205852.html\" rel=\"nofollow noreferrer\">https://www.heise.de/developer/artikel/Java-Anwendungen-mit-GraphQL-Teil-1-4205852.html</a>.</p>\n\n<p>Here is a example query: <a href=\"https://developer.github.com/v4/guides/forming-calls/#example-query\" rel=\"nofollow noreferrer\">https://developer.github.com/v4/guides/forming-calls/#example-query</a>\nSo your query should look like this (in http post body):\n{\"query\":\"{repository(owner:\"octokit\", name:\"octokit.rb\"){ id  isPrivate name }}\"}</p>\n"},{"tags":[],"owner":{"account_id":2340029,"reputation":154,"user_id":2051532,"display_name":"Ramkumar Pillai"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666335566,"creation_date":1666335566,"answer_id":74149838,"question_id":53452321,"body_markdown":"use the below GraphQL as you wish\r\n\r\nfirst Import the below CURL to POSTMAN\r\n\r\n    curl -L -X POST &#39;https://api.github.com/graphql&#39; \\\r\n    -H &#39;Authorization: Basic &lt;TOKEN&gt;&#39; \\\r\n    -H &#39;Content-Type: application/json&#39; \\\r\n    --data-raw &#39;{}&#39;\r\n\r\nchange the Body type to GraphQL\r\n\r\n    query{\r\n      viewer {\r\n        name\r\n         repositories(last: 10) {\r\n           nodes {\r\n             name\r\n             url\r\n           }\r\n         }\r\n       }\r\n    }\r\n\r\n","title":"Returning only chosen fields from GitHub API","body":"<p>use the below GraphQL as you wish</p>\n<p>first Import the below CURL to POSTMAN</p>\n<pre><code>curl -L -X POST 'https://api.github.com/graphql' \\\n-H 'Authorization: Basic &lt;TOKEN&gt;' \\\n-H 'Content-Type: application/json' \\\n--data-raw '{}'\n</code></pre>\n<p>change the Body type to GraphQL</p>\n<pre><code>query{\n  viewer {\n    name\n     repositories(last: 10) {\n       nodes {\n         name\n         url\n       }\n     }\n   }\n}\n</code></pre>\n"}],"owner":{"account_id":8435229,"reputation":41,"user_id":6329591,"display_name":"Andy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1602,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1666335566,"creation_date":1543003042,"question_id":53452321,"body_markdown":"I am playing around with GitHub API and I am wondering whether there is a way to limit the response size, because I want to return only a few fields instead of calling for the whole JSON.\r\n\r\nI know that certain APIs have the possibility of limiting by the query, like adding ?fields=field1, field2, etc, but I am not able to do this for GitHub API.\r\n\r\nFor instance I would like to get only id, name, and private from https://api.github.com/repos/octokit/octokit.rb.\r\n\r\nI am using Jackson and consume via RestTemplate.\r\n\r\n--Edit--  \r\nMy main aim is to limit the time of the response. Using plain GH api it works ~185ms, and I want to achieve at least 50ms. Is that even doable at all? ","title":"Returning only chosen fields from GitHub API","body":"<p>I am playing around with GitHub API and I am wondering whether there is a way to limit the response size, because I want to return only a few fields instead of calling for the whole JSON.</p>\n\n<p>I know that certain APIs have the possibility of limiting by the query, like adding ?fields=field1, field2, etc, but I am not able to do this for GitHub API.</p>\n\n<p>For instance I would like to get only id, name, and private from <a href=\"https://api.github.com/repos/octokit/octokit.rb\" rel=\"nofollow noreferrer\">https://api.github.com/repos/octokit/octokit.rb</a>.</p>\n\n<p>I am using Jackson and consume via RestTemplate.</p>\n\n<p>--Edit--<br>\nMy main aim is to limit the time of the response. Using plain GH api it works ~185ms, and I want to achieve at least 50ms. Is that even doable at all? </p>\n"},{"tags":["java","class","javafx","arraylist"],"comments":[{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":1,"creation_date":1666241894,"post_id":74134568,"comment_id":130890349,"body_markdown":"I don&#39;t understand the logic behind having `Swordsman` extends `Enemy` and using `int damage` in `Enemy` and `double damage` in `Swordsman`. That pretty much goes for all your variables.","body":"I don&#39;t understand the logic behind having <code>Swordsman</code> extends <code>Enemy</code> and using <code>int damage</code> in <code>Enemy</code> and <code>double damage</code> in <code>Swordsman</code>. That pretty much goes for all your variables."},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":2,"creation_date":1666242076,"post_id":74134568,"comment_id":130890379,"body_markdown":"Make sure you understand how and when to use `static`. That might be one reason you are having this issue. You also need to study `Inheritance`. That might also be the reason for your issue.","body":"Make sure you understand how and when to use <code>static</code>. That might be one reason you are having this issue. You also need to study <code>Inheritance</code>. That might also be the reason for your issue."},{"owner":{"account_id":26487889,"reputation":1,"user_id":20126179,"display_name":"Real Darkflare"},"score":0,"creation_date":1666242360,"post_id":74134568,"comment_id":130890430,"body_markdown":"@SedJ601 I had another idea for the main Enemy class with it eventually being the actual enemy with genuine whole number stats, rather than the doubles  in the subclasses which I&#39;m using as general percentage stat-point distributions to be multiplied by level and stat-point gain per level, but yes currently its useless as I changed it to using an instance for subclasses.","body":"@SedJ601 I had another idea for the main Enemy class with it eventually being the actual enemy with genuine whole number stats, rather than the doubles  in the subclasses which I&#39;m using as general percentage stat-point distributions to be multiplied by level and stat-point gain per level, but yes currently its useless as I changed it to using an instance for subclasses."},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":2,"creation_date":1666243551,"post_id":74134568,"comment_id":130890642,"body_markdown":"Do not attempt anything else until you understand how and when to use `static` and how to use `inheritance`. What you are doing currently shows that you don&#39;t have a good understanding of either idea.","body":"Do not attempt anything else until you understand how and when to use <code>static</code> and how to use <code>inheritance</code>. What you are doing currently shows that you don&#39;t have a good understanding of either idea."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":1,"creation_date":1666243753,"post_id":74134568,"comment_id":130890671,"body_markdown":"I second what SedJ601 stated. Right now, you have an instantiable class with nothing but static fields. That means no `Swordman` instance will be distinct. For example, when one `Swordman` takes a hit, all instances of `Swordman` will lose the same amount of health because static fields are shared among ALL instances of a class.","body":"I second what SedJ601 stated. Right now, you have an instantiable class with nothing but static fields. That means no <code>Swordman</code> instance will be distinct. For example, when one <code>Swordman</code> takes a hit, all instances of <code>Swordman</code> will lose the same amount of health because static fields are shared among ALL instances of a class."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":1,"creation_date":1666274799,"post_id":74134568,"comment_id":130901919,"body_markdown":"If you could, put a comment under my answer to see how helpful it was. If it solved the problem, click the checkmark next to it. If it didn&#39;t, put in the comments what is missing so I could refine it.","body":"If you could, put a comment under my answer to see how helpful it was. If it solved the problem, click the checkmark next to it. If it didn&#39;t, put in the comments what is missing so I could refine it."}],"answers":[{"tags":[],"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1666250795,"creation_date":1666246020,"answer_id":74135132,"question_id":74134568,"body_markdown":"This is not a solution. Instead, suggestions to improve your code that may or may not fix your problems.\r\n\r\nLet start with &quot;Enemy&quot;. It is OK to have a base &quot;enemy&quot; class that will set default values for the different types of &quot;enemy&quot; characters to use. This is common in games. Characters typically have default parameters and then the specific races or subtypes will add or subtract points based on the attributes of that type. So, let&#39;s do that for &quot;Archer&quot; and &quot;Swordsman&quot;\r\n\r\n```\r\npublic class Enemy {\r\n\t\r\n\tprotected final String id;\r\n\r\n\tprotected int damage = 10;\r\n\tprotected int hp = 10;\r\n\tprotected int defense = 10;\r\n\tprotected int mana = 10;\r\n\tprotected int speed = 10;\r\n\tprotected int luck = 10;\r\n\t\r\n\tprotected Enemy () {\r\n\t\tRandom rnd = new Random();\r\n\t    int number = rnd.nextInt(99999999);\r\n\t    id = String.format(&quot;%08d&quot;, number);\r\n\t}\r\n\r\n    // omitted getters and setters\r\n}\r\n```\r\n----------\r\nI added the final (constant) string field `id` to capture a unique identifier for each instance. I will use this in the subclasses `toString()` method to display the name with the unique identifiers. This way, when displaying the characters, each one will display differently to let you know they are not mere copies of each other.\r\n\r\nYou could redefine all the variables in the subclass like you were attempting to do. For example, you can have `damage` define in both classes, then in the getter method, you can add them together and return the value like this:\r\n```\r\npublic int getDamage () {\r\n    return this.damage + super.damage;\r\n}\r\n```\r\nBut, why do this? By making the fields in the superclass protected, your subclasses will have direct access to them. If you need to add bonus points to those fields, just add the bonus/penalty points in the constructor.\r\n\r\n```\r\npublic final class Swordsman extends Enemy {\r\n\r\n    public static final String NAME = &quot;Swordsman&quot;;\r\n\r\n    public Swordsman() {\r\n        damage += 20; // added 20 points to the default &quot;damage&quot; field value of 10\r\n        // other fields here\r\n    }\r\n    // getters and setters defined in Enemy class\r\n\r\n\t@Override\r\n\tpublic String toString() {\r\n\t\treturn &quot;Swordsman [&quot;+ id + &quot;]&quot;;\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic String getStats() {\r\n\t\treturn NAME + super.getStats();\r\n\t}\r\n}\r\n```\r\nThis is a much cleaner approach because subclasses of `Enemy` need not to redefine what `Enemy` already has. The only thing they need to define is attributes that are unique to their type. For example, maybe you need to define a melee bonus to swordsmen when in close combat, whereas archers may not have melee bonuses. Likewise, archers may have a bonus for ranged attacks whereas swordsmen do not. Those attributes (fields) and methods will need to be added to those classes respectfully.\r\n\r\nWhen running this code using the snippet below\r\n```\r\npublic class Game {\r\n\tpublic static void main(String[] args) {\r\n\t\tSwordsman s1 = new Swordsman();\r\n\t\tSwordsman s2 = new Swordsman();\r\n\t\tSwordsman s3 = new Swordsman();\r\n\t\tSwordsman s4 = new Swordsman();\r\n\t\t\r\n\t\tSystem.out.println(s1);\r\n\t\tSystem.out.println(s2);\r\n\t\tSystem.out.println(s3);\r\n\t\tSystem.out.println(s4);\r\n\t}\r\n}\r\n```\r\nIt will display something like this:\r\n```\r\nSwordsman [04923128]\r\nSwordsman [59484796]\r\nSwordsman [11003419]\r\nSwordsman [12543814]\r\n```\r\n\r\nOther things to note on my implementation:\r\n\r\n 1. No `static` fields: If you need some attribute to be shared across all instances of a class, then you will need to use static for that. For example, `name` attribute is static in the subclasses. All instances of `Swordsman` class will be labeled &quot;swordsman&quot;. I also made this `final` so that the value of the attribute cannot be changed. Basically, that field is a shared constant.\r\n 2. Fields in the `Enemy` class are protected so that they are accessible by its subclasses.\r\n 3. Swordsman class is `final` so that it cannot be extended. If you need to make a subclass of Swordsman, you will need to remove this qualifier.\r\n 4. Subclass do not need getters and setters. Those should be in the `Enemy` class\r\n\r\nOther things you need to consider, every class should override `equals()`, `hashCode()`, and `toString()`. Your IDE should be able to generate these for you. If a class don&#39;t add new fields, the subclass will not need to re-override these methods, with the exception of `toString()` because most likely you will want to display the object&#39;s name field value (along with some other stuff like its hash code).\r\n\r\nOne last thing I want to point out in case you didn&#39;t know, which is my guess based on the code you posted. When you use `static` to qualify a field or a method, you are not overriding the field or method. You are essentially creating a new method or field in the subclass with the same name and signature. Remember, static members belong to the class and not the instance. This is another reason you shouldn&#39;t use static in your implementation. For what you are trying to do, it simply does not make any sense to do so.\r\n\r\nOne last, last, thing LOL\r\n\r\nWhy not use Java records for this? Simply because records are immutable and these characters need to be updated constantly (damage during combat, other attributes when leveling up, etc.) For this reason, it is better to use a conventional POJO rather than a Java record. I thought it was important to point this out for anyone who is wondering.","title":"Accessing subclasses from Arraylist","body":"<p>This is not a solution. Instead, suggestions to improve your code that may or may not fix your problems.</p>\n<p>Let start with &quot;Enemy&quot;. It is OK to have a base &quot;enemy&quot; class that will set default values for the different types of &quot;enemy&quot; characters to use. This is common in games. Characters typically have default parameters and then the specific races or subtypes will add or subtract points based on the attributes of that type. So, let's do that for &quot;Archer&quot; and &quot;Swordsman&quot;</p>\n<pre><code>public class Enemy {\n    \n    protected final String id;\n\n    protected int damage = 10;\n    protected int hp = 10;\n    protected int defense = 10;\n    protected int mana = 10;\n    protected int speed = 10;\n    protected int luck = 10;\n    \n    protected Enemy () {\n        Random rnd = new Random();\n        int number = rnd.nextInt(99999999);\n        id = String.format(&quot;%08d&quot;, number);\n    }\n\n    // omitted getters and setters\n}\n</code></pre>\n<hr />\n<p>I added the final (constant) string field <code>id</code> to capture a unique identifier for each instance. I will use this in the subclasses <code>toString()</code> method to display the name with the unique identifiers. This way, when displaying the characters, each one will display differently to let you know they are not mere copies of each other.</p>\n<p>You could redefine all the variables in the subclass like you were attempting to do. For example, you can have <code>damage</code> define in both classes, then in the getter method, you can add them together and return the value like this:</p>\n<pre><code>public int getDamage () {\n    return this.damage + super.damage;\n}\n</code></pre>\n<p>But, why do this? By making the fields in the superclass protected, your subclasses will have direct access to them. If you need to add bonus points to those fields, just add the bonus/penalty points in the constructor.</p>\n<pre><code>public final class Swordsman extends Enemy {\n\n    public static final String NAME = &quot;Swordsman&quot;;\n\n    public Swordsman() {\n        damage += 20; // added 20 points to the default &quot;damage&quot; field value of 10\n        // other fields here\n    }\n    // getters and setters defined in Enemy class\n\n    @Override\n    public String toString() {\n        return &quot;Swordsman [&quot;+ id + &quot;]&quot;;\n    }\n    \n    @Override\n    public String getStats() {\n        return NAME + super.getStats();\n    }\n}\n</code></pre>\n<p>This is a much cleaner approach because subclasses of <code>Enemy</code> need not to redefine what <code>Enemy</code> already has. The only thing they need to define is attributes that are unique to their type. For example, maybe you need to define a melee bonus to swordsmen when in close combat, whereas archers may not have melee bonuses. Likewise, archers may have a bonus for ranged attacks whereas swordsmen do not. Those attributes (fields) and methods will need to be added to those classes respectfully.</p>\n<p>When running this code using the snippet below</p>\n<pre><code>public class Game {\n    public static void main(String[] args) {\n        Swordsman s1 = new Swordsman();\n        Swordsman s2 = new Swordsman();\n        Swordsman s3 = new Swordsman();\n        Swordsman s4 = new Swordsman();\n        \n        System.out.println(s1);\n        System.out.println(s2);\n        System.out.println(s3);\n        System.out.println(s4);\n    }\n}\n</code></pre>\n<p>It will display something like this:</p>\n<pre><code>Swordsman [04923128]\nSwordsman [59484796]\nSwordsman [11003419]\nSwordsman [12543814]\n</code></pre>\n<p>Other things to note on my implementation:</p>\n<ol>\n<li>No <code>static</code> fields: If you need some attribute to be shared across all instances of a class, then you will need to use static for that. For example, <code>name</code> attribute is static in the subclasses. All instances of <code>Swordsman</code> class will be labeled &quot;swordsman&quot;. I also made this <code>final</code> so that the value of the attribute cannot be changed. Basically, that field is a shared constant.</li>\n<li>Fields in the <code>Enemy</code> class are protected so that they are accessible by its subclasses.</li>\n<li>Swordsman class is <code>final</code> so that it cannot be extended. If you need to make a subclass of Swordsman, you will need to remove this qualifier.</li>\n<li>Subclass do not need getters and setters. Those should be in the <code>Enemy</code> class</li>\n</ol>\n<p>Other things you need to consider, every class should override <code>equals()</code>, <code>hashCode()</code>, and <code>toString()</code>. Your IDE should be able to generate these for you. If a class don't add new fields, the subclass will not need to re-override these methods, with the exception of <code>toString()</code> because most likely you will want to display the object's name field value (along with some other stuff like its hash code).</p>\n<p>One last thing I want to point out in case you didn't know, which is my guess based on the code you posted. When you use <code>static</code> to qualify a field or a method, you are not overriding the field or method. You are essentially creating a new method or field in the subclass with the same name and signature. Remember, static members belong to the class and not the instance. This is another reason you shouldn't use static in your implementation. For what you are trying to do, it simply does not make any sense to do so.</p>\n<p>One last, last, thing LOL</p>\n<p>Why not use Java records for this? Simply because records are immutable and these characters need to be updated constantly (damage during combat, other attributes when leveling up, etc.) For this reason, it is better to use a conventional POJO rather than a Java record. I thought it was important to point this out for anyone who is wondering.</p>\n"}],"owner":{"account_id":26487889,"reputation":1,"user_id":20126179,"display_name":"Real Darkflare"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74135132,"answer_count":1,"score":-1,"last_activity_date":1666335372,"creation_date":1666241238,"question_id":74134568,"body_markdown":"I&#39;m trying to create a simple rpg game of sorts in Java. Right now, I&#39;m trying to display a random selection of 3 opponents for the player to choose from using a JavaFX listview (`battleOptions` in the code). In my main class I have this onclick of a button to initiate listview to populate opponents.\r\n\r\n``` lang-java\r\npublic void battle() {\r\n    if (!prep) {\r\n        ArrayList&lt;Enemy&gt; classes = new ArrayList&lt;&gt;();\r\n        Swordsman p1 = new Swordsman();\r\n        classes.add(p1);\r\n\r\n        Archer p2 = new Archer();\r\n        classes.add(p2);\r\n\r\n        for (int i = 0; i &lt; 3; i++) {\r\n            battleOptions.getItems().add((classes.get(randomnumber(0, 1))));\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nAnd this is the `Enemy` class referenced in the above `ArrayList`:\r\n\r\n``` lang-java\r\npublic class Enemy {\r\n    public static String name = &quot;Enemy&quot;;\r\n    \r\n    int damage = 1;\r\n    int hp = 1;\r\n    int defense = 1;\r\n    int mana = 1;\r\n    int speed = 1;\r\n    int luck = 1;\r\n}\r\n```\r\n\r\n``` lang-java\r\nclass Swordsman extends Enemy {\r\n    public static String name = &quot;Swordsman&quot;;\r\n    public static double damage = 0.3;\r\n    public static double hp = 0.15;\r\n    public static double defense = 0.2;\r\n    public static double mana = 0.1;\r\n    public static double speed = 0.1;\r\n    public static double luck = 0.15;\r\n}\r\n```\r\n\r\n(`Archer` is the same as `Swordsman` excluding the name and percentages differing)\r\n\r\nIn its current state this code does add the subclasses to the list  view as: `com.example.test.Swordsman/Archer@x`.\r\n\r\n`x` differs and I&#39;m assuming this is some location in memory or something.\r\nThis is obviously not what I want to show the player, rather I want to use Swordsman/Archer.name and show that, but it only shows the enemy class&#39; values for name and everything else, despite the fact that it shows the subclass before.\r\n\r\nI have tried changing the `ArrayList` to `Object` but then it wouldn&#39;t let me use any values (I mean the `.name` and stuff I don&#39;t know what they&#39;re called). As well as some other stuff which I don&#39;t remember. I would like to avoid having to hardcode to `if (randomnumber==1) {...}` especially for once I fully flesh out and add more classes.\r\n\r\nSorry for the long post, would appreciate any help/advice!","title":"Accessing subclasses from Arraylist","body":"<p>I'm trying to create a simple rpg game of sorts in Java. Right now, I'm trying to display a random selection of 3 opponents for the player to choose from using a JavaFX listview (<code>battleOptions</code> in the code). In my main class I have this onclick of a button to initiate listview to populate opponents.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void battle() {\n    if (!prep) {\n        ArrayList&lt;Enemy&gt; classes = new ArrayList&lt;&gt;();\n        Swordsman p1 = new Swordsman();\n        classes.add(p1);\n\n        Archer p2 = new Archer();\n        classes.add(p2);\n\n        for (int i = 0; i &lt; 3; i++) {\n            battleOptions.getItems().add((classes.get(randomnumber(0, 1))));\n        }\n    }\n}\n</code></pre>\n<p>And this is the <code>Enemy</code> class referenced in the above <code>ArrayList</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Enemy {\n    public static String name = &quot;Enemy&quot;;\n    \n    int damage = 1;\n    int hp = 1;\n    int defense = 1;\n    int mana = 1;\n    int speed = 1;\n    int luck = 1;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>class Swordsman extends Enemy {\n    public static String name = &quot;Swordsman&quot;;\n    public static double damage = 0.3;\n    public static double hp = 0.15;\n    public static double defense = 0.2;\n    public static double mana = 0.1;\n    public static double speed = 0.1;\n    public static double luck = 0.15;\n}\n</code></pre>\n<p>(<code>Archer</code> is the same as <code>Swordsman</code> excluding the name and percentages differing)</p>\n<p>In its current state this code does add the subclasses to the list  view as: <code>com.example.test.Swordsman/Archer@x</code>.</p>\n<p><code>x</code> differs and I'm assuming this is some location in memory or something.\nThis is obviously not what I want to show the player, rather I want to use Swordsman/Archer.name and show that, but it only shows the enemy class' values for name and everything else, despite the fact that it shows the subclass before.</p>\n<p>I have tried changing the <code>ArrayList</code> to <code>Object</code> but then it wouldn't let me use any values (I mean the <code>.name</code> and stuff I don't know what they're called). As well as some other stuff which I don't remember. I would like to avoid having to hardcode to <code>if (randomnumber==1) {...}</code> especially for once I fully flesh out and add more classes.</p>\n<p>Sorry for the long post, would appreciate any help/advice!</p>\n"},{"tags":["java","android","mobile","mobile-application"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":1,"creation_date":1666333762,"post_id":74149518,"comment_id":130916407,"body_markdown":"Can not see any thing in your code about `cursor` - are you sure that this variable is not `cursor_other_card`?","body":"Can not see any thing in your code about <code>cursor</code> - are you sure that this variable is not <code>cursor_other_card</code>?"},{"owner":{"account_id":18182876,"reputation":31,"user_id":13881939,"display_name":"McLarvel"},"score":0,"creation_date":1666333954,"post_id":74149518,"comment_id":130916453,"body_markdown":"@Scary Wombat Thanks I forgot to update","body":"@Scary Wombat Thanks I forgot to update"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1666335082,"post_id":74149518,"comment_id":130916739,"body_markdown":"Maybe better to delete this question then?","body":"Maybe better to delete this question then?"}],"answers":[{"tags":[],"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666335343,"creation_date":1666335343,"answer_id":74149794,"question_id":74149518,"body_markdown":"You have an off by 1 error.\r\n\r\n    Integer i =0;\r\n    while (cursor_other_card.moveToNext()) {\r\n        i++;\r\n        //5 other_card_validations\r\n        myEdit.putString(&quot;card_holder_name&quot;+i+&quot;_u&quot;,cursor_other_card.getString(1));\r\n\r\nFor an array of N, this code would make I go 1 to N, instead of 0 to N-1.  To fix this, increment i at the end of the loop, not the beginning.\r\n\r\nAlso, you should make it int i=0, not Integer.  No reason to use the class when a primitive is available.","title":"Android : CursorIndexOutOfBoundsException: Index 1 requested, with a size of 1","body":"<p>You have an off by 1 error.</p>\n<pre><code>Integer i =0;\nwhile (cursor_other_card.moveToNext()) {\n    i++;\n    //5 other_card_validations\n    myEdit.putString(&quot;card_holder_name&quot;+i+&quot;_u&quot;,cursor_other_card.getString(1));\n</code></pre>\n<p>For an array of N, this code would make I go 1 to N, instead of 0 to N-1.  To fix this, increment i at the end of the loop, not the beginning.</p>\n<p>Also, you should make it int i=0, not Integer.  No reason to use the class when a primitive is available.</p>\n"}],"owner":{"account_id":18182876,"reputation":31,"user_id":13881939,"display_name":"McLarvel"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1666335343,"creation_date":1666333494,"question_id":74149518,"body_markdown":"I have an error it says \r\n\r\n    Caused by: android.database.CursorIndexOutOfBoundsException: Index 1 requested, with a size of 1\r\n\r\nI don&#39;t know what causes the error, the error is on the line `cursor.getString(17));` need help\r\n\r\n\r\n    Cursor cursor_other_card = MainActivity.sqLiteHelper.getData(&quot;SELECT ocv.id,ocv.card_holder_name,ocv.card_number_system_generated,ocv.card_number_inputted,ocv.card_number_series,ocv.distribution_status,ocv.release_date,ocv.release_by,ocv.release_place,ocv.card_physically_presented,ocv.card_pin_is_attached,ocv.reason_not_presented,ocv.reason_unclaimed,ocv.card_replacement_requests,ocv.card_replacement_request_submitted_details,ocv.pawning_remarks,ocv.other_image, ocv.others_reason_not_presented,ocv.others_reason_unclaimed FROM other_card_validations AS ocv LEFT JOIN emv_validation_details AS evd ON evd.id = ocv.emv_validation_detail_id WHERE evd.id=&quot;+id);\r\n        Integer i =0;\r\n        while (cursor_other_card.moveToNext()) {\r\n            i++;\r\n            //5 other_card_validations\r\n            myEdit.putString(&quot;card_holder_name&quot;+i+&quot;_u&quot;,cursor_other_card.getString(1));\r\n            myEdit.putString(&quot;card_number_system_generated&quot;+i+&quot;_u&quot;,cursor_other_card.getString(2));\r\n            myEdit.putString(&quot;card_number_inputted&quot;+i+&quot;_u&quot;,cursor_other_card.getString(3));\r\n            myEdit.putString(&quot;card_number_series&quot;+i+&quot;_u&quot;,cursor_other_card.getString(4));\r\n            myEdit.putString(&quot;distribution_status&quot;+i+&quot;_u&quot;,cursor_other_card.getString(5));\r\n            myEdit.putString(&quot;release_date&quot;+i+&quot;_u&quot;,cursor_other_card.getString(6));\r\n            myEdit.putString(&quot;release_by&quot;+i+&quot;_u&quot;,cursor_other_card.getString(7));\r\n            myEdit.putString(&quot;release_place&quot;+i+&quot;_u&quot;,cursor_other_card.getString(8));\r\n            myEdit.putString(&quot;card_physically_presented&quot;+i+&quot;_u&quot;,cursor_other_card.getString(9));\r\n            myEdit.putString(&quot;card_pin_is_attached&quot;+i+&quot;_u&quot;,cursor_other_card.getString(10));\r\n            myEdit.putString(&quot;reason_not_presented&quot;+i+&quot;_u&quot;,cursor_other_card.getString(11));\r\n            myEdit.putString(&quot;reason_unclaimed&quot;+i+&quot;_u&quot;,cursor_other_card.getString(12));\r\n            myEdit.putString(&quot;card_replacement_request&quot;+i+&quot;_u&quot;,cursor_other_card.getString(13));\r\n            myEdit.putString(&quot;card_replacement_request_submitted_details&quot;+i+&quot;_u&quot;,cursor_other_card.getString(14));\r\n            myEdit.putString(&quot;pawning_remarks&quot;+i+&quot;_u&quot;,cursor_other_card.getString(15));\r\n            if (cursor_other_card.getBlob(16) != null) {\r\n                if (i == 1) {\r\n                    ocv_other_image_1_u = cursor_other_card.getBlob(16);\r\n                } else if (i == 2) {\r\n                    ocv_other_image_2_u = cursor_other_card.getBlob(16);\r\n                } else if (i == 3) {\r\n                    ocv_other_image_3_u = cursor_other_card.getBlob(16);\r\n                } else if (i == 4) {\r\n                    ocv_other_image_4_u = cursor_other_card.getBlob(16);\r\n                } else if (i == 5) {\r\n                    ocv_other_image_5_u = cursor_other_card.getBlob(16);\r\n                }\r\n            }\r\n            myEdit.putString(&quot;others_reason_not_presented&quot;+i+&quot;_u&quot;, cursor.getString(17)); //the error goes here\r\n            myEdit.putString(&quot;others_reason_unclaimed&quot;+i+&quot;_u&quot;, cursor.getString(18));\r\n        }\r\n        cursor_other_card.close();\r\n\r\n\r\n","title":"Android : CursorIndexOutOfBoundsException: Index 1 requested, with a size of 1","body":"<p>I have an error it says</p>\n<pre><code>Caused by: android.database.CursorIndexOutOfBoundsException: Index 1 requested, with a size of 1\n</code></pre>\n<p>I don't know what causes the error, the error is on the line <code>cursor.getString(17));</code> need help</p>\n<pre><code>Cursor cursor_other_card = MainActivity.sqLiteHelper.getData(&quot;SELECT ocv.id,ocv.card_holder_name,ocv.card_number_system_generated,ocv.card_number_inputted,ocv.card_number_series,ocv.distribution_status,ocv.release_date,ocv.release_by,ocv.release_place,ocv.card_physically_presented,ocv.card_pin_is_attached,ocv.reason_not_presented,ocv.reason_unclaimed,ocv.card_replacement_requests,ocv.card_replacement_request_submitted_details,ocv.pawning_remarks,ocv.other_image, ocv.others_reason_not_presented,ocv.others_reason_unclaimed FROM other_card_validations AS ocv LEFT JOIN emv_validation_details AS evd ON evd.id = ocv.emv_validation_detail_id WHERE evd.id=&quot;+id);\n    Integer i =0;\n    while (cursor_other_card.moveToNext()) {\n        i++;\n        //5 other_card_validations\n        myEdit.putString(&quot;card_holder_name&quot;+i+&quot;_u&quot;,cursor_other_card.getString(1));\n        myEdit.putString(&quot;card_number_system_generated&quot;+i+&quot;_u&quot;,cursor_other_card.getString(2));\n        myEdit.putString(&quot;card_number_inputted&quot;+i+&quot;_u&quot;,cursor_other_card.getString(3));\n        myEdit.putString(&quot;card_number_series&quot;+i+&quot;_u&quot;,cursor_other_card.getString(4));\n        myEdit.putString(&quot;distribution_status&quot;+i+&quot;_u&quot;,cursor_other_card.getString(5));\n        myEdit.putString(&quot;release_date&quot;+i+&quot;_u&quot;,cursor_other_card.getString(6));\n        myEdit.putString(&quot;release_by&quot;+i+&quot;_u&quot;,cursor_other_card.getString(7));\n        myEdit.putString(&quot;release_place&quot;+i+&quot;_u&quot;,cursor_other_card.getString(8));\n        myEdit.putString(&quot;card_physically_presented&quot;+i+&quot;_u&quot;,cursor_other_card.getString(9));\n        myEdit.putString(&quot;card_pin_is_attached&quot;+i+&quot;_u&quot;,cursor_other_card.getString(10));\n        myEdit.putString(&quot;reason_not_presented&quot;+i+&quot;_u&quot;,cursor_other_card.getString(11));\n        myEdit.putString(&quot;reason_unclaimed&quot;+i+&quot;_u&quot;,cursor_other_card.getString(12));\n        myEdit.putString(&quot;card_replacement_request&quot;+i+&quot;_u&quot;,cursor_other_card.getString(13));\n        myEdit.putString(&quot;card_replacement_request_submitted_details&quot;+i+&quot;_u&quot;,cursor_other_card.getString(14));\n        myEdit.putString(&quot;pawning_remarks&quot;+i+&quot;_u&quot;,cursor_other_card.getString(15));\n        if (cursor_other_card.getBlob(16) != null) {\n            if (i == 1) {\n                ocv_other_image_1_u = cursor_other_card.getBlob(16);\n            } else if (i == 2) {\n                ocv_other_image_2_u = cursor_other_card.getBlob(16);\n            } else if (i == 3) {\n                ocv_other_image_3_u = cursor_other_card.getBlob(16);\n            } else if (i == 4) {\n                ocv_other_image_4_u = cursor_other_card.getBlob(16);\n            } else if (i == 5) {\n                ocv_other_image_5_u = cursor_other_card.getBlob(16);\n            }\n        }\n        myEdit.putString(&quot;others_reason_not_presented&quot;+i+&quot;_u&quot;, cursor.getString(17)); //the error goes here\n        myEdit.putString(&quot;others_reason_unclaimed&quot;+i+&quot;_u&quot;, cursor.getString(18));\n    }\n    cursor_other_card.close();\n</code></pre>\n"},{"tags":["java","algorithm","math","simplex-algorithm"],"comments":[{"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"score":2,"creation_date":1400439689,"post_id":23725742,"comment_id":36467717,"body_markdown":"where is your code ? and you just want to multiple them with `-1` ?","body":"where is your code ? and you just want to multiple them with <code>-1</code> ?"},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":4,"creation_date":1400439784,"post_id":23725742,"comment_id":36467757,"body_markdown":"Welcome to StackOverflow.  You have to be aware that we cannot read your mind.  You need to include enough information so we can reproduce the problem you are having and you should provide the answer you expect.  When you say `dont calculate` you have to say what it does do.  Also I suggest you try debugging your programs as this is often faster than having to explain what your problem is in enough detail.","body":"Welcome to StackOverflow.  You have to be aware that we cannot read your mind.  You need to include enough information so we can reproduce the problem you are having and you should provide the answer you expect.  When you say <code>dont calculate</code> you have to say what it does do.  Also I suggest you try debugging your programs as this is often faster than having to explain what your problem is in enough detail."},{"owner":{"account_id":4488649,"reputation":139,"user_id":3650408,"accept_rate":46,"display_name":"user3650408"},"score":0,"creation_date":1400442552,"post_id":23725742,"comment_id":36468614,"body_markdown":"after debugging I find that change form (13, 23) to ( - 13, -23) not help. This problem is linked with  method findLowestNonBasicCol(), when exist check for positive number                                 if (tableaux[numOfConstraints][i] &gt; 0)","body":"after debugging I find that change form (13, 23) to ( - 13, -23) not help. This problem is linked with  method findLowestNonBasicCol(), when exist check for positive number                                 if (tableaux[numOfConstraints][i] &gt; 0)"}],"answers":[{"comments":[{"owner":{"account_id":4488649,"reputation":139,"user_id":3650408,"accept_rate":46,"display_name":"user3650408"},"score":0,"creation_date":1400440984,"post_id":23725893,"comment_id":36468115,"body_markdown":"i try another variant, which has optimal result... but program show only first step","body":"i try another variant, which has optimal result... but program show only first step"}],"tags":[],"owner":{"account_id":27505,"reputation":32693,"user_id":72673,"accept_rate":72,"display_name":"Maurice Perry"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1400440752,"creation_date":1400440752,"answer_id":23725893,"question_id":23725742,"body_markdown":"I guess the program did nothing because the initial solution is the optimal solution.\r\n","title":"Minimize Simplex method","body":"<p>I guess the program did nothing because the initial solution is the optimal solution.</p>\n"},{"tags":[],"owner":{"account_id":2465852,"reputation":198,"user_id":2154742,"accept_rate":80,"display_name":"JasonArg123"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1454448485,"creation_date":1454448485,"answer_id":35164108,"question_id":23725742,"body_markdown":"You might want to look into the [Dual Simplex Method][1] (or [Duality Theory][2]). If the standard form of the primal problem is:\r\n    \r\n    Maximize = 13*X1 + 23*X2;\r\n\r\nwith constraints:\r\n\r\n    5*X1\t+\t15*X2\t&lt;= 480;\r\n    4*X1 \t+ \t4*X2 \t&lt;= 160;\r\n    35*X1   + \t20*X2   &lt;= 1190;\r\n    X1 &gt;= 0;\r\n    X2 &gt;= 0;\r\n\r\nThen the **dual problem** is:\r\n\r\n    Minimize = 480*Y1 + 160*Y2 + 1190*Y3;\r\n\r\nwith constraints:\r\n\r\n    5*Y1\t+\t4*Y2\t+\t35*Y3\t&gt;= 13;\r\n    15*Y1 + \t4*Y2\t+\t20*Y3\t&gt;= 23;\r\n    Y1 &gt;= 0;\r\n    Y2 &gt;= 0;\r\n    Y3 &gt;= 0;\r\n\r\nI tested both of these problems in [LINGO][3] and get the same answer for both (Z = 800, X1 = 12, X2 = 28 -- Y1 = 1, Y2 = 2, Y3 = 0).\r\n\r\n\r\n  [1]: http://homepages.rpi.edu/~mitchj/handouts/dualsimplex/\r\n  [2]: https://en.wikipedia.org/wiki/Linear_programming#Duality\r\n  [3]: http://www.lindo.com/index.php?option=com_content&amp;view=article&amp;id=2&amp;Itemid=10","title":"Minimize Simplex method","body":"<p>You might want to look into the <a href=\"http://homepages.rpi.edu/~mitchj/handouts/dualsimplex/\" rel=\"nofollow\">Dual Simplex Method</a> (or <a href=\"https://en.wikipedia.org/wiki/Linear_programming#Duality\" rel=\"nofollow\">Duality Theory</a>). If the standard form of the primal problem is:</p>\n\n<pre><code>Maximize = 13*X1 + 23*X2;\n</code></pre>\n\n<p>with constraints:</p>\n\n<pre><code>5*X1    +   15*X2   &lt;= 480;\n4*X1    +   4*X2    &lt;= 160;\n35*X1   +   20*X2   &lt;= 1190;\nX1 &gt;= 0;\nX2 &gt;= 0;\n</code></pre>\n\n<p>Then the <strong>dual problem</strong> is:</p>\n\n<pre><code>Minimize = 480*Y1 + 160*Y2 + 1190*Y3;\n</code></pre>\n\n<p>with constraints:</p>\n\n<pre><code>5*Y1    +   4*Y2    +   35*Y3   &gt;= 13;\n15*Y1 +     4*Y2    +   20*Y3   &gt;= 23;\nY1 &gt;= 0;\nY2 &gt;= 0;\nY3 &gt;= 0;\n</code></pre>\n\n<p>I tested both of these problems in <a href=\"http://www.lindo.com/index.php?option=com_content&amp;view=article&amp;id=2&amp;Itemid=10\" rel=\"nofollow\">LINGO</a> and get the same answer for both (Z = 800, X1 = 12, X2 = 28 -- Y1 = 1, Y2 = 2, Y3 = 0).</p>\n"}],"owner":{"account_id":4488649,"reputation":139,"user_id":3650408,"accept_rate":46,"display_name":"user3650408"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6950,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":35164108,"answer_count":2,"score":0,"last_activity_date":1666335025,"creation_date":1400439593,"question_id":23725742,"body_markdown":"I find topic about Simplex method here https://stackoverflow.com/questions/21096363/alter-simplex-algorithm-to-minimize-on-objective-function-not-maximize\r\nBut answer didn`t help. When I change from \r\n\r\n    double[] variables = {  13.0,  23.0 };\r\n\r\nto\r\n\r\n    double[] variables = { -13.0, -23.0 };\r\n\r\nThe program dont calculate(no Exception), it print first step and that`s all.\r\nCould somebody help me with alter simplex method from maximize to minimize? \r\n\r\ncode:\r\n\r\n\r\n import java.util.*;\r\n\r\n\r\n    public class Simplex\r\n    {\r\n    private static final double EPSILON = 1.0E-10;\r\n    private double[][] tableaux;\r\n    private int numOfConstraints;\r\n    private int numOfVariables;\r\n    \r\n    private int[] basis;\r\n    /**\r\n     * Constructor for objects of class Simplex\r\n     */\r\n    public Simplex()\r\n    {\r\n        \r\n        \r\n        double[][] thisTableaux = {\r\n            {  5.0, 15.0 },\r\n            {  4.0,  4.0 },\r\n            { 35.0, 20.0 },\r\n        };\r\n        \r\n        double[] constraints = { 480.0, 160.0, 1190.0 };\r\n        \r\n        double[] variables = {  -13.0,  -23.0 };\r\n        \r\n        numOfConstraints = constraints.length;\r\n        numOfVariables = variables.length;\r\n        \r\n        tableaux = new double[numOfConstraints+1][numOfVariables+numOfConstraints+1];\r\n        \r\n        //adds all elements from thisTableaux to tableaux\r\n        for(int i=0; i &lt; numOfConstraints; i++)\r\n        {\r\n            for(int j=0; j &lt; numOfVariables; j++)\r\n            {\r\n                tableaux[i][j] = thisTableaux[i][j];\r\n            }\r\n        } \r\n        \r\n        \r\n        //adds a slack variable for each variable there is and sets it to 1.0\r\n        for(int i=0; i &lt; numOfConstraints; i++)\r\n        {\r\n            tableaux[i][numOfVariables+i] = 1.0;\r\n        }\r\n        \r\n        \r\n        //adds variables into the second [] of tableux\r\n        for(int j=0; j &lt; numOfVariables; j++)\r\n        {\r\n            tableaux[numOfConstraints][j] = variables[j];\r\n        }\r\n        \r\n        \r\n        \r\n        //adds constraints to first [] of tableaux\r\n        for(int k=0; k &lt; numOfConstraints; k++)\r\n        {\r\n            tableaux[k][numOfConstraints+numOfVariables] = constraints[k];\r\n        }\r\n        \r\n        \r\n        \r\n        basis = new int[numOfConstraints];\r\n        \r\n        for(int i=0; i &lt; numOfConstraints; i++)\r\n        {\r\n            basis[i] = numOfVariables + i;\r\n        }\r\n        \r\n        show();\r\n        \r\n        optimise();\r\n        \r\n        assert check(thisTableaux, constraints, variables);\r\n        \r\n        \r\n    }\r\n    \r\n    public void optimise() {\r\n        while(true) {\r\n            \r\n            int q = findLowestNonBasicCol();\r\n            \r\n            if(q == -1) {\r\n                break;\r\n            }\r\n            \r\n            int p = getPivotRow(q);\r\n            if(p == -1) throw new ArithmeticException(&quot;Linear Program Unbounded&quot;);\r\n            \r\n            pivot(p, q);\r\n            \r\n            basis[p] = q;\r\n        }\r\n        \r\n    }\r\n    \r\n    public int findLowestNonBasicCol() {\r\n        \r\n        for(int i=0; i &lt; numOfConstraints + numOfVariables; i++)\r\n        {\r\n            if(tableaux[numOfConstraints][i] &gt; 0) {\r\n                \r\n                \r\n                return i;\r\n            }\r\n        }\r\n        \r\n        return -1;\r\n        \r\n        \r\n    }\r\n    \r\n    public int findIndexOfLowestNonBasicCol() {\r\n        \r\n        int q = 0;\r\n        for(int i=1; i &lt; numOfConstraints + numOfVariables; i++)\r\n        {\r\n            if(tableaux[numOfConstraints][i] &gt; tableaux[numOfConstraints][q]) {\r\n                q = i;\r\n            }\r\n        }\r\n        \r\n        if(tableaux[numOfConstraints][q] &lt;= 0) {\r\n            return -1;\r\n        }\r\n        \r\n        else {\r\n            return q;\r\n        }\r\n    }\r\n    \r\n    /**\r\n     * Finds row p which will be the pivot row using the minimum ratio rule.\r\n     * -1 if there is no pivot row\r\n     */\r\n    public int getPivotRow(int q) {\r\n        \r\n        int p = -1;\r\n        \r\n        for(int i=0; i &lt; numOfConstraints; i++) {\r\n            \r\n            if (tableaux[i][q] &lt;=0) {\r\n                continue;\r\n            }\r\n            \r\n            else if (p == -1) {\r\n                p = i;\r\n            }\r\n            \r\n            else if((tableaux[i][numOfConstraints+numOfVariables] / tableaux[i][q] &lt; tableaux[p][numOfConstraints+numOfVariables] / tableaux[p][q])) {\r\n                p = i;\r\n            }\r\n        }","title":"Minimize Simplex method","body":"<p>I find topic about Simplex method here <a href=\"https://stackoverflow.com/questions/21096363/alter-simplex-algorithm-to-minimize-on-objective-function-not-maximize\">Alter Simplex Algorithm to Minimize on objective function NOT maximize</a>\nBut answer didn`t help. When I change from </p>\n\n<pre><code>double[] variables = {  13.0,  23.0 };\n</code></pre>\n\n<p>to</p>\n\n<pre><code>double[] variables = { -13.0, -23.0 };\n</code></pre>\n\n<p>The program dont calculate(no Exception), it print first step and that`s all.\nCould somebody help me with alter simplex method from maximize to minimize? </p>\n\n<p>code:</p>\n\n<p>import java.util.*;</p>\n\n<pre><code>public class Simplex\n{\nprivate static final double EPSILON = 1.0E-10;\nprivate double[][] tableaux;\nprivate int numOfConstraints;\nprivate int numOfVariables;\n\nprivate int[] basis;\n/**\n * Constructor for objects of class Simplex\n */\npublic Simplex()\n{\n\n\n    double[][] thisTableaux = {\n        {  5.0, 15.0 },\n        {  4.0,  4.0 },\n        { 35.0, 20.0 },\n    };\n\n    double[] constraints = { 480.0, 160.0, 1190.0 };\n\n    double[] variables = {  -13.0,  -23.0 };\n\n    numOfConstraints = constraints.length;\n    numOfVariables = variables.length;\n\n    tableaux = new double[numOfConstraints+1][numOfVariables+numOfConstraints+1];\n\n    //adds all elements from thisTableaux to tableaux\n    for(int i=0; i &lt; numOfConstraints; i++)\n    {\n        for(int j=0; j &lt; numOfVariables; j++)\n        {\n            tableaux[i][j] = thisTableaux[i][j];\n        }\n    } \n\n\n    //adds a slack variable for each variable there is and sets it to 1.0\n    for(int i=0; i &lt; numOfConstraints; i++)\n    {\n        tableaux[i][numOfVariables+i] = 1.0;\n    }\n\n\n    //adds variables into the second [] of tableux\n    for(int j=0; j &lt; numOfVariables; j++)\n    {\n        tableaux[numOfConstraints][j] = variables[j];\n    }\n\n\n\n    //adds constraints to first [] of tableaux\n    for(int k=0; k &lt; numOfConstraints; k++)\n    {\n        tableaux[k][numOfConstraints+numOfVariables] = constraints[k];\n    }\n\n\n\n    basis = new int[numOfConstraints];\n\n    for(int i=0; i &lt; numOfConstraints; i++)\n    {\n        basis[i] = numOfVariables + i;\n    }\n\n    show();\n\n    optimise();\n\n    assert check(thisTableaux, constraints, variables);\n\n\n}\n\npublic void optimise() {\n    while(true) {\n\n        int q = findLowestNonBasicCol();\n\n        if(q == -1) {\n            break;\n        }\n\n        int p = getPivotRow(q);\n        if(p == -1) throw new ArithmeticException(\"Linear Program Unbounded\");\n\n        pivot(p, q);\n\n        basis[p] = q;\n    }\n\n}\n\npublic int findLowestNonBasicCol() {\n\n    for(int i=0; i &lt; numOfConstraints + numOfVariables; i++)\n    {\n        if(tableaux[numOfConstraints][i] &gt; 0) {\n\n\n            return i;\n        }\n    }\n\n    return -1;\n\n\n}\n\npublic int findIndexOfLowestNonBasicCol() {\n\n    int q = 0;\n    for(int i=1; i &lt; numOfConstraints + numOfVariables; i++)\n    {\n        if(tableaux[numOfConstraints][i] &gt; tableaux[numOfConstraints][q]) {\n            q = i;\n        }\n    }\n\n    if(tableaux[numOfConstraints][q] &lt;= 0) {\n        return -1;\n    }\n\n    else {\n        return q;\n    }\n}\n\n/**\n * Finds row p which will be the pivot row using the minimum ratio rule.\n * -1 if there is no pivot row\n */\npublic int getPivotRow(int q) {\n\n    int p = -1;\n\n    for(int i=0; i &lt; numOfConstraints; i++) {\n\n        if (tableaux[i][q] &lt;=0) {\n            continue;\n        }\n\n        else if (p == -1) {\n            p = i;\n        }\n\n        else if((tableaux[i][numOfConstraints+numOfVariables] / tableaux[i][q] &lt; tableaux[p][numOfConstraints+numOfVariables] / tableaux[p][q])) {\n            p = i;\n        }\n    }\n</code></pre>\n"},{"tags":["java","mapstruct"],"comments":[{"owner":{"account_id":14194880,"reputation":1483,"user_id":10254476,"display_name":"GJohannes"},"score":0,"creation_date":1666335521,"post_id":74149748,"comment_id":130916867,"body_markdown":"Since you only use two parameters to create a new Object could you not use a vanilla java consturctor or a builder? To me that would seem like the simplest solution.","body":"Since you only use two parameters to create a new Object could you not use a vanilla java consturctor or a builder? To me that would seem like the simplest solution."},{"owner":{"account_id":18442446,"reputation":388,"user_id":14614707,"display_name":"Zhenyria"},"score":0,"creation_date":1666335688,"post_id":74149748,"comment_id":130916914,"body_markdown":"@GJohannes i agree with you, but i wonder why i don&#39;t have the possibility of doing this by means of mapstruct","body":"@GJohannes i agree with you, but i wonder why i don&#39;t have the possibility of doing this by means of mapstruct"},{"owner":{"account_id":23678540,"reputation":343,"user_id":17704418,"display_name":"salam_verdim_alana_panyatkasi"},"score":0,"creation_date":1666335919,"post_id":74149748,"comment_id":130916981,"body_markdown":"you should define @Mapping(source,target) annotation in your mapstruct","body":"you should define @Mapping(source,target) annotation in your mapstruct"},{"owner":{"account_id":18442446,"reputation":388,"user_id":14614707,"display_name":"Zhenyria"},"score":0,"creation_date":1666340056,"post_id":74149748,"comment_id":130918334,"body_markdown":"@debugmode no, u should&#39;nt define Mapping if u have not to make specific handling for mapping properties. And it does not make any difference","body":"@debugmode no, u should&#39;nt define Mapping if u have not to make specific handling for mapping properties. And it does not make any difference"},{"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"score":0,"creation_date":1666456989,"post_id":74149748,"comment_id":130943714,"body_markdown":"why don&#39;t you pass CompanyEntity as parameter?","body":"why don&#39;t you pass CompanyEntity as parameter?"},{"owner":{"account_id":18442446,"reputation":388,"user_id":14614707,"display_name":"Zhenyria"},"score":0,"creation_date":1666631421,"post_id":74149748,"comment_id":130978057,"body_markdown":"@PaulMarcelinBejan because it does&#39;not make any sense so i don&#39;t have entity","body":"@PaulMarcelinBejan because it does&#39;not make any sense so i don&#39;t have entity"}],"owner":{"account_id":18442446,"reputation":388,"user_id":14614707,"display_name":"Zhenyria"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":682,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666335012,"creation_date":1666335012,"question_id":74149748,"body_markdown":"I have the follow object:\r\n```\r\n@Value\r\npublic class CompanyDto {\r\n    int id;\r\n    int accountId;\r\n}\r\n```\r\nAnd i try to use `MapStruct` *(version `1.5.2.Final`)* for mapping two primitive properties to new `CompanyDto` object:\r\n```\r\n@Mapper\r\npublic interface CompanyMapper {\r\n\r\n    CompanyDto mapToDto(int id, int accountId);\r\n}\r\n```\r\nAnd i get compiling error:\r\n\r\n&gt; error: illegal start of expression\r\n&gt; \r\n&gt;         if (  ) {\r\n&gt;               ^\r\nSo i see that `MapStruct` tries to check something for `null` value but there are not any objects which can be checked for `null` and it generates empty `if` condition which is cause of the compiling error.\r\n\r\nIs this bug or i do something wrong?","title":"How to use MapStruct with only primitive properties as sources?","body":"<p>I have the follow object:</p>\n<pre><code>@Value\npublic class CompanyDto {\n    int id;\n    int accountId;\n}\n</code></pre>\n<p>And i try to use <code>MapStruct</code> <em>(version <code>1.5.2.Final</code>)</em> for mapping two primitive properties to new <code>CompanyDto</code> object:</p>\n<pre><code>@Mapper\npublic interface CompanyMapper {\n\n    CompanyDto mapToDto(int id, int accountId);\n}\n</code></pre>\n<p>And i get compiling error:</p>\n<blockquote>\n<p>error: illegal start of expression</p>\n<pre><code>    if (  ) {\n          ^\n</code></pre>\n</blockquote>\n<p>So i see that <code>MapStruct</code> tries to check something for <code>null</code> value but there are not any objects which can be checked for <code>null</code> and it generates empty <code>if</code> condition which is cause of the compiling error.</p>\n<p>Is this bug or i do something wrong?</p>\n"},{"tags":["java","eclipse","pom.xml","rest-assured"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1666267136,"post_id":74137695,"comment_id":130898601,"body_markdown":"If you have a [`module-info.java`](https://en.wikipedia.org/wiki/Java_Platform_Module_System) file in the default package, delete it (or add the required `requires ...;` statement). Otherwise, please show whether the required class is shown below the _Maven Dependencies_ node.","body":"If you have a <a href=\"https://en.wikipedia.org/wiki/Java_Platform_Module_System\" rel=\"nofollow noreferrer\"><code>module-info.java</code></a> file in the default package, delete it (or add the required <code>requires ...;</code> statement). Otherwise, please show whether the required class is shown below the <i>Maven Dependencies</i> node."},{"owner":{"account_id":26680203,"reputation":1,"user_id":20290270,"display_name":"Rajat Sharan"},"score":0,"creation_date":1666272557,"post_id":74137695,"comment_id":130900826,"body_markdown":"Thanks , I have deleted module-info.java file from src folder . Unable to add screenshot in comment","body":"Thanks , I have deleted module-info.java file from src folder . Unable to add screenshot in comment"},{"owner":{"account_id":26680203,"reputation":1,"user_id":20290270,"display_name":"Rajat Sharan"},"score":0,"creation_date":1666273254,"post_id":74137695,"comment_id":130901167,"body_markdown":"Facing same issue even after deleted module-info.java","body":"Facing same issue even after deleted module-info.java"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1666277211,"post_id":74137695,"comment_id":130903008,"body_markdown":"Please update your question with a screenshot with the _Maven Dependencies_ node expanded to the class you want to import and the Java editor with the import statement with error message.","body":"Please update your question with a screenshot with the <i>Maven Dependencies</i> node expanded to the class you want to import and the Java editor with the import statement with error message."},{"owner":{"account_id":26680203,"reputation":1,"user_id":20290270,"display_name":"Rajat Sharan"},"score":0,"creation_date":1666280009,"post_id":74137695,"comment_id":130904231,"body_markdown":"I have updated the question with screenshot with Maven dependencies expanded to the import statement with error message.Please have a look","body":"I have updated the question with screenshot with Maven dependencies expanded to the import statement with error message.Please have a look"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1666332857,"post_id":74137695,"comment_id":130916192,"body_markdown":"The import statement is missing. Did you used code completion (Ctrl+Space) to choose from? Otherwise, please show _Maven Dependencies_ expand to the class you want to use, not only to the first level and also show what code completion (Ctrl+Space) overs.","body":"The import statement is missing. Did you used code completion (Ctrl+Space) to choose from? Otherwise, please show <i>Maven Dependencies</i> expand to the class you want to use, not only to the first level and also show what code completion (Ctrl+Space) overs."}],"answers":[{"tags":[],"owner":{"account_id":9455787,"reputation":644,"user_id":7031148,"display_name":"Alex Karamfilov"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666334822,"creation_date":1666334822,"answer_id":74149706,"question_id":74137695,"body_markdown":"Try importing it directly by using:\r\n```\r\nimport static io.restassured.RestAssured\r\n```\r\nYou can also run in terminal: \r\n```\r\nmvn clean install\r\n```","title":"io.restassured.RestAssured cannot be resolved","body":"<p>Try importing it directly by using:</p>\n<pre><code>import static io.restassured.RestAssured\n</code></pre>\n<p>You can also run in terminal:</p>\n<pre><code>mvn clean install\n</code></pre>\n"}],"owner":{"account_id":26680203,"reputation":1,"user_id":20290270,"display_name":"Rajat Sharan"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":507,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666334822,"creation_date":1666258883,"question_id":74137695,"body_markdown":"Hi I am not able to resolve the error while using rest assured 5.2.0 library in my Eclipse IDE. I have added the rest assured library in my pom.xml file still the error is not resolved also removed Scope from the dependency.\r\n\r\nI tried importing the rest assured library from https://mvnrepository.com/artifact/io.rest-assured/rest-assured/5.2.0 But still doesn&#39;t work.It is &quot;RestAssured cannot be resolved&quot;.\r\n\r\nPlease find the attached screenshot[enter image description here][1]\r\n\r\nScreenshot of Maven Dependencies node expanded to the class and import statement with error message.\r\n\r\n\r\n[enter image description here][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pmKQl.png\r\n\r\n\r\n  [2]: https://i.stack.imgur.com/vYR3I.png","title":"io.restassured.RestAssured cannot be resolved","body":"<p>Hi I am not able to resolve the error while using rest assured 5.2.0 library in my Eclipse IDE. I have added the rest assured library in my pom.xml file still the error is not resolved also removed Scope from the dependency.</p>\n<p>I tried importing the rest assured library from <a href=\"https://mvnrepository.com/artifact/io.rest-assured/rest-assured/5.2.0\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/io.rest-assured/rest-assured/5.2.0</a> But still doesn't work.It is &quot;RestAssured cannot be resolved&quot;.</p>\n<p>Please find the attached screenshot<a href=\"https://i.stack.imgur.com/pmKQl.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>Screenshot of Maven Dependencies node expanded to the class and import statement with error message.</p>\n<p><a href=\"https://i.stack.imgur.com/vYR3I.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","groovy","unetstack"],"comments":[{"owner":{"account_id":11454057,"reputation":1114,"user_id":8395666,"display_name":"emilles"},"score":0,"creation_date":1666477870,"post_id":74129904,"comment_id":130947625,"body_markdown":"Can you put a breakpoint in IllegalArgumentException and see what line of source triggers the exception?","body":"Can you put a breakpoint in IllegalArgumentException and see what line of source triggers the exception?"},{"owner":{"account_id":26669719,"reputation":11,"user_id":20281312,"display_name":"Raju"},"score":0,"creation_date":1666674473,"post_id":74129904,"comment_id":130986931,"body_markdown":"I changed the java version and it is working fine now.","body":"I changed the java version and it is working fine now."}],"answers":[{"comments":[{"owner":{"account_id":26669719,"reputation":11,"user_id":20281312,"display_name":"Raju"},"score":1,"creation_date":1666248979,"post_id":74133437,"comment_id":130891916,"body_markdown":"java -version returns 11.0.16. I will install java 8 and check.","body":"java -version returns 11.0.16. I will install java 8 and check."},{"owner":{"account_id":26669719,"reputation":11,"user_id":20281312,"display_name":"Raju"},"score":1,"creation_date":1666674504,"post_id":74133437,"comment_id":130986934,"body_markdown":"After installing Java 8, it is working fine.","body":"After installing Java 8, it is working fine."}],"tags":[],"owner":{"account_id":281328,"reputation":1127,"user_id":577563,"display_name":"notthetup"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666228189,"creation_date":1666228189,"answer_id":74133437,"question_id":74129904,"body_markdown":"Sounds like a Java version problem.\r\n\r\nCan you check which version of Java you&#39;re running by typing the following command in your terminal\r\n\r\n```\r\njava -version\r\n```\r\n\r\nUnetStack v3.x.x only support Java8. You can install it for your https://adoptium.net/temurin/releases?version=8","title":"Illegal reflective access while running simulation in UnetStack","body":"<p>Sounds like a Java version problem.</p>\n<p>Can you check which version of Java you're running by typing the following command in your terminal</p>\n<pre><code>java -version\n</code></pre>\n<p>UnetStack v3.x.x only support Java8. You can install it for your <a href=\"https://adoptium.net/temurin/releases?version=8\" rel=\"nofollow noreferrer\">https://adoptium.net/temurin/releases?version=8</a></p>\n"}],"owner":{"account_id":26669719,"reputation":11,"user_id":20281312,"display_name":"Raju"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":180,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1666334718,"creation_date":1666202202,"question_id":74129904,"body_markdown":"`bin/unet samples/2-node-network.groovy` running this line throws the following error.\r\n\r\n\r\n```\r\nWARNING: An illegal reflective access operation has occurred\r\nWARNING: Illegal reflective access by org.codehaus.groovy.vmplugin.v7.Java7$1 (file:/home/mohanraju/Documents/Research/unet-community-3.4.0/unet-3.4.0/lib/groovy-2.5.9.jar) to constructor java.lang.invoke.MethodHandles$Lookup(java.lang.Class,int)\r\nWARNING: Please consider reporting this to the maintainers of org.codehaus.groovy.vmplugin.v7.Java7$1\r\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\r\nWARNING: All illegal access operations will be denied in a future release\r\njava.lang.IllegalArgumentException: object is not an instance of declaring class\r\n```","title":"Illegal reflective access while running simulation in UnetStack","body":"<p><code>bin/unet samples/2-node-network.groovy</code> running this line throws the following error.</p>\n<pre><code>WARNING: An illegal reflective access operation has occurred\nWARNING: Illegal reflective access by org.codehaus.groovy.vmplugin.v7.Java7$1 (file:/home/mohanraju/Documents/Research/unet-community-3.4.0/unet-3.4.0/lib/groovy-2.5.9.jar) to constructor java.lang.invoke.MethodHandles$Lookup(java.lang.Class,int)\nWARNING: Please consider reporting this to the maintainers of org.codehaus.groovy.vmplugin.v7.Java7$1\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\nWARNING: All illegal access operations will be denied in a future release\njava.lang.IllegalArgumentException: object is not an instance of declaring class\n</code></pre>\n"},{"tags":["java","junit","code-coverage","cobertura","maven-cobertura-plugin"],"comments":[{"owner":{"account_id":1249654,"reputation":159470,"user_id":1210329,"display_name":"geocodezip"},"score":0,"creation_date":1605228006,"post_id":64813624,"comment_id":114594347,"body_markdown":"possible duplicate of [Code coverage does not reach class declaration](https://stackoverflow.com/questions/46477696/code-coverage-does-not-reach-class-declaration)","body":"possible duplicate of <a href=\"https://stackoverflow.com/questions/46477696/code-coverage-does-not-reach-class-declaration\">Code coverage does not reach class declaration</a>"},{"owner":{"account_id":4912982,"reputation":14853,"user_id":3957754,"accept_rate":50,"display_name":"JRichardsz"},"score":0,"creation_date":1605241639,"post_id":64813624,"comment_id":114596816,"body_markdown":"Please give explanations for down votes, I&#39;d like to learn more.","body":"Please give explanations for down votes, I&#39;d like to learn more."},{"owner":{"account_id":379763,"reputation":29886,"user_id":733345,"display_name":"Joe"},"score":0,"creation_date":1605447379,"post_id":64813624,"comment_id":114646878,"body_markdown":"Does this answer your question? [Code coverage does not reach class declaration](https://stackoverflow.com/questions/46477696/code-coverage-does-not-reach-class-declaration)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/46477696/code-coverage-does-not-reach-class-declaration\">Code coverage does not reach class declaration</a>"}],"answers":[{"tags":[],"owner":{"account_id":10672127,"reputation":1,"user_id":7856887,"display_name":"darker"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666334493,"creation_date":1666334493,"answer_id":74149654,"question_id":64813624,"body_markdown":"it means default constructor is not tested.maybe, you can add a test method to `new TimeHelper()` for resolve it.","title":"What is the meaning of red check mark at class declaration level in Cobertura Maven Plugin report?","body":"<p>it means default constructor is not tested.maybe, you can add a test method to <code>new TimeHelper()</code> for resolve it.</p>\n"}],"owner":{"account_id":4912982,"reputation":14853,"user_id":3957754,"accept_rate":50,"display_name":"JRichardsz"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":599,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1666334493,"creation_date":1605225758,"question_id":64813624,"body_markdown":"I have a project with several tests and [Cobertura Maven Plugin](https://www.mojohaus.org/cobertura-maven-plugin/). All works fine but one Class with its test are driving me crazy.\r\n\r\nThis is the cobertura report with 83% of line coverage:\r\n\r\n[![r1][1]][1]\r\n\r\nAnd this is the basic test:\r\n\r\n    import static org.junit.Assert.assertEquals;\r\n    import org.junit.Test;\r\n    \r\n    public class TimeHelperTest {\r\n    \r\n      @Test\r\n      public void elapsedMillisToHumanExpression() throws Exception {\r\n        assertEquals(&quot;0 min 3 seg 600 millis&quot;,\r\n            TimeHelper.elapsedMillisToHumanExpression(1000000000l, 1000003600l));\r\n      }\r\n    \r\n    }\r\n\r\n\r\n\r\n# Question\r\n\r\n- What means 0 at the left of class name in cobertura report? \r\n\r\nOther classes show numbers &gt; 0 and are green.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n# Environment\r\n\r\n- java 8\r\n- ubuntu\r\n- eclipse\r\n- pom.xml\r\n```\r\n&lt;build&gt;\r\n  &lt;plugins&gt;\r\n    &lt;plugin&gt;\r\n      &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n      &lt;artifactId&gt;cobertura-maven-plugin&lt;/artifactId&gt;\r\n      &lt;version&gt;2.7&lt;/version&gt;\r\n      &lt;configuration&gt;\r\n        &lt;check&gt;\r\n          &lt;haltOnFailure&gt;true&lt;/haltOnFailure&gt;\r\n          &lt;branchRate&gt;90&lt;/branchRate&gt;\r\n          &lt;lineRate&gt;90&lt;/lineRate&gt;\r\n          &lt;totalBranchRate&gt;90&lt;/totalBranchRate&gt;\r\n          &lt;totalLineRate&gt;90&lt;/totalLineRate&gt;\r\n          &lt;packageLineRate&gt;90&lt;/packageLineRate&gt;\r\n          &lt;packageBranchRate&gt;90&lt;/packageBranchRate&gt;\r\n        &lt;/check&gt;\r\n        &lt;formats&gt;\r\n          &lt;format&gt;html&lt;/format&gt;\r\n        &lt;/formats&gt;\r\n      &lt;/configuration&gt;\r\n      &lt;executions&gt;\r\n        &lt;execution&gt;\r\n          &lt;id&gt;cobertura-clean-and-check&lt;/id&gt;\r\n          &lt;phase&gt;prepare-package&lt;/phase&gt;\r\n          &lt;goals&gt;\r\n            &lt;goal&gt;clean&lt;/goal&gt;\r\n            &lt;goal&gt;cobertura&lt;/goal&gt;\r\n            &lt;goal&gt;check&lt;/goal&gt;\r\n          &lt;/goals&gt;\r\n        &lt;/execution&gt;\r\n      &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n  &lt;/plugins&gt;\r\n&lt;/build&gt;\r\n```\r\n\r\n# Attempts\r\n\r\nI tried with several changes in my @Test but report does not change !!\r\n\r\n- use `extends TestCase`\r\n- use `@RunWith`\r\n- use **maven-surefire-plugin** including **/*Test.java\r\n- remove thresholds in pom.xml\r\n\r\n# Research\r\n\r\n- https://stackoverflow.com/questions/8007759/cobertura-code-coverage-is-0-when-using-maven-3\r\n- https://github.com/cobertura/cobertura/issues/136\r\n- http://cobertura.996293.n3.nabble.com/Cobertura-shows-zero-code-coverage-despite-all-tests-running-td2829.html\r\n  - This talk about base path of test for ant projects but I can&#39;t use it in my maven project\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sIO2H.png\r\n  [2]: https://i.stack.imgur.com/EEK44.png","title":"What is the meaning of red check mark at class declaration level in Cobertura Maven Plugin report?","body":"<p>I have a project with several tests and <a href=\"https://www.mojohaus.org/cobertura-maven-plugin/\" rel=\"nofollow noreferrer\">Cobertura Maven Plugin</a>. All works fine but one Class with its test are driving me crazy.</p>\n<p>This is the cobertura report with 83% of line coverage:</p>\n<p><a href=\"https://i.stack.imgur.com/sIO2H.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sIO2H.png\" alt=\"r1\" /></a></p>\n<p>And this is the basic test:</p>\n<pre><code>import static org.junit.Assert.assertEquals;\nimport org.junit.Test;\n\npublic class TimeHelperTest {\n\n  @Test\n  public void elapsedMillisToHumanExpression() throws Exception {\n    assertEquals(&quot;0 min 3 seg 600 millis&quot;,\n        TimeHelper.elapsedMillisToHumanExpression(1000000000l, 1000003600l));\n  }\n\n}\n</code></pre>\n<h1>Question</h1>\n<ul>\n<li>What means 0 at the left of class name in cobertura report?</li>\n</ul>\n<p>Other classes show numbers &gt; 0 and are green.</p>\n<p><a href=\"https://i.stack.imgur.com/EEK44.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EEK44.png\" alt=\"enter image description here\" /></a></p>\n<h1>Environment</h1>\n<ul>\n<li>java 8</li>\n<li>ubuntu</li>\n<li>eclipse</li>\n<li>pom.xml</li>\n</ul>\n<pre><code>&lt;build&gt;\n  &lt;plugins&gt;\n    &lt;plugin&gt;\n      &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n      &lt;artifactId&gt;cobertura-maven-plugin&lt;/artifactId&gt;\n      &lt;version&gt;2.7&lt;/version&gt;\n      &lt;configuration&gt;\n        &lt;check&gt;\n          &lt;haltOnFailure&gt;true&lt;/haltOnFailure&gt;\n          &lt;branchRate&gt;90&lt;/branchRate&gt;\n          &lt;lineRate&gt;90&lt;/lineRate&gt;\n          &lt;totalBranchRate&gt;90&lt;/totalBranchRate&gt;\n          &lt;totalLineRate&gt;90&lt;/totalLineRate&gt;\n          &lt;packageLineRate&gt;90&lt;/packageLineRate&gt;\n          &lt;packageBranchRate&gt;90&lt;/packageBranchRate&gt;\n        &lt;/check&gt;\n        &lt;formats&gt;\n          &lt;format&gt;html&lt;/format&gt;\n        &lt;/formats&gt;\n      &lt;/configuration&gt;\n      &lt;executions&gt;\n        &lt;execution&gt;\n          &lt;id&gt;cobertura-clean-and-check&lt;/id&gt;\n          &lt;phase&gt;prepare-package&lt;/phase&gt;\n          &lt;goals&gt;\n            &lt;goal&gt;clean&lt;/goal&gt;\n            &lt;goal&gt;cobertura&lt;/goal&gt;\n            &lt;goal&gt;check&lt;/goal&gt;\n          &lt;/goals&gt;\n        &lt;/execution&gt;\n      &lt;/executions&gt;\n    &lt;/plugin&gt;\n  &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<h1>Attempts</h1>\n<p>I tried with several changes in my @Test but report does not change !!</p>\n<ul>\n<li>use <code>extends TestCase</code></li>\n<li>use <code>@RunWith</code></li>\n<li>use <strong>maven-surefire-plugin</strong> including **/*Test.java</li>\n<li>remove thresholds in pom.xml</li>\n</ul>\n<h1>Research</h1>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/8007759/cobertura-code-coverage-is-0-when-using-maven-3\">Cobertura code coverage is 0% when using Maven 3</a></li>\n<li><a href=\"https://github.com/cobertura/cobertura/issues/136\" rel=\"nofollow noreferrer\">https://github.com/cobertura/cobertura/issues/136</a></li>\n<li><a href=\"http://cobertura.996293.n3.nabble.com/Cobertura-shows-zero-code-coverage-despite-all-tests-running-td2829.html\" rel=\"nofollow noreferrer\">http://cobertura.996293.n3.nabble.com/Cobertura-shows-zero-code-coverage-despite-all-tests-running-td2829.html</a>\n<ul>\n<li>This talk about base path of test for ant projects but I can't use it in my maven project</li>\n</ul>\n</li>\n</ul>\n"},{"tags":["java","spring-boot","unit-testing","junit","spring-test"],"answers":[{"tags":[],"owner":{"account_id":26506001,"reputation":2574,"user_id":20142156,"display_name":"Dhaval Gajjar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666071072,"creation_date":1666071072,"answer_id":74106106,"question_id":74105184,"body_markdown":"You need to create a real AmountService class because you want to test it but you need to mock other classes used in AmountService class. Also, you can find mockito [documentation](https://site.mockito.org/) says that doesn&#39;t mock everything.\r\n\r\n```\r\n@Slf4j\r\n@ExtendWith(value = SpringExtension.class)\r\n@EnableConfigurationProperties(value = AmountProperties.class)\r\n@TestPropertySource(&quot;classpath:amount-test.properties&quot;)\r\npublic class CashOutServiceTest {\r\n\r\n    @Mock\r\n    private OtherService otherService;\r\n\r\n    @Autowired\r\n    private AmountProperties amountProperties;\r\n\r\n    private AmountService amountService;\r\n\r\n    @BeforeEach // If you using junit 4 use @Before annotation\r\n    public void init() {\r\n        MockitoAnnotations.openMocks(this);\r\n        amountService = new AmountService(otherService, amountProperties);\r\n    }\r\n\r\n    @Test\r\n    void a() {\r\n        assertNotNull(amountProperties);\r\n        log.debug(&quot;{}&quot;, amountProperties);\r\n    }\r\n\r\n    @Test\r\n    void b() {\r\n        assertNotNull(amountService.getAmountProperties());\r\n        log.debug(&quot;{}&quot;, amountService.getAmountProperties());\r\n    }\r\n\r\n}\r\n```","title":"How to inject configuration properties to a service in Spring testing?","body":"<p>You need to create a real AmountService class because you want to test it but you need to mock other classes used in AmountService class. Also, you can find mockito <a href=\"https://site.mockito.org/\" rel=\"nofollow noreferrer\">documentation</a> says that doesn't mock everything.</p>\n<pre><code>@Slf4j\n@ExtendWith(value = SpringExtension.class)\n@EnableConfigurationProperties(value = AmountProperties.class)\n@TestPropertySource(&quot;classpath:amount-test.properties&quot;)\npublic class CashOutServiceTest {\n\n    @Mock\n    private OtherService otherService;\n\n    @Autowired\n    private AmountProperties amountProperties;\n\n    private AmountService amountService;\n\n    @BeforeEach // If you using junit 4 use @Before annotation\n    public void init() {\n        MockitoAnnotations.openMocks(this);\n        amountService = new AmountService(otherService, amountProperties);\n    }\n\n    @Test\n    void a() {\n        assertNotNull(amountProperties);\n        log.debug(&quot;{}&quot;, amountProperties);\n    }\n\n    @Test\n    void b() {\n        assertNotNull(amountService.getAmountProperties());\n        log.debug(&quot;{}&quot;, amountService.getAmountProperties());\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6951350,"reputation":1730,"user_id":5333879,"display_name":"borino"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666334286,"creation_date":1666334286,"answer_id":74149626,"question_id":74105184,"body_markdown":"You mix two approaches (`SpringExtension` and `InjectMocks`). If you used `SpringExtension` - that means spring context will be created (use `@MockBean`). If you used `InjectMocks` - that means mocks will be created independently of spring(use `@ExtendWith(MockitoExtensions.class)`), in this case `EnableConfigurationProperties` and `TestPropertySource` will not work for your tested service annotated by `@InjectMocks` .  \r\nMy understanding you want delegate creating of &#39;AmountProperties&#39; by spring in this case please see my example:\r\n\r\n    @Slf4j\r\n    @ExtendWith(value = SpringExtension.class)\r\n    @EnableConfigurationProperties(value = AmountProperties.class)\r\n    @TestPropertySource(&quot;classpath:amount-test.properties&quot;)\r\n    @MockBean(OtherService.class)\r\n    public class CashOutServiceTest {\r\n            \r\n        @Autowired\r\n        AmountProperties amountProperties;\r\n\r\n        @Autowired\r\n        AmountService amountService;\r\n    \r\n        @Test\r\n        void a() {\r\n            assertNotNull(amountProperties);\r\n            log.debug(&quot;{}&quot;, amountProperties);\r\n        }\r\n    \r\n        @Test\r\n        void b() {\r\n            assertNotNull(amountService.getAmountProperties());\r\n            log.debug(&quot;{}&quot;, amountService.getAmountProperties());\r\n        }\r\n    }\r\n\r\n**PS**. `@MockBean` can also be used at the field level if you want to use in a test.\r\n\r\n    public class CashOutServiceTest {\r\n       @MockBean\r\n       OtherService otherService;","title":"How to inject configuration properties to a service in Spring testing?","body":"<p>You mix two approaches (<code>SpringExtension</code> and <code>InjectMocks</code>). If you used <code>SpringExtension</code> - that means spring context will be created (use <code>@MockBean</code>). If you used <code>InjectMocks</code> - that means mocks will be created independently of spring(use <code>@ExtendWith(MockitoExtensions.class)</code>), in this case <code>EnableConfigurationProperties</code> and <code>TestPropertySource</code> will not work for your tested service annotated by <code>@InjectMocks</code> .<br />\nMy understanding you want delegate creating of 'AmountProperties' by spring in this case please see my example:</p>\n<pre><code>@Slf4j\n@ExtendWith(value = SpringExtension.class)\n@EnableConfigurationProperties(value = AmountProperties.class)\n@TestPropertySource(&quot;classpath:amount-test.properties&quot;)\n@MockBean(OtherService.class)\npublic class CashOutServiceTest {\n        \n    @Autowired\n    AmountProperties amountProperties;\n\n    @Autowired\n    AmountService amountService;\n\n    @Test\n    void a() {\n        assertNotNull(amountProperties);\n        log.debug(&quot;{}&quot;, amountProperties);\n    }\n\n    @Test\n    void b() {\n        assertNotNull(amountService.getAmountProperties());\n        log.debug(&quot;{}&quot;, amountService.getAmountProperties());\n    }\n}\n</code></pre>\n<p><strong>PS</strong>. <code>@MockBean</code> can also be used at the field level if you want to use in a test.</p>\n<pre><code>public class CashOutServiceTest {\n   @MockBean\n   OtherService otherService;\n</code></pre>\n"}],"owner":{"account_id":21774978,"reputation":45,"user_id":16077546,"display_name":"BlueRey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1012,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1666334286,"creation_date":1666061628,"question_id":74105184,"body_markdown":"So I have a configuration properties bean\r\n\r\n    @Data\r\n    @ConfigurationProperties(prefix = &quot;amount&quot;)\r\n    public class AmountProperties {\r\n        private BigInteger minimum;\r\n        private BigInteger maximum;\r\n    }\r\n\r\nThis configuration properties bean is used in a service\r\n\r\n    @Slf4j\r\n    @Data\r\n    @Service\r\n    @RequiredArgsConstructor\r\n    public class AmountService {\r\n        private final OtherService otherService;\r\n\r\n        private final AmountProperties amountProperties;\r\n    }\r\n\r\nNow in testing I have a test class like this\r\n\r\n    @Slf4j\r\n    @ExtendWith(value = SpringExtension.class)\r\n    @EnableConfigurationProperties(value = AmountProperties.class)\r\n    @TestPropertySource(&quot;classpath:amount-test.properties&quot;)\r\n    public class CashOutServiceTest {\r\n        @Mock\r\n        private OtherService otherService;\r\n    \r\n        @Autowired\r\n        private CashOutProperties cashOutProperties;\r\n    \r\n        @InjectMocks\r\n        private AmountService amountService;\r\n    \r\n        @Test\r\n        void a() {\r\n            assertNotNull(amountProperties);\r\n            log.debug(&quot;{}&quot;, amountProperties);\r\n        }\r\n    \r\n        @Test\r\n        void b() {\r\n            assertNotNull(amountService.getAmountProperties());\r\n            log.debug(&quot;{}&quot;, amountService.getAmountProperties());\r\n        }\r\n    }\r\n\r\na test function succeed, but b test function fails. How do I inject amountProperties to amountService?\r\n","title":"How to inject configuration properties to a service in Spring testing?","body":"<p>So I have a configuration properties bean</p>\n<pre><code>@Data\n@ConfigurationProperties(prefix = &quot;amount&quot;)\npublic class AmountProperties {\n    private BigInteger minimum;\n    private BigInteger maximum;\n}\n</code></pre>\n<p>This configuration properties bean is used in a service</p>\n<pre><code>@Slf4j\n@Data\n@Service\n@RequiredArgsConstructor\npublic class AmountService {\n    private final OtherService otherService;\n\n    private final AmountProperties amountProperties;\n}\n</code></pre>\n<p>Now in testing I have a test class like this</p>\n<pre><code>@Slf4j\n@ExtendWith(value = SpringExtension.class)\n@EnableConfigurationProperties(value = AmountProperties.class)\n@TestPropertySource(&quot;classpath:amount-test.properties&quot;)\npublic class CashOutServiceTest {\n    @Mock\n    private OtherService otherService;\n\n    @Autowired\n    private CashOutProperties cashOutProperties;\n\n    @InjectMocks\n    private AmountService amountService;\n\n    @Test\n    void a() {\n        assertNotNull(amountProperties);\n        log.debug(&quot;{}&quot;, amountProperties);\n    }\n\n    @Test\n    void b() {\n        assertNotNull(amountService.getAmountProperties());\n        log.debug(&quot;{}&quot;, amountService.getAmountProperties());\n    }\n}\n</code></pre>\n<p>a test function succeed, but b test function fails. How do I inject amountProperties to amountService?</p>\n"},{"tags":["java","concurrency"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1666278636,"post_id":74141846,"comment_id":130903682,"body_markdown":"Google can&#39;t find a `notifyOnException()` method.  Got a link to the documentation?","body":"Google can&#39;t find a <code>notifyOnException()</code> method.  Got a link to the documentation?"},{"owner":{"account_id":82865,"reputation":6321,"user_id":232695,"accept_rate":85,"display_name":"artaxerxe"},"score":0,"creation_date":1666292143,"post_id":74141846,"comment_id":130908520,"body_markdown":"@markspace `notifyOnException()` is my method. You can see it down there in the OP.","body":"@markspace <code>notifyOnException()</code> is my method. You can see it down there in the OP."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1666298022,"post_id":74141846,"comment_id":130910321,"body_markdown":"I think you need to produce a [mcve], this code is way too complex for people to guess at what the problem might be.  Your comment in the code says `waitToFinish()` &quot;will stop here&quot; but waitToFinish is a rather large and complex method, could you break down exactly where the problem is?  What output do you see, and what do you expect to see instead?  Please don&#39;t rely on external resources for the [mcve], please use something like a StringReader to generate a self-contained input stream.","body":"I think you need to produce a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, this code is way too complex for people to guess at what the problem might be.  Your comment in the code says <code>waitToFinish()</code> &quot;will stop here&quot; but waitToFinish is a rather large and complex method, could you break down exactly where the problem is?  What output do you see, and what do you expect to see instead?  Please don&#39;t rely on external resources for the <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, please use something like a StringReader to generate a self-contained input stream."},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1666309946,"post_id":74141846,"comment_id":130912779,"body_markdown":"This could also conceivably be due to thread-safety issues, where a write to `thrownError` is not visible to another thread.","body":"This could also conceivably be due to thread-safety issues, where a write to <code>thrownError</code> is not visible to another thread."},{"owner":{"account_id":82865,"reputation":6321,"user_id":232695,"accept_rate":85,"display_name":"artaxerxe"},"score":0,"creation_date":1666330525,"post_id":74141846,"comment_id":130915742,"body_markdown":"@LouisWasserman this is not the case, as I put all writes in a synchronized block, as you can see.","body":"@LouisWasserman this is not the case, as I put all writes in a synchronized block, as you can see."},{"owner":{"account_id":82865,"reputation":6321,"user_id":232695,"accept_rate":85,"display_name":"artaxerxe"},"score":0,"creation_date":1666331031,"post_id":74141846,"comment_id":130915819,"body_markdown":"@markspace Please have a look now.","body":"@markspace Please have a look now."}],"answers":[{"tags":[],"owner":{"account_id":82865,"reputation":6321,"user_id":232695,"accept_rate":85,"display_name":"artaxerxe"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666334101,"creation_date":1666331452,"answer_id":74149262,"question_id":74141846,"body_markdown":"It seems to me that my assumption in regard to `UncaughtExceptionHanlder`&#39;s method call is wrong.\r\nJava docs says [this][1]:\r\n\r\n&gt; public static interface Thread.UncaughtExceptionHandler\r\n\r\n&gt; Interface for handlers invoked when a Thread abruptly terminates due to an uncaught exception.\r\nWhen a thread is about to terminate due to an uncaught exception the Java Virtual Machine will query the thread for its UncaughtExceptionHandler using Thread.getUncaughtExceptionHandler() and will invoke the handler&#39;s uncaughtException method, passing the thread and the exception as arguments. \r\n\r\nWith other words, it is not the thread itself which calls the `UncaughtExceptionHandler`&#39;s method, but JVM. This means that there is no constraint in regard to the order of operations when `awaitTermination` is called.\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/Thread.UncaughtExceptionHandler.html","title":"ExecutorService.awaitTermination() returns true, even if tasks aren&#39;t finished","body":"<p>It seems to me that my assumption in regard to <code>UncaughtExceptionHanlder</code>'s method call is wrong.\nJava docs says <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Thread.UncaughtExceptionHandler.html\" rel=\"nofollow noreferrer\">this</a>:</p>\n<blockquote>\n<p>public static interface Thread.UncaughtExceptionHandler</p>\n</blockquote>\n<blockquote>\n<p>Interface for handlers invoked when a Thread abruptly terminates due to an uncaught exception.\nWhen a thread is about to terminate due to an uncaught exception the Java Virtual Machine will query the thread for its UncaughtExceptionHandler using Thread.getUncaughtExceptionHandler() and will invoke the handler's uncaughtException method, passing the thread and the exception as arguments.</p>\n</blockquote>\n<p>With other words, it is not the thread itself which calls the <code>UncaughtExceptionHandler</code>'s method, but JVM. This means that there is no constraint in regard to the order of operations when <code>awaitTermination</code> is called.</p>\n"}],"owner":{"account_id":82865,"reputation":6321,"user_id":232695,"accept_rate":85,"display_name":"artaxerxe"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1666334101,"creation_date":1666277149,"question_id":74141846,"body_markdown":"Here is my parser class:\r\n\r\n    public class InputFilesParser {\r\n\r\n    private ExecutorService executorService;\r\n    private volatile Throwable thrownError;\r\n\r\n    public InputFilesParser(int poolSize) {\r\n\r\n            this.executorService = Executors.newFixedThreadPool(poolSize, (r) -&gt; {\r\n\r\n                Thread t = new Thread(r);\r\n                t.setUncaughtExceptionHandler((thread, e) -&gt; {\r\n                    //this should be called before the thread has finished.\r\n                    this.notifyOnException(thread, e);\r\n                });\r\n\r\n                return t;\r\n\r\n            });\r\n\r\n        }\r\n\r\n    }\r\n\r\n    public void parseFile(Path inputFilePath) throws Throwable {\r\n\r\n            //if exception is set, then no more files will be processed.\r\n            if (this.thrownError != null) {\r\n\r\n                //execution will stop here because an error will be thrown from waitToFinish()\r\n                this.waitToFinish();\r\n\r\n            }\r\n\r\n            this.executorService.execute(() -&gt; {\r\n\r\n                //this will always throw an exception which have to be handled by the above mentioned uncaughtExceptionHandler.\r\n                this.processFile(inputFilePath);\r\n\r\n            });\r\n\r\n    }\r\n\r\n    private void processFile(Path inputFilePath) {\r\n\r\n\t\tthrow new RuntimeExecption();\r\n\r\n    }\r\n\r\n    public void waitToFinish() throws Throwable {\r\n\r\n            this.executorService.shutdown();\r\n\r\n            while (true) {\r\n\r\n                try {\r\n\r\n                    //if statement will be entered only when awaitTermination returns true, meaning all the tasks are finished.\r\n                    if (this.executorService.awaitTermination(STOP_CHECK_TIMEOUT, TimeUnit.SECONDS)) {\r\n\r\n                        synchronized (this) {\r\n\r\n                            //in this scenario, after all tasks are finished, the thrownError should be set\r\n                            if (this.thrownError != null) {\r\n\r\n                                //I expect to get this output\r\n                                System.out.println(&quot;Exception: &quot; + this.thrownError);\r\n                                throw this.thrownError;\r\n\r\n                            }\r\n\r\n                            //but I get this output\r\n                            System.out.println(&quot;No exception: &quot; + this.thrownError);\r\n\r\n                        }\r\n\r\n                        break;\r\n\r\n                    }\r\n\r\n                } catch (InterruptedException e) {\r\n\r\n                    LOG.info(&quot;An interruption occurred&quot;, e);\r\n\r\n                }\r\n\r\n            }\r\n\r\n    }\r\n\r\n    private synchronized void notifyOnException(Thread thread, Throwable t) {\r\n\r\n        //if the thrownError isn&#39;t set, then set it here so that waitToFinish() will know that an error occurred.\r\n        if (this.thrownError == null) {\r\n\r\n            this.thrownError = t;\r\n\r\n        }\r\n\r\n    }\r\n\r\n}\r\n\r\non the calling thread, I have the following:\r\n\r\n    InputFilesParser ifp = new InputFilesParser(poolSize);\r\n    try {\r\n        for (Path f : files) {\r\n\r\n            //each parsing will throw an exception in this scenario\r\n            ifp.parseFile(f);\r\n\r\n        }\r\n        //an exception should be detected and the error thrown, but actually this is not happening, but printing No exception... message.\r\n        ifp.waitToFinish();\r\n    catch(Exception e) {\r\n        e.printStackTrace();\r\n    }\r\n\r\nAlthough there is an exception thrown, the calling thread gets in waitToFinish() method, printing null for the thrown exception:\r\n\r\n&gt; Thread: Thread-5. No exception: null\r\n\r\nThis means that awaitTermination returns true, before the exception is set in `notifyOnException` method. But `notifyOnException` method is called from a thread run by this executor service. In my opinion there is a problem with my understanding, or there is a problem with `java`.\r\n\r\nAny idea which one of this :) ? In my opinion, this shouldn&#39;t be possible. Am I missing something about setUncaughtExceptionHandler method and the way how it handles the exceptions? Although from documentation it seems that this method is called by the thread throwing the exception.\r\n\r\n&gt; public void setUncaughtExceptionHandler(Thread.UncaughtExceptionHandler eh)\r\n\r\n&gt; Set the handler invoked when this thread abruptly terminates due to an uncaught exception.\r\n\r\n&gt; A thread can take full control of how it responds to uncaught exceptions by having its uncaught exception handler explicitly set. If no such handler is set then the thread&#39;s ThreadGroup object acts as its handler.\r\n\r\nParameters:\r\neh - the object to use as this thread&#39;s uncaught exception handler. If null then this thread has no explicit handler.\r\n\r\n\r\nThanks in advance.","title":"ExecutorService.awaitTermination() returns true, even if tasks aren&#39;t finished","body":"<p>Here is my parser class:</p>\n<pre><code>public class InputFilesParser {\n\nprivate ExecutorService executorService;\nprivate volatile Throwable thrownError;\n\npublic InputFilesParser(int poolSize) {\n\n        this.executorService = Executors.newFixedThreadPool(poolSize, (r) -&gt; {\n\n            Thread t = new Thread(r);\n            t.setUncaughtExceptionHandler((thread, e) -&gt; {\n                //this should be called before the thread has finished.\n                this.notifyOnException(thread, e);\n            });\n\n            return t;\n\n        });\n\n    }\n\n}\n\npublic void parseFile(Path inputFilePath) throws Throwable {\n\n        //if exception is set, then no more files will be processed.\n        if (this.thrownError != null) {\n\n            //execution will stop here because an error will be thrown from waitToFinish()\n            this.waitToFinish();\n\n        }\n\n        this.executorService.execute(() -&gt; {\n\n            //this will always throw an exception which have to be handled by the above mentioned uncaughtExceptionHandler.\n            this.processFile(inputFilePath);\n\n        });\n\n}\n\nprivate void processFile(Path inputFilePath) {\n\n    throw new RuntimeExecption();\n\n}\n\npublic void waitToFinish() throws Throwable {\n\n        this.executorService.shutdown();\n\n        while (true) {\n\n            try {\n\n                //if statement will be entered only when awaitTermination returns true, meaning all the tasks are finished.\n                if (this.executorService.awaitTermination(STOP_CHECK_TIMEOUT, TimeUnit.SECONDS)) {\n\n                    synchronized (this) {\n\n                        //in this scenario, after all tasks are finished, the thrownError should be set\n                        if (this.thrownError != null) {\n\n                            //I expect to get this output\n                            System.out.println(&quot;Exception: &quot; + this.thrownError);\n                            throw this.thrownError;\n\n                        }\n\n                        //but I get this output\n                        System.out.println(&quot;No exception: &quot; + this.thrownError);\n\n                    }\n\n                    break;\n\n                }\n\n            } catch (InterruptedException e) {\n\n                LOG.info(&quot;An interruption occurred&quot;, e);\n\n            }\n\n        }\n\n}\n\nprivate synchronized void notifyOnException(Thread thread, Throwable t) {\n\n    //if the thrownError isn't set, then set it here so that waitToFinish() will know that an error occurred.\n    if (this.thrownError == null) {\n\n        this.thrownError = t;\n\n    }\n\n}\n</code></pre>\n<p>}</p>\n<p>on the calling thread, I have the following:</p>\n<pre><code>InputFilesParser ifp = new InputFilesParser(poolSize);\ntry {\n    for (Path f : files) {\n\n        //each parsing will throw an exception in this scenario\n        ifp.parseFile(f);\n\n    }\n    //an exception should be detected and the error thrown, but actually this is not happening, but printing No exception... message.\n    ifp.waitToFinish();\ncatch(Exception e) {\n    e.printStackTrace();\n}\n</code></pre>\n<p>Although there is an exception thrown, the calling thread gets in waitToFinish() method, printing null for the thrown exception:</p>\n<blockquote>\n<p>Thread: Thread-5. No exception: null</p>\n</blockquote>\n<p>This means that awaitTermination returns true, before the exception is set in <code>notifyOnException</code> method. But <code>notifyOnException</code> method is called from a thread run by this executor service. In my opinion there is a problem with my understanding, or there is a problem with <code>java</code>.</p>\n<p>Any idea which one of this :) ? In my opinion, this shouldn't be possible. Am I missing something about setUncaughtExceptionHandler method and the way how it handles the exceptions? Although from documentation it seems that this method is called by the thread throwing the exception.</p>\n<blockquote>\n<p>public void setUncaughtExceptionHandler(Thread.UncaughtExceptionHandler eh)</p>\n</blockquote>\n<blockquote>\n<p>Set the handler invoked when this thread abruptly terminates due to an uncaught exception.</p>\n</blockquote>\n<blockquote>\n<p>A thread can take full control of how it responds to uncaught exceptions by having its uncaught exception handler explicitly set. If no such handler is set then the thread's ThreadGroup object acts as its handler.</p>\n</blockquote>\n<p>Parameters:\neh - the object to use as this thread's uncaught exception handler. If null then this thread has no explicit handler.</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","spring-boot","solr","lucene","full-text-search"],"comments":[{"owner":{"account_id":11732873,"reputation":734,"user_id":8587732,"display_name":"Vitaly Chura"},"score":0,"creation_date":1666272694,"post_id":74140376,"comment_id":130900893,"body_markdown":"Could you add the entire exception stack trace?","body":"Could you add the entire exception stack trace?"},{"owner":{"account_id":26555478,"reputation":3,"user_id":20184171,"display_name":"Kushagra Srivastva"},"score":0,"creation_date":1666333893,"post_id":74140376,"comment_id":130916442,"body_markdown":"@VitalyChura added the entire error","body":"@VitalyChura added the entire error"}],"owner":{"account_id":26555478,"reputation":3,"user_id":20184171,"display_name":"Kushagra Srivastva"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666333843,"creation_date":1666271095,"question_id":74140376,"body_markdown":"Getting an error while running , a solr spring boot application, it says \r\n\r\n&quot;Parameter 0 of constructor in Controller required a bean of type Repository that could not be found.&quot; \r\n\r\n&quot;Consider defining a bean of type Repository in your configuration.&quot;\r\n\r\nHere is my enitiy\r\n\r\n```@Data\r\n@SolrDocument(collection = &quot;content_core&quot;)\r\npublic class ContentDoc {\r\n@Id\r\n@Indexed\r\nprivate String id;\r\n\r\n@Indexed(name = &quot;display_title&quot;, type = &quot;string&quot;)\r\nprivate String displayTitle;\r\n}\r\n```\r\n\r\n\r\nHere is my solr config file\r\n\r\n```@Configuration\r\n@EnableSolrRepositories(basePackages = &quot;com.baeldung.repository.ContentDocRepository.spring.data.solr.repository&quot;, namedQueriesLocation = &quot;classpath:solr-named-queries.properties&quot;)\r\n@ComponentScan\r\npublic class SolrConfig {\r\n@Bean\r\npublic SolrClient solrClient() {\r\nreturn new HttpSolrClient.Builder(&quot;http://localhost:8983/solr&quot;).build();\r\n}\r\n\r\n@Bean\r\npublic SolrTemplate solrTemplate(SolrClient client) throws Exception {\r\nreturn new SolrTemplate(client);\r\n}\r\n}\r\n\r\n```\r\n\r\nHere is my controller\r\n\r\n```@RestController\r\n@RequestMapping(&quot;/api/v1/content&quot;)\r\n@AllArgsConstructor\r\n@Slf4j\r\npublic class ContentDocController {\r\n\r\nprivate final ContentDocRepository contentDocRepository;\r\n\r\n@GetMapping(&quot;/searchfaq&quot;)\r\npublic Map&lt;String, Object&gt; searchFaq(@RequestParam(&quot;sectionId&quot;) Long sectionId,\r\n@RequestParam(&quot;seachTerm&quot;) String searchTerm) {\r\n\r\n// ContentDoc contentDoc = new ContentDoc();\r\n// contentDoc.setContentId((long)1);\r\n// contentDoc.setDisplayTitle(&quot;virat&quot;);\r\n// contentDocRepository.save(contentDoc);\r\nreturn null;\r\n}\r\n}\r\n```\r\n\r\nHere is my repository \r\n\r\n```@Repository\r\n@Qualifier(&quot;contentDocRepository&quot;)\r\npublic interface ContentDocRepository extends SolrCrudRepository&lt;ContentDoc, String&gt; {\r\npublic List&lt;ContentDoc&gt; findByName(String displayTitle);\r\n}\r\n\r\n```\r\n\r\n\r\nthis is the error that I am getting -&gt;\r\n\r\n```\r\nError starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n2022-10-20 18:22:47.836 ERROR 2760 --- [  restartedMain] o.s.b.d.LoggingFailureAnalysisReporter   : \r\n\r\n*********\r\nAPPLICATION FAILED TO START\r\n*********\r\n\r\nDescription:\r\n\r\nParameter 0 of constructor in com.aa.aa.controller.ContentController required a bean of type &#39;com.aa.aa.repository.ContentDocRepository&#39; that could not be found.\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;com.aa.aa.repository.ContentDocRepository&#39; in your configuration.\r\n```\r\n\r\nI am trying to create an an api which searches data from DB , and using solr to index the db data.\r\n\r\nI am following this page -&gt; https://www.baeldung.com/spring-data-solr\r\n\r\n\r\n\r\n","title":"Solr Spring boot application failed to run, giving bean error","body":"<p>Getting an error while running , a solr spring boot application, it says</p>\n<p>&quot;Parameter 0 of constructor in Controller required a bean of type Repository that could not be found.&quot;</p>\n<p>&quot;Consider defining a bean of type Repository in your configuration.&quot;</p>\n<p>Here is my enitiy</p>\n<pre><code>@SolrDocument(collection = &quot;content_core&quot;)\npublic class ContentDoc {\n@Id\n@Indexed\nprivate String id;\n\n@Indexed(name = &quot;display_title&quot;, type = &quot;string&quot;)\nprivate String displayTitle;\n}\n</code></pre>\n<p>Here is my solr config file</p>\n<pre><code>@EnableSolrRepositories(basePackages = &quot;com.baeldung.repository.ContentDocRepository.spring.data.solr.repository&quot;, namedQueriesLocation = &quot;classpath:solr-named-queries.properties&quot;)\n@ComponentScan\npublic class SolrConfig {\n@Bean\npublic SolrClient solrClient() {\nreturn new HttpSolrClient.Builder(&quot;http://localhost:8983/solr&quot;).build();\n}\n\n@Bean\npublic SolrTemplate solrTemplate(SolrClient client) throws Exception {\nreturn new SolrTemplate(client);\n}\n}\n\n</code></pre>\n<p>Here is my controller</p>\n<pre><code>@RequestMapping(&quot;/api/v1/content&quot;)\n@AllArgsConstructor\n@Slf4j\npublic class ContentDocController {\n\nprivate final ContentDocRepository contentDocRepository;\n\n@GetMapping(&quot;/searchfaq&quot;)\npublic Map&lt;String, Object&gt; searchFaq(@RequestParam(&quot;sectionId&quot;) Long sectionId,\n@RequestParam(&quot;seachTerm&quot;) String searchTerm) {\n\n// ContentDoc contentDoc = new ContentDoc();\n// contentDoc.setContentId((long)1);\n// contentDoc.setDisplayTitle(&quot;virat&quot;);\n// contentDocRepository.save(contentDoc);\nreturn null;\n}\n}\n</code></pre>\n<p>Here is my repository</p>\n<pre><code>@Qualifier(&quot;contentDocRepository&quot;)\npublic interface ContentDocRepository extends SolrCrudRepository&lt;ContentDoc, String&gt; {\npublic List&lt;ContentDoc&gt; findByName(String displayTitle);\n}\n\n</code></pre>\n<p>this is the error that I am getting -&gt;</p>\n<pre><code>Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2022-10-20 18:22:47.836 ERROR 2760 --- [  restartedMain] o.s.b.d.LoggingFailureAnalysisReporter   : \n\n*********\nAPPLICATION FAILED TO START\n*********\n\nDescription:\n\nParameter 0 of constructor in com.aa.aa.controller.ContentController required a bean of type 'com.aa.aa.repository.ContentDocRepository' that could not be found.\n\n\nAction:\n\nConsider defining a bean of type 'com.aa.aa.repository.ContentDocRepository' in your configuration.\n</code></pre>\n<p>I am trying to create an an api which searches data from DB , and using solr to index the db data.</p>\n<p>I am following this page -&gt; <a href=\"https://www.baeldung.com/spring-data-solr\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-data-solr</a></p>\n"},{"tags":["java","html","pdf","flying-saucer","openhtmltopdf"],"owner":{"account_id":462157,"reputation":226,"user_id":864309,"accept_rate":50,"display_name":"user864309"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":423,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1666333644,"creation_date":1666333644,"question_id":74149537,"body_markdown":"I am working on an assignment wherein I need to create an HTML file and convert the&#160;HTML file to PDF. I am using Thymeleaf and flying-saucer-pdf to get this done. The Thymeleaf part works fine and creates the HTML file. However, the PDF creation part fails with out-of-memory error. The HTML file that gets created is around 275 MB and has around 8000000 lines.&#160;\r\n\r\n    OutputStream outputStream = new FileOutputStream(&quot;outFile.pdf&quot;)\r\n    String html = new String(Files.readAllBytes(Paths.get(&quot;data.html&quot;)));\r\n    \r\n    ITextRenderer renderer = new ITextRenderer();\r\n    renderer.setDocumentFromString(html);\r\n    // renderer.setDocument(new File(&quot;data.html&quot;));\r\n    \r\n    renderer.layout();\r\n    renderer.createPDF(outputStream);\r\n    renderer.finishPDF();\r\n    outputStream.close();\r\n\r\nthe execution gets stuck in the **renderer.layout()** for a long time and then fails.\r\nI tried both **renderer.setDocumentFromString** and renderer.setDocument and the results are the same.\r\nAlso, i tried&#160;**com.openhtmltopdf** for PDF generation from HTML and it also resulted in Out Of Memory error.\r\n\r\n&#160; \r\n\r\n    String html = new String(Files.readAllBytes(Paths.get(&quot;data.html&quot;)));\r\n    &#160; Document document = Jsoup.parse(html, &quot;UTF-8&quot;);\r\n    &#160; document.outputSettings().syntax(Document.OutputSettings.Syntax.xml);\r\n    \r\n    &#160; try (OutputStream os = new FileOutputStream(&quot;outFile.pdf&quot;)) {\r\n    &#160; &#160; &#160; PdfRendererBuilder builder = new PdfRendererBuilder();\r\n    &#160; &#160; &#160; builder.withUri(&quot;outFile.pdf&quot;);\r\n    &#160; &#160; &#160; builder.toStream(os);\r\n    &#160; &#160; &#160; builder.withW3cDocument(new W3CDom().fromJsoup(document), &quot;/&quot;);\r\n    &#160; &#160; &#160; builder.run();\r\n    &#160; }\r\n\r\nWondering whether there are any alternate libraries or buffered logic that take care of the memory issue.&#160;Any help and pointers are much appriciated. ","title":"Out Of Memory error while converting large HTML file to PDF","body":"<p>I am working on an assignment wherein I need to create an HTML file and convert the HTML file to PDF. I am using Thymeleaf and flying-saucer-pdf to get this done. The Thymeleaf part works fine and creates the HTML file. However, the PDF creation part fails with out-of-memory error. The HTML file that gets created is around 275 MB and has around 8000000 lines. </p>\n<pre><code>OutputStream outputStream = new FileOutputStream(&quot;outFile.pdf&quot;)\nString html = new String(Files.readAllBytes(Paths.get(&quot;data.html&quot;)));\n\nITextRenderer renderer = new ITextRenderer();\nrenderer.setDocumentFromString(html);\n// renderer.setDocument(new File(&quot;data.html&quot;));\n\nrenderer.layout();\nrenderer.createPDF(outputStream);\nrenderer.finishPDF();\noutputStream.close();\n</code></pre>\n<p>the execution gets stuck in the <strong>renderer.layout()</strong> for a long time and then fails.\nI tried both <strong>renderer.setDocumentFromString</strong> and renderer.setDocument and the results are the same.\nAlso, i tried <strong>com.openhtmltopdf</strong> for PDF generation from HTML and it also resulted in Out Of Memory error.</p>\n<p> </p>\n<pre><code>String html = new String(Files.readAllBytes(Paths.get(&quot;data.html&quot;)));\n  Document document = Jsoup.parse(html, &quot;UTF-8&quot;);\n  document.outputSettings().syntax(Document.OutputSettings.Syntax.xml);\n\n  try (OutputStream os = new FileOutputStream(&quot;outFile.pdf&quot;)) {\n      PdfRendererBuilder builder = new PdfRendererBuilder();\n      builder.withUri(&quot;outFile.pdf&quot;);\n      builder.toStream(os);\n      builder.withW3cDocument(new W3CDom().fromJsoup(document), &quot;/&quot;);\n      builder.run();\n  }\n</code></pre>\n<p>Wondering whether there are any alternate libraries or buffered logic that take care of the memory issue. Any help and pointers are much appriciated.</p>\n"},{"tags":["java","json","arraylist","gson"],"comments":[{"owner":{"account_id":3830865,"reputation":13432,"user_id":3176419,"accept_rate":50,"display_name":"flyingfox"},"score":0,"creation_date":1666333344,"post_id":74149424,"comment_id":130916318,"body_markdown":"See my posted answer","body":"See my posted answer"}],"answers":[{"tags":[],"owner":{"account_id":3830865,"reputation":13432,"user_id":3176419,"accept_rate":50,"display_name":"flyingfox"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666333331,"creation_date":1666333331,"answer_id":74149503,"question_id":74149424,"body_markdown":"Test code\r\n\r\n        String str = &quot;{\\n&quot; +\r\n                &quot;    \\&quot;data\\&quot;:[\\n&quot; +\r\n                &quot;    {\\n&quot; +\r\n                &quot;    \\&quot;language\\&quot;:\\&quot;Java\\&quot;,\\&quot;value\\&quot;:\\&quot;8\\&quot;\\n&quot; +\r\n                &quot;    },\\n&quot; +\r\n                &quot;    {\\n&quot; +\r\n                &quot;    \\&quot;language\\&quot;:\\&quot;Ruby\\&quot;,\\&quot;value\\&quot;:\\&quot;7\\&quot;\\n&quot; +\r\n                &quot;    },\\n&quot; +\r\n                &quot;    {\\n&quot; +\r\n                &quot;    \\&quot;language\\&quot;:\\&quot;Python\\&quot;,\\&quot;value\\&quot;:\\&quot;6\\&quot;\\n&quot; +\r\n                &quot;    }]\\n&quot; +\r\n                &quot;}&quot;;\r\n        Map map = new Gson().fromJson(str, Map.class);\r\n        List data = (List) map.get(&quot;data&quot;);\r\n        Map&lt;String, String&gt; result = new HashMap&lt;&gt;();\r\n        for (Object o : data) {\r\n            Map m = (Map) o;\r\n            result.put(m.get(&quot;language&quot;).toString(), m.get(&quot;value&quot;).toString());\r\n        }\r\n        System.out.println(result);\r\n\r\nTest result\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CFSyP.png","title":"Convert JSON to MAP using GSON library","body":"<p>Test code</p>\n<pre><code>    String str = &quot;{\\n&quot; +\n            &quot;    \\&quot;data\\&quot;:[\\n&quot; +\n            &quot;    {\\n&quot; +\n            &quot;    \\&quot;language\\&quot;:\\&quot;Java\\&quot;,\\&quot;value\\&quot;:\\&quot;8\\&quot;\\n&quot; +\n            &quot;    },\\n&quot; +\n            &quot;    {\\n&quot; +\n            &quot;    \\&quot;language\\&quot;:\\&quot;Ruby\\&quot;,\\&quot;value\\&quot;:\\&quot;7\\&quot;\\n&quot; +\n            &quot;    },\\n&quot; +\n            &quot;    {\\n&quot; +\n            &quot;    \\&quot;language\\&quot;:\\&quot;Python\\&quot;,\\&quot;value\\&quot;:\\&quot;6\\&quot;\\n&quot; +\n            &quot;    }]\\n&quot; +\n            &quot;}&quot;;\n    Map map = new Gson().fromJson(str, Map.class);\n    List data = (List) map.get(&quot;data&quot;);\n    Map&lt;String, String&gt; result = new HashMap&lt;&gt;();\n    for (Object o : data) {\n        Map m = (Map) o;\n        result.put(m.get(&quot;language&quot;).toString(), m.get(&quot;value&quot;).toString());\n    }\n    System.out.println(result);\n</code></pre>\n<p>Test result</p>\n<p><a href=\"https://i.stack.imgur.com/CFSyP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CFSyP.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":26689240,"reputation":3,"user_id":20298059,"display_name":"gangstaParadise"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74149503,"answer_count":1,"score":0,"last_activity_date":1666333579,"creation_date":1666332747,"question_id":74149424,"body_markdown":"I want to convert JSON response to Map what is the best approach to get the desired output using GSON library.\r\n\r\nI try this and I&#39;m getting only the `ArrayList` value.\r\n```java\r\nMap&lt;String, Object&gt; map = gson.fromJson(response, HashMap.class);\r\nArrayList responseOptions = (ArrayList) map.get(&quot;data&quot;);\r\n```\r\noutput:\r\n```none\r\n[{language=Java, value=8}, {language=Ruby, value=7}, {language=Python, value=7}]\r\n```\r\nSample JSON Response\r\n\r\n    {\r\n\t\t&quot;data&quot;:[\r\n\t\t{\r\n\t\t&quot;language&quot;:&quot;Java&quot;,&quot;value&quot;:&quot;8&quot;\r\n\t\t},\r\n\t\t{\r\n\t\t&quot;language&quot;:&quot;Ruby&quot;,&quot;value&quot;:&quot;7&quot;\r\n\t\t},\r\n\t\t{\r\n\t\t&quot;language&quot;:&quot;Python&quot;,&quot;value&quot;:&quot;6&quot;\r\n\t\t}]\r\n    }\r\n\r\nDesired Output in Map\r\n{Java=8, Ruby=7, Python=6}\r\n\r\n\r\n","title":"Convert JSON to MAP using GSON library","body":"<p>I want to convert JSON response to Map what is the best approach to get the desired output using GSON library.</p>\n<p>I try this and I'm getting only the <code>ArrayList</code> value.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, Object&gt; map = gson.fromJson(response, HashMap.class);\nArrayList responseOptions = (ArrayList) map.get(&quot;data&quot;);\n</code></pre>\n<p>output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>[{language=Java, value=8}, {language=Ruby, value=7}, {language=Python, value=7}]\n</code></pre>\n<p>Sample JSON Response</p>\n<pre><code>{\n    &quot;data&quot;:[\n    {\n    &quot;language&quot;:&quot;Java&quot;,&quot;value&quot;:&quot;8&quot;\n    },\n    {\n    &quot;language&quot;:&quot;Ruby&quot;,&quot;value&quot;:&quot;7&quot;\n    },\n    {\n    &quot;language&quot;:&quot;Python&quot;,&quot;value&quot;:&quot;6&quot;\n    }]\n}\n</code></pre>\n<p>Desired Output in Map\n{Java=8, Ruby=7, Python=6}</p>\n"},{"tags":["java","lambda"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":6,"creation_date":1498602610,"post_id":44790907,"comment_id":76562705,"body_markdown":"By using the existing lambda capabilities in Java? I don&#39;t think I understand your question. Can you post what code you have so far and what happens when you run it and what you expected to happen instead?","body":"By using the existing lambda capabilities in Java? I don&#39;t think I understand your question. Can you post what code you have so far and what happens when you run it and what you expected to happen instead?"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":4,"creation_date":1498602681,"post_id":44790907,"comment_id":76562718,"body_markdown":"Are you suggesting that code is not pure Java? Why not?","body":"Are you suggesting that code is not pure Java? Why not?"},{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":1,"creation_date":1498602893,"post_id":44790907,"comment_id":76562777,"body_markdown":"`Lambda expressions` where introduced in `Java 8`, you can use them if you can use a version `&gt;7`.","body":"<code>Lambda expressions</code> where introduced in <code>Java 8</code>, you can use them if you can use a version <code>&gt;7</code>."},{"owner":{"account_id":2713466,"reputation":2435,"user_id":2341336,"accept_rate":81,"display_name":"Chris"},"score":1,"creation_date":1498602920,"post_id":44790907,"comment_id":76562786,"body_markdown":"Possible duplicate of [How do I define a method which takes a lambda as a parameter in Java 8?](https://stackoverflow.com/questions/13604703/how-do-i-define-a-method-which-takes-a-lambda-as-a-parameter-in-java-8)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/13604703/how-do-i-define-a-method-which-takes-a-lambda-as-a-parameter-in-java-8\">How do I define a method which takes a lambda as a parameter in Java 8?</a>"},{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":0,"creation_date":1498603190,"post_id":44790907,"comment_id":76562857,"body_markdown":"As reaction to your edit. You can implement such stuff just by using classes and interfaces. Just create a class that implements the ActionListener interface and the corresponding method. You can make this shorter by using `anonymous classes`. You then create an instance of this object and pass it to the `addActionListener` method. More or less Javas Lambdas do exactly the same (however they have an improved performance).","body":"As reaction to your edit. You can implement such stuff just by using classes and interfaces. Just create a class that implements the ActionListener interface and the corresponding method. You can make this shorter by using <code>anonymous classes</code>. You then create an instance of this object and pass it to the <code>addActionListener</code> method. More or less Javas Lambdas do exactly the same (however they have an improved performance)."},{"owner":{"account_id":11152706,"reputation":51,"user_id":8185397,"display_name":"SmartCodeNoBugs"},"score":0,"creation_date":1498603311,"post_id":44790907,"comment_id":76562905,"body_markdown":"could you pls provide a short example of your implementation just to follow up Zabuza","body":"could you pls provide a short example of your implementation just to follow up Zabuza"},{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":0,"creation_date":1498603402,"post_id":44790907,"comment_id":76562932,"body_markdown":"Of course, I will convert it to an answer.","body":"Of course, I will convert it to an answer."},{"owner":{"account_id":277416,"reputation":681888,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":3,"creation_date":1498603590,"post_id":44790907,"comment_id":76562985,"body_markdown":"@SmartCodeNoBugs Why don&#39;t you just look at the documentation and source code of ActionListener, ActionEvent and JButton? And read documentation about lambdas? https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html","body":"@SmartCodeNoBugs Why don&#39;t you just look at the documentation and source code of ActionListener, ActionEvent and JButton? And read documentation about lambdas? <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/java/javaOO/&hellip;</a>"},{"owner":{"account_id":11152706,"reputation":51,"user_id":8185397,"display_name":"SmartCodeNoBugs"},"score":0,"creation_date":1498603804,"post_id":44790907,"comment_id":76563040,"body_markdown":"@JBNizet I don&#39;t want to use lambda as I want to learn it the hard way oldschool. In my opinion that&#39;s the way to really learn stuff in depth. Don&#39;t take it as it is ... ask and break it down into its components to really learn what things are about.","body":"@JBNizet I don&#39;t want to use lambda as I want to learn it the hard way oldschool. In my opinion that&#39;s the way to really learn stuff in depth. Don&#39;t take it as it is ... ask and break it down into its components to really learn what things are about."},{"owner":{"account_id":277416,"reputation":681888,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":3,"creation_date":1498604015,"post_id":44790907,"comment_id":76563107,"body_markdown":"JButton, ActionListener and ActionEvent exist, as they are in Java 8, since Java 2. Nothing has changed. Lambdas are just a new way to create an instance of an interface.","body":"JButton, ActionListener and ActionEvent exist, as they are in Java 8, since Java 2. Nothing has changed. Lambdas are just a new way to create an instance of an interface."},{"owner":{"account_id":116752,"reputation":4310,"user_id":306036,"accept_rate":85,"display_name":"Ryan Leach"},"score":0,"creation_date":1498611360,"post_id":44790907,"comment_id":76564891,"body_markdown":"@SmartCodeNoBugs If you are asking &quot;How do I create the lambda language feature using java&quot; Then the answer is you can&#39;t. \n\nIn order to create a language feature for Java, you need to work on the compiler, and maybe the JVM, and then what you have isn&#39;t Java anymore, and likely requires an indepth knowledge of C, JVM internals, and compiler basics.\n\nIf your question is &quot;how was this accomplished prior to Java 8&quot; It&#39;s by the use of anonymous inner classes, but they are not the same as lambda&#39;s!","body":"@SmartCodeNoBugs If you are asking &quot;How do I create the lambda language feature using java&quot; Then the answer is you can&#39;t.   In order to create a language feature for Java, you need to work on the compiler, and maybe the JVM, and then what you have isn&#39;t Java anymore, and likely requires an indepth knowledge of C, JVM internals, and compiler basics.  If your question is &quot;how was this accomplished prior to Java 8&quot; It&#39;s by the use of anonymous inner classes, but they are not the same as lambda&#39;s!"},{"owner":{"account_id":11152706,"reputation":51,"user_id":8185397,"display_name":"SmartCodeNoBugs"},"score":0,"creation_date":1498611538,"post_id":44790907,"comment_id":76564932,"body_markdown":"@RyanTheLeach but how would I implement an anonymous inner class into my code I&#39;ve shown in my post and build an approach like it was made before lambda was introduced I still don&#39;t get it how to actually implement this stuff ...","body":"@RyanTheLeach but how would I implement an anonymous inner class into my code I&#39;ve shown in my post and build an approach like it was made before lambda was introduced I still don&#39;t get it how to actually implement this stuff ..."},{"owner":{"account_id":116752,"reputation":4310,"user_id":306036,"accept_rate":85,"display_name":"Ryan Leach"},"score":0,"creation_date":1498611921,"post_id":44790907,"comment_id":76564998,"body_markdown":"@SmartCodeNoBugs The other answers show pretty good examples. if you have specific questions that confuse you, I&#39;d suggest commenting on each of them.","body":"@SmartCodeNoBugs The other answers show pretty good examples. if you have specific questions that confuse you, I&#39;d suggest commenting on each of them."},{"owner":{"account_id":116752,"reputation":4310,"user_id":306036,"accept_rate":85,"display_name":"Ryan Leach"},"score":0,"creation_date":1498611992,"post_id":44790907,"comment_id":76565015,"body_markdown":"Are you trying to create a Lambda like class to fit that interface? Or are you trying to create a class that can accept a Lambda like class as a parameter?","body":"Are you trying to create a Lambda like class to fit that interface? Or are you trying to create a class that can accept a Lambda like class as a parameter?"},{"owner":{"account_id":11152706,"reputation":51,"user_id":8185397,"display_name":"SmartCodeNoBugs"},"score":0,"creation_date":1498612245,"post_id":44790907,"comment_id":76565075,"body_markdown":"@RyanTheLeach I am trying to set a placeholder into the actionPerformed method of my CustomButton ActionListener and call a method like followed CustomButton.CustomButtonListener(placeholder method (); ) and the user needs just to create a method and write it inside the bricks ... For example the method named def() : CustomButton.CustomButtonListener(def();) and def will be passed automatically to the actionPerformed method of my CustomButtonListener and will be fired on button click that&#39;s all I want","body":"@RyanTheLeach I am trying to set a placeholder into the actionPerformed method of my CustomButton ActionListener and call a method like followed CustomButton.CustomButtonListener(placeholder method (); ) and the user needs just to create a method and write it inside the bricks ... For example the method named def() : CustomButton.CustomButtonListener(def();) and def will be passed automatically to the actionPerformed method of my CustomButtonListener and will be fired on button click that&#39;s all I want"},{"owner":{"account_id":116752,"reputation":4310,"user_id":306036,"accept_rate":85,"display_name":"Ryan Leach"},"score":0,"creation_date":1498613362,"post_id":44790907,"comment_id":76565344,"body_markdown":"I&#39;ve sent an edit request to reword your question for you, to be more clear, and avoid the &quot;pure&quot; keyword that was throwing everyone off. Can you make sure that it still accurately reflects your question if/when it gets accepted?","body":"I&#39;ve sent an edit request to reword your question for you, to be more clear, and avoid the &quot;pure&quot; keyword that was throwing everyone off. Can you make sure that it still accurately reflects your question if/when it gets accepted?"},{"owner":{"account_id":11152706,"reputation":51,"user_id":8185397,"display_name":"SmartCodeNoBugs"},"score":0,"creation_date":1498613774,"post_id":44790907,"comment_id":76565428,"body_markdown":"@RyanTheLeach I&#39;ve edit my question, is it now better ? removed the &quot;pure&quot; keyword as well","body":"@RyanTheLeach I&#39;ve edit my question, is it now better ? removed the &quot;pure&quot; keyword as well"},{"owner":{"account_id":116752,"reputation":4310,"user_id":306036,"accept_rate":85,"display_name":"Ryan Leach"},"score":0,"creation_date":1498614471,"post_id":44790907,"comment_id":76565600,"body_markdown":"Let us [continue this discussion in chat](http://chat.stackoverflow.com/rooms/147767/discussion-between-ryan-the-leach-and-smartcodenobugs).","body":"Let us <a href=\"http://chat.stackoverflow.com/rooms/147767/discussion-between-ryan-the-leach-and-smartcodenobugs\">continue this discussion in chat</a>."},{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":0,"creation_date":1501156842,"post_id":44790907,"comment_id":77661222,"body_markdown":"@SmartCodeNoBugs If an user answered your question please also **accept** his answer ([Accepting Answers: How does it work?](https://meta.stackexchange.com/questions/5234/how-does-accepting-an-answer-work)). If not than please specify what remains unanswered, this is a really crucial part of StackOverflow, thank you very much.","body":"@SmartCodeNoBugs If an user answered your question please also <b>accept</b> his answer (<a href=\"https://meta.stackexchange.com/questions/5234/how-does-accepting-an-answer-work\">Accepting Answers: How does it work?</a>). If not than please specify what remains unanswered, this is a really crucial part of StackOverflow, thank you very much."}],"answers":[{"comments":[{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1498603643,"post_id":44791085,"comment_id":76563000,"body_markdown":"[`addActionListener()`](https://docs.oracle.com/javase/8/docs/api/javax/swing/AbstractButton.html#addActionListener-java.awt.event.ActionListener-) takes a parameter of type [`ActionListener`](https://docs.oracle.com/javase/8/docs/api/java/awt/event/ActionListener.html), not `Runnable`.","body":"<a href=\"https://docs.oracle.com/javase/8/docs/api/javax/swing/AbstractButton.html#addActionListener-java.awt.event.ActionListener-\" rel=\"nofollow noreferrer\"><code>addActionListener()</code></a> takes a parameter of type <a href=\"https://docs.oracle.com/javase/8/docs/api/java/awt/event/ActionListener.html\" rel=\"nofollow noreferrer\"><code>ActionListener</code></a>, not <code>Runnable</code>."},{"owner":{"account_id":535619,"reputation":3374,"user_id":905033,"display_name":"Lew Bloch"},"score":1,"creation_date":1498607966,"post_id":44791085,"comment_id":76564134,"body_markdown":"You don&#39;t have to declare an anonymous class to do that, you can use a named subclass of `ActionListener` if you choose. And the technique works for methods that take an extendable class, not just interface arguments.","body":"You don&#39;t have to declare an anonymous class to do that, you can use a named subclass of <code>ActionListener</code> if you choose. And the technique works for methods that take an extendable class, not just interface arguments."}],"tags":[],"owner":{"account_id":7119515,"reputation":6055,"user_id":5444618,"accept_rate":83,"display_name":"Guillaume F."},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1498603699,"creation_date":1498603530,"answer_id":44791085,"question_id":44790907,"body_markdown":"You have to identify which `Interface` your listener uses and declare an anonymous Class.\r\n\r\nLets say that `jButton.addActionListener(...)` waits for a `ActionListener` :\r\n\r\n    jButton.addActionListener(new ActionListener() {\r\n        @Override\r\n        public void actionPerformed(ActionEvent e) {\r\n            callAnyMethod();\r\n        }\r\n    });\r\n\r\nLambdas, which were implemented in Java 8 natively, are another way to access methods and `Functional Interfaces` in an easy and readable way. The compiler detects automatically what it should use and calls it.\r\n\r\n----------\r\n\r\nI do not know your project, but if you can afford it, learning how to use Lambdas  (and Streams) will greatly increase your productivity, make your code simpler, more readable, and less bug-prone.","title":"How to create a lambda-like pattern in ActionListener","body":"<p>You have to identify which <code>Interface</code> your listener uses and declare an anonymous Class.</p>\n\n<p>Lets say that <code>jButton.addActionListener(...)</code> waits for a <code>ActionListener</code> :</p>\n\n<pre><code>jButton.addActionListener(new ActionListener() {\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        callAnyMethod();\n    }\n});\n</code></pre>\n\n<p>Lambdas, which were implemented in Java 8 natively, are another way to access methods and <code>Functional Interfaces</code> in an easy and readable way. The compiler detects automatically what it should use and calls it.</p>\n\n<hr>\n\n<p>I do not know your project, but if you can afford it, learning how to use Lambdas  (and Streams) will greatly increase your productivity, make your code simpler, more readable, and less bug-prone.</p>\n"},{"comments":[{"owner":{"account_id":11152706,"reputation":51,"user_id":8185397,"display_name":"SmartCodeNoBugs"},"score":0,"creation_date":1498604125,"post_id":44791127,"comment_id":76563145,"body_markdown":"thank you for the quick explanation ... but unfortunately I still don&#39;t get it. How do I come up with the lambda like pattern like this: jButton.addActionListener(ae -&gt; callAnyMethod());   from your provided code ?","body":"thank you for the quick explanation ... but unfortunately I still don&#39;t get it. How do I come up with the lambda like pattern like this: jButton.addActionListener(ae -&gt; callAnyMethod());   from your provided code ?"},{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":1,"creation_date":1498604230,"post_id":44791127,"comment_id":76563170,"body_markdown":"Below `Java 8` you can not use Lambda expressions at all because Java does not have this language feature. You can not create such a short expression and need to use implementing classes (as it was originaly intended by the language designer). However Lambda expressions are equivalent to the classes-style, however much shorter to write.","body":"Below <code>Java 8</code> you can not use Lambda expressions at all because Java does not have this language feature. You can not create such a short expression and need to use implementing classes (as it was originaly intended by the language designer). However Lambda expressions are equivalent to the classes-style, however much shorter to write."},{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":0,"creation_date":1498604336,"post_id":44791127,"comment_id":76563208,"body_markdown":"The shortest thing I can imagine without lambda is using anonymous `classes` as shown above, or one line shorter without saving it in a variable: `jButton.addActionListener(new ActionListener() {public void actionPerformed(ActionEvent e) {System.out.println(&quot;Triggered!&quot;);}});`","body":"The shortest thing I can imagine without lambda is using anonymous <code>classes</code> as shown above, or one line shorter without saving it in a variable: <code>jButton.addActionListener(new ActionListener() {public void actionPerformed(ActionEvent e) {System.out.println(&quot;Triggered!&quot;);}});</code>"},{"owner":{"account_id":11152706,"reputation":51,"user_id":8185397,"display_name":"SmartCodeNoBugs"},"score":0,"creation_date":1498604595,"post_id":44791127,"comment_id":76563284,"body_markdown":"hm thank you but what I really want is: jButton.addCustomListener(callAnyMethod()); that my CustomListener class is a library and the user simply needs to set the CustomListener as above and the callAnyMethod could be a method the user creates itself and only pass it just like lambda does for example: public void passParameter(){ // do something } and now we call this method simply with one line: jButton.addCustomListener(passParameter());","body":"hm thank you but what I really want is: jButton.addCustomListener(callAnyMethod()); that my CustomListener class is a library and the user simply needs to set the CustomListener as above and the callAnyMethod could be a method the user creates itself and only pass it just like lambda does for example: public void passParameter(){ // do something } and now we call this method simply with one line: jButton.addCustomListener(passParameter());"},{"owner":{"account_id":7119515,"reputation":6055,"user_id":5444618,"accept_rate":83,"display_name":"Guillaume F."},"score":0,"creation_date":1498604847,"post_id":44791127,"comment_id":76563355,"body_markdown":"@SmartCodeNoBugs - This is precisely why lambdas were invented, so the code looks like this (almost). It&#39;s called `functional programming`. You can&#39;t use directly`passParameter()`, it will execute the method.","body":"@SmartCodeNoBugs - This is precisely why lambdas were invented, so the code looks like this (almost). It&#39;s called <code>functional programming</code>. You can&#39;t use directly<code>passParameter()</code>, it will execute the method."},{"owner":{"account_id":11152706,"reputation":51,"user_id":8185397,"display_name":"SmartCodeNoBugs"},"score":0,"creation_date":1498604925,"post_id":44791127,"comment_id":76563376,"body_markdown":"@GuillaumeF.  Yes and I want to rebuild the function lambda provides in pure written Java code implemented on my own, maybe that&#39;s a bit to much for me for now :/","body":"@GuillaumeF.  Yes and I want to rebuild the function lambda provides in pure written Java code implemented on my own, maybe that&#39;s a bit to much for me for now :/"},{"owner":{"account_id":7119515,"reputation":6055,"user_id":5444618,"accept_rate":83,"display_name":"Guillaume F."},"score":0,"creation_date":1498605042,"post_id":44791127,"comment_id":76563395,"body_markdown":"@SmartCodeNoBugs The &#39;pure way&#39; is in the two answers you got. There is another way called &quot;Reflection&quot;, but it&#39;s even more advanced, and not really a good practice for a library unless you are a very talented architect.","body":"@SmartCodeNoBugs The &#39;pure way&#39; is in the two answers you got. There is another way called &quot;Reflection&quot;, but it&#39;s even more advanced, and not really a good practice for a library unless you are a very talented architect."},{"owner":{"account_id":535619,"reputation":3374,"user_id":905033,"display_name":"Lew Bloch"},"score":1,"creation_date":1498607784,"post_id":44791127,"comment_id":76564099,"body_markdown":"You got the answer then complained that it wasn&#39;t like lambdas, after saying explicitly that you wanted to avoid the lambda idiom. You should choose one or the other because it won&#39;t go both ways at once. And you got a suggestion to read up on lambdas in the Tutorials. Did you do that? The way to substitute any given method as you asked is to provide that method in an implementation of the interface required by the method argument. That&#39;s old-school Java. (New-school Java is still &quot;pure&quot; so that was a bad choice of terminology.)","body":"You got the answer then complained that it wasn&#39;t like lambdas, after saying explicitly that you wanted to avoid the lambda idiom. You should choose one or the other because it won&#39;t go both ways at once. And you got a suggestion to read up on lambdas in the Tutorials. Did you do that? The way to substitute any given method as you asked is to provide that method in an implementation of the interface required by the method argument. That&#39;s old-school Java. (New-school Java is still &quot;pure&quot; so that was a bad choice of terminology.)"},{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":0,"creation_date":1498609843,"post_id":44791127,"comment_id":76564534,"body_markdown":"If you want the user to implement the method than just accept an `interface` that contains the method. That is exactly what interfaces are for. The method `jButton.addActionListener` wants an object of the interface `ActionListener` and the only method it contains is `actionPerformed`. Just accept an `ActionListener` object from the user and pass it to `jButton.addActionListener`.","body":"If you want the user to implement the method than just accept an <code>interface</code> that contains the method. That is exactly what interfaces are for. The method <code>jButton.addActionListener</code> wants an object of the interface <code>ActionListener</code> and the only method it contains is <code>actionPerformed</code>. Just accept an <code>ActionListener</code> object from the user and pass it to <code>jButton.addActionListener</code>."}],"tags":[],"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"comment_count":9,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1498606489,"creation_date":1498603764,"answer_id":44791127,"question_id":44790907,"body_markdown":"*Lambda expressions* were introduced in Java 8. If you&#39;re using an earlier Java version, you can implement the same pattern using classes and interfaces. Just create a class that implements the `ActionListener` interface and the corresponding method. You can make this shorter by using *anonymous classes*. You then create an instance of this class and pass it to the `addActionListener` method. More or less, lambdas do exactly the same (however, they may have an improved performance).\r\n\r\nHere is an example:\r\n\r\n    public static void main() {\r\n        ...\r\n        MyListener myListener = new MyListener();\r\n        jButton.addActionListener(myListener);\r\n        ...\r\n    }\r\n\r\n    public class MyListener implements ActionListener {\r\n        @Override\r\n        public void actionPerformed(ActionEvent e) {\r\n            System.out.println(&quot;Triggered!&quot;);\r\n        }\r\n    }\r\n\r\nAnd with *anonymous classes*:\r\n\r\n    public static void main() {\r\n        ...\r\n        jButton.addActionListener(new ActionListener() {\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                System.out.println(&quot;Triggered!&quot;);\r\n            }\r\n        });\r\n        ...\r\n    }","title":"How to create a lambda-like pattern in ActionListener","body":"<p><em>Lambda expressions</em> were introduced in Java 8. If you're using an earlier Java version, you can implement the same pattern using classes and interfaces. Just create a class that implements the <code>ActionListener</code> interface and the corresponding method. You can make this shorter by using <em>anonymous classes</em>. You then create an instance of this class and pass it to the <code>addActionListener</code> method. More or less, lambdas do exactly the same (however, they may have an improved performance).</p>\n\n<p>Here is an example:</p>\n\n<pre><code>public static void main() {\n    ...\n    MyListener myListener = new MyListener();\n    jButton.addActionListener(myListener);\n    ...\n}\n\npublic class MyListener implements ActionListener {\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        System.out.println(\"Triggered!\");\n    }\n}\n</code></pre>\n\n<p>And with <em>anonymous classes</em>:</p>\n\n<pre><code>public static void main() {\n    ...\n    jButton.addActionListener(new ActionListener() {\n        @Override\n        public void actionPerformed(ActionEvent e) {\n            System.out.println(\"Triggered!\");\n        }\n    });\n    ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15322420,"reputation":115,"user_id":11054476,"display_name":"keith ang"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1550159913,"creation_date":1550035631,"answer_id":54663131,"question_id":44790907,"body_markdown":"If I did not misunderstood your question, your syntax is already correct. \r\n\r\n```\r\npublic static void main() {\r\n    ...\r\n    jButton.addActionListener(e -&gt; myListener());\r\n    ...\r\n}\r\n...\r\npublic void myListener(){\r\n    dosomething();\r\n}\r\n```\r\nwhich is the shorthand for this: \r\n```\r\npublic static void main() {\r\n    ...\r\n    MyListener myListener = new MyListener();\r\n    jButton.addActionListener(myListener);\r\n    ...\r\n}\r\n\r\npublic class MyListener implements ActionListener {\r\n    @Override\r\n    public void actionPerformed(ActionEvent e) {\r\n        dosomething();\r\n    }\r\n}\r\n```\r\n\r\nFor more information, you can refer to [this][1].\r\n\r\nFor more detailed explantion you can also refer to [this][2], under the **Lambda Type Inference** section.\r\n\r\n\r\n  [1]: https://www.dummies.com/programming/java/how-to-use-lambda-expressions-to-handle-events-in-java/\r\n  [2]: http://tutorials.jenkov.com/java/lambda-expressions.html","title":"How to create a lambda-like pattern in ActionListener","body":"<p>If I did not misunderstood your question, your syntax is already correct. </p>\n\n<pre><code>public static void main() {\n    ...\n    jButton.addActionListener(e -&gt; myListener());\n    ...\n}\n...\npublic void myListener(){\n    dosomething();\n}\n</code></pre>\n\n<p>which is the shorthand for this: </p>\n\n<pre><code>public static void main() {\n    ...\n    MyListener myListener = new MyListener();\n    jButton.addActionListener(myListener);\n    ...\n}\n\npublic class MyListener implements ActionListener {\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        dosomething();\n    }\n}\n</code></pre>\n\n<p>For more information, you can refer to <a href=\"https://www.dummies.com/programming/java/how-to-use-lambda-expressions-to-handle-events-in-java/\" rel=\"nofollow noreferrer\">this</a>.</p>\n\n<p>For more detailed explantion you can also refer to <a href=\"http://tutorials.jenkov.com/java/lambda-expressions.html\" rel=\"nofollow noreferrer\">this</a>, under the <strong>Lambda Type Inference</strong> section.</p>\n"}],"owner":{"account_id":11152706,"reputation":51,"user_id":8185397,"display_name":"SmartCodeNoBugs"},"comment_count":19,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8427,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"answer_count":3,"score":1,"last_activity_date":1666333049,"creation_date":1498602394,"question_id":44790907,"body_markdown":"How do I code a function like this one from lambda:\r\n\r\n\r\n    jButton.addActionListener(ae -&gt; callAnyMethod());\r\n\r\n\r\n\r\nbecause I am creating a library and would like to implement such a pattern on my own.\r\nBefore Java 8 and lambda was released how would someone made such a pattern ? like what I am trying to approach is following:\n\nI am trying to set a placeholder into the actionPerformed method of my CustomButton ActionListener and call a method like followed :\n\n    CustomButton.CustomButtonListener(placeholder method (); ) \n\nand the user needs just to create a method and write it inside the bricks ... For example the method named def() : \n\n    CustomButton.CustomButtonListener(def());\n\nand def will be passed automatically to the actionPerformed method of my CustomButtonListener and will be fired on button click \n\n \r\n\r\nEdit:\r\n\r\nwell that is the code I&#39;ve came up with so far:\r\n\r\n\r\nthe ActionListener which is stored in my CustomButton class as a method:\r\n\r\n    public void CustomButtonListener(Object object){\r\n    \t\t\r\n    \t\taddActionListener(new ActionListener(){\r\n    \t\t\t\r\n    @Override\r\n    \t\tpublic void actionPerformed(ActionEvent e) {\r\n    \t\t\t\r\n    \t     \r\n    \t     \r\n    \t      // how to call the method stored in the Object &quot;object&quot; here? and actually run it?\r\n    \t       \r\n    \t\t\t\t\r\n    \t\t\t\t\r\n    \t\t\t}\r\n    \t});\r\n\r\n\r\n\r\nand the code snippet from the button:\r\n\r\n\r\n    CustomButton button = new CustomButton();\r\n    \r\n    button.CustomButtonListener(def());\r\n\r\n\t\r\n\t\r\n\t\r\n\t\r\n\tpublic void def(){\r\n\t\t\r\n\t\tString a = &quot;lambda!&quot;;\r\n\t\t\t\t\r\n\t\t\t\tSystem.out.print(&quot;a&quot;);\r\n\t\t\t\r\n\t\t\r\n\t\t\r\n\t}\r\n\r\n\r\n\r\n\r\n\r\n","title":"How to create a lambda-like pattern in ActionListener","body":"<p>How do I code a function like this one from lambda:</p>\n\n<pre><code>jButton.addActionListener(ae -&gt; callAnyMethod());\n</code></pre>\n\n<p>because I am creating a library and would like to implement such a pattern on my own.\nBefore Java 8 and lambda was released how would someone made such a pattern ? like what I am trying to approach is following:</p>\n\n<p>I am trying to set a placeholder into the actionPerformed method of my CustomButton ActionListener and call a method like followed :</p>\n\n<pre><code>CustomButton.CustomButtonListener(placeholder method (); ) \n</code></pre>\n\n<p>and the user needs just to create a method and write it inside the bricks ... For example the method named def() : </p>\n\n<pre><code>CustomButton.CustomButtonListener(def());\n</code></pre>\n\n<p>and def will be passed automatically to the actionPerformed method of my CustomButtonListener and will be fired on button click </p>\n\n<p>Edit:</p>\n\n<p>well that is the code I've came up with so far:</p>\n\n<p>the ActionListener which is stored in my CustomButton class as a method:</p>\n\n<pre><code>public void CustomButtonListener(Object object){\n\n        addActionListener(new ActionListener(){\n\n@Override\n        public void actionPerformed(ActionEvent e) {\n\n\n\n          // how to call the method stored in the Object \"object\" here? and actually run it?\n\n\n\n            }\n    });\n</code></pre>\n\n<p>and the code snippet from the button:</p>\n\n<pre><code>CustomButton button = new CustomButton();\n\nbutton.CustomButtonListener(def());\n\n\n\n\n\npublic void def(){\n\n    String a = \"lambda!\";\n\n            System.out.print(\"a\");\n\n\n\n}\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9279,"page":944,"page_size":100}
