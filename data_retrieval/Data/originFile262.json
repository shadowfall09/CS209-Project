{"items":[{"tags":["java","algorithm"],"comments":[{"owner":{"account_id":5468895,"reputation":974,"user_id":4348811,"accept_rate":100,"display_name":"Gaurava Agarwal"},"score":1,"creation_date":1468825121,"post_id":38430262,"comment_id":64266748,"body_markdown":"You can put your code on code review for better outcome. http://codereview.stackexchange.com/","body":"You can put your code on code review for better outcome. <a href=\"http://codereview.stackexchange.com/\">codereview.stackexchange.com</a>"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1468825132,"post_id":38430262,"comment_id":64266758,"body_markdown":"Yes, you can reduce it to `O(n log n)`.","body":"Yes, you can reduce it to <code>O(n log n)</code>."},{"owner":{"account_id":2524075,"reputation":36076,"user_id":2193767,"accept_rate":78,"display_name":"TheLostMind"},"score":1,"creation_date":1468825235,"post_id":38430262,"comment_id":64266816,"body_markdown":"Add all your chars of string1 to a set (`O(n)`). Next, for each char in string-2, use `contains()` on set-1 and set it to &#39;x&#39; if it that char is there (`O(n)`)","body":"Add all your chars of string1 to a set (<code>O(n)</code>). Next, for each char in string-2, use <code>contains()</code> on set-1 and set it to &#39;x&#39; if it that char is there (<code>O(n)</code>)"}],"answers":[{"comments":[{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1468826230,"post_id":38430431,"comment_id":64267314,"body_markdown":"Better if you convert *first* string to map, then remove letters from second string that are found in map. Duplicate characters supported that way.","body":"Better if you convert <i>first</i> string to map, then remove letters from second string that are found in map. Duplicate characters supported that way."}],"tags":[],"owner":{"account_id":5468895,"reputation":974,"user_id":4348811,"accept_rate":100,"display_name":"Gaurava Agarwal"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1468825395,"creation_date":1468825395,"answer_id":38430431,"question_id":38430262,"body_markdown":"You can choose to convert second string to HashSet (if there are no duplicate letters in second string). Then check existence of each letter from first string in hashmap and remove if found. \r\n\r\nO(N) complexity for traversing the String array and complexity of put/get in HashSet is almost O(1).","title":"Remove characters from the second string which are present in the first string","body":"<p>You can choose to convert second string to HashSet (if there are no duplicate letters in second string). Then check existence of each letter from first string in hashmap and remove if found. </p>\n\n<p>O(N) complexity for traversing the String array and complexity of put/get in HashSet is almost O(1).</p>\n"},{"comments":[{"owner":{"account_id":5468895,"reputation":974,"user_id":4348811,"accept_rate":100,"display_name":"Gaurava Agarwal"},"score":0,"creation_date":1468827409,"post_id":38430437,"comment_id":64267953,"body_markdown":"&#39;if the character is present&#39; comes with a complexity O(n). Now total complexity will be O(n^2)","body":"&#39;if the character is present&#39; comes with a complexity O(n). Now total complexity will be O(n^2)"}],"tags":[],"owner":{"account_id":4168927,"reputation":801,"user_id":3417226,"display_name":"Loki"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1468825419,"creation_date":1468825419,"answer_id":38430437,"question_id":38430262,"body_markdown":"You can have a boolean array of size 26 if all the characters in the source string are small letters.\r\nThen scan the source string from start to end and update the boolean array if the character is present.\r\nThen scan the target string and check with the boolean array if its present in source array or not.\r\n\r\nThe complexity will be equal to sum of both strings&#39; length.","title":"Remove characters from the second string which are present in the first string","body":"<p>You can have a boolean array of size 26 if all the characters in the source string are small letters.\nThen scan the source string from start to end and update the boolean array if the character is present.\nThen scan the target string and check with the boolean array if its present in source array or not.</p>\n\n<p>The complexity will be equal to sum of both strings' length.</p>\n"},{"comments":[{"owner":{"account_id":1282323,"reputation":4466,"user_id":1236153,"accept_rate":86,"display_name":"underdog"},"score":0,"creation_date":1468852086,"post_id":38431097,"comment_id":64284201,"body_markdown":"Convert first string into a Map O(N) that&#39;s ok but when I iterate over the other string to check in the map that too will be O(N). Won&#39;t the total complexity will be O(N) + O(N)","body":"Convert first string into a Map O(N) that&#39;s ok but when I iterate over the other string to check in the map that too will be O(N). Won&#39;t the total complexity will be O(N) + O(N)"},{"owner":{"account_id":8839373,"reputation":56,"user_id":6602297,"display_name":"Vikram Singh"},"score":1,"creation_date":1468913954,"post_id":38431097,"comment_id":64309063,"body_markdown":"Yes total complexity is O(N) + O(N) since there are two different loop, which will be 2*O(N). Here 2 is constant and for very large N we can ignore 2. Therefore, final complexity will be O(N).","body":"Yes total complexity is O(N) + O(N) since there are two different loop, which will be 2*O(N). Here 2 is constant and for very large N we can ignore 2. Therefore, final complexity will be O(N)."}],"tags":[],"owner":{"account_id":8839373,"reputation":56,"user_id":6602297,"display_name":"Vikram Singh"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1468827644,"creation_date":1468827644,"answer_id":38431097,"question_id":38430262,"body_markdown":"1. Convert first string into a Map. O(N)\r\n2. iterate over other string and check if character present in Map from step 1.\r\n O(N) + O(1)\r\n\r\nTotal time complexity = O(N)\r\n\r\nHere you have additional space complexity to store MAP. ","title":"Remove characters from the second string which are present in the first string","body":"<ol>\n<li>Convert first string into a Map. O(N)</li>\n<li>iterate over other string and check if character present in Map from step 1.\nO(N) + O(1)</li>\n</ol>\n\n<p>Total time complexity = O(N)</p>\n\n<p>Here you have additional space complexity to store MAP. </p>\n"},{"tags":[],"owner":{"account_id":18132178,"reputation":1,"user_id":13187151,"display_name":"Shubham Jain"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1585763551,"creation_date":1585759365,"answer_id":60975997,"question_id":38430262,"body_markdown":"Remove characters from input string that are present in mask string\r\n\r\n    public class RemoveCharacterFromFisrtStringWhichPInSecondString {\r\n    \r\n    \tpublic static void removeCharactersFromFirstString(String str1,String str2){\r\n    \t\tStringBuilder sb = new StringBuilder(str1.toLowerCase());\r\n    \t\tchar maskArray[] = populateMaskArray(str2);\r\n    \t\tfor(int i=0;i&lt;str1.length();i++){\r\n    \t\t\tchar ch = str1.toLowerCase().charAt(i);\r\n    \t\t\tint index = sb.toString().indexOf(ch);\r\n    \t\t\tif(maskArray[ch] == ch) {\r\n    \t\t\t\tsb.deleteCharAt(index);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tSystem.out.println(sb.toString());\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Time Complexity: O(m) Where m is the length of mask string.\r\n    \t */\r\n    \tstatic char[] populateMaskArray(String mask) {\r\n    \t\tchar[] array = new char[256];\r\n    \t\tfor(int i = 0; i &lt; mask.length(); i++) {\r\n    \t\t\tarray[mask.charAt(i)] = mask.charAt(i);\r\n    \t\t}\r\n    \t\treturn array;\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tString str1 = &quot;India is country&quot;;\r\n    \t\tString str2 = &quot;in&quot;;\r\n    \t\tremoveCharactersFromFirstString(str1,str2);\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"Remove characters from the second string which are present in the first string","body":"<p>Remove characters from input string that are present in mask string</p>\n\n<pre><code>public class RemoveCharacterFromFisrtStringWhichPInSecondString {\n\n    public static void removeCharactersFromFirstString(String str1,String str2){\n        StringBuilder sb = new StringBuilder(str1.toLowerCase());\n        char maskArray[] = populateMaskArray(str2);\n        for(int i=0;i&lt;str1.length();i++){\n            char ch = str1.toLowerCase().charAt(i);\n            int index = sb.toString().indexOf(ch);\n            if(maskArray[ch] == ch) {\n                sb.deleteCharAt(index);\n            }\n        }\n        System.out.println(sb.toString());\n    }\n\n    /**\n     * Time Complexity: O(m) Where m is the length of mask string.\n     */\n    static char[] populateMaskArray(String mask) {\n        char[] array = new char[256];\n        for(int i = 0; i &lt; mask.length(); i++) {\n            array[mask.charAt(i)] = mask.charAt(i);\n        }\n        return array;\n    }\n\n    public static void main(String[] args) {\n        String str1 = \"India is country\";\n        String str2 = \"in\";\n        removeCharactersFromFirstString(str1,str2);\n\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19665581,"reputation":1,"user_id":14396106,"display_name":"Sandeep"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1601919817,"creation_date":1601919330,"answer_id":64213553,"question_id":38430262,"body_markdown":"    public class Test{  \r\n        public static void main(String[] args) {\r\n            Scanner sc = new Scanner(System.in);\r\n            String str,sbstr;\r\n            \r\n            System.out.println(&quot;Enter the first String : &quot;);\r\n            str = sc.nextLine();\r\n            \r\n            System.out.println(&quot;Enter the second String : &quot;);\r\n            sbstr = sc.nextLine();\r\n            \r\n            char [] c1str = str.toCharArray();\r\n            char [] c2sbstr = sbstr.toCharArray();\r\n           \r\n            \r\n                for(int j=0;j&lt;c2sbstr.length;j++) {\r\n                    for(int i=0;i&lt;c1str.length;i++) {\r\n    \r\n                    if(c1str[i] == c2sbstr[j]) {\r\n                        c1str[i] = 0;\r\n                    }    \r\n                }\r\n            }\r\n\r\n            System.out.println(&quot;After removing the characters of second string from first string :&quot;);\r\n\r\n            for(int i=0;i&lt;c1str.length;i++) {\r\n                System.out.print(c1str[i]); \r\n            }  \r\n        }\r\n    }","title":"Remove characters from the second string which are present in the first string","body":"<pre><code>public class Test{  \n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        String str,sbstr;\n        \n        System.out.println(&quot;Enter the first String : &quot;);\n        str = sc.nextLine();\n        \n        System.out.println(&quot;Enter the second String : &quot;);\n        sbstr = sc.nextLine();\n        \n        char [] c1str = str.toCharArray();\n        char [] c2sbstr = sbstr.toCharArray();\n       \n        \n            for(int j=0;j&lt;c2sbstr.length;j++) {\n                for(int i=0;i&lt;c1str.length;i++) {\n\n                if(c1str[i] == c2sbstr[j]) {\n                    c1str[i] = 0;\n                }    \n            }\n        }\n\n        System.out.println(&quot;After removing the characters of second string from first string :&quot;);\n\n        for(int i=0;i&lt;c1str.length;i++) {\n            System.out.print(c1str[i]); \n        }  \n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6393844,"reputation":1491,"user_id":4958965,"display_name":"Benjamin Zach"},"score":0,"creation_date":1611847128,"post_id":65939683,"comment_id":116587020,"body_markdown":"This is not an answer as you have not reduced the complexity","body":"This is not an answer as you have not reduced the complexity"}],"tags":[],"owner":{"account_id":20571582,"reputation":1,"user_id":15099798,"display_name":"Abhishek_sherekar"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1611845935,"creation_date":1611845935,"answer_id":65939683,"question_id":38430262,"body_markdown":"\t public static String removeCharAt(String s, int pos) {\r\n\t      return s.substring(0, pos) + s.substring(pos + 1);\r\n\t   }\r\n\t public static void main(String[] args) {\r\n\t\t\tString s1 = &quot;India is great &quot;;\r\n\t\t\ts1 = s1.toLowerCase();\r\n\t\t\tString s2=&quot;in&quot;;\r\n\t\t\t\r\n\t\t\tfor (int i = 0; i &lt; s1.length(); i++) {\r\n\t\t\t\tfor (int j = 0; j &lt; s2.length(); j++) {\r\n\t\t\t\t\tif(s2.charAt(j) == s1.charAt(i)) {\r\n\t\t\t\t\t\ts1 = removeCharAt(s1, i);\r\n\t\t\t\t}\r\n\t\t\t}\t\t\t\t\r\n\t\t}\r\n\t\t\tSystem.out.println(s1);\r\n\t\t\t\r\n\t}","title":"Remove characters from the second string which are present in the first string","body":"<pre><code> public static String removeCharAt(String s, int pos) {\n      return s.substring(0, pos) + s.substring(pos + 1);\n   }\n public static void main(String[] args) {\n        String s1 = &quot;India is great &quot;;\n        s1 = s1.toLowerCase();\n        String s2=&quot;in&quot;;\n        \n        for (int i = 0; i &lt; s1.length(); i++) {\n            for (int j = 0; j &lt; s2.length(); j++) {\n                if(s2.charAt(j) == s1.charAt(i)) {\n                    s1 = removeCharAt(s1, i);\n            }\n        }               \n    }\n        System.out.println(s1);\n        \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7051929,"reputation":1622,"user_id":5676822,"display_name":"Geeta Gupta"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691501767,"creation_date":1691501767,"answer_id":76860094,"question_id":38430262,"body_markdown":"Another approach could be using forLoop.\r\n\r\n**Note: Below are Kotlin code**\r\n\r\n    val str1 = &quot;computer&quot;\r\n    val str2 = &quot;cat&quot;\r\n\r\n    var strBuilder = StringBuilder()\r\n\r\n    for (data in str1) {\r\n        if (!str2.contains(data)) {\r\n            strBuilder.append(data)\r\n        }\r\n    }\r\n    println(strBuilder)\r\n\r\n   **Output: ompuer**","title":"Remove characters from the second string which are present in the first string","body":"<p>Another approach could be using forLoop.</p>\n<p><strong>Note: Below are Kotlin code</strong></p>\n<pre><code>val str1 = &quot;computer&quot;\nval str2 = &quot;cat&quot;\n\nvar strBuilder = StringBuilder()\n\nfor (data in str1) {\n    if (!str2.contains(data)) {\n        strBuilder.append(data)\n    }\n}\nprintln(strBuilder)\n</code></pre>\n<p><strong>Output: ompuer</strong></p>\n"}],"owner":{"account_id":1282323,"reputation":4466,"user_id":1236153,"accept_rate":86,"display_name":"underdog"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12733,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":38431097,"answer_count":7,"score":1,"last_activity_date":1691501767,"creation_date":1468824842,"question_id":38430262,"body_markdown":"I have written a program to remove the characters from the second string which are present in the first string. The complexity comes out to be BigO(n^2). Can the complexity be further reduced?\r\n\r\n    public class Tmp {\r\n    \r\n        public static void main(String[] args) {\r\n            String s = &quot;halloween&quot;;\r\n            String s1 = &quot;halcyon&quot;;\r\n            char[] ss = s.toCharArray();\r\n            char[] ss1 = s1.toCharArray();\r\n    \r\n            for(int i=0;i&lt;ss.length;i++){\r\n              for(int j=0;j&lt;ss1.length;j++){\r\n                    if(ss1[j] == ss[i]){\r\n                        ss1[j] = &#39;x&#39;; //Replace the common char with x\r\n                    }\r\n                }\r\n             }\r\n            System.out.println(Arrays.toString(ss1));\r\n        }\r\n    }\r\n\r\nOUTPUT\r\n\r\n     [x, x, x, c, y, x, x]","title":"Remove characters from the second string which are present in the first string","body":"<p>I have written a program to remove the characters from the second string which are present in the first string. The complexity comes out to be BigO(n^2). Can the complexity be further reduced?</p>\n\n<pre><code>public class Tmp {\n\n    public static void main(String[] args) {\n        String s = \"halloween\";\n        String s1 = \"halcyon\";\n        char[] ss = s.toCharArray();\n        char[] ss1 = s1.toCharArray();\n\n        for(int i=0;i&lt;ss.length;i++){\n          for(int j=0;j&lt;ss1.length;j++){\n                if(ss1[j] == ss[i]){\n                    ss1[j] = 'x'; //Replace the common char with x\n                }\n            }\n         }\n        System.out.println(Arrays.toString(ss1));\n    }\n}\n</code></pre>\n\n<p>OUTPUT</p>\n\n<pre><code> [x, x, x, c, y, x, x]\n</code></pre>\n"},{"tags":["java","swing","look-and-feel","uimanager","jcolorchooser"],"answers":[{"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":2,"creation_date":1691501260,"post_id":76859975,"comment_id":135498001,"body_markdown":"Might be nice to include how/where you found that information.","body":"Might be nice to include how/where you found that information."}],"tags":[],"owner":{"account_id":13203350,"reputation":868,"user_id":9535950,"display_name":"Thomas Behr"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1691501701,"creation_date":1691500828,"answer_id":76859975,"question_id":76859580,"body_markdown":"The key for the color code field label is not `ColorChooser.rgbColorCodeText` but `ColorChooser.rgbHexCodeText`.\r\n\r\nSee the [ColorChooserPanel.buildChooser](https://github.com/openjdk/jdk17/blob/4afbcaf55383ec2f5da53282a1547bac3d099e9d/src/java.desktop/share/classes/javax/swing/colorchooser/ColorChooserPanel.java#L135) and [ColorModel.getText](https://github.com/openjdk/jdk17/blob/4afbcaf55383ec2f5da53282a1547bac3d099e9d/src/java.desktop/share/classes/javax/swing/colorchooser/ColorModel.java#L84) source code.","title":"JColorChooser RGB Tab with custom text","body":"<p>The key for the color code field label is not <code>ColorChooser.rgbColorCodeText</code> but <code>ColorChooser.rgbHexCodeText</code>.</p>\n<p>See the <a href=\"https://github.com/openjdk/jdk17/blob/4afbcaf55383ec2f5da53282a1547bac3d099e9d/src/java.desktop/share/classes/javax/swing/colorchooser/ColorChooserPanel.java#L135\" rel=\"nofollow noreferrer\">ColorChooserPanel.buildChooser</a> and <a href=\"https://github.com/openjdk/jdk17/blob/4afbcaf55383ec2f5da53282a1547bac3d099e9d/src/java.desktop/share/classes/javax/swing/colorchooser/ColorModel.java#L84\" rel=\"nofollow noreferrer\">ColorModel.getText</a> source code.</p>\n"}],"owner":{"account_id":13163776,"reputation":35,"user_id":9508695,"display_name":"Ece &#199;anga"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76859975,"answer_count":1,"score":1,"last_activity_date":1691501701,"creation_date":1691497799,"question_id":76859580,"body_markdown":"I am customizing JColorChooser by modifying the UIManager&#39;s defaults for the JColorChooser tabs. I have successfully customized the labels and texts except the **Color Code** one.\r\n\r\n[![Color Code in JColorChooser&#39;s RGB tab][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/htJ1j.png\r\n\r\nI used the following code to modify the contents of the RGB tab.\r\n\r\n    UIManager.put(&quot;ColorChooser.rgbRedText&quot;, &quot;Custom Red:&quot;);\r\n    UIManager.put(&quot;ColorChooser.rgbGreenText&quot;, &quot;Custom Green:&quot;);\r\n    UIManager.put(&quot;ColorChooser.rgbBlueText&quot;, &quot;Custom Blue:&quot;);\r\n    UIManager.put(&quot;ColorChooser.rgbAlphaText&quot;, &quot;Custom Alpha:&quot;);\r\n\r\nHowever, when I try the same thing for **Color Code** it doesn&#39;t work:\r\n\r\n    UIManager.put(&quot;ColorChooser.rgbColorCodeText&quot;, &quot;Custom Color Code:&quot;);\r\n\r\nHow can I access UIManager to customize it?","title":"JColorChooser RGB Tab with custom text","body":"<p>I am customizing JColorChooser by modifying the UIManager's defaults for the JColorChooser tabs. I have successfully customized the labels and texts except the <strong>Color Code</strong> one.</p>\n<p><a href=\"https://i.stack.imgur.com/htJ1j.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/htJ1j.png\" alt=\"Color Code in JColorChooser's RGB tab\" /></a></p>\n<p>I used the following code to modify the contents of the RGB tab.</p>\n<pre><code>UIManager.put(&quot;ColorChooser.rgbRedText&quot;, &quot;Custom Red:&quot;);\nUIManager.put(&quot;ColorChooser.rgbGreenText&quot;, &quot;Custom Green:&quot;);\nUIManager.put(&quot;ColorChooser.rgbBlueText&quot;, &quot;Custom Blue:&quot;);\nUIManager.put(&quot;ColorChooser.rgbAlphaText&quot;, &quot;Custom Alpha:&quot;);\n</code></pre>\n<p>However, when I try the same thing for <strong>Color Code</strong> it doesn't work:</p>\n<pre><code>UIManager.put(&quot;ColorChooser.rgbColorCodeText&quot;, &quot;Custom Color Code:&quot;);\n</code></pre>\n<p>How can I access UIManager to customize it?</p>\n"},{"tags":["java","spring-boot","error-handling","controller","spring-cloud-gateway"],"owner":{"account_id":25192367,"reputation":55,"user_id":19032411,"display_name":"stakeika"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691501579,"creation_date":1691501579,"question_id":76860069,"body_markdown":"I have an application with multiple modules. Some are not reactive, and `api-gateway` is reactive (because of Spring Cloud implementation). Security and some header filters are on the `api-gateway` side.\r\n\r\nI have a module `search-services`, it provides an endpoint `/search/{id}/info` with path variable `id`.\r\n\r\n**The problem is:** `/search//info` returns *standard 404 response body*, while I expect it to be *custom 400 body*.\r\n\r\nException handling in `api-gateway`:\r\n\r\n    @ControllerAdvice\r\n    @RequiredArgsConstructor\r\n    @Order(Ordered.HIGHEST_PRECEDENCE)\r\n    public class GlobalExceptionHandler extends ResponseEntityExceptionHandler {\r\n    // omitted some methods which are surely not related to this issue\r\n    \r\n        // 500\r\n        @Override\r\n        protected Mono&lt;ResponseEntity&lt;Object&gt;&gt; handleServerErrorException(ServerErrorException exception, HttpHeaders headers, HttpStatusCode status, ServerWebExchange exchange) {\r\n            return processException(\r\n                    exception, MsgErrorCode.SYSTEM_ERROR,\r\n                    HttpStatus.INTERNAL_SERVER_ERROR, exchange\r\n            );\r\n        }\r\n    \r\n        // validation by annotations, param types\r\n        @Override\r\n        protected Mono&lt;ResponseEntity&lt;Object&gt;&gt; handleWebExchangeBindException(WebExchangeBindException exception, HttpHeaders headers, HttpStatusCode status, ServerWebExchange exchange) {\r\n            return processException(\r\n                    exception, MsgErrorCode.BAD_REQUEST_ERROR,\r\n                    HttpStatus.BAD_REQUEST, exchange\r\n            );\r\n        }\r\n    \r\n        // missing required request param\r\n        @Override\r\n        protected Mono&lt;ResponseEntity&lt;Object&gt;&gt; handleMissingRequestValueException(MissingRequestValueException exception, HttpHeaders headers, HttpStatusCode status, ServerWebExchange exchange) {\r\n            return processException(\r\n                    exception, MsgErrorCode.BAD_REQUEST_ERROR,\r\n                    HttpStatus.BAD_REQUEST, exchange\r\n            );\r\n        }\r\n    \r\n        // missing required headers like Content-Length\r\n        @Override\r\n        protected Mono&lt;ResponseEntity&lt;Object&gt;&gt; handleServerWebInputException(ServerWebInputException exception, HttpHeaders headers, HttpStatusCode status, ServerWebExchange exchange) {\r\n            return processException(\r\n                    exception, MsgErrorCode.BAD_REQUEST_ERROR,\r\n                    HttpStatus.BAD_REQUEST, exchange\r\n            );\r\n        }\r\n    \r\n        @ExceptionHandler(DataNotFoundException.class)\r\n        private Mono&lt;ResponseEntity&lt;Object&gt;&gt; handleDataNotFound(ServerWebExchange exchange, DataNotFoundException exception) {\r\n            return processException(exception, MsgErrorCode.DATA_NOT_FOUND, HttpStatus.NOT_FOUND, exchange);\r\n        }\r\n    \r\n        private Mono&lt;ResponseEntity&lt;Object&gt;&gt; processException(\r\n                Throwable exception, MsgErrorCode errorType, HttpStatus httpStatus, ServerWebExchange exchange\r\n        ) {\r\n            Mono&lt;ErrorResponse&gt; errorResponse = ... // logic of creating a custom response body\r\n    \r\n            return errorResponse.map(body -&gt;\r\n                    ResponseEntity.status(httpStatus)\r\n                            .contentType(MediaType.APPLICATION_JSON)\r\n                            .body(body)\r\n            );\r\n        }\r\n    }\r\n\r\nFor exceptions which reactive GlobalExceptionHandler cannot handle:\r\n\r\n    @Slf4j\r\n    @Component\r\n    @Order(Ordered.HIGHEST_PRECEDENCE + 1)\r\n    public class ReactiveExceptionHandler extends AbstractErrorWebExceptionHandler {\r\n        @Override\r\n        protected RouterFunction&lt;ServerResponse&gt; getRoutingFunction(ErrorAttributes errorAttributes) {\r\n            return RouterFunctions.route(RequestPredicates.all(), this::renderErrorResponse);\r\n        }\r\n    \r\n        protected Mono&lt;ServerResponse&gt; renderErrorResponse(ServerRequest request) {\r\n            // some logic to create a response\r\n        }\r\n    }\r\n\r\nHandler for non-reactive mvc services like `search-services`:\r\n\r\n    @RestControllerAdvice\r\n    @RequiredArgsConstructor\r\n    public class GlobalExceptionHandler extends ResponseEntityExceptionHandler {\r\n    // this helps with &quot;/search/   /info&quot;, but doesn&#39;t handle the case &quot;/search//info&quot;\r\n        @Override\r\n        protected ResponseEntity&lt;Object&gt; handleMissingPathVariable(MissingPathVariableException exception, HttpHeaders headers, HttpStatusCode status, WebRequest request) {\r\n            return processException(exception, MsgErrorCode.BAD_REQUEST_ERROR, HttpStatus.BAD_REQUEST, request);\r\n        }\r\n\r\n    // omitted some methods which are surely not related to this issue\r\n\r\n        @Override\r\n        protected ResponseEntity&lt;Object&gt; handleMissingServletRequestParameter(MissingServletRequestParameterException exception, HttpHeaders headers, HttpStatusCode status, WebRequest request) {\r\n            return processException(exception, MsgErrorCode.BAD_REQUEST_ERROR, HttpStatus.BAD_REQUEST, request);\r\n        }\r\n    \r\n        @ExceptionHandler({Throwable.class, SystemException.class})\r\n        private ResponseEntity&lt;Object&gt; handleThrowable(WebRequest request, Throwable throwable) {\r\n            return processException(throwable, MsgErrorCode.SYSTEM_ERROR, HttpStatus.INTERNAL_SERVER_ERROR, request);\r\n        }\r\n    \r\n        private ResponseEntity&lt;Object&gt; processException(\r\n                Throwable exception, MsgErrorCode errorType, HttpStatus httpStatus, WebRequest webRequest\r\n        ) {\r\n            // custom response body is identical as in api-gateway\r\n        }\r\n    }\r\n\r\nI debugged non-reactive `ResponseEntityExceptionHandler` (which I inherit from), it doesn&#39;t intercept the exception and I don&#39;t know the type of exception. I cannot debug interaction of `api-gateway` and `search-services`. Because I debug locally without Kubernetes.","title":"How to handle 404 missing PathVariable error in Spring Cloud Gateway","body":"<p>I have an application with multiple modules. Some are not reactive, and <code>api-gateway</code> is reactive (because of Spring Cloud implementation). Security and some header filters are on the <code>api-gateway</code> side.</p>\n<p>I have a module <code>search-services</code>, it provides an endpoint <code>/search/{id}/info</code> with path variable <code>id</code>.</p>\n<p><strong>The problem is:</strong> <code>/search//info</code> returns <em>standard 404 response body</em>, while I expect it to be <em>custom 400 body</em>.</p>\n<p>Exception handling in <code>api-gateway</code>:</p>\n<pre><code>@ControllerAdvice\n@RequiredArgsConstructor\n@Order(Ordered.HIGHEST_PRECEDENCE)\npublic class GlobalExceptionHandler extends ResponseEntityExceptionHandler {\n// omitted some methods which are surely not related to this issue\n\n    // 500\n    @Override\n    protected Mono&lt;ResponseEntity&lt;Object&gt;&gt; handleServerErrorException(ServerErrorException exception, HttpHeaders headers, HttpStatusCode status, ServerWebExchange exchange) {\n        return processException(\n                exception, MsgErrorCode.SYSTEM_ERROR,\n                HttpStatus.INTERNAL_SERVER_ERROR, exchange\n        );\n    }\n\n    // validation by annotations, param types\n    @Override\n    protected Mono&lt;ResponseEntity&lt;Object&gt;&gt; handleWebExchangeBindException(WebExchangeBindException exception, HttpHeaders headers, HttpStatusCode status, ServerWebExchange exchange) {\n        return processException(\n                exception, MsgErrorCode.BAD_REQUEST_ERROR,\n                HttpStatus.BAD_REQUEST, exchange\n        );\n    }\n\n    // missing required request param\n    @Override\n    protected Mono&lt;ResponseEntity&lt;Object&gt;&gt; handleMissingRequestValueException(MissingRequestValueException exception, HttpHeaders headers, HttpStatusCode status, ServerWebExchange exchange) {\n        return processException(\n                exception, MsgErrorCode.BAD_REQUEST_ERROR,\n                HttpStatus.BAD_REQUEST, exchange\n        );\n    }\n\n    // missing required headers like Content-Length\n    @Override\n    protected Mono&lt;ResponseEntity&lt;Object&gt;&gt; handleServerWebInputException(ServerWebInputException exception, HttpHeaders headers, HttpStatusCode status, ServerWebExchange exchange) {\n        return processException(\n                exception, MsgErrorCode.BAD_REQUEST_ERROR,\n                HttpStatus.BAD_REQUEST, exchange\n        );\n    }\n\n    @ExceptionHandler(DataNotFoundException.class)\n    private Mono&lt;ResponseEntity&lt;Object&gt;&gt; handleDataNotFound(ServerWebExchange exchange, DataNotFoundException exception) {\n        return processException(exception, MsgErrorCode.DATA_NOT_FOUND, HttpStatus.NOT_FOUND, exchange);\n    }\n\n    private Mono&lt;ResponseEntity&lt;Object&gt;&gt; processException(\n            Throwable exception, MsgErrorCode errorType, HttpStatus httpStatus, ServerWebExchange exchange\n    ) {\n        Mono&lt;ErrorResponse&gt; errorResponse = ... // logic of creating a custom response body\n\n        return errorResponse.map(body -&gt;\n                ResponseEntity.status(httpStatus)\n                        .contentType(MediaType.APPLICATION_JSON)\n                        .body(body)\n        );\n    }\n}\n</code></pre>\n<p>For exceptions which reactive GlobalExceptionHandler cannot handle:</p>\n<pre><code>@Slf4j\n@Component\n@Order(Ordered.HIGHEST_PRECEDENCE + 1)\npublic class ReactiveExceptionHandler extends AbstractErrorWebExceptionHandler {\n    @Override\n    protected RouterFunction&lt;ServerResponse&gt; getRoutingFunction(ErrorAttributes errorAttributes) {\n        return RouterFunctions.route(RequestPredicates.all(), this::renderErrorResponse);\n    }\n\n    protected Mono&lt;ServerResponse&gt; renderErrorResponse(ServerRequest request) {\n        // some logic to create a response\n    }\n}\n</code></pre>\n<p>Handler for non-reactive mvc services like <code>search-services</code>:</p>\n<pre><code>@RestControllerAdvice\n@RequiredArgsConstructor\npublic class GlobalExceptionHandler extends ResponseEntityExceptionHandler {\n// this helps with &quot;/search/   /info&quot;, but doesn't handle the case &quot;/search//info&quot;\n    @Override\n    protected ResponseEntity&lt;Object&gt; handleMissingPathVariable(MissingPathVariableException exception, HttpHeaders headers, HttpStatusCode status, WebRequest request) {\n        return processException(exception, MsgErrorCode.BAD_REQUEST_ERROR, HttpStatus.BAD_REQUEST, request);\n    }\n\n// omitted some methods which are surely not related to this issue\n\n    @Override\n    protected ResponseEntity&lt;Object&gt; handleMissingServletRequestParameter(MissingServletRequestParameterException exception, HttpHeaders headers, HttpStatusCode status, WebRequest request) {\n        return processException(exception, MsgErrorCode.BAD_REQUEST_ERROR, HttpStatus.BAD_REQUEST, request);\n    }\n\n    @ExceptionHandler({Throwable.class, SystemException.class})\n    private ResponseEntity&lt;Object&gt; handleThrowable(WebRequest request, Throwable throwable) {\n        return processException(throwable, MsgErrorCode.SYSTEM_ERROR, HttpStatus.INTERNAL_SERVER_ERROR, request);\n    }\n\n    private ResponseEntity&lt;Object&gt; processException(\n            Throwable exception, MsgErrorCode errorType, HttpStatus httpStatus, WebRequest webRequest\n    ) {\n        // custom response body is identical as in api-gateway\n    }\n}\n</code></pre>\n<p>I debugged non-reactive <code>ResponseEntityExceptionHandler</code> (which I inherit from), it doesn't intercept the exception and I don't know the type of exception. I cannot debug interaction of <code>api-gateway</code> and <code>search-services</code>. Because I debug locally without Kubernetes.</p>\n"},{"tags":["java","android","amazon-web-services","aws-amplify","amplify-auth-cognito"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1691501758,"post_id":76860066,"comment_id":135498129,"body_markdown":"Perhaps the token simply expired? Update your logic so that a new token is obtained if that happens.","body":"Perhaps the token simply expired? Update your logic so that a new token is obtained if that happens."},{"owner":{"account_id":12235231,"reputation":79,"user_id":8929879,"display_name":"k1r4n"},"score":0,"creation_date":1691503732,"post_id":76860066,"comment_id":135498612,"body_markdown":"How do I do this? I have been searching everywhere in Amplify Auth AWS documentation but I can&#39;t find an example","body":"How do I do this? I have been searching everywhere in Amplify Auth AWS documentation but I can&#39;t find an example"}],"owner":{"account_id":12235231,"reputation":79,"user_id":8929879,"display_name":"k1r4n"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691501557,"creation_date":1691501557,"question_id":76860066,"body_markdown":"I am using Amplify Auth to sign in a user in my Java android application.\r\n\r\nAfter a couple of times of starting the android emulator, Amplify Auth signs out the user. Upon trying to login again, the user is faced with the error message:\r\n\r\n&gt; InvalidParameterException{message=One or more parameters are\r\n&gt; incorrect., cause=InvalidParameterException(message=1 validation error\r\n&gt; detected: Value at &#39;accessToken&#39; failed to satisfy constraint: Member\r\n&gt; must not be null), recoverySuggestion=Enter correct parameters.}\r\n&gt;                                                                                                     \tat\r\n&gt; com.amplifyframework.auth.cognito.CognitoAuthExceptionConverter$Companion.lookup(CognitoAuthExceptionConverter.kt:70)\r\n\r\n\r\nThe only way I can work around this is by performing a &quot;wipe data&quot; on the android emulator and re-installing the app.\r\n\r\nI don&#39;t know how to fix this issue correctly. Please help.\r\n","title":"Why is Access Token null?","body":"<p>I am using Amplify Auth to sign in a user in my Java android application.</p>\n<p>After a couple of times of starting the android emulator, Amplify Auth signs out the user. Upon trying to login again, the user is faced with the error message:</p>\n<blockquote>\n<p>InvalidParameterException{message=One or more parameters are\nincorrect., cause=InvalidParameterException(message=1 validation error\ndetected: Value at 'accessToken' failed to satisfy constraint: Member\nmust not be null), recoverySuggestion=Enter correct parameters.}\nat\ncom.amplifyframework.auth.cognito.CognitoAuthExceptionConverter$Companion.lookup(CognitoAuthExceptionConverter.kt:70)</p>\n</blockquote>\n<p>The only way I can work around this is by performing a &quot;wipe data&quot; on the android emulator and re-installing the app.</p>\n<p>I don't know how to fix this issue correctly. Please help.</p>\n"},{"tags":["java","rest","jackson","jax-rs","jakarta-migration"],"comments":[{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1691524436,"post_id":76859942,"comment_id":135502726,"body_markdown":"So Im assuming you are create an uber/fat jar? If you you need to configure it to concatenate the META-INF/services file. This is required for auto-discovery/registration of providers. Otherwise you need to manually register all thew providers","body":"So Im assuming you are create an uber/fat jar? If you you need to configure it to concatenate the META-INF/services file. This is required for auto-discovery/registration of providers. Otherwise you need to manually register all thew providers"}],"owner":{"account_id":17104650,"reputation":121,"user_id":12376938,"display_name":"santosh jk"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691501396,"creation_date":1691500588,"question_id":76859942,"body_markdown":"I am creating command line interface version for rest client api , created method works fine from normal test class/java program but same doesnot work when i built jar with maven-assembly-plugin. I am seeing below exception \r\n\r\n    ERROR:MessageBodyWriter not found for media type=application/json, type=class java.util.ArrayList, genericType=class java.util.ArrayList.\r\n\r\nI tried adding below dependency as per recommendation in multiple posts but still didnot work ,and class com.fasterxml.jackson.jaxrs.json.JacksonJsonProvider exists in assembly jar. still I see error **MessageBodyWriter not found**\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.fasterxml.jackson.jaxrs&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jackson-jaxrs-json-provider&lt;/artifactId&gt;\r\n        &lt;version&gt;2.10.0&lt;/version&gt;\r\n    &lt;/dependency&gt; \r\n\r\n ERROR:MessageBodyWriter not found for media type=application/json, type=class java.util.ArrayList, genericType=class java.util.ArrayList\r\n\r\nI am using **jakarta** libraries ","title":"MessageBodyWriter not found in maven-assembly jar","body":"<p>I am creating command line interface version for rest client api , created method works fine from normal test class/java program but same doesnot work when i built jar with maven-assembly-plugin. I am seeing below exception</p>\n<pre><code>ERROR:MessageBodyWriter not found for media type=application/json, type=class java.util.ArrayList, genericType=class java.util.ArrayList.\n</code></pre>\n<p>I tried adding below dependency as per recommendation in multiple posts but still didnot work ,and class com.fasterxml.jackson.jaxrs.json.JacksonJsonProvider exists in assembly jar. still I see error <strong>MessageBodyWriter not found</strong></p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.jaxrs&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-jaxrs-json-provider&lt;/artifactId&gt;\n    &lt;version&gt;2.10.0&lt;/version&gt;\n&lt;/dependency&gt; \n</code></pre>\n<p>ERROR:MessageBodyWriter not found for media type=application/json, type=class java.util.ArrayList, genericType=class java.util.ArrayList</p>\n<p>I am using <strong>jakarta</strong> libraries</p>\n"},{"tags":["java","apache-poi","log4j","slf4j","uberjar"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1691480411,"post_id":76857357,"comment_id":135493572,"body_markdown":"Try removing aem-uber-jar and use Maven Shade instead","body":"Try removing aem-uber-jar and use Maven Shade instead"}],"owner":{"account_id":29155295,"reputation":1,"user_id":22335222,"display_name":"Anirudh Pratap"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691501319,"creation_date":1691480079,"question_id":76857357,"body_markdown":"I am getting this error after I update apache poi jar from 4.0.1 to 4.1.2 and aem-uber-jar 6.5.11 jar to 6.5.17\r\n\r\n    from this line  Workbook workbook = new XSSFWorkbook(inStream))\r\n    \r\n    java.lang.NoClassDefFoundError: org/apache/logging/log4j/LogManager\r\n    at org.apache.poi.xssf.usermodel.XSSFWorkbook.&lt;clinit&gt;(XSSFWorkbook.java:195)\r\n    \r\n    Caused by: java.lang.ClassNotFoundException: org.apache.logging.log4j.LogManager\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\r\n    \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\r\n    \tat org.apache.poi.xssf.usermodel.XSSFWorkbook.&lt;clinit&gt;(XSSFWorkbook.java:195)\r\n\r\nI  tried reverting version it is working fine on lower version \r\n\r\n","title":"getting error java.lang.NoClassDefFoundError: org/apache/logging/log4j/LogManager","body":"<p>I am getting this error after I update apache poi jar from 4.0.1 to 4.1.2 and aem-uber-jar 6.5.11 jar to 6.5.17</p>\n<pre><code>from this line  Workbook workbook = new XSSFWorkbook(inStream))\n\njava.lang.NoClassDefFoundError: org/apache/logging/log4j/LogManager\nat org.apache.poi.xssf.usermodel.XSSFWorkbook.&lt;clinit&gt;(XSSFWorkbook.java:195)\n\nCaused by: java.lang.ClassNotFoundException: org.apache.logging.log4j.LogManager\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\n    at org.apache.poi.xssf.usermodel.XSSFWorkbook.&lt;clinit&gt;(XSSFWorkbook.java:195)\n</code></pre>\n<p>I  tried reverting version it is working fine on lower version</p>\n"},{"tags":["java","mapstruct"],"comments":[{"owner":{"account_id":29073167,"reputation":1013,"user_id":22270964,"display_name":"Maksim Eliseev"},"score":0,"creation_date":1691425435,"post_id":76849775,"comment_id":135486771,"body_markdown":"How do you imagine the option to include/exclude `id`? Would it really be more useful than calling another method?","body":"How do you imagine the option to include/exclude <code>id</code>? Would it really be more useful than calling another method?"},{"owner":{"account_id":12051482,"reputation":85,"user_id":9545377,"display_name":"SpaceSloth"},"score":0,"creation_date":1691491398,"post_id":76849775,"comment_id":135495804,"body_markdown":"@MaksimEliseev I did try the idea of having seperate methods, but the way I did it, it also affected the other Mappers who have an inverse relationship with it, as it could not differentiate between the two Mappers the one with Id and the other withoutId calling it umbegious.","body":"@MaksimEliseev I did try the idea of having seperate methods, but the way I did it, it also affected the other Mappers who have an inverse relationship with it, as it could not differentiate between the two Mappers the one with Id and the other withoutId calling it umbegious."}],"answers":[{"comments":[{"owner":{"account_id":12051482,"reputation":85,"user_id":9545377,"display_name":"SpaceSloth"},"score":0,"creation_date":1691491549,"post_id":76853567,"comment_id":135495838,"body_markdown":"but, if there was another Mapper that has an inverse relationship with the MenyLanguageMapper, say MenuTranslationMapper which uses the &quot;MenuLanguageMapper.class&quot;, wouldent this code cause ambagious error, since it cant differentiate between: &quot;toViewFromEntityWithoutId&quot; and &quot;toViewFromEntityWithId&quot;.","body":"but, if there was another Mapper that has an inverse relationship with the MenyLanguageMapper, say MenuTranslationMapper which uses the &quot;MenuLanguageMapper.class&quot;, wouldent this code cause ambagious error, since it cant differentiate between: &quot;toViewFromEntityWithoutId&quot; and &quot;toViewFromEntityWithId&quot;."},{"owner":{"account_id":29073167,"reputation":1013,"user_id":22270964,"display_name":"Maksim Eliseev"},"score":0,"creation_date":1691497524,"post_id":76853567,"comment_id":135497118,"body_markdown":"I don&#39;t undesrtand what you mean by &quot;inverse relationship&quot;. Please, could you clarify your thoughts?","body":"I don&#39;t undesrtand what you mean by &quot;inverse relationship&quot;. Please, could you clarify your thoughts?"},{"owner":{"account_id":12051482,"reputation":85,"user_id":9545377,"display_name":"SpaceSloth"},"score":0,"creation_date":1691501387,"post_id":76853567,"comment_id":135498035,"body_markdown":"@MaksomEliseev\n\nI edited my question and include two mapper classes I have, as you can see, &quot;MenuTranslationMapper&quot; injects &quot;MenuLanguageMapper&quot; and implements it when mapping MenuTranslations. \nThe first idea that came into my mind when I faced this dilema was to think the same way, but once I applied the code, the MenuTranslationMapper could not differentiate between the &quot;toViewFromEntityWithoutId&quot; and &quot;toViewFromEntityWithId&quot; returning that the methods are ambiguous.\n\nIf I can find a way to solve the issue of ambiguity and usage in other Mappers, then your code would possibly work.","body":"@MaksomEliseev  I edited my question and include two mapper classes I have, as you can see, &quot;MenuTranslationMapper&quot; injects &quot;MenuLanguageMapper&quot; and implements it when mapping MenuTranslations.  The first idea that came into my mind when I faced this dilema was to think the same way, but once I applied the code, the MenuTranslationMapper could not differentiate between the &quot;toViewFromEntityWithoutId&quot; and &quot;toViewFromEntityWithId&quot; returning that the methods are ambiguous.  If I can find a way to solve the issue of ambiguity and usage in other Mappers, then your code would possibly work."},{"owner":{"account_id":29073167,"reputation":1013,"user_id":22270964,"display_name":"Maksim Eliseev"},"score":0,"creation_date":1692220154,"post_id":76853567,"comment_id":135595781,"body_markdown":"@SpaceSloth, I think the best and easiest way would be to call a special method after mapping, in which the `id` will be deleted.","body":"@SpaceSloth, I think the best and easiest way would be to call a special method after mapping, in which the <code>id</code> will be deleted."}],"tags":[],"owner":{"account_id":29073167,"reputation":1013,"user_id":22270964,"display_name":"Maksim Eliseev"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691426081,"creation_date":1691426081,"answer_id":76853567,"question_id":76849775,"body_markdown":"I can suggest the following method:\r\n\r\n    @Mapper(componentModel = &quot;spring&quot;)\r\n    public interface MenuLanguageMapper {\r\n\r\n        default MenuLanguageViewDTO toViewFromEntity(MenuLanguage entity, boolean ignoreId) {\r\n            return ignoreId\r\n                ? toViewFromEntityWithoutId(entity)\r\n                : toViewFromEntityWithId(entity);\r\n        }\r\n\r\n        @Mapping(target = &quot;id&quot;, ignore = true)\r\n        MenuLanguageViewDTO toViewFromEntityWithoutId(MenuLanguage entity);\r\n\r\n        MenuLanguageViewDTO toViewFromEntityWithId(MenuLanguage entity);\r\n}\r\n\r\nOr you can create a wrapper class that will inject `MenuLanguageMapper`, if you don&#39;t want to see the &quot;internal&quot; methods in the interface.","title":"Using MapStruct Conditional Mapping to control whether to ignore a target property or not","body":"<p>I can suggest the following method:</p>\n<pre><code>@Mapper(componentModel = &quot;spring&quot;)\npublic interface MenuLanguageMapper {\n\n    default MenuLanguageViewDTO toViewFromEntity(MenuLanguage entity, boolean ignoreId) {\n        return ignoreId\n            ? toViewFromEntityWithoutId(entity)\n            : toViewFromEntityWithId(entity);\n    }\n\n    @Mapping(target = &quot;id&quot;, ignore = true)\n    MenuLanguageViewDTO toViewFromEntityWithoutId(MenuLanguage entity);\n\n    MenuLanguageViewDTO toViewFromEntityWithId(MenuLanguage entity);\n</code></pre>\n<p>}</p>\n<p>Or you can create a wrapper class that will inject <code>MenuLanguageMapper</code>, if you don't want to see the &quot;internal&quot; methods in the interface.</p>\n"}],"owner":{"account_id":12051482,"reputation":85,"user_id":9545377,"display_name":"SpaceSloth"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691501144,"creation_date":1691394856,"question_id":76849775,"body_markdown":"I am using mapStruct library, and I have this Mapper class: \r\n\r\n    @Mapper(componentModel = &quot;spring&quot;)\r\n    public interface MenuLanguageMapper {\r\n\r\n          MenuLanguageViewDTO toViewFromEntity(MenuLanguage entity);\r\n\r\n          List&lt;MenuLanguageViewDTO&gt; toViewListFromEntityList(List&lt;MenuLanguage&gt; entityList);\r\n    }\r\n\r\nboth `MenuLanguage` and `MenulanguageViewDTO` both have a field called `id`, I would like to control whether I want to ignore it or not in the target, since in some of my MenuLanguageViewDTO&#39;s I want to include the &#39;id&#39;, rather than having to create completly new methods to do that, is that possible, I discovered conditional Mapping, but I cant seem to get it to work, mapStruct states that it supports Conditional Mapping now: [mapStruct Documentations][1]\r\n\r\n\r\n  [1]: https://mapstruct.org/news/2021-07-18-mapstruct-1_5_0_Beta1-is-out/#conditional-mapping\r\n\r\n\r\n**edit-1:** added two classes, to clarify the issue that I am facing when going the path of creating two seperate mapper methods, one with Id and one without:\r\n\r\n\r\n***MenuLanguageMapper.class:***\r\n\r\n    @Mapper(componentModel = &quot;spring&quot;)\r\n    public interface MenuLanguageMapper {\r\n\r\n          MenuLanguageViewDTO toViewFromEntity(MenuLanguage entity);\r\n\r\n          List&lt;MenuLanguageViewDTO&gt; toViewListFromEntityList(List&lt;MenuLanguage&gt; entityList);\r\n    }\r\n\r\n***MenuTranslationMapper.class:***\r\n\r\n    @Mapper(componentModel = &quot;spring&quot;, uses = { MenuLanguageMapper.class })\r\n    public interface MenuTranslationMapper {\r\n\r\n        @InheritInverseConfiguration\r\n        MenuTranslationViewDTO toViewFromEntity(MenuTranslation entity);\r\n\r\n        @InheritInverseConfiguration\r\n        void toTranslationEntityFromUpdateDTO(MenuTranslationUpdateDTO updateDTO, @MappingTarget MenuTranslation menuTranslation);\r\n    }\r\n\r\n","title":"Using MapStruct Conditional Mapping to control whether to ignore a target property or not","body":"<p>I am using mapStruct library, and I have this Mapper class:</p>\n<pre><code>@Mapper(componentModel = &quot;spring&quot;)\npublic interface MenuLanguageMapper {\n\n      MenuLanguageViewDTO toViewFromEntity(MenuLanguage entity);\n\n      List&lt;MenuLanguageViewDTO&gt; toViewListFromEntityList(List&lt;MenuLanguage&gt; entityList);\n}\n</code></pre>\n<p>both <code>MenuLanguage</code> and <code>MenulanguageViewDTO</code> both have a field called <code>id</code>, I would like to control whether I want to ignore it or not in the target, since in some of my MenuLanguageViewDTO's I want to include the 'id', rather than having to create completly new methods to do that, is that possible, I discovered conditional Mapping, but I cant seem to get it to work, mapStruct states that it supports Conditional Mapping now: <a href=\"https://mapstruct.org/news/2021-07-18-mapstruct-1_5_0_Beta1-is-out/#conditional-mapping\" rel=\"nofollow noreferrer\">mapStruct Documentations</a></p>\n<p><strong>edit-1:</strong> added two classes, to clarify the issue that I am facing when going the path of creating two seperate mapper methods, one with Id and one without:</p>\n<p><em><strong>MenuLanguageMapper.class:</strong></em></p>\n<pre><code>@Mapper(componentModel = &quot;spring&quot;)\npublic interface MenuLanguageMapper {\n\n      MenuLanguageViewDTO toViewFromEntity(MenuLanguage entity);\n\n      List&lt;MenuLanguageViewDTO&gt; toViewListFromEntityList(List&lt;MenuLanguage&gt; entityList);\n}\n</code></pre>\n<p><em><strong>MenuTranslationMapper.class:</strong></em></p>\n<pre><code>@Mapper(componentModel = &quot;spring&quot;, uses = { MenuLanguageMapper.class })\npublic interface MenuTranslationMapper {\n\n    @InheritInverseConfiguration\n    MenuTranslationViewDTO toViewFromEntity(MenuTranslation entity);\n\n    @InheritInverseConfiguration\n    void toTranslationEntityFromUpdateDTO(MenuTranslationUpdateDTO updateDTO, @MappingTarget MenuTranslation menuTranslation);\n}\n</code></pre>\n"},{"tags":["java","binary","containers","quarkus","glibc"],"answers":[{"comments":[{"owner":{"account_id":557134,"reputation":2371,"user_id":919480,"accept_rate":59,"display_name":"cogitoergosum"},"score":0,"creation_date":1691547990,"post_id":76859954,"comment_id":135505264,"body_markdown":"The suggested Dockerfile worked; thank you!","body":"The suggested Dockerfile worked; thank you!"}],"tags":[],"owner":{"account_id":6518557,"reputation":2810,"user_id":5043481,"display_name":"zforgo"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1691500652,"creation_date":1691500652,"answer_id":76859954,"question_id":76856472,"body_markdown":"Honestly I couldn&#39;t reproduce this, however my host machine has newer version of `glibc` and my native container image started successfully.\r\nOutput of `ldd --version`  \r\nOn the host:\r\n```none\r\nldd (Ubuntu GLIBC 2.35-0ubuntu3.1) 2.35\r\n```\r\nOn the container image (built by Dockerfile.native)\r\n\r\n```none\r\nldd (GNU libc) 2.28\r\n```\r\n\r\nBoth `Dockerfile.native` and `Dockerfile.native-micro` is based on UBI8 which is an **U**niversal **B**ase **I**mage of **R**ed **H**at **E**nterprise **L**inux. UBI8 is based on RHEL8 and UBI9 is on RHEL9. RHEL9 using recent `glibc 2.34`.\r\n\r\n### Solution #1 - use UBI9-minimal\r\n\r\nUbi9 minimal base image contains everything (and more), but it is a little bit bigger than `micro` version.\r\n\r\nIn this case just use this base image:\r\n\r\n```docker\r\nFROM registry.access.redhat.com/ubi9-minimal:9.2\r\n\r\n# ...\r\n```\r\n### Solution #2 create custom micro image\r\n\r\n[This guide](https://quarkus.io/guides/quarkus-runtime-base-image) explains how to create custom base image or extend the existing one.\r\n\r\nThis Dockerfile should work:\r\n\r\n```docker\r\n# -- Stage ubi\r\nFROM registry.access.redhat.com/ubi9-minimal:9.2 AS ubi\r\n# -- Stage scratch\r\nFROM registry.access.redhat.com/ubi9-micro:9.2 AS scratch\r\n# -- Final Stage\r\nFROM scratch\r\nCOPY --from=ubi /usr/lib64/libgcc_s.so.1 /usr/lib64/libgcc_s.so.1\r\nCOPY --from=ubi /usr/lib64/libstdc++.so.6 /usr/lib64/libstdc++.so.6\r\nCOPY --from=ubi /usr/lib64/libz.so.1 /usr/lib64/libz.so.1\r\n```\r\n\r\n**Note**: I cloned the [quarkus-images](https://github.com/quarkusio/quarkus-images) repository and changed the arguments to generate this Dockerfile.","title":"Alternatives to Quarkus base images for native-micro","body":"<p>Honestly I couldn't reproduce this, however my host machine has newer version of <code>glibc</code> and my native container image started successfully.\nOutput of <code>ldd --version</code><br />\nOn the host:</p>\n<pre class=\"lang-none prettyprint-override\"><code>ldd (Ubuntu GLIBC 2.35-0ubuntu3.1) 2.35\n</code></pre>\n<p>On the container image (built by Dockerfile.native)</p>\n<pre class=\"lang-none prettyprint-override\"><code>ldd (GNU libc) 2.28\n</code></pre>\n<p>Both <code>Dockerfile.native</code> and <code>Dockerfile.native-micro</code> is based on UBI8 which is an <strong>U</strong>niversal <strong>B</strong>ase <strong>I</strong>mage of <strong>R</strong>ed <strong>H</strong>at <strong>E</strong>nterprise <strong>L</strong>inux. UBI8 is based on RHEL8 and UBI9 is on RHEL9. RHEL9 using recent <code>glibc 2.34</code>.</p>\n<h3>Solution #1 - use UBI9-minimal</h3>\n<p>Ubi9 minimal base image contains everything (and more), but it is a little bit bigger than <code>micro</code> version.</p>\n<p>In this case just use this base image:</p>\n<pre><code>FROM registry.access.redhat.com/ubi9-minimal:9.2\n\n# ...\n</code></pre>\n<h3>Solution #2 create custom micro image</h3>\n<p><a href=\"https://quarkus.io/guides/quarkus-runtime-base-image\" rel=\"nofollow noreferrer\">This guide</a> explains how to create custom base image or extend the existing one.</p>\n<p>This Dockerfile should work:</p>\n<pre><code># -- Stage ubi\nFROM registry.access.redhat.com/ubi9-minimal:9.2 AS ubi\n# -- Stage scratch\nFROM registry.access.redhat.com/ubi9-micro:9.2 AS scratch\n# -- Final Stage\nFROM scratch\nCOPY --from=ubi /usr/lib64/libgcc_s.so.1 /usr/lib64/libgcc_s.so.1\nCOPY --from=ubi /usr/lib64/libstdc++.so.6 /usr/lib64/libstdc++.so.6\nCOPY --from=ubi /usr/lib64/libz.so.1 /usr/lib64/libz.so.1\n</code></pre>\n<p><strong>Note</strong>: I cloned the <a href=\"https://github.com/quarkusio/quarkus-images\" rel=\"nofollow noreferrer\">quarkus-images</a> repository and changed the arguments to generate this Dockerfile.</p>\n"}],"owner":{"account_id":557134,"reputation":2371,"user_id":919480,"accept_rate":59,"display_name":"cogitoergosum"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":575,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76859954,"answer_count":1,"score":0,"last_activity_date":1691500652,"creation_date":1691468352,"question_id":76856472,"body_markdown":"I am building the binary in a GitHub Action pipeline using `mvnw -Pnative`. The runner machine uses the latest Ubuntu OS where the `glibc` version is 2.3x. Whereas, the base Quarkus micro image uses an earlier version of `glibc`. This results in the following error when the container image is run using `docker run`.\r\n\r\n```bash\r\n./application: /lib64/libc.so.6: version `GLIBC_2.32&#39; not found (required by ./application)\r\n./application: /lib64/libc.so.6: version `GLIBC_2.34&#39; not found (required by ./application)\r\n```\r\n\r\nBrowsing [this site][1] for understanding the library version and distribution is tedious. Therefore, I wanted to know, if you can suggest an alternative micro base image - with &quot;recent&quot; `glibc` - where, a Quarkus binary can be run?\r\n\r\n\r\n  [1]: https://distrowatch.com/","title":"Alternatives to Quarkus base images for native-micro","body":"<p>I am building the binary in a GitHub Action pipeline using <code>mvnw -Pnative</code>. The runner machine uses the latest Ubuntu OS where the <code>glibc</code> version is 2.3x. Whereas, the base Quarkus micro image uses an earlier version of <code>glibc</code>. This results in the following error when the container image is run using <code>docker run</code>.</p>\n<pre class=\"lang-bash prettyprint-override\"><code>./application: /lib64/libc.so.6: version `GLIBC_2.32' not found (required by ./application)\n./application: /lib64/libc.so.6: version `GLIBC_2.34' not found (required by ./application)\n</code></pre>\n<p>Browsing <a href=\"https://distrowatch.com/\" rel=\"nofollow noreferrer\">this site</a> for understanding the library version and distribution is tedious. Therefore, I wanted to know, if you can suggest an alternative micro base image - with &quot;recent&quot; <code>glibc</code> - where, a Quarkus binary can be run?</p>\n"},{"tags":["java","spring","elasticsearch","spring-data"],"owner":{"account_id":3245618,"reputation":372,"user_id":2737303,"display_name":"jsmin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691500152,"creation_date":1691498637,"question_id":76859701,"body_markdown":"I&#39;m using ElasticSearch Spring Data to manage documents in my application, and I&#39;m facing a situation where I need to update a document without affecting a particular large object within it. I don&#39;t want to load this large object while retrieving the document. Unfortunately, when I update other fields in the document and save it again, the large object gets removed, as it was not loaded initially.\r\n\r\nIs there a recommended approach to achieve this while using ElasticSearch Spring Data? \r\n\r\n**Example:**\r\n\r\nLet&#39;s assume I have a document representing a user profile. This document includes fields like username, email, and a complex &quot;preferences&quot; object which I don&#39;t want to load when querying the user profile. However, when I update the username and email fields and save the document using the save method in the spring data repo, the &quot;preferences&quot; object gets cleared, even though I never loaded it in the first place.\r\n","title":"Updating Elasticsearch Document and ignoring specific field using ElasticSearch Spring Data","body":"<p>I'm using ElasticSearch Spring Data to manage documents in my application, and I'm facing a situation where I need to update a document without affecting a particular large object within it. I don't want to load this large object while retrieving the document. Unfortunately, when I update other fields in the document and save it again, the large object gets removed, as it was not loaded initially.</p>\n<p>Is there a recommended approach to achieve this while using ElasticSearch Spring Data?</p>\n<p><strong>Example:</strong></p>\n<p>Let's assume I have a document representing a user profile. This document includes fields like username, email, and a complex &quot;preferences&quot; object which I don't want to load when querying the user profile. However, when I update the username and email fields and save the document using the save method in the spring data repo, the &quot;preferences&quot; object gets cleared, even though I never loaded it in the first place.</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":1435980,"reputation":127999,"user_id":1357341,"accept_rate":100,"display_name":"arshajii"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1378823898,"creation_date":1378823898,"answer_id":18721866,"question_id":18721771,"body_markdown":"You can use [`printf()`][1] -- the `%f` specifier works for `BigDecimal`s too:\r\n\r\n    System.out.printf(&quot;bd1 value::%.0f%n&quot;, bd1);\r\n\r\n&lt;pre&gt;\r\nbd1 value::0\r\n&lt;/pre&gt;\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/io/PrintStream.html#printf%28java.lang.String,%20java.lang.Object...%29","title":"Java : Removing zeros after decimal point in BigDecimal","body":"<p>You can use <a href=\"http://docs.oracle.com/javase/7/docs/api/java/io/PrintStream.html#printf%28java.lang.String,%20java.lang.Object...%29\" rel=\"noreferrer\"><code>printf()</code></a> -- the <code>%f</code> specifier works for <code>BigDecimal</code>s too:</p>\n\n<pre><code>System.out.printf(\"bd1 value::%.0f%n\", bd1);\n</code></pre>\n\n<pre>\nbd1 value::0\n</pre>\n"},{"comments":[{"owner":{"account_id":10489606,"reputation":126,"user_id":11540228,"display_name":"Daan"},"score":0,"creation_date":1689062426,"post_id":18721872,"comment_id":135156130,"body_markdown":"This will convert it to a String, you can wrap it in a &quot;new BigDecimal(df.format(bd))&quot; to create a BigDecimal again.","body":"This will convert it to a String, you can wrap it in a &quot;new BigDecimal(df.format(bd))&quot; to create a BigDecimal again."}],"tags":[],"owner":{"account_id":203953,"reputation":5113,"user_id":451894,"accept_rate":53,"display_name":"upog"},"comment_count":1,"down_vote_count":1,"up_vote_count":25,"is_accepted":false,"score":24,"last_activity_date":1382352378,"creation_date":1378823911,"answer_id":18721872,"question_id":18721771,"body_markdown":"try this\r\n\r\n    import java.math.BigDecimal;\r\n    import java.text.DecimalFormat;\r\n    \r\n    public class calculator{\r\n    \tpublic static void main(String[] args) {\r\n    \t\tBigDecimal bd = new BigDecimal(23.086);\r\n    \t\tBigDecimal bd1= new BigDecimal(0.000);    \r\n    \t\tDecimalFormat df = new DecimalFormat(&quot;0.##&quot;);    \r\n    \t\tSystem.out.println(&quot;bd value::&quot;+ df.format(bd));\r\n    \t\tSystem.out.println(&quot;bd1 value::&quot;+ df.format(bd1));\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"Java : Removing zeros after decimal point in BigDecimal","body":"<p>try this</p>\n\n<pre><code>import java.math.BigDecimal;\nimport java.text.DecimalFormat;\n\npublic class calculator{\n    public static void main(String[] args) {\n        BigDecimal bd = new BigDecimal(23.086);\n        BigDecimal bd1= new BigDecimal(0.000);    \n        DecimalFormat df = new DecimalFormat(\"0.##\");    \n        System.out.println(\"bd value::\"+ df.format(bd));\n        System.out.println(\"bd1 value::\"+ df.format(bd1));\n\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1378823957,"creation_date":1378823957,"answer_id":18721891,"question_id":18721771,"body_markdown":"You can do this\r\n\r\n    System.out.println(&quot;bd value: &quot; + ((bd.scale() == 0) ? bd.unscaledValue() : bd));\r\n        \r\n    ","title":"Java : Removing zeros after decimal point in BigDecimal","body":"<p>You can do this</p>\n\n<pre><code>System.out.println(\"bd value: \" + ((bd.scale() == 0) ? bd.unscaledValue() : bd));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1266294,"reputation":8027,"user_id":1223532,"accept_rate":67,"display_name":"MrSimpleMind"},"comment_count":0,"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1448487441,"creation_date":1378824006,"answer_id":18721902,"question_id":18721771,"body_markdown":"**Simple, clean, flexible, easy-2-understand and maintain code** \r\n\r\n(*will work for `double` too*)\r\n\r\n    DecimalFormat df = new DecimalFormat();\r\n    df.setMaximumFractionDigits(2); //Sets the maximum number of digits after the decimal point\r\n    df.setMinimumFractionDigits(0); //Sets the minimum number of digits after the decimal point\r\n    df.setGroupingUsed(false); //If false thousands separator such ad 1,000 wont work so it will display 1000\r\n    \r\n    String result = df.format(bd);\r\n    System.out.println(result);","title":"Java : Removing zeros after decimal point in BigDecimal","body":"<p><strong>Simple, clean, flexible, easy-2-understand and maintain code</strong> </p>\n\n<p>(<em>will work for <code>double</code> too</em>)</p>\n\n<pre><code>DecimalFormat df = new DecimalFormat();\ndf.setMaximumFractionDigits(2); //Sets the maximum number of digits after the decimal point\ndf.setMinimumFractionDigits(0); //Sets the minimum number of digits after the decimal point\ndf.setGroupingUsed(false); //If false thousands separator such ad 1,000 wont work so it will display 1000\n\nString result = df.format(bd);\nSystem.out.println(result);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":33950,"reputation":15047,"user_id":95462,"accept_rate":86,"display_name":"Greg Ennis"},"score":1,"creation_date":1479832049,"post_id":18721976,"comment_id":68719623,"body_markdown":"But how do you KNOW if you should call intValueExact? I want output 1.1 if thats correct, and 1 if thats correct","body":"But how do you KNOW if you should call intValueExact? I want output 1.1 if thats correct, and 1 if thats correct"},{"owner":{"account_id":3278981,"reputation":781,"user_id":2760060,"display_name":"Marcia Ong"},"score":1,"creation_date":1479988270,"post_id":18721976,"comment_id":68793857,"body_markdown":"Erm you call that function when you want BigDecimal to an INTEGER. But need to catch for ArithmeticException.\n\nIf you want to covert to double, you need to find a build in function to covert to bigdecmical to double\n \nhttps://www.tutorialspoint.com/java/math/bigdecimal_intvalueexact.htm","body":"Erm you call that function when you want BigDecimal to an INTEGER. But need to catch for ArithmeticException.  If you want to covert to double, you need to find a build in function to covert to bigdecmical to double   <a href=\"https://www.tutorialspoint.com/java/math/bigdecimal_intvalueexact.htm\" rel=\"nofollow noreferrer\">tutorialspoint.com/java/math/bigdecimal_intvalueexact.htm</a>"},{"owner":{"account_id":33950,"reputation":15047,"user_id":95462,"accept_rate":86,"display_name":"Greg Ennis"},"score":1,"creation_date":1480249187,"post_id":18721976,"comment_id":68875468,"body_markdown":"I agree, but the question wasn&#39;t how to convert BigDecimal to int, the question was how to format output without any trailing zeros. Which are different things to me.","body":"I agree, but the question wasn&#39;t how to convert BigDecimal to int, the question was how to format output without any trailing zeros. Which are different things to me."},{"owner":{"account_id":3278981,"reputation":781,"user_id":2760060,"display_name":"Marcia Ong"},"score":1,"creation_date":1482250003,"post_id":18721976,"comment_id":69693084,"body_markdown":"I see, I haven&#39;t come across format output functions before. Can&#39;t answer your question. sorry","body":"I see, I haven&#39;t come across format output functions before. Can&#39;t answer your question. sorry"},{"owner":{"account_id":29583,"reputation":7140,"user_id":80075,"accept_rate":100,"display_name":"Tony BenBrahim"},"score":2,"creation_date":1584473028,"post_id":18721976,"comment_id":107446148,"body_markdown":"wrong answer, try BigDecimal(200.0000), you get 2E+2, not the desired 200","body":"wrong answer, try BigDecimal(200.0000), you get 2E+2, not the desired 200"}],"tags":[],"owner":{"account_id":3278981,"reputation":781,"user_id":2760060,"display_name":"Marcia Ong"},"comment_count":5,"down_vote_count":5,"up_vote_count":15,"is_accepted":true,"score":10,"last_activity_date":1467886078,"creation_date":1378824203,"answer_id":18721976,"question_id":18721771,"body_markdown":"   \tBigDecimal bd  = new BigDecimal(23.086); \r\n\tBigDecimal bd1 = new BigDecimal(0.000);\r\n\r\n\tbd  = bd.setScale(2, RoundingMode.HALF_UP).stripTrailingZeros(); \r\n    bd1 = bd1.setScale(2, RoundingMode.HALF_UP).stripTrailingZeros();\r\n\r\n\tSystem.out.println(&quot;bd value::&quot;+ bd); System.out.println(&quot;bd1 value::&quot;+ bd1);\r\n\tSystem.out.println(&quot;new way:&quot; + bd1.intValueExact());\r\n\r\n//OUTPUT\r\nbd value::23.09\r\n\r\nbd1 value::0.00\r\n\r\nnew way:0\r\n","title":"Java : Removing zeros after decimal point in BigDecimal","body":"<pre><code>BigDecimal bd  = new BigDecimal(23.086); \nBigDecimal bd1 = new BigDecimal(0.000);\n\nbd  = bd.setScale(2, RoundingMode.HALF_UP).stripTrailingZeros(); \nbd1 = bd1.setScale(2, RoundingMode.HALF_UP).stripTrailingZeros();\n\nSystem.out.println(\"bd value::\"+ bd); System.out.println(\"bd1 value::\"+ bd1);\nSystem.out.println(\"new way:\" + bd1.intValueExact());\n</code></pre>\n\n<p>//OUTPUT\nbd value::23.09</p>\n\n<p>bd1 value::0.00</p>\n\n<p>new way:0</p>\n"},{"comments":[{"owner":{"account_id":482529,"reputation":5253,"user_id":896981,"accept_rate":100,"display_name":"magiccrafter"},"score":0,"creation_date":1614957992,"post_id":48385673,"comment_id":117552203,"body_markdown":"How this is different than the @Gondy&#39;s answer?","body":"How this is different than the @Gondy&#39;s answer?"}],"tags":[],"owner":{"account_id":11428463,"reputation":29,"user_id":8377957,"display_name":"Frdhsn"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1516636916,"creation_date":1516636916,"answer_id":48385673,"question_id":18721771,"body_markdown":"This method below works better IMO\r\n\r\n        bd1 = bd1.stripTrailingZeros();\r\n        System.out.println(bd1.toPlainString());\r\nPrints: \r\n\r\n        0\r\nIf bd1 = 1.2300 , this will print \r\n\r\n        1.23","title":"Java : Removing zeros after decimal point in BigDecimal","body":"<p>This method below works better IMO</p>\n\n<pre><code>    bd1 = bd1.stripTrailingZeros();\n    System.out.println(bd1.toPlainString());\n</code></pre>\n\n<p>Prints: </p>\n\n<pre><code>    0\n</code></pre>\n\n<p>If bd1 = 1.2300 , this will print </p>\n\n<pre><code>    1.23\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1134029,"reputation":4995,"user_id":1119473,"accept_rate":60,"display_name":"Gondy"},"comment_count":0,"down_vote_count":1,"up_vote_count":22,"is_accepted":false,"score":21,"last_activity_date":1574932424,"creation_date":1552589976,"answer_id":55170159,"question_id":18721771,"body_markdown":"Let&#39;s say you have BigDecimal with value `23000.00` and you want it to be `23000`. You can use method `stripTrailingZeros()`, but it will give you &quot;wrong&quot; result:\r\n```\r\nBigDecimal bd = new BigDecimal(&quot;23000.00&quot;);\r\nbd.stripTrailingZeros() // Result is 2.3E+4\r\n```\r\nYou can fix it by calling `.toPlainString()` and passing this to the BigDecimal constructor to let it handle correctly:\r\n```\r\nBigDecimal bd = new BigDecimal(&quot;23000.00&quot;);\r\nnew BigDecimal(bd.stripTrailingZeros().toPlainString()) // Result is 23000\r\n```","title":"Java : Removing zeros after decimal point in BigDecimal","body":"<p>Let's say you have BigDecimal with value <code>23000.00</code> and you want it to be <code>23000</code>. You can use method <code>stripTrailingZeros()</code>, but it will give you \"wrong\" result:</p>\n\n<pre><code>BigDecimal bd = new BigDecimal(\"23000.00\");\nbd.stripTrailingZeros() // Result is 2.3E+4\n</code></pre>\n\n<p>You can fix it by calling <code>.toPlainString()</code> and passing this to the BigDecimal constructor to let it handle correctly:</p>\n\n<pre><code>BigDecimal bd = new BigDecimal(\"23000.00\");\nnew BigDecimal(bd.stripTrailingZeros().toPlainString()) // Result is 23000\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1988337,"reputation":598,"user_id":1782997,"display_name":"Attila T"},"score":1,"creation_date":1669082964,"post_id":74466105,"comment_id":131557636,"body_markdown":"How is this different than @Gondy&#39;s answer?","body":"How is this different than @Gondy&#39;s answer?"}],"tags":[],"owner":{"account_id":17104674,"reputation":11,"user_id":12701048,"display_name":"Nelson Alonzo"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668626743,"creation_date":1668626743,"answer_id":74466105,"question_id":18721771,"body_markdown":"i create this method to fix my problem...   \r\n\r\n    private BigDecimal removeZeros(BigDecimal bigDecimal){\r\n                return new BigDecimal(bigDecimal.stripTrailingZeros().toPlainString());\r\n            }\r\n\r\ni don&#39;t like it, but do the job","title":"Java : Removing zeros after decimal point in BigDecimal","body":"<p>i create this method to fix my problem...</p>\n<pre><code>private BigDecimal removeZeros(BigDecimal bigDecimal){\n            return new BigDecimal(bigDecimal.stripTrailingZeros().toPlainString());\n        }\n</code></pre>\n<p>i don't like it, but do the job</p>\n"},{"tags":[],"owner":{"account_id":4540696,"reputation":7790,"user_id":3688648,"accept_rate":54,"display_name":"Felk"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691499994,"creation_date":1691499994,"answer_id":76859872,"question_id":18721771,"body_markdown":"IMO `.stripTrailingZeros()` is already the correct approach. If the goal is to only strip trailing zeroes after the decimal point, you can reset the scale back to 0 if it is below 0 after calling `.stripTrailingZeros()`:\r\n```java\r\nBigDecimal bd = new BigDecimal(&quot;100.00&quot;);           // bd ==&gt; 100.00\r\nbd = bd.stripTrailingZeros();                       // bd ==&gt; 1E+2\r\nif (bd.scale() &lt; 0)\r\n    bd = bd.setScale(0, RoundingMode.UNNECESSARY);  // bd ==&gt; 100\r\n```","title":"Java : Removing zeros after decimal point in BigDecimal","body":"<p>IMO <code>.stripTrailingZeros()</code> is already the correct approach. If the goal is to only strip trailing zeroes after the decimal point, you can reset the scale back to 0 if it is below 0 after calling <code>.stripTrailingZeros()</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>BigDecimal bd = new BigDecimal(&quot;100.00&quot;);           // bd ==&gt; 100.00\nbd = bd.stripTrailingZeros();                       // bd ==&gt; 1E+2\nif (bd.scale() &lt; 0)\n    bd = bd.setScale(0, RoundingMode.UNNECESSARY);  // bd ==&gt; 100\n</code></pre>\n"}],"owner":{"account_id":1803252,"reputation":393,"user_id":1641022,"accept_rate":75,"display_name":"Analysts"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39090,"favorite_count":0,"down_vote_count":0,"up_vote_count":26,"accepted_answer_id":18721976,"answer_count":9,"score":26,"last_activity_date":1691499994,"creation_date":1378823657,"question_id":18721771,"body_markdown":"I have a program like this ,\r\n\r\n    BigDecimal bd = new BigDecimal(23.086);\r\n    BigDecimal bd1= new BigDecimal(0.000);\r\n\r\n    bd = bd.setScale(2, RoundingMode.HALF_UP).stripTrailingZeros();\r\n    bd1 = bd1.setScale(2, RoundingMode.HALF_UP).stripTrailingZeros();\r\n\r\n    System.out.println(&quot;bd value::&quot;+ bd);\r\n    System.out.println(&quot;bd1 value::&quot;+ bd1);\r\n\r\nI get the following output: `23.09` for `bd` and 0.00 for `bd1`, but I want `bd1` as `0` not as `0.00`. Am I applying the methods correctly? ","title":"Java : Removing zeros after decimal point in BigDecimal","body":"<p>I have a program like this ,</p>\n\n<pre><code>BigDecimal bd = new BigDecimal(23.086);\nBigDecimal bd1= new BigDecimal(0.000);\n\nbd = bd.setScale(2, RoundingMode.HALF_UP).stripTrailingZeros();\nbd1 = bd1.setScale(2, RoundingMode.HALF_UP).stripTrailingZeros();\n\nSystem.out.println(\"bd value::\"+ bd);\nSystem.out.println(\"bd1 value::\"+ bd1);\n</code></pre>\n\n<p>I get the following output: <code>23.09</code> for <code>bd</code> and 0.00 for <code>bd1</code>, but I want <code>bd1</code> as <code>0</code> not as <code>0.00</code>. Am I applying the methods correctly? </p>\n"},{"tags":["java","project-reactor"],"comments":[{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1615756287,"post_id":66629572,"comment_id":117783879,"body_markdown":"What&#39;s the condition for the filter?","body":"What&#39;s the condition for the filter?"},{"owner":{"account_id":13048203,"reputation":113,"user_id":9429422,"display_name":"Anmol Garg"},"score":0,"creation_date":1615756448,"post_id":66629572,"comment_id":117783920,"body_markdown":"@WJS I have updated the query. The condition is that if the function &#39;checkIfIdExists&#39; returns false, I want to keep that id.","body":"@WJS I have updated the query. The condition is that if the function &#39;checkIfIdExists&#39; returns false, I want to keep that id."},{"owner":{"account_id":18064478,"reputation":356,"user_id":13132133,"display_name":"Shaan K"},"score":0,"creation_date":1615756487,"post_id":66629572,"comment_id":117783932,"body_markdown":"Have you considered using java streams?","body":"Have you considered using java streams?"},{"owner":{"account_id":13048203,"reputation":113,"user_id":9429422,"display_name":"Anmol Garg"},"score":0,"creation_date":1615756538,"post_id":66629572,"comment_id":117783953,"body_markdown":"@ShaanK I couldn&#39;t find any function in Streams that takes a Mono&lt;Boolean&gt;.","body":"@ShaanK I couldn&#39;t find any function in Streams that takes a Mono&lt;Boolean&gt;."},{"owner":{"account_id":264830,"reputation":70811,"user_id":551406,"accept_rate":95,"display_name":"Michael Berry"},"score":1,"creation_date":1615758732,"post_id":66629572,"comment_id":117784593,"body_markdown":"@ShaanK You can&#39;t use standard Java streams here as you can&#39;t filter() on a function that returns Mono&lt;Boolean&gt; rather than boolean. You have to use `filterWhen()` for that (only available in the project reactor publishers.)","body":"@ShaanK You can&#39;t use standard Java streams here as you can&#39;t filter() on a function that returns Mono&lt;Boolean&gt; rather than boolean. You have to use <code>filterWhen()</code> for that (only available in the project reactor publishers.)"},{"owner":{"account_id":18064478,"reputation":356,"user_id":13132133,"display_name":"Shaan K"},"score":0,"creation_date":1615759388,"post_id":66629572,"comment_id":117784760,"body_markdown":"Oh ok thank you for the heads up.","body":"Oh ok thank you for the heads up."}],"answers":[{"comments":[{"owner":{"account_id":13048203,"reputation":113,"user_id":9429422,"display_name":"Anmol Garg"},"score":0,"creation_date":1617078966,"post_id":66629623,"comment_id":118195156,"body_markdown":"You cannot use &#39;!&#39; with a method returning Mono&lt;Boolean&gt;. Otherwise, it worked. Thanks!","body":"You cannot use &#39;!&#39; with a method returning Mono&lt;Boolean&gt;. Otherwise, it worked. Thanks!"}],"tags":[],"owner":{"account_id":264830,"reputation":70811,"user_id":551406,"accept_rate":95,"display_name":"Michael Berry"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1615758797,"creation_date":1615756451,"answer_id":66629623,"question_id":66629572,"body_markdown":"It&#39;s probably easiest to create a `Flux` from your `List` then use `filterWhen()` on that:\r\n\r\n`Flux.fromIterable(ids).filterWhen(id -&gt; !checkIfIdExists(id)).collectList()`\r\n\r\n(Note this will of course give you a `Mono&lt;List&lt;String&gt;&gt;` rather than a `List&lt;String&gt;`, as since your filter is reactive, the final result will be reative also. If you&#39;re not working reactively but just using a reactive library, you can just call `block()` to get the actual result.)","title":"How to filter a list using a function which returns Mono&lt;Boolean&gt; in Java?","body":"<p>It's probably easiest to create a <code>Flux</code> from your <code>List</code> then use <code>filterWhen()</code> on that:</p>\n<p><code>Flux.fromIterable(ids).filterWhen(id -&gt; !checkIfIdExists(id)).collectList()</code></p>\n<p>(Note this will of course give you a <code>Mono&lt;List&lt;String&gt;&gt;</code> rather than a <code>List&lt;String&gt;</code>, as since your filter is reactive, the final result will be reative also. If you're not working reactively but just using a reactive library, you can just call <code>block()</code> to get the actual result.)</p>\n"},{"tags":[],"owner":{"account_id":9449505,"reputation":41,"user_id":7026945,"display_name":"Rume7"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691499935,"creation_date":1691499935,"answer_id":76859867,"question_id":66629572,"body_markdown":"I will implement it using Flux:\r\n \r\n    List&lt;String&gt; ids = new ArrayList&lt;&gt;(List.of(&quot;q1&quot;, &quot;q2&quot;, &quot;q3&quot;));\r\n\r\n    public Mono&lt;Boolean&gt; checkIfIdExists(String id)\r\n    {\r\n        return Flux.fromStream(ids.stream())\r\n                   .filter(anId -&gt; anId.equals(id))\r\n                   .hasElements();\r\n    }\r\n","title":"How to filter a list using a function which returns Mono&lt;Boolean&gt; in Java?","body":"<p>I will implement it using Flux:</p>\n<pre><code>List&lt;String&gt; ids = new ArrayList&lt;&gt;(List.of(&quot;q1&quot;, &quot;q2&quot;, &quot;q3&quot;));\n\npublic Mono&lt;Boolean&gt; checkIfIdExists(String id)\n{\n    return Flux.fromStream(ids.stream())\n               .filter(anId -&gt; anId.equals(id))\n               .hasElements();\n}\n</code></pre>\n"}],"owner":{"account_id":13048203,"reputation":113,"user_id":9429422,"display_name":"Anmol Garg"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4576,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":66629623,"answer_count":2,"score":4,"last_activity_date":1691499935,"creation_date":1615756063,"question_id":66629572,"body_markdown":"I have a list of String.\r\n\r\nFor example:\r\n\r\n    List&lt;String&gt; ids = new ArrayList&lt;&gt;(List.of(&quot;q1&quot;, &quot;q2&quot;, &quot;q3&quot;));\r\n\r\nI want to filter this list using a function that returns `Mono&lt;Boolean&gt;`. How do I do that?\r\n\r\nfunction:\r\n\r\n    public Mono&lt;Boolean&gt; checkIfIdExists(String id)\r\n    {\r\n      //External call\r\n    }","title":"How to filter a list using a function which returns Mono&lt;Boolean&gt; in Java?","body":"<p>I have a list of String.</p>\n<p>For example:</p>\n<pre><code>List&lt;String&gt; ids = new ArrayList&lt;&gt;(List.of(&quot;q1&quot;, &quot;q2&quot;, &quot;q3&quot;));\n</code></pre>\n<p>I want to filter this list using a function that returns <code>Mono&lt;Boolean&gt;</code>. How do I do that?</p>\n<p>function:</p>\n<pre><code>public Mono&lt;Boolean&gt; checkIfIdExists(String id)\n{\n  //External call\n}\n</code></pre>\n"},{"tags":["java","oracle","spring-boot","spring-data-jpa","dynamic-view"],"comments":[{"owner":{"account_id":3303062,"reputation":6616,"user_id":2778710,"display_name":"astentx"},"score":0,"creation_date":1691497288,"post_id":76858944,"comment_id":135497059,"body_markdown":"Splitting the same base table into chunks via view do not improve any read performance. It will be at best not slower than base table.","body":"Splitting the same base table into chunks via view do not improve any read performance. It will be at best not slower than base table."},{"owner":{"account_id":29109272,"reputation":1,"user_id":22299385,"display_name":"user22299385"},"score":0,"creation_date":1691498449,"post_id":76858944,"comment_id":135497342,"body_markdown":"consider like base table will have 50 + columns but view will have 2 to 5 columns from that base table as using select query","body":"consider like base table will have 50 + columns but view will have 2 to 5 columns from that base table as using select query"},{"owner":{"account_id":3303062,"reputation":6616,"user_id":2778710,"display_name":"astentx"},"score":0,"creation_date":1691499010,"post_id":76858944,"comment_id":135497482,"body_markdown":"But you wrote: *with the same column to fetch records like one view brings(1-30000) **records***","body":"But you wrote: <i>with the same column to fetch records like one view brings(1-30000) <b>records</i></b>"},{"owner":{"account_id":29109272,"reputation":1,"user_id":22299385,"display_name":"user22299385"},"score":0,"creation_date":1691499240,"post_id":76858944,"comment_id":135497532,"body_markdown":"yeah i was trying to say all views will have same column(2 to 5 columns) from that base table. only view name will be differ.","body":"yeah i was trying to say all views will have same column(2 to 5 columns) from that base table. only view name will be differ."}],"owner":{"account_id":29109272,"reputation":1,"user_id":22299385,"display_name":"user22299385"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691499881,"creation_date":1691492943,"question_id":76858944,"body_markdown":"For performance improvement going with the approach of creating multiple views in oracle(for example 5 views with same column). How to fetch these view data dynamically in spring boot application or How to implement the logic in spring boot to fetch these multiple view data dynamically at a single entity class.\r\n\r\n\r\nWhy this approach: the base table contains millions of records &amp; this takes times to fetch the records and to publish, So we created multiple views for the base table. All views will have same column name(for example: It will have totally 2 to 5 column) to fetch records like one view brings(1-30000) records and so on.\r\n\r\nWith single entity &amp; repository class looks like not possible. Any suggestions will be helpful.\r\n\r\nThanks in advance","title":"How to implement dynamic view(Oracle) logic at runtime in spring boot application","body":"<p>For performance improvement going with the approach of creating multiple views in oracle(for example 5 views with same column). How to fetch these view data dynamically in spring boot application or How to implement the logic in spring boot to fetch these multiple view data dynamically at a single entity class.</p>\n<p>Why this approach: the base table contains millions of records &amp; this takes times to fetch the records and to publish, So we created multiple views for the base table. All views will have same column name(for example: It will have totally 2 to 5 column) to fetch records like one view brings(1-30000) records and so on.</p>\n<p>With single entity &amp; repository class looks like not possible. Any suggestions will be helpful.</p>\n<p>Thanks in advance</p>\n"},{"tags":["java","spring"],"owner":{"account_id":12719650,"reputation":343,"user_id":9240529,"display_name":"Mister Lamp"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691499849,"creation_date":1691499849,"question_id":76859856,"body_markdown":"I have to compile a spring boot application with java version 11. At the moment v17 is installed on my machine.\r\n\r\nI tried all I could find so far on the internet to set my eclipse IDE to compile with version 11.\r\n\r\nIn my pom.xml the following is configured.\r\n\r\n    &lt;properties&gt;\r\n\t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\t\t&lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n\t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n\t\t&lt;site-plugin.version&gt;3.7.1&lt;/site-plugin.version&gt;\r\n\t\t&lt;project-info-reports-plugin.version&gt;3.0.0&lt;/project-info-reports-plugin.version&gt;\r\n\t&lt;/properties&gt;\r\nIf I right click my project -&gt; Properties -&gt; Java Compiler -&gt; Version 11 is selected.\r\nOn Java Facets Java with version 11 is selected.\r\n\r\nOn the target system I always receive the following error when I try to start the app.\r\n\r\n&gt; Error: LinkageError occurred while loading main class org.springframework.boot.loader.WarLauncher\r\n\r\nand\r\n\r\n&gt; java.lang.UnsupportedClassVersionError: org/springframework/boot/loader/WarLauncher has been compiled by a more recent version of the Java Runtime (class file version 61.0), this version of the Java Runtime only recognizes class file versions up to 55.0\r\n\r\nWhat am I missing here?","title":"Spring Boot Eclipse compiling with latest version but I need it in version 11 - not working","body":"<p>I have to compile a spring boot application with java version 11. At the moment v17 is installed on my machine.</p>\n<p>I tried all I could find so far on the internet to set my eclipse IDE to compile with version 11.</p>\n<p>In my pom.xml the following is configured.</p>\n<pre><code>&lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n    &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;site-plugin.version&gt;3.7.1&lt;/site-plugin.version&gt;\n    &lt;project-info-reports-plugin.version&gt;3.0.0&lt;/project-info-reports-plugin.version&gt;\n&lt;/properties&gt;\n</code></pre>\n<p>If I right click my project -&gt; Properties -&gt; Java Compiler -&gt; Version 11 is selected.\nOn Java Facets Java with version 11 is selected.</p>\n<p>On the target system I always receive the following error when I try to start the app.</p>\n<blockquote>\n<p>Error: LinkageError occurred while loading main class org.springframework.boot.loader.WarLauncher</p>\n</blockquote>\n<p>and</p>\n<blockquote>\n<p>java.lang.UnsupportedClassVersionError: org/springframework/boot/loader/WarLauncher has been compiled by a more recent version of the Java Runtime (class file version 61.0), this version of the Java Runtime only recognizes class file versions up to 55.0</p>\n</blockquote>\n<p>What am I missing here?</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","resttemplate"],"answers":[{"tags":[],"owner":{"account_id":14879218,"reputation":383,"user_id":10744429,"display_name":"WLefever"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691499720,"creation_date":1691499720,"answer_id":76859840,"question_id":76857636,"body_markdown":"You can indicate which content type you want to process by adding an `Accept` header:\r\n\r\n```\r\nheaders.set(&quot;Accept&quot;, &quot;application/json&quot;);\r\n```\r\n\r\nPS: When executing the request I noticed that the request isn&#39;t always successful, so you will need to handle that.","title":"Incorrect Content-Type Received in Response Headers When Using Spring Boot RestTemplate","body":"<p>You can indicate which content type you want to process by adding an <code>Accept</code> header:</p>\n<pre><code>headers.set(&quot;Accept&quot;, &quot;application/json&quot;);\n</code></pre>\n<p>PS: When executing the request I noticed that the request isn't always successful, so you will need to handle that.</p>\n"}],"owner":{"account_id":4996271,"reputation":971,"user_id":4108345,"accept_rate":61,"display_name":"Harsh Kanakhara"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":138,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1691499720,"creation_date":1691482252,"question_id":76857636,"body_markdown":"In the provided code snippet, I&#39;m making an HTTP GET request using Spring Boot&#39;s RestTemplate. The intention is to execute specific business logic based on the Content-Type of the response received from the URL. However, for the URL https://worldtimeapi.org/api/timezone/Europe/London, I&#39;ve encountered a disparity in the Content-Type value retrieved from the response compared to what&#39;s observed when the same request is performed using tools like Postman or curl.\r\n\r\nHere&#39;s the code I&#39;m using to make the request:\r\n\r\n    String url = &quot;https://worldtimeapi.org/api/timezone/Europe/London&quot;;\r\n    HttpHeaders headers = new HttpHeaders();\r\n    headers.set(&quot;User-Agent&quot;, &quot;Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/112.0.0.0 Safari/537.36&quot;);\r\n    HttpEntity&lt;String&gt; entity = new HttpEntity&lt;&gt;(headers);\r\n    ResponseEntity&lt;String&gt; response = restTemplate.exchange(url, HttpMethod.GET, entity, String.class);\r\n    \r\n    if (MediaType.APPLICATION_JSON_UTF8.equals(response.getHeaders().getContentType())\r\n    \t\t|| MediaType.APPLICATION_JSON.equals(response.getHeaders().getContentType())) {\r\n    \t// Execute logic for JSON response\r\n    } else {\r\n    \t// Execute logic for other response types\r\n    }\r\n\r\nMy query pertains to resolving this discrepancy and ensuring that the Content-Type header received through RestTemplate is consistent with the headers obtained through tools like Postman or curl. It&#39;s noteworthy that the URL provided for the request is subject to dynamic input from end-users, thereby indicating that the response body and Content-Type could vary.\r\n\r\nI&#39;m keen on understanding how I can rectify this situation and consistently obtain the correct Content-Type through RestTemplate. The solution I&#39;m seeking should accommodate the dynamic nature of the URL and adapt to potential changes in response content and Content-Type.\r\n\r\nAny help would be appreciated.\r\n","title":"Incorrect Content-Type Received in Response Headers When Using Spring Boot RestTemplate","body":"<p>In the provided code snippet, I'm making an HTTP GET request using Spring Boot's RestTemplate. The intention is to execute specific business logic based on the Content-Type of the response received from the URL. However, for the URL <a href=\"https://worldtimeapi.org/api/timezone/Europe/London\" rel=\"nofollow noreferrer\">https://worldtimeapi.org/api/timezone/Europe/London</a>, I've encountered a disparity in the Content-Type value retrieved from the response compared to what's observed when the same request is performed using tools like Postman or curl.</p>\n<p>Here's the code I'm using to make the request:</p>\n<pre><code>String url = &quot;https://worldtimeapi.org/api/timezone/Europe/London&quot;;\nHttpHeaders headers = new HttpHeaders();\nheaders.set(&quot;User-Agent&quot;, &quot;Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/112.0.0.0 Safari/537.36&quot;);\nHttpEntity&lt;String&gt; entity = new HttpEntity&lt;&gt;(headers);\nResponseEntity&lt;String&gt; response = restTemplate.exchange(url, HttpMethod.GET, entity, String.class);\n\nif (MediaType.APPLICATION_JSON_UTF8.equals(response.getHeaders().getContentType())\n        || MediaType.APPLICATION_JSON.equals(response.getHeaders().getContentType())) {\n    // Execute logic for JSON response\n} else {\n    // Execute logic for other response types\n}\n</code></pre>\n<p>My query pertains to resolving this discrepancy and ensuring that the Content-Type header received through RestTemplate is consistent with the headers obtained through tools like Postman or curl. It's noteworthy that the URL provided for the request is subject to dynamic input from end-users, thereby indicating that the response body and Content-Type could vary.</p>\n<p>I'm keen on understanding how I can rectify this situation and consistently obtain the correct Content-Type through RestTemplate. The solution I'm seeking should accommodate the dynamic nature of the URL and adapt to potential changes in response content and Content-Type.</p>\n<p>Any help would be appreciated.</p>\n"},{"tags":["java","android","android-fragments","google-places-api"],"comments":[{"owner":{"account_id":17597757,"reputation":1107,"user_id":12768366,"display_name":"Md Hanif"},"score":0,"creation_date":1590396053,"post_id":61998629,"comment_id":109653902,"body_markdown":"Does this answer your question:- https://stackoverflow.com/questions/19874882/android-view-inflateexception-binary-xml-file-error-inflating-class-fragment","body":"Does this answer your question:- <a href=\"https://stackoverflow.com/questions/19874882/android-view-inflateexception-binary-xml-file-error-inflating-class-fragment\" title=\"android view inflateexception binary xml file error inflating class fragment\">stackoverflow.com/questions/19874882/&hellip;</a>"},{"owner":{"account_id":10599094,"reputation":23,"user_id":7806581,"display_name":"Ferdy Ferdy"},"score":0,"creation_date":1590396597,"post_id":61998629,"comment_id":109654146,"body_markdown":"try change your android:name to class refer to this https://stackoverflow.com/a/19952291/7806581","body":"try change your android:name to class refer to this <a href=\"https://stackoverflow.com/a/19952291/7806581\">stackoverflow.com/a/19952291/7806581</a>"},{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":0,"creation_date":1594466011,"post_id":61998629,"comment_id":111139539,"body_markdown":"`ClassNotFoundException: android.fragment.app.FragmentContainerView`  You have a typo in that layout tag. You&#39;re missing the `x` in `androidx`: `&lt;androidx.fragment.app.FragmentContainerView`. You have it correct in the first tag.","body":"<code>ClassNotFoundException: android.fragment.app.FragmentContainerView</code>  You have a typo in that layout tag. You&#39;re missing the <code>x</code> in <code>androidx</code>: <code>&lt;androidx.fragment.app.FragmentContainerView</code>. You have it correct in the first tag."},{"owner":{"account_id":7992266,"reputation":247,"user_id":6029786,"display_name":"Gauri Gadkari"},"score":1,"creation_date":1601675031,"post_id":61998629,"comment_id":113489638,"body_markdown":"@riizwaan were you able to resolve this? getting the same error any insights would be helpful","body":"@riizwaan were you able to resolve this? getting the same error any insights would be helpful"},{"owner":{"account_id":20013048,"reputation":95,"user_id":14669693,"display_name":"MadhanMohan"},"score":1,"creation_date":1620120332,"post_id":61998629,"comment_id":119100320,"body_markdown":"Did you find an answer for that error? I have the same problem which you had","body":"Did you find an answer for that error? I have the same problem which you had"}],"answers":[{"comments":[{"owner":{"account_id":3482475,"reputation":27250,"user_id":2914140,"accept_rate":69,"display_name":"CoolMind"},"score":6,"creation_date":1606682439,"post_id":61998780,"comment_id":115028295,"body_markdown":"For Kotlin: `implementation &#39;androidx.fragment:fragment-ktx:1.2.5&#39;`.","body":"For Kotlin: <code>implementation &#39;androidx.fragment:fragment-ktx:1.2.5&#39;</code>."},{"owner":{"account_id":311307,"reputation":11224,"user_id":624814,"accept_rate":79,"display_name":"SMBiggs"},"score":4,"creation_date":1630937092,"post_id":61998780,"comment_id":122083701,"body_markdown":"Why does this work?  You&#39;d think Fragments are very much a part of the standard Android libs.","body":"Why does this work?  You&#39;d think Fragments are very much a part of the standard Android libs."},{"owner":{"account_id":134964,"reputation":22313,"user_id":337455,"accept_rate":80,"display_name":"Jeffrey Blattman"},"score":0,"creation_date":1691166869,"post_id":61998780,"comment_id":135460060,"body_markdown":"@SMBiggs no, Android is moving to a model where SDK classes are provided in (static) libraries, not by the platform they run on. So there&#39;s an `android.app.Fragment` that&#39;s deprecated, and an `androidx.fragment.app.Fragment` that you should use in its place.","body":"@SMBiggs no, Android is moving to a model where SDK classes are provided in (static) libraries, not by the platform they run on. So there&#39;s an <code>android.app.Fragment</code> that&#39;s deprecated, and an <code>androidx.fragment.app.Fragment</code> that you should use in its place."}],"tags":[],"owner":{"account_id":12476573,"reputation":5021,"user_id":9082728,"display_name":"C&#244;ng Hi"},"comment_count":3,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1663601049,"creation_date":1590396119,"answer_id":61998780,"question_id":61998629,"body_markdown":"You should implement new `androidx.fragment` dependencies to use `FragmentContainerView`. It is already added since version 1.2.0. You can check [here][1]\r\n\r\n```\r\nimplementation &quot;androidx.fragment:fragment:1.2.5&quot;\r\n```\r\n\r\n\r\n[1]: https://developer.android.com/jetpack/androidx/releases/fragment","title":"Error inflating class android.fragment.app.FragmentContainerView, can someone tell me what I&#39;m missing","body":"<p>You should implement new <code>androidx.fragment</code> dependencies to use <code>FragmentContainerView</code>. It is already added since version 1.2.0. You can check <a href=\"https://developer.android.com/jetpack/androidx/releases/fragment\" rel=\"nofollow noreferrer\">here</a></p>\n<pre><code>implementation &quot;androidx.fragment:fragment:1.2.5&quot;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7941961,"reputation":1508,"user_id":5995648,"display_name":"Arbaz.in"},"score":1,"creation_date":1622701561,"post_id":62600823,"comment_id":119868204,"body_markdown":"Thanks,\n In my case I set different path for  reference","body":"Thanks,  In my case I set different path for  reference"},{"owner":{"account_id":109994,"reputation":15573,"user_id":291240,"accept_rate":70,"display_name":"William Hu"},"score":1,"creation_date":1634803505,"post_id":62600823,"comment_id":123125405,"body_markdown":"This should be the correct answer, for me the `startDestination` id is invalid.","body":"This should be the correct answer, for me the <code>startDestination</code> id is invalid."},{"owner":{"account_id":213874,"reputation":22213,"user_id":467509,"accept_rate":33,"display_name":"georgiecasey"},"score":1,"creation_date":1643603020,"post_id":62600823,"comment_id":125375469,"body_markdown":"Thanks. What a cryptic error message. If I didn&#39;t find your answer, I wouldn&#39;t have a clue it&#39;s related to nav component.","body":"Thanks. What a cryptic error message. If I didn&#39;t find your answer, I wouldn&#39;t have a clue it&#39;s related to nav component."},{"owner":{"account_id":4868086,"reputation":3099,"user_id":3925626,"display_name":"prisar"},"score":0,"creation_date":1643994441,"post_id":62600823,"comment_id":125495484,"body_markdown":"I had a typo in my `startDestination`. After correcting","body":"I had a typo in my <code>startDestination</code>. After correcting"},{"owner":{"account_id":21625068,"reputation":307,"user_id":15949505,"display_name":"Gaurav"},"score":0,"creation_date":1647773823,"post_id":62600823,"comment_id":126450934,"body_markdown":"I changed the packages for fragments but didn&#39;t notice that they didn&#39;t changed in navigation.xml file","body":"I changed the packages for fragments but didn&#39;t notice that they didn&#39;t changed in navigation.xml file"}],"tags":[],"owner":{"account_id":6122320,"reputation":1028,"user_id":4775490,"display_name":"imansdn"},"comment_count":5,"down_vote_count":0,"up_vote_count":40,"is_accepted":false,"score":40,"last_activity_date":1593196103,"creation_date":1593196103,"answer_id":62600823,"question_id":61998629,"body_markdown":"just try to define your startDestination in your navigation xml !","title":"Error inflating class android.fragment.app.FragmentContainerView, can someone tell me what I&#39;m missing","body":"<p>just try to define your startDestination in your navigation xml !</p>\n"},{"tags":[],"owner":{"account_id":9102688,"reputation":3351,"user_id":7369357,"accept_rate":76,"display_name":"nicolas asinovich"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1612765728,"creation_date":1612765728,"answer_id":66096826,"question_id":61998629,"body_markdown":"Probably after **Refactor-&gt;Remove unused resources** you can lost **id** from your `androidx.fragment.app.FragmentContainerView` - bring it back","title":"Error inflating class android.fragment.app.FragmentContainerView, can someone tell me what I&#39;m missing","body":"<p>Probably after <strong>Refactor-&gt;Remove unused resources</strong> you can lost <strong>id</strong> from your <code>androidx.fragment.app.FragmentContainerView</code> - bring it back</p>\n"},{"tags":[],"owner":{"account_id":14376786,"reputation":1552,"user_id":10385054,"display_name":"Rahul Khatri"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1624967503,"creation_date":1624967503,"answer_id":68178165,"question_id":61998629,"body_markdown":"If it is Due to Proguard Then add few lines\r\n\r\nIn proguard-rules.pro file\r\n\r\n\r\n```\r\n....\r\n# for FragmentContainerView error\r\n-keepnames class androidx.navigation.fragment.NavHostFragment\r\n-keep class * extends androidx.fragment.app.Fragment{}\r\n```","title":"Error inflating class android.fragment.app.FragmentContainerView, can someone tell me what I&#39;m missing","body":"<p>If it is Due to Proguard Then add few lines</p>\n<p>In proguard-rules.pro file</p>\n<pre><code>....\n# for FragmentContainerView error\n-keepnames class androidx.navigation.fragment.NavHostFragment\n-keep class * extends androidx.fragment.app.Fragment{}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11170080,"reputation":1139,"user_id":8663316,"display_name":"Faizan Haidar Khan"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1626620853,"creation_date":1626620853,"answer_id":68430382,"question_id":61998629,"body_markdown":"In my case, I had a Model which was used as arguments but I had not implemented Serializable and Parcelable implementaion.","title":"Error inflating class android.fragment.app.FragmentContainerView, can someone tell me what I&#39;m missing","body":"<p>In my case, I had a Model which was used as arguments but I had not implemented Serializable and Parcelable implementaion.</p>\n"},{"tags":[],"owner":{"account_id":17180029,"reputation":268,"user_id":12435588,"display_name":"Asghar Hosseini"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1629009876,"creation_date":1629009876,"answer_id":68789297,"question_id":61998629,"body_markdown":"This problem was created for me as well. The reason was two mistakes.\r\n\r\n1.I did not add startDestination in nav graph .\r\n\r\n2.I did not add @AndroidEntryPoint annotation  in MainActivitey .","title":"Error inflating class android.fragment.app.FragmentContainerView, can someone tell me what I&#39;m missing","body":"<p>This problem was created for me as well. The reason was two mistakes.</p>\n<p>1.I did not add startDestination in nav graph .</p>\n<p>2.I did not add @AndroidEntryPoint annotation  in MainActivitey .</p>\n"},{"tags":[],"owner":{"account_id":13654747,"reputation":38532,"user_id":9851608,"display_name":"Zain"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1630009018,"creation_date":1630009018,"answer_id":68944836,"question_id":61998629,"body_markdown":"For me it was a typo within one of the fragments the `navGraph`, in the class path of the `android:name` attribute.. Adding a wrong path for the fragment class doesn&#39;t provide a compile time error, instead it raises `android.view.InflateException...Error inflating class android.fragment.app.FragmentContainerView`\r\n\r\nSo, make sure to have a correct packaging path for your fragments in `android:name`\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;navigation xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:id=&quot;@+id/nav_graph.xml&quot;\r\n    app:startDestination=&quot;@id/mainFragment&quot;&gt;\r\n\r\n    &lt;fragment\r\n        android:id=&quot;@+id/mainFragment&quot;\r\n        android:name=&quot;com.example.android....MainFragment&quot;  // &lt;&lt;&lt;&lt; This must be a correct path \r\n        android:label=&quot;main_fragment&quot;\r\n    &lt;/fragment&gt;\r\n\r\n&lt;/navigation&gt;\r\n```","title":"Error inflating class android.fragment.app.FragmentContainerView, can someone tell me what I&#39;m missing","body":"<p>For me it was a typo within one of the fragments the <code>navGraph</code>, in the class path of the <code>android:name</code> attribute.. Adding a wrong path for the fragment class doesn't provide a compile time error, instead it raises <code>android.view.InflateException...Error inflating class android.fragment.app.FragmentContainerView</code></p>\n<p>So, make sure to have a correct packaging path for your fragments in <code>android:name</code></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;navigation xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:id=&quot;@+id/nav_graph.xml&quot;\n    app:startDestination=&quot;@id/mainFragment&quot;&gt;\n\n    &lt;fragment\n        android:id=&quot;@+id/mainFragment&quot;\n        android:name=&quot;com.example.android....MainFragment&quot;  // &lt;&lt;&lt;&lt; This must be a correct path \n        android:label=&quot;main_fragment&quot;\n    &lt;/fragment&gt;\n\n&lt;/navigation&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":194308,"reputation":66745,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"score":1,"creation_date":1635031780,"post_id":69692597,"comment_id":123187340,"body_markdown":"While this link may answer the question, it is better to include the essential parts of the answer here and provide the link for reference.  Link-only answers can become invalid if the linked page changes. - [From Review](/review/late-answers/30160133)","body":"While this link may answer the question, it is better to include the essential parts of the answer here and provide the link for reference.  Link-only answers can become invalid if the linked page changes. - <a href=\"/review/late-answers/30160133\">From Review</a>"}],"tags":[],"owner":{"account_id":21567483,"reputation":11,"user_id":15900955,"display_name":"Erik Fors"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635029076,"creation_date":1635029076,"answer_id":69692597,"question_id":61998629,"body_markdown":"Your activity must be a child of FragmentActivity to use androidx.fragment.app.FragmentContainerView either you extend the FragmentActivity or the AppCompatActivity which is a child FragmentActivity class. It is recommended to extend the AppCompatActivity.\r\n\r\nsee: https://www.tutorialguruji.com/android/trying-to-use-navhostfragment-and-im-getting-an-error-error-inflating-class-androidx-fragment-app-fragmentcontainerview/","title":"Error inflating class android.fragment.app.FragmentContainerView, can someone tell me what I&#39;m missing","body":"<p>Your activity must be a child of FragmentActivity to use androidx.fragment.app.FragmentContainerView either you extend the FragmentActivity or the AppCompatActivity which is a child FragmentActivity class. It is recommended to extend the AppCompatActivity.</p>\n<p>see: <a href=\"https://www.tutorialguruji.com/android/trying-to-use-navhostfragment-and-im-getting-an-error-error-inflating-class-androidx-fragment-app-fragmentcontainerview/\" rel=\"nofollow noreferrer\">https://www.tutorialguruji.com/android/trying-to-use-navhostfragment-and-im-getting-an-error-error-inflating-class-androidx-fragment-app-fragmentcontainerview/</a></p>\n"},{"comments":[{"owner":{"account_id":4646459,"reputation":1136,"user_id":3764602,"display_name":"mmdreza baqalpour"},"score":0,"creation_date":1641314488,"post_id":70136780,"comment_id":124770927,"body_markdown":"This error comes on release so this is working one","body":"This error comes on release so this is working one"}],"tags":[],"owner":{"account_id":19629209,"reputation":53,"user_id":14367907,"display_name":"Gaurav mishra"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1638111717,"creation_date":1638031230,"answer_id":70136780,"question_id":61998629,"body_markdown":"This error will only occur after you have added ProGuard &amp; R8 to your project. To fix it, add the following two lines in `proguard-rule.pro`:\r\n\r\n    -keepnames class androidx.navigation.fragment.NavHostFragment\r\n    -keep class * extends androidx.fragment.app.Fragment{}","title":"Error inflating class android.fragment.app.FragmentContainerView, can someone tell me what I&#39;m missing","body":"<p>This error will only occur after you have added ProGuard &amp; R8 to your project. To fix it, add the following two lines in <code>proguard-rule.pro</code>:</p>\n<pre><code>-keepnames class androidx.navigation.fragment.NavHostFragment\n-keep class * extends androidx.fragment.app.Fragment{}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10311711,"reputation":51,"user_id":7607324,"display_name":"Adam Giergun"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1648241620,"creation_date":1648241620,"answer_id":71622990,"question_id":61998629,"body_markdown":"In my case, despite the same error, reason was different.\r\nHowever this info about adding some rules to proguard-rules.pro pointed me into the right direction. This, and some other clues in error log about problems with argument in navigation XML file.\r\nEventually I found that it was problem with using my own classes in argument. And I don&#39;t mean the class of argument, but the fact that this class also used  some of my other classes. And it was enough to add rules for each of these other classes:\r\n```\r\n-keepnames class &lt;MyClass&gt;\r\n...\r\n```","title":"Error inflating class android.fragment.app.FragmentContainerView, can someone tell me what I&#39;m missing","body":"<p>In my case, despite the same error, reason was different.\nHowever this info about adding some rules to proguard-rules.pro pointed me into the right direction. This, and some other clues in error log about problems with argument in navigation XML file.\nEventually I found that it was problem with using my own classes in argument. And I don't mean the class of argument, but the fact that this class also used  some of my other classes. And it was enough to add rules for each of these other classes:</p>\n<pre><code>-keepnames class &lt;MyClass&gt;\n...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18702916,"reputation":389,"user_id":13634739,"display_name":"StackOverflower"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651324708,"creation_date":1651324708,"answer_id":72068856,"question_id":61998629,"body_markdown":"If you have done all the solutions and still the problem stands maybe you should check if your `fragment constructor` is empty.","title":"Error inflating class android.fragment.app.FragmentContainerView, can someone tell me what I&#39;m missing","body":"<p>If you have done all the solutions and still the problem stands maybe you should check if your <code>fragment constructor</code> is empty.</p>\n"},{"tags":[],"owner":{"account_id":11179490,"reputation":51,"user_id":14762516,"display_name":"Savvasenok"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1673650134,"creation_date":1673650134,"answer_id":75115142,"question_id":61998629,"body_markdown":"In my case I looked deeper inside my stacktrace and found this line: ```Caused by: java.lang.IllegalStateException: FragmentContainerView must have an android:id to add Fragment MyFragment```. Giving it an id and specifying `tools:layout` fixed problem","title":"Error inflating class android.fragment.app.FragmentContainerView, can someone tell me what I&#39;m missing","body":"<p>In my case I looked deeper inside my stacktrace and found this line: <code>Caused by: java.lang.IllegalStateException: FragmentContainerView must have an android:id to add Fragment MyFragment</code>. Giving it an id and specifying <code>tools:layout</code> fixed problem</p>\n"},{"tags":[],"owner":{"account_id":19882630,"reputation":194,"user_id":14566306,"display_name":"TexD"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682442849,"creation_date":1682442849,"answer_id":76103809,"question_id":61998629,"body_markdown":"1. First add `fragment` dependency- [latest version][1]\r\n\r\n``\r\nimplementation &quot;androidx.fragment:fragment:1.5.7&quot;\r\n``\r\n\r\n2. If you getting error in `xml`. Click on that and scroll down click on **&quot;Do not warn&quot;** your view will be **visible**.\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://developer.android.com/jetpack/androidx/releases/fragment#declaring_dependencies\r\n  [2]: https://i.stack.imgur.com/w7dfw.png","title":"Error inflating class android.fragment.app.FragmentContainerView, can someone tell me what I&#39;m missing","body":"<ol>\n<li>First add <code>fragment</code> dependency- <a href=\"https://developer.android.com/jetpack/androidx/releases/fragment#declaring_dependencies\" rel=\"nofollow noreferrer\">latest version</a></li>\n</ol>\n<p><code>implementation &quot;androidx.fragment:fragment:1.5.7&quot;</code></p>\n<ol start=\"2\">\n<li>If you getting error in <code>xml</code>. Click on that and scroll down click on <strong>&quot;Do not warn&quot;</strong> your view will be <strong>visible</strong>.\n<a href=\"https://i.stack.imgur.com/w7dfw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/w7dfw.png\" alt=\"enter image description here\" /></a></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":4526683,"reputation":2746,"user_id":3678261,"display_name":"Manoj Behera"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689937756,"creation_date":1689937756,"answer_id":76737434,"question_id":61998629,"body_markdown":"    if still this issue not resolved.\r\n\r\n    Please check if you your activity extending FragmentActivity or not.\r\n\r\n    suppose your activity is CustomerMapsActivity.\r\n\r\n    Need to check if CustomerMapsActivity extends FragmentActivity or not.\r\n    if CustomerMapsActivity extends BaseActivity, check BaseActivity should extends FragmentActivity.\r\n\r\n    To inflate this &quot;android.fragment.app.FragmentContainerView&quot; we need FragmentActivity","title":"Error inflating class android.fragment.app.FragmentContainerView, can someone tell me what I&#39;m missing","body":"<pre><code>if still this issue not resolved.\n\nPlease check if you your activity extending FragmentActivity or not.\n\nsuppose your activity is CustomerMapsActivity.\n\nNeed to check if CustomerMapsActivity extends FragmentActivity or not.\nif CustomerMapsActivity extends BaseActivity, check BaseActivity should extends FragmentActivity.\n\nTo inflate this &quot;android.fragment.app.FragmentContainerView&quot; we need FragmentActivity\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24095089,"reputation":56,"user_id":18067740,"display_name":"Devrim Catak"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1691499336,"creation_date":1691499336,"answer_id":76859785,"question_id":61998629,"body_markdown":"In my case the error was related to Serializable and Parcelable. To fix it, add the following two lines in proguard-rule.pro:\r\n\r\n    -keepnames class * extends android.os.Parcelable\r\n    -keepnames class * extends java.io.Serializable","title":"Error inflating class android.fragment.app.FragmentContainerView, can someone tell me what I&#39;m missing","body":"<p>In my case the error was related to Serializable and Parcelable. To fix it, add the following two lines in proguard-rule.pro:</p>\n<pre><code>-keepnames class * extends android.os.Parcelable\n-keepnames class * extends java.io.Serializable\n</code></pre>\n"}],"owner":{"account_id":17519397,"reputation":335,"user_id":12705779,"display_name":"riizwaan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38114,"favorite_count":0,"down_vote_count":1,"up_vote_count":30,"answer_count":15,"score":29,"last_activity_date":1691499336,"creation_date":1590395506,"question_id":61998629,"body_markdown":"I&#39;m working on getting the Google Place API to appear within a CardView.\r\n\r\nThe particular code I&#39;m looking at is from GitHub, seems to be working for everyone else but I don&#39;t understand why it&#39;s throwing me an error.\r\n\r\nThis is the error I am getting:\r\n\r\n```\r\nE/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.rizwanqureshi.kevstaxiscanterbury, PID: 6818\r\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.rizwanqureshi.kevstaxiscanterbury/com.rizwanqureshi.kevstaxiscanterbury.CustomerMapsActivity}: android.view.InflateException: Binary XML file line #50 in com.rizwanqureshi.kevstaxiscanterbury:layout/activity_customer_maps: Binary XML file line #50 in com.rizwanqureshi.kevstaxiscanterbury:layout/activity_customer_maps: Error inflating class android.fragment.app.FragmentContainerView\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3270)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3409)\r\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:83)\r\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2016)\r\n        at android.os.Handler.dispatchMessage(Handler.java:107)\r\n        at android.os.Looper.loop(Looper.java:214)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7356)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:930)\r\n     Caused by: android.view.InflateException: Binary XML file line #50 in com.rizwanqureshi.kevstaxiscanterbury:layout/activity_customer_maps: Binary XML file line #50 in com.rizwanqureshi.kevstaxiscanterbury:layout/activity_customer_maps: Error inflating class android.fragment.app.FragmentContainerView\r\n     Caused by: android.view.InflateException: Binary XML file line #50 in com.rizwanqureshi.kevstaxiscanterbury:layout/activity_customer_maps: Error inflating class android.fragment.app.FragmentContainerView\r\n     Caused by: java.lang.ClassNotFoundException: android.fragment.app.FragmentContainerView\r\n        at java.lang.Class.classForName(Native Method)\r\n        at java.lang.Class.forName(Class.java:454)\r\n        at android.view.LayoutInflater.createView(LayoutInflater.java:815)\r\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:1006)\r\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:961)\r\n        at android.view.LayoutInflater.rInflate(LayoutInflater.java:1123)\r\n        at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:1084)\r\n        at android.view.LayoutInflater.rInflate(LayoutInflater.java:1126)\r\n        at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:1084)\r\n        at android.view.LayoutInflater.rInflate(LayoutInflater.java:1126)\r\n        at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:1084)\r\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:682)\r\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:534)\r\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:481)\r\n        at com.android.internal.policy.PhoneWindow.setContentView(PhoneWindow.java:438)\r\n        at android.app.Activity.setContentView(Activity.java:3324)\r\n        at com.rizwanqureshi.kevstaxiscanterbury.CustomerMapsActivity.onCreate(CustomerMapsActivity.java:116)\r\n        at android.app.Activity.performCreate(Activity.java:7802)\r\n        at android.app.Activity.performCreate(Activity.java:7791)\r\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1299)\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3245)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3409)\r\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:83)\r\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2016)\r\n        at android.os.Handler.dispatchMessage(Handler.java:107)\r\n        at android.os.Looper.loop(Looper.java:214)\r\nE/AndroidRuntime:     at android.app.ActivityThread.main(ActivityThread.java:7356)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:930)\r\n     Caused by: java.lang.ClassNotFoundException: Didn&#39;t find class &quot;android.fragment.app.FragmentContainerView&quot; on path: DexPathList[[zip file &quot;/data/app/com.rizwanqureshi.kevstaxiscanterbury-Nkg-1mQCfbE8I1MoJKHQuA==/base.apk&quot;],nativeLibraryDirectories=[/data/app/com.rizwanqureshi.kevstaxiscanterbury-Nkg-1mQCfbE8I1MoJKHQuA==/lib/x86, /system/lib, /system/product/lib]]\r\n        at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:196)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:379)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:312)\r\n        \t... 32 more\r\n```\r\n\r\nThe main takeaway is that there is an Error inflating class android.fragment.app.FragmentContainerView and that the issue is at line 50 of the XML.\r\n\r\nThis is the XML:\r\n\r\n```\r\n&lt;FrameLayout\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.CustomerLogin&quot; &gt;\r\n\r\n\r\n    &lt;androidx.fragment.app.FragmentContainerView\r\n        android:id=&quot;@+id/map&quot;\r\n        android:name=&quot;com.google.android.gms.maps.SupportMapFragment&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;/&gt;\r\n\r\n    &lt;RelativeLayout\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;&gt;\r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:id=&quot;@+id/buttons&quot;&gt;\r\n            &lt;Button\r\n                android:layout_weight=&quot;1&quot;\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:id=&quot;@+id/logout&quot;\r\n                android:text=&quot;logout&quot;\r\n                tools:ignore=&quot;ButtonStyle&quot; /&gt;\r\n            &lt;Button\r\n                android:layout_weight=&quot;1&quot;\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:id=&quot;@+id/history&quot;\r\n                android:text=&quot;history&quot;\r\n                tools:ignore=&quot;ButtonStyle&quot; /&gt;\r\n            &lt;Button\r\n                android:layout_weight=&quot;1&quot;\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:id=&quot;@+id/settings&quot;\r\n                android:text=&quot;Settings&quot;\r\n                tools:ignore=&quot;ButtonStyle&quot; /&gt;\r\n        &lt;/LinearLayout&gt;\r\n\r\n        &lt;androidx.cardview.widget.CardView\r\n            android:layout_below=&quot;@+id/buttons&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_margin=&quot;20sp&quot;&gt;\r\n\r\n\r\n\r\n//***LINE 50 WHERE THE ERROR IS***\r\n\r\n\r\n\r\n            &lt;android.fragment.app.FragmentContainerView\r\n                android:id=&quot;@+id/place_autocomplete_fragment&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                tools:ignore=&quot;ExtraText&quot;&gt;\r\n                android:name=&quot;com.google.android.gms.location.places.ui.PlaceAutocompleteFragment&quot;\r\n            &lt;/android.fragment.app.FragmentContainerView&gt;\r\n        &lt;/androidx.cardview.widget.CardView&gt;\r\n    &lt;/RelativeLayout&gt;\r\n    \r\n    &lt;LinearLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        android:layout_gravity=&quot;bottom&quot;&gt;\r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:id=&quot;@+id/driverInfo&quot;\r\n            android:layout_gravity=&quot;bottom&quot;\r\n            android:orientation=&quot;horizontal&quot;\r\n            android:background=&quot;@android:color/white&quot;\r\n            android:visibility=&quot;gone&quot;&gt;\r\n            &lt;LinearLayout\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:orientation=&quot;vertical&quot;\r\n                android:paddingLeft=&quot;40sp&quot;&gt;\r\n            &lt;/LinearLayout&gt;\r\n        &lt;/LinearLayout&gt;\r\n        &lt;LinearLayout\r\n            android:background=&quot;@android:color/white&quot;\r\n            android:orientation=&quot;vertical&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;&gt;\r\n        &lt;/LinearLayout&gt;\r\n    &lt;/LinearLayout&gt;\r\n&lt;/FrameLayout&gt;\r\n```\r\nSo I guess there is something wrong with the FragmentContainerView? But i&#39;m not getting any errors in the code and nothing is coming up on Google.\r\n\r\n\r\nI feel like maybe something is outdated rather than outright incorrect but I haven&#39;t a clue.\r\n\r\nThanks for any input.","title":"Error inflating class android.fragment.app.FragmentContainerView, can someone tell me what I&#39;m missing","body":"<p>I'm working on getting the Google Place API to appear within a CardView.</p>\n\n<p>The particular code I'm looking at is from GitHub, seems to be working for everyone else but I don't understand why it's throwing me an error.</p>\n\n<p>This is the error I am getting:</p>\n\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.rizwanqureshi.kevstaxiscanterbury, PID: 6818\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.rizwanqureshi.kevstaxiscanterbury/com.rizwanqureshi.kevstaxiscanterbury.CustomerMapsActivity}: android.view.InflateException: Binary XML file line #50 in com.rizwanqureshi.kevstaxiscanterbury:layout/activity_customer_maps: Binary XML file line #50 in com.rizwanqureshi.kevstaxiscanterbury:layout/activity_customer_maps: Error inflating class android.fragment.app.FragmentContainerView\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3270)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3409)\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:83)\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2016)\n        at android.os.Handler.dispatchMessage(Handler.java:107)\n        at android.os.Looper.loop(Looper.java:214)\n        at android.app.ActivityThread.main(ActivityThread.java:7356)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:930)\n     Caused by: android.view.InflateException: Binary XML file line #50 in com.rizwanqureshi.kevstaxiscanterbury:layout/activity_customer_maps: Binary XML file line #50 in com.rizwanqureshi.kevstaxiscanterbury:layout/activity_customer_maps: Error inflating class android.fragment.app.FragmentContainerView\n     Caused by: android.view.InflateException: Binary XML file line #50 in com.rizwanqureshi.kevstaxiscanterbury:layout/activity_customer_maps: Error inflating class android.fragment.app.FragmentContainerView\n     Caused by: java.lang.ClassNotFoundException: android.fragment.app.FragmentContainerView\n        at java.lang.Class.classForName(Native Method)\n        at java.lang.Class.forName(Class.java:454)\n        at android.view.LayoutInflater.createView(LayoutInflater.java:815)\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:1006)\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:961)\n        at android.view.LayoutInflater.rInflate(LayoutInflater.java:1123)\n        at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:1084)\n        at android.view.LayoutInflater.rInflate(LayoutInflater.java:1126)\n        at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:1084)\n        at android.view.LayoutInflater.rInflate(LayoutInflater.java:1126)\n        at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:1084)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:682)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:534)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:481)\n        at com.android.internal.policy.PhoneWindow.setContentView(PhoneWindow.java:438)\n        at android.app.Activity.setContentView(Activity.java:3324)\n        at com.rizwanqureshi.kevstaxiscanterbury.CustomerMapsActivity.onCreate(CustomerMapsActivity.java:116)\n        at android.app.Activity.performCreate(Activity.java:7802)\n        at android.app.Activity.performCreate(Activity.java:7791)\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1299)\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3245)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3409)\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:83)\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2016)\n        at android.os.Handler.dispatchMessage(Handler.java:107)\n        at android.os.Looper.loop(Looper.java:214)\nE/AndroidRuntime:     at android.app.ActivityThread.main(ActivityThread.java:7356)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:930)\n     Caused by: java.lang.ClassNotFoundException: Didn't find class \"android.fragment.app.FragmentContainerView\" on path: DexPathList[[zip file \"/data/app/com.rizwanqureshi.kevstaxiscanterbury-Nkg-1mQCfbE8I1MoJKHQuA==/base.apk\"],nativeLibraryDirectories=[/data/app/com.rizwanqureshi.kevstaxiscanterbury-Nkg-1mQCfbE8I1MoJKHQuA==/lib/x86, /system/lib, /system/product/lib]]\n        at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:196)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:379)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:312)\n            ... 32 more\n</code></pre>\n\n<p>The main takeaway is that there is an Error inflating class android.fragment.app.FragmentContainerView and that the issue is at line 50 of the XML.</p>\n\n<p>This is the XML:</p>\n\n<pre><code>&lt;FrameLayout\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:context=\".CustomerLogin\" &gt;\n\n\n    &lt;androidx.fragment.app.FragmentContainerView\n        android:id=\"@+id/map\"\n        android:name=\"com.google.android.gms.maps.SupportMapFragment\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"/&gt;\n\n    &lt;RelativeLayout\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"&gt;\n        &lt;LinearLayout\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:id=\"@+id/buttons\"&gt;\n            &lt;Button\n                android:layout_weight=\"1\"\n                android:layout_width=\"0dp\"\n                android:layout_height=\"wrap_content\"\n                android:id=\"@+id/logout\"\n                android:text=\"logout\"\n                tools:ignore=\"ButtonStyle\" /&gt;\n            &lt;Button\n                android:layout_weight=\"1\"\n                android:layout_width=\"0dp\"\n                android:layout_height=\"wrap_content\"\n                android:id=\"@+id/history\"\n                android:text=\"history\"\n                tools:ignore=\"ButtonStyle\" /&gt;\n            &lt;Button\n                android:layout_weight=\"1\"\n                android:layout_width=\"0dp\"\n                android:layout_height=\"wrap_content\"\n                android:id=\"@+id/settings\"\n                android:text=\"Settings\"\n                tools:ignore=\"ButtonStyle\" /&gt;\n        &lt;/LinearLayout&gt;\n\n        &lt;androidx.cardview.widget.CardView\n            android:layout_below=\"@+id/buttons\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:layout_margin=\"20sp\"&gt;\n\n\n\n//***LINE 50 WHERE THE ERROR IS***\n\n\n\n            &lt;android.fragment.app.FragmentContainerView\n                android:id=\"@+id/place_autocomplete_fragment\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"match_parent\"\n                tools:ignore=\"ExtraText\"&gt;\n                android:name=\"com.google.android.gms.location.places.ui.PlaceAutocompleteFragment\"\n            &lt;/android.fragment.app.FragmentContainerView&gt;\n        &lt;/androidx.cardview.widget.CardView&gt;\n    &lt;/RelativeLayout&gt;\n\n    &lt;LinearLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:orientation=\"vertical\"\n        android:layout_gravity=\"bottom\"&gt;\n        &lt;LinearLayout\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:id=\"@+id/driverInfo\"\n            android:layout_gravity=\"bottom\"\n            android:orientation=\"horizontal\"\n            android:background=\"@android:color/white\"\n            android:visibility=\"gone\"&gt;\n            &lt;LinearLayout\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:orientation=\"vertical\"\n                android:paddingLeft=\"40sp\"&gt;\n            &lt;/LinearLayout&gt;\n        &lt;/LinearLayout&gt;\n        &lt;LinearLayout\n            android:background=\"@android:color/white\"\n            android:orientation=\"vertical\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"&gt;\n        &lt;/LinearLayout&gt;\n    &lt;/LinearLayout&gt;\n&lt;/FrameLayout&gt;\n</code></pre>\n\n<p>So I guess there is something wrong with the FragmentContainerView? But i'm not getting any errors in the code and nothing is coming up on Google.</p>\n\n<p>I feel like maybe something is outdated rather than outright incorrect but I haven't a clue.</p>\n\n<p>Thanks for any input.</p>\n"},{"tags":["java","android","bluetooth-lowenergy"],"comments":[{"owner":{"account_id":11064381,"reputation":1063,"user_id":8124605,"display_name":"Risto"},"score":0,"creation_date":1691511904,"post_id":76859739,"comment_id":135500520,"body_markdown":"Welcome to Stack Overflow. After studying your [incomplete source code](https://stackoverflow.com/help/minimal-reproducible-example) example, I think it is most likely that your application simply lacks the necessary rights to fulfil its function, or is there a good reason why you commented out the most important part and replaced it with a return?","body":"Welcome to Stack Overflow. After studying your <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">incomplete source code</a> example, I think it is most likely that your application simply lacks the necessary rights to fulfil its function, or is there a good reason why you commented out the most important part and replaced it with a return?"},{"owner":{"account_id":5131367,"reputation":10939,"user_id":4111447,"accept_rate":59,"display_name":"Tomer Shemesh"},"score":0,"creation_date":1691523884,"post_id":76859739,"comment_id":135502635,"body_markdown":"You will need to share a lot more infomration. What device are you trying to control over bluetooth? Can you provide the spec you are trying to follow? \n\nWithout this info it will be impossible to help.","body":"You will need to share a lot more infomration. What device are you trying to control over bluetooth? Can you provide the spec you are trying to follow?   Without this info it will be impossible to help."},{"owner":{"account_id":29184680,"reputation":1,"user_id":22358104,"display_name":"Hayjyo"},"score":0,"creation_date":1691555676,"post_id":76859739,"comment_id":135505846,"body_markdown":"trying to control portable battery via bluetooth .In the device setting we have an option called brightness ,that brightness want to change based on the code for that we are passing payload to the device and for getting the characterics in bytes format.","body":"trying to control portable battery via bluetooth .In the device setting we have an option called brightness ,that brightness want to change based on the code for that we are passing payload to the device and for getting the characterics in bytes format."}],"owner":{"account_id":29184680,"reputation":1,"user_id":22358104,"display_name":"Hayjyo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691499016,"creation_date":1691499016,"question_id":76859739,"body_markdown":"Trying to changing the brightness of the device but status we are getting as a success .\r\nBut device brightness is not responding.\r\n\r\nCan any one help on the issue\r\n\r\n```\r\n public void sendCommands(BluetoothGatt gatt) throws JSONException {\r\n\r\n        if (bluetoothGatt != null) {\r\n\r\n            List&lt;BluetoothGattService&gt; gattServices = bluetoothGatt.getServices();\r\n\r\n            if (2 == BluetoothProfile.STATE_CONNECTED) // BLE Is connected after provision as ghatt is connected.\r\n            {\r\n                if (ActivityCompat.checkSelfPermission(activity, Manifest.permission.BLUETOOTH_CONNECT) != PackageManager.PERMISSION_GRANTED) {\r\n                   \r\n                    return;\r\n                }\r\n                gatt.requestMtu(512);\r\n\r\n                for (int i = 0; i &lt; gattServices.size(); i++) {\r\n                    String serviceUUID = gattServices.get(i).getUuid().toString();\r\n                    if (serviceUUID.equalsIgnoreCase(SERVICE_GUID)) {\r\n                        List&lt;BluetoothGattCharacteristic&gt; gattCharacteristics = gattServices.get(i).getCharacteristics();\r\n                        for (BluetoothGattCharacteristic gattCharacteristic :\r\n                                gattCharacteristics) {\r\n                            final String uuid = gattCharacteristic.getUuid().toString();\r\n                            if (uuid.equalsIgnoreCase(TX_CHAR_GUID)) {\r\n                                 String jsonString = &quot;{&#39;i&#39;: 1, &#39;v&#39;: 1, &#39;t&#39;: 8, &#39;s&#39;: &#39;dbri&#39;, &#39;n&#39;: 70}&quot;;\r\n                                 \r\n                                byte[] payload = jsonString.getBytes();\r\n                                gattCharacteristic.setValue(payload+&quot;\\r\\n&quot;);\r\n                                if (ActivityCompat.checkSelfPermission(activity, Manifest.permission.BLUETOOTH_CONNECT) != PackageManager.PERMISSION_GRANTED) {\r\n                                    // TODO: Consider calling\r\n                                    //    ActivityCompat#requestPermissions\r\n                                    // here to request the missing permissions, and then overriding\r\n                                    //   public void onRequestPermissionsResult(int requestCode, String[] permissions,\r\n                                    //                                          int[] grantResults)\r\n                                    // to handle the case where the user grants the permission. See the documentation\r\n                                    // for ActivityCompat#requestPermissions for more details.\r\n                                    return;\r\n                                }\r\n                                gatt.writeCharacteristic(gattCharacteristic);\r\n                            }\r\n                        }\r\n               }\r\n         }\r\n    }\r\n```\r\n\r\nexpecting to change the brightness of the device","title":"Changing brightness of the device using BLE in android","body":"<p>Trying to changing the brightness of the device but status we are getting as a success .\nBut device brightness is not responding.</p>\n<p>Can any one help on the issue</p>\n<pre><code> public void sendCommands(BluetoothGatt gatt) throws JSONException {\n\n        if (bluetoothGatt != null) {\n\n            List&lt;BluetoothGattService&gt; gattServices = bluetoothGatt.getServices();\n\n            if (2 == BluetoothProfile.STATE_CONNECTED) // BLE Is connected after provision as ghatt is connected.\n            {\n                if (ActivityCompat.checkSelfPermission(activity, Manifest.permission.BLUETOOTH_CONNECT) != PackageManager.PERMISSION_GRANTED) {\n                   \n                    return;\n                }\n                gatt.requestMtu(512);\n\n                for (int i = 0; i &lt; gattServices.size(); i++) {\n                    String serviceUUID = gattServices.get(i).getUuid().toString();\n                    if (serviceUUID.equalsIgnoreCase(SERVICE_GUID)) {\n                        List&lt;BluetoothGattCharacteristic&gt; gattCharacteristics = gattServices.get(i).getCharacteristics();\n                        for (BluetoothGattCharacteristic gattCharacteristic :\n                                gattCharacteristics) {\n                            final String uuid = gattCharacteristic.getUuid().toString();\n                            if (uuid.equalsIgnoreCase(TX_CHAR_GUID)) {\n                                 String jsonString = &quot;{'i': 1, 'v': 1, 't': 8, 's': 'dbri', 'n': 70}&quot;;\n                                 \n                                byte[] payload = jsonString.getBytes();\n                                gattCharacteristic.setValue(payload+&quot;\\r\\n&quot;);\n                                if (ActivityCompat.checkSelfPermission(activity, Manifest.permission.BLUETOOTH_CONNECT) != PackageManager.PERMISSION_GRANTED) {\n                                    // TODO: Consider calling\n                                    //    ActivityCompat#requestPermissions\n                                    // here to request the missing permissions, and then overriding\n                                    //   public void onRequestPermissionsResult(int requestCode, String[] permissions,\n                                    //                                          int[] grantResults)\n                                    // to handle the case where the user grants the permission. See the documentation\n                                    // for ActivityCompat#requestPermissions for more details.\n                                    return;\n                                }\n                                gatt.writeCharacteristic(gattCharacteristic);\n                            }\n                        }\n               }\n         }\n    }\n</code></pre>\n<p>expecting to change the brightness of the device</p>\n"},{"tags":["java","android","android-studio"],"answers":[{"tags":[],"owner":{"account_id":11905672,"reputation":119,"user_id":8712292,"display_name":"Haniyeh Ehsaninejad"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691498758,"creation_date":1691498758,"answer_id":76859712,"question_id":76852505,"body_markdown":"In my opinion, you can&#39;t pass data to your view model in order to be observed in a specific fragment while some other fragments are observing to that live data too. I suggest to define separate live data objects to observe them from different fragments.","title":"How to pass the data to Specific fragment in Android Using ViewModel","body":"<p>In my opinion, you can't pass data to your view model in order to be observed in a specific fragment while some other fragments are observing to that live data too. I suggest to define separate live data objects to observe them from different fragments.</p>\n"}],"owner":{"account_id":10825243,"reputation":643,"user_id":7961334,"display_name":"vinayak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691498758,"creation_date":1691417085,"question_id":76852505,"body_markdown":"Question : \r\n\r\ncase 1 : I want to send data from Fragment A to FragmentB and dont want to observe value in FragmentC.\r\n\r\ncase 2 : I want to send data from Fragment A to FragmentC and dont want to observe value in FragmentB.\r\n\r\n\r\nActual Output :\r\n\r\ncase 1 : after sending data from FragmentA to FragmentB through \r\n         ViewModel but FragmentC also observed.\r\n\r\nExpected Output :\r\n\r\ncase 1 : I want to pass data from FragmentA to FragmentB and i dont to \r\n         observe in FragmentC.\r\n        \r\n\r\n```\r\nIn MainActivity.java\r\n\r\n        BlankFragment1  frg=new BlankFragment1();\r\n        BlankFragment2 frg1=new BlankFragment2();\r\n        BlankFragment3 frg2=new BlankFragment3();\r\n        FragmentManager manager=getSupportFragmentManager();\r\n        FragmentTransaction transaction=manager.beginTransaction();\r\n        transaction.add(R.id.f1, frg, &quot;Frag_Top_tag&quot;);\r\n        transaction.add(R.id.f2, frg1, &quot;Frag_Middle_tag&quot;);\r\n        transaction.add(R.id.f3, frg2, &quot;Frag_Bottom_tag&quot;);\r\n        transaction.commit();\r\n```\r\n\r\n\r\n```\r\nMyViewModel.java\r\n\r\npublic class MyViewModel extends ViewModel {\r\n\r\n    private final SavedStateHandle state;\r\n    private final MutableLiveData&lt;String&gt; messageContainerA;\r\n\r\n    public MyViewModel(SavedStateHandle state) {\r\n        this.state = state;\r\n\r\n        messageContainerA = state.getLiveData(&quot;Default Message A&quot;);\r\n    }\r\n\r\n    \r\n    public void sendMessageToA(String msg)\r\n    {\r\n        messageContainerA.setValue(msg);\r\n\r\n    }\r\n    public LiveData&lt;String&gt; getMessageContainerA() {\r\n        return messageContainerA;\r\n    }\r\n\r\n    \r\n}\r\n```\r\n\r\n```\r\nIn FragmentA\r\n\r\n\r\n\r\nMyViewModel pagerAgentViewModel = new ViewModelProvider(getActivity()).get(MyViewModel.class);\r\n        binding.button4.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                pagerAgentViewModel.sendMessageToA(binding.editTextTextPersonName.getText().toString());\r\n            }\r\n        });\r\n```\r\n\r\n\r\n```\r\nIn FragmentB\r\n\r\n\r\n MyViewModel pagerAgentViewModel = new ViewModelProvider(getActivity().).get(MyViewModel.class);\r\n        pagerAgentViewModel.getMessageContainerA().observe(getViewLifecycleOwner(), binding.button3::setText);\r\n```\r\n\r\n\r\n```\r\nIn FragmentC\r\n\r\n\r\n\r\nMyViewModel pagerAgentViewModel = new ViewModelProvider(getActivity()).get(MyViewModel.class);\r\n        pagerAgentViewModel.getMessageContainerA().observe(getViewLifecycleOwner(), binding.tvb3::setText);\r\n\r\n```\r\n\r\n\r\n\r\nanyone please help me through this.\r\n\r\nThanks in Andvance.","title":"How to pass the data to Specific fragment in Android Using ViewModel","body":"<p>Question :</p>\n<p>case 1 : I want to send data from Fragment A to FragmentB and dont want to observe value in FragmentC.</p>\n<p>case 2 : I want to send data from Fragment A to FragmentC and dont want to observe value in FragmentB.</p>\n<p>Actual Output :</p>\n<p>case 1 : after sending data from FragmentA to FragmentB through\nViewModel but FragmentC also observed.</p>\n<p>Expected Output :</p>\n<p>case 1 : I want to pass data from FragmentA to FragmentB and i dont to\nobserve in FragmentC.</p>\n<pre><code>In MainActivity.java\n\n        BlankFragment1  frg=new BlankFragment1();\n        BlankFragment2 frg1=new BlankFragment2();\n        BlankFragment3 frg2=new BlankFragment3();\n        FragmentManager manager=getSupportFragmentManager();\n        FragmentTransaction transaction=manager.beginTransaction();\n        transaction.add(R.id.f1, frg, &quot;Frag_Top_tag&quot;);\n        transaction.add(R.id.f2, frg1, &quot;Frag_Middle_tag&quot;);\n        transaction.add(R.id.f3, frg2, &quot;Frag_Bottom_tag&quot;);\n        transaction.commit();\n</code></pre>\n<pre><code>MyViewModel.java\n\npublic class MyViewModel extends ViewModel {\n\n    private final SavedStateHandle state;\n    private final MutableLiveData&lt;String&gt; messageContainerA;\n\n    public MyViewModel(SavedStateHandle state) {\n        this.state = state;\n\n        messageContainerA = state.getLiveData(&quot;Default Message A&quot;);\n    }\n\n    \n    public void sendMessageToA(String msg)\n    {\n        messageContainerA.setValue(msg);\n\n    }\n    public LiveData&lt;String&gt; getMessageContainerA() {\n        return messageContainerA;\n    }\n\n    \n}\n</code></pre>\n<pre><code>In FragmentA\n\n\n\nMyViewModel pagerAgentViewModel = new ViewModelProvider(getActivity()).get(MyViewModel.class);\n        binding.button4.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                pagerAgentViewModel.sendMessageToA(binding.editTextTextPersonName.getText().toString());\n            }\n        });\n</code></pre>\n<pre><code>In FragmentB\n\n\n MyViewModel pagerAgentViewModel = new ViewModelProvider(getActivity().).get(MyViewModel.class);\n        pagerAgentViewModel.getMessageContainerA().observe(getViewLifecycleOwner(), binding.button3::setText);\n</code></pre>\n<pre><code>In FragmentC\n\n\n\nMyViewModel pagerAgentViewModel = new ViewModelProvider(getActivity()).get(MyViewModel.class);\n        pagerAgentViewModel.getMessageContainerA().observe(getViewLifecycleOwner(), binding.tvb3::setText);\n\n</code></pre>\n<p>anyone please help me through this.</p>\n<p>Thanks in Andvance.</p>\n"},{"tags":["java","multithreading","asynchronous","refactoring","runnable"],"answers":[{"comments":[{"owner":{"account_id":28181389,"reputation":45,"user_id":21538342,"display_name":"Patrick"},"score":1,"creation_date":1680294609,"post_id":75902099,"comment_id":133880147,"body_markdown":"Oh right that makes a lot of sense, thank you, will be looking into it!","body":"Oh right that makes a lot of sense, thank you, will be looking into it!"}],"tags":[],"owner":{"account_id":17741504,"reputation":1083,"user_id":12881733,"display_name":"Bill Mair"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680290758,"creation_date":1680290758,"answer_id":75902099,"question_id":75901867,"body_markdown":"You aren&#39;t making or sub-classing Threads you should be making Runnables (also look at Future, Callable, Exectutor and thread pools).\r\n\r\n    abstract class AbstractBookSearcher&lt;ParamType&gt; implements Runnable {\r\n        private final ParamType searchParam;\r\n        AbstractBookSearcher(ParamType searchParam) {\r\n            this.searchParam = searchParam;\r\n        }\r\n        public void run() throws Exception {\r\n            try {\r\n                List&lt;BookResponse&gt; matches = search(searchParam);\r\n                synchronized (allMatches) {\r\n                    allMatches.addAll(matches);\r\n                }\r\n            } catch (Exception e) {\r\n                throw new CustomException(e);\r\n            }\r\n        }\r\n        protected abstract List&lt;BookResponse&gt; search(ParamType searchParam);\r\n    }\r\n\r\nThen sub-class that:\r\n\r\n    class BookNameSearcher extends AbstractBookSearcher&lt;String&gt; {\r\n        protected abstract List&lt;BookResponse&gt; search(String searchParam) {\r\n            return fetchMethod(searchParam);\r\n        }\r\n    }\r\n\r\nor:\r\n\r\n    class BookContentSearcher extends AbstractBookSearcher&lt;Integer&gt; {\r\n        protected abstract List&lt;BookResponse&gt; search(Integer searchParam) {\r\n            return differentFetchMethod(searchParam);\r\n        }\r\n    }\r\n\r\nThen you can start the threads with the custom and type safe runnables, with the search parameters that you want:\r\n\r\n    new Thread(new BookNameSearcher(someMethod()));\r\n    new Thread(new BookContentSearcher(anyMethod()));","title":"Can i encapsulate the creation of similar threads into a method?","body":"<p>You aren't making or sub-classing Threads you should be making Runnables (also look at Future, Callable, Exectutor and thread pools).</p>\n<pre><code>abstract class AbstractBookSearcher&lt;ParamType&gt; implements Runnable {\n    private final ParamType searchParam;\n    AbstractBookSearcher(ParamType searchParam) {\n        this.searchParam = searchParam;\n    }\n    public void run() throws Exception {\n        try {\n            List&lt;BookResponse&gt; matches = search(searchParam);\n            synchronized (allMatches) {\n                allMatches.addAll(matches);\n            }\n        } catch (Exception e) {\n            throw new CustomException(e);\n        }\n    }\n    protected abstract List&lt;BookResponse&gt; search(ParamType searchParam);\n}\n</code></pre>\n<p>Then sub-class that:</p>\n<pre><code>class BookNameSearcher extends AbstractBookSearcher&lt;String&gt; {\n    protected abstract List&lt;BookResponse&gt; search(String searchParam) {\n        return fetchMethod(searchParam);\n    }\n}\n</code></pre>\n<p>or:</p>\n<pre><code>class BookContentSearcher extends AbstractBookSearcher&lt;Integer&gt; {\n    protected abstract List&lt;BookResponse&gt; search(Integer searchParam) {\n        return differentFetchMethod(searchParam);\n    }\n}\n</code></pre>\n<p>Then you can start the threads with the custom and type safe runnables, with the search parameters that you want:</p>\n<pre><code>new Thread(new BookNameSearcher(someMethod()));\nnew Thread(new BookContentSearcher(anyMethod()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13993199,"reputation":129,"user_id":10362945,"display_name":"Sagar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691498410,"creation_date":1690183598,"answer_id":76752236,"question_id":75901867,"body_markdown":"A java 8&#39;s lambda function can be put to use to avoid strong binding of no of parameters and its type.\r\n\r\nWe need to make the `fetchMethod(String someParam)` with varying number of arguments of different types.\r\n\r\n    fetchMethod(int someParam, String someParam2)\r\n\r\n```\r\n    private void executeAllThreads() {\r\n        List&lt;BookResponse&gt; allMatches = Collections.synchronizedList(new ArrayList&lt;&gt;());\r\n        List&lt;Thread&gt; threads = new ArrayList&lt;&gt;();\r\n\r\n        Supplier&lt;List&lt;BookResponse&gt;&gt; searchBookNameSupplier = ()-&gt;fetchMethod(5);\r\n        Thread searchBookName = getThread(searchBookNameSupplier, allMatches);\r\n        threads.add(searchBookName);\r\n        searchBookName.start();\r\n\r\n        Supplier&lt;List&lt;BookResponse&gt;&gt; bookResponseSupplier = ()-&gt;differentFetchMethod(&quot;stringParam&quot;);\r\n        Thread searchBookContent = getThread(bookResponseSupplier,allMatches);\r\n        threads.add(searchBookContent);\r\n        searchBookContent.start();\r\n\r\n        /*\r\n         *\r\n         *\r\n         * More Threads...\r\n         *\r\n         *\r\n         */\r\n\r\n        for (Thread search : searches) {\r\n            search.join();\r\n        }\r\n    }\r\n\r\n\r\n    private Thread getThread(Supplier&lt;List&lt;BookResponse&gt;&gt; bookResponseSupplier, List&lt;BookResponse&gt; allMatches) {\r\n        Thread thread = new Thread(() -&gt; {\r\n            try {\r\n                List&lt;BookResponse&gt; matches = bookResponseSupplier.get();\r\n                synchronized (allMatches) {\r\n                    allMatches.addAll(matches);\r\n                }\r\n            } catch (Exception e) {\r\n                throw new CustomException(e);\r\n            }\r\n        });\r\n        return thread;\r\n    }\r\n\r\n```\r\nFew more points to consider for refactoring.\r\n- Avoid creating threads manually use Executors threadpool like `Executors.newCacheThreadPool().submit(searchBookName)`\r\n- If you need the list at the very end after fetching all responses,use callable and addAll() after `join()ing` all threads,to avoid using synchronizedList\r\n","title":"Can i encapsulate the creation of similar threads into a method?","body":"<p>A java 8's lambda function can be put to use to avoid strong binding of no of parameters and its type.</p>\n<p>We need to make the <code>fetchMethod(String someParam)</code> with varying number of arguments of different types.</p>\n<pre><code>fetchMethod(int someParam, String someParam2)\n</code></pre>\n<pre><code>    private void executeAllThreads() {\n        List&lt;BookResponse&gt; allMatches = Collections.synchronizedList(new ArrayList&lt;&gt;());\n        List&lt;Thread&gt; threads = new ArrayList&lt;&gt;();\n\n        Supplier&lt;List&lt;BookResponse&gt;&gt; searchBookNameSupplier = ()-&gt;fetchMethod(5);\n        Thread searchBookName = getThread(searchBookNameSupplier, allMatches);\n        threads.add(searchBookName);\n        searchBookName.start();\n\n        Supplier&lt;List&lt;BookResponse&gt;&gt; bookResponseSupplier = ()-&gt;differentFetchMethod(&quot;stringParam&quot;);\n        Thread searchBookContent = getThread(bookResponseSupplier,allMatches);\n        threads.add(searchBookContent);\n        searchBookContent.start();\n\n        /*\n         *\n         *\n         * More Threads...\n         *\n         *\n         */\n\n        for (Thread search : searches) {\n            search.join();\n        }\n    }\n\n\n    private Thread getThread(Supplier&lt;List&lt;BookResponse&gt;&gt; bookResponseSupplier, List&lt;BookResponse&gt; allMatches) {\n        Thread thread = new Thread(() -&gt; {\n            try {\n                List&lt;BookResponse&gt; matches = bookResponseSupplier.get();\n                synchronized (allMatches) {\n                    allMatches.addAll(matches);\n                }\n            } catch (Exception e) {\n                throw new CustomException(e);\n            }\n        });\n        return thread;\n    }\n\n</code></pre>\n<p>Few more points to consider for refactoring.</p>\n<ul>\n<li>Avoid creating threads manually use Executors threadpool like <code>Executors.newCacheThreadPool().submit(searchBookName)</code></li>\n<li>If you need the list at the very end after fetching all responses,use callable and addAll() after <code>join()ing</code> all threads,to avoid using synchronizedList</li>\n</ul>\n"}],"owner":{"account_id":28181389,"reputation":45,"user_id":21538342,"display_name":"Patrick"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75902099,"answer_count":2,"score":1,"last_activity_date":1691498410,"creation_date":1680288838,"question_id":75901867,"body_markdown":"I&#39;m writing a search function that is doing multiple API calls that i would like to execute asynchronous and collect their results. All my threads with their runnables look similar which made we wonder if i could encapsulate the those threads into a method since only 2 lines change per thread.\r\n\r\nIt looks similar to this:\r\n\r\n```\r\nList&lt;BookResponse&gt; allMatches = Collections.synchronizedList(new ArrayList&lt;&gt;());\r\nList&lt;Thread&gt; threads = new ArrayList&lt;&gt;();\r\n\r\nThread searchBookName = new Thread(() -&gt; {\r\n\ttry {\r\n\t\tString someParam = someMethod();\r\n\t\tList&lt;BookResponse&gt; matches = fetchMethod(someParam);\r\n\t\tsynchronized (allMatches) {\r\n\t\t\tallMatches.addAll(matches);\r\n\t\t}\r\n\t} catch (Exception e) {\r\n\t\tthrow new CustomException(e);\r\n\t}\r\n});\r\nthreads.add(searchBookName);\r\nsearchBookName.start();\r\n\r\nThread searchBookContent = new Thread(() -&gt; {\r\n\ttry {\r\n\t\tint intParam = anyMethod();\r\n\t\tList&lt;BookResponse&gt; matches = differentFetchMethod(intParam);\r\n\t\tsynchronized (allMatches) {\r\n\t\t\tallMatches.addAll(matches);\r\n\t\t}\r\n\t} catch (Exception e) {\r\n\t\tthrow new CustomException(e);\r\n\t}\r\n});\r\nthreads.add(searchBookContent);\r\nsearchBookContent.start();\r\n\r\n/*\r\n*\r\n*\r\n* More Threads...\r\n*\r\n*\r\n*/\r\n\r\nfor (Thread search : searches) {\r\n\tsearch.join();\r\n}\r\n\r\nreturn new ResponseEntity&lt;List&lt;BookResponse&gt;&gt;(allMatches, HttpStatus.OK);\r\n```\r\n\r\nThese thread blocks take up a lot of space in the code and are very repetetive, they are made in this pattern with only the 2 commented lines changing:\r\n\r\n```\r\nThread searchSomething = new Thread(() -&gt; {\r\n\ttry {\r\n\t\t//Always 1 method call for a param, params are different types\r\n\t\t//Always 1 api call giving back results\r\n\t\tsynchronized (allMatches) {\r\n\t\t\tallMatches.addAll(matches);\r\n\t\t}\r\n\t} catch (Exception e) {\r\n\t\tthrow new CustomException(e);\r\n\t}\r\n});\r\nthreads.add(searchSomething);\r\nsearchSomething.start();\r\n```\r\n\r\nI tried to come up with an interface to solve this, but i end up having to implements those 2 lines of code anyways somehow, so i that didn&#39;t make the code any cleaner.","title":"Can i encapsulate the creation of similar threads into a method?","body":"<p>I'm writing a search function that is doing multiple API calls that i would like to execute asynchronous and collect their results. All my threads with their runnables look similar which made we wonder if i could encapsulate the those threads into a method since only 2 lines change per thread.</p>\n<p>It looks similar to this:</p>\n<pre><code>List&lt;BookResponse&gt; allMatches = Collections.synchronizedList(new ArrayList&lt;&gt;());\nList&lt;Thread&gt; threads = new ArrayList&lt;&gt;();\n\nThread searchBookName = new Thread(() -&gt; {\n    try {\n        String someParam = someMethod();\n        List&lt;BookResponse&gt; matches = fetchMethod(someParam);\n        synchronized (allMatches) {\n            allMatches.addAll(matches);\n        }\n    } catch (Exception e) {\n        throw new CustomException(e);\n    }\n});\nthreads.add(searchBookName);\nsearchBookName.start();\n\nThread searchBookContent = new Thread(() -&gt; {\n    try {\n        int intParam = anyMethod();\n        List&lt;BookResponse&gt; matches = differentFetchMethod(intParam);\n        synchronized (allMatches) {\n            allMatches.addAll(matches);\n        }\n    } catch (Exception e) {\n        throw new CustomException(e);\n    }\n});\nthreads.add(searchBookContent);\nsearchBookContent.start();\n\n/*\n*\n*\n* More Threads...\n*\n*\n*/\n\nfor (Thread search : searches) {\n    search.join();\n}\n\nreturn new ResponseEntity&lt;List&lt;BookResponse&gt;&gt;(allMatches, HttpStatus.OK);\n</code></pre>\n<p>These thread blocks take up a lot of space in the code and are very repetetive, they are made in this pattern with only the 2 commented lines changing:</p>\n<pre><code>Thread searchSomething = new Thread(() -&gt; {\n    try {\n        //Always 1 method call for a param, params are different types\n        //Always 1 api call giving back results\n        synchronized (allMatches) {\n            allMatches.addAll(matches);\n        }\n    } catch (Exception e) {\n        throw new CustomException(e);\n    }\n});\nthreads.add(searchSomething);\nsearchSomething.start();\n</code></pre>\n<p>I tried to come up with an interface to solve this, but i end up having to implements those 2 lines of code anyways somehow, so i that didn't make the code any cleaner.</p>\n"},{"tags":["java","android","firebase","firebase-authentication"],"comments":[{"owner":{"account_id":8261041,"reputation":2490,"user_id":6212446,"accept_rate":57,"display_name":"M.Waqas Pervez"},"score":0,"creation_date":1472473885,"post_id":39206299,"comment_id":65751577,"body_markdown":"try this solution: http://stackoverflow.com/questions/37360126/getting-exception-java-lang-noclassdeffounderror-com-google-firebase-firebaseop","body":"try this solution: <a href=\"http://stackoverflow.com/questions/37360126/getting-exception-java-lang-noclassdeffounderror-com-google-firebase-firebaseop\" title=\"getting exception java lang noclassdeffounderror com google firebase firebaseop\">stackoverflow.com/questions/37360126/&hellip;</a>"},{"owner":{"account_id":5913122,"reputation":2731,"user_id":4652688,"accept_rate":44,"display_name":"vipin agrahari"},"score":1,"creation_date":1472474007,"post_id":39206299,"comment_id":65751660,"body_markdown":"Where is your code","body":"Where is your code"},{"owner":{"account_id":7770691,"reputation":812,"user_id":5880384,"display_name":"azsoftco"},"score":1,"creation_date":1472479383,"post_id":39206299,"comment_id":65755302,"body_markdown":"Thanks, but not working!","body":"Thanks, but not working!"},{"owner":{"account_id":6179883,"reputation":37889,"user_id":4815718,"accept_rate":100,"display_name":"Bob Snyder"},"score":0,"creation_date":1472479766,"post_id":39206299,"comment_id":65755565,"body_markdown":"Post the dependencies section of your build.gradle file.","body":"Post the dependencies section of your build.gradle file."},{"owner":{"account_id":5282912,"reputation":552,"user_id":4663544,"display_name":"Jeba Ranganathan"},"score":1,"creation_date":1475782591,"post_id":39206299,"comment_id":67094000,"body_markdown":"This worked for me http://stackoverflow.com/a/38224316/4663544","body":"This worked for me <a href=\"http://stackoverflow.com/a/38224316/4663544\">stackoverflow.com/a/38224316/4663544</a>"},{"owner":{"account_id":4964392,"reputation":8402,"user_id":3994271,"accept_rate":36,"display_name":"Ayan"},"score":0,"creation_date":1476440458,"post_id":39206299,"comment_id":67357174,"body_markdown":"I faced exactly the same problem,and got it solved using http://stackoverflow.com/a/40040720/3994271","body":"I faced exactly the same problem,and got it solved using <a href=\"http://stackoverflow.com/a/40040720/3994271\">stackoverflow.com/a/40040720/3994271</a>"},{"owner":{"account_id":10217567,"reputation":9035,"user_id":7542765,"accept_rate":81,"display_name":"Levon Petrosyan"},"score":0,"creation_date":1556592366,"post_id":39206299,"comment_id":98481025,"body_markdown":"See my answer here https://stackoverflow.com/questions/39825543/didnt-find-class-com-google-firebase-provider-firebaseinitprovider/55913295#55913295","body":"See my answer here <a href=\"https://stackoverflow.com/questions/39825543/didnt-find-class-com-google-firebase-provider-firebaseinitprovider/55913295#55913295\" title=\"didnt find class com google firebase provider firebaseinitprovider\">stackoverflow.com/questions/39825543/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":358820,"reputation":3249,"user_id":699838,"accept_rate":44,"display_name":"Lee"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1472545396,"creation_date":1472545396,"answer_id":39222322,"question_id":39206299,"body_markdown":"I&#39;m having the same issue, what i did is uninstall the app from device/emulator, and then, reinstall it again (from Android Studio, &#39;run&#39; button).","title":"&quot;Unable to get provider com.google.firebase.provider.FirebaseInitProvider&quot; Error path Android","body":"<p>I'm having the same issue, what i did is uninstall the app from device/emulator, and then, reinstall it again (from Android Studio, 'run' button).</p>\n"},{"comments":[{"owner":{"account_id":478100,"reputation":3484,"user_id":889968,"accept_rate":4,"display_name":"Michalsx"},"score":8,"creation_date":1491982784,"post_id":40822987,"comment_id":73788212,"body_markdown":"Omg, what a Android Studio fail.","body":"Omg, what a Android Studio fail."},{"owner":{"account_id":940363,"reputation":748,"user_id":968538,"accept_rate":45,"display_name":"Christian"},"score":1,"creation_date":1528191715,"post_id":40822987,"comment_id":88402968,"body_markdown":"This worked for me, not the multidex solution. So I cannot use instant run anymore ?","body":"This worked for me, not the multidex solution. So I cannot use instant run anymore ?"},{"owner":{"account_id":1084234,"reputation":9959,"user_id":1080355,"accept_rate":66,"display_name":"VSB"},"score":2,"creation_date":1540116852,"post_id":40822987,"comment_id":92738538,"body_markdown":"Instant run is a painful feature in android studio!","body":"Instant run is a painful feature in android studio!"},{"owner":{"account_id":5386815,"reputation":2427,"user_id":4290431,"accept_rate":67,"display_name":"Pooja"},"score":1,"creation_date":1544734083,"post_id":40822987,"comment_id":94391479,"body_markdown":"After 4 hours of debugging. This worked for me. I would have never thought this will work. Thank you.","body":"After 4 hours of debugging. This worked for me. I would have never thought this will work. Thank you."}],"tags":[],"owner":{"account_id":3579917,"reputation":281,"user_id":2988369,"display_name":"Antonio"},"comment_count":4,"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1536576102,"creation_date":1480193282,"answer_id":40822987,"question_id":39206299,"body_markdown":"In AndroidStudio try to do this:\r\n\r\n&gt;  1. ctrl+alt+s\r\n&gt;  2. Click on &quot;Build, Execution, Deployment\r\n&gt;  3. disable &quot;Instant Run&quot;\r\n\r\nThis should work\r\n","title":"&quot;Unable to get provider com.google.firebase.provider.FirebaseInitProvider&quot; Error path Android","body":"<p>In AndroidStudio try to do this:</p>\n\n<blockquote>\n  <ol>\n  <li>ctrl+alt+s</li>\n  <li>Click on \"Build, Execution, Deployment</li>\n  <li>disable \"Instant Run\"</li>\n  </ol>\n</blockquote>\n\n<p>This should work</p>\n"},{"comments":[{"owner":{"account_id":284350,"reputation":850,"user_id":582398,"accept_rate":29,"display_name":"gdenuf"},"score":5,"creation_date":1505830559,"post_id":41444469,"comment_id":79567995,"body_markdown":"I was missing the last step to override attachBaseContext. Works after adding.","body":"I was missing the last step to override attachBaseContext. Works after adding."},{"owner":{"account_id":7810860,"reputation":51,"user_id":5907075,"display_name":"SourabhMore"},"score":1,"creation_date":1513063477,"post_id":41444469,"comment_id":82495468,"body_markdown":"Adding attachBaseContext method solved my crash issue of Kitkat . It was working fine in all the above versions without this method.","body":"Adding attachBaseContext method solved my crash issue of Kitkat . It was working fine in all the above versions without this method."},{"owner":{"account_id":2808568,"reputation":15439,"user_id":2415293,"accept_rate":84,"display_name":"php_nub_qq"},"score":0,"creation_date":1532535275,"post_id":41444469,"comment_id":90015794,"body_markdown":"`Plugin with id &#39;com.google.gms.google-services&#39; not found.`","body":"<code>Plugin with id &#39;com.google.gms.google-services&#39; not found.</code>"}],"tags":[],"owner":{"account_id":4872280,"reputation":2731,"user_id":3928344,"accept_rate":56,"display_name":"Garg"},"comment_count":3,"down_vote_count":0,"up_vote_count":84,"is_accepted":true,"score":84,"last_activity_date":1483450305,"creation_date":1483449584,"answer_id":41444469,"question_id":39206299,"body_markdown":"I have also faced same problem with Firebase when run application below API 19(&lt; 4.4.2) devices due to error of `Multidex`. Then below **solution** work for me:  \r\n\r\nIn app module build.gradle\r\n\r\n    android {\r\n       ...\r\n       defaultConfig {\r\n           multiDexEnabled true\r\n           ...\r\n       }\r\n    }\r\n\r\n    dependencies {\r\n      // add dependency \r\n      compile &#39;com.android.support:multidex:1.0.1&#39;\r\n    }\r\n\r\n    // ADD THIS AT THE BOTTOM\r\n    apply plugin: &#39;com.google.gms.google-services&#39;\r\n \r\nupdate name in AndroidManifest.xml\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:name=&quot;.MyApplication&quot;\r\n        android:theme=&quot;@style/AppTheme&quot;&gt;\r\n\r\n         // ...\r\n    &lt;/application&gt;\r\n\r\nCrate a MyApplication.java file\r\n\r\n    public class MyApplication extends Application {\r\n\r\n        @Override\r\n        protected void attachBaseContext(Context base) {\r\n           super.attachBaseContext(base);\r\n           MultiDex.install(this);\r\n        }\r\n    \r\n    }\r\n\r\n\r\n    \r\n","title":"&quot;Unable to get provider com.google.firebase.provider.FirebaseInitProvider&quot; Error path Android","body":"<p>I have also faced same problem with Firebase when run application below API 19(&lt; 4.4.2) devices due to error of <code>Multidex</code>. Then below <strong>solution</strong> work for me:  </p>\n\n<p>In app module build.gradle</p>\n\n<pre><code>android {\n   ...\n   defaultConfig {\n       multiDexEnabled true\n       ...\n   }\n}\n\ndependencies {\n  // add dependency \n  compile 'com.android.support:multidex:1.0.1'\n}\n\n// ADD THIS AT THE BOTTOM\napply plugin: 'com.google.gms.google-services'\n</code></pre>\n\n<p>update name in AndroidManifest.xml</p>\n\n<pre><code>&lt;application\n    android:allowBackup=\"true\"\n    android:icon=\"@mipmap/ic_launcher\"\n    android:label=\"@string/app_name\"\n    android:supportsRtl=\"true\"\n    android:name=\".MyApplication\"\n    android:theme=\"@style/AppTheme\"&gt;\n\n     // ...\n&lt;/application&gt;\n</code></pre>\n\n<p>Crate a MyApplication.java file</p>\n\n<pre><code>public class MyApplication extends Application {\n\n    @Override\n    protected void attachBaseContext(Context base) {\n       super.attachBaseContext(base);\n       MultiDex.install(this);\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9899498,"reputation":657,"user_id":7329933,"display_name":"sats"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1489823498,"creation_date":1489820644,"answer_id":42871545,"question_id":39206299,"body_markdown":"If you have recently changed the firebase dependency version in your gradle you may need to update to the latest version of Google Repository in the Android SDK manager as well.\r\n\r\nIf you cannot update the Google Repository at the time, try changing the gradle dependency version back to lower.","title":"&quot;Unable to get provider com.google.firebase.provider.FirebaseInitProvider&quot; Error path Android","body":"<p>If you have recently changed the firebase dependency version in your gradle you may need to update to the latest version of Google Repository in the Android SDK manager as well.</p>\n\n<p>If you cannot update the Google Repository at the time, try changing the gradle dependency version back to lower.</p>\n"},{"tags":[],"owner":{"account_id":11396097,"reputation":25,"user_id":8354462,"display_name":"Vishalpari Goswami"},"comment_count":0,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1500849904,"creation_date":1500842123,"answer_id":45269681,"question_id":39206299,"body_markdown":"Just insert below lines in your project `AndroidManifest.xml` file,\r\nif they&#39;re not in **application** tag\r\n\r\n    &lt;meta-data\r\n            android:name=&quot;com.google.android.gms.version&quot;\r\n            android:value=&quot;@integer/google_play_services_version&quot; /&gt;","title":"&quot;Unable to get provider com.google.firebase.provider.FirebaseInitProvider&quot; Error path Android","body":"<p>Just insert below lines in your project <code>AndroidManifest.xml</code> file,\nif they're not in <strong>application</strong> tag</p>\n\n<pre><code>&lt;meta-data\n        android:name=\"com.google.android.gms.version\"\n        android:value=\"@integer/google_play_services_version\" /&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1447779,"reputation":5253,"user_id":2268466,"accept_rate":64,"display_name":"blueware"},"score":0,"creation_date":1553784950,"post_id":54352769,"comment_id":97521895,"body_markdown":"You may read above answers before you post a duplicate one. Thanks","body":"You may read above answers before you post a duplicate one. Thanks"}],"tags":[],"owner":{"account_id":15193300,"reputation":71,"user_id":10963423,"display_name":"Chris M"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1548352654,"creation_date":1548352654,"answer_id":54352769,"question_id":39206299,"body_markdown":"Disabling instant run fixed the issue for me.\r\n\r\nAndroid Studio -&gt; Preferences -&gt; Build, Execution, Deployment -&gt; Instant Run\r\n\r\n-Uncheck the box next to &quot;Enable Instant Run...&quot;\r\n\r\n-Click OK","title":"&quot;Unable to get provider com.google.firebase.provider.FirebaseInitProvider&quot; Error path Android","body":"<p>Disabling instant run fixed the issue for me.</p>\n\n<p>Android Studio -> Preferences -> Build, Execution, Deployment -> Instant Run</p>\n\n<p>-Uncheck the box next to \"Enable Instant Run...\"</p>\n\n<p>-Click OK</p>\n"}],"owner":{"account_id":7770691,"reputation":812,"user_id":5880384,"display_name":"azsoftco"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48868,"favorite_count":0,"down_vote_count":0,"up_vote_count":31,"accepted_answer_id":41444469,"answer_count":6,"score":31,"last_activity_date":1691498334,"creation_date":1472473495,"question_id":39206299,"body_markdown":"I have an Application which is connected to firebase.The problem is when install the app in device(working on several devices).I read a lot of forums and no one works.I read [here][1] and [this][2] and so on.Thanks!!\r\n\r\nThe error is here.\r\n\r\n    E/AndroidRuntime: FATAL EXCEPTION: main\r\n                  Process: com.dev.ptruck, PID: 8833\r\n                  java.lang.RuntimeException: Unable to get provider com.google.firebase.provider.FirebaseInitProvider: java.lang.ClassNotFoundException: Didn&#39;t find class &quot;com.google.firebase.provider.FirebaseInitProvider&quot; on path: DexPathList[[zip file &quot;/data/app/com.dev.ptruck-17.apk&quot;],nativeLibraryDirectories=[/data/app-lib/com.dev.ptruck-17, /vendor/lib, /system/lib]]\r\n                      at android.app.ActivityThread.installProvider(ActivityThread.java:5196)\r\n                      at android.app.ActivityThread.installContentProviders(ActivityThread.java:4788)\r\n                      at android.app.ActivityThread.handleBindApplication(ActivityThread.java:4728)\r\n                      at android.app.ActivityThread.access$1500(ActivityThread.java:166)\r\n                      at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1343)\r\n                      at android.os.Handler.dispatchMessage(Handler.java:102)\r\n                      at android.os.Looper.loop(Looper.java:136)\r\n                      at android.app.ActivityThread.main(ActivityThread.java:5584)\r\n                      at java.lang.reflect.Method.invokeNative(Native Method)\r\n                      at java.lang.reflect.Method.invoke(Method.java:515)\r\n                      at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1268)\r\n                      at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1084)\r\n                      at dalvik.system.NativeStart.main(Native Method)\r\n                   Caused by: java.lang.ClassNotFoundException: Didn&#39;t find class &quot;com.google.firebase.provider.FirebaseInitProvider&quot; on path: DexPathList[[zip file &quot;/data/app/com.dev.ptruck-17.apk&quot;],nativeLibraryDirectories=[/data/app-lib/com.dev.ptruck-17, /vendor/lib, /system/lib]]\r\n                      at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:56)\r\n                      at java.lang.ClassLoader.loadClass(ClassLoader.java:497)\r\n                      at java.lang.ClassLoader.loadClass(ClassLoader.java:457)\r\n                      at android.app.ActivityThread.installProvider(ActivityThread.java:5181)\r\n                      at android.app.ActivityThread.installContentProviders(ActivityThread.java:4788)&#160;\r\n                      at android.app.ActivityThread.handleBindApplication(ActivityThread.java:4728)&#160;\r\n                      at android.app.ActivityThread.access$1500(ActivityThread.java:166)&#160;\r\n                      at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1343)&#160;\r\n                      at android.os.Handler.dispatchMessage(Handler.java:102)&#160;\r\n                      at android.os.Looper.loop(Looper.java:136)&#160;\r\n                      at android.app.ActivityThread.main(ActivityThread.java:5584)&#160;\r\n                      at java.lang.reflect.Method.invokeNative(Native Method)&#160;\r\n                      at java.lang.reflect.Method.invoke(Method.java:515)&#160;\r\n                      at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1268)&#160;\r\n                      at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1084)&#160;\r\n                      at dalvik.system.NativeStart.main(Native Method)&#160;\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/37328890/android-firebase-dynamitemodule-failed-to-load-module-descriptor\r\n  [2]: https://stackoverflow.com/questions/37790190/google-map-implementation-in-viewpager-error-unable-to-get-provider-com-google\r\n\r\nHere is the start Class\r\n\r\n    public class StartActivity extends Activity {\r\n    private static final String FIREBASE_URL = &quot;https://database.firebaseio.com/&quot;;\r\n    private Firebase myFirebaseRef = null;\r\n    View rootView;\r\n    String uid;\r\n \r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_start);\r\n\r\n        Firebase.setAndroidContext(this);\r\n        final ProgressBar p = (ProgressBar) findViewById(R.id.start_progress_bar);\r\n\r\n    }\r\n    private void checkUserLogin() {\r\n                        myFirebaseRef.addAuthStateListener(new Firebase.AuthStateListener() {\r\n                            @Override\r\n                            public void onAuthStateChanged(AuthData authData) {\r\n                                if (authData != null) {\r\n\r\n                                    System.out.println(myFirebaseRef.getKey());\r\n                                    Intent toMainActivity = new Intent(getApplicationContext(), MenuActivity.class);\r\n                                    uid = myFirebaseRef.getAuth().getUid();\r\n                                    toMainActivity.putExtra(&quot;user_id&quot;, uid);\r\n                                    finish();\r\n                                    startActivity(toMainActivity);\r\n\r\n                                } else if (authData == null) {\r\n\r\n                                    Intent toMainActivity = new Intent(getApplicationContext(), LoginActivity.class);\r\n                                    startActivity(toMainActivity);\r\n                                    // user is not logged in\r\n                                }\r\n                            }\r\n                        });\r\n    }\r\n    private Runnable task = new Runnable() {\r\n        public void run() {\r\n\r\n            checkUserLogin();\r\n        }\r\n    };\r\n    @Override\r\n    protected void onStart() {\r\n        super.onStart();\r\n        if(myFirebaseRef == null) {\r\n            myFirebaseRef = new Firebase(FIREBASE_URL);\r\n        }\r\n        Handler handler = new Handler();\r\n        handler.postDelayed(task, 3000);\r\n       \r\n    }\r\n    @Override\r\n    protected void onDestroy() {\r\n        super.onDestroy();\r\n\r\n        unbindDrawables(rootView);\r\n        rootView = null;\r\n        System.gc();\r\n\r\n    }\r\n    protected void unbindDrawables(View view) {\r\n        if (view != null) {\r\n            if (view.getBackground() != null) {\r\n                view.getBackground().setCallback(null);\r\n            }\r\n            if (view instanceof ViewGroup &amp;&amp; !(view instanceof AdapterView)) {\r\n                for (int i = 0; i &lt; ((ViewGroup) view).getChildCount(); i++) {\r\n                    unbindDrawables(((ViewGroup) view).getChildAt(i));\r\n                }\r\n                ((ViewGroup) view).removeAllViews();\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n  \r\n}\r\n\r\n","title":"&quot;Unable to get provider com.google.firebase.provider.FirebaseInitProvider&quot; Error path Android","body":"<p>I have an Application which is connected to firebase.The problem is when install the app in device(working on several devices).I read a lot of forums and no one works.I read <a href=\"https://stackoverflow.com/questions/37328890/android-firebase-dynamitemodule-failed-to-load-module-descriptor\">here</a> and <a href=\"https://stackoverflow.com/questions/37790190/google-map-implementation-in-viewpager-error-unable-to-get-provider-com-google\">this</a> and so on.Thanks!!</p>\n\n<p>The error is here.</p>\n\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\n              Process: com.dev.ptruck, PID: 8833\n              java.lang.RuntimeException: Unable to get provider com.google.firebase.provider.FirebaseInitProvider: java.lang.ClassNotFoundException: Didn't find class \"com.google.firebase.provider.FirebaseInitProvider\" on path: DexPathList[[zip file \"/data/app/com.dev.ptruck-17.apk\"],nativeLibraryDirectories=[/data/app-lib/com.dev.ptruck-17, /vendor/lib, /system/lib]]\n                  at android.app.ActivityThread.installProvider(ActivityThread.java:5196)\n                  at android.app.ActivityThread.installContentProviders(ActivityThread.java:4788)\n                  at android.app.ActivityThread.handleBindApplication(ActivityThread.java:4728)\n                  at android.app.ActivityThread.access$1500(ActivityThread.java:166)\n                  at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1343)\n                  at android.os.Handler.dispatchMessage(Handler.java:102)\n                  at android.os.Looper.loop(Looper.java:136)\n                  at android.app.ActivityThread.main(ActivityThread.java:5584)\n                  at java.lang.reflect.Method.invokeNative(Native Method)\n                  at java.lang.reflect.Method.invoke(Method.java:515)\n                  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1268)\n                  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1084)\n                  at dalvik.system.NativeStart.main(Native Method)\n               Caused by: java.lang.ClassNotFoundException: Didn't find class \"com.google.firebase.provider.FirebaseInitProvider\" on path: DexPathList[[zip file \"/data/app/com.dev.ptruck-17.apk\"],nativeLibraryDirectories=[/data/app-lib/com.dev.ptruck-17, /vendor/lib, /system/lib]]\n                  at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:56)\n                  at java.lang.ClassLoader.loadClass(ClassLoader.java:497)\n                  at java.lang.ClassLoader.loadClass(ClassLoader.java:457)\n                  at android.app.ActivityThread.installProvider(ActivityThread.java:5181)\n                  at android.app.ActivityThread.installContentProviders(ActivityThread.java:4788)\n                  at android.app.ActivityThread.handleBindApplication(ActivityThread.java:4728)\n                  at android.app.ActivityThread.access$1500(ActivityThread.java:166)\n                  at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1343)\n                  at android.os.Handler.dispatchMessage(Handler.java:102)\n                  at android.os.Looper.loop(Looper.java:136)\n                  at android.app.ActivityThread.main(ActivityThread.java:5584)\n                  at java.lang.reflect.Method.invokeNative(Native Method)\n                  at java.lang.reflect.Method.invoke(Method.java:515)\n                  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1268)\n                  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1084)\n                  at dalvik.system.NativeStart.main(Native Method)\n</code></pre>\n\n<p>Here is the start Class</p>\n\n<pre><code>public class StartActivity extends Activity {\nprivate static final String FIREBASE_URL = \"https://database.firebaseio.com/\";\nprivate Firebase myFirebaseRef = null;\nView rootView;\nString uid;\n\n@Override\npublic void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_start);\n\n    Firebase.setAndroidContext(this);\n    final ProgressBar p = (ProgressBar) findViewById(R.id.start_progress_bar);\n\n}\nprivate void checkUserLogin() {\n                    myFirebaseRef.addAuthStateListener(new Firebase.AuthStateListener() {\n                        @Override\n                        public void onAuthStateChanged(AuthData authData) {\n                            if (authData != null) {\n\n                                System.out.println(myFirebaseRef.getKey());\n                                Intent toMainActivity = new Intent(getApplicationContext(), MenuActivity.class);\n                                uid = myFirebaseRef.getAuth().getUid();\n                                toMainActivity.putExtra(\"user_id\", uid);\n                                finish();\n                                startActivity(toMainActivity);\n\n                            } else if (authData == null) {\n\n                                Intent toMainActivity = new Intent(getApplicationContext(), LoginActivity.class);\n                                startActivity(toMainActivity);\n                                // user is not logged in\n                            }\n                        }\n                    });\n}\nprivate Runnable task = new Runnable() {\n    public void run() {\n\n        checkUserLogin();\n    }\n};\n@Override\nprotected void onStart() {\n    super.onStart();\n    if(myFirebaseRef == null) {\n        myFirebaseRef = new Firebase(FIREBASE_URL);\n    }\n    Handler handler = new Handler();\n    handler.postDelayed(task, 3000);\n\n}\n@Override\nprotected void onDestroy() {\n    super.onDestroy();\n\n    unbindDrawables(rootView);\n    rootView = null;\n    System.gc();\n\n}\nprotected void unbindDrawables(View view) {\n    if (view != null) {\n        if (view.getBackground() != null) {\n            view.getBackground().setCallback(null);\n        }\n        if (view instanceof ViewGroup &amp;&amp; !(view instanceof AdapterView)) {\n            for (int i = 0; i &lt; ((ViewGroup) view).getChildCount(); i++) {\n                unbindDrawables(((ViewGroup) view).getChildAt(i));\n            }\n            ((ViewGroup) view).removeAllViews();\n        }\n\n    }\n\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":["java","android","string","mobile","arabic"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1691503222,"post_id":76859640,"comment_id":135498485,"body_markdown":"*String with diacritics :  * Which are the &quot;diacritics&quot; in that?","body":"<i>String with diacritics :  </i> Which are the &quot;diacritics&quot; in that?"}],"owner":{"account_id":24880546,"reputation":1,"user_id":18753810,"display_name":"Mohd Saadi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691498212,"creation_date":1691498212,"question_id":76859640,"body_markdown":"I want to highlight a searched word in a string that contains diacritics, \r\nthe user search for a word example &quot;&quot; so I&#39;ve implemented a function that removes the diacritics from the string and return the index of the searched word in the string \r\nString with diacritics :  \r\nString without diacritics :     here the start index of the word is 6\r\nbut the problem is that the index of the searched word is not the same in the content with diacritics \r\n\r\n\r\n\r\nthis is the method that retrieve the index of the searched word and apply highlights \r\n```\r\n        String normalizedSearchText = removeDiacritics(searchText.toLowerCase().trim());\r\n        String normalizedContent = removeDiacritics(content.toLowerCase().trim());\r\n\r\n        int startIndex = normalizedContent.indexOf(normalizedSearchText);\r\n\r\n        if (startIndex != -1) {\r\n            Spannable spannable = new SpannableString(content);\r\n            int endIndex = startIndex + searchText.length();\r\n\r\n            // Customize the background color of the matched text\r\n            BackgroundColorSpan backgroundColorSpan = new BackgroundColorSpan(Color.YELLOW);\r\n            spannable.setSpan(backgroundColorSpan, startIndex, endIndex, Spannable.SPAN_EXCLUSIVE_EXCLUSIVE);\r\n\r\n            // Apply the Spannable to the TextView\r\n            binding.tvContent.setText(spannable);\r\n```\r\nthis is the output \r\n[the searched word is the second word](https://i.stack.imgur.com/PAeVs.jpg)\r\n","title":"highlight an arabic word in a string with diacritics Android","body":"<p>I want to highlight a searched word in a string that contains diacritics,\nthe user search for a word example &quot;&quot; so I've implemented a function that removes the diacritics from the string and return the index of the searched word in the string\nString with diacritics :  \nString without diacritics :     here the start index of the word is 6\nbut the problem is that the index of the searched word is not the same in the content with diacritics</p>\n<p>this is the method that retrieve the index of the searched word and apply highlights</p>\n<pre><code>        String normalizedSearchText = removeDiacritics(searchText.toLowerCase().trim());\n        String normalizedContent = removeDiacritics(content.toLowerCase().trim());\n\n        int startIndex = normalizedContent.indexOf(normalizedSearchText);\n\n        if (startIndex != -1) {\n            Spannable spannable = new SpannableString(content);\n            int endIndex = startIndex + searchText.length();\n\n            // Customize the background color of the matched text\n            BackgroundColorSpan backgroundColorSpan = new BackgroundColorSpan(Color.YELLOW);\n            spannable.setSpan(backgroundColorSpan, startIndex, endIndex, Spannable.SPAN_EXCLUSIVE_EXCLUSIVE);\n\n            // Apply the Spannable to the TextView\n            binding.tvContent.setText(spannable);\n</code></pre>\n<p>this is the output\n<a href=\"https://i.stack.imgur.com/PAeVs.jpg\" rel=\"nofollow noreferrer\">the searched word is the second word</a></p>\n"},{"tags":["java","proxy","playwright"],"owner":{"account_id":21200376,"reputation":111,"user_id":15591155,"display_name":"salat _"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691498199,"creation_date":1691498199,"question_id":76859637,"body_markdown":"(I use chrome channel on chromium browser with headless mode turned off for testing)\r\n\r\nI create a proxy options like that:\r\n\r\n    new Proxy(&quot;000.000.000.000:1080&quot;).setPassword(&quot;passwordhere&quot;).setUsername(&quot;usernamehere&quot;)\r\n\r\nI also tried to do it like that\r\n\r\n    new Proxy(&quot;http://000.000.000.000:1080&quot;).setPassword(&quot;passwordhere&quot;).setUsername(&quot;usernamehere&quot;)\r\n\r\nCurrently, I am using a socks5 proxy which is shown to be working through different proxychecker websites and telegram options. But when I try to get anything inside the browser with this proxy - I get connection reset every time. What is the problem? I cant find anything related to it on the internet.","title":"Keep getting connection reset for every web resource when setting proxy in playwright (Java)","body":"<p>(I use chrome channel on chromium browser with headless mode turned off for testing)</p>\n<p>I create a proxy options like that:</p>\n<pre><code>new Proxy(&quot;000.000.000.000:1080&quot;).setPassword(&quot;passwordhere&quot;).setUsername(&quot;usernamehere&quot;)\n</code></pre>\n<p>I also tried to do it like that</p>\n<pre><code>new Proxy(&quot;http://000.000.000.000:1080&quot;).setPassword(&quot;passwordhere&quot;).setUsername(&quot;usernamehere&quot;)\n</code></pre>\n<p>Currently, I am using a socks5 proxy which is shown to be working through different proxychecker websites and telegram options. But when I try to get anything inside the browser with this proxy - I get connection reset every time. What is the problem? I cant find anything related to it on the internet.</p>\n"},{"tags":["java","spring-boot","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":15636414,"reputation":250,"user_id":11281144,"display_name":"Eyasu"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1640960642,"creation_date":1640959893,"answer_id":70543092,"question_id":70528792,"body_markdown":"I add age column , we can get age with out any calculation \r\n\r\n    @Entity\r\n    public class Users {\r\n        ...\r\n        @Formula(&quot;date_part(&#39;year&#39;,AGE(current_date,birth_date))&quot;)\r\n        @Column(name = &quot;age&quot;)\r\n        private Integer age;\r\n    }\r\n\r\nCREATE FUNCTION ON POSTGRES WHCIH CALCULATE AGE \r\n\r\n    CREATE OR REPLACE FUNCTION get_age( birthday timestamp )\r\n    RETURNS integer\r\n    AS $CODE$\r\n    BEGIN\r\n        RETURN date_part(&#39;year&#39;,age(birthday));\r\n    END\r\n    $CODE$\r\n    LANGUAGE plpgsql IMMUTABLE;\r\n\r\nAND I MODIFY THE TABLE BY ADDING age column which will be calculated from birth_date\r\n\r\n        CREATE TABLE Users (\r\n            ....\r\n            birth_date timestamp not null,\r\n            age text GENERATED ALWAYS AS (get_age(birth_date)) stored \r\n        );\r\n\r\nNow I can filter by `age` , `age` as an integer value which derived from `birth_date`\r\n\r\n\r\nWhen we come on Spring boot specification query now this work \r\n\r\n    public class SearchSpecification implements Specification&lt;Users&gt; {\r\n        private List&lt;SearchCriteria&gt; list;\r\n        public SearchSpecification() {\r\n            this.list = new ArrayList&lt;&gt;();\r\n        }\r\n        public void add(SearchCriteria criteria) {\r\n            list.add(criteria);\r\n        }\r\n        @Override\r\n        public Predicate toPredicate(Root&lt;UserActualDatum&gt; root, CriteriaQuery&lt;?&gt; query, CriteriaBuilder builder) {\r\n    \r\n                    predicates.add(builder.lessThanOrEqualTo(\r\n                            root.&lt;Integer&gt;get(criteria.getKey()), (Integer) criteria.getValue()));\r\n    \r\n               return builder.and(predicates.toArray(new Predicate[0]));\r\n        }\r\n    }\r\n\r\n\r\nResource : https://stackoverflow.com/questions/62963827/how-to-compute-a-derived-age-attribute-in-postgresql","title":"How to query by age on spring boot specification","body":"<p>I add age column , we can get age with out any calculation</p>\n<pre><code>@Entity\npublic class Users {\n    ...\n    @Formula(&quot;date_part('year',AGE(current_date,birth_date))&quot;)\n    @Column(name = &quot;age&quot;)\n    private Integer age;\n}\n</code></pre>\n<p>CREATE FUNCTION ON POSTGRES WHCIH CALCULATE AGE</p>\n<pre><code>CREATE OR REPLACE FUNCTION get_age( birthday timestamp )\nRETURNS integer\nAS $CODE$\nBEGIN\n    RETURN date_part('year',age(birthday));\nEND\n$CODE$\nLANGUAGE plpgsql IMMUTABLE;\n</code></pre>\n<p>AND I MODIFY THE TABLE BY ADDING age column which will be calculated from birth_date</p>\n<pre><code>    CREATE TABLE Users (\n        ....\n        birth_date timestamp not null,\n        age text GENERATED ALWAYS AS (get_age(birth_date)) stored \n    );\n</code></pre>\n<p>Now I can filter by <code>age</code> , <code>age</code> as an integer value which derived from <code>birth_date</code></p>\n<p>When we come on Spring boot specification query now this work</p>\n<pre><code>public class SearchSpecification implements Specification&lt;Users&gt; {\n    private List&lt;SearchCriteria&gt; list;\n    public SearchSpecification() {\n        this.list = new ArrayList&lt;&gt;();\n    }\n    public void add(SearchCriteria criteria) {\n        list.add(criteria);\n    }\n    @Override\n    public Predicate toPredicate(Root&lt;UserActualDatum&gt; root, CriteriaQuery&lt;?&gt; query, CriteriaBuilder builder) {\n\n                predicates.add(builder.lessThanOrEqualTo(\n                        root.&lt;Integer&gt;get(criteria.getKey()), (Integer) criteria.getValue()));\n\n           return builder.and(predicates.toArray(new Predicate[0]));\n    }\n}\n</code></pre>\n<p>Resource : <a href=\"https://stackoverflow.com/questions/62963827/how-to-compute-a-derived-age-attribute-in-postgresql\">How to compute a derived age attribute in postgresql?</a></p>\n"},{"comments":[{"owner":{"account_id":16141430,"reputation":111,"user_id":11652444,"display_name":"bangeboss"},"score":0,"creation_date":1691497745,"post_id":76356504,"comment_id":135497171,"body_markdown":"currentTime() results in an error, instead use currentTimestamp()","body":"currentTime() results in an error, instead use currentTimestamp()"},{"owner":{"account_id":2533010,"reputation":743,"user_id":2200883,"accept_rate":76,"display_name":"Mohammad Hammadi"},"score":0,"creation_date":1691569603,"post_id":76356504,"comment_id":135507947,"body_markdown":"currentTime() is working for me","body":"currentTime() is working for me"},{"owner":{"account_id":16141430,"reputation":111,"user_id":11652444,"display_name":"bangeboss"},"score":0,"creation_date":1696926248,"post_id":76356504,"comment_id":136211721,"body_markdown":"Well, if it works good for you. For my case PostgreSQL did not recognize it. Which database are you using?","body":"Well, if it works good for you. For my case PostgreSQL did not recognize it. Which database are you using?"},{"owner":{"account_id":2533010,"reputation":743,"user_id":2200883,"accept_rate":76,"display_name":"Mohammad Hammadi"},"score":0,"creation_date":1697015100,"post_id":76356504,"comment_id":136225053,"body_markdown":"I am using Postgres Database","body":"I am using Postgres Database"}],"tags":[],"owner":{"account_id":2533010,"reputation":743,"user_id":2200883,"accept_rate":76,"display_name":"Mohammad Hammadi"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685355739,"creation_date":1685355739,"answer_id":76356504,"question_id":70528792,"body_markdown":"You can use CriteriaBuilder functions to achieve this easily as follow:\r\n\r\nFull code would be like:\r\n\r\n    return (Root&lt;Vessel&gt; root, CriteriaQuery&lt;?&gt; query, CriteriaBuilder criteriaBuilder) -&gt; {\r\n            return criteriaBuilder.equal(criteriaBuilder.diff(\r\n                                            criteriaBuilder.function(&quot;date_part&quot;, Integer.class, criteriaBuilder.literal(&quot;YEAR&quot;), criteriaBuilder.currentTime()),\r\n                                            criteriaBuilder.function(&quot;date_part&quot;, Integer.class, criteriaBuilder.literal(&quot;YEAR&quot;), root.get(&quot;birthDate&quot;))\r\n                                         ),\r\n                                   searchedValue\r\n            );\r\n        };\r\n\r\nIn order to get the current year from Postgres (Expression 1):\r\n\r\n    criteriaBuilder.function(&quot;date_part&quot;, Integer.class, criteriaBuilder.literal(&quot;YEAR&quot;), criteriaBuilder.currentTime());\r\n    // Result example: 2023\r\n\r\nTo get birthdate Year (Expression 2):\r\n\r\n    criteriaBuilder.function(&quot;date_part&quot;, Integer.class, criteriaBuilder.literal(&quot;YEAR&quot;), root.get(&quot;birthDate&quot;))\r\n    // Result example: 2000\r\n\r\nThen get the age using diff:\r\n\r\n    criteriaBuilder.diff(Expression 1, Expression 2)\r\n    // example: criteriaBuilder.diff(2023, 2000)\r\n\r\nHere diff() gets the difference between the two years: 2023 -2000 = 23\r\n\r\nThen Apply the equal()\r\n\r\n    criteriaBuilder.equal(calculatedAge, searchedAge)","title":"How to query by age on spring boot specification","body":"<p>You can use CriteriaBuilder functions to achieve this easily as follow:</p>\n<p>Full code would be like:</p>\n<pre><code>return (Root&lt;Vessel&gt; root, CriteriaQuery&lt;?&gt; query, CriteriaBuilder criteriaBuilder) -&gt; {\n        return criteriaBuilder.equal(criteriaBuilder.diff(\n                                        criteriaBuilder.function(&quot;date_part&quot;, Integer.class, criteriaBuilder.literal(&quot;YEAR&quot;), criteriaBuilder.currentTime()),\n                                        criteriaBuilder.function(&quot;date_part&quot;, Integer.class, criteriaBuilder.literal(&quot;YEAR&quot;), root.get(&quot;birthDate&quot;))\n                                     ),\n                               searchedValue\n        );\n    };\n</code></pre>\n<p>In order to get the current year from Postgres (Expression 1):</p>\n<pre><code>criteriaBuilder.function(&quot;date_part&quot;, Integer.class, criteriaBuilder.literal(&quot;YEAR&quot;), criteriaBuilder.currentTime());\n// Result example: 2023\n</code></pre>\n<p>To get birthdate Year (Expression 2):</p>\n<pre><code>criteriaBuilder.function(&quot;date_part&quot;, Integer.class, criteriaBuilder.literal(&quot;YEAR&quot;), root.get(&quot;birthDate&quot;))\n// Result example: 2000\n</code></pre>\n<p>Then get the age using diff:</p>\n<pre><code>criteriaBuilder.diff(Expression 1, Expression 2)\n// example: criteriaBuilder.diff(2023, 2000)\n</code></pre>\n<p>Here diff() gets the difference between the two years: 2023 -2000 = 23</p>\n<p>Then Apply the equal()</p>\n<pre><code>criteriaBuilder.equal(calculatedAge, searchedAge)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16141430,"reputation":111,"user_id":11652444,"display_name":"bangeboss"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691497585,"creation_date":1691497585,"answer_id":76859552,"question_id":70528792,"body_markdown":"If you are using PostgreSQL as your database, then you can use the `age` function in the criteria builder.\r\n```\r\npublic class SearchSpecification implements Specification&lt;Users&gt; {\r\n    \r\n    private Integer ageLimit;\r\n\r\n    \r\n    @Override\r\n    public Predicate toPredicate(Root&lt;UserActualDatum&gt; root, CriteriaQuery&lt;?&gt; query, CriteriaBuilder builder) {\r\n        final ArrayList&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\r\n        if(ageLimit!=null){\r\n            predicates.add(\r\n                    builder.lessThanOrEqualTo(\r\n                            builder.function(&quot;date_part&quot;, Integer.class, builder.literal(&quot;YEAR&quot;),\r\n                                    builder.function(&quot;age&quot;, String.class, builder.currentTimestamp(), root.get(&quot;birthDate&quot;))\r\n                            ), ageLimit\r\n                    )\r\n            );\r\n        }\r\n        return builder.and(predicates.toArray(new Predicate[predicates.size()]));\r\n    }\r\n}\r\n```\r\n\r\nNotice that we have used the `date_part` function to extract the number of years (as an integer) returned from the `age` function before applying the `lessThanOrEqualTo` method. ","title":"How to query by age on spring boot specification","body":"<p>If you are using PostgreSQL as your database, then you can use the <code>age</code> function in the criteria builder.</p>\n<pre><code>public class SearchSpecification implements Specification&lt;Users&gt; {\n    \n    private Integer ageLimit;\n\n    \n    @Override\n    public Predicate toPredicate(Root&lt;UserActualDatum&gt; root, CriteriaQuery&lt;?&gt; query, CriteriaBuilder builder) {\n        final ArrayList&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\n        if(ageLimit!=null){\n            predicates.add(\n                    builder.lessThanOrEqualTo(\n                            builder.function(&quot;date_part&quot;, Integer.class, builder.literal(&quot;YEAR&quot;),\n                                    builder.function(&quot;age&quot;, String.class, builder.currentTimestamp(), root.get(&quot;birthDate&quot;))\n                            ), ageLimit\n                    )\n            );\n        }\n        return builder.and(predicates.toArray(new Predicate[predicates.size()]));\n    }\n}\n</code></pre>\n<p>Notice that we have used the <code>date_part</code> function to extract the number of years (as an integer) returned from the <code>age</code> function before applying the <code>lessThanOrEqualTo</code> method.</p>\n"}],"owner":{"account_id":15636414,"reputation":250,"user_id":11281144,"display_name":"Eyasu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1689,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70543092,"answer_count":3,"score":2,"last_activity_date":1691497585,"creation_date":1640850562,"question_id":70528792,"body_markdown":"    @Entity\r\n    public class Users {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n        @Column(name = &quot;full_name&quot;, nullable = false, length = 50)\r\n        private String fullName;\r\n        @Column(name = &quot;current_location&quot;, nullable = false)\r\n        private String currentLocation;\r\n        @Column(name = &quot;gender&quot;, nullable = false, length = 6)\r\n        private String gender;\r\n        @Column(name = &quot;birth_date&quot;, nullable = false)\r\n        private Timestamp birthDate;\r\n    }\r\nI user the following to filter user by gender\r\n\r\n    public class SearchSpecification implements Specification&lt;Users&gt; {\r\n        private List&lt;SearchCriteria&gt; list;\r\n        public SearchSpecification() {\r\n            this.list = new ArrayList&lt;&gt;();\r\n        }\r\n        public void add(SearchCriteria criteria) {\r\n            list.add(criteria);\r\n        }\r\n        @Override\r\n        public Predicate toPredicate(Root&lt;UserActualDatum&gt; root, CriteriaQuery&lt;?&gt; query, CriteriaBuilder builder) {\r\n    \r\n               predicates.add(builder.like(root.&lt;String&gt;get(criteria.getKey()), (String) criteria.getValue()));\r\n               return builder.and(predicates.toArray(new Predicate[0]));\r\n        }\r\n    }\r\n\r\nBut I want to filter Users by age, I have `birthDate` column which store date of birth of the user. It is possible to calculate age in postgres database using `AGE()` function but when I come to Spring Specification Query I can not calculate age from date of birth and filter by calculate age.\r\n\r\n","title":"How to query by age on spring boot specification","body":"<pre><code>@Entity\npublic class Users {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    @Column(name = &quot;full_name&quot;, nullable = false, length = 50)\n    private String fullName;\n    @Column(name = &quot;current_location&quot;, nullable = false)\n    private String currentLocation;\n    @Column(name = &quot;gender&quot;, nullable = false, length = 6)\n    private String gender;\n    @Column(name = &quot;birth_date&quot;, nullable = false)\n    private Timestamp birthDate;\n}\n</code></pre>\n<p>I user the following to filter user by gender</p>\n<pre><code>public class SearchSpecification implements Specification&lt;Users&gt; {\n    private List&lt;SearchCriteria&gt; list;\n    public SearchSpecification() {\n        this.list = new ArrayList&lt;&gt;();\n    }\n    public void add(SearchCriteria criteria) {\n        list.add(criteria);\n    }\n    @Override\n    public Predicate toPredicate(Root&lt;UserActualDatum&gt; root, CriteriaQuery&lt;?&gt; query, CriteriaBuilder builder) {\n\n           predicates.add(builder.like(root.&lt;String&gt;get(criteria.getKey()), (String) criteria.getValue()));\n           return builder.and(predicates.toArray(new Predicate[0]));\n    }\n}\n</code></pre>\n<p>But I want to filter Users by age, I have <code>birthDate</code> column which store date of birth of the user. It is possible to calculate age in postgres database using <code>AGE()</code> function but when I come to Spring Specification Query I can not calculate age from date of birth and filter by calculate age.</p>\n"},{"tags":["java","spring","spring-boot","startup","trace"],"comments":[{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1691498000,"post_id":76859549,"comment_id":135497233,"body_markdown":"What does *it&#39;s run fast infinitely* mean? Besides the fact that you have posted some normal tracing level log messages?","body":"What does <i>it&#39;s run fast infinitely</i> mean? Besides the fact that you have posted some normal tracing level log messages?"},{"owner":{"account_id":13483389,"reputation":497,"user_id":9727918,"display_name":"lingar"},"score":0,"creation_date":1691498707,"post_id":76859549,"comment_id":135497403,"body_markdown":"It&#39;s run fast and log more and more rows. \n\nThe actual log contains dozens of rows. And not stopping run.","body":"It&#39;s run fast and log more and more rows.   The actual log contains dozens of rows. And not stopping run."},{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1691498760,"post_id":76859549,"comment_id":135497413,"body_markdown":"Expect *thousands* of rows. TRACE is **verbose** and you told it to do that *everywhere*.","body":"Expect <i>thousands</i> of rows. TRACE is <b>verbose</b> and you told it to do that <i>everywhere</i>."},{"owner":{"account_id":13483389,"reputation":497,"user_id":9727918,"display_name":"lingar"},"score":0,"creation_date":1691501408,"post_id":76859549,"comment_id":135498040,"body_markdown":"But it is excessive, and without a break. thousands every second. It crashes the system eventually.","body":"But it is excessive, and without a break. thousands every second. It crashes the system eventually."},{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1691503391,"post_id":76859549,"comment_id":135498536,"body_markdown":"It should not &quot;crashes the system eventually&quot; unless you have extremely limited disk space, and even then you could add more disk space  or disable root level tracing. You should have realized that tracing everything isn&#39;t very productive already. You enable trace on small sections of code. Not everywhere.","body":"It should not &quot;crashes the system eventually&quot; unless you have extremely limited disk space, and even then you could add more disk space  or disable root level tracing. You should have realized that tracing everything isn&#39;t very productive already. You enable trace on small sections of code. Not everywhere."},{"owner":{"account_id":13483389,"reputation":497,"user_id":9727918,"display_name":"lingar"},"score":0,"creation_date":1691528022,"post_id":76859549,"comment_id":135503268,"body_markdown":"So you are saying that it&#39;s expected behavior?","body":"So you are saying that it&#39;s expected behavior?"},{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1691535168,"post_id":76859549,"comment_id":135504188,"body_markdown":"Based on what you&#39;ve posted so far, yes.","body":"Based on what you&#39;ve posted so far, yes."}],"owner":{"account_id":13483389,"reputation":497,"user_id":9727918,"display_name":"lingar"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691497579,"creation_date":1691497579,"question_id":76859549,"body_markdown":"I have a web app running with spring-boot\r\n\r\nwhen I put the logging level:\r\n\r\n    logging.level.root=TRACE\r\n\r\nFrom unknown reason it&#39;s run fast infinitely\r\n\r\nDoes someone know what could be the reason? \r\n\r\nFrom my code inspection I find that it&#39;s starting when the spring launching on. \r\n\r\nThat&#39;s part of the starting log (SO don&#39;t let me add more rows ):\r\n\r\n\r\n\r\n\r\n    2023-08-08 15:07:12.926 TRACE 27396 --- [  restartedMain] o.s.c.e.PropertySourcesPropertyResolver  : Searching for key &#39;logging.register-shutdown-hook&#39; in PropertySource &#39;servletConfigInitParams&#39;\r\n    2023-08-08 15:07:12.928 TRACE 27396 --- [  restartedMain] o.s.c.e.PropertySourcesPropertyResolver  : Searching for key &#39;logging.register-shutdown-hook&#39; in PropertySource &#39;servletContextInitParams&#39;\r\n    2023-08-08 15:07:12.928 TRACE 27396 --- [  restartedMain] o.s.c.e.PropertySourcesPropertyResolver  : Searching for key &#39;logging.register-shutdown-hook&#39; in PropertySource &#39;systemProperties&#39;\r\n    2023-08-08 15:07:12.928 TRACE 27396 --- [  restartedMain] ","title":"TRACE logging level run infinitely on spring boot web app","body":"<p>I have a web app running with spring-boot</p>\n<p>when I put the logging level:</p>\n<pre><code>logging.level.root=TRACE\n</code></pre>\n<p>From unknown reason it's run fast infinitely</p>\n<p>Does someone know what could be the reason?</p>\n<p>From my code inspection I find that it's starting when the spring launching on.</p>\n<p>That's part of the starting log (SO don't let me add more rows ):</p>\n<pre><code>2023-08-08 15:07:12.926 TRACE 27396 --- [  restartedMain] o.s.c.e.PropertySourcesPropertyResolver  : Searching for key 'logging.register-shutdown-hook' in PropertySource 'servletConfigInitParams'\n2023-08-08 15:07:12.928 TRACE 27396 --- [  restartedMain] o.s.c.e.PropertySourcesPropertyResolver  : Searching for key 'logging.register-shutdown-hook' in PropertySource 'servletContextInitParams'\n2023-08-08 15:07:12.928 TRACE 27396 --- [  restartedMain] o.s.c.e.PropertySourcesPropertyResolver  : Searching for key 'logging.register-shutdown-hook' in PropertySource 'systemProperties'\n2023-08-08 15:07:12.928 TRACE 27396 --- [  restartedMain] \n</code></pre>\n"},{"tags":["java","json","data-masking","pii"],"answers":[{"comments":[{"owner":{"account_id":10961577,"reputation":964,"user_id":8054721,"display_name":"amarnath harish"},"score":0,"creation_date":1652095578,"post_id":29265571,"comment_id":127515106,"body_markdown":"what if the json contains array of objects nested into an array of object.This is not full solution.","body":"what if the json contains array of objects nested into an array of object.This is not full solution."}],"tags":[],"owner":{"account_id":5985634,"reputation":443,"user_id":4703291,"display_name":"Oleg"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1427314219,"creation_date":1427314219,"answer_id":29265571,"question_id":29263036,"body_markdown":"You could use jackson to convert json to map, process map and convert map back to json.\r\n\r\nFor example:\r\n\r\n    import org.codehaus.jackson.map.ObjectMapper;\r\n    import org.codehaus.jackson.type.TypeReference;\r\n    \r\n    public void mask() throws IOException {\r\n    String jsonString = &quot;{\\n&quot; +\r\n                &quot;    \\&quot;key1\\&quot;:\\&quot;value1\\&quot;,\\n&quot; +\r\n                &quot;    \\&quot;key2\\&quot;:\\&quot;value2\\&quot;,\\n&quot; +\r\n                &quot;    \\&quot;key3\\&quot;:\\&quot;value3\\&quot;\\n&quot; +\r\n                &quot;}&quot;;\r\n        Map&lt;String, Object&gt; map;    \r\n\r\n        // Convert json to map\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        try {\r\n            TypeReference ref = new TypeReference&lt;Map&lt;String, Object&gt;&gt;() { };\r\n            map = mapper.readValue(jsonString, ref);\r\n        } catch (IOException e) {\r\n            System.out.print(&quot;cannot create Map from json&quot; + e.getMessage());\r\n            throw e;\r\n        }\r\n\r\n        // Process map\r\n        if(map.containsKey(&quot;key2&quot;)) {\r\n            map.put(&quot;key2&quot;,&quot;xxxxxxxxx&quot;);\r\n        }\r\n\r\n        // Convert back map to json\r\n        String jsonResult = &quot;&quot;;\r\n        try {\r\n            jsonResult = mapper.writeValueAsString(map);\r\n        } catch (IOException e) {\r\n            System.out.print(&quot;cannot create json from Map&quot; + e.getMessage());\r\n        }\r\n\r\n        System.out.print(jsonResult);\r\n\r\n\r\n\r\n\r\n","title":"JSON PII data masking in Java","body":"<p>You could use jackson to convert json to map, process map and convert map back to json.</p>\n\n<p>For example:</p>\n\n<pre><code>import org.codehaus.jackson.map.ObjectMapper;\nimport org.codehaus.jackson.type.TypeReference;\n\npublic void mask() throws IOException {\nString jsonString = \"{\\n\" +\n            \"    \\\"key1\\\":\\\"value1\\\",\\n\" +\n            \"    \\\"key2\\\":\\\"value2\\\",\\n\" +\n            \"    \\\"key3\\\":\\\"value3\\\"\\n\" +\n            \"}\";\n    Map&lt;String, Object&gt; map;    \n\n    // Convert json to map\n    ObjectMapper mapper = new ObjectMapper();\n    try {\n        TypeReference ref = new TypeReference&lt;Map&lt;String, Object&gt;&gt;() { };\n        map = mapper.readValue(jsonString, ref);\n    } catch (IOException e) {\n        System.out.print(\"cannot create Map from json\" + e.getMessage());\n        throw e;\n    }\n\n    // Process map\n    if(map.containsKey(\"key2\")) {\n        map.put(\"key2\",\"xxxxxxxxx\");\n    }\n\n    // Convert back map to json\n    String jsonResult = \"\";\n    try {\n        jsonResult = mapper.writeValueAsString(map);\n    } catch (IOException e) {\n        System.out.print(\"cannot create json from Map\" + e.getMessage());\n    }\n\n    System.out.print(jsonResult);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18070045,"reputation":31,"user_id":13134925,"display_name":"Sureshkumar V"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1585309596,"creation_date":1585309596,"answer_id":60885365,"question_id":29263036,"body_markdown":"input will be JSON object or array type in string format. Here the maskable keys only static otherwise input string will dynamic.\r\n\r\n```\r\npublic final class MaskPIData {\r\n\r\n  /**\r\n   * Mask able keywords mentioned here. It should be in LOWER CASE.\r\n   */\r\n  private static final Set&lt;String&gt; MASKABLE_KEYS = new HashSet&lt;&gt;(Arrays.asList(\r\n    &quot;email&quot;,\r\n    &quot;emails&quot;,\r\n    &quot;phone&quot;,\r\n    &quot;pin&quot;,\r\n    &quot;password&quot;,\r\n    &quot;phonenumber&quot;,\r\n    &quot;moneys&quot;));\r\n\r\n  private static final String MASKING_VALUE = &quot;****&quot;;\r\n\r\n  private static final ObjectMapper OBJECTMAPPER =  new ObjectMapper();\r\n\r\n  private MaskPIData() {\r\n    super();\r\n  }\r\n\r\n  private static boolean isValidSet(Set&lt;String&gt; set) {\r\n    return set != null &amp;&amp; !set.isEmpty();\r\n  }\r\n\r\n  private static boolean isKnownPrimitiveWrapperModel(Object obj) {\r\n    return obj == null || obj instanceof String || obj instanceof Integer || obj instanceof Long\r\n      || obj instanceof Double;\r\n  }\r\n\r\n  @SuppressWarnings(&quot;unchecked&quot;)\r\n  private static JSONObject maskingForJsonObject(Set&lt;String&gt; maskableKeys, JSONObject input) {\r\n    if (!isValidSet(maskableKeys) || input == null) {\r\n      return input;\r\n    }\r\n\r\n    Map&lt;String, Object&gt; inputMap = (Map&lt;String, Object&gt;) input;\r\n    Map&lt;String, Object&gt; caseInsensitiveInputMap = new TreeMap&lt;&gt;(String.CASE_INSENSITIVE_ORDER);\r\n    caseInsensitiveInputMap.putAll(inputMap);\r\n\r\n    for (Map.Entry&lt;String, Object&gt; entryPair : caseInsensitiveInputMap.entrySet()) {\r\n      if (entryPair.getValue() instanceof JSONArray) {\r\n        JSONArray jsonArr = (JSONArray) caseInsensitiveInputMap.get(entryPair.getKey());\r\n        maskingForArray(maskableKeys, entryPair.getKey(), jsonArr);\r\n        caseInsensitiveInputMap.put(entryPair.getKey(), jsonArr);\r\n      } else if (entryPair.getValue() instanceof JSONObject) {\r\n        JSONObject jsonObj = (JSONObject) caseInsensitiveInputMap.get(entryPair.getKey());\r\n        caseInsensitiveInputMap.put(entryPair.getKey(), maskingForJsonObject(maskableKeys, jsonObj));\r\n      } else if (entryPair.getKey() != null &amp;&amp; maskableKeys.contains(entryPair.getKey().toLowerCase())) {\r\n        caseInsensitiveInputMap.put(entryPair.getKey(), MASKING_VALUE);\r\n      }\r\n    }\r\n\r\n    return OBJECTMAPPER.convertValue(caseInsensitiveInputMap, JSONObject.class);\r\n  }\r\n\r\n  @SuppressWarnings(&quot;unchecked&quot;)\r\n  private static JSONArray maskingForArray(Set&lt;String&gt; maskableKeys, String key,\r\n    JSONArray jsonArr) {\r\n    JSONArray toRet = jsonArr;\r\n    for (int idx = 0; idx &lt; toRet.size(); idx++) {\r\n      Object obj = toRet.get(idx);\r\n      if (isKnownPrimitiveWrapperModel(obj)) {\r\n        if (key != null &amp;&amp; maskableKeys.contains(key.toLowerCase())) {\r\n          toRet.remove(idx);\r\n          toRet.add(idx, MASKING_VALUE);\r\n        }\r\n      } else {\r\n        JSONObject jsonObjFromArray = (JSONObject) toRet.get(idx);\r\n        JSONObject maskedJsonObj = maskingForJsonObject(maskableKeys, jsonObjFromArray);\r\n        toRet.remove(idx);\r\n        toRet.add(idx, maskedJsonObj);\r\n      }\r\n    }\r\n    return toRet;\r\n  }\r\n\r\n  public static String doMask(String input) {\r\n    String maskedData = input;\r\n    if (maskedData != null &amp;&amp; !maskedData.trim().isEmpty()) {\r\n      try {\r\n        if (new JSONParser().parse(maskedData) instanceof JSONObject) {\r\n          JSONObject maskedOutput = maskingForJsonObject(MASKABLE_KEYS,\r\n            (JSONObject) new JSONParser().parse(maskedData));\r\n          maskedData = OBJECTMAPPER.writeValueAsString(maskedOutput);\r\n        } else if (new JSONParser().parse(maskedData) instanceof JSONArray) {\r\n          JSONArray maskedOutput = maskingForArray(MASKABLE_KEYS, null, (JSONArray) new JSONParser().parse(maskedData));\r\n          maskedData = OBJECTMAPPER.writeValueAsString(maskedOutput);\r\n        }\r\n      } catch (Exception e) {\r\n        // to do - Error while masking data\r\n      }\r\n    }\r\n    return maskedData;\r\n  }\r\n\r\n  public static void main(String args[]) {\r\n    String input = &quot;{\\&quot;item\\&quot;:{\\&quot;test\\&quot;:\\&quot;test\\&quot;,\\&quot;phone\\&quot;:\\&quot;993244\\&quot;,\\&quot;email\\&quot;:\\&quot;mail@mail.com\\&quot;}}&quot;;\r\n    System.out.println(doMask(input));\r\n  }\r\n```","title":"JSON PII data masking in Java","body":"<p>input will be JSON object or array type in string format. Here the maskable keys only static otherwise input string will dynamic.</p>\n\n<pre><code>public final class MaskPIData {\n\n  /**\n   * Mask able keywords mentioned here. It should be in LOWER CASE.\n   */\n  private static final Set&lt;String&gt; MASKABLE_KEYS = new HashSet&lt;&gt;(Arrays.asList(\n    \"email\",\n    \"emails\",\n    \"phone\",\n    \"pin\",\n    \"password\",\n    \"phonenumber\",\n    \"moneys\"));\n\n  private static final String MASKING_VALUE = \"****\";\n\n  private static final ObjectMapper OBJECTMAPPER =  new ObjectMapper();\n\n  private MaskPIData() {\n    super();\n  }\n\n  private static boolean isValidSet(Set&lt;String&gt; set) {\n    return set != null &amp;&amp; !set.isEmpty();\n  }\n\n  private static boolean isKnownPrimitiveWrapperModel(Object obj) {\n    return obj == null || obj instanceof String || obj instanceof Integer || obj instanceof Long\n      || obj instanceof Double;\n  }\n\n  @SuppressWarnings(\"unchecked\")\n  private static JSONObject maskingForJsonObject(Set&lt;String&gt; maskableKeys, JSONObject input) {\n    if (!isValidSet(maskableKeys) || input == null) {\n      return input;\n    }\n\n    Map&lt;String, Object&gt; inputMap = (Map&lt;String, Object&gt;) input;\n    Map&lt;String, Object&gt; caseInsensitiveInputMap = new TreeMap&lt;&gt;(String.CASE_INSENSITIVE_ORDER);\n    caseInsensitiveInputMap.putAll(inputMap);\n\n    for (Map.Entry&lt;String, Object&gt; entryPair : caseInsensitiveInputMap.entrySet()) {\n      if (entryPair.getValue() instanceof JSONArray) {\n        JSONArray jsonArr = (JSONArray) caseInsensitiveInputMap.get(entryPair.getKey());\n        maskingForArray(maskableKeys, entryPair.getKey(), jsonArr);\n        caseInsensitiveInputMap.put(entryPair.getKey(), jsonArr);\n      } else if (entryPair.getValue() instanceof JSONObject) {\n        JSONObject jsonObj = (JSONObject) caseInsensitiveInputMap.get(entryPair.getKey());\n        caseInsensitiveInputMap.put(entryPair.getKey(), maskingForJsonObject(maskableKeys, jsonObj));\n      } else if (entryPair.getKey() != null &amp;&amp; maskableKeys.contains(entryPair.getKey().toLowerCase())) {\n        caseInsensitiveInputMap.put(entryPair.getKey(), MASKING_VALUE);\n      }\n    }\n\n    return OBJECTMAPPER.convertValue(caseInsensitiveInputMap, JSONObject.class);\n  }\n\n  @SuppressWarnings(\"unchecked\")\n  private static JSONArray maskingForArray(Set&lt;String&gt; maskableKeys, String key,\n    JSONArray jsonArr) {\n    JSONArray toRet = jsonArr;\n    for (int idx = 0; idx &lt; toRet.size(); idx++) {\n      Object obj = toRet.get(idx);\n      if (isKnownPrimitiveWrapperModel(obj)) {\n        if (key != null &amp;&amp; maskableKeys.contains(key.toLowerCase())) {\n          toRet.remove(idx);\n          toRet.add(idx, MASKING_VALUE);\n        }\n      } else {\n        JSONObject jsonObjFromArray = (JSONObject) toRet.get(idx);\n        JSONObject maskedJsonObj = maskingForJsonObject(maskableKeys, jsonObjFromArray);\n        toRet.remove(idx);\n        toRet.add(idx, maskedJsonObj);\n      }\n    }\n    return toRet;\n  }\n\n  public static String doMask(String input) {\n    String maskedData = input;\n    if (maskedData != null &amp;&amp; !maskedData.trim().isEmpty()) {\n      try {\n        if (new JSONParser().parse(maskedData) instanceof JSONObject) {\n          JSONObject maskedOutput = maskingForJsonObject(MASKABLE_KEYS,\n            (JSONObject) new JSONParser().parse(maskedData));\n          maskedData = OBJECTMAPPER.writeValueAsString(maskedOutput);\n        } else if (new JSONParser().parse(maskedData) instanceof JSONArray) {\n          JSONArray maskedOutput = maskingForArray(MASKABLE_KEYS, null, (JSONArray) new JSONParser().parse(maskedData));\n          maskedData = OBJECTMAPPER.writeValueAsString(maskedOutput);\n        }\n      } catch (Exception e) {\n        // to do - Error while masking data\n      }\n    }\n    return maskedData;\n  }\n\n  public static void main(String args[]) {\n    String input = \"{\\\"item\\\":{\\\"test\\\":\\\"test\\\",\\\"phone\\\":\\\"993244\\\",\\\"email\\\":\\\"mail@mail.com\\\"}}\";\n    System.out.println(doMask(input));\n  }\n</code></pre>\n"}],"owner":{"account_id":99411,"reputation":13903,"user_id":268543,"accept_rate":92,"display_name":"josh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14103,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":29265571,"answer_count":2,"score":1,"last_activity_date":1691497518,"creation_date":1427306164,"question_id":29263036,"body_markdown":"I would like to mask certain elements of JSON and print to logs. Masking can be either by substituting by dummy data or removing the key pair .Is there a utility to do the masking in Java ?\r\n\r\nE.g.,\r\n\r\ngiven JSON:\r\n\r\n    {\r\n        &quot;key1&quot;:&quot;value1&quot;,\r\n        &quot;key2&quot;:&quot;value2&quot;,\r\n        &quot;key3&quot;:&quot;value3&quot;,\r\n    }\r\n\r\nmask key 2 alone and print JSON:\r\n\r\n    {\r\n        &quot;key1&quot;:&quot;value1&quot;,\r\n        &quot;key2&quot;:&quot;xxxxxx&quot;,\r\n        &quot;key3&quot;:&quot;value3&quot;,\r\n    }\r\n\r\nor\r\n\r\n    {\r\n        &quot;key1&quot;:&quot;value1&quot;,\r\n        &quot;key3&quot;:&quot;value3&quot;,\r\n    }","title":"JSON PII data masking in Java","body":"<p>I would like to mask certain elements of JSON and print to logs. Masking can be either by substituting by dummy data or removing the key pair .Is there a utility to do the masking in Java ?</p>\n\n<p>E.g.,</p>\n\n<p>given JSON:</p>\n\n<pre><code>{\n    \"key1\":\"value1\",\n    \"key2\":\"value2\",\n    \"key3\":\"value3\",\n}\n</code></pre>\n\n<p>mask key 2 alone and print JSON:</p>\n\n<pre><code>{\n    \"key1\":\"value1\",\n    \"key2\":\"xxxxxx\",\n    \"key3\":\"value3\",\n}\n</code></pre>\n\n<p>or</p>\n\n<pre><code>{\n    \"key1\":\"value1\",\n    \"key3\":\"value3\",\n}\n</code></pre>\n"},{"tags":["java","spring","azure-application-insights"],"answers":[{"tags":[],"owner":{"account_id":26331226,"reputation":3311,"user_id":19991670,"display_name":"Pravallika KV"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691497289,"creation_date":1691497289,"answer_id":76859519,"question_id":76829481,"body_markdown":"This happens due to incompatibility between the versions of the dependencies and spring boot.\r\n-  `applicationinsights-web` version 3.4.9 is not compatible with `Spring Boot 2.7.13`.\r\n-  `applicationinsights-web` **2.x.x** version is compatible with `spring-boot` 2.x.x.\r\n\r\n**Check if below steps help to fix your issue:**\r\n\r\n- If you are upgrading application insights web version, you need to upgrade ***spring boot*** version to be compatible with the upgraded ***application insights-web*** version.\r\n\r\n- And also, upgrade `application-insights-core` package to its *latest version* to be compatible with your `application-insights-web` version.\r\n```java\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.microsoft.azure&lt;/groupId&gt;\r\n    &lt;artifactId&gt;applicationinsights-core&lt;/artifactId&gt;\r\n    &lt;version&gt;3.4.15&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n- Import `com.microsoft.applicationinsights.web.internal.WebRequestTrackingFilter` and `com.microsoft.applicationinsights.web.internal.WebRequestTrackingFilter` class in your code.\r\n```java\r\npackage  com.example.demo;\r\n\r\nimport  org.springframework.boot.web.servlet.FilterRegistrationBean;\r\nimport  org.springframework.context.annotation.Bean;\r\nimport  org.springframework.context.annotation.ComponentScan;\r\nimport  org.springframework.context.annotation.Configuration;\r\nimport  com.microsoft.applicationinsights.TelemetryConfiguration;\r\nimport  com.microsoft.applicationinsights.web.internal.WebRequestTrackingFilter;\r\n```\r\n\r\n- Instead, you can also use `applicationinsights-runtime-attach` [dependency](https://learn.microsoft.com/en-us/azure/azure-monitor/app/java-spring-boot#enabling-programmatically) in your pom.xml to configure Application Insights.\r\n```Java\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.microsoft.azure&lt;/groupId&gt;\r\n    &lt;artifactId&gt;applicationinsights-runtime-attach&lt;/artifactId&gt;\r\n    &lt;version&gt;3.4.15&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n**References:**\r\n\r\n[Upgrading from 2.x - Azure Monitor Application Insights Java - Azure Monitor ](https://learn.microsoft.com/en-us/azure/azure-monitor/app/java-standalone-upgrade-from-2x)","title":"TelemetryConfiguration is not public in com.microsoft.applicationinsights after updating version to 3.4.9","body":"<p>This happens due to incompatibility between the versions of the dependencies and spring boot.</p>\n<ul>\n<li><code>applicationinsights-web</code> version 3.4.9 is not compatible with <code>Spring Boot 2.7.13</code>.</li>\n<li><code>applicationinsights-web</code> <strong>2.x.x</strong> version is compatible with <code>spring-boot</code> 2.x.x.</li>\n</ul>\n<p><strong>Check if below steps help to fix your issue:</strong></p>\n<ul>\n<li><p>If you are upgrading application insights web version, you need to upgrade <em><strong>spring boot</strong></em> version to be compatible with the upgraded <em><strong>application insights-web</strong></em> version.</p>\n</li>\n<li><p>And also, upgrade <code>application-insights-core</code> package to its <em>latest version</em> to be compatible with your <code>application-insights-web</code> version.</p>\n</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.microsoft.azure&lt;/groupId&gt;\n    &lt;artifactId&gt;applicationinsights-core&lt;/artifactId&gt;\n    &lt;version&gt;3.4.15&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<ul>\n<li>Import <code>com.microsoft.applicationinsights.web.internal.WebRequestTrackingFilter</code> and <code>com.microsoft.applicationinsights.web.internal.WebRequestTrackingFilter</code> class in your code.</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>package  com.example.demo;\n\nimport  org.springframework.boot.web.servlet.FilterRegistrationBean;\nimport  org.springframework.context.annotation.Bean;\nimport  org.springframework.context.annotation.ComponentScan;\nimport  org.springframework.context.annotation.Configuration;\nimport  com.microsoft.applicationinsights.TelemetryConfiguration;\nimport  com.microsoft.applicationinsights.web.internal.WebRequestTrackingFilter;\n</code></pre>\n<ul>\n<li>Instead, you can also use <code>applicationinsights-runtime-attach</code> <a href=\"https://learn.microsoft.com/en-us/azure/azure-monitor/app/java-spring-boot#enabling-programmatically\" rel=\"nofollow noreferrer\">dependency</a> in your pom.xml to configure Application Insights.</li>\n</ul>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.microsoft.azure&lt;/groupId&gt;\n    &lt;artifactId&gt;applicationinsights-runtime-attach&lt;/artifactId&gt;\n    &lt;version&gt;3.4.15&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><strong>References:</strong></p>\n<p><a href=\"https://learn.microsoft.com/en-us/azure/azure-monitor/app/java-standalone-upgrade-from-2x\" rel=\"nofollow noreferrer\">Upgrading from 2.x - Azure Monitor Application Insights Java - Azure Monitor </a></p>\n"}],"owner":{"account_id":23533877,"reputation":21,"user_id":17579107,"display_name":"Simonas Krasauskas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":193,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691497289,"creation_date":1691076005,"question_id":76829481,"body_markdown":"Maven suggests to update com.microsoft.azure:applicationinsights-web to 3.4.9 version, previously I was using 2.6.2. After updating I get errors:\r\n`java: com.microsoft.applicationinsights.TelemetryConfiguration is not public in com.microsoft.applicationinsights; cannot be accessed from outside package`\r\nand\r\n`java: cannot find symbol\r\n  symbol:   class WebRequestTrackingFilter\r\n  location: package com.microsoft.applicationinsights.web.internal`\r\n\r\n\r\nIf I update to the latest 2.x application insights version, everything works fine. But not with 3.x version. I&#39;m using Spring boot 2.7.13.\r\nCould you please advise what steps should I take to resolve this issue? \r\n\r\n\r\n\r\n\r\nCode that I&#39;m using is similar to code below (https://stackoverflow.com/questions/43064476/cannot-get-appinsights-working-under-spring-boot)\r\n```\r\n@Configuration\r\npublic class AppInsightsConfig {\r\n\r\n    @Bean\r\n    public String telemetryConfig() {\r\n        String telemetryKey = System.getenv(&quot;APPLICATION_INSIGHTS_IKEY&quot;);\r\n        if (telemetryKey != null) {\r\n            TelemetryConfiguration.getActive().setInstrumentationKey(telemetryKey);\r\n        }\r\n        return telemetryKey;\r\n    }\r\n\r\n    @Bean\r\n    public FilterRegistrationBean aiFilterRegistration() {\r\n        FilterRegistrationBean registration = new FilterRegistrationBean();\r\n        registration.setFilter(new WebRequestTrackingFilter());\r\n        registration.addUrlPatterns(&quot;/**&quot;);\r\n        registration.setOrder(1);\r\n        return registration;\r\n    } \r\n\r\n    @Bean(name = &quot;WebRequestTrackingFilter&quot;)\r\n    public Filter WebRequestTrackingFilter() {\r\n        return new WebRequestTrackingFilter();\r\n    }   \r\n}\r\n```\r\n","title":"TelemetryConfiguration is not public in com.microsoft.applicationinsights after updating version to 3.4.9","body":"<p>Maven suggests to update com.microsoft.azure:applicationinsights-web to 3.4.9 version, previously I was using 2.6.2. After updating I get errors:\n<code>java: com.microsoft.applicationinsights.TelemetryConfiguration is not public in com.microsoft.applicationinsights; cannot be accessed from outside package</code>\nand\n<code>java: cannot find symbol symbol:   class WebRequestTrackingFilter location: package com.microsoft.applicationinsights.web.internal</code></p>\n<p>If I update to the latest 2.x application insights version, everything works fine. But not with 3.x version. I'm using Spring boot 2.7.13.\nCould you please advise what steps should I take to resolve this issue?</p>\n<p>Code that I'm using is similar to code below (<a href=\"https://stackoverflow.com/questions/43064476/cannot-get-appinsights-working-under-spring-boot\">Cannot get AppInsights working under Spring Boot</a>)</p>\n<pre><code>@Configuration\npublic class AppInsightsConfig {\n\n    @Bean\n    public String telemetryConfig() {\n        String telemetryKey = System.getenv(&quot;APPLICATION_INSIGHTS_IKEY&quot;);\n        if (telemetryKey != null) {\n            TelemetryConfiguration.getActive().setInstrumentationKey(telemetryKey);\n        }\n        return telemetryKey;\n    }\n\n    @Bean\n    public FilterRegistrationBean aiFilterRegistration() {\n        FilterRegistrationBean registration = new FilterRegistrationBean();\n        registration.setFilter(new WebRequestTrackingFilter());\n        registration.addUrlPatterns(&quot;/**&quot;);\n        registration.setOrder(1);\n        return registration;\n    } \n\n    @Bean(name = &quot;WebRequestTrackingFilter&quot;)\n    public Filter WebRequestTrackingFilter() {\n        return new WebRequestTrackingFilter();\n    }   \n}\n</code></pre>\n"},{"tags":["java","android","widget","launcher"],"comments":[{"owner":{"account_id":334117,"reputation":15586,"user_id":660350,"accept_rate":54,"display_name":"Pascal"},"score":1,"creation_date":1453995104,"post_id":11473757,"comment_id":57854160,"body_markdown":"Here is a good explanation along with a full working project:\nhttp://leonardofischer.com/hosting-android-widgets-my-appwidgethost-tutorial/\nSource: http://leonardofischer.com/wp-content/uploads/2012/01/WidgetHostExample.zip\nJust need to apply this fix: http://selvaline.blogspot.it/2015/10/hosting-widgets-and-regurally-update.html","body":"Here is a good explanation along with a full working project: <a href=\"http://leonardofischer.com/hosting-android-widgets-my-appwidgethost-tutorial/\" rel=\"nofollow noreferrer\">leonardofischer.com/&hellip;</a> Source: <a href=\"http://leonardofischer.com/wp-content/uploads/2012/01/WidgetHostExample.zip\" rel=\"nofollow noreferrer\">leonardofischer.com/wp-content/uploads/2012/01/&hellip;</a> Just need to apply this fix: <a href=\"http://selvaline.blogspot.it/2015/10/hosting-widgets-and-regurally-update.html\" rel=\"nofollow noreferrer\">selvaline.blogspot.it/2015/10/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":1583220,"reputation":7661,"user_id":1468093,"accept_rate":86,"display_name":"Kamran Ahmed"},"score":0,"creation_date":1342239546,"post_id":11480986,"comment_id":15161435,"body_markdown":"This is a plug and play code. If you have any doubts, you can ask.","body":"This is a plug and play code. If you have any doubts, you can ask."},{"owner":{"account_id":1583220,"reputation":7661,"user_id":1468093,"accept_rate":86,"display_name":"Kamran Ahmed"},"score":0,"creation_date":1342327216,"post_id":11480986,"comment_id":15175015,"body_markdown":"Run this in debug mode and try to find out the values you are getting in &quot;resultCode&quot; and &quot;requestCode&quot;. Try changing the values of &quot;REQUEST_PICK_APPWIDGET&quot;, &quot;REQUEST_CREATE_APPWIDGET&quot; and &quot;RESULT_OK&quot; accordingly.","body":"Run this in debug mode and try to find out the values you are getting in &quot;resultCode&quot; and &quot;requestCode&quot;. Try changing the values of &quot;REQUEST_PICK_APPWIDGET&quot;, &quot;REQUEST_CREATE_APPWIDGET&quot; and &quot;RESULT_OK&quot; accordingly."},{"owner":{"account_id":199191,"reputation":26273,"user_id":444324,"accept_rate":98,"display_name":"Lior Iluz"},"score":0,"creation_date":1370678117,"post_id":11480986,"comment_id":24558114,"body_markdown":"@Kamran Thanks, works great. Any idea why it doesn&#39;t show all widgets shown when I use the launcher widget picker?","body":"@Kamran Thanks, works great. Any idea why it doesn&#39;t show all widgets shown when I use the launcher widget picker?"},{"owner":{"account_id":1583220,"reputation":7661,"user_id":1468093,"accept_rate":86,"display_name":"Kamran Ahmed"},"score":0,"creation_date":1375425939,"post_id":11480986,"comment_id":26338543,"body_markdown":"Shouldn&#39;t be so... I hope you&#39;re not referring to the widgets which appear only in a particular launcher like &quot;Go SMS&quot; and similar stuff, are you?","body":"Shouldn&#39;t be so... I hope you&#39;re not referring to the widgets which appear only in a particular launcher like &quot;Go SMS&quot; and similar stuff, are you?"},{"owner":{"account_id":233460,"reputation":5636,"user_id":498949,"accept_rate":71,"display_name":"Chris Rae"},"score":0,"creation_date":1418241369,"post_id":11480986,"comment_id":43263665,"body_markdown":"I&#39;m almost embarassed posting this, but if anyone else has trouble figuring out how to get a handle on your Layout, you need to add an attribute &#39;android:id=&quot;@+id/mainLayout&quot;&#39; to the LinearLayout in the XML, at which point you can do LinearLayout myLayout = (LinearLayout)findViewById(R.id.mainLayout) in the code.","body":"I&#39;m almost embarassed posting this, but if anyone else has trouble figuring out how to get a handle on your Layout, you need to add an attribute &#39;android:id=&quot;@+id/mainLayout&quot;&#39; to the LinearLayout in the XML, at which point you can do LinearLayout myLayout = (LinearLayout)findViewById(R.id.mainLayout) in the code."},{"owner":{"account_id":4122735,"reputation":295,"user_id":3382625,"accept_rate":47,"display_name":"treesoft"},"score":0,"creation_date":1433429434,"post_id":11480986,"comment_id":49357959,"body_markdown":"I have done hosting widgets more or less like this, but i`m facing an issue: whenever my app pauses and resumes, widgets are not updating properly (for instance the power-control widget doesnt show the current brightness after resuming and changing the brightness again). Doing what the author of this answer posted in onStop and onStart is not sufficient. Can someone help?","body":"I have done hosting widgets more or less like this, but i`m facing an issue: whenever my app pauses and resumes, widgets are not updating properly (for instance the power-control widget doesnt show the current brightness after resuming and changing the brightness again). Doing what the author of this answer posted in onStop and onStart is not sufficient. Can someone help?"},{"owner":{"account_id":1583220,"reputation":7661,"user_id":1468093,"accept_rate":86,"display_name":"Kamran Ahmed"},"score":0,"creation_date":1496557821,"post_id":11480986,"comment_id":75704896,"body_markdown":"In case anyone is still wondering how to bind widget IDs without system permissions refer the answer here: https://stackoverflow.com/a/44351320/1468093","body":"In case anyone is still wondering how to bind widget IDs without system permissions refer the answer here: <a href=\"https://stackoverflow.com/a/44351320/1468093\">stackoverflow.com/a/44351320/1468093</a>"}],"tags":[],"owner":{"account_id":1583220,"reputation":7661,"user_id":1468093,"accept_rate":86,"display_name":"Kamran Ahmed"},"comment_count":7,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1501562036,"creation_date":1342239474,"answer_id":11480986,"question_id":11473757,"body_markdown":"Try this:\r\n\r\n    final int APPWIDGET_HOST_ID = 2048;\r\n    final int REQUEST_PICK_APPWIDGET = 0;\r\n    final int REQUEST_CREATE_APPWIDGET = 5;\r\n\r\n    AppWidgetManager appWidgetManager;\r\n    AppWidgetHost appWidgetHost;\r\n\r\n    // Let user pick a widget from the list of intalled AppWidgets\r\n    public void selectWidget()\r\n    {\r\n        int appWidgetId = this.appWidgetHost.allocateAppWidgetId();\r\n        Intent pickIntent = new Intent(AppWidgetManager.ACTION_APPWIDGET_PICK);\r\n        pickIntent.putExtra(AppWidgetManager.EXTRA_APPWIDGET_ID, appWidgetId);\r\n        addEmptyData(pickIntent);\r\n        startActivityForResult(pickIntent, REQUEST_PICK_APPWIDGET);\r\n    }\r\n\r\n    // For some reason you have to add this empty data, else it won&#39;t work\r\n    public void addEmptyData(Intent pickIntent)\r\n    {\r\n        ArrayList&lt;AppWidgetProviderInfo&gt; customInfo = \r\n            new ArrayList&lt;AppWidgetProviderInfo&gt;();\r\n        pickIntent.putParcelableArrayListExtra(\r\n            AppWidgetManager.EXTRA_CUSTOM_INFO, customInfo);\r\n        ArrayList&lt;Bundle&gt; customExtras = new ArrayList&lt;Bundle&gt;();\r\n        pickIntent.putParcelableArrayListExtra(\r\n            AppWidgetManager.EXTRA_CUSTOM_EXTRAS, customExtras);\r\n    };\r\n    \r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, \r\n                                    Intent data) {\r\n        if (resultCode == RESULT_OK ) {\r\n            if (requestCode == REQUEST_PICK_APPWIDGET) {\r\n                configureWidget(data);\r\n            }\r\n            else if (requestCode == REQUEST_CREATE_APPWIDGET) {\r\n                createWidget(data);\r\n            }\r\n        }\r\n        else if (resultCode == RESULT_CANCELED &amp;&amp; data != null) {\r\n            int appWidgetId = \r\n                data.getIntExtra(AppWidgetManager.EXTRA_APPWIDGET_ID, -1);\r\n            if (appWidgetId != -1) {\r\n            \tappWidgetHost.deleteAppWidgetId(appWidgetId);\r\n            }\r\n        }\r\n    }\r\n\r\n    // Show configuration activity of the widget picked by the user\r\n    private void configureWidget(Intent data) {\r\n        Bundle extras = data.getExtras();\r\n        int appWidgetId = extras.getInt(AppWidgetManager.EXTRA_APPWIDGET_ID, -1);\r\n        AppWidgetProviderInfo appWidgetInfo = \r\n        \t\tappWidgetManager.getAppWidgetInfo(appWidgetId);\r\n        if (appWidgetInfo.configure != null) {\r\n            Intent intent = \r\n                new Intent(AppWidgetManager.ACTION_APPWIDGET_CONFIGURE);\r\n            intent.setComponent(appWidgetInfo.configure);\r\n            intent.putExtra(AppWidgetManager.EXTRA_APPWIDGET_ID, appWidgetId);\r\n            startActivityForResult(intent, REQUEST_CREATE_APPWIDGET);\r\n        } else {\r\n            createWidget(data);\r\n        }\r\n    }\r\n    \r\n    // Get an instance of the selected widget as a AppWidgetHostView\r\n    public void createWidget(Intent data) {\r\n        Bundle extras = data.getExtras();\r\n        int appWidgetId = extras.getInt(AppWidgetManager.EXTRA_APPWIDGET_ID, -1);\r\n        AppWidgetProviderInfo appWidgetInfo = appWidgetManager.getAppWidgetInfo(appWidgetId);\r\n        \r\n        AppWidgetHostView hostView = appWidgetHost.createView(this, appWidgetId, appWidgetInfo);\r\n        hostView.setAppWidget(appWidgetId, appWidgetInfo);\r\n        // Add  it on the layout you want\r\n        myLayout.addView(hostView);\r\n    }\r\n    \r\n    // Call this when you want to remove one from your layout\r\n    public void removeWidget(AppWidgetHostView hostView) {\r\n    \tappWidgetHost.deleteAppWidgetId(hostView.getAppWidgetId());\r\n\r\n        // Remove from your layout\r\n    \tmyLayout.removeView(hostView);\r\n    }\r\n    \r\n    @Override\r\n    protected void onStart() {\r\n        super.onStart();\r\n        appWidgetManager = AppWidgetManager.getInstance(this);\r\n        appWidgetHost = new AppWidgetHost(this, APPWIDGET_HOST_ID);\r\n\r\n        // Start listening to pending intents from the widgets\r\n        appWidgetHost.startListening();\r\n    }\r\n\r\n    @Override\r\n    protected void onStop() {\r\n        super.onStop();\r\n        appWidgetHost.stopListening();\r\n    }\r\n\r\nAll you&#39;ve got to do is call the method `selectWidget()` whenever you want to show a list of AppWidgets installed on the device to pick from.\r\n\r\nThis code is a bit of a modified version of the stock Android launcher.\r\n\r\n**EDIT**:\r\n\r\nTo bind widget IDs, i.e. make widgets update and respond to user interaction, refer the solution here: [Widgets don&#39;t respond when re-added through code](https://stackoverflow.com/a/44351320/1468093)","title":"Hosting widgets in an android launcher","body":"<p>Try this:</p>\n\n<pre><code>final int APPWIDGET_HOST_ID = 2048;\nfinal int REQUEST_PICK_APPWIDGET = 0;\nfinal int REQUEST_CREATE_APPWIDGET = 5;\n\nAppWidgetManager appWidgetManager;\nAppWidgetHost appWidgetHost;\n\n// Let user pick a widget from the list of intalled AppWidgets\npublic void selectWidget()\n{\n    int appWidgetId = this.appWidgetHost.allocateAppWidgetId();\n    Intent pickIntent = new Intent(AppWidgetManager.ACTION_APPWIDGET_PICK);\n    pickIntent.putExtra(AppWidgetManager.EXTRA_APPWIDGET_ID, appWidgetId);\n    addEmptyData(pickIntent);\n    startActivityForResult(pickIntent, REQUEST_PICK_APPWIDGET);\n}\n\n// For some reason you have to add this empty data, else it won't work\npublic void addEmptyData(Intent pickIntent)\n{\n    ArrayList&lt;AppWidgetProviderInfo&gt; customInfo = \n        new ArrayList&lt;AppWidgetProviderInfo&gt;();\n    pickIntent.putParcelableArrayListExtra(\n        AppWidgetManager.EXTRA_CUSTOM_INFO, customInfo);\n    ArrayList&lt;Bundle&gt; customExtras = new ArrayList&lt;Bundle&gt;();\n    pickIntent.putParcelableArrayListExtra(\n        AppWidgetManager.EXTRA_CUSTOM_EXTRAS, customExtras);\n};\n\n@Override\nprotected void onActivityResult(int requestCode, int resultCode, \n                                Intent data) {\n    if (resultCode == RESULT_OK ) {\n        if (requestCode == REQUEST_PICK_APPWIDGET) {\n            configureWidget(data);\n        }\n        else if (requestCode == REQUEST_CREATE_APPWIDGET) {\n            createWidget(data);\n        }\n    }\n    else if (resultCode == RESULT_CANCELED &amp;&amp; data != null) {\n        int appWidgetId = \n            data.getIntExtra(AppWidgetManager.EXTRA_APPWIDGET_ID, -1);\n        if (appWidgetId != -1) {\n            appWidgetHost.deleteAppWidgetId(appWidgetId);\n        }\n    }\n}\n\n// Show configuration activity of the widget picked by the user\nprivate void configureWidget(Intent data) {\n    Bundle extras = data.getExtras();\n    int appWidgetId = extras.getInt(AppWidgetManager.EXTRA_APPWIDGET_ID, -1);\n    AppWidgetProviderInfo appWidgetInfo = \n            appWidgetManager.getAppWidgetInfo(appWidgetId);\n    if (appWidgetInfo.configure != null) {\n        Intent intent = \n            new Intent(AppWidgetManager.ACTION_APPWIDGET_CONFIGURE);\n        intent.setComponent(appWidgetInfo.configure);\n        intent.putExtra(AppWidgetManager.EXTRA_APPWIDGET_ID, appWidgetId);\n        startActivityForResult(intent, REQUEST_CREATE_APPWIDGET);\n    } else {\n        createWidget(data);\n    }\n}\n\n// Get an instance of the selected widget as a AppWidgetHostView\npublic void createWidget(Intent data) {\n    Bundle extras = data.getExtras();\n    int appWidgetId = extras.getInt(AppWidgetManager.EXTRA_APPWIDGET_ID, -1);\n    AppWidgetProviderInfo appWidgetInfo = appWidgetManager.getAppWidgetInfo(appWidgetId);\n\n    AppWidgetHostView hostView = appWidgetHost.createView(this, appWidgetId, appWidgetInfo);\n    hostView.setAppWidget(appWidgetId, appWidgetInfo);\n    // Add  it on the layout you want\n    myLayout.addView(hostView);\n}\n\n// Call this when you want to remove one from your layout\npublic void removeWidget(AppWidgetHostView hostView) {\n    appWidgetHost.deleteAppWidgetId(hostView.getAppWidgetId());\n\n    // Remove from your layout\n    myLayout.removeView(hostView);\n}\n\n@Override\nprotected void onStart() {\n    super.onStart();\n    appWidgetManager = AppWidgetManager.getInstance(this);\n    appWidgetHost = new AppWidgetHost(this, APPWIDGET_HOST_ID);\n\n    // Start listening to pending intents from the widgets\n    appWidgetHost.startListening();\n}\n\n@Override\nprotected void onStop() {\n    super.onStop();\n    appWidgetHost.stopListening();\n}\n</code></pre>\n\n<p>All you've got to do is call the method <code>selectWidget()</code> whenever you want to show a list of AppWidgets installed on the device to pick from.</p>\n\n<p>This code is a bit of a modified version of the stock Android launcher.</p>\n\n<p><strong>EDIT</strong>:</p>\n\n<p>To bind widget IDs, i.e. make widgets update and respond to user interaction, refer the solution here: <a href=\"https://stackoverflow.com/a/44351320/1468093\">Widgets don't respond when re-added through code</a></p>\n"},{"tags":[],"owner":{"account_id":20527392,"reputation":13,"user_id":15065505,"display_name":"HelpIDontUnderstandComputers"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691497174,"creation_date":1691497174,"answer_id":76859504,"question_id":11473757,"body_markdown":"I know I am a bit late but things have changed and the code provided by Leonardo Garcia Fischer doesn&#39;t work anymore.\r\n\r\nHere is the updated version:\r\n\r\n    final int appWidgetHostId = 23456;\r\n    final int REQUEST_BIND_APPWIDGET = 12345;\r\n    AppWidgetHost widgetHost;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        widgetHost = new AppWidgetHost(getApplicationContext(), appWidgetHostId);\r\n        widgetHost.startListening();\r\n    }\r\n\r\n    @Override\r\n    protected void onDestroy() {\r\n        widgetHost.stopListening();\r\n        super.onDestroy();\r\n    }\r\n\r\n    void configureWidget(int appWidgetId) {\r\n        widgetHost.startAppWidgetConfigureActivityForResult(this, appWidgetId, 0, 0, null);\r\n    }\r\n\r\n    AppWidgetProviderInfo getWidgetProviderInfo(String packageName, int widgetPosition) {\r\n        AppWidgetManager manager = AppWidgetManager.getInstance(this);\r\n        List&lt;AppWidgetProviderInfo&gt; infos = manager.getInstalledProvidersForPackage(packageName, Process.myUserHandle());\r\n        return infos.get(widgetPosition);\r\n    }\r\n\r\n    AppWidgetHostView getWidgetHostView(AppWidgetProviderInfo info) {\r\n        int appWidgetId = widgetHost.allocateAppWidgetId();\r\n        AppWidgetManager manager = AppWidgetManager.getInstance(getApplicationContext());\r\n\r\n        boolean canBindWidgets = manager.bindAppWidgetIdIfAllowed(appWidgetId, info.provider);\r\n        if(!canBindWidgets) {\r\n            Intent intent = new Intent(AppWidgetManager.ACTION_APPWIDGET_BIND);\r\n            intent.putExtra(AppWidgetManager.EXTRA_APPWIDGET_ID, appWidgetId);\r\n            intent.putExtra(AppWidgetManager.EXTRA_APPWIDGET_PROVIDER, info.provider);\r\n            startActivityForResult(intent, REQUEST_BIND_APPWIDGET);\r\n        }\r\n\r\n        AppWidgetHostView widgetHostView = widgetHost.createView(getApplicationContext(), appWidgetId, info);\r\n        \r\n        if(info.configure != null) {\r\n            configureWidget(appWidgetId);\r\n        }\r\n\r\n        return widgetHostView;\r\n    }\r\n\r\nNow, if you want to create an app widget, first you call `getWidgetProviderInfo()` by specifying which package you want to get your app widgets from and which widget you want (because there may be more than one). Then, you pass the result to `getWidgetHostView` which will create the widget and launch the configure activity if there is one. Then, you can use the AppWidgetHostView it returns and put it in a linear layout for example. Here is a more complete example:\r\n\r\n    void createMyWidget() {\r\n        String packageName = com.xxx.xxx;\r\n        AppWidgetProviderInfo widgetInfo = getWidgetProviderInfo(packageName, 0);\r\n        AppWidgetHostView widgetHostView = getWidgetHostView(widgetInfo);\r\n        //Add the widgetHostView to your container.\r\n    }\r\n        \r\nFinally, if you want to reconfigure your app widget, you can do so by calling `configureWidget` and passing its app widget id as a parameter. It will relauch the configure activity (if there is one; that&#39;s why you should verify if it exists first by looking at the widget&#39;s provider info, just like in the `getWidgetHostView` function).","title":"Hosting widgets in an android launcher","body":"<p>I know I am a bit late but things have changed and the code provided by Leonardo Garcia Fischer doesn't work anymore.</p>\n<p>Here is the updated version:</p>\n<pre><code>final int appWidgetHostId = 23456;\nfinal int REQUEST_BIND_APPWIDGET = 12345;\nAppWidgetHost widgetHost;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    widgetHost = new AppWidgetHost(getApplicationContext(), appWidgetHostId);\n    widgetHost.startListening();\n}\n\n@Override\nprotected void onDestroy() {\n    widgetHost.stopListening();\n    super.onDestroy();\n}\n\nvoid configureWidget(int appWidgetId) {\n    widgetHost.startAppWidgetConfigureActivityForResult(this, appWidgetId, 0, 0, null);\n}\n\nAppWidgetProviderInfo getWidgetProviderInfo(String packageName, int widgetPosition) {\n    AppWidgetManager manager = AppWidgetManager.getInstance(this);\n    List&lt;AppWidgetProviderInfo&gt; infos = manager.getInstalledProvidersForPackage(packageName, Process.myUserHandle());\n    return infos.get(widgetPosition);\n}\n\nAppWidgetHostView getWidgetHostView(AppWidgetProviderInfo info) {\n    int appWidgetId = widgetHost.allocateAppWidgetId();\n    AppWidgetManager manager = AppWidgetManager.getInstance(getApplicationContext());\n\n    boolean canBindWidgets = manager.bindAppWidgetIdIfAllowed(appWidgetId, info.provider);\n    if(!canBindWidgets) {\n        Intent intent = new Intent(AppWidgetManager.ACTION_APPWIDGET_BIND);\n        intent.putExtra(AppWidgetManager.EXTRA_APPWIDGET_ID, appWidgetId);\n        intent.putExtra(AppWidgetManager.EXTRA_APPWIDGET_PROVIDER, info.provider);\n        startActivityForResult(intent, REQUEST_BIND_APPWIDGET);\n    }\n\n    AppWidgetHostView widgetHostView = widgetHost.createView(getApplicationContext(), appWidgetId, info);\n    \n    if(info.configure != null) {\n        configureWidget(appWidgetId);\n    }\n\n    return widgetHostView;\n}\n</code></pre>\n<p>Now, if you want to create an app widget, first you call <code>getWidgetProviderInfo()</code> by specifying which package you want to get your app widgets from and which widget you want (because there may be more than one). Then, you pass the result to <code>getWidgetHostView</code> which will create the widget and launch the configure activity if there is one. Then, you can use the AppWidgetHostView it returns and put it in a linear layout for example. Here is a more complete example:</p>\n<pre><code>void createMyWidget() {\n    String packageName = com.xxx.xxx;\n    AppWidgetProviderInfo widgetInfo = getWidgetProviderInfo(packageName, 0);\n    AppWidgetHostView widgetHostView = getWidgetHostView(widgetInfo);\n    //Add the widgetHostView to your container.\n}\n    \n</code></pre>\n<p>Finally, if you want to reconfigure your app widget, you can do so by calling <code>configureWidget</code> and passing its app widget id as a parameter. It will relauch the configure activity (if there is one; that's why you should verify if it exists first by looking at the widget's provider info, just like in the <code>getWidgetHostView</code> function).</p>\n"}],"owner":{"account_id":1555324,"reputation":427,"user_id":1446632,"accept_rate":48,"display_name":"user1446632"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4792,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":2,"score":11,"last_activity_date":1691497174,"creation_date":1342193945,"question_id":11473757,"body_markdown":"I am making a launcher for android, and I&#39;m stuck at the widget part. I&#39;ve been searching for about an hour and a half on the internet trying to figure out how can I host widgets in my application, but no luck.\r\n\r\nI have went through some stock launchers and ADW launcher codes but both just have miles of code and this is the first time I&#39;m making a launcher.\r\n\r\nCould someone please guide me through how can I add widgets into my launcher? Or at least post any links/tutorials? Please explain it since this is my first time.\r\n","title":"Hosting widgets in an android launcher","body":"<p>I am making a launcher for android, and I'm stuck at the widget part. I've been searching for about an hour and a half on the internet trying to figure out how can I host widgets in my application, but no luck.</p>\n\n<p>I have went through some stock launchers and ADW launcher codes but both just have miles of code and this is the first time I'm making a launcher.</p>\n\n<p>Could someone please guide me through how can I add widgets into my launcher? Or at least post any links/tutorials? Please explain it since this is my first time.</p>\n"},{"tags":["java","spring-boot","hibernate","maven","ehcache"],"answers":[{"tags":[],"owner":{"account_id":183306,"reputation":9436,"user_id":418599,"accept_rate":52,"display_name":"Antonio Petricca"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1691489837,"creation_date":1691489837,"answer_id":76858598,"question_id":76853497,"body_markdown":"I finally found a solution to all the issues.\r\n\r\nI report **ONLY the fixes** to the posted source code:\r\n\r\n**application.yaml**\r\n\r\n```yaml\r\nspring:\r\n  jpa:\r\n    properties:\r\n      hibernate:\r\n        cache:\r\n          region.factory_class: org.hibernate.cache.jcache.internal.JCacheRegionFactory\r\n          use_second_level_cache: true\r\n          use_query_cache: true\r\n\r\n        javax:\r\n          cache:\r\n            provider: org.ehcache.jsr107.EhcacheCachingProvider\r\n            uri: file:///app/config/ehcache.xml\r\n          missing_cache_strategy: fail\r\n```\r\n\r\n**ehcache.xml**\r\n\r\n```xml\r\n    &lt;!-- Entities (Mandatory: alias must be a FQDN of the entity in order to properly instantiate the cache as configured here!)--&gt;\r\n\r\n    &lt;cache\r\n        alias=&quot;it.sisal.betting.api.demo.springboot.application.persistence.entities.DemoEntity&quot;\r\n        uses-template=&quot;entitiesDefault&quot;\r\n    /&gt;\r\n```\r\n\r\nNo everything works!!!","title":"Porting to Springboot 3 / Hibernate 6 / EHCache 3","body":"<p>I finally found a solution to all the issues.</p>\n<p>I report <strong>ONLY the fixes</strong> to the posted source code:</p>\n<p><strong>application.yaml</strong></p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  jpa:\n    properties:\n      hibernate:\n        cache:\n          region.factory_class: org.hibernate.cache.jcache.internal.JCacheRegionFactory\n          use_second_level_cache: true\n          use_query_cache: true\n\n        javax:\n          cache:\n            provider: org.ehcache.jsr107.EhcacheCachingProvider\n            uri: file:///app/config/ehcache.xml\n          missing_cache_strategy: fail\n</code></pre>\n<p><strong>ehcache.xml</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;!-- Entities (Mandatory: alias must be a FQDN of the entity in order to properly instantiate the cache as configured here!)--&gt;\n\n    &lt;cache\n        alias=&quot;it.sisal.betting.api.demo.springboot.application.persistence.entities.DemoEntity&quot;\n        uses-template=&quot;entitiesDefault&quot;\n    /&gt;\n</code></pre>\n<p>No everything works!!!</p>\n"}],"owner":{"account_id":183306,"reputation":9436,"user_id":418599,"accept_rate":52,"display_name":"Antonio Petricca"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":754,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":76858598,"answer_count":1,"score":4,"last_activity_date":1691497041,"creation_date":1691425432,"question_id":76853497,"body_markdown":"I am trying since few days to move my old project based on **Springboot 2 / Hibernate 5 / EHCache 2** to the newer **Java 17 / Springboot 3 / Hibernate 6 / EHCache 3**.\r\n\r\nOf course I&#39;ve read a lot of documentation, tried many configurations and dependencies setup. I also debugged the libraries to figure out what was the reason of my problems.\r\n\r\nBefore posting the relevant parts of my code, I wish to list the issues I am trying to solve:\r\n\r\n1. The project starts, the configuration gets parsed (I see that by debugging), the EHCache listeners are registered, but when fetch data from DB, it is stored in the cache, but the listener does not fire. \r\n2. Despite of the **1 minute TTL**, the stored items never expire.\r\n3. I see by debugging that the DemoEntity EHCache configuration initializes two times: from JCache before, then by Hibernate itself (this flow maybe the root cause of some of the above issues).\r\n\r\nI realize it&#39;s not easy to answer with so little information at your disposal, but I trust you can tell me if I&#39;ve made any obvious mistakes in dependency inclusion, application configuration (`application.yaml`), or in the code itself.\r\n\r\nIt follows the relevant code parts.\r\n\r\nThank you in advance!\r\n\r\n**pom.xml**\r\n\r\n```xml\r\n&lt;properties&gt;\r\n    &lt;springboot.version&gt;3.1.2&lt;/springboot.version&gt;\r\n    &lt;ehcache.version&gt;3.10.8&lt;/ehcache.version&gt;\r\n    &lt;hibernate.version&gt;6.2.2.Final&lt;/hibernate.version&gt; &lt;!-- As for the current version of springboot --&gt;\r\n&lt;/properties&gt;\r\n\r\n&lt;dependencies&gt;\r\n  &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n  &lt;/dependency&gt;\r\n\r\n  &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-cache&lt;/artifactId&gt;\r\n      &lt;version&gt;${springboot.version}&lt;/version&gt;\r\n  &lt;/dependency&gt;\r\n\r\n  &lt;dependency&gt;\r\n      &lt;groupId&gt;org.ehcache&lt;/groupId&gt;\r\n      &lt;artifactId&gt;ehcache&lt;/artifactId&gt;\r\n      &lt;version&gt;${ehcache.version}&lt;/version&gt;\r\n      &lt;classifier&gt;jakarta&lt;/classifier&gt;\r\n  &lt;/dependency&gt;\r\n\r\n  &lt;dependency&gt;\r\n      &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n      &lt;artifactId&gt;hibernate-jcache&lt;/artifactId&gt;\r\n      &lt;version&gt;${hibernate.version}&lt;/version&gt;\r\n  &lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n```\r\n\r\n**application.yaml**\r\n\r\n```yaml\r\nspring:\r\n  cache:\r\n    jcache:\r\n      config: file:///app/config/ehcache.xml\r\n\r\n  jpa:\r\n    properties:\r\n      hibernate:\r\n        cache:\r\n          region.factory_class: org.hibernate.cache.jcache.internal.JCacheRegionFactory\r\n          use_second_level_cache: true\r\n          use_query_cache: true\r\n```\r\n\r\n**ehcache.xml**\r\n\r\n```xml\r\n&lt;config\r\n    xmlns:xsi=&#39;http://www.w3.org/2001/XMLSchema-instance&#39;\r\n    xmlns=&#39;http://www.ehcache.org/v3&#39;\r\n    xmlns:jsr107=&#39;http://www.ehcache.org/v3/jsr107&#39;\r\n    xsi:schemaLocation=&quot;http://www.ehcache.org/v3 http://www.ehcache.org/schema/ehcache-core-3.10.xsd&quot;\r\n&gt;\r\n    &lt;cache-template name=&quot;entitiesDefault&quot;&gt;\r\n        &lt;expiry&gt;\r\n            &lt;ttl unit=&quot;minutes&quot;&gt;1&lt;/ttl&gt;\r\n        &lt;/expiry&gt;\r\n\r\n        &lt;listeners&gt;\r\n            &lt;listener&gt;\r\n                &lt;class&gt;api.demo.springboot.framework.persistence.JpaCacheEventListener&lt;/class&gt;\r\n                &lt;event-firing-mode&gt;ASYNCHRONOUS&lt;/event-firing-mode&gt;\r\n                &lt;event-ordering-mode&gt;ORDERED&lt;/event-ordering-mode&gt;\r\n                &lt;events-to-fire-on&gt;CREATED&lt;/events-to-fire-on&gt;\r\n                &lt;events-to-fire-on&gt;EVICTED&lt;/events-to-fire-on&gt;\r\n                &lt;events-to-fire-on&gt;EXPIRED&lt;/events-to-fire-on&gt;\r\n                &lt;events-to-fire-on&gt;REMOVED&lt;/events-to-fire-on&gt;\r\n                &lt;events-to-fire-on&gt;UPDATED&lt;/events-to-fire-on&gt;\r\n            &lt;/listener&gt;\r\n        &lt;/listeners&gt;\r\n\r\n        &lt;resources&gt;\r\n            &lt;heap unit=&quot;entries&quot;&gt;1000&lt;/heap&gt;\r\n        &lt;/resources&gt;\r\n    &lt;/cache-template&gt;\r\n\r\n    &lt;cache-template name=&quot;entitiesRelationsDefault&quot;&gt;\r\n        &lt;expiry&gt;\r\n            &lt;ttl unit=&quot;minutes&quot;&gt;1&lt;/ttl&gt;\r\n        &lt;/expiry&gt;\r\n\r\n        &lt;listeners&gt;\r\n            &lt;listener&gt;\r\n                &lt;class&gt;api.demo.springboot.framework.persistence.JpaCacheEventListener&lt;/class&gt;\r\n                &lt;event-firing-mode&gt;ASYNCHRONOUS&lt;/event-firing-mode&gt;\r\n                &lt;event-ordering-mode&gt;ORDERED&lt;/event-ordering-mode&gt;\r\n                &lt;events-to-fire-on&gt;CREATED&lt;/events-to-fire-on&gt;\r\n                &lt;events-to-fire-on&gt;EVICTED&lt;/events-to-fire-on&gt;\r\n                &lt;events-to-fire-on&gt;EXPIRED&lt;/events-to-fire-on&gt;\r\n                &lt;events-to-fire-on&gt;REMOVED&lt;/events-to-fire-on&gt;\r\n                &lt;events-to-fire-on&gt;UPDATED&lt;/events-to-fire-on&gt;\r\n            &lt;/listener&gt;\r\n        &lt;/listeners&gt;\r\n\r\n        &lt;resources&gt;\r\n            &lt;heap unit=&quot;entries&quot;&gt;1000&lt;/heap&gt;\r\n        &lt;/resources&gt;\r\n    &lt;/cache-template&gt;\r\n\r\n    &lt;cache-template name=&quot;queriesDefault&quot;&gt;\r\n        &lt;expiry&gt;\r\n            &lt;ttl unit=&quot;minutes&quot;&gt;1&lt;/ttl&gt;\r\n        &lt;/expiry&gt;\r\n\r\n        &lt;listeners&gt;\r\n            &lt;listener&gt;\r\n                &lt;class&gt;api.demo.springboot.framework.persistence.JpaCacheEventListener&lt;/class&gt;\r\n                &lt;event-firing-mode&gt;ASYNCHRONOUS&lt;/event-firing-mode&gt;\r\n                &lt;event-ordering-mode&gt;ORDERED&lt;/event-ordering-mode&gt;\r\n                &lt;events-to-fire-on&gt;CREATED&lt;/events-to-fire-on&gt;\r\n                &lt;events-to-fire-on&gt;EVICTED&lt;/events-to-fire-on&gt;\r\n                &lt;events-to-fire-on&gt;EXPIRED&lt;/events-to-fire-on&gt;\r\n                &lt;events-to-fire-on&gt;REMOVED&lt;/events-to-fire-on&gt;\r\n                &lt;events-to-fire-on&gt;UPDATED&lt;/events-to-fire-on&gt;\r\n            &lt;/listener&gt;\r\n        &lt;/listeners&gt;\r\n\r\n        &lt;resources&gt;\r\n            &lt;heap unit=&quot;entries&quot;&gt;1000&lt;/heap&gt;\r\n        &lt;/resources&gt;\r\n    &lt;/cache-template&gt;\r\n\r\n    &lt;cache\r\n        alias=&quot;default-update-timestamps-region&quot;\r\n    &gt;\r\n        &lt;expiry&gt;\r\n            &lt;ttl unit=&quot;minutes&quot;&gt;1&lt;/ttl&gt;\r\n        &lt;/expiry&gt;\r\n\r\n        &lt;listeners&gt;\r\n            &lt;listener&gt;\r\n                &lt;class&gt;api.demo.springboot.framework.persistence.JpaCacheEventListener&lt;/class&gt;\r\n                &lt;event-firing-mode&gt;ASYNCHRONOUS&lt;/event-firing-mode&gt;\r\n                &lt;event-ordering-mode&gt;ORDERED&lt;/event-ordering-mode&gt;\r\n                &lt;events-to-fire-on&gt;CREATED&lt;/events-to-fire-on&gt;\r\n                &lt;events-to-fire-on&gt;EVICTED&lt;/events-to-fire-on&gt;\r\n                &lt;events-to-fire-on&gt;EXPIRED&lt;/events-to-fire-on&gt;\r\n                &lt;events-to-fire-on&gt;REMOVED&lt;/events-to-fire-on&gt;\r\n                &lt;events-to-fire-on&gt;UPDATED&lt;/events-to-fire-on&gt;\r\n            &lt;/listener&gt;\r\n        &lt;/listeners&gt;\r\n\r\n        &lt;resources&gt;\r\n            &lt;heap unit=&quot;entries&quot;&gt;1000&lt;/heap&gt;\r\n        &lt;/resources&gt;\r\n    &lt;/cache&gt;\r\n\r\n    &lt;cache\r\n        alias=&quot;default-query-results-region&quot;\r\n        uses-template=&quot;queriesDefault&quot;\r\n    /&gt;\r\n\r\n    &lt;cache\r\n        alias=&quot;DemoEntity&quot;\r\n        uses-template=&quot;entitiesDefault&quot;\r\n    &gt;\r\n        &lt;value-type&gt;api.demo.springboot.application.persistence.entities.DemoEntity&lt;/value-type&gt;\r\n    &lt;/cache&gt;\r\n&lt;/config&gt;\r\n```\r\n\r\n**DemoEntity.java**\r\n\r\n```java\r\nimport jakarta.persistence.*;\r\nimport lombok.Data;\r\nimport org.hibernate.annotations.Cache;\r\nimport org.hibernate.annotations.CacheConcurrencyStrategy;\r\nimport org.springframework.cache.annotation.Cacheable;\r\n\r\nimport java.io.Serializable;\r\n\r\n@Data\r\n\r\n@Entity\r\n@Table(name = &quot;DEMO_TABLE&quot;)\r\n\r\n@Cacheable\r\n@Cache(usage = CacheConcurrencyStrategy.READ_WRITE)\r\npublic class DemoEntity implements Serializable {\r\n    private static final long serialVersionUID = 0L;\r\n\r\n    @Id\r\n    @Column(name = &quot;ID&quot;)\r\n    private Integer id;\r\n\r\n    @Column(name = &quot;DESCRIPTION&quot;)\r\n    private String description;\r\n\r\n}\r\n```\r\n\r\n**JpaCacheEventListener.java**\r\n\r\n```java\r\nimport lombok.extern.slf4j.Slf4j;\r\nimport org.ehcache.event.CacheEvent;\r\nimport org.ehcache.event.CacheEventListener;\r\nimport org.springframework.stereotype.Component;\r\n\r\n@Slf4j\r\n@Component\r\npublic class JpaCacheEventListener implements CacheEventListener&lt;Object, Object&gt; {\r\n\r\n    @Override\r\n    public void onEvent(CacheEvent event) {\r\n        if (log.isTraceEnabled()) {\r\n            log.trace(\r\n                &quot;{ type: {}, key: {} }&quot;,\r\n                event.getType(),\r\n                event.getKey()\r\n            );\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n","title":"Porting to Springboot 3 / Hibernate 6 / EHCache 3","body":"<p>I am trying since few days to move my old project based on <strong>Springboot 2 / Hibernate 5 / EHCache 2</strong> to the newer <strong>Java 17 / Springboot 3 / Hibernate 6 / EHCache 3</strong>.</p>\n<p>Of course I've read a lot of documentation, tried many configurations and dependencies setup. I also debugged the libraries to figure out what was the reason of my problems.</p>\n<p>Before posting the relevant parts of my code, I wish to list the issues I am trying to solve:</p>\n<ol>\n<li>The project starts, the configuration gets parsed (I see that by debugging), the EHCache listeners are registered, but when fetch data from DB, it is stored in the cache, but the listener does not fire.</li>\n<li>Despite of the <strong>1 minute TTL</strong>, the stored items never expire.</li>\n<li>I see by debugging that the DemoEntity EHCache configuration initializes two times: from JCache before, then by Hibernate itself (this flow maybe the root cause of some of the above issues).</li>\n</ol>\n<p>I realize it's not easy to answer with so little information at your disposal, but I trust you can tell me if I've made any obvious mistakes in dependency inclusion, application configuration (<code>application.yaml</code>), or in the code itself.</p>\n<p>It follows the relevant code parts.</p>\n<p>Thank you in advance!</p>\n<p><strong>pom.xml</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;properties&gt;\n    &lt;springboot.version&gt;3.1.2&lt;/springboot.version&gt;\n    &lt;ehcache.version&gt;3.10.8&lt;/ehcache.version&gt;\n    &lt;hibernate.version&gt;6.2.2.Final&lt;/hibernate.version&gt; &lt;!-- As for the current version of springboot --&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n  &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n  &lt;/dependency&gt;\n\n  &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-cache&lt;/artifactId&gt;\n      &lt;version&gt;${springboot.version}&lt;/version&gt;\n  &lt;/dependency&gt;\n\n  &lt;dependency&gt;\n      &lt;groupId&gt;org.ehcache&lt;/groupId&gt;\n      &lt;artifactId&gt;ehcache&lt;/artifactId&gt;\n      &lt;version&gt;${ehcache.version}&lt;/version&gt;\n      &lt;classifier&gt;jakarta&lt;/classifier&gt;\n  &lt;/dependency&gt;\n\n  &lt;dependency&gt;\n      &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n      &lt;artifactId&gt;hibernate-jcache&lt;/artifactId&gt;\n      &lt;version&gt;${hibernate.version}&lt;/version&gt;\n  &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p><strong>application.yaml</strong></p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  cache:\n    jcache:\n      config: file:///app/config/ehcache.xml\n\n  jpa:\n    properties:\n      hibernate:\n        cache:\n          region.factory_class: org.hibernate.cache.jcache.internal.JCacheRegionFactory\n          use_second_level_cache: true\n          use_query_cache: true\n</code></pre>\n<p><strong>ehcache.xml</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;config\n    xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance'\n    xmlns='http://www.ehcache.org/v3'\n    xmlns:jsr107='http://www.ehcache.org/v3/jsr107'\n    xsi:schemaLocation=&quot;http://www.ehcache.org/v3 http://www.ehcache.org/schema/ehcache-core-3.10.xsd&quot;\n&gt;\n    &lt;cache-template name=&quot;entitiesDefault&quot;&gt;\n        &lt;expiry&gt;\n            &lt;ttl unit=&quot;minutes&quot;&gt;1&lt;/ttl&gt;\n        &lt;/expiry&gt;\n\n        &lt;listeners&gt;\n            &lt;listener&gt;\n                &lt;class&gt;api.demo.springboot.framework.persistence.JpaCacheEventListener&lt;/class&gt;\n                &lt;event-firing-mode&gt;ASYNCHRONOUS&lt;/event-firing-mode&gt;\n                &lt;event-ordering-mode&gt;ORDERED&lt;/event-ordering-mode&gt;\n                &lt;events-to-fire-on&gt;CREATED&lt;/events-to-fire-on&gt;\n                &lt;events-to-fire-on&gt;EVICTED&lt;/events-to-fire-on&gt;\n                &lt;events-to-fire-on&gt;EXPIRED&lt;/events-to-fire-on&gt;\n                &lt;events-to-fire-on&gt;REMOVED&lt;/events-to-fire-on&gt;\n                &lt;events-to-fire-on&gt;UPDATED&lt;/events-to-fire-on&gt;\n            &lt;/listener&gt;\n        &lt;/listeners&gt;\n\n        &lt;resources&gt;\n            &lt;heap unit=&quot;entries&quot;&gt;1000&lt;/heap&gt;\n        &lt;/resources&gt;\n    &lt;/cache-template&gt;\n\n    &lt;cache-template name=&quot;entitiesRelationsDefault&quot;&gt;\n        &lt;expiry&gt;\n            &lt;ttl unit=&quot;minutes&quot;&gt;1&lt;/ttl&gt;\n        &lt;/expiry&gt;\n\n        &lt;listeners&gt;\n            &lt;listener&gt;\n                &lt;class&gt;api.demo.springboot.framework.persistence.JpaCacheEventListener&lt;/class&gt;\n                &lt;event-firing-mode&gt;ASYNCHRONOUS&lt;/event-firing-mode&gt;\n                &lt;event-ordering-mode&gt;ORDERED&lt;/event-ordering-mode&gt;\n                &lt;events-to-fire-on&gt;CREATED&lt;/events-to-fire-on&gt;\n                &lt;events-to-fire-on&gt;EVICTED&lt;/events-to-fire-on&gt;\n                &lt;events-to-fire-on&gt;EXPIRED&lt;/events-to-fire-on&gt;\n                &lt;events-to-fire-on&gt;REMOVED&lt;/events-to-fire-on&gt;\n                &lt;events-to-fire-on&gt;UPDATED&lt;/events-to-fire-on&gt;\n            &lt;/listener&gt;\n        &lt;/listeners&gt;\n\n        &lt;resources&gt;\n            &lt;heap unit=&quot;entries&quot;&gt;1000&lt;/heap&gt;\n        &lt;/resources&gt;\n    &lt;/cache-template&gt;\n\n    &lt;cache-template name=&quot;queriesDefault&quot;&gt;\n        &lt;expiry&gt;\n            &lt;ttl unit=&quot;minutes&quot;&gt;1&lt;/ttl&gt;\n        &lt;/expiry&gt;\n\n        &lt;listeners&gt;\n            &lt;listener&gt;\n                &lt;class&gt;api.demo.springboot.framework.persistence.JpaCacheEventListener&lt;/class&gt;\n                &lt;event-firing-mode&gt;ASYNCHRONOUS&lt;/event-firing-mode&gt;\n                &lt;event-ordering-mode&gt;ORDERED&lt;/event-ordering-mode&gt;\n                &lt;events-to-fire-on&gt;CREATED&lt;/events-to-fire-on&gt;\n                &lt;events-to-fire-on&gt;EVICTED&lt;/events-to-fire-on&gt;\n                &lt;events-to-fire-on&gt;EXPIRED&lt;/events-to-fire-on&gt;\n                &lt;events-to-fire-on&gt;REMOVED&lt;/events-to-fire-on&gt;\n                &lt;events-to-fire-on&gt;UPDATED&lt;/events-to-fire-on&gt;\n            &lt;/listener&gt;\n        &lt;/listeners&gt;\n\n        &lt;resources&gt;\n            &lt;heap unit=&quot;entries&quot;&gt;1000&lt;/heap&gt;\n        &lt;/resources&gt;\n    &lt;/cache-template&gt;\n\n    &lt;cache\n        alias=&quot;default-update-timestamps-region&quot;\n    &gt;\n        &lt;expiry&gt;\n            &lt;ttl unit=&quot;minutes&quot;&gt;1&lt;/ttl&gt;\n        &lt;/expiry&gt;\n\n        &lt;listeners&gt;\n            &lt;listener&gt;\n                &lt;class&gt;api.demo.springboot.framework.persistence.JpaCacheEventListener&lt;/class&gt;\n                &lt;event-firing-mode&gt;ASYNCHRONOUS&lt;/event-firing-mode&gt;\n                &lt;event-ordering-mode&gt;ORDERED&lt;/event-ordering-mode&gt;\n                &lt;events-to-fire-on&gt;CREATED&lt;/events-to-fire-on&gt;\n                &lt;events-to-fire-on&gt;EVICTED&lt;/events-to-fire-on&gt;\n                &lt;events-to-fire-on&gt;EXPIRED&lt;/events-to-fire-on&gt;\n                &lt;events-to-fire-on&gt;REMOVED&lt;/events-to-fire-on&gt;\n                &lt;events-to-fire-on&gt;UPDATED&lt;/events-to-fire-on&gt;\n            &lt;/listener&gt;\n        &lt;/listeners&gt;\n\n        &lt;resources&gt;\n            &lt;heap unit=&quot;entries&quot;&gt;1000&lt;/heap&gt;\n        &lt;/resources&gt;\n    &lt;/cache&gt;\n\n    &lt;cache\n        alias=&quot;default-query-results-region&quot;\n        uses-template=&quot;queriesDefault&quot;\n    /&gt;\n\n    &lt;cache\n        alias=&quot;DemoEntity&quot;\n        uses-template=&quot;entitiesDefault&quot;\n    &gt;\n        &lt;value-type&gt;api.demo.springboot.application.persistence.entities.DemoEntity&lt;/value-type&gt;\n    &lt;/cache&gt;\n&lt;/config&gt;\n</code></pre>\n<p><strong>DemoEntity.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>import jakarta.persistence.*;\nimport lombok.Data;\nimport org.hibernate.annotations.Cache;\nimport org.hibernate.annotations.CacheConcurrencyStrategy;\nimport org.springframework.cache.annotation.Cacheable;\n\nimport java.io.Serializable;\n\n@Data\n\n@Entity\n@Table(name = &quot;DEMO_TABLE&quot;)\n\n@Cacheable\n@Cache(usage = CacheConcurrencyStrategy.READ_WRITE)\npublic class DemoEntity implements Serializable {\n    private static final long serialVersionUID = 0L;\n\n    @Id\n    @Column(name = &quot;ID&quot;)\n    private Integer id;\n\n    @Column(name = &quot;DESCRIPTION&quot;)\n    private String description;\n\n}\n</code></pre>\n<p><strong>JpaCacheEventListener.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>import lombok.extern.slf4j.Slf4j;\nimport org.ehcache.event.CacheEvent;\nimport org.ehcache.event.CacheEventListener;\nimport org.springframework.stereotype.Component;\n\n@Slf4j\n@Component\npublic class JpaCacheEventListener implements CacheEventListener&lt;Object, Object&gt; {\n\n    @Override\n    public void onEvent(CacheEvent event) {\n        if (log.isTraceEnabled()) {\n            log.trace(\n                &quot;{ type: {}, key: {} }&quot;,\n                event.getType(),\n                event.getKey()\n            );\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":["java","openssl","bouncycastle","pem","pkcs#12"],"owner":{"account_id":3444588,"reputation":147,"user_id":2885704,"accept_rate":56,"display_name":"Ken"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691496760,"creation_date":1691496760,"question_id":76859450,"body_markdown":"I am looking to convert this command to java so that i can convert a pem file to the p12 format to be used in the application key store:\r\n```openssl pkcs12 -export -inkey combinedCertAndKey.pem -in combinedCertAndKey.pem -out cert_key.p12```\r\n\r\nThe file contains an encrypted private key.  I have been playing around with examples from here and other places but most have deprecated classes or class cast issues, i was trying to use the latest bouncycastle libs - 1.76 but i cant find working examples on this version and i really dont know it well at all.\r\n\r\nIf I run this command manually and use the p12 it works, but this has to be dynamic in the sense a pem will be stored securely(cant be binary), my springboot application will then access it in a secure manner, load this pem into memory and must then load it into the applications keystore. I figured if i can convert this command to java i would be sorted but there might be a simpler better solution?\r\n\r\nIs this conversion possible and are there better approaches, maybe i dont need to do any conversion but instead read the keys directly into the keystore?  I want to use as little 3rd party libraries as is possible.","title":"Openssl command to Java or Loading Pem with encrypted key and cert into keystore","body":"<p>I am looking to convert this command to java so that i can convert a pem file to the p12 format to be used in the application key store:\n<code>openssl pkcs12 -export -inkey combinedCertAndKey.pem -in combinedCertAndKey.pem -out cert_key.p12</code></p>\n<p>The file contains an encrypted private key.  I have been playing around with examples from here and other places but most have deprecated classes or class cast issues, i was trying to use the latest bouncycastle libs - 1.76 but i cant find working examples on this version and i really dont know it well at all.</p>\n<p>If I run this command manually and use the p12 it works, but this has to be dynamic in the sense a pem will be stored securely(cant be binary), my springboot application will then access it in a secure manner, load this pem into memory and must then load it into the applications keystore. I figured if i can convert this command to java i would be sorted but there might be a simpler better solution?</p>\n<p>Is this conversion possible and are there better approaches, maybe i dont need to do any conversion but instead read the keys directly into the keystore?  I want to use as little 3rd party libraries as is possible.</p>\n"},{"tags":["java","spring-boot","maven","google-secret-manager","secrets"],"owner":{"account_id":25278243,"reputation":1,"user_id":19106493,"display_name":"jack"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691496715,"creation_date":1691496715,"question_id":76859444,"body_markdown":"I&#39;m trying to fetch secrets from Google secret manager but they are fetching it just simply shows the secret name\r\n\r\nso these all the modifications i did here in my pox.xml i added these dependencies\r\n\r\n```\r\n   &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-gcp-starter&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2.8.RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework.cloud/spring-cloud-starter-bootstrap --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter-bootstrap&lt;/artifactId&gt;\r\n            &lt;version&gt;4.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-gcp-starter-secretmanager&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2.6.RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/com.google.cloud/spring-cloud-gcp-starter-secretmanager --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-gcp-starter-secretmanager&lt;/artifactId&gt;\r\n            &lt;version&gt;4.1.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/com.google.cloud/google-cloud-secretmanager --&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;google-cloud-secretmanager&lt;/artifactId&gt;\r\n            &lt;version&gt;2.20.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\nand this here is my bootstrap-sol.test.properties\r\n\r\n```\r\nspring.cloud.gcp.secretmanager.enabled=true\r\nspring.cloud.gcp.secretmanager.bootstrap.enabled=true\r\n```\r\n\r\n```\r\nspring.cloud.gcp.secretmanager.secret-name-prefix=sm://\r\n```\r\n\r\nand this is how im fetching the secrets in my sol.test.properties\r\n\r\n```\r\njdbc.username=${sm://application-jdbc-username}\r\njdbc.password=${sm://application-jdbc-password}\r\n```\r\n\r\nand in GCP i have Secret Manager Viewer &amp; Secret Manager Secret Accessor permission","title":"Unable to fetch secrets from google secret manager in spring application","body":"<p>I'm trying to fetch secrets from Google secret manager but they are fetching it just simply shows the secret name</p>\n<p>so these all the modifications i did here in my pox.xml i added these dependencies</p>\n<pre><code>   &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-gcp-starter&lt;/artifactId&gt;\n            &lt;version&gt;1.2.8.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework.cloud/spring-cloud-starter-bootstrap --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-bootstrap&lt;/artifactId&gt;\n            &lt;version&gt;4.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-gcp-starter-secretmanager&lt;/artifactId&gt;\n            &lt;version&gt;1.2.6.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/com.google.cloud/spring-cloud-gcp-starter-secretmanager --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-gcp-starter-secretmanager&lt;/artifactId&gt;\n            &lt;version&gt;4.1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/com.google.cloud/google-cloud-secretmanager --&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;google-cloud-secretmanager&lt;/artifactId&gt;\n            &lt;version&gt;2.20.0&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>and this here is my bootstrap-sol.test.properties</p>\n<pre><code>spring.cloud.gcp.secretmanager.enabled=true\nspring.cloud.gcp.secretmanager.bootstrap.enabled=true\n</code></pre>\n<pre><code>spring.cloud.gcp.secretmanager.secret-name-prefix=sm://\n</code></pre>\n<p>and this is how im fetching the secrets in my sol.test.properties</p>\n<pre><code>jdbc.username=${sm://application-jdbc-username}\njdbc.password=${sm://application-jdbc-password}\n</code></pre>\n<p>and in GCP i have Secret Manager Viewer &amp; Secret Manager Secret Accessor permission</p>\n"},{"tags":["java","spring-boot","hibernate","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":14415125,"reputation":307,"user_id":10412775,"display_name":"Nagesh"},"score":0,"creation_date":1686569212,"post_id":76456197,"comment_id":134811681,"body_markdown":"References:\nhttps://www.baeldung.com/spring-jpa-like-queries\nRefer Section 4.1, 4.2","body":"References: <a href=\"https://www.baeldung.com/spring-jpa-like-queries\" rel=\"nofollow noreferrer\">baeldung.com/spring-jpa-like-queries</a> Refer Section 4.1, 4.2"}],"answers":[{"comments":[{"owner":{"account_id":14415125,"reputation":307,"user_id":10412775,"display_name":"Nagesh"},"score":0,"creation_date":1686581508,"post_id":76457688,"comment_id":134814625,"body_markdown":"Thanks for your response.\nYes, the above query without % symbol is working.\nHowever, our objective is to use &quot;%title%&quot; query. So that, query search for a sub-string title containing in the db column.\nIt is not working with %title% in the HQL query","body":"Thanks for your response. Yes, the above query without % symbol is working. However, our objective is to use &quot;%title%&quot; query. So that, query search for a sub-string title containing in the db column. It is not working with %title% in the HQL query"},{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1686648664,"post_id":76457688,"comment_id":134824515,"body_markdown":"What if you will try this approach &#39;percent signs must be used outside the query string, unlike traditional SQL.&#39; . @Query(&quot;SELECT m FROM Movie m WHERE m.title LIKE &#39;:percent:title:percent&#39;&quot;)\nList&lt;Movie&gt; searchByTitleLike(@Param(&quot;title&quot;) String title, @Param(&quot;percent&quot;) String percentage);","body":"What if you will try this approach &#39;percent signs must be used outside the query string, unlike traditional SQL.&#39; . @Query(&quot;SELECT m FROM Movie m WHERE m.title LIKE &#39;:percent:title:percent&#39;&quot;) List&lt;Movie&gt; searchByTitleLike(@Param(&quot;title&quot;) String title, @Param(&quot;percent&quot;) String percentage);"},{"owner":{"account_id":14415125,"reputation":307,"user_id":10412775,"display_name":"Nagesh"},"score":0,"creation_date":1686823095,"post_id":76457688,"comment_id":134853517,"body_markdown":"But this was working fine in the previous Spring Boot Verison 3.0.6. Given the same \n\nHQL Query\n\n@Query(&quot;SELECT m FROM Movie m WHERE m.title LIKE %:title%&quot;)\nList&lt;Movie&gt; searchByTitleLike(@Param(&quot;title&quot;) String title);\n\nThere is nothing wrong in the HQL query.\nThis is a SpringBoot Upgrade issue.","body":"But this was working fine in the previous Spring Boot Verison 3.0.6. Given the same   HQL Query  @Query(&quot;SELECT m FROM Movie m WHERE m.title LIKE %:title%&quot;) List&lt;Movie&gt; searchByTitleLike(@Param(&quot;title&quot;) String title);  There is nothing wrong in the HQL query. This is a SpringBoot Upgrade issue."}],"tags":[],"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686580390,"creation_date":1686580390,"answer_id":76457688,"question_id":76456197,"body_markdown":"**How i know % is a special character in a format string that indicates that a format specifier follows.** \r\n\r\nTry it:\r\n\r\n    @Query(&quot;SELECT m FROM Movie m WHERE m.title LIKE :title&quot;)\r\n    List&lt;Movie&gt; searchByTitleLike(@Param(&quot;title&quot;) String title);\r\n\r\n","title":"SpringBoot JPA HQL LIKE query is not working after upgrade to Spring-boot 3.1.0, JDK17 from Spring boot 3.0.6","body":"<p><strong>How i know % is a special character in a format string that indicates that a format specifier follows.</strong></p>\n<p>Try it:</p>\n<pre><code>@Query(&quot;SELECT m FROM Movie m WHERE m.title LIKE :title&quot;)\nList&lt;Movie&gt; searchByTitleLike(@Param(&quot;title&quot;) String title);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14415125,"reputation":307,"user_id":10412775,"display_name":"Nagesh"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688066098,"creation_date":1686908208,"answer_id":76488872,"question_id":76456197,"body_markdown":"**Given this HQL query**\r\n\r\n    @Query(&quot;SELECT m FROM Movie m WHERE m.title LIKE %:title%&quot;)\r\n\r\nSpringBoot 3.0.7 Converted HQL Query for printing HQL Query in Logs:\r\n\r\n    SELECT m FROM Movie m WHERE m.title LIKE :title\r\n\r\nNote: here Spring Boot 3.0.7 library is stripping of % symbol before printing to logs.\r\n\r\nSpringBoot 3.1.0 Converted HQL Query for printing HQL query in Logs:\r\n\r\n    SELECT m \r\n    FROM Movie m \r\n    WHERE m.title LIKE CONCAT(&#39;%&#39;, :title, &#39;%&#39;)\r\n\r\nBut % symbol is used as format specifier when format() method is called before printing to logs. Refer Java.util.Formatter.format() method. \r\n\r\nSingle % symbol in string argument to format() method throws conversion exception.\r\n\r\n**Workarounds**\r\n\r\n**Option #1** \r\n\r\nAdd the INFO log level to package &#39;org.hibernate.orm.query.hql&#39; in the application.properties file to avoid the exception on the application start up during bean creation time.\r\n\r\n    logging.level.org.hibernate.orm.query.hql=INFO\r\n\r\n**Option #2** \r\n\r\nEscape the % symbol in the given HQL query with another % symbol as shown below to avoid the exception on the application start up during bean creation time.\r\n\r\n    SELECT m \r\n    FROM Movie m \r\n    WHERE m.title LIKE CONCAT(&#39;%%&#39;, :title, &#39;%%&#39;)\r\n\r\nLooks like it is bug in the Spring Boot 3.1.0 version.\r\n","title":"SpringBoot JPA HQL LIKE query is not working after upgrade to Spring-boot 3.1.0, JDK17 from Spring boot 3.0.6","body":"<p><strong>Given this HQL query</strong></p>\n<pre><code>@Query(&quot;SELECT m FROM Movie m WHERE m.title LIKE %:title%&quot;)\n</code></pre>\n<p>SpringBoot 3.0.7 Converted HQL Query for printing HQL Query in Logs:</p>\n<pre><code>SELECT m FROM Movie m WHERE m.title LIKE :title\n</code></pre>\n<p>Note: here Spring Boot 3.0.7 library is stripping of % symbol before printing to logs.</p>\n<p>SpringBoot 3.1.0 Converted HQL Query for printing HQL query in Logs:</p>\n<pre><code>SELECT m \nFROM Movie m \nWHERE m.title LIKE CONCAT('%', :title, '%')\n</code></pre>\n<p>But % symbol is used as format specifier when format() method is called before printing to logs. Refer Java.util.Formatter.format() method.</p>\n<p>Single % symbol in string argument to format() method throws conversion exception.</p>\n<p><strong>Workarounds</strong></p>\n<p><strong>Option #1</strong></p>\n<p>Add the INFO log level to package 'org.hibernate.orm.query.hql' in the application.properties file to avoid the exception on the application start up during bean creation time.</p>\n<pre><code>logging.level.org.hibernate.orm.query.hql=INFO\n</code></pre>\n<p><strong>Option #2</strong></p>\n<p>Escape the % symbol in the given HQL query with another % symbol as shown below to avoid the exception on the application start up during bean creation time.</p>\n<pre><code>SELECT m \nFROM Movie m \nWHERE m.title LIKE CONCAT('%%', :title, '%%')\n</code></pre>\n<p>Looks like it is bug in the Spring Boot 3.1.0 version.</p>\n"},{"tags":[],"owner":{"account_id":14415125,"reputation":307,"user_id":10412775,"display_name":"Nagesh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691496687,"creation_date":1691496687,"answer_id":76859441,"question_id":76456197,"body_markdown":"The given issue is fixed in the latest version of Spring Boot 3.1.2 without doing any code changes for like query.","title":"SpringBoot JPA HQL LIKE query is not working after upgrade to Spring-boot 3.1.0, JDK17 from Spring boot 3.0.6","body":"<p>The given issue is fixed in the latest version of Spring Boot 3.1.2 without doing any code changes for like query.</p>\n"}],"owner":{"account_id":14415125,"reputation":307,"user_id":10412775,"display_name":"Nagesh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":969,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1691496687,"creation_date":1686569113,"question_id":76456197,"body_markdown":"Spring Boot 3.1.0 JPA HQL LIKE query is not working after upgrade to **Spring-boot 3.1.0, JDK17** from **Spring boot 3.0.6**\r\n\r\nJPA Like query with named parameters was working fine before upgrade.\r\nBut after upgrading to SpringBoot 3.1.0 getting runtime error.\r\nWe get this error, when we use like operator with % symbol on string column for &#39;like&#39; condition.\r\n\r\nWe can reproduce the issue by mentioning the DEBUG log level for package &quot;org.hibernate.orm.query.hql&quot; in application.properties file.\r\n\r\nlogging.level.org.hibernate.orm.query.hql=DEBUG\r\n\r\n**Note: This query JPA HQL query was working fine using older versions of Spring boot (&lt; 3.0.6). It is upgrade issue.**\r\n\r\nJPA HQL query example using @Query annotation.\r\n```\r\n@Query(&quot;SELECT m FROM Movie m WHERE m.title LIKE %:title%&quot;)\r\nList&lt;Movie&gt; searchByTitleLike(@Param(&quot;title&quot;) String title);\r\n```\r\n\r\nError message/Stack Trace:\r\n\r\n```\r\nCaused by: java.util.UnknownFormatConversionException: Conversion = &#39;&#39;&#39;\r\n\tat java.base/java.util.Formatter.parse(Formatter.java:2750)\r\n\tat java.base/java.util.Formatter.format(Formatter.java:2671)\r\n\tat java.base/java.util.Formatter.format(Formatter.java:2625)\r\n\tat java.base/java.lang.String.format(String.java:4143)\r\n\tat org.jboss.logging.Slf4jLocationAwareLogger.doLogf(Slf4jLocationAwareLogger.java:81)\r\n\tat org.jboss.logging.Logger.logf(Logger.java:2445)\r\n\tat org.jboss.logging.DelegatingBasicLogger.debugf(DelegatingBasicLogger.java:344)\r\n\tat org.hibernate.query.hql.internal.StandardHqlTranslator.translate(StandardHqlTranslator.java:75)\r\n\tat org.hibernate.internal.AbstractSharedSessionContract.lambda$interpretHql$2(AbstractSharedSessionContract.java:744)\r\n\tat org.hibernate.query.internal.QueryInterpretationCacheStandardImpl.createHqlInterpretation(QueryInterpretationCacheStandardImpl.java:141)\r\n\tat org.hibernate.query.internal.QueryInterpretationCacheStandardImpl.resolveHqlInterpretation(QueryInterpretationCacheStandardImpl.java:128)\r\n\tat org.hibernate.internal.AbstractSharedSessionContract.interpretHql(AbstractSharedSessionContract.java:741)\r\n\tat org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:786)\r\n\tat org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:704)\r\n\tat org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:120)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:360)\r\n\tat jdk.proxy3/jdk.proxy3.$Proxy153.createQuery(Unknown Source)\r\n\tat org.springframework.data.jpa.repository.query.SimpleJpaQuery.validateQuery(SimpleJpaQuery.java:94)\r\n\t... 96 more\r\n```\r\n","title":"SpringBoot JPA HQL LIKE query is not working after upgrade to Spring-boot 3.1.0, JDK17 from Spring boot 3.0.6","body":"<p>Spring Boot 3.1.0 JPA HQL LIKE query is not working after upgrade to <strong>Spring-boot 3.1.0, JDK17</strong> from <strong>Spring boot 3.0.6</strong></p>\n<p>JPA Like query with named parameters was working fine before upgrade.\nBut after upgrading to SpringBoot 3.1.0 getting runtime error.\nWe get this error, when we use like operator with % symbol on string column for 'like' condition.</p>\n<p>We can reproduce the issue by mentioning the DEBUG log level for package &quot;org.hibernate.orm.query.hql&quot; in application.properties file.</p>\n<p>logging.level.org.hibernate.orm.query.hql=DEBUG</p>\n<p><strong>Note: This query JPA HQL query was working fine using older versions of Spring boot (&lt; 3.0.6). It is upgrade issue.</strong></p>\n<p>JPA HQL query example using @Query annotation.</p>\n<pre><code>@Query(&quot;SELECT m FROM Movie m WHERE m.title LIKE %:title%&quot;)\nList&lt;Movie&gt; searchByTitleLike(@Param(&quot;title&quot;) String title);\n</code></pre>\n<p>Error message/Stack Trace:</p>\n<pre><code>Caused by: java.util.UnknownFormatConversionException: Conversion = '''\n    at java.base/java.util.Formatter.parse(Formatter.java:2750)\n    at java.base/java.util.Formatter.format(Formatter.java:2671)\n    at java.base/java.util.Formatter.format(Formatter.java:2625)\n    at java.base/java.lang.String.format(String.java:4143)\n    at org.jboss.logging.Slf4jLocationAwareLogger.doLogf(Slf4jLocationAwareLogger.java:81)\n    at org.jboss.logging.Logger.logf(Logger.java:2445)\n    at org.jboss.logging.DelegatingBasicLogger.debugf(DelegatingBasicLogger.java:344)\n    at org.hibernate.query.hql.internal.StandardHqlTranslator.translate(StandardHqlTranslator.java:75)\n    at org.hibernate.internal.AbstractSharedSessionContract.lambda$interpretHql$2(AbstractSharedSessionContract.java:744)\n    at org.hibernate.query.internal.QueryInterpretationCacheStandardImpl.createHqlInterpretation(QueryInterpretationCacheStandardImpl.java:141)\n    at org.hibernate.query.internal.QueryInterpretationCacheStandardImpl.resolveHqlInterpretation(QueryInterpretationCacheStandardImpl.java:128)\n    at org.hibernate.internal.AbstractSharedSessionContract.interpretHql(AbstractSharedSessionContract.java:741)\n    at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:786)\n    at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:704)\n    at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:120)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:360)\n    at jdk.proxy3/jdk.proxy3.$Proxy153.createQuery(Unknown Source)\n    at org.springframework.data.jpa.repository.query.SimpleJpaQuery.validateQuery(SimpleJpaQuery.java:94)\n    ... 96 more\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-bean"],"comments":[{"owner":{"account_id":13798611,"reputation":37885,"user_id":9959152,"display_name":"Ryuzaki L"},"score":1,"creation_date":1563862755,"post_id":57157396,"comment_id":100830142,"body_markdown":"something like this https://stackoverflow.com/questions/4540713/add-bean-programmatically-to-spring-web-app-context","body":"something like this <a href=\"https://stackoverflow.com/questions/4540713/add-bean-programmatically-to-spring-web-app-context\" title=\"add bean programmatically to spring web app context\">stackoverflow.com/questions/4540713/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":6300117,"reputation":1389,"user_id":4895033,"accept_rate":50,"display_name":"chaos"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1563863896,"creation_date":1563863896,"answer_id":57158046,"question_id":57157396,"body_markdown":"Here is the demo. \r\n\r\n    public class Demo implements ApplicationContextAware {\r\n    \r\n        private ApplicationContext applicationContext;\r\n    \r\n        @Override\r\n        public void setApplicationContext(ApplicationContext applicationContext) throws BeansException {\r\n            this.applicationContext = applicationContext;\r\n            ConfigurableApplicationContext context = (ConfigurableApplicationContext)applicationContext;\r\n            DefaultListableBeanFactory beanFactory = (DefaultListableBeanFactory)context.getBeanFactory();\r\n    \r\n            BeanDefinitionBuilder beanDefinitionBuilder = BeanDefinitionBuilder.rootBeanDefinition(YourClass.class);\r\n    \r\n            beanDefinitionBuilder.addPropertyValue(&quot;property1&quot;, &quot;propertyValue&quot;);\r\n            beanDefinitionBuilder.addPropertyValue(&quot;property2&quot;, applicationContext.getBean(AnotherClass.class));\r\n    \r\n    \r\n            beanFactory.registerBeanDefinition(&quot;yourBeanName&quot;, beanDefinitionBuilder.getBeanDefinition());\r\n    \r\n    \r\n        }\r\n    }\r\n\r\nYou can move the register part to your method(start from `BeanDefinitionBuilder`). I suppose this will suit your demand.","title":"How to register bean dynamically in Spring Boot?","body":"<p>Here is the demo. </p>\n\n<pre><code>public class Demo implements ApplicationContextAware {\n\n    private ApplicationContext applicationContext;\n\n    @Override\n    public void setApplicationContext(ApplicationContext applicationContext) throws BeansException {\n        this.applicationContext = applicationContext;\n        ConfigurableApplicationContext context = (ConfigurableApplicationContext)applicationContext;\n        DefaultListableBeanFactory beanFactory = (DefaultListableBeanFactory)context.getBeanFactory();\n\n        BeanDefinitionBuilder beanDefinitionBuilder = BeanDefinitionBuilder.rootBeanDefinition(YourClass.class);\n\n        beanDefinitionBuilder.addPropertyValue(\"property1\", \"propertyValue\");\n        beanDefinitionBuilder.addPropertyValue(\"property2\", applicationContext.getBean(AnotherClass.class));\n\n\n        beanFactory.registerBeanDefinition(\"yourBeanName\", beanDefinitionBuilder.getBeanDefinition());\n\n\n    }\n}\n</code></pre>\n\n<p>You can move the register part to your method(start from <code>BeanDefinitionBuilder</code>). I suppose this will suit your demand.</p>\n"},{"tags":[],"owner":{"account_id":246900,"reputation":451,"user_id":521280,"display_name":"vvursT"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1588777144,"creation_date":1588777144,"answer_id":61638454,"question_id":57157396,"body_markdown":"You can use the ConfigurableBeanFactory to register beans manually at runtime.\r\n\r\n    @Service\r\n    public class RegisterBeansDynamically implements BeanFactoryAware {\r\n\r\n        private ConfigurableBeanFactory beanFactory;\r\n\r\n        public &lt;T&gt; void registerBean(String beanName, T bean) {\r\n            beanFactory.registerSingleton(beanName, bean);\r\n        }\r\n\r\n        @Override\r\n        public void setBeanFactory(BeanFactory beanFactory) throws BeansException {\r\n            this.beanFactory = (ConfigurableBeanFactory) beanFactory;\r\n        }\r\n    }\r\n\r\nBut keep in mind: Your context must be refreshed making other beans able getting your new bean automatically injected or they have to access them dynamically from the application context.\r\n\r\nThe BeanFactory can also be accessed directly through the application context [see this answer][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/23671942/521280","title":"How to register bean dynamically in Spring Boot?","body":"<p>You can use the ConfigurableBeanFactory to register beans manually at runtime.</p>\n\n<pre><code>@Service\npublic class RegisterBeansDynamically implements BeanFactoryAware {\n\n    private ConfigurableBeanFactory beanFactory;\n\n    public &lt;T&gt; void registerBean(String beanName, T bean) {\n        beanFactory.registerSingleton(beanName, bean);\n    }\n\n    @Override\n    public void setBeanFactory(BeanFactory beanFactory) throws BeansException {\n        this.beanFactory = (ConfigurableBeanFactory) beanFactory;\n    }\n}\n</code></pre>\n\n<p>But keep in mind: Your context must be refreshed making other beans able getting your new bean automatically injected or they have to access them dynamically from the application context.</p>\n\n<p>The BeanFactory can also be accessed directly through the application context <a href=\"https://stackoverflow.com/a/23671942/521280\">see this answer</a>.</p>\n"},{"tags":[],"owner":{"account_id":1675364,"reputation":383,"user_id":1541051,"accept_rate":80,"display_name":"Bharat"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1635685824,"creation_date":1635685824,"answer_id":69787196,"question_id":57157396,"body_markdown":"Spring 5 provides Bean registration, which can be done dynamically. Please look at documentation [here](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/support/GenericApplicationContext.html#registerBean-java.lang.String-java.lang.Class-java.util.function.Supplier-org.springframework.beans.factory.config.BeanDefinitionCustomizer...-) and example [here](https://www.baeldung.com/spring-5-functional-beans).\r\n\r\n    Supplier&lt;SSLContext&gt; sslcontextSupplier = () -&gt; getSSLContext();\r\n    context.registerBean(&quot;sslcontext&quot;,SSLContext.class,sslcontextSupplier);\r\n\r\n","title":"How to register bean dynamically in Spring Boot?","body":"<p>Spring 5 provides Bean registration, which can be done dynamically. Please look at documentation <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/support/GenericApplicationContext.html#registerBean-java.lang.String-java.lang.Class-java.util.function.Supplier-org.springframework.beans.factory.config.BeanDefinitionCustomizer...-\" rel=\"nofollow noreferrer\">here</a> and example <a href=\"https://www.baeldung.com/spring-5-functional-beans\" rel=\"nofollow noreferrer\">here</a>.</p>\n<pre><code>Supplier&lt;SSLContext&gt; sslcontextSupplier = () -&gt; getSSLContext();\ncontext.registerBean(&quot;sslcontext&quot;,SSLContext.class,sslcontextSupplier);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1691698770,"post_id":76859356,"comment_id":135530658,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76859356/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":27236183,"reputation":1,"user_id":20763058,"display_name":"Muhammadqodir Yusupov"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691496043,"creation_date":1691496043,"answer_id":76859356,"question_id":57157396,"body_markdown":"For registering beans dynamically from metadata of Class use BeanDefinitionRegistryPostProcessor class of Spring boot","title":"How to register bean dynamically in Spring Boot?","body":"<p>For registering beans dynamically from metadata of Class use BeanDefinitionRegistryPostProcessor class of Spring boot</p>\n"}],"owner":{"account_id":5121452,"reputation":11211,"user_id":5045201,"accept_rate":100,"display_name":"Sapnesh Naik"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14086,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":4,"score":3,"last_activity_date":1691496043,"creation_date":1563860718,"question_id":57157396,"body_markdown":"I am looking to override the SSLContext of Spring at runtime. Hence I am trying to find ways to register the below method as a bean dynamically. \r\n\r\n**For Ex**. When a GetMapping endpoint is invoked, the below method should be injected as a bean into Spring IoC.\r\n\r\n    public static SSLContext getSSLContext() throws Exception {\r\n        TrustManager[] trustManagers = new TrustManager[] {\r\n                new ReloadableX509TrustManager(truststoreNewPath)\r\n        };\r\n        SSLContext sslContext = SSLContext.getInstance(&quot;SSL&quot;);\r\n        sslContext.init(null, trustManagers, null);\r\n        return sslContext;\r\n    }\r\n\r\n\r\nHow can I do this?","title":"How to register bean dynamically in Spring Boot?","body":"<p>I am looking to override the SSLContext of Spring at runtime. Hence I am trying to find ways to register the below method as a bean dynamically. </p>\n\n<p><strong>For Ex</strong>. When a GetMapping endpoint is invoked, the below method should be injected as a bean into Spring IoC.</p>\n\n<pre><code>public static SSLContext getSSLContext() throws Exception {\n    TrustManager[] trustManagers = new TrustManager[] {\n            new ReloadableX509TrustManager(truststoreNewPath)\n    };\n    SSLContext sslContext = SSLContext.getInstance(\"SSL\");\n    sslContext.init(null, trustManagers, null);\n    return sslContext;\n}\n</code></pre>\n\n<p>How can I do this?</p>\n"},{"tags":["java","authentication","keycloak"],"answers":[{"comments":[{"owner":{"account_id":10122130,"reputation":1238,"user_id":7478712,"accept_rate":80,"display_name":"Ognjen Mii"},"score":6,"creation_date":1549534705,"post_id":53795226,"comment_id":95939729,"body_markdown":"I&#39;m still having the same issue, even if i set the content type to be urlencoded:\n   curl -d &#39;{&quot;grant_type&quot;: &quot;password&quot;, &quot;username&quot;: &quot;user&quot;, &quot;password&quot;: &quot;pass&quot;, &quot;client_id&quot;: &quot;login-app&quot;}&#39; -H &quot;Content-Type: application/x-www-form-urlencoded&quot; -X POST &quot;http://localhost:8082/auth/realms/ina-dev/protocol/openid-connect/token&quot;\n{&quot;error&quot;:&quot;invalid_request&quot;,&quot;error_description&quot;:&quot;Missing form parameter: grant_type&quot;}","body":"I&#39;m still having the same issue, even if i set the content type to be urlencoded:    curl -d &#39;{&quot;grant_type&quot;: &quot;password&quot;, &quot;username&quot;: &quot;user&quot;, &quot;password&quot;: &quot;pass&quot;, &quot;client_id&quot;: &quot;login-app&quot;}&#39; -H &quot;Content-Type: application/x-www-form-urlencoded&quot; -X POST &quot;<a href=\"http://localhost:8082/auth/realms/ina-dev/protocol/openid-connect/token\" rel=\"nofollow noreferrer\">localhost:8082/auth/realms/ina-dev/protocol/openid-connect/&zwnj;&#8203;&hellip;</a>&quot; {&quot;error&quot;:&quot;invalid_request&quot;,&quot;error_description&quot;:&quot;Missing form parameter: grant_type&quot;}"},{"owner":{"account_id":10902175,"reputation":1269,"user_id":8014145,"display_name":"ipave"},"score":2,"creation_date":1549643462,"post_id":53795226,"comment_id":95989296,"body_markdown":"because you send json data, you should use -d &quot;param1=value1&amp;param2=value2&quot; syntaxis","body":"because you send json data, you should use -d &quot;param1=value1&amp;param2=value2&quot; syntaxis"},{"owner":{"account_id":385240,"reputation":8098,"user_id":742269,"accept_rate":81,"display_name":"Avi&#243;n"},"score":2,"creation_date":1556115956,"post_id":53795226,"comment_id":98329458,"body_markdown":"This is not working. How do you set that `-d` stuff in postman, @ipave?","body":"This is not working. How do you set that <code>-d</code> stuff in postman, @ipave?"},{"owner":{"account_id":10902175,"reputation":1269,"user_id":8014145,"display_name":"ipave"},"score":3,"creation_date":1556199739,"post_id":53795226,"comment_id":98363282,"body_markdown":"@Avi&#243;n  here is a link - https://learning.getpostman.com/docs/postman/sending_api_requests/requests/#urlencoded","body":"@Avi&#243;n  here is a link - <a href=\"https://learning.getpostman.com/docs/postman/sending_api_requests/requests/#urlencoded\" rel=\"nofollow noreferrer\">learning.getpostman.com/docs/postman/sending_api_requests/&hellip;</a>"},{"owner":{"account_id":248860,"reputation":2568,"user_id":524504,"accept_rate":75,"display_name":"masterxilo"},"score":1,"creation_date":1559828529,"post_id":53795226,"comment_id":99548179,"body_markdown":"Thanks, I was sending &quot;multipart/form-data; boundary=--------------------------616846104444017186133807&quot;","body":"Thanks, I was sending &quot;multipart/form-data; boundary=--------------------------616846104444017186133807&quot;"}],"tags":[],"owner":{"account_id":10902175,"reputation":1269,"user_id":8014145,"display_name":"ipave"},"comment_count":5,"down_vote_count":1,"up_vote_count":83,"is_accepted":true,"score":82,"last_activity_date":1544897885,"creation_date":1544892513,"answer_id":53795226,"question_id":53795179,"body_markdown":"You should send your data in a POST request with `Content-Type` header value set to `application/x-www-form-urlencoded`, not json.","title":"Keycloak Missing form parameter: grant_type","body":"<p>You should send your data in a POST request with <code>Content-Type</code> header value set to <code>application/x-www-form-urlencoded</code>, not json.</p>\n"},{"tags":[],"owner":{"account_id":4203786,"reputation":387,"user_id":3443251,"display_name":"Adnan Khan"},"comment_count":0,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1571060579,"creation_date":1549564086,"answer_id":54579950,"question_id":53795179,"body_markdown":"For those having problems with curl the curl command is as follows \r\n\r\n    curl -d &quot;client_secret=&lt;client-secret&gt;&quot; -d &quot;client_id=&lt;client-id&gt;&quot; -d &quot;username=&lt;username&gt;&quot; -d &quot;password=&lt;password&gt;&quot; -d &quot;grant_type=password&quot; &quot;http://localhost:8080/auth/realms/&lt;realm-name&gt;/protocol/openid-connect/token&quot;\r\n\r\nThe curl command works without the `Content-Type` header.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Keycloak Missing form parameter: grant_type","body":"<p>For those having problems with curl the curl command is as follows </p>\n\n<pre><code>curl -d \"client_secret=&lt;client-secret&gt;\" -d \"client_id=&lt;client-id&gt;\" -d \"username=&lt;username&gt;\" -d \"password=&lt;password&gt;\" -d \"grant_type=password\" \"http://localhost:8080/auth/realms/&lt;realm-name&gt;/protocol/openid-connect/token\"\n</code></pre>\n\n<p>The curl command works without the <code>Content-Type</code> header.</p>\n"},{"comments":[{"owner":{"account_id":945032,"reputation":101,"user_id":972422,"display_name":"Syam Sankar"},"score":0,"creation_date":1610703958,"post_id":56925903,"comment_id":116221607,"body_markdown":"There is an easy way to get token without using query string.                                        const config = {\n  headers: {&#39;Content-Type&#39;: &#39;application/x-www-form-urlencoded&#39;}\n};\nconst formParameter = `client_id=KEYCLOAK_CLIENT_ID&amp;client_secret=KEYCLOAK_CLIENT_SECRET&amp;grant_type=KEYCLOAK_API_GRANT_TYPE`;\n axios.post(REQUEST_URL,formParameter,config);","body":"There is an easy way to get token without using query string.                                        const config = {   headers: {&#39;Content-Type&#39;: &#39;application/x-www-form-urlencoded&#39;} }; const formParameter = <code>client_id=KEYCLOAK_CLIENT_ID&amp;client_secret=KEYCLOAK_CLIENT_S&zwnj;&#8203;ECRET&amp;grant_type=KEY&zwnj;&#8203;CLOAK_API_GRANT_TYPE</code>&zwnj;&#8203;;  axios.post(REQUEST_URL,formParameter,config);"},{"owner":{"account_id":17505775,"reputation":3076,"user_id":12695027,"display_name":"Scratte"},"score":0,"creation_date":1618852592,"post_id":56925903,"comment_id":118722852,"body_markdown":"[Pavan J](https://stackoverflow.com/users/9616168) posted an [Answer](https://stackoverflow.com/a/67157213) saying &quot;Thanks @marc for the solution and it works! I have been looking for this solution in quite a number of forums. PS: There&#39;s a typo in grant_type: &#39;authorization_code&#39;, (closing quote missing)&quot;","body":"<a href=\"https://stackoverflow.com/users/9616168\">Pavan J</a> posted an <a href=\"https://stackoverflow.com/a/67157213\">Answer</a> saying &quot;Thanks @marc for the solution and it works! I have been looking for this solution in quite a number of forums. PS: There&#39;s a typo in grant_type: &#39;authorization_code&#39;, (closing quote missing)&quot;"},{"owner":{"account_id":14906817,"reputation":712,"user_id":10763750,"display_name":"Sudarshan"},"score":0,"creation_date":1647441995,"post_id":56925903,"comment_id":126372623,"body_markdown":"querystring is depricated now \nhttps://github.com/nodejs/node/blob/v17.0.0/lib/querystring.js","body":"querystring is depricated now  <a href=\"https://github.com/nodejs/node/blob/v17.0.0/lib/querystring.js\" rel=\"nofollow noreferrer\">github.com/nodejs/node/blob/v17.0.0/lib/querystring.js</a>"},{"owner":{"account_id":8218011,"reputation":418,"user_id":6183605,"display_name":"Jonathan Beadle"},"score":0,"creation_date":1649351776,"post_id":56925903,"comment_id":126859882,"body_markdown":"Since querystring is depricated as @sudarshan pointed out, we can use URLSearchParams instead.  In this code snippet we can substitute \n`new URLSearchParams(params)` for  `queryString.stringify(params)`.  URLSearchParams should be supported in newer versions of node and the browser.  If your version of node doesn&#39;t have support for it we can use a polyfill","body":"Since querystring is depricated as @sudarshan pointed out, we can use URLSearchParams instead.  In this code snippet we can substitute  <code>new URLSearchParams(params)</code> for  <code>queryString.stringify(params)</code>.  URLSearchParams should be supported in newer versions of node and the browser.  If your version of node doesn&#39;t have support for it we can use a polyfill"}],"tags":[],"owner":{"account_id":1434440,"reputation":5177,"user_id":1356141,"accept_rate":75,"display_name":"Marc"},"comment_count":4,"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1654634590,"creation_date":1562531746,"answer_id":56925903,"question_id":53795179,"body_markdown":"For those who landed here from a search looking for `JavaScript` solution.\r\n\r\nHere is an example when exchanging `code` for `access_token` with `keycloak` authority using `axios`.\r\n\r\n\r\nSending the request:\r\n\r\n```javascript\r\n\r\nconst params = new URLSearchParams({\r\n\r\n    grant_type: &#39;authorization_code&#39;,\r\n    client_id: &#39;client-id-here&#39;,\r\n    code: &#39;code-from-previous-redirect&#39;,\r\n    redirect_uri: location.protocol + &#39;//&#39; + location.host\r\n\r\n});\r\n\r\naxios({\r\n\r\n    method: &#39;post&#39;,\r\n    url: &#39;https://my-keycloak.authority/token&#39;,\r\n    data: params.toString(),\r\n    config: {\r\n        headers: {&#39;Content-Type&#39;: &#39;application/x-www-form-urlencoded&#39;}\r\n    }\r\n\r\n}).then(response =&gt; {\r\n\r\n    console.log(response.data);\r\n\r\n}).catch(error =&gt; {\r\n\r\n    console.error(error);\r\n\r\n});\r\n\r\n```\r\n\r\n&gt; You are required to send a POST request with the parameters as a URL encoded string in the request body.\r\n&gt;\r\n&gt; FormData object does not work.","title":"Keycloak Missing form parameter: grant_type","body":"<p>For those who landed here from a search looking for <code>JavaScript</code> solution.</p>\n<p>Here is an example when exchanging <code>code</code> for <code>access_token</code> with <code>keycloak</code> authority using <code>axios</code>.</p>\n<p>Sending the request:</p>\n<pre class=\"lang-js prettyprint-override\"><code>\nconst params = new URLSearchParams({\n\n    grant_type: 'authorization_code',\n    client_id: 'client-id-here',\n    code: 'code-from-previous-redirect',\n    redirect_uri: location.protocol + '//' + location.host\n\n});\n\naxios({\n\n    method: 'post',\n    url: 'https://my-keycloak.authority/token',\n    data: params.toString(),\n    config: {\n        headers: {'Content-Type': 'application/x-www-form-urlencoded'}\n    }\n\n}).then(response =&gt; {\n\n    console.log(response.data);\n\n}).catch(error =&gt; {\n\n    console.error(error);\n\n});\n\n</code></pre>\n<blockquote>\n<p>You are required to send a POST request with the parameters as a URL encoded string in the request body.</p>\n<p>FormData object does not work.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":6800394,"reputation":2795,"user_id":5233879,"display_name":"Lanil Marasinghe"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1577030872,"creation_date":1577030872,"answer_id":59445853,"question_id":53795179,"body_markdown":"Here&#39;s a sample CURL command\r\n\r\n```\r\ncurl -X POST \\\r\n  http://localhost:8080/auth/realms/your_realm_name/protocol/openid-connect/token \\\r\n  -H &#39;Accept: */*&#39; \\\r\n  -H &#39;Accept-Encoding: gzip, deflate&#39; \\\r\n  -H &#39;Cache-Control: no-cache&#39; \\\r\n  -H &#39;Connection: keep-alive&#39; \\\r\n  -H &#39;Content-Length: 69&#39; \\\r\n  -H &#39;Content-Type: application/x-www-form-urlencoded&#39; \\\r\n  -H &#39;Cookie: KC_RESTART=&#39; \\\r\n  -H &#39;Host: localhost:8080&#39; \\\r\n  -H &#39;Postman-Token: 88f38aa0-8659-4b37-a2aa-d6b92177bdc2,29c4e7db-51f4-48d1-b6d5-daab06b68ab4&#39; \\\r\n  -H &#39;User-Agent: PostmanRuntime/7.20.1&#39; \\\r\n  -H &#39;cache-control: no-cache&#39; \\\r\n  -d &#39;client_id=my-app&amp;username=admin&amp;password=admin123&amp;grant_type=password&#39;\r\n```","title":"Keycloak Missing form parameter: grant_type","body":"<p>Here's a sample CURL command</p>\n\n<pre><code>curl -X POST \\\n  http://localhost:8080/auth/realms/your_realm_name/protocol/openid-connect/token \\\n  -H 'Accept: */*' \\\n  -H 'Accept-Encoding: gzip, deflate' \\\n  -H 'Cache-Control: no-cache' \\\n  -H 'Connection: keep-alive' \\\n  -H 'Content-Length: 69' \\\n  -H 'Content-Type: application/x-www-form-urlencoded' \\\n  -H 'Cookie: KC_RESTART=' \\\n  -H 'Host: localhost:8080' \\\n  -H 'Postman-Token: 88f38aa0-8659-4b37-a2aa-d6b92177bdc2,29c4e7db-51f4-48d1-b6d5-daab06b68ab4' \\\n  -H 'User-Agent: PostmanRuntime/7.20.1' \\\n  -H 'cache-control: no-cache' \\\n  -d 'client_id=my-app&amp;username=admin&amp;password=admin123&amp;grant_type=password'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8878979,"reputation":21,"user_id":6629962,"display_name":"Rohit Tewari"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1581120384,"creation_date":1581119941,"answer_id":60122648,"question_id":53795179,"body_markdown":"I had similar issue in SOAPUI testing. We should not POST a json. This got resolved when I cleared &#39;Media Type&#39; and checked &#39;PostQueryString&#39; checkbox. &#39;Media Type box&#39; will set to &#39;www-form-urlencoded&#39; by itself. Add attributes at Top by hitting plus sign.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6oEsN.png","title":"Keycloak Missing form parameter: grant_type","body":"<p>I had similar issue in SOAPUI testing. We should not POST a json. This got resolved when I cleared 'Media Type' and checked 'PostQueryString' checkbox. 'Media Type box' will set to 'www-form-urlencoded' by itself. Add attributes at Top by hitting plus sign.</p>\n\n<p><a href=\"https://i.stack.imgur.com/6oEsN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6oEsN.png\" alt=\"enter image description here\"></a></p>\n"},{"comments":[{"owner":{"account_id":3129869,"reputation":1542,"user_id":2647910,"accept_rate":92,"display_name":"aswzen"},"score":4,"creation_date":1594142099,"post_id":60972626,"comment_id":111020741,"body_markdown":"don&#39;t forget to put `client_secret`","body":"don&#39;t forget to put <code>client_secret</code>"}],"tags":[],"owner":{"account_id":4247211,"reputation":457,"user_id":3475522,"display_name":"Robin Mathur"},"comment_count":1,"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1585749628,"creation_date":1585749628,"answer_id":60972626,"question_id":53795179,"body_markdown":"With Curl\r\n\r\n    curl -X POST \\\r\n    http://localhost:8080/auth/realms/api-gateway/protocol/openid-connect/token \\\r\n    -H &#39;Accept: */*&#39; \\\r\n    -H &#39;Accept-Encoding: gzip, deflate&#39; \\\r\n    -H &#39;Cache-Control: no-cache&#39; \\\r\n    -H &#39;Connection: keep-alive&#39; \\\r\n    -H &#39;Content-Length: 73&#39; \\\r\n    -H &#39;Content-Type: application/x-www-form-urlencoded&#39; \\\r\n    -H &#39;Cookie: JSESSIONID=F8CD240FF046572F864DC37148E51128.a139df207ece;   JSESSIONID=65D31B82F8C5FCAA5B1577DA03B4647C&#39; \\\r\n    -H &#39;Host: localhost:8080&#39; \\\r\n    -H &#39;Postman-Token: debc4f90-f555-4769-b392-c1130726a027,d5087d9f-9253-48bd-bb71-fda1d4558e4d&#39; \\\r\n    -H &#39;User-Agent: PostmanRuntime/7.15.2&#39; \\\r\n    -H &#39;cache-control: no-cache&#39; \\\r\n    -d &#39;grant_type=password&amp;client_id=api-gateway&amp;username=admin&amp;password=temp123&#39;\r\n\r\n\r\n\r\nBy Postman\r\n(Select x-www-form-urlencoded option for parameters)\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/j8gIt.png","title":"Keycloak Missing form parameter: grant_type","body":"<p>With Curl</p>\n\n<pre><code>curl -X POST \\\nhttp://localhost:8080/auth/realms/api-gateway/protocol/openid-connect/token \\\n-H 'Accept: */*' \\\n-H 'Accept-Encoding: gzip, deflate' \\\n-H 'Cache-Control: no-cache' \\\n-H 'Connection: keep-alive' \\\n-H 'Content-Length: 73' \\\n-H 'Content-Type: application/x-www-form-urlencoded' \\\n-H 'Cookie: JSESSIONID=F8CD240FF046572F864DC37148E51128.a139df207ece;   JSESSIONID=65D31B82F8C5FCAA5B1577DA03B4647C' \\\n-H 'Host: localhost:8080' \\\n-H 'Postman-Token: debc4f90-f555-4769-b392-c1130726a027,d5087d9f-9253-48bd-bb71-fda1d4558e4d' \\\n-H 'User-Agent: PostmanRuntime/7.15.2' \\\n-H 'cache-control: no-cache' \\\n-d 'grant_type=password&amp;client_id=api-gateway&amp;username=admin&amp;password=temp123'\n</code></pre>\n\n<p>By Postman\n(Select x-www-form-urlencoded option for parameters)</p>\n\n<p><a href=\"https://i.stack.imgur.com/j8gIt.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/j8gIt.png\" alt=\"enter image description here\"></a></p>\n"},{"comments":[{"owner":{"account_id":5087990,"reputation":518,"user_id":4081901,"display_name":"Amit Tamrakar"},"score":1,"creation_date":1674143412,"post_id":75147553,"comment_id":132656143,"body_markdown":"Similar answer is already present:\nhttps://stackoverflow.com/a/53795226/4081901","body":"Similar answer is already present: <a href=\"https://stackoverflow.com/a/53795226/4081901\">stackoverflow.com/a/53795226/4081901</a>"}],"tags":[],"owner":{"account_id":27553354,"reputation":1,"user_id":21028012,"display_name":"fdsjumbo"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673968594,"creation_date":1673963891,"answer_id":75147553,"question_id":53795179,"body_markdown":"\r\nERROR TYPE:\r\n{\r\n    &quot;error&quot;: &quot;invalid_request&quot;,\r\n    &quot;error_description&quot;: &quot;Missing form parameter: grant_type&quot;\r\n}\r\n\r\nHi all, if you are experiencing an error in ARC &quot;grant_type&quot; when making a POST request to test keycloak you can do the following modifications in the parameter: set HEADER to &quot;content_type&quot; and set the value to &quot;application/x-www-form-urlencoded&quot;\r\n","title":"Keycloak Missing form parameter: grant_type","body":"<p>ERROR TYPE:\n{\n&quot;error&quot;: &quot;invalid_request&quot;,\n&quot;error_description&quot;: &quot;Missing form parameter: grant_type&quot;\n}</p>\n<p>Hi all, if you are experiencing an error in ARC &quot;grant_type&quot; when making a POST request to test keycloak you can do the following modifications in the parameter: set HEADER to &quot;content_type&quot; and set the value to &quot;application/x-www-form-urlencoded&quot;</p>\n"},{"tags":[],"owner":{"account_id":4732735,"reputation":120,"user_id":3827877,"display_name":"vgnsh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681671963,"creation_date":1681670487,"answer_id":76029690,"question_id":53795179,"body_markdown":"Expanding the solution provided [Accepted Answer][1]\r\n\r\nThe below code is directly in application/x-www-form-urlencoded format\r\n\r\n    `grant_type=${encodeURIComponent(&#39;authorization_code&#39;)}&amp;code=${encodeURIComponent(this.authorizationCode)}&amp;redirect_uri=${encodeURIComponent(redirectUri)}&amp;client_id=${encodeURIComponent(clientId)}&amp;code_verifier=${encodeURIComponent(codeVerifier)}`\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/53795226/3827877","title":"Keycloak Missing form parameter: grant_type","body":"<p>Expanding the solution provided <a href=\"https://stackoverflow.com/a/53795226/3827877\">Accepted Answer</a></p>\n<p>The below code is directly in application/x-www-form-urlencoded format</p>\n<pre><code>`grant_type=${encodeURIComponent('authorization_code')}&amp;code=${encodeURIComponent(this.authorizationCode)}&amp;redirect_uri=${encodeURIComponent(redirectUri)}&amp;client_id=${encodeURIComponent(clientId)}&amp;code_verifier=${encodeURIComponent(codeVerifier)}`\n</code></pre>\n"},{"tags":[],"owner":{"account_id":362912,"reputation":3283,"user_id":706354,"accept_rate":67,"display_name":"MiamiBeach"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691496042,"creation_date":1691496042,"answer_id":76859355,"question_id":53795179,"body_markdown":"If you still have this problem - double check if your client and user belong to the realm in post request.","title":"Keycloak Missing form parameter: grant_type","body":"<p>If you still have this problem - double check if your client and user belong to the realm in post request.</p>\n"}],"owner":{"account_id":7392763,"reputation":3367,"user_id":5625696,"accept_rate":50,"display_name":"Borislav Stoilov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67159,"favorite_count":0,"down_vote_count":0,"up_vote_count":68,"accepted_answer_id":53795226,"answer_count":9,"score":68,"last_activity_date":1691496042,"creation_date":1544892219,"question_id":53795179,"body_markdown":"I have keycloak standalone running on my local machine.\r\n\r\nI created new realm called &#39;spring-test&#39;, then new client called &#39;login-app&#39;\r\n\r\nAccording to the rest documentation:\r\n\r\n    POST: http://localhost:8080/auth/realms/spring-test/protocol/openid-connect/token\r\n    \r\n    {\r\n        &quot;client_id&quot;: &quot;login-app&quot;,\r\n        &quot;username&quot;: &quot;user123&quot;,\r\n        &quot;password&quot;: &quot;pass123&quot;,\r\n        &quot;grant_type&quot;: &quot;password&quot;\r\n    }\r\n\r\nshould give me the jwt token but I get bad request with response\r\n\r\n    {\r\n        &quot;error&quot;: &quot;invalid_request&quot;,\r\n        &quot;error_description&quot;: &quot;Missing form parameter: grant_type&quot;\r\n    }\r\n\r\nI am assuming that something is missing in my configuration.\r\n\r\n\r\nEDIT:\r\nI was using json body but it should be `application/x-www-form-urlencoded`:\r\nthe following body works:\r\n\r\n    token_type_hint:access_token&amp;token:{token}&amp;client_id:{client_id}&amp;client_secret:{client_secret}\r\n\r\n","title":"Keycloak Missing form parameter: grant_type","body":"<p>I have keycloak standalone running on my local machine.</p>\n<p>I created new realm called 'spring-test', then new client called 'login-app'</p>\n<p>According to the rest documentation:</p>\n<pre><code>POST: http://localhost:8080/auth/realms/spring-test/protocol/openid-connect/token\n\n{\n    &quot;client_id&quot;: &quot;login-app&quot;,\n    &quot;username&quot;: &quot;user123&quot;,\n    &quot;password&quot;: &quot;pass123&quot;,\n    &quot;grant_type&quot;: &quot;password&quot;\n}\n</code></pre>\n<p>should give me the jwt token but I get bad request with response</p>\n<pre><code>{\n    &quot;error&quot;: &quot;invalid_request&quot;,\n    &quot;error_description&quot;: &quot;Missing form parameter: grant_type&quot;\n}\n</code></pre>\n<p>I am assuming that something is missing in my configuration.</p>\n<p>EDIT:\nI was using json body but it should be <code>application/x-www-form-urlencoded</code>:\nthe following body works:</p>\n<pre><code>token_type_hint:access_token&amp;token:{token}&amp;client_id:{client_id}&amp;client_secret:{client_secret}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","aws-parameter-store"],"comments":[{"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"score":0,"creation_date":1691492641,"post_id":76858801,"comment_id":135496051,"body_markdown":"I recently experienced a problem that spring.config.import did not work at all (no effect) except the case when it is used in application.properties file","body":"I recently experienced a problem that spring.config.import did not work at all (no effect) except the case when it is used in application.properties file"},{"owner":{"account_id":505659,"reputation":147,"user_id":1648558,"accept_rate":0,"display_name":"alex"},"score":0,"creation_date":1691501590,"post_id":76858801,"comment_id":135498085,"body_markdown":"Thanks for your reply @Michael Gantman. In my case, i can&#39;t use application properties file, as I need to read specific parameter from parameter store based on the incoming request. Eg: The incoming request comes with request param &quot;onboarding&quot;, then I need to read parameter store to get value of &quot;/config/my-project/preset/onboarding&quot;","body":"Thanks for your reply @Michael Gantman. In my case, i can&#39;t use application properties file, as I need to read specific parameter from parameter store based on the incoming request. Eg: The incoming request comes with request param &quot;onboarding&quot;, then I need to read parameter store to get value of &quot;/config/my-project/preset/onboarding&quot;"},{"owner":{"account_id":505659,"reputation":147,"user_id":1648558,"accept_rate":0,"display_name":"alex"},"score":0,"creation_date":1691503039,"post_id":76858801,"comment_id":135498442,"body_markdown":"And how do I print all the properties available in &quot;Environment&quot; instance. Just so I can see if at all any of my other parameters are in there.","body":"And how do I print all the properties available in &quot;Environment&quot; instance. Just so I can see if at all any of my other parameters are in there."}],"owner":{"account_id":505659,"reputation":147,"user_id":1648558,"accept_rate":0,"display_name":"alex"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":179,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691496039,"creation_date":1691491633,"question_id":76858801,"body_markdown":"I have used spring.config.import feature to import values from AWS parameter store in my springboot application. But not able to access the imported values in my service class. Please help.\r\n\r\nIn aws param store, I have below values:\r\n\r\n    /config/my-project/preset/onboarding = app,scan,shop\r\n    /config/my-project/preset/onload = redeem,notification\r\n\r\napplication.yml\r\n\r\n    spring:\r\n      config:\r\n        import:\r\n          - &quot;optional:aws-parameterstore:/config/my-project/preset&quot;\r\n\r\nIn my Java class, trying to access env variables:\r\n    \r\n    import org.springframework.core.env.Environment;\r\n\r\n    @Component\r\n    public class DataService {\r\n\r\n        @Autowired\r\n        private Environment env;\r\n\r\n        public MemberData getPresetData(final String preset) {\r\n            \r\n            log.info(&quot;preset =&gt; &quot; + preset);         /* preset = onboarding */\r\n\r\n            String fields = env.getProperty(preset);\r\n            \r\n            log.info(&quot;fields =&gt; &quot; + fields);         /* fields prints as null */\r\n       \r\n            String fields = env.getProperty(&quot;/config/my-project/preset/onboarding&quot;);\r\n            \r\n            log.info(&quot;fields =&gt; &quot; + fields);         /* fields prints as null */\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n    build.gradle =&gt;\r\n\r\n    springboot version 3.1.1\r\n    \r\n    implementation &#39;org.springframework.cloud:spring-cloud-starter-bootstrap:4.0.3&#39;\r\n\timplementation &#39;io.awspring.cloud:spring-cloud-aws-starter-parameter-store:3.0.1&#39;\r\n\timplementation &#39;io.awspring.cloud:spring-cloud-aws-starter-secrets-manager:3.0.1&#39;\r\n\r\n","title":"Not able to access environment variables with spring.config.import","body":"<p>I have used spring.config.import feature to import values from AWS parameter store in my springboot application. But not able to access the imported values in my service class. Please help.</p>\n<p>In aws param store, I have below values:</p>\n<pre><code>/config/my-project/preset/onboarding = app,scan,shop\n/config/my-project/preset/onload = redeem,notification\n</code></pre>\n<p>application.yml</p>\n<pre><code>spring:\n  config:\n    import:\n      - &quot;optional:aws-parameterstore:/config/my-project/preset&quot;\n</code></pre>\n<p>In my Java class, trying to access env variables:</p>\n<pre><code>import org.springframework.core.env.Environment;\n\n@Component\npublic class DataService {\n\n    @Autowired\n    private Environment env;\n\n    public MemberData getPresetData(final String preset) {\n        \n        log.info(&quot;preset =&gt; &quot; + preset);         /* preset = onboarding */\n\n        String fields = env.getProperty(preset);\n        \n        log.info(&quot;fields =&gt; &quot; + fields);         /* fields prints as null */\n   \n        String fields = env.getProperty(&quot;/config/my-project/preset/onboarding&quot;);\n        \n        log.info(&quot;fields =&gt; &quot; + fields);         /* fields prints as null */\n    }\n}\n\n\n\n\nbuild.gradle =&gt;\n\nspringboot version 3.1.1\n\nimplementation 'org.springframework.cloud:spring-cloud-starter-bootstrap:4.0.3'\nimplementation 'io.awspring.cloud:spring-cloud-aws-starter-parameter-store:3.0.1'\nimplementation 'io.awspring.cloud:spring-cloud-aws-starter-secrets-manager:3.0.1'\n</code></pre>\n"},{"tags":["java","string","file"],"comments":[{"owner":{"account_id":6213028,"reputation":130,"user_id":4838760,"accept_rate":75,"display_name":"apexlol"},"score":0,"creation_date":1516203755,"post_id":48304844,"comment_id":83594661,"body_markdown":"Show us the code and we&#39;ll tell you.","body":"Show us the code and we&#39;ll tell you."},{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1516203780,"post_id":48304844,"comment_id":83594680,"body_markdown":"Possible duplicate of [Format an Integer using Java String Format](https://stackoverflow.com/questions/6034523/format-an-integer-using-java-string-format)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/6034523/format-an-integer-using-java-string-format\">Format an Integer using Java String Format</a>"},{"owner":{"account_id":1852014,"reputation":24139,"user_id":1678362,"display_name":"Aaron"},"score":0,"creation_date":1516203791,"post_id":48304844,"comment_id":83594689,"body_markdown":"Can you identify whether the leading zeroes are stripped at display by the software you&#39;re using to read CSVs, or at write-time by your java code? (I suggest you open the .csv file with a text editor to make sure)","body":"Can you identify whether the leading zeroes are stripped at display by the software you&#39;re using to read CSVs, or at write-time by your java code? (I suggest you open the .csv file with a text editor to make sure)"},{"owner":{"display_name":"user6073886"},"score":3,"creation_date":1516203835,"post_id":48304844,"comment_id":83594723,"body_markdown":"Btw. While &quot;account numbers&quot; are called &quot;numbers&quot; it would probably be best to not treat them as numbers but Strings instead. The &quot;International Bank Account Number&quot; (IBAN) for example actually also contains letters.","body":"Btw. While &quot;account numbers&quot; are called &quot;numbers&quot; it would probably be best to not treat them as numbers but Strings instead. The &quot;International Bank Account Number&quot; (IBAN) for example actually also contains letters."},{"owner":{"account_id":6809378,"reputation":27,"user_id":5240144,"accept_rate":100,"display_name":"bharath"},"score":1,"creation_date":1516204333,"post_id":48304844,"comment_id":83595060,"body_markdown":"I have added the code above.","body":"I have added the code above."},{"owner":{"account_id":1053573,"reputation":190,"user_id":1056823,"display_name":"Aravind Chennuru"},"score":0,"creation_date":1516205875,"post_id":48304844,"comment_id":83596100,"body_markdown":"This is not a question that needs to be tied to java it is an Excel or the corresponding tool you are using to open the file. Please add tags accordingly.","body":"This is not a question that needs to be tied to java it is an Excel or the corresponding tool you are using to open the file. Please add tags accordingly."}],"answers":[{"tags":[],"owner":{"account_id":1053573,"reputation":190,"user_id":1056823,"display_name":"Aravind Chennuru"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":true,"score":-2,"last_activity_date":1516205782,"creation_date":1516205782,"answer_id":48305534,"question_id":48304844,"body_markdown":"I am hoping that you are using Excel to open the CSV, I would recommend using excel and following these [instructions][1] to get what you need.\r\nHope this helps, once you have the data imported save the file and share it with the users.\r\n\r\n\r\n  [1]: https://support.office.com/en-us/article/keeping-leading-zeros-and-large-numbers-1bf7b935-36e1-4985-842f-5dfa51f85fe7","title":"Write String with preceding zeros into CSV file in java","body":"<p>I am hoping that you are using Excel to open the CSV, I would recommend using excel and following these <a href=\"https://support.office.com/en-us/article/keeping-leading-zeros-and-large-numbers-1bf7b935-36e1-4985-842f-5dfa51f85fe7\" rel=\"nofollow noreferrer\">instructions</a> to get what you need.\nHope this helps, once you have the data imported save the file and share it with the users.</p>\n"}],"owner":{"account_id":6809378,"reputation":27,"user_id":5240144,"accept_rate":100,"display_name":"bharath"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1995,"favorite_count":0,"down_vote_count":6,"up_vote_count":0,"accepted_answer_id":48305534,"answer_count":1,"score":-6,"last_activity_date":1691495356,"creation_date":1516203678,"question_id":48304844,"body_markdown":"I am trying to write account numbers(e.g: 00000900123) into csv file in java. After creating a file and writing account number gets converted into 900123 automatically. How can i code to make it retain the preceding zeros in the file.\r\n\r\n\r\n\r\n    public class WriteData {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        BufferedWriter bufferedWriter = null;\r\n        FileOutputStream fileOutputStream = null;\r\n        String header = &quot;name, accountNumber, amount&quot;;\r\n        String record = &quot;savings, 000090123, 12000.0&quot;;\r\n\r\n        File file = new File(&quot;testfile.csv&quot;);\r\n        try {\r\n\r\n            fileOutputStream = new FileOutputStream(file);\r\n            bufferedWriter = new BufferedWriter(new OutputStreamWriter(fileOutputStream));\r\n\r\n            bufferedWriter.write(header);\r\n            bufferedWriter.newLine();\r\n            bufferedWriter.write(record);\r\n            bufferedWriter.newLine();\r\n\r\n        } catch(FileNotFoundException fne) {\r\n        } catch(IOException ioe) {\r\n        } finally {\r\n            if (bufferedWriter != null) {\r\n                try {\r\n                    bufferedWriter.close();\r\n                } catch (IOException e) {\r\n                }\r\n            }\r\n\r\n            if (fileOutputStream != null) {\r\n                try {\r\n                    fileOutputStream.close();\r\n                } catch (IOException e) {\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n     }\r\n\r\nAfter i run the above program it generates a testfile.csv. If i open it in text editor it shows the full string as below,\r\n      \r\n    name, accountNumber, amount\r\n    savings, 000090123, 12000.0\r\n\r\nBut if i open in csv account number would be 90123. We need to provide the csv file to client so complete account number is required.","title":"Write String with preceding zeros into CSV file in java","body":"<p>I am trying to write account numbers(e.g: 00000900123) into csv file in java. After creating a file and writing account number gets converted into 900123 automatically. How can i code to make it retain the preceding zeros in the file.</p>\n\n<pre><code>public class WriteData {\n\npublic static void main(String[] args) {\n\n    BufferedWriter bufferedWriter = null;\n    FileOutputStream fileOutputStream = null;\n    String header = \"name, accountNumber, amount\";\n    String record = \"savings, 000090123, 12000.0\";\n\n    File file = new File(\"testfile.csv\");\n    try {\n\n        fileOutputStream = new FileOutputStream(file);\n        bufferedWriter = new BufferedWriter(new OutputStreamWriter(fileOutputStream));\n\n        bufferedWriter.write(header);\n        bufferedWriter.newLine();\n        bufferedWriter.write(record);\n        bufferedWriter.newLine();\n\n    } catch(FileNotFoundException fne) {\n    } catch(IOException ioe) {\n    } finally {\n        if (bufferedWriter != null) {\n            try {\n                bufferedWriter.close();\n            } catch (IOException e) {\n            }\n        }\n\n        if (fileOutputStream != null) {\n            try {\n                fileOutputStream.close();\n            } catch (IOException e) {\n            }\n        }\n    }\n}\n\n }\n</code></pre>\n\n<p>After i run the above program it generates a testfile.csv. If i open it in text editor it shows the full string as below,</p>\n\n<pre><code>name, accountNumber, amount\nsavings, 000090123, 12000.0\n</code></pre>\n\n<p>But if i open in csv account number would be 90123. We need to provide the csv file to client so complete account number is required.</p>\n"},{"tags":["java","spring","spring-integration","spring-integration-http"],"answers":[{"comments":[{"owner":{"account_id":4950299,"reputation":192,"user_id":3984474,"display_name":"JBStonehenge"},"score":0,"creation_date":1630511713,"post_id":69007650,"comment_id":121977846,"body_markdown":"Thanks a lot for your answer! Can you explain shortly, why Inbound Gateway instead of Inbound Adapter?","body":"Thanks a lot for your answer! Can you explain shortly, why Inbound Gateway instead of Inbound Adapter?"},{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":1,"creation_date":1630513542,"post_id":69007650,"comment_id":121978614,"body_markdown":"See my answer. See some short explanation of the difference in docs: https://docs.spring.io/spring-integration/docs/current/reference/html/endpoint-summary.html#endpoint-summary","body":"See my answer. See some short explanation of the difference in docs: <a href=\"https://docs.spring.io/spring-integration/docs/current/reference/html/endpoint-summary.html#endpoint-summary\" rel=\"nofollow noreferrer\">docs.spring.io/spring-integration/docs/current/reference/htm&zwnj;&#8203;l/&hellip;</a>"}],"tags":[],"owner":{"account_id":16019624,"reputation":26,"user_id":11561413,"display_name":"yao Mr"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1630469048,"creation_date":1630469048,"answer_id":69007650,"question_id":69006677,"body_markdown":"like this?\r\n\r\n     @Bean\r\n    public IntegrationFlow httpInboundFlow() {\r\n        return IntegrationFlows\r\n                .from(Http.inboundGateway(&quot;/demo&quot;)\r\n                        .replyChannel(&quot;reply&quot;)\r\n                        .requestMapping(r -&gt; r.methods(HttpMethod.GET))\r\n                        .requestPayloadType(String.class)\r\n                )\r\n                .channel(&quot;next&quot;)\r\n                .get();\r\n    }\r\n\r\n\r\n    @Bean\r\n    public MessageChannel reply() {\r\n        return new QueueChannel();\r\n    }\r\n\r\n    @Bean\r\n    @ServiceActivator(inputChannel = &quot;next&quot;,outputChannel = &quot;reply&quot;)\r\n    public Function&lt;Message&lt;?&gt;, String&gt; handler() {\r\n        return new Function&lt;Message&lt;?&gt;, String&gt;() {\r\n            public String apply(Message&lt;?&gt; message) throws MessagingException {\r\n                System.out.println(&quot;myHandler: &quot; + message.getPayload());\r\n                System.out.println(&quot;myHandler: &quot; + message.getHeaders());\r\n                return &quot;ok&quot;;\r\n            }\r\n\r\n        };\r\n\r\n    }","title":"How do I configure a http inbound channel adapter with JAVA config in Spring Integration?","body":"<p>like this?</p>\n<pre><code> @Bean\npublic IntegrationFlow httpInboundFlow() {\n    return IntegrationFlows\n            .from(Http.inboundGateway(&quot;/demo&quot;)\n                    .replyChannel(&quot;reply&quot;)\n                    .requestMapping(r -&gt; r.methods(HttpMethod.GET))\n                    .requestPayloadType(String.class)\n            )\n            .channel(&quot;next&quot;)\n            .get();\n}\n\n\n@Bean\npublic MessageChannel reply() {\n    return new QueueChannel();\n}\n\n@Bean\n@ServiceActivator(inputChannel = &quot;next&quot;,outputChannel = &quot;reply&quot;)\npublic Function&lt;Message&lt;?&gt;, String&gt; handler() {\n    return new Function&lt;Message&lt;?&gt;, String&gt;() {\n        public String apply(Message&lt;?&gt; message) throws MessagingException {\n            System.out.println(&quot;myHandler: &quot; + message.getPayload());\n            System.out.println(&quot;myHandler: &quot; + message.getHeaders());\n            return &quot;ok&quot;;\n        }\n\n    };\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4950299,"reputation":192,"user_id":3984474,"display_name":"JBStonehenge"},"score":0,"creation_date":1630515708,"post_id":69014720,"comment_id":121979481,"body_markdown":"What scenario would you propose? I added **EDIT 1** to the question..\nThe end part made me think to use SI to benefit from its TCP/IP opportunities. So I thought I&#39;ll use a Http Inbound Adapter to request the REST service to feed the channel, do another REST request on the way to the TCP/IP endpoint. Now I understood the entry point has to be an Inbound Gateway, requesting the `TransferRequest` entity.","body":"What scenario would you propose? I added <b>EDIT 1</b> to the question.. The end part made me think to use SI to benefit from its TCP/IP opportunities. So I thought I&#39;ll use a Http Inbound Adapter to request the REST service to feed the channel, do another REST request on the way to the TCP/IP endpoint. Now I understood the entry point has to be an Inbound Gateway, requesting the <code>TransferRequest</code> entity."},{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1630516675,"post_id":69014720,"comment_id":121979881,"body_markdown":"Still not clear from your description if you call some external REST service (being HTTP client) or you are the server for that exposed REST service. Let&#39;s assume the latest since you don&#39;t have the whole `http://` in your mapping, so what you need is a `transform()` to create that `DataMessage` for TCP call and then use a `handle(Tcp.outboundGateway())`","body":"Still not clear from your description if you call some external REST service (being HTTP client) or you are the server for that exposed REST service. Let&#39;s assume the latest since you don&#39;t have the whole <code>http:&#47;&#47;</code> in your mapping, so what you need is a <code>transform()</code> to create that <code>DataMessage</code> for TCP call and then use a <code>handle(Tcp.outboundGateway())</code>"},{"owner":{"account_id":4950299,"reputation":192,"user_id":3984474,"display_name":"JBStonehenge"},"score":0,"creation_date":1630534473,"post_id":69014720,"comment_id":121985607,"body_markdown":"Thanks, Artem! Sorry, it is the first. So the mapping should have been `Http.httpInboundAnything(&quot;http://myRest/transfer/next&quot;)` since an external REST service is to be called to get the next person for whom to send a `DataMessage`. What does it change then?","body":"Thanks, Artem! Sorry, it is the first. So the mapping should have been <code>Http.httpInboundAnything(&quot;http:&#47;&#47;myRest&#47;transfer&#47;next&quot;)</code> since an external REST service is to be called to get the next person for whom to send a <code>DataMessage</code>. What does it change then?"},{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1630534844,"post_id":69014720,"comment_id":121985674,"body_markdown":"It change it radically. You need then an `Http.outboundGateway()`. This is what we call `REST client`. The &quot;outbound&quot; means that we are going to call, not us. See more info in docs: https://docs.spring.io/spring-integration/docs/current/reference/html/http.html#http-outbound","body":"It change it radically. You need then an <code>Http.outboundGateway()</code>. This is what we call <code>REST client</code>. The &quot;outbound&quot; means that we are going to call, not us. See more info in docs: <a href=\"https://docs.spring.io/spring-integration/docs/current/reference/html/http.html#http-outbound\" rel=\"nofollow noreferrer\">docs.spring.io/spring-integration/docs/current/reference/htm&zwnj;&#8203;l/&hellip;</a>"},{"owner":{"account_id":4950299,"reputation":192,"user_id":3984474,"display_name":"JBStonehenge"},"score":0,"creation_date":1630536260,"post_id":69014720,"comment_id":121985927,"body_markdown":"Thanks a lot, Artem! So you were right: Probably there is some misunderstanding in terminology. ... And I am at the very start again.","body":"Thanks a lot, Artem! So you were right: Probably there is some misunderstanding in terminology. ... And I am at the very start again."}],"tags":[],"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"comment_count":5,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1691495203,"creation_date":1630503023,"answer_id":69014720,"question_id":69006677,"body_markdown":"Probably there is some misunderstanding in terminology:\r\n\r\n1. The Inbound Channel Adapter is an entry point for your application. We can call it `server`, which is expecting external requests and you do some logic downstream. With an `Http.inboundChannelAdapter` we talk about a Spring MVC controller.\r\n2. Unlike an Inbound Gateway, the Inbound Channel Adapter is a one-way entry point. So no reply (response) is expected for the external caller - the REST service.\r\n3. Another misunderstanding probably comes with misleading property names. Although they still are valid. The `requestPayloadType` is what makes conversion for the HTTP request body in that Inbound Channel Adapter and this data is going to be packed into the payload of the message to be sent to that `transfer_next_channel`.\r\n\r\nYou probably need to think of replacing your `@ServiceActivator` with a `handle()` like this:\r\n\r\n     .channel(&quot;transfer_next_channel&quot;)\r\n     .&lt;TransferRequest&gt;handle((p, h) -&gt; )\r\n     .get();\r\n\r\nNote: you may not need that channel in between, the `IntegrationFlow` will take care of that for you.\r\n\r\nProbably you to dig Spring Integration Reference Manual more to understand concepts of channel adapters, gateways and DSL.","title":"How do I configure a http inbound channel adapter with JAVA config in Spring Integration?","body":"<p>Probably there is some misunderstanding in terminology:</p>\n<ol>\n<li>The Inbound Channel Adapter is an entry point for your application. We can call it <code>server</code>, which is expecting external requests and you do some logic downstream. With an <code>Http.inboundChannelAdapter</code> we talk about a Spring MVC controller.</li>\n<li>Unlike an Inbound Gateway, the Inbound Channel Adapter is a one-way entry point. So no reply (response) is expected for the external caller - the REST service.</li>\n<li>Another misunderstanding probably comes with misleading property names. Although they still are valid. The <code>requestPayloadType</code> is what makes conversion for the HTTP request body in that Inbound Channel Adapter and this data is going to be packed into the payload of the message to be sent to that <code>transfer_next_channel</code>.</li>\n</ol>\n<p>You probably need to think of replacing your <code>@ServiceActivator</code> with a <code>handle()</code> like this:</p>\n<pre><code> .channel(&quot;transfer_next_channel&quot;)\n .&lt;TransferRequest&gt;handle((p, h) -&gt; )\n .get();\n</code></pre>\n<p>Note: you may not need that channel in between, the <code>IntegrationFlow</code> will take care of that for you.</p>\n<p>Probably you to dig Spring Integration Reference Manual more to understand concepts of channel adapters, gateways and DSL.</p>\n"}],"owner":{"account_id":4950299,"reputation":192,"user_id":3984474,"display_name":"JBStonehenge"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2877,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69014720,"answer_count":2,"score":1,"last_activity_date":1691495203,"creation_date":1630457668,"question_id":69006677,"body_markdown":"I found a xml configured inbound adapter example what I do not fully understand. The configuration  specifies a REST request setting request method, consumed format, etc.\r\n\r\nI thought from the Spring Integration point of view the response should be much more important because the response is what is acutally feeding the message channel. Am I right?\r\n\r\nThe HTTP inbound adapter is used as message endpoint (actually a message startpoint) which calls a HTTP request - the URL of a REST service, let&#39;s say &quot;http://myRest/transfer/next&quot; - feeding a SI message channel with its result. Is that right?\r\n\r\nIt is either hard to find an example or to transform other examples into something which covers my needs. Even more as many examples are XML configured whereas I want to configure with Java or Dsl.\r\n\r\nI am looking for an example where a REST service (which I will provide) is called which returns a JSON representation of `TransferRequest` object of mine which is fed into the SI channel &quot;transfer_next_channel&quot; to get processed by the Message Handler.\r\n\r\nMy code approach is rather skeleton-like. What do I have to do?\r\n\r\n    @Bean\r\n    public IntegrationFlow httpInboundFlow() {\r\n        return IntegrationFlows\r\n                .from(Http.inboundChannelAdapter(&quot;http://myRest/transfer/next&quot;)\r\n                        .requestMapping(r -&gt; r\r\n                                .methods(HttpMethod.GET)\r\n                                .consumes(&quot;text/html&quot;))\r\n                        .requestPayloadType(TransferRequest.class)\r\n                        .headerMapper(myHeaderMapper)\r\n                        )\r\n                .channel(&quot;transfer_next_channel&quot;)\r\n                .get();\r\n    }\r\n    \r\n    @Bean\r\n    @ServiceActivator(inputChannel = &quot;transfer_next_channel&quot;)\r\n    public MessageHandler handler() {\r\n    \treturn new MessageHandler() {\r\n    \t\t@Override\r\n    \t\tpublic void handleMessage(Message&lt;?&gt; message) throws MessagingException {\r\n    \t\t\tSystem.out.println(&quot;myHandler: &quot; + message.getPayload());\r\n    \t\t\tSystem.out.println(&quot;myHandler: &quot; + message.getHeaders());\r\n    \t\t}\r\n    \t};\r\n    }\r\n\r\n**EDIT 1**\r\n\r\nThe whole thing is to generate a data message of a person from persistent DB state to a String message via TCP/IP. At first there is the information what message is needed. It is provided via external REST service. The result is a `TransferRequest` entity. From this the message has to be generated: another external REST service call to transform `TransferRequest` into some kind of `DataMessage`, the required data message. That result will be delivered via TCP/IP server as soon as a TCP/IP client has connected.\r\n\r\n**EDIT 2**\r\n\r\nThe message channel is: starts with a request &quot;http://myRest/transfer/next&quot; to an external service, gets `TransferRequest`(containing a `personId`), push it as message into the channel, transformer/handler to request (another) external service &quot;http://myRest/message/{personId}&quot;, gets `DataMessage`, push it as message into another channel, handler to push the message into a TcpOutboundGateway to be received by an external system. \r\n","title":"How do I configure a http inbound channel adapter with JAVA config in Spring Integration?","body":"<p>I found a xml configured inbound adapter example what I do not fully understand. The configuration  specifies a REST request setting request method, consumed format, etc.</p>\n<p>I thought from the Spring Integration point of view the response should be much more important because the response is what is acutally feeding the message channel. Am I right?</p>\n<p>The HTTP inbound adapter is used as message endpoint (actually a message startpoint) which calls a HTTP request - the URL of a REST service, let's say &quot;http://myRest/transfer/next&quot; - feeding a SI message channel with its result. Is that right?</p>\n<p>It is either hard to find an example or to transform other examples into something which covers my needs. Even more as many examples are XML configured whereas I want to configure with Java or Dsl.</p>\n<p>I am looking for an example where a REST service (which I will provide) is called which returns a JSON representation of <code>TransferRequest</code> object of mine which is fed into the SI channel &quot;transfer_next_channel&quot; to get processed by the Message Handler.</p>\n<p>My code approach is rather skeleton-like. What do I have to do?</p>\n<pre><code>@Bean\npublic IntegrationFlow httpInboundFlow() {\n    return IntegrationFlows\n            .from(Http.inboundChannelAdapter(&quot;http://myRest/transfer/next&quot;)\n                    .requestMapping(r -&gt; r\n                            .methods(HttpMethod.GET)\n                            .consumes(&quot;text/html&quot;))\n                    .requestPayloadType(TransferRequest.class)\n                    .headerMapper(myHeaderMapper)\n                    )\n            .channel(&quot;transfer_next_channel&quot;)\n            .get();\n}\n\n@Bean\n@ServiceActivator(inputChannel = &quot;transfer_next_channel&quot;)\npublic MessageHandler handler() {\n    return new MessageHandler() {\n        @Override\n        public void handleMessage(Message&lt;?&gt; message) throws MessagingException {\n            System.out.println(&quot;myHandler: &quot; + message.getPayload());\n            System.out.println(&quot;myHandler: &quot; + message.getHeaders());\n        }\n    };\n}\n</code></pre>\n<p><strong>EDIT 1</strong></p>\n<p>The whole thing is to generate a data message of a person from persistent DB state to a String message via TCP/IP. At first there is the information what message is needed. It is provided via external REST service. The result is a <code>TransferRequest</code> entity. From this the message has to be generated: another external REST service call to transform <code>TransferRequest</code> into some kind of <code>DataMessage</code>, the required data message. That result will be delivered via TCP/IP server as soon as a TCP/IP client has connected.</p>\n<p><strong>EDIT 2</strong></p>\n<p>The message channel is: starts with a request &quot;http://myRest/transfer/next&quot; to an external service, gets <code>TransferRequest</code>(containing a <code>personId</code>), push it as message into the channel, transformer/handler to request (another) external service &quot;http://myRest/message/{personId}&quot;, gets <code>DataMessage</code>, push it as message into another channel, handler to push the message into a TcpOutboundGateway to be received by an external system.</p>\n"},{"tags":["java","html","google-chrome","console","google-chrome-devtools"],"comments":[{"owner":{"account_id":112084,"reputation":171457,"user_id":295783,"accept_rate":81,"display_name":"mplungjan"},"score":1,"creation_date":1691484086,"post_id":76857817,"comment_id":135494349,"body_markdown":"Spelling: `document.getElementById ` returns ONE element if there is ONE element with that ID. `document.getElementsByName` returns a nodelist and the nodelist[0] is the first by that NAME","body":"Spelling: <code>document.getElementById </code> returns ONE element if there is ONE element with that ID. <code>document.getElementsByName</code> returns a nodelist and the nodelist[0] is the first by that NAME"},{"owner":{"account_id":112084,"reputation":171457,"user_id":295783,"accept_rate":81,"display_name":"mplungjan"},"score":0,"creation_date":1691484284,"post_id":76857817,"comment_id":135494390,"body_markdown":"I suggest you use `document.querySelector(&quot;[name=&#39;LAYOUT_DONNEESPRIX_2_6&#39;]&quot;)` if you want to access only the first field by that name OR `document.querySelectorAll(&quot;[name=&#39;LAYOUT_DONNEESPRIX_2_6&#39;]&quot;).forEach(prix =&gt; { do something with the field or the field.value here })` if you have more elements with the same name","body":"I suggest you use <code>document.querySelector(&quot;[name=&#39;LAYOUT_DONNEESPRIX_2_6&#39;]&quot;)</code> if you want to access only the first field by that name OR <code>document.querySelectorAll(&quot;[name=&#39;LAYOUT_DONNEESPRIX_2_6&#39;]&quot;)&zwnj;&#8203;.forEach(prix =&gt; { do something with the field or the field.value here })</code> if you have more elements with the same name"}],"answers":[{"tags":[],"owner":{"account_id":13363084,"reputation":141,"user_id":9644389,"display_name":"Shakil Anwar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691485020,"creation_date":1691485020,"answer_id":76857962,"question_id":76857817,"body_markdown":"Try this code:\r\n     \r\n    var newValue = &#39;5.00&#39;; // Replace &#39;3.33&#39; with the desired new value\r\n    \r\n    var elements = document.querySelectorAll(&#39;input[value=&quot;3.33&quot;]&#39;);\r\n    \r\n    for (var i = 0; i &lt; elements.length; i++) {\r\n        elements[i].value = newValue;\r\n    }\r\n\r\n","title":"Change HTML textbox values with console code","body":"<p>Try this code:</p>\n<pre><code>var newValue = '5.00'; // Replace '3.33' with the desired new value\n\nvar elements = document.querySelectorAll('input[value=&quot;3.33&quot;]');\n\nfor (var i = 0; i &lt; elements.length; i++) {\n    elements[i].value = newValue;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29183055,"reputation":1,"user_id":22356796,"display_name":"Jens G."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691495134,"creation_date":1691495134,"answer_id":76859245,"question_id":76857817,"body_markdown":"I have found the answer: \r\n\r\n&gt; document.getElementsByName(&#39;LAYOUT_DONNEES_PRIX-2-16&#39;)[0].value=&#39;1,2&#39;\r\n&gt; document.getElementsByName(&#39;LAYOUT_DONNEES_PRIX-3-16&#39;)[0].value=&#39;2,11&#39;\r\n\r\nworks great to change the values\r\n\r\nThank you all","title":"Change HTML textbox values with console code","body":"<p>I have found the answer:</p>\n<blockquote>\n<p>document.getElementsByName('LAYOUT_DONNEES_PRIX-2-16')[0].value='1,2'\ndocument.getElementsByName('LAYOUT_DONNEES_PRIX-3-16')[0].value='2,11'</p>\n</blockquote>\n<p>works great to change the values</p>\n<p>Thank you all</p>\n"}],"owner":{"account_id":29183055,"reputation":1,"user_id":22356796,"display_name":"Jens G."},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1691495134,"creation_date":1691483826,"question_id":76857817,"body_markdown":"First of all, I must say that I am less than noob in this field. \r\nI&#39;ve been sitting on a problem all morning.\r\n\r\n\r\nWhat I want to do:\r\nI often need to change prices (200+ rows) in a table on the web interface. To improve this, I already have an Excel VBA file to calculate the correct values, now I want to remove the manual input of the 200+ rows in the browser. \r\nI only need to change it &quot;visually&quot; as I can save the values after.\r\n\r\nI thought this could hopefully be done with the inspection console in Chrome. \r\nManually it works if I change the value in the code (red bordered value=&quot;3.33&quot; to whatever I want).\r\nNow I&#39;m trying to find the right code to change it in the console without clicking in the code.  \r\nI tried it already with\r\n\r\n&gt; document.getElementById(&#39;LAYOUT_DONNEES_PRIX-2-16-cell&#39;).value=&#39;1,00&#39;;\r\n\r\nor\r\n\r\n&gt;document.getElementByName(&#39;LAYOUT_DONNEES_PRIX-2-16&#39;).value=&#39;1,00&#39;;\r\n&gt; \r\n\r\nbut without success. (left Screenshots).\r\nYou can see document.getElementsById returns &quot;null&quot;, document.getElementsByName returns the NodeList.\r\n\r\nAs I already told you I am a total noob on this, so hopefully you can easily tell me what parameter I need to choose. \r\n\r\nPlease let me know if you need any additional information of the code or anything else.\r\n\r\nScreenshot: \r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JZa9f.png","title":"Change HTML textbox values with console code","body":"<p>First of all, I must say that I am less than noob in this field.\nI've been sitting on a problem all morning.</p>\n<p>What I want to do:\nI often need to change prices (200+ rows) in a table on the web interface. To improve this, I already have an Excel VBA file to calculate the correct values, now I want to remove the manual input of the 200+ rows in the browser.\nI only need to change it &quot;visually&quot; as I can save the values after.</p>\n<p>I thought this could hopefully be done with the inspection console in Chrome.\nManually it works if I change the value in the code (red bordered value=&quot;3.33&quot; to whatever I want).\nNow I'm trying to find the right code to change it in the console without clicking in the code.<br />\nI tried it already with</p>\n<blockquote>\n<p>document.getElementById('LAYOUT_DONNEES_PRIX-2-16-cell').value='1,00';</p>\n</blockquote>\n<p>or</p>\n<blockquote>\n<p>document.getElementByName('LAYOUT_DONNEES_PRIX-2-16').value='1,00';</p>\n</blockquote>\n<p>but without success. (left Screenshots).\nYou can see document.getElementsById returns &quot;null&quot;, document.getElementsByName returns the NodeList.</p>\n<p>As I already told you I am a total noob on this, so hopefully you can easily tell me what parameter I need to choose.</p>\n<p>Please let me know if you need any additional information of the code or anything else.</p>\n<p>Screenshot:\n<a href=\"https://i.stack.imgur.com/JZa9f.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","cookies","session-cookies"],"answers":[{"tags":[],"owner":{"account_id":25889560,"reputation":60,"user_id":19617167,"display_name":"JH Lee"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1691494194,"creation_date":1691494194,"answer_id":76859124,"question_id":76858811,"body_markdown":"It won&#39;t make that severe security risk(only for trivial data like such shopping cart). Even safer if you set Secure and HttpOnly options on cookie.\r\n\r\nBut if you already have some data store(like Redis) to manage the session state, there&#39;s completely no need to use cookie as data storage. Cause you&#39;ve already chosen to store the session-related data in that store. and cookie not showing any information but the session key to distinguish the certain client.\r\n\r\nIf you don&#39;t have and won&#39;t bring such storage into your service, yeah, cookies and local/session storage(in browser) are the only choices.\r\n\r\n","title":"Server-side store for a shopping cart in JAVA with Cookies or Sessions difference","body":"<p>It won't make that severe security risk(only for trivial data like such shopping cart). Even safer if you set Secure and HttpOnly options on cookie.</p>\n<p>But if you already have some data store(like Redis) to manage the session state, there's completely no need to use cookie as data storage. Cause you've already chosen to store the session-related data in that store. and cookie not showing any information but the session key to distinguish the certain client.</p>\n<p>If you don't have and won't bring such storage into your service, yeah, cookies and local/session storage(in browser) are the only choices.</p>\n"}],"owner":{"account_id":22508107,"reputation":45,"user_id":16703396,"display_name":"M G"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76859124,"answer_count":1,"score":0,"last_activity_date":1691494194,"creation_date":1691491759,"question_id":76858811,"body_markdown":"I&#39;m trying to figure out the difference between usage of Sessions and Cookies in a particular use case. \r\nI&#39;m building java difference service with server side items storage. \r\nI see generally everybody says that sessions are a better option. Just to store a session in redis and use session id to pull the data from the database. \r\n\r\nBut if i use Cookie for example and store the cart id in the cookie and every request will just check the cookie for a cart id. Won&#39;t it be the same? \r\nCan someone explain the difference in this situation and security risks? \r\n\r\nIn my case user is not authenticated. ","title":"Server-side store for a shopping cart in JAVA with Cookies or Sessions difference","body":"<p>I'm trying to figure out the difference between usage of Sessions and Cookies in a particular use case.\nI'm building java difference service with server side items storage.\nI see generally everybody says that sessions are a better option. Just to store a session in redis and use session id to pull the data from the database.</p>\n<p>But if i use Cookie for example and store the cart id in the cookie and every request will just check the cookie for a cart id. Won't it be the same?\nCan someone explain the difference in this situation and security risks?</p>\n<p>In my case user is not authenticated.</p>\n"},{"tags":["java","spring-boot","csv","bufferedreader"],"owner":{"account_id":29184001,"reputation":1,"user_id":22357560,"display_name":"KemalK"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":301,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691494130,"creation_date":1691493215,"question_id":76858984,"body_markdown":"When I send the CSV file from Postman for the second time, I encounter this error. How can I solve this issue?\r\n\r\njava.io.UncheckedIOException: Cannot delete C:\\Users\\kk\\AppData\\Local\\Temp\\tomcat.8080.8382445987963140509\\work\\Tomcat\\localhost\\ROOT\\upload_5ff0e06e_a607_4937_b707_de9c116a9f97_00000001.tmp\r\n\tat org.apache.tomcat.util.http.fileupload.disk.DiskFileItem.delete(DiskFileItem.java:431) ~[tomcat-embed-core-9.0.76.jar:9.0.76]\r\n\tat org.apache.catalina.core.ApplicationPart.delete(ApplicationPart.java:53) ~[tomcat-embed-core-9.0.76.jar:9.0.76]\r\n\tat org.springframework.web.multipart.support.StandardServletMultipartResolver.cleanupMultipart(StandardServletMultipartResolver.java:134) ~[spring-web-5.3.28.jar:5.3.28]\r\n\tat org.springframework.web.servlet.DispatcherServlet.cleanupMultipart(DispatcherServlet.java:1251) [spring-webmvc-5.3.28.jar:5.3.28]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1108) [spring-webmvc-5.3.28.jar:5.3.28]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965) [spring-webmvc-5.3.28.jar:5.3.28]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) [spring-webmvc-5.3.28.jar:5.3.28]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) [spring-webmvc-5.3.28.jar:5.3.28]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:555) [tomcat-embed-core-9.0.76.jar:4.0.FR]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) [spring-webmvc-5.3.28.jar:5.3.28]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:623) [tomcat-embed-core-9.0.76.jar:4.0.FR]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209) [tomcat-embed-core-9.0.76.jar:9.0.76]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) [tomcat-embed-core-9.0.76.jar:9.0.76]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) [tomcat-embed-websocket-9.0.76.jar:9.0.76]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) [tomcat-embed-core-9.0.76.jar:9.0.76]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) [tomcat-embed-core-9.0.76.jar:9.0.76]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) [spring-web-5.3.28.jar:5.3.28]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) [spring-web-5.3.28.jar:5.3.28]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) [tomcat-embed-core-9.0.76.jar:9.0.76]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) [tomcat-embed-core-9.0.76.jar:9.0.76]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) [spring-web-5.3.28.jar:5.3.28]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) [spring-web-5.3.28.jar:5.3.28]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) [tomcat-embed-core-9.0.76.jar:9.0.76]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) [tomcat-embed-core-9.0.76.jar:9.0.76]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) [spring-web-5.3.28.jar:5.3.28]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) [spring-web-5.3.28.jar:5.3.28]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) [tomcat-embed-core-9.0.76.jar:9.0.76]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) [tomcat-embed-core-9.0.76.jar:9.0.76]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) [tomcat-embed-core-9.0.76.jar:9.0.76]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) [tomcat-embed-core-9.0.76.jar:9.0.76]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481) [tomcat-embed-core-9.0.76.jar:9.0.76]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130) [tomcat-embed-core-9.0.76.jar:9.0.76]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) [tomcat-embed-core-9.0.76.jar:9.0.76]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-9.0.76.jar:9.0.76]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) [tomcat-embed-core-9.0.76.jar:9.0.76]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390) [tomcat-embed-core-9.0.76.jar:9.0.76]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) [tomcat-embed-core-9.0.76.jar:9.0.76]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926) [tomcat-embed-core-9.0.76.jar:9.0.76]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791) [tomcat-embed-core-9.0.76.jar:9.0.76]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) [tomcat-embed-core-9.0.76.jar:9.0.76]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) [tomcat-embed-core-9.0.76.jar:9.0.76]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) [tomcat-embed-core-9.0.76.jar:9.0.76]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.76.jar:9.0.76]\r\n\tat java.lang.Thread.run(Thread.java:750) [na:1.8.0_372]\r\n\r\nWARN  o.s.w.m.s.StandardServletMultipartResolver - Failed to perform cleanup of multipart items\r\nCaused by: java.io.IOException: Cannot delete C:\\Users\\kk\\AppData\\Local\\Temp\\tomcat.8080.8711335808711968415\\work\\Tomcat\\localhost\\ROOT\\upload_39333cde_6632_40ed_9ca7_4565440ea9d0_00000001.tmp\r\n... 44 common frames omitted\r\n\r\n\r\n\r\n```\r\n@Override\r\n    @Async\r\n    public List&lt;CsvReportDto&gt; getControlReportCsvFile(InputStream inputStream) throws Exception{\r\n    List&lt;CsvReportDto&gt; reports = csvUtils.readReportFromCsv(inputStream);\r\n\r\n\r\n```\r\n\r\nCsvUtils\r\n\r\n```\r\n` public List&lt;CsvReportDto&gt; readReportFromCsv(InputStream inputStream) throws Exception{\r\n        try(BufferedReader br = new BufferedReader(new InputStreamReader(inputStream, &quot;Windows-1254&quot;))) {\r\n            List&lt;CsvReportDto&gt; csvReportDtoList = new ArrayList&lt;&gt;();\r\n            br.readLine();\r\n            String line;\r\nwhile ((line = br.readLine()) != null){\r\n\r\n                String[] data = line.split(&quot;;&quot;);\r\n                CsvReportDto csvReportDto = new CsvReportDto();\r\n                // set dtos\r\n                csvReportDtoList.add(csvReportDto);\r\n            }\r\n            br.close();\r\n            return csvReportDtoList;\r\n\r\n        }catch (Exception e){\r\n            e.printStackTrace();\r\n            throw e;\r\n        }\r\n\r\n\r\n```\r\n`\r\n\r\nI don&#39;t want to receive an error message when I send requests consecutively without closing the application.","title":"Failed to perform cleanup of multipart items","body":"<p>When I send the CSV file from Postman for the second time, I encounter this error. How can I solve this issue?</p>\n<p>java.io.UncheckedIOException: Cannot delete C:\\Users\\kk\\AppData\\Local\\Temp\\tomcat.8080.8382445987963140509\\work\\Tomcat\\localhost\\ROOT\\upload_5ff0e06e_a607_4937_b707_de9c116a9f97_00000001.tmp\nat org.apache.tomcat.util.http.fileupload.disk.DiskFileItem.delete(DiskFileItem.java:431) ~[tomcat-embed-core-9.0.76.jar:9.0.76]\nat org.apache.catalina.core.ApplicationPart.delete(ApplicationPart.java:53) ~[tomcat-embed-core-9.0.76.jar:9.0.76]\nat org.springframework.web.multipart.support.StandardServletMultipartResolver.cleanupMultipart(StandardServletMultipartResolver.java:134) ~[spring-web-5.3.28.jar:5.3.28]\nat org.springframework.web.servlet.DispatcherServlet.cleanupMultipart(DispatcherServlet.java:1251) [spring-webmvc-5.3.28.jar:5.3.28]\nat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1108) [spring-webmvc-5.3.28.jar:5.3.28]\nat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965) [spring-webmvc-5.3.28.jar:5.3.28]\nat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) [spring-webmvc-5.3.28.jar:5.3.28]\nat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) [spring-webmvc-5.3.28.jar:5.3.28]\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:555) [tomcat-embed-core-9.0.76.jar:4.0.FR]\nat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) [spring-webmvc-5.3.28.jar:5.3.28]\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:623) [tomcat-embed-core-9.0.76.jar:4.0.FR]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209) [tomcat-embed-core-9.0.76.jar:9.0.76]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) [tomcat-embed-core-9.0.76.jar:9.0.76]\nat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) [tomcat-embed-websocket-9.0.76.jar:9.0.76]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) [tomcat-embed-core-9.0.76.jar:9.0.76]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) [tomcat-embed-core-9.0.76.jar:9.0.76]\nat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) [spring-web-5.3.28.jar:5.3.28]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) [spring-web-5.3.28.jar:5.3.28]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) [tomcat-embed-core-9.0.76.jar:9.0.76]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) [tomcat-embed-core-9.0.76.jar:9.0.76]\nat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) [spring-web-5.3.28.jar:5.3.28]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) [spring-web-5.3.28.jar:5.3.28]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) [tomcat-embed-core-9.0.76.jar:9.0.76]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) [tomcat-embed-core-9.0.76.jar:9.0.76]\nat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) [spring-web-5.3.28.jar:5.3.28]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) [spring-web-5.3.28.jar:5.3.28]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) [tomcat-embed-core-9.0.76.jar:9.0.76]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) [tomcat-embed-core-9.0.76.jar:9.0.76]\nat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) [tomcat-embed-core-9.0.76.jar:9.0.76]\nat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) [tomcat-embed-core-9.0.76.jar:9.0.76]\nat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481) [tomcat-embed-core-9.0.76.jar:9.0.76]\nat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130) [tomcat-embed-core-9.0.76.jar:9.0.76]\nat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) [tomcat-embed-core-9.0.76.jar:9.0.76]\nat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-9.0.76.jar:9.0.76]\nat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) [tomcat-embed-core-9.0.76.jar:9.0.76]\nat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390) [tomcat-embed-core-9.0.76.jar:9.0.76]\nat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) [tomcat-embed-core-9.0.76.jar:9.0.76]\nat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926) [tomcat-embed-core-9.0.76.jar:9.0.76]\nat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791) [tomcat-embed-core-9.0.76.jar:9.0.76]\nat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) [tomcat-embed-core-9.0.76.jar:9.0.76]\nat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) [tomcat-embed-core-9.0.76.jar:9.0.76]\nat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) [tomcat-embed-core-9.0.76.jar:9.0.76]\nat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.76.jar:9.0.76]\nat java.lang.Thread.run(Thread.java:750) [na:1.8.0_372]</p>\n<p>WARN  o.s.w.m.s.StandardServletMultipartResolver - Failed to perform cleanup of multipart items\nCaused by: java.io.IOException: Cannot delete C:\\Users\\kk\\AppData\\Local\\Temp\\tomcat.8080.8711335808711968415\\work\\Tomcat\\localhost\\ROOT\\upload_39333cde_6632_40ed_9ca7_4565440ea9d0_00000001.tmp\n... 44 common frames omitted</p>\n<pre><code>@Override\n    @Async\n    public List&lt;CsvReportDto&gt; getControlReportCsvFile(InputStream inputStream) throws Exception{\n    List&lt;CsvReportDto&gt; reports = csvUtils.readReportFromCsv(inputStream);\n\n\n</code></pre>\n<p>CsvUtils</p>\n<pre><code>` public List&lt;CsvReportDto&gt; readReportFromCsv(InputStream inputStream) throws Exception{\n        try(BufferedReader br = new BufferedReader(new InputStreamReader(inputStream, &quot;Windows-1254&quot;))) {\n            List&lt;CsvReportDto&gt; csvReportDtoList = new ArrayList&lt;&gt;();\n            br.readLine();\n            String line;\nwhile ((line = br.readLine()) != null){\n\n                String[] data = line.split(&quot;;&quot;);\n                CsvReportDto csvReportDto = new CsvReportDto();\n                // set dtos\n                csvReportDtoList.add(csvReportDto);\n            }\n            br.close();\n            return csvReportDtoList;\n\n        }catch (Exception e){\n            e.printStackTrace();\n            throw e;\n        }\n\n\n</code></pre>\n<p>`</p>\n<p>I don't want to receive an error message when I send requests consecutively without closing the application.</p>\n"},{"tags":["java","plugins","mqtt","mosquitto","paho"],"comments":[{"owner":{"account_id":236814,"reputation":55993,"user_id":504554,"accept_rate":100,"display_name":"hardillb"},"score":1,"creation_date":1691497523,"post_id":76859087,"comment_id":135497116,"body_markdown":"The short answer is don&#39;t do it this way. Use one of the authentication plugins and add/remove users from a database. (Otherwise how to get the `password_file` to be re-read is detailed in the `mosquitto.conf` man page https://mosquitto.org/man/mosquitto-conf-5.html)","body":"The short answer is don&#39;t do it this way. Use one of the authentication plugins and add/remove users from a database. (Otherwise how to get the <code>password_file</code> to be re-read is detailed in the <code>mosquitto.conf</code> man page <a href=\"https://mosquitto.org/man/mosquitto-conf-5.html\" rel=\"nofollow noreferrer\">mosquitto.org/man/mosquitto-conf-5.html</a>)"},{"owner":{"account_id":236814,"reputation":55993,"user_id":504554,"accept_rate":100,"display_name":"hardillb"},"score":1,"creation_date":1691497870,"post_id":76859087,"comment_id":135497204,"body_markdown":"Also don&#39;t try and use java to run the `mosquitto_ctrl` command. If you want to use the dynamic_sec plugin then you should just send the MQTT messages directly from the java app to the broker","body":"Also don&#39;t try and use java to run the <code>mosquitto_ctrl</code> command. If you want to use the dynamic_sec plugin then you should just send the MQTT messages directly from the java app to the broker"},{"owner":{"account_id":29142318,"reputation":1,"user_id":22325015,"display_name":"Mangesh Kale"},"score":0,"creation_date":1691561388,"post_id":76859087,"comment_id":135506489,"body_markdown":"actully my users are connecting to mqtt mosquitto server and i want to just add these user to mosquitto server for authentication and please can you explain me how to add user by sending messages from java actully i have read the doc you mentioned still i didnt get and thank you for your reply and help","body":"actully my users are connecting to mqtt mosquitto server and i want to just add these user to mosquitto server for authentication and please can you explain me how to add user by sending messages from java actully i have read the doc you mentioned still i didnt get and thank you for your reply and help"},{"owner":{"account_id":236814,"reputation":55993,"user_id":504554,"accept_rate":100,"display_name":"hardillb"},"score":0,"creation_date":1691698319,"post_id":76859087,"comment_id":135530580,"body_markdown":"Read this feature https://github.com/eclipse/mosquitto/issues/1779","body":"Read this feature <a href=\"https://github.com/eclipse/mosquitto/issues/1779\" rel=\"nofollow noreferrer\">github.com/eclipse/mosquitto/issues/1779</a>"}],"owner":{"account_id":29142318,"reputation":1,"user_id":22325015,"display_name":"Mangesh Kale"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1691497490,"answer_count":0,"score":0,"last_activity_date":1691493962,"creation_date":1691493962,"question_id":76859087,"body_markdown":"i have tried command line methods to create client but i want to create using java code via dynamic security plugin or any other method without restarting server \r\n\r\nin this code i am getting issue that when the command is executed then it is not waiting for password to enter after command is executed how to solve this issue ?\r\n\r\n\r\n\r\n```\r\n  public static void main(String[] args) {\r\n        String mosquittoDir = &quot;D:\\\\jar folder\\\\mosquitto&quot;;\r\n        String username = &quot;myadmin&quot;;\r\n        String password = &quot;root&quot;;\r\n        String clientName = &quot;sk123&quot;;\r\n\r\n        try {\r\n            // Set the working directory to the Mosquitto directory\r\n            File mosquittoDirectory = new File(mosquittoDir);\r\n\r\n            ProcessBuilder processBuilder = new ProcessBuilder(&quot;cmd.exe&quot;,&quot;/k&quot;, &quot;mosquitto_ctrl -u admin -P root dynsec createClient sk123&quot;);\r\n            processBuilder.directory(mosquittoDirectory);\r\n            processBuilder.redirectErrorStream(true);\r\n            Process process = processBuilder.start();\r\n\r\n            // Read the output from the command in a separate thread\r\n           \r\n                try {\r\n                    BufferedReader reader = new BufferedReader(new InputStreamReader(process.getInputStream()));\r\n                    String line;\r\n                    while ((line = reader.readLine())!=null){\r\n                        System.out.println(line);\r\n                        if (line.contains(&quot;New password for &quot; + username + &quot;:&quot;)) {\r\n                            // Provide the password\r\n                            OutputStream outputStream = process.getOutputStream();\r\n                            outputStream.write((password).getBytes());\r\n                            outputStream.flush();\r\n                        } else if (line.contains(&quot;Reenter password for &quot; + username + &quot;:&quot;)) {\r\n                            // Provide the password again for re-entering\r\n                            System.out.println(&quot;Password re-enter called&quot;);\r\n                            OutputStream outputStream = process.getOutputStream();\r\n                            outputStream.write((password + &quot;\\n&quot;).getBytes());\r\n                            outputStream.flush();\r\n                        } else if ((line.contains(&quot;This means all of the configuration changes you are making are visible on the network, including passwords.&quot;))) {\r\n                        \tbreak;\r\n                        \t\r\n                        }\r\n                    }\r\n                   // process.destroy();\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n\r\n            // Wait for the process to complete\r\n            int exitCode = process.waitFor();\r\n           \r\n            // Wait for the output thread to complete\r\n           \r\n\r\n        } catch (IOException | InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n```\r\n","title":"how to create or add new client with password without restarting mqtt eclipse mosquitto server through java code?","body":"<p>i have tried command line methods to create client but i want to create using java code via dynamic security plugin or any other method without restarting server</p>\n<p>in this code i am getting issue that when the command is executed then it is not waiting for password to enter after command is executed how to solve this issue ?</p>\n<pre><code>  public static void main(String[] args) {\n        String mosquittoDir = &quot;D:\\\\jar folder\\\\mosquitto&quot;;\n        String username = &quot;myadmin&quot;;\n        String password = &quot;root&quot;;\n        String clientName = &quot;sk123&quot;;\n\n        try {\n            // Set the working directory to the Mosquitto directory\n            File mosquittoDirectory = new File(mosquittoDir);\n\n            ProcessBuilder processBuilder = new ProcessBuilder(&quot;cmd.exe&quot;,&quot;/k&quot;, &quot;mosquitto_ctrl -u admin -P root dynsec createClient sk123&quot;);\n            processBuilder.directory(mosquittoDirectory);\n            processBuilder.redirectErrorStream(true);\n            Process process = processBuilder.start();\n\n            // Read the output from the command in a separate thread\n           \n                try {\n                    BufferedReader reader = new BufferedReader(new InputStreamReader(process.getInputStream()));\n                    String line;\n                    while ((line = reader.readLine())!=null){\n                        System.out.println(line);\n                        if (line.contains(&quot;New password for &quot; + username + &quot;:&quot;)) {\n                            // Provide the password\n                            OutputStream outputStream = process.getOutputStream();\n                            outputStream.write((password).getBytes());\n                            outputStream.flush();\n                        } else if (line.contains(&quot;Reenter password for &quot; + username + &quot;:&quot;)) {\n                            // Provide the password again for re-entering\n                            System.out.println(&quot;Password re-enter called&quot;);\n                            OutputStream outputStream = process.getOutputStream();\n                            outputStream.write((password + &quot;\\n&quot;).getBytes());\n                            outputStream.flush();\n                        } else if ((line.contains(&quot;This means all of the configuration changes you are making are visible on the network, including passwords.&quot;))) {\n                            break;\n                            \n                        }\n                    }\n                   // process.destroy();\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n\n            // Wait for the process to complete\n            int exitCode = process.waitFor();\n           \n            // Wait for the output thread to complete\n           \n\n        } catch (IOException | InterruptedException e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n"},{"tags":["java","android-studio"],"comments":[{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1691063432,"post_id":76827766,"comment_id":135442541,"body_markdown":"&quot;i am writing this to fill character limit:&quot; &lt;- Well, you shouldn&#39;t have. [Please do not upload images of code/data/errors.](//meta.stackoverflow.com/q/285551) - If you simply would have added your code and a little bit of problem description you could have easily reached the limit.","body":"&quot;i am writing this to fill character limit:&quot; &lt;- Well, you shouldn&#39;t have. <a href=\"//meta.stackoverflow.com/q/285551\">Please do not upload images of code/data/errors.</a> - If you simply would have added your code and a little bit of problem description you could have easily reached the limit."},{"owner":{"account_id":29151886,"reputation":1,"user_id":22332549,"display_name":"Efekan Filiz"},"score":0,"creation_date":1691068521,"post_id":76827766,"comment_id":135443651,"body_markdown":"can you delete your dislike,i cant ask new questions because of your dislike,the reason why i asked this question in a bad way because i am new on this website and i dont know how to ask a good question,i am sorry","body":"can you delete your dislike,i cant ask new questions because of your dislike,the reason why i asked this question in a bad way because i am new on this website and i dont know how to ask a good question,i am sorry"}],"answers":[{"comments":[{"owner":{"account_id":29151886,"reputation":1,"user_id":22332549,"display_name":"Efekan Filiz"},"score":0,"creation_date":1691066628,"post_id":76827842,"comment_id":135443216,"body_markdown":"i did what you said and got an error like this Class referenced in the manifest, `com.example.efekanfiliz.methodsandclasses.MainActivity`, was not found in the project or the libraries","body":"i did what you said and got an error like this Class referenced in the manifest, <code>com.example.efekanfiliz.methodsandclasses.MainActivity</code>, was not found in the project or the libraries"},{"owner":{"account_id":8178752,"reputation":1,"user_id":6156705,"display_name":"Ali"},"score":0,"creation_date":1691066967,"post_id":76827842,"comment_id":135443300,"body_markdown":"just delete &quot;.methodsandclasses&quot;","body":"just delete &quot;.methodsandclasses&quot;"}],"tags":[],"owner":{"account_id":8178752,"reputation":1,"user_id":6156705,"display_name":"Ali"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691493916,"creation_date":1691063787,"answer_id":76827842,"question_id":76827766,"body_markdown":"Double-click the manifests and you should see something like: \r\n\r\n     &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n     &lt;/activity&gt;\r\n\r\nIf you don&#39;t see it, just copy paste it between the `&lt;application&gt;` tags.","title":"How to solve missing declaration of activity &#39;MainActivity&#39; in AndroidManifest.xml","body":"<p>Double-click the manifests and you should see something like:</p>\n<pre><code> &lt;activity\n        android:name=&quot;.MainActivity&quot;\n        android:exported=&quot;true&quot;&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n            &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n        &lt;/intent-filter&gt;\n &lt;/activity&gt;\n</code></pre>\n<p>If you don't see it, just copy paste it between the <code>&lt;application&gt;</code> tags.</p>\n"}],"owner":{"account_id":29151886,"reputation":1,"user_id":22332549,"display_name":"Efekan Filiz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1691493916,"creation_date":1691063164,"question_id":76827766,"body_markdown":"![[enter image description here](https://i.stack.imgur.com/N0694.png)](https://i.stack.imgur.com/4N24U.png)\r\n\r\nI am getting this error in all of my project: `the activity &#39;MainActivity(4) is not declared in Android Manifest.xml`\r\n\r\nThis is my code so far: \r\n```\r\npackage com.efekanfiliz.methodclasses;\r\n\r\nimport ...\r\n\r\npublic class MainActivity extends AppCompatActivity{\r\n\r\n@Override \r\nprotected void onCreate(Bundle savedInstantState) {\r\n\r\nsuper.onCreate(savedInstantState);\r\nsetContentView(R.layout.activity_main);\r\n\r\ntestMethod();\r\n}\r\nint x;\r\n\r\nprivate void testMethod(){x=4+4;}\r\n}\r\n```\r\n\r\ni couldn&#39;t solve this no matter what i did and i could not understand the cause of it as well. \r\n\r\n","title":"How to solve missing declaration of activity &#39;MainActivity&#39; in AndroidManifest.xml","body":"<p><img src=\"https://i.stack.imgur.com/4N24U.png\" alt=\"enter image description here\" /></p>\n<p>I am getting this error in all of my project: <code>the activity 'MainActivity(4) is not declared in Android Manifest.xml</code></p>\n<p>This is my code so far:</p>\n<pre><code>package com.efekanfiliz.methodclasses;\n\nimport ...\n\npublic class MainActivity extends AppCompatActivity{\n\n@Override \nprotected void onCreate(Bundle savedInstantState) {\n\nsuper.onCreate(savedInstantState);\nsetContentView(R.layout.activity_main);\n\ntestMethod();\n}\nint x;\n\nprivate void testMethod(){x=4+4;}\n}\n</code></pre>\n<p>i couldn't solve this no matter what i did and i could not understand the cause of it as well.</p>\n"},{"tags":["java","data-structures","queue","stack","callstack"],"comments":[{"owner":{"account_id":3700957,"reputation":13521,"user_id":3080723,"display_name":"Stef"},"score":1,"creation_date":1691493224,"post_id":76858894,"comment_id":135496161,"body_markdown":"*&quot;So, now when I call dequeue, 25 is popped from s1 and pushed to s2.&quot;* &lt;&lt;&lt; No. Your mistake is there. When calling `dequeue`, ***DO NOT*** put the elements of s1 onto s2, unless s2 is empty. If s2 is nonempty, then just pop one element from s2.","body":"<i>&quot;So, now when I call dequeue, 25 is popped from s1 and pushed to s2.&quot;</i> &lt;&lt;&lt; No. Your mistake is there. When calling <code>dequeue</code>, <b><i>DO NOT</i></b> put the elements of s1 onto s2, unless s2 is empty. If s2 is nonempty, then just pop one element from s2."},{"owner":{"account_id":3700957,"reputation":13521,"user_id":3080723,"display_name":"Stef"},"score":0,"creation_date":1691493327,"post_id":76858894,"comment_id":135496183,"body_markdown":"*&quot;This is the method where the dequeue operation is costly and enqueue is O(1).&quot;* &lt;&lt; The dequeue operation is not ***always*** costly. In fact it&#39;s [*amortized* O(1)](https://en.wikipedia.org/wiki/Amortized_analysis) if the queue is used in a context where amortized complexity makes sense.","body":"<i>&quot;This is the method where the dequeue operation is costly and enqueue is O(1).&quot;</i> &lt;&lt; The dequeue operation is not <b><i>always</i></b> costly. In fact it&#39;s <a href=\"https://en.wikipedia.org/wiki/Amortized_analysis\" rel=\"nofollow noreferrer\"><i>amortized</i> O(1)</a> if the queue is used in a context where amortized complexity makes sense."},{"owner":{"account_id":3700957,"reputation":13521,"user_id":3080723,"display_name":"Stef"},"score":0,"creation_date":1691493465,"post_id":76858894,"comment_id":135496212,"body_markdown":"In fact, in the java code that you&#39;ve shown, notice this big `if` inside the code of function `dequeue`: `if(s2.isEmpty()){`. So the code that pops the elements from s1 and pushes them to s2 is only executed if s2 is empty.","body":"In fact, in the java code that you&#39;ve shown, notice this big <code>if</code> inside the code of function <code>dequeue</code>: <code>if(s2.isEmpty()){</code>. So the code that pops the elements from s1 and pushes them to s2 is only executed if s2 is empty."},{"owner":{"account_id":29183869,"reputation":13,"user_id":22357449,"display_name":"Mohit"},"score":0,"creation_date":1691493625,"post_id":76858894,"comment_id":135496252,"body_markdown":"Yes, its amortized O(1). I get it now. Thanks a lot for clearing my doubt.","body":"Yes, its amortized O(1). I get it now. Thanks a lot for clearing my doubt."}],"answers":[{"tags":[],"owner":{"account_id":3700957,"reputation":13521,"user_id":3080723,"display_name":"Stef"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1691493683,"creation_date":1691493683,"answer_id":76859052,"question_id":76858894,"body_markdown":"&gt; So, now when I call dequeue, 25 is popped from s1 and pushed to s2.\r\n\r\nNo. Your mistake is there. When calling `dequeue`, ***DO NOT*** put the elements of s1 onto s2, unless s2 is empty. If s2 is nonempty, then just pop one element from s2.\r\n\r\nIn fact, in the java code that you&#39;ve shown, notice this big `if` inside the code of function `dequeue`:\r\n```java\r\nif(s2.isEmpty()){\r\n    while(!s1.isEmpty()){\r\n        temp = s1.pop();\r\n        s2.push(temp); \r\n    }\r\n} \r\n```\r\nThe `while`-loop is responsible for popping the elements from s1 and pushing them onto s2, but this `while`-loop is enclosed inside a big `if(s2.isEmpty())`: the code that pops the elements from s1 and pushes them to s2 is only executed if s2 is empty. If s1 is nonempty, we jump directly to `return s2.pop();` without touching the elements from s1.\r\n\r\n&gt; This is the method where the dequeue operation is costly and enqueue is O(1).\r\n\r\nActually, the `dequeue` operation is not ***always*** costly. It&#39;s only costly when s2 is empty. In fact we say that this operation is [*amortized* O(1)](https://en.wikipedia.org/wiki/Amortized_analysis) if the queue is used in a context where amortized complexity makes sense.","title":"Queue Using Stacks: Transferring Elements Between Stacks for Dequeue, but Not Reverting for Enqueue","body":"<blockquote>\n<p>So, now when I call dequeue, 25 is popped from s1 and pushed to s2.</p>\n</blockquote>\n<p>No. Your mistake is there. When calling <code>dequeue</code>, <em><strong>DO NOT</strong></em> put the elements of s1 onto s2, unless s2 is empty. If s2 is nonempty, then just pop one element from s2.</p>\n<p>In fact, in the java code that you've shown, notice this big <code>if</code> inside the code of function <code>dequeue</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if(s2.isEmpty()){\n    while(!s1.isEmpty()){\n        temp = s1.pop();\n        s2.push(temp); \n    }\n} \n</code></pre>\n<p>The <code>while</code>-loop is responsible for popping the elements from s1 and pushing them onto s2, but this <code>while</code>-loop is enclosed inside a big <code>if(s2.isEmpty())</code>: the code that pops the elements from s1 and pushes them to s2 is only executed if s2 is empty. If s1 is nonempty, we jump directly to <code>return s2.pop();</code> without touching the elements from s1.</p>\n<blockquote>\n<p>This is the method where the dequeue operation is costly and enqueue is O(1).</p>\n</blockquote>\n<p>Actually, the <code>dequeue</code> operation is not <em><strong>always</strong></em> costly. It's only costly when s2 is empty. In fact we say that this operation is <a href=\"https://en.wikipedia.org/wiki/Amortized_analysis\" rel=\"nofollow noreferrer\"><em>amortized</em> O(1)</a> if the queue is used in a context where amortized complexity makes sense.</p>\n"}],"owner":{"account_id":29183869,"reputation":13,"user_id":22357449,"display_name":"Mohit"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76859052,"answer_count":1,"score":1,"last_activity_date":1691493683,"creation_date":1691492465,"question_id":76858894,"body_markdown":"I&#39;m learning how to implement queues using two stacks. This is the method where the dequeue operation is costly and enqueue is O(1). \r\nBelow is the code:- \r\n\r\n```\r\nimport java.util.*;\r\nclass QueueusingStacks2 {\r\n    Stack&lt;Integer&gt; s1 = new Stack&lt;&gt;();\r\n    Stack&lt;Integer&gt; s2 = new Stack&lt;&gt;();\r\n    \r\n    public void enqueue(int element){\r\n        s1.push(element);\r\n    }\r\n\r\n    public int dequeue(){\r\n        int temp;\r\n        if(s1.isEmpty()&amp;&amp;s2.isEmpty()) throw new NoSuchElementException(&quot;Queue is empty&quot;);\r\n        if(s2.isEmpty()){\r\n            while(!s1.isEmpty()){\r\n                temp = s1.pop();\r\n                s2.push(temp); \r\n            }\r\n        } \r\n        if(!s1.isEmpty()) System.out.print(s1.peek()+&quot; &quot;); \r\n        return s2.pop();\r\n    }\r\n}\r\n\r\nclass Solution{\r\n    public static void main(String[] args) {\r\n        QueueusingStacks2 q1 = new QueueusingStacks2();\r\n        q1.enqueue(5);\r\n        q1.enqueue(10);\r\n        q1.enqueue(15);\r\n        q1.enqueue(20);\r\n        System.out.println(q1.dequeue()); //5\r\n        q1.enqueue(25);\r\n        System.out.println(q1.dequeue());//10\r\n        System.out.println(q1.dequeue());//15\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nNow, when enqueue is called, 5,10,15,20 are pushed to Stack s1. Now, when I call dequeue for the first time, 20,15,10,5 are popped from s1 and pushed to s2. So, at this point, \r\n\r\ncontents of s1: Empty , \r\n\r\ncontents of s2: 20,15,10,5\r\n\r\nNow , after pop from s2, 5 is dequeued.\r\nBut, I never pushed 20,15,10 back to s1. So, I assume that Stack s1 should stay empty after dequeue returns control to main function. Now, when 25 is enqueued, it is pushed to s1.  \r\nSo, now when I call dequeue, 25 is popped from s1 and pushed to s2. So, at this point, \r\n\r\ncontents of s1: Empty , \r\n\r\ncontents of s2: 25,20,15,10,5\r\n\r\n\r\nNow, after pop from s2, 25 should be dequeued(according to this incorrect interpretation). \r\nBut, 10 is dequeued, which is how actually queues should work. \r\n\r\n\r\nCould you please tell me how is it actually working?\r\n\r\nApologies, if it&#39;s a silly doubt.  ","title":"Queue Using Stacks: Transferring Elements Between Stacks for Dequeue, but Not Reverting for Enqueue","body":"<p>I'm learning how to implement queues using two stacks. This is the method where the dequeue operation is costly and enqueue is O(1).\nBelow is the code:-</p>\n<pre><code>import java.util.*;\nclass QueueusingStacks2 {\n    Stack&lt;Integer&gt; s1 = new Stack&lt;&gt;();\n    Stack&lt;Integer&gt; s2 = new Stack&lt;&gt;();\n    \n    public void enqueue(int element){\n        s1.push(element);\n    }\n\n    public int dequeue(){\n        int temp;\n        if(s1.isEmpty()&amp;&amp;s2.isEmpty()) throw new NoSuchElementException(&quot;Queue is empty&quot;);\n        if(s2.isEmpty()){\n            while(!s1.isEmpty()){\n                temp = s1.pop();\n                s2.push(temp); \n            }\n        } \n        if(!s1.isEmpty()) System.out.print(s1.peek()+&quot; &quot;); \n        return s2.pop();\n    }\n}\n\nclass Solution{\n    public static void main(String[] args) {\n        QueueusingStacks2 q1 = new QueueusingStacks2();\n        q1.enqueue(5);\n        q1.enqueue(10);\n        q1.enqueue(15);\n        q1.enqueue(20);\n        System.out.println(q1.dequeue()); //5\n        q1.enqueue(25);\n        System.out.println(q1.dequeue());//10\n        System.out.println(q1.dequeue());//15\n    }\n}\n</code></pre>\n<p>Now, when enqueue is called, 5,10,15,20 are pushed to Stack s1. Now, when I call dequeue for the first time, 20,15,10,5 are popped from s1 and pushed to s2. So, at this point,</p>\n<p>contents of s1: Empty ,</p>\n<p>contents of s2: 20,15,10,5</p>\n<p>Now , after pop from s2, 5 is dequeued.\nBut, I never pushed 20,15,10 back to s1. So, I assume that Stack s1 should stay empty after dequeue returns control to main function. Now, when 25 is enqueued, it is pushed to s1.<br />\nSo, now when I call dequeue, 25 is popped from s1 and pushed to s2. So, at this point,</p>\n<p>contents of s1: Empty ,</p>\n<p>contents of s2: 25,20,15,10,5</p>\n<p>Now, after pop from s2, 25 should be dequeued(according to this incorrect interpretation).\nBut, 10 is dequeued, which is how actually queues should work.</p>\n<p>Could you please tell me how is it actually working?</p>\n<p>Apologies, if it's a silly doubt.</p>\n"},{"tags":["java","multithreading","parallel-processing","scalability","12factor"],"comments":[{"owner":{"account_id":3430916,"reputation":3799,"user_id":3059385,"accept_rate":40,"display_name":"Christopher Schneider"},"score":0,"creation_date":1558465326,"post_id":56244593,"comment_id":99108110,"body_markdown":"This is a very vague question, but it makes more sense to think of tasks, as services are usually already multi-threaded using thread pools to handle multiple requests simultaneously. \n\nSo the better question is, should a specific task use multiple threads? That depends on the task.","body":"This is a very vague question, but it makes more sense to think of tasks, as services are usually already multi-threaded using thread pools to handle multiple requests simultaneously.   So the better question is, should a specific task use multiple threads? That depends on the task."},{"owner":{"account_id":12223265,"reputation":8608,"user_id":8921755,"display_name":"Ivan"},"score":1,"creation_date":1558465799,"post_id":56244593,"comment_id":99108321,"body_markdown":"Two separate JVMs usually consume more resources that one JVM which has thread pool with 2 threads to process some tasks because there are JVM internal classes and some objects that could be shared among threads (like caches, database connection pools, etc)","body":"Two separate JVMs usually consume more resources that one JVM which has thread pool with 2 threads to process some tasks because there are JVM internal classes and some objects that could be shared among threads (like caches, database connection pools, etc)"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1558465925,"post_id":56244593,"comment_id":99108397,"body_markdown":"All of that very much depends on context. Workload, &quot;hardware specs&quot;, what not. *should I conceptually use parallel streams rather than simple streams?* ... err: measure. Dont make assumption. Make experiments. Locally, and in your target environment. A parallel stream comes with a lot of overhead. AFAIK, you shouldnt go parallel unless you talk way more than 1K of elements in that stream. Otherwise the overhead costs more than you can possibly gain.","body":"All of that very much depends on context. Workload, &quot;hardware specs&quot;, what not. <i>should I conceptually use parallel streams rather than simple streams?</i> ... err: measure. Dont make assumption. Make experiments. Locally, and in your target environment. A parallel stream comes with a lot of overhead. AFAIK, you shouldnt go parallel unless you talk way more than 1K of elements in that stream. Otherwise the overhead costs more than you can possibly gain."}],"answers":[{"tags":[],"owner":{"account_id":12223265,"reputation":8608,"user_id":8921755,"display_name":"Ivan"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1558466217,"creation_date":1558466217,"answer_id":56245069,"question_id":56244593,"body_markdown":"Basically the link that you provided also provides answer to your question already\r\n\r\n&gt; This does not exclude individual processes from **handling their own internal multiplexing, via threads inside the runtime VM**, or the async/evented model found in tools such as EventMachine, Twisted, or Node.js. But an individual VM can only grow so large (vertical scale), so the application must also be able to span multiple processes running on multiple physical machines.\r\n\r\nhttps://12factor.net/concurrency","title":"Should multithreading be used in microservices?","body":"<p>Basically the link that you provided also provides answer to your question already</p>\n\n<blockquote>\n  <p>This does not exclude individual processes from <strong>handling their own internal multiplexing, via threads inside the runtime VM</strong>, or the async/evented model found in tools such as EventMachine, Twisted, or Node.js. But an individual VM can only grow so large (vertical scale), so the application must also be able to span multiple processes running on multiple physical machines.</p>\n</blockquote>\n\n<p><a href=\"https://12factor.net/concurrency\" rel=\"noreferrer\">https://12factor.net/concurrency</a></p>\n"},{"tags":[],"owner":{"account_id":85850,"reputation":8741,"user_id":239101,"accept_rate":57,"display_name":"David Soroko"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1615974964,"creation_date":1558467272,"answer_id":56245276,"question_id":56244593,"body_markdown":"Sure, imagine a microservice that needs to execute multiple independent calls to a dB or to other microservice **and** aggregate the results. As the calls are independent, they can be executed in parallel so that the total time is at most the time it takes to execute the slowest call. \r\n","title":"Should multithreading be used in microservices?","body":"<p>Sure, imagine a microservice that needs to execute multiple independent calls to a dB or to other microservice <strong>and</strong> aggregate the results. As the calls are independent, they can be executed in parallel so that the total time is at most the time it takes to execute the slowest call.</p>\n"},{"tags":[],"owner":{"account_id":6472378,"reputation":1097,"user_id":5012102,"accept_rate":100,"display_name":"dgupta3091"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650004683,"creation_date":1650004683,"answer_id":71880851,"question_id":56244593,"body_markdown":"Parallel streams must be used when the tasks at hand are mutually exclusive and can be done in parallel. However, parallel programming comes with an overhead of using a little more resources. So depending on the tasks at hand, you need to make a decision with trade-offs, which would be the best for you.","title":"Should multithreading be used in microservices?","body":"<p>Parallel streams must be used when the tasks at hand are mutually exclusive and can be done in parallel. However, parallel programming comes with an overhead of using a little more resources. So depending on the tasks at hand, you need to make a decision with trade-offs, which would be the best for you.</p>\n"},{"tags":[],"owner":{"account_id":24025614,"reputation":37,"user_id":18007264,"display_name":"mb2"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691493524,"creation_date":1691091186,"answer_id":76831140,"question_id":56244593,"body_markdown":"This comes a few years late but the answer is yes and it is actually used more often than it meets the eye. Microservices in the Java world are mainly written in frameworks like Spring and there the framework itself relies on multithreading. What may confuse you is that Microservices should be stateless to be scalable but that does not stop us from using threads. For instance, sending requests to another Microservice is generally always done on the other thread( not necessary for each request). Reactive programming is an example that has been commonly used in microservices.\r\n","title":"Should multithreading be used in microservices?","body":"<p>This comes a few years late but the answer is yes and it is actually used more often than it meets the eye. Microservices in the Java world are mainly written in frameworks like Spring and there the framework itself relies on multithreading. What may confuse you is that Microservices should be stateless to be scalable but that does not stop us from using threads. For instance, sending requests to another Microservice is generally always done on the other thread( not necessary for each request). Reactive programming is an example that has been commonly used in microservices.</p>\n"}],"owner":{"account_id":13280693,"reputation":1818,"user_id":9591240,"display_name":"Pasha"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9168,"favorite_count":0,"down_vote_count":2,"up_vote_count":8,"accepted_answer_id":56245069,"answer_count":4,"score":6,"last_activity_date":1691493524,"creation_date":1558464240,"question_id":56244593,"body_markdown":"Should parallel programming be used in the development of microservices in case the microservices are scalable and, for instance, deployed as ECS on AWS?\r\n\r\nIf yes, what are the benefits of consuming more resources by one instance vs the same resources by N instances?\r\n\r\nHow does parallel programming match https://12factor.net/\r\n\r\n\r\nP.S. to be more specific - should I conceptually use parallel streams rather than simple streams?","title":"Should multithreading be used in microservices?","body":"<p>Should parallel programming be used in the development of microservices in case the microservices are scalable and, for instance, deployed as ECS on AWS?</p>\n\n<p>If yes, what are the benefits of consuming more resources by one instance vs the same resources by N instances?</p>\n\n<p>How does parallel programming match <a href=\"https://12factor.net/\" rel=\"noreferrer\">https://12factor.net/</a></p>\n\n<p>P.S. to be more specific - should I conceptually use parallel streams rather than simple streams?</p>\n"},{"tags":["java","spring","autowired"],"answers":[{"comments":[{"owner":{"account_id":1978391,"reputation":156,"user_id":1775623,"accept_rate":57,"display_name":"JimBob"},"score":0,"creation_date":1691490526,"post_id":76858608,"comment_id":135495648,"body_markdown":"Thanks for the suggestion. Actually I was looking for a more generic/automatic way as there will be more than 8 of these list beans. By autowiring them separately in another component would make sense if I&#39;d like to reuse the combined component multiple times. But I need them only in one component. I was thinking in the direction of a BeanFactoryPostProcessor but was not sure if there is an easier way.","body":"Thanks for the suggestion. Actually I was looking for a more generic/automatic way as there will be more than 8 of these list beans. By autowiring them separately in another component would make sense if I&#39;d like to reuse the combined component multiple times. But I need them only in one component. I was thinking in the direction of a BeanFactoryPostProcessor but was not sure if there is an easier way."}],"tags":[],"owner":{"account_id":29169926,"reputation":168,"user_id":22346549,"display_name":"Turan-Yahya Gazizuly"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691489949,"creation_date":1691489949,"answer_id":76858608,"question_id":76858568,"body_markdown":"Add extra `code` to your example. One approach to do this is by creating a `custom collection bean` that aggregates the `lists` you want to combine and then `autowire` that `custom collection bean` where needed.\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Component;\r\n\r\n    import java.util.List;\r\n\r\n    @Component\r\n    public class MyComponent {\r\n\r\n        private final List&lt;MyAbstractClass&gt; combinedList;\r\n\r\n        @Autowired\r\n        public MyComponent(CombinedList combinedListBean) {\r\n            this.combinedList = combinedListBean.getCombinedList();\r\n        }\r\n\r\n        // Use the combinedList as needed\r\n    }\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\n\r\n`Autowire` the `custom collection bean` for your **component**\r\n\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    import org.springframework.stereotype.Component;\r\n\r\n    import java.util.List;\r\n\r\n    @Component\r\n    public class CombinedList {\r\n        private final List&lt;MyAbstractClass&gt; list1;\r\n        private final List&lt;MyAbstractClass&gt; list2;\r\n\r\n        public CombinedList(List&lt;MyAbstractClass&gt; list1, List&lt;MyAbstractClass&gt; list2) {\r\n            this.list1 = list1;\r\n            this.list2 = list2;\r\n        }\r\n\r\n        public List&lt;MyAbstractClass&gt; getCombinedList() {\r\n            List&lt;MyAbstractClass&gt; combinedList = new ArrayList&lt;&gt;(list1);\r\n            combinedList.addAll(list2);\r\n            return combinedList;\r\n        }\r\n    }\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Spring autowire multiple lists into one list","body":"<p>Add extra <code>code</code> to your example. One approach to do this is by creating a <code>custom collection bean</code> that aggregates the <code>lists</code> you want to combine and then <code>autowire</code> that <code>custom collection bean</code> where needed.\n<div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Component;\n\nimport java.util.List;\n\n@Component\npublic class MyComponent {\n\n    private final List&lt;MyAbstractClass&gt; combinedList;\n\n    @Autowired\n    public MyComponent(CombinedList combinedListBean) {\n        this.combinedList = combinedListBean.getCombinedList();\n    }\n\n    // Use the combinedList as needed\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p><code>Autowire</code> the <code>custom collection bean</code> for your <strong>component</strong></p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import org.springframework.stereotype.Component;\n\nimport java.util.List;\n\n@Component\npublic class CombinedList {\n    private final List&lt;MyAbstractClass&gt; list1;\n    private final List&lt;MyAbstractClass&gt; list2;\n\n    public CombinedList(List&lt;MyAbstractClass&gt; list1, List&lt;MyAbstractClass&gt; list2) {\n        this.list1 = list1;\n        this.list2 = list2;\n    }\n\n    public List&lt;MyAbstractClass&gt; getCombinedList() {\n        List&lt;MyAbstractClass&gt; combinedList = new ArrayList&lt;&gt;(list1);\n        combinedList.addAll(list2);\n        return combinedList;\n    }\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"comments":[{"owner":{"account_id":1978391,"reputation":156,"user_id":1775623,"accept_rate":57,"display_name":"JimBob"},"score":0,"creation_date":1691494285,"post_id":76858985,"comment_id":135496402,"body_markdown":"Oh, thanks! That looks nearly of what I had in mind. In the meantime I used a more simple approach in the configuration, comparable with what you suggested in the first place. The BeanFactoryPostProcessor obfuscate things to much...\nWithout testing I&#39;d say this answer would be the right one.","body":"Oh, thanks! That looks nearly of what I had in mind. In the meantime I used a more simple approach in the configuration, comparable with what you suggested in the first place. The BeanFactoryPostProcessor obfuscate things to much... Without testing I&#39;d say this answer would be the right one."}],"tags":[],"owner":{"account_id":29169926,"reputation":168,"user_id":22346549,"display_name":"Turan-Yahya Gazizuly"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1691493218,"creation_date":1691493218,"answer_id":76858985,"question_id":76858568,"body_markdown":"Another answer, try it!\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    import org.springframework.beans.BeansException;\r\n    import org.springframework.beans.factory.config.BeanDefinition;\r\n    import org.springframework.beans.factory.config.ConfigurableListableBeanFactory;\r\n    import org.springframework.beans.factory.support.BeanDefinitionBuilder;\r\n    import org.springframework.beans.factory.support.BeanDefinitionRegistry;\r\n    import org.springframework.beans.factory.support.BeanDefinitionRegistryPostProcessor;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.stereotype.Component;\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n\r\n    @Configuration\r\n    public class CombineListsPostProcessor implements BeanDefinitionRegistryPostProcessor {\r\n\r\n        @Override\r\n        public void postProcessBeanDefinitionRegistry(BeanDefinitionRegistry registry) throws BeansException {\r\n            // Define a list to hold the combined beans\r\n            List&lt;Object&gt; combinedList = new ArrayList&lt;&gt;();\r\n\r\n            // Retrieve and merge lists from the bean factory\r\n            ConfigurableListableBeanFactory beanFactory = (ConfigurableListableBeanFactory) registry;\r\n            for (String beanName : beanFactory.getBeanNamesForType(List.class)) {\r\n                combinedList.addAll(beanFactory.getBean(beanName, List.class));\r\n            }\r\n\r\n            // Create a new bean definition for the combined list\r\n            BeanDefinition combinedListBeanDefinition =\r\n                    BeanDefinitionBuilder.genericBeanDefinition(ArrayList.class, () -&gt; combinedList).getBeanDefinition();\r\n\r\n            // Register the combined list bean definition\r\n            registry.registerBeanDefinition(&quot;combinedList&quot;, combinedListBeanDefinition);\r\n        }\r\n\r\n        @Override\r\n        public void postProcessBeanFactory(ConfigurableListableBeanFactory beanFactory) throws BeansException {\r\n            // No additional processing needed here\r\n        }\r\n    }\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Spring autowire multiple lists into one list","body":"<p>Another answer, try it!</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import org.springframework.beans.BeansException;\nimport org.springframework.beans.factory.config.BeanDefinition;\nimport org.springframework.beans.factory.config.ConfigurableListableBeanFactory;\nimport org.springframework.beans.factory.support.BeanDefinitionBuilder;\nimport org.springframework.beans.factory.support.BeanDefinitionRegistry;\nimport org.springframework.beans.factory.support.BeanDefinitionRegistryPostProcessor;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.stereotype.Component;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\n@Configuration\npublic class CombineListsPostProcessor implements BeanDefinitionRegistryPostProcessor {\n\n    @Override\n    public void postProcessBeanDefinitionRegistry(BeanDefinitionRegistry registry) throws BeansException {\n        // Define a list to hold the combined beans\n        List&lt;Object&gt; combinedList = new ArrayList&lt;&gt;();\n\n        // Retrieve and merge lists from the bean factory\n        ConfigurableListableBeanFactory beanFactory = (ConfigurableListableBeanFactory) registry;\n        for (String beanName : beanFactory.getBeanNamesForType(List.class)) {\n            combinedList.addAll(beanFactory.getBean(beanName, List.class));\n        }\n\n        // Create a new bean definition for the combined list\n        BeanDefinition combinedListBeanDefinition =\n                BeanDefinitionBuilder.genericBeanDefinition(ArrayList.class, () -&gt; combinedList).getBeanDefinition();\n\n        // Register the combined list bean definition\n        registry.registerBeanDefinition(\"combinedList\", combinedListBeanDefinition);\n    }\n\n    @Override\n    public void postProcessBeanFactory(ConfigurableListableBeanFactory beanFactory) throws BeansException {\n        // No additional processing needed here\n    }\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":1978391,"reputation":156,"user_id":1775623,"accept_rate":57,"display_name":"JimBob"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76858985,"answer_count":2,"score":0,"last_activity_date":1691493218,"creation_date":1691489614,"question_id":76858568,"body_markdown":"is there a way to autowire a list of a certain type that automatically merges multiple list beans?\r\n\r\n    @Configuration\r\n    public class MyConfig {\r\n      \r\n      @Bean\r\n      List&lt;MyAbstractClass&gt; getList1()...\r\n    \r\n      @Bean\r\n      List&lt;MyAbstractClass&gt; getList2()...\r\n\r\n    }\r\n    \r\n    @Component\r\n    public class MyComponent {\r\n    \r\n      @Autowired\r\n      List&lt;MyAbstractClass&gt; combinedList1AndList2;\r\n\r\n    }\r\n\r\nCurrently spring tells me:\r\n\r\n&gt; Consider marking one of the beans as @Primary, updating the consumer\r\n&gt; to accept multiple beans, or using @Qualifier to identify the bean\r\n&gt; that should be consumed\r\n\r\nthanks in advance.\r\n","title":"Spring autowire multiple lists into one list","body":"<p>is there a way to autowire a list of a certain type that automatically merges multiple list beans?</p>\n<pre><code>@Configuration\npublic class MyConfig {\n  \n  @Bean\n  List&lt;MyAbstractClass&gt; getList1()...\n\n  @Bean\n  List&lt;MyAbstractClass&gt; getList2()...\n\n}\n\n@Component\npublic class MyComponent {\n\n  @Autowired\n  List&lt;MyAbstractClass&gt; combinedList1AndList2;\n\n}\n</code></pre>\n<p>Currently spring tells me:</p>\n<blockquote>\n<p>Consider marking one of the beans as @Primary, updating the consumer\nto accept multiple beans, or using @Qualifier to identify the bean\nthat should be consumed</p>\n</blockquote>\n<p>thanks in advance.</p>\n"},{"tags":["java","quarkus","amazon-sns"],"answers":[{"tags":[],"owner":{"account_id":18847404,"reputation":131,"user_id":13747319,"display_name":"Poor programmer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691493167,"creation_date":1691493167,"answer_id":76858974,"question_id":76857848,"body_markdown":"Already solved. I just upgrade the artifact version of SNS","title":"Java Quarkus AWS-SNS Topic does not exist","body":"<p>Already solved. I just upgrade the artifact version of SNS</p>\n"}],"owner":{"account_id":18847404,"reputation":131,"user_id":13747319,"display_name":"Poor programmer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691493167,"creation_date":1691484077,"question_id":76857848,"body_markdown":"Getting topic not found upon publishing a message to SNS. \r\n\r\nThe credentails configured via CLI is correct as well.\r\n\r\n    PS C:\\quarkus-project&gt; aws sns list-topics\r\n    {\r\n        &quot;Topics&quot;: [\r\n            {\r\n                &quot;TopicArn&quot;: &quot;arn:aws:sns:ap-southeast-1:655163477595:test-sns-topic&quot;\r\n            }\r\n        ]\r\n    }\r\n\r\nHere is my application.properties\r\n\r\n    quarkus.sns.aws.region=ap-southeast-1\r\n    quarkus.sns.aws.credentials.type=default\r\n    test.sns.notification=arn:aws:sns:ap-southeast-1:655163477595:test-sns-topic\r\n\r\n\r\nAnd here is the code for publishing to SNS\r\n\r\n    import com.google.gson.Gson;\r\n    import org.eclipse.microprofile.config.inject.ConfigProperty;\r\n    import org.jboss.logging.Logger;\r\n    \r\n    import software.amazon.awssdk.services.sns.SnsClient;\r\n    import software.amazon.awssdk.services.sns.model.PublishResponse;\r\n    import software.amazon.awssdk.services.sns.model.SnsException;\r\n    \r\n    import javax.enterprise.context.ApplicationScoped;\r\n    import javax.inject.Inject;\r\n    \r\n    @ApplicationScoped\r\n    public class TestService {\r\n    \r\n        @Inject\r\n        private SnsClient sns;\r\n    \r\n        @ConfigProperty(name = &quot;test.sns.notification&quot;)\r\n        private String topicArn;\r\n    \r\n        private final Gson gson = new Gson();\r\n    \r\n        @Inject\r\n        private Logger LOG;\r\n    \r\n    \r\n        public void sendPostingCreationToSns(String message) {\r\n            try {\r\n         \r\n                PublishResponse response = sns.publish(p -&gt; p.topicArn(topicArn).message(message));\r\n                LOG.info(response.toString());\r\n            }\r\n            catch (SnsException e) {\r\n                LOG.error(e.getMessage());\r\n            }\r\n    \r\n        }\r\n    }\r\n\r\n \r\nBut getting the message\r\n\r\n    (vert.x-eventloop-thread-5) Topic does not exist (Service: Sns, Status Code: 404, Requ\r\n    est ID: 17137412-88b3-4d4b-b415-f694f88a9966)\r\n\r\n\r\nWhat seems to be the problem? Thanks for help\r\n\r\n","title":"Java Quarkus AWS-SNS Topic does not exist","body":"<p>Getting topic not found upon publishing a message to SNS.</p>\n<p>The credentails configured via CLI is correct as well.</p>\n<pre><code>PS C:\\quarkus-project&gt; aws sns list-topics\n{\n    &quot;Topics&quot;: [\n        {\n            &quot;TopicArn&quot;: &quot;arn:aws:sns:ap-southeast-1:655163477595:test-sns-topic&quot;\n        }\n    ]\n}\n</code></pre>\n<p>Here is my application.properties</p>\n<pre><code>quarkus.sns.aws.region=ap-southeast-1\nquarkus.sns.aws.credentials.type=default\ntest.sns.notification=arn:aws:sns:ap-southeast-1:655163477595:test-sns-topic\n</code></pre>\n<p>And here is the code for publishing to SNS</p>\n<pre><code>import com.google.gson.Gson;\nimport org.eclipse.microprofile.config.inject.ConfigProperty;\nimport org.jboss.logging.Logger;\n\nimport software.amazon.awssdk.services.sns.SnsClient;\nimport software.amazon.awssdk.services.sns.model.PublishResponse;\nimport software.amazon.awssdk.services.sns.model.SnsException;\n\nimport javax.enterprise.context.ApplicationScoped;\nimport javax.inject.Inject;\n\n@ApplicationScoped\npublic class TestService {\n\n    @Inject\n    private SnsClient sns;\n\n    @ConfigProperty(name = &quot;test.sns.notification&quot;)\n    private String topicArn;\n\n    private final Gson gson = new Gson();\n\n    @Inject\n    private Logger LOG;\n\n\n    public void sendPostingCreationToSns(String message) {\n        try {\n     \n            PublishResponse response = sns.publish(p -&gt; p.topicArn(topicArn).message(message));\n            LOG.info(response.toString());\n        }\n        catch (SnsException e) {\n            LOG.error(e.getMessage());\n        }\n\n    }\n}\n</code></pre>\n<p>But getting the message</p>\n<pre><code>(vert.x-eventloop-thread-5) Topic does not exist (Service: Sns, Status Code: 404, Requ\nest ID: 17137412-88b3-4d4b-b415-f694f88a9966)\n</code></pre>\n<p>What seems to be the problem? Thanks for help</p>\n"},{"tags":["java","rest","swagger","swagger-ui","jersey-1.0"],"comments":[{"owner":{"account_id":408577,"reputation":5223,"user_id":779338,"accept_rate":67,"display_name":"Nelson G."},"score":0,"creation_date":1486971198,"post_id":31169622,"comment_id":71559095,"body_markdown":"Could you choose a correct response ?","body":"Could you choose a correct response ?"}],"answers":[{"tags":[],"owner":{"account_id":408577,"reputation":5223,"user_id":779338,"accept_rate":67,"display_name":"Nelson G."},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1435784708,"creation_date":1435784708,"answer_id":31171660,"question_id":31169622,"body_markdown":"You can&#39;t, but since swagger 2.0 (I don&#39;t know if this is supported by swagger-code/swagger-ui), you can defines [parameters to be reuse across operations][1].\r\n\r\nFor example :\r\n\r\n    {\r\n      &quot;parameters&quot;: {\r\n        &quot;pageParam&quot;: {\r\n          &quot;name&quot;: &quot;page&quot;,\r\n          &quot;in&quot;: &quot;query&quot;,\r\n          &quot;description&quot;: &quot;page number to get&quot;,\r\n          &quot;required&quot;: false,\r\n          &quot;type&quot;: &quot;integer&quot;,\r\n          &quot;format&quot;: &quot;int32&quot;\r\n        }\r\n      },\r\n      &quot;paths&quot;: {\r\n        &quot;/customers&quot;: {\r\n          &quot;get&quot;:  {\r\n            &quot;description&quot;: &quot;Retrive list of customers&quot;,\r\n            &quot;parameters&quot;: {\r\n              &quot;$ref&quot;: &quot;#/parameters/pageParam&quot;\r\n            },\r\n            ...\r\n          }\r\n        }\r\n      },\r\n      ...\r\n    }\r\n\r\n\r\n  [1]: https://github.com/swagger-api/swagger-spec/blob/master/versions/2.0.md#parameters-definitions-object","title":"Swagger ui - Query param","body":"<p>You can't, but since swagger 2.0 (I don't know if this is supported by swagger-code/swagger-ui), you can defines <a href=\"https://github.com/swagger-api/swagger-spec/blob/master/versions/2.0.md#parameters-definitions-object\" rel=\"nofollow\">parameters to be reuse across operations</a>.</p>\n\n<p>For example :</p>\n\n<pre><code>{\n  \"parameters\": {\n    \"pageParam\": {\n      \"name\": \"page\",\n      \"in\": \"query\",\n      \"description\": \"page number to get\",\n      \"required\": false,\n      \"type\": \"integer\",\n      \"format\": \"int32\"\n    }\n  },\n  \"paths\": {\n    \"/customers\": {\n      \"get\":  {\n        \"description\": \"Retrive list of customers\",\n        \"parameters\": {\n          \"$ref\": \"#/parameters/pageParam\"\n        },\n        ...\n      }\n    }\n  },\n  ...\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6274672,"reputation":331,"user_id":4877692,"accept_rate":25,"display_name":"Jacaro"},"score":0,"creation_date":1435855456,"post_id":31174961,"comment_id":50385441,"body_markdown":"ApiParam for queryparam can be used only if the operation has such parameter in its definition. But, here I want to send a Query parameter with the url that will be accessed when a post or get or delete operation is tried out. Hope you understand what I am looking for","body":"ApiParam for queryparam can be used only if the operation has such parameter in its definition. But, here I want to send a Query parameter with the url that will be accessed when a post or get or delete operation is tried out. Hope you understand what I am looking for"},{"owner":{"account_id":4550143,"reputation":180,"user_id":9996911,"display_name":"Jivan Pal"},"score":0,"creation_date":1642505177,"post_id":31174961,"comment_id":125083122,"body_markdown":"In the scope of the function, check if the variable&#39;s value is `null`. If it is, that means the query parameter was not specified in the HTTP request. That is, you can do `if (username == null) { username = &quot;myDefaultValue&quot;; }`.","body":"In the scope of the function, check if the variable&#39;s value is <code>null</code>. If it is, that means the query parameter was not specified in the HTTP request. That is, you can do <code>if (username == null) { username = &quot;myDefaultValue&quot;; }</code>."}],"tags":[],"owner":{"account_id":1400291,"reputation":535,"user_id":1329202,"display_name":"ipeluffo"},"comment_count":2,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1435806351,"creation_date":1435806351,"answer_id":31174961,"question_id":31169622,"body_markdown":"You can use the annotation `@ApiParam` from the Swagger annotations in order to configure the Query param to be used from the Swagger-UI.\r\n\r\nFor example\r\n\r\n    @Path(&quot;/{username}&quot;)\r\n    @ApiOperation(value = &quot;Updated user&quot;)\r\n    public Response updateUser(\r\n      @ApiParam(value = &quot;description for query-parameter&quot;) @QueryParam(&quot;username&quot;) String username\r\n    )&#160;{\r\n    ...\r\n    }\r\n\r\nPlease, read more about this annotation in the following official documentation:\r\nhttps://github.com/swagger-api/swagger-core/wiki/Annotations#apiparam","title":"Swagger ui - Query param","body":"<p>You can use the annotation <code>@ApiParam</code> from the Swagger annotations in order to configure the Query param to be used from the Swagger-UI.</p>\n\n<p>For example</p>\n\n<pre><code>@Path(\"/{username}\")\n@ApiOperation(value = \"Updated user\")\npublic Response updateUser(\n  @ApiParam(value = \"description for query-parameter\") @QueryParam(\"username\") String username\n){\n...\n}\n</code></pre>\n\n<p>Please, read more about this annotation in the following official documentation:\n<a href=\"https://github.com/swagger-api/swagger-core/wiki/Annotations#apiparam\" rel=\"noreferrer\">https://github.com/swagger-api/swagger-core/wiki/Annotations#apiparam</a></p>\n"},{"tags":[],"owner":{"account_id":16189468,"reputation":804,"user_id":11688668,"display_name":"Ilya Y"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1663188240,"creation_date":1663188240,"answer_id":73722978,"question_id":31169622,"body_markdown":"For swagger version 3, you can use the annotation **@Parameter**\r\n\r\n    import io.swagger.v3.oas.annotations.Parameter\r\n\r\nhttps://docs.swagger.io/swagger-core/v2.0.0-RC3/apidocs/io/swagger/v3/oas/annotations/Parameter.html\r\n","title":"Swagger ui - Query param","body":"<p>For swagger version 3, you can use the annotation <strong>@Parameter</strong></p>\n<pre><code>import io.swagger.v3.oas.annotations.Parameter\n</code></pre>\n<p><a href=\"https://docs.swagger.io/swagger-core/v2.0.0-RC3/apidocs/io/swagger/v3/oas/annotations/Parameter.html\" rel=\"nofollow noreferrer\">https://docs.swagger.io/swagger-core/v2.0.0-RC3/apidocs/io/swagger/v3/oas/annotations/Parameter.html</a></p>\n"},{"tags":[],"owner":{"account_id":14598037,"reputation":1253,"user_id":10543130,"display_name":"usersina"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691493125,"creation_date":1691493125,"answer_id":76858968,"question_id":31169622,"body_markdown":"Building on @`Ilya Y`&#39;s answer here&#39;s a snippet from a controller I had using `io.swagger.v3.oas.annotations.Parameter;`\r\n\r\n```java\r\n@PostMapping(&quot;/report&quot;)\r\npublic FileItem generateReport(\r\n        @RequestParam String projectId,\r\n        @RequestParam @DateTimeFormat(iso = ISO.DATE) @Parameter(schema = @Schema(type = &quot;string&quot;, description = &quot;Date in ISO format (yyyy-MM-dd)&quot;)) LocalDate date,\r\n        @RequestParam(defaultValue = &quot;UTC&quot;) String zoneId //\r\n) {\r\n...\r\n}\r\n```","title":"Swagger ui - Query param","body":"<p>Building on @<code>Ilya Y</code>'s answer here's a snippet from a controller I had using <code>io.swagger.v3.oas.annotations.Parameter;</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>@PostMapping(&quot;/report&quot;)\npublic FileItem generateReport(\n        @RequestParam String projectId,\n        @RequestParam @DateTimeFormat(iso = ISO.DATE) @Parameter(schema = @Schema(type = &quot;string&quot;, description = &quot;Date in ISO format (yyyy-MM-dd)&quot;)) LocalDate date,\n        @RequestParam(defaultValue = &quot;UTC&quot;) String zoneId //\n) {\n...\n}\n</code></pre>\n"}],"owner":{"account_id":6274672,"reputation":331,"user_id":4877692,"accept_rate":25,"display_name":"Jacaro"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26086,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"answer_count":4,"score":13,"last_activity_date":1691493125,"creation_date":1435777521,"question_id":31169622,"body_markdown":"I am using Swagger ui and Swagger core (1.3) for a jersey application. I have certain query parameters which I must send with every request like post, get, delete...\r\n\r\nHow can I default this ?","title":"Swagger ui - Query param","body":"<p>I am using Swagger ui and Swagger core (1.3) for a jersey application. I have certain query parameters which I must send with every request like post, get, delete...</p>\n\n<p>How can I default this ?</p>\n"},{"tags":["java","android","spinner","autocompletetextview","ontouchlistener"],"comments":[{"owner":{"account_id":2685066,"reputation":2603,"user_id":2319627,"accept_rate":75,"display_name":"Arun Shankar"},"score":0,"creation_date":1691491999,"post_id":76858798,"comment_id":135495922,"body_markdown":"most probably your onclick listener must have been overridden by the touch listener. can you please post how are you assigning the listeners to the button","body":"most probably your onclick listener must have been overridden by the touch listener. can you please post how are you assigning the listeners to the button"},{"owner":{"account_id":28578269,"reputation":142,"user_id":21879587,"display_name":"tamtejszystan"},"score":0,"creation_date":1691492166,"post_id":76858798,"comment_id":135495953,"body_markdown":"@ArunShankar actually, I am not assigning the listeners to the button, but to the `AutoCompleteTextView` object. By button I mean the drawable set with method from `TextView`","body":"@ArunShankar actually, I am not assigning the listeners to the button, but to the <code>AutoCompleteTextView</code> object. By button I mean the drawable set with method from <code>TextView</code>"},{"owner":{"account_id":2685066,"reputation":2603,"user_id":2319627,"accept_rate":75,"display_name":"Arun Shankar"},"score":0,"creation_date":1691619618,"post_id":76858798,"comment_id":135517829,"body_markdown":"Most probably what happens is that the dropdown got dismissed due to onFocusChangeListener and the onTouchListener might fire it again. If you can post  your full class for the textview, it might be helpful in identifying the problem","body":"Most probably what happens is that the dropdown got dismissed due to onFocusChangeListener and the onTouchListener might fire it again. If you can post  your full class for the textview, it might be helpful in identifying the problem"}],"owner":{"account_id":28578269,"reputation":142,"user_id":21879587,"display_name":"tamtejszystan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691491593,"creation_date":1691491593,"question_id":76858798,"body_markdown":"I am creating a custom `AutoCompleteTextView` that includes a dropdown button. My idea is to combine the features of the `AutoCompleteTextView` and the `Spinner` here. I have implemented three listeners for that. This is how it looks:\r\n\r\n\r\n```java\r\nprivate final View.OnTouchListener dropdownTouchListener = new View.OnTouchListener() {\r\n        @Override\r\n        public boolean onTouch(View v, MotionEvent event) {\r\n            if (event.getAction() == MotionEvent.ACTION_UP) {\r\n                if (event.getRawX() &gt;= (autoCompleteTextView.getRight() - autoCompleteTextView.getTotalPaddingEnd())) {\r\n                    toggleDropdown();\r\n                    return true;\r\n                }\r\n            }\r\n            return false;\r\n        }\r\n    };\r\n\r\nprivate final AutoCompleteTextView.OnDismissListener dismissListener = new AutoCompleteTextView.OnDismissListener() {\r\n        @Override\r\n        public void onDismiss() {\r\n            autoCompleteTextView.setCompoundDrawablesWithIntrinsicBounds(0, 0, R.drawable.ic_arrow_down, 0);\r\n        }\r\n    };\r\n\r\nprivate final AutoCompleteTextView.OnFocusChangeListener focusChangeListener = new AutoCompleteTextView.OnFocusChangeListener() {\r\n        @Override\r\n        public void onFocusChange(View v, boolean hasFocus) {\r\n            if (!hasFocus) {\r\n                autoCompleteTextView.setCompoundDrawablesWithIntrinsicBounds(0, 0, R.drawable.ic_arrow_down, 0);\r\n                autoCompleteTextView.dismissDropDown();\r\n            }\r\n        }\r\n    };\r\n```\r\nMy button works as expected - almost. There are four cases when dropdown should be dismissed:\r\n\r\n- by selecting a specific value from the dropdown list\r\n- by clicking anywhere on the screen \r\n- by clicking on the AutoCompleteTextView box \r\n- by clicking on the drawable button icon \r\n\r\nThe last case does not behave as intended. When the button is clicked, the dropdown is dismissed for a moment and then immediately displayed again.\r\n\r\nHow I can handle this &quot;feature&quot;?\r\n\r\n&gt;! `toggleDropDown()` handles the visibility of the menu, and drawable swap based on `isPopupShowing()`\r\n\r\nUp to now, I have attempted to use an `OnClickListener` and introduced a delay using a `Handler`, but neither of these approaches has resolved my issue. Thank you in advance for any help!","title":"AutoCompleteTextView Dropdown Dismissal Issue with Drawable Button Click","body":"<p>I am creating a custom <code>AutoCompleteTextView</code> that includes a dropdown button. My idea is to combine the features of the <code>AutoCompleteTextView</code> and the <code>Spinner</code> here. I have implemented three listeners for that. This is how it looks:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private final View.OnTouchListener dropdownTouchListener = new View.OnTouchListener() {\n        @Override\n        public boolean onTouch(View v, MotionEvent event) {\n            if (event.getAction() == MotionEvent.ACTION_UP) {\n                if (event.getRawX() &gt;= (autoCompleteTextView.getRight() - autoCompleteTextView.getTotalPaddingEnd())) {\n                    toggleDropdown();\n                    return true;\n                }\n            }\n            return false;\n        }\n    };\n\nprivate final AutoCompleteTextView.OnDismissListener dismissListener = new AutoCompleteTextView.OnDismissListener() {\n        @Override\n        public void onDismiss() {\n            autoCompleteTextView.setCompoundDrawablesWithIntrinsicBounds(0, 0, R.drawable.ic_arrow_down, 0);\n        }\n    };\n\nprivate final AutoCompleteTextView.OnFocusChangeListener focusChangeListener = new AutoCompleteTextView.OnFocusChangeListener() {\n        @Override\n        public void onFocusChange(View v, boolean hasFocus) {\n            if (!hasFocus) {\n                autoCompleteTextView.setCompoundDrawablesWithIntrinsicBounds(0, 0, R.drawable.ic_arrow_down, 0);\n                autoCompleteTextView.dismissDropDown();\n            }\n        }\n    };\n</code></pre>\n<p>My button works as expected - almost. There are four cases when dropdown should be dismissed:</p>\n<ul>\n<li>by selecting a specific value from the dropdown list</li>\n<li>by clicking anywhere on the screen</li>\n<li>by clicking on the AutoCompleteTextView box</li>\n<li>by clicking on the drawable button icon</li>\n</ul>\n<p>The last case does not behave as intended. When the button is clicked, the dropdown is dismissed for a moment and then immediately displayed again.</p>\n<p>How I can handle this &quot;feature&quot;?</p>\n<blockquote class=\"spoiler\">\n<p> <code>toggleDropDown()</code> handles the visibility of the menu, and drawable swap based on <code>isPopupShowing()</code></p>\n</blockquote>\n<p>Up to now, I have attempted to use an <code>OnClickListener</code> and introduced a delay using a <code>Handler</code>, but neither of these approaches has resolved my issue. Thank you in advance for any help!</p>\n"},{"tags":["java","android","xml","android-layout","android-fragments"],"answers":[{"comments":[{"owner":{"account_id":29086920,"reputation":1,"user_id":22281647,"display_name":"Hemang Kateshiya"},"score":0,"creation_date":1691325072,"post_id":76834950,"comment_id":135473611,"body_markdown":"No, still not working","body":"No, still not working"}],"tags":[],"owner":{"account_id":5324734,"reputation":153,"user_id":4247072,"display_name":"pavan kvch"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691143839,"creation_date":1691143839,"answer_id":76834950,"question_id":76827161,"body_markdown":"Try to change main activity xml file to this:\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    tools:context=&quot;.BillActivity&quot;&gt;\r\n\r\n    &lt;FrameLayout\r\n        android:id=&quot;@+id/frame_full&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n","title":"How to adjust screen size in fragment according to softkeyboard in android?","body":"<p>Try to change main activity xml file to this:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;match_parent&quot;\nxmlns:tools=&quot;http://schemas.android.com/tools&quot;\ntools:context=&quot;.BillActivity&quot;&gt;\n\n&lt;FrameLayout\n    android:id=&quot;@+id/frame_full&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29086920,"reputation":1,"user_id":22281647,"display_name":"Hemang Kateshiya"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691491319,"creation_date":1691491319,"answer_id":76858775,"question_id":76827161,"body_markdown":"I found the solution!\r\n\r\nI just Changed my main activity root element from **ConstraintLayout** to **RelativeLayout**, and it&#39;s  worked for me.\r\n\r\nHere is my modified main_activity.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        tools:context=&quot;.BillActivity&quot;&gt;\r\n\r\n            &lt;FrameLayout\r\n                android:id=&quot;@+id/frame_full&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;0dp&quot;\r\n                android:layout_alignParentTop=&quot;true&quot;\r\n                android:layout_alignParentBottom=&quot;true&quot; /&gt;\r\n    &lt;/RelativeLayout&gt;","title":"How to adjust screen size in fragment according to softkeyboard in android?","body":"<p>I found the solution!</p>\n<p>I just Changed my main activity root element from <strong>ConstraintLayout</strong> to <strong>RelativeLayout</strong>, and it's  worked for me.</p>\n<p>Here is my modified main_activity.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.BillActivity&quot;&gt;\n\n        &lt;FrameLayout\n            android:id=&quot;@+id/frame_full&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;0dp&quot;\n            android:layout_alignParentTop=&quot;true&quot;\n            android:layout_alignParentBottom=&quot;true&quot; /&gt;\n&lt;/RelativeLayout&gt;\n</code></pre>\n"}],"owner":{"account_id":29086920,"reputation":1,"user_id":22281647,"display_name":"Hemang Kateshiya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1691491319,"creation_date":1691058164,"question_id":76827161,"body_markdown":"When i try to adjust the screen size of fragments according to the softkeyboard i face the problem, that the screen is not adjusting in fragment but it is adjusting in activity. I tried many solutions but not worked for me.\r\n\r\n**Here is my Fragment activity xml file:**\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n    &lt;LinearLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:layout_above=&quot;@+id/btnAddCashReceive&quot;\r\n        android:orientation=&quot;vertical&quot;&gt;\r\n\r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:orientation=&quot;vertical&quot;&gt;\r\n\r\n            &lt;EditText\r\n                android:id=&quot;@+id/edtAmountCashReceive&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginStart=&quot;13dp&quot;\r\n                android:layout_marginTop=&quot;@dimen/_10sdp&quot;\r\n                android:layout_marginEnd=&quot;12dp&quot;\r\n                android:layout_marginBottom=&quot;@dimen/_10sdp&quot;\r\n                android:drawableStart=&quot;@drawable/currency_rupee_24px&quot;\r\n                android:drawablePadding=&quot;@dimen/_10sdp&quot;\r\n                android:fontFamily=&quot;@font/poppins_medium&quot;\r\n                android:hint=&quot;0&quot;\r\n                android:imeOptions=&quot;actionDone&quot;\r\n                android:inputType=&quot;numberDecimal&quot;\r\n                android:textSize=&quot;42sp&quot; /&gt;\r\n\r\n            &lt;com.google.android.material.chip.Chip\r\n                android:id=&quot;@+id/chip100PercentCashReceive&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginHorizontal=&quot;@dimen/_10sdp&quot;\r\n                android:layout_marginStart=&quot;13dp&quot;\r\n                android:text=&quot;100%&quot; /&gt;\r\n        &lt;/LinearLayout&gt;\r\n\r\n    &lt;/LinearLayout&gt;\r\n\r\n    &lt;com.google.android.material.button.MaterialButton\r\n        android:id=&quot;@+id/btnAddCashReceive&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_alignParentBottom=&quot;true&quot;\r\n        android:layout_marginStart=&quot;13dp&quot;\r\n        android:layout_marginEnd=&quot;12dp&quot;\r\n        android:text=&quot;Add&quot; /&gt;\r\n&lt;/RelativeLayout&gt;\r\n```\r\n**Here is my main activity file:**\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.BillActivity&quot;&gt;\r\n\r\n    &lt;FrameLayout\r\n        android:id=&quot;@+id/frame_full&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        android:layout_alignParentTop=&quot;true&quot;\r\n        android:layout_alignParentBottom=&quot;true&quot; /&gt;\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```","title":"How to adjust screen size in fragment according to softkeyboard in android?","body":"<p>When i try to adjust the screen size of fragments according to the softkeyboard i face the problem, that the screen is not adjusting in fragment but it is adjusting in activity. I tried many solutions but not worked for me.</p>\n<p><strong>Here is my Fragment activity xml file:</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;&gt;\n\n    &lt;LinearLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:layout_above=&quot;@+id/btnAddCashReceive&quot;\n        android:orientation=&quot;vertical&quot;&gt;\n\n        &lt;LinearLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:orientation=&quot;vertical&quot;&gt;\n\n            &lt;EditText\n                android:id=&quot;@+id/edtAmountCashReceive&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginStart=&quot;13dp&quot;\n                android:layout_marginTop=&quot;@dimen/_10sdp&quot;\n                android:layout_marginEnd=&quot;12dp&quot;\n                android:layout_marginBottom=&quot;@dimen/_10sdp&quot;\n                android:drawableStart=&quot;@drawable/currency_rupee_24px&quot;\n                android:drawablePadding=&quot;@dimen/_10sdp&quot;\n                android:fontFamily=&quot;@font/poppins_medium&quot;\n                android:hint=&quot;0&quot;\n                android:imeOptions=&quot;actionDone&quot;\n                android:inputType=&quot;numberDecimal&quot;\n                android:textSize=&quot;42sp&quot; /&gt;\n\n            &lt;com.google.android.material.chip.Chip\n                android:id=&quot;@+id/chip100PercentCashReceive&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginHorizontal=&quot;@dimen/_10sdp&quot;\n                android:layout_marginStart=&quot;13dp&quot;\n                android:text=&quot;100%&quot; /&gt;\n        &lt;/LinearLayout&gt;\n\n    &lt;/LinearLayout&gt;\n\n    &lt;com.google.android.material.button.MaterialButton\n        android:id=&quot;@+id/btnAddCashReceive&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_alignParentBottom=&quot;true&quot;\n        android:layout_marginStart=&quot;13dp&quot;\n        android:layout_marginEnd=&quot;12dp&quot;\n        android:text=&quot;Add&quot; /&gt;\n&lt;/RelativeLayout&gt;\n</code></pre>\n<p><strong>Here is my main activity file:</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.BillActivity&quot;&gt;\n\n    &lt;FrameLayout\n        android:id=&quot;@+id/frame_full&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;0dp&quot;\n        android:layout_alignParentTop=&quot;true&quot;\n        android:layout_alignParentBottom=&quot;true&quot; /&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n"},{"tags":["java","junit","mockito"],"comments":[{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1691490950,"post_id":76856929,"comment_id":135495720,"body_markdown":"Why do you have `Service service  = mock(Service.class);` in your bussiness code?","body":"Why do you have <code>Service service  = mock(Service.class);</code> in your bussiness code?"},{"owner":{"account_id":2031236,"reputation":984,"user_id":1814879,"accept_rate":72,"display_name":"user1814879"},"score":0,"creation_date":1691491136,"post_id":76856929,"comment_id":135495756,"body_markdown":"It was a mistake of copy/paste .. I edited the code","body":"It was a mistake of copy/paste .. I edited the code"},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1691491206,"post_id":76856929,"comment_id":135495770,"body_markdown":"reformat again please","body":"reformat again please"}],"answers":[{"comments":[{"owner":{"account_id":2031236,"reputation":984,"user_id":1814879,"accept_rate":72,"display_name":"user1814879"},"score":0,"creation_date":1691491612,"post_id":76858772,"comment_id":135495850,"body_markdown":"Thank youu .. and otherwise there is not an other solution with keeping this final?","body":"Thank youu .. and otherwise there is not an other solution with keeping this final?"},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1691491785,"post_id":76858772,"comment_id":135495887,"body_markdown":"Probably using powermock. Any particular reason why it is final ?","body":"Probably using powermock. Any particular reason why it is final ?"},{"owner":{"account_id":2031236,"reputation":984,"user_id":1814879,"accept_rate":72,"display_name":"user1814879"},"score":0,"creation_date":1691492984,"post_id":76858772,"comment_id":135496106,"body_markdown":"Because I don&#39;t want to change it, it a use everywhere in my project in many many place and develop by other person so I prefer to keep it like that .. and may be with PowerMockito I can do something ?","body":"Because I don&#39;t want to change it, it a use everywhere in my project in many many place and develop by other person so I prefer to keep it like that .. and may be with PowerMockito I can do something ?"},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1691501370,"post_id":76858772,"comment_id":135498030,"body_markdown":"Feel free to try","body":"Feel free to try"}],"tags":[],"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1691491307,"creation_date":1691491307,"answer_id":76858772,"question_id":76856929,"body_markdown":"Remove `final` modifier from your service \r\n\r\n    public final void success()\r\n\r\nto\r\n\r\n    public void success()\r\n\r\n","title":"test void method using mockito and Junit with generic parameter","body":"<p>Remove <code>final</code> modifier from your service</p>\n<pre><code>public final void success()\n</code></pre>\n<p>to</p>\n<pre><code>public void success()\n</code></pre>\n"}],"owner":{"account_id":2031236,"reputation":984,"user_id":1814879,"accept_rate":72,"display_name":"user1814879"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76858772,"answer_count":1,"score":0,"last_activity_date":1691491307,"creation_date":1691475886,"question_id":76856929,"body_markdown":"I am trying to test a void method using mockito and junit (the method contains a generic parameter). I would like to use the doNothing() for this method but after run the test will return exception for the method with generic parameter and for other with no generic param, it work;\r\n\r\nAnd also the difference between the success and error is that :\r\nWe define success method with **final** and not in the error method\r\n\r\nThe exception :\r\nException 1 :\r\n\r\n   \r\n\r\n&gt;  You cannot use argument matchers outside of verification or stubbing.\r\n&gt;     Examples of correct usage of argument matchers:\r\n&gt;         when(mock.get(anyInt())).thenReturn(null);\r\n&gt;         doThrow(new RuntimeException()).when(mock).someVoidMethod(anyObject());\r\n&gt;         verify(mock).someMethod(contains(&quot;foo&quot;))\r\n\r\n&gt; Also, this error might show up because you use argument matchers with\r\n&gt; methods that cannot be mocked. Following methods *cannot* be\r\n&gt; stubbed/verified: final/private/equals()/hashCode(). Mocking methods\r\n&gt; declared on non-public parent classes is not supported.\r\n\r\n\r\n  \r\n\r\n      Method to tests :\r\n        \r\n        public class GreenWork {\r\n               @Autowired \r\n               Service service;\r\n        \t   public void getDataResponses() {\r\n            \r\n        \t\tResponseEntity&lt;DataDTO&gt; responseEntity = restTemplate.exchange(\r\n                                settings.getUrk(),\r\n                                HttpMethod.GET,\r\n                                null,\r\n                                DataDTO.class);\r\n        \t\t\r\n        \t\tif (responseEntity.getStatusCode().is4xxClientError()) {\r\n        \t\t\tErrorData errorData = new ErrorData();\r\n        \t\t\terrorData.setMessage(&quot;error loading&quot;);\r\n        \t\t\tservice.error(&quot;corId&quot;, errorData, &quot;otherId&quot;);\r\n        \t\t} else {\r\n        \t\t\tservice.success(&quot;corId&quot;, responseEntity.getBody(), &quot;otherId&quot;);\r\n        \t\t}\r\n           }\r\n        }\r\n           \r\n        **Service.java**\r\n        public final void success(\r\n        \t\tfinal String corId,\r\n        \t\tfinal T t, // Generic class\r\n        \t\tfinal String otherud)\r\n        \t\tthrows Exception {\r\n        \t\r\n        \t......\r\n        \trestTemplate.exchange(\r\n        \t\t&quot;url&quot;),\r\n        \t\tentity,\r\n        \t\tVoid.class);\r\n        }\r\n        \r\n        \r\n          public void error(\r\n        \t\tfinal String corId,\r\n        \t\tfinal ErrorData errorData,\r\n        \t\tfinal String otherud)\r\n        \t\tthrows Exception {\r\n        \t\r\n        \t......\r\n        \trestTemplate.exchange(\r\n        \t\t&quot;url&quot;),\r\n        \t\tentity,\r\n        \t\tVoid.class);\r\n        }\r\n        \t\r\n        My Junit tests :\r\n            @InjectMocks\r\n            private GreenWork greenWork;\r\n        \t\r\n        @Test\r\n        public void shoulSuccessCallbak() {\r\n        \tdoNothing().when(service).success(anyString(), any(), anyString());  // Throw an exception Exception 1\r\n        \tdoNothing().when(service).success(anyString(), any(GrayDTO.class), anyString()); // With this I got also the same Exception\r\n        \tdoNothing().when(service).error(&quot;corId&quot;, any(ErrorData.class), &quot;xId&quot;);  // No error no exception .. Work \r\n        \tgreenWork.getDataResponses();\r\n        }\r\n        ","title":"test void method using mockito and Junit with generic parameter","body":"<p>I am trying to test a void method using mockito and junit (the method contains a generic parameter). I would like to use the doNothing() for this method but after run the test will return exception for the method with generic parameter and for other with no generic param, it work;</p>\n<p>And also the difference between the success and error is that :\nWe define success method with <strong>final</strong> and not in the error method</p>\n<p>The exception :\nException 1 :</p>\n<blockquote>\n<p>You cannot use argument matchers outside of verification or stubbing.\nExamples of correct usage of argument matchers:\nwhen(mock.get(anyInt())).thenReturn(null);\ndoThrow(new RuntimeException()).when(mock).someVoidMethod(anyObject());\nverify(mock).someMethod(contains(&quot;foo&quot;))</p>\n</blockquote>\n<blockquote>\n<p>Also, this error might show up because you use argument matchers with\nmethods that cannot be mocked. Following methods <em>cannot</em> be\nstubbed/verified: final/private/equals()/hashCode(). Mocking methods\ndeclared on non-public parent classes is not supported.</p>\n</blockquote>\n<pre><code>  Method to tests :\n    \n    public class GreenWork {\n           @Autowired \n           Service service;\n           public void getDataResponses() {\n        \n            ResponseEntity&lt;DataDTO&gt; responseEntity = restTemplate.exchange(\n                            settings.getUrk(),\n                            HttpMethod.GET,\n                            null,\n                            DataDTO.class);\n            \n            if (responseEntity.getStatusCode().is4xxClientError()) {\n                ErrorData errorData = new ErrorData();\n                errorData.setMessage(&quot;error loading&quot;);\n                service.error(&quot;corId&quot;, errorData, &quot;otherId&quot;);\n            } else {\n                service.success(&quot;corId&quot;, responseEntity.getBody(), &quot;otherId&quot;);\n            }\n       }\n    }\n       \n    **Service.java**\n    public final void success(\n            final String corId,\n            final T t, // Generic class\n            final String otherud)\n            throws Exception {\n        \n        ......\n        restTemplate.exchange(\n            &quot;url&quot;),\n            entity,\n            Void.class);\n    }\n    \n    \n      public void error(\n            final String corId,\n            final ErrorData errorData,\n            final String otherud)\n            throws Exception {\n        \n        ......\n        restTemplate.exchange(\n            &quot;url&quot;),\n            entity,\n            Void.class);\n    }\n        \n    My Junit tests :\n        @InjectMocks\n        private GreenWork greenWork;\n        \n    @Test\n    public void shoulSuccessCallbak() {\n        doNothing().when(service).success(anyString(), any(), anyString());  // Throw an exception Exception 1\n        doNothing().when(service).success(anyString(), any(GrayDTO.class), anyString()); // With this I got also the same Exception\n        doNothing().when(service).error(&quot;corId&quot;, any(ErrorData.class), &quot;xId&quot;);  // No error no exception .. Work \n        greenWork.getDataResponses();\n    }\n    \n</code></pre>\n"},{"tags":["java","eclipse","web","cursor","project"],"comments":[{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1691492427,"post_id":76858763,"comment_id":135496005,"body_markdown":"I&#39;m 99.5% certain it&#39;s because you changed the mode to e.g. insert mode or something similar - the question I marked this as duplicate of contains multiple answers about which modes exist and how to switch to and from. If it&#39;s not that, edit the question to expand a little bit (e.g. what &#39;mode&#39; is listed in the bottom right in the status bar? &#39;Smart insert&#39;?), and I can undo the &#39;duplicate of&#39; mark.","body":"I&#39;m 99.5% certain it&#39;s because you changed the mode to e.g. insert mode or something similar - the question I marked this as duplicate of contains multiple answers about which modes exist and how to switch to and from. If it&#39;s not that, edit the question to expand a little bit (e.g. what &#39;mode&#39; is listed in the bottom right in the status bar? &#39;Smart insert&#39;?), and I can undo the &#39;duplicate of&#39; mark."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1691492786,"post_id":76858763,"comment_id":135496075,"body_markdown":"NB: I bet it reads &#39;Overwrite&#39;. Press Insert to change it back to normal mode. On a mac, which doesn&#39;t have an insert key, double click &#39;Overwrite&#39; so that it switches back to Smart Insert. If it doesn&#39;t read &#39;Smart insert&#39; but just &#39;Insert&#39;, you probably want to set it to smart insert. Open preferences, search for &#39;keys&#39;, and in keys search for &#39;toggle insert&#39;. Then use that keyboard shortcut, or give it one, and use the shortcut.","body":"NB: I bet it reads &#39;Overwrite&#39;. Press Insert to change it back to normal mode. On a mac, which doesn&#39;t have an insert key, double click &#39;Overwrite&#39; so that it switches back to Smart Insert. If it doesn&#39;t read &#39;Smart insert&#39; but just &#39;Insert&#39;, you probably want to set it to smart insert. Open preferences, search for &#39;keys&#39;, and in keys search for &#39;toggle insert&#39;. Then use that keyboard shortcut, or give it one, and use the shortcut."}],"owner":{"account_id":29183871,"reputation":11,"user_id":22357451,"display_name":"Sarthak Gupta"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1691492360,"answer_count":0,"score":1,"last_activity_date":1691491259,"creation_date":1691491259,"question_id":76858763,"body_markdown":"[enter image description here](https://i.stack.imgur.com/G2TSm.png) I am not able to replace blinking cursor to original vertical type.\r\n\r\nI tried changing  it by function + Return key. But no update. There is also no provision of Insert key on Mac keyboard. Help me please.","title":"How to change the cursor type from block to underline in Eclipse IDE for MacBookPro?","body":"<p><a href=\"https://i.stack.imgur.com/G2TSm.png\" rel=\"nofollow noreferrer\">enter image description here</a> I am not able to replace blinking cursor to original vertical type.</p>\n<p>I tried changing  it by function + Return key. But no update. There is also no provision of Insert key on Mac keyboard. Help me please.</p>\n"},{"tags":["java","spring-boot","hibernate"],"answers":[{"comments":[{"owner":{"account_id":8207283,"reputation":133,"user_id":6176616,"display_name":"jonny.l"},"score":0,"creation_date":1691487068,"post_id":76854259,"comment_id":135494953,"body_markdown":"I tried that already but it doesn&#39;t fix the issue. I have added some lines of my SQL and a simple test case to better illustrate the issue. The Insert works fine, it is the saving of a new overwriting value that is the problem.","body":"I tried that already but it doesn&#39;t fix the issue. I have added some lines of my SQL and a simple test case to better illustrate the issue. The Insert works fine, it is the saving of a new overwriting value that is the problem."}],"tags":[],"owner":{"account_id":301230,"reputation":28997,"user_id":608820,"accept_rate":89,"display_name":"Augusto"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691432422,"creation_date":1691432422,"answer_id":76854259,"question_id":76853473,"body_markdown":"I think the missing bit is to annotate the class with `@DynamicInsert`, that tells hibernate to not send the column value as null in the insert statement.\r\n\r\nThe [javadocs](https://docs.jboss.org/hibernate/orm/6.0/javadocs/org/hibernate/annotations/DynamicInsert.html) of that class have a bit more information. It&#39;s also worth checking the hibernate user guide.","title":"Spring Boot 3/Hibernate 6 - How to annotate a simple field that has a DB managed DEFAULT value?","body":"<p>I think the missing bit is to annotate the class with <code>@DynamicInsert</code>, that tells hibernate to not send the column value as null in the insert statement.</p>\n<p>The <a href=\"https://docs.jboss.org/hibernate/orm/6.0/javadocs/org/hibernate/annotations/DynamicInsert.html\" rel=\"nofollow noreferrer\">javadocs</a> of that class have a bit more information. It's also worth checking the hibernate user guide.</p>\n"},{"tags":[],"owner":{"account_id":8207283,"reputation":133,"user_id":6176616,"display_name":"jonny.l"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1691491153,"creation_date":1691491153,"answer_id":76858758,"question_id":76853473,"body_markdown":"After much reading on google and some trial and error, I have finally found something that works for all my test cases;\r\n\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private String colour;\r\n\r\n1. I can insert a new record with no value and the default is set.\r\n2. I can insert a new record with a different value and it is set instead of the default.\r\n3. I can retrieve an existing record with a default value and update that value!\r\n","title":"Spring Boot 3/Hibernate 6 - How to annotate a simple field that has a DB managed DEFAULT value?","body":"<p>After much reading on google and some trial and error, I have finally found something that works for all my test cases;</p>\n<pre><code>@GeneratedValue(strategy = GenerationType.AUTO)\nprivate String colour;\n</code></pre>\n<ol>\n<li>I can insert a new record with no value and the default is set.</li>\n<li>I can insert a new record with a different value and it is set instead of the default.</li>\n<li>I can retrieve an existing record with a default value and update that value!</li>\n</ol>\n"}],"owner":{"account_id":8207283,"reputation":133,"user_id":6176616,"display_name":"jonny.l"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":366,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1691491153,"creation_date":1691425215,"question_id":76853473,"body_markdown":"I have a Java @Entity class.\r\n\r\nIt has an @Id field, but that&#39;s not where the issue is so this is not about managing or creating Ids.\r\n\r\nWe have a number of other fields in the entity, some of which have DB managed default values, created with a sql query containing something like; \r\n\r\n     blah blah VARCHAR(20) NOT NULL DEFAULT &#39;Blue&#39;;\r\n\r\nWe are using a Postgres database, flyway for DB migrations and zonky as the embeddable DB for component tests. So we are not using the Jpa to create our databases, just flyway. \r\n\r\nUsing &#39;spring-boot-starter-data-jpa&#39;, version: &#39;2.7.6&#39; we found the following to work fine with the DB defaults populated on insert as expected and also to be updateable/overwritten with new values on update;\r\n\r\n    @Generated(GenerationTime.INSERT)\r\n    @Column(name = &quot;colour&quot;, nullable = false)\r\n    private String colour;\r\n\r\nHowever, as we are now upgrading to SpringBoot 3/Hibernate 6 we have found that the GenerationTime is deprecated and we are struggling to find an annotation that will work. We have tried the new EventType.INSERT as shown below;\r\n\r\nExample spring boot 3.1 \r\n\r\n    @Generated(event = EventType.INSERT)\r\n    private String colour;\r\n\r\nThis new EventType enables the default to be generated when the field is null, but when we try to update the new field value is ignored and the default is maintained. In the same save(), other fields are updated ok. i.e. we call repository.save() with an entity where colour = red, but on retrieval and on DB inspection, the colour is still as default &#39;Blue&#39;, whereas other non-default enabled fields are updated correctly!\r\n\r\nAny ideas how we should fix this? (Other than switching to Entity default definition, which we have been directed not to do!)\r\n\r\n````\r\n#data is set up in Flyway scripts as follows;\r\n\r\nCREATE TABLE IF NOT EXISTS simple_account\r\n(\r\n\tid BIGINT NOT NULL AUTO_INCREMENT PRIMARY KEY,\r\n\temail VARCHAR(255) NOT NULL,\r\n\tpassword VARCHAR(255) NOT NULL,\r\n\tfirst_name VARCHAR(255),\r\n\tlast_name VARCHAR(255),\r\n\thome_office VARCHAR(255) NOT NULL DEFAULT &#39;Plymouth&#39;\r\n);\r\n\r\ninsert into simple_account (email, password, first_name, last_name, home_office)\r\nVALUES (&#39;user2.foo@foo.com&#39;, &#39;password&#39;, &#39;user2&#39;, &#39;foo&#39;, &#39;Swansea&#39;);\r\n````\r\n\r\n````\r\n\t@Test\r\n\tpublic void testFindAndUpdateAccountPreviouslySaved() {\r\n\t\tString email = &quot;user2.foo@foo.com&quot;;\r\n\t\tSimpleAccount recovered = simpleAccountRepo.findByEmail(email);\r\n\r\n\t\t// check that we have the SimpleAccount that we are expecting\r\n\t\tassertEquals(email, recovered.getEmail());\r\n\t\tassertEquals(&quot;Swansea&quot;, recovered.getHomeOffice());\r\n\r\n\t\t// Set first_name (regular field) and home_office a not null default field \r\n\t\trecovered.setFirstName(&quot;Bob&quot;);\r\n\t\trecovered.setHomeOffice(&quot;Blackpool&quot;);\r\n\t\tsimpleAccountRepo.save(recovered);\r\n\t\tsimpleAccountRepo.flush();\r\n\r\n\t\tSimpleAccount recovered2 = simpleAccountRepo.findByEmail(email);\r\n\t\t//Worked fine\r\n\t\tassertEquals(&quot;Bob&quot;, recovered2.getFirstName());\r\n\r\n\t\t//Failed to update\r\n\t\tassertEquals(&quot;Blackpool&quot;, recovered2.getHomeOffice());\r\n\t}\r\n````","title":"Spring Boot 3/Hibernate 6 - How to annotate a simple field that has a DB managed DEFAULT value?","body":"<p>I have a Java @Entity class.</p>\n<p>It has an @Id field, but that's not where the issue is so this is not about managing or creating Ids.</p>\n<p>We have a number of other fields in the entity, some of which have DB managed default values, created with a sql query containing something like;</p>\n<pre><code> blah blah VARCHAR(20) NOT NULL DEFAULT 'Blue';\n</code></pre>\n<p>We are using a Postgres database, flyway for DB migrations and zonky as the embeddable DB for component tests. So we are not using the Jpa to create our databases, just flyway.</p>\n<p>Using 'spring-boot-starter-data-jpa', version: '2.7.6' we found the following to work fine with the DB defaults populated on insert as expected and also to be updateable/overwritten with new values on update;</p>\n<pre><code>@Generated(GenerationTime.INSERT)\n@Column(name = &quot;colour&quot;, nullable = false)\nprivate String colour;\n</code></pre>\n<p>However, as we are now upgrading to SpringBoot 3/Hibernate 6 we have found that the GenerationTime is deprecated and we are struggling to find an annotation that will work. We have tried the new EventType.INSERT as shown below;</p>\n<p>Example spring boot 3.1</p>\n<pre><code>@Generated(event = EventType.INSERT)\nprivate String colour;\n</code></pre>\n<p>This new EventType enables the default to be generated when the field is null, but when we try to update the new field value is ignored and the default is maintained. In the same save(), other fields are updated ok. i.e. we call repository.save() with an entity where colour = red, but on retrieval and on DB inspection, the colour is still as default 'Blue', whereas other non-default enabled fields are updated correctly!</p>\n<p>Any ideas how we should fix this? (Other than switching to Entity default definition, which we have been directed not to do!)</p>\n<pre><code>#data is set up in Flyway scripts as follows;\n\nCREATE TABLE IF NOT EXISTS simple_account\n(\n    id BIGINT NOT NULL AUTO_INCREMENT PRIMARY KEY,\n    email VARCHAR(255) NOT NULL,\n    password VARCHAR(255) NOT NULL,\n    first_name VARCHAR(255),\n    last_name VARCHAR(255),\n    home_office VARCHAR(255) NOT NULL DEFAULT 'Plymouth'\n);\n\ninsert into simple_account (email, password, first_name, last_name, home_office)\nVALUES ('user2.foo@foo.com', 'password', 'user2', 'foo', 'Swansea');\n</code></pre>\n<pre><code>    @Test\n    public void testFindAndUpdateAccountPreviouslySaved() {\n        String email = &quot;user2.foo@foo.com&quot;;\n        SimpleAccount recovered = simpleAccountRepo.findByEmail(email);\n\n        // check that we have the SimpleAccount that we are expecting\n        assertEquals(email, recovered.getEmail());\n        assertEquals(&quot;Swansea&quot;, recovered.getHomeOffice());\n\n        // Set first_name (regular field) and home_office a not null default field \n        recovered.setFirstName(&quot;Bob&quot;);\n        recovered.setHomeOffice(&quot;Blackpool&quot;);\n        simpleAccountRepo.save(recovered);\n        simpleAccountRepo.flush();\n\n        SimpleAccount recovered2 = simpleAccountRepo.findByEmail(email);\n        //Worked fine\n        assertEquals(&quot;Bob&quot;, recovered2.getFirstName());\n\n        //Failed to update\n        assertEquals(&quot;Blackpool&quot;, recovered2.getHomeOffice());\n    }\n</code></pre>\n"},{"tags":["java","class","classloader","java-bytecode-asm","bytecode-manipulation"],"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":1,"creation_date":1691490389,"post_id":76858545,"comment_id":135495622,"body_markdown":"Don&#39;t let the class loader define the `Test` interface. Not sure what you pass as predicate, but it should only be true for `TestClass`.","body":"Don&#39;t let the class loader define the <code>Test</code> interface. Not sure what you pass as predicate, but it should only be true for <code>TestClass</code>."},{"owner":{"account_id":2497295,"reputation":3931,"user_id":2173392,"display_name":"pdem"},"score":1,"creation_date":1691493112,"post_id":76858545,"comment_id":135496130,"body_markdown":"Post your full code here as pastes.dev will remove the source someday, and the question will then become useless. (also the full code as asked with predicate, the loader should be the tra,sformingLoader i Guess) Are you sure you need it? For dynamic code on an interface the java.lang.reflect.Proxy class could be enough.","body":"Post your full code here as pastes.dev will remove the source someday, and the question will then become useless. (also the full code as asked with predicate, the loader should be the tra,sformingLoader i Guess) Are you sure you need it? For dynamic code on an interface the java.lang.reflect.Proxy class could be enough."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1692608421,"post_id":76858545,"comment_id":135641552,"body_markdown":"Why not implement an actual [`ClassFileTransformer`](https://docs.oracle.com/en/java/javase/20/docs/api/java.instrument/java/lang/instrument/ClassFileTransformer.html) in the first place?","body":"Why not implement an actual <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.instrument/java/lang/instrument/ClassFileTransformer.html\" rel=\"nofollow noreferrer\"><code>ClassFileTransformer</code></a> in the first place?"}],"owner":{"account_id":28540189,"reputation":43,"user_id":21846363,"display_name":"asdafadsfadsfdaf"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691490943,"creation_date":1691489438,"question_id":76858545,"body_markdown":"I am trying to make a class loader which transforms the class bytes of the class being loaded using some kind of class transformer.\r\n\r\nSuppose I have the following code:\r\n```java\r\nstatic class Test {\r\n  void foo();\r\n}\r\n\r\nvoid test() {\r\n  ClassLoader transformingLoader = transformingClassLoader(..., this.getClass().getClassLoader(), ...);\r\n  Class&lt;?&gt; klass = Class.forName(&quot;test.package.Tests$TestClass&quot;, true, loader);\r\n\r\n  // I want to use the class easily here, but using it like this\r\n  // will cause it to load a new instance of the class, ignoring the already\r\n  // defined class by the transforming class loader and so all the transformations.\r\n  TestClass test1 = new TestClass();\r\n  test2.foo();\r\n\r\n  // Using something like this doesn&#39;t work either, it throws a ClassCastException\r\n  // because both classes are different from different loaders\r\n  TestClass test2 = (TestClass) klass.newInstance();\r\n}\r\n```\r\nHow could I make this work? I have tried using an interface like:\r\n```java\r\ninterface Test {\r\n  void foo();\r\n}\r\n\r\nstatic class TestClass implements Test { \r\n  // ...\r\n}\r\n\r\nvoid test() {\r\n  ClassLoader transformingLoader = ...\r\n  Class&lt;?&gt; klass = Class.forName(&quot;test.package.Tests$TestClass&quot;, true, loader);\r\n\r\n  // This leads to another ClassCastException though, because the transforming\r\n  // class loader defines it&#39;s own version of the Test interface.\r\n  Test test = (Test) klass.newInstance();\r\n  test.foo();\r\n}\r\n```\r\nThis is my current code for the transforming class loader: [pastes.dev][1]\r\n\r\nSo how could I fix these issues?\r\nI think most of the issues would be fixed if the class loader properly used already loaded classes when available but it doesn&#39;t seem like it does.\r\n\r\n  [1]: https://pastes.dev/8xcOtADf8Y","title":"How to create a transforming class loader","body":"<p>I am trying to make a class loader which transforms the class bytes of the class being loaded using some kind of class transformer.</p>\n<p>Suppose I have the following code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>static class Test {\n  void foo();\n}\n\nvoid test() {\n  ClassLoader transformingLoader = transformingClassLoader(..., this.getClass().getClassLoader(), ...);\n  Class&lt;?&gt; klass = Class.forName(&quot;test.package.Tests$TestClass&quot;, true, loader);\n\n  // I want to use the class easily here, but using it like this\n  // will cause it to load a new instance of the class, ignoring the already\n  // defined class by the transforming class loader and so all the transformations.\n  TestClass test1 = new TestClass();\n  test2.foo();\n\n  // Using something like this doesn't work either, it throws a ClassCastException\n  // because both classes are different from different loaders\n  TestClass test2 = (TestClass) klass.newInstance();\n}\n</code></pre>\n<p>How could I make this work? I have tried using an interface like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>interface Test {\n  void foo();\n}\n\nstatic class TestClass implements Test { \n  // ...\n}\n\nvoid test() {\n  ClassLoader transformingLoader = ...\n  Class&lt;?&gt; klass = Class.forName(&quot;test.package.Tests$TestClass&quot;, true, loader);\n\n  // This leads to another ClassCastException though, because the transforming\n  // class loader defines it's own version of the Test interface.\n  Test test = (Test) klass.newInstance();\n  test.foo();\n}\n</code></pre>\n<p>This is my current code for the transforming class loader: <a href=\"https://pastes.dev/8xcOtADf8Y\" rel=\"nofollow noreferrer\">pastes.dev</a></p>\n<p>So how could I fix these issues?\nI think most of the issues would be fixed if the class loader properly used already loaded classes when available but it doesn't seem like it does.</p>\n"},{"tags":["java","string","object","generics"],"comments":[{"owner":{"account_id":13203350,"reputation":868,"user_id":9535950,"display_name":"Thomas Behr"},"score":0,"creation_date":1691489990,"post_id":76858586,"comment_id":135495536,"body_markdown":"Did you accidentally import an `Object` class that is not `java.lang.Object`? Otherwise `java.lang.String cannot be converted to Object` does not make much sense, because `java.lang.String` extends `java.lang.Object`.","body":"Did you accidentally import an <code>Object</code> class that is not <code>java.lang.Object</code>? Otherwise <code>java.lang.String cannot be converted to Object</code> does not make much sense, because <code>java.lang.String</code> extends <code>java.lang.Object</code>."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1691490009,"post_id":76858586,"comment_id":135495544,"body_markdown":"I suspect you&#39;ve declared your own class called Object. I&#39;d strongly recommend avoiding that.","body":"I suspect you&#39;ve declared your own class called Object. I&#39;d strongly recommend avoiding that."}],"owner":{"account_id":29183664,"reputation":1,"user_id":22357299,"display_name":"Drishty Varshney"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691490748,"creation_date":1691489761,"question_id":76858586,"body_markdown":"```java\r\nclass Fist {\r\n    public Object age;\r\n\r\n    public Fist(Object age)\r\n    {\r\n\r\n        this.age = age;\r\n    }\r\n\r\n    public Object getAge() {\r\n        return age;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;First{&quot; +\r\n                &quot;age=&quot; + age +\r\n                &#39;}&#39;;\r\n    }\r\n\r\n}\r\n\r\n\r\npublic class abc {\r\n\r\n    public static void main(String[] args) {\r\n        Fist f = new Fist(&quot;44&quot;);\r\n        String  a =(String)f.getAge();\r\n        System.out.println(a);\r\n    }\r\n}\r\n```\r\n\r\nIt is showing error java: incompatible types: java.lang.String cannot be converted to Object.\r\n\r\nI want that the value should get stored in string type variable a.\r\n","title":"How to get the value of an object type parameter into any (string ,Integer...etc ) variable?","body":"<pre class=\"lang-java prettyprint-override\"><code>class Fist {\n    public Object age;\n\n    public Fist(Object age)\n    {\n\n        this.age = age;\n    }\n\n    public Object getAge() {\n        return age;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;First{&quot; +\n                &quot;age=&quot; + age +\n                '}';\n    }\n\n}\n\n\npublic class abc {\n\n    public static void main(String[] args) {\n        Fist f = new Fist(&quot;44&quot;);\n        String  a =(String)f.getAge();\n        System.out.println(a);\n    }\n}\n</code></pre>\n<p>It is showing error java: incompatible types: java.lang.String cannot be converted to Object.</p>\n<p>I want that the value should get stored in string type variable a.</p>\n"},{"tags":["java","command-line-interface","jline"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1691490363,"post_id":76858647,"comment_id":135495617,"body_markdown":"I never like to use the word &#39;impossible&#39; but let&#39;s use it here for the sake of helping you. Impracticable","body":"I never like to use the word &#39;impossible&#39; but let&#39;s use it here for the sake of helping you. Impracticable"},{"owner":{"account_id":24144809,"reputation":3,"user_id":18110585,"display_name":"Norbiros"},"score":0,"creation_date":1691491046,"post_id":76858647,"comment_id":135495735,"body_markdown":"Can you tell why? I am developing a way to send commands, and it would be really great if this feature would work as I described. Is it possible in other languages? But I would prefer to stay in Java.","body":"Can you tell why? I am developing a way to send commands, and it would be really great if this feature would work as I described. Is it possible in other languages? But I would prefer to stay in Java."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1691491702,"post_id":76858647,"comment_id":135495868,"body_markdown":"Because it would require native code. So it wouldn&#39;t be cross-platform for one thing. It goes beyond key listening to the storage of key strokes","body":"Because it would require native code. So it wouldn&#39;t be cross-platform for one thing. It goes beyond key listening to the storage of key strokes"}],"owner":{"account_id":24144809,"reputation":3,"user_id":18110585,"display_name":"Norbiros"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691490259,"creation_date":1691490259,"question_id":76858647,"body_markdown":"I am currently using:\r\n```java\r\nScanner scanner = new Scanner(System.in);\r\n```\r\nTo get user input in Java, but I want to add a way for user to use previous command easily. If users presses `UP key` it should show previous command instead of `^[[A`. It shouldn&#39;t suggest after I press `enter`. It should work like in bash. For example, I can type arrow key it displays previous command, I can modify it and then press enter to send command. \r\nIs it possible in Java? I tried using libraries like JLine, but I could get it working.","title":"Up arrow based command history in console input (Java)","body":"<p>I am currently using:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Scanner scanner = new Scanner(System.in);\n</code></pre>\n<p>To get user input in Java, but I want to add a way for user to use previous command easily. If users presses <code>UP key</code> it should show previous command instead of <code>^[[A</code>. It shouldn't suggest after I press <code>enter</code>. It should work like in bash. For example, I can type arrow key it displays previous command, I can modify it and then press enter to send command.\nIs it possible in Java? I tried using libraries like JLine, but I could get it working.</p>\n"},{"tags":["java","arrays","regex"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1620062575,"post_id":67373133,"comment_id":119084895,"body_markdown":"Please read: [How to debug small programs](https://ericlippert.com/2014/03/05/how-to-debug-small-programs/)","body":"Please read: <a href=\"https://ericlippert.com/2014/03/05/how-to-debug-small-programs/\" rel=\"nofollow noreferrer\">How to debug small programs</a>"},{"owner":{"account_id":12061937,"reputation":666,"user_id":8820629,"display_name":"SkillGG"},"score":0,"creation_date":1620063185,"post_id":67373133,"comment_id":119085113,"body_markdown":"`DL10G4839` doesn&#39;t even pass `[(KA)(DL)][(0[1-9])(10)][A-Z]{1,2}[1-9]\\\\d{3}` test\nhttps://regex101.com/r/KARISl/1","body":"<code>DL10G4839</code> doesn&#39;t even pass <code>[(KA)(DL)][(0[1-9])(10)][A-Z]{1,2}[1-9]\\\\d{3}</code> test <a href=\"https://regex101.com/r/KARISl/1\" rel=\"nofollow noreferrer\">regex101.com/r/KARISl/1</a>"},{"owner":{"account_id":6358642,"reputation":6528,"user_id":4934937,"display_name":"maio290"},"score":0,"creation_date":1620063293,"post_id":67373133,"comment_id":119085153,"body_markdown":"Since you need to extract the individual values anyway, you could ditch the regex completely. Rather parse the String according to your given pattern. Also, your regex doesn&#39;t even compile without an error. Even the part `[(KA)(DL)]` is already wrong.","body":"Since you need to extract the individual values anyway, you could ditch the regex completely. Rather parse the String according to your given pattern. Also, your regex doesn&#39;t even compile without an error. Even the part <code>[(KA)(DL)]</code> is already wrong."},{"owner":{"account_id":12061937,"reputation":666,"user_id":8820629,"display_name":"SkillGG"},"score":2,"creation_date":1620063470,"post_id":67373133,"comment_id":119085231,"body_markdown":"This should be your Regular Expression: `(KA|DL)(10|0[1-9])([A-Z]{1,2})([1-9][0-9]{3})`","body":"This should be your Regular Expression: <code>(KA|DL)(10|0[1-9])([A-Z]{1,2})([1-9][0-9]{3})</code>"},{"owner":{"account_id":6358642,"reputation":6528,"user_id":4934937,"display_name":"maio290"},"score":0,"creation_date":1620063574,"post_id":67373133,"comment_id":119085270,"body_markdown":"@SkillGG You should probably add the the start and end of string anchors ;)","body":"@SkillGG You should probably add the the start and end of string anchors ;)"}],"answers":[{"tags":[],"owner":{"account_id":12061937,"reputation":666,"user_id":8820629,"display_name":"SkillGG"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1620086806,"creation_date":1620064461,"answer_id":67373581,"question_id":67373133,"body_markdown":"Your regular expression is wrong!\r\n\r\nIf you want to check for the constraints that are in this exercise you should use this regex:\r\n```java\r\n&quot;^(KA|DL)(10|0[1-9])([A-Z]{1,2})([1-9][0-9]{3})$&quot;\r\n```\r\nExplanation:\r\n\r\n```bash\r\n^ # start of the string\r\n( # open first group\r\nKA|DL # find KA or DL\r\n) # close first group\r\n( # second group\r\n10| # 10 literally or\r\n0[1-9] # numbers from 01 to 09\r\n) # close second group\r\n( # third group\r\n[A-Z]{1,2} # one or two A-Z (uppercase)\r\n) # close third group\r\n( # open fourth group\r\n[1-9][0-9]{3} # numbers from 1000 to 9999\r\n) # close fourth group\r\n$ # end of the string\r\n```\r\n\r\nThe rest of the code is kinda sloppy, and could be improved, but works so I guess we can leave it as is.\r\n\r\nEdit: If you don&#39;t care about groups and won&#39;t use them (it won&#39;t be shorter though), then you could get rid of them making it:\r\n\r\n```java\r\n&quot;^(?:KA|DL)(?:10|0[1-9])[A-Z]{1,2}[1-9][0-9]{3}$&quot;\r\n```","title":"vehicle registration number validator in java","body":"<p>Your regular expression is wrong!</p>\n<p>If you want to check for the constraints that are in this exercise you should use this regex:</p>\n<pre class=\"lang-java prettyprint-override\"><code>&quot;^(KA|DL)(10|0[1-9])([A-Z]{1,2})([1-9][0-9]{3})$&quot;\n</code></pre>\n<p>Explanation:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>^ # start of the string\n( # open first group\nKA|DL # find KA or DL\n) # close first group\n( # second group\n10| # 10 literally or\n0[1-9] # numbers from 01 to 09\n) # close second group\n( # third group\n[A-Z]{1,2} # one or two A-Z (uppercase)\n) # close third group\n( # open fourth group\n[1-9][0-9]{3} # numbers from 1000 to 9999\n) # close fourth group\n$ # end of the string\n</code></pre>\n<p>The rest of the code is kinda sloppy, and could be improved, but works so I guess we can leave it as is.</p>\n<p>Edit: If you don't care about groups and won't use them (it won't be shorter though), then you could get rid of them making it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>&quot;^(?:KA|DL)(?:10|0[1-9])[A-Z]{1,2}[1-9][0-9]{3}$&quot;\n</code></pre>\n"}],"owner":{"account_id":16729554,"reputation":19,"user_id":12092296,"display_name":"ran"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1827,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":67373581,"answer_count":1,"score":0,"last_activity_date":1691490070,"creation_date":1620062513,"question_id":67373133,"body_markdown":"In the class named Source create the following public static method:\r\n\r\n\r\n checkRegistrationNumber(String):int\t \r\n\r\n   The input parameter is a vehicle registration number and the output is -1, 0 or 1 based on below given rules.\r\n   If the Vehicle registration number is valid as per the below format the method should return 0, else -1\r\n\r\n    PPXXQQYYYY\r\n    PP - Should be either KA or DL\r\n    XX - Number from 01 to 10\r\n    QQ - 1 or 2 alphabets from A-Z(uppercase)\r\n    YYYY - Number from 1000 to 9999 \r\n    Ex: KA01MG2323, DL10G5454\r\n\r\n    Method should return 1, if the registration number is valid, and last 4 digits add up to a lucky number. \r\n    When last 4 digits are repeatedly added(see below) and the sum is 6, it is a lucky number\r\n    KA01MG8484\r\n    8+4+8+4 = 24 -&gt; 2 + 4 = 6 (Lucky number)\r\n    if the input string is empty or null, the method should return -1.\r\n\r\nDo the following in the main method of Source class\r\n\r\n\r\n    Accept Registration number from the console\r\n    If the Registration number is invalid, display Invalid registration number\r\n    If the Registration number is valid but not lucky, display Valid registration number\r\n    If the Registration number is valid and lucky, display Lucky registration number\r\n\r\nI tried this code. \r\n\r\n    import java.util.*;\r\n    import java.util.regex.*;\r\n    class Source\r\n    {\r\n        static int checkRegistrationNumber(String st){\r\n            String regex= &quot;[(KA)(DL)][(0[1-9])(10)][A-Z]{1,2}[1-9]\\\\d{3}&quot;;\r\n            Pattern p=Pattern.compile(regex);\r\n            Matcher m = p.matcher(st);\r\n            if(m.find()){\r\n                 String lastfour=&quot;&quot;;\r\n                 lastfour = st.substring(st.length()-4);\r\n                 int a = Integer.parseInt(lastfour);\r\n                 int[] arr = new int[10];\r\n                 int u = 1000;\r\n                 for(int i=0;i&lt;4;i++){\r\n                      arr[i] =a/u;\r\n                      a=a%u;\r\n                      u=u/10;\r\n                 }\r\n                 int sum;\r\n                 sum=arr[0]+arr[1]+arr[2]+arr[3];\r\n                 if(sum&gt;10){\r\n                     int sum1=sum/10;\r\n                     int sum2=sum%10;\r\n                     int sum3= sum1+sum2;\r\n                     if(sum3==6){\r\n                        return 1;\r\n                     }\r\n                     else {\r\n                        return 0;\r\n                     }\r\n               }\r\n               else if(sum==6){\r\n                   return 1;\r\n                }\r\n            else{\r\n                return 0;\r\n            }\r\n     }\r\n     else{\r\n        return -1;\r\n     }\r\n     }\r\n     public static void main(String[] args)\r\n    {\r\n        Scanner sc =new Scanner(System.in);\r\n        String str=sc.nextLine();\r\n        int n=checkRegistrationNumber(str);\r\n        if(n==1){\r\n            System.out.println(&quot;Lucky registration number&quot;);\r\n        }\r\n        else if(n==0){\r\n            System.out.println(&quot;Valid registration number&quot;);\r\n        }\r\n        else{\r\n            System.out.println(&quot;Invalid registration number&quot;);\r\n        }\r\n     }\r\n    }\r\n\r\nbut When checking DL10G4839, it is showing Invalid even it is lucky reg. number.\r\nit is not working properly.\r\n","title":"vehicle registration number validator in java","body":"<p>In the class named Source create the following public static method:</p>\n<p>checkRegistrationNumber(String):int</p>\n<p>The input parameter is a vehicle registration number and the output is -1, 0 or 1 based on below given rules.\nIf the Vehicle registration number is valid as per the below format the method should return 0, else -1</p>\n<pre><code>PPXXQQYYYY\nPP - Should be either KA or DL\nXX - Number from 01 to 10\nQQ - 1 or 2 alphabets from A-Z(uppercase)\nYYYY - Number from 1000 to 9999 \nEx: KA01MG2323, DL10G5454\n\nMethod should return 1, if the registration number is valid, and last 4 digits add up to a lucky number. \nWhen last 4 digits are repeatedly added(see below) and the sum is 6, it is a lucky number\nKA01MG8484\n8+4+8+4 = 24 -&gt; 2 + 4 = 6 (Lucky number)\nif the input string is empty or null, the method should return -1.\n</code></pre>\n<p>Do the following in the main method of Source class</p>\n<pre><code>Accept Registration number from the console\nIf the Registration number is invalid, display Invalid registration number\nIf the Registration number is valid but not lucky, display Valid registration number\nIf the Registration number is valid and lucky, display Lucky registration number\n</code></pre>\n<p>I tried this code.</p>\n<pre><code>import java.util.*;\nimport java.util.regex.*;\nclass Source\n{\n    static int checkRegistrationNumber(String st){\n        String regex= &quot;[(KA)(DL)][(0[1-9])(10)][A-Z]{1,2}[1-9]\\\\d{3}&quot;;\n        Pattern p=Pattern.compile(regex);\n        Matcher m = p.matcher(st);\n        if(m.find()){\n             String lastfour=&quot;&quot;;\n             lastfour = st.substring(st.length()-4);\n             int a = Integer.parseInt(lastfour);\n             int[] arr = new int[10];\n             int u = 1000;\n             for(int i=0;i&lt;4;i++){\n                  arr[i] =a/u;\n                  a=a%u;\n                  u=u/10;\n             }\n             int sum;\n             sum=arr[0]+arr[1]+arr[2]+arr[3];\n             if(sum&gt;10){\n                 int sum1=sum/10;\n                 int sum2=sum%10;\n                 int sum3= sum1+sum2;\n                 if(sum3==6){\n                    return 1;\n                 }\n                 else {\n                    return 0;\n                 }\n           }\n           else if(sum==6){\n               return 1;\n            }\n        else{\n            return 0;\n        }\n }\n else{\n    return -1;\n }\n }\n public static void main(String[] args)\n{\n    Scanner sc =new Scanner(System.in);\n    String str=sc.nextLine();\n    int n=checkRegistrationNumber(str);\n    if(n==1){\n        System.out.println(&quot;Lucky registration number&quot;);\n    }\n    else if(n==0){\n        System.out.println(&quot;Valid registration number&quot;);\n    }\n    else{\n        System.out.println(&quot;Invalid registration number&quot;);\n    }\n }\n}\n</code></pre>\n<p>but When checking DL10G4839, it is showing Invalid even it is lucky reg. number.\nit is not working properly.</p>\n"},{"tags":["java","pascals-triangle"],"comments":[{"owner":{"account_id":4127333,"reputation":34381,"user_id":3386109,"display_name":"user3386109"},"score":0,"creation_date":1478501109,"post_id":40459191,"comment_id":68163621,"body_markdown":"So dust off the calculator and compute `13!`","body":"So dust off the calculator and compute <code>13!</code>"},{"owner":{"account_id":2094057,"reputation":506144,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1478501191,"post_id":40459191,"comment_id":68163666,"body_markdown":"You should show the exact stack trace.  Are you getting a stack overflow error, arithmetic overflow, or something else?","body":"You should show the exact stack trace.  Are you getting a stack overflow error, arithmetic overflow, or something else?"},{"owner":{"account_id":7767571,"reputation":19,"user_id":5878319,"display_name":"Sdmg15"},"score":0,"creation_date":1478501598,"post_id":40459191,"comment_id":68163809,"body_markdown":"No there is no any stack trace or error displayed.","body":"No there is no any stack trace or error displayed."},{"owner":{"account_id":2094057,"reputation":506144,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1478501795,"post_id":40459191,"comment_id":68163896,"body_markdown":"Your program is probably spinning then at level 13.  Have a look at how dynamic programming can help to avoid the problem you are having.","body":"Your program is probably spinning then at level 13.  Have a look at how dynamic programming can help to avoid the problem you are having."}],"answers":[{"comments":[{"owner":{"account_id":2857042,"reputation":5165,"user_id":2453089,"accept_rate":72,"display_name":"vish4071"},"score":0,"creation_date":1478501843,"post_id":40459261,"comment_id":68163914,"body_markdown":"When you are coding for pascal triangle, why even use multiplication at all? This is not how you write code for Pascal Triangle. Bad example","body":"When you are coding for pascal triangle, why even use multiplication at all? This is not how you write code for Pascal Triangle. Bad example"},{"owner":{"account_id":1188905,"reputation":15517,"user_id":1162233,"accept_rate":95,"display_name":"Kaidul"},"score":0,"creation_date":1478502258,"post_id":40459261,"comment_id":68164101,"body_markdown":"@vish4071 yes, you&#39;re right. I&#39;ve just showed a improved version of his code. Check the update. I&#39;ve added a simpler version you intended.","body":"@vish4071 yes, you&#39;re right. I&#39;ve just showed a improved version of his code. Check the update. I&#39;ve added a simpler version you intended."},{"owner":{"account_id":2857042,"reputation":5165,"user_id":2453089,"accept_rate":72,"display_name":"vish4071"},"score":0,"creation_date":1478502299,"post_id":40459261,"comment_id":68164116,"body_markdown":"Yeah...thats what I&#39;m talking about :) Though this can be done in a little less LOC, this is fine","body":"Yeah...thats what I&#39;m talking about :) Though this can be done in a little less LOC, this is fine"},{"owner":{"account_id":1188905,"reputation":15517,"user_id":1162233,"accept_rate":95,"display_name":"Kaidul"},"score":0,"creation_date":1478503100,"post_id":40459261,"comment_id":68164459,"body_markdown":"Yes, true. Check now, I&#39;ve reduced the size a bit.","body":"Yes, true. Check now, I&#39;ve reduced the size a bit."},{"owner":{"account_id":79673,"reputation":40911,"user_id":225757,"accept_rate":72,"display_name":"Roland Illig"},"score":0,"creation_date":1478503378,"post_id":40459261,"comment_id":68164585,"body_markdown":"In the addition variant, you should merge the `levels &gt; 1` case into the following loop. The `prevList` should only be declared inside the loop. And don&#39;t mix `i++` and `++i` unless it is really necessary.","body":"In the addition variant, you should merge the <code>levels &gt; 1</code> case into the following loop. The <code>prevList</code> should only be declared inside the loop. And don&#39;t mix <code>i++</code> and <code>++i</code> unless it is really necessary."},{"owner":{"account_id":1188905,"reputation":15517,"user_id":1162233,"accept_rate":95,"display_name":"Kaidul"},"score":0,"creation_date":1478506071,"post_id":40459261,"comment_id":68165829,"body_markdown":"@RolandIllig I&#39;ve edited the code as you suggested. Thanks!","body":"@RolandIllig I&#39;ve edited the code as you suggested. Thanks!"}],"tags":[],"owner":{"account_id":1188905,"reputation":15517,"user_id":1162233,"accept_rate":95,"display_name":"Kaidul"},"comment_count":6,"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1478506521,"creation_date":1478501078,"answer_id":40459261,"question_id":40459191,"body_markdown":"I don&#39;t know if its an integer overflow or anything else. Can we write the solution with less hassle?\r\n\r\n    public static void pascalTriangle(int levels) {\r\n\r\n            for (int i = 0; i &lt;= levels; i++) {\r\n                List&lt;Integer&gt; row = new ArrayList&lt;&gt;();\r\n                int s = 1;\r\n                for (int j = 0; j &lt;= i; j++) {\r\n                    row.add(s);\r\n                    s = s * (i - j) / (j + 1);\r\n                }\r\n                System.out.println(row);\r\n            }\r\n\r\n    }\r\n\r\nHere I&#39;ve used the formula of binomial coefficient **`nCr+1 = nCr * (n -r) / (r + 1)`**. I am using the already calculated result `nCr` to avoid repetitive calculation. \r\n\r\nIn your version, you calculated factorial from scratch every time. Perhaps using memorization would be useful.\r\n\r\n## Edit\r\n\r\nMoreover you don&#39;t actually need to do any combinatoric stuffs to calculate pascal triangle. You can simply do some addition on previous level to get current level.\r\n\r\n    public static void pascalTriangle(int levels) {\r\n        \r\n        if (levels == 0) return;\r\n        \r\n        List&lt;Integer&gt; currList = new ArrayList&lt;&gt;();\r\n\r\n        System.out.println(&quot;1&quot;);\r\n\r\n        for (int i = 2; i &lt;= levels; i++) {\r\n            List&lt;Integer&gt; prevList = new ArrayList&lt;&gt;(currList);\r\n            currList.clear(); \r\n            currList.add(1);\r\n            for (int j = 0, k = 1; k &lt; prevList.size(); j++, k++) {\r\n                currList.add(prevList.get(j) + prevList.get(k));\r\n            }\r\n            currList.add(1);\r\n            System.out.println(currList);\r\n        }\r\n    }","title":"How to solve Pascal triangle loop fails issue?","body":"<p>I don't know if its an integer overflow or anything else. Can we write the solution with less hassle?</p>\n\n<pre><code>public static void pascalTriangle(int levels) {\n\n        for (int i = 0; i &lt;= levels; i++) {\n            List&lt;Integer&gt; row = new ArrayList&lt;&gt;();\n            int s = 1;\n            for (int j = 0; j &lt;= i; j++) {\n                row.add(s);\n                s = s * (i - j) / (j + 1);\n            }\n            System.out.println(row);\n        }\n\n}\n</code></pre>\n\n<p>Here I've used the formula of binomial coefficient <strong><code>nCr+1 = nCr * (n -r) / (r + 1)</code></strong>. I am using the already calculated result <code>nCr</code> to avoid repetitive calculation. </p>\n\n<p>In your version, you calculated factorial from scratch every time. Perhaps using memorization would be useful.</p>\n\n<h2>Edit</h2>\n\n<p>Moreover you don't actually need to do any combinatoric stuffs to calculate pascal triangle. You can simply do some addition on previous level to get current level.</p>\n\n<pre><code>public static void pascalTriangle(int levels) {\n\n    if (levels == 0) return;\n\n    List&lt;Integer&gt; currList = new ArrayList&lt;&gt;();\n\n    System.out.println(\"1\");\n\n    for (int i = 2; i &lt;= levels; i++) {\n        List&lt;Integer&gt; prevList = new ArrayList&lt;&gt;(currList);\n        currList.clear(); \n        currList.add(1);\n        for (int j = 0, k = 1; k &lt; prevList.size(); j++, k++) {\n            currList.add(prevList.get(j) + prevList.get(k));\n        }\n        currList.add(1);\n        System.out.println(currList);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8293366,"reputation":383,"user_id":6234263,"display_name":"Michael Bl&#225;ha"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1478502534,"creation_date":1478502534,"answer_id":40459578,"question_id":40459191,"body_markdown":"This is caused by [integer overflow][1] issue. The result of fact(13) is 6227020800, which is larger than what fits in an integer.\r\n\r\nEither use `long` (which would only delay the issue), BigInteger or define a combinatorial object. And use dynamic programming principles to avoid repetitive calculation, as shown by @Kaidul\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Integer_overflow &quot;integer overflow&quot;","title":"How to solve Pascal triangle loop fails issue?","body":"<p>This is caused by <a href=\"https://en.wikipedia.org/wiki/Integer_overflow\" rel=\"nofollow noreferrer\" title=\"integer overflow\">integer overflow</a> issue. The result of fact(13) is 6227020800, which is larger than what fits in an integer.</p>\n\n<p>Either use <code>long</code> (which would only delay the issue), BigInteger or define a combinatorial object. And use dynamic programming principles to avoid repetitive calculation, as shown by @Kaidul</p>\n"}],"owner":{"account_id":7767571,"reputation":19,"user_id":5878319,"display_name":"Sdmg15"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":141,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":40459578,"answer_count":2,"score":1,"last_activity_date":1691490028,"creation_date":1478500767,"question_id":40459191,"body_markdown":"I&#39;m facing an error on my Pascal triangle, but I don&#39;t know whether it&#39;s Java or my code which is the problem. Here is the code:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    import java.util.Scanner;\r\n\r\n    public class sdz {\r\n\r\n        public static void main(String[] args) {\r\n\r\n            Scanner sc = new Scanner(System.in);\r\n            int levels;\r\n            levels = sc.nextInt();\r\n\r\n            for(int i = 0; i &lt;= levels; i++){\r\n                for(int j =0; j &lt;= i; j++){\r\n                    System.out.print(combinatorial(i,j) + &quot; &quot;);\r\n                }\r\n\r\n                System.out.println();\r\n\r\n            }\r\n        }\r\n        static int fact(int n ){\r\n            if(n &gt; 0)\r\n                return n * fact(n-1);\r\n            else\r\n                return 1;\r\n        }\r\n\r\n        static int combinatorial(int n , int r){\r\n\r\n            return fact(n)/(fact(r) * fact(n-r));\r\n        }\r\n\r\n    }\r\n\r\nWhen I input the level to 13, it fails. Here is the result:\r\n\r\n![The loop at 13][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1XmTw.png\r\n\r\n","title":"How to solve Pascal triangle loop fails issue?","body":"<p>I'm facing an error on my Pascal triangle, but I don't know whether it's Java or my code which is the problem. Here is the code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class sdz {\n\n    public static void main(String[] args) {\n\n        Scanner sc = new Scanner(System.in);\n        int levels;\n        levels = sc.nextInt();\n\n        for(int i = 0; i &lt;= levels; i++){\n            for(int j =0; j &lt;= i; j++){\n                System.out.print(combinatorial(i,j) + &quot; &quot;);\n            }\n\n            System.out.println();\n\n        }\n    }\n    static int fact(int n ){\n        if(n &gt; 0)\n            return n * fact(n-1);\n        else\n            return 1;\n    }\n\n    static int combinatorial(int n , int r){\n\n        return fact(n)/(fact(r) * fact(n-r));\n    }\n\n}\n</code></pre>\n<p>When I input the level to 13, it fails. Here is the result:</p>\n<p><img src=\"https://i.stack.imgur.com/1XmTw.png\" alt=\"The loop at 13\" /></p>\n"},{"tags":["java","spring","spring-mvc"],"comments":[{"owner":{"account_id":18670408,"reputation":143,"user_id":13609359,"display_name":"Slevin"},"score":0,"creation_date":1691495349,"post_id":76858589,"comment_id":135496653,"body_markdown":"Maybe Advices are the way to go. This way you can intercept in- and outgoing data, perform some computation and modify the returning result. But be aware this is a blocking task.","body":"Maybe Advices are the way to go. This way you can intercept in- and outgoing data, perform some computation and modify the returning result. But be aware this is a blocking task."}],"owner":{"account_id":2975457,"reputation":1032,"user_id":2526586,"accept_rate":33,"display_name":"user2526586"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691489770,"creation_date":1691489770,"question_id":76858589,"body_markdown":"I have a Spring MVC application. The set up is like many common applications:\r\n\r\n - Database connection configuration is defined in `context.xml` with `&lt;bean id=&quot;dataSource&quot; ... &gt;` ...\r\n    via `@ImportResource(&quot;classpath:context.xml&quot;)` for my class `ApplicationConfig` (with `@Configuration`)\r\n - The `dataSource` is then used in `context.xml` to initiate `JdbcTemplate` and `NamedParameterJdbcTemplate`:\r\n      ```\r\n        &lt;bean id=&quot;namedParameterJdbcTemplate&quot; class=&quot;org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate&quot;&gt;\r\n\t\t &lt;constructor-arg ref=&quot;dataSource&quot; /&gt;\r\n        &lt;/bean&gt;\r\n        &lt;bean id=&quot;jdbcTemplate&quot; class=&quot;org.springframework.jdbc.core.JdbcTemplate&quot;&gt;\r\n   \t\t &lt;constructor-arg ref=&quot;dataSource&quot; /&gt;\r\n        &lt;/bean&gt;\r\n      ```\r\n - My controller classes are typically annotated with `@Controller` and then `@RequestMapping(&quot;/helloWorld&quot;)` for the methods (which return a String for the jsp file name)\r\n - With MVC pattern, my controller classes have `@Autowired` different service classes; and the service classes `@Autowired` different DAO classes. My DAO classes `@Autowired` `JdbcTemplate` and `NamedParameterJdbcTemplate` for accessing the database.\r\n - In my web.xml, I have `error-page`&#39;s defined, e.g. \r\n      ```\r\n       &lt;web-app ... &gt;\r\n         &lt;error-page&gt;\r\n           &lt;error-code&gt;405&lt;/error-code&gt;\r\n           &lt;location&gt;/405ErrorPage.jsp&lt;/location&gt;\r\n         &lt;/error-page&gt;\r\n           other error pages etc...\r\n       &lt;/web-app&gt;\r\n      ```\r\n - My application is packaged into WAR and deployed with Tomcat&#39;s manager\r\n\r\nThis works fine in general, however, I want to add a way to check the existence of a file (possibly a HTML file) and then interrupt the normal flow of how controllers return. So in practice: when there is ongoing maintenance work for database, the database connection of the application will fail and my controllers will return the error page by default. I want to add a way to check for a file (&quot;maintenance-notice.html&quot; for sample) outside the deploy WAR in the server&#39;s file system. If the file exists, all the controllers should return the content of the &quot;maintenance-notice.html&quot;. \r\n\r\nI appreciate the &#39;magic&#39; of Spring MVC, but at the moment, when the database connection is down, the application will also fail. The controllers returns the error page instead of running anything inside the controller method.\r\n\r\nHow should I tackle the problem if I want to make all controllers to check for the existence of the file before returning the error page as defined in `web.xml`? Should I add some sort of exception catching at the start of each controller just to check if the database connection is down? \r\n\r\nP.S. Perhaps this is another question: What would be the recommended/appropriate way to check for file existence and read the file outside the WAR with Spring&#39;s way of doing things?\r\n\r\nSorry, I am not very familiar with the anatomy of Spring MVC, so please bear with me and explain things in smaller steps. Much appreciated. ","title":"Check for file existence before Spring controller runs?","body":"<p>I have a Spring MVC application. The set up is like many common applications:</p>\n<ul>\n<li>Database connection configuration is defined in <code>context.xml</code> with <code>&lt;bean id=&quot;dataSource&quot; ... &gt;</code> ...\nvia <code>@ImportResource(&quot;classpath:context.xml&quot;)</code> for my class <code>ApplicationConfig</code> (with <code>@Configuration</code>)</li>\n<li>The <code>dataSource</code> is then used in <code>context.xml</code> to initiate <code>JdbcTemplate</code> and <code>NamedParameterJdbcTemplate</code>:\n<pre><code>  &lt;bean id=&quot;namedParameterJdbcTemplate&quot; class=&quot;org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate&quot;&gt;\n   &lt;constructor-arg ref=&quot;dataSource&quot; /&gt;\n  &lt;/bean&gt;\n  &lt;bean id=&quot;jdbcTemplate&quot; class=&quot;org.springframework.jdbc.core.JdbcTemplate&quot;&gt;\n   &lt;constructor-arg ref=&quot;dataSource&quot; /&gt;\n  &lt;/bean&gt;\n</code></pre>\n</li>\n<li>My controller classes are typically annotated with <code>@Controller</code> and then <code>@RequestMapping(&quot;/helloWorld&quot;)</code> for the methods (which return a String for the jsp file name)</li>\n<li>With MVC pattern, my controller classes have <code>@Autowired</code> different service classes; and the service classes <code>@Autowired</code> different DAO classes. My DAO classes <code>@Autowired</code> <code>JdbcTemplate</code> and <code>NamedParameterJdbcTemplate</code> for accessing the database.</li>\n<li>In my web.xml, I have <code>error-page</code>'s defined, e.g.\n<pre><code> &lt;web-app ... &gt;\n   &lt;error-page&gt;\n     &lt;error-code&gt;405&lt;/error-code&gt;\n     &lt;location&gt;/405ErrorPage.jsp&lt;/location&gt;\n   &lt;/error-page&gt;\n     other error pages etc...\n &lt;/web-app&gt;\n</code></pre>\n</li>\n<li>My application is packaged into WAR and deployed with Tomcat's manager</li>\n</ul>\n<p>This works fine in general, however, I want to add a way to check the existence of a file (possibly a HTML file) and then interrupt the normal flow of how controllers return. So in practice: when there is ongoing maintenance work for database, the database connection of the application will fail and my controllers will return the error page by default. I want to add a way to check for a file (&quot;maintenance-notice.html&quot; for sample) outside the deploy WAR in the server's file system. If the file exists, all the controllers should return the content of the &quot;maintenance-notice.html&quot;.</p>\n<p>I appreciate the 'magic' of Spring MVC, but at the moment, when the database connection is down, the application will also fail. The controllers returns the error page instead of running anything inside the controller method.</p>\n<p>How should I tackle the problem if I want to make all controllers to check for the existence of the file before returning the error page as defined in <code>web.xml</code>? Should I add some sort of exception catching at the start of each controller just to check if the database connection is down?</p>\n<p>P.S. Perhaps this is another question: What would be the recommended/appropriate way to check for file existence and read the file outside the WAR with Spring's way of doing things?</p>\n<p>Sorry, I am not very familiar with the anatomy of Spring MVC, so please bear with me and explain things in smaller steps. Much appreciated.</p>\n"},{"tags":["java","mysql","spring-boot","hikaricp"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1691134035,"post_id":76833741,"comment_id":135453274,"body_markdown":"I guess mysql is running in a different container as your application?","body":"I guess mysql is running in a different container as your application?"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1691134047,"post_id":76833741,"comment_id":135453277,"body_markdown":"Change the `minimum-idle` to be lower then the `maximum-pool-size` that way connections will be refreshed periodically when needed. When they are equal this doesn&#39;t happen.","body":"Change the <code>minimum-idle</code> to be lower then the <code>maximum-pool-size</code> that way connections will be refreshed periodically when needed. When they are equal this doesn&#39;t happen."},{"owner":{"account_id":25706678,"reputation":11,"user_id":19465850,"display_name":"HongmingZhao"},"score":0,"creation_date":1691134819,"post_id":76833741,"comment_id":135453439,"body_markdown":"@Jens Yes, MySQL is a master-slave high availability service.I am connecting to the slave database.","body":"@Jens Yes, MySQL is a master-slave high availability service.I am connecting to the slave database."},{"owner":{"account_id":25706678,"reputation":11,"user_id":19465850,"display_name":"HongmingZhao"},"score":0,"creation_date":1691134950,"post_id":76833741,"comment_id":135453476,"body_markdown":"@M.Deinum I apologize for the confusion. Let me clarify.\n\nRegarding your question, would modifying the &quot;minimum-idle&quot; and &quot;maximum-pool-size&quot; settings help resolve my issue?","body":"@M.Deinum I apologize for the confusion. Let me clarify.  Regarding your question, would modifying the &quot;minimum-idle&quot; and &quot;maximum-pool-size&quot; settings help resolve my issue?"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1691135362,"post_id":76833741,"comment_id":135453572,"body_markdown":"It will keep dynamically growing the pool, if needed and scale down. It will automatically close idle connections after the idle timeout. But it does this only when the min/max are different else it doesn&#39;t do this until an error pops up. Will it solve it, not sure but it will help. If you still have long running queries that keep a connection busy it still might occur. You might want to set the `spring.datasource.hikari.leak-detection-threshold` to some value, this wil report connection leaks and help investigation.","body":"It will keep dynamically growing the pool, if needed and scale down. It will automatically close idle connections after the idle timeout. But it does this only when the min/max are different else it doesn&#39;t do this until an error pops up. Will it solve it, not sure but it will help. If you still have long running queries that keep a connection busy it still might occur. You might want to set the <code>spring.datasource.hikari.leak-detection-threshold</code> to some value, this wil report connection leaks and help investigation."},{"owner":{"account_id":25706678,"reputation":11,"user_id":19465850,"display_name":"HongmingZhao"},"score":1,"creation_date":1691135611,"post_id":76833741,"comment_id":135453632,"body_markdown":"@M.Deinum Sure, I will test it following your instructions, and I will provide a response once I have the results.","body":"@M.Deinum Sure, I will test it following your instructions, and I will provide a response once I have the results."}],"answers":[{"tags":[],"owner":{"account_id":25706678,"reputation":11,"user_id":19465850,"display_name":"HongmingZhao"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691489730,"creation_date":1691489730,"answer_id":76858582,"question_id":76833741,"body_markdown":"First of all, thank you all for your responses. After several days of testing and troubleshooting based on the exception stack information, we have finally identified the root cause of the issue. By modifying relevant configuration settings, we have successfully resolved the problem and the similar exceptions are no longer occurring. Here&#39;s the explanation:\r\n\r\nAs described in the original exception stack information, the `Read timed out` exception was occurring. The code that was throwing this exception is located in the `com.mysql.cj.jdbc.ConnectionImpl.isReadOnly` method. Here is the code snippet:\r\n```\r\npublic boolean isReadOnly(boolean useSessionStatus) throws SQLException {\r\n        if (useSessionStatus &amp;&amp; !this.session.isClosed() &amp;&amp; versionMeetsMinimum(5, 6, 5) &amp;&amp; !this.useLocalSessionState.getValue()\r\n                &amp;&amp; this.readOnlyPropagatesToServer.getValue()) {\r\n            String s = this.session.queryServerVariable(\r\n                    versionMeetsMinimum(8, 0, 3) || (versionMeetsMinimum(5, 7, 20) &amp;&amp; !versionMeetsMinimum(8, 0, 0)) ? &quot;@@session.transaction_read_only&quot;\r\n                            : &quot;@@session.tx_read_only&quot;);\r\n            if (s != null) {\r\n                return Integer.parseInt(s) != 0; // mysql has a habit of tri+ state booleans\r\n            }\r\n        }\r\n\r\n        return this.readOnly;\r\n    }\r\n```\r\nThe logic of this code snippet involves determining whether to set the session as read-only based on the MySQL version. This involves executing a large number of select @@session.tx_read_only statements to ensure the consistency of the current session.\r\n\r\nSolution: Since our service is designed as a read-only project and does not require consistency checks or data submission, we have made the following changes to the MySQL database connection configuration:\r\nAdded `useLocalSessionState=true` in the connection information.\r\n\r\nRemoved the `auto-commit: true` configuration.\r\nWith the above modifications, our service has now returned to normal operation.\r\n","title":"springboot+hikaricp encounters Communications link failure","body":"<p>First of all, thank you all for your responses. After several days of testing and troubleshooting based on the exception stack information, we have finally identified the root cause of the issue. By modifying relevant configuration settings, we have successfully resolved the problem and the similar exceptions are no longer occurring. Here's the explanation:</p>\n<p>As described in the original exception stack information, the <code>Read timed out</code> exception was occurring. The code that was throwing this exception is located in the <code>com.mysql.cj.jdbc.ConnectionImpl.isReadOnly</code> method. Here is the code snippet:</p>\n<pre><code>public boolean isReadOnly(boolean useSessionStatus) throws SQLException {\n        if (useSessionStatus &amp;&amp; !this.session.isClosed() &amp;&amp; versionMeetsMinimum(5, 6, 5) &amp;&amp; !this.useLocalSessionState.getValue()\n                &amp;&amp; this.readOnlyPropagatesToServer.getValue()) {\n            String s = this.session.queryServerVariable(\n                    versionMeetsMinimum(8, 0, 3) || (versionMeetsMinimum(5, 7, 20) &amp;&amp; !versionMeetsMinimum(8, 0, 0)) ? &quot;@@session.transaction_read_only&quot;\n                            : &quot;@@session.tx_read_only&quot;);\n            if (s != null) {\n                return Integer.parseInt(s) != 0; // mysql has a habit of tri+ state booleans\n            }\n        }\n\n        return this.readOnly;\n    }\n</code></pre>\n<p>The logic of this code snippet involves determining whether to set the session as read-only based on the MySQL version. This involves executing a large number of select @@session.tx_read_only statements to ensure the consistency of the current session.</p>\n<p>Solution: Since our service is designed as a read-only project and does not require consistency checks or data submission, we have made the following changes to the MySQL database connection configuration:\nAdded <code>useLocalSessionState=true</code> in the connection information.</p>\n<p>Removed the <code>auto-commit: true</code> configuration.\nWith the above modifications, our service has now returned to normal operation.</p>\n"}],"owner":{"account_id":25706678,"reputation":11,"user_id":19465850,"display_name":"HongmingZhao"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":151,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1691489730,"creation_date":1691133637,"question_id":76833741,"body_markdown":"The following error occurred while using Spring Boot with HikariCP to manage the MySQL connection pool:\r\n\r\n```\r\n2023-08-04 10:43:16.569 [xhx3-pool connection adder] ERROR c.z.h.p.HikariPool  498 createPoolEntry - xhx3-pool - Error thrown while acquiring connection from data source\r\ncom.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure\r\n \r\nThe last packet successfully received from the server was 5,008 milliseconds ago. The last packet sent successfully to the server was 5,008 milliseconds ago.\r\n    at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174) ~[mysql-connector-java-8.0.25.jar!/:8.0.25]\r\n    at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64) ~[mysql-connector-java-8.0.25.jar!/:8.0.25]\r\n    at com.mysql.cj.jdbc.ConnectionImpl.isReadOnly(ConnectionImpl.java:1419) ~[mysql-connector-java-8.0.25.jar!/:8.0.25]\r\n    at com.mysql.cj.jdbc.ConnectionImpl.isReadOnly(ConnectionImpl.java:1404) ~[mysql-connector-java-8.0.25.jar!/:8.0.25]\r\n    at com.zaxxer.hikari.pool.PoolBase.setupConnection(PoolBase.java:408) ~[HikariCP-4.0.3.jar!/:?]\r\n    at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:369) ~[HikariCP-4.0.3.jar!/:?]\r\n    at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206) ~[HikariCP-4.0.3.jar!/:?]\r\n    at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476) ~[HikariCP-4.0.3.jar!/:?]\r\n    at com.zaxxer.hikari.pool.HikariPool.access$100(HikariPool.java:71) ~[HikariCP-4.0.3.jar!/:?]\r\n    at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:726) ~[HikariCP-4.0.3.jar!/:?]\r\n    at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:712) ~[HikariCP-4.0.3.jar!/:?]\r\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266) ~[?:1.8.0_201]\r\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[?:1.8.0_201]\r\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[?:1.8.0_201]\r\n    at java.lang.Thread.run(Thread.java:748) ~[?:1.8.0_201]\r\nCaused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure\r\n \r\nThe last packet successfully received from the server was 5,008 milliseconds ago. The last packet sent successfully to the server was 5,008 milliseconds ago.\r\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_201]\r\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_201]\r\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_201]\r\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_201]\r\n    at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61) ~[mysql-connector-java-8.0.25.jar!/:8.0.25]\r\n    at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105) ~[mysql-connector-java-8.0.25.jar!/:8.0.25]\r\n    at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151) ~[mysql-connector-java-8.0.25.jar!/:8.0.25]\r\n    at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:167) ~[mysql-connector-java-8.0.25.jar!/:8.0.25]\r\n    at com.mysql.cj.protocol.a.NativeProtocol.readMessage(NativeProtocol.java:546) ~[mysql-connector-java-8.0.25.jar!/:8.0.25]\r\n    at com.mysql.cj.protocol.a.NativeProtocol.checkErrorMessage(NativeProtocol.java:710) ~[mysql-connector-java-8.0.25.jar!/:8.0.25]\r\n    at com.mysql.cj.protocol.a.NativeProtocol.sendCommand(NativeProtocol.java:649) ~[mysql-connector-java-8.0.25.jar!/:8.0.25]\r\n    at com.mysql.cj.protocol.a.NativeProtocol.sendCommand(NativeProtocol.java:136) ~[mysql-connector-java-8.0.25.jar!/:8.0.25]\r\n    at com.mysql.cj.NativeSession.sendCommand(NativeSession.java:311) ~[mysql-connector-java-8.0.25.jar!/:8.0.25]\r\n    at com.mysql.cj.NativeSession.queryServerVariable(NativeSession.java:1008) ~[mysql-connector-java-8.0.25.jar!/:8.0.25]\r\n    at com.mysql.cj.jdbc.ConnectionImpl.isReadOnly(ConnectionImpl.java:1411) ~[mysql-connector-java-8.0.25.jar!/:8.0.25]\r\n    ... 12 more\r\nCaused by: java.net.SocketTimeoutException: Read timed out\r\n    at java.net.SocketInputStream.socketRead0(Native Method) ~[?:1.8.0_201]\r\n    at java.net.SocketInputStream.socketRead(SocketInputStream.java:116) ~[?:1.8.0_201]\r\n    at java.net.SocketInputStream.read(SocketInputStream.java:171) ~[?:1.8.0_201]\r\n    at java.net.SocketInputStream.read(SocketInputStream.java:141) ~[?:1.8.0_201]\r\n    at com.mysql.cj.protocol.ReadAheadInputStream.fill(ReadAheadInputStream.java:107) ~[mysql-connector-java-8.0.25.jar!/:8.0.25]\r\n    at com.mysql.cj.protocol.ReadAheadInputStream.readFromUnderlyingStreamIfNecessary(ReadAheadInputStream.java:150) ~[mysql-connector-java-8.0.25.jar!/:8.0.25]\r\n    at com.mysql.cj.protocol.ReadAheadInputStream.read(ReadAheadInputStream.java:180) ~[mysql-connector-java-8.0.25.jar!/:8.0.25]\r\n    at java.io.FilterInputStream.read(FilterInputStream.java:133) ~[?:1.8.0_201]\r\n    at com.mysql.cj.protocol.FullReadInputStream.readFully(FullReadInputStream.java:64) ~[mysql-connector-java-8.0.25.jar!/:8.0.25]\r\n    at com.mysql.cj.protocol.a.SimplePacketReader.readHeader(SimplePacketReader.java:63) ~[mysql-connector-java-8.0.25.jar!/:8.0.25]\r\n    at com.mysql.cj.protocol.a.SimplePacketReader.readHeader(SimplePacketReader.java:45) ~[mysql-connector-java-8.0.25.jar!/:8.0.25]\r\n    at com.mysql.cj.protocol.a.TimeTrackingPacketReader.readHeader(TimeTrackingPacketReader.java:52) ~[mysql-connector-java-8.0.25.jar!/:8.0.25]\r\n    at com.mysql.cj.protocol.a.TimeTrackingPacketReader.readHeader(TimeTrackingPacketReader.java:41) ~[mysql-connector-java-8.0.25.jar!/:8.0.25]\r\n    at com.mysql.cj.protocol.a.MultiPacketReader.readHeader(MultiPacketReader.java:54) ~[mysql-connector-java-8.0.25.jar!/:8.0.25]\r\n    at com.mysql.cj.protocol.a.MultiPacketReader.readHeader(MultiPacketReader.java:44) ~[mysql-connector-java-8.0.25.jar!/:8.0.25]\r\n    at com.mysql.cj.protocol.a.NativeProtocol.readMessage(NativeProtocol.java:540) ~[mysql-connector-java-8.0.25.jar!/:8.0.25]\r\n    at com.mysql.cj.protocol.a.NativeProtocol.checkErrorMessage(NativeProtocol.java:710) ~[mysql-connector-java-8.0.25.jar!/:8.0.25]\r\n    at com.mysql.cj.protocol.a.NativeProtocol.sendCommand(NativeProtocol.java:649) ~[mysql-connector-java-8.0.25.jar!/:8.0.25]\r\n    at com.mysql.cj.protocol.a.NativeProtocol.sendCommand(NativeProtocol.java:136) ~[mysql-connector-java-8.0.25.jar!/:8.0.25]\r\n    at com.mysql.cj.NativeSession.sendCommand(NativeSession.java:311) ~[mysql-connector-java-8.0.25.jar!/:8.0.25]\r\n    at com.mysql.cj.NativeSession.queryServerVariable(NativeSession.java:1008) ~[mysql-connector-java-8.0.25.jar!/:8.0.25]\r\n    at com.mysql.cj.jdbc.ConnectionImpl.isReadOnly(ConnectionImpl.java:1411) ~[mysql-connector-java-8.0.25.jar!/:8.0.25]\r\n    ... 12 more\r\n```\r\n\r\nMy JAR package version is:\r\n`JDK1.8\r\nspringboot2.5.13\r\nhikaricp:4.0.3\r\nmysql-connector-java8.0.25\r\nmysql8.0.25-15`\r\n\r\nThe configuration of the Spring Boot service is as follows:\r\n\r\n```\r\nspring:\r\n  application:\r\n    name: XXXX\r\n  datasource:\r\n    xhx3:\r\n      url: jdbc:mysql://XXX:XXXX/ledger3_lns?zeroDateTimeBehavior=convertToNull&amp;useSSL=false&amp;autoReconnect=true&amp;characterEncoding=utf8\r\n      username: XXXX\r\n      password: XXXX\r\n      driver-class-name: com.mysql.cj.jdbc.Driver\r\n      type: com.zaxxer.hikari.HikariDataSource\r\n      hikari:\r\n        pool-name: xhx3-pool\r\n        minimum-idle: 30\r\n        maximum-pool-size: 30\r\n        idle-timeout: 360000\r\n        keepalive-time: 60000\r\n        max-lifetime: 540000\r\n        connection-timeout: 30000\r\n        auto-commit: true\r\n        read-only: true\r\n\r\n```\r\n\r\nThe configuration of the wait_timeout for the MySQL service is as follows:\r\n\r\n```\r\n+-------------------------------------+----------+\r\n| Variable_name                       | Value    |\r\n+-------------------------------------+----------+\r\n| connect_timeout                     | 10       |\r\n| delayed_insert_timeout              | 300      |\r\n| have_statement_timeout              | YES      |\r\n| innodb_flush_log_at_timeout         | 1        |\r\n| innodb_lock_wait_timeout            | 10       |\r\n| innodb_print_lock_wait_timeout_info | OFF      |\r\n| innodb_rollback_on_timeout          | ON       |\r\n| interactive_timeout                 | 600      |\r\n| lock_wait_timeout                   | 3600     |\r\n| mysqlx_connect_timeout              | 30       |\r\n| mysqlx_idle_worker_thread_timeout   | 60       |\r\n| mysqlx_interactive_timeout          | 28800    |\r\n| mysqlx_port_open_timeout            | 0        |\r\n| mysqlx_read_timeout                 | 30       |\r\n| mysqlx_wait_timeout                 | 28800    |\r\n| mysqlx_write_timeout                | 60       |\r\n| net_read_timeout                    | 30       |\r\n| net_write_timeout                   | 60       |\r\n| rpl_stop_slave_timeout              | 31536000 |\r\n| slave_net_timeout                   | 60       |\r\n| thread_pool_idle_timeout            | 60       |\r\n| wait_timeout                        | 600      |\r\n+-------------------------------------+----------+\r\n```\r\n\r\nThe above is my related question. Currently, the exception occurs once in an unpredictable manner. The program runs a batch task to query the database every morning. The QPS of the database is around 2000, and the batch SQL queries are all simple without any write operations. Also, the queries involve join operations, but they use indexes, and the join is performed with only one table. Could you please help me determine if the issue lies in my configuration or my SQL queries? Thank you.\r\n\r\n\r\nI tried modifying the configuration of HikariCP, including keepalive-time, max-lifetime, and idle-timeout, but the exception still occurs.","title":"springboot+hikaricp encounters Communications link failure","body":"<p>The following error occurred while using Spring Boot with HikariCP to manage the MySQL connection pool:</p>\n<pre><code>2023-08-04 10:43:16.569 [xhx3-pool connection adder] ERROR c.z.h.p.HikariPool  498 createPoolEntry - xhx3-pool - Error thrown while acquiring connection from data source\ncom.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure\n \nThe last packet successfully received from the server was 5,008 milliseconds ago. The last packet sent successfully to the server was 5,008 milliseconds ago.\n    at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174) ~[mysql-connector-java-8.0.25.jar!/:8.0.25]\n    at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64) ~[mysql-connector-java-8.0.25.jar!/:8.0.25]\n    at com.mysql.cj.jdbc.ConnectionImpl.isReadOnly(ConnectionImpl.java:1419) ~[mysql-connector-java-8.0.25.jar!/:8.0.25]\n    at com.mysql.cj.jdbc.ConnectionImpl.isReadOnly(ConnectionImpl.java:1404) ~[mysql-connector-java-8.0.25.jar!/:8.0.25]\n    at com.zaxxer.hikari.pool.PoolBase.setupConnection(PoolBase.java:408) ~[HikariCP-4.0.3.jar!/:?]\n    at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:369) ~[HikariCP-4.0.3.jar!/:?]\n    at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206) ~[HikariCP-4.0.3.jar!/:?]\n    at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476) ~[HikariCP-4.0.3.jar!/:?]\n    at com.zaxxer.hikari.pool.HikariPool.access$100(HikariPool.java:71) ~[HikariCP-4.0.3.jar!/:?]\n    at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:726) ~[HikariCP-4.0.3.jar!/:?]\n    at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:712) ~[HikariCP-4.0.3.jar!/:?]\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266) ~[?:1.8.0_201]\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[?:1.8.0_201]\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[?:1.8.0_201]\n    at java.lang.Thread.run(Thread.java:748) ~[?:1.8.0_201]\nCaused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure\n \nThe last packet successfully received from the server was 5,008 milliseconds ago. The last packet sent successfully to the server was 5,008 milliseconds ago.\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_201]\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_201]\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_201]\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_201]\n    at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61) ~[mysql-connector-java-8.0.25.jar!/:8.0.25]\n    at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105) ~[mysql-connector-java-8.0.25.jar!/:8.0.25]\n    at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151) ~[mysql-connector-java-8.0.25.jar!/:8.0.25]\n    at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:167) ~[mysql-connector-java-8.0.25.jar!/:8.0.25]\n    at com.mysql.cj.protocol.a.NativeProtocol.readMessage(NativeProtocol.java:546) ~[mysql-connector-java-8.0.25.jar!/:8.0.25]\n    at com.mysql.cj.protocol.a.NativeProtocol.checkErrorMessage(NativeProtocol.java:710) ~[mysql-connector-java-8.0.25.jar!/:8.0.25]\n    at com.mysql.cj.protocol.a.NativeProtocol.sendCommand(NativeProtocol.java:649) ~[mysql-connector-java-8.0.25.jar!/:8.0.25]\n    at com.mysql.cj.protocol.a.NativeProtocol.sendCommand(NativeProtocol.java:136) ~[mysql-connector-java-8.0.25.jar!/:8.0.25]\n    at com.mysql.cj.NativeSession.sendCommand(NativeSession.java:311) ~[mysql-connector-java-8.0.25.jar!/:8.0.25]\n    at com.mysql.cj.NativeSession.queryServerVariable(NativeSession.java:1008) ~[mysql-connector-java-8.0.25.jar!/:8.0.25]\n    at com.mysql.cj.jdbc.ConnectionImpl.isReadOnly(ConnectionImpl.java:1411) ~[mysql-connector-java-8.0.25.jar!/:8.0.25]\n    ... 12 more\nCaused by: java.net.SocketTimeoutException: Read timed out\n    at java.net.SocketInputStream.socketRead0(Native Method) ~[?:1.8.0_201]\n    at java.net.SocketInputStream.socketRead(SocketInputStream.java:116) ~[?:1.8.0_201]\n    at java.net.SocketInputStream.read(SocketInputStream.java:171) ~[?:1.8.0_201]\n    at java.net.SocketInputStream.read(SocketInputStream.java:141) ~[?:1.8.0_201]\n    at com.mysql.cj.protocol.ReadAheadInputStream.fill(ReadAheadInputStream.java:107) ~[mysql-connector-java-8.0.25.jar!/:8.0.25]\n    at com.mysql.cj.protocol.ReadAheadInputStream.readFromUnderlyingStreamIfNecessary(ReadAheadInputStream.java:150) ~[mysql-connector-java-8.0.25.jar!/:8.0.25]\n    at com.mysql.cj.protocol.ReadAheadInputStream.read(ReadAheadInputStream.java:180) ~[mysql-connector-java-8.0.25.jar!/:8.0.25]\n    at java.io.FilterInputStream.read(FilterInputStream.java:133) ~[?:1.8.0_201]\n    at com.mysql.cj.protocol.FullReadInputStream.readFully(FullReadInputStream.java:64) ~[mysql-connector-java-8.0.25.jar!/:8.0.25]\n    at com.mysql.cj.protocol.a.SimplePacketReader.readHeader(SimplePacketReader.java:63) ~[mysql-connector-java-8.0.25.jar!/:8.0.25]\n    at com.mysql.cj.protocol.a.SimplePacketReader.readHeader(SimplePacketReader.java:45) ~[mysql-connector-java-8.0.25.jar!/:8.0.25]\n    at com.mysql.cj.protocol.a.TimeTrackingPacketReader.readHeader(TimeTrackingPacketReader.java:52) ~[mysql-connector-java-8.0.25.jar!/:8.0.25]\n    at com.mysql.cj.protocol.a.TimeTrackingPacketReader.readHeader(TimeTrackingPacketReader.java:41) ~[mysql-connector-java-8.0.25.jar!/:8.0.25]\n    at com.mysql.cj.protocol.a.MultiPacketReader.readHeader(MultiPacketReader.java:54) ~[mysql-connector-java-8.0.25.jar!/:8.0.25]\n    at com.mysql.cj.protocol.a.MultiPacketReader.readHeader(MultiPacketReader.java:44) ~[mysql-connector-java-8.0.25.jar!/:8.0.25]\n    at com.mysql.cj.protocol.a.NativeProtocol.readMessage(NativeProtocol.java:540) ~[mysql-connector-java-8.0.25.jar!/:8.0.25]\n    at com.mysql.cj.protocol.a.NativeProtocol.checkErrorMessage(NativeProtocol.java:710) ~[mysql-connector-java-8.0.25.jar!/:8.0.25]\n    at com.mysql.cj.protocol.a.NativeProtocol.sendCommand(NativeProtocol.java:649) ~[mysql-connector-java-8.0.25.jar!/:8.0.25]\n    at com.mysql.cj.protocol.a.NativeProtocol.sendCommand(NativeProtocol.java:136) ~[mysql-connector-java-8.0.25.jar!/:8.0.25]\n    at com.mysql.cj.NativeSession.sendCommand(NativeSession.java:311) ~[mysql-connector-java-8.0.25.jar!/:8.0.25]\n    at com.mysql.cj.NativeSession.queryServerVariable(NativeSession.java:1008) ~[mysql-connector-java-8.0.25.jar!/:8.0.25]\n    at com.mysql.cj.jdbc.ConnectionImpl.isReadOnly(ConnectionImpl.java:1411) ~[mysql-connector-java-8.0.25.jar!/:8.0.25]\n    ... 12 more\n</code></pre>\n<p>My JAR package version is:\n<code>JDK1.8 springboot2.5.13 hikaricp:4.0.3 mysql-connector-java8.0.25 mysql8.0.25-15</code></p>\n<p>The configuration of the Spring Boot service is as follows:</p>\n<pre><code>spring:\n  application:\n    name: XXXX\n  datasource:\n    xhx3:\n      url: jdbc:mysql://XXX:XXXX/ledger3_lns?zeroDateTimeBehavior=convertToNull&amp;useSSL=false&amp;autoReconnect=true&amp;characterEncoding=utf8\n      username: XXXX\n      password: XXXX\n      driver-class-name: com.mysql.cj.jdbc.Driver\n      type: com.zaxxer.hikari.HikariDataSource\n      hikari:\n        pool-name: xhx3-pool\n        minimum-idle: 30\n        maximum-pool-size: 30\n        idle-timeout: 360000\n        keepalive-time: 60000\n        max-lifetime: 540000\n        connection-timeout: 30000\n        auto-commit: true\n        read-only: true\n\n</code></pre>\n<p>The configuration of the wait_timeout for the MySQL service is as follows:</p>\n<pre><code>+-------------------------------------+----------+\n| Variable_name                       | Value    |\n+-------------------------------------+----------+\n| connect_timeout                     | 10       |\n| delayed_insert_timeout              | 300      |\n| have_statement_timeout              | YES      |\n| innodb_flush_log_at_timeout         | 1        |\n| innodb_lock_wait_timeout            | 10       |\n| innodb_print_lock_wait_timeout_info | OFF      |\n| innodb_rollback_on_timeout          | ON       |\n| interactive_timeout                 | 600      |\n| lock_wait_timeout                   | 3600     |\n| mysqlx_connect_timeout              | 30       |\n| mysqlx_idle_worker_thread_timeout   | 60       |\n| mysqlx_interactive_timeout          | 28800    |\n| mysqlx_port_open_timeout            | 0        |\n| mysqlx_read_timeout                 | 30       |\n| mysqlx_wait_timeout                 | 28800    |\n| mysqlx_write_timeout                | 60       |\n| net_read_timeout                    | 30       |\n| net_write_timeout                   | 60       |\n| rpl_stop_slave_timeout              | 31536000 |\n| slave_net_timeout                   | 60       |\n| thread_pool_idle_timeout            | 60       |\n| wait_timeout                        | 600      |\n+-------------------------------------+----------+\n</code></pre>\n<p>The above is my related question. Currently, the exception occurs once in an unpredictable manner. The program runs a batch task to query the database every morning. The QPS of the database is around 2000, and the batch SQL queries are all simple without any write operations. Also, the queries involve join operations, but they use indexes, and the join is performed with only one table. Could you please help me determine if the issue lies in my configuration or my SQL queries? Thank you.</p>\n<p>I tried modifying the configuration of HikariCP, including keepalive-time, max-lifetime, and idle-timeout, but the exception still occurs.</p>\n"},{"tags":["java","maven-2","maven-3","pom.xml"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1409911767,"post_id":25682244,"comment_id":40139798,"body_markdown":"Can you show your pom file? Cause otherwise it&#39;s hard to understand what the problem might be.","body":"Can you show your pom file? Cause otherwise it&#39;s hard to understand what the problem might be."}],"answers":[{"comments":[{"owner":{"account_id":2436173,"reputation":5566,"user_id":2126023,"accept_rate":85,"display_name":"Saif Asif"},"score":10,"creation_date":1410171602,"post_id":25721993,"comment_id":40211628,"body_markdown":"+1 for self-help and sharing information from the developer from the plugin !","body":"+1 for self-help and sharing information from the developer from the plugin !"},{"owner":{"account_id":127944,"reputation":12148,"user_id":325452,"accept_rate":71,"display_name":"ingyhere"},"score":0,"creation_date":1578613552,"post_id":25721993,"comment_id":105505997,"body_markdown":"Changes made in Maven 3.5.0 to support CI friendly builds: https://maven.apache.org/maven-ci-friendly.html","body":"Changes made in Maven 3.5.0 to support CI friendly builds: <a href=\"https://maven.apache.org/maven-ci-friendly.html\" rel=\"nofollow noreferrer\">maven.apache.org/maven-ci-friendly.html</a>"}],"tags":[],"owner":{"account_id":2011599,"reputation":1408,"user_id":1799899,"accept_rate":66,"display_name":"HimanshuR"},"comment_count":2,"down_vote_count":0,"up_vote_count":17,"is_accepted":true,"score":17,"last_activity_date":1410171464,"creation_date":1410171464,"answer_id":25721993,"question_id":25682244,"body_markdown":"I mailed to developer of this plugin and his response is:\r\n \r\n\r\n&gt; The warning is coming from Maven, based on *the original* pom.xml\r\n&gt; Before Maven starts executing, a buildplan is created and the pom.xml\r\n&gt; is analyzed, causing this warning. The flatten-maven plugin kicks in\r\n&gt; later in the process generating the flattened pom.xml and making sure\r\n&gt; that&#39;s the file being installed/deployed. Your issue can&#39;t be fixed by\r\n&gt; the flatten-maven-plugin and won&#39;t be fixed in Maven Core (the warning\r\n&gt; is there for a good reason).\r\n\r\nSo, it answers the question very well.","title":"flattened pom is not being used?","body":"<p>I mailed to developer of this plugin and his response is:</p>\n\n<blockquote>\n  <p>The warning is coming from Maven, based on <em>the original</em> pom.xml\n  Before Maven starts executing, a buildplan is created and the pom.xml\n  is analyzed, causing this warning. The flatten-maven plugin kicks in\n  later in the process generating the flattened pom.xml and making sure\n  that's the file being installed/deployed. Your issue can't be fixed by\n  the flatten-maven-plugin and won't be fixed in Maven Core (the warning\n  is there for a good reason).</p>\n</blockquote>\n\n<p>So, it answers the question very well.</p>\n"},{"tags":[],"owner":{"account_id":1632626,"reputation":850,"user_id":1506881,"display_name":"J&#246;rg"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691489533,"creation_date":1691489533,"answer_id":76858559,"question_id":25682244,"body_markdown":"So when using a recent maven version, simply rename your property from `scl_version` to `revision` and the warning should go away.","title":"flattened pom is not being used?","body":"<p>So when using a recent maven version, simply rename your property from <code>scl_version</code> to <code>revision</code> and the warning should go away.</p>\n"}],"owner":{"account_id":2011599,"reputation":1408,"user_id":1799899,"accept_rate":66,"display_name":"HimanshuR"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15145,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":25721993,"answer_count":2,"score":9,"last_activity_date":1691489533,"creation_date":1409907926,"question_id":25682244,"body_markdown":"It is a multi-module maven project.  I have included flatten-maven-plugin in my parent pom\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n        &lt;artifactId&gt;flatten-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0.0-beta-2&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n        &lt;/configuration&gt;\r\n\r\ndefined a property scl_version in parent pom and used ${scl_version} in &lt;version&gt; of child pom. Value is **0.0.1** .\r\n\r\nwhen i run ***mvn flatten:flatten***\r\n\r\nIt generates a warning :\r\n[WARNING] &#39;version&#39; contains an expression but should be a constant. \r\n\r\nA flattened pom is created in all modules including parent and all the childs.\r\n\r\nFlattened pom has value of the property in ***version*** tag of child pom. But when i give, mvn install it still gives warning that version should be constant but it is an expression.\r\n\r\n[http://mojo.codehaus.org/flatten-maven-plugin/plugin-info.html][1]\r\n\r\nBut documentation says:\r\n\r\n&gt; This MOJO realizes the goal flatten that generates the flattened POM\r\n&gt; and potentially updates the POM file so that the current\r\n&gt; MavenProject&#39;s file points to the flattened POM instead of the\r\n&gt; original pom.xml file. The flattened POM is a reduced version of the\r\n&gt; original POM with the focus to contain only the important information\r\n&gt; for consuming it. Therefore information that is only required for\r\n&gt; maintenance by developers and to build the project artifact(s) are\r\n&gt; stripped.\r\n\r\nso when i do mvn install it should not generate warning.\r\n\r\nmvn install and mvn flatten:flatten both generates this warning:\r\n\r\n[WARNING] &#39;version&#39; contains an expression but should be a constant. \r\n\r\nAm i missing something, is it not using flattened-pom.xml.\r\nDo i need to specify something.\r\n\r\n\r\n  [1]: http://mojo.codehaus.org/flatten-maven-plugin/plugin-info.html\r\n\r\n\r\nPARENT POM:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;          xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;groupId&gt;org.a.b&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;ABC&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1&lt;/version&gt;\r\n\t&lt;packaging&gt;pom&lt;/packaging&gt;\r\n\t&lt;name&gt;ABC&lt;/name&gt;\r\n\t&lt;modules&gt;\r\n\t\t&lt;module&gt;Resources&lt;/module&gt;\r\n\t\t&lt;module&gt;ResourceTree&lt;/module&gt;\r\n\t\t&lt;module&gt;Service&lt;/module&gt;\r\n\t\t&lt;module&gt;Transport&lt;/module&gt;\r\n    &lt;module&gt;Branding&lt;/module&gt;\r\n   &lt;/modules&gt;\r\n\r\nproperties tag starts here \r\n\r\n\r\n\t&lt;scl_version&gt;0.0.1&lt;/scl_version&gt;\r\n\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\t&lt;maven-compiler-plugin.version&gt;3.1&lt;/maven-compiler-plugin.version&gt;\r\n\t&lt;karaf.deploy.build.folder&gt;${env.KARAF_BASE}/deploy&lt;/karaf.deploy.build.folder&gt;\r\n \r\nproperty tag ends here\r\n\r\n\t&lt;profiles&gt;\r\n\t\t&lt;profile&gt;\r\n\t\t\t&lt;id&gt;code_coverage&lt;/id&gt;\r\n\t\t\t&lt;build&gt;\r\n\t\t\t\t&lt;plugins&gt;\r\n\t\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;version&gt;${maven-compiler-plugin.version}&lt;/version&gt;\r\n\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t&lt;source&gt;1.7&lt;/source&gt;\r\n\t\t\t\t\t\t\t&lt;target&gt;1.7&lt;/target&gt;\r\n\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t\t&lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n\t\t\t\t\t\t&lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;version&gt;0.7.0.201403182114&lt;/version&gt;\r\n\t\t\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t\t\t&lt;id&gt;default-instrument&lt;/id&gt;\r\n\t\t\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;goal&gt;instrument&lt;/goal&gt;\r\n\t\t\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t\t\t&lt;/executions&gt;\r\n\t\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;version&gt;2.12.2&lt;/version&gt;\r\n\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t&lt;systemPropertyVariables&gt;\r\n\t\t\t\t\t\t\t\t&lt;jacoco-agent.destfile&gt;target/jacoco.exec&lt;/jacoco-agent.destfile&gt;\r\n\t\t\t\t\t\t\t&lt;/systemPropertyVariables&gt;\r\n\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t\t&lt;/plugins&gt;\r\n\t\t\t&lt;/build&gt;\r\n\t\t&lt;/profile&gt;\r\n\t&lt;/profiles&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t&lt;plugin&gt;\r\n        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n        &lt;artifactId&gt;flatten-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0.0-beta-2&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n\t\t&lt;flattenMode&gt;ossrh&lt;/flattenMode&gt;\r\n\t\t&lt;updatePomFile&gt;true&lt;/updatePomFile&gt;\r\n        &lt;/configuration&gt;\r\n        &lt;executions&gt;\r\n          &lt;!-- enable flattening --&gt;\r\n          &lt;execution&gt;\r\n            &lt;id&gt;flatten&lt;/id&gt;\r\n            &lt;phase&gt;process-resources&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;flatten&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n          &lt;/execution&gt;\r\n          &lt;!-- ensure proper cleanup --&gt;\r\n          &lt;execution&gt;\r\n            &lt;id&gt;flatten.clean&lt;/id&gt;\r\n            &lt;phase&gt;clean&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;clean&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n\t\t\r\n\t\t\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${maven-compiler-plugin.version}&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;source&gt;1.7&lt;/source&gt;\r\n\t\t\t\t\t&lt;target&gt;1.7&lt;/target&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.11&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;org.jacoco.agent&lt;/artifactId&gt;\r\n\t\t\t&lt;classifier&gt;runtime&lt;/classifier&gt;\r\n\t\t\t&lt;version&gt;0.7.0.201403182114&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n    &lt;/project&gt;\r\n\r\ngenerated flattened pom:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot; xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n      &lt;groupId&gt;org.a.b&lt;/groupId&gt;\r\n      &lt;artifactId&gt;ABC&lt;/artifactId&gt;\r\n      &lt;version&gt;0.0.1&lt;/version&gt;\r\n      &lt;packaging&gt;pom&lt;/packaging&gt;\r\n      &lt;name&gt;ABC&lt;/name&gt;\r\n      &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;junit&lt;/groupId&gt;\r\n          &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n          &lt;version&gt;4.11&lt;/version&gt;\r\n          &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n      &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n          &lt;snapshots&gt;\r\n            &lt;enabled&gt;false&lt;/enabled&gt;\r\n          &lt;/snapshots&gt;\r\n          &lt;id&gt;central&lt;/id&gt;\r\n          &lt;name&gt;Maven Repository Switchboard&lt;/name&gt;\r\n          &lt;url&gt;http://repo1.maven.org/maven2&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n      &lt;/repositories&gt;\r\n    &lt;/project&gt;\r\n\r\nproperty is used in grand grand child pom ( for trail, if successfull without warning, i can iuse it everywhere):\r\n\r\n\r\n    &lt;groupId&gt;org.a.b&lt;/groupId&gt;\r\n    &lt;artifactId&gt;CD&lt;artifactId&gt;\r\n    &lt;version&gt;${scl_version}&lt;/version&gt;\r\n    &lt;packaging&gt;bundle&lt;/packaging&gt;\r\n    \r\n    &lt;name&gt;CD&lt;/name&gt;\r\n    &lt;description&gt;OSGi bundle project.&lt;/description&gt;\r\n\r\nApart from this, it has bundle plugin dependency plugin and some dependencies. In flattened pom ofthis child this version is resolved to 0.0.1","title":"flattened pom is not being used?","body":"<p>It is a multi-module maven project.  I have included flatten-maven-plugin in my parent pom</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n    &lt;artifactId&gt;flatten-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0-beta-2&lt;/version&gt;\n    &lt;configuration&gt;\n    &lt;/configuration&gt;\n</code></pre>\n\n<p>defined a property scl_version in parent pom and used ${scl_version} in  of child pom. Value is <strong>0.0.1</strong> .</p>\n\n<p>when i run <strong><em>mvn flatten:flatten</em></strong></p>\n\n<p>It generates a warning :\n[WARNING] 'version' contains an expression but should be a constant. </p>\n\n<p>A flattened pom is created in all modules including parent and all the childs.</p>\n\n<p>Flattened pom has value of the property in <strong><em>version</em></strong> tag of child pom. But when i give, mvn install it still gives warning that version should be constant but it is an expression.</p>\n\n<p><a href=\"http://mojo.codehaus.org/flatten-maven-plugin/plugin-info.html\" rel=\"noreferrer\">http://mojo.codehaus.org/flatten-maven-plugin/plugin-info.html</a></p>\n\n<p>But documentation says:</p>\n\n<blockquote>\n  <p>This MOJO realizes the goal flatten that generates the flattened POM\n  and potentially updates the POM file so that the current\n  MavenProject's file points to the flattened POM instead of the\n  original pom.xml file. The flattened POM is a reduced version of the\n  original POM with the focus to contain only the important information\n  for consuming it. Therefore information that is only required for\n  maintenance by developers and to build the project artifact(s) are\n  stripped.</p>\n</blockquote>\n\n<p>so when i do mvn install it should not generate warning.</p>\n\n<p>mvn install and mvn flatten:flatten both generates this warning:</p>\n\n<p>[WARNING] 'version' contains an expression but should be a constant. </p>\n\n<p>Am i missing something, is it not using flattened-pom.xml.\nDo i need to specify something.</p>\n\n<p>PARENT POM:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\"          xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;groupId&gt;org.a.b&lt;/groupId&gt;\n&lt;artifactId&gt;ABC&lt;/artifactId&gt;\n&lt;version&gt;0.0.1&lt;/version&gt;\n&lt;packaging&gt;pom&lt;/packaging&gt;\n&lt;name&gt;ABC&lt;/name&gt;\n&lt;modules&gt;\n    &lt;module&gt;Resources&lt;/module&gt;\n    &lt;module&gt;ResourceTree&lt;/module&gt;\n    &lt;module&gt;Service&lt;/module&gt;\n    &lt;module&gt;Transport&lt;/module&gt;\n&lt;module&gt;Branding&lt;/module&gt;\n</code></pre>\n\n<p></p>\n\n<p>properties tag starts here </p>\n\n<pre><code>&lt;scl_version&gt;0.0.1&lt;/scl_version&gt;\n&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n&lt;maven-compiler-plugin.version&gt;3.1&lt;/maven-compiler-plugin.version&gt;\n&lt;karaf.deploy.build.folder&gt;${env.KARAF_BASE}/deploy&lt;/karaf.deploy.build.folder&gt;\n</code></pre>\n\n<p>property tag ends here</p>\n\n<pre><code>&lt;profiles&gt;\n    &lt;profile&gt;\n        &lt;id&gt;code_coverage&lt;/id&gt;\n        &lt;build&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;${maven-compiler-plugin.version}&lt;/version&gt;\n                    &lt;configuration&gt;\n                        &lt;source&gt;1.7&lt;/source&gt;\n                        &lt;target&gt;1.7&lt;/target&gt;\n                    &lt;/configuration&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n                    &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;0.7.0.201403182114&lt;/version&gt;\n                    &lt;executions&gt;\n                        &lt;execution&gt;\n                            &lt;id&gt;default-instrument&lt;/id&gt;\n                            &lt;goals&gt;\n                                &lt;goal&gt;instrument&lt;/goal&gt;\n                            &lt;/goals&gt;\n                        &lt;/execution&gt;\n                    &lt;/executions&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;2.12.2&lt;/version&gt;\n                    &lt;configuration&gt;\n                        &lt;systemPropertyVariables&gt;\n                            &lt;jacoco-agent.destfile&gt;target/jacoco.exec&lt;/jacoco-agent.destfile&gt;\n                        &lt;/systemPropertyVariables&gt;\n                    &lt;/configuration&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/build&gt;\n    &lt;/profile&gt;\n&lt;/profiles&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n    &lt;plugin&gt;\n    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n    &lt;artifactId&gt;flatten-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0-beta-2&lt;/version&gt;\n    &lt;configuration&gt;\n    &lt;flattenMode&gt;ossrh&lt;/flattenMode&gt;\n    &lt;updatePomFile&gt;true&lt;/updatePomFile&gt;\n    &lt;/configuration&gt;\n    &lt;executions&gt;\n      &lt;!-- enable flattening --&gt;\n      &lt;execution&gt;\n        &lt;id&gt;flatten&lt;/id&gt;\n        &lt;phase&gt;process-resources&lt;/phase&gt;\n        &lt;goals&gt;\n          &lt;goal&gt;flatten&lt;/goal&gt;\n        &lt;/goals&gt;\n      &lt;/execution&gt;\n      &lt;!-- ensure proper cleanup --&gt;\n      &lt;execution&gt;\n        &lt;id&gt;flatten.clean&lt;/id&gt;\n        &lt;phase&gt;clean&lt;/phase&gt;\n        &lt;goals&gt;\n          &lt;goal&gt;clean&lt;/goal&gt;\n        &lt;/goals&gt;\n      &lt;/execution&gt;\n    &lt;/executions&gt;\n  &lt;/plugin&gt;\n\n\n        &lt;plugin&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${maven-compiler-plugin.version}&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;1.7&lt;/source&gt;\n                &lt;target&gt;1.7&lt;/target&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;junit&lt;/groupId&gt;\n        &lt;artifactId&gt;junit&lt;/artifactId&gt;\n        &lt;version&gt;4.11&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n        &lt;artifactId&gt;org.jacoco.agent&lt;/artifactId&gt;\n        &lt;classifier&gt;runtime&lt;/classifier&gt;\n        &lt;version&gt;0.7.0.201403182114&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>generated flattened pom:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\" xmlns=\"http://maven.apache.org/POM/4.0.0\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;org.a.b&lt;/groupId&gt;\n  &lt;artifactId&gt;ABC&lt;/artifactId&gt;\n  &lt;version&gt;0.0.1&lt;/version&gt;\n  &lt;packaging&gt;pom&lt;/packaging&gt;\n  &lt;name&gt;ABC&lt;/name&gt;\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;4.11&lt;/version&gt;\n      &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n  &lt;repositories&gt;\n    &lt;repository&gt;\n      &lt;snapshots&gt;\n        &lt;enabled&gt;false&lt;/enabled&gt;\n      &lt;/snapshots&gt;\n      &lt;id&gt;central&lt;/id&gt;\n      &lt;name&gt;Maven Repository Switchboard&lt;/name&gt;\n      &lt;url&gt;http://repo1.maven.org/maven2&lt;/url&gt;\n    &lt;/repository&gt;\n  &lt;/repositories&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>property is used in grand grand child pom ( for trail, if successfull without warning, i can iuse it everywhere):</p>\n\n<pre><code>&lt;groupId&gt;org.a.b&lt;/groupId&gt;\n&lt;artifactId&gt;CD&lt;artifactId&gt;\n&lt;version&gt;${scl_version}&lt;/version&gt;\n&lt;packaging&gt;bundle&lt;/packaging&gt;\n\n&lt;name&gt;CD&lt;/name&gt;\n&lt;description&gt;OSGi bundle project.&lt;/description&gt;\n</code></pre>\n\n<p>Apart from this, it has bundle plugin dependency plugin and some dependencies. In flattened pom ofthis child this version is resolved to 0.0.1</p>\n"},{"tags":["java","mongodb","spring-boot"],"owner":{"account_id":6269836,"reputation":532,"user_id":4874390,"accept_rate":12,"display_name":"Maciej"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1691488947,"creation_date":1691488947,"question_id":76858481,"body_markdown":"Since migrating to AWS we started to experience strange issues having broken pipe randomly\r\n\r\nIt seems that by default spring data mongodb creates two connections in the pool but most of the time uses only one and performs health-check only for that one. \r\nAWS&#39;s load balancer closes the second connection after 10 minutes of inactivity without notifying the server. Once in a while server tries to use the second connection but it&#39;s closed so the exception is thrown.\r\nAs a temporary workaround I added \r\n\r\n    .applyToConnectionPoolSettings(builder -&gt; {\r\n                    builder.maxConnectionIdleTime(9, MINUTES);\r\n                })\r\n\r\nso we &quot;refresh&quot; the second connections ourselves but I would like to have a better solution so here are two qestions:\r\n\r\n - is there a way to enforce spring to use other connections more often?\r\n - is there a way to add heartbeat to all connections in the pool","title":"Mongo pool connection AWS issue","body":"<p>Since migrating to AWS we started to experience strange issues having broken pipe randomly</p>\n<p>It seems that by default spring data mongodb creates two connections in the pool but most of the time uses only one and performs health-check only for that one.\nAWS's load balancer closes the second connection after 10 minutes of inactivity without notifying the server. Once in a while server tries to use the second connection but it's closed so the exception is thrown.\nAs a temporary workaround I added</p>\n<pre><code>.applyToConnectionPoolSettings(builder -&gt; {\n                builder.maxConnectionIdleTime(9, MINUTES);\n            })\n</code></pre>\n<p>so we &quot;refresh&quot; the second connections ourselves but I would like to have a better solution so here are two qestions:</p>\n<ul>\n<li>is there a way to enforce spring to use other connections more often?</li>\n<li>is there a way to add heartbeat to all connections in the pool</li>\n</ul>\n"},{"tags":["java","windows","properties","system","locale"],"answers":[{"comments":[{"owner":{"account_id":108858,"reputation":533,"user_id":288760,"accept_rate":70,"display_name":"Sudhir"},"score":0,"creation_date":1268914727,"post_id":2469607,"comment_id":2459720,"body_markdown":"Sorry, i forgot to mention that, i changed my language setting to &quot;french&quot; through control panel-&gt;regional and language options. and when i ran above code it gives correct (changed) locale as &quot;fr&quot; but when i run &quot;systeminfo&quot; it still displays &quot;en-US&quot; as System and Input Locale.","body":"Sorry, i forgot to mention that, i changed my language setting to &quot;french&quot; through control panel-&gt;regional and language options. and when i ran above code it gives correct (changed) locale as &quot;fr&quot; but when i run &quot;systeminfo&quot; it still displays &quot;en-US&quot; as System and Input Locale."},{"owner":{"account_id":108858,"reputation":533,"user_id":288760,"accept_rate":70,"display_name":"Sudhir"},"score":0,"creation_date":1268915034,"post_id":2469607,"comment_id":2459760,"body_markdown":"So my question is, \n\nIs that because of difference between &quot;user locale&quot; and &quot;system locale&quot;, and what we change through control panel is &quot;user locale&quot; and not the &quot;system locale&quot;, and above code returns &quot;user locale&quot;?\n\nthen what is the method to get the &quot;system locale&quot;?","body":"So my question is,   Is that because of difference between &quot;user locale&quot; and &quot;system locale&quot;, and what we change through control panel is &quot;user locale&quot; and not the &quot;system locale&quot;, and above code returns &quot;user locale&quot;?  then what is the method to get the &quot;system locale&quot;?"}],"tags":[],"owner":{"account_id":77142,"reputation":9356,"user_id":220381,"accept_rate":75,"display_name":"Ash"},"comment_count":2,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1268913851,"creation_date":1268913851,"answer_id":2469607,"question_id":2469435,"body_markdown":"How about using the default locale?\r\n\r\n    Locale locale = Locale.getDefault();\r\n    String lang = locale.getDisplayLanguage();\r\n    String country = locale.getDisplayCountry();\r\n    \r\nThis returns me my current language and country as per the Windows `systeminfo` command. Is this what you&#39;re looking for? (If you want the 2-character codes for language/country, you can just use `getLanguage()` or `getCountry()`).","title":"how to detect operating system language (locale) from java code","body":"<p>How about using the default locale?</p>\n\n<pre><code>Locale locale = Locale.getDefault();\nString lang = locale.getDisplayLanguage();\nString country = locale.getDisplayCountry();\n</code></pre>\n\n<p>This returns me my current language and country as per the Windows <code>systeminfo</code> command. Is this what you're looking for? (If you want the 2-character codes for language/country, you can just use <code>getLanguage()</code> or <code>getCountry()</code>).</p>\n"},{"comments":[{"owner":{"account_id":108858,"reputation":533,"user_id":288760,"accept_rate":70,"display_name":"Sudhir"},"score":0,"creation_date":1268914695,"post_id":2469609,"comment_id":2459711,"body_markdown":"Sorry, i forgot to mention that, i changed my language setting to &quot;french&quot; through control panel-&gt;regional and language options.\n\nand when i ran above code it gives correct (changed) locale as &quot;fr&quot; but when i run &quot;systeminfo&quot; it still displays &quot;en-US&quot; as System and Input Locale.","body":"Sorry, i forgot to mention that, i changed my language setting to &quot;french&quot; through control panel-&gt;regional and language options.  and when i ran above code it gives correct (changed) locale as &quot;fr&quot; but when i run &quot;systeminfo&quot; it still displays &quot;en-US&quot; as System and Input Locale."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1268915270,"post_id":2469609,"comment_id":2459791,"body_markdown":"You may need to close your command prompt and open it again.  As with many things Windows, it is not entirely clear where &quot;systeminfo&quot; is getting the information that it is displaying.","body":"You may need to close your command prompt and open it again.  As with many things Windows, it is not entirely clear where &quot;systeminfo&quot; is getting the information that it is displaying."},{"owner":{"account_id":2532469,"reputation":1389,"user_id":2656234,"accept_rate":85,"display_name":"Vlad Ilie"},"score":0,"creation_date":1444899691,"post_id":2469609,"comment_id":54098079,"body_markdown":"how to make sure that Java gets started with the system locale?","body":"how to make sure that Java gets started with the system locale?"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1449575842,"post_id":2469609,"comment_id":56057345,"body_markdown":"@VladIlie - AFAIK, you can&#39;t.","body":"@VladIlie - AFAIK, you can&#39;t."}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":4,"down_vote_count":0,"up_vote_count":37,"is_accepted":true,"score":37,"last_activity_date":1376267627,"creation_date":1268913872,"answer_id":2469609,"question_id":2469435,"body_markdown":"The Windows XP `systeminfo` command displays lots of stuff, but the relevant information is this:\r\n\r\n    System Locale:             en-us;English (United States)\r\n    Input Locale:              en-us;English (United States)\r\n\r\nTo get equivalent information in Java, use `Locale.getDefault()` to get the Locale that Java is using, and use methods on the Locale object such as [`getCountry()`][1], [`getLanguage()`][2] to get details.  The information is available using ISO codes and as human readable/displayable names.\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/util/Locale.html#getCountry()\r\n  [2]: http://java.sun.com/javase/6/docs/api/java/util/Locale.html#getLanguage()\r\n\r\nNote that `Locale.getDefault()` gives you the locale that Java picks up from the environment when it starts, this may or may not be the same as the &quot;system&quot; locale.  To definitively get the &quot;system&quot; locale in Java you would need to do platform specific things.  IMO, it is simpler to make sure that Java gets started with the system locale ... if you really need that information.\r\n\r\n-----------------\r\n\r\n**UPDATE:**  Apparently, Java 7 has changed the way that the locale information used by `getDefault()` is determined on Windows; see https://stackoverflow.com/a/8319889/139985","title":"how to detect operating system language (locale) from java code","body":"<p>The Windows XP <code>systeminfo</code> command displays lots of stuff, but the relevant information is this:</p>\n\n<pre><code>System Locale:             en-us;English (United States)\nInput Locale:              en-us;English (United States)\n</code></pre>\n\n<p>To get equivalent information in Java, use <code>Locale.getDefault()</code> to get the Locale that Java is using, and use methods on the Locale object such as <a href=\"http://java.sun.com/javase/6/docs/api/java/util/Locale.html#getCountry()\" rel=\"noreferrer\"><code>getCountry()</code></a>, <a href=\"http://java.sun.com/javase/6/docs/api/java/util/Locale.html#getLanguage()\" rel=\"noreferrer\"><code>getLanguage()</code></a> to get details.  The information is available using ISO codes and as human readable/displayable names.</p>\n\n<p>Note that <code>Locale.getDefault()</code> gives you the locale that Java picks up from the environment when it starts, this may or may not be the same as the \"system\" locale.  To definitively get the \"system\" locale in Java you would need to do platform specific things.  IMO, it is simpler to make sure that Java gets started with the system locale ... if you really need that information.</p>\n\n<hr>\n\n<p><strong>UPDATE:</strong>  Apparently, Java 7 has changed the way that the locale information used by <code>getDefault()</code> is determined on Windows; see <a href=\"https://stackoverflow.com/a/8319889/139985\">https://stackoverflow.com/a/8319889/139985</a></p>\n"},{"comments":[{"owner":{"account_id":63479,"reputation":5810,"user_id":187883,"accept_rate":100,"display_name":"NateS"},"score":0,"creation_date":1449574224,"post_id":2469658,"comment_id":56056238,"body_markdown":"How does this compare to Locale.getDefault()?","body":"How does this compare to Locale.getDefault()?"}],"tags":[],"owner":{"account_id":17450,"reputation":12197,"user_id":39062,"accept_rate":100,"display_name":"Markus Lausberg"},"comment_count":1,"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1268914698,"creation_date":1268914320,"answer_id":2469658,"question_id":2469435,"body_markdown":"What about \n\n    System.getProperty(&quot;user.country&quot;); \n    System.getProperty(&quot;user.language&quot;);\n\nReturns in my case\n\n&gt; user.country=DE\n&gt;\n&gt; user.language=de\n\nYou easily can generate the locale from this information. Local is &#39;language&#39;_&#39;country&#39; so in my case\nde_DE","title":"how to detect operating system language (locale) from java code","body":"<p>What about</p>\n<pre><code>System.getProperty(&quot;user.country&quot;); \nSystem.getProperty(&quot;user.language&quot;);\n</code></pre>\n<p>Returns in my case</p>\n<blockquote>\n<p>user.country=DE</p>\n<p>user.language=de</p>\n</blockquote>\n<p>You easily can generate the locale from this information. Local is 'language'_'country' so in my case\nde_DE</p>\n"},{"tags":[],"owner":{"account_id":4739423,"reputation":31,"user_id":3832737,"display_name":"Chinmoy"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1405185716,"creation_date":1405184361,"answer_id":24715283,"question_id":2469435,"body_markdown":"To be precise, you can try following code:\r\n\r\n\tpublic Locale getLocale() {\r\n\t\tif (this.locale == null) {\r\n\t\t\tthis.locale = new Locale(System.getProperty(&quot;user.language&quot;), System.getProperty(&quot;user.country&quot;));\r\n\t\t}\r\n\t\treturn this.locale;\r\n\t}","title":"how to detect operating system language (locale) from java code","body":"<p>To be precise, you can try following code:</p>\n\n<pre><code>public Locale getLocale() {\n    if (this.locale == null) {\n        this.locale = new Locale(System.getProperty(\"user.language\"), System.getProperty(\"user.country\"));\n    }\n    return this.locale;\n}\n</code></pre>\n"}],"owner":{"account_id":108858,"reputation":533,"user_id":288760,"accept_rate":70,"display_name":"Sudhir"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":117355,"favorite_count":0,"down_vote_count":0,"up_vote_count":34,"accepted_answer_id":2469609,"answer_count":4,"score":34,"last_activity_date":1691488938,"creation_date":1268912045,"question_id":2469435,"body_markdown":"What is the correct way of knowing operating system language (locale) from java code?\r\n\r\nI have tried \r\n\r\n    Locale.getDefault()\r\n    System.getProperties(&quot;user.language&quot;)\r\n\r\nbut they are not correct nothing actually displays the &quot;System Locale&quot; which is available by the command &quot;systeminfo&quot; in windows. \r\n","title":"how to detect operating system language (locale) from java code","body":"<p>What is the correct way of knowing operating system language (locale) from java code?</p>\n<p>I have tried</p>\n<pre><code>Locale.getDefault()\nSystem.getProperties(&quot;user.language&quot;)\n</code></pre>\n<p>but they are not correct nothing actually displays the &quot;System Locale&quot; which is available by the command &quot;systeminfo&quot; in windows.</p>\n"},{"tags":["java","android","fragment","imagebutton"],"owner":{"account_id":21281043,"reputation":11,"user_id":15659470,"display_name":"Sindano"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691488933,"creation_date":1691488933,"question_id":76858479,"body_markdown":"I&#39;m struggling to resize 2 buttons in my fragment which I created in the java file.\r\n\r\nMy Code:\r\n\r\n    protected Option[] options = {\r\n            //new Option(),\r\n            new Option(R.drawable.male_transparent, R.drawable.male_blue, &quot;male&quot;),\r\n            new Option(R.drawable.female_transparent, R.drawable.female_blue, &quot;female&quot;)\r\n\r\n    };\r\n\r\n    protected Context context;\r\n\r\n    protected PrefManager prefManager;\r\n\r\n    public Question question;\r\n\r\n    private boolean isAnswered = false;\r\n\r\n    public Question1Fragment(){\r\n        question = new Question(1, &quot;gender&quot;);\r\n    }\r\n\r\n\r\n    @Override\r\n    public void onAttach(@NonNull Context context) {\r\n        super.onAttach(context);\r\n        this.context = context;\r\n        prefManager = new PrefManager(context);\r\n    }\r\n\r\n    @Nullable\r\n    @Override\r\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\r\n        View view = inflater.inflate(layoutSrc, container, false);\r\n\r\n        \r\n    }\r\n\r\n I&#39;m not sure if the resizing is defined in OnCreate method?","title":"how to resize a button programmatically in a fragment","body":"<p>I'm struggling to resize 2 buttons in my fragment which I created in the java file.</p>\n<p>My Code:</p>\n<pre><code>protected Option[] options = {\n        //new Option(),\n        new Option(R.drawable.male_transparent, R.drawable.male_blue, &quot;male&quot;),\n        new Option(R.drawable.female_transparent, R.drawable.female_blue, &quot;female&quot;)\n\n};\n\nprotected Context context;\n\nprotected PrefManager prefManager;\n\npublic Question question;\n\nprivate boolean isAnswered = false;\n\npublic Question1Fragment(){\n    question = new Question(1, &quot;gender&quot;);\n}\n\n\n@Override\npublic void onAttach(@NonNull Context context) {\n    super.onAttach(context);\n    this.context = context;\n    prefManager = new PrefManager(context);\n}\n\n@Nullable\n@Override\npublic View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\n    View view = inflater.inflate(layoutSrc, container, false);\n\n    \n}\n</code></pre>\n<p>I'm not sure if the resizing is defined in OnCreate method?</p>\n"},{"tags":["java","spring","rest"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":2,"creation_date":1691485978,"post_id":76858051,"comment_id":135494731,"body_markdown":"Spring pulls in a ton of transitive dependencies. One of them is a JSON serializer. I think it&#39;s Jackson by default.","body":"Spring pulls in a ton of transitive dependencies. One of them is a JSON serializer. I think it&#39;s Jackson by default."},{"owner":{"account_id":7373320,"reputation":17364,"user_id":5612858,"display_name":"Arnaud"},"score":0,"creation_date":1691486180,"post_id":76858051,"comment_id":135494777,"body_markdown":"Chances are that the numerous dependencies of &quot;spring-webmvc&quot;, include some JSON stuff, e.g the jackson dependencies . Try to display the full dependency tree of your project.","body":"Chances are that the numerous dependencies of &quot;spring-webmvc&quot;, include some JSON stuff, e.g the jackson dependencies . Try to display the full dependency tree of your project."}],"answers":[{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1691488600,"creation_date":1691488600,"answer_id":76858440,"question_id":76858051,"body_markdown":"Spring itself has some dependencies. And when you send Json as an input to your Controller Spring will attempt to convert your Json into instance of a class that is a parameter of your method in your controller that is behind that particular API. The same with return type - Spring will serialize your instance of a class that you return into JSON. Spring uses Json-Jackson library as default, but you can configure it to any other libraries. The most popular JSON libraries are [Jackson][1] (or also known as Faster XML) and [GSON][2]\r\n\r\n\r\n  [1]: https://github.com/FasterXML/jackson\r\n  [2]: https://github.com/google/gson","title":"How does Spring automatically converts Java Objects and Array Lists into JSON automatically?","body":"<p>Spring itself has some dependencies. And when you send Json as an input to your Controller Spring will attempt to convert your Json into instance of a class that is a parameter of your method in your controller that is behind that particular API. The same with return type - Spring will serialize your instance of a class that you return into JSON. Spring uses Json-Jackson library as default, but you can configure it to any other libraries. The most popular JSON libraries are <a href=\"https://github.com/FasterXML/jackson\" rel=\"nofollow noreferrer\">Jackson</a> (or also known as Faster XML) and <a href=\"https://github.com/google/gson\" rel=\"nofollow noreferrer\">GSON</a></p>\n"}],"owner":{"account_id":25406848,"reputation":5,"user_id":19215399,"display_name":"Damian Peiris."},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76858440,"answer_count":1,"score":0,"last_activity_date":1691488600,"creation_date":1691485681,"question_id":76858051,"body_markdown":"I&#39;m wondering how does Spring automatically converts Java objects and ArrayLists automatically to JSON without any dependencies. (My project does not have any libraries  like GSON.)The below code returns a JSON arraylist!\r\n\r\n```\r\npackage com.damian.springwebmvc.controllers;\r\n\r\nimport com.damian.springwebmvc.dto.Customer_DTO;\r\n\r\nimport org.springframework.http.MediaType;\r\nimport org.springframework.web.bind.annotation.*;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\n@RestController\r\n@RequestMapping(&quot;/json&quot;)\r\npublic class JSONHandler {\r\n    public JSONHandler() {\r\n        System.out.println(&quot;JSONHandler instantiated via constructor!&quot;);\r\n    }\r\n\r\n   \r\n\r\n    @GetMapping\r\n    public List&lt;Customer_DTO&gt; getJSON() {\r\n        ArrayList&lt;Customer_DTO&gt; customer_dtos = new ArrayList&lt;&gt;();\r\n        customer_dtos.add(new Customer_DTO(&quot;THIS IS A RESPONSE&quot;, &quot;THIS IS A RESPONSE.&quot;, &quot;THIS IS A RESPONSE.&quot;, 0.0));\r\n        customer_dtos.add(new Customer_DTO(&quot;THIS IS A RESPONSE&quot;, &quot;THIS IS A RESPONSE.&quot;, &quot;THIS IS A RESPONSE.&quot;, 0.0));\r\n        customer_dtos.add(new Customer_DTO(&quot;THIS IS A RESPONSE&quot;, &quot;THIS IS A RESPONSE.&quot;, &quot;THIS IS A RESPONSE.&quot;, 0.0));\r\n        customer_dtos.add(new Customer_DTO(&quot;THIS IS A RESPONSE&quot;, &quot;THIS IS A RESPONSE.&quot;, &quot;THIS IS A RESPONSE.&quot;, 0.0));\r\n        return customer_dtos;\r\n    }\r\n}\r\n```\r\n\r\nBelow is my Spring dependecy.\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n    &lt;version&gt;5.3.22&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```","title":"How does Spring automatically converts Java Objects and Array Lists into JSON automatically?","body":"<p>I'm wondering how does Spring automatically converts Java objects and ArrayLists automatically to JSON without any dependencies. (My project does not have any libraries  like GSON.)The below code returns a JSON arraylist!</p>\n<pre><code>package com.damian.springwebmvc.controllers;\n\nimport com.damian.springwebmvc.dto.Customer_DTO;\n\nimport org.springframework.http.MediaType;\nimport org.springframework.web.bind.annotation.*;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\n@RestController\n@RequestMapping(&quot;/json&quot;)\npublic class JSONHandler {\n    public JSONHandler() {\n        System.out.println(&quot;JSONHandler instantiated via constructor!&quot;);\n    }\n\n   \n\n    @GetMapping\n    public List&lt;Customer_DTO&gt; getJSON() {\n        ArrayList&lt;Customer_DTO&gt; customer_dtos = new ArrayList&lt;&gt;();\n        customer_dtos.add(new Customer_DTO(&quot;THIS IS A RESPONSE&quot;, &quot;THIS IS A RESPONSE.&quot;, &quot;THIS IS A RESPONSE.&quot;, 0.0));\n        customer_dtos.add(new Customer_DTO(&quot;THIS IS A RESPONSE&quot;, &quot;THIS IS A RESPONSE.&quot;, &quot;THIS IS A RESPONSE.&quot;, 0.0));\n        customer_dtos.add(new Customer_DTO(&quot;THIS IS A RESPONSE&quot;, &quot;THIS IS A RESPONSE.&quot;, &quot;THIS IS A RESPONSE.&quot;, 0.0));\n        customer_dtos.add(new Customer_DTO(&quot;THIS IS A RESPONSE&quot;, &quot;THIS IS A RESPONSE.&quot;, &quot;THIS IS A RESPONSE.&quot;, 0.0));\n        return customer_dtos;\n    }\n}\n</code></pre>\n<p>Below is my Spring dependecy.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n    &lt;version&gt;5.3.22&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","android-studio","apk","android-app-bundle"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1631283952,"post_id":69072328,"comment_id":122188221,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":5370247,"reputation":3229,"user_id":4279006,"accept_rate":100,"display_name":"IAmCoder"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636457697,"creation_date":1636455563,"answer_id":69896935,"question_id":69072328,"body_markdown":"A downgrade to `Android Studio 4.0` fixed the error for me.","title":"&gt; Could not initialize class com.android.repository.api.RepoManager","body":"<p>A downgrade to <code>Android Studio 4.0</code> fixed the error for me.</p>\n"},{"comments":[{"owner":{"account_id":952605,"reputation":11497,"user_id":978461,"accept_rate":73,"display_name":"Adam Varhegyi"},"score":0,"creation_date":1660665970,"post_id":71055319,"comment_id":129583738,"body_markdown":"This should be marked as answer, for me at least.","body":"This should be marked as answer, for me at least."}],"tags":[],"owner":{"account_id":11285729,"reputation":111,"user_id":8276801,"display_name":"Manar Shawkey"},"comment_count":1,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1644435104,"creation_date":1644433624,"answer_id":71055319,"question_id":69072328,"body_markdown":"I had this issue while trying to run a 5-year-old android project. Following these steps fixed the issue for me:\r\n\r\n1- update gradle version in the project level build.gradle file  from\r\n\r\n `classpath &#39;com.android.tools.build:gradle:2.2.2&#39;\r\n`\r\nto \r\n\r\n`classpath &#39;com.android.tools.build:gradle:7.1.1&#39;\r\n` \r\n\r\n2- add google() to the project repositories\r\n\r\n    allprojects {\r\n    repositories {\r\n        jcenter()\r\n        mavenLocal()\r\n        google()\r\n    }}\r\n\r\nand in buildScript block as well:\r\n\r\n    buildscript {\r\n    repositories {\r\n        jcenter()\r\n        mavenLocal()\r\n        google()\r\n    } dependencies {...}}\r\n\r\n3- update gradle version in gradle-wrapper.properties file to an up-to-date version, I updated to 7.2\r\n\r\n4- In the app level build.gradle file, in the dependencies block, I changed `compile` to `implementation`\r\n\r\n5- sync the project \r\n\r\n\r\n\r\n\r\n   ","title":"&gt; Could not initialize class com.android.repository.api.RepoManager","body":"<p>I had this issue while trying to run a 5-year-old android project. Following these steps fixed the issue for me:</p>\n<p>1- update gradle version in the project level build.gradle file  from</p>\n<p><code>classpath 'com.android.tools.build:gradle:2.2.2' </code>\nto</p>\n<p><code>classpath 'com.android.tools.build:gradle:7.1.1' </code></p>\n<p>2- add google() to the project repositories</p>\n<pre><code>allprojects {\nrepositories {\n    jcenter()\n    mavenLocal()\n    google()\n}}\n</code></pre>\n<p>and in buildScript block as well:</p>\n<pre><code>buildscript {\nrepositories {\n    jcenter()\n    mavenLocal()\n    google()\n} dependencies {...}}\n</code></pre>\n<p>3- update gradle version in gradle-wrapper.properties file to an up-to-date version, I updated to 7.2</p>\n<p>4- In the app level build.gradle file, in the dependencies block, I changed <code>compile</code> to <code>implementation</code></p>\n<p>5- sync the project</p>\n"},{"tags":[],"owner":{"account_id":1322606,"reputation":520,"user_id":1268074,"display_name":"Amlan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691487730,"creation_date":1691487730,"answer_id":76858335,"question_id":69072328,"body_markdown":"This is the problem with Android studio. Use some other version of android studio  https://developer.android.com/studio/preview/features/","title":"&gt; Could not initialize class com.android.repository.api.RepoManager","body":"<p>This is the problem with Android studio. Use some other version of android studio  <a href=\"https://developer.android.com/studio/preview/features/\" rel=\"nofollow noreferrer\">https://developer.android.com/studio/preview/features/</a></p>\n"}],"owner":{"account_id":22669687,"reputation":31,"user_id":16841593,"display_name":"Thor"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7207,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1691487730,"creation_date":1630920866,"question_id":69072328,"body_markdown":"I  am new in Android Studio. After setup, When I am trying to import an application I am getting that error So that gradle not able to build.\r\n\r\n**Error:&gt; Could not initialize class com.android.repository.api.RepoManager**\r\n\r\nI checked that my classpath setting for Java is fine. I am running Windows OS. Does anyone know the source of the error?","title":"&gt; Could not initialize class com.android.repository.api.RepoManager","body":"<p>I  am new in Android Studio. After setup, When I am trying to import an application I am getting that error So that gradle not able to build.</p>\n<p><strong>Error:&gt; Could not initialize class com.android.repository.api.RepoManager</strong></p>\n<p>I checked that my classpath setting for Java is fine. I am running Windows OS. Does anyone know the source of the error?</p>\n"},{"tags":["java","automation","outlook","jakarta-mail"],"answers":[{"tags":[],"owner":{"account_id":13925212,"reputation":41,"user_id":10054723,"display_name":"Midhun David"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638342325,"creation_date":1638342325,"answer_id":70180235,"question_id":70109664,"body_markdown":"Hi I made some changes to your code the reason why this happened is because your email attachments were encrypted by UTF-8,The below code changes should work for you.\r\n\r\n     \r\n\r\n  \r\n\r\n    Message[] messages = folderInbox.search(new FlagTerm(new Flags(Flags.Flag.SEEN), false));\r\n           for (int i = 0; i &lt; messages.length; i++) {\r\n                \r\n           Message message = messages[i];\r\n           Address[] fromAddress = message.getFrom();\r\n           String from = fromAddress[0].toString();\r\n           String subject = message.getSubject();\r\n           String sentDate = message.getSentDate().toString();\r\n           String saveDirectory =directory;\r\n           String contentType = message.getContentType();\r\n           String messageContent = &quot;&quot;;\r\n           String attachFiles = &quot;&quot;;             \r\n           if (contentType.contains(&quot;multipart&quot;)) {                  \r\n               Multipart multiPart = (Multipart) message.getContent();\r\n               int numberOfParts = multiPart.getCount();                                                       \r\n               for (int partCount = 0; partCount &lt; numberOfParts; partCount++) {\r\n               MimeBodyPart part = (MimeBodyPart) multiPart.getBodyPart(partCount);\r\n               if (Part.ATTACHMENT.equalsIgnoreCase(part.getDisposition())) {\r\n                String fileName = part.getFileName();\r\n                if (fileName.contains(&quot;=?utf-&quot;)) {\r\n                String s1 = fileName;                           \r\n                String s2=MimeUtility.decodeText(s1); \r\n                //System.out.println(s2);\r\n                part.saveFile(saveDirectory + File.separator +&quot;(&quot;+i+&quot;)&quot;+s2);\r\n                }else if(fileName.contains(&quot;Windows-1252&quot;)){\r\n                      String V1= fileName;  \r\n                      System.out.println(&quot;File is not a valid file&quot;+V1);\r\n                      //part.saveFile(saveDirectory + File.separator +&quot;(&quot;+i+&quot;)&quot;+fileName);\r\n                }else {\r\n                \r\n                //System.out.println(fileName);\r\n                part.saveFile(saveDirectory + File.separator +&quot;(&quot;+i+&quot;)&quot;+fileName);\r\n                \r\n                }\r\n                } else {\r\n                messageContent = part.getContent().toString();\r\n                }\r\n                }\r\n                if (attachFiles.length() &gt; 1) {\r\n                attachFiles = attachFiles.substring(0, attachFiles.length() - 2);\r\n                }\r\n                } else if (contentType.contains(&quot;text/plain&quot;)|| contentType.contains(&quot;text/html&quot;)) {\r\n                Object content = message.getContent();\r\n                if (content != null) {\r\n                messageContent = content.toString();\r\n               }\r\n           }\r\n\r\n          \r\n           System.out.println(&quot;Message #&quot; + (i + 1) + &quot;:&quot;);\r\n           System.out.println(&quot;\\t From: &quot; + from);\r\n           System.out.println(&quot;\\t Subject: &quot; + subject);\r\n           System.out.println(&quot;\\t Sent Date: &quot; + sentDate);\r\n           System.out.println(&quot;\\t Message: &quot; + messageContent);\r\n           System.out.println(&quot;\\t Attachments: &quot; + attachFiles);\r\n       }\r\n\r\n       \r\n       folderInbox.close(false);\r\n       store.close();\r\n\r\n","title":"How to download Multiple Attachment&#39;s from a Outlook Mail Using Java?","body":"<p>Hi I made some changes to your code the reason why this happened is because your email attachments were encrypted by UTF-8,The below code changes should work for you.</p>\n<pre><code>Message[] messages = folderInbox.search(new FlagTerm(new Flags(Flags.Flag.SEEN), false));\n       for (int i = 0; i &lt; messages.length; i++) {\n            \n       Message message = messages[i];\n       Address[] fromAddress = message.getFrom();\n       String from = fromAddress[0].toString();\n       String subject = message.getSubject();\n       String sentDate = message.getSentDate().toString();\n       String saveDirectory =directory;\n       String contentType = message.getContentType();\n       String messageContent = &quot;&quot;;\n       String attachFiles = &quot;&quot;;             \n       if (contentType.contains(&quot;multipart&quot;)) {                  \n           Multipart multiPart = (Multipart) message.getContent();\n           int numberOfParts = multiPart.getCount();                                                       \n           for (int partCount = 0; partCount &lt; numberOfParts; partCount++) {\n           MimeBodyPart part = (MimeBodyPart) multiPart.getBodyPart(partCount);\n           if (Part.ATTACHMENT.equalsIgnoreCase(part.getDisposition())) {\n            String fileName = part.getFileName();\n            if (fileName.contains(&quot;=?utf-&quot;)) {\n            String s1 = fileName;                           \n            String s2=MimeUtility.decodeText(s1); \n            //System.out.println(s2);\n            part.saveFile(saveDirectory + File.separator +&quot;(&quot;+i+&quot;)&quot;+s2);\n            }else if(fileName.contains(&quot;Windows-1252&quot;)){\n                  String V1= fileName;  \n                  System.out.println(&quot;File is not a valid file&quot;+V1);\n                  //part.saveFile(saveDirectory + File.separator +&quot;(&quot;+i+&quot;)&quot;+fileName);\n            }else {\n            \n            //System.out.println(fileName);\n            part.saveFile(saveDirectory + File.separator +&quot;(&quot;+i+&quot;)&quot;+fileName);\n            \n            }\n            } else {\n            messageContent = part.getContent().toString();\n            }\n            }\n            if (attachFiles.length() &gt; 1) {\n            attachFiles = attachFiles.substring(0, attachFiles.length() - 2);\n            }\n            } else if (contentType.contains(&quot;text/plain&quot;)|| contentType.contains(&quot;text/html&quot;)) {\n            Object content = message.getContent();\n            if (content != null) {\n            messageContent = content.toString();\n           }\n       }\n\n      \n       System.out.println(&quot;Message #&quot; + (i + 1) + &quot;:&quot;);\n       System.out.println(&quot;\\t From: &quot; + from);\n       System.out.println(&quot;\\t Subject: &quot; + subject);\n       System.out.println(&quot;\\t Sent Date: &quot; + sentDate);\n       System.out.println(&quot;\\t Message: &quot; + messageContent);\n       System.out.println(&quot;\\t Attachments: &quot; + attachFiles);\n   }\n\n   \n   folderInbox.close(false);\n   store.close();\n</code></pre>\n"}],"owner":{"account_id":23450483,"reputation":13,"user_id":17506713,"display_name":"ANU PRAKASH"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":986,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70180235,"answer_count":1,"score":1,"last_activity_date":1691487600,"creation_date":1637836876,"question_id":70109664,"body_markdown":"Hi i am trying to use the below code to download attachments from all the unread out look mail .\r\n\r\n**Problem While downloading multiple attachment**\r\n\r\nRight after downloading the first attachment and then when moving on to the next I am getting the below error \r\n\r\n    java.io.FileNotFoundException: Y:\\pdf\\=?utf-8?B?QW5udWxhdGlvbiAtIEF2ZW5hbnQgZGUgcsOpc2lsaWF0aW9uLlBERg==?= (The filename, directory name, or volume label syntax is incorrect)\r\n       at java.base/java.io.FileOutputStream.open0(Native Method)\r\n       at java.base/java.io.FileOutputStream.open(FileOutputStream.java:291)\r\n       at java.base/java.io.FileOutputStream.&lt;init&gt;(FileOutputStream.java:234)\r\n       at java.base/java.io.FileOutputStream.&lt;init&gt;(FileOutputStream.java:184)\r\n       at javax.mail.internet.MimeBodyPart.saveFile(MimeBodyPart.java:951)\r\n       at javax.mail.internet.MimeBodyPart.saveFile(MimeBodyPart.java:981)\r\n       at Email_Attachment.test.main(test.java:90)\r\n\r\n\r\n\r\n\r\nBelow is the Code I am using\r\n\r\n \r\n\r\n       package Email_Attachment;\r\n    import java.io.File;\r\n    import java.io.FileNotFoundException;\r\n    import java.io.IOException;\r\n    import java.util.Properties;\r\n    \r\n    import javax.mail.Address;\r\n    import javax.mail.Flags;\r\n    import javax.mail.Folder;\r\n    import javax.mail.Session;\r\n    import javax.mail.Store;\r\n    import javax.mail.internet.MimeBodyPart;\r\n    import javax.mail.search.FlagTerm;\r\n    \r\n    import javax.mail.Message;\r\n    import javax.mail.MessagingException;\r\n    import javax.mail.Multipart;\r\n    import javax.mail.NoSuchProviderException;\r\n    import javax.mail.Part;\r\n    import javax.mail.PasswordAuthentication;\r\n    public class test  {\r\n\r\n       public static void main(String[]args)throws Exception,FileNotFoundException {\r\n         \r\n             Properties props = System.getProperties();\r\n             \r\n             //String imapProtocol = System.getgetImapSsl() != null &amp;&amp; server.getImapSsl() == true ? &quot;imaps&quot; : &quot;imap&quot;;\r\n           props.setProperty(&quot;mail.store.protocol&quot;, &quot;imap&quot;);\r\n           props.setProperty(&quot;mail.imap.ssl.enable&quot;, &quot;true&quot;);\r\n           props.setProperty(&quot;mail.imap.partialfetch&quot;, &quot;false&quot;);\r\n           props.put(&quot;mail.mime.base64.ignoreerrors&quot;, &quot;true&quot;);\r\n           \r\n           //props.put(&quot;mail.imap.auth&quot;, &quot;true&quot;);\r\n            \r\n           Session mailSession = Session.getDefaultInstance(props\r\n                    , \r\n                  new javax.mail.Authenticator(){\r\n                      protected PasswordAuthentication getPasswordAuthentication() {\r\n                          return new PasswordAuthentication(&quot;username&quot;, &quot;password&quot;);// Specify the Username and the PassWord\r\n                      }\r\n              });\r\n           String test = &quot;password&quot;;\r\n        System.out.println(test);\r\n           mailSession.setDebug(true);\r\n           try {\r\n          Store store = mailSession.getStore(&quot;imap&quot;);\r\n          \r\n           store.connect( &quot;outlook.office365.com&quot;,&quot;username&quot;, &quot;password&quot;);// Specify the Username and the PassWord\r\n               \r\n\r\n           Folder folderInbox = store.getFolder(&quot;INBOX&quot;);\r\n           folderInbox.open(Folder.READ_ONLY);\r\n\r\n           // fetches new messages from server\r\n          \r\n           Message[] messages = folderInbox.search(new FlagTerm(new Flags(Flags.Flag.SEEN), false));\r\n                    \r\n\r\n           for (int i = 0; i &lt; messages.length; i++) {\r\n               Message message = messages[i];\r\n               Address[] fromAddress = message.getFrom();\r\n               String from = fromAddress[0].toString();\r\n               String subject = message.getSubject();\r\n               String sentDate = message.getSentDate().toString();\r\n\r\n               String contentType = message.getContentType();\r\n               String messageContent = &quot;&quot;;\r\n\r\n               // store attachment file name, separated by comma\r\n               String attachFiles = &quot;&quot;;\r\n\r\n               if (contentType.contains(&quot;multipart&quot;)) {\r\n                   // content may contain attachments\r\n                   Multipart multiPart = (Multipart) message.getContent();\r\n                   int numberOfParts = multiPart.getCount();\r\n                   for (int partCount = 0; partCount &lt; numberOfParts; partCount++) {\r\n                       MimeBodyPart part = (MimeBodyPart) multiPart.getBodyPart(partCount);\r\n                       if (Part.ATTACHMENT.equalsIgnoreCase(part.getDisposition())) {\r\n                           // this part is attachment\r\n                           String fileName = part.getFileName();\r\n                           attachFiles += fileName + &quot;, &quot;;\r\n                           part.saveFile(&quot;Y:\\\\pdf\\\\&quot; + File.separator + fileName);\r\n                       } else {\r\n                           // this part may be the message content\r\n                           messageContent = part.getContent().toString();\r\n                       }\r\n                   }\r\n\r\n                   if (attachFiles.length() &gt; 1) {\r\n                       attachFiles = attachFiles.substring(0, attachFiles.length() - 2);\r\n                   }\r\n               } else if (contentType.contains(&quot;text/plain&quot;)\r\n                       || contentType.contains(&quot;text/html&quot;)) {\r\n                   Object content = message.getContent();\r\n                   if (content != null) {\r\n                       messageContent = content.toString();\r\n                   }\r\n               }\r\n\r\n               // print out details of each message\r\n               System.out.println(&quot;Message #&quot; + (i + 1) + &quot;:&quot;);\r\n               System.out.println(&quot;\\t From: &quot; + from);\r\n               System.out.println(&quot;\\t Subject: &quot; + subject);\r\n               System.out.println(&quot;\\t Sent Date: &quot; + sentDate);\r\n               System.out.println(&quot;\\t Message: &quot; + messageContent);\r\n               System.out.println(&quot;\\t Attachments: &quot; + attachFiles);\r\n           }\r\n\r\n           // disconnect\r\n           folderInbox.close(false);\r\n           store.close();\r\n       } catch (NoSuchProviderException ex) {\r\n           System.out.println(&quot;No provider for pop3.&quot;);\r\n           ex.printStackTrace();\r\n       } catch (MessagingException ex) {\r\n           System.out.println(&quot;Could not connect to the message store&quot;);\r\n           ex.printStackTrace();\r\n       } catch (IOException ex) {\r\n           ex.printStackTrace();\r\n       }\r\n  \r\n\r\n     }}\r\n\r\n\r\n\r\nI am very New to Java Mail can anyone help me on this \r\n","title":"How to download Multiple Attachment&#39;s from a Outlook Mail Using Java?","body":"<p>Hi i am trying to use the below code to download attachments from all the unread out look mail .</p>\n<p><strong>Problem While downloading multiple attachment</strong></p>\n<p>Right after downloading the first attachment and then when moving on to the next I am getting the below error</p>\n<pre><code>java.io.FileNotFoundException: Y:\\pdf\\=?utf-8?B?QW5udWxhdGlvbiAtIEF2ZW5hbnQgZGUgcsOpc2lsaWF0aW9uLlBERg==?= (The filename, directory name, or volume label syntax is incorrect)\n   at java.base/java.io.FileOutputStream.open0(Native Method)\n   at java.base/java.io.FileOutputStream.open(FileOutputStream.java:291)\n   at java.base/java.io.FileOutputStream.&lt;init&gt;(FileOutputStream.java:234)\n   at java.base/java.io.FileOutputStream.&lt;init&gt;(FileOutputStream.java:184)\n   at javax.mail.internet.MimeBodyPart.saveFile(MimeBodyPart.java:951)\n   at javax.mail.internet.MimeBodyPart.saveFile(MimeBodyPart.java:981)\n   at Email_Attachment.test.main(test.java:90)\n</code></pre>\n<p>Below is the Code I am using</p>\n<pre><code>   package Email_Attachment;\nimport java.io.File;\nimport java.io.FileNotFoundException;\nimport java.io.IOException;\nimport java.util.Properties;\n\nimport javax.mail.Address;\nimport javax.mail.Flags;\nimport javax.mail.Folder;\nimport javax.mail.Session;\nimport javax.mail.Store;\nimport javax.mail.internet.MimeBodyPart;\nimport javax.mail.search.FlagTerm;\n\nimport javax.mail.Message;\nimport javax.mail.MessagingException;\nimport javax.mail.Multipart;\nimport javax.mail.NoSuchProviderException;\nimport javax.mail.Part;\nimport javax.mail.PasswordAuthentication;\npublic class test  {\n\n   public static void main(String[]args)throws Exception,FileNotFoundException {\n     \n         Properties props = System.getProperties();\n         \n         //String imapProtocol = System.getgetImapSsl() != null &amp;&amp; server.getImapSsl() == true ? &quot;imaps&quot; : &quot;imap&quot;;\n       props.setProperty(&quot;mail.store.protocol&quot;, &quot;imap&quot;);\n       props.setProperty(&quot;mail.imap.ssl.enable&quot;, &quot;true&quot;);\n       props.setProperty(&quot;mail.imap.partialfetch&quot;, &quot;false&quot;);\n       props.put(&quot;mail.mime.base64.ignoreerrors&quot;, &quot;true&quot;);\n       \n       //props.put(&quot;mail.imap.auth&quot;, &quot;true&quot;);\n        \n       Session mailSession = Session.getDefaultInstance(props\n                , \n              new javax.mail.Authenticator(){\n                  protected PasswordAuthentication getPasswordAuthentication() {\n                      return new PasswordAuthentication(&quot;username&quot;, &quot;password&quot;);// Specify the Username and the PassWord\n                  }\n          });\n       String test = &quot;password&quot;;\n    System.out.println(test);\n       mailSession.setDebug(true);\n       try {\n      Store store = mailSession.getStore(&quot;imap&quot;);\n      \n       store.connect( &quot;outlook.office365.com&quot;,&quot;username&quot;, &quot;password&quot;);// Specify the Username and the PassWord\n           \n\n       Folder folderInbox = store.getFolder(&quot;INBOX&quot;);\n       folderInbox.open(Folder.READ_ONLY);\n\n       // fetches new messages from server\n      \n       Message[] messages = folderInbox.search(new FlagTerm(new Flags(Flags.Flag.SEEN), false));\n                \n\n       for (int i = 0; i &lt; messages.length; i++) {\n           Message message = messages[i];\n           Address[] fromAddress = message.getFrom();\n           String from = fromAddress[0].toString();\n           String subject = message.getSubject();\n           String sentDate = message.getSentDate().toString();\n\n           String contentType = message.getContentType();\n           String messageContent = &quot;&quot;;\n\n           // store attachment file name, separated by comma\n           String attachFiles = &quot;&quot;;\n\n           if (contentType.contains(&quot;multipart&quot;)) {\n               // content may contain attachments\n               Multipart multiPart = (Multipart) message.getContent();\n               int numberOfParts = multiPart.getCount();\n               for (int partCount = 0; partCount &lt; numberOfParts; partCount++) {\n                   MimeBodyPart part = (MimeBodyPart) multiPart.getBodyPart(partCount);\n                   if (Part.ATTACHMENT.equalsIgnoreCase(part.getDisposition())) {\n                       // this part is attachment\n                       String fileName = part.getFileName();\n                       attachFiles += fileName + &quot;, &quot;;\n                       part.saveFile(&quot;Y:\\\\pdf\\\\&quot; + File.separator + fileName);\n                   } else {\n                       // this part may be the message content\n                       messageContent = part.getContent().toString();\n                   }\n               }\n\n               if (attachFiles.length() &gt; 1) {\n                   attachFiles = attachFiles.substring(0, attachFiles.length() - 2);\n               }\n           } else if (contentType.contains(&quot;text/plain&quot;)\n                   || contentType.contains(&quot;text/html&quot;)) {\n               Object content = message.getContent();\n               if (content != null) {\n                   messageContent = content.toString();\n               }\n           }\n\n           // print out details of each message\n           System.out.println(&quot;Message #&quot; + (i + 1) + &quot;:&quot;);\n           System.out.println(&quot;\\t From: &quot; + from);\n           System.out.println(&quot;\\t Subject: &quot; + subject);\n           System.out.println(&quot;\\t Sent Date: &quot; + sentDate);\n           System.out.println(&quot;\\t Message: &quot; + messageContent);\n           System.out.println(&quot;\\t Attachments: &quot; + attachFiles);\n       }\n\n       // disconnect\n       folderInbox.close(false);\n       store.close();\n   } catch (NoSuchProviderException ex) {\n       System.out.println(&quot;No provider for pop3.&quot;);\n       ex.printStackTrace();\n   } catch (MessagingException ex) {\n       System.out.println(&quot;Could not connect to the message store&quot;);\n       ex.printStackTrace();\n   } catch (IOException ex) {\n       ex.printStackTrace();\n   }\n\n\n }}\n</code></pre>\n<p>I am very New to Java Mail can anyone help me on this</p>\n"},{"tags":["java","gradle"],"answers":[{"tags":[],"owner":{"account_id":216025,"reputation":822,"user_id":471016,"accept_rate":100,"display_name":"Ertan D."},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1377761630,"creation_date":1377761630,"answer_id":18504834,"question_id":18490986,"body_markdown":"I found a working solution.\r\n\r\nDon&#39;t know if it&#39;s the best way, but this is what I came up with:\r\n\r\n    task extractDeps &lt;&lt; {\r\n        configurations.cppDependencies.resolvedConfiguration.resolvedArtifacts.each { artifact -&gt;\r\n            copy {\r\n                from project.zipTree(artifact.getFile())\r\n                into new File(project.buildDir, &quot;DEP_DIR/&quot; + artifact.name)\r\n            }\r\n        }\r\n    }","title":"Gradle extract multiple dependencies each to a different directory","body":"<p>I found a working solution.</p>\n\n<p>Don't know if it's the best way, but this is what I came up with:</p>\n\n<pre><code>task extractDeps &lt;&lt; {\n    configurations.cppDependencies.resolvedConfiguration.resolvedArtifacts.each { artifact -&gt;\n        copy {\n            from project.zipTree(artifact.getFile())\n            into new File(project.buildDir, \"DEP_DIR/\" + artifact.name)\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4019662,"reputation":697,"user_id":3450689,"accept_rate":71,"display_name":"Christoph S"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691487563,"creation_date":1691487563,"answer_id":76858313,"question_id":18490986,"body_markdown":"I came up with a simliar solution in kotlin:\r\n\r\n\r\n    dependencies {\r\n        myExtraDependency(&quot;org:mydependency-arm64:1.0.0&quot;)\r\n        myExtraDependency(&quot;org:mydependency-x64:1.0.0&quot;)\r\n    \r\n    }\r\n    \r\n    val unzipTask = tasks.register&lt;Copy&gt;(&quot;unzip&quot;) {\r\n        myExtraDependency.resolvedConfiguration.resolvedArtifacts.forEach {\r\n            from(zipTree(it.file))\r\n            include(&quot;**/*.so&quot;)\r\n            into (&quot;$buildDir/unzipped&quot;)\r\n        }\r\n    }","title":"Gradle extract multiple dependencies each to a different directory","body":"<p>I came up with a simliar solution in kotlin:</p>\n<pre><code>dependencies {\n    myExtraDependency(&quot;org:mydependency-arm64:1.0.0&quot;)\n    myExtraDependency(&quot;org:mydependency-x64:1.0.0&quot;)\n\n}\n\nval unzipTask = tasks.register&lt;Copy&gt;(&quot;unzip&quot;) {\n    myExtraDependency.resolvedConfiguration.resolvedArtifacts.forEach {\n        from(zipTree(it.file))\n        include(&quot;**/*.so&quot;)\n        into (&quot;$buildDir/unzipped&quot;)\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":216025,"reputation":822,"user_id":471016,"accept_rate":100,"display_name":"Ertan D."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1869,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":18504834,"answer_count":2,"score":3,"last_activity_date":1691487563,"creation_date":1377700609,"question_id":18490986,"body_markdown":"I&#39;m trying to extract multiple dependencies into different directories. I tried the following.\r\n\r\n    configurations {\r\n       cppDependencies\r\n    }\r\n\r\n    dependencies {\r\n       cppDependencies &#39;com.group:artifact1:1.0&quot;\r\n       cppDependencies &#39;com.group:artifact2:1.0&quot;\r\n    }\r\n\r\n    task extractDeps(type: Copy) {\r\n        from {\r\n            configurations.cppDependencies.collect {\r\n                zipTree(it)\r\n            }\r\n        }\r\n        into new File(buildDir, &quot;DEP_DIR&quot;)\r\n    }\r\n\r\nObviously this just extracts **artifact1** and **artifact2** under the same **DEP_DIR** directory. But what I would actually want to achieve is extract them under **DEP_DIR/artifact1** and **DEP_DIR/artifact2** respectively.\r\n\r\nI tried to put **into new File(buildDir, &quot;DEP_DIR/&quot; + it.artifactId)** under the **zipTree** command but it gives an error.\r\n\r\n Is this possible?","title":"Gradle extract multiple dependencies each to a different directory","body":"<p>I'm trying to extract multiple dependencies into different directories. I tried the following.</p>\n\n<pre><code>configurations {\n   cppDependencies\n}\n\ndependencies {\n   cppDependencies 'com.group:artifact1:1.0\"\n   cppDependencies 'com.group:artifact2:1.0\"\n}\n\ntask extractDeps(type: Copy) {\n    from {\n        configurations.cppDependencies.collect {\n            zipTree(it)\n        }\n    }\n    into new File(buildDir, \"DEP_DIR\")\n}\n</code></pre>\n\n<p>Obviously this just extracts <strong>artifact1</strong> and <strong>artifact2</strong> under the same <strong>DEP_DIR</strong> directory. But what I would actually want to achieve is extract them under <strong>DEP_DIR/artifact1</strong> and <strong>DEP_DIR/artifact2</strong> respectively.</p>\n\n<p>I tried to put <strong>into new File(buildDir, \"DEP_DIR/\" + it.artifactId)</strong> under the <strong>zipTree</strong> command but it gives an error.</p>\n\n<p>Is this possible?</p>\n"},{"tags":["java","spring","hibernate","spring-data-jpa","spring-data"],"comments":[{"owner":{"account_id":14681183,"reputation":146,"user_id":10602598,"display_name":"I.Yuldoshev"},"score":0,"creation_date":1691487993,"post_id":76858138,"comment_id":135495154,"body_markdown":"you can also have a look here: [save vs saveAndFlush](https://stackoverflow.com/questions/21203875/difference-between-save-and-saveandflush-in-spring-data-jpa)\n. When calling save method it is not guaranteed that changes will be flushed to DB immediately\nsaveAndFlush will execute changes against DB immediately","body":"you can also have a look here: <a href=\"https://stackoverflow.com/questions/21203875/difference-between-save-and-saveandflush-in-spring-data-jpa\">save vs saveAndFlush</a> . When calling save method it is not guaranteed that changes will be flushed to DB immediately saveAndFlush will execute changes against DB immediately"},{"owner":{"account_id":29183236,"reputation":3,"user_id":22356951,"display_name":"Selim D."},"score":0,"creation_date":1691489836,"post_id":76858138,"comment_id":135495512,"body_markdown":"Thank you @I.Yuldoshev, that topic was very useful. Ralf&#39;s answer is kinda  what I was looking for.","body":"Thank you @I.Yuldoshev, that topic was very useful. Ralf&#39;s answer is kinda  what I was looking for."}],"answers":[{"comments":[{"owner":{"account_id":29183236,"reputation":3,"user_id":22356951,"display_name":"Selim D."},"score":0,"creation_date":1691489686,"post_id":76858285,"comment_id":135495480,"body_markdown":"Thank you @user264660, So if I use MySQL or similar DB with the AUTO_INCREMENT feature, Hibernate handle it in the background and return Entity ID without even using saveAndFlush(). \n\nBut if I use another DB that does not support that behaviour, I need to call saveAndFlush() instead of save(), correct?\n\nAnd also save() method has Transactional annotation so I may be wrong about this but at the end of the day it will call flush() and commit(). At this point is there really any difference?","body":"Thank you @user264660, So if I use MySQL or similar DB with the AUTO_INCREMENT feature, Hibernate handle it in the background and return Entity ID without even using saveAndFlush().   But if I use another DB that does not support that behaviour, I need to call saveAndFlush() instead of save(), correct?  And also save() method has Transactional annotation so I may be wrong about this but at the end of the day it will call flush() and commit(). At this point is there really any difference?"},{"owner":{"account_id":4268172,"reputation":40,"user_id":3502901,"display_name":"Arun Pratap Singh"},"score":0,"creation_date":1691490167,"post_id":76858285,"comment_id":135495579,"body_markdown":"The saveAndFlush() method, forces the changes to be immediately flushed to the database, even if the transaction is not yet committed. This can be useful in certain cases where you need to ensure that the changes are immediately persisted to the database.  @Transactional has different purpose altogether. It is basically for transaction management like commit, rollback.","body":"The saveAndFlush() method, forces the changes to be immediately flushed to the database, even if the transaction is not yet committed. This can be useful in certain cases where you need to ensure that the changes are immediately persisted to the database.  @Transactional has different purpose altogether. It is basically for transaction management like commit, rollback."},{"owner":{"account_id":29183236,"reputation":3,"user_id":22356951,"display_name":"Selim D."},"score":0,"creation_date":1691490519,"post_id":76858285,"comment_id":135495645,"body_markdown":"Thank you @user264660 Also [save vs saveAndFlush](https://stackoverflow.com/questions/21203875/difference-between-save-and-saveandflush-in-spring-data-jpa) in this link I.Yuldoshev shared before, mahdi&#39;s answer was what I was looking for exactly.","body":"Thank you @user264660 Also <a href=\"https://stackoverflow.com/questions/21203875/difference-between-save-and-saveandflush-in-spring-data-jpa\">save vs saveAndFlush</a> in this link I.Yuldoshev shared before, mahdi&#39;s answer was what I was looking for exactly."}],"tags":[],"owner":{"account_id":4268172,"reputation":40,"user_id":3502901,"display_name":"Arun Pratap Singh"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1691487318,"creation_date":1691487318,"answer_id":76858285,"question_id":76858138,"body_markdown":"The behavior of the save() method in Spring Data JPA is determined by the underlying JPA provider. In the case of Hibernate, which is the default JPA provider used by Spring Data JPA, the save() method does not immediately flush the changes to the database. Instead, the changes are queued up and flushed to the database when the transaction is committed or when a flush operation is explicitly called.\r\n\r\nHowever, when using a database provider that supports returning the ID of the saved entity before the transaction is committed, such as MySQL with the AUTO_INCREMENT feature, the save() method can return the ID immediately.","title":"save() and saveAndFlush() in Spring Data JPA both can return Entity ID, is there really any difference?","body":"<p>The behavior of the save() method in Spring Data JPA is determined by the underlying JPA provider. In the case of Hibernate, which is the default JPA provider used by Spring Data JPA, the save() method does not immediately flush the changes to the database. Instead, the changes are queued up and flushed to the database when the transaction is committed or when a flush operation is explicitly called.</p>\n<p>However, when using a database provider that supports returning the ID of the saved entity before the transaction is committed, such as MySQL with the AUTO_INCREMENT feature, the save() method can return the ID immediately.</p>\n"}],"owner":{"account_id":29183236,"reputation":3,"user_id":22356951,"display_name":"Selim D."},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":433,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76858285,"answer_count":1,"score":0,"last_activity_date":1691487318,"creation_date":1691486245,"question_id":76858138,"body_markdown":"save() and saveAndFlush() in Spring Data JPA both can return Entity ID. \r\n\r\nAs far as I search save() method shouldn&#39;t be able to return any value until it called by flush() and commit(). But I can be able to get Entity ID with save() method just like saveAndFlush().\r\n\r\nWhen I implement JpaRepository and call save() and saveAndFlush() methods I&#39;ve got Entity IDs for both of them.\r\n\r\nSo my question is how is it possible? Is it because of the @Transacitonal of save() method? And if it is, is there really any difference between those two methods at this point?","title":"save() and saveAndFlush() in Spring Data JPA both can return Entity ID, is there really any difference?","body":"<p>save() and saveAndFlush() in Spring Data JPA both can return Entity ID.</p>\n<p>As far as I search save() method shouldn't be able to return any value until it called by flush() and commit(). But I can be able to get Entity ID with save() method just like saveAndFlush().</p>\n<p>When I implement JpaRepository and call save() and saveAndFlush() methods I've got Entity IDs for both of them.</p>\n<p>So my question is how is it possible? Is it because of the @Transacitonal of save() method? And if it is, is there really any difference between those two methods at this point?</p>\n"},{"tags":["java","scala","amazon-web-services","apache-spark","amazon-s3"],"comments":[{"owner":{"account_id":2638315,"reputation":17709,"user_id":2282538,"accept_rate":84,"display_name":"Tyler"},"score":2,"creation_date":1487086420,"post_id":42230086,"comment_id":71619707,"body_markdown":"There is an AWS Java SDK that makes doing this pretty easy","body":"There is an AWS Java SDK that makes doing this pretty easy"},{"owner":{"account_id":5388601,"reputation":4510,"user_id":4291805,"accept_rate":81,"display_name":"GameOfThrows"},"score":0,"creation_date":1487087316,"post_id":42230086,"comment_id":71620368,"body_markdown":"I think this is what you are looking for https://www.cloudera.com/documentation/enterprise/5-5-x/topics/spark_s3.html","body":"I think this is what you are looking for <a href=\"https://www.cloudera.com/documentation/enterprise/5-5-x/topics/spark_s3.html\" rel=\"nofollow noreferrer\">cloudera.com/documentation/enterprise/5-5-x/topics/&hellip;</a>"},{"owner":{"account_id":10135311,"reputation":73,"user_id":7487096,"accept_rate":0,"display_name":"Maurizio Cacace"},"score":0,"creation_date":1487087796,"post_id":42230086,"comment_id":71620690,"body_markdown":"it works with RDD, I need to write a simple string","body":"it works with RDD, I need to write a simple string"},{"owner":{"account_id":2022297,"reputation":2781,"user_id":1808164,"accept_rate":87,"display_name":"EdgeCaseBerg"},"score":0,"creation_date":1532973662,"post_id":42230086,"comment_id":90165639,"body_markdown":"Have you tried looking at the example that AWS gives for uploading a file? https://docs.aws.amazon.com/AmazonS3/latest/dev/llJavaUploadFile.html","body":"Have you tried looking at the example that AWS gives for uploading a file? <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/dev/llJavaUploadFile.html\" rel=\"nofollow noreferrer\">docs.aws.amazon.com/AmazonS3/latest/dev/llJavaUploadFile.htm&zwnj;&#8203;l</a>"}],"answers":[{"tags":[],"owner":{"account_id":6774244,"reputation":672,"user_id":5216598,"display_name":"Shasankar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1487104360,"creation_date":1487104360,"answer_id":42235661,"question_id":42230086,"body_markdown":"S3 being an object store, you cannot write strings. You can probably write the strings to a local file and periodically upload the file to S3.","title":"Writing a file into Amazon S3 AWS Storage using Scala","body":"<p>S3 being an object store, you cannot write strings. You can probably write the strings to a local file and periodically upload the file to S3.</p>\n"},{"tags":[],"owner":{"account_id":2611206,"reputation":12820,"user_id":2261274,"display_name":"stevel"},"comment_count":0,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1532971070,"creation_date":1487256998,"answer_id":42277434,"question_id":42230086,"body_markdown":"S3A being a Hadoop Filesystem client, you can&#39;t use the java File API to work with it.\r\n\r\n1. Create a hadoop `Configuration` object with all your s3 credentials in them. If you are using Spark, you get that for free from `SparkContext`.\r\n1. Use the Hadoop FS API to get the FS instance, `create()` to create a file in it.\r\n\r\n&lt;pre&gt;\r\n    import org.apache.hadoop.fs._\r\n    import org.apache.hadoop.conf.Configuration\r\n    val conf = new Configuration()\r\n    conf.set(&quot;fs.s3a.access.key&quot;, &quot;YOUR ACCESS KEY&quot;)\r\n    conf.set(&quot;fs.s3a.secret.key&quot;, &quot;YOUR SECRET KEY&quot;)\r\n\r\n    val dest = new Path(&quot;s3a://bucket_name/output-path/file.txt&quot;)\r\n    val fs = dest.getFileSystem(conf)\r\n    val out = fs.create(dest, true)\r\n    out.write( /* your string as bytes */ )\r\n    out.close()\r\n&lt;/pre&gt;\r\n\r\n","title":"Writing a file into Amazon S3 AWS Storage using Scala","body":"<p>S3A being a Hadoop Filesystem client, you can't use the java File API to work with it.</p>\n\n<ol>\n<li>Create a hadoop <code>Configuration</code> object with all your s3 credentials in them. If you are using Spark, you get that for free from <code>SparkContext</code>.</li>\n<li>Use the Hadoop FS API to get the FS instance, <code>create()</code> to create a file in it.</li>\n</ol>\n\n<pre>\n    import org.apache.hadoop.fs._\n    import org.apache.hadoop.conf.Configuration\n    val conf = new Configuration()\n    conf.set(\"fs.s3a.access.key\", \"YOUR ACCESS KEY\")\n    conf.set(\"fs.s3a.secret.key\", \"YOUR SECRET KEY\")\n\n    val dest = new Path(\"s3a://bucket_name/output-path/file.txt\")\n    val fs = dest.getFileSystem(conf)\n    val out = fs.create(dest, true)\n    out.write( /* your string as bytes */ )\n    out.close()\n</pre>\n"},{"tags":[],"owner":{"account_id":6356734,"reputation":497,"user_id":4933735,"display_name":"grnc"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1599037524,"creation_date":1599037524,"answer_id":63702255,"question_id":42230086,"body_markdown":"You can now write it directly using the AWS Java SDK. Here is the example;\r\n\r\n```scala\r\nimport com.amazonaws.services.s3.{AmazonS3, AmazonS3ClientBuilder}\r\n\r\nval s3Client: AmazonS3 = AmazonS3ClientBuilder.defaultClient()\r\n\r\nval bucketName = &quot;bucket-name&quot;\r\nval objectKey = &quot;object-key&quot;\r\nval objectContent = &quot;This is the file content.&quot;\r\n\r\ns3Client.putObject(bucketName, objectKey, objectContent)\r\n\r\n```","title":"Writing a file into Amazon S3 AWS Storage using Scala","body":"<p>You can now write it directly using the AWS Java SDK. Here is the example;</p>\n<pre class=\"lang-scala prettyprint-override\"><code>import com.amazonaws.services.s3.{AmazonS3, AmazonS3ClientBuilder}\n\nval s3Client: AmazonS3 = AmazonS3ClientBuilder.defaultClient()\n\nval bucketName = &quot;bucket-name&quot;\nval objectKey = &quot;object-key&quot;\nval objectContent = &quot;This is the file content.&quot;\n\ns3Client.putObject(bucketName, objectKey, objectContent)\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19497272,"reputation":59,"user_id":14264167,"display_name":"Omkar  Gaikwad"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691487234,"creation_date":1691487234,"answer_id":76858275,"question_id":42230086,"body_markdown":"I hope this will help you.\r\n\r\n```\r\n  def uploadDataToS3Bucket(baseDF: DataFrame): Unit = {\r\n    // AWS S3 credentials and bucket information\r\n    val accessKeyId = &quot;YourAccessKey&quot;\r\n    val secretAccessKey = &quot;YourSecretKey&quot;\r\n    val s3BucketName = &quot;BucketName&quot;\r\n    val s3OutputPath = &quot;path\\filename.csv&quot;\r\n    val csvData = &quot;id\\tname\\n1\\tJohn\\n2\\tJane\\n3\\tAlice&quot;\r\n    \r\n    // Set up AWS credentials\r\n    System.setProperty(&quot;aws.accessKeyId&quot;, accessKeyId)\r\n    System.setProperty(&quot;aws.secretKey&quot;, secretAccessKey)\r\n\r\n    // Explicitly specify the AWS region\r\n    val region = Regions.US_EAST_1\r\n\r\n    // Create an AmazonS3 client\r\n    val s3Client = AmazonS3ClientBuilder.standard()\r\n      .withCredentials(DefaultAWSCredentialsProviderChain.getInstance())\r\n      .withRegion(region.getName)\r\n      .build()\r\n\r\n    // Convert the CSV data to an InputStream\r\n    val inputStream = new ByteArrayInputStream(csvData.getBytes)\r\n\r\n    // Set the metadata for the object\r\n    val metadata = new ObjectMetadata()\r\n    metadata.setContentLength(csvData.getBytes.length)\r\n    metadata.setContentType(&quot;text/csv&quot;)\r\n\r\n    // Upload the data to S3\r\n    val request = new PutObjectRequest(s3BucketName, s3OutputPath, inputStream, metadata)\r\n    s3Client.putObject(request)\r\n\r\n    println(&quot;Uploaded data to S3.&quot;)\r\n  }\r\n```","title":"Writing a file into Amazon S3 AWS Storage using Scala","body":"<p>I hope this will help you.</p>\n<pre><code>  def uploadDataToS3Bucket(baseDF: DataFrame): Unit = {\n    // AWS S3 credentials and bucket information\n    val accessKeyId = &quot;YourAccessKey&quot;\n    val secretAccessKey = &quot;YourSecretKey&quot;\n    val s3BucketName = &quot;BucketName&quot;\n    val s3OutputPath = &quot;path\\filename.csv&quot;\n    val csvData = &quot;id\\tname\\n1\\tJohn\\n2\\tJane\\n3\\tAlice&quot;\n    \n    // Set up AWS credentials\n    System.setProperty(&quot;aws.accessKeyId&quot;, accessKeyId)\n    System.setProperty(&quot;aws.secretKey&quot;, secretAccessKey)\n\n    // Explicitly specify the AWS region\n    val region = Regions.US_EAST_1\n\n    // Create an AmazonS3 client\n    val s3Client = AmazonS3ClientBuilder.standard()\n      .withCredentials(DefaultAWSCredentialsProviderChain.getInstance())\n      .withRegion(region.getName)\n      .build()\n\n    // Convert the CSV data to an InputStream\n    val inputStream = new ByteArrayInputStream(csvData.getBytes)\n\n    // Set the metadata for the object\n    val metadata = new ObjectMetadata()\n    metadata.setContentLength(csvData.getBytes.length)\n    metadata.setContentType(&quot;text/csv&quot;)\n\n    // Upload the data to S3\n    val request = new PutObjectRequest(s3BucketName, s3OutputPath, inputStream, metadata)\n    s3Client.putObject(request)\n\n    println(&quot;Uploaded data to S3.&quot;)\n  }\n</code></pre>\n"}],"owner":{"account_id":10135311,"reputation":73,"user_id":7487096,"accept_rate":0,"display_name":"Maurizio Cacace"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11287,"favorite_count":0,"down_vote_count":3,"up_vote_count":4,"answer_count":4,"score":1,"last_activity_date":1691487234,"creation_date":1487086267,"question_id":42230086,"body_markdown":"this is part of my code:\r\n\r\n       val file=new File(&quot;s3a://tracce/output/Tempi.txt&quot;) \r\n       val writer=new BufferedWriter(new FileWriter(file,true))\r\n       writer.write(&quot;Execution Time trace &quot;+count.toString+&quot;x&quot;+i.toString+&quot;: &quot;+differenza.toString)\r\n       writer.newLine()\r\n       writer.flush()\r\n       writer.close()\r\n\r\nI need to write a new file into my bucket using Scala. \r\nI get this error:\r\n\r\n    Exception in thread &quot;main&quot; java.io.FileNotFoundException:     s3:/tracce/output/Tempi.txt (No such file or directory)\r\n\r\nWhen I try to save it locally, it works:\r\n\r\n    val file=new File(&quot;./Tempi.txt&quot;)\r\n\r\nHow could I solve it?\r\nThanks in advance\r\n","title":"Writing a file into Amazon S3 AWS Storage using Scala","body":"<p>this is part of my code:</p>\n\n<pre><code>   val file=new File(\"s3a://tracce/output/Tempi.txt\") \n   val writer=new BufferedWriter(new FileWriter(file,true))\n   writer.write(\"Execution Time trace \"+count.toString+\"x\"+i.toString+\": \"+differenza.toString)\n   writer.newLine()\n   writer.flush()\n   writer.close()\n</code></pre>\n\n<p>I need to write a new file into my bucket using Scala. \nI get this error:</p>\n\n<pre><code>Exception in thread \"main\" java.io.FileNotFoundException:     s3:/tracce/output/Tempi.txt (No such file or directory)\n</code></pre>\n\n<p>When I try to save it locally, it works:</p>\n\n<pre><code>val file=new File(\"./Tempi.txt\")\n</code></pre>\n\n<p>How could I solve it?\nThanks in advance</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1691487637,"post_id":76858272,"comment_id":135495072,"body_markdown":"The error you are getting indicates that an exception was thrown *after* you already started writing the response. Because of the way HTTP responses work, that means the HTTP status code and headers have already been sent to the client. You haven&#39;t posted what that exception is, so we can&#39;t help you there.","body":"The error you are getting indicates that an exception was thrown <i>after</i> you already started writing the response. Because of the way HTTP responses work, that means the HTTP status code and headers have already been sent to the client. You haven&#39;t posted what that exception is, so we can&#39;t help you there."}],"owner":{"account_id":29183375,"reputation":1,"user_id":22357060,"display_name":"life Viral"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691487212,"creation_date":1691487212,"question_id":76858272,"body_markdown":"# Background:\r\nI had downloaded a file that is 158MB in size. The file was successfully downloaded, but an exception was thrown.\r\n# Exception:\r\nCannot render error page for request [/file/download/e0ad85] and exception [] as the response has already been committed. As a result, the response may have the wrong status code.\r\n\r\n# Source Code\r\n\r\n## Controller\r\n```\r\n@Api(tags = &quot;file management api&quot;)\r\n@Validated\r\n@RequestMapping(&quot;/file&quot;)\r\n@RestController\r\n@RequiredArgsConstructor\r\npublic class FileManagerController {\r\n    @ApiOperation(value = &quot;File DownloadF&quot;)\r\n    @GetMapping(&quot;/download/{fileId}&quot;)\r\n    public void download(HttpServletRequest request, HttpServletResponse response,\r\n                         @PathVariable @ApiParam(value = &quot;id&quot;, required = true) String fileId) {\r\n        portalManagementFileService.download(request, response, fileId);\r\n    }\r\n}\r\n```\r\n\r\n## Service\r\n```\r\npublic void download(HttpServletRequest request, HttpServletResponse response, String fileId) {\r\n        PoCommonFileManagementBo file = mapper.select(fileId);\r\n        String serverFileName = file.getFileId().concat(&quot;.&quot;).concat(file.getFileType());\r\n        try {\r\n            response.setContentType(&quot;application/octet-stream&quot;);\r\n            response.setHeader(&quot;Content-Disposition&quot;,\r\n                    &quot;attachment;fileName*=utf-8&#39;zh_cn&#39;&quot; + URLEncoder.encode(file.getFileName(), StandardCharsets.UTF_8.name()));\r\n        } catch (UnsupportedEncodingException e) {\r\n            throw new BusinessException(CommonBusinessCodeEnum.COMMON_FILE_ENCODING_ERROR);\r\n        }\r\n\r\n        SftpUtil ftpUtil = new SftpUtil(host, port);\r\n        try (InputStream in = ftpUtil.downloadFile(file.getFilePath(), serverFileName)) {\r\n            OutputStream out;\r\n            if (in != null) {\r\n                out = response.getOutputStream();\r\n                byte[] buffer = new byte[4096];\r\n                int n;\r\n                while (-1 != (n = in.read(buffer))) {\r\n                    out.write(buffer, 0, n);\r\n                }\r\n                out.flush();\r\n            }\r\n        } catch (ClientAbortException ignore) {\r\n        } catch (Exception e) {\r\n            throw new BusinessException(CommonBusinessCodeEnum.COMMON_DOWNLOAD_FAIL, e);\r\n        } finally {\r\n            ftpUtil.disconnect();\r\n        }\r\n    }\r\n```\r\n\r\nwhy?  how to fix it ?\r\n\r\n\r\nSuccessfully download the file without triggering an exception.","title":"Cannot render error page for request [/file/download/e0ad85] and exception [] as the response has already been committed","body":"<h1>Background:</h1>\n<p>I had downloaded a file that is 158MB in size. The file was successfully downloaded, but an exception was thrown.</p>\n<h1>Exception:</h1>\n<p>Cannot render error page for request [/file/download/e0ad85] and exception [] as the response has already been committed. As a result, the response may have the wrong status code.</p>\n<h1>Source Code</h1>\n<h2>Controller</h2>\n<pre><code>@Api(tags = &quot;file management api&quot;)\n@Validated\n@RequestMapping(&quot;/file&quot;)\n@RestController\n@RequiredArgsConstructor\npublic class FileManagerController {\n    @ApiOperation(value = &quot;File DownloadF&quot;)\n    @GetMapping(&quot;/download/{fileId}&quot;)\n    public void download(HttpServletRequest request, HttpServletResponse response,\n                         @PathVariable @ApiParam(value = &quot;id&quot;, required = true) String fileId) {\n        portalManagementFileService.download(request, response, fileId);\n    }\n}\n</code></pre>\n<h2>Service</h2>\n<pre><code>public void download(HttpServletRequest request, HttpServletResponse response, String fileId) {\n        PoCommonFileManagementBo file = mapper.select(fileId);\n        String serverFileName = file.getFileId().concat(&quot;.&quot;).concat(file.getFileType());\n        try {\n            response.setContentType(&quot;application/octet-stream&quot;);\n            response.setHeader(&quot;Content-Disposition&quot;,\n                    &quot;attachment;fileName*=utf-8'zh_cn'&quot; + URLEncoder.encode(file.getFileName(), StandardCharsets.UTF_8.name()));\n        } catch (UnsupportedEncodingException e) {\n            throw new BusinessException(CommonBusinessCodeEnum.COMMON_FILE_ENCODING_ERROR);\n        }\n\n        SftpUtil ftpUtil = new SftpUtil(host, port);\n        try (InputStream in = ftpUtil.downloadFile(file.getFilePath(), serverFileName)) {\n            OutputStream out;\n            if (in != null) {\n                out = response.getOutputStream();\n                byte[] buffer = new byte[4096];\n                int n;\n                while (-1 != (n = in.read(buffer))) {\n                    out.write(buffer, 0, n);\n                }\n                out.flush();\n            }\n        } catch (ClientAbortException ignore) {\n        } catch (Exception e) {\n            throw new BusinessException(CommonBusinessCodeEnum.COMMON_DOWNLOAD_FAIL, e);\n        } finally {\n            ftpUtil.disconnect();\n        }\n    }\n</code></pre>\n<p>why?  how to fix it ?</p>\n<p>Successfully download the file without triggering an exception.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":6111085,"reputation":337,"user_id":4767379,"display_name":"Darshan Kachhadiya"},"score":0,"creation_date":1487826693,"post_id":42407486,"comment_id":71961577,"body_markdown":"Use 6.0 taget sdk ?","body":"Use 6.0 taget sdk ?"},{"owner":{"account_id":9484544,"reputation":191,"user_id":7051295,"display_name":"kranthi kumar"},"score":0,"creation_date":1487827176,"post_id":42407486,"comment_id":71961780,"body_markdown":"Minimum sdk 4 and I have tested it in 7.0","body":"Minimum sdk 4 and I have tested it in 7.0"},{"owner":{"account_id":6111085,"reputation":337,"user_id":4767379,"display_name":"Darshan Kachhadiya"},"score":0,"creation_date":1487827247,"post_id":42407486,"comment_id":71961812,"body_markdown":"You need give runtime permission which i give below answer","body":"You need give runtime permission which i give below answer"}],"answers":[{"comments":[{"owner":{"account_id":5538150,"reputation":134,"user_id":4395748,"accept_rate":50,"display_name":"Shubhank Tyagi"},"score":0,"creation_date":1619596686,"post_id":42407742,"comment_id":118949907,"body_markdown":"I&#39;m having similar issue. Could you look into it?\nhttps://stackoverflow.com/questions/67279734/java-lang-illegalargumentexception-failed-to-find-configured-root-that-contains","body":"I&#39;m having similar issue. Could you look into it? <a href=\"https://stackoverflow.com/questions/67279734/java-lang-illegalargumentexception-failed-to-find-configured-root-that-contains\" title=\"java lang illegalargumentexception failed to find configured root that contains\">stackoverflow.com/questions/67279734/&hellip;</a>"}],"tags":[],"owner":{"account_id":7793970,"reputation":5199,"user_id":5895830,"accept_rate":82,"display_name":"Sagar Chavada"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1487829930,"creation_date":1487827601,"answer_id":42407742,"question_id":42407486,"body_markdown":"use like this:\r\n \r\n\r\n    private static final int REQUEST_ID_MULTIPLE_PERMISSIONS = 1;\r\n    public static final int MEDIA_TYPE_IMAGE = 1;\r\n    private Uri fileUri;\r\n    int isCamera = 1;\r\n\r\n \r\n\r\n        if (options[item].equals(&quot;Camera&quot;)) {\r\n            isCamera = 1;\r\n            if (checkandRequestPermission()) {\r\n               Intent intent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\r\n               if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) {\r\n                   intent.setFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\r\n                   fileUri = FileProvider.getUriForFile(EditProfile.this, getPackageName()+ &quot;.provider&quot;, getOutputMediaFile(MEDIA_TYPE_IMAGE));\r\n                   intent.putExtra(MediaStore.EXTRA_OUTPUT, fileUri);\r\n               } else {\r\n                          fileUri = getOutputMediaFileUri(MEDIA_TYPE_IMAGE);\r\n                          intent.putExtra(MediaStore.EXTRA_OUTPUT, fileUri);\r\n                 }\r\n                 startActivityForResult(intent, 1);\r\n              }\r\n           } else if (options[item].equals(&quot;Choose from Gallery&quot;)) {\r\n                    isCamera = 0;\r\n                    if (checkandRequestPermission()) {\r\n                    Intent intent = new Intent(Intent.ACTION_PICK, android.provider.MediaStore.Images.Media.EXTERNAL_CONTENT_URI);\r\n                    startActivityForResult(intent, 2);\r\n           } \r\n    }\r\n\r\n \r\n    private boolean checkandRequestPermission() {\r\n            int camera = ContextCompat.checkSelfPermission(this, Manifest.permission.CAMERA);\r\n            int storageread = ContextCompat.checkSelfPermission(this, Manifest.permission.READ_EXTERNAL_STORAGE);\r\n            int storagewrite = ContextCompat.checkSelfPermission(this, Manifest.permission.WRITE_EXTERNAL_STORAGE);\r\n    \r\n            List&lt;String&gt; listpermissionNeeded = new ArrayList&lt;&gt;();\r\n    \r\n            if (camera != PackageManager.PERMISSION_GRANTED) {\r\n                listpermissionNeeded.add(Manifest.permission.CAMERA);\r\n            }\r\n            if (storageread != PackageManager.PERMISSION_GRANTED) {\r\n                listpermissionNeeded.add(Manifest.permission.READ_EXTERNAL_STORAGE);\r\n            }\r\n            if (storagewrite != PackageManager.PERMISSION_GRANTED) {\r\n                listpermissionNeeded.add(Manifest.permission.WRITE_EXTERNAL_STORAGE);\r\n            }\r\n            if (!listpermissionNeeded.isEmpty()) {\r\n                ActivityCompat.requestPermissions(EditProfile.this, listpermissionNeeded.toArray(new String[listpermissionNeeded.size()]), REQUEST_ID_MULTIPLE_PERMISSIONS);\r\n                return false;\r\n            }\r\n            return true;\r\n        }\r\n\r\nand also add onRequestPermission result.\r\n\r\n    @Override\r\n        public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n            switch (requestCode) {\r\n                case REQUEST_ID_MULTIPLE_PERMISSIONS: {\r\n                    // If request is cancelled, the result arrays are empty.\r\n                    if (grantResults.length &gt; 0\r\n                            &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n    \r\n                        // permission was granted, yay! Do the\r\n                        //  task you need to do.\r\n                        if ((ContextCompat.checkSelfPermission(this,\r\n                            Manifest.permission.WRITE_EXTERNAL_STORAGE) == PackageManager.PERMISSION_GRANTED)\r\n                            &amp;&amp; (ContextCompat.checkSelfPermission(this,\r\n                            Manifest.permission.CAMERA) == PackageManager.PERMISSION_GRANTED)\r\n                            &amp;&amp; (ContextCompat.checkSelfPermission(this,\r\n                            Manifest.permission.READ_EXTERNAL_STORAGE) == PackageManager.PERMISSION_GRANTED)) {\r\n                            if (isCamera == 1) {\r\n                                Intent intent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\r\n                                if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) {\r\n                                    intent.setFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\r\n                                    fileUri = FileProvider.getUriForFile(EditProfile.this, getPackageName()+ &quot;.provider&quot;, getOutputMediaFile(MEDIA_TYPE_IMAGE));\r\n                                    intent.putExtra(MediaStore.EXTRA_OUTPUT, fileUri);\r\n                                } else {\r\n                                    fileUri = getOutputMediaFileUri(MEDIA_TYPE_IMAGE);\r\n                                    intent.putExtra(MediaStore.EXTRA_OUTPUT, fileUri);\r\n                                }\r\n                                startActivityForResult(intent, 1);\r\n                            } else {\r\n                                Intent intent = new Intent(Intent.ACTION_PICK, android.provider.MediaStore.Images.Media.EXTERNAL_CONTENT_URI);\r\n                                startActivityForResult(intent, 2);\r\n                            }\r\n                        }\r\n    \r\n                    } else {\r\n                        // permission denied, boo! Disable the\r\n                        // functionality that depends on this permission.\r\n                        Toast.makeText(this, &quot;permission denied&quot;, Toast.LENGTH_LONG).show();\r\n                    }\r\n                    return;\r\n                }\r\n            }\r\n        }","title":"java.lang.IllegalArgumentException: Failed to find configured root that contains /storage/emulated/0/Android/data/","body":"<p>use like this:</p>\n\n<pre><code>private static final int REQUEST_ID_MULTIPLE_PERMISSIONS = 1;\npublic static final int MEDIA_TYPE_IMAGE = 1;\nprivate Uri fileUri;\nint isCamera = 1;\n\n\n\n    if (options[item].equals(\"Camera\")) {\n        isCamera = 1;\n        if (checkandRequestPermission()) {\n           Intent intent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\n           if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) {\n               intent.setFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\n               fileUri = FileProvider.getUriForFile(EditProfile.this, getPackageName()+ \".provider\", getOutputMediaFile(MEDIA_TYPE_IMAGE));\n               intent.putExtra(MediaStore.EXTRA_OUTPUT, fileUri);\n           } else {\n                      fileUri = getOutputMediaFileUri(MEDIA_TYPE_IMAGE);\n                      intent.putExtra(MediaStore.EXTRA_OUTPUT, fileUri);\n             }\n             startActivityForResult(intent, 1);\n          }\n       } else if (options[item].equals(\"Choose from Gallery\")) {\n                isCamera = 0;\n                if (checkandRequestPermission()) {\n                Intent intent = new Intent(Intent.ACTION_PICK, android.provider.MediaStore.Images.Media.EXTERNAL_CONTENT_URI);\n                startActivityForResult(intent, 2);\n       } \n}\n\n\nprivate boolean checkandRequestPermission() {\n        int camera = ContextCompat.checkSelfPermission(this, Manifest.permission.CAMERA);\n        int storageread = ContextCompat.checkSelfPermission(this, Manifest.permission.READ_EXTERNAL_STORAGE);\n        int storagewrite = ContextCompat.checkSelfPermission(this, Manifest.permission.WRITE_EXTERNAL_STORAGE);\n\n        List&lt;String&gt; listpermissionNeeded = new ArrayList&lt;&gt;();\n\n        if (camera != PackageManager.PERMISSION_GRANTED) {\n            listpermissionNeeded.add(Manifest.permission.CAMERA);\n        }\n        if (storageread != PackageManager.PERMISSION_GRANTED) {\n            listpermissionNeeded.add(Manifest.permission.READ_EXTERNAL_STORAGE);\n        }\n        if (storagewrite != PackageManager.PERMISSION_GRANTED) {\n            listpermissionNeeded.add(Manifest.permission.WRITE_EXTERNAL_STORAGE);\n        }\n        if (!listpermissionNeeded.isEmpty()) {\n            ActivityCompat.requestPermissions(EditProfile.this, listpermissionNeeded.toArray(new String[listpermissionNeeded.size()]), REQUEST_ID_MULTIPLE_PERMISSIONS);\n            return false;\n        }\n        return true;\n    }\n</code></pre>\n\n<p>and also add onRequestPermission result.</p>\n\n<pre><code>@Override\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n        switch (requestCode) {\n            case REQUEST_ID_MULTIPLE_PERMISSIONS: {\n                // If request is cancelled, the result arrays are empty.\n                if (grantResults.length &gt; 0\n                        &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n\n                    // permission was granted, yay! Do the\n                    //  task you need to do.\n                    if ((ContextCompat.checkSelfPermission(this,\n                        Manifest.permission.WRITE_EXTERNAL_STORAGE) == PackageManager.PERMISSION_GRANTED)\n                        &amp;&amp; (ContextCompat.checkSelfPermission(this,\n                        Manifest.permission.CAMERA) == PackageManager.PERMISSION_GRANTED)\n                        &amp;&amp; (ContextCompat.checkSelfPermission(this,\n                        Manifest.permission.READ_EXTERNAL_STORAGE) == PackageManager.PERMISSION_GRANTED)) {\n                        if (isCamera == 1) {\n                            Intent intent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\n                            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) {\n                                intent.setFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\n                                fileUri = FileProvider.getUriForFile(EditProfile.this, getPackageName()+ \".provider\", getOutputMediaFile(MEDIA_TYPE_IMAGE));\n                                intent.putExtra(MediaStore.EXTRA_OUTPUT, fileUri);\n                            } else {\n                                fileUri = getOutputMediaFileUri(MEDIA_TYPE_IMAGE);\n                                intent.putExtra(MediaStore.EXTRA_OUTPUT, fileUri);\n                            }\n                            startActivityForResult(intent, 1);\n                        } else {\n                            Intent intent = new Intent(Intent.ACTION_PICK, android.provider.MediaStore.Images.Media.EXTERNAL_CONTENT_URI);\n                            startActivityForResult(intent, 2);\n                        }\n                    }\n\n                } else {\n                    // permission denied, boo! Disable the\n                    // functionality that depends on this permission.\n                    Toast.makeText(this, \"permission denied\", Toast.LENGTH_LONG).show();\n                }\n                return;\n            }\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6111085,"reputation":337,"user_id":4767379,"display_name":"Darshan Kachhadiya"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1487827900,"creation_date":1487827900,"answer_id":42407817,"question_id":42407486,"body_markdown":"        \r\n    \r\n    public void getGROUPSTORAGEPremission(){\r\n            int hasWriteContactsPermission = Splash_activity.this.checkSelfPermission(Manifest.permission_group.STORAGE);\r\n            if (hasWriteContactsPermission != PackageManager.PERMISSION_GRANTED) {\r\n                Splash_activity.this.requestPermissions(new String[]{  Manifest.permission_group.STORAGE},\r\n                        PERMISSION_GROUPSTORAGE);\r\n            } else {\r\n    \r\n                //your code here\r\n            }\r\n    \r\n        }\r\n    \r\n    \r\n    @Override\r\n        public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n            super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n            if (requestCode == PERMISSION_RECEIVESMS) {\r\n                if (grantResults[0] == PackageManager.PERMISSION_GROUPSTORAGE) {\r\n                    //your code here\r\n                } else {\r\n                    // Permission Denied\r\n    //              Toast.makeText(mContext, &quot;STORAGE Denied&quot;, Toast.LENGTH_SHORT)\r\n    //                      .show();\r\n                }\r\n            }\r\n\r\n","title":"java.lang.IllegalArgumentException: Failed to find configured root that contains /storage/emulated/0/Android/data/","body":"<pre><code>public void getGROUPSTORAGEPremission(){\n        int hasWriteContactsPermission = Splash_activity.this.checkSelfPermission(Manifest.permission_group.STORAGE);\n        if (hasWriteContactsPermission != PackageManager.PERMISSION_GRANTED) {\n            Splash_activity.this.requestPermissions(new String[]{  Manifest.permission_group.STORAGE},\n                    PERMISSION_GROUPSTORAGE);\n        } else {\n\n            //your code here\n        }\n\n    }\n\n\n@Override\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n        if (requestCode == PERMISSION_RECEIVESMS) {\n            if (grantResults[0] == PackageManager.PERMISSION_GROUPSTORAGE) {\n                //your code here\n            } else {\n                // Permission Denied\n//              Toast.makeText(mContext, \"STORAGE Denied\", Toast.LENGTH_SHORT)\n//                      .show();\n            }\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9484544,"reputation":191,"user_id":7051295,"display_name":"kranthi kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1487997585,"creation_date":1487997585,"answer_id":42452023,"question_id":42407486,"body_markdown":"I resolved this issue by moving \r\n\r\n    &lt;uses-feature android:name=&quot;android.hardware.camera&quot;\r\n            android:required=&quot;true&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;\r\n            android:maxSdkVersion=&quot;18&quot; /&gt;\r\n        &lt;provider\r\n            android:name=&quot;android.support.v4.content.FileProvider&quot;\r\n            android:authorities=&quot;com.example.android.fileprovider&quot;\r\n            android:exported=&quot;false&quot;\r\n            android:grantUriPermissions=&quot;true&quot;&gt;\r\n            &lt;meta-data\r\n                android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\r\n                android:resource=&quot;@xml/file_paths&quot;&gt;&lt;/meta-data&gt;\r\n        &lt;/provider&gt;\r\n\r\ncode to application level in manifest file.\r\n\r\n","title":"java.lang.IllegalArgumentException: Failed to find configured root that contains /storage/emulated/0/Android/data/","body":"<p>I resolved this issue by moving </p>\n\n<pre><code>&lt;uses-feature android:name=\"android.hardware.camera\"\n        android:required=\"true\" /&gt;\n    &lt;uses-permission android:name=\"android.permission.READ_EXTERNAL_STORAGE\"/&gt;\n    &lt;uses-permission android:name=\"android.permission.WRITE_EXTERNAL_STORAGE\"\n        android:maxSdkVersion=\"18\" /&gt;\n    &lt;provider\n        android:name=\"android.support.v4.content.FileProvider\"\n        android:authorities=\"com.example.android.fileprovider\"\n        android:exported=\"false\"\n        android:grantUriPermissions=\"true\"&gt;\n        &lt;meta-data\n            android:name=\"android.support.FILE_PROVIDER_PATHS\"\n            android:resource=\"@xml/file_paths\"&gt;&lt;/meta-data&gt;\n    &lt;/provider&gt;\n</code></pre>\n\n<p>code to application level in manifest file.</p>\n"},{"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1495101701,"post_id":44044020,"comment_id":75114719,"body_markdown":"Some words of explanation usually are appreciated on stack overflow.","body":"Some words of explanation usually are appreciated on stack overflow."},{"owner":{"account_id":10925369,"reputation":111,"user_id":8030252,"display_name":"DavidChen"},"score":1,"creation_date":1495156571,"post_id":44044020,"comment_id":75144919,"body_markdown":"I&#39;m not good at English, and it&#39;s the first time I&#39;ve made a comment on stack overflow. I hope you understand what I&#39;m talking about.","body":"I&#39;m not good at English, and it&#39;s the first time I&#39;ve made a comment on stack overflow. I hope you understand what I&#39;m talking about."},{"owner":{"account_id":8865292,"reputation":129,"user_id":6620655,"display_name":"DMP"},"score":0,"creation_date":1512161148,"post_id":44044020,"comment_id":82161100,"body_markdown":"Second one also worked for me... this was a huge headache before, thanks!","body":"Second one also worked for me... this was a huge headache before, thanks!"},{"owner":{"account_id":5538150,"reputation":134,"user_id":4395748,"accept_rate":50,"display_name":"Shubhank Tyagi"},"score":0,"creation_date":1619596732,"post_id":44044020,"comment_id":118949937,"body_markdown":"I&#39;m having similar issue. Could you please help?\nhttps://stackoverflow.com/questions/67279734/java-lang-illegalargumentexception-failed-to-find-configured-root-that-contains","body":"I&#39;m having similar issue. Could you please help? <a href=\"https://stackoverflow.com/questions/67279734/java-lang-illegalargumentexception-failed-to-find-configured-root-that-contains\" title=\"java lang illegalargumentexception failed to find configured root that contains\">stackoverflow.com/questions/67279734/&hellip;</a>"}],"tags":[],"owner":{"account_id":10925369,"reputation":111,"user_id":8030252,"display_name":"DavidChen"},"comment_count":4,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1553593276,"creation_date":1495100156,"answer_id":44044020,"question_id":42407486,"body_markdown":"You can not access the `com.androidapp.natty.catalogcreate / files / Pictures directory in the root directory / storage / emulated / 0 /(external-path)` directly .You need to specify its full path, that is,&#39; `Android / data / com.androidapp.natty .catalogcreate / files / Pictures`&#39;.\r\n\r\nYou can also use external-files-path (corresponding to `/storage/emulated/0/com.androidapp.natty.catalogcreate/files/` directory), and then specify its Pictures directory.\r\ncode shown below:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n        &lt;paths xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n            &lt;external-path name=&quot;my_images&quot; path=&quot;Android/data/com.androidapp.natty.catalogcreate/files/Pictures&quot; /&gt;\r\n        &lt;/paths&gt;\r\n\r\nor:\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n        &lt;paths xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n            &lt;external-files-path name=&quot;my_images&quot; path=&quot;&quot; /&gt;\r\n        &lt;/paths&gt;  \r\n\r\nor:\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n        &lt;paths xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n            &lt;external-files-path name=&quot;my_images&quot; path=&quot;Pictures&quot; /&gt;\r\n        &lt;/paths&gt;  ","title":"java.lang.IllegalArgumentException: Failed to find configured root that contains /storage/emulated/0/Android/data/","body":"<p>You can not access the <code>com.androidapp.natty.catalogcreate / files / Pictures directory in the root directory / storage / emulated / 0 /(external-path)</code> directly .You need to specify its full path, that is,' <code>Android / data / com.androidapp.natty .catalogcreate / files / Pictures</code>'.</p>\n\n<p>You can also use external-files-path (corresponding to <code>/storage/emulated/0/com.androidapp.natty.catalogcreate/files/</code> directory), and then specify its Pictures directory.\ncode shown below:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n    &lt;paths xmlns:android=\"http://schemas.android.com/apk/res/android\"&gt;\n        &lt;external-path name=\"my_images\" path=\"Android/data/com.androidapp.natty.catalogcreate/files/Pictures\" /&gt;\n    &lt;/paths&gt;\n</code></pre>\n\n<p>or:</p>\n\n<pre><code>    &lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n    &lt;paths xmlns:android=\"http://schemas.android.com/apk/res/android\"&gt;\n        &lt;external-files-path name=\"my_images\" path=\"\" /&gt;\n    &lt;/paths&gt;  \n</code></pre>\n\n<p>or:</p>\n\n<pre><code>    &lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n    &lt;paths xmlns:android=\"http://schemas.android.com/apk/res/android\"&gt;\n        &lt;external-files-path name=\"my_images\" path=\"Pictures\" /&gt;\n    &lt;/paths&gt;  \n</code></pre>\n"},{"comments":[{"owner":{"account_id":4307653,"reputation":121,"user_id":3519633,"display_name":"Asad35Waheed"},"score":0,"creation_date":1632831729,"post_id":58117126,"comment_id":122595085,"body_markdown":"yeah this worked. As I was saving file using context.getFilesDir(). Thanks","body":"yeah this worked. As I was saving file using context.getFilesDir(). Thanks"}],"tags":[],"owner":{"account_id":8817053,"reputation":307,"user_id":6588116,"display_name":"Pranav Moyal"},"comment_count":1,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1569501913,"creation_date":1569501913,"answer_id":58117126,"question_id":42407486,"body_markdown":"I think these is the right way\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;paths&gt;\r\n      &lt;external-path\r\n        name=&quot;external&quot;\r\n        path=&quot;.&quot; /&gt;\r\n      &lt;external-files-path\r\n        name=&quot;external_files&quot;\r\n        path=&quot;.&quot; /&gt;\r\n      &lt;cache-path\r\n        name=&quot;cache&quot;\r\n        path=&quot;.&quot; /&gt;\r\n      &lt;external-cache-path\r\n        name=&quot;external_cache&quot;\r\n        path=&quot;.&quot; /&gt;\r\n    &lt;files-path\r\n        name=&quot;files&quot;\r\n        path=&quot;.&quot; /&gt;\r\n    &lt;/paths&gt;","title":"java.lang.IllegalArgumentException: Failed to find configured root that contains /storage/emulated/0/Android/data/","body":"<p>I think these is the right way</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;paths&gt;\n  &lt;external-path\n    name=\"external\"\n    path=\".\" /&gt;\n  &lt;external-files-path\n    name=\"external_files\"\n    path=\".\" /&gt;\n  &lt;cache-path\n    name=\"cache\"\n    path=\".\" /&gt;\n  &lt;external-cache-path\n    name=\"external_cache\"\n    path=\".\" /&gt;\n&lt;files-path\n    name=\"files\"\n    path=\".\" /&gt;\n&lt;/paths&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2023658,"reputation":4128,"user_id":1809268,"accept_rate":22,"display_name":"Ajith M A"},"score":1,"creation_date":1589041066,"post_id":60045227,"comment_id":109137082,"body_markdown":"Does this mean we are asking for an access to the whole root folder instead of app specific folder?","body":"Does this mean we are asking for an access to the whole root folder instead of app specific folder?"}],"tags":[],"owner":{"account_id":9259435,"reputation":729,"user_id":6877057,"display_name":"mani"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1580755164,"creation_date":1580755164,"answer_id":60045227,"question_id":42407486,"body_markdown":"use file provider in manifest\r\n\r\n\r\nand declare provider_path as mentioned below \r\n&lt;paths&gt;\r\n    \r\n        &lt;external-path path=&quot;.&quot; name=&quot;external_storage_root&quot; /&gt;\r\n&lt;/paths&gt;\r\n\r\nIt will fix the problem","title":"java.lang.IllegalArgumentException: Failed to find configured root that contains /storage/emulated/0/Android/data/","body":"<p>use file provider in manifest</p>\n\n<p>and declare provider_path as mentioned below \n</p>\n\n<pre><code>    &lt;external-path path=\".\" name=\"external_storage_root\" /&gt;\n</code></pre>\n\n<p></p>\n\n<p>It will fix the problem</p>\n"},{"comments":[{"owner":{"account_id":18981447,"reputation":908,"user_id":13852758,"display_name":"Gulab Sagevadiya"},"score":1,"creation_date":1653452483,"post_id":69066926,"comment_id":127853240,"body_markdown":"what About Environment.getExternalStoragePublicDirectory ?","body":"what About Environment.getExternalStoragePublicDirectory ?"}],"tags":[],"owner":{"account_id":10453530,"reputation":6345,"user_id":7706354,"display_name":"lava"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1630957042,"creation_date":1630873295,"answer_id":69066926,"question_id":42407486,"body_markdown":"Please consider this if your are a beginner or little confusion about fileprovider configure\r\n\r\n - `&lt;files-path/&gt; - internal app storage, Context#getFilesDir()`\r\n - `&lt;cache-path/&gt; - internal app cache storage, Context#getCacheDir()`\r\n - `&lt;external-path/&gt; - public external storage, Environment.getExternalStorageDirectory()`\r\n - `&lt;external-files-path/&gt; - external app storage, Context#getExternalFilesDir(null)`\r\n - `&lt;external-cache-path/&gt; - external app cache storage, Context#getExternalCacheDir()`\r\n\r\n**Here is a case solution genuine or secure** \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;paths xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n        &lt;external-path name=&quot;my_images&quot; path=&quot;/&quot; /&gt;\r\n    &lt;/paths&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\n`Environment.getExternalStorageDirectory()` returns path like this:\r\n\r\n    /storage/emulated/0\r\n\r\nso \r\n\r\n    &lt;external-path name=&quot;my_images&quot; path=&quot;/&quot; /&gt;\r\n\r\nenough to access all file inside folder if you want some control on the folder you can change like this `&lt;external-path name=&quot;my_images&quot; path=&quot;/b&quot; /&gt;` .then you get only **b** folder, file and folder\r\n\r\n   ","title":"java.lang.IllegalArgumentException: Failed to find configured root that contains /storage/emulated/0/Android/data/","body":"<p>Please consider this if your are a beginner or little confusion about fileprovider configure</p>\n<ul>\n<li><code>&lt;files-path/&gt; - internal app storage, Context#getFilesDir()</code></li>\n<li><code>&lt;cache-path/&gt; - internal app cache storage, Context#getCacheDir()</code></li>\n<li><code>&lt;external-path/&gt; - public external storage, Environment.getExternalStorageDirectory()</code></li>\n<li><code>&lt;external-files-path/&gt; - external app storage, Context#getExternalFilesDir(null)</code></li>\n<li><code>&lt;external-cache-path/&gt; - external app cache storage, Context#getExternalCacheDir()</code></li>\n</ul>\n<p><strong>Here is a case solution genuine or secure</strong></p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;paths xmlns:android=\"http://schemas.android.com/apk/res/android\"&gt;\n    &lt;external-path name=\"my_images\" path=\"/\" /&gt;\n&lt;/paths&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p><code>Environment.getExternalStorageDirectory()</code> returns path like this:</p>\n<pre><code>/storage/emulated/0\n</code></pre>\n<p>so</p>\n<pre><code>&lt;external-path name=&quot;my_images&quot; path=&quot;/&quot; /&gt;\n</code></pre>\n<p>enough to access all file inside folder if you want some control on the folder you can change like this <code>&lt;external-path name=&quot;my_images&quot; path=&quot;/b&quot; /&gt;</code> .then you get only <strong>b</strong> folder, file and folder</p>\n"},{"tags":[],"owner":{"account_id":23101871,"reputation":1,"user_id":17211187,"display_name":"Laxman Poddar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691486910,"creation_date":1691486910,"answer_id":76858229,"question_id":42407486,"body_markdown":"Checked authorities in provider \r\n\r\n    &lt;provider\r\n            android:name=&quot;androidx.core.content.FileProvider&quot;\r\n            android:authorities=&quot;com.tomodori.crew&quot;\r\n            android:exported=&quot;false&quot;\r\n            android:grantUriPermissions=&quot;true&quot;\r\n            tools:replace=&quot;android:authorities&quot;&gt;\r\n            &lt;meta-data\r\n                android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\r\n                android:resource=&quot;@xml/file_paths&quot; /&gt;\r\n        &lt;/provider&gt;","title":"java.lang.IllegalArgumentException: Failed to find configured root that contains /storage/emulated/0/Android/data/","body":"<p>Checked authorities in provider</p>\n<pre><code>&lt;provider\n        android:name=&quot;androidx.core.content.FileProvider&quot;\n        android:authorities=&quot;com.tomodori.crew&quot;\n        android:exported=&quot;false&quot;\n        android:grantUriPermissions=&quot;true&quot;\n        tools:replace=&quot;android:authorities&quot;&gt;\n        &lt;meta-data\n            android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\n            android:resource=&quot;@xml/file_paths&quot; /&gt;\n    &lt;/provider&gt;\n</code></pre>\n"}],"owner":{"account_id":9484544,"reputation":191,"user_id":7051295,"display_name":"kranthi kumar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35673,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"answer_count":8,"score":18,"last_activity_date":1691486910,"creation_date":1487826405,"question_id":42407486,"body_markdown":"Building basic app and getting IllegalArgumentException: Had a Button to launch camera app where I am trying to save image to pictures. `dispatchTakePictureIntent();` method is called when I click Image button\r\n \r\nFound few similar issues but that couldn&#39;t resolve my issue: \r\n\r\n - https://stackoverflow.com/questions/31345275/android-fileprovider-illegalargumentexception-failed-to-find-configured-root-th\r\n - https://stackoverflow.com/questions/39293114/fileprovider-failed-to-find-configured-root-exception\r\n\r\nBelow is my code. Can some one help what I am missing?\r\n\r\n \r\n\r\n    public class CatalogDataActivity extends AppCompatActivity {\r\n    \r\n        static final int REQUEST_IMAGE_CAPTURE = 1;\r\n        public String path= Environment.getExternalStorageDirectory().getAbsolutePath()+&quot;/CatalogData&quot;;\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            //verifyStoragePermissions();\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_catalog_data);\r\n            final Button btCamera=(Button)findViewById(R.id.btn_camera);\r\n            final Button btSave=(Button)findViewById(R.id.btn_save);\r\n    \r\n            final EditText etProductName=(EditText)findViewById(R.id.et_productName);\r\n            final EditText etProductDescription=(EditText)findViewById(R.id.et_description);\r\n            final TextView finalText=(TextView)findViewById(R.id.tv_saved_text);\r\n            File dir=new File(path);\r\n            if(!dir.isDirectory()){\r\n                dir.mkdir();\r\n            }\r\n            btCamera.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                   /* Intent takePictureIntent=new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\r\n                    if(takePictureIntent.resolveActivity(getPackageManager())!=null){\r\n                        startActivityForResult(takePictureIntent,REQUEST_IMAGE_CAPTURE);\r\n                    }*/\r\n                    dispatchTakePictureIntent();\r\n                }\r\n            });\r\n            btSave.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    String newProductDataStr=etProductName.getText()+&quot;,&quot;+etProductDescription.getText()+&quot;|&quot;;\r\n                    File file=new File(path+&quot;/catalogdata.txt&quot;);\r\n                    System.out.println(&quot;Path:&quot;+path);\r\n                    writeToFile(newProductDataStr,getApplicationContext());\r\n                    String data=readFromFile(getApplicationContext());\r\n                    finalText.setText(data);\r\n                    //finalText.\r\n                    String []splitData=data.split(&quot;|&quot;);\r\n    \r\n                    //System.out.println(&quot;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;////&quot;+splitData.length+&quot;/////&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&quot;+splitData[splitData.length-4]);\r\n                }\r\n            });\r\n    \r\n        }\r\n    \r\n        private void writeToFile(String data,Context context) {\r\n            try {\r\n                OutputStreamWriter outputStreamWriter = new OutputStreamWriter(context.openFileOutput(&quot;config1.txt&quot;, Context.MODE_APPEND));\r\n                outputStreamWriter.write(data);\r\n                outputStreamWriter.close();\r\n            }\r\n            catch (IOException e) {\r\n                System.out.println(&quot;Exception&quot;+ &quot;File write failed: &quot; + e.toString());\r\n            }\r\n        }\r\n    \r\n        private String readFromFile(Context context) {\r\n    \r\n            String ret = &quot;&quot;;\r\n    \r\n            try {\r\n                InputStream inputStream = context.openFileInput(&quot;config1.txt&quot;);\r\n    \r\n                if ( inputStream != null ) {\r\n                    InputStreamReader inputStreamReader = new InputStreamReader(inputStream);\r\n                    BufferedReader bufferedReader = new BufferedReader(inputStreamReader);\r\n                    String receiveString = &quot;&quot;;\r\n                    StringBuilder stringBuilder = new StringBuilder();\r\n    \r\n                    while ( (receiveString = bufferedReader.readLine()) != null ) {\r\n                        stringBuilder.append(receiveString);\r\n                    }\r\n    \r\n                    inputStream.close();\r\n                    ret = stringBuilder.toString();\r\n                }\r\n            }\r\n            catch (FileNotFoundException e) {\r\n                Log.e(&quot;login activity&quot;, &quot;File not found: &quot; + e.toString());\r\n            } catch (IOException e) {\r\n                Log.e(&quot;login activity&quot;, &quot;Can not read file: &quot; + e.toString());\r\n            }\r\n    \r\n            return ret;\r\n        }\r\n    \r\n        @Override\r\n        public void onActivityResult(int requestCode,int resultCode,Intent data){\r\n            if (requestCode == REQUEST_IMAGE_CAPTURE &amp;&amp; resultCode == RESULT_OK) {\r\n                Bundle extras = data.getExtras();\r\n                Bitmap bitMap = (Bitmap) extras.get(&quot;data&quot;);\r\n                String ImagePath = MediaStore.Images.Media.insertImage(\r\n                        getContentResolver(),\r\n                        bitMap,\r\n                        &quot;demo_image&quot;,\r\n                        &quot;demo_image&quot;\r\n                );\r\n                System.out.println(&quot;Saved Image in :&quot;+ImagePath);\r\n            }\r\n        }\r\n    \r\n        String mCurrentPhotoPath;\r\n    \r\n        private File createImageFile() throws IOException {\r\n            // Create an image file name\r\n            String timeStamp = new SimpleDateFormat(&quot;yyyyMMdd_HHmmss&quot;).format(new Date());\r\n            String imageFileName = &quot;JPEG_&quot; + timeStamp + &quot;_&quot;;\r\n            File storageDir = getExternalFilesDir(Environment.DIRECTORY_PICTURES);\r\n            if(!storageDir.isDirectory()){\r\n                storageDir.mkdir();\r\n            }\r\n            File image = File.createTempFile(\r\n                    imageFileName,  /* prefix */\r\n                    &quot;.jpg&quot;,         /* suffix */\r\n                    storageDir      /* directory */\r\n            );\r\n    \r\n            // Save a file: path for use with ACTION_VIEW intents\r\n            mCurrentPhotoPath = image.getAbsolutePath();\r\n            return image;\r\n        }\r\n        static final int REQUEST_TAKE_PHOTO = 1;\r\n    \r\n        private void dispatchTakePictureIntent() {\r\n            Intent takePictureIntent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\r\n            // Ensure that there&#39;s a camera activity to handle the intent\r\n            if (takePictureIntent.resolveActivity(getPackageManager()) != null) {\r\n                // Create the File where the photo should go\r\n                File photoFile = null;\r\n                try {\r\n                    photoFile = createImageFile();\r\n                } catch (IOException ex) {\r\n                    ex.printStackTrace();\r\n    \r\n                }\r\n                // Continue only if the File was successfully created\r\n                if (photoFile != null) {\r\n                    try {\r\n                        Uri photoURI = FileProvider.getUriForFile(this,\r\n                                &quot;com.example.android.fileprovider&quot;,\r\n                                photoFile);\r\n                        takePictureIntent.putExtra(MediaStore.EXTRA_OUTPUT, photoURI);\r\n                        startActivityForResult(takePictureIntent, REQUEST_TAKE_PHOTO);\r\n                    }catch(Exception e){\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n                //galleryAddPic();\r\n            }\r\n        }\r\n        private void galleryAddPic() {\r\n            Intent mediaScanIntent = new Intent(Intent.ACTION_MEDIA_SCANNER_SCAN_FILE);\r\n            File f = new File(mCurrentPhotoPath);\r\n            Uri contentUri = Uri.fromFile(f);\r\n            mediaScanIntent.setData(contentUri);\r\n            this.sendBroadcast(mediaScanIntent);\r\n        }\r\n    \r\n    }\r\n\r\n\r\n&gt;manifest.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        package=&quot;com.androidapp.natty.catalogcreate&quot;&gt;\r\n    \r\n        &lt;application\r\n            android:allowBackup=&quot;true&quot;\r\n            android:icon=&quot;@mipmap/ic_launcher&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:supportsRtl=&quot;true&quot;\r\n            android:theme=&quot;@style/AppTheme&quot;&gt;\r\n            &lt;activity android:name=&quot;.CatalogDataActivity&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n    \r\n                    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n        &lt;/application&gt;\r\n        &lt;uses-feature android:name=&quot;android.hardware.camera&quot;\r\n            android:required=&quot;true&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;\r\n            android:maxSdkVersion=&quot;18&quot; /&gt;\r\n        &lt;provider\r\n            android:name=&quot;android.support.v4.content.FileProvider&quot;\r\n            android:authorities=&quot;com.example.android.fileprovider&quot;\r\n            android:exported=&quot;false&quot;\r\n            android:grantUriPermissions=&quot;true&quot;&gt;\r\n            &lt;meta-data\r\n                android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\r\n                android:resource=&quot;@xml/file_paths&quot;&gt;&lt;/meta-data&gt;\r\n        &lt;/provider&gt;\r\n    &lt;/manifest&gt;\r\n\r\n&gt; file_paths.xml placed at res/xml/file_paths.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;paths xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n        &lt;external-path name=&quot;my_images&quot; path=&quot;com.androidapp.natty.catalogcreate/files/Pictures&quot; /&gt;\r\n    &lt;/paths&gt;    \r\n\r\n&gt; activity_catalog_data.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:id=&quot;@+id/activity_catalog_data&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:paddingBottom=&quot;@dimen/activity_vertical_margin&quot;\r\n        android:paddingLeft=&quot;@dimen/activity_horizontal_margin&quot;\r\n        android:paddingRight=&quot;@dimen/activity_horizontal_margin&quot;\r\n        android:paddingTop=&quot;@dimen/activity_vertical_margin&quot;\r\n        tools:context=&quot;com.androidapp.natty.catalogcreate.CatalogDataActivity&quot;&gt;\r\n    \r\n        &lt;TextView\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;Hello World!&quot;\r\n            android:id=&quot;@+id/textView&quot; /&gt;\r\n    \r\n        &lt;Button\r\n            android:text=&quot;Open Camera&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_below=&quot;@+id/textView&quot;\r\n            android:layout_marginTop=&quot;10dp&quot;\r\n            android:id=&quot;@+id/btn_camera&quot;\r\n            android:layout_alignParentRight=&quot;true&quot;\r\n            android:layout_alignParentEnd=&quot;true&quot;\r\n            android:layout_alignParentLeft=&quot;true&quot;\r\n            android:layout_alignParentStart=&quot;true&quot;\r\n            android:elevation=&quot;0dp&quot; /&gt;\r\n    \r\n        &lt;EditText\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:inputType=&quot;textPersonName&quot;\r\n            android:text=&quot;Product Name&quot;\r\n            android:ems=&quot;10&quot;\r\n            android:layout_below=&quot;@+id/btn_camera&quot;\r\n            android:layout_marginTop=&quot;50dp&quot;\r\n            android:id=&quot;@+id/et_productName&quot;\r\n            android:layout_alignParentLeft=&quot;true&quot;\r\n            android:layout_alignParentStart=&quot;true&quot;\r\n            android:layout_alignParentRight=&quot;true&quot;\r\n            android:layout_alignParentEnd=&quot;true&quot; /&gt;\r\n    \r\n        &lt;EditText\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:inputType=&quot;textMultiLine&quot;\r\n            android:ems=&quot;10&quot;\r\n            android:id=&quot;@+id/et_description&quot;\r\n            android:text=&quot;Enter Description&quot;\r\n            android:layout_below=&quot;@+id/et_productName&quot;\r\n            android:layout_alignParentRight=&quot;true&quot;\r\n            android:layout_alignParentEnd=&quot;true&quot;\r\n            android:layout_alignParentLeft=&quot;true&quot;\r\n            android:layout_alignParentStart=&quot;true&quot; /&gt;\r\n    \r\n        &lt;ImageView\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            app:srcCompat=&quot;@android:drawable/ic_menu_add&quot;\r\n            android:layout_marginTop=&quot;28dp&quot;\r\n            android:id=&quot;@+id/iv_image1&quot;\r\n            android:layout_below=&quot;@+id/et_description&quot; /&gt;\r\n    \r\n        &lt;ImageView\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            app:srcCompat=&quot;@android:drawable/ic_menu_add&quot;\r\n            android:layout_alignTop=&quot;@+id/iv_image1&quot;\r\n            android:layout_toRightOf=&quot;@+id/textView&quot;\r\n            android:layout_toEndOf=&quot;@+id/textView&quot;\r\n            android:id=&quot;@+id/iv_image2&quot; /&gt;\r\n    \r\n        &lt;ImageView\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            app:srcCompat=&quot;@android:drawable/ic_menu_add&quot;\r\n            android:layout_marginLeft=&quot;41dp&quot;\r\n            android:layout_marginStart=&quot;41dp&quot;\r\n            android:id=&quot;@+id/iv_image3&quot;\r\n            android:layout_alignTop=&quot;@+id/iv_image2&quot;\r\n            android:layout_toRightOf=&quot;@+id/iv_image2&quot;\r\n            android:layout_toEndOf=&quot;@+id/iv_image2&quot; /&gt;\r\n    \r\n        &lt;Button\r\n            android:text=&quot;Save Product&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_below=&quot;@+id/iv_image2&quot;\r\n            android:layout_marginTop=&quot;18dp&quot;\r\n            android:id=&quot;@+id/btn_save&quot;\r\n            android:layout_alignParentRight=&quot;true&quot;\r\n            android:layout_alignParentEnd=&quot;true&quot;\r\n            android:layout_alignParentLeft=&quot;true&quot;\r\n            android:layout_alignParentStart=&quot;true&quot; /&gt;\r\n    \r\n        &lt;TextView\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_below=&quot;@+id/btn_save&quot;\r\n            android:layout_marginTop=&quot;56dp&quot;\r\n            android:text=&quot;Hello World!&quot;\r\n            android:id=&quot;@+id/tv_saved_text&quot; /&gt;\r\n    \r\n    &lt;/RelativeLayout&gt;\r\n\r\n    &gt; W/System.err: java.lang.IllegalArgumentException: Failed to find configured root that contains /storage/emulated/0/Android/data/com.androidapp.natty.catalogcreate/files/Pictures/JPEG_20170222_233359_1077283085.jpg\r\n    W/System.err:     at android.support.v4.content.FileProvider$SimplePathStrategy.getUriForFile(FileProvider.java:711)\r\n    W/System.err:     at android.support.v4.content.FileProvider.getUriForFile(FileProvider.java:400)\r\n    W/System.err:     at com.androidapp.natty.catalogcreate.CatalogDataActivity.dispatchTakePictureIntent(CatalogDataActivity.java:176)\r\n    W/System.err:     at com.androidapp.natty.catalogcreate.CatalogDataActivity.access$000(CatalogDataActivity.java:33)\r\n    W/System.err:     at com.androidapp.natty.catalogcreate.CatalogDataActivity$1.onClick(CatalogDataActivity.java:61)\r\n    W/System.err:     at android.view.View.performClick(View.java:5612)\r\n    W/System.err:     at android.view.View$PerformClick.run(View.java:22285)\r\n    W/System.err:     at android.os.Handler.handleCallback(Handler.java:751)\r\n    W/System.err:     at android.os.Handler.dispatchMessage(Handler.java:95)\r\n    W/System.err:     at android.os.Looper.loop(Looper.java:154)\r\n    W/System.err:     at android.app.ActivityThread.main(ActivityThread.java:6123)\r\n    W/System.err:     at java.lang.reflect.Method.invoke(Native Method)\r\n    W/System.err:     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:867)\r\n    W/System.err:     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:757)\r\n    I/Choreographer: Skipped 2537 frames!  The application may be doing too much work on its main thread.\r\n    I/art: Do full code cache collection, code=101KB, data=124KB\r\n    I/art: After code cache collection, code=64KB, data=67KB\r\n","title":"java.lang.IllegalArgumentException: Failed to find configured root that contains /storage/emulated/0/Android/data/","body":"<p>Building basic app and getting IllegalArgumentException: Had a Button to launch camera app where I am trying to save image to pictures. <code>dispatchTakePictureIntent();</code> method is called when I click Image button</p>\n\n<p>Found few similar issues but that couldn't resolve my issue: </p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/31345275/android-fileprovider-illegalargumentexception-failed-to-find-configured-root-th\">Android: FileProvider IllegalArgumentException Failed to find configured root that contains /data/data/**/files/Videos/final.mp4</a></li>\n<li><a href=\"https://stackoverflow.com/questions/39293114/fileprovider-failed-to-find-configured-root-exception\">FileProvider &quot;Failed to find configured root&quot; exception</a></li>\n</ul>\n\n<p>Below is my code. Can some one help what I am missing?</p>\n\n<pre><code>public class CatalogDataActivity extends AppCompatActivity {\n\n    static final int REQUEST_IMAGE_CAPTURE = 1;\n    public String path= Environment.getExternalStorageDirectory().getAbsolutePath()+\"/CatalogData\";\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        //verifyStoragePermissions();\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_catalog_data);\n        final Button btCamera=(Button)findViewById(R.id.btn_camera);\n        final Button btSave=(Button)findViewById(R.id.btn_save);\n\n        final EditText etProductName=(EditText)findViewById(R.id.et_productName);\n        final EditText etProductDescription=(EditText)findViewById(R.id.et_description);\n        final TextView finalText=(TextView)findViewById(R.id.tv_saved_text);\n        File dir=new File(path);\n        if(!dir.isDirectory()){\n            dir.mkdir();\n        }\n        btCamera.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n               /* Intent takePictureIntent=new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\n                if(takePictureIntent.resolveActivity(getPackageManager())!=null){\n                    startActivityForResult(takePictureIntent,REQUEST_IMAGE_CAPTURE);\n                }*/\n                dispatchTakePictureIntent();\n            }\n        });\n        btSave.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                String newProductDataStr=etProductName.getText()+\",\"+etProductDescription.getText()+\"|\";\n                File file=new File(path+\"/catalogdata.txt\");\n                System.out.println(\"Path:\"+path);\n                writeToFile(newProductDataStr,getApplicationContext());\n                String data=readFromFile(getApplicationContext());\n                finalText.setText(data);\n                //finalText.\n                String []splitData=data.split(\"|\");\n\n                //System.out.println(\"&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;////\"+splitData.length+\"/////&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;\"+splitData[splitData.length-4]);\n            }\n        });\n\n    }\n\n    private void writeToFile(String data,Context context) {\n        try {\n            OutputStreamWriter outputStreamWriter = new OutputStreamWriter(context.openFileOutput(\"config1.txt\", Context.MODE_APPEND));\n            outputStreamWriter.write(data);\n            outputStreamWriter.close();\n        }\n        catch (IOException e) {\n            System.out.println(\"Exception\"+ \"File write failed: \" + e.toString());\n        }\n    }\n\n    private String readFromFile(Context context) {\n\n        String ret = \"\";\n\n        try {\n            InputStream inputStream = context.openFileInput(\"config1.txt\");\n\n            if ( inputStream != null ) {\n                InputStreamReader inputStreamReader = new InputStreamReader(inputStream);\n                BufferedReader bufferedReader = new BufferedReader(inputStreamReader);\n                String receiveString = \"\";\n                StringBuilder stringBuilder = new StringBuilder();\n\n                while ( (receiveString = bufferedReader.readLine()) != null ) {\n                    stringBuilder.append(receiveString);\n                }\n\n                inputStream.close();\n                ret = stringBuilder.toString();\n            }\n        }\n        catch (FileNotFoundException e) {\n            Log.e(\"login activity\", \"File not found: \" + e.toString());\n        } catch (IOException e) {\n            Log.e(\"login activity\", \"Can not read file: \" + e.toString());\n        }\n\n        return ret;\n    }\n\n    @Override\n    public void onActivityResult(int requestCode,int resultCode,Intent data){\n        if (requestCode == REQUEST_IMAGE_CAPTURE &amp;&amp; resultCode == RESULT_OK) {\n            Bundle extras = data.getExtras();\n            Bitmap bitMap = (Bitmap) extras.get(\"data\");\n            String ImagePath = MediaStore.Images.Media.insertImage(\n                    getContentResolver(),\n                    bitMap,\n                    \"demo_image\",\n                    \"demo_image\"\n            );\n            System.out.println(\"Saved Image in :\"+ImagePath);\n        }\n    }\n\n    String mCurrentPhotoPath;\n\n    private File createImageFile() throws IOException {\n        // Create an image file name\n        String timeStamp = new SimpleDateFormat(\"yyyyMMdd_HHmmss\").format(new Date());\n        String imageFileName = \"JPEG_\" + timeStamp + \"_\";\n        File storageDir = getExternalFilesDir(Environment.DIRECTORY_PICTURES);\n        if(!storageDir.isDirectory()){\n            storageDir.mkdir();\n        }\n        File image = File.createTempFile(\n                imageFileName,  /* prefix */\n                \".jpg\",         /* suffix */\n                storageDir      /* directory */\n        );\n\n        // Save a file: path for use with ACTION_VIEW intents\n        mCurrentPhotoPath = image.getAbsolutePath();\n        return image;\n    }\n    static final int REQUEST_TAKE_PHOTO = 1;\n\n    private void dispatchTakePictureIntent() {\n        Intent takePictureIntent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\n        // Ensure that there's a camera activity to handle the intent\n        if (takePictureIntent.resolveActivity(getPackageManager()) != null) {\n            // Create the File where the photo should go\n            File photoFile = null;\n            try {\n                photoFile = createImageFile();\n            } catch (IOException ex) {\n                ex.printStackTrace();\n\n            }\n            // Continue only if the File was successfully created\n            if (photoFile != null) {\n                try {\n                    Uri photoURI = FileProvider.getUriForFile(this,\n                            \"com.example.android.fileprovider\",\n                            photoFile);\n                    takePictureIntent.putExtra(MediaStore.EXTRA_OUTPUT, photoURI);\n                    startActivityForResult(takePictureIntent, REQUEST_TAKE_PHOTO);\n                }catch(Exception e){\n                    e.printStackTrace();\n                }\n            }\n            //galleryAddPic();\n        }\n    }\n    private void galleryAddPic() {\n        Intent mediaScanIntent = new Intent(Intent.ACTION_MEDIA_SCANNER_SCAN_FILE);\n        File f = new File(mCurrentPhotoPath);\n        Uri contentUri = Uri.fromFile(f);\n        mediaScanIntent.setData(contentUri);\n        this.sendBroadcast(mediaScanIntent);\n    }\n\n}\n</code></pre>\n\n<blockquote>\n  <p>manifest.xml</p>\n</blockquote>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    package=\"com.androidapp.natty.catalogcreate\"&gt;\n\n    &lt;application\n        android:allowBackup=\"true\"\n        android:icon=\"@mipmap/ic_launcher\"\n        android:label=\"@string/app_name\"\n        android:supportsRtl=\"true\"\n        android:theme=\"@style/AppTheme\"&gt;\n        &lt;activity android:name=\".CatalogDataActivity\"&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n\n                &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n    &lt;uses-feature android:name=\"android.hardware.camera\"\n        android:required=\"true\" /&gt;\n    &lt;uses-permission android:name=\"android.permission.READ_EXTERNAL_STORAGE\"/&gt;\n    &lt;uses-permission android:name=\"android.permission.WRITE_EXTERNAL_STORAGE\"\n        android:maxSdkVersion=\"18\" /&gt;\n    &lt;provider\n        android:name=\"android.support.v4.content.FileProvider\"\n        android:authorities=\"com.example.android.fileprovider\"\n        android:exported=\"false\"\n        android:grantUriPermissions=\"true\"&gt;\n        &lt;meta-data\n            android:name=\"android.support.FILE_PROVIDER_PATHS\"\n            android:resource=\"@xml/file_paths\"&gt;&lt;/meta-data&gt;\n    &lt;/provider&gt;\n&lt;/manifest&gt;\n</code></pre>\n\n<blockquote>\n  <p>file_paths.xml placed at res/xml/file_paths.xml</p>\n</blockquote>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;paths xmlns:android=\"http://schemas.android.com/apk/res/android\"&gt;\n    &lt;external-path name=\"my_images\" path=\"com.androidapp.natty.catalogcreate/files/Pictures\" /&gt;\n&lt;/paths&gt;    \n</code></pre>\n\n<blockquote>\n  <p>activity_catalog_data.xml</p>\n</blockquote>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:id=\"@+id/activity_catalog_data\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:paddingBottom=\"@dimen/activity_vertical_margin\"\n    android:paddingLeft=\"@dimen/activity_horizontal_margin\"\n    android:paddingRight=\"@dimen/activity_horizontal_margin\"\n    android:paddingTop=\"@dimen/activity_vertical_margin\"\n    tools:context=\"com.androidapp.natty.catalogcreate.CatalogDataActivity\"&gt;\n\n    &lt;TextView\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:text=\"Hello World!\"\n        android:id=\"@+id/textView\" /&gt;\n\n    &lt;Button\n        android:text=\"Open Camera\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_below=\"@+id/textView\"\n        android:layout_marginTop=\"10dp\"\n        android:id=\"@+id/btn_camera\"\n        android:layout_alignParentRight=\"true\"\n        android:layout_alignParentEnd=\"true\"\n        android:layout_alignParentLeft=\"true\"\n        android:layout_alignParentStart=\"true\"\n        android:elevation=\"0dp\" /&gt;\n\n    &lt;EditText\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:inputType=\"textPersonName\"\n        android:text=\"Product Name\"\n        android:ems=\"10\"\n        android:layout_below=\"@+id/btn_camera\"\n        android:layout_marginTop=\"50dp\"\n        android:id=\"@+id/et_productName\"\n        android:layout_alignParentLeft=\"true\"\n        android:layout_alignParentStart=\"true\"\n        android:layout_alignParentRight=\"true\"\n        android:layout_alignParentEnd=\"true\" /&gt;\n\n    &lt;EditText\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:inputType=\"textMultiLine\"\n        android:ems=\"10\"\n        android:id=\"@+id/et_description\"\n        android:text=\"Enter Description\"\n        android:layout_below=\"@+id/et_productName\"\n        android:layout_alignParentRight=\"true\"\n        android:layout_alignParentEnd=\"true\"\n        android:layout_alignParentLeft=\"true\"\n        android:layout_alignParentStart=\"true\" /&gt;\n\n    &lt;ImageView\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        app:srcCompat=\"@android:drawable/ic_menu_add\"\n        android:layout_marginTop=\"28dp\"\n        android:id=\"@+id/iv_image1\"\n        android:layout_below=\"@+id/et_description\" /&gt;\n\n    &lt;ImageView\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        app:srcCompat=\"@android:drawable/ic_menu_add\"\n        android:layout_alignTop=\"@+id/iv_image1\"\n        android:layout_toRightOf=\"@+id/textView\"\n        android:layout_toEndOf=\"@+id/textView\"\n        android:id=\"@+id/iv_image2\" /&gt;\n\n    &lt;ImageView\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        app:srcCompat=\"@android:drawable/ic_menu_add\"\n        android:layout_marginLeft=\"41dp\"\n        android:layout_marginStart=\"41dp\"\n        android:id=\"@+id/iv_image3\"\n        android:layout_alignTop=\"@+id/iv_image2\"\n        android:layout_toRightOf=\"@+id/iv_image2\"\n        android:layout_toEndOf=\"@+id/iv_image2\" /&gt;\n\n    &lt;Button\n        android:text=\"Save Product\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_below=\"@+id/iv_image2\"\n        android:layout_marginTop=\"18dp\"\n        android:id=\"@+id/btn_save\"\n        android:layout_alignParentRight=\"true\"\n        android:layout_alignParentEnd=\"true\"\n        android:layout_alignParentLeft=\"true\"\n        android:layout_alignParentStart=\"true\" /&gt;\n\n    &lt;TextView\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_below=\"@+id/btn_save\"\n        android:layout_marginTop=\"56dp\"\n        android:text=\"Hello World!\"\n        android:id=\"@+id/tv_saved_text\" /&gt;\n\n&lt;/RelativeLayout&gt;\n\n&gt; W/System.err: java.lang.IllegalArgumentException: Failed to find configured root that contains /storage/emulated/0/Android/data/com.androidapp.natty.catalogcreate/files/Pictures/JPEG_20170222_233359_1077283085.jpg\nW/System.err:     at android.support.v4.content.FileProvider$SimplePathStrategy.getUriForFile(FileProvider.java:711)\nW/System.err:     at android.support.v4.content.FileProvider.getUriForFile(FileProvider.java:400)\nW/System.err:     at com.androidapp.natty.catalogcreate.CatalogDataActivity.dispatchTakePictureIntent(CatalogDataActivity.java:176)\nW/System.err:     at com.androidapp.natty.catalogcreate.CatalogDataActivity.access$000(CatalogDataActivity.java:33)\nW/System.err:     at com.androidapp.natty.catalogcreate.CatalogDataActivity$1.onClick(CatalogDataActivity.java:61)\nW/System.err:     at android.view.View.performClick(View.java:5612)\nW/System.err:     at android.view.View$PerformClick.run(View.java:22285)\nW/System.err:     at android.os.Handler.handleCallback(Handler.java:751)\nW/System.err:     at android.os.Handler.dispatchMessage(Handler.java:95)\nW/System.err:     at android.os.Looper.loop(Looper.java:154)\nW/System.err:     at android.app.ActivityThread.main(ActivityThread.java:6123)\nW/System.err:     at java.lang.reflect.Method.invoke(Native Method)\nW/System.err:     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:867)\nW/System.err:     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:757)\nI/Choreographer: Skipped 2537 frames!  The application may be doing too much work on its main thread.\nI/art: Do full code cache collection, code=101KB, data=124KB\nI/art: After code cache collection, code=64KB, data=67KB\n</code></pre>\n"},{"tags":["java","jsf","migration","jsf-2"],"answers":[{"comments":[{"owner":{"account_id":211082,"reputation":4761,"user_id":463053,"accept_rate":78,"display_name":"ChuongPham"},"score":1,"creation_date":1303361806,"post_id":4507099,"comment_id":6566963,"body_markdown":"It would have been the same when you use Richfaces with JSF 1.x- you go through all the &quot;pain&quot; to find out how to integrate third party components with JSF. The approach to JSF 2.x is no difference. That&#39;s the &quot;joy&quot; of programming isn&#39;t it? :)","body":"It would have been the same when you use Richfaces with JSF 1.x- you go through all the &quot;pain&quot; to find out how to integrate third party components with JSF. The approach to JSF 2.x is no difference. That&#39;s the &quot;joy&quot; of programming isn&#39;t it? :)"}],"tags":[],"owner":{"account_id":157763,"reputation":1574,"user_id":375941,"accept_rate":88,"display_name":"mvg"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1293256873,"creation_date":1293003353,"answer_id":4507099,"question_id":4441713,"body_markdown":"JSF 2.0 have many new features and components and I don&#39;t feel migration will be painful.  Only area you will find difficult is in using thrid party libraries.  If your application is heavily dependant upon libraries like Richfaces then you will face problem.  Not all the components from Richfaces 3 is ported to Richfaces 4.\r\n\r\nThis also might help\r\n[https://stackoverflow.com/questions/4213277/jsf-1-2-application-migration-to-jsf-2-0][1]\r\n\r\n\r\nAlso check this [What is new in JSF 2?][2]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/4213277/jsf-1-2-application-migration-to-jsf-2-0\r\n  [2]: http://andyschwartz.wordpress.com/2009/07/31/whats-new-in-jsf-2/","title":"Migrating from JSF 1.2 to JSF 2.0","body":"<p>JSF 2.0 have many new features and components and I don't feel migration will be painful.  Only area you will find difficult is in using thrid party libraries.  If your application is heavily dependant upon libraries like Richfaces then you will face problem.  Not all the components from Richfaces 3 is ported to Richfaces 4.</p>\n\n<p>This also might help\n<a href=\"https://stackoverflow.com/questions/4213277/jsf-1-2-application-migration-to-jsf-2-0\">JSF 1.2 application migration to JSF 2.0</a></p>\n\n<p>Also check this <a href=\"http://andyschwartz.wordpress.com/2009/07/31/whats-new-in-jsf-2/\" rel=\"nofollow noreferrer\">What is new in JSF 2?</a></p>\n"},{"comments":[{"owner":{"account_id":52775,"reputation":4051,"user_id":157762,"accept_rate":93,"display_name":"Daniel Szalay"},"score":0,"creation_date":1296296730,"post_id":4532870,"comment_id":5368007,"body_markdown":"@ManagedBean(name=&quot;managedBeanName&quot;)\n@RequestScoped\n\nIt is :)","body":"@ManagedBean(name=&quot;managedBeanName&quot;) @RequestScoped  It is :)"},{"owner":{"account_id":254195,"reputation":14175,"user_id":533426,"accept_rate":56,"display_name":"Toskan"},"score":0,"creation_date":1325186348,"post_id":4532870,"comment_id":10779480,"body_markdown":"great post, helped me a lot. Something to note: when moving from jsf 1.2 to jsf 2 you can be almost certain people have used a4j from richfaces 3.3.x. I decided to use richfaces 3.3.3 together with jsf 2 since it seemed like a mediocre change to perform to upgrade to richfaces 4.x . So I did your guide (undid all facelets related things in faces-config (activated viewhandler removed taglig annotation), then followed http://community.jboss.org/wiki/RichFaces333AndJSF20 and finally had to do this http://stackoverflow.com/questions/85532/faces-servlet-threw-exception-java-lang-stackoverflowerror","body":"great post, helped me a lot. Something to note: when moving from jsf 1.2 to jsf 2 you can be almost certain people have used a4j from richfaces 3.3.x. I decided to use richfaces 3.3.3 together with jsf 2 since it seemed like a mediocre change to perform to upgrade to richfaces 4.x . So I did your guide (undid all facelets related things in faces-config (activated viewhandler removed taglig annotation), then followed <a href=\"http://community.jboss.org/wiki/RichFaces333AndJSF20\" rel=\"nofollow noreferrer\">community.jboss.org/wiki/RichFaces333AndJSF20</a> and finally had to do this <a href=\"http://stackoverflow.com/questions/85532/faces-servlet-threw-exception-java-lang-stackoverflowerror\" title=\"faces servlet threw exception java lang stackoverflowerror\">stackoverflow.com/questions/85532/&hellip;</a>"},{"owner":{"account_id":472248,"reputation":19503,"user_id":880619,"accept_rate":100,"display_name":"Jasper de Vries"},"score":0,"creation_date":1404911237,"post_id":4532870,"comment_id":38218267,"body_markdown":"Great answer. In my case I also had to set the `javax.faces.VALIDATE_EMPTY_FIELDS` parameter to `false` to get the validation sorted. See also: http://stackoverflow.com/questions/6113935/shouldnt-the-validation-be-skipped-when-there-is-no-value-specified","body":"Great answer. In my case I also had to set the <code>javax.faces.VALIDATE_EMPTY_FIELDS</code> parameter to <code>false</code> to get the validation sorted. See also: <a href=\"http://stackoverflow.com/questions/6113935/shouldnt-the-validation-be-skipped-when-there-is-no-value-specified\" title=\"shouldnt the validation be skipped when there is no value specified\">stackoverflow.com/questions/6113935/&hellip;</a>"},{"owner":{"account_id":472248,"reputation":19503,"user_id":880619,"accept_rate":100,"display_name":"Jasper de Vries"},"score":2,"creation_date":1405071205,"post_id":4532870,"comment_id":38292293,"body_markdown":"I can also recommend everybody to read http://balusc.blogspot.nl/2011/09/communication-in-jsf-20.html","body":"I can also recommend everybody to read <a href=\"http://balusc.blogspot.nl/2011/09/communication-in-jsf-20.html\" rel=\"nofollow noreferrer\">balusc.blogspot.nl/2011/09/communication-in-jsf-20.html</a>"},{"owner":{"account_id":2433772,"reputation":103,"user_id":2124152,"display_name":"Xtopher"},"score":0,"creation_date":1551304324,"post_id":4532870,"comment_id":96596450,"body_markdown":"I&#39;m trying to change the TLD files over, but the Mojarra Migration Guide is gone. Any suggestions?","body":"I&#39;m trying to change the TLD files over, but the Mojarra Migration Guide is gone. Any suggestions?"},{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":1,"creation_date":1551342428,"post_id":4532870,"comment_id":96607627,"body_markdown":"@Cfold: I fixed the link.","body":"@Cfold: I fixed the link."},{"owner":{"account_id":7493445,"reputation":161,"user_id":5694406,"display_name":"Rakesh Sharma"},"score":0,"creation_date":1681550609,"post_id":4532870,"comment_id":134077029,"body_markdown":"@BalusC Does it support Tomahawk ?","body":"@BalusC Does it support Tomahawk ?"}],"tags":[],"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"comment_count":7,"down_vote_count":0,"up_vote_count":258,"is_accepted":true,"score":258,"last_activity_date":1691486455,"creation_date":1293341237,"answer_id":4532870,"question_id":4441713,"body_markdown":"# Painfulness\r\n\r\nPainfulness of upgrading JSF 1.2 to 2.0 depends on the view technology which you are currently using and which you want to use.\r\n\r\n- JSP 2.x to JSP 2.x = Almost no effort.\r\n- Facelets 1.x to Facelets 2.0 = Little effort.\r\n- JSP 2.x to Facelets 2.0 = Lot of effort. Double this if you also have custom components.\r\n\r\n---\r\n\r\n## Basic changes\r\n\r\nRegardless of the view technology switch, *at least* the following steps should be done:\r\n\r\n- Remove JSF 1.2 JAR&#39;s from `/WEB-INF/lib` (if any).\r\n- Drop JSF 2.0 JAR&#39;s in `/WEB-INF/lib` (if JSF 1.2 was servletcontainer-supplied, you might want to change the classloading policy to load webapp libraries first before servletcontainer libraries, see also [JSF2 classloading issues in application servers](https://stackoverflow.com/questions/5815623/jsf-2-issues-in-application-servers)).\r\n- Update root declaration of `faces-config.xml` to comply JSF 2.0 spec.\r\n\r\n    &lt;!-- language: xml --&gt;\r\n\r\n        &lt;faces-config\r\n            xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot;\r\n            xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n            xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-facesconfig_2_0.xsd&quot;\r\n            version=&quot;2.0&quot;&gt;\r\n\r\n    Note: when you&#39;re using JSF 2.2 or newer, use the `http://xmlns.jcp.org` namespace domain instead of `http://java.sun.com` throughout the above XML snippet.\r\n\r\n- Ensure that root declaration of `web.xml` already complies *at least* Servlet 2.5. JSF 2.0 won&#39;t work on 2.4 or lower ([although it&#39;s hackable][1]).\r\n\r\n    &lt;!-- language: xml --&gt;\r\n\r\n        &lt;web-app \r\n            xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot;\r\n            xmlns:web=&quot;http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot;\r\n            xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; \r\n            xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot;\r\n            id=&quot;YourWebappID&quot;\r\n            version=&quot;2.5&quot;&gt;\r\n\r\n    Note: when you&#39;re using Servlet 3.0 or newer, use the `http://xmlns.jcp.org` namespace domain instead of `http://java.sun.com` throughout the above XML snippet.\r\n\r\n---\r\n\r\n## JSP 2.x to JSP 2.x\r\n\r\nIf you&#39;re using **JSP 2.x** and want to **keep** using it, then you basically don&#39;t need to change anything else. \r\n\r\n### Gradually upgrading\r\n\r\nIf you&#39;re already using a suffix `url-pattern` for the `FacesServlet`, like `*.jsf`, then it&#39;s good to know that the `FacesServlet` will first scan for `*.xhtml` file and if it is not present, then scan for `*.jsp` file. This provides you room to gradually convert from JSP to Facelets behind the scenes without changing the URL&#39;s. \r\n\r\nBut if you&#39;re using a prefix `url-pattern`, like `/faces/*` and you want to gradually upgrade from JSP to Facelets, then you really have to change it to `*.jsf` and possibly also all links in the existing JSP pages.\r\n\r\nYou only need to keep in mind that the new JSF 2.0 provided implicit navigation doesn&#39;t scan for the presence of the file, it will go to `outcome.xhtml` anyway. So if you want to come from or go to `*.jsp`, then you still need to include it in the viewid the JSF 1.x way.\r\n\r\n---\r\n\r\n## Facelets 1.x to Facelets 2.0\r\n\r\nIf you&#39;re using **Facelets 1.x** as view technology and want to use the JSF 2.0 supplied **Facelets 2.0**, then you need to do the following additional steps:\r\n\r\n- Remove Facelets 1.x JAR from `/WEB-INF/lib`.\r\n- Remove Facelets 1.x `FaceletViewHandler` from `faces-config.xml`.\r\n- Any custom `FaceletViewHandler` implementation needs to be updated to extend [`ViewHandlerWrapper`][2] instead.\r\n- Not necessary, but just for cleanup, remove any Facelets 1.x related `&lt;context-param&gt;` values from `web.xml` which are already default in Facelets 2.0, like the `javax.faces.DEFAULT_SUFFIX` with value of `*.xhtml`.\r\n- Update root declaration of existing Facelet taglib XML&#39;s to comply Facelets 2.0.\r\n\r\n    &lt;!-- language: xml --&gt;\r\n\r\n        &lt;facelet-taglib \r\n            xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot;\r\n            xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n            xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-facelettaglibrary_2_0.xsd&quot;\r\n            version=&quot;2.0&quot;&gt;\r\n\r\n    Note: when you&#39;re using JSF 2.2 or newer, use the `http://xmlns.jcp.org` namespace domain instead of `http://java.sun.com` throughout the above XML snippet.\r\n\r\n\r\nThat should basically be it.\r\n\r\n---\r\n\r\n## JSP 2.x to Facelets 2.0\r\n\r\nIf you&#39;re using **JSP 2.x** as view technology and you want to upgrade to **Facelets 2.0** immediately, then you need to do a lot of changes before the site can go live. You&#39;re basically changing the view technology here. \r\n\r\n### Master page changes\r\n\r\nOn every master page, you need to change the following basic JSP template..\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;%@page contentType=&quot;text/html&quot; pageEncoding=&quot;UTF-8&quot;%&gt;\r\n    &lt;%@taglib prefix=&quot;f&quot; uri=&quot;http://java.sun.com/jsf/core&quot;%&gt;\r\n    &lt;%@taglib prefix=&quot;h&quot; uri=&quot;http://java.sun.com/jsf/html&quot;%&gt;\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;f:view&gt;\r\n        &lt;html lang=&quot;en&quot;&gt;\r\n            &lt;head&gt;\r\n                &lt;title&gt;JSP page&lt;/title&gt;\r\n            &lt;/head&gt;\r\n            &lt;body&gt;\r\n                &lt;h:outputText value=&quot;JSF components here.&quot; /&gt;\r\n            &lt;/body&gt;\r\n        &lt;/html&gt;\r\n    &lt;/f:view&gt;\r\n\r\n..to the following basic Facelets template:\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html lang=&quot;en&quot;\r\n        xmlns=&quot;http://www.w3.org/1999/xhtml&quot;\r\n        xmlns:f=&quot;http://java.sun.com/jsf/core&quot;\r\n        xmlns:h=&quot;http://java.sun.com/jsf/html&quot;\r\n        xmlns:ui=&quot;http://java.sun.com/jsf/facelets&quot;&gt;\r\n        &lt;h:head&gt;\r\n            &lt;title&gt;XHTML page&lt;/title&gt;\r\n        &lt;/h:head&gt;\r\n        &lt;h:body&gt;\r\n            &lt;h:outputText value=&quot;JSF components here.&quot; /&gt;\r\n        &lt;/h:body&gt;  \r\n    &lt;/html&gt;\r\n\r\nNote: when you&#39;re using JSF 2.2 or newer, use the `http://xmlns.jcp.org` namespace domain instead of `http://java.sun.com` throughout the above XHTML snippets.\r\n\r\n### Include page changes\r\n\r\nIf your existing JSP pages are well designed, you should not have any line of *scriptlet* code and you should also have only the `&lt;jsp:include&gt;` as the sole JSP-specific tag. Any of those needs to be changed from:\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;jsp:include page=&quot;include.jsp&quot; /&gt;\r\n\r\nto\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;ui:include src=&quot;include.xhtml&quot; /&gt;\r\n\r\nThe basic JSP include page template of..\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;%@page contentType=&quot;text/html&quot; pageEncoding=&quot;UTF-8&quot;%&gt;\r\n    &lt;%@taglib prefix=&quot;f&quot; uri=&quot;http://java.sun.com/jsf/core&quot;%&gt;\r\n    &lt;%@taglib prefix=&quot;h&quot; uri=&quot;http://java.sun.com/jsf/html&quot;%&gt;\r\n    &lt;f:subview id=&quot;include&quot;&gt;\r\n        &lt;h:outputText value=&quot;JSF components here.&quot; /&gt;\r\n    &lt;/f:subview&gt;\r\n\r\n..should be changed to the following basic Facelets include page template:\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;ui:composition\r\n        xmlns=&quot;http://www.w3.org/1999/xhtml&quot;\r\n        xmlns:f=&quot;http://java.sun.com/jsf/core&quot;\r\n        xmlns:h=&quot;http://java.sun.com/jsf/html&quot;\r\n        xmlns:ui=&quot;http://java.sun.com/jsf/facelets&quot;&gt;\r\n        &lt;h:outputText value=&quot;JSF components here.&quot; /&gt;\r\n    &lt;/ui:composition&gt;\r\n\r\nNote: when you&#39;re using JSF 2.2 or newer, use the `http://xmlns.jcp.org` namespace domain instead of `http://java.sun.com` throughout the above XHTML snippets.\r\n\r\n\r\n### Custom component changes\r\n\r\nYou need to change the JSP TLD files to Facelets TLD files as described in this [Mojarra Migration Guide][3].\r\n\r\n---\r\n\r\n## Aftermath\r\n\r\nRegardless of the migration approach, you can gradually eliminate the `faces-config.xml` by the new JSF 2.0 annotations or even [CDI][4]. Any `&lt;managed-bean&gt;` can be annotated by [`@ManagedBean`][5]:\r\n\r\n    @ManagedBean(name=&quot;managedBeanName&quot;)\r\n    @RequestScoped\r\n    public class SomeBean {}\r\n\r\nNext to [`@RequestScoped`][6], there are also [`@ViewScoped`][7], [`@SessionScoped`][8] and [`@ApplicationScoped`][9] available. If you omit the `name` attribute of the `@ManagedBean`, then it will default to classname with the 1st char lowercased. \r\n\r\n    @ManagedBean\r\n    @RequestScoped\r\n    public class SomeBean {}\r\n\r\nIn this particular example, it will be `#{someBean}`.\r\n\r\nAny `&lt;managed-property&gt;` can be annotated using [`@ManagedProperty`][10]:\r\n\r\n    @ManagedProperty(&quot;#{otherBean}&quot;)\r\n    private OtherBean otherBean;\r\n\r\nAny `&lt;validator&gt;` can be annotated using [`@FacesValidator`][11]:\r\n\r\n    @FacesValidator(&quot;someValidator&quot;)\r\n    public class SomeValidator implements Validator {}\r\n\r\nAny `&lt;converter&gt;` can be annotated using [`@FacesConverter`][12]\r\n\r\n    @FacesConverter(&quot;someConverter&quot;)\r\n    public class SomeConverter implements Converter {}\r\n\r\nAny `&lt;renderer&gt;` can be annotated using [`@FacesRenderer`][13]\r\n\r\n    @FacesRenderer(componentFamily=&quot;someComponentFamily&quot;, rendererType=&quot;someRendererType&quot;)\r\n    public class SomeRenderer extends Renderer {}\r\n\r\nAny `&lt;navigation-case&gt;` which uses the filename of the XHTML page as both `&lt;from-outcome&gt;` and `&lt;to-view-id&gt;` can be removed since this will be [implicitly][14] done. This can be gradually done by changing all outcome values to match the filename of the target view.\r\n\r\nFinally, any session scoped bean which was been put in the session with the sole reason to retain the bean data in subsequent requests in the same tab/window can better be marked `@ViewScoped`, because this way the bean won&#39;t be affected when the enduser opens the same page in different tabs/windows.\r\n\r\n---\r\n\r\n## Component libraries\r\n\r\nNote that I don&#39;t take any 3rd party componant libraries like PrimeFaces/RichFaces/IceFaces into account in this answer, it would then be impossible to write a reliable answer since it basically boils down to &quot;it depends&quot;. In general it&#39;s sufficient to just upgrade the component library to a -by themselves verified- JSF 2.0 compatible version as per their instructions. Best is to just write unit tests, run them before and after the upgrade and fix any issues individually. \r\n\r\nHere are at least some useful links with regard to migration of the specific component library:\r\n\r\n- [RichFaces Migration Guide - 3.3.x to 4.x migration][15]\r\n- [IceFaces 2 Wiki - IceFaces 1.x Compatibility Guide][16]\r\n\r\nPrimeFaces has no migration guide for PrimeFaces 1.x to 2.x as PrimeFaces 1.x requires Facelets 1.x already, so you just have to follow Facelets 1.x to 2.x migration steps. However, there&#39;s a PrimeFaces [2.x to 3.x (and higher) migration guide][17] which might apply as well on migrating from PrimeFaces 1.x to 3.x (or higher). Tomahawk has also no migration guide. Basically the only which you need to change are the JARs and if necessary get rid of all `&lt;t:saveState&gt;` references on a request scoped bean by making the bean view scoped.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/5998447/running-jsf-2-0-on-servlet-2-4-container\r\n  [2]: http://docs.oracle.com/javaee/6/api/javax/faces/application/ViewHandlerWrapper.html\r\n  [3]: https://javaserverfaces.github.io/rlnotes/2.0.0/migration.html\r\n  [4]: https://stackoverflow.com/questions/4347374/backing-beans-managedbean-or-cdi-beans-named\r\n  [5]: http://docs.oracle.com/javaee/6/api/javax/faces/bean/ManagedBean.html\r\n  [6]: http://docs.oracle.com/javaee/6/api/javax/faces/bean/RequestScoped.html\r\n  [7]: http://docs.oracle.com/javaee/6/api/javax/faces/bean/ViewScoped.html\r\n  [8]: http://docs.oracle.com/javaee/6/api/javax/faces/bean/SessionScoped.html\r\n  [9]: http://docs.oracle.com/javaee/6/api/javax/faces/bean/ApplicationScoped.html\r\n  [10]: http://docs.oracle.com/javaee/6/api/javax/faces/bean/ManagedProperty.html\r\n  [11]: http://docs.oracle.com/javaee/6/api/javax/faces/validator/FacesValidator.html\r\n  [12]: http://docs.oracle.com/javaee/6/api/javax/faces/convert/FacesConverter.html\r\n  [13]: http://docs.oracle.com/javaee/6/api/javax/faces/render/FacesRenderer.html\r\n  [14]: http://andyschwartz.wordpress.com/2009/07/31/whats-new-in-jsf-2/#navigation-implicit\r\n  [15]: http://community.jboss.org/wiki/RichFacesMigrationGuide33x-4xMigration\r\n  [16]: http://wiki.icefaces.org/display/ICE/ICEfaces+1.x+Compatibility\r\n  [17]: https://primefaces.github.io/primefaces/13_0_0/#/../migrationguide/migrationguide","title":"Migrating from JSF 1.2 to JSF 2.0","body":"<h1>Painfulness</h1>\n<p>Painfulness of upgrading JSF 1.2 to 2.0 depends on the view technology which you are currently using and which you want to use.</p>\n<ul>\n<li>JSP 2.x to JSP 2.x = Almost no effort.</li>\n<li>Facelets 1.x to Facelets 2.0 = Little effort.</li>\n<li>JSP 2.x to Facelets 2.0 = Lot of effort. Double this if you also have custom components.</li>\n</ul>\n<hr />\n<h2>Basic changes</h2>\n<p>Regardless of the view technology switch, <em>at least</em> the following steps should be done:</p>\n<ul>\n<li><p>Remove JSF 1.2 JAR's from <code>/WEB-INF/lib</code> (if any).</p>\n</li>\n<li><p>Drop JSF 2.0 JAR's in <code>/WEB-INF/lib</code> (if JSF 1.2 was servletcontainer-supplied, you might want to change the classloading policy to load webapp libraries first before servletcontainer libraries, see also <a href=\"https://stackoverflow.com/questions/5815623/jsf-2-issues-in-application-servers\">JSF2 classloading issues in application servers</a>).</p>\n</li>\n<li><p>Update root declaration of <code>faces-config.xml</code> to comply JSF 2.0 spec.</p>\n  <pre class=\"lang-xml prettyprint-override\"><code>  &lt;faces-config\n      xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot;\n      xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n      xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-facesconfig_2_0.xsd&quot;\n      version=&quot;2.0&quot;&gt;\n</code></pre>\n<p>Note: when you're using JSF 2.2 or newer, use the <code>http://xmlns.jcp.org</code> namespace domain instead of <code>http://java.sun.com</code> throughout the above XML snippet.</p>\n</li>\n<li><p>Ensure that root declaration of <code>web.xml</code> already complies <em>at least</em> Servlet 2.5. JSF 2.0 won't work on 2.4 or lower (<a href=\"https://stackoverflow.com/questions/5998447/running-jsf-2-0-on-servlet-2-4-container\">although it's hackable</a>).</p>\n  <pre class=\"lang-xml prettyprint-override\"><code>  &lt;web-app \n      xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot;\n      xmlns:web=&quot;http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot;\n      xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; \n      xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot;\n      id=&quot;YourWebappID&quot;\n      version=&quot;2.5&quot;&gt;\n</code></pre>\n<p>Note: when you're using Servlet 3.0 or newer, use the <code>http://xmlns.jcp.org</code> namespace domain instead of <code>http://java.sun.com</code> throughout the above XML snippet.</p>\n</li>\n</ul>\n<hr />\n<h2>JSP 2.x to JSP 2.x</h2>\n<p>If you're using <strong>JSP 2.x</strong> and want to <strong>keep</strong> using it, then you basically don't need to change anything else.</p>\n<h3>Gradually upgrading</h3>\n<p>If you're already using a suffix <code>url-pattern</code> for the <code>FacesServlet</code>, like <code>*.jsf</code>, then it's good to know that the <code>FacesServlet</code> will first scan for <code>*.xhtml</code> file and if it is not present, then scan for <code>*.jsp</code> file. This provides you room to gradually convert from JSP to Facelets behind the scenes without changing the URL's.</p>\n<p>But if you're using a prefix <code>url-pattern</code>, like <code>/faces/*</code> and you want to gradually upgrade from JSP to Facelets, then you really have to change it to <code>*.jsf</code> and possibly also all links in the existing JSP pages.</p>\n<p>You only need to keep in mind that the new JSF 2.0 provided implicit navigation doesn't scan for the presence of the file, it will go to <code>outcome.xhtml</code> anyway. So if you want to come from or go to <code>*.jsp</code>, then you still need to include it in the viewid the JSF 1.x way.</p>\n<hr />\n<h2>Facelets 1.x to Facelets 2.0</h2>\n<p>If you're using <strong>Facelets 1.x</strong> as view technology and want to use the JSF 2.0 supplied <strong>Facelets 2.0</strong>, then you need to do the following additional steps:</p>\n<ul>\n<li><p>Remove Facelets 1.x JAR from <code>/WEB-INF/lib</code>.</p>\n</li>\n<li><p>Remove Facelets 1.x <code>FaceletViewHandler</code> from <code>faces-config.xml</code>.</p>\n</li>\n<li><p>Any custom <code>FaceletViewHandler</code> implementation needs to be updated to extend <a href=\"http://docs.oracle.com/javaee/6/api/javax/faces/application/ViewHandlerWrapper.html\" rel=\"nofollow noreferrer\"><code>ViewHandlerWrapper</code></a> instead.</p>\n</li>\n<li><p>Not necessary, but just for cleanup, remove any Facelets 1.x related <code>&lt;context-param&gt;</code> values from <code>web.xml</code> which are already default in Facelets 2.0, like the <code>javax.faces.DEFAULT_SUFFIX</code> with value of <code>*.xhtml</code>.</p>\n</li>\n<li><p>Update root declaration of existing Facelet taglib XML's to comply Facelets 2.0.</p>\n  <pre class=\"lang-xml prettyprint-override\"><code>  &lt;facelet-taglib \n      xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot;\n      xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n      xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-facelettaglibrary_2_0.xsd&quot;\n      version=&quot;2.0&quot;&gt;\n</code></pre>\n<p>Note: when you're using JSF 2.2 or newer, use the <code>http://xmlns.jcp.org</code> namespace domain instead of <code>http://java.sun.com</code> throughout the above XML snippet.</p>\n</li>\n</ul>\n<p>That should basically be it.</p>\n<hr />\n<h2>JSP 2.x to Facelets 2.0</h2>\n<p>If you're using <strong>JSP 2.x</strong> as view technology and you want to upgrade to <strong>Facelets 2.0</strong> immediately, then you need to do a lot of changes before the site can go live. You're basically changing the view technology here.</p>\n<h3>Master page changes</h3>\n<p>On every master page, you need to change the following basic JSP template..</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;%@page contentType=&quot;text/html&quot; pageEncoding=&quot;UTF-8&quot;%&gt;\n&lt;%@taglib prefix=&quot;f&quot; uri=&quot;http://java.sun.com/jsf/core&quot;%&gt;\n&lt;%@taglib prefix=&quot;h&quot; uri=&quot;http://java.sun.com/jsf/html&quot;%&gt;\n&lt;!DOCTYPE html&gt;\n&lt;f:view&gt;\n    &lt;html lang=&quot;en&quot;&gt;\n        &lt;head&gt;\n            &lt;title&gt;JSP page&lt;/title&gt;\n        &lt;/head&gt;\n        &lt;body&gt;\n            &lt;h:outputText value=&quot;JSF components here.&quot; /&gt;\n        &lt;/body&gt;\n    &lt;/html&gt;\n&lt;/f:view&gt;\n</code></pre>\n<p>..to the following basic Facelets template:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;en&quot;\n    xmlns=&quot;http://www.w3.org/1999/xhtml&quot;\n    xmlns:f=&quot;http://java.sun.com/jsf/core&quot;\n    xmlns:h=&quot;http://java.sun.com/jsf/html&quot;\n    xmlns:ui=&quot;http://java.sun.com/jsf/facelets&quot;&gt;\n    &lt;h:head&gt;\n        &lt;title&gt;XHTML page&lt;/title&gt;\n    &lt;/h:head&gt;\n    &lt;h:body&gt;\n        &lt;h:outputText value=&quot;JSF components here.&quot; /&gt;\n    &lt;/h:body&gt;  \n&lt;/html&gt;\n</code></pre>\n<p>Note: when you're using JSF 2.2 or newer, use the <code>http://xmlns.jcp.org</code> namespace domain instead of <code>http://java.sun.com</code> throughout the above XHTML snippets.</p>\n<h3>Include page changes</h3>\n<p>If your existing JSP pages are well designed, you should not have any line of <em>scriptlet</em> code and you should also have only the <code>&lt;jsp:include&gt;</code> as the sole JSP-specific tag. Any of those needs to be changed from:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;jsp:include page=&quot;include.jsp&quot; /&gt;\n</code></pre>\n<p>to</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;ui:include src=&quot;include.xhtml&quot; /&gt;\n</code></pre>\n<p>The basic JSP include page template of..</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;%@page contentType=&quot;text/html&quot; pageEncoding=&quot;UTF-8&quot;%&gt;\n&lt;%@taglib prefix=&quot;f&quot; uri=&quot;http://java.sun.com/jsf/core&quot;%&gt;\n&lt;%@taglib prefix=&quot;h&quot; uri=&quot;http://java.sun.com/jsf/html&quot;%&gt;\n&lt;f:subview id=&quot;include&quot;&gt;\n    &lt;h:outputText value=&quot;JSF components here.&quot; /&gt;\n&lt;/f:subview&gt;\n</code></pre>\n<p>..should be changed to the following basic Facelets include page template:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;ui:composition\n    xmlns=&quot;http://www.w3.org/1999/xhtml&quot;\n    xmlns:f=&quot;http://java.sun.com/jsf/core&quot;\n    xmlns:h=&quot;http://java.sun.com/jsf/html&quot;\n    xmlns:ui=&quot;http://java.sun.com/jsf/facelets&quot;&gt;\n    &lt;h:outputText value=&quot;JSF components here.&quot; /&gt;\n&lt;/ui:composition&gt;\n</code></pre>\n<p>Note: when you're using JSF 2.2 or newer, use the <code>http://xmlns.jcp.org</code> namespace domain instead of <code>http://java.sun.com</code> throughout the above XHTML snippets.</p>\n<h3>Custom component changes</h3>\n<p>You need to change the JSP TLD files to Facelets TLD files as described in this <a href=\"https://javaserverfaces.github.io/rlnotes/2.0.0/migration.html\" rel=\"nofollow noreferrer\">Mojarra Migration Guide</a>.</p>\n<hr />\n<h2>Aftermath</h2>\n<p>Regardless of the migration approach, you can gradually eliminate the <code>faces-config.xml</code> by the new JSF 2.0 annotations or even <a href=\"https://stackoverflow.com/questions/4347374/backing-beans-managedbean-or-cdi-beans-named\">CDI</a>. Any <code>&lt;managed-bean&gt;</code> can be annotated by <a href=\"http://docs.oracle.com/javaee/6/api/javax/faces/bean/ManagedBean.html\" rel=\"nofollow noreferrer\"><code>@ManagedBean</code></a>:</p>\n<pre><code>@ManagedBean(name=&quot;managedBeanName&quot;)\n@RequestScoped\npublic class SomeBean {}\n</code></pre>\n<p>Next to <a href=\"http://docs.oracle.com/javaee/6/api/javax/faces/bean/RequestScoped.html\" rel=\"nofollow noreferrer\"><code>@RequestScoped</code></a>, there are also <a href=\"http://docs.oracle.com/javaee/6/api/javax/faces/bean/ViewScoped.html\" rel=\"nofollow noreferrer\"><code>@ViewScoped</code></a>, <a href=\"http://docs.oracle.com/javaee/6/api/javax/faces/bean/SessionScoped.html\" rel=\"nofollow noreferrer\"><code>@SessionScoped</code></a> and <a href=\"http://docs.oracle.com/javaee/6/api/javax/faces/bean/ApplicationScoped.html\" rel=\"nofollow noreferrer\"><code>@ApplicationScoped</code></a> available. If you omit the <code>name</code> attribute of the <code>@ManagedBean</code>, then it will default to classname with the 1st char lowercased.</p>\n<pre><code>@ManagedBean\n@RequestScoped\npublic class SomeBean {}\n</code></pre>\n<p>In this particular example, it will be <code>#{someBean}</code>.</p>\n<p>Any <code>&lt;managed-property&gt;</code> can be annotated using <a href=\"http://docs.oracle.com/javaee/6/api/javax/faces/bean/ManagedProperty.html\" rel=\"nofollow noreferrer\"><code>@ManagedProperty</code></a>:</p>\n<pre><code>@ManagedProperty(&quot;#{otherBean}&quot;)\nprivate OtherBean otherBean;\n</code></pre>\n<p>Any <code>&lt;validator&gt;</code> can be annotated using <a href=\"http://docs.oracle.com/javaee/6/api/javax/faces/validator/FacesValidator.html\" rel=\"nofollow noreferrer\"><code>@FacesValidator</code></a>:</p>\n<pre><code>@FacesValidator(&quot;someValidator&quot;)\npublic class SomeValidator implements Validator {}\n</code></pre>\n<p>Any <code>&lt;converter&gt;</code> can be annotated using <a href=\"http://docs.oracle.com/javaee/6/api/javax/faces/convert/FacesConverter.html\" rel=\"nofollow noreferrer\"><code>@FacesConverter</code></a></p>\n<pre><code>@FacesConverter(&quot;someConverter&quot;)\npublic class SomeConverter implements Converter {}\n</code></pre>\n<p>Any <code>&lt;renderer&gt;</code> can be annotated using <a href=\"http://docs.oracle.com/javaee/6/api/javax/faces/render/FacesRenderer.html\" rel=\"nofollow noreferrer\"><code>@FacesRenderer</code></a></p>\n<pre><code>@FacesRenderer(componentFamily=&quot;someComponentFamily&quot;, rendererType=&quot;someRendererType&quot;)\npublic class SomeRenderer extends Renderer {}\n</code></pre>\n<p>Any <code>&lt;navigation-case&gt;</code> which uses the filename of the XHTML page as both <code>&lt;from-outcome&gt;</code> and <code>&lt;to-view-id&gt;</code> can be removed since this will be <a href=\"http://andyschwartz.wordpress.com/2009/07/31/whats-new-in-jsf-2/#navigation-implicit\" rel=\"nofollow noreferrer\">implicitly</a> done. This can be gradually done by changing all outcome values to match the filename of the target view.</p>\n<p>Finally, any session scoped bean which was been put in the session with the sole reason to retain the bean data in subsequent requests in the same tab/window can better be marked <code>@ViewScoped</code>, because this way the bean won't be affected when the enduser opens the same page in different tabs/windows.</p>\n<hr />\n<h2>Component libraries</h2>\n<p>Note that I don't take any 3rd party componant libraries like PrimeFaces/RichFaces/IceFaces into account in this answer, it would then be impossible to write a reliable answer since it basically boils down to &quot;it depends&quot;. In general it's sufficient to just upgrade the component library to a -by themselves verified- JSF 2.0 compatible version as per their instructions. Best is to just write unit tests, run them before and after the upgrade and fix any issues individually.</p>\n<p>Here are at least some useful links with regard to migration of the specific component library:</p>\n<ul>\n<li><a href=\"http://community.jboss.org/wiki/RichFacesMigrationGuide33x-4xMigration\" rel=\"nofollow noreferrer\">RichFaces Migration Guide - 3.3.x to 4.x migration</a></li>\n<li><a href=\"http://wiki.icefaces.org/display/ICE/ICEfaces+1.x+Compatibility\" rel=\"nofollow noreferrer\">IceFaces 2 Wiki - IceFaces 1.x Compatibility Guide</a></li>\n</ul>\n<p>PrimeFaces has no migration guide for PrimeFaces 1.x to 2.x as PrimeFaces 1.x requires Facelets 1.x already, so you just have to follow Facelets 1.x to 2.x migration steps. However, there's a PrimeFaces <a href=\"https://primefaces.github.io/primefaces/13_0_0/#/../migrationguide/migrationguide\" rel=\"nofollow noreferrer\">2.x to 3.x (and higher) migration guide</a> which might apply as well on migrating from PrimeFaces 1.x to 3.x (or higher). Tomahawk has also no migration guide. Basically the only which you need to change are the JARs and if necessary get rid of all <code>&lt;t:saveState&gt;</code> references on a request scoped bean by making the bean view scoped.</p>\n"},{"tags":[],"owner":{"account_id":419278,"reputation":177,"user_id":796355,"display_name":"Michael Amiethyst"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1321500181,"creation_date":1321465573,"answer_id":8156204,"question_id":4441713,"body_markdown":"If you are using Apache Trinidad you&#39;ll also have to upgrade it to version 2.0 so that it will support JSF 2.0.  There&#39;s more info at [Hacker&#39;s Valhalla](http://bit.ly/vW6vTU).","title":"Migrating from JSF 1.2 to JSF 2.0","body":"<p>If you are using Apache Trinidad you'll also have to upgrade it to version 2.0 so that it will support JSF 2.0.  There's more info at <a href=\"http://bit.ly/vW6vTU\" rel=\"nofollow\">Hacker's Valhalla</a>.</p>\n"},{"comments":[{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":2,"creation_date":1369401987,"post_id":16734107,"comment_id":24101763,"body_markdown":"Note: this applies only when you&#39;re migrating from Facelets 1.x to 2.x.","body":"Note: this applies only when you&#39;re migrating from Facelets 1.x to 2.x."},{"owner":{"account_id":5660163,"reputation":12260,"user_id":4478047,"display_name":"Kukeltje"},"score":0,"creation_date":1593188376,"post_id":16734107,"comment_id":110702012,"body_markdown":"And for 2.2 and up, read https://stackoverflow.com/questions/31068678/which-xml-namespace-to-use-with-jsf-2-2-and-up","body":"And for 2.2 and up, read <a href=\"https://stackoverflow.com/questions/31068678/which-xml-namespace-to-use-with-jsf-2-2-and-up\" title=\"which xml namespace to use with jsf 2 2 and up\">stackoverflow.com/questions/31068678/&hellip;</a>"}],"tags":[],"owner":{"account_id":386122,"reputation":4332,"user_id":743716,"accept_rate":40,"display_name":"Rafal G."},"comment_count":2,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1369395557,"creation_date":1369395557,"answer_id":16734107,"question_id":4441713,"body_markdown":"One thing to mention is that if anyone is using JSTL with JSF 1.2 then when upgrading to JSF2 you should change the namespace from:\r\n\r\nhttp://java.sun.com/jstl/core\r\n\r\nto:\r\n\r\nhttp://java.sun.com/jsp/jstl/core\r\n","title":"Migrating from JSF 1.2 to JSF 2.0","body":"<p>One thing to mention is that if anyone is using JSTL with JSF 1.2 then when upgrading to JSF2 you should change the namespace from:</p>\n\n<p><a href=\"http://java.sun.com/jstl/core\" rel=\"noreferrer\">http://java.sun.com/jstl/core</a></p>\n\n<p>to:</p>\n\n<p><a href=\"http://java.sun.com/jsp/jstl/core\" rel=\"noreferrer\">http://java.sun.com/jsp/jstl/core</a></p>\n"},{"tags":[],"owner":{"account_id":3841313,"reputation":103,"user_id":3184289,"display_name":"Pravin"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1390200335,"creation_date":1390200335,"answer_id":21227775,"question_id":4441713,"body_markdown":"Web.xml\r\n \r\n     Add the jars\r\n        1. jsf-api-2.0.jar \r\n        2. jsf-impl.2.0.2.jar\r\n\r\n Step 1: Change web.xml\r\n\r\n    &lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n            \txmlns=&quot;http://java.sun.com/xml/ns/javaee&quot; xmlns:web=&quot;http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot;\r\n            \txsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot;\r\n            \tid=&quot;WebApp_ID&quot; version=&quot;2.5&quot;&gt;\r\n        \r\n        \r\n        &lt;servlet&gt;\r\n        \t\t&lt;servlet-name&gt;facesServlet&lt;/servlet-name&gt;\r\n        \t\t&lt;servlet-class&gt;javax.faces.webapp.FacesServlet&lt;/servlet-class&gt;\r\n        \t\t&lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n        \t&lt;/servlet&gt;\r\n        \r\n        \t&lt;servlet-mapping&gt;\r\n        \t\t&lt;servlet-name&gt;facesServlet&lt;/servlet-name&gt;\r\n        \t\t&lt;url-pattern&gt;/faces/*&lt;/url-pattern&gt;\r\n        \t&lt;/servlet-mapping&gt;\r\n        \t&lt;servlet-mapping&gt;\r\n        \r\n        \t\t&lt;servlet-name&gt;facesServlet&lt;/servlet-name&gt;\r\n        \t\t&lt;url-pattern&gt;*.jsf&lt;/url-pattern&gt;\r\n        \t&lt;/servlet-mapping&gt;\r\n        \r\n        \t&lt;servlet-mapping&gt;\r\n        \t\t&lt;servlet-name&gt;facesServlet&lt;/servlet-name&gt;\r\n        \t\t&lt;url-pattern&gt;*.faces&lt;/url-pattern&gt;\r\n        \t&lt;/servlet-mapping&gt;\r\n        \r\n        \t&lt;servlet-mapping&gt;\r\n        \t\t&lt;servlet-name&gt;facesServlet&lt;/servlet-name&gt;\r\n        \t&lt;url-pattern&gt;*.xhtml&lt;/url-pattern&gt;\r\n        \t&lt;/servlet-mapping&gt;\r\n\r\n--------------------------------------------------------------------------------\r\nStep 2: webmvc-config.xml\r\n\r\n    &lt;!-- Handles requests mapped to the Spring Web Flow system --&gt;\r\n    \t&lt;bean id=&quot;flowController&quot; class=&quot;org.springframework.webflow.mvc.servlet.FlowController&quot;&gt;\r\n    \t\t&lt;property name=&quot;flowExecutor&quot; ref=&quot;flowExecutor&quot; /&gt;\r\n    \t\t&lt;property name=&quot;ajaxHandler&quot;&gt;\r\n    \t\t\t&lt;bean class=&quot;org.springframework.faces.webflow.JsfAjaxHandler&quot; /&gt;\r\n    \t\t&lt;/property&gt;\r\n    &lt;/bean&gt;\r\n\r\n--------------------------------------------------------------------------------\r\nStep3:facess-config.xml\r\n\r\n    &lt;faces-config xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-facesconfig_2_0.xsd&quot; version=&quot;2.0&quot;&gt;\r\n\r\n\r\n\r\n","title":"Migrating from JSF 1.2 to JSF 2.0","body":"<p>Web.xml</p>\n\n<pre><code> Add the jars\n    1. jsf-api-2.0.jar \n    2. jsf-impl.2.0.2.jar\n</code></pre>\n\n<p>Step 1: Change web.xml</p>\n\n<pre><code>&lt;web-app xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n            xmlns=\"http://java.sun.com/xml/ns/javaee\" xmlns:web=\"http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd\"\n            xsi:schemaLocation=\"http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd\"\n            id=\"WebApp_ID\" version=\"2.5\"&gt;\n\n\n    &lt;servlet&gt;\n            &lt;servlet-name&gt;facesServlet&lt;/servlet-name&gt;\n            &lt;servlet-class&gt;javax.faces.webapp.FacesServlet&lt;/servlet-class&gt;\n            &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n        &lt;/servlet&gt;\n\n        &lt;servlet-mapping&gt;\n            &lt;servlet-name&gt;facesServlet&lt;/servlet-name&gt;\n            &lt;url-pattern&gt;/faces/*&lt;/url-pattern&gt;\n        &lt;/servlet-mapping&gt;\n        &lt;servlet-mapping&gt;\n\n            &lt;servlet-name&gt;facesServlet&lt;/servlet-name&gt;\n            &lt;url-pattern&gt;*.jsf&lt;/url-pattern&gt;\n        &lt;/servlet-mapping&gt;\n\n        &lt;servlet-mapping&gt;\n            &lt;servlet-name&gt;facesServlet&lt;/servlet-name&gt;\n            &lt;url-pattern&gt;*.faces&lt;/url-pattern&gt;\n        &lt;/servlet-mapping&gt;\n\n        &lt;servlet-mapping&gt;\n            &lt;servlet-name&gt;facesServlet&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;*.xhtml&lt;/url-pattern&gt;\n        &lt;/servlet-mapping&gt;\n</code></pre>\n\n<hr>\n\n<p>Step 2: webmvc-config.xml</p>\n\n<pre><code>&lt;!-- Handles requests mapped to the Spring Web Flow system --&gt;\n    &lt;bean id=\"flowController\" class=\"org.springframework.webflow.mvc.servlet.FlowController\"&gt;\n        &lt;property name=\"flowExecutor\" ref=\"flowExecutor\" /&gt;\n        &lt;property name=\"ajaxHandler\"&gt;\n            &lt;bean class=\"org.springframework.faces.webflow.JsfAjaxHandler\" /&gt;\n        &lt;/property&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<hr>\n\n<p>Step3:facess-config.xml</p>\n\n<pre><code>&lt;faces-config xmlns=\"http://java.sun.com/xml/ns/javaee\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-facesconfig_2_0.xsd\" version=\"2.0\"&gt;\n</code></pre>\n"}],"owner":{"account_id":13130,"reputation":57236,"user_id":26188,"accept_rate":87,"display_name":"mkoryak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":105426,"favorite_count":0,"down_vote_count":0,"up_vote_count":141,"accepted_answer_id":4532870,"answer_count":5,"score":141,"last_activity_date":1691486455,"creation_date":1292345077,"question_id":4441713,"body_markdown":"I am working with a rather large app written in **JSF 1.2**.\r\nJSF 1.2 is around 6 years old now. I need to upgrade to JSF 2.0. How painful will this be? I noticed that some attributes in custom tags have been changed etc. ","title":"Migrating from JSF 1.2 to JSF 2.0","body":"<p>I am working with a rather large app written in <strong>JSF 1.2</strong>.\nJSF 1.2 is around 6 years old now. I need to upgrade to JSF 2.0. How painful will this be? I noticed that some attributes in custom tags have been changed etc. </p>\n"},{"tags":["java","spring","hibernate","transactions"],"owner":{"account_id":2175518,"reputation":719,"user_id":1926283,"accept_rate":58,"display_name":"Kajal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691486432,"creation_date":1691486432,"question_id":76858160,"body_markdown":"I was trying to use EntityManager to persist some entries to database.\r\n\r\nthe following code works fine,\r\n\r\n```\r\n\r\n@Transactional(value = &quot;txnABC&quot;, propagation = Propagation.REQUIRED, rollbackFor = Exception.class)\r\npublic class ABC {\r\n       @PersistenceContext(unitName = &quot;sampleUnitName&quot;)\r\n\t   EntityManager entityManager;\r\n       \r\n      public void save(Object input){\r\n            entityManager.persist(input)\r\n      }\r\n\r\n}\r\n```\r\n\r\nHowever, when I extend an abstract class `CommonActions` as below\r\n\r\n```\r\npublic abstract CommonActions{\r\n      public abstract void save(Object input);\r\n\r\n      public void sayHi(){\r\n      }\r\n}\r\n\r\n@Transactional(value = &quot;txnABC&quot;, propagation = Propagation.REQUIRED, rollbackFor = Exception.class)\r\npublic class ABC extends  CommonActions{\r\n     @override\r\n     public void save(Object input){\r\n            entityManager.persist(input)\r\n      }\r\n}\r\n\r\n```\r\n\r\nThen the following error is raised, \r\n\r\n```\r\nCaused by: org.springframework.beans.factory.BeanNotOfRequiredTypeException: Bean named &#39;abc&#39; is expected to be of type &#39;ABC&#39; but was actually of type &#39;com.sun.proxy.$Proxy48&#39;\r\n\r\n```\r\n\r\nIs it possible to use the annotation `@Transactional` in sub class ?\r\n\r\n\r\n","title":"Transactional annotation for subclass fails to inject bean","body":"<p>I was trying to use EntityManager to persist some entries to database.</p>\n<p>the following code works fine,</p>\n<pre><code>\n@Transactional(value = &quot;txnABC&quot;, propagation = Propagation.REQUIRED, rollbackFor = Exception.class)\npublic class ABC {\n       @PersistenceContext(unitName = &quot;sampleUnitName&quot;)\n       EntityManager entityManager;\n       \n      public void save(Object input){\n            entityManager.persist(input)\n      }\n\n}\n</code></pre>\n<p>However, when I extend an abstract class <code>CommonActions</code> as below</p>\n<pre><code>public abstract CommonActions{\n      public abstract void save(Object input);\n\n      public void sayHi(){\n      }\n}\n\n@Transactional(value = &quot;txnABC&quot;, propagation = Propagation.REQUIRED, rollbackFor = Exception.class)\npublic class ABC extends  CommonActions{\n     @override\n     public void save(Object input){\n            entityManager.persist(input)\n      }\n}\n\n</code></pre>\n<p>Then the following error is raised,</p>\n<pre><code>Caused by: org.springframework.beans.factory.BeanNotOfRequiredTypeException: Bean named 'abc' is expected to be of type 'ABC' but was actually of type 'com.sun.proxy.$Proxy48'\n\n</code></pre>\n<p>Is it possible to use the annotation <code>@Transactional</code> in sub class ?</p>\n"},{"tags":["java","spring","hibernate","mongodb","jpa"],"comments":[{"owner":{"account_id":893106,"reputation":3490,"user_id":931007,"accept_rate":89,"display_name":"kamil"},"score":0,"creation_date":1410599732,"post_id":25821579,"comment_id":40394836,"body_markdown":"Try to remove `em.getTransaction().begin();em.getTransaction().commit();em.flush();em.clear();em.close();` it should be up to spring to manage your transaction","body":"Try to remove <code>em.getTransaction().begin();em.getTransaction().commit();em.&zwnj;&#8203;flush();em.clear();e&zwnj;&#8203;m.close();</code> it should be up to spring to manage your transaction"},{"owner":{"account_id":4650342,"reputation":1441,"user_id":3963598,"accept_rate":0,"display_name":"user41498"},"score":0,"creation_date":1410605130,"post_id":25821579,"comment_id":40396106,"body_markdown":"Thanks for the response i have tried with what you have suggested but their is no change.","body":"Thanks for the response i have tried with what you have suggested but their is no change."},{"owner":{"account_id":3198521,"reputation":385,"user_id":2701126,"accept_rate":77,"display_name":"balboa_21"},"score":0,"creation_date":1523604071,"post_id":25821579,"comment_id":86637319,"body_markdown":"Hibernate JPA(Spring Data JPA) with mongo?I dont think it will work - Mongo being NoSQL doesnt comply with ACID properties. spring-data-mongodb is something which you should be using.","body":"Hibernate JPA(Spring Data JPA) with mongo?I dont think it will work - Mongo being NoSQL doesnt comply with ACID properties. spring-data-mongodb is something which you should be using."}],"answers":[{"comments":[{"owner":{"account_id":4650342,"reputation":1441,"user_id":3963598,"accept_rate":0,"display_name":"user41498"},"score":0,"creation_date":1410605197,"post_id":25821956,"comment_id":40396130,"body_markdown":"Hi @sanket thanks for the response i have tried your suggestion i am geting the same error.","body":"Hi @sanket thanks for the response i have tried your suggestion i am geting the same error."},{"owner":{"account_id":2072360,"reputation":1881,"user_id":1846516,"accept_rate":53,"display_name":"DeepInJava"},"score":0,"creation_date":1410609508,"post_id":25821956,"comment_id":40397192,"body_markdown":"i have edited my solution. See above. Problem seems to be with your configuration file.","body":"i have edited my solution. See above. Problem seems to be with your configuration file."},{"owner":{"account_id":4650342,"reputation":1441,"user_id":3963598,"accept_rate":0,"display_name":"user41498"},"score":0,"creation_date":1410857933,"post_id":25821956,"comment_id":40472883,"body_markdown":"It worked without jpa Adapter by adding @Transactional(readOnly = false, isolation = Isolation.DEFAULT, propagation = Propagation.REQUIRED, rollbackFor = {Exception.class}) but it is not going to database. collection is not created at database","body":"It worked without jpa Adapter by adding @Transactional(readOnly = false, isolation = Isolation.DEFAULT, propagation = Propagation.REQUIRED, rollbackFor = {Exception.class}) but it is not going to database. collection is not created at database"},{"owner":{"account_id":2072360,"reputation":1881,"user_id":1846516,"accept_rate":53,"display_name":"DeepInJava"},"score":1,"creation_date":1410860867,"post_id":25821956,"comment_id":40474514,"body_markdown":"i have missed bean **&quot;entityManagerFactory** in my solution.i have edited my solution","body":"i have missed bean <b>&quot;entityManagerFactory</b> in my solution.i have edited my solution"},{"owner":{"account_id":4650342,"reputation":1441,"user_id":3963598,"accept_rate":0,"display_name":"user41498"},"score":0,"creation_date":1410862225,"post_id":25821956,"comment_id":40475257,"body_markdown":"If i use Jpa vendor adapter it show some errors so can you please specify me without jpa vendor adapter. Because here i am using mongodb","body":"If i use Jpa vendor adapter it show some errors so can you please specify me without jpa vendor adapter. Because here i am using mongodb"},{"owner":{"account_id":2072360,"reputation":1881,"user_id":1846516,"accept_rate":53,"display_name":"DeepInJava"},"score":0,"creation_date":1410862939,"post_id":25821956,"comment_id":40475627,"body_markdown":"You can refer this link http://www.datanucleus.org/products/datanucleus/jpa/guides/tutorial_mongodb.html","body":"You can refer this link <a href=\"http://www.datanucleus.org/products/datanucleus/jpa/guides/tutorial_mongodb.html\" rel=\"nofollow noreferrer\">datanucleus.org/products/datanucleus/jpa/guides/&hellip;</a>"}],"tags":[],"owner":{"account_id":2072360,"reputation":1881,"user_id":1846516,"accept_rate":53,"display_name":"DeepInJava"},"comment_count":6,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1410860709,"creation_date":1410601818,"answer_id":25821956,"question_id":25821579,"body_markdown":"You need not to worry about begin and end transaction. You have already apply @Transactional annotation, which internally open transaction when your method starts and ends when your method ends. So only required this is to persist your object in database.\r\n\r\n     @Transactional(readOnly = false, isolation = Isolation.DEFAULT, propagation = Propagation.REQUIRED, rollbackFor = {Exception.class})\r\n\r\n             public String persist(Details details){\r\n                 details.getUsername();\r\n                 details.getPassword();\r\n                 Query query = em.createNativeQuery(&quot;db.details.find(username= &quot;+details.getUsername()+&quot;&amp; password= &quot;+details.getPassword());\r\n     \r\n                 em.persist(details);\r\n                 System.out.println(&quot;Sucessful!&quot;);\r\n                return &quot;persist&quot;;        \r\n         }\r\n\r\n**EDIT : The problem seems to be with your configuration file. If you are using JPA then your configuration file should have below configuration**\r\n\r\n    &lt;bean id=&quot;transactionManager&quot; class=&quot;org.springframework.orm.jpa.JpaTransactionManager&quot;\r\n\t\tp:entityManagerFactory-ref=&quot;entityManagerFactory&quot; /&gt;\r\n    &lt;bean id=&quot;jpaAdapter&quot;\r\n\t\tclass=&quot;org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter&quot;\r\n\t\tp:database=&quot;ORACLE&quot; p:showSql=&quot;true&quot; /&gt;\r\n\t&lt;bean id=&quot;entityManagerFactory&quot;\r\n\t\tclass=&quot;org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean&quot;\r\n\t\tp:persistenceUnitName=&quot;YourProjectPU&quot;\r\n\t\tp:persistenceXmlLocation=&quot;classpath*:persistence.xml&quot;\r\n\t\tp:dataSource-ref=&quot;dataSource&quot; p:jpaVendorAdapter-ref=&quot;jpaAdapter&quot;&gt;\r\n\t\t&lt;property name=&quot;loadTimeWeaver&quot;&gt;\r\n\t\t\t&lt;bean\r\n\t\t\t\tclass=&quot;org.springframework.instrument.classloading.InstrumentationLoadTimeWeaver&quot; /&gt;\r\n\t\t&lt;/property&gt;\r\n\t\t&lt;property name=&quot;persistenceProvider&quot; ref=&quot;interceptorPersistenceProvider&quot; /&gt;\r\n\t\t\r\n\t&lt;/bean&gt;","title":"TransactionRequiredException Executing an update/delete query","body":"<p>You need not to worry about begin and end transaction. You have already apply @Transactional annotation, which internally open transaction when your method starts and ends when your method ends. So only required this is to persist your object in database.</p>\n\n<pre><code> @Transactional(readOnly = false, isolation = Isolation.DEFAULT, propagation = Propagation.REQUIRED, rollbackFor = {Exception.class})\n\n         public String persist(Details details){\n             details.getUsername();\n             details.getPassword();\n             Query query = em.createNativeQuery(\"db.details.find(username= \"+details.getUsername()+\"&amp; password= \"+details.getPassword());\n\n             em.persist(details);\n             System.out.println(\"Sucessful!\");\n            return \"persist\";        \n     }\n</code></pre>\n\n<p><strong>EDIT : The problem seems to be with your configuration file. If you are using JPA then your configuration file should have below configuration</strong></p>\n\n<pre><code>&lt;bean id=\"transactionManager\" class=\"org.springframework.orm.jpa.JpaTransactionManager\"\n    p:entityManagerFactory-ref=\"entityManagerFactory\" /&gt;\n&lt;bean id=\"jpaAdapter\"\n    class=\"org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter\"\n    p:database=\"ORACLE\" p:showSql=\"true\" /&gt;\n&lt;bean id=\"entityManagerFactory\"\n    class=\"org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean\"\n    p:persistenceUnitName=\"YourProjectPU\"\n    p:persistenceXmlLocation=\"classpath*:persistence.xml\"\n    p:dataSource-ref=\"dataSource\" p:jpaVendorAdapter-ref=\"jpaAdapter\"&gt;\n    &lt;property name=\"loadTimeWeaver\"&gt;\n        &lt;bean\n            class=\"org.springframework.instrument.classloading.InstrumentationLoadTimeWeaver\" /&gt;\n    &lt;/property&gt;\n    &lt;property name=\"persistenceProvider\" ref=\"interceptorPersistenceProvider\" /&gt;\n\n&lt;/bean&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5099064,"reputation":939,"user_id":4089318,"accept_rate":75,"display_name":"Michael Tontchev"},"score":6,"creation_date":1428593388,"post_id":28358590,"comment_id":47237180,"body_markdown":"For those reading this, to call joinTransaction you do\n\nem.joinTransaction();\n\n(where em is your EntityManager object)\n\n(also, one of the spellings of the function in the answer above is bad, which is why you&#39;ll get the red squigglies in Eclipse if you just copy/paste. Instead, you can copy/paste the code in this comment here.)","body":"For those reading this, to call joinTransaction you do  em.joinTransaction();  (where em is your EntityManager object)  (also, one of the spellings of the function in the answer above is bad, which is why you&#39;ll get the red squigglies in Eclipse if you just copy/paste. Instead, you can copy/paste the code in this comment here.)"},{"owner":{"account_id":4670717,"reputation":813,"user_id":3782567,"accept_rate":30,"display_name":"Shilan"},"score":3,"creation_date":1553608310,"post_id":28358590,"comment_id":97441412,"body_markdown":"with third solution i get this error: org.springframework.dao.InvalidDataAccessApiUsageException: No local transaction to join; nested exception is javax.persistence.TransactionRequiredException: No local transaction to join","body":"with third solution i get this error: org.springframework.dao.InvalidDataAccessApiUsageException: No local transaction to join; nested exception is javax.persistence.TransactionRequiredException: No local transaction to join"},{"owner":{"account_id":4670717,"reputation":813,"user_id":3782567,"accept_rate":30,"display_name":"Shilan"},"score":1,"creation_date":1553608669,"post_id":28358590,"comment_id":97441682,"body_markdown":"I used the factory instead and in each and every methoda I get the entityManager and handle the transaction manually with transaction.begin and commit() EntityManager entityManager = entityManagerFactory.createEntityManager();","body":"I used the factory instead and in each and every methoda I get the entityManager and handle the transaction manually with transaction.begin and commit() EntityManager entityManager = entityManagerFactory.createEntityManager();"},{"owner":{"account_id":1274782,"reputation":12266,"user_id":1230257,"accept_rate":35,"display_name":"Danyal Sandeelo"},"score":1,"creation_date":1580041091,"post_id":28358590,"comment_id":105960244,"body_markdown":"This should be accepted as answer when when you are playing with native queries, you will need to do `entityManager.joinTransaction();`","body":"This should be accepted as answer when when you are playing with native queries, you will need to do <code>entityManager.joinTransaction();</code>"},{"owner":{"account_id":9768807,"reputation":66,"user_id":7241416,"display_name":"HerTesla"},"score":1,"creation_date":1580824826,"post_id":28358590,"comment_id":106219177,"body_markdown":"I was so blind! Thanks for this advice ... I just forgot the @Transactional annotation","body":"I was so blind! Thanks for this advice ... I just forgot the @Transactional annotation"},{"owner":{"account_id":368447,"reputation":24110,"user_id":715269,"accept_rate":60,"display_name":"Gangnus"},"score":0,"creation_date":1607273614,"post_id":28358590,"comment_id":115214769,"body_markdown":"Does not help for me - The only result is: java.lang.IllegalStateException: Not allowed to join transaction on shared EntityManager - use Spring transactions or EJB CMT instead. (I HAVE the Spring transaction)","body":"Does not help for me - The only result is: java.lang.IllegalStateException: Not allowed to join transaction on shared EntityManager - use Spring transactions or EJB CMT instead. (I HAVE the Spring transaction)"},{"owner":{"account_id":10484756,"reputation":847,"user_id":7728676,"display_name":"lewis machilika"},"score":0,"creation_date":1628084096,"post_id":28358590,"comment_id":121326845,"body_markdown":"I am learning spring boot I have the same error but I don&#39;t know where you implement this solution below is my query.\n\n*@Modifying\n    @Query(nativeQuery = true, value = &quot;update loan_application set transaction_status = :transaction_status where id =:id&quot;)\n    void updateLoanApplicationStatus(@Param(&quot;transaction_status&quot;) int transaction_status,@Param(&quot;id&quot;) BigInteger id);*","body":"I am learning spring boot I have the same error but I don&#39;t know where you implement this solution below is my query.  <i>@Modifying     @Query(nativeQuery = true, value = &quot;update loan_application set transaction_status = :transaction_status where id =:id&quot;)     void updateLoanApplicationStatus(@Param(&quot;transaction_status&quot;) int transaction_status,@Param(&quot;id&quot;) BigInteger id);</i>"}],"tags":[],"owner":{"account_id":5743979,"reputation":1211,"user_id":4535711,"display_name":"Drew Corbin"},"comment_count":7,"down_vote_count":0,"up_vote_count":121,"is_accepted":false,"score":121,"last_activity_date":1671855014,"creation_date":1423196864,"answer_id":28358590,"question_id":25821579,"body_markdown":"I am not sure if this will help your situation (that is if it stills exists), however, after scouring the web for a similar issue.\r\n\r\nI was creating a native query from a persistence EntityManager to perform an update.\r\n\r\n    Query query = entityManager.createNativeQuery(queryString);\r\n\r\nI was receiving the following error:\r\n\r\n&gt; caused by: javax.persistence.TransactionRequiredException: Executing\r\n&gt; an update/delete query\r\n\r\nMany solutions suggest adding @Transactional to your method.\r\nJust doing this did not change the error.\r\n\r\nSome solutions suggest asking the EntityManager for a `EntityTransaction` so that you can call begin and commit yourself.\r\nThis throws another error:\r\n\r\n&gt; caused by: java.lang.IllegalStateException: Not allowed to create\r\n&gt; transaction on shared EntityManager - use Spring transactions or EJB\r\n&gt; CMT instead\r\n\r\nI then tried a method which most sites say is for use application managed entity managers and not container managed (which I believe Spring is) and that was `joinTransaction()`.\r\n\r\nHaving `@Transactional` decorating the method and then calling `joinTransaction()` on EntityManager object just prior to calling `query.executeUpdate()` and my native query update worked.","title":"TransactionRequiredException Executing an update/delete query","body":"<p>I am not sure if this will help your situation (that is if it stills exists), however, after scouring the web for a similar issue.</p>\n<p>I was creating a native query from a persistence EntityManager to perform an update.</p>\n<pre><code>Query query = entityManager.createNativeQuery(queryString);\n</code></pre>\n<p>I was receiving the following error:</p>\n<blockquote>\n<p>caused by: javax.persistence.TransactionRequiredException: Executing\nan update/delete query</p>\n</blockquote>\n<p>Many solutions suggest adding @Transactional to your method.\nJust doing this did not change the error.</p>\n<p>Some solutions suggest asking the EntityManager for a <code>EntityTransaction</code> so that you can call begin and commit yourself.\nThis throws another error:</p>\n<blockquote>\n<p>caused by: java.lang.IllegalStateException: Not allowed to create\ntransaction on shared EntityManager - use Spring transactions or EJB\nCMT instead</p>\n</blockquote>\n<p>I then tried a method which most sites say is for use application managed entity managers and not container managed (which I believe Spring is) and that was <code>joinTransaction()</code>.</p>\n<p>Having <code>@Transactional</code> decorating the method and then calling <code>joinTransaction()</code> on EntityManager object just prior to calling <code>query.executeUpdate()</code> and my native query update worked.</p>\n"},{"comments":[{"owner":{"account_id":3171905,"reputation":10222,"user_id":2680640,"display_name":"sendon1982"},"score":1,"creation_date":1433484749,"post_id":30403967,"comment_id":49381462,"body_markdown":"When I use &quot;org.springframework.transaction.annotation.Transactional&quot;\nit is working fine","body":"When I use &quot;org.springframework.transaction.annotation.Transactional&quot; it is working fine"}],"tags":[],"owner":{"account_id":6308811,"reputation":755,"user_id":4901047,"display_name":"Chetan Verma"},"comment_count":1,"down_vote_count":0,"up_vote_count":53,"is_accepted":false,"score":53,"last_activity_date":1619525059,"creation_date":1432320880,"answer_id":30403967,"question_id":25821579,"body_markdown":"as form the configuration xml it is clear that you are going to use spring based transaction. Please make sure that the import which you are using for @Transactional is **&quot;org.springframework.transaction.annotation.Transactional&quot;**\r\n\r\nin your case it might be **&quot;javax.transaction.Transactional&quot;**\r\n\r\n\r\n","title":"TransactionRequiredException Executing an update/delete query","body":"<p>as form the configuration xml it is clear that you are going to use spring based transaction. Please make sure that the import which you are using for @Transactional is <strong>&quot;org.springframework.transaction.annotation.Transactional&quot;</strong></p>\n<p>in your case it might be <strong>&quot;javax.transaction.Transactional&quot;</strong></p>\n"},{"comments":[{"owner":{"account_id":959042,"reputation":1491,"user_id":983803,"accept_rate":65,"display_name":"3xCh1_23"},"score":2,"creation_date":1503256006,"post_id":37842245,"comment_id":78529355,"body_markdown":"The edit did not add or improve the solution and therefore was not necessary. Thank you for (what you consider) an improved grammar. I would have preferred a more productive approach.","body":"The edit did not add or improve the solution and therefore was not necessary. Thank you for (what you consider) an improved grammar. I would have preferred a more productive approach."},{"owner":{"account_id":351283,"reputation":2878,"user_id":687647,"accept_rate":80,"display_name":"Software Prophets"},"score":2,"creation_date":1532616935,"post_id":37842245,"comment_id":90051327,"body_markdown":"Another thing to take note of is that package level visibility does not work on methods marked @Transactional. It must be public. As per this article: http://www.baeldung.com/transaction-configuration-with-jpa-and-spring, &quot;Another caveat of using proxies is that only public methods should be annotated with Transactional  methods of any other visibilities will simply ignore the annotation silently as these are not proxied.&quot;","body":"Another thing to take note of is that package level visibility does not work on methods marked @Transactional. It must be public. As per this article: <a href=\"http://www.baeldung.com/transaction-configuration-with-jpa-and-spring\" rel=\"nofollow noreferrer\">baeldung.com/transaction-configuration-with-jpa-and-spring</a>, &quot;Another caveat of using proxies is that only public methods should be annotated with Transactional  methods of any other visibilities will simply ignore the annotation silently as these are not proxied.&quot;"}],"tags":[],"owner":{"account_id":959042,"reputation":1491,"user_id":983803,"accept_rate":65,"display_name":"3xCh1_23"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1503230974,"creation_date":1466012547,"answer_id":37842245,"question_id":25821579,"body_markdown":"Nothing seemed to work for me until I realized that my method was declared as `public final` instead of just `public`. The error was being caused by the `final` keyword. Removing it made the error go away.","title":"TransactionRequiredException Executing an update/delete query","body":"<p>Nothing seemed to work for me until I realized that my method was declared as <code>public final</code> instead of just <code>public</code>. The error was being caused by the <code>final</code> keyword. Removing it made the error go away.</p>\n"},{"comments":[{"owner":{"account_id":1811316,"reputation":9110,"user_id":1647320,"accept_rate":85,"display_name":"sapy"},"score":2,"creation_date":1554776295,"post_id":39571114,"comment_id":97866156,"body_markdown":"This works . import `import org.springframework.transaction.annotation.Transactional;` and add @Transactional to class level .","body":"This works . import <code>import org.springframework.transaction.annotation.Transactional;</code> and add @Transactional to class level ."},{"owner":{"account_id":5139737,"reputation":3288,"user_id":4117496,"accept_rate":89,"display_name":"Fisher Coder"},"score":0,"creation_date":1582303360,"post_id":39571114,"comment_id":106743593,"body_markdown":"I don&#39;t know why either, I&#39;ve tried to add &#39;@Transactional&#39; to all different methods, no luck, but once moved it to class level, the magic happens...","body":"I don&#39;t know why either, I&#39;ve tried to add &#39;@Transactional&#39; to all different methods, no luck, but once moved it to class level, the magic happens..."},{"owner":{"account_id":2879573,"reputation":8521,"user_id":2470765,"accept_rate":59,"display_name":"michal.jakubeczy"},"score":0,"creation_date":1627890021,"post_id":39571114,"comment_id":121267051,"body_markdown":"have you add them to private methods? If so, @Transactional has no effect on them. In that case adding on class might help.","body":"have you add them to private methods? If so, @Transactional has no effect on them. In that case adding on class might help."}],"tags":[],"owner":{"account_id":117315,"reputation":3877,"user_id":307295,"display_name":"mvmn"},"comment_count":3,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1486633404,"creation_date":1474281452,"answer_id":39571114,"question_id":25821579,"body_markdown":"How about moving `@Transactional` from method to class level?\r\nWorked for me in similar case, though I&#39;m not 100% certain why.","title":"TransactionRequiredException Executing an update/delete query","body":"<p>How about moving <code>@Transactional</code> from method to class level?\nWorked for me in similar case, though I'm not 100% certain why.</p>\n"},{"comments":[{"owner":{"account_id":31773,"reputation":143,"user_id":87530,"display_name":"Mark Miller"},"score":21,"creation_date":1495122041,"post_id":42569935,"comment_id":75129741,"body_markdown":"This helped me ... I needed both &quot;@Transactional&quot; and &quot;@Modifying&quot; on the JPA repository method. Just having this on my service method (which calls the JPA repository) did not seem to be enough.","body":"This helped me ... I needed both &quot;@Transactional&quot; and &quot;@Modifying&quot; on the JPA repository method. Just having this on my service method (which calls the JPA repository) did not seem to be enough."},{"owner":{"account_id":987434,"reputation":10946,"user_id":1005607,"accept_rate":64,"display_name":"gene b."},"score":5,"creation_date":1513455780,"post_id":42569935,"comment_id":82663691,"body_markdown":"THIS HELPED ME. @Transactional was required on the JPA DAO Repository method too! Unbelievable! You are a lifesaver, Satya P!!","body":"THIS HELPED ME. @Transactional was required on the JPA DAO Repository method too! Unbelievable! You are a lifesaver, Satya P!!"},{"owner":{"account_id":3871840,"reputation":5493,"user_id":3206927,"accept_rate":77,"display_name":"sinedsem"},"score":3,"creation_date":1537699809,"post_id":42569935,"comment_id":91872386,"body_markdown":"Agreed, this is required if using @Modifing queries.","body":"Agreed, this is required if using @Modifing queries."}],"tags":[],"owner":{"account_id":3037585,"reputation":817,"user_id":2575289,"display_name":"Satya P"},"comment_count":3,"down_vote_count":0,"up_vote_count":71,"is_accepted":false,"score":71,"last_activity_date":1588958614,"creation_date":1488510554,"answer_id":42569935,"question_id":25821579,"body_markdown":"I have also faced same issue when I work with Hibernate and Spring Jpa Data Repository. I forgot to place `@Transactional` on spring data repository method. &lt;br/&gt;&lt;br/&gt;\r\nIts working for me after annotating with `@Transactional`.\r\n","title":"TransactionRequiredException Executing an update/delete query","body":"<p>I have also faced same issue when I work with Hibernate and Spring Jpa Data Repository. I forgot to place <code>@Transactional</code> on spring data repository method. <br/><br/>\nIts working for me after annotating with <code>@Transactional</code>.</p>\n"},{"comments":[{"owner":{"account_id":125677,"reputation":635,"user_id":3167079,"accept_rate":40,"display_name":"xbranko"},"score":1,"creation_date":1635905522,"post_id":45434155,"comment_id":123415285,"body_markdown":"I tried with both (one at a time) and it worked with either. Spring version used was 2.2.5.RELEASE. I left the spring one in code.","body":"I tried with both (one at a time) and it worked with either. Spring version used was 2.2.5.RELEASE. I left the spring one in code."},{"owner":{"account_id":15309583,"reputation":1580,"user_id":11045279,"display_name":"Aditya Patnaik"},"score":0,"creation_date":1677778378,"post_id":45434155,"comment_id":133409238,"body_markdown":"This turned out to be pure gold of an advice for me.","body":"This turned out to be pure gold of an advice for me."}],"tags":[],"owner":{"account_id":10907453,"reputation":1572,"user_id":8017771,"accept_rate":29,"display_name":"User-8017771"},"comment_count":2,"down_vote_count":0,"up_vote_count":103,"is_accepted":false,"score":103,"last_activity_date":1576605358,"creation_date":1501580083,"answer_id":45434155,"question_id":25821579,"body_markdown":"In my case, I had the wrong `@Transactional` imported. \r\n\r\nThe correct one is:\r\n\r\n```java\r\nimport org.springframework.transaction.annotation.Transactional;\r\n```\r\n\r\nand *not* \r\n\r\n```java\r\nimport javax.transaction.Transactional;\r\n```","title":"TransactionRequiredException Executing an update/delete query","body":"<p>In my case, I had the wrong <code>@Transactional</code> imported. </p>\n\n<p>The correct one is:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.transaction.annotation.Transactional;\n</code></pre>\n\n<p>and <em>not</em> </p>\n\n<pre class=\"lang-java prettyprint-override\"><code>import javax.transaction.Transactional;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8630393,"reputation":81,"user_id":6462197,"display_name":""},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1504146660,"creation_date":1503225889,"answer_id":45781260,"question_id":25821579,"body_markdown":"After integrating Spring 4 with Hibernate 5 in my project and experiencing this problem, I found that I could prevent the error from appearing by changing the way of getting the session from `sessionFactory.openSession()` to `sessionFactory.getCurrentSession()`.\r\nthe proper way to work out this bug may be keep using the same session for the binding transaction.opensession will always create a new session which doesnt like the former one holding a transaction configed.using getCurrentSession and adding additional property `&lt;property name=&quot;current_session_context_class&quot;&gt;org.springframework.orm.hibernate5.SpringSessionContext&lt;/property&gt;` works fine for me.","title":"TransactionRequiredException Executing an update/delete query","body":"<p>After integrating Spring 4 with Hibernate 5 in my project and experiencing this problem, I found that I could prevent the error from appearing by changing the way of getting the session from <code>sessionFactory.openSession()</code> to <code>sessionFactory.getCurrentSession()</code>.\nthe proper way to work out this bug may be keep using the same session for the binding transaction.opensession will always create a new session which doesnt like the former one holding a transaction configed.using getCurrentSession and adding additional property <code>&lt;property name=\"current_session_context_class\"&gt;org.springframework.orm.hibernate5.SpringSessionContext&lt;/property&gt;</code> works fine for me.</p>\n"},{"tags":[],"owner":{"account_id":5605036,"reputation":2440,"user_id":4439996,"accept_rate":80,"display_name":"Akshay Pethani"},"comment_count":0,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1615808953,"creation_date":1503554239,"answer_id":45853964,"question_id":25821579,"body_markdown":"I Got the same error.\r\n\r\nI just added the **@Transactional** annotation of **javax.transaction.Transactional** on the method.\r\n\r\nUpdate:\r\n\r\nI would recommend using Spring&#39;s `@Transactional` annotation from `org.springframework.transaction.annotation.Transactional;`","title":"TransactionRequiredException Executing an update/delete query","body":"<p>I Got the same error.</p>\n<p>I just added the <strong>@Transactional</strong> annotation of <strong>javax.transaction.Transactional</strong> on the method.</p>\n<p>Update:</p>\n<p>I would recommend using Spring's <code>@Transactional</code> annotation from <code>org.springframework.transaction.annotation.Transactional;</code></p>\n"},{"tags":[],"owner":{"account_id":2471718,"reputation":401,"user_id":2153403,"accept_rate":71,"display_name":"Abdullah"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1527746062,"creation_date":1527746062,"answer_id":50617536,"question_id":25821579,"body_markdown":"I faced the same exception &quot;**TransactionRequiredException Executing an update/delete query**&quot; but for me the reason was that I&#39;ve created another bean in the spring **applicationContext.xml** file with the name &quot;**transactionManager**&quot; refering to &quot;**org.springframework.jms.connection.JmsTransactionManage**r&quot; however there was another bean with the same name &quot;**transactionManager**&quot; refering to &quot;**org.springframework.orm.jpa.JpaTransactionManager**&quot;. So the **JPA** bean is overriten by the **JMS** bean.\r\n\r\nAfter renaming the bean name of the Jms, issue is resolved.","title":"TransactionRequiredException Executing an update/delete query","body":"<p>I faced the same exception \"<strong>TransactionRequiredException Executing an update/delete query</strong>\" but for me the reason was that I've created another bean in the spring <strong>applicationContext.xml</strong> file with the name \"<strong>transactionManager</strong>\" refering to \"<strong>org.springframework.jms.connection.JmsTransactionManage</strong>r\" however there was another bean with the same name \"<strong>transactionManager</strong>\" refering to \"<strong>org.springframework.orm.jpa.JpaTransactionManager</strong>\". So the <strong>JPA</strong> bean is overriten by the <strong>JMS</strong> bean.</p>\n\n<p>After renaming the bean name of the Jms, issue is resolved.</p>\n"},{"comments":[{"owner":{"account_id":5709135,"reputation":793,"user_id":4511735,"display_name":"Cheloide"},"score":7,"creation_date":1544725983,"post_id":51034987,"comment_id":94388011,"body_markdown":"This is an awful answer, you should be using prepared statemens for this. this code is vulnerable to injection attacks.","body":"This is an awful answer, you should be using prepared statemens for this. this code is vulnerable to injection attacks."}],"tags":[],"owner":{"account_id":9704758,"reputation":1,"user_id":7198531,"display_name":"Sajjad Ali Khan"},"comment_count":1,"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1529987964,"creation_date":1529987964,"answer_id":51034987,"question_id":25821579,"body_markdown":"    import org.hibernate.Criteria;\r\n    import org.hibernate.Query;\r\n    import org.hibernate.Session;\r\n    import org.hibernate.SessionFactory;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Component;\r\n    import org.springframework.transaction.annotation.Transactional;\r\n    \r\n    \r\n    \t@Transactional\r\n    \tpublic int changepassword(String password, long mobile) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\tsession = factory.getCurrentSession();\r\n    \t\tQuery query = session.createQuery(&quot;update User u set u.password=&#39;&quot; + password + &quot;&#39; where u.mobile=&quot; + mobile);\r\n    \t\tint result = query.executeUpdate();\r\n    \r\n    \t\treturn result;\r\n    \t}\r\n    add this code 200% it will work... might scenario is diff but write like this:)","title":"TransactionRequiredException Executing an update/delete query","body":"<pre><code>import org.hibernate.Criteria;\nimport org.hibernate.Query;\nimport org.hibernate.Session;\nimport org.hibernate.SessionFactory;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Component;\nimport org.springframework.transaction.annotation.Transactional;\n\n\n    @Transactional\n    public int changepassword(String password, long mobile) {\n        // TODO Auto-generated method stub\n        session = factory.getCurrentSession();\n        Query query = session.createQuery(\"update User u set u.password='\" + password + \"' where u.mobile=\" + mobile);\n        int result = query.executeUpdate();\n\n        return result;\n    }\nadd this code 200% it will work... might scenario is diff but write like this:)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5010108,"reputation":1772,"user_id":4026629,"display_name":"JL_SO"},"comment_count":0,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1537129404,"creation_date":1537129404,"answer_id":52358090,"question_id":25821579,"body_markdown":"I received this exception when trying to run a bulk UPDATE query in a non-JTA (i.e. resource-local) entity manager in Java SE. \r\nI had simply forgotten to wrap my JPQL code in \r\n\r\n    em.getTransaction().begin();\r\n\r\nand\r\n\r\n    em.getTransaction().commit();\r\n\r\n","title":"TransactionRequiredException Executing an update/delete query","body":"<p>I received this exception when trying to run a bulk UPDATE query in a non-JTA (i.e. resource-local) entity manager in Java SE. \nI had simply forgotten to wrap my JPQL code in </p>\n\n<pre><code>em.getTransaction().begin();\n</code></pre>\n\n<p>and</p>\n\n<pre><code>em.getTransaction().commit();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7113112,"reputation":1881,"user_id":5440323,"display_name":"Deva"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1555320993,"creation_date":1554210039,"answer_id":55475467,"question_id":25821579,"body_markdown":"Just add **@Transactional** on method level or class level. When you are updating or deleting record/s you have to maintain persistence state of Transaction and `@Transactional` manages this.\r\n\r\nand **import** `org.springframework.transaction.annotation.Transactional;`\r\n\r\n","title":"TransactionRequiredException Executing an update/delete query","body":"<p>Just add <strong>@Transactional</strong> on method level or class level. When you are updating or deleting record/s you have to maintain persistence state of Transaction and <code>@Transactional</code> manages this.</p>\n\n<p>and <strong>import</strong> <code>org.springframework.transaction.annotation.Transactional;</code></p>\n"},{"tags":[],"owner":{"account_id":15922141,"reputation":21,"user_id":11488831,"display_name":"Smitha"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1593969978,"creation_date":1559281288,"answer_id":56389257,"question_id":25821579,"body_markdown":"I was facing the same error inspite of adding `@Transactional` annotation at class level and importing `org.springframework.transaction.annotation.Transactional`.\r\n\r\nThen I realized that since I was using hibernate query, I had imported `javax.persistence.Query` instead of `import org.hibernate.query.Query`.\r\nTherefore adding import `org.hibernate.query.Query` solved the issue for me.\r\n\r\nI hope this idea helps someone.","title":"TransactionRequiredException Executing an update/delete query","body":"<p>I was facing the same error inspite of adding <code>@Transactional</code> annotation at class level and importing <code>org.springframework.transaction.annotation.Transactional</code>.</p>\n<p>Then I realized that since I was using hibernate query, I had imported <code>javax.persistence.Query</code> instead of <code>import org.hibernate.query.Query</code>.\nTherefore adding import <code>org.hibernate.query.Query</code> solved the issue for me.</p>\n<p>I hope this idea helps someone.</p>\n"},{"tags":[],"owner":{"account_id":5797147,"reputation":91,"user_id":4572599,"display_name":"Jonathan POIRIER"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1560936923,"creation_date":1560936758,"answer_id":56664493,"question_id":25821579,"body_markdown":"Faced the same problem, I simply forgot to activate the transaction management with the `@EnableTransactionManagement` annotation.\r\n\r\nRef:\r\n\r\nhttps://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/transaction/annotation/EnableTransactionManagement.html\r\n","title":"TransactionRequiredException Executing an update/delete query","body":"<p>Faced the same problem, I simply forgot to activate the transaction management with the <code>@EnableTransactionManagement</code> annotation.</p>\n\n<p>Ref:</p>\n\n<p><a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/transaction/annotation/EnableTransactionManagement.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/transaction/annotation/EnableTransactionManagement.html</a></p>\n"},{"tags":[],"owner":{"account_id":5483785,"reputation":585,"user_id":4359284,"accept_rate":25,"display_name":"Gourab Paul"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1563884936,"creation_date":1562750982,"answer_id":56967647,"question_id":25821579,"body_markdown":"Error message while running the code: \r\n\r\n&gt; javax.persistence.TransactionRequiredException: Executing an\r\n&gt; update/delete query\r\n\r\nBegin the entityManager transaction -&gt; createNativeQuery -&gt; execute update -&gt; entityManager transaction commit to save it in your database. It is working fine for me with Hibernate and postgresql.    \r\n    \r\n **Code**\r\n\r\n    entityManager.getTransaction().begin();\r\n    Query query = entityManager.createNativeQuery(&quot;UPDATE tunable_property SET tunable_property_value = :tunable_property_value WHERE tunable_property_name = :tunable_property_name&quot;);\r\n    query.setParameter(&quot;tunable_property_name&quot;, tunablePropertyEnum.eEnableJobManager.getName());\r\n    query.setParameter(&quot;tunable_property_value&quot;, tunable_property_value);\r\n    query.executeUpdate();\r\n    entityManager.getTransaction().commit();","title":"TransactionRequiredException Executing an update/delete query","body":"<p>Error message while running the code: </p>\n\n<blockquote>\n  <p>javax.persistence.TransactionRequiredException: Executing an\n  update/delete query</p>\n</blockquote>\n\n<p>Begin the entityManager transaction -> createNativeQuery -> execute update -> entityManager transaction commit to save it in your database. It is working fine for me with Hibernate and postgresql.    </p>\n\n<p><strong>Code</strong></p>\n\n<pre><code>entityManager.getTransaction().begin();\nQuery query = entityManager.createNativeQuery(\"UPDATE tunable_property SET tunable_property_value = :tunable_property_value WHERE tunable_property_name = :tunable_property_name\");\nquery.setParameter(\"tunable_property_name\", tunablePropertyEnum.eEnableJobManager.getName());\nquery.setParameter(\"tunable_property_value\", tunable_property_value);\nquery.executeUpdate();\nentityManager.getTransaction().commit();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12898503,"reputation":2596,"user_id":9328117,"display_name":"Shahid Hussain Abbasi"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1580996497,"creation_date":1580996497,"answer_id":60096343,"question_id":25821579,"body_markdown":"Using @Modifying and @Transaction fixed me\r\n\r\n1.  @Modifying\r\n    @Query(value=&quot;DELETE FROM lock WHERE user_id = ?1&quot; ,nativeQuery=true)\r\n    void deleteByUserId(Long userId);\r\n\r\n2. @Service\r\n@Transactional","title":"TransactionRequiredException Executing an update/delete query","body":"<p>Using @Modifying and @Transaction fixed me</p>\n\n<ol>\n<li><p>@Modifying\n@Query(value=\"DELETE FROM lock WHERE user_id = ?1\" ,nativeQuery=true)\nvoid deleteByUserId(Long userId);</p></li>\n<li><p>@Service\n@Transactional</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1934276,"reputation":4098,"user_id":1742932,"accept_rate":87,"display_name":"fortm"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1587816052,"creation_date":1587816052,"answer_id":61425279,"question_id":25821579,"body_markdown":"Using @PersistenceContext with @Modifying as below fixes error while using createNativeQuery\r\n\r\n```\r\n    import org.springframework.data.jpa.repository.Modifying;\r\n    import org.springframework.transaction.annotation.Transactional;\r\n\r\n    import javax.persistence.EntityManager;\r\n    import javax.persistence.PersistenceContext;\r\n    import javax.persistence.Query;\r\n\r\n    @PersistenceContext\r\n    private EntityManager entityManager;\r\n\r\n    @Override\r\n    @Transactional\r\n    @Modifying\r\n    public &lt;S extends T&gt; S save(S entity) {\r\n         Query q = entityManager.createNativeQuery(...);\r\n         q.setParameter...\r\n         q.executeUpdate();\r\n         return entity;\r\n    }\r\n```\r\n","title":"TransactionRequiredException Executing an update/delete query","body":"<p>Using @PersistenceContext with @Modifying as below fixes error while using createNativeQuery</p>\n\n<pre><code>    import org.springframework.data.jpa.repository.Modifying;\n    import org.springframework.transaction.annotation.Transactional;\n\n    import javax.persistence.EntityManager;\n    import javax.persistence.PersistenceContext;\n    import javax.persistence.Query;\n\n    @PersistenceContext\n    private EntityManager entityManager;\n\n    @Override\n    @Transactional\n    @Modifying\n    public &lt;S extends T&gt; S save(S entity) {\n         Query q = entityManager.createNativeQuery(...);\n         q.setParameter...\n         q.executeUpdate();\n         return entity;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5145207,"reputation":2728,"user_id":4121405,"accept_rate":0,"display_name":"alok"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1598873342,"creation_date":1598873278,"answer_id":63669923,"question_id":25821579,"body_markdown":"I was also getting this issue in springboot project and added @Transactional in my class and it is working. \r\n\r\n    import org.springframework.transaction.annotation.Transactional;\r\n    @Transactional\r\n    public class SearchRepo {\r\n    ---\r\n    }","title":"TransactionRequiredException Executing an update/delete query","body":"<p>I was also getting this issue in springboot project and added @Transactional in my class and it is working.</p>\n<pre><code>import org.springframework.transaction.annotation.Transactional;\n@Transactional\npublic class SearchRepo {\n---\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5373611,"reputation":17,"user_id":4281312,"display_name":"Georgee"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1600243606,"creation_date":1600243606,"answer_id":63915720,"question_id":25821579,"body_markdown":"If the previous answers fail, make sure you use **@Service** stereotype for the class where you call the update method on your repository. I originally used **@Component** instead and it was not working, the simple change to @Service made it work.","title":"TransactionRequiredException Executing an update/delete query","body":"<p>If the previous answers fail, make sure you use <strong>@Service</strong> stereotype for the class where you call the update method on your repository. I originally used <strong>@Component</strong> instead and it was not working, the simple change to @Service made it work.</p>\n"},{"tags":[],"owner":{"account_id":10901643,"reputation":336,"user_id":8906919,"display_name":"devaga"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1607932457,"creation_date":1607932457,"answer_id":65285390,"question_id":25821579,"body_markdown":"The same exception occurred to me in a somewhat different situation.\r\nSince I&#39;ve been searching here for an answer, maybe it&#39;ll help somebody.\r\n\r\nI my case the exception has been happening because I called the (properly annotated) @Transactional method from a **SERVICE CONSTRUCTOR...** \r\nSince my idea was simply to make this method run at the start, I annotated it as following, and stopped calling in a wrong way. Exception is gone, and code is better :)\r\n\r\n    @EventListener(ContextRefreshedEvent.class)\r\n    @Transactional\r\n    public void methodName() {...}\r\n\r\n\r\n\r\n@Transactional import: `import org.springframework.transaction.annotation.Transactional;`\r\n\r\n    \r\n","title":"TransactionRequiredException Executing an update/delete query","body":"<p>The same exception occurred to me in a somewhat different situation.\nSince I've been searching here for an answer, maybe it'll help somebody.</p>\n<p>I my case the exception has been happening because I called the (properly annotated) @Transactional method from a <strong>SERVICE CONSTRUCTOR...</strong>\nSince my idea was simply to make this method run at the start, I annotated it as following, and stopped calling in a wrong way. Exception is gone, and code is better :)</p>\n<pre><code>@EventListener(ContextRefreshedEvent.class)\n@Transactional\npublic void methodName() {...}\n</code></pre>\n<p>@Transactional import: <code>import org.springframework.transaction.annotation.Transactional;</code></p>\n"},{"tags":[],"owner":{"account_id":15275452,"reputation":1,"user_id":11021304,"display_name":"Tung Anh Nguyen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631642794,"creation_date":1631642794,"answer_id":69182629,"question_id":25821579,"body_markdown":"Following advice from [Baeldung JPA Transaction Required Exception][1]\r\n\r\n\r\n  [1]: https://www.baeldung.com/jpa-transaction-required-exception\r\n\r\n\r\nBasically wrap your commit code in \r\n\r\n    Transaction transaction = session.beginTransaction();\r\n    ....update or save or delete here\r\n    transaction.commit();\r\n\r\n","title":"TransactionRequiredException Executing an update/delete query","body":"<p>Following advice from <a href=\"https://www.baeldung.com/jpa-transaction-required-exception\" rel=\"nofollow noreferrer\">Baeldung JPA Transaction Required Exception</a></p>\n<p>Basically wrap your commit code in</p>\n<pre><code>Transaction transaction = session.beginTransaction();\n....update or save or delete here\ntransaction.commit();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1453044,"reputation":1,"user_id":1369393,"display_name":"jack"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642750066,"creation_date":1642485115,"answer_id":70750874,"question_id":25821579,"body_markdown":"I faced the same exception and Loop through save entity like\r\n\r\n \r\n\r\n    relationships.stream().parallel().forEach\r\n\r\nmodify as:\r\n\r\n      relationships.forEach\r\n\r\nnow it was working","title":"TransactionRequiredException Executing an update/delete query","body":"<p>I faced the same exception and Loop through save entity like</p>\n<pre><code>relationships.stream().parallel().forEach\n</code></pre>\n<p>modify as:</p>\n<pre><code>  relationships.forEach\n</code></pre>\n<p>now it was working</p>\n"},{"tags":[],"owner":{"account_id":1763443,"reputation":41,"user_id":1609897,"display_name":"user1609897"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1653495443,"creation_date":1653495443,"answer_id":72381149,"question_id":25821579,"body_markdown":"incase if you have more than one datasource and more than transaction manager, or you have customized your PlatformTransactionManager like I did in this example , then:\r\nyou have to put your transaction manager name in the \r\n\r\n   `  @Transactional(&quot;wptransactionManager&quot;)`\r\n\r\nhere was my DB1 Datasource1 class ( have 2 transaction managers and 2 datasources etc .. \r\n\r\n```Java\r\n\r\n@Configuration\r\n@EnableTransactionManagement\r\n@EnableJpaRepositories(entityManagerFactoryRef = &quot;wpentityManagerFactory&quot;, basePackages = {\r\n\t\t&quot;xxx.xxx.xxx.wp.repository&quot; })\r\npublic class WpDBConfigAhmedYousri {\r\n\r\n\t@Bean(name = &quot;wpdataSource&quot;)\r\n\t@ConfigurationProperties(prefix = &quot;spring.user.datasource&quot;)\r\n\tpublic DataSource dataSource() {\r\n\t\treturn DataSourceBuilder.create().build();\r\n\t}\r\n\r\n\r\n\t@Bean(name = &quot;wpentityManagerFactory&quot;)\r\n\tpublic LocalContainerEntityManagerFactoryBean wpentityManagerFactory(EntityManagerFactoryBuilder builder,\r\n\t\t\t@Qualifier(&quot;wpdataSource&quot;) DataSource dataSource) {\r\n\t\tHashMap&lt;String, Object&gt; properties = new HashMap&lt;&gt;();\r\n\t\tproperties.put(&quot;hibernate.hbm2ddl.auto&quot;, &quot;none&quot;);\r\n\t\tproperties.put(&quot;hibernate.dialect&quot;, &quot;org.hibernate.dialect.MySQL5InnoDBDialect&quot;);\r\n\t\treturn builder.dataSource(dataSource).properties(properties)\r\n\t\t\t\t.packages(&quot;xxx.xxx.xxx.wp.models&quot;).persistenceUnit(&quot;User&quot;).build();\r\n\t}\r\n\r\n -----&gt;\t@Bean(name = &quot;wptransactionManager&quot;)\r\n\tpublic PlatformTransactionManager transactionManager(\r\n\t\t\t@Qualifier(&quot;wpentityManagerFactory&quot;) EntityManagerFactory wpentityManagerFactory) {\r\n\t\treturn new JpaTransactionManager(wpentityManagerFactory);\r\n\t}\r\n}\r\n```\r\nMy Repository: \r\n\r\n```Java\r\n\r\n@Repository\r\npublic interface WpCommenntsRepository extends JpaRepository&lt;WpComments, Long&gt; {\r\n\r\n\r\n\r\n    @Modifying\r\n    @Query(value = &quot;insert into WpComments (comment_author) VALUES (:comment_author)&quot;, nativeQuery = true)\r\n -----&gt;   @Transactional(&quot;wptransactionManager&quot;)\r\n    public int insertNewComment(@Param(&quot;comment_author&quot;)String comment_author);\r\n\r\n}\r\n\r\n```","title":"TransactionRequiredException Executing an update/delete query","body":"<p>incase if you have more than one datasource and more than transaction manager, or you have customized your PlatformTransactionManager like I did in this example , then:\nyou have to put your transaction manager name in the</p>\n<p><code>  @Transactional(&quot;wptransactionManager&quot;)</code></p>\n<p>here was my DB1 Datasource1 class ( have 2 transaction managers and 2 datasources etc ..</p>\n<pre><code>\n@Configuration\n@EnableTransactionManagement\n@EnableJpaRepositories(entityManagerFactoryRef = &quot;wpentityManagerFactory&quot;, basePackages = {\n        &quot;xxx.xxx.xxx.wp.repository&quot; })\npublic class WpDBConfigAhmedYousri {\n\n    @Bean(name = &quot;wpdataSource&quot;)\n    @ConfigurationProperties(prefix = &quot;spring.user.datasource&quot;)\n    public DataSource dataSource() {\n        return DataSourceBuilder.create().build();\n    }\n\n\n    @Bean(name = &quot;wpentityManagerFactory&quot;)\n    public LocalContainerEntityManagerFactoryBean wpentityManagerFactory(EntityManagerFactoryBuilder builder,\n            @Qualifier(&quot;wpdataSource&quot;) DataSource dataSource) {\n        HashMap&lt;String, Object&gt; properties = new HashMap&lt;&gt;();\n        properties.put(&quot;hibernate.hbm2ddl.auto&quot;, &quot;none&quot;);\n        properties.put(&quot;hibernate.dialect&quot;, &quot;org.hibernate.dialect.MySQL5InnoDBDialect&quot;);\n        return builder.dataSource(dataSource).properties(properties)\n                .packages(&quot;xxx.xxx.xxx.wp.models&quot;).persistenceUnit(&quot;User&quot;).build();\n    }\n\n -----&gt; @Bean(name = &quot;wptransactionManager&quot;)\n    public PlatformTransactionManager transactionManager(\n            @Qualifier(&quot;wpentityManagerFactory&quot;) EntityManagerFactory wpentityManagerFactory) {\n        return new JpaTransactionManager(wpentityManagerFactory);\n    }\n}\n</code></pre>\n<p>My Repository:</p>\n<pre><code>\n@Repository\npublic interface WpCommenntsRepository extends JpaRepository&lt;WpComments, Long&gt; {\n\n\n\n    @Modifying\n    @Query(value = &quot;insert into WpComments (comment_author) VALUES (:comment_author)&quot;, nativeQuery = true)\n -----&gt;   @Transactional(&quot;wptransactionManager&quot;)\n    public int insertNewComment(@Param(&quot;comment_author&quot;)String comment_author);\n\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19551190,"reputation":29,"user_id":14306749,"display_name":"Almaz Salyakhov"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1661320304,"creation_date":1660900226,"answer_id":73414426,"question_id":25821579,"body_markdown":"my example of update query thas working after adding @Transactional\r\n\r\n        @Modifying\r\n        @Query(&quot;UPDATE UserInfo AS u SET u.failedAttempt = :failedAttempt WHERE u.email =:email&quot;)\r\n        @Transactional\r\n        @Modifying\r\n        public void updateFailedAttempts(@Param(&quot;failedAttempt&quot;) int failedAttempts, @Param(&quot;email&quot;) String email);","title":"TransactionRequiredException Executing an update/delete query","body":"<p>my example of update query thas working after adding @Transactional</p>\n<pre><code>    @Modifying\n    @Query(&quot;UPDATE UserInfo AS u SET u.failedAttempt = :failedAttempt WHERE u.email =:email&quot;)\n    @Transactional\n    @Modifying\n    public void updateFailedAttempts(@Param(&quot;failedAttempt&quot;) int failedAttempts, @Param(&quot;email&quot;) String email);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22831965,"reputation":46,"user_id":16980272,"display_name":"juan pablo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664080697,"creation_date":1664080697,"answer_id":73842087,"question_id":25821579,"body_markdown":"I had the same error, just annotated with @Transactional and it worked ","title":"TransactionRequiredException Executing an update/delete query","body":"<p>I had the same error, just annotated with @Transactional and it worked</p>\n"},{"tags":[],"owner":{"account_id":26434968,"reputation":45,"user_id":20080481,"display_name":"User01"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674047689,"creation_date":1674047689,"answer_id":75159795,"question_id":25821579,"body_markdown":"I had same issue this is the solution that worked for me:\r\n1) add `@Transactional` at the class level (`org.springframework.transaction.annotation.Transactional`)\r\n2) Autowire the entity manager.\r\n\r\n  then:\r\n\r\n    \r\n    Session session = (Session) entityManager.getDelegate();\r\n    session=session.getSessionFactory().openSession();\r\n    session.getTransaction().begin();\r\n    Query q=session.createNativeQuery(&quot;update/delete here&quot;);\r\n    q.executeUpdate();\r\n    session.getTransaction().commit();\r\n    \r\n\r\n\r\n\r\n\r\n","title":"TransactionRequiredException Executing an update/delete query","body":"<p>I had same issue this is the solution that worked for me:</p>\n<ol>\n<li>add <code>@Transactional</code> at the class level (<code>org.springframework.transaction.annotation.Transactional</code>)</li>\n<li>Autowire the entity manager.</li>\n</ol>\n<p>then:</p>\n<pre><code>Session session = (Session) entityManager.getDelegate();\nsession=session.getSessionFactory().openSession();\nsession.getTransaction().begin();\nQuery q=session.createNativeQuery(&quot;update/delete here&quot;);\nq.executeUpdate();\nsession.getTransaction().commit();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14415224,"reputation":121,"user_id":10412853,"display_name":"Muzammal Hussain"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674062365,"creation_date":1674062365,"answer_id":75162954,"question_id":25821579,"body_markdown":"In my case:\r\nI was using **@Trasectional** on function from package **javax.transaction.Transactional**.\r\n\r\nBut I was calling function from another function of the **same repository** and was not using **@Trasectional** with caller function which was causing this error. \r\n\r\nWhen I used Trasectional with both the **caller** and **callee** function, **The error was fixed**. \r\n","title":"TransactionRequiredException Executing an update/delete query","body":"<p>In my case:\nI was using <strong>@Trasectional</strong> on function from package <strong>javax.transaction.Transactional</strong>.</p>\n<p>But I was calling function from another function of the <strong>same repository</strong> and was not using <strong>@Trasectional</strong> with caller function which was causing this error.</p>\n<p>When I used Trasectional with both the <strong>caller</strong> and <strong>callee</strong> function, <strong>The error was fixed</strong>.</p>\n"},{"tags":[],"owner":{"account_id":27960328,"reputation":1,"user_id":21352266,"display_name":"user21352266"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678225008,"creation_date":1678224973,"answer_id":75667390,"question_id":25821579,"body_markdown":"The culprit in my configuration was a **DataSourceTransactionManager**, when I replaced it with a **JpaTransactionManager** everything started to work as expected. \r\n\r\nchanged \r\n\r\n\r\n    @Bean(name = &quot;db1-tm&quot;)\r\n    JpaTransactionManager db1TransactionManager(\r\n            @Qualifier(&quot;db1EM&quot;) EntityManagerFactory datasource) {\r\n        return new JpaTransactionManager(datasource);\r\n    }\r\n\r\ninstead of\r\n\r\n        @Bean(name = &quot;db1-tm&quot;)\r\n        @Primary\r\n        DataSourceTransactionManager db1TransactionManager(\r\n                @Qualifier(&quot;db1&quot;) DataSource datasource) {\r\n            DataSourceTransactionManager txm =\r\n                    new DataSourceTransactionManager(datasource);\r\n            return txm;\r\n        }\r\n\r\n","title":"TransactionRequiredException Executing an update/delete query","body":"<p>The culprit in my configuration was a <strong>DataSourceTransactionManager</strong>, when I replaced it with a <strong>JpaTransactionManager</strong> everything started to work as expected.</p>\n<p>changed</p>\n<pre><code>@Bean(name = &quot;db1-tm&quot;)\nJpaTransactionManager db1TransactionManager(\n        @Qualifier(&quot;db1EM&quot;) EntityManagerFactory datasource) {\n    return new JpaTransactionManager(datasource);\n}\n</code></pre>\n<p>instead of</p>\n<pre><code>    @Bean(name = &quot;db1-tm&quot;)\n    @Primary\n    DataSourceTransactionManager db1TransactionManager(\n            @Qualifier(&quot;db1&quot;) DataSource datasource) {\n        DataSourceTransactionManager txm =\n                new DataSourceTransactionManager(datasource);\n        return txm;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7718945,"reputation":709,"user_id":5845739,"display_name":"Pratik Gaurav"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691486175,"creation_date":1691486175,"answer_id":76858125,"question_id":25821579,"body_markdown":"I see it&#39;s too late, however I only see generic answers. &lt;br&gt;\r\nUse\r\n~~~ \r\n@Transactional\r\n~~~\r\n\r\nand which one to use it depends to your usage or Framework.\r\nif using JPA\r\n~~~\r\njakarta.transaction.Transactional\r\n~~~\r\n\r\nor\r\n~~~\r\njavax.transaction.Transactional\r\n~~~\r\n\r\n\r\n\r\nWe have updated the package structure, so please take care of it.\r\n\r\nAlso, if using spring then use.\r\n~~~\r\norg.springframework.transaction.annotation.Transactional\r\n~~~","title":"TransactionRequiredException Executing an update/delete query","body":"<p>I see it's too late, however I only see generic answers. <br>\nUse</p>\n<pre><code>@Transactional\n</code></pre>\n<p>and which one to use it depends to your usage or Framework.\nif using JPA</p>\n<pre><code>jakarta.transaction.Transactional\n</code></pre>\n<p>or</p>\n<pre><code>javax.transaction.Transactional\n</code></pre>\n<p>We have updated the package structure, so please take care of it.</p>\n<p>Also, if using spring then use.</p>\n<pre><code>org.springframework.transaction.annotation.Transactional\n</code></pre>\n"}],"owner":{"account_id":4650342,"reputation":1441,"user_id":3963598,"accept_rate":0,"display_name":"user41498"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":362531,"favorite_count":0,"down_vote_count":0,"up_vote_count":130,"answer_count":30,"score":130,"last_activity_date":1691486175,"creation_date":1410598989,"question_id":25821579,"body_markdown":"I am using hibernate JPA with spring and mongodb and I am running my application on Glassfish-4.0.\r\n\r\nMy service class is:\r\n\r\n    @Component\r\n    public class Test {\r\n        @PersistenceContext\r\n        EntityManager em;\r\n        EntityManagerFactory emf;\r\n        \t \r\n        @Transactional\r\n        public String persist(Details details) {\r\n            details.getUsername();\r\n            details.getPassword();\r\n\r\n            Query query = em.createNativeQuery(&quot;db.details.find(username=&quot;+details.getUsername()+&quot;&amp;password=&quot;+details.getPassword());\r\n\r\n            em.getTransaction().begin();\r\n            em.persist(details);\r\n            em.getTransaction().commit();\r\n            em.flush();\r\n            em.clear();\r\n            em.close();\r\n            query.executeUpdate();\r\n            System.out.println(&quot;Sucessful!&quot;);\r\n            return &quot;persist&quot;;\t\t \r\n        }\r\n    }\r\n\r\n\r\nAnd my spring-context.xml is :\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n        xmlns:p=&quot;http://www.springframework.org/schema/p&quot;\r\n        xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;\r\n        xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;\r\n        xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n        xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\r\n        http://www.springframework.org/schema/beans/spring-beans-3.0.xsd\r\n        http://www.springframework.org/schema/tx\r\n        http://www.springframework.org/schema/tx/spring-tx-3.0.xsd\r\n        http://www.springframework.org/schema/context\r\n        http://www.springframework.org/schema/context/spring-context-3.0.xsd\r\n        http://www.springframework.org/schema/mvc\r\n        http://www.springframework.org/schema/mvc/spring-mvc-3.0.xsd&quot;&gt;\r\n    \r\n        &lt;context:component-scan base-package=&quot;com.javapapers.spring.mvc&quot; /&gt;\r\n        &lt;context:annotation-config /&gt;\r\n        &lt;mvc:annotation-driven /&gt;\r\n        &lt;tx:annotation-driven transaction-manager=&quot;txManager&quot; /&gt;\r\n        &lt;bean class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;\r\n            &lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/view/&quot; /&gt;\r\n            &lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot; /&gt;\r\n    \t&lt;/bean&gt;\r\n        &lt;bean id=&quot;entityManagerFactory&quot; class=&quot;org.springframework.orm.jpa.LocalEntityManagerFactoryBean&quot;&gt;\r\n            &lt;property name=&quot;persistenceUnitName&quot; value=&quot;ogmTest&quot;/&gt;\r\n        &lt;/bean&gt;\r\n        &lt;bean id=&quot;txManager&quot; class=&quot;org.springframework.transaction.jta.JtaTransactionManager&quot;&gt;\r\n        &lt;/bean&gt;\r\n    &lt;/beans&gt;\r\n\r\nI am getting &quot;TransactionRequiredException Executing an update/delete query&quot;\r\n\r\nHow can this error be resolved?","title":"TransactionRequiredException Executing an update/delete query","body":"<p>I am using hibernate JPA with spring and mongodb and I am running my application on Glassfish-4.0.</p>\n<p>My service class is:</p>\n<pre><code>@Component\npublic class Test {\n    @PersistenceContext\n    EntityManager em;\n    EntityManagerFactory emf;\n         \n    @Transactional\n    public String persist(Details details) {\n        details.getUsername();\n        details.getPassword();\n\n        Query query = em.createNativeQuery(&quot;db.details.find(username=&quot;+details.getUsername()+&quot;&amp;password=&quot;+details.getPassword());\n\n        em.getTransaction().begin();\n        em.persist(details);\n        em.getTransaction().commit();\n        em.flush();\n        em.clear();\n        em.close();\n        query.executeUpdate();\n        System.out.println(&quot;Sucessful!&quot;);\n        return &quot;persist&quot;;        \n    }\n}\n</code></pre>\n<p>And my spring-context.xml is :</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xmlns:p=&quot;http://www.springframework.org/schema/p&quot;\n    xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;\n    xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;\n    xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\n    xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\n    http://www.springframework.org/schema/beans/spring-beans-3.0.xsd\n    http://www.springframework.org/schema/tx\n    http://www.springframework.org/schema/tx/spring-tx-3.0.xsd\n    http://www.springframework.org/schema/context\n    http://www.springframework.org/schema/context/spring-context-3.0.xsd\n    http://www.springframework.org/schema/mvc\n    http://www.springframework.org/schema/mvc/spring-mvc-3.0.xsd&quot;&gt;\n\n    &lt;context:component-scan base-package=&quot;com.javapapers.spring.mvc&quot; /&gt;\n    &lt;context:annotation-config /&gt;\n    &lt;mvc:annotation-driven /&gt;\n    &lt;tx:annotation-driven transaction-manager=&quot;txManager&quot; /&gt;\n    &lt;bean class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;\n        &lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/view/&quot; /&gt;\n        &lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot; /&gt;\n    &lt;/bean&gt;\n    &lt;bean id=&quot;entityManagerFactory&quot; class=&quot;org.springframework.orm.jpa.LocalEntityManagerFactoryBean&quot;&gt;\n        &lt;property name=&quot;persistenceUnitName&quot; value=&quot;ogmTest&quot;/&gt;\n    &lt;/bean&gt;\n    &lt;bean id=&quot;txManager&quot; class=&quot;org.springframework.transaction.jta.JtaTransactionManager&quot;&gt;\n    &lt;/bean&gt;\n&lt;/beans&gt;\n</code></pre>\n<p>I am getting &quot;TransactionRequiredException Executing an update/delete query&quot;</p>\n<p>How can this error be resolved?</p>\n"},{"tags":["java","intellij-idea","tags","ide","show"],"answers":[{"tags":[],"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691485777,"creation_date":1691485777,"answer_id":76858062,"question_id":76858009,"body_markdown":"Those are called Hints. You can access settings under Editor &gt; Inlay hints.\r\n\r\nThe specific one you are looking for is Parameter names &gt; Java &gt; &#39;New&#39; expressions","title":"How to show this tags on intellij idea community","body":"<p>Those are called Hints. You can access settings under Editor &gt; Inlay hints.</p>\n<p>The specific one you are looking for is Parameter names &gt; Java &gt; 'New' expressions</p>\n"},{"tags":[],"owner":{"account_id":16702808,"reputation":2131,"user_id":12072010,"display_name":"Aengus"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1691485945,"creation_date":1691485945,"answer_id":76858087,"question_id":76858009,"body_markdown":"You can enable/disable hint under the &#39;Editor - Inlay Hints&#39;.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZEkFh.png","title":"How to show this tags on intellij idea community","body":"<p>You can enable/disable hint under the 'Editor - Inlay Hints'.</p>\n<p><a href=\"https://i.stack.imgur.com/ZEkFh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZEkFh.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":22355651,"reputation":13,"user_id":16572996,"display_name":"nghiax32"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76858087,"answer_count":2,"score":1,"last_activity_date":1691485945,"creation_date":1691485374,"question_id":76858009,"body_markdown":"Could someone tell me how to show this tags on intellij idea community (in this picture: name, email, dob,...). Thank you so much!\r\n[enter image description here](https://i.stack.imgur.com/DpCKe.png)\r\n\r\n(Ignored this sentence)\r\nMaybe this feature have settings, but i dont know it name, or where it place... so confused.","title":"How to show this tags on intellij idea community","body":"<p>Could someone tell me how to show this tags on intellij idea community (in this picture: name, email, dob,...). Thank you so much!\n<a href=\"https://i.stack.imgur.com/DpCKe.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>(Ignored this sentence)\nMaybe this feature have settings, but i dont know it name, or where it place... so confused.</p>\n"},{"tags":["java","collections"],"comments":[{"owner":{"account_id":152622,"reputation":490044,"user_id":367273,"accept_rate":96,"display_name":"NPE"},"score":2,"creation_date":1315995911,"post_id":7414667,"comment_id":8960570,"body_markdown":"Is the input list guaranteed to be sorted (as in your example)?","body":"Is the input list guaranteed to be sorted (as in your example)?"},{"owner":{"account_id":892161,"reputation":11512,"user_id":930207,"display_name":"mcfinnigan"},"score":8,"creation_date":1315995970,"post_id":7414667,"comment_id":8960593,"body_markdown":"sort the list, then walk it, keeping the current and prior values.  if current == prior you have a duplicate.","body":"sort the list, then walk it, keeping the current and prior values.  if current == prior you have a duplicate."},{"owner":{"account_id":227971,"reputation":6221,"user_id":489978,"accept_rate":82,"display_name":"freshest"},"score":0,"creation_date":1316028150,"post_id":7414667,"comment_id":8970591,"body_markdown":"No, the list is not necessarily sorted.","body":"No, the list is not necessarily sorted."}],"answers":[{"tags":[],"owner":{"account_id":537921,"reputation":3524,"user_id":906184,"accept_rate":100,"display_name":"Ashkan Aryan"},"comment_count":0,"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1316775752,"creation_date":1315995713,"answer_id":7414699,"question_id":7414667,"body_markdown":"    int[] nums =  new int[] {1, 1, 2, 3, 3, 3};\r\n    Arrays.sort(nums);\r\n    for (int i = 0; i &lt; nums.length-1; i++) {\r\n    \r\n        if (nums[i] == nums[i+1]) {\r\n            System.out.println(&quot;duplicate item &quot;+nums[i+1]+&quot; at Location&quot;+(i+1) );\r\n        }\r\n    \r\n    }\r\n\r\nObviously you can do whatever you want with them (i.e. put in a Set to get a unique list of duplicate values) instead of printing... This also has the benefit of recording the location of duplicate items too.\r\n\r\n","title":"Identify duplicates in a List","body":"<pre><code>int[] nums =  new int[] {1, 1, 2, 3, 3, 3};\nArrays.sort(nums);\nfor (int i = 0; i &lt; nums.length-1; i++) {\n\n    if (nums[i] == nums[i+1]) {\n        System.out.println(\"duplicate item \"+nums[i+1]+\" at Location\"+(i+1) );\n    }\n\n}\n</code></pre>\n\n<p>Obviously you can do whatever you want with them (i.e. put in a Set to get a unique list of duplicate values) instead of printing... This also has the benefit of recording the location of duplicate items too.</p>\n"},{"tags":[],"owner":{"account_id":537054,"reputation":32561,"user_id":905762,"accept_rate":77,"display_name":"John B"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1315995825,"creation_date":1315995825,"answer_id":7414727,"question_id":7414667,"body_markdown":"Use a MultiMap to store each value as a key / value set. Then iterate through the keys and find the ones with multiple values.","title":"Identify duplicates in a List","body":"<p>Use a MultiMap to store each value as a key / value set. Then iterate through the keys and find the ones with multiple values.</p>\n"},{"comments":[{"owner":{"account_id":33409,"reputation":335,"user_id":93518,"display_name":"johnstosh"},"score":0,"creation_date":1502910727,"post_id":7414729,"comment_id":78400745,"body_markdown":"Yes, this finds the set, but it doesn&#39;t find the list or set of those items which are duplicates.","body":"Yes, this finds the set, but it doesn&#39;t find the list or set of those items which are duplicates."}],"tags":[],"owner":{"account_id":67082,"reputation":12759,"user_id":196480,"accept_rate":81,"display_name":"Tushar Ahirrao"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1315995844,"creation_date":1315995844,"answer_id":7414729,"question_id":7414667,"body_markdown":"Try this to find duplicates items in list :\r\n\r\n    ArrayList&lt;String&gt; arrayList1 = new ArrayList&lt;String&gt;(); \r\n    \r\n    arrayList1.add(&quot;A&quot;); \r\n    arrayList1.add(&quot;A&quot;); \r\n    arrayList1.add(&quot;B&quot;); \r\n    arrayList1.add(&quot;B&quot;); \r\n    arrayList1.add(&quot;B&quot;); \r\n    arrayList1.add(&quot;C&quot;); \r\n    \r\n    for (int x=0; x&lt; arrayList1.size(); x++) \r\n    { \r\n    System.out.println(&quot;arrayList1 :&quot;+arrayList1.get(x)); \r\n    } \r\n    Set s=new TreeSet(); \r\n    s.addAll(arrayList1); \r\n    Iterator it=s.iterator(); \r\n    while (it.hasNext()) \r\n    { \r\n    System.out.println(&quot;Set :&quot;+(String)it.next()); \r\n    } ","title":"Identify duplicates in a List","body":"<p>Try this to find duplicates items in list :</p>\n\n<pre><code>ArrayList&lt;String&gt; arrayList1 = new ArrayList&lt;String&gt;(); \n\narrayList1.add(\"A\"); \narrayList1.add(\"A\"); \narrayList1.add(\"B\"); \narrayList1.add(\"B\"); \narrayList1.add(\"B\"); \narrayList1.add(\"C\"); \n\nfor (int x=0; x&lt; arrayList1.size(); x++) \n{ \nSystem.out.println(\"arrayList1 :\"+arrayList1.get(x)); \n} \nSet s=new TreeSet(); \ns.addAll(arrayList1); \nIterator it=s.iterator(); \nwhile (it.hasNext()) \n{ \nSystem.out.println(\"Set :\"+(String)it.next()); \n} \n</code></pre>\n"},{"comments":[{"owner":{"account_id":33409,"reputation":335,"user_id":93518,"display_name":"johnstosh"},"score":0,"creation_date":1502910522,"post_id":7414731,"comment_id":78400627,"body_markdown":"This is pretty good. It is the best solution if you need to know how many duplicates there were. Some notes: (1) you don&#39;t need to call remove() before doing put().  (2) You can set up the LinkedList from an array rather than using repeated add() calls. (3) When val != null, you could immediately add x to result. The result could be a set or a list depending upon whether you wanted to keep count of the number of duplicates.","body":"This is pretty good. It is the best solution if you need to know how many duplicates there were. Some notes: (1) you don&#39;t need to call remove() before doing put().  (2) You can set up the LinkedList from an array rather than using repeated add() calls. (3) When val != null, you could immediately add x to result. The result could be a set or a list depending upon whether you wanted to keep count of the number of duplicates."}],"tags":[],"owner":{"account_id":278210,"reputation":176444,"user_id":572670,"accept_rate":92,"display_name":"amit"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1315996351,"creation_date":1315995846,"answer_id":7414731,"question_id":7414667,"body_markdown":"create a `Map&lt;Integer,Integer&gt;`, iterate the list, if an element is in the map, increase it&#39;s value, otherwise add it to the map with key=1\r\n&lt;br&gt;iterate the map, and add to the lists all elements with key&gt;=2\r\n\r\n    public static void main(String[] args) {\r\n    \t\tList&lt;Integer&gt; list = new LinkedList&lt;Integer&gt;();\r\n    \t\tlist.add(1);\r\n    \t\tlist.add(1);\r\n    \t\tlist.add(1);\r\n    \t\tlist.add(2);\r\n    \t\tlist.add(3);\r\n    \t\tlist.add(3);\r\n    \t\tMap&lt;Integer,Integer&gt; map = new HashMap&lt;Integer, Integer&gt;();\r\n    \t\tfor (Integer x : list) { \r\n    \t\t\tInteger val = map.get(x);\r\n    \t\t\tif (val == null) { \r\n    \t\t\t\tmap.put(x,1);\r\n    \t\t\t} else {\r\n    \t\t\t\tmap.remove(x);\r\n    \t\t\t\tmap.put(x,val+1);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tList&lt;Integer&gt; result = new LinkedList&lt;Integer&gt;();\r\n    \t\tfor (Entry&lt;Integer, Integer&gt; entry : map.entrySet()) {\r\n    \t\t\tif (entry.getValue() &gt; 1) {\r\n    \t\t\t\tresult.add(entry.getKey());\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tfor (Integer x : result) { \r\n    \t\t\tSystem.out.println(x);\r\n    \t\t}\r\n    \t\t\r\n    \t}","title":"Identify duplicates in a List","body":"<p>create a <code>Map&lt;Integer,Integer&gt;</code>, iterate the list, if an element is in the map, increase it's value, otherwise add it to the map with key=1\n<br>iterate the map, and add to the lists all elements with key>=2</p>\n\n<pre><code>public static void main(String[] args) {\n        List&lt;Integer&gt; list = new LinkedList&lt;Integer&gt;();\n        list.add(1);\n        list.add(1);\n        list.add(1);\n        list.add(2);\n        list.add(3);\n        list.add(3);\n        Map&lt;Integer,Integer&gt; map = new HashMap&lt;Integer, Integer&gt;();\n        for (Integer x : list) { \n            Integer val = map.get(x);\n            if (val == null) { \n                map.put(x,1);\n            } else {\n                map.remove(x);\n                map.put(x,val+1);\n            }\n        }\n        List&lt;Integer&gt; result = new LinkedList&lt;Integer&gt;();\n        for (Entry&lt;Integer, Integer&gt; entry : map.entrySet()) {\n            if (entry.getValue() &gt; 1) {\n                result.add(entry.getKey());\n            }\n        }\n        for (Integer x : result) { \n            System.out.println(x);\n        }\n\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":46897,"reputation":6561,"user_id":138757,"accept_rate":88,"display_name":"Phil"},"score":2,"creation_date":1316008744,"post_id":7414753,"comment_id":8964411,"body_markdown":"Why do you have setToReturn? Can you not just use set1.add(yourInt) and return set1?","body":"Why do you have setToReturn? Can you not just use set1.add(yourInt) and return set1?"},{"owner":{"account_id":78288,"reputation":8738,"user_id":1087469,"accept_rate":74,"display_name":"leifg"},"score":0,"creation_date":1316009056,"post_id":7414753,"comment_id":8964534,"body_markdown":"No you can&#39;t because set1 contains all values (including the ones that are not duplicates)","body":"No you can&#39;t because set1 contains all values (including the ones that are not duplicates)"},{"owner":{"account_id":46897,"reputation":6561,"user_id":138757,"accept_rate":88,"display_name":"Phil"},"score":0,"creation_date":1316009500,"post_id":7414753,"comment_id":8964715,"body_markdown":"The documentation says add() &quot;Adds the specified element to this set if it is not already present,&quot; which makes it sound like when add returns false, nothing was actually added.","body":"The documentation says add() &quot;Adds the specified element to this set if it is not already present,&quot; which makes it sound like when add returns false, nothing was actually added."},{"owner":{"account_id":78288,"reputation":8738,"user_id":1087469,"accept_rate":74,"display_name":"leifg"},"score":3,"creation_date":1316009958,"post_id":7414753,"comment_id":8964866,"body_markdown":"yes exactly. But when an elemnt is only present once in the specified list, the element is added as well.\n\nLook at the example in the question:\n\nMy solution will return [1,3] as the number 2 is inserted in set1 but not in setToReturn.\n\nYour solution would return [1,2,3] (which is not the requirement)","body":"yes exactly. But when an elemnt is only present once in the specified list, the element is added as well.  Look at the example in the question:  My solution will return [1,3] as the number 2 is inserted in set1 but not in setToReturn.  Your solution would return [1,2,3] (which is not the requirement)"},{"owner":{"account_id":18139,"reputation":41753,"user_id":41283,"accept_rate":87,"display_name":"Hosam Aly"},"score":1,"creation_date":1316592007,"post_id":7414753,"comment_id":9075780,"body_markdown":"I suggest that you use `for (Integer yourInt`, to avoid unnecessary boxing and unboxing, especially since your input already contains `Integer`s.","body":"I suggest that you use <code>for (Integer yourInt</code>, to avoid unnecessary boxing and unboxing, especially since your input already contains <code>Integer</code>s."},{"owner":{"account_id":5898517,"reputation":622,"user_id":4682621,"display_name":"dargmuesli"},"score":0,"creation_date":1465323051,"post_id":7414753,"comment_id":62849961,"body_markdown":"@leifg I think it actually returns `[1,3,3]` because there is no check like `if (!set1.add(yourInt) &amp;&amp; !setToReturn.contains(yourInt))`.","body":"@leifg I think it actually returns <code>[1,3,3]</code> because there is no check like <code>if (!set1.add(yourInt) &amp;&amp; !setToReturn.contains(yourInt))</code>."},{"owner":{"account_id":78288,"reputation":8738,"user_id":1087469,"accept_rate":74,"display_name":"leifg"},"score":1,"creation_date":1465387129,"post_id":7414753,"comment_id":62877737,"body_markdown":"@JonasThelemann the whole idea of a set is that it can NOT contain duplicates. therefore: no matter how often you will add 3 it will always end up only once.","body":"@JonasThelemann the whole idea of a set is that it can NOT contain duplicates. therefore: no matter how often you will add 3 it will always end up only once."},{"owner":{"account_id":33409,"reputation":335,"user_id":93518,"display_name":"johnstosh"},"score":0,"creation_date":1502911457,"post_id":7414753,"comment_id":78401058,"body_markdown":"If you have so much input data that you want to use this optimal solution (instead of sorting the input) then you&#39;ll also want to pre-allocate the size of the HashSet() objects. Without the preallocation, you don&#39;t get O(1) insert time when inserting into the HashSet(). This is because the internal hash array gets repeatedly resized. The inserts then average to something like O(log N) time. This means processing all N items becomes O(N log N) when it could have been O(N).","body":"If you have so much input data that you want to use this optimal solution (instead of sorting the input) then you&#39;ll also want to pre-allocate the size of the HashSet() objects. Without the preallocation, you don&#39;t get O(1) insert time when inserting into the HashSet(). This is because the internal hash array gets repeatedly resized. The inserts then average to something like O(log N) time. This means processing all N items becomes O(N log N) when it could have been O(N)."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1516878699,"post_id":7414753,"comment_id":83874033,"body_markdown":"@johnstosh resizing is not as expensive as it was in older versions. Also, this can happen at most 26 times, but isnt applied to all elements but only those that are already in the set, so after adding 2&#179; elements, only less than 0,0000015% of all elements actually witnessed 26 resize operations. Like with appending to an `ArrayList`, the amortized cost of adding N elements still is `O(N)`. Of course, specifying in initial capacity still makes the operation faster, even if its not changing the time complexity.","body":"@johnstosh resizing is not as expensive as it was in older versions. Also, this can happen at most 26 times, but isnt applied to all elements but only those that are already in the set, so after adding 2&#179; elements, only less than 0,0000015% of all elements actually witnessed 26 resize operations. Like with appending to an <code>ArrayList</code>, the amortized cost of adding N elements still is <code>O(N)</code>. Of course, specifying in initial capacity still makes the operation faster, even if its not changing the time complexity."},{"owner":{"account_id":33409,"reputation":335,"user_id":93518,"display_name":"johnstosh"},"score":0,"creation_date":1516921389,"post_id":7414753,"comment_id":83899680,"body_markdown":"@Holger You have an interesting way of doing math.  The last resizing operation will affect half the elements. So that&#39;s a bit more than what one might think. But also totally unnecessary work. So if you have 100 or 1000 elements, then probably not a big deal, but for 1M elements probably something that should be on your radar, right?","body":"@Holger You have an interesting way of doing math.  The last resizing operation will affect half the elements. So that&#39;s a bit more than what one might think. But also totally unnecessary work. So if you have 100 or 1000 elements, then probably not a big deal, but for 1M elements probably something that should be on your radar, right?"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1516951968,"post_id":7414753,"comment_id":83907129,"body_markdown":"@johnstosh its not my way of doing the math; its even within the documentation of `ArrayList`. I already agreed that this is unnecessary work and providing an initial capacity is more efficient. Still, the time complexity doesnt change, as constant factors are not considered in the Big O notation. That notation doesnt tell you whether the operation is slow or fast, only how it *scales*.","body":"@johnstosh its not my way of doing the math; its even within the documentation of <code>ArrayList</code>. I already agreed that this is unnecessary work and providing an initial capacity is more efficient. Still, the time complexity doesnt change, as constant factors are not considered in the Big O notation. That notation doesnt tell you whether the operation is slow or fast, only how it <i>scales</i>."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1516952255,"post_id":7414753,"comment_id":83907225,"body_markdown":"By the way, in case of `HashSet` you also have to consider the load factor, e.g. when you specify an initial capacity of `100`, because you want to add that number of elements, it gets rounded to the next power of 2 (`128`), which implies that with the default load factor of `0.75f`, the resize threshold will be `96`, so there will be a resize before you have added `100` elements. Thankfully, resizing is not that expensive anymore. With up to date JREs, resizing is not rehashing anymore, the elements just get distributed between their two possible result locations based on the relevant bit.","body":"By the way, in case of <code>HashSet</code> you also have to consider the load factor, e.g. when you specify an initial capacity of <code>100</code>, because you want to add that number of elements, it gets rounded to the next power of 2 (<code>128</code>), which implies that with the default load factor of <code>0.75f</code>, the resize threshold will be <code>96</code>, so there will be a resize before you have added <code>100</code> elements. Thankfully, resizing is not that expensive anymore. With up to date JREs, resizing is not rehashing anymore, the elements just get distributed between their two possible result locations based on the relevant bit."}],"tags":[],"owner":{"account_id":78288,"reputation":8738,"user_id":1087469,"accept_rate":74,"display_name":"leifg"},"comment_count":12,"down_vote_count":1,"up_vote_count":214,"is_accepted":true,"score":213,"last_activity_date":1648031349,"creation_date":1315995944,"answer_id":7414753,"question_id":7414667,"body_markdown":"The method `add` of `Set` returns a boolean whether a value already exists (true if it does not exist, false if it already exists, see [Set documentation](http://download.oracle.com/javase/6/docs/api/java/util/Set.html#add(E))).\r\n\r\nSo just iterate through all the values:\r\n\r\n    public Set&lt;Integer&gt; findDuplicates(List&lt;Integer&gt; listContainingDuplicates) { \r\n        final Set&lt;Integer&gt; setToReturn = new HashSet&lt;&gt;(); \r\n        final Set&lt;Integer&gt; set1 = new HashSet&lt;&gt;();\r\n             \r\n        for (Integer yourInt : listContainingDuplicates) {\r\n            if (!set1.add(yourInt)) {\r\n                setToReturn.add(yourInt);\r\n            }\r\n        }\r\n        return setToReturn;\r\n    }\r\n\r\n","title":"Identify duplicates in a List","body":"<p>The method <code>add</code> of <code>Set</code> returns a boolean whether a value already exists (true if it does not exist, false if it already exists, see <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/Set.html#add(E)\" rel=\"noreferrer\">Set documentation</a>).</p>\n<p>So just iterate through all the values:</p>\n<pre><code>public Set&lt;Integer&gt; findDuplicates(List&lt;Integer&gt; listContainingDuplicates) { \n    final Set&lt;Integer&gt; setToReturn = new HashSet&lt;&gt;(); \n    final Set&lt;Integer&gt; set1 = new HashSet&lt;&gt;();\n         \n    for (Integer yourInt : listContainingDuplicates) {\n        if (!set1.add(yourInt)) {\n            setToReturn.add(yourInt);\n        }\n    }\n    return setToReturn;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1315998010,"post_id":7414757,"comment_id":8961218,"body_markdown":"+1: If you use a LinkedHashSet it will retain the original order as well. i.e. `[1, 3]` instead of `[3, 1]`","body":"+1: If you use a LinkedHashSet it will retain the original order as well. i.e. <code>[1, 3]</code> instead of <code>[3, 1]</code>"},{"owner":{"account_id":60737,"reputation":15904,"user_id":181336,"display_name":"Adriaan Koster"},"score":11,"creation_date":1315999292,"post_id":7414757,"comment_id":8961547,"body_markdown":"This does not work. removeAll removes _all_ occurrences so also the duplicates.","body":"This does not work. removeAll removes <i>all</i> occurrences so also the duplicates."}],"tags":[],"owner":{"account_id":428606,"reputation":3806,"user_id":811047,"accept_rate":80,"display_name":"BegemoT"},"comment_count":2,"down_vote_count":7,"up_vote_count":4,"is_accepted":false,"score":-3,"last_activity_date":1315995949,"creation_date":1315995949,"answer_id":7414757,"question_id":7414667,"body_markdown":"Put list in set (this effectively filter only unique items), remove all set items from original list (so it will contains only items, which have more then 1 occurence), and put list in new set (this will again filter out only unique items):\r\n\r\n    List&lt;Item&gt; list = ...;\r\n    list.removeAll(new HashSet&lt;Item&gt;(list));\r\n    return new HashSet&lt;Item&gt;(list);\r\n\r\n  ","title":"Identify duplicates in a List","body":"<p>Put list in set (this effectively filter only unique items), remove all set items from original list (so it will contains only items, which have more then 1 occurence), and put list in new set (this will again filter out only unique items):</p>\n\n<pre><code>List&lt;Item&gt; list = ...;\nlist.removeAll(new HashSet&lt;Item&gt;(list));\nreturn new HashSet&lt;Item&gt;(list);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":55135,"reputation":21845,"user_id":165071,"accept_rate":96,"display_name":"Alexander Farber"},"score":2,"creation_date":1316539227,"post_id":7414786,"comment_id":9065383,"body_markdown":"Using List here is very ineffective","body":"Using List here is very ineffective"},{"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"score":2,"creation_date":1316591988,"post_id":7414786,"comment_id":9075776,"body_markdown":"And don&#39;t get me started on using `int` as variable type here. It means that for every single iteration, an Integer is unboxed once and an int is boxed four times!","body":"And don&#39;t get me started on using <code>int</code> as variable type here. It means that for every single iteration, an Integer is unboxed once and an int is boxed four times!"},{"owner":{"account_id":3617176,"reputation":1433,"user_id":3016744,"display_name":"Jad B."},"score":1,"creation_date":1418740607,"post_id":7414786,"comment_id":43444209,"body_markdown":"I think you can easily get a ConcurrentModificationException when trying to remove an element from the list while iterating over it","body":"I think you can easily get a ConcurrentModificationException when trying to remove an element from the list while iterating over it"},{"owner":{"account_id":4456888,"reputation":329,"user_id":3626846,"accept_rate":50,"display_name":"theo231022"},"score":1,"creation_date":1457682453,"post_id":7414786,"comment_id":59526300,"body_markdown":"this is 100% ConcurrentModificationException since you iterate over a list and you remove elements on the fly.","body":"this is 100% ConcurrentModificationException since you iterate over a list and you remove elements on the fly."}],"tags":[],"owner":{"account_id":294022,"reputation":115930,"user_id":597657,"accept_rate":99,"display_name":"Eng.Fouad"},"comment_count":4,"down_vote_count":2,"up_vote_count":8,"is_accepted":false,"score":6,"last_activity_date":1315996088,"creation_date":1315996088,"answer_id":7414786,"question_id":7414667,"body_markdown":"You can use something like this:\r\n\r\n\r\n    List&lt;Integer&gt; newList = new ArrayList&lt;Integer&gt;();\r\n    for(int i : yourOldList)\r\n    {\r\n        yourOldList.remove(i);\r\n        if(yourOldList.contains(i) &amp;&amp; !newList.contains(i)) newList.add(i);\r\n    }","title":"Identify duplicates in a List","body":"<p>You can use something like this:</p>\n\n<pre><code>List&lt;Integer&gt; newList = new ArrayList&lt;Integer&gt;();\nfor(int i : yourOldList)\n{\n    yourOldList.remove(i);\n    if(yourOldList.contains(i) &amp;&amp; !newList.contains(i)) newList.add(i);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":33409,"reputation":335,"user_id":93518,"display_name":"johnstosh"},"score":1,"creation_date":1502910841,"post_id":7414913,"comment_id":78400800,"body_markdown":"Calling contains() on the ArrayList&#39;s subList is expensive because it is a linear search. So this is okay for 10 items, but not for 10 million.","body":"Calling contains() on the ArrayList&#39;s subList is expensive because it is a linear search. So this is okay for 10 items, but not for 10 million."}],"tags":[],"owner":{"account_id":443865,"reputation":1815,"user_id":835348,"accept_rate":83,"display_name":"James DW"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1315996575,"creation_date":1315996575,"answer_id":7414913,"question_id":7414667,"body_markdown":"This should work for sorted and unsorted.\r\n\r\n    public void testFindDuplicates() {\r\n        \r\n        List&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;();\r\n        list.add(1);\r\n        list.add(1);\r\n        list.add(2);\r\n        list.add(3);\r\n        list.add(3);\r\n        list.add(3);\r\n        \r\n        Set&lt;Integer&gt; result = new HashSet&lt;Integer&gt;();\r\n        int currentIndex = 0;\r\n        for (Integer i : list) {\r\n            if (!result.contains(i) &amp;&amp; list.subList(currentIndex + 1, list.size()).contains(i)) {\r\n                result.add(i);\r\n            }\r\n            currentIndex++;\r\n        }\r\n        assertEquals(2, result.size());\r\n        assertTrue(result.contains(1));\r\n        assertTrue(result.contains(3));\r\n    }","title":"Identify duplicates in a List","body":"<p>This should work for sorted and unsorted.</p>\n\n<pre><code>public void testFindDuplicates() {\n\n    List&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;();\n    list.add(1);\n    list.add(1);\n    list.add(2);\n    list.add(3);\n    list.add(3);\n    list.add(3);\n\n    Set&lt;Integer&gt; result = new HashSet&lt;Integer&gt;();\n    int currentIndex = 0;\n    for (Integer i : list) {\n        if (!result.contains(i) &amp;&amp; list.subList(currentIndex + 1, list.size()).contains(i)) {\n            result.add(i);\n        }\n        currentIndex++;\n    }\n    assertEquals(2, result.size());\n    assertTrue(result.contains(1));\n    assertTrue(result.contains(3));\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":33409,"reputation":335,"user_id":93518,"display_name":"johnstosh"},"score":0,"creation_date":1502909781,"post_id":7415517,"comment_id":78400305,"body_markdown":"It works, but it is rather slow since calling remove() on an array list is a linear search.","body":"It works, but it is rather slow since calling remove() on an array list is a linear search."},{"owner":{"account_id":60737,"reputation":15904,"user_id":181336,"display_name":"Adriaan Koster"},"score":0,"creation_date":1503043949,"post_id":7415517,"comment_id":78460480,"body_markdown":"true. Note that if your input contains many duplicates the performance hit is less than if there are only a few of them.","body":"true. Note that if your input contains many duplicates the performance hit is less than if there are only a few of them."}],"tags":[],"owner":{"account_id":60737,"reputation":15904,"user_id":181336,"display_name":"Adriaan Koster"},"comment_count":2,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1468571203,"creation_date":1315999489,"answer_id":7415517,"question_id":7414667,"body_markdown":"This also works:\r\n\r\n    public static Set&lt;Integer&gt; findDuplicates(List&lt;Integer&gt; input) {\r\n        List&lt;Integer&gt; copy = new ArrayList&lt;Integer&gt;(input);\r\n        for (Integer value : new HashSet&lt;Integer&gt;(input)) {\r\n            copy.remove(value);\r\n        }\r\n        return new HashSet&lt;Integer&gt;(copy);\r\n    }","title":"Identify duplicates in a List","body":"<p>This also works:</p>\n\n<pre><code>public static Set&lt;Integer&gt; findDuplicates(List&lt;Integer&gt; input) {\n    List&lt;Integer&gt; copy = new ArrayList&lt;Integer&gt;(input);\n    for (Integer value : new HashSet&lt;Integer&gt;(input)) {\n        copy.remove(value);\n    }\n    return new HashSet&lt;Integer&gt;(copy);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":416394,"reputation":833,"user_id":791750,"accept_rate":88,"display_name":"froginvasion"},"score":0,"creation_date":1493889147,"post_id":7420942,"comment_id":74597672,"body_markdown":"And then you see how much Java actually still sucks at functional programming. Such a simple problem, so hard to express what you want in Java.","body":"And then you see how much Java actually still sucks at functional programming. Such a simple problem, so hard to express what you want in Java."}],"tags":[],"owner":{"account_id":84543,"reputation":22147,"user_id":236255,"accept_rate":74,"display_name":"Stephen Swensen"},"comment_count":1,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1316023800,"creation_date":1316023800,"answer_id":7420942,"question_id":7414667,"body_markdown":"This is a problem where functional techniques shine. For example, the following F# solution is both clearer and less bug prone than the best imperative Java solution (and I work daily with both Java and F#).\r\n\r\n    [1;1;2;3;3;3] \r\n    |&gt; Seq.countBy id \r\n    |&gt; Seq.choose (fun (key,count) -&gt; if count &gt; 1 then Some(key) else None)\r\n\r\nOf course, this question is about Java. So my suggestion is to adopt a library which brings functional features to Java. For example, it could be solved using my [own library][1] as follows (and there are several others out there worth looking at too):\r\n\r\n    Seq.of(1,1,2,3,3,3)\r\n    .groupBy(new Func1&lt;Integer,Integer&gt;() {\r\n        public Integer call(Integer key) {\r\n            return key;\r\n        }\r\n    }).filter(new Predicate&lt;Grouping&lt;Integer,Integer&gt;&gt;() {\r\n       public Boolean call(Grouping&lt;Integer, Integer&gt; grouping) {\r\n            return grouping.getGrouping().count() &gt; 1;\r\n       }\r\n    }).map(new Func1&lt;Grouping&lt;Integer,Integer&gt;,Integer&gt;() {\r\n        public Integer call(Grouping&lt;Integer, Integer&gt; grouping) {\r\n            return grouping.getKey();\r\n        }\r\n    });\r\n\r\n  [1]: http://www.codeproject.com/KB/java/FunctionalJava.aspx","title":"Identify duplicates in a List","body":"<p>This is a problem where functional techniques shine. For example, the following F# solution is both clearer and less bug prone than the best imperative Java solution (and I work daily with both Java and F#).</p>\n\n<pre><code>[1;1;2;3;3;3] \n|&gt; Seq.countBy id \n|&gt; Seq.choose (fun (key,count) -&gt; if count &gt; 1 then Some(key) else None)\n</code></pre>\n\n<p>Of course, this question is about Java. So my suggestion is to adopt a library which brings functional features to Java. For example, it could be solved using my <a href=\"http://www.codeproject.com/KB/java/FunctionalJava.aspx\" rel=\"nofollow\">own library</a> as follows (and there are several others out there worth looking at too):</p>\n\n<pre><code>Seq.of(1,1,2,3,3,3)\n.groupBy(new Func1&lt;Integer,Integer&gt;() {\n    public Integer call(Integer key) {\n        return key;\n    }\n}).filter(new Predicate&lt;Grouping&lt;Integer,Integer&gt;&gt;() {\n   public Boolean call(Grouping&lt;Integer, Integer&gt; grouping) {\n        return grouping.getGrouping().count() &gt; 1;\n   }\n}).map(new Func1&lt;Grouping&lt;Integer,Integer&gt;,Integer&gt;() {\n    public Integer call(Grouping&lt;Integer, Integer&gt; grouping) {\n        return grouping.getKey();\n    }\n});\n</code></pre>\n"},{"comments":[{"owner":{"account_id":33409,"reputation":335,"user_id":93518,"display_name":"johnstosh"},"score":0,"creation_date":1502910942,"post_id":7490207,"comment_id":78400850,"body_markdown":"I think you want &quot;boolean&quot; instead of &quot;bit&quot;?  Did you execute your code before posting it?  This is a good start.  If you take a look at HashSet() then you&#39;ll see that it is the &#39;buckets&#39; implementation that you desire.","body":"I think you want &quot;boolean&quot; instead of &quot;bit&quot;?  Did you execute your code before posting it?  This is a good start.  If you take a look at HashSet() then you&#39;ll see that it is the &#39;buckets&#39; implementation that you desire."}],"tags":[],"owner":{"account_id":63685,"reputation":768,"user_id":188396,"accept_rate":100,"display_name":"Alex"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1316544642,"creation_date":1316544642,"answer_id":7490207,"question_id":7414667,"body_markdown":"If you know the maximum value (for example &lt; 10000) you could sacrifice space for speed .\r\nI Cant remember exact name of this technique.\r\n\r\n\r\npseudo code:\r\n\r\n    \r\n\r\n    //does not handle case when mem allocation fails \r\n    //probably can be extended to unknown values /larger values .\r\n    maybe by sorting first\r\n    public List&lt;int&gt; GetDuplicates(int max)\r\n    {\t\r\n    \t//allocate and clear memory to 0/false\r\n    \tbit[] buckets=new bit[max]\r\n    \tmemcpy(buckets,0,max);\r\n    \t//find duplicates\r\n    \tList&lt;int&gt; result=new List&lt;int&gt;();\r\n    \tforeach(int val in List)\r\n    \t{\r\n    \t\tif (buckets[val])\r\n    \t\t{\r\n    \t\t\tresult.add(value);\r\n    \t\t}\r\n    \t\telse\r\n    \t\t{\r\n    \t\t\tbuckets[val]=1;\r\n    \t\t}\r\n    \t}\r\n    \treturn  result\r\n    }\r\n\r\n","title":"Identify duplicates in a List","body":"<p>If you know the maximum value (for example &lt; 10000) you could sacrifice space for speed .\nI Cant remember exact name of this technique.</p>\n\n<p>pseudo code:</p>\n\n<pre><code>//does not handle case when mem allocation fails \n//probably can be extended to unknown values /larger values .\nmaybe by sorting first\npublic List&lt;int&gt; GetDuplicates(int max)\n{   \n    //allocate and clear memory to 0/false\n    bit[] buckets=new bit[max]\n    memcpy(buckets,0,max);\n    //find duplicates\n    List&lt;int&gt; result=new List&lt;int&gt;();\n    foreach(int val in List)\n    {\n        if (buckets[val])\n        {\n            result.add(value);\n        }\n        else\n        {\n            buckets[val]=1;\n        }\n    }\n    return  result\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1625948,"reputation":1087,"user_id":2252377,"accept_rate":89,"display_name":"Ahmad Ragab"},"score":2,"creation_date":1455835150,"post_id":16467773,"comment_id":58680355,"body_markdown":"I know this is 3 years later, but why a LinkedHashedSet, i.e. why do you care about the order?","body":"I know this is 3 years later, but why a LinkedHashedSet, i.e. why do you care about the order?"},{"owner":{"account_id":110605,"reputation":25191,"user_id":292614,"accept_rate":91,"display_name":"John Strickler"},"score":4,"creation_date":1455891131,"post_id":16467773,"comment_id":58705443,"body_markdown":"@AhmadRagab you&#39;re right, LinkedHashSet isn&#39;t required unless you care about the order the duplicates were found (which I think I did at the time)","body":"@AhmadRagab you&#39;re right, LinkedHashSet isn&#39;t required unless you care about the order the duplicates were found (which I think I did at the time)"},{"owner":{"account_id":10085235,"reputation":441,"user_id":7454104,"display_name":"Flavio Oliva"},"score":0,"creation_date":1644944170,"post_id":16467773,"comment_id":125737188,"body_markdown":"It is worth mentioning that because this is a generic solution it relies on the `equals` and `hashcode` implementation from the `T` class in order to decide whether this is a duplicate item or not.","body":"It is worth mentioning that because this is a generic solution it relies on the <code>equals</code> and <code>hashcode</code> implementation from the <code>T</code> class in order to decide whether this is a duplicate item or not."}],"tags":[],"owner":{"account_id":110605,"reputation":25191,"user_id":292614,"accept_rate":91,"display_name":"John Strickler"},"comment_count":3,"down_vote_count":0,"up_vote_count":63,"is_accepted":false,"score":63,"last_activity_date":1544273010,"creation_date":1368121166,"answer_id":16467773,"question_id":7414667,"body_markdown":"I needed a solution to this as well.  I used leifg&#39;s solution and made it generic.\r\n\r\n\tprivate &lt;T&gt; Set&lt;T&gt; findDuplicates(Collection&lt;T&gt; collection) {\r\n\t\t\r\n\t\tSet&lt;T&gt; duplicates = new LinkedHashSet&lt;&gt;();\r\n\t\tSet&lt;T&gt; uniques = new HashSet&lt;&gt;();\r\n\t\t\r\n\t\tfor(T t : collection) {\r\n\t\t\tif(!uniques.add(t)) {\r\n\t\t\t\tduplicates.add(t);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn duplicates;\r\n\t}","title":"Identify duplicates in a List","body":"<p>I needed a solution to this as well.  I used leifg's solution and made it generic.</p>\n\n<pre><code>private &lt;T&gt; Set&lt;T&gt; findDuplicates(Collection&lt;T&gt; collection) {\n\n    Set&lt;T&gt; duplicates = new LinkedHashSet&lt;&gt;();\n    Set&lt;T&gt; uniques = new HashSet&lt;&gt;();\n\n    for(T t : collection) {\n        if(!uniques.add(t)) {\n            duplicates.add(t);\n        }\n    }\n\n    return duplicates;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":416394,"reputation":833,"user_id":791750,"accept_rate":88,"display_name":"froginvasion"},"score":11,"creation_date":1493889010,"post_id":31641116,"comment_id":74597566,"body_markdown":"this is kind of hard to read, no? You&#39;re doing a side-effect in stream operation, making it kind of hard to reason about. But that&#39;s just me thinking functional style. It is concise and probably the shortest way though ;).","body":"this is kind of hard to read, no? You&#39;re doing a side-effect in stream operation, making it kind of hard to reason about. But that&#39;s just me thinking functional style. It is concise and probably the shortest way though ;)."},{"owner":{"account_id":8129122,"reputation":1496,"user_id":6122976,"display_name":"wilmol"},"score":0,"creation_date":1569794130,"post_id":31641116,"comment_id":102701274,"body_markdown":"@froginvasion the built in ```distinct()``` method is also stateful. Can&#39;t think of an efficient (O(n)) distinct operation which isn&#39;t stateful.","body":"@froginvasion the built in <code>distinct()</code> method is also stateful. Can&#39;t think of an efficient (O(n)) distinct operation which isn&#39;t stateful."}],"tags":[],"owner":{"account_id":298360,"reputation":1922,"user_id":604349,"accept_rate":25,"display_name":"Sebastian"},"comment_count":2,"down_vote_count":1,"up_vote_count":63,"is_accepted":false,"score":62,"last_activity_date":1511539857,"creation_date":1437939352,"answer_id":31641116,"question_id":7414667,"body_markdown":"I took John Strickler&#39;s solution and remade it to use the streams API introduced in JDK8:\r\n\r\n \r\n\r\n    private &lt;T&gt; Set&lt;T&gt; findDuplicates(Collection&lt;T&gt; collection) {\r\n        Set&lt;T&gt; uniques = new HashSet&lt;&gt;();\r\n        return collection.stream()\r\n            .filter(e -&gt; !uniques.add(e))\r\n            .collect(Collectors.toSet());\r\n    }","title":"Identify duplicates in a List","body":"<p>I took John Strickler's solution and remade it to use the streams API introduced in JDK8:</p>\n\n<pre><code>private &lt;T&gt; Set&lt;T&gt; findDuplicates(Collection&lt;T&gt; collection) {\n    Set&lt;T&gt; uniques = new HashSet&lt;&gt;();\n    return collection.stream()\n        .filter(e -&gt; !uniques.add(e))\n        .collect(Collectors.toSet());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1163929,"reputation":329,"user_id":1143150,"display_name":"Philipp Paland"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1446224492,"creation_date":1446224492,"answer_id":33441208,"question_id":7414667,"body_markdown":"Using Guava on Java 8\r\n\r\n    private Set&lt;Integer&gt; findDuplicates(List&lt;Integer&gt; input) {\r\n        // Linked* preserves insertion order so the returned Sets iteration order is somewhat like the original list\r\n        LinkedHashMultiset&lt;Integer&gt; duplicates = LinkedHashMultiset.create(input);\r\n        \r\n        // Remove all entries with a count of 1\r\n        duplicates.entrySet().removeIf(entry -&gt; entry.getCount() == 1);\r\n        \r\n        return duplicates.elementSet();\r\n    }\r\n","title":"Identify duplicates in a List","body":"<p>Using Guava on Java 8</p>\n\n<pre><code>private Set&lt;Integer&gt; findDuplicates(List&lt;Integer&gt; input) {\n    // Linked* preserves insertion order so the returned Sets iteration order is somewhat like the original list\n    LinkedHashMultiset&lt;Integer&gt; duplicates = LinkedHashMultiset.create(input);\n\n    // Remove all entries with a count of 1\n    duplicates.entrySet().removeIf(entry -&gt; entry.getCount() == 1);\n\n    return duplicates.elementSet();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1712726,"reputation":6528,"user_id":1570415,"display_name":"Donald Raab"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1544417284,"creation_date":1468209251,"answer_id":38298923,"question_id":7414667,"body_markdown":"If you use [Eclipse Collections][1], this will work:\r\n\r\n    MutableList&lt;Integer&gt; list = Lists.mutable.with(1, 1, 2, 3, 3, 3);\r\n    Set&lt;Integer&gt; dupes = list.toBag().selectByOccurrences(i -&gt; i &gt; 1).toSet();\r\n    Assert.assertEquals(Sets.mutable.with(1, 3), dupes);\r\n\r\n**Update:** As of Eclipse Collections 9.2 you can now use `selectDuplicates`\r\n\r\n    MutableList&lt;Integer&gt; list = Lists.mutable.with(1, 1, 2, 3, 3, 3);\r\n    Set&lt;Integer&gt; dupes = list.toBag().selectDuplicates().toSet();\r\n    Assert.assertEquals(Sets.mutable.with(1, 3), dupes);\r\n\r\nYou can also use primitive collections to accomplish this:\r\n\r\n    IntList list = IntLists.mutable.with(1, 1, 2, 3, 3, 3);\r\n    IntSet dupes = list.toBag().selectDuplicates().toSet();\r\n    Assert.assertEquals(IntSets.mutable.with(1, 3), dupes);\r\n\r\n**Note:** I am a committer for Eclipse Collections.\r\n\r\n\r\n  [1]: http://www.eclipse.org/collections/\r\n\r\n","title":"Identify duplicates in a List","body":"<p>If you use <a href=\"http://www.eclipse.org/collections/\" rel=\"nofollow noreferrer\">Eclipse Collections</a>, this will work:</p>\n\n<pre><code>MutableList&lt;Integer&gt; list = Lists.mutable.with(1, 1, 2, 3, 3, 3);\nSet&lt;Integer&gt; dupes = list.toBag().selectByOccurrences(i -&gt; i &gt; 1).toSet();\nAssert.assertEquals(Sets.mutable.with(1, 3), dupes);\n</code></pre>\n\n<p><strong>Update:</strong> As of Eclipse Collections 9.2 you can now use <code>selectDuplicates</code></p>\n\n<pre><code>MutableList&lt;Integer&gt; list = Lists.mutable.with(1, 1, 2, 3, 3, 3);\nSet&lt;Integer&gt; dupes = list.toBag().selectDuplicates().toSet();\nAssert.assertEquals(Sets.mutable.with(1, 3), dupes);\n</code></pre>\n\n<p>You can also use primitive collections to accomplish this:</p>\n\n<pre><code>IntList list = IntLists.mutable.with(1, 1, 2, 3, 3, 3);\nIntSet dupes = list.toBag().selectDuplicates().toSet();\nAssert.assertEquals(IntSets.mutable.with(1, 3), dupes);\n</code></pre>\n\n<p><strong>Note:</strong> I am a committer for Eclipse Collections.</p>\n"},{"comments":[{"owner":{"account_id":33409,"reputation":335,"user_id":93518,"display_name":"johnstosh"},"score":0,"creation_date":1502910635,"post_id":38376285,"comment_id":78400694,"body_markdown":"Do you need the zero check?  Will new HashSet&lt;&gt;(0) return the sensible empty set?","body":"Do you need the zero check?  Will new HashSet&lt;&gt;(0) return the sensible empty set?"},{"owner":{"account_id":332245,"reputation":16487,"user_id":657427,"accept_rate":67,"display_name":"Christophe Roussy"},"score":0,"creation_date":1502963570,"post_id":38376285,"comment_id":78421308,"body_markdown":"@johnstosh this code could be simplified, but checking for zero allows to only init the `tempSet` with `listSize` when necessary. This is a minor optimization but I like it.","body":"@johnstosh this code could be simplified, but checking for zero allows to only init the <code>tempSet</code> with <code>listSize</code> when necessary. This is a minor optimization but I like it."}],"tags":[],"owner":{"account_id":332245,"reputation":16487,"user_id":657427,"accept_rate":67,"display_name":"Christophe Roussy"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1468504854,"creation_date":1468504854,"answer_id":38376285,"question_id":7414667,"body_markdown":"Compact generified version of the top answer, also added empty check and preallocated Set size:\r\n\r\n    public static final &lt;T&gt; Set&lt;T&gt; findDuplicates(final List&lt;T&gt; listWhichMayHaveDuplicates) {\r\n        final Set&lt;T&gt; duplicates = new HashSet&lt;&gt;();\r\n        final int listSize = listWhichMayHaveDuplicates.size();\r\n        if (listSize &gt; 0) {\r\n          final Set&lt;T&gt; tempSet = new HashSet&lt;&gt;(listSize);\r\n          for (final T element : listWhichMayHaveDuplicates) {\r\n            if (!tempSet.add(element)) {\r\n              duplicates.add(element);\r\n            }\r\n          }\r\n        }\r\n        return duplicates;\r\n      }","title":"Identify duplicates in a List","body":"<p>Compact generified version of the top answer, also added empty check and preallocated Set size:</p>\n\n<pre><code>public static final &lt;T&gt; Set&lt;T&gt; findDuplicates(final List&lt;T&gt; listWhichMayHaveDuplicates) {\n    final Set&lt;T&gt; duplicates = new HashSet&lt;&gt;();\n    final int listSize = listWhichMayHaveDuplicates.size();\n    if (listSize &gt; 0) {\n      final Set&lt;T&gt; tempSet = new HashSet&lt;&gt;(listSize);\n      for (final T element : listWhichMayHaveDuplicates) {\n        if (!tempSet.add(element)) {\n          duplicates.add(element);\n        }\n      }\n    }\n    return duplicates;\n  }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6329603,"reputation":37,"user_id":4914882,"display_name":"Samrat Roy"},"score":0,"creation_date":1486709012,"post_id":42153037,"comment_id":71472128,"body_markdown":"Implementing without using Collection classes.But need little improvement in loop.Volunteering help is appreciable.Output for above look like --&gt;       2 3 4 6 8 10 11 12","body":"Implementing without using Collection classes.But need little improvement in loop.Volunteering help is appreciable.Output for above look like --&gt;       2 3 4 6 8 10 11 12"},{"owner":{"account_id":33409,"reputation":335,"user_id":93518,"display_name":"johnstosh"},"score":0,"creation_date":1502910194,"post_id":42153037,"comment_id":78400474,"body_markdown":"To make this execute in a smaller amount of time, you need to use a hash based data structure to keep track of duplicates. That is why you see the other solutions using HashSet() -- it is built into Java.","body":"To make this execute in a smaller amount of time, you need to use a hash based data structure to keep track of duplicates. That is why you see the other solutions using HashSet() -- it is built into Java."},{"owner":{"account_id":6329603,"reputation":37,"user_id":4914882,"display_name":"Samrat Roy"},"score":0,"creation_date":1502950911,"post_id":42153037,"comment_id":78413241,"body_markdown":"@johnstosh Yes i know about that but i was thinking to make it without using Collections thats why i have mentioned in my comment.As you see i have commented way before Feb 2017,[there are techniques where you dont have to use collections at all with lesser time complexity]http://www.geeksforgeeks.org/find-duplicates-in-on-time-and-constant-extra-space/ .I have tried that program without knowing the DS &amp; Algo practices.You dont have to downvote me for that..anyways Thanks.","body":"@johnstosh Yes i know about that but i was thinking to make it without using Collections thats why i have mentioned in my comment.As you see i have commented way before Feb 2017,[there are techniques where you dont have to use collections at all with lesser time complexity]<a href=\"http://www.geeksforgeeks.org/find-duplicates-in-on-time-and-constant-extra-space/\" rel=\"nofollow noreferrer\">geeksforgeeks.org/&hellip;</a> .I have tried that program without knowing the DS &amp; Algo practices.You dont have to downvote me for that..anyways Thanks."}],"tags":[],"owner":{"account_id":6329603,"reputation":37,"user_id":4914882,"display_name":"Samrat Roy"},"comment_count":3,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1486711032,"creation_date":1486708938,"answer_id":42153037,"question_id":7414667,"body_markdown":"    public class DuplicatesWithOutCollection {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \t\tint[] arr = new int[] { 2, 3, 4, 6, 6, 8, 10, 10, 10, 11, 12, 12 };\r\n    \r\n    \t\tboolean flag = false;\r\n    \t\tint k = 1;\r\n    \t\twhile (k == 1) {\r\n    \r\n    \t\t\tarr = removeDuplicate(arr);\r\n    \t\t\tflag = checkDuplicate(arr, flag);\r\n    \t\t\tif (flag) {\r\n    \t\t\t\tk = 1;\r\n    \t\t\t} else {\r\n    \t\t\t\tk = 0;\r\n    \t\t\t}\r\n    \r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    \tprivate static boolean checkDuplicate(int[] arr, boolean flag) {\r\n    \t\tint i = 0;\r\n    \r\n    \t\twhile (i &lt; arr.length - 1) {\r\n    \r\n    \t\t\tif (arr[i] == arr[i + 1]) {\r\n    \r\n    \t\t\t\tflag = true;\r\n    \r\n    \t\t\t} else {\r\n    \t\t\t\tflag = false;\r\n    \t\t\t}\r\n    \t\t\ti++;\r\n    \r\n    \t\t}\r\n    \r\n    \t\treturn flag;\r\n    \t}\r\n    \r\n    \tprivate static int[] removeDuplicate(int[] arr) {\r\n    \r\n    \t\tint i = 0, j = 0;\r\n    \t\tint[] temp = new int[arr.length];\r\n    \t\twhile (i &lt; arr.length - 1) {\r\n    \r\n    \t\t\tif (arr[i] == arr[i + 1]) {\r\n    \r\n    \t\t\t\ttemp[j] = arr[i + 1];\r\n    \t\t\t\ti = i + 2;\r\n    \r\n    \t\t\t} else {\r\n    \r\n    \t\t\t\ttemp[j] = arr[i];\r\n    \t\t\t\ti = i + 1;\r\n    \r\n    \t\t\t\tif (i == arr.length - 1) {\r\n    \t\t\t\t\ttemp[j + 1] = arr[i + 1];\r\n    \t\t\t\t\tbreak;\r\n    \t\t\t\t}\r\n    \r\n    \t\t\t}\r\n    \t\t\tj++;\r\n    \r\n    \t\t}\r\n    \t\tSystem.out.println();\r\n    \t\treturn temp;\r\n    \t}\r\n    \r\n    }","title":"Identify duplicates in a List","body":"<pre><code>public class DuplicatesWithOutCollection {\n\n    public static void main(String[] args) {\n\n        int[] arr = new int[] { 2, 3, 4, 6, 6, 8, 10, 10, 10, 11, 12, 12 };\n\n        boolean flag = false;\n        int k = 1;\n        while (k == 1) {\n\n            arr = removeDuplicate(arr);\n            flag = checkDuplicate(arr, flag);\n            if (flag) {\n                k = 1;\n            } else {\n                k = 0;\n            }\n\n        }\n\n    }\n\n    private static boolean checkDuplicate(int[] arr, boolean flag) {\n        int i = 0;\n\n        while (i &lt; arr.length - 1) {\n\n            if (arr[i] == arr[i + 1]) {\n\n                flag = true;\n\n            } else {\n                flag = false;\n            }\n            i++;\n\n        }\n\n        return flag;\n    }\n\n    private static int[] removeDuplicate(int[] arr) {\n\n        int i = 0, j = 0;\n        int[] temp = new int[arr.length];\n        while (i &lt; arr.length - 1) {\n\n            if (arr[i] == arr[i + 1]) {\n\n                temp[j] = arr[i + 1];\n                i = i + 2;\n\n            } else {\n\n                temp[j] = arr[i];\n                i = i + 1;\n\n                if (i == arr.length - 1) {\n                    temp[j + 1] = arr[i + 1];\n                    break;\n                }\n\n            }\n            j++;\n\n        }\n        System.out.println();\n        return temp;\n    }\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":33409,"reputation":335,"user_id":93518,"display_name":"johnstosh"},"score":0,"creation_date":1502911082,"post_id":45231290,"comment_id":78400905,"body_markdown":"Invoking contains() on an ArrayList() is an expensive operation, so you should consider using a Set instead.  You&#39;ll see other solutions using HashSet() or linked versions of it.","body":"Invoking contains() on an ArrayList() is an expensive operation, so you should consider using a Set instead.  You&#39;ll see other solutions using HashSet() or linked versions of it."}],"tags":[],"owner":{"account_id":5850137,"reputation":3193,"user_id":4609016,"accept_rate":73,"display_name":"User Learning"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1500621084,"creation_date":1500621084,"answer_id":45231290,"question_id":7414667,"body_markdown":"Just try this : \r\n\r\nExample if List values are: [1, 2, 3, 4, 5, 6, 4, 3, 7, 8]\r\nduplicate item [3, 4].\r\n\r\n\r\n    Collections.sort(list);\r\n    \t\tList&lt;Integer&gt; dup = new ArrayList&lt;&gt;();\r\n    \t\tfor (int i = 0; i &lt; list.size() - 1; i++) {\r\n    \t\t\tif (list.get(i) == list.get(i + 1)) {\r\n    \t\t\t\tif (!dup.contains(list.get(i + 1))) {\r\n    \t\t\t\t\tdup.add(list.get(i + 1));\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tSystem.out.println(&quot;duplicate item &quot; + dup);","title":"Identify duplicates in a List","body":"<p>Just try this : </p>\n\n<p>Example if List values are: [1, 2, 3, 4, 5, 6, 4, 3, 7, 8]\nduplicate item [3, 4].</p>\n\n<pre><code>Collections.sort(list);\n        List&lt;Integer&gt; dup = new ArrayList&lt;&gt;();\n        for (int i = 0; i &lt; list.size() - 1; i++) {\n            if (list.get(i) == list.get(i + 1)) {\n                if (!dup.contains(list.get(i + 1))) {\n                    dup.add(list.get(i + 1));\n                }\n            }\n        }\n        System.out.println(\"duplicate item \" + dup);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":67357,"reputation":4188,"user_id":197141,"accept_rate":62,"display_name":"arberg"},"score":1,"creation_date":1549369122,"post_id":46448898,"comment_id":95869922,"body_markdown":"Works, but it runs Collections.frequency for each entry and is thus slow.","body":"Works, but it runs Collections.frequency for each entry and is thus slow."}],"tags":[],"owner":{"account_id":2983360,"reputation":164,"user_id":2532836,"display_name":"APA"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1506518170,"creation_date":1506518170,"answer_id":46448898,"question_id":7414667,"body_markdown":"Lambas might be a solution\r\n\r\n    Integer[] nums =  new Integer[] {1, 1, 2, 3, 3, 3};\r\n    List&lt;Integer&gt; list = Arrays.asList(nums);\r\n\r\n    List&lt;Integer&gt; dps = list.stream().distinct().filter(entry -&gt; Collections.frequency(list, entry) &gt; 1).collect(Collectors.toList());","title":"Identify duplicates in a List","body":"<p>Lambas might be a solution</p>\n\n<pre><code>Integer[] nums =  new Integer[] {1, 1, 2, 3, 3, 3};\nList&lt;Integer&gt; list = Arrays.asList(nums);\n\nList&lt;Integer&gt; dps = list.stream().distinct().filter(entry -&gt; Collections.frequency(list, entry) &gt; 1).collect(Collectors.toList());\n</code></pre>\n"},{"comments":[{"owner":{"account_id":12277079,"reputation":1,"user_id":8960249,"display_name":"Brenden"},"score":0,"creation_date":1510957565,"post_id":47360189,"comment_id":81673233,"body_markdown":"what do i need to change for this to return the duplicates?","body":"what do i need to change for this to return the duplicates?"},{"owner":{"account_id":4553065,"reputation":2687,"user_id":3697604,"display_name":"willaien"},"score":0,"creation_date":1510959148,"post_id":47360189,"comment_id":81673812,"body_markdown":"This should be asked as a new question.","body":"This should be asked as a new question."}],"tags":[],"owner":{"account_id":12277079,"reputation":1,"user_id":8960249,"display_name":"Brenden"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1510957533,"creation_date":1510957533,"answer_id":47360189,"question_id":7414667,"body_markdown":"    import java.util.Scanner;\r\n    \r\n    public class OnlyDuplicates {\r\n        public static void main(String[] args) {\r\n            System.out.print(&quot; Enter a set of 10 numbers: &quot;);\r\n            int[] numbers = new int[10];\r\n            Scanner input = new Scanner(System.in);\r\n            for (int i = 0; i &lt; numbers.length; i++) {\r\n                numbers[i] = input.nextInt();\r\n            }\r\n            numbers = onlyDuplicates(numbers);\r\n            System.out.print(&quot; The numbers are: &quot;);\r\n            for (int i = 0; i &lt; numbers.length; i++) {\r\n                System.out.print(numbers[i] + &quot;&quot;);\r\n            }\r\n        }\r\n    \r\n        public static int[] onlyDuplicates(int[] list) {\r\n            boolean flag = true;\r\n            int[] array = new int[0];\r\n            array = add2Array(array, list[0]);\r\n            for (int i = 0; i &lt; list.length; i++) {\r\n                for (int j = 0; j &lt; array.length; j++) {\r\n                    if (list[i] == array[j]) {\r\n                        flag = false;\r\n                        break;\r\n                    }\r\n                }\r\n                if (flag) {\r\n                    array = add2Array(array, list[i]);\r\n                }\r\n                flag = true;\r\n            }\r\n            return array;\r\n        }\r\n        // Copy numbers1 to numbers2\r\n        // If the length of numbers2 is less then numbers2, return false\r\n        public static boolean copyArray(int[] source, int[] dest) {\r\n            if (source.length &gt; dest.length) {\r\n                return false;\r\n            }\r\n    \r\n            for (int i = 0; i &lt; source.length; i++) {\r\n                dest[i] = source[i];\r\n            }\r\n            return true;\r\n        }\r\n        // Increase array size by one and add integer to the end of the array\r\n        public static int[] add2Array(int[] source, int data) {\r\n            int[] dest = new int[source.length + 1];\r\n            copyArray(source, dest);\r\n            dest[source.length] = data;\r\n            return dest;\r\n        }\r\n    }","title":"Identify duplicates in a List","body":"<pre><code>import java.util.Scanner;\n\npublic class OnlyDuplicates {\n    public static void main(String[] args) {\n        System.out.print(\" Enter a set of 10 numbers: \");\n        int[] numbers = new int[10];\n        Scanner input = new Scanner(System.in);\n        for (int i = 0; i &lt; numbers.length; i++) {\n            numbers[i] = input.nextInt();\n        }\n        numbers = onlyDuplicates(numbers);\n        System.out.print(\" The numbers are: \");\n        for (int i = 0; i &lt; numbers.length; i++) {\n            System.out.print(numbers[i] + \"\");\n        }\n    }\n\n    public static int[] onlyDuplicates(int[] list) {\n        boolean flag = true;\n        int[] array = new int[0];\n        array = add2Array(array, list[0]);\n        for (int i = 0; i &lt; list.length; i++) {\n            for (int j = 0; j &lt; array.length; j++) {\n                if (list[i] == array[j]) {\n                    flag = false;\n                    break;\n                }\n            }\n            if (flag) {\n                array = add2Array(array, list[i]);\n            }\n            flag = true;\n        }\n        return array;\n    }\n    // Copy numbers1 to numbers2\n    // If the length of numbers2 is less then numbers2, return false\n    public static boolean copyArray(int[] source, int[] dest) {\n        if (source.length &gt; dest.length) {\n            return false;\n        }\n\n        for (int i = 0; i &lt; source.length; i++) {\n            dest[i] = source[i];\n        }\n        return true;\n    }\n    // Increase array size by one and add integer to the end of the array\n    public static int[] add2Array(int[] source, int data) {\n        int[] dest = new int[source.length + 1];\n        copyArray(source, dest);\n        dest[source.length] = data;\n        return dest;\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":12322291,"reputation":355,"user_id":9015770,"display_name":"Tiago Machado"},"score":0,"creation_date":1592305248,"post_id":49249787,"comment_id":110371532,"body_markdown":"I like this answer, just needed to add an else to save the duplicate in another list.\nthanks","body":"I like this answer, just needed to add an else to save the duplicate in another list. thanks"}],"tags":[],"owner":{"account_id":12716738,"reputation":31,"user_id":9238502,"display_name":"Baisakha Chauhan"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1520923582,"creation_date":1520923268,"answer_id":49249787,"question_id":7414667,"body_markdown":"    public class practicese {\r\n           public static void main(String[] args) {   \r\n        \t   \r\n        \t   List&lt;Integer&gt; listOf = new ArrayList&lt;Integer&gt;();\r\n        \t   listOf.add(3);\r\n        \t   listOf.add(1);\r\n        \t   listOf.add(2);\r\n        \t   listOf.add(3);\r\n        \t   listOf.add(3);\r\n        \t   listOf.add(2);\r\n        \t   listOf.add(1);\r\n        \t   \r\n        \t   List&lt;Integer&gt; tempList = new ArrayList&lt;Integer&gt;();\r\n    \t\t   for(Integer obj:listOf){\r\n    \t\t    \tif(!tempList.contains(obj)){\r\n    \t\t    \t\ttempList.add(obj);\r\n     \t    \t\t\r\n    \t\t    \t}\r\n    \t\t    }\r\n    \t\t    System.out.println(tempList);\r\n    \t\t   \r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"Identify duplicates in a List","body":"<pre><code>public class practicese {\n       public static void main(String[] args) {   \n\n           List&lt;Integer&gt; listOf = new ArrayList&lt;Integer&gt;();\n           listOf.add(3);\n           listOf.add(1);\n           listOf.add(2);\n           listOf.add(3);\n           listOf.add(3);\n           listOf.add(2);\n           listOf.add(1);\n\n           List&lt;Integer&gt; tempList = new ArrayList&lt;Integer&gt;();\n           for(Integer obj:listOf){\n                if(!tempList.contains(obj)){\n                    tempList.add(obj);\n\n                }\n            }\n            System.out.println(tempList);\n\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13300676,"reputation":99,"user_id":9602278,"display_name":"aayoustic"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1530029187,"creation_date":1530029187,"answer_id":51047211,"question_id":7414667,"body_markdown":"This would be a good method to find Duplicate values, without using Set.\r\n\r\n\r\n    public static &lt;T&gt; List&lt;T&gt; findDuplicates(List&lt;T&gt; list){\r\n    \r\n    List&lt;T&gt; nonDistinctElements = new ArrayList&lt;&gt;();\r\n\r\n      for(T s : list)\r\n        if(list.indexOf(s) != list.lastIndexOf(s))\r\n          if(!nonDistinctElements.contains(s))\r\n            nonDistinctElements.add(s);\r\n\r\n      return nonDistinctElements;\r\n    }\r\n\r\nAnd say, that you want a method that returns you a distinct list, i.e. if you pass a list where elements are occurring more than once, you&#39;ll get a list with distinct elements.\r\n\r\n    public static &lt;T&gt; void distinctList(List&lt;T&gt; list){\r\n\r\n    List&lt;T&gt; nonDistinctElements = new ArrayList&lt;&gt;();\r\n    for(T s : list)\r\n      if(list.indexOf(s) != list.lastIndexOf(s))\r\n        nonDistinctElements.add(s);\r\n\r\n    for(T nonDistinctElement : nonDistinctElements)\r\n      if(list.indexOf(nonDistinctElement) != list.lastIndexOf(nonDistinctElement))\r\n        list.remove(nonDistinctElement);\r\n    }","title":"Identify duplicates in a List","body":"<p>This would be a good method to find Duplicate values, without using Set.</p>\n\n<pre><code>public static &lt;T&gt; List&lt;T&gt; findDuplicates(List&lt;T&gt; list){\n\nList&lt;T&gt; nonDistinctElements = new ArrayList&lt;&gt;();\n\n  for(T s : list)\n    if(list.indexOf(s) != list.lastIndexOf(s))\n      if(!nonDistinctElements.contains(s))\n        nonDistinctElements.add(s);\n\n  return nonDistinctElements;\n}\n</code></pre>\n\n<p>And say, that you want a method that returns you a distinct list, i.e. if you pass a list where elements are occurring more than once, you'll get a list with distinct elements.</p>\n\n<pre><code>public static &lt;T&gt; void distinctList(List&lt;T&gt; list){\n\nList&lt;T&gt; nonDistinctElements = new ArrayList&lt;&gt;();\nfor(T s : list)\n  if(list.indexOf(s) != list.lastIndexOf(s))\n    nonDistinctElements.add(s);\n\nfor(T nonDistinctElement : nonDistinctElements)\n  if(list.indexOf(nonDistinctElement) != list.lastIndexOf(nonDistinctElement))\n    list.remove(nonDistinctElement);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1462008,"reputation":309,"user_id":1376072,"accept_rate":80,"display_name":"panurg"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1691485912,"creation_date":1533899344,"answer_id":51785188,"question_id":7414667,"body_markdown":"And version which uses `commons-collections` `CollectionUtils.getCardinalityMap` method:\r\n\r\n\r\n    final List&lt;Integer&gt; values = Arrays.asList(1, 1, 2, 3, 3, 3);\r\n    final Map&lt;Integer, Integer&gt; cardinalityMap = CollectionUtils.getCardinalityMap(values);\r\n    System.out.println(cardinalityMap\r\n                .entrySet()\r\n                .stream().filter(e -&gt; e.getValue() &gt; 1)\r\n                .map(e -&gt; e.getKey())\r\n                .collect(Collectors.toList()));\r\n\r\n\r\n","title":"Identify duplicates in a List","body":"<p>And version which uses <code>commons-collections</code> <code>CollectionUtils.getCardinalityMap</code> method:</p>\n<pre><code>final List&lt;Integer&gt; values = Arrays.asList(1, 1, 2, 3, 3, 3);\nfinal Map&lt;Integer, Integer&gt; cardinalityMap = CollectionUtils.getCardinalityMap(values);\nSystem.out.println(cardinalityMap\n            .entrySet()\n            .stream().filter(e -&gt; e.getValue() &gt; 1)\n            .map(e -&gt; e.getKey())\n            .collect(Collectors.toList()));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":14333155,"reputation":461,"user_id":10353395,"display_name":" "},"score":2,"creation_date":1536761144,"post_id":52296246,"comment_id":91542032,"body_markdown":"input list is tranformed to a map, (groupment by same values). then values of map with unique value are &quot;deleted&quot; then map using the key, then the list of list is transformed to a List","body":"input list is tranformed to a map, (groupment by same values). then values of map with unique value are &quot;deleted&quot; then map using the key, then the list of list is transformed to a List"},{"owner":{"account_id":67357,"reputation":4188,"user_id":197141,"accept_rate":62,"display_name":"arberg"},"score":1,"creation_date":1549369329,"post_id":52296246,"comment_id":95870051,"body_markdown":"beautiful and fast solution, directly modifiable into filtering on specific getters of item","body":"beautiful and fast solution, directly modifiable into filtering on specific getters of item"},{"owner":{"account_id":9563118,"reputation":150,"user_id":7103214,"display_name":"Rezero"},"score":2,"creation_date":1608711516,"post_id":52296246,"comment_id":115661609,"body_markdown":"how about using counting? `stream()\n                        .collect(Collectors.groupingBy(Function.identity(), Collectors.counting()))\n                        .entrySet().stream().filter(e -&gt; e.getValue() &gt; 1)\n                        .map(Map.Entry::getKey).collect(Collectors.toList())`","body":"how about using counting? <code>stream()                         .collect(Collectors.groupingBy(Function.identity(), Collectors.counting()))                         .entrySet().stream().filter(e -&gt; e.getValue() &gt; 1)                         .map(Map.Entry::getKey).collect(Collectors.toList())</code>"},{"owner":{"account_id":1535484,"reputation":4254,"user_id":2365727,"accept_rate":88,"display_name":"michaldo"},"score":0,"creation_date":1663332966,"post_id":52296246,"comment_id":130220830,"body_markdown":"@Rezero your answer is best one - I suggest you standalone answer rather than comment","body":"@Rezero your answer is best one - I suggest you standalone answer rather than comment"},{"owner":{"account_id":5619551,"reputation":653,"user_id":4449859,"display_name":"abdel"},"score":0,"creation_date":1695057434,"post_id":52296246,"comment_id":135970360,"body_markdown":"nice but does not handle situation when list contain duplicate nulls e.g., [1,2,3,null,null] where it fails with null point exception. in fact any null value in the list will cause same failure e.g., [1,2,null] fails","body":"nice but does not handle situation when list contain duplicate nulls e.g., [1,2,3,null,null] where it fails with null point exception. in fact any null value in the list will cause same failure e.g., [1,2,null] fails"}],"tags":[],"owner":{"account_id":14333155,"reputation":461,"user_id":10353395,"display_name":" "},"comment_count":5,"down_vote_count":1,"up_vote_count":46,"is_accepted":false,"score":45,"last_activity_date":1536759210,"creation_date":1536758470,"answer_id":52296246,"question_id":7414667,"body_markdown":"java 8 base solution:\r\n\r\n    List duplicates =    \r\n    list.stream().collect(Collectors.groupingBy(Function.identity()))\r\n        .entrySet()\r\n        .stream()\r\n        .filter(e -&gt; e.getValue().size() &gt; 1)\r\n        .map(Map.Entry::getKey)\r\n        .collect(Collectors.toList());\r\n","title":"Identify duplicates in a List","body":"<p>java 8 base solution:</p>\n\n<pre><code>List duplicates =    \nlist.stream().collect(Collectors.groupingBy(Function.identity()))\n    .entrySet()\n    .stream()\n    .filter(e -&gt; e.getValue().size() &gt; 1)\n    .map(Map.Entry::getKey)\n    .collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12239260,"reputation":144,"user_id":8932774,"display_name":"Karthik Deepan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1538763832,"creation_date":1538763832,"answer_id":52671319,"question_id":7414667,"body_markdown":"How about this code - \r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\t//Lets say we have a elements in array\r\n        int[] a = {13,65,13,67,88,65,88,23,65,88,92};\r\n\t\t\t\t\r\n\t\tList&lt;Integer&gt; ls1 = new ArrayList&lt;&gt;();\r\n\t\tList&lt;Integer&gt; ls2 = new ArrayList&lt;&gt;();\r\n\t\tSet&lt;Integer&gt; ls3 = new TreeSet&lt;&gt;();\r\n\t\t\r\n        //Adding each element of the array in the list\t\t\r\n\t\tfor(int i=0;i&lt;a.length;i++) {\r\n\t\t {\r\n\t\tls1.add(a[i]);\r\n\t\t}\r\n\t\t}\r\n\t\t       \r\n        //Iterating each element in the arrary\r\n\t\tfor (Integer eachInt : ls1) {\r\n\t\t\t\r\n        //If the list2 contains the iterating element, then add that into set&lt;&gt; (as this would be a duplicate element)\r\n\t\t\tif(ls2.contains(eachInt)) {\r\n\t\t\t\tls3.add(eachInt);\r\n\t\t\t}\r\n\t\t\telse {ls2.add(eachInt);}\r\n\t\t\r\n\t\t}\r\n\t\t\t\r\n\t\tSystem.out.println(&quot;Elements in array or ls1&quot;+ls1); \r\n\t\tSystem.out.println(&quot;Duplicate Elements in Set ls3&quot;+ls3);\r\n\t\t\r\n\t\t\r\n\t}\r\n","title":"Identify duplicates in a List","body":"<p>How about this code - </p>\n\n<pre><code>public static void main(String[] args) {\n\n    //Lets say we have a elements in array\n    int[] a = {13,65,13,67,88,65,88,23,65,88,92};\n\n    List&lt;Integer&gt; ls1 = new ArrayList&lt;&gt;();\n    List&lt;Integer&gt; ls2 = new ArrayList&lt;&gt;();\n    Set&lt;Integer&gt; ls3 = new TreeSet&lt;&gt;();\n\n    //Adding each element of the array in the list      \n    for(int i=0;i&lt;a.length;i++) {\n     {\n    ls1.add(a[i]);\n    }\n    }\n\n    //Iterating each element in the arrary\n    for (Integer eachInt : ls1) {\n\n    //If the list2 contains the iterating element, then add that into set&lt;&gt; (as this would be a duplicate element)\n        if(ls2.contains(eachInt)) {\n            ls3.add(eachInt);\n        }\n        else {ls2.add(eachInt);}\n\n    }\n\n    System.out.println(\"Elements in array or ls1\"+ls1); \n    System.out.println(\"Duplicate Elements in Set ls3\"+ls3);\n\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user9426229"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1540394579,"creation_date":1540394579,"answer_id":52972688,"question_id":7414667,"body_markdown":"just in case for those that also want to include both the duplicate and the non duplicates. basically the answer similiar to the correct answer but instead of returning from if not part you return the else part\r\n\r\nuse this code (change &lt;String&gt; to the type that you need)\r\n\r\n    public Set&lt;String&gt; findDup(List&lt;String&gt; Duplicates){\r\n        Set&lt;String&gt; returning = new HashSet&lt;&gt;();\r\n        Set&lt;String&gt; nonreturning = new HashSet&lt;&gt;();\r\n        Set&lt;String&gt; setup = new HashSet&lt;&gt;();\r\n        for(String i:Duplicates){\r\n            if(!setup.add( i )){\r\n                returning.add( i );\r\n            }else{\r\n                nonreturning.add( i );\r\n            }\r\n        }\r\n        Toast.makeText( context,&quot;hello set&quot;+returning+nonreturning+&quot; size&quot;+nonreturning.size(),Toast.LENGTH_SHORT ).show();\r\n        return nonreturning;\r\n    }\r\n\r\n","title":"Identify duplicates in a List","body":"<p>just in case for those that also want to include both the duplicate and the non duplicates. basically the answer similiar to the correct answer but instead of returning from if not part you return the else part</p>\n\n<p>use this code (change  to the type that you need)</p>\n\n<pre><code>public Set&lt;String&gt; findDup(List&lt;String&gt; Duplicates){\n    Set&lt;String&gt; returning = new HashSet&lt;&gt;();\n    Set&lt;String&gt; nonreturning = new HashSet&lt;&gt;();\n    Set&lt;String&gt; setup = new HashSet&lt;&gt;();\n    for(String i:Duplicates){\n        if(!setup.add( i )){\n            returning.add( i );\n        }else{\n            nonreturning.add( i );\n        }\n    }\n    Toast.makeText( context,\"hello set\"+returning+nonreturning+\" size\"+nonreturning.size(),Toast.LENGTH_SHORT ).show();\n    return nonreturning;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":999495,"reputation":73,"user_id":1176470,"accept_rate":25,"display_name":"Pawan"},"score":9,"creation_date":1594294138,"post_id":54223634,"comment_id":111078964,"body_markdown":"This is good in terms of readability, but it&#39;s **REALLY** bad for performance. `Collections::frequency` is O(n). It needs to go through the whole collection to find the frequency of an item. And we&#39;re calling this once for every item in the collection, which makes these snippets `O(n^2)`. You&#39;ll notice the difference in any collection of more than a handful of elements.\n\nI&#39;d never use this in actual code.","body":"This is good in terms of readability, but it&#39;s <b>REALLY</b> bad for performance. <code>Collections::frequency</code> is O(n). It needs to go through the whole collection to find the frequency of an item. And we&#39;re calling this once for every item in the collection, which makes these snippets <code>O(n^2)</code>. You&#39;ll notice the difference in any collection of more than a handful of elements.  I&#39;d never use this in actual code."}],"tags":[],"owner":{"account_id":13596291,"reputation":546,"user_id":9808248,"display_name":"snowman"},"comment_count":1,"down_vote_count":0,"up_vote_count":38,"is_accepted":false,"score":38,"last_activity_date":1552068853,"creation_date":1547665308,"answer_id":54223634,"question_id":7414667,"body_markdown":"Here is a solution using Streams with Java 8\r\n\r\n    // lets assume the original list is filled with {1,1,2,3,6,3,8,7}\r\n    List&lt;String&gt; original = new ArrayList&lt;&gt;();\r\n    List&lt;String&gt; result = new ArrayList&lt;&gt;();\r\n\r\n\r\n\r\nYou just look if the frequency of this object is more than once in your list.\r\nThen call .distinct() to only have unique elements in your result\r\n\r\n    result = original.stream()\r\n        .filter(e -&gt; Collections.frequency(original, e) &gt; 1)\r\n        .distinct()\r\n        .collect(Collectors.toList());\r\n    // returns {1,3}\r\n    // returns only numbers which occur more than once\r\n\r\n    result = original.stream()\r\n        .filter(e -&gt; Collections.frequency(original, e) == 1)\r\n        .collect(Collectors.toList());\r\n    // returns {2,6,8,7}\r\n    // returns numbers which occur only once\r\n\r\n    result = original.stream()\r\n        .distinct()\r\n        .collect(Collectors.toList());\r\n    // returns {1,2,3,6,8,7}\r\n    // returns the list without duplicates\r\n","title":"Identify duplicates in a List","body":"<p>Here is a solution using Streams with Java 8</p>\n\n<pre><code>// lets assume the original list is filled with {1,1,2,3,6,3,8,7}\nList&lt;String&gt; original = new ArrayList&lt;&gt;();\nList&lt;String&gt; result = new ArrayList&lt;&gt;();\n</code></pre>\n\n<p>You just look if the frequency of this object is more than once in your list.\nThen call .distinct() to only have unique elements in your result</p>\n\n<pre><code>result = original.stream()\n    .filter(e -&gt; Collections.frequency(original, e) &gt; 1)\n    .distinct()\n    .collect(Collectors.toList());\n// returns {1,3}\n// returns only numbers which occur more than once\n\nresult = original.stream()\n    .filter(e -&gt; Collections.frequency(original, e) == 1)\n    .collect(Collectors.toList());\n// returns {2,6,8,7}\n// returns numbers which occur only once\n\nresult = original.stream()\n    .distinct()\n    .collect(Collectors.toList());\n// returns {1,2,3,6,8,7}\n// returns the list without duplicates\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6473588,"reputation":807,"user_id":5012936,"display_name":"Ashish Tyagi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1559601256,"creation_date":1559601256,"answer_id":56435311,"question_id":7414667,"body_markdown":"I took Sebastian&#39;s answer and added a keyExtractor to it -\r\n\r\n        private &lt;U, T&gt; Set&lt;T&gt; findDuplicates(Collection&lt;T&gt; collection, Function&lt;? super T,? extends U&gt; keyExtractor) {\r\n            Map&lt;U, T&gt; uniques = new HashMap&lt;&gt;(); // maps unique keys to corresponding values\r\n            return collection.stream()\r\n                .filter(e -&gt; uniques.put(keyExtractor.apply(e), e) != null)\r\n                .collect(Collectors.toSet());\r\n        }","title":"Identify duplicates in a List","body":"<p>I took Sebastian's answer and added a keyExtractor to it -</p>\n\n<pre><code>    private &lt;U, T&gt; Set&lt;T&gt; findDuplicates(Collection&lt;T&gt; collection, Function&lt;? super T,? extends U&gt; keyExtractor) {\n        Map&lt;U, T&gt; uniques = new HashMap&lt;&gt;(); // maps unique keys to corresponding values\n        return collection.stream()\n            .filter(e -&gt; uniques.put(keyExtractor.apply(e), e) != null)\n            .collect(Collectors.toSet());\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":449256,"reputation":2120,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1566292198,"creation_date":1566292198,"answer_id":57570289,"question_id":7414667,"body_markdown":"A thread-safe alternative is this:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n\t/**\r\n\t * Returns all duplicates that are in the list as a new {@link Set} thread-safe.\r\n\t * &lt;p&gt;\r\n\t * Usually the Set will contain only the last duplicate, however the decision\r\n\t * what elements are equal depends on the implementation of the {@link List}. An\r\n\t * exotic implementation of {@link List} might decide two elements are &quot;equal&quot;,\r\n\t * in this case multiple duplicates might be returned.\r\n\t * \r\n\t * @param &lt;X&gt;  The type of element to compare.\r\n\t * @param list The list that contains the elements, never &lt;code&gt;null&lt;/code&gt;.\r\n\t * @return A set of all duplicates in the list. Returns only the last duplicate.\r\n\t */\r\n\tpublic &lt;X extends Object&gt; Set&lt;X&gt; findDuplicates(List&lt;X&gt; list) {\r\n\t\tSet&lt;X&gt; dups = new LinkedHashSet&lt;&gt;(list.size());\r\n\t\tsynchronized (list) {\r\n\t\t\tfor (X x : list) {\r\n\t\t\t\tif (list.indexOf(x) != list.lastIndexOf(x)) {\r\n\t\t\t\t\tdups.add(x);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn dups;\r\n\t}","title":"Identify duplicates in a List","body":"<p>A thread-safe alternative is this:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * Returns all duplicates that are in the list as a new {@link Set} thread-safe.\n * &lt;p&gt;\n * Usually the Set will contain only the last duplicate, however the decision\n * what elements are equal depends on the implementation of the {@link List}. An\n * exotic implementation of {@link List} might decide two elements are \"equal\",\n * in this case multiple duplicates might be returned.\n * \n * @param &lt;X&gt;  The type of element to compare.\n * @param list The list that contains the elements, never &lt;code&gt;null&lt;/code&gt;.\n * @return A set of all duplicates in the list. Returns only the last duplicate.\n */\npublic &lt;X extends Object&gt; Set&lt;X&gt; findDuplicates(List&lt;X&gt; list) {\n    Set&lt;X&gt; dups = new LinkedHashSet&lt;&gt;(list.size());\n    synchronized (list) {\n        for (X x : list) {\n            if (list.indexOf(x) != list.lastIndexOf(x)) {\n                dups.add(x);\n            }\n        }\n    }\n    return dups;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16592527,"reputation":31,"user_id":11990331,"display_name":"Igor Maculewicz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1567009239,"creation_date":1567009239,"answer_id":57696542,"question_id":7414667,"body_markdown":"More generic method as variant of https://stackoverflow.com/a/52296246\r\n```\r\n    /**\r\n     * Returns a duplicated values found in given collection based on fieldClassifier\r\n     *\r\n     * @param collection given collection of elements\r\n     * @param fieldClassifier field classifier which specifies element to check for duplicates(useful in complex objects).\r\n     * @param &lt;T&gt; Type of element in collection\r\n     * @param &lt;K&gt; Element which will be returned from method in fieldClassifier.\r\n     * @return returns list of values that are duplocated.\r\n     */\r\n    public static &lt;T, K&gt; List&lt;K&gt; lookForDuplicates(List&lt;T&gt; collection, Function&lt;? super T, ? extends K&gt; fieldClassifier) {\r\n\r\n        return collection.stream().collect(Collectors.groupingBy(fieldClassifier))\r\n                         .entrySet()\r\n                         .stream()\r\n                         .filter(e -&gt; e.getValue().size() &gt; 1)\r\n                         .map(Map.Entry::getKey)\r\n                         .collect(Collectors.toList());\r\n    }\r\n```","title":"Identify duplicates in a List","body":"<p>More generic method as variant of <a href=\"https://stackoverflow.com/a/52296246\">https://stackoverflow.com/a/52296246</a></p>\n\n<pre><code>    /**\n     * Returns a duplicated values found in given collection based on fieldClassifier\n     *\n     * @param collection given collection of elements\n     * @param fieldClassifier field classifier which specifies element to check for duplicates(useful in complex objects).\n     * @param &lt;T&gt; Type of element in collection\n     * @param &lt;K&gt; Element which will be returned from method in fieldClassifier.\n     * @return returns list of values that are duplocated.\n     */\n    public static &lt;T, K&gt; List&lt;K&gt; lookForDuplicates(List&lt;T&gt; collection, Function&lt;? super T, ? extends K&gt; fieldClassifier) {\n\n        return collection.stream().collect(Collectors.groupingBy(fieldClassifier))\n                         .entrySet()\n                         .stream()\n                         .filter(e -&gt; e.getValue().size() &gt; 1)\n                         .map(Map.Entry::getKey)\n                         .collect(Collectors.toList());\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8129122,"reputation":1496,"user_id":6122976,"display_name":"wilmol"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1569794777,"creation_date":1569794777,"answer_id":58159562,"question_id":7414667,"body_markdown":"Similar to some answers here, but if you want to find duplicates based on some property:\r\n\r\n```\r\n  public static &lt;T, R&gt; Set&lt;R&gt; findDuplicates(Collection&lt;? extends T&gt; collection, Function&lt;? super T, ? extends R&gt; mapper) {\r\n    Set&lt;R&gt; uniques = new HashSet&lt;&gt;();\r\n    return collection.stream()\r\n        .map(mapper)\r\n        .filter(e -&gt; !uniques.add(e))\r\n        .collect(toSet());\r\n  }\r\n```","title":"Identify duplicates in a List","body":"<p>Similar to some answers here, but if you want to find duplicates based on some property:</p>\n\n<pre><code>  public static &lt;T, R&gt; Set&lt;R&gt; findDuplicates(Collection&lt;? extends T&gt; collection, Function&lt;? super T, ? extends R&gt; mapper) {\n    Set&lt;R&gt; uniques = new HashSet&lt;&gt;();\n    return collection.stream()\n        .map(mapper)\n        .filter(e -&gt; !uniques.add(e))\n        .collect(toSet());\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2366172,"reputation":99,"user_id":2071814,"display_name":"Suman Mitra"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642529270,"creation_date":1642529270,"answer_id":70760396,"question_id":7414667,"body_markdown":"   \r\n    List.of(1, 1, 3, 4, 5, 5, 6).stream()\r\n       .collect(Collectors.collectingAndThen\r\n                     (Collectors.groupingBy(Function.identity()),\r\n                       map -&gt; map.entrySet()\r\n                                 .stream()\r\n                                 .filter(e -&gt; e.getValue().size() &gt; 1)\r\n                                 .map(Map.Entry::getKey)\r\n                                 .collect(Collectors.toList())));","title":"Identify duplicates in a List","body":"<pre><code>List.of(1, 1, 3, 4, 5, 5, 6).stream()\n   .collect(Collectors.collectingAndThen\n                 (Collectors.groupingBy(Function.identity()),\n                   map -&gt; map.entrySet()\n                             .stream()\n                             .filter(e -&gt; e.getValue().size() &gt; 1)\n                             .map(Map.Entry::getKey)\n                             .collect(Collectors.toList())));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18097230,"reputation":11,"user_id":13155366,"display_name":"crichton"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669839892,"creation_date":1669839892,"answer_id":74633747,"question_id":7414667,"body_markdown":"So, this is how I solved it. It may be a bit more overhead, but returns exactly what OP wanted:\r\n\r\n     public static List&lt;Something&gt; findDuplicatesInList(List&lt;Something&gt; somethingList) {\r\n\r\n        List&lt;Something&gt; temp = somethingList\r\n                .stream()\r\n                .filter(alpha -&gt; somethingList\r\n                                 .stream()\r\n                                 .filter(beta -&gt; beta.equals(alpha))\r\n                                 .count() &gt; 1)\r\n                .collect(Collectors.toList());\r\n\r\n        List&lt;Something&gt; duplicateSomethings = new ArrayList&lt;&gt;();\r\n\r\n        for(Something something: temp){\r\n            if(!duplicateSomethings.contains(something)){\r\n                duplicateSomethings.add(something);\r\n            }\r\n        }\r\n\r\n        return duplicateSomethings;\r\n    }\r\n\r\n","title":"Identify duplicates in a List","body":"<p>So, this is how I solved it. It may be a bit more overhead, but returns exactly what OP wanted:</p>\n<pre><code> public static List&lt;Something&gt; findDuplicatesInList(List&lt;Something&gt; somethingList) {\n\n    List&lt;Something&gt; temp = somethingList\n            .stream()\n            .filter(alpha -&gt; somethingList\n                             .stream()\n                             .filter(beta -&gt; beta.equals(alpha))\n                             .count() &gt; 1)\n            .collect(Collectors.toList());\n\n    List&lt;Something&gt; duplicateSomethings = new ArrayList&lt;&gt;();\n\n    for(Something something: temp){\n        if(!duplicateSomethings.contains(something)){\n            duplicateSomethings.add(something);\n        }\n    }\n\n    return duplicateSomethings;\n}\n</code></pre>\n"}],"owner":{"account_id":227971,"reputation":6221,"user_id":489978,"accept_rate":82,"display_name":"freshest"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":316099,"favorite_count":0,"down_vote_count":1,"up_vote_count":154,"accepted_answer_id":7414753,"answer_count":33,"score":153,"last_activity_date":1691485912,"creation_date":1315995581,"question_id":7414667,"body_markdown":"I have a List of type Integer eg:\r\n\r\n    [1, 1, 2, 3, 3, 3]\r\n\r\nI would like a method to return all the duplicates eg:\r\n\r\n    [1, 3]\r\n\r\nWhat is the best way to do this?","title":"Identify duplicates in a List","body":"<p>I have a List of type Integer eg:</p>\n\n<pre><code>[1, 1, 2, 3, 3, 3]\n</code></pre>\n\n<p>I would like a method to return all the duplicates eg:</p>\n\n<pre><code>[1, 3]\n</code></pre>\n\n<p>What is the best way to do this?</p>\n"},{"tags":["java","gradle","jooq"],"comments":[{"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"score":0,"creation_date":1691423955,"post_id":76853316,"comment_id":135486508,"body_markdown":"Have you tried [adding](https://stackoverflow.com/a/43346247/1762224) `compile &#39;org.slf4j:slf4j-simple:2.0.7`?","body":"Have you tried <a href=\"https://stackoverflow.com/a/43346247/1762224\">adding</a> <code>compile &#39;org.slf4j:slf4j-simple:2.0.7</code>?"},{"owner":{"account_id":12616725,"reputation":1228,"user_id":9614332,"display_name":"Stefano Bossi"},"score":0,"creation_date":1691425207,"post_id":76853316,"comment_id":135486729,"body_markdown":"I am using Gradle 7 and compile as far as I understood is now implementation. Anyway I have tried now with &quot;implementation &#39;org.slf4j:slf4j-simple:2.0.7&#39;&quot; but same error. thanks","body":"I am using Gradle 7 and compile as far as I understood is now implementation. Anyway I have tried now with &quot;implementation &#39;org.slf4j:slf4j-simple:2.0.7&#39;&quot; but same error. thanks"}],"answers":[{"tags":[],"owner":{"account_id":12616725,"reputation":1228,"user_id":9614332,"display_name":"Stefano Bossi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1691485549,"creation_date":1691485549,"answer_id":76858031,"question_id":76853316,"body_markdown":"I found the solution!!!\r\nAs indicating in the **EDIT** the problem is that in the `jooqGenerator` task `mariadb-java-client` would like to use `slf4j`. \r\nIn the dependencies an implementation of the `slf4j-api` interface is added but to the `implementation ` gradle task. \r\n\r\nAdding the `log4j-slf4j-impl` to the `jooqGenerator` task solve the problem.\r\n\r\n```\r\njooqGenerator group: &#39;org.apache.logging.log4j&#39;, name: &#39;log4j-slf4j-impl&#39;, version: &quot;${log4jVersion}&quot;\r\n```","title":"Jooq Gradle Plugin complain about missing slf4j StaticLoggerBinder","body":"<p>I found the solution!!!\nAs indicating in the <strong>EDIT</strong> the problem is that in the <code>jooqGenerator</code> task <code>mariadb-java-client</code> would like to use <code>slf4j</code>.\nIn the dependencies an implementation of the <code>slf4j-api</code> interface is added but to the <code>implementation </code> gradle task.</p>\n<p>Adding the <code>log4j-slf4j-impl</code> to the <code>jooqGenerator</code> task solve the problem.</p>\n<pre><code>jooqGenerator group: 'org.apache.logging.log4j', name: 'log4j-slf4j-impl', version: &quot;${log4jVersion}&quot;\n</code></pre>\n"}],"owner":{"account_id":12616725,"reputation":1228,"user_id":9614332,"display_name":"Stefano Bossi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76858031,"answer_count":1,"score":1,"last_activity_date":1691485549,"creation_date":1691423803,"question_id":76853316,"body_markdown":"I am using `nu.studer.jooq` Jooq Glradle plugin version 8.2.1 to generate code from a DB schema but in the Gradle output there&#39;s an error:\r\n\r\n```\r\n&gt; Task :hermes:generateMariaJooq\r\nSLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\r\nSLF4J: Defaulting to no-operation (NOP) logger implementation\r\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\r\n```\r\n\r\nI think I have the correct dependencies declared in my Gradle dependencies section:\r\n\r\n```\r\n    // Jooq\r\n    implementation group: &#39;org.jooq&#39;, name: &#39;jooq&#39;, version: &quot;${jooqVersion}&quot;\r\n    implementation group: &#39;org.jooq&#39;, name: &#39;jooq-meta&#39;, version: &quot;${jooqVersion}&quot;\r\n    implementation group: &#39;org.jooq&#39;, name: &#39;jooq-codegen&#39;, version: &quot;${jooqVersion}&quot;\r\n    implementation group: &#39;org.mariadb.jdbc&#39;, name: &#39;mariadb-java-client&#39;, version: &quot;${mariadbJavaClientVersion}&quot;\r\n    implementation group: &#39;com.h2database&#39;, name: &#39;h2&#39;, version: &quot;${h2Version}&quot;\r\n    jooqGenerator group: &#39;org.mariadb.jdbc&#39;, name: &#39;mariadb-java-client&#39;, version: &quot;${mariadbJavaClientVersion}&quot;\r\n    jooqGenerator group: &#39;com.h2database&#39;, name:&#39;h2&#39;,  version: &quot;${h2Version}&quot;\r\n    jooqGenerator group: &#39;org.jooq&#39;, name: &#39;jooq-meta-extensions&#39;, version: &quot;${jooqVersion}&quot;\r\n\r\n    // Logging\r\n    implementation group: &#39;org.apache.logging.log4j&#39;, name: &#39;log4j-api&#39;, version: &quot;${log4jVersion}&quot;\r\n    implementation group: &#39;org.apache.logging.log4j&#39;, name: &#39;log4j-core&#39;, version: &quot;${log4jVersion}&quot;\r\n    implementation group: &#39;org.apache.logging.log4j&#39;, name: &#39;log4j-slf4j-impl&#39;, version: &quot;${log4jVersion}&quot;\r\n```\r\n\r\nSo I didn&#39;t understand how to provide to jooq gradle plugin the implementation of the SLF4J facade.\r\n\r\nI have tried to change the implementation libraries but without any success\r\n\r\n**EDIT**\r\n\r\nRunning the gradle task with --info I spotted out the command line: \r\n\r\n```\r\n/opt/homebrew/Cellar/openjdk@17/17.0.8/libexec/openjdk.jdk/Contents/Home/bin/java -Dfile.encoding=UTF-8 -Duser.country=IT -Duser.language=en -Duser.variant -cp /Users/fox/.gradle/caches/modules-2/files-2.1/org.jooq/jooq-codegen/3.18.5/a631ba62a8f54e94e8540817e50aa29e56b1df9e/jooq-codegen-3.18.5.jar:/Users/fox/.gradle/caches/modules-2/files-2.1/org.mariadb.jdbc/mariadb-java-client/3.1.4/7f66d1f5afcacdb11ba34d2614933a206afbcff2/mariadb-java-client-3.1.4.jar:/Users/fox/.gradle/caches/modules-2/files-2.1/org.jooq/jooq-meta-extensions/3.18.5/92400bdf55a46f6425d5c5165777293920159447/jooq-meta-extensions-3.18.5.jar:/Users/fox/.gradle/caches/modules-2/files-2.1/com.h2database/h2/2.1.214/d5c2005c9e3279201e12d4776c948578b16bf8b2/h2-2.1.214.jar:/Users/fox/.gradle/caches/modules-2/files-2.1/org.jooq/jooq-meta/3.18.5/864745a8374280ec33af60c879da22277c4b97d0/jooq-meta-3.18.5.jar:/Users/fox/.gradle/caches/modules-2/files-2.1/org.jooq/jooq/3.18.5/de5d61b0cd7cb1e6e3d9a34fe4b4c1acc0bf42f4/jooq-3.18.5.jar:/Users/fox/.gradle/caches/modules-2/files-2.1/com.github.waffle/waffle-jna/3.2.0/6ac5882dea3a15575237ef5d1793c51279ae1335/waffle-jna-3.2.0.jar:/Users/fox/.gradle/caches/modules-2/files-2.1/io.r2dbc/r2dbc-spi/1.0.0.RELEASE/e3d15b2d27fdb8fdb76a181b21d5c752adf1d165/r2dbc-spi-1.0.0.RELEASE.jar:/Users/fox/.gradle/caches/modules-2/files-2.1/jakarta.xml.bind/jakarta.xml.bind-api/3.0.0/9275db6e21287df61690989254a0b46d8d31e99a/jakarta.xml.bind-api-3.0.0.jar:/Users/fox/.gradle/caches/modules-2/files-2.1/net.java.dev.jna/jna-platform/5.12.1/97406a297c852f4a41e688a176ec675f72e8329/jna-platform-5.12.1.jar:/Users/fox/.gradle/caches/modules-2/files-2.1/net.java.dev.jna/jna/5.12.1/b1e93a735caea94f503e95e6fe79bf9cdc1e985d/jna-5.12.1.jar:/Users/fox/.gradle/caches/modules-2/files-2.1/org.slf4j/jcl-over-slf4j/1.7.36/d877e195a05aca4a2f1ad2ff14bfec1393af4b5e/jcl-over-slf4j-1.7.36.jar:/Users/fox/.gradle/caches/modules-2/files-2.1/org.slf4j/slf4j-api/1.7.36/6c62681a2f655b49963a5983b8b0950a6120ae14/slf4j-api-1.7.36.jar:/Users/fox/.gradle/caches/modules-2/files-2.1/com.github.ben-manes.caffeine/caffeine/2.9.3/b162491f768824d21487551873f9b3b374a7fe19/caffeine-2.9.3.jar:/Users/fox/.gradle/caches/modules-2/files-2.1/org.checkerframework/checker-qual/3.23.0/2ce274da87ae21d940ded7b827d9069206ea3001/checker-qual-3.23.0.jar:/Users/fox/.gradle/caches/modules-2/files-2.1/org.reactivestreams/reactive-streams/1.0.3/d9fb7a7926ffa635b3dcaa5049fb2bfa25b3e7d0/reactive-streams-1.0.3.jar:/Users/fox/.gradle/caches/modules-2/files-2.1/com.sun.activation/jakarta.activation/2.0.0/f4e7519148dee347c7666f336210deedb8aca09d/jakarta.activation-2.0.0.jar:/Users/fox/.gradle/caches/modules-2/files-2.1/com.google.errorprone/error_prone_annotations/2.10.0/9bc20b94d3ac42489cf6ce1e42509c86f6f861a1/error_prone_annotations-2.10.0.jar org.jooq.codegen.GenerationTool /Users/fox/Documents/workspace/plcProject/hermes/build/tmp/generateMariaJooq/config.xml\r\n```\r\n\r\nThere&#39;s no implementation of `slf4j` so the real question became: how could tell gradle jooq plugin to add the slf4j implementation jar? \r\n\r\n** EDIT **\r\nAsking to gradle the dependencies I found out:\r\n```\r\njooqGenerator - The classpath used to invoke the jOOQ code generator. Add your JDBC driver, generator extensions, and additional dependencies here.\r\n+--- org.jooq:jooq-codegen -&gt; 3.18.5\r\n|    +--- org.jooq:jooq:3.18.5\r\n|    |    \\--- io.r2dbc:r2dbc-spi:1.0.0.RELEASE\r\n|    |         \\--- org.reactivestreams:reactive-streams:1.0.3\r\n|    \\--- org.jooq:jooq-meta:3.18.5\r\n|         +--- org.jooq:jooq:3.18.5 (*)\r\n|         \\--- jakarta.xml.bind:jakarta.xml.bind-api:3.0.0\r\n|              \\--- com.sun.activation:jakarta.activation:2.0.0\r\n+--- org.mariadb.jdbc:mariadb-java-client:3.1.4\r\n|    \\--- com.github.waffle:waffle-jna:3.2.0\r\n|         +--- net.java.dev.jna:jna:5.12.1\r\n|         +--- net.java.dev.jna:jna-platform:5.12.1\r\n|         |    \\--- net.java.dev.jna:jna:5.12.1\r\n|         +--- org.slf4j:jcl-over-slf4j:1.7.36\r\n|         |    \\--- org.slf4j:slf4j-api:1.7.36\r\n|         +--- org.slf4j:slf4j-api:1.7.36\r\n|         +--- com.github.ben-manes.caffeine:caffeine:2.9.3\r\n|         |    +--- org.checkerframework:checker-qual:3.19.0 -&gt; 3.23.0\r\n|         |    \\--- com.google.errorprone:error_prone_annotations:2.10.0\r\n|         \\--- org.checkerframework:checker-qual:3.23.0\r\n+--- com.h2database:h2:2.1.214\r\n\\--- org.jooq:jooq-meta-extensions:3.18.5\r\n     +--- org.jooq:jooq-meta:3.18.5 (*)\r\n     \\--- com.h2database:h2:2.1.214\r\n```\r\nIt&#39;s the `mariadb-java-client` which would like to use slf4j !!!","title":"Jooq Gradle Plugin complain about missing slf4j StaticLoggerBinder","body":"<p>I am using <code>nu.studer.jooq</code> Jooq Glradle plugin version 8.2.1 to generate code from a DB schema but in the Gradle output there's an error:</p>\n<pre><code>&gt; Task :hermes:generateMariaJooq\nSLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\n</code></pre>\n<p>I think I have the correct dependencies declared in my Gradle dependencies section:</p>\n<pre><code>    // Jooq\n    implementation group: 'org.jooq', name: 'jooq', version: &quot;${jooqVersion}&quot;\n    implementation group: 'org.jooq', name: 'jooq-meta', version: &quot;${jooqVersion}&quot;\n    implementation group: 'org.jooq', name: 'jooq-codegen', version: &quot;${jooqVersion}&quot;\n    implementation group: 'org.mariadb.jdbc', name: 'mariadb-java-client', version: &quot;${mariadbJavaClientVersion}&quot;\n    implementation group: 'com.h2database', name: 'h2', version: &quot;${h2Version}&quot;\n    jooqGenerator group: 'org.mariadb.jdbc', name: 'mariadb-java-client', version: &quot;${mariadbJavaClientVersion}&quot;\n    jooqGenerator group: 'com.h2database', name:'h2',  version: &quot;${h2Version}&quot;\n    jooqGenerator group: 'org.jooq', name: 'jooq-meta-extensions', version: &quot;${jooqVersion}&quot;\n\n    // Logging\n    implementation group: 'org.apache.logging.log4j', name: 'log4j-api', version: &quot;${log4jVersion}&quot;\n    implementation group: 'org.apache.logging.log4j', name: 'log4j-core', version: &quot;${log4jVersion}&quot;\n    implementation group: 'org.apache.logging.log4j', name: 'log4j-slf4j-impl', version: &quot;${log4jVersion}&quot;\n</code></pre>\n<p>So I didn't understand how to provide to jooq gradle plugin the implementation of the SLF4J facade.</p>\n<p>I have tried to change the implementation libraries but without any success</p>\n<p><strong>EDIT</strong></p>\n<p>Running the gradle task with --info I spotted out the command line:</p>\n<pre><code>/opt/homebrew/Cellar/openjdk@17/17.0.8/libexec/openjdk.jdk/Contents/Home/bin/java -Dfile.encoding=UTF-8 -Duser.country=IT -Duser.language=en -Duser.variant -cp /Users/fox/.gradle/caches/modules-2/files-2.1/org.jooq/jooq-codegen/3.18.5/a631ba62a8f54e94e8540817e50aa29e56b1df9e/jooq-codegen-3.18.5.jar:/Users/fox/.gradle/caches/modules-2/files-2.1/org.mariadb.jdbc/mariadb-java-client/3.1.4/7f66d1f5afcacdb11ba34d2614933a206afbcff2/mariadb-java-client-3.1.4.jar:/Users/fox/.gradle/caches/modules-2/files-2.1/org.jooq/jooq-meta-extensions/3.18.5/92400bdf55a46f6425d5c5165777293920159447/jooq-meta-extensions-3.18.5.jar:/Users/fox/.gradle/caches/modules-2/files-2.1/com.h2database/h2/2.1.214/d5c2005c9e3279201e12d4776c948578b16bf8b2/h2-2.1.214.jar:/Users/fox/.gradle/caches/modules-2/files-2.1/org.jooq/jooq-meta/3.18.5/864745a8374280ec33af60c879da22277c4b97d0/jooq-meta-3.18.5.jar:/Users/fox/.gradle/caches/modules-2/files-2.1/org.jooq/jooq/3.18.5/de5d61b0cd7cb1e6e3d9a34fe4b4c1acc0bf42f4/jooq-3.18.5.jar:/Users/fox/.gradle/caches/modules-2/files-2.1/com.github.waffle/waffle-jna/3.2.0/6ac5882dea3a15575237ef5d1793c51279ae1335/waffle-jna-3.2.0.jar:/Users/fox/.gradle/caches/modules-2/files-2.1/io.r2dbc/r2dbc-spi/1.0.0.RELEASE/e3d15b2d27fdb8fdb76a181b21d5c752adf1d165/r2dbc-spi-1.0.0.RELEASE.jar:/Users/fox/.gradle/caches/modules-2/files-2.1/jakarta.xml.bind/jakarta.xml.bind-api/3.0.0/9275db6e21287df61690989254a0b46d8d31e99a/jakarta.xml.bind-api-3.0.0.jar:/Users/fox/.gradle/caches/modules-2/files-2.1/net.java.dev.jna/jna-platform/5.12.1/97406a297c852f4a41e688a176ec675f72e8329/jna-platform-5.12.1.jar:/Users/fox/.gradle/caches/modules-2/files-2.1/net.java.dev.jna/jna/5.12.1/b1e93a735caea94f503e95e6fe79bf9cdc1e985d/jna-5.12.1.jar:/Users/fox/.gradle/caches/modules-2/files-2.1/org.slf4j/jcl-over-slf4j/1.7.36/d877e195a05aca4a2f1ad2ff14bfec1393af4b5e/jcl-over-slf4j-1.7.36.jar:/Users/fox/.gradle/caches/modules-2/files-2.1/org.slf4j/slf4j-api/1.7.36/6c62681a2f655b49963a5983b8b0950a6120ae14/slf4j-api-1.7.36.jar:/Users/fox/.gradle/caches/modules-2/files-2.1/com.github.ben-manes.caffeine/caffeine/2.9.3/b162491f768824d21487551873f9b3b374a7fe19/caffeine-2.9.3.jar:/Users/fox/.gradle/caches/modules-2/files-2.1/org.checkerframework/checker-qual/3.23.0/2ce274da87ae21d940ded7b827d9069206ea3001/checker-qual-3.23.0.jar:/Users/fox/.gradle/caches/modules-2/files-2.1/org.reactivestreams/reactive-streams/1.0.3/d9fb7a7926ffa635b3dcaa5049fb2bfa25b3e7d0/reactive-streams-1.0.3.jar:/Users/fox/.gradle/caches/modules-2/files-2.1/com.sun.activation/jakarta.activation/2.0.0/f4e7519148dee347c7666f336210deedb8aca09d/jakarta.activation-2.0.0.jar:/Users/fox/.gradle/caches/modules-2/files-2.1/com.google.errorprone/error_prone_annotations/2.10.0/9bc20b94d3ac42489cf6ce1e42509c86f6f861a1/error_prone_annotations-2.10.0.jar org.jooq.codegen.GenerationTool /Users/fox/Documents/workspace/plcProject/hermes/build/tmp/generateMariaJooq/config.xml\n</code></pre>\n<p>There's no implementation of <code>slf4j</code> so the real question became: how could tell gradle jooq plugin to add the slf4j implementation jar?</p>\n<p>** EDIT **\nAsking to gradle the dependencies I found out:</p>\n<pre><code>jooqGenerator - The classpath used to invoke the jOOQ code generator. Add your JDBC driver, generator extensions, and additional dependencies here.\n+--- org.jooq:jooq-codegen -&gt; 3.18.5\n|    +--- org.jooq:jooq:3.18.5\n|    |    \\--- io.r2dbc:r2dbc-spi:1.0.0.RELEASE\n|    |         \\--- org.reactivestreams:reactive-streams:1.0.3\n|    \\--- org.jooq:jooq-meta:3.18.5\n|         +--- org.jooq:jooq:3.18.5 (*)\n|         \\--- jakarta.xml.bind:jakarta.xml.bind-api:3.0.0\n|              \\--- com.sun.activation:jakarta.activation:2.0.0\n+--- org.mariadb.jdbc:mariadb-java-client:3.1.4\n|    \\--- com.github.waffle:waffle-jna:3.2.0\n|         +--- net.java.dev.jna:jna:5.12.1\n|         +--- net.java.dev.jna:jna-platform:5.12.1\n|         |    \\--- net.java.dev.jna:jna:5.12.1\n|         +--- org.slf4j:jcl-over-slf4j:1.7.36\n|         |    \\--- org.slf4j:slf4j-api:1.7.36\n|         +--- org.slf4j:slf4j-api:1.7.36\n|         +--- com.github.ben-manes.caffeine:caffeine:2.9.3\n|         |    +--- org.checkerframework:checker-qual:3.19.0 -&gt; 3.23.0\n|         |    \\--- com.google.errorprone:error_prone_annotations:2.10.0\n|         \\--- org.checkerframework:checker-qual:3.23.0\n+--- com.h2database:h2:2.1.214\n\\--- org.jooq:jooq-meta-extensions:3.18.5\n     +--- org.jooq:jooq-meta:3.18.5 (*)\n     \\--- com.h2database:h2:2.1.214\n</code></pre>\n<p>It's the <code>mariadb-java-client</code> which would like to use slf4j !!!</p>\n"},{"tags":["java","email","intellij-idea","smtp"],"answers":[{"comments":[{"owner":{"account_id":20756256,"reputation":57,"user_id":15242627,"display_name":"Jimmy665566"},"score":0,"creation_date":1615307962,"post_id":66550590,"comment_id":117648397,"body_markdown":"Hi Doug, i know there&#39;s comments out there telling me to not write my own SMTP Server but for the assignment i&#39;ve been assigned, i am required to create my own SMTP server","body":"Hi Doug, i know there&#39;s comments out there telling me to not write my own SMTP Server but for the assignment i&#39;ve been assigned, i am required to create my own SMTP server"}],"tags":[],"owner":{"account_id":19680544,"reputation":486,"user_id":14407764,"display_name":"Doug Forrest"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1615306259,"creation_date":1615306259,"answer_id":66550590,"question_id":66549923,"body_markdown":"Don&#39;t write your own SMTP Server. There are many out there that have way more features than you will want to spend your time implementing. I use this one:\r\n\r\nhttps://github.com/gessnerfl/fake-smtp-server\r\n\r\nIt has an html interface that will allow you to view the emails that it receives.","title":"How do I host my own SMTP Server using Java","body":"<p>Don't write your own SMTP Server. There are many out there that have way more features than you will want to spend your time implementing. I use this one:</p>\n<p><a href=\"https://github.com/gessnerfl/fake-smtp-server\" rel=\"nofollow noreferrer\">https://github.com/gessnerfl/fake-smtp-server</a></p>\n<p>It has an html interface that will allow you to view the emails that it receives.</p>\n"}],"owner":{"account_id":20756256,"reputation":57,"user_id":15242627,"display_name":"Jimmy665566"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2488,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":66550590,"answer_count":1,"score":1,"last_activity_date":1691485413,"creation_date":1615303929,"question_id":66549923,"body_markdown":"So i want to test my own Email Client to test sending mock emails to mock addresses on my own computer but I&#39;m struggling on how to implement the SMTP Server code into my own. \r\n\r\nSo far, i&#39;ve got it so when i run the Server and i run the client, both of them can connect together on my IP, but now i&#39;m struggling on implementing the email part in the server for the Client to communicate to. \r\n\r\nThe final output for the whole project should look a little something like this:\r\n\r\n```\r\nS: 220 [my ip]\r\nC: HELLO [my ip]\r\nS: 250 Hello email1@email1.com, pleased to meet you\r\nC: MAIL FROM: &lt;email1@email1.com&gt;\r\nS: 250 ok\r\nC: RCPT TO: &lt;email2@email2.com&gt;\r\nS: 250 ok\r\nC: DATA\r\nS: 354 End data with &lt;CR&gt;&lt;LF&gt;.&lt;CR&gt;&lt;LF&gt;\r\nC: Hello ,\r\nC: How are you today?\r\nC: .\r\nS: 250 ok Message accepted for delivery\r\nC: QUIT\r\nS: 221 [my ip] closing connection\r\n```\r\n\r\nWhen i use something like google&#39;s smtp server `smtp.google.com` in my client code, i can achieve this output, but i want to test it with my own server. I just don&#39;t know how to implement the smtp server code into my own code.\r\n\r\nHere&#39;s the server code:\r\n```\r\nimport java.io.BufferedReader;\r\nimport java.io.InputStreamReader;\r\nimport java.net.InetAddress;\r\nimport java.net.ServerSocket;\r\nimport java.net.Socket;\r\n\r\npublic class TCPServer{\r\n    private ServerSocket server;\r\n\r\n    /**\r\n     * The TCPServer constructor initiate the socket\r\n     * @param ipAddress\r\n     * @param port\r\n     * @throws Exception\r\n     */\r\n    public TCPServer(String ipAddress, int port) throws Exception {\r\n        if (ipAddress != null &amp;&amp; !ipAddress.isEmpty())\r\n            this.server = new ServerSocket(port, 1, InetAddress.getByName(ipAddress));\r\n        else\r\n            this.server = new ServerSocket(0, 1, InetAddress.getLocalHost());\r\n    }\r\n\r\n    /**\r\n     * The listen method listen to incoming client&#39;s datagrams and requests\r\n     * @throws Exception\r\n     */\r\n\r\n    private void listen() throws Exception {\r\n        // listen to incoming client&#39;s requests via the ServerSocket\r\n        //add your code here\r\n        String data = null;\r\n        Socket client = this.server.accept();\r\n        String clientAddress = client.getInetAddress().getHostAddress();\r\n        System.out.println(&quot;\\r\\nNew client connection from &quot; + clientAddress);\r\n\r\n        // print received datagrams from client\r\n        //add your code here\r\n        BufferedReader in = new BufferedReader(new InputStreamReader(client.getInputStream()));\r\n        while ( (data = in.readLine()) != null ) {\r\n            System.out.println(&quot;\\r\\nMessage from &quot; + clientAddress + &quot;: &quot; + data);\r\n            client.sendUrgentData(1);\r\n        }\r\n\r\n\r\n\r\n    }\r\n\r\n    public InetAddress getSocketAddress() {\r\n        return this.server.getInetAddress();\r\n    }\r\n\r\n    public int getPort() {\r\n        return this.server.getLocalPort();\r\n    }\r\n\r\n\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        // set the server address (IP) and port number\r\n        //add your code here\r\n        String serverIP = &quot;192.168.1.235&quot;; // local IP address\r\n        int port = 8088;\r\n\r\n        if (args.length &gt; 0) {\r\n            serverIP = args[0];\r\n            port = Integer.parseInt(args[1]);\r\n        }\r\n        // call the constructor and pass the IP and port\r\n        //add your code here\r\n        TCPServer server = new TCPServer(serverIP, port);\r\n        System.out.println(&quot;\\r\\nRunning Server: &quot; +\r\n                &quot;Host=&quot; + server.getSocketAddress().getHostAddress() +\r\n                &quot; Port=&quot; + server.getPort());\r\n        server.listen();\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\nAnd here&#39;s my client code:\r\n```\r\n\r\nimport java.io.*;\r\nimport java.net.InetAddress;\r\nimport java.net.Socket;\r\nimport java.util.Scanner;\r\n\r\npublic class ClientTester{\r\n    private Socket tcpSocket;\r\n    private InetAddress serverAddress;\r\n    private int serverPort;\r\n    private Scanner scanner;\r\n\r\n    /**\r\n     * @param serverAddress\r\n     * @param serverPort\r\n     * @throws Exception\r\n     */\r\n    private ClientTester(InetAddress serverAddress, int serverPort) throws Exception {\r\n        this.serverAddress = serverAddress;\r\n        this.serverPort = serverPort;\r\n\r\n        //Initiate the connection with the server using Socket.\r\n        //For this, creates a stream socket and connects it to the specified port number at the specified IP address.\r\n        //add your code here\r\n        this.tcpSocket = new Socket(this.serverAddress, this.serverPort);\r\n        this.scanner = new Scanner(System.in);\r\n    }\r\n\r\n    /**\r\n     * The start method connect to the server and datagrams\r\n     * @throws IOException\r\n     */\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        // set the server address (IP) and port number\r\n        //add your code here\r\n        //IP: 192.168.1.235\r\n        //Port: 8088\r\n        InetAddress serverIP = InetAddress.getByName(&quot;192.168.1.235&quot;); // local IP address\r\n        int port = 8088;\r\n        if (args.length &gt; 0) {\r\n            serverIP = InetAddress.getByName(args[0]);\r\n            port = Integer.parseInt(args[1]);\r\n        }\r\n\r\n        // call the constructor and pass the IP and port\r\n        //add your code here\r\n        ClientTester client = new ClientTester(serverIP, port);\r\n\r\n\r\n\r\n        try{\r\n\r\n            client = new ClientTester(serverIP, port);\r\n\r\n            System.out.println(&quot;\\r\\n Connected to Server: &quot; + client.tcpSocket.getInetAddress());\r\n\r\n            BufferedReader stdin;\r\n            stdin = new BufferedReader (new InputStreamReader (System.in));\r\n\r\n            InputStream is = client.tcpSocket.getInputStream ();\r\n            BufferedReader sockin;\r\n            sockin = new BufferedReader (new InputStreamReader (is));\r\n\r\n            OutputStream os = client.tcpSocket.getOutputStream();\r\n            PrintWriter sockout;\r\n            sockout = new PrintWriter (os, true);\r\n\r\n            System.out.println (&quot;S:&quot; + sockin.readLine ());\r\n\r\n            while (true){\r\n                System.out.print (&quot;C:&quot;);\r\n\r\n                String cmd = stdin.readLine ();\r\n\r\n                sockout.println (cmd);\r\n\r\n                String reply = sockin.readLine ();\r\n\r\n                System.out.println (&quot;S:&quot; + reply);\r\n                if (cmd.toLowerCase ().startsWith (&quot;data&quot;) &amp;&amp;\r\n                        reply.substring (0, 3).equals (&quot;354&quot;))\r\n                {\r\n                    do\r\n                    {\r\n                        cmd = stdin.readLine ();\r\n\r\n                        if (cmd != null &amp;&amp; cmd.length () &gt; 1 &amp;&amp;\r\n                                cmd.charAt (0) == &#39;.&#39;)\r\n                            cmd = &quot;.&quot;; // Must be no chars after . char.\r\n\r\n                        sockout.println (cmd);\r\n\r\n                        if (cmd.equals (&quot;.&quot;))\r\n                            break;\r\n                    }\r\n                    while (true);\r\n\r\n                    // Read a reply string from the SMTP server program.\r\n\r\n                    reply = sockin.readLine ();\r\n\r\n                    // Display the first line of this reply string.\r\n\r\n                    System.out.println (&quot;S:&quot; + reply);\r\n\r\n                    continue;\r\n                }\r\n\r\n                // If the QUIT command was entered, quit.\r\n\r\n                if (cmd.toLowerCase ().startsWith (&quot;quit&quot;))\r\n                    break;\r\n            }\r\n        }\r\n        catch (IOException e)\r\n        {\r\n            System.out.println (e.toString ());\r\n        }\r\n        finally\r\n        {\r\n            try\r\n            {\r\n                // Attempt to close the client socket.\r\n\r\n                if (client != null)\r\n                    client.tcpSocket.close();\r\n            }\r\n            catch (IOException e)\r\n            {\r\n            }\r\n            }\r\n    }\r\n}\r\n```\r\n\r\nHopefully this made some sense on what i want achieved\r\n\r\n","title":"How do I host my own SMTP Server using Java","body":"<p>So i want to test my own Email Client to test sending mock emails to mock addresses on my own computer but I'm struggling on how to implement the SMTP Server code into my own.</p>\n<p>So far, i've got it so when i run the Server and i run the client, both of them can connect together on my IP, but now i'm struggling on implementing the email part in the server for the Client to communicate to.</p>\n<p>The final output for the whole project should look a little something like this:</p>\n<pre><code>S: 220 [my ip]\nC: HELLO [my ip]\nS: 250 Hello email1@email1.com, pleased to meet you\nC: MAIL FROM: &lt;email1@email1.com&gt;\nS: 250 ok\nC: RCPT TO: &lt;email2@email2.com&gt;\nS: 250 ok\nC: DATA\nS: 354 End data with &lt;CR&gt;&lt;LF&gt;.&lt;CR&gt;&lt;LF&gt;\nC: Hello ,\nC: How are you today?\nC: .\nS: 250 ok Message accepted for delivery\nC: QUIT\nS: 221 [my ip] closing connection\n</code></pre>\n<p>When i use something like google's smtp server <code>smtp.google.com</code> in my client code, i can achieve this output, but i want to test it with my own server. I just don't know how to implement the smtp server code into my own code.</p>\n<p>Here's the server code:</p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.InputStreamReader;\nimport java.net.InetAddress;\nimport java.net.ServerSocket;\nimport java.net.Socket;\n\npublic class TCPServer{\n    private ServerSocket server;\n\n    /**\n     * The TCPServer constructor initiate the socket\n     * @param ipAddress\n     * @param port\n     * @throws Exception\n     */\n    public TCPServer(String ipAddress, int port) throws Exception {\n        if (ipAddress != null &amp;&amp; !ipAddress.isEmpty())\n            this.server = new ServerSocket(port, 1, InetAddress.getByName(ipAddress));\n        else\n            this.server = new ServerSocket(0, 1, InetAddress.getLocalHost());\n    }\n\n    /**\n     * The listen method listen to incoming client's datagrams and requests\n     * @throws Exception\n     */\n\n    private void listen() throws Exception {\n        // listen to incoming client's requests via the ServerSocket\n        //add your code here\n        String data = null;\n        Socket client = this.server.accept();\n        String clientAddress = client.getInetAddress().getHostAddress();\n        System.out.println(&quot;\\r\\nNew client connection from &quot; + clientAddress);\n\n        // print received datagrams from client\n        //add your code here\n        BufferedReader in = new BufferedReader(new InputStreamReader(client.getInputStream()));\n        while ( (data = in.readLine()) != null ) {\n            System.out.println(&quot;\\r\\nMessage from &quot; + clientAddress + &quot;: &quot; + data);\n            client.sendUrgentData(1);\n        }\n\n\n\n    }\n\n    public InetAddress getSocketAddress() {\n        return this.server.getInetAddress();\n    }\n\n    public int getPort() {\n        return this.server.getLocalPort();\n    }\n\n\n\n    public static void main(String[] args) throws Exception {\n        // set the server address (IP) and port number\n        //add your code here\n        String serverIP = &quot;192.168.1.235&quot;; // local IP address\n        int port = 8088;\n\n        if (args.length &gt; 0) {\n            serverIP = args[0];\n            port = Integer.parseInt(args[1]);\n        }\n        // call the constructor and pass the IP and port\n        //add your code here\n        TCPServer server = new TCPServer(serverIP, port);\n        System.out.println(&quot;\\r\\nRunning Server: &quot; +\n                &quot;Host=&quot; + server.getSocketAddress().getHostAddress() +\n                &quot; Port=&quot; + server.getPort());\n        server.listen();\n\n    }\n\n}\n</code></pre>\n<p>And here's my client code:</p>\n<pre><code>\nimport java.io.*;\nimport java.net.InetAddress;\nimport java.net.Socket;\nimport java.util.Scanner;\n\npublic class ClientTester{\n    private Socket tcpSocket;\n    private InetAddress serverAddress;\n    private int serverPort;\n    private Scanner scanner;\n\n    /**\n     * @param serverAddress\n     * @param serverPort\n     * @throws Exception\n     */\n    private ClientTester(InetAddress serverAddress, int serverPort) throws Exception {\n        this.serverAddress = serverAddress;\n        this.serverPort = serverPort;\n\n        //Initiate the connection with the server using Socket.\n        //For this, creates a stream socket and connects it to the specified port number at the specified IP address.\n        //add your code here\n        this.tcpSocket = new Socket(this.serverAddress, this.serverPort);\n        this.scanner = new Scanner(System.in);\n    }\n\n    /**\n     * The start method connect to the server and datagrams\n     * @throws IOException\n     */\n\n    public static void main(String[] args) throws Exception {\n        // set the server address (IP) and port number\n        //add your code here\n        //IP: 192.168.1.235\n        //Port: 8088\n        InetAddress serverIP = InetAddress.getByName(&quot;192.168.1.235&quot;); // local IP address\n        int port = 8088;\n        if (args.length &gt; 0) {\n            serverIP = InetAddress.getByName(args[0]);\n            port = Integer.parseInt(args[1]);\n        }\n\n        // call the constructor and pass the IP and port\n        //add your code here\n        ClientTester client = new ClientTester(serverIP, port);\n\n\n\n        try{\n\n            client = new ClientTester(serverIP, port);\n\n            System.out.println(&quot;\\r\\n Connected to Server: &quot; + client.tcpSocket.getInetAddress());\n\n            BufferedReader stdin;\n            stdin = new BufferedReader (new InputStreamReader (System.in));\n\n            InputStream is = client.tcpSocket.getInputStream ();\n            BufferedReader sockin;\n            sockin = new BufferedReader (new InputStreamReader (is));\n\n            OutputStream os = client.tcpSocket.getOutputStream();\n            PrintWriter sockout;\n            sockout = new PrintWriter (os, true);\n\n            System.out.println (&quot;S:&quot; + sockin.readLine ());\n\n            while (true){\n                System.out.print (&quot;C:&quot;);\n\n                String cmd = stdin.readLine ();\n\n                sockout.println (cmd);\n\n                String reply = sockin.readLine ();\n\n                System.out.println (&quot;S:&quot; + reply);\n                if (cmd.toLowerCase ().startsWith (&quot;data&quot;) &amp;&amp;\n                        reply.substring (0, 3).equals (&quot;354&quot;))\n                {\n                    do\n                    {\n                        cmd = stdin.readLine ();\n\n                        if (cmd != null &amp;&amp; cmd.length () &gt; 1 &amp;&amp;\n                                cmd.charAt (0) == '.')\n                            cmd = &quot;.&quot;; // Must be no chars after . char.\n\n                        sockout.println (cmd);\n\n                        if (cmd.equals (&quot;.&quot;))\n                            break;\n                    }\n                    while (true);\n\n                    // Read a reply string from the SMTP server program.\n\n                    reply = sockin.readLine ();\n\n                    // Display the first line of this reply string.\n\n                    System.out.println (&quot;S:&quot; + reply);\n\n                    continue;\n                }\n\n                // If the QUIT command was entered, quit.\n\n                if (cmd.toLowerCase ().startsWith (&quot;quit&quot;))\n                    break;\n            }\n        }\n        catch (IOException e)\n        {\n            System.out.println (e.toString ());\n        }\n        finally\n        {\n            try\n            {\n                // Attempt to close the client socket.\n\n                if (client != null)\n                    client.tcpSocket.close();\n            }\n            catch (IOException e)\n            {\n            }\n            }\n    }\n}\n</code></pre>\n<p>Hopefully this made some sense on what i want achieved</p>\n"},{"tags":["java","json","spring","maven","swagger"],"comments":[{"owner":{"account_id":19067635,"reputation":1,"user_id":13922456,"display_name":"Tara"},"score":0,"creation_date":1692699224,"post_id":76857955,"comment_id":135656513,"body_markdown":"Any update? https://stackoverflow.com/questions/76857955/swagger-maven-plugin-generated-json-file-doesnt-match-http-localhost8080-v3","body":"Any update? <a href=\"https://stackoverflow.com/questions/76857955/swagger-maven-plugin-generated-json-file-doesnt-match-http-localhost8080-v3\" title=\"swagger maven plugin generated json file doesnt match http localhost8080 v3\">stackoverflow.com/questions/76857955/&hellip;</a>"}],"owner":{"account_id":25613998,"reputation":43,"user_id":19386910,"display_name":"kp1234"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691484992,"creation_date":1691484992,"question_id":76857955,"body_markdown":"I&#39;m using swagger-maven-plugin in my pom.xml file as follows\r\n```\r\n &lt;plugin&gt;\r\n &lt;groupId&gt;com.github.kongchen&lt;/groupId&gt;\r\n &lt;artifactId&gt;swagger-maven-plugin&lt;/artifactId&gt;\r\n &lt;version&gt;3.1.8&lt;/version&gt;\r\n .....\r\n &lt;/plugin&gt;\r\n```\r\nIt does generate a swagger.json file but it is of the form\r\n```\r\n{\r\n  &quot;swagger&quot; : &quot;2.0&quot;,\r\n  &quot;info&quot; : {\r\n    &quot;description&quot; : .......,\r\n  ......\r\n}\r\n```\r\nHowever, the json file generated at http://localhost:8080/v3/api-docs with swaggerUI is of the form \r\n```\r\n{\r\n  &quot;openapi&quot;:&quot;3.0.1&quot;,&quot;info&quot;:{&quot;title&quot;:&quot;OpenAPI definition&quot;,......\r\n   ....\r\n}\r\n```\r\n\r\nMoreover, the swagger.json file generated with the plugin completely ignores the path parameters defined in Spring annotations and therefore doesn&#39;t generate the right output file. How do I make sure that the generated swagger.json file matches the json file at http://localhost:8080/v3/api-docs and doesn&#39;t ignore the parameters? Also why does it use Swagger 2 format even when version specified is 3.1.8?","title":"swagger-maven-plugin generated json file doesn&#39;t match &quot;http://localhost:8080/v3/api-docs&quot; json file","body":"<p>I'm using swagger-maven-plugin in my pom.xml file as follows</p>\n<pre><code> &lt;plugin&gt;\n &lt;groupId&gt;com.github.kongchen&lt;/groupId&gt;\n &lt;artifactId&gt;swagger-maven-plugin&lt;/artifactId&gt;\n &lt;version&gt;3.1.8&lt;/version&gt;\n .....\n &lt;/plugin&gt;\n</code></pre>\n<p>It does generate a swagger.json file but it is of the form</p>\n<pre><code>{\n  &quot;swagger&quot; : &quot;2.0&quot;,\n  &quot;info&quot; : {\n    &quot;description&quot; : .......,\n  ......\n}\n</code></pre>\n<p>However, the json file generated at http://localhost:8080/v3/api-docs with swaggerUI is of the form</p>\n<pre><code>{\n  &quot;openapi&quot;:&quot;3.0.1&quot;,&quot;info&quot;:{&quot;title&quot;:&quot;OpenAPI definition&quot;,......\n   ....\n}\n</code></pre>\n<p>Moreover, the swagger.json file generated with the plugin completely ignores the path parameters defined in Spring annotations and therefore doesn't generate the right output file. How do I make sure that the generated swagger.json file matches the json file at http://localhost:8080/v3/api-docs and doesn't ignore the parameters? Also why does it use Swagger 2 format even when version specified is 3.1.8?</p>\n"},{"tags":["java","vaadin"],"comments":[{"owner":{"account_id":113115,"reputation":2308,"user_id":298103,"accept_rate":91,"display_name":"Rolf"},"score":0,"creation_date":1691482931,"post_id":76857582,"comment_id":135494122,"body_markdown":"Are we talking Vaadin Flow specifically?","body":"Are we talking Vaadin Flow specifically?"},{"owner":{"account_id":170090,"reputation":2858,"user_id":396573,"display_name":"Jouni"},"score":0,"creation_date":1691485936,"post_id":76857582,"comment_id":135494722,"body_markdown":"If its just for visual reasons, you might get what you need by using the &quot;tertiary&quot; or &quot;tertiary-inline&quot; button variants.","body":"If its just for visual reasons, you might get what you need by using the &quot;tertiary&quot; or &quot;tertiary-inline&quot; button variants."}],"answers":[{"comments":[{"owner":{"account_id":18735676,"reputation":103,"user_id":13660072,"display_name":"Renoj Joseph"},"score":0,"creation_date":1691497953,"post_id":76857861,"comment_id":135497220,"body_markdown":"Can you answer a question asked [here](https://stackoverflow.com/questions/76845281/vaadin-payment-gateway-integration-razorpay)","body":"Can you answer a question asked <a href=\"https://stackoverflow.com/questions/76845281/vaadin-payment-gateway-integration-razorpay\">here</a>"},{"owner":{"account_id":2190938,"reputation":147,"user_id":1938018,"accept_rate":12,"display_name":"Eyvind Almqvist"},"score":0,"creation_date":1693240864,"post_id":76857861,"comment_id":135731462,"body_markdown":"ButtonVariant.LUMO_TERTIARY_INLINE is enough.","body":"ButtonVariant.LUMO_TERTIARY_INLINE is enough."}],"tags":[],"owner":{"account_id":12280349,"reputation":10212,"user_id":8962195,"display_name":"Tatu Lund"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1691484195,"creation_date":1691484195,"answer_id":76857861,"question_id":76857582,"body_markdown":"&gt; How to open a modal with a link instead of button in Vaadin\r\n\r\nI must ask why? Since I think you should not do that. I recommend to copy this code to your view to see the behavior:\r\n\r\n        ConfirmDialog dialog = new ConfirmDialog();\r\n        dialog.setText(&quot;Really?&quot;);\r\n        dialog.setConfirmText(&quot;Yes&quot;);\r\n        dialog.addConfirmListener(e -&gt; dialog.close());\r\n\r\n        Button button = new Button(&quot;Open&quot;, e -&gt; dialog.open());\r\n        button.addThemeVariants(ButtonVariant.LUMO_TERTIARY_INLINE);\r\n\r\n        Anchor anchor = new Anchor(&quot;#&quot;, &quot;Open&quot;);\r\n        anchor.getElement().addEventListener(&quot;click&quot;, e -&gt; dialog.open());\r\n\r\n        add(button, anchor);\r\n\r\nThe both will open the dialog, yes. But clicking the anchor will also navigate back to default route &quot;&quot;.\r\n\r\nSo if you want to get rid of the navitation you need to replace &quot;#&quot; with the route of the view. But it will still refresh, which you probably do not want.\r\n\r\nIf your question is purely due aesthetics, i.e. you do not want the Button to be that prominent, just use the theme variants (as in the example) and possibly some additional CSS to make it more discreet.","title":"How to open a modal with a link instead of button in Vaadin","body":"<blockquote>\n<p>How to open a modal with a link instead of button in Vaadin</p>\n</blockquote>\n<p>I must ask why? Since I think you should not do that. I recommend to copy this code to your view to see the behavior:</p>\n<pre><code>    ConfirmDialog dialog = new ConfirmDialog();\n    dialog.setText(&quot;Really?&quot;);\n    dialog.setConfirmText(&quot;Yes&quot;);\n    dialog.addConfirmListener(e -&gt; dialog.close());\n\n    Button button = new Button(&quot;Open&quot;, e -&gt; dialog.open());\n    button.addThemeVariants(ButtonVariant.LUMO_TERTIARY_INLINE);\n\n    Anchor anchor = new Anchor(&quot;#&quot;, &quot;Open&quot;);\n    anchor.getElement().addEventListener(&quot;click&quot;, e -&gt; dialog.open());\n\n    add(button, anchor);\n</code></pre>\n<p>The both will open the dialog, yes. But clicking the anchor will also navigate back to default route &quot;&quot;.</p>\n<p>So if you want to get rid of the navitation you need to replace &quot;#&quot; with the route of the view. But it will still refresh, which you probably do not want.</p>\n<p>If your question is purely due aesthetics, i.e. you do not want the Button to be that prominent, just use the theme variants (as in the example) and possibly some additional CSS to make it more discreet.</p>\n"}],"owner":{"account_id":2190938,"reputation":147,"user_id":1938018,"accept_rate":12,"display_name":"Eyvind Almqvist"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1691529648,"accepted_answer_id":76857861,"answer_count":1,"score":-1,"last_activity_date":1691484195,"creation_date":1691481789,"question_id":76857582,"body_markdown":"Is it possible to do what is described here in Vaadin?https://stackoverflow.com/questions/59805709/how-to-open-the-modal-popup-using-a-link-instead-of-button","title":"How to open a modal with a link instead of button in Vaadin","body":"<p>Is it possible to do what is described here in Vaadin?https://stackoverflow.com/questions/59805709/how-to-open-the-modal-popup-using-a-link-instead-of-button</p>\n"},{"tags":["java","angular","spring-boot","postman"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1691464079,"post_id":76856245,"comment_id":135491700,"body_markdown":"What is the URL and method of your Postman request?","body":"What is the URL and method of your Postman request?"},{"owner":{"account_id":29181424,"reputation":1,"user_id":22355490,"display_name":"Cremita Xb"},"score":0,"creation_date":1691464488,"post_id":76856245,"comment_id":135491735,"body_markdown":"localhost:8080/ticket/list","body":"localhost:8080/ticket/list"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1691464895,"post_id":76856245,"comment_id":135491765,"body_markdown":"Why do you expect the `ticket` component in the URL?","body":"Why do you expect the <code>ticket</code> component in the URL?"},{"owner":{"account_id":29181424,"reputation":1,"user_id":22355490,"display_name":"Cremita Xb"},"score":0,"creation_date":1691465204,"post_id":76856245,"comment_id":135491801,"body_markdown":"Sorry, i dont understand the question, but i checked it and changed to tickets, but it still showing the 404 error","body":"Sorry, i dont understand the question, but i checked it and changed to tickets, but it still showing the 404 error"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1691465454,"post_id":76856245,"comment_id":135491822,"body_markdown":"See https://stackoverflow.com/questions/48891083/difference-between-parameters-taken-by-restcontroller-and-requestmapping-annot#","body":"See <a href=\"https://stackoverflow.com/questions/48891083/difference-between-parameters-taken-by-restcontroller-and-requestmapping-annot#\" title=\"difference between parameters taken by restcontroller and requestmapping annot%23\">stackoverflow.com/questions/48891083/&hellip;</a>"},{"owner":{"account_id":29181424,"reputation":1,"user_id":22355490,"display_name":"Cremita Xb"},"score":0,"creation_date":1691465696,"post_id":76856245,"comment_id":135491844,"body_markdown":"But that&#39;s okay, isn&#39;t it? The link is in the requestMapping","body":"But that&#39;s okay, isn&#39;t it? The link is in the requestMapping"},{"owner":{"account_id":22215254,"reputation":146,"user_id":16453806,"display_name":"wnotunas"},"score":0,"creation_date":1691468439,"post_id":76856245,"comment_id":135492034,"body_markdown":"Try change to `@RequestMapping(&quot;/tickets&quot;)`","body":"Try change to <code>@RequestMapping(&quot;&#47;tickets&quot;)</code>"},{"owner":{"account_id":29181424,"reputation":1,"user_id":22355490,"display_name":"Cremita Xb"},"score":0,"creation_date":1691468870,"post_id":76856245,"comment_id":135492073,"body_markdown":"nope, it doesnt work","body":"nope, it doesnt work"}],"answers":[{"comments":[{"owner":{"account_id":10014547,"reputation":1156,"user_id":7406338,"display_name":"Morph21"},"score":0,"creation_date":1691480422,"post_id":76856817,"comment_id":135493574,"body_markdown":"That slash before name of mapping is not necessary. You should correct that one","body":"That slash before name of mapping is not necessary. You should correct that one"},{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1691484195,"post_id":76856817,"comment_id":135494374,"body_markdown":"@Morph21 i just updated my answer based on javadocs, i gave a answer to question based on docs","body":"@Morph21 i just updated my answer based on javadocs, i gave a answer to question based on docs"},{"owner":{"account_id":10014547,"reputation":1156,"user_id":7406338,"display_name":"Morph21"},"score":0,"creation_date":1691485482,"post_id":76856817,"comment_id":135494622,"body_markdown":"Well, you said that it should be with slash, which is not true. You can read more about it here https://stackoverflow.com/questions/12742695/use-or-not-leading-slash-in-value-for-requestmapping-need-official-docs-or-poi","body":"Well, you said that it should be with slash, which is not true. You can read more about it here <a href=\"https://stackoverflow.com/questions/12742695/use-or-not-leading-slash-in-value-for-requestmapping-need-official-docs-or-poi\" title=\"use or not leading slash in value for requestmapping need official docs or poi\">stackoverflow.com/questions/12742695/&hellip;</a>"},{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1691485850,"post_id":76856817,"comment_id":135494702,"body_markdown":"sir , there are said that **It does not matter: If the path does not start with an / then Spring (DefaultAnnotationHandlerMapping) will add it.**","body":"sir , there are said that <b>It does not matter: If the path does not start with an / then Spring (DefaultAnnotationHandlerMapping) will add it.</b>"},{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1691486000,"post_id":76856817,"comment_id":135494737,"body_markdown":"and i wrote, that it should be, it means that is not a required or a must, but an advice.","body":"and i wrote, that it should be, it means that is not a required or a must, but an advice."}],"tags":[],"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691484150,"creation_date":1691474503,"answer_id":76856817,"question_id":76856245,"body_markdown":"Let`s have a example from your code:\r\n\r\nYou try to make a request to \r\n`localhost:8080/users/create` in postmap with `POST` method, but your code show another thing. Based on your controller to make a call to\r\n\r\n    @PostMapping(&quot;/create&quot;)\r\n    public void create(@RequestBody Tickets tickets)\r\n\r\nYou should invoke next one URL:\r\n\r\n`localhost:8080/tickets/create` with a request body of Tickets class.\r\n\r\nOf course your requestMapping on controller class should be `@RequestMapping(&quot;/tickets&quot;)` instead of `@RequestMapping(&quot;tickets&quot;)`\r\n\r\n\r\n**UPDATE**\r\n\r\nJavaDocs for `@RequestMapping()`\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/HFouM.png","title":"Problem with SpringBoot API, is not getting detected","body":"<p>Let`s have a example from your code:</p>\n<p>You try to make a request to\n<code>localhost:8080/users/create</code> in postmap with <code>POST</code> method, but your code show another thing. Based on your controller to make a call to</p>\n<pre><code>@PostMapping(&quot;/create&quot;)\npublic void create(@RequestBody Tickets tickets)\n</code></pre>\n<p>You should invoke next one URL:</p>\n<p><code>localhost:8080/tickets/create</code> with a request body of Tickets class.</p>\n<p>Of course your requestMapping on controller class should be <code>@RequestMapping(&quot;/tickets&quot;)</code> instead of <code>@RequestMapping(&quot;tickets&quot;)</code></p>\n<p><strong>UPDATE</strong></p>\n<p>JavaDocs for <code>@RequestMapping()</code></p>\n<p><a href=\"https://i.stack.imgur.com/HFouM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HFouM.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":29181424,"reputation":1,"user_id":22355490,"display_name":"Cremita Xb"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691484150,"creation_date":1691463846,"question_id":76856245,"body_markdown":"I have this school project, but the API is not getting detected by the html or Postman, in Postman it sends a 404 error.\r\n\r\nThe API when I run it doesn&#39;t show errors, but when I try to use Postman doesn&#39;t detect it.\r\n\r\nTicketsRest:\r\n\r\n```\r\npackage zm.rest;\r\n\r\nimport java.util.List;\r\nimport java.util.Optional;\r\n\r\nimport org.apache.catalina.User;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.web.bind.annotation.DeleteMapping;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.PathVariable;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.PutMapping;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport zm.dao.TicketDAO;\r\nimport zm.model.Tickets;\r\n\r\n@RestController\r\n@RequestMapping(&quot;tickets&quot;)\r\npublic class TicketsRest {\r\n\t\r\n\t@Autowired\r\n\tprivate TicketDAO ticketDAO;\r\n\t\r\n\t/*guardar*/\r\n\t@PostMapping(&quot;/create&quot;) //localhost:8080/users/create\r\n\tpublic void create(@RequestBody Tickets tickets) {\r\n\t\t/*int id = userDAO.findAll().get(userDAO.findAll().size()-1).getId()+1;*/\r\n\t\tint id = 0;\r\n\t\tif(ticketDAO.findAll().size() == 0) {\r\n\t\t\tid = 1;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tid = ticketDAO.findAll().get(ticketDAO.findAll().size()-1).getId()+1;\r\n\t\t}\r\n\t\ttickets.setId(id);\r\n\t\tticketDAO.save(tickets);\r\n\t}\r\n\t\r\n\t@GetMapping(&quot;/list&quot;) //localhost:8080/users/create\r\n\tpublic List&lt;Tickets&gt;list(){\r\n\t\treturn ticketDAO.findAll();\r\n\t}\r\n\t\r\n\t@PutMapping(&quot;/update/{id}&quot;)\r\n\tpublic void update(@PathVariable int id, @RequestBody Tickets updateTickets) {\r\n\t\t\r\n\t\tOptional&lt;Tickets&gt; ticketsOptional = ticketDAO.findById(id);\r\n\t\tTickets tickets = ticketsOptional.orElse(null);\r\n\t\tif(tickets != null)\r\n\t\t{\r\n\t\t\ttickets.setMotive(updateTickets.getMotive());\r\n\t\t\ttickets.setDepartment(updateTickets.getDepartment());\r\n\t\t\ttickets.setPriority(updateTickets.getPriority());\r\n\t\t\ttickets.setDepartment(updateTickets.getDepartment());\r\n\t\t\ttickets.setDescription(updateTickets.getDescription());\r\n\r\n\t\t\tticketDAO.save(tickets);\r\n\t\t}\r\n\t}\r\n\t\r\n\t@DeleteMapping(&quot;/delete/{id}&quot;)\r\n\tpublic boolean delete(@PathVariable int id) {\r\n\t\t\r\n\t\tOptional&lt;Tickets&gt; ticketsOptional = ticketDAO.findById(id);\r\n\t\tTickets tickets = ticketsOptional.orElse(null);\r\n\t\tif(tickets != null)\r\n\t\t{\r\n\t\t\tticketDAO.delete(tickets);\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n}\r\n\r\n```\r\n\r\nTicketDAO:\r\n\r\n```\r\npackage zm.dao;\r\n\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\n\r\nimport zm.model.Tickets;\r\n\r\n\r\npublic interface TicketDAO extends JpaRepository&lt;Tickets, Integer&gt; {\r\n}\r\n\r\n```\r\n\r\nTickets.java:\r\n\r\n```\r\npackage zm.model;\r\n\r\nimport jakarta.persistence.Column;\r\nimport jakarta.persistence.Entity;\r\nimport jakarta.persistence.Id;\r\n\r\n@Entity\r\npublic class Tickets {\r\n\t@Id\r\n\tprivate Integer id;\r\n\t\r\n\t@Column\r\n\tprivate String motive;\r\n\t\r\n\t@Column\r\n\tprivate String priority;\r\n\t\r\n\t@Column\r\n\tprivate String department;\r\n\t\r\n\t@Column\r\n\tprivate String description;\r\n\r\n\tpublic Integer getId() {\r\n\t\treturn id;\r\n\t}\r\n\r\n\tpublic void setId(Integer id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\r\n\tpublic String getMotive() {\r\n\t\treturn motive;\r\n\t}\r\n\r\n\tpublic void setMotive(String motive) {\r\n\t\tthis.motive = motive;\r\n\t}\r\n\r\n\tpublic String getDepartment() {\r\n\t\treturn department;\r\n\t}\r\n\r\n\tpublic void setDepartment(String department) {\r\n\t\tthis.department = department;\r\n\t}\r\n\r\n\tpublic String getDescription() {\r\n\t\treturn description;\r\n\t}\r\n\r\n\tpublic void setDescription(String description) {\r\n\t\tthis.description = description;\r\n\t}\r\n\r\n\tpublic String getPriority() {\r\n\t\treturn priority;\r\n\t}\r\n\r\n\tpublic void setPriority(String priority) {\r\n\t\tthis.priority = priority;\r\n\t}\r\n}\r\n\r\n\t\r\n```\r\n\r\nTicketsApplication:\r\n\r\n```\r\npackage zm.application;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.web.servlet.config.annotation.CorsRegistry;\r\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\r\n\r\n@SpringBootApplication\r\npublic class TicketsApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(TicketsApplication.class, args);\r\n\t}\r\n\t\r\n\t@Bean\r\n\tWebMvcConfigurer corsConfigurer() {\r\n\treturn new WebMvcConfigurer() {\r\n\t@Override\r\n\tpublic void addCorsMappings(CorsRegistry registry) {\r\n\tregistry.addMapping( &quot;/**&quot;).allowedOrigins( &quot;http://localhost:4200&quot;).allowedMethods(&quot;*&quot;).allowedHeaders(&quot;*&quot;);\r\n\t}\r\n\t};\r\n\t}\r\n}\r\n```\r\n\r\nCan someone help me?\r\n\r\n\r\nMy API to work and connect.","title":"Problem with SpringBoot API, is not getting detected","body":"<p>I have this school project, but the API is not getting detected by the html or Postman, in Postman it sends a 404 error.</p>\n<p>The API when I run it doesn't show errors, but when I try to use Postman doesn't detect it.</p>\n<p>TicketsRest:</p>\n<pre><code>package zm.rest;\n\nimport java.util.List;\nimport java.util.Optional;\n\nimport org.apache.catalina.User;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.DeleteMapping;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.PutMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport zm.dao.TicketDAO;\nimport zm.model.Tickets;\n\n@RestController\n@RequestMapping(&quot;tickets&quot;)\npublic class TicketsRest {\n    \n    @Autowired\n    private TicketDAO ticketDAO;\n    \n    /*guardar*/\n    @PostMapping(&quot;/create&quot;) //localhost:8080/users/create\n    public void create(@RequestBody Tickets tickets) {\n        /*int id = userDAO.findAll().get(userDAO.findAll().size()-1).getId()+1;*/\n        int id = 0;\n        if(ticketDAO.findAll().size() == 0) {\n            id = 1;\n        }\n        else {\n            id = ticketDAO.findAll().get(ticketDAO.findAll().size()-1).getId()+1;\n        }\n        tickets.setId(id);\n        ticketDAO.save(tickets);\n    }\n    \n    @GetMapping(&quot;/list&quot;) //localhost:8080/users/create\n    public List&lt;Tickets&gt;list(){\n        return ticketDAO.findAll();\n    }\n    \n    @PutMapping(&quot;/update/{id}&quot;)\n    public void update(@PathVariable int id, @RequestBody Tickets updateTickets) {\n        \n        Optional&lt;Tickets&gt; ticketsOptional = ticketDAO.findById(id);\n        Tickets tickets = ticketsOptional.orElse(null);\n        if(tickets != null)\n        {\n            tickets.setMotive(updateTickets.getMotive());\n            tickets.setDepartment(updateTickets.getDepartment());\n            tickets.setPriority(updateTickets.getPriority());\n            tickets.setDepartment(updateTickets.getDepartment());\n            tickets.setDescription(updateTickets.getDescription());\n\n            ticketDAO.save(tickets);\n        }\n    }\n    \n    @DeleteMapping(&quot;/delete/{id}&quot;)\n    public boolean delete(@PathVariable int id) {\n        \n        Optional&lt;Tickets&gt; ticketsOptional = ticketDAO.findById(id);\n        Tickets tickets = ticketsOptional.orElse(null);\n        if(tickets != null)\n        {\n            ticketDAO.delete(tickets);\n            return true;\n        }\n        return false;\n    }\n}\n\n</code></pre>\n<p>TicketDAO:</p>\n<pre><code>package zm.dao;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\n\nimport zm.model.Tickets;\n\n\npublic interface TicketDAO extends JpaRepository&lt;Tickets, Integer&gt; {\n}\n\n</code></pre>\n<p>Tickets.java:</p>\n<pre><code>package zm.model;\n\nimport jakarta.persistence.Column;\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.Id;\n\n@Entity\npublic class Tickets {\n    @Id\n    private Integer id;\n    \n    @Column\n    private String motive;\n    \n    @Column\n    private String priority;\n    \n    @Column\n    private String department;\n    \n    @Column\n    private String description;\n\n    public Integer getId() {\n        return id;\n    }\n\n    public void setId(Integer id) {\n        this.id = id;\n    }\n\n    public String getMotive() {\n        return motive;\n    }\n\n    public void setMotive(String motive) {\n        this.motive = motive;\n    }\n\n    public String getDepartment() {\n        return department;\n    }\n\n    public void setDepartment(String department) {\n        this.department = department;\n    }\n\n    public String getDescription() {\n        return description;\n    }\n\n    public void setDescription(String description) {\n        this.description = description;\n    }\n\n    public String getPriority() {\n        return priority;\n    }\n\n    public void setPriority(String priority) {\n        this.priority = priority;\n    }\n}\n\n    \n</code></pre>\n<p>TicketsApplication:</p>\n<pre><code>package zm.application;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.web.servlet.config.annotation.CorsRegistry;\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\n\n@SpringBootApplication\npublic class TicketsApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(TicketsApplication.class, args);\n    }\n    \n    @Bean\n    WebMvcConfigurer corsConfigurer() {\n    return new WebMvcConfigurer() {\n    @Override\n    public void addCorsMappings(CorsRegistry registry) {\n    registry.addMapping( &quot;/**&quot;).allowedOrigins( &quot;http://localhost:4200&quot;).allowedMethods(&quot;*&quot;).allowedHeaders(&quot;*&quot;);\n    }\n    };\n    }\n}\n</code></pre>\n<p>Can someone help me?</p>\n<p>My API to work and connect.</p>\n"},{"tags":["java","dependencies","hibernate-validator"],"answers":[{"comments":[{"owner":{"account_id":9235262,"reputation":780,"user_id":6860091,"accept_rate":100,"display_name":"krund"},"score":0,"creation_date":1489153791,"post_id":42719440,"comment_id":72559727,"body_markdown":"Pasted dependencies from GitHub README.md file, but still got the same error.","body":"Pasted dependencies from GitHub README.md file, but still got the same error."},{"owner":{"account_id":6518696,"reputation":10106,"user_id":5043585,"display_name":"Guillaume Smet"},"score":0,"creation_date":1489154908,"post_id":42719440,"comment_id":72560480,"body_markdown":"Have you removed all the other javax.el related dependencies? If you have several conflicting versions of javax.el, you&#39;re going to have this error.","body":"Have you removed all the other javax.el related dependencies? If you have several conflicting versions of javax.el, you&#39;re going to have this error."},{"owner":{"account_id":6518696,"reputation":10106,"user_id":5043585,"display_name":"Guillaume Smet"},"score":0,"creation_date":1489159870,"post_id":42719440,"comment_id":72563893,"body_markdown":"And if you do need jsp-api, you should simply add an exclusion for whatever javax.el dependencies it has. Btw, I updated our Getting started guide to be on a par with what we recommend now. Thanks for bringing this issue to our attention.","body":"And if you do need jsp-api, you should simply add an exclusion for whatever javax.el dependencies it has. Btw, I updated our Getting started guide to be on a par with what we recommend now. Thanks for bringing this issue to our attention."},{"owner":{"account_id":7441676,"reputation":860,"user_id":5659278,"display_name":"Kushwaha"},"score":0,"creation_date":1556032854,"post_id":42719440,"comment_id":98295752,"body_markdown":"I have also same issue and i am using WebLogic server, could you please suggest me what i should do as i don&#39;t use jsp-api and i have checked I have only one dependency for javax.el. Also i executed mvn dependency:tree just to check if i have duplicate jar for javax.el but no luck :(","body":"I have also same issue and i am using WebLogic server, could you please suggest me what i should do as i don&#39;t use jsp-api and i have checked I have only one dependency for javax.el. Also i executed mvn dependency:tree just to check if i have duplicate jar for javax.el but no luck :("}],"tags":[],"owner":{"account_id":6518696,"reputation":10106,"user_id":5043585,"display_name":"Guillaume Smet"},"comment_count":4,"down_vote_count":0,"up_vote_count":24,"is_accepted":true,"score":24,"last_activity_date":1489152152,"creation_date":1489152152,"answer_id":42719440,"question_id":42718869,"body_markdown":"You have 2 different incompatible versions of javax.el (3 and 2).\r\n\r\nJust use this dependency, which will cover everything (it&#39;s the one we recommend in the GitHub repo&#39;s README.md but I need to update the getting started guide):\r\n\r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;org.glassfish&lt;/groupId&gt;\r\n       &lt;artifactId&gt;javax.el&lt;/artifactId&gt;\r\n       &lt;version&gt;3.0.1-b08&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nand remove all the other javax.el dependencies (API and impl). It should work like a charm once you&#39;re done.","title":"Hibernate validation &quot;Unable to initialize javax.el.ExpressionFactory&quot; error","body":"<p>You have 2 different incompatible versions of javax.el (3 and 2).</p>\n\n<p>Just use this dependency, which will cover everything (it's the one we recommend in the GitHub repo's README.md but I need to update the getting started guide):</p>\n\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;org.glassfish&lt;/groupId&gt;\n   &lt;artifactId&gt;javax.el&lt;/artifactId&gt;\n   &lt;version&gt;3.0.1-b08&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>and remove all the other javax.el dependencies (API and impl). It should work like a charm once you're done.</p>\n"},{"tags":[],"owner":{"account_id":1820683,"reputation":1239,"user_id":1654823,"accept_rate":83,"display_name":"Venkat"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1526389469,"creation_date":1526389469,"answer_id":50350982,"question_id":42718869,"body_markdown":"None of the above worked for me\r\nHowever This did:\r\nRight click on the project &gt; Properties &gt; Project Facets\r\non the right most area select Runtimes tab and selct your Tomcat Runtime, this will provide the required libs available to the test.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/59pfT.png","title":"Hibernate validation &quot;Unable to initialize javax.el.ExpressionFactory&quot; error","body":"<p>None of the above worked for me\nHowever This did:\nRight click on the project > Properties > Project Facets\non the right most area select Runtimes tab and selct your Tomcat Runtime, this will provide the required libs available to the test.\n<a href=\"https://i.stack.imgur.com/59pfT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/59pfT.png\" alt=\"enter image description here\"></a></p>\n"}],"owner":{"account_id":9235262,"reputation":780,"user_id":6860091,"accept_rate":100,"display_name":"krund"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32008,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":42719440,"answer_count":2,"score":11,"last_activity_date":1691484006,"creation_date":1489150270,"question_id":42718869,"body_markdown":"I&#39;m  trying to use hibernate validation, code compiles, but when launched in fails with error:\r\n`Exception in thread &quot;main&quot; javax.validation.ValidationException: HV000183: Unable to initialize &#39;javax.el.ExpressionFactory&#39;. Check that you have the EL dependencies on the classpath, or use ParameterMessageInterpolator instead`\r\n\r\nCode:\r\n\r\n    import javax.validation.ConstraintViolation;\r\n    import javax.validation.Validation;\r\n    import javax.validation.Validator;\r\n    import javax.validation.ValidatorFactory;\r\n    \r\n    public class Run {\r\n       \tpublic static void main(String[] args) {\t\r\n       \tUser u = new User();\r\n       \tValidatorFactory factory = Validation.buildDefaultValidatorFactory();\r\n       \tValidator v = factory.getValidator();\r\n       \tSet&lt;ConstraintViolation&lt;User&gt;&gt; result = v.validate(u);\r\n       \tSystem.out.println(result.size());\r\n       \t}\r\n    }\r\nUser class:\r\n\r\n    import javax.validation.constraints.NotNull;\r\n    import javax.validation.constraints.Pattern;\r\n    import javax.xml.bind.annotation.XmlAccessType;\r\n    import javax.xml.bind.annotation.XmlAccessorType;\r\n    import javax.xml.bind.annotation.XmlAttribute;\r\n    import javax.xml.bind.annotation.XmlType;\r\n    \r\n    public class User {\r\n        \t\r\n            @Pattern(regexp=&quot;[a-zA-Z0-9_]{5,10}&quot;, message=&quot;Username must be 5 to 10 characters long, &quot; + \r\n            \t\t&quot;only digits, letters and underscore permitted.&quot;)\r\n            @XmlAttribute(name = &quot;username&quot;, required = true)\r\n            protected String username;\r\n            \r\n            @Pattern(regexp=&quot;[0-9a-zA-Z]{5,10}&quot;, message=&quot;Password must be 5 to 10 characters long, &quot; + \r\n            \t\t&quot;only digits and letters permitted.&quot;)\r\n            @XmlAttribute(name = &quot;passwd&quot;, required = true)\r\n            protected String passwd;\r\n            \r\n            @NotNull\r\n            @XmlAttribute(name = &quot;authToken&quot;, required = true)\r\n            protected String authToken;\r\n            \r\n            Getters and setters...\r\n\r\npom.xml\r\n\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n      &lt;groupId&gt;com.home.project1&lt;/groupId&gt;\r\n      &lt;artifactId&gt;webapp&lt;/artifactId&gt;\r\n      &lt;packaging&gt;war&lt;/packaging&gt;\r\n      &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n      &lt;name&gt;webapp Maven Webapp&lt;/name&gt;\r\n      &lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n      &lt;dependencies&gt;\r\n      \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;junit&lt;/groupId&gt;\r\n          &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n          &lt;version&gt;3.8.1&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        &lt;dependency&gt;\r\n        \t&lt;groupId&gt;org.assertj&lt;/groupId&gt;\r\n        \t&lt;artifactId&gt;assertj-core&lt;/artifactId&gt;\r\n        \t&lt;version&gt;3.6.1&lt;/version&gt;\r\n        \t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t\r\n    \t&lt;dependency&gt;\r\n        \t&lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n        \t&lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\r\n        \t&lt;version&gt;2.7.9&lt;/version&gt;\r\n        \t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t&lt;/dependency&gt;\r\n     \r\n    &lt;!-- SERVLET --&gt;   \r\n    \r\n        &lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;jsp-api&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.1&lt;/version&gt;\r\n    \t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.2&lt;/version&gt;\r\n    \t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t&lt;/dependency&gt; \r\n    \t\r\n    \t&lt;dependency&gt;\r\n        \t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n        \t&lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n        \t&lt;version&gt;3.1.0&lt;/version&gt;\r\n        \t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t&lt;/dependency&gt;\r\n      \r\n    &lt;!-- Spring --&gt;      \r\n      \r\n        &lt;dependency&gt;\r\n        \t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n        \t&lt;artifactId&gt;spring-test&lt;/artifactId&gt;\r\n        \t&lt;version&gt;4.3.6.RELEASE&lt;/version&gt;\r\n        \t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t&lt;/dependency&gt;\r\n    \r\n    \t&lt;dependency&gt;\r\n       \t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n        \t&lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n        \t&lt;version&gt;4.3.6.RELEASE&lt;/version&gt;\r\n       \t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t\r\n    \t&lt;dependency&gt;\r\n    \t    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n        \t&lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n        \t&lt;version&gt;4.3.6.RELEASE&lt;/version&gt;\r\n        \t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t&lt;/dependency&gt;\t\r\n    \t\r\n    &lt;!-- Hibernate --&gt;\r\n    \r\n    \t&lt;dependency&gt;\r\n       \t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n       \t\t&lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n       \t\t&lt;version&gt;5.4.0.Final&lt;/version&gt;\r\n       \t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t&lt;/dependency&gt;\r\n    \r\n    \t&lt;dependency&gt;\r\n       \t\t&lt;groupId&gt;javax.el&lt;/groupId&gt;\r\n       \t\t&lt;artifactId&gt;javax.el-api&lt;/artifactId&gt;\r\n       \t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n       \t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t&lt;/dependency&gt;\r\n    \r\n    \t&lt;dependency&gt;\r\n       \t\t&lt;groupId&gt;org.glassfish.web&lt;/groupId&gt;\r\n       \t\t&lt;artifactId&gt;javax.el&lt;/artifactId&gt;\r\n       \t\t&lt;version&gt;2.2.6&lt;/version&gt;\r\n       \t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t&lt;/dependency&gt;\r\n    \r\n    \t&lt;dependency&gt;\r\n       \t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n       \t\t&lt;artifactId&gt;hibernate-validator-cdi&lt;/artifactId&gt;\r\n       \t\t&lt;version&gt;5.4.0.Final&lt;/version&gt;\r\n       \t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t&lt;/dependency&gt;\r\n    \r\n    &lt;!-- AspectJ --&gt;\t\r\n    \t\r\n    \t&lt;dependency&gt;\r\n        \t&lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n        \t&lt;artifactId&gt;aspectjrt&lt;/artifactId&gt;\r\n        \t&lt;version&gt;1.8.9&lt;/version&gt;\r\n        \t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t\r\n    \t&lt;dependency&gt;\r\n        \t&lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n        \t&lt;artifactId&gt;aspectjtools&lt;/artifactId&gt;\r\n        \t&lt;version&gt;1.8.9&lt;/version&gt;\r\n        \t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t\r\n    \t&lt;dependency&gt;\r\n        \t&lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n        \t&lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\r\n        \t&lt;version&gt;1.8.9&lt;/version&gt;\r\n        \t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t&lt;/dependency&gt;\r\n     \t\r\n     &lt;/dependencies&gt;\r\nI following guide at http://hibernate.org/validator/documentation/getting-started/ and use exactly same dependencies, also tried with dependencies in post https://stackoverflow.com/questions/27650890/running-spring-boot-within-intellij-results-in-unable-to-load-javax-el-expressi (without any spring boot code, just with `spring-boot-starter-tomcat` in dependencies and without deploying to servlet container). Also tried dependencies from book &quot;Beginning Spring&quot;:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;javax.el&lt;/groupId&gt;\r\n        &lt;artifactId&gt;javax.el-api&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.0&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.glassfish&lt;/groupId&gt;\r\n        &lt;artifactId&gt;javax.el&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.0&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n        &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n        &lt;version&gt;3.1.0&lt;/version&gt;\r\n        &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n which concerns exactly same error, but it didn&#39;t solve the problem.  ","title":"Hibernate validation &quot;Unable to initialize javax.el.ExpressionFactory&quot; error","body":"<p>I'm  trying to use hibernate validation, code compiles, but when launched in fails with error:\n<code>Exception in thread \"main\" javax.validation.ValidationException: HV000183: Unable to initialize 'javax.el.ExpressionFactory'. Check that you have the EL dependencies on the classpath, or use ParameterMessageInterpolator instead</code></p>\n\n<p>Code:</p>\n\n<pre><code>import javax.validation.ConstraintViolation;\nimport javax.validation.Validation;\nimport javax.validation.Validator;\nimport javax.validation.ValidatorFactory;\n\npublic class Run {\n    public static void main(String[] args) {    \n    User u = new User();\n    ValidatorFactory factory = Validation.buildDefaultValidatorFactory();\n    Validator v = factory.getValidator();\n    Set&lt;ConstraintViolation&lt;User&gt;&gt; result = v.validate(u);\n    System.out.println(result.size());\n    }\n}\n</code></pre>\n\n<p>User class:</p>\n\n<pre><code>import javax.validation.constraints.NotNull;\nimport javax.validation.constraints.Pattern;\nimport javax.xml.bind.annotation.XmlAccessType;\nimport javax.xml.bind.annotation.XmlAccessorType;\nimport javax.xml.bind.annotation.XmlAttribute;\nimport javax.xml.bind.annotation.XmlType;\n\npublic class User {\n\n        @Pattern(regexp=\"[a-zA-Z0-9_]{5,10}\", message=\"Username must be 5 to 10 characters long, \" + \n                \"only digits, letters and underscore permitted.\")\n        @XmlAttribute(name = \"username\", required = true)\n        protected String username;\n\n        @Pattern(regexp=\"[0-9a-zA-Z]{5,10}\", message=\"Password must be 5 to 10 characters long, \" + \n                \"only digits and letters permitted.\")\n        @XmlAttribute(name = \"passwd\", required = true)\n        protected String passwd;\n\n        @NotNull\n        @XmlAttribute(name = \"authToken\", required = true)\n        protected String authToken;\n\n        Getters and setters...\n</code></pre>\n\n<p>pom.xml</p>\n\n<pre><code>  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;com.home.project1&lt;/groupId&gt;\n  &lt;artifactId&gt;webapp&lt;/artifactId&gt;\n  &lt;packaging&gt;war&lt;/packaging&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  &lt;name&gt;webapp Maven Webapp&lt;/name&gt;\n  &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n  &lt;dependencies&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;3.8.1&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.assertj&lt;/groupId&gt;\n        &lt;artifactId&gt;assertj-core&lt;/artifactId&gt;\n        &lt;version&gt;3.6.1&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n        &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\n        &lt;version&gt;2.7.9&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n&lt;!-- SERVLET --&gt;   \n\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\n        &lt;artifactId&gt;jsp-api&lt;/artifactId&gt;\n        &lt;version&gt;2.1&lt;/version&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n        &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n        &lt;version&gt;1.2&lt;/version&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt; \n\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n        &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n&lt;!-- Spring --&gt;      \n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\n        &lt;version&gt;4.3.6.RELEASE&lt;/version&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n        &lt;version&gt;4.3.6.RELEASE&lt;/version&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n        &lt;version&gt;4.3.6.RELEASE&lt;/version&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;   \n\n&lt;!-- Hibernate --&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n        &lt;version&gt;5.4.0.Final&lt;/version&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.el&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.el-api&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.glassfish.web&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.el&lt;/artifactId&gt;\n        &lt;version&gt;2.2.6&lt;/version&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-validator-cdi&lt;/artifactId&gt;\n        &lt;version&gt;5.4.0.Final&lt;/version&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n&lt;!-- AspectJ --&gt;    \n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n        &lt;artifactId&gt;aspectjrt&lt;/artifactId&gt;\n        &lt;version&gt;1.8.9&lt;/version&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n        &lt;artifactId&gt;aspectjtools&lt;/artifactId&gt;\n        &lt;version&gt;1.8.9&lt;/version&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n        &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\n        &lt;version&gt;1.8.9&lt;/version&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n &lt;/dependencies&gt;\n</code></pre>\n\n<p>I following guide at <a href=\"http://hibernate.org/validator/documentation/getting-started/\" rel=\"noreferrer\">http://hibernate.org/validator/documentation/getting-started/</a> and use exactly same dependencies, also tried with dependencies in post <a href=\"https://stackoverflow.com/questions/27650890/running-spring-boot-within-intellij-results-in-unable-to-load-javax-el-expressi\">Running Spring Boot within IntelliJ results in Unable to load &#39;javax.el.ExpressionFactory&#39;</a> (without any spring boot code, just with <code>spring-boot-starter-tomcat</code> in dependencies and without deploying to servlet container). Also tried dependencies from book \"Beginning Spring\":</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;javax.el&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.el-api&lt;/artifactId&gt;\n    &lt;version&gt;3.0.0&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.glassfish&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.el&lt;/artifactId&gt;\n    &lt;version&gt;3.0.0&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n    &lt;version&gt;3.1.0&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>which concerns exactly same error, but it didn't solve the problem.  </p>\n"},{"tags":["java","quarkus","quarkus-panache"],"comments":[{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1691415997,"post_id":76852057,"comment_id":135484555,"body_markdown":"Why do you need to disable mongo handling?","body":"Why do you need to disable mongo handling?"},{"owner":{"account_id":6518557,"reputation":2810,"user_id":5043481,"display_name":"zforgo"},"score":0,"creation_date":1691416912,"post_id":76852057,"comment_id":135484818,"body_markdown":"Welcome to Stack Overflow. Please take the [tour](https://stackoverflow.com/tour) to learn how Stack Overflow works and read [How to Ask](https://stackoverflow.com/help/how-to-ask) or how to improve the quality of your question. Then edit your question to include your full source code you have as a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example), which can be compiled and tested by others. Included sources [should be in text format](https://meta.stackoverflow.com/a/285557/5043481), not an image. Currently you are not asking any question.","body":"Welcome to Stack Overflow. Please take the <a href=\"https://stackoverflow.com/tour\">tour</a> to learn how Stack Overflow works and read <a href=\"https://stackoverflow.com/help/how-to-ask\">How to Ask</a> or how to improve the quality of your question. Then edit your question to include your full source code you have as a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, which can be compiled and tested by others. Included sources <a href=\"https://meta.stackoverflow.com/a/285557/5043481\">should be in text format</a>, not an image. Currently you are not asking any question."}],"answers":[{"tags":[],"owner":{"account_id":6518696,"reputation":10106,"user_id":5043585,"display_name":"Guillaume Smet"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691483937,"creation_date":1691483937,"answer_id":76857826,"question_id":76852057,"body_markdown":"If you are talking about the MongoDB instance automatically started by Quarkus in dev mode, you need to add `quarkus.mongodb.devservices.enabled=false` to your `application.properties`.","title":"Want to know, how to disabled mongodb through application.properties","body":"<p>If you are talking about the MongoDB instance automatically started by Quarkus in dev mode, you need to add <code>quarkus.mongodb.devservices.enabled=false</code> to your <code>application.properties</code>.</p>\n"}],"owner":{"account_id":29177454,"reputation":1,"user_id":22352422,"display_name":"Machine"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691483937,"creation_date":1691413885,"question_id":76852057,"body_markdown":"Quarkus, quarkus-panache\r\nNeed to know what property should be use to disabled mongodb instance in application.properties file. e.g:- we can use quarkus.scheduler.enabled=false to stop scheduler.\r\nI used below way but no luck\r\n\r\nI&#39;m trying to write the quarkus-junit-test case, but before that I want to stop my running mongodb instance from my actual project\r\n\r\nI tried below way just ignore dependency, which is specific to project\r\n\r\n[enter image description here](https://i.stack.imgur.com/76JhE.png)","title":"Want to know, how to disabled mongodb through application.properties","body":"<p>Quarkus, quarkus-panache\nNeed to know what property should be use to disabled mongodb instance in application.properties file. e.g:- we can use quarkus.scheduler.enabled=false to stop scheduler.\nI used below way but no luck</p>\n<p>I'm trying to write the quarkus-junit-test case, but before that I want to stop my running mongodb instance from my actual project</p>\n<p>I tried below way just ignore dependency, which is specific to project</p>\n<p><a href=\"https://i.stack.imgur.com/76JhE.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["javascript","java","stomp","spring-websocket"],"owner":{"account_id":29183065,"reputation":1,"user_id":22356806,"display_name":"teacher trang"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691483800,"creation_date":1691483800,"question_id":76857813,"body_markdown":"I&#39;m a fresher level java programmer. I try to make a application and want to use Web Socket, Stomp JS and my config like:\r\n\r\nIn java:\r\n\r\n```\r\nConfig:\r\n`@Configuration\r\n@EnableWebSocketMessageBroker\r\npublic class WebsocketConfig implements WebSocketMessageBrokerConfigurer {\r\n  @Override\r\n  public void registerStompEndpoints(StompEndpointRegistry registry) {\r\n    //registry.addEndpoint(&quot;/ws&quot;).setAllowedOriginPatterns(&quot;*&quot;).withSockJS();\r\n    registry.addEndpoint(&quot;/ws&quot;);\r\n\r\n  }`\r\n\r\n  @Override\r\n  public void configureMessageBroker(MessageBrokerRegistry registry) {\r\n    //Server send to client who is subscribed with edit\r\n    registry.enableSimpleBroker(&quot;/edit&quot;);\r\n\r\n    //Client send to server through method was remarked by @MessageMapping annotation\r\n    registry.setApplicationDestinationPrefixes(&quot;/app&quot;);\r\n  }\r\n}\r\n\r\nController Class:\r\n@Controller\r\npublic Mycontroller{\r\n@MessageMapping(&quot;/edit&quot;)\r\n  @SendTo(&quot;/edit&quot;)\r\n  public Message recMessage(Message message){\r\n    System.out.println(message.getMessage());\r\n\r\n    return new Message(&quot;Hello, &quot; + HtmlUtils.htmlEscape(message.getMessage()) + &quot;!&quot;);\r\n  }\r\n}\r\n\r\nconst stompClient = new StompJs.Client({\r\n  brokerURL: &#39;ws://localhost:8080/ws&#39;\r\n});\r\n\r\nIn front-end, my app.js\r\n\r\n`stompClient.onConnect = (frame) =&gt; {\r\n  console.log(&#39;Connected: &#39; + frame);\r\n  setConnected(true);\r\n//Subscribe\r\n  `stompClient.subscribe(&#39;/edit&#39;, (message) =&gt; {\r\n    showGreeting(JSON.parse(message.body).message);\r\n  });`\r\n};`\r\n\r\n```\r\n I do like example.\r\nMy problem is: I want each URL like: \r\nhttp://localhost:8080/abc.html; http://localhost:8080/def.html, when client browser each URL, I will subscribe each to a channel like: /edit/abc; /edit/def... to communicate between client and server. But I don&#39;t know how to do that, I don&#39;t know how to transmit abc, def... to server from client.\r\n\r\n\r\n\r\nI try to pass variable but it won&#39;t work","title":"How to pass pathname into web socket and use @DestinationVariable in Spring Boot","body":"<p>I'm a fresher level java programmer. I try to make a application and want to use Web Socket, Stomp JS and my config like:</p>\n<p>In java:</p>\n<pre><code>Config:\n`@Configuration\n@EnableWebSocketMessageBroker\npublic class WebsocketConfig implements WebSocketMessageBrokerConfigurer {\n  @Override\n  public void registerStompEndpoints(StompEndpointRegistry registry) {\n    //registry.addEndpoint(&quot;/ws&quot;).setAllowedOriginPatterns(&quot;*&quot;).withSockJS();\n    registry.addEndpoint(&quot;/ws&quot;);\n\n  }`\n\n  @Override\n  public void configureMessageBroker(MessageBrokerRegistry registry) {\n    //Server send to client who is subscribed with edit\n    registry.enableSimpleBroker(&quot;/edit&quot;);\n\n    //Client send to server through method was remarked by @MessageMapping annotation\n    registry.setApplicationDestinationPrefixes(&quot;/app&quot;);\n  }\n}\n\nController Class:\n@Controller\npublic Mycontroller{\n@MessageMapping(&quot;/edit&quot;)\n  @SendTo(&quot;/edit&quot;)\n  public Message recMessage(Message message){\n    System.out.println(message.getMessage());\n\n    return new Message(&quot;Hello, &quot; + HtmlUtils.htmlEscape(message.getMessage()) + &quot;!&quot;);\n  }\n}\n\nconst stompClient = new StompJs.Client({\n  brokerURL: 'ws://localhost:8080/ws'\n});\n\nIn front-end, my app.js\n\n`stompClient.onConnect = (frame) =&gt; {\n  console.log('Connected: ' + frame);\n  setConnected(true);\n//Subscribe\n  `stompClient.subscribe('/edit', (message) =&gt; {\n    showGreeting(JSON.parse(message.body).message);\n  });`\n};`\n\n</code></pre>\n<p>I do like example.\nMy problem is: I want each URL like:\nhttp://localhost:8080/abc.html; http://localhost:8080/def.html, when client browser each URL, I will subscribe each to a channel like: /edit/abc; /edit/def... to communicate between client and server. But I don't know how to do that, I don't know how to transmit abc, def... to server from client.</p>\n<p>I try to pass variable but it won't work</p>\n"},{"tags":["java","selenium-webdriver"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":1,"creation_date":1691477482,"post_id":76857057,"comment_id":135493049,"body_markdown":"The error says *Timed out waiting for driver server to bind the port.* - the code doing this is not shown above.","body":"The error says <i>Timed out waiting for driver server to bind the port.</i> - the code doing this is not shown above."}],"answers":[{"tags":[],"owner":{"account_id":10299692,"reputation":5744,"user_id":7598774,"accept_rate":75,"display_name":"Shawn"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691483624,"creation_date":1691483624,"answer_id":76857797,"question_id":76857057,"body_markdown":"In the `System.setProperty` line of code, you are supposed to set the path of `chromedriver.exe` file. It appears that the path you have provided(`chrome.exe`) is for browser instead of browser driver.\r\n\r\n**Correct:**\r\n````\r\nSystem.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\Users\\\\&lt;username&gt;\\\\Downloads\\\\chromedriver_win64\\\\chromedriver.exe&quot;);\r\n````\r\n**Inocrrect:**\r\n````\r\nSystem.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;C:/Users/PrasadB/Downloads/chrome-win64/chrome-win64/chrome.exe&quot;);\r\n````\r\n\r\nHaving said the above, since you are using selenium `v4.11.0`, setting the `chromedriver.exe` path is not mandatory any more. Which means selenium will download and manage the driver for you. All you have to do is, remove the `System.setProperty` line from your code(see below).\r\n\r\n````\r\n//System.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;C:/Users/PrasadB/Downloads/chrome-win64/chrome-win64/chrome.exe&quot;);\r\nWebDriver driver = new ChromeDriver();\r\n```` ","title":"In selenium could not able to launch the chrome browse giving session not created exception","body":"<p>In the <code>System.setProperty</code> line of code, you are supposed to set the path of <code>chromedriver.exe</code> file. It appears that the path you have provided(<code>chrome.exe</code>) is for browser instead of browser driver.</p>\n<p><strong>Correct:</strong></p>\n<pre><code>System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\Users\\\\&lt;username&gt;\\\\Downloads\\\\chromedriver_win64\\\\chromedriver.exe&quot;);\n</code></pre>\n<p><strong>Inocrrect:</strong></p>\n<pre><code>System.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;C:/Users/PrasadB/Downloads/chrome-win64/chrome-win64/chrome.exe&quot;);\n</code></pre>\n<p>Having said the above, since you are using selenium <code>v4.11.0</code>, setting the <code>chromedriver.exe</code> path is not mandatory any more. Which means selenium will download and manage the driver for you. All you have to do is, remove the <code>System.setProperty</code> line from your code(see below).</p>\n<pre><code>//System.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;C:/Users/PrasadB/Downloads/chrome-win64/chrome-win64/chrome.exe&quot;);\nWebDriver driver = new ChromeDriver();\n</code></pre>\n"}],"owner":{"account_id":29182368,"reputation":1,"user_id":22356215,"display_name":"Prasad Balaga"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":193,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1691483624,"creation_date":1691477200,"question_id":76857057,"body_markdown":"    System.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;C:/Users/PrasadB/Downloads/chrome-win64/chrome-win64/chrome.exe&quot;);\r\n    \t\tWebDriver driver = new ChromeDriver();\r\n\r\nI have followed these two lines of code\r\n\r\n    SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\r\n    SLF4J: Defaulting to no-operation (NOP) logger implementation\r\n    SLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\r\n    Exception in thread &quot;main&quot; org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Possible causes are invalid address of the remote server or browser start-up failure. \r\n    Host info: host: &#39;PRASADBALAGA&#39;, ip: &#39;172.16.19.19&#39;\r\n    \tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:536)\r\n    \tat org.openqa.selenium.remote.RemoteWebDriver.startSession(RemoteWebDriver.java:232)\r\n    \tat org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:159)\r\n    \tat org.openqa.selenium.chromium.ChromiumDriver.&lt;init&gt;(ChromiumDriver.java:108)\r\n    \tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:88)\r\n    \tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:83)\r\n    \tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:51)\r\n    \tat sample.SelIntroduction.main(SelIntroduction.java:12)\r\n    Caused by: org.openqa.selenium.WebDriverException: Timed out waiting for driver server to bind the port.\r\n    Build info: version: &#39;4.11.0&#39;, revision: &#39;040bc5406b&#39;\r\n    System info: os.name: &#39;Windows 11&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;17.0.7&#39;\r\n    Driver info: driver.version: ChromeDriver\r\n    \tat org.openqa.selenium.remote.service.DriverService.start(DriverService.java:239)\r\n    \tat org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:119)\r\n    \tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:518)\r\n    \t... 7 more\r\n\r\nI am trying to launch chrome browser from selenium but chrome browser is not launching\r\n\r\n","title":"In selenium could not able to launch the chrome browse giving session not created exception","body":"<pre><code>System.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;C:/Users/PrasadB/Downloads/chrome-win64/chrome-win64/chrome.exe&quot;);\n        WebDriver driver = new ChromeDriver();\n</code></pre>\n<p>I have followed these two lines of code</p>\n<pre><code>SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\nException in thread &quot;main&quot; org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Possible causes are invalid address of the remote server or browser start-up failure. \nHost info: host: 'PRASADBALAGA', ip: '172.16.19.19'\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:536)\n    at org.openqa.selenium.remote.RemoteWebDriver.startSession(RemoteWebDriver.java:232)\n    at org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:159)\n    at org.openqa.selenium.chromium.ChromiumDriver.&lt;init&gt;(ChromiumDriver.java:108)\n    at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:88)\n    at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:83)\n    at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:51)\n    at sample.SelIntroduction.main(SelIntroduction.java:12)\nCaused by: org.openqa.selenium.WebDriverException: Timed out waiting for driver server to bind the port.\nBuild info: version: '4.11.0', revision: '040bc5406b'\nSystem info: os.name: 'Windows 11', os.arch: 'amd64', os.version: '10.0', java.version: '17.0.7'\nDriver info: driver.version: ChromeDriver\n    at org.openqa.selenium.remote.service.DriverService.start(DriverService.java:239)\n    at org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:119)\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:518)\n    ... 7 more\n</code></pre>\n<p>I am trying to launch chrome browser from selenium but chrome browser is not launching</p>\n"},{"tags":["java","android","gradle","build.gradle"],"comments":[{"owner":{"account_id":10869474,"reputation":111,"user_id":7992743,"display_name":"Alexandr"},"score":6,"creation_date":1659007313,"post_id":72346170,"comment_id":129195864,"body_markdown":"This question seems old, but anyway:\nIt seems like you have both application and library plugins. I had similar issue by occasion. Can you try to remove line `apply plugin: &#39;com.android.library&#39;` and try once more? I assume that this is the only module you have, so you should use application plugin.","body":"This question seems old, but anyway: It seems like you have both application and library plugins. I had similar issue by occasion. Can you try to remove line <code>apply plugin: &#39;com.android.library&#39;</code> and try once more? I assume that this is the only module you have, so you should use application plugin."}],"answers":[{"tags":[],"owner":{"account_id":26156293,"reputation":21,"user_id":19843503,"display_name":"junjie zhou"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1684925052,"creation_date":1684925052,"answer_id":76322658,"question_id":72346170,"body_markdown":"Look at the build.gradle file in the project, pay attention not to the build. gradle in the app, Add apply false after id &#39;com.android.library&#39; version &#39;8.0.1&#39;.\r\neg.\r\n\r\n    plugins {\r\n        id &#39;com.android.library&#39; version &#39;8.0.1&#39; apply false\r\n    }","title":"Cannot add a configuration with name &#39;androidJdkImage&#39; as a configuration with that name already exists","body":"<p>Look at the build.gradle file in the project, pay attention not to the build. gradle in the app, Add apply false after id 'com.android.library' version '8.0.1'.\neg.</p>\n<pre><code>plugins {\n    id 'com.android.library' version '8.0.1' apply false\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2268412,"reputation":483,"user_id":2603102,"accept_rate":60,"display_name":"stry-kai"},"score":1,"creation_date":1692614792,"post_id":76857791,"comment_id":135642760,"body_markdown":"didnt work for me","body":"didnt work for me"},{"owner":{"account_id":8445902,"reputation":458,"user_id":6336591,"display_name":"Eng.OsamaYousef"},"score":0,"creation_date":1692718084,"post_id":76857791,"comment_id":135661090,"body_markdown":"please provide me more details, so I can help you, I need to see ur app/build.gradle, project/build.gradle","body":"please provide me more details, so I can help you, I need to see ur app/build.gradle, project/build.gradle"}],"tags":[],"owner":{"account_id":8445902,"reputation":458,"user_id":6336591,"display_name":"Eng.OsamaYousef"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691483605,"creation_date":1691483605,"answer_id":76857791,"question_id":72346170,"body_markdown":"I had faced the same issue (at Gradle 8.1, 8.2), tried to put:\r\n\r\n    id &#39;com.android.library&#39; version &#39;8.0.1&#39; apply false\r\n    id &#39;com.android.application&#39; version &#39;8.0.1&#39; apply false\r\n\r\nalso tried 8.1, 8.2\r\n\r\n    id &#39;com.android.library&#39; version &#39;8.1&#39; apply false\r\n    id &#39;com.android.application&#39; version &#39;8.1&#39; apply false\r\n**but the problem had not resolved, until I had removed this plugin:**\r\n\r\n    id &#39;com.android.library&#39;\r\nGive it a try\r\n\r\n    plugins {\r\n        //id &#39;com.android.library&#39;\r\n        id &#39;com.android.application&#39;\r\n    }\r\n\r\n  \r\n\r\n","title":"Cannot add a configuration with name &#39;androidJdkImage&#39; as a configuration with that name already exists","body":"<p>I had faced the same issue (at Gradle 8.1, 8.2), tried to put:</p>\n<pre><code>id 'com.android.library' version '8.0.1' apply false\nid 'com.android.application' version '8.0.1' apply false\n</code></pre>\n<p>also tried 8.1, 8.2</p>\n<pre><code>id 'com.android.library' version '8.1' apply false\nid 'com.android.application' version '8.1' apply false\n</code></pre>\n<p><strong>but the problem had not resolved, until I had removed this plugin:</strong></p>\n<pre><code>id 'com.android.library'\n</code></pre>\n<p>Give it a try</p>\n<pre><code>plugins {\n    //id 'com.android.library'\n    id 'com.android.application'\n}\n</code></pre>\n"}],"owner":{"account_id":25363449,"reputation":71,"user_id":19178346,"display_name":"Param108"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5829,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":2,"score":7,"last_activity_date":1691483605,"creation_date":1653297939,"question_id":72346170,"body_markdown":"This is my second question related to this android build issue.\r\n\r\nI just updated gradle from 3.XX to 7.2.0 and am rebuilding and finding the following error.\r\n\r\nHave i added 2 plugins that are inadvertently calling ths same configuration name by any chance. Any help will be appreciated.\r\n\r\n**Error**\r\n\r\n    Build file &#39;/home/mohit/Documents/Android project/paramg-android-app/app/build.gradle&#39; line: 16\r\n    \r\n    A problem occurred evaluating project &#39;:app&#39;.\r\n    &gt; Failed to apply plugin &#39;com.android.internal.application&#39;.\r\n       &gt; Cannot add a configuration with name &#39;androidJdkImage&#39; as a configuration with that name already exists.\r\n    \r\n    * Try:\r\n    &gt; Run with --info or --debug option to get more log output.\r\n    &gt; Run with --scan to get full insights.\r\n    \r\n    * Exception is:\r\n    org.gradle.api.GradleScriptException: A problem occurred evaluating project &#39;:app&#39;.\r\n    \tat org.gradle.groovy.scripts.internal.DefaultScriptRunnerFactory$ScriptRunnerImpl.run(DefaultScriptRunnerFactory.java:93)\r\n    \tat org.gradle.configuration.DefaultScriptPluginFactory$ScriptPluginImpl.lambda$apply$0(DefaultScriptPluginFactory.java:133)\r\n    \tat org.gradle.configuration.ProjectScriptTarget.addConfiguration(ProjectScriptTarget.java:79)\r\n    \tat org.gradle.configuration.DefaultScriptPluginFactory$ScriptPluginImpl.apply(DefaultScriptPluginFactory.java:136)\r\n    \tat org.gradle.configuration.BuildOperationScriptPlugin$1.run(BuildOperationScriptPlugin.java:65)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\r\n    \tat org.gradle.configuration.BuildOperationScriptPlugin.lambda$apply$0(BuildOperationScriptPlugin.java:62)\r\n    \tat org.gradle.configuration.internal.DefaultUserCodeApplicationContext.apply(DefaultUserCodeApplicationContext.java:44)\r\n    \tat org.gradle.configuration.BuildOperationScriptPlugin.apply(BuildOperationScriptPlugin.java:62)\r\n    \tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.lambda$applyToMutableState$0(DefaultProjectStateRegistry.java:366)\r\n    \tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.fromMutableState(DefaultProjectStateRegistry.java:393)\r\n    \tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.applyToMutableState(DefaultProjectStateRegistry.java:365)\r\n    \tat org.gradle.configuration.project.BuildScriptProcessor.execute(BuildScriptProcessor.java:42)\r\n    \tat org.gradle.configuration.project.BuildScriptProcessor.execute(BuildScriptProcessor.java:26)\r\n    \tat org.gradle.configuration.project.ConfigureActionsProjectEvaluator.evaluate(ConfigureActionsProjectEvaluator.java:35)\r\n    \tat org.gradle.configuration.project.LifecycleProjectEvaluator$EvaluateProject.lambda$run$0(LifecycleProjectEvaluator.java:100)\r\n    \tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.lambda$applyToMutableState$0(DefaultProjectStateRegistry.java:366)\r\n    \tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.lambda$withProjectLock$3(DefaultProjectStateRegistry.java:426)\r\n    \tat org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:211)\r\n    \tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.withProjectLock(DefaultProjectStateRegistry.java:426)\r\n    \tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.fromMutableState(DefaultProjectStateRegistry.java:407)\r\n    \tat org.gradle.api.internal.project.D\r\n\r\n**App module build.gradle file:**\r\n\r\n    \r\n     buildscript {\r\n        repositories {\r\n            google()\r\n        mavenCentral()\r\n      \r\n    \r\n      }\r\n    }\r\n    repositories {\r\n        google()\r\n        mavenCentral()\r\n    }\r\n    \r\n    apply plugin: &#39;com.android.library&#39;\r\n    apply plugin: &#39;com.novoda.bintray-release&#39;\r\n    apply plugin: &#39;com.jfrog.bintray&#39;\r\n    \r\n    apply plugin: &#39;com.android.application&#39;\r\n    apply plugin: &#39;kotlin-android-extensions&#39;\r\n    apply plugin: &#39;kotlin-android&#39;\r\n    apply from: &#39;../dependencies.gradle&#39;\r\n            compileSdkVersion 32\r\n            useLibrary &#39;org.apache.http.legacy&#39;\r\n            defaultConfig {\r\n                applicationId &quot;com.paramg&quot;\r\n                minSdkVersion 22//18\r\n                targetSdkVersion 32\r\n                versionCode 32   // play stote 28\r\n                versionName &quot;1.1.24&quot; //1.1.20\r\n                multiDexEnabled true\r\n                testInstrumentationRunner &quot;android.support.test.runner.AndroidJUnitRunner&quot;\r\n               // signingConfig signingConfigs.release\r\n        //        signingConfig signingConfigs.release\r\n            }\r\n        \r\n        compileSdkVersion 32\r\n        useLibrary &#39;org.apache.http.legacy&#39;\r\n        defaultConfig {\r\n            applicationId &quot;com.paramg&quot;\r\n            minSdkVersion 22//18\r\n            targetSdkVersion 32\r\n            versionCode 32   // play stote 28\r\n            versionName &quot;1.1.24&quot; //1.1.20\r\n            multiDexEnabled true\r\n            testInstrumentationRunner &quot;android.support.test.runner.AndroidJUnitRunner&quot;\r\n           // signingConfig signingConfigs.release\r\n    //        signingConfig signingConfigs.release\r\n        }\r\n    \r\n        buildTypes {\r\n            debug {\r\n                debuggable true\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n    \r\n            release {\r\n                debuggable false\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n    //            signingConfig signingConfigs.release\r\n            }\r\n        }\r\n    \r\n        dexOptions {\r\n            incremental true\r\n            javaMaxHeapSize &quot;4g&quot;\r\n            preDexLibraries true\r\n            dexInProcess = true\r\n        }\r\n    \r\n        compileOptions {\r\n            sourceCompatibility JavaVersion.VERSION_11\r\n            targetCompatibility JavaVersion.VERSION_11\r\n        }\r\n        configurations {\r\n            //noinspection DuplicatePlatformClasses\r\n            compile.exclude group: &quot;org.apache.httpcomponents&quot;, module: &quot;httpclient&quot;\r\n        }\r\n        packagingOptions {\r\n            exclude &#39;META-INF/DEPENDENCIES&#39;\r\n            exclude &#39;META-INF/LICENSE&#39;\r\n            exclude &#39;META-INF/LICENSE.txt&#39;\r\n            exclude &#39;META-INF/license.txt&#39;\r\n            exclude &#39;META-INF/NOTICE&#39;\r\n            exclude &#39;META-INF/NOTICE.txt&#39;\r\n            exclude &#39;META-INF/notice.txt&#39;\r\n            exclude &#39;META-INF/ASL2.0&#39;\r\n            exclude &#39;META-INF/core_release.kotlin_module&#39;\r\n            exclude &#39;META-INF/services/javax.annotation.processing.Processor&#39;\r\n            pickFirst &#39;META-INF/maven/com.squareup.okhttp3/okhttp/pom.properties&#39;\r\n            pickFirst &#39;META-INF/maven/com.squareup.okhttp3/okhttp/pom.xml&#39;\r\n            exclude &#39;META-INF/DEPENDENCIES.txt&#39;\r\n            exclude &#39;META-INF/dependencies.txt&#39;\r\n            exclude &#39;META-INF/LGPL2.1&#39;\r\n        }\r\n    \r\n        repositories {\r\n            maven {\r\n                google()\r\n                jcenter()\r\n                url &quot;https://mint.splunk.com/gradle/&quot;\r\n    \r\n            }\r\n            flatDir {\r\n                dirs &#39;libs&#39;\r\n            }\r\n        }\r\n        lintOptions {\r\n            checkReleaseBuilds false\r\n            disable &#39;InvalidPackage&#39;\r\n            abortOnError false\r\n        }\r\n    \r\n    \r\n    \r\n        kotlinOptions {\r\n            jvmTarget = &quot;1.8&quot;\r\n        }\r\n        def version = &quot;1.0.5&quot;\r\n    \r\n        publish {\r\n            userOrg = &#39;shinhyo&#39;\r\n            groupId = &#39;com.wonshinhyo&#39;\r\n            artifactId = &#39;dragrecyclerview&#39;\r\n            publishVersion = version\r\n            website = &#39;https://github.com/adearya69/DragRecyclerView&#39;\r\n            issueTracker = &quot;${website}/issues&quot;\r\n            repository = &quot;${website}.git&quot;\r\n        }\r\n    \r\n    \r\n    \r\n    }\r\n    dependencies {\r\n    // implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n        implementation &#39;androidx.legacy:legacy-support-v4:1.0.0&#39;\r\n        implementation &#39;androidx.constraintlayout:constraintlayout:2.1.4&#39;\r\n        testImplementation &#39;junit:junit:4.13.2&#39;\r\n        implementation &#39;androidx.appcompat:appcompat:1.4.1&#39;\r\n        implementation &#39;androidx.annotation:annotation:1.3.0&#39;\r\n        implementation &#39;com.google.android.material:material:1.6.0&#39;\r\n        implementation &#39;com.squareup.picasso:picasso:2.71828&#39;\r\n        implementation &#39;androidx.multidex:multidex:2.0.1&#39;\r\n        implementation &#39;de.hdodenhof:circleimageview:3.1.0&#39;\r\n        implementation &#39;com.jakewharton:butterknife:10.2.3&#39;\r\n        annotationProcessor &#39;com.jakewharton:butterknife-compiler:10.2.3&#39;\r\n        implementation &#39;com.flurry.android:analytics:12.4.0@aar&#39;\r\n        implementation &#39;com.github.jgabrielfreitas:BlurImageView:1.0.1&#39;\r\n        implementation &#39;pl.droidsonroids.gif:android-gif-drawable:1.2.24&#39;\r\n        implementation &#39;com.google.apis:google-api-services-youtube:v3-rev181-1.22.0&#39;\r\n        implementation &#39;androidx.lifecycle:lifecycle-extensions:2.9.0&#39;\r\n        implementation &quot;android.arch.lifecycle:viewmodel:$archLifecycleVersion&quot;\r\n        implementation &#39;com.squareup.retrofit2:retrofit:2.9.0&#39;\r\n        implementation &#39;com.squareup.retrofit2:adapter-rxjava2:2.9.0&#39;\r\n        implementation &quot;com.squareup.retrofit2:converter-gson:2.9.0&quot;\r\n        implementation &quot;com.squareup.okhttp3:okhttp:4.2.2&quot;\r\n        implementation &quot;com.squareup.okhttp3:logging-interceptor:4.2.2&quot;\r\n        implementation &quot;com.google.code.gson:gson:2.8.9&quot;\r\n    //    implementation project(&#39;:countrycodepicker&#39;)\r\n        implementation &#39;com.github.takusemba:multisnaprecyclerview:1.3.4&#39;\r\n        implementation &#39;com.splunk.mint:mint:4.4.0&#39;\r\n        implementation &quot;androidx.core:core-ktx:1.7.0&quot;\r\n        implementation &quot;androidx.lifecycle:lifecycle-viewmodel-ktx:2.4.1&quot;\r\n        implementation &#39;com.github.bumptech.glide:glide:4.13.2&#39;\r\n        implementation &#39;com.github.jgabrielfreitas:BlurImageView:1.0.1&#39;\r\n        implementation files(&#39;libs/YouTubeAndroidPlayerApi.jar&#39;)\r\n        implementation(&quot;com.google.android.gms:play-services-gcm:17.0.0&quot;) {\r\n            exclude group: &quot;com.google.android.gms&quot;\r\n        }\r\n    // implementation &#39;com.google.android.gms:play-services:12.0.0&#39;\r\n        implementation &#39;com.google.firebase:firebase-core:21.0.0&#39;\r\n        implementation &#39;com.google.firebase:firebase-auth:21.0.4&#39;\r\n        implementation &#39;com.google.firebase:firebase-messaging:23.0.5&#39;\r\n        implementation &#39;com.google.android.gms:play-services-safetynet:18.0.1&#39;\r\n    \r\n    //    implementation project(&#39;:folioreader&#39;)\r\n        implementation &#39;com.android.support:multidex:1.0.3&#39;\r\n        implementation &#39;com.android.volley:volley:1.2.1&#39;\r\n        implementation &#39;com.github.barteksc:android-pdf-viewer:2.8.2&#39;\r\n    \r\n        implementation &#39;com.pierfrancescosoffritti.androidyoutubeplayer:core:11.0.1&#39;\r\n        implementation &quot;com.fasterxml.jackson.core:jackson-core:2.11.1&quot;\r\n        implementation &quot;com.fasterxml.jackson.core:jackson-annotations:2.11.1&quot;\r\n        implementation &quot;com.fasterxml.jackson.core:jackson-databind:2.11.1&quot;\r\n        implementation &quot;com.fasterxml.jackson.module:jackson-module-kotlin:2.11.1&quot;\r\n        implementation &#39;com.tomergoldst.android:tooltips:1.0.10&#39;\r\n    \r\n    //progressBar error solve\r\n        configurations.matching { it.name == &#39;_internal_aapt2_binary&#39; }.all { config -&gt;\r\n            config.resolutionStrategy.eachDependency { details -&gt;\r\n                details.useVersion(&quot;3.3.2-5309881&quot;)\r\n            }\r\n        }\r\n        implementation &#39;com.github.chrisbanes:PhotoView:2.0.0&#39;\r\n    \r\n    \r\n    //for auto read otp in android\r\n        implementation &#39;com.google.android.gms:play-services-base:18.0.1&#39;\r\n        implementation &#39;com.google.android.gms:play-services-auth-api-phone:18.0.1&#39;\r\n        implementation &#39;com.google.android.gms:play-services-location:19.0.1&#39;\r\n    \r\n        implementation &#39;androidx.viewpager2:viewpager2:1.1.0-beta01&#39;\r\n        implementation &#39;com.google.android.material:material:1.7.0-alpha01&#39;\r\n        implementation &#39;com.google.guava:listenablefuture:9999.0-empty-to-avoid-conflict-with-guava&#39;\r\n    \r\n        implementation platform(&#39;com.google.firebase:firebase-bom:25.12.0&#39;)\r\n        implementation &#39;com.google.firebase:firebase-dynamic-links&#39;\r\n        implementation &#39;com.google.firebase:firebase-analytics&#39;\r\n        implementation &#39;com.google.android.gms:play-services-location:19.0.1&#39;\r\n        implementation &#39;com.google.android.gms:play-services-maps:18.0.2&#39;\r\n    \r\n        implementation &#39;com.google.firebase:firebase-crashlytics:18.2.10&#39;\r\n        implementation &#39;com.google.firebase:firebase-analytics:21.0.0&#39;\r\n    \r\n        implementation &#39;com.google.android.play:core:1.10.3&#39;\r\n        implementation &#39;com.github.SanojPunchihewa:InAppUpdater:1.0.5&#39;\r\n        implementation &#39;com.google.firebase:firebase-config-ktx:21.1.0&#39;\r\n        implementation &#39;com.github.shts:StoriesProgressView:3.0.0&#39;\r\n        implementation &#39;com.github.3llomi:CircularStatusView:V1.0.2&#39;\r\n    \r\n        implementation &#39;org.jetbrains.kotlinx:kotlinx-coroutines-core:1.6.1&#39;\r\n        implementation &#39;org.jetbrains.kotlinx:kotlinx-coroutines-android:1.6.1&#39;\r\n    \r\n    \r\n    \r\n        implementation &#39;com.google.api-client:google-api-client-android:1.23.0&#39; exclude module: &#39;httpclient&#39;\r\n        implementation &#39;com.google.http-client:google-http-client-gson:1.23.0&#39; exclude module: &#39;httpclient&#39;\r\n    \r\n        implementation &quot;androidx.lifecycle:lifecycle-common-java8:2.4.1&quot;\r\n    \r\n        implementation &#39;androidx.lifecycle:lifecycle-extensions:2.2.0&#39;\r\n        annotationProcessor &#39;androidx.lifecycle:lifecycle-compiler:2.4.1&#39;\r\n        implementation &#39;org.apache.httpcomponents:httpclient:4.5.9&#39;\r\n        implementation fileTree(dir: &quot;libs&quot;, include: [&quot;*.aar&quot;])\r\n    \r\n        implementation fileTree(include: [&#39;*.jar&#39;], dir: &#39;libs&#39;)\r\n    \r\n    \r\n    \r\n    \r\n    \r\n    }\r\n    \r\n    \r\n    afterEvaluate {\r\n        publishing {\r\n            publications {\r\n                release(MavenPublication) {\r\n                    from components.release\r\n                    groupId = &quot;com.wwdablu&quot;\r\n                    artifactId = &quot;guidededittext&quot;\r\n                    version = &#39;1.0.0&#39;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    \r\n    apply plugin: &#39;com.google.gms.google-services&#39;\r\n    //apply plugin: &#39;com.google.firebase.crashlytics&#39;\r\n    googleServices { disableVersionCheck = true }","title":"Cannot add a configuration with name &#39;androidJdkImage&#39; as a configuration with that name already exists","body":"<p>This is my second question related to this android build issue.</p>\n<p>I just updated gradle from 3.XX to 7.2.0 and am rebuilding and finding the following error.</p>\n<p>Have i added 2 plugins that are inadvertently calling ths same configuration name by any chance. Any help will be appreciated.</p>\n<p><strong>Error</strong></p>\n<pre><code>Build file '/home/mohit/Documents/Android project/paramg-android-app/app/build.gradle' line: 16\n\nA problem occurred evaluating project ':app'.\n&gt; Failed to apply plugin 'com.android.internal.application'.\n   &gt; Cannot add a configuration with name 'androidJdkImage' as a configuration with that name already exists.\n\n* Try:\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Exception is:\norg.gradle.api.GradleScriptException: A problem occurred evaluating project ':app'.\n    at org.gradle.groovy.scripts.internal.DefaultScriptRunnerFactory$ScriptRunnerImpl.run(DefaultScriptRunnerFactory.java:93)\n    at org.gradle.configuration.DefaultScriptPluginFactory$ScriptPluginImpl.lambda$apply$0(DefaultScriptPluginFactory.java:133)\n    at org.gradle.configuration.ProjectScriptTarget.addConfiguration(ProjectScriptTarget.java:79)\n    at org.gradle.configuration.DefaultScriptPluginFactory$ScriptPluginImpl.apply(DefaultScriptPluginFactory.java:136)\n    at org.gradle.configuration.BuildOperationScriptPlugin$1.run(BuildOperationScriptPlugin.java:65)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\n    at org.gradle.configuration.BuildOperationScriptPlugin.lambda$apply$0(BuildOperationScriptPlugin.java:62)\n    at org.gradle.configuration.internal.DefaultUserCodeApplicationContext.apply(DefaultUserCodeApplicationContext.java:44)\n    at org.gradle.configuration.BuildOperationScriptPlugin.apply(BuildOperationScriptPlugin.java:62)\n    at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.lambda$applyToMutableState$0(DefaultProjectStateRegistry.java:366)\n    at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.fromMutableState(DefaultProjectStateRegistry.java:393)\n    at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.applyToMutableState(DefaultProjectStateRegistry.java:365)\n    at org.gradle.configuration.project.BuildScriptProcessor.execute(BuildScriptProcessor.java:42)\n    at org.gradle.configuration.project.BuildScriptProcessor.execute(BuildScriptProcessor.java:26)\n    at org.gradle.configuration.project.ConfigureActionsProjectEvaluator.evaluate(ConfigureActionsProjectEvaluator.java:35)\n    at org.gradle.configuration.project.LifecycleProjectEvaluator$EvaluateProject.lambda$run$0(LifecycleProjectEvaluator.java:100)\n    at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.lambda$applyToMutableState$0(DefaultProjectStateRegistry.java:366)\n    at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.lambda$withProjectLock$3(DefaultProjectStateRegistry.java:426)\n    at org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:211)\n    at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.withProjectLock(DefaultProjectStateRegistry.java:426)\n    at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.fromMutableState(DefaultProjectStateRegistry.java:407)\n    at org.gradle.api.internal.project.D\n</code></pre>\n<p><strong>App module build.gradle file:</strong></p>\n<pre><code> buildscript {\n    repositories {\n        google()\n    mavenCentral()\n  \n\n  }\n}\nrepositories {\n    google()\n    mavenCentral()\n}\n\napply plugin: 'com.android.library'\napply plugin: 'com.novoda.bintray-release'\napply plugin: 'com.jfrog.bintray'\n\napply plugin: 'com.android.application'\napply plugin: 'kotlin-android-extensions'\napply plugin: 'kotlin-android'\napply from: '../dependencies.gradle'\n        compileSdkVersion 32\n        useLibrary 'org.apache.http.legacy'\n        defaultConfig {\n            applicationId &quot;com.paramg&quot;\n            minSdkVersion 22//18\n            targetSdkVersion 32\n            versionCode 32   // play stote 28\n            versionName &quot;1.1.24&quot; //1.1.20\n            multiDexEnabled true\n            testInstrumentationRunner &quot;android.support.test.runner.AndroidJUnitRunner&quot;\n           // signingConfig signingConfigs.release\n    //        signingConfig signingConfigs.release\n        }\n    \n    compileSdkVersion 32\n    useLibrary 'org.apache.http.legacy'\n    defaultConfig {\n        applicationId &quot;com.paramg&quot;\n        minSdkVersion 22//18\n        targetSdkVersion 32\n        versionCode 32   // play stote 28\n        versionName &quot;1.1.24&quot; //1.1.20\n        multiDexEnabled true\n        testInstrumentationRunner &quot;android.support.test.runner.AndroidJUnitRunner&quot;\n       // signingConfig signingConfigs.release\n//        signingConfig signingConfigs.release\n    }\n\n    buildTypes {\n        debug {\n            debuggable true\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n\n        release {\n            debuggable false\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n//            signingConfig signingConfigs.release\n        }\n    }\n\n    dexOptions {\n        incremental true\n        javaMaxHeapSize &quot;4g&quot;\n        preDexLibraries true\n        dexInProcess = true\n    }\n\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_11\n        targetCompatibility JavaVersion.VERSION_11\n    }\n    configurations {\n        //noinspection DuplicatePlatformClasses\n        compile.exclude group: &quot;org.apache.httpcomponents&quot;, module: &quot;httpclient&quot;\n    }\n    packagingOptions {\n        exclude 'META-INF/DEPENDENCIES'\n        exclude 'META-INF/LICENSE'\n        exclude 'META-INF/LICENSE.txt'\n        exclude 'META-INF/license.txt'\n        exclude 'META-INF/NOTICE'\n        exclude 'META-INF/NOTICE.txt'\n        exclude 'META-INF/notice.txt'\n        exclude 'META-INF/ASL2.0'\n        exclude 'META-INF/core_release.kotlin_module'\n        exclude 'META-INF/services/javax.annotation.processing.Processor'\n        pickFirst 'META-INF/maven/com.squareup.okhttp3/okhttp/pom.properties'\n        pickFirst 'META-INF/maven/com.squareup.okhttp3/okhttp/pom.xml'\n        exclude 'META-INF/DEPENDENCIES.txt'\n        exclude 'META-INF/dependencies.txt'\n        exclude 'META-INF/LGPL2.1'\n    }\n\n    repositories {\n        maven {\n            google()\n            jcenter()\n            url &quot;https://mint.splunk.com/gradle/&quot;\n\n        }\n        flatDir {\n            dirs 'libs'\n        }\n    }\n    lintOptions {\n        checkReleaseBuilds false\n        disable 'InvalidPackage'\n        abortOnError false\n    }\n\n\n\n    kotlinOptions {\n        jvmTarget = &quot;1.8&quot;\n    }\n    def version = &quot;1.0.5&quot;\n\n    publish {\n        userOrg = 'shinhyo'\n        groupId = 'com.wonshinhyo'\n        artifactId = 'dragrecyclerview'\n        publishVersion = version\n        website = 'https://github.com/adearya69/DragRecyclerView'\n        issueTracker = &quot;${website}/issues&quot;\n        repository = &quot;${website}.git&quot;\n    }\n\n\n\n}\ndependencies {\n// implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation 'androidx.legacy:legacy-support-v4:1.0.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.4'\n    testImplementation 'junit:junit:4.13.2'\n    implementation 'androidx.appcompat:appcompat:1.4.1'\n    implementation 'androidx.annotation:annotation:1.3.0'\n    implementation 'com.google.android.material:material:1.6.0'\n    implementation 'com.squareup.picasso:picasso:2.71828'\n    implementation 'androidx.multidex:multidex:2.0.1'\n    implementation 'de.hdodenhof:circleimageview:3.1.0'\n    implementation 'com.jakewharton:butterknife:10.2.3'\n    annotationProcessor 'com.jakewharton:butterknife-compiler:10.2.3'\n    implementation 'com.flurry.android:analytics:12.4.0@aar'\n    implementation 'com.github.jgabrielfreitas:BlurImageView:1.0.1'\n    implementation 'pl.droidsonroids.gif:android-gif-drawable:1.2.24'\n    implementation 'com.google.apis:google-api-services-youtube:v3-rev181-1.22.0'\n    implementation 'androidx.lifecycle:lifecycle-extensions:2.9.0'\n    implementation &quot;android.arch.lifecycle:viewmodel:$archLifecycleVersion&quot;\n    implementation 'com.squareup.retrofit2:retrofit:2.9.0'\n    implementation 'com.squareup.retrofit2:adapter-rxjava2:2.9.0'\n    implementation &quot;com.squareup.retrofit2:converter-gson:2.9.0&quot;\n    implementation &quot;com.squareup.okhttp3:okhttp:4.2.2&quot;\n    implementation &quot;com.squareup.okhttp3:logging-interceptor:4.2.2&quot;\n    implementation &quot;com.google.code.gson:gson:2.8.9&quot;\n//    implementation project(':countrycodepicker')\n    implementation 'com.github.takusemba:multisnaprecyclerview:1.3.4'\n    implementation 'com.splunk.mint:mint:4.4.0'\n    implementation &quot;androidx.core:core-ktx:1.7.0&quot;\n    implementation &quot;androidx.lifecycle:lifecycle-viewmodel-ktx:2.4.1&quot;\n    implementation 'com.github.bumptech.glide:glide:4.13.2'\n    implementation 'com.github.jgabrielfreitas:BlurImageView:1.0.1'\n    implementation files('libs/YouTubeAndroidPlayerApi.jar')\n    implementation(&quot;com.google.android.gms:play-services-gcm:17.0.0&quot;) {\n        exclude group: &quot;com.google.android.gms&quot;\n    }\n// implementation 'com.google.android.gms:play-services:12.0.0'\n    implementation 'com.google.firebase:firebase-core:21.0.0'\n    implementation 'com.google.firebase:firebase-auth:21.0.4'\n    implementation 'com.google.firebase:firebase-messaging:23.0.5'\n    implementation 'com.google.android.gms:play-services-safetynet:18.0.1'\n\n//    implementation project(':folioreader')\n    implementation 'com.android.support:multidex:1.0.3'\n    implementation 'com.android.volley:volley:1.2.1'\n    implementation 'com.github.barteksc:android-pdf-viewer:2.8.2'\n\n    implementation 'com.pierfrancescosoffritti.androidyoutubeplayer:core:11.0.1'\n    implementation &quot;com.fasterxml.jackson.core:jackson-core:2.11.1&quot;\n    implementation &quot;com.fasterxml.jackson.core:jackson-annotations:2.11.1&quot;\n    implementation &quot;com.fasterxml.jackson.core:jackson-databind:2.11.1&quot;\n    implementation &quot;com.fasterxml.jackson.module:jackson-module-kotlin:2.11.1&quot;\n    implementation 'com.tomergoldst.android:tooltips:1.0.10'\n\n//progressBar error solve\n    configurations.matching { it.name == '_internal_aapt2_binary' }.all { config -&gt;\n        config.resolutionStrategy.eachDependency { details -&gt;\n            details.useVersion(&quot;3.3.2-5309881&quot;)\n        }\n    }\n    implementation 'com.github.chrisbanes:PhotoView:2.0.0'\n\n\n//for auto read otp in android\n    implementation 'com.google.android.gms:play-services-base:18.0.1'\n    implementation 'com.google.android.gms:play-services-auth-api-phone:18.0.1'\n    implementation 'com.google.android.gms:play-services-location:19.0.1'\n\n    implementation 'androidx.viewpager2:viewpager2:1.1.0-beta01'\n    implementation 'com.google.android.material:material:1.7.0-alpha01'\n    implementation 'com.google.guava:listenablefuture:9999.0-empty-to-avoid-conflict-with-guava'\n\n    implementation platform('com.google.firebase:firebase-bom:25.12.0')\n    implementation 'com.google.firebase:firebase-dynamic-links'\n    implementation 'com.google.firebase:firebase-analytics'\n    implementation 'com.google.android.gms:play-services-location:19.0.1'\n    implementation 'com.google.android.gms:play-services-maps:18.0.2'\n\n    implementation 'com.google.firebase:firebase-crashlytics:18.2.10'\n    implementation 'com.google.firebase:firebase-analytics:21.0.0'\n\n    implementation 'com.google.android.play:core:1.10.3'\n    implementation 'com.github.SanojPunchihewa:InAppUpdater:1.0.5'\n    implementation 'com.google.firebase:firebase-config-ktx:21.1.0'\n    implementation 'com.github.shts:StoriesProgressView:3.0.0'\n    implementation 'com.github.3llomi:CircularStatusView:V1.0.2'\n\n    implementation 'org.jetbrains.kotlinx:kotlinx-coroutines-core:1.6.1'\n    implementation 'org.jetbrains.kotlinx:kotlinx-coroutines-android:1.6.1'\n\n\n\n    implementation 'com.google.api-client:google-api-client-android:1.23.0' exclude module: 'httpclient'\n    implementation 'com.google.http-client:google-http-client-gson:1.23.0' exclude module: 'httpclient'\n\n    implementation &quot;androidx.lifecycle:lifecycle-common-java8:2.4.1&quot;\n\n    implementation 'androidx.lifecycle:lifecycle-extensions:2.2.0'\n    annotationProcessor 'androidx.lifecycle:lifecycle-compiler:2.4.1'\n    implementation 'org.apache.httpcomponents:httpclient:4.5.9'\n    implementation fileTree(dir: &quot;libs&quot;, include: [&quot;*.aar&quot;])\n\n    implementation fileTree(include: ['*.jar'], dir: 'libs')\n\n\n\n\n\n}\n\n\nafterEvaluate {\n    publishing {\n        publications {\n            release(MavenPublication) {\n                from components.release\n                groupId = &quot;com.wwdablu&quot;\n                artifactId = &quot;guidededittext&quot;\n                version = '1.0.0'\n            }\n        }\n    }\n}\n\napply plugin: 'com.google.gms.google-services'\n//apply plugin: 'com.google.firebase.crashlytics'\ngoogleServices { disableVersionCheck = true }\n</code></pre>\n"},{"tags":["java","spring","postgresql","spring-mvc","jpa"],"answers":[{"tags":[],"owner":{"account_id":3414783,"reputation":3286,"user_id":2863995,"accept_rate":57,"display_name":"Arnold Galovics"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1501051651,"creation_date":1501051651,"answer_id":45319425,"question_id":45319241,"body_markdown":"**Problem 1:** You can pass a second parameter to your query, called Pageable.\r\n\r\n`List&lt;T&gt; findByIsDeleted(boolean isDeleted, Pageable pageable);`\r\n\r\nThis `Pageable` is an interface, but you can use the `PageRequest` implementation for it. It requires two things to create a `PageRequest`, the page number and the size (meaning that how many rows you want to fetch). Of course, in your case the page number is 0 and the size should be set by reading the value from the properties file.\r\n\r\n**Problem 2:** You can externalize the table name to a class which only consists of constant values. You can use these values in your `@Table` annotation on your entity class and here as well.\r\n\r\nMore reading: http://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.special-parameters\r\n","title":"Limiting the number of results in Spring data JPA","body":"<p><strong>Problem 1:</strong> You can pass a second parameter to your query, called Pageable.</p>\n\n<p><code>List&lt;T&gt; findByIsDeleted(boolean isDeleted, Pageable pageable);</code></p>\n\n<p>This <code>Pageable</code> is an interface, but you can use the <code>PageRequest</code> implementation for it. It requires two things to create a <code>PageRequest</code>, the page number and the size (meaning that how many rows you want to fetch). Of course, in your case the page number is 0 and the size should be set by reading the value from the properties file.</p>\n\n<p><strong>Problem 2:</strong> You can externalize the table name to a class which only consists of constant values. You can use these values in your <code>@Table</code> annotation on your entity class and here as well.</p>\n\n<p>More reading: <a href=\"http://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.special-parameters\" rel=\"noreferrer\">http://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.special-parameters</a></p>\n"},{"tags":[],"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691483079,"creation_date":1691483079,"answer_id":76857715,"question_id":45319241,"body_markdown":"Starting with version 3.2.0-M1 you can also use a `Limit` instead of a `Pageable`.\r\n\r\n```\r\nList&lt;User&gt; findByIsDeleted(boolean isDeleted, Limit.of(1000));\r\n```\r\n\r\nSince `1000` is now just a simple value you can get it from a property file, make it a constant or get it from wherever you want.\r\n\r\nSee: https://github.com/spring-projects/spring-data-jpa/issues/3052 and https://github.com/spring-projects/spring-data-commons/issues/2827, especially the documentation bits here https://github.com/spring-projects/spring-data-commons/commit/a5408a478d015bb5e83de62c3872119b02ad89a7\r\n","title":"Limiting the number of results in Spring data JPA","body":"<p>Starting with version 3.2.0-M1 you can also use a <code>Limit</code> instead of a <code>Pageable</code>.</p>\n<pre><code>List&lt;User&gt; findByIsDeleted(boolean isDeleted, Limit.of(1000));\n</code></pre>\n<p>Since <code>1000</code> is now just a simple value you can get it from a property file, make it a constant or get it from wherever you want.</p>\n<p>See: <a href=\"https://github.com/spring-projects/spring-data-jpa/issues/3052\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-data-jpa/issues/3052</a> and <a href=\"https://github.com/spring-projects/spring-data-commons/issues/2827\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-data-commons/issues/2827</a>, especially the documentation bits here <a href=\"https://github.com/spring-projects/spring-data-commons/commit/a5408a478d015bb5e83de62c3872119b02ad89a7\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-data-commons/commit/a5408a478d015bb5e83de62c3872119b02ad89a7</a></p>\n"}],"owner":{"account_id":6512107,"reputation":4526,"user_id":5038993,"accept_rate":67,"display_name":"Akeshwar Jha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11803,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":45319425,"answer_count":2,"score":0,"last_activity_date":1691483079,"creation_date":1501051086,"question_id":45319241,"body_markdown":"I have 20+ tables in my DB and I need to have a method to fetch all non-deleted rows from the tables. Therefore, I wrote the following interface:\r\n\r\n    @NoRepositoryBean\r\n    public interface CommonRepositry&lt;T, ID extends Serializable&gt; extends CrudRepository&lt;T, UUID&gt;{\r\n        List&lt;T&gt; findByIsDeleted(boolean isDeleted);\r\n    }\r\n\r\nAll my model repositories extend this `CommonRepositry` and I&#39;m able to access all the non-deleted rows:\r\n\r\n    public interface ModelNameRepository extends CommonRepositry&lt;ModelName, UUID&gt; { \r\n    // sevral spring JPA methods \r\n\r\nAs the tables are growing in size, I want to put an *adjustable* limit on the number of results that the method returns. There are two ways to do so and I&#39;m having issues with both of them:\r\n\r\n\r\nFrom the [docs][1], this is how I am supposed to do it:\r\n\r\n    List&lt;User&gt; findTop1000ByIsDeleted(boolean isDeleted);\r\n\r\nIt only returns me the top 1000 rows. \r\n\r\n**PROBLEM:** I want to externalise this `1000` to the properties file so that if I have to change, I do it only at a single place. \r\n\r\nAnother way to do that would be to use `@Query` annotation and write the SQL query:\r\n\r\n    @Query(value = &quot;SELECT * FROM table_name&quot; + &quot; WHERE is_deleted = :isDeleted LIMIT 1000;&quot;, nativeQuery = true)\r\n    List&lt;T&gt; findByIsDeleted(@Param(&quot;isDeleted&quot;)boolean isDeleted);\r\n\r\n**PROBLEM:** how do I get the table_name? My model class names to table-names have simple CamelCase to camel_case mapping. But how do I get the model class name from `T`?\r\n\r\n  [1]: https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.limit-query-result","title":"Limiting the number of results in Spring data JPA","body":"<p>I have 20+ tables in my DB and I need to have a method to fetch all non-deleted rows from the tables. Therefore, I wrote the following interface:</p>\n\n<pre><code>@NoRepositoryBean\npublic interface CommonRepositry&lt;T, ID extends Serializable&gt; extends CrudRepository&lt;T, UUID&gt;{\n    List&lt;T&gt; findByIsDeleted(boolean isDeleted);\n}\n</code></pre>\n\n<p>All my model repositories extend this <code>CommonRepositry</code> and I'm able to access all the non-deleted rows:</p>\n\n<pre><code>public interface ModelNameRepository extends CommonRepositry&lt;ModelName, UUID&gt; { \n// sevral spring JPA methods \n</code></pre>\n\n<p>As the tables are growing in size, I want to put an <em>adjustable</em> limit on the number of results that the method returns. There are two ways to do so and I'm having issues with both of them:</p>\n\n<p>From the <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.limit-query-result\" rel=\"nofollow noreferrer\">docs</a>, this is how I am supposed to do it:</p>\n\n<pre><code>List&lt;User&gt; findTop1000ByIsDeleted(boolean isDeleted);\n</code></pre>\n\n<p>It only returns me the top 1000 rows. </p>\n\n<p><strong>PROBLEM:</strong> I want to externalise this <code>1000</code> to the properties file so that if I have to change, I do it only at a single place. </p>\n\n<p>Another way to do that would be to use <code>@Query</code> annotation and write the SQL query:</p>\n\n<pre><code>@Query(value = \"SELECT * FROM table_name\" + \" WHERE is_deleted = :isDeleted LIMIT 1000;\", nativeQuery = true)\nList&lt;T&gt; findByIsDeleted(@Param(\"isDeleted\")boolean isDeleted);\n</code></pre>\n\n<p><strong>PROBLEM:</strong> how do I get the table_name? My model class names to table-names have simple CamelCase to camel_case mapping. But how do I get the model class name from <code>T</code>?</p>\n"},{"tags":["java","json","jackson"],"comments":[{"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"score":0,"creation_date":1691413290,"post_id":76851866,"comment_id":135483932,"body_markdown":"Please share your deserialization code as well as `SharepointFile` class","body":"Please share your deserialization code as well as <code>SharepointFile</code> class"},{"owner":{"account_id":14629078,"reputation":1614,"user_id":10565504,"display_name":"CptDayDreamer"},"score":0,"creation_date":1691480158,"post_id":76851866,"comment_id":135493514,"body_markdown":"Deserialization code? There is no. It is the default Jackson Mapper.","body":"Deserialization code? There is no. It is the default Jackson Mapper."},{"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"score":0,"creation_date":1691483908,"post_id":76851866,"comment_id":135494311,"body_markdown":"What is `entry` in the last code sample?","body":"What is <code>entry</code> in the last code sample?"}],"owner":{"account_id":14629078,"reputation":1614,"user_id":10565504,"display_name":"CptDayDreamer"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691482344,"creation_date":1691412313,"question_id":76851866,"body_markdown":"I got a special usecase where I need to deserialize something very complex.\r\n\r\n    Map&lt;String, List&lt;SharepointFile&gt;&gt; areaMappings =\r\n        (Map&lt;String, List&lt;SharepointFile&gt;&gt;) execution.getVariable(&quot;areaMappings&quot;);\r\n\r\nDon&#39;t worry about `execution.getVariable(&quot;areaMappings&quot;)` it just returns the valuue of the saved variable (it&#39;s Camunda). `SharepointFile` is a complex object here. It only contains simple types like String, boolean etc. Still Jackson is not able to convert it.\r\n\r\n    java.lang.ClassCastException: class java.util.ArrayList cannot be cast to class com.fasterxml.jackson.core.JsonParser (java.util.ArrayList is in module java.base of loader &#39;bootstrap&#39;; com.fasterxml.jackson.core.JsonParser is in unnamed module of loader org.springframework.boot.loader.LaunchedURLClassLoader @17a7cec2)\r\n\r\nI can save it without problems and also retrieve it in the frontend but if I want to use it again in Java the deserialization crashes.\r\n\r\nWe have customized the JacksonMapper with additional modules and also this:\r\n\r\n        .setSerializationInclusion(JsonInclude.Include.NON_NULL)\r\n        .enable(SerializationFeature.WRITE_ENUMS_USING_TO_STRING)\r\n        .enable(DeserializationFeature.ACCEPT_EMPTY_ARRAY_AS_NULL_OBJECT)\r\n        .disable(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS)\r\n        .configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false));\r\n\r\nHow can I fix this?\r\n\r\nEdit: `SharepointFile`:\r\n\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public class SharepointFile implements Serializable {\r\n      private String fileName;\r\n      private String filePath;\r\n      private String downloadLink;\r\n      private LocalDateTime localDateTime;\r\n      private String userName;\r\n      private String type;\r\n      private Boolean selected;\r\n    \r\n      public SharepointFile(\r\n          String fileName,\r\n          String filePath,\r\n          String downloadLink,\r\n          LocalDateTime localDateTime,\r\n          String userName,\r\n          String type) {\r\n        this.fileName = fileName;\r\n        this.filePath = filePath;\r\n        this.downloadLink = downloadLink;\r\n        this.localDateTime = localDateTime;\r\n        this.userName = userName;\r\n        this.type = type;\r\n        this.selected = false;\r\n      }\r\n    }\r\n\r\nEdit: I was looking at the wrong point. This one is crashing:\r\n\r\n\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    \r\n      List&lt;SharepointFile&gt; sharepointFileList =\r\n          mapper.readValue((JsonParser) entry.getValue(), new TypeReference&lt;&gt;() {});","title":"How to deserialize a map with a List of complex objects in Jackson?","body":"<p>I got a special usecase where I need to deserialize something very complex.</p>\n<pre><code>Map&lt;String, List&lt;SharepointFile&gt;&gt; areaMappings =\n    (Map&lt;String, List&lt;SharepointFile&gt;&gt;) execution.getVariable(&quot;areaMappings&quot;);\n</code></pre>\n<p>Don't worry about <code>execution.getVariable(&quot;areaMappings&quot;)</code> it just returns the valuue of the saved variable (it's Camunda). <code>SharepointFile</code> is a complex object here. It only contains simple types like String, boolean etc. Still Jackson is not able to convert it.</p>\n<pre><code>java.lang.ClassCastException: class java.util.ArrayList cannot be cast to class com.fasterxml.jackson.core.JsonParser (java.util.ArrayList is in module java.base of loader 'bootstrap'; com.fasterxml.jackson.core.JsonParser is in unnamed module of loader org.springframework.boot.loader.LaunchedURLClassLoader @17a7cec2)\n</code></pre>\n<p>I can save it without problems and also retrieve it in the frontend but if I want to use it again in Java the deserialization crashes.</p>\n<p>We have customized the JacksonMapper with additional modules and also this:</p>\n<pre><code>    .setSerializationInclusion(JsonInclude.Include.NON_NULL)\n    .enable(SerializationFeature.WRITE_ENUMS_USING_TO_STRING)\n    .enable(DeserializationFeature.ACCEPT_EMPTY_ARRAY_AS_NULL_OBJECT)\n    .disable(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS)\n    .configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false));\n</code></pre>\n<p>How can I fix this?</p>\n<p>Edit: <code>SharepointFile</code>:</p>\n<pre><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class SharepointFile implements Serializable {\n  private String fileName;\n  private String filePath;\n  private String downloadLink;\n  private LocalDateTime localDateTime;\n  private String userName;\n  private String type;\n  private Boolean selected;\n\n  public SharepointFile(\n      String fileName,\n      String filePath,\n      String downloadLink,\n      LocalDateTime localDateTime,\n      String userName,\n      String type) {\n    this.fileName = fileName;\n    this.filePath = filePath;\n    this.downloadLink = downloadLink;\n    this.localDateTime = localDateTime;\n    this.userName = userName;\n    this.type = type;\n    this.selected = false;\n  }\n}\n</code></pre>\n<p>Edit: I was looking at the wrong point. This one is crashing:</p>\n<pre><code>ObjectMapper mapper = new ObjectMapper();\n\n  List&lt;SharepointFile&gt; sharepointFileList =\n      mapper.readValue((JsonParser) entry.getValue(), new TypeReference&lt;&gt;() {});\n</code></pre>\n"},{"tags":["java","ajax"],"answers":[{"comments":[{"owner":{"account_id":18459260,"reputation":73,"user_id":13447185,"display_name":"egor-n"},"score":0,"creation_date":1691411646,"post_id":76851685,"comment_id":135483562,"body_markdown":"Thanks, but it doesn&#39;t work. It&#39;s still going to that &#39;ERROR&#39; clause and doesn&#39;t redirect as I want it to. It thinks that &#39; SUCCESS&#39; is an error message.","body":"Thanks, but it doesn&#39;t work. It&#39;s still going to that &#39;ERROR&#39; clause and doesn&#39;t redirect as I want it to. It thinks that &#39; SUCCESS&#39; is an error message."},{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":0,"creation_date":1691412189,"post_id":76851685,"comment_id":135483703,"body_markdown":"I added the `ContentType` configuration in my answer, maybe this was the problem.","body":"I added the <code>ContentType</code> configuration in my answer, maybe this was the problem."},{"owner":{"account_id":18459260,"reputation":73,"user_id":13447185,"display_name":"egor-n"},"score":0,"creation_date":1691413896,"post_id":76851685,"comment_id":135484045,"body_markdown":"no, still just prints &#39;SUCCESS&#39; in the div for the error :)\nI can probably manage it by checking what exactly is sent to the error. But it doesn&#39;t make sense. There should be some way to reach success clause if it exists)","body":"no, still just prints &#39;SUCCESS&#39; in the div for the error :) I can probably manage it by checking what exactly is sent to the error. But it doesn&#39;t make sense. There should be some way to reach success clause if it exists)"}],"tags":[],"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691412071,"creation_date":1691411091,"answer_id":76851685,"question_id":76851579,"body_markdown":"You can try this:\r\n\r\n```java\r\nString login = request.getParameter(&quot;login&quot;);\r\nif (adminSecurityDAOImpl.isUserExist(login)) {\r\n    response.sendError(400, &quot;     &quot;);\r\n    response.flushBuffer();\r\n    return;\r\n} else {\r\n    adminSecurityDAOImpl.saveUser(user);\r\n\r\n    response.setContentType(&quot;text/plain&quot;);\r\n    response.getWriter().write(&quot;SUCCESS&quot;); // Sending a success response\r\n    response.flushBuffer();\r\n    return;\r\n}\r\n```\r\n\r\nNow, in your jQuery AJAX call, you can modify the success function to handle the response:\r\n\r\n```javascript\r\n$.ajax({\r\n    type: &quot;POST&quot;,\r\n    url: &quot;/adminUser?save=save&quot;,\r\n    dataType: &#39;json&#39;,\r\n    data: { save: &#39;save&#39;, login: login, pass1: pass1, userName: userName, email: email, bukhUsersId: bukhUsersId, otdelId: otdelId, roleId: roleId, checkActive: checkActive },\r\n    success: function (data) {\r\n        if (data === &quot;SUCCESS&quot;) {\r\n            top.location.href = &quot;/adminUser?action=spisok&quot;;\r\n        } else {\r\n            // Handle other unexpected success responses, if any\r\n        }\r\n    },\r\n    error: function (xhr, status, error) {\r\n        $(&quot;#errorLogin&quot;).text(&quot;     &quot;);\r\n    }\r\n});\r\n```\r\n\r\nIn the context of the jQuery AJAX `success` callback function, the `data` variable represents the response data returned by the server. When the AJAX call is successful and the server sends a response, the `data` parameter in the `success` function holds the content of that response. [Check this out][1].\r\n\r\nWith this setup, when the servlet sends `&quot;SUCCESS&quot;` as the response, the success function of your AJAX call will be triggered, and the page will be redirected to `&quot;/adminUser?action=spisok&quot;`. If the servlet sends anything other than `&quot;SUCCESS&quot;`, you can handle it within the `success` function accordingly.\r\n\r\n\r\n  [1]: https://api.jquery.com/jquery.ajax/","title":"Java Servlets - reaching SUCCESS in ajax","body":"<p>You can try this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String login = request.getParameter(&quot;login&quot;);\nif (adminSecurityDAOImpl.isUserExist(login)) {\n    response.sendError(400, &quot;     &quot;);\n    response.flushBuffer();\n    return;\n} else {\n    adminSecurityDAOImpl.saveUser(user);\n\n    response.setContentType(&quot;text/plain&quot;);\n    response.getWriter().write(&quot;SUCCESS&quot;); // Sending a success response\n    response.flushBuffer();\n    return;\n}\n</code></pre>\n<p>Now, in your jQuery AJAX call, you can modify the success function to handle the response:</p>\n<pre class=\"lang-js prettyprint-override\"><code>$.ajax({\n    type: &quot;POST&quot;,\n    url: &quot;/adminUser?save=save&quot;,\n    dataType: 'json',\n    data: { save: 'save', login: login, pass1: pass1, userName: userName, email: email, bukhUsersId: bukhUsersId, otdelId: otdelId, roleId: roleId, checkActive: checkActive },\n    success: function (data) {\n        if (data === &quot;SUCCESS&quot;) {\n            top.location.href = &quot;/adminUser?action=spisok&quot;;\n        } else {\n            // Handle other unexpected success responses, if any\n        }\n    },\n    error: function (xhr, status, error) {\n        $(&quot;#errorLogin&quot;).text(&quot;     &quot;);\n    }\n});\n</code></pre>\n<p>In the context of the jQuery AJAX <code>success</code> callback function, the <code>data</code> variable represents the response data returned by the server. When the AJAX call is successful and the server sends a response, the <code>data</code> parameter in the <code>success</code> function holds the content of that response. <a href=\"https://api.jquery.com/jquery.ajax/\" rel=\"nofollow noreferrer\">Check this out</a>.</p>\n<p>With this setup, when the servlet sends <code>&quot;SUCCESS&quot;</code> as the response, the success function of your AJAX call will be triggered, and the page will be redirected to <code>&quot;/adminUser?action=spisok&quot;</code>. If the servlet sends anything other than <code>&quot;SUCCESS&quot;</code>, you can handle it within the <code>success</code> function accordingly.</p>\n"},{"tags":[],"owner":{"account_id":18459260,"reputation":73,"user_id":13447185,"display_name":"egor-n"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1691481985,"creation_date":1691481985,"answer_id":76857608,"question_id":76851579,"body_markdown":"I was advised by @diego-borba to send &#39;SUCCESS&#39; from servlet back to the .jsp page. \r\n\r\n     response.setContentType(&quot;text/plain&quot;);\r\n    response.getWriter().write(&quot;SUCCESS&quot;); // Sending a success response\r\n\r\nIt didn&#39;t work for me (the response was treated like an error, and SUCCESS was treated like an error message), but I tried sending json object that would say { success : true }, and it worked (because ajax has dataType:&#39;json&#39; specified). Have no idea why 200 status code is treated as an error tho but it all worked this way: \r\n\r\n     JsonObject myObj = new JsonObject();\r\n     myObj.addProperty(&quot;success&quot;, true);\r\n     response.getWriter().println(myObj.toString());\r\n\r\nAnd here&#39;s the ajax code : \r\n\r\n    $.ajax({\r\n            type : &quot;POST&quot;,\r\n            url:&quot;/adminUser?save=save&quot;,\r\n            dataType:&#39;json&#39;,\r\n            data: {save: &#39;save&#39;, login:login, pass1:pass1, userName:userName, email:email,\r\n            bukhUsersId: bukhUsersId, otdelId: otdelId, roleId: roleId, checkActive: checkActive},\r\n            success: function (xhr, status, error) {\r\n                     top.location.href = &quot;/adminUser?action=spisok&quot;;\r\n            },\r\n            error : function(xhr, status, error) {\r\n                      $(&quot;#errorLogin&quot;).text(xhr.responseText);\r\n            }\r\n     });","title":"Java Servlets - reaching SUCCESS in ajax","body":"<p>I was advised by @diego-borba to send 'SUCCESS' from servlet back to the .jsp page.</p>\n<pre><code> response.setContentType(&quot;text/plain&quot;);\nresponse.getWriter().write(&quot;SUCCESS&quot;); // Sending a success response\n</code></pre>\n<p>It didn't work for me (the response was treated like an error, and SUCCESS was treated like an error message), but I tried sending json object that would say { success : true }, and it worked (because ajax has dataType:'json' specified). Have no idea why 200 status code is treated as an error tho but it all worked this way:</p>\n<pre><code> JsonObject myObj = new JsonObject();\n myObj.addProperty(&quot;success&quot;, true);\n response.getWriter().println(myObj.toString());\n</code></pre>\n<p>And here's the ajax code :</p>\n<pre><code>$.ajax({\n        type : &quot;POST&quot;,\n        url:&quot;/adminUser?save=save&quot;,\n        dataType:'json',\n        data: {save: 'save', login:login, pass1:pass1, userName:userName, email:email,\n        bukhUsersId: bukhUsersId, otdelId: otdelId, roleId: roleId, checkActive: checkActive},\n        success: function (xhr, status, error) {\n                 top.location.href = &quot;/adminUser?action=spisok&quot;;\n        },\n        error : function(xhr, status, error) {\n                  $(&quot;#errorLogin&quot;).text(xhr.responseText);\n        }\n });\n</code></pre>\n"}],"owner":{"account_id":18459260,"reputation":73,"user_id":13447185,"display_name":"egor-n"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76857608,"answer_count":2,"score":0,"last_activity_date":1691481985,"creation_date":1691410323,"question_id":76851579,"body_markdown":"I have a problem with interaction between my jsp and servlet using ajax. I want servlet to send error to jsp if the user already exists (it shouldn&#39;t save the user), and redirect to another page (if the user doesn&#39;t exist and servlet saves it).\r\n\r\n    $.ajax({\r\n                            type : &quot;POST&quot;,\r\n                            url:&quot;/adminUser?save=save&quot;,\r\n                            dataType:&#39;json&#39;,\r\n                            data: {save: &#39;save&#39;, login:login, pass1:pass1, userName:userName, email:email,\r\n                                bukhUsersId: bukhUsersId, otdelId: otdelId, roleId: roleId, checkActive: checkActive},\r\n                            success: function () {\r\n                                top.location.href = &quot;/adminUser?action=spisok&quot;;\r\n                            } ,\r\n                            error : function(xhr, status, error) {\r\n                                $(&quot;#errorLogin&quot;).text(&quot;     &quot;);\r\n                            }\r\n                        });\r\n\r\nHere&#39;s a fragment of my servlet: \r\n\r\n                String login = request.getParameter(&quot;login&quot;);\r\n                if (adminSecurityDAOImpl.isUserExist(login)) {\r\n                    response.sendError(400, &quot;     &quot;);\r\n                    response.flushBuffer();\r\n                    return;\r\n                }\r\n                else {\r\n                    adminSecurityDAOImpl.saveUser(user);\r\n\r\n                    //response.getWriter().write(&quot;SUCCESS&quot;);\r\n                    response.flushBuffer();\r\n                   `return\r\n                }\r\n            } \r\n\r\nI don&#39;t understand how to reach that success part. I tried sending back 200 status code, returning nothing, returning &#39;Success&#39; (it seemed silly but I saw that somewhere on stackoverflow). How can I reach it? \r\n\r\nThank you for the help. \r\n","title":"Java Servlets - reaching SUCCESS in ajax","body":"<p>I have a problem with interaction between my jsp and servlet using ajax. I want servlet to send error to jsp if the user already exists (it shouldn't save the user), and redirect to another page (if the user doesn't exist and servlet saves it).</p>\n<pre><code>$.ajax({\n                        type : &quot;POST&quot;,\n                        url:&quot;/adminUser?save=save&quot;,\n                        dataType:'json',\n                        data: {save: 'save', login:login, pass1:pass1, userName:userName, email:email,\n                            bukhUsersId: bukhUsersId, otdelId: otdelId, roleId: roleId, checkActive: checkActive},\n                        success: function () {\n                            top.location.href = &quot;/adminUser?action=spisok&quot;;\n                        } ,\n                        error : function(xhr, status, error) {\n                            $(&quot;#errorLogin&quot;).text(&quot;     &quot;);\n                        }\n                    });\n</code></pre>\n<p>Here's a fragment of my servlet:</p>\n<pre><code>            String login = request.getParameter(&quot;login&quot;);\n            if (adminSecurityDAOImpl.isUserExist(login)) {\n                response.sendError(400, &quot;     &quot;);\n                response.flushBuffer();\n                return;\n            }\n            else {\n                adminSecurityDAOImpl.saveUser(user);\n\n                //response.getWriter().write(&quot;SUCCESS&quot;);\n                response.flushBuffer();\n               `return\n            }\n        } \n</code></pre>\n<p>I don't understand how to reach that success part. I tried sending back 200 status code, returning nothing, returning 'Success' (it seemed silly but I saw that somewhere on stackoverflow). How can I reach it?</p>\n<p>Thank you for the help.</p>\n"},{"tags":["java","c#","xamarin"],"owner":{"account_id":2985451,"reputation":2813,"user_id":2534421,"accept_rate":100,"display_name":"Derorrist"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691481980,"creation_date":1691481980,"question_id":76857607,"body_markdown":"I&#39;m creating a binding library of a 3rd party sdk.\r\n\r\nWhen building the project, I get the following warning:\r\n\r\n`The Java type &#39;x.x.UrlLookupService.ResultNotifier&lt;R, x.x.RpRestException&gt;&#39; could not be found (are you missing a Java reference jar/aar or a Java binding library NuGet?)`\r\n\r\nThe original Java code:\r\n    \r\n    public class UrlLookupService {\r\n            ...\r\n            public interface ResultNotifier&lt;R, E extends AbstractRestException&gt; {\r\n                void finish(@Nullable R var1);\r\n        \r\n                void fail(@NonNull E var1);\r\n            }\r\n    }\r\n\r\nThe auto-generated code:\r\n\r\n    public abstract partial class AbstractRestException : global::Java.Lang.Exception\r\n\r\nWith 3 `protected` constructors, as in the original Java code.\r\n\r\n    // Metadata.xml XPath interface reference: path=&quot;/api/package[@name=&#39;x.x&#39;]/interface[@name=&#39;UrlLookupService.ResultNotifier&#39;]&quot;\r\n    [Register (&quot;x/x/UrlLookupService$ResultNotifier&quot;, &quot;&quot;, &quot;x.x.UrlLookupService/IResultNotifierInvoker&quot;)]\r\n    [global::Java.Interop.JavaTypeParameters (new string [] {&quot;R&quot;, &quot;E extends x.x.AbstractRestException&quot;})]\r\n    public partial interface IResultNotifier : IJavaObject, IJavaPeerable {\r\n    \t// Metadata.xml XPath method reference: path=&quot;/api/package[@name=&#39;x.x&#39;]/interface[@name=&#39;UrlLookupService.ResultNotifier&#39;]/method[@name=&#39;fail&#39; and count(parameter)=1 and parameter[1][@type=&#39;E&#39;]]&quot;\r\n    \t[Register (&quot;fail&quot;, &quot;(x/x/AbstractRestException;)V&quot;, &quot;GetFail_x_x_AbstractRestException_Handler:x.x.UrlLookupService/IResultNotifierInvoker, XSdk&quot;)]\r\n    \tvoid Fail (global::Java.Lang.Object p0);\r\n    \r\n    \t// Metadata.xml XPath method reference: path=&quot;/api/package[@name=&#39;x.x&#39;]/interface[@name=&#39;UrlLookupService.ResultNotifier&#39;]/method[@name=&#39;finish&#39; and count(parameter)=1 and parameter[1][@type=&#39;R&#39;]]&quot;\r\n    \t[Register (&quot;finish&quot;, &quot;(Ljava/lang/Object;)V&quot;, &quot;GetFinish_Ljava_lang_Object_Handler:x.x.UrlLookupService/IResultNotifierInvoker, XSdk&quot;)]\r\n    \tvoid Finish (global::Java.Lang.Object p0);\r\n    }\r\n\r\nWhenever I encountered this type of warning, it was caused by either obfuscated classes or by access specifiers, which I was able to correct via `Metadata.xml`, but it doesn&#39;t seem to be the case here. The classes are public and the interface seems to be generated successfully. \r\n\r\nWhy am I receiving this message?\r\n\r\nThis affects other critical classes being removed in `java-resolution-report.log`, so I can&#39;t just `remove-node`","title":"Binding library error &#39;The Java type could not be found&#39; of a public interface","body":"<p>I'm creating a binding library of a 3rd party sdk.</p>\n<p>When building the project, I get the following warning:</p>\n<p><code>The Java type 'x.x.UrlLookupService.ResultNotifier&lt;R, x.x.RpRestException&gt;' could not be found (are you missing a Java reference jar/aar or a Java binding library NuGet?)</code></p>\n<p>The original Java code:</p>\n<pre><code>public class UrlLookupService {\n        ...\n        public interface ResultNotifier&lt;R, E extends AbstractRestException&gt; {\n            void finish(@Nullable R var1);\n    \n            void fail(@NonNull E var1);\n        }\n}\n</code></pre>\n<p>The auto-generated code:</p>\n<pre><code>public abstract partial class AbstractRestException : global::Java.Lang.Exception\n</code></pre>\n<p>With 3 <code>protected</code> constructors, as in the original Java code.</p>\n<pre><code>// Metadata.xml XPath interface reference: path=&quot;/api/package[@name='x.x']/interface[@name='UrlLookupService.ResultNotifier']&quot;\n[Register (&quot;x/x/UrlLookupService$ResultNotifier&quot;, &quot;&quot;, &quot;x.x.UrlLookupService/IResultNotifierInvoker&quot;)]\n[global::Java.Interop.JavaTypeParameters (new string [] {&quot;R&quot;, &quot;E extends x.x.AbstractRestException&quot;})]\npublic partial interface IResultNotifier : IJavaObject, IJavaPeerable {\n    // Metadata.xml XPath method reference: path=&quot;/api/package[@name='x.x']/interface[@name='UrlLookupService.ResultNotifier']/method[@name='fail' and count(parameter)=1 and parameter[1][@type='E']]&quot;\n    [Register (&quot;fail&quot;, &quot;(x/x/AbstractRestException;)V&quot;, &quot;GetFail_x_x_AbstractRestException_Handler:x.x.UrlLookupService/IResultNotifierInvoker, XSdk&quot;)]\n    void Fail (global::Java.Lang.Object p0);\n\n    // Metadata.xml XPath method reference: path=&quot;/api/package[@name='x.x']/interface[@name='UrlLookupService.ResultNotifier']/method[@name='finish' and count(parameter)=1 and parameter[1][@type='R']]&quot;\n    [Register (&quot;finish&quot;, &quot;(Ljava/lang/Object;)V&quot;, &quot;GetFinish_Ljava_lang_Object_Handler:x.x.UrlLookupService/IResultNotifierInvoker, XSdk&quot;)]\n    void Finish (global::Java.Lang.Object p0);\n}\n</code></pre>\n<p>Whenever I encountered this type of warning, it was caused by either obfuscated classes or by access specifiers, which I was able to correct via <code>Metadata.xml</code>, but it doesn't seem to be the case here. The classes are public and the interface seems to be generated successfully.</p>\n<p>Why am I receiving this message?</p>\n<p>This affects other critical classes being removed in <code>java-resolution-report.log</code>, so I can't just <code>remove-node</code></p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":2147347,"reputation":2879,"user_id":1904696,"accept_rate":56,"display_name":"Meenal"},"score":0,"creation_date":1691442571,"post_id":76853466,"comment_id":135489758,"body_markdown":"If its for specific application and you know the details of it like app name or package name, add a If condition for that.","body":"If its for specific application and you know the details of it like app name or package name, add a If condition for that."},{"owner":{"account_id":28106482,"reputation":1,"user_id":21474999,"display_name":"Mr17"},"score":0,"creation_date":1691611766,"post_id":76853466,"comment_id":135516585,"body_markdown":"I have the packege name, can you help me how to write codes for it ?","body":"I have the packege name, can you help me how to write codes for it ?"}],"answers":[{"tags":[],"owner":{"account_id":29004116,"reputation":337,"user_id":22217083,"display_name":"Sarah"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691481866,"creation_date":1691481866,"answer_id":76857597,"question_id":76853466,"body_markdown":"    public static void clearApplicationData(Context context) {\r\n        File cache = context.getCacheDir();\r\n        File appDir = new File(cache.getParent());\r\n        if (appDir.exists()) {\r\n            String[] children = appDir.list();\r\n            for (String list : children) {\r\n                Log.d(&quot;delete cache &quot;, list);\r\n                if(list.equals(&quot;shared_prefs&quot;)) continue;\r\n                deleteDir(new File(appDir, list));\r\n            }\r\n        }\r\n    }\r\n\r\n    private static boolean deleteDir(File dir) {\r\n        if (dir != null &amp;&amp; dir.isDirectory()) {\r\n            String[] children = dir.list();\r\n            for (int i = 0; i &lt; children.length; i++) {\r\n                boolean success = deleteDir(new File(dir, children[i]));\r\n                if (!success) {\r\n                    return false;\r\n                }\r\n            }\r\n        }\r\n        return dir.delete();\r\n    }\r\n\r\nThere&#39;s a chord like this.\r\n\r\nFirst of all, you should pay attention to the log and conditional statements of the clearApplicationData function.\r\n\r\nIf you look at the log\r\n\r\n    delete cache: cache \r\n    delete cache: shared_prefs \r\n    delete cache: app_webview \r\n    delete cache: code_cache \r\n    delete cache: files \r\n    delete cache: no_backup \r\n    delete cache: databases \r\n    delete cache: app_textures\r\n\r\nThen if you have to remove the parts that you shouldn&#39;t delete\r\n\r\n    if(list.equals(&quot;shared_prefs&quot;)) continue;\r\n\r\nYou can write it like this in the conditional statement.\r\n\r\nI wrote the conditions like this because I wanted to leave a shared preference value and delete it.\r\n\r\nIf there are more than two, not one, please write down elseif at the bottom, and the part will be skipped from the repetition to the continuation, it cannot be deleted.\r\n\r\nWhen you use it, write it down like this.\r\n\r\n    clearApplicationData(getApplicationContext());","title":"Clear one app cache programmatically with android studio java","body":"<pre><code>public static void clearApplicationData(Context context) {\n    File cache = context.getCacheDir();\n    File appDir = new File(cache.getParent());\n    if (appDir.exists()) {\n        String[] children = appDir.list();\n        for (String list : children) {\n            Log.d(&quot;delete cache &quot;, list);\n            if(list.equals(&quot;shared_prefs&quot;)) continue;\n            deleteDir(new File(appDir, list));\n        }\n    }\n}\n\nprivate static boolean deleteDir(File dir) {\n    if (dir != null &amp;&amp; dir.isDirectory()) {\n        String[] children = dir.list();\n        for (int i = 0; i &lt; children.length; i++) {\n            boolean success = deleteDir(new File(dir, children[i]));\n            if (!success) {\n                return false;\n            }\n        }\n    }\n    return dir.delete();\n}\n</code></pre>\n<p>There's a chord like this.</p>\n<p>First of all, you should pay attention to the log and conditional statements of the clearApplicationData function.</p>\n<p>If you look at the log</p>\n<pre><code>delete cache: cache \ndelete cache: shared_prefs \ndelete cache: app_webview \ndelete cache: code_cache \ndelete cache: files \ndelete cache: no_backup \ndelete cache: databases \ndelete cache: app_textures\n</code></pre>\n<p>Then if you have to remove the parts that you shouldn't delete</p>\n<pre><code>if(list.equals(&quot;shared_prefs&quot;)) continue;\n</code></pre>\n<p>You can write it like this in the conditional statement.</p>\n<p>I wrote the conditions like this because I wanted to leave a shared preference value and delete it.</p>\n<p>If there are more than two, not one, please write down elseif at the bottom, and the part will be skipped from the repetition to the continuation, it cannot be deleted.</p>\n<p>When you use it, write it down like this.</p>\n<pre><code>clearApplicationData(getApplicationContext());\n</code></pre>\n"}],"owner":{"account_id":28106482,"reputation":1,"user_id":21474999,"display_name":"Mr17"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":130,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691481866,"creation_date":1691425080,"question_id":76853466,"body_markdown":"I am writing an automatic downloader app and I need to clear cache of the app I am downloading from, every night. Is there a way to do this?\r\n\r\nI searched the internet but the closest thing I found was https://stackoverflow.com/questions/14507092/android-clear-cache-of-all-apps\r\nbut it doesn&#39;t solve my problem because I only need to clear the data of one app.","title":"Clear one app cache programmatically with android studio java","body":"<p>I am writing an automatic downloader app and I need to clear cache of the app I am downloading from, every night. Is there a way to do this?</p>\n<p>I searched the internet but the closest thing I found was <a href=\"https://stackoverflow.com/questions/14507092/android-clear-cache-of-all-apps\">Android: Clear Cache of All Apps?</a>\nbut it doesn't solve my problem because I only need to clear the data of one app.</p>\n"},{"tags":["java","http","network-programming","serversocket","http-host"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1691470702,"post_id":76856553,"comment_id":135492227,"body_markdown":"@ScaryWombat I don&#39;t think that&#39;s a correct dupe -- the code the OP has written(?) so far does return the file contents at the requested path, but doesn&#39;t go on to read headers.","body":"@ScaryWombat I don&#39;t think that&#39;s a correct dupe -- the code the OP has written(?) so far does return the file contents at the requested path, but doesn&#39;t go on to read headers."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1691470790,"post_id":76856553,"comment_id":135492237,"body_markdown":"You need to explain where you are stuck. Do you understand the code you have so far? Do you understand where header information appears in an HTTP request? When you say &quot;I don&#39;t know what to do if searching doesn&#39;t turn up any suitable code&quot; I think you should talk to your teacher about getting some extra help.","body":"You need to explain where you are stuck. Do you understand the code you have so far? Do you understand where header information appears in an HTTP request? When you say &quot;I don&#39;t know what to do if searching doesn&#39;t turn up any suitable code&quot; I think you should talk to your teacher about getting some extra help."},{"owner":{"account_id":19840951,"reputation":1,"user_id":14533546,"display_name":"othello"},"score":0,"creation_date":1691471922,"post_id":76856553,"comment_id":135492336,"body_markdown":"@tgdavies I added my stuck point, so please take a look.","body":"@tgdavies I added my stuck point, so please take a look."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1691472642,"post_id":76856553,"comment_id":135492429,"body_markdown":"The Host header is in the headers, and the headers are a series of lines ending in a blank line preceding the payload. This question is however far too broad.","body":"The Host header is in the headers, and the headers are a series of lines ending in a blank line preceding the payload. This question is however far too broad."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1691472965,"post_id":76856553,"comment_id":135492472,"body_markdown":"In the HTTP protocol the client sends a request as a series of text lines (the request headers followed by a blank line followed by an optional request body) and the server responds similarly with a series of lines (the response headers followed by a blank line followed by the response body). See https://en.wikipedia.org/wiki/HTTP#HTTP/1.1_example_of_request_/_response_transaction for an example","body":"In the HTTP protocol the client sends a request as a series of text lines (the request headers followed by a blank line followed by an optional request body) and the server responds similarly with a series of lines (the response headers followed by a blank line followed by the response body). See <a href=\"https://en.wikipedia.org/wiki/HTTP#HTTP/1.1_example_of_request_/_response_transaction\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/HTTP#HTTP/1.1_example_of_request_/&hellip;</a> for an example"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1691472988,"post_id":76856553,"comment_id":135492481,"body_markdown":"Here&#39;s a description of the HTTP protocol which shows exactly hoe headers appear in a request: https://developer.mozilla.org/en-US/docs/Web/HTTP/Overview Have a look at the `java.util.Properties` class to see how to handle the configuration file.","body":"Here&#39;s a description of the HTTP protocol which shows exactly hoe headers appear in a request: <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Overview\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/HTTP/Overview</a> Have a look at the <code>java.util.Properties</code> class to see how to handle the configuration file."},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1691474298,"post_id":76856553,"comment_id":135492635,"body_markdown":"@tgdavies I have reopened this question.  I think that my dupe was answering his initial task *the web server implementing the request of a.com and b.com should be able to provide different data depending on the domain* In his initial question before edits, this was the crux of his question and did not seem to be coded.","body":"@tgdavies I have reopened this question.  I think that my dupe was answering his initial task <i>the web server implementing the request of a.com and b.com should be able to provide different data depending on the domain</i> In his initial question before edits, this was the crux of his question and did not seem to be coded."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1691474409,"post_id":76856553,"comment_id":135492648,"body_markdown":"@ScaryWombat maybe I missed something, but I thought that dupe only dealt with the first line of the request.","body":"@ScaryWombat maybe I missed something, but I thought that dupe only dealt with the first line of the request."},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1691474562,"post_id":76856553,"comment_id":135492668,"body_markdown":"@tgdavies Probably I am the one missing something, but my reading of his version one of this question seemed to be how to provide different data based upon requested coming in via different urls. Ah well.","body":"@tgdavies Probably I am the one missing something, but my reading of his version one of this question seemed to be how to provide different data based upon requested coming in via different urls. Ah well."},{"owner":{"account_id":19840951,"reputation":1,"user_id":14533546,"display_name":"othello"},"score":0,"creation_date":1691477133,"post_id":76856553,"comment_id":135493001,"body_markdown":"@tgdavies I&#39;m not good at English so I don&#39;t know what &quot;dupe&quot; is. \nHowever, as ScaryWombat said, I&#39;d like to know how to provide different data based upon requested coming in via different urls. (via config file).","body":"@tgdavies I&#39;m not good at English so I don&#39;t know what &quot;dupe&quot; is.  However, as ScaryWombat said, I&#39;d like to know how to provide different data based upon requested coming in via different urls. (via config file)."}],"answers":[{"tags":[],"owner":{"account_id":17822090,"reputation":371,"user_id":12944233,"display_name":"Hitesh A. Bosamiya"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691475733,"creation_date":1691475733,"answer_id":76856913,"question_id":76856553,"body_markdown":"After you finished reading request line, you will have the headers. Something like below:\r\n```lang-none\r\nGET /hello.html HTTP/1.0\\r\\n\r\nHost: a.com\\r\\n\r\nDate: Tue, 8 Aug 2023 06:16:00 GMT\\r\\n\\r\\n\r\n```\r\nPlease note that the order of the headers are not guaranteed. All the headers end when you receive two CR-LF (`\\r\\n`).","title":"How is the HTTP host header resolvable?","body":"<p>After you finished reading request line, you will have the headers. Something like below:</p>\n<pre class=\"lang-none prettyprint-override\"><code>GET /hello.html HTTP/1.0\\r\\n\nHost: a.com\\r\\n\nDate: Tue, 8 Aug 2023 06:16:00 GMT\\r\\n\\r\\n\n</code></pre>\n<p>Please note that the order of the headers are not guaranteed. All the headers end when you receive two CR-LF (<code>\\r\\n</code>).</p>\n"}],"owner":{"account_id":19840951,"reputation":1,"user_id":14533546,"display_name":"othello"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691481817,"creation_date":1691470255,"question_id":76856553,"body_markdown":"I am working on making a web server with java.\r\n\r\nThe task is...\r\n\r\n1. The Host header of HTTP/1.1 must be resolvable.\r\nFor example, the web server implementing the request of a.com and b.com should be able to provide different data depending on the domain.\r\n\r\n2. The following should be manageable in a configuration file. (ex properties, json, xml, yml, etc.)\r\n\r\n    2-1. The operating port of the implemented web server must be configurable. (ex 80, 8080)\r\n\r\n    2-2. HTTP_DOC_ROOT must be designated for each HTTP/1.1 Host.\r\n\r\n    2-3. It should be possible to designate the path of the HTML file on the server to output in case of 403, 404, or 500 errors for each HTTP/1.1 host.\r\n\r\nBelow is sample code.\r\n\r\n```\r\n\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport java.net.ServerSocket;\r\nimport java.net.Socket;\r\nimport java.util.concurrent.ExecutorService;\r\nimport java.util.concurrent.Executors;\r\nimport java.util.logging.Level;\r\nimport java.util.logging.Logger;\r\n\r\npublic class HttpServer {\r\n    private static final Logger logger = Logger.getLogger(HttpServer.class.getCanonicalName());\r\n    private static final int NUM_THREADS = 50;\r\n    private static final String INDEX_FILE = &quot;index.html&quot;;\r\n    private final File rootDirectory;\r\n    private final int port;\r\n\r\n    public HttpServer(File rootDirectory, int port) throws IOException {\r\n        if (!rootDirectory.isDirectory()) {\r\n            throw new IOException(rootDirectory\r\n                    + &quot; does not exist as a directory&quot;);\r\n        }\r\n        this.rootDirectory = rootDirectory;\r\n        this.port = port;\r\n    }\r\n\r\n    public void start() throws IOException {\r\n        ExecutorService pool = Executors.newFixedThreadPool(NUM_THREADS);\r\n        try (ServerSocket server = new ServerSocket(port)) {\r\n            logger.info(&quot;Accepting connections on port : &quot; + server.getLocalPort());\r\n            logger.info(&quot;Document Root: &quot; + rootDirectory);\r\n            while (true) {\r\n                try {\r\n                    logger.info(&quot;Runnable Start &quot;);\r\n                    Socket request = server.accept();\r\n\r\n                    Runnable r = new RequestProcessor(rootDirectory, INDEX_FILE, request);\r\n                    logger.info(&quot;Runnable r1 : &quot; + r);\r\n                    pool.submit(r);\r\n                    logger.info(&quot;Runnable r2 : &quot; + r);\r\n                } catch (IOException ex) {\r\n                    logger.log(Level.WARNING, &quot;Error accepting connection&quot;, ex);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        // get the Document root\r\n        File docroot;\r\n        try {\r\n            docroot = new File(args[0]);\r\n        } catch (ArrayIndexOutOfBoundsException ex) {\r\n            System.out.println(&quot;Usage: java JHTTP docroot port : &quot; + ex);\r\n            return;\r\n        }\r\n        // set the port to listen on\r\n        int port;\r\n        try {\r\n            port = Integer.parseInt(args[1]);\r\n            if (port &lt; 0 || port &gt; 65535) port = 80;\r\n        } catch (RuntimeException ex) {\r\n            port = 80;\r\n        }\r\n        try {\r\n            HttpServer webserver = new HttpServer(docroot, port);\r\n            webserver.start();\r\n        } catch (IOException ex) {\r\n            logger.log(Level.SEVERE, &quot;Server could not start&quot;, ex);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n```\r\nimport java.io.*;\r\nimport java.net.Socket;\r\nimport java.net.URLConnection;\r\nimport java.nio.file.Files;\r\nimport java.util.Date;\r\nimport java.util.logging.Level;\r\nimport java.util.logging.Logger;\r\n\r\npublic class RequestProcessor implements Runnable {\r\n    private final static Logger logger = Logger.getLogger(RequestProcessor.class.getCanonicalName());\r\n    private File rootDirectory;\r\n    private String indexFileName = &quot;index.html&quot;;\r\n    private Socket connection;\r\n\r\n    public RequestProcessor(File rootDirectory, String indexFileName, Socket connection) {\r\n        if (rootDirectory.isFile()) {\r\n            throw new IllegalArgumentException(\r\n                    &quot;rootDirectory must be a directory, not a file&quot;);\r\n        }\r\n        try {\r\n            rootDirectory = rootDirectory.getCanonicalFile();\r\n        } catch (IOException ex) {\r\n        }\r\n        this.rootDirectory = rootDirectory;\r\n        if (indexFileName != null)\r\n            this.indexFileName = indexFileName;\r\n        this.connection = connection;\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n        // for security checks\r\n        String root = rootDirectory.getPath();\r\n        logger.info(&quot;RequestProcessor Start!!!!!!!&quot;);\r\n        logger.info(  &quot;root : &quot; + root);\r\n        try {\r\n            OutputStream raw = new BufferedOutputStream(connection.getOutputStream());\r\n            Writer out = new OutputStreamWriter(raw);\r\n            Reader in = new InputStreamReader(new BufferedInputStream(connection.getInputStream()), &quot;UTF-8&quot;);\r\n            StringBuilder requestLine = new StringBuilder();\r\n            while (true) {\r\n                int c = in.read();\r\n                if (c == &#39;\\r&#39; || c == &#39;\\n&#39;)\r\n                    break;\r\n                requestLine.append((char) c);\r\n            }\r\n            logger.info(  &quot;requestLine : &quot; + requestLine);\r\n            String get = requestLine.toString();\r\n            logger.info(&quot;connection.getRemoteSocketAddress&quot; + connection.getRemoteSocketAddress() + &quot; &quot; + get);\r\n            String[] tokens = get.split(&quot;\\\\s+&quot;);\r\n            String method = tokens[0];\r\n            String version = &quot;&quot;;\r\n            if (method.equals(&quot;GET&quot;)) {\r\n                String fileName = tokens[1];\r\n                if (fileName.endsWith(&quot;/&quot;)) fileName += indexFileName;\r\n                String contentType =\r\n                        URLConnection.getFileNameMap().getContentTypeFor(fileName);\r\n                if (tokens.length &gt; 2) {\r\n                    version = tokens[2];\r\n                }\r\n                File theFile = new File(rootDirectory, fileName.substring(1, fileName.length()));\r\n                if (theFile.canRead()\r\n// Don&#39;t let clients outside the document root\r\n                        &amp;&amp; theFile.getCanonicalPath().startsWith(root)) {\r\n                    byte[] theData = Files.readAllBytes(theFile.toPath());\r\n                    if (version.startsWith(&quot;HTTP/&quot;)) { // send a MIME header\r\n                        sendHeader(out, &quot;HTTP/1.0 200 OK&quot;, contentType, theData.length);\r\n                    }\r\n                    // send the file; it may be an image or other binary data\r\n                    // so use the underlying output stream\r\n                    // instead of the writer\r\n                    raw.write(theData);\r\n                    raw.flush();\r\n                } else {\r\n                    // can&#39;t find the file\r\n                    String body = new StringBuilder(&quot;&lt;HTML&gt;\\r\\n&quot;)\r\n                            .append(&quot;&lt;HEAD&gt;&lt;TITLE&gt;File Not Found&lt;/TITLE&gt;\\r\\n&quot;)\r\n                            .append(&quot;&lt;/HEAD&gt;\\r\\n&quot;)\r\n                            .append(&quot;&lt;BODY&gt;&quot;)\r\n                            .append(&quot;&lt;H1&gt;HTTP Error 404: File Not Found&lt;/H1&gt;\\r\\n&quot;)\r\n                            .append(&quot;&lt;/BODY&gt;&lt;/HTML&gt;\\r\\n&quot;)\r\n                            .toString();\r\n                    if (version.startsWith(&quot;HTTP/&quot;)) { // send a MIME header\r\n                        sendHeader(out, &quot;HTTP/1.0 404 File Not Found&quot;, &quot;text/html; charset=utf-8&quot;, body.length());\r\n                    }\r\n                    out.write(body);\r\n                    out.flush();\r\n                }\r\n            } else {\r\n                // method does not equal &quot;GET&quot;\r\n                String body = new StringBuilder(&quot;&lt;HTML&gt;\\r\\n&quot;).append(&quot;&lt;HEAD&gt;&lt;TITLE&gt;Not Implemented&lt;/TITLE&gt;\\r\\n&quot;).append(&quot;&lt;/HEAD&gt;\\r\\n&quot;)\r\n                        .append(&quot;&lt;BODY&gt;&quot;)\r\n                        .append(&quot;&lt;H1&gt;HTTP Error 501: Not Implemented&lt;/H1&gt;\\r\\n&quot;)\r\n                        .append(&quot;&lt;/BODY&gt;&lt;/HTML&gt;\\r\\n&quot;).toString();\r\n                if (version.startsWith(&quot;HTTP/&quot;)) { // send a MIME header\r\n                    sendHeader(out, &quot;HTTP/1.0 501 Not Implemented&quot;,\r\n                            &quot;text/html; charset=utf-8&quot;, body.length());\r\n                }\r\n                out.write(body);\r\n                out.flush();\r\n            }\r\n        } catch (IOException ex) {\r\n            logger.log(Level.WARNING, &quot;Error talking to &quot; + connection.getRemoteSocketAddress(), ex);\r\n        } finally {\r\n            try {\r\n                connection.close();\r\n            } catch (IOException ex) {\r\n            }\r\n        }\r\n    }\r\n\r\n    private void sendHeader(Writer out, String responseCode, String contentType, int length)\r\n            throws IOException {\r\n        out.write(responseCode + &quot;\\r\\n&quot;);\r\n        Date now = new Date();\r\n        out.write(&quot;Date: &quot; + now + &quot;\\r\\n&quot;);\r\n        out.write(&quot;Server: JHTTP 2.0\\r\\n&quot;);\r\n        out.write(&quot;Content-length: &quot; + length + &quot;\\r\\n&quot;);\r\n        out.write(&quot;Content-type: &quot; + contentType + &quot;\\r\\n\\r\\n&quot;);\r\n        out.flush();\r\n    }\r\n}\r\n```\r\n\r\nI searched for network programming, http, and Java socket programming, and also looked for books, \r\nso I think I know the concept, but I don&#39;t know what to do to convert it into java code. Even after searching, I can&#39;t find the code for the host header in the problem, so I&#39;m at a loss.\r\n\r\nMidterm review this week, no progress..\r\n\r\nMy stuck point\r\n1. I don&#39;t even know where the host header is and I don&#39;t know how to fix it.\r\n2. I don&#39;t know how to set up the config file in problem #2\r\n\r\n\r\nIs there any way to implement it in code?\r\nAnd how do developers transfer and use the concepts that came out of the search into code?\r\nI don&#39;t know what to do if searching doesn&#39;t turn up any suitable code.","title":"How is the HTTP host header resolvable?","body":"<p>I am working on making a web server with java.</p>\n<p>The task is...</p>\n<ol>\n<li><p>The Host header of HTTP/1.1 must be resolvable.\nFor example, the web server implementing the request of a.com and b.com should be able to provide different data depending on the domain.</p>\n</li>\n<li><p>The following should be manageable in a configuration file. (ex properties, json, xml, yml, etc.)</p>\n<p>2-1. The operating port of the implemented web server must be configurable. (ex 80, 8080)</p>\n<p>2-2. HTTP_DOC_ROOT must be designated for each HTTP/1.1 Host.</p>\n<p>2-3. It should be possible to designate the path of the HTML file on the server to output in case of 403, 404, or 500 errors for each HTTP/1.1 host.</p>\n</li>\n</ol>\n<p>Below is sample code.</p>\n<pre><code>\nimport java.io.File;\nimport java.io.IOException;\nimport java.net.ServerSocket;\nimport java.net.Socket;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\n\npublic class HttpServer {\n    private static final Logger logger = Logger.getLogger(HttpServer.class.getCanonicalName());\n    private static final int NUM_THREADS = 50;\n    private static final String INDEX_FILE = &quot;index.html&quot;;\n    private final File rootDirectory;\n    private final int port;\n\n    public HttpServer(File rootDirectory, int port) throws IOException {\n        if (!rootDirectory.isDirectory()) {\n            throw new IOException(rootDirectory\n                    + &quot; does not exist as a directory&quot;);\n        }\n        this.rootDirectory = rootDirectory;\n        this.port = port;\n    }\n\n    public void start() throws IOException {\n        ExecutorService pool = Executors.newFixedThreadPool(NUM_THREADS);\n        try (ServerSocket server = new ServerSocket(port)) {\n            logger.info(&quot;Accepting connections on port : &quot; + server.getLocalPort());\n            logger.info(&quot;Document Root: &quot; + rootDirectory);\n            while (true) {\n                try {\n                    logger.info(&quot;Runnable Start &quot;);\n                    Socket request = server.accept();\n\n                    Runnable r = new RequestProcessor(rootDirectory, INDEX_FILE, request);\n                    logger.info(&quot;Runnable r1 : &quot; + r);\n                    pool.submit(r);\n                    logger.info(&quot;Runnable r2 : &quot; + r);\n                } catch (IOException ex) {\n                    logger.log(Level.WARNING, &quot;Error accepting connection&quot;, ex);\n                }\n            }\n        }\n    }\n\n    public static void main(String[] args) {\n        // get the Document root\n        File docroot;\n        try {\n            docroot = new File(args[0]);\n        } catch (ArrayIndexOutOfBoundsException ex) {\n            System.out.println(&quot;Usage: java JHTTP docroot port : &quot; + ex);\n            return;\n        }\n        // set the port to listen on\n        int port;\n        try {\n            port = Integer.parseInt(args[1]);\n            if (port &lt; 0 || port &gt; 65535) port = 80;\n        } catch (RuntimeException ex) {\n            port = 80;\n        }\n        try {\n            HttpServer webserver = new HttpServer(docroot, port);\n            webserver.start();\n        } catch (IOException ex) {\n            logger.log(Level.SEVERE, &quot;Server could not start&quot;, ex);\n        }\n    }\n}\n</code></pre>\n<pre><code>import java.io.*;\nimport java.net.Socket;\nimport java.net.URLConnection;\nimport java.nio.file.Files;\nimport java.util.Date;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\n\npublic class RequestProcessor implements Runnable {\n    private final static Logger logger = Logger.getLogger(RequestProcessor.class.getCanonicalName());\n    private File rootDirectory;\n    private String indexFileName = &quot;index.html&quot;;\n    private Socket connection;\n\n    public RequestProcessor(File rootDirectory, String indexFileName, Socket connection) {\n        if (rootDirectory.isFile()) {\n            throw new IllegalArgumentException(\n                    &quot;rootDirectory must be a directory, not a file&quot;);\n        }\n        try {\n            rootDirectory = rootDirectory.getCanonicalFile();\n        } catch (IOException ex) {\n        }\n        this.rootDirectory = rootDirectory;\n        if (indexFileName != null)\n            this.indexFileName = indexFileName;\n        this.connection = connection;\n    }\n\n    @Override\n    public void run() {\n        // for security checks\n        String root = rootDirectory.getPath();\n        logger.info(&quot;RequestProcessor Start!!!!!!!&quot;);\n        logger.info(  &quot;root : &quot; + root);\n        try {\n            OutputStream raw = new BufferedOutputStream(connection.getOutputStream());\n            Writer out = new OutputStreamWriter(raw);\n            Reader in = new InputStreamReader(new BufferedInputStream(connection.getInputStream()), &quot;UTF-8&quot;);\n            StringBuilder requestLine = new StringBuilder();\n            while (true) {\n                int c = in.read();\n                if (c == '\\r' || c == '\\n')\n                    break;\n                requestLine.append((char) c);\n            }\n            logger.info(  &quot;requestLine : &quot; + requestLine);\n            String get = requestLine.toString();\n            logger.info(&quot;connection.getRemoteSocketAddress&quot; + connection.getRemoteSocketAddress() + &quot; &quot; + get);\n            String[] tokens = get.split(&quot;\\\\s+&quot;);\n            String method = tokens[0];\n            String version = &quot;&quot;;\n            if (method.equals(&quot;GET&quot;)) {\n                String fileName = tokens[1];\n                if (fileName.endsWith(&quot;/&quot;)) fileName += indexFileName;\n                String contentType =\n                        URLConnection.getFileNameMap().getContentTypeFor(fileName);\n                if (tokens.length &gt; 2) {\n                    version = tokens[2];\n                }\n                File theFile = new File(rootDirectory, fileName.substring(1, fileName.length()));\n                if (theFile.canRead()\n// Don't let clients outside the document root\n                        &amp;&amp; theFile.getCanonicalPath().startsWith(root)) {\n                    byte[] theData = Files.readAllBytes(theFile.toPath());\n                    if (version.startsWith(&quot;HTTP/&quot;)) { // send a MIME header\n                        sendHeader(out, &quot;HTTP/1.0 200 OK&quot;, contentType, theData.length);\n                    }\n                    // send the file; it may be an image or other binary data\n                    // so use the underlying output stream\n                    // instead of the writer\n                    raw.write(theData);\n                    raw.flush();\n                } else {\n                    // can't find the file\n                    String body = new StringBuilder(&quot;&lt;HTML&gt;\\r\\n&quot;)\n                            .append(&quot;&lt;HEAD&gt;&lt;TITLE&gt;File Not Found&lt;/TITLE&gt;\\r\\n&quot;)\n                            .append(&quot;&lt;/HEAD&gt;\\r\\n&quot;)\n                            .append(&quot;&lt;BODY&gt;&quot;)\n                            .append(&quot;&lt;H1&gt;HTTP Error 404: File Not Found&lt;/H1&gt;\\r\\n&quot;)\n                            .append(&quot;&lt;/BODY&gt;&lt;/HTML&gt;\\r\\n&quot;)\n                            .toString();\n                    if (version.startsWith(&quot;HTTP/&quot;)) { // send a MIME header\n                        sendHeader(out, &quot;HTTP/1.0 404 File Not Found&quot;, &quot;text/html; charset=utf-8&quot;, body.length());\n                    }\n                    out.write(body);\n                    out.flush();\n                }\n            } else {\n                // method does not equal &quot;GET&quot;\n                String body = new StringBuilder(&quot;&lt;HTML&gt;\\r\\n&quot;).append(&quot;&lt;HEAD&gt;&lt;TITLE&gt;Not Implemented&lt;/TITLE&gt;\\r\\n&quot;).append(&quot;&lt;/HEAD&gt;\\r\\n&quot;)\n                        .append(&quot;&lt;BODY&gt;&quot;)\n                        .append(&quot;&lt;H1&gt;HTTP Error 501: Not Implemented&lt;/H1&gt;\\r\\n&quot;)\n                        .append(&quot;&lt;/BODY&gt;&lt;/HTML&gt;\\r\\n&quot;).toString();\n                if (version.startsWith(&quot;HTTP/&quot;)) { // send a MIME header\n                    sendHeader(out, &quot;HTTP/1.0 501 Not Implemented&quot;,\n                            &quot;text/html; charset=utf-8&quot;, body.length());\n                }\n                out.write(body);\n                out.flush();\n            }\n        } catch (IOException ex) {\n            logger.log(Level.WARNING, &quot;Error talking to &quot; + connection.getRemoteSocketAddress(), ex);\n        } finally {\n            try {\n                connection.close();\n            } catch (IOException ex) {\n            }\n        }\n    }\n\n    private void sendHeader(Writer out, String responseCode, String contentType, int length)\n            throws IOException {\n        out.write(responseCode + &quot;\\r\\n&quot;);\n        Date now = new Date();\n        out.write(&quot;Date: &quot; + now + &quot;\\r\\n&quot;);\n        out.write(&quot;Server: JHTTP 2.0\\r\\n&quot;);\n        out.write(&quot;Content-length: &quot; + length + &quot;\\r\\n&quot;);\n        out.write(&quot;Content-type: &quot; + contentType + &quot;\\r\\n\\r\\n&quot;);\n        out.flush();\n    }\n}\n</code></pre>\n<p>I searched for network programming, http, and Java socket programming, and also looked for books,\nso I think I know the concept, but I don't know what to do to convert it into java code. Even after searching, I can't find the code for the host header in the problem, so I'm at a loss.</p>\n<p>Midterm review this week, no progress..</p>\n<p>My stuck point</p>\n<ol>\n<li>I don't even know where the host header is and I don't know how to fix it.</li>\n<li>I don't know how to set up the config file in problem #2</li>\n</ol>\n<p>Is there any way to implement it in code?\nAnd how do developers transfer and use the concepts that came out of the search into code?\nI don't know what to do if searching doesn't turn up any suitable code.</p>\n"},{"tags":["java","nattable","nebula","glazedlists"],"answers":[{"comments":[{"owner":{"account_id":13811195,"reputation":61,"user_id":9968908,"display_name":"Stephen Wicklund"},"score":0,"creation_date":1559668004,"post_id":56437505,"comment_id":99490289,"body_markdown":"Thank you, I think I understand the general structure.\n\nHowever, I am trying to write a TreeList#Format comparator very similar to the one found in the TreeGridExample and it doesn&#39;t seem to make sense. The compare seems to only ever be called on items with the same depth. If I understand correctly and this is supposed to maintain the structure of the tree this doesn&#39;t seem to make sense.\n\nThe Tree displays fine when no TreeList#Format comparator is used but the sorting does not work correctly.\n\nSorry if I&#39;m way off here but anymore help would be appreciated","body":"Thank you, I think I understand the general structure.  However, I am trying to write a TreeList#Format comparator very similar to the one found in the TreeGridExample and it doesn&#39;t seem to make sense. The compare seems to only ever be called on items with the same depth. If I understand correctly and this is supposed to maintain the structure of the tree this doesn&#39;t seem to make sense.  The Tree displays fine when no TreeList#Format comparator is used but the sorting does not work correctly.  Sorry if I&#39;m way off here but anymore help would be appreciated"},{"owner":{"account_id":3538064,"reputation":4183,"user_id":2955861,"display_name":"Dirk Fauth"},"score":0,"creation_date":1559669981,"post_id":56437505,"comment_id":99491073,"body_markdown":"Not sure how to help more. I have provided the two examples we use by default. I am aware that this topic is not trivial, but without further details on what you have modified in your example I can&#39;t give any more hints.","body":"Not sure how to help more. I have provided the two examples we use by default. I am aware that this topic is not trivial, but without further details on what you have modified in your example I can&#39;t give any more hints."},{"owner":{"account_id":13811195,"reputation":61,"user_id":9968908,"display_name":"Stephen Wicklund"},"score":0,"creation_date":1559832970,"post_id":56437505,"comment_id":99550815,"body_markdown":"I believe there is a mistake with TreeGridExample that&#39;s caused me quite a bit of confusion... In the DatumTreeFormat function getComparator it returns a SortableTreeComparator constructed using the comparator test, which breaks the structure of the tree. If the SortableTreeComparator is constructed with the other comparator which is commented out it works correctly.","body":"I believe there is a mistake with TreeGridExample that&#39;s caused me quite a bit of confusion... In the DatumTreeFormat function getComparator it returns a SortableTreeComparator constructed using the comparator test, which breaks the structure of the tree. If the SortableTreeComparator is constructed with the other comparator which is commented out it works correctly."}],"tags":[],"owner":{"account_id":3538064,"reputation":4183,"user_id":2955861,"display_name":"Dirk Fauth"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1559623765,"creation_date":1559623765,"answer_id":56437505,"question_id":56432516,"body_markdown":"When using a `TreeList` you pass in a `Comparator` for the tree structure via `TreeList#Format`. This is needed to ensure that the tree is created properly, as it is derivated from a `List`. So even if there is a sorting applied via `SortedList`, the `Comparator` of the `TreeList#Format` will win in the end.\r\n\r\nTo solve your requirement you therefore need to implement a `TreeList#Format` that takes the column sorting into account. This can be done by using the NatTable `SortableTreeComparator` for example. You can have a look at our [TreeGridExample][1] to get an idea of how this could look like.\r\n\r\nA more extended version can be seen in the [GroupByComparator][2] that is used to support sorting by column with the GroupBy feature.\r\n\r\n\r\n  [1]: https://github.com/eclipse/nebula.widgets.nattable/blob/master/org.eclipse.nebula.widgets.nattable.examples/src/org/eclipse/nebula/widgets/nattable/examples/examples/_100_Layers/TreeGridExample.java\r\n  [2]: https://github.com/eclipse/nebula.widgets.nattable/blob/master/org.eclipse.nebula.widgets.nattable.extension.glazedlists/src/org/eclipse/nebula/widgets/nattable/extension/glazedlists/groupBy/GroupByComparator.java","title":"How to sort a TreeList with a different comparator for each column in a NatTable","body":"<p>When using a <code>TreeList</code> you pass in a <code>Comparator</code> for the tree structure via <code>TreeList#Format</code>. This is needed to ensure that the tree is created properly, as it is derivated from a <code>List</code>. So even if there is a sorting applied via <code>SortedList</code>, the <code>Comparator</code> of the <code>TreeList#Format</code> will win in the end.</p>\n\n<p>To solve your requirement you therefore need to implement a <code>TreeList#Format</code> that takes the column sorting into account. This can be done by using the NatTable <code>SortableTreeComparator</code> for example. You can have a look at our <a href=\"https://github.com/eclipse/nebula.widgets.nattable/blob/master/org.eclipse.nebula.widgets.nattable.examples/src/org/eclipse/nebula/widgets/nattable/examples/examples/_100_Layers/TreeGridExample.java\" rel=\"nofollow noreferrer\">TreeGridExample</a> to get an idea of how this could look like.</p>\n\n<p>A more extended version can be seen in the <a href=\"https://github.com/eclipse/nebula.widgets.nattable/blob/master/org.eclipse.nebula.widgets.nattable.extension.glazedlists/src/org/eclipse/nebula/widgets/nattable/extension/glazedlists/groupBy/GroupByComparator.java\" rel=\"nofollow noreferrer\">GroupByComparator</a> that is used to support sorting by column with the GroupBy feature.</p>\n"},{"tags":[],"owner":{"account_id":6929977,"reputation":83,"user_id":5319739,"display_name":"floh.mueller"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691480959,"creation_date":1691480959,"answer_id":76857467,"question_id":56432516,"body_markdown":"I know this question is ooooold, but I just solved the problem for a TreeList I was working on...\r\n\r\nI used a `TreeList.Format` which doubles as an `ISortModel` for my `SortHeaderLayer`.\r\n\r\nThe `Comparator` is directly applied to the `SortedList` while `ISortModel`&#39;s `getComparatorsForColumnIndex(int)` and `getColumnComparator(int)` may return `null`.&lt;br&gt;\r\nThe `Comparator` always takes the whole path to a `TreeNode` into account and never returns `0` unless the `TreeNode`s are truly identical.\r\n\r\nSetting `SortDirectionEnum.NONE` in `ISortModel`&#39;s `sort(int, SortDirectionEnum, boolean)` triggers a fallback to ascending order of column 0.\r\n\r\n    private class MyTreeFormat implements TreeList.Format&lt;TreeNode&gt;, ISortModel {\r\n\r\n        private final IColumnPropertyAccessor&lt;TreeNode&gt; columnPropertyAccessor;\r\n\r\n        public MyTreeFormat(final IColumnPropertyAccessor&lt;TreeNode&gt; columnPropertyAccessor) {\r\n            this.columnPropertyAccessor = columnPropertyAccessor;\r\n        }\r\n\r\n\t\t// never return 0 unless node1 == node2, else the list will be in arbitrary order and mess up the tree\r\n        private final Comparator&lt;TreeNode&gt; comparator = new Comparator&lt;TreeNode&gt;() {\r\n            @Override\r\n            public int compare(final TreeNode node1, final TreeNode node2) {\r\n                if (node1 == node2) return 0;\r\n\r\n\t\t\t\t// paths from root to node 1&amp;2\r\n                final Iterator&lt;TreeNode&gt; piter1 = node1.getPath().iterator();\r\n                final Iterator&lt;TreeNode&gt; piter2 = node2.getPath().iterator();\r\n\r\n                while (piter1.hasNext() &amp;&amp; piter2.hasNext()) {\r\n                    final int result = doCompare(piter1.next(), piter2.next());\r\n                    if (result != 0) return result;\r\n                }\r\n\r\n                return 0;\r\n            }\r\n\r\n            private int doCompare(final TreeNode node1, final TreeNode node2) {\r\n                if (node1 == node2) return 0;\r\n\r\n                int result;\r\n\t\t\t\tif (sortedColumnIndex == 0) {\r\n                    result = SpecialComparatorForColumn0.getInstance().compare(node1.getId(), node2.getId());\r\n                } else {\r\n                    final Object data1 = columnPropertyAccessor.getDataValue(node1, sortedColumnIndex);\r\n                    final Object data2 = columnPropertyAccessor.getDataValue(node2, sortedColumnIndex);\r\n                    final String s1, s2;\r\n\t\t\t\t\t\r\n\t\t\t\t\t// we have some Date columns while all other columns are Strings:\r\n                    if (data1 instanceof Date) {\r\n                        s1 = MY_SIMPLE_DATE_FORMAT.format((Date) data1);\r\n                        s2 = MY_SIMPLE_DATE_FORMAT.format((Date) data2);\r\n                    } else {\r\n                        s1 = String.valueOf(data1);\r\n                        s2 = String.valueOf(data2);\r\n                    }\r\n\t\t\t\t\t\r\n                    result = s1.compareToIgnoreCase(s2);\r\n                    if (result == 0) result = SpecialComparatorForColumn0.getInstance().compare(node1.getId(), node2.getId()); // ensures same order for equal values in sort column !!\r\n                }\r\n                return result * (sortDirection == SortDirectionEnum.ASC ? 1 : -1);\r\n            }\r\n\r\n        };\r\n\r\n        @Override\r\n        public void getPath(final List&lt;TreeNode&gt; path, final TreeNode element) {\r\n            for (final TreeNode TreeNode : element.getPath()) {\r\n                path.add(TreeNode);\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Simply always return &lt;code&gt;true&lt;/code&gt;.\r\n         *\r\n         * @return &lt;code&gt;true&lt;/code&gt; if this element can have child elements, or\r\n         *         &lt;code&gt;false&lt;/code&gt; if it is always a leaf node.\r\n         */\r\n        @Override\r\n        public boolean allowsChildren(final TreeNode element) {\r\n            return true;\r\n        }\r\n\r\n        /**\r\n         * Returns the comparator used to order path elements of the specified\r\n         * depth. If enforcing order at this level is not intended, this method\r\n         * should return &lt;code&gt;null&lt;/code&gt;. We do a simple sorting of the last\r\n         * names of the persons to show so the tree nodes are sorted in\r\n         * alphabetical order.\r\n         */\r\n        @Override\r\n        public Comparator&lt;? super TreeNode&gt; getComparator(final int depth) {\r\n            return comparator;\r\n        }\r\n\r\n\t\t/* ---------- ISortModel implementation START ---------- \r\n\t\t * ISortModel for the SortHeaderLayer\r\n\t\t * sort only allowed by a single column at a time\r\n\t\t * key was to set the sorted list&#39;s comparator on sort(...) so the whole tree is reordered on a click on the column header\r\n\t\t*/\r\n        private int sortedColumnIndex = 0;\r\n        private int sortedColumnIndexOld = 0;\r\n        private SortDirectionEnum sortDirection = SortDirectionEnum.DESC;\r\n\r\n        @Override\r\n        public List&lt;Integer&gt; getSortedColumnIndexes() {\r\n            return Collections.singletonList(sortedColumnIndex);\r\n        }\r\n\r\n        @Override\r\n        public boolean isColumnIndexSorted(final int columnIndex) {\r\n            return sortedColumnIndex == columnIndex;\r\n        }\r\n\r\n        @Override\r\n        public SortDirectionEnum getSortDirection(final int columnIndex) {\r\n            if (columnIndex == sortedColumnIndexOld) return sortDirection;\r\n            else {\r\n                sortedColumnIndexOld = columnIndex;\r\n                return sortDirection = SortDirectionEnum.NONE;\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public int getSortOrder(final int columnIndex) {\r\n            return 0;\r\n        }\r\n\r\n        @SuppressWarnings(&quot;rawtypes&quot;)\r\n        @Override\r\n        public List&lt;Comparator&gt; getComparatorsForColumnIndex(final int columnIndex) {\r\n            return null;\r\n        }\r\n\r\n        @Override\r\n        public Comparator&lt;?&gt; getColumnComparator(final int columnIndex) {\r\n            return null;\r\n        }\r\n\r\n        @Override\r\n        public void sort(final int columnIndex, final SortDirectionEnum sortDirection, final boolean accumulate) {\r\n            if (sortDirection == SortDirectionEnum.NONE) {\r\n                this.sortDirection = SortDirectionEnum.ASC;\r\n                this.sortedColumnIndex = 0;\r\n            } else {\r\n                this.sortDirection = sortDirection;\r\n                this.sortedColumnIndex = columnIndex;\r\n            }\r\n            bodyLayerStack.getSortedList().setComparator(comparator);\r\n        }\r\n\r\n        @Override\r\n        public void clear() {\r\n            sort(0, SortDirectionEnum.ASC, false);\r\n        }\r\n\r\n    }","title":"How to sort a TreeList with a different comparator for each column in a NatTable","body":"<p>I know this question is ooooold, but I just solved the problem for a TreeList I was working on...</p>\n<p>I used a <code>TreeList.Format</code> which doubles as an <code>ISortModel</code> for my <code>SortHeaderLayer</code>.</p>\n<p>The <code>Comparator</code> is directly applied to the <code>SortedList</code> while <code>ISortModel</code>'s <code>getComparatorsForColumnIndex(int)</code> and <code>getColumnComparator(int)</code> may return <code>null</code>.<br>\nThe <code>Comparator</code> always takes the whole path to a <code>TreeNode</code> into account and never returns <code>0</code> unless the <code>TreeNode</code>s are truly identical.</p>\n<p>Setting <code>SortDirectionEnum.NONE</code> in <code>ISortModel</code>'s <code>sort(int, SortDirectionEnum, boolean)</code> triggers a fallback to ascending order of column 0.</p>\n<pre><code>private class MyTreeFormat implements TreeList.Format&lt;TreeNode&gt;, ISortModel {\n\n    private final IColumnPropertyAccessor&lt;TreeNode&gt; columnPropertyAccessor;\n\n    public MyTreeFormat(final IColumnPropertyAccessor&lt;TreeNode&gt; columnPropertyAccessor) {\n        this.columnPropertyAccessor = columnPropertyAccessor;\n    }\n\n    // never return 0 unless node1 == node2, else the list will be in arbitrary order and mess up the tree\n    private final Comparator&lt;TreeNode&gt; comparator = new Comparator&lt;TreeNode&gt;() {\n        @Override\n        public int compare(final TreeNode node1, final TreeNode node2) {\n            if (node1 == node2) return 0;\n\n            // paths from root to node 1&amp;2\n            final Iterator&lt;TreeNode&gt; piter1 = node1.getPath().iterator();\n            final Iterator&lt;TreeNode&gt; piter2 = node2.getPath().iterator();\n\n            while (piter1.hasNext() &amp;&amp; piter2.hasNext()) {\n                final int result = doCompare(piter1.next(), piter2.next());\n                if (result != 0) return result;\n            }\n\n            return 0;\n        }\n\n        private int doCompare(final TreeNode node1, final TreeNode node2) {\n            if (node1 == node2) return 0;\n\n            int result;\n            if (sortedColumnIndex == 0) {\n                result = SpecialComparatorForColumn0.getInstance().compare(node1.getId(), node2.getId());\n            } else {\n                final Object data1 = columnPropertyAccessor.getDataValue(node1, sortedColumnIndex);\n                final Object data2 = columnPropertyAccessor.getDataValue(node2, sortedColumnIndex);\n                final String s1, s2;\n                \n                // we have some Date columns while all other columns are Strings:\n                if (data1 instanceof Date) {\n                    s1 = MY_SIMPLE_DATE_FORMAT.format((Date) data1);\n                    s2 = MY_SIMPLE_DATE_FORMAT.format((Date) data2);\n                } else {\n                    s1 = String.valueOf(data1);\n                    s2 = String.valueOf(data2);\n                }\n                \n                result = s1.compareToIgnoreCase(s2);\n                if (result == 0) result = SpecialComparatorForColumn0.getInstance().compare(node1.getId(), node2.getId()); // ensures same order for equal values in sort column !!\n            }\n            return result * (sortDirection == SortDirectionEnum.ASC ? 1 : -1);\n        }\n\n    };\n\n    @Override\n    public void getPath(final List&lt;TreeNode&gt; path, final TreeNode element) {\n        for (final TreeNode TreeNode : element.getPath()) {\n            path.add(TreeNode);\n        }\n    }\n\n    /**\n     * Simply always return &lt;code&gt;true&lt;/code&gt;.\n     *\n     * @return &lt;code&gt;true&lt;/code&gt; if this element can have child elements, or\n     *         &lt;code&gt;false&lt;/code&gt; if it is always a leaf node.\n     */\n    @Override\n    public boolean allowsChildren(final TreeNode element) {\n        return true;\n    }\n\n    /**\n     * Returns the comparator used to order path elements of the specified\n     * depth. If enforcing order at this level is not intended, this method\n     * should return &lt;code&gt;null&lt;/code&gt;. We do a simple sorting of the last\n     * names of the persons to show so the tree nodes are sorted in\n     * alphabetical order.\n     */\n    @Override\n    public Comparator&lt;? super TreeNode&gt; getComparator(final int depth) {\n        return comparator;\n    }\n\n    /* ---------- ISortModel implementation START ---------- \n     * ISortModel for the SortHeaderLayer\n     * sort only allowed by a single column at a time\n     * key was to set the sorted list's comparator on sort(...) so the whole tree is reordered on a click on the column header\n    */\n    private int sortedColumnIndex = 0;\n    private int sortedColumnIndexOld = 0;\n    private SortDirectionEnum sortDirection = SortDirectionEnum.DESC;\n\n    @Override\n    public List&lt;Integer&gt; getSortedColumnIndexes() {\n        return Collections.singletonList(sortedColumnIndex);\n    }\n\n    @Override\n    public boolean isColumnIndexSorted(final int columnIndex) {\n        return sortedColumnIndex == columnIndex;\n    }\n\n    @Override\n    public SortDirectionEnum getSortDirection(final int columnIndex) {\n        if (columnIndex == sortedColumnIndexOld) return sortDirection;\n        else {\n            sortedColumnIndexOld = columnIndex;\n            return sortDirection = SortDirectionEnum.NONE;\n        }\n    }\n\n    @Override\n    public int getSortOrder(final int columnIndex) {\n        return 0;\n    }\n\n    @SuppressWarnings(&quot;rawtypes&quot;)\n    @Override\n    public List&lt;Comparator&gt; getComparatorsForColumnIndex(final int columnIndex) {\n        return null;\n    }\n\n    @Override\n    public Comparator&lt;?&gt; getColumnComparator(final int columnIndex) {\n        return null;\n    }\n\n    @Override\n    public void sort(final int columnIndex, final SortDirectionEnum sortDirection, final boolean accumulate) {\n        if (sortDirection == SortDirectionEnum.NONE) {\n            this.sortDirection = SortDirectionEnum.ASC;\n            this.sortedColumnIndex = 0;\n        } else {\n            this.sortDirection = sortDirection;\n            this.sortedColumnIndex = columnIndex;\n        }\n        bodyLayerStack.getSortedList().setComparator(comparator);\n    }\n\n    @Override\n    public void clear() {\n        sort(0, SortDirectionEnum.ASC, false);\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":13811195,"reputation":61,"user_id":9968908,"display_name":"Stephen Wicklund"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":470,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":56437505,"answer_count":2,"score":0,"last_activity_date":1691480959,"creation_date":1559585570,"question_id":56432516,"body_markdown":"I&#39;m using NatTable to display a tree with multiple columns. The tree is flattened into a SortedList which is used to create TreeList.\r\n\r\n```\r\nEventList&lt;Person&gt; eventList = GlazedLists.eventList(perfStats.getFlattenedTree());\r\nTransformedList&lt;Person, Person&gt; rowObjectsGlazedList = GlazedLists.threadSafeList(eventList);\r\nSortedList&lt;Person&gt; sortedList = new SortedList&lt;(rowObjectsGlazedList, null);\r\nTreeList treeList = new TreeList(sortedList, treeFormat, TreeList.nodesStartCollapsed());\r\n```\r\n\r\nThis works to display the tree. However, now my issue is how do I sort this properly?\r\n\r\nThe desired outcome would be for the roots to be properly sorted, then the children inside properly sorted independently and so on.\r\n\r\nRight now, I&#39;m using the GlazedListsSortModel and it sorts the flattened tree then builds the display from that which does not work.\r\n\r\nAny help or just pointing me in the right direction would be appreciated!","title":"How to sort a TreeList with a different comparator for each column in a NatTable","body":"<p>I'm using NatTable to display a tree with multiple columns. The tree is flattened into a SortedList which is used to create TreeList.</p>\n\n<pre><code>EventList&lt;Person&gt; eventList = GlazedLists.eventList(perfStats.getFlattenedTree());\nTransformedList&lt;Person, Person&gt; rowObjectsGlazedList = GlazedLists.threadSafeList(eventList);\nSortedList&lt;Person&gt; sortedList = new SortedList&lt;(rowObjectsGlazedList, null);\nTreeList treeList = new TreeList(sortedList, treeFormat, TreeList.nodesStartCollapsed());\n</code></pre>\n\n<p>This works to display the tree. However, now my issue is how do I sort this properly?</p>\n\n<p>The desired outcome would be for the roots to be properly sorted, then the children inside properly sorted independently and so on.</p>\n\n<p>Right now, I'm using the GlazedListsSortModel and it sorts the flattened tree then builds the display from that which does not work.</p>\n\n<p>Any help or just pointing me in the right direction would be appreciated!</p>\n"},{"tags":["java","maven","build"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":1,"creation_date":1685552730,"post_id":76375548,"comment_id":134677564,"body_markdown":"Use [code format](https://stackoverflow.com/editing-help#code) for logs, not quote format. Quote is for human text, not logs and other pre formatted text. Quote breaks the existing format of the log, makes it very hard to read and gets in the way of trying to copy text for investigation.","body":"Use <a href=\"https://stackoverflow.com/editing-help#code\">code format</a> for logs, not quote format. Quote is for human text, not logs and other pre formatted text. Quote breaks the existing format of the log, makes it very hard to read and gets in the way of trying to copy text for investigation."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1685719839,"post_id":76375548,"comment_id":134705246,"body_markdown":"The calling of the given plugin calling 3 times `maven-resources-plugin` is understandable because you are triggering `package install deploy` which means you are starting three times the life cycle which means 3 times resources-plugin etc. You can simplify that into `deploy`...","body":"The calling of the given plugin calling 3 times <code>maven-resources-plugin</code> is understandable because you are triggering <code>package install deploy</code> which means you are starting three times the life cycle which means 3 times resources-plugin etc. You can simplify that into <code>deploy</code>..."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1685719896,"post_id":76375548,"comment_id":134705260,"body_markdown":"BTW: I&#39;ve seen that you are having profiles with different module set which is a bad idea ... you should never make usage of module dependending on a profile... etc..","body":"BTW: I&#39;ve seen that you are having profiles with different module set which is a bad idea ... you should never make usage of module dependending on a profile... etc.."},{"owner":{"account_id":3408732,"reputation":135,"user_id":2859213,"display_name":"FelipeCaparelli"},"score":0,"creation_date":1691480945,"post_id":76375548,"comment_id":135493669,"body_markdown":"@khmarbaise your suggestion has guided me in the right direction. After changing the actions on Jenkins from mvn package install deploy to mvn deploy it stopped duplicating the executions. The action deploy already contains the package and install on it, so adding it into the command line will force maven to re-execute it.","body":"@khmarbaise your suggestion has guided me in the right direction. After changing the actions on Jenkins from mvn package install deploy to mvn deploy it stopped duplicating the executions. The action deploy already contains the package and install on it, so adding it into the command line will force maven to re-execute it."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1691508967,"post_id":76375548,"comment_id":135499921,"body_markdown":"To deploy artifacts you only need `mvn deploy` nothing else... that includes the install parts, etc. you should check the life cycle https://maven.apache.org/guides/introduction/introduction-to-the-lifecycle#lifecycle-reference also upgrade all the plugins etc... because you are using very old versions...https://maven.apache.org/plugins/","body":"To deploy artifacts you only need <code>mvn deploy</code> nothing else... that includes the install parts, etc. you should check the life cycle <a href=\"https://maven.apache.org/guides/introduction/introduction-to-the-lifecycle#lifecycle-reference\" rel=\"nofollow noreferrer\">maven.apache.org/guides/introduction/&hellip;</a> also upgrade all the plugins etc... because you are using very old versions...<a href=\"https://maven.apache.org/plugins/\" rel=\"nofollow noreferrer\">maven.apache.org/plugins</a>"}],"owner":{"account_id":3408732,"reputation":135,"user_id":2859213,"display_name":"FelipeCaparelli"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691480637,"creation_date":1685550090,"question_id":76375548,"body_markdown":"I have a project using Maven, and in one module while compiling on Jenkins is calling 3 times the plugin maven-resources-plugin (not only this plugin but also others in the same module). The compilation is working fine on my local, running once one. \r\n\r\nFollow the command executed in Jenkins:\r\n\r\n    mvn -e -X clean source:jar package install deploy -Pint\r\n\r\nFollow my pom.xml\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;com.github.eirslett&lt;/groupId&gt;\r\n                &lt;artifactId&gt;frontend-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;1.12.1&lt;/version&gt;\r\n\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;install node and npm&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;install-node-and-npm&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;nodeVersion&gt;v10.12.0&lt;/nodeVersion&gt;\r\n                            &lt;npmVersion&gt;6.4.1&lt;/npmVersion&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;npm install&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;npm&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;!-- Optional configuration which provides for running any npm command --&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;arguments&gt;install --verbose&lt;/arguments&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;gulp compile --prod&lt;/id&gt;\r\n                        &lt;phase&gt;generate-resources&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;gulp&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n\r\n                        &lt;configuration&gt;\r\n                            &lt;arguments&gt;compile --prod&lt;/arguments&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.6&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;descriptors&gt;\r\n                        &lt;descriptor&gt;resources/deployment/distribution.xml&lt;/descriptor&gt;\r\n                    &lt;/descriptors&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;make-assembly&lt;/id&gt;\r\n                        &lt;!-- this is used for inheritance merges --&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;!-- bind to the packaging phase --&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;single&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.6&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;webXml&gt;resources/deployment/web.xml&lt;/webXml&gt;\r\n                    &lt;warSourceDirectory&gt;app/build/prod&lt;/warSourceDirectory&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\nMy parent pom.xml has some profiles, but only one is activated by default. \r\n\r\nINFO: It is important to notice that this issue only occurs on Jenkins, and I cannot reproduce it on my local. \r\n\r\nFollow also a code-snipped of my parent pom.xml:\r\n\r\n    \t&lt;profiles&gt;\r\n        &lt;profile&gt;\r\n            &lt;id&gt;default&lt;/id&gt;\r\n            &lt;activation&gt;\r\n                &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\r\n            &lt;/activation&gt;\r\n            &lt;modules&gt;\r\n                &lt;module&gt;core&lt;/module&gt;\r\n                &lt;module&gt;service&lt;/module&gt;\r\n                &lt;module&gt;mapping&lt;/module&gt;\r\n                &lt;module&gt;ui&lt;/module&gt;\r\n                &lt;module&gt;breaking-module&lt;/module&gt;\r\n            &lt;/modules&gt;\r\n        &lt;/profile&gt;\r\n\r\n        &lt;profile&gt;\r\n            &lt;id&gt;dev&lt;/id&gt;\r\n            &lt;modules&gt;\r\n                &lt;module&gt;core&lt;/module&gt;\r\n                &lt;module&gt;service&lt;/module&gt;\r\n                &lt;module&gt;mapping&lt;/module&gt;\r\n                &lt;module&gt;breaking-module&lt;/module&gt;\r\n            &lt;/modules&gt;\r\n        &lt;/profile&gt;\r\n\r\n        &lt;profile&gt;\r\n            &lt;id&gt;si&lt;/id&gt;\r\n            &lt;modules&gt;\r\n                &lt;module&gt;core&lt;/module&gt;\r\n                &lt;module&gt;service&lt;/module&gt;\r\n                &lt;module&gt;mapping&lt;/module&gt;\r\n            &lt;/modules&gt;\r\n        &lt;/profile&gt;\r\n\r\n        &lt;profile&gt;\r\n            &lt;id&gt;int&lt;/id&gt;\r\n            &lt;modules&gt;\r\n                &lt;module&gt;core&lt;/module&gt;\r\n                &lt;module&gt;service&lt;/module&gt;\r\n                &lt;module&gt;mapping&lt;/module&gt;\r\n                &lt;module&gt;ui&lt;/module&gt;\r\n                &lt;module&gt;breaking-module&lt;/module&gt;\r\n            &lt;/modules&gt;\r\n        &lt;/profile&gt;\r\n\r\n    &lt;/profiles&gt;\r\n\r\nFollow the error trace with the failing resources:\r\n\r\n    [pathconvert] Set property core.file.full.path = \r\n    /data/jenkins_workspace/workspace/HotfixFinish/breaking-module/target/war/com.project/ui-root-platform/config-bbstatic-1.0.1-230531075633.js//data/jenkins_workspace/workspace/HotfixFinish/breaking-module/target/war/com.project/ui-root-platform/config-bbstatic-1.0.1-230531075757.js//data/jenkins_workspace/workspace/HotfixFinish/breaking-module/target/war/com.project/ui-root-platform/config-bbstatic-1.0.1-230531075916.js\r\n    Setting project property: core.file.full.path -&gt; /data/jenkins_workspace/workspace/HotfixFinish/breaking-module/target/war/com.project/ui-root-platform/config-bbstatic-1.0.1-230531075633.js//data/jenkins_workspace/workspace/HotfixFinish/breaking-module/target/war/com.project/ui-root-platform/config-bbstatic-1.0.1-230531075757.js//data/jenkins_workspace/workspace/HotfixFinish/breaking-module/target/war/com.project/ui-root-platform/config-bbstatic-1.0.1-230531075916.js","title":"Maven antrun plugin maven-resources-plugin executed multiple times","body":"<p>I have a project using Maven, and in one module while compiling on Jenkins is calling 3 times the plugin maven-resources-plugin (not only this plugin but also others in the same module). The compilation is working fine on my local, running once one.</p>\n<p>Follow the command executed in Jenkins:</p>\n<pre><code>mvn -e -X clean source:jar package install deploy -Pint\n</code></pre>\n<p>Follow my pom.xml</p>\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;com.github.eirslett&lt;/groupId&gt;\n            &lt;artifactId&gt;frontend-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;1.12.1&lt;/version&gt;\n\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;install node and npm&lt;/id&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;install-node-and-npm&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;nodeVersion&gt;v10.12.0&lt;/nodeVersion&gt;\n                        &lt;npmVersion&gt;6.4.1&lt;/npmVersion&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n\n                &lt;execution&gt;\n                    &lt;id&gt;npm install&lt;/id&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;npm&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;!-- Optional configuration which provides for running any npm command --&gt;\n                    &lt;configuration&gt;\n                        &lt;arguments&gt;install --verbose&lt;/arguments&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n\n                &lt;execution&gt;\n                    &lt;id&gt;gulp compile --prod&lt;/id&gt;\n                    &lt;phase&gt;generate-resources&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;gulp&lt;/goal&gt;\n                    &lt;/goals&gt;\n\n                    &lt;configuration&gt;\n                        &lt;arguments&gt;compile --prod&lt;/arguments&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n\n        &lt;plugin&gt;\n            &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.6&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;descriptors&gt;\n                    &lt;descriptor&gt;resources/deployment/distribution.xml&lt;/descriptor&gt;\n                &lt;/descriptors&gt;\n            &lt;/configuration&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;make-assembly&lt;/id&gt;\n                    &lt;!-- this is used for inheritance merges --&gt;\n                    &lt;phase&gt;package&lt;/phase&gt;\n                    &lt;!-- bind to the packaging phase --&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;single&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.6&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;webXml&gt;resources/deployment/web.xml&lt;/webXml&gt;\n                &lt;warSourceDirectory&gt;app/build/prod&lt;/warSourceDirectory&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p>My parent pom.xml has some profiles, but only one is activated by default.</p>\n<p>INFO: It is important to notice that this issue only occurs on Jenkins, and I cannot reproduce it on my local.</p>\n<p>Follow also a code-snipped of my parent pom.xml:</p>\n<pre><code>    &lt;profiles&gt;\n    &lt;profile&gt;\n        &lt;id&gt;default&lt;/id&gt;\n        &lt;activation&gt;\n            &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\n        &lt;/activation&gt;\n        &lt;modules&gt;\n            &lt;module&gt;core&lt;/module&gt;\n            &lt;module&gt;service&lt;/module&gt;\n            &lt;module&gt;mapping&lt;/module&gt;\n            &lt;module&gt;ui&lt;/module&gt;\n            &lt;module&gt;breaking-module&lt;/module&gt;\n        &lt;/modules&gt;\n    &lt;/profile&gt;\n\n    &lt;profile&gt;\n        &lt;id&gt;dev&lt;/id&gt;\n        &lt;modules&gt;\n            &lt;module&gt;core&lt;/module&gt;\n            &lt;module&gt;service&lt;/module&gt;\n            &lt;module&gt;mapping&lt;/module&gt;\n            &lt;module&gt;breaking-module&lt;/module&gt;\n        &lt;/modules&gt;\n    &lt;/profile&gt;\n\n    &lt;profile&gt;\n        &lt;id&gt;si&lt;/id&gt;\n        &lt;modules&gt;\n            &lt;module&gt;core&lt;/module&gt;\n            &lt;module&gt;service&lt;/module&gt;\n            &lt;module&gt;mapping&lt;/module&gt;\n        &lt;/modules&gt;\n    &lt;/profile&gt;\n\n    &lt;profile&gt;\n        &lt;id&gt;int&lt;/id&gt;\n        &lt;modules&gt;\n            &lt;module&gt;core&lt;/module&gt;\n            &lt;module&gt;service&lt;/module&gt;\n            &lt;module&gt;mapping&lt;/module&gt;\n            &lt;module&gt;ui&lt;/module&gt;\n            &lt;module&gt;breaking-module&lt;/module&gt;\n        &lt;/modules&gt;\n    &lt;/profile&gt;\n\n&lt;/profiles&gt;\n</code></pre>\n<p>Follow the error trace with the failing resources:</p>\n<pre><code>[pathconvert] Set property core.file.full.path = \n/data/jenkins_workspace/workspace/HotfixFinish/breaking-module/target/war/com.project/ui-root-platform/config-bbstatic-1.0.1-230531075633.js//data/jenkins_workspace/workspace/HotfixFinish/breaking-module/target/war/com.project/ui-root-platform/config-bbstatic-1.0.1-230531075757.js//data/jenkins_workspace/workspace/HotfixFinish/breaking-module/target/war/com.project/ui-root-platform/config-bbstatic-1.0.1-230531075916.js\nSetting project property: core.file.full.path -&gt; /data/jenkins_workspace/workspace/HotfixFinish/breaking-module/target/war/com.project/ui-root-platform/config-bbstatic-1.0.1-230531075633.js//data/jenkins_workspace/workspace/HotfixFinish/breaking-module/target/war/com.project/ui-root-platform/config-bbstatic-1.0.1-230531075757.js//data/jenkins_workspace/workspace/HotfixFinish/breaking-module/target/war/com.project/ui-root-platform/config-bbstatic-1.0.1-230531075916.js\n</code></pre>\n"},{"tags":["java","android","kotlin","android-room"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1691477687,"post_id":76857055,"comment_id":135493085,"body_markdown":"where the `@Ignore` annotation comes from?","body":"where the <code>@Ignore</code> annotation comes from?"},{"owner":{"account_id":16877632,"reputation":2683,"user_id":12204620,"display_name":"Bitwise DEVS"},"score":0,"creation_date":1691477863,"post_id":76857055,"comment_id":135493111,"body_markdown":"@Jens from Room itself","body":"@Jens from Room itself"}],"answers":[{"tags":[],"owner":{"account_id":17292219,"reputation":146,"user_id":12523577,"display_name":"viethoang"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691480125,"creation_date":1691480125,"answer_id":76857360,"question_id":76857055,"body_markdown":"It is necessary to include a second constructor in the following format.\r\n\r\n    @Entity(tableName = &quot;SampleEntityTable&quot;)\r\n    data class SampleEntity(\r\n        @PrimaryKey(autoGenerate = true)\r\n        val id: Int = 0,\r\n        @Ignore\r\n        var sampleJavaClass: SampleJavaClass,\r\n        var epoch: Long = 0\r\n    ){\r\n       constructor(\r\n       id: Int,\r\n       epoch: Long\r\n    ): this()\r\n       id = id,\r\n       epoch: Long,\r\n       sampleJavaClass = SampleJavaClass()\r\n    }","title":"Room @Ignore annotation not working with KSP","body":"<p>It is necessary to include a second constructor in the following format.</p>\n<pre><code>@Entity(tableName = &quot;SampleEntityTable&quot;)\ndata class SampleEntity(\n    @PrimaryKey(autoGenerate = true)\n    val id: Int = 0,\n    @Ignore\n    var sampleJavaClass: SampleJavaClass,\n    var epoch: Long = 0\n){\n   constructor(\n   id: Int,\n   epoch: Long\n): this()\n   id = id,\n   epoch: Long,\n   sampleJavaClass = SampleJavaClass()\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6077735,"reputation":52951,"user_id":4744514,"accept_rate":96,"display_name":"MikeT"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1691480489,"creation_date":1691480169,"answer_id":76857369,"question_id":76857055,"body_markdown":"As you are `Ignore`ing the **sampleJavaClass** field, Room needs a constructor that takes just the id and epoch fields (i.e. those extracted from the database columns actually stored (not ignored)) as the sampleJavaClass field is not available when building SampleEntity objects when extracting data from the database.\r\n\r\nFor example if SampleJavaClass were:-\r\n\r\n    data class SampleJavaClass(\r\n        var sjcid: Long,\r\n        var sjctext: String\r\n    )\r\n\r\n- included so that the concept can be proven by compiling (as shown below)\r\n\r\nThen you could modify the SampleEntity data class to be:-\r\n\r\n    @Entity(tableName = &quot;SampleEntityTable&quot;)\r\n    data class SampleEntity(\r\n        @PrimaryKey(autoGenerate = true)\r\n        val id: Int = 0,\r\n        @Ignore\r\n        var sampleJavaClass: SampleJavaClass,\r\n        var epoch: Long = 0\r\n    ) {\r\n        constructor(id: Int = 0, epoch: Long =0) : this(id = id, sampleJavaClass = SampleJavaClass(0,&quot;&quot;), epoch = epoch)\r\n    }\r\n\r\n- Here you can see that the additional constructor only takes the **id** and **epoch** parameters to build a SampleEntity object.\r\n\r\nNow if the constructor is commented out then  compiling results in:-\r\n\r\n[![enter image description here][1]][1]\r\n\r\nUncomment and:-\r\n\r\n[![enter image description here][2]][2]\r\n\r\n*of course you have to consider the requirements for constructing the **SampleJavaClass** object when extracting from the database, which may alter exactly what constructor to utilise.* \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mFU15.png\r\n  [2]: https://i.stack.imgur.com/oO1Xg.png","title":"Room @Ignore annotation not working with KSP","body":"<p>As you are <code>Ignore</code>ing the <strong>sampleJavaClass</strong> field, Room needs a constructor that takes just the id and epoch fields (i.e. those extracted from the database columns actually stored (not ignored)) as the sampleJavaClass field is not available when building SampleEntity objects when extracting data from the database.</p>\n<p>For example if SampleJavaClass were:-</p>\n<pre><code>data class SampleJavaClass(\n    var sjcid: Long,\n    var sjctext: String\n)\n</code></pre>\n<ul>\n<li>included so that the concept can be proven by compiling (as shown below)</li>\n</ul>\n<p>Then you could modify the SampleEntity data class to be:-</p>\n<pre><code>@Entity(tableName = &quot;SampleEntityTable&quot;)\ndata class SampleEntity(\n    @PrimaryKey(autoGenerate = true)\n    val id: Int = 0,\n    @Ignore\n    var sampleJavaClass: SampleJavaClass,\n    var epoch: Long = 0\n) {\n    constructor(id: Int = 0, epoch: Long =0) : this(id = id, sampleJavaClass = SampleJavaClass(0,&quot;&quot;), epoch = epoch)\n}\n</code></pre>\n<ul>\n<li>Here you can see that the additional constructor only takes the <strong>id</strong> and <strong>epoch</strong> parameters to build a SampleEntity object.</li>\n</ul>\n<p>Now if the constructor is commented out then  compiling results in:-</p>\n<p><a href=\"https://i.stack.imgur.com/mFU15.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mFU15.png\" alt=\"enter image description here\" /></a></p>\n<p>Uncomment and:-</p>\n<p><a href=\"https://i.stack.imgur.com/oO1Xg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oO1Xg.png\" alt=\"enter image description here\" /></a></p>\n<p><em>of course you have to consider the requirements for constructing the <strong>SampleJavaClass</strong> object when extracting from the database, which may alter exactly what constructor to utilise.</em></p>\n"}],"owner":{"account_id":16877632,"reputation":2683,"user_id":12204620,"display_name":"Bitwise DEVS"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76857369,"answer_count":2,"score":0,"last_activity_date":1691480489,"creation_date":1691477194,"question_id":76857055,"body_markdown":"We are trying to ignore a field in constructor of data class\r\n\r\n    @Entity(tableName = &quot;SampleEntityTable&quot;)\r\n    data class SampleEntity(\r\n        @PrimaryKey(autoGenerate = true)\r\n        val id: Int = 0,\r\n        @Ignore\r\n        var sampleJavaClass: SampleJavaClass,\r\n        var epoch: Long = 0\r\n    )\r\n\r\nSampleJavaClass is a class written in Java, the build fails with error:\r\n\r\n    Entities and POJOs must have a usable public constructor. You can have an empty constructor or a constructor whose parameters match the fields (by name and type).\r\n    Tried the following constructors but they failed to match:\r\n    &lt;init&gt; -&gt; [param:id -&gt; matched field:id, param:sampleJavaClass -&gt; matched field:unmatched, param:epoch -&gt; matched field:epoch]","title":"Room @Ignore annotation not working with KSP","body":"<p>We are trying to ignore a field in constructor of data class</p>\n<pre><code>@Entity(tableName = &quot;SampleEntityTable&quot;)\ndata class SampleEntity(\n    @PrimaryKey(autoGenerate = true)\n    val id: Int = 0,\n    @Ignore\n    var sampleJavaClass: SampleJavaClass,\n    var epoch: Long = 0\n)\n</code></pre>\n<p>SampleJavaClass is a class written in Java, the build fails with error:</p>\n<pre><code>Entities and POJOs must have a usable public constructor. You can have an empty constructor or a constructor whose parameters match the fields (by name and type).\nTried the following constructors but they failed to match:\n&lt;init&gt; -&gt; [param:id -&gt; matched field:id, param:sampleJavaClass -&gt; matched field:unmatched, param:epoch -&gt; matched field:epoch]\n</code></pre>\n"},{"tags":["java","spring","spring-batch"],"owner":{"account_id":4336392,"reputation":1317,"user_id":3540786,"accept_rate":60,"display_name":"SonalPM"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691480318,"creation_date":1691479913,"question_id":76857336,"body_markdown":"A spring batch is configured with multiple threads and runs perfectly with these threads but somehow once batch ran with only one thread and other threads were still in _STARTED_ status.  \r\n**What could be the cause of this ?**\r\n\r\n&gt;Can below be the reasons?\r\n&gt;1. Resource Limitations (CPU cores or memory)  \r\n&gt;2. ThreadPool TaskExecutor","title":"Reason for Spring Batch running on single thread instead of multithreads","body":"<p>A spring batch is configured with multiple threads and runs perfectly with these threads but somehow once batch ran with only one thread and other threads were still in <em>STARTED</em> status.<br />\n<strong>What could be the cause of this ?</strong></p>\n<blockquote>\n<p>Can below be the reasons?</p>\n<ol>\n<li>Resource Limitations (CPU cores or memory)</li>\n<li>ThreadPool TaskExecutor</li>\n</ol>\n</blockquote>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":8897,"reputation":11219,"user_id":16206,"accept_rate":78,"display_name":"borjab"},"score":1,"creation_date":1397209120,"post_id":2079823,"comment_id":35143864,"body_markdown":"Not really an answer to your question but in C# you may use an alias for any namespace.\n\nMay be it is just syntactic sugar but it is really helpfull:\nhttp://msdn.microsoft.com/en-us/library/7f38zh8x.aspx","body":"Not really an answer to your question but in C# you may use an alias for any namespace.  May be it is just syntactic sugar but it is really helpfull: <a href=\"http://msdn.microsoft.com/en-us/library/7f38zh8x.aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/7f38zh8x.aspx</a>"}],"answers":[{"comments":[{"owner":{"account_id":25621,"reputation":21842,"user_id":65977,"accept_rate":79,"display_name":"Tyler"},"score":2,"creation_date":1263701671,"post_id":2079831,"comment_id":2010871,"body_markdown":"If you&#39;re using Eclipse, you can change the name of `your.own.Date` using ctrl+shift+R. This will automatically change it everywhere you refer to it in your code, as well as in the file (and filename) your/own/Date.java. Any other IDE probably has a similar feature.","body":"If you&#39;re using Eclipse, you can change the name of <code>your.own.Date</code> using ctrl+shift+R. This will automatically change it everywhere you refer to it in your code, as well as in the file (and filename) your/own/Date.java. Any other IDE probably has a similar feature."},{"owner":{"account_id":77173,"reputation":40223,"user_id":220447,"accept_rate":90,"display_name":"paradigmatic"},"score":25,"creation_date":1263703058,"post_id":2079831,"comment_id":2010910,"body_markdown":"I don&#39;t agree with last statement. If you want to design your own Date class, the `Date` is the perfect name. You will use it in most of your code. However, sometimes you will need to call the `java.util.Date` notably to make conversions between both.","body":"I don&#39;t agree with last statement. If you want to design your own Date class, the <code>Date</code> is the perfect name. You will use it in most of your code. However, sometimes you will need to call the <code>java.util.Date</code> notably to make conversions between both."},{"owner":{"account_id":52535,"reputation":34017,"user_id":157027,"accept_rate":67,"display_name":"Amit"},"score":2,"creation_date":1263715106,"post_id":2079831,"comment_id":2011311,"body_markdown":"@MatrixFrog The feature in Eclipse that you have specified is also provided by Netbeans IDE. This feature is known as &quot;Refactor&quot;. Your info wasn&#39;t wrong but it is not the answer of the question asked. If he (Roger) is developing that code, then definately he knows that he can change or refactor the name of his Class.\n\nWhat he is asking is different from the answer you gave.","body":"@MatrixFrog The feature in Eclipse that you have specified is also provided by Netbeans IDE. This feature is known as &quot;Refactor&quot;. Your info wasn&#39;t wrong but it is not the answer of the question asked. If he (Roger) is developing that code, then definately he knows that he can change or refactor the name of his Class.  What he is asking is different from the answer you gave."},{"owner":{"account_id":25621,"reputation":21842,"user_id":65977,"accept_rate":79,"display_name":"Tyler"},"score":11,"creation_date":1263716355,"post_id":2079831,"comment_id":2011359,"body_markdown":"@Yatendra That&#39;s why I added it as a comment rather than an answer. I was expanding on the point Ellie P. made at the end of her answer. Roger probably knows that, but the point of SO is to help other developers, not just the person who asked the question. If people don&#39;t know about the IDE feature, they might think that it&#39;s unfeasible to switch names by hand, so I thought it would be useful to throw in that info.","body":"@Yatendra That&#39;s why I added it as a comment rather than an answer. I was expanding on the point Ellie P. made at the end of her answer. Roger probably knows that, but the point of SO is to help other developers, not just the person who asked the question. If people don&#39;t know about the IDE feature, they might think that it&#39;s unfeasible to switch names by hand, so I thought it would be useful to throw in that info."},{"owner":{"account_id":94193,"reputation":20589,"user_id":257299,"accept_rate":64,"display_name":"kevinarpe"},"score":6,"creation_date":1435748876,"post_id":2079831,"comment_id":50327697,"body_markdown":"My most frequent name clash occurs with `org.apache.log4j.Logger` and `java.util.logging.Logger`.  Usually, I have no control over one side or the other; I&#39;m doing legacy code integration.","body":"My most frequent name clash occurs with <code>org.apache.log4j.Logger</code> and <code>java.util.logging.Logger</code>.  Usually, I have no control over one side or the other; I&#39;m doing legacy code integration."},{"owner":{"account_id":6287771,"reputation":446,"user_id":4886367,"display_name":"John Woo"},"score":7,"creation_date":1472351111,"post_id":2079831,"comment_id":65716086,"body_markdown":"a new question is why java don&#39;t have an &quot;import as&quot;","body":"a new question is why java don&#39;t have an &quot;import as&quot;"},{"owner":{"account_id":2078089,"reputation":9678,"user_id":1850851,"accept_rate":42,"display_name":"Christian Vincenzo Traina"},"score":1,"creation_date":1651165046,"post_id":2079831,"comment_id":127304645,"body_markdown":"This works well when the path is short. In my cases I&#39;ve long  package names and typing the full qualified name exceeds the column limit","body":"This works well when the path is short. In my cases I&#39;ve long  package names and typing the full qualified name exceeds the column limit"}],"tags":[],"owner":{"account_id":49937,"reputation":4143,"user_id":148865,"accept_rate":100,"display_name":"Ellie P."},"comment_count":7,"down_vote_count":2,"up_vote_count":193,"is_accepted":true,"score":191,"last_activity_date":1263697818,"creation_date":1263697818,"answer_id":2079831,"question_id":2079823,"body_markdown":"You can omit the import statements and refer to them using the entire path. Eg:\r\n\r\n    java.util.Date javaDate = new java.util.Date()\r\n    my.own.Date myDate = new my.own.Date();\r\n\r\nBut I would say that using two classes with the same name and a similiar function is usually not the best idea unless you can make it really clear which is which.\r\n \r\n","title":"Importing two classes with same name. How to handle?","body":"<p>You can omit the import statements and refer to them using the entire path. Eg:</p>\n\n<pre><code>java.util.Date javaDate = new java.util.Date()\nmy.own.Date myDate = new my.own.Date();\n</code></pre>\n\n<p>But I would say that using two classes with the same name and a similiar function is usually not the best idea unless you can make it really clear which is which.</p>\n"},{"comments":[{"owner":{"account_id":376687,"reputation":233,"user_id":728312,"accept_rate":67,"display_name":"Alpaslan"},"score":12,"creation_date":1444653412,"post_id":2079832,"comment_id":53979023,"body_markdown":"Best practice is to import the most used one, using the least used one with full the classpath","body":"Best practice is to import the most used one, using the least used one with full the classpath"}],"tags":[],"owner":{"account_id":9396,"reputation":14580,"user_id":17335,"display_name":"Chii"},"comment_count":1,"down_vote_count":1,"up_vote_count":27,"is_accepted":false,"score":26,"last_activity_date":1263697830,"creation_date":1263697830,"answer_id":2079832,"question_id":2079823,"body_markdown":"use the fully qualified name instead of importing the class. \r\n\r\ne.g.\r\n\r\n    //import java.util.Date; //delete this\r\n    //import my.own.Date;\r\n    \r\n    class Test{\r\n    \r\n       public static void main(String [] args){\r\n    \r\n          // I want to choose my.own.Date here. How?\r\n          my.own.Date myDate = new my.own.Date();\r\n\r\n          // I want to choose util.Date here. How ?\r\n          java.util.Date javaDate = new java.util.Date();\r\n       }\r\n    }","title":"Importing two classes with same name. How to handle?","body":"<p>use the fully qualified name instead of importing the class. </p>\n\n<p>e.g.</p>\n\n<pre><code>//import java.util.Date; //delete this\n//import my.own.Date;\n\nclass Test{\n\n   public static void main(String [] args){\n\n      // I want to choose my.own.Date here. How?\n      my.own.Date myDate = new my.own.Date();\n\n      // I want to choose util.Date here. How ?\n      java.util.Date javaDate = new java.util.Date();\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":69612,"reputation":15420,"user_id":202431,"accept_rate":98,"display_name":"D.C."},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1263697848,"creation_date":1263697848,"answer_id":2079834,"question_id":2079823,"body_markdown":"Yes, when you import classes with the same simple names, you must refer to them by their fully qualified class names.  I would leave the import statements in, as it gives other developers a sense of what is in the file when they are working with it.\r\n\r\n    java.util.Data date1 = new java.util.Date();\r\n    my.own.Date date2 = new my.own.Date();","title":"Importing two classes with same name. How to handle?","body":"<p>Yes, when you import classes with the same simple names, you must refer to them by their fully qualified class names.  I would leave the import statements in, as it gives other developers a sense of what is in the file when they are working with it.</p>\n\n<pre><code>java.util.Data date1 = new java.util.Date();\nmy.own.Date date2 = new my.own.Date();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":52535,"reputation":34017,"user_id":157027,"accept_rate":67,"display_name":"Amit"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1263715496,"creation_date":1263715496,"answer_id":2080368,"question_id":2079823,"body_markdown":"This scenario is not so common in real-world programming, but not so strange too. It happens sometimes that two classes in different packages have same name and we need both of them.\r\n\r\nIt is not mandatory that if two classes have same name, then both will contain same functionalities and we should pick only one of them.\r\n\r\nIf we need both, then there is no harm in using that. And it&#39;s not a bad programming idea too.\r\n\r\nBut we should use fully qualified names of the classes (that have same name) in order to make it clear which class we are referring too.\r\n\r\n:)\r\n\r\n ","title":"Importing two classes with same name. How to handle?","body":"<p>This scenario is not so common in real-world programming, but not so strange too. It happens sometimes that two classes in different packages have same name and we need both of them.</p>\n\n<p>It is not mandatory that if two classes have same name, then both will contain same functionalities and we should pick only one of them.</p>\n\n<p>If we need both, then there is no harm in using that. And it's not a bad programming idea too.</p>\n\n<p>But we should use fully qualified names of the classes (that have same name) in order to make it clear which class we are referring too.</p>\n\n<p>:)</p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"comment_count":0,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1691480174,"creation_date":1263721647,"answer_id":2080582,"question_id":2079823,"body_markdown":"If you have your own date class you should distinguish it from the built-in Date class. i.e. why did you create your own.  Something like ImmutableDate or BetterDate or NanoDate, even MyDate would indicate why you have your own date class.  In this case, they will have a unique name.","title":"Importing two classes with same name. How to handle?","body":"<p>If you have your own date class you should distinguish it from the built-in Date class. i.e. why did you create your own.  Something like ImmutableDate or BetterDate or NanoDate, even MyDate would indicate why you have your own date class.  In this case, they will have a unique name.</p>\n"},{"comments":[{"owner":{"account_id":231971,"reputation":3364,"user_id":496501,"accept_rate":100,"display_name":"Justin Ohms"},"score":0,"creation_date":1381791449,"post_id":7193475,"comment_id":28704905,"body_markdown":"I do like this except (it is simple) however it doesn&#39;t address the issue for say accessing static methods.","body":"I do like this except (it is simple) however it doesn&#39;t address the issue for say accessing static methods."},{"owner":{"account_id":65080,"reputation":5716,"user_id":191761,"accept_rate":71,"display_name":"Adam Burley"},"score":0,"creation_date":1454535562,"post_id":7193475,"comment_id":58093663,"body_markdown":"I do this all the time when I want to use Hamcrest `Matchers` and Mockito `Matchers` in the same class. It seems to work with static methods.","body":"I do this all the time when I want to use Hamcrest <code>Matchers</code> and Mockito <code>Matchers</code> in the same class. It seems to work with static methods."},{"owner":{"account_id":1996592,"reputation":1235,"user_id":1789436,"accept_rate":40,"display_name":"CptBartender"},"score":0,"creation_date":1459504939,"post_id":7193475,"comment_id":60326799,"body_markdown":"@Kidburla you can also use static imports so long as you don&#39;t care which matcher comes from where. I often do this in unit tests for matchers and `.when`s, `.thenReturn`s etc. - removes the `Mockito.` bloat.","body":"@Kidburla you can also use static imports so long as you don&#39;t care which matcher comes from where. I often do this in unit tests for matchers and <code>.when</code>s, <code>.thenReturn</code>s etc. - removes the <code>Mockito.</code> bloat."},{"owner":{"account_id":8282330,"reputation":310,"user_id":6226589,"display_name":"Partha"},"score":2,"creation_date":1581401528,"post_id":7193475,"comment_id":106410555,"body_markdown":"This is a bad practice. Classes shouldn&#39;t be extended unless some functionality is being extended from the original class.","body":"This is a bad practice. Classes shouldn&#39;t be extended unless some functionality is being extended from the original class."}],"tags":[],"owner":{"account_id":543397,"reputation":137,"user_id":912511,"display_name":"Cheruvim"},"comment_count":4,"down_vote_count":4,"up_vote_count":12,"is_accepted":false,"score":8,"last_activity_date":1314287748,"creation_date":1314287748,"answer_id":7193475,"question_id":2079823,"body_markdown":"Another way to do it is subclass it:\r\n\r\n    package my.own;\r\n\r\n    public class FQNDate extends Date {\r\n\r\n    }\r\n\r\n\r\n\r\nAnd then import  my.own.FQNDate in packages that have java.util.Date.","title":"Importing two classes with same name. How to handle?","body":"<p>Another way to do it is subclass it:</p>\n\n<pre><code>package my.own;\n\npublic class FQNDate extends Date {\n\n}\n</code></pre>\n\n<p>And then import  my.own.FQNDate in packages that have java.util.Date.</p>\n"},{"tags":[],"owner":{"account_id":2629588,"reputation":21,"user_id":2275907,"display_name":"Randy Wilson"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1365797991,"creation_date":1365797991,"answer_id":15980185,"question_id":2079823,"body_markdown":"I hit this issue when, for example, mapping one class to another (such as when switching to a new set of classes to represent person data).  At that point, you need both classes because that is the whole point of the code--to map one to the other.  And you can&#39;t rename the classes in either place (again, the job is to map, not to go change what someone else did).\r\n\r\nFully qualified is one way.  It appears you can&#39;t actually include both import statements, because Java gets worried about which &quot;Person&quot; is meant, for example.","title":"Importing two classes with same name. How to handle?","body":"<p>I hit this issue when, for example, mapping one class to another (such as when switching to a new set of classes to represent person data).  At that point, you need both classes because that is the whole point of the code--to map one to the other.  And you can't rename the classes in either place (again, the job is to map, not to go change what someone else did).</p>\n\n<p>Fully qualified is one way.  It appears you can't actually include both import statements, because Java gets worried about which \"Person\" is meant, for example.</p>\n"},{"tags":[],"owner":{"account_id":3968982,"reputation":2629,"user_id":3274027,"accept_rate":25,"display_name":"Anuraj"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1691480214,"creation_date":1456685260,"answer_id":35686734,"question_id":2079823,"body_markdown":"You can import one of them using import. For all other similar classes, you need to specify fully qualified class names. Otherwise, you will get compilation error.\r\n\r\nExample:\r\n\r\n    import java.util.Date;\r\n    \r\n    class Test{\r\n    \r\n      public static void main(String [] args){\r\n    \r\n        // your own date\r\n        my.own.Date myOwndate ;\r\n        \r\n        // util.Date\r\n        Date utilDate;\r\n      }\r\n    }","title":"Importing two classes with same name. How to handle?","body":"<p>You can import one of them using import. For all other similar classes, you need to specify fully qualified class names. Otherwise, you will get compilation error.</p>\n<p>Example:</p>\n<pre><code>import java.util.Date;\n\nclass Test{\n\n  public static void main(String [] args){\n\n    // your own date\n    my.own.Date myOwndate ;\n    \n    // util.Date\n    Date utilDate;\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":201666,"reputation":362,"user_id":448266,"display_name":"Bondhan Novandy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1488444826,"creation_date":1488444826,"answer_id":42550739,"question_id":2079823,"body_markdown":"I just had the same problem, what I did, I arranged the library order in sequence, for example there were java.lang.NullPointerException and javacard.lang.NullPointerException. I made the first one as default library and if you needed to use the other you can explicitly specify the full qualified class name.","title":"Importing two classes with same name. How to handle?","body":"<p>I just had the same problem, what I did, I arranged the library order in sequence, for example there were java.lang.NullPointerException and javacard.lang.NullPointerException. I made the first one as default library and if you needed to use the other you can explicitly specify the full qualified class name.</p>\n"},{"tags":[],"owner":{"account_id":2085258,"reputation":428,"user_id":1856401,"display_name":"manfall19"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1507375691,"creation_date":1507375691,"answer_id":46619624,"question_id":2079823,"body_markdown":"If you really want or need to use the same class name from two different packages, you have two options:&lt;br/&gt;&lt;br/&gt;\r\n1-pick one to use in the import and use the other&#39;s fully qualified class name:\r\n\r\n    import my.own.Date;\r\n\r\n    class Test{\r\n\r\n         public static void main(String[] args){\r\n\r\n            // I want to choose my.own.Date here. How?\r\n            //Answer:\r\n\t        Date ownDate = new Date();\r\n     \r\n            // I want to choose util.Date here. How ?\r\n\t        //Answer:\r\n\t        java.util.Date utilDate = new java.util.Date();\r\n\r\n         }\r\n    }\r\n\r\n&lt;br/&gt;\r\n\r\n2-always use the fully qualified class name:\r\n\r\n\t//no Date import\r\n\tclass Test{\r\n\r\n\t  public static void main(String[] args){\r\n\r\n\t\t// I want to choose my.own.Date here. How?\r\n\t\t//Answer:\r\n\t\t my.own.Date ownDate = new my.own.Date();\r\n\t\t// I want to choose util.Date here. How ?\r\n\t\t//Answer:\r\n\t\t java.util.Date utilDate = new java.util.Date();\r\n\r\n\t  }\r\n\t}","title":"Importing two classes with same name. How to handle?","body":"<p>If you really want or need to use the same class name from two different packages, you have two options:<br/><br/>\n1-pick one to use in the import and use the other's fully qualified class name:</p>\n\n<pre><code>import my.own.Date;\n\nclass Test{\n\n     public static void main(String[] args){\n\n        // I want to choose my.own.Date here. How?\n        //Answer:\n        Date ownDate = new Date();\n\n        // I want to choose util.Date here. How ?\n        //Answer:\n        java.util.Date utilDate = new java.util.Date();\n\n     }\n}\n</code></pre>\n\n<p><br/></p>\n\n<p>2-always use the fully qualified class name:</p>\n\n<pre><code>//no Date import\nclass Test{\n\n  public static void main(String[] args){\n\n    // I want to choose my.own.Date here. How?\n    //Answer:\n     my.own.Date ownDate = new my.own.Date();\n    // I want to choose util.Date here. How ?\n    //Answer:\n     java.util.Date utilDate = new java.util.Date();\n\n  }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1838259,"reputation":7917,"user_id":1668200,"accept_rate":35,"display_name":"Thomas Landauer"},"score":0,"creation_date":1540757354,"post_id":53035452,"comment_id":92971449,"body_markdown":"Please include the code from the screenshot in your answer.","body":"Please include the code from the screenshot in your answer."}],"tags":[],"owner":{"account_id":13277342,"reputation":153,"user_id":9586230,"display_name":"Kirilo Lozitsky"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1540761795,"creation_date":1540755933,"answer_id":53035452,"question_id":2079823,"body_markdown":"When you call classes with the same names, you must explicitly specify the package from which the class is called.\r\n\r\nYou can to do like this:\r\n\r\n    import first.Foo;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            System.out.println(new Foo());\r\n            System.out.println(new second.Foo());\r\n        }\r\n    }\r\n\r\n\r\n\r\n    package first;\r\n    \r\n    public class Foo {\r\n        public Foo() {\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return &quot;Foo{first class}&quot;;\r\n        }\r\n    }\r\n\r\n\r\n    \r\n    package second;\r\n     \r\n    public class Foo {\r\n        public Foo() {\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return &quot;Foo{second class}&quot;;\r\n        }\r\n    }\r\n\r\n\r\n\r\nOutput:\r\n\r\n    Foo{first class}\r\n    Foo{second class}\r\n","title":"Importing two classes with same name. How to handle?","body":"<p>When you call classes with the same names, you must explicitly specify the package from which the class is called.</p>\n\n<p>You can to do like this:</p>\n\n<pre><code>import first.Foo;\n\npublic class Main {\n    public static void main(String[] args) {\n        System.out.println(new Foo());\n        System.out.println(new second.Foo());\n    }\n}\n\n\n\npackage first;\n\npublic class Foo {\n    public Foo() {\n    }\n\n    @Override\n    public String toString() {\n        return \"Foo{first class}\";\n    }\n}\n\n\n\npackage second;\n\npublic class Foo {\n    public Foo() {\n    }\n\n    @Override\n    public String toString() {\n        return \"Foo{second class}\";\n    }\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>Foo{first class}\nFoo{second class}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3065983,"reputation":73,"user_id":6682771,"display_name":"Eric Buist"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665752606,"creation_date":1665752606,"answer_id":74069667,"question_id":2079823,"body_markdown":"If you have to use two classes with same name but different packages in the same file, there is no other option than using fully qualified name for at least one of the two classes. I&#39;m more and more wondering if we shouldn&#39;t, in such cases, use fully qualified names all the times, so it would be clearer which class is which, but that makes the code harder to parse because of increased verbosity. Unfortunately, more and more programmers make this common by duplicating all data objects: one copy generated by Protoc in case of GRPC, one copy for JSON serialization, one copy for internal logic, one copy for Hibernate, etc., without any automated way of mapping one to another, plain old code duplication all over the place. IDEs are not well-designed for that, showing just com.abc.myproject.... instead of the fully qualified names when trying to use code completion. Unfortunately, Java offers no good solution by itself, IDEs have to jump in with auto-complete or auto-import. Here we would need aliases as offered by C#, Python and Javascript.","title":"Importing two classes with same name. How to handle?","body":"<p>If you have to use two classes with same name but different packages in the same file, there is no other option than using fully qualified name for at least one of the two classes. I'm more and more wondering if we shouldn't, in such cases, use fully qualified names all the times, so it would be clearer which class is which, but that makes the code harder to parse because of increased verbosity. Unfortunately, more and more programmers make this common by duplicating all data objects: one copy generated by Protoc in case of GRPC, one copy for JSON serialization, one copy for internal logic, one copy for Hibernate, etc., without any automated way of mapping one to another, plain old code duplication all over the place. IDEs are not well-designed for that, showing just com.abc.myproject.... instead of the fully qualified names when trying to use code completion. Unfortunately, Java offers no good solution by itself, IDEs have to jump in with auto-complete or auto-import. Here we would need aliases as offered by C#, Python and Javascript.</p>\n"}],"owner":{"account_id":43557,"reputation":11883,"user_id":127404,"accept_rate":86,"display_name":"gameover"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":168275,"favorite_count":0,"down_vote_count":0,"up_vote_count":139,"accepted_answer_id":2079831,"answer_count":12,"score":139,"last_activity_date":1691480214,"creation_date":1263697596,"question_id":2079823,"body_markdown":"Say I&#39;ve code like:\r\n\r\n    import java.util.Date;\r\n    import my.own.Date;\r\n    \r\n    class Test{\r\n    \r\n      public static void main(String [] args){\r\n    \r\n        // I want to choose my.own.Date here. How?\r\n        ..\r\n        // I want to choose util.Date here. How ?\r\n    \r\n      }\r\n    }\r\n\r\nShould I be using full qualified class names? Can I get rid of the import statements? Is such a scenario common in real world programming?\r\n","title":"Importing two classes with same name. How to handle?","body":"<p>Say I've code like:</p>\n<pre><code>import java.util.Date;\nimport my.own.Date;\n\nclass Test{\n\n  public static void main(String [] args){\n\n    // I want to choose my.own.Date here. How?\n    ..\n    // I want to choose util.Date here. How ?\n\n  }\n}\n</code></pre>\n<p>Should I be using full qualified class names? Can I get rid of the import statements? Is such a scenario common in real world programming?</p>\n"},{"tags":["java","sql","hibernate","jdbc","inspect"],"answers":[{"comments":[{"owner":{"account_id":66899,"reputation":11449,"user_id":196032,"accept_rate":49,"display_name":"Alex R"},"score":0,"creation_date":1559712726,"post_id":39212083,"comment_id":99501842,"body_markdown":"this is not necessary, just set the property as shown in the other answer.","body":"this is not necessary, just set the property as shown in the other answer."}],"tags":[],"owner":{"account_id":9083740,"reputation":39,"user_id":6762627,"display_name":"Jason Louro"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1472563656,"creation_date":1472492470,"answer_id":39212083,"question_id":39112308,"body_markdown":"In order to get this to work, you have to bootstrap Hibernate. To do this:\r\n\r\nIn your main class, find your EntityManagerFactory instance. It probably looks something like this:\r\n\r\n    public static final EntityManagerFactory EMPFAC = Persistence.createEntityManagerFactory(&quot;jpa&quot;)\r\n\r\nLeave that line for now. Above it, add the following:\r\n\r\n    private static StandardServiceRegistryBuilder servReg = new StandardServiceRegistryBuilder();\r\n    static {\r\n        //Do this for every property in persistence.xml\r\n        servReg.applySetting(&quot;hibernate.connection.url&quot;, &quot;jdbc://myurl://www.example.org&quot;);\r\n    }\r\n\r\nAdd a `servReg.applySetting()` for every property in `persistence.xml`. Then, add this below it:\r\n\r\n    private static MetadataSources sources = new MetadataSources(servReg.build());\r\n    static {\r\n        // Do this for every pojo with JPA annotations\r\n        sources.addAnnotatedClass(Pojo.class);\r\n    }\r\n\r\nAdd a `sources.addAnnotatedClass()` for every JPA-annotated pojo in your application. Almost done here. Now create a class that implements `StatementInspector` like so:\r\n\r\n    public class Inspector implements StatementInspector {\r\n\r\n\t    private static final long serialVersionUID = 5545844969759630544L;\r\n\r\n\t   @Override\r\n\t   public String inspect(String select) {\r\n           // modify string here\r\n           return select;\r\n       }\r\n    }\r\n\r\nFinally, go back to your main application class, and, underneath the static block where you registered your pojos, add the following:\r\n\r\n    public static final SessionFactory EMPFAC = sources.buildMetadata().getSessionFactoryBuilder().applyStatementInspector(new Inspector()).build();\r\n\r\nNow you can go back to `persistence.xml` and delete the property declarations there. If you haven&#39;t already, also delete your `public static final EntityManager` declaration (you&#39;ve replaced it with the SessionFactory).\r\n\r\nEDIT: You can actually delete `persistence.xml` and your application should still work fine.\r\n\r\nAll set!","title":"How I can configure StatementInspector in Hibernate?","body":"<p>In order to get this to work, you have to bootstrap Hibernate. To do this:</p>\n\n<p>In your main class, find your EntityManagerFactory instance. It probably looks something like this:</p>\n\n<pre><code>public static final EntityManagerFactory EMPFAC = Persistence.createEntityManagerFactory(\"jpa\")\n</code></pre>\n\n<p>Leave that line for now. Above it, add the following:</p>\n\n<pre><code>private static StandardServiceRegistryBuilder servReg = new StandardServiceRegistryBuilder();\nstatic {\n    //Do this for every property in persistence.xml\n    servReg.applySetting(\"hibernate.connection.url\", \"jdbc://myurl://www.example.org\");\n}\n</code></pre>\n\n<p>Add a <code>servReg.applySetting()</code> for every property in <code>persistence.xml</code>. Then, add this below it:</p>\n\n<pre><code>private static MetadataSources sources = new MetadataSources(servReg.build());\nstatic {\n    // Do this for every pojo with JPA annotations\n    sources.addAnnotatedClass(Pojo.class);\n}\n</code></pre>\n\n<p>Add a <code>sources.addAnnotatedClass()</code> for every JPA-annotated pojo in your application. Almost done here. Now create a class that implements <code>StatementInspector</code> like so:</p>\n\n<pre><code>public class Inspector implements StatementInspector {\n\n    private static final long serialVersionUID = 5545844969759630544L;\n\n   @Override\n   public String inspect(String select) {\n       // modify string here\n       return select;\n   }\n}\n</code></pre>\n\n<p>Finally, go back to your main application class, and, underneath the static block where you registered your pojos, add the following:</p>\n\n<pre><code>public static final SessionFactory EMPFAC = sources.buildMetadata().getSessionFactoryBuilder().applyStatementInspector(new Inspector()).build();\n</code></pre>\n\n<p>Now you can go back to <code>persistence.xml</code> and delete the property declarations there. If you haven't already, also delete your <code>public static final EntityManager</code> declaration (you've replaced it with the SessionFactory).</p>\n\n<p>EDIT: You can actually delete <code>persistence.xml</code> and your application should still work fine.</p>\n\n<p>All set!</p>\n"},{"tags":[],"owner":{"account_id":7436768,"reputation":121,"user_id":5655931,"display_name":"empyros"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1504039076,"creation_date":1504039076,"answer_id":45947953,"question_id":39112308,"body_markdown":"Don&#39;t do like that )\r\n\r\nYou need only two things: \r\n\r\n1. Add property to persistence.xml:\r\n\r\nproperty name=&quot;hibernate.session_factory.statement_inspector&quot; value=&quot;full-qualified class name&quot;\r\n\r\n2. Write your listener class by implementing interface org.hibernate.resource.jdbc.spi.StatementInspector.\r\n\r\nProfit!","title":"How I can configure StatementInspector in Hibernate?","body":"<p>Don't do like that )</p>\n\n<p>You need only two things: </p>\n\n<ol>\n<li>Add property to persistence.xml:</li>\n</ol>\n\n<p>property name=\"hibernate.session_factory.statement_inspector\" value=\"full-qualified class name\"</p>\n\n<ol start=\"2\">\n<li>Write your listener class by implementing interface org.hibernate.resource.jdbc.spi.StatementInspector.</li>\n</ol>\n\n<p>Profit!</p>\n"},{"tags":[],"owner":{"account_id":1012936,"reputation":145178,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"comment_count":0,"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1610273388,"creation_date":1559624486,"answer_id":56437607,"question_id":39112308,"body_markdown":"The best way to register a `StatementInspector` is to use the [`hibernate.session_factory.statement_inspector`][1] configuration property.\r\n\r\nThis way, it does not matter whether you are bootstrapping Hibernate using JPA (e.g. Spring Data JPA) or native Hibernate (e.g. Spring with `HibernateTranscationManager` and `LocalSessionFactoryBean`).\r\n\r\nSo, you can to provide the `hibernate.session_factory.statement_inspector` via the `persistence.xml` JPA configuration file:\r\n\r\n    &lt;property\r\n        name=&quot;hibernate.session_factory.statement_inspector&quot;\r\n        value=&quot;com.vladmihalcea.book.hpjp.hibernate.logging.inspector.SqlCommentStatementInspector&quot;\r\n    /&gt;\r\n\r\nOr, you can also set the `hibernate.session_factory.statement_inspector` programmatically if you&#39;re using Spring:\r\n\r\n    @Bean\r\n    public LocalSessionFactoryBean sessionFactory() {\r\n        LocalSessionFactoryBean sessionFactory = new LocalSessionFactoryBean();\r\n        sessionFactory.setDataSource(dataSource());\r\n        sessionFactory.setPackagesToScan({\r\n            &quot;com.vladmihalcea.books.high.performance.java.persistence&quot;\r\n        });\r\n        sessionFactory.setHibernateProperties(hibernateProperties());\r\n    \r\n        return sessionFactory;\r\n    }\r\n    \r\n    @Bean\r\n    public PlatformTransactionManager hibernateTransactionManager() {\r\n        HibernateTransactionManager transactionManager\r\n          = new HibernateTransactionManager();\r\n        transactionManager.setSessionFactory(sessionFactory().getObject());\r\n        return transactionManager;\r\n    }\r\n    \r\n    private final Properties hibernateProperties() {\r\n        Properties hibernateProperties = new Properties();\r\n        hibernateProperties.setProperty(\r\n          &quot;hibernate.session_factory.statement_inspector&quot;, \r\n          SqlCommentStatementInspector.class\r\n        );\r\n        hibernateProperties.setProperty(\r\n          &quot;hibernate.dialect&quot;, \r\n          &quot;org.hibernate.dialect.H2Dialect&quot;\r\n        );\r\n    \r\n        return hibernateProperties;\r\n    }\r\n\r\nNotice that the `hibernate.session_factory.statement_inspector` setting can take either a `String` representing he fully-qualified class implementing the `StatementInspector` interface, a `Class&lt;? extends StatementInspector&gt;` or a `StatementInspector` object reference.\r\n\r\n\r\n  [1]: https://vladmihalcea.com/hibernate-statementinspector/","title":"How I can configure StatementInspector in Hibernate?","body":"<p>The best way to register a <code>StatementInspector</code> is to use the <a href=\"https://vladmihalcea.com/hibernate-statementinspector/\" rel=\"noreferrer\"><code>hibernate.session_factory.statement_inspector</code></a> configuration property.</p>\n<p>This way, it does not matter whether you are bootstrapping Hibernate using JPA (e.g. Spring Data JPA) or native Hibernate (e.g. Spring with <code>HibernateTranscationManager</code> and <code>LocalSessionFactoryBean</code>).</p>\n<p>So, you can to provide the <code>hibernate.session_factory.statement_inspector</code> via the <code>persistence.xml</code> JPA configuration file:</p>\n<pre><code>&lt;property\n    name=&quot;hibernate.session_factory.statement_inspector&quot;\n    value=&quot;com.vladmihalcea.book.hpjp.hibernate.logging.inspector.SqlCommentStatementInspector&quot;\n/&gt;\n</code></pre>\n<p>Or, you can also set the <code>hibernate.session_factory.statement_inspector</code> programmatically if you're using Spring:</p>\n<pre><code>@Bean\npublic LocalSessionFactoryBean sessionFactory() {\n    LocalSessionFactoryBean sessionFactory = new LocalSessionFactoryBean();\n    sessionFactory.setDataSource(dataSource());\n    sessionFactory.setPackagesToScan({\n        &quot;com.vladmihalcea.books.high.performance.java.persistence&quot;\n    });\n    sessionFactory.setHibernateProperties(hibernateProperties());\n\n    return sessionFactory;\n}\n\n@Bean\npublic PlatformTransactionManager hibernateTransactionManager() {\n    HibernateTransactionManager transactionManager\n      = new HibernateTransactionManager();\n    transactionManager.setSessionFactory(sessionFactory().getObject());\n    return transactionManager;\n}\n\nprivate final Properties hibernateProperties() {\n    Properties hibernateProperties = new Properties();\n    hibernateProperties.setProperty(\n      &quot;hibernate.session_factory.statement_inspector&quot;, \n      SqlCommentStatementInspector.class\n    );\n    hibernateProperties.setProperty(\n      &quot;hibernate.dialect&quot;, \n      &quot;org.hibernate.dialect.H2Dialect&quot;\n    );\n\n    return hibernateProperties;\n}\n</code></pre>\n<p>Notice that the <code>hibernate.session_factory.statement_inspector</code> setting can take either a <code>String</code> representing he fully-qualified class implementing the <code>StatementInspector</code> interface, a <code>Class&lt;? extends StatementInspector&gt;</code> or a <code>StatementInspector</code> object reference.</p>\n"},{"tags":[],"owner":{"account_id":953817,"reputation":493,"user_id":979478,"display_name":"Pawel Zieminski"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1652252854,"creation_date":1652252854,"answer_id":72196774,"question_id":39112308,"body_markdown":"You can use `HibernatePropertiesCustomizer` in Spring\r\n\r\n     \r\n    @Configuration\r\n    public class HibernateConfig {\r\n\r\n        @Bean\r\n        public HibernatePropertiesCustomizer configureStatementInspector() {\r\n            return (properties) -&gt; properties.put(AvailableSettings.STATEMENT_INSPECTOR, (StatementInspector) sql -&gt; {\r\n                // figure out what to return\r\n                return sql;\r\n            });\r\n        }\r\n    }","title":"How I can configure StatementInspector in Hibernate?","body":"<p>You can use <code>HibernatePropertiesCustomizer</code> in Spring</p>\n<pre><code>@Configuration\npublic class HibernateConfig {\n\n    @Bean\n    public HibernatePropertiesCustomizer configureStatementInspector() {\n        return (properties) -&gt; properties.put(AvailableSettings.STATEMENT_INSPECTOR, (StatementInspector) sql -&gt; {\n            // figure out what to return\n            return sql;\n        });\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26355819,"reputation":21,"user_id":20012811,"display_name":"Viktor Engelmann"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691480053,"creation_date":1691480053,"answer_id":76857353,"question_id":39112308,"body_markdown":"Things haven&#39;t changed much - basically some things were renamed, so from the old &quot;Interceptor&quot; code-examples you find online, you just need to adapt these name-changes. If you manually build your SessionFactory (as I do), you can do it like this:\r\n\r\n    public class MyInspector implements StatementInspector {\r\n       @Override\r\n       public String inspect(String sql) {\r\n           System.out.println(sql); // or whatever you want to do\r\n           return sql;\r\n       }\r\n    }\r\n\r\nThen, while setting up your SessionFactory, you insert it very much the same way you inserted the Interceptor before\r\n\r\n\tConfiguration config = new Configuration();\r\n\tconfig.setProperty(&quot;hibernate.connection.username&quot;, &quot;myusername&quot;);\r\n\t// ...\r\n\tconfig.addAnnotatedClass(SomeClass.class);\r\n\t// ...\r\n\tconfig.setStatementInspector(new MyInspector()); // !!!!!!!!!!!!!!\r\n\tSessionFactory mySessionFactory = config.buildSessionFactory();\r\n\t// do something with the session factory\r\n\r\n\r\nsee [setInterceptor in 6.1](https://docs.jboss.org/hibernate/orm/6.1/javadocs/org/hibernate/cfg/Configuration.html#setInterceptor(org.hibernate.Interceptor))\r\nin comparison to [setStatementInspector in 6.2](https://docs.jboss.org/hibernate/orm/6.2/javadocs/org/hibernate/cfg/Configuration.html#setStatementInspector(org.hibernate.resource.jdbc.spi.StatementInspector))","title":"How I can configure StatementInspector in Hibernate?","body":"<p>Things haven't changed much - basically some things were renamed, so from the old &quot;Interceptor&quot; code-examples you find online, you just need to adapt these name-changes. If you manually build your SessionFactory (as I do), you can do it like this:</p>\n<pre><code>public class MyInspector implements StatementInspector {\n   @Override\n   public String inspect(String sql) {\n       System.out.println(sql); // or whatever you want to do\n       return sql;\n   }\n}\n</code></pre>\n<p>Then, while setting up your SessionFactory, you insert it very much the same way you inserted the Interceptor before</p>\n<pre><code>Configuration config = new Configuration();\nconfig.setProperty(&quot;hibernate.connection.username&quot;, &quot;myusername&quot;);\n// ...\nconfig.addAnnotatedClass(SomeClass.class);\n// ...\nconfig.setStatementInspector(new MyInspector()); // !!!!!!!!!!!!!!\nSessionFactory mySessionFactory = config.buildSessionFactory();\n// do something with the session factory\n</code></pre>\n<p>see <a href=\"https://docs.jboss.org/hibernate/orm/6.1/javadocs/org/hibernate/cfg/Configuration.html#setInterceptor(org.hibernate.Interceptor)\" rel=\"nofollow noreferrer\">setInterceptor in 6.1</a>\nin comparison to <a href=\"https://docs.jboss.org/hibernate/orm/6.2/javadocs/org/hibernate/cfg/Configuration.html#setStatementInspector(org.hibernate.resource.jdbc.spi.StatementInspector)\" rel=\"nofollow noreferrer\">setStatementInspector in 6.2</a></p>\n"}],"owner":{"account_id":9064862,"reputation":61,"user_id":6750055,"display_name":"gosachin1"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6526,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":5,"score":3,"last_activity_date":1691480053,"creation_date":1471995657,"question_id":39112308,"body_markdown":"https://docs.jboss.org/hibernate/orm/5.2/javadocs/org/hibernate/Interceptor.html\r\n says that onPrepareStatement(String sql) is Deprecated.  Supply a StatementInspector instead, if you wish to inspect and alter SQL statements.\r\n\r\nBut I am not clear how I can configure StatementInspector in Hibernate at application level (i don&#39;t want to set it at each hibernate session level).","title":"How I can configure StatementInspector in Hibernate?","body":"<p><a href=\"https://docs.jboss.org/hibernate/orm/5.2/javadocs/org/hibernate/Interceptor.html\" rel=\"nofollow\">https://docs.jboss.org/hibernate/orm/5.2/javadocs/org/hibernate/Interceptor.html</a>\n says that onPrepareStatement(String sql) is Deprecated.  Supply a StatementInspector instead, if you wish to inspect and alter SQL statements.</p>\n\n<p>But I am not clear how I can configure StatementInspector in Hibernate at application level (i don't want to set it at each hibernate session level).</p>\n"},{"tags":["java","tomcat9"],"comments":[{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":1,"creation_date":1691092718,"post_id":76828932,"comment_id":135448855,"body_markdown":"This is not programming or development, but: did you &#39;chang[e]&#39; the keystore _file_ from jks to pfx/pkcs12 by converting the contents? Or did you only change its _name including suffix_? The name doesn&#39;t matter, you can name it &#39;abracadabra.pigglywiggly&#39; and it works the same. Does `keytool -list -keystore norming.pfx -storetype PKCS12` work? If you have or get OpenSSL, what about `openssl pkcs12 -in norming.pfx -info -noout`? (If not, moving to superuser or possibly security.SX is probably best.)","body":"This is not programming or development, but: did you &#39;chang[e]&#39; the keystore <i>file</i> from jks to pfx/pkcs12 by converting the contents? Or did you only change its <i>name including suffix</i>? The name doesn&#39;t matter, you can name it &#39;abracadabra.pigglywiggly&#39; and it works the same. Does <code>keytool -list -keystore norming.pfx -storetype PKCS12</code> work? If you have or get OpenSSL, what about <code>openssl pkcs12 -in norming.pfx -info -noout</code>? (If not, moving to superuser or possibly security.SX is probably best.)"}],"answers":[{"tags":[],"owner":{"account_id":20034242,"reputation":33,"user_id":14686347,"display_name":"YKM"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1691479864,"creation_date":1691479864,"answer_id":76857333,"question_id":76828932,"body_markdown":"After a while, I realised that the `.pfx/jsk` files that were been generated using both openssl and Java&#39;s keytool were at fault or were not been properly generated. \r\n\r\nI then proceeded to re-download the CRT files from the CA provider and used Microsoft Management Console (MMC) to generate the `.pfx` file. \r\n\r\nThis cleared the error above.\r\n\r\n[Steps to generate the .pfx file using MMC.][1]\r\n\r\n\r\n  [1]: https://knowledge.digicert.com/nl/nl/quovadis/ssl-certificates/ssl-general-topics/exporting-a-_pfx-using-mmc.html","title":"Tomcat 9 java.lang.IllegalArgumentException: Invalid keystore formatjava.lang.IllegalArgumentException: Invalid keystore format","body":"<p>After a while, I realised that the <code>.pfx/jsk</code> files that were been generated using both openssl and Java's keytool were at fault or were not been properly generated.</p>\n<p>I then proceeded to re-download the CRT files from the CA provider and used Microsoft Management Console (MMC) to generate the <code>.pfx</code> file.</p>\n<p>This cleared the error above.</p>\n<p><a href=\"https://knowledge.digicert.com/nl/nl/quovadis/ssl-certificates/ssl-general-topics/exporting-a-_pfx-using-mmc.html\" rel=\"nofollow noreferrer\">Steps to generate the .pfx file using MMC.</a></p>\n"}],"owner":{"account_id":20034242,"reputation":33,"user_id":14686347,"display_name":"YKM"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":154,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1691517625,"accepted_answer_id":76857333,"answer_count":1,"score":0,"last_activity_date":1691479864,"creation_date":1691071931,"question_id":76828932,"body_markdown":"I get the error `java.lang.IllegalArgumentException: Invalid keystore format` in my log file each time I try to start Tomcat.\r\n\r\nA full traceback of the error log is below\r\n\r\n&gt; 03-Aug-2023 16:01:52.411 SEVERE [main] org.apache.catalina.util.LifecycleBase.handleSubClassException Failed to initialize component [Connector[HTTP/1.1-8433]]\r\n\torg.apache.catalina.LifecycleException: Protocol handler initialization failed\r\n\t\tat org.apache.catalina.connector.Connector.initInternal(Connector.java:1050)\r\n\t\tat org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:136)\r\n\t\tat org.apache.catalina.core.StandardService.initInternal(StandardService.java:554)\r\n\t\tat org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:136)\r\n\t\tat org.apache.catalina.core.StandardServer.initInternal(StandardServer.java:1045)\r\n\t\tat org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:136)\r\n\t\tat org.apache.catalina.startup.Catalina.load(Catalina.java:724)\r\n\t\tat org.apache.catalina.startup.Catalina.load(Catalina.java:746)\r\n\t\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\t\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\t\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\t\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\t\tat org.apache.catalina.startup.Bootstrap.load(Bootstrap.java:305)\r\n\t\tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:475)\r\n\tCaused by: java.lang.IllegalArgumentException: Invalid keystore format\r\n\t\tat org.apache.tomcat.util.net.AbstractJsseEndpoint.createSSLContext(AbstractJsseEndpoint.java:107)\r\n\t\tat org.apache.tomcat.util.net.AbstractJsseEndpoint.initialiseSsl(AbstractJsseEndpoint.java:71)\r\n\t\tat org.apache.tomcat.util.net.NioEndpoint.bind(NioEndpoint.java:235)\r\n\t\tat org.apache.tomcat.util.net.AbstractEndpoint.bindWithCleanup(AbstractEndpoint.java:1227)\r\n\t\tat org.apache.tomcat.util.net.AbstractEndpoint.init(AbstractEndpoint.java:1240)\r\n\t\tat org.apache.coyote.AbstractProtocol.init(AbstractProtocol.java:604)\r\n\t\tat org.apache.coyote.http11.AbstractHttp11Protocol.init(AbstractHttp11Protocol.java:76)\r\n\t\tat org.apache.catalina.connector.Connector.initInternal(Connector.java:1047)\r\n\t\t... 13 more\r\n\tCaused by: java.io.IOException: Invalid keystore format\r\n\t\tat sun.security.provider.JavaKeyStore.engineLoad(JavaKeyStore.java:658)\r\n\t\tat sun.security.provider.JavaKeyStore$JKS.engineLoad(JavaKeyStore.java:56)\r\n\t\tat sun.security.provider.KeyStoreDelegator.engineLoad(KeyStoreDelegator.java:224)\r\n\t\tat sun.security.provider.JavaKeyStore$DualFormatJKS.engineLoad(JavaKeyStore.java:70)\r\n\t\tat java.security.KeyStore.load(KeyStore.java:1445)\r\n\t\tat org.apache.tomcat.util.security.KeyStoreUtil.load(KeyStoreUtil.java:69)\r\n\t\tat org.apache.tomcat.util.net.SSLUtilBase.getStore(SSLUtilBase.java:217)\r\n\t\tat org.apache.tomcat.util.net.SSLHostConfigCertificate.getCertificateKeystore(SSLHostConfigCertificate.java:207)\r\n\t\tat org.apache.tomcat.util.net.SSLUtilBase.getKeyManagers(SSLUtilBase.java:283)\r\n\t\tat org.apache.tomcat.util.net.openssl.OpenSSLUtil.getKeyManagers(OpenSSLUtil.java:98)\r\n\t\tat org.apache.tomcat.util.net.SSLUtilBase.createSSLContext(SSLUtilBase.java:247)\r\n\t\tat org.apache.tomcat.util.net.AbstractJsseEndpoint.createSSLContext(AbstractJsseEndpoint.java:105)\r\n\t\t... 20 more\r\n\r\n\r\nI have tried adding the keystoreType attribute with no luck and also changing the the keystore file from .jks to .pfk\r\n\r\n    &lt;Connector port=&quot;8080&quot; protocol=&quot;org.apache.coyote.http11.Http11NioProtocol&quot; maxThreads=&quot;150&quot; SSLEnabled=&quot;true&quot; scheme=&quot;https&quot; secure=&quot;true&quot; keystoreFile=&quot;norming.pfx&quot; keystorePass=&quot;myKeyStorePass&quot; proxyName=&quot;norming&quot; proxyPort=&quot;443&quot; keystoreType=&quot;PKCS12&quot; /&gt;\r\n\r\n\r\nAny help will be highly appreaciated","title":"Tomcat 9 java.lang.IllegalArgumentException: Invalid keystore formatjava.lang.IllegalArgumentException: Invalid keystore format","body":"<p>I get the error <code>java.lang.IllegalArgumentException: Invalid keystore format</code> in my log file each time I try to start Tomcat.</p>\n<p>A full traceback of the error log is below</p>\n<blockquote>\n<p>03-Aug-2023 16:01:52.411 SEVERE [main] org.apache.catalina.util.LifecycleBase.handleSubClassException Failed to initialize component [Connector[HTTP/1.1-8433]]\norg.apache.catalina.LifecycleException: Protocol handler initialization failed\nat org.apache.catalina.connector.Connector.initInternal(Connector.java:1050)\nat org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:136)\nat org.apache.catalina.core.StandardService.initInternal(StandardService.java:554)\nat org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:136)\nat org.apache.catalina.core.StandardServer.initInternal(StandardServer.java:1045)\nat org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:136)\nat org.apache.catalina.startup.Catalina.load(Catalina.java:724)\nat org.apache.catalina.startup.Catalina.load(Catalina.java:746)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)\nat org.apache.catalina.startup.Bootstrap.load(Bootstrap.java:305)\nat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:475)\nCaused by: java.lang.IllegalArgumentException: Invalid keystore format\nat org.apache.tomcat.util.net.AbstractJsseEndpoint.createSSLContext(AbstractJsseEndpoint.java:107)\nat org.apache.tomcat.util.net.AbstractJsseEndpoint.initialiseSsl(AbstractJsseEndpoint.java:71)\nat org.apache.tomcat.util.net.NioEndpoint.bind(NioEndpoint.java:235)\nat org.apache.tomcat.util.net.AbstractEndpoint.bindWithCleanup(AbstractEndpoint.java:1227)\nat org.apache.tomcat.util.net.AbstractEndpoint.init(AbstractEndpoint.java:1240)\nat org.apache.coyote.AbstractProtocol.init(AbstractProtocol.java:604)\nat org.apache.coyote.http11.AbstractHttp11Protocol.init(AbstractHttp11Protocol.java:76)\nat org.apache.catalina.connector.Connector.initInternal(Connector.java:1047)\n... 13 more\nCaused by: java.io.IOException: Invalid keystore format\nat sun.security.provider.JavaKeyStore.engineLoad(JavaKeyStore.java:658)\nat sun.security.provider.JavaKeyStore$JKS.engineLoad(JavaKeyStore.java:56)\nat sun.security.provider.KeyStoreDelegator.engineLoad(KeyStoreDelegator.java:224)\nat sun.security.provider.JavaKeyStore$DualFormatJKS.engineLoad(JavaKeyStore.java:70)\nat java.security.KeyStore.load(KeyStore.java:1445)\nat org.apache.tomcat.util.security.KeyStoreUtil.load(KeyStoreUtil.java:69)\nat org.apache.tomcat.util.net.SSLUtilBase.getStore(SSLUtilBase.java:217)\nat org.apache.tomcat.util.net.SSLHostConfigCertificate.getCertificateKeystore(SSLHostConfigCertificate.java:207)\nat org.apache.tomcat.util.net.SSLUtilBase.getKeyManagers(SSLUtilBase.java:283)\nat org.apache.tomcat.util.net.openssl.OpenSSLUtil.getKeyManagers(OpenSSLUtil.java:98)\nat org.apache.tomcat.util.net.SSLUtilBase.createSSLContext(SSLUtilBase.java:247)\nat org.apache.tomcat.util.net.AbstractJsseEndpoint.createSSLContext(AbstractJsseEndpoint.java:105)\n... 20 more</p>\n</blockquote>\n<p>I have tried adding the keystoreType attribute with no luck and also changing the the keystore file from .jks to .pfk</p>\n<pre><code>&lt;Connector port=&quot;8080&quot; protocol=&quot;org.apache.coyote.http11.Http11NioProtocol&quot; maxThreads=&quot;150&quot; SSLEnabled=&quot;true&quot; scheme=&quot;https&quot; secure=&quot;true&quot; keystoreFile=&quot;norming.pfx&quot; keystorePass=&quot;myKeyStorePass&quot; proxyName=&quot;norming&quot; proxyPort=&quot;443&quot; keystoreType=&quot;PKCS12&quot; /&gt;\n</code></pre>\n<p>Any help will be highly appreaciated</p>\n"},{"tags":["java","spring-boot","amazon-cloudwatch"],"owner":{"account_id":25376019,"reputation":135,"user_id":19189151,"display_name":"Deepak Samria"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":0,"score":2,"last_activity_date":1691479565,"creation_date":1691479565,"question_id":76857301,"body_markdown":"Hope you are doing well. \r\n\r\nWe have a requirement to get the time difference between two method execution of the same flow and send it to Amazon Cloud watch metrics. As of now, I&#39;m able to get the method time execution for each flow. For example:\r\n\r\n        @Timed(&quot;step1&quot;)\r\n        public void step1(){\r\n            //some logic\r\n            step2();\r\n            //some logic\r\n        }\r\n    \r\n        @Timed(&quot;step2&quot;)\r\n        public void step2(){\r\n            // some logic\r\n            step3();\r\n            //some logic\r\n        }\r\n        @Timed(&quot;step3&quot;)\r\n        public void step3(){\r\n            // some logic\r\n        }\r\n\r\nSo here I&#39;m able to get the data for each method, but is there any way to get the data for method execution of step1 only i.e. (step1 = step1 - step2 - step3)?, and send it to Cloudwatch without doing manual logging?\r\n\r\nThanks in advance.\r\n\r\nRegards","title":"Method execution time difference in same flow using Micrometer @Timed annotation","body":"<p>Hope you are doing well.</p>\n<p>We have a requirement to get the time difference between two method execution of the same flow and send it to Amazon Cloud watch metrics. As of now, I'm able to get the method time execution for each flow. For example:</p>\n<pre><code>    @Timed(&quot;step1&quot;)\n    public void step1(){\n        //some logic\n        step2();\n        //some logic\n    }\n\n    @Timed(&quot;step2&quot;)\n    public void step2(){\n        // some logic\n        step3();\n        //some logic\n    }\n    @Timed(&quot;step3&quot;)\n    public void step3(){\n        // some logic\n    }\n</code></pre>\n<p>So here I'm able to get the data for each method, but is there any way to get the data for method execution of step1 only i.e. (step1 = step1 - step2 - step3)?, and send it to Cloudwatch without doing manual logging?</p>\n<p>Thanks in advance.</p>\n<p>Regards</p>\n"},{"tags":["java","spring-boot","docker","rest","dockerfile"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1691139347,"post_id":76834289,"comment_id":135454300,"body_markdown":"`localhost` is `localhost` inside the container. Create a docker compose file and make the URL configurable and then use the service name instead of `localhost`.","body":"<code>localhost</code> is <code>localhost</code> inside the container. Create a docker compose file and make the URL configurable and then use the service name instead of <code>localhost</code>."},{"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"score":2,"creation_date":1691139365,"post_id":76834289,"comment_id":135454305,"body_markdown":"Are you calling `http://localhost:8080/send` from docker internal host or from you machine?","body":"Are you calling <code>http:&#47;&#47;localhost:8080&#47;send</code> from docker internal host or from you machine?"},{"owner":{"account_id":4417874,"reputation":519,"user_id":3598880,"accept_rate":38,"display_name":"barbariania"},"score":2,"creation_date":1691139704,"post_id":76834289,"comment_id":135454372,"body_markdown":"You should not use `localhost`, it works only within container, instead please investigate the ip address of your docker container you want to reach and use it. Otherwise but more harder - use variant that was proposed by M. Deinum","body":"You should not use <code>localhost</code>, it works only within container, instead please investigate the ip address of your docker container you want to reach and use it. Otherwise but more harder - use variant that was proposed by M. Deinum"}],"answers":[{"tags":[],"owner":{"account_id":10014547,"reputation":1156,"user_id":7406338,"display_name":"Morph21"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1691479564,"creation_date":1691140426,"answer_id":76834519,"question_id":76834289,"body_markdown":"Well as people mentioned in comments it is not a java problem but networking with dockers problem. \r\n\r\nI don&#39;t have an example with java project atm but this one should work as well .\r\n\r\nSo here you have docker-compose.yml file for setting up magento service\r\n\r\n    version: &#39;3.0&#39;\r\n    services:\r\n      web:\r\n        image: alexcheng/magento2\r\n        ports:\r\n          - &quot;7082:80&quot;\r\n        links:\r\n          - db\r\n        volumes: \r\n          - magento-data:/var/www/html  \r\n        environment:\r\n          - MAGENTO_LANGUAGE=en_GB\r\n          - MAGENTO_TIMEZONE=Pacific/Auckland\r\n          - MAGENTO_DEFAULT_CURRENCY=NZD\r\n          - MAGENTO_URL=http://local.magento\r\n          - MAGENTO_BACKEND_FRONTNAME=admin\r\n          - MAGENTO_USE_SECURE=0\r\n          - MAGENTO_BASE_URL_SECURE=0\r\n          - MAGENTO_USE_SECURE_ADMIN=0\r\n    \r\n          - MAGENTO_ADMIN_FIRSTNAME=Admin\r\n          - MAGENTO_ADMIN_LASTNAME=MyStore\r\n          - MAGENTO_ADMIN_EMAIL=amdin@example.com\r\n          - MAGENTO_ADMIN_USERNAME=admin\r\n          - MAGENTO_ADMIN_PASSWORD=admin\r\n      db:\r\n        image: mysql:5.6.23\r\n        volumes:\r\n          - db-data:/var/lib/mysql/data\r\n        environment:\r\n          - MYSQL_HOST=db\r\n          - MYSQL_ROOT_PASSWORD=myrootpassword\r\n          - MYSQL_USER=magento\r\n          - MYSQL_PASSWORD=magento\r\n          - MYSQL_DATABASE=magento\r\n      phpmyadmin:\r\n        image: phpmyadmin/phpmyadmin\r\n        ports:\r\n          - &quot;8580:80&quot;\r\n        links:\r\n          - db     \r\n    volumes:\r\n      magento-data:\r\n      db-data: % \r\n\r\n\r\nAs you can see there are 2 containers here, one named &quot;web&quot; which is magento itself, second one named &quot;db&quot; for database.\r\n\r\nNow when I will run this docker-compose and will go to localhost:7082 I will see a configuration screen where I will need to put Database server host. If it wasn&#39;t a docker container I would put there &quot;localhost&quot; but since it is docker you need to put there name of the database container so &quot;db&quot; like here:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/j6sL0.png\r\n\r\n\r\n\r\nBtw. That docker-compose file if anyone want to run it was tested on mac os so I probably needs a bit of tweaks to run on other systems\r\n\r\nyou can run it just by using command \r\n\r\n&quot;sudo docker-compose up -d&quot; or \r\n\r\n&quot;docker-compose up -d&quot; depending on your OS\r\n\r\nFor clearing image use these commands:\r\n\r\nsudo docker-compose down --remove-orphans\r\n\r\nsudo docker volume rm $(sudo docker volume ls -q | grep magento)","title":"Cannot communicate between containers using Rest API","body":"<p>Well as people mentioned in comments it is not a java problem but networking with dockers problem.</p>\n<p>I don't have an example with java project atm but this one should work as well .</p>\n<p>So here you have docker-compose.yml file for setting up magento service</p>\n<pre><code>version: '3.0'\nservices:\n  web:\n    image: alexcheng/magento2\n    ports:\n      - &quot;7082:80&quot;\n    links:\n      - db\n    volumes: \n      - magento-data:/var/www/html  \n    environment:\n      - MAGENTO_LANGUAGE=en_GB\n      - MAGENTO_TIMEZONE=Pacific/Auckland\n      - MAGENTO_DEFAULT_CURRENCY=NZD\n      - MAGENTO_URL=http://local.magento\n      - MAGENTO_BACKEND_FRONTNAME=admin\n      - MAGENTO_USE_SECURE=0\n      - MAGENTO_BASE_URL_SECURE=0\n      - MAGENTO_USE_SECURE_ADMIN=0\n\n      - MAGENTO_ADMIN_FIRSTNAME=Admin\n      - MAGENTO_ADMIN_LASTNAME=MyStore\n      - MAGENTO_ADMIN_EMAIL=amdin@example.com\n      - MAGENTO_ADMIN_USERNAME=admin\n      - MAGENTO_ADMIN_PASSWORD=admin\n  db:\n    image: mysql:5.6.23\n    volumes:\n      - db-data:/var/lib/mysql/data\n    environment:\n      - MYSQL_HOST=db\n      - MYSQL_ROOT_PASSWORD=myrootpassword\n      - MYSQL_USER=magento\n      - MYSQL_PASSWORD=magento\n      - MYSQL_DATABASE=magento\n  phpmyadmin:\n    image: phpmyadmin/phpmyadmin\n    ports:\n      - &quot;8580:80&quot;\n    links:\n      - db     \nvolumes:\n  magento-data:\n  db-data: % \n</code></pre>\n<p>As you can see there are 2 containers here, one named &quot;web&quot; which is magento itself, second one named &quot;db&quot; for database.</p>\n<p>Now when I will run this docker-compose and will go to localhost:7082 I will see a configuration screen where I will need to put Database server host. If it wasn't a docker container I would put there &quot;localhost&quot; but since it is docker you need to put there name of the database container so &quot;db&quot; like here:</p>\n<p><a href=\"https://i.stack.imgur.com/j6sL0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/j6sL0.png\" alt=\"enter image description here\" /></a></p>\n<p>Btw. That docker-compose file if anyone want to run it was tested on mac os so I probably needs a bit of tweaks to run on other systems</p>\n<p>you can run it just by using command</p>\n<p>&quot;sudo docker-compose up -d&quot; or</p>\n<p>&quot;docker-compose up -d&quot; depending on your OS</p>\n<p>For clearing image use these commands:</p>\n<p>sudo docker-compose down --remove-orphans</p>\n<p>sudo docker volume rm $(sudo docker volume ls -q | grep magento)</p>\n"}],"owner":{"account_id":29158314,"reputation":21,"user_id":22337610,"display_name":"GanderopTM"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":76834519,"answer_count":1,"score":0,"last_activity_date":1691479564,"creation_date":1691138353,"question_id":76834289,"body_markdown":"I have two simple endpoints:\r\n\r\nOn port 8080\r\n\r\n```\r\n@SpringBootApplication\r\n@RestController\r\npublic class LogonPageApplication {\r\nprivate static final String PROCESS_STRING_URL = &quot;http://localhost:8081/processString&quot;;\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(LogonPageApplication.class, args);\r\n    }\r\n    \r\n    @GetMapping(&quot;/send&quot;)\r\n    public String test() {\r\n        String responseBody = &quot;&quot;;\r\n        try {\r\n            RestTemplate restTemplate = new RestTemplate();\r\n            HttpHeaders headers \r\n            = new HttpHeaders();headers.setContentType(MediaType.APPLICATION_JSON);\r\n            String requestBody = &quot;{fromlogon}&quot;;\r\n            HttpEntity&lt;String&gt; httpEntity = new HttpEntity&lt;&gt;(requestBody, headers);\r\n    \r\n            ResponseEntity&lt;String&gt; response =\r\n            restTemplate.exchange(PROCESS_STRING_URL, HttpMethod.POST, httpEntity, String.class);\r\n    \r\n            responseBody = response.getBody();\r\n        } catch (Exception e) {\r\n            return e.getMessage();\r\n        }\r\n            return &quot;Main Page\\n&quot; + &quot;Response from /processString: &quot; + responseBody;\r\n        }\r\n\r\n}\r\n```\r\n\r\nOn port 8081:\r\n\r\n```\r\n@SpringBootApplication\r\n@RestController\r\npublic class AcceptMessageApplication {\r\n\r\n    public static void main(String\\[\\] args) {\r\n        SpringApplication.run(AcceptMessageApplication.class, args);\r\n    }\r\n\r\n    @GetMapping(&quot;/test&quot;)\r\n    public String testt() {\r\n        return &quot;Accept-message-Page&quot;;\r\n    }\r\n\r\n    @PostMapping(&quot;/processString&quot;)\r\n    public String processString(@RequestBody String inputString) {\r\n        return &quot;Processed string: &quot; + inputString;\r\n    }\r\n\r\n}\r\n```\r\n\r\nI also have two Dockerfiles:\r\n\r\n```\r\nFROM openjdk:17-jdk-slim\r\nWORKDIR /app\r\nCOPY target/LogonPage-0.0.1-SNAPSHOT.jar /app/LogonPageApplication.jar\r\nEXPOSE 8080\r\nCMD [&quot;java&quot;, &quot;-jar&quot;, &quot;LogonPageApplication.jar&quot;]\r\n```\r\nThe only difference between them is jarfile name - one is logon and the other is AcceptMessage\r\n\r\nSo I am running my application using:\r\n\r\n```\r\ndocker network create my_network\r\ndocker build -t logon-page-app .\r\ndocker run -d -p 8080:8080 --network my_network --name logon-page-container logon-page-app\r\ndocker build -t accept-page-app .\r\ndocker run -d -p 8081:8080 --network my_network --name accept-page-container accept-page-app\r\n```\r\nWhile the app works just fine on running it from a console and sending a requst via Postman, I cannot get them to exchange message having dockerized it whenever I enter http://localhost:8080/send.","title":"Cannot communicate between containers using Rest API","body":"<p>I have two simple endpoints:</p>\n<p>On port 8080</p>\n<pre><code>@SpringBootApplication\n@RestController\npublic class LogonPageApplication {\nprivate static final String PROCESS_STRING_URL = &quot;http://localhost:8081/processString&quot;;\n\n    public static void main(String[] args) {\n        SpringApplication.run(LogonPageApplication.class, args);\n    }\n    \n    @GetMapping(&quot;/send&quot;)\n    public String test() {\n        String responseBody = &quot;&quot;;\n        try {\n            RestTemplate restTemplate = new RestTemplate();\n            HttpHeaders headers \n            = new HttpHeaders();headers.setContentType(MediaType.APPLICATION_JSON);\n            String requestBody = &quot;{fromlogon}&quot;;\n            HttpEntity&lt;String&gt; httpEntity = new HttpEntity&lt;&gt;(requestBody, headers);\n    \n            ResponseEntity&lt;String&gt; response =\n            restTemplate.exchange(PROCESS_STRING_URL, HttpMethod.POST, httpEntity, String.class);\n    \n            responseBody = response.getBody();\n        } catch (Exception e) {\n            return e.getMessage();\n        }\n            return &quot;Main Page\\n&quot; + &quot;Response from /processString: &quot; + responseBody;\n        }\n\n}\n</code></pre>\n<p>On port 8081:</p>\n<pre><code>@SpringBootApplication\n@RestController\npublic class AcceptMessageApplication {\n\n    public static void main(String\\[\\] args) {\n        SpringApplication.run(AcceptMessageApplication.class, args);\n    }\n\n    @GetMapping(&quot;/test&quot;)\n    public String testt() {\n        return &quot;Accept-message-Page&quot;;\n    }\n\n    @PostMapping(&quot;/processString&quot;)\n    public String processString(@RequestBody String inputString) {\n        return &quot;Processed string: &quot; + inputString;\n    }\n\n}\n</code></pre>\n<p>I also have two Dockerfiles:</p>\n<pre><code>FROM openjdk:17-jdk-slim\nWORKDIR /app\nCOPY target/LogonPage-0.0.1-SNAPSHOT.jar /app/LogonPageApplication.jar\nEXPOSE 8080\nCMD [&quot;java&quot;, &quot;-jar&quot;, &quot;LogonPageApplication.jar&quot;]\n</code></pre>\n<p>The only difference between them is jarfile name - one is logon and the other is AcceptMessage</p>\n<p>So I am running my application using:</p>\n<pre><code>docker network create my_network\ndocker build -t logon-page-app .\ndocker run -d -p 8080:8080 --network my_network --name logon-page-container logon-page-app\ndocker build -t accept-page-app .\ndocker run -d -p 8081:8080 --network my_network --name accept-page-container accept-page-app\n</code></pre>\n<p>While the app works just fine on running it from a console and sending a requst via Postman, I cannot get them to exchange message having dockerized it whenever I enter http://localhost:8080/send.</p>\n"},{"tags":["java","http","get","postman","network-programming"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":2,"creation_date":1691477593,"post_id":76857069,"comment_id":135493066,"body_markdown":"*I don&#39;t think the problem is caused by the code* - yeah right.","body":"<i>I don&#39;t think the problem is caused by the code</i> - yeah right."},{"owner":{"account_id":16657935,"reputation":834,"user_id":13927534,"display_name":"Miss Skooter"},"score":1,"creation_date":1691477717,"post_id":76857069,"comment_id":135493092,"body_markdown":"did you try debugging the request? See where the NPE is coming from?","body":"did you try debugging the request? See where the NPE is coming from?"},{"owner":{"account_id":25979745,"reputation":11,"user_id":19693680,"display_name":"Yavuz Selim Odaba"},"score":0,"creation_date":1691477977,"post_id":76857069,"comment_id":135493133,"body_markdown":"@MissSkooterstandswPalestine I did. The code works the same until the input stream is accepted but it arrives as empty. There is not even the method/verb.","body":"@MissSkooterstandswPalestine I did. The code works the same until the input stream is accepted but it arrives as empty. There is not even the method/verb."},{"owner":{"account_id":16657935,"reputation":834,"user_id":13927534,"display_name":"Miss Skooter"},"score":0,"creation_date":1691478087,"post_id":76857069,"comment_id":135493156,"body_markdown":"I think I&#39;d need to see the code to help you further, I really have no idea what it could be tbh :/","body":"I think I&#39;d need to see the code to help you further, I really have no idea what it could be tbh :/"},{"owner":{"account_id":25979745,"reputation":11,"user_id":19693680,"display_name":"Yavuz Selim Odaba"},"score":1,"creation_date":1691479056,"post_id":76857069,"comment_id":135493329,"body_markdown":"@MissSkooterstandswPalestine I added the relevant codes","body":"@MissSkooterstandswPalestine I added the relevant codes"},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1691480987,"post_id":76857069,"comment_id":135493682,"body_markdown":"&quot;There is not even the method/verb&quot;. That&#39;s not possible. HTTP requests *always* have a method, it&#39;s an essential part of the spec. So if you&#39;re getting `null`, there&#39;s a problem in your code. Not in the request itself.","body":"&quot;There is not even the method/verb&quot;. That&#39;s not possible. HTTP requests <i>always</i> have a method, it&#39;s an essential part of the spec. So if you&#39;re getting <code>null</code>, there&#39;s a problem in your code. Not in the request itself."},{"owner":{"account_id":25979745,"reputation":11,"user_id":19693680,"display_name":"Yavuz Selim Odaba"},"score":0,"creation_date":1691483529,"post_id":76857069,"comment_id":135494242,"body_markdown":"@Jorn You are not wrong, but you can see my code, the inputStream is assigned empty (not null) when assigned from the socket. Is it possible that serverSocket.accept() returns anything other than an HTTP request (although Postman sends that) so the inputStream cannot be assigned? I have read the ServerSocket documentation but couldn&#39;t identify anything related to this. And also if there is a problem in my code, how is the browser request processed? There is now switch case, both requests are received the same way.","body":"@Jorn You are not wrong, but you can see my code, the inputStream is assigned empty (not null) when assigned from the socket. Is it possible that serverSocket.accept() returns anything other than an HTTP request (although Postman sends that) so the inputStream cannot be assigned? I have read the ServerSocket documentation but couldn&#39;t identify anything related to this. And also if there is a problem in my code, how is the browser request processed? There is now switch case, both requests are received the same way."},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1691483680,"post_id":76857069,"comment_id":135494273,"body_markdown":"Those are good questions. You should use a debugger to try and find the answers.","body":"Those are good questions. You should use a debugger to try and find the answers."}],"owner":{"account_id":25979745,"reputation":11,"user_id":19693680,"display_name":"Yavuz Selim Odaba"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1691479029,"creation_date":1691477339,"question_id":76857069,"body_markdown":"I have been writing an HTTP handler in Java and earlier, I was able to process Postman requests but now they are received empty (still seen by the code because it creates an object but it is empty. I have a logger to print out the request and these are the results for browser request and Postman request:\r\nBrowser request:\r\n\r\n```\r\n                                           Server started.\r\n-------------------------------------------------------------------------------------------\r\nPort in use: 8080\r\nRequest Line METHOD to process: GET\r\nRequest Line REQUEST TARGET to process: /\r\nRequest Line HTTP VERSION to process: HTTP/1.1\r\nHeader added: Host:  localhost:8080\r\nHeader added: Connection:  keep-alive\r\nHeader added: sec-ch-ua:  &quot;Not/A)Brand&quot;;v=&quot;99&quot;, &quot;Brave&quot;;v=&quot;115&quot;, &quot;Chromium&quot;;v=&quot;115&quot;\r\nHeader added: sec-ch-ua-mobile:  ?0\r\nHeader added: sec-ch-ua-platform:  &quot;Windows&quot;\r\nHeader added: Upgrade-Insecure-Requests:  1\r\nHeader added: User-Agent:  Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36\r\nHeader added: Accept:  text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8\r\nHeader added: Sec-GPC:  1\r\nHeader added: Accept-Language:  en-US,en\r\nHeader added: Sec-Fetch-Site:  none\r\nHeader added: Sec-Fetch-Mode:  navigate\r\nHeader added: Sec-Fetch-User:  ?1\r\nHeader added: Sec-Fetch-Dest:  document\r\nHeader added: Accept-Encoding:  gzip, deflate, br\r\ncom.project.HTTP.Requests.HttpRequest@2cea1072\r\n\r\n```\r\nPostman Request:\r\n\r\n```\r\n                                           Server started.\r\n-------------------------------------------------------------------------------------------\r\nPort in use: 8080\r\ncom.project.HTTP.Requests.HttpRequest@3e385b97\r\nException in thread &quot;Thread-0&quot; java.lang.NullPointerException: Cannot invoke &quot;com.project.HTTP.HttpMethod.toString()&quot; because the return value of &quot;com.project.HTTP.Requests.HttpRequest.getMethod()&quot; is null\r\n\tat com.project.HTTP.Util.HttpResponseGenerator.generateResponse(HttpResponseGenerator.java:18)\r\n\tat com.project.HTTP.server.ServerListernerThread.run(ServerListernerThread.java:37)\r\n\r\n```\r\n\r\nThis is a demo project and there is no sensitive information so I can provide you the code but I don&#39;t think the problem is caused by the code because the browser request can be processed completely fine. So I thought the problem might be caused by Postman. Here is how the postman request looks like:\r\n\r\n\r\nPostman Request\r\n[![enter image description here][1]][1]\r\n\r\nNote that I was able to receive a proper Postman request and print it to the console earlier. I didn&#39;t change the code after that but added other classes for generating responses and connecting to database. I think these are not relevant because the exception is thrown before any instance of these classes are created. Also the exception is rightfully thrown because the request is obviously empty according to the loggers.\r\n\r\n\r\nI have tried writing the Host header myself thinking maybe the request is not send, but later discovered this is not the case since the socket is listened until a request is made and then proceeds with that request - which is an empty input string.\r\n\r\nPlease ask if any additional information is required. Thanks in advance. \r\n\r\nEdit: I&#39;m sharing the related code to make it clearer:\r\n\r\nServer Class:\r\n```\r\npackage com.project.HTTP.server;\r\n\r\nimport java.io.IOException;\r\n\r\npublic class Server {\r\n\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t//\t\t\t\t-- CONFIGURATION --\t\t\t\t//\r\n\tfinal static private int PORT = 8080;\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSystem.out.println(&quot;                                           Server started.\\n-------------------------------------------------------------------------------------------&quot;);\r\n\t\tSystem.out.println(&quot;Port in use: &quot; + Integer.toString(PORT));\r\n\t\ttry {\r\n\t\t\tServerListernerThread thread = new ServerListernerThread(PORT);\r\n\t\t\tthread.start();\r\n\t\t} catch (IOException e) {\r\n\t\t\tSystem.out.println(&quot;An error has occured: &quot; + e.getMessage());\r\n\t\t}\r\n\t}\r\n\r\n}\r\n\r\n```\r\nThread Class:\r\n```\r\npackage com.project.HTTP.server;\r\n\r\nimport java.io.BufferedReader;\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.io.InputStreamReader;\r\nimport java.net.ServerSocket;\r\nimport java.net.Socket;\r\n\r\nimport com.project.HTTP.HttpParser;\r\nimport com.project.HTTP.HttpParsingException;\r\nimport com.project.HTTP.Requests.HttpRequest;\r\nimport com.project.HTTP.Responses.HttpResponse;\r\nimport com.project.HTTP.Util.HttpResponseGenerator;\r\n\r\npublic class ServerListernerThread extends Thread {\r\n\t\r\n\tprivate int port;\r\n\tprivate ServerSocket serverSocket;\r\n\r\n\r\n\tpublic ServerListernerThread(int port) throws IOException {\r\n\t\tthis.port = port;\r\n\t\tserverSocket = new ServerSocket(port);\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic void run() {\r\n\t\twhile (!serverSocket.isClosed() &amp;&amp; serverSocket.isBound()) {\r\n\t\t\tSocket socket = null;\r\n\t\t\ttry {\r\n\t\t\t\tsocket = serverSocket.accept();\r\n\t\t\t\tInputStream inputStream = socket.getInputStream();\r\n\t\t\t\tint _byte;\r\n\t\t\t\tBufferedReader reader = new BufferedReader(new InputStreamReader(inputStream));\r\n\t\t\t\tHttpRequest request = HttpParser.parseHttpRequest(inputStream);\r\n\t\t\t\tHttpResponse response = HttpResponseGenerator.generateResponse(request);\r\n\t\t\t\tSystem.out.println(response);\r\n\t\t\t} catch (IOException e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t} catch (HttpParsingException e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t} finally {\r\n\t\t\t\tif (!(socket == null)) {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tsocket.close();\r\n\t\t\t\t\t} catch (IOException e) {\r\n\t\t\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n}\r\n\r\n```\r\nHttpParser Class:\r\n```\r\npackage com.project.HTTP;\r\n\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.io.InputStreamReader;\r\nimport java.io.OutputStream;\r\nimport java.io.OutputStreamWriter;\r\nimport java.nio.charset.StandardCharsets;\r\nimport java.util.Map;\r\n\r\nimport com.project.HTTP.Requests.HttpRequest;\r\nimport com.project.HTTP.Responses.HttpResponse;\r\n\r\npublic class HttpParser {\r\n\r\n\tprivate static final int SP = 0x20; // 32\r\n\tprivate static final int CR = 0x0D; // 13\r\n\tprivate static final int LF = 0x0A; // 10\r\n\tprivate static final int COLON = 0x3A; // 58\r\n\r\n\tpublic static HttpRequest parseHttpRequest(InputStream inputStream) throws HttpParsingException, IOException {\r\n\t\tInputStreamReader reader = new InputStreamReader(inputStream, StandardCharsets.US_ASCII);\r\n\t\t/*\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t---DOC---  \r\n\t\t * \tInstead of using inputStream directly, we are using an InputStreamReader, which converts the array of bytes\r\n\t\t * \tinto an array of chars. This way we can work on it easier without converting every single time.\r\n\t\t */\r\n\t\tHttpRequest request = new HttpRequest();\r\n\r\n\r\n\t\t\tparseRequestLine(reader, request);\r\n\t\t\tparseRequestHeaders(reader, request);\r\n\t\t\tparseRequestBody(reader, request);\r\n\t\t\tSystem.out.println(request);\r\n\t\treturn request;\r\n\t}\r\n\r\n\tprivate static void parseRequestLine(InputStreamReader reader, HttpRequest httpRequest)\r\n\t\t\tthrows IOException, HttpParsingException {\r\n\r\n\t\tboolean methodParsed = false;\r\n\t\tboolean requestTargetParsed = false;\r\n\r\n\t\tint _byte;\r\n\t\tStringBuilder processingDataBuffer = new StringBuilder();\r\n\t\twhile ((_byte = reader.read()) &gt;= 0) {\r\n\t\t\tif (_byte == CR) {\r\n\t\t\t\t_byte = reader.read();\r\n\t\t\t\tif (_byte == LF) {\r\n\t\t\t\t\thttpRequest.setHttpVersion(processingDataBuffer.toString());\r\n\t\t\t\t\tSystem.out.println(&quot;Request Line HTTP VERSION to process: &quot; + httpRequest.getHttpVersion());\r\n\t\t\t\t\tif (!methodParsed || !requestTargetParsed) {\r\n\t\t\t\t\t\tthrow new HttpParsingException(HttpStatusCode.CLIENT_ERROR_400_BAD_REQUEST);\r\n\t\t\t\t\t\t// Ending up here would mean that either Method or ReqTarget is missing in the request.\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthrow new HttpParsingException(HttpStatusCode.CLIENT_ERROR_400_BAD_REQUEST);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (_byte == SP) {\r\n\t\t\t\tif (!methodParsed) {\r\n\t\t\t\t\thttpRequest.setMethod(processingDataBuffer.toString());\r\n\t\t\t\t\tSystem.out.println(&quot;Request Line METHOD to process: &quot; + httpRequest.getMethod().toString());\r\n\t\t\t\t\tmethodParsed = true;\r\n\t\t\t\t} else if (!requestTargetParsed) {\r\n\t\t\t\t\thttpRequest.setRequestTarget(processingDataBuffer.toString());\r\n\t\t\t\t\tSystem.out.println(&quot;Request Line REQUEST TARGET to process: &quot; + httpRequest.getRequestTarget());\r\n\t\t\t\t\trequestTargetParsed = true;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthrow new HttpParsingException(HttpStatusCode.CLIENT_ERROR_400_BAD_REQUEST);\r\n\t\t\t\t}\r\n\t\t\t\tprocessingDataBuffer.delete(0, processingDataBuffer.length());\r\n\t\t\t} else {\r\n\t\t\t\tprocessingDataBuffer.append((char) _byte);\r\n\t\t\t\tif (!methodParsed) {\r\n\t\t\t\t\tif (processingDataBuffer.length() &gt; HttpMethod.MAX_LENGTH) {\r\n\t\t\t\t\t\tthrow new HttpParsingException(HttpStatusCode.SERVER_ERROR_501_METHOD_NOT_IMPLEMENTED);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tprivate static void parseRequestHeaders(InputStreamReader reader, HttpRequest httpRequest) \r\n\t\t\tthrows IOException, HttpParsingException {\r\n\t\t\r\n\t\tHttpHeaders headers = new HttpHeaders();\r\n\t\tStringBuilder headerNameBuffer = new StringBuilder();\r\n\t\tStringBuilder headerValueBuffer = new StringBuilder();\r\n\t\tboolean state = false; // false: parsing name; true: parsing value\r\n\t\tboolean CrlfChecker = false;\r\n\r\n\t\tint _byte;\r\n\t\twhile ((_byte = reader.read()) &gt;= 0) {\r\n\t\t\tif (_byte == CR) {\r\n\t\t\t\t_byte = reader.read();\r\n\t\t\t\tif (_byte == LF) {\r\n\t\t\t\t\tif (headerNameBuffer.length() &gt; 0 &amp;&amp; headerValueBuffer.length() &gt; 0) {\r\n\t\t\t\t\t\theaders.addHeader(headerNameBuffer.toString().trim(), headerValueBuffer.toString().trim());\r\n\t\t\t\t\t\tSystem.out.println(\r\n\t\t\t\t\t\t\t\t&quot;Header added: &quot; + headerNameBuffer.toString() + &quot;: &quot; + headerValueBuffer.toString());\r\n\t\t\t\t\t\theaderNameBuffer.delete(0, headerNameBuffer.length());\r\n\t\t\t\t\t\theaderValueBuffer.delete(0, headerValueBuffer.length());\r\n\t\t\t\t\t\tCrlfChecker = true;\r\n\t\t\t\t\t\tstate = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthrow new HttpParsingException(HttpStatusCode.CLIENT_ERROR_400_BAD_REQUEST);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t// The ifs above mean the pointer is at the end of a header line and it is parsed.\r\n\t\t\t// Following the else if below means that it is not yet the end of a header line and there is still chars to be parsed before moving to the next step in the loop.\r\n\t\t\telse\r\n\t\t\tif (!state) { // parsing header name\r\n\t\t\t\tCrlfChecker = false; // Resetting CrlfChecker since the last char wasn&#39;t LF.\r\n\t\t\t\tif (_byte == COLON) {\r\n\t\t\t\t\tstate = true; // Switch to Parsing Header Value\r\n\t\t\t\t} else {\r\n\t\t\t\t\theaderNameBuffer.append((char) _byte);\r\n\t\t\t\t}\r\n\r\n\t\t\t} else { // parsing header value\r\n\t\t\t\tCrlfChecker = false; // Resetting CrlfChecker since the last char wasn&#39;t LF.\r\n\t\t\t\theaderValueBuffer.append((char) _byte);\r\n\t\t\t}\r\n\t\t}\r\n\t\thttpRequest.setHttpHeaders(headers);\r\n\t}\r\n\r\n\tprivate static void parseRequestBody(InputStreamReader reader, HttpRequest httpRequest)\r\n\t\t\tthrows IOException {\r\n\t\t\r\n\t\tStringBuilder processingDataBuffer = new StringBuilder();\r\n\t\tint _byte;\r\n\t\twhile ((_byte = reader.read()) &gt;= 0) {\r\n\t\t\tprocessingDataBuffer.append((char) _byte);\r\n\t\t\thttpRequest.setBody(processingDataBuffer.toString());\r\n\t\t\tSystem.out.println(&quot;Body parsed as following: &quot; + httpRequest.getBody());\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static void parseHttpResponse(HttpResponse response,OutputStream outputStream) throws IOException {\r\n\t\tStringBuilder sb = new StringBuilder();\r\n\t\tfor (Map.Entry&lt;String, String&gt; entry : response.getHeaders().getAllHeaders().entrySet()) {\r\n\t\t\tsb.append(entry.getKey() + &quot;: &quot; + entry.getValue() + &quot;\\r\\n&quot;);\r\n\t\t}\r\n\t\tString headers = sb.toString();\r\n\t\tString responseText = response.getHttpVersion() + &quot; &quot; + response.getStatusCode() + &quot; &quot; + response.getStatusMessage() + &quot;\\r\\n&quot; +\r\n\t\t\t\t&quot;Content-Type: application/json\\r\\n&quot; +\r\n\t\t\t\theaders + &quot;\\r\\n&quot; +\r\n\t\t\t\tresponse.getBody();\r\n\t\t\r\n\t\toutputStream.write(responseText.getBytes());\r\n\t\tSystem.out.println(&quot;LOG ENTRY: Response sent.&quot;);\r\n\t}\r\n}\r\n\r\n```\r\nParser class is where the error is detected but I realised the inputStream from the ServerListenerThread class is returned empty so the error first occurs there.\r\n\r\n  [1]: https://i.stack.imgur.com/Peprr.png","title":"Why is Postman sending an empty request while browser sends a legitimate request?","body":"<p>I have been writing an HTTP handler in Java and earlier, I was able to process Postman requests but now they are received empty (still seen by the code because it creates an object but it is empty. I have a logger to print out the request and these are the results for browser request and Postman request:\nBrowser request:</p>\n<pre><code>                                           Server started.\n-------------------------------------------------------------------------------------------\nPort in use: 8080\nRequest Line METHOD to process: GET\nRequest Line REQUEST TARGET to process: /\nRequest Line HTTP VERSION to process: HTTP/1.1\nHeader added: Host:  localhost:8080\nHeader added: Connection:  keep-alive\nHeader added: sec-ch-ua:  &quot;Not/A)Brand&quot;;v=&quot;99&quot;, &quot;Brave&quot;;v=&quot;115&quot;, &quot;Chromium&quot;;v=&quot;115&quot;\nHeader added: sec-ch-ua-mobile:  ?0\nHeader added: sec-ch-ua-platform:  &quot;Windows&quot;\nHeader added: Upgrade-Insecure-Requests:  1\nHeader added: User-Agent:  Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36\nHeader added: Accept:  text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8\nHeader added: Sec-GPC:  1\nHeader added: Accept-Language:  en-US,en\nHeader added: Sec-Fetch-Site:  none\nHeader added: Sec-Fetch-Mode:  navigate\nHeader added: Sec-Fetch-User:  ?1\nHeader added: Sec-Fetch-Dest:  document\nHeader added: Accept-Encoding:  gzip, deflate, br\ncom.project.HTTP.Requests.HttpRequest@2cea1072\n\n</code></pre>\n<p>Postman Request:</p>\n<pre><code>                                           Server started.\n-------------------------------------------------------------------------------------------\nPort in use: 8080\ncom.project.HTTP.Requests.HttpRequest@3e385b97\nException in thread &quot;Thread-0&quot; java.lang.NullPointerException: Cannot invoke &quot;com.project.HTTP.HttpMethod.toString()&quot; because the return value of &quot;com.project.HTTP.Requests.HttpRequest.getMethod()&quot; is null\n    at com.project.HTTP.Util.HttpResponseGenerator.generateResponse(HttpResponseGenerator.java:18)\n    at com.project.HTTP.server.ServerListernerThread.run(ServerListernerThread.java:37)\n\n</code></pre>\n<p>This is a demo project and there is no sensitive information so I can provide you the code but I don't think the problem is caused by the code because the browser request can be processed completely fine. So I thought the problem might be caused by Postman. Here is how the postman request looks like:</p>\n<p>Postman Request\n<a href=\"https://i.stack.imgur.com/Peprr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Peprr.png\" alt=\"enter image description here\" /></a></p>\n<p>Note that I was able to receive a proper Postman request and print it to the console earlier. I didn't change the code after that but added other classes for generating responses and connecting to database. I think these are not relevant because the exception is thrown before any instance of these classes are created. Also the exception is rightfully thrown because the request is obviously empty according to the loggers.</p>\n<p>I have tried writing the Host header myself thinking maybe the request is not send, but later discovered this is not the case since the socket is listened until a request is made and then proceeds with that request - which is an empty input string.</p>\n<p>Please ask if any additional information is required. Thanks in advance.</p>\n<p>Edit: I'm sharing the related code to make it clearer:</p>\n<p>Server Class:</p>\n<pre><code>package com.project.HTTP.server;\n\nimport java.io.IOException;\n\npublic class Server {\n    \n                                                                    //              -- CONFIGURATION --             //\n    final static private int PORT = 8080;\n\n    public static void main(String[] args) {\n        System.out.println(&quot;                                           Server started.\\n-------------------------------------------------------------------------------------------&quot;);\n        System.out.println(&quot;Port in use: &quot; + Integer.toString(PORT));\n        try {\n            ServerListernerThread thread = new ServerListernerThread(PORT);\n            thread.start();\n        } catch (IOException e) {\n            System.out.println(&quot;An error has occured: &quot; + e.getMessage());\n        }\n    }\n\n}\n\n</code></pre>\n<p>Thread Class:</p>\n<pre><code>package com.project.HTTP.server;\n\nimport java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.net.ServerSocket;\nimport java.net.Socket;\n\nimport com.project.HTTP.HttpParser;\nimport com.project.HTTP.HttpParsingException;\nimport com.project.HTTP.Requests.HttpRequest;\nimport com.project.HTTP.Responses.HttpResponse;\nimport com.project.HTTP.Util.HttpResponseGenerator;\n\npublic class ServerListernerThread extends Thread {\n    \n    private int port;\n    private ServerSocket serverSocket;\n\n\n    public ServerListernerThread(int port) throws IOException {\n        this.port = port;\n        serverSocket = new ServerSocket(port);\n        \n    }\n    \n    public void run() {\n        while (!serverSocket.isClosed() &amp;&amp; serverSocket.isBound()) {\n            Socket socket = null;\n            try {\n                socket = serverSocket.accept();\n                InputStream inputStream = socket.getInputStream();\n                int _byte;\n                BufferedReader reader = new BufferedReader(new InputStreamReader(inputStream));\n                HttpRequest request = HttpParser.parseHttpRequest(inputStream);\n                HttpResponse response = HttpResponseGenerator.generateResponse(request);\n                System.out.println(response);\n            } catch (IOException e) {\n                e.printStackTrace();\n            } catch (HttpParsingException e) {\n                e.printStackTrace();\n            } finally {\n                if (!(socket == null)) {\n                    try {\n                        socket.close();\n                    } catch (IOException e) {\n                        // TODO Auto-generated catch block\n                        e.printStackTrace();\n                    }\n                }\n            }\n        }\n    }\n\n}\n\n</code></pre>\n<p>HttpParser Class:</p>\n<pre><code>package com.project.HTTP;\n\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.io.OutputStream;\nimport java.io.OutputStreamWriter;\nimport java.nio.charset.StandardCharsets;\nimport java.util.Map;\n\nimport com.project.HTTP.Requests.HttpRequest;\nimport com.project.HTTP.Responses.HttpResponse;\n\npublic class HttpParser {\n\n    private static final int SP = 0x20; // 32\n    private static final int CR = 0x0D; // 13\n    private static final int LF = 0x0A; // 10\n    private static final int COLON = 0x3A; // 58\n\n    public static HttpRequest parseHttpRequest(InputStream inputStream) throws HttpParsingException, IOException {\n        InputStreamReader reader = new InputStreamReader(inputStream, StandardCharsets.US_ASCII);\n        /*                                                                                                 ---DOC---  \n         *  Instead of using inputStream directly, we are using an InputStreamReader, which converts the array of bytes\n         *  into an array of chars. This way we can work on it easier without converting every single time.\n         */\n        HttpRequest request = new HttpRequest();\n\n\n            parseRequestLine(reader, request);\n            parseRequestHeaders(reader, request);\n            parseRequestBody(reader, request);\n            System.out.println(request);\n        return request;\n    }\n\n    private static void parseRequestLine(InputStreamReader reader, HttpRequest httpRequest)\n            throws IOException, HttpParsingException {\n\n        boolean methodParsed = false;\n        boolean requestTargetParsed = false;\n\n        int _byte;\n        StringBuilder processingDataBuffer = new StringBuilder();\n        while ((_byte = reader.read()) &gt;= 0) {\n            if (_byte == CR) {\n                _byte = reader.read();\n                if (_byte == LF) {\n                    httpRequest.setHttpVersion(processingDataBuffer.toString());\n                    System.out.println(&quot;Request Line HTTP VERSION to process: &quot; + httpRequest.getHttpVersion());\n                    if (!methodParsed || !requestTargetParsed) {\n                        throw new HttpParsingException(HttpStatusCode.CLIENT_ERROR_400_BAD_REQUEST);\n                        // Ending up here would mean that either Method or ReqTarget is missing in the request.\n                    }\n                    return;\n                } else {\n                    throw new HttpParsingException(HttpStatusCode.CLIENT_ERROR_400_BAD_REQUEST);\n                }\n            }\n            if (_byte == SP) {\n                if (!methodParsed) {\n                    httpRequest.setMethod(processingDataBuffer.toString());\n                    System.out.println(&quot;Request Line METHOD to process: &quot; + httpRequest.getMethod().toString());\n                    methodParsed = true;\n                } else if (!requestTargetParsed) {\n                    httpRequest.setRequestTarget(processingDataBuffer.toString());\n                    System.out.println(&quot;Request Line REQUEST TARGET to process: &quot; + httpRequest.getRequestTarget());\n                    requestTargetParsed = true;\n                } else {\n                    throw new HttpParsingException(HttpStatusCode.CLIENT_ERROR_400_BAD_REQUEST);\n                }\n                processingDataBuffer.delete(0, processingDataBuffer.length());\n            } else {\n                processingDataBuffer.append((char) _byte);\n                if (!methodParsed) {\n                    if (processingDataBuffer.length() &gt; HttpMethod.MAX_LENGTH) {\n                        throw new HttpParsingException(HttpStatusCode.SERVER_ERROR_501_METHOD_NOT_IMPLEMENTED);\n                    }\n                }\n            }\n        }\n    }\n\n    private static void parseRequestHeaders(InputStreamReader reader, HttpRequest httpRequest) \n            throws IOException, HttpParsingException {\n        \n        HttpHeaders headers = new HttpHeaders();\n        StringBuilder headerNameBuffer = new StringBuilder();\n        StringBuilder headerValueBuffer = new StringBuilder();\n        boolean state = false; // false: parsing name; true: parsing value\n        boolean CrlfChecker = false;\n\n        int _byte;\n        while ((_byte = reader.read()) &gt;= 0) {\n            if (_byte == CR) {\n                _byte = reader.read();\n                if (_byte == LF) {\n                    if (headerNameBuffer.length() &gt; 0 &amp;&amp; headerValueBuffer.length() &gt; 0) {\n                        headers.addHeader(headerNameBuffer.toString().trim(), headerValueBuffer.toString().trim());\n                        System.out.println(\n                                &quot;Header added: &quot; + headerNameBuffer.toString() + &quot;: &quot; + headerValueBuffer.toString());\n                        headerNameBuffer.delete(0, headerNameBuffer.length());\n                        headerValueBuffer.delete(0, headerValueBuffer.length());\n                        CrlfChecker = true;\n                        state = false;\n                    }\n                } else {\n                    throw new HttpParsingException(HttpStatusCode.CLIENT_ERROR_400_BAD_REQUEST);\n                }\n            }\n            // The ifs above mean the pointer is at the end of a header line and it is parsed.\n            // Following the else if below means that it is not yet the end of a header line and there is still chars to be parsed before moving to the next step in the loop.\n            else\n            if (!state) { // parsing header name\n                CrlfChecker = false; // Resetting CrlfChecker since the last char wasn't LF.\n                if (_byte == COLON) {\n                    state = true; // Switch to Parsing Header Value\n                } else {\n                    headerNameBuffer.append((char) _byte);\n                }\n\n            } else { // parsing header value\n                CrlfChecker = false; // Resetting CrlfChecker since the last char wasn't LF.\n                headerValueBuffer.append((char) _byte);\n            }\n        }\n        httpRequest.setHttpHeaders(headers);\n    }\n\n    private static void parseRequestBody(InputStreamReader reader, HttpRequest httpRequest)\n            throws IOException {\n        \n        StringBuilder processingDataBuffer = new StringBuilder();\n        int _byte;\n        while ((_byte = reader.read()) &gt;= 0) {\n            processingDataBuffer.append((char) _byte);\n            httpRequest.setBody(processingDataBuffer.toString());\n            System.out.println(&quot;Body parsed as following: &quot; + httpRequest.getBody());\n            \n        }\n    }\n\n    public static void parseHttpResponse(HttpResponse response,OutputStream outputStream) throws IOException {\n        StringBuilder sb = new StringBuilder();\n        for (Map.Entry&lt;String, String&gt; entry : response.getHeaders().getAllHeaders().entrySet()) {\n            sb.append(entry.getKey() + &quot;: &quot; + entry.getValue() + &quot;\\r\\n&quot;);\n        }\n        String headers = sb.toString();\n        String responseText = response.getHttpVersion() + &quot; &quot; + response.getStatusCode() + &quot; &quot; + response.getStatusMessage() + &quot;\\r\\n&quot; +\n                &quot;Content-Type: application/json\\r\\n&quot; +\n                headers + &quot;\\r\\n&quot; +\n                response.getBody();\n        \n        outputStream.write(responseText.getBytes());\n        System.out.println(&quot;LOG ENTRY: Response sent.&quot;);\n    }\n}\n\n</code></pre>\n<p>Parser class is where the error is detected but I realised the inputStream from the ServerListenerThread class is returned empty so the error first occurs there.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9872,"page":262,"page_size":100}
