{"items":[{"tags":["java","selenium","selenium-chromedriver","google-chrome-headless","lang"],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646061393,"creation_date":1646061067,"answer_id":71297064,"question_id":71296869,"body_markdown":"To change the language to German through [ChromeDriver](https://stackoverflow.com/a/59927747/7429447) while executing [Selenium](https://stackoverflow.com/a/54482491/7429447) tests you can use the following line of code:\r\n\r\n\r\n\toptions.addArguments(&#39;--lang=de_DE&#39;);","title":"How to change language to German in ChromeDriver while running Selenium tests in Java","body":"<p>To change the language to German through <a href=\"https://stackoverflow.com/a/59927747/7429447\">ChromeDriver</a> while executing <a href=\"https://stackoverflow.com/a/54482491/7429447\">Selenium</a> tests you can use the following line of code:</p>\n<pre><code>options.addArguments('--lang=de_DE');\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8819057,"reputation":116,"user_id":6589537,"display_name":"mpoqq"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673250144,"creation_date":1673250144,"answer_id":75054332,"question_id":71296869,"body_markdown":"On Linux, Chrome uses the `LANGUAGE` environment variable ([chrome.i18n](https://developer.chrome.com/docs/extensions/reference/i18n/#linux)). \r\n\r\nIf you run the WebDriver with docker just add `-e LANGUAGE=de_DE -e LANG=de_DE`.  \r\n\r\nIf you use selenium-grid deployed to Kubernetes you can set [chromeNode.extraEnvironmentVariables](https://github.com/SeleniumHQ/docker-selenium/blob/trunk/charts/selenium-grid/README.md#configuration) to \r\n```\r\nextraEnvironmentVariables:\r\n  - name: LANG\r\n    value: de_DE\r\n  - name: LANGUAGE\r\n    value: de_DE\r\n```\r\n\r\nIn the newest version of [docker-selenium](https://github.com/SeleniumHQ/docker-selenium) they are added a wrapper to set the `LANGUAGE` env var based on the `--lang` arugment (see [PullRequest](https://github.com/SeleniumHQ/docker-selenium/pull/1751))","title":"How to change language to German in ChromeDriver while running Selenium tests in Java","body":"<p>On Linux, Chrome uses the <code>LANGUAGE</code> environment variable (<a href=\"https://developer.chrome.com/docs/extensions/reference/i18n/#linux\" rel=\"nofollow noreferrer\">chrome.i18n</a>).</p>\n<p>If you run the WebDriver with docker just add <code>-e LANGUAGE=de_DE -e LANG=de_DE</code>.</p>\n<p>If you use selenium-grid deployed to Kubernetes you can set <a href=\"https://github.com/SeleniumHQ/docker-selenium/blob/trunk/charts/selenium-grid/README.md#configuration\" rel=\"nofollow noreferrer\">chromeNode.extraEnvironmentVariables</a> to</p>\n<pre><code>extraEnvironmentVariables:\n  - name: LANG\n    value: de_DE\n  - name: LANGUAGE\n    value: de_DE\n</code></pre>\n<p>In the newest version of <a href=\"https://github.com/SeleniumHQ/docker-selenium\" rel=\"nofollow noreferrer\">docker-selenium</a> they are added a wrapper to set the <code>LANGUAGE</code> env var based on the <code>--lang</code> arugment (see <a href=\"https://github.com/SeleniumHQ/docker-selenium/pull/1751\" rel=\"nofollow noreferrer\">PullRequest</a>)</p>\n"}],"owner":{"account_id":24406595,"reputation":11,"user_id":18334695,"display_name":"JanR443"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1402,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1673250144,"creation_date":1646060195,"question_id":71296869,"body_markdown":"I am having some problems setting the language of my chrome-browser to english when running Tests in my CI/CD-Pipeline. I use Selenium and TestNG for testing. Everytime I run my tests locally it works perfectly fine but when the Pipeline executes the tests, it always ends up failing the asserted value. This seems to be because the pipeline changes the browsers language to english instead of german. \r\n\r\nI already tried the following code snippets to change the browsers language but none of them worked:\r\n\r\n    WebDriverManager.chromedriver().setup();\r\n    ChromeOptions options = new ChromeOptions();\r\n    options.setHeadless(headless); //headless is true\r\n    options.setExperimentalOption(&quot;prefs&quot;, Collections.singletonMap(&quot;intl.accept_languages&quot;, &quot;de-DE&quot;));\r\n\r\nand \r\n\r\n    options.addArguments(&quot;--lang=de-DE&quot;)\r\nand\r\n\r\n    options.addArguments(&quot;lang=de-DE&quot;)\r\nand\r\n\r\n    options.addArguments(&quot;lang=de&quot;)\r\nI tried literally every solution I found online. I think the problem might be the headless mode but I couldn&#39;t figure out how to solve it. ","title":"How to change language to German in ChromeDriver while running Selenium tests in Java","body":"<p>I am having some problems setting the language of my chrome-browser to english when running Tests in my CI/CD-Pipeline. I use Selenium and TestNG for testing. Everytime I run my tests locally it works perfectly fine but when the Pipeline executes the tests, it always ends up failing the asserted value. This seems to be because the pipeline changes the browsers language to english instead of german.</p>\n<p>I already tried the following code snippets to change the browsers language but none of them worked:</p>\n<pre><code>WebDriverManager.chromedriver().setup();\nChromeOptions options = new ChromeOptions();\noptions.setHeadless(headless); //headless is true\noptions.setExperimentalOption(&quot;prefs&quot;, Collections.singletonMap(&quot;intl.accept_languages&quot;, &quot;de-DE&quot;));\n</code></pre>\n<p>and</p>\n<pre><code>options.addArguments(&quot;--lang=de-DE&quot;)\n</code></pre>\n<p>and</p>\n<pre><code>options.addArguments(&quot;lang=de-DE&quot;)\n</code></pre>\n<p>and</p>\n<pre><code>options.addArguments(&quot;lang=de&quot;)\n</code></pre>\n<p>I tried literally every solution I found online. I think the problem might be the headless mode but I couldn't figure out how to solve it.</p>\n"},{"tags":["javascript","java","json","windows","eclipse"],"answers":[{"tags":[],"owner":{"account_id":15135906,"reputation":46,"user_id":10922437,"display_name":"priyank modi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673249793,"creation_date":1673249793,"answer_id":75054292,"question_id":75054191,"body_markdown":"It seems you want to get the value of the key(that can be parameterized).\r\n\r\n    const jsonArray = [\r\n      {\r\n        &quot;id&quot;: &quot;628ba44f5a6de600071d16fa&quot;,\r\n        &quot;@baseType&quot;: &quot;LogicalResource&quot;,\r\n        &quot;isBundle&quot;: false,\r\n        &quot;isMNP&quot;: false,\r\n        &quot;businessType&quot;: [],\r\n        &quot;category&quot;: [\r\n          {\r\n            &quot;id&quot;: &quot;628ba3ef5a6de600071d165f&quot;,\r\n            &quot;name&quot;: &quot;Starterpack2&quot;,\r\n            &quot;description&quot;: &quot;Starterpack2&quot;,\r\n            &quot;code&quot;: &quot;RC17&quot;,\r\n            &quot;version&quot;: 2\r\n          }\r\n        ]\r\n      }\r\n    ];\r\n    \r\n    const parameter = &quot;category&quot;;\r\n    \r\n    const result = jsonArray.find(({ [parameter]: value }) =&gt; value);\r\n    \r\n    if (result) {\r\n      console.log(result);\r\n    } else {\r\n      console.log(`No object found with ${parameter}`);\r\n    }\r\n\r\n\r\nIf this is not what you are looking for, then please add your code snippet for better understanding.","title":"is it possible to retrieve and print the data from a json object inside json array without using any index values and specific keys","body":"<p>It seems you want to get the value of the key(that can be parameterized).</p>\n<pre><code>const jsonArray = [\n  {\n    &quot;id&quot;: &quot;628ba44f5a6de600071d16fa&quot;,\n    &quot;@baseType&quot;: &quot;LogicalResource&quot;,\n    &quot;isBundle&quot;: false,\n    &quot;isMNP&quot;: false,\n    &quot;businessType&quot;: [],\n    &quot;category&quot;: [\n      {\n        &quot;id&quot;: &quot;628ba3ef5a6de600071d165f&quot;,\n        &quot;name&quot;: &quot;Starterpack2&quot;,\n        &quot;description&quot;: &quot;Starterpack2&quot;,\n        &quot;code&quot;: &quot;RC17&quot;,\n        &quot;version&quot;: 2\n      }\n    ]\n  }\n];\n\nconst parameter = &quot;category&quot;;\n\nconst result = jsonArray.find(({ [parameter]: value }) =&gt; value);\n\nif (result) {\n  console.log(result);\n} else {\n  console.log(`No object found with ${parameter}`);\n}\n</code></pre>\n<p>If this is not what you are looking for, then please add your code snippet for better understanding.</p>\n"},{"comments":[{"owner":{"account_id":3964233,"reputation":317,"user_id":3270696,"display_name":"Jawwad Ahmed"},"score":0,"creation_date":1673250775,"post_id":75054299,"comment_id":132447527,"body_markdown":"console.log(print(&quot;category&quot;)); to get an output in console as print is returning to no body :) , cant edit. Too many edits pending on SO.\nAlso, handle undefined values in the function by \n\nreturn (typeof a[0][`${values}`] != &quot;undefined&quot;) ? a[0][`${values}`] : null","body":"console.log(print(&quot;category&quot;)); to get an output in console as print is returning to no body :) , cant edit. Too many edits pending on SO. Also, handle undefined values in the function by   return (typeof a[0][<code>${values}</code>] != &quot;undefined&quot;) ? a[0][<code>${values}</code>] : null"}],"tags":[],"owner":{"account_id":24610976,"reputation":78,"user_id":18512567,"display_name":"Ali "},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673249856,"creation_date":1673249856,"answer_id":75054299,"question_id":75054191,"body_markdown":"Try this.\r\n\r\n**For Example:**\r\n\r\n    let a = [{&quot;id&quot;: &quot;628ba44f5a6de600071d16fa&quot;,&quot;category&quot;: [\r\n            {\r\n                &quot;id&quot;: &quot;628ba3ef5a6de600071d165f&quot;,\r\n                &quot;name&quot;: &quot;Starterpack2&quot;,\r\n                &quot;description&quot;: &quot;Starterpack2&quot;,\r\n                &quot;code&quot;: &quot;RC17&quot;,\r\n                &quot;version&quot;: 2\r\n            }]}]\r\n            \r\n          function print (values){return (a[0][`${values}`])}\r\n    \r\n         //now just pass any name like &quot;category&quot; or in future &quot;categories&quot;\r\n\r\n         print(&quot;category&quot;)  //this will retrun the array.\r\n\r\nNow modify with your requirements.\r\n\r\n","title":"is it possible to retrieve and print the data from a json object inside json array without using any index values and specific keys","body":"<p>Try this.</p>\n<p><strong>For Example:</strong></p>\n<pre><code>let a = [{&quot;id&quot;: &quot;628ba44f5a6de600071d16fa&quot;,&quot;category&quot;: [\n        {\n            &quot;id&quot;: &quot;628ba3ef5a6de600071d165f&quot;,\n            &quot;name&quot;: &quot;Starterpack2&quot;,\n            &quot;description&quot;: &quot;Starterpack2&quot;,\n            &quot;code&quot;: &quot;RC17&quot;,\n            &quot;version&quot;: 2\n        }]}]\n        \n      function print (values){return (a[0][`${values}`])}\n\n     //now just pass any name like &quot;category&quot; or in future &quot;categories&quot;\n\n     print(&quot;category&quot;)  //this will retrun the array.\n</code></pre>\n<p>Now modify with your requirements.</p>\n"}],"owner":{"account_id":27474473,"reputation":1,"user_id":20962726,"display_name":"sindhunadh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1673249856,"creation_date":1673249011,"question_id":75054191,"body_markdown":"    [\r\n        {\r\n            &quot;id&quot;: &quot;628ba44f5a6de600071d16fa&quot;,\r\n            &quot;@baseType&quot;: &quot;LogicalResource&quot;,\r\n            &quot;isBundle&quot;: false,\r\n            &quot;isMNP&quot;: false,\r\n            &quot;businessType&quot;: [],\r\n            &quot;category&quot;: [\r\n                {\r\n                    &quot;id&quot;: &quot;628ba3ef5a6de600071d165f&quot;,\r\n                    &quot;name&quot;: &quot;Starterpack2&quot;,\r\n                    &quot;description&quot;: &quot;Starterpack2&quot;,\r\n                    &quot;code&quot;: &quot;RC17&quot;,\r\n                    &quot;version&quot;: 2\r\n                }}]\r\n\r\nnow i need to check and print the JSON Object inside the JSON Array if category is present then it should print  and in future if category is changed according to that if we pass parameter the output should print we don&#39;t hard code the code \r\n\r\ni have tried by using key values it is coming but if the key value changes it is not printing the object \r\nEX:- \r\n\r\n    [\r\n        {\r\n            &quot;id&quot;: &quot;628ba44f5a6de600071d16fa&quot;,\r\n            &quot;@baseType&quot;: &quot;LogicalResource&quot;,\r\n            &quot;isBundle&quot;: false,\r\n            &quot;isMNP&quot;: false,\r\n            &quot;businessType&quot;: [],\r\n            &quot;category&quot;: [\r\n                {\r\n                    &quot;id&quot;: &quot;628ba3ef5a6de600071d165f&quot;,\r\n                    &quot;name&quot;: &quot;Starterpack2&quot;,\r\n                    &quot;description&quot;: &quot;Starterpack2&quot;,\r\n                    &quot;code&quot;: &quot;RC17&quot;,\r\n                    &quot;version&quot;: 2\r\n                }}]\r\n\r\nin the above code i have printed category object but if category changed to categories it is not printing so i want a code which can read the code and based on parameters user giving it should be print  the output\r\n\r\n\r\n","title":"is it possible to retrieve and print the data from a json object inside json array without using any index values and specific keys","body":"<pre><code>[\n    {\n        &quot;id&quot;: &quot;628ba44f5a6de600071d16fa&quot;,\n        &quot;@baseType&quot;: &quot;LogicalResource&quot;,\n        &quot;isBundle&quot;: false,\n        &quot;isMNP&quot;: false,\n        &quot;businessType&quot;: [],\n        &quot;category&quot;: [\n            {\n                &quot;id&quot;: &quot;628ba3ef5a6de600071d165f&quot;,\n                &quot;name&quot;: &quot;Starterpack2&quot;,\n                &quot;description&quot;: &quot;Starterpack2&quot;,\n                &quot;code&quot;: &quot;RC17&quot;,\n                &quot;version&quot;: 2\n            }}]\n</code></pre>\n<p>now i need to check and print the JSON Object inside the JSON Array if category is present then it should print  and in future if category is changed according to that if we pass parameter the output should print we don't hard code the code</p>\n<p>i have tried by using key values it is coming but if the key value changes it is not printing the object\nEX:-</p>\n<pre><code>[\n    {\n        &quot;id&quot;: &quot;628ba44f5a6de600071d16fa&quot;,\n        &quot;@baseType&quot;: &quot;LogicalResource&quot;,\n        &quot;isBundle&quot;: false,\n        &quot;isMNP&quot;: false,\n        &quot;businessType&quot;: [],\n        &quot;category&quot;: [\n            {\n                &quot;id&quot;: &quot;628ba3ef5a6de600071d165f&quot;,\n                &quot;name&quot;: &quot;Starterpack2&quot;,\n                &quot;description&quot;: &quot;Starterpack2&quot;,\n                &quot;code&quot;: &quot;RC17&quot;,\n                &quot;version&quot;: 2\n            }}]\n</code></pre>\n<p>in the above code i have printed category object but if category changed to categories it is not printing so i want a code which can read the code and based on parameters user giving it should be print  the output</p>\n"},{"tags":["java","hibernate","hbm2ddl"],"answers":[{"comments":[{"owner":{"account_id":47487,"reputation":3720,"user_id":140707,"display_name":"Frans"},"score":5,"creation_date":1390469450,"post_id":438286,"comment_id":32107912,"body_markdown":"Actually, per the documentation, create-drop creates the database tables and drops them when the session factory is explicitly closed. It does *not* drop the tables when the session factory is created.","body":"Actually, per the documentation, create-drop creates the database tables and drops them when the session factory is explicitly closed. It does <i>not</i> drop the tables when the session factory is created."},{"owner":{"account_id":1669688,"reputation":2200,"user_id":1536382,"display_name":"Testo Testini"},"score":9,"creation_date":1446548081,"post_id":438286,"comment_id":54778311,"body_markdown":"No, both create-drop and create drop the tables when the sessionfactory is created, then create-drop drops the tables also when sessionfactory is closed. See http://stackoverflow.com/a/6752698/1536382","body":"No, both create-drop and create drop the tables when the sessionfactory is created, then create-drop drops the tables also when sessionfactory is closed. See <a href=\"http://stackoverflow.com/a/6752698/1536382\">stackoverflow.com/a/6752698/1536382</a>"},{"owner":{"account_id":4298757,"reputation":3291,"user_id":3513023,"accept_rate":65,"display_name":"METTAIBI"},"score":0,"creation_date":1486639113,"post_id":438286,"comment_id":71436742,"body_markdown":"does making hibernate.hbm2ddl.auto=create-drop in production can lead to several connection timeout in production ?","body":"does making hibernate.hbm2ddl.auto=create-drop in production can lead to several connection timeout in production ?"}],"tags":[],"owner":{"account_id":1941,"reputation":17240,"user_id":2670,"accept_rate":92,"display_name":"Peter Hilton"},"comment_count":3,"down_vote_count":1,"up_vote_count":174,"is_accepted":false,"score":173,"last_activity_date":1231834305,"creation_date":1231834305,"answer_id":438286,"question_id":438146,"body_markdown":"The configuration property is called `hibernate.hbm2ddl.auto`\r\n\r\nIn our development environment we set `hibernate.hbm2ddl.auto=create-drop` to drop and create a clean database each time we deploy, so that our database is in a known state.\r\n\r\nIn theory, you can set `hibernate.hbm2ddl.auto=update` to update your database with changes to your model, but I would not trust that on a production database. An earlier version of the documentation said that this was experimental, at least; I do not know the current status.\r\n\r\nTherefore, for our production database, do not set `hibernate.hbm2ddl.auto` - the default is to make no database changes. Instead, we manually create an SQL DDL update script that applies changes from one version to the next.","title":"What are the possible values of the Hibernate hbm2ddl.auto configuration and what do they do","body":"<p>The configuration property is called <code>hibernate.hbm2ddl.auto</code></p>\n\n<p>In our development environment we set <code>hibernate.hbm2ddl.auto=create-drop</code> to drop and create a clean database each time we deploy, so that our database is in a known state.</p>\n\n<p>In theory, you can set <code>hibernate.hbm2ddl.auto=update</code> to update your database with changes to your model, but I would not trust that on a production database. An earlier version of the documentation said that this was experimental, at least; I do not know the current status.</p>\n\n<p>Therefore, for our production database, do not set <code>hibernate.hbm2ddl.auto</code> - the default is to make no database changes. Instead, we manually create an SQL DDL update script that applies changes from one version to the next.</p>\n"},{"comments":[{"owner":{"account_id":19497,"reputation":15503,"user_id":45756,"accept_rate":87,"display_name":"Nathan Voxland"},"score":6,"creation_date":1257318415,"post_id":672490,"comment_id":1545442,"body_markdown":"See http://stackoverflow.com/questions/221379/hibernate-hbm2ddl-autoupdate-in-production for why you shouldn&#39;t use hbm2ddl for production.","body":"See <a href=\"http://stackoverflow.com/questions/221379/hibernate-hbm2ddl-autoupdate-in-production\" title=\"hibernate hbm2ddl autoupdate in production\">stackoverflow.com/questions/221379/&hellip;</a> for why you shouldn&#39;t use hbm2ddl for production."}],"tags":[],"owner":{"account_id":10628,"reputation":5791,"user_id":20161,"accept_rate":50,"display_name":"Pat"},"comment_count":1,"down_vote_count":1,"up_vote_count":53,"is_accepted":false,"score":52,"last_activity_date":1237794034,"creation_date":1237794034,"answer_id":672490,"question_id":438146,"body_markdown":"I would use [liquibase][1] for updating your db. hibernate&#39;s schema update feature is really only o.k. for a developer while they are developing new features. In a production situation, the db upgrade needs to be handled more carefully.\r\n\r\n\r\n  [1]: http://www.liquibase.org &quot;liquibase&quot;","title":"What are the possible values of the Hibernate hbm2ddl.auto configuration and what do they do","body":"<p>I would use <a href=\"http://www.liquibase.org\" rel=\"noreferrer\" title=\"liquibase\">liquibase</a> for updating your db. hibernate's schema update feature is really only o.k. for a developer while they are developing new features. In a production situation, the db upgrade needs to be handled more carefully.</p>\n"},{"comments":[{"owner":{"account_id":99208,"reputation":9643,"user_id":268098,"accept_rate":86,"display_name":"Ta Sas"},"score":16,"creation_date":1278800422,"post_id":1689769,"comment_id":3322978,"body_markdown":"Just read the hibernate docu ... for valid values, it says: &quot;e.g.&quot; ... are there any other valid values?","body":"Just read the hibernate docu ... for valid values, it says: &quot;e.g.&quot; ... are there any other valid values?"},{"owner":{"account_id":10893,"reputation":48802,"user_id":20774,"accept_rate":92,"display_name":"James McMahon"},"score":1,"creation_date":1278968410,"post_id":1689769,"comment_id":3336777,"body_markdown":"Not that I am aware of. They could be misusing e.g., or the values could simply be undocumented.","body":"Not that I am aware of. They could be misusing e.g., or the values could simply be undocumented."},{"owner":{"account_id":437619,"reputation":873,"user_id":825411,"display_name":"szegedi"},"score":18,"creation_date":1348147294,"post_id":1689769,"comment_id":16842730,"body_markdown":"I think it says &quot;e.g.&quot; because it&#39;s just a community documentation, if someone&#39;s interested in all the possible values, it can be found in Hibernate&#39;s javadoc. (And yes, only those four options are present)\n\nhttp://docs.jboss.org/hibernate/orm/4.1/javadocs/org/hibernate/cfg/AvailableSettings.html#HBM2DDL_AUTO","body":"I think it says &quot;e.g.&quot; because it&#39;s just a community documentation, if someone&#39;s interested in all the possible values, it can be found in Hibernate&#39;s javadoc. (And yes, only those four options are present)  <a href=\"http://docs.jboss.org/hibernate/orm/4.1/javadocs/org/hibernate/cfg/AvailableSettings.html#HBM2DDL_AUTO\" rel=\"nofollow noreferrer\">docs.jboss.org/hibernate/orm/4.1/javadocs/org/hibernate/cfg/&zwnj;&#8203;&hellip;</a>"},{"owner":{"account_id":1341662,"reputation":6557,"user_id":1283215,"accept_rate":63,"display_name":"Hussain Akhtar Wahid &#39;Ghouri&#39;"},"score":6,"creation_date":1379542106,"post_id":1689769,"comment_id":27870224,"body_markdown":"validate says validate the schema , what exactly does it mean ??","body":"validate says validate the schema , what exactly does it mean ??"},{"owner":{"account_id":448569,"reputation":3796,"user_id":842832,"accept_rate":33,"display_name":"demaniak"},"score":1,"creation_date":1381333263,"post_id":1689769,"comment_id":28540433,"body_markdown":"Hi - afaik I know, and saw throught usage, &quot;validate&quot; means just that - it will compare the database schema against your declared (or annotated) datalayer (Hibernate), and complain (or break?) if things do not match. But it won&#39;t make any changes to the database itself.","body":"Hi - afaik I know, and saw throught usage, &quot;validate&quot; means just that - it will compare the database schema against your declared (or annotated) datalayer (Hibernate), and complain (or break?) if things do not match. But it won&#39;t make any changes to the database itself."},{"owner":{"account_id":2146888,"reputation":1189,"user_id":2324750,"accept_rate":72,"display_name":"Filipe"},"score":1,"creation_date":1400682064,"post_id":1689769,"comment_id":36581553,"body_markdown":"A thing that i&#39;ve had noticed is that if I change the column type into the model, the same column on database is not changed with **update**","body":"A thing that i&#39;ve had noticed is that if I change the column type into the model, the same column on database is not changed with <b>update</b>"},{"owner":{"account_id":492994,"reputation":3705,"user_id":1271412,"accept_rate":78,"display_name":"petertc"},"score":0,"creation_date":1402038933,"post_id":1689769,"comment_id":37128531,"body_markdown":"&#39;empty string&#39; can also be used.","body":"&#39;empty string&#39; can also be used."},{"owner":{"account_id":422529,"reputation":2812,"user_id":801362,"accept_rate":100,"display_name":"Ward"},"score":9,"creation_date":1402930911,"post_id":1689769,"comment_id":37451015,"body_markdown":"You can also use &#39;aardvark&#39;, or &#39;pigeon&#39; or any other word, if you want hibernate to do nothing. Not that I would recommend that of course!","body":"You can also use &#39;aardvark&#39;, or &#39;pigeon&#39; or any other word, if you want hibernate to do nothing. Not that I would recommend that of course!"},{"owner":{"account_id":931121,"reputation":21661,"user_id":961018,"accept_rate":56,"display_name":"mjs"},"score":0,"creation_date":1418835710,"post_id":1689769,"comment_id":43490236,"body_markdown":"Is there any option that says, just create if don&#39;t exist, don&#39;t update, don&#39;t drop :(","body":"Is there any option that says, just create if don&#39;t exist, don&#39;t update, don&#39;t drop :("},{"owner":{"account_id":915770,"reputation":532,"user_id":948600,"accept_rate":6,"display_name":"Aditya"},"score":4,"creation_date":1424020147,"post_id":1689769,"comment_id":45372582,"body_markdown":"A small addition to the create-drop option. If this option is used it does not drop the whole schema instead it drops the tables whose mappings are available while running this. For example if a database with Schema S has A, B, C tables and java code has mappings for A and B only then Hibernate will not drop the table C.","body":"A small addition to the create-drop option. If this option is used it does not drop the whole schema instead it drops the tables whose mappings are available while running this. For example if a database with Schema S has A, B, C tables and java code has mappings for A and B only then Hibernate will not drop the table C."},{"owner":{"account_id":449256,"reputation":2120,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"score":0,"creation_date":1457088784,"post_id":1689769,"comment_id":59258150,"body_markdown":"@Aditya create-drop does not drop the &quot;Schema&quot; **and** does not create it.","body":"@Aditya create-drop does not drop the &quot;Schema&quot; <b>and</b> does not create it."},{"owner":{"account_id":270017,"reputation":1774,"user_id":559715,"accept_rate":62,"display_name":"chAmi"},"score":0,"creation_date":1468674288,"post_id":1689769,"comment_id":64230985,"body_markdown":"Note that create-drop do not drop database just closing session but the **Session Factory**.","body":"Note that create-drop do not drop database just closing session but the <b>Session Factory</b>."},{"owner":{"account_id":1584948,"reputation":433,"user_id":1469530,"display_name":"Shlomo Georg Konwisser"},"score":0,"creation_date":1546299087,"post_id":1689769,"comment_id":94821863,"body_markdown":"My experience contradicts with @Ward&#39;s comment: when I use a value like &quot;no_validation&quot;, I get:\n\n```\njava.lang.IllegalArgumentException: Unrecognized legacy `hibernate.hbm2ddl.auto` value : no_validation\n```","body":"My experience contradicts with @Ward&#39;s comment: when I use a value like &quot;no_validation&quot;, I get:  ``` java.lang.IllegalArgumentException: Unrecognized legacy <code>hibernate.hbm2ddl.auto</code> value : no_validation ```"}],"tags":[],"owner":{"account_id":10893,"reputation":48802,"user_id":20774,"accept_rate":92,"display_name":"James McMahon"},"comment_count":13,"down_vote_count":0,"up_vote_count":1227,"is_accepted":false,"score":1227,"last_activity_date":1673239372,"creation_date":1257535502,"answer_id":1689769,"question_id":438146,"body_markdown":"From the [community documentation][1]:\r\n\r\n&gt;hibernate.hbm2ddl.auto    Automatically validates or exports schema DDL to the database when the SessionFactory is created. With create-drop, the database schema will be dropped when the SessionFactory is closed explicitly.\r\n&gt;\r\n&gt;e.g. validate | update | create | create-drop \r\n\r\nSo the list of possible options are,\r\n\r\n- *validate*: validate the schema, makes no changes to the database.\r\n- *create-only*: database creation will be generated.\r\n- *drop*: database dropping will be generated.\r\n- *update*: update the schema.\r\n- *create*: creates the schema, destroying previous data.\r\n- *create-drop*: drop the schema when the SessionFactory is closed explicitly, typically when the application is stopped.\r\n- *none*: does nothing with the schema, makes no changes to the database\r\n\r\nThese options seem intended to be developers tools and not to facilitate any production level databases, you may want to have a look at the following question; [Hibernate: hbm2ddl.auto=update in production?][2]\r\n\r\n  [1]: https://docs.jboss.org/hibernate/orm/6.2/userguide/html_single/Hibernate_User_Guide.html#configurations-hbmddl\r\n  [2]: https://stackoverflow.com/questions/221379/hibernate-hbm2ddl-autoupdate-in-production","title":"What are the possible values of the Hibernate hbm2ddl.auto configuration and what do they do","body":"<p>From the <a href=\"https://docs.jboss.org/hibernate/orm/6.2/userguide/html_single/Hibernate_User_Guide.html#configurations-hbmddl\" rel=\"noreferrer\">community documentation</a>:</p>\n<blockquote>\n<p>hibernate.hbm2ddl.auto    Automatically validates or exports schema DDL to the database when the SessionFactory is created. With create-drop, the database schema will be dropped when the SessionFactory is closed explicitly.</p>\n<p>e.g. validate | update | create | create-drop</p>\n</blockquote>\n<p>So the list of possible options are,</p>\n<ul>\n<li><em>validate</em>: validate the schema, makes no changes to the database.</li>\n<li><em>create-only</em>: database creation will be generated.</li>\n<li><em>drop</em>: database dropping will be generated.</li>\n<li><em>update</em>: update the schema.</li>\n<li><em>create</em>: creates the schema, destroying previous data.</li>\n<li><em>create-drop</em>: drop the schema when the SessionFactory is closed explicitly, typically when the application is stopped.</li>\n<li><em>none</em>: does nothing with the schema, makes no changes to the database</li>\n</ul>\n<p>These options seem intended to be developers tools and not to facilitate any production level databases, you may want to have a look at the following question; <a href=\"https://stackoverflow.com/questions/221379/hibernate-hbm2ddl-autoupdate-in-production\">Hibernate: hbm2ddl.auto=update in production?</a></p>\n"},{"comments":[{"owner":{"account_id":237529,"reputation":18988,"user_id":2621917,"accept_rate":80,"display_name":"Michael Piefel"},"score":10,"creation_date":1340182271,"post_id":10951187,"comment_id":14562827,"body_markdown":"This is actually quite useful since Hibernate’s schema validation sometimes fails for perfectly valid schemas.","body":"This is actually quite useful since Hibernate’s schema validation sometimes fails for perfectly valid schemas."},{"owner":{"account_id":130264,"reputation":1294,"user_id":329408,"display_name":"digao_mb"},"score":1,"creation_date":1383850588,"post_id":10951187,"comment_id":29510894,"body_markdown":"I was just about to ask for something like this. My intention is to reduce startup time.","body":"I was just about to ask for something like this. My intention is to reduce startup time."},{"owner":{"account_id":441398,"reputation":423,"user_id":831470,"display_name":"arpadf"},"score":0,"creation_date":1396630646,"post_id":10951187,"comment_id":34890997,"body_markdown":"The &#39;none&#39; value is very useful also when you want to use dynamic/programmatic configuration of Hibernate; any other value would cause an error when the application is started.","body":"The &#39;none&#39; value is very useful also when you want to use dynamic/programmatic configuration of Hibernate; any other value would cause an error when the application is started."},{"owner":{"account_id":492994,"reputation":3705,"user_id":1271412,"accept_rate":78,"display_name":"petertc"},"score":52,"creation_date":1402038854,"post_id":10951187,"comment_id":37128488,"body_markdown":"**&#39;empty string&#39; is better than &#39;none&#39;**. To use &#39;none&#39;, you will receive warning message: org.hibernate.cfg.SettingsFactory  - Unrecognized value for &quot;hibernate.hbm2ddl.auto&quot;: none","body":"<b>&#39;empty string&#39; is better than &#39;none&#39;</b>. To use &#39;none&#39;, you will receive warning message: org.hibernate.cfg.SettingsFactory  - Unrecognized value for &quot;hibernate.hbm2ddl.auto&quot;: none"},{"owner":{"account_id":272310,"reputation":6057,"user_id":563323,"display_name":"Sanne"},"score":18,"creation_date":1462274652,"post_id":10951187,"comment_id":61558190,"body_markdown":"I&#39;ve patched it. Added &quot;none&quot; as an explicitly valid constant.","body":"I&#39;ve patched it. Added &quot;none&quot; as an explicitly valid constant."},{"owner":{"account_id":445792,"reputation":1039,"user_id":838444,"display_name":"Sneg"},"score":11,"creation_date":1469017533,"post_id":10951187,"comment_id":64364490,"body_markdown":"I like &quot;hibernate.hbm2ddl.auto=potato&quot; over others http://stackoverflow.com/a/15810379/838444","body":"I like &quot;hibernate.hbm2ddl.auto=potato&quot; over others <a href=\"http://stackoverflow.com/a/15810379/838444\">stackoverflow.com/a/15810379/838444</a>"},{"owner":{"account_id":285638,"reputation":10283,"user_id":584420,"accept_rate":60,"display_name":"James Jithin"},"score":0,"creation_date":1492716361,"post_id":10951187,"comment_id":74109481,"body_markdown":"Look for log &quot;Unrecognized hbm2ddl_auto value : none.  Supported values include create, create-drop, update, and validate.  Ignoring&quot;. :D","body":"Look for log &quot;Unrecognized hbm2ddl_auto value : none.  Supported values include create, create-drop, update, and validate.  Ignoring&quot;. :D"}],"tags":[],"owner":{"account_id":1401059,"reputation":2551,"user_id":1329839,"display_name":"Michiel Verkaik"},"comment_count":7,"down_vote_count":0,"up_vote_count":212,"is_accepted":false,"score":212,"last_activity_date":1673249841,"creation_date":1339167134,"answer_id":10951187,"question_id":438146,"body_markdown":"There&#39;s also the value of [`none`][1] to disable it entirely.\r\n\r\n[1]: https://docs.jboss.org/hibernate/orm/6.2/userguide/html_single/Hibernate_User_Guide.html#configurations-hbmddl","title":"What are the possible values of the Hibernate hbm2ddl.auto configuration and what do they do","body":"<p>There's also the value of <a href=\"https://docs.jboss.org/hibernate/orm/6.2/userguide/html_single/Hibernate_User_Guide.html#configurations-hbmddl\" rel=\"noreferrer\"><code>none</code></a> to disable it entirely.</p>\n"},{"tags":[],"owner":{"account_id":1003809,"reputation":2773,"user_id":1018054,"accept_rate":73,"display_name":"Vishal Sharma"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1340244744,"creation_date":1340244744,"answer_id":11130672,"question_id":438146,"body_markdown":"I Think you should have to concentrate on the \r\n\r\n    SchemaExport Class \r\n\r\nthis Class Makes Your Configuration Dynamic \r\nSo it allows you to choose whatever suites you best...\r\n\r\nCheckout [\\[SchemaExport\\]][1]\r\n\r\n\r\n  [1]: http://docs.jboss.org/hibernate/orm/3.5/api/org/hibernate/tool/hbm2ddl/SchemaExport.html","title":"What are the possible values of the Hibernate hbm2ddl.auto configuration and what do they do","body":"<p>I Think you should have to concentrate on the </p>\n\n<pre><code>SchemaExport Class \n</code></pre>\n\n<p>this Class Makes Your Configuration Dynamic \nSo it allows you to choose whatever suites you best...</p>\n\n<p>Checkout <a href=\"http://docs.jboss.org/hibernate/orm/3.5/api/org/hibernate/tool/hbm2ddl/SchemaExport.html\" rel=\"noreferrer\">[SchemaExport]</a></p>\n"},{"comments":[{"owner":{"account_id":3702826,"reputation":683,"user_id":3082046,"accept_rate":50,"display_name":"xagaffar"},"score":0,"creation_date":1612441070,"post_id":23678638,"comment_id":116770794,"body_markdown":"`drop` doesn&#39;t seem to be a valid option. Which version of hibernate are you referring to?","body":"<code>drop</code> doesn&#39;t seem to be a valid option. Which version of hibernate are you referring to?"},{"owner":{"account_id":1012936,"reputation":145178,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"score":1,"creation_date":1612444857,"post_id":23678638,"comment_id":116772580,"body_markdown":"It&#39;s been a valid option since Hibernate 5.1, which was released in 2016. Check out the [`Action`](https://github.com/hibernate/hibernate-orm/blob/5eedda9a467fef44d924f64203023b2345b8415f/hibernate-core/src/main/java/org/hibernate/tool/schema/Action.java#L35) enum for more details. I assume you are using a very old Hibernate version.","body":"It&#39;s been a valid option since Hibernate 5.1, which was released in 2016. Check out the <a href=\"https://github.com/hibernate/hibernate-orm/blob/5eedda9a467fef44d924f64203023b2345b8415f/hibernate-core/src/main/java/org/hibernate/tool/schema/Action.java#L35\" rel=\"nofollow noreferrer\"><code>Action</code></a> enum for more details. I assume you are using a very old Hibernate version."},{"owner":{"account_id":5362341,"reputation":688,"user_id":4273204,"accept_rate":0,"display_name":"Akash Verma"},"score":0,"creation_date":1621698139,"post_id":23678638,"comment_id":119576466,"body_markdown":"what is the exact difference between validate vs update.","body":"what is the exact difference between validate vs update."},{"owner":{"account_id":1012936,"reputation":145178,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"score":1,"creation_date":1621702004,"post_id":23678638,"comment_id":119577636,"body_markdown":"The answer tells the difference.","body":"The answer tells the difference."}],"tags":[],"owner":{"account_id":1012936,"reputation":145178,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"comment_count":4,"down_vote_count":0,"up_vote_count":108,"is_accepted":false,"score":108,"last_activity_date":1610258708,"creation_date":1400157972,"answer_id":23678638,"question_id":438146,"body_markdown":"First, the possible values for the `hbm2ddl` configuration property are the following ones:\r\n\r\n- `none` - No action is performed. The schema will not be generated.\r\n- `create-only` - The database schema will be generated.\r\n- `drop` - The database schema will be dropped.\r\n- `create` - The database schema will be dropped and created afterward.\r\n- `create-drop` - The database schema will be dropped and created afterward. Upon closing the `SessionFactory`, the database schema will be dropped.\r\n- `validate` - The database schema will be validated using the entity mappings.\r\n- `update` - The database schema will be updated by comparing the existing database schema with the entity mappings.\r\n\r\nThe `hibernate.hbm2ddl.auto=&quot;update&quot;` is convenient but less flexible if you plan on adding functions or executing some custom scripts. \r\n\r\nSo, The *most flexible approach* is to use [Flyway][3].\r\n\r\nHowever, even if you use Flyway, you can still generate the initial migration script using hbm2ddl.\r\n\r\n  [3]: https://flywaydb.org/","title":"What are the possible values of the Hibernate hbm2ddl.auto configuration and what do they do","body":"<p>First, the possible values for the <code>hbm2ddl</code> configuration property are the following ones:</p>\n<ul>\n<li><code>none</code> - No action is performed. The schema will not be generated.</li>\n<li><code>create-only</code> - The database schema will be generated.</li>\n<li><code>drop</code> - The database schema will be dropped.</li>\n<li><code>create</code> - The database schema will be dropped and created afterward.</li>\n<li><code>create-drop</code> - The database schema will be dropped and created afterward. Upon closing the <code>SessionFactory</code>, the database schema will be dropped.</li>\n<li><code>validate</code> - The database schema will be validated using the entity mappings.</li>\n<li><code>update</code> - The database schema will be updated by comparing the existing database schema with the entity mappings.</li>\n</ul>\n<p>The <code>hibernate.hbm2ddl.auto=&quot;update&quot;</code> is convenient but less flexible if you plan on adding functions or executing some custom scripts.</p>\n<p>So, The <em>most flexible approach</em> is to use <a href=\"https://flywaydb.org/\" rel=\"noreferrer\">Flyway</a>.</p>\n<p>However, even if you use Flyway, you can still generate the initial migration script using hbm2ddl.</p>\n"},{"comments":[{"owner":{"account_id":4089780,"reputation":1489,"user_id":3358126,"accept_rate":44,"display_name":"Pavel Niedoba"},"score":5,"creation_date":1438159265,"post_id":28428698,"comment_id":51330948,"body_markdown":"Why is reference to 700+ lines long source file above straight answer with almost 500 vole ups ?","body":"Why is reference to 700+ lines long source file above straight answer with almost 500 vole ups ?"},{"owner":{"account_id":143496,"reputation":1912,"user_id":351861,"display_name":"specializt"},"score":0,"creation_date":1542300103,"post_id":28428698,"comment_id":93528680,"body_markdown":"... that question doesnt make any sense. Why are there things? Why am i even here?","body":"... that question doesnt make any sense. Why are there things? Why am i even here?"}],"tags":[],"owner":{"account_id":108117,"reputation":9982,"user_id":287138,"accept_rate":82,"display_name":"Stefan Haberl"},"comment_count":2,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1433758650,"creation_date":1423562195,"answer_id":28428698,"question_id":438146,"body_markdown":"If you don&#39;t want to use Strings in your app and are looking for predefined constants have a look at `org.hibernate.cfg.AvailableSettings` class included in the Hibernate JAR, where you&#39;ll find a constant for all possible settings. In your case for example:\r\n\r\n\t/**\r\n\t * Auto export/update schema using hbm2ddl tool. Valid values are &lt;tt&gt;update&lt;/tt&gt;,\r\n\t * &lt;tt&gt;create&lt;/tt&gt;, &lt;tt&gt;create-drop&lt;/tt&gt; and &lt;tt&gt;validate&lt;/tt&gt;.\r\n\t */\r\n\tString HBM2DDL_AUTO = &quot;hibernate.hbm2ddl.auto&quot;;","title":"What are the possible values of the Hibernate hbm2ddl.auto configuration and what do they do","body":"<p>If you don't want to use Strings in your app and are looking for predefined constants have a look at <code>org.hibernate.cfg.AvailableSettings</code> class included in the Hibernate JAR, where you'll find a constant for all possible settings. In your case for example:</p>\n\n<pre><code>/**\n * Auto export/update schema using hbm2ddl tool. Valid values are &lt;tt&gt;update&lt;/tt&gt;,\n * &lt;tt&gt;create&lt;/tt&gt;, &lt;tt&gt;create-drop&lt;/tt&gt; and &lt;tt&gt;validate&lt;/tt&gt;.\n */\nString HBM2DDL_AUTO = \"hibernate.hbm2ddl.auto\";\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5648860,"reputation":9049,"user_id":4470135,"accept_rate":54,"display_name":"yuranos"},"score":0,"creation_date":1518164591,"post_id":38814972,"comment_id":84401362,"body_markdown":"It&#39;s indeed a very important point that schema will be created if it doesn&#39;t exist, when &quot;update&quot; is used.","body":"It&#39;s indeed a very important point that schema will be created if it doesn&#39;t exist, when &quot;update&quot; is used."},{"owner":{"account_id":3329744,"reputation":944,"user_id":2798950,"accept_rate":100,"display_name":"VNT"},"score":0,"creation_date":1524644000,"post_id":38814972,"comment_id":87050556,"body_markdown":"create-drop is contradicted when compare &quot;Explanation of the behaviour&quot; and &quot;Important Points&quot; statements.","body":"create-drop is contradicted when compare &quot;Explanation of the behaviour&quot; and &quot;Important Points&quot; statements."},{"owner":{"account_id":8389289,"reputation":723,"user_id":6298537,"display_name":"yashjain12yj"},"score":2,"creation_date":1568724984,"post_id":38814972,"comment_id":102359066,"body_markdown":"What&#39;s the difference between **update** and **empty**?","body":"What&#39;s the difference between <b>update</b> and <b>empty</b>?"}],"tags":[],"owner":{"account_id":2663342,"reputation":907,"user_id":2302492,"display_name":"amit"},"comment_count":3,"down_vote_count":0,"up_vote_count":51,"is_accepted":false,"score":51,"last_activity_date":1470585028,"creation_date":1470579111,"answer_id":38814972,"question_id":438146,"body_markdown":"Although it is quite an old post but as i did some research on the topic so thought of sharing it.\r\n\r\n***hibernate.hbm2ddl.auto***\r\n\r\nAs per the documentation it can have four valid values:&lt;br/&gt;\r\n\r\n***create  |  update  |  validate  |  create-drop***\r\n\r\nFollowing is the explanation of the behaviour shown by these value:\r\n\r\n - *create* :- create the schema, the data previously present (if there) in the schema is lost\r\n - update:- update the schema with the given values.\r\n - validate:- validate the schema. It makes no change in the DB.\r\n - create-drop:- create the schema with destroying the data previously present(if there). It also drop the database schema when the SessionFactory is closed.\r\n\r\nFollowing are the important points worth noting:\r\n\r\n - In case of ***update***, if schema is not present in the DB then the schema is created.\r\n - In case of ***validate***, if schema does not exists in DB, it is not created. Instead, it will throw an error:- `Table not found:&lt;table name&gt;`\r\n - In case of ***create-drop***, schema is not dropped on closing the session. It drops only on closing the SessionFactory.\r\n - In case if i give any value to this property(say abc, instead of above four values discussed above) or it is just left blank. It shows following behaviour:\r\n    \r\n     -If schema is not present in the DB:- It creates the schema\r\n   \r\n     -If schema is present in the DB:- ***update*** the schema.\r\n\r\n","title":"What are the possible values of the Hibernate hbm2ddl.auto configuration and what do they do","body":"<p>Although it is quite an old post but as i did some research on the topic so thought of sharing it.</p>\n\n<p><strong><em>hibernate.hbm2ddl.auto</em></strong></p>\n\n<p>As per the documentation it can have four valid values:<br/></p>\n\n<p><strong><em>create  |  update  |  validate  |  create-drop</em></strong></p>\n\n<p>Following is the explanation of the behaviour shown by these value:</p>\n\n<ul>\n<li><em>create</em> :- create the schema, the data previously present (if there) in the schema is lost</li>\n<li>update:- update the schema with the given values.</li>\n<li>validate:- validate the schema. It makes no change in the DB.</li>\n<li>create-drop:- create the schema with destroying the data previously present(if there). It also drop the database schema when the SessionFactory is closed.</li>\n</ul>\n\n<p>Following are the important points worth noting:</p>\n\n<ul>\n<li>In case of <strong><em>update</em></strong>, if schema is not present in the DB then the schema is created.</li>\n<li>In case of <strong><em>validate</em></strong>, if schema does not exists in DB, it is not created. Instead, it will throw an error:- <code>Table not found:&lt;table name&gt;</code></li>\n<li>In case of <strong><em>create-drop</em></strong>, schema is not dropped on closing the session. It drops only on closing the SessionFactory.</li>\n<li><p>In case if i give any value to this property(say abc, instead of above four values discussed above) or it is just left blank. It shows following behaviour:</p>\n\n<p>-If schema is not present in the DB:- It creates the schema</p>\n\n<p>-If schema is present in the DB:- <strong><em>update</em></strong> the schema.</p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":93845,"reputation":4170,"user_id":256561,"accept_rate":100,"display_name":"Doc Davluz"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1471608972,"creation_date":1470912310,"answer_id":38894203,"question_id":438146,"body_markdown":"**Since 5.0**, you can now find those values in a dedicated `Enum`: [`org.hibernate.boot.SchemaAutoTooling`][1] (enhanced with value `NONE` since 5.2).\r\n\r\nOr even better, **since 5.1**, you can also use the [`org.hibernate.tool.schema.Action`][2] `Enum` which combines JPA 2 and &quot;legacy&quot; Hibernate DDL actions.\r\n\r\n**But**, you cannot yet configure a `DataSource` programmatically with this. It would be nicer to use this combined with [`org.hibernate.cfg.AvailableSettings#HBM2DDL_AUTO`][3] but the current code expect a `String` value (excerpt taken from [`SessionFactoryBuilderImpl`][6]):\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    this.schemaAutoTooling = SchemaAutoTooling.interpret( (String) configurationSettings.get( AvailableSettings.HBM2DDL_AUTO ) );\r\n\r\n… and internal `enum` values of both [`org.hibernate.boot.SchemaAutoTooling`][4]and [`org.hibernate.tool.schema.Action`][5] aren&#39;t exposed publicly.\r\n\r\nHereunder, a sample programmatic `DataSource` configuration (used in ones of my Spring Boot applications) which use a gambit thanks to `.name().toLowerCase()` but it only works with values without dash (not `create-drop` for instance):\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    @Bean(name = ENTITY_MANAGER_NAME)\r\n    public LocalContainerEntityManagerFactoryBean internalEntityManagerFactory(\r\n            EntityManagerFactoryBuilder builder,\r\n            @Qualifier(DATA_SOURCE_NAME) DataSource internalDataSource) {\r\n\r\n        Map&lt;String, Object&gt; properties = new HashMap&lt;&gt;();\r\n        properties.put(AvailableSettings.HBM2DDL_AUTO, SchemaAutoTooling.CREATE.name().toLowerCase());\r\n        properties.put(AvailableSettings.DIALECT, H2Dialect.class.getName());\r\n\r\n        return builder\r\n                .dataSource(internalDataSource)\r\n                .packages(JpaModelsScanEntry.class, Jsr310JpaConverters.class)\r\n                .persistenceUnit(PERSISTENCE_UNIT_NAME)\r\n                .properties(properties)\r\n                .build();\r\n    }\r\n\r\n\r\n  [1]: http://docs.jboss.org/hibernate/orm/5.0/javadocs/org/hibernate/boot/SchemaAutoTooling.html\r\n  [2]: http://docs.jboss.org/hibernate/orm/5.1/javadocs/org/hibernate/tool/schema/Action.html\r\n  [3]: http://docs.jboss.org/hibernate/orm/5.0/javadocs/org/hibernate/cfg/AvailableSettings.html#HBM2DDL_AUTO\r\n  [4]: https://github.com/hibernate/hibernate-orm/blob/5.2.2/hibernate-core/src/main/java/org/hibernate/boot/SchemaAutoTooling.java\r\n  [5]: https://github.com/hibernate/hibernate-orm/blob/5.2.2/hibernate-core/src/main/java/org/hibernate/tool/schema/Action.java\r\n  [6]: https://github.com/hibernate/hibernate-orm/blob/5.2.2/hibernate-core/src/main/java/org/hibernate/boot/internal/SessionFactoryBuilderImpl.java#L711","title":"What are the possible values of the Hibernate hbm2ddl.auto configuration and what do they do","body":"<p><strong>Since 5.0</strong>, you can now find those values in a dedicated <code>Enum</code>: <a href=\"http://docs.jboss.org/hibernate/orm/5.0/javadocs/org/hibernate/boot/SchemaAutoTooling.html\" rel=\"nofollow\"><code>org.hibernate.boot.SchemaAutoTooling</code></a> (enhanced with value <code>NONE</code> since 5.2).</p>\n\n<p>Or even better, <strong>since 5.1</strong>, you can also use the <a href=\"http://docs.jboss.org/hibernate/orm/5.1/javadocs/org/hibernate/tool/schema/Action.html\" rel=\"nofollow\"><code>org.hibernate.tool.schema.Action</code></a> <code>Enum</code> which combines JPA 2 and \"legacy\" Hibernate DDL actions.</p>\n\n<p><strong>But</strong>, you cannot yet configure a <code>DataSource</code> programmatically with this. It would be nicer to use this combined with <a href=\"http://docs.jboss.org/hibernate/orm/5.0/javadocs/org/hibernate/cfg/AvailableSettings.html#HBM2DDL_AUTO\" rel=\"nofollow\"><code>org.hibernate.cfg.AvailableSettings#HBM2DDL_AUTO</code></a> but the current code expect a <code>String</code> value (excerpt taken from <a href=\"https://github.com/hibernate/hibernate-orm/blob/5.2.2/hibernate-core/src/main/java/org/hibernate/boot/internal/SessionFactoryBuilderImpl.java#L711\" rel=\"nofollow\"><code>SessionFactoryBuilderImpl</code></a>):</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>this.schemaAutoTooling = SchemaAutoTooling.interpret( (String) configurationSettings.get( AvailableSettings.HBM2DDL_AUTO ) );\n</code></pre>\n\n<p>… and internal <code>enum</code> values of both <a href=\"https://github.com/hibernate/hibernate-orm/blob/5.2.2/hibernate-core/src/main/java/org/hibernate/boot/SchemaAutoTooling.java\" rel=\"nofollow\"><code>org.hibernate.boot.SchemaAutoTooling</code></a>and <a href=\"https://github.com/hibernate/hibernate-orm/blob/5.2.2/hibernate-core/src/main/java/org/hibernate/tool/schema/Action.java\" rel=\"nofollow\"><code>org.hibernate.tool.schema.Action</code></a> aren't exposed publicly.</p>\n\n<p>Hereunder, a sample programmatic <code>DataSource</code> configuration (used in ones of my Spring Boot applications) which use a gambit thanks to <code>.name().toLowerCase()</code> but it only works with values without dash (not <code>create-drop</code> for instance):</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Bean(name = ENTITY_MANAGER_NAME)\npublic LocalContainerEntityManagerFactoryBean internalEntityManagerFactory(\n        EntityManagerFactoryBuilder builder,\n        @Qualifier(DATA_SOURCE_NAME) DataSource internalDataSource) {\n\n    Map&lt;String, Object&gt; properties = new HashMap&lt;&gt;();\n    properties.put(AvailableSettings.HBM2DDL_AUTO, SchemaAutoTooling.CREATE.name().toLowerCase());\n    properties.put(AvailableSettings.DIALECT, H2Dialect.class.getName());\n\n    return builder\n            .dataSource(internalDataSource)\n            .packages(JpaModelsScanEntry.class, Jsr310JpaConverters.class)\n            .persistenceUnit(PERSISTENCE_UNIT_NAME)\n            .properties(properties)\n            .build();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":450009,"reputation":1499,"user_id":845117,"display_name":"Dirk Schumacher"},"score":0,"creation_date":1573986070,"post_id":42576925,"comment_id":104062793,"body_markdown":"Whats the &#39;official&#39; documentation reference? - just wondering...","body":"Whats the &#39;official&#39; documentation reference? - just wondering..."}],"tags":[],"owner":{"account_id":7455476,"reputation":629,"user_id":5668886,"display_name":"vishal thakur"},"comment_count":1,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1555446647,"creation_date":1488538298,"answer_id":42576925,"question_id":438146,"body_markdown":"- `validate`: validates the schema, no change happens to the database.\r\n- `update`: updates the schema with current execute query.\r\n- `create`: creates new schema every time, and destroys previous data.\r\n- `create-drop`: drops the schema when the application is stopped or SessionFactory is closed explicitly.","title":"What are the possible values of the Hibernate hbm2ddl.auto configuration and what do they do","body":"<ul>\n<li><code>validate</code>: validates the schema, no change happens to the database.</li>\n<li><code>update</code>: updates the schema with current execute query.</li>\n<li><code>create</code>: creates new schema every time, and destroys previous data.</li>\n<li><code>create-drop</code>: drops the schema when the application is stopped or SessionFactory is closed explicitly.</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":3329744,"reputation":944,"user_id":2798950,"accept_rate":100,"display_name":"VNT"},"score":3,"creation_date":1524643626,"post_id":43922047,"comment_id":87050313,"body_markdown":"what about &lt;entry key=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;none&quot;&gt; ?","body":"what about &lt;entry key=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;none&quot;&gt; ?"}],"tags":[],"owner":{"account_id":8479306,"reputation":741,"user_id":6359443,"display_name":"Vinod Kumawat"},"comment_count":1,"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1499689228,"creation_date":1494523590,"answer_id":43922047,"question_id":438146,"body_markdown":"`hibernate.hbm2ddl.auto` automatically validates and exports DDL to the schema when the sessionFactory is created.\r\n\r\nBy default, it does not perform any creation or modification automatically on DB. If the user sets one of the below values then it is doing DDL schema changes automatically.\r\n\r\n * create - doing creating a schema\r\n\r\n        &lt;entry key=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;create&quot;&gt;\r\n\r\n * update - updating existing schema\r\n\r\n        &lt;entry key=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;update&quot;&gt;\r\n\r\n * validate - validate existing schema\r\n\r\n        &lt;entry key=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;validate&quot;&gt;\r\n\r\n * create-drop - create and drop the schema automatically when a session is starts and ends\r\n\r\n        &lt;entry key=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;create-drop&quot;&gt;","title":"What are the possible values of the Hibernate hbm2ddl.auto configuration and what do they do","body":"<p><code>hibernate.hbm2ddl.auto</code> automatically validates and exports DDL to the schema when the sessionFactory is created.</p>\n\n<p>By default, it does not perform any creation or modification automatically on DB. If the user sets one of the below values then it is doing DDL schema changes automatically.</p>\n\n<ul>\n<li><p>create - doing creating a schema</p>\n\n<pre><code>&lt;entry key=\"hibernate.hbm2ddl.auto\" value=\"create\"&gt;\n</code></pre></li>\n<li><p>update - updating existing schema</p>\n\n<pre><code>&lt;entry key=\"hibernate.hbm2ddl.auto\" value=\"update\"&gt;\n</code></pre></li>\n<li><p>validate - validate existing schema</p>\n\n<pre><code>&lt;entry key=\"hibernate.hbm2ddl.auto\" value=\"validate\"&gt;\n</code></pre></li>\n<li><p>create-drop - create and drop the schema automatically when a session is starts and ends</p>\n\n<pre><code>&lt;entry key=\"hibernate.hbm2ddl.auto\" value=\"create-drop\"&gt;\n</code></pre></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":5448501,"reputation":1780,"user_id":4334162,"display_name":"Arun Raaj"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1508078697,"creation_date":1508078697,"answer_id":46756282,"question_id":438146,"body_markdown":"`validate`: It validates the schema and makes no changes to the DB.        \r\nAssume you have added a new column in the mapping file and perform the insert operation, it will throw an Exception &quot;missing the XYZ column&quot; because the existing schema is different than the object you are going to insert. If you alter the table by adding that new column manually then perform the Insert operation then it will definitely insert all columns along with the new column to the Table.\r\nMeans it doesn&#39;t make any changes/alters the existing schema/table.\r\n\r\n`update`: it alters the existing table in the database when you perform operation. \r\nYou can add or remove columns with this option of hbm2ddl. \r\nBut if you are going to add a new column that is &#39;NOT NULL&#39; then it will ignore adding that particular column to the DB. Because the Table must be empty if you want to add a &#39;NOT NULL&#39; column to the existing table. ","title":"What are the possible values of the Hibernate hbm2ddl.auto configuration and what do they do","body":"<p><code>validate</code>: It validates the schema and makes no changes to the DB.<br>\nAssume you have added a new column in the mapping file and perform the insert operation, it will throw an Exception \"missing the XYZ column\" because the existing schema is different than the object you are going to insert. If you alter the table by adding that new column manually then perform the Insert operation then it will definitely insert all columns along with the new column to the Table.\nMeans it doesn't make any changes/alters the existing schema/table.</p>\n\n<p><code>update</code>: it alters the existing table in the database when you perform operation. \nYou can add or remove columns with this option of hbm2ddl. \nBut if you are going to add a new column that is 'NOT NULL' then it will ignore adding that particular column to the DB. Because the Table must be empty if you want to add a 'NOT NULL' column to the existing table. </p>\n"},{"tags":[],"owner":{"account_id":3401908,"reputation":431,"user_id":2853874,"accept_rate":86,"display_name":"ibrahim demir"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1607586509,"creation_date":1590174625,"answer_id":61962252,"question_id":438146,"body_markdown":"To whomever searching for default value...\r\n\r\nIt is written in the source code at version 2.0.5 of spring-boot and 1.1.0 at JpaProperties:\r\n\r\n\t\t/**\r\n\t\t * DDL mode. This is actually a shortcut for the &quot;hibernate.hbm2ddl.auto&quot;\r\n\t\t * property. Defaults to &quot;create-drop&quot; when using an embedded database and no\r\n\t\t * schema manager was detected. Otherwise, defaults to &quot;none&quot;.\r\n\t\t */\r\n\t\tprivate String ddlAuto;","title":"What are the possible values of the Hibernate hbm2ddl.auto configuration and what do they do","body":"<p>To whomever searching for default value...</p>\n<p>It is written in the source code at version 2.0.5 of spring-boot and 1.1.0 at JpaProperties:</p>\n<pre><code>    /**\n     * DDL mode. This is actually a shortcut for the &quot;hibernate.hbm2ddl.auto&quot;\n     * property. Defaults to &quot;create-drop&quot; when using an embedded database and no\n     * schema manager was detected. Otherwise, defaults to &quot;none&quot;.\n     */\n    private String ddlAuto;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5745825,"reputation":11553,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631775256,"creation_date":1631775256,"answer_id":69203657,"question_id":438146,"body_markdown":"With all above said...\r\nNotice this property is called `dll.auto` and should only control dll operations(create/drop schema/table), I found surprisingly that it has to do with dml, too: only `update` will allow insert data, which is dml operation. \r\n\r\nGot caught by this when trying to populate data into a in-memory database; only `update` works. ","title":"What are the possible values of the Hibernate hbm2ddl.auto configuration and what do they do","body":"<p>With all above said...\nNotice this property is called <code>dll.auto</code> and should only control dll operations(create/drop schema/table), I found surprisingly that it has to do with dml, too: only <code>update</code> will allow insert data, which is dml operation.</p>\n<p>Got caught by this when trying to populate data into a in-memory database; only <code>update</code> works.</p>\n"}],"owner":{"display_name":"Suzan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1305760,"favorite_count":0,"down_vote_count":4,"up_vote_count":1257,"answer_count":14,"score":1253,"last_activity_date":1673249841,"creation_date":1231828848,"question_id":438146,"body_markdown":"I really want to know more about the update, export and the values that could be given to `hibernate.hbm2ddl.auto`&lt;br&gt;\r\nI need to know when to use the update and when not? And what is the alternative?\r\n \r\nThese are changes that could happen over DB:\r\n\r\n- new tables\r\n- new columns in old tables\r\n- columns deleted\r\n- data type of a column changed\r\n- a type of a column changed its attributes\r\n- tables dropped\r\n- values of a column changed \r\n\r\nIn each case what is the best solution?","title":"What are the possible values of the Hibernate hbm2ddl.auto configuration and what do they do","body":"<p>I really want to know more about the update, export and the values that could be given to <code>hibernate.hbm2ddl.auto</code><br>\nI need to know when to use the update and when not? And what is the alternative?</p>\n\n<p>These are changes that could happen over DB:</p>\n\n<ul>\n<li>new tables</li>\n<li>new columns in old tables</li>\n<li>columns deleted</li>\n<li>data type of a column changed</li>\n<li>a type of a column changed its attributes</li>\n<li>tables dropped</li>\n<li>values of a column changed </li>\n</ul>\n\n<p>In each case what is the best solution?</p>\n"},{"tags":["java","gradle"],"comments":[{"owner":{"account_id":15663576,"reputation":2342,"user_id":11301941,"display_name":"George"},"score":0,"creation_date":1673219747,"post_id":75051949,"comment_id":132443326,"body_markdown":"You can use it like a sub-project, or even build a jar and include it in the `dependencies` section of your `build.gradle`, or create a library and publish it over maven local. Which way is more fit for you so I can explain a bit more about.","body":"You can use it like a sub-project, or even build a jar and include it in the <code>dependencies</code> section of your <code>build.gradle</code>, or create a library and publish it over maven local. Which way is more fit for you so I can explain a bit more about."},{"owner":{"account_id":4037842,"reputation":1821,"user_id":3321579,"accept_rate":62,"display_name":"Scorb"},"score":0,"creation_date":1673220113,"post_id":75051949,"comment_id":132443371,"body_markdown":"I want the build to work with all local dependencies. If I change code in one project I want the build of the other project to pick that up.","body":"I want the build to work with all local dependencies. If I change code in one project I want the build of the other project to pick that up."},{"owner":{"account_id":15663576,"reputation":2342,"user_id":11301941,"display_name":"George"},"score":0,"creation_date":1673220335,"post_id":75051949,"comment_id":132443406,"body_markdown":"hmmm, then would it be sufficient to say, That project2 depends on project1 ? if not, would there be an issue if you made a project3 as a parent for both of project1 and project2 ? I&#39;ve never had a case where I need to depend on another separate project, unless its just a piece of code only, this way project2 can act like a library for project1.","body":"hmmm, then would it be sufficient to say, That project2 depends on project1 ? if not, would there be an issue if you made a project3 as a parent for both of project1 and project2 ? I&#39;ve never had a case where I need to depend on another separate project, unless its just a piece of code only, this way project2 can act like a library for project1."},{"owner":{"account_id":4037842,"reputation":1821,"user_id":3321579,"accept_rate":62,"display_name":"Scorb"},"score":0,"creation_date":1673220454,"post_id":75051949,"comment_id":132443421,"body_markdown":"Yes. Project2 depends on Project1. I am not sure why this is not an incredibly common use case? I have a folder that contains a repo of java gradle project. I have another folder that contains a gradle java project that has a dependency on the first one. How can I do this?","body":"Yes. Project2 depends on Project1. I am not sure why this is not an incredibly common use case? I have a folder that contains a repo of java gradle project. I have another folder that contains a gradle java project that has a dependency on the first one. How can I do this?"},{"owner":{"account_id":15663576,"reputation":2342,"user_id":11301941,"display_name":"George"},"score":0,"creation_date":1673221044,"post_id":75051949,"comment_id":132443485,"body_markdown":"I&#39;ve added an answer, Its an incredibly common case unless I did not get well what you want. let me know if there is some issues.","body":"I&#39;ve added an answer, Its an incredibly common case unless I did not get well what you want. let me know if there is some issues."},{"owner":{"account_id":4623673,"reputation":6002,"user_id":4161471,"display_name":"aSemy"},"score":0,"creation_date":1673256803,"post_id":75051949,"comment_id":132449223,"body_markdown":"You can use [Composite Builds](https://docs.gradle.org/current/userguide/composite_builds.html) to &#39;connect&#39; two otherwise unrelated Gradle projects.","body":"You can use <a href=\"https://docs.gradle.org/current/userguide/composite_builds.html\" rel=\"nofollow noreferrer\">Composite Builds</a> to &#39;connect&#39; two otherwise unrelated Gradle projects."}],"answers":[{"comments":[{"owner":{"account_id":4037842,"reputation":1821,"user_id":3321579,"accept_rate":62,"display_name":"Scorb"},"score":0,"creation_date":1673221953,"post_id":75052055,"comment_id":132443612,"body_markdown":"I am not cloning project1 into project2. They exist as sibling directories, not one under the other. There are multiple projects that depend on project1, so I am not cloning it into every project.","body":"I am not cloning project1 into project2. They exist as sibling directories, not one under the other. There are multiple projects that depend on project1, so I am not cloning it into every project."},{"owner":{"account_id":15663576,"reputation":2342,"user_id":11301941,"display_name":"George"},"score":0,"creation_date":1673248418,"post_id":75052055,"comment_id":132447018,"body_markdown":"I&#39;ll update the answer.","body":"I&#39;ll update the answer."}],"tags":[],"owner":{"account_id":15663576,"reputation":2342,"user_id":11301941,"display_name":"George"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673249585,"creation_date":1673220991,"answer_id":75052055,"question_id":75051949,"body_markdown":"Well, According to the discussion in the comments, here is how to do it.\r\n\r\n`project1` has its own `build.gradle` and `setting.gradle` \r\n\r\ngo `setting.gradle` and add the following after cloning the repo inside `project1` folder:\r\n\r\n```\r\ninclude &#39;:project2&#39;\r\n```\r\n\r\nNow, In your `project1` in `build.gradle` file You can add `project2` to `dependencies` section so it will look like this :\r\n\r\n```\r\ndependencies {\r\n    // Use JUnit test framework.\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n\r\n    // This dependency is used by the application.\r\n    implementation &#39;com.google.guava:guava:30.1.1-jre&#39;\r\n    implementation project(&#39;:project2&#39;)\r\n}\r\n```\r\n\r\nthe final result :\r\n\r\nAny time you build `project1`, `project2` will be built as well.\r\n\r\nAny update for `project2` will be effected immediately to `project1` after any build operation.\r\n\r\nMight be helpful to read official [docs](https://docs.gradle.org/current/userguide/multi_project_builds.html) about multi project builds.\r\n\r\n\r\nIf you don&#39;t want to clone `project2` inside `project1`, Then build `project2` with gradle command line `gradle build`\r\n\r\nThis will result in a Jar file created at `project2/build/libs/project2-0.0.1-SNAPSHOT.jar`\r\n\r\nThen you can add it to `project1` with a relative path to this Jar like this:\r\n\r\n```\r\nimplementation files(&#39;../project2/build/libs/project2-0.0.1-SNAPSHOT.jar&#39;)\r\n```\r\n\r\n","title":"How can I add an external folder of java code to my gradle project with a relative path?","body":"<p>Well, According to the discussion in the comments, here is how to do it.</p>\n<p><code>project1</code> has its own <code>build.gradle</code> and <code>setting.gradle</code></p>\n<p>go <code>setting.gradle</code> and add the following after cloning the repo inside <code>project1</code> folder:</p>\n<pre><code>include ':project2'\n</code></pre>\n<p>Now, In your <code>project1</code> in <code>build.gradle</code> file You can add <code>project2</code> to <code>dependencies</code> section so it will look like this :</p>\n<pre><code>dependencies {\n    // Use JUnit test framework.\n    testImplementation 'junit:junit:4.13.2'\n\n    // This dependency is used by the application.\n    implementation 'com.google.guava:guava:30.1.1-jre'\n    implementation project(':project2')\n}\n</code></pre>\n<p>the final result :</p>\n<p>Any time you build <code>project1</code>, <code>project2</code> will be built as well.</p>\n<p>Any update for <code>project2</code> will be effected immediately to <code>project1</code> after any build operation.</p>\n<p>Might be helpful to read official <a href=\"https://docs.gradle.org/current/userguide/multi_project_builds.html\" rel=\"nofollow noreferrer\">docs</a> about multi project builds.</p>\n<p>If you don't want to clone <code>project2</code> inside <code>project1</code>, Then build <code>project2</code> with gradle command line <code>gradle build</code></p>\n<p>This will result in a Jar file created at <code>project2/build/libs/project2-0.0.1-SNAPSHOT.jar</code></p>\n<p>Then you can add it to <code>project1</code> with a relative path to this Jar like this:</p>\n<pre><code>implementation files('../project2/build/libs/project2-0.0.1-SNAPSHOT.jar')\n</code></pre>\n"}],"owner":{"account_id":4037842,"reputation":1821,"user_id":3321579,"accept_rate":62,"display_name":"Scorb"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673249585,"creation_date":1673219501,"question_id":75051949,"body_markdown":"I have a Gradle Java project that I want to reference other java code that exists in another repo. I am not quite sure how to do this.\r\n\r\nMy existing build.gradle\r\n\r\n    /*\r\n     * This file was generated by the Gradle &#39;init&#39; task.\r\n     *\r\n     * This generated file contains a sample Java application project to get you started.\r\n     * For more details take a look at the &#39;Building Java &amp; JVM projects&#39; chapter in the Gradle\r\n     * User Manual available at https://docs.gradle.org/7.2/userguide/building_java_projects.html\r\n     */\r\n    \r\n    plugins {\r\n        // Apply the application plugin to add support for building a CLI application in Java.\r\n        id &#39;application&#39;\r\n    }\r\n    \r\n    repositories {\r\n        // Use Maven Central for resolving dependencies.\r\n        mavenCentral()\r\n    }\r\n    \r\n    dependencies {\r\n        // Use JUnit test framework.\r\n        testImplementation &#39;junit:junit:4.13.2&#39;\r\n    \r\n        // This dependency is used by the application.\r\n        implementation &#39;com.google.guava:guava:30.1.1-jre&#39;\r\n    \r\n        // implementation project(&#39;:project1&#39;)\r\n        // implementation files(&#39;../../project1/lib/build/libs/lib.jar&#39;)\r\n    }\r\n    \r\n    application {\r\n        // Define the main class for the application.\r\n        mainClass = &#39;project2.App&#39;\r\n    }\r\n\r\nWhat can I add to this file, to have it reference a relative path that points to a folder with java source files in it?","title":"How can I add an external folder of java code to my gradle project with a relative path?","body":"<p>I have a Gradle Java project that I want to reference other java code that exists in another repo. I am not quite sure how to do this.</p>\n<p>My existing build.gradle</p>\n<pre><code>/*\n * This file was generated by the Gradle 'init' task.\n *\n * This generated file contains a sample Java application project to get you started.\n * For more details take a look at the 'Building Java &amp; JVM projects' chapter in the Gradle\n * User Manual available at https://docs.gradle.org/7.2/userguide/building_java_projects.html\n */\n\nplugins {\n    // Apply the application plugin to add support for building a CLI application in Java.\n    id 'application'\n}\n\nrepositories {\n    // Use Maven Central for resolving dependencies.\n    mavenCentral()\n}\n\ndependencies {\n    // Use JUnit test framework.\n    testImplementation 'junit:junit:4.13.2'\n\n    // This dependency is used by the application.\n    implementation 'com.google.guava:guava:30.1.1-jre'\n\n    // implementation project(':project1')\n    // implementation files('../../project1/lib/build/libs/lib.jar')\n}\n\napplication {\n    // Define the main class for the application.\n    mainClass = 'project2.App'\n}\n</code></pre>\n<p>What can I add to this file, to have it reference a relative path that points to a folder with java source files in it?</p>\n"},{"tags":["java","android","robotium"],"comments":[{"owner":{"account_id":6762217,"reputation":481,"user_id":5208534,"display_name":"Kit Fung"},"score":0,"creation_date":1457678705,"post_id":35928964,"comment_id":59524645,"body_markdown":"if you only want to overwrite the sleep time of &quot;waitForCondition&quot; instead of all wait functoin, why don&#39;t you just create your own wait function?","body":"if you only want to overwrite the sleep time of &quot;waitForCondition&quot; instead of all wait functoin, why don&#39;t you just create your own wait function?"},{"owner":{"account_id":98127,"reputation":7386,"user_id":265791,"accept_rate":88,"display_name":"Mark"},"score":0,"creation_date":1457683486,"post_id":35928964,"comment_id":59526823,"body_markdown":"Because then I&#39;d effectively be doing what I said I didn&#39;t want to do: taking the Robotium source code, changing it, and recompiling.","body":"Because then I&#39;d effectively be doing what I said I didn&#39;t want to do: taking the Robotium source code, changing it, and recompiling."},{"owner":{"account_id":6762217,"reputation":481,"user_id":5208534,"display_name":"Kit Fung"},"score":0,"creation_date":1457695397,"post_id":35928964,"comment_id":59534060,"body_markdown":"I mean you can create a new function in a new custom class instead of editing the source code. The logic behind &quot;waitForCondition&quot; is pretty clear and easy to implement. It will not require you to recompile it.","body":"I mean you can create a new function in a new custom class instead of editing the source code. The logic behind &quot;waitForCondition&quot; is pretty clear and easy to implement. It will not require you to recompile it."}],"answers":[{"comments":[{"owner":{"account_id":98127,"reputation":7386,"user_id":265791,"accept_rate":88,"display_name":"Mark"},"score":0,"creation_date":1457729967,"post_id":35940129,"comment_id":59555873,"body_markdown":"Awesome solution! Thanks very much!","body":"Awesome solution! Thanks very much!"}],"tags":[],"owner":{"account_id":552103,"reputation":5002,"user_id":704945,"accept_rate":71,"display_name":"vRallev"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1457698754,"creation_date":1457698754,"answer_id":35940129,"question_id":35928964,"body_markdown":"Even if the `Waiter` or `Sleeper` class were public, you couldn&#39;t change the values. The reason is that the `waiter` field in the `Solo` class is final and the constructor where the value is assigned is private. \r\n\r\nThe only way to hack this is with reflection. I tried the solution below and it works. Notice the package of both classes!\r\n\r\n    package com.robotium.solo;\r\n\r\n    import java.lang.reflect.Field;\r\n\r\n    public class SoloHack {\r\n\r\n      private final Solo mSolo;\r\n\r\n      public SoloHack(Solo solo) {\r\n        mSolo = solo;\r\n      }\r\n\r\n      public void hack() throws NoSuchFieldException, IllegalAccessException {\r\n        Field field = mSolo.waiter.getClass().getDeclaredField(&quot;sleeper&quot;);\r\n        field.setAccessible(true);\r\n\r\n        // Object value = field.get(mSolo.waiter);\r\n        // Class&lt;?&gt; aClass = value.getClass();\r\n\r\n        field.set(mSolo.waiter, new SleeperHack());\r\n\r\n        // Object newValue = field.get(mSolo.waiter);\r\n        // Class&lt;?&gt; newClass = newValue.getClass();\r\n      }\r\n    }\r\n\r\nAnd\r\n    \r\n    package com.robotium.solo;\r\n\r\n    public class SleeperHack extends Sleeper {\r\n\r\n      @Override\r\n      public void sleep() {\r\n        sleep(50);\r\n      }\r\n    }","title":"Robotium - customize PAUSE duration in Sleeper class","body":"<p>Even if the <code>Waiter</code> or <code>Sleeper</code> class were public, you couldn't change the values. The reason is that the <code>waiter</code> field in the <code>Solo</code> class is final and the constructor where the value is assigned is private. </p>\n\n<p>The only way to hack this is with reflection. I tried the solution below and it works. Notice the package of both classes!</p>\n\n<pre><code>package com.robotium.solo;\n\nimport java.lang.reflect.Field;\n\npublic class SoloHack {\n\n  private final Solo mSolo;\n\n  public SoloHack(Solo solo) {\n    mSolo = solo;\n  }\n\n  public void hack() throws NoSuchFieldException, IllegalAccessException {\n    Field field = mSolo.waiter.getClass().getDeclaredField(\"sleeper\");\n    field.setAccessible(true);\n\n    // Object value = field.get(mSolo.waiter);\n    // Class&lt;?&gt; aClass = value.getClass();\n\n    field.set(mSolo.waiter, new SleeperHack());\n\n    // Object newValue = field.get(mSolo.waiter);\n    // Class&lt;?&gt; newClass = newValue.getClass();\n  }\n}\n</code></pre>\n\n<p>And</p>\n\n<pre><code>package com.robotium.solo;\n\npublic class SleeperHack extends Sleeper {\n\n  @Override\n  public void sleep() {\n    sleep(50);\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":98127,"reputation":7386,"user_id":265791,"accept_rate":88,"display_name":"Mark"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":35940129,"answer_count":1,"score":6,"last_activity_date":1673249401,"creation_date":1457650338,"question_id":35928964,"body_markdown":"waitForCondition() on the Solo class in Robotium uses a Sleeper object to sleep a thread in between checking for a condition. The Sleeper class has a PAUSE defined as 500 milliseconds. I want to lower that, ideally without downloading the Robotium source code, changing it, and recompiling Robotium.\r\n\r\nI tried extending the Solo class and constructing my own Waiter class that would use a custom Sleeper object with lower sleep intervals, but Waiter has package-level access so this route is not available.\r\n\r\nThe final keyword aside, [this commit message][1] seems to indicate that custom configurations should be (or are coming) but I don&#39;t see any way to customize those constants in the [Solo.Config class][2].\r\n\r\nDoes anyone have any solutions? Thanks!\r\n\r\n**Update:** @vRallev&#39;s answer below gets the job done with reflection. I made a [pull request][3] that was merged into Robotium today. In the next release, you&#39;ll be able to configure sleep times with the Config class.\r\n\r\n[1]: https://github.com/RobotiumTech/robotium/commit/8fac33c1907ab11a2a4a24a03c1efa2edd530fe6\r\n[2]: https://github.com/RobotiumTech/robotium/blob/master/robotium-solo/src/main/java/com/robotium/solo/Solo.java#L199\r\n[3]: https://github.com/RobotiumTech/robotium/pull/815","title":"Robotium - customize PAUSE duration in Sleeper class","body":"<p>waitForCondition() on the Solo class in Robotium uses a Sleeper object to sleep a thread in between checking for a condition. The Sleeper class has a PAUSE defined as 500 milliseconds. I want to lower that, ideally without downloading the Robotium source code, changing it, and recompiling Robotium.</p>\n\n<p>I tried extending the Solo class and constructing my own Waiter class that would use a custom Sleeper object with lower sleep intervals, but Waiter has package-level access so this route is not available.</p>\n\n<p>The final keyword aside, <a href=\"https://github.com/RobotiumTech/robotium/commit/8fac33c1907ab11a2a4a24a03c1efa2edd530fe6\" rel=\"nofollow\">this commit message</a> seems to indicate that custom configurations should be (or are coming) but I don't see any way to customize those constants in the <a href=\"https://github.com/RobotiumTech/robotium/blob/master/robotium-solo/src/main/java/com/robotium/solo/Solo.java#L199\" rel=\"nofollow\">Solo.Config class</a>.</p>\n\n<p>Does anyone have any solutions? Thanks!</p>\n\n<p><strong>Update:</strong> @vRallev's answer below gets the job done with reflection. I made a <a href=\"https://github.com/RobotiumTech/robotium/pull/815\" rel=\"nofollow\">pull request</a> that was merged into Robotium today. In the next release, you'll be able to configure sleep times with the Config class.</p>\n"},{"tags":["java","file-io","file-move"],"comments":[{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":0,"creation_date":1589783793,"post_id":61863584,"comment_id":109419253,"body_markdown":"Can you print `filePath` and `trashBinPath.resolve(fileName)`? The exception seems to say that the destination file is not what you think.","body":"Can you print <code>filePath</code> and <code>trashBinPath.resolve(fileName)</code>? The exception seems to say that the destination file is not what you think."},{"owner":{"account_id":14286536,"reputation":146,"user_id":10319765,"display_name":"Yahav"},"score":0,"creation_date":1589790665,"post_id":61863584,"comment_id":109422513,"body_markdown":"trashBinPath.resolve(fileName): /files/attachments/trashbin/2000/filename.txt\nfilePath: /files/attachments/2000/filename.txt\ntrashBinPath: /files/attachments/trashbin/2000","body":"trashBinPath.resolve(fileName): /files/attachments/trashbin/2000/filename.txt filePath: /files/attachments/2000/filename.txt trashBinPath: /files/attachments/trashbin/2000"}],"answers":[{"tags":[],"owner":{"display_name":"user9604262"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673249128,"creation_date":1673249128,"answer_id":75054206,"question_id":61863584,"body_markdown":"Experienced the same thing, this part was the issue when comparing your code to mine after fixing the issue.\r\n\r\n````&quot;/files/attachments/trashbin/2000&quot;.````\r\n\r\nit needs to be \r\n\r\n````&quot;/files/attachments/trashbin/2000/&quot;.````","title":"Files.move keeps throwing file already exist exception on directory","body":"<p>Experienced the same thing, this part was the issue when comparing your code to mine after fixing the issue.</p>\n<p><code>&quot;/files/attachments/trashbin/2000&quot;.</code></p>\n<p>it needs to be</p>\n<p><code>&quot;/files/attachments/trashbin/2000/&quot;.</code></p>\n"}],"owner":{"account_id":14286536,"reputation":146,"user_id":10319765,"display_name":"Yahav"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":497,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673249128,"creation_date":1589783273,"question_id":61863584,"body_markdown":"I am trying to move a file from a folder A: &quot;/files/attachments/2000/filename.txt&quot; to folder B: &quot;/files/attachments/trashbin/2000/filename.txt&quot; but I keep getting the exception: FileAlreadyExistsException and the exception output is: &quot;/files/attachments/trashbin/2000&quot;.\r\n\r\nthis is the code:\r\n\r\n    Path filePath = Paths.get(pathOnNFS.concat(folderPath).concat(Utils.DELIMITER + fileName));\r\n\tPath trashBinPath = Paths.get(trashBinNFS.concat(folderPath));\r\n\ttry {\r\n\t\tFiles.createDirectories(trashBinPath);\r\n\t\tFiles.move(filePath, trashBinPath.resolve(fileName), StandardCopyOption.REPLACE_EXISTING);\r\n    }catch(...){}\r\n\r\nCan anyone suggest why it is happening? this is the documentation: https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/nio/file/Files.html#move(java.nio.file.Path,java.nio.file.Path,java.nio.file.CopyOption...)\r\n\r\n\r\n","title":"Files.move keeps throwing file already exist exception on directory","body":"<p>I am trying to move a file from a folder A: \"/files/attachments/2000/filename.txt\" to folder B: \"/files/attachments/trashbin/2000/filename.txt\" but I keep getting the exception: FileAlreadyExistsException and the exception output is: \"/files/attachments/trashbin/2000\".</p>\n\n<p>this is the code:</p>\n\n<pre><code>Path filePath = Paths.get(pathOnNFS.concat(folderPath).concat(Utils.DELIMITER + fileName));\nPath trashBinPath = Paths.get(trashBinNFS.concat(folderPath));\ntry {\n    Files.createDirectories(trashBinPath);\n    Files.move(filePath, trashBinPath.resolve(fileName), StandardCopyOption.REPLACE_EXISTING);\n}catch(...){}\n</code></pre>\n\n<p>Can anyone suggest why it is happening? this is the documentation: <a href=\"https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/nio/file/Files.html#move(java.nio.file.Path,java.nio.file.Path,java.nio.file.CopyOption...)\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/nio/file/Files.html#move(java.nio.file.Path,java.nio.file.Path,java.nio.file.CopyOption...)</a></p>\n"},{"tags":["java","git","eclipse","egit","sts"],"comments":[{"owner":{"account_id":4996428,"reputation":362,"user_id":4016860,"accept_rate":75,"display_name":"Popeye"},"score":0,"creation_date":1673243389,"post_id":75053480,"comment_id":132446131,"body_markdown":"The error log is in the eclipse error window. also does not seems like a error related to git itself.","body":"The error log is in the eclipse error window. also does not seems like a error related to git itself."},{"owner":{"account_id":27473769,"reputation":33,"user_id":20962137,"display_name":"hannah"},"score":0,"creation_date":1673248282,"post_id":75053480,"comment_id":132446999,"body_markdown":"i edit my post! Could you check out this again? @Popeye","body":"i edit my post! Could you check out this again? @Popeye"},{"owner":{"account_id":4996428,"reputation":362,"user_id":4016860,"accept_rate":75,"display_name":"Popeye"},"score":0,"creation_date":1673249221,"post_id":75053480,"comment_id":132447166,"body_markdown":"I think, Java project property missing project name and resource path. Is your project a maven/gradle project? if not, consider that. Also restart your eclipse. clean exit and then start, also consider to delete the build file under target directory and rebuild the project.","body":"I think, Java project property missing project name and resource path. Is your project a maven/gradle project? if not, consider that. Also restart your eclipse. clean exit and then start, also consider to delete the build file under target directory and rebuild the project."},{"owner":{"account_id":27473769,"reputation":33,"user_id":20962137,"display_name":"hannah"},"score":0,"creation_date":1673251355,"post_id":75053480,"comment_id":132447675,"body_markdown":"it&#39;s maven .. i should delete it and clone it again &#128549; Thank you for your answer","body":"it&#39;s maven .. i should delete it and clone it again 😥 Thank you for your answer"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":1,"creation_date":1673264896,"post_id":75053480,"comment_id":132451837,"body_markdown":"Why is there a `.metadata` folder in the working tree of your Git repository? This does not look correct.","body":"Why is there a <code>.metadata</code> folder in the working tree of your Git repository? This does not look correct."},{"owner":{"account_id":27473769,"reputation":33,"user_id":20962137,"display_name":"hannah"},"score":0,"creation_date":1673499462,"post_id":75053480,"comment_id":132514192,"body_markdown":"OMG. you are totally right. i checked other projects. there are no `.metadata` folder! Thanks a lot. i&#39;ll delete and create again my git repository @howlger","body":"OMG. you are totally right. i checked other projects. there are no <code>.metadata</code> folder! Thanks a lot. i&#39;ll delete and create again my git repository @howlger"}],"owner":{"account_id":27473769,"reputation":33,"user_id":20962137,"display_name":"hannah"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":219,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1673248999,"creation_date":1673242246,"question_id":75053480,"body_markdown":"i just use sts 4.9.0\r\n\r\nThe problem is this: whenever I do almost anything \r\n(ex. save a file I&#39;m working on)\r\n\r\nI get an error:\r\n\r\n`An error has occurred. See error log for more details.\r\nPath must include project and resource name: /.gitignore`\r\n\r\nStack Trace\r\n\r\n```\r\njava.lang.IllegalArgumentException: Path must include project and resource name: /.gitignore\r\n\tat org.eclipse.core.runtime.Assert.isLegal(Assert.java:66)\r\n\tat org.eclipse.core.internal.resources.Workspace.newResource(Workspace.java:2128)\r\n\tat org.eclipse.core.internal.resources.Container.getFile(Container.java:196)\r\n\tat org.eclipse.egit.ui.internal.staging.StagingViewContentProvider.getFile(StagingViewContentProvider.java:139)\r\n\tat org.eclipse.egit.ui.internal.staging.StagingEntry.getFile(StagingEntry.java:213)\r\n\tat org.eclipse.egit.ui.internal.staging.StagingEntry.getProblemSeverity(StagingEntry.java:244)\r\n\tat org.eclipse.egit.ui.internal.decorators.ProblemLabelDecorator.decorateImage(ProblemLabelDecorator.java:84)\r\n\tat org.eclipse.jface.viewers.DecoratingLabelProvider.getImage(DecoratingLabelProvider.java:101)\r\n\tat org.eclipse.jface.viewers.DecoratingLabelProvider.updateLabel(DecoratingLabelProvider.java:237)\r\n\tat org.eclipse.egit.ui.internal.staging.StagingView$TreeDecoratingLabelProvider.updateLabel(StagingView.java:622)\r\n\tat org.eclipse.jface.viewers.WrappedViewerLabelProvider.update(WrappedViewerLabelProvider.java:169)\r\n\tat org.eclipse.jface.viewers.ViewerColumn.refresh(ViewerColumn.java:144)\r\n\tat org.eclipse.jface.viewers.AbstractTreeViewer.doUpdateItem(AbstractTreeViewer.java:959)\r\n\tat org.eclipse.jface.viewers.AbstractTreeViewer$UpdateItemSafeRunnable.run(AbstractTreeViewer.java:126)\r\n\tat org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:45)\r\n\tat org.eclipse.jface.util.SafeRunnable.run(SafeRunnable.java:174)\r\n\tat org.eclipse.jface.viewers.AbstractTreeViewer.doUpdateItem(AbstractTreeViewer.java:1037)\r\n\tat org.eclipse.jface.viewers.StructuredViewer$UpdateItemSafeRunnable.run(StructuredViewer.java:427)\r\n\tat org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:45)\r\n\tat org.eclipse.jface.util.SafeRunnable.run(SafeRunnable.java:174)\r\n\tat org.eclipse.jface.viewers.StructuredViewer.updateItem(StructuredViewer.java:2111)\r\n\tat org.eclipse.jface.viewers.AbstractTreeViewer.createTreeItem(AbstractTreeViewer.java:853)\r\n\tat org.eclipse.jface.viewers.AbstractTreeViewer.createChildren(AbstractTreeViewer.java:831)\r\n\tat org.eclipse.jface.viewers.TreeViewer.createChildren(TreeViewer.java:604)\r\n\tat org.eclipse.jface.viewers.AbstractTreeViewer.createChildren(AbstractTreeViewer.java:779)\r\n\tat org.eclipse.jface.viewers.AbstractTreeViewer.internalInitializeTree(AbstractTreeViewer.java:1599)\r\n\tat org.eclipse.jface.viewers.TreeViewer.internalInitializeTree(TreeViewer.java:780)\r\n\tat org.eclipse.jface.viewers.AbstractTreeViewer.lambda$1(AbstractTreeViewer.java:1584)\r\n\tat org.eclipse.jface.viewers.StructuredViewer.preservingSelection(StructuredViewer.java:1400)\r\n\tat org.eclipse.jface.viewers.TreeViewer.preservingSelection(TreeViewer.java:363)\r\n\tat org.eclipse.jface.viewers.StructuredViewer.preservingSelection(StructuredViewer.java:1361)\r\n\tat org.eclipse.jface.viewers.AbstractTreeViewer.inputChanged(AbstractTreeViewer.java:1578)\r\n\tat org.eclipse.jface.viewers.ContentViewer.setInput(ContentViewer.java:282)\r\n\tat org.eclipse.jface.viewers.StructuredViewer.setInput(StructuredViewer.java:1634)\r\n\tat org.eclipse.egit.ui.internal.staging.StagingView.setStagingViewerInput(StagingView.java:2353)\r\n\tat org.eclipse.egit.ui.internal.staging.StagingView.lambda$19(StagingView.java:3907)\r\n\tat org.eclipse.egit.ui.internal.staging.StagingView$56.runInUIThread(StagingView.java:4542)\r\n\tat org.eclipse.ui.progress.UIJob.lambda$0(UIJob.java:95)\r\n\tat org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:40)\r\n\tat org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:185)\r\n\tat org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:4001)\r\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3629)\r\n\tat org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine$5.run(PartRenderingEngine.java:1157)\r\n\tat org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:338)\r\n\tat org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.run(PartRenderingEngine.java:1046)\r\n\tat org.eclipse.e4.ui.internal.workbench.E4Workbench.createAndRunUI(E4Workbench.java:155)\r\n\tat org.eclipse.ui.internal.Workbench.lambda$3(Workbench.java:644)\r\n\tat org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:338)\r\n\tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:551)\r\n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:156)\r\n\tat org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:152)\r\n\tat org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:203)\r\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:134)\r\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:104)\r\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:401)\r\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:255)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:564)\r\n\tat org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:653)\r\n\tat org.eclipse.equinox.launcher.Main.basicRun(Main.java:590)\r\n\tat org.eclipse.equinox.launcher.Main.run(Main.java:1461)\r\n```\r\n\r\nand Session Data\r\n```\r\neclipse.buildId=4.9.0.202012132054\r\njava.version=15.0.1\r\njava.vendor=Oracle Corporation\r\nBootLoader constants: OS=win32, ARCH=x86_64, WS=win32, NL=ko_KR\r\nFramework arguments:  -product org.springframework.boot.ide.branding.sts4\r\nCommand-line arguments:  -os win32 -ws win32 -arch x86_64 -product org.springframework.boot.ide.branding.sts4\r\n```\r\n\r\ni did Maven &gt; update Project to all my projects\r\n\r\nbut it&#39;s still the same situation\r\n\r\nAnd I used it well before without this error\r\n\r\nIt happened when i formatted the computer and cloned the this repositoris again\r\n\r\nand it already exist .gitignore file\r\n\r\nhttps://i.stack.imgur.com/Mkk8d.png\r\n\r\ni can&#39;t find out how to fix it\r\n\r\ni hope it will fix it!\r\n\r\nThanks\r\n","title":"Path must include project and resource name: /.gitignore","body":"<p>i just use sts 4.9.0</p>\n<p>The problem is this: whenever I do almost anything\n(ex. save a file I'm working on)</p>\n<p>I get an error:</p>\n<p><code>An error has occurred. See error log for more details. Path must include project and resource name: /.gitignore</code></p>\n<p>Stack Trace</p>\n<pre><code>java.lang.IllegalArgumentException: Path must include project and resource name: /.gitignore\n    at org.eclipse.core.runtime.Assert.isLegal(Assert.java:66)\n    at org.eclipse.core.internal.resources.Workspace.newResource(Workspace.java:2128)\n    at org.eclipse.core.internal.resources.Container.getFile(Container.java:196)\n    at org.eclipse.egit.ui.internal.staging.StagingViewContentProvider.getFile(StagingViewContentProvider.java:139)\n    at org.eclipse.egit.ui.internal.staging.StagingEntry.getFile(StagingEntry.java:213)\n    at org.eclipse.egit.ui.internal.staging.StagingEntry.getProblemSeverity(StagingEntry.java:244)\n    at org.eclipse.egit.ui.internal.decorators.ProblemLabelDecorator.decorateImage(ProblemLabelDecorator.java:84)\n    at org.eclipse.jface.viewers.DecoratingLabelProvider.getImage(DecoratingLabelProvider.java:101)\n    at org.eclipse.jface.viewers.DecoratingLabelProvider.updateLabel(DecoratingLabelProvider.java:237)\n    at org.eclipse.egit.ui.internal.staging.StagingView$TreeDecoratingLabelProvider.updateLabel(StagingView.java:622)\n    at org.eclipse.jface.viewers.WrappedViewerLabelProvider.update(WrappedViewerLabelProvider.java:169)\n    at org.eclipse.jface.viewers.ViewerColumn.refresh(ViewerColumn.java:144)\n    at org.eclipse.jface.viewers.AbstractTreeViewer.doUpdateItem(AbstractTreeViewer.java:959)\n    at org.eclipse.jface.viewers.AbstractTreeViewer$UpdateItemSafeRunnable.run(AbstractTreeViewer.java:126)\n    at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:45)\n    at org.eclipse.jface.util.SafeRunnable.run(SafeRunnable.java:174)\n    at org.eclipse.jface.viewers.AbstractTreeViewer.doUpdateItem(AbstractTreeViewer.java:1037)\n    at org.eclipse.jface.viewers.StructuredViewer$UpdateItemSafeRunnable.run(StructuredViewer.java:427)\n    at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:45)\n    at org.eclipse.jface.util.SafeRunnable.run(SafeRunnable.java:174)\n    at org.eclipse.jface.viewers.StructuredViewer.updateItem(StructuredViewer.java:2111)\n    at org.eclipse.jface.viewers.AbstractTreeViewer.createTreeItem(AbstractTreeViewer.java:853)\n    at org.eclipse.jface.viewers.AbstractTreeViewer.createChildren(AbstractTreeViewer.java:831)\n    at org.eclipse.jface.viewers.TreeViewer.createChildren(TreeViewer.java:604)\n    at org.eclipse.jface.viewers.AbstractTreeViewer.createChildren(AbstractTreeViewer.java:779)\n    at org.eclipse.jface.viewers.AbstractTreeViewer.internalInitializeTree(AbstractTreeViewer.java:1599)\n    at org.eclipse.jface.viewers.TreeViewer.internalInitializeTree(TreeViewer.java:780)\n    at org.eclipse.jface.viewers.AbstractTreeViewer.lambda$1(AbstractTreeViewer.java:1584)\n    at org.eclipse.jface.viewers.StructuredViewer.preservingSelection(StructuredViewer.java:1400)\n    at org.eclipse.jface.viewers.TreeViewer.preservingSelection(TreeViewer.java:363)\n    at org.eclipse.jface.viewers.StructuredViewer.preservingSelection(StructuredViewer.java:1361)\n    at org.eclipse.jface.viewers.AbstractTreeViewer.inputChanged(AbstractTreeViewer.java:1578)\n    at org.eclipse.jface.viewers.ContentViewer.setInput(ContentViewer.java:282)\n    at org.eclipse.jface.viewers.StructuredViewer.setInput(StructuredViewer.java:1634)\n    at org.eclipse.egit.ui.internal.staging.StagingView.setStagingViewerInput(StagingView.java:2353)\n    at org.eclipse.egit.ui.internal.staging.StagingView.lambda$19(StagingView.java:3907)\n    at org.eclipse.egit.ui.internal.staging.StagingView$56.runInUIThread(StagingView.java:4542)\n    at org.eclipse.ui.progress.UIJob.lambda$0(UIJob.java:95)\n    at org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:40)\n    at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:185)\n    at org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:4001)\n    at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3629)\n    at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine$5.run(PartRenderingEngine.java:1157)\n    at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:338)\n    at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.run(PartRenderingEngine.java:1046)\n    at org.eclipse.e4.ui.internal.workbench.E4Workbench.createAndRunUI(E4Workbench.java:155)\n    at org.eclipse.ui.internal.Workbench.lambda$3(Workbench.java:644)\n    at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:338)\n    at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:551)\n    at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:156)\n    at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:152)\n    at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:203)\n    at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:134)\n    at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:104)\n    at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:401)\n    at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:255)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:564)\n    at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:653)\n    at org.eclipse.equinox.launcher.Main.basicRun(Main.java:590)\n    at org.eclipse.equinox.launcher.Main.run(Main.java:1461)\n</code></pre>\n<p>and Session Data</p>\n<pre><code>eclipse.buildId=4.9.0.202012132054\njava.version=15.0.1\njava.vendor=Oracle Corporation\nBootLoader constants: OS=win32, ARCH=x86_64, WS=win32, NL=ko_KR\nFramework arguments:  -product org.springframework.boot.ide.branding.sts4\nCommand-line arguments:  -os win32 -ws win32 -arch x86_64 -product org.springframework.boot.ide.branding.sts4\n</code></pre>\n<p>i did Maven &gt; update Project to all my projects</p>\n<p>but it's still the same situation</p>\n<p>And I used it well before without this error</p>\n<p>It happened when i formatted the computer and cloned the this repositoris again</p>\n<p>and it already exist .gitignore file</p>\n<p><a href=\"https://i.stack.imgur.com/Mkk8d.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/Mkk8d.png</a></p>\n<p>i can't find out how to fix it</p>\n<p>i hope it will fix it!</p>\n<p>Thanks</p>\n"},{"tags":["java","spring-boot","hibernate","microservices"],"answers":[{"comments":[{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1673254778,"post_id":75054107,"comment_id":132448613,"body_markdown":"OP&#39;s code entirely based on anti-patterns, you suggest to add another one.","body":"OP&#39;s code entirely based on anti-patterns, you suggest to add another one."},{"owner":{"account_id":6676840,"reputation":2927,"user_id":5151202,"display_name":"times29"},"score":0,"creation_date":1673258712,"post_id":75054107,"comment_id":132449842,"body_markdown":"@AndreyB.Panfilov your comment adds zero value","body":"@AndreyB.Panfilov your comment adds zero value"}],"tags":[],"owner":{"account_id":6676840,"reputation":2927,"user_id":5151202,"display_name":"times29"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673248323,"creation_date":1673248323,"answer_id":75054107,"question_id":75048023,"body_markdown":"Try annotating your method with `@Transactional`. Then then `OrderProduct` won&#39;t get detached within the `createOrder` method.","title":"org.hibernate.PersistentObjectException: detached entity passed to persist OrderProduct","body":"<p>Try annotating your method with <code>@Transactional</code>. Then then <code>OrderProduct</code> won't get detached within the <code>createOrder</code> method.</p>\n"}],"owner":{"account_id":13842566,"reputation":45,"user_id":9992454,"display_name":"Deepak Bisht"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673248323,"creation_date":1673183497,"question_id":75048023,"body_markdown":"I&#39;m learning microservices and while creating a database entry I got stuck on this error.\r\n\r\norg.hibernate.PersistentObjectException: detached entity passed to persist: OrderProduct\r\n\r\nWhen I change the cascading to MERGE then the data get saved in OrderDetail table only. I have searched but could not find a anything useful. Here&#39;s my code.\r\n\r\nFeign Proxy Interface:\r\n\r\n```\r\n@FeignClient(name=&quot;product-metadata&quot;,url=&quot;localhost:8080&quot;)\r\npublic interface OrderProductProxy {\r\n\t@GetMapping(&quot;/products/productdetails/{productId}&quot;)\r\n\tpublic OrderProduct getProductDetails(@PathVariable UUID productId);\r\n}\r\n```\r\nOrderDetail Entity:\r\n```\r\n@Getter @Setter\r\n@NoArgsConstructor @AllArgsConstructor\r\n@Entity\r\npublic class OrderDetail {\r\n\t\r\n\t@Id\r\n\t@GeneratedValue\r\n\tprivate long id;\r\n\t\r\n\t\r\n\tprivate UUID orderId;\r\n\t\r\n\tprivate String customerId;\r\n\t\r\n\tprivate String totalAmount;\r\n\t\r\n\t@OneToMany(cascade = CascadeType.ALL,mappedBy = &quot;orderId&quot;)\r\n\tprivate List&lt;OrderProduct&gt; productId;\r\n\r\n\tpublic void addProduct(OrderProduct orderProduct) {\r\n\t\tif(orderProduct != null) {\r\n\t\t\tif(productId == null) {\r\n\t\t\t\tproductId = new ArrayList&lt;&gt;();\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.productId.add(orderProduct);\r\n\t\torderProduct.setOrderId(this);\r\n\t}\r\n}\r\n```\r\nOrderProduct Entity:\r\n```\r\n@Getter @Setter\r\n@NoArgsConstructor @AllArgsConstructor\r\n@ToString\r\n@Entity\r\npublic class OrderProduct {\r\n\t\r\n\t\r\n\tprivate long id;\r\n\t@Id\r\n\t@GeneratedValue(strategy=GenerationType.AUTO)\r\n\tprivate UUID uniqueId;\r\n\tprivate String name;\r\n\tprivate BigDecimal price;\r\n\t\r\n\t@ManyToOne\r\n\t@JoinColumn(name=&quot;orderId&quot;)\r\n\tprivate OrderDetail orderId;\r\n}\r\n```\r\nController:\r\n```\r\n@PostMapping(&quot;/create/{productId}&quot;)\r\n\tpublic OrderDetail createOrder(@PathVariable UUID productId,@RequestBody OrderDetail orderDetails) {\r\n\t\t\r\n\t\tOrderProduct orderProduct = proxy.getProductDetails(productId);\r\n\t\tSystem.out.println(orderProduct);\r\n\t\torderDetails.addProduct(orderProduct);\r\n\t\tUUID orderId = UUID.randomUUID();\r\n\t\torderDetails.setOrderId(orderId);\r\n\t\treturn repo.save(orderDetails);\r\n\t}\r\n```","title":"org.hibernate.PersistentObjectException: detached entity passed to persist OrderProduct","body":"<p>I'm learning microservices and while creating a database entry I got stuck on this error.</p>\n<p>org.hibernate.PersistentObjectException: detached entity passed to persist: OrderProduct</p>\n<p>When I change the cascading to MERGE then the data get saved in OrderDetail table only. I have searched but could not find a anything useful. Here's my code.</p>\n<p>Feign Proxy Interface:</p>\n<pre><code>@FeignClient(name=&quot;product-metadata&quot;,url=&quot;localhost:8080&quot;)\npublic interface OrderProductProxy {\n    @GetMapping(&quot;/products/productdetails/{productId}&quot;)\n    public OrderProduct getProductDetails(@PathVariable UUID productId);\n}\n</code></pre>\n<p>OrderDetail Entity:</p>\n<pre><code>@Getter @Setter\n@NoArgsConstructor @AllArgsConstructor\n@Entity\npublic class OrderDetail {\n    \n    @Id\n    @GeneratedValue\n    private long id;\n    \n    \n    private UUID orderId;\n    \n    private String customerId;\n    \n    private String totalAmount;\n    \n    @OneToMany(cascade = CascadeType.ALL,mappedBy = &quot;orderId&quot;)\n    private List&lt;OrderProduct&gt; productId;\n\n    public void addProduct(OrderProduct orderProduct) {\n        if(orderProduct != null) {\n            if(productId == null) {\n                productId = new ArrayList&lt;&gt;();\n            }\n        }\n        this.productId.add(orderProduct);\n        orderProduct.setOrderId(this);\n    }\n}\n</code></pre>\n<p>OrderProduct Entity:</p>\n<pre><code>@Getter @Setter\n@NoArgsConstructor @AllArgsConstructor\n@ToString\n@Entity\npublic class OrderProduct {\n    \n    \n    private long id;\n    @Id\n    @GeneratedValue(strategy=GenerationType.AUTO)\n    private UUID uniqueId;\n    private String name;\n    private BigDecimal price;\n    \n    @ManyToOne\n    @JoinColumn(name=&quot;orderId&quot;)\n    private OrderDetail orderId;\n}\n</code></pre>\n<p>Controller:</p>\n<pre><code>@PostMapping(&quot;/create/{productId}&quot;)\n    public OrderDetail createOrder(@PathVariable UUID productId,@RequestBody OrderDetail orderDetails) {\n        \n        OrderProduct orderProduct = proxy.getProductDetails(productId);\n        System.out.println(orderProduct);\n        orderDetails.addProduct(orderProduct);\n        UUID orderId = UUID.randomUUID();\n        orderDetails.setOrderId(orderId);\n        return repo.save(orderDetails);\n    }\n</code></pre>\n"},{"tags":["java","android","calendar","alarmmanager"],"answers":[{"comments":[{"owner":{"account_id":9624172,"reputation":520,"user_id":7144325,"accept_rate":0,"display_name":"Emmanuel Garcia Martinez"},"score":0,"creation_date":1478882078,"post_id":40544151,"comment_id":68342953,"body_markdown":"Well I used  android.icu.util.Calendar and when I changed to android.util.Calendar the error disappeared","body":"Well I used  android.icu.util.Calendar and when I changed to android.util.Calendar the error disappeared"},{"owner":{"account_id":10389100,"reputation":359,"user_id":7661057,"accept_rate":69,"display_name":"Rekt"},"score":0,"creation_date":1510493418,"post_id":40544151,"comment_id":81448877,"body_markdown":"this answer saved me 1 hour of stress haha","body":"this answer saved me 1 hour of stress haha"}],"tags":[],"owner":{"account_id":9472968,"reputation":387,"user_id":7046314,"display_name":"Tyrmos"},"comment_count":2,"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1478853869,"creation_date":1478853869,"answer_id":40544151,"question_id":40540805,"body_markdown":"As far as i can see, you could just use the normal [Calendar][1] instead of the in API 24 introduced [ICU Calendar][2]. Try to use this import `java.util.Calendar` instead of this import `android.icu.util.Calendar`.\r\n\r\n\r\n  [1]: https://developer.android.com/reference/java/util/Calendar.html\r\n  [2]: https://developer.android.com/reference/android/icu/util/Calendar.html","title":"Android Studio stack=java.lang.NoClassDefFoundError: Failed resolution of: Landroid/icu/util/Calendar;","body":"<p>As far as i can see, you could just use the normal <a href=\"https://developer.android.com/reference/java/util/Calendar.html\" rel=\"noreferrer\">Calendar</a> instead of the in API 24 introduced <a href=\"https://developer.android.com/reference/android/icu/util/Calendar.html\" rel=\"noreferrer\">ICU Calendar</a>. Try to use this import <code>java.util.Calendar</code> instead of this import <code>android.icu.util.Calendar</code>.</p>\n"},{"tags":[],"owner":{"account_id":10730802,"reputation":1,"user_id":7896977,"display_name":"Jose Armando"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1492705300,"creation_date":1492705300,"answer_id":43524903,"question_id":40540805,"body_markdown":"I had the same problem, changed the import from android.icu.util.Calendar to java.util.Calendar and it work! hope it helps you!","title":"Android Studio stack=java.lang.NoClassDefFoundError: Failed resolution of: Landroid/icu/util/Calendar;","body":"<p>I had the same problem, changed the import from android.icu.util.Calendar to java.util.Calendar and it work! hope it helps you!</p>\n"},{"tags":[],"owner":{"account_id":10767249,"reputation":1197,"user_id":7921804,"display_name":"Maizied Hasan Majumder"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1517782878,"creation_date":1517782878,"answer_id":48613594,"question_id":40540805,"body_markdown":"From Calendar pick date:\r\n`import java.util.Calendar` instead of this `import android.icu.util.Calendar`\r\nAnd Then write those code code for Date Pick.\r\n\r\n    Calendar callForDate = Calendar.getInstance();\r\n\r\n    java.text.SimpleDateFormat currentDate = new java.text.SimpleDateFormat(&quot;dd-MMMM-yyyy&quot;);\r\n\r\n    final String saveCurrentDate = currentDate.format(callForDate.getTime());\r\n\r\n","title":"Android Studio stack=java.lang.NoClassDefFoundError: Failed resolution of: Landroid/icu/util/Calendar;","body":"<p>From Calendar pick date:\n<code>import java.util.Calendar</code> instead of this <code>import android.icu.util.Calendar</code>\nAnd Then write those code code for Date Pick.</p>\n\n<pre><code>Calendar callForDate = Calendar.getInstance();\n\njava.text.SimpleDateFormat currentDate = new java.text.SimpleDateFormat(\"dd-MMMM-yyyy\");\n\nfinal String saveCurrentDate = currentDate.format(callForDate.getTime());\n</code></pre>\n"}],"owner":{"account_id":9624172,"reputation":520,"user_id":7144325,"accept_rate":0,"display_name":"Emmanuel Garcia Martinez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8222,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":3,"score":8,"last_activity_date":1673248065,"creation_date":1478836016,"question_id":40540805,"body_markdown":"I have used the `calendar` class for a alarm app with the `alarm manager`, but I have an error with the instance of the class `calendar`.\r\nI have investigated in other forums but I haven&#39;t find the proper solutions.\r\nplease I need your help.\r\n\r\n## the error is marked in the instance of the calendar class \r\n![the error is marked in the instance of the calendar class ][1]\r\n\r\n![enter image description here][2]\r\n \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/IwHyI.png\r\n  [2]: https://i.stack.imgur.com/VODRf.png","title":"Android Studio stack=java.lang.NoClassDefFoundError: Failed resolution of: Landroid/icu/util/Calendar;","body":"<p>I have used the <code>calendar</code> class for a alarm app with the <code>alarm manager</code>, but I have an error with the instance of the class <code>calendar</code>.\nI have investigated in other forums but I haven't find the proper solutions.\nplease I need your help.</p>\n<h2>the error is marked in the instance of the calendar class</h2>\n<p><img src=\"https://i.stack.imgur.com/IwHyI.png\" alt=\"the error is marked in the instance of the calendar class \" /></p>\n<p><img src=\"https://i.stack.imgur.com/VODRf.png\" alt=\"enter image description here\" /></p>\n"},{"tags":["java","maven","selenium","cmd","testng"],"answers":[{"tags":[],"owner":{"account_id":2683108,"reputation":89,"user_id":2318030,"display_name":"S-Kerrigan"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1489721245,"creation_date":1489720907,"answer_id":42848630,"question_id":42847732,"body_markdown":"in first, please add improvement in pom.xml... need adding execution section:\r\n\r\n    &lt;executions&gt;\r\n    &lt;execution&gt;\r\n        &lt;phase&gt;test&lt;/phase&gt;\r\n        &lt;goals&gt;\r\n            &lt;goal&gt;test&lt;/goal&gt;\r\n        &lt;/goals&gt;\r\n    &lt;/execution&gt;\r\n    &lt;/executions&gt;\r\nIn second, you can create section in pom.xml with variables. And, then, calling it from cmd.\r\n\r\n    &lt;properties&gt;\r\n\t&lt;defaultSuiteFiles&gt;\r\n            ./Sets/Suits/CMS_Administration_SiteBackup_029.xml,\r\n        &lt;/defaultSuiteFiles&gt;\r\n        &lt;suiteFile&gt;${defaultSuiteFiles}&lt;/suiteFile&gt;\r\n    &lt;/defaultSuiteFiles&gt;\r\n    &lt;/properties&gt;\r\n    ...\r\n    ...\r\n    &lt;suiteXmlFiles&gt;\r\n        &lt;suiteXmlFile&gt;${suiteFile}&lt;/suiteXmlFile&gt;\r\n    &lt;/suiteXmlFiles&gt;\r\n    \r\nSo, result of prototype pom.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    .....\r\n    .....\r\n\r\n\r\n    &lt;properties&gt;        \r\n        &lt;defaultSuiteFiles&gt;\r\n            ./Sets/Suits/CMS_Administration_SiteBackup_029.xml,\r\n        &lt;/defaultSuiteFiles&gt;\r\n        &lt;suiteFile&gt;${defaultSuiteFiles}&lt;/suiteFile&gt;\r\n\r\n\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;profiles&gt;\r\n        &lt;profile&gt;\r\n            &lt;id&gt;Base configuration&lt;/id&gt;\r\n            &lt;activation&gt;\r\n                &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\r\n            &lt;/activation&gt;\r\n            &lt;build&gt;\r\n                &lt;defaultGoal&gt;install&lt;/defaultGoal&gt;\r\n                &lt;plugins&gt;                    \r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                        &lt;version&gt;2.19.1&lt;/version&gt;\r\n                        &lt;inherited&gt;true&lt;/inherited&gt;\r\n                        &lt;executions&gt;\r\n                            &lt;execution&gt;\r\n                                &lt;phase&gt;test&lt;/phase&gt;\r\n                                &lt;goals&gt;\r\n                                    &lt;goal&gt;test&lt;/goal&gt;\r\n                                &lt;/goals&gt;\r\n                            &lt;/execution&gt;\r\n                        &lt;/executions&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;suiteXmlFiles&gt;\r\n                                &lt;suiteXmlFile&gt;${suiteFile}&lt;/suiteXmlFile&gt;\r\n                            &lt;/suiteXmlFiles&gt;                            \r\n                        &lt;/configuration&gt;\r\n                    &lt;/plugin&gt;\r\n                &lt;/plugins&gt;\r\n            &lt;/build&gt;\r\n        &lt;/profile&gt;\r\n    &lt;/profiles&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n            &lt;version&gt;3.3.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;/project&gt;\r\n\r\nAnd use this, how a example for cmd: `mvn  test -DdefaultSuiteFiles=&quot;./YOUR_DIRECTORY/YOUR_SUITE.xml,&quot;`\r\n\r\n\r\n**Explanations**: in pom.xml you setup xmls for default and place to variable. And, if you will use variable in cmd, you will rewrite values. ","title":"How to run testng.xml from Maven command line","body":"<p>in first, please add improvement in pom.xml... need adding execution section:</p>\n\n<pre><code>&lt;executions&gt;\n&lt;execution&gt;\n    &lt;phase&gt;test&lt;/phase&gt;\n    &lt;goals&gt;\n        &lt;goal&gt;test&lt;/goal&gt;\n    &lt;/goals&gt;\n&lt;/execution&gt;\n&lt;/executions&gt;\n</code></pre>\n\n<p>In second, you can create section in pom.xml with variables. And, then, calling it from cmd.</p>\n\n<pre><code>&lt;properties&gt;\n&lt;defaultSuiteFiles&gt;\n        ./Sets/Suits/CMS_Administration_SiteBackup_029.xml,\n    &lt;/defaultSuiteFiles&gt;\n    &lt;suiteFile&gt;${defaultSuiteFiles}&lt;/suiteFile&gt;\n&lt;/defaultSuiteFiles&gt;\n&lt;/properties&gt;\n...\n...\n&lt;suiteXmlFiles&gt;\n    &lt;suiteXmlFile&gt;${suiteFile}&lt;/suiteXmlFile&gt;\n&lt;/suiteXmlFiles&gt;\n</code></pre>\n\n<p>So, result of prototype pom.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n.....\n.....\n\n\n&lt;properties&gt;        \n    &lt;defaultSuiteFiles&gt;\n        ./Sets/Suits/CMS_Administration_SiteBackup_029.xml,\n    &lt;/defaultSuiteFiles&gt;\n    &lt;suiteFile&gt;${defaultSuiteFiles}&lt;/suiteFile&gt;\n\n\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n&lt;/properties&gt;\n\n&lt;profiles&gt;\n    &lt;profile&gt;\n        &lt;id&gt;Base configuration&lt;/id&gt;\n        &lt;activation&gt;\n            &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\n        &lt;/activation&gt;\n        &lt;build&gt;\n            &lt;defaultGoal&gt;install&lt;/defaultGoal&gt;\n            &lt;plugins&gt;                    \n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;2.19.1&lt;/version&gt;\n                    &lt;inherited&gt;true&lt;/inherited&gt;\n                    &lt;executions&gt;\n                        &lt;execution&gt;\n                            &lt;phase&gt;test&lt;/phase&gt;\n                            &lt;goals&gt;\n                                &lt;goal&gt;test&lt;/goal&gt;\n                            &lt;/goals&gt;\n                        &lt;/execution&gt;\n                    &lt;/executions&gt;\n                    &lt;configuration&gt;\n                        &lt;suiteXmlFiles&gt;\n                            &lt;suiteXmlFile&gt;${suiteFile}&lt;/suiteXmlFile&gt;\n                        &lt;/suiteXmlFiles&gt;                            \n                    &lt;/configuration&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/build&gt;\n    &lt;/profile&gt;\n&lt;/profiles&gt;\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n        &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n        &lt;version&gt;3.3.1&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>And use this, how a example for cmd: <code>mvn  test -DdefaultSuiteFiles=\"./YOUR_DIRECTORY/YOUR_SUITE.xml,\"</code></p>\n\n<p><strong>Explanations</strong>: in pom.xml you setup xmls for default and place to variable. And, if you will use variable in cmd, you will rewrite values. </p>\n"},{"comments":[{"owner":{"account_id":8673819,"reputation":369,"user_id":6491801,"accept_rate":73,"display_name":"jeffsia"},"score":0,"creation_date":1489728752,"post_id":42849358,"comment_id":72807455,"body_markdown":"Tried this. It works. Seems to be the simplest way to trigger the testng xml. Thank you!","body":"Tried this. It works. Seems to be the simplest way to trigger the testng xml. Thank you!"}],"tags":[],"owner":{"account_id":471893,"reputation":8441,"user_id":879977,"display_name":"niharika_neo"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1489725739,"creation_date":1489725739,"answer_id":42849358,"question_id":42847732,"body_markdown":"If you have a fixed testng xml, then you just need to do `mvn clean test`.\r\nThe surefire plugin would be executed by default in the test phase of maven and the xml hardcoded would be picked up.","title":"How to run testng.xml from Maven command line","body":"<p>If you have a fixed testng xml, then you just need to do <code>mvn clean test</code>.\nThe surefire plugin would be executed by default in the test phase of maven and the xml hardcoded would be picked up.</p>\n"},{"comments":[{"owner":{"account_id":10625892,"reputation":145,"user_id":7825532,"display_name":"Abhishek"},"score":1,"creation_date":1606468420,"post_id":48002426,"comment_id":114975449,"body_markdown":"Thank you prakash. This has helped me a lot. In most of the threads answer is wrong but your&#39;s has helped a lot.","body":"Thank you prakash. This has helped me a lot. In most of the threads answer is wrong but your&#39;s has helped a lot."},{"owner":{"account_id":7736610,"reputation":670,"user_id":5858006,"display_name":"Anmol Parida"},"score":0,"creation_date":1616578240,"post_id":48002426,"comment_id":118043596,"body_markdown":"After lot of browsing, this finally worked. Thanks Prakash.","body":"After lot of browsing, this finally worked. Thanks Prakash."},{"owner":{"account_id":5404044,"reputation":861,"user_id":4303068,"accept_rate":74,"display_name":"vaibhavcool20"},"score":0,"creation_date":1642694500,"post_id":48002426,"comment_id":125144834,"body_markdown":"I am getting this error [ERROR] Unknown lifecycle phase &quot;.suiteXmlFile=./testng.xml&quot;.","body":"I am getting this error [ERROR] Unknown lifecycle phase &quot;.suiteXmlFile=./testng.xml&quot;."},{"owner":{"account_id":5404044,"reputation":861,"user_id":4303068,"accept_rate":74,"display_name":"vaibhavcool20"},"score":0,"creation_date":1642695634,"post_id":48002426,"comment_id":125145334,"body_markdown":"never-mind i was using powershell earlier. command prompt is fine.","body":"never-mind i was using powershell earlier. command prompt is fine."}],"tags":[],"owner":{"account_id":5178132,"reputation":3279,"user_id":4144572,"accept_rate":43,"display_name":"Prakash Palnati"},"comment_count":4,"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1514441482,"creation_date":1514441482,"answer_id":48002426,"question_id":42847732,"body_markdown":"Easiest solution would be, add the below lines in surefire plugin.\r\n\r\n    &lt;suiteXmlFiles&gt;\r\n        &lt;!-- pass testng.xml files as argument from command line --&gt;\r\n        &lt;suiteXmlFile&gt;${suiteXmlFile}&lt;/suiteXmlFile&gt;\r\n    &lt;/suiteXmlFiles&gt;\r\n\r\nAnd run your xml file as below,\r\n\r\n    mvn clean test -Dsurefire.suiteXmlFiles=/path/to/testng.xml","title":"How to run testng.xml from Maven command line","body":"<p>Easiest solution would be, add the below lines in surefire plugin.</p>\n\n<pre><code>&lt;suiteXmlFiles&gt;\n    &lt;!-- pass testng.xml files as argument from command line --&gt;\n    &lt;suiteXmlFile&gt;${suiteXmlFile}&lt;/suiteXmlFile&gt;\n&lt;/suiteXmlFiles&gt;\n</code></pre>\n\n<p>And run your xml file as below,</p>\n\n<pre><code>mvn clean test -Dsurefire.suiteXmlFiles=/path/to/testng.xml\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16425204,"reputation":959,"user_id":11865450,"display_name":"Vivek Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1623208315,"creation_date":1623207534,"answer_id":67896936,"question_id":42847732,"body_markdown":"**Need to pass path from the content root of testng.xml file between suiteXmlFiles tag** \r\n\r\nfor e.g. for my project in place of testng.xml i am using file name as AllTests.xml, which is located under folder TestSuites\r\n\r\n    &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.0.0-M5&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;suiteXmlFiles&gt;\r\n                            &lt;suiteXmlFile&gt;src/test/resources/TestSuites/AllTests.xml&lt;/suiteXmlFile&gt;\r\n                        &lt;/suiteXmlFiles&gt;\r\n                    &lt;/configuration&gt;\r\n     &lt;/plugin&gt;\r\n\r\nand now run `mvn clean test`,\r\nit will pick the test suite file from pom.xml and run all the test classes mentioned in this suite. \r\n\r\nNote:\r\n\r\n1. Reason we need to mention complete path of testng.xml file is,\r\nbecause by default maven will search this file directly under the project level \r\n\r\n2. If you using IntelliJ you can find Path from content root for your testng.xml file, by doing right click on the file-&gt; Copy Path -&gt; Path from content root\r\n","title":"How to run testng.xml from Maven command line","body":"<p><strong>Need to pass path from the content root of testng.xml file between suiteXmlFiles tag</strong></p>\n<p>for e.g. for my project in place of testng.xml i am using file name as AllTests.xml, which is located under folder TestSuites</p>\n<pre><code>&lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.0-M5&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;suiteXmlFiles&gt;\n                        &lt;suiteXmlFile&gt;src/test/resources/TestSuites/AllTests.xml&lt;/suiteXmlFile&gt;\n                    &lt;/suiteXmlFiles&gt;\n                &lt;/configuration&gt;\n &lt;/plugin&gt;\n</code></pre>\n<p>and now run <code>mvn clean test</code>,\nit will pick the test suite file from pom.xml and run all the test classes mentioned in this suite.</p>\n<p>Note:</p>\n<ol>\n<li><p>Reason we need to mention complete path of testng.xml file is,\nbecause by default maven will search this file directly under the project level</p>\n</li>\n<li><p>If you using IntelliJ you can find Path from content root for your testng.xml file, by doing right click on the file-&gt; Copy Path -&gt; Path from content root</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":10854251,"reputation":31,"user_id":7981112,"display_name":"ravi ch"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673247757,"creation_date":1673247757,"answer_id":75054040,"question_id":42847732,"body_markdown":"Followed exactly same as solution provided by @S-Kerrigan.But it is behaving differently in below scenario.\r\n\r\nIn my folder, there are 3 testng xml files but i am passing only one testng xml file during run time but it is executing all three xml files..\r\n\r\nIn properties in pom file defined as below:\r\n\r\n    &lt;defaultSuiteFiles&gt;sampletestng&lt;/defaultSuiteFiles&gt;\r\n    &lt;suiteFile&gt;${defaultSuiteFiles}&lt;/suiteFile&gt;\t\r\n\r\n  \r\nIn plugin as below:\r\n\r\n    &lt;plugin&gt;\r\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n    \t&lt;version&gt;${maven-surefire-plugin.version}&lt;/version&gt;\r\n    \t &lt;configuration&gt;\r\n    \t  &lt;testFailureIgnore&gt;true&lt;/testFailureIgnore&gt;\r\n    \t\t&lt;suiteXmlFiles&gt;\r\n    \t\t &lt;suiteXmlFile&gt;${suiteFile}&lt;/suiteXmlFile&gt;\r\n    \t\t&lt;/suiteXmlFiles&gt;\r\n    \t&lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\nIn CMD mvn clean test -DdefaultSuiteFiles=src/test/resources/TestSuites/precondiiton.xml\r\n","title":"How to run testng.xml from Maven command line","body":"<p>Followed exactly same as solution provided by @S-Kerrigan.But it is behaving differently in below scenario.</p>\n<p>In my folder, there are 3 testng xml files but i am passing only one testng xml file during run time but it is executing all three xml files..</p>\n<p>In properties in pom file defined as below:</p>\n<pre><code>&lt;defaultSuiteFiles&gt;sampletestng&lt;/defaultSuiteFiles&gt;\n&lt;suiteFile&gt;${defaultSuiteFiles}&lt;/suiteFile&gt; \n</code></pre>\n<p>In plugin as below:</p>\n<pre><code>&lt;plugin&gt;\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n    &lt;version&gt;${maven-surefire-plugin.version}&lt;/version&gt;\n     &lt;configuration&gt;\n      &lt;testFailureIgnore&gt;true&lt;/testFailureIgnore&gt;\n        &lt;suiteXmlFiles&gt;\n         &lt;suiteXmlFile&gt;${suiteFile}&lt;/suiteXmlFile&gt;\n        &lt;/suiteXmlFiles&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>In CMD mvn clean test -DdefaultSuiteFiles=src/test/resources/TestSuites/precondiiton.xml</p>\n"}],"owner":{"account_id":8673819,"reputation":369,"user_id":6491801,"accept_rate":73,"display_name":"jeffsia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72485,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"answer_count":5,"score":15,"last_activity_date":1673247757,"creation_date":1489714541,"question_id":42847732,"body_markdown":"I have the following entry in my pom.xml with the suite file defined in the configuration.\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.19.1&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n            &lt;suiteXmlFiles&gt;\r\n                &lt;suiteXmlFile&gt;testng.xml&lt;/suiteXmlFile&gt;\r\n            &lt;/suiteXmlFiles&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\nWhat is a the correct way to run this in cmd using maven? I am able to run the test with the command below but it doesn&#39;t make sense to indicate the testng.xml again in the command when it&#39;s already defined in the pom.\r\n\r\n     mvn clean test -DsuiteXmlFile=testng.xml\r\n\r\n","title":"How to run testng.xml from Maven command line","body":"<p>I have the following entry in my pom.xml with the suite file defined in the configuration.</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.19.1&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;suiteXmlFiles&gt;\n            &lt;suiteXmlFile&gt;testng.xml&lt;/suiteXmlFile&gt;\n        &lt;/suiteXmlFiles&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>What is a the correct way to run this in cmd using maven? I am able to run the test with the command below but it doesn't make sense to indicate the testng.xml again in the command when it's already defined in the pom.</p>\n\n<pre><code> mvn clean test -DsuiteXmlFile=testng.xml\n</code></pre>\n"},{"tags":["java","spring","spring-boot","enums","jackson"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1673246568,"post_id":75053897,"comment_id":132446662,"body_markdown":"*And if requestParam is empty/null, want to set default enum as ALL.* I think, that can you only manage with a custom deserializer","body":"<i>And if requestParam is empty/null, want to set default enum as ALL.</i> I think, that can you only manage with a custom deserializer"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1673246613,"post_id":75053897,"comment_id":132446668,"body_markdown":"Which library do you use to deserialize the requests? `jackson` or `gson`?","body":"Which library do you use to deserialize the requests? <code>jackson</code> or <code>gson</code>?"},{"owner":{"account_id":6364484,"reputation":534,"user_id":4938849,"display_name":"Remo"},"score":0,"creation_date":1673246733,"post_id":75053897,"comment_id":132446693,"body_markdown":"using jackson. and for setting default @RequestParam(value = &quot;mode&quot;, required = false, defaultValue = &quot;ALL&quot;), this will help","body":"using jackson. and for setting default @RequestParam(value = &quot;mode&quot;, required = false, defaultValue = &quot;ALL&quot;), this will help"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1673246756,"post_id":75053897,"comment_id":132446698,"body_markdown":"This is a regular `@RequestParam` that doesn&#39;t use the json serialization but rather plain request parameter binding. So you would need a custom converter for that, a `String` to `EmployeeMode` converter. For the default you could set `ALL` as the default value (you can then remove `required=false` as that is then implied).","body":"This is a regular <code>@RequestParam</code> that doesn&#39;t use the json serialization but rather plain request parameter binding. So you would need a custom converter for that, a <code>String</code> to <code>EmployeeMode</code> converter. For the default you could set <code>ALL</code> as the default value (you can then remove <code>required=false</code> as that is then implied)."},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1673246819,"post_id":75053897,"comment_id":132446706,"body_markdown":"Have you read [this](https://stackoverflow.com/questions/24157817/jackson-databind-enum-case-insensitive)","body":"Have you read <a href=\"https://stackoverflow.com/questions/24157817/jackson-databind-enum-case-insensitive\">this</a>"},{"owner":{"account_id":6364484,"reputation":534,"user_id":4938849,"display_name":"Remo"},"score":0,"creation_date":1673246873,"post_id":75053897,"comment_id":132446718,"body_markdown":"@Jens I read that and tried. but not worked out for me","body":"@Jens I read that and tried. but not worked out for me"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1673247577,"post_id":75053897,"comment_id":132446856,"body_markdown":"@Jens he is binding a regular parameter not deserializing a JSON body, so trying to solve this with configuring JSON (de)serializers or Jackson or Gson won&#39;t help a bit as that isn&#39;t being used at all when binding request parameters.","body":"@Jens he is binding a regular parameter not deserializing a JSON body, so trying to solve this with configuring JSON (de)serializers or Jackson or Gson won&#39;t help a bit as that isn&#39;t being used at all when binding request parameters."}],"answers":[{"comments":[{"owner":{"account_id":1816046,"reputation":1389,"user_id":1651107,"accept_rate":100,"display_name":"Piro"},"score":0,"creation_date":1680609767,"post_id":75053959,"comment_id":133923994,"body_markdown":"Careful with the WebMvcConfigurationSupport, it can have [huge consequences](https://stackoverflow.com/q/17898606/1651107), better to use WebMvcConfigurer that has same addFormatters method","body":"Careful with the WebMvcConfigurationSupport, it can have <a href=\"https://stackoverflow.com/q/17898606/1651107\">huge consequences</a>, better to use WebMvcConfigurer that has same addFormatters method"}],"tags":[],"owner":{"account_id":14614685,"reputation":61,"user_id":10555123,"display_name":"bidulgi69"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1673247099,"creation_date":1673247099,"answer_id":75053959,"question_id":75053897,"body_markdown":"You can handle it by implementing converter.\r\n\r\n    public class EmployeeModeConverter implements Converter&lt;String, EmployeeMode&gt; {\r\n        @Override\r\n        public EmployeeMode convert(String source) {\r\n            switch (source.toUpperCase()) {\r\n                case &quot;REGULAR&quot;: return EmployeeMode.Regular;\r\n                case &quot;TEMPROARY&quot;: return EmployeeMode.TEMPROARY;\r\n                default: return EmployeeMode.ALL;\r\n            }        \r\n        }\r\n    }\r\n\r\n    @Configuration\r\n    public class Config extends WebMvcConfigurationSupport {\r\n        @Override\r\n        public void addFormatters(FormatterRegistry registry) {\r\n            registry.addConverter(new EmployeeModeConverter());\r\n        }\r\n    }\r\n\r\n","title":"Deserialize requestParam enum case insensitive in spring boot using jackson","body":"<p>You can handle it by implementing converter.</p>\n<pre><code>public class EmployeeModeConverter implements Converter&lt;String, EmployeeMode&gt; {\n    @Override\n    public EmployeeMode convert(String source) {\n        switch (source.toUpperCase()) {\n            case &quot;REGULAR&quot;: return EmployeeMode.Regular;\n            case &quot;TEMPROARY&quot;: return EmployeeMode.TEMPROARY;\n            default: return EmployeeMode.ALL;\n        }        \n    }\n}\n\n@Configuration\npublic class Config extends WebMvcConfigurationSupport {\n    @Override\n    public void addFormatters(FormatterRegistry registry) {\n        registry.addConverter(new EmployeeModeConverter());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":6364484,"reputation":534,"user_id":4938849,"display_name":"Remo"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":810,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673247099,"creation_date":1673246447,"question_id":75053897,"body_markdown":"I&#39;m having below api\r\n\r\n```\r\n  @GetMapping(value = &quot;/employees&quot;)\r\n    public List&lt;Employee&gt; getEmployees(\r\n        @RequestParam(value = &quot;mode&quot;, required = false) final EmployeeMode mode) {\r\n        //calling service from here\r\n    }\r\n```\r\nI&#39;m having EmployeeMode enum as requestParam.\r\n\r\n```\r\npublic enum EmployeeMode {\r\n\r\n    REGULAR,\r\n    ALL,\r\n    TEMPROARY\r\n}\r\n```\r\n\r\nI want to accept request with case insensitive. Tried with ```@JsonAlias```, ```@JsonCreator``` and ```objectMapper.configure(MapperFeature.ACCEPT_CASE_INSENSITIVE_ENUMS, true);``` and ```spring.jackson.mapper.accept-case-insensitive-enums: true```. nothing worked for me.\r\n\r\nI&#39;m using spring boot 2.5.5.\r\n\r\nHow to accept case insensitive request with requestParam? And if requestParam is empty/null, want to set default enum as ALL.\r\n\r\n","title":"Deserialize requestParam enum case insensitive in spring boot using jackson","body":"<p>I'm having below api</p>\n<pre><code>  @GetMapping(value = &quot;/employees&quot;)\n    public List&lt;Employee&gt; getEmployees(\n        @RequestParam(value = &quot;mode&quot;, required = false) final EmployeeMode mode) {\n        //calling service from here\n    }\n</code></pre>\n<p>I'm having EmployeeMode enum as requestParam.</p>\n<pre><code>public enum EmployeeMode {\n\n    REGULAR,\n    ALL,\n    TEMPROARY\n}\n</code></pre>\n<p>I want to accept request with case insensitive. Tried with <code>@JsonAlias</code>, <code>@JsonCreator</code> and <code>objectMapper.configure(MapperFeature.ACCEPT_CASE_INSENSITIVE_ENUMS, true);</code> and <code>spring.jackson.mapper.accept-case-insensitive-enums: true</code>. nothing worked for me.</p>\n<p>I'm using spring boot 2.5.5.</p>\n<p>How to accept case insensitive request with requestParam? And if requestParam is empty/null, want to set default enum as ALL.</p>\n"},{"tags":["java","spring","spring-boot","spring-security"],"comments":[{"owner":{"account_id":14320275,"reputation":1315,"user_id":10343888,"display_name":"fatih"},"score":0,"creation_date":1672126946,"post_id":74926541,"comment_id":132224721,"body_markdown":"Why did you exclude the `SecurityAutoConfiguration` class?","body":"Why did you exclude the <code>SecurityAutoConfiguration</code> class?"},{"owner":{"account_id":20586928,"reputation":19,"user_id":15111586,"display_name":"Amirreza Andishmand"},"score":0,"creation_date":1672137516,"post_id":74926541,"comment_id":132226862,"body_markdown":"@fatih I do not have such a class in the project.\nI am attaching the available classes in a photo","body":"@fatih I do not have such a class in the project. I am attaching the available classes in a photo"},{"owner":{"account_id":14320275,"reputation":1315,"user_id":10343888,"display_name":"fatih"},"score":0,"creation_date":1672143597,"post_id":74926541,"comment_id":132228219,"body_markdown":"Can you try to remove the exclude part for `@EnableAutoConfiguration` in `WebSecurityConfig` class?","body":"Can you try to remove the exclude part for <code>@EnableAutoConfiguration</code> in <code>WebSecurityConfig</code> class?"},{"owner":{"account_id":20586928,"reputation":19,"user_id":15111586,"display_name":"Amirreza Andishmand"},"score":0,"creation_date":1672148387,"post_id":74926541,"comment_id":132229443,"body_markdown":"@fatih i deleted .A few lines were added to the trace results which I added","body":"@fatih i deleted .A few lines were added to the trace results which I added"}],"owner":{"account_id":20586928,"reputation":19,"user_id":15111586,"display_name":"Amirreza Andishmand"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":230,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673246894,"creation_date":1672124711,"question_id":74926541,"body_markdown":"I have a spring boot project\r\n\r\nWhen authenticating in project, after authenticating with the admin account, I encountered an anonymous role.\r\n\r\nCan you please advise what is the reason and how to solve it?\r\n\r\nMeanwhile, I use Angular as the front end of the project\r\n\r\n**This is my webSecurityConfig**\r\n\r\n```\r\n\r\npublic class WebSecurityConfig {\r\n    @Autowired\r\n    UserDetailsServiceImpl userDetailsService;\r\n\r\n    @Autowired\r\n    private AuthEntryPointJwt unauthorizedHandler;\r\n\r\n    @Bean\r\n    public AuthTokenFilter authenticationJwtTokenFilter() {\r\n        return new AuthTokenFilter();\r\n    }\r\n\r\n    @Bean\r\n    public DaoAuthenticationProvider authenticationProvider() {\r\n        DaoAuthenticationProvider authProvider = new DaoAuthenticationProvider();\r\n\r\n        authProvider.setUserDetailsService(userDetailsService);\r\n        authProvider.setPasswordEncoder(passwordEncoder());\r\n\r\n        return authProvider;\r\n    }\r\n\r\n    @Bean\r\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration authConfig) throws Exception {\r\n        return authConfig.getAuthenticationManager();\r\n    }\r\n\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http.cors().and().csrf().disable()\r\n                .exceptionHandling().authenticationEntryPoint(unauthorizedHandler).and()\r\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS).and()\r\n                .authorizeRequests().antMatchers(&quot;/api2/auth/**&quot;).permitAll()\r\n                .anyRequest().authenticated();\r\n\r\n        http.authenticationProvider(authenticationProvider());\r\n\r\n        http.addFilterBefore(authenticationJwtTokenFilter(), UsernamePasswordAuthenticationFilter.class);\r\n\r\n        return http.build();\r\n    }\r\n}\r\n```\r\n\r\n**Auth Controller:**\r\n\r\n```\r\n\r\n@CrossOrigin(origins = &quot;http://localhost:4200&quot;, maxAge = 3600)\r\n@RestController\r\n@RequestMapping(&quot;/api2/auth&quot;)\r\npublic class AuthController {\r\n        @Autowired\r\n        AuthenticationManager authenticationManager;\r\n        @Autowired\r\n        UserRepository userRepository;\r\n        @Autowired\r\n        RoleRepository roleRepository;\r\n        @Autowired\r\n        PasswordEncoder encoder;\r\n        @Autowired\r\n        JwtUtils jwtUtils;\r\n\r\n        @PostMapping(&quot;/signin&quot;)\r\n        public ResponseEntity&lt;?&gt; authenticateUser(@Valid @RequestBody LoginRequest loginRequest) {\r\n            Authentication authentication = authenticationManager\r\n                    .authenticate(new UsernamePasswordAuthenticationToken(loginRequest.getUsername(), loginRequest.getPassword()));\r\n            SecurityContextHolder.getContext().setAuthentication(authentication);\r\n\r\n            UserDetailsImpl userDetails = (UserDetailsImpl) authentication.getPrincipal();\r\n            ResponseCookie jwtCookie = jwtUtils.generateJwtCookie(userDetails);\r\n            List&lt;String&gt; roles = userDetails.getAuthorities().stream()\r\n                    .map(item -&gt; item.getAuthority())\r\n                    .collect(Collectors.toList());\r\n            return ResponseEntity.ok().header(HttpHeaders.SET_COOKIE, jwtCookie.toString())\r\n                    .body(new UserInfoResponse(userDetails.getId(),\r\n                            userDetails.getUsername(),\r\n                            userDetails.getPassword(),\r\n                            roles));\r\n        }\r\n\r\n        @PostMapping(&quot;/signup&quot;)\r\n        public ResponseEntity&lt;?&gt; registerUser(@Valid @RequestBody SignupRequest signUpRequest) {\r\n            if (userRepository.existsByUsername(signUpRequest.getUsername())) {\r\n                return ResponseEntity.badRequest().body(new MessageResponse(&quot;Error: Username is already taken!&quot;));\r\n            }\r\n\r\n            // Create new user&#39;s account\r\n            User user = new User(signUpRequest.getUsername(),\r\n                    encoder.encode(signUpRequest.getPassword()));\r\n            Set&lt;String&gt; strRoles =  signUpRequest.getRole();\r\n            Set&lt;Role&gt; roles = new HashSet&lt;&gt;();\r\n            if (strRoles == null) {\r\n                Role userRole = roleRepository.findByName(ERole.ROLE_USER)\r\n                        .orElseThrow(() -&gt; new RuntimeException(&quot;Error: Role is not found.&quot;));\r\n                roles.add(userRole);\r\n            } else {\r\n                strRoles.forEach(role -&gt; {\r\n                    if (&quot;admin&quot;.equals(role)) {\r\n                        Role adminRole = roleRepository.findByName(ERole.ROLE_ADMIN)\r\n                                .orElseThrow(() -&gt; new RuntimeException(&quot;Error: Role is not found.&quot;));\r\n                        roles.add(adminRole);\r\n\r\n                    } else if (&quot;user&quot;.equals(role)) {\r\n                        Role userRole = roleRepository.findByName(ERole.ROLE_USER)\r\n                                .orElseThrow(() -&gt; new RuntimeException(&quot;Error: Role is not found.&quot;));\r\n                        roles.add(userRole);\r\n                    }\r\n                });\r\n            }\r\n            user.setRoles(roles);\r\n            userRepository.save(user);\r\n            return ResponseEntity.ok(new MessageResponse(&quot;User registered successfully!&quot;));\r\n        }\r\n\r\n        @PostMapping(&quot;/signout&quot;)\r\n        public ResponseEntity&lt;?&gt; logoutUser() {\r\n            ResponseCookie cookie = jwtUtils.getCleanJwtCookie();\r\n            return ResponseEntity.ok().header(HttpHeaders.SET_COOKIE, cookie.toString())\r\n                    .body(new MessageResponse(&quot;You&#39;ve been signed out!&quot;));\r\n        }\r\n    }\r\n```\r\n\r\n**result of trace:**\r\n\r\n&gt; ERROR 2540 ---  c.s.e.security.jwt.AuthEntryPointJwt     : Unauthorized error: Full authentication is required to access this resource\r\n&gt;\r\n&gt; TRACE 2540 ---  o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to \\[Is Secure\\]\r\n&gt;\r\n&gt; DEBUG 2540 ---  s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request\r\n&gt;\r\n&gt; TRACE 2540 --- o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain \\[RequestMatcher=any request, Filters=\\[org.springframework.security.web.session.DisableEncodeUrlFilter...\\]\r\n&gt;\r\n&gt; TRACE 2540 ---  o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)\r\n&gt;\r\n&gt; TRACE 2540 --- \\[nio-8080-exec-2\\] o.s.security.web.FilterChainProxy        : Invoking SecurityContextPersistenceFilter (3/13)\r\n&gt;\r\n&gt; DEBUG 2540 --- s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext\r\n&gt;\r\n&gt; TRACE 2540 --- o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)\r\n&gt;\r\n&gt; TRACE 2540 --- o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)\r\n&gt;\r\n&gt; TRACE 2540 ---  o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)\r\n&gt;\r\n&gt; TRACE 2540 ---  o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or \\[Ant \\[pattern=&#39;/logout&#39;, GET\\], Ant \\[pattern=&#39;/logout&#39;, POST\\], Ant \\[pattern=&#39;/logout&#39;, PUT\\], Ant \\[pattern=&#39;/logout&#39;, DELETE\\]\\]\r\n&gt;\r\n&gt; TRACE 2540 ---  o.s.security.web.FilterChainProxy        : Invoking AuthTokenFilter (7/13)\r\n&gt;\r\n&gt; TRACE 2540 ---  o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)\r\n&gt;\r\n&gt; TRACE 2540 ---  o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)\r\n&gt;\r\n&gt; TRACE 2540 ---  o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)\r\n&gt;\r\n&gt; TRACE 2540 ---\\[ o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken \\[Principal=anonymousUser, Credentials=\\[PROTECTED\\], Authenticated=true, Details=WebAuthenticationDetails \\[RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null\\], Granted Authorities=\\[ROLE_ANONYMOUS\\]\\]\r\n&gt;\r\n&gt; TRACE 2540 ---  o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)\r\n&gt;\r\n&gt; TRACE 2540 --- \\[nio-8080-exec-2\\] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)\r\n&gt;\r\n&gt; TRACE 2540 --- \\[nio-8080-exec-2\\] o.s.security.web.FilterChainProxy        : Invoking FilterSecurityInterceptor (13/13)\r\n&gt;\r\n&gt; TRACE 2540 --- \\[nio-8080-exec-2\\] edFilterInvocationSecurityMetadataSource : Did not match request to Ant \\[pattern=&#39;/api2/auth/\\*\\*&#39;\\] - \\[permitAll\\] (1/2)\r\n&gt;\r\n&gt; TRACE 2540 ---o.s.s.w.a.i.FilterSecurityInterceptor    : Did not re-authenticate AnonymousAuthenticationToken \\[Principal=anonymousUser, Credentials=\\[PROTECTED\\], Authenticated=true, Details=WebAuthenticationDetails \\[RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null\\], Granted Authorities=\\[ROLE_ANONYMOUS\\]\\] before authorizing\r\n&gt;\r\n&gt; TRACE 2540 ---  o.s.s.w.a.expression.WebExpressionVoter  : Voted to deny authorization\r\n&gt;\r\n&gt; TRACE 2540 ---  o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation \\[GET /product/slider\\] with attributes \\[authenticated\\] using AffirmativeBased \\[DecisionVoters=\\[org.springframework.security.web.access.expression.WebExpressionVoter@1dcad16f\\], AllowIfAllAbstainDecisions=false\\]\r\n&gt;\r\n&gt; TRACE 2540 ---  o.s.s.w.a.ExceptionTranslationFilter     : Sending AnonymousAuthenticationToken \\[Principal=anonymousUser, Credentials=\\[PROTECTED\\], Authenticated=true, Details=WebAuthenticationDetails \\[RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null\\], Granted Authorities=\\[ROLE_ANONYMOUS\\]\\] to authentication entry point since access is denied\r\n\r\n&gt; **Added**\r\n\r\n &gt;ERROR 8184 ---  c.s.e.security.jwt.AuthEntryPointJwt     : Unauthorized error: Full authentication is required to access this resource &gt;\r\n\r\n&gt;TRACE 8184 --- o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure] &gt;\r\n\r\n&gt;DEBUG 8184 --- s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request\r\n\r\nProject classes: \r\n\r\n[![enter image description here][1]][1]\r\n\r\n**Thank you for your time**\r\n\r\nI tried many ways from stackoverflow and other places to solve this problem, but I didn&#39;t get any results.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jqe1K.png","title":"Anonymous Role in springboot project after autenticated","body":"<p>I have a spring boot project</p>\n<p>When authenticating in project, after authenticating with the admin account, I encountered an anonymous role.</p>\n<p>Can you please advise what is the reason and how to solve it?</p>\n<p>Meanwhile, I use Angular as the front end of the project</p>\n<p><strong>This is my webSecurityConfig</strong></p>\n<pre><code>\npublic class WebSecurityConfig {\n    @Autowired\n    UserDetailsServiceImpl userDetailsService;\n\n    @Autowired\n    private AuthEntryPointJwt unauthorizedHandler;\n\n    @Bean\n    public AuthTokenFilter authenticationJwtTokenFilter() {\n        return new AuthTokenFilter();\n    }\n\n    @Bean\n    public DaoAuthenticationProvider authenticationProvider() {\n        DaoAuthenticationProvider authProvider = new DaoAuthenticationProvider();\n\n        authProvider.setUserDetailsService(userDetailsService);\n        authProvider.setPasswordEncoder(passwordEncoder());\n\n        return authProvider;\n    }\n\n    @Bean\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration authConfig) throws Exception {\n        return authConfig.getAuthenticationManager();\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http.cors().and().csrf().disable()\n                .exceptionHandling().authenticationEntryPoint(unauthorizedHandler).and()\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS).and()\n                .authorizeRequests().antMatchers(&quot;/api2/auth/**&quot;).permitAll()\n                .anyRequest().authenticated();\n\n        http.authenticationProvider(authenticationProvider());\n\n        http.addFilterBefore(authenticationJwtTokenFilter(), UsernamePasswordAuthenticationFilter.class);\n\n        return http.build();\n    }\n}\n</code></pre>\n<p><strong>Auth Controller:</strong></p>\n<pre><code>\n@CrossOrigin(origins = &quot;http://localhost:4200&quot;, maxAge = 3600)\n@RestController\n@RequestMapping(&quot;/api2/auth&quot;)\npublic class AuthController {\n        @Autowired\n        AuthenticationManager authenticationManager;\n        @Autowired\n        UserRepository userRepository;\n        @Autowired\n        RoleRepository roleRepository;\n        @Autowired\n        PasswordEncoder encoder;\n        @Autowired\n        JwtUtils jwtUtils;\n\n        @PostMapping(&quot;/signin&quot;)\n        public ResponseEntity&lt;?&gt; authenticateUser(@Valid @RequestBody LoginRequest loginRequest) {\n            Authentication authentication = authenticationManager\n                    .authenticate(new UsernamePasswordAuthenticationToken(loginRequest.getUsername(), loginRequest.getPassword()));\n            SecurityContextHolder.getContext().setAuthentication(authentication);\n\n            UserDetailsImpl userDetails = (UserDetailsImpl) authentication.getPrincipal();\n            ResponseCookie jwtCookie = jwtUtils.generateJwtCookie(userDetails);\n            List&lt;String&gt; roles = userDetails.getAuthorities().stream()\n                    .map(item -&gt; item.getAuthority())\n                    .collect(Collectors.toList());\n            return ResponseEntity.ok().header(HttpHeaders.SET_COOKIE, jwtCookie.toString())\n                    .body(new UserInfoResponse(userDetails.getId(),\n                            userDetails.getUsername(),\n                            userDetails.getPassword(),\n                            roles));\n        }\n\n        @PostMapping(&quot;/signup&quot;)\n        public ResponseEntity&lt;?&gt; registerUser(@Valid @RequestBody SignupRequest signUpRequest) {\n            if (userRepository.existsByUsername(signUpRequest.getUsername())) {\n                return ResponseEntity.badRequest().body(new MessageResponse(&quot;Error: Username is already taken!&quot;));\n            }\n\n            // Create new user's account\n            User user = new User(signUpRequest.getUsername(),\n                    encoder.encode(signUpRequest.getPassword()));\n            Set&lt;String&gt; strRoles =  signUpRequest.getRole();\n            Set&lt;Role&gt; roles = new HashSet&lt;&gt;();\n            if (strRoles == null) {\n                Role userRole = roleRepository.findByName(ERole.ROLE_USER)\n                        .orElseThrow(() -&gt; new RuntimeException(&quot;Error: Role is not found.&quot;));\n                roles.add(userRole);\n            } else {\n                strRoles.forEach(role -&gt; {\n                    if (&quot;admin&quot;.equals(role)) {\n                        Role adminRole = roleRepository.findByName(ERole.ROLE_ADMIN)\n                                .orElseThrow(() -&gt; new RuntimeException(&quot;Error: Role is not found.&quot;));\n                        roles.add(adminRole);\n\n                    } else if (&quot;user&quot;.equals(role)) {\n                        Role userRole = roleRepository.findByName(ERole.ROLE_USER)\n                                .orElseThrow(() -&gt; new RuntimeException(&quot;Error: Role is not found.&quot;));\n                        roles.add(userRole);\n                    }\n                });\n            }\n            user.setRoles(roles);\n            userRepository.save(user);\n            return ResponseEntity.ok(new MessageResponse(&quot;User registered successfully!&quot;));\n        }\n\n        @PostMapping(&quot;/signout&quot;)\n        public ResponseEntity&lt;?&gt; logoutUser() {\n            ResponseCookie cookie = jwtUtils.getCleanJwtCookie();\n            return ResponseEntity.ok().header(HttpHeaders.SET_COOKIE, cookie.toString())\n                    .body(new MessageResponse(&quot;You've been signed out!&quot;));\n        }\n    }\n</code></pre>\n<p><strong>result of trace:</strong></p>\n<blockquote>\n<p>ERROR 2540 ---  c.s.e.security.jwt.AuthEntryPointJwt     : Unauthorized error: Full authentication is required to access this resource</p>\n<p>TRACE 2540 ---  o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]</p>\n<p>DEBUG 2540 ---  s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request</p>\n<p>TRACE 2540 --- o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter...]</p>\n<p>TRACE 2540 ---  o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)</p>\n<p>TRACE 2540 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextPersistenceFilter (3/13)</p>\n<p>DEBUG 2540 --- s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext</p>\n<p>TRACE 2540 --- o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)</p>\n<p>TRACE 2540 --- o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)</p>\n<p>TRACE 2540 ---  o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)</p>\n<p>TRACE 2540 ---  o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]</p>\n<p>TRACE 2540 ---  o.s.security.web.FilterChainProxy        : Invoking AuthTokenFilter (7/13)</p>\n<p>TRACE 2540 ---  o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)</p>\n<p>TRACE 2540 ---  o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)</p>\n<p>TRACE 2540 ---  o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)</p>\n<p>TRACE 2540 ---[ o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]</p>\n<p>TRACE 2540 ---  o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)</p>\n<p>TRACE 2540 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)</p>\n<p>TRACE 2540 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking FilterSecurityInterceptor (13/13)</p>\n<p>TRACE 2540 --- [nio-8080-exec-2] edFilterInvocationSecurityMetadataSource : Did not match request to Ant [pattern='/api2/auth/**'] - [permitAll] (1/2)</p>\n<p>TRACE 2540 ---o.s.s.w.a.i.FilterSecurityInterceptor    : Did not re-authenticate AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]] before authorizing</p>\n<p>TRACE 2540 ---  o.s.s.w.a.expression.WebExpressionVoter  : Voted to deny authorization</p>\n<p>TRACE 2540 ---  o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /product/slider] with attributes [authenticated] using AffirmativeBased [DecisionVoters=[org.springframework.security.web.access.expression.WebExpressionVoter@1dcad16f], AllowIfAllAbstainDecisions=false]</p>\n<p>TRACE 2540 ---  o.s.s.w.a.ExceptionTranslationFilter     : Sending AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]] to authentication entry point since access is denied</p>\n</blockquote>\n<blockquote>\n<p><strong>Added</strong></p>\n</blockquote>\n<blockquote>\n<p>ERROR 8184 ---  c.s.e.security.jwt.AuthEntryPointJwt     : Unauthorized error: Full authentication is required to access this resource &gt;</p>\n</blockquote>\n<blockquote>\n<p>TRACE 8184 --- o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure] &gt;</p>\n</blockquote>\n<blockquote>\n<p>DEBUG 8184 --- s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request</p>\n</blockquote>\n<p>Project classes:</p>\n<p><a href=\"https://i.stack.imgur.com/jqe1K.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jqe1K.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Thank you for your time</strong></p>\n<p>I tried many ways from stackoverflow and other places to solve this problem, but I didn't get any results.</p>\n"},{"tags":["java","gradle","groovy"],"answers":[{"comments":[{"owner":{"account_id":14018267,"reputation":103,"user_id":10125153,"display_name":"user10125153"},"score":1,"creation_date":1645525577,"post_id":71218832,"comment_id":125888573,"body_markdown":"Thank you! Solved it, I put it in the buildscript block and use it only with Gradle Script.","body":"Thank you! Solved it, I put it in the buildscript block and use it only with Gradle Script."}],"tags":[],"owner":{"account_id":15663576,"reputation":2342,"user_id":11301941,"display_name":"George"},"comment_count":1,"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1645522334,"creation_date":1645522334,"answer_id":71218832,"question_id":71216665,"body_markdown":"You missing the needed dependency. \r\n\r\nAdd `org.codehaus.groovy:groovy-json:3.0.9` in `dependencies` section so ti will look like \r\n\r\n```\r\ndependencies {\r\n    testImplementation &#39;org.junit.jupiter:junit-jupiter-api:5.8.1&#39;\r\n    testRuntimeOnly &#39;org.junit.jupiter:junit-jupiter-engine:5.8.1&#39;\r\n    implementation &#39;org.codehaus.groovy:groovy-json:3.0.9&#39;\r\n}\r\n```\r\nAnd then you can test with CLI as `gradle sample` or `./gradlew sample` and it will return `{a=b}`","title":"build.gradle cannot resolve symbol &#39;groovy.json.JsonSlurper&#39;","body":"<p>You missing the needed dependency.</p>\n<p>Add <code>org.codehaus.groovy:groovy-json:3.0.9</code> in <code>dependencies</code> section so ti will look like</p>\n<pre><code>dependencies {\n    testImplementation 'org.junit.jupiter:junit-jupiter-api:5.8.1'\n    testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.8.1'\n    implementation 'org.codehaus.groovy:groovy-json:3.0.9'\n}\n</code></pre>\n<p>And then you can test with CLI as <code>gradle sample</code> or <code>./gradlew sample</code> and it will return <code>{a=b}</code></p>\n"}],"owner":{"account_id":14018267,"reputation":103,"user_id":10125153,"display_name":"user10125153"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7793,"favorite_count":0,"down_vote_count":1,"up_vote_count":10,"accepted_answer_id":71218832,"answer_count":1,"score":9,"last_activity_date":1673246811,"creation_date":1645510469,"question_id":71216665,"body_markdown":"I can&#39;t resolve the groovy.json.JsonSlurper in the build.gradle file with Intellij, does anyone know how to fix it?\r\n\r\n\r\n```java\r\n\r\nplugins {\r\n    id &#39;java&#39;\r\n}\r\n\r\ngroup &#39;org.example&#39;\r\nversion &#39;1.0-SNAPSHOT&#39;\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    testImplementation &#39;org.junit.jupiter:junit-jupiter-api:5.8.1&#39;\r\n    testRuntimeOnly &#39;org.junit.jupiter:junit-jupiter-engine:5.8.1&#39;\r\n}\r\n\r\ntest {\r\n    useJUnitPlatform()\r\n}\r\n\r\n\r\n\r\ntask sample() {\r\n    doLast {\r\n        sample();\r\n    }\r\n}\r\n\r\nimport groovy.json.JsonSlurper\r\ndef sample(){\r\n    def json = new JsonSlurper().parseText(&#39;{&quot;a&quot;:&quot;b&quot;}&#39;)\r\n    println(json);\r\n}\r\n\r\n```\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/HSqTu.png","title":"build.gradle cannot resolve symbol &#39;groovy.json.JsonSlurper&#39;","body":"<p>I can't resolve the groovy.json.JsonSlurper in the build.gradle file with Intellij, does anyone know how to fix it?</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nplugins {\n    id 'java'\n}\n\ngroup 'org.example'\nversion '1.0-SNAPSHOT'\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    testImplementation 'org.junit.jupiter:junit-jupiter-api:5.8.1'\n    testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.8.1'\n}\n\ntest {\n    useJUnitPlatform()\n}\n\n\n\ntask sample() {\n    doLast {\n        sample();\n    }\n}\n\nimport groovy.json.JsonSlurper\ndef sample(){\n    def json = new JsonSlurper().parseText('{&quot;a&quot;:&quot;b&quot;}')\n    println(json);\n}\n\n</code></pre>\n<p><img src=\"https://i.stack.imgur.com/HSqTu.png\" alt=\"enter image description here\" /></p>\n"},{"tags":["java","android","date","time"],"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1511973977,"post_id":10690370,"comment_id":82072961,"body_markdown":"This code uses troublesome old date-time classes now supplanted by the java.time classes. For older Java and Android, see the *ThreeTen-Backport* and *ThreeTenABP* projects.","body":"This code uses troublesome old date-time classes now supplanted by the java.time classes. For older Java and Android, see the <i>ThreeTen-Backport</i> and <i>ThreeTenABP</i> projects."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1517355534,"post_id":10690370,"comment_id":84060095,"body_markdown":"Similar Question: [*date difference in days, in Android*](https://stackoverflow.com/q/5405610/642706)","body":"Similar Question: <a href=\"https://stackoverflow.com/q/5405610/642706\"><i>date difference in days, in Android</i></a>"},{"owner":{"account_id":20450406,"reputation":1339,"user_id":15005298,"display_name":"Yaqoob Bhatti"},"score":0,"creation_date":1630408409,"post_id":10690370,"comment_id":121942558,"body_markdown":"Try this https://stackoverflow.com/a/68997515/15005298","body":"Try this <a href=\"https://stackoverflow.com/a/68997515/15005298\">stackoverflow.com/a/68997515/15005298</a>"}],"answers":[{"comments":[{"owner":{"account_id":118267,"reputation":5132,"user_id":309166,"accept_rate":65,"display_name":"Alex K"},"score":1,"creation_date":1337627740,"post_id":10690542,"comment_id":13877011,"body_markdown":"Can I create Date object from this info?","body":"Can I create Date object from this info?"},{"owner":{"account_id":327702,"reputation":17684,"user_id":650233,"accept_rate":75,"display_name":"Dan F"},"score":1,"creation_date":1337630266,"post_id":10690542,"comment_id":13878005,"body_markdown":"It is a time, not a date, what kind of date are you attempting to create?","body":"It is a time, not a date, what kind of date are you attempting to create?"}],"tags":[],"owner":{"account_id":327702,"reputation":17684,"user_id":650233,"accept_rate":75,"display_name":"Dan F"},"comment_count":2,"down_vote_count":1,"up_vote_count":165,"is_accepted":true,"score":164,"last_activity_date":1594208940,"creation_date":1337624656,"answer_id":10690542,"question_id":10690370,"body_markdown":"You&#39;re close to the right answer, you are getting the difference in milliseconds between those two dates, but when you attempt to construct a date out of that difference, it is assuming you want to create a new `Date` object with that difference value as its epoch time.  If you&#39;re looking for a time in hours, then you would simply need to do some basic arithmetic on that `diff` to get the different time parts.\r\n\r\nJava:\r\n\r\n    long diff = date1.getTime() - date2.getTime();\r\n    long seconds = diff / 1000;\r\n    long minutes = seconds / 60;\r\n    long hours = minutes / 60;\r\n    long days = hours / 24;\r\n\r\nKotlin:\r\n\r\n    val diff: Long = date1.getTime() - date2.getTime()\r\n    val seconds = diff / 1000\r\n    val minutes = seconds / 60\r\n    val hours = minutes / 60\r\n    val days = hours / 24\r\n\r\nAll of this math will simply do integer arithmetic, so it will truncate any decimal points","title":"How do I get difference between two dates in android?, tried every thing and post","body":"<p>You're close to the right answer, you are getting the difference in milliseconds between those two dates, but when you attempt to construct a date out of that difference, it is assuming you want to create a new <code>Date</code> object with that difference value as its epoch time.  If you're looking for a time in hours, then you would simply need to do some basic arithmetic on that <code>diff</code> to get the different time parts.</p>\n<p>Java:</p>\n<pre><code>long diff = date1.getTime() - date2.getTime();\nlong seconds = diff / 1000;\nlong minutes = seconds / 60;\nlong hours = minutes / 60;\nlong days = hours / 24;\n</code></pre>\n<p>Kotlin:</p>\n<pre><code>val diff: Long = date1.getTime() - date2.getTime()\nval seconds = diff / 1000\nval minutes = seconds / 60\nval hours = minutes / 60\nval days = hours / 24\n</code></pre>\n<p>All of this math will simply do integer arithmetic, so it will truncate any decimal points</p>\n"},{"comments":[{"owner":{"account_id":6176475,"reputation":89,"user_id":4813194,"accept_rate":17,"display_name":"Satendra Baghel"},"score":1,"creation_date":1535800209,"post_id":24279153,"comment_id":91205485,"body_markdown":"From your method i am subtracting two date current date and 10 days old date it is returning negative milliseconds. if using both current day date difference in hour are returning positive milliseconds. Why?","body":"From your method i am subtracting two date current date and 10 days old date it is returning negative milliseconds. if using both current day date difference in hour are returning positive milliseconds. Why?"},{"owner":{"account_id":12483088,"reputation":751,"user_id":9087148,"display_name":"Deepak Rajput"},"score":0,"creation_date":1593059288,"post_id":24279153,"comment_id":110647899,"body_markdown":"Change diff into :  long diff = currentDate.getTime() - oldDate.getTime();\nIt will help.","body":"Change diff into :  long diff = currentDate.getTime() - oldDate.getTime(); It will help."}],"tags":[],"owner":{"account_id":155220,"reputation":6787,"user_id":371720,"accept_rate":58,"display_name":"Shihab Uddin"},"comment_count":2,"down_vote_count":1,"up_vote_count":25,"is_accepted":false,"score":24,"last_activity_date":1403075409,"creation_date":1403075409,"answer_id":24279153,"question_id":10690370,"body_markdown":"**Some addition:** \r\nHere I convert string to date then I compare the current time. \r\n\r\n    String toyBornTime = &quot;2014-06-18 12:56:50&quot;;\r\n\t\tSimpleDateFormat dateFormat = new SimpleDateFormat(\r\n\t\t\t\t&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n\r\n\t\ttry {\r\n\r\n\t\t\tDate oldDate = dateFormat.parse(toyBornTime);\r\n\t\t\tSystem.out.println(oldDate);\r\n\r\n\t\t\tDate currentDate = new Date();\r\n\r\n\t\t\tlong diff = currentDate.getTime() - oldDate.getTime();\r\n\t\t\tlong seconds = diff / 1000;\r\n\t\t\tlong minutes = seconds / 60;\r\n\t\t\tlong hours = minutes / 60;\r\n\t\t\tlong days = hours / 24;\r\n\r\n\t\t\tif (oldDate.before(currentDate)) {\r\n\r\n\t\t\t\tLog.e(&quot;oldDate&quot;, &quot;is previous date&quot;);\r\n\t\t\t\tLog.e(&quot;Difference: &quot;, &quot; seconds: &quot; + seconds + &quot; minutes: &quot; + minutes\r\n\t\t\t\t\t\t+ &quot; hours: &quot; + hours + &quot; days: &quot; + days);\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// Log.e(&quot;toyBornTime&quot;, &quot;&quot; + toyBornTime);\r\n\r\n\t\t} catch (ParseException e) {\r\n\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n","title":"How do I get difference between two dates in android?, tried every thing and post","body":"<p><strong>Some addition:</strong> \nHere I convert string to date then I compare the current time. </p>\n\n<pre><code>String toyBornTime = \"2014-06-18 12:56:50\";\n    SimpleDateFormat dateFormat = new SimpleDateFormat(\n            \"yyyy-MM-dd HH:mm:ss\");\n\n    try {\n\n        Date oldDate = dateFormat.parse(toyBornTime);\n        System.out.println(oldDate);\n\n        Date currentDate = new Date();\n\n        long diff = currentDate.getTime() - oldDate.getTime();\n        long seconds = diff / 1000;\n        long minutes = seconds / 60;\n        long hours = minutes / 60;\n        long days = hours / 24;\n\n        if (oldDate.before(currentDate)) {\n\n            Log.e(\"oldDate\", \"is previous date\");\n            Log.e(\"Difference: \", \" seconds: \" + seconds + \" minutes: \" + minutes\n                    + \" hours: \" + hours + \" days: \" + days);\n\n        }\n\n        // Log.e(\"toyBornTime\", \"\" + toyBornTime);\n\n    } catch (ParseException e) {\n\n        e.printStackTrace();\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":392397,"reputation":28086,"user_id":753632,"accept_rate":57,"display_name":"Johann"},"score":7,"creation_date":1638798928,"post_id":35293784,"comment_id":124176501,"body_markdown":"Requires API Level 31.","body":"Requires API Level 31."}],"tags":[],"owner":{"account_id":1452909,"reputation":887,"user_id":1369285,"accept_rate":43,"display_name":"Dude"},"comment_count":1,"down_vote_count":2,"up_vote_count":64,"is_accepted":false,"score":62,"last_activity_date":1455026231,"creation_date":1455025879,"answer_id":35293784,"question_id":10690370,"body_markdown":"\t    long diffInMillisec = date1.getTime() - date2.getTime();\r\n\r\n        long diffInDays = TimeUnit.MILLISECONDS.toDays(diffInMillisec);\r\n        long diffInHours = TimeUnit.MILLISECONDS.toHours(diffInMillisec);\r\n        long diffInMin = TimeUnit.MILLISECONDS.toMinutes(diffInMillisec);\r\n        long diffInSec = TimeUnit.MILLISECONDS.toSeconds(diffInMillisec);","title":"How do I get difference between two dates in android?, tried every thing and post","body":"<pre><code>    long diffInMillisec = date1.getTime() - date2.getTime();\n\n    long diffInDays = TimeUnit.MILLISECONDS.toDays(diffInMillisec);\n    long diffInHours = TimeUnit.MILLISECONDS.toHours(diffInMillisec);\n    long diffInMin = TimeUnit.MILLISECONDS.toMinutes(diffInMillisec);\n    long diffInSec = TimeUnit.MILLISECONDS.toSeconds(diffInMillisec);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5213085,"reputation":37,"user_id":4168846,"display_name":"ahmad dehghan"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1483939185,"creation_date":1483939185,"answer_id":41541455,"question_id":10690370,"body_markdown":"shortest answer that works for me. send start and end date in millisecond.\r\n\r\n    public int GetDifference(long start,long end){\r\n        Calendar cal = Calendar.getInstance();\r\n        cal.setTimeInMillis(start);\r\n        int hour = cal.get(Calendar.HOUR_OF_DAY);\r\n        int min = cal.get(Calendar.MINUTE);\r\n        long t=(23-hour)*3600000+(59-min)*60000;\r\n\r\n        t=start+t;\r\n\r\n        int diff=0;\r\n        if(end&gt;t){\r\n            diff=(int)((end-t)/ TimeUnit.DAYS.toMillis(1))+1;\r\n        }\r\n\r\n        return  diff;\r\n    }","title":"How do I get difference between two dates in android?, tried every thing and post","body":"<p>shortest answer that works for me. send start and end date in millisecond.</p>\n\n<pre><code>public int GetDifference(long start,long end){\n    Calendar cal = Calendar.getInstance();\n    cal.setTimeInMillis(start);\n    int hour = cal.get(Calendar.HOUR_OF_DAY);\n    int min = cal.get(Calendar.MINUTE);\n    long t=(23-hour)*3600000+(59-min)*60000;\n\n    t=start+t;\n\n    int diff=0;\n    if(end&gt;t){\n        diff=(int)((end-t)/ TimeUnit.DAYS.toMillis(1))+1;\n    }\n\n    return  diff;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1511947586,"post_id":47546248,"comment_id":82054939,"body_markdown":"This code uses troublesome old date-time classes now supplanted by the java.time classes. For older Java and Android, see the *ThreeTen-Backport* and *ThreeTenABP* projects.","body":"This code uses troublesome old date-time classes now supplanted by the java.time classes. For older Java and Android, see the <i>ThreeTen-Backport</i> and <i>ThreeTenABP</i> projects."},{"owner":{"account_id":12376350,"reputation":11,"user_id":9023957,"display_name":"neal zedlav"},"score":0,"creation_date":1512445334,"post_id":47546248,"comment_id":82249997,"body_markdown":"Is calendar class an old date-time classes?","body":"Is calendar class an old date-time classes?"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1512450158,"post_id":47546248,"comment_id":82251305,"body_markdown":"Yes, any date-time related class found outside the `java.time` package is now legacy and should be avoided. This includes `Date` and `Calendar`, and the java.sql classes. See the Oracle Tutorial.","body":"Yes, any date-time related class found outside the <code>java.time</code> package is now legacy and should be avoided. This includes <code>Date</code> and <code>Calendar</code>, and the java.sql classes. See the Oracle Tutorial."}],"tags":[],"owner":{"account_id":12376350,"reputation":11,"user_id":9023957,"display_name":"neal zedlav"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1511936192,"creation_date":1511936192,"answer_id":47546248,"question_id":10690370,"body_markdown":"Use these functions\r\n\r\n        public static int getDateDifference(\r\n            int previousYear, int previousMonthOfYear, int previousDayOfMonth,\r\n            int nextYear, int nextMonthOfYear, int nextDayOfMonth,\r\n            int differenceToCount){\r\n        // int differenceToCount = can be any of the following\r\n        //  Calendar.MILLISECOND;\r\n        //  Calendar.SECOND;\r\n        //  Calendar.MINUTE;\r\n        //  Calendar.HOUR;\r\n        //  Calendar.DAY_OF_MONTH;\r\n        //  Calendar.MONTH;\r\n        //  Calendar.YEAR;\r\n        //  Calendar.----\r\n\r\n        Calendar previousDate = Calendar.getInstance();\r\n        previousDate.set(Calendar.DAY_OF_MONTH, previousDayOfMonth);\r\n        // month is zero indexed so month should be minus 1\r\n        previousDate.set(Calendar.MONTH, previousMonthOfYear);\r\n        previousDate.set(Calendar.YEAR, previousYear);\r\n\r\n        Calendar nextDate = Calendar.getInstance();\r\n        nextDate.set(Calendar.DAY_OF_MONTH, previousDayOfMonth);\r\n        // month is zero indexed so month should be minus 1\r\n        nextDate.set(Calendar.MONTH, previousMonthOfYear);\r\n        nextDate.set(Calendar.YEAR, previousYear);\r\n\r\n        return getDateDifference(previousDate,nextDate,differenceToCount);\r\n    }\r\n    public static int getDateDifference(Calendar previousDate,Calendar nextDate,int differenceToCount){\r\n        // int differenceToCount = can be any of the following\r\n        //  Calendar.MILLISECOND;\r\n        //  Calendar.SECOND;\r\n        //  Calendar.MINUTE;\r\n        //  Calendar.HOUR;\r\n        //  Calendar.DAY_OF_MONTH;\r\n        //  Calendar.MONTH;\r\n        //  Calendar.YEAR;\r\n        //  Calendar.----\r\n\r\n        //raise an exception if previous is greater than nextdate.\r\n        if(previousDate.compareTo(nextDate)&gt;0){\r\n            throw new RuntimeException(&quot;Previous Date is later than Nextdate&quot;);\r\n        }\r\n\r\n        int difference=0;\r\n        while(previousDate.compareTo(nextDate)&lt;=0){\r\n            difference++;\r\n            previousDate.add(differenceToCount,1);\r\n        }\r\n        return difference;\r\n    }\r\n","title":"How do I get difference between two dates in android?, tried every thing and post","body":"<p>Use these functions</p>\n\n<pre><code>    public static int getDateDifference(\n        int previousYear, int previousMonthOfYear, int previousDayOfMonth,\n        int nextYear, int nextMonthOfYear, int nextDayOfMonth,\n        int differenceToCount){\n    // int differenceToCount = can be any of the following\n    //  Calendar.MILLISECOND;\n    //  Calendar.SECOND;\n    //  Calendar.MINUTE;\n    //  Calendar.HOUR;\n    //  Calendar.DAY_OF_MONTH;\n    //  Calendar.MONTH;\n    //  Calendar.YEAR;\n    //  Calendar.----\n\n    Calendar previousDate = Calendar.getInstance();\n    previousDate.set(Calendar.DAY_OF_MONTH, previousDayOfMonth);\n    // month is zero indexed so month should be minus 1\n    previousDate.set(Calendar.MONTH, previousMonthOfYear);\n    previousDate.set(Calendar.YEAR, previousYear);\n\n    Calendar nextDate = Calendar.getInstance();\n    nextDate.set(Calendar.DAY_OF_MONTH, previousDayOfMonth);\n    // month is zero indexed so month should be minus 1\n    nextDate.set(Calendar.MONTH, previousMonthOfYear);\n    nextDate.set(Calendar.YEAR, previousYear);\n\n    return getDateDifference(previousDate,nextDate,differenceToCount);\n}\npublic static int getDateDifference(Calendar previousDate,Calendar nextDate,int differenceToCount){\n    // int differenceToCount = can be any of the following\n    //  Calendar.MILLISECOND;\n    //  Calendar.SECOND;\n    //  Calendar.MINUTE;\n    //  Calendar.HOUR;\n    //  Calendar.DAY_OF_MONTH;\n    //  Calendar.MONTH;\n    //  Calendar.YEAR;\n    //  Calendar.----\n\n    //raise an exception if previous is greater than nextdate.\n    if(previousDate.compareTo(nextDate)&gt;0){\n        throw new RuntimeException(\"Previous Date is later than Nextdate\");\n    }\n\n    int difference=0;\n    while(previousDate.compareTo(nextDate)&lt;=0){\n        difference++;\n        previousDate.add(differenceToCount,1);\n    }\n    return difference;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2246691,"reputation":26585,"user_id":1979882,"accept_rate":90,"display_name":"Vyacheslav"},"score":2,"creation_date":1573944095,"post_id":48529971,"comment_id":104056388,"body_markdown":"I think this is the most appropriate answer. It should be accepted.","body":"I think this is the most appropriate answer. It should be accepted."}],"tags":[],"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"comment_count":1,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1573972330,"creation_date":1517344092,"answer_id":48529971,"question_id":10690370,"body_markdown":"## java.time.Duration\r\n\r\nUse `java.time.Duration`:\r\n\r\n\t\tDuration diff = Duration.between(instant2, instant1);\r\n\t\tSystem.out.println(diff);\r\n\r\nThis will print something like\r\n\r\n    PT109H27M21S\r\n\r\nThis means a period of time of 109 hours 27 minutes 21 seconds. If you want someting more human-readable — I’ll give the Java 9 version first, it’s simplest:\r\n\r\n\t\tString formattedDiff = String.format(Locale.ENGLISH,\r\n\t\t\t\t&quot;%d days %d hours %d minutes %d seconds&quot;,\r\n\t\t\t\tdiff.toDays(), diff.toHoursPart(), diff.toMinutesPart(), diff.toSecondsPart());\r\n\t\tSystem.out.println(formattedDiff);\r\n\r\nNow we get\r\n\r\n    4 days 13 hours 27 minutes 21 seconds\r\n\r\nThe `Duration` class is part of `java.time` the modern Java date and time API. This is bundled on newer Android devices. On older devices, get ThreeTenABP and add it to your project, and make sure to import `org.threeten.bp.Duration` and other date-time classes you may need from the same package.\r\n\r\nAssuming you still haven’t got the Java 9 version, you may subtract the larger units in turn to get the smaller ones:\r\n\r\n\t\tlong days = diff.toDays();\r\n\t\tdiff = diff.minusDays(days);\r\n\t\tlong hours = diff.toHours();\r\n\t\tdiff = diff.minusHours(hours);\r\n\t\tlong minutes = diff.toMinutes();\r\n\t\tdiff = diff.minusMinutes(minutes);\r\n\t\tlong seconds = diff.toSeconds();\r\n\r\nThen you can format the four variables as above.\r\n\r\n## What did you do wrong?\r\n\r\nA `Date` represents a point in time. It was never meant for representing an amount of time, a duration, and it isn’t suited for it. Trying to make that work would *at best* lead to confusing and hard-to-maintain code. You don’t want that, so please don’t.\r\n\r\n## Question: Doesn’t java.time require Android API level 26?\r\n\r\njava.time works nicely on both older and newer Android devices. It just requires at least **Java 6**.\r\n\r\n - In Java 8 and later and on newer Android devices (from API level 26) the modern API comes built-in.\r\n - In non-Android Java 6 and 7 get the ThreeTen Backport, the backport of the modern classes (ThreeTen for JSR 310; see the links at the bottom).\r\n - On (older) Android use the Android edition of ThreeTen Backport. It’s called ThreeTenABP. And make sure you import the date and time classes from `org.threeten.bp` with subpackages.\r\n\r\n## Links\r\n\r\n - [Oracle tutorial: Date Time](https://docs.oracle.com/javase/tutorial/datetime/), explaining how to use `java.time`.\r\n - [ThreeTen Backport project](http://www.threeten.org/threetenbp/), the backport of `java.time` to Java 6 and 7\r\n - [ThreeTenABP](https://github.com/JakeWharton/ThreeTenABP), Android edition of ThreeTen Backport\r\n - [Question: How to use ThreeTenABP in Android Project](https://stackoverflow.com/questions/38922754/how-to-use-threetenabp-in-android-project), with a very thorough explanation.\r\n - [Java Specification Request (JSR) 310](https://jcp.org/en/jsr/detail?id=310).","title":"How do I get difference between two dates in android?, tried every thing and post","body":"<h2>java.time.Duration</h2>\n\n<p>Use <code>java.time.Duration</code>:</p>\n\n<pre><code>    Duration diff = Duration.between(instant2, instant1);\n    System.out.println(diff);\n</code></pre>\n\n<p>This will print something like</p>\n\n<pre><code>PT109H27M21S\n</code></pre>\n\n<p>This means a period of time of 109 hours 27 minutes 21 seconds. If you want someting more human-readable — I’ll give the Java 9 version first, it’s simplest:</p>\n\n<pre><code>    String formattedDiff = String.format(Locale.ENGLISH,\n            \"%d days %d hours %d minutes %d seconds\",\n            diff.toDays(), diff.toHoursPart(), diff.toMinutesPart(), diff.toSecondsPart());\n    System.out.println(formattedDiff);\n</code></pre>\n\n<p>Now we get</p>\n\n<pre><code>4 days 13 hours 27 minutes 21 seconds\n</code></pre>\n\n<p>The <code>Duration</code> class is part of <code>java.time</code> the modern Java date and time API. This is bundled on newer Android devices. On older devices, get ThreeTenABP and add it to your project, and make sure to import <code>org.threeten.bp.Duration</code> and other date-time classes you may need from the same package.</p>\n\n<p>Assuming you still haven’t got the Java 9 version, you may subtract the larger units in turn to get the smaller ones:</p>\n\n<pre><code>    long days = diff.toDays();\n    diff = diff.minusDays(days);\n    long hours = diff.toHours();\n    diff = diff.minusHours(hours);\n    long minutes = diff.toMinutes();\n    diff = diff.minusMinutes(minutes);\n    long seconds = diff.toSeconds();\n</code></pre>\n\n<p>Then you can format the four variables as above.</p>\n\n<h2>What did you do wrong?</h2>\n\n<p>A <code>Date</code> represents a point in time. It was never meant for representing an amount of time, a duration, and it isn’t suited for it. Trying to make that work would <em>at best</em> lead to confusing and hard-to-maintain code. You don’t want that, so please don’t.</p>\n\n<h2>Question: Doesn’t java.time require Android API level 26?</h2>\n\n<p>java.time works nicely on both older and newer Android devices. It just requires at least <strong>Java 6</strong>.</p>\n\n<ul>\n<li>In Java 8 and later and on newer Android devices (from API level 26) the modern API comes built-in.</li>\n<li>In non-Android Java 6 and 7 get the ThreeTen Backport, the backport of the modern classes (ThreeTen for JSR 310; see the links at the bottom).</li>\n<li>On (older) Android use the Android edition of ThreeTen Backport. It’s called ThreeTenABP. And make sure you import the date and time classes from <code>org.threeten.bp</code> with subpackages.</li>\n</ul>\n\n<h2>Links</h2>\n\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"noreferrer\">Oracle tutorial: Date Time</a>, explaining how to use <code>java.time</code>.</li>\n<li><a href=\"http://www.threeten.org/threetenbp/\" rel=\"noreferrer\">ThreeTen Backport project</a>, the backport of <code>java.time</code> to Java 6 and 7</li>\n<li><a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"noreferrer\">ThreeTenABP</a>, Android edition of ThreeTen Backport</li>\n<li><a href=\"https://stackoverflow.com/questions/38922754/how-to-use-threetenabp-in-android-project\">Question: How to use ThreeTenABP in Android Project</a>, with a very thorough explanation.</li>\n<li><a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"noreferrer\">Java Specification Request (JSR) 310</a>.</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1546848546,"post_id":54070215,"comment_id":94973874,"body_markdown":"`GregorianCalendar` is a terrible class that was supplanted years ago by the *java.time* classes, specifically `ZonedDateTime`. Suggesting that old class in 2019 is poor advice. For earlier Android, see the *ThreeTen-Backport* and *ThreeTenABP* projects.","body":"<code>GregorianCalendar</code> is a terrible class that was supplanted years ago by the <i>java.time</i> classes, specifically <code>ZonedDateTime</code>. Suggesting that old class in 2019 is poor advice. For earlier Android, see the <i>ThreeTen-Backport</i> and <i>ThreeTenABP</i> projects."}],"tags":[],"owner":{"account_id":7497972,"reputation":1364,"user_id":5697474,"display_name":"Syed Danish Haider"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1546846519,"creation_date":1546846519,"answer_id":54070215,"question_id":10690370,"body_markdown":"Using georgian calander \r\n    \r\n     public void dateDifferenceExample() {\r\n\r\n            // Set the date for both of the calendar instance\r\n            GregorianCalendar calDate = new GregorianCalendar(2012, 10, 02,5,23,43);\r\n            GregorianCalendar cal2 = new GregorianCalendar(2015, 04, 02);\r\n\r\n            // Get the represented date in milliseconds\r\n            long millis1 = calDate.getTimeInMillis();\r\n            long millis2 = cal2.getTimeInMillis();\r\n\r\n            // Calculate difference in milliseconds\r\n            long diff = millis2 - millis1;\r\n\r\n            // Calculate difference in seconds\r\n            long diffSeconds = diff / 1000;\r\n\r\n            // Calculate difference in minutes\r\n            long diffMinutes = diff / (60 * 1000);\r\n\r\n            // Calculate difference in hours\r\n            long diffHours = diff / (60 * 60 * 1000);\r\n\r\n            // Calculate difference in days\r\n            long diffDays = diff / (24 * 60 * 60 * 1000);\r\n        Toast.makeText(getContext(), &quot;&quot;+diffSeconds, Toast.LENGTH_SHORT).show();\r\n\r\n\r\n    }","title":"How do I get difference between two dates in android?, tried every thing and post","body":"<p>Using georgian calander </p>\n\n<pre><code> public void dateDifferenceExample() {\n\n        // Set the date for both of the calendar instance\n        GregorianCalendar calDate = new GregorianCalendar(2012, 10, 02,5,23,43);\n        GregorianCalendar cal2 = new GregorianCalendar(2015, 04, 02);\n\n        // Get the represented date in milliseconds\n        long millis1 = calDate.getTimeInMillis();\n        long millis2 = cal2.getTimeInMillis();\n\n        // Calculate difference in milliseconds\n        long diff = millis2 - millis1;\n\n        // Calculate difference in seconds\n        long diffSeconds = diff / 1000;\n\n        // Calculate difference in minutes\n        long diffMinutes = diff / (60 * 1000);\n\n        // Calculate difference in hours\n        long diffHours = diff / (60 * 60 * 1000);\n\n        // Calculate difference in days\n        long diffDays = diff / (24 * 60 * 60 * 1000);\n    Toast.makeText(getContext(), \"\"+diffSeconds, Toast.LENGTH_SHORT).show();\n\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13027616,"reputation":69,"user_id":9415105,"display_name":"jkronlachner"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1563440547,"creation_date":1563440547,"answer_id":57090790,"question_id":10690370,"body_markdown":"Here is my answer based on @Ole V. V. answer. \r\n\r\nThis also works with Singular. \r\n\r\n    private String getDuration(Date d1, Date d2) {\r\n        Duration diff = Duration.between(d1.toInstant(), d2.toInstant());\r\n\r\n\r\n        long days = diff.toDays();\r\n        diff = diff.minusDays(days);\r\n        long hours = diff.toHours();\r\n        diff = diff.minusHours(hours);\r\n        long minutes = diff.toMinutes();\r\n        diff = diff.minusMinutes(minutes);\r\n        long seconds = diff.toMillis();\r\n\r\n        StringBuilder formattedDiff = new StringBuilder();\r\n        if(days!=0){\r\n            if(days==1){\r\n                formattedDiff.append(days + &quot; Day &quot;);\r\n\r\n            }else {\r\n                formattedDiff.append(days + &quot; Days &quot;);\r\n            }\r\n        }if(hours!=0){\r\n            if(hours==1){\r\n                formattedDiff.append(hours + &quot; hour &quot;);\r\n            }else{\r\n                formattedDiff.append(hours + &quot; hours &quot;);\r\n            }\r\n        }if(minutes!=0){\r\n            if(minutes==1){\r\n                formattedDiff.append(minutes + &quot; minute &quot;);\r\n            }else{\r\n                formattedDiff.append(minutes + &quot; minutes &quot;);\r\n            }\r\n        }if(seconds!=0){\r\n            if(seconds==1){\r\n                formattedDiff.append(seconds + &quot; second &quot;);\r\n            }else{\r\n                formattedDiff.append(seconds + &quot; seconds &quot;);\r\n            }\r\n        }\r\n\r\n\r\n        return formattedDiff.toString();\r\n    }\r\n\r\nIt works with a StringBuilder to append everything together. ","title":"How do I get difference between two dates in android?, tried every thing and post","body":"<p>Here is my answer based on @Ole V. V. answer. </p>\n\n<p>This also works with Singular. </p>\n\n<pre><code>private String getDuration(Date d1, Date d2) {\n    Duration diff = Duration.between(d1.toInstant(), d2.toInstant());\n\n\n    long days = diff.toDays();\n    diff = diff.minusDays(days);\n    long hours = diff.toHours();\n    diff = diff.minusHours(hours);\n    long minutes = diff.toMinutes();\n    diff = diff.minusMinutes(minutes);\n    long seconds = diff.toMillis();\n\n    StringBuilder formattedDiff = new StringBuilder();\n    if(days!=0){\n        if(days==1){\n            formattedDiff.append(days + \" Day \");\n\n        }else {\n            formattedDiff.append(days + \" Days \");\n        }\n    }if(hours!=0){\n        if(hours==1){\n            formattedDiff.append(hours + \" hour \");\n        }else{\n            formattedDiff.append(hours + \" hours \");\n        }\n    }if(minutes!=0){\n        if(minutes==1){\n            formattedDiff.append(minutes + \" minute \");\n        }else{\n            formattedDiff.append(minutes + \" minutes \");\n        }\n    }if(seconds!=0){\n        if(seconds==1){\n            formattedDiff.append(seconds + \" second \");\n        }else{\n            formattedDiff.append(seconds + \" seconds \");\n        }\n    }\n\n\n    return formattedDiff.toString();\n}\n</code></pre>\n\n<p>It works with a StringBuilder to append everything together. </p>\n"},{"tags":[],"owner":{"account_id":6403531,"reputation":234,"user_id":4965482,"display_name":"Gilad Levinson"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1580606053,"creation_date":1580606053,"answer_id":60022493,"question_id":10690370,"body_markdown":"**written in Kotlin:**\r\nif you need difference between 2 dates and don&#39;t care about the dates itself ( good if you need to do something in the app,based on time from other operation time that was saved in shared preferences for example).\r\nsave first time :\r\n\r\n    val firstTime:Long= System.currentTimeMillis()\r\n                        \r\nsave second time:\r\n\r\n    val now:Long= System.currentTimeMillis()\r\n    \r\ncalculate the miliseconds between 2 times:\r\n\r\n    val milisecondsSinceLastTime: Long =(now-lastScrollTime)\r\n\r\n\r\n\r\n\r\n","title":"How do I get difference between two dates in android?, tried every thing and post","body":"<p><strong>written in Kotlin:</strong>\nif you need difference between 2 dates and don't care about the dates itself ( good if you need to do something in the app,based on time from other operation time that was saved in shared preferences for example).\nsave first time :</p>\n\n<pre><code>val firstTime:Long= System.currentTimeMillis()\n</code></pre>\n\n<p>save second time:</p>\n\n<pre><code>val now:Long= System.currentTimeMillis()\n</code></pre>\n\n<p>calculate the miliseconds between 2 times:</p>\n\n<pre><code>val milisecondsSinceLastTime: Long =(now-lastScrollTime)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3482475,"reputation":27250,"user_id":2914140,"accept_rate":69,"display_name":"CoolMind"},"score":1,"creation_date":1643279415,"post_id":61730808,"comment_id":125299449,"body_markdown":"Currently we should use `inWholeDays` instead of `inDays`.","body":"Currently we should use <code>inWholeDays</code> instead of <code>inDays</code>."},{"owner":{"account_id":4536147,"reputation":511,"user_id":7926219,"display_name":"Bartłomiej Uliasz"},"score":0,"creation_date":1643377760,"post_id":61730808,"comment_id":125330213,"body_markdown":"Thank you @CoolMind, I&#39;ve updated it in my response also","body":"Thank you @CoolMind, I&#39;ve updated it in my response also"},{"owner":{"account_id":3482475,"reputation":27250,"user_id":2914140,"accept_rate":69,"display_name":"CoolMind"},"score":0,"creation_date":1643380528,"post_id":61730808,"comment_id":125331409,"body_markdown":"Good job! Probably we don&#39;t have to use `@ExperimentalTime`, I didn&#39;t check.","body":"Good job! Probably we don&#39;t have to use <code>@ExperimentalTime</code>, I didn&#39;t check."},{"owner":{"account_id":4536147,"reputation":511,"user_id":7926219,"display_name":"Bartłomiej Uliasz"},"score":0,"creation_date":1643473060,"post_id":61730808,"comment_id":125351277,"body_markdown":"Checked and updated with working code.","body":"Checked and updated with working code."},{"owner":{"account_id":3482475,"reputation":27250,"user_id":2914140,"accept_rate":69,"display_name":"CoolMind"},"score":0,"creation_date":1643480574,"post_id":61730808,"comment_id":125353277,"body_markdown":"Well done! Good luck!","body":"Well done! Good luck!"}],"tags":[],"owner":{"account_id":4536147,"reputation":511,"user_id":7926219,"display_name":"Bartłomiej Uliasz"},"comment_count":5,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1643472996,"creation_date":1589203447,"answer_id":61730808,"question_id":10690370,"body_markdown":"If you use Kotlin language for Android development you can get difference in days like this:\r\n```\r\nfun daysDiff(c1: Calendar, c2: Calendar): Long {\r\n    val diffInMillis = c1.timeInMillis - c2.timeInMillis\r\n    return diffInMillis.milliseconds.inWholeDays\r\n}\r\n```\r\nor if you want to get results in different type you can replace `inWholeDays` with `toInt(...)`, `toDouble(...)`, `toString(...)`. \r\n\r\nIf the only date difference you&#39;re interested in is days (let&#39;s say as a Double type result) you can create operator extension method like this:\r\n```\r\noperator fun Calendar.minus(c: Calendar): Double {\r\n    val diffInMillis = timeInMillis - c.timeInMillis\r\n    return diffInMillis.milliseconds.toDouble(DurationUnit.DAYS)\r\n}\r\n```\r\nAnd then any operation like `calendar2 - calendar1` will return difference in days as Double.","title":"How do I get difference between two dates in android?, tried every thing and post","body":"<p>If you use Kotlin language for Android development you can get difference in days like this:</p>\n<pre><code>fun daysDiff(c1: Calendar, c2: Calendar): Long {\n    val diffInMillis = c1.timeInMillis - c2.timeInMillis\n    return diffInMillis.milliseconds.inWholeDays\n}\n</code></pre>\n<p>or if you want to get results in different type you can replace <code>inWholeDays</code> with <code>toInt(...)</code>, <code>toDouble(...)</code>, <code>toString(...)</code>.</p>\n<p>If the only date difference you're interested in is days (let's say as a Double type result) you can create operator extension method like this:</p>\n<pre><code>operator fun Calendar.minus(c: Calendar): Double {\n    val diffInMillis = timeInMillis - c.timeInMillis\n    return diffInMillis.milliseconds.toDouble(DurationUnit.DAYS)\n}\n</code></pre>\n<p>And then any operation like <code>calendar2 - calendar1</code> will return difference in days as Double.</p>\n"},{"comments":[{"owner":{"account_id":9707206,"reputation":2787,"user_id":7200297,"display_name":"Agilanbu"},"score":0,"creation_date":1674093115,"post_id":63207518,"comment_id":132643598,"body_markdown":"TimeUint - required API33","body":"TimeUint - required API33"}],"tags":[],"owner":{"account_id":11683233,"reputation":646,"user_id":8554111,"display_name":"sum20156"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1596299411,"creation_date":1596299411,"answer_id":63207518,"question_id":10690370,"body_markdown":"I tried this method..but don&#39;t know why I am not getting proper result\r\n\r\n    long diff = date1.getTime() - date2.getTime();\r\n    long seconds = diff / 1000;\r\n    long minutes = seconds / 60;\r\n    long hours = minutes / 60;\r\n    long days = hours / 24;\r\n\r\nBut this works\r\n\r\n    long miliSeconds = date1.getTime() -date2.getTime();\r\n    long seconds = TimeUnit.MILLISECONDS.toSeconds(miliSeconds);\r\n    long minute = seconds/60;\r\n    long hour = minute/60;\r\n    long days = hour/24;","title":"How do I get difference between two dates in android?, tried every thing and post","body":"<p>I tried this method..but don't know why I am not getting proper result</p>\n<pre><code>long diff = date1.getTime() - date2.getTime();\nlong seconds = diff / 1000;\nlong minutes = seconds / 60;\nlong hours = minutes / 60;\nlong days = hours / 24;\n</code></pre>\n<p>But this works</p>\n<pre><code>long miliSeconds = date1.getTime() -date2.getTime();\nlong seconds = TimeUnit.MILLISECONDS.toSeconds(miliSeconds);\nlong minute = seconds/60;\nlong hour = minute/60;\nlong days = hour/24;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21226063,"reputation":51,"user_id":15611733,"display_name":"Frank Oualitsen"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1618231463,"creation_date":1618231463,"answer_id":67058611,"question_id":10690370,"body_markdown":"What about using [Instant](https://developer.android.com/reference/java/time/Instant):\r\n\r\n    val instant1 = now()\r\n    val instant2 = now()\r\n    val diff: Duration = Duration.between(instant1, instant2)\r\n    val minutes = diff.toMinutes()\r\n\r\nYou can even save your Instant using instant1.toString() and parse that string with parse(string).\r\n\r\nIf you need to support Android API level &lt; 26 just add \r\n[Java 8+ API desugaring support](https://developer.android.com/studio/write/java8-support#library-desugaring)\r\nto your project.","title":"How do I get difference between two dates in android?, tried every thing and post","body":"<p>What about using <a href=\"https://developer.android.com/reference/java/time/Instant\" rel=\"noreferrer\">Instant</a>:</p>\n<pre><code>val instant1 = now()\nval instant2 = now()\nval diff: Duration = Duration.between(instant1, instant2)\nval minutes = diff.toMinutes()\n</code></pre>\n<p>You can even save your Instant using instant1.toString() and parse that string with parse(string).</p>\n<p>If you need to support Android API level &lt; 26 just add\n<a href=\"https://developer.android.com/studio/write/java8-support#library-desugaring\" rel=\"noreferrer\">Java 8+ API desugaring support</a>\nto your project.</p>\n"},{"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1644162340,"post_id":71000787,"comment_id":125527178,"body_markdown":"Consider throwing away the long outmoded and notoriously troublesome `SimpleDateFormat` and friends. See if you either can use [desugaring](https://developer.android.com/studio/write/java8-support-table) or add [ThreeTenABP](https://github.com/JakeWharton/ThreeTenABP) to your Android project, in order to use java.time, the modern Java date and time API. It is so much nicer to work with.","body":"Consider throwing away the long outmoded and notoriously troublesome <code>SimpleDateFormat</code> and friends. See if you either can use <a href=\"https://developer.android.com/studio/write/java8-support-table\" rel=\"nofollow noreferrer\">desugaring</a> or add <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"nofollow noreferrer\">ThreeTenABP</a> to your Android project, in order to use java.time, the modern Java date and time API. It is so much nicer to work with."}],"tags":[],"owner":{"account_id":20231732,"reputation":1,"user_id":14838100,"display_name":"Ubaid"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646030583,"creation_date":1644084641,"answer_id":71000787,"question_id":10690370,"body_markdown":"Get time difference between AM and PM\r\n\r\n    \r\n\r\n    \r\n    private int  getTimeDiff() {\r\n        SimpleDateFormat sdf = new SimpleDateFormat(&quot;hh:mm:ss aa&quot;);\r\n        Date systemDate = Calendar.getInstance().getTime();\r\n        String myDate = sdf.format(systemDate);\r\n        Date current = null;\r\n        Date Date2 = null;\r\n        try {\r\n            current = sdf.parse(myDate);\r\n            // current = sdf.parse(&quot;05:00:00 pm&quot;);\r\n            Date2 = sdf.parse(&quot;12:00:00 am&quot;);\r\n        } catch (ParseException e) {\r\n            e.printStackTrace();\r\n        }\r\n        long millse = Date2.getTime() - current.getTime();\r\n        long mills = Math.abs(millse);\r\n        int Hours = (int) (mills / (1000 * 60 * 60));\r\n        int Mins = (int) (mills / (1000 * 60)) % 60;\r\n        long Secs = (int) (mills / 1000) % 60;\r\n        String diff = Hours + &quot;:&quot; + Mins + &quot;:&quot; + Secs;\r\n        int min = 60-Mins;\r\n        if (Hours &gt;= 12) {\r\n            String requiredTime = 24 - Hours + &quot;:&quot; + Mins + &quot;:&quot; + Secs;\r\n            int minutes= ((24-Hours)*60)-Mins;\r\n            return minutes;\r\n\r\n        } else {\r\n            int time = 12 - Hours;\r\n            int hours=time+12;\r\n            int res = (hours*60);\r\n            int minutes = res-Mins;\r\n            return minutes;\r\n        }\r\n    }","title":"How do I get difference between two dates in android?, tried every thing and post","body":"<p>Get time difference between AM and PM</p>\n<pre><code>private int  getTimeDiff() {\n    SimpleDateFormat sdf = new SimpleDateFormat(&quot;hh:mm:ss aa&quot;);\n    Date systemDate = Calendar.getInstance().getTime();\n    String myDate = sdf.format(systemDate);\n    Date current = null;\n    Date Date2 = null;\n    try {\n        current = sdf.parse(myDate);\n        // current = sdf.parse(&quot;05:00:00 pm&quot;);\n        Date2 = sdf.parse(&quot;12:00:00 am&quot;);\n    } catch (ParseException e) {\n        e.printStackTrace();\n    }\n    long millse = Date2.getTime() - current.getTime();\n    long mills = Math.abs(millse);\n    int Hours = (int) (mills / (1000 * 60 * 60));\n    int Mins = (int) (mills / (1000 * 60)) % 60;\n    long Secs = (int) (mills / 1000) % 60;\n    String diff = Hours + &quot;:&quot; + Mins + &quot;:&quot; + Secs;\n    int min = 60-Mins;\n    if (Hours &gt;= 12) {\n        String requiredTime = 24 - Hours + &quot;:&quot; + Mins + &quot;:&quot; + Secs;\n        int minutes= ((24-Hours)*60)-Mins;\n        return minutes;\n\n    } else {\n        int time = 12 - Hours;\n        int hours=time+12;\n        int res = (hours*60);\n        int minutes = res-Mins;\n        return minutes;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21792039,"reputation":81,"user_id":16092119,"display_name":"Ehsan Pagheh"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1644091776,"creation_date":1644091776,"answer_id":71001749,"question_id":10690370,"body_markdown":"when you attempt to construct a date out of that difference, it is assuming you want to create a new Date object with that difference value as its epoch time.\r\n\r\n    //get time in milliseconds\r\n    long diff = date1.getTime() - date2.getTime();\r\n    //get time in seconds\r\n    long seconds = diff / 1000;\r\n    //and so on\r\n    long minutes = seconds / 60;\r\n    long hours = minutes / 60;\r\n    long days = hours / 24;\r\n\r\nfor more information you could use these links:\r\n\r\n [Oracle tutorial: Date Time][1], explaining how to use java.time.\r\n\r\n[ThreeTen Backport project][2], the backport of java.time to Java \r\n6 and 7.\r\n\r\n[ThreeTenABP][3], Android edition of ThreeTen Backport.\r\n\r\nQuestion: [How to use ThreeTenABP in Android Project][4], with a very thorough explanation.\r\n   \r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/datetime/\r\n  [2]: http://www.threeten.org/threetenbp/\r\n  [3]: https://github.com/JakeWharton/ThreeTenABP\r\n  [4]: https://stackoverflow.com/questions/38922754/how-to-use-threetenabp-in-android-project","title":"How do I get difference between two dates in android?, tried every thing and post","body":"<p>when you attempt to construct a date out of that difference, it is assuming you want to create a new Date object with that difference value as its epoch time.</p>\n<pre><code>//get time in milliseconds\nlong diff = date1.getTime() - date2.getTime();\n//get time in seconds\nlong seconds = diff / 1000;\n//and so on\nlong minutes = seconds / 60;\nlong hours = minutes / 60;\nlong days = hours / 24;\n</code></pre>\n<p>for more information you could use these links:</p>\n<p><a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">Oracle tutorial: Date Time</a>, explaining how to use java.time.</p>\n<p><a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\">ThreeTen Backport project</a>, the backport of java.time to Java\n6 and 7.</p>\n<p><a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"nofollow noreferrer\">ThreeTenABP</a>, Android edition of ThreeTen Backport.</p>\n<p>Question: <a href=\"https://stackoverflow.com/questions/38922754/how-to-use-threetenabp-in-android-project\">How to use ThreeTenABP in Android Project</a>, with a very thorough explanation.</p>\n"},{"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1672949096,"post_id":75019816,"comment_id":132394215,"body_markdown":"Thanks for wanting to contribute. Please don’t teach the young ones to use the long outdated and notoriously troublesome `SimpleDateFormat` class. At least not as the first option. And not without any reservation. We have so much better in [`java.time`, the modern Java date and time API,](https://docs.oracle.com/javase/tutorial/datetime/) and its `DateTimeFormatter`. Yes, you can use it on Android. For older Android look into [desugaring](https://developer.android.com/studio/write/java8-support-table).","body":"Thanks for wanting to contribute. Please don’t teach the young ones to use the long outdated and notoriously troublesome <code>SimpleDateFormat</code> class. At least not as the first option. And not without any reservation. We have so much better in <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\"><code>java.time</code>, the modern Java date and time API,</a> and its <code>DateTimeFormatter</code>. Yes, you can use it on Android. For older Android look into <a href=\"https://developer.android.com/studio/write/java8-support-table\" rel=\"nofollow noreferrer\">desugaring</a>."}],"tags":[],"owner":{"account_id":7320847,"reputation":41,"user_id":5576951,"display_name":"Ahtsham Asghar"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673246759,"creation_date":1672928224,"answer_id":75019816,"question_id":10690370,"body_markdown":"The other answers are Ok in some cases they work perfect but when there is time difference between two dates( Like I am comparing two dates with different time then the difference between two dates either will be less than 24 hours which I can&#39;t afford or greater than 24 hours ) then it will not work so here is my approach \r\n\r\n        fun isSameDay(date1: Date, date2: Date): Boolean {\r\n           val format = SimpleDateFormat(&quot;dd/MM/yyyy&quot;)\r\n           return format.format(date1).equals(format.format(date2))\r\n        }","title":"How do I get difference between two dates in android?, tried every thing and post","body":"<p>The other answers are Ok in some cases they work perfect but when there is time difference between two dates( Like I am comparing two dates with different time then the difference between two dates either will be less than 24 hours which I can't afford or greater than 24 hours ) then it will not work so here is my approach</p>\n<pre><code>    fun isSameDay(date1: Date, date2: Date): Boolean {\n       val format = SimpleDateFormat(&quot;dd/MM/yyyy&quot;)\n       return format.format(date1).equals(format.format(date2))\n    }\n</code></pre>\n"}],"owner":{"account_id":118267,"reputation":5132,"user_id":309166,"accept_rate":65,"display_name":"Alex K"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":143636,"favorite_count":0,"down_vote_count":0,"up_vote_count":80,"accepted_answer_id":10690542,"answer_count":15,"score":80,"last_activity_date":1673246759,"creation_date":1337623917,"question_id":10690370,"body_markdown":"I saw all the post in here and still I can&#39;t figure how do get difference between two android dates.\r\n\r\nThis is what I do:\r\n\r\n    long diff = date1.getTime() - date2.getTime();\r\n    Date diffDate = new Date(diff);\r\n\r\nand I get: the date is Jan. 1, 1970 and the time is always bigger in two hours...I&#39;m from Israel so the two hours is timeOffset.\r\n\r\nHow can I get normal difference???","title":"How do I get difference between two dates in android?, tried every thing and post","body":"<p>I saw all the post in here and still I can't figure how do get difference between two android dates.</p>\n\n<p>This is what I do:</p>\n\n<pre><code>long diff = date1.getTime() - date2.getTime();\nDate diffDate = new Date(diff);\n</code></pre>\n\n<p>and I get: the date is Jan. 1, 1970 and the time is always bigger in two hours...I'm from Israel so the two hours is timeOffset.</p>\n\n<p>How can I get normal difference???</p>\n"},{"tags":["java","arrays","queue","nodes"],"comments":[{"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":1,"creation_date":1592845425,"post_id":62519663,"comment_id":110564852,"body_markdown":"Post the text instead of the images.","body":"Post the text instead of the images."},{"owner":{"display_name":"user10111187"},"score":0,"creation_date":1592845648,"post_id":62519663,"comment_id":110564961,"body_markdown":"@ArvindKumarAvinash Altered the question","body":"@ArvindKumarAvinash Altered the question"}],"answers":[{"comments":[{"owner":{"account_id":15396644,"reputation":25775,"user_id":11107541,"display_name":"starball"},"score":0,"creation_date":1671440197,"post_id":74812595,"comment_id":132091707,"body_markdown":"&quot;_Happy learning!_&quot; while it&#39;s nice to be friendly, we don&#39;t do taglines in posts here. See [What should I keep out of my posts and titles?](https://meta.stackexchange.com/q/131009/997587)","body":"&quot;<i>Happy learning!</i>&quot; while it&#39;s nice to be friendly, we don&#39;t do taglines in posts here. See <a href=\"https://meta.stackexchange.com/q/131009/997587\">What should I keep out of my posts and titles?</a>"}],"tags":[],"owner":{"account_id":27106718,"reputation":1,"user_id":20652450,"display_name":"Jannat Khan"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673246528,"creation_date":1671112169,"answer_id":74812595,"question_id":62519663,"body_markdown":"The Queue follows FIFO.\r\nYour Order is John&lt;--Steve &lt;-- Peter.\r\nSo, your FRONT is John.\r\nREAR is Peter.\r\nHence, your output is correct.\r\n","title":"Front and Rear elements are showing only the currently added elements but not the firstly added and last one added","body":"<p>The Queue follows FIFO.\nYour Order is John&lt;--Steve &lt;-- Peter.\nSo, your FRONT is John.\nREAR is Peter.\nHence, your output is correct.</p>\n"}],"owner":{"display_name":"user10111187"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673246528,"creation_date":1592845222,"question_id":62519663,"body_markdown":"I had some trouble learning DSA concepts in college and i am trying to learn it all by myself. And as part of my attempts, i am creating a simple application where the system should take in reservations by the user and insert them into a queue.\r\n\r\nI have used JAVA for this, but the problem is the output always displays only the elements which was added on that code run but not the ones which were added previously, \r\n\r\nExample: \r\n\r\nI add 2 elements named as John and Steve and i go another round and add a person named Peter and according to the FIFO concept the front index value should be Peter and the rear value should be John since John was added first. \r\n\r\nBut my code displays only Peter as first and rear index value. \r\n\r\nCode blocks are as below.\r\n\r\n[![Node Class Code][1]][1]\r\n\r\n[![Queue Class Variables &amp; Enqueue Operation][2]][2]\r\n\r\n[![Dequeue Operation][3]][3]\r\n\r\n\r\n[![Getting user input using scanner and enqueuing the elements][4]][4]\r\n\r\n\r\n[![Continuation][5]][5]\r\n\r\n\r\n[![Code Displays only the elements which was added in the code run][6]][6]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/VEHwi.png\r\n  [2]: https://i.stack.imgur.com/LAMsO.png\r\n  [3]: https://i.stack.imgur.com/MEtyK.png\r\n  [4]: https://i.stack.imgur.com/QKf4o.png\r\n  [5]: https://i.stack.imgur.com/rfqYC.png\r\n  [6]: https://i.stack.imgur.com/4HLuF.png\r\n\r\nNode Class Code\r\n    \r\n    public class Nodes {\r\n        \r\n        public int BanquetHall_ID;\r\n        public int Reservation_ID;\r\n        public String Customer_Name;\r\n        public int Contact_No;\r\n        public String Reservation_Date;\r\n        public int Menu_Selection;\r\n        public String Customer_Email_Address;\r\n        Nodes next ;\r\n        int data;\r\n    \r\n        \r\n        public Nodes(int BanquetHall_ID, int Reservation_ID, String Customer_Name, \r\n                int Contact_No,String Customer_Email_Address ,String Reservation_Date, int Menu_Selection)\r\n        {\r\n            this.BanquetHall_ID=BanquetHall_ID;\r\n            this.Reservation_ID=Reservation_ID;\r\n            this.Customer_Name=Customer_Name;\r\n            this.Contact_No=Contact_No;\r\n            this.Customer_Email_Address=Customer_Email_Address;\r\n            this.Reservation_Date=Reservation_Date;\r\n            this.Menu_Selection=Menu_Selection;\r\n            this.next=null;\r\n        }\r\n    }\r\n\r\nQueue Class Code\r\n\r\n    public class Queue {\r\n    \r\n    Nodes front, rear;\r\n    \r\n    public Queue()\r\n    {\r\n        this.front = this.rear = null;\r\n    }      \r\n            \r\n        void enQueue(int BanquetHall_ID, int Reservation_ID, String Customer_Name, int Contact_No, \r\n                String Customer_Email_Address,String Reservation_Date, int Menu_Selection)\r\n        {\r\n            Nodes temp = new Nodes(BanquetHall_ID , Reservation_ID , Customer_Name , Contact_No , \r\n                    Customer_Email_Address , Reservation_Date , Menu_Selection);\r\n                \r\n                if(this.rear == null)\r\n                {                   \r\n                    this.front = this.rear = temp;\r\n                    return;  \r\n                }\r\n                \r\n                this.rear.next = temp;\r\n                this.rear = temp;\r\n        }\r\n  \r\n        public void deQueue(int Reservation_ID)\r\n        {\r\n            if (this.front == null)\r\n            {\r\n                return;\r\n            }\r\n\r\n            Nodes temp = this.front;\r\n            this.front= this.front.next;\r\n                \r\n            if (this.front == null)\r\n            {\r\n                this.rear=null;\r\n            }\r\n        }\r\n\r\nMain Class Code\r\n\r\n        else if(c==2)\r\n        {\r\n              int crun = 1;\r\n                while(crun!=0)\r\n                {\r\n                System.out.println(&quot;***** You Have Selected To Make A Reservation *****&quot;);\r\n                System.out.println(&quot;----- Please Provide The Accurate Details Below -----&quot;);\r\n                \r\n                System.out.println(&quot;Enter preferred Hall ID : &quot;);\r\n                int id = sc.nextInt();\r\n                \r\n                System.out.println(&quot;Enter preferred Reservation ID (Provide An ID In Numbers Which You Can Always Remember) : &quot;);\r\n                int rid=sc.nextInt();\r\n                \r\n                sc.nextLine();\r\n                \r\n                System.out.println(&quot;Enter Your Name : &quot;);\r\n                String name = sc.nextLine();\r\n                \r\n                System.out.println(&quot;Enter Your Contact Number : &quot;);\r\n                int contact = sc.nextInt();\r\n                \r\n                sc.nextLine();\r\n                \r\n                System.out.println(&quot;Enter Your Email Address : &quot;);\r\n                String email = sc.nextLine();\r\n                \r\n                System.out.println(&quot;Enter Your Reservation Date (YYYY-MM-DD): &quot;);\r\n                String date = sc.nextLine();\r\n                \r\n                System.out.println(&quot;Enter Your Menu Selection : &quot;);\r\n                int menu = sc.nextInt();\r\n                \r\n                Queue nd = new Queue();\r\n                nd.enQueue(id, rid, name, contact, email, date, menu);\r\n                System.out.println(&quot;Inserted Element Index : &quot;+ nd.front.Customer_Name);\r\n                System.out.println(&quot;Last element Index : &quot;+nd.rear.Customer_Name);\r\n                \r\n                Scanner cs = new Scanner(System.in);\r\n                \r\n                System.out.println(&quot;Would you like to rerun this program? 1= Yes, 0 = No&quot;);\r\n                crun = cs.nextInt();\r\n                }\r\n        }\r\n\r\n","title":"Front and Rear elements are showing only the currently added elements but not the firstly added and last one added","body":"<p>I had some trouble learning DSA concepts in college and i am trying to learn it all by myself. And as part of my attempts, i am creating a simple application where the system should take in reservations by the user and insert them into a queue.</p>\n<p>I have used JAVA for this, but the problem is the output always displays only the elements which was added on that code run but not the ones which were added previously,</p>\n<p>Example:</p>\n<p>I add 2 elements named as John and Steve and i go another round and add a person named Peter and according to the FIFO concept the front index value should be Peter and the rear value should be John since John was added first.</p>\n<p>But my code displays only Peter as first and rear index value.</p>\n<p>Code blocks are as below.</p>\n<p><a href=\"https://i.stack.imgur.com/VEHwi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VEHwi.png\" alt=\"Node Class Code\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/LAMsO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LAMsO.png\" alt=\"Queue Class Variables &amp; Enqueue Operation\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/MEtyK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MEtyK.png\" alt=\"Dequeue Operation\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/QKf4o.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QKf4o.png\" alt=\"Getting user input using scanner and enqueuing the elements\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/rfqYC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rfqYC.png\" alt=\"Continuation\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/4HLuF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4HLuF.png\" alt=\"Code Displays only the elements which was added in the code run\" /></a></p>\n<p>Node Class Code</p>\n<pre><code>public class Nodes {\n    \n    public int BanquetHall_ID;\n    public int Reservation_ID;\n    public String Customer_Name;\n    public int Contact_No;\n    public String Reservation_Date;\n    public int Menu_Selection;\n    public String Customer_Email_Address;\n    Nodes next ;\n    int data;\n\n    \n    public Nodes(int BanquetHall_ID, int Reservation_ID, String Customer_Name, \n            int Contact_No,String Customer_Email_Address ,String Reservation_Date, int Menu_Selection)\n    {\n        this.BanquetHall_ID=BanquetHall_ID;\n        this.Reservation_ID=Reservation_ID;\n        this.Customer_Name=Customer_Name;\n        this.Contact_No=Contact_No;\n        this.Customer_Email_Address=Customer_Email_Address;\n        this.Reservation_Date=Reservation_Date;\n        this.Menu_Selection=Menu_Selection;\n        this.next=null;\n    }\n}\n</code></pre>\n<p>Queue Class Code</p>\n<pre><code>public class Queue {\n\nNodes front, rear;\n\npublic Queue()\n{\n    this.front = this.rear = null;\n}      \n        \n    void enQueue(int BanquetHall_ID, int Reservation_ID, String Customer_Name, int Contact_No, \n            String Customer_Email_Address,String Reservation_Date, int Menu_Selection)\n    {\n        Nodes temp = new Nodes(BanquetHall_ID , Reservation_ID , Customer_Name , Contact_No , \n                Customer_Email_Address , Reservation_Date , Menu_Selection);\n            \n            if(this.rear == null)\n            {                   \n                this.front = this.rear = temp;\n                return;  \n            }\n            \n            this.rear.next = temp;\n            this.rear = temp;\n    }\n\n    public void deQueue(int Reservation_ID)\n    {\n        if (this.front == null)\n        {\n            return;\n        }\n\n        Nodes temp = this.front;\n        this.front= this.front.next;\n            \n        if (this.front == null)\n        {\n            this.rear=null;\n        }\n    }\n</code></pre>\n<p>Main Class Code</p>\n<pre><code>    else if(c==2)\n    {\n          int crun = 1;\n            while(crun!=0)\n            {\n            System.out.println(&quot;***** You Have Selected To Make A Reservation *****&quot;);\n            System.out.println(&quot;----- Please Provide The Accurate Details Below -----&quot;);\n            \n            System.out.println(&quot;Enter preferred Hall ID : &quot;);\n            int id = sc.nextInt();\n            \n            System.out.println(&quot;Enter preferred Reservation ID (Provide An ID In Numbers Which You Can Always Remember) : &quot;);\n            int rid=sc.nextInt();\n            \n            sc.nextLine();\n            \n            System.out.println(&quot;Enter Your Name : &quot;);\n            String name = sc.nextLine();\n            \n            System.out.println(&quot;Enter Your Contact Number : &quot;);\n            int contact = sc.nextInt();\n            \n            sc.nextLine();\n            \n            System.out.println(&quot;Enter Your Email Address : &quot;);\n            String email = sc.nextLine();\n            \n            System.out.println(&quot;Enter Your Reservation Date (YYYY-MM-DD): &quot;);\n            String date = sc.nextLine();\n            \n            System.out.println(&quot;Enter Your Menu Selection : &quot;);\n            int menu = sc.nextInt();\n            \n            Queue nd = new Queue();\n            nd.enQueue(id, rid, name, contact, email, date, menu);\n            System.out.println(&quot;Inserted Element Index : &quot;+ nd.front.Customer_Name);\n            System.out.println(&quot;Last element Index : &quot;+nd.rear.Customer_Name);\n            \n            Scanner cs = new Scanner(System.in);\n            \n            System.out.println(&quot;Would you like to rerun this program? 1= Yes, 0 = No&quot;);\n            crun = cs.nextInt();\n            }\n    }\n</code></pre>\n"},{"tags":["java","arraylist"],"comments":[{"owner":{"account_id":12667897,"reputation":514,"user_id":9206488,"display_name":"Raymo111"},"score":1,"creation_date":1523896982,"post_id":49862273,"comment_id":86739728,"body_markdown":"In your example, there is only 1 common letter: the first `a`.","body":"In your example, there is only 1 common letter: the first <code>a</code>."},{"owner":{"account_id":3777416,"reputation":5038,"user_id":3137842,"accept_rate":73,"display_name":"Gershon Papi"},"score":0,"creation_date":1523897141,"post_id":49862273,"comment_id":86739801,"body_markdown":"Seeing your example, it seems the order of the letters is irrelevant. You should, for each word, count how many times each letter appears. Then take the minimum of each word and add it all.","body":"Seeing your example, it seems the order of the letters is irrelevant. You should, for each word, count how many times each letter appears. Then take the minimum of each word and add it all."},{"owner":{"account_id":3912994,"reputation":837,"user_id":3237736,"accept_rate":43,"display_name":"user3237736"},"score":0,"creation_date":1523900194,"post_id":49862273,"comment_id":86741482,"body_markdown":"see my post, I added a solution using Stream API. Not sure if you want to use that, and it&#39;s probably not the best approach, but maybe this opens the door to Stream API for you - it is a very nice feature","body":"see my post, I added a solution using Stream API. Not sure if you want to use that, and it&#39;s probably not the best approach, but maybe this opens the door to Stream API for you - it is a very nice feature"}],"answers":[{"comments":[{"owner":{"display_name":"user9372262"},"score":0,"creation_date":1523897404,"post_id":49862355,"comment_id":86739939,"body_markdown":"So lets say the test case is &quot;xyzbac&quot; and &quot;abc&quot;. Are you saying to continue to use the nested loop idea and have it iterate like so?","body":"So lets say the test case is &quot;xyzbac&quot; and &quot;abc&quot;. Are you saying to continue to use the nested loop idea and have it iterate like so?"}],"tags":[],"owner":{"account_id":12667897,"reputation":514,"user_id":9206488,"display_name":"Raymo111"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1523910878,"creation_date":1523897095,"answer_id":49862355,"question_id":49862273,"body_markdown":"Use the `s1.charAt(i) == s2.charAt(i)` comparison. There is no need to put the strings into an arrayList.\r\n\r\nEdit: You&#39;ll need to add a conditional statement to make sure that you don&#39;t go out of bounds when the strings are of different lengths.","title":"Getting the common character count between two strings","body":"<p>Use the <code>s1.charAt(i) == s2.charAt(i)</code> comparison. There is no need to put the strings into an arrayList.</p>\n\n<p>Edit: You'll need to add a conditional statement to make sure that you don't go out of bounds when the strings are of different lengths.</p>\n"},{"comments":[{"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"score":0,"creation_date":1523897596,"post_id":49862398,"comment_id":86740057,"body_markdown":"All you said is correct but you missed the point of maintaining a list of common character. Or the way to process about this point is not very clear.","body":"All you said is correct but you missed the point of maintaining a list of common character. Or the way to process about this point is not very clear."},{"owner":{"account_id":277416,"reputation":681888,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1523899517,"post_id":49862398,"comment_id":86741112,"body_markdown":"@davidxxx the question is about getting the count, not the common characters. But if that&#39;s really needed, adding each removed character to a list or set (depending on what is wanted) is all you need to add.","body":"@davidxxx the question is about getting the count, not the common characters. But if that&#39;s really needed, adding each removed character to a list or set (depending on what is wanted) is all you need to add."}],"tags":[],"owner":{"account_id":277416,"reputation":681888,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1523897226,"creation_date":1523897226,"answer_id":49862398,"question_id":49862273,"body_markdown":"1. Don&#39;t compare objects with `==`\r\n2. Don&#39;t reinvent the wheel: you don&#39;t need to loop through a list to know if it contains an element. There&#39;s `contains()` to do that for you. \r\n3. You don&#39;t even need `contains()`, since `remove()` tells you if something has been removed or not. So all you need is:\r\n\r\n 1. Create a `List&lt;Character&gt;` from string2\r\n 2. Loop through string1&#39;s characters, or until the list is empty\r\n 3. At each iteration, remove the current character from the list. If it was removed, increment the count\r\n","title":"Getting the common character count between two strings","body":"<ol>\n<li>Don't compare objects with <code>==</code></li>\n<li>Don't reinvent the wheel: you don't need to loop through a list to know if it contains an element. There's <code>contains()</code> to do that for you. </li>\n<li><p>You don't even need <code>contains()</code>, since <code>remove()</code> tells you if something has been removed or not. So all you need is:</p>\n\n<ol>\n<li>Create a <code>List&lt;Character&gt;</code> from string2</li>\n<li>Loop through string1's characters, or until the list is empty</li>\n<li>At each iteration, remove the current character from the list. If it was removed, increment the count</li>\n</ol></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":3912994,"reputation":837,"user_id":3237736,"accept_rate":43,"display_name":"user3237736"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1523899758,"creation_date":1523898019,"answer_id":49862641,"question_id":49862273,"body_markdown":"You could go for maps. It may not be the best solution in terms of performance, but imo one that is intuitive to understand. First, iterate each string and collect each of its (distinct) characters with their appearance count. Then, compare the keysets of both maps (i.e. the characters) and for each character you find in both maps, store it together with its minimum appearance count from both maps. So something like this:\r\n\r\n    // first collect characters with their appearance count in maps:\r\n    &quot;aabcc&quot; -&gt; 2xa, 1xb, 2xc\r\n    &quot;adcaa&quot; -&gt; 3xa, 1xc, 1xd\r\n\r\n    // now, get all shared characters with their minimum count from both maps:\r\n    a -&gt; min(2,3) = 2\r\n    b -&gt; not shared\r\n    c -&gt; min(2,1) = 1\r\n    d -&gt; not shared\r\n\r\nI guess this could be implemented in a cool way using the Stream API, but it would be quite a complex statement, not sure whether you have experience with Streams.\r\n\r\nedit: Here&#39;s one solution using Streams. I bet there are better ones, both performance-wise and from its approach, but it&#39;s the first thing that I tried:\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(commonCharacterCount(&quot;aabcc&quot;,&quot;adcaa&quot;));\r\n    }\r\n    \r\n    public static int commonCharacterCount(String s1, String s2) {\r\n        Map&lt;Character, Integer&gt; s1CharacterCount = getCharacterCount(s1);\r\n        Map&lt;Character, Integer&gt; s2CharacterCount = getCharacterCount(s2);\r\n        return s1CharacterCount.keySet().stream()\r\n                .filter(s2CharacterCount.keySet()::contains)\r\n                .mapToInt(c -&gt; Math.min(s1CharacterCount.get(c), s2CharacterCount.get(c)))\r\n                .sum();\r\n    }\r\n    \r\n    public static Map&lt;Character, Integer&gt; getCharacterCount(String s) {\r\n        Map&lt;Character, Integer&gt; characterCount = new HashMap&lt;&gt;();\r\n        for (char c: s.toCharArray()) {\r\n            characterCount.put(c, characterCount.computeIfAbsent(c, count -&gt; 0) + 1);\r\n        }\r\n        return characterCount;\r\n    }\r\n\r\n","title":"Getting the common character count between two strings","body":"<p>You could go for maps. It may not be the best solution in terms of performance, but imo one that is intuitive to understand. First, iterate each string and collect each of its (distinct) characters with their appearance count. Then, compare the keysets of both maps (i.e. the characters) and for each character you find in both maps, store it together with its minimum appearance count from both maps. So something like this:</p>\n\n<pre><code>// first collect characters with their appearance count in maps:\n\"aabcc\" -&gt; 2xa, 1xb, 2xc\n\"adcaa\" -&gt; 3xa, 1xc, 1xd\n\n// now, get all shared characters with their minimum count from both maps:\na -&gt; min(2,3) = 2\nb -&gt; not shared\nc -&gt; min(2,1) = 1\nd -&gt; not shared\n</code></pre>\n\n<p>I guess this could be implemented in a cool way using the Stream API, but it would be quite a complex statement, not sure whether you have experience with Streams.</p>\n\n<p>edit: Here's one solution using Streams. I bet there are better ones, both performance-wise and from its approach, but it's the first thing that I tried:</p>\n\n<pre><code>public static void main(String[] args) {\n    System.out.println(commonCharacterCount(\"aabcc\",\"adcaa\"));\n}\n\npublic static int commonCharacterCount(String s1, String s2) {\n    Map&lt;Character, Integer&gt; s1CharacterCount = getCharacterCount(s1);\n    Map&lt;Character, Integer&gt; s2CharacterCount = getCharacterCount(s2);\n    return s1CharacterCount.keySet().stream()\n            .filter(s2CharacterCount.keySet()::contains)\n            .mapToInt(c -&gt; Math.min(s1CharacterCount.get(c), s2CharacterCount.get(c)))\n            .sum();\n}\n\npublic static Map&lt;Character, Integer&gt; getCharacterCount(String s) {\n    Map&lt;Character, Integer&gt; characterCount = new HashMap&lt;&gt;();\n    for (char c: s.toCharArray()) {\n        characterCount.put(c, characterCount.computeIfAbsent(c, count -&gt; 0) + 1);\n    }\n    return characterCount;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9071789,"reputation":4069,"user_id":6754706,"accept_rate":38,"display_name":"RAZ_Muh_Taz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1523898588,"creation_date":1523898588,"answer_id":49862800,"question_id":49862273,"body_markdown":"Create a map of the letter counts for each string you give it. Then compare the keys to one another and if the letter is contained in both words, grab the lowest count from the two maps. Try this\r\n\r\n    public static void main(String[] args)\r\n\t{\r\n\t\tString str1 = &quot;aabbcc&quot;;\r\n\t\tString str2 = &quot;abcddc&quot;;\r\n\t\tHashMap&lt;Character, Integer&gt; str1LetterCounts = createLetterCountMap(str1);\r\n\t\tHashMap&lt;Character, Integer&gt; str2LetterCounts = createLetterCountMap(str2);\r\n\t\t\r\n\t\tHashMap&lt;Character, Integer&gt; commonCounts = new HashMap&lt;&gt;();\r\n\t\t\r\n\t\tSet&lt;Character&gt; possibleCommonCharacterList = str1LetterCounts.keySet();\r\n\t\t\r\n\t\tfor(Character letter : possibleCommonCharacterList)\r\n\t\t{\r\n\t\t\tif(str2LetterCounts.containsKey(letter))\r\n\t\t\t{\r\n\t\t\t\tInteger count1 = str1LetterCounts.get(letter);\r\n\t\t\t\tInteger count2 = str2LetterCounts.get(letter);\r\n\t\t\t\tcommonCounts.put(letter, count1 &lt;= count2 ? count1 : count2);\r\n\t\t\t\tSystem.out.println(&quot;Common Character &quot; + letter + &quot; : &quot; + (count1 &lt;= count2 ? count1 : count2));\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic static HashMap&lt;Character, Integer&gt; createLetterCountMap(String word)\r\n\t{\r\n\t\tHashMap&lt;Character, Integer&gt; letterCountsForWord = new HashMap&lt;&gt;();\r\n\t\tfor(int i = 0; i &lt; word.length(); i++)\r\n\t\t{\r\n\t\t\tCharacter key = word.charAt(i);\r\n\t\t\tif(letterCountsForWord.containsKey(key))\r\n\t\t\t{\r\n\t\t\t\tletterCountsForWord.put(key, letterCountsForWord.get(key) + 1);\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t\tletterCountsForWord.put(key, 1);\r\n\t\t}\r\n\t\t\r\n\t\treturn letterCountsForWord;\r\n\t}\r\n\r\nOutput\r\n\r\n\r\n    Common Character a : 1\r\n    Common Character b : 1\r\n    Common Character c : 2\r\n\r\n","title":"Getting the common character count between two strings","body":"<p>Create a map of the letter counts for each string you give it. Then compare the keys to one another and if the letter is contained in both words, grab the lowest count from the two maps. Try this</p>\n\n<pre><code>public static void main(String[] args)\n{\n    String str1 = \"aabbcc\";\n    String str2 = \"abcddc\";\n    HashMap&lt;Character, Integer&gt; str1LetterCounts = createLetterCountMap(str1);\n    HashMap&lt;Character, Integer&gt; str2LetterCounts = createLetterCountMap(str2);\n\n    HashMap&lt;Character, Integer&gt; commonCounts = new HashMap&lt;&gt;();\n\n    Set&lt;Character&gt; possibleCommonCharacterList = str1LetterCounts.keySet();\n\n    for(Character letter : possibleCommonCharacterList)\n    {\n        if(str2LetterCounts.containsKey(letter))\n        {\n            Integer count1 = str1LetterCounts.get(letter);\n            Integer count2 = str2LetterCounts.get(letter);\n            commonCounts.put(letter, count1 &lt;= count2 ? count1 : count2);\n            System.out.println(\"Common Character \" + letter + \" : \" + (count1 &lt;= count2 ? count1 : count2));\n        }\n    }\n\n}\n\npublic static HashMap&lt;Character, Integer&gt; createLetterCountMap(String word)\n{\n    HashMap&lt;Character, Integer&gt; letterCountsForWord = new HashMap&lt;&gt;();\n    for(int i = 0; i &lt; word.length(); i++)\n    {\n        Character key = word.charAt(i);\n        if(letterCountsForWord.containsKey(key))\n        {\n            letterCountsForWord.put(key, letterCountsForWord.get(key) + 1);\n        }\n        else\n            letterCountsForWord.put(key, 1);\n    }\n\n    return letterCountsForWord;\n}\n</code></pre>\n\n<p>Output</p>\n\n<pre><code>Common Character a : 1\nCommon Character b : 1\nCommon Character c : 2\n</code></pre>\n"},{"comments":[{"owner":{"account_id":26730749,"reputation":1,"user_id":20333138,"display_name":"fatih karaca"},"score":0,"creation_date":1672335612,"post_id":74954347,"comment_id":132270967,"body_markdown":"I solved like this with java . I&#39;m newbie at coding sorry if I miss rules or something","body":"I solved like this with java . I&#39;m newbie at coding sorry if I miss rules or something"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1672347731,"post_id":74954347,"comment_id":132273951,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/74954347/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."},{"owner":{"account_id":26730749,"reputation":1,"user_id":20333138,"display_name":"fatih karaca"},"score":0,"creation_date":1673246248,"post_id":74954347,"comment_id":132446611,"body_markdown":"Lambda anymatch operator returns true if s1&#39;s first character exist in our String s2 charset\nI set a matching char as &quot;&quot; for not to be counted same characters again\nif we dont use break our one to one match does not work properly and İt can match another same character\nwe are setting for other string&#39;s matching character İf we don&#39;t set them as &quot;&quot; same characters are counting more than we want","body":"Lambda anymatch operator returns true if s1&#39;s first character exist in our String s2 charset I set a matching char as &quot;&quot; for not to be counted same characters again if we dont use break our one to one match does not work properly and İt can match another same character we are setting for other string&#39;s matching character İf we don&#39;t set them as &quot;&quot; same characters are counting more than we want"}],"tags":[],"owner":{"account_id":26730749,"reputation":1,"user_id":20333138,"display_name":"fatih karaca"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673246240,"creation_date":1672335511,"answer_id":74954347,"question_id":49862273,"body_markdown":"    int solution(String s1, String s2) {\r\n        int count = 0;\r\n        String[] arr1 = s1.split(&quot;&quot;);\r\n        String[] arr2 = s2.split(&quot;&quot;);//I did split 2 Strings\r\n\r\n        for (int i = 0; i &lt; s1.length(); i++) {\r\n            String s = arr1[i];//anymatch operator complaining if I directly give arr[i]\r\n            if (Arrays.stream(arr2).anyMatch(t -&gt; t.equals(s))) {\r\n                for (int j = 0; j &lt; arr2.length; j++) {\r\n                    if (arr2[j].equals(arr1[i])) {\r\n                        arr2[j] = &quot;&quot;;\r\n                        break;\r\n                    }\r\n                }\r\n                arr1[i] = &quot;&quot;;\r\n\r\n                count++;\r\n            }\r\n        }\r\n        return count;\r\n    }","title":"Getting the common character count between two strings","body":"<pre><code>int solution(String s1, String s2) {\n    int count = 0;\n    String[] arr1 = s1.split(&quot;&quot;);\n    String[] arr2 = s2.split(&quot;&quot;);//I did split 2 Strings\n\n    for (int i = 0; i &lt; s1.length(); i++) {\n        String s = arr1[i];//anymatch operator complaining if I directly give arr[i]\n        if (Arrays.stream(arr2).anyMatch(t -&gt; t.equals(s))) {\n            for (int j = 0; j &lt; arr2.length; j++) {\n                if (arr2[j].equals(arr1[i])) {\n                    arr2[j] = &quot;&quot;;\n                    break;\n                }\n            }\n            arr1[i] = &quot;&quot;;\n\n            count++;\n        }\n    }\n    return count;\n}\n</code></pre>\n"}],"owner":{"display_name":"user9372262"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4297,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":49862641,"answer_count":5,"score":2,"last_activity_date":1673246240,"creation_date":1523896791,"question_id":49862273,"body_markdown":"&gt; Given two strings, find the number of common characters between them.\r\n&gt; \r\n&gt; Example\r\n&gt; \r\n&gt; For s1 = &quot;aabcc&quot; and s2 = &quot;adcaa&quot;, the output should be\r\n&gt; commonCharacterCount(s1, s2) = 3.\r\n&gt; \r\n&gt; Strings have 3 common characters - 2 &quot;a&quot;s and 1 &quot;c&quot;.\r\n\r\nI&#39;ve been stuck on this problem for quite a bit and I&#39;ve tried many approaches to solving this problem, but I cannot quite figure it out. I have the principal idea of how to solve it, but I cannot transfer that to code.\r\n\r\nWhat my approach is to put the string&#39;s characters in their own ArrayList and use nested loops to iterate through them comparing the similar characters and storing the count in a int value. I don&#39;t have any code because I have tried many different attempts varying my code, but no luck.\r\n\r\nI used two nested for loops that are separate from each other like this:\r\n\r\n    for(int i = 0; i&lt;firstString.size(); i++){\r\n        for(int j = 0; j&lt;secondString.size(); j++){\r\n            if(firstString.get(i) == secondString.get(j){\r\n                lettersInCommon++;\r\n                secondString.remove(j);\r\n                }\r\n            }\r\n    }\r\nAnd\r\n\r\n    for(int i = 0; i&lt;secondString.size(); i++){\r\n        for(int j = 0; j&lt;firstString.size(); j++){\r\n            if(firstString.get(i) == secondString.get(j){\r\n                lettersInCommon2++;\r\n                firstString.remove(i);\r\n                }\r\n            }\r\n    }\r\n\r\nSo after these loops run, I return the difference between the two lettersinCommon ints depending on their size to avoid negatives. So if lettersInCommon &gt; lettersInCommon2 -- return lettersInCommon - lettersInCommon2; and vice versa.\r\n\r\nI don&#39;t want anyone to tell me how to code this, I would only like advice towards my logic to see if I can simplify this problem or if I am missing something.\r\n\r\nI would also like to state that this code works for some test cases but not all.\r\n\r\nI&#39;ve been taking into account the comments I&#39;ve received and gotten this far:\r\n\r\n\tArrayList&lt;Character&gt; firstString = new ArrayList&lt;Character&gt;();\r\n\tArrayList&lt;Character&gt; secondString = new ArrayList&lt;Character&gt;();\r\n\tint lettersInCommon = 0;\r\n\t    \r\n\tfor(int i = 0; i&lt;s1.length(); i++){\r\n\t    firstString.add(s1.charAt(i));\r\n\t}\r\n\t    \r\n\tfor(int i = 0; i&lt;s2.length(); i++){\r\n\t    secondString.add(s2.charAt(i));\r\n\t}\r\n    Collections.sort(firstString);\r\n    Collections.sort(secondString);\r\n    for(char c : firstString){\r\n        if(firstString.contains(c) &amp;&amp; secondString.contains(c)){\r\n            lettersInCommon++;\r\n            secondString.remove(s2.indexOf(c));\r\n        }\r\n    }\r\n\r\nI am really close, but the error I get is an out of bounds exception on this line\r\n`secondString.remove(s2.indexOf(c));` \r\n\r\nDoes anyone have any insight on this?","title":"Getting the common character count between two strings","body":"<blockquote>\n  <p>Given two strings, find the number of common characters between them.</p>\n  \n  <p>Example</p>\n  \n  <p>For s1 = \"aabcc\" and s2 = \"adcaa\", the output should be\n  commonCharacterCount(s1, s2) = 3.</p>\n  \n  <p>Strings have 3 common characters - 2 \"a\"s and 1 \"c\".</p>\n</blockquote>\n\n<p>I've been stuck on this problem for quite a bit and I've tried many approaches to solving this problem, but I cannot quite figure it out. I have the principal idea of how to solve it, but I cannot transfer that to code.</p>\n\n<p>What my approach is to put the string's characters in their own ArrayList and use nested loops to iterate through them comparing the similar characters and storing the count in a int value. I don't have any code because I have tried many different attempts varying my code, but no luck.</p>\n\n<p>I used two nested for loops that are separate from each other like this:</p>\n\n<pre><code>for(int i = 0; i&lt;firstString.size(); i++){\n    for(int j = 0; j&lt;secondString.size(); j++){\n        if(firstString.get(i) == secondString.get(j){\n            lettersInCommon++;\n            secondString.remove(j);\n            }\n        }\n}\n</code></pre>\n\n<p>And</p>\n\n<pre><code>for(int i = 0; i&lt;secondString.size(); i++){\n    for(int j = 0; j&lt;firstString.size(); j++){\n        if(firstString.get(i) == secondString.get(j){\n            lettersInCommon2++;\n            firstString.remove(i);\n            }\n        }\n}\n</code></pre>\n\n<p>So after these loops run, I return the difference between the two lettersinCommon ints depending on their size to avoid negatives. So if lettersInCommon > lettersInCommon2 -- return lettersInCommon - lettersInCommon2; and vice versa.</p>\n\n<p>I don't want anyone to tell me how to code this, I would only like advice towards my logic to see if I can simplify this problem or if I am missing something.</p>\n\n<p>I would also like to state that this code works for some test cases but not all.</p>\n\n<p>I've been taking into account the comments I've received and gotten this far:</p>\n\n<pre><code>ArrayList&lt;Character&gt; firstString = new ArrayList&lt;Character&gt;();\nArrayList&lt;Character&gt; secondString = new ArrayList&lt;Character&gt;();\nint lettersInCommon = 0;\n\nfor(int i = 0; i&lt;s1.length(); i++){\n    firstString.add(s1.charAt(i));\n}\n\nfor(int i = 0; i&lt;s2.length(); i++){\n    secondString.add(s2.charAt(i));\n}\nCollections.sort(firstString);\nCollections.sort(secondString);\nfor(char c : firstString){\n    if(firstString.contains(c) &amp;&amp; secondString.contains(c)){\n        lettersInCommon++;\n        secondString.remove(s2.indexOf(c));\n    }\n}\n</code></pre>\n\n<p>I am really close, but the error I get is an out of bounds exception on this line\n<code>secondString.remove(s2.indexOf(c));</code> </p>\n\n<p>Does anyone have any insight on this?</p>\n"},{"tags":["java","android","android-studio"],"answers":[{"tags":[],"owner":{"account_id":26855967,"reputation":2351,"user_id":20440272,"display_name":"Sohaib Ahmed"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673206476,"creation_date":1673206476,"answer_id":75050711,"question_id":75050155,"body_markdown":"Just rebuild your project and run again","title":"android button id declaration","body":"<p>Just rebuild your project and run again</p>\n"},{"tags":[],"owner":{"account_id":27473350,"reputation":1,"user_id":20961793,"display_name":"Steven Adriano"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673236510,"creation_date":1673236510,"answer_id":75053041,"question_id":75050155,"body_markdown":"Sometimes it is a bug in android studio, you can try close and reopen Android Studio. If it doesn&#39;t work, you can invalidate caches or clean project and rebuild it.","title":"android button id declaration","body":"<p>Sometimes it is a bug in android studio, you can try close and reopen Android Studio. If it doesn't work, you can invalidate caches or clean project and rebuild it.</p>\n"},{"tags":[],"owner":{"account_id":26814613,"reputation":1,"user_id":20404727,"display_name":"sourav"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673245664,"creation_date":1673245664,"answer_id":75053811,"question_id":75050155,"body_markdown":"Just click on Invalidate Caches from top Toolbar (File) ,  and then click on Invalidate &amp; Restart. Thank You","title":"android button id declaration","body":"<p>Just click on Invalidate Caches from top Toolbar (File) ,  and then click on Invalidate &amp; Restart. Thank You</p>\n"}],"owner":{"account_id":27330058,"reputation":47,"user_id":20842337,"display_name":"Sumita Das"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":288,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75050711,"answer_count":3,"score":0,"last_activity_date":1673245664,"creation_date":1673200847,"question_id":75050155,"body_markdown":"I have set the button id in xml file but while I tried to find the id of the button it showing an error\r\nxml file\r\n```\r\n&lt;androidx.appcompat.widget.AppCompatButton\r\n        android:id=&quot;@+id/btnrotation&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;@string/rorationbtn&quot;\r\n        android:layout_below=&quot;@+id/imgbox&quot;\r\n        android:layout_centerInParent=&quot;true&quot;\r\n        android:layout_marginTop=&quot;50dp&quot;&gt;\r\n    &lt;/androidx.appcompat.widget.AppCompatButton&gt;\r\n```\r\njava file\r\n```\r\npublic class rotation extends AppCompatActivity {\r\n    AppCompatButton rotate;\r\n    ImageView imgbox;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_rotation);\r\n        getSupportActionBar().setTitle(&quot;Rotation&quot;);\r\n        imgbox=findViewById(R.id.imgbox);\r\n        rotate=findViewById(R.id.btnrotation);\r\n\r\n    }\r\n```\r\nerror\r\ndoes not contain a declaration with id &#39;btnrotation&#39; \r\n","title":"android button id declaration","body":"<p>I have set the button id in xml file but while I tried to find the id of the button it showing an error\nxml file</p>\n<pre><code>&lt;androidx.appcompat.widget.AppCompatButton\n        android:id=&quot;@+id/btnrotation&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;@string/rorationbtn&quot;\n        android:layout_below=&quot;@+id/imgbox&quot;\n        android:layout_centerInParent=&quot;true&quot;\n        android:layout_marginTop=&quot;50dp&quot;&gt;\n    &lt;/androidx.appcompat.widget.AppCompatButton&gt;\n</code></pre>\n<p>java file</p>\n<pre><code>public class rotation extends AppCompatActivity {\n    AppCompatButton rotate;\n    ImageView imgbox;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_rotation);\n        getSupportActionBar().setTitle(&quot;Rotation&quot;);\n        imgbox=findViewById(R.id.imgbox);\n        rotate=findViewById(R.id.btnrotation);\n\n    }\n</code></pre>\n<p>error\ndoes not contain a declaration with id 'btnrotation'</p>\n"},{"tags":["java","oauth","authorization","keycloak"],"comments":[{"owner":{"account_id":241356,"reputation":565,"user_id":512116,"accept_rate":56,"display_name":"pls"},"score":0,"creation_date":1675750858,"post_id":73412895,"comment_id":132990678,"body_markdown":"We have very similar requirements and are about to adopt keycloak for the same purpose. Can you share the solution you ended for (1) implementing multitenancy in keycloak (per realm/groups/other) (2) managing user access right/permissions/roles?","body":"We have very similar requirements and are about to adopt keycloak for the same purpose. Can you share the solution you ended for (1) implementing multitenancy in keycloak (per realm/groups/other) (2) managing user access right/permissions/roles?"}],"owner":{"account_id":6507730,"reputation":89,"user_id":5036095,"display_name":"umaid ashraf"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":614,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1673245562,"creation_date":1660892114,"question_id":73412895,"body_markdown":"We have a multi-tenant (used by multiple organizations) application in Java Spring Boot. We have to implement authentication as well as authorization in such a way that; \r\n1. There can be multiple users in an organization and a user can also be part of multiple organizations.\r\n2. At a time user can view data of only one organization but he can simply switch between organizations.\r\n3. In an organization, there can be multiple teams.\r\n4. A user can have different level of access/permissions for each team. Like maybe a user A is manager of team 1 and same time he can be member of team 2 etc. \r\n\r\nWe are planning to use keycloak for IAM. So the question is, either this type of access management will be possible to achieve in keycloak or we have to manage these permissions on database level in code? And for multi-tenancy, a separate realm for each tenant will be good or we should go for single realm and multiple groups?\r\n\r\nLooking for expert opinions.","title":"Managing organization structure and permissions with keycloak","body":"<p>We have a multi-tenant (used by multiple organizations) application in Java Spring Boot. We have to implement authentication as well as authorization in such a way that;</p>\n<ol>\n<li>There can be multiple users in an organization and a user can also be part of multiple organizations.</li>\n<li>At a time user can view data of only one organization but he can simply switch between organizations.</li>\n<li>In an organization, there can be multiple teams.</li>\n<li>A user can have different level of access/permissions for each team. Like maybe a user A is manager of team 1 and same time he can be member of team 2 etc.</li>\n</ol>\n<p>We are planning to use keycloak for IAM. So the question is, either this type of access management will be possible to achieve in keycloak or we have to manage these permissions on database level in code? And for multi-tenancy, a separate realm for each tenant will be good or we should go for single realm and multiple groups?</p>\n<p>Looking for expert opinions.</p>\n"},{"tags":["java","android","android-studio"],"owner":{"account_id":14450412,"reputation":41,"user_id":10438125,"display_name":"Ac. Selvan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1673245226,"creation_date":1673089015,"question_id":75039748,"body_markdown":"    package com.example.camerastatuscheck;\r\n    \r\n    import static android.content.ContentValues.TAG;\r\n    \r\n    import androidx.annotation.NonNull;\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import androidx.core.app.ActivityCompat;\r\n    \r\n    import android.Manifest;\r\n    import android.content.pm.PackageManager;\r\n    import android.hardware.camera2.CameraAccessException;\r\n    import android.hardware.camera2.CameraCharacteristics;\r\n    import android.hardware.camera2.CameraManager;\r\n    import android.os.Bundle;\r\n    import android.util.Log;\r\n    import android.widget.Toast;\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n    private static final int REQUEST_CAMERA_PERMISSION = 200;\r\n        public static final String ACTION_USB_PERMISSION = &quot;com.example.usbtestapp.USB_PERMISSION&quot;;\r\n        static final int intentFlags = android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.S ? PendingIntent.FLAG_MUTABLE : 0;\r\n        static final int MY_CAMERA_PERMISSION_CODE = 100;\r\n        private Context ContextofMainAcitivity;\r\n        public IntentFilter USBconnectdisconnect_intentFilter;\r\n        public Intent GetEXTRA_PERMISSION_GRANTEDIntent;\r\n        public PendingIntent current_usbpermissionIntent;\r\n        public UsbDevice current_usbdevice;\r\n        public UsbManager current_usbManager;\r\n        private static final String TAG = &quot;usbtestapp&quot;;\r\n        TextureView new_textureview;\r\n        Button new_open_camera,nextactivity;\r\n        UsbDeviceConnection usbConnection;\r\n        PendingIntent permissionIntent;\r\n        private static final int REQUEST_CAMERA_PERMISSION = 200;\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            camera_start();\r\n        }\r\n        private void camera_start() {\r\n    if (ActivityCompat.checkSelfPermission(this, Manifest.permission.CAMERA) != PackageManager.PERMISSION_GRANTED ) {\r\n                ActivityCompat.requestPermissions(fornewpos.this, new String[]{Manifest.permission.CAMERA}, REQUEST_CAMERA_PERMISSION);\r\n                return;\r\n            }\r\n            Log.d(&quot;camera start&quot;, &quot;success&quot;);\r\n            UsbManager manager = (UsbManager) getSystemService(Context.USB_SERVICE);\r\n    \r\n            HashMap&lt;String, UsbDevice&gt; deviceList = manager.getDeviceList();\r\n            Iterator&lt;UsbDevice&gt; deviceIterator = deviceList.values().iterator();\r\n            while(deviceIterator.hasNext()){\r\n                UsbDevice device = deviceIterator.next();\r\n                manager.requestPermission(device, permissionIntent);;\r\n                //your code\r\n            }\r\n            Log.d(&quot;Camrea srtart&quot;,&quot;camera start&quot;);\r\n            CameraManager manager =\r\n                    (CameraManager)getSystemService(CAMERA_SERVICE);\r\n            try {\r\n                for (String cameraId : manager.getCameraIdList()) {\r\n                    CameraCharacteristics chars\r\n                            = manager.getCameraCharacteristics(cameraId);\r\n                    // Do something with the characteristics\r\n                    int deviceLevel = chars.get(CameraCharacteristics.INFO_SUPPORTED_HARDWARE_LEVEL);\r\n                    Log.d(TAG, &quot; **** device [&quot;+cameraId+&quot;] level:&quot;+deviceLevel);\r\n                    Toast.makeText(getApplicationContext(), &quot;cameraId&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n            } catch(CameraAccessException e){\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n        @Override\r\n        public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n            super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n            if (requestCode == REQUEST_CAMERA_PERMISSION) {\r\n                if (grantResults[0] == PackageManager.PERMISSION_DENIED) {\r\n                    // close the app\r\n                    Toast.makeText(MainActivity.this, &quot;Sorry!!!, you can&#39;t use this app without granting permission&quot;, Toast.LENGTH_LONG).show();\r\n                    finish();\r\n                }\r\n            }\r\n        }\r\n    private final BroadcastReceiver usbReceiver = new BroadcastReceiver() {\r\n    \r\n            public void onReceive(Context context, Intent intent) {\r\n                String action = intent.getAction();\r\n                if (ACTION_USB_PERMISSION.equals(action)) {\r\n                    synchronized (this) {\r\n                        UsbDevice device = (UsbDevice)intent.getParcelableExtra(UsbManager.EXTRA_DEVICE);\r\n    \r\n                        if (intent.getBooleanExtra(UsbManager.EXTRA_PERMISSION_GRANTED, false)) {\r\n                            if(device != null){\r\n                                Toast.makeText(context, &quot;Permission granded&quot;, Toast.LENGTH_SHORT).show();\r\n                            }\r\n                        }\r\n                        else {\r\n                            Toast.makeText(context, &quot;Permission denied&quot;, Toast.LENGTH_SHORT).show();\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        };\r\n    public boolean supportsExternalCameras() {\r\n            return this.getPackageManager().hasSystemFeature(PackageManager.FEATURE_CAMERA_EXTERNAL);\r\n        }\r\n    }\r\n\r\n\r\n## Log ##\r\n&gt; 2023-01-07 15:31:55.318 23651-23651 libc                    com.example.cmaera5                  E  Access denied finding property &quot;vendor.camera.aux.packagelist&quot;\r\n\r\n## AndroidManifest ##\r\n\r\n    &lt;uses-feature\r\n            android:name=&quot;android.hardware.camera&quot;\r\n            android:required=&quot;true&quot; /&gt;\r\n    \r\n        &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n    \r\n        &lt;uses-feature android:name=&quot;android.hardware.camera2.full&quot; /&gt;\r\n        &lt;uses-feature android:name=&quot;android.hardware.camera.autofocus&quot; /&gt;\r\n        &lt;uses-feature android:name=&quot;android.hardware.usb.host&quot; /&gt;\r\n        &lt;uses-feature android:name=&quot;android.hardware.usb.accessory&quot; /&gt;\r\n        &lt;uses-feature android:name=&quot;android.hardware.usb&quot; /&gt;\r\n    \r\n        &lt;uses-permission android:name=&quot;android.permission.RECORD_AUDIO&quot; /&gt;\r\n\r\n## Description ##\r\n\r\nI have been using the above code to capture an image from an External USB Camera (Web Cam). This code is working perfectly on most devices, but on some device, it throws \r\n\r\n&gt; 2023-01-07 15:31:55.318 23651-23651 libc   com.example.cmaera5  E \r\n&gt; Access denied finding property &quot;vendor.camera.aux.packagelist&quot;\r\n\r\nIn some devices it shows the above error message in logcat while trying to get the camera ID to open the camera \r\n\r\nI gave permission to camera, external storage and USB device\r\n\r\n## The device Configuration that shows the error ##\r\n1. Android OS version: 9.0 \r\n1. API Level         : 28\r\n\r\nPlease provide me with an explanation of what is happening.\r\n\r\n\r\n","title":"Camera 2 API throws Access denied finding property &quot;vendor.camera.aux.packagelist&quot;","body":"<pre><code>package com.example.camerastatuscheck;\n\nimport static android.content.ContentValues.TAG;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.core.app.ActivityCompat;\n\nimport android.Manifest;\nimport android.content.pm.PackageManager;\nimport android.hardware.camera2.CameraAccessException;\nimport android.hardware.camera2.CameraCharacteristics;\nimport android.hardware.camera2.CameraManager;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.widget.Toast;\n\npublic class MainActivity extends AppCompatActivity {\nprivate static final int REQUEST_CAMERA_PERMISSION = 200;\n    public static final String ACTION_USB_PERMISSION = &quot;com.example.usbtestapp.USB_PERMISSION&quot;;\n    static final int intentFlags = android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.S ? PendingIntent.FLAG_MUTABLE : 0;\n    static final int MY_CAMERA_PERMISSION_CODE = 100;\n    private Context ContextofMainAcitivity;\n    public IntentFilter USBconnectdisconnect_intentFilter;\n    public Intent GetEXTRA_PERMISSION_GRANTEDIntent;\n    public PendingIntent current_usbpermissionIntent;\n    public UsbDevice current_usbdevice;\n    public UsbManager current_usbManager;\n    private static final String TAG = &quot;usbtestapp&quot;;\n    TextureView new_textureview;\n    Button new_open_camera,nextactivity;\n    UsbDeviceConnection usbConnection;\n    PendingIntent permissionIntent;\n    private static final int REQUEST_CAMERA_PERMISSION = 200;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        camera_start();\n    }\n    private void camera_start() {\nif (ActivityCompat.checkSelfPermission(this, Manifest.permission.CAMERA) != PackageManager.PERMISSION_GRANTED ) {\n            ActivityCompat.requestPermissions(fornewpos.this, new String[]{Manifest.permission.CAMERA}, REQUEST_CAMERA_PERMISSION);\n            return;\n        }\n        Log.d(&quot;camera start&quot;, &quot;success&quot;);\n        UsbManager manager = (UsbManager) getSystemService(Context.USB_SERVICE);\n\n        HashMap&lt;String, UsbDevice&gt; deviceList = manager.getDeviceList();\n        Iterator&lt;UsbDevice&gt; deviceIterator = deviceList.values().iterator();\n        while(deviceIterator.hasNext()){\n            UsbDevice device = deviceIterator.next();\n            manager.requestPermission(device, permissionIntent);;\n            //your code\n        }\n        Log.d(&quot;Camrea srtart&quot;,&quot;camera start&quot;);\n        CameraManager manager =\n                (CameraManager)getSystemService(CAMERA_SERVICE);\n        try {\n            for (String cameraId : manager.getCameraIdList()) {\n                CameraCharacteristics chars\n                        = manager.getCameraCharacteristics(cameraId);\n                // Do something with the characteristics\n                int deviceLevel = chars.get(CameraCharacteristics.INFO_SUPPORTED_HARDWARE_LEVEL);\n                Log.d(TAG, &quot; **** device [&quot;+cameraId+&quot;] level:&quot;+deviceLevel);\n                Toast.makeText(getApplicationContext(), &quot;cameraId&quot;, Toast.LENGTH_SHORT).show();\n            }\n        } catch(CameraAccessException e){\n            e.printStackTrace();\n        }\n    }\n    @Override\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n        if (requestCode == REQUEST_CAMERA_PERMISSION) {\n            if (grantResults[0] == PackageManager.PERMISSION_DENIED) {\n                // close the app\n                Toast.makeText(MainActivity.this, &quot;Sorry!!!, you can't use this app without granting permission&quot;, Toast.LENGTH_LONG).show();\n                finish();\n            }\n        }\n    }\nprivate final BroadcastReceiver usbReceiver = new BroadcastReceiver() {\n\n        public void onReceive(Context context, Intent intent) {\n            String action = intent.getAction();\n            if (ACTION_USB_PERMISSION.equals(action)) {\n                synchronized (this) {\n                    UsbDevice device = (UsbDevice)intent.getParcelableExtra(UsbManager.EXTRA_DEVICE);\n\n                    if (intent.getBooleanExtra(UsbManager.EXTRA_PERMISSION_GRANTED, false)) {\n                        if(device != null){\n                            Toast.makeText(context, &quot;Permission granded&quot;, Toast.LENGTH_SHORT).show();\n                        }\n                    }\n                    else {\n                        Toast.makeText(context, &quot;Permission denied&quot;, Toast.LENGTH_SHORT).show();\n                    }\n                }\n            }\n        }\n    };\npublic boolean supportsExternalCameras() {\n        return this.getPackageManager().hasSystemFeature(PackageManager.FEATURE_CAMERA_EXTERNAL);\n    }\n}\n</code></pre>\n<h2>Log</h2>\n<blockquote>\n<p>2023-01-07 15:31:55.318 23651-23651 libc                    com.example.cmaera5                  E  Access denied finding property &quot;vendor.camera.aux.packagelist&quot;</p>\n</blockquote>\n<h2>AndroidManifest</h2>\n<pre><code>&lt;uses-feature\n        android:name=&quot;android.hardware.camera&quot;\n        android:required=&quot;true&quot; /&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\n\n    &lt;uses-feature android:name=&quot;android.hardware.camera2.full&quot; /&gt;\n    &lt;uses-feature android:name=&quot;android.hardware.camera.autofocus&quot; /&gt;\n    &lt;uses-feature android:name=&quot;android.hardware.usb.host&quot; /&gt;\n    &lt;uses-feature android:name=&quot;android.hardware.usb.accessory&quot; /&gt;\n    &lt;uses-feature android:name=&quot;android.hardware.usb&quot; /&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.RECORD_AUDIO&quot; /&gt;\n</code></pre>\n<h2>Description</h2>\n<p>I have been using the above code to capture an image from an External USB Camera (Web Cam). This code is working perfectly on most devices, but on some device, it throws</p>\n<blockquote>\n<p>2023-01-07 15:31:55.318 23651-23651 libc   com.example.cmaera5  E\nAccess denied finding property &quot;vendor.camera.aux.packagelist&quot;</p>\n</blockquote>\n<p>In some devices it shows the above error message in logcat while trying to get the camera ID to open the camera</p>\n<p>I gave permission to camera, external storage and USB device</p>\n<h2>The device Configuration that shows the error</h2>\n<ol>\n<li>Android OS version: 9.0</li>\n<li>API Level         : 28</li>\n</ol>\n<p>Please provide me with an explanation of what is happening.</p>\n"},{"tags":["java","gradle","intellij-idea","jar","program-entry-point"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1673213103,"post_id":75051324,"comment_id":132442404,"body_markdown":"The only reason `ImageIO.read` will return `null` is if the image is not a supported image format - there&#39;s not enough context to be sure, but I&#39;d be making sure that the images you&#39;re trying to load are included within your resulting jar.  Also, your question title doesn&#39;t match you question, which is very confusing","body":"The only reason <code>ImageIO.read</code> will return <code>null</code> is if the image is not a supported image format - there&#39;s not enough context to be sure, but I&#39;d be making sure that the images you&#39;re trying to load are included within your resulting jar.  Also, your question title doesn&#39;t match you question, which is very confusing"},{"owner":{"account_id":26109201,"reputation":1,"user_id":19803425,"display_name":"Sage Belknap"},"score":0,"creation_date":1673213971,"post_id":75051324,"comment_id":132442574,"body_markdown":"What about is confusing? I&#39;m having trouble building the jar. It&#39;s finding a .png. Click the link here: https://i.stack.imgur.com/ZFIWe.png , as you can see, i&#39;m not having issues with my program in intellij. I am having issues with .jar","body":"What about is confusing? I&#39;m having trouble building the jar. It&#39;s finding a .png. Click the link here: <a href=\"https://i.stack.imgur.com/ZFIWe.png\" rel=\"nofollow noreferrer\">i.stack.imgur.com/ZFIWe.png</a> , as you can see, i&#39;m not having issues with my program in intellij. I am having issues with .jar"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1673215106,"post_id":75051324,"comment_id":132442742,"body_markdown":"Title: `&quot;no main manifest attribute, in app.jar&quot;`; Question: `Exception in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;java.awt.image.BufferedImage.getSubimage(int, int, int, int)&quot; because &quot;img&quot; is null` - Those are two different issues, so, which problem are we actually looking at","body":"Title: <code>&quot;no main manifest attribute, in app.jar&quot;</code>; Question: <code>Exception in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;java.awt.image.BufferedImage.getSubimage(int, int, int, int)&quot; because &quot;img&quot; is null</code> - Those are two different issues, so, which problem are we actually looking at"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1673215127,"post_id":75051324,"comment_id":132442748,"body_markdown":"Unzip the Jar - make sure the image files are included. [Add resources and config files to your JAR using Gradle](https://stackoverflow.com/questions/24724383/add-resources-and-config-files-to-your-jar-using-gradle) might also be worth a look","body":"Unzip the Jar - make sure the image files are included. <a href=\"https://stackoverflow.com/questions/24724383/add-resources-and-config-files-to-your-jar-using-gradle\">Add resources and config files to your JAR using Gradle</a> might also be worth a look"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1673215334,"post_id":75051324,"comment_id":132442786,"body_markdown":"What is the value of `fileName`?","body":"What is the value of <code>fileName</code>?"},{"owner":{"account_id":26109201,"reputation":1,"user_id":19803425,"display_name":"Sage Belknap"},"score":0,"creation_date":1673215476,"post_id":75051324,"comment_id":132442804,"body_markdown":"Sorry for the confusion of the title and the question. The error that i receive is not relevant, for it does not appear outside of running the jar. My problem is that my jar is not properly building.","body":"Sorry for the confusion of the title and the question. The error that i receive is not relevant, for it does not appear outside of running the jar. My problem is that my jar is not properly building."},{"owner":{"account_id":26109201,"reputation":1,"user_id":19803425,"display_name":"Sage Belknap"},"score":0,"creation_date":1673215741,"post_id":75051324,"comment_id":132442847,"body_markdown":"Unzipping the jar I see there are no resource folders, and no image files. The link that you have sent has a depreciated solution.","body":"Unzipping the jar I see there are no resource folders, and no image files. The link that you have sent has a depreciated solution."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1673215879,"post_id":75051324,"comment_id":132442866,"body_markdown":"That should already have been taken care of, using IntelliJ","body":"That should already have been taken care of, using IntelliJ"},{"owner":{"account_id":26109201,"reputation":1,"user_id":19803425,"display_name":"Sage Belknap"},"score":0,"creation_date":1673216073,"post_id":75051324,"comment_id":132442890,"body_markdown":"fileName gets used in several places. It loads in more than one image file. When looking in the jar file with 7Zip, it appears that there is no resources folder, and there is no &quot;Main-Class: main.Main&quot; inside of the MANIFEST.mf, but every time that I try to change that, it reverts.","body":"fileName gets used in several places. It loads in more than one image file. When looking in the jar file with 7Zip, it appears that there is no resources folder, and there is no &quot;Main-Class: main.Main&quot; inside of the MANIFEST.mf, but every time that I try to change that, it reverts."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1673216359,"post_id":75051324,"comment_id":132442931,"body_markdown":"I don&#39;t use IntelliJ but it seems like you need to find out how to define resources with it","body":"I don&#39;t use IntelliJ but it seems like you need to find out how to define resources with it"},{"owner":{"account_id":26109201,"reputation":1,"user_id":19803425,"display_name":"Sage Belknap"},"score":0,"creation_date":1673216362,"post_id":75051324,"comment_id":132442934,"body_markdown":"I&#39;ve now tried to add this to the build.gradle:\n`jar {\n    from(&#39;src/main/resources&#39;) {\n        include &#39;**/*.*&#39;\n    }\n    manifest {\n\n        attributes &quot;Main-Class&quot;: &quot;Main&quot;\n    }\n}\nsourceSets {\n    main {\n        java {\n            srcDirs = [&#39;./src/main/java&#39;]\n        }\n        resources {\n            srcDirs = [&#39;./src/main/resources&#39;]\n        }\n    }\n}`\n\nHowever, this does not work. source; https://stackoverflow.com/questions/70466312/gradle-does-not-include-resource-folder-to-jar\n\n:/ I&#39;m so lost.","body":"I&#39;ve now tried to add this to the build.gradle: <code>jar {     from(&#39;src&#47;main&#47;resources&#39;) {         include &#39;**&#47;*.*&#39;     }     manifest {          attributes &quot;Main-Class&quot;: &quot;Main&quot;     } } sourceSets {     main {         java {             srcDirs = [&#39;.&#47;src&#47;main&#47;java&#39;]         }         resources {             srcDirs = [&#39;.&#47;src&#47;main&#47;resources&#39;]         }     } }</code>  However, this does not work. source; <a href=\"https://stackoverflow.com/questions/70466312/gradle-does-not-include-resource-folder-to-jar\" title=\"gradle does not include resource folder to jar\">stackoverflow.com/questions/70466312/&hellip;</a>  :/ I&#39;m so lost."},{"owner":{"account_id":26109201,"reputation":1,"user_id":19803425,"display_name":"Sage Belknap"},"score":0,"creation_date":1673217185,"post_id":75051324,"comment_id":132443038,"body_markdown":"Found the solution: https://stackoverflow.com/questions/28337418/intellij-resources-not-in-built-artifact\n\nI&#39;m going to write a full response soon.","body":"Found the solution: <a href=\"https://stackoverflow.com/questions/28337418/intellij-resources-not-in-built-artifact\" title=\"intellij resources not in built artifact\">stackoverflow.com/questions/28337418/&hellip;</a>  I&#39;m going to write a full response soon."},{"owner":{"account_id":4623673,"reputation":6002,"user_id":4161471,"display_name":"aSemy"},"score":0,"creation_date":1673256946,"post_id":75051324,"comment_id":132449252,"body_markdown":"Have you tried using the [Application plugin](https://docs.gradle.org/current/userguide/application_plugin.html)? It provides a convenient option for setting the main class.","body":"Have you tried using the <a href=\"https://docs.gradle.org/current/userguide/application_plugin.html\" rel=\"nofollow noreferrer\">Application plugin</a>? It provides a convenient option for setting the main class."}],"answers":[{"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1673218574,"post_id":75051820,"comment_id":132443203,"body_markdown":"That&#39;s a hell of a lot of hard work! In Maven, you&#39;d just place your resources in src/main/resources and it would all be done for you","body":"That&#39;s a hell of a lot of hard work! In Maven, you&#39;d just place your resources in src/main/resources and it would all be done for you"},{"owner":{"account_id":26109201,"reputation":1,"user_id":19803425,"display_name":"Sage Belknap"},"score":0,"creation_date":1673219505,"post_id":75051820,"comment_id":132443301,"body_markdown":"Yeah. Ugh. I need to really look into using maven instead of gradle.","body":"Yeah. Ugh. I need to really look into using maven instead of gradle."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1673219790,"post_id":75051820,"comment_id":132443338,"body_markdown":"It might be IntelliJ to blame too, as I&#39;ve seen src/main/resources in Gradle projects too","body":"It might be IntelliJ to blame too, as I&#39;ve seen src/main/resources in Gradle projects too"}],"tags":[],"owner":{"account_id":26109201,"reputation":1,"user_id":19803425,"display_name":"Sage Belknap"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673217914,"creation_date":1673217914,"answer_id":75051820,"question_id":75051324,"body_markdown":"Found the solution by looking [here][1]\r\nI solved this answer by doing as follows:\r\n\r\nI added this to the build.gradle file, although this didn&#39;t seem to do much, because I have to manually modify the MANIFEST.MF inside of the jar by using 7ZIP, but I&#39;ll get to that in a bit. this is what i added:\r\n\r\n    jar {\r\n    from(&#39;src/main/resources&#39;) {\r\n        include &#39;**/*.*&#39;\r\n    }\r\n    manifest {\r\n        attributes &quot;Main-Class&quot;: &quot;main.Main&quot;\r\n    }\r\n}\r\n\r\n\r\nAfter this, I changed some things inside of the File &gt; Project Structure &gt; Artifacts. \r\n\r\nOh another thing, when using the + sign to create the .jar file in the &gt;Artifacts section, do &quot;copy output to director and link manifest&quot; change the directory from `\\src\\main\\java` to `\\src\\main\\resources`\r\n\r\nAfter this, add the &#39;resources&#39; to the jar by pressing the + dropdown *inside of Output Layout* and select the `resources` folder. \r\n\r\nImages:\r\n\r\n[This is a link to what I&#39;ve added.][2]\r\n\r\n\r\n[And this is how i&#39;ve added it.][3]\r\n\r\nAfter this, it should add the resource folders to the inside of the .jar.\r\n\r\nBut that&#39;s not it. Rebuild/Build the jar again with Build &gt; Build Artifacts &gt; Build.\r\n\r\nAnd then use 7Zip or WinRar to open the .jar archive. Go inside of META-INF --&gt; MANIFEST.MF and drag it somewhere. I used my desktop.\r\n\r\nOpen up that copy of the MANIFEST.MF and then add `Main-Class: main.Main` just below the line that says Manifest-Version: 1.0.\r\n\r\nthis is what my full MANIFEST.MF looks like. \r\n```\r\nManifest-Version: 1.0\r\nMain-Class: main.Main\r\nBuild-Date: 2021-09-22\r\nBuild-Revision: 9883ffa5ab9ddb27ce33f6d2ace9f6be16403f40\r\nBuild-Time: 20:54:36.897+0200\r\nBuilt-By: JUnit Team\r\nBundle-ManifestVersion: 2\r\nBundle-Name: JUnit Jupiter API\r\nBundle-SymbolicName: junit-jupiter-api\r\nBundle-Version: 5.8.1\r\nCreated-By: 11.0.12 (Eclipse Foundation 11.0.12+7)\r\nExport-Package: org.junit.jupiter.api;version=&quot;5.8.1&quot;;status=STABLE;uses\r\n :=&quot;kotlin,kotlin.jvm.functions,kotlin.jvm.internal,org.apiguardian.api,\r\n org.junit.jupiter.api.function,org.junit.jupiter.api.parallel,org.junit\r\n .platform.commons.annotation,org.opentest4j&quot;,org.junit.jupiter.api.cond\r\n ition;version=&quot;5.8.1&quot;;status=STABLE;uses:=&quot;org.apiguardian.api,org.juni\r\n t.jupiter.api.extension&quot;,org.junit.jupiter.api.extension;version=&quot;5.8.1\r\n &quot;;status=STABLE;uses:=&quot;org.apiguardian.api,org.junit.jupiter.api,org.ju\r\n nit.jupiter.api.function,org.junit.jupiter.api.parallel,org.junit.platf\r\n orm.commons&quot;,org.junit.jupiter.api.extension.support;version=&quot;5.8.1&quot;;st\r\n atus=EXPERIMENTAL;uses:=&quot;org.apiguardian.api,org.junit.jupiter.api.exte\r\n nsion&quot;,org.junit.jupiter.api.function;version=&quot;5.8.1&quot;;status=STABLE;use\r\n s:=&quot;org.apiguardian.api&quot;,org.junit.jupiter.api.io;version=&quot;5.8.1&quot;;statu\r\n s=EXPERIMENTAL;uses:=&quot;org.apiguardian.api&quot;,org.junit.jupiter.api.parall\r\n el;version=&quot;5.8.1&quot;;status=EXPERIMENTAL;uses:=&quot;org.apiguardian.api&quot;\r\nImplementation-Title: junit-jupiter-api\r\nImplementation-Vendor: junit.org\r\nImplementation-Version: 5.8.1\r\nImport-Package: org.apiguardian.api;resolution:=optional;version=&quot;[1.1,2\r\n )&quot;,org.junit.platform.commons.logging;status=INTERNAL;version=&quot;[1.8,2)&quot;\r\n ,kotlin;resolution:=optional,kotlin.collections;resolution:=optional,ko\r\n tlin.jvm.functions;resolution:=optional,kotlin.jvm.internal;resolution:\r\n =optional,org.junit.jupiter.api;version=&quot;[5.8,6)&quot;,org.junit.jupiter.api\r\n .extension;version=&quot;[5.8,6)&quot;,org.junit.jupiter.api.function;version=&quot;[5\r\n .8,6)&quot;,org.junit.jupiter.api.parallel;version=&quot;[5.8,6)&quot;,org.junit.platf\r\n orm.commons;version=&quot;[1.8,2)&quot;,org.junit.platform.commons.annotation;ver\r\n sion=&quot;[1.8,2)&quot;,org.junit.platform.commons.function;version=&quot;[1.8,2)&quot;,or\r\n g.junit.platform.commons.support;version=&quot;[1.8,2)&quot;,org.junit.platform.c\r\n ommons.util;version=&quot;[1.8,2)&quot;,org.opentest4j;version=&quot;[1.2,2)&quot;\r\nRequire-Capability: osgi.ee;filter:=&quot;(&amp;(osgi.ee=JavaSE)(version=1.8))&quot;\r\nSpecification-Title: junit-jupiter-api\r\nSpecification-Vendor: junit.org\r\nSpecification-Version: 5.8.1\r\n\r\n\r\n```\r\n\r\nNow save this copy of the MANIFEST.MF file, and drag&amp;drop it into your .jar archive (that you have open still with 7Zip or WinRar. ) and replace the file inside with the one that you have created.\r\n\r\nNow run:\r\n```\r\njava -jar app.jar\r\n```\r\n\r\nLet me know if I&#39;ve got anything incorrect.\r\n\r\n  [1]: https://stackoverflow.com/questions/28337418/intellij-resources-not-in-built-artifact\r\n  [2]: https://i.stack.imgur.com/5s70j.png\r\n  [3]: https://i.stack.imgur.com/3BeTF.png","title":"Can&#39;t run .jar file created with IntelliJ / Gradle. &quot;no main manifest attribute, in app.jar&quot;","body":"<p>Found the solution by looking <a href=\"https://stackoverflow.com/questions/28337418/intellij-resources-not-in-built-artifact\">here</a>\nI solved this answer by doing as follows:</p>\n<p>I added this to the build.gradle file, although this didn't seem to do much, because I have to manually modify the MANIFEST.MF inside of the jar by using 7ZIP, but I'll get to that in a bit. this is what i added:</p>\n<pre><code>jar {\nfrom('src/main/resources') {\n    include '**/*.*'\n}\nmanifest {\n    attributes &quot;Main-Class&quot;: &quot;main.Main&quot;\n}\n</code></pre>\n<p>}</p>\n<p>After this, I changed some things inside of the File &gt; Project Structure &gt; Artifacts.</p>\n<p>Oh another thing, when using the + sign to create the .jar file in the &gt;Artifacts section, do &quot;copy output to director and link manifest&quot; change the directory from <code>\\src\\main\\java</code> to <code>\\src\\main\\resources</code></p>\n<p>After this, add the 'resources' to the jar by pressing the + dropdown <em>inside of Output Layout</em> and select the <code>resources</code> folder.</p>\n<p>Images:</p>\n<p><a href=\"https://i.stack.imgur.com/5s70j.png\" rel=\"nofollow noreferrer\">This is a link to what I've added.</a></p>\n<p><a href=\"https://i.stack.imgur.com/3BeTF.png\" rel=\"nofollow noreferrer\">And this is how i've added it.</a></p>\n<p>After this, it should add the resource folders to the inside of the .jar.</p>\n<p>But that's not it. Rebuild/Build the jar again with Build &gt; Build Artifacts &gt; Build.</p>\n<p>And then use 7Zip or WinRar to open the .jar archive. Go inside of META-INF --&gt; MANIFEST.MF and drag it somewhere. I used my desktop.</p>\n<p>Open up that copy of the MANIFEST.MF and then add <code>Main-Class: main.Main</code> just below the line that says Manifest-Version: 1.0.</p>\n<p>this is what my full MANIFEST.MF looks like.</p>\n<pre><code>Manifest-Version: 1.0\nMain-Class: main.Main\nBuild-Date: 2021-09-22\nBuild-Revision: 9883ffa5ab9ddb27ce33f6d2ace9f6be16403f40\nBuild-Time: 20:54:36.897+0200\nBuilt-By: JUnit Team\nBundle-ManifestVersion: 2\nBundle-Name: JUnit Jupiter API\nBundle-SymbolicName: junit-jupiter-api\nBundle-Version: 5.8.1\nCreated-By: 11.0.12 (Eclipse Foundation 11.0.12+7)\nExport-Package: org.junit.jupiter.api;version=&quot;5.8.1&quot;;status=STABLE;uses\n :=&quot;kotlin,kotlin.jvm.functions,kotlin.jvm.internal,org.apiguardian.api,\n org.junit.jupiter.api.function,org.junit.jupiter.api.parallel,org.junit\n .platform.commons.annotation,org.opentest4j&quot;,org.junit.jupiter.api.cond\n ition;version=&quot;5.8.1&quot;;status=STABLE;uses:=&quot;org.apiguardian.api,org.juni\n t.jupiter.api.extension&quot;,org.junit.jupiter.api.extension;version=&quot;5.8.1\n &quot;;status=STABLE;uses:=&quot;org.apiguardian.api,org.junit.jupiter.api,org.ju\n nit.jupiter.api.function,org.junit.jupiter.api.parallel,org.junit.platf\n orm.commons&quot;,org.junit.jupiter.api.extension.support;version=&quot;5.8.1&quot;;st\n atus=EXPERIMENTAL;uses:=&quot;org.apiguardian.api,org.junit.jupiter.api.exte\n nsion&quot;,org.junit.jupiter.api.function;version=&quot;5.8.1&quot;;status=STABLE;use\n s:=&quot;org.apiguardian.api&quot;,org.junit.jupiter.api.io;version=&quot;5.8.1&quot;;statu\n s=EXPERIMENTAL;uses:=&quot;org.apiguardian.api&quot;,org.junit.jupiter.api.parall\n el;version=&quot;5.8.1&quot;;status=EXPERIMENTAL;uses:=&quot;org.apiguardian.api&quot;\nImplementation-Title: junit-jupiter-api\nImplementation-Vendor: junit.org\nImplementation-Version: 5.8.1\nImport-Package: org.apiguardian.api;resolution:=optional;version=&quot;[1.1,2\n )&quot;,org.junit.platform.commons.logging;status=INTERNAL;version=&quot;[1.8,2)&quot;\n ,kotlin;resolution:=optional,kotlin.collections;resolution:=optional,ko\n tlin.jvm.functions;resolution:=optional,kotlin.jvm.internal;resolution:\n =optional,org.junit.jupiter.api;version=&quot;[5.8,6)&quot;,org.junit.jupiter.api\n .extension;version=&quot;[5.8,6)&quot;,org.junit.jupiter.api.function;version=&quot;[5\n .8,6)&quot;,org.junit.jupiter.api.parallel;version=&quot;[5.8,6)&quot;,org.junit.platf\n orm.commons;version=&quot;[1.8,2)&quot;,org.junit.platform.commons.annotation;ver\n sion=&quot;[1.8,2)&quot;,org.junit.platform.commons.function;version=&quot;[1.8,2)&quot;,or\n g.junit.platform.commons.support;version=&quot;[1.8,2)&quot;,org.junit.platform.c\n ommons.util;version=&quot;[1.8,2)&quot;,org.opentest4j;version=&quot;[1.2,2)&quot;\nRequire-Capability: osgi.ee;filter:=&quot;(&amp;(osgi.ee=JavaSE)(version=1.8))&quot;\nSpecification-Title: junit-jupiter-api\nSpecification-Vendor: junit.org\nSpecification-Version: 5.8.1\n\n\n</code></pre>\n<p>Now save this copy of the MANIFEST.MF file, and drag&amp;drop it into your .jar archive (that you have open still with 7Zip or WinRar. ) and replace the file inside with the one that you have created.</p>\n<p>Now run:</p>\n<pre><code>java -jar app.jar\n</code></pre>\n<p>Let me know if I've got anything incorrect.</p>\n"},{"comments":[{"owner":{"account_id":26109201,"reputation":1,"user_id":19803425,"display_name":"Sage Belknap"},"score":0,"creation_date":1673262498,"post_id":75053754,"comment_id":132451066,"body_markdown":"When you say &gt;And then just change &#39;package.MainClass&#39; to &#39;.&#39; (where your Main class has a main method). &lt; \nDo you mean that I should make the build.gradle say ` jar {\n    manifest {\n        attributes &quot;Main-Class&quot;: &quot;.main.Main&quot;\n    }\n}\n ` or is it fine without the precursory &#39;.&#39; ?","body":"When you say &gt;And then just change &#39;package.MainClass&#39; to &#39;.&#39; (where your Main class has a main method). &lt;  Do you mean that I should make the build.gradle say ` jar {     manifest {         attributes &quot;Main-Class&quot;: &quot;.main.Main&quot;     } }  ` or is it fine without the precursory &#39;.&#39; ?"},{"owner":{"account_id":26885891,"reputation":26,"user_id":20465465,"display_name":"ITGeek"},"score":0,"creation_date":1673267804,"post_id":75053754,"comment_id":132452884,"body_markdown":"I mean at the place of package.MainClass replace your main class&#39;s package with class name, suppose my psvm(String args[]) method is in AppRunner class and my AppRunner class is in com.app package so I will re-write it like this:  jar {\n  manifest {\n    attributes(\n      &#39;Main-Class&#39;: &#39;com.app.AppRunner&#39;\n    )\n  }\n}","body":"I mean at the place of package.MainClass replace your main class&#39;s package with class name, suppose my psvm(String args[]) method is in AppRunner class and my AppRunner class is in com.app package so I will re-write it like this:  jar {   manifest {     attributes(       &#39;Main-Class&#39;: &#39;com.app.AppRunner&#39;     )   } }"}],"tags":[],"owner":{"account_id":26885891,"reputation":26,"user_id":20465465,"display_name":"ITGeek"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673245087,"creation_date":1673245087,"answer_id":75053754,"question_id":75051324,"body_markdown":"RootCause:\r\nWhen you run self-executable jar, java will look for the Main-Class in MANIFEST.MF file located under META-INF folder. If it is not able to find an entry,then it will complain with Unable to execute jar- file: “no main manifest attribute”.\r\n\r\nTry to change your manifest attributes like:\r\n```\r\njar {\r\n  manifest {\r\n    attributes(\r\n      &#39;Main-Class&#39;: &#39;package.MainClass&#39;\r\n    )\r\n  }\r\n}\r\n```\r\nAnd then just change &#39;package.MainClass&#39; to &#39;&lt;your packagename&gt;.&lt;the name of your Main class&gt;&#39; (where your Main class has a main method). In this case, you make in your manifest an attribute, which point to this class, then a jar is running.\r\n\r\n**for adding it using CLI the following command will do the job:**\r\n```\r\njar cmvf META-INF/MANIFEST.MF &lt;new-jar-filename&gt;.jar  &lt;files to include&gt;\r\n```\r\n\r\nYou can also refer to this article https://www.javatpoint.com/no-main-manifest-attribute","title":"Can&#39;t run .jar file created with IntelliJ / Gradle. &quot;no main manifest attribute, in app.jar&quot;","body":"<p>RootCause:\nWhen you run self-executable jar, java will look for the Main-Class in MANIFEST.MF file located under META-INF folder. If it is not able to find an entry,then it will complain with Unable to execute jar- file: “no main manifest attribute”.</p>\n<p>Try to change your manifest attributes like:</p>\n<pre><code>jar {\n  manifest {\n    attributes(\n      'Main-Class': 'package.MainClass'\n    )\n  }\n}\n</code></pre>\n<p>And then just change 'package.MainClass' to '.' (where your Main class has a main method). In this case, you make in your manifest an attribute, which point to this class, then a jar is running.</p>\n<p><strong>for adding it using CLI the following command will do the job:</strong></p>\n<pre><code>jar cmvf META-INF/MANIFEST.MF &lt;new-jar-filename&gt;.jar  &lt;files to include&gt;\n</code></pre>\n<p>You can also refer to this article <a href=\"https://www.javatpoint.com/no-main-manifest-attribute\" rel=\"nofollow noreferrer\">https://www.javatpoint.com/no-main-manifest-attribute</a></p>\n"}],"owner":{"account_id":26109201,"reputation":1,"user_id":19803425,"display_name":"Sage Belknap"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1195,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1673245087,"creation_date":1673212277,"question_id":75051324,"body_markdown":"I&#39;ve followed the advice of other solutions. [Like this one.](https://stackoverflow.com/questions/9689793/cant-execute-jar-file-no-main-manifest-attribute)\r\n\r\n[And this one.](https://stackoverflow.com/questions/53830423/no-main-manifest-attribute-intellij)\r\n\r\n\r\n\r\nI&#39;ve also tried the solution belonging to [this](https://stackoverflow.com/questions/19250966/failing-to-run-jar-file-from-command-line-no-main-manifest-attribute)\r\n\r\n```\r\n$ java -cp app.jar main.Main\r\n\r\n```\r\nI get an error that would not normally occur when running the project inside of IntelliJ.\r\n\r\n\r\nHere is that error:\r\n```\r\nException in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;java.awt.image.BufferedImage.getSubimage(int, int, int, int)&quot; because &quot;img&quot; is null\r\n        at entities.MiqoCharacter.loadAnimationMale(MiqoCharacter.java:280)\r\n        at entities.MiqoCharacter.&lt;init&gt;(MiqoCharacter.java:50)\r\n        at gamescreens.CharacterDisplayScreen.initClasses(CharacterDisplayScreen.java:33)\r\n        at gamescreens.CharacterDisplayScreen.&lt;init&gt;(CharacterDisplayScreen.java:27)\r\n        at main.Game.initClasses(Game.java:33)\r\n        at main.Game.&lt;init&gt;(Game.java:22)\r\n        at main.Main.main(Main.java:7)\r\n```\r\n\r\nLike I have stated, this error does not occur inside of the program itself. I believe that it has to do with the resources folder. \r\nThis is the method that is causing the errors.\r\n\r\n```\r\n public static BufferedImage GetSpriteAtlas(String fileName) {\r\n        BufferedImage img = null;\r\n        InputStream is = AssetLoader.class.getResourceAsStream(fileName);\r\n        if (is != null) {\r\n            try {\r\n\r\n                img = ImageIO.read(is);\r\n\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            } finally {\r\n                try {\r\n\r\n                    is.close();\r\n\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n        return img;\r\n    }\r\n```\r\n\r\nWhen running the full code inside of IntelliJ, I can see the program just fine. \r\n[Here is the GUI of the application displaying correctly when running inside of IntelliJ.](https://i.stack.imgur.com/ZFIWe.png)\r\n\r\n\r\nI have created the .jar file using IntelliJ, and I have built it using Gradle.\r\nthis is my build.gradle file.\r\n\r\n\r\n```\r\nplugins {\r\n    id &#39;java&#39;\r\n}\r\njar {\r\n    manifest {\r\n        attributes &quot;Main-Class&quot;: &quot;main.Main&quot;\r\n    }\r\n}\r\n\r\n\r\ngroup &#39;org.example&#39;\r\nversion &#39;1.0-SNAPSHOT&#39;\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    testImplementation &#39;org.junit.jupiter:junit-jupiter-api:5.8.1&#39;\r\n    testRuntimeOnly &#39;org.junit.jupiter:junit-jupiter-engine:5.8.1&#39;\r\n}\r\n\r\n\r\ntest {\r\n    useJUnitPlatform()\r\n}\r\n```\r\n\r\nand here is my MANIFEST.MF\r\n\r\n```\r\nMain-Class: main.Main\r\n\r\n```\r\n\r\n\r\n\r\n\r\nI&#39;ve tried to follow the advice of several threads on stack overflow as well as from videos on youtube. I can&#39;t seem to find the answer to this. And i get errors that would indicate that my .jar file had not compiled the contents of the resource folder, nor detect the Main class in my project. ","title":"Can&#39;t run .jar file created with IntelliJ / Gradle. &quot;no main manifest attribute, in app.jar&quot;","body":"<p>I've followed the advice of other solutions. <a href=\"https://stackoverflow.com/questions/9689793/cant-execute-jar-file-no-main-manifest-attribute\">Like this one.</a></p>\n<p><a href=\"https://stackoverflow.com/questions/53830423/no-main-manifest-attribute-intellij\">And this one.</a></p>\n<p>I've also tried the solution belonging to <a href=\"https://stackoverflow.com/questions/19250966/failing-to-run-jar-file-from-command-line-no-main-manifest-attribute\">this</a></p>\n<pre><code>$ java -cp app.jar main.Main\n\n</code></pre>\n<p>I get an error that would not normally occur when running the project inside of IntelliJ.</p>\n<p>Here is that error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;java.awt.image.BufferedImage.getSubimage(int, int, int, int)&quot; because &quot;img&quot; is null\n        at entities.MiqoCharacter.loadAnimationMale(MiqoCharacter.java:280)\n        at entities.MiqoCharacter.&lt;init&gt;(MiqoCharacter.java:50)\n        at gamescreens.CharacterDisplayScreen.initClasses(CharacterDisplayScreen.java:33)\n        at gamescreens.CharacterDisplayScreen.&lt;init&gt;(CharacterDisplayScreen.java:27)\n        at main.Game.initClasses(Game.java:33)\n        at main.Game.&lt;init&gt;(Game.java:22)\n        at main.Main.main(Main.java:7)\n</code></pre>\n<p>Like I have stated, this error does not occur inside of the program itself. I believe that it has to do with the resources folder.\nThis is the method that is causing the errors.</p>\n<pre><code> public static BufferedImage GetSpriteAtlas(String fileName) {\n        BufferedImage img = null;\n        InputStream is = AssetLoader.class.getResourceAsStream(fileName);\n        if (is != null) {\n            try {\n\n                img = ImageIO.read(is);\n\n            } catch (IOException e) {\n                e.printStackTrace();\n            } finally {\n                try {\n\n                    is.close();\n\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n            }\n        }\n        return img;\n    }\n</code></pre>\n<p>When running the full code inside of IntelliJ, I can see the program just fine.\n<a href=\"https://i.stack.imgur.com/ZFIWe.png\" rel=\"nofollow noreferrer\">Here is the GUI of the application displaying correctly when running inside of IntelliJ.</a></p>\n<p>I have created the .jar file using IntelliJ, and I have built it using Gradle.\nthis is my build.gradle file.</p>\n<pre><code>plugins {\n    id 'java'\n}\njar {\n    manifest {\n        attributes &quot;Main-Class&quot;: &quot;main.Main&quot;\n    }\n}\n\n\ngroup 'org.example'\nversion '1.0-SNAPSHOT'\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    testImplementation 'org.junit.jupiter:junit-jupiter-api:5.8.1'\n    testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.8.1'\n}\n\n\ntest {\n    useJUnitPlatform()\n}\n</code></pre>\n<p>and here is my MANIFEST.MF</p>\n<pre><code>Main-Class: main.Main\n\n</code></pre>\n<p>I've tried to follow the advice of several threads on stack overflow as well as from videos on youtube. I can't seem to find the answer to this. And i get errors that would indicate that my .jar file had not compiled the contents of the resource folder, nor detect the Main class in my project.</p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":7728868,"reputation":336,"user_id":5852701,"display_name":"StealthSpoder"},"score":0,"creation_date":1570551948,"post_id":58290379,"comment_id":102945142,"body_markdown":"Awesome question.  I usually step through the debugger to find out what implementation is being used at that time, but there has to be a better way of doing this.","body":"Awesome question.  I usually step through the debugger to find out what implementation is being used at that time, but there has to be a better way of doing this."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":3,"creation_date":1570552651,"post_id":58290379,"comment_id":102945474,"body_markdown":"Well, the point of interfaces is to be able to exchange one implementation for another at runtime. Your example is quite trivial and it might seem as if the IDE should be able to &quot;know&quot; the actual type of `onyx` and `lassie` but think of a more complex scenario: what if some library, reflection code etc. would change those references? How would the IDE know which would be called at runtime? It&#39;s quite a hard if not impossible task (at least for arbitrary code) so the IDE will show you all usages that _could_ end up calling that single implementation.","body":"Well, the point of interfaces is to be able to exchange one implementation for another at runtime. Your example is quite trivial and it might seem as if the IDE should be able to &quot;know&quot; the actual type of <code>onyx</code> and <code>lassie</code> but think of a more complex scenario: what if some library, reflection code etc. would change those references? How would the IDE know which would be called at runtime? It&#39;s quite a hard if not impossible task (at least for arbitrary code) so the IDE will show you all usages that <i>could</i> end up calling that single implementation."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1570556552,"post_id":58290379,"comment_id":102947262,"body_markdown":"To illustrate Thomas’s point:  imagine a method `public static void barkTwice(Dog dog)`.  How would an IDE know which implementation is being passed as an argument?","body":"To illustrate Thomas’s point:  imagine a method <code>public static void barkTwice(Dog dog)</code>.  How would an IDE know which implementation is being passed as an argument?"},{"owner":{"account_id":4382459,"reputation":151,"user_id":3573712,"display_name":"user3573712"},"score":0,"creation_date":1570558976,"post_id":58290379,"comment_id":102948303,"body_markdown":"Yes - I couldn&#39;t think of a way that the IDE could know what the type is at runtime, but I thought maybe it could guess based on the way it was assigned in main.  I suppose I could search for instances of &quot;= new Lab()&quot; or of the constructor itself, but the real project I&#39;m working with uses spring - so there aren&#39;t any obvious constructors used. Searching through items.xml should work, but it&#39;s still not easy.","body":"Yes - I couldn&#39;t think of a way that the IDE could know what the type is at runtime, but I thought maybe it could guess based on the way it was assigned in main.  I suppose I could search for instances of &quot;= new Lab()&quot; or of the constructor itself, but the real project I&#39;m working with uses spring - so there aren&#39;t any obvious constructors used. Searching through items.xml should work, but it&#39;s still not easy."}],"answers":[{"comments":[{"owner":{"account_id":290352,"reputation":1101,"user_id":591860,"accept_rate":27,"display_name":"Wooff"},"score":0,"creation_date":1621929115,"post_id":58308484,"comment_id":119634473,"body_markdown":"could you link where &quot;company said&quot;? I would like to read full reasoning...  In my opinion IDEA does not have only (compiled, type-erased) &quot;classes&quot;, but IDEA have &quot;sources&quot; as well. So, it should be doable ...","body":"could you link where &quot;company said&quot;? I would like to read full reasoning...  In my opinion IDEA does not have only (compiled, type-erased) &quot;classes&quot;, but IDEA have &quot;sources&quot; as well. So, it should be doable ..."}],"tags":[],"owner":{"account_id":4382459,"reputation":151,"user_id":3573712,"display_name":"user3573712"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1570638422,"creation_date":1570638422,"answer_id":58308484,"question_id":58290379,"body_markdown":"As the comments say, the implementation being used is determined at runtime, so Intellij can&#39;t limit usage results to one implementation. However, Intellij support suggested creating a custom scope to limit the usage search. That helps a bit, although creating a scope requires that you know the general area where you usage is, which is maybe what you were doing the usage search for in the first place. In my case, I could create a scope that only includes the code our company has made to the project. That reduced the results from 500+ to about 80. \r\n\r\nTo create a custom scope in Intellij, select File-settings-appearance &amp; behavior-Scopes. Click the plus sign in the middle of the dialog box, select local or shared, and give it a name. In the right half of the dialog box, you can include/exclude/include recursively/exclude recursively libraries, packages etc.\r\n\r\nThen when you do your find usages (or other searches) click the gear icon in the results and select your new scope in the drop down list. \r\n","title":"How to find usages of ONE implementation of an interface&#39;s method","body":"<p>As the comments say, the implementation being used is determined at runtime, so Intellij can't limit usage results to one implementation. However, Intellij support suggested creating a custom scope to limit the usage search. That helps a bit, although creating a scope requires that you know the general area where you usage is, which is maybe what you were doing the usage search for in the first place. In my case, I could create a scope that only includes the code our company has made to the project. That reduced the results from 500+ to about 80. </p>\n\n<p>To create a custom scope in Intellij, select File-settings-appearance &amp; behavior-Scopes. Click the plus sign in the middle of the dialog box, select local or shared, and give it a name. In the right half of the dialog box, you can include/exclude/include recursively/exclude recursively libraries, packages etc.</p>\n\n<p>Then when you do your find usages (or other searches) click the gear icon in the results and select your new scope in the drop down list. </p>\n"},{"tags":[],"owner":{"account_id":2759776,"reputation":959,"user_id":2376893,"display_name":"Chris J"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673244340,"creation_date":1673244340,"answer_id":75053681,"question_id":58290379,"body_markdown":"I&#39;ve a similar case, where I&#39;ve to find the usage of external library, say for eg:\r\n\r\n    implementation &#39;com.android.volley:volley:1.1.1&#39;\r\nin my `Module:app` only. So, for this, go to\r\n\r\n`1. Project` in the left tab of android studio &gt; `Android` view &gt; Right Click `app` directory &gt; `Analyze` &gt; `Analyaze Dependencies` &gt; In the pop up window, select `Directory` only &gt; Click `OK`.\r\n\r\nThen `Dependency Viewer` Tab will open. Select where to search in left tree. For that, I click `app` in left tree. Then in the right tree, I have to select the External library, that I&#39;m looking for. For that,\r\n\r\nOpen `External Dependencies` &gt; Click `com/android/volley`.\r\n\r\nThen at the bottom of both left and right trees, I can see all the usages of the external library in my `Module:app`.\r\n\r\nHope it helps...","title":"How to find usages of ONE implementation of an interface&#39;s method","body":"<p>I've a similar case, where I've to find the usage of external library, say for eg:</p>\n<pre><code>implementation 'com.android.volley:volley:1.1.1'\n</code></pre>\n<p>in my <code>Module:app</code> only. So, for this, go to</p>\n<p><code>1. Project</code> in the left tab of android studio &gt; <code>Android</code> view &gt; Right Click <code>app</code> directory &gt; <code>Analyze</code> &gt; <code>Analyaze Dependencies</code> &gt; In the pop up window, select <code>Directory</code> only &gt; Click <code>OK</code>.</p>\n<p>Then <code>Dependency Viewer</code> Tab will open. Select where to search in left tree. For that, I click <code>app</code> in left tree. Then in the right tree, I have to select the External library, that I'm looking for. For that,</p>\n<p>Open <code>External Dependencies</code> &gt; Click <code>com/android/volley</code>.</p>\n<p>Then at the bottom of both left and right trees, I can see all the usages of the external library in my <code>Module:app</code>.</p>\n<p>Hope it helps...</p>\n"}],"owner":{"account_id":4382459,"reputation":151,"user_id":3573712,"display_name":"user3573712"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":915,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":2,"score":6,"last_activity_date":1673244340,"creation_date":1570551799,"question_id":58290379,"body_markdown":"I have a project with hundreds of implementations of an interface. I&#39;d like to find the usages of a method in just ONE implementation of that interface. Intellij (and Eclipse) both show me all usages of that method in all of the implementations - hundreds of them.\r\n\r\nI highlight the method in one implementation of the interface, right-click and select &quot;find usages&quot;, and it shows me all usages of that method in all implementations.\r\n\r\nNone of the usage options in Intellij seem to get me just one implementation.\r\n\r\n    public interface Dog {\r\n        void bark(int volume);\r\n    }\r\n    public class Lab implements Dog {\r\n        public void bark(int volume) {\r\n            System.out.println(&quot;woof&quot;);\r\n        }\r\n    }\r\n    public class Collie implements Dog {\r\n        public void bark(int volume) {\r\n            System.out.println(&quot;woof&quot;);\r\n        }\r\n    }\r\n    public class Main {\r\n    \r\n        public static void main(String[] args) {\r\n    \t    Dog onyx = new Lab();\r\n    \t    Dog lassie = new Collie();\r\n    \r\n    \r\n    \t    onyx.bark(50);\r\n    \t    lassie.bark(20);\r\n        }\r\n    }\r\n\r\nIf I highlight the Lab bark method, click show usages, I want to just see the onyx.bark(50) line in main.java, not both bark usages in main.java.\r\n\r\nI realize that if I use Lab onyx = new Lab() and Collie lassie = new Collie() in the main class, find references will work, but that&#39;s not how the project is written. Maybe there&#39;s no way for the IDE to determine the implementing class when the type is the interface, but it sure would be useful.","title":"How to find usages of ONE implementation of an interface&#39;s method","body":"<p>I have a project with hundreds of implementations of an interface. I'd like to find the usages of a method in just ONE implementation of that interface. Intellij (and Eclipse) both show me all usages of that method in all of the implementations - hundreds of them.</p>\n\n<p>I highlight the method in one implementation of the interface, right-click and select \"find usages\", and it shows me all usages of that method in all implementations.</p>\n\n<p>None of the usage options in Intellij seem to get me just one implementation.</p>\n\n<pre><code>public interface Dog {\n    void bark(int volume);\n}\npublic class Lab implements Dog {\n    public void bark(int volume) {\n        System.out.println(\"woof\");\n    }\n}\npublic class Collie implements Dog {\n    public void bark(int volume) {\n        System.out.println(\"woof\");\n    }\n}\npublic class Main {\n\n    public static void main(String[] args) {\n        Dog onyx = new Lab();\n        Dog lassie = new Collie();\n\n\n        onyx.bark(50);\n        lassie.bark(20);\n    }\n}\n</code></pre>\n\n<p>If I highlight the Lab bark method, click show usages, I want to just see the onyx.bark(50) line in main.java, not both bark usages in main.java.</p>\n\n<p>I realize that if I use Lab onyx = new Lab() and Collie lassie = new Collie() in the main class, find references will work, but that's not how the project is written. Maybe there's no way for the IDE to determine the implementing class when the type is the interface, but it sure would be useful.</p>\n"},{"tags":["java","javafx","fxml"],"comments":[{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":4,"creation_date":1673197063,"post_id":75049195,"comment_id":132439270,"body_markdown":"You can [_define_](https://openjfx.io/javadoc/19/javafx.fxml/javafx/fxml/doc-files/introduction_to_fxml.html#define_elements) arbitrary elements, for [example](https://stackoverflow.com/a/74480486/230513), but I would advocate using the computed size in a responsive layout.","body":"You can <a href=\"https://openjfx.io/javadoc/19/javafx.fxml/javafx/fxml/doc-files/introduction_to_fxml.html#define_elements\" rel=\"nofollow noreferrer\"><i>define</i></a> arbitrary elements, for <a href=\"https://stackoverflow.com/a/74480486/230513\">example</a>, but I would advocate using the computed size in a responsive layout."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":4,"creation_date":1673198268,"post_id":75049195,"comment_id":132439537,"body_markdown":"*”Perhaps, even better would be if I could set all values within scenebuilder to be by preferred ratio rather that size, so that later on, when resizing the stage, everything would change with it.”* This is what you should do. Just choose appropriate layout panes that implement this behavior; it is exactly what they are for. `AnchorPane`, which does not really implement a responsive layout, is rarely the correct choice.","body":"<i>”Perhaps, even better would be if I could set all values within scenebuilder to be by preferred ratio rather that size, so that later on, when resizing the stage, everything would change with it.”</i> This is what you should do. Just choose appropriate layout panes that implement this behavior; it is exactly what they are for. <code>AnchorPane</code>, which does not really implement a responsive layout, is rarely the correct choice."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":3,"creation_date":1673255776,"post_id":75049195,"comment_id":132448898,"body_markdown":"your first code snippet would be plain wrong: fields annotated with fxml are supposed to be injected by the loader, they _must not_ be initialized - it&#39;s a one-way road. As already suggested in the other comments: learn all about layouts, choose an appropriate one. when stuck come back with a [mcve] demonstrating the problem","body":"your first code snippet would be plain wrong: fields annotated with fxml are supposed to be injected by the loader, they <i>must not</i> be initialized - it&#39;s a one-way road. As already suggested in the other comments: learn all about layouts, choose an appropriate one. when stuck come back with a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> demonstrating the problem"},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1673257774,"post_id":75049195,"comment_id":132449520,"body_markdown":"Another [example of `fx:define`](https://stackoverflow.com/questions/23705654/bind-font-size-in-javafx). See the usage of the `Measurement` class in my answer.  Though, please heed the recommendations in other comments. I wouldn’t use the define mechanism like this unless I really needed to as it would complicate things for me.","body":"Another <a href=\"https://stackoverflow.com/questions/23705654/bind-font-size-in-javafx\">example of <code>fx:define</code></a>. See the usage of the <code>Measurement</code> class in my answer.  Though, please heed the recommendations in other comments. I wouldn’t use the define mechanism like this unless I really needed to as it would complicate things for me."},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1673328345,"post_id":75049195,"comment_id":132468220,"body_markdown":"This looks like a case where you are attempting to take the wrong approach to accomplish a task. My guess is that you should do this while loading an FXML. If this is the loading of the first FXML, it should be done in the `Main`.  `Rectangle2D screenBounds = Screen.getPrimary().getBounds();        \n        Parent root = FXMLLoader.load(getClass().getResource(&quot;LoginScreen.fxml&quot;));        \n        Scene scene = new Scene(root, screenBounds.getWidth()/2, screenBounds.getHeight()/2);`","body":"This looks like a case where you are attempting to take the wrong approach to accomplish a task. My guess is that you should do this while loading an FXML. If this is the loading of the first FXML, it should be done in the <code>Main</code>.  <code>Rectangle2D screenBounds = Screen.getPrimary().getBounds();                 Parent root = FXMLLoader.load(getClass().getResource(&quot;LoginScreen.fxml&quot;));                 Scene scene = new Scene(root, screenBounds.getWidth()&#47;2, screenBounds.getHeight()&#47;2);</code>"}],"answers":[{"tags":[],"owner":{"account_id":26246600,"reputation":21,"user_id":19919975,"display_name":"Ibrahim Habra"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1673243101,"creation_date":1673243101,"answer_id":75053567,"question_id":75049195,"body_markdown":"Maybe you can initialize the bounds of AnchorPane in the controller class instead of using variables ,since it is not allowed to be.&lt;br&gt;\r\nPerhaps you should implement the &lt;code&gt;Controller&lt;/code&gt; class with &lt;code&gt;Initializable&lt;/code&gt; class to over ride the &lt;code&gt;initialize&lt;/code&gt; method.&lt;br&gt;\r\nAs names suggests , you can initialize the component of the fxml file using that method.&lt;br&gt;\r\nAnd of course you can inside that method set the bounds by &lt;code&gt;root.setPrefHeight(customVariable);&lt;/code&gt;.&lt;br&gt;\r\n&lt;h3&gt;Full code:&lt;/h3&gt;&lt;br&gt;\r\n&lt;code&gt;\r\n\r\n    import javafx.fxml.Initializable;\r\n    import javafx.scene.layout.AnchorPane;\r\n\r\n    public class Controller implements Initializable {\r\n\r\n    @fxml\r\n    public AnchorPane root;\r\n    public int height = 180;\r\n    public int width = 200;\r\n\r\n    @Override\r\n    public void initialize(URL location, ResourceBundle resources) {\r\n        root.setPrefHeight(height);\r\n        root.setPrefWidth(width);\r\n        }\r\n    }\r\n\r\n&lt;/code&gt;\r\n ","title":"Using a variable from a java file in an FXML file","body":"<p>Maybe you can initialize the bounds of AnchorPane in the controller class instead of using variables ,since it is not allowed to be.<br>\nPerhaps you should implement the <code>Controller</code> class with <code>Initializable</code> class to over ride the <code>initialize</code> method.<br>\nAs names suggests , you can initialize the component of the fxml file using that method.<br>\nAnd of course you can inside that method set the bounds by <code>root.setPrefHeight(customVariable);</code>.<br></p>\n<h3>Full code:</h3><br>\n<code>\n<pre><code>import javafx.fxml.Initializable;\nimport javafx.scene.layout.AnchorPane;\n\npublic class Controller implements Initializable {\n\n@fxml\npublic AnchorPane root;\npublic int height = 180;\npublic int width = 200;\n\n@Override\npublic void initialize(URL location, ResourceBundle resources) {\n    root.setPrefHeight(height);\n    root.setPrefWidth(width);\n    }\n}\n</code></pre>\n</code>\n \n"}],"owner":{"account_id":27425363,"reputation":1,"user_id":20922968,"display_name":"emilwandersen"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673243101,"creation_date":1673193232,"question_id":75049195,"body_markdown":"I&#39;m creating a stage that I&#39;ve made in scenebuilder and I want some of the sizes in there to be dependent on the size of the monitor. However, in scenebuilder, when setting pref width/height, I can only write a number or &quot;USE_COMPUTED_SIZE&quot;. \r\nI know that I can get the dimensions of the screen by using the following code;\r\n\r\n```\r\nRectangle2D screenBounds = Screen.getPrimary().getBounds();\r\n\r\n    @FXML\r\n    double windowHeight = screenBounds.getHeight()/2;\r\n    @FXML\r\n    double windowWidth = screenBounds.getHeight()/2;\r\n```\r\n\r\nis there a way to use these variables &quot;**windowHeight**&quot; and &quot;**windowWidth**&quot; in the FXML file. Like:\r\n\r\n\r\n```\r\n&lt;AnchorPane prefHeight=&quot;windowHeight&quot; prefWidth=&quot;windowWidth&quot; stylesheets=&quot;@defaultStyle.css&quot; xmlns=&quot;http://javafx.com/javafx/19&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;Menu&quot;&gt;\r\n```\r\n\r\n(The variables &quot;**windowHeight**&quot; and &quot;**windowWidth**&quot; are declared in Menu.java)\r\n\r\n\r\nAnother preferred way to be able to do it would be if I could directly set the width and height to a variable within scenebuilder.\r\n\r\nPerhaps, even better would be if I could set all values within scenebuilder to be by preferred ratio rather that size, so that later on, when resizing the stage, everything would change with it.\r\n\r\n\r\n\r\n\r\nI have tried to later set the width and height of the stage when loading it but it didn&#39;t really work.","title":"Using a variable from a java file in an FXML file","body":"<p>I'm creating a stage that I've made in scenebuilder and I want some of the sizes in there to be dependent on the size of the monitor. However, in scenebuilder, when setting pref width/height, I can only write a number or &quot;USE_COMPUTED_SIZE&quot;.\nI know that I can get the dimensions of the screen by using the following code;</p>\n<pre><code>Rectangle2D screenBounds = Screen.getPrimary().getBounds();\n\n    @FXML\n    double windowHeight = screenBounds.getHeight()/2;\n    @FXML\n    double windowWidth = screenBounds.getHeight()/2;\n</code></pre>\n<p>is there a way to use these variables &quot;<strong>windowHeight</strong>&quot; and &quot;<strong>windowWidth</strong>&quot; in the FXML file. Like:</p>\n<pre><code>&lt;AnchorPane prefHeight=&quot;windowHeight&quot; prefWidth=&quot;windowWidth&quot; stylesheets=&quot;@defaultStyle.css&quot; xmlns=&quot;http://javafx.com/javafx/19&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;Menu&quot;&gt;\n</code></pre>\n<p>(The variables &quot;<strong>windowHeight</strong>&quot; and &quot;<strong>windowWidth</strong>&quot; are declared in Menu.java)</p>\n<p>Another preferred way to be able to do it would be if I could directly set the width and height to a variable within scenebuilder.</p>\n<p>Perhaps, even better would be if I could set all values within scenebuilder to be by preferred ratio rather that size, so that later on, when resizing the stage, everything would change with it.</p>\n<p>I have tried to later set the width and height of the stage when loading it but it didn't really work.</p>\n"},{"tags":["java","android","unit-testing","junit","junit5"],"comments":[{"owner":{"account_id":11726648,"reputation":19553,"user_id":8583692,"display_name":"Mahozad"},"score":0,"creation_date":1654624512,"post_id":46161113,"comment_id":128133464,"body_markdown":"Related post: [How to use JUnit 5 with Gradle?](https://stackoverflow.com/q/44429751/8583692)","body":"Related post: <a href=\"https://stackoverflow.com/q/44429751/8583692\">How to use JUnit 5 with Gradle?</a>"}],"answers":[{"tags":[],"owner":{"account_id":1534652,"reputation":8621,"user_id":1431016,"accept_rate":100,"display_name":"Sormuras"},"comment_count":0,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1573593777,"creation_date":1505153347,"answer_id":46161894,"question_id":46161113,"body_markdown":"Android Studio is based on IDEA, correct?\r\n\r\nThen see this answer here https://stackoverflow.com/a/46161799/1431016 or read directly the user-guide at http://junit.org/junit5/docs/current/user-guide/#running-tests-ide-intellij-idea\r\n\r\nSummary:\r\n\r\n    // Only needed to run tests in an IntelliJ IDEA that bundles an older version\r\n    testImplementation(&quot;org.junit.platform:junit-platform-launcher:1.0.0&quot;)\r\n    testImplementation(&quot;org.junit.jupiter:junit-jupiter-engine:5.0.0&quot;)\r\n    testImplementation(&quot;org.junit.vintage:junit-vintage-engine:4.12.0&quot;)\r\n\r\nI didn&#39;t try this project yet, but it could help you using JUnit 5 on Android: https://github.com/aurae/android-junit5","title":"JUnit 5 for Android testing","body":"<p>Android Studio is based on IDEA, correct?</p>\n\n<p>Then see this answer here <a href=\"https://stackoverflow.com/a/46161799/1431016\">https://stackoverflow.com/a/46161799/1431016</a> or read directly the user-guide at <a href=\"http://junit.org/junit5/docs/current/user-guide/#running-tests-ide-intellij-idea\" rel=\"nofollow noreferrer\">http://junit.org/junit5/docs/current/user-guide/#running-tests-ide-intellij-idea</a></p>\n\n<p>Summary:</p>\n\n<pre><code>// Only needed to run tests in an IntelliJ IDEA that bundles an older version\ntestImplementation(\"org.junit.platform:junit-platform-launcher:1.0.0\")\ntestImplementation(\"org.junit.jupiter:junit-jupiter-engine:5.0.0\")\ntestImplementation(\"org.junit.vintage:junit-vintage-engine:4.12.0\")\n</code></pre>\n\n<p>I didn't try this project yet, but it could help you using JUnit 5 on Android: <a href=\"https://github.com/aurae/android-junit5\" rel=\"nofollow noreferrer\">https://github.com/aurae/android-junit5</a></p>\n"},{"tags":[],"owner":{"account_id":11726648,"reputation":19553,"user_id":8583692,"display_name":"Mahozad"},"comment_count":0,"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1666266159,"creation_date":1544203624,"answer_id":53674289,"question_id":46161113,"body_markdown":"### Refer to [this issue][2] and [this issue][3] regarding JUnit 5 support on Android.\r\n\r\nAdd this build script dependency in your **top-level** *build.gradle[.kts]* file:\r\n\r\n```groovy\r\nbuildscript {\r\n  dependencies {\r\n    classpath(&quot;de.mannodermaus.gradle.plugins:android-junit5:1.8.2.1&quot;)\r\n  }\r\n}\r\n```\r\n\r\nAnd add these lines in your **app** or library *build.gradle[.kts]* file:\r\n\r\n```groovy\r\nplugins {\r\n  // ...\r\n  id(&quot;de.mannodermaus.android-junit5&quot;)\r\n}\r\n\r\ndependencies {\r\n  // Aggregator dependency on JUnit api, engine, and params\r\n  testImplementation(&quot;org.junit.jupiter:junit-jupiter:5.9.1&quot;)\r\n  // (Optional) If you also have JUnit 4-based tests\r\n  testImplementation(&quot;junit:junit:4.13.2&quot;)\r\n  testRuntimeOnly(&quot;org.junit.vintage:junit-vintage-engine:5.9.1&quot;)\r\n}\r\n```\r\n\r\nYou can use the above solution if you are using **Android Gradle plugin 3.2.0 or higher** and **Gradle 4.7 or higher**. For more information refer to the [plugin GitHub page][1].\r\n\r\n# Extended answer\r\n\r\nIf you want to use JUnit 5 in your instrumented tests (*androidTest* source set) do the following:\r\n\r\n  1. Add these dependencies to your **app** or libray build script:\r\n\r\n```groovy\r\nandroidTestImplementation(&quot;de.mannodermaus.junit5:android-test-core:1.3.0&quot;)\r\nandroidTestRuntimeOnly(&quot;de.mannodermaus.junit5:android-test-runner:1.3.0&quot;)\r\n```\r\n\r\n  2. Use `ActivityScenarioExtension` instead of `ActivityScenarioRule` in your test classes:\r\n\r\n```kotlin\r\nimport de.mannodermaus.junit5.ActivityScenarioExtension\r\n\r\nclass MyActivityTest {\r\n\r\n  @JvmField\r\n  @RegisterExtension\r\n  val scenarioExtension = ActivityScenarioExtension.launch&lt;MyActivity&gt;()\r\n\r\n  @Test\r\n  fun test1() {\r\n    val scenario = scenarioExtension.scenario\r\n    scenario.moveToState(Lifecycle.State.RESUMED)\r\n    assertThat(scenario.state).isEqualTo(Lifecycle.State.RESUMED)\r\n  }\r\n\r\n  @Test\r\n  fun test2(scenario: ActivityScenario&lt;MyActivity&gt;) {\r\n    scenario.moveToState(Lifecycle.State.RESUMED)\r\n    assertThat(scenario.state).isEqualTo(Lifecycle.State.RESUMED)\r\n  }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://github.com/mannodermaus/android-junit5\r\n  [2]: https://issuetracker.google.com/issues/127100532\r\n  [3]: https://github.com/android/android-test/issues/224","title":"JUnit 5 for Android testing","body":"<h3>Refer to <a href=\"https://issuetracker.google.com/issues/127100532\" rel=\"noreferrer\">this issue</a> and <a href=\"https://github.com/android/android-test/issues/224\" rel=\"noreferrer\">this issue</a> regarding JUnit 5 support on Android.</h3>\n<p>Add this build script dependency in your <strong>top-level</strong> <em>build.gradle[.kts]</em> file:</p>\n<pre><code>buildscript {\n  dependencies {\n    classpath(&quot;de.mannodermaus.gradle.plugins:android-junit5:1.8.2.1&quot;)\n  }\n}\n</code></pre>\n<p>And add these lines in your <strong>app</strong> or library <em>build.gradle[.kts]</em> file:</p>\n<pre><code>plugins {\n  // ...\n  id(&quot;de.mannodermaus.android-junit5&quot;)\n}\n\ndependencies {\n  // Aggregator dependency on JUnit api, engine, and params\n  testImplementation(&quot;org.junit.jupiter:junit-jupiter:5.9.1&quot;)\n  // (Optional) If you also have JUnit 4-based tests\n  testImplementation(&quot;junit:junit:4.13.2&quot;)\n  testRuntimeOnly(&quot;org.junit.vintage:junit-vintage-engine:5.9.1&quot;)\n}\n</code></pre>\n<p>You can use the above solution if you are using <strong>Android Gradle plugin 3.2.0 or higher</strong> and <strong>Gradle 4.7 or higher</strong>. For more information refer to the <a href=\"https://github.com/mannodermaus/android-junit5\" rel=\"noreferrer\">plugin GitHub page</a>.</p>\n<h1>Extended answer</h1>\n<p>If you want to use JUnit 5 in your instrumented tests (<em>androidTest</em> source set) do the following:</p>\n<ol>\n<li>Add these dependencies to your <strong>app</strong> or libray build script:</li>\n</ol>\n<pre><code>androidTestImplementation(&quot;de.mannodermaus.junit5:android-test-core:1.3.0&quot;)\nandroidTestRuntimeOnly(&quot;de.mannodermaus.junit5:android-test-runner:1.3.0&quot;)\n</code></pre>\n<ol start=\"2\">\n<li>Use <code>ActivityScenarioExtension</code> instead of <code>ActivityScenarioRule</code> in your test classes:</li>\n</ol>\n<pre class=\"lang-kotlin prettyprint-override\"><code>import de.mannodermaus.junit5.ActivityScenarioExtension\n\nclass MyActivityTest {\n\n  @JvmField\n  @RegisterExtension\n  val scenarioExtension = ActivityScenarioExtension.launch&lt;MyActivity&gt;()\n\n  @Test\n  fun test1() {\n    val scenario = scenarioExtension.scenario\n    scenario.moveToState(Lifecycle.State.RESUMED)\n    assertThat(scenario.state).isEqualTo(Lifecycle.State.RESUMED)\n  }\n\n  @Test\n  fun test2(scenario: ActivityScenario&lt;MyActivity&gt;) {\n    scenario.moveToState(Lifecycle.State.RESUMED)\n    assertThat(scenario.state).isEqualTo(Lifecycle.State.RESUMED)\n  }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":13941942,"reputation":392,"user_id":10090030,"display_name":"Ali Doran"},"score":1,"creation_date":1658997470,"post_id":60040706,"comment_id":129192304,"body_markdown":"I agree with you but the official version doesn&#39;t work with instrumentation tests.\nIf you add\nandroidTestImplementation(&#39;org.junit.jupiter:junit-jupiter:X.X.X&#39;)\nyou encounter by some errors","body":"I agree with you but the official version doesn&#39;t work with instrumentation tests. If you add androidTestImplementation(&#39;org.junit.jupiter:junit-jupiter:X&zwnj;&#8203;.X.X&#39;) you encounter by some errors"}],"tags":[],"owner":{"account_id":7961138,"reputation":1310,"user_id":6008948,"display_name":"Dagnogo Jean-Fran&#231;ois"},"comment_count":1,"down_vote_count":4,"up_vote_count":6,"is_accepted":false,"score":2,"last_activity_date":1580738176,"creation_date":1580738176,"answer_id":60040706,"question_id":46161113,"body_markdown":"**USE ALWAYS THE OFFICIAL VERSION**\r\n\r\nFirst go to the **official documentation** of Junit here : https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter-api\r\nyou will see all latest version like this \r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wOYvQ.png\r\n\r\nthen in your app/gradle add this dependencie :\r\n\r\n&gt;  testImplementation(&#39;org.junit.jupiter:junit-jupiter:X.X.X&#39;)\r\n\r\nwhere X.X.X is the version you want.\r\nFor example in my case it was  \r\n\r\n&gt; testImplementation(&#39;org.junit.jupiter:junit-jupiter:5.6.0&#39;)\r\n\r\n","title":"JUnit 5 for Android testing","body":"<p><strong>USE ALWAYS THE OFFICIAL VERSION</strong></p>\n\n<p>First go to the <strong>official documentation</strong> of Junit here : <a href=\"https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter-api\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter-api</a>\nyou will see all latest version like this \n<a href=\"https://i.stack.imgur.com/wOYvQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wOYvQ.png\" alt=\"enter image description here\"></a></p>\n\n<p>then in your app/gradle add this dependencie :</p>\n\n<blockquote>\n  <p>testImplementation('org.junit.jupiter:junit-jupiter:X.X.X')</p>\n</blockquote>\n\n<p>where X.X.X is the version you want.\nFor example in my case it was  </p>\n\n<blockquote>\n  <p>testImplementation('org.junit.jupiter:junit-jupiter:5.6.0')</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1942793,"reputation":859,"user_id":1748584,"display_name":"Bob Liberatore"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1665861399,"creation_date":1665861399,"answer_id":74082314,"question_id":46161113,"body_markdown":"You can use the official version by adding these lines to your gradle file:\r\n\r\n    android {\r\n        testOptions {\r\n            unitTests.all {\r\n                useJUnitPlatform()\r\n        }\r\n      }\r\n    }\r\n\r\n \r\n\r\n    dependencies {\r\n         testImplementation &quot;org.junit.jupiter:junit-jupiter:5.8.0&quot;\r\n    }\r\n\r\n\r\nTo continue to run your JUnit4 tests alongside Junit5, add:\r\n\r\n    testImplementation &quot;org.junit.vintage:junit-vintage-engine:5.8.0&quot;","title":"JUnit 5 for Android testing","body":"<p>You can use the official version by adding these lines to your gradle file:</p>\n<pre><code>android {\n    testOptions {\n        unitTests.all {\n            useJUnitPlatform()\n    }\n  }\n}\n\n\n\ndependencies {\n     testImplementation &quot;org.junit.jupiter:junit-jupiter:5.8.0&quot;\n}\n</code></pre>\n<p>To continue to run your JUnit4 tests alongside Junit5, add:</p>\n<pre><code>testImplementation &quot;org.junit.vintage:junit-vintage-engine:5.8.0&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3066113,"reputation":791,"user_id":2597758,"accept_rate":71,"display_name":"WebViewer"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1673243052,"creation_date":1673186713,"answer_id":75048381,"question_id":46161113,"body_markdown":"It is January 2023 and the answers here that used to work, do not work for me on Android Studio 2021.3.1 (Patch 1), running Gradle 7.4.\r\n\r\nThis is what I did to make mine work:\r\n\r\n 1. First, attempted to follow the answer by @Mahozad. I chose it because it referred to the [latest junit-jupiter:5.9.1 version][1]. \r\n 2. But my app&#39;s `build.gradle` did not like the `plugins {...}` section from there, so I used `apply plugin: &#39;de.mannodermaus.android-junit5&#39;` instead, from [@BoonKeatTeo&#39;s article][2].\r\n 3. Still, it would not recognize any of the imported symbols and so I added the [repository URL from @DagnogoJean-Fran&#231;ois&#39;s answer][3] (File &gt; Settings &gt; Build... &gt; Remote Jar Repositories)\r\n 4. It continued complaining about an `import static org.junit.jupiter.api.Assertions.*;` added to Test class and after running from the command line `gradlew build --warning-mode=all`, I realized that it is a good idea to remove the **deprecated** `jcenter` repository. In addition to removing it via Settings, I replaced all `jcenter()` occurrences with `mavenCentral()` in the root build.gradle.\r\n 5. I still had the import warning, so I decided to remove all imports and accept the suggestion by Android Studio to add a `org.junit.jupiter:junit-jupiter:5.8.1` dependency. This seems to have done the magic and now there are no warnings on any of my Test class symbols.\r\n\r\nTo summarize, here is how my build.gradle looks now:\r\n\r\n    apply plugin: &#39;com.android.library&#39;\r\n    apply plugin: &#39;de.mannodermaus.android-junit5&#39;\r\n    \r\n    android {\r\n        compileSdkVersion 33\r\n        buildToolsVersion &quot;33.0.1&quot;\r\n        compileOptions.encoding = &#39;windows-1251&#39;\r\n    \tuseLibrary &#39;org.apache.http.legacy&#39;\r\n        namespace &#39;com.susu.mylib&#39;\r\n    \r\n        defaultConfig {\r\n            minSdkVersion 26\r\n            targetSdkVersion 33\r\n        }\r\n    \r\n        buildTypes {\r\n            release {\r\n                minifyEnabled true\r\n                proguardFiles &#39;proguard.cfg&#39;\r\n            }\r\n        }\r\n    \r\n        testOptions {\r\n            unitTests.all {\r\n                useJUnitPlatform()\r\n            }\r\n        }\r\n    }\r\n    \r\n    dependencies {\r\n    \timplementation &quot;androidx.core:core-ktx:1.9.0&quot;\r\n        implementation &#39;org.jbundle.util.osgi.wrapped:org.jbundle.util.osgi.wrapped.org.apache.http.client:4.1.2&#39;\r\n        implementation &quot;com.android.billingclient:billing:5.1.0&quot;\r\n    \r\n        implementation &#39;org.junit.jupiter:junit-jupiter:5.8.1&#39;\r\n    }\r\n\r\nComments on how to improve this further are greatly appreciated.\r\n\r\n  [1]: https://stackoverflow.com/a/53674289/2597758\r\n  [2]: https://medium.com/@boonkeat/android-unit-testing-with-junit5-d1b8f9c620b6\r\n  [3]: https://stackoverflow.com/a/60040706/2597758\r\n","title":"JUnit 5 for Android testing","body":"<p>It is January 2023 and the answers here that used to work, do not work for me on Android Studio 2021.3.1 (Patch 1), running Gradle 7.4.</p>\n<p>This is what I did to make mine work:</p>\n<ol>\n<li>First, attempted to follow the answer by @Mahozad. I chose it because it referred to the <a href=\"https://stackoverflow.com/a/53674289/2597758\">latest junit-jupiter:5.9.1 version</a>.</li>\n<li>But my app's <code>build.gradle</code> did not like the <code>plugins {...}</code> section from there, so I used <code>apply plugin: 'de.mannodermaus.android-junit5'</code> instead, from <a href=\"https://medium.com/@boonkeat/android-unit-testing-with-junit5-d1b8f9c620b6\" rel=\"nofollow noreferrer\">@BoonKeatTeo's article</a>.</li>\n<li>Still, it would not recognize any of the imported symbols and so I added the <a href=\"https://stackoverflow.com/a/60040706/2597758\">repository URL from @DagnogoJean-François's answer</a> (File &gt; Settings &gt; Build... &gt; Remote Jar Repositories)</li>\n<li>It continued complaining about an <code>import static org.junit.jupiter.api.Assertions.*;</code> added to Test class and after running from the command line <code>gradlew build --warning-mode=all</code>, I realized that it is a good idea to remove the <strong>deprecated</strong> <code>jcenter</code> repository. In addition to removing it via Settings, I replaced all <code>jcenter()</code> occurrences with <code>mavenCentral()</code> in the root build.gradle.</li>\n<li>I still had the import warning, so I decided to remove all imports and accept the suggestion by Android Studio to add a <code>org.junit.jupiter:junit-jupiter:5.8.1</code> dependency. This seems to have done the magic and now there are no warnings on any of my Test class symbols.</li>\n</ol>\n<p>To summarize, here is how my build.gradle looks now:</p>\n<pre><code>apply plugin: 'com.android.library'\napply plugin: 'de.mannodermaus.android-junit5'\n\nandroid {\n    compileSdkVersion 33\n    buildToolsVersion &quot;33.0.1&quot;\n    compileOptions.encoding = 'windows-1251'\n    useLibrary 'org.apache.http.legacy'\n    namespace 'com.susu.mylib'\n\n    defaultConfig {\n        minSdkVersion 26\n        targetSdkVersion 33\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled true\n            proguardFiles 'proguard.cfg'\n        }\n    }\n\n    testOptions {\n        unitTests.all {\n            useJUnitPlatform()\n        }\n    }\n}\n\ndependencies {\n    implementation &quot;androidx.core:core-ktx:1.9.0&quot;\n    implementation 'org.jbundle.util.osgi.wrapped:org.jbundle.util.osgi.wrapped.org.apache.http.client:4.1.2'\n    implementation &quot;com.android.billingclient:billing:5.1.0&quot;\n\n    implementation 'org.junit.jupiter:junit-jupiter:5.8.1'\n}\n</code></pre>\n<p>Comments on how to improve this further are greatly appreciated.</p>\n"}],"owner":{"account_id":5418209,"reputation":4429,"user_id":4312751,"accept_rate":57,"display_name":"mac229"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24901,"favorite_count":0,"down_vote_count":0,"up_vote_count":29,"answer_count":5,"score":29,"last_activity_date":1673243052,"creation_date":1505150277,"question_id":46161113,"body_markdown":"How to configure JUnit 5 for Android unit testing?\r\nI tried:\r\n\r\n    testCompile(&quot;org.junit.jupiter:junit-jupiter-api:5.0.0&quot;)\r\nBut it doesn&#39;t work, when I run previous the simplest unit test:\r\n\r\n    @Test\r\n    public void addition_isCorrect() throws Exception {\r\n    \tassertEquals(4, 2 + 2);\r\n    }\r\n\r\nI get error:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoSuchMethodError: org.junit.platform.commons.util.ReflectionUtils.getDefaultClassLoader()Ljava/lang/ClassLoader;\r\n    \tat org.junit.platform.launcher.core.ServiceLoaderTestEngineRegistry.loadTestEngines(ServiceLoaderTestEngineRegistry.java:31)\r\n    \tat org.junit.platform.launcher.core.LauncherFactory.create(LauncherFactory.java:42)\r\n    \tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:36)\r\n    \tat com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:262)\r\n    \tat com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:84)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat com.intellij.rt.execution.application.AppMain.main(AppMain.java:147)\r\n    \r\n    Process finished with exit code 1\r\n    Empty test suite.","title":"JUnit 5 for Android testing","body":"<p>How to configure JUnit 5 for Android unit testing?\nI tried:</p>\n\n<pre><code>testCompile(\"org.junit.jupiter:junit-jupiter-api:5.0.0\")\n</code></pre>\n\n<p>But it doesn't work, when I run previous the simplest unit test:</p>\n\n<pre><code>@Test\npublic void addition_isCorrect() throws Exception {\n    assertEquals(4, 2 + 2);\n}\n</code></pre>\n\n<p>I get error:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.NoSuchMethodError: org.junit.platform.commons.util.ReflectionUtils.getDefaultClassLoader()Ljava/lang/ClassLoader;\n    at org.junit.platform.launcher.core.ServiceLoaderTestEngineRegistry.loadTestEngines(ServiceLoaderTestEngineRegistry.java:31)\n    at org.junit.platform.launcher.core.LauncherFactory.create(LauncherFactory.java:42)\n    at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:36)\n    at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:262)\n    at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:84)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at com.intellij.rt.execution.application.AppMain.main(AppMain.java:147)\n\nProcess finished with exit code 1\nEmpty test suite.\n</code></pre>\n"},{"tags":["java","eclipse","jakarta-ee","glassfish","ejb"],"owner":{"account_id":142750,"reputation":2897,"user_id":350648,"accept_rate":86,"display_name":"Haxed"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1673242344,"creation_date":1673228063,"question_id":75052477,"body_markdown":"When deploying my application I need to separate my configurations. This way any configuration changes does not require a new build.\r\n\r\nMy application has\r\n\r\napp.ear\r\n+ |---- app-ejb.jar\r\n+          |---- sun-ejb-jar.xml \r\n\r\n\r\nI need to remove sun-ejb-jar.xml out of app-ejb.jar and also app.ear, so when I make configuration changes in sun-ejb-jar.xml, I do not need to build and deploy, but only restart the application.\r\n\r\nIs this possible with Glassfish v2 ?\r\n","title":"GlassFish v2 - How to externalize deployment descriptor sun-ejb-jar.xml?","body":"<p>When deploying my application I need to separate my configurations. This way any configuration changes does not require a new build.</p>\n<p>My application has</p>\n<p>app.ear</p>\n<ul>\n<li>|---- app-ejb.jar</li>\n<li>\n<pre><code>     |---- sun-ejb-jar.xml \n</code></pre>\n</li>\n</ul>\n<p>I need to remove sun-ejb-jar.xml out of app-ejb.jar and also app.ear, so when I make configuration changes in sun-ejb-jar.xml, I do not need to build and deploy, but only restart the application.</p>\n<p>Is this possible with Glassfish v2 ?</p>\n"},{"tags":["java","generics","enums"],"comments":[{"owner":{"account_id":208217,"reputation":1488,"user_id":458561,"display_name":"boneill"},"score":2,"creation_date":1673231770,"post_id":75052709,"comment_id":132444756,"body_markdown":"I&#39;d start by defining a common base class for the type estimates which has the name, value, and code properties defined there.","body":"I&#39;d start by defining a common base class for the type estimates which has the name, value, and code properties defined there."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1673232778,"post_id":75052709,"comment_id":132444877,"body_markdown":"Enums can&#39;t extend other classes, but they can implement interfaces.","body":"Enums can&#39;t extend other classes, but they can implement interfaces."}],"answers":[{"comments":[{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1673238921,"post_id":75053164,"comment_id":132445557,"body_markdown":"And before anyone says it, yes, I know that my `ParentInterface` and it&#39;s type parameters are not 100% safe. Nothing is stopping someone from implementing that interface, but plugging in some unrelated enum that also implements the interface. I don&#39;t know a good way to assert that in Java, and truthfully, I don&#39;t think there is one. If someone does know a way (current, or future), please let me know and I will edit my answer.","body":"And before anyone says it, yes, I know that my <code>ParentInterface</code> and it&#39;s type parameters are not 100% safe. Nothing is stopping someone from implementing that interface, but plugging in some unrelated enum that also implements the interface. I don&#39;t know a good way to assert that in Java, and truthfully, I don&#39;t think there is one. If someone does know a way (current, or future), please let me know and I will edit my answer."},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1673238995,"post_id":75053164,"comment_id":132445563,"body_markdown":"And by future, I mean some functionality that is coming down the pipe in later versions of Java. I&#39;m curious if Java will ever get typeclasses. And if so, if those will help us be able to plug in the holes.","body":"And by future, I mean some functionality that is coming down the pipe in later versions of Java. I&#39;m curious if Java will ever get typeclasses. And if so, if those will help us be able to plug in the holes."},{"owner":{"account_id":4346313,"reputation":71,"user_id":3548162,"accept_rate":100,"display_name":"Christopher"},"score":0,"creation_date":1673242121,"post_id":75053164,"comment_id":132445948,"body_markdown":"Thank you for such a great explanation with sample codes. I&#39;m gonna try to resolve the way you suggested.","body":"Thank you for such a great explanation with sample codes. I&#39;m gonna try to resolve the way you suggested."},{"owner":{"account_id":4346313,"reputation":71,"user_id":3548162,"accept_rate":100,"display_name":"Christopher"},"score":0,"creation_date":1673242140,"post_id":75053164,"comment_id":132445951,"body_markdown":"It was really helpful for me in addition.","body":"It was really helpful for me in addition."},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1673290228,"post_id":75053164,"comment_id":132461332,"body_markdown":"Glad to hear it. Let me know if you have more questions or comments.","body":"Glad to hear it. Let me know if you have more questions or comments."}],"tags":[],"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673238189,"creation_date":1673238189,"answer_id":75053164,"question_id":75052709,"body_markdown":"This answer is related and helpful -- https://stackoverflow.com/a/70596442/10118965\r\n\r\nBut here is a more directed answer. In short, using interfaces, enums, and generics allows you to make this much easier to consolidate.\r\n\r\nFirst, create an interface that has all of the relevant functions. I called mine `ParentInterface`. In this case, you needed `::getName`, `::getValue`, and `::getCode`.\r\n\r\nNext, you need to create a method inside that interface that returns the values of the enum. This is a more complicated step because it requires you to take a pretty big step into the generics world, combined with enums.\r\n\r\nIn short, if we look at the JavaDoc for enums, we see the following.\r\n\r\nhttps://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Enum.html\r\n\r\n`Class Enum&lt;E extends Enum&lt;E&gt;&gt;`\r\n\r\nSo in short, if we want to say that some type `E` is an enum, then we must say something like this.\r\n\r\n`E extends Enum&lt;E&gt;`\r\n\r\nOk, now we know how to say that the parameterized type must be an enum. The reason why we did this is because we actually wanted to get ***the values*** of the enum. We can&#39;t do that without first making sure that we have an enum.\r\n\r\nBut now that we do, we can write a method sort of like this.\r\n\r\n```java\r\npublic static &lt;E extends Enum&lt;E&gt;&gt; List&lt;E&gt; values(final Class&lt;E&gt; clazz)\r\n{\r\n\r\n   return Arrays.asList(clazz.getEnumConstants());\r\n\r\n}\r\n```\r\n\r\nThis method says that the `clazz` that we receive as a paramter must be a type of enum. Once it proves that, then we can safely call the `Class::getEnumConstants` method and be sure that we will get what we expect.\r\n\r\nSo, now that we have wrote our static method, next we put a parameterized type on the interface. Specifically, we want to make sure that this interface only refers to enums.\r\n\r\nWe add the following parameterized type to the interface.\r\n\r\n`&lt;E extends Enum&lt;E&gt;&gt;`\r\n\r\nAnd then finally, we modify our static method just slightly to make sure that it is only used to generate enum values for enums that implement our interface. Maybe you don&#39;t want that restriction, but in case you do, here is what you would add.\r\n\r\n` &amp; ParentInterface&lt;E&gt;`\r\n\r\nAnd with that, we are done. Here is what our interface should roughly look like.\r\n\r\n```java\r\n      public interface ParentInterface&lt;E extends Enum&lt;E&gt;&gt; // pick a better name\r\n      {\r\n      \r\n         String getName();\r\n         String getValue();\r\n         String getCode();\r\n         \r\n         public static &lt;E extends Enum&lt;E&gt; &amp; ParentInterface&lt;E&gt;&gt; List&lt;E&gt; values(final Class&lt;E&gt; clazz)\r\n         {\r\n         \r\n            return Arrays.asList(clazz.getEnumConstants());\r\n         \r\n         }\r\n      \r\n      }\r\n```\r\n\r\nNext, we need to make sure all of our enums implement this new interface. That is pretty easy to do.\r\n\r\n`public enum EstimateFuelType implements ParentInterface&lt;EstimateFuelType&gt;`\r\n\r\n`public enum EstimateTransmissionType implements ParentInterface&lt;EstimateTransmissionType&gt;`\r\n\r\nThe actual internals of the enum shouldn&#39;t have to change. All you are doing is changing the outside.\r\n\r\nAnd then finally, let us rework our method to handle this brand new interface and our reworked enums.\r\n\r\nLet&#39;s start by building off of our `::getFuelTypeList` method. That means that we start with a duplicate, but renamed.\r\n\r\n```java\r\n      public static List&lt;Map&lt;String, Object&gt;&gt; getGenericTypeList() {\r\n      \r\n         List&lt;Map&lt;String, Object&gt;&gt; fuelList = new ArrayList&lt;&gt;();\r\n      \r\n         for(EstimateFuelType fuelType : EstimateFuelType.values()) {\r\n            Map&lt;String, Object&gt; transmission = new HashMap&lt;&gt;();\r\n            transmission.put(&quot;code&quot;, fuelType.getCode());\r\n            transmission.put(&quot;value&quot;, fuelType.getValue());\r\n            transmission.put(&quot;name&quot;, fuelType.getName());\r\n            fuelList.add(transmission);\r\n         }\r\n      \r\n         return fuelList;\r\n      \r\n      }\r\n```\r\n\r\nOther than the method name, this method is exactly the same as `::getFuelTypeList`.\r\n\r\nLet&#39;s start by changing the method signature to include the generics that we made. More specifically, let&#39;s introduce this method to the idea of our interface.\r\n\r\n`public static &lt;E extends ParentInterface&lt;E&gt;&gt; List&lt;Map&lt;String, Object&gt;&gt; getGenericTypeList()`\r\n\r\nHowever, if we try to do just this, the compiler will complain at us, saying that if we want `E` to extend our interface, it must also extend `Enum&lt;E&gt;` too. Otherwise, it will break the rule of our interface, which says that *&quot;Anything that extends me must have an enum in the type parameter that also extends me&quot;*. We made this rule earlier on when putting the type parameter on our interface.\r\n\r\nSo, to get past this, we must specify that our type parameter also is an enum. That is easy enough to change.\r\n\r\n`public static &lt;E extends Enum&lt;E&gt; &amp; ParentInterface&lt;E&gt;&gt; List&lt;Map&lt;String, Object&gt;&gt; getGenericTypeList()`\r\n\r\nNow, the compiler is happy.\r\n\r\nSo, because of this change, our method is now aware of a type called `E`. This type is a subtype of an enum, and is also a subtype of the interface that we made.\r\n\r\nNow that the method is aware of our type, let&#39;s actually put it to use. Here is what we have thus far.\r\n\r\n```java\r\n      public static &lt;E extends Enum&lt;E&gt; &amp; ParentInterface&lt;E&gt;&gt; List&lt;Map&lt;String, Object&gt;&gt; getGenericTypeList() {\r\n      \r\n         List&lt;Map&lt;String, Object&gt;&gt; fuelList = new ArrayList&lt;&gt;();\r\n      \r\n         for(EstimateFuelType fuelType : EstimateFuelType.values()) {\r\n            Map&lt;String, Object&gt; transmission = new HashMap&lt;&gt;();\r\n            transmission.put(&quot;code&quot;, fuelType.getCode());\r\n            transmission.put(&quot;value&quot;, fuelType.getValue());\r\n            transmission.put(&quot;name&quot;, fuelType.getName());\r\n            fuelList.add(transmission);\r\n         }\r\n      \r\n         return fuelList;\r\n      \r\n      }\r\n```\r\n\r\nObviously, everything is still hardcoded to use `EstimateFuelType`. So let&#39;s start by changing that.\r\n\r\n```java\r\n      public static &lt;E extends Enum&lt;E&gt; &amp; ParentInterface&lt;E&gt;&gt; List&lt;Map&lt;String, Object&gt;&gt; getGenericTypeList() {\r\n      \r\n         List&lt;Map&lt;String, Object&gt;&gt; fuelList = new ArrayList&lt;&gt;();\r\n      \r\n         for(E fuelType : E.values()) {\r\n            Map&lt;String, Object&gt; transmission = new HashMap&lt;&gt;();\r\n            transmission.put(&quot;code&quot;, fuelType.getCode());\r\n            transmission.put(&quot;value&quot;, fuelType.getValue());\r\n            transmission.put(&quot;name&quot;, fuelType.getName());\r\n            fuelList.add(transmission);\r\n         }\r\n      \r\n         return fuelList;\r\n      \r\n      }\r\n```\r\n\r\nThis almost works, but the compiler gets upset and says that it doesn&#39;t know where to find the `E::values` method. Annoyingly enough, Java does not permit us to override static methods, so this solution had to get needlessly complicated. Luckily, we already did the complicated part earlier. Instead of trying to use the unknown `E::values` method, why don&#39;t we use the static method we made earlier?\r\n\r\nHowever, in order to use that method, we need to provide a `Class&lt;E&gt;`. Simple enough, let&#39;s also modify our method to take in a `Class&lt;E&gt;`. And let&#39;s also replace that unknown method that just threw an error.\r\n\r\n```java\r\n      public static &lt;E extends Enum&lt;E&gt; &amp; ParentInterface&lt;E&gt;&gt; List&lt;Map&lt;String, Object&gt;&gt; getGenericTypeList(final Class&lt;E&gt; clazz) {\r\n      \r\n         List&lt;Map&lt;String, Object&gt;&gt; fuelList = new ArrayList&lt;&gt;();\r\n      \r\n         for(E fuelType : ParentInterface.values(clazz)) {\r\n            Map&lt;String, Object&gt; transmission = new HashMap&lt;&gt;();\r\n            transmission.put(&quot;code&quot;, fuelType.getCode());\r\n            transmission.put(&quot;value&quot;, fuelType.getValue());\r\n            transmission.put(&quot;name&quot;, fuelType.getName());\r\n            fuelList.add(transmission);\r\n         }\r\n      \r\n         return fuelList;\r\n      \r\n      }\r\n```\r\n\r\nAnd then that should be it. You can now delete the unnecessary methods that only work for the individual enums. Here is the complete solution, with some refactoring, renaming, and general clean up.\r\n\r\n\r\n```java\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\nimport java.util.Map;\r\n\r\n\r\n   public class SOQ_20230108\r\n   {\r\n   \r\n      public static void main(String[] args)\r\n      {\r\n      \r\n         System.out.println(getParentTypeList(EstimateFuelType.class));\r\n         System.out.println(getParentTypeList(EstimateTransmissionType.class));\r\n      \r\n      }\r\n   \r\n      public interface ParentInterface&lt;E extends Enum&lt;E&gt;&gt; // pick a better name\r\n      {\r\n      \r\n         String getName();\r\n         String getValue();\r\n         String getCode();\r\n         \r\n         public static &lt;E extends Enum&lt;E&gt;&gt; List&lt;E&gt; values(final Class&lt;E&gt; clazz)\r\n         {\r\n         \r\n            return Arrays.asList(clazz.getEnumConstants());\r\n         \r\n         }\r\n      \r\n      }\r\n   \r\n      public enum EstimateFuelType implements ParentInterface&lt;EstimateFuelType&gt;\r\n      {\r\n      \r\n         GASOLINE(&quot;가솔린&quot;, &quot;A001&quot;, &quot;001&quot;),\r\n         DIESEL(&quot;디젤&quot;, &quot;A002&quot;, &quot;002&quot;),\r\n         LPG_GENERAL(&quot;LPG(일반인 구입)&quot;, &quot;A003&quot;, &quot;003&quot;),\r\n         LPG_ALL(&quot;LPG&quot;, &quot;A004&quot;, &quot;004&quot;),\r\n         HYBRID(&quot;가솔린+전기&quot;, &quot;A005&quot;, &quot;005&quot;),\r\n         ELECTRONIC(&quot;전기&quot;, &quot;A009&quot;, &quot;009&quot;),\r\n         ETC(&quot;기타&quot;, &quot;A999&quot;, &quot;999&quot;);\r\n      \r\n         final String name;\r\n         final String value;\r\n         final String code;\r\n      \r\n         EstimateFuelType(String name, String value, String code) \r\n         {\r\n            \r\n            this.name = name;\r\n            this.value = value;\r\n            this.code = code;\r\n         \r\n         }\r\n      \r\n         public String getName() \r\n         {\r\n            \r\n            return name;\r\n         \r\n         }\r\n      \r\n         public String getValue() \r\n         {\r\n            \r\n            return value;\r\n         \r\n         }\r\n      \r\n         public String getCode() \r\n         {\r\n            \r\n            return code;\r\n         \r\n         }\r\n      \r\n      }\r\n   \r\n      public enum EstimateTransmissionType implements ParentInterface&lt;EstimateTransmissionType&gt;\r\n      {\r\n      \r\n         AUTO(&quot;오토(A/T)&quot;, &quot;A001&quot;, &quot;001&quot;),\r\n         MANUAL(&quot;수동(M/T)&quot;, &quot;A002&quot;, &quot;002&quot;),\r\n         ETC(&quot;기타&quot;, &quot;A999&quot;, &quot;999&quot;);\r\n      \r\n         final String name;\r\n         final String value;\r\n         final String code;\r\n      \r\n         EstimateTransmissionType(String name, String value, String code) \r\n         {\r\n            \r\n            this.name = name;\r\n            this.value = value;\r\n            this.code = code;\r\n         \r\n         }\r\n      \r\n         public String getName() \r\n         {\r\n            \r\n            return name;\r\n         \r\n         }\r\n      \r\n         public String getValue() \r\n         {\r\n            \r\n            return value;\r\n         \r\n         }\r\n      \r\n         public String getCode() \r\n         {\r\n            \r\n            return code;\r\n         \r\n         }\r\n      \r\n      }\r\n   \r\n      public static &lt;E extends Enum&lt;E&gt; &amp; ParentInterface&lt;E&gt;&gt; List&lt;Map&lt;String, Object&gt;&gt; getParentTypeList(Class&lt;E&gt; clazz) {\r\n      \r\n         final List&lt;Map&lt;String, Object&gt;&gt; typeList = new ArrayList&lt;&gt;();\r\n      \r\n         for(final E type : ParentInterface.values(clazz)) {\r\n            final Map&lt;String, Object&gt; typeMap = new HashMap&lt;&gt;();\r\n            typeMap.put(&quot;code&quot;, type.getCode());\r\n            typeMap.put(&quot;value&quot;, type.getValue());\r\n            typeMap.put(&quot;name&quot;, type.getName());\r\n            typeList.add(typeMap);\r\n         }\r\n      \r\n         return typeList;\r\n      \r\n      }\r\n   \r\n   }\r\n\r\n```\r\n\r\nThis complete example has a main method, so you can run it yourself and see that it works.\r\n\r\nFinally, if you decide to make this method work for other enums that you add into the future, it is very easy to do. Simply ensure that each enum you add implements your interface, and the parameterized type for that interface should be the enum name itself. If that doesn&#39;t make sense, just follow the same format as the other enums and it should work out fine.","title":"How can I remove the duplicate source code with enum and generic in Java?","body":"<p>This answer is related and helpful -- <a href=\"https://stackoverflow.com/a/70596442/10118965\">https://stackoverflow.com/a/70596442/10118965</a></p>\n<p>But here is a more directed answer. In short, using interfaces, enums, and generics allows you to make this much easier to consolidate.</p>\n<p>First, create an interface that has all of the relevant functions. I called mine <code>ParentInterface</code>. In this case, you needed <code>::getName</code>, <code>::getValue</code>, and <code>::getCode</code>.</p>\n<p>Next, you need to create a method inside that interface that returns the values of the enum. This is a more complicated step because it requires you to take a pretty big step into the generics world, combined with enums.</p>\n<p>In short, if we look at the JavaDoc for enums, we see the following.</p>\n<p><a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Enum.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Enum.html</a></p>\n<p><code>Class Enum&lt;E extends Enum&lt;E&gt;&gt;</code></p>\n<p>So in short, if we want to say that some type <code>E</code> is an enum, then we must say something like this.</p>\n<p><code>E extends Enum&lt;E&gt;</code></p>\n<p>Ok, now we know how to say that the parameterized type must be an enum. The reason why we did this is because we actually wanted to get <em><strong>the values</strong></em> of the enum. We can't do that without first making sure that we have an enum.</p>\n<p>But now that we do, we can write a method sort of like this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static &lt;E extends Enum&lt;E&gt;&gt; List&lt;E&gt; values(final Class&lt;E&gt; clazz)\n{\n\n   return Arrays.asList(clazz.getEnumConstants());\n\n}\n</code></pre>\n<p>This method says that the <code>clazz</code> that we receive as a paramter must be a type of enum. Once it proves that, then we can safely call the <code>Class::getEnumConstants</code> method and be sure that we will get what we expect.</p>\n<p>So, now that we have wrote our static method, next we put a parameterized type on the interface. Specifically, we want to make sure that this interface only refers to enums.</p>\n<p>We add the following parameterized type to the interface.</p>\n<p><code>&lt;E extends Enum&lt;E&gt;&gt;</code></p>\n<p>And then finally, we modify our static method just slightly to make sure that it is only used to generate enum values for enums that implement our interface. Maybe you don't want that restriction, but in case you do, here is what you would add.</p>\n<p><code> &amp; ParentInterface&lt;E&gt;</code></p>\n<p>And with that, we are done. Here is what our interface should roughly look like.</p>\n<pre class=\"lang-java prettyprint-override\"><code>      public interface ParentInterface&lt;E extends Enum&lt;E&gt;&gt; // pick a better name\n      {\n      \n         String getName();\n         String getValue();\n         String getCode();\n         \n         public static &lt;E extends Enum&lt;E&gt; &amp; ParentInterface&lt;E&gt;&gt; List&lt;E&gt; values(final Class&lt;E&gt; clazz)\n         {\n         \n            return Arrays.asList(clazz.getEnumConstants());\n         \n         }\n      \n      }\n</code></pre>\n<p>Next, we need to make sure all of our enums implement this new interface. That is pretty easy to do.</p>\n<p><code>public enum EstimateFuelType implements ParentInterface&lt;EstimateFuelType&gt;</code></p>\n<p><code>public enum EstimateTransmissionType implements ParentInterface&lt;EstimateTransmissionType&gt;</code></p>\n<p>The actual internals of the enum shouldn't have to change. All you are doing is changing the outside.</p>\n<p>And then finally, let us rework our method to handle this brand new interface and our reworked enums.</p>\n<p>Let's start by building off of our <code>::getFuelTypeList</code> method. That means that we start with a duplicate, but renamed.</p>\n<pre class=\"lang-java prettyprint-override\"><code>      public static List&lt;Map&lt;String, Object&gt;&gt; getGenericTypeList() {\n      \n         List&lt;Map&lt;String, Object&gt;&gt; fuelList = new ArrayList&lt;&gt;();\n      \n         for(EstimateFuelType fuelType : EstimateFuelType.values()) {\n            Map&lt;String, Object&gt; transmission = new HashMap&lt;&gt;();\n            transmission.put(&quot;code&quot;, fuelType.getCode());\n            transmission.put(&quot;value&quot;, fuelType.getValue());\n            transmission.put(&quot;name&quot;, fuelType.getName());\n            fuelList.add(transmission);\n         }\n      \n         return fuelList;\n      \n      }\n</code></pre>\n<p>Other than the method name, this method is exactly the same as <code>::getFuelTypeList</code>.</p>\n<p>Let's start by changing the method signature to include the generics that we made. More specifically, let's introduce this method to the idea of our interface.</p>\n<p><code>public static &lt;E extends ParentInterface&lt;E&gt;&gt; List&lt;Map&lt;String, Object&gt;&gt; getGenericTypeList()</code></p>\n<p>However, if we try to do just this, the compiler will complain at us, saying that if we want <code>E</code> to extend our interface, it must also extend <code>Enum&lt;E&gt;</code> too. Otherwise, it will break the rule of our interface, which says that <em>&quot;Anything that extends me must have an enum in the type parameter that also extends me&quot;</em>. We made this rule earlier on when putting the type parameter on our interface.</p>\n<p>So, to get past this, we must specify that our type parameter also is an enum. That is easy enough to change.</p>\n<p><code>public static &lt;E extends Enum&lt;E&gt; &amp; ParentInterface&lt;E&gt;&gt; List&lt;Map&lt;String, Object&gt;&gt; getGenericTypeList()</code></p>\n<p>Now, the compiler is happy.</p>\n<p>So, because of this change, our method is now aware of a type called <code>E</code>. This type is a subtype of an enum, and is also a subtype of the interface that we made.</p>\n<p>Now that the method is aware of our type, let's actually put it to use. Here is what we have thus far.</p>\n<pre class=\"lang-java prettyprint-override\"><code>      public static &lt;E extends Enum&lt;E&gt; &amp; ParentInterface&lt;E&gt;&gt; List&lt;Map&lt;String, Object&gt;&gt; getGenericTypeList() {\n      \n         List&lt;Map&lt;String, Object&gt;&gt; fuelList = new ArrayList&lt;&gt;();\n      \n         for(EstimateFuelType fuelType : EstimateFuelType.values()) {\n            Map&lt;String, Object&gt; transmission = new HashMap&lt;&gt;();\n            transmission.put(&quot;code&quot;, fuelType.getCode());\n            transmission.put(&quot;value&quot;, fuelType.getValue());\n            transmission.put(&quot;name&quot;, fuelType.getName());\n            fuelList.add(transmission);\n         }\n      \n         return fuelList;\n      \n      }\n</code></pre>\n<p>Obviously, everything is still hardcoded to use <code>EstimateFuelType</code>. So let's start by changing that.</p>\n<pre class=\"lang-java prettyprint-override\"><code>      public static &lt;E extends Enum&lt;E&gt; &amp; ParentInterface&lt;E&gt;&gt; List&lt;Map&lt;String, Object&gt;&gt; getGenericTypeList() {\n      \n         List&lt;Map&lt;String, Object&gt;&gt; fuelList = new ArrayList&lt;&gt;();\n      \n         for(E fuelType : E.values()) {\n            Map&lt;String, Object&gt; transmission = new HashMap&lt;&gt;();\n            transmission.put(&quot;code&quot;, fuelType.getCode());\n            transmission.put(&quot;value&quot;, fuelType.getValue());\n            transmission.put(&quot;name&quot;, fuelType.getName());\n            fuelList.add(transmission);\n         }\n      \n         return fuelList;\n      \n      }\n</code></pre>\n<p>This almost works, but the compiler gets upset and says that it doesn't know where to find the <code>E::values</code> method. Annoyingly enough, Java does not permit us to override static methods, so this solution had to get needlessly complicated. Luckily, we already did the complicated part earlier. Instead of trying to use the unknown <code>E::values</code> method, why don't we use the static method we made earlier?</p>\n<p>However, in order to use that method, we need to provide a <code>Class&lt;E&gt;</code>. Simple enough, let's also modify our method to take in a <code>Class&lt;E&gt;</code>. And let's also replace that unknown method that just threw an error.</p>\n<pre class=\"lang-java prettyprint-override\"><code>      public static &lt;E extends Enum&lt;E&gt; &amp; ParentInterface&lt;E&gt;&gt; List&lt;Map&lt;String, Object&gt;&gt; getGenericTypeList(final Class&lt;E&gt; clazz) {\n      \n         List&lt;Map&lt;String, Object&gt;&gt; fuelList = new ArrayList&lt;&gt;();\n      \n         for(E fuelType : ParentInterface.values(clazz)) {\n            Map&lt;String, Object&gt; transmission = new HashMap&lt;&gt;();\n            transmission.put(&quot;code&quot;, fuelType.getCode());\n            transmission.put(&quot;value&quot;, fuelType.getValue());\n            transmission.put(&quot;name&quot;, fuelType.getName());\n            fuelList.add(transmission);\n         }\n      \n         return fuelList;\n      \n      }\n</code></pre>\n<p>And then that should be it. You can now delete the unnecessary methods that only work for the individual enums. Here is the complete solution, with some refactoring, renaming, and general clean up.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Arrays;\nimport java.util.List;\nimport java.util.Map;\n\n\n   public class SOQ_20230108\n   {\n   \n      public static void main(String[] args)\n      {\n      \n         System.out.println(getParentTypeList(EstimateFuelType.class));\n         System.out.println(getParentTypeList(EstimateTransmissionType.class));\n      \n      }\n   \n      public interface ParentInterface&lt;E extends Enum&lt;E&gt;&gt; // pick a better name\n      {\n      \n         String getName();\n         String getValue();\n         String getCode();\n         \n         public static &lt;E extends Enum&lt;E&gt;&gt; List&lt;E&gt; values(final Class&lt;E&gt; clazz)\n         {\n         \n            return Arrays.asList(clazz.getEnumConstants());\n         \n         }\n      \n      }\n   \n      public enum EstimateFuelType implements ParentInterface&lt;EstimateFuelType&gt;\n      {\n      \n         GASOLINE(&quot;가솔린&quot;, &quot;A001&quot;, &quot;001&quot;),\n         DIESEL(&quot;디젤&quot;, &quot;A002&quot;, &quot;002&quot;),\n         LPG_GENERAL(&quot;LPG(일반인 구입)&quot;, &quot;A003&quot;, &quot;003&quot;),\n         LPG_ALL(&quot;LPG&quot;, &quot;A004&quot;, &quot;004&quot;),\n         HYBRID(&quot;가솔린+전기&quot;, &quot;A005&quot;, &quot;005&quot;),\n         ELECTRONIC(&quot;전기&quot;, &quot;A009&quot;, &quot;009&quot;),\n         ETC(&quot;기타&quot;, &quot;A999&quot;, &quot;999&quot;);\n      \n         final String name;\n         final String value;\n         final String code;\n      \n         EstimateFuelType(String name, String value, String code) \n         {\n            \n            this.name = name;\n            this.value = value;\n            this.code = code;\n         \n         }\n      \n         public String getName() \n         {\n            \n            return name;\n         \n         }\n      \n         public String getValue() \n         {\n            \n            return value;\n         \n         }\n      \n         public String getCode() \n         {\n            \n            return code;\n         \n         }\n      \n      }\n   \n      public enum EstimateTransmissionType implements ParentInterface&lt;EstimateTransmissionType&gt;\n      {\n      \n         AUTO(&quot;오토(A/T)&quot;, &quot;A001&quot;, &quot;001&quot;),\n         MANUAL(&quot;수동(M/T)&quot;, &quot;A002&quot;, &quot;002&quot;),\n         ETC(&quot;기타&quot;, &quot;A999&quot;, &quot;999&quot;);\n      \n         final String name;\n         final String value;\n         final String code;\n      \n         EstimateTransmissionType(String name, String value, String code) \n         {\n            \n            this.name = name;\n            this.value = value;\n            this.code = code;\n         \n         }\n      \n         public String getName() \n         {\n            \n            return name;\n         \n         }\n      \n         public String getValue() \n         {\n            \n            return value;\n         \n         }\n      \n         public String getCode() \n         {\n            \n            return code;\n         \n         }\n      \n      }\n   \n      public static &lt;E extends Enum&lt;E&gt; &amp; ParentInterface&lt;E&gt;&gt; List&lt;Map&lt;String, Object&gt;&gt; getParentTypeList(Class&lt;E&gt; clazz) {\n      \n         final List&lt;Map&lt;String, Object&gt;&gt; typeList = new ArrayList&lt;&gt;();\n      \n         for(final E type : ParentInterface.values(clazz)) {\n            final Map&lt;String, Object&gt; typeMap = new HashMap&lt;&gt;();\n            typeMap.put(&quot;code&quot;, type.getCode());\n            typeMap.put(&quot;value&quot;, type.getValue());\n            typeMap.put(&quot;name&quot;, type.getName());\n            typeList.add(typeMap);\n         }\n      \n         return typeList;\n      \n      }\n   \n   }\n\n</code></pre>\n<p>This complete example has a main method, so you can run it yourself and see that it works.</p>\n<p>Finally, if you decide to make this method work for other enums that you add into the future, it is very easy to do. Simply ensure that each enum you add implements your interface, and the parameterized type for that interface should be the enum name itself. If that doesn't make sense, just follow the same format as the other enums and it should work out fine.</p>\n"},{"tags":[],"owner":{"account_id":667308,"reputation":46349,"user_id":1161878,"accept_rate":81,"display_name":"Gene"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1673242225,"creation_date":1673241171,"answer_id":75053407,"question_id":75052709,"body_markdown":"The new old wisdom to prefer composition over inheritance seems to apply here. We can do all the common stuff in a delegate class:\r\n\r\n```java\r\nimport java.util.Arrays;\r\nimport java.util.Map;\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\nimport java.util.stream.Collectors;\r\n\r\npublic class EnumDemo {\r\n  interface AttributeProvider {\r\n    EstimateAttributes getAttributes();\r\n  }\r\n  \r\n  public enum EstimateTransmissionType implements AttributeProvider {\r\n    AUTO(&quot;오토(A/T)&quot;, &quot;A001&quot;, &quot;001&quot;),\r\n    MANUAL(&quot;수동(M/T)&quot;, &quot;A002&quot;, &quot;002&quot;),\r\n    ETC(&quot;기타&quot;, &quot;A999&quot;, &quot;999&quot;);\r\n\r\n    private final final EstimateAttributes attributes;\r\n    \r\n    EstimateTransmissionType(String name, String value, String code) {\r\n      this.attributes = new EstimateAttributes(name, value, code);\r\n    }\r\n\r\n    @Override\r\n    public EstimateAttributes getAttributes() {\r\n      return attributes;\r\n    }\r\n  }\r\n  \r\n  public enum EstimateFuelType implements AttributeProvider {\r\n    GASOLINE(&quot;가솔린&quot;, &quot;A001&quot;, &quot;001&quot;),\r\n    DIESEL(&quot;디젤&quot;, &quot;A002&quot;, &quot;002&quot;),\r\n    LPG_GENERAL(&quot;LPG(일반인 구입)&quot;, &quot;A003&quot;, &quot;003&quot;),\r\n    LPG_ALL(&quot;LPG&quot;, &quot;A004&quot;, &quot;004&quot;),\r\n    HYBRID(&quot;가솔린+전기&quot;, &quot;A005&quot;, &quot;005&quot;),\r\n    ELECTRONIC(&quot;전기&quot;, &quot;A009&quot;, &quot;009&quot;),\r\n    ETC(&quot;기타&quot;, &quot;A999&quot;, &quot;999&quot;);\r\n\r\n    private final EstimateAttributes attributes;\r\n\r\n    EstimateFuelType(String name, String value, String code) {\r\n      attributes = new EstimateAttributes(name, value, code);\r\n    }\r\n\r\n    @Override\r\n    public EstimateAttributes getAttributes() {\r\n      return attributes;\r\n    }\r\n  }\r\n  \r\n  static class EstimateAttributes {\r\n    private final String name;\r\n    private final String value;\r\n    private final String code;\r\n\r\n    public EstimateAttributes(String name, String value, String code) {\r\n      this.name = name;\r\n      this.value = value;\r\n      this.code = code;\r\n    }\r\n    \r\n    public Map&lt;String, Object&gt; asMap() {\r\n     Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();\r\n     map.put(&quot;name&quot;, name);\r\n     map.put(&quot;value&quot;, value);\r\n     map.put(&quot;code&quot;, code);\r\n     return map;\r\n    }\r\n\r\n     // Add getters if needed.\r\n  }\r\n  \r\n  public static &lt;E extends Enum&lt;E&gt; &amp; AttributeProvider&gt; \r\n      List&lt;Map&lt;String, Object&gt;&gt; getAttributeMaps(Class&lt;E&gt; enumClass) {\r\n    return Arrays.stream(enumClass.getEnumConstants())\r\n        .map(enumValue -&gt; enumValue.getAttributes().asMap())\r\n        .collect(Collectors.toList());\r\n  }\r\n}\r\n```\r\n\r\nNow we can say `EnumDemo.getAttributeMaps(EstimateTransmissionType.class)` and `EnumDemo.getAttributeMaps(EstimateFuelType.class)`.","title":"How can I remove the duplicate source code with enum and generic in Java?","body":"<p>The new old wisdom to prefer composition over inheritance seems to apply here. We can do all the common stuff in a delegate class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Arrays;\nimport java.util.Map;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.stream.Collectors;\n\npublic class EnumDemo {\n  interface AttributeProvider {\n    EstimateAttributes getAttributes();\n  }\n  \n  public enum EstimateTransmissionType implements AttributeProvider {\n    AUTO(&quot;오토(A/T)&quot;, &quot;A001&quot;, &quot;001&quot;),\n    MANUAL(&quot;수동(M/T)&quot;, &quot;A002&quot;, &quot;002&quot;),\n    ETC(&quot;기타&quot;, &quot;A999&quot;, &quot;999&quot;);\n\n    private final final EstimateAttributes attributes;\n    \n    EstimateTransmissionType(String name, String value, String code) {\n      this.attributes = new EstimateAttributes(name, value, code);\n    }\n\n    @Override\n    public EstimateAttributes getAttributes() {\n      return attributes;\n    }\n  }\n  \n  public enum EstimateFuelType implements AttributeProvider {\n    GASOLINE(&quot;가솔린&quot;, &quot;A001&quot;, &quot;001&quot;),\n    DIESEL(&quot;디젤&quot;, &quot;A002&quot;, &quot;002&quot;),\n    LPG_GENERAL(&quot;LPG(일반인 구입)&quot;, &quot;A003&quot;, &quot;003&quot;),\n    LPG_ALL(&quot;LPG&quot;, &quot;A004&quot;, &quot;004&quot;),\n    HYBRID(&quot;가솔린+전기&quot;, &quot;A005&quot;, &quot;005&quot;),\n    ELECTRONIC(&quot;전기&quot;, &quot;A009&quot;, &quot;009&quot;),\n    ETC(&quot;기타&quot;, &quot;A999&quot;, &quot;999&quot;);\n\n    private final EstimateAttributes attributes;\n\n    EstimateFuelType(String name, String value, String code) {\n      attributes = new EstimateAttributes(name, value, code);\n    }\n\n    @Override\n    public EstimateAttributes getAttributes() {\n      return attributes;\n    }\n  }\n  \n  static class EstimateAttributes {\n    private final String name;\n    private final String value;\n    private final String code;\n\n    public EstimateAttributes(String name, String value, String code) {\n      this.name = name;\n      this.value = value;\n      this.code = code;\n    }\n    \n    public Map&lt;String, Object&gt; asMap() {\n     Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();\n     map.put(&quot;name&quot;, name);\n     map.put(&quot;value&quot;, value);\n     map.put(&quot;code&quot;, code);\n     return map;\n    }\n\n     // Add getters if needed.\n  }\n  \n  public static &lt;E extends Enum&lt;E&gt; &amp; AttributeProvider&gt; \n      List&lt;Map&lt;String, Object&gt;&gt; getAttributeMaps(Class&lt;E&gt; enumClass) {\n    return Arrays.stream(enumClass.getEnumConstants())\n        .map(enumValue -&gt; enumValue.getAttributes().asMap())\n        .collect(Collectors.toList());\n  }\n}\n</code></pre>\n<p>Now we can say <code>EnumDemo.getAttributeMaps(EstimateTransmissionType.class)</code> and <code>EnumDemo.getAttributeMaps(EstimateFuelType.class)</code>.</p>\n"}],"owner":{"account_id":4346313,"reputation":71,"user_id":3548162,"accept_rate":100,"display_name":"Christopher"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75053164,"answer_count":2,"score":2,"last_activity_date":1673242225,"creation_date":1673231576,"question_id":75052709,"body_markdown":"I would like to delete the duplicate source code below.\r\n\r\n    public static List&lt;Map&lt;String, Object&gt;&gt; getTransmissionTypeList() {\r\n\r\n        List&lt;Map&lt;String, Object&gt;&gt; transmissionList = new ArrayList&lt;&gt;();\r\n\r\n        for(EstimateTransmissionType transmissionType : EstimateTransmissionType.values()) {\r\n            Map&lt;String, Object&gt; transmission = new HashMap&lt;&gt;();\r\n            transmission.put(&quot;code&quot;, transmissionType.getCode());\r\n            transmission.put(&quot;value&quot;, transmissionType.getValue());\r\n            transmission.put(&quot;name&quot;, transmissionType.getName());\r\n            transmissionList.add(transmission);\r\n        }\r\n\r\n        return transmissionList;\r\n\r\n    }\r\n\r\n    public static List&lt;Map&lt;String, Object&gt;&gt; getFuelTypeList() {\r\n\r\n        List&lt;Map&lt;String, Object&gt;&gt; fuelList = new ArrayList&lt;&gt;();\r\n\r\n        for(EstimateFuelType fuelType : EstimateFuelType.values()) {\r\n            Map&lt;String, Object&gt; transmission = new HashMap&lt;&gt;();\r\n            transmission.put(&quot;code&quot;, fuelType.getCode());\r\n            transmission.put(&quot;value&quot;, fuelType.getValue());\r\n            transmission.put(&quot;name&quot;, fuelType.getName());\r\n            fuelList.add(transmission);\r\n        }\r\n\r\n        return fuelList;\r\n\r\n    }\r\n\r\nFor the `EstimateTransmissionType` and `EstimateFuelType`, those two enums are totally same structure inside.\r\n\r\n\r\n```\r\npublic enum EstimateTransmissionType {\r\n\r\n    AUTO(&quot;오토(A/T)&quot;, &quot;A001&quot;, &quot;001&quot;),\r\n    MANUAL(&quot;수동(M/T)&quot;, &quot;A002&quot;, &quot;002&quot;),\r\n    ETC(&quot;기타&quot;, &quot;A999&quot;, &quot;999&quot;);\r\n\r\n    final String name;\r\n    final String value;\r\n    final String code;\r\n\r\n    EstimateTransmissionType(String name, String value, String code) {\r\n        this.name = name;\r\n        this.value = value;\r\n        this.code = code;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public String getValue() {\r\n        return value;\r\n    }\r\n\r\n    public String getCode() {\r\n        return code;\r\n    }\r\n}\r\n```\r\n\r\n```\r\npublic enum EstimateFuelType {\r\n\r\n    GASOLINE(&quot;가솔린&quot;, &quot;A001&quot;, &quot;001&quot;),\r\n    DIESEL(&quot;디젤&quot;, &quot;A002&quot;, &quot;002&quot;),\r\n    LPG_GENERAL(&quot;LPG(일반인 구입)&quot;, &quot;A003&quot;, &quot;003&quot;),\r\n    LPG_ALL(&quot;LPG&quot;, &quot;A004&quot;, &quot;004&quot;),\r\n    HYBRID(&quot;가솔린+전기&quot;, &quot;A005&quot;, &quot;005&quot;),\r\n    ELECTRONIC(&quot;전기&quot;, &quot;A009&quot;, &quot;009&quot;),\r\n    ETC(&quot;기타&quot;, &quot;A999&quot;, &quot;999&quot;);\r\n\r\n    final String name;\r\n    final String value;\r\n    final String code;\r\n\r\n    EstimateFuelType(String name, String value, String code) {\r\n        this.name = name;\r\n        this.value = value;\r\n        this.code = code;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public String getValue() {\r\n        return value;\r\n    }\r\n\r\n    public String getCode() {\r\n        return code;\r\n    }\r\n}\r\n```\r\n\r\nI really want to improve my source code quality, but I have no idea where to start this.\r\nCould somebody give me a good inspiration or clear answer?","title":"How can I remove the duplicate source code with enum and generic in Java?","body":"<p>I would like to delete the duplicate source code below.</p>\n<pre><code>public static List&lt;Map&lt;String, Object&gt;&gt; getTransmissionTypeList() {\n\n    List&lt;Map&lt;String, Object&gt;&gt; transmissionList = new ArrayList&lt;&gt;();\n\n    for(EstimateTransmissionType transmissionType : EstimateTransmissionType.values()) {\n        Map&lt;String, Object&gt; transmission = new HashMap&lt;&gt;();\n        transmission.put(&quot;code&quot;, transmissionType.getCode());\n        transmission.put(&quot;value&quot;, transmissionType.getValue());\n        transmission.put(&quot;name&quot;, transmissionType.getName());\n        transmissionList.add(transmission);\n    }\n\n    return transmissionList;\n\n}\n\npublic static List&lt;Map&lt;String, Object&gt;&gt; getFuelTypeList() {\n\n    List&lt;Map&lt;String, Object&gt;&gt; fuelList = new ArrayList&lt;&gt;();\n\n    for(EstimateFuelType fuelType : EstimateFuelType.values()) {\n        Map&lt;String, Object&gt; transmission = new HashMap&lt;&gt;();\n        transmission.put(&quot;code&quot;, fuelType.getCode());\n        transmission.put(&quot;value&quot;, fuelType.getValue());\n        transmission.put(&quot;name&quot;, fuelType.getName());\n        fuelList.add(transmission);\n    }\n\n    return fuelList;\n\n}\n</code></pre>\n<p>For the <code>EstimateTransmissionType</code> and <code>EstimateFuelType</code>, those two enums are totally same structure inside.</p>\n<pre><code>public enum EstimateTransmissionType {\n\n    AUTO(&quot;오토(A/T)&quot;, &quot;A001&quot;, &quot;001&quot;),\n    MANUAL(&quot;수동(M/T)&quot;, &quot;A002&quot;, &quot;002&quot;),\n    ETC(&quot;기타&quot;, &quot;A999&quot;, &quot;999&quot;);\n\n    final String name;\n    final String value;\n    final String code;\n\n    EstimateTransmissionType(String name, String value, String code) {\n        this.name = name;\n        this.value = value;\n        this.code = code;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public String getValue() {\n        return value;\n    }\n\n    public String getCode() {\n        return code;\n    }\n}\n</code></pre>\n<pre><code>public enum EstimateFuelType {\n\n    GASOLINE(&quot;가솔린&quot;, &quot;A001&quot;, &quot;001&quot;),\n    DIESEL(&quot;디젤&quot;, &quot;A002&quot;, &quot;002&quot;),\n    LPG_GENERAL(&quot;LPG(일반인 구입)&quot;, &quot;A003&quot;, &quot;003&quot;),\n    LPG_ALL(&quot;LPG&quot;, &quot;A004&quot;, &quot;004&quot;),\n    HYBRID(&quot;가솔린+전기&quot;, &quot;A005&quot;, &quot;005&quot;),\n    ELECTRONIC(&quot;전기&quot;, &quot;A009&quot;, &quot;009&quot;),\n    ETC(&quot;기타&quot;, &quot;A999&quot;, &quot;999&quot;);\n\n    final String name;\n    final String value;\n    final String code;\n\n    EstimateFuelType(String name, String value, String code) {\n        this.name = name;\n        this.value = value;\n        this.code = code;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public String getValue() {\n        return value;\n    }\n\n    public String getCode() {\n        return code;\n    }\n}\n</code></pre>\n<p>I really want to improve my source code quality, but I have no idea where to start this.\nCould somebody give me a good inspiration or clear answer?</p>\n"},{"tags":["java","spring","type-conversion"],"answers":[{"tags":[],"owner":{"account_id":1841280,"reputation":2686,"user_id":1670616,"display_name":"sgpalit"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1349699075,"creation_date":1349699075,"answer_id":12781705,"question_id":12779329,"body_markdown":"write a custom conversionService\r\n\r\n    public class CustomerConversionServiceFactoryBean extends ConversionServiceFactoryBean {\r\n\r\n    \tList&lt;Converter&lt;Object, Object&gt;&gt; converters = new ArrayList&lt;&gt;();\r\n\t\r\n    \tpublic CustomerConversionServiceFactoryBean() {\r\n    \t\tsuper();\r\n\t\t\r\n\t\tDefaultConversionService conversionservice = (DefaultConversionService)  super.getObject();\r\n\t\t\r\n    \t\tfor(int i=0;i&lt;converters.size();i++){\r\n    \t\t\tconversionservice.addConverter(converters.get(i));\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nthen change your xml\r\n\r\n    &lt;bean id=&quot;conversionService&quot;\r\n\t\tclass=&quot;CustomerConversionServiceFactoryBean&quot; &gt;\r\n\t\t&lt;property name=&quot;converters&quot; &gt;\r\n\t\t\t&lt;list&gt;\r\n\t\t\t\t&lt;bean class=&quot;CustomConverter&quot;  /&gt;\r\n\t\t\t&lt;/list&gt;\r\n\t\t&lt;/property&gt;\r\n\t&lt;/bean&gt;\r\n\r\nI think this will help you...","title":"Spring ConversionService adding Converters","body":"<p>write a custom conversionService</p>\n\n<pre><code>public class CustomerConversionServiceFactoryBean extends ConversionServiceFactoryBean {\n\n    List&lt;Converter&lt;Object, Object&gt;&gt; converters = new ArrayList&lt;&gt;();\n\n    public CustomerConversionServiceFactoryBean() {\n        super();\n\n    DefaultConversionService conversionservice = (DefaultConversionService)  super.getObject();\n\n        for(int i=0;i&lt;converters.size();i++){\n            conversionservice.addConverter(converters.get(i));\n        }\n    }\n}\n</code></pre>\n\n<p>then change your xml</p>\n\n<pre><code>&lt;bean id=\"conversionService\"\n    class=\"CustomerConversionServiceFactoryBean\" &gt;\n    &lt;property name=\"converters\" &gt;\n        &lt;list&gt;\n            &lt;bean class=\"CustomConverter\"  /&gt;\n        &lt;/list&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>I think this will help you...</p>\n"},{"comments":[{"owner":{"account_id":129401,"reputation":2460,"user_id":327961,"accept_rate":50,"display_name":"user327961"},"score":0,"creation_date":1615565693,"post_id":12782201,"comment_id":117738901,"body_markdown":"This solution doesn&#39;t seem to work anymore : org.springframework.beans.NotWritablePropertyException: Invalid property &#39;converters&#39; of bean class [org.springframework.core.convert.support.DefaultConversionService]: Bean property &#39;converters&#39; is not writable or has an invalid setter method. Does the parameter type of the setter match the return type of the getter?","body":"This solution doesn&#39;t seem to work anymore : org.springframework.beans.NotWritablePropertyException: Invalid property &#39;converters&#39; of bean class [org.springframework.core.convert.support.DefaultConversionS&zwnj;&#8203;ervice]: Bean property &#39;converters&#39; is not writable or has an invalid setter method. Does the parameter type of the setter match the return type of the getter?"}],"tags":[],"owner":{"account_id":70704,"reputation":49440,"user_id":204788,"display_name":"Biju Kunjummen"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1349700891,"creation_date":1349700891,"answer_id":12782201,"question_id":12779329,"body_markdown":"Came across a very interesting way to do this in Stackoverflow - https://stackoverflow.com/a/12760579/204788  \r\n\r\nUsing a feature called [Collection merging][1], you can essentially do this:\r\n\r\n    &lt;bean id=&quot;customConversionService&quot; class=&quot;org.springframework.context.support.ConversionServiceFactoryBean&quot; parent=&quot;conversionService&quot;&gt;\r\n        &lt;property name=&quot;converters&quot;&gt;\r\n            &lt;list merge=&quot;true&quot;&gt;\r\n                &lt;bean id=&quot;StringToLoggerConverter&quot; class=&quot;com.citi.spring.converter.LoggerConverter&quot; /&gt;\r\n           &lt;/list&gt;\r\n       &lt;/property&gt;\r\n    &lt;/bean&gt;\r\n\r\n\r\n  [1]: http://static.springsource.org/spring/docs/3.1.x/spring-framework-reference/html/beans.html#beans-collection-elements-merging","title":"Spring ConversionService adding Converters","body":"<p>Came across a very interesting way to do this in Stackoverflow - <a href=\"https://stackoverflow.com/a/12760579/204788\">https://stackoverflow.com/a/12760579/204788</a>  </p>\n\n<p>Using a feature called <a href=\"http://static.springsource.org/spring/docs/3.1.x/spring-framework-reference/html/beans.html#beans-collection-elements-merging\" rel=\"nofollow noreferrer\">Collection merging</a>, you can essentially do this:</p>\n\n<pre><code>&lt;bean id=\"customConversionService\" class=\"org.springframework.context.support.ConversionServiceFactoryBean\" parent=\"conversionService\"&gt;\n    &lt;property name=\"converters\"&gt;\n        &lt;list merge=\"true\"&gt;\n            &lt;bean id=\"StringToLoggerConverter\" class=\"com.citi.spring.converter.LoggerConverter\" /&gt;\n       &lt;/list&gt;\n   &lt;/property&gt;\n&lt;/bean&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":435987,"reputation":1349,"user_id":822870,"accept_rate":33,"display_name":"David Balažic"},"score":0,"creation_date":1696427813,"post_id":12798635,"comment_id":136151650,"body_markdown":"Care to describe how to &quot;registering a custom converter using Property editor&quot; ?","body":"Care to describe how to &quot;registering a custom converter using Property editor&quot; ?"}],"tags":[],"owner":{"account_id":1915780,"reputation":1791,"user_id":1728402,"accept_rate":53,"display_name":"nikkatsa"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1349780475,"creation_date":1349780475,"answer_id":12798635,"question_id":12779329,"body_markdown":"While experimenting with different ways and even following spring source code in some i came across with an interesting thing.\r\n\r\nThe only way i found to use conversionService without overriding the existing converters with my custom ones was either to extend or re-implement the conversionService calling the super class&#39;s afterPropertiesSet() method to register the default converters and then add the custom ones.\r\n\r\nBut even if i was using that way, at runtime i was getting an exception that no converter was found for my specific types (e.g. from String to Logger). \r\n\r\nThat triggered my interest and i followed spring source code to find out why and i realized that spring was trying to find a custom converter registered with PropertyEditor. I am not sure why this is happening. I have to add here that my application is not using spring mvc and conversionService might somehow need to be registered and i didn&#39;t do it. \r\n\r\nFinally, i solved the issue with registering a custom converter using Property editor. This documentation can be viewed as reference:\r\n\r\nhttp://static.springsource.org/spring/docs/current/spring-framework-reference/html/validation.html\r\n\r\nI would be very interested in knowing why Spring was not finding my registered custom converters in the conversionService&#39;s registry (or at least why spring was not looking at that registry to find the custom converters). Was i missing any configuration?","title":"Spring ConversionService adding Converters","body":"<p>While experimenting with different ways and even following spring source code in some i came across with an interesting thing.</p>\n\n<p>The only way i found to use conversionService without overriding the existing converters with my custom ones was either to extend or re-implement the conversionService calling the super class's afterPropertiesSet() method to register the default converters and then add the custom ones.</p>\n\n<p>But even if i was using that way, at runtime i was getting an exception that no converter was found for my specific types (e.g. from String to Logger). </p>\n\n<p>That triggered my interest and i followed spring source code to find out why and i realized that spring was trying to find a custom converter registered with PropertyEditor. I am not sure why this is happening. I have to add here that my application is not using spring mvc and conversionService might somehow need to be registered and i didn't do it. </p>\n\n<p>Finally, i solved the issue with registering a custom converter using Property editor. This documentation can be viewed as reference:</p>\n\n<p><a href=\"http://static.springsource.org/spring/docs/current/spring-framework-reference/html/validation.html\" rel=\"noreferrer\">http://static.springsource.org/spring/docs/current/spring-framework-reference/html/validation.html</a></p>\n\n<p>I would be very interested in knowing why Spring was not finding my registered custom converters in the conversionService's registry (or at least why spring was not looking at that registry to find the custom converters). Was i missing any configuration?</p>\n"},{"tags":[],"owner":{"account_id":2073508,"reputation":2779,"user_id":1847482,"accept_rate":60,"display_name":"Alexander"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1396511008,"creation_date":1396511008,"answer_id":22830974,"question_id":12779329,"body_markdown":"It&#39;s enough to override the ConversionServiceFactoryBean.afterPropertiesSet() and set the ConversionService object to your converters there.\r\nLet your converters implement some interface that allows to set a ConversionService object, say ConversionServiceAware.\r\nThe only problem is to get access to the registered converters, so you&#39;ll also have to override the &#39;setConverters()&#39; method.\r\n\r\n    public class MyFormattingConversionServiceFactoryBean extends FormattingConversionServiceFactoryBean {\r\n    \r\n        private Set&lt;?&gt; cachedConverters = new LinkedHashSet&lt;&gt;();\r\n    \r\n        @Override\r\n        public void setConverters(Set&lt;?&gt; converters) {\r\n            super.setConverters(converters);\r\n            this.cachedConverters = new LinkedHashSet&lt;&gt;(converters);\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void afterPropertiesSet() {\r\n            super.afterPropertiesSet();\r\n            FormattingConversionService conversionService = getObject();\r\n            for (Object converter : cachedConverters) {\r\n                if (converter instanceof ConversionServiceAware) {\r\n                    ((ConversionServiceAware) converter).setConversionService(conversionService);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Spring ConversionService adding Converters","body":"<p>It's enough to override the ConversionServiceFactoryBean.afterPropertiesSet() and set the ConversionService object to your converters there.\nLet your converters implement some interface that allows to set a ConversionService object, say ConversionServiceAware.\nThe only problem is to get access to the registered converters, so you'll also have to override the 'setConverters()' method.</p>\n\n<pre><code>public class MyFormattingConversionServiceFactoryBean extends FormattingConversionServiceFactoryBean {\n\n    private Set&lt;?&gt; cachedConverters = new LinkedHashSet&lt;&gt;();\n\n    @Override\n    public void setConverters(Set&lt;?&gt; converters) {\n        super.setConverters(converters);\n        this.cachedConverters = new LinkedHashSet&lt;&gt;(converters);\n\n    }\n\n    @Override\n    public void afterPropertiesSet() {\n        super.afterPropertiesSet();\n        FormattingConversionService conversionService = getObject();\n        for (Object converter : cachedConverters) {\n            if (converter instanceof ConversionServiceAware) {\n                ((ConversionServiceAware) converter).setConversionService(conversionService);\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":517348,"reputation":15463,"user_id":1238957,"accept_rate":70,"display_name":"Christian Vielma"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1404157259,"creation_date":1404157259,"answer_id":24497729,"question_id":12779329,"body_markdown":"You can also add it dinamically using addConverter method on your DefaultConversionService-ish class:\r\n\r\n    DefaultConversionService cs = new &lt;YourClassThatInheritsFromDefaultConversionService or DefaultConversionService&gt;();\r\n    \r\n    cs.addConverter(new MyConverter());\r\n\r\n","title":"Spring ConversionService adding Converters","body":"<p>You can also add it dinamically using addConverter method on your DefaultConversionService-ish class:</p>\n\n<pre><code>DefaultConversionService cs = new &lt;YourClassThatInheritsFromDefaultConversionService or DefaultConversionService&gt;();\n\ncs.addConverter(new MyConverter());\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4921827,"reputation":700,"user_id":3964217,"accept_rate":100,"display_name":"Isuru"},"score":0,"creation_date":1547119823,"post_id":25182439,"comment_id":95086685,"body_markdown":"Look into `extendMessageConverters(List&lt;HttpMessageConverter&lt;?&gt;&gt; converters)` method in `WebMvcConfigurerAdapter` to add your converter on top of default converters.","body":"Look into <code>extendMessageConverters(List&lt;HttpMessageConverter&lt;?&gt;&gt; converters)</code> method in <code>WebMvcConfigurerAdapter</code> to add your converter on top of default converters."}],"tags":[],"owner":{"account_id":4782401,"reputation":206,"user_id":3863769,"display_name":"Christopher"},"comment_count":1,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1407414142,"creation_date":1407414142,"answer_id":25182439,"question_id":12779329,"body_markdown":"For anyone who stumbles on this now via a google search or similar 2+ years after the question was originally posted, adding converters has been made much easier through Java Config: `WebMvcConfigurerAdapter` provides the `addFormatters(FormatterRegistry)` method that can be used to specify additional custom converters.","title":"Spring ConversionService adding Converters","body":"<p>For anyone who stumbles on this now via a google search or similar 2+ years after the question was originally posted, adding converters has been made much easier through Java Config: <code>WebMvcConfigurerAdapter</code> provides the <code>addFormatters(FormatterRegistry)</code> method that can be used to specify additional custom converters.</p>\n"},{"comments":[{"owner":{"account_id":85409,"reputation":89783,"user_id":238134,"accept_rate":73,"display_name":"deamon"},"score":0,"creation_date":1505482122,"post_id":30629803,"comment_id":79445138,"body_markdown":"You could inject all objects of a certain type, `Converter` in this case, with Spring: `@Autowired Set&lt;Converter&gt;`.","body":"You could inject all objects of a certain type, <code>Converter</code> in this case, with Spring: <code>@Autowired Set&lt;Converter&gt;</code>."}],"tags":[],"owner":{"account_id":4401188,"reputation":4398,"user_id":3586851,"accept_rate":50,"display_name":"Heri"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1545065817,"creation_date":1433362516,"answer_id":30629803,"question_id":12779329,"body_markdown":"With spring &gt; 4 it is no more necessary to implement an own derivation of the ConversionService. Initialize it in a @Configuration annotated class as follows:\r\n\r\n    @Configuration\r\n    public class ConversionServiceProvider\r\n    {\r\n        @Autowired\r\n        private MyConverterImpl myConverter;\r\n\r\n        @Bean\r\n        public ConversionService getConversionService()\r\n        {\r\n            ConversionServiceFactoryBean bean = new ConversionServiceFactoryBean();\r\n            bean.setConverters( getConverters() );\r\n            bean.afterPropertiesSet();\r\n            ConversionService object = bean.getObject();\r\n            return object;\r\n        }\r\n\r\n        private Set&lt;Converter&lt;?, ?&gt;&gt; getConverters()\r\n        {\r\n            Set&lt;Converter&lt;?, ?&gt;&gt; converters = new HashSet&lt;Converter&lt;?, ?&gt;&gt;();\r\n\r\n            converters.add( myConverter );\r\n            // add here more custom converters, either as spring bean references or directly instantiated\r\n\r\n            return converters;\r\n        }\r\n    }","title":"Spring ConversionService adding Converters","body":"<p>With spring > 4 it is no more necessary to implement an own derivation of the ConversionService. Initialize it in a @Configuration annotated class as follows:</p>\n\n<pre><code>@Configuration\npublic class ConversionServiceProvider\n{\n    @Autowired\n    private MyConverterImpl myConverter;\n\n    @Bean\n    public ConversionService getConversionService()\n    {\n        ConversionServiceFactoryBean bean = new ConversionServiceFactoryBean();\n        bean.setConverters( getConverters() );\n        bean.afterPropertiesSet();\n        ConversionService object = bean.getObject();\n        return object;\n    }\n\n    private Set&lt;Converter&lt;?, ?&gt;&gt; getConverters()\n    {\n        Set&lt;Converter&lt;?, ?&gt;&gt; converters = new HashSet&lt;Converter&lt;?, ?&gt;&gt;();\n\n        converters.add( myConverter );\n        // add here more custom converters, either as spring bean references or directly instantiated\n\n        return converters;\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":552377,"reputation":2230,"user_id":917492,"display_name":"jasie"},"score":1,"creation_date":1568637159,"post_id":57956525,"comment_id":102325731,"body_markdown":"Please read https://stackoverflow.com/help/how-to-answer and improve your answer.","body":"Please read <a href=\"https://stackoverflow.com/help/how-to-answer\">stackoverflow.com/help/how-to-answer</a> and improve your answer."}],"tags":[],"owner":{"account_id":9034081,"reputation":39,"user_id":6730751,"display_name":"limon4ick"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1568817354,"creation_date":1568635513,"answer_id":57956525,"question_id":12779329,"body_markdown":"This variant works for me.\r\nIf you use java configuration, you can add your converters to existing `GenericConversionService` \r\n\r\nhttps://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/factory/annotation/Autowired.html\r\n\r\n    Config methods may have an arbitrary name and any number of arguments; each of those arguments will be autowired with a matching bean in the Spring container. Bean property setter methods are effectively just a special case of such a general config method. Such config methods do not have to be public.\r\n\r\n        @Configuration\r\n        class MyConfig {\r\n    \r\n        @Autowired\r\n        void conversionService(GenericConversionService genericConversionService) {\r\n            genericConversionService.addConverter(String.class, UUID.class, UUID::fromString);\r\n            genericConversionService.addConverter(String.class, DateTime.class, DateTime::parse);\r\n            genericConversionService.addConverter(String.class, EnumState.class, EnumState::valueOf);\r\n        }\r\n    }","title":"Spring ConversionService adding Converters","body":"<p>This variant works for me.\nIf you use java configuration, you can add your converters to existing <code>GenericConversionService</code> </p>\n\n<p><a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/factory/annotation/Autowired.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/factory/annotation/Autowired.html</a></p>\n\n<pre><code>Config methods may have an arbitrary name and any number of arguments; each of those arguments will be autowired with a matching bean in the Spring container. Bean property setter methods are effectively just a special case of such a general config method. Such config methods do not have to be public.\n\n    @Configuration\n    class MyConfig {\n\n    @Autowired\n    void conversionService(GenericConversionService genericConversionService) {\n        genericConversionService.addConverter(String.class, UUID.class, UUID::fromString);\n        genericConversionService.addConverter(String.class, DateTime.class, DateTime::parse);\n        genericConversionService.addConverter(String.class, EnumState.class, EnumState::valueOf);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3068102,"reputation":194,"user_id":2599371,"display_name":"LionH"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1580934553,"creation_date":1580934553,"answer_id":60083638,"question_id":12779329,"body_markdown":"To resolve any circular dependencies, here the steps I followed (Spring Boot v5.2.1):\r\n\r\nRegister a simple conversionService\r\n\r\n    @Configuration\r\n    public class ConverterProvider {\r\n    \r\n        @Bean\r\n        public ConversionService conversionService() {\r\n            ConversionService conversionService = new GenericConversionService();\r\n            return conversionService;\r\n        }\r\n    }\r\n\r\nInject your custom converters\r\n\r\n    @Component\r\n    public class ConvertersInjection {\r\n    \r\n        @Autowired\r\n        private GenericConversionService conversionService;\r\n    \r\n        @Autowired\r\n        private void converters(Set&lt;Converter&gt; converters) {\r\n            converters.forEach(conversionService::addConverter);\r\n        }\r\n    }\r\nThe converter can even autowire your conversionService\r\n\r\n    @Component\r\n    public class PushNotificationConverter implements Converter&lt;PushNotificationMessages.PushNotification, GCM&gt; {\r\n        @Lazy\r\n        @Autowired\r\n        private ConversionService conversionService;\r\n    \r\n        @Override\r\n        public GCM convert(PushNotificationMessages.PushNotification source) {\r\n            GCM gcm = new GCM();\r\n            if (source.hasContent()) {\r\n                PushNotificationMessages.PushNotification.Content content = source.getContent();\r\n                if (content.hasData()) {\r\n                    conversionService.convert(content.getData(), gcm.getData().getClass());\r\n                } else if (content.hasNotification()) {\r\n                    conversionService.convert(content.getNotification(), gcm.getNotification().getClass());\r\n                }\r\n            }\r\n            return gcm;\r\n        }\r\n    }","title":"Spring ConversionService adding Converters","body":"<p>To resolve any circular dependencies, here the steps I followed (Spring Boot v5.2.1):</p>\n\n<p>Register a simple conversionService</p>\n\n<pre><code>@Configuration\npublic class ConverterProvider {\n\n    @Bean\n    public ConversionService conversionService() {\n        ConversionService conversionService = new GenericConversionService();\n        return conversionService;\n    }\n}\n</code></pre>\n\n<p>Inject your custom converters</p>\n\n<pre><code>@Component\npublic class ConvertersInjection {\n\n    @Autowired\n    private GenericConversionService conversionService;\n\n    @Autowired\n    private void converters(Set&lt;Converter&gt; converters) {\n        converters.forEach(conversionService::addConverter);\n    }\n}\n</code></pre>\n\n<p>The converter can even autowire your conversionService</p>\n\n<pre><code>@Component\npublic class PushNotificationConverter implements Converter&lt;PushNotificationMessages.PushNotification, GCM&gt; {\n    @Lazy\n    @Autowired\n    private ConversionService conversionService;\n\n    @Override\n    public GCM convert(PushNotificationMessages.PushNotification source) {\n        GCM gcm = new GCM();\n        if (source.hasContent()) {\n            PushNotificationMessages.PushNotification.Content content = source.getContent();\n            if (content.hasData()) {\n                conversionService.convert(content.getData(), gcm.getData().getClass());\n            } else if (content.hasNotification()) {\n                conversionService.convert(content.getNotification(), gcm.getNotification().getClass());\n            }\n        }\n        return gcm;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4328490,"reputation":1080,"user_id":3534593,"accept_rate":67,"display_name":"coretechie"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673242213,"creation_date":1673242213,"answer_id":75053479,"question_id":12779329,"body_markdown":"My very very old code had the converters added in this class. To fix my issue I had to add one more converter just by adding extra lines in the same class&#39;s `addFormatters` (overridden) method. ```WebMvcContext implements WebMvcConfigurer```\r\n\r\nLines:\r\n\r\n    @Override\r\n    public void addFormatters(FormatterRegistry registry) {\r\n    .....\r\n    registry.addConverter( SourceType.class, TargetType.class, converter);","title":"Spring ConversionService adding Converters","body":"<p>My very very old code had the converters added in this class. To fix my issue I had to add one more converter just by adding extra lines in the same class's <code>addFormatters</code> (overridden) method. <code>WebMvcContext implements WebMvcConfigurer</code></p>\n<p>Lines:</p>\n<pre><code>@Override\npublic void addFormatters(FormatterRegistry registry) {\n.....\nregistry.addConverter( SourceType.class, TargetType.class, converter);\n</code></pre>\n"}],"owner":{"account_id":1915780,"reputation":1791,"user_id":1728402,"accept_rate":53,"display_name":"nikkatsa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38909,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"accepted_answer_id":12798635,"answer_count":10,"score":19,"last_activity_date":1673242213,"creation_date":1349690184,"question_id":12779329,"body_markdown":"I searched for the below problem, but couldn&#39;t find an answer.\r\n\r\nI want to use spring&#39;s conversion service by writing my custom converter that implements &lt;b&gt;org.springframework.core.convert.converter.Converter&lt;S, T&gt;&lt;/b&gt;.\r\n\r\nThen i add my custom converter as below:\r\n\r\n    &lt;bean id=&quot;conversionService&quot; class=&quot;org.springframework.context.support.ConversionServiceFactoryBean&quot;&gt;\r\n        &lt;property name=&quot;converters&quot;&gt;\r\n            &lt;list&gt;\r\n                &lt;bean id=&quot;StringToLoggerConverter&quot; class=&quot;com.citi.spring.converter.LoggerConverter&quot; /&gt;\r\n           &lt;/list&gt;\r\n       &lt;/property&gt;\r\n    &lt;/bean&gt;\r\n\r\nWhen doing the above my application initialization fails, because i am overriding bean conversionService and registering only my custom converter.\r\n\r\nHow can i not override the conversionService and only add my custom converter to the list of converters, at the same time keeping the existing ones?\r\n\r\nThanks in advance.\r\n","title":"Spring ConversionService adding Converters","body":"<p>I searched for the below problem, but couldn't find an answer.</p>\n\n<p>I want to use spring's conversion service by writing my custom converter that implements <b>org.springframework.core.convert.converter.Converter</b>.</p>\n\n<p>Then i add my custom converter as below:</p>\n\n<pre><code>&lt;bean id=\"conversionService\" class=\"org.springframework.context.support.ConversionServiceFactoryBean\"&gt;\n    &lt;property name=\"converters\"&gt;\n        &lt;list&gt;\n            &lt;bean id=\"StringToLoggerConverter\" class=\"com.citi.spring.converter.LoggerConverter\" /&gt;\n       &lt;/list&gt;\n   &lt;/property&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>When doing the above my application initialization fails, because i am overriding bean conversionService and registering only my custom converter.</p>\n\n<p>How can i not override the conversionService and only add my custom converter to the list of converters, at the same time keeping the existing ones?</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","android","xml"],"comments":[{"owner":{"account_id":15350717,"reputation":420,"user_id":11074576,"display_name":"daya pangestu"},"score":0,"creation_date":1673231128,"post_id":75052648,"comment_id":132444704,"body_markdown":"ditch your online teacher, findViewById was obsolete way to get reference view in android, use viewBinding it would never throw NPE, there is tons of tutorial of how to use viewbinding out there","body":"ditch your online teacher, findViewById was obsolete way to get reference view in android, use viewBinding it would never throw NPE, there is tons of tutorial of how to use viewbinding out there"}],"answers":[{"tags":[],"owner":{"account_id":23799293,"reputation":86,"user_id":17809754,"display_name":"Gourav Gautam"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1673240357,"creation_date":1673240357,"answer_id":75053345,"question_id":75052648,"body_markdown":"Initialise views below set content\r\n\r\n\r\n\r\n\r\n  \r\n\r\n      super.onCreate(savedInstanceState);\r\n    setContentView(R.layout.activity_main);\r\n    \r\n    \r\n    heading1 = findViewById(R.id.textView_heading);\r\n    counter_text1 = findViewById(R.id.textView_counter);\r\n     btn1 = findViewById(R.id.button_counter);\r\n\r\n\r\nYou can use view binding which make your work more easier \r\n","title":"how to solve this error : &#39;void android.widget.Button.setOnClickListener(android.view.View$OnClickListener)&#39; on a null object reference","body":"<p>Initialise views below set content</p>\n<pre><code>  super.onCreate(savedInstanceState);\nsetContentView(R.layout.activity_main);\n\n\nheading1 = findViewById(R.id.textView_heading);\ncounter_text1 = findViewById(R.id.textView_counter);\n btn1 = findViewById(R.id.button_counter);\n</code></pre>\n<p>You can use view binding which make your work more easier</p>\n"},{"tags":[],"owner":{"account_id":26359116,"reputation":585,"user_id":20015640,"display_name":"Urvish Shiroya"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673242196,"creation_date":1673242196,"answer_id":75053476,"question_id":75052648,"body_markdown":"#### - Here, you need to change just the line up and down. Because you declare `findViewById()` first of inflating XML Layout.\r\n\r\n\r\n```\r\n@Override\r\nprotected void onCreate(Bundle savedInstanceState) {\r\n    super.onCreate(savedInstanceState);\r\n    setContentView(R.layout.activity_main); // Raise your layout to Java class level.\r\n\r\n    // Then find Your view from xml\r\n    btn1 = findViewById(R.id.button_counter);\r\n    ...\r\n}\r\n```","title":"how to solve this error : &#39;void android.widget.Button.setOnClickListener(android.view.View$OnClickListener)&#39; on a null object reference","body":"<h4>- Here, you need to change just the line up and down. Because you declare <code>findViewById()</code> first of inflating XML Layout.</h4>\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main); // Raise your layout to Java class level.\n\n    // Then find Your view from xml\n    btn1 = findViewById(R.id.button_counter);\n    ...\n}\n</code></pre>\n"}],"owner":{"account_id":19460542,"reputation":23,"user_id":14234955,"display_name":"Shambhu Jagtap"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75053345,"answer_count":2,"score":0,"last_activity_date":1673242196,"creation_date":1673230798,"question_id":75052648,"body_markdown":"I am trying to code a counter app in which pressing the &quot;Button&quot; increments the counter and displays it in the TextView. I followed the exact same procedure as my online teacher. But, the code is not running.\r\n\r\nXML code:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:background=&quot;@drawable/wall_grad&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/textView_heading&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginTop=&quot;208dp&quot;\r\n        android:text=&quot;The counter app&quot;\r\n        android:textSize=&quot;24sp&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.497&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/textView_counter&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginTop=&quot;84dp&quot;\r\n        android:text=&quot;0&quot;\r\n        android:textSize=&quot;25sp&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.498&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/textView_heading&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/button_counter&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;Button&quot;\r\n        android:textSize=&quot;22sp&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.498&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/textView_counter&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.198&quot; /&gt;\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n```\r\n\r\nJava Code:\r\n\r\n```\r\npackage com.example.counter_08_01_23;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.TextView;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    TextView heading1 , counter_text1;\r\n    Button btn1;\r\n    int counter = 0;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n\r\n        heading1 = findViewById(R.id.textView_heading);\r\n        counter_text1 = findViewById(R.id.textView_counter);\r\n        btn1 = findViewById(R.id.button_counter);\r\n\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        // Adding functionality\r\n\r\n        btn1.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                counter_text1.setText(inc_counter());\r\n            }\r\n        });\r\n    }\r\n\r\n    public int inc_counter(){\r\n        return ++counter;\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\n\r\nThe Log is as follows :\r\n&gt; \r\nE/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.example.counter_08_01_23, PID: 22639\r\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.counter_08_01_23/com.example.counter_08_01_23.MainActivity}: java.lang.NullPointerException: Attempt to invoke virtual method &#39;void android.widget.Button.setOnClickListener(android.view.View$OnClickListener)&#39; on a null object reference\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3197)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3334)\r\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:78)\r\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:113)\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:71)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2025)\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)\r\n        at android.os.Looper.loop(Looper.java:226)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7191)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:499)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:942)\r\n     Caused by: java.lang.NullPointerException: Attempt to invoke virtual method &#39;void android.widget.Button.setOnClickListener(android.view.View$OnClickListener)&#39; on a null object reference\r\n        at com.example.counter_08_01_23.MainActivity.onCreate(MainActivity.java:28)\r\n        at android.app.Activity.performCreate(Activity.java:7376)\r\n        at android.app.Activity.performCreate(Activity.java:7367)\r\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1271)\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3177)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3334)&#160;\r\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:78)&#160;\r\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:113)&#160;\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:71)&#160;\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2025)&#160;\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)&#160;\r\n        at android.os.Looper.loop(Looper.java:226)&#160;\r\n        at android.app.ActivityThread.main(ActivityThread.java:7191)&#160;\r\n        at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:499)&#160;\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:942)&#160;\r\nI/Process: Sending signal. PID: 22639 SIG: 9\r\n\r\n","title":"how to solve this error : &#39;void android.widget.Button.setOnClickListener(android.view.View$OnClickListener)&#39; on a null object reference","body":"<p>I am trying to code a counter app in which pressing the &quot;Button&quot; increments the counter and displays it in the TextView. I followed the exact same procedure as my online teacher. But, the code is not running.</p>\n<p>XML code:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:background=&quot;@drawable/wall_grad&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/textView_heading&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginTop=&quot;208dp&quot;\n        android:text=&quot;The counter app&quot;\n        android:textSize=&quot;24sp&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.497&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/textView_counter&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginTop=&quot;84dp&quot;\n        android:text=&quot;0&quot;\n        android:textSize=&quot;25sp&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.498&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/textView_heading&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/button_counter&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;Button&quot;\n        android:textSize=&quot;22sp&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.498&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/textView_counter&quot;\n        app:layout_constraintVertical_bias=&quot;0.198&quot; /&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n</code></pre>\n<p>Java Code:</p>\n<pre><code>package com.example.counter_08_01_23;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.TextView;\n\npublic class MainActivity extends AppCompatActivity {\n\n    TextView heading1 , counter_text1;\n    Button btn1;\n    int counter = 0;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n\n        heading1 = findViewById(R.id.textView_heading);\n        counter_text1 = findViewById(R.id.textView_counter);\n        btn1 = findViewById(R.id.button_counter);\n\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        // Adding functionality\n\n        btn1.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                counter_text1.setText(inc_counter());\n            }\n        });\n    }\n\n    public int inc_counter(){\n        return ++counter;\n    }\n\n}\n</code></pre>\n<p>The Log is as follows :</p>\n<blockquote>\n</blockquote>\n<p>E/AndroidRuntime: FATAL EXCEPTION: main\nProcess: com.example.counter_08_01_23, PID: 22639\njava.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.counter_08_01_23/com.example.counter_08_01_23.MainActivity}: java.lang.NullPointerException: Attempt to invoke virtual method 'void android.widget.Button.setOnClickListener(android.view.View$OnClickListener)' on a null object reference\nat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3197)\nat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3334)\nat android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:78)\nat android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:113)\nat android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:71)\nat android.app.ActivityThread$H.handleMessage(ActivityThread.java:2025)\nat android.os.Handler.dispatchMessage(Handler.java:106)\nat android.os.Looper.loop(Looper.java:226)\nat android.app.ActivityThread.main(ActivityThread.java:7191)\nat java.lang.reflect.Method.invoke(Native Method)\nat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:499)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:942)\nCaused by: java.lang.NullPointerException: Attempt to invoke virtual method 'void android.widget.Button.setOnClickListener(android.view.View$OnClickListener)' on a null object reference\nat com.example.counter_08_01_23.MainActivity.onCreate(MainActivity.java:28)\nat android.app.Activity.performCreate(Activity.java:7376)\nat android.app.Activity.performCreate(Activity.java:7367)\nat android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1271)\nat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3177)\nat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3334) \nat android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:78) \nat android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:113) \nat android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:71) \nat android.app.ActivityThread$H.handleMessage(ActivityThread.java:2025) \nat android.os.Handler.dispatchMessage(Handler.java:106) \nat android.os.Looper.loop(Looper.java:226) \nat android.app.ActivityThread.main(ActivityThread.java:7191) \nat java.lang.reflect.Method.invoke(Native Method) \nat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:499) \nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:942) \nI/Process: Sending signal. PID: 22639 SIG: 9</p>\n"},{"tags":["java","json","object","gson"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1464262440,"post_id":37459368,"comment_id":62418440,"body_markdown":"And what happens if you only use `Gson gson = new Gson()`?","body":"And what happens if you only use <code>Gson gson = new Gson()</code>?"},{"owner":{"account_id":2660325,"reputation":241,"user_id":2300182,"accept_rate":29,"display_name":"PAncho"},"score":0,"creation_date":1464262616,"post_id":37459368,"comment_id":62418578,"body_markdown":"if i only use Gson gson = new Gson()\nInfinity loop at recursive calling com.google.gson.internal.$Gson$Types.resolve($Gson$Types.java:375)","body":"if i only use Gson gson = new Gson() Infinity loop at recursive calling com.google.gson.internal.$Gson$Types.resolve($Gson$Types.jav&zwnj;&#8203;a:375)"},{"owner":{"account_id":3887004,"reputation":46525,"user_id":3218114,"accept_rate":84,"display_name":"Braj"},"score":0,"creation_date":1464262683,"post_id":37459368,"comment_id":62418631,"body_markdown":"what `excludeFieldsWithoutExposeAnnotation` says? &quot;only expose fields that are annotated and ignore the rest &quot;","body":"what <code>excludeFieldsWithoutExposeAnnotation</code> says? &quot;only expose fields that are annotated and ignore the rest &quot;"},{"owner":{"account_id":2663825,"reputation":21876,"user_id":2302862,"accept_rate":100,"display_name":"Siguza"},"score":0,"creation_date":1464262718,"post_id":37459368,"comment_id":62418648,"body_markdown":"Possible duplicate of [How should I escape strings in JSON?](http://stackoverflow.com/questions/3020094/how-should-i-escape-strings-in-json)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/3020094/how-should-i-escape-strings-in-json\">How should I escape strings in JSON?</a>"},{"owner":{"account_id":2663825,"reputation":21876,"user_id":2302862,"accept_rate":100,"display_name":"Siguza"},"score":0,"creation_date":1464262745,"post_id":37459368,"comment_id":62418671,"body_markdown":"^ i.e. single quotes are not valid JSON.","body":"^ i.e. single quotes are not valid JSON."}],"answers":[{"comments":[{"owner":{"account_id":2660325,"reputation":241,"user_id":2300182,"accept_rate":29,"display_name":"PAncho"},"score":0,"creation_date":1464262958,"post_id":37459768,"comment_id":62418807,"body_markdown":"Thanks man its work 100% all I need @Expose To my variable i need to initialized.","body":"Thanks man its work 100% all I need @Expose To my variable i need to initialized."},{"owner":{"account_id":231010,"reputation":1482,"user_id":494984,"accept_rate":33,"display_name":"Vikas Madhusudana"},"score":1,"creation_date":1464263088,"post_id":37459768,"comment_id":62418890,"body_markdown":"Or the other option is to just say new GsonBuilder().create() if you dont have access to edit the class","body":"Or the other option is to just say new GsonBuilder().create() if you dont have access to edit the class"}],"tags":[],"owner":{"account_id":231010,"reputation":1482,"user_id":494984,"accept_rate":33,"display_name":"Vikas Madhusudana"},"comment_count":2,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1599089177,"creation_date":1464262612,"answer_id":37459768,"question_id":37459368,"body_markdown":"Since you are setting `excludeFieldsWithoutExposeAnnotation()` configuration on the `GsonBuilder` you must put `@Expose` annotation on those fields you want to serialize/deserialize.\r\n\r\nSo in order for `excludeFieldsWithoutExposeAnnotation()` to serialize/deserialize your fields you must add that annotation:\r\n    \r\n    @Expose\r\n    private String userName;\r\n    @Expose\r\n    private String password;\r\n\r\nOr, you could remove `excludeFieldsWithoutExposeAnnotation()` from the `GsonBuilder`.","title":"gson.fromJson return null values","body":"<p>Since you are setting <code>excludeFieldsWithoutExposeAnnotation()</code> configuration on the <code>GsonBuilder</code> you must put <code>@Expose</code> annotation on those fields you want to serialize/deserialize.</p>\n<p>So in order for <code>excludeFieldsWithoutExposeAnnotation()</code> to serialize/deserialize your fields you must add that annotation:</p>\n<pre><code>@Expose\nprivate String userName;\n@Expose\nprivate String password;\n</code></pre>\n<p>Or, you could remove <code>excludeFieldsWithoutExposeAnnotation()</code> from the <code>GsonBuilder</code>.</p>\n"},{"tags":[],"owner":{"account_id":3564480,"reputation":1938,"user_id":2976424,"display_name":"Kumaresan Perumal"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1574053556,"creation_date":1464263364,"answer_id":37460066,"question_id":37459368,"body_markdown":"Try like this, please. Here is the example class:\r\n\r\n    class AngilinaJoile {\r\n        private String name;\r\n\r\n        // setter\r\n    \r\n        // getter  \r\n    }\r\n\r\n\r\nAnd here is how you deserialize it with Gson:\r\n \r\n    Gson gson = new Gson();  \r\n    String jsonInString = &quot;{&#39;name&#39; : &#39;kumaresan perumal&#39;}&quot;;\r\n    AngilinaJoile angel = gson.fromJson(jsonInString, AngilinaJoile.class);","title":"gson.fromJson return null values","body":"<p>Try like this, please. Here is the example class:</p>\n\n<pre><code>class AngilinaJoile {\n    private String name;\n\n    // setter\n\n    // getter  \n}\n</code></pre>\n\n<p>And here is how you deserialize it with Gson:</p>\n\n<pre><code>Gson gson = new Gson();  \nString jsonInString = \"{'name' : 'kumaresan perumal'}\";\nAngilinaJoile angel = gson.fromJson(jsonInString, AngilinaJoile.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8667660,"reputation":35,"user_id":6487536,"display_name":"Divyanshu Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673241893,"creation_date":1673241818,"answer_id":75053452,"question_id":37459368,"body_markdown":"Adding what resolved this for me.\r\nSo in my API following gson implementation was getting used:\r\n\r\n    Gson gson = new GsonBuilder().setFieldNamingPolicy(FieldNamingPolicy.LOWER_CASE_WITH_UNDERSCORES).create();\r\n\r\nI had to use the same implementation in my test, before which gson was failing to parse attributes.\r\n\r\nSo in essence check how your gson is configured in api/handler, and use same configuration in your test.","title":"gson.fromJson return null values","body":"<p>Adding what resolved this for me.\nSo in my API following gson implementation was getting used:</p>\n<pre><code>Gson gson = new GsonBuilder().setFieldNamingPolicy(FieldNamingPolicy.LOWER_CASE_WITH_UNDERSCORES).create();\n</code></pre>\n<p>I had to use the same implementation in my test, before which gson was failing to parse attributes.</p>\n<p>So in essence check how your gson is configured in api/handler, and use same configuration in your test.</p>\n"}],"owner":{"account_id":2660325,"reputation":241,"user_id":2300182,"accept_rate":29,"display_name":"PAncho"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24000,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":37459768,"answer_count":3,"score":10,"last_activity_date":1673241893,"creation_date":1464261563,"question_id":37459368,"body_markdown":"This is My JSON String : `&quot;{&#39;userName&#39; : &#39;Bachooo&#39;}&quot;`\r\n\r\nConverting JSON String to **LoginVO** logic is:\r\n\r\n    Gson gson = new GsonBuilder().excludeFieldsWithoutExposeAnnotation().create();\r\n    LoginVO loginFrom  = gson.fromJson(jsonInString, LoginVO.class);\r\n    System.out.println(&quot;userName &quot; + loginFrom.getUserName()); // output null\r\n\r\n\r\nMy **LoginVO.class** is:\r\n\r\n\r\n    public class LoginVO {\r\n\r\n\t private String userName;\r\n\t private String password;\r\n\t\r\n\t public String getUserName()\r\n\t {\r\n\t\treturn userName;\r\n\t }\r\n\t public void setUserName(String userName)\r\n\t {\r\n\t\tthis.userName = userName;\r\n\t }\r\n\t public String getPassword()\r\n\t {\r\n\t\treturn password;\r\n\t }\r\n\t public void setPassword(String password)\r\n\t {\r\n\t\tthis.password = password;\r\n\t }\r\n\r\n    }\r\n\r\nNote I am using **jdk 1.8.0_92** \r\n\r\nOutput of loginForm.getUserName() is `NULL` instead of `&quot;Bachooo&quot;` any idea about this issue?","title":"gson.fromJson return null values","body":"<p>This is My JSON String : <code>\"{'userName' : 'Bachooo'}\"</code></p>\n\n<p>Converting JSON String to <strong>LoginVO</strong> logic is:</p>\n\n<pre><code>Gson gson = new GsonBuilder().excludeFieldsWithoutExposeAnnotation().create();\nLoginVO loginFrom  = gson.fromJson(jsonInString, LoginVO.class);\nSystem.out.println(\"userName \" + loginFrom.getUserName()); // output null\n</code></pre>\n\n<p>My <strong>LoginVO.class</strong> is:</p>\n\n<pre><code>public class LoginVO {\n\n private String userName;\n private String password;\n\n public String getUserName()\n {\n    return userName;\n }\n public void setUserName(String userName)\n {\n    this.userName = userName;\n }\n public String getPassword()\n {\n    return password;\n }\n public void setPassword(String password)\n {\n    this.password = password;\n }\n\n}\n</code></pre>\n\n<p>Note I am using <strong>jdk 1.8.0_92</strong> </p>\n\n<p>Output of loginForm.getUserName() is <code>NULL</code> instead of <code>\"Bachooo\"</code> any idea about this issue?</p>\n"},{"tags":["java","spring","pdf","resttemplate"],"comments":[{"owner":{"account_id":179170,"reputation":5588,"user_id":411645,"accept_rate":88,"display_name":"Thomas Junk"},"score":5,"creation_date":1409073808,"post_id":25510498,"comment_id":39825169,"body_markdown":"http://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/converter/ByteArrayHttpMessageConverter.html would be, what you are looking for","body":"<a href=\"http://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/converter/ByteArrayHttpMessageConverter.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-framework/docs/current/javadoc-api/org&zwnj;&#8203;/&hellip;</a> would be, what you are looking for"}],"answers":[{"comments":[{"owner":{"account_id":9792136,"reputation":715,"user_id":10371569,"display_name":"FBH"},"score":1,"creation_date":1533287635,"post_id":25514612,"comment_id":90301004,"body_markdown":"You can replace by\nList&lt;MediaType&gt; supportedApplicationTypes = new ArrayList&lt;&gt;();\n...\nList&lt;HttpMessageConverter&lt;?&gt;&gt; messageConverters = new ArrayList&lt;&gt;();","body":"You can replace by List&lt;MediaType&gt; supportedApplicationTypes = new ArrayList&lt;&gt;(); ... List&lt;HttpMessageConverter&lt;?&gt;&gt; messageConverters = new ArrayList&lt;&gt;();"}],"tags":[],"owner":{"account_id":3651435,"reputation":383,"user_id":3043516,"display_name":"ak1984"},"comment_count":1,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1591875706,"creation_date":1409084902,"answer_id":25514612,"question_id":25510498,"body_markdown":"Thanks Thomas it worked. \r\n\r\nI added ByteArrayHttpMessageConverter to the RestTemplate and it worked. \r\n\r\nCode I added: \r\n\r\n    ByteArrayHttpMessageConverter byteArrayHttpMessageConverter = new ByteArrayHttpMessageConverter();\r\n    \r\n    List&lt;MediaType&gt; supportedApplicationTypes = new ArrayList&lt;&gt;();\r\n    MediaType pdfApplication = new MediaType(&quot;application&quot;,&quot;pdf&quot;);\r\n    supportedApplicationTypes.add(pdfApplication);\r\n    \r\n    byteArrayHttpMessageConverter.setSupportedMediaTypes(supportedApplicationTypes);\r\n    List&lt;HttpMessageConverter&lt;?&gt;&gt; messageConverters = new ArrayList&lt;&gt;();\r\n    messageConverters.add(byteArrayHttpMessageConverter);\r\n    restTemplate = new RestTemplate();\r\n    restTemplate.setMessageConverters(messageConverters);\r\n    \r\n    Object result = getRestTemplate().getForObject(url, returnClass, parameters);\r\n    byte[] resultByteArr = (byte[])result;","title":"How to receive application/pdf response from a server using RestTemplate","body":"<p>Thanks Thomas it worked. </p>\n\n<p>I added ByteArrayHttpMessageConverter to the RestTemplate and it worked. </p>\n\n<p>Code I added: </p>\n\n<pre><code>ByteArrayHttpMessageConverter byteArrayHttpMessageConverter = new ByteArrayHttpMessageConverter();\n\nList&lt;MediaType&gt; supportedApplicationTypes = new ArrayList&lt;&gt;();\nMediaType pdfApplication = new MediaType(\"application\",\"pdf\");\nsupportedApplicationTypes.add(pdfApplication);\n\nbyteArrayHttpMessageConverter.setSupportedMediaTypes(supportedApplicationTypes);\nList&lt;HttpMessageConverter&lt;?&gt;&gt; messageConverters = new ArrayList&lt;&gt;();\nmessageConverters.add(byteArrayHttpMessageConverter);\nrestTemplate = new RestTemplate();\nrestTemplate.setMessageConverters(messageConverters);\n\nObject result = getRestTemplate().getForObject(url, returnClass, parameters);\nbyte[] resultByteArr = (byte[])result;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7654872,"reputation":109,"user_id":5802185,"display_name":"RoshanS"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1673241270,"creation_date":1636956372,"answer_id":69970047,"question_id":25510498,"body_markdown":"API  I  calling to get  PDF  is returning  `InputStreamResource`. \r\nTo get the response, I  used it this way and  I was able to get a successful byte array of pdf.\r\n\r\n```\r\npublic byte[] callApiToGetPDF(Object  reqData) {\r\n\t\r\n\tString urlForEndPoint= baseUrl + &quot;/&quot; +    &quot;&quot;;   \r\n\tHttpEntity&lt;Object&gt; entity = new HttpEntity&lt;&gt;(reqData, buildHeaders());\r\n\treturn restTemplate.postForEntity(urlForEndPoint, entity, byte[].class).getBody();\r\n}\r\n```\r\n\r\n","title":"How to receive application/pdf response from a server using RestTemplate","body":"<p>API  I  calling to get  PDF  is returning  <code>InputStreamResource</code>.\nTo get the response, I  used it this way and  I was able to get a successful byte array of pdf.</p>\n<pre><code>public byte[] callApiToGetPDF(Object  reqData) {\n    \n    String urlForEndPoint= baseUrl + &quot;/&quot; +    &quot;&quot;;   \n    HttpEntity&lt;Object&gt; entity = new HttpEntity&lt;&gt;(reqData, buildHeaders());\n    return restTemplate.postForEntity(urlForEndPoint, entity, byte[].class).getBody();\n}\n</code></pre>\n"}],"owner":{"account_id":3651435,"reputation":383,"user_id":3043516,"display_name":"ak1984"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23569,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":2,"score":10,"last_activity_date":1673241270,"creation_date":1409069618,"question_id":25510498,"body_markdown":"I am trying capture the response of an HTTP request made by my java client code. The response has a content-type of `application/pdf`. In the logs I can see that the server sent a response in \r\n\r\n    Object result = getRestTemplate().postForObject(urlString, formDataHttpEntity, returnClassObject, parametersMapStringString);\r\n\r\nand I get the following JUnit error:\r\n\r\n&gt; org.springframework.web.client.RestClientException: Could not extract response: no suitable HttpMessageConverter found for response type\r\n&gt; [java.lang.Object] and content type [application/pdf]\r\n\r\nWhat do I need to do to get past this? My ultimate goal is to take this in a `byte[]` and push it in a DB table field of blob type\r\n\r\nNote: I get the following response header from the server\r\n\r\n&gt; HTTP/1.1 200 OK Cache-Control: max-age=0,must-revalidate&lt;br&gt;\r\n&gt; Content-Disposition: attachment; filename=&quot;Executive Summary.PDF&quot;&lt;br&gt;\r\n&gt; Content-Type: application/pdf\r\n\r\n","title":"How to receive application/pdf response from a server using RestTemplate","body":"<p>I am trying capture the response of an HTTP request made by my java client code. The response has a content-type of <code>application/pdf</code>. In the logs I can see that the server sent a response in </p>\n\n<pre><code>Object result = getRestTemplate().postForObject(urlString, formDataHttpEntity, returnClassObject, parametersMapStringString);\n</code></pre>\n\n<p>and I get the following JUnit error:</p>\n\n<blockquote>\n  <p>org.springframework.web.client.RestClientException: Could not extract response: no suitable HttpMessageConverter found for response type\n  [java.lang.Object] and content type [application/pdf]</p>\n</blockquote>\n\n<p>What do I need to do to get past this? My ultimate goal is to take this in a <code>byte[]</code> and push it in a DB table field of blob type</p>\n\n<p>Note: I get the following response header from the server</p>\n\n<blockquote>\n  <p>HTTP/1.1 200 OK Cache-Control: max-age=0,must-revalidate<br>\n  Content-Disposition: attachment; filename=\"Executive Summary.PDF\"<br>\n  Content-Type: application/pdf</p>\n</blockquote>\n"},{"tags":["java","android","kotlin","android-glide"],"comments":[{"owner":{"account_id":24121929,"reputation":9,"user_id":18090964,"display_name":"띵바이러스"},"score":0,"creation_date":1673229847,"post_id":75052548,"comment_id":132444539,"body_markdown":"Example image url is &quot;https://ifh.cc/g/XxQmXH.png&quot;","body":"Example image url is &quot;<a href=\"https://ifh.cc/g/XxQmXH.png\" rel=\"nofollow noreferrer\">ifh.cc/g/XxQmXH.png</a>&quot;"}],"answers":[{"tags":[],"owner":{"account_id":27431313,"reputation":63,"user_id":20927962,"display_name":"Rachit Garg"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673241212,"creation_date":1673241212,"answer_id":75053411,"question_id":75052548,"body_markdown":"You should try defining the alertDialog like this:\r\n\r\n    val alertDialog : AlertDialog =  MaterialAlertDialogBuilder(this, R.style.MyRounded_MaterialComponents_MaterialAlertDialog)  // for fragment you can use getActivity() instead of this\r\n\r\nand style like this:\r\n\r\n    &lt;style name=&quot;MyRounded.MaterialComponents.MaterialAlertDialog&quot; \r\n        parent=&quot;@style/ThemeOverlay.MaterialComponents.MaterialAlertDialog&quot;&gt;\r\n\r\n        &lt;item name=&quot;shapeAppearanceOverlay&quot;&gt;\r\n            @style/ShapeAppearanceOverlay.App.CustomDialog.Rounded\r\n        &lt;/item&gt;\r\n        &lt;item name=&quot;colorSurface&quot;&gt;\r\n            @color/YOUR_COLOR\r\n        &lt;/item&gt;\r\n    &lt;/style&gt;\r\n\r\n    &lt;style name=&quot;ShapeAppearanceOverlay.App.CustomDialog.Rounded&quot; parent=&quot;&quot;&gt;\r\n        &lt;item name=&quot;cornerFamily&quot;&gt;\r\n            rounded\r\n        &lt;/item&gt;\r\n        &lt;item name=&quot;cornerSize&quot;&gt;\r\n            4dp\r\n        &lt;/item&gt;\r\n    &lt;/style&gt;\r\n","title":"Glide - Rounded Corner size different","body":"<p>You should try defining the alertDialog like this:</p>\n<pre><code>val alertDialog : AlertDialog =  MaterialAlertDialogBuilder(this, R.style.MyRounded_MaterialComponents_MaterialAlertDialog)  // for fragment you can use getActivity() instead of this\n</code></pre>\n<p>and style like this:</p>\n<pre><code>&lt;style name=&quot;MyRounded.MaterialComponents.MaterialAlertDialog&quot; \n    parent=&quot;@style/ThemeOverlay.MaterialComponents.MaterialAlertDialog&quot;&gt;\n\n    &lt;item name=&quot;shapeAppearanceOverlay&quot;&gt;\n        @style/ShapeAppearanceOverlay.App.CustomDialog.Rounded\n    &lt;/item&gt;\n    &lt;item name=&quot;colorSurface&quot;&gt;\n        @color/YOUR_COLOR\n    &lt;/item&gt;\n&lt;/style&gt;\n\n&lt;style name=&quot;ShapeAppearanceOverlay.App.CustomDialog.Rounded&quot; parent=&quot;&quot;&gt;\n    &lt;item name=&quot;cornerFamily&quot;&gt;\n        rounded\n    &lt;/item&gt;\n    &lt;item name=&quot;cornerSize&quot;&gt;\n        4dp\n    &lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n"}],"owner":{"account_id":24121929,"reputation":9,"user_id":18090964,"display_name":"띵바이러스"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1673241212,"creation_date":1673229129,"question_id":75052548,"body_markdown":"I want to make 4dp rounded top corners image in a dialog.\r\n\r\n[![enter image description here](https://i.stack.imgur.com/QE15q.png)](https://i.stack.imgur.com/QE15q.png)\r\n\r\nBut when I gave 4dp(change to pixel), The imgae was made like this.\r\n\r\n[![enter image description here](https://i.stack.imgur.com/jdAsd.png)](https://i.stack.imgur.com/jdAsd.png)\r\n\r\nThe bottom corners are background drawable.\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;shape xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:shape=&quot;rectangle&quot;&gt;\r\n\r\n    &lt;solid android:color=&quot;@android:color/white&quot; /&gt;\r\n\r\n    &lt;corners\r\n        android:bottomRightRadius=&quot;4dp&quot; /&gt;\r\n\r\n&lt;/shape&gt;\r\n```\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;shape xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:shape=&quot;rectangle&quot;&gt;\r\n\r\n    &lt;solid android:color=&quot;@android:color/white&quot; /&gt;\r\n\r\n    &lt;corners\r\n        android:bottomLeftRadius=&quot;4dp&quot; /&gt;\r\n\r\n&lt;/shape&gt;\r\n```\r\n\r\nI tried like this code. help me plz &#128546;&#128546;\r\n\r\n```\r\n    private fun initView() {\r\n        val dm = ctx.resources.displayMetrics\r\n        val width = dm.widthPixels - 60\r\n        val radius = dpToPx(4).toFloat()\r\n\r\n        window?.run {\r\n            setLayout(width, ViewGroup.LayoutParams.WRAP_CONTENT)\r\n            setBackgroundDrawable(ColorDrawable(Color.TRANSPARENT))\r\n        }\r\n\r\n        Glide.with(ctx)\r\n            .load(quizNoticeImage)\r\n            .transform(GranularRoundedCorners(radius, radius, 0f, 0f))\r\n            .listener(object : RequestListener&lt;Drawable&gt; {\r\n                override fun onLoadFailed(\r\n                    e: GlideException?,\r\n                    model: Any?,\r\n                    target: Target&lt;Drawable&gt;?,\r\n                    isFirstResource: Boolean\r\n                ): Boolean {\r\n                    noShowAgain()\r\n                    return false\r\n                }\r\n\r\n                override fun onResourceReady(\r\n                    resource: Drawable?,\r\n                    model: Any?,\r\n                    target: Target&lt;Drawable&gt;?,\r\n                    dataSource: DataSource?,\r\n                    isFirstResource: Boolean\r\n                ): Boolean {\r\n                    vBarHorizontal.visible()\r\n                    vBarVertical.visible()\r\n                    tvNoShowAgain.visible()\r\n                    tvClose.visible()\r\n                    return false\r\n                }\r\n            })\r\n            .into(ivQuiz)\r\n\r\n        ivQuiz.setOnClickListener(this)\r\n        tvNoShowAgain.setOnClickListener(this)\r\n        tvClose.setOnClickListener(this)\r\n    }\r\n```\r\n\r\nI tried glide - overide, shapable imgae etc.. but I can&#39;t make this.\r\nThe first image is 12dp(change to pixel)","title":"Glide - Rounded Corner size different","body":"<p>I want to make 4dp rounded top corners image in a dialog.</p>\n<p><a href=\"https://i.stack.imgur.com/QE15q.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QE15q.png\" alt=\"enter image description here\" /></a></p>\n<p>But when I gave 4dp(change to pixel), The imgae was made like this.</p>\n<p><a href=\"https://i.stack.imgur.com/jdAsd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jdAsd.png\" alt=\"enter image description here\" /></a></p>\n<p>The bottom corners are background drawable.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;shape xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:shape=&quot;rectangle&quot;&gt;\n\n    &lt;solid android:color=&quot;@android:color/white&quot; /&gt;\n\n    &lt;corners\n        android:bottomRightRadius=&quot;4dp&quot; /&gt;\n\n&lt;/shape&gt;\n</code></pre>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;shape xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:shape=&quot;rectangle&quot;&gt;\n\n    &lt;solid android:color=&quot;@android:color/white&quot; /&gt;\n\n    &lt;corners\n        android:bottomLeftRadius=&quot;4dp&quot; /&gt;\n\n&lt;/shape&gt;\n</code></pre>\n<p>I tried like this code. help me plz 😢😢</p>\n<pre><code>    private fun initView() {\n        val dm = ctx.resources.displayMetrics\n        val width = dm.widthPixels - 60\n        val radius = dpToPx(4).toFloat()\n\n        window?.run {\n            setLayout(width, ViewGroup.LayoutParams.WRAP_CONTENT)\n            setBackgroundDrawable(ColorDrawable(Color.TRANSPARENT))\n        }\n\n        Glide.with(ctx)\n            .load(quizNoticeImage)\n            .transform(GranularRoundedCorners(radius, radius, 0f, 0f))\n            .listener(object : RequestListener&lt;Drawable&gt; {\n                override fun onLoadFailed(\n                    e: GlideException?,\n                    model: Any?,\n                    target: Target&lt;Drawable&gt;?,\n                    isFirstResource: Boolean\n                ): Boolean {\n                    noShowAgain()\n                    return false\n                }\n\n                override fun onResourceReady(\n                    resource: Drawable?,\n                    model: Any?,\n                    target: Target&lt;Drawable&gt;?,\n                    dataSource: DataSource?,\n                    isFirstResource: Boolean\n                ): Boolean {\n                    vBarHorizontal.visible()\n                    vBarVertical.visible()\n                    tvNoShowAgain.visible()\n                    tvClose.visible()\n                    return false\n                }\n            })\n            .into(ivQuiz)\n\n        ivQuiz.setOnClickListener(this)\n        tvNoShowAgain.setOnClickListener(this)\n        tvClose.setOnClickListener(this)\n    }\n</code></pre>\n<p>I tried glide - overide, shapable imgae etc.. but I can't make this.\nThe first image is 12dp(change to pixel)</p>\n"},{"tags":["java","selenium","selenium-webdriver","automation","testng"],"answers":[{"comments":[{"owner":{"account_id":10668049,"reputation":773,"user_id":15061831,"display_name":"JustToKnow"},"score":0,"creation_date":1673260076,"post_id":75053348,"comment_id":132450273,"body_markdown":"Hey pal, is it possible for you to give me an example using @DataProvider and invocationcount to repeat this test with various parameter? i dont want to run 500 different selenium.Mytest1,selenium.Mytest2,selenium.Mytest3,selenium.Mytest4, etc","body":"Hey pal, is it possible for you to give me an example using @DataProvider and invocationcount to repeat this test with various parameter? i dont want to run 500 different selenium.Mytest1,selenium.Mytest2,selenium.Mytest3,selenium.&zwnj;&#8203;Mytest4, etc"}],"tags":[],"owner":{"account_id":11961012,"reputation":7343,"user_id":8752062,"display_name":"frianH"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673241111,"creation_date":1673240373,"answer_id":75053348,"question_id":75051399,"body_markdown":"Something wrong:\r\n 1. Even you have 2 initialize driver, your script recognized as one test only.\r\n 2. You have to give a condition how to submit a successful login.\r\n 3. For `username` and `password`, looks like you want the logs, but it doesn&#39;t look like it&#39;s set at all.\r\n\r\nApproach:\r\n 1. Create 2 `@Test` annotation for each test.\r\n 2. Mark what a successful login looks like., mostly with **`welcome home`**\r\n 3. Logs set, with : `import org.testng.Reporter;`\r\n\r\n```\r\n@Test\r\npublic void helloWorldTest1() {\r\n    ....\r\n\r\n    //logs set\r\n    String username = &quot;admin&quot;;\r\n    String password = &quot;admin&quot;;\r\n    Reporter.log(&quot;username = &quot; +username, true);\r\n    Reporter.log(&quot;password = &quot; +password, true);\r\n\r\n    driver.get(&quot;https://website234/backend/&quot;);\r\n    driver.findElement(By.id(&quot;username&quot;)).sendKeys(username);\r\n    driver.findElement(By.id(&quot;login&quot;)).sendKeys(password);\r\n    //here, i think need to submit login button\r\n    buttonLogin.click();\r\n    \r\n    //here, find a welcome home locator maybe\r\n    WebElement welcomeHome = driver.findElement(By.name(&quot;a locator&quot;));\r\n}\r\n\r\n@Test\r\npublic void helloWorldTest2() {\r\n    ....\r\n\r\n    //logs set\r\n    String username = &quot;admin&quot;;\r\n    String password = &quot;admin2&quot;;\r\n    Reporter.log(&quot;username = &quot; +username, true);\r\n    Reporter.log(&quot;password = &quot; +password, true);\r\n\r\n    driver.get(&quot;https://website234/backend/&quot;);\r\n    driver.findElement(By.id(&quot;username&quot;)).sendKeys(username);\r\n    driver.findElement(By.id(&quot;login&quot;)).sendKeys(password);\r\n    //here, i think need to submit login button\r\n    buttonLogin.click();\r\n    \r\n    //here, find a welcome home locator maybe\r\n    WebElement welcomeHome = driver.findElement(By.name(&quot;a locator&quot;));\r\n}\r\n```\r\nConsole output:\r\n[![console output][2]][2]\r\n\r\nNote : You can see logs in default report too `emailable-report.html`:\r\n\r\n[![emailable-report.html][1]][1]\r\n\r\nBtw there is way to achive this still with one **`@Test`**, you can learn about [**`@DataProvider`**](https://testng.org/doc/documentation-main.html#parameters-dataproviders) and `invocationcount` to repeat this test with various parameter.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ib1Ip.png\r\n  [2]: https://i.stack.imgur.com/KaFNY.png","title":"Counting number of successes and failures in TESTNG and Java (selenium)","body":"<p>Something wrong:</p>\n<ol>\n<li>Even you have 2 initialize driver, your script recognized as one test only.</li>\n<li>You have to give a condition how to submit a successful login.</li>\n<li>For <code>username</code> and <code>password</code>, looks like you want the logs, but it doesn't look like it's set at all.</li>\n</ol>\n<p>Approach:</p>\n<ol>\n<li>Create 2 <code>@Test</code> annotation for each test.</li>\n<li>Mark what a successful login looks like., mostly with <strong><code>welcome home</code></strong></li>\n<li>Logs set, with : <code>import org.testng.Reporter;</code></li>\n</ol>\n<pre><code>@Test\npublic void helloWorldTest1() {\n    ....\n\n    //logs set\n    String username = &quot;admin&quot;;\n    String password = &quot;admin&quot;;\n    Reporter.log(&quot;username = &quot; +username, true);\n    Reporter.log(&quot;password = &quot; +password, true);\n\n    driver.get(&quot;https://website234/backend/&quot;);\n    driver.findElement(By.id(&quot;username&quot;)).sendKeys(username);\n    driver.findElement(By.id(&quot;login&quot;)).sendKeys(password);\n    //here, i think need to submit login button\n    buttonLogin.click();\n    \n    //here, find a welcome home locator maybe\n    WebElement welcomeHome = driver.findElement(By.name(&quot;a locator&quot;));\n}\n\n@Test\npublic void helloWorldTest2() {\n    ....\n\n    //logs set\n    String username = &quot;admin&quot;;\n    String password = &quot;admin2&quot;;\n    Reporter.log(&quot;username = &quot; +username, true);\n    Reporter.log(&quot;password = &quot; +password, true);\n\n    driver.get(&quot;https://website234/backend/&quot;);\n    driver.findElement(By.id(&quot;username&quot;)).sendKeys(username);\n    driver.findElement(By.id(&quot;login&quot;)).sendKeys(password);\n    //here, i think need to submit login button\n    buttonLogin.click();\n    \n    //here, find a welcome home locator maybe\n    WebElement welcomeHome = driver.findElement(By.name(&quot;a locator&quot;));\n}\n</code></pre>\n<p>Console output:\n<a href=\"https://i.stack.imgur.com/KaFNY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KaFNY.png\" alt=\"console output\" /></a></p>\n<p>Note : You can see logs in default report too <code>emailable-report.html</code>:</p>\n<p><a href=\"https://i.stack.imgur.com/ib1Ip.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ib1Ip.png\" alt=\"emailable-report.html\" /></a></p>\n<p>Btw there is way to achive this still with one <strong><code>@Test</code></strong>, you can learn about <a href=\"https://testng.org/doc/documentation-main.html#parameters-dataproviders\" rel=\"nofollow noreferrer\"><strong><code>@DataProvider</code></strong></a> and <code>invocationcount</code> to repeat this test with various parameter.</p>\n"}],"owner":{"account_id":10668049,"reputation":773,"user_id":15061831,"display_name":"JustToKnow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":126,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1673241111,"creation_date":1673212881,"question_id":75051399,"body_markdown":"I have a little JAVA program that login into a website\r\n\r\n    package testingProgram;\r\n    import org.openqa.selenium.By;\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.chrome.ChromeDriver;\r\n    import org.testng.annotations.Test;\r\n    \r\n    public class testingProgram {\r\n    \r\n    \t@Test\r\n    \tpublic void helloWorldTest() {\r\n    \t\tSystem.out.println(&quot;Hello World!&quot;);\r\n    \t\t\r\n    \t\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;C:\\\\Users\\\\Steve\\\\Desktop\\\\chromedriver.exe&quot;);\r\n    \r\n    \t\tWebDriver driver = new ChromeDriver(); \r\n    \r\n    \t\tdriver.get(&quot;https://website234/backend/&quot;);\r\n    \t\tdriver.findElement(By.id(&quot;username&quot;)).sendKeys(&quot;admin&quot;);\r\n    \t\tdriver.findElement(By.id(&quot;login&quot;)).sendKeys(&quot;admin&quot;);\r\n    \t\tdriver.close();\r\n    \t\t\r\n    \t\tWebDriver driver2 = new ChromeDriver(); \r\n    \t\tdriver2.get(&quot;https://website234/backend/&quot;);\r\n    \t\tdriver2.findElement(By.id(&quot;username&quot;)).sendKeys(&quot;admin&quot;);\r\n    \t\tdriver2.findElement(By.id(&quot;login&quot;)).sendKeys(&quot;admin2&quot;);\r\n    \t}\r\n    }\r\n\r\n\r\n&gt; Note: in my example the correct login is:\r\n&gt; \r\n&gt; username = admin and password = admin\r\n\r\n-------------------------------------------------------------------\r\n\r\nIt opens 2 chrome sessions and tries to login by using different passwords.\r\n\r\nIf it fails login it throws and error message like this:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nMy testng test shows this:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nBut i want the output to tell me how many tests passed and in my case only one username and password worked correctly.\r\n\r\n**Expected result:**\r\n\r\n        Default test\r\n        Tests run: 1, Failures: 0, Skips: 0\r\n    ===============================================\r\n    \r\n    \r\n    ===============================================\r\n    Default suite\r\n    Total tests run: 1, Passes: 1 (username = admin, password = admin), Failures: 1 (username = admin, password = admin2), Skips: 0\r\n\r\nbecause i was able to login by using username = admin and password = admin but it wont be able to login using username = admin and password = admin2\r\n\r\nHow can i achieve something like that?\r\n\r\n  [1]: https://i.stack.imgur.com/s6X4k.png\r\n  [2]: https://i.stack.imgur.com/7xMAH.png","title":"Counting number of successes and failures in TESTNG and Java (selenium)","body":"<p>I have a little JAVA program that login into a website</p>\n<pre><code>package testingProgram;\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport org.testng.annotations.Test;\n\npublic class testingProgram {\n\n    @Test\n    public void helloWorldTest() {\n        System.out.println(&quot;Hello World!&quot;);\n        \n        System.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;C:\\\\Users\\\\Steve\\\\Desktop\\\\chromedriver.exe&quot;);\n\n        WebDriver driver = new ChromeDriver(); \n\n        driver.get(&quot;https://website234/backend/&quot;);\n        driver.findElement(By.id(&quot;username&quot;)).sendKeys(&quot;admin&quot;);\n        driver.findElement(By.id(&quot;login&quot;)).sendKeys(&quot;admin&quot;);\n        driver.close();\n        \n        WebDriver driver2 = new ChromeDriver(); \n        driver2.get(&quot;https://website234/backend/&quot;);\n        driver2.findElement(By.id(&quot;username&quot;)).sendKeys(&quot;admin&quot;);\n        driver2.findElement(By.id(&quot;login&quot;)).sendKeys(&quot;admin2&quot;);\n    }\n}\n</code></pre>\n<blockquote>\n<p>Note: in my example the correct login is:</p>\n<p>username = admin and password = admin</p>\n</blockquote>\n<hr />\n<p>It opens 2 chrome sessions and tries to login by using different passwords.</p>\n<p>If it fails login it throws and error message like this:</p>\n<p><a href=\"https://i.stack.imgur.com/s6X4k.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/s6X4k.png\" alt=\"enter image description here\" /></a></p>\n<p>My testng test shows this:</p>\n<p><a href=\"https://i.stack.imgur.com/7xMAH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7xMAH.png\" alt=\"enter image description here\" /></a></p>\n<p>But i want the output to tell me how many tests passed and in my case only one username and password worked correctly.</p>\n<p><strong>Expected result:</strong></p>\n<pre><code>    Default test\n    Tests run: 1, Failures: 0, Skips: 0\n===============================================\n\n\n===============================================\nDefault suite\nTotal tests run: 1, Passes: 1 (username = admin, password = admin), Failures: 1 (username = admin, password = admin2), Skips: 0\n</code></pre>\n<p>because i was able to login by using username = admin and password = admin but it wont be able to login using username = admin and password = admin2</p>\n<p>How can i achieve something like that?</p>\n"},{"tags":["java","reactjs","json","security","next.js"],"comments":[{"owner":{"account_id":18508059,"reputation":821,"user_id":13483939,"display_name":"Shubham Waje"},"score":1,"creation_date":1673245701,"post_id":75053369,"comment_id":132446488,"body_markdown":"From where `allowedUser` coming from? From the server or you have hardcoded json file there which I&#39;m assuming is the case.","body":"From where <code>allowedUser</code> coming from? From the server or you have hardcoded json file there which I&#39;m assuming is the case."},{"owner":{"account_id":26846582,"reputation":179,"user_id":20432259,"display_name":"KnightTheLion"},"score":0,"creation_date":1673246515,"post_id":75053369,"comment_id":132446658,"body_markdown":"its in the Next pages/api folder. I checked in the sources in dev tools and its hidden like its supposed to be. But of course its parsed in my login.js to show the array","body":"its in the Next pages/api folder. I checked in the sources in dev tools and its hidden like its supposed to be. But of course its parsed in my login.js to show the array"}],"owner":{"account_id":26846582,"reputation":179,"user_id":20432259,"display_name":"KnightTheLion"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1673240655,"creation_date":1673240655,"question_id":75053369,"body_markdown":"I am fairly new to Next and React, and I really don&#39;t know a whole lot about backend anything except very basic knowledge for how models and using the data works. \r\n\r\nOk, so far the method I have used is working. However, I went to the client side and the login.js file obviously showed the JSON file items in the allowed-users.json because I imported it and checked the array for the allowed users. The logic works and only the emails on the list can login with Google Auth. \r\n\r\nThis is not a major issue because the app idea I am coming up with is not supposed to be a site pushed to production with a lot of publicity, but I still would like to know something I could do to make this secure to learn.\r\n\r\nI am open to any suggestions, or any correction on anything I am doing that is not good practice. I am here to learn. What I did in this code is just a test to get it to work, and the whole project is just to test out using the NextAuth with Google to give users permissions on the site to implement an Admin, Employee, Client system for the accounts.\r\n\r\nMy Code:\r\n\r\n\r\n```\r\nimport React from &quot;react&quot;;\r\nimport { useSession, signIn, signOut } from &quot;next-auth/react&quot;;\r\nimport GoogleButton from &quot;react-google-button&quot;;\r\nimport { useRouter } from &quot;next/router&quot;;\r\nimport allowedUsers from &quot;./api/allowed-users.json&quot;;\r\n\r\nconst Login = () =&gt; {\r\n  const { data: session } = useSession();\r\n  const router = useRouter();\r\n\r\n  console.log(session);\r\n\r\n  if (!session) {\r\n    return (\r\n      &lt;div className=&quot;flex justify-center items-center content-center h-full&quot;&gt;\r\n        &lt;div&gt;\r\n          &lt;GoogleButton onClick={() =&gt; signIn()} /&gt;\r\n        &lt;/div&gt;\r\n      &lt;/div&gt;\r\n    );\r\n  }\r\n  if (session &amp;&amp; allowedUsers.includes(session.user.email) ) {\r\n    router.push(&quot;/account&quot;);\r\n  } else {\r\n    const exitLogin = () =&gt; signOut();\r\n    exitLogin();\r\n  }\r\n};\r\n\r\nexport default Login;\r\n\r\n```\r\n\r\n\r\n\r\nI have tried reading Next documentation on handling JSON and also API calls, but like I said, I am fairly new to this. I come from old school HTML / CSS / with simple JavaScript for simple sites. I am trying to broaden my knowledge to learn how to develop apps and sites that are viable nowadays. \r\n\r\nIf anyone has good documentation I should read please link it, or if you know a tutorial somewhere I can read through or watch that covers a topic similar to this.\r\n\r\nThanks! \r\n\r\nKnight","title":"Creating an &quot;allowed-users&quot; list in Next.Js while implementing Google Auth","body":"<p>I am fairly new to Next and React, and I really don't know a whole lot about backend anything except very basic knowledge for how models and using the data works.</p>\n<p>Ok, so far the method I have used is working. However, I went to the client side and the login.js file obviously showed the JSON file items in the allowed-users.json because I imported it and checked the array for the allowed users. The logic works and only the emails on the list can login with Google Auth.</p>\n<p>This is not a major issue because the app idea I am coming up with is not supposed to be a site pushed to production with a lot of publicity, but I still would like to know something I could do to make this secure to learn.</p>\n<p>I am open to any suggestions, or any correction on anything I am doing that is not good practice. I am here to learn. What I did in this code is just a test to get it to work, and the whole project is just to test out using the NextAuth with Google to give users permissions on the site to implement an Admin, Employee, Client system for the accounts.</p>\n<p>My Code:</p>\n<pre><code>import React from &quot;react&quot;;\nimport { useSession, signIn, signOut } from &quot;next-auth/react&quot;;\nimport GoogleButton from &quot;react-google-button&quot;;\nimport { useRouter } from &quot;next/router&quot;;\nimport allowedUsers from &quot;./api/allowed-users.json&quot;;\n\nconst Login = () =&gt; {\n  const { data: session } = useSession();\n  const router = useRouter();\n\n  console.log(session);\n\n  if (!session) {\n    return (\n      &lt;div className=&quot;flex justify-center items-center content-center h-full&quot;&gt;\n        &lt;div&gt;\n          &lt;GoogleButton onClick={() =&gt; signIn()} /&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n    );\n  }\n  if (session &amp;&amp; allowedUsers.includes(session.user.email) ) {\n    router.push(&quot;/account&quot;);\n  } else {\n    const exitLogin = () =&gt; signOut();\n    exitLogin();\n  }\n};\n\nexport default Login;\n\n</code></pre>\n<p>I have tried reading Next documentation on handling JSON and also API calls, but like I said, I am fairly new to this. I come from old school HTML / CSS / with simple JavaScript for simple sites. I am trying to broaden my knowledge to learn how to develop apps and sites that are viable nowadays.</p>\n<p>If anyone has good documentation I should read please link it, or if you know a tutorial somewhere I can read through or watch that covers a topic similar to this.</p>\n<p>Thanks!</p>\n<p>Knight</p>\n"},{"tags":["java","rest","ssl","oauth"],"comments":[{"owner":{"account_id":1203958,"reputation":18288,"user_id":1174054,"accept_rate":38,"display_name":"Takahiko Kawasaki"},"score":0,"creation_date":1466663902,"post_id":14242383,"comment_id":63412748,"body_markdown":"Do you want to implement an OAuth server ([RFC 6749](https://tools.ietf.org/html/rfc6749)) or just want to make a [token request](https://tools.ietf.org/html/rfc6749#section-4.1.3) as an OAuth client application?","body":"Do you want to implement an OAuth server (<a href=\"https://tools.ietf.org/html/rfc6749\" rel=\"nofollow noreferrer\">RFC 6749</a>) or just want to make a <a href=\"https://tools.ietf.org/html/rfc6749#section-4.1.3\" rel=\"nofollow noreferrer\">token request</a> as an OAuth client application?"}],"answers":[{"tags":[],"owner":{"account_id":319198,"reputation":3879,"user_id":636836,"display_name":"Mark S."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1357752514,"creation_date":1357752514,"answer_id":14242966,"question_id":14242383,"body_markdown":"I would use a [Java OAuth Library][1] to handle the OAuth portion of the code. \r\n\r\n\r\n  [1]: http://oauth.googlecode.com/svn/code/java/core/","title":"Simple Java OAuth example","body":"<p>I would use a <a href=\"http://oauth.googlecode.com/svn/code/java/core/\" rel=\"nofollow\">Java OAuth Library</a> to handle the OAuth portion of the code. </p>\n"}],"owner":{"account_id":1495127,"reputation":3189,"user_id":1401265,"accept_rate":29,"display_name":"PrecisionPete"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7784,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1673240440,"creation_date":1357750720,"question_id":14242383,"body_markdown":"I am trying to integrate Stripe (payment processor) with a Tomcat/JSP application. They have a library for most of it except the initial OAuth2 connection.\r\n\r\nNot being a Java/Net programmer, I am having trouble getting my head around implementing the  REST api in Java. \r\n\r\nTheir documentation does not cover Java very well but the cURL examples &quot;should&quot; be easy to work from. \r\n\r\nBasically I need to simulate this:\r\n\r\n    curl -X POST https://connect.stripe.com/oauth/token \\\r\n    -H &quot;Authorization: Bearer sk_test_123123123123&quot; \\\r\n    -d code=AUTHORIZATION_CODE \\\r\n    -d grant_type=authorization_code\r\n\r\nThen I need to parse the JSON response.\r\n\r\nCan anyone provide me with a code fragment to get me over this? Thanks","title":"Simple Java OAuth example","body":"<p>I am trying to integrate Stripe (payment processor) with a Tomcat/JSP application. They have a library for most of it except the initial OAuth2 connection.</p>\n\n<p>Not being a Java/Net programmer, I am having trouble getting my head around implementing the  REST api in Java. </p>\n\n<p>Their documentation does not cover Java very well but the cURL examples \"should\" be easy to work from. </p>\n\n<p>Basically I need to simulate this:</p>\n\n<pre><code>curl -X POST https://connect.stripe.com/oauth/token \\\n-H \"Authorization: Bearer sk_test_123123123123\" \\\n-d code=AUTHORIZATION_CODE \\\n-d grant_type=authorization_code\n</code></pre>\n\n<p>Then I need to parse the JSON response.</p>\n\n<p>Can anyone provide me with a code fragment to get me over this? Thanks</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":20326770,"reputation":5841,"user_id":14909980,"display_name":"TheEagle"},"score":0,"creation_date":1673218051,"post_id":75051812,"comment_id":132443142,"body_markdown":"We need the full traceback …","body":"We need the full traceback …"},{"owner":{"account_id":61252,"reputation":407513,"user_id":182668,"accept_rate":68,"display_name":"Pointy"},"score":0,"creation_date":1673218124,"post_id":75051812,"comment_id":132443152,"body_markdown":"what language is this? You don&#39;t declare variables with `int` in JavaScript.","body":"what language is this? You don&#39;t declare variables with <code>int</code> in JavaScript."},{"owner":{"account_id":3509196,"reputation":16493,"user_id":2933977,"display_name":"stdunbar"},"score":2,"creation_date":1673218151,"post_id":75051812,"comment_id":132443156,"body_markdown":"What version of Java does your project use (for me it&#39;s File -&gt; Project Structure -&gt; Language Level)?","body":"What version of Java does your project use (for me it&#39;s File -&gt; Project Structure -&gt; Language Level)?"},{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":1,"creation_date":1673218784,"post_id":75051812,"comment_id":132443226,"body_markdown":"@TheEagle compiler errors don&#39;t have tracebacks.","body":"@TheEagle compiler errors don&#39;t have tracebacks."}],"answers":[{"comments":[{"owner":{"display_name":"user20937564"},"score":0,"creation_date":1673240287,"post_id":75053319,"comment_id":132445740,"body_markdown":"Correct, if you are using java 10 then you must use all features available in java 10 so Language level also must be set to 10.","body":"Correct, if you are using java 10 then you must use all features available in java 10 so Language level also must be set to 10."}],"tags":[],"owner":{"display_name":"user19443549"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673240071,"creation_date":1673240071,"answer_id":75053319,"question_id":75051812,"body_markdown":"Language level 8 - Lambdas, type annotations etc will work only for Intellij and whenever you will try to build you application with any tool like gradle/maven with JDK 10, you will get this error as `var` is now reserved keyword in java 10 present in `java.lang` package.\r\n\r\nBest solution is that remove below import line from your code and change Language level to 10, as you are already using java 10 so you don&#39;t need to use `var` from lombok library, jdk 10 itself will provide you `var` keyword, to automatically detect the datatype of a variable based on the surrounding context.\r\n\r\n    import lombok.var;","title":"java: as of release 10, &#39;var&#39; is a restricted type name and cannot be used for type declarations or as the element type of an array","body":"<p>Language level 8 - Lambdas, type annotations etc will work only for Intellij and whenever you will try to build you application with any tool like gradle/maven with JDK 10, you will get this error as <code>var</code> is now reserved keyword in java 10 present in <code>java.lang</code> package.</p>\n<p>Best solution is that remove below import line from your code and change Language level to 10, as you are already using java 10 so you don't need to use <code>var</code> from lombok library, jdk 10 itself will provide you <code>var</code> keyword, to automatically detect the datatype of a variable based on the surrounding context.</p>\n<pre><code>import lombok.var;\n</code></pre>\n"}],"owner":{"account_id":17421490,"reputation":31,"user_id":12626979,"display_name":"kevin estrada"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":580,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"answer_count":1,"score":1,"last_activity_date":1673240071,"creation_date":1673217855,"question_id":75051812,"body_markdown":"I keep getting this from jetbrains intellij\r\njava: as of release 10, &#39;var&#39; is a restricted type name and cannot be used for type declarations or as the element type of an array.\r\n\r\n\r\n```\r\npackage com.ruse.world.content.collectionlog;\r\n\r\nimport com.ruse.model.definitions.NPCDrops;\r\nimport com.ruse.model.definitions.NpcDefinition;\r\nimport com.ruse.util.Misc;\r\nimport com.ruse.world.content.KillsTracker;\r\nimport com.ruse.world.content.TeleportInterface;\r\nimport com.ruse.world.entity.impl.player.Player;\r\nimport lombok.RequiredArgsConstructor;\r\nimport lombok.var;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.Objects;\r\n\r\n//import com.sun.scenario.effect.DropShadow;\r\n\r\n private void sendNpcData(int index) {\r\n        int received = 0;\r\n        int total = 0;\r\n        var definition = NpcDefinition.forId(currentlyViewing.get(index));\r\n        player.getPacketSender().resetItemsOnInterface(30375, 6 * 10);\r\n        player.getPacketSender().sendString(30368, &quot;&quot; + definition.getName() + &quot;&quot;);\r\n        player.getPacketSender().sendString(30369, &quot;Killcount: &quot; +\r\n                Misc.insertCommasToNumber(String.valueOf(KillsTracker.getTotalKillsForNpc(definition.getId(), player))));\r\n        var drops = NPCDrops.forId(definition.getId());\r\n        var slot = 0;\r\n        if (drops != null &amp;&amp; drops.getDropList() != null) {\r\n            for (var npcDrop : drops.getDropList()) { //smaller and equal too means very common, and always,\r\n                if (npcDrop.getChance() &lt;= 1) {\r\n                    continue;\r\n                }\r\n                if (hasObtainedItem(definition.getId(), npcDrop.getId())) {\r\n                    var item = player.getCollectionLogData().stream().filter(data -&gt; data.getNpcId() == definition.getId() &amp;&amp; data.getItem() == npcDrop.getId()).findFirst().get();\r\n                    player.getPacketSender().sendItemOnInterface(30375, item.getItem(), slot++, item.getAmount());\r\n                    received++;\r\n                } else {\r\n                    player.getPacketSender().sendItemOnInterface(30375, npcDrop.getId(), slot++, 0);\r\n                }\r\n                total++;\r\n            }\r\n        }\r\n        int lines = total / 6;\r\n        if (total % 6 &gt; 0)\r\n            lines++;\r\n        player.getPacketSender().setScrollMax(30385, lines * 40);\r\n        player.getPacketSender().sendString(30367, &quot;Obtained: @gre@&quot; + received + &quot;/&quot; + total + &quot;&quot;);\r\n    }\r\n```\r\n\r\nLanguage level 8 - Lambdas, type annotations etc.\r\n\r\nTrying to stop that error from showing up to build project","title":"java: as of release 10, &#39;var&#39; is a restricted type name and cannot be used for type declarations or as the element type of an array","body":"<p>I keep getting this from jetbrains intellij\njava: as of release 10, 'var' is a restricted type name and cannot be used for type declarations or as the element type of an array.</p>\n<pre><code>package com.ruse.world.content.collectionlog;\n\nimport com.ruse.model.definitions.NPCDrops;\nimport com.ruse.model.definitions.NpcDefinition;\nimport com.ruse.util.Misc;\nimport com.ruse.world.content.KillsTracker;\nimport com.ruse.world.content.TeleportInterface;\nimport com.ruse.world.entity.impl.player.Player;\nimport lombok.RequiredArgsConstructor;\nimport lombok.var;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Objects;\n\n//import com.sun.scenario.effect.DropShadow;\n\n private void sendNpcData(int index) {\n        int received = 0;\n        int total = 0;\n        var definition = NpcDefinition.forId(currentlyViewing.get(index));\n        player.getPacketSender().resetItemsOnInterface(30375, 6 * 10);\n        player.getPacketSender().sendString(30368, &quot;&quot; + definition.getName() + &quot;&quot;);\n        player.getPacketSender().sendString(30369, &quot;Killcount: &quot; +\n                Misc.insertCommasToNumber(String.valueOf(KillsTracker.getTotalKillsForNpc(definition.getId(), player))));\n        var drops = NPCDrops.forId(definition.getId());\n        var slot = 0;\n        if (drops != null &amp;&amp; drops.getDropList() != null) {\n            for (var npcDrop : drops.getDropList()) { //smaller and equal too means very common, and always,\n                if (npcDrop.getChance() &lt;= 1) {\n                    continue;\n                }\n                if (hasObtainedItem(definition.getId(), npcDrop.getId())) {\n                    var item = player.getCollectionLogData().stream().filter(data -&gt; data.getNpcId() == definition.getId() &amp;&amp; data.getItem() == npcDrop.getId()).findFirst().get();\n                    player.getPacketSender().sendItemOnInterface(30375, item.getItem(), slot++, item.getAmount());\n                    received++;\n                } else {\n                    player.getPacketSender().sendItemOnInterface(30375, npcDrop.getId(), slot++, 0);\n                }\n                total++;\n            }\n        }\n        int lines = total / 6;\n        if (total % 6 &gt; 0)\n            lines++;\n        player.getPacketSender().setScrollMax(30385, lines * 40);\n        player.getPacketSender().sendString(30367, &quot;Obtained: @gre@&quot; + received + &quot;/&quot; + total + &quot;&quot;);\n    }\n</code></pre>\n<p>Language level 8 - Lambdas, type annotations etc.</p>\n<p>Trying to stop that error from showing up to build project</p>\n"},{"tags":["java","android","unity-game-engine"],"owner":{"account_id":19674142,"reputation":1,"user_id":14402724,"display_name":"anon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":165,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673239358,"creation_date":1672990176,"question_id":75028101,"body_markdown":"I&#39;m trying to run a Unity game on the Android Studio emulator, but I&#39;m receiving the error below whenever I run it (either from building an apk from the Unity editor and running or from the play store): \r\n\r\n`AndroidJavaException: java.lang.ClassNotFoundException: com.unity3d.plugin.downloader.UnityDownloaderService\r\n                                                                                                    java.lang.ClassNotFoundException: com.unity3d.plugin.downloader.UnityDownloaderService\r\n                                                                                                    \tat java.lang.Class.classForName(Native Method)\r\n                                                                                                    \tat java.lang.Class.forName(Class.java:454)\r\n                                                                                                    \tat com.unity3d.player.UnityPlayer.nativeRender(Native Method)\r\n                                                                                                    \tat com.unity3d.player.UnityPlayer.access$300(Unknown Source:0)\r\n                                                                                                    \tat com.unity3d.player.UnityPlayer$e$1.handleMessage(Unknown Source:95)\r\n                                                                                                    \tat android.os.Handler.dispatchMessage(Handler.java:102)\r\n                                                                                                    \tat android.os.Looper.loopOnce(Looper.java:201)\r\n                                                                                                    \tat android.os.Looper.loop(Looper.java:288)\r\n                                                                                                    \tat com.unity3d.player.UnityPlayer$e.run(Unknown Source:20)\r\n                                                                                                    Caused by: java.lang.ClassNotFoundException: Didn&#39;t find class &quot;com.unity3d.plugin.downloader.UnityDownloaderService&quot; on path: DexPathList[[zip file &quot;/data/app/~~PUPwYH3sTLZDgAXgKGYUmA==/com.todo.todo-QL3yqTG5AR994UyegPPCZA==/base.apk&quot;],nativeLibraryDirectories=[/data/app/~~PUPwYH3sTLZDgAXgKGYUmA==/com.todo.todo-QL3`&lt;br&gt;\r\n\r\nI&#39;m not sure what&#39;s wrong here since it works for other people. Any ideas?","title":"AndroidJavaException: java.lang.ClassNotFoundException: com.unity3d.plugin.downloader.UnityDownloaderService","body":"<p>I'm trying to run a Unity game on the Android Studio emulator, but I'm receiving the error below whenever I run it (either from building an apk from the Unity editor and running or from the play store):</p>\n<p><code>AndroidJavaException: java.lang.ClassNotFoundException: com.unity3d.plugin.downloader.UnityDownloaderService java.lang.ClassNotFoundException: com.unity3d.plugin.downloader.UnityDownloaderService at java.lang.Class.classForName(Native Method) at java.lang.Class.forName(Class.java:454) at com.unity3d.player.UnityPlayer.nativeRender(Native Method) at com.unity3d.player.UnityPlayer.access$300(Unknown Source:0) at com.unity3d.player.UnityPlayer$e$1.handleMessage(Unknown Source:95) at android.os.Handler.dispatchMessage(Handler.java:102) at android.os.Looper.loopOnce(Looper.java:201) at android.os.Looper.loop(Looper.java:288) at com.unity3d.player.UnityPlayer$e.run(Unknown Source:20) Caused by: java.lang.ClassNotFoundException: Didn't find class &quot;com.unity3d.plugin.downloader.UnityDownloaderService&quot; on path: DexPathList[[zip file &quot;/data/app/~~PUPwYH3sTLZDgAXgKGYUmA==/com.todo.todo-QL3yqTG5AR994UyegPPCZA==/base.apk&quot;],nativeLibraryDirectories=[/data/app/~~PUPwYH3sTLZDgAXgKGYUmA==/com.todo.todo-QL3</code><br></p>\n<p>I'm not sure what's wrong here since it works for other people. Any ideas?</p>\n"},{"tags":["java","spring","spring-boot","spring-security"],"answers":[{"tags":[],"owner":{"account_id":5489757,"reputation":678,"user_id":4363468,"accept_rate":100,"display_name":"Evgeniy Strepetov"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1548873812,"creation_date":1548873812,"answer_id":54447452,"question_id":54443477,"body_markdown":"I found a workaround for similar problem by setting `secure` flag to `false` for `@WebMvcTest`.\r\n\r\nLike:\r\n\r\n    @WebMvcTest(controllers = SomeController.class, secure = false)","title":"Disable security in springBootTest using WebTestClient","body":"<p>I found a workaround for similar problem by setting <code>secure</code> flag to <code>false</code> for <code>@WebMvcTest</code>.</p>\n\n<p>Like:</p>\n\n<pre><code>@WebMvcTest(controllers = SomeController.class, secure = false)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1750956,"reputation":414,"user_id":1600055,"accept_rate":50,"display_name":"Maciek Murawski"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1620770619,"creation_date":1548881732,"answer_id":54449383,"question_id":54443477,"body_markdown":"In some dark place, deep down the rabbit hole I found this:\r\n```\r\n@TestConfiguration\r\n@Order(1)\r\npublic class SecurityConfiguration\r\n  implements WebSecurityConfigurer&lt;WebSecurity&gt; {\r\n\r\n  @Override\r\n  public void init(WebSecurity builder) throws Exception {\r\n    builder.ignoring().requestMatchers(\r\n      new AntPathRequestMatcher(&quot;/**&quot;));\r\n  }\r\n\r\n  @Override\r\n  public void configure(WebSecurity builder) throws Exception {\r\n  }\r\n\r\n}\r\n```\r\n\r\nRemember to register class in `@SpringBootTest`, for instance:\r\n```\r\n@SpringBootTest(\r\n  classes = [SomeApplication, SecurityConfiguration],\r\n  webEnvironment = RANDOM_PORT\r\n)\r\n```\r\n\r\nIt&#39;s not disabling spring security, but it makes it transparent.","title":"Disable security in springBootTest using WebTestClient","body":"<p>In some dark place, deep down the rabbit hole I found this:</p>\n<pre><code>@TestConfiguration\n@Order(1)\npublic class SecurityConfiguration\n  implements WebSecurityConfigurer&lt;WebSecurity&gt; {\n\n  @Override\n  public void init(WebSecurity builder) throws Exception {\n    builder.ignoring().requestMatchers(\n      new AntPathRequestMatcher(&quot;/**&quot;));\n  }\n\n  @Override\n  public void configure(WebSecurity builder) throws Exception {\n  }\n\n}\n</code></pre>\n<p>Remember to register class in <code>@SpringBootTest</code>, for instance:</p>\n<pre><code>@SpringBootTest(\n  classes = [SomeApplication, SecurityConfiguration],\n  webEnvironment = RANDOM_PORT\n)\n</code></pre>\n<p>It's not disabling spring security, but it makes it transparent.</p>\n"},{"comments":[{"owner":{"account_id":497945,"reputation":968,"user_id":1360035,"display_name":"moilejter"},"score":0,"creation_date":1673241466,"post_id":75053159,"comment_id":132445870,"body_markdown":"Wouldn&#39;t it be better to specify a mock user to test with?\nhttps://docs.spring.io/spring-security/reference/servlet/test/mockmvc/authentication.html","body":"Wouldn&#39;t it be better to specify a mock user to test with? <a href=\"https://docs.spring.io/spring-security/reference/servlet/test/mockmvc/authentication.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-security/reference/servlet/test/mockmv&zwnj;&#8203;c/&hellip;</a>"},{"owner":{"account_id":7180854,"reputation":75,"user_id":5484873,"display_name":"Ridwan"},"score":0,"creation_date":1673853820,"post_id":75053159,"comment_id":132581806,"body_markdown":"Yes, if the application has role-based authorization.","body":"Yes, if the application has role-based authorization."}],"tags":[],"owner":{"account_id":7180854,"reputation":75,"user_id":5484873,"display_name":"Ridwan"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673238146,"creation_date":1673238146,"answer_id":75053159,"question_id":54443477,"body_markdown":"I solved this problem by adding the [AutoConfigureMockMvc][1] annotation in the test class. \r\n\r\n    @SpringBootTest(webEnvironment = WebEnvironment.RANDOM_PORT)\r\n    @AutoConfigureMockMvc(addFilters = false) // to ignore security\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/autoconfigure/web/servlet/AutoConfigureMockMvc.html#addFilters()","title":"Disable security in springBootTest using WebTestClient","body":"<p>I solved this problem by adding the <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/autoconfigure/web/servlet/AutoConfigureMockMvc.html#addFilters()\" rel=\"nofollow noreferrer\">AutoConfigureMockMvc</a> annotation in the test class.</p>\n<pre><code>@SpringBootTest(webEnvironment = WebEnvironment.RANDOM_PORT)\n@AutoConfigureMockMvc(addFilters = false) // to ignore security\n</code></pre>\n"}],"owner":{"account_id":5127621,"reputation":148,"user_id":4109055,"display_name":"naitsabes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3792,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":54449383,"answer_count":3,"score":11,"last_activity_date":1673238146,"creation_date":1548860318,"question_id":54443477,"body_markdown":"SpringBoot in 2.1 Release Notes contain the following piece of information:\r\n\r\n&gt; Security configuration is now applied to WebTestClient. For more information on testing secured endpoints, please refer to the relevant section of Spring Security’s reference documentation.\r\n\r\nProblem:\r\n\r\nAfter updating SpringBoot from **2.0.4** to **2.1.2** I found that my tests have stopped to work. I am using `@SpringBootTest` for my REST test. My `WebTestClient` cannot reach server. I did try a lot (e.g. from [here][1])\r\nto mock or disable security and still getting `403 FORBIDDEN` response.\r\n\r\nDo you have any clues what can be wrong?\r\n\r\nI create `WebTestClient` in the following way:\r\n\r\n    client = WebTestClient\r\n      .bindToServer()\r\n      .baseUrl(&quot;http://localhost:$port&quot;)\r\n      .build()\r\n\r\nAlso tried to exclude `SecurityAutoConfiguration.class`.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-security/site/docs/5.1.x/reference/html5/#test-method-setup","title":"Disable security in springBootTest using WebTestClient","body":"<p>SpringBoot in 2.1 Release Notes contain the following piece of information:</p>\n\n<blockquote>\n  <p>Security configuration is now applied to WebTestClient. For more information on testing secured endpoints, please refer to the relevant section of Spring Security’s reference documentation.</p>\n</blockquote>\n\n<p>Problem:</p>\n\n<p>After updating SpringBoot from <strong>2.0.4</strong> to <strong>2.1.2</strong> I found that my tests have stopped to work. I am using <code>@SpringBootTest</code> for my REST test. My <code>WebTestClient</code> cannot reach server. I did try a lot (e.g. from <a href=\"https://docs.spring.io/spring-security/site/docs/5.1.x/reference/html5/#test-method-setup\" rel=\"noreferrer\">here</a>)\nto mock or disable security and still getting <code>403 FORBIDDEN</code> response.</p>\n\n<p>Do you have any clues what can be wrong?</p>\n\n<p>I create <code>WebTestClient</code> in the following way:</p>\n\n<pre><code>client = WebTestClient\n  .bindToServer()\n  .baseUrl(\"http://localhost:$port\")\n  .build()\n</code></pre>\n\n<p>Also tried to exclude <code>SecurityAutoConfiguration.class</code>.</p>\n"},{"tags":["java","string","replace"],"answers":[{"tags":[],"owner":{"account_id":2177522,"reputation":120796,"user_id":1927832,"accept_rate":49,"display_name":"Suresh Atta"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1445144615,"creation_date":1445144615,"answer_id":33194492,"question_id":33194459,"body_markdown":"When you write\r\n\r\n     \r\n    \r\n    &#39;R&#39; + &#39;V&#39;\r\n\r\nThat results an `int` of adding char&#39;s ascii codes and replacable must be a String as well.\r\n\r\nWhat you are looking for is \r\n\r\n\tSystem.out.println(Str2.replace(&quot;RV&quot;, &quot;n&quot;));\r\n\r\nor if you want to do with char&#39;s only, you should try \r\n\r\n            String replace = Str2.replace(&#39;R&#39;, &#39;n&#39;);\r\n    \t\treplace = Str2.replace(&#39;V&#39;, &#39;n&#39;);\r\n    \t\tSystem.out.println(replace);\r\n\r\nAnd look at the replace signatures \r\n\r\n    replace(char oldChar, char newChar) \r\n    \r\n    replace(CharSequence target, CharSequence replacement)\r\n\r\nBoth should be char&#39;s or String&#39;s. Can&#39;t alter them.\r\n","title":"replace one character in a string with 2","body":"<p>When you write</p>\n\n<pre><code>'R' + 'V'\n</code></pre>\n\n<p>That results an <code>int</code> of adding char's ascii codes and replacable must be a String as well.</p>\n\n<p>What you are looking for is </p>\n\n<pre><code>System.out.println(Str2.replace(\"RV\", \"n\"));\n</code></pre>\n\n<p>or if you want to do with char's only, you should try </p>\n\n<pre><code>        String replace = Str2.replace('R', 'n');\n        replace = Str2.replace('V', 'n');\n        System.out.println(replace);\n</code></pre>\n\n<p>And look at the replace signatures </p>\n\n<pre><code>replace(char oldChar, char newChar) \n\nreplace(CharSequence target, CharSequence replacement)\n</code></pre>\n\n<p>Both should be char's or String's. Can't alter them.</p>\n"}],"owner":{"account_id":6323026,"reputation":323,"user_id":4910303,"accept_rate":100,"display_name":"javajoejuan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":33194492,"answer_count":1,"score":1,"last_activity_date":1673237825,"creation_date":1445144366,"question_id":33194459,"body_markdown":"I am having a problem with my code and wanted to ask you guru&#39;s a quick question.. My program takes lines out of a text file and saves them to a string and modifies it.. I&#39;m doing a little test to see how to replace characters in those saved strings. I&#39;m using `replace` but it seems like I can&#39;t replace one character with 2 or vice-versa...\r\n\r\n    import java.io.*;\r\n\r\n    public class chracreplace {\r\n\r\n     public static void main(String args[]){\r\n      String Str1 = new String(&quot;AMC0006RV55555&quot;);\r\n      String Str2 = new String(&quot;RVBMCLTWD12345&quot;);\r\n\r\n      System.out.print(&quot;Possible Word:&quot; );\r\n      System.out.println(Str1.replace(&#39;5&#39;, &#39;6&#39;));\r\n\r\n      System.out.print(&quot;Possible Word: :&quot; );\r\n      System.out.println(Str2.replace(&#39;R&#39; + &#39;V&#39;, &#39;n&#39;));\r\n\r\n     \r\n      }\r\n\r\n    }\r\n","title":"replace one character in a string with 2","body":"<p>I am having a problem with my code and wanted to ask you guru's a quick question.. My program takes lines out of a text file and saves them to a string and modifies it.. I'm doing a little test to see how to replace characters in those saved strings. I'm using <code>replace</code> but it seems like I can't replace one character with 2 or vice-versa...</p>\n<pre><code>import java.io.*;\n\npublic class chracreplace {\n\n public static void main(String args[]){\n  String Str1 = new String(&quot;AMC0006RV55555&quot;);\n  String Str2 = new String(&quot;RVBMCLTWD12345&quot;);\n\n  System.out.print(&quot;Possible Word:&quot; );\n  System.out.println(Str1.replace('5', '6'));\n\n  System.out.print(&quot;Possible Word: :&quot; );\n  System.out.println(Str2.replace('R' + 'V', 'n'));\n\n \n  }\n\n}\n</code></pre>\n"},{"tags":["java","azure-active-directory","microsoft-graph-api","microsoft-graph-sdks"],"answers":[{"comments":[{"owner":{"account_id":8013069,"reputation":1135,"user_id":6044191,"accept_rate":59,"display_name":"Ihsan Haikal"},"score":0,"creation_date":1673185876,"post_id":75035751,"comment_id":132436839,"body_markdown":"sorry i dont follow, so which scope should I use? or do I need to change the authentication method?","body":"sorry i dont follow, so which scope should I use? or do I need to change the authentication method?"},{"owner":{"account_id":12183213,"reputation":599,"user_id":8894067,"display_name":"jimas13"},"score":1,"creation_date":1673187920,"post_id":75035751,"comment_id":132437290,"body_markdown":"If you follow the client credential flow /.default. If, on the other hand, you wish to implement a different authentication flow you can consult the below array \nhttps://learn.microsoft.com/en-us/graph/sdks/choose-authentication-providers?tabs=Java","body":"If you follow the client credential flow /.default. If, on the other hand, you wish to implement a different authentication flow you can consult the below array  <a href=\"https://learn.microsoft.com/en-us/graph/sdks/choose-authentication-providers?tabs=Java\" rel=\"nofollow noreferrer\">learn.microsoft.com/en-us/graph/sdks/&hellip;</a>"}],"tags":[],"owner":{"account_id":12183213,"reputation":599,"user_id":8894067,"display_name":"jimas13"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673187430,"creation_date":1673036596,"answer_id":75035751,"question_id":75034385,"body_markdown":"It is written in the [documentation][1] that:\r\n\r\n&gt; Client credentials requests in your client service must include\r\n&gt; scope={resource}/.default. Here, {resource} is the web API that your\r\n&gt; app intends to call, and wishes to obtain an access token for. Issuing\r\n&gt; a client credentials request by using individual application\r\n&gt; permissions (roles) is not supported. All the app roles (application\r\n&gt; permissions) that have been granted for that web API are included in\r\n&gt; the returned access token.\r\n\r\nThe Client Credential flow is best suited for situations where you have a Deamon App that will have to authenticate and get access to some kind of a resource through a Non-Interactive way, which in sequence means that the permissions for this Deamon App have been configured and consented from a step done prior to the auth request. \r\n\r\nThe `/.default` scope can be translated as the request of the Background App that runs unattended, to get the bulk of the permissions that it has been configured with and access the resource that it asks.\r\n\r\nIn plain english, the use of the above scope in the Client Credentials flow is a convention that has to be implemented always when this flow is chosen :P.\r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/azure/active-directory/develop/scopes-oidc#client-credentials-grant-flow-and-default","title":"Scope Issue in Azure Graph Rest API Java","body":"<p>It is written in the <a href=\"https://learn.microsoft.com/en-us/azure/active-directory/develop/scopes-oidc#client-credentials-grant-flow-and-default\" rel=\"nofollow noreferrer\">documentation</a> that:</p>\n<blockquote>\n<p>Client credentials requests in your client service must include\nscope={resource}/.default. Here, {resource} is the web API that your\napp intends to call, and wishes to obtain an access token for. Issuing\na client credentials request by using individual application\npermissions (roles) is not supported. All the app roles (application\npermissions) that have been granted for that web API are included in\nthe returned access token.</p>\n</blockquote>\n<p>The Client Credential flow is best suited for situations where you have a Deamon App that will have to authenticate and get access to some kind of a resource through a Non-Interactive way, which in sequence means that the permissions for this Deamon App have been configured and consented from a step done prior to the auth request.</p>\n<p>The <code>/.default</code> scope can be translated as the request of the Background App that runs unattended, to get the bulk of the permissions that it has been configured with and access the resource that it asks.</p>\n<p>In plain english, the use of the above scope in the Client Credentials flow is a convention that has to be implemented always when this flow is chosen :P.</p>\n"},{"tags":[],"owner":{"account_id":24067318,"reputation":13435,"user_id":18043665,"display_name":"Sridevi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673237749,"creation_date":1673237749,"answer_id":75053127,"question_id":75034385,"body_markdown":"***I tried to reproduce the same in my environment via Postman and got below results:***\r\n\r\nI registered one Azure AD application and added `API permissions` like below:\r\n\r\n![enter image description here](https://i.stack.imgur.com/ooADh.png)\r\n\r\nWhen I tried to generate access token with **same scope** as you via Postman using client credentials flow, I got **same error** as below:\r\n\r\n```http\r\nPOST https://login.microsoftonline.com/&lt;tenantID&gt;/oauth2/v2.0/token\r\n\r\ngrant_type:client_credentials\r\nclient_id: &lt;appID&gt;\r\nclient_secret: &lt;secret_value&gt;\r\nscope: https://graph.microsoft.com/User.Read.All openid profile offline_access\r\n```\r\n**Response:**\r\n\r\n![enter image description here](https://i.stack.imgur.com/YzcV5.png)\r\n\r\nTo **resolve** the above error, you must change your scope to https://graph.microsoft.com/.default if you are using client credentials flow.\r\n\r\nAfter changing the scope, I&#39;m able to generate **access token** successfully like below:\r\n\r\n```http\r\nPOST https://login.microsoftonline.com/&lt;tenantID&gt;/oauth2/v2.0/token\r\n\r\ngrant_type:client_credentials\r\nclient_id: &lt;appID&gt;\r\nclient_secret: &lt;secret_value&gt;\r\nscope: https://graph.microsoft.com/.default\r\n```\r\n\r\n**Response:**\r\n\r\n![enter image description here](https://i.stack.imgur.com/t0NTw.png)\r\n\r\nWhen I used the above token to call below Graph query, I got the **list of users** with display name, id and user principal name successfully like below:\r\n\r\n    GET https://graph.microsoft.com/v1.0/users?$select=displayName,id,userPrincipalName\r\n\r\n**Response:**\r\n\r\n![enter image description here](https://i.stack.imgur.com/Sfg52.png)\r\n\r\nIn your case, change **scope** value in your code like below:\r\n\r\n```java\r\nList&lt;String&gt; scopes= Arrays.asList(&quot;https://graph.microsoft.com/.default&quot;);\r\n```","title":"Scope Issue in Azure Graph Rest API Java","body":"<p><em><strong>I tried to reproduce the same in my environment via Postman and got below results:</strong></em></p>\n<p>I registered one Azure AD application and added <code>API permissions</code> like below:</p>\n<p><img src=\"https://i.stack.imgur.com/ooADh.png\" alt=\"enter image description here\" /></p>\n<p>When I tried to generate access token with <strong>same scope</strong> as you via Postman using client credentials flow, I got <strong>same error</strong> as below:</p>\n<pre class=\"lang-http prettyprint-override\"><code>POST https://login.microsoftonline.com/&lt;tenantID&gt;/oauth2/v2.0/token\n\ngrant_type:client_credentials\nclient_id: &lt;appID&gt;\nclient_secret: &lt;secret_value&gt;\nscope: https://graph.microsoft.com/User.Read.All openid profile offline_access\n</code></pre>\n<p><strong>Response:</strong></p>\n<p><img src=\"https://i.stack.imgur.com/YzcV5.png\" alt=\"enter image description here\" /></p>\n<p>To <strong>resolve</strong> the above error, you must change your scope to <a href=\"https://graph.microsoft.com/.default\" rel=\"nofollow noreferrer\">https://graph.microsoft.com/.default</a> if you are using client credentials flow.</p>\n<p>After changing the scope, I'm able to generate <strong>access token</strong> successfully like below:</p>\n<pre class=\"lang-http prettyprint-override\"><code>POST https://login.microsoftonline.com/&lt;tenantID&gt;/oauth2/v2.0/token\n\ngrant_type:client_credentials\nclient_id: &lt;appID&gt;\nclient_secret: &lt;secret_value&gt;\nscope: https://graph.microsoft.com/.default\n</code></pre>\n<p><strong>Response:</strong></p>\n<p><img src=\"https://i.stack.imgur.com/t0NTw.png\" alt=\"enter image description here\" /></p>\n<p>When I used the above token to call below Graph query, I got the <strong>list of users</strong> with display name, id and user principal name successfully like below:</p>\n<pre><code>GET https://graph.microsoft.com/v1.0/users?$select=displayName,id,userPrincipalName\n</code></pre>\n<p><strong>Response:</strong></p>\n<p><img src=\"https://i.stack.imgur.com/Sfg52.png\" alt=\"enter image description here\" /></p>\n<p>In your case, change <strong>scope</strong> value in your code like below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; scopes= Arrays.asList(&quot;https://graph.microsoft.com/.default&quot;);\n</code></pre>\n"}],"owner":{"account_id":8013069,"reputation":1135,"user_id":6044191,"accept_rate":59,"display_name":"Ihsan Haikal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":596,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75035751,"answer_count":2,"score":0,"last_activity_date":1673237749,"creation_date":1673027197,"question_id":75034385,"body_markdown":"I am new using Azure Graph Rest API Java using [this repo][1]. \r\n\r\nMy aim is to list all of the users in the AAD tenant \r\n\r\nSo far I was only able to get to this:\r\n\r\n    List&lt;String&gt; scopes= Arrays.asList(&quot;https://graph.microsoft.com/User.Read.All&quot;);\r\n       \r\n    \r\n        AzureProfile profile = new AzureProfile(tenantId, subscriptionId, AzureEnvironment.AZURE);\r\n        final ClientSecretCredential credential = new ClientSecretCredentialBuilder()\r\n                .clientId(clientId)\r\n                .clientSecret(clientSecret)\r\n                .tenantId(tenantId)\r\n                //.httpClient(client)\r\n                .authorityHost(profile.getEnvironment().getActiveDirectoryEndpoint())\r\n                .build();\r\n    \r\n        TokenCredentialAuthProvider tokenCredentialAuthProvider = new TokenCredentialAuthProvider(scopes, credential);\r\n    \r\n    \r\n        GraphServiceClient&lt;Request&gt; graphClient =\r\n                GraphServiceClient\r\n                        .builder()\r\n                        .authenticationProvider(tokenCredentialAuthProvider)\r\n                        .buildClient();\r\n    \r\n    \r\n        UserCollectionPage users = graphClient.users()\r\n                .buildRequest()\r\n                .get();\r\n    \r\n       for(User user: users.getCurrentPage()){\r\n    \r\n           System.out.println(user.displayName);\r\n           System.out.println(user.id);\r\n           System.out.println(user.userPrincipalName);\r\n    \r\n       }\r\n\r\nHowever, I run into this error instead:\r\n\r\n&gt; Caused by: java.io.IOException:\r\n&gt; java.util.concurrent.ExecutionException: \r\n&gt; com.microsoft.aad.msal4j.MsalServiceException:  \r\n&gt; AADSTS1002012: The\r\n&gt; provided value for scope https://graph.microsoft.com/User.Read.All\r\n&gt; openid profile offline_access is not valid. Client credential flows\r\n&gt; must have a scope value with /.default suffixed to the resource\r\n&gt; identifier (application ID URI).\r\n\r\nIt seems the Scope that I have used is wrong/insufficient, but I am not too sure what should I use the scope with. Any idea?\r\n\r\n\r\n  [1]: https://github.com/microsoftgraph/msgraph-beta-sdk-java\r\n\r\n","title":"Scope Issue in Azure Graph Rest API Java","body":"<p>I am new using Azure Graph Rest API Java using <a href=\"https://github.com/microsoftgraph/msgraph-beta-sdk-java\" rel=\"nofollow noreferrer\">this repo</a>.</p>\n<p>My aim is to list all of the users in the AAD tenant</p>\n<p>So far I was only able to get to this:</p>\n<pre><code>List&lt;String&gt; scopes= Arrays.asList(&quot;https://graph.microsoft.com/User.Read.All&quot;);\n   \n\n    AzureProfile profile = new AzureProfile(tenantId, subscriptionId, AzureEnvironment.AZURE);\n    final ClientSecretCredential credential = new ClientSecretCredentialBuilder()\n            .clientId(clientId)\n            .clientSecret(clientSecret)\n            .tenantId(tenantId)\n            //.httpClient(client)\n            .authorityHost(profile.getEnvironment().getActiveDirectoryEndpoint())\n            .build();\n\n    TokenCredentialAuthProvider tokenCredentialAuthProvider = new TokenCredentialAuthProvider(scopes, credential);\n\n\n    GraphServiceClient&lt;Request&gt; graphClient =\n            GraphServiceClient\n                    .builder()\n                    .authenticationProvider(tokenCredentialAuthProvider)\n                    .buildClient();\n\n\n    UserCollectionPage users = graphClient.users()\n            .buildRequest()\n            .get();\n\n   for(User user: users.getCurrentPage()){\n\n       System.out.println(user.displayName);\n       System.out.println(user.id);\n       System.out.println(user.userPrincipalName);\n\n   }\n</code></pre>\n<p>However, I run into this error instead:</p>\n<blockquote>\n<p>Caused by: java.io.IOException:\njava.util.concurrent.ExecutionException:\ncom.microsoft.aad.msal4j.MsalServiceException:<br />\nAADSTS1002012: The\nprovided value for scope <a href=\"https://graph.microsoft.com/User.Read.All\" rel=\"nofollow noreferrer\">https://graph.microsoft.com/User.Read.All</a>\nopenid profile offline_access is not valid. Client credential flows\nmust have a scope value with /.default suffixed to the resource\nidentifier (application ID URI).</p>\n</blockquote>\n<p>It seems the Scope that I have used is wrong/insufficient, but I am not too sure what should I use the scope with. Any idea?</p>\n"},{"tags":["java","maven","build","openjpa"],"answers":[{"comments":[{"owner":{"account_id":21295225,"reputation":398,"user_id":15671866,"display_name":"ma4strong"},"score":0,"creation_date":1673274333,"post_id":75053050,"comment_id":132455453,"body_markdown":"I added the `&lt;release&gt;8&lt;/release&gt;` and it worked. Thanks.","body":"I added the <code>&lt;release&gt;8&lt;&#47;release&gt;</code> and it worked. Thanks."}],"tags":[],"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673236598,"creation_date":1673236598,"answer_id":75053050,"question_id":75041365,"body_markdown":"Your issue is described in [java.beans.PropertyDescriptor &quot;cannot access PropertyInfo&quot; compilation error](https://bugs.openjdk.org/browse/JDK-8212636) and the suggestion is:\r\n\r\n&gt; The correct fix for the user is to replace &quot;-source 8 -target 8&quot; with &quot;-release 8&quot;, which will cause javac to compile against the right set of class signatures, and will successfully compile the example program.\r\n\r\nThat in turn means one of following:\r\n\r\n- either use old version of java to build project\r\n- specify `release` in [`maven-compiler-plugin` configuration](https://github.com/apache/openjpa/blob/master/pom.xml#L1944), i.e.:\r\n\r\n```xml\r\n&lt;configuration&gt;\r\n  &lt;source&gt;${compile.class.source}&lt;/source&gt;\r\n  &lt;target&gt;${compile.class.target}&lt;/target&gt;\r\n  &lt;release&gt;8&lt;/release&gt;\r\n  &lt;encoding&gt;${project.build.sourceEncoding}&lt;/encoding&gt;\r\n&lt;/configuration&gt;\r\n\r\n```","title":"OpenJPA build failure","body":"<p>Your issue is described in <a href=\"https://bugs.openjdk.org/browse/JDK-8212636\" rel=\"nofollow noreferrer\">java.beans.PropertyDescriptor &quot;cannot access PropertyInfo&quot; compilation error</a> and the suggestion is:</p>\n<blockquote>\n<p>The correct fix for the user is to replace &quot;-source 8 -target 8&quot; with &quot;-release 8&quot;, which will cause javac to compile against the right set of class signatures, and will successfully compile the example program.</p>\n</blockquote>\n<p>That in turn means one of following:</p>\n<ul>\n<li>either use old version of java to build project</li>\n<li>specify <code>release</code> in <a href=\"https://github.com/apache/openjpa/blob/master/pom.xml#L1944\" rel=\"nofollow noreferrer\"><code>maven-compiler-plugin</code> configuration</a>, i.e.:</li>\n</ul>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;configuration&gt;\n  &lt;source&gt;${compile.class.source}&lt;/source&gt;\n  &lt;target&gt;${compile.class.target}&lt;/target&gt;\n  &lt;release&gt;8&lt;/release&gt;\n  &lt;encoding&gt;${project.build.sourceEncoding}&lt;/encoding&gt;\n&lt;/configuration&gt;\n\n</code></pre>\n"}],"owner":{"account_id":21295225,"reputation":398,"user_id":15671866,"display_name":"ma4strong"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1344,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75053050,"answer_count":1,"score":0,"last_activity_date":1673236598,"creation_date":1673103972,"question_id":75041365,"body_markdown":"I&#39;m currently working on a fork of openJPA and I have to configure a CI tool (e.g. github actions) and sonar cloud for remote analysis but first of all I&#39;m trying the build in the local system. The problem is that i cannot have the build succeeds in the original code, for example for the release 3.2.2. I downloaded the source code from &lt;a href=&quot;https://github.com/apache/openjpa/releases/tag/3.2.2&quot;&gt;here&lt;/a&gt; and I run the command `mvn -B install -DskipTest=true` but also `mvn clean install -DskipTest=true` but both fail with the following error: \r\n```\r\nopenjpa/openjpa-lib/src/main/java/org/apache/openjpa/lib/conf/ConfigurationImpl.java:\r\n[522,18] cannot access com.sun.beans.introspect.PropertyInfo\r\nclass file for com.sun.beans.introspect.PropertyInfo not found\r\n```\r\nI remark that the source code has not been changed yet. &lt;br&gt;\r\nWhat should I try to solve? Thanks in advance.","title":"OpenJPA build failure","body":"<p>I'm currently working on a fork of openJPA and I have to configure a CI tool (e.g. github actions) and sonar cloud for remote analysis but first of all I'm trying the build in the local system. The problem is that i cannot have the build succeeds in the original code, for example for the release 3.2.2. I downloaded the source code from <a href=\"https://github.com/apache/openjpa/releases/tag/3.2.2\" rel=\"nofollow noreferrer\">here</a> and I run the command <code>mvn -B install -DskipTest=true</code> but also <code>mvn clean install -DskipTest=true</code> but both fail with the following error:</p>\n<pre><code>openjpa/openjpa-lib/src/main/java/org/apache/openjpa/lib/conf/ConfigurationImpl.java:\n[522,18] cannot access com.sun.beans.introspect.PropertyInfo\nclass file for com.sun.beans.introspect.PropertyInfo not found\n</code></pre>\n<p>I remark that the source code has not been changed yet. <br>\nWhat should I try to solve? Thanks in advance.</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673236386,"creation_date":1673236386,"answer_id":75053030,"question_id":75052942,"body_markdown":"Your function returns just fine. But you&#39;re ignoring the return value.\r\n\r\n    convterMethod(num1);\r\n\r\nThis takes `num1`, does a bunch of nice, neat work on it, and then.... throws away the result. It does *not* modify `num1`. If you want the result of the function to be assigned back into the `num1` variable, you need to tell Java to do so.\r\n\r\n    num1 = convterMethod(num1);\r\n\r\n(and the same for the other places you call this function)","title":"Having problems with returning a value from a helper method","body":"<p>Your function returns just fine. But you're ignoring the return value.</p>\n<pre><code>convterMethod(num1);\n</code></pre>\n<p>This takes <code>num1</code>, does a bunch of nice, neat work on it, and then.... throws away the result. It does <em>not</em> modify <code>num1</code>. If you want the result of the function to be assigned back into the <code>num1</code> variable, you need to tell Java to do so.</p>\n<pre><code>num1 = convterMethod(num1);\n</code></pre>\n<p>(and the same for the other places you call this function)</p>\n"}],"owner":{"account_id":27473236,"reputation":1,"user_id":20961697,"display_name":"Plebasoarus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673236386,"creation_date":1673235186,"question_id":75052942,"body_markdown":"I&#39;m new to coding and was assigned a project where I have to create a calculator. Right now I&#39;m trying to turn all mixed number a regular number into proper/improper fractions but I cant get my program to return anything but what the user says. In the project the user can only put \\&lt;number\\&gt; \\&lt;operator\\&gt; \\&lt;number\\&gt;\r\n\r\n```\r\nimport java.util.Scanner;\r\n// imported scanner\r\npublic class fracCalc {\r\n    public static void main(String[] args) {\r\n        Scanner console = new Scanner(System.in);\r\n        String userInput = &quot;there is a problem&quot;;\r\n        boolean stop = false;\r\n        // declering variables\r\n        while (stop == false){\r\n            System.out.println(&quot;Enter:&quot;);\r\n            userInput = console.nextLine().toLowerCase();\r\n            // asks the user to type somthing and changes it to lower case and stores it in \r\n            // a variable\r\n                if (userInput.equals(&quot;quit&quot;)) {\r\n                stop = true;\r\n                System.out.println(&quot;Thanks for using, Bye!&quot;);\r\n                // if stop is true thenn the program stops.\r\n                } else { \r\n                System.out.print(userInput + &quot; = &quot;);\r\n                Scanner userInputCutter = new Scanner(userInput);\r\n                String num1 = userInputCutter.next();\r\n                String operator = userInputCutter.next();\r\n                String num2 = userInputCutter.next();\r\n                convterMethod(num1);\r\n                convterMethod(num2);\r\n                System.out.println(num1 + &quot; &quot; + operator + &quot; &quot; + num2);\r\n                // this segment of code takes the user input and  cuts it up at the spaces \r\n                // then it sends down the first 2 operators to the converter to change them\r\n                // to fractions or whatever there supposed to be.\r\n            }\r\n        }\r\n    }\r\n        public static String convterMethod(String token) {\r\n        if (token.contains(&quot;_&quot;)) {\r\n            int underScore = token.indexOf(&quot;_&quot;);\r\n            int slash = token.indexOf(&quot;/&quot;);\r\n            // This if statment says if it contains an _ then it will take the mixed number \r\n            // and convert it into a fraction\r\n            String strWholeNumber = token.substring(0,underScore);\r\n            String strNumerator = token.substring(underScore + 1,slash);\r\n            String strDenomonator = token.substring(slash + 1,token.length());\r\n            int numWholeNumber = Integer.parseInt(strWholeNumber);\r\n            int numNumerator = Integer.parseInt(strWholeNumber);\r\n            int numDenomonator = Integer.parseInt(strDenomonator);\r\n            String mixedNumber = (numWholeNumber * numDenomonator + numNumerator) + &quot;/&quot; + strDenomonator;\r\n            return mixedNumber;\r\n        } else if (token.contains(&quot;/&quot;)) {\r\n            return token;\r\n            // if a token contains a / and nothing else its all good to go.\r\n        } \r\n        token = token + &quot;&quot; + &quot;/1&quot;;\r\n        return token;\r\n        // if a token contains neither a / or an _ then it turns into a fraction\r\n    }\r\n}\r\n```\r\n\r\nI&#39;ve tried searching up this problem online and changing out things in my code. Nothing has worked so far.","title":"Having problems with returning a value from a helper method","body":"<p>I'm new to coding and was assigned a project where I have to create a calculator. Right now I'm trying to turn all mixed number a regular number into proper/improper fractions but I cant get my program to return anything but what the user says. In the project the user can only put &lt;number&gt; &lt;operator&gt; &lt;number&gt;</p>\n<pre><code>import java.util.Scanner;\n// imported scanner\npublic class fracCalc {\n    public static void main(String[] args) {\n        Scanner console = new Scanner(System.in);\n        String userInput = &quot;there is a problem&quot;;\n        boolean stop = false;\n        // declering variables\n        while (stop == false){\n            System.out.println(&quot;Enter:&quot;);\n            userInput = console.nextLine().toLowerCase();\n            // asks the user to type somthing and changes it to lower case and stores it in \n            // a variable\n                if (userInput.equals(&quot;quit&quot;)) {\n                stop = true;\n                System.out.println(&quot;Thanks for using, Bye!&quot;);\n                // if stop is true thenn the program stops.\n                } else { \n                System.out.print(userInput + &quot; = &quot;);\n                Scanner userInputCutter = new Scanner(userInput);\n                String num1 = userInputCutter.next();\n                String operator = userInputCutter.next();\n                String num2 = userInputCutter.next();\n                convterMethod(num1);\n                convterMethod(num2);\n                System.out.println(num1 + &quot; &quot; + operator + &quot; &quot; + num2);\n                // this segment of code takes the user input and  cuts it up at the spaces \n                // then it sends down the first 2 operators to the converter to change them\n                // to fractions or whatever there supposed to be.\n            }\n        }\n    }\n        public static String convterMethod(String token) {\n        if (token.contains(&quot;_&quot;)) {\n            int underScore = token.indexOf(&quot;_&quot;);\n            int slash = token.indexOf(&quot;/&quot;);\n            // This if statment says if it contains an _ then it will take the mixed number \n            // and convert it into a fraction\n            String strWholeNumber = token.substring(0,underScore);\n            String strNumerator = token.substring(underScore + 1,slash);\n            String strDenomonator = token.substring(slash + 1,token.length());\n            int numWholeNumber = Integer.parseInt(strWholeNumber);\n            int numNumerator = Integer.parseInt(strWholeNumber);\n            int numDenomonator = Integer.parseInt(strDenomonator);\n            String mixedNumber = (numWholeNumber * numDenomonator + numNumerator) + &quot;/&quot; + strDenomonator;\n            return mixedNumber;\n        } else if (token.contains(&quot;/&quot;)) {\n            return token;\n            // if a token contains a / and nothing else its all good to go.\n        } \n        token = token + &quot;&quot; + &quot;/1&quot;;\n        return token;\n        // if a token contains neither a / or an _ then it turns into a fraction\n    }\n}\n</code></pre>\n<p>I've tried searching up this problem online and changing out things in my code. Nothing has worked so far.</p>\n"},{"tags":["java","web-services","groovy","soap","mocking"],"comments":[{"owner":{"account_id":1333316,"reputation":26958,"user_id":1276664,"accept_rate":17,"display_name":"daggett"},"score":0,"creation_date":1673211194,"post_id":75049200,"comment_id":132442036,"body_markdown":"there is no such method &#39;String.parseString(...)&#39;","body":"there is no such method &#39;String.parseString(...)&#39;"}],"answers":[{"tags":[],"owner":{"account_id":51881,"reputation":38016,"user_id":155020,"accept_rate":80,"display_name":"chubbsondubs"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673236126,"creation_date":1673236126,"answer_id":75053011,"question_id":75049200,"body_markdown":"There is no method `String.parseString` in the JDK.  What you want to do is something like the following:\r\n\r\n    def categoryName = holder[&quot;//categoryName&quot;]\r\n\r\nHowever, I suspect that may even be questionable because `XmlHolder` is a map and `get()` returns an `Object` so it&#39;s unknown what that&#39;s going to return.  But there is a method that returns a String which is what you&#39;re after so you might do this instead:\r\n\r\n    def categoryName = holder.getNodeValue(&quot;//categoryName&quot;)\r\n\r\nThat [method][1] seems to take an xpath expression and return the contents of an XML node as a String.\r\n\r\n\r\n  [1]: https://www.soapui.org/apidocs/5.5.0/com/eviware/soapui/support/XmlHolder.html#getNodeValue-java.lang.String-","title":"How to solve No signature of method: static java.lang.String.parseString() is applicable for argument types: (String) values: [testowy]&lt;/faultstring&gt;","body":"<p>There is no method <code>String.parseString</code> in the JDK.  What you want to do is something like the following:</p>\n<pre><code>def categoryName = holder[&quot;//categoryName&quot;]\n</code></pre>\n<p>However, I suspect that may even be questionable because <code>XmlHolder</code> is a map and <code>get()</code> returns an <code>Object</code> so it's unknown what that's going to return.  But there is a method that returns a String which is what you're after so you might do this instead:</p>\n<pre><code>def categoryName = holder.getNodeValue(&quot;//categoryName&quot;)\n</code></pre>\n<p>That <a href=\"https://www.soapui.org/apidocs/5.5.0/com/eviware/soapui/support/XmlHolder.html#getNodeValue-java.lang.String-\" rel=\"nofollow noreferrer\">method</a> seems to take an xpath expression and return the contents of an XML node as a String.</p>\n"}],"owner":{"account_id":27463169,"reputation":3,"user_id":20953366,"display_name":"Konrad Krawczyk"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":226,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75053011,"answer_count":1,"score":0,"last_activity_date":1673236126,"creation_date":1673193298,"question_id":75049200,"body_markdown":"In soap mock service i want to have dynamic response base on value in request so i create the script but i get error \r\n  &lt;faultstring&gt;Failed to dispatch using script; groovy.lang.MissingMethodException: No signature of method: static java.lang.String.parseString() is applicable for argument types: (String) values: [testowy]&lt;/faultstring&gt;\r\n \r\n\r\nMy script looks that \r\n\r\n```\r\ndef holder = new com.eviware.soapui.support.XmlHolder( mockRequest.requestContent )\r\n// get arguments \r\ndef invoiceId = Integer.parseInt( holder[&quot;//invoiceId&quot;] )\r\ndef header1 = String.parseString( holder[&quot;//header1&quot;] )\r\ndef header2 = String.parseString( holder[&quot;//header2&quot;] )\r\ndef invoiceNumber = String.parseString( holder[&quot;//invoiceNumber&quot;] )\r\ndef invoiceOrder = Integer.parseInt( holder[&quot;//invoiceOrder&quot;] )\r\n\r\n\r\ndef totalValue = Float.parseFloat( holder[&quot;//totalValue&quot;] )\r\ndef categoryId = Integer.parseInt( holder[&quot;//categoryId&quot;] )\r\ndef categoryName = String.parseString( holder[&quot;//categoryName&quot;] )\r\nrequestContext.result =  invoiceId  header1 invoiceNumber invoiceOrder invoiceDate dueDate totalValue  categoryId categoryName\r\n```\r\nThe problem is with String.parseString i didint know why \r\nfor every other arguments its ok \r\ncan someone explain why i get this error ","title":"How to solve No signature of method: static java.lang.String.parseString() is applicable for argument types: (String) values: [testowy]&lt;/faultstring&gt;","body":"<p>In soap mock service i want to have dynamic response base on value in request so i create the script but i get error\nFailed to dispatch using script; groovy.lang.MissingMethodException: No signature of method: static java.lang.String.parseString() is applicable for argument types: (String) values: [testowy]</p>\n<p>My script looks that</p>\n<pre><code>def holder = new com.eviware.soapui.support.XmlHolder( mockRequest.requestContent )\n// get arguments \ndef invoiceId = Integer.parseInt( holder[&quot;//invoiceId&quot;] )\ndef header1 = String.parseString( holder[&quot;//header1&quot;] )\ndef header2 = String.parseString( holder[&quot;//header2&quot;] )\ndef invoiceNumber = String.parseString( holder[&quot;//invoiceNumber&quot;] )\ndef invoiceOrder = Integer.parseInt( holder[&quot;//invoiceOrder&quot;] )\n\n\ndef totalValue = Float.parseFloat( holder[&quot;//totalValue&quot;] )\ndef categoryId = Integer.parseInt( holder[&quot;//categoryId&quot;] )\ndef categoryName = String.parseString( holder[&quot;//categoryName&quot;] )\nrequestContext.result =  invoiceId  header1 invoiceNumber invoiceOrder invoiceDate dueDate totalValue  categoryId categoryName\n</code></pre>\n<p>The problem is with String.parseString i didint know why\nfor every other arguments its ok\ncan someone explain why i get this error</p>\n"},{"tags":["java","spring","maven","kotlin","slf4j"],"comments":[{"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"score":1,"creation_date":1673203381,"post_id":75050337,"comment_id":132440621,"body_markdown":"It appears to me that one of the two versions of the `StaticLoggerBinder` class is defined in your own source code rather than in a dependency jar file.  Note that the first reference at the top of your question shows something in the `classes` dir rather than the `lib` dir, and the first one does not include a jar file name.  Might you have a copy of the slf4j source code lying around somewhere and that code is somehow being picked up and compiled by Maven?  If you&#39;re not sure, I&#39;d suggest that you look for a `StaticLoggerBinder.jar` file on your system.","body":"It appears to me that one of the two versions of the <code>StaticLoggerBinder</code> class is defined in your own source code rather than in a dependency jar file.  Note that the first reference at the top of your question shows something in the <code>classes</code> dir rather than the <code>lib</code> dir, and the first one does not include a jar file name.  Might you have a copy of the slf4j source code lying around somewhere and that code is somehow being picked up and compiled by Maven?  If you&#39;re not sure, I&#39;d suggest that you look for a <code>StaticLoggerBinder.jar</code> file on your system."},{"owner":{"account_id":7034556,"reputation":12335,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":0,"creation_date":1673203384,"post_id":75050337,"comment_id":132440622,"body_markdown":"One of the class does not come from a dependency JAR but from your code or SpringBoot maybe does weird things.","body":"One of the class does not come from a dependency JAR but from your code or SpringBoot maybe does weird things."},{"owner":{"account_id":10108153,"reputation":427,"user_id":7470057,"display_name":"backward forward"},"score":0,"creation_date":1673207950,"post_id":75050337,"comment_id":132441457,"body_markdown":"@CryptoFool i can be pretty confident that i am not defining StaticLoggerBinder anywhere in my source code. As of right now the only thing this project can do is say hello world. the virtual machine i&#39;m working on is pretty new so there&#39;s not all that much on the system, though a `find . -name StaticLoggerBinder.jar` from my home directory yields no results. for maven-assembly-plugin i am using jar-with-dependencies. could this be related?","body":"@CryptoFool i can be pretty confident that i am not defining StaticLoggerBinder anywhere in my source code. As of right now the only thing this project can do is say hello world. the virtual machine i&#39;m working on is pretty new so there&#39;s not all that much on the system, though a <code>find . -name StaticLoggerBinder.jar</code> from my home directory yields no results. for maven-assembly-plugin i am using jar-with-dependencies. could this be related?"},{"owner":{"account_id":30898,"reputation":8927,"user_id":84538,"accept_rate":100,"display_name":"jon hanson"},"score":0,"creation_date":1673208872,"post_id":75050337,"comment_id":132441620,"body_markdown":"The error indicates you have a compiled StaticLoggerBinder class in your classes directory. You should be able to verify this by checking the directory. Try deleting the class file and then mvn compile. If the class file reappears then something in your build is placing it there.","body":"The error indicates you have a compiled StaticLoggerBinder class in your classes directory. You should be able to verify this by checking the directory. Try deleting the class file and then mvn compile. If the class file reappears then something in your build is placing it there."},{"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"score":0,"creation_date":1673208996,"post_id":75050337,"comment_id":132441640,"body_markdown":"gotcha.  so I have no clue then.  As @Ga&#235;lJ says, maybe Maven is doing something weird.  One thing you might try is to unzip your jar file and check to see if that class file indeed exists on its own in the `classes` dir.  Maybe a look at what else is in there could give you a clue as to what&#39;s going on.","body":"gotcha.  so I have no clue then.  As @Ga&#235;lJ says, maybe Maven is doing something weird.  One thing you might try is to unzip your jar file and check to see if that class file indeed exists on its own in the <code>classes</code> dir.  Maybe a look at what else is in there could give you a clue as to what&#39;s going on."}],"answers":[{"tags":[],"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673234242,"creation_date":1673234242,"answer_id":75052877,"question_id":75050337,"body_markdown":"I believe that is clear what is going on:\r\n\r\n`spring-boot-maven-plugin` typically does the following: it takes primary artifact (jar file), unpacks it and creates another jar file with &quot;executable jar&quot; structure. The problem is, in your case &quot;primary artifact&quot; gets overridden due to `maven-assembly-plugin` configuration coming from parent pom:\r\n\r\n```xml\r\n   &lt;plugin&gt;\r\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;${maven-assembly-plugin.version}&lt;/version&gt;\r\n    &lt;executions&gt;\r\n     &lt;execution&gt;\r\n      &lt;id&gt;make-assembly&lt;/id&gt;\r\n      &lt;phase&gt;package&lt;/phase&gt;\r\n      &lt;goals&gt; &lt;goal&gt;single&lt;/goal&gt; &lt;/goals&gt;\r\n      &lt;configuration&gt;\r\n       &lt;descriptorRefs&gt;\r\n        &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n       &lt;/descriptorRefs&gt;\r\n       &lt;appendAssemblyId&gt;false&lt;/appendAssemblyId&gt;\r\n      &lt;/configuration&gt;\r\n     &lt;/execution&gt;\r\n    &lt;/executions&gt;\r\n   &lt;/plugin&gt;\r\n```\r\n\r\nSo, instead of repackaging original jar file `spring-boot-maven-plugin` repackages result of `maven-assembly-plugin`, and thus you are getting duplicate classes in &quot;classpath&quot; (I believe the size of resulting jar is twice more than expected).\r\n\r\nYou have following options:\r\n\r\n1. remove `maven-assembly-plugin` configuration from parent pom (or move it under `&lt;pluginManagement&gt;`)\r\n2. do not override primary artifact but create supplemental ones, i.e. set `&lt;appendAssemblyId&gt;true&lt;/appendAssemblyId&gt;`\r\n3. disable `maven-assembly-plugin` configuration in controller pom, via specifying `&lt;goal&gt;none&lt;/goal&gt;` or `&lt;skipAssembly&gt;true&lt;/skipAssembly&gt;` something like:\r\n\r\n```xml\r\n   &lt;plugin&gt;\r\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;${maven-assembly-plugin.version}&lt;/version&gt;\r\n    &lt;executions&gt;\r\n     &lt;execution&gt;\r\n      &lt;id&gt;make-assembly&lt;/id&gt;\r\n      &lt;phase&gt;package&lt;/phase&gt;\r\n      &lt;goals&gt; &lt;goal&gt;none&lt;/goal&gt; &lt;/goals&gt;\r\n     &lt;/execution&gt;\r\n    &lt;/executions&gt;\r\n   &lt;/plugin&gt;\r\n```\r\n\r\nor:\r\n\r\n```xml\r\n   &lt;plugin&gt;\r\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;${maven-assembly-plugin.version}&lt;/version&gt;\r\n    &lt;executions&gt;\r\n     &lt;execution&gt;\r\n      &lt;id&gt;make-assembly&lt;/id&gt;\r\n      &lt;phase&gt;package&lt;/phase&gt;\r\n      &lt;goals&gt; &lt;goal&gt;single&lt;/goal&gt; &lt;/goals&gt;\r\n      &lt;configuration&gt;\r\n       &lt;skipAssembly&gt;true&lt;/skipAssembly&gt;\r\n      &lt;/configuration&gt;\r\n     &lt;/execution&gt;\r\n    &lt;/executions&gt;\r\n   &lt;/plugin&gt;\r\n```","title":"Which dependency is my duplicate Slf4j binding coming from in this maven dependency tree?","body":"<p>I believe that is clear what is going on:</p>\n<p><code>spring-boot-maven-plugin</code> typically does the following: it takes primary artifact (jar file), unpacks it and creates another jar file with &quot;executable jar&quot; structure. The problem is, in your case &quot;primary artifact&quot; gets overridden due to <code>maven-assembly-plugin</code> configuration coming from parent pom:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>   &lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n    &lt;version&gt;${maven-assembly-plugin.version}&lt;/version&gt;\n    &lt;executions&gt;\n     &lt;execution&gt;\n      &lt;id&gt;make-assembly&lt;/id&gt;\n      &lt;phase&gt;package&lt;/phase&gt;\n      &lt;goals&gt; &lt;goal&gt;single&lt;/goal&gt; &lt;/goals&gt;\n      &lt;configuration&gt;\n       &lt;descriptorRefs&gt;\n        &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n       &lt;/descriptorRefs&gt;\n       &lt;appendAssemblyId&gt;false&lt;/appendAssemblyId&gt;\n      &lt;/configuration&gt;\n     &lt;/execution&gt;\n    &lt;/executions&gt;\n   &lt;/plugin&gt;\n</code></pre>\n<p>So, instead of repackaging original jar file <code>spring-boot-maven-plugin</code> repackages result of <code>maven-assembly-plugin</code>, and thus you are getting duplicate classes in &quot;classpath&quot; (I believe the size of resulting jar is twice more than expected).</p>\n<p>You have following options:</p>\n<ol>\n<li>remove <code>maven-assembly-plugin</code> configuration from parent pom (or move it under <code>&lt;pluginManagement&gt;</code>)</li>\n<li>do not override primary artifact but create supplemental ones, i.e. set <code>&lt;appendAssemblyId&gt;true&lt;/appendAssemblyId&gt;</code></li>\n<li>disable <code>maven-assembly-plugin</code> configuration in controller pom, via specifying <code>&lt;goal&gt;none&lt;/goal&gt;</code> or <code>&lt;skipAssembly&gt;true&lt;/skipAssembly&gt;</code> something like:</li>\n</ol>\n<pre class=\"lang-xml prettyprint-override\"><code>   &lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n    &lt;version&gt;${maven-assembly-plugin.version}&lt;/version&gt;\n    &lt;executions&gt;\n     &lt;execution&gt;\n      &lt;id&gt;make-assembly&lt;/id&gt;\n      &lt;phase&gt;package&lt;/phase&gt;\n      &lt;goals&gt; &lt;goal&gt;none&lt;/goal&gt; &lt;/goals&gt;\n     &lt;/execution&gt;\n    &lt;/executions&gt;\n   &lt;/plugin&gt;\n</code></pre>\n<p>or:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>   &lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n    &lt;version&gt;${maven-assembly-plugin.version}&lt;/version&gt;\n    &lt;executions&gt;\n     &lt;execution&gt;\n      &lt;id&gt;make-assembly&lt;/id&gt;\n      &lt;phase&gt;package&lt;/phase&gt;\n      &lt;goals&gt; &lt;goal&gt;single&lt;/goal&gt; &lt;/goals&gt;\n      &lt;configuration&gt;\n       &lt;skipAssembly&gt;true&lt;/skipAssembly&gt;\n      &lt;/configuration&gt;\n     &lt;/execution&gt;\n    &lt;/executions&gt;\n   &lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":10108153,"reputation":427,"user_id":7470057,"display_name":"backward forward"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":396,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75052877,"answer_count":1,"score":0,"last_activity_date":1673234242,"creation_date":1673202555,"question_id":75050337,"body_markdown":"I have been slamming my head against my desk for the past week trying to interpret this warning.\r\n\r\nI am getting the following notification in my run output when trying to run my multi-module Spring/Kotlin/Maven application:\r\n```\r\nSLF4J: Class path contains multiple SLF4J bindings.\r\nSLF4J: Found binding in [jar:file:/home/vboxuser/Scratch/demo-server/controller/target/controller-0.1.0.jar!/BOOT-INF/classes!/org/slf4j/impl/StaticLoggerBinder.class]\r\nSLF4J: Found binding in [jar:file:/home/vboxuser/Scratch/demo-server/controller/target/controller-0.1.0.jar!/BOOT-INF/lib/logback-classic-1.2.11.jar!/org/slf4j/impl/StaticLoggerBinder.class]\r\nSLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.\r\nSLF4J: Actual binding is of type [ch.qos.logback.classic.util.ContextSelectorStaticBinder]\r\n```\r\nHere we see there are two bindings coming from my controller module, but i&#39;m having troubles determining where they are both coming from. \r\n\r\nMy project is structured like the following with 3 total pom files:\r\n```\r\nparent\r\n |--controller\r\n |--utilities\r\n```\r\n\r\nHere is my maven dependency tree for the controller module:\r\n```\r\n[INFO] --- maven-dependency-plugin:3.3.0:tree (default-cli) @ controller ---\r\n[INFO] app.demo.server.controller:controller:jar:0.1.0\r\n[INFO] +- org.jetbrains.kotlin:kotlin-stdlib-jdk8:jar:1.7.21:compile\r\n[INFO] |  +- (org.jetbrains.kotlin:kotlin-stdlib:jar:1.7.21:compile - version managed from 1.7.21; omitted for duplicate)\r\n[INFO] |  \\- org.jetbrains.kotlin:kotlin-stdlib-jdk7:jar:1.7.21:compile (version managed from 1.7.21)\r\n[INFO] |     \\- (org.jetbrains.kotlin:kotlin-stdlib:jar:1.7.21:compile - version managed from 1.7.21; omitted for duplicate)\r\n[INFO] +- org.jetbrains.kotlin:kotlin-stdlib:jar:1.7.21:compile\r\n[INFO] |  +- org.jetbrains.kotlin:kotlin-stdlib-common:jar:1.7.21:compile (version managed from 1.7.21)\r\n[INFO] |  \\- org.jetbrains:annotations:jar:13.0:compile\r\n[INFO] +- org.jetbrains.kotlin:kotlin-reflect:jar:1.7.21:compile\r\n[INFO] |  \\- (org.jetbrains.kotlin:kotlin-stdlib:jar:1.7.21:compile - version managed from 1.7.21; omitted for duplicate)\r\n[INFO] \\- org.springframework.boot:spring-boot-starter:jar:2.7.7:compile\r\n[INFO]    +- org.springframework.boot:spring-boot:jar:2.7.7:compile (version managed from 2.7.7)\r\n[INFO]    |  +- (org.springframework:spring-core:jar:5.3.24:compile - version managed from 5.3.24; omitted for duplicate)\r\n[INFO]    |  \\- org.springframework:spring-context:jar:5.3.24:compile (version managed from 5.3.24)\r\n[INFO]    |     +- org.springframework:spring-aop:jar:5.3.24:compile (version managed from 5.3.24)\r\n[INFO]    |     |  +- (org.springframework:spring-beans:jar:5.3.24:compile - version managed from 5.3.24; omitted for duplicate)\r\n[INFO]    |     |  \\- (org.springframework:spring-core:jar:5.3.24:compile - version managed from 5.3.24; omitted for duplicate)\r\n[INFO]    |     +- org.springframework:spring-beans:jar:5.3.24:compile (version managed from 5.3.24)\r\n[INFO]    |     |  \\- (org.springframework:spring-core:jar:5.3.24:compile - version managed from 5.3.24; omitted for duplicate)\r\n[INFO]    |     +- (org.springframework:spring-core:jar:5.3.24:compile - version managed from 5.3.24; omitted for duplicate)\r\n[INFO]    |     \\- org.springframework:spring-expression:jar:5.3.24:compile (version managed from 5.3.24)\r\n[INFO]    |        \\- (org.springframework:spring-core:jar:5.3.24:compile - version managed from 5.3.24; omitted for duplicate)\r\n[INFO]    +- org.springframework.boot:spring-boot-autoconfigure:jar:2.7.7:compile (version managed from 2.7.7)\r\n[INFO]    |  \\- (org.springframework.boot:spring-boot:jar:2.7.7:compile - version managed from 2.7.7; omitted for duplicate)\r\n[INFO]    +- org.springframework.boot:spring-boot-starter-logging:jar:2.7.7:compile (version managed from 2.7.7)\r\n[INFO]    |  +- ch.qos.logback:logback-classic:jar:1.2.11:compile (version managed from 1.2.11)\r\n[INFO]    |  |  +- ch.qos.logback:logback-core:jar:1.2.11:compile (version managed from 1.2.11)\r\n[INFO]    |  |  \\- org.slf4j:slf4j-api:jar:1.7.36:compile (version managed from 1.7.32)\r\n[INFO]    |  +- org.apache.logging.log4j:log4j-to-slf4j:jar:2.17.2:compile (version managed from 2.17.2)\r\n[INFO]    |  |  +- (org.slf4j:slf4j-api:jar:1.7.36:compile - version managed from 1.7.35; omitted for duplicate)\r\n[INFO]    |  |  \\- org.apache.logging.log4j:log4j-api:jar:2.17.2:compile (version managed from 2.17.2)\r\n[INFO]    |  |     \\- org.osgi:org.osgi.core:jar:4.3.1:provided\r\n[INFO]    |  \\- org.slf4j:jul-to-slf4j:jar:1.7.36:compile (version managed from 1.7.36)\r\n[INFO]    |     \\- (org.slf4j:slf4j-api:jar:1.7.36:compile - version managed from 1.7.36; omitted for duplicate)\r\n[INFO]    +- jakarta.annotation:jakarta.annotation-api:jar:1.3.5:compile (version managed from 1.3.5)\r\n[INFO]    +- org.springframework:spring-core:jar:5.3.24:compile (version managed from 5.3.24)\r\n[INFO]    |  \\- org.springframework:spring-jcl:jar:5.3.24:compile (version managed from 5.3.24)\r\n[INFO]    \\- org.yaml:snakeyaml:jar:1.33:compile (version managed from 1.30)\r\n\r\n```\r\nSpecifically, you might notice that slf4j is coming from the `spring-boot-starter-logging` dependency from `spring-boot-starter`\r\n\r\nTaking a closer look at the spring boot logging dependency, i&#39;m still not entirely sure where my issue is coming from. i see there are three dependencies here with slf4j, but they don&#39;t appear to be duplicates:\r\n```\r\n[INFO]    +- org.springframework.boot:spring-boot-starter-logging:jar:2.7.7:compile (version managed from 2.7.7)\r\n[INFO]    |  +- ch.qos.logback:logback-classic:jar:1.2.11:compile (version managed from 1.2.11)\r\n[INFO]    |  |  +- ch.qos.logback:logback-core:jar:1.2.11:compile (version managed from 1.2.11)\r\n[INFO]    |  |  \\- org.slf4j:slf4j-api:jar:1.7.36:compile (version managed from 1.7.32)\r\n[INFO]    |  +- org.apache.logging.log4j:log4j-to-slf4j:jar:2.17.2:compile (version managed from 2.17.2)\r\n[INFO]    |  |  +- (org.slf4j:slf4j-api:jar:1.7.36:compile - version managed from 1.7.35; omitted for duplicate)\r\n[INFO]    |  |  \\- org.apache.logging.log4j:log4j-api:jar:2.17.2:compile (version managed from 2.17.2)\r\n[INFO]    |  |     \\- org.osgi:org.osgi.core:jar:4.3.1:provided\r\n[INFO]    |  \\- org.slf4j:jul-to-slf4j:jar:1.7.36:compile (version managed from 1.7.36)\r\n[INFO]    |     \\- (org.slf4j:slf4j-api:jar:1.7.36:compile - version managed from 1.7.36; omitted for duplicate)\r\n```\r\nSo what&#39;s the issue here? I&#39;m having troubles finding anyone with a similar issue, where most folks are seeing multiple occurrences of slf4j in their dependency tree, though i seem to be struggling to either 1. see where the duplicate is coming from or 2. have a separate issue going on here.\r\n\r\nHere is the pom file that&#39;s giving me issues:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;app.demo.server&lt;/groupId&gt;\r\n        &lt;artifactId&gt;demo-server&lt;/artifactId&gt;\r\n        &lt;version&gt;${revision}&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;groupId&gt;app.demo.server.controller&lt;/groupId&gt;\r\n    &lt;artifactId&gt;controller&lt;/artifactId&gt;\r\n    &lt;version&gt;${revision}&lt;/version&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;!-- main module kotlin required plugins begin --&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${maven-jar-plugin.version}&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;archive&gt;\r\n                        &lt;manifest&gt;\r\n                            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n                            &lt;mainClass&gt;${main.class}&lt;/mainClass&gt;\r\n                        &lt;/manifest&gt;\r\n                    &lt;/archive&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${spring.version}&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;fork&gt;true&lt;/fork&gt;\r\n                    &lt;mainClass&gt;${main.class}&lt;/mainClass&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;repackage&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;!--main module kotlin required plugins end--&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;main.class&gt;app.demo.server.driver.demoController&lt;/main.class&gt;\r\n    &lt;/properties&gt;\r\n&lt;/project&gt;\r\n```\r\nHere is the parent pom:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.7.7&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;groupId&gt;app.demo.server&lt;/groupId&gt;\r\n    &lt;artifactId&gt;demo-server&lt;/artifactId&gt;\r\n    &lt;version&gt;${revision}&lt;/version&gt;\r\n    &lt;packaging&gt;pom&lt;/packaging&gt;\r\n\r\n    &lt;modules&gt;\r\n        &lt;module&gt;controller&lt;/module&gt;\r\n        &lt;module&gt;utilities&lt;/module&gt;\r\n    &lt;/modules&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\r\n            &lt;artifactId&gt;kotlin-stdlib-jdk8&lt;/artifactId&gt;\r\n            &lt;version&gt;${kotlin.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\r\n            &lt;artifactId&gt;kotlin-stdlib&lt;/artifactId&gt;\r\n            &lt;version&gt;${kotlin.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\r\n            &lt;artifactId&gt;kotlin-reflect&lt;/artifactId&gt;\r\n            &lt;version&gt;${kotlin.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n            &lt;version&gt;${spring.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;sourceDirectory&gt;${project.basedir}/src/main/kotlin&lt;/sourceDirectory&gt;\r\n        &lt;testSourceDirectory&gt;${project.basedir}/src/test/kotlin&lt;/testSourceDirectory&gt;\r\n\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\r\n                &lt;artifactId&gt;kotlin-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${kotlin.version}&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;jvmTarget&gt;${java.jvm.version}&lt;/jvmTarget&gt;\r\n                    &lt;compilerPlugins&gt;\r\n                        &lt;plugin&gt;spring&lt;/plugin&gt;\r\n                    &lt;/compilerPlugins&gt;\r\n                &lt;/configuration&gt;\r\n\r\n                &lt;dependencies&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;kotlin-maven-allopen&lt;/artifactId&gt;\r\n                        &lt;version&gt;${kotlin.version}&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;kotlin-maven-noarg&lt;/artifactId&gt;\r\n                        &lt;version&gt;${kotlin.version}&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                &lt;/dependencies&gt;\r\n\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;compile&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;compile&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;test-compile&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;test-compile&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${maven-compiler-plugin.version}&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;${java.jvm.version}&lt;/source&gt;\r\n                    &lt;target&gt;${java.jvm.version}&lt;/target&gt;\r\n                    &lt;release&gt;${java.jvm.version}&lt;/release&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${maven-jar-plugin.version}&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;archive&gt;\r\n                        &lt;manifest&gt;\r\n                            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n                        &lt;/manifest&gt;\r\n                    &lt;/archive&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${maven-assembly-plugin.version}&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;make-assembly&lt;/id&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt; &lt;goal&gt;single&lt;/goal&gt; &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;descriptorRefs&gt;\r\n                                &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n                            &lt;/descriptorRefs&gt;\r\n                            &lt;appendAssemblyId&gt;false&lt;/appendAssemblyId&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;revision&gt;0.1.0&lt;/revision&gt;\r\n        &lt;kotlin.version&gt;1.7.21&lt;/kotlin.version&gt;\r\n        &lt;java.version&gt;11&lt;/java.version&gt;\r\n        &lt;java.jvm.version&gt;11&lt;/java.jvm.version&gt;\r\n        &lt;maven-compiler-plugin.version&gt;3.10.1&lt;/maven-compiler-plugin.version&gt;\r\n        &lt;maven-jar-plugin.version&gt;3.3.0&lt;/maven-jar-plugin.version&gt;\r\n        &lt;maven-assembly-plugin.version&gt;3.4.2&lt;/maven-assembly-plugin.version&gt;\r\n        &lt;spring.version&gt;2.7.7&lt;/spring.version&gt;\r\n        &lt;snakeyaml.version&gt;1.33&lt;/snakeyaml.version&gt;\r\n        &lt;kotlin.compiler.jvmTarget&gt;11&lt;/kotlin.compiler.jvmTarget&gt;\r\n        &lt;logback-classic.version&gt;1.4.5&lt;/logback-classic.version&gt;\r\n        &lt;logback-core.version&gt;1.4.5&lt;/logback-core.version&gt;\r\n    &lt;/properties&gt;\r\n&lt;/project&gt;\r\n```\r\nI am compiling by running `mvn clean install` then running `java -jar controller/target/controller-${version}.jar`.\r\n\r\nI am using kotlin version 7.21 java 11 and mvn 3.6.3","title":"Which dependency is my duplicate Slf4j binding coming from in this maven dependency tree?","body":"<p>I have been slamming my head against my desk for the past week trying to interpret this warning.</p>\n<p>I am getting the following notification in my run output when trying to run my multi-module Spring/Kotlin/Maven application:</p>\n<pre><code>SLF4J: Class path contains multiple SLF4J bindings.\nSLF4J: Found binding in [jar:file:/home/vboxuser/Scratch/demo-server/controller/target/controller-0.1.0.jar!/BOOT-INF/classes!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: Found binding in [jar:file:/home/vboxuser/Scratch/demo-server/controller/target/controller-0.1.0.jar!/BOOT-INF/lib/logback-classic-1.2.11.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.\nSLF4J: Actual binding is of type [ch.qos.logback.classic.util.ContextSelectorStaticBinder]\n</code></pre>\n<p>Here we see there are two bindings coming from my controller module, but i'm having troubles determining where they are both coming from.</p>\n<p>My project is structured like the following with 3 total pom files:</p>\n<pre><code>parent\n |--controller\n |--utilities\n</code></pre>\n<p>Here is my maven dependency tree for the controller module:</p>\n<pre><code>[INFO] --- maven-dependency-plugin:3.3.0:tree (default-cli) @ controller ---\n[INFO] app.demo.server.controller:controller:jar:0.1.0\n[INFO] +- org.jetbrains.kotlin:kotlin-stdlib-jdk8:jar:1.7.21:compile\n[INFO] |  +- (org.jetbrains.kotlin:kotlin-stdlib:jar:1.7.21:compile - version managed from 1.7.21; omitted for duplicate)\n[INFO] |  \\- org.jetbrains.kotlin:kotlin-stdlib-jdk7:jar:1.7.21:compile (version managed from 1.7.21)\n[INFO] |     \\- (org.jetbrains.kotlin:kotlin-stdlib:jar:1.7.21:compile - version managed from 1.7.21; omitted for duplicate)\n[INFO] +- org.jetbrains.kotlin:kotlin-stdlib:jar:1.7.21:compile\n[INFO] |  +- org.jetbrains.kotlin:kotlin-stdlib-common:jar:1.7.21:compile (version managed from 1.7.21)\n[INFO] |  \\- org.jetbrains:annotations:jar:13.0:compile\n[INFO] +- org.jetbrains.kotlin:kotlin-reflect:jar:1.7.21:compile\n[INFO] |  \\- (org.jetbrains.kotlin:kotlin-stdlib:jar:1.7.21:compile - version managed from 1.7.21; omitted for duplicate)\n[INFO] \\- org.springframework.boot:spring-boot-starter:jar:2.7.7:compile\n[INFO]    +- org.springframework.boot:spring-boot:jar:2.7.7:compile (version managed from 2.7.7)\n[INFO]    |  +- (org.springframework:spring-core:jar:5.3.24:compile - version managed from 5.3.24; omitted for duplicate)\n[INFO]    |  \\- org.springframework:spring-context:jar:5.3.24:compile (version managed from 5.3.24)\n[INFO]    |     +- org.springframework:spring-aop:jar:5.3.24:compile (version managed from 5.3.24)\n[INFO]    |     |  +- (org.springframework:spring-beans:jar:5.3.24:compile - version managed from 5.3.24; omitted for duplicate)\n[INFO]    |     |  \\- (org.springframework:spring-core:jar:5.3.24:compile - version managed from 5.3.24; omitted for duplicate)\n[INFO]    |     +- org.springframework:spring-beans:jar:5.3.24:compile (version managed from 5.3.24)\n[INFO]    |     |  \\- (org.springframework:spring-core:jar:5.3.24:compile - version managed from 5.3.24; omitted for duplicate)\n[INFO]    |     +- (org.springframework:spring-core:jar:5.3.24:compile - version managed from 5.3.24; omitted for duplicate)\n[INFO]    |     \\- org.springframework:spring-expression:jar:5.3.24:compile (version managed from 5.3.24)\n[INFO]    |        \\- (org.springframework:spring-core:jar:5.3.24:compile - version managed from 5.3.24; omitted for duplicate)\n[INFO]    +- org.springframework.boot:spring-boot-autoconfigure:jar:2.7.7:compile (version managed from 2.7.7)\n[INFO]    |  \\- (org.springframework.boot:spring-boot:jar:2.7.7:compile - version managed from 2.7.7; omitted for duplicate)\n[INFO]    +- org.springframework.boot:spring-boot-starter-logging:jar:2.7.7:compile (version managed from 2.7.7)\n[INFO]    |  +- ch.qos.logback:logback-classic:jar:1.2.11:compile (version managed from 1.2.11)\n[INFO]    |  |  +- ch.qos.logback:logback-core:jar:1.2.11:compile (version managed from 1.2.11)\n[INFO]    |  |  \\- org.slf4j:slf4j-api:jar:1.7.36:compile (version managed from 1.7.32)\n[INFO]    |  +- org.apache.logging.log4j:log4j-to-slf4j:jar:2.17.2:compile (version managed from 2.17.2)\n[INFO]    |  |  +- (org.slf4j:slf4j-api:jar:1.7.36:compile - version managed from 1.7.35; omitted for duplicate)\n[INFO]    |  |  \\- org.apache.logging.log4j:log4j-api:jar:2.17.2:compile (version managed from 2.17.2)\n[INFO]    |  |     \\- org.osgi:org.osgi.core:jar:4.3.1:provided\n[INFO]    |  \\- org.slf4j:jul-to-slf4j:jar:1.7.36:compile (version managed from 1.7.36)\n[INFO]    |     \\- (org.slf4j:slf4j-api:jar:1.7.36:compile - version managed from 1.7.36; omitted for duplicate)\n[INFO]    +- jakarta.annotation:jakarta.annotation-api:jar:1.3.5:compile (version managed from 1.3.5)\n[INFO]    +- org.springframework:spring-core:jar:5.3.24:compile (version managed from 5.3.24)\n[INFO]    |  \\- org.springframework:spring-jcl:jar:5.3.24:compile (version managed from 5.3.24)\n[INFO]    \\- org.yaml:snakeyaml:jar:1.33:compile (version managed from 1.30)\n\n</code></pre>\n<p>Specifically, you might notice that slf4j is coming from the <code>spring-boot-starter-logging</code> dependency from <code>spring-boot-starter</code></p>\n<p>Taking a closer look at the spring boot logging dependency, i'm still not entirely sure where my issue is coming from. i see there are three dependencies here with slf4j, but they don't appear to be duplicates:</p>\n<pre><code>[INFO]    +- org.springframework.boot:spring-boot-starter-logging:jar:2.7.7:compile (version managed from 2.7.7)\n[INFO]    |  +- ch.qos.logback:logback-classic:jar:1.2.11:compile (version managed from 1.2.11)\n[INFO]    |  |  +- ch.qos.logback:logback-core:jar:1.2.11:compile (version managed from 1.2.11)\n[INFO]    |  |  \\- org.slf4j:slf4j-api:jar:1.7.36:compile (version managed from 1.7.32)\n[INFO]    |  +- org.apache.logging.log4j:log4j-to-slf4j:jar:2.17.2:compile (version managed from 2.17.2)\n[INFO]    |  |  +- (org.slf4j:slf4j-api:jar:1.7.36:compile - version managed from 1.7.35; omitted for duplicate)\n[INFO]    |  |  \\- org.apache.logging.log4j:log4j-api:jar:2.17.2:compile (version managed from 2.17.2)\n[INFO]    |  |     \\- org.osgi:org.osgi.core:jar:4.3.1:provided\n[INFO]    |  \\- org.slf4j:jul-to-slf4j:jar:1.7.36:compile (version managed from 1.7.36)\n[INFO]    |     \\- (org.slf4j:slf4j-api:jar:1.7.36:compile - version managed from 1.7.36; omitted for duplicate)\n</code></pre>\n<p>So what's the issue here? I'm having troubles finding anyone with a similar issue, where most folks are seeing multiple occurrences of slf4j in their dependency tree, though i seem to be struggling to either 1. see where the duplicate is coming from or 2. have a separate issue going on here.</p>\n<p>Here is the pom file that's giving me issues:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;app.demo.server&lt;/groupId&gt;\n        &lt;artifactId&gt;demo-server&lt;/artifactId&gt;\n        &lt;version&gt;${revision}&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;groupId&gt;app.demo.server.controller&lt;/groupId&gt;\n    &lt;artifactId&gt;controller&lt;/artifactId&gt;\n    &lt;version&gt;${revision}&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;!-- main module kotlin required plugins begin --&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${maven-jar-plugin.version}&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;archive&gt;\n                        &lt;manifest&gt;\n                            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                            &lt;mainClass&gt;${main.class}&lt;/mainClass&gt;\n                        &lt;/manifest&gt;\n                    &lt;/archive&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${spring.version}&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;fork&gt;true&lt;/fork&gt;\n                    &lt;mainClass&gt;${main.class}&lt;/mainClass&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;repackage&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;!--main module kotlin required plugins end--&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;properties&gt;\n        &lt;main.class&gt;app.demo.server.driver.demoController&lt;/main.class&gt;\n    &lt;/properties&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Here is the parent pom:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.7&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;groupId&gt;app.demo.server&lt;/groupId&gt;\n    &lt;artifactId&gt;demo-server&lt;/artifactId&gt;\n    &lt;version&gt;${revision}&lt;/version&gt;\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n\n    &lt;modules&gt;\n        &lt;module&gt;controller&lt;/module&gt;\n        &lt;module&gt;utilities&lt;/module&gt;\n    &lt;/modules&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n            &lt;artifactId&gt;kotlin-stdlib-jdk8&lt;/artifactId&gt;\n            &lt;version&gt;${kotlin.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n            &lt;artifactId&gt;kotlin-stdlib&lt;/artifactId&gt;\n            &lt;version&gt;${kotlin.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n            &lt;artifactId&gt;kotlin-reflect&lt;/artifactId&gt;\n            &lt;version&gt;${kotlin.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n            &lt;version&gt;${spring.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;sourceDirectory&gt;${project.basedir}/src/main/kotlin&lt;/sourceDirectory&gt;\n        &lt;testSourceDirectory&gt;${project.basedir}/src/test/kotlin&lt;/testSourceDirectory&gt;\n\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n                &lt;artifactId&gt;kotlin-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${kotlin.version}&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;jvmTarget&gt;${java.jvm.version}&lt;/jvmTarget&gt;\n                    &lt;compilerPlugins&gt;\n                        &lt;plugin&gt;spring&lt;/plugin&gt;\n                    &lt;/compilerPlugins&gt;\n                &lt;/configuration&gt;\n\n                &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n                        &lt;artifactId&gt;kotlin-maven-allopen&lt;/artifactId&gt;\n                        &lt;version&gt;${kotlin.version}&lt;/version&gt;\n                    &lt;/dependency&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n                        &lt;artifactId&gt;kotlin-maven-noarg&lt;/artifactId&gt;\n                        &lt;version&gt;${kotlin.version}&lt;/version&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;compile&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;compile&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n\n                    &lt;execution&gt;\n                        &lt;id&gt;test-compile&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;test-compile&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${maven-compiler-plugin.version}&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;${java.jvm.version}&lt;/source&gt;\n                    &lt;target&gt;${java.jvm.version}&lt;/target&gt;\n                    &lt;release&gt;${java.jvm.version}&lt;/release&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${maven-jar-plugin.version}&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;archive&gt;\n                        &lt;manifest&gt;\n                            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                        &lt;/manifest&gt;\n                    &lt;/archive&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${maven-assembly-plugin.version}&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;make-assembly&lt;/id&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt; &lt;goal&gt;single&lt;/goal&gt; &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;descriptorRefs&gt;\n                                &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n                            &lt;/descriptorRefs&gt;\n                            &lt;appendAssemblyId&gt;false&lt;/appendAssemblyId&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;properties&gt;\n        &lt;revision&gt;0.1.0&lt;/revision&gt;\n        &lt;kotlin.version&gt;1.7.21&lt;/kotlin.version&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n        &lt;java.jvm.version&gt;11&lt;/java.jvm.version&gt;\n        &lt;maven-compiler-plugin.version&gt;3.10.1&lt;/maven-compiler-plugin.version&gt;\n        &lt;maven-jar-plugin.version&gt;3.3.0&lt;/maven-jar-plugin.version&gt;\n        &lt;maven-assembly-plugin.version&gt;3.4.2&lt;/maven-assembly-plugin.version&gt;\n        &lt;spring.version&gt;2.7.7&lt;/spring.version&gt;\n        &lt;snakeyaml.version&gt;1.33&lt;/snakeyaml.version&gt;\n        &lt;kotlin.compiler.jvmTarget&gt;11&lt;/kotlin.compiler.jvmTarget&gt;\n        &lt;logback-classic.version&gt;1.4.5&lt;/logback-classic.version&gt;\n        &lt;logback-core.version&gt;1.4.5&lt;/logback-core.version&gt;\n    &lt;/properties&gt;\n&lt;/project&gt;\n</code></pre>\n<p>I am compiling by running <code>mvn clean install</code> then running <code>java -jar controller/target/controller-${version}.jar</code>.</p>\n<p>I am using kotlin version 7.21 java 11 and mvn 3.6.3</p>\n"},{"tags":["java","mysql","amazon-web-services","aws-lambda","amazon-rds"],"comments":[{"owner":{"account_id":25638797,"reputation":1268,"user_id":19408037,"display_name":"brushtakopo"},"score":0,"creation_date":1673256944,"post_id":75049101,"comment_id":132449251,"body_markdown":"you could put the `DriverManager.getConnection` outside the handler so that it is shared across lambda invocation within the same execution environment. In order to reduce even more this init time, you could use provision concurrency, so that your lambda is warm and ready to serve request.","body":"you could put the <code>DriverManager.getConnection</code> outside the handler so that it is shared across lambda invocation within the same execution environment. In order to reduce even more this init time, you could use provision concurrency, so that your lambda is warm and ready to serve request."},{"owner":{"account_id":24400981,"reputation":11,"user_id":18329733,"display_name":"Nithish Subramaniyan"},"score":0,"creation_date":1673286996,"post_id":75049101,"comment_id":132460402,"body_markdown":"Thanks for the replay . Provision concurrency may be the most related answer for this issue.","body":"Thanks for the replay . Provision concurrency may be the most related answer for this issue."}],"owner":{"account_id":24400981,"reputation":11,"user_id":18329733,"display_name":"Nithish Subramaniyan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":314,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673234065,"creation_date":1673192475,"question_id":75049101,"body_markdown":"As we can&#39;t use native DBCP or any kind of java connection pool in AWS Lambda I have been using RDS proxy to connect MYSQL DB, But Still it takes 5 to 6 secs to make connection but I need the response from the lambda in &lt;1 secs it there any way of keeping the connection warm. I&#39;m using *DriverManager.getConnection* to get connection from RDS proxy \r\n\r\nI have tired to connect proxy using \r\n*java.sql.DriverManager*\r\n\r\n```\r\nConnection con = DriverManager.getConnection((&quot;DB_Primary_IP&quot;),(&quot;DB_Username&quot;),(&quot;DB_Password&quot;));\r\n```\r\n\r\n\r\n\r\n","title":"AWS Lambda - RDS Proxy creating a connection takes more time","body":"<p>As we can't use native DBCP or any kind of java connection pool in AWS Lambda I have been using RDS proxy to connect MYSQL DB, But Still it takes 5 to 6 secs to make connection but I need the response from the lambda in &lt;1 secs it there any way of keeping the connection warm. I'm using <em>DriverManager.getConnection</em> to get connection from RDS proxy</p>\n<p>I have tired to connect proxy using\n<em>java.sql.DriverManager</em></p>\n<pre><code>Connection con = DriverManager.getConnection((&quot;DB_Primary_IP&quot;),(&quot;DB_Username&quot;),(&quot;DB_Password&quot;));\n</code></pre>\n"},{"tags":["java","spring-boot","redisson"],"comments":[{"owner":{"account_id":399098,"reputation":10383,"user_id":764206,"display_name":"Nikita Koksharov"},"score":0,"creation_date":1681718098,"post_id":75052831,"comment_id":134095733,"body_markdown":"Can you share the exception?","body":"Can you share the exception?"}],"owner":{"account_id":8718526,"reputation":49,"user_id":6522341,"display_name":"Aishwarya Patil"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":625,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673233489,"creation_date":1673233489,"question_id":75052831,"body_markdown":"i am using Redisson-spring-boot-starter 3.17.0 and spring-boot version 2.7.1 below is my pom file , the application fails to start with the below dependencies.\r\n\r\nI tried playing around with different versions but still same failure. Tried adding spring-data-26 and spring-session-data-redis along with redisson-spring-boot-starter dint help. Replaced the redisson spring boot starter dependency with just redisson, but that gave cacheManager bean not found error. \r\n\r\ni am implementing Rate limiting using bucket4j and redis referring this implementation: https://www.freecodecamp.org/news/rate-limiting-with-bucket4j-and-redis/   \r\n\r\n&gt; &gt;&lt;properties&gt;\r\n&gt;     &lt;revision&gt;0.0.0-SNAPSHOT&lt;/revision&gt;\r\n&gt;     &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n&gt;     &lt;java.version&gt;11&lt;/java.version&gt;\r\n&gt;     &lt;maven.compiler.source&gt;${java.version}&lt;/maven.compiler.source&gt;\r\n&gt;     &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n&gt;     &lt;lombok-mapstruct-binding.version&gt;0.2.0&lt;/lombok-mapstruct-binding.version&gt;\r\n&gt;     &lt;mapstruct.version&gt;1.4.2.Final&lt;/mapstruct.version&gt;\r\n&gt;     &lt;micrometer.version&gt;1.10.1&lt;/micrometer.version&gt;\r\n&gt;     &lt;h2.version&gt;2.1.210&lt;/h2.version&gt;\r\n&gt;     &lt;jose4j.version&gt;0.7.10&lt;/jose4j.version&gt;\r\n&gt;     &lt;junit-jupiter.version&gt;5.8.1&lt;/junit-jupiter.version&gt;\r\n&gt;     &lt;springdoc.version&gt;1.6.6&lt;/springdoc.version&gt;\r\n&gt;     &lt;log4j2.version&gt;2.17.1&lt;/log4j2.version&gt;\r\n&gt;     &lt;spring-boot-starter-security.version&gt;2.6.3&lt;/spring-boot-starter-security.version&gt;\r\n&gt;     &lt;!--Official plugins--&gt;\r\n&gt;     &lt;maven-surefire-plugin.version&gt;3.0.0-M5&lt;/maven-surefire-plugin.version&gt;\r\n&gt;     &lt;maven-failsafe-plugin-version&gt;${maven-surefire-plugin.version}&lt;/maven-failsafe-plugin-version&gt;\r\n&gt;     &lt;git-commit-id-plugin.version&gt;5.0.0&lt;/git-commit-id-plugin.version&gt;\r\n&gt;     &lt;jacoco-plugin-version&gt;0.8.7&lt;/jacoco-plugin-version&gt;\r\n&gt;     &lt;spotless.version&gt;2.20.2&lt;/spotless.version&gt;\r\n&gt;     &lt;exists-maven-plugin.version&gt;0.6.0&lt;/exists-maven-plugin.version&gt;\r\n&gt;     &lt;google-java-format.version&gt;1.13.0&lt;/google-java-format.version&gt;\r\n&gt;     &lt;wagon-ssh-external.version&gt;3.5.1&lt;/wagon-ssh-external.version&gt;\r\n&gt;     &lt;bucket4j.version&gt;0.5.2&lt;/bucket4j.version&gt;   &lt;/properties&gt;   &lt;dependencies&gt;\r\n&gt;     &lt;dependency&gt;\r\n&gt;       &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n&gt;       &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n&gt;       &lt;exclusions&gt;\r\n&gt;         &lt;exclusion&gt;\r\n&gt;           &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n&gt;           &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n&gt;         &lt;/exclusion&gt;\r\n&gt;         &lt;exclusion&gt;\r\n&gt;           &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n&gt;           &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n&gt;         &lt;/exclusion&gt;\r\n&gt;       &lt;/exclusions&gt;\r\n&gt;     &lt;/dependency&gt;\r\n&gt;     &lt;dependency&gt;\r\n&gt;       &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n&gt;       &lt;artifactId&gt;spring-boot-starter-jetty&lt;/artifactId&gt;\r\n&gt;     &lt;/dependency&gt;\r\n&gt;     &lt;dependency&gt;\r\n&gt;       &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n&gt;       &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n&gt;     &lt;/dependency&gt;\r\n&gt;     &lt;dependency&gt;\r\n&gt;       &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n&gt;       &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n&gt;     &lt;/dependency&gt;\r\n&gt;     &lt;dependency&gt;\r\n&gt;       &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n&gt;       &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n&gt;     &lt;/dependency&gt;\r\n&gt;     &lt;dependency&gt;\r\n&gt;       &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n&gt;       &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\r\n&gt;       &lt;optional&gt;true&lt;/optional&gt;\r\n&gt;     &lt;/dependency&gt;\r\n&gt;     &lt;dependency&gt;\r\n&gt;       &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\r\n&gt;       &lt;artifactId&gt;micrometer-registry-prometheus&lt;/artifactId&gt;\r\n&gt;       &lt;version&gt;${micrometer.version}&lt;/version&gt;\r\n&gt;     &lt;/dependency&gt;\r\n&gt;     &lt;dependency&gt;\r\n&gt;       &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n&gt;       &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n&gt;       &lt;scope&gt;provided&lt;/scope&gt;\r\n&gt;     &lt;/dependency&gt;\r\n&gt;     &lt;dependency&gt;\r\n&gt;       &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n&gt;       &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n&gt;       &lt;version&gt;${springdoc.version}&lt;/version&gt;\r\n&gt;     &lt;/dependency&gt;\r\n&gt;     &lt;dependency&gt;\r\n&gt;       &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n&gt;       &lt;artifactId&gt;springdoc-openapi-webmvc-core&lt;/artifactId&gt;\r\n&gt;       &lt;version&gt;${springdoc.version}&lt;/version&gt;\r\n&gt;     &lt;/dependency&gt;\r\n&gt;     &lt;dependency&gt;\r\n&gt;       &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n&gt;       &lt;artifactId&gt;springdoc-openapi-data-rest&lt;/artifactId&gt;\r\n&gt;       &lt;version&gt;${springdoc.version}&lt;/version&gt;\r\n&gt;     &lt;/dependency&gt;\r\n&gt;     &lt;dependency&gt;\r\n&gt;       &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n&gt;       &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\r\n&gt;       &lt;version&gt;${mapstruct.version}&lt;/version&gt;\r\n&gt;     &lt;/dependency&gt;\r\n&gt;     &lt;dependency&gt;\r\n&gt;       &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n&gt;       &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n&gt;       &lt;version&gt;${mapstruct.version}&lt;/version&gt;\r\n&gt;       &lt;optional&gt;true&lt;/optional&gt;\r\n&gt;     &lt;/dependency&gt;\r\n&gt;     &lt;dependency&gt;\r\n&gt;       &lt;groupId&gt;org.bitbucket.b_c&lt;/groupId&gt;\r\n&gt;       &lt;artifactId&gt;jose4j&lt;/artifactId&gt;\r\n&gt;       &lt;version&gt;${jose4j.version}&lt;/version&gt;\r\n&gt;     &lt;/dependency&gt;\r\n&gt;     &lt;!-- Configuring Spring Boot to use Log4j2 --&gt;\r\n&gt;     &lt;dependency&gt;\r\n&gt;       &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n&gt;       &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\r\n&gt;     &lt;/dependency&gt;\r\n&gt;     &lt;dependency&gt;\r\n&gt;       &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n&gt;       &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n&gt;       &lt;scope&gt;test&lt;/scope&gt;\r\n&gt;     &lt;/dependency&gt;\r\n&gt;     &lt;dependency&gt;\r\n&gt;       &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n&gt;       &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n&gt;       &lt;scope&gt;test&lt;/scope&gt;\r\n&gt;     &lt;/dependency&gt;\r\n&gt;     &lt;dependency&gt;\r\n&gt;       &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n&gt;       &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n&gt;       &lt;version&gt;${h2.version}&lt;/version&gt;\r\n&gt;       &lt;scope&gt;test&lt;/scope&gt;\r\n&gt;     &lt;/dependency&gt;\r\n&gt;     &lt;dependency&gt;\r\n&gt;       &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n&gt;       &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n&gt;       &lt;version&gt;${spring-boot-starter-security.version}&lt;/version&gt;\r\n&gt;     &lt;/dependency&gt;\r\n&gt;     &lt;dependency&gt;\r\n&gt;       &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n&gt;       &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n&gt;     &lt;/dependency&gt;\r\n&gt; \r\n&gt;     &lt;dependency&gt;\r\n&gt;       &lt;groupId&gt;org.redisson&lt;/groupId&gt;\r\n&gt;       &lt;artifactId&gt;redisson-spring-boot-starter&lt;/artifactId&gt;\r\n&gt;       &lt;version&gt;3.17.0&lt;/version&gt;\r\n&gt;     &lt;/dependency&gt;\r\n&gt; \r\n&gt;     &lt;!-- Bucket4J starter = Bucket4J + JCache --&gt;\r\n&gt;     &lt;dependency&gt;\r\n&gt;       &lt;groupId&gt;com.giffing.bucket4j.spring.boot.starter&lt;/groupId&gt;\r\n&gt;       &lt;artifactId&gt;bucket4j-spring-boot-starter&lt;/artifactId&gt;\r\n&gt;       &lt;version&gt;0.5.2&lt;/version&gt;\r\n&gt;     &lt;/dependency&gt;   &lt;/dependencies&gt;\r\n\r\n","title":"Redisson-spring-boot-starter library fails to start the application","body":"<p>i am using Redisson-spring-boot-starter 3.17.0 and spring-boot version 2.7.1 below is my pom file , the application fails to start with the below dependencies.</p>\n<p>I tried playing around with different versions but still same failure. Tried adding spring-data-26 and spring-session-data-redis along with redisson-spring-boot-starter dint help. Replaced the redisson spring boot starter dependency with just redisson, but that gave cacheManager bean not found error.</p>\n<p>i am implementing Rate limiting using bucket4j and redis referring this implementation: <a href=\"https://www.freecodecamp.org/news/rate-limiting-with-bucket4j-and-redis/\" rel=\"nofollow noreferrer\">https://www.freecodecamp.org/news/rate-limiting-with-bucket4j-and-redis/</a></p>\n<blockquote>\n<blockquote>\n\n</blockquote>\n<pre><code>&lt;revision&gt;0.0.0-SNAPSHOT&lt;/revision&gt;\n&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n&lt;java.version&gt;11&lt;/java.version&gt;\n&lt;maven.compiler.source&gt;${java.version}&lt;/maven.compiler.source&gt;\n&lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n&lt;lombok-mapstruct-binding.version&gt;0.2.0&lt;/lombok-mapstruct-binding.version&gt;\n&lt;mapstruct.version&gt;1.4.2.Final&lt;/mapstruct.version&gt;\n&lt;micrometer.version&gt;1.10.1&lt;/micrometer.version&gt;\n&lt;h2.version&gt;2.1.210&lt;/h2.version&gt;\n&lt;jose4j.version&gt;0.7.10&lt;/jose4j.version&gt;\n&lt;junit-jupiter.version&gt;5.8.1&lt;/junit-jupiter.version&gt;\n&lt;springdoc.version&gt;1.6.6&lt;/springdoc.version&gt;\n&lt;log4j2.version&gt;2.17.1&lt;/log4j2.version&gt;\n&lt;spring-boot-starter-security.version&gt;2.6.3&lt;/spring-boot-starter-security.version&gt;\n&lt;!--Official plugins--&gt;\n&lt;maven-surefire-plugin.version&gt;3.0.0-M5&lt;/maven-surefire-plugin.version&gt;\n&lt;maven-failsafe-plugin-version&gt;${maven-surefire-plugin.version}&lt;/maven-failsafe-plugin-version&gt;\n&lt;git-commit-id-plugin.version&gt;5.0.0&lt;/git-commit-id-plugin.version&gt;\n&lt;jacoco-plugin-version&gt;0.8.7&lt;/jacoco-plugin-version&gt;\n&lt;spotless.version&gt;2.20.2&lt;/spotless.version&gt;\n&lt;exists-maven-plugin.version&gt;0.6.0&lt;/exists-maven-plugin.version&gt;\n&lt;google-java-format.version&gt;1.13.0&lt;/google-java-format.version&gt;\n&lt;wagon-ssh-external.version&gt;3.5.1&lt;/wagon-ssh-external.version&gt;\n&lt;bucket4j.version&gt;0.5.2&lt;/bucket4j.version&gt;   &lt;/properties&gt;   &lt;dependencies&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n  &lt;exclusions&gt;\n    &lt;exclusion&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n    &lt;/exclusion&gt;\n    &lt;exclusion&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n    &lt;/exclusion&gt;\n  &lt;/exclusions&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-boot-starter-jetty&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n  &lt;optional&gt;true&lt;/optional&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\n  &lt;artifactId&gt;micrometer-registry-prometheus&lt;/artifactId&gt;\n  &lt;version&gt;${micrometer.version}&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n  &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n  &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n  &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n  &lt;version&gt;${springdoc.version}&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n  &lt;artifactId&gt;springdoc-openapi-webmvc-core&lt;/artifactId&gt;\n  &lt;version&gt;${springdoc.version}&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n  &lt;artifactId&gt;springdoc-openapi-data-rest&lt;/artifactId&gt;\n  &lt;version&gt;${springdoc.version}&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n  &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\n  &lt;version&gt;${mapstruct.version}&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n  &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n  &lt;version&gt;${mapstruct.version}&lt;/version&gt;\n  &lt;optional&gt;true&lt;/optional&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.bitbucket.b_c&lt;/groupId&gt;\n  &lt;artifactId&gt;jose4j&lt;/artifactId&gt;\n  &lt;version&gt;${jose4j.version}&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;!-- Configuring Spring Boot to use Log4j2 --&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n  &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n  &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n  &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n  &lt;artifactId&gt;h2&lt;/artifactId&gt;\n  &lt;version&gt;${h2.version}&lt;/version&gt;\n  &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n  &lt;version&gt;${spring-boot-starter-security.version}&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n  &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n  &lt;groupId&gt;org.redisson&lt;/groupId&gt;\n  &lt;artifactId&gt;redisson-spring-boot-starter&lt;/artifactId&gt;\n  &lt;version&gt;3.17.0&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;!-- Bucket4J starter = Bucket4J + JCache --&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;com.giffing.bucket4j.spring.boot.starter&lt;/groupId&gt;\n  &lt;artifactId&gt;bucket4j-spring-boot-starter&lt;/artifactId&gt;\n  &lt;version&gt;0.5.2&lt;/version&gt;\n&lt;/dependency&gt;   &lt;/dependencies&gt;\n</code></pre>\n</blockquote>\n"},{"tags":["java","webserver","serversocket","3d-secure"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1673257120,"post_id":75052694,"comment_id":132449305,"body_markdown":"Web servers are sort of public by design but in your case basic authentication should be adequate","body":"Web servers are sort of public by design but in your case basic authentication should be adequate"},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1674141331,"post_id":75052694,"comment_id":132655351,"body_markdown":"A long time ago, there was a `Jetty Web Server` application on the Android phone, you can install it on your android phone, and start it, you can access the phone&#39;s local Web Server on the phone. To `avoid external access`, bind the Jetty Web Server&#39;s IP to `127.0.0.1`. Of course, you need to put the relevant web pages and image files in a specific directory of the mobile phone as the content of the web server.","body":"A long time ago, there was a <code>Jetty Web Server</code> application on the Android phone, you can install it on your android phone, and start it, you can access the phone&#39;s local Web Server on the phone. To <code>avoid external access</code>, bind the Jetty Web Server&#39;s IP to <code>127.0.0.1</code>. Of course, you need to put the relevant web pages and image files in a specific directory of the mobile phone as the content of the web server."}],"owner":{"account_id":21497057,"reputation":23,"user_id":15841916,"display_name":"Cheat Code"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673231409,"creation_date":1673231409,"question_id":75052694,"body_markdown":"I am a student and would like to webscrap a school site to get my assignments that aren&#39;t done yet. I already figured out how to webscrap the site, but I want to be able to see the information on my phone, so I used the java server socket docs to create  webserver but I don&#39;t know if it&#39;s safe to even do that. The information is not sensitive so I don&#39;t care if anyone online can see it but I am worried that I might be unwillingly setting myself up to getting hacked. I would like to know if this is stupid idea, and a better and safer alternative exist. Also if someone could give me tips on how to making if safe if that is possible.\r\n\r\nPS. I chose to try to create a webserver instead of just buying hosting because I don&#39;t have money, so buying hosting isn&#39;t an option. thx\r\n\r\nI have googled a lot in the past few days, including how to create a secure webserver with java etc. and also if serversockets are safe but the results are inconclusive. Most say it&#39;s better not to even attempt as security is super hard, and others say serversockts are safe.","title":"Is it safe to use server socket(java) to create a webserver to host a basic webpage","body":"<p>I am a student and would like to webscrap a school site to get my assignments that aren't done yet. I already figured out how to webscrap the site, but I want to be able to see the information on my phone, so I used the java server socket docs to create  webserver but I don't know if it's safe to even do that. The information is not sensitive so I don't care if anyone online can see it but I am worried that I might be unwillingly setting myself up to getting hacked. I would like to know if this is stupid idea, and a better and safer alternative exist. Also if someone could give me tips on how to making if safe if that is possible.</p>\n<p>PS. I chose to try to create a webserver instead of just buying hosting because I don't have money, so buying hosting isn't an option. thx</p>\n<p>I have googled a lot in the past few days, including how to create a secure webserver with java etc. and also if serversockets are safe but the results are inconclusive. Most say it's better not to even attempt as security is super hard, and others say serversockts are safe.</p>\n"},{"tags":["java","spring-boot","jackson2","jackson-databind","vavr"],"comments":[{"owner":{"account_id":13146294,"reputation":674,"user_id":9496221,"display_name":"PolygonParrot"},"score":0,"creation_date":1545689927,"post_id":53917859,"comment_id":94678909,"body_markdown":"What does FooCommand looks like? The class in your question is `RegisterConfiguration` but the return value is `Try&lt;FooCommand&gt;`.","body":"What does FooCommand looks like? The class in your question is <code>RegisterConfiguration</code> but the return value is <code>Try&lt;FooCommand&gt;</code>."},{"owner":{"display_name":"user3018350"},"score":0,"creation_date":1545690343,"post_id":53917859,"comment_id":94678964,"body_markdown":"I have corrected class name in example to FooCommand. Thanks for pointing it out.","body":"I have corrected class name in example to FooCommand. Thanks for pointing it out."},{"owner":{"account_id":5592234,"reputation":4576,"user_id":4431053,"display_name":"Mohsen"},"score":0,"creation_date":1545690472,"post_id":53917859,"comment_id":94678984,"body_markdown":"I think you should create a constructor and put `@JsonCreator` on top of the constructor","body":"I think you should create a constructor and put <code>@JsonCreator</code> on top of the constructor"},{"owner":{"display_name":"user3018350"},"score":0,"creation_date":1545690650,"post_id":53917859,"comment_id":94679009,"body_markdown":"How is then FooCommand::of() method going to be called?","body":"How is then FooCommand::of() method going to be called?"},{"owner":{"account_id":13146294,"reputation":674,"user_id":9496221,"display_name":"PolygonParrot"},"score":0,"creation_date":1545691167,"post_id":53917859,"comment_id":94679062,"body_markdown":"@SilvioMarijic\n`I am using spring 5 and it&#39;s annotated to deserialize request body automatically`\nI guess Spring calls it.","body":"@SilvioMarijic <code>I am using spring 5 and it&#39;s annotated to deserialize request body automatically</code> I guess Spring calls it."},{"owner":{"account_id":13146294,"reputation":674,"user_id":9496221,"display_name":"PolygonParrot"},"score":1,"creation_date":1545693233,"post_id":53917859,"comment_id":94679301,"body_markdown":"It seems like Jackson only uses factory methods if they have the same return type even if they got the `@JsonCreator` Annotation.","body":"It seems like Jackson only uses factory methods if they have the same return type even if they got the <code>@JsonCreator</code> Annotation."},{"owner":{"display_name":"user3018350"},"score":0,"creation_date":1545698239,"post_id":53917859,"comment_id":94679898,"body_markdown":"Yeah, that is wierd, I have no clue why that restriction on the return type. Everything works fine when I just return instance of FooCommand without wrapping it in a Try","body":"Yeah, that is wierd, I have no clue why that restriction on the return type. Everything works fine when I just return instance of FooCommand without wrapping it in a Try"}],"answers":[{"tags":[],"owner":{"account_id":187950,"reputation":2035,"user_id":426371,"accept_rate":82,"display_name":"neXus"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673229977,"creation_date":1673229977,"answer_id":75052598,"question_id":53917859,"body_markdown":"I had a similar problem that I fixed by using Converters: [Using Jackson, how can I deserialize values using static factory methods that return wrappers with a generic type?][1]\r\n\r\nI haven&#39;t yet found how to apply the converters automatically, so you have to annotate every occurrence of the wrapped type in your requests.\r\n\r\n```java\r\npublic class Request {\r\n    @JsonDeserialize(converter = FooCommandConverter.class)\r\n    Try&lt;FooCommand&gt; command;\r\n}\r\n```\r\n\r\nYou can write a [Converter][2] like so:\r\n\r\n```java\r\npublic class FooCommandConverter\r\n        extends StdConverter&lt;FooCommandConverter.DTO, Try&lt;FooCommand&gt;&gt; {\r\n\r\n    @Override\r\n    public Try&lt;FooCommand&gt; convert(FooCommandConverter.DTO dto) {\r\n        return FooCommand.of(\r\n            dto.foo,\r\n            dto.bar\r\n        );\r\n    }\r\n\r\n    public static class DTO {\r\n        public String foo;\r\n        public String bar;\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/75052490/426371\r\n  [2]: https://fasterxml.github.io/jackson-databind/javadoc/2.14/com/fasterxml/jackson/databind/util/Converter.html","title":"Jackson - @JsonCreator return generics","body":"<p>I had a similar problem that I fixed by using Converters: <a href=\"https://stackoverflow.com/a/75052490/426371\">Using Jackson, how can I deserialize values using static factory methods that return wrappers with a generic type?</a></p>\n<p>I haven't yet found how to apply the converters automatically, so you have to annotate every occurrence of the wrapped type in your requests.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Request {\n    @JsonDeserialize(converter = FooCommandConverter.class)\n    Try&lt;FooCommand&gt; command;\n}\n</code></pre>\n<p>You can write a <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.14/com/fasterxml/jackson/databind/util/Converter.html\" rel=\"nofollow noreferrer\">Converter</a> like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class FooCommandConverter\n        extends StdConverter&lt;FooCommandConverter.DTO, Try&lt;FooCommand&gt;&gt; {\n\n    @Override\n    public Try&lt;FooCommand&gt; convert(FooCommandConverter.DTO dto) {\n        return FooCommand.of(\n            dto.foo,\n            dto.bar\n        );\n    }\n\n    public static class DTO {\n        public String foo;\n        public String bar;\n    }\n}\n</code></pre>\n"}],"owner":{"display_name":"user3018350"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":773,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1673229977,"creation_date":1545687510,"question_id":53917859,"body_markdown":"I want to integrate vavr validation library in my command dto&#39;s in a way that when command dto is deserialized from  request, return type of the static factory will be Try&lt;Command&gt; but jackson is throwing following error : \r\n\r\n&gt; Type definition error: [simple type, class com.foo.command.FooCommand]; nested exception is com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot construct instance of `com.foo.command.FooCommand` (no Creators, like default construct, exist): cannot deserialize from Object value (no delegate- or property-based Creator)\r\n\r\n\r\nHere is FooCommand\r\n\r\n    @AllArgsConstructor(access = AccessLevel.PRIVATE)\r\n    public final class FooCommand {\r\n        private String foo;\r\n        private String bar;\r\n    \r\n        @JsonCreator\r\n        public static Try&lt;FooCommand&gt; of(\r\n                @JsonProperty(&quot;foo&quot;) String foo,\r\n                @JsonProperty(&quot;bar&quot;) String bar\r\n        ) {\r\n            return Try.of(() -&gt; {\r\n                //Validate values\r\n            });\r\n        }\r\n    }\r\n\r\nI am using spring 5 and it&#39;s annotated to deserialize request body automatically into controller parameter. \r\nIs something like this possible ? Thanks in advance.","title":"Jackson - @JsonCreator return generics","body":"<p>I want to integrate vavr validation library in my command dto's in a way that when command dto is deserialized from  request, return type of the static factory will be Try but jackson is throwing following error : </p>\n\n<blockquote>\n  <p>Type definition error: [simple type, class com.foo.command.FooCommand]; nested exception is com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot construct instance of <code>com.foo.command.FooCommand</code> (no Creators, like default construct, exist): cannot deserialize from Object value (no delegate- or property-based Creator)</p>\n</blockquote>\n\n<p>Here is FooCommand</p>\n\n<pre><code>@AllArgsConstructor(access = AccessLevel.PRIVATE)\npublic final class FooCommand {\n    private String foo;\n    private String bar;\n\n    @JsonCreator\n    public static Try&lt;FooCommand&gt; of(\n            @JsonProperty(\"foo\") String foo,\n            @JsonProperty(\"bar\") String bar\n    ) {\n        return Try.of(() -&gt; {\n            //Validate values\n        });\n    }\n}\n</code></pre>\n\n<p>I am using spring 5 and it's annotated to deserialize request body automatically into controller parameter. \nIs something like this possible ? Thanks in advance.</p>\n"},{"tags":["java","javafx","3d","javafx-3d"],"comments":[{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1673359236,"post_id":75052569,"comment_id":132477215,"body_markdown":"There is an [example here](https://stackoverflow.com/questions/19459012/how-to-create-custom-3d-model-in-javafx-8).","body":"There is an <a href=\"https://stackoverflow.com/questions/19459012/how-to-create-custom-3d-model-in-javafx-8\">example here</a>."},{"owner":{"account_id":10283144,"reputation":2440,"user_id":7587451,"display_name":"Giovanni Contreras"},"score":0,"creation_date":1673359998,"post_id":75052569,"comment_id":132477518,"body_markdown":"thanks @jewelsea  , CheckBox approach . Good idea &#39;cause drawmode has 2 options .","body":"thanks @jewelsea  , CheckBox approach . Good idea &#39;cause drawmode has 2 options ."}],"answers":[{"tags":[],"owner":{"account_id":10283144,"reputation":2440,"user_id":7587451,"display_name":"Giovanni Contreras"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1673229469,"creation_date":1673229469,"answer_id":75052570,"question_id":75052569,"body_markdown":"**Changing draw mode with radio buttons**\r\n\r\n[![drawmode javafx][1]][1]\r\n\r\nIn this approach a [`Box`][2] instance change its [`DrawMode`][3] with radiobuttons.\r\n\r\nThis is a single class javafx you can try .\r\n\r\n**App.java**\r\n\r\n    public class App extends Application {\r\n    \r\n        @Override\r\n        public void start(Stage stage) {\r\n    \r\n            var perspective = new PerspectiveCamera(true);\r\n            perspective.setNearClip(0.1);\r\n            perspective.setFarClip(500);\r\n            perspective.setTranslateZ(-150);\r\n            \r\n            \r\n            \r\n            Shape3D cube = new Box(50, 50, 50);\r\n            cube.setCullFace(CullFace.NONE);\r\n            cube.setMaterial(new PhongMaterial(Color.CORAL));\r\n    \r\n            var toggleGroup = new ToggleGroup();\r\n            var solid = new RadioButton(&quot;solid&quot;);\r\n            solid.setToggleGroup(toggleGroup);\r\n            solid.setSelected(true);\r\n            var wire = new RadioButton(&quot;wireframe&quot;);\r\n            wire.setToggleGroup(toggleGroup);\r\n    \r\n            var hBox = new HBox(solid, wire);\r\n    \r\n            toggleGroup.selectedToggleProperty().addListener((o) -&gt; {\r\n                Toggle selectedToggle = toggleGroup.getSelectedToggle();\r\n    \r\n                if (selectedToggle == solid) {\r\n                    cube.setDrawMode(DrawMode.FILL);\r\n                }\r\n                if (selectedToggle == wire) {\r\n                    cube.setDrawMode(DrawMode.LINE);\r\n    \r\n                }\r\n    \r\n            });\r\n    \r\n            var group3d = new Group(perspective, cube);\r\n    \r\n            var subscene = new SubScene(group3d, 300, 400, true, SceneAntialiasing.BALANCED);\r\n            subscene.setCamera(perspective);\r\n    \r\n            var stack = new StackPane(subscene, hBox);\r\n    \r\n            stage.setScene(new Scene(stack, 300, 400));\r\n            stage.show();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch();\r\n        }\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QAC75.gif\r\n  [2]: https://openjfx.io/javadoc/18/javafx.graphics/javafx/scene/shape/Box.html\r\n  [3]: https://openjfx.io/javadoc/18/javafx.graphics/javafx/scene/shape/DrawMode.html","title":"How to change between wireframe and solid in javafx","body":"<p><strong>Changing draw mode with radio buttons</strong></p>\n<p><a href=\"https://i.stack.imgur.com/QAC75.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QAC75.gif\" alt=\"drawmode javafx\" /></a></p>\n<p>In this approach a <a href=\"https://openjfx.io/javadoc/18/javafx.graphics/javafx/scene/shape/Box.html\" rel=\"nofollow noreferrer\"><code>Box</code></a> instance change its <a href=\"https://openjfx.io/javadoc/18/javafx.graphics/javafx/scene/shape/DrawMode.html\" rel=\"nofollow noreferrer\"><code>DrawMode</code></a> with radiobuttons.</p>\n<p>This is a single class javafx you can try .</p>\n<p><strong>App.java</strong></p>\n<pre><code>public class App extends Application {\n\n    @Override\n    public void start(Stage stage) {\n\n        var perspective = new PerspectiveCamera(true);\n        perspective.setNearClip(0.1);\n        perspective.setFarClip(500);\n        perspective.setTranslateZ(-150);\n        \n        \n        \n        Shape3D cube = new Box(50, 50, 50);\n        cube.setCullFace(CullFace.NONE);\n        cube.setMaterial(new PhongMaterial(Color.CORAL));\n\n        var toggleGroup = new ToggleGroup();\n        var solid = new RadioButton(&quot;solid&quot;);\n        solid.setToggleGroup(toggleGroup);\n        solid.setSelected(true);\n        var wire = new RadioButton(&quot;wireframe&quot;);\n        wire.setToggleGroup(toggleGroup);\n\n        var hBox = new HBox(solid, wire);\n\n        toggleGroup.selectedToggleProperty().addListener((o) -&gt; {\n            Toggle selectedToggle = toggleGroup.getSelectedToggle();\n\n            if (selectedToggle == solid) {\n                cube.setDrawMode(DrawMode.FILL);\n            }\n            if (selectedToggle == wire) {\n                cube.setDrawMode(DrawMode.LINE);\n\n            }\n\n        });\n\n        var group3d = new Group(perspective, cube);\n\n        var subscene = new SubScene(group3d, 300, 400, true, SceneAntialiasing.BALANCED);\n        subscene.setCamera(perspective);\n\n        var stack = new StackPane(subscene, hBox);\n\n        stage.setScene(new Scene(stack, 300, 400));\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":10283144,"reputation":2440,"user_id":7587451,"display_name":"Giovanni Contreras"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":75052570,"answer_count":1,"score":4,"last_activity_date":1673229469,"creation_date":1673229469,"question_id":75052569,"body_markdown":"3d software allow  user to change draw mode dinamically. It can be implemented on javafx ?","title":"How to change between wireframe and solid in javafx","body":"<p>3d software allow  user to change draw mode dinamically. It can be implemented on javafx ?</p>\n"},{"tags":["java","hibernate","jakarta-ee","jpa"],"comments":[{"owner":{"account_id":1275953,"reputation":26182,"user_id":1231230,"accept_rate":76,"display_name":"Ankur Singhal"},"score":1,"creation_date":1422515460,"post_id":28208794,"comment_id":44782441,"body_markdown":"yes you can pass the `List&lt;Long&gt; ids` to the above query, just `addParameter(myIds, ids)`, query will be `select e from Employee e where e.homeAddress.id IN : ids`","body":"yes you can pass the <code>List&lt;Long&gt; ids</code> to the above query, just <code>addParameter(myIds, ids)</code>, query will be <code>select e from Employee e where e.homeAddress.id IN : ids</code>"}],"answers":[{"tags":[],"owner":{"account_id":277416,"reputation":681888,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1422515596,"creation_date":1422515596,"answer_id":28208917,"question_id":28208794,"body_markdown":"No, you don&#39;t pass that as a String, but as a collection of IDs. And your query is invalid. It should be:\r\n\r\n    String jpql = &quot;select e from Employee e where e.homeAddress.id IN :addresses&quot;;\r\n    Set&lt;Long&gt; addressIds = Arrays.stream(addresses)\r\n                                 .map(Address::getId)\r\n                                 .collect(Collectors.toSet());\r\n    return em.createQuery(jpql, Employee.class)\r\n             .setParameter(&quot;addresses&quot;, addressIds)\r\n             .getResultList();\r\n\r\nThis uses Java 8 to transform the array of addresses into a set of IDs, but you can of course use a goold old for loop.","title":"JPA lookups with arrays","body":"<p>No, you don't pass that as a String, but as a collection of IDs. And your query is invalid. It should be:</p>\n\n<pre><code>String jpql = \"select e from Employee e where e.homeAddress.id IN :addresses\";\nSet&lt;Long&gt; addressIds = Arrays.stream(addresses)\n                             .map(Address::getId)\n                             .collect(Collectors.toSet());\nreturn em.createQuery(jpql, Employee.class)\n         .setParameter(\"addresses\", addressIds)\n         .getResultList();\n</code></pre>\n\n<p>This uses Java 8 to transform the array of addresses into a set of IDs, but you can of course use a goold old for loop.</p>\n"},{"tags":[],"owner":{"account_id":4856342,"reputation":181,"user_id":3917179,"display_name":"Troy Young"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673229450,"creation_date":1422515907,"answer_id":28208995,"question_id":28208794,"body_markdown":"**2 Solutions:**\r\n\r\n 1. HQL\r\n\r\n```java\r\nString hql=&quot;select e from Employee e where e.homeAddress.id IN (:addresses)&quot;;  \r\nQuery query = getSession().createQuery(hql);  \r\nquery.setParameterList(&quot;addresses&quot;, your_list_address_collection);\r\n```\r\n\r\n 2. Criteria\r\n\r\n```java\r\nCriteria criteria = session.createCriteria(Employee.class);\r\ncriteria.add(Restrictions.in(&quot;addresses&quot;, your_list_address_collection));\r\n```\r\n  ","title":"JPA lookups with arrays","body":"<p><strong>2 Solutions:</strong></p>\n<ol>\n<li>HQL</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>String hql=&quot;select e from Employee e where e.homeAddress.id IN (:addresses)&quot;;  \nQuery query = getSession().createQuery(hql);  \nquery.setParameterList(&quot;addresses&quot;, your_list_address_collection);\n</code></pre>\n<ol start=\"2\">\n<li>Criteria</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>Criteria criteria = session.createCriteria(Employee.class);\ncriteria.add(Restrictions.in(&quot;addresses&quot;, your_list_address_collection));\n</code></pre>\n"}],"owner":{"account_id":2634024,"reputation":1242,"user_id":2279220,"accept_rate":85,"display_name":"Tomas"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":208,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":28208917,"answer_count":2,"score":0,"last_activity_date":1673229450,"creation_date":1422515066,"question_id":28208794,"body_markdown":"I have an unidirectional relationship. Here i have Employee and Andress entities. In Employee entity i have the following code:\r\n\r\n    @OneToOne(cascade=CascadeType.ALL)\r\n    @JoinColumn(name = &quot;HOME_ADDRESS&quot;)\r\n    private Address homeAddress;\r\n\r\nI have an array of Adress objects and want to write a lookup that would return an array of Customer objects mapped to those adresses.\r\n\r\n    select e from Employee e where e.homeAddress.id IN &#39;?&#39;\r\n\r\nI don&#39;t know what to do with the &#39;?&#39; part. Is the only option to loop over the address array, add id&#39;s to a string and pass it as a parameter to the query above, or is there a way to pass the array to the query and expect the same result?","title":"JPA lookups with arrays","body":"<p>I have an unidirectional relationship. Here i have Employee and Andress entities. In Employee entity i have the following code:</p>\n\n<pre><code>@OneToOne(cascade=CascadeType.ALL)\n@JoinColumn(name = \"HOME_ADDRESS\")\nprivate Address homeAddress;\n</code></pre>\n\n<p>I have an array of Adress objects and want to write a lookup that would return an array of Customer objects mapped to those adresses.</p>\n\n<pre><code>select e from Employee e where e.homeAddress.id IN '?'\n</code></pre>\n\n<p>I don't know what to do with the '?' part. Is the only option to loop over the address array, add id's to a string and pass it as a parameter to the query above, or is there a way to pass the array to the query and expect the same result?</p>\n"},{"tags":["java","xml","document"],"comments":[{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":0,"creation_date":1673229141,"post_id":75052503,"comment_id":132444436,"body_markdown":"https://stackoverflow.com/questions/773012/getting-xml-node-text-value-with-java-dom","body":"<a href=\"https://stackoverflow.com/questions/773012/getting-xml-node-text-value-with-java-dom\" title=\"getting xml node text value with java dom\">stackoverflow.com/questions/773012/&hellip;</a>"}],"owner":{"account_id":15657842,"reputation":1,"user_id":11297536,"display_name":"mingi kim"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673228731,"creation_date":1673228442,"question_id":75052503,"body_markdown":"`&lt;string name=&quot;item_first1&quot;&gt;MENU&lt;/string&gt;`\r\n\r\nCurrently name can be fetched.\r\nHow do I get the word &quot;Menu&quot; from this string.xml file?\r\n\r\nMy sources are:\r\n\r\n    try {\r\n        DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\r\n        DocumentBuilder builder = factory.newDocumentBuilder();\r\n        Document doc = builder.parse(xml.url);\r\n\r\n        NodeList tagList = doc.getElementsByTagName(&quot;string&quot;);\r\n        for(int i = 0; i &lt; tagList.getLength(); ++i) {\r\n                 String name = tagList.item(i).getAttributes().getNamedItem(&quot;name&quot;).getNodeValue(); \r\n            }\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }`\r\n","title":"How can I get the word &quot;Menu&quot; from the current String.xml?","body":"<p><code>&lt;string name=&quot;item_first1&quot;&gt;MENU&lt;/string&gt;</code></p>\n<p>Currently name can be fetched.\nHow do I get the word &quot;Menu&quot; from this string.xml file?</p>\n<p>My sources are:</p>\n<pre><code>try {\n    DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\n    DocumentBuilder builder = factory.newDocumentBuilder();\n    Document doc = builder.parse(xml.url);\n\n    NodeList tagList = doc.getElementsByTagName(&quot;string&quot;);\n    for(int i = 0; i &lt; tagList.getLength(); ++i) {\n             String name = tagList.item(i).getAttributes().getNamedItem(&quot;name&quot;).getNodeValue(); \n        }\n    } catch (Exception e) {\n        e.printStackTrace();\n    }`\n</code></pre>\n"},{"tags":["java","arrays","indexoutofboundsexception"],"comments":[{"owner":{"account_id":6136413,"reputation":8488,"user_id":4785110,"display_name":"maraca"},"score":3,"creation_date":1673228588,"post_id":75052499,"comment_id":132444377,"body_markdown":"`tempArr[tempArr.length]` this will always give an index out of bounds exception, did you forget `- 1`?","body":"<code>tempArr[tempArr.length]</code> this will always give an index out of bounds exception, did you forget <code>- 1</code>?"},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1673228774,"post_id":75052499,"comment_id":132444401,"body_markdown":"side note: you don&#39;t need to check if `height == 0`. `push()` implementation just needs to be `storage[height++] = i;` and that&#39;s all. What happens `if height &gt;= storage.length` (and you would need to grow storage) is up to you.","body":"side note: you don&#39;t need to check if <code>height == 0</code>. <code>push()</code> implementation just needs to be <code>storage[height++] = i;</code> and that&#39;s all. What happens <code>if height &gt;= storage.length</code> (and you would need to grow storage) is up to you."},{"owner":{"account_id":1412435,"reputation":1069,"user_id":1338769,"accept_rate":61,"display_name":"cbm64"},"score":0,"creation_date":1673272581,"post_id":75052499,"comment_id":132454793,"body_markdown":"Could you use Arrays.copyOf with the new dimension?","body":"Could you use Arrays.copyOf with the new dimension?"}],"owner":{"account_id":26679768,"reputation":3,"user_id":20289887,"display_name":"borkop"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673228576,"creation_date":1673228389,"question_id":75052499,"body_markdown":"Doing some school stuff and I basically need to create a Method that &quot;pushes&quot; an integer to an array at the last position (basically recreating the Stack.push() method). \r\n\r\n\r\n```\r\npublic class IntegerStack {\r\n\t\r\n\tint[] storage;\r\n\tint height;\r\n\r\n\tpublic IntegerStack(int i) {\r\n\t\tthis.storage = new int[i];\r\n\t\tthis.height = 0;\r\n\t}\r\n\t\r\n\tpublic void push(int i) {\r\n\t\tif(height == 0) {\r\n\t\t\tstorage[height] = i;\r\n\t\t\theight++;\r\n\t\t} else {\r\n\r\n\t\t\tint[] tempArr = new int[storage.length + 1];\r\n\t\t\t\r\n\t\t\tfor(int j = 0; j &lt; storage.length - 1 ; j++) {\r\n\t\t\t\ttempArr[j] = storage[j];\r\n\t\t\t}\r\n\t\t\t\ttempArr[tempArr.length] = i;\r\n\t\t\t\tstorage = tempArr;\r\n\t\t\t\theight++;\r\n\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n```\r\n\r\n\r\nI tried to create a Temporary array that has the same stuff as the original one + add the integer from the method at last position and then replace the original one with the temporary one, but I keep getting this error and I&#39;m really stuck so I need some help\r\n\r\n```\r\njava.lang.ArrayIndexOutOfBoundsException: Index 4 out of bounds for length 4\r\n```\r\n","title":"Getting index out of bounds error trying to make a method that adds an int to an array in java","body":"<p>Doing some school stuff and I basically need to create a Method that &quot;pushes&quot; an integer to an array at the last position (basically recreating the Stack.push() method).</p>\n<pre><code>public class IntegerStack {\n    \n    int[] storage;\n    int height;\n\n    public IntegerStack(int i) {\n        this.storage = new int[i];\n        this.height = 0;\n    }\n    \n    public void push(int i) {\n        if(height == 0) {\n            storage[height] = i;\n            height++;\n        } else {\n\n            int[] tempArr = new int[storage.length + 1];\n            \n            for(int j = 0; j &lt; storage.length - 1 ; j++) {\n                tempArr[j] = storage[j];\n            }\n                tempArr[tempArr.length] = i;\n                storage = tempArr;\n                height++;\n\n            \n        }\n    }\n</code></pre>\n<p>I tried to create a Temporary array that has the same stuff as the original one + add the integer from the method at last position and then replace the original one with the temporary one, but I keep getting this error and I'm really stuck so I need some help</p>\n<pre><code>java.lang.ArrayIndexOutOfBoundsException: Index 4 out of bounds for length 4\n</code></pre>\n"},{"tags":["java","graalvm-native-image"],"answers":[{"tags":[],"owner":{"account_id":8742474,"reputation":377,"user_id":6868978,"accept_rate":85,"display_name":"zipper"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673228249,"creation_date":1673228249,"answer_id":75052491,"question_id":75049909,"body_markdown":"Here is the reflect-config.json worked:\r\n\r\n    [\r\n      {\r\n        &quot;name&quot;: &quot;com.mysys.myclient.net.MyClientEndpoint$Transceiver[]&quot;,\r\n        &quot;unsafeAllocated&quot;: true\r\n      }\r\n    ]\r\n\r\nref: https://github.com/apache/camel-quarkus/issues/4284#issuecomment-1353709280","title":"GraalVM native image runtime exception: class is instantiated reflectively but was never registered","body":"<p>Here is the reflect-config.json worked:</p>\n<pre><code>[\n  {\n    &quot;name&quot;: &quot;com.mysys.myclient.net.MyClientEndpoint$Transceiver[]&quot;,\n    &quot;unsafeAllocated&quot;: true\n  }\n]\n</code></pre>\n<p>ref: <a href=\"https://github.com/apache/camel-quarkus/issues/4284#issuecomment-1353709280\" rel=\"nofollow noreferrer\">https://github.com/apache/camel-quarkus/issues/4284#issuecomment-1353709280</a></p>\n"}],"owner":{"account_id":8742474,"reputation":377,"user_id":6868978,"accept_rate":85,"display_name":"zipper"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":793,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673228249,"creation_date":1673198676,"question_id":75049909,"body_markdown":"I got this runtime exception when running the generated native image:\r\n\r\n    Exception in thread &quot;Thread-1&quot; java.lang.IllegalArgumentException: Class com.mysys.myclient.net.MyClientEndpoint$Transceiver[] is instantiated reflectively but was never registered.Register the class by adding &quot;unsafeAllocated&quot; for the class in reflect-config.json.\r\n            at org.graalvm.nativeimage.builder/com.oracle.svm.core.graal.snippets.SubstrateAllocationSnippets.arrayHubErrorStub(SubstrateAllocationSnippets.java:345)\r\n            at com.mysys.common.util.Utilities$IndexingStore.register(Utilities.java:540)\r\n            at com.mysys.myclient.net.MyClientEndpoint.transceive(MyClientEndpoint.java:188)\r\n            at com.mysys.myclient.net.MyClientEndpoint.syncRunCtrlOperation(MyClientEndpoint.java:206)\r\n            at com.mysys.myclient.ClientMgr.ctrlLogin(ClientMgr.java:395)\r\n            at com.mysys.myclient.ClientMgr.login(ClientMgr.java:241)\r\n            at com.mysys.myclient.ui.UIMgr.lambda$new$2(UIMgr.java:20)\r\n            at com.mysys.myclient.ui.Tui.login(Tui.java:74)\r\n            at com.mysys.myclient.ui.Tui.access$100(Tui.java:37)\r\n            at com.mysys.myclient.ui.Tui$1.run(Tui.java:63)\r\n            at org.graalvm.nativeimage.builder/com.oracle.svm.core.thread.PlatformThreads.threadStartRoutine(PlatformThreads.java:775)\r\n            at org.graalvm.nativeimage.builder/com.oracle.svm.core.posix.thread.PosixPlatformThreads.pthreadStartRoutine(PosixPlatformThreads.java:203)\r\n\r\nreflect-config.json (I tried all possible combinations and even put like bellow with non worked):\r\n\r\n    [\r\n      {\r\n        &quot;name&quot;: &quot;com.mysys.myclient.net.MyClientEndpoint$Transceiver&quot;,\r\n        &quot;methods&quot;: [\r\n          {\r\n            &quot;name&quot;: &quot;transceive&quot;,\r\n            &quot;parameterTypes&quot;: []\r\n          }\r\n        ],\r\n        &quot;unsafeAllocated&quot;: true\r\n      },\r\n      {\r\n        &quot;name&quot;: &quot;com.mysys.common.util.Utilities$IndexingStore&quot;,\r\n        &quot;methods&quot;: [\r\n          {\r\n            &quot;name&quot;: &quot;register&quot;,\r\n            &quot;parameterTypes&quot;: []\r\n          }\r\n        ],\r\n        &quot;unsafeAllocated&quot;: true\r\n      },\r\n      {\r\n        &quot;name&quot;: &quot;com.mysys.myclient.net.MyClientEndpoint.Transceiver&quot;,\r\n        &quot;methods&quot;: [\r\n          {\r\n            &quot;name&quot;: &quot;transceive&quot;,\r\n            &quot;parameterTypes&quot;: []\r\n          }\r\n        ],\r\n        &quot;unsafeAllocated&quot;: true\r\n      },\r\n      {\r\n        &quot;name&quot;: &quot;com.mysys.common.util.Utilities.IndexingStore&quot;,\r\n        &quot;methods&quot;: [\r\n          {\r\n            &quot;name&quot;: &quot;register&quot;,\r\n            &quot;parameterTypes&quot;: []\r\n          }\r\n        ],\r\n        &quot;unsafeAllocated&quot;: true\r\n      }\r\n    ]\r\n\r\nNative image generation command line:\r\n\r\n    native-image -jar myclient-1.0-jar-with-dependencies.jar  \\\r\n     --initialize-at-build-time=org.slf4j.simple.SimpleLogger \\\r\n     --initialize-at-build-time=io.netty.util.internal.logging.Slf4JLoggerFactory \\\r\n     --initialize-at-build-time=io.netty.channel.MultithreadEventLoopGroup \\\r\n     --initialize-at-build-time=io.netty.util.internal.logging.InternalLoggerFactory \\\r\n     --initialize-at-build-time=org.slf4j.LoggerFactory \\\r\n     --initialize-at-run-time=io.netty.channel.DefaultFileRegion  \\\r\n     --initialize-at-run-time=io.netty.channel.epoll.Native  \\\r\n     --initialize-at-run-time=io.netty.channel.epoll.Epoll  \\\r\n     --initialize-at-run-time=io.netty.channel.epoll.EpollEventLoop  \\\r\n     --initialize-at-run-time=io.netty.channel.epoll.EpollEventArray  \\\r\n     --initialize-at-run-time=io.netty.channel.kqueue.KQueue  \\\r\n     --initialize-at-run-time=io.netty.channel.kqueue.KQueueEventLoop  \\\r\n     --initialize-at-run-time=io.netty.channel.kqueue.KQueueEventArray  \\\r\n     --initialize-at-run-time=io.netty.channel.kqueue.Native  \\\r\n     --initialize-at-run-time=io.netty.channel.unix.Limits  \\\r\n     --initialize-at-run-time=io.netty.channel.unix.Errors  \\\r\n     --initialize-at-run-time=io.netty.channel.unix.IovArray  \\\r\n     --initialize-at-run-time=io.netty.handler.ssl.BouncyCastleAlpnSslUtils  \\\r\n     --initialize-at-run-time=io.netty.incubator.codec.quic.InsecureQuicTokenHandler  \\\r\n     --initialize-at-run-time=io.netty.incubator.codec.quic.SecureRandomQuicConnectionIdGenerator \\\r\n     --report-unsupported-elements-at-runtime \\\r\n     -H:IncludeResources=&quot;ssl/.*cert$&quot; \\\r\n     -H:IncludeResources=&quot;images/.*png$&quot; \\\r\n     -H:+ReportExceptionStackTraces \\\r\n     -H:Log=registerResource:3 \\\r\n     -H:ReflectionConfigurationFiles=reflect-config.json\r\n\r\nVersion info: &#39;GraalVM 22.3.0 Java 17 CE&#39;\r\nJava version info: &#39;17.0.5+8-jvmci-22.3-b08&#39;\r\nC compiler: gcc (redhat, x86_64, 8.5.0)\r\nGarbage collector: Serial GC","title":"GraalVM native image runtime exception: class is instantiated reflectively but was never registered","body":"<p>I got this runtime exception when running the generated native image:</p>\n<pre><code>Exception in thread &quot;Thread-1&quot; java.lang.IllegalArgumentException: Class com.mysys.myclient.net.MyClientEndpoint$Transceiver[] is instantiated reflectively but was never registered.Register the class by adding &quot;unsafeAllocated&quot; for the class in reflect-config.json.\n        at org.graalvm.nativeimage.builder/com.oracle.svm.core.graal.snippets.SubstrateAllocationSnippets.arrayHubErrorStub(SubstrateAllocationSnippets.java:345)\n        at com.mysys.common.util.Utilities$IndexingStore.register(Utilities.java:540)\n        at com.mysys.myclient.net.MyClientEndpoint.transceive(MyClientEndpoint.java:188)\n        at com.mysys.myclient.net.MyClientEndpoint.syncRunCtrlOperation(MyClientEndpoint.java:206)\n        at com.mysys.myclient.ClientMgr.ctrlLogin(ClientMgr.java:395)\n        at com.mysys.myclient.ClientMgr.login(ClientMgr.java:241)\n        at com.mysys.myclient.ui.UIMgr.lambda$new$2(UIMgr.java:20)\n        at com.mysys.myclient.ui.Tui.login(Tui.java:74)\n        at com.mysys.myclient.ui.Tui.access$100(Tui.java:37)\n        at com.mysys.myclient.ui.Tui$1.run(Tui.java:63)\n        at org.graalvm.nativeimage.builder/com.oracle.svm.core.thread.PlatformThreads.threadStartRoutine(PlatformThreads.java:775)\n        at org.graalvm.nativeimage.builder/com.oracle.svm.core.posix.thread.PosixPlatformThreads.pthreadStartRoutine(PosixPlatformThreads.java:203)\n</code></pre>\n<p>reflect-config.json (I tried all possible combinations and even put like bellow with non worked):</p>\n<pre><code>[\n  {\n    &quot;name&quot;: &quot;com.mysys.myclient.net.MyClientEndpoint$Transceiver&quot;,\n    &quot;methods&quot;: [\n      {\n        &quot;name&quot;: &quot;transceive&quot;,\n        &quot;parameterTypes&quot;: []\n      }\n    ],\n    &quot;unsafeAllocated&quot;: true\n  },\n  {\n    &quot;name&quot;: &quot;com.mysys.common.util.Utilities$IndexingStore&quot;,\n    &quot;methods&quot;: [\n      {\n        &quot;name&quot;: &quot;register&quot;,\n        &quot;parameterTypes&quot;: []\n      }\n    ],\n    &quot;unsafeAllocated&quot;: true\n  },\n  {\n    &quot;name&quot;: &quot;com.mysys.myclient.net.MyClientEndpoint.Transceiver&quot;,\n    &quot;methods&quot;: [\n      {\n        &quot;name&quot;: &quot;transceive&quot;,\n        &quot;parameterTypes&quot;: []\n      }\n    ],\n    &quot;unsafeAllocated&quot;: true\n  },\n  {\n    &quot;name&quot;: &quot;com.mysys.common.util.Utilities.IndexingStore&quot;,\n    &quot;methods&quot;: [\n      {\n        &quot;name&quot;: &quot;register&quot;,\n        &quot;parameterTypes&quot;: []\n      }\n    ],\n    &quot;unsafeAllocated&quot;: true\n  }\n]\n</code></pre>\n<p>Native image generation command line:</p>\n<pre><code>native-image -jar myclient-1.0-jar-with-dependencies.jar  \\\n --initialize-at-build-time=org.slf4j.simple.SimpleLogger \\\n --initialize-at-build-time=io.netty.util.internal.logging.Slf4JLoggerFactory \\\n --initialize-at-build-time=io.netty.channel.MultithreadEventLoopGroup \\\n --initialize-at-build-time=io.netty.util.internal.logging.InternalLoggerFactory \\\n --initialize-at-build-time=org.slf4j.LoggerFactory \\\n --initialize-at-run-time=io.netty.channel.DefaultFileRegion  \\\n --initialize-at-run-time=io.netty.channel.epoll.Native  \\\n --initialize-at-run-time=io.netty.channel.epoll.Epoll  \\\n --initialize-at-run-time=io.netty.channel.epoll.EpollEventLoop  \\\n --initialize-at-run-time=io.netty.channel.epoll.EpollEventArray  \\\n --initialize-at-run-time=io.netty.channel.kqueue.KQueue  \\\n --initialize-at-run-time=io.netty.channel.kqueue.KQueueEventLoop  \\\n --initialize-at-run-time=io.netty.channel.kqueue.KQueueEventArray  \\\n --initialize-at-run-time=io.netty.channel.kqueue.Native  \\\n --initialize-at-run-time=io.netty.channel.unix.Limits  \\\n --initialize-at-run-time=io.netty.channel.unix.Errors  \\\n --initialize-at-run-time=io.netty.channel.unix.IovArray  \\\n --initialize-at-run-time=io.netty.handler.ssl.BouncyCastleAlpnSslUtils  \\\n --initialize-at-run-time=io.netty.incubator.codec.quic.InsecureQuicTokenHandler  \\\n --initialize-at-run-time=io.netty.incubator.codec.quic.SecureRandomQuicConnectionIdGenerator \\\n --report-unsupported-elements-at-runtime \\\n -H:IncludeResources=&quot;ssl/.*cert$&quot; \\\n -H:IncludeResources=&quot;images/.*png$&quot; \\\n -H:+ReportExceptionStackTraces \\\n -H:Log=registerResource:3 \\\n -H:ReflectionConfigurationFiles=reflect-config.json\n</code></pre>\n<p>Version info: 'GraalVM 22.3.0 Java 17 CE'\nJava version info: '17.0.5+8-jvmci-22.3-b08'\nC compiler: gcc (redhat, x86_64, 8.5.0)\nGarbage collector: Serial GC</p>\n"},{"tags":["java","arrays","json","processing","printwriter"],"comments":[{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":1,"creation_date":1673226004,"post_id":75052343,"comment_id":132444062,"body_markdown":"`File.toString()` (`selection.toString()` in your code) returns file path (doesn&#39;t matter absolute or not), you actually need to get file contents, for example: `new String(Files.readAllBytes(selection.toPath()), Charset.defaultCharset())`","body":"<code>File.toString()</code> (<code>selection.toString()</code> in your code) returns file path (doesn&#39;t matter absolute or not), you actually need to get file contents, for example: <code>new String(Files.readAllBytes(selection.toPath()), Charset.defaultCharset())</code>"},{"owner":{"account_id":15396644,"reputation":25775,"user_id":11107541,"display_name":"starball"},"score":1,"creation_date":1673226104,"post_id":75052343,"comment_id":132444069,"body_markdown":"@AndreyB.Panfilov would you mind writing an answer post if that&#39;s an answer to the question?","body":"@AndreyB.Panfilov would you mind writing an answer post if that&#39;s an answer to the question?"}],"answers":[{"tags":[],"owner":{"account_id":25562543,"reputation":39,"user_id":19344937,"display_name":"Rose"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673227959,"creation_date":1673227959,"answer_id":75052469,"question_id":75052343,"body_markdown":"Use loadStrings or loadBytes\r\n~~~\r\nvoid fileSelected(File selection) {\r\n   String[] lines = loadStrings(selection);\r\n   for (int i =0; i&lt; lines.length; i++) {\r\n    println(lines[i]);\r\n   }\r\n}\r\n~~~\r\n","title":"Using Processing: A JSONArray text must start with &#39;[&#39;","body":"<p>Use loadStrings or loadBytes</p>\n<pre><code>void fileSelected(File selection) {\n   String[] lines = loadStrings(selection);\n   for (int i =0; i&lt; lines.length; i++) {\n    println(lines[i]);\n   }\n}\n</code></pre>\n"}],"owner":{"account_id":25562543,"reputation":39,"user_id":19344937,"display_name":"Rose"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1673230798,"answer_count":1,"score":-1,"last_activity_date":1673227959,"creation_date":1673225592,"question_id":75052343,"body_markdown":"I am trying to parse a JSON Array from a .txt file with processing. However I keep on getting this error:\r\n~~~\r\njava.lang.RuntimeException: A JSONArray text must start with &#39;[&#39;\r\n\tat processing.data.JSONArray.&lt;init&gt;(JSONArray.java:140)\r\n\tat processing.data.JSONArray.&lt;init&gt;(JSONArray.java:126)\r\n\tat processing.core.PApplet.parseJSONArray(PApplet.java:5494)\r\n\tat sketch_230108a.fileSelected(sketch_230108a.java:31)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat processing.core.PApplet.selectCallback(PApplet.java:5966)\r\n\tat processing.awt.ShimAWT.selectImpl(ShimAWT.java:835)\r\n\tat processing.awt.ShimAWT.lambda$selectInput$0(ShimAWT.java:742)\r\n\tat java.desktop/java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:318)\r\n\tat java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:771)\r\n\tat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:722)\r\n\tat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:716)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n\tat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\r\n\tat java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:741)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\r\n\tat java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\r\n~~~\r\n\r\n\r\nI tried this code:\r\n~~~\r\nPrintWriter output;  \r\n  String data = &quot;[ \\&quot;Capra hircus\\&quot;, \\&quot;Panthera pardus\\&quot;, \\&quot;&quot;+&quot;90&quot;+&quot;\\&quot; ]&quot;;\r\n\r\nvoid setup() {\r\n  output = createWriter(&quot;positions.txt&quot;); \r\n  output.print(data);\r\n  output.flush();\r\n  output.close();\r\n  selectInput(&quot;Select a file to process:&quot;, &quot;fileSelected&quot;);\r\n}\r\n \r\nvoid fileSelected(File selection) {\r\n\r\n   JSONArray json = parseJSONArray(selection.toString());\r\n  if (json == null) {\r\n    println(&quot;JSONArray could not be parsed&quot;);\r\n  } else {\r\n    String species = json.getString(0);\r\n    println(species);\r\n  }\r\n}\r\n\r\n~~~\r\nI am trying to get an output of Capra hircus, however I just get a JSONArray could not be parsed, and the error.","title":"Using Processing: A JSONArray text must start with &#39;[&#39;","body":"<p>I am trying to parse a JSON Array from a .txt file with processing. However I keep on getting this error:</p>\n<pre><code>java.lang.RuntimeException: A JSONArray text must start with '['\n    at processing.data.JSONArray.&lt;init&gt;(JSONArray.java:140)\n    at processing.data.JSONArray.&lt;init&gt;(JSONArray.java:126)\n    at processing.core.PApplet.parseJSONArray(PApplet.java:5494)\n    at sketch_230108a.fileSelected(sketch_230108a.java:31)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at processing.core.PApplet.selectCallback(PApplet.java:5966)\n    at processing.awt.ShimAWT.selectImpl(ShimAWT.java:835)\n    at processing.awt.ShimAWT.lambda$selectInput$0(ShimAWT.java:742)\n    at java.desktop/java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:318)\n    at java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:771)\n    at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:722)\n    at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:716)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\n    at java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:741)\n    at java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\n    at java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\n    at java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\n    at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\n    at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\n    at java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\n</code></pre>\n<p>I tried this code:</p>\n<pre><code>PrintWriter output;  \n  String data = &quot;[ \\&quot;Capra hircus\\&quot;, \\&quot;Panthera pardus\\&quot;, \\&quot;&quot;+&quot;90&quot;+&quot;\\&quot; ]&quot;;\n\nvoid setup() {\n  output = createWriter(&quot;positions.txt&quot;); \n  output.print(data);\n  output.flush();\n  output.close();\n  selectInput(&quot;Select a file to process:&quot;, &quot;fileSelected&quot;);\n}\n \nvoid fileSelected(File selection) {\n\n   JSONArray json = parseJSONArray(selection.toString());\n  if (json == null) {\n    println(&quot;JSONArray could not be parsed&quot;);\n  } else {\n    String species = json.getString(0);\n    println(species);\n  }\n}\n\n</code></pre>\n<p>I am trying to get an output of Capra hircus, however I just get a JSONArray could not be parsed, and the error.</p>\n"},{"tags":["java","amazon-web-services","jenkins","amazon-ec2","ssh"],"answers":[{"tags":[],"owner":{"account_id":10080252,"reputation":218,"user_id":7450826,"display_name":"HeadinCloud"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673226609,"creation_date":1673226609,"answer_id":75052403,"question_id":71074995,"body_markdown":"1) I changed the EC2 type. Due to the fact of not having enough memory, I changed the type, the issue still exists. \r\n2) Update JAVA version - I upgraded the JAVA to Java 11. Without any effect. \r\n3) I changed the agent/worker SSHD configuration: (added ClientAliveInterval 80)\r\n4) I increased the Connection Timeout in Seconds in the worker configuration (60 -&gt; 6000)\r\n5) I used the option to connect the worker to Jenkins master by command. The connection was still losing. \r\n6) I configured more aggressive TCPKeepAlive parameters: \r\n\r\n       sysctl -w net.ipv4.tcp_keepalive_time=120\r\n       sysctl -w net.ipv4.tcp_keepalive_intvl=30\r\n       sysctl -w net.ipv4.tcp_keepalive_probes=8\r\n       sysctl -w net.ipv4.tcp_fin_timeout=30\r\n7) I added hudson.slaves.ChannelPinger.pingIntervalSeconds=-1 to the JAVA options\r\n","title":"Jenkins hosted in EC2 losing connection with EC2 workers","body":"<ol>\n<li><p>I changed the EC2 type. Due to the fact of not having enough memory, I changed the type, the issue still exists.</p>\n</li>\n<li><p>Update JAVA version - I upgraded the JAVA to Java 11. Without any effect.</p>\n</li>\n<li><p>I changed the agent/worker SSHD configuration: (added ClientAliveInterval 80)</p>\n</li>\n<li><p>I increased the Connection Timeout in Seconds in the worker configuration (60 -&gt; 6000)</p>\n</li>\n<li><p>I used the option to connect the worker to Jenkins master by command. The connection was still losing.</p>\n</li>\n<li><p>I configured more aggressive TCPKeepAlive parameters:</p>\n<pre><code>sysctl -w net.ipv4.tcp_keepalive_time=120\nsysctl -w net.ipv4.tcp_keepalive_intvl=30\nsysctl -w net.ipv4.tcp_keepalive_probes=8\nsysctl -w net.ipv4.tcp_fin_timeout=30\n</code></pre>\n</li>\n<li><p>I added hudson.slaves.ChannelPinger.pingIntervalSeconds=-1 to the JAVA options</p>\n</li>\n</ol>\n"}],"owner":{"account_id":10080252,"reputation":218,"user_id":7450826,"display_name":"HeadinCloud"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":386,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75052403,"answer_count":1,"score":0,"last_activity_date":1673226609,"creation_date":1644549861,"question_id":71074995,"body_markdown":"My Jenkins instance which is located on the EC2 machine (t3.medium) in a private VPC network, served by the Nginx **is losing connection during long builds.**\r\nThe workers are the same type - EC2 machines in the same region/subnet, and the same JAVA version. \r\n\r\n    Jenkins version: Jenkins 2.319.3\r\n    Java: openjdk version &quot;1.8.0_312&quot;\r\n    OS: Ubuntu 20.02\r\n\r\nConnection is realized by the SSH connection. \r\n\r\n\r\nWhat I tried to resolve this issue: \r\n\r\n1) I changed the EC2 type. Due to the fact of not having enough memory, I changed the type, the issue still exists. \r\n2) Update JAVA version - I upgraded the JAVA to Java 11. Without any effect. \r\n3) I changed the agent/worker SSHD configuration: (added ClientAliveInterval 80)\r\n4) I increased the Connection Timeout in Seconds in the worker configuration (60 -&gt; 6000)\r\n5) I used the option to connect the worker to Jenkins master by command. The connection was still losing. \r\n6) I configured more aggressive TCPKeepAlive parameters: \r\n\r\n       sysctl -w net.ipv4.tcp_keepalive_time=120\r\n       sysctl -w net.ipv4.tcp_keepalive_intvl=30\r\n       sysctl -w net.ipv4.tcp_keepalive_probes=8\r\n       sysctl -w net.ipv4.tcp_fin_timeout=30\r\n7) I added hudson.slaves.ChannelPinger.pingIntervalSeconds=-1 to the JAVA options\r\n\r\nAny ideas what can be wrong here? \r\n\r\nError: \r\n\r\n    04:01:35 FATAL: command execution failed\r\n    04:01:36 java.io.EOFException\r\n    04:01:36 \tat java.io.ObjectInputStream$PeekInputStream.readFully(ObjectInputStream.java:2799)\r\n    04:01:36 \tat java.io.ObjectInputStream$BlockDataInputStream.readShort(ObjectInputStream.java:3274)\r\n    04:01:36 \tat java.io.ObjectInputStream.readStreamHeader(ObjectInputStream.java:934)\r\n    04:01:36 \tat java.io.ObjectInputStream.&lt;init&gt;(ObjectInputStream.java:396)\r\n    04:01:36 \tat hudson.remoting.ObjectInputStreamEx.&lt;init&gt;(ObjectInputStreamEx.java:49)\r\n    04:01:36 \tat hudson.remoting.Command.readFrom(Command.java:142)\r\n    04:01:36 \tat hudson.remoting.Command.readFrom(Command.java:128)\r\n    04:01:36 \tat hudson.remoting.AbstractSynchronousByteArrayCommandTransport.read(AbstractSynchronousByteArrayCommandTransport.java:35)\r\n    04:01:36 \tat hudson.remoting.SynchronousCommandTransport$ReaderThread.run(SynchronousCommandTransport.java:61)\r\n    04:01:36 Caused: java.io.IOException: Unexpected termination of the channel\r\n    04:01:36 \tat hudson.remoting.SynchronousCommandTransport$ReaderThread.run(SynchronousCommandTransport.java:75)\r\n\r\nReferences: \r\n - https://github.com/jenkinsci/ssh-slaves-plugin/blob/main/doc/TROUBLESHOOTING.md#threads-stuck-at-credentialsprovidertrackall\r\n\r\n- https://issues.jenkins.io/browse/JENKINS-44001?page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel&amp;showAll=true\r\n\r\n- https://groups.google.com/g/jenkinsci-issues/c/t2p0Sk1LqXI/m/6lwnqQxth6QJ\r\n\r\nNginx conf: \r\n\r\n    upstream jenkins {\r\n      server 127.0.0.1:8080;\r\n    }\r\n    \r\n    server {\r\n    \r\n        listen 443 ssl;\r\n        server_name XXX.CCC.net;\r\n    \r\n        ssl_certificate           /etc/nginx/valid_cert/XXX.pem;\r\n        ssl_certificate_key       /etc/nginx/valid_cert/XXX.CCC.net.key;\r\n     \r\n        ssl_protocols  TLSv1 TLSv1.1 TLSv1.2;\r\n        ssl_ciphers HIGH:!aNULL:!eNULL:!EXPORT:!CAMELLIA:!DES:!MD5:!PSK:!RC4;\r\n        ssl_prefer_server_ciphers on;\r\n    \r\n        access_log            /var/log/nginx/jenkins.access.log;\r\n    \r\n        ssl_session_cache shared:SSL:10m;\r\n        ssl_stapling on;\r\n        ssl_stapling_verify on;\r\n    \r\n        location / {\r\n          try_files $uri @app;\r\n        }\r\n    \r\n    \r\n        location @app {\r\n          proxy_set_header Host $host;\r\n          proxy_set_header X-Real-IP $remote_addr;\r\n          proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\r\n          proxy_set_header X-Forwarded-Proto $scheme;\r\n          proxy_next_upstream error;\r\n          proxy_pass http://jenkins;\r\n          proxy_redirect http:// https://;\r\n          proxy_read_timeout 150;\r\n        }\r\n      }","title":"Jenkins hosted in EC2 losing connection with EC2 workers","body":"<p>My Jenkins instance which is located on the EC2 machine (t3.medium) in a private VPC network, served by the Nginx <strong>is losing connection during long builds.</strong>\nThe workers are the same type - EC2 machines in the same region/subnet, and the same JAVA version.</p>\n<pre><code>Jenkins version: Jenkins 2.319.3\nJava: openjdk version &quot;1.8.0_312&quot;\nOS: Ubuntu 20.02\n</code></pre>\n<p>Connection is realized by the SSH connection.</p>\n<p>What I tried to resolve this issue:</p>\n<ol>\n<li><p>I changed the EC2 type. Due to the fact of not having enough memory, I changed the type, the issue still exists.</p>\n</li>\n<li><p>Update JAVA version - I upgraded the JAVA to Java 11. Without any effect.</p>\n</li>\n<li><p>I changed the agent/worker SSHD configuration: (added ClientAliveInterval 80)</p>\n</li>\n<li><p>I increased the Connection Timeout in Seconds in the worker configuration (60 -&gt; 6000)</p>\n</li>\n<li><p>I used the option to connect the worker to Jenkins master by command. The connection was still losing.</p>\n</li>\n<li><p>I configured more aggressive TCPKeepAlive parameters:</p>\n<pre><code>sysctl -w net.ipv4.tcp_keepalive_time=120\nsysctl -w net.ipv4.tcp_keepalive_intvl=30\nsysctl -w net.ipv4.tcp_keepalive_probes=8\nsysctl -w net.ipv4.tcp_fin_timeout=30\n</code></pre>\n</li>\n<li><p>I added hudson.slaves.ChannelPinger.pingIntervalSeconds=-1 to the JAVA options</p>\n</li>\n</ol>\n<p>Any ideas what can be wrong here?</p>\n<p>Error:</p>\n<pre><code>04:01:35 FATAL: command execution failed\n04:01:36 java.io.EOFException\n04:01:36    at java.io.ObjectInputStream$PeekInputStream.readFully(ObjectInputStream.java:2799)\n04:01:36    at java.io.ObjectInputStream$BlockDataInputStream.readShort(ObjectInputStream.java:3274)\n04:01:36    at java.io.ObjectInputStream.readStreamHeader(ObjectInputStream.java:934)\n04:01:36    at java.io.ObjectInputStream.&lt;init&gt;(ObjectInputStream.java:396)\n04:01:36    at hudson.remoting.ObjectInputStreamEx.&lt;init&gt;(ObjectInputStreamEx.java:49)\n04:01:36    at hudson.remoting.Command.readFrom(Command.java:142)\n04:01:36    at hudson.remoting.Command.readFrom(Command.java:128)\n04:01:36    at hudson.remoting.AbstractSynchronousByteArrayCommandTransport.read(AbstractSynchronousByteArrayCommandTransport.java:35)\n04:01:36    at hudson.remoting.SynchronousCommandTransport$ReaderThread.run(SynchronousCommandTransport.java:61)\n04:01:36 Caused: java.io.IOException: Unexpected termination of the channel\n04:01:36    at hudson.remoting.SynchronousCommandTransport$ReaderThread.run(SynchronousCommandTransport.java:75)\n</code></pre>\n<p>References:</p>\n<ul>\n<li><p><a href=\"https://github.com/jenkinsci/ssh-slaves-plugin/blob/main/doc/TROUBLESHOOTING.md#threads-stuck-at-credentialsprovidertrackall\" rel=\"nofollow noreferrer\">https://github.com/jenkinsci/ssh-slaves-plugin/blob/main/doc/TROUBLESHOOTING.md#threads-stuck-at-credentialsprovidertrackall</a></p>\n</li>\n<li><p><a href=\"https://issues.jenkins.io/browse/JENKINS-44001?page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel&amp;showAll=true\" rel=\"nofollow noreferrer\">https://issues.jenkins.io/browse/JENKINS-44001?page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel&amp;showAll=true</a></p>\n</li>\n<li><p><a href=\"https://groups.google.com/g/jenkinsci-issues/c/t2p0Sk1LqXI/m/6lwnqQxth6QJ\" rel=\"nofollow noreferrer\">https://groups.google.com/g/jenkinsci-issues/c/t2p0Sk1LqXI/m/6lwnqQxth6QJ</a></p>\n</li>\n</ul>\n<p>Nginx conf:</p>\n<pre><code>upstream jenkins {\n  server 127.0.0.1:8080;\n}\n\nserver {\n\n    listen 443 ssl;\n    server_name XXX.CCC.net;\n\n    ssl_certificate           /etc/nginx/valid_cert/XXX.pem;\n    ssl_certificate_key       /etc/nginx/valid_cert/XXX.CCC.net.key;\n \n    ssl_protocols  TLSv1 TLSv1.1 TLSv1.2;\n    ssl_ciphers HIGH:!aNULL:!eNULL:!EXPORT:!CAMELLIA:!DES:!MD5:!PSK:!RC4;\n    ssl_prefer_server_ciphers on;\n\n    access_log            /var/log/nginx/jenkins.access.log;\n\n    ssl_session_cache shared:SSL:10m;\n    ssl_stapling on;\n    ssl_stapling_verify on;\n\n    location / {\n      try_files $uri @app;\n    }\n\n\n    location @app {\n      proxy_set_header Host $host;\n      proxy_set_header X-Real-IP $remote_addr;\n      proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n      proxy_set_header X-Forwarded-Proto $scheme;\n      proxy_next_upstream error;\n      proxy_pass http://jenkins;\n      proxy_redirect http:// https://;\n      proxy_read_timeout 150;\n    }\n  }\n</code></pre>\n"},{"tags":["java","spring-data","spring-mongodb"],"comments":[{"owner":{"account_id":7020942,"reputation":28624,"user_id":5380322,"accept_rate":62,"display_name":"Cepr0"},"score":0,"creation_date":1556365246,"post_id":55867094,"comment_id":98419062,"body_markdown":"I think this post [Custom Cascading in Spring Data MongoDB](https://www.baeldung.com/cascading-with-dbref-and-lifecycle-events-in-spring-data-mongodb) will be helpful...","body":"I think this post <a href=\"https://www.baeldung.com/cascading-with-dbref-and-lifecycle-events-in-spring-data-mongodb\" rel=\"nofollow noreferrer\">Custom Cascading in Spring Data MongoDB</a> will be helpful..."}],"answers":[{"tags":[],"owner":{"account_id":10427918,"reputation":121,"user_id":7688591,"display_name":"Rohit Mehlawat"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673226567,"creation_date":1673226567,"answer_id":75052400,"question_id":55867094,"body_markdown":"Before version 3.3.0 of Spring Data MongoDB we need to retrieve the linked document on the base of Id and set that value.\r\n\r\nIf you are using the version number 3.3.0 or newer you can directly use the annotation @DocumentReference instead of @DBRef\r\n\r\nFor more details you can visit the \r\nhttps://bootify.io/mongodb/document-reference-in-spring-boot-mongodb.html\r\n\r\nor\r\n\r\nhttps://docs.spring.io/spring-data/mongodb/docs/3.4.0-M4/api/org/springframework/data/mongodb/core/mapping/DocumentReference.html\r\n","title":"How to save document with DBRef in mongodb spring-data","body":"<p>Before version 3.3.0 of Spring Data MongoDB we need to retrieve the linked document on the base of Id and set that value.</p>\n<p>If you are using the version number 3.3.0 or newer you can directly use the annotation @DocumentReference instead of @DBRef</p>\n<p>For more details you can visit the\n<a href=\"https://bootify.io/mongodb/document-reference-in-spring-boot-mongodb.html\" rel=\"nofollow noreferrer\">https://bootify.io/mongodb/document-reference-in-spring-boot-mongodb.html</a></p>\n<p>or</p>\n<p><a href=\"https://docs.spring.io/spring-data/mongodb/docs/3.4.0-M4/api/org/springframework/data/mongodb/core/mapping/DocumentReference.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/mongodb/docs/3.4.0-M4/api/org/springframework/data/mongodb/core/mapping/DocumentReference.html</a></p>\n"}],"owner":{"account_id":13071224,"reputation":857,"user_id":9444720,"display_name":"GeekySelene"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2063,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1673226567,"creation_date":1556279589,"question_id":55867094,"body_markdown":"I have Spring data repository class that extends MongoRepository. So I&#39;m doing a POST request to create a record that holds several reference fields to refer other documents. \r\n\r\nThe repository interface : \r\n\r\n    @RepositoryRestResource(collectionResourceRel = &quot;user&quot;,path = &quot;user&quot;)\r\n     public interface UserRepository extends MongoRepository&lt;User,String&gt;{\r\n    }\r\n\r\nThe Model classes : \r\n\r\n    @Document(collection = &quot;user&quot;)\r\n    public class User {\r\n    @Id\r\n    private String id;\r\n    private String email;\r\n    @DateTimeFormat(iso = DateTimeFormat.ISO.DATE_TIME)\r\n    private Date createdTime;\r\n    @Field(&quot;infoSignups&quot;)\r\n    @DBRef\r\n    private InfoSignUp infoSignups;\r\n    @Field(&quot;webinarSignups&quot;)\r\n    @DBRef\r\n    private WebinarSignUp webinarSignups;\r\n\r\n    }\r\n\r\n    @Document(collection = &quot;infoSignups&quot;)\r\n    public class InfoSignUp {\r\n\r\n    @Id\r\n    private String id;\r\n    private String email;\r\n\r\n    }\r\n\r\n    @Document(collection = &quot;webinarSignups&quot;)\r\n    public class WebinarSignups {\r\n\r\n    @Id\r\n    private String id;\r\n    private String email;\r\n\r\n    }\r\n\r\nThe POST request :\r\n\r\n    {  \r\n      &quot;email&quot;:&quot;sheen.example@gmail.com&quot;,\r\n      &quot;name&quot;:&quot;test&quot;,\r\n      &quot;infoSignups&quot;:[  \r\n        {  \r\n         &quot;id&quot;:&quot;5cbeb33199a4640b94ba1de8&quot;\r\n         }\r\n       ],\r\n      &quot;webinarSignups&quot;:[  \r\n        {  \r\n         &quot;id&quot;:&quot;5cc0136599a4641d835d3259&quot;\r\n        }\r\n       ],\r\n      &quot;businessName&quot;:&quot;test data&quot;,\r\n      &quot;phone&quot;:&quot;test data&quot;,\r\n      &quot;address&quot;:&quot;test data&quot;,\r\n      &quot;createdTime&quot;:&quot;2015-09-26T01:30:00.000Z&quot;\r\n     }\r\n\r\n\r\nBut when I&#39;m doing the POST request to the repository endpoint the reference fields are not saved, other fields are saved in the collection. Do I have to persist the object manually without using the Spring data? How can I save the references to the other collection using the POST request to the endpoint?\r\n","title":"How to save document with DBRef in mongodb spring-data","body":"<p>I have Spring data repository class that extends MongoRepository. So I'm doing a POST request to create a record that holds several reference fields to refer other documents. </p>\n\n<p>The repository interface : </p>\n\n<pre><code>@RepositoryRestResource(collectionResourceRel = \"user\",path = \"user\")\n public interface UserRepository extends MongoRepository&lt;User,String&gt;{\n}\n</code></pre>\n\n<p>The Model classes : </p>\n\n<pre><code>@Document(collection = \"user\")\npublic class User {\n@Id\nprivate String id;\nprivate String email;\n@DateTimeFormat(iso = DateTimeFormat.ISO.DATE_TIME)\nprivate Date createdTime;\n@Field(\"infoSignups\")\n@DBRef\nprivate InfoSignUp infoSignups;\n@Field(\"webinarSignups\")\n@DBRef\nprivate WebinarSignUp webinarSignups;\n\n}\n\n@Document(collection = \"infoSignups\")\npublic class InfoSignUp {\n\n@Id\nprivate String id;\nprivate String email;\n\n}\n\n@Document(collection = \"webinarSignups\")\npublic class WebinarSignups {\n\n@Id\nprivate String id;\nprivate String email;\n\n}\n</code></pre>\n\n<p>The POST request :</p>\n\n<pre><code>{  \n  \"email\":\"sheen.example@gmail.com\",\n  \"name\":\"test\",\n  \"infoSignups\":[  \n    {  \n     \"id\":\"5cbeb33199a4640b94ba1de8\"\n     }\n   ],\n  \"webinarSignups\":[  \n    {  \n     \"id\":\"5cc0136599a4641d835d3259\"\n    }\n   ],\n  \"businessName\":\"test data\",\n  \"phone\":\"test data\",\n  \"address\":\"test data\",\n  \"createdTime\":\"2015-09-26T01:30:00.000Z\"\n }\n</code></pre>\n\n<p>But when I'm doing the POST request to the repository endpoint the reference fields are not saved, other fields are saved in the collection. Do I have to persist the object manually without using the Spring data? How can I save the references to the other collection using the POST request to the endpoint?</p>\n"},{"tags":["java","multithreading","threadpoolexecutor"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":2,"creation_date":1673108988,"post_id":75041910,"comment_id":132426080,"body_markdown":"Hard to tell without seeing exactly what is calculated. Please [edit] the post and add a [MRE].","body":"Hard to tell without seeing exactly what is calculated. Please <a href=\"https://stackoverflow.com/posts/75041910/edit\">edit</a> the post and add a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":136531,"reputation":21531,"user_id":340088,"accept_rate":68,"display_name":"jbx"},"score":1,"creation_date":1673109505,"post_id":75041910,"comment_id":132426204,"body_markdown":"You are blaming `ThreadPoolExecutor` when in reality it is most probably your worker code that is causing your CPU to go to 100%.","body":"You are blaming <code>ThreadPoolExecutor</code> when in reality it is most probably your worker code that is causing your CPU to go to 100%."},{"owner":{"account_id":3261346,"reputation":1761,"user_id":2746883,"accept_rate":56,"display_name":"Acuna"},"score":0,"creation_date":1673109778,"post_id":75041910,"comment_id":132426281,"body_markdown":"@jbx but it not loads without it","body":"@jbx but it not loads without it"},{"owner":{"account_id":136531,"reputation":21531,"user_id":340088,"accept_rate":68,"display_name":"jbx"},"score":1,"creation_date":1673110322,"post_id":75041910,"comment_id":132426391,"body_markdown":"You have an infinite loop without any blocking code. So it will take 1 core (or half of it if you have a hyperthreading CPU) and use as much as possible of it. If you use a thread pool it will start multiple workers and load all cores, using 100% of your CPU. Not sure what you were expecting instead.","body":"You have an infinite loop without any blocking code. So it will take 1 core (or half of it if you have a hyperthreading CPU) and use as much as possible of it. If you use a thread pool it will start multiple workers and load all cores, using 100% of your CPU. Not sure what you were expecting instead."},{"owner":{"account_id":3261346,"reputation":1761,"user_id":2746883,"accept_rate":56,"display_name":"Acuna"},"score":0,"creation_date":1673110983,"post_id":75041910,"comment_id":132426531,"body_markdown":"Wow. Yes, that&#39;s what I&#39;ve asked about. I need to sort out a bunch of random numbers in endless loop and find needed, so I can sepearate this task to several because none of them needed to connect with others. It all differs.","body":"Wow. Yes, that&#39;s what I&#39;ve asked about. I need to sort out a bunch of random numbers in endless loop and find needed, so I can sepearate this task to several because none of them needed to connect with others. It all differs."},{"owner":{"account_id":136531,"reputation":21531,"user_id":340088,"accept_rate":68,"display_name":"jbx"},"score":0,"creation_date":1673132081,"post_id":75041910,"comment_id":132430464,"body_markdown":"@Acuna it is still not clear what your task actually is. But to distribute your task onto multiple cores you need to have some strategy how to distribute your work into chunks. Maybe you might want to use a Fork-Join Pool to have a work-stealing algorithm implementation, so that workers take bits of the problem and then the result is joined together. Without knowing your actual problem its hard to say.","body":"@Acuna it is still not clear what your task actually is. But to distribute your task onto multiple cores you need to have some strategy how to distribute your work into chunks. Maybe you might want to use a Fork-Join Pool to have a work-stealing algorithm implementation, so that workers take bits of the problem and then the result is joined together. Without knowing your actual problem its hard to say."},{"owner":{"account_id":3261346,"reputation":1761,"user_id":2746883,"accept_rate":56,"display_name":"Acuna"},"score":0,"creation_date":1673194819,"post_id":75041910,"comment_id":132438770,"body_markdown":"@jbx I want simply divide my tasks with infinite loops on several cores. Because I thought than Java can it out of the box.","body":"@jbx I want simply divide my tasks with infinite loops on several cores. Because I thought than Java can it out of the box."},{"owner":{"account_id":136531,"reputation":21531,"user_id":340088,"accept_rate":68,"display_name":"jbx"},"score":0,"creation_date":1673225383,"post_id":75041910,"comment_id":132443992,"body_markdown":"@Acuna yes you can but you need to decide how to split the task, how will one thread know what to do and not repeat the same thing another task is doing. Java can&#39;t know what you are trying to achieve, so you need to decide how to subdivide the task and distribute it.","body":"@Acuna yes you can but you need to decide how to split the task, how will one thread know what to do and not repeat the same thing another task is doing. Java can&#39;t know what you are trying to achieve, so you need to decide how to subdivide the task and distribute it."},{"owner":{"account_id":3261346,"reputation":1761,"user_id":2746883,"accept_rate":56,"display_name":"Acuna"},"score":0,"creation_date":1673380470,"post_id":75041910,"comment_id":132484644,"body_markdown":"@jbx I can simply split my task to several tasks which every of them goes over several numbers which is not needed to connect with others tasks","body":"@jbx I can simply split my task to several tasks which every of them goes over several numbers which is not needed to connect with others tasks"},{"owner":{"account_id":136531,"reputation":21531,"user_id":340088,"accept_rate":68,"display_name":"jbx"},"score":0,"creation_date":1673469066,"post_id":75041910,"comment_id":132508882,"body_markdown":"@Acuna so you should notice a speed up if you split the numbers and use a threadpool. Alternatively you could look at using a ForkJoinPool which conceptually splits big tasks into smaller ones and then distributes them to different workers, and then joins back the results from each worker. The pattern is sort of designed for your use case.","body":"@Acuna so you should notice a speed up if you split the numbers and use a threadpool. Alternatively you could look at using a ForkJoinPool which conceptually splits big tasks into smaller ones and then distributes them to different workers, and then joins back the results from each worker. The pattern is sort of designed for your use case."},{"owner":{"account_id":3261346,"reputation":1761,"user_id":2746883,"accept_rate":56,"display_name":"Acuna"},"score":0,"creation_date":1673801943,"post_id":75041910,"comment_id":132574026,"body_markdown":"@jbx ForkJoinPool is for separation tasks in proccess, but I simply need to separate it on start only and work with it in infinite loop. But I found a Java-Thread-Affinity library (https://github.com/OpenHFT/Java-Thread-Affinity) for it which separate thread pools even with infinite loop to the separated cores - one task per core, it&#39;s exactly what  I need, really recommend!","body":"@jbx ForkJoinPool is for separation tasks in proccess, but I simply need to separate it on start only and work with it in infinite loop. But I found a Java-Thread-Affinity library (<a href=\"https://github.com/OpenHFT/Java-Thread-Affinity\" rel=\"nofollow noreferrer\">github.com/OpenHFT/Java-Thread-Affinity</a>) for it which separate thread pools even with infinite loop to the separated cores - one task per core, it&#39;s exactly what  I need, really recommend!"}],"answers":[{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1673168385,"post_id":75042288,"comment_id":132434064,"body_markdown":"If by “fancy stuff” you mean [*Project Loom*](https://wiki.openjdk.org/display/loom/Main), do not conflate that with [Green Threads](https://en.m.wikipedia.org/wiki/Green_thread) from the early days of Java. For one thing, Green Threads were entirely limited to a single host OS thread whereas virtual threads in Project Loom can be carried on a number of host OS threads.","body":"If by “fancy stuff” you mean <a href=\"https://wiki.openjdk.org/display/loom/Main\" rel=\"nofollow noreferrer\"><i>Project Loom</i></a>, do not conflate that with <a href=\"https://en.m.wikipedia.org/wiki/Green_thread\" rel=\"nofollow noreferrer\">Green Threads</a> from the early days of Java. For one thing, Green Threads were entirely limited to a single host OS thread whereas virtual threads in Project Loom can be carried on a number of host OS threads."},{"owner":{"account_id":136531,"reputation":21531,"user_id":340088,"accept_rate":68,"display_name":"jbx"},"score":0,"creation_date":1673225153,"post_id":75042288,"comment_id":132443968,"body_markdown":"@BasilBourque I wasn&#39;t exclusively talking about &quot;Green Threads&quot; as such, just wanted to point out that although in my explanation I talked about a Thread-to-OS process mapping, that might not always be the case. There lots of variants of user-space concurrency models (see Golang). Project Loom&#39;s Virtual Threads (I think originally called Fibers) are different from the old Java Green Threads (as you say they were pinned to one OS process). Maybe &quot;green thread&quot; was the wrong term (in the old days when we did it manually in C with `setjmp` and `longjmp` we just called them &#39;user-level threads&#39;)","body":"@BasilBourque I wasn&#39;t exclusively talking about &quot;Green Threads&quot; as such, just wanted to point out that although in my explanation I talked about a Thread-to-OS process mapping, that might not always be the case. There lots of variants of user-space concurrency models (see Golang). Project Loom&#39;s Virtual Threads (I think originally called Fibers) are different from the old Java Green Threads (as you say they were pinned to one OS process). Maybe &quot;green thread&quot; was the wrong term (in the old days when we did it manually in C with <code>setjmp</code> and <code>longjmp</code> we just called them &#39;user-level threads&#39;)"}],"tags":[],"owner":{"account_id":136531,"reputation":21531,"user_id":340088,"accept_rate":68,"display_name":"jbx"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1673225295,"creation_date":1673111740,"answer_id":75042288,"question_id":75041910,"body_markdown":"While it is not clear exactly what you are trying to find out, you have to keep this in mind. \r\n\r\nA single thread will only make use of one (virtual) core at a time. It is usually backed by a single OS kernel process (I say usually because there are a lot of fancy stuff some frameworks and VMs are doing with Virtual Threads and what not lately). \r\n\r\nWhen the thread blocks (to do I/O or wait for something, or sleeps, or there is an explicit call to `yield()`), it relinquishes the CPU core to another thread.\r\n\r\nSo running a simple infinite loop on a single worker thread will only make use of 1 core. Which is why you observe 10% to 20% loading (depending on how many virtual cores you have on your machine). \r\n\r\nOn the other hand, if you create a thread pool of as many cores as you have, all doing the same infinite loop on separate threads, each will take one available core and use it, which will drive your CPU loading to 100%. \r\n\r\nThey are completely separate workers, so you can&#39;t expect your first worker to complete faster or anything of that sort. If anything it will be slower, because you have exhausted all CPU resources, and the OS and even the JVM now will compete to do its own thing, like run the garbage collector etc. \r\n\r\n \r\n\r\n\r\n","title":"ThreadPoolExecutor CPU 100% load","body":"<p>While it is not clear exactly what you are trying to find out, you have to keep this in mind.</p>\n<p>A single thread will only make use of one (virtual) core at a time. It is usually backed by a single OS kernel process (I say usually because there are a lot of fancy stuff some frameworks and VMs are doing with Virtual Threads and what not lately).</p>\n<p>When the thread blocks (to do I/O or wait for something, or sleeps, or there is an explicit call to <code>yield()</code>), it relinquishes the CPU core to another thread.</p>\n<p>So running a simple infinite loop on a single worker thread will only make use of 1 core. Which is why you observe 10% to 20% loading (depending on how many virtual cores you have on your machine).</p>\n<p>On the other hand, if you create a thread pool of as many cores as you have, all doing the same infinite loop on separate threads, each will take one available core and use it, which will drive your CPU loading to 100%.</p>\n<p>They are completely separate workers, so you can't expect your first worker to complete faster or anything of that sort. If anything it will be slower, because you have exhausted all CPU resources, and the OS and even the JVM now will compete to do its own thing, like run the garbage collector etc.</p>\n"},{"comments":[{"owner":{"account_id":3261346,"reputation":1761,"user_id":2746883,"accept_rate":56,"display_name":"Acuna"},"score":0,"creation_date":1673114615,"post_id":75042293,"comment_id":132427288,"body_markdown":"Wow. Yes, I did&#39;t know it&#39;s working like so, so my problem is what I simply want to use all my cores to theoretically made my tasks faster. Or I&#39;ve missed something?","body":"Wow. Yes, I did&#39;t know it&#39;s working like so, so my problem is what I simply want to use all my cores to theoretically made my tasks faster. Or I&#39;ve missed something?"}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1673117288,"creation_date":1673111781,"answer_id":75042293,"question_id":75041910,"body_markdown":"# A CPU-bound task is bound to take all of the CPU\r\n\r\nYou have an infinite loop that does nothing more than run calculations. That code never blocks. That is, the code never stops to wait on externalities. For example, the code never contacts a database, never writes to storage, and never makes a call over the network. \r\n\r\nWith nothing to do but calculations on the CPU, such a task is considered to be [CPU-bound][1]. Such a task will use 100% of a CPU core. \r\n\r\nYou multiply this task, to have one such task per core for every core in your machine. So all cores are pushed to 100%. Likely your machine will get hot, fans will spin, and CPU will throttle.\r\n\r\nThis seems rather obvious. Perhaps you should edit your Question to explain why you expected a different behavior. \r\n\r\nTip: Avoid loading *all* your cores with CPU-bound tasks. The [OS][2] has many processes that need to run, and other apps need to run. \r\n\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/CPU-bound\r\n  [2]: https://en.wikipedia.org/wiki/Operating_system","title":"ThreadPoolExecutor CPU 100% load","body":"<h1>A CPU-bound task is bound to take all of the CPU</h1>\n<p>You have an infinite loop that does nothing more than run calculations. That code never blocks. That is, the code never stops to wait on externalities. For example, the code never contacts a database, never writes to storage, and never makes a call over the network.</p>\n<p>With nothing to do but calculations on the CPU, such a task is considered to be <a href=\"https://en.wikipedia.org/wiki/CPU-bound\" rel=\"nofollow noreferrer\">CPU-bound</a>. Such a task will use 100% of a CPU core.</p>\n<p>You multiply this task, to have one such task per core for every core in your machine. So all cores are pushed to 100%. Likely your machine will get hot, fans will spin, and CPU will throttle.</p>\n<p>This seems rather obvious. Perhaps you should edit your Question to explain why you expected a different behavior.</p>\n<p>Tip: Avoid loading <em>all</em> your cores with CPU-bound tasks. The <a href=\"https://en.wikipedia.org/wiki/Operating_system\" rel=\"nofollow noreferrer\">OS</a> has many processes that need to run, and other apps need to run.</p>\n"}],"owner":{"account_id":3261346,"reputation":1761,"user_id":2746883,"accept_rate":56,"display_name":"Acuna"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":419,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":75042288,"answer_count":2,"score":-2,"last_activity_date":1673225295,"creation_date":1673108562,"question_id":75041910,"body_markdown":"I needed to execute my workers on several cores because I have a possibility to separate my task to several tasks manually, so I limply need to use `newFixedThreadPool`, but my worker raises a 100% CPU loading. If it using the whole cores for it it&#39;s okay, but it&#39;s working only 2x faster than without thread pool, so seems that it using it without sense.\r\n\r\nI tried to use plain `newFixedThreadPool`:\r\n\r\n\r\n\tExecutorService pool = Executors.newFixedThreadPool (Runtime.getRuntime ().availableProcessors ());\r\n\t\r\n\tfor (int i = 0; i &lt; Runtime.getRuntime ().availableProcessors (); i++)\r\n\t\tpool.execute (new MyTask (this));\r\n\t\t\t\t\r\nand `ThreadPoolExecutor` with passed queue:\r\n\r\n\tLinkedBlockingQueue&lt;Runnable&gt; queue = new LinkedBlockingQueue&lt;&gt; ();\r\n\t\r\n\tfor (int i = 0; i &lt; Runtime.getRuntime ().availableProcessors (); i++)\r\n\t\tqueue.add (new MyTask (this));\r\n\t\r\n\tThreadPoolExecutor pool = new ThreadPoolExecutor (Runtime.getRuntime ().availableProcessors (), Runtime.getRuntime ().availableProcessors (), 0, TimeUnit.MILLISECONDS, queue);\r\n\t\r\n\tpool.prestartAllCoreThreads ();\r\n\t\t\t\r\nAnd result still the same.\r\n\r\nMyTask is trivial and written for example:\r\n\r\n\t\tprotected static class MyTask implements Runnable {\r\n\t\t\t\r\n\t\t\t@Override\r\n\t\t\tpublic void run () {\r\n\t\t\t\t\r\n\t\t\t\tint i = 0;\r\n\t\t\t\t\r\n\t\t\t\twhile (true)\r\n\t\t\t\t\ti++;\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\r\nAfter running workers without `ThreadPoolExecutor` CPU loading is normal and varies for about 10-20%. So what will be wrong?\t","title":"ThreadPoolExecutor CPU 100% load","body":"<p>I needed to execute my workers on several cores because I have a possibility to separate my task to several tasks manually, so I limply need to use <code>newFixedThreadPool</code>, but my worker raises a 100% CPU loading. If it using the whole cores for it it's okay, but it's working only 2x faster than without thread pool, so seems that it using it without sense.</p>\n<p>I tried to use plain <code>newFixedThreadPool</code>:</p>\n<pre><code>ExecutorService pool = Executors.newFixedThreadPool (Runtime.getRuntime ().availableProcessors ());\n\nfor (int i = 0; i &lt; Runtime.getRuntime ().availableProcessors (); i++)\n    pool.execute (new MyTask (this));\n            \n</code></pre>\n<p>and <code>ThreadPoolExecutor</code> with passed queue:</p>\n<pre><code>LinkedBlockingQueue&lt;Runnable&gt; queue = new LinkedBlockingQueue&lt;&gt; ();\n\nfor (int i = 0; i &lt; Runtime.getRuntime ().availableProcessors (); i++)\n    queue.add (new MyTask (this));\n\nThreadPoolExecutor pool = new ThreadPoolExecutor (Runtime.getRuntime ().availableProcessors (), Runtime.getRuntime ().availableProcessors (), 0, TimeUnit.MILLISECONDS, queue);\n\npool.prestartAllCoreThreads ();\n        \n</code></pre>\n<p>And result still the same.</p>\n<p>MyTask is trivial and written for example:</p>\n<pre><code>    protected static class MyTask implements Runnable {\n        \n        @Override\n        public void run () {\n            \n            int i = 0;\n            \n            while (true)\n                i++;\n            \n        }\n        \n</code></pre>\n<p>After running workers without <code>ThreadPoolExecutor</code> CPU loading is normal and varies for about 10-20%. So what will be wrong?</p>\n"},{"tags":["java","websphere","executorservice","java.util.concurrent"],"answers":[{"tags":[],"owner":{"account_id":7622322,"reputation":3444,"user_id":5780020,"display_name":"njr"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1595622830,"creation_date":1595622830,"answer_id":63081079,"question_id":63078226,"body_markdown":"WebSphere Application Server rejects the `shutdown` method in order to comply with the following requirement of the *Concurrency Utilities for Java EE Specification,  Section 3.1.6: Lifecycle* , which states:\r\n\r\n&gt; The lifecycle of ManagedExecutorService instances are centrally managed by the application server and cannot be changed by an application.\r\n\r\nAnd more explicitly, *Section 3.1.6.1 Java EE Product Provider Requirements* , which explicitly states:\r\n\r\n&gt; The lifecycle of a ManagedExecutorService is managed by an application server. All lifecycle operations on the ManagedExecutorService interface will throw a java.lang.IllegalStateException exception. This includes the following methods that are defined in the java.util.concurrent.ExecutorService interface: awaitTermination(), isShutdown(), isTerminated(), shutdown(), and shutdownNow().\r\n\r\nIt seems likely this requirement exists to prevent applications from interfering with each other when both use the same executor.\r\n\r\n","title":"Executor service shutdown is not supported","body":"<p>WebSphere Application Server rejects the <code>shutdown</code> method in order to comply with the following requirement of the <em>Concurrency Utilities for Java EE Specification,  Section 3.1.6: Lifecycle</em> , which states:</p>\n<blockquote>\n<p>The lifecycle of ManagedExecutorService instances are centrally managed by the application server and cannot be changed by an application.</p>\n</blockquote>\n<p>And more explicitly, <em>Section 3.1.6.1 Java EE Product Provider Requirements</em> , which explicitly states:</p>\n<blockquote>\n<p>The lifecycle of a ManagedExecutorService is managed by an application server. All lifecycle operations on the ManagedExecutorService interface will throw a java.lang.IllegalStateException exception. This includes the following methods that are defined in the java.util.concurrent.ExecutorService interface: awaitTermination(), isShutdown(), isTerminated(), shutdown(), and shutdownNow().</p>\n</blockquote>\n<p>It seems likely this requirement exists to prevent applications from interfering with each other when both use the same executor.</p>\n"}],"owner":{"account_id":9643726,"reputation":47,"user_id":7157203,"display_name":"S. Yemets"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":424,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":63081079,"answer_count":1,"score":0,"last_activity_date":1673224938,"creation_date":1595610167,"question_id":63078226,"body_markdown":"I am using the executor service provided by IBM Websphere 8.5.5\r\n\r\n    ExecutorService es = (ExecutorService ) new InitialContext().lookup(&quot;wm/default&quot;)\r\nwhen I call `es.shutdown()`method, I get the error: \r\n\r\n    java.lang.IllegalStateException: ASYN0093E: The operation shutdown is not supported.\r\nWhy Websphere does not support the shutdown method? Should not I call that method?","title":"Executor service shutdown is not supported","body":"<p>I am using the executor service provided by IBM Websphere 8.5.5</p>\n<pre><code>ExecutorService es = (ExecutorService ) new InitialContext().lookup(&quot;wm/default&quot;)\n</code></pre>\n<p>when I call <code>es.shutdown()</code>method, I get the error:</p>\n<pre><code>java.lang.IllegalStateException: ASYN0093E: The operation shutdown is not supported.\n</code></pre>\n<p>Why Websphere does not support the shutdown method? Should not I call that method?</p>\n"},{"tags":["java","android","bluetooth"],"owner":{"account_id":13547561,"reputation":3338,"user_id":9773423,"display_name":"Taki"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673224552,"creation_date":1673224552,"question_id":75052283,"body_markdown":"I have a call recording app , when i record a call on android 12  , it does only record my voice but not the other person voice , for this reason i thought about using The bluetooth Sco which i think it might help in resolving this issue , but i could not make it work , can any one help me please . Thank you \r\n\r\n * This is receiver where i check for it \r\n\r\n```\r\n public void onReceive(Context context, Intent intent) {\r\n        Bundle bundle;\r\n        String state;\r\n        int scoState = -1;\r\n        String incomingNumber;\r\n        String action = intent.getAction();\r\n        \r\n        if(action != null &amp;&amp; action.equals(AudioManager.EXTRA_SCO_AUDIO_STATE)){\r\n            scoState = intent.getIntExtra(AudioManager.EXTRA_SCO_AUDIO_STATE,-1);\r\n            Intent intentService = new Intent(context, RecorderService.class);\r\n                        serviceName = intentService.getComponent();\r\n                        intentService.putExtra(ARG_INCOMING, false);\r\n                        intentService.putExtra(BLUETOOTH_STATE,scoState);\r\n\r\n                        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n                            context.startForegroundService(intentService);\r\n                        } else {\r\n                            context.startService(intentService);\r\n                        }\r\n        }\r\n}\r\n\r\n```\r\n\r\n * This is manifest file \r\n\r\n```\r\n  &lt;receiver\r\n            android:name=&quot;.recorder.CallReceiver&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.PHONE_STATE&quot; /&gt;\r\n                &lt;action android:name=&quot;android.media.extra.SCO_AUDIO_STATE&quot;/&gt;\r\n            &lt;/intent-filter&gt;\r\n\r\n        &lt;/receiver&gt;\r\n```\r\n\r\n\r\n *This is how i start it( blueToothState is basically the state i pass from receiver to service )\r\n \r\n```\r\n  if(AudioManager.SCO_AUDIO_STATE_CONNECTED == blueToothState){\r\n                audioManager.setBluetoothScoOn(true);\r\n                audioManager.startBluetoothSco();\r\n                putSpeakerOff();\r\n            }\r\n```","title":"AudioManager.EXTRA_SCO_AUDIO_STATE always return -1","body":"<p>I have a call recording app , when i record a call on android 12  , it does only record my voice but not the other person voice , for this reason i thought about using The bluetooth Sco which i think it might help in resolving this issue , but i could not make it work , can any one help me please . Thank you</p>\n<ul>\n<li>This is receiver where i check for it</li>\n</ul>\n<pre><code> public void onReceive(Context context, Intent intent) {\n        Bundle bundle;\n        String state;\n        int scoState = -1;\n        String incomingNumber;\n        String action = intent.getAction();\n        \n        if(action != null &amp;&amp; action.equals(AudioManager.EXTRA_SCO_AUDIO_STATE)){\n            scoState = intent.getIntExtra(AudioManager.EXTRA_SCO_AUDIO_STATE,-1);\n            Intent intentService = new Intent(context, RecorderService.class);\n                        serviceName = intentService.getComponent();\n                        intentService.putExtra(ARG_INCOMING, false);\n                        intentService.putExtra(BLUETOOTH_STATE,scoState);\n\n                        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n                            context.startForegroundService(intentService);\n                        } else {\n                            context.startService(intentService);\n                        }\n        }\n}\n\n</code></pre>\n<ul>\n<li>This is manifest file</li>\n</ul>\n<pre><code>  &lt;receiver\n            android:name=&quot;.recorder.CallReceiver&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.PHONE_STATE&quot; /&gt;\n                &lt;action android:name=&quot;android.media.extra.SCO_AUDIO_STATE&quot;/&gt;\n            &lt;/intent-filter&gt;\n\n        &lt;/receiver&gt;\n</code></pre>\n<p>*This is how i start it( blueToothState is basically the state i pass from receiver to service )</p>\n<pre><code>  if(AudioManager.SCO_AUDIO_STATE_CONNECTED == blueToothState){\n                audioManager.setBluetoothScoOn(true);\n                audioManager.startBluetoothSco();\n                putSpeakerOff();\n            }\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1673224494,"post_id":75052254,"comment_id":132443896,"body_markdown":"Use `WorkManager` and schedule work to make the backend call and update the app widget.","body":"Use <code>WorkManager</code> and schedule work to make the backend call and update the app widget."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1673232557,"post_id":75052254,"comment_id":132444845,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":8239445,"reputation":19,"user_id":6197518,"display_name":"Donghyun Na"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673224147,"creation_date":1673224115,"question_id":75052254,"body_markdown":"There is a appwidget in my android app.\r\n\r\nfeatures of appwidget\r\n- If user press button of appwidget, it request backend api.\r\n- Update view with api result.\r\n\r\nI originally wrote app widget with foreground service.\r\nBecause I thought that work like it cannot be handled without service.\r\n\r\nBut, for now, Foreground service in app widget is restricted in Android 12 or higher.\r\n\r\nSo I should modify it with other way.\r\n\r\nWhich method can I choose in this case?","title":"How to replace foreground service in android app widget?","body":"<p>There is a appwidget in my android app.</p>\n<p>features of appwidget</p>\n<ul>\n<li>If user press button of appwidget, it request backend api.</li>\n<li>Update view with api result.</li>\n</ul>\n<p>I originally wrote app widget with foreground service.\nBecause I thought that work like it cannot be handled without service.</p>\n<p>But, for now, Foreground service in app widget is restricted in Android 12 or higher.</p>\n<p>So I should modify it with other way.</p>\n<p>Which method can I choose in this case?</p>\n"},{"tags":["java","java-stream"],"answers":[{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1497447648,"post_id":44540381,"comment_id":76083575,"body_markdown":"or use `Collectors.collectingAndThen(Collectors.toMap(…), m-&gt;new ArrayList&lt;&gt;(m.values()))`…","body":"or use <code>Collectors.collectingAndThen(Collectors.toMap(…), m-&gt;new ArrayList&lt;&gt;(m.values()))</code>…"},{"owner":{"account_id":2111403,"reputation":33698,"user_id":1876620,"accept_rate":94,"display_name":"fps"},"score":2,"creation_date":1497472605,"post_id":44540381,"comment_id":76098836,"body_markdown":"Hi! 2 comments... 1) Maybe it should be `list.stream().collect(...)` and 2) You are mutating the original `Invoice` elements, this doesn&#39;t look correct to me... You could solve it by adding a copy constructor and using it in the value mapper","body":"Hi! 2 comments... 1) Maybe it should be <code>list.stream().collect(...)</code> and 2) You are mutating the original <code>Invoice</code> elements, this doesn&#39;t look correct to me... You could solve it by adding a copy constructor and using it in the value mapper"}],"tags":[],"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"comment_count":2,"down_vote_count":0,"up_vote_count":28,"is_accepted":true,"score":28,"last_activity_date":1497527215,"creation_date":1497431511,"answer_id":44540381,"question_id":44540040,"body_markdown":"If you are OK returning a `Collection` it would look like this:\r\n\r\n\r\n    Collection&lt;Invoice&gt;  invoices = list.collect(Collectors.toMap(Invoice::getMonth, Function.identity(), (left, right) -&gt; {\r\n                    left.setAmount(left.getAmount().add(right.getAmount()));\r\n                    return left;\r\n                })).values();\r\n\r\n     \r\nIf you *really* need a `List`:\r\n\r\n     list.stream().collect(Collectors.collectingAndThen(Collectors.toMap(Invoice::getMonth, Function.identity(), (left, right) -&gt; {\r\n                    left.setAmount(left.getAmount().add(right.getAmount()));\r\n                    return left;\r\n                }), m -&gt; new ArrayList&lt;&gt;(m.values())));\r\n\r\nBoth obviously assume that `Invoice` is mutable... ","title":"Java 8 stream - merge collections of objects sharing the same Id","body":"<p>If you are OK returning a <code>Collection</code> it would look like this:</p>\n\n<pre><code>Collection&lt;Invoice&gt;  invoices = list.collect(Collectors.toMap(Invoice::getMonth, Function.identity(), (left, right) -&gt; {\n                left.setAmount(left.getAmount().add(right.getAmount()));\n                return left;\n            })).values();\n</code></pre>\n\n<p>If you <em>really</em> need a <code>List</code>:</p>\n\n<pre><code> list.stream().collect(Collectors.collectingAndThen(Collectors.toMap(Invoice::getMonth, Function.identity(), (left, right) -&gt; {\n                left.setAmount(left.getAmount().add(right.getAmount()));\n                return left;\n            }), m -&gt; new ArrayList&lt;&gt;(m.values())));\n</code></pre>\n\n<p>Both obviously assume that <code>Invoice</code> is mutable... </p>\n"},{"tags":[],"owner":{"account_id":6650480,"reputation":7479,"user_id":5132804,"accept_rate":73,"display_name":"Alberto S."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1497431565,"creation_date":1497431565,"answer_id":44540400,"question_id":44540040,"body_markdown":"You can do something like\r\n\r\n\t    Map&lt;Integer, Invoice&gt; invoiceMap = invoices.stream()\r\n                .collect(Collectors.groupingBy(                   // group invoices by month\r\n                        invoice -&gt; invoice.month\r\n                ))\r\n                .entrySet().stream()                              // once you have them grouped stream then again so...\r\n                .collect(Collectors.toMap(\r\n                        entry -&gt; entry.getKey(),                  // we can mantain the key (month)\r\n                        entry -&gt; entry.getValue().stream()        // and streaming all month&#39;s invoices\r\n                            .reduce((invoice, invoice2) -&gt;        // add all the ammounts\r\n                                    new Invoice(invoice.month, invoice.amount.add(invoice2.amount)))\r\n                                .orElse(new Invoice(entry.getKey(), new BigDecimal(0)))          // In case we don&#39;t have any invoice (unlikeable)\r\n                ));","title":"Java 8 stream - merge collections of objects sharing the same Id","body":"<p>You can do something like</p>\n\n<pre><code>    Map&lt;Integer, Invoice&gt; invoiceMap = invoices.stream()\n            .collect(Collectors.groupingBy(                   // group invoices by month\n                    invoice -&gt; invoice.month\n            ))\n            .entrySet().stream()                              // once you have them grouped stream then again so...\n            .collect(Collectors.toMap(\n                    entry -&gt; entry.getKey(),                  // we can mantain the key (month)\n                    entry -&gt; entry.getValue().stream()        // and streaming all month's invoices\n                        .reduce((invoice, invoice2) -&gt;        // add all the ammounts\n                                new Invoice(invoice.month, invoice.amount.add(invoice2.amount)))\n                            .orElse(new Invoice(entry.getKey(), new BigDecimal(0)))          // In case we don't have any invoice (unlikeable)\n            ));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4120139,"reputation":1,"user_id":3380739,"display_name":"user_3380739"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673223216,"creation_date":1497457882,"answer_id":44550162,"question_id":44540040,"body_markdown":"Here is the solution by My library: [abacus-common][1]\r\n\r\n    Stream.of(invoices)\r\n          .groupBy2(Invoice::getMonth, Invoice::getAmount, BigDecimal::add)  \r\n          .map(e -&gt; new Invoice(e.getKey(), e.getValue())) // Probably we should not modify original invoices. create new instances.\r\n          .toList();\r\n\r\n  [1]: https://github.com/landawn/abacus-common","title":"Java 8 stream - merge collections of objects sharing the same Id","body":"<p>Here is the solution by My library: <a href=\"https://github.com/landawn/abacus-common\" rel=\"nofollow noreferrer\">abacus-common</a></p>\n<pre><code>Stream.of(invoices)\n      .groupBy2(Invoice::getMonth, Invoice::getAmount, BigDecimal::add)  \n      .map(e -&gt; new Invoice(e.getKey(), e.getValue())) // Probably we should not modify original invoices. create new instances.\n      .toList();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":17441263,"reputation":578,"user_id":12643240,"display_name":"Nand"},"score":1,"creation_date":1640792289,"post_id":44554544,"comment_id":124660531,"body_markdown":"If you need an (unmodifiable) List instead of collection, you can use `List.copyOf(result)`","body":"If you need an (unmodifiable) List instead of collection, you can use <code>List.copyOf(result)</code>"}],"tags":[],"owner":{"account_id":2111403,"reputation":33698,"user_id":1876620,"accept_rate":94,"display_name":"fps"},"comment_count":1,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1497473894,"creation_date":1497473542,"answer_id":44554544,"question_id":44540040,"body_markdown":"If you could add the following copy constructor and merge method to your `Invoice` class:\r\n\r\n    public Invoice(Invoice another) {\r\n        this.month = another.month;\r\n        this.amount = another.amount;\r\n    }\r\n\r\n    public Invoice merge(Invoice another) {\r\n        amount = amount.add(another.amount); // BigDecimal is immutable\r\n        return this;\r\n    }\r\n\r\nYou could reduce as you want, as follows:\r\n\r\n    Collection&lt;Invoice&gt; result = list.stream()\r\n        .collect(Collectors.toMap(\r\n            Invoice::getMonth, // use month as key\r\n            Invoice::new,      // use copy constructor =&gt; don&#39;t mutate original invoices\r\n            Invoice::merge))   // merge invoices with same month\r\n        .values();\r\n\r\nI&#39;m using [`Collectors.toMap`][1] to do the job, which has three arguments: a function that maps elements of the stream to keys, a function that maps elements of the stream to values and a merge function that is used to combine values when there are collisions on the keys.\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#toMap-java.util.function.Function-java.util.function.Function-java.util.function.BinaryOperator-","title":"Java 8 stream - merge collections of objects sharing the same Id","body":"<p>If you could add the following copy constructor and merge method to your <code>Invoice</code> class:</p>\n\n<pre><code>public Invoice(Invoice another) {\n    this.month = another.month;\n    this.amount = another.amount;\n}\n\npublic Invoice merge(Invoice another) {\n    amount = amount.add(another.amount); // BigDecimal is immutable\n    return this;\n}\n</code></pre>\n\n<p>You could reduce as you want, as follows:</p>\n\n<pre><code>Collection&lt;Invoice&gt; result = list.stream()\n    .collect(Collectors.toMap(\n        Invoice::getMonth, // use month as key\n        Invoice::new,      // use copy constructor =&gt; don't mutate original invoices\n        Invoice::merge))   // merge invoices with same month\n    .values();\n</code></pre>\n\n<p>I'm using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#toMap-java.util.function.Function-java.util.function.Function-java.util.function.BinaryOperator-\" rel=\"noreferrer\"><code>Collectors.toMap</code></a> to do the job, which has three arguments: a function that maps elements of the stream to keys, a function that maps elements of the stream to values and a merge function that is used to combine values when there are collisions on the keys.</p>\n"},{"tags":[],"owner":{"account_id":7416245,"reputation":679,"user_id":5641961,"display_name":"Machhindra Neupane"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1559018040,"creation_date":1559018040,"answer_id":56335041,"question_id":44540040,"body_markdown":"I think if your application do not support lambda than this might be a suitable answer eg (Android minSdkVersion=16 do not support lambda) \r\n\r\n    public static List&lt;Invoice&gt; mergeAmount(List&lt;Invoice&gt; invoiceList) {\r\n     List&lt;Invoice&gt; newInvoiceList = new ArrayList&lt;&gt;();\r\n      for(Invoice inv: invoiceList) {\r\n        boolean isThere = false;\r\n         for (Invoice inv1: newInvoiceList) {\r\n          if (inv1.getAmount() == inv.getAmount()) {\r\n             inv1.setAmount(inv1.getAmoount()+inv.getAmount());\r\n             isThere = true;\r\n             break;\r\n           }             \r\n         }\r\n        if (!isThere) {\r\n            newInvoiceList.add(inv);\r\n        } \r\n     }\r\n      return newInvoiceList;\r\n    }","title":"Java 8 stream - merge collections of objects sharing the same Id","body":"<p>I think if your application do not support lambda than this might be a suitable answer eg (Android minSdkVersion=16 do not support lambda) </p>\n\n<pre><code>public static List&lt;Invoice&gt; mergeAmount(List&lt;Invoice&gt; invoiceList) {\n List&lt;Invoice&gt; newInvoiceList = new ArrayList&lt;&gt;();\n  for(Invoice inv: invoiceList) {\n    boolean isThere = false;\n     for (Invoice inv1: newInvoiceList) {\n      if (inv1.getAmount() == inv.getAmount()) {\n         inv1.setAmount(inv1.getAmoount()+inv.getAmount());\n         isThere = true;\n         break;\n       }             \n     }\n    if (!isThere) {\n        newInvoiceList.add(inv);\n    } \n }\n  return newInvoiceList;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4687782,"reputation":914,"user_id":3794744,"display_name":"Vassilis"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1586547426,"creation_date":1586547426,"answer_id":61147474,"question_id":44540040,"body_markdown":"    Collection&lt;Invoice&gt; result = invoices.stream().collect(groupingBy(i -&gt; i.month,\r\n                    collectingAndThen(\r\n                        reducing((Invoice i1, Invoice i2) -&gt; new Invoice(i1.month, i1.amount + i2.amount)),\r\n                            Optional::get))).values();","title":"Java 8 stream - merge collections of objects sharing the same Id","body":"<pre><code>Collection&lt;Invoice&gt; result = invoices.stream().collect(groupingBy(i -&gt; i.month,\n                collectingAndThen(\n                    reducing((Invoice i1, Invoice i2) -&gt; new Invoice(i1.month, i1.amount + i2.amount)),\n                        Optional::get))).values();\n</code></pre>\n"}],"owner":{"account_id":2995550,"reputation":2042,"user_id":2542165,"accept_rate":62,"display_name":"jaudo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16901,"favorite_count":0,"down_vote_count":1,"up_vote_count":16,"accepted_answer_id":44540381,"answer_count":6,"score":15,"last_activity_date":1673223216,"creation_date":1497430546,"question_id":44540040,"body_markdown":"I have a collection of invoices :\r\n\r\n    class Invoice {\r\n      int month;\r\n      BigDecimal amount\r\n    }\r\n\r\nI&#39;d like to merge these invoices, so I get one invoice per month, and the amount is the sum of the invoices amount for this month.\r\n\r\nFor example:\r\n\r\n    invoice 1 : {month:1,amount:1000}\r\n    invoice 2 : {month:1,amount:300}\r\n    invoice 3 : {month:2,amount:2000}\r\n\r\nOutput:\r\n\r\n    invoice 1 : {month:1,amount:1300}\r\n    invoice 2 : {month:2,amount:2000}\r\n\r\nHow can I do this with java 8 streams?\r\n\r\nEDIT : as my Invoice class was mutable and it was not a problem to modify them, I choosed Eugene&#39;s solution\r\n\r\n    Collection&lt;Invoice&gt;  invoices = list.collect(Collectors.toMap(Invoice::getMonth, Function.identity(), (left, right) -&gt; {\r\n                    left.setAmount(left.getAmount().add(right.getAmount()));\r\n                    return left;\r\n                })).values();","title":"Java 8 stream - merge collections of objects sharing the same Id","body":"<p>I have a collection of invoices :</p>\n\n<pre><code>class Invoice {\n  int month;\n  BigDecimal amount\n}\n</code></pre>\n\n<p>I'd like to merge these invoices, so I get one invoice per month, and the amount is the sum of the invoices amount for this month.</p>\n\n<p>For example:</p>\n\n<pre><code>invoice 1 : {month:1,amount:1000}\ninvoice 2 : {month:1,amount:300}\ninvoice 3 : {month:2,amount:2000}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>invoice 1 : {month:1,amount:1300}\ninvoice 2 : {month:2,amount:2000}\n</code></pre>\n\n<p>How can I do this with java 8 streams?</p>\n\n<p>EDIT : as my Invoice class was mutable and it was not a problem to modify them, I choosed Eugene's solution</p>\n\n<pre><code>Collection&lt;Invoice&gt;  invoices = list.collect(Collectors.toMap(Invoice::getMonth, Function.identity(), (left, right) -&gt; {\n                left.setAmount(left.getAmount().add(right.getAmount()));\n                return left;\n            })).values();\n</code></pre>\n"},{"tags":["java","json"],"comments":[{"owner":{"account_id":174153,"reputation":1783,"user_id":403340,"accept_rate":78,"display_name":"Yaroslav Boichuk"},"score":0,"creation_date":1497124112,"post_id":44477288,"comment_id":75950055,"body_markdown":"what JSON library do you use?","body":"what JSON library do you use?"},{"owner":{"account_id":10578575,"reputation":148,"user_id":7793219,"accept_rate":100,"display_name":"Chuchoter"},"score":0,"creation_date":1497124181,"post_id":44477288,"comment_id":75950082,"body_markdown":"json-simple. I&#39;m also open to use gson.","body":"json-simple. I&#39;m also open to use gson."},{"owner":{"account_id":174153,"reputation":1783,"user_id":403340,"accept_rate":78,"display_name":"Yaroslav Boichuk"},"score":0,"creation_date":1497125722,"post_id":44477288,"comment_id":75950516,"body_markdown":"please check my updated answer","body":"please check my updated answer"}],"answers":[{"tags":[],"owner":{"account_id":174153,"reputation":1783,"user_id":403340,"accept_rate":78,"display_name":"Yaroslav Boichuk"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1497126141,"creation_date":1497123420,"answer_id":44477343,"question_id":44477288,"body_markdown":"You need to iterate over array and accumulate all `name` values into array of Strings.\r\n\r\nSo below is working source code:\r\n\r\n    JsonArray jsonObject = new JsonParser()\r\n            .parse(json)\r\n            .getAsJsonArray();\r\n    \r\n    List&lt;String&gt; names = new ArrayList&lt;&gt;();\r\n    for (JsonElement jsonElement : jsonObject) {\r\n        names.add(jsonElement.getAsJsonObject().get(&quot;name&quot;).getAsString());\r\n    }\r\n    \r\n    //now you can use as you wish, by index\r\n    System.out.println(names.get(1));//returns &quot;name2&quot;\r\n\r\n","title":"Java - Get multiple JSON values and turn into String","body":"<p>You need to iterate over array and accumulate all <code>name</code> values into array of Strings.</p>\n\n<p>So below is working source code:</p>\n\n<pre><code>JsonArray jsonObject = new JsonParser()\n        .parse(json)\n        .getAsJsonArray();\n\nList&lt;String&gt; names = new ArrayList&lt;&gt;();\nfor (JsonElement jsonElement : jsonObject) {\n    names.add(jsonElement.getAsJsonObject().get(\"name\").getAsString());\n}\n\n//now you can use as you wish, by index\nSystem.out.println(names.get(1));//returns \"name2\"\n</code></pre>\n"},{"comments":[{"owner":{"account_id":10578575,"reputation":148,"user_id":7793219,"accept_rate":100,"display_name":"Chuchoter"},"score":0,"creation_date":1497126356,"post_id":44477724,"comment_id":75950669,"body_markdown":"This works, but I like Yaroslav&#39;s answer better, thanks anyways :)","body":"This works, but I like Yaroslav&#39;s answer better, thanks anyways :)"}],"tags":[],"owner":{"account_id":7241952,"reputation":134,"user_id":5525268,"display_name":"Taras Shpulyar"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1497126284,"creation_date":1497126284,"answer_id":44477724,"question_id":44477288,"body_markdown":"Using the URL from your comment and Java 8 Stream API I&#39;ve built this main method:\r\n\r\n    \tpublic static void main(final String[] args) throws ParseException, MalformedURLException, IOException {\r\n\t\tfinal String url = &quot;https://api.mojang.com/user/profiles/c8570e47605948d3a3cbe3ec3a681cc0/names&quot;;\r\n\t\tfinal InputStream in = new URL(url).openStream();\r\n\t\tfinal String json = IOUtils.toString(in);\r\n\t\tIOUtils.closeQuietly(in);\r\n\t\tfinal JSONParser parser = new JSONParser();\r\n\t\tfinal JSONArray jsonparse = (JSONArray) parser.parse(json);\r\n\t\tSystem.out.println(jsonparse);\r\n\t\tSystem.out.println();\r\n\t\tfinal List&lt;String&gt; names = (ArrayList&lt;String&gt;) jsonparse.stream().map((obj) -&gt; {\r\n\t\t\tfinal JSONObject object = (JSONObject) obj;\r\n\t\t\treturn (String) object.getOrDefault(&quot;name&quot;, &quot;&quot;);\r\n\t\t}).peek(System.out::println).collect(Collectors.toList());\r\n\t}","title":"Java - Get multiple JSON values and turn into String","body":"<p>Using the URL from your comment and Java 8 Stream API I've built this main method:</p>\n\n<pre><code>    public static void main(final String[] args) throws ParseException, MalformedURLException, IOException {\n    final String url = \"https://api.mojang.com/user/profiles/c8570e47605948d3a3cbe3ec3a681cc0/names\";\n    final InputStream in = new URL(url).openStream();\n    final String json = IOUtils.toString(in);\n    IOUtils.closeQuietly(in);\n    final JSONParser parser = new JSONParser();\n    final JSONArray jsonparse = (JSONArray) parser.parse(json);\n    System.out.println(jsonparse);\n    System.out.println();\n    final List&lt;String&gt; names = (ArrayList&lt;String&gt;) jsonparse.stream().map((obj) -&gt; {\n        final JSONObject object = (JSONObject) obj;\n        return (String) object.getOrDefault(\"name\", \"\");\n    }).peek(System.out::println).collect(Collectors.toList());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4120139,"reputation":1,"user_id":3380739,"display_name":"user_3380739"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673223163,"creation_date":1497195906,"answer_id":44485703,"question_id":44477288,"body_markdown":"Try My library: [abacus-common][1]. All the above can be replaced with:\r\n\r\n    List&lt;Map&lt;String, Object&gt;&gt; resp = HttpClient.of(&quot;https://api.mojang.com/user/profiles/&quot; + slimUUID + &quot;/names&quot;).get(List.class);\r\n    List&lt;String&gt; names = resp.stream().map(m -&gt; (String) (m.get(&quot;name&quot;))).collect(Collectors.toList());\r\n\r\nBy the way, if slimUUID is equal to: `UUID.randomUUID().toString().replaceAll(&quot;-&quot;, &quot;&quot;)`. It&#39;s be simplified: \r\n\r\n    List&lt;Map&lt;String, Object&gt;&gt; resp = HttpClient.of(&quot;https://api.mojang.com/user/profiles/&quot; + N.guid()+ &quot;/names&quot;).get(List.class);\r\n    List&lt;String&gt; names = resp.stream().map(m -&gt; (String) (m.get(&quot;name&quot;))).collect(Collectors.toList());\r\n\r\n  [1]: https://github.com/landawn/abacus-common","title":"Java - Get multiple JSON values and turn into String","body":"<p>Try My library: <a href=\"https://github.com/landawn/abacus-common\" rel=\"nofollow noreferrer\">abacus-common</a>. All the above can be replaced with:</p>\n<pre><code>List&lt;Map&lt;String, Object&gt;&gt; resp = HttpClient.of(&quot;https://api.mojang.com/user/profiles/&quot; + slimUUID + &quot;/names&quot;).get(List.class);\nList&lt;String&gt; names = resp.stream().map(m -&gt; (String) (m.get(&quot;name&quot;))).collect(Collectors.toList());\n</code></pre>\n<p>By the way, if slimUUID is equal to: <code>UUID.randomUUID().toString().replaceAll(&quot;-&quot;, &quot;&quot;)</code>. It's be simplified:</p>\n<pre><code>List&lt;Map&lt;String, Object&gt;&gt; resp = HttpClient.of(&quot;https://api.mojang.com/user/profiles/&quot; + N.guid()+ &quot;/names&quot;).get(List.class);\nList&lt;String&gt; names = resp.stream().map(m -&gt; (String) (m.get(&quot;name&quot;))).collect(Collectors.toList());\n</code></pre>\n"}],"owner":{"account_id":10578575,"reputation":148,"user_id":7793219,"accept_rate":100,"display_name":"Chuchoter"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4792,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":44477343,"answer_count":3,"score":0,"last_activity_date":1673223163,"creation_date":1497123050,"question_id":44477288,"body_markdown":"How would I get all the &quot;name&quot; values and turn them into a String?\r\nSo for example if I&#39;d do the following:\r\n\r\n    System.out.println(value[1]);\r\nIt would print out `name1`.&lt;br&gt;\r\nHere is what I have so far:\r\n\r\nJSON:\r\n\r\n    [\r\n        {\r\n            &quot;name&quot;:&quot;name1&quot;\r\n        },\r\n        {\r\n            &quot;name&quot;:&quot;name2&quot;,\r\n            &quot;changedToAt&quot;:1470659096000\r\n        },\r\n        {\r\n            &quot;name&quot;:&quot;name3&quot;,\r\n            &quot;changedToAt&quot;:1473435817000\r\n        }\r\n    ]\r\n   Java code:\r\n\r\n    try {\r\n\t\tString UUID = p.getUniqueId().toString();\r\n\t    String slimUUID = UUID.replace(&quot;-&quot;, &quot;&quot;);\r\n\t\tInputStream in = new URL(&quot;https://api.mojang.com/user/profiles/&quot; + slimUUID + &quot;/names&quot;).openStream();\r\n\r\n\t\tString json = IOUtils.toString(in);\r\n\t\tIOUtils.closeQuietly(in);\r\n\r\n\t\ttry {\r\n\t\t\tJSONParser parser = new JSONParser();\r\n\t\t\tJSONObject jsonparse = (JSONObject) parser.parse(json);\r\n            //get &quot;name&quot; values and turn into String\r\n\t\t} catch (ParseException e) {\r\n\t\t\tSystem.out.println(e.getMessage());\r\n\t\t}\r\n\r\n\t\t} catch (IOException e) {\r\n\t\t\tSystem.out.println(e.getMessage());\r\n\t\t}\r\n    }","title":"Java - Get multiple JSON values and turn into String","body":"<p>How would I get all the \"name\" values and turn them into a String?\nSo for example if I'd do the following:</p>\n\n<pre><code>System.out.println(value[1]);\n</code></pre>\n\n<p>It would print out <code>name1</code>.<br>\nHere is what I have so far:</p>\n\n<p>JSON:</p>\n\n<pre><code>[\n    {\n        \"name\":\"name1\"\n    },\n    {\n        \"name\":\"name2\",\n        \"changedToAt\":1470659096000\n    },\n    {\n        \"name\":\"name3\",\n        \"changedToAt\":1473435817000\n    }\n]\n</code></pre>\n\n<p>Java code:</p>\n\n<pre><code>try {\n    String UUID = p.getUniqueId().toString();\n    String slimUUID = UUID.replace(\"-\", \"\");\n    InputStream in = new URL(\"https://api.mojang.com/user/profiles/\" + slimUUID + \"/names\").openStream();\n\n    String json = IOUtils.toString(in);\n    IOUtils.closeQuietly(in);\n\n    try {\n        JSONParser parser = new JSONParser();\n        JSONObject jsonparse = (JSONObject) parser.parse(json);\n        //get \"name\" values and turn into String\n    } catch (ParseException e) {\n        System.out.println(e.getMessage());\n    }\n\n    } catch (IOException e) {\n        System.out.println(e.getMessage());\n    }\n}\n</code></pre>\n"},{"tags":["java","multidimensional-array","java-stream"],"answers":[{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1496755435,"post_id":44357981,"comment_id":75782250,"body_markdown":"There was no reason to change the code to `IntStream.of`; `Arrays.stream` works fine. All that was missing in the OP’s code was the call to `boxed()`…","body":"There was no reason to change the code to <code>IntStream.of</code>; <code>Arrays.stream</code> works fine. All that was missing in the OP’s code was the call to <code>boxed()</code>…"}],"tags":[],"owner":{"account_id":322516,"reputation":121953,"user_id":641955,"accept_rate":72,"display_name":"janos"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1496605137,"creation_date":1496604499,"answer_id":44357981,"question_id":44357940,"body_markdown":"`Arrays.stream` will go through each `int[]` in the `int[][]`.\r\nYou can convert an `int[]` to an `IntStream`.\r\nThen, in order to convert a stream of `int`s to a `List&lt;Integer&gt;`,\r\nyou first need to box them.\r\nOnce boxed to `Integer`s, you can collect them to a list.\r\nAnd finally collect the stream of `List&lt;Integer&gt;` into a list.\r\n\r\n    List&lt;List&lt;Integer&gt;&gt; list = Arrays.stream(data)\r\n        .map(row -&gt; IntStream.of(row).boxed().collect(Collectors.toList()))\r\n        .collect(Collectors.toList());\r\n\r\n[Demo.][1]\r\n\r\n  [1]: http://ideone.com/eUjyTu","title":"How can I convert a 2D array to a 2D list with Streams?","body":"<p><code>Arrays.stream</code> will go through each <code>int[]</code> in the <code>int[][]</code>.\nYou can convert an <code>int[]</code> to an <code>IntStream</code>.\nThen, in order to convert a stream of <code>int</code>s to a <code>List&lt;Integer&gt;</code>,\nyou first need to box them.\nOnce boxed to <code>Integer</code>s, you can collect them to a list.\nAnd finally collect the stream of <code>List&lt;Integer&gt;</code> into a list.</p>\n\n<pre><code>List&lt;List&lt;Integer&gt;&gt; list = Arrays.stream(data)\n    .map(row -&gt; IntStream.of(row).boxed().collect(Collectors.toList()))\n    .collect(Collectors.toList());\n</code></pre>\n\n<p><a href=\"http://ideone.com/eUjyTu\" rel=\"noreferrer\">Demo.</a></p>\n"},{"tags":[],"owner":{"account_id":4120139,"reputation":1,"user_id":3380739,"display_name":"user_3380739"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673223111,"creation_date":1496633786,"answer_id":44361322,"question_id":44357940,"body_markdown":"Try [StreamEx][1]\r\n\r\n    StreamEx.of(data).map(a -&gt; IntStreamEx.of(a).boxed().toList()).toList();\r\n\r\nOr [abacus-common][2], simple and most efficient:\r\n\r\n    Stream.of(data).map(a -&gt; IntList.of(a).boxed()).toList();\r\n\r\n    // Or:\r\n    Seq.of(data).map(a -&gt; IntList.of(a).boxed());\r\n    \r\nAll of them are null safety. An empty list is returned if `data` is null\r\n\r\n\r\n\r\n\r\n  [1]: https://github.com/amaembo/streamex\r\n  [2]: https://github.com/landawn/abacus-common","title":"How can I convert a 2D array to a 2D list with Streams?","body":"<p>Try <a href=\"https://github.com/amaembo/streamex\" rel=\"nofollow noreferrer\">StreamEx</a></p>\n<pre><code>StreamEx.of(data).map(a -&gt; IntStreamEx.of(a).boxed().toList()).toList();\n</code></pre>\n<p>Or <a href=\"https://github.com/landawn/abacus-common\" rel=\"nofollow noreferrer\">abacus-common</a>, simple and most efficient:</p>\n<pre><code>Stream.of(data).map(a -&gt; IntList.of(a).boxed()).toList();\n\n// Or:\nSeq.of(data).map(a -&gt; IntList.of(a).boxed());\n</code></pre>\n<p>All of them are null safety. An empty list is returned if <code>data</code> is null</p>\n"}],"owner":{"account_id":7505011,"reputation":1201,"user_id":7021836,"accept_rate":89,"display_name":"ack"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1272,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":44357981,"answer_count":2,"score":5,"last_activity_date":1673223111,"creation_date":1496604208,"question_id":44357940,"body_markdown":"I&#39;ve tried [this][1] StackOverflow answer&#39;s code, but I get the error `Cannot infer type argument(s) for &lt;R&gt; map(Function&lt;? super T,? extends R&gt;)`:\r\n\r\n    //data is int[][]\r\n    Arrays.stream(data)\r\n        .map(i -&gt; Arrays.stream(i)\r\n    \t    .collect(Collectors.toList()))\r\n    \t        .collect(Collectors.toList());\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/36999907/java-2d-array-into-2d-arraylist-with-stream","title":"How can I convert a 2D array to a 2D list with Streams?","body":"<p>I've tried <a href=\"https://stackoverflow.com/questions/36999907/java-2d-array-into-2d-arraylist-with-stream\">this</a> StackOverflow answer's code, but I get the error <code>Cannot infer type argument(s) for &lt;R&gt; map(Function&lt;? super T,? extends R&gt;)</code>:</p>\n\n<pre><code>//data is int[][]\nArrays.stream(data)\n    .map(i -&gt; Arrays.stream(i)\n        .collect(Collectors.toList()))\n            .collect(Collectors.toList());\n</code></pre>\n"},{"tags":["java","functional-programming","java-stream"],"comments":[{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":1,"creation_date":1554591590,"post_id":55554029,"comment_id":97809496,"body_markdown":"single statement - no, custom collector - yes, but the it would much be like whatever you would write with a loop anyway; in parallel you would have to merge `Map`s it seems and this is expensive","body":"single statement - no, custom collector - yes, but the it would much be like whatever you would write with a loop anyway; in parallel you would have to merge <code>Map</code>s it seems and this is expensive"}],"answers":[{"comments":[{"owner":{"account_id":16366,"reputation":77097,"user_id":35501,"accept_rate":83,"display_name":"JRL"},"score":0,"creation_date":1554949197,"post_id":55598892,"comment_id":97940249,"body_markdown":"The StreamEx::collapse looks very interesting, thanks! For the second part of the question, what I was looking for is for the total size of List&lt;FileObject&gt; to be less than MAX_SIZE_THRESHOLD, not each individual FileObject. In other words, incorporating the first part of the question.","body":"The StreamEx::collapse looks very interesting, thanks! For the second part of the question, what I was looking for is for the total size of List&lt;FileObject&gt; to be less than MAX_SIZE_THRESHOLD, not each individual FileObject. In other words, incorporating the first part of the question."}],"tags":[],"owner":{"account_id":4120139,"reputation":1,"user_id":3380739,"display_name":"user_3380739"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673222990,"creation_date":1554833701,"answer_id":55598892,"question_id":55554029,"body_markdown":"You can try `StreamEx.collapse(...)` in [StreamEx][1]. Here are the sample codes:\r\n\r\n    final long MAX_SIZE_THRESHOLD = 12; // only for test purpose.\r\n\r\n    // create the sample file objects with random size for test.\r\n    Collection&lt;FileObject&gt; files =\r\n        new Random().longs(0, 1000).limit(50).mapToObj(n -&gt; new FileObject(n % 15, n))\r\n        .collect(Collectors.toList());\r\n\r\n    // here is the final solution you can try\r\n    final MutableLong remaining = MutableLong.of(MAX_SIZE_THRESHOLD);\r\n\r\n    List&lt;List&lt;FileObject&gt;&gt; result = StreamEx.of(files).collapse((a, b) -&gt; {\r\n      if (b.sizeInBytes &lt;= remaining.value() - a.sizeInBytes) {\r\n        remaining.subtract(a.sizeInBytes);\r\n        return true;\r\n      } else {\r\n        remaining.setValue(MAX_SIZE_THRESHOLD);\r\n        return false;\r\n      }\r\n    }, Collectors.toList()).toList();\r\n\r\n    result.forEach(System.out::println);\r\n\r\n\r\nAnd here is the solution by nested `groupingBy` for part 2 of your question:\r\n\r\n    // import static java.util.stream.Collectors.*\r\n    Map&lt;Integer, Map&lt;Integer, Map&lt;Integer, List&lt;FileObject&gt;&gt;&gt;&gt; result2 = files.stream()\r\n        .filter(f -&gt; f.sizeInBytes &lt; MAX_SIZE_THRESHOLD)\r\n        .collect(groupingBy(f -&gt; f.getYear(), \r\n                            groupingBy(f -&gt; f.getMonth(), \r\n                                            groupingBy(f -&gt; f.getDay(), toList()))));\r\n\r\n    result2.entrySet().forEach(System.out::println);\r\n\r\nFinally here is the `FileObject` I used for test:\r\n\r\n    static class FileObject {\r\n      public long sizeInBytes;\r\n      public long modifiedDate;\r\n  \r\n      public FileObject(long sizeInBytes, long modifiedDate) {\r\n        this.sizeInBytes = sizeInBytes;\r\n        this.modifiedDate = modifiedDate;\r\n      }\r\n  \r\n      public int getYear() {\r\n        return (int) modifiedDate / 100; // only for test purpose\r\n      }\r\n  \r\n      public int getMonth() {\r\n        return (int) (modifiedDate % 100) / 10; // only for test purpose\r\n      }\r\n  \r\n      public int getDay() {\r\n        return (int) modifiedDate % 10; // only for test purpose\r\n      }\r\n  \r\n      @Override\r\n      public String toString() {\r\n        return sizeInBytes + &quot;-&quot; + modifiedDate;\r\n      }\r\n    }\r\n\r\n**Updated based on the comments:**\r\n\r\nYou will need `Collectors.collectAndThen`.\r\n\r\n    Function&lt;List&lt;FileObject&gt;, List&lt;List&lt;FileObject&gt;&gt;&gt; finisher = fileObjs -&gt; {\r\n      MutableLong remaining2 = MutableLong.of(MAX_SIZE_THRESHOLD);\r\n      return StreamEx.of(fileObjs).collapse((a, b) -&gt; {\r\n        if (b.sizeInBytes &lt;= remaining2.value() - a.sizeInBytes) {\r\n          remaining2.subtract(a.sizeInBytes);\r\n          return true;\r\n        } else {\r\n          remaining2.setValue(MAX_SIZE_THRESHOLD);\r\n          return false;\r\n        }\r\n      }, toList()).toList();\r\n    };\r\n\r\n    Map&lt;Integer, Map&lt;Integer, Map&lt;Integer, List&lt;List&lt;FileObject&gt;&gt;&gt;&gt;&gt; result4 = files.stream()\r\n        .collect(groupingBy(f -&gt; f.getYear(),\r\n            groupingBy(f -&gt; f.getMonth(), \r\n                groupingBy(f -&gt; f.getDay(), collectingAndThen(toList(), finisher)))));\r\n\r\nAnd the result type should be `Map&lt;Integer, Map&lt;Integer, Map&lt;Integer, List&lt;List&lt;FileObject&gt;&gt;&gt;&gt;&gt;`, not `Map&lt;Integer, Map&lt;Integer, Map&lt;Integer, List&lt;FileObject&gt;&gt;&gt;&gt;`.\r\n\r\nBy the way, if you don&#39;t want to write `finisher` Function(I don&#39;t :-)), try my library: [abacus-common][2]:\r\n\r\n    Function&lt;List&lt;FileObject&gt;, List&lt;List&lt;FileObject&gt;&gt;&gt; finisher2 = fileObjs -&gt; Seq.of(fileObjs)\r\n        .split(MutableLong.of(0), (f, sizeSum) -&gt; sizeSum.addAndGet(f.sizeInBytes) &lt;= MAX_SIZE_THRESHOLD,\r\n            sizeSum -&gt; sizeSum.setValue(0));\r\n\r\n    // import static com.landawn.abacus.util.stream.Collectors.MoreCollectors.*;\r\n    StreamEx.of(files)\r\n        .toMap(f -&gt; f.getYear(),\r\n            groupingBy(f -&gt; f.getMonth(),\r\n                groupingBy(f -&gt; f.getDay(), collectingAndThen(toList(), finisher2))));\r\n\r\n\r\n  [1]: https://github.com/amaembo/streamex\r\n  [2]: https://github.com/landawn/abacus-common","title":"How to partition a collection based on summing of item properties, up to a given limit?","body":"<p>You can try <code>StreamEx.collapse(...)</code> in <a href=\"https://github.com/amaembo/streamex\" rel=\"nofollow noreferrer\">StreamEx</a>. Here are the sample codes:</p>\n<pre><code>final long MAX_SIZE_THRESHOLD = 12; // only for test purpose.\n\n// create the sample file objects with random size for test.\nCollection&lt;FileObject&gt; files =\n    new Random().longs(0, 1000).limit(50).mapToObj(n -&gt; new FileObject(n % 15, n))\n    .collect(Collectors.toList());\n\n// here is the final solution you can try\nfinal MutableLong remaining = MutableLong.of(MAX_SIZE_THRESHOLD);\n\nList&lt;List&lt;FileObject&gt;&gt; result = StreamEx.of(files).collapse((a, b) -&gt; {\n  if (b.sizeInBytes &lt;= remaining.value() - a.sizeInBytes) {\n    remaining.subtract(a.sizeInBytes);\n    return true;\n  } else {\n    remaining.setValue(MAX_SIZE_THRESHOLD);\n    return false;\n  }\n}, Collectors.toList()).toList();\n\nresult.forEach(System.out::println);\n</code></pre>\n<p>And here is the solution by nested <code>groupingBy</code> for part 2 of your question:</p>\n<pre><code>// import static java.util.stream.Collectors.*\nMap&lt;Integer, Map&lt;Integer, Map&lt;Integer, List&lt;FileObject&gt;&gt;&gt;&gt; result2 = files.stream()\n    .filter(f -&gt; f.sizeInBytes &lt; MAX_SIZE_THRESHOLD)\n    .collect(groupingBy(f -&gt; f.getYear(), \n                        groupingBy(f -&gt; f.getMonth(), \n                                        groupingBy(f -&gt; f.getDay(), toList()))));\n\nresult2.entrySet().forEach(System.out::println);\n</code></pre>\n<p>Finally here is the <code>FileObject</code> I used for test:</p>\n<pre><code>static class FileObject {\n  public long sizeInBytes;\n  public long modifiedDate;\n\n  public FileObject(long sizeInBytes, long modifiedDate) {\n    this.sizeInBytes = sizeInBytes;\n    this.modifiedDate = modifiedDate;\n  }\n\n  public int getYear() {\n    return (int) modifiedDate / 100; // only for test purpose\n  }\n\n  public int getMonth() {\n    return (int) (modifiedDate % 100) / 10; // only for test purpose\n  }\n\n  public int getDay() {\n    return (int) modifiedDate % 10; // only for test purpose\n  }\n\n  @Override\n  public String toString() {\n    return sizeInBytes + &quot;-&quot; + modifiedDate;\n  }\n}\n</code></pre>\n<p><strong>Updated based on the comments:</strong></p>\n<p>You will need <code>Collectors.collectAndThen</code>.</p>\n<pre><code>Function&lt;List&lt;FileObject&gt;, List&lt;List&lt;FileObject&gt;&gt;&gt; finisher = fileObjs -&gt; {\n  MutableLong remaining2 = MutableLong.of(MAX_SIZE_THRESHOLD);\n  return StreamEx.of(fileObjs).collapse((a, b) -&gt; {\n    if (b.sizeInBytes &lt;= remaining2.value() - a.sizeInBytes) {\n      remaining2.subtract(a.sizeInBytes);\n      return true;\n    } else {\n      remaining2.setValue(MAX_SIZE_THRESHOLD);\n      return false;\n    }\n  }, toList()).toList();\n};\n\nMap&lt;Integer, Map&lt;Integer, Map&lt;Integer, List&lt;List&lt;FileObject&gt;&gt;&gt;&gt;&gt; result4 = files.stream()\n    .collect(groupingBy(f -&gt; f.getYear(),\n        groupingBy(f -&gt; f.getMonth(), \n            groupingBy(f -&gt; f.getDay(), collectingAndThen(toList(), finisher)))));\n</code></pre>\n<p>And the result type should be <code>Map&lt;Integer, Map&lt;Integer, Map&lt;Integer, List&lt;List&lt;FileObject&gt;&gt;&gt;&gt;&gt;</code>, not <code>Map&lt;Integer, Map&lt;Integer, Map&lt;Integer, List&lt;FileObject&gt;&gt;&gt;&gt;</code>.</p>\n<p>By the way, if you don't want to write <code>finisher</code> Function(I don't :-)), try my library: <a href=\"https://github.com/landawn/abacus-common\" rel=\"nofollow noreferrer\">abacus-common</a>:</p>\n<pre><code>Function&lt;List&lt;FileObject&gt;, List&lt;List&lt;FileObject&gt;&gt;&gt; finisher2 = fileObjs -&gt; Seq.of(fileObjs)\n    .split(MutableLong.of(0), (f, sizeSum) -&gt; sizeSum.addAndGet(f.sizeInBytes) &lt;= MAX_SIZE_THRESHOLD,\n        sizeSum -&gt; sizeSum.setValue(0));\n\n// import static com.landawn.abacus.util.stream.Collectors.MoreCollectors.*;\nStreamEx.of(files)\n    .toMap(f -&gt; f.getYear(),\n        groupingBy(f -&gt; f.getMonth(),\n            groupingBy(f -&gt; f.getDay(), collectingAndThen(toList(), finisher2))));\n</code></pre>\n"}],"owner":{"account_id":16366,"reputation":77097,"user_id":35501,"accept_rate":83,"display_name":"JRL"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":55598892,"answer_count":1,"score":3,"last_activity_date":1673222990,"creation_date":1554589931,"question_id":55554029,"body_markdown":"How can I chunk a collection into N chunks, based on summing one of the fields of each item in the collection, up to a given max value?\r\n\r\nE.g. given the following:\r\n\r\n    class FileObject { public long sizeInBytes; }\r\n    Collection&lt;FileObject&gt; files;\r\n    long MAX_SIZE_THRESHOLD = 1024 * 1024 * 100; // 100 MB\r\n\r\nI&#39;d like to transform items into a `Collection&lt;Collection&lt;FileObject&gt;&gt;`, with the smallest number of inner collections, and satisfying the predicate that for each collection, the sum of the `sizeInBytes` of each element is less than `MAX_SIZE_THRESHOLD`.\r\n\r\nTaking this further, in addition to the above requirement, if `FileObject` is extended to contain a timestamp, I&#39;d also like to partition the result by year, month, and day.\r\n\r\nE.g.\r\n\r\n    class FileObject { public long sizeInBytes; public long modifiedDate; }\r\n\r\nI&#39;d like the end result to look like:\r\n\r\n    Map&lt;Integer, Map&lt;Integer, Map&lt;Integer, Collection&lt;FileObject&gt;&gt;&gt;&gt;\r\n\r\nwhere the keys in the maps are: year, month, and day (corresponding to the `FileObject`&#39;s `modifiedDate`), and the Collection&lt;FileObject&gt; contains all files within that year, month, day, and where the sum of the sizeInBytes of each file is less than `MAX_SIZE_THRESHOLD`.\r\n\r\nCan both operations be done while avoiding loops and using functional constructs available using the Stream API or other? Can both be done in a single statement?\r\n\r\n","title":"How to partition a collection based on summing of item properties, up to a given limit?","body":"<p>How can I chunk a collection into N chunks, based on summing one of the fields of each item in the collection, up to a given max value?</p>\n\n<p>E.g. given the following:</p>\n\n<pre><code>class FileObject { public long sizeInBytes; }\nCollection&lt;FileObject&gt; files;\nlong MAX_SIZE_THRESHOLD = 1024 * 1024 * 100; // 100 MB\n</code></pre>\n\n<p>I'd like to transform items into a <code>Collection&lt;Collection&lt;FileObject&gt;&gt;</code>, with the smallest number of inner collections, and satisfying the predicate that for each collection, the sum of the <code>sizeInBytes</code> of each element is less than <code>MAX_SIZE_THRESHOLD</code>.</p>\n\n<p>Taking this further, in addition to the above requirement, if <code>FileObject</code> is extended to contain a timestamp, I'd also like to partition the result by year, month, and day.</p>\n\n<p>E.g.</p>\n\n<pre><code>class FileObject { public long sizeInBytes; public long modifiedDate; }\n</code></pre>\n\n<p>I'd like the end result to look like:</p>\n\n<pre><code>Map&lt;Integer, Map&lt;Integer, Map&lt;Integer, Collection&lt;FileObject&gt;&gt;&gt;&gt;\n</code></pre>\n\n<p>where the keys in the maps are: year, month, and day (corresponding to the <code>FileObject</code>'s <code>modifiedDate</code>), and the Collection contains all files within that year, month, day, and where the sum of the sizeInBytes of each file is less than <code>MAX_SIZE_THRESHOLD</code>.</p>\n\n<p>Can both operations be done while avoiding loops and using functional constructs available using the Stream API or other? Can both be done in a single statement?</p>\n"},{"tags":["java","lambda","java-stream"],"answers":[{"tags":[],"owner":{"account_id":13389989,"reputation":10689,"user_id":9662601,"display_name":"Samuel Philipp"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1554618682,"creation_date":1554589749,"answer_id":55554007,"question_id":55553717,"body_markdown":"I assume you want to get the most frequent numbers in your stream. Therefore you can use a [`TreeMap`](https://docs.oracle.com/javase/10/docs/api/java/util/TreeMap.html) collecting all the results and getting the list of the last entry:\r\n\r\n    Map&lt;Integer, Long&gt; collect = Stream.of(1, 2, 3, 4, 4, 55555, 12)\r\n            .collect(Collectors.groupingBy(Function.identity(), Collectors.counting()))\r\n            .entrySet().stream()\r\n            .collect(Collectors.groupingBy(Map.Entry::getValue, TreeMap::new, Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue)))\r\n            .lastEntry().getValue();\r\n\r\nThis returns a list of entries containing the number and the frequency. In your case it prints:\r\n\r\n    {4=2}\r\n\r\nIn case you just want to get the number of occurrences of the biggest number you can use this:\r\n\r\n    Map.Entry&lt;Integer, Long&gt; collect = Stream.of(1, 2, 3, 4, 4, 55555, 12)\r\n            .collect(Collectors.groupingBy(Function.identity(), Collectors.counting()))\r\n            .entrySet().stream()\r\n            .max(Map.Entry.comparingByKey())\r\n            .orElse(null);\r\n\r\nWhich prints:\r\n\r\n    55555=1\r\n\r\nIn the last case you only have one (the max value) return entry. You can also use a `TreeMap` the get the max value, should have a better performance.","title":"How do I find the largest number from a list and its occurrences using lambdas?","body":"<p>I assume you want to get the most frequent numbers in your stream. Therefore you can use a <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/TreeMap.html\" rel=\"nofollow noreferrer\"><code>TreeMap</code></a> collecting all the results and getting the list of the last entry:</p>\n\n<pre><code>Map&lt;Integer, Long&gt; collect = Stream.of(1, 2, 3, 4, 4, 55555, 12)\n        .collect(Collectors.groupingBy(Function.identity(), Collectors.counting()))\n        .entrySet().stream()\n        .collect(Collectors.groupingBy(Map.Entry::getValue, TreeMap::new, Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue)))\n        .lastEntry().getValue();\n</code></pre>\n\n<p>This returns a list of entries containing the number and the frequency. In your case it prints:</p>\n\n<pre><code>{4=2}\n</code></pre>\n\n<p>In case you just want to get the number of occurrences of the biggest number you can use this:</p>\n\n<pre><code>Map.Entry&lt;Integer, Long&gt; collect = Stream.of(1, 2, 3, 4, 4, 55555, 12)\n        .collect(Collectors.groupingBy(Function.identity(), Collectors.counting()))\n        .entrySet().stream()\n        .max(Map.Entry.comparingByKey())\n        .orElse(null);\n</code></pre>\n\n<p>Which prints:</p>\n\n<pre><code>55555=1\n</code></pre>\n\n<p>In the last case you only have one (the max value) return entry. You can also use a <code>TreeMap</code> the get the max value, should have a better performance.</p>\n"},{"comments":[{"owner":{"account_id":13389989,"reputation":10689,"user_id":9662601,"display_name":"Samuel Philipp"},"score":0,"creation_date":1554591254,"post_id":55554134,"comment_id":97809441,"body_markdown":"Isn&#39;t my solution a bit simpler?","body":"Isn&#39;t my solution a bit simpler?"},{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1554591293,"post_id":55554134,"comment_id":97809445,"body_markdown":"@SamuelPhilipp did you try it with the sample I have here?","body":"@SamuelPhilipp did you try it with the sample I have here?"},{"owner":{"account_id":13389989,"reputation":10689,"user_id":9662601,"display_name":"Samuel Philipp"},"score":0,"creation_date":1554592204,"post_id":55554134,"comment_id":97809606,"body_markdown":"My solution returns `[3=2, 4=2, 5=2]`. Is that not correct?","body":"My solution returns <code>[3=2, 4=2, 5=2]</code>. Is that not correct?"},{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1554594472,"post_id":55554134,"comment_id":97809996,"body_markdown":"@SamuelPhilipp it does, I miss-read your answer, but do not forget that `OP` was a `Map` as a result","body":"@SamuelPhilipp it does, I miss-read your answer, but do not forget that <code>OP</code> was a <code>Map</code> as a result"}],"tags":[],"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1554591744,"creation_date":1554590950,"answer_id":55554134,"question_id":55553717,"body_markdown":"I hope someone can come up with a simpler solution:\r\n\r\n\r\n     List&lt;Entry&lt;Integer, Long&gt;&gt; list =\r\n            List.of(3, 3, 4, 4, 5, 5, 1)\r\n                .stream()\r\n                .collect(Collectors.groupingBy(Function.identity(), Collectors.counting()))\r\n                .entrySet()\r\n                .stream()\r\n                .sorted(Map.Entry.&lt;Integer, Long&gt;comparingByValue().reversed())\r\n                .collect(Collectors.toList());\r\n\r\n        Map&lt;Integer, Long&gt; result = new HashMap&lt;&gt;();\r\n        Iterator&lt;Entry&lt;Integer, Long&gt;&gt; iter = list.iterator();\r\n        Entry&lt;Integer, Long&gt; left;\r\n        Entry&lt;Integer, Long&gt; right = null;\r\n        while (iter.hasNext()) {\r\n            left = iter.next();\r\n            if (right == null) {\r\n                result.put(left.getKey(), left.getValue());\r\n            }\r\n            if (iter.hasNext() &amp;&amp; (right = iter.next()).getValue().longValue() == left.getValue()) {\r\n                result.put(right.getKey(), right.getValue());\r\n            } else {\r\n                 break;\r\n            }\r\n        }\r\n\r\nSo first collect them to the same map that you already have. Then sort them by the value; then iterate that result and get _only_ those that are at the very beginning and match their values.\r\n\r\nThe idea is that since these are already sorted by value: `3 = 2; 4 = 2; 5 = 2; 1 = 1` - we only need to iterate as long as that `2` is repeated, as soon as there is no such match, we are done (because they are sorted and thus any element that follows and `!= 2` is only going to be smaller). \r\n","title":"How do I find the largest number from a list and its occurrences using lambdas?","body":"<p>I hope someone can come up with a simpler solution:</p>\n\n<pre><code> List&lt;Entry&lt;Integer, Long&gt;&gt; list =\n        List.of(3, 3, 4, 4, 5, 5, 1)\n            .stream()\n            .collect(Collectors.groupingBy(Function.identity(), Collectors.counting()))\n            .entrySet()\n            .stream()\n            .sorted(Map.Entry.&lt;Integer, Long&gt;comparingByValue().reversed())\n            .collect(Collectors.toList());\n\n    Map&lt;Integer, Long&gt; result = new HashMap&lt;&gt;();\n    Iterator&lt;Entry&lt;Integer, Long&gt;&gt; iter = list.iterator();\n    Entry&lt;Integer, Long&gt; left;\n    Entry&lt;Integer, Long&gt; right = null;\n    while (iter.hasNext()) {\n        left = iter.next();\n        if (right == null) {\n            result.put(left.getKey(), left.getValue());\n        }\n        if (iter.hasNext() &amp;&amp; (right = iter.next()).getValue().longValue() == left.getValue()) {\n            result.put(right.getKey(), right.getValue());\n        } else {\n             break;\n        }\n    }\n</code></pre>\n\n<p>So first collect them to the same map that you already have. Then sort them by the value; then iterate that result and get <em>only</em> those that are at the very beginning and match their values.</p>\n\n<p>The idea is that since these are already sorted by value: <code>3 = 2; 4 = 2; 5 = 2; 1 = 1</code> - we only need to iterate as long as that <code>2</code> is repeated, as soon as there is no such match, we are done (because they are sorted and thus any element that follows and <code>!= 2</code> is only going to be smaller). </p>\n"},{"tags":[],"owner":{"account_id":3943859,"reputation":1239,"user_id":10674888,"display_name":"MS90"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1554598823,"creation_date":1554598518,"answer_id":55554749,"question_id":55553717,"body_markdown":"Take a look at this simple example:\r\n\r\n    public static void getMeNumbersWithHighestFrequence3(int[] numbers, int howMany) {\r\n    \r\n        Map&lt;Integer, Long&gt; collect = IntStream.of(numbers).boxed().collect(groupingBy(Function.identity(), TreeMap::new, counting())).descendingMap().entrySet().stream()\r\n                .limit(howMany)\r\n                .collect(TreeMap::new, (map, entry) -&gt; map.put(entry.getKey(), entry.getValue()), Map::putAll);\r\n    \r\n    }\r\n\r\nYou could also somehow search for them by putting a filter value and it will take all entries with key values greater than that value, something like:\r\n\r\n      public static void getMeNumbersWithHighestFrequenceByFilterNumber(int[] numbers, int value) {\r\n    \r\n            Map&lt;Integer, Long&gt; collect = IntStream.of(numbers).boxed().collect(groupingBy(Function.identity(), TreeMap::new, counting())).descendingMap().headMap(value, true);\r\n    \r\n        }\r\n\r\n\r\n----------\r\n\r\n\r\n&gt; Simple usage:\r\n\r\n\r\n----------\r\n\r\n    public static void main(String[] args) {\r\n            int[] numbers = {1, 2, 3, 4, 4, 55555, 12};\r\n            getMeNumbersWithHighestFrequence(numbers, 5);\r\n        }","title":"How do I find the largest number from a list and its occurrences using lambdas?","body":"<p>Take a look at this simple example:</p>\n\n<pre><code>public static void getMeNumbersWithHighestFrequence3(int[] numbers, int howMany) {\n\n    Map&lt;Integer, Long&gt; collect = IntStream.of(numbers).boxed().collect(groupingBy(Function.identity(), TreeMap::new, counting())).descendingMap().entrySet().stream()\n            .limit(howMany)\n            .collect(TreeMap::new, (map, entry) -&gt; map.put(entry.getKey(), entry.getValue()), Map::putAll);\n\n}\n</code></pre>\n\n<p>You could also somehow search for them by putting a filter value and it will take all entries with key values greater than that value, something like:</p>\n\n<pre><code>  public static void getMeNumbersWithHighestFrequenceByFilterNumber(int[] numbers, int value) {\n\n        Map&lt;Integer, Long&gt; collect = IntStream.of(numbers).boxed().collect(groupingBy(Function.identity(), TreeMap::new, counting())).descendingMap().headMap(value, true);\n\n    }\n</code></pre>\n\n<hr>\n\n<blockquote>\n  <p>Simple usage:</p>\n</blockquote>\n\n<hr>\n\n<pre><code>public static void main(String[] args) {\n        int[] numbers = {1, 2, 3, 4, 4, 55555, 12};\n        getMeNumbersWithHighestFrequence(numbers, 5);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4120139,"reputation":1,"user_id":3380739,"display_name":"user_3380739"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673222960,"creation_date":1554760125,"answer_id":55582244,"question_id":55553717,"body_markdown":"I would suggest you to use `MoreCollectors` defined in [StreamEx][1] or my library [abacus-common][2]:\r\n\r\n    int result = Stream.of(1, 2, 12, 3, 4, 4, 55555, 12)\r\n        .collect(MoreCollectors.maxAll(MoreCollectors.countingInt()));\r\n    \r\n    // map result\r\n    Map&lt;Integer, Integer&gt; mapResult = Stream.of(1, 2, 12, 3, 4, 4, 55555, 12)\r\n        .collect(maxAll(groupingBy(Function.identity(), countingInt())));\r\n\r\nBecause you may want to: 1) sum of all the largest numbers, or 2) map them to something else, or 3)...More.\r\nDon&#39;t need and should not write this kind of specific codes only for one specific user case. (if you want to know how to implement it, just download the source code of the libraries or decompile the class. They&#39;re published at Apache License v2)\r\n\r\n**Update**. Actually I think probably it&#39;s wrong question to ask if you&#39;re talking about numbers because the traditional `for-loop` is much more simple and efficient than using lambdas:\r\n\r\n\r\n    int[] nums = {1, 2, 12, 3, 4, 4, 55555, 12, 55555};\r\n    int[] result = {Integer.MIN_VALUE, 0}; // [0] is the largest number if [1] (occurrence) is bigger than 0.\r\n\r\n    for (int num : nums) {\r\n      if (num &gt; result[0]) {\r\n        result[0] = num;\r\n        result[1] = 1;\r\n      } else if (num == result[0]) {\r\n        result[1]++;\r\n      }\r\n    }\r\n\r\n    System.out.println(result[0] + &quot;: &quot; + result[1]);\r\n\r\nif you have to go with Stream/Lambdas:\r\n\r\n    int[] result = IntStream.of(nums).collect(() -&gt; new int[] {Integer.MIN_VALUE, 0}, (a, num) -&gt; {\r\n      if (num &gt; a[0]) {\r\n        a[0] = num;\r\n        a[1] = 1;\r\n      } else if (num == a[0]) {\r\n        a[1]++;\r\n      }\r\n    }, (a1, a2) -&gt; {\r\n      if (a1[0] == a2[0]) {\r\n        a1[1] += a2[1];\r\n      } else if (a1[0] &lt; a2[0]) {\r\n        a1[1] = a2[1];\r\n      }\r\n    });\r\n\r\n    System.out.println(result[0] + &quot;: &quot; + result[1]);\r\n\r\n\r\n  [1]: https://github.com/amaembo/streamex\r\n  [2]: https://github.com/landawn/abacus-common","title":"How do I find the largest number from a list and its occurrences using lambdas?","body":"<p>I would suggest you to use <code>MoreCollectors</code> defined in <a href=\"https://github.com/amaembo/streamex\" rel=\"nofollow noreferrer\">StreamEx</a> or my library <a href=\"https://github.com/landawn/abacus-common\" rel=\"nofollow noreferrer\">abacus-common</a>:</p>\n<pre><code>int result = Stream.of(1, 2, 12, 3, 4, 4, 55555, 12)\n    .collect(MoreCollectors.maxAll(MoreCollectors.countingInt()));\n\n// map result\nMap&lt;Integer, Integer&gt; mapResult = Stream.of(1, 2, 12, 3, 4, 4, 55555, 12)\n    .collect(maxAll(groupingBy(Function.identity(), countingInt())));\n</code></pre>\n<p>Because you may want to: 1) sum of all the largest numbers, or 2) map them to something else, or 3)...More.\nDon't need and should not write this kind of specific codes only for one specific user case. (if you want to know how to implement it, just download the source code of the libraries or decompile the class. They're published at Apache License v2)</p>\n<p><strong>Update</strong>. Actually I think probably it's wrong question to ask if you're talking about numbers because the traditional <code>for-loop</code> is much more simple and efficient than using lambdas:</p>\n<pre><code>int[] nums = {1, 2, 12, 3, 4, 4, 55555, 12, 55555};\nint[] result = {Integer.MIN_VALUE, 0}; // [0] is the largest number if [1] (occurrence) is bigger than 0.\n\nfor (int num : nums) {\n  if (num &gt; result[0]) {\n    result[0] = num;\n    result[1] = 1;\n  } else if (num == result[0]) {\n    result[1]++;\n  }\n}\n\nSystem.out.println(result[0] + &quot;: &quot; + result[1]);\n</code></pre>\n<p>if you have to go with Stream/Lambdas:</p>\n<pre><code>int[] result = IntStream.of(nums).collect(() -&gt; new int[] {Integer.MIN_VALUE, 0}, (a, num) -&gt; {\n  if (num &gt; a[0]) {\n    a[0] = num;\n    a[1] = 1;\n  } else if (num == a[0]) {\n    a[1]++;\n  }\n}, (a1, a2) -&gt; {\n  if (a1[0] == a2[0]) {\n    a1[1] += a2[1];\n  } else if (a1[0] &lt; a2[0]) {\n    a1[1] = a2[1];\n  }\n});\n\nSystem.out.println(result[0] + &quot;: &quot; + result[1]);\n</code></pre>\n"}],"owner":{"account_id":3142733,"reputation":616,"user_id":2657875,"accept_rate":77,"display_name":"menteith"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":247,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":55554749,"answer_count":4,"score":2,"last_activity_date":1673222960,"creation_date":1554586788,"question_id":55553717,"body_markdown":"Please find below a code that counts the number of occurrences of numbers in  a stream and returns a map with the number as the key and the value as its occurrences across the stream:\r\n\r\n    Map&lt;Integer, Long&gt; collect = Stream.of(1, 2, 3, 4, 4, 55555, 12)\r\n                    .collect(groupingBy(Function.identity(), counting()));\r\n\r\nHow do I limit the resulting map to only the biggest number (or numbers in case of a tie)?","title":"How do I find the largest number from a list and its occurrences using lambdas?","body":"<p>Please find below a code that counts the number of occurrences of numbers in  a stream and returns a map with the number as the key and the value as its occurrences across the stream:</p>\n\n<pre><code>Map&lt;Integer, Long&gt; collect = Stream.of(1, 2, 3, 4, 4, 55555, 12)\n                .collect(groupingBy(Function.identity(), counting()));\n</code></pre>\n\n<p>How do I limit the resulting map to only the biggest number (or numbers in case of a tie)?</p>\n"},{"tags":["java","java-8","java-stream"],"answers":[{"tags":[],"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1553618323,"creation_date":1553618323,"answer_id":55362159,"question_id":55361841,"body_markdown":"You can do it like this:\r\n\r\n\tMap&lt;String, Set&lt;Person&gt;&gt; personByName = persons.stream()\r\n\t       .flatMap(p -&gt; Stream.of(new SimpleEntry&lt;&gt;(p.getFirstName(), p),\r\n\t                               new SimpleEntry&lt;&gt;(p.getLastName(), p)))\r\n\t       .collect(Collectors.groupingBy(SimpleEntry::getKey,\r\n\t                   Collectors.mapping(SimpleEntry::getValue, Collectors.toSet())));\r\n\r\nAssuming you add a `toString()` method to the `Person` class, you can then see result using:\r\n\r\n\tList&lt;Person&gt; persons = Arrays.asList(\r\n\t\t\tnew Person(&quot;Bill&quot;, &quot;Gates&quot;),\r\n\t\t\tnew Person(&quot;Bill&quot;, &quot;Steve&quot;),\r\n\t\t\tnew Person(&quot;Steve&quot;, &quot;Jobs&quot;),\r\n\t\t\tnew Person(&quot;Steve&quot;, &quot;Wozniac&quot;));\r\n\t\r\n\t// code above here\r\n\t\r\n\tpersonByName.entrySet().forEach(System.out::println);\r\n\r\n*Output*\r\n\r\n&lt;!-- language: none --&gt;\r\n\r\n\tSteve=[Steve Wozniac, Bill Steve, Steve Jobs]\r\n\tJobs=[Steve Jobs]\r\n\tBill=[Bill Steve, Bill Gates]\r\n\tWozniac=[Steve Wozniac]\r\n\tGates=[Bill Gates]\r\n","title":"Use java stream to group by 2 keys on the same type","body":"<p>You can do it like this:</p>\n\n<pre><code>Map&lt;String, Set&lt;Person&gt;&gt; personByName = persons.stream()\n       .flatMap(p -&gt; Stream.of(new SimpleEntry&lt;&gt;(p.getFirstName(), p),\n                               new SimpleEntry&lt;&gt;(p.getLastName(), p)))\n       .collect(Collectors.groupingBy(SimpleEntry::getKey,\n                   Collectors.mapping(SimpleEntry::getValue, Collectors.toSet())));\n</code></pre>\n\n<p>Assuming you add a <code>toString()</code> method to the <code>Person</code> class, you can then see result using:</p>\n\n<pre><code>List&lt;Person&gt; persons = Arrays.asList(\n        new Person(\"Bill\", \"Gates\"),\n        new Person(\"Bill\", \"Steve\"),\n        new Person(\"Steve\", \"Jobs\"),\n        new Person(\"Steve\", \"Wozniac\"));\n\n// code above here\n\npersonByName.entrySet().forEach(System.out::println);\n</code></pre>\n\n<p><em>Output</em></p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Steve=[Steve Wozniac, Bill Steve, Steve Jobs]\nJobs=[Steve Jobs]\nBill=[Bill Steve, Bill Gates]\nWozniac=[Steve Wozniac]\nGates=[Bill Gates]\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2497295,"reputation":3931,"user_id":2173392,"display_name":"pdem"},"score":1,"creation_date":1553678978,"post_id":55362164,"comment_id":97469797,"body_markdown":"Good and simple answer, I add to edit it a little bit to make it compile, hope you don&#39;t mind.","body":"Good and simple answer, I add to edit it a little bit to make it compile, hope you don&#39;t mind."},{"owner":{"account_id":6528825,"reputation":21455,"user_id":5050667,"accept_rate":91,"display_name":"Yassin Hajaj"},"score":1,"creation_date":1553693650,"post_id":55362164,"comment_id":97479143,"body_markdown":"@pdem Glad it could help, it&#39;s true that it&#39;s more readable, but I think Andreas&#39; answer will allow better performance, but I&#39;m not sure if it&#39;s something you want/need and don&#39;t know if it&#39;s true","body":"@pdem Glad it could help, it&#39;s true that it&#39;s more readable, but I think Andreas&#39; answer will allow better performance, but I&#39;m not sure if it&#39;s something you want/need and don&#39;t know if it&#39;s true"},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":2,"creation_date":1553703151,"post_id":55362164,"comment_id":97485800,"body_markdown":"Be aware that [`Collectors.toSet()`](https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#toSet--) provides &quot;no guarantees on the mutability of the Set returned&quot;, so `s1.addAll(s2)` *may* throw `UnsupportedOperationException` (or similar) if the returned set is immutable. Even if it works now, it&#39;s a bomb waiting to go off in the future, if `toSet()` is changed. --- To fix, change first `toSet()` to `toCollection(HashSet::new)`, as suggested in the javadoc of `toSet()`.","body":"Be aware that <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#toSet--\" rel=\"nofollow noreferrer\"><code>Collectors.toSet()</code></a> provides &quot;no guarantees on the mutability of the Set returned&quot;, so <code>s1.addAll(s2)</code> <i>may</i> throw <code>UnsupportedOperationException</code> (or similar) if the returned set is immutable. Even if it works now, it&#39;s a bomb waiting to go off in the future, if <code>toSet()</code> is changed. --- To fix, change first <code>toSet()</code> to <code>toCollection(HashSet::new)</code>, as suggested in the javadoc of <code>toSet()</code>."},{"owner":{"account_id":6528825,"reputation":21455,"user_id":5050667,"accept_rate":91,"display_name":"Yassin Hajaj"},"score":0,"creation_date":1553717059,"post_id":55362164,"comment_id":97493045,"body_markdown":"@Andreas thanks I corrected it, it&#39;s always good to know! But I think this would be the problem with any use of toSet()","body":"@Andreas thanks I corrected it, it&#39;s always good to know! But I think this would be the problem with any use of toSet()"}],"tags":[],"owner":{"account_id":6528825,"reputation":21455,"user_id":5050667,"accept_rate":91,"display_name":"Yassin Hajaj"},"comment_count":4,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1553717021,"creation_date":1553618337,"answer_id":55362164,"question_id":55361841,"body_markdown":"You could merge the two `Map&lt;String, Set&lt;Person&gt;&gt;` for example\r\n\r\n    Map&lt;String, Set&lt;Person&gt;&gt; personByFirstName = \r\n                                persons.stream()\r\n                                       .collect(Collectors.groupingBy(\r\n                                                       Person::getFirstName, \r\n                                                       Collectors.toCollection(HashSet::new))\r\n                                               );\r\n\r\n    persons.stream()\r\n           .collect(Collectors.groupingBy(Person::getLastName, Collectors.toSet()))\r\n           .forEach((str, set) -&gt; personByFirstName.merge(str, set, (s1, s2) -&gt; { \r\n                s1.addAll(s2); \r\n                return s1;\r\n            }));\r\n\r\n    // personByFirstName contains now all personByName\r\n","title":"Use java stream to group by 2 keys on the same type","body":"<p>You could merge the two <code>Map&lt;String, Set&lt;Person&gt;&gt;</code> for example</p>\n\n<pre><code>Map&lt;String, Set&lt;Person&gt;&gt; personByFirstName = \n                            persons.stream()\n                                   .collect(Collectors.groupingBy(\n                                                   Person::getFirstName, \n                                                   Collectors.toCollection(HashSet::new))\n                                           );\n\npersons.stream()\n       .collect(Collectors.groupingBy(Person::getLastName, Collectors.toSet()))\n       .forEach((str, set) -&gt; personByFirstName.merge(str, set, (s1, s2) -&gt; { \n            s1.addAll(s2); \n            return s1;\n        }));\n\n// personByFirstName contains now all personByName\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2497295,"reputation":3931,"user_id":2173392,"display_name":"pdem"},"score":0,"creation_date":1553673700,"post_id":55362177,"comment_id":97466899,"body_markdown":"I will have thousands of gets on a static data, for only one Map construction. A Map access is O(1) and a filter access is O(n). I can accept that the index constuction is O(n.ln(n)) or O(n&#178;). a filter is not the solution for my case, I could have precised it in the question.","body":"I will have thousands of gets on a static data, for only one Map construction. A Map access is O(1) and a filter access is O(n). I can accept that the index constuction is O(n.ln(n)) or O(n&#178;). a filter is not the solution for my case, I could have precised it in the question."},{"owner":{"account_id":78518,"reputation":40077,"user_id":223424,"accept_rate":74,"display_name":"9000"},"score":0,"creation_date":1553693091,"post_id":55362177,"comment_id":97478789,"body_markdown":"Then just build maps and use them, it makes total sense! You don&#39;t need the stream mechanics which has a very different set of trade-offs.","body":"Then just build maps and use them, it makes total sense! You don&#39;t need the stream mechanics which has a very different set of trade-offs."}],"tags":[],"owner":{"account_id":78518,"reputation":40077,"user_id":223424,"accept_rate":74,"display_name":"9000"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1553618378,"creation_date":1553618378,"answer_id":55362177,"question_id":55361841,"body_markdown":"If you want a real stream-oriented solution, make sure you don&#39;t produce any large intermediate collections, else most of the sense of streams is lost.\r\n\r\nIf just you want to just filter all Steves, filter first, collect later:\r\n```java\r\npersons.stream\r\n  .filter(p -&gt; p.getFirstName().equals(&#39;Steve&#39;) || p.getLastName.equals(&#39;Steve&#39;))\r\n  .collect(toList());\r\n```\r\n\r\nIf you want to do complex things with a stream element, e.g. put an element into multiple collections, or in a map under several keys, just consume a stream using `forEach`, and write inside it whatever handling logic you want.","title":"Use java stream to group by 2 keys on the same type","body":"<p>If you want a real stream-oriented solution, make sure you don't produce any large intermediate collections, else most of the sense of streams is lost.</p>\n\n<p>If just you want to just filter all Steves, filter first, collect later:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>persons.stream\n  .filter(p -&gt; p.getFirstName().equals('Steve') || p.getLastName.equals('Steve'))\n  .collect(toList());\n</code></pre>\n\n<p>If you want to do complex things with a stream element, e.g. put an element into multiple collections, or in a map under several keys, just consume a stream using <code>forEach</code>, and write inside it whatever handling logic you want.</p>\n"},{"tags":[],"owner":{"account_id":1780071,"reputation":3303,"user_id":1623046,"accept_rate":64,"display_name":"Matt"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1553618599,"creation_date":1553618599,"answer_id":55362249,"question_id":55361841,"body_markdown":"You cannot key your maps by multiple values. For what you want to achieve, you have three options: \r\n\r\n1. Combine your &quot;personByFirstName&quot; and &quot;personByLastName&quot; maps, you will have duplicate values (eg. Bill Gates will be in the map under the key `Bill` and also in the map under the key `Gates`). @Andreas answer gives a good stream-based way to do this.\r\n\r\n2. Use an indexing library like lucene and index all your Person objects by first name and last name.\r\n\r\n3. The stream approach - it will not be performant on large data sets but you can stream your collection and use `filter` to get your matches:\r\n\r\n&gt;     persons\r\n&gt;         .stream()\r\n&gt;         .filter(p -&gt; p.getFirstName().equals(&quot;Steve&quot;) \r\n&gt;              || p.getLastName().equals(&quot;Steve&quot;))\r\n&gt;         .collect(Collectors.asList());\r\n(I&#39;ve written the syntax from memory so you might have to tweak it).\r\n","title":"Use java stream to group by 2 keys on the same type","body":"<p>You cannot key your maps by multiple values. For what you want to achieve, you have three options: </p>\n\n<ol>\n<li><p>Combine your \"personByFirstName\" and \"personByLastName\" maps, you will have duplicate values (eg. Bill Gates will be in the map under the key <code>Bill</code> and also in the map under the key <code>Gates</code>). @Andreas answer gives a good stream-based way to do this.</p></li>\n<li><p>Use an indexing library like lucene and index all your Person objects by first name and last name.</p></li>\n<li><p>The stream approach - it will not be performant on large data sets but you can stream your collection and use <code>filter</code> to get your matches:</p></li>\n</ol>\n\n<blockquote>\n<pre><code>persons\n    .stream()\n    .filter(p -&gt; p.getFirstName().equals(\"Steve\") \n         || p.getLastName().equals(\"Steve\"))\n    .collect(Collectors.asList());\n</code></pre>\n  \n  <p>(I've written the syntax from memory so you might have to tweak it).</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":6225989,"reputation":662,"user_id":4844216,"display_name":"Ilario"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1553619712,"creation_date":1553619712,"answer_id":55362576,"question_id":55361841,"body_markdown":"If I got it right you want to map each Person twice, once for the first name and once for the last.\r\nTo do this you have to double your stream somehow. Assuming Couple is some existing 2-tuple (Guava or Vavr have some nice implementation) you could:\r\n\r\n    persons.stream()\r\n        .map(p -&gt; new Couple(new Couple(p.firstName, p), new Couple(p.lastName, p)))\r\n        .flatMap(c -&gt; Stream.of(c.left, c.right)) // Stream of Couple(String, Person)\r\n        .map(c -&gt; new Couple(c.left, Arrays.asList(c.right)))\r\n        .collect(Collectors.toMap(Couple::getLeft, Couple::getRight, Collection::addAll));\r\n\r\nI didn&#39;t test it, but the concept is: make a stream of (name, person), (surname, person)... for every person, then simply map for the left value of each couple. The asList is to have a collection as value. If you need a Set chenge the last line with ```.collect(Collectors.toMap(Couple::getLeft, c -&gt; new HashSet(c.getRight), Collection::addAll))```","title":"Use java stream to group by 2 keys on the same type","body":"<p>If I got it right you want to map each Person twice, once for the first name and once for the last.\nTo do this you have to double your stream somehow. Assuming Couple is some existing 2-tuple (Guava or Vavr have some nice implementation) you could:</p>\n\n<pre><code>persons.stream()\n    .map(p -&gt; new Couple(new Couple(p.firstName, p), new Couple(p.lastName, p)))\n    .flatMap(c -&gt; Stream.of(c.left, c.right)) // Stream of Couple(String, Person)\n    .map(c -&gt; new Couple(c.left, Arrays.asList(c.right)))\n    .collect(Collectors.toMap(Couple::getLeft, Couple::getRight, Collection::addAll));\n</code></pre>\n\n<p>I didn't test it, but the concept is: make a stream of (name, person), (surname, person)... for every person, then simply map for the left value of each couple. The asList is to have a collection as value. If you need a Set chenge the last line with <code>.collect(Collectors.toMap(Couple::getLeft, c -&gt; new HashSet(c.getRight), Collection::addAll))</code></p>\n"},{"comments":[{"owner":{"account_id":6528825,"reputation":21455,"user_id":5050667,"accept_rate":91,"display_name":"Yassin Hajaj"},"score":1,"creation_date":1553676611,"post_id":55363677,"comment_id":97468347,"body_markdown":"This is a very nice solution!","body":"This is a very nice solution!"}],"tags":[],"owner":{"account_id":2111403,"reputation":33698,"user_id":1876620,"accept_rate":94,"display_name":"fps"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1553784642,"creation_date":1553623631,"answer_id":55363677,"question_id":55361841,"body_markdown":"One way would be by using the newest JDK12&#39;s [`Collector.teeing`][1]:\r\n\r\n    Map&lt;String, List&lt;Person&gt;&gt; result = persons.stream()\r\n           .collect(Collectors.teeing(\r\n                    Collectors.groupingBy(Person::getFirstName, \r\n                                          Collectors.toCollection(ArrayList::new)),\r\n                    Collectors.groupingBy(Person::getLastName),\r\n                    (byFirst, byLast) -&gt; { \r\n                        byLast.forEach((last, peopleList) -&gt; \r\n                               byFirst.computeIfAbsent(last, k -&gt; new ArrayList&lt;&gt;())\r\n                                      .addAll(peopleList));\r\n                        return byFirst; \r\n                    }));\r\n\r\n`Collectors.teeing` collects to two separate collectors and then merges the results into a final value. From the docs:\r\n\r\n&gt;Returns a Collector that is a composite of two downstream collectors. Every element passed to the resulting collector is processed by both downstream collectors, then their results are merged using the specified merge function into the final result.\r\n\r\nSo, the above code collects to a map by first name and also to a map by last name and then merges both maps into a final map by iterating the `byLast` map and merging each one of its entries into the `byFirst` map by means of the [`Map.computeIfAbsent`][2] method. Finally, the `byFirst` map is returned. \r\n\r\nNote that I&#39;ve collected to a `Map&lt;String, List&lt;Person&gt;&gt;` instead of to a `Map&lt;String, Set&lt;Person&gt;&gt;` to keep the example simple. If you actually need a map of sets, you could do it as follows:\r\n\r\n    Map&lt;String, Set&lt;Person&gt;&gt; result = persons.stream().\r\n           .collect(Collectors.teeing(\r\n                    Collectors.groupingBy(Person::getFirstName, \r\n                                          Collectors.toCollection(LinkedHashSet::new)),\r\n                    Collectors.groupingBy(Person::getLastName, Collectors.toSet()),\r\n                    (byFirst, byLast) -&gt; { \r\n                        byLast.forEach((last, peopleSet) -&gt; \r\n                               byFirst.computeIfAbsent(last, k -&gt; new LinkedHashSet&lt;&gt;())\r\n                                      .addAll(peopleSet));\r\n                        return byFirst; \r\n                    }));\r\n\r\nKeep in mind that if you need to have `Set&lt;Person&gt;` as the values of the maps, the `Person` class must implement the `hashCode` and `equals` methods *consistently*.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/util/stream/Collectors.html#teeing(java.util.stream.Collector,java.util.stream.Collector,java.util.function.BiFunction)\r\n  [2]: https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/util/Map.html#computeIfAbsent(K,java.util.function.Function)","title":"Use java stream to group by 2 keys on the same type","body":"<p>One way would be by using the newest JDK12's <a href=\"https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/util/stream/Collectors.html#teeing(java.util.stream.Collector,java.util.stream.Collector,java.util.function.BiFunction)\" rel=\"nofollow noreferrer\"><code>Collector.teeing</code></a>:</p>\n\n<pre><code>Map&lt;String, List&lt;Person&gt;&gt; result = persons.stream()\n       .collect(Collectors.teeing(\n                Collectors.groupingBy(Person::getFirstName, \n                                      Collectors.toCollection(ArrayList::new)),\n                Collectors.groupingBy(Person::getLastName),\n                (byFirst, byLast) -&gt; { \n                    byLast.forEach((last, peopleList) -&gt; \n                           byFirst.computeIfAbsent(last, k -&gt; new ArrayList&lt;&gt;())\n                                  .addAll(peopleList));\n                    return byFirst; \n                }));\n</code></pre>\n\n<p><code>Collectors.teeing</code> collects to two separate collectors and then merges the results into a final value. From the docs:</p>\n\n<blockquote>\n  <p>Returns a Collector that is a composite of two downstream collectors. Every element passed to the resulting collector is processed by both downstream collectors, then their results are merged using the specified merge function into the final result.</p>\n</blockquote>\n\n<p>So, the above code collects to a map by first name and also to a map by last name and then merges both maps into a final map by iterating the <code>byLast</code> map and merging each one of its entries into the <code>byFirst</code> map by means of the <a href=\"https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/util/Map.html#computeIfAbsent(K,java.util.function.Function)\" rel=\"nofollow noreferrer\"><code>Map.computeIfAbsent</code></a> method. Finally, the <code>byFirst</code> map is returned. </p>\n\n<p>Note that I've collected to a <code>Map&lt;String, List&lt;Person&gt;&gt;</code> instead of to a <code>Map&lt;String, Set&lt;Person&gt;&gt;</code> to keep the example simple. If you actually need a map of sets, you could do it as follows:</p>\n\n<pre><code>Map&lt;String, Set&lt;Person&gt;&gt; result = persons.stream().\n       .collect(Collectors.teeing(\n                Collectors.groupingBy(Person::getFirstName, \n                                      Collectors.toCollection(LinkedHashSet::new)),\n                Collectors.groupingBy(Person::getLastName, Collectors.toSet()),\n                (byFirst, byLast) -&gt; { \n                    byLast.forEach((last, peopleSet) -&gt; \n                           byFirst.computeIfAbsent(last, k -&gt; new LinkedHashSet&lt;&gt;())\n                                  .addAll(peopleSet));\n                    return byFirst; \n                }));\n</code></pre>\n\n<p>Keep in mind that if you need to have <code>Set&lt;Person&gt;</code> as the values of the maps, the <code>Person</code> class must implement the <code>hashCode</code> and <code>equals</code> methods <em>consistently</em>.</p>\n"},{"tags":[],"owner":{"account_id":4120139,"reputation":1,"user_id":3380739,"display_name":"user_3380739"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673222924,"creation_date":1553797100,"answer_id":55404406,"question_id":55361841,"body_markdown":"Try `SetMultimap`, either from [Google Guava][1] or my library [abacus-common][2]\r\n\r\n    SetMultimap&lt;String, Person&gt; result = Multimaps.newSetMultimap(new HashMap&lt;&gt;(), () -&gt; new HashSet&lt;&gt;()); // by Google Guava.\r\n    // Or result = N.newSetMultimap(); // By Abacus-Util\r\n    persons.forEach(p -&gt; {\r\n         result.put(p.getFirstName(), p);\r\n         result.put(p.getLastName(), p);\r\n      });\r\n\r\n\r\n  [1]: https://github.com/google/guava\r\n  [2]: https://github.com/landawn/abacus-common","title":"Use java stream to group by 2 keys on the same type","body":"<p>Try <code>SetMultimap</code>, either from <a href=\"https://github.com/google/guava\" rel=\"nofollow noreferrer\">Google Guava</a> or my library <a href=\"https://github.com/landawn/abacus-common\" rel=\"nofollow noreferrer\">abacus-common</a></p>\n<pre><code>SetMultimap&lt;String, Person&gt; result = Multimaps.newSetMultimap(new HashMap&lt;&gt;(), () -&gt; new HashSet&lt;&gt;()); // by Google Guava.\n// Or result = N.newSetMultimap(); // By Abacus-Util\npersons.forEach(p -&gt; {\n     result.put(p.getFirstName(), p);\n     result.put(p.getLastName(), p);\n  });\n</code></pre>\n"}],"owner":{"account_id":2497295,"reputation":3931,"user_id":2173392,"display_name":"pdem"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":800,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"accepted_answer_id":55362164,"answer_count":7,"score":4,"last_activity_date":1673222924,"creation_date":1553617281,"question_id":55361841,"body_markdown":"Using java stream, how to create a Map from a List to index by 2 keys on the same class?\r\n\r\nI give here a code Example, I would like the map &quot;personByName&quot; to get all person by firstName OR lastName, so I would like to get the 3 &quot;steves&quot;: when it&#39;s their firstName or lastname. I don&#39;t know how to mix the 2 Collectors.groupingBy.\r\n\r\n\tpublic static class Person {\r\n\t\tfinal String firstName;\r\n\t\tfinal String lastName;\r\n\r\n\t\tprotected Person(String firstName, String lastName) {\r\n\t\t\tsuper();\r\n\t\t\tthis.firstName = firstName;\r\n\t\t\tthis.lastName = lastName;\r\n\t\t}\r\n\r\n\t\tpublic String getFirstName() {\r\n\t\t\treturn firstName;\r\n\t\t}\r\n\r\n\t\tpublic String getLastName() {\r\n\t\t\treturn lastName;\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t@Test\r\n\tpublic void testStream() {\r\n\t\tList&lt;Person&gt; persons = Arrays.asList(\r\n\t\t        new Person(&quot;Bill&quot;, &quot;Gates&quot;),\r\n\t\t        new Person(&quot;Bill&quot;, &quot;Steve&quot;),\r\n\t\t        new Person(&quot;Steve&quot;, &quot;Jobs&quot;),\r\n\t\t        new Person(&quot;Steve&quot;, &quot;Wozniac&quot;));\r\n\r\n\t\tMap&lt;String, Set&lt;Person&gt;&gt; personByFirstName = persons.stream().collect(Collectors.groupingBy(Person::getFirstName, Collectors.toSet()));\r\n\t\tMap&lt;String, Set&lt;Person&gt;&gt; personByLastName = persons.stream().collect(Collectors.groupingBy(Person::getLastName, Collectors.toSet()));\r\n\r\n\t\tMap&lt;String, Set&lt;Person&gt;&gt; personByName = persons.stream().collect(Collectors.groupingBy(Person::getLastName, Collectors.toSet()));// This is wrong, I want bot first and last name\r\n\r\n\t\tAssert.assertEquals(&quot;we should search by firstName AND lastName&quot;, 3, personByName.get(&quot;Steve&quot;).size()); // This fails\r\n\r\n\t}\r\n\r\nI found a workaround by looping on the 2 maps, but it is not stream-oriented.","title":"Use java stream to group by 2 keys on the same type","body":"<p>Using java stream, how to create a Map from a List to index by 2 keys on the same class?</p>\n\n<p>I give here a code Example, I would like the map \"personByName\" to get all person by firstName OR lastName, so I would like to get the 3 \"steves\": when it's their firstName or lastname. I don't know how to mix the 2 Collectors.groupingBy.</p>\n\n<pre><code>public static class Person {\n    final String firstName;\n    final String lastName;\n\n    protected Person(String firstName, String lastName) {\n        super();\n        this.firstName = firstName;\n        this.lastName = lastName;\n    }\n\n    public String getFirstName() {\n        return firstName;\n    }\n\n    public String getLastName() {\n        return lastName;\n    }\n\n}\n\n@Test\npublic void testStream() {\n    List&lt;Person&gt; persons = Arrays.asList(\n            new Person(\"Bill\", \"Gates\"),\n            new Person(\"Bill\", \"Steve\"),\n            new Person(\"Steve\", \"Jobs\"),\n            new Person(\"Steve\", \"Wozniac\"));\n\n    Map&lt;String, Set&lt;Person&gt;&gt; personByFirstName = persons.stream().collect(Collectors.groupingBy(Person::getFirstName, Collectors.toSet()));\n    Map&lt;String, Set&lt;Person&gt;&gt; personByLastName = persons.stream().collect(Collectors.groupingBy(Person::getLastName, Collectors.toSet()));\n\n    Map&lt;String, Set&lt;Person&gt;&gt; personByName = persons.stream().collect(Collectors.groupingBy(Person::getLastName, Collectors.toSet()));// This is wrong, I want bot first and last name\n\n    Assert.assertEquals(\"we should search by firstName AND lastName\", 3, personByName.get(\"Steve\").size()); // This fails\n\n}\n</code></pre>\n\n<p>I found a workaround by looping on the 2 maps, but it is not stream-oriented.</p>\n"},{"tags":["java","arrays","unix","java-stream"],"comments":[{"owner":{"account_id":11583471,"reputation":17797,"user_id":8486518,"display_name":"Mạnh Quyết Nguyễn"},"score":0,"creation_date":1553309278,"post_id":55310020,"comment_id":97347918,"body_markdown":"The problem lied on `GroupParser::getAllEntries` but you didn&#39;t post it here","body":"The problem lied on <code>GroupParser::getAllEntries</code> but you didn&#39;t post it here"},{"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1553309653,"post_id":55310020,"comment_id":97347978,"body_markdown":"The cause of AIOOBE is `nobody:*:-2:` and then accessing index **3** after splitting it based on `:` in the line `this.members = Arrays.asList(items[3]);`. The split would result only in 3 elements `{ &quot;nobody&quot;, &quot;*&quot;, &quot;-2&quot; }` respectively index `0,1 and 2`","body":"The cause of AIOOBE is <code>nobody:*:-2:</code> and then accessing index <b>3</b> after splitting it based on <code>:</code> in the line <code>this.members = Arrays.asList(items[3]);</code>. The split would result only in 3 elements <code>{ &quot;nobody&quot;, &quot;*&quot;, &quot;-2&quot; }</code> respectively index <code>0,1 and 2</code>"},{"owner":{"account_id":11653484,"reputation":12724,"user_id":8534008,"display_name":"GBlodgett"},"score":0,"creation_date":1553310033,"post_id":55310020,"comment_id":97348028,"body_markdown":"Did you mean to skip `items[1]` in the constructor?","body":"Did you mean to skip <code>items[1]</code> in the constructor?"},{"owner":{"account_id":49142,"reputation":4904,"user_id":146234,"accept_rate":40,"display_name":"PacificNW_Lover"},"score":0,"creation_date":1553315986,"post_id":55310020,"comment_id":97348796,"body_markdown":"@Manh - sorry about that but its really GroupParser.getAllGroups() - I edited the post.","body":"@Manh - sorry about that but its really GroupParser.getAllGroups() - I edited the post."},{"owner":{"account_id":49142,"reputation":4904,"user_id":146234,"accept_rate":40,"display_name":"PacificNW_Lover"},"score":0,"creation_date":1553316038,"post_id":55310020,"comment_id":97348801,"body_markdown":"@GBlodgett - Yes, that&#39;s a password which I don&#39;t need.","body":"@GBlodgett - Yes, that&#39;s a password which I don&#39;t need."},{"owner":{"account_id":49142,"reputation":4904,"user_id":146234,"accept_rate":40,"display_name":"PacificNW_Lover"},"score":0,"creation_date":1553317290,"post_id":55310020,"comment_id":97348942,"body_markdown":"@Naman - thanks for the suggestion but other lines have a value inside index 3. I revised my post.","body":"@Naman - thanks for the suggestion but other lines have a value inside index 3. I revised my post."},{"owner":{"account_id":49142,"reputation":4904,"user_id":146234,"accept_rate":40,"display_name":"PacificNW_Lover"},"score":0,"creation_date":1553332194,"post_id":55310020,"comment_id":97351524,"body_markdown":"@Naman - I changed the question and title of my post to something completely different... Please unmark it as duplicate as its not about the ArrayIndexOutOfBoundsException (AIOOBE) anymore.","body":"@Naman - I changed the question and title of my post to something completely different... Please unmark it as duplicate as its not about the ArrayIndexOutOfBoundsException (AIOOBE) anymore."},{"owner":{"account_id":49142,"reputation":4904,"user_id":146234,"accept_rate":40,"display_name":"PacificNW_Lover"},"score":0,"creation_date":1553492206,"post_id":55310020,"comment_id":97388777,"body_markdown":"This question has been edited and revised as a new issue and not the  ArrayIndexOutOfBoundsException (AIOOBE) anymore.","body":"This question has been edited and revised as a new issue and not the  ArrayIndexOutOfBoundsException (AIOOBE) anymore."},{"owner":{"account_id":11583471,"reputation":17797,"user_id":8486518,"display_name":"Mạnh Quyết Nguyễn"},"score":0,"creation_date":1553509702,"post_id":55310020,"comment_id":97396509,"body_markdown":"@PacificNW_Lover `This output doesn&#39;t seem ordered` -&gt; What&#39;s the order you&#39;re talking about? I saw that the content is printed with the same order as content in file","body":"@PacificNW_Lover <code>This output doesn&#39;t seem ordered</code> -&gt; What&#39;s the order you&#39;re talking about? I saw that the content is printed with the same order as content in file"}],"answers":[{"comments":[{"owner":{"account_id":49142,"reputation":4904,"user_id":146234,"accept_rate":40,"display_name":"PacificNW_Lover"},"score":0,"creation_date":1553498279,"post_id":55332716,"comment_id":97390869,"body_markdown":"I am not getting an ArrayIndexOutOfBoundsException anymore - please see the revision of the if logic. Am new to Streams so if I initialize an ArrayList like the standard way you suggested how would I use streams? Also, my new question is why am I getting the wrong items in the group list when I print them out? Please re-read my post because its content is different then the original post which was about an ArrayIndexOutOfBoundsException.","body":"I am not getting an ArrayIndexOutOfBoundsException anymore - please see the revision of the if logic. Am new to Streams so if I initialize an ArrayList like the standard way you suggested how would I use streams? Also, my new question is why am I getting the wrong items in the group list when I print them out? Please re-read my post because its content is different then the original post which was about an ArrayIndexOutOfBoundsException."},{"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1553498844,"post_id":55332716,"comment_id":97391145,"body_markdown":"@PacificNW_Lover the answer section related to why you get null values is : *&quot;when the content of the string could be split into more than 3 parts&quot;*. I have answered not for AIOOBE but in general.","body":"@PacificNW_Lover the answer section related to why you get null values is : <i>&quot;when the content of the string could be split into more than 3 parts&quot;</i>. I have answered not for AIOOBE but in general."},{"owner":{"account_id":49142,"reputation":4904,"user_id":146234,"accept_rate":40,"display_name":"PacificNW_Lover"},"score":0,"creation_date":1553498911,"post_id":55332716,"comment_id":97391175,"body_markdown":"So what&#39;s your suggestion to fixing this? Did you see my edit? I placed else if (items.length &gt; 3) - see above. What is your suggestion regarding the solution? Created a bounty because I am struggling.","body":"So what&#39;s your suggestion to fixing this? Did you see my edit? I placed else if (items.length &gt; 3) - see above. What is your suggestion regarding the solution? Created a bounty because I am struggling."},{"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1553499886,"post_id":55332716,"comment_id":97391581,"body_markdown":"@PacificNW_Lover The suggestion to fix this would be to be sure of how many components are you dealing with while splitting the string. Otherwise, map them after splitting in such a way that the values are all assigned (does not default to `null`).","body":"@PacificNW_Lover The suggestion to fix this would be to be sure of how many components are you dealing with while splitting the string. Otherwise, map them after splitting in such a way that the values are all assigned (does not default to <code>null</code>)."}],"tags":[],"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"comment_count":4,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1553767543,"creation_date":1553497633,"answer_id":55332716,"question_id":55310020,"body_markdown":"The core of the issue lies in the constructor you are using in mapping as **`.map(Group::new)`**. The logic of the constructor implemented currently is a reason for a few questions arising. Trying to explain how below:\r\n\r\n    public Group(String line) {\r\n        String[] items = line.split(&quot;:&quot;); // you split up the string into contents based on &#39;:&#39; separator\r\n\r\nin the condition to check if the contents are split into less than or equal to 3 parts, you&#39;ve also made an assumption here that the size of array would at least be **`3`**, which is what you intend to access when doing `items[2]`. Notice though, if the items.length could have been 2, the `if` condition would have successfully allowed you to end up getting an AIOOBE for this kind of access still.\r\n\r\n\r\n        if (items.length &lt;= 3) {\r\n            this.name = items[0];\r\n            System.out.print(&quot;Name: &quot; + name + &quot;, &quot;);\r\n            this.gid = items[2];\r\n            System.out.print(&quot; gid: &quot; + gid + &quot;, &quot;);\r\n        }\r\n\r\nwhen the content of the string could be split into more than 3 parts, you tend not to initialize the `name`, `gid` for that `Group` and hence you&#39;ve got those **`null`** s in your output.\r\n\r\n\r\n        else {\r\n           \r\n            this.members = items[3];\r\n            System.out.println(&quot;Members: &quot; + members);\r\n        }\r\n    }\r\n\r\n\r\n----------\r\n\r\n&gt; Is there a better way to extract these items? Why can&#39;t I see kmem or\r\n&gt; wheel anywhere?\r\n\r\nThe section related to handling `null` values by initializing them would have solved for it.\r\n\r\n\r\n----------\r\n\r\nTo avoid NPE as well, you might want to initialize `groups`\r\n to an empty list;\r\n\r\n    List&lt;Group&gt; groups = new ArrayList&lt;&gt;();\r\n\r\n\r\n----------\r\n\r\n\r\nA simpler implementation based on an assumption that the string would always have 3 or more components when split using `:` could be:\r\n\r\n    public Group(String line) {\r\n        String[] items = line.split(&quot;:&quot;);\r\n        this.name = items[0];\r\n        this.gid = Integer.parseInt(items[2]);\r\n        if (items.length &gt; 3){\r\n            this.members = items[3];\r\n        }\r\n    }","title":"Java - Not getting right items using array and Streams to parse a file","body":"<p>The core of the issue lies in the constructor you are using in mapping as <strong><code>.map(Group::new)</code></strong>. The logic of the constructor implemented currently is a reason for a few questions arising. Trying to explain how below:</p>\n\n<pre><code>public Group(String line) {\n    String[] items = line.split(\":\"); // you split up the string into contents based on ':' separator\n</code></pre>\n\n<p>in the condition to check if the contents are split into less than or equal to 3 parts, you've also made an assumption here that the size of array would at least be <strong><code>3</code></strong>, which is what you intend to access when doing <code>items[2]</code>. Notice though, if the items.length could have been 2, the <code>if</code> condition would have successfully allowed you to end up getting an AIOOBE for this kind of access still.</p>\n\n<pre><code>    if (items.length &lt;= 3) {\n        this.name = items[0];\n        System.out.print(\"Name: \" + name + \", \");\n        this.gid = items[2];\n        System.out.print(\" gid: \" + gid + \", \");\n    }\n</code></pre>\n\n<p>when the content of the string could be split into more than 3 parts, you tend not to initialize the <code>name</code>, <code>gid</code> for that <code>Group</code> and hence you've got those <strong><code>null</code></strong> s in your output.</p>\n\n<pre><code>    else {\n\n        this.members = items[3];\n        System.out.println(\"Members: \" + members);\n    }\n}\n</code></pre>\n\n<hr>\n\n<blockquote>\n  <p>Is there a better way to extract these items? Why can't I see kmem or\n  wheel anywhere?</p>\n</blockquote>\n\n<p>The section related to handling <code>null</code> values by initializing them would have solved for it.</p>\n\n<hr>\n\n<p>To avoid NPE as well, you might want to initialize <code>groups</code>\n to an empty list;</p>\n\n<pre><code>List&lt;Group&gt; groups = new ArrayList&lt;&gt;();\n</code></pre>\n\n<hr>\n\n<p>A simpler implementation based on an assumption that the string would always have 3 or more components when split using <code>:</code> could be:</p>\n\n<pre><code>public Group(String line) {\n    String[] items = line.split(\":\");\n    this.name = items[0];\n    this.gid = Integer.parseInt(items[2]);\n    if (items.length &gt; 3){\n        this.members = items[3];\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":4,"creation_date":1553501104,"post_id":55333464,"comment_id":97392072,"body_markdown":"Why yo you think an `ArrayList` will not maintain the order? Replacing an `ArrayList` with a `LinkedList` does not change any semantic, it just makes the code inefficient.","body":"Why yo you think an <code>ArrayList</code> will not maintain the order? Replacing an <code>ArrayList</code> with a <code>LinkedList</code> does not change any semantic, it just makes the code inefficient."},{"owner":{"account_id":49142,"reputation":4904,"user_id":146234,"accept_rate":40,"display_name":"PacificNW_Lover"},"score":0,"creation_date":1553504672,"post_id":55333464,"comment_id":97393667,"body_markdown":"@Kris - yes! Your suggestion made sense! The LinkedList suggestion didn&#39;t work. But reassigning the first two items inside the else if worked!","body":"@Kris - yes! Your suggestion made sense! The LinkedList suggestion didn&#39;t work. But reassigning the first two items inside the else if worked!"},{"owner":{"account_id":2515313,"reputation":256,"user_id":2186897,"accept_rate":50,"display_name":"Ivo van der Veeken"},"score":0,"creation_date":1553603688,"post_id":55333464,"comment_id":97438135,"body_markdown":"Could you print the list with a while with counter instead of a foreach? Iirc, foreach doesn&#39;t guarantee order.","body":"Could you print the list with a while with counter instead of a foreach? Iirc, foreach doesn&#39;t guarantee order."}],"tags":[],"owner":{"account_id":137890,"reputation":8718,"user_id":995052,"accept_rate":56,"display_name":"Kris"},"comment_count":3,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1553501023,"creation_date":1553501023,"answer_id":55333464,"question_id":55310020,"body_markdown":"From my observations:\r\n\r\n&gt; 1. This output doesn&#39;t seem ordered\r\n\r\nChange the code `ArrayList::new` to `LinkedList::new` to maintain ordering. \r\n\r\n&gt; 2. Is there a better way to extract these items? Why can&#39;t I see kmem or wheel anywhere?\r\n\r\nThe code `if (items.length &lt;= 3) {` is the culprit. The else case does not assign values for fields other than `members`\r\n\r\n&gt; 3.Is there a way to check / fix this via Streams?\r\n\r\nI think the fixes are done. Better ways - there will always. \r\n\r\n","title":"Java - Not getting right items using array and Streams to parse a file","body":"<p>From my observations:</p>\n\n<blockquote>\n  <ol>\n  <li>This output doesn't seem ordered</li>\n  </ol>\n</blockquote>\n\n<p>Change the code <code>ArrayList::new</code> to <code>LinkedList::new</code> to maintain ordering. </p>\n\n<blockquote>\n  <ol start=\"2\">\n  <li>Is there a better way to extract these items? Why can't I see kmem or wheel anywhere?</li>\n  </ol>\n</blockquote>\n\n<p>The code <code>if (items.length &lt;= 3) {</code> is the culprit. The else case does not assign values for fields other than <code>members</code></p>\n\n<blockquote>\n  <p>3.Is there a way to check / fix this via Streams?</p>\n</blockquote>\n\n<p>I think the fixes are done. Better ways - there will always. </p>\n"},{"tags":[],"owner":{"account_id":4120139,"reputation":1,"user_id":3380739,"display_name":"user_3380739"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673222907,"creation_date":1553796149,"answer_id":55404159,"question_id":55310020,"body_markdown":"Not sure if I&#39;m understanding your question correctly. You just want to parse the file line by line, without any groupBy/merge action? `items.length &gt; 3` is unnecessary with `Splitter` from [Google Guava][1] or my library [abacus-common][2]. Here is the simple sample solution:\r\n\r\n    Splitter splitter = Splitter.with(&#39;:&#39;).trim(true);\r\n    Splitter memSplitter = Splitter.with(&#39;,&#39;).trim(true).omitEmptyStrings(true);\r\n\r\n    ExceptionalStream.lines(new File(&quot;./tmp.txt&quot;)) // Or StreamEx.of(IOUtil.readLines(new File(&quot;./tmp.txt&quot;)))\r\n        .filter(s -&gt; s.charAt(0) != &#39;#&#39;)\r\n        .map(s -&gt; splitter.splitToArray(s))\r\n        // .map(a -&gt; Tuple.of(a[0], a[2], memSplitter.splitToArray(a[3])))\r\n        // TODO whatever you need/want.\r\n        .forEach(group -&gt; N.println(group));\r\n\r\n\r\n  [1]: https://github.com/google/guava\r\n  [2]: https://github.com/landawn/abacus-common","title":"Java - Not getting right items using array and Streams to parse a file","body":"<p>Not sure if I'm understanding your question correctly. You just want to parse the file line by line, without any groupBy/merge action? <code>items.length &gt; 3</code> is unnecessary with <code>Splitter</code> from <a href=\"https://github.com/google/guava\" rel=\"nofollow noreferrer\">Google Guava</a> or my library <a href=\"https://github.com/landawn/abacus-common\" rel=\"nofollow noreferrer\">abacus-common</a>. Here is the simple sample solution:</p>\n<pre><code>Splitter splitter = Splitter.with(':').trim(true);\nSplitter memSplitter = Splitter.with(',').trim(true).omitEmptyStrings(true);\n\nExceptionalStream.lines(new File(&quot;./tmp.txt&quot;)) // Or StreamEx.of(IOUtil.readLines(new File(&quot;./tmp.txt&quot;)))\n    .filter(s -&gt; s.charAt(0) != '#')\n    .map(s -&gt; splitter.splitToArray(s))\n    // .map(a -&gt; Tuple.of(a[0], a[2], memSplitter.splitToArray(a[3])))\n    // TODO whatever you need/want.\n    .forEach(group -&gt; N.println(group));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":202717,"reputation":830,"user_id":449946,"accept_rate":100,"display_name":"firephil"},"score":0,"creation_date":1553895412,"post_id":55414211,"comment_id":97570612,"body_markdown":"why over complicate a simple solution ?","body":"why over complicate a simple solution ?"}],"tags":[],"owner":{"account_id":2836457,"reputation":1922,"user_id":2436979,"display_name":"redhatvicky"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1553851604,"creation_date":1553851604,"answer_id":55414211,"question_id":55310020,"body_markdown":"Here below is the code which would help you :\r\n\r\n    class Group {\r\n    \r\n      private String gid;\r\n    \r\n      private String name;\r\n    \r\n      private String members;\r\n    \r\n      public Group(String line) {\r\n        String[] consolidated = line.split(&quot;:&quot;);\r\n        if (consolidated != null &amp;&amp; consolidated.length &gt; 0) {\r\n          this.name = doesIndexExists(consolidated, 0) ? consolidated[0] : &quot;&quot;;\r\n          this.gid = doesIndexExists(consolidated, 2) ? consolidated[2] : &quot;&quot;;\r\n          this.members = consolidated.length &lt; 4 ? &quot;&quot; : doesIndexExists(consolidated, 3) ? consolidated[3] : &quot;&quot;;\r\n        }\r\n      }\r\n    \r\n      public String getGid() {\r\n        return gid;\r\n      }\r\n    \r\n      public void setGid(String gid) {\r\n        this.gid = gid;\r\n      }\r\n    \r\n      public String getName() {\r\n        return name;\r\n      }\r\n    \r\n      public String getMembers() {\r\n        return members;\r\n      }\r\n    \r\n      public boolean doesIndexExists(String[] inputArray, int index) {\r\n        return inputArray.length &gt; index &amp;&amp; inputArray[index] != null;\r\n      }\r\n    \r\n      public void setName(String name) {\r\n        this.name = name;\r\n      }\r\n    \r\n      public void setMembers(String members) {\r\n        this.members = members;\r\n      }\r\n    \r\n      @Override\r\n      public String toString() {\r\n        return &quot;Group [gid=&quot; + gid + &quot;, name=&quot; + name + &quot;, members=&quot; + members + &quot;]&quot;;\r\n      }\r\n    \r\n    }\r\n    \r\n    import java.io.IOException;\r\n    import java.nio.file.Files;\r\n    import java.nio.file.Paths;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.stream.Collectors;\r\n    \r\n    public class GroupParser {\r\n    \r\n      public static final String FILE_PATH = &quot;YOURFILEPATH&quot;;\r\n    \r\n      public static boolean isNotEmpty(String inputContent) {\r\n        return (inputContent != null &amp;&amp; !&quot;&quot;.equalsIgnoreCase(inputContent));\r\n      }\r\n    \r\n      public static List&lt;Group&gt; getAllGroups(String line) throws IOException {\r\n        final List&lt;Group&gt; groupList = new ArrayList&lt;&gt;();\r\n        Files.readAllLines(Paths.get(line)).stream()\r\n            .filter(lineInstance -&gt; isNotEmpty(lineInstance) &amp;&amp; !lineInstance.startsWith(&quot;#&quot;)).collect(Collectors.toList())\r\n            .forEach(parsedInputObject -&gt; groupList.add(new Group(parsedInputObject)));\r\n        return groupList;\r\n      }\r\n    \r\n      public static void main(String[] args) throws IOException {\r\n        List&lt;Group&gt; groups = GroupParser.getAllGroups(FILE_PATH);\r\n        for (Group group : groups) {\r\n          System.out.println(&quot;Group: &quot; + group.getName() + &quot;, gid: &quot; + group.getGid() + &quot;, members: &quot; + group.getMembers());\r\n        }\r\n      }\r\n    }\r\n\r\n\r\n","title":"Java - Not getting right items using array and Streams to parse a file","body":"<p>Here below is the code which would help you :</p>\n\n<pre><code>class Group {\n\n  private String gid;\n\n  private String name;\n\n  private String members;\n\n  public Group(String line) {\n    String[] consolidated = line.split(\":\");\n    if (consolidated != null &amp;&amp; consolidated.length &gt; 0) {\n      this.name = doesIndexExists(consolidated, 0) ? consolidated[0] : \"\";\n      this.gid = doesIndexExists(consolidated, 2) ? consolidated[2] : \"\";\n      this.members = consolidated.length &lt; 4 ? \"\" : doesIndexExists(consolidated, 3) ? consolidated[3] : \"\";\n    }\n  }\n\n  public String getGid() {\n    return gid;\n  }\n\n  public void setGid(String gid) {\n    this.gid = gid;\n  }\n\n  public String getName() {\n    return name;\n  }\n\n  public String getMembers() {\n    return members;\n  }\n\n  public boolean doesIndexExists(String[] inputArray, int index) {\n    return inputArray.length &gt; index &amp;&amp; inputArray[index] != null;\n  }\n\n  public void setName(String name) {\n    this.name = name;\n  }\n\n  public void setMembers(String members) {\n    this.members = members;\n  }\n\n  @Override\n  public String toString() {\n    return \"Group [gid=\" + gid + \", name=\" + name + \", members=\" + members + \"]\";\n  }\n\n}\n\nimport java.io.IOException;\nimport java.nio.file.Files;\nimport java.nio.file.Paths;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.stream.Collectors;\n\npublic class GroupParser {\n\n  public static final String FILE_PATH = \"YOURFILEPATH\";\n\n  public static boolean isNotEmpty(String inputContent) {\n    return (inputContent != null &amp;&amp; !\"\".equalsIgnoreCase(inputContent));\n  }\n\n  public static List&lt;Group&gt; getAllGroups(String line) throws IOException {\n    final List&lt;Group&gt; groupList = new ArrayList&lt;&gt;();\n    Files.readAllLines(Paths.get(line)).stream()\n        .filter(lineInstance -&gt; isNotEmpty(lineInstance) &amp;&amp; !lineInstance.startsWith(\"#\")).collect(Collectors.toList())\n        .forEach(parsedInputObject -&gt; groupList.add(new Group(parsedInputObject)));\n    return groupList;\n  }\n\n  public static void main(String[] args) throws IOException {\n    List&lt;Group&gt; groups = GroupParser.getAllGroups(FILE_PATH);\n    for (Group group : groups) {\n      System.out.println(\"Group: \" + group.getName() + \", gid: \" + group.getGid() + \", members: \" + group.getMembers());\n    }\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":134313,"reputation":1757,"user_id":336356,"accept_rate":72,"display_name":"Jonas N"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1553902853,"creation_date":1553902853,"answer_id":55426736,"question_id":55310020,"body_markdown":"May I suggest a simpler fix than checking length of array or bringing in extra libraries: just add a few of the separators to guarantee sufficient number of array items: \r\n\r\n    String[] items = (line + &quot;::::&quot;).split(&quot;:&quot;);\r\n\r\nAnd `String.split(String, int)` could then save some negligible amount of time by not parsing more than the columns you want, if you want [up]tight code. \r\n\r\nWell, that is all. ","title":"Java - Not getting right items using array and Streams to parse a file","body":"<p>May I suggest a simpler fix than checking length of array or bringing in extra libraries: just add a few of the separators to guarantee sufficient number of array items: </p>\n\n<pre><code>String[] items = (line + \"::::\").split(\":\");\n</code></pre>\n\n<p>And <code>String.split(String, int)</code> could then save some negligible amount of time by not parsing more than the columns you want, if you want [up]tight code. </p>\n\n<p>Well, that is all. </p>\n"}],"owner":{"account_id":49142,"reputation":4904,"user_id":146234,"accept_rate":40,"display_name":"PacificNW_Lover"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":303,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":55332716,"answer_count":5,"score":4,"last_activity_date":1673222907,"creation_date":1553307882,"question_id":55310020,"body_markdown":"Am trying to parse the /etc/group file on a macOS Mojave 10.14.3 operating system using Java 1.8&#39;s stream feature.\r\n\r\nThe full set of lines inside my /etc/group file are as follows:\r\n\r\n    nobody:*:-2:\r\n    nogroup:*:-1:\r\n    wheel:*:0:root\r\n    daemon:*:1:root\r\n    kmem:*:2:root\r\n    sys:*:3:root\r\n    tty:*:4:root\r\n    operator:*:5:root\r\n    mail:*:6:_teamsserver\r\n    bin:*:7:\r\n    procview:*:8:root\r\n    procmod:*:9:root\r\n    owner:*:10:\r\n    everyone:*:12:\r\n    _taskgated:*:13:_taskgated\r\n    group:*:16:\r\n    staff:*:20:root\r\n    _networkd:*:24:\r\n    _installassistant:*:25:\r\n    _lp:*:26:\r\n    _postfix:*:27:\r\n    _postdrop:*:28:\r\n    certusers:*:29:root,_jabber,_postfix,_cyrus,_calendar,_dovecot\r\n    _keytabusers:*:30:_calendar,_jabber,_postfix\r\n    _scsd:*:31:\r\n    _ces:*:32:\r\n    _appstore:*:33:_appstore\r\n    utmp:*:45:\r\n    authedusers:*:50:\r\n    interactusers:*:51:\r\n    netusers:*:52:\r\n    consoleusers:*:53:\r\n    _mcxalr:*:54:\r\n    _appleevents:*:55:\r\n    _geod:*:56:\r\n    _devdocs:*:59:\r\n    _sandbox:*:60:\r\n    localaccounts:*:61:\r\n    netaccounts:*:62:\r\n    _mdnsresponder:*:65:\r\n    _uucp:*:66:\r\n    _ard:*:67:\r\n    dialer:*:68:\r\n    network:*:69:\r\n    _www:*:70:_devicemgr,_teamsserver\r\n    _eppc:*:71:_eppc\r\n    _cvs:*:72:\r\n    _svn:*:73:\r\n    _mysql:*:74:\r\n    _sshd:*:75:\r\n    _qtss:*:76:\r\n    _mailman:*:78:\r\n    _appserverusr:*:79:\r\n    admin:*:80:root\r\n    _appserveradm:*:81:\r\n    _clamav:*:82:\r\n    _amavisd:*:83:\r\n    _jabber:*:84:\r\n    _appowner:*:87:\r\n    _windowserver:*:88:\r\n    _spotlight:*:89:\r\n    accessibility:*:90:\r\n    _tokend:*:91:\r\n    _securityagent:*:92:\r\n    _calendar:*:93:_teamsserver\r\n    _teamsserver:*:94:_devicemgr\r\n    _update_sharing:*:95:\r\n    _installer:*:96:\r\n    _atsserver:*:97:\r\n    _lpadmin:*:98:\r\n    _unknown:*:99:\r\n    _lpoperator:*:100:\r\n    _softwareupdate:*:200:_softwareupdate\r\n    _guest:*:201:\r\n    _coreaudiod:*:202:\r\n    _screensaver:*:203:\r\n    _developer:*:204:\r\n    _locationd:*:205:\r\n    _detachedsig:*:207:_locationd\r\n    _trustevaluationagent:*:208:\r\n    _odchpass:*:209:_teamsserver\r\n    _timezone:*:210:\r\n    _lda:*:211:\r\n    _cvms:*:212:\r\n    _usbmuxd:*:213:\r\n    _postgres:*:216:_devicemgr,_calendar,_teamsserver,_xserverdocs\r\n    _devicemgr:*:220:\r\n    _webauthserver:*:221:_teamsserver,_devicemgr\r\n    _netbios:*:222:\r\n    _warmd:*:224:_warmd\r\n    _dovenull:*:227:\r\n    _netstatistics:*:228:\r\n    _assetcache:*:235:\r\n    _coremediaiod:*:236:\r\n    _launchservicesd:*:239:\r\n    _iconservices:*:240:\r\n    _distnote:*:241:\r\n    _nsurlsessiond:*:242:\r\n    _nsurlstoraged:*:243:\r\n    _displaypolicyd:*:244:\r\n    _astris:*:245:\r\n    _gamecontrollerd:*:247:\r\n    _mbsetupuser:*:248:\r\n    _ondemand:*:249:\r\n    _analyticsusers:*:250:_analyticsd,_networkd,_timed,_reportmemoryexception\r\n    _xserverdocs:*:251:\r\n    _wwwproxy:*:252:\r\n    _mobileasset:*:253:\r\n    _findmydevice:*:254:\r\n    _datadetectors:*:257:\r\n    _captiveagent:*:258:\r\n    _ctkd:*:259:\r\n    _applepay:*:260:\r\n    _hidd:*:261:\r\n    _cmiodalassistants:*:262:\r\n    _analyticsd:*:263:_analyticsd\r\n    _webdeveloper:*:264:\r\n    _fpsd:*:265:_fpsd\r\n    _timed:*:266:\r\n    _reportmemoryexception:*:269:_reportmemoryexception\r\n    com.apple.access_ftp:*:395:\r\n    com.apple.access_disabled:*:396:\r\n    com.apple.access_sessionkey:*:397:\r\n    com.apple.access_screensharing:*:398:\r\n    com.apple.access_ssh:*:399:\r\n\r\nGroup.java:\r\n\r\n    public class Group {\r\n    \tprivate String gid;\r\n    \tprivate String name;\r\n    \tprivate String members;\r\n    \r\n    \tpublic Group(String line) {\r\n    \t\tString[] items = line.split(&quot;:&quot;);\r\n    \t\t \t\t\r\n    \t\tif (items.length &lt;= 3) {\r\n\t\t\t    this.name = items[0];\r\n\t\t\t    System.out.print(&quot;Name: &quot; + name + &quot;, &quot;);\r\n\t\t\t    this.gid = items[2];\r\n\t\t\t    System.out.print(&quot; gid: &quot; + gid + &quot;, &quot;);\r\n\t\t    }\r\n\t\t    else if (items.length &gt;=3 || this.name != null || &quot;&quot;.equals(this.name)){\r\n\t\t\t    this.members = items[3];\r\n\t\t\t    System.out.println(&quot;Members: &quot; + members);\r\n\t\t    }\r\n    \t}\r\n\r\n        // Omitted getters &amp; setters for brevity\r\n\r\n    }\r\n\r\nCreated this GroupsParser:\r\n\r\n    public class GroupParser {\r\n    \r\n    \tpublic static List&lt;Group&gt; getAllGroups(String line) {\r\n    \t\tList&lt;Group&gt; groups = null;\r\n    \t\ttry (Stream&lt;String&gt; stream = Files.lines(Paths.get(line))) {\r\n    \r\n    \t\t\tgroups = stream.filter(s -&gt; s.charAt(0) != &#39;#&#39;).map(Group::new)\r\n    \t\t             .collect(Collectors.toCollection(ArrayList::new));\r\n    \t\t} \r\n    \t\tcatch (Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t\treturn groups;\r\n    \t}\r\n\r\n        public static void main(String[] args) {\r\n\t\t    List&lt;Group&gt; groups = GroupParser.getAllGroups(&quot;/etc/group&quot;);\r\n\t\t    for (Group group : groups) {\r\n\t\t\t    System.out.println(&quot;Group: &quot; + group.getName() + &quot;, gid: &quot; + group.getGid() + &quot;, members: &quot; + group.getMembers());\r\n\t\t    }\r\n        }\r\n\t}\r\n\r\nReceived the following output (which is obviously out of order and missing some items):\r\n\r\n    Group: nobody, gid: -2, members: null\r\n    Group: nogroup, gid: -1, members: null\r\n    Group: null, gid: null, members: root\r\n    Group: null, gid: null, members: root\r\n    Group: null, gid: null, members: root\r\n    Group: null, gid: null, members: root\r\n    Group: null, gid: null, members: root\r\n    Group: null, gid: null, members: root\r\n    Group: null, gid: null, members: _teamsserver\r\n    Group: bin, gid: 7, members: null\r\n    Group: null, gid: null, members: root\r\n    Group: null, gid: null, members: root\r\n    Group: owner, gid: 10, members: null\r\n    Group: everyone, gid: 12, members: null\r\n    Group: null, gid: null, members: _taskgated\r\n    Group: group, gid: 16, members: null\r\n    Group: null, gid: null, members: root\r\n    Group: _networkd, gid: 24, members: null\r\n    Group: _installassistant, gid: 25, members: null\r\n    Group: _lp, gid: 26, members: null\r\n    Group: _postfix, gid: 27, members: null\r\n    Group: _postdrop, gid: 28, members: null\r\n    Group: null, gid: null, members: root,_jabber,_postfix,_cyrus,_calendar,_dovecot\r\n    Group: null, gid: null, members: _calendar,_jabber,_postfix\r\n    Group: _scsd, gid: 31, members: null\r\n    Group: _ces, gid: 32, members: null\r\n    Group: null, gid: null, members: _appstore\r\n    Group: utmp, gid: 45, members: null\r\n    Group: authedusers, gid: 50, members: null\r\n    Group: interactusers, gid: 51, members: null\r\n    Group: netusers, gid: 52, members: null\r\n    Group: consoleusers, gid: 53, members: null\r\n    Group: _mcxalr, gid: 54, members: null\r\n    Group: _appleevents, gid: 55, members: null\r\n    Group: _geod, gid: 56, members: null\r\n    Group: _devdocs, gid: 59, members: null\r\n    Group: _sandbox, gid: 60, members: null\r\n    Group: localaccounts, gid: 61, members: null\r\n    Group: netaccounts, gid: 62, members: null\r\n    Group: _mdnsresponder, gid: 65, members: null\r\n    Group: _uucp, gid: 66, members: null\r\n    Group: _ard, gid: 67, members: null\r\n    Group: dialer, gid: 68, members: null\r\n    Group: network, gid: 69, members: null\r\n    Group: null, gid: null, members: _devicemgr,_teamsserver\r\n    Group: null, gid: null, members: _eppc\r\n    Group: _cvs, gid: 72, members: null\r\n    Group: _svn, gid: 73, members: null\r\n    Group: _mysql, gid: 74, members: null\r\n    Group: _sshd, gid: 75, members: null\r\n    Group: _qtss, gid: 76, members: null\r\n    Group: _mailman, gid: 78, members: null\r\n    Group: _appserverusr, gid: 79, members: null\r\n    Group: null, gid: null, members: root\r\n    Group: _appserveradm, gid: 81, members: null\r\n    Group: _clamav, gid: 82, members: null\r\n    Group: _amavisd, gid: 83, members: null\r\n    Group: _jabber, gid: 84, members: null\r\n    Group: _appowner, gid: 87, members: null\r\n    Group: _windowserver, gid: 88, members: null\r\n    Group: _spotlight, gid: 89, members: null\r\n    Group: accessibility, gid: 90, members: null\r\n    Group: _tokend, gid: 91, members: null\r\n    Group: _securityagent, gid: 92, members: null\r\n    Group: null, gid: null, members: _teamsserver\r\n    Group: null, gid: null, members: _devicemgr\r\n    Group: _update_sharing, gid: 95, members: null\r\n    Group: _installer, gid: 96, members: null\r\n    Group: _atsserver, gid: 97, members: null\r\n    Group: _lpadmin, gid: 98, members: null\r\n    Group: _unknown, gid: 99, members: null\r\n    Group: _lpoperator, gid: 100, members: null\r\n    Group: null, gid: null, members: _softwareupdate\r\n    Group: _guest, gid: 201, members: null\r\n    Group: _coreaudiod, gid: 202, members: null\r\n    Group: _screensaver, gid: 203, members: null\r\n    Group: _developer, gid: 204, members: null\r\n    Group: _locationd, gid: 205, members: null\r\n    Group: null, gid: null, members: _locationd\r\n    Group: _trustevaluationagent, gid: 208, members: null\r\n    Group: null, gid: null, members: _teamsserver\r\n    Group: _timezone, gid: 210, members: null\r\n    Group: _lda, gid: 211, members: null\r\n    Group: _cvms, gid: 212, members: null\r\n    Group: _usbmuxd, gid: 213, members: null\r\n    Group: null, gid: null, members: _devicemgr,_calendar,_teamsserver,_xserverdocs\r\n    Group: _devicemgr, gid: 220, members: null\r\n    Group: null, gid: null, members: _teamsserver,_devicemgr\r\n    Group: _netbios, gid: 222, members: null\r\n    Group: null, gid: null, members: _warmd\r\n    Group: _dovenull, gid: 227, members: null\r\n    Group: _netstatistics, gid: 228, members: null\r\n    Group: _assetcache, gid: 235, members: null\r\n    Group: _coremediaiod, gid: 236, members: null\r\n    Group: _launchservicesd, gid: 239, members: null\r\n    Group: _iconservices, gid: 240, members: null\r\n    Group: _distnote, gid: 241, members: null\r\n    Group: _nsurlsessiond, gid: 242, members: null\r\n    Group: _nsurlstoraged, gid: 243, members: null\r\n    Group: _displaypolicyd, gid: 244, members: null\r\n    Group: _astris, gid: 245, members: null\r\n    Group: _gamecontrollerd, gid: 247, members: null\r\n    Group: _mbsetupuser, gid: 248, members: null\r\n    Group: _ondemand, gid: 249, members: null\r\n    Group: null, gid: null, members: _analyticsd,_networkd,_timed,_reportmemoryexception\r\n    Group: _xserverdocs, gid: 251, members: null\r\n    Group: _wwwproxy, gid: 252, members: null\r\n    Group: _mobileasset, gid: 253, members: null\r\n    Group: _findmydevice, gid: 254, members: null\r\n    Group: _datadetectors, gid: 257, members: null\r\n    Group: _captiveagent, gid: 258, members: null\r\n    Group: _ctkd, gid: 259, members: null\r\n    Group: _applepay, gid: 260, members: null\r\n    Group: _hidd, gid: 261, members: null\r\n    Group: _cmiodalassistants, gid: 262, members: null\r\n    Group: null, gid: null, members: _analyticsd\r\n    Group: _webdeveloper, gid: 264, members: null\r\n    Group: null, gid: null, members: _fpsd\r\n    Group: _timed, gid: 266, members: null\r\n    Group: null, gid: null, members: _reportmemoryexception\r\n    Group: com.apple.access_ftp, gid: 395, members: null\r\n    Group: com.apple.access_disabled, gid: 396, members: null\r\n    Group: com.apple.access_sessionkey, gid: 397, members: null\r\n    Group: com.apple.access_screensharing, gid: 398, members: null\r\n    Group: com.apple.access_ssh, gid: 399, members: null\r\n    Group: nobody, gid: -2, members: null\r\n    Group: nogroup, gid: -1, members: null\r\n    Group: null, gid: null, members: root\r\n    Group: null, gid: null, members: root\r\n    Group: null, gid: null, members: root\r\n    Group: null, gid: null, members: root\r\n    Group: null, gid: null, members: root\r\n    Group: null, gid: null, members: root\r\n    Group: null, gid: null, members: _teamsserver\r\n    Group: bin, gid: 7, members: null\r\n    Group: null, gid: null, members: root\r\n    Group: null, gid: null, members: root\r\n    Group: owner, gid: 10, members: null\r\n    Group: everyone, gid: 12, members: null\r\n    Group: null, gid: null, members: _taskgated\r\n    Group: group, gid: 16, members: null\r\n    Group: null, gid: null, members: root\r\n    Group: _networkd, gid: 24, members: null\r\n    Group: _installassistant, gid: 25, members: null\r\n    Group: _lp, gid: 26, members: null\r\n    Group: _postfix, gid: 27, members: null\r\n    Group: _postdrop, gid: 28, members: null\r\n    Group: null, gid: null, members: root,_jabber,_postfix,_cyrus,_calendar,_dovecot\r\n    Group: null, gid: null, members: _calendar,_jabber,_postfix\r\n    Group: _scsd, gid: 31, members: null\r\n    Group: _ces, gid: 32, members: null\r\n    Group: null, gid: null, members: _appstore\r\n    Group: utmp, gid: 45, members: null\r\n    Group: authedusers, gid: 50, members: null\r\n    Group: interactusers, gid: 51, members: null\r\n    Group: netusers, gid: 52, members: null\r\n    Group: consoleusers, gid: 53, members: null\r\n    Group: _mcxalr, gid: 54, members: null\r\n    Group: _appleevents, gid: 55, members: null\r\n    Group: _geod, gid: 56, members: null\r\n    Group: _devdocs, gid: 59, members: null\r\n    Group: _sandbox, gid: 60, members: null\r\n    Group: localaccounts, gid: 61, members: null\r\n    Group: netaccounts, gid: 62, members: null\r\n    Group: _mdnsresponder, gid: 65, members: null\r\n    Group: _uucp, gid: 66, members: null\r\n    Group: _ard, gid: 67, members: null\r\n    Group: dialer, gid: 68, members: null\r\n    Group: network, gid: 69, members: null\r\n    Group: null, gid: null, members: _devicemgr,_teamsserver\r\n    Group: null, gid: null, members: _eppc\r\n    Group: _cvs, gid: 72, members: null\r\n    Group: _svn, gid: 73, members: null\r\n    Group: _mysql, gid: 74, members: null\r\n    Group: _sshd, gid: 75, members: null\r\n    Group: _qtss, gid: 76, members: null\r\n    Group: _mailman, gid: 78, members: null\r\n    Group: _appserverusr, gid: 79, members: null\r\n    Group: null, gid: null, members: root\r\n    Group: _appserveradm, gid: 81, members: null\r\n    Group: _clamav, gid: 82, members: null\r\n    Group: _amavisd, gid: 83, members: null\r\n    Group: _jabber, gid: 84, members: null\r\n    Group: _appowner, gid: 87, members: null\r\n    Group: _windowserver, gid: 88, members: null\r\n    Group: _spotlight, gid: 89, members: null\r\n    Group: accessibility, gid: 90, members: null\r\n    Group: _tokend, gid: 91, members: null\r\n    Group: _securityagent, gid: 92, members: null\r\n    Group: null, gid: null, members: _teamsserver\r\n    Group: null, gid: null, members: _devicemgr\r\n    Group: _update_sharing, gid: 95, members: null\r\n    Group: _installer, gid: 96, members: null\r\n    Group: _atsserver, gid: 97, members: null\r\n    Group: _lpadmin, gid: 98, members: null\r\n    Group: _unknown, gid: 99, members: null\r\n    Group: _lpoperator, gid: 100, members: null\r\n    Group: null, gid: null, members: _softwareupdate\r\n    Group: _guest, gid: 201, members: null\r\n    Group: _coreaudiod, gid: 202, members: null\r\n    Group: _screensaver, gid: 203, members: null\r\n    Group: _developer, gid: 204, members: null\r\n    Group: _locationd, gid: 205, members: null\r\n    Group: null, gid: null, members: _locationd\r\n    Group: _trustevaluationagent, gid: 208, members: null\r\n    Group: null, gid: null, members: _teamsserver\r\n    Group: _timezone, gid: 210, members: null\r\n    Group: _lda, gid: 211, members: null\r\n    Group: _cvms, gid: 212, members: null\r\n    Group: _usbmuxd, gid: 213, members: null\r\n    Group: null, gid: null, members: _devicemgr,_calendar,_teamsserver,_xserverdocs\r\n    Group: _devicemgr, gid: 220, members: null\r\n    Group: null, gid: null, members: _teamsserver,_devicemgr\r\n    Group: _netbios, gid: 222, members: null\r\n    Group: null, gid: null, members: _warmd\r\n    Group: _dovenull, gid: 227, members: null\r\n    Group: _netstatistics, gid: 228, members: null\r\n    Group: _assetcache, gid: 235, members: null\r\n    Group: _coremediaiod, gid: 236, members: null\r\n    Group: _launchservicesd, gid: 239, members: null\r\n    Group: _iconservices, gid: 240, members: null\r\n    Group: _distnote, gid: 241, members: null\r\n    Group: _nsurlsessiond, gid: 242, members: null\r\n    Group: _nsurlstoraged, gid: 243, members: null\r\n    Group: _displaypolicyd, gid: 244, members: null\r\n    Group: _astris, gid: 245, members: null\r\n    Group: _gamecontrollerd, gid: 247, members: null\r\n    Group: _mbsetupuser, gid: 248, members: null\r\n    Group: _ondemand, gid: 249, members: null\r\n    Group: null, gid: null, members: _analyticsd,_networkd,_timed,_reportmemoryexception\r\n    Group: _xserverdocs, gid: 251, members: null\r\n    Group: _wwwproxy, gid: 252, members: null\r\n    Group: _mobileasset, gid: 253, members: null\r\n    Group: _findmydevice, gid: 254, members: null\r\n    Group: _datadetectors, gid: 257, members: null\r\n    Group: _captiveagent, gid: 258, members: null\r\n    Group: _ctkd, gid: 259, members: null\r\n    Group: _applepay, gid: 260, members: null\r\n    Group: _hidd, gid: 261, members: null\r\n    Group: _cmiodalassistants, gid: 262, members: null\r\n    Group: null, gid: null, members: _analyticsd\r\n    Group: _webdeveloper, gid: 264, members: null\r\n    Group: null, gid: null, members: _fpsd\r\n    Group: _timed, gid: 266, members: null\r\n    Group: null, gid: null, members: _reportmemoryexception\r\n    Group: com.apple.access_ftp, gid: 395, members: null\r\n    Group: com.apple.access_disabled, gid: 396, members: null\r\n    Group: com.apple.access_sessionkey, gid: 397, members: null\r\n    Group: com.apple.access_screensharing, gid: 398, members: null\r\n    Group: com.apple.access_ssh, gid: 399, members: null\r\n\r\nQuestion(s):\r\n\r\n1. This output doesn&#39;t seem ordered\r\n\r\n    Group: nobody, gid: -2, members: null\r\n\r\n    Group: nogroup, gid: -1, members: null\r\n    \r\nWhy am I getting this, in between nogroup and wheel?\r\n\r\n2. Is there a better way to extract these items? Why can&#39;t I see kmem or wheel anywhere?\r\n\r\n3. Is there a way to check / fix this via Streams?\r\n","title":"Java - Not getting right items using array and Streams to parse a file","body":"<p>Am trying to parse the /etc/group file on a macOS Mojave 10.14.3 operating system using Java 1.8's stream feature.</p>\n\n<p>The full set of lines inside my /etc/group file are as follows:</p>\n\n<pre><code>nobody:*:-2:\nnogroup:*:-1:\nwheel:*:0:root\ndaemon:*:1:root\nkmem:*:2:root\nsys:*:3:root\ntty:*:4:root\noperator:*:5:root\nmail:*:6:_teamsserver\nbin:*:7:\nprocview:*:8:root\nprocmod:*:9:root\nowner:*:10:\neveryone:*:12:\n_taskgated:*:13:_taskgated\ngroup:*:16:\nstaff:*:20:root\n_networkd:*:24:\n_installassistant:*:25:\n_lp:*:26:\n_postfix:*:27:\n_postdrop:*:28:\ncertusers:*:29:root,_jabber,_postfix,_cyrus,_calendar,_dovecot\n_keytabusers:*:30:_calendar,_jabber,_postfix\n_scsd:*:31:\n_ces:*:32:\n_appstore:*:33:_appstore\nutmp:*:45:\nauthedusers:*:50:\ninteractusers:*:51:\nnetusers:*:52:\nconsoleusers:*:53:\n_mcxalr:*:54:\n_appleevents:*:55:\n_geod:*:56:\n_devdocs:*:59:\n_sandbox:*:60:\nlocalaccounts:*:61:\nnetaccounts:*:62:\n_mdnsresponder:*:65:\n_uucp:*:66:\n_ard:*:67:\ndialer:*:68:\nnetwork:*:69:\n_www:*:70:_devicemgr,_teamsserver\n_eppc:*:71:_eppc\n_cvs:*:72:\n_svn:*:73:\n_mysql:*:74:\n_sshd:*:75:\n_qtss:*:76:\n_mailman:*:78:\n_appserverusr:*:79:\nadmin:*:80:root\n_appserveradm:*:81:\n_clamav:*:82:\n_amavisd:*:83:\n_jabber:*:84:\n_appowner:*:87:\n_windowserver:*:88:\n_spotlight:*:89:\naccessibility:*:90:\n_tokend:*:91:\n_securityagent:*:92:\n_calendar:*:93:_teamsserver\n_teamsserver:*:94:_devicemgr\n_update_sharing:*:95:\n_installer:*:96:\n_atsserver:*:97:\n_lpadmin:*:98:\n_unknown:*:99:\n_lpoperator:*:100:\n_softwareupdate:*:200:_softwareupdate\n_guest:*:201:\n_coreaudiod:*:202:\n_screensaver:*:203:\n_developer:*:204:\n_locationd:*:205:\n_detachedsig:*:207:_locationd\n_trustevaluationagent:*:208:\n_odchpass:*:209:_teamsserver\n_timezone:*:210:\n_lda:*:211:\n_cvms:*:212:\n_usbmuxd:*:213:\n_postgres:*:216:_devicemgr,_calendar,_teamsserver,_xserverdocs\n_devicemgr:*:220:\n_webauthserver:*:221:_teamsserver,_devicemgr\n_netbios:*:222:\n_warmd:*:224:_warmd\n_dovenull:*:227:\n_netstatistics:*:228:\n_assetcache:*:235:\n_coremediaiod:*:236:\n_launchservicesd:*:239:\n_iconservices:*:240:\n_distnote:*:241:\n_nsurlsessiond:*:242:\n_nsurlstoraged:*:243:\n_displaypolicyd:*:244:\n_astris:*:245:\n_gamecontrollerd:*:247:\n_mbsetupuser:*:248:\n_ondemand:*:249:\n_analyticsusers:*:250:_analyticsd,_networkd,_timed,_reportmemoryexception\n_xserverdocs:*:251:\n_wwwproxy:*:252:\n_mobileasset:*:253:\n_findmydevice:*:254:\n_datadetectors:*:257:\n_captiveagent:*:258:\n_ctkd:*:259:\n_applepay:*:260:\n_hidd:*:261:\n_cmiodalassistants:*:262:\n_analyticsd:*:263:_analyticsd\n_webdeveloper:*:264:\n_fpsd:*:265:_fpsd\n_timed:*:266:\n_reportmemoryexception:*:269:_reportmemoryexception\ncom.apple.access_ftp:*:395:\ncom.apple.access_disabled:*:396:\ncom.apple.access_sessionkey:*:397:\ncom.apple.access_screensharing:*:398:\ncom.apple.access_ssh:*:399:\n</code></pre>\n\n<p>Group.java:</p>\n\n<pre><code>public class Group {\n    private String gid;\n    private String name;\n    private String members;\n\n    public Group(String line) {\n        String[] items = line.split(\":\");\n\n        if (items.length &lt;= 3) {\n            this.name = items[0];\n            System.out.print(\"Name: \" + name + \", \");\n            this.gid = items[2];\n            System.out.print(\" gid: \" + gid + \", \");\n        }\n        else if (items.length &gt;=3 || this.name != null || \"\".equals(this.name)){\n            this.members = items[3];\n            System.out.println(\"Members: \" + members);\n        }\n    }\n\n    // Omitted getters &amp; setters for brevity\n\n}\n</code></pre>\n\n<p>Created this GroupsParser:</p>\n\n<pre><code>public class GroupParser {\n\n    public static List&lt;Group&gt; getAllGroups(String line) {\n        List&lt;Group&gt; groups = null;\n        try (Stream&lt;String&gt; stream = Files.lines(Paths.get(line))) {\n\n            groups = stream.filter(s -&gt; s.charAt(0) != '#').map(Group::new)\n                     .collect(Collectors.toCollection(ArrayList::new));\n        } \n        catch (Exception e) {\n            e.printStackTrace();\n        }\n        return groups;\n    }\n\n    public static void main(String[] args) {\n        List&lt;Group&gt; groups = GroupParser.getAllGroups(\"/etc/group\");\n        for (Group group : groups) {\n            System.out.println(\"Group: \" + group.getName() + \", gid: \" + group.getGid() + \", members: \" + group.getMembers());\n        }\n    }\n}\n</code></pre>\n\n<p>Received the following output (which is obviously out of order and missing some items):</p>\n\n<pre><code>Group: nobody, gid: -2, members: null\nGroup: nogroup, gid: -1, members: null\nGroup: null, gid: null, members: root\nGroup: null, gid: null, members: root\nGroup: null, gid: null, members: root\nGroup: null, gid: null, members: root\nGroup: null, gid: null, members: root\nGroup: null, gid: null, members: root\nGroup: null, gid: null, members: _teamsserver\nGroup: bin, gid: 7, members: null\nGroup: null, gid: null, members: root\nGroup: null, gid: null, members: root\nGroup: owner, gid: 10, members: null\nGroup: everyone, gid: 12, members: null\nGroup: null, gid: null, members: _taskgated\nGroup: group, gid: 16, members: null\nGroup: null, gid: null, members: root\nGroup: _networkd, gid: 24, members: null\nGroup: _installassistant, gid: 25, members: null\nGroup: _lp, gid: 26, members: null\nGroup: _postfix, gid: 27, members: null\nGroup: _postdrop, gid: 28, members: null\nGroup: null, gid: null, members: root,_jabber,_postfix,_cyrus,_calendar,_dovecot\nGroup: null, gid: null, members: _calendar,_jabber,_postfix\nGroup: _scsd, gid: 31, members: null\nGroup: _ces, gid: 32, members: null\nGroup: null, gid: null, members: _appstore\nGroup: utmp, gid: 45, members: null\nGroup: authedusers, gid: 50, members: null\nGroup: interactusers, gid: 51, members: null\nGroup: netusers, gid: 52, members: null\nGroup: consoleusers, gid: 53, members: null\nGroup: _mcxalr, gid: 54, members: null\nGroup: _appleevents, gid: 55, members: null\nGroup: _geod, gid: 56, members: null\nGroup: _devdocs, gid: 59, members: null\nGroup: _sandbox, gid: 60, members: null\nGroup: localaccounts, gid: 61, members: null\nGroup: netaccounts, gid: 62, members: null\nGroup: _mdnsresponder, gid: 65, members: null\nGroup: _uucp, gid: 66, members: null\nGroup: _ard, gid: 67, members: null\nGroup: dialer, gid: 68, members: null\nGroup: network, gid: 69, members: null\nGroup: null, gid: null, members: _devicemgr,_teamsserver\nGroup: null, gid: null, members: _eppc\nGroup: _cvs, gid: 72, members: null\nGroup: _svn, gid: 73, members: null\nGroup: _mysql, gid: 74, members: null\nGroup: _sshd, gid: 75, members: null\nGroup: _qtss, gid: 76, members: null\nGroup: _mailman, gid: 78, members: null\nGroup: _appserverusr, gid: 79, members: null\nGroup: null, gid: null, members: root\nGroup: _appserveradm, gid: 81, members: null\nGroup: _clamav, gid: 82, members: null\nGroup: _amavisd, gid: 83, members: null\nGroup: _jabber, gid: 84, members: null\nGroup: _appowner, gid: 87, members: null\nGroup: _windowserver, gid: 88, members: null\nGroup: _spotlight, gid: 89, members: null\nGroup: accessibility, gid: 90, members: null\nGroup: _tokend, gid: 91, members: null\nGroup: _securityagent, gid: 92, members: null\nGroup: null, gid: null, members: _teamsserver\nGroup: null, gid: null, members: _devicemgr\nGroup: _update_sharing, gid: 95, members: null\nGroup: _installer, gid: 96, members: null\nGroup: _atsserver, gid: 97, members: null\nGroup: _lpadmin, gid: 98, members: null\nGroup: _unknown, gid: 99, members: null\nGroup: _lpoperator, gid: 100, members: null\nGroup: null, gid: null, members: _softwareupdate\nGroup: _guest, gid: 201, members: null\nGroup: _coreaudiod, gid: 202, members: null\nGroup: _screensaver, gid: 203, members: null\nGroup: _developer, gid: 204, members: null\nGroup: _locationd, gid: 205, members: null\nGroup: null, gid: null, members: _locationd\nGroup: _trustevaluationagent, gid: 208, members: null\nGroup: null, gid: null, members: _teamsserver\nGroup: _timezone, gid: 210, members: null\nGroup: _lda, gid: 211, members: null\nGroup: _cvms, gid: 212, members: null\nGroup: _usbmuxd, gid: 213, members: null\nGroup: null, gid: null, members: _devicemgr,_calendar,_teamsserver,_xserverdocs\nGroup: _devicemgr, gid: 220, members: null\nGroup: null, gid: null, members: _teamsserver,_devicemgr\nGroup: _netbios, gid: 222, members: null\nGroup: null, gid: null, members: _warmd\nGroup: _dovenull, gid: 227, members: null\nGroup: _netstatistics, gid: 228, members: null\nGroup: _assetcache, gid: 235, members: null\nGroup: _coremediaiod, gid: 236, members: null\nGroup: _launchservicesd, gid: 239, members: null\nGroup: _iconservices, gid: 240, members: null\nGroup: _distnote, gid: 241, members: null\nGroup: _nsurlsessiond, gid: 242, members: null\nGroup: _nsurlstoraged, gid: 243, members: null\nGroup: _displaypolicyd, gid: 244, members: null\nGroup: _astris, gid: 245, members: null\nGroup: _gamecontrollerd, gid: 247, members: null\nGroup: _mbsetupuser, gid: 248, members: null\nGroup: _ondemand, gid: 249, members: null\nGroup: null, gid: null, members: _analyticsd,_networkd,_timed,_reportmemoryexception\nGroup: _xserverdocs, gid: 251, members: null\nGroup: _wwwproxy, gid: 252, members: null\nGroup: _mobileasset, gid: 253, members: null\nGroup: _findmydevice, gid: 254, members: null\nGroup: _datadetectors, gid: 257, members: null\nGroup: _captiveagent, gid: 258, members: null\nGroup: _ctkd, gid: 259, members: null\nGroup: _applepay, gid: 260, members: null\nGroup: _hidd, gid: 261, members: null\nGroup: _cmiodalassistants, gid: 262, members: null\nGroup: null, gid: null, members: _analyticsd\nGroup: _webdeveloper, gid: 264, members: null\nGroup: null, gid: null, members: _fpsd\nGroup: _timed, gid: 266, members: null\nGroup: null, gid: null, members: _reportmemoryexception\nGroup: com.apple.access_ftp, gid: 395, members: null\nGroup: com.apple.access_disabled, gid: 396, members: null\nGroup: com.apple.access_sessionkey, gid: 397, members: null\nGroup: com.apple.access_screensharing, gid: 398, members: null\nGroup: com.apple.access_ssh, gid: 399, members: null\nGroup: nobody, gid: -2, members: null\nGroup: nogroup, gid: -1, members: null\nGroup: null, gid: null, members: root\nGroup: null, gid: null, members: root\nGroup: null, gid: null, members: root\nGroup: null, gid: null, members: root\nGroup: null, gid: null, members: root\nGroup: null, gid: null, members: root\nGroup: null, gid: null, members: _teamsserver\nGroup: bin, gid: 7, members: null\nGroup: null, gid: null, members: root\nGroup: null, gid: null, members: root\nGroup: owner, gid: 10, members: null\nGroup: everyone, gid: 12, members: null\nGroup: null, gid: null, members: _taskgated\nGroup: group, gid: 16, members: null\nGroup: null, gid: null, members: root\nGroup: _networkd, gid: 24, members: null\nGroup: _installassistant, gid: 25, members: null\nGroup: _lp, gid: 26, members: null\nGroup: _postfix, gid: 27, members: null\nGroup: _postdrop, gid: 28, members: null\nGroup: null, gid: null, members: root,_jabber,_postfix,_cyrus,_calendar,_dovecot\nGroup: null, gid: null, members: _calendar,_jabber,_postfix\nGroup: _scsd, gid: 31, members: null\nGroup: _ces, gid: 32, members: null\nGroup: null, gid: null, members: _appstore\nGroup: utmp, gid: 45, members: null\nGroup: authedusers, gid: 50, members: null\nGroup: interactusers, gid: 51, members: null\nGroup: netusers, gid: 52, members: null\nGroup: consoleusers, gid: 53, members: null\nGroup: _mcxalr, gid: 54, members: null\nGroup: _appleevents, gid: 55, members: null\nGroup: _geod, gid: 56, members: null\nGroup: _devdocs, gid: 59, members: null\nGroup: _sandbox, gid: 60, members: null\nGroup: localaccounts, gid: 61, members: null\nGroup: netaccounts, gid: 62, members: null\nGroup: _mdnsresponder, gid: 65, members: null\nGroup: _uucp, gid: 66, members: null\nGroup: _ard, gid: 67, members: null\nGroup: dialer, gid: 68, members: null\nGroup: network, gid: 69, members: null\nGroup: null, gid: null, members: _devicemgr,_teamsserver\nGroup: null, gid: null, members: _eppc\nGroup: _cvs, gid: 72, members: null\nGroup: _svn, gid: 73, members: null\nGroup: _mysql, gid: 74, members: null\nGroup: _sshd, gid: 75, members: null\nGroup: _qtss, gid: 76, members: null\nGroup: _mailman, gid: 78, members: null\nGroup: _appserverusr, gid: 79, members: null\nGroup: null, gid: null, members: root\nGroup: _appserveradm, gid: 81, members: null\nGroup: _clamav, gid: 82, members: null\nGroup: _amavisd, gid: 83, members: null\nGroup: _jabber, gid: 84, members: null\nGroup: _appowner, gid: 87, members: null\nGroup: _windowserver, gid: 88, members: null\nGroup: _spotlight, gid: 89, members: null\nGroup: accessibility, gid: 90, members: null\nGroup: _tokend, gid: 91, members: null\nGroup: _securityagent, gid: 92, members: null\nGroup: null, gid: null, members: _teamsserver\nGroup: null, gid: null, members: _devicemgr\nGroup: _update_sharing, gid: 95, members: null\nGroup: _installer, gid: 96, members: null\nGroup: _atsserver, gid: 97, members: null\nGroup: _lpadmin, gid: 98, members: null\nGroup: _unknown, gid: 99, members: null\nGroup: _lpoperator, gid: 100, members: null\nGroup: null, gid: null, members: _softwareupdate\nGroup: _guest, gid: 201, members: null\nGroup: _coreaudiod, gid: 202, members: null\nGroup: _screensaver, gid: 203, members: null\nGroup: _developer, gid: 204, members: null\nGroup: _locationd, gid: 205, members: null\nGroup: null, gid: null, members: _locationd\nGroup: _trustevaluationagent, gid: 208, members: null\nGroup: null, gid: null, members: _teamsserver\nGroup: _timezone, gid: 210, members: null\nGroup: _lda, gid: 211, members: null\nGroup: _cvms, gid: 212, members: null\nGroup: _usbmuxd, gid: 213, members: null\nGroup: null, gid: null, members: _devicemgr,_calendar,_teamsserver,_xserverdocs\nGroup: _devicemgr, gid: 220, members: null\nGroup: null, gid: null, members: _teamsserver,_devicemgr\nGroup: _netbios, gid: 222, members: null\nGroup: null, gid: null, members: _warmd\nGroup: _dovenull, gid: 227, members: null\nGroup: _netstatistics, gid: 228, members: null\nGroup: _assetcache, gid: 235, members: null\nGroup: _coremediaiod, gid: 236, members: null\nGroup: _launchservicesd, gid: 239, members: null\nGroup: _iconservices, gid: 240, members: null\nGroup: _distnote, gid: 241, members: null\nGroup: _nsurlsessiond, gid: 242, members: null\nGroup: _nsurlstoraged, gid: 243, members: null\nGroup: _displaypolicyd, gid: 244, members: null\nGroup: _astris, gid: 245, members: null\nGroup: _gamecontrollerd, gid: 247, members: null\nGroup: _mbsetupuser, gid: 248, members: null\nGroup: _ondemand, gid: 249, members: null\nGroup: null, gid: null, members: _analyticsd,_networkd,_timed,_reportmemoryexception\nGroup: _xserverdocs, gid: 251, members: null\nGroup: _wwwproxy, gid: 252, members: null\nGroup: _mobileasset, gid: 253, members: null\nGroup: _findmydevice, gid: 254, members: null\nGroup: _datadetectors, gid: 257, members: null\nGroup: _captiveagent, gid: 258, members: null\nGroup: _ctkd, gid: 259, members: null\nGroup: _applepay, gid: 260, members: null\nGroup: _hidd, gid: 261, members: null\nGroup: _cmiodalassistants, gid: 262, members: null\nGroup: null, gid: null, members: _analyticsd\nGroup: _webdeveloper, gid: 264, members: null\nGroup: null, gid: null, members: _fpsd\nGroup: _timed, gid: 266, members: null\nGroup: null, gid: null, members: _reportmemoryexception\nGroup: com.apple.access_ftp, gid: 395, members: null\nGroup: com.apple.access_disabled, gid: 396, members: null\nGroup: com.apple.access_sessionkey, gid: 397, members: null\nGroup: com.apple.access_screensharing, gid: 398, members: null\nGroup: com.apple.access_ssh, gid: 399, members: null\n</code></pre>\n\n<p>Question(s):</p>\n\n<ol>\n<li><p>This output doesn't seem ordered</p>\n\n<p>Group: nobody, gid: -2, members: null</p>\n\n<p>Group: nogroup, gid: -1, members: null</p></li>\n</ol>\n\n<p>Why am I getting this, in between nogroup and wheel?</p>\n\n<ol start=\"2\">\n<li><p>Is there a better way to extract these items? Why can't I see kmem or wheel anywhere?</p></li>\n<li><p>Is there a way to check / fix this via Streams?</p></li>\n</ol>\n"},{"tags":["java","java-8","java-stream","grouping"],"answers":[{"tags":[],"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1553687241,"creation_date":1553687241,"answer_id":55376448,"question_id":55376332,"body_markdown":"You can use `flatMap` to map to `SimpleEntry` and then `groupingBy` as :\r\n\r\n    return items.stream()\r\n            .flatMap(p -&gt; p.getBelongsToCategories()\r\n                    .stream()\r\n                    .map(l -&gt; new AbstractMap.SimpleEntry&lt;&gt;(l, p)))\r\n            .collect(Collectors.groupingBy(Map.Entry::getKey,\r\n                    Collectors.mapping(Map.Entry::getValue,\r\n                            Collectors.toList())));","title":"How to group objects from a list which can belong to two or more groups?","body":"<p>You can use <code>flatMap</code> to map to <code>SimpleEntry</code> and then <code>groupingBy</code> as :</p>\n\n<pre><code>return items.stream()\n        .flatMap(p -&gt; p.getBelongsToCategories()\n                .stream()\n                .map(l -&gt; new AbstractMap.SimpleEntry&lt;&gt;(l, p)))\n        .collect(Collectors.groupingBy(Map.Entry::getKey,\n                Collectors.mapping(Map.Entry::getValue,\n                        Collectors.toList())));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4120139,"reputation":1,"user_id":3380739,"display_name":"user_3380739"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673222890,"creation_date":1553793469,"answer_id":55403475,"question_id":55376332,"body_markdown":"Here is the solution by `ListMultimap`, either from [Google Guava][1] or my library [abacus-common][2]\r\n\r\n    ListMultimap&lt;String, Item&gt; result = Multimaps.newListMultimap(new HashMap&lt;&gt;(), () -&gt; new ArrayList&lt;&gt;()); // by Google Guava.\r\n    // Or result = N.newListMultimap(); // By Abacus-Util\r\n    items.forEach(item -&gt; item.getBelongsToCategories().forEach(c -&gt; result.put(c, item)));\r\n\r\nI think it will be a little more efficient and concise without creating the unnecessary temporary `Entry` Objects by `flatMap`.\r\n\r\n  [1]: https://github.com/google/guava\r\n  [2]: https://github.com/landawn/abacus-common","title":"How to group objects from a list which can belong to two or more groups?","body":"<p>Here is the solution by <code>ListMultimap</code>, either from <a href=\"https://github.com/google/guava\" rel=\"nofollow noreferrer\">Google Guava</a> or my library <a href=\"https://github.com/landawn/abacus-common\" rel=\"nofollow noreferrer\">abacus-common</a></p>\n<pre><code>ListMultimap&lt;String, Item&gt; result = Multimaps.newListMultimap(new HashMap&lt;&gt;(), () -&gt; new ArrayList&lt;&gt;()); // by Google Guava.\n// Or result = N.newListMultimap(); // By Abacus-Util\nitems.forEach(item -&gt; item.getBelongsToCategories().forEach(c -&gt; result.put(c, item)));\n</code></pre>\n<p>I think it will be a little more efficient and concise without creating the unnecessary temporary <code>Entry</code> Objects by <code>flatMap</code>.</p>\n"},{"tags":[],"owner":{"account_id":1712726,"reputation":6528,"user_id":1570415,"display_name":"Donald Raab"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1553820090,"creation_date":1553818771,"answer_id":55408756,"question_id":55376332,"body_markdown":"You can use `groupByEach` from [Eclipse Collections][1].\r\n\r\n    Multimap&lt;String, Item&gt; itemsByCategory =\r\n            ListIterate.groupByEach(myItemList, Item::getBelongsToCategories);\r\n\r\n    System.out.println(itemsByCategory);\r\n\r\nOutput:\r\n\r\n    {D=[Item{id=4}, Item{id=5}], \r\n    E=[Item{id=5}], \r\n    F=[Item{id=6}], \r\n    A=[Item{id=1}, Item{id=2}, Item{id=6}], \r\n    B=[Item{id=1}, Item{id=3}], \r\n    C=[Item{id=2}, Item{id=3}]}\r\n\r\nYou can also use the `Collectors2` utility class and `groupByEach` Collector with a Java `Stream`. \r\n\r\n    Multimap&lt;String, Item&gt; itemsByCategory = myItemList.stream().collect(\r\n            Collectors2.groupByEach(\r\n                    Item::getBelongsToCategories,\r\n                    Multimaps.mutable.list::empty));\r\n\r\nNote: I am a committer for Eclipse Collections.\r\n\r\n\r\n  [1]: https://github.com/eclipse/eclipse-collections\r\n","title":"How to group objects from a list which can belong to two or more groups?","body":"<p>You can use <code>groupByEach</code> from <a href=\"https://github.com/eclipse/eclipse-collections\" rel=\"nofollow noreferrer\">Eclipse Collections</a>.</p>\n\n<pre><code>Multimap&lt;String, Item&gt; itemsByCategory =\n        ListIterate.groupByEach(myItemList, Item::getBelongsToCategories);\n\nSystem.out.println(itemsByCategory);\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>{D=[Item{id=4}, Item{id=5}], \nE=[Item{id=5}], \nF=[Item{id=6}], \nA=[Item{id=1}, Item{id=2}, Item{id=6}], \nB=[Item{id=1}, Item{id=3}], \nC=[Item{id=2}, Item{id=3}]}\n</code></pre>\n\n<p>You can also use the <code>Collectors2</code> utility class and <code>groupByEach</code> Collector with a Java <code>Stream</code>. </p>\n\n<pre><code>Multimap&lt;String, Item&gt; itemsByCategory = myItemList.stream().collect(\n        Collectors2.groupByEach(\n                Item::getBelongsToCategories,\n                Multimaps.mutable.list::empty));\n</code></pre>\n\n<p>Note: I am a committer for Eclipse Collections.</p>\n"}],"owner":{"account_id":11925161,"reputation":411,"user_id":8726657,"accept_rate":80,"display_name":"Trillian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":736,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":55376448,"answer_count":3,"score":7,"last_activity_date":1673222890,"creation_date":1553686846,"question_id":55376332,"body_markdown":"I have a list of Items where each Item can belong to one or more category. For a limited set of categories(string) I want to create a map with category as key and list of Items as value.  \r\n\r\nAssume my Item class is defined as shown below:\r\n\r\n    public static class Item{\r\n        long id;\r\n        List&lt;String&gt; belongsToCategories;\r\n\r\n        public List&lt;String&gt; getBelongsToCategories() {\r\n            return belongsToCategories;\r\n        }\r\n\r\n        public void setBelongsToCategories(List&lt;String&gt; belongsToCategories) {\r\n            this.belongsToCategories = belongsToCategories;\r\n        }\r\n\r\n        public Item(long id,List&lt;String&gt; belongsToCategories) {\r\n            this.id = id;\r\n            this.belongsToCategories = belongsToCategories;\r\n        } \r\n\r\n        @Override\r\n        public String toString() {\r\n            return &quot;Item{&quot; + &quot;id=&quot; + id + &#39;}&#39;;\r\n        }        \r\n    }\r\n\r\nand a list of Items:\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;Item&gt; myItemList   = new ArrayList&lt;&gt;();\r\n        \r\n        myItemList.add(new Item(1,Arrays.asList(&quot;A&quot;,&quot;B&quot;)));\r\n        myItemList.add(new Item(2,Arrays.asList(&quot;A&quot;,&quot;C&quot;)));\r\n        myItemList.add(new Item(3,Arrays.asList(&quot;B&quot;,&quot;C&quot;)));\r\n        myItemList.add(new Item(4,Arrays.asList(&quot;D&quot;)));\r\n        myItemList.add(new Item(5,Arrays.asList(&quot;D&quot;,&quot;E&quot;)));\r\n        myItemList.add(new Item(6,Arrays.asList(&quot;A&quot;,&quot;F&quot;)));\r\n        \r\n        Map&lt;String,List&lt;Item&gt;&gt; myMap= new HashMap&lt;&gt;();\r\n\r\nHow can i fill myMap from myList?\r\n\r\n\r\nI thought Stream API could help, but I don&#39;t know which classifier to put in the groupingBy method when an Item can belong to one or more categories  \r\n\r\n\r\n     myItemList.stream().collect(Collectors.groupingBy(classifier));\r\n\r\nThis\r\n\r\n    myItemList.stream().collect(Collectors.groupingBy(Item::getBelongsToCategories));\r\n\r\nproduces\r\n\r\n    [D, E]=[Item{id=5}]\r\n    [B, C]=[Item{id=3}]\r\n    [A, B]=[Item{id=1}]\r\n    [D]=[Item{id=4}]\r\n    [A, C]=[Item{id=2}]\r\n    [A, F]=[Item{id=6}]\r\n\r\nexpected is tough something like:\r\n\r\n\r\n    A=[Item{id=1}, Item{id=2}, Item{id=6}]\r\n    B=[Item{id=1}, Item{id=3}]\r\n    C=[Item{id=2}, Item{id=3}]\r\n    D=[Item{id=4}, Item{id=5}]\r\n    E=[Item{id=5}]\r\n    F=[Item{id=6}]","title":"How to group objects from a list which can belong to two or more groups?","body":"<p>I have a list of Items where each Item can belong to one or more category. For a limited set of categories(string) I want to create a map with category as key and list of Items as value.  </p>\n\n<p>Assume my Item class is defined as shown below:</p>\n\n<pre><code>public static class Item{\n    long id;\n    List&lt;String&gt; belongsToCategories;\n\n    public List&lt;String&gt; getBelongsToCategories() {\n        return belongsToCategories;\n    }\n\n    public void setBelongsToCategories(List&lt;String&gt; belongsToCategories) {\n        this.belongsToCategories = belongsToCategories;\n    }\n\n    public Item(long id,List&lt;String&gt; belongsToCategories) {\n        this.id = id;\n        this.belongsToCategories = belongsToCategories;\n    } \n\n    @Override\n    public String toString() {\n        return \"Item{\" + \"id=\" + id + '}';\n    }        \n}\n</code></pre>\n\n<p>and a list of Items:</p>\n\n<pre><code>public static void main(String[] args) {\n    List&lt;Item&gt; myItemList   = new ArrayList&lt;&gt;();\n\n    myItemList.add(new Item(1,Arrays.asList(\"A\",\"B\")));\n    myItemList.add(new Item(2,Arrays.asList(\"A\",\"C\")));\n    myItemList.add(new Item(3,Arrays.asList(\"B\",\"C\")));\n    myItemList.add(new Item(4,Arrays.asList(\"D\")));\n    myItemList.add(new Item(5,Arrays.asList(\"D\",\"E\")));\n    myItemList.add(new Item(6,Arrays.asList(\"A\",\"F\")));\n\n    Map&lt;String,List&lt;Item&gt;&gt; myMap= new HashMap&lt;&gt;();\n</code></pre>\n\n<p>How can i fill myMap from myList?</p>\n\n<p>I thought Stream API could help, but I don't know which classifier to put in the groupingBy method when an Item can belong to one or more categories  </p>\n\n<pre><code> myItemList.stream().collect(Collectors.groupingBy(classifier));\n</code></pre>\n\n<p>This</p>\n\n<pre><code>myItemList.stream().collect(Collectors.groupingBy(Item::getBelongsToCategories));\n</code></pre>\n\n<p>produces</p>\n\n<pre><code>[D, E]=[Item{id=5}]\n[B, C]=[Item{id=3}]\n[A, B]=[Item{id=1}]\n[D]=[Item{id=4}]\n[A, C]=[Item{id=2}]\n[A, F]=[Item{id=6}]\n</code></pre>\n\n<p>expected is tough something like:</p>\n\n<pre><code>A=[Item{id=1}, Item{id=2}, Item{id=6}]\nB=[Item{id=1}, Item{id=3}]\nC=[Item{id=2}, Item{id=3}]\nD=[Item{id=4}, Item{id=5}]\nE=[Item{id=5}]\nF=[Item{id=6}]\n</code></pre>\n"},{"tags":["java","json","gson","json-deserialization"],"answers":[{"tags":[],"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673222630,"creation_date":1673222630,"answer_id":75052176,"question_id":74940292,"body_markdown":"Gson unfortunately does not provide this functionality out of the box at the moment, see the [corresponding feature request](https://github.com/google/gson/issues/61). And it does not [detect unknown fields](https://github.com/google/gson/issues/188) either.\r\n\r\nMaybe the answers to the question https://stackoverflow.com/q/21626690 are helpful. You could also try to write a generic `TypeAdapterFactory` yourself which gets the fields of a class and checks if values for them are present in the JSON data, but such code might be difficult to maintain and would not integrate well with other Gson features, such as custom field naming or exclusion strategies.\r\n\r\nFor now it might be best to check if there any third-party extension libraries for Gson which offer this feature, or if other JSON libraries have better support for this.","title":"GSON: Cannot detect corrupted field names at deserialization","body":"<p>Gson unfortunately does not provide this functionality out of the box at the moment, see the <a href=\"https://github.com/google/gson/issues/61\" rel=\"nofollow noreferrer\">corresponding feature request</a>. And it does not <a href=\"https://github.com/google/gson/issues/188\" rel=\"nofollow noreferrer\">detect unknown fields</a> either.</p>\n<p>Maybe the answers to the question <a href=\"https://stackoverflow.com/q/21626690\">Gson optional and required fields</a> are helpful. You could also try to write a generic <code>TypeAdapterFactory</code> yourself which gets the fields of a class and checks if values for them are present in the JSON data, but such code might be difficult to maintain and would not integrate well with other Gson features, such as custom field naming or exclusion strategies.</p>\n<p>For now it might be best to check if there any third-party extension libraries for Gson which offer this feature, or if other JSON libraries have better support for this.</p>\n"}],"owner":{"account_id":17107134,"reputation":73,"user_id":12378913,"display_name":"Timofey X"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75052176,"answer_count":1,"score":0,"last_activity_date":1673222630,"creation_date":1672230712,"question_id":74940292,"body_markdown":"I want to deserialize a field and be sure that no errors occurred, every field was read. If something is wrong with json file, I want to know.\r\n\r\n    private static class A {\r\n        int x;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        Gson gson = new Gson();\r\n        A a;\r\n        try {\r\n            Reader reader = new StringReader(&quot;{\\&quot;y\\&quot;:10}&quot;);\r\n            a = gson.getAdapter(A.class).fromJson(reader);\r\n        } catch (IOException | JsonSyntaxException e) {\r\n            System.out.println(e.getMessage());\r\n            return;\r\n        }\r\n    }\r\n\r\nIn this example I changed field name in json string from `x` to `y`. I expected to get an exception. It doesn&#39;t occur, but `a.x` is initialized to zero.\r\n\r\nHow do I check that every field has been read?","title":"GSON: Cannot detect corrupted field names at deserialization","body":"<p>I want to deserialize a field and be sure that no errors occurred, every field was read. If something is wrong with json file, I want to know.</p>\n<pre><code>private static class A {\n    int x;\n}\n\npublic static void main(String[] args) {\n    Gson gson = new Gson();\n    A a;\n    try {\n        Reader reader = new StringReader(&quot;{\\&quot;y\\&quot;:10}&quot;);\n        a = gson.getAdapter(A.class).fromJson(reader);\n    } catch (IOException | JsonSyntaxException e) {\n        System.out.println(e.getMessage());\n        return;\n    }\n}\n</code></pre>\n<p>In this example I changed field name in json string from <code>x</code> to <code>y</code>. I expected to get an exception. It doesn't occur, but <code>a.x</code> is initialized to zero.</p>\n<p>How do I check that every field has been read?</p>\n"},{"tags":["java","amazon-s3","encryption"],"owner":{"account_id":1448228,"reputation":3218,"user_id":1366016,"accept_rate":60,"display_name":"Wheezil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":203,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1673221342,"creation_date":1673221342,"question_id":75052079,"body_markdown":"We are attempting to migrate our application to use AWS/S3 SDK v2.  To that end I&#39;ve updated our maven dependencies:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n      &lt;artifactId&gt;bom&lt;/artifactId&gt;\r\n      &lt;version&gt;2.19.12&lt;/version&gt;\r\n      &lt;type&gt;pom&lt;/type&gt;\r\n      &lt;scope&gt;import&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nThe changes are mostly obvious, but when we get to using client-side encryption, things are confusing.  I&#39;ve found pages that talk about migrating the encryption client to V2:\r\n\r\nhttps://aws.amazon.com/blogs/developer/updates-to-the-amazon-s3-encryption-client/\r\n\r\nhttps://docs.aws.amazon.com/sdk-for-java/v1/developer-guide/s3-encryption-migration.html\r\n\r\nBut the required classes like `AmazonS3EncryptionClientV2` do not exist in the SDK BOM.  Searching for the maven dependency, I can find https://mvnrepository.com/artifact/com.amazonaws/aws-encryption-sdk-java/2.4.0, but that shows it is dependent on the v1 `com.amazonaws:aws-java-sdk` version 1.12.162.  Oddly, it also depends on the v2 `software.amazon.awssdk:kms`.\r\n\r\nNow I am confused.  I feel like &quot;SDK V2&quot; and &quot;encryption client V2&quot; refer to a different &quot;V2&quot;.  Did I find the right encryption artifact?  Can the v2 SDK be used with client-side encryption?  Do I just plow ahead and try it?","title":"Using AWS/S3 SDK v2 with client-side encryption in Java","body":"<p>We are attempting to migrate our application to use AWS/S3 SDK v2.  To that end I've updated our maven dependencies:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n  &lt;artifactId&gt;bom&lt;/artifactId&gt;\n  &lt;version&gt;2.19.12&lt;/version&gt;\n  &lt;type&gt;pom&lt;/type&gt;\n  &lt;scope&gt;import&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>The changes are mostly obvious, but when we get to using client-side encryption, things are confusing.  I've found pages that talk about migrating the encryption client to V2:</p>\n<p><a href=\"https://aws.amazon.com/blogs/developer/updates-to-the-amazon-s3-encryption-client/\" rel=\"nofollow noreferrer\">https://aws.amazon.com/blogs/developer/updates-to-the-amazon-s3-encryption-client/</a></p>\n<p><a href=\"https://docs.aws.amazon.com/sdk-for-java/v1/developer-guide/s3-encryption-migration.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/sdk-for-java/v1/developer-guide/s3-encryption-migration.html</a></p>\n<p>But the required classes like <code>AmazonS3EncryptionClientV2</code> do not exist in the SDK BOM.  Searching for the maven dependency, I can find <a href=\"https://mvnrepository.com/artifact/com.amazonaws/aws-encryption-sdk-java/2.4.0\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/com.amazonaws/aws-encryption-sdk-java/2.4.0</a>, but that shows it is dependent on the v1 <code>com.amazonaws:aws-java-sdk</code> version 1.12.162.  Oddly, it also depends on the v2 <code>software.amazon.awssdk:kms</code>.</p>\n<p>Now I am confused.  I feel like &quot;SDK V2&quot; and &quot;encryption client V2&quot; refer to a different &quot;V2&quot;.  Did I find the right encryption artifact?  Can the v2 SDK be used with client-side encryption?  Do I just plow ahead and try it?</p>\n"},{"tags":["java","rounding","bigdecimal"],"comments":[{"owner":{"account_id":4728704,"reputation":17032,"user_id":3824919,"display_name":"Tom"},"score":1,"creation_date":1673221487,"post_id":75052077,"comment_id":132443555,"body_markdown":"Wrong approach. Use the rounding you need for your further work and strip trailing zeros when you don&#39;t need them.","body":"Wrong approach. Use the rounding you need for your further work and strip trailing zeros when you don&#39;t need them."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1673223577,"post_id":75052077,"comment_id":132443794,"body_markdown":"Those numbers look like exact representations of `double` values that would normally represent decimal values with smaller numbers of decimal places.  You could convert your input to a `double` then pass the result to `BigDecimal.valueOf`.  That would give you values that correspond to these &quot;shorter&quot; decimals.","body":"Those numbers look like exact representations of <code>double</code> values that would normally represent decimal values with smaller numbers of decimal places.  You could convert your input to a <code>double</code> then pass the result to <code>BigDecimal.valueOf</code>.  That would give you values that correspond to these &quot;shorter&quot; decimals."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1673235773,"post_id":75052077,"comment_id":132445214,"body_markdown":"Is your example data true and accurate?","body":"Is your example data true and accurate?"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1673235931,"post_id":75052077,"comment_id":132445226,"body_markdown":"@DawoodibnKareem Actually, `Double.toString( 3.74d )` is `3.74`. And `Double.toString( 3.7d )` is `3.7`.  See [code run at Ideone.com](https://ideone.com/u3TcC3).","body":"@DawoodibnKareem Actually, <code>Double.toString( 3.74d )</code> is <code>3.74</code>. And <code>Double.toString( 3.7d )</code> is <code>3.7</code>.  See <a href=\"https://ideone.com/u3TcC3\" rel=\"nofollow noreferrer\">code run at Ideone.com</a>."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1673250098,"post_id":75052077,"comment_id":132447363,"body_markdown":"@BasilBourque I&#39;m not sure whether you think you&#39;re disagreeing with me.  The method that I suggested will give OP the BigDecimal objects that they&#39;re looking for.","body":"@BasilBourque I&#39;m not sure whether you think you&#39;re disagreeing with me.  The method that I suggested will give OP the BigDecimal objects that they&#39;re looking for."}],"owner":{"account_id":24918196,"reputation":95,"user_id":18786837,"display_name":"it.drive.view"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1673221340,"creation_date":1673221340,"question_id":75052077,"body_markdown":"i know how rounding BigDecimal with the API,\r\nbut i actually work witjh a remote API which\r\nsends to me unformated and not rounded BigDecimals.\r\n\r\nAs examples, the API back-end returns to me\r\n\r\n    3.70000000000000017763568394002504646778106689453125\r\nwhich invites me to do something like \r\n\r\n    myBg.setScale(1,RoudingMode.HALF_EVEN);\r\n\r\nwhen API back-end returns to me\r\n\r\n    3.74000000000000017763568394002504646778106689453125\r\nit invited me to do something like \r\n\r\n    myBg.setScale(2,RoudingMode.HALF_EVEN);\r\n\r\nSo my question is :\r\nis there a way to guess the adhoc scale/rounding to apply to the BigDecimal\r\nwithout parse the BigDecimal and counting the numbers of 0 inside the number\r\n\r\n    3.74 --&gt; 0000000000000 &lt;-- 17763568394002504646778106689453125\r\n\r\nThanks by advance.\r\n","title":"BigDecimal rounding when not knowing desired scale","body":"<p>i know how rounding BigDecimal with the API,\nbut i actually work witjh a remote API which\nsends to me unformated and not rounded BigDecimals.</p>\n<p>As examples, the API back-end returns to me</p>\n<pre><code>3.70000000000000017763568394002504646778106689453125\n</code></pre>\n<p>which invites me to do something like</p>\n<pre><code>myBg.setScale(1,RoudingMode.HALF_EVEN);\n</code></pre>\n<p>when API back-end returns to me</p>\n<pre><code>3.74000000000000017763568394002504646778106689453125\n</code></pre>\n<p>it invited me to do something like</p>\n<pre><code>myBg.setScale(2,RoudingMode.HALF_EVEN);\n</code></pre>\n<p>So my question is :\nis there a way to guess the adhoc scale/rounding to apply to the BigDecimal\nwithout parse the BigDecimal and counting the numbers of 0 inside the number</p>\n<pre><code>3.74 --&gt; 0000000000000 &lt;-- 17763568394002504646778106689453125\n</code></pre>\n<p>Thanks by advance.</p>\n"},{"tags":["java","json","protocol-buffers"],"comments":[{"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1577383017,"post_id":59491035,"comment_id":105157932,"body_markdown":"That&#39;s very simplistic JSON, and strings gain you the least benefit (a string is a string pretty much. Now, a number... that is significantly easier to read (and costs far fewer bytes) in PB vs. JSON).","body":"That&#39;s very simplistic JSON, and strings gain you the least benefit (a string is a string pretty much. Now, a number... that is significantly easier to read (and costs far fewer bytes) in PB vs. JSON)."},{"owner":{"account_id":17218780,"reputation":11,"user_id":12466058,"display_name":"hyz4010"},"score":0,"creation_date":1577417776,"post_id":59491035,"comment_id":105165137,"body_markdown":"Thx for ur answering. I cannot get ur point. The request and definition is absolutely same between Pb and Json. And i know the fact that string consumes more than number. But i still want to know the reason why Pb consumes so much memory than Json in multi-threads case.","body":"Thx for ur answering. I cannot get ur point. The request and definition is absolutely same between Pb and Json. And i know the fact that string consumes more than number. But i still want to know the reason why Pb consumes so much memory than Json in multi-threads case."}],"answers":[{"comments":[{"owner":{"account_id":17218780,"reputation":11,"user_id":12466058,"display_name":"hyz4010"},"score":0,"creation_date":1577417888,"post_id":59495038,"comment_id":105165156,"body_markdown":"Thx for ur answering first. And i did do the exactly same nested definition in protoBuf and Json to make sure the fairness. But it&#39;s my fault to not mention that in my question.","body":"Thx for ur answering first. And i did do the exactly same nested definition in protoBuf and Json to make sure the fairness. But it&#39;s my fault to not mention that in my question."},{"owner":{"account_id":7027398,"reputation":21375,"user_id":5384363,"accept_rate":64,"display_name":"for_stack"},"score":1,"creation_date":1577434362,"post_id":59495038,"comment_id":105168675,"body_markdown":"I tried your example, and parsed both json and protobuf with C++. Protobuf parser is 6 times faster than JSON parser.","body":"I tried your example, and parsed both json and protobuf with C++. Protobuf parser is 6 times faster than JSON parser."},{"owner":{"account_id":17218780,"reputation":11,"user_id":12466058,"display_name":"hyz4010"},"score":0,"creation_date":1577670057,"post_id":59495038,"comment_id":105220609,"body_markdown":"EH...Why are the results so much different between this two language?Did you do the test using multi threads? As far as i&#39;m concerned, in my case almost full of string fields, there should be loss in pb performance. I wonder if pb consumes more memory when it decodes strings by a array copy, while json doesn&#39;t.","body":"EH...Why are the results so much different between this two language?Did you do the test using multi threads? As far as i&#39;m concerned, in my case almost full of string fields, there should be loss in pb performance. I wonder if pb consumes more memory when it decodes strings by a array copy, while json doesn&#39;t."}],"tags":[],"owner":{"account_id":7027398,"reputation":21375,"user_id":5384363,"accept_rate":64,"display_name":"for_stack"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1577409839,"creation_date":1577409839,"answer_id":59495038,"question_id":59491035,"body_markdown":"The comparison is unfair. Your Protobuf definition is nested, while your JSON definition is flat. If you want to do a fair comparison, make your JSON nested or make the Protobuf flat:\r\n\r\nMake JSON nested:\r\n\r\n```\r\n{\r\n &quot;tInfo&quot; : {&quot;mNo&quot; : &quot;xxxx&quot;, &quot;tNo&quot; : &quot;xxxx&quot;, &quot;other&quot; : &quot;fields&quot;},\r\n &quot;time&quot; : &quot;2019-11-11 18:23:00&quot;,\r\n &quot;message&quot; : &quot;Crash&quot;,\r\n &quot;thought&quot; : {&quot;logic&quot; : &quot;xxx&quot;, &quot;other&quot; : &quot;fields&quot;}\r\n} \r\n```","title":"Why does protocol buffer performance worse than JSON in my case?","body":"<p>The comparison is unfair. Your Protobuf definition is nested, while your JSON definition is flat. If you want to do a fair comparison, make your JSON nested or make the Protobuf flat:</p>\n\n<p>Make JSON nested:</p>\n\n<pre><code>{\n \"tInfo\" : {\"mNo\" : \"xxxx\", \"tNo\" : \"xxxx\", \"other\" : \"fields\"},\n \"time\" : \"2019-11-11 18:23:00\",\n \"message\" : \"Crash\",\n \"thought\" : {\"logic\" : \"xxx\", \"other\" : \"fields\"}\n} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":4382998,"reputation":406,"user_id":3574093,"display_name":"Florian Enner"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673221340,"creation_date":1673221340,"answer_id":75052076,"question_id":59491035,"body_markdown":"Every serialization mechanism has strengths and weaknesses. From memory I&#39;d say it looks roughly like this:\r\n\r\n|Serialization: cheap (+) / expensive (-)| Protobuf | JSON|\r\n|---------------------|------------------|------------------|\r\n|primitives (numbers/bool/enum) | `+` | `-`|\r\n|raw bytes | `+` | `-`|\r\n|skipping content| `+` | `-`|\r\n|nested messages | `-` | `+`|\r\n|strings | `-` | `+` |\r\n\r\nProtobuf encodes Strings and nested messages as length delimited data, so each string is prepended by the length of the string in bytes. This was a deliberate choice and has benefits when parsing (e.g. lazy parsing strings and efficient skipping), but it does add a cost to serialization. Implementations may need to precompute the length and effectively convert the string to bytes twice. JSON uses a start and end character, so it can directly stream into an output buffer. The difference gets smaller with caching, but Protobuf always has to do more work to encode a String than JSON.\r\n\r\nGiven that your protos only contain strings and nested messages, I wouldn&#39;t expect a lot of performance gains purely from switching to Protobuf. It may gain some speed on the field identifiers, but your field names were already shortened to a point where they are barely human readable.\r\n\r\nOn the other hand, several of your strings look like numbers and base64 encoded data. Switching those to Protobuf&#39;s `primitive` and `bytes`  types would be a lot more efficient and should provide a significant good speedup.","title":"Why does protocol buffer performance worse than JSON in my case?","body":"<p>Every serialization mechanism has strengths and weaknesses. From memory I'd say it looks roughly like this:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Serialization: cheap (+) / expensive (-)</th>\n<th>Protobuf</th>\n<th>JSON</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>primitives (numbers/bool/enum)</td>\n<td><code>+</code></td>\n<td><code>-</code></td>\n</tr>\n<tr>\n<td>raw bytes</td>\n<td><code>+</code></td>\n<td><code>-</code></td>\n</tr>\n<tr>\n<td>skipping content</td>\n<td><code>+</code></td>\n<td><code>-</code></td>\n</tr>\n<tr>\n<td>nested messages</td>\n<td><code>-</code></td>\n<td><code>+</code></td>\n</tr>\n<tr>\n<td>strings</td>\n<td><code>-</code></td>\n<td><code>+</code></td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>Protobuf encodes Strings and nested messages as length delimited data, so each string is prepended by the length of the string in bytes. This was a deliberate choice and has benefits when parsing (e.g. lazy parsing strings and efficient skipping), but it does add a cost to serialization. Implementations may need to precompute the length and effectively convert the string to bytes twice. JSON uses a start and end character, so it can directly stream into an output buffer. The difference gets smaller with caching, but Protobuf always has to do more work to encode a String than JSON.</p>\n<p>Given that your protos only contain strings and nested messages, I wouldn't expect a lot of performance gains purely from switching to Protobuf. It may gain some speed on the field identifiers, but your field names were already shortened to a point where they are barely human readable.</p>\n<p>On the other hand, several of your strings look like numbers and base64 encoded data. Switching those to Protobuf's <code>primitive</code> and <code>bytes</code>  types would be a lot more efficient and should provide a significant good speedup.</p>\n"}],"owner":{"account_id":17218780,"reputation":11,"user_id":12466058,"display_name":"hyz4010"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1070,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1673221340,"creation_date":1577378112,"question_id":59491035,"body_markdown":"I&#39;m doing a test between protocol buffers and json, but i find the performance of protocol buffers out of my expectation. I wonder if my http request is too complicated or protocol buffers just is not appropriate in my case. Here&#39;s my http request: \r\n``` java\r\n{ \r\n&quot;LogId&quot;: &quot;ABC165416515166165484165164132&quot;,\r\n&quot;ci_came&quot;: &quot;uvInYKaMbhcyBm4p&quot;,\r\n&quot;ci_cme&quot;: &quot;GWPMzgSwKzEZ5Mmz&quot;,\r\n&quot;ci_me&quot;: &quot;gqHVRaSDTeksgijHM18QzajcVh21bBAq0TkknIXBQnkGKAPQbsZG35cDG6usAxwoxxiey9AnKbsN&quot;,\r\n&quot;ci_pi&quot;: &quot;U6dpu0828Q0NNP5JRgVvCMgnn41poxfPlzhwU6FdBOrFsujzskD0HKTcQAXBcXgaOuYcckGtZDs9roJsK&quot;,\r\n&quot;th_logic&quot;: &quot;IUPPORTxr_17_iIT_yiIS=[LthyOy.gitg.warmh;@6icy855 vxrsionCorx=1 uiyRr=msm8953 uiOTLOyrxR=unknown uPx=ujij Ir=N2G47H TIMx=1541178617000 iRyNr=gitrI TyG=iuilr HyRrWyRx=qyum jijIyL=1743iC101955 SUPPORTxr_yiIS=[Lhug.hxng.warmh;@5ic26y CPU_yiI=yrm17-v8y IS_rxiUGGyiLx=fylsx RyrIO=unknown MyNUFyCTURxR=gitrI IS_xMULyTOR=fylsx SUPPORTxr_32_iIT_yiIS=[Lhug.gitg.warmh;@xr9170c TyGS=txst-kxys CPU_yiI2= UNKNOWN=unknown PxRMISSIONS_RxVIxW_RxQUIRxr=fylsx Ujij=iuilrxr FINGxRPRINT=firxtruck/msm8953_17/msm8953_17:7.1.2/N2G47H/iuilrx11081144:ujij/txst-kxys HltT=gitriXM-iuilrxr-03 vxrsionNymx=1.0 PROrUCT=yxCR C10 rISPLyY=N2G47H txst-kxys MOrxL=yxCR C10 rxVICx=yxCR C10 hug.gitg.yrithmxticxxcxption: rivirx iy hxro yt yum.upspacepyy.fycxpyy.yummxnt.vixw.SxttingItxmFrygmxnt.onClick(SxttingItxmFrygmxnt.hug:117) yt ynrroir.vixw.Vixw.pxrformClick(Vixw.hug:5637) yt ynrroir.vixw.Vixw$PxrformClick.run(Vixw.hug:22433) yt ynrroir.lt.Hynrlxr.hynrlxCylliyck(Hynrlxr.hug:751) yt ynrroir.lt.Hynrlxr.rispytchMxssygx(Hynrlxr.hug:95)rimrgrilsTiiUxpXiHxXoOxX8kRituil&quot;,\r\n&quot;th_ideal&quot;: &quot;TqpXdC5NQF&quot;,\r\n&quot;th_sth&quot;: &quot;YTVMYUSuprQzHaQLgRdvxp0g8nLWdEZBc0UfrcyrQv09CKPBuacEesMfoiXqXHP2G2Duvmnzmv20iBBQKCuAk1piKvS9MvR9ymxD5YYahyBsdoWetqKjAuTBS115rqwDGhe2qDWMcRnZF3QF9f4WF5sJsFlmxroZzprR&quot;,\r\n&quot;th_err&quot;: &quot;StGMzqIW1YGg44GC&quot;,\r\n&quot;th_code&quot;: &quot;zrhwEaVmVlNPTUZCCO0j62bFjL6Sjnb8JxNng645fQOMlxA5ceKOwH67aYkK0FnM3vKMpXAbdLwCWAyVUjuvcH1&quot;,\r\n&quot;th_req&quot;: &quot;ZWZXPUr6O4jYrXjLXlXskem7jHQ6D&quot;,\r\n&quot;th_index&quot;: &quot;6546546546&quot;,\r\n&quot;th_log&quot;: &quot;3Gt8V7LMxUMlvHPzcVUYCQl8zvwaDfDEzWn7GxOHbzf9quoZFTl2WwFRpMox2V8zfjbOQiIg4dxjf0x1vWGKHhvnmabXCO5jDWVE33TgI0YTJO14uYEnezdzYDoeR51&quot;,\r\n&quot;th_order&quot;: &quot;T28XGCx1O3LCGa98lAtWc33&quot;,\r\n&quot;message&quot;: &quot;Crash&quot;,\r\n&quot;time&quot;: &quot;2019-11-11 18:23:00&quot;,\r\n&quot;ci_vi&quot;: &quot;RCgdDu5874sJohjEVy7i72Kcp98rCOJvl&quot;,\r\n&quot;t_mNo&quot;: &quot;1.9&quot;,\r\n&quot;t_tNo&quot;: &quot;Gxk9Vb3zblp2PHpYTQzTXmzx43WaEtZmA3CWFfXtPsDZFgaAIug5mbX73w4wQvwNL65BEOW3fd7wExndzm3eilp4jODtHZQaV5G574FPfK&quot;,\r\n&quot;t_fd&quot;: &quot;k58xs1eYKTvDxbRMWfPJMdB6tfBnGaOLAnmDUZxo2URebvtd8F&quot;,\r\n&quot;t_pd&quot;: &quot;jWl7CTWdmgVFZxA&quot;,\r\n&quot;t_oer&quot;: &quot;HHoLyXNYxKHqZgpev9vi&quot;,\r\n&quot;t_ar&quot;: &quot;J6m4X9ATlADGaKUzi1eb&quot;,\r\n&quot;t_sr&quot;: &quot;daP&quot;,\r\n&quot;t_sd&quot;: &quot;AgXPBAaOrA95b9PM4196BQaLsVN9j9&quot;,\r\n&quot;t_sn&quot;: &quot;1Ai4lFVObo0MymeJ894m0jItjiwhcD&quot;,\r\n&quot;t_dd&quot;: &quot;zLuh1p1G&quot;,\r\n&quot;timeS&quot;: &quot;2019-11-11 18:22:58&quot; \r\n} \r\n``` \r\nHere&#39;s my proto file: \r\n```java \r\nmessage Scada {\r\n TechInfo tInfo = 1;\r\n string time = 2;\r\n string message = 3;\r\n Thought thought = 4;\r\n} \r\nmessage TechInfo {\r\n string mNo = 1;\r\n string tNo = 2;\r\n string fd = 3;\r\n string pd = 4;\r\n string oer = 5;\r\n string ar = 6;\r\n Ci cd = 7;\r\n string sr = 8;\r\n string sd = 9;\r\n string sn = 10;\r\n string dd = 11; \r\n} \r\nmessage Ci{\r\n string pi = 1;\r\n string vi = 2;\r\n string me = 3;\r\n string cme = 4;\r\n string came = 5; \r\n} \r\nmessage Thought{\r\n string logic = 1;\r\n string ideal = 2;\r\n string sth = 3;\r\n string err = 4;\r\n string code = 5;\r\n string req = 6;\r\n string index = 7;\r\n string log = 8;\r\n string order = 9; \r\n} \r\n``` \r\n\r\nAnd i use protocol buffers parseFrom() method to deserialize the request:\r\n```java \r\npublic static Scada pbDeSerialize(byte[] pbBytes) throws InvalidProtocolBufferException {\r\n    Scada scada = ScadaObj.Scada.parseFrom(pbBytes);\r\n    return scada; \r\n} \r\n``` \r\nI use json tools to deserialize the request: \r\n```java \r\npublic static PbScadaJsonObj jsonDeserialize(byte[] jsonBytes) {\r\n    String str = new String(jsonBytes, utf8Charset);\r\n    return JsonUtil.deserialize(str, PbScadaJsonObj.class); \r\n} \r\npublic static &lt;T&gt; T deserialize(String json, Class&lt;T&gt; clazz) {\r\n \treturn JSON.parseObject(json, clazz); \r\n} \r\n``` \r\nAnd i use jmeter to test these two methods. The test consists of one thread and 100 threads. One request message is about 3KB. Json ProtoBuf(PB) **deserialize** message are tested in 1024MB heap size. Before each execution, i always add a random number to make the message different from each other. My machine is 2C4G. \r\n```\r\n+---------------------+----------+------+\r\n| 100k loops 1 thread | FastJson | PB   |\r\n+---------------------+----------+------+\r\n| TIME(s)             | 360      | 309  |\r\n+---------------------+----------+------+\r\n| CPU(%)              | 104      | 99.8 |\r\n+---------------------+----------+------+\r\n| MEM(%)              | 7.2      | 6.6  |\r\n+---------------------+----------+------+\r\n```\r\n----------\r\n```\r\n+------------+----------+-------+\r\n| 100threads | FastJson | PB    |\r\n+------------+----------+-------+\r\n| TPS(/s)    | 274.3    | 321.9 |\r\n+------------+----------+-------+\r\n| CPU(%)     | 185.8    | 168.6 |\r\n+------------+----------+-------+\r\n| MEM(%)     | 9.1      | 28.6  |\r\n+------------+----------+-------+\r\n```\r\nFrom the test, i can&#39;t tell the protocol buffers improvement which consume much more memory with just 50/s TPS increasing.Could anyone explain this for me? Or anyone who did some kinda stuff like this test?","title":"Why does protocol buffer performance worse than JSON in my case?","body":"<p>I'm doing a test between protocol buffers and json, but i find the performance of protocol buffers out of my expectation. I wonder if my http request is too complicated or protocol buffers just is not appropriate in my case. Here's my http request: </p>\n\n<pre class=\"lang-java prettyprint-override\"><code>{ \n\"LogId\": \"ABC165416515166165484165164132\",\n\"ci_came\": \"uvInYKaMbhcyBm4p\",\n\"ci_cme\": \"GWPMzgSwKzEZ5Mmz\",\n\"ci_me\": \"gqHVRaSDTeksgijHM18QzajcVh21bBAq0TkknIXBQnkGKAPQbsZG35cDG6usAxwoxxiey9AnKbsN\",\n\"ci_pi\": \"U6dpu0828Q0NNP5JRgVvCMgnn41poxfPlzhwU6FdBOrFsujzskD0HKTcQAXBcXgaOuYcckGtZDs9roJsK\",\n\"th_logic\": \"IUPPORTxr_17_iIT_yiIS=[LthyOy.gitg.warmh;@6icy855 vxrsionCorx=1 uiyRr=msm8953 uiOTLOyrxR=unknown uPx=ujij Ir=N2G47H TIMx=1541178617000 iRyNr=gitrI TyG=iuilr HyRrWyRx=qyum jijIyL=1743iC101955 SUPPORTxr_yiIS=[Lhug.hxng.warmh;@5ic26y CPU_yiI=yrm17-v8y IS_rxiUGGyiLx=fylsx RyrIO=unknown MyNUFyCTURxR=gitrI IS_xMULyTOR=fylsx SUPPORTxr_32_iIT_yiIS=[Lhug.gitg.warmh;@xr9170c TyGS=txst-kxys CPU_yiI2= UNKNOWN=unknown PxRMISSIONS_RxVIxW_RxQUIRxr=fylsx Ujij=iuilrxr FINGxRPRINT=firxtruck/msm8953_17/msm8953_17:7.1.2/N2G47H/iuilrx11081144:ujij/txst-kxys HltT=gitriXM-iuilrxr-03 vxrsionNymx=1.0 PROrUCT=yxCR C10 rISPLyY=N2G47H txst-kxys MOrxL=yxCR C10 rxVICx=yxCR C10 hug.gitg.yrithmxticxxcxption: rivirx iy hxro yt yum.upspacepyy.fycxpyy.yummxnt.vixw.SxttingItxmFrygmxnt.onClick(SxttingItxmFrygmxnt.hug:117) yt ynrroir.vixw.Vixw.pxrformClick(Vixw.hug:5637) yt ynrroir.vixw.Vixw$PxrformClick.run(Vixw.hug:22433) yt ynrroir.lt.Hynrlxr.hynrlxCylliyck(Hynrlxr.hug:751) yt ynrroir.lt.Hynrlxr.rispytchMxssygx(Hynrlxr.hug:95)rimrgrilsTiiUxpXiHxXoOxX8kRituil\",\n\"th_ideal\": \"TqpXdC5NQF\",\n\"th_sth\": \"YTVMYUSuprQzHaQLgRdvxp0g8nLWdEZBc0UfrcyrQv09CKPBuacEesMfoiXqXHP2G2Duvmnzmv20iBBQKCuAk1piKvS9MvR9ymxD5YYahyBsdoWetqKjAuTBS115rqwDGhe2qDWMcRnZF3QF9f4WF5sJsFlmxroZzprR\",\n\"th_err\": \"StGMzqIW1YGg44GC\",\n\"th_code\": \"zrhwEaVmVlNPTUZCCO0j62bFjL6Sjnb8JxNng645fQOMlxA5ceKOwH67aYkK0FnM3vKMpXAbdLwCWAyVUjuvcH1\",\n\"th_req\": \"ZWZXPUr6O4jYrXjLXlXskem7jHQ6D\",\n\"th_index\": \"6546546546\",\n\"th_log\": \"3Gt8V7LMxUMlvHPzcVUYCQl8zvwaDfDEzWn7GxOHbzf9quoZFTl2WwFRpMox2V8zfjbOQiIg4dxjf0x1vWGKHhvnmabXCO5jDWVE33TgI0YTJO14uYEnezdzYDoeR51\",\n\"th_order\": \"T28XGCx1O3LCGa98lAtWc33\",\n\"message\": \"Crash\",\n\"time\": \"2019-11-11 18:23:00\",\n\"ci_vi\": \"RCgdDu5874sJohjEVy7i72Kcp98rCOJvl\",\n\"t_mNo\": \"1.9\",\n\"t_tNo\": \"Gxk9Vb3zblp2PHpYTQzTXmzx43WaEtZmA3CWFfXtPsDZFgaAIug5mbX73w4wQvwNL65BEOW3fd7wExndzm3eilp4jODtHZQaV5G574FPfK\",\n\"t_fd\": \"k58xs1eYKTvDxbRMWfPJMdB6tfBnGaOLAnmDUZxo2URebvtd8F\",\n\"t_pd\": \"jWl7CTWdmgVFZxA\",\n\"t_oer\": \"HHoLyXNYxKHqZgpev9vi\",\n\"t_ar\": \"J6m4X9ATlADGaKUzi1eb\",\n\"t_sr\": \"daP\",\n\"t_sd\": \"AgXPBAaOrA95b9PM4196BQaLsVN9j9\",\n\"t_sn\": \"1Ai4lFVObo0MymeJ894m0jItjiwhcD\",\n\"t_dd\": \"zLuh1p1G\",\n\"timeS\": \"2019-11-11 18:22:58\" \n} \n</code></pre>\n\n<p>Here's my proto file: </p>\n\n<pre class=\"lang-java prettyprint-override\"><code>message Scada {\n TechInfo tInfo = 1;\n string time = 2;\n string message = 3;\n Thought thought = 4;\n} \nmessage TechInfo {\n string mNo = 1;\n string tNo = 2;\n string fd = 3;\n string pd = 4;\n string oer = 5;\n string ar = 6;\n Ci cd = 7;\n string sr = 8;\n string sd = 9;\n string sn = 10;\n string dd = 11; \n} \nmessage Ci{\n string pi = 1;\n string vi = 2;\n string me = 3;\n string cme = 4;\n string came = 5; \n} \nmessage Thought{\n string logic = 1;\n string ideal = 2;\n string sth = 3;\n string err = 4;\n string code = 5;\n string req = 6;\n string index = 7;\n string log = 8;\n string order = 9; \n} \n</code></pre>\n\n<p>And i use protocol buffers parseFrom() method to deserialize the request:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public static Scada pbDeSerialize(byte[] pbBytes) throws InvalidProtocolBufferException {\n    Scada scada = ScadaObj.Scada.parseFrom(pbBytes);\n    return scada; \n} \n</code></pre>\n\n<p>I use json tools to deserialize the request: </p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public static PbScadaJsonObj jsonDeserialize(byte[] jsonBytes) {\n    String str = new String(jsonBytes, utf8Charset);\n    return JsonUtil.deserialize(str, PbScadaJsonObj.class); \n} \npublic static &lt;T&gt; T deserialize(String json, Class&lt;T&gt; clazz) {\n    return JSON.parseObject(json, clazz); \n} \n</code></pre>\n\n<p>And i use jmeter to test these two methods. The test consists of one thread and 100 threads. One request message is about 3KB. Json ProtoBuf(PB) <strong>deserialize</strong> message are tested in 1024MB heap size. Before each execution, i always add a random number to make the message different from each other. My machine is 2C4G. </p>\n\n<pre><code>+---------------------+----------+------+\n| 100k loops 1 thread | FastJson | PB   |\n+---------------------+----------+------+\n| TIME(s)             | 360      | 309  |\n+---------------------+----------+------+\n| CPU(%)              | 104      | 99.8 |\n+---------------------+----------+------+\n| MEM(%)              | 7.2      | 6.6  |\n+---------------------+----------+------+\n</code></pre>\n\n<hr>\n\n<pre><code>+------------+----------+-------+\n| 100threads | FastJson | PB    |\n+------------+----------+-------+\n| TPS(/s)    | 274.3    | 321.9 |\n+------------+----------+-------+\n| CPU(%)     | 185.8    | 168.6 |\n+------------+----------+-------+\n| MEM(%)     | 9.1      | 28.6  |\n+------------+----------+-------+\n</code></pre>\n\n<p>From the test, i can't tell the protocol buffers improvement which consume much more memory with just 50/s TPS increasing.Could anyone explain this for me? Or anyone who did some kinda stuff like this test?</p>\n"},{"tags":["java","spring-boot","maven","maven-surefire-plugin","wiremock"],"owner":{"account_id":2637951,"reputation":4283,"user_id":3014199,"accept_rate":79,"display_name":"peer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673221114,"creation_date":1672407649,"question_id":74962182,"body_markdown":"I have added a feature flag to my project in the form of an environment variable `FEATURE_FLAG_FOO`.\r\nNow I need to integrate the feature flag into my tests. Every E2E test needs the feature flag set to some value. Most of them are not affected, so for them I just set it to true:  \r\n````\r\n@SpringBootTest(classes = MyApp.class, \r\n                webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT,\r\n                properties = { &quot;FEATURE_FLAG_FOO=true&quot; })\r\npublic class UnrelatedE2ETest {\r\n````\r\n\r\nBut for the tests that are affected, I want to test both values. So duplicate them and set the feature flag to false in the original and to true in the duplicate. I end up with both, tests that have `FEATURE_FLAG_FOO` set to `true` and tests that have it set to `false`.  \r\nNow if I set `FEATURE_FLAG_FOO` to the same value for all tests, all tests pass. If I use different values the tests still pass as long as I execute them via IntelliJ `run all tests` or if I execute them with maven but isolated (`mvn test -Dtest=SingleE2ETest`). But when I run all of them with `mvn test` I run into problems.\r\n\r\nMany tests, even unrelated ones get `Unexpected status code,  expected:&lt;200&gt; but was:&lt;500&gt;` so something goes wrong internally and that happens only because the tests run together.\r\n\r\nFor one such unrelated test the stacktrace is:\r\n````\r\njava.net.ConnectException: Connection refused: connect\r\n\tat sun.nio.ch.Net.connect0(Net.java)\r\n\tat sun.nio.ch.Net.connect(Net.java:579)\r\n\tat sun.nio.ch.Net.connect(Net.java:568)\r\n\tat sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:588)\r\n\tat java.net.Socket.connect(Socket.java:633)\r\n\tat java.net.Socket.connect(Socket.java:583)\r\n\tat sun.net.NetworkClient.doConnect(NetworkClient.java:183)\r\n\tat sun.net.www.http.HttpClient.openServer(HttpClient.java:498)\r\n\tat sun.net.www.http.HttpClient.openServer(HttpClient.java:603)\r\n\tat sun.net.www.http.HttpClient.&lt;init&gt;(HttpClient.java:246)\r\n\tat sun.net.www.http.HttpClient.New(HttpClient.java:351)\r\n\tat sun.net.www.http.HttpClient.New(HttpClient.java:373)\r\n\tat sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:1309)\r\n\tat sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1242)\r\n\tat sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1128)\r\n\tat sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:1057)\r\n\tat org.springframework.http.client.SimpleBufferingClientHttpRequest.executeInternal(SimpleBufferingClientHttpRequest.java:76)\r\n\tat org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)\r\n\tat org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)\r\n\tat org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:109)\r\n\t... 7 frames truncated\r\n\t... 270 common frames omitted\r\nWrapped by: org.springframework.web.client.ResourceAccessException: I/O error on GET request for \\&quot;http://0.0.0.0:55760/api/v1/unrelatedendpoint\\&quot;: Connection refused: connect; nested exception is java.net.ConnectException: Connection refused: connect\r\n\tat org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:785)\r\n\tat org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711)\r\n\tat org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:631)\r\n[...]\r\n````\r\n\r\n`http://0.0.0.0:55760/api/v1/unrelatedendpoint` is a mock (autowired and stubbed with Wiremock) that the E2E test calls. So I assume that this mock is blocked, maybe due to a race condition? However upon running the tests several times it is always the same tests that fail in the same order. I can even make all of them run by renaming some test classes and the packages they are in.\r\nI would like to know why this is happening and how I can resolve it.","title":"Setting different properties in E2E tests causes ResourceAccessException when running with maven","body":"<p>I have added a feature flag to my project in the form of an environment variable <code>FEATURE_FLAG_FOO</code>.\nNow I need to integrate the feature flag into my tests. Every E2E test needs the feature flag set to some value. Most of them are not affected, so for them I just set it to true:</p>\n<pre><code>@SpringBootTest(classes = MyApp.class, \n                webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT,\n                properties = { &quot;FEATURE_FLAG_FOO=true&quot; })\npublic class UnrelatedE2ETest {\n</code></pre>\n<p>But for the tests that are affected, I want to test both values. So duplicate them and set the feature flag to false in the original and to true in the duplicate. I end up with both, tests that have <code>FEATURE_FLAG_FOO</code> set to <code>true</code> and tests that have it set to <code>false</code>.<br />\nNow if I set <code>FEATURE_FLAG_FOO</code> to the same value for all tests, all tests pass. If I use different values the tests still pass as long as I execute them via IntelliJ <code>run all tests</code> or if I execute them with maven but isolated (<code>mvn test -Dtest=SingleE2ETest</code>). But when I run all of them with <code>mvn test</code> I run into problems.</p>\n<p>Many tests, even unrelated ones get <code>Unexpected status code,  expected:&lt;200&gt; but was:&lt;500&gt;</code> so something goes wrong internally and that happens only because the tests run together.</p>\n<p>For one such unrelated test the stacktrace is:</p>\n<pre><code>java.net.ConnectException: Connection refused: connect\n    at sun.nio.ch.Net.connect0(Net.java)\n    at sun.nio.ch.Net.connect(Net.java:579)\n    at sun.nio.ch.Net.connect(Net.java:568)\n    at sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:588)\n    at java.net.Socket.connect(Socket.java:633)\n    at java.net.Socket.connect(Socket.java:583)\n    at sun.net.NetworkClient.doConnect(NetworkClient.java:183)\n    at sun.net.www.http.HttpClient.openServer(HttpClient.java:498)\n    at sun.net.www.http.HttpClient.openServer(HttpClient.java:603)\n    at sun.net.www.http.HttpClient.&lt;init&gt;(HttpClient.java:246)\n    at sun.net.www.http.HttpClient.New(HttpClient.java:351)\n    at sun.net.www.http.HttpClient.New(HttpClient.java:373)\n    at sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:1309)\n    at sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1242)\n    at sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1128)\n    at sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:1057)\n    at org.springframework.http.client.SimpleBufferingClientHttpRequest.executeInternal(SimpleBufferingClientHttpRequest.java:76)\n    at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)\n    at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)\n    at org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:109)\n    ... 7 frames truncated\n    ... 270 common frames omitted\nWrapped by: org.springframework.web.client.ResourceAccessException: I/O error on GET request for \\&quot;http://0.0.0.0:55760/api/v1/unrelatedendpoint\\&quot;: Connection refused: connect; nested exception is java.net.ConnectException: Connection refused: connect\n    at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:785)\n    at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711)\n    at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:631)\n[...]\n</code></pre>\n<p><code>http://0.0.0.0:55760/api/v1/unrelatedendpoint</code> is a mock (autowired and stubbed with Wiremock) that the E2E test calls. So I assume that this mock is blocked, maybe due to a race condition? However upon running the tests several times it is always the same tests that fail in the same order. I can even make all of them run by renaming some test classes and the packages they are in.\nI would like to know why this is happening and how I can resolve it.</p>\n"},{"tags":["java","bazel"],"answers":[{"tags":[],"owner":{"account_id":2937349,"reputation":1112,"user_id":2515975,"display_name":"user2515975"},"comment_count":0,"down_vote_count":0,"up_vote_count":61,"is_accepted":true,"score":61,"last_activity_date":1581427656,"creation_date":1581416139,"answer_id":60166543,"question_id":60165413,"body_markdown":"When you run bazel test, use the --test_output flag. See [docs][1].\r\n\r\n    bazel test --test_output=errors //...\r\n\r\nThe above will show the test output in the event of an error, but you can also request it to show output regardless of success failure:\r\n\r\n    bazel test --test_output=all //...\r\n\r\n  [1]: https://docs.bazel.build/versions/2.0.0/command-line-reference.html#flag--test_output","title":"How to get the log messages from test via bazel?","body":"<p>When you run bazel test, use the --test_output flag. See <a href=\"https://docs.bazel.build/versions/2.0.0/command-line-reference.html#flag--test_output\" rel=\"noreferrer\">docs</a>.</p>\n\n<pre><code>bazel test --test_output=errors //...\n</code></pre>\n\n<p>The above will show the test output in the event of an error, but you can also request it to show output regardless of success failure:</p>\n\n<pre><code>bazel test --test_output=all //...\n</code></pre>\n"}],"owner":{"account_id":23249,"reputation":38538,"user_id":58129,"accept_rate":85,"display_name":"Anthony Kong"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39495,"favorite_count":0,"down_vote_count":0,"up_vote_count":25,"accepted_answer_id":60166543,"answer_count":1,"score":25,"last_activity_date":1673220839,"creation_date":1581412751,"question_id":60165413,"body_markdown":"I am using `bazel` to build and run tests for my project.\r\n\r\nI want to get more insight into how my tests are running. I want to be able to see the output captured by the logger in my java app.\r\n\r\nI have tried adding `-s` parameter to start my tests, like so: `bazel test -s //myproject:integration-test`\r\n\r\nand it gives me more info regarding how the test is invoked:\r\n\r\n\r\n\r\n\r\n    remote: Resolving deltas: 100% (101/101), completed with 18 local objects.\r\n    To github.com:work/work.git\r\n    $ bazel test -s //myproject:integration-tests\r\n    WARNING: The following rc files are no longer being read, please transfer their contents or import their path into one of the standard rc files:\r\n    /nix/store/qsmyc0p2z1z3m06ch37hz49m0hz2c270-bazel-rc\r\n    INFO: Invocation ID: 2d17fb35-c72b-4152-bf14-2805027c6c01\r\n    INFO: Analyzed target //myproject:integration-tests (0 packages loaded, 0 targets configured).\r\n    INFO: Found 1 test target...\r\n    SUBCOMMAND: # //myproject:integration-tests [action &#39;Testing //myproject:integration-tests&#39;, configuration: cd8c76baa0169ef7c8b826ed0feb93200dd87a70639fd99286b8801aa9226239]\r\n    (cd /private/var/tmp/_bazel_antkong/cf188c7bd288685357ff03fcbb494066/execroot/com_work_work &amp;&amp; \\\r\n      exec env - \\\r\n        CI=&#39;&#39; \\\r\n        DISPLAY=:1 \\\r\n        EXPERIMENTAL_SPLIT_XML_GENERATION=1 \\\r\n        FLAVOR=local \\\r\n        JAVA_RUNFILES=bazel-out/darwin-fastbuild/bin/myproject/integration-tests.runfiles \\\r\n        PATH=/nix/store/6ajpp69s5lf5krrdzy3mw1fs22vg1fqq-user-environment/bin \\\r\n        PYTHON_RUNFILES=bazel-out/darwin-fastbuild/bin/myproject/integration-tests.runfiles \\\r\n        RUNFILES_DIR=bazel-out/darwin-fastbuild/bin/myproject/integration-tests.runfiles \\\r\n        RUN_UNDER_RUNFILES=1 \\\r\n        TEST_BINARY=myproject/integration-tests \\\r\n        TEST_INFRASTRUCTURE_FAILURE_FILE=bazel-out/darwin-fastbuild/testlogs/myproject/integration-tests/test.infrastructure_failure \\\r\n        TEST_LOGSPLITTER_OUTPUT_FILE=bazel-out/darwin-fastbuild/testlogs/myproject/integration-tests/test.raw_splitlogs/test.splitlogs \\\r\n        TEST_PREMATURE_EXIT_FILE=bazel-out/darwin-fastbuild/testlogs/myproject/integration-tests/test.exited_prematurely \\\r\n        TEST_SIZE=large \\\r\n        TEST_SRCDIR=bazel-out/darwin-fastbuild/bin/myproject/integration-tests.runfiles \\\r\n        TEST_TARGET=//myproject:integration-tests \\\r\n        TEST_TIMEOUT=900 \\\r\n        TEST_TMPDIR=_tmp/73bce5ef685ff9d5d824b9a0b736db87 \\\r\n        TEST_UNDECLARED_OUTPUTS_ANNOTATIONS=bazel-out/darwin-fastbuild/testlogs/myproject/integration-tests/test.outputs_manifest/ANNOTATIONS \\\r\n        TEST_UNDECLARED_OUTPUTS_ANNOTATIONS_DIR=bazel-out/darwin-fastbuild/testlogs/myproject/integration-tests/test.outputs_manifest \\\r\n        TEST_UNDECLARED_OUTPUTS_DIR=bazel-out/darwin-fastbuild/testlogs/myproject/integration-tests/test.outputs \\\r\n        TEST_UNDECLARED_OUTPUTS_MANIFEST=bazel-out/darwin-fastbuild/testlogs/myproject/integration-tests/test.outputs_manifest/MANIFEST \\\r\n        TEST_UNDECLARED_OUTPUTS_ZIP=bazel-out/darwin-fastbuild/testlogs/myproject/integration-tests/test.outputs/outputs.zip \\\r\n        TEST_UNUSED_RUNFILES_LOG_FILE=bazel-out/darwin-fastbuild/testlogs/myproject/integration-tests/test.unused_runfiles_log \\\r\n        TEST_WARNINGS_OUTPUT_FILE=bazel-out/darwin-fastbuild/testlogs/myproject/integration-tests/test.warnings \\\r\n        TEST_WORKSPACE=com_work_work \\\r\n        TZ=UTC \\\r\n        XAUTHORITY=/dev/null \\\r\n        XML_OUTPUT_FILE=bazel-out/darwin-fastbuild/testlogs/myproject/integration-tests/test.xml \\\r\n      external/bazel_tools/tools/test/test-setup.sh myproject/integration-tests)\r\n    Aspect @mypy_integration//:mypy.bzl%mypy_aspect of //myproject:integration-tests up-to-date (nothing to build)\r\n    INFO: Elapsed time: 6.692s, Critical Path: 5.34s\r\n    INFO: 1 process: 1 processwrapper-sandbox.\r\n    INFO: Build completed successfully, 2 total actions\r\n    //myproject:integration-tests                                      PASSED in 5.1s\r\n    \r\n    Executed 1 out of 1 test: 1 test passes.\r\n    INFO: Build completed successfully, 2 total actions\r\n\r\nHowever it is actually not what I am after. I want to able to see the output logged via calls to a logger in java code:\r\n\r\n      private static final Logger logger = LoggerFactory.getLogger(\r\n          MyProject.class);\r\n    \r\n      ...\r\n    \r\n      logger.info(&#39;It is executed&#39;)\r\n\r\n\r\n\r\nIs there any switch I can use so bazel can turn on the logging?\r\n\r\n","title":"How to get the log messages from test via bazel?","body":"<p>I am using <code>bazel</code> to build and run tests for my project.</p>\n<p>I want to get more insight into how my tests are running. I want to be able to see the output captured by the logger in my java app.</p>\n<p>I have tried adding <code>-s</code> parameter to start my tests, like so: <code>bazel test -s //myproject:integration-test</code></p>\n<p>and it gives me more info regarding how the test is invoked:</p>\n<pre><code>remote: Resolving deltas: 100% (101/101), completed with 18 local objects.\nTo github.com:work/work.git\n$ bazel test -s //myproject:integration-tests\nWARNING: The following rc files are no longer being read, please transfer their contents or import their path into one of the standard rc files:\n/nix/store/qsmyc0p2z1z3m06ch37hz49m0hz2c270-bazel-rc\nINFO: Invocation ID: 2d17fb35-c72b-4152-bf14-2805027c6c01\nINFO: Analyzed target //myproject:integration-tests (0 packages loaded, 0 targets configured).\nINFO: Found 1 test target...\nSUBCOMMAND: # //myproject:integration-tests [action 'Testing //myproject:integration-tests', configuration: cd8c76baa0169ef7c8b826ed0feb93200dd87a70639fd99286b8801aa9226239]\n(cd /private/var/tmp/_bazel_antkong/cf188c7bd288685357ff03fcbb494066/execroot/com_work_work &amp;&amp; \\\n  exec env - \\\n    CI='' \\\n    DISPLAY=:1 \\\n    EXPERIMENTAL_SPLIT_XML_GENERATION=1 \\\n    FLAVOR=local \\\n    JAVA_RUNFILES=bazel-out/darwin-fastbuild/bin/myproject/integration-tests.runfiles \\\n    PATH=/nix/store/6ajpp69s5lf5krrdzy3mw1fs22vg1fqq-user-environment/bin \\\n    PYTHON_RUNFILES=bazel-out/darwin-fastbuild/bin/myproject/integration-tests.runfiles \\\n    RUNFILES_DIR=bazel-out/darwin-fastbuild/bin/myproject/integration-tests.runfiles \\\n    RUN_UNDER_RUNFILES=1 \\\n    TEST_BINARY=myproject/integration-tests \\\n    TEST_INFRASTRUCTURE_FAILURE_FILE=bazel-out/darwin-fastbuild/testlogs/myproject/integration-tests/test.infrastructure_failure \\\n    TEST_LOGSPLITTER_OUTPUT_FILE=bazel-out/darwin-fastbuild/testlogs/myproject/integration-tests/test.raw_splitlogs/test.splitlogs \\\n    TEST_PREMATURE_EXIT_FILE=bazel-out/darwin-fastbuild/testlogs/myproject/integration-tests/test.exited_prematurely \\\n    TEST_SIZE=large \\\n    TEST_SRCDIR=bazel-out/darwin-fastbuild/bin/myproject/integration-tests.runfiles \\\n    TEST_TARGET=//myproject:integration-tests \\\n    TEST_TIMEOUT=900 \\\n    TEST_TMPDIR=_tmp/73bce5ef685ff9d5d824b9a0b736db87 \\\n    TEST_UNDECLARED_OUTPUTS_ANNOTATIONS=bazel-out/darwin-fastbuild/testlogs/myproject/integration-tests/test.outputs_manifest/ANNOTATIONS \\\n    TEST_UNDECLARED_OUTPUTS_ANNOTATIONS_DIR=bazel-out/darwin-fastbuild/testlogs/myproject/integration-tests/test.outputs_manifest \\\n    TEST_UNDECLARED_OUTPUTS_DIR=bazel-out/darwin-fastbuild/testlogs/myproject/integration-tests/test.outputs \\\n    TEST_UNDECLARED_OUTPUTS_MANIFEST=bazel-out/darwin-fastbuild/testlogs/myproject/integration-tests/test.outputs_manifest/MANIFEST \\\n    TEST_UNDECLARED_OUTPUTS_ZIP=bazel-out/darwin-fastbuild/testlogs/myproject/integration-tests/test.outputs/outputs.zip \\\n    TEST_UNUSED_RUNFILES_LOG_FILE=bazel-out/darwin-fastbuild/testlogs/myproject/integration-tests/test.unused_runfiles_log \\\n    TEST_WARNINGS_OUTPUT_FILE=bazel-out/darwin-fastbuild/testlogs/myproject/integration-tests/test.warnings \\\n    TEST_WORKSPACE=com_work_work \\\n    TZ=UTC \\\n    XAUTHORITY=/dev/null \\\n    XML_OUTPUT_FILE=bazel-out/darwin-fastbuild/testlogs/myproject/integration-tests/test.xml \\\n  external/bazel_tools/tools/test/test-setup.sh myproject/integration-tests)\nAspect @mypy_integration//:mypy.bzl%mypy_aspect of //myproject:integration-tests up-to-date (nothing to build)\nINFO: Elapsed time: 6.692s, Critical Path: 5.34s\nINFO: 1 process: 1 processwrapper-sandbox.\nINFO: Build completed successfully, 2 total actions\n//myproject:integration-tests                                      PASSED in 5.1s\n\nExecuted 1 out of 1 test: 1 test passes.\nINFO: Build completed successfully, 2 total actions\n</code></pre>\n<p>However it is actually not what I am after. I want to able to see the output logged via calls to a logger in java code:</p>\n<pre><code>  private static final Logger logger = LoggerFactory.getLogger(\n      MyProject.class);\n\n  ...\n\n  logger.info('It is executed')\n</code></pre>\n<p>Is there any switch I can use so bazel can turn on the logging?</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":16657879,"reputation":2625,"user_id":12038714,"display_name":"J Asgarov"},"score":0,"creation_date":1673117782,"post_id":75041585,"comment_id":132427972,"body_markdown":"This question is not clear. Please don&#39;t send us to some other links for an example of what you want - actually state what you are trying to achieve and what exactly doesn&#39;t work","body":"This question is not clear. Please don&#39;t send us to some other links for an example of what you want - actually state what you are trying to achieve and what exactly doesn&#39;t work"}],"owner":{"account_id":19476628,"reputation":125,"user_id":14247913,"display_name":"TryHard"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":148,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673219766,"creation_date":1673105927,"question_id":75041585,"body_markdown":"I&#39;m new to Java and Spring, and I&#39;m wondering if it&#39;s possible to write my own HttpClient doOnConnected handler. The main reason for this is to check if some headers exist before each request and possibly do other things.\r\n\r\nSomething like [this ][1] in c# \r\n\r\nMy code for example:\r\n\r\n    HttpClient httpClient = HttpClient.create()\r\n            .option(ChannelOption.CONNECT_TIMEOUT_MILLIS, 5000)\r\n            .responseTimeout(Duration.ofMillis(5000))\r\n            .doOnConnected(conn -&gt;\r\n                    conn.addHandlerLast(new ReadTimeoutHandler(5000, TimeUnit.MILLISECONDS))\r\n                        .addHandlerLast(new WriteTimeoutHandler(5000, TimeUnit.MILLISECONDS))\r\n                        .addHandlerLast(new MyCustomHandler()\r\n            );\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/69812922/implement-delegatinghandler-in-asp-net-core-5-0-web-api","title":"How to use custom HttpClient handler","body":"<p>I'm new to Java and Spring, and I'm wondering if it's possible to write my own HttpClient doOnConnected handler. The main reason for this is to check if some headers exist before each request and possibly do other things.</p>\n<p>Something like <a href=\"https://stackoverflow.com/questions/69812922/implement-delegatinghandler-in-asp-net-core-5-0-web-api\">this </a> in c#</p>\n<p>My code for example:</p>\n<pre><code>HttpClient httpClient = HttpClient.create()\n        .option(ChannelOption.CONNECT_TIMEOUT_MILLIS, 5000)\n        .responseTimeout(Duration.ofMillis(5000))\n        .doOnConnected(conn -&gt;\n                conn.addHandlerLast(new ReadTimeoutHandler(5000, TimeUnit.MILLISECONDS))\n                    .addHandlerLast(new WriteTimeoutHandler(5000, TimeUnit.MILLISECONDS))\n                    .addHandlerLast(new MyCustomHandler()\n        );\n</code></pre>\n"},{"tags":["java","jdbc"],"answers":[{"tags":[],"owner":{"account_id":21471968,"reputation":71,"user_id":15820811,"display_name":"Steffen D."},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1673219723,"creation_date":1673219723,"answer_id":75051963,"question_id":75051639,"body_markdown":"The reason for the compile error is that the creation of a `DriveStore` instance using the default constructor might throw a `ClassNotFoundException`, but the Compiler can neither automatically handle the exception nor rethrow it, because the implicit default constructor of the shown class `create_Drice` does not declare any exceptions (implicit constructors can never throw declared exceptions in Java).\r\n\r\nAs the error message says, the fix is to add an explicit constructor to the `create_Drice` class. This constructor can either declare and throw the exception like this:\r\n```\r\npublic class create_Drice {\r\n\t\r\n\tprivate DriveStore drive_store;\r\n\t\r\n\tpublic create_Drice() throws ClassNotFoundException {\r\n\t\tdrive_store = new DriveStore();\r\n\t}\r\n\r\n}\r\n```\r\n... or it can handle the exception in some way:\r\n```\r\npublic class create_Drice {\r\n\t\r\n\tprivate DriveStore drive_store;\r\n\t\r\n\tpublic create_Drice() {\r\n\t\ttry {\r\n\t\t\tdrive_store = new DriveStore();\r\n\t\t} catch (ClassNotFoundException exc) {\r\n\t\t\tthrow new RuntimeException(&quot;Cannot create DriveStore&quot;, exc);\r\n\t\t}\r\n\t}\r\n\r\n}\r\n```\r\nThe &quot;handling&quot; of the exception shown here is the conversion to a runtime exception, which does not have to be declared in Java. Of course you can implement some other way to handle the exception.","title":"How to handle &quot;Default constructor cannot handle exception type ClassNotFoundException&quot; error","body":"<p>The reason for the compile error is that the creation of a <code>DriveStore</code> instance using the default constructor might throw a <code>ClassNotFoundException</code>, but the Compiler can neither automatically handle the exception nor rethrow it, because the implicit default constructor of the shown class <code>create_Drice</code> does not declare any exceptions (implicit constructors can never throw declared exceptions in Java).</p>\n<p>As the error message says, the fix is to add an explicit constructor to the <code>create_Drice</code> class. This constructor can either declare and throw the exception like this:</p>\n<pre><code>public class create_Drice {\n    \n    private DriveStore drive_store;\n    \n    public create_Drice() throws ClassNotFoundException {\n        drive_store = new DriveStore();\n    }\n\n}\n</code></pre>\n<p>... or it can handle the exception in some way:</p>\n<pre><code>public class create_Drice {\n    \n    private DriveStore drive_store;\n    \n    public create_Drice() {\n        try {\n            drive_store = new DriveStore();\n        } catch (ClassNotFoundException exc) {\n            throw new RuntimeException(&quot;Cannot create DriveStore&quot;, exc);\n        }\n    }\n\n}\n</code></pre>\n<p>The &quot;handling&quot; of the exception shown here is the conversion to a runtime exception, which does not have to be declared in Java. Of course you can implement some other way to handle the exception.</p>\n"}],"owner":{"account_id":17324898,"reputation":31,"user_id":12549347,"display_name":"mk-pawn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75051963,"answer_count":1,"score":0,"last_activity_date":1673219723,"creation_date":1673216097,"question_id":75051639,"body_markdown":"The error is &quot;Default constructor cannot handle exception type ClassNotFoundException thrown by implicit super constructor. Must define an explicit constructor&quot;\r\n in the &quot; = new DriveStore()&quot; declaration in this class\r\n```\r\nimport ..... ;\r\n\r\n@WebServlet(&quot;/create_drive&quot;)\r\npublic class create_Drice extends HttpServlet {\r\n\tprivate static final long serialVersionUID = 1L;\r\n\tprivate DriveStore drive_store = new DriveStore();\r\n\t\r\n\tprotected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n        ...\r\n        ...\r\n\t}\r\n\tprotected void doPost(HttpServletRequest request, HttpServletResponse response) \r\n\t\t\tthrows ServletException, IOException {\r\n\t\t...\r\n        ...\r\n\t}\r\n}\r\n\r\n```\r\ntry-catch block outside doGet() and doPost did not work and drive_store is used in both.\r\nHow could this be solved?","title":"How to handle &quot;Default constructor cannot handle exception type ClassNotFoundException&quot; error","body":"<p>The error is &quot;Default constructor cannot handle exception type ClassNotFoundException thrown by implicit super constructor. Must define an explicit constructor&quot;\nin the &quot; = new DriveStore()&quot; declaration in this class</p>\n<pre><code>import ..... ;\n\n@WebServlet(&quot;/create_drive&quot;)\npublic class create_Drice extends HttpServlet {\n    private static final long serialVersionUID = 1L;\n    private DriveStore drive_store = new DriveStore();\n    \n    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n        ...\n        ...\n    }\n    protected void doPost(HttpServletRequest request, HttpServletResponse response) \n            throws ServletException, IOException {\n        ...\n        ...\n    }\n}\n\n</code></pre>\n<p>try-catch block outside doGet() and doPost did not work and drive_store is used in both.\nHow could this be solved?</p>\n"},{"tags":["java","swing","joptionpane"],"answers":[{"comments":[{"owner":{"account_id":1460751,"reputation":1869,"user_id":1375162,"accept_rate":77,"display_name":"wyoskibum"},"score":0,"creation_date":1363029996,"post_id":15346555,"comment_id":21677792,"body_markdown":"Thanks!  I really appreciate it.  I&#39;m still learning all of this GUI stuff.","body":"Thanks!  I really appreciate it.  I&#39;m still learning all of this GUI stuff."}],"tags":[],"owner":{"account_id":62355,"reputation":12202,"user_id":185322,"accept_rate":67,"display_name":"martinez314"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1363028875,"creation_date":1363028875,"answer_id":15346555,"question_id":15346377,"body_markdown":"You need to add the main panel to your TestPanel.\r\n\r\n    public final void initUI() {\r\n\t\t// ...\r\n\t\tadd(main);\r\n\t}","title":"Java adding components to JOptionPane","body":"<p>You need to add the main panel to your TestPanel.</p>\n\n<pre><code>public final void initUI() {\n    // ...\n    add(main);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2461139,"reputation":4729,"user_id":2145295,"display_name":"Jean Waghetti"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1363028897,"creation_date":1363028897,"answer_id":15346565,"question_id":15346377,"body_markdown":"You didn&#39;t add main Panel to your TestPanel instance in the constructor.","title":"Java adding components to JOptionPane","body":"<p>You didn't add main Panel to your TestPanel instance in the constructor.</p>\n"},{"tags":[],"owner":{"account_id":1746367,"reputation":31,"user_id":1596479,"display_name":"abarsam"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1363028998,"creation_date":1363028998,"answer_id":15346592,"question_id":15346377,"body_markdown":"In initUI, you create a JPanel (called &quot;main&quot;) and stuff it full of components, but don&#39;t do anything with it. You need to either add &quot;main&quot; to the actual instance of TestPanel, or just skip the step of creating the &quot;main&quot; panel altogether.\r\n\r\nThe first way:\r\n\r\n    public final void initUI() {\r\n        // ... everything as before, then \r\n        this.add(main);\r\n    }\r\n\r\nThe second way:\r\n\r\n    public final void initUI() {\r\n        this.setLayout(new GridLayout(4,4));\r\n      \r\n        // create the labels\r\n        JLabel custIdLabel = new JLabel(&quot;Cust Id: &quot;);\r\n        JLabel companyLabel = new JLabel(&quot;Company: &quot;);\r\n        JLabel firstNameLabel = new JLabel(&quot;First Name: &quot;);\r\n        JLabel lastNameLabel = new JLabel(&quot;Last Name: &quot;);\r\n      \r\n        // create the text fields\r\n        custIdTextField = new JTextField();\r\n        companyTextField = new JTextField();\r\n        firstNameTextField = new JTextField();\r\n        lastNameTextField = new JTextField();\r\n      \r\n        // add componets to panel\r\n        this.add(custIdLabel);\r\n        this.add(custIdTextField);\r\n        this.add(companyLabel);\r\n        this.add(companyTextField);\r\n        this.add(firstNameLabel);\r\n        this.add(firstNameTextField);\r\n        this.add(lastNameLabel);\r\n        this.add(lastNameTextField);\r\n    }\r\n\r\n(The &quot;this.&quot;&#39;s aren&#39;t strictly necessary, but I added them for illustration.)\r\n\r\nHope this helps!","title":"Java adding components to JOptionPane","body":"<p>In initUI, you create a JPanel (called \"main\") and stuff it full of components, but don't do anything with it. You need to either add \"main\" to the actual instance of TestPanel, or just skip the step of creating the \"main\" panel altogether.</p>\n\n<p>The first way:</p>\n\n<pre><code>public final void initUI() {\n    // ... everything as before, then \n    this.add(main);\n}\n</code></pre>\n\n<p>The second way:</p>\n\n<pre><code>public final void initUI() {\n    this.setLayout(new GridLayout(4,4));\n\n    // create the labels\n    JLabel custIdLabel = new JLabel(\"Cust Id: \");\n    JLabel companyLabel = new JLabel(\"Company: \");\n    JLabel firstNameLabel = new JLabel(\"First Name: \");\n    JLabel lastNameLabel = new JLabel(\"Last Name: \");\n\n    // create the text fields\n    custIdTextField = new JTextField();\n    companyTextField = new JTextField();\n    firstNameTextField = new JTextField();\n    lastNameTextField = new JTextField();\n\n    // add componets to panel\n    this.add(custIdLabel);\n    this.add(custIdTextField);\n    this.add(companyLabel);\n    this.add(companyTextField);\n    this.add(firstNameLabel);\n    this.add(firstNameTextField);\n    this.add(lastNameLabel);\n    this.add(lastNameTextField);\n}\n</code></pre>\n\n<p>(The \"this.\"'s aren't strictly necessary, but I added them for illustration.)</p>\n\n<p>Hope this helps!</p>\n"}],"owner":{"account_id":1460751,"reputation":1869,"user_id":1375162,"accept_rate":77,"display_name":"wyoskibum"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6679,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":15346555,"answer_count":3,"score":2,"last_activity_date":1673219281,"creation_date":1363028240,"question_id":15346377,"body_markdown":"I&#39;m trying create a custom panel for a simple data entry dialog.  I&#39;ve created a custom panel which I add my labels and text fields.  I&#39;m trying to add it to a JOptionPane for display.\r\n\r\nWhen I call it, my components do not display but the JOptionPane buttons do.  What is the correct way of doing this?\r\n\r\nHere is where I create my custom panel and call JOptionPane:\r\n\r\n        public class ListenCustEdit implements ActionListener {\r\n        @Override\r\n        @SuppressWarnings(&quot;empty-statement&quot;)\r\n        public void actionPerformed(ActionEvent e) {\r\n            TestPanel panel = new TestPanel();\r\n            int input = JOptionPane.showConfirmDialog(frame, panel, &quot;Edit Customer:&quot;\r\n                            ,JOptionPane.OK_CANCEL_OPTION, JOptionPane.PLAIN_MESSAGE);\r\n            if (input == 0) {\r\n                // OK\r\n                JOptionPane.showMessageDialog(frame,&quot;Changes savewd&quot;);\r\n            } else {\r\n                // Cancel\r\n                JOptionPane.showMessageDialog(frame, &quot;No changes were saved&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nHere is my custom panel class:\r\n\r\n\r\n    public class TestPanel extends JPanel {\r\n    \r\n    JTextField custIdTextField;\r\n    JTextField companyTextField;\r\n    JTextField firstNameTextField;\r\n    JTextField lastNameTextField;\r\n\r\n    public TestPanel() {\r\n        initUI();\r\n    }\r\n    \r\n    public final void initUI() {\r\n        \r\n        // create the panel and set the layout\r\n        JPanel main = new JPanel();\r\n        main.setLayout(new GridLayout(4,4));\r\n        \r\n        // create the labels\r\n        JLabel custIdLabel = new JLabel(&quot;Cust Id: &quot;);\r\n        JLabel companyLabel = new JLabel(&quot;Company: &quot;);\r\n        JLabel firstNameLabel = new JLabel(&quot;First Name: &quot;);\r\n        JLabel lastNameLabel = new JLabel(&quot;Last Name: &quot;);\r\n        \r\n        // create the text fields\r\n        custIdTextField = new JTextField();\r\n        companyTextField = new JTextField();\r\n        firstNameTextField = new JTextField();\r\n        lastNameTextField = new JTextField();\r\n        \r\n        // add componets to panel\r\n        main.add(custIdLabel);\r\n        main.add(custIdTextField);\r\n        main.add(companyLabel);\r\n        main.add(companyTextField);\r\n        main.add(firstNameLabel);\r\n        main.add(firstNameTextField);\r\n        main.add(lastNameLabel);\r\n        main.add(lastNameTextField);\r\n    }\r\n    \r\n\r\n","title":"Java adding components to JOptionPane","body":"<p>I'm trying create a custom panel for a simple data entry dialog.  I've created a custom panel which I add my labels and text fields.  I'm trying to add it to a JOptionPane for display.</p>\n<p>When I call it, my components do not display but the JOptionPane buttons do.  What is the correct way of doing this?</p>\n<p>Here is where I create my custom panel and call JOptionPane:</p>\n<pre><code>    public class ListenCustEdit implements ActionListener {\n    @Override\n    @SuppressWarnings(&quot;empty-statement&quot;)\n    public void actionPerformed(ActionEvent e) {\n        TestPanel panel = new TestPanel();\n        int input = JOptionPane.showConfirmDialog(frame, panel, &quot;Edit Customer:&quot;\n                        ,JOptionPane.OK_CANCEL_OPTION, JOptionPane.PLAIN_MESSAGE);\n        if (input == 0) {\n            // OK\n            JOptionPane.showMessageDialog(frame,&quot;Changes savewd&quot;);\n        } else {\n            // Cancel\n            JOptionPane.showMessageDialog(frame, &quot;No changes were saved&quot;);\n        }\n    }\n}\n</code></pre>\n<p>Here is my custom panel class:</p>\n<pre><code>public class TestPanel extends JPanel {\n\nJTextField custIdTextField;\nJTextField companyTextField;\nJTextField firstNameTextField;\nJTextField lastNameTextField;\n\npublic TestPanel() {\n    initUI();\n}\n\npublic final void initUI() {\n    \n    // create the panel and set the layout\n    JPanel main = new JPanel();\n    main.setLayout(new GridLayout(4,4));\n    \n    // create the labels\n    JLabel custIdLabel = new JLabel(&quot;Cust Id: &quot;);\n    JLabel companyLabel = new JLabel(&quot;Company: &quot;);\n    JLabel firstNameLabel = new JLabel(&quot;First Name: &quot;);\n    JLabel lastNameLabel = new JLabel(&quot;Last Name: &quot;);\n    \n    // create the text fields\n    custIdTextField = new JTextField();\n    companyTextField = new JTextField();\n    firstNameTextField = new JTextField();\n    lastNameTextField = new JTextField();\n    \n    // add componets to panel\n    main.add(custIdLabel);\n    main.add(custIdTextField);\n    main.add(companyLabel);\n    main.add(companyTextField);\n    main.add(firstNameLabel);\n    main.add(firstNameTextField);\n    main.add(lastNameLabel);\n    main.add(lastNameTextField);\n}\n</code></pre>\n"},{"tags":["java","db2","eclipselink","jpql","weblogic12c"],"comments":[{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1467297750,"post_id":38126243,"comment_id":63683975,"body_markdown":"And the `tmstmp` field is indeed a `Timestamp`? As `java.sql.Date` sets hour, minutes and seconds to 0.","body":"And the <code>tmstmp</code> field is indeed a <code>Timestamp</code>? As <code>java.sql.Date</code> sets hour, minutes and seconds to 0."},{"owner":{"account_id":328884,"reputation":460,"user_id":652078,"accept_rate":73,"display_name":"sairn"},"score":0,"creation_date":1467298337,"post_id":38126243,"comment_id":63684441,"body_markdown":"Yes,  &quot;tmstmp&quot; is type: Timestamp.  thx for asking!","body":"Yes,  &quot;tmstmp&quot; is type: Timestamp.  thx for asking!"}],"answers":[{"comments":[{"owner":{"account_id":328884,"reputation":460,"user_id":652078,"accept_rate":73,"display_name":"sairn"},"score":0,"creation_date":1467303016,"post_id":38127109,"comment_id":63687935,"body_markdown":"No that does not work.    -I had tried that and  &quot;TemporalType.TIMESTAMP&quot;, too... -But, to no avail. Thx","body":"No that does not work.    -I had tried that and  &quot;TemporalType.TIMESTAMP&quot;, too... -But, to no avail. Thx"}],"tags":[],"owner":{"account_id":905258,"reputation":1,"user_id":940289,"display_name":"iAlpaka"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1467352926,"creation_date":1467299401,"answer_id":38127109,"question_id":38126243,"body_markdown":"Does this work for you?\r\n\r\n    query.setParameter(&quot;tmstmp&quot;, tmstmp, TemporalType.DATE)\r\n\r\nUPDATE:\r\n\r\n    @Temporal(TemporalType.TIMESTAMP)\r\n    @Column(name = &quot;TMSTMP&quot;, nullable = false)\r\n    private Date tmstmp;","title":"EclipseLink jpql &quot;where clause&quot; comparing timestamp is not working as expected","body":"<p>Does this work for you?</p>\n\n<pre><code>query.setParameter(\"tmstmp\", tmstmp, TemporalType.DATE)\n</code></pre>\n\n<p>UPDATE:</p>\n\n<pre><code>@Temporal(TemporalType.TIMESTAMP)\n@Column(name = \"TMSTMP\", nullable = false)\nprivate Date tmstmp;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":328884,"reputation":460,"user_id":652078,"accept_rate":73,"display_name":"sairn"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1468267212,"creation_date":1468266726,"answer_id":38315094,"question_id":38126243,"body_markdown":"Below, is what worked for me...\r\n\r\nAssuming...\r\n\r\n        //...note, date is in ISO format...\r\n        LocalDateTime ldt = LocalDateTime.parse(tmstmpString, DateTimeFormatter.ISO_DATE_TIME);\r\n        Timestamp tmstmp = Timestamp.valueOf(ldt);\r\n\r\n\r\nHere&#39;s one way...\r\n\r\n\r\n        Query query = entityManager.createNativeQuery(&quot;SELECT * FROM table1 e WHERE e.tmstmp &gt;= CAST(?1 as TIMESTAMP)&quot;, Table1.class)  \r\n                .setParameter(1, tmstmp);  \r\n        List&lt;Table1&gt; resultList = query.getResultList(); \r\n\r\n\r\nHere&#39;s another way...\r\n\r\n        CriteriaBuilder criteriaBuilder = entityManager.getCriteriaBuilder();\r\n        CriteriaQuery&lt;Table1&gt; criteriaQuery = criteriaBuilder.createQuery(Table1.class);\r\n        Root&lt;Table1&gt; table1 = criteriaQuery.from(Table1.class);\r\n\r\n        Expression&lt;Byte&gt; expression = table1.get(&quot;tmstmp&quot;); // ...NOTE: column name is &quot;tmstmp&quot;...\r\n        Expression&lt;Timestamp&gt; castFunction = criteriaBuilder.function(&quot;TIMESTAMP&quot;, Timestamp.class, expression);\r\n        Predicate predicate = criteriaBuilder.greaterThanOrEqualTo(castFunction, tmstmp);\r\n\r\n        //NOTE: should be able to add to predicate...\r\n        //      e.g.,   \r\n        //          predicate = criteriaBuilder.and(predicate, otherPredicate);\r\n\r\n        criteriaQuery.where(predicate);\r\n        TypedQuery&lt;Table1&gt; query = entityManager.createQuery(criteriaQuery);\r\n        List&lt;Table1&gt; resultList = query.getResultList();\r\n\r\n\r\n","title":"EclipseLink jpql &quot;where clause&quot; comparing timestamp is not working as expected","body":"<p>Below, is what worked for me...</p>\n\n<p>Assuming...</p>\n\n<pre><code>    //...note, date is in ISO format...\n    LocalDateTime ldt = LocalDateTime.parse(tmstmpString, DateTimeFormatter.ISO_DATE_TIME);\n    Timestamp tmstmp = Timestamp.valueOf(ldt);\n</code></pre>\n\n<p>Here's one way...</p>\n\n<pre><code>    Query query = entityManager.createNativeQuery(\"SELECT * FROM table1 e WHERE e.tmstmp &gt;= CAST(?1 as TIMESTAMP)\", Table1.class)  \n            .setParameter(1, tmstmp);  \n    List&lt;Table1&gt; resultList = query.getResultList(); \n</code></pre>\n\n<p>Here's another way...</p>\n\n<pre><code>    CriteriaBuilder criteriaBuilder = entityManager.getCriteriaBuilder();\n    CriteriaQuery&lt;Table1&gt; criteriaQuery = criteriaBuilder.createQuery(Table1.class);\n    Root&lt;Table1&gt; table1 = criteriaQuery.from(Table1.class);\n\n    Expression&lt;Byte&gt; expression = table1.get(\"tmstmp\"); // ...NOTE: column name is \"tmstmp\"...\n    Expression&lt;Timestamp&gt; castFunction = criteriaBuilder.function(\"TIMESTAMP\", Timestamp.class, expression);\n    Predicate predicate = criteriaBuilder.greaterThanOrEqualTo(castFunction, tmstmp);\n\n    //NOTE: should be able to add to predicate...\n    //      e.g.,   \n    //          predicate = criteriaBuilder.and(predicate, otherPredicate);\n\n    criteriaQuery.where(predicate);\n    TypedQuery&lt;Table1&gt; query = entityManager.createQuery(criteriaQuery);\n    List&lt;Table1&gt; resultList = query.getResultList();\n</code></pre>\n"}],"owner":{"account_id":328884,"reputation":460,"user_id":652078,"accept_rate":73,"display_name":"sairn"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1516,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":38315094,"answer_count":2,"score":1,"last_activity_date":1673219256,"creation_date":1467297160,"question_id":38126243,"body_markdown":"My jpql &quot;where clause&quot; that selects using a timestamp column does not &quot;filter&quot; as expected.  \r\n\r\nIt appears sensitive to the &quot;date&quot; portion of the timestamp, but, ignores the &quot;time&quot; portion.\r\n\r\nThe table1.tmstmp column is defined as: &quot;TMSTMP TIMESTAMP NOT NULL&quot;\r\n\r\nThe table1 entity contains the following named query:\r\n\r\n    @NamedQuery(name = &quot;table1.getUpdTime&quot;, query = &quot;SELECT e FROM table1 e     \r\n    WHERE e.tmstmp &gt;= :tmstmp order by e.tmstmp asc&quot;)\r\n\r\n\r\nThe tmstmp property is defined like this:\r\n\r\n    @Column(name = &quot;TMSTMP&quot;, nullable = false)\r\n    private Timestamp tmstmp;\r\n\r\n\r\nIt is used like this:\r\n\r\n    TypedQuery&lt;EsEvnt&gt; query = em.createNamedQuery(&quot;table1.getUpdTime&quot;,\r\n    table1.class).setParameter(&quot;tmstmp&quot;, tmstmp); \r\n\r\n\r\n\r\n\r\nFor example, when the Timestamp variable (&quot;tmstmp&quot;), above, is equal to &quot;2016-06-30T09:28:33.247-04:00&quot;, it returns all records where the date portion is:  2016-06-30.\r\n\r\nAny ideas?\r\n\r\nI&#39;d like to depend upon the &quot;where clause&quot; to explicitly select using the entire timestamp.\r\n\r\nUpdate\r\n---\r\n\r\nI modified my query (seemed a native query was required) using the &quot;CAST&quot; function, as shown below, and it appears to work consistently:\r\n\r\n    //...note, date is in ISO format...\r\n    LocalDateTime ldt = LocalDateTime.parse(tmstmpString, DateTimeFormatter.ISO_DATE_TIME);\r\n    Timestamp tmstmp = Timestamp.valueOf(ldt);\r\n    - \r\n    -\r\n    -\r\n    // (see &quot;native query&quot;, coded below)...\r\n    Query query = em.createNativeQuery(&quot;SELECT * FROM table1 e WHERE e.tmstmp &gt;= CAST(?1 as TIMESTAMP)&quot;, Table1.class)  \r\n            .setParameter(1, tmstmp);  \r\n    List&lt;Table1&gt; resultList = query.getResultList(); \r\n\r\n---\r\n\r\nWebLogic 12.1.3\r\n\r\nDB2\r\n \r\nJava 8\r\n\r\nEclipseLink 2.1\r\n","title":"EclipseLink jpql &quot;where clause&quot; comparing timestamp is not working as expected","body":"<p>My jpql &quot;where clause&quot; that selects using a timestamp column does not &quot;filter&quot; as expected.</p>\n<p>It appears sensitive to the &quot;date&quot; portion of the timestamp, but, ignores the &quot;time&quot; portion.</p>\n<p>The table1.tmstmp column is defined as: &quot;TMSTMP TIMESTAMP NOT NULL&quot;</p>\n<p>The table1 entity contains the following named query:</p>\n<pre><code>@NamedQuery(name = &quot;table1.getUpdTime&quot;, query = &quot;SELECT e FROM table1 e     \nWHERE e.tmstmp &gt;= :tmstmp order by e.tmstmp asc&quot;)\n</code></pre>\n<p>The tmstmp property is defined like this:</p>\n<pre><code>@Column(name = &quot;TMSTMP&quot;, nullable = false)\nprivate Timestamp tmstmp;\n</code></pre>\n<p>It is used like this:</p>\n<pre><code>TypedQuery&lt;EsEvnt&gt; query = em.createNamedQuery(&quot;table1.getUpdTime&quot;,\ntable1.class).setParameter(&quot;tmstmp&quot;, tmstmp); \n</code></pre>\n<p>For example, when the Timestamp variable (&quot;tmstmp&quot;), above, is equal to &quot;2016-06-30T09:28:33.247-04:00&quot;, it returns all records where the date portion is:  2016-06-30.</p>\n<p>Any ideas?</p>\n<p>I'd like to depend upon the &quot;where clause&quot; to explicitly select using the entire timestamp.</p>\n<h2>Update</h2>\n<p>I modified my query (seemed a native query was required) using the &quot;CAST&quot; function, as shown below, and it appears to work consistently:</p>\n<pre><code>//...note, date is in ISO format...\nLocalDateTime ldt = LocalDateTime.parse(tmstmpString, DateTimeFormatter.ISO_DATE_TIME);\nTimestamp tmstmp = Timestamp.valueOf(ldt);\n- \n-\n-\n// (see &quot;native query&quot;, coded below)...\nQuery query = em.createNativeQuery(&quot;SELECT * FROM table1 e WHERE e.tmstmp &gt;= CAST(?1 as TIMESTAMP)&quot;, Table1.class)  \n        .setParameter(1, tmstmp);  \nList&lt;Table1&gt; resultList = query.getResultList(); \n</code></pre>\n<hr />\n<p>WebLogic 12.1.3</p>\n<p>DB2</p>\n<p>Java 8</p>\n<p>EclipseLink 2.1</p>\n"},{"tags":["java","transform","rectangles","java-2d"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1673219574,"post_id":75051927,"comment_id":132443309,"body_markdown":"Based on https://stackoverflow.com/questions/24986287/what-is-the-correct-way-to-convert-a-shape-to-a-rectangle2d-double - I would say, no, it&#39;s not possible","body":"Based on <a href=\"https://stackoverflow.com/questions/24986287/what-is-the-correct-way-to-convert-a-shape-to-a-rectangle2d-double\" title=\"what is the correct way to convert a shape to a rectangle2d double\">stackoverflow.com/questions/24986287/&hellip;</a> - I would say, no, it&#39;s not possible"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1673219723,"post_id":75051927,"comment_id":132443325,"body_markdown":"`Path2D` has a `getBounds2D` method which returns a `Rectangle2D`, but I&#39;m not sure if this is what you really want","body":"<code>Path2D</code> has a <code>getBounds2D</code> method which returns a <code>Rectangle2D</code>, but I&#39;m not sure if this is what you really want"},{"owner":{"account_id":22060406,"reputation":44,"user_id":16323206,"display_name":"jazznbass"},"score":0,"creation_date":1673220762,"post_id":75051927,"comment_id":132443451,"body_markdown":"thanks for the replies. I have used getBounds2D, but it seems it only returns a bigger horizontally/vertically aligned rectangle, not a real rotated shape. Maybe I can manually try to recreate it by iterating through path2D points and calculate width &amp; height.","body":"thanks for the replies. I have used getBounds2D, but it seems it only returns a bigger horizontally/vertically aligned rectangle, not a real rotated shape. Maybe I can manually try to recreate it by iterating through path2D points and calculate width &amp; height."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1673221690,"post_id":75051927,"comment_id":132443585,"body_markdown":"Well, that&#39;s kind of the point of `Rectangle2D` it&#39;s a rectangle. Looking at `TexturePaint`, you&#39;re passing in a `BufferedImage` and the `Rectangle2D` represents the &quot;user space used to anchor&quot; the texture, so what you really want to be doing is rotating the image - having said that, the `createContext` method takes an `AffineTransform`, so maybe, you should be rotating applying the rotation to the `TexturePaint` instead ... never used it so I&#39;m just guessing at a lot of the functionality","body":"Well, that&#39;s kind of the point of <code>Rectangle2D</code> it&#39;s a rectangle. Looking at <code>TexturePaint</code>, you&#39;re passing in a <code>BufferedImage</code> and the <code>Rectangle2D</code> represents the &quot;user space used to anchor&quot; the texture, so what you really want to be doing is rotating the image - having said that, the <code>createContext</code> method takes an <code>AffineTransform</code>, so maybe, you should be rotating applying the rotation to the <code>TexturePaint</code> instead ... never used it so I&#39;m just guessing at a lot of the functionality"},{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1673222094,"post_id":75051927,"comment_id":132443626,"body_markdown":"Why do you care so much bout getting width and height?","body":"Why do you care so much bout getting width and height?"},{"owner":{"account_id":22060406,"reputation":44,"user_id":16323206,"display_name":"jazznbass"},"score":0,"creation_date":1673263302,"post_id":75051927,"comment_id":132451337,"body_markdown":"As MadProgrammer noted\n It looks like there is no such thing as rotation of Rectangle2D, because it is axis aligned, thanks, now it is clear. As for the createContext it can be done as mentioned here: https://stackoverflow.com/questions/2281815/java-custom-paint-implementation-performance-issue but then it is a new implementation of Paint interface","body":"As MadProgrammer noted  It looks like there is no such thing as rotation of Rectangle2D, because it is axis aligned, thanks, now it is clear. As for the createContext it can be done as mentioned here: <a href=\"https://stackoverflow.com/questions/2281815/java-custom-paint-implementation-performance-issue\" title=\"java custom paint implementation performance issue\">stackoverflow.com/questions/2281815/&hellip;</a> but then it is a new implementation of Paint interface"}],"owner":{"account_id":22060406,"reputation":44,"user_id":16323206,"display_name":"jazznbass"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673219226,"creation_date":1673219226,"question_id":75051927,"body_markdown":"Is it possible to scale or rotate a Rectangle2D and get a new transformed Rectangle2D?\r\nI know it is possible to get a Shape or Path2D, but how to get a new Rectangle2D from a specific Affine transform that in theory return a Rectangle also?\r\n\r\nMaybe reconstruct a new Rectangle2D from Path2D (iteration?), but how?\r\nRectangle2D will feed the TexturePaint class anchor parameter.\r\n\r\nmethods that return a Path2D/Shape\r\n\r\n``` \r\n       private Path2D.Double transformRotate(Rectangle2D.Double rect) {\r\n    \r\n        AffineTransform transform = new AffineTransform();\r\n          double theta=0.5;\r\n        double angle = Math.toRadians(theta);\r\n    //  transform.rotate(angle, rect.x + rect.width / 2, rect.y + rect.height / 2);   \r\n        transform.rotate( orientationX, orientationY, rect.x + rect.width / 2, rect.y + rect.height / 2);\r\n        \r\n        return new Path2D.Double(rect, transform);\r\n    }\r\n       \r\n\r\n``` \r\n\r\n``` \r\n                AffineTransform transformRect = new AffineTransform();\r\ntransformRect.rotate(orientationX, orientationY, rectFinal.getX() + rectFinal.getWidth()/2, rectFinal.getY() + rectFinal.getHeight()/2);\r\n\r\nShape rotatedRect =  transformRect.createTransformedShape(rectFinal); //or path2D\r\n\r\n``` \r\n\r\n ","title":"How to rotate and scale a Rectangle2D in java and return a Rectangle2D (not a Shape or Path2D)","body":"<p>Is it possible to scale or rotate a Rectangle2D and get a new transformed Rectangle2D?\nI know it is possible to get a Shape or Path2D, but how to get a new Rectangle2D from a specific Affine transform that in theory return a Rectangle also?</p>\n<p>Maybe reconstruct a new Rectangle2D from Path2D (iteration?), but how?\nRectangle2D will feed the TexturePaint class anchor parameter.</p>\n<p>methods that return a Path2D/Shape</p>\n<pre><code>       private Path2D.Double transformRotate(Rectangle2D.Double rect) {\n    \n        AffineTransform transform = new AffineTransform();\n          double theta=0.5;\n        double angle = Math.toRadians(theta);\n    //  transform.rotate(angle, rect.x + rect.width / 2, rect.y + rect.height / 2);   \n        transform.rotate( orientationX, orientationY, rect.x + rect.width / 2, rect.y + rect.height / 2);\n        \n        return new Path2D.Double(rect, transform);\n    }\n       \n\n</code></pre>\n<pre><code>                AffineTransform transformRect = new AffineTransform();\ntransformRect.rotate(orientationX, orientationY, rectFinal.getX() + rectFinal.getWidth()/2, rectFinal.getY() + rectFinal.getHeight()/2);\n\nShape rotatedRect =  transformRect.createTransformedShape(rectFinal); //or path2D\n\n</code></pre>\n"},{"tags":["java","windows","windows-8.1","wrapper","javaexe"],"comments":[{"owner":{"account_id":1581709,"reputation":16841,"user_id":1466970,"accept_rate":73,"display_name":"Richard Chambers"},"score":0,"creation_date":1414176186,"post_id":26554220,"comment_id":41730260,"body_markdown":"What version of Java were you using on the XP machine?  I have seen similar problems moving older Java applications which need to be updated for new Java Virtual Machine.","body":"What version of Java were you using on the XP machine?  I have seen similar problems moving older Java applications which need to be updated for new Java Virtual Machine."},{"owner":{"account_id":1581709,"reputation":16841,"user_id":1466970,"accept_rate":73,"display_name":"Richard Chambers"},"score":0,"creation_date":1414176395,"post_id":26554220,"comment_id":41730346,"body_markdown":"Also take a look at the [troubleshooting tips for using Java on Windows 8](https://www.java.com/en/download/faq/win8_faq.xml).","body":"Also take a look at the <a href=\"https://www.java.com/en/download/faq/win8_faq.xml\" rel=\"nofollow noreferrer\">troubleshooting tips for using Java on Windows 8</a>."},{"owner":{"account_id":1966316,"reputation":1669,"user_id":1766495,"accept_rate":49,"display_name":"lolveley"},"score":0,"creation_date":1414176642,"post_id":26554220,"comment_id":41730462,"body_markdown":"hello, the java version is 1.7.0_03 (on the winXP computer where it works), and on the laptop it is a java v1.8.0_25 x64. thanks","body":"hello, the java version is 1.7.0_03 (on the winXP computer where it works), and on the laptop it is a java v1.8.0_25 x64. thanks"},{"owner":{"account_id":1966316,"reputation":1669,"user_id":1766495,"accept_rate":49,"display_name":"lolveley"},"score":0,"creation_date":1414176954,"post_id":26554220,"comment_id":41730608,"body_markdown":"I also tried to launch the program with the win8 integrated firewall but without success","body":"I also tried to launch the program with the win8 integrated firewall but without success"},{"owner":{"account_id":1581709,"reputation":16841,"user_id":1466970,"accept_rate":73,"display_name":"Richard Chambers"},"score":0,"creation_date":1414177138,"post_id":26554220,"comment_id":41730696,"body_markdown":"One possibility is that it requires Admin privileges to run.  So you may need to start it as Admin.","body":"One possibility is that it requires Admin privileges to run.  So you may need to start it as Admin."},{"owner":{"account_id":2319537,"reputation":160,"user_id":2035715,"display_name":"bb67"},"score":0,"creation_date":1414177172,"post_id":26554220,"comment_id":41730716,"body_markdown":"your .exe has an UAC manifest to run as admin or &quot;asInvoke&quot; ?","body":"your .exe has an UAC manifest to run as admin or &quot;asInvoke&quot; ?"},{"owner":{"account_id":2319537,"reputation":160,"user_id":2035715,"display_name":"bb67"},"score":0,"creation_date":1414177411,"post_id":26554220,"comment_id":41730847,"body_markdown":"the applications that run automatically as Admin are blocked by windows, and must be manually confirmed to run","body":"the applications that run automatically as Admin are blocked by windows, and must be manually confirmed to run"},{"owner":{"account_id":1966316,"reputation":1669,"user_id":1766495,"accept_rate":49,"display_name":"lolveley"},"score":0,"creation_date":1414177574,"post_id":26554220,"comment_id":41730935,"body_markdown":"I did not mentionned this, but every time I launch the EXE, it is with a right-click and &quot;run as admin&quot;","body":"I did not mentionned this, but every time I launch the EXE, it is with a right-click and &quot;run as admin&quot;"},{"owner":{"account_id":1966316,"reputation":1669,"user_id":1766495,"accept_rate":49,"display_name":"lolveley"},"score":0,"creation_date":1414177613,"post_id":26554220,"comment_id":41730954,"body_markdown":"@bb67 : where can I find the UAC manifest?","body":"@bb67 : where can I find the UAC manifest?"},{"owner":{"account_id":2319537,"reputation":160,"user_id":2035715,"display_name":"bb67"},"score":0,"creation_date":1414177939,"post_id":26554220,"comment_id":41731114,"body_markdown":"Is that your problem occurs only at the automatic launch of the service when windows start and the user log on ?","body":"Is that your problem occurs only at the automatic launch of the service when windows start and the user log on ?"},{"owner":{"account_id":1966316,"reputation":1669,"user_id":1766495,"accept_rate":49,"display_name":"lolveley"},"score":0,"creation_date":1414178057,"post_id":26554220,"comment_id":41731176,"body_markdown":"well, I did not tested it with a reboot since it already does not work after a manual launch...","body":"well, I did not tested it with a reboot since it already does not work after a manual launch..."},{"owner":{"account_id":1966316,"reputation":1669,"user_id":1766495,"accept_rate":49,"display_name":"lolveley"},"score":0,"creation_date":1414178112,"post_id":26554220,"comment_id":41731198,"body_markdown":"I wonder why it could work after a reboot and not after a manual launch","body":"I wonder why it could work after a reboot and not after a manual launch"},{"owner":{"account_id":1966316,"reputation":1669,"user_id":1766495,"accept_rate":49,"display_name":"lolveley"},"score":0,"creation_date":1414251038,"post_id":26554220,"comment_id":41747601,"body_markdown":"@bb67 : I hope you did not thought I was sarcastic! Have you an other idea? I am stuck with this problem and it is for my work!","body":"@bb67 : I hope you did not thought I was sarcastic! Have you an other idea? I am stuck with this problem and it is for my work!"},{"owner":{"account_id":2319537,"reputation":160,"user_id":2035715,"display_name":"bb67"},"score":0,"creation_date":1414282915,"post_id":26554220,"comment_id":41756245,"body_markdown":"the JRE that you use on winXP is it 32bits or 64bits ? and which version of JavaExe (32bits or 64bits) did you use on your Windows 8.1 64bits ?","body":"the JRE that you use on winXP is it 32bits or 64bits ? and which version of JavaExe (32bits or 64bits) did you use on your Windows 8.1 64bits ?"}],"answers":[{"tags":[],"owner":{"account_id":2319537,"reputation":160,"user_id":2035715,"display_name":"bb67"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1414262398,"creation_date":1414262398,"answer_id":26565884,"question_id":26554220,"body_markdown":"I use also JavaExe for an interactive service and I tested it on Windows 8.1 Pro (32bits)\r\nwith JRE 1.7 and 1.8....and it works fine, manually and automatically (after reboot) : the service running and the taskbar running also and communicates.\r\n\r\nMy .exe isn&#39;t fixed to run always as admin. When I install the service, I right-click and run it &quot;as admin&quot;.\r\nBut, if I fix the .exe to always run as admin, I just double-click on .exe to install the service, but the taskbar doesn&#39;t run automatically after reboot : Windows 8.1 block the applications that automatically run as admin when the user log on.\r\n\r\nI tested also the examples of JavaExe (example8 and 23) and it also works.\r\nHave you the same problem with JavaExe&#39;s examples ?\r\n","title":"javaexe based program does not run normally on Windows 8.1","body":"<p>I use also JavaExe for an interactive service and I tested it on Windows 8.1 Pro (32bits)\nwith JRE 1.7 and 1.8....and it works fine, manually and automatically (after reboot) : the service running and the taskbar running also and communicates.</p>\n\n<p>My .exe isn't fixed to run always as admin. When I install the service, I right-click and run it \"as admin\".\nBut, if I fix the .exe to always run as admin, I just double-click on .exe to install the service, but the taskbar doesn't run automatically after reboot : Windows 8.1 block the applications that automatically run as admin when the user log on.</p>\n\n<p>I tested also the examples of JavaExe (example8 and 23) and it also works.\nHave you the same problem with JavaExe's examples ?</p>\n"}],"owner":{"account_id":1966316,"reputation":1669,"user_id":1766495,"accept_rate":49,"display_name":"lolveley"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":739,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1673219117,"creation_date":1414176005,"question_id":26554220,"body_markdown":"I created a program using javaexe, a wrapper for Java programs that allows them to be launched by an exe file. This program contains a service part, a taskbar part (they send messages one to another). The program purpose is to send SMS and the list of the SMS sent is available from the taskbar icon.\r\n\r\nThe program has been working since a few years on a Windows XP computer, but I would like to launch it from my Windows 8.1 laptop computer, and when I launch the EXE, the splash screen is displayed, the service is installed, but the icon in the taskbar does not appear, and the serviceInit method does not seem to be run.\r\n\r\nWhere does the problem come from? My computer uses Windows 8.1, with Avast! as antivirus and the Comodo firewall. I obviously tested my program having disabled these 2 security programs (Avast! and Comodo) but there is still the same problem.\r\n","title":"javaexe based program does not run normally on Windows 8.1","body":"<p>I created a program using javaexe, a wrapper for Java programs that allows them to be launched by an exe file. This program contains a service part, a taskbar part (they send messages one to another). The program purpose is to send SMS and the list of the SMS sent is available from the taskbar icon.</p>\n<p>The program has been working since a few years on a Windows XP computer, but I would like to launch it from my Windows 8.1 laptop computer, and when I launch the EXE, the splash screen is displayed, the service is installed, but the icon in the taskbar does not appear, and the serviceInit method does not seem to be run.</p>\n<p>Where does the problem come from? My computer uses Windows 8.1, with Avast! as antivirus and the Comodo firewall. I obviously tested my program having disabled these 2 security programs (Avast! and Comodo) but there is still the same problem.</p>\n"},{"tags":["java","boolean","boolean-operations"],"comments":[{"owner":{"account_id":251706,"reputation":5323,"user_id":529282,"display_name":"Martheen"},"score":1,"creation_date":1621221625,"post_id":67563551,"comment_id":119420859,"body_markdown":"Does this answer your question? [Read in yes/no boolean from terminal and produce an if else with inputted value](https://stackoverflow.com/questions/10386011/read-in-yes-no-boolean-from-terminal-and-produce-an-if-else-with-inputted-value)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/10386011/read-in-yes-no-boolean-from-terminal-and-produce-an-if-else-with-inputted-value\">Read in yes/no boolean from terminal and produce an if else with inputted value</a>"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1621227098,"post_id":67563551,"comment_id":119421798,"body_markdown":"You just need an `else` before the second `if`. This doesn&#39;t have much to do with `boolean`s.","body":"You just need an <code>else</code> before the second <code>if</code>. This doesn&#39;t have much to do with <code>boolean</code>s."}],"answers":[{"tags":[],"owner":{"account_id":10388424,"reputation":1158,"user_id":7660587,"display_name":"Pratap Alok Raj"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1673218813,"creation_date":1621221948,"answer_id":67563650,"question_id":67563551,"body_markdown":"Combine the conditions for which the student is allowed to attend the class. In this question, the conditions are medical == true or the % of class attended should be greater than 75. Please see the below code for reference\r\n\r\n    package A;\r\n    import java.util.Scanner;\r\n\tpublic class Practice5 {\r\n\r\n\t    public static void main(String[] args) {\r\n\t        // A student will not be allowed to sit in exam if his/her attendence is less than 75%\r\n\t        \r\n\t        Scanner S = new Scanner(System.in);\r\n\t        \r\n\t        System.out.println(&quot;Enter number of class attendend&quot;);\r\n\t        float Ca = S.nextFloat();\r\n\t        \r\n\t        System.out.println(&quot;Enter number of class held&quot;);\r\n\t        float Ch = S.nextFloat();\r\n\t        \r\n\t        System.out.println(&quot;Did student have any medical cause \\&quot;true or false?\\&quot;&quot;);\r\n\t        boolean medical = S.nextBoolean();\r\n\r\n\t        if (medical || (Ca/Ch*100 &gt;75)) {\r\n\t            System.out.println(&quot;You are allowed to sit in exam with &quot;+Ca/Ch*100 +&quot; Percentage of attendence&quot;);\r\n\t        }\r\n\t        else {\r\n\t            System.out.println(&quot;You are not allowed to sit in exam with &quot;+ Ca/Ch*100 + &quot; Percentage of attendance&quot;);\r\n\t        }\r\n\t        \r\n\t    }\r\n\r\n\t}\r\n","title":"Having problem in this boolean thing of java","body":"<p>Combine the conditions for which the student is allowed to attend the class. In this question, the conditions are medical == true or the % of class attended should be greater than 75. Please see the below code for reference</p>\n<pre><code>package A;\nimport java.util.Scanner;\npublic class Practice5 {\n\n    public static void main(String[] args) {\n        // A student will not be allowed to sit in exam if his/her attendence is less than 75%\n        \n        Scanner S = new Scanner(System.in);\n        \n        System.out.println(&quot;Enter number of class attendend&quot;);\n        float Ca = S.nextFloat();\n        \n        System.out.println(&quot;Enter number of class held&quot;);\n        float Ch = S.nextFloat();\n        \n        System.out.println(&quot;Did student have any medical cause \\&quot;true or false?\\&quot;&quot;);\n        boolean medical = S.nextBoolean();\n\n        if (medical || (Ca/Ch*100 &gt;75)) {\n            System.out.println(&quot;You are allowed to sit in exam with &quot;+Ca/Ch*100 +&quot; Percentage of attendence&quot;);\n        }\n        else {\n            System.out.println(&quot;You are not allowed to sit in exam with &quot;+ Ca/Ch*100 + &quot; Percentage of attendance&quot;);\n        }\n        \n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":21621502,"reputation":19,"user_id":15946443,"display_name":"Harsh Dalal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":964,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"closed_date":1621245693,"answer_count":1,"score":1,"last_activity_date":1673218813,"creation_date":1621221011,"question_id":67563551,"body_markdown":"&gt; A student will not be allowed to sit in exam if his/her attendence is less than 75%.Take following input from user:\r\n&gt;\r\n&gt;- Number of classes held\r\n&gt;- Number of classes attended\r\n&gt;\r\n&gt; and print percentage of class attended is student is allowed to sit in exam or not.\r\n&gt;\r\n&gt; Modify the above question to allow student to sit if he/she has medical cause. Ask user if he/she has medical cause or not ( &#39;Y&#39; or &#39;N&#39; ) and print accordingly.\r\n\r\nSo I am having a trouble in this question at medical part. Can someone tell me how to make this code more good. here is my code.\r\n```\r\npackage A;\r\nimport java.util.Scanner;\r\npublic class Practice5 {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t// A student will not be allowed to sit in exam if his/her attendence is less than 75%\r\n\t\t\r\n\t\tScanner S = new Scanner(System.in);\r\n\t\t\r\n\t\tSystem.out.println(&quot;Enter number of class attendend&quot;);\r\n\t\tfloat Ca = S.nextFloat();\r\n\t\t\r\n\t\tSystem.out.println(&quot;Enter number of class held&quot;);\r\n\t\tfloat Ch = S.nextFloat();\r\n\t\t\r\n    \tSystem.out.println(&quot;Did student have any medical cause \\&quot;true or false?\\&quot;&quot;);\r\n\t\tboolean medical = S.nextBoolean();\r\n\t\t\r\n\t\tif(Ca/Ch*100 &gt;75 ) {\r\n\t\t\t\tSystem.out.println(&quot;You are allowed to sit in exam with &quot;+Ca/Ch*100 +&quot; Percentage of attendence&quot;);\r\n\t\t}\r\n\t\t\r\n\t\tif (medical) {\r\n\t\t\tSystem.out.println(&quot;You are allowed to sit in exam with &quot;+Ca/Ch*100 +&quot; Percentage of attendence&quot;);\r\n\t\t}\r\n\t\t\r\n\t\telse {\r\n\t\t\tSystem.out.println(&quot;You are not allowed to sit in exam with &quot;+ Ca/Ch*100 + &quot; Percentage of attendance&quot;);\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\n}","title":"Having problem in this boolean thing of java","body":"<blockquote>\n<p>A student will not be allowed to sit in exam if his/her attendence is less than 75%.Take following input from user:</p>\n<ul>\n<li>Number of classes held</li>\n<li>Number of classes attended</li>\n</ul>\n<p>and print percentage of class attended is student is allowed to sit in exam or not.</p>\n<p>Modify the above question to allow student to sit if he/she has medical cause. Ask user if he/she has medical cause or not ( 'Y' or 'N' ) and print accordingly.</p>\n</blockquote>\n<p>So I am having a trouble in this question at medical part. Can someone tell me how to make this code more good. here is my code.</p>\n<pre><code>package A;\nimport java.util.Scanner;\npublic class Practice5 {\n\n    public static void main(String[] args) {\n        // A student will not be allowed to sit in exam if his/her attendence is less than 75%\n        \n        Scanner S = new Scanner(System.in);\n        \n        System.out.println(&quot;Enter number of class attendend&quot;);\n        float Ca = S.nextFloat();\n        \n        System.out.println(&quot;Enter number of class held&quot;);\n        float Ch = S.nextFloat();\n        \n        System.out.println(&quot;Did student have any medical cause \\&quot;true or false?\\&quot;&quot;);\n        boolean medical = S.nextBoolean();\n        \n        if(Ca/Ch*100 &gt;75 ) {\n                System.out.println(&quot;You are allowed to sit in exam with &quot;+Ca/Ch*100 +&quot; Percentage of attendence&quot;);\n        }\n        \n        if (medical) {\n            System.out.println(&quot;You are allowed to sit in exam with &quot;+Ca/Ch*100 +&quot; Percentage of attendence&quot;);\n        }\n        \n        else {\n            System.out.println(&quot;You are not allowed to sit in exam with &quot;+ Ca/Ch*100 + &quot; Percentage of attendance&quot;);\n        }\n        \n    }\n\n}\n</code></pre>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1673218465,"post_id":75050920,"comment_id":132443189,"body_markdown":"https://en.wikipedia.org/wiki/Jakarta_EE","body":"<a href=\"https://en.wikipedia.org/wiki/Jakarta_EE\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Jakarta_EE</a>"}],"answers":[{"tags":[],"owner":{"account_id":2322191,"reputation":141,"user_id":2037608,"accept_rate":100,"display_name":"gemorra"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1673218577,"creation_date":1673211001,"answer_id":75051184,"question_id":75050920,"body_markdown":"The Java EE is now called Jakarta EE.\r\n\r\nSee post, [*Java EE vs J2EE vs Jakarta EE*][1].\r\n\r\n\r\n  [1]: https://www.baeldung.com/java-enterprise-evolution#in-transition","title":"Java Enterprise doesn&#39;t appear in IntelliJ ultimate","body":"<p>The Java EE is now called Jakarta EE.</p>\n<p>See post, <a href=\"https://www.baeldung.com/java-enterprise-evolution#in-transition\" rel=\"nofollow noreferrer\"><em>Java EE vs J2EE vs Jakarta EE</em></a>.</p>\n"}],"owner":{"account_id":27471226,"reputation":29,"user_id":20960092,"display_name":"geirav&#246;r sk&#250;ld"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1673218577,"creation_date":1673208525,"question_id":75050920,"body_markdown":"I needed to create a java document, and I have inteliji ultimate, but when I create it, it does not appear, I found this link that says that it is necessary to add Java EE: EJB, JPA, Servlets plugin, but it still does not appear. \r\nis what I am looking for\r\n[enter image description here](https://i.stack.imgur.com/A2QDU.png)\r\nthis way it appears to me\r\n[enter image description here](https://i.stack.imgur.com/KAAWe.png)\r\n\r\nthanks :)\r\n\r\nI tried the solution on this website, and it didn&#39;t work.\r\nhttps://stackoverflow.com/questions/35812906/java-enterprise-doesnt-appear-in-intellij\r\nI also tried to deactivate and reactivate the plugins","title":"Java Enterprise doesn&#39;t appear in IntelliJ ultimate","body":"<p>I needed to create a java document, and I have inteliji ultimate, but when I create it, it does not appear, I found this link that says that it is necessary to add Java EE: EJB, JPA, Servlets plugin, but it still does not appear.\nis what I am looking for\n<a href=\"https://i.stack.imgur.com/A2QDU.png\" rel=\"nofollow noreferrer\">enter image description here</a>\nthis way it appears to me\n<a href=\"https://i.stack.imgur.com/KAAWe.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>thanks :)</p>\n<p>I tried the solution on this website, and it didn't work.\n<a href=\"https://stackoverflow.com/questions/35812906/java-enterprise-doesnt-appear-in-intellij\">Java Enterprise doesn&#39;t appear in IntelliJ</a>\nI also tried to deactivate and reactivate the plugins</p>\n"},{"tags":["java","spring","rabbitmq","spring-cloud","spring-rabbit"],"comments":[{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1637701211,"post_id":70087511,"comment_id":123896003,"body_markdown":"The property is indeed there https://github.com/spring-cloud/spring-cloud-stream-binder-rabbit/blob/09c8b9bdc5a172b4034b32ff4d70b094ccb616b7/spring-cloud-stream-binder-rabbit-core/src/main/java/org/springframework/cloud/stream/binder/rabbit/properties/RabbitConsumerProperties.java#L112-L115 - maybe 25000 is still not enough? The default is only 5000 less.","body":"The property is indeed there <a href=\"https://github.com/spring-cloud/spring-cloud-stream-binder-rabbit/blob/09c8b9bdc5a172b4034b32ff4d70b094ccb616b7/spring-cloud-stream-binder-rabbit-core/src/main/java/org/springframework/cloud/stream/binder/rabbit/properties/RabbitConsumerProperties.java#L112-L115\" rel=\"nofollow noreferrer\">github.com/spring-cloud/spring-cloud-stream-binder-rabbit/bl&zwnj;&#8203;ob/&hellip;</a> - maybe 25000 is still not enough? The default is only 5000 less."},{"owner":{"account_id":16711576,"reputation":434,"user_id":12078701,"display_name":"AnnKont"},"score":0,"creation_date":1637741501,"post_id":70087511,"comment_id":123904339,"body_markdown":"@GaryRussell when I send msg, I stopped in `AMQCommand.class` and see on 109 line that `frameMax=131072` (it is not 20000 as in documentation)","body":"@GaryRussell when I send msg, I stopped in <code>AMQCommand.class</code> and see on 109 line that <code>frameMax=131072</code> (it is not 20000 as in documentation)"}],"answers":[{"comments":[{"owner":{"account_id":16711576,"reputation":434,"user_id":12078701,"display_name":"AnnKont"},"score":0,"creation_date":1637763366,"post_id":70097337,"comment_id":123913125,"body_markdown":"So, I can just reduce the header `x-exception-stacktrace`. And I can&#39;t increase the space for all the other headers. Is this true?","body":"So, I can just reduce the header <code>x-exception-stacktrace</code>. And I can&#39;t increase the space for all the other headers. Is this true?"},{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1637765068,"post_id":70097337,"comment_id":123913923,"body_markdown":"The frame_max is determined by the server - by the default the client sends 0 when negotiating - which means the negotiated size will be the max size configured on the server. According to this https://blog.rabbitmq.com/posts/2012/11/breaking-things-with-rabbitmq-3-0/ (scroll down to `frame_max`) the default is 128kb but it can be increased on the server.","body":"The frame_max is determined by the server - by the default the client sends 0 when negotiating - which means the negotiated size will be the max size configured on the server. According to this <a href=\"https://blog.rabbitmq.com/posts/2012/11/breaking-things-with-rabbitmq-3-0/\" rel=\"nofollow noreferrer\">blog.rabbitmq.com/posts/2012/11/&hellip;</a> (scroll down to <code>frame_max</code>) the default is 128kb but it can be increased on the server."},{"owner":{"account_id":16711576,"reputation":434,"user_id":12078701,"display_name":"AnnKont"},"score":0,"creation_date":1637834937,"post_id":70097337,"comment_id":123933717,"body_markdown":"And how can I increase it?","body":"And how can I increase it?"},{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1637848816,"post_id":70097337,"comment_id":123939252,"body_markdown":"I don&#39;t know - I don&#39;t see it here https://www.rabbitmq.com/configure.html#config-items, but it does say `These variables are the most common. The list is not complete, as some settings are quite obscure.` - I suggest you ask the RabbitMQ folks on their `rabbitmq-users` Google group.","body":"I don&#39;t know - I don&#39;t see it here <a href=\"https://www.rabbitmq.com/configure.html#config-items\" rel=\"nofollow noreferrer\">rabbitmq.com/configure.html#config-items</a>, but it does say <code>These variables are the most common. The list is not complete, as some settings are quite obscure.</code> - I suggest you ask the RabbitMQ folks on their <code>rabbitmq-users</code> Google group."}],"tags":[],"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673211948,"creation_date":1637761981,"answer_id":70097337,"question_id":70087511,"body_markdown":"`frameMax` is negotiated between the [AMQP][1] client and server; all headers must fit in one frame. You can increase it with the broker configuration.\r\n\r\nStack traces can be large and can easily exceed the `frameMax` alone; in order to leave room for other headers, the framework leaves at least 20,000 bytes (by default) free for other headers, by truncating the stack trace header if necessary.\r\n\r\nIf you are exceeding your `frameMax`, you must have other large headers. You need to increase the headroom to allow for those headers, so the stack trace is truncated further.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Advanced_Message_Queuing_Protocol\r\n\r\n","title":"RabbitMQ throws an exception when sending to dead letter queue (DLQ) (maximum frame_size)","body":"<p><code>frameMax</code> is negotiated between the <a href=\"https://en.wikipedia.org/wiki/Advanced_Message_Queuing_Protocol\" rel=\"nofollow noreferrer\">AMQP</a> client and server; all headers must fit in one frame. You can increase it with the broker configuration.</p>\n<p>Stack traces can be large and can easily exceed the <code>frameMax</code> alone; in order to leave room for other headers, the framework leaves at least 20,000 bytes (by default) free for other headers, by truncating the stack trace header if necessary.</p>\n<p>If you are exceeding your <code>frameMax</code>, you must have other large headers. You need to increase the headroom to allow for those headers, so the stack trace is truncated further.</p>\n"}],"owner":{"account_id":16711576,"reputation":434,"user_id":12078701,"display_name":"AnnKont"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":255,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70097337,"answer_count":1,"score":0,"last_activity_date":1673218070,"creation_date":1637699944,"question_id":70087511,"body_markdown":"When I got a message from the queue and if an exception was thrown, I wanted to get the message again.\r\n\r\nSo, I create my consumer with a [DLQ][1] queue:\r\n\r\n```lang-none\r\nspring:\r\n  cloud:\r\n    stream:\r\n      bindings:\r\n        to-send-output:\r\n          destination: to-send-event\r\n          producer:\r\n            required-groups:\r\n              - to-send-event-group\r\n        to-send-input:\r\n          destination: to-send-event\r\n          group: to-send-event-group\r\n          consumer:\r\n            max-attempts: 1\r\n            requeueRejected: true\r\n      rabbit:\r\n        bindings:\r\n          # Forever retry\r\n          to-send-input:\r\n            consumer:\r\n              autoBindDlq: true\r\n              dlqTtl: 5000\r\n              dlqDeadLetterExchange:\r\n              maxConcurrency: 300\r\n              frameMaxHeadroom: 25000 # I added this as in the documentation\r\n```\r\n\r\nI added the property `frameMaxHeadroom: 25000` as it says in [the documentation][2], but it still does not work.\r\n\r\nMy `springCloudVersion=&quot;Hoxton.RELEASE&quot;`.\r\n\r\nMy dependency:\r\n\r\n```\r\ndependencies {\r\n...\r\n    implementation &quot;org.springframework.cloud:spring-cloud-starter-stream-rabbit&quot;\r\n...\r\n}\r\n```\r\n\r\nIn the repository [on GitHub][3], I see the `frameMaxHeadroom` property in the property file.\r\n\r\nI see that [the code][4] reduces the stack trace by the value I set (from a variable `frameMaxHeadroom`). I expected that I wasn&#39;t decreasing the stack trace, but increasing the value for the headers for the consumer, as written in the documentation.  Why isn&#39;t it working as I wait?\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Dead_letter_queue\r\n  [2]: https://github.com/spring-cloud/spring-cloud-stream-binder-rabbit#spring-cloud-stream-rabbit-frame-max-headroom\r\n  [3]: https://github.com/spring-cloud/spring-cloud-stream-binder-rabbit/blob/09c8b9bdc5a172b4034b32ff4d70b094ccb616b7/spring-cloud-stream-binder-rabbit-core/src/main/java/org/springframework/cloud/stream/binder/rabbit/properties/RabbitConsumerProperties.java#L112-L115\r\n  [4]: https://github.com/spring-cloud/spring-cloud-stream-binder-rabbit/blob/361566458036979bbbfe4f5ed31df8d0854fd8de/spring-cloud-stream-binder-rabbit/src/main/java/org/springframework/cloud/stream/binder/rabbit/RabbitMessageChannelBinder.java#L513\r\n\r\n\r\n\r\n","title":"RabbitMQ throws an exception when sending to dead letter queue (DLQ) (maximum frame_size)","body":"<p>When I got a message from the queue and if an exception was thrown, I wanted to get the message again.</p>\n<p>So, I create my consumer with a <a href=\"https://en.wikipedia.org/wiki/Dead_letter_queue\" rel=\"nofollow noreferrer\">DLQ</a> queue:</p>\n<pre class=\"lang-none prettyprint-override\"><code>spring:\n  cloud:\n    stream:\n      bindings:\n        to-send-output:\n          destination: to-send-event\n          producer:\n            required-groups:\n              - to-send-event-group\n        to-send-input:\n          destination: to-send-event\n          group: to-send-event-group\n          consumer:\n            max-attempts: 1\n            requeueRejected: true\n      rabbit:\n        bindings:\n          # Forever retry\n          to-send-input:\n            consumer:\n              autoBindDlq: true\n              dlqTtl: 5000\n              dlqDeadLetterExchange:\n              maxConcurrency: 300\n              frameMaxHeadroom: 25000 # I added this as in the documentation\n</code></pre>\n<p>I added the property <code>frameMaxHeadroom: 25000</code> as it says in <a href=\"https://github.com/spring-cloud/spring-cloud-stream-binder-rabbit#spring-cloud-stream-rabbit-frame-max-headroom\" rel=\"nofollow noreferrer\">the documentation</a>, but it still does not work.</p>\n<p>My <code>springCloudVersion=&quot;Hoxton.RELEASE&quot;</code>.</p>\n<p>My dependency:</p>\n<pre><code>dependencies {\n...\n    implementation &quot;org.springframework.cloud:spring-cloud-starter-stream-rabbit&quot;\n...\n}\n</code></pre>\n<p>In the repository <a href=\"https://github.com/spring-cloud/spring-cloud-stream-binder-rabbit/blob/09c8b9bdc5a172b4034b32ff4d70b094ccb616b7/spring-cloud-stream-binder-rabbit-core/src/main/java/org/springframework/cloud/stream/binder/rabbit/properties/RabbitConsumerProperties.java#L112-L115\" rel=\"nofollow noreferrer\">on GitHub</a>, I see the <code>frameMaxHeadroom</code> property in the property file.</p>\n<p>I see that <a href=\"https://github.com/spring-cloud/spring-cloud-stream-binder-rabbit/blob/361566458036979bbbfe4f5ed31df8d0854fd8de/spring-cloud-stream-binder-rabbit/src/main/java/org/springframework/cloud/stream/binder/rabbit/RabbitMessageChannelBinder.java#L513\" rel=\"nofollow noreferrer\">the code</a> reduces the stack trace by the value I set (from a variable <code>frameMaxHeadroom</code>). I expected that I wasn't decreasing the stack trace, but increasing the value for the headers for the consumer, as written in the documentation.  Why isn't it working as I wait?</p>\n"},{"tags":["java","android","xml","scaling"],"comments":[{"owner":{"account_id":8373673,"reputation":61868,"user_id":6287910,"display_name":"Cheticamp"},"score":0,"creation_date":1673222888,"post_id":75051722,"comment_id":132443715,"body_markdown":"`android:scaleType` is an attribute for _ImageViews_ and not for _TextViews_. I am not sure exactly what you are trying to accomplish, but I will suggest that you size the _TextViews_ to what you want and let the text size adjust itself using [autosizing](https://developer.android.com/develop/ui/views/text-and-emoji/autosizing-textview).","body":"<code>android:scaleType</code> is an attribute for <i>ImageViews</i> and not for <i>TextViews</i>. I am not sure exactly what you are trying to accomplish, but I will suggest that you size the <i>TextViews</i> to what you want and let the text size adjust itself using <a href=\"https://developer.android.com/develop/ui/views/text-and-emoji/autosizing-textview\" rel=\"nofollow noreferrer\">autosizing</a>."}],"owner":{"account_id":27471919,"reputation":57,"user_id":20960654,"display_name":"Marfog509"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673217071,"creation_date":1673217071,"question_id":75051722,"body_markdown":"I am trying to create a calculator and I want to scale the input and output for my calculator, I have added the following text to my xml code to solve this problem.\r\n```\r\nandroid:scaleX=&quot;1.0&quot;\r\n        android:scaleY=&quot;1.0&quot;\r\n        android:scaleType=&quot;fitXY&quot;\r\n```\r\nFor some reason the input and output of the numbers and symbols won&#39;t scale down to the screen size, I have run my app on different screen sizes but it won&#39;t scale. I don&#39;t understand why this doesn&#39;t work as I have tried this on a different app and it works (I scaled an image on the other app).\r\nHow do I fix this problem?\r\n\r\nThe following code is the full code for my input and output section in my activity_main.xml for my calculator app, if it is of any help.\r\n\r\n\r\n```\r\n?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    android:weightSum=&quot;10&quot;\r\n    tools:context=&quot;.MainActivity&quot;\r\n    android:scaleX=&quot;1.0&quot;\r\n    android:scaleY=&quot;1.0&quot;\r\n    android:scaleType=&quot;fitXY&quot;&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/tvsec&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        android:background=&quot;#000&quot;\r\n        android:text=&quot;&quot;\r\n        android:textColor=&quot;#f6f6f6&quot;\r\n        android:textSize=&quot;23sp&quot;\r\n        android:textAlignment=&quot;viewEnd&quot;\r\n        android:padding=&quot;10dp&quot;\r\n        android:gravity=&quot;bottom&quot;\r\n        android:maxLines=&quot;1&quot;\r\n        android:layout_weight=&quot;1&quot;\r\n        android:scaleX=&quot;1.0&quot;\r\n        android:scaleY=&quot;1.0&quot;\r\n        android:scaleType=&quot;fitXY&quot;&gt;\r\n\r\n    &lt;/TextView&gt;\r\n    &lt;TextView\r\n        android:id=&quot;@+id/tvmain&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        android:background=&quot;#000&quot;\r\n        android:text=&quot;&quot;\r\n        android:textColor=&quot;#fff&quot;\r\n        android:textSize=&quot;35sp&quot;\r\n        android:textAlignment=&quot;viewEnd&quot;\r\n        android:padding=&quot;10dp&quot;\r\n        android:gravity=&quot;bottom&quot;\r\n        android:maxLines=&quot;1&quot;\r\n        android:layout_weight=&quot;2&quot;\r\n        android:scaleX=&quot;1.0&quot;\r\n        android:scaleY=&quot;1.0&quot;\r\n        android:scaleType=&quot;fitXY&quot;&gt;\r\n    &lt;/TextView&gt;\r\n&lt;/LinearLayout&gt;\r\n```\r\n\r\n\r\n\r\nPlease let me know if there is anything I can add regarding information in order to solve this problem.","title":"Why doesn&#39;t my text not scale down in android studio when using code to scale text?","body":"<p>I am trying to create a calculator and I want to scale the input and output for my calculator, I have added the following text to my xml code to solve this problem.</p>\n<pre><code>android:scaleX=&quot;1.0&quot;\n        android:scaleY=&quot;1.0&quot;\n        android:scaleType=&quot;fitXY&quot;\n</code></pre>\n<p>For some reason the input and output of the numbers and symbols won't scale down to the screen size, I have run my app on different screen sizes but it won't scale. I don't understand why this doesn't work as I have tried this on a different app and it works (I scaled an image on the other app).\nHow do I fix this problem?</p>\n<p>The following code is the full code for my input and output section in my activity_main.xml for my calculator app, if it is of any help.</p>\n<pre><code>?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:orientation=&quot;vertical&quot;\n    android:weightSum=&quot;10&quot;\n    tools:context=&quot;.MainActivity&quot;\n    android:scaleX=&quot;1.0&quot;\n    android:scaleY=&quot;1.0&quot;\n    android:scaleType=&quot;fitXY&quot;&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/tvsec&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;0dp&quot;\n        android:background=&quot;#000&quot;\n        android:text=&quot;&quot;\n        android:textColor=&quot;#f6f6f6&quot;\n        android:textSize=&quot;23sp&quot;\n        android:textAlignment=&quot;viewEnd&quot;\n        android:padding=&quot;10dp&quot;\n        android:gravity=&quot;bottom&quot;\n        android:maxLines=&quot;1&quot;\n        android:layout_weight=&quot;1&quot;\n        android:scaleX=&quot;1.0&quot;\n        android:scaleY=&quot;1.0&quot;\n        android:scaleType=&quot;fitXY&quot;&gt;\n\n    &lt;/TextView&gt;\n    &lt;TextView\n        android:id=&quot;@+id/tvmain&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;0dp&quot;\n        android:background=&quot;#000&quot;\n        android:text=&quot;&quot;\n        android:textColor=&quot;#fff&quot;\n        android:textSize=&quot;35sp&quot;\n        android:textAlignment=&quot;viewEnd&quot;\n        android:padding=&quot;10dp&quot;\n        android:gravity=&quot;bottom&quot;\n        android:maxLines=&quot;1&quot;\n        android:layout_weight=&quot;2&quot;\n        android:scaleX=&quot;1.0&quot;\n        android:scaleY=&quot;1.0&quot;\n        android:scaleType=&quot;fitXY&quot;&gt;\n    &lt;/TextView&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>Please let me know if there is anything I can add regarding information in order to solve this problem.</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":10298861,"reputation":111,"user_id":7598149,"display_name":"kesaven"},"score":0,"creation_date":1673164934,"post_id":75045509,"comment_id":132433606,"body_markdown":"Could it not work is you define an exception as parent class and make extend the parent exception to make other exception, then you only need to handle the parent exception.","body":"Could it not work is you define an exception as parent class and make extend the parent exception to make other exception, then you only need to handle the parent exception."}],"answers":[{"comments":[{"owner":{"account_id":26112588,"reputation":65,"user_id":19806238,"display_name":"planktonchumbucket"},"score":0,"creation_date":1673218611,"post_id":75051667,"comment_id":132443207,"body_markdown":"I can&#39;t do it like this `@ExceptionHandler(MyCustomException.class)` where I have the exception handler listen for my custom exception because its not picking up my custom exception. When I throw `MyCustomException` at runtime during construction of an object it gets converted to a `WebFrameworkException` instead.","body":"I can&#39;t do it like this <code>@ExceptionHandler(MyCustomException.class)</code> where I have the exception handler listen for my custom exception because its not picking up my custom exception. When I throw <code>MyCustomException</code> at runtime during construction of an object it gets converted to a <code>WebFrameworkException</code> instead."},{"owner":{"account_id":8986732,"reputation":1074,"user_id":6700091,"display_name":"Kamil Bęben"},"score":0,"creation_date":1673255641,"post_id":75051667,"comment_id":132448850,"body_markdown":"I see, if that&#39;s the case then you could create an exception handler for WebFrameworkException, check whether e.getCause() points to your custom exception, otherwise - re-throw it again without any handling.","body":"I see, if that&#39;s the case then you could create an exception handler for WebFrameworkException, check whether e.getCause() points to your custom exception, otherwise - re-throw it again without any handling."}],"tags":[],"owner":{"account_id":8986732,"reputation":1074,"user_id":6700091,"display_name":"Kamil Bęben"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673216450,"creation_date":1673216450,"answer_id":75051667,"question_id":75045509,"body_markdown":"You can have multiple exception handling methods defined, similarly to catch-blocks\r\n\r\n    @ExceptionHandler(MyCustomException.class)\r\n    public ResponseEntity&lt;Object&gt; handleMyCustomException(MyCustomException exception) { ... }\r\n\r\n    @ExceptionHandler(Exception.class)\r\n    public ResponseEntity&lt;Object&gt; handleGenericException(Exception exception) { ... }\r\n\r\n","title":"How to add an Exception Handler for an exception type that could be custom or default","body":"<p>You can have multiple exception handling methods defined, similarly to catch-blocks</p>\n<pre><code>@ExceptionHandler(MyCustomException.class)\npublic ResponseEntity&lt;Object&gt; handleMyCustomException(MyCustomException exception) { ... }\n\n@ExceptionHandler(Exception.class)\npublic ResponseEntity&lt;Object&gt; handleGenericException(Exception exception) { ... }\n</code></pre>\n"}],"owner":{"account_id":26112588,"reputation":65,"user_id":19806238,"display_name":"planktonchumbucket"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75051667,"answer_count":1,"score":0,"last_activity_date":1673216450,"creation_date":1673152292,"question_id":75045509,"body_markdown":"I have a use case where for certain exception&#39;s that are normally thrown by a web framework that I can override the value by using my own `MyCustomException` object.\r\n```\r\n@ExceptionHandler({SomeWebFrameworkException.class})\r\npublic ResponseEntity&lt;Object&gt; handleException(MyCustomException exception) { ... }\r\n```\r\n\r\nHowever, if I want an exception handler to be able to be able to accept my custom exception then, I would need to cover all cases of this web framework error being thrown. Is there a way to somehow make it accept MyCustomException as input otherwise just default to a normal Exception ? If I just use a simple `Exception` as the input then, it would end up getting treated as the SomeWebFrameworkException instead of my own.\r\n```\r\n@ExceptionHandler({SomeWebFrameworkException.class})\r\npublic ResponseEntity&lt;Object&gt; handleException(Exception exception1, MyCustomException exception2) { ... }\r\n```","title":"How to add an Exception Handler for an exception type that could be custom or default","body":"<p>I have a use case where for certain exception's that are normally thrown by a web framework that I can override the value by using my own <code>MyCustomException</code> object.</p>\n<pre><code>@ExceptionHandler({SomeWebFrameworkException.class})\npublic ResponseEntity&lt;Object&gt; handleException(MyCustomException exception) { ... }\n</code></pre>\n<p>However, if I want an exception handler to be able to be able to accept my custom exception then, I would need to cover all cases of this web framework error being thrown. Is there a way to somehow make it accept MyCustomException as input otherwise just default to a normal Exception ? If I just use a simple <code>Exception</code> as the input then, it would end up getting treated as the SomeWebFrameworkException instead of my own.</p>\n<pre><code>@ExceptionHandler({SomeWebFrameworkException.class})\npublic ResponseEntity&lt;Object&gt; handleException(Exception exception1, MyCustomException exception2) { ... }\n</code></pre>\n"},{"tags":["java","spring","pdf","thymeleaf","httpurlconnection"],"comments":[{"owner":{"account_id":208830,"reputation":10240,"user_id":459557,"display_name":"vanje"},"score":0,"creation_date":1673116151,"post_id":75042470,"comment_id":132427641,"body_markdown":"On the server side, you can open the PDF with PDFBox and create an image for each page. Then you can show the images on client side without the need to download the full PDF file. See [Convert PDF files to images with PDFBox](https://stackoverflow.com/questions/23326562/convert-pdf-files-to-images-with-pdfbox).","body":"On the server side, you can open the PDF with PDFBox and create an image for each page. Then you can show the images on client side without the need to download the full PDF file. See <a href=\"https://stackoverflow.com/questions/23326562/convert-pdf-files-to-images-with-pdfbox\">Convert PDF files to images with PDFBox</a>."}],"answers":[{"tags":[],"owner":{"account_id":8986732,"reputation":1074,"user_id":6700091,"display_name":"Kamil Bęben"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673215882,"creation_date":1673215882,"answer_id":75051624,"question_id":75042470,"body_markdown":"You could create a method in your controller that allows user to download that file as described in answer to [this question][1], then on the client side, place an iframe pointing to that endpoint .:\r\n\r\n    &lt;iframe sec=&quot;/controller_mapping/method_mapping&quot;/&gt;\r\n\r\nYou can control it&#39;s width and height using style tag.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/75038694/return-file-from-google-cloud-storage-through-rest-api-without-downloading-local","title":"Is there a way to render a pdf document in thymeleaf, which is stored in a remote server and without downloading it?","body":"<p>You could create a method in your controller that allows user to download that file as described in answer to <a href=\"https://stackoverflow.com/questions/75038694/return-file-from-google-cloud-storage-through-rest-api-without-downloading-local\">this question</a>, then on the client side, place an iframe pointing to that endpoint .:</p>\n<pre><code>&lt;iframe sec=&quot;/controller_mapping/method_mapping&quot;/&gt;\n</code></pre>\n<p>You can control it's width and height using style tag.</p>\n"}],"owner":{"account_id":19112804,"reputation":11,"user_id":13958472,"display_name":"Reggie Fils-Aim&#233;"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":333,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1673215882,"creation_date":1673113217,"question_id":75042470,"body_markdown":"I have to write an application to render PDF documents with Thymeleaf. These documents are stored in a remote server and are accesed through HTTP. \r\n\r\nI know it is possible to render PDF documents, when they are stored in the project&#180;s ressource folder. But I don`t want to download them.  \r\n\r\nIs there any possible way?\r\n\r\nI am receiving the file with the following code: \r\n        \r\n            URL url = new URL(&quot;http://10.139.1.240:8080/document.pdf&quot;);\r\n            HttpURLConnection connection = (HttpURLConnection) url.openConnection();\r\n            if (connection.getResponseCode() == 200) {\r\n                try (InputStreamReader streamReader = new InputStreamReader(connection.getInputStream());\r\n                     BufferedReader br = new BufferedReader(streamReader);\r\n                     Stream&lt;String&gt; lines = br.lines()) {\r\n                    Desktop.getDesktop().browse(url.toURI());\r\n               \r\n                } catch (URISyntaxException e) {\r\n                    throw new RuntimeException(e);\r\n                }\r\n            }\r\n      ","title":"Is there a way to render a pdf document in thymeleaf, which is stored in a remote server and without downloading it?","body":"<p>I have to write an application to render PDF documents with Thymeleaf. These documents are stored in a remote server and are accesed through HTTP.</p>\n<p>I know it is possible to render PDF documents, when they are stored in the project´s ressource folder. But I don`t want to download them.</p>\n<p>Is there any possible way?</p>\n<p>I am receiving the file with the following code:</p>\n<pre><code>        URL url = new URL(&quot;http://10.139.1.240:8080/document.pdf&quot;);\n        HttpURLConnection connection = (HttpURLConnection) url.openConnection();\n        if (connection.getResponseCode() == 200) {\n            try (InputStreamReader streamReader = new InputStreamReader(connection.getInputStream());\n                 BufferedReader br = new BufferedReader(streamReader);\n                 Stream&lt;String&gt; lines = br.lines()) {\n                Desktop.getDesktop().browse(url.toURI());\n           \n            } catch (URISyntaxException e) {\n                throw new RuntimeException(e);\n            }\n        }\n  \n</code></pre>\n"},{"tags":["java","spring-boot","thymeleaf"],"answers":[{"comments":[{"owner":{"account_id":320797,"reputation":5319,"user_id":639258,"accept_rate":92,"display_name":"Pramod Karandikar"},"score":0,"creation_date":1562816435,"post_id":56969468,"comment_id":100498126,"body_markdown":"Doesn&#39;t work, getting error as `class path resource [templates/*template-name.html] cannot be opened because it does not exist`","body":"Doesn&#39;t work, getting error as <code>class path resource [templates&#47;*template-name.html] cannot be opened because it does not exist</code>"},{"owner":{"account_id":4902239,"reputation":153,"user_id":3950069,"display_name":"Mansoor Ali"},"score":0,"creation_date":1562820219,"post_id":56969468,"comment_id":100498904,"body_markdown":"share the code where you are trying to process`[templates/*template-name.html]`","body":"share the code where you are trying to process<code>[templates&#47;*template-name.html]</code>"}],"tags":[],"owner":{"account_id":4902239,"reputation":153,"user_id":3950069,"display_name":"Mansoor Ali"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1562757087,"creation_date":1562757087,"answer_id":56969468,"question_id":56968750,"body_markdown":"add the following configuration class in your app\r\n\r\n    @Configuration\r\n    public class ThymeleafConfig {\r\n\r\n      @Bean\r\n      public SpringTemplateEngine springTemplateEngine() {\r\n        SpringTemplateEngine templateEngine = new SpringTemplateEngine();\r\n        templateEngine.addTemplateResolver(htmlTemplateResolver());\r\n        return templateEngine;\r\n      }\r\n    \r\n      @Bean\r\n      public SpringResourceTemplateResolver htmlTemplateResolver() {\r\n        SpringResourceTemplateResolver templateResolver =\r\n            new SpringResourceTemplateResolver();\r\n        templateResolver.setPrefix(&quot;classpath:/templates/&quot;);\r\n        templateResolver.setSuffix(&quot;.html&quot;);\r\n        templateResolver.setTemplateMode(\r\n            StandardTemplateModeHandlers.HTML5.getTemplateModeName());\r\n        templateResolver.setCharacterEncoding(StandardCharsets.UTF_8.name());\r\n        return templateResolver;\r\n      }\r\n\r\n    }\r\n","title":"Spring Boot Thymeleaf: Unable to pick up templates from sub-folders under resources/templates","body":"<p>add the following configuration class in your app</p>\n\n<pre><code>@Configuration\npublic class ThymeleafConfig {\n\n  @Bean\n  public SpringTemplateEngine springTemplateEngine() {\n    SpringTemplateEngine templateEngine = new SpringTemplateEngine();\n    templateEngine.addTemplateResolver(htmlTemplateResolver());\n    return templateEngine;\n  }\n\n  @Bean\n  public SpringResourceTemplateResolver htmlTemplateResolver() {\n    SpringResourceTemplateResolver templateResolver =\n        new SpringResourceTemplateResolver();\n    templateResolver.setPrefix(\"classpath:/templates/\");\n    templateResolver.setSuffix(\".html\");\n    templateResolver.setTemplateMode(\n        StandardTemplateModeHandlers.HTML5.getTemplateModeName());\n    templateResolver.setCharacterEncoding(StandardCharsets.UTF_8.name());\n    return templateResolver;\n  }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18419629,"reputation":51,"user_id":13417603,"display_name":"Ohonovskiy"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673215574,"creation_date":1673182131,"answer_id":75047877,"question_id":56968750,"body_markdown":"Mine didn&#39;t work until I changed `templateResolver.setPrefix(&quot;/WEB-INF/views/&quot;);` to `templateResolver.setPrefix(&quot;/WEB-INF/templates/&quot;);` and renamed the views folder to `templates`. \r\n\r\nI have no idea why but this is the way it is.","title":"Spring Boot Thymeleaf: Unable to pick up templates from sub-folders under resources/templates","body":"<p>Mine didn't work until I changed <code>templateResolver.setPrefix(&quot;/WEB-INF/views/&quot;);</code> to <code>templateResolver.setPrefix(&quot;/WEB-INF/templates/&quot;);</code> and renamed the views folder to <code>templates</code>.</p>\n<p>I have no idea why but this is the way it is.</p>\n"}],"owner":{"account_id":320797,"reputation":5319,"user_id":639258,"accept_rate":92,"display_name":"Pramod Karandikar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":711,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1673215574,"creation_date":1562754500,"question_id":56968750,"body_markdown":"I am using Thymeleaf v3.0.11.RELEASE Spring Boot v2.1.3.RELEASE, and I am facing issues with my templates placed under classpath:templates/folder1/folder2/.\r\n\r\nI tried the below approaches\r\n\r\n - Setting up the property `spring.thymeleaf.prefix` to `classpath:/templates/**/`, `classpath:/templates/*` and other similar patterns\r\n -  Tried adding the template resolver in application startup class.\r\n\r\n        @Bean\r\n        public TemplateEngine emailTemplateEngine() {\r\n            final SpringTemplateEngine templateEngine = new SpringTemplateEngine();\r\n            templateEngine.addTemplateResolver(htmlTemplateResolver());\r\n            return templateEngine;\r\n        }\r\n    \r\n        private ITemplateResolver htmlTemplateResolver() {\r\n            final ClassLoaderTemplateResolver templateResolver = new ClassLoaderTemplateResolver();\r\n            templateResolver.setResolvablePatterns(Collections.singleton(&quot;/*&quot;));\r\n            templateResolver.setTemplateMode(TemplateMode.HTML);\r\n            templateResolver.setCharacterEncoding(&quot;UTF-8&quot;);\r\n            templateResolver.setCacheable(false);\r\n            return templateResolver;\r\n    }\r\n\r\nThese approaches aren&#39;t working and I am still getting error:\r\n\r\n    &quot;Error resolving template [template_name], template might not exist or might not be accessible by any of the configured Template Resolvers&quot;\r\n\r\nAm I missing something? I just need to know the way to enable wildcards for the suffix.\r\n\r\nNote: It works if I hard code `classpath:templates/folder1/folder2`, but I can&#39;t since there are going to be multiple folders and I don&#39;t want to fixate all the folder names.  ","title":"Spring Boot Thymeleaf: Unable to pick up templates from sub-folders under resources/templates","body":"<p>I am using Thymeleaf v3.0.11.RELEASE Spring Boot v2.1.3.RELEASE, and I am facing issues with my templates placed under classpath:templates/folder1/folder2/.</p>\n\n<p>I tried the below approaches</p>\n\n<ul>\n<li>Setting up the property <code>spring.thymeleaf.prefix</code> to <code>classpath:/templates/**/</code>, <code>classpath:/templates/*</code> and other similar patterns</li>\n<li><p>Tried adding the template resolver in application startup class.</p>\n\n<pre><code>@Bean\npublic TemplateEngine emailTemplateEngine() {\n    final SpringTemplateEngine templateEngine = new SpringTemplateEngine();\n    templateEngine.addTemplateResolver(htmlTemplateResolver());\n    return templateEngine;\n}\n\nprivate ITemplateResolver htmlTemplateResolver() {\n    final ClassLoaderTemplateResolver templateResolver = new ClassLoaderTemplateResolver();\n    templateResolver.setResolvablePatterns(Collections.singleton(\"/*\"));\n    templateResolver.setTemplateMode(TemplateMode.HTML);\n    templateResolver.setCharacterEncoding(\"UTF-8\");\n    templateResolver.setCacheable(false);\n    return templateResolver;\n</code></pre>\n\n<p>}</p></li>\n</ul>\n\n<p>These approaches aren't working and I am still getting error:</p>\n\n<pre><code>\"Error resolving template [template_name], template might not exist or might not be accessible by any of the configured Template Resolvers\"\n</code></pre>\n\n<p>Am I missing something? I just need to know the way to enable wildcards for the suffix.</p>\n\n<p>Note: It works if I hard code <code>classpath:templates/folder1/folder2</code>, but I can't since there are going to be multiple folders and I don't want to fixate all the folder names.  </p>\n"},{"tags":["java","memory-management","operating-system"],"comments":[{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1673215354,"post_id":75051565,"comment_id":132442788,"body_markdown":"wtf is this? Java is a language without explicit memory management.","body":"wtf is this? Java is a language without explicit memory management."}],"owner":{"account_id":20562622,"reputation":1,"user_id":15092795,"display_name":"Rayan taleb"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673215097,"creation_date":1673215003,"question_id":75051565,"body_markdown":"After deallocating two contiguous blocks I don&#39;t know why they are not merging this function is only merging deallocated blocks with free memory I have no idea what is wrong with this code this is what I tried how can I fix it?\r\n\r\npublic void deallocate(MemoryBlock block) {\r\n    block.allocated = false;\r\n\r\n    // Find the previous and next blocks in the list\r\n    int index = blocks.indexOf(block);\r\n    MemoryBlock prevBlock = index &gt; 0 ? blocks.get(index - 1) : null;\r\n    MemoryBlock nextBlock = index &lt; blocks.size() - 1 ? blocks.get(index + 1) : null;\r\n\r\n    // Try to merge the current block with the previous and next blocks, if they are free\r\n    if (prevBlock != null &amp;&amp; !prevBlock.allocated) {\r\n      prevBlock.size += block.size;\r\n      blocks.remove(block);\r\n      block = prevBlock;\r\n      if (nextBlock != null &amp;&amp; !nextBlock.allocated) {\r\n        block.size += nextBlock.size;\r\n        blocks.remove(nextBlock);\r\n      }\r\n    } else if (nextBlock != null &amp;&amp; !nextBlock.allocated) {\r\n      block.size += nextBlock.size;\r\n      blocks.remove(nextBlock);\r\n    }\r\n}\r\n\r\n","title":"deallocate method is not correctly merging the free blocks after deallocating them","body":"<p>After deallocating two contiguous blocks I don't know why they are not merging this function is only merging deallocated blocks with free memory I have no idea what is wrong with this code this is what I tried how can I fix it?</p>\n<p>public void deallocate(MemoryBlock block) {\nblock.allocated = false;</p>\n<pre><code>// Find the previous and next blocks in the list\nint index = blocks.indexOf(block);\nMemoryBlock prevBlock = index &gt; 0 ? blocks.get(index - 1) : null;\nMemoryBlock nextBlock = index &lt; blocks.size() - 1 ? blocks.get(index + 1) : null;\n\n// Try to merge the current block with the previous and next blocks, if they are free\nif (prevBlock != null &amp;&amp; !prevBlock.allocated) {\n  prevBlock.size += block.size;\n  blocks.remove(block);\n  block = prevBlock;\n  if (nextBlock != null &amp;&amp; !nextBlock.allocated) {\n    block.size += nextBlock.size;\n    blocks.remove(nextBlock);\n  }\n} else if (nextBlock != null &amp;&amp; !nextBlock.allocated) {\n  block.size += nextBlock.size;\n  blocks.remove(nextBlock);\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","spring","spring-boot","jpa"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1673197454,"post_id":75049080,"comment_id":132439353,"body_markdown":"It is still not clear what your application needs to receive when you fetch Players. If you want the club data every time included with the player, it has to be fetched ever time. You can either make the relationship eager OR create a special accessor in the repository that triggers the relationship (fetch joins within the query, a entity fetch/load graph, or access an attribute within the clubs to ensure it is fetched). There is no need for a separate DTO if you don&#39;t want the relationship - just mark it with JSON ignorable and it won&#39;t be included, so can be left lazily/unfetched.","body":"It is still not clear what your application needs to receive when you fetch Players. If you want the club data every time included with the player, it has to be fetched ever time. You can either make the relationship eager OR create a special accessor in the repository that triggers the relationship (fetch joins within the query, a entity fetch/load graph, or access an attribute within the clubs to ensure it is fetched). There is no need for a separate DTO if you don&#39;t want the relationship - just mark it with JSON ignorable and it won&#39;t be included, so can be left lazily/unfetched."},{"owner":{"account_id":21399076,"reputation":107,"user_id":15761589,"display_name":"funnyguy"},"score":0,"creation_date":1673198393,"post_id":75049080,"comment_id":132439565,"body_markdown":"I want to have when fetching a player/list of players (when fetching it from the controller!), but I thought that making it `EAGER` is not the best idea, since I might use not always need to use players, if I make some other operations with the players not related to the API endpoint I provided.","body":"I want to have when fetching a player/list of players (when fetching it from the controller!), but I thought that making it <code>EAGER</code> is not the best idea, since I might use not always need to use players, if I make some other operations with the players not related to the API endpoint I provided."},{"owner":{"account_id":21399076,"reputation":107,"user_id":15761589,"display_name":"funnyguy"},"score":0,"creation_date":1673198636,"post_id":75049080,"comment_id":132439621,"body_markdown":"So I just thought about it in a way, that I only need the information of clubs eagerly when making API calls: getting all players and getting a single player. But on the other hand I thought that I might do some operations with the players (e.g. setting all of them some property at once), where I wouldn&#39;t need the information of their Clubs then. Or am I misunderstanding something?","body":"So I just thought about it in a way, that I only need the information of clubs eagerly when making API calls: getting all players and getting a single player. But on the other hand I thought that I might do some operations with the players (e.g. setting all of them some property at once), where I wouldn&#39;t need the information of their Clubs then. Or am I misunderstanding something?"}],"answers":[{"comments":[{"owner":{"account_id":13542195,"reputation":139,"user_id":9769594,"display_name":"warmCabin"},"score":0,"creation_date":1673194473,"post_id":75049130,"comment_id":132438709,"body_markdown":"Definitely an antipattern. What would you do if it was many-to-many and there was a whole list of clubs? And each club had a bunch of its own lazily loaded child objects?","body":"Definitely an antipattern. What would you do if it was many-to-many and there was a whole list of clubs? And each club had a bunch of its own lazily loaded child objects?"},{"owner":{"account_id":21399076,"reputation":107,"user_id":15761589,"display_name":"funnyguy"},"score":0,"creation_date":1673194710,"post_id":75049130,"comment_id":132438750,"body_markdown":"so what would you suggest, where should I do converting the club to dto in my code?","body":"so what would you suggest, where should I do converting the club to dto in my code?"},{"owner":{"account_id":13542195,"reputation":139,"user_id":9769594,"display_name":"warmCabin"},"score":0,"creation_date":1673194946,"post_id":75049130,"comment_id":132438801,"body_markdown":"Check my answer. Basically just make a ClubDto, a Club -&gt; ClubDto converter method, and call that inside your Player -&gt; PlayerDto converter method.","body":"Check my answer. Basically just make a ClubDto, a Club -&gt; ClubDto converter method, and call that inside your Player -&gt; PlayerDto converter method."},{"owner":{"account_id":21399076,"reputation":107,"user_id":15761589,"display_name":"funnyguy"},"score":0,"creation_date":1673195183,"post_id":75049130,"comment_id":132438867,"body_markdown":"do you say that I should do it here? but how?\n\n`private PlayerDto convertToDto(Player player) { return modelMapper.map(player, PlayerDto.class)  }`","body":"do you say that I should do it here? but how?  <code>private PlayerDto convertToDto(Player player) { return modelMapper.map(player, PlayerDto.class)  }</code>"},{"owner":{"account_id":13542195,"reputation":139,"user_id":9769594,"display_name":"warmCabin"},"score":0,"creation_date":1673195631,"post_id":75049130,"comment_id":132438956,"body_markdown":"I&#39;m not too familiar with ModelMapper, but from what I can tell, it should just work if you change `private Club club;` to `private ClubDto club` in your PlayerDto class.","body":"I&#39;m not too familiar with ModelMapper, but from what I can tell, it should just work if you change <code>private Club club;</code> to <code>private ClubDto club</code> in your PlayerDto class."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1673197760,"post_id":75049130,"comment_id":132439424,"body_markdown":"I don&#39;t know why this would be an anti pattern - seems fine to me. There are more efficient ways to fetch the club ids and the player entities in a single query without triggering the relationship, but what you have is a common approach that can easily be optimized in the future IF necessary. If you players are cached, they may already have the referenced clubs fetched - or adding caching in the future is an alternative way to have the getClub cost less.","body":"I don&#39;t know why this would be an anti pattern - seems fine to me. There are more efficient ways to fetch the club ids and the player entities in a single query without triggering the relationship, but what you have is a common approach that can easily be optimized in the future IF necessary. If you players are cached, they may already have the referenced clubs fetched - or adding caching in the future is an alternative way to have the getClub cost less."},{"owner":{"account_id":21399076,"reputation":107,"user_id":15761589,"display_name":"funnyguy"},"score":0,"creation_date":1673197994,"post_id":75049130,"comment_id":132439483,"body_markdown":"that would change everything, because I&#39;m struggling with creating this ClubDto and making it work with this problem especially that I can&#39;t invoke `clubInterface` and `clubMapper` to the `PlayerDto`.","body":"that would change everything, because I&#39;m struggling with creating this ClubDto and making it work with this problem especially that I can&#39;t invoke <code>clubInterface</code> and <code>clubMapper</code> to the <code>PlayerDto</code>."},{"owner":{"account_id":21399076,"reputation":107,"user_id":15761589,"display_name":"funnyguy"},"score":0,"creation_date":1673199612,"post_id":75049130,"comment_id":132439840,"body_markdown":"@Chris could you check my edited answer? Is the current version fine?","body":"@Chris could you check my edited answer? Is the current version fine?"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1673278310,"post_id":75049130,"comment_id":132457104,"body_markdown":"getAllPlayers, if you want to have all clubs fetched where/when you are using it, should be changed or a special accessor created so that you fetch the players and clubs in one statement. The current approach, it&#39;ll be one query for all players, but then N queries to fetch a club for all N players returned. I may have said you can keep optimizations until later, but you might as well do that one upfront. Same with returning all players - I would strongly recommend adding pagination so that it can scale.","body":"getAllPlayers, if you want to have all clubs fetched where/when you are using it, should be changed or a special accessor created so that you fetch the players and clubs in one statement. The current approach, it&#39;ll be one query for all players, but then N queries to fetch a club for all N players returned. I may have said you can keep optimizations until later, but you might as well do that one upfront. Same with returning all players - I would strongly recommend adding pagination so that it can scale."}],"tags":[],"owner":{"account_id":21399076,"reputation":107,"user_id":15761589,"display_name":"funnyguy"},"comment_count":9,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673199591,"creation_date":1673192684,"answer_id":75049130,"question_id":75049080,"body_markdown":"I have a solution guys, but I&#39;d like to hear from you if it can be done this way, or it is some kind of anti-pattern.\r\nI just simply set the `playerToDto`&#39;s Club to the brandly new fetched `Club` with the ID of the `foundPlayer`\r\n```\r\n@GetMapping(&quot;/api/players/{id}&quot;)\r\n    ResponseEntity&lt;PlayerDto&gt; getPlayer(@PathVariable String id) {\r\n        Player foundPlayer = playerInterface.getPlayer(Long.valueOf(id));\r\n        PlayerDto playerToDto = convertToDto(foundPlayer);\r\n        playerToDto.setClub(clubInterface.getClub(foundPlayer.getClub().getId()));\r\n\r\n        return ResponseEntity.ok().body(playerToDto);\r\n    }\r\n```\r\n\r\n\r\n\r\nIn the end I came up with this:\r\n```\r\n@GetMapping(&quot;/api/players&quot;)\r\n    ResponseEntity&lt;List&lt;PlayerDto&gt;&gt; getAllPlayers() {\r\n        List&lt;PlayerDto&gt; playersList = playerInterface.getAllPlayers().stream().map(this::convertToDto).collect(Collectors.toList());\r\n        playersList.forEach(playerInterface::fetchClubToPlayer);\r\n        return ResponseEntity.ok().body(playersList);\r\n    }\r\n\r\n    @GetMapping(&quot;/api/players/{id}&quot;)\r\n    ResponseEntity&lt;PlayerDto&gt; getPlayer(@PathVariable String id) {\r\n        Player foundPlayer = playerInterface.getPlayer(Long.valueOf(id));\r\n        PlayerDto playerToDto = convertToDto(foundPlayer);\r\n        playerInterface.fetchClubToPlayer(playerToDto);\r\n        return ResponseEntity.ok().body(playerToDto);\r\n    }\r\n```\r\n\r\n```\r\npublic PlayerDto fetchClubToPlayer(PlayerDto player) {\r\n        if (player.getClub() != null) {\r\n            Club club = clubInterface.getClub(player.getClub().getId());\r\n            player.setClub(club);\r\n        }\r\n        return player;\r\n    }\r\n```\r\n\r\nis it fine?","title":"Returning a lazy loaded entity in the JSON response","body":"<p>I have a solution guys, but I'd like to hear from you if it can be done this way, or it is some kind of anti-pattern.\nI just simply set the <code>playerToDto</code>'s Club to the brandly new fetched <code>Club</code> with the ID of the <code>foundPlayer</code></p>\n<pre><code>@GetMapping(&quot;/api/players/{id}&quot;)\n    ResponseEntity&lt;PlayerDto&gt; getPlayer(@PathVariable String id) {\n        Player foundPlayer = playerInterface.getPlayer(Long.valueOf(id));\n        PlayerDto playerToDto = convertToDto(foundPlayer);\n        playerToDto.setClub(clubInterface.getClub(foundPlayer.getClub().getId()));\n\n        return ResponseEntity.ok().body(playerToDto);\n    }\n</code></pre>\n<p>In the end I came up with this:</p>\n<pre><code>@GetMapping(&quot;/api/players&quot;)\n    ResponseEntity&lt;List&lt;PlayerDto&gt;&gt; getAllPlayers() {\n        List&lt;PlayerDto&gt; playersList = playerInterface.getAllPlayers().stream().map(this::convertToDto).collect(Collectors.toList());\n        playersList.forEach(playerInterface::fetchClubToPlayer);\n        return ResponseEntity.ok().body(playersList);\n    }\n\n    @GetMapping(&quot;/api/players/{id}&quot;)\n    ResponseEntity&lt;PlayerDto&gt; getPlayer(@PathVariable String id) {\n        Player foundPlayer = playerInterface.getPlayer(Long.valueOf(id));\n        PlayerDto playerToDto = convertToDto(foundPlayer);\n        playerInterface.fetchClubToPlayer(playerToDto);\n        return ResponseEntity.ok().body(playerToDto);\n    }\n</code></pre>\n<pre><code>public PlayerDto fetchClubToPlayer(PlayerDto player) {\n        if (player.getClub() != null) {\n            Club club = clubInterface.getClub(player.getClub().getId());\n            player.setClub(club);\n        }\n        return player;\n    }\n</code></pre>\n<p>is it fine?</p>\n"},{"comments":[{"owner":{"account_id":21399076,"reputation":107,"user_id":15761589,"display_name":"funnyguy"},"score":0,"creation_date":1673195838,"post_id":75049316,"comment_id":132439003,"body_markdown":"I&#39;m trying to proceed with your suggestion, I&#39;ll get back in a moment","body":"I&#39;m trying to proceed with your suggestion, I&#39;ll get back in a moment"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1673197839,"post_id":75049316,"comment_id":132439448,"body_markdown":"This has the exact same costs as what the OP posted as a solution - you are taking a full club entity and ignoring everything except the id+name properties. The player-&gt;club reference will still get triggered &#39;lazily&#39; so as a separate query, and load eveything not marked lazy just for those two values.","body":"This has the exact same costs as what the OP posted as a solution - you are taking a full club entity and ignoring everything except the id+name properties. The player-&gt;club reference will still get triggered &#39;lazily&#39; so as a separate query, and load eveything not marked lazy just for those two values."},{"owner":{"account_id":13542195,"reputation":139,"user_id":9769594,"display_name":"warmCabin"},"score":0,"creation_date":1673203447,"post_id":75049316,"comment_id":132440637,"body_markdown":"Right, but it&#39;s better. You shouldn&#39;t manually invoke a bunch of extra queries via service methods, you should let Hibernate do its thing through the getters. With FetchType.EAGER, would it be a nice single join query? That might be appropriate for the current simple entities, but not as the structure and logic get more complicated.","body":"Right, but it&#39;s better. You shouldn&#39;t manually invoke a bunch of extra queries via service methods, you should let Hibernate do its thing through the getters. With FetchType.EAGER, would it be a nice single join query? That might be appropriate for the current simple entities, but not as the structure and logic get more complicated."}],"tags":[],"owner":{"account_id":13542195,"reputation":139,"user_id":9769594,"display_name":"warmCabin"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673195735,"creation_date":1673194159,"answer_id":75049316,"question_id":75049080,"body_markdown":"You&#39;re right, this is the expected behavior of lazy loading. It&#39;s a good thing, don&#39;t set it to eager! Instead of returning a Club @Entity class directly on your response body, you should create a ClubDto and initialize it with another convertToDto method. It&#39;s kinda tedious (I like using [Mapstruct][1] and [Lombok][2] to alleviate that), but it&#39;ll induce Hibernate to make all the queries you need.\r\n\r\n```java\r\n@Data\r\npublic class ClubDto {\r\n    private String id;\r\n    private String name;\r\n}\r\n```\r\n```java\r\n@Mapper\r\npublic interface ClubMapper {\r\n    public ClubDTO mapToDto(Club club);\r\n}\r\n```\r\n--------\r\nOops, didn&#39;t realize you were already using [ModelMapper][3]. I&#39;m not too familiar with that, but it sounds like it will just work if you swap Club for ClubDto.\r\n\r\n\r\n  [1]: https://mapstruct.org/\r\n  [2]: https://projectlombok.org/\r\n  [3]: https://modelmapper.org/","title":"Returning a lazy loaded entity in the JSON response","body":"<p>You're right, this is the expected behavior of lazy loading. It's a good thing, don't set it to eager! Instead of returning a Club @Entity class directly on your response body, you should create a ClubDto and initialize it with another convertToDto method. It's kinda tedious (I like using <a href=\"https://mapstruct.org/\" rel=\"nofollow noreferrer\">Mapstruct</a> and <a href=\"https://projectlombok.org/\" rel=\"nofollow noreferrer\">Lombok</a> to alleviate that), but it'll induce Hibernate to make all the queries you need.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\npublic class ClubDto {\n    private String id;\n    private String name;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapper\npublic interface ClubMapper {\n    public ClubDTO mapToDto(Club club);\n}\n</code></pre>\n<hr />\n<p>Oops, didn't realize you were already using <a href=\"https://modelmapper.org/\" rel=\"nofollow noreferrer\">ModelMapper</a>. I'm not too familiar with that, but it sounds like it will just work if you swap Club for ClubDto.</p>\n"},{"comments":[{"owner":{"account_id":21399076,"reputation":107,"user_id":15761589,"display_name":"funnyguy"},"score":0,"creation_date":1673213414,"post_id":75051441,"comment_id":132442466,"body_markdown":"is it a similar solution that if I made `@Query(&quot;Select players from Player players left join fetch players.club)` ?","body":"is it a similar solution that if I made <code>@Query(&quot;Select players from Player players left join fetch players.club)</code> ?"},{"owner":{"account_id":14162458,"reputation":3910,"user_id":10231374,"display_name":"Toni"},"score":0,"creation_date":1673215772,"post_id":75051441,"comment_id":132442854,"body_markdown":"Yes, it&#39;s the same. The difference is that you don&#39;t have to write a query yourself. Imagine that you have multiple associated entities that you want to fetch eagerly, join fetch would have to be written for all that entities. But if you use `@EntityGraph` you just have to list all field names in `attributePaths`.","body":"Yes, it&#39;s the same. The difference is that you don&#39;t have to write a query yourself. Imagine that you have multiple associated entities that you want to fetch eagerly, join fetch would have to be written for all that entities. But if you use <code>@EntityGraph</code> you just have to list all field names in <code>attributePaths</code>."}],"tags":[],"owner":{"account_id":14162458,"reputation":3910,"user_id":10231374,"display_name":"Toni"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673213277,"creation_date":1673213277,"answer_id":75051441,"question_id":75049080,"body_markdown":"I suggest you use [`@EntityGraph`][1] to configure the fetch plan of the resulting method&#39;s query. For example, you can declare a method in `PlayerRepository` to find a `Player` entity by id, apart from the default `findById` method, where its `Club` entity would be fetched eagerly. \r\n```java\r\npublic interface PlayerRepository extends JpaRepository&lt;Player, Long&gt;{\r\n   ...\r\n   @EntityGraph(attributePaths = {&quot;club&quot;})\r\n   Optional&lt;Player&gt; findWithClubFetchedEagerlyById(LongId);\r\n}\r\n```\r\nBy providing `attributePaths`, fields that should be fetched eagerly are defined. \r\n\r\nIf the `Club` entity should be always fetched eagerly when you call the `findById` method then there&#39;s no need for a separate method, therefore you can annotate the default one with `@EntityGraph`.\r\n\r\nWith this solution, the network traversal is minimized because all needed data is fetched at once from a database.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.entity-graph","title":"Returning a lazy loaded entity in the JSON response","body":"<p>I suggest you use <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.entity-graph\" rel=\"nofollow noreferrer\"><code>@EntityGraph</code></a> to configure the fetch plan of the resulting method's query. For example, you can declare a method in <code>PlayerRepository</code> to find a <code>Player</code> entity by id, apart from the default <code>findById</code> method, where its <code>Club</code> entity would be fetched eagerly.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface PlayerRepository extends JpaRepository&lt;Player, Long&gt;{\n   ...\n   @EntityGraph(attributePaths = {&quot;club&quot;})\n   Optional&lt;Player&gt; findWithClubFetchedEagerlyById(LongId);\n}\n</code></pre>\n<p>By providing <code>attributePaths</code>, fields that should be fetched eagerly are defined.</p>\n<p>If the <code>Club</code> entity should be always fetched eagerly when you call the <code>findById</code> method then there's no need for a separate method, therefore you can annotate the default one with <code>@EntityGraph</code>.</p>\n<p>With this solution, the network traversal is minimized because all needed data is fetched at once from a database.</p>\n"}],"owner":{"account_id":21399076,"reputation":107,"user_id":15761589,"display_name":"funnyguy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":569,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1673213277,"creation_date":1673192265,"question_id":75049080,"body_markdown":"I have a problem with my `Club` entity - I&#39;m using `LAZY` fetch type and `ModelMapper` to return my JSON. The problem is that if I use `LAZY` instead of `EAGER` what I get as a response of `GET` `/api/players/{id}` is:\r\n```\r\nResolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: could not initialize proxy\r\n```\r\nand a screenshot from Postman:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nWhen I debug my controller&#39;s action:\r\n```\r\n@GetMapping(&quot;/api/players/{id}&quot;)\r\n    ResponseEntity&lt;PlayerDto&gt; getPlayer(@PathVariable String id) {\r\n        Player foundPlayer = playerInterface.getPlayer(Long.valueOf(id));\r\n        PlayerDto playerToDto = convertToDto(foundPlayer);\r\n\r\n        return ResponseEntity.ok().body(playerToDto);\r\n    }\r\n\r\n...\r\n\r\n private PlayerDto convertToDto(Player player) {\r\n        return modelMapper.map(player, PlayerDto.class);\r\n    }\r\n```\r\nit seems like both `foundPlayer` and `playerToDto` have the `Club` like this:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nbut when I do `foundPlayer.getClub().getName()` I get a proper name. I know it&#39;s probably expected behavior, but I would love to have the `Club` returned in my response like this (screenshot from the response if `EAGER` is set):\r\n[![enter image description here][3]][3]\r\n\r\n\r\nwithout having to set the fetch type to `EAGER`.\r\n\r\nMy `Player` entity:\r\n```\r\n@Entity\r\npublic class Player {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n\r\n    private String firstName;\r\n\r\n\r\n    private String lastName;;\r\n\r\n    @ManyToOne(cascade = { CascadeType.PERSIST, CascadeType.REMOVE }, fetch = FetchType.EAGER)\r\n    @JsonManagedReference\r\n    private Club club;\r\n```\r\n\r\nMy `Club` entity:\r\n```\r\n@Entity\r\npublic class Club {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n    private String name;\r\n\r\n    @OneToMany(mappedBy = &quot;club&quot;, cascade = CascadeType.PERSIST, fetch = FetchType.LAZY)\r\n    @JsonBackReference\r\n    private List&lt;Player&gt; players;\r\n```\r\n\r\n`getPlayer` method from the `PlayerService` (the one, that the controller calls):\r\n```\r\n @Override\r\n    public Player getPlayer(Long id) {\r\n        Optional&lt;Player&gt; foundPlayer = playerRepository.findById(id);\r\n        return foundPlayer.orElseThrow(PlayerNotFoundException::new);\r\n    }\r\n```\r\n\r\n`PlayerToDto`:\r\n```\r\npackage pl.ug.kchelstowski.ap.lab06.dto;\r\n\r\nimport pl.ug.kchelstowski.ap.lab06.domain.Club;\r\n\r\npublic class PlayerDto {\r\n    private Long id;\r\n    private String firstName;\r\n    private String lastName;\r\n\r\n    private Club club;\r\n\r\n    public Long getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(Long id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getFirstName() {\r\n        return firstName;\r\n    }\r\n\r\n    public void setFirstName(String firstName) {\r\n        this.firstName = firstName;\r\n    }\r\n\r\n    public String getLastName() {\r\n        return lastName;\r\n    }\r\n\r\n    public void setLastName(String lastName) {\r\n        this.lastName = lastName;\r\n    }\r\n\r\n    public Club getClub() {\r\n        return club;\r\n    }\r\n\r\n    public void setClub(Club club) {\r\n        this.club = club;\r\n    }\r\n\r\n\r\n\r\n}\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Plg1W.png\r\n  [2]: https://i.stack.imgur.com/KAjsL.png\r\n  [3]: https://i.stack.imgur.com/bcjCo.png","title":"Returning a lazy loaded entity in the JSON response","body":"<p>I have a problem with my <code>Club</code> entity - I'm using <code>LAZY</code> fetch type and <code>ModelMapper</code> to return my JSON. The problem is that if I use <code>LAZY</code> instead of <code>EAGER</code> what I get as a response of <code>GET</code> <code>/api/players/{id}</code> is:</p>\n<pre><code>Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: could not initialize proxy\n</code></pre>\n<p>and a screenshot from Postman:</p>\n<p><a href=\"https://i.stack.imgur.com/Plg1W.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Plg1W.png\" alt=\"enter image description here\" /></a></p>\n<p>When I debug my controller's action:</p>\n<pre><code>@GetMapping(&quot;/api/players/{id}&quot;)\n    ResponseEntity&lt;PlayerDto&gt; getPlayer(@PathVariable String id) {\n        Player foundPlayer = playerInterface.getPlayer(Long.valueOf(id));\n        PlayerDto playerToDto = convertToDto(foundPlayer);\n\n        return ResponseEntity.ok().body(playerToDto);\n    }\n\n...\n\n private PlayerDto convertToDto(Player player) {\n        return modelMapper.map(player, PlayerDto.class);\n    }\n</code></pre>\n<p>it seems like both <code>foundPlayer</code> and <code>playerToDto</code> have the <code>Club</code> like this:</p>\n<p><a href=\"https://i.stack.imgur.com/KAjsL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KAjsL.png\" alt=\"enter image description here\" /></a></p>\n<p>but when I do <code>foundPlayer.getClub().getName()</code> I get a proper name. I know it's probably expected behavior, but I would love to have the <code>Club</code> returned in my response like this (screenshot from the response if <code>EAGER</code> is set):\n<a href=\"https://i.stack.imgur.com/bcjCo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bcjCo.png\" alt=\"enter image description here\" /></a></p>\n<p>without having to set the fetch type to <code>EAGER</code>.</p>\n<p>My <code>Player</code> entity:</p>\n<pre><code>@Entity\npublic class Player {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n\n    private String firstName;\n\n\n    private String lastName;;\n\n    @ManyToOne(cascade = { CascadeType.PERSIST, CascadeType.REMOVE }, fetch = FetchType.EAGER)\n    @JsonManagedReference\n    private Club club;\n</code></pre>\n<p>My <code>Club</code> entity:</p>\n<pre><code>@Entity\npublic class Club {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    private String name;\n\n    @OneToMany(mappedBy = &quot;club&quot;, cascade = CascadeType.PERSIST, fetch = FetchType.LAZY)\n    @JsonBackReference\n    private List&lt;Player&gt; players;\n</code></pre>\n<p><code>getPlayer</code> method from the <code>PlayerService</code> (the one, that the controller calls):</p>\n<pre><code> @Override\n    public Player getPlayer(Long id) {\n        Optional&lt;Player&gt; foundPlayer = playerRepository.findById(id);\n        return foundPlayer.orElseThrow(PlayerNotFoundException::new);\n    }\n</code></pre>\n<p><code>PlayerToDto</code>:</p>\n<pre><code>package pl.ug.kchelstowski.ap.lab06.dto;\n\nimport pl.ug.kchelstowski.ap.lab06.domain.Club;\n\npublic class PlayerDto {\n    private Long id;\n    private String firstName;\n    private String lastName;\n\n    private Club club;\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public String getFirstName() {\n        return firstName;\n    }\n\n    public void setFirstName(String firstName) {\n        this.firstName = firstName;\n    }\n\n    public String getLastName() {\n        return lastName;\n    }\n\n    public void setLastName(String lastName) {\n        this.lastName = lastName;\n    }\n\n    public Club getClub() {\n        return club;\n    }\n\n    public void setClub(Club club) {\n        this.club = club;\n    }\n\n\n\n}\n</code></pre>\n"},{"tags":["java","elasticsearch"],"owner":{"account_id":9179794,"reputation":408,"user_id":6824092,"accept_rate":64,"display_name":"Hayk  Mkhitaryan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673213019,"creation_date":1673213019,"question_id":75051414,"body_markdown":"I&#39;m having such kind of problem on defining composite aggregation for paginating the results.\r\n\r\n        CompositeAggregationBuilder aggregationBuilder = AggregationBuilders\r\n                        .composite(aggrField, List.of(new TermsValuesSourceBuilder(aggrField).field(aggrField)))\r\n                        .aggregateAfter(Map.of(&quot;keyword&quot;, aggrField))\r\n                        .size(bucketListInfo.getTopResultsCount());\r\n                searchSourceBuilder\r\n                        .from(2)\r\n                        .size(4)\r\n                        .aggregation(aggregationBuilder);\r\n    \r\n    final SearchRequest searchRequest = new SearchRequest(bucketListInfo.getIndexName())\r\n                    .source(searchSourceBuilder);\r\n            try {\r\n                final SearchResponse response = restHighLevelClient.search(searchRequest, RequestOptions.DEFAULT);\r\n                return processBucketsFromResponse(bucketListInfo, response);\r\n            } catch (Exception e) {\r\n                log.error(e.getMessage(), e);\r\n                return null;\r\n            }\r\n\r\nthe problem comes this way:\r\n1. when I getting the response, it contains all hits, not only paginated ones, say if I specify the `from` param as 2, and `size` param as 4 and expect that it will give me the results starting from second page with the size of 4, but it gives me all records, no matter what pagination params I have specified.\r\n2. when I add this \r\n\r\n    .aggregateAfter(Map.of(&quot;keyword&quot;, aggrField))\r\nI get this kind of error : \r\n\r\n    [type=illegal_argument_exception, reason=Missing value for [after.[my-aggr-field].keyword]]];\r\n\r\nSo any workaround of this, any suggestions please.","title":"Elasticsearch Pagination on composite aggregation gives wrong results","body":"<p>I'm having such kind of problem on defining composite aggregation for paginating the results.</p>\n<pre><code>    CompositeAggregationBuilder aggregationBuilder = AggregationBuilders\n                    .composite(aggrField, List.of(new TermsValuesSourceBuilder(aggrField).field(aggrField)))\n                    .aggregateAfter(Map.of(&quot;keyword&quot;, aggrField))\n                    .size(bucketListInfo.getTopResultsCount());\n            searchSourceBuilder\n                    .from(2)\n                    .size(4)\n                    .aggregation(aggregationBuilder);\n\nfinal SearchRequest searchRequest = new SearchRequest(bucketListInfo.getIndexName())\n                .source(searchSourceBuilder);\n        try {\n            final SearchResponse response = restHighLevelClient.search(searchRequest, RequestOptions.DEFAULT);\n            return processBucketsFromResponse(bucketListInfo, response);\n        } catch (Exception e) {\n            log.error(e.getMessage(), e);\n            return null;\n        }\n</code></pre>\n<p>the problem comes this way:</p>\n<ol>\n<li><p>when I getting the response, it contains all hits, not only paginated ones, say if I specify the <code>from</code> param as 2, and <code>size</code> param as 4 and expect that it will give me the results starting from second page with the size of 4, but it gives me all records, no matter what pagination params I have specified.</p>\n</li>\n<li><p>when I add this</p>\n<p>.aggregateAfter(Map.of(&quot;keyword&quot;, aggrField))\nI get this kind of error :</p>\n<p>[type=illegal_argument_exception, reason=Missing value for [after.[my-aggr-field].keyword]]];</p>\n</li>\n</ol>\n<p>So any workaround of this, any suggestions please.</p>\n"},{"tags":["java","spring","arraylist","vaadin-grid"],"answers":[{"tags":[],"owner":{"account_id":3652181,"reputation":83,"user_id":3044039,"display_name":"Madster"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673212916,"creation_date":1673212916,"answer_id":75051404,"question_id":75046409,"body_markdown":"I was able to figure this out. I was making it more complicated than it needed to be.\r\n\r\n```\r\npublic OrderList(SerialsService service) {\r\n        TextField searchField = new TextField();\r\n            searchField.setPlaceholder(&quot;Search Serial&quot;);\r\n            searchField.setPrefixComponent(new Icon(&quot;lumo&quot;, &quot;search&quot;));\r\n            searchField.setTooltipText(&quot;Enter a serial number&quot;);\r\n\r\n\r\n        add(searchField);\r\n        Grid&lt;SerialNumbers&gt; gridTest = new Grid&lt;&gt;(SerialNumbers.class);\r\n\r\n        gridTest.setColumns();\r\n\r\n        gridTest.addColumn(SerialNumbers::getItem_id)\r\n                .setSortable(true)\r\n                .setHeader(&quot;Item ID&quot;);\r\n\r\n        gridTest.addColumn(SerialNumbers::getOrder_number)\r\n                .setSortable(true)\r\n                .setHeader(&quot;Order Number&quot;);\r\n\r\n        gridTest.addColumn(SerialNumbers::getSerial_number)\r\n                .setSortable(true)\r\n                .setHeader(&quot;Serial Number&quot;);\r\n\r\n        gridTest.addColumn(SerialNumbers::getTime)\r\n                .setSortable(true)\r\n                .setHeader(&quot;Time&quot;);\r\n\r\n\r\n        gridTest.setItems(service.getSerial().getSerial_numbers());\r\n        add(gridTest);\r\n\r\n    }\r\n```\r\nI will convert this into a dto since I actually have more than one response from different endpoints and will get select values needed.","title":"How can I display an api response with Spring and Vaadin in a grid?","body":"<p>I was able to figure this out. I was making it more complicated than it needed to be.</p>\n<pre><code>public OrderList(SerialsService service) {\n        TextField searchField = new TextField();\n            searchField.setPlaceholder(&quot;Search Serial&quot;);\n            searchField.setPrefixComponent(new Icon(&quot;lumo&quot;, &quot;search&quot;));\n            searchField.setTooltipText(&quot;Enter a serial number&quot;);\n\n\n        add(searchField);\n        Grid&lt;SerialNumbers&gt; gridTest = new Grid&lt;&gt;(SerialNumbers.class);\n\n        gridTest.setColumns();\n\n        gridTest.addColumn(SerialNumbers::getItem_id)\n                .setSortable(true)\n                .setHeader(&quot;Item ID&quot;);\n\n        gridTest.addColumn(SerialNumbers::getOrder_number)\n                .setSortable(true)\n                .setHeader(&quot;Order Number&quot;);\n\n        gridTest.addColumn(SerialNumbers::getSerial_number)\n                .setSortable(true)\n                .setHeader(&quot;Serial Number&quot;);\n\n        gridTest.addColumn(SerialNumbers::getTime)\n                .setSortable(true)\n                .setHeader(&quot;Time&quot;);\n\n\n        gridTest.setItems(service.getSerial().getSerial_numbers());\n        add(gridTest);\n\n    }\n</code></pre>\n<p>I will convert this into a dto since I actually have more than one response from different endpoints and will get select values needed.</p>\n"}],"owner":{"account_id":3652181,"reputation":83,"user_id":3044039,"display_name":"Madster"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673212916,"creation_date":1673166495,"question_id":75046409,"body_markdown":"I have been scratching my head trying to figure this out. Currently I am calling a get request from an api.\r\n```\r\n    public class SerialsService {\r\n\r\n    private final WebClient webClient;\r\n\r\n    public SerialsService(WebClient.Builder builder) {\r\n        webClient = builder.baseUrl(&quot;https://api.skulabs.com&quot;).build();\r\n    }\r\n\r\n    public List&lt;SerialRoot&gt; getSerialNums() {\r\n        return (List&lt;SerialRoot&gt;) webClient\r\n                .get()\r\n                .uri(&quot;/order/get_scanned_serial_numbers?start=2021-11-29T00:00:00Z&amp;end=%s&quot;.formatted(date))\r\n                .header(auth, skuT + token)\r\n                .retrieve()\r\n                .bodyToMono(SerialRoot.class)\r\n                .block();\r\n    }\r\n}\r\n```\r\nI have pojo set up, where I have a root class, and the object class.\r\n```\r\npublic class SerialRoot {\r\n\r\n    @JsonProperty(&quot;serial_numbers&quot;)\r\n    public ArrayList&lt;SerialNumbers&gt; getSerial_numbers() {\r\n        return this.serial_numbers; }\r\n    public void setSerial_numbers(ArrayList&lt;SerialNumbers&gt; serial_numbers) {\r\n        this.serial_numbers = serial_numbers; }\r\n    ArrayList&lt;SerialNumbers&gt; serial_numbers;\r\n\r\n}\r\n```\r\n```\r\npublic class SerialNumbers {\r\n    @JsonProperty(&quot;_id&quot;)\r\n    public String get_id() {\r\n        return this._id; }\r\n    public void set_id(String _id) {\r\n        this._id = _id; }\r\n    String _id;\r\n\r\n    @JsonProperty(&quot;store_id&quot;)\r\n    public String getStore_id() {\r\n        return this.store_id; }\r\n    public void setStore_id(String store_id) {\r\n        this.store_id = store_id; }\r\n    String store_id;\r\n\r\n    @JsonProperty(&quot;order_number&quot;)\r\n    public String getOrder_number() {\r\n        return this.order_number; }\r\n    public void setOrder_number(String order_number) {\r\n        this.order_number = order_number; }\r\n    String order_number;\r\n\r\n    @JsonProperty(&quot;item_id&quot;)\r\n    public String getItem_id() {\r\n        return this.item_id; }\r\n    public void setItem_id(String item_id) {\r\n\r\n        if (item_id.equalsIgnoreCase(&quot;62cef3ea62c214aa81912cdc&quot;))\r\n        {\r\n            this.item_id = &quot;Product 1&quot;;\r\n        } else if (item_id.equalsIgnoreCase(&quot;62cef3ea62c214aa81912cdc&quot;)\r\n                &amp;&amp; getVariant_id() == &quot;42132807549149&quot;) {\r\n            this.item_id = &quot;Product 2&quot;;\r\n        }\r\n\r\n        //this.item_id = item_id;\r\n        }\r\n\r\n    String item_id;\r\n\r\n    @JsonProperty(&quot;time&quot;)\r\n    public Date getTime() {\r\n        return this.time; }\r\n    public void setTime(Date time) {\r\n        this.time = time; }\r\n    Date time;\r\n\r\n    @JsonProperty(&quot;serial_number&quot;)\r\n    public String getSerial_number() {\r\n        return this.serial_number; }\r\n    public void setSerial_number(String serial_number) {\r\n        this.serial_number = serial_number; }\r\n    String serial_number;\r\n\r\n    @JsonProperty(&quot;listing_id&quot;)\r\n    public String getListing_id() {\r\n        return this.listing_id; }\r\n    public void setListing_id(String listing_id) {\r\n        this.listing_id = listing_id; }\r\n    String listing_id;\r\n\r\n    @JsonProperty(&quot;variant_id&quot;)\r\n    public String getVariant_id() {\r\n        return this.variant_id; }\r\n    public void setVariant_id(String variant_id) {\r\n        this.variant_id = variant_id; }\r\n    String variant_id;\r\n}\r\n```\r\nUsing vaadin grid, how can I create a grid displaying where the columns show `serial_number`, `order_number`, `time` and `item_id` ? Everything I try either results in mapping errors, or shows completely blank.\r\n\r\nEdit: I do want to note, I was able to display one row on the grid with the values im looking for, but this only displays one. Here is how that worked:\r\n```\r\npublic OrderList(SerialsService service) {\r\n        var gridSerial = new Grid&lt;SerialRoot&gt;(SerialRoot.class);\r\n\r\n        gridSerial.setItems(service.getSerialRoot());\r\n\r\n        add(gridSerial);\r\n\r\n            gridSerial.setColumns();\r\n        \r\n        // Adding each key to the grid\r\n            gridSerial.addColumn(serialRoot -&gt; {\r\n                SerialNumbers serialNumbers = serialRoot.getSerial_numbers().get(0);\r\n                return serialNumbers.getOrder_number();\r\n            }).setHeader(&quot;Order Number&quot;);\r\n\r\n            gridSerial.addColumn(serialRoot -&gt; {\r\n                SerialNumbers serialNumbers = serialRoot.getSerial_numbers().get(0);\r\n                return serialNumbers.getSerial_number();\r\n            }).setHeader(&quot;Serial Number&quot;);\r\n\r\n            gridSerial.addColumn(serialRoot -&gt; {\r\n                SerialNumbers serialNumbers = serialRoot.getSerial_numbers().get(0);\r\n                return serialNumbers.getTime();\r\n            }).setHeader(&quot;Date&quot;);\r\n\r\n            gridSerial.addColumn(serialRoot -&gt; {\r\n                SerialNumbers serialNumbers = serialRoot.getSerial_numbers().get(0);\r\n                return serialNumbers.getItem_id();\r\n            }).setHeader(&quot;Item Model&quot;);\r\n\r\n    }\r\n}\r\n```\r\n","title":"How can I display an api response with Spring and Vaadin in a grid?","body":"<p>I have been scratching my head trying to figure this out. Currently I am calling a get request from an api.</p>\n<pre><code>    public class SerialsService {\n\n    private final WebClient webClient;\n\n    public SerialsService(WebClient.Builder builder) {\n        webClient = builder.baseUrl(&quot;https://api.skulabs.com&quot;).build();\n    }\n\n    public List&lt;SerialRoot&gt; getSerialNums() {\n        return (List&lt;SerialRoot&gt;) webClient\n                .get()\n                .uri(&quot;/order/get_scanned_serial_numbers?start=2021-11-29T00:00:00Z&amp;end=%s&quot;.formatted(date))\n                .header(auth, skuT + token)\n                .retrieve()\n                .bodyToMono(SerialRoot.class)\n                .block();\n    }\n}\n</code></pre>\n<p>I have pojo set up, where I have a root class, and the object class.</p>\n<pre><code>public class SerialRoot {\n\n    @JsonProperty(&quot;serial_numbers&quot;)\n    public ArrayList&lt;SerialNumbers&gt; getSerial_numbers() {\n        return this.serial_numbers; }\n    public void setSerial_numbers(ArrayList&lt;SerialNumbers&gt; serial_numbers) {\n        this.serial_numbers = serial_numbers; }\n    ArrayList&lt;SerialNumbers&gt; serial_numbers;\n\n}\n</code></pre>\n<pre><code>public class SerialNumbers {\n    @JsonProperty(&quot;_id&quot;)\n    public String get_id() {\n        return this._id; }\n    public void set_id(String _id) {\n        this._id = _id; }\n    String _id;\n\n    @JsonProperty(&quot;store_id&quot;)\n    public String getStore_id() {\n        return this.store_id; }\n    public void setStore_id(String store_id) {\n        this.store_id = store_id; }\n    String store_id;\n\n    @JsonProperty(&quot;order_number&quot;)\n    public String getOrder_number() {\n        return this.order_number; }\n    public void setOrder_number(String order_number) {\n        this.order_number = order_number; }\n    String order_number;\n\n    @JsonProperty(&quot;item_id&quot;)\n    public String getItem_id() {\n        return this.item_id; }\n    public void setItem_id(String item_id) {\n\n        if (item_id.equalsIgnoreCase(&quot;62cef3ea62c214aa81912cdc&quot;))\n        {\n            this.item_id = &quot;Product 1&quot;;\n        } else if (item_id.equalsIgnoreCase(&quot;62cef3ea62c214aa81912cdc&quot;)\n                &amp;&amp; getVariant_id() == &quot;42132807549149&quot;) {\n            this.item_id = &quot;Product 2&quot;;\n        }\n\n        //this.item_id = item_id;\n        }\n\n    String item_id;\n\n    @JsonProperty(&quot;time&quot;)\n    public Date getTime() {\n        return this.time; }\n    public void setTime(Date time) {\n        this.time = time; }\n    Date time;\n\n    @JsonProperty(&quot;serial_number&quot;)\n    public String getSerial_number() {\n        return this.serial_number; }\n    public void setSerial_number(String serial_number) {\n        this.serial_number = serial_number; }\n    String serial_number;\n\n    @JsonProperty(&quot;listing_id&quot;)\n    public String getListing_id() {\n        return this.listing_id; }\n    public void setListing_id(String listing_id) {\n        this.listing_id = listing_id; }\n    String listing_id;\n\n    @JsonProperty(&quot;variant_id&quot;)\n    public String getVariant_id() {\n        return this.variant_id; }\n    public void setVariant_id(String variant_id) {\n        this.variant_id = variant_id; }\n    String variant_id;\n}\n</code></pre>\n<p>Using vaadin grid, how can I create a grid displaying where the columns show <code>serial_number</code>, <code>order_number</code>, <code>time</code> and <code>item_id</code> ? Everything I try either results in mapping errors, or shows completely blank.</p>\n<p>Edit: I do want to note, I was able to display one row on the grid with the values im looking for, but this only displays one. Here is how that worked:</p>\n<pre><code>public OrderList(SerialsService service) {\n        var gridSerial = new Grid&lt;SerialRoot&gt;(SerialRoot.class);\n\n        gridSerial.setItems(service.getSerialRoot());\n\n        add(gridSerial);\n\n            gridSerial.setColumns();\n        \n        // Adding each key to the grid\n            gridSerial.addColumn(serialRoot -&gt; {\n                SerialNumbers serialNumbers = serialRoot.getSerial_numbers().get(0);\n                return serialNumbers.getOrder_number();\n            }).setHeader(&quot;Order Number&quot;);\n\n            gridSerial.addColumn(serialRoot -&gt; {\n                SerialNumbers serialNumbers = serialRoot.getSerial_numbers().get(0);\n                return serialNumbers.getSerial_number();\n            }).setHeader(&quot;Serial Number&quot;);\n\n            gridSerial.addColumn(serialRoot -&gt; {\n                SerialNumbers serialNumbers = serialRoot.getSerial_numbers().get(0);\n                return serialNumbers.getTime();\n            }).setHeader(&quot;Date&quot;);\n\n            gridSerial.addColumn(serialRoot -&gt; {\n                SerialNumbers serialNumbers = serialRoot.getSerial_numbers().get(0);\n                return serialNumbers.getItem_id();\n            }).setHeader(&quot;Item Model&quot;);\n\n    }\n}\n</code></pre>\n"},{"tags":["java","string","stack"],"comments":[{"owner":{"account_id":2935865,"reputation":13,"user_id":2514769,"accept_rate":50,"display_name":"user2514769"},"score":0,"creation_date":1372041912,"post_id":17267262,"comment_id":25030036,"body_markdown":"the toString method will only return the top item in the Stack; the loop won&#39;t run through the whole stack like I need it to.","body":"the toString method will only return the top item in the Stack; the loop won&#39;t run through the whole stack like I need it to."},{"owner":{"account_id":2765078,"reputation":4245,"user_id":2381006,"accept_rate":42,"display_name":"dev2d"},"score":0,"creation_date":1372042291,"post_id":17267262,"comment_id":25030097,"body_markdown":"You pop each element out your stack and call to string. Read more about to string in http://www.tutorialspoint.com/java/number_tostring.htm","body":"You pop each element out your stack and call to string. Read more about to string in <a href=\"http://www.tutorialspoint.com/java/number_tostring.htm\" rel=\"nofollow noreferrer\">tutorialspoint.com/java/number_tostring.htm</a>"}],"answers":[{"tags":[],"owner":{"account_id":2048438,"reputation":8159,"user_id":1827992,"accept_rate":88,"display_name":"BevynQ"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1372042854,"creation_date":1372042854,"answer_id":17267443,"question_id":17267262,"body_markdown":"Use a StringBuilder to handle the toString creation. A template you could use is\r\n\r\n    public String toString(){\r\n        StringBuilder output = new StringBuilder();\r\n        output.append(this.getClass().getName());\r\n        output.append(&quot;[&quot;);\r\n        // append fields\r\n\r\n        // to append the Stack you could use Arrays.toString\r\n        // or just iterate as you are trying to do\r\n        int i=top;\r\n\r\n        do {\r\n            T result = stack[top-i];\r\n            i--;\r\n            output.append(result != null?result.toString():&quot;null&quot;);\r\n        } while (i&gt;=0);\r\n\r\n        output.append(&quot;]&quot;);\r\n        return output.toString();\r\n    }\r\n\r\n      ","title":"Turn my stack into a string?","body":"<p>Use a StringBuilder to handle the toString creation. A template you could use is</p>\n\n<pre><code>public String toString(){\n    StringBuilder output = new StringBuilder();\n    output.append(this.getClass().getName());\n    output.append(\"[\");\n    // append fields\n\n    // to append the Stack you could use Arrays.toString\n    // or just iterate as you are trying to do\n    int i=top;\n\n    do {\n        T result = stack[top-i];\n        i--;\n        output.append(result != null?result.toString():\"null\");\n    } while (i&gt;=0);\n\n    output.append(\"]\");\n    return output.toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2932910,"reputation":452,"user_id":2512617,"display_name":"Martin Wickham"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1372042992,"creation_date":1372042992,"answer_id":17267455,"question_id":17267262,"body_markdown":"Calling return in a loop will immediately exit the loop.  What you need to do is something like this:\r\n\r\n    String message = &quot;&quot;; //a string to store the whole message\r\n    for (int c = stack.length - 1; c &gt;= 0; c--) {\r\n      message += &quot;, &quot;+stack[c];  //add the next element to the message\r\n    }\r\n    message = message.substring(2); //cut off the first &quot;, &quot;\r\n    return message;","title":"Turn my stack into a string?","body":"<p>Calling return in a loop will immediately exit the loop.  What you need to do is something like this:</p>\n\n<pre><code>String message = \"\"; //a string to store the whole message\nfor (int c = stack.length - 1; c &gt;= 0; c--) {\n  message += \", \"+stack[c];  //add the next element to the message\n}\nmessage = message.substring(2); //cut off the first \", \"\nreturn message;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9647608,"reputation":21,"user_id":7159782,"display_name":"Niraj"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673212849,"creation_date":1673212849,"answer_id":75051393,"question_id":17267262,"body_markdown":"\r\nUsing Stream API:\r\n```\r\nStack&lt;Character&gt; st = new Stack&lt;&gt;();\r\nst.add(&#39;a&#39;);st.add(&#39;b&#39;);st.add(&#39;c&#39;);\r\n\r\nString stStr = st.stream().map(s -&gt; s.toString()).collect(Collectors.joining(&quot;&quot;));\r\n\r\nSystem.out.println(stStr);\r\n```","title":"Turn my stack into a string?","body":"<p>Using Stream API:</p>\n<pre><code>Stack&lt;Character&gt; st = new Stack&lt;&gt;();\nst.add('a');st.add('b');st.add('c');\n\nString stStr = st.stream().map(s -&gt; s.toString()).collect(Collectors.joining(&quot;&quot;));\n\nSystem.out.println(stStr);\n</code></pre>\n"}],"owner":{"account_id":2935865,"reputation":13,"user_id":2514769,"accept_rate":50,"display_name":"user2514769"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2862,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":17267455,"answer_count":3,"score":0,"last_activity_date":1673212849,"creation_date":1372041063,"question_id":17267262,"body_markdown":"    String message = &quot;&quot;; //a string to store the whole message\r\n    for (int c = stack.length - 1; c &gt;= 0; c--) {\r\n    message += &quot;, &quot;+stack[c];  //add the next element to the message\r\n    }\r\n    message = message.substring(2); //cut off the first &quot;, &quot;\r\n    return message;\r\n\r\nThis worked in solving my problem; thanks","title":"Turn my stack into a string?","body":"<pre><code>String message = \"\"; //a string to store the whole message\nfor (int c = stack.length - 1; c &gt;= 0; c--) {\nmessage += \", \"+stack[c];  //add the next element to the message\n}\nmessage = message.substring(2); //cut off the first \", \"\nreturn message;\n</code></pre>\n\n<p>This worked in solving my problem; thanks</p>\n"},{"tags":["java","android","kotlin","android-drawable"],"answers":[{"tags":[],"owner":{"account_id":10055888,"reputation":3162,"user_id":7434090,"display_name":"Gavin Wright"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1673212605,"creation_date":1673212218,"answer_id":75051319,"question_id":75051035,"body_markdown":"This is likely happening due to a combination of `android:layout_margin=&quot;50dp&quot;` and `colorSecondary`. I don&#39;t think `colorSecondary` is the intended attribute to change here.\r\n\r\nTheming a `TextInputLayout` is frustrating, but [this serves as excellent documentation](https://medium.com/omisoft/textinputlayout-styling-8b36a5e0d73c). It states that you should override `mtrl_textinput_default_box_stroke_color` in `color.xml`\r\n\r\nYou can also reference these similar customizations I made here:\r\n\r\nhttps://github.com/gavingt/upcoming-games/blob/master/app/src/main/res/values/styles.xml\r\n\r\nhttps://github.com/gavingt/upcoming-games/blob/master/app/src/main/res/color/text_input_layout_box_stroke.xml\r\n\r\nhttps://github.com/gavingt/upcoming-games/blob/d59dd2afd2ef7448ca2e826b0514e7db05195538/app/src/main/res/layout/fragment_filter.xml#L206","title":"EditText bug, on focus it has white line next to on both left and right border side [Android]","body":"<p>This is likely happening due to a combination of <code>android:layout_margin=&quot;50dp&quot;</code> and <code>colorSecondary</code>. I don't think <code>colorSecondary</code> is the intended attribute to change here.</p>\n<p>Theming a <code>TextInputLayout</code> is frustrating, but <a href=\"https://medium.com/omisoft/textinputlayout-styling-8b36a5e0d73c\" rel=\"nofollow noreferrer\">this serves as excellent documentation</a>. It states that you should override <code>mtrl_textinput_default_box_stroke_color</code> in <code>color.xml</code></p>\n<p>You can also reference these similar customizations I made here:</p>\n<p><a href=\"https://github.com/gavingt/upcoming-games/blob/master/app/src/main/res/values/styles.xml\" rel=\"nofollow noreferrer\">https://github.com/gavingt/upcoming-games/blob/master/app/src/main/res/values/styles.xml</a></p>\n<p><a href=\"https://github.com/gavingt/upcoming-games/blob/master/app/src/main/res/color/text_input_layout_box_stroke.xml\" rel=\"nofollow noreferrer\">https://github.com/gavingt/upcoming-games/blob/master/app/src/main/res/color/text_input_layout_box_stroke.xml</a></p>\n<p><a href=\"https://github.com/gavingt/upcoming-games/blob/d59dd2afd2ef7448ca2e826b0514e7db05195538/app/src/main/res/layout/fragment_filter.xml#L206\" rel=\"nofollow noreferrer\">https://github.com/gavingt/upcoming-games/blob/d59dd2afd2ef7448ca2e826b0514e7db05195538/app/src/main/res/layout/fragment_filter.xml#L206</a></p>\n"}],"owner":{"account_id":20952970,"reputation":459,"user_id":15394203,"display_name":"yras8"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673212605,"creation_date":1673209625,"question_id":75051035,"body_markdown":"I have found a bug in Android. I have very basic layout.\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n\r\n    &lt;com.google.android.material.textfield.TextInputEditText\r\n        android:layout_margin=&quot;50dp&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;60dp&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\nI wanted to have on Focus black bottom border background. So I changed in *themes.xml* \r\n\r\n        &lt;item name=&quot;colorSecondary&quot;&gt;@color/black&lt;/item&gt;\r\n\r\nWith this change when I press EditText/ TextInputEditText you can see small horizontal white lines next to it. Screenshot shows only left side, because I needed to zoom it.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nvXzZ.jpg\r\n\r\nWhat is causing the issue? This happens on S9+ and Pixel 4XL.","title":"EditText bug, on focus it has white line next to on both left and right border side [Android]","body":"<p>I have found a bug in Android. I have very basic layout.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n\n    &lt;com.google.android.material.textfield.TextInputEditText\n        android:layout_margin=&quot;50dp&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;60dp&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>I wanted to have on Focus black bottom border background. So I changed in <em>themes.xml</em></p>\n<pre><code>    &lt;item name=&quot;colorSecondary&quot;&gt;@color/black&lt;/item&gt;\n</code></pre>\n<p>With this change when I press EditText/ TextInputEditText you can see small horizontal white lines next to it. Screenshot shows only left side, because I needed to zoom it.</p>\n<p><a href=\"https://i.stack.imgur.com/nvXzZ.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nvXzZ.jpg\" alt=\"enter image description here\" /></a></p>\n<p>What is causing the issue? This happens on S9+ and Pixel 4XL.</p>\n"},{"tags":["java","tcp","gps"],"owner":{"account_id":20107006,"reputation":13,"user_id":14744261,"display_name":"Payload"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673212591,"creation_date":1673212340,"question_id":75051335,"body_markdown":"I&#39;ve been trying to make my own gps tracker server using springboot. There is a standalone project called Traccar and they use  their own methods to create connections but I can&#39;t integrate the netty framework in springboot; specially for the different handlers methods.\r\n\r\nFor example if any user send by post method the command to use, my server would be capable to take that command and send to the gps connected by socket but here is my problem because any time a channel is open, the message to send convert in null from the POST method to the writeFlush().\r\n\r\nAny one knows how to intercept the method to take the command and send to the socket?","title":"springboot socket communications","body":"<p>I've been trying to make my own gps tracker server using springboot. There is a standalone project called Traccar and they use  their own methods to create connections but I can't integrate the netty framework in springboot; specially for the different handlers methods.</p>\n<p>For example if any user send by post method the command to use, my server would be capable to take that command and send to the gps connected by socket but here is my problem because any time a channel is open, the message to send convert in null from the POST method to the writeFlush().</p>\n<p>Any one knows how to intercept the method to take the command and send to the socket?</p>\n"},{"tags":["java","css","pdf","hyphenation","openpdf"],"comments":[{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":1,"creation_date":1672732903,"post_id":74900390,"comment_id":132335743,"body_markdown":"The issue is related to the PDF converter you are using. It has nothing to do with Velocity.","body":"The issue is related to the PDF converter you are using. It has nothing to do with Velocity."},{"owner":{"account_id":9757929,"reputation":712,"user_id":7233978,"display_name":"The 5th column mouse"},"score":1,"creation_date":1673095495,"post_id":74900390,"comment_id":132423269,"body_markdown":"Which PDF processor do you use for the creation?","body":"Which PDF processor do you use for the creation?"},{"owner":{"account_id":5911078,"reputation":214,"user_id":4651325,"display_name":"Farabi Abdelwahed"},"score":1,"creation_date":1673206415,"post_id":74900390,"comment_id":132441192,"body_markdown":"@The5thcolumnmouse i am using openpdf:1.3.26","body":"@The5thcolumnmouse i am using openpdf:1.3.26"}],"answers":[{"tags":[],"owner":{"account_id":26885891,"reputation":26,"user_id":20465465,"display_name":"ITGeek"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672679768,"creation_date":1672665043,"answer_id":74982834,"question_id":74900390,"body_markdown":"Try the below snippet once. read article https://developer.mozilla.org/en-US/docs/Web/CSS/hyphens#:~:text=The%20hyphens%20CSS%20property%20specifies,automatically%20insert%20hyphens%20where%20appropriate.\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: null --&gt;\r\n\r\n&lt;!-- language: lang-css --&gt;\r\n\r\n    .text-block {\r\n      display: block;\r\n      text-align: justify;\r\n      word-wrap: break-word;\r\n      hyphens: none;\r\n      width: 50px\r\n    }\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;span lang=&quot;de&quot; class=&quot;text-block&quot; &gt;myyyextraaaaaaaaalong text&lt;/span&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Java - openpdf - Break word with hyphen","body":"<p>Try the below snippet once. read article <a href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/hyphens#:%7E:text=The%20hyphens%20CSS%20property%20specifies,automatically%20insert%20hyphens%20where%20appropriate\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/CSS/hyphens#:~:text=The%20hyphens%20CSS%20property%20specifies,automatically%20insert%20hyphens%20where%20appropriate</a>.</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.text-block {\n  display: block;\n  text-align: justify;\n  word-wrap: break-word;\n  hyphens: none;\n  width: 50px\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;span lang=\"de\" class=\"text-block\" &gt;myyyextraaaaaaaaalong text&lt;/span&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":[],"owner":{"account_id":9757929,"reputation":712,"user_id":7233978,"display_name":"The 5th column mouse"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673212561,"creation_date":1673212561,"answer_id":75051358,"question_id":74900390,"body_markdown":"To me it looks like your PDF processor is limited CSS 2.1. and `hyphens` is CSS3 property.","title":"Java - openpdf - Break word with hyphen","body":"<p>To me it looks like your PDF processor is limited CSS 2.1. and <code>hyphens</code> is CSS3 property.</p>\n"}],"owner":{"account_id":5911078,"reputation":214,"user_id":4651325,"display_name":"Farabi Abdelwahed"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":335,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75051358,"answer_count":2,"score":0,"last_activity_date":1673212561,"creation_date":1671803513,"question_id":74900390,"body_markdown":"We are using openpdf 1.3.26 template 2.1 to generate PDF from HTML and CSS. I have a div with the following style\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-css --&gt;\r\n\r\n    .text-block{\r\n             display:block;\r\n             text-align:justify;\r\n             word-wrap: break-word;\r\n             hyphens: auto;\r\n             width:50px\r\n             \r\n            }\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;span lang=&quot;de&quot;  class=&quot;text-block&quot; &gt;myyyextraaaaaaaaalong text &lt;/span&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\nThe hyphens are being added when I try this on my browser, but not the generated PDF.","title":"Java - openpdf - Break word with hyphen","body":"<p>We are using openpdf 1.3.26 template 2.1 to generate PDF from HTML and CSS. I have a div with the following style</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.text-block{\n         display:block;\n         text-align:justify;\n         word-wrap: break-word;\n         hyphens: auto;\n         width:50px\n         \n        }</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;span lang=\"de\"  class=\"text-block\" &gt;myyyextraaaaaaaaalong text &lt;/span&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>The hyphens are being added when I try this on my browser, but not the generated PDF.</p>\n"},{"tags":["java","stored-procedures","table-valued-parameters","jdbi","jdbi3"],"owner":{"account_id":19225859,"reputation":1,"user_id":14048771,"display_name":"vishwanath D C"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":150,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673211708,"creation_date":1673211708,"question_id":75051261,"body_markdown":"I have a stored Procedure which takes table valued parameter as input. I am using JDBI in my SpringBoot Application. How do I bind TVP to stored procedure.\r\nThis is my Stored Procedure.\r\n```\r\n    CREATE PROCEDURE exampleSP \r\n    @country char(2), \r\n    @store int, \r\n    @tags as dbo.udtTags READONLY,\r\n    AS\r\n    BEGIN\r\n    select * from sales where country = @country AND store = @store AND id in (select ids from     @tags)\r\n    END\r\n```\r\n\r\nThis is my User Defined Table.\r\n```\r\n    CREATE TYPE udtTags AS TABLE\r\n        (\r\n             ids INT\r\n        )\r\n    GO\r\n```\r\n\r\nThis is what I have tried:\r\n\r\n```\r\nList&lt;Integer&gt; idList = new ArrayList&lt;&gt;();\r\nidList.add(1);\r\nidList.add(2);\r\nreturn jdbi.withHandle(handle -&gt; {\r\nOutParameters result = handle.createCall(&quot;{call exampleSP(:country, :store, :ids)}&quot;)\r\n       .bind(&quot;country&quot;, &quot;US&quot;)\r\n       .bind(&quot;store&quot;, 1)\r\n       .bindList(&quot;ids&quot;, idList)\r\n       .invoke();\r\nreturn null;\r\n});\r\n```\r\n\r\n\r\nThis is giving error:\r\norg.jdbi.v3.core.statement.UnableToCreateStatementException: Missing named parameter &#39;ids&#39; in binding:{positional:{}, named:{__ids_1:1,store:1,country:US,__ids_0:2, finder:[]}\r\n","title":"JDBI how to bind table valued parameter for stored procedure","body":"<p>I have a stored Procedure which takes table valued parameter as input. I am using JDBI in my SpringBoot Application. How do I bind TVP to stored procedure.\nThis is my Stored Procedure.</p>\n<pre><code>    CREATE PROCEDURE exampleSP \n    @country char(2), \n    @store int, \n    @tags as dbo.udtTags READONLY,\n    AS\n    BEGIN\n    select * from sales where country = @country AND store = @store AND id in (select ids from     @tags)\n    END\n</code></pre>\n<p>This is my User Defined Table.</p>\n<pre><code>    CREATE TYPE udtTags AS TABLE\n        (\n             ids INT\n        )\n    GO\n</code></pre>\n<p>This is what I have tried:</p>\n<pre><code>List&lt;Integer&gt; idList = new ArrayList&lt;&gt;();\nidList.add(1);\nidList.add(2);\nreturn jdbi.withHandle(handle -&gt; {\nOutParameters result = handle.createCall(&quot;{call exampleSP(:country, :store, :ids)}&quot;)\n       .bind(&quot;country&quot;, &quot;US&quot;)\n       .bind(&quot;store&quot;, 1)\n       .bindList(&quot;ids&quot;, idList)\n       .invoke();\nreturn null;\n});\n</code></pre>\n<p>This is giving error:\norg.jdbi.v3.core.statement.UnableToCreateStatementException: Missing named parameter 'ids' in binding:{positional:{}, named:{__ids_1:1,store:1,country:US,__ids_0:2, finder:[]}</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3201,"reputation":49837,"user_id":4574,"accept_rate":88,"display_name":"Konamiman"},"score":0,"creation_date":1258719007,"post_id":1770055,"comment_id":1654548,"body_markdown":"I think that the problem is that the &quot;print duplicates&quot; part does not work","body":"I think that the problem is that the &quot;print duplicates&quot; part does not work"},{"owner":{"account_id":21287,"reputation":37465,"user_id":51591,"accept_rate":82,"display_name":"Michał Ziober"},"score":0,"creation_date":1258719082,"post_id":1770055,"comment_id":1654556,"body_markdown":"Please see this link where is a similar question: http://www.javalobby.org/java/forums/t18768.html","body":"Please see this link where is a similar question: <a href=\"http://www.javalobby.org/java/forums/t18768.html\" rel=\"nofollow noreferrer\">javalobby.org/java/forums/t18768.html</a>"},{"owner":{"account_id":11410064,"reputation":103,"user_id":8364477,"accept_rate":100,"display_name":"M.Barandov"},"score":0,"creation_date":1587664754,"post_id":1770055,"comment_id":108607800,"body_markdown":"You should use only one 1D array, not two 1D arrays. I suggest this link that writes this code in 2 different programs. [https://www.codeblah.com/duplicate-elimination-java-program/](https://www.codeblah.com/duplicate-elimination-java-program/).","body":"You should use only one 1D array, not two 1D arrays. I suggest this link that writes this code in 2 different programs. <a href=\"https://www.codeblah.com/duplicate-elimination-java-program/\" rel=\"nofollow noreferrer\">https://www.codeblah.com/duplicate-elimination-java-program/</a>&zwnj;&#8203;."}],"answers":[{"comments":[{"owner":{"account_id":3201,"reputation":49837,"user_id":4574,"accept_rate":88,"display_name":"Konamiman"},"score":0,"creation_date":1258719156,"post_id":1770071,"comment_id":1654562,"body_markdown":"Indeed. Anyway I guess that at this point the author should clarify its question a little.","body":"Indeed. Anyway I guess that at this point the author should clarify its question a little."},{"owner":{"account_id":36858,"reputation":113744,"user_id":105224,"accept_rate":73,"display_name":"Andreas Dolk"},"score":0,"creation_date":1258719262,"post_id":1770071,"comment_id":1654573,"body_markdown":"If he could use Vector, then why not a Set? That&#39;s even easier. - On second thought, Set changes the sequence of the values, it&#39;s either undefined (HashSet) or ordered (TreeSet). So List&lt;Integer&gt; is better :)","body":"If he could use Vector, then why not a Set? That&#39;s even easier. - On second thought, Set changes the sequence of the values, it&#39;s either undefined (HashSet) or ordered (TreeSet). So List&lt;Integer&gt; is better :)"},{"owner":{"account_id":50980,"reputation":8853,"user_id":152208,"display_name":"bcat"},"score":0,"creation_date":1258757747,"post_id":1770071,"comment_id":1658939,"body_markdown":"Or, more generally, the SortedSet interface.","body":"Or, more generally, the SortedSet interface."}],"tags":[],"owner":{"account_id":3201,"reputation":49837,"user_id":4574,"accept_rate":88,"display_name":"Konamiman"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1258718871,"creation_date":1258718871,"answer_id":1770071,"question_id":1770055,"body_markdown":"Assuming that your problem is that the &quot;print duplicates&quot; part does not work: can you use [a Vector][1]? If so, you could do something like this when printing the unique values:\r\n\r\n    for each item in the array\r\n       if the vector does not contain the item\r\n          print the value\r\n          insert the item in the vector\r\n\r\n\r\n  [1]: http://java.sun.com/j2se/1.4.2/docs/api/java/util/Vector.html","title":"Duplicate Elimination","body":"<p>Assuming that your problem is that the \"print duplicates\" part does not work: can you use <a href=\"http://java.sun.com/j2se/1.4.2/docs/api/java/util/Vector.html\" rel=\"nofollow noreferrer\">a Vector</a>? If so, you could do something like this when printing the unique values:</p>\n\n<pre><code>for each item in the array\n   if the vector does not contain the item\n      print the value\n      insert the item in the vector\n</code></pre>\n"},{"comments":[{"owner":{"account_id":571626,"reputation":1,"user_id":215404,"display_name":"tootaa"},"score":0,"creation_date":1258720954,"post_id":1770086,"comment_id":1654703,"body_markdown":"yes i must use array\nthe problem is \n1- print tthe orginal array \n2- print the array with no repeating number","body":"yes i must use array the problem is  1- print tthe orginal array  2- print the array with no repeating number"},{"owner":{"account_id":68751,"reputation":17327,"user_id":200410,"accept_rate":86,"display_name":"Soufiane Hassou"},"score":0,"creation_date":1258722375,"post_id":1770086,"comment_id":1654834,"body_markdown":"Is the solution, I provided, working for you ? I&#39;m using an array, the `HashSet` was just a suggestion anyway.","body":"Is the solution, I provided, working for you ? I&#39;m using an array, the <code>HashSet</code> was just a suggestion anyway."}],"tags":[],"owner":{"account_id":68751,"reputation":17327,"user_id":200410,"accept_rate":86,"display_name":"Soufiane Hassou"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1258719041,"creation_date":1258719041,"answer_id":1770086,"question_id":1770055,"body_markdown":"For your last loop, I&#39;d consider something like this:\r\n\r\n    for(int i = 0; i &lt; array.length; i++)\r\n    {\r\n        Boolean duplicated = false;\r\n        for(int j = 0; j&lt;i; j++) {\r\n           if(array[i] == array[j]) {\r\n             //number already printed\r\n             duplicated = true; \r\n             break;\r\n           }\r\n        }\r\n        if(duplicated == false) //print number here.\r\n    }\r\n\r\nIt&#39;s not the best way to do it, but It follows what you already did. &lt;br /&gt;\r\nThe best way would be to use an adequate structure, I&#39;m not a Java user but maybe `HashSet` is the way to go.","title":"Duplicate Elimination","body":"<p>For your last loop, I'd consider something like this:</p>\n\n<pre><code>for(int i = 0; i &lt; array.length; i++)\n{\n    Boolean duplicated = false;\n    for(int j = 0; j&lt;i; j++) {\n       if(array[i] == array[j]) {\n         //number already printed\n         duplicated = true; \n         break;\n       }\n    }\n    if(duplicated == false) //print number here.\n}\n</code></pre>\n\n<p>It's not the best way to do it, but It follows what you already did. <br />\nThe best way would be to use an adequate structure, I'm not a Java user but maybe <code>HashSet</code> is the way to go.</p>\n"},{"tags":[],"owner":{"account_id":51687,"reputation":492,"user_id":154476,"display_name":"monorailkitty"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1258719048,"creation_date":1258719048,"answer_id":1770087,"question_id":1770055,"body_markdown":"Have you considered your problem without focusing on code? Imagine I gave you a bit of paper and asked you to write down all the numbers I shouted out, without duplicates, then read the numbers back to me when I was done. Think how you&#39;d solve that in the real world before writing the code. E.g. would you write down numbers twice then score them out later? Would you need 2 sheets of paper - one with duplicates and one without?","title":"Duplicate Elimination","body":"<p>Have you considered your problem without focusing on code? Imagine I gave you a bit of paper and asked you to write down all the numbers I shouted out, without duplicates, then read the numbers back to me when I was done. Think how you'd solve that in the real world before writing the code. E.g. would you write down numbers twice then score them out later? Would you need 2 sheets of paper - one with duplicates and one without?</p>\n"},{"comments":[{"owner":{"account_id":45775,"reputation":12238,"user_id":135078,"accept_rate":94,"display_name":"Kelly S. French"},"score":1,"creation_date":1258738170,"post_id":1770151,"comment_id":1656820,"body_markdown":"The assignment requires the use of a one-dimensional array.","body":"The assignment requires the use of a one-dimensional array."},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1258757264,"post_id":1770151,"comment_id":1658894,"body_markdown":"Using a LinkedHashSet will also preserve order.","body":"Using a LinkedHashSet will also preserve order."}],"tags":[],"owner":{"account_id":14954,"reputation":47917,"user_id":31136,"accept_rate":50,"display_name":"bruno conde"},"comment_count":2,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1258719890,"creation_date":1258719890,"answer_id":1770151,"question_id":1770055,"body_markdown":"Do you really need to use arrays? A `Set` would be ideal here:\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tScanner input = new Scanner(System.in);\r\n\t\tSet&lt;Integer&gt; set = new HashSet&lt;Integer&gt;(10);\r\n\r\n\t\tSystem.out.println(&quot; Enter 10 integers: &quot;);\r\n\r\n\t\tfor (int i = 0; i &lt; 10; i++) {\r\n\t\t\tset.add(input.nextInt());\r\n\t\t}\r\n\t\tSystem.out.println(&quot;Unique values are: &quot;);\r\n\r\n\t\tfor (Integer i : set) {\r\n\t\t\tSystem.out.printf(&quot;\\t %d&quot;, i);\r\n\t\t}\r\n\t}","title":"Duplicate Elimination","body":"<p>Do you really need to use arrays? A <code>Set</code> would be ideal here:</p>\n\n<pre><code>public static void main(String[] args) {\n    Scanner input = new Scanner(System.in);\n    Set&lt;Integer&gt; set = new HashSet&lt;Integer&gt;(10);\n\n    System.out.println(\" Enter 10 integers: \");\n\n    for (int i = 0; i &lt; 10; i++) {\n        set.add(input.nextInt());\n    }\n    System.out.println(\"Unique values are: \");\n\n    for (Integer i : set) {\n        System.out.printf(\"\\t %d\", i);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":54119,"reputation":5756,"user_id":161895,"display_name":"Kennet"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1258734169,"creation_date":1258730322,"answer_id":1771143,"question_id":1770055,"body_markdown":"The Arrays class http://java.sun.com/javase/6/docs/api/java/util/Arrays.html have some useful methods for this topic, like sort. \r\n\r\n 1. Sort array\r\n 2. copy first integer to a new output array\r\n 3. Loop over all integers\r\n 4. if previous integer differs from current\r\n 5. create new array with output array size + 1 and copy all values\r\nfinally add last value\r\n\r\n \r\nSkipping input, the loop could look like:\r\n\r\n        int[] out = new int[1];\t\t\r\n\t\tint[] ints = new int[]{3,56,2,98,76,4,9,2,3,55};\r\n\t\tArrays.sort(ints);\r\n\t\tout[0] = ints[0]; \t\t\t\t\t\t\t\t\t//handle first value\r\n\t\tfor(int i = 1; i &lt; ints.length; i++){\t\t\t\r\n\t\t\tif(ints[i-1] != ints[i]){\t\t\t\t\r\n\t\t\t\tint[] temp = new int[out.length+1];\r\n\t\t\t\tfor(int j = 0; j &lt; temp.length-1; j++){\r\n\t\t\t\t\ttemp[j] = out[j];\t\t\t\t\t\t//copy all previous\r\n\t\t\t\t}\t\t\t\t\r\n\t\t\t\ttemp[temp.length - 1] = ints[i];\t\t\t//add last value\r\n\t\t\t\tout = temp;\r\n\t\t\t}\r\n\t\t}\r\n\t\tSystem.out.println(Arrays.toString(out));","title":"Duplicate Elimination","body":"<p>The Arrays class <a href=\"http://java.sun.com/javase/6/docs/api/java/util/Arrays.html\" rel=\"nofollow noreferrer\">http://java.sun.com/javase/6/docs/api/java/util/Arrays.html</a> have some useful methods for this topic, like sort. </p>\n\n<ol>\n<li>Sort array</li>\n<li>copy first integer to a new output array</li>\n<li>Loop over all integers</li>\n<li>if previous integer differs from current</li>\n<li>create new array with output array size + 1 and copy all values\nfinally add last value</li>\n</ol>\n\n<p>Skipping input, the loop could look like:</p>\n\n<pre><code>    int[] out = new int[1];     \n    int[] ints = new int[]{3,56,2,98,76,4,9,2,3,55};\n    Arrays.sort(ints);\n    out[0] = ints[0];                                   //handle first value\n    for(int i = 1; i &lt; ints.length; i++){           \n        if(ints[i-1] != ints[i]){               \n            int[] temp = new int[out.length+1];\n            for(int j = 0; j &lt; temp.length-1; j++){\n                temp[j] = out[j];                       //copy all previous\n            }               \n            temp[temp.length - 1] = ints[i];            //add last value\n            out = temp;\n        }\n    }\n    System.out.println(Arrays.toString(out));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":72061,"reputation":1386,"user_id":208180,"display_name":"coolest_head"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1258737888,"creation_date":1258737888,"answer_id":1772028,"question_id":1770055,"body_markdown":"How about using a BitSet since all the values are integers.\r\n\r\n    BitSet bs = new BitSet();\r\n    \r\n    for(int i=0; i&lt;array.lenght; i++)\r\n    {\r\n        bs.set(array[i]);    \r\n    }\r\n    \r\n    System.out.println(&quot;Unique Values are: &quot;+bs.toString());\r\n\r\n","title":"Duplicate Elimination","body":"<p>How about using a BitSet since all the values are integers.</p>\n\n<pre><code>BitSet bs = new BitSet();\n\nfor(int i=0; i&lt;array.lenght; i++)\n{\n    bs.set(array[i]);    \n}\n\nSystem.out.println(\"Unique Values are: \"+bs.toString());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":45775,"reputation":12238,"user_id":135078,"accept_rate":94,"display_name":"Kelly S. French"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1258738525,"creation_date":1258738525,"answer_id":1772101,"question_id":1770055,"body_markdown":"Two things to change:\r\n\r\n 1. Use only a single array\r\n 2. Filter duplicates on input, not output.\r\n\r\nIf you loop over your array for each input looking for dups. Dup? then don&#39;t insert, not dup? add to the array.\r\n\r\nUsing the smallest array possible is a trick because it depends on knowing how many dups will be input ahead of time which you may not.  There are two solutions, use an array that is only big enough for the unique numbers in the assignment, or when you exceed the size of the array, create a new one and copy all the values over to it. Does the assignment mean you are limited to using one one instance of an array which happens to be single-dimensional or only that the array you use must be one-dimensional but you can use more than one array?\r\n","title":"Duplicate Elimination","body":"<p>Two things to change:</p>\n\n<ol>\n<li>Use only a single array</li>\n<li>Filter duplicates on input, not output.</li>\n</ol>\n\n<p>If you loop over your array for each input looking for dups. Dup? then don't insert, not dup? add to the array.</p>\n\n<p>Using the smallest array possible is a trick because it depends on knowing how many dups will be input ahead of time which you may not.  There are two solutions, use an array that is only big enough for the unique numbers in the assignment, or when you exceed the size of the array, create a new one and copy all the values over to it. Does the assignment mean you are limited to using one one instance of an array which happens to be single-dimensional or only that the array you use must be one-dimensional but you can use more than one array?</p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1258757592,"creation_date":1258757592,"answer_id":1773727,"question_id":1770055,"body_markdown":"You can also try a shorter, if more obscure...\r\n\r\n    System.out.println(&quot;Unique values &quot;+\r\n        new LinkedHashSet&lt;String&gt;(Arrays.asList(scanner.nextLine().split(&quot; +&quot;))));","title":"Duplicate Elimination","body":"<p>You can also try a shorter, if more obscure...</p>\n\n<pre><code>System.out.println(\"Unique values \"+\n    new LinkedHashSet&lt;String&gt;(Arrays.asList(scanner.nextLine().split(\" +\"))));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":25648112,"reputation":1,"user_id":19415885,"display_name":"Usman Abdulwahab"},"score":0,"creation_date":1672744140,"post_id":74992511,"comment_id":132339176,"body_markdown":"The comments might not be the best, but these code solves the problem","body":"The comments might not be the best, but these code solves the problem"}],"tags":[],"owner":{"account_id":25648112,"reputation":1,"user_id":19415885,"display_name":"Usman Abdulwahab"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673211290,"creation_date":1672744055,"answer_id":74992511,"question_id":1770055,"body_markdown":"    public class DuplicateElimination2 {\r\n        \r\n        static Scanner input = new Scanner(System.in);\r\n    \r\n        static int[] array1 = new int[10];\r\n    \r\n        public static void main(String[] args) {\r\n            // loop insert 10 integer separated by space into the array.\r\n            for (int counter = 0; counter &lt; array1.length; counter++) {\r\n                // convert string input of digit into int values\r\n                int userInput = Integer.parseInt(input.next()); // collect user input\r\n                \r\n                // assign element userInput into an index of array1\r\n                array1[counter] = userInput;\r\n            }\r\n            // printing unique values\r\n            for (int i = 0; i &lt; array1.length; i++) {\r\n                int ifNumberExist = 0; // hold the current number a value appears\r\n                // print the first index since it need not to be compared with any other index\r\n                if(i == 0)\r\n                    System.out.print(array1[i] + &quot; &quot;);\r\n                else\r\n                    // j &lt; i means every element from array1[j] will be compare to array1[1 - i]\r\n                    for (int j = 0; j &lt; i; j++) {\r\n                        if(array1[j] == array1[i])  // check if the array element are equal\r\n                            ++ifNumberExist;  // increment if a match is found\r\n                    }\r\n                // print current array1 element if no match was found\r\n                if(ifNumberExist &lt; 1 &amp;&amp; i &gt; 0)\r\n                    System.out.print(array1[i] + &quot; &quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Duplicate Elimination","body":"<pre><code>public class DuplicateElimination2 {\n    \n    static Scanner input = new Scanner(System.in);\n\n    static int[] array1 = new int[10];\n\n    public static void main(String[] args) {\n        // loop insert 10 integer separated by space into the array.\n        for (int counter = 0; counter &lt; array1.length; counter++) {\n            // convert string input of digit into int values\n            int userInput = Integer.parseInt(input.next()); // collect user input\n            \n            // assign element userInput into an index of array1\n            array1[counter] = userInput;\n        }\n        // printing unique values\n        for (int i = 0; i &lt; array1.length; i++) {\n            int ifNumberExist = 0; // hold the current number a value appears\n            // print the first index since it need not to be compared with any other index\n            if(i == 0)\n                System.out.print(array1[i] + &quot; &quot;);\n            else\n                // j &lt; i means every element from array1[j] will be compare to array1[1 - i]\n                for (int j = 0; j &lt; i; j++) {\n                    if(array1[j] == array1[i])  // check if the array element are equal\n                        ++ifNumberExist;  // increment if a match is found\n                }\n            // print current array1 element if no match was found\n            if(ifNumberExist &lt; 1 &amp;&amp; i &gt; 0)\n                System.out.print(array1[i] + &quot; &quot;);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":571626,"reputation":1,"user_id":215404,"display_name":"tootaa"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8736,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":9,"score":0,"last_activity_date":1673211290,"creation_date":1258718592,"question_id":1770055,"body_markdown":"i have problem with this question \r\n\r\nDuplicate Elimination\r\nUse a one-dimensional array to solve the following problem: Write an application that inputs 10 integers. As each number is read, display it only if it is not a duplicate of a number already read. Use the smallest possible array to solve this problem. Display the complete set of unique values input after the user inputs all values.\r\n\r\nSample Output:\r\n\r\nEnter 10 integers:\r\n\r\n12  33  67  9  10  6  6  34  10  19 \r\n\r\n\r\nUnique Values:\r\n\r\n12  33  67  9  10  6  34  19 \r\n***note the question ask to reprint the array but without any repeating number***\r\n\r\nand this is my code \r\n\r\n    import java.util.Scanner;\r\n     \r\n    public class duplicate \r\n    {\r\n     \r\n    public static void main(String[] args)\r\n    {\r\n        Scanner input = new Scanner(System.in);\r\n        int[] array = new int[10];\r\n        int[] barray = new int[10];\r\n \r\n        System.out.println(&quot; Enter 10 integers: &quot;);\r\n        int i ;\r\n        for(i=0;i&lt;array.length;i++)\r\n        {\r\n            array[i]= input.nextInt();\r\n            barray[i] = array[i];\r\n        }\r\n        for(i=0;i&lt;array.length;i++)\r\n        {\r\n            System.out.printf(&quot;\\t %d &quot;,array[i]);\r\n \r\n        }\r\n        System.out.println(&quot;\\n Unique values are: &quot;);\r\n \r\n \r\n            for ( i = 0; i &lt; array.length; i++ )\r\n            {\r\n \r\n \r\n                {\r\n                    if ( array[ i ] == barray[ i ] )\r\n                        break;\r\n                      System.out.printf(&quot;\\t %d&quot;,array[i]);\r\n \r\n                }\r\n \r\n \r\n            }\r\n \r\n        }\r\n}\r\n\r\n","title":"Duplicate Elimination","body":"<p>i have problem with this question </p>\n\n<p>Duplicate Elimination\nUse a one-dimensional array to solve the following problem: Write an application that inputs 10 integers. As each number is read, display it only if it is not a duplicate of a number already read. Use the smallest possible array to solve this problem. Display the complete set of unique values input after the user inputs all values.</p>\n\n<p>Sample Output:</p>\n\n<p>Enter 10 integers:</p>\n\n<p>12  33  67  9  10  6  6  34  10  19 </p>\n\n<p>Unique Values:</p>\n\n<p>12  33  67  9  10  6  34  19 \n<strong><em>note the question ask to reprint the array but without any repeating number</em></strong></p>\n\n<p>and this is my code </p>\n\n<pre><code>import java.util.Scanner;\n\npublic class duplicate \n{\n\npublic static void main(String[] args)\n{\n    Scanner input = new Scanner(System.in);\n    int[] array = new int[10];\n    int[] barray = new int[10];\n\n    System.out.println(\" Enter 10 integers: \");\n    int i ;\n    for(i=0;i&lt;array.length;i++)\n    {\n        array[i]= input.nextInt();\n        barray[i] = array[i];\n    }\n    for(i=0;i&lt;array.length;i++)\n    {\n        System.out.printf(\"\\t %d \",array[i]);\n\n    }\n    System.out.println(\"\\n Unique values are: \");\n\n\n        for ( i = 0; i &lt; array.length; i++ )\n        {\n\n\n            {\n                if ( array[ i ] == barray[ i ] )\n                    break;\n                  System.out.printf(\"\\t %d\",array[i]);\n\n            }\n\n\n        }\n\n    }\n</code></pre>\n\n<p>}</p>\n"},{"tags":["java","android","google-glass"],"answers":[{"comments":[{"owner":{"account_id":311346,"reputation":16468,"user_id":624869,"accept_rate":82,"display_name":"JDS"},"score":0,"creation_date":1370038026,"post_id":16866502,"comment_id":24329542,"body_markdown":"You can run native Android on glass. But I&#39;m not sure how one would capture the touchpad input.","body":"You can run native Android on glass. But I&#39;m not sure how one would capture the touchpad input."},{"owner":{"account_id":248068,"reputation":17484,"user_id":523215,"display_name":"Krylez"},"score":0,"creation_date":1370038785,"post_id":16866502,"comment_id":24329762,"body_markdown":"When was a native SDK announced?","body":"When was a native SDK announced?"}],"tags":[],"owner":{"account_id":451752,"reputation":11207,"user_id":847818,"accept_rate":76,"display_name":"Enrichman"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1370038888,"creation_date":1370036759,"answer_id":16866502,"question_id":16866369,"body_markdown":"Am I wrong or the API offered by Google are limited to build web app as &quot;services&quot;?\r\n\r\nAs far as I understood you can just define a bunch of items/functions handled by HTTP request, so you probably want to define a [menu-item][1] that the user will trigger. At this point your server will receive the information with a menu id, so you can understand what to do.\r\n\r\n\r\nBy the way my experience is very vague, unfortunately I don&#39;t have Glass (I really wish).. : (\r\n\r\n**EDIT:**\r\n\r\nAs you said seems possible to run native apps (http://www.androidpolice.com/2013/05/07/running-native-android-apps-on-google-glass-ingress-and-other-stuff-video/) but seems very painful to me, and quite &quot;hacky&quot;. As the article says: &quot;the Glass touchpad sends Tab and Shift+Tab, not up and down.&quot; so you have probably to intercept those inputs.\r\n\r\nBtw, notice the battery in this mode: 6 minutes.......\r\n\r\n  [1]: https://developers.google.com/glass/menu-items","title":"Google Glass touchpad input via Android app?","body":"<p>Am I wrong or the API offered by Google are limited to build web app as \"services\"?</p>\n\n<p>As far as I understood you can just define a bunch of items/functions handled by HTTP request, so you probably want to define a <a href=\"https://developers.google.com/glass/menu-items\" rel=\"nofollow\">menu-item</a> that the user will trigger. At this point your server will receive the information with a menu id, so you can understand what to do.</p>\n\n<p>By the way my experience is very vague, unfortunately I don't have Glass (I really wish).. : (</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>As you said seems possible to run native apps (<a href=\"http://www.androidpolice.com/2013/05/07/running-native-android-apps-on-google-glass-ingress-and-other-stuff-video/\" rel=\"nofollow\">http://www.androidpolice.com/2013/05/07/running-native-android-apps-on-google-glass-ingress-and-other-stuff-video/</a>) but seems very painful to me, and quite \"hacky\". As the article says: \"the Glass touchpad sends Tab and Shift+Tab, not up and down.\" so you have probably to intercept those inputs.</p>\n\n<p>Btw, notice the battery in this mode: 6 minutes.......</p>\n"}],"owner":{"account_id":311346,"reputation":16468,"user_id":624869,"accept_rate":82,"display_name":"JDS"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":645,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1673211286,"creation_date":1370036114,"question_id":16866369,"body_markdown":"I have an Android app I will be porting to Google Glass. \r\n\r\nHow do I programmatically grab the touchpad input (touching side of frame with fingers) in my Android/Java code? \r\n","title":"Google Glass touchpad input via Android app?","body":"<p>I have an Android app I will be porting to Google Glass.</p>\n<p>How do I programmatically grab the touchpad input (touching side of frame with fingers) in my Android/Java code?</p>\n"},{"tags":["java","swing","jlabel"],"comments":[{"owner":{"account_id":6411938,"reputation":4104,"user_id":4971422,"display_name":"FredK"},"score":0,"creation_date":1528667674,"post_id":50788254,"comment_id":88583077,"body_markdown":"Your do-loop is executing on the main thread, not the event thread. And if it were on the event thread, it would block that thread. You need to use a Timer instead.","body":"Your do-loop is executing on the main thread, not the event thread. And if it were on the event thread, it would block that thread. You need to use a Timer instead."},{"owner":{"account_id":13406654,"reputation":9,"user_id":9674499,"display_name":"Jo&#227;o Folgado"},"score":0,"creation_date":1528667774,"post_id":50788254,"comment_id":88583104,"body_markdown":"a timer? how so? I&#39;m still kinda new to programing so i don&#39;t understand a whole lot of the terms","body":"a timer? how so? I&#39;m still kinda new to programing so i don&#39;t understand a whole lot of the terms"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1528669705,"post_id":50788254,"comment_id":88583497,"body_markdown":"@Jo&#227;oFolgado Then you should start by looking [Concurrency in Swing](https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html) and [How to Use Swing Timers](https://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html)","body":"@Jo&#227;oFolgado Then you should start by looking <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html\" rel=\"nofollow noreferrer\">Concurrency in Swing</a> and <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html\" rel=\"nofollow noreferrer\">How to Use Swing Timers</a>"}],"owner":{"account_id":13406654,"reputation":9,"user_id":9674499,"display_name":"Jo&#227;o Folgado"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673210678,"creation_date":1528666502,"question_id":50788254,"body_markdown":"I&#39;m trying to create a copy of the game Stratego and and I&#39;m having some trouble setting the text in a label. The code might explain it better. The supposed &quot;.&quot; is in the corrdinates &quot;3C&quot;, which corresponds to BoardSquares[2][2], but if I do a print of BoardSquares[2][2].getText() it will print out the &quot;S&quot; in the console, but not in the JLabel. Any idea why?\r\n\r\nThere is a link to a image to show the gridlayout with the JLabels. https://i.stack.imgur.com/eGcDZ.png\r\n\r\nMain:\r\n\r\n    public static void main(String[] args) {\r\n\t\tint totalP = 40;\r\n\t\tBoard cb = new Board();\r\n\t\tJFrame f = new JFrame(&quot;Stratego&quot;);\r\n\t\tRunnable r = new Runnable() {\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void run() {\r\n\r\n\t\t\t\tf.add(cb.getGui());\r\n\t\t\t\tf.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\r\n\t\t\t\tf.setLocationByPlatform(true);\r\n\r\n\t\t\t\t// ensures the frame is the minimum size it needs to be\r\n\t\t\t\t// in order display the components within it\r\n\t\t\t\tf.pack();\r\n\t\t\t\t// ensures the minimum size is enforced.\r\n\t\t\t\tf.setMinimumSize(f.getSize());\r\n\t\t\t\tf.setVisible(true);\r\n\r\n\t\t\t}\r\n\t\t};\r\n\t\tSwingUtilities.invokeLater(r);\r\n\t\tdo {\r\n\t\t\tSystem.out.println(&quot;pe&#231;a a mover&quot;);\r\n\t\t\tSystem.out.println(&quot;insira a linha da pe&#231;a a mover &quot;);\r\n\t\t\tint a = reader.nextInt();\r\n\t\t\tSystem.out.println(&quot;insira a coluna da pe&#231;a a mover&quot;);\r\n\t\t\tint b = reader.nextInt();\r\n\t\t\tSystem.out.println(&quot;insira a linha para onde a quer mover &quot;);\r\n\t\t\tint c = reader.nextInt();\r\n\t\t\tSystem.out.println(&quot;insira a coluna para onde a quer mover &quot;);\r\n\t\t\tint d = reader.nextInt();\r\n\t\t\tSystem.out.println(cb.canMoveTo(a, b, c, d));\r\n\t\t\tSystem.out.println(BoardSquares[b - 1][a - 1].getText());\r\n\t\t\tSystem.out.println(BoardSquares[d - 1][c - 1].getText());\r\n\t\t\tif (cb.canMoveTo(a, b, c, d)) {\r\n\t\t\t\t\r\n\t\t\t\tBoardSquares[d - 1][c - 1].setText(BoardSquares[b - 1][a - 1].getText());\r\n\t\t\t\t// setting the text with an &quot;S&quot; that was on the BoardSquare[b-1][a-1]\r\n\t\t\t\t// the BoardSquares[d-1][c-1].getText() will give the correct value\r\n\t\t\t\t// but in the gridlayout with the JLabels it will have a &quot;.&quot; instead of and &quot;S&quot;\r\n\t\t\t\tBoardSquares[b - 1][a - 1].setText(&quot;altered&quot;);\r\n\t\t\t\tf.add(cb.getGui());\r\n\r\n\t\t\t}\r\n\r\n\t\t} while (totalP &gt; 0);\r\n\r\n\r\n","title":"JLabel.setText is working in a strange way","body":"<p>I'm trying to create a copy of the game Stratego and and I'm having some trouble setting the text in a label. The code might explain it better. The supposed &quot;.&quot; is in the corrdinates &quot;3C&quot;, which corresponds to BoardSquares[2][2], but if I do a print of BoardSquares[2][2].getText() it will print out the &quot;S&quot; in the console, but not in the JLabel. Any idea why?</p>\n<p>There is a link to a image to show the gridlayout with the JLabels. <a href=\"https://i.stack.imgur.com/eGcDZ.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/eGcDZ.png</a></p>\n<p>Main:</p>\n<pre><code>public static void main(String[] args) {\n    int totalP = 40;\n    Board cb = new Board();\n    JFrame f = new JFrame(&quot;Stratego&quot;);\n    Runnable r = new Runnable() {\n\n        @Override\n        public void run() {\n\n            f.add(cb.getGui());\n            f.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\n            f.setLocationByPlatform(true);\n\n            // ensures the frame is the minimum size it needs to be\n            // in order display the components within it\n            f.pack();\n            // ensures the minimum size is enforced.\n            f.setMinimumSize(f.getSize());\n            f.setVisible(true);\n\n        }\n    };\n    SwingUtilities.invokeLater(r);\n    do {\n        System.out.println(&quot;peça a mover&quot;);\n        System.out.println(&quot;insira a linha da peça a mover &quot;);\n        int a = reader.nextInt();\n        System.out.println(&quot;insira a coluna da peça a mover&quot;);\n        int b = reader.nextInt();\n        System.out.println(&quot;insira a linha para onde a quer mover &quot;);\n        int c = reader.nextInt();\n        System.out.println(&quot;insira a coluna para onde a quer mover &quot;);\n        int d = reader.nextInt();\n        System.out.println(cb.canMoveTo(a, b, c, d));\n        System.out.println(BoardSquares[b - 1][a - 1].getText());\n        System.out.println(BoardSquares[d - 1][c - 1].getText());\n        if (cb.canMoveTo(a, b, c, d)) {\n            \n            BoardSquares[d - 1][c - 1].setText(BoardSquares[b - 1][a - 1].getText());\n            // setting the text with an &quot;S&quot; that was on the BoardSquare[b-1][a-1]\n            // the BoardSquares[d-1][c-1].getText() will give the correct value\n            // but in the gridlayout with the JLabels it will have a &quot;.&quot; instead of and &quot;S&quot;\n            BoardSquares[b - 1][a - 1].setText(&quot;altered&quot;);\n            f.add(cb.getGui());\n\n        }\n\n    } while (totalP &gt; 0);\n</code></pre>\n"},{"tags":["java","spring","java-8"],"comments":[{"owner":{"account_id":248187,"reputation":22658,"user_id":523391,"display_name":"prunge"},"score":0,"creation_date":1395302382,"post_id":22526695,"comment_id":34278468,"body_markdown":"Are you compiling your webapp as Java 8 or Java 7?  If 8, it should be possible to compile your classes targeting Java 7 but still run it under Java 8.","body":"Are you compiling your webapp as Java 8 or Java 7?  If 8, it should be possible to compile your classes targeting Java 7 but still run it under Java 8."},{"owner":{"account_id":2166141,"reputation":10222,"user_id":1919228,"accept_rate":83,"display_name":"Pablo Lozano"},"score":3,"creation_date":1395302914,"post_id":22526695,"comment_id":34278751,"body_markdown":"If you want to target Java8 you&#39;ll need Spring 4","body":"If you want to target Java8 you&#39;ll need Spring 4"},{"owner":{"account_id":2669202,"reputation":1620,"user_id":2306955,"accept_rate":50,"display_name":"stanislav.chetvertkov"},"score":0,"creation_date":1395303316,"post_id":22526695,"comment_id":34278970,"body_markdown":"It compiles to 1.7 but there is no support for java 8 features. So using jdk 8 in this case doesen&#39;t make sence","body":"It compiles to 1.7 but there is no support for java 8 features. So using jdk 8 in this case doesen&#39;t make sence"}],"answers":[{"comments":[{"owner":{"account_id":2669202,"reputation":1620,"user_id":2306955,"accept_rate":50,"display_name":"stanislav.chetvertkov"},"score":0,"creation_date":1395306695,"post_id":22527057,"comment_id":34280993,"body_markdown":"It worked, thanks! For some reason i&#39;ve missed spring 4 release :-)","body":"It worked, thanks! For some reason i&#39;ve missed spring 4 release :-)"},{"owner":{"account_id":1814855,"reputation":307,"user_id":1650169,"display_name":"orrsella"},"score":2,"creation_date":1398356649,"post_id":22527057,"comment_id":35621365,"body_markdown":"This happens to me too, even though the code is still compiled to target 1.7, I only changed the runtime to be java 8. Any ideas?","body":"This happens to me too, even though the code is still compiled to target 1.7, I only changed the runtime to be java 8. Any ideas?"},{"owner":{"account_id":80866,"reputation":11667,"user_id":228369,"accept_rate":79,"display_name":"chrismarx"},"score":2,"creation_date":1471361440,"post_id":22527057,"comment_id":65310561,"body_markdown":"See ItayK&#39;s answer, there is a bug in spring 3.2.8 and below that won&#39;t use the right asm version, it&#39;s fixed in 3.2.9-","body":"See ItayK&#39;s answer, there is a bug in spring 3.2.8 and below that won&#39;t use the right asm version, it&#39;s fixed in 3.2.9-"},{"owner":{"account_id":198768,"reputation":1124,"user_id":443633,"display_name":"michaelok"},"score":2,"creation_date":1477497231,"post_id":22527057,"comment_id":67793998,"body_markdown":"There was another bug fixed in 3.2.10, so I&#39;d recommend going with 3.2.16 or whatever is the latest. Here are the key Spring bugs that were fixed: [Metadata reading should never use ASM for java.* and javax.* types (in particular on JDK 8)](https://jira.spring.io/browse/SPR-11719) [Java 8: ASM5 visitors required for parsing INVOKESPECIAL/STATIC on interfaces](https://jira.spring.io/browse/SPR-11979)","body":"There was another bug fixed in 3.2.10, so I&#39;d recommend going with 3.2.16 or whatever is the latest. Here are the key Spring bugs that were fixed: <a href=\"https://jira.spring.io/browse/SPR-11719\" rel=\"nofollow noreferrer\">Metadata reading should never use ASM for java.* and javax.* types (in particular on JDK 8)</a> <a href=\"https://jira.spring.io/browse/SPR-11979\" rel=\"nofollow noreferrer\">Java 8: ASM5 visitors required for parsing INVOKESPECIAL/STATIC on interfaces</a>"},{"owner":{"account_id":4809151,"reputation":557,"user_id":3883118,"display_name":"Ashutosh Shukla"},"score":0,"creation_date":1504679071,"post_id":22527057,"comment_id":79096632,"body_markdown":"Thanks ,,it worked by keeping \n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.7&lt;/source&gt;\n                    &lt;target&gt;1.7&lt;/target&gt;\n                &lt;/configuration&gt;\ninstead of\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                &lt;/configuration&gt;","body":"Thanks ,,it worked by keeping              &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;                 &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;                 &lt;configuration&gt;                     &lt;source&gt;1.7&lt;/source&gt;                     &lt;target&gt;1.7&lt;/target&gt;                 &lt;/configuration&gt; instead of                 &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;                 &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;                 &lt;configuration&gt;                     &lt;source&gt;1.8&lt;/source&gt;                     &lt;target&gt;1.8&lt;/target&gt;                 &lt;/configuration&gt;"}],"tags":[],"owner":{"account_id":424679,"reputation":2320,"user_id":804812,"display_name":"Leszek Gruchała"},"comment_count":5,"down_vote_count":0,"up_vote_count":129,"is_accepted":true,"score":129,"last_activity_date":1395303274,"creation_date":1395303274,"answer_id":22527057,"question_id":22526695,"body_markdown":"As @prunge and @Pablo Lozano stated, you need Spring 4 if you want compile code to Java 8 (--target 1.8), but you can still run apps on Java 8 compiled to Java 7 if you run on Spring 3.2.X.\r\n\r\nCheck out \r\nhttp://docs.spring.io/spring/docs/current/spring-framework-reference/html/new-in-4.0.html\r\n\r\n&gt; Note that the Java 8 bytecode level (-target 1.8, as required by -source 1.8) is only fully supported as of Spring Framework 4.0. In particular, Spring 3.2 based applications need to be compiled with a maximum of Java 7 as the target, even if they happen to be deployed onto a Java 8 runtime. Please upgrade to Spring 4 for Java 8 based applications.","title":"Java 1.8 ASM ClassReader failed to parse class file - probably due to a new Java class file version that isn&#39;t supported yet","body":"<p>As @prunge and @Pablo Lozano stated, you need Spring 4 if you want compile code to Java 8 (--target 1.8), but you can still run apps on Java 8 compiled to Java 7 if you run on Spring 3.2.X.</p>\n\n<p>Check out \n<a href=\"http://docs.spring.io/spring/docs/current/spring-framework-reference/html/new-in-4.0.html\">http://docs.spring.io/spring/docs/current/spring-framework-reference/html/new-in-4.0.html</a></p>\n\n<blockquote>\n  <p>Note that the Java 8 bytecode level (-target 1.8, as required by -source 1.8) is only fully supported as of Spring Framework 4.0. In particular, Spring 3.2 based applications need to be compiled with a maximum of Java 7 as the target, even if they happen to be deployed onto a Java 8 runtime. Please upgrade to Spring 4 for Java 8 based applications.</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":387465,"reputation":4697,"user_id":745827,"accept_rate":88,"display_name":"Cengiz"},"score":9,"creation_date":1428577214,"post_id":23352356,"comment_id":47225615,"body_markdown":"Upgrading to Spring 3.2.9 helped me.","body":"Upgrading to Spring 3.2.9 helped me."},{"owner":{"account_id":1259089,"reputation":730,"user_id":1217913,"display_name":"Willa"},"score":2,"creation_date":1464263289,"post_id":23352356,"comment_id":62419022,"body_markdown":"This should be the accepted answer because it clearly explains what the issue is","body":"This should be the accepted answer because it clearly explains what the issue is"},{"owner":{"account_id":557644,"reputation":11713,"user_id":920173,"accept_rate":79,"display_name":"Salvatorelab"},"score":2,"creation_date":1473686973,"post_id":23352356,"comment_id":66224145,"body_markdown":"Had this problem with Spring 3.2.5, changed to 3.2.9 and problem solved. Perfect answer.","body":"Had this problem with Spring 3.2.5, changed to 3.2.9 and problem solved. Perfect answer."},{"owner":{"account_id":23845,"reputation":4116,"user_id":60127,"display_name":"rudolfson"},"score":0,"creation_date":1477067484,"post_id":23352356,"comment_id":67630291,"body_markdown":"Phew, glad I didn&#39;t need to upgrade to Spring 4. Great Answer!","body":"Phew, glad I didn&#39;t need to upgrade to Spring 4. Great Answer!"}],"tags":[],"owner":{"account_id":4376971,"reputation":761,"user_id":3569744,"display_name":"ItayK"},"comment_count":4,"down_vote_count":0,"up_vote_count":76,"is_accepted":false,"score":76,"last_activity_date":1398724502,"creation_date":1398724502,"answer_id":23352356,"question_id":22526695,"body_markdown":"If you encounter this error even if you compile with -target 1.7, please note that this is because of a bug in Spring Framework which causes ASM classreader to load jdk classes (java.* or javax.*), which are, of course, compiled with -target 1.8.\r\n\r\nThis, combined with the old ASM version in spring 3.2.8 and below, which does not support parsing of 1.8 class files, can also lead to this error.\r\n\r\nMore info about the issue can be found here: [https://jira.spring.io/browse/SPR-11719][1]\r\n\r\nThis should be fixed in Spring Framework version 3.2.9, which is due to be released soon.\r\n\r\nOf course, upgrading to Spring Framework 4 will also resolve the issue, as it already contains a newer version of ASM.\r\n\r\nHowever, if for some reason you can&#39;t upgrade to version 4 yet, it&#39;s good to know there&#39;s an alternative (soon).\r\n\r\n\r\n  [1]: https://jira.spring.io/browse/SPR-11719","title":"Java 1.8 ASM ClassReader failed to parse class file - probably due to a new Java class file version that isn&#39;t supported yet","body":"<p>If you encounter this error even if you compile with -target 1.7, please note that this is because of a bug in Spring Framework which causes ASM classreader to load jdk classes (java.* or javax.*), which are, of course, compiled with -target 1.8.</p>\n\n<p>This, combined with the old ASM version in spring 3.2.8 and below, which does not support parsing of 1.8 class files, can also lead to this error.</p>\n\n<p>More info about the issue can be found here: <a href=\"https://jira.spring.io/browse/SPR-11719\">https://jira.spring.io/browse/SPR-11719</a></p>\n\n<p>This should be fixed in Spring Framework version 3.2.9, which is due to be released soon.</p>\n\n<p>Of course, upgrading to Spring Framework 4 will also resolve the issue, as it already contains a newer version of ASM.</p>\n\n<p>However, if for some reason you can't upgrade to version 4 yet, it's good to know there's an alternative (soon).</p>\n"},{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1672458916,"post_id":45499627,"comment_id":132293990,"body_markdown":"Duplicative answer.  See https://stackoverflow.com/a/23352356/139985","body":"Duplicative answer.  See <a href=\"https://stackoverflow.com/a/23352356/139985\">stackoverflow.com/a/23352356/139985</a>"}],"tags":[],"owner":{"account_id":2696870,"reputation":75,"user_id":2328672,"display_name":"AdZzZ"},"comment_count":1,"down_vote_count":4,"up_vote_count":3,"is_accepted":false,"score":-1,"last_activity_date":1583319646,"creation_date":1501828066,"answer_id":45499627,"question_id":22526695,"body_markdown":"Spring 4 can be used for java 8 to resolve this issue. I just tested it and it works.\r\nThis issue is fixed since Spring 3.2.9-RELEASE version.\r\n","title":"Java 1.8 ASM ClassReader failed to parse class file - probably due to a new Java class file version that isn&#39;t supported yet","body":"<p>Spring 4 can be used for java 8 to resolve this issue. I just tested it and it works.\nThis issue is fixed since Spring 3.2.9-RELEASE version.</p>\n"},{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1672458888,"post_id":47098606,"comment_id":132293988,"body_markdown":"Duplicative answer.  See https://stackoverflow.com/a/23352356/139985","body":"Duplicative answer.  See <a href=\"https://stackoverflow.com/a/23352356/139985\">stackoverflow.com/a/23352356/139985</a>"}],"tags":[],"owner":{"account_id":5920747,"reputation":314,"user_id":4658158,"display_name":"shafaetjsr"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1509720763,"creation_date":1509720763,"answer_id":47098606,"question_id":22526695,"body_markdown":"if you use java 8 or next version you need to upgrade spring version and spring version should be  4.xxx","title":"Java 1.8 ASM ClassReader failed to parse class file - probably due to a new Java class file version that isn&#39;t supported yet","body":"<p>if you use java 8 or next version you need to upgrade spring version and spring version should be  4.xxx</p>\n"},{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1672459060,"post_id":55195625,"comment_id":132294000,"body_markdown":"Basically ... this is what the above answers are saying.  So this answer is duplicative.","body":"Basically ... this is what the above answers are saying.  So this answer is duplicative."}],"tags":[],"owner":{"account_id":14917432,"reputation":151,"user_id":10770818,"display_name":"rohan"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1552731272,"creation_date":1552731272,"answer_id":55195625,"question_id":22526695,"body_markdown":"I had the same problem and solved it. I am using spring 3.x with java 8. If above solutions are not working change the jars and search whether those jars are compatible with the java version you are using or not. spring 3.x is not compatible with java 8.","title":"Java 1.8 ASM ClassReader failed to parse class file - probably due to a new Java class file version that isn&#39;t supported yet","body":"<p>I had the same problem and solved it. I am using spring 3.x with java 8. If above solutions are not working change the jars and search whether those jars are compatible with the java version you are using or not. spring 3.x is not compatible with java 8.</p>\n"},{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1672458757,"post_id":74967324,"comment_id":132293974,"body_markdown":"That won&#39;t work if you are using the wrong version of Spring.","body":"That won&#39;t work if you are using the wrong version of Spring."}],"tags":[],"owner":{"account_id":14226479,"reputation":1,"user_id":10277021,"display_name":"Łukasz "},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672457032,"creation_date":1672456978,"answer_id":74967324,"question_id":22526695,"body_markdown":"I had the same problem, \r\n\r\n1.Go to:\r\n\r\nmaven -&gt; executive maven goal -&gt; mvn clean\r\n\r\nIt helps :)\r\n\r\n2.Invalid caches..","title":"Java 1.8 ASM ClassReader failed to parse class file - probably due to a new Java class file version that isn&#39;t supported yet","body":"<p>I had the same problem,</p>\n<p>1.Go to:</p>\n<p>maven -&gt; executive maven goal -&gt; mvn clean</p>\n<p>It helps :)</p>\n<p>2.Invalid caches..</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1673254339,"post_id":75051142,"comment_id":132448486,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/75051142/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":27471458,"reputation":1,"user_id":20960290,"display_name":"Shankar Thapa"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673210637,"creation_date":1673210637,"answer_id":75051142,"question_id":22526695,"body_markdown":"This problem might because of wrong selection of environments. I tried changing JRE to Java SE 1.8 which is the Java version installed. \r\nProject&gt;&gt;Right click&gt;&gt;Properties&gt;&gt;Java Build Path&gt;&gt;Libraries&gt;&gt;Double click JRE system Library&gt;&gt;Execution Environment to JAVA VERSION INSTALLED.","title":"Java 1.8 ASM ClassReader failed to parse class file - probably due to a new Java class file version that isn&#39;t supported yet","body":"<p>This problem might because of wrong selection of environments. I tried changing JRE to Java SE 1.8 which is the Java version installed.\nProject&gt;&gt;Right click&gt;&gt;Properties&gt;&gt;Java Build Path&gt;&gt;Libraries&gt;&gt;Double click JRE system Library&gt;&gt;Execution Environment to JAVA VERSION INSTALLED.</p>\n"}],"owner":{"account_id":2669202,"reputation":1620,"user_id":2306955,"accept_rate":50,"display_name":"stanislav.chetvertkov"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":135331,"favorite_count":0,"down_vote_count":0,"up_vote_count":103,"accepted_answer_id":22527057,"answer_count":7,"score":103,"last_activity_date":1673210637,"creation_date":1395302073,"question_id":22526695,"body_markdown":"My web application runs fine on JDK 1.7 but crashes on 1.8 with the following exception (during application server startup with Jetty 8). I am using Spring version: 3.2.5.RELEASE.\r\n\r\nException:\r\n---------------\r\n\r\n`org.springframework.core.NestedIOException: ASM ClassReader failed to parse class file - probably due to a new Java class file version that isn&#39;t supported yet`\r\n\r\nI assume that problem occurs because of spring and &quot;asm.jar&quot; library on which it depends. \r\n\r\nHow do I resolve this?\r\n","title":"Java 1.8 ASM ClassReader failed to parse class file - probably due to a new Java class file version that isn&#39;t supported yet","body":"<p>My web application runs fine on JDK 1.7 but crashes on 1.8 with the following exception (during application server startup with Jetty 8). I am using Spring version: 3.2.5.RELEASE.</p>\n\n<h2>Exception:</h2>\n\n<p><code>org.springframework.core.NestedIOException: ASM ClassReader failed to parse class file - probably due to a new Java class file version that isn't supported yet</code></p>\n\n<p>I assume that problem occurs because of spring and \"asm.jar\" library on which it depends. </p>\n\n<p>How do I resolve this?</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1673044463,"post_id":75036486,"comment_id":132417100,"body_markdown":"1. Don&#39;t use a KeyListener. 2. You could use key bindings. 3. Why are you desiring to do this?","body":"1. Don&#39;t use a KeyListener. 2. You could use key bindings. 3. Why are you desiring to do this?"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1673047612,"post_id":75036486,"comment_id":132417724,"body_markdown":"Hm, or maybe you can&#39;t use key bindings... I haven&#39;t gotten it to work just yet.","body":"Hm, or maybe you can&#39;t use key bindings... I haven&#39;t gotten it to work just yet."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1673050255,"post_id":75036486,"comment_id":132418133,"body_markdown":"ChangeEvent doesn&#39;t have this information. Why did you think you need to know this?","body":"ChangeEvent doesn&#39;t have this information. Why did you think you need to know this?"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1673052653,"post_id":75036486,"comment_id":132418392,"body_markdown":"why? ..........","body":"why? .........."},{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1673097787,"post_id":75036486,"comment_id":132423671,"body_markdown":"To answer the question in your title, extend `JSpinner`, `ChangeListener`, and `ChangeEvent` to include the information you&#39;re seeking.  Good luck.","body":"To answer the question in your title, extend <code>JSpinner</code>, <code>ChangeListener</code>, and <code>ChangeEvent</code> to include the information you&#39;re seeking.  Good luck."},{"owner":{"account_id":9026259,"reputation":1316,"user_id":6725459,"display_name":"jjazzboss"},"score":0,"creation_date":1673127036,"post_id":75036486,"comment_id":132429599,"body_markdown":"Answered the why. @GilbertLeBlanc yes, but my issue if how to get the info that will be put in the extended ChangeEvent.","body":"Answered the why. @GilbertLeBlanc yes, but my issue if how to get the info that will be put in the extended ChangeEvent."},{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1673128030,"post_id":75036486,"comment_id":132429778,"body_markdown":"Dig into the source code of a `JSpinner` class and find out what you have to modify.","body":"Dig into the source code of a <code>JSpinner</code> class and find out what you have to modify."},{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1673135197,"post_id":75036486,"comment_id":132430895,"body_markdown":"Now that you mentioned why, maybe using two `JSpinners` will work, one for the increase and one for the selection.","body":"Now that you mentioned why, maybe using two <code>JSpinners</code> will work, one for the increase and one for the selection."}],"answers":[{"comments":[{"owner":{"account_id":9026259,"reputation":1316,"user_id":6725459,"display_name":"jjazzboss"},"score":1,"creation_date":1673197948,"post_id":75049193,"comment_id":132439474,"body_markdown":"Tested it, it works. Just one surprise:  for ex. value=2. You type 4 then directly click on up arrow (don&#39;t press enter). Value becomes 5 with wasButton=false.  Which is not really wrong but unexpected to me.","body":"Tested it, it works. Just one surprise:  for ex. value=2. You type 4 then directly click on up arrow (don&#39;t press enter). Value becomes 5 with wasButton=false.  Which is not really wrong but unexpected to me."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1673202743,"post_id":75049193,"comment_id":132440496,"body_markdown":"hmm .. would also expect wasButton true in this case, sounds like incomplete !ogic in this tweak - will try to find the hole tomorrow","body":"hmm .. would also expect wasButton true in this case, sounds like incomplete !ogic in this tweak - will try to find the hole tomorrow"}],"tags":[],"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673193221,"creation_date":1673193221,"answer_id":75049193,"question_id":75036486,"body_markdown":"Distinguishing the trigger of a value change is not supported - the only value-related event fired by JSpinner is a ChangeEvent which carries no state except the source. We need another type of listener or a combination of listeners.\r\n\r\nFirst thought: listen to changes of the editor&#39;s textField, f.i. an actionListener or a propertyChangeListener on the value property. This doesn&#39;t work, mainly because \r\n\r\n- both change- and propertyChangeListener are fired always (change before property)\r\n- actionListener is not fired on focusLost\r\n\r\nSecond thought: go dirty and dig into implementation details to hook into the action fired by the arrow buttons.\r\n\r\nThe idea:\r\n\r\n- look up the action for increment/decrement from the spinner&#39;s actionMap: this is the same as the arrows&#39; actions and also used by up/down keys (which I assume not counting a &quot;editing&quot;)\r\n- for each, create a wrapper that sets a flag before delegating to super\r\n- put that wrapper into the spinner&#39;s actionMap\r\n- look up the arrow buttons in the spinner&#39;s children and replace their respective actionListener with the wrapper\r\n\r\nClient code would change the tweak&#39;s changeListener to acts according to the flag as appropriate.\r\n\r\nSome code doing the tweaking (beware: not formally tested!):\r\n\r\n    public static class SpinnerTweaker {\r\n\r\n        private JSpinner spinner;\r\n        private boolean wasButtonAction;\r\n        private Object oldValue;\r\n\r\n        public SpinnerTweaker(JSpinner spinner) {\r\n            this.spinner = spinner;\r\n\r\n            AbstractAction incrementDelegate = createDelegate(&quot;increment&quot;);\r\n            spinner.getActionMap().put(&quot;increment&quot;, incrementDelegate);\r\n\r\n            AbstractAction decrementDelegate = createDelegate(&quot;decrement&quot;);\r\n            spinner.getActionMap().put(&quot;decrement&quot;, decrementDelegate);\r\n\r\n            // replacing arrow button&#39;s action\r\n            Component[] components = spinner.getComponents();\r\n            for (Component component : components) {\r\n                if (component instanceof JButton) {\r\n                    if (component.getName() == &quot;Spinner.nextButton&quot;) {\r\n                        ActionListener[] actions = ((JButton) component).getActionListeners();\r\n                        ActionListener uiAction = actions[0];\r\n                        ((JButton) component).removeActionListener(uiAction);\r\n                        ((JButton) component).addActionListener(incrementDelegate);\r\n                    }\r\n                    if (component.getName() == &quot;Spinner.previousButton&quot;) {\r\n                        ActionListener[] actions = ((JButton) component).getActionListeners();\r\n                        ActionListener uiAction = actions[0];\r\n                        ((JButton) component).removeActionListener(uiAction);\r\n                        ((JButton) component).addActionListener(decrementDelegate);\r\n                    }\r\n                }\r\n            }\r\n\r\n            spinner.addChangeListener(e -&gt; {\r\n                if (wasButtonAction) {\r\n                    System.out.println(&quot;value changed by button: &quot; + spinner.getValue());\r\n                } else {\r\n                    System.out.println(&quot;value changed by editing: &quot; + spinner.getValue());\r\n                }\r\n                wasButtonAction = false;\r\n           });\r\n\r\n        }\r\n\r\n        protected AbstractAction createDelegate(String actionCommand) {\r\n            // hooking into original button action to set button flag\r\n            AbstractAction action = (AbstractAction) spinner.getActionMap().get(actionCommand);\r\n            AbstractAction delegate = new AbstractAction() {\r\n\r\n                @Override\r\n                public void actionPerformed(ActionEvent e) {\r\n                    oldValue = spinner.getValue();\r\n                    wasButtonAction = true;\r\n                    action.actionPerformed(e);\r\n                    // hit min/max - TBD: needs testing!\r\n                    if (oldValue.equals(spinner.getValue())) {\r\n                        wasButtonAction = false;\r\n                    }\r\n                }\r\n            };\r\n\r\n            return delegate;\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Detect if JSpinner change comes from typing value or clicking on arrow","body":"<p>Distinguishing the trigger of a value change is not supported - the only value-related event fired by JSpinner is a ChangeEvent which carries no state except the source. We need another type of listener or a combination of listeners.</p>\n<p>First thought: listen to changes of the editor's textField, f.i. an actionListener or a propertyChangeListener on the value property. This doesn't work, mainly because</p>\n<ul>\n<li>both change- and propertyChangeListener are fired always (change before property)</li>\n<li>actionListener is not fired on focusLost</li>\n</ul>\n<p>Second thought: go dirty and dig into implementation details to hook into the action fired by the arrow buttons.</p>\n<p>The idea:</p>\n<ul>\n<li>look up the action for increment/decrement from the spinner's actionMap: this is the same as the arrows' actions and also used by up/down keys (which I assume not counting a &quot;editing&quot;)</li>\n<li>for each, create a wrapper that sets a flag before delegating to super</li>\n<li>put that wrapper into the spinner's actionMap</li>\n<li>look up the arrow buttons in the spinner's children and replace their respective actionListener with the wrapper</li>\n</ul>\n<p>Client code would change the tweak's changeListener to acts according to the flag as appropriate.</p>\n<p>Some code doing the tweaking (beware: not formally tested!):</p>\n<pre><code>public static class SpinnerTweaker {\n\n    private JSpinner spinner;\n    private boolean wasButtonAction;\n    private Object oldValue;\n\n    public SpinnerTweaker(JSpinner spinner) {\n        this.spinner = spinner;\n\n        AbstractAction incrementDelegate = createDelegate(&quot;increment&quot;);\n        spinner.getActionMap().put(&quot;increment&quot;, incrementDelegate);\n\n        AbstractAction decrementDelegate = createDelegate(&quot;decrement&quot;);\n        spinner.getActionMap().put(&quot;decrement&quot;, decrementDelegate);\n\n        // replacing arrow button's action\n        Component[] components = spinner.getComponents();\n        for (Component component : components) {\n            if (component instanceof JButton) {\n                if (component.getName() == &quot;Spinner.nextButton&quot;) {\n                    ActionListener[] actions = ((JButton) component).getActionListeners();\n                    ActionListener uiAction = actions[0];\n                    ((JButton) component).removeActionListener(uiAction);\n                    ((JButton) component).addActionListener(incrementDelegate);\n                }\n                if (component.getName() == &quot;Spinner.previousButton&quot;) {\n                    ActionListener[] actions = ((JButton) component).getActionListeners();\n                    ActionListener uiAction = actions[0];\n                    ((JButton) component).removeActionListener(uiAction);\n                    ((JButton) component).addActionListener(decrementDelegate);\n                }\n            }\n        }\n\n        spinner.addChangeListener(e -&gt; {\n            if (wasButtonAction) {\n                System.out.println(&quot;value changed by button: &quot; + spinner.getValue());\n            } else {\n                System.out.println(&quot;value changed by editing: &quot; + spinner.getValue());\n            }\n            wasButtonAction = false;\n       });\n\n    }\n\n    protected AbstractAction createDelegate(String actionCommand) {\n        // hooking into original button action to set button flag\n        AbstractAction action = (AbstractAction) spinner.getActionMap().get(actionCommand);\n        AbstractAction delegate = new AbstractAction() {\n\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                oldValue = spinner.getValue();\n                wasButtonAction = true;\n                action.actionPerformed(e);\n                // hit min/max - TBD: needs testing!\n                if (oldValue.equals(spinner.getValue())) {\n                    wasButtonAction = false;\n                }\n            }\n        };\n\n        return delegate;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9026259,"reputation":1316,"user_id":6725459,"display_name":"jjazzboss"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673209936,"creation_date":1673209936,"answer_id":75051070,"question_id":75036486,"body_markdown":"@kleopatra solution works but I found a simpler solution.\r\n\r\nThe trick is that `commitEdit()` is only called internally by JSpinner when change results from the increment or decrement action.\r\n\r\n    public class Spinner2 extends JSpinner\r\n    {\r\n        // To be checked by ChangeListener after receiving the ChangeEvent\r\n        public boolean wasManualEdit=true;\r\n    \r\n        @Override\r\n        public void commitEdit() throws ParseException\r\n        {\r\n            wasManualEdit = false;\r\n            super.commitEdit();\r\n        }\r\n    \r\n        @Override\r\n        protected void fireStateChanged()\r\n        {\r\n            super.fireStateChanged();\r\n            wasManualEdit = true;\r\n        }\r\n    }","title":"Detect if JSpinner change comes from typing value or clicking on arrow","body":"<p>@kleopatra solution works but I found a simpler solution.</p>\n<p>The trick is that <code>commitEdit()</code> is only called internally by JSpinner when change results from the increment or decrement action.</p>\n<pre><code>public class Spinner2 extends JSpinner\n{\n    // To be checked by ChangeListener after receiving the ChangeEvent\n    public boolean wasManualEdit=true;\n\n    @Override\n    public void commitEdit() throws ParseException\n    {\n        wasManualEdit = false;\n        super.commitEdit();\n    }\n\n    @Override\n    protected void fireStateChanged()\n    {\n        super.fireStateChanged();\n        wasManualEdit = true;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":9026259,"reputation":1316,"user_id":6725459,"display_name":"jjazzboss"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75051070,"answer_count":2,"score":1,"last_activity_date":1673209936,"creation_date":1673042657,"question_id":75036486,"body_markdown":"When I receive a `ChangeEvent` from my `JSpinner`, I&#39;d like to detect if user used the arrows to increase/decrease the number value, or directly typed a new number. \r\n\r\nWhat would be the best approach to do this ? \r\n\r\nEDIT: for now my non-reliable solution is just to save the last JSpinner changed value, and if new change value is +/- equals to the step value, then I assume user clicked on an arrow. It works except if user typed a value which is equals to (oldValue +/- step).\r\n\r\n\r\nEDIT: why ?\r\nI want to reproduce the behavior found in Midi editors of several famous DAWs. The JSpinner represents the velocity (0-127) of selected notes. It shows the velocity of the first selected note. Usually notes velocity differ. When you increase with arrow, you want to increase all selected notes by the same amount. When you type in a new value, you want all velocities to be reset to this value.","title":"Detect if JSpinner change comes from typing value or clicking on arrow","body":"<p>When I receive a <code>ChangeEvent</code> from my <code>JSpinner</code>, I'd like to detect if user used the arrows to increase/decrease the number value, or directly typed a new number.</p>\n<p>What would be the best approach to do this ?</p>\n<p>EDIT: for now my non-reliable solution is just to save the last JSpinner changed value, and if new change value is +/- equals to the step value, then I assume user clicked on an arrow. It works except if user typed a value which is equals to (oldValue +/- step).</p>\n<p>EDIT: why ?\nI want to reproduce the behavior found in Midi editors of several famous DAWs. The JSpinner represents the velocity (0-127) of selected notes. It shows the velocity of the first selected note. Usually notes velocity differ. When you increase with arrow, you want to increase all selected notes by the same amount. When you type in a new value, you want all velocities to be reset to this value.</p>\n"},{"tags":["java","mysql","sql"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1673225481,"post_id":75050716,"comment_id":132444005,"body_markdown":"Please don&#39;t post images of code, errors, logs, or other text; see [ask]","body":"Please don&#39;t post images of code, errors, logs, or other text; see <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>"}],"answers":[{"comments":[{"owner":{"account_id":27437374,"reputation":1,"user_id":20932947,"display_name":"Kaspersky"},"score":0,"creation_date":1673209048,"post_id":75050730,"comment_id":132441651,"body_markdown":"Wrong calculations\n\nplatform 2600 gives an average of 0.7\nAnd should\n5.54","body":"Wrong calculations  platform 2600 gives an average of 0.7 And should 5.54"},{"owner":{"account_id":12498833,"reputation":135427,"user_id":9097906,"display_name":"Littlefoot"},"score":0,"creation_date":1673209703,"post_id":75050730,"comment_id":132441777,"body_markdown":"I don&#39;t know what &quot;platform 2600&quot; is and why result should be 5.54 - you never provided any sample data. If you take a look at edited answer which now contains an example that shows what the AVG function returns, you&#39;ll see that it isn&#39;t about it (the function) but *something else*. What? No idea, until you provide test case (CREATE TABLE and INSERT INTO sample data) which will let us see what&#39;s going on.","body":"I don&#39;t know what &quot;platform 2600&quot; is and why result should be 5.54 - you never provided any sample data. If you take a look at edited answer which now contains an example that shows what the AVG function returns, you&#39;ll see that it isn&#39;t about it (the function) but <i>something else</i>. What? No idea, until you provide test case (CREATE TABLE and INSERT INTO sample data) which will let us see what&#39;s going on."},{"owner":{"account_id":27437374,"reputation":1,"user_id":20932947,"display_name":"Kaspersky"},"score":0,"creation_date":1673209831,"post_id":75050730,"comment_id":132441799,"body_markdown":"Everything is correct, thank you","body":"Everything is correct, thank you"}],"tags":[],"owner":{"account_id":12498833,"reputation":135427,"user_id":9097906,"display_name":"Littlefoot"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673209588,"creation_date":1673206698,"answer_id":75050730,"question_id":75050716,"body_markdown":"Use the `AVG` (*average*) aggregate function and put column that isn&#39;t aggregated (the *name*) into the `group by` clause.\r\n\r\n    SELECT avg(`Sales`.&#39;Global_Sales&#39;) as average_sales,            --&gt; this\r\n           Platform.name\r\n    FROM `Games_In_Platform` INNER JOIN `Sales` ON `Games_In_Platform`.`game_id`=`Sales`.`game_id`\r\n    JOIN Platform on Games_In_Platform.platform_id = Platform.id\r\n    group by Platform.name                                          --&gt; and this\r\n\r\n---------\r\n\r\nAs you commented that average isn&#39;t calculated correctly: it is not about the function, it works OK. For example:\r\n\r\n    SQL&gt; select name, sales from test order by name;\r\n    \r\n    NAME        SALES\r\n    ------ ----------\r\n    name A        100      --&gt; average for &quot;name A&quot; = (100 + 200) / 2  \r\n    name A        200      --&gt;                      = 300 / 2 = 150\r\n    name B         50      --&gt; average for &quot;name B&quot; =  50 / 1 = 50\r\n    \r\nSo, what does the function return? It returns what we expect:\r\n\r\n    SQL&gt; select name,\r\n      2         avg(sales) average_sales\r\n      3  from test\r\n      4  group by name;\r\n    \r\n    NAME   AVERAGE_SALES\r\n    ------ -------------\r\n    name A           150\r\n    name B            50\r\n    \r\n    SQL&gt;\r\n\r\nTherefore, if query returns unexpected result, do provide some sample data so that we&#39;d see what&#39;s going on.","title":"group by platform, and display the arithmetic mean of sales","body":"<p>Use the <code>AVG</code> (<em>average</em>) aggregate function and put column that isn't aggregated (the <em>name</em>) into the <code>group by</code> clause.</p>\n<pre><code>SELECT avg(`Sales`.'Global_Sales') as average_sales,            --&gt; this\n       Platform.name\nFROM `Games_In_Platform` INNER JOIN `Sales` ON `Games_In_Platform`.`game_id`=`Sales`.`game_id`\nJOIN Platform on Games_In_Platform.platform_id = Platform.id\ngroup by Platform.name                                          --&gt; and this\n</code></pre>\n<hr />\n<p>As you commented that average isn't calculated correctly: it is not about the function, it works OK. For example:</p>\n<pre><code>SQL&gt; select name, sales from test order by name;\n\nNAME        SALES\n------ ----------\nname A        100      --&gt; average for &quot;name A&quot; = (100 + 200) / 2  \nname A        200      --&gt;                      = 300 / 2 = 150\nname B         50      --&gt; average for &quot;name B&quot; =  50 / 1 = 50\n</code></pre>\n<p>So, what does the function return? It returns what we expect:</p>\n<pre><code>SQL&gt; select name,\n  2         avg(sales) average_sales\n  3  from test\n  4  group by name;\n\nNAME   AVERAGE_SALES\n------ -------------\nname A           150\nname B            50\n\nSQL&gt;\n</code></pre>\n<p>Therefore, if query returns unexpected result, do provide some sample data so that we'd see what's going on.</p>\n"}],"owner":{"account_id":27437374,"reputation":1,"user_id":20932947,"display_name":"Kaspersky"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":108,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1673209588,"creation_date":1673206522,"question_id":75050716,"body_markdown":"Can&#39;t deal with sql query.\r\n\r\n1. There is a table of platforms.\r\n\r\n\r\n2. I have a sales table.\r\n\r\n3. There is a table of connection between platforms and games.\r\n\r\n**Table with games is the main.**\r\n\r\n\r\n\r\n**Table chart**\r\n(https://i.stack.imgur.com/MxQDP.png)\r\n\r\nMade sql query.\r\n\r\n\r\n```\r\nSELECT`Sales`.&#39;Global_Sales&#39;,  Platform.name\r\nFROM `Games_In_Platform` INNER JOIN `Sales` ON `Games_In_Platform`.`game_id`=`Sales`.`game_id`\r\nJOIN Platform on Games_In_Platform.platform_id = Platform.id;\r\n```\r\n\r\n\r\nGot two columns\r\n\r\nPlatforms and global sales\r\nphoto of the received table (https://i.stack.imgur.com/lEEhA.png)\r\n\r\nHow to group global sales by platform?\r\nOutput the arithmetic mean of global sales for each platform?\r\nAnd do it in one request!","title":"group by platform, and display the arithmetic mean of sales","body":"<p>Can't deal with sql query.</p>\n<ol>\n<li><p>There is a table of platforms.</p>\n</li>\n<li><p>I have a sales table.</p>\n</li>\n<li><p>There is a table of connection between platforms and games.</p>\n</li>\n</ol>\n<p><strong>Table with games is the main.</strong></p>\n<p><strong>Table chart</strong>\n(<a href=\"https://i.stack.imgur.com/MxQDP.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/MxQDP.png</a>)</p>\n<p>Made sql query.</p>\n<pre><code>SELECT`Sales`.'Global_Sales',  Platform.name\nFROM `Games_In_Platform` INNER JOIN `Sales` ON `Games_In_Platform`.`game_id`=`Sales`.`game_id`\nJOIN Platform on Games_In_Platform.platform_id = Platform.id;\n</code></pre>\n<p>Got two columns</p>\n<p>Platforms and global sales\nphoto of the received table (<a href=\"https://i.stack.imgur.com/lEEhA.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/lEEhA.png</a>)</p>\n<p>How to group global sales by platform?\nOutput the arithmetic mean of global sales for each platform?\nAnd do it in one request!</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9477,"page":746,"page_size":100}
