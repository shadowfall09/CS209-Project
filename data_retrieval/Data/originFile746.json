{"items":[{"tags":["java","maven","jaxb","xjc","maven-jaxb2-plugin"],"answers":[{"tags":[],"owner":{"account_id":2102412,"reputation":72,"user_id":1869668,"display_name":"Joe Crivello"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673200903,"creation_date":1673200903,"answer_id":75050163,"question_id":75046123,"body_markdown":"I was able to resolve this by adding ```org.jvnet.jaxb2_commons:jaxb2-basics``` plugin into the ```maven-jaxb2-plugin``` configuration. Only version 0.11.0 seemed to work.\r\n\r\nThis is what I added to the pom.xml (only showing changed XML elements):\r\n\r\n```xml\r\n&lt;project&gt;\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;args&gt;\r\n                                &lt;arg&gt;-Xcopyable&lt;/arg&gt;\r\n                            &lt;/args&gt;\r\n                            &lt;plugins&gt;\r\n                                &lt;plugin&gt;\r\n                                    &lt;groupId&gt;org.jvnet.jaxb2_commons&lt;/groupId&gt;\r\n                                    &lt;artifactId&gt;jaxb2-basics&lt;/artifactId&gt;\r\n                                    &lt;version&gt;0.11.0&lt;/version&gt;\r\n                                &lt;/plugin&gt;\r\n                            &lt;/plugins&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```","title":"maven-jaxb2-plugin generates uncompilable code when using episode from org.jvnet.ogc/gml-v_3_2_1","body":"<p>I was able to resolve this by adding <code>org.jvnet.jaxb2_commons:jaxb2-basics</code> plugin into the <code>maven-jaxb2-plugin</code> configuration. Only version 0.11.0 seemed to work.</p>\n<p>This is what I added to the pom.xml (only showing changed XML elements):</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;project&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;configuration&gt;\n                            &lt;args&gt;\n                                &lt;arg&gt;-Xcopyable&lt;/arg&gt;\n                            &lt;/args&gt;\n                            &lt;plugins&gt;\n                                &lt;plugin&gt;\n                                    &lt;groupId&gt;org.jvnet.jaxb2_commons&lt;/groupId&gt;\n                                    &lt;artifactId&gt;jaxb2-basics&lt;/artifactId&gt;\n                                    &lt;version&gt;0.11.0&lt;/version&gt;\n                                &lt;/plugin&gt;\n                            &lt;/plugins&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n"}],"owner":{"account_id":2102412,"reputation":72,"user_id":1869668,"display_name":"Joe Crivello"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673200945,"creation_date":1673162854,"question_id":75046123,"body_markdown":"I am trying to generate JAXB classes for the [AIXM XSDs](https://www.aixm.aero/document/aixm-511-xml-schema-xsd), which unfortunately are quite complicated and reference the even more complicated OGC GML 3.2.1, xlink and ISO 19139 schemas. I would like this code generation to occur during our Maven build, and I am using the `maven-jaxb2-plugin` for this purpose.\r\n\r\nThe OGC schema files require numerous patches in order to be compiled into JAXB classes by XJC. Luckily, the original developer of the `maven-jaxb2-plugin` coincidentally also created the [ogc-schemas](https://github.com/highsource/ogc-schemas) project which contains pre-built JAXB bindings and episode files for many OGC schema files, including GML 3.2.1. Unfortunately from the repository issues list, it sounds like he tragically passed away in 2021.\r\n\r\nBy using the episode file from `org.jvnet.ogc:gml-v_3_2_1` together with some custom bindings for one of the AIXM schema files, I was finally able to get maven-jaxb2-plugin to generate code. However, the code it generates does not compile. I do not do much Java development, so I may be doing something obviously wrong here.\r\n\r\nMany of the classes it generates fail to compile with an error like this:\r\n\r\n&gt;aixm.ApronElementTimeSliceType is not abstract and does not override abstract method createNewInstance() in org.jvnet.jaxb2_commons.lang.CopyTo2\r\n\r\nIn this case, the abstract method is declared in `net.opengis.gml.v_3_2_1.AbstractTimeSliceType` and the inheritance tree looks like this:\r\n\r\n```\r\naixm.ApronElementTimeSliceType (generated in my project)\r\n extends aixm.AbstractAIXMTimeSliceType (generated in my project)\r\n  extends aixm.AbstractAIXMTimeSliceBaseType (generated in my project)\r\n   extends net.opengis.gml.v_3_2_1.AbstractTimeSliceType (imported from org.jvnet.ogc:gml-v_3_2_1)\r\n```\r\n\r\nIt is not clear to me how I can get `maven-jaxb2-plugin` to generate an implementation for createNewInstance() in each of these generated non-abstract classes. It looks like the needed implementation is pretty simple... pretty much `new CLASS_NAME_HERE()`.\r\n\r\nHere is my pom.xml file:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;&lt;!-- SNIP --&gt;&lt;/groupId&gt;\r\n    &lt;artifactId&gt;&lt;!-- SNIP --&gt;&lt;/artifactId&gt;\r\n    &lt;version&gt;&lt;!-- SNIP --&gt;&lt;/version&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;19&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;19&lt;/maven.compiler.target&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.3.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\r\n            &lt;version&gt;2.3.7&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jvnet.ogc&lt;/groupId&gt;\r\n            &lt;artifactId&gt;gml-v_3_2_1&lt;/artifactId&gt;\r\n            &lt;version&gt;2.6.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hisrc.w3c&lt;/groupId&gt;\r\n            &lt;artifactId&gt;xlink-v_1_0&lt;/artifactId&gt;\r\n            &lt;version&gt;1.4.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.jvnet.jaxb2.maven2&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-jaxb2-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;0.15.2&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;fixm&lt;/id&gt;\r\n                        &lt;!-- SNIP... this execution is not relevant to this question... --&gt;\r\n                    &lt;/execution&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;aixm&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;generate&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;extension&gt;true&lt;/extension&gt;\r\n                            &lt;generatePackage&gt;aixm&lt;/generatePackage&gt;\r\n                            &lt;generateDirectory&gt;${project.basedir}/src/main/generated-sources-aixm&lt;/generateDirectory&gt;\r\n                            &lt;removeOldOutput&gt;true&lt;/removeOldOutput&gt;\r\n                            &lt;schemaDirectory&gt;src/main/xsd/aixm&lt;/schemaDirectory&gt;\r\n                            &lt;schemaIncludes&gt;\r\n                                &lt;include&gt;**/*.xsd&lt;/include&gt;\r\n                            &lt;/schemaIncludes&gt;\r\n                            &lt;bindingDirectory&gt;src/main/xjb/aixm&lt;/bindingDirectory&gt;\r\n                            &lt;bindingIncludes&gt;\r\n                                &lt;include&gt;**/*.xjb&lt;/include&gt;\r\n                            &lt;/bindingIncludes&gt;\r\n                            &lt;episodes&gt;\r\n                                &lt;episode&gt;\r\n                                    &lt;groupId&gt;org.jvnet.ogc&lt;/groupId&gt;\r\n                                    &lt;artifactId&gt;gml-v_3_2_1&lt;/artifactId&gt;\r\n                                &lt;/episode&gt;\r\n                                &lt;episode&gt;\r\n                                    &lt;groupId&gt;org.hisrc.w3c&lt;/groupId&gt;\r\n                                    &lt;artifactId&gt;xlink-v_1_0&lt;/artifactId&gt;\r\n                                &lt;/episode&gt;\r\n                            &lt;/episodes&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n                &lt;dependencies&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\r\n                        &lt;version&gt;2.3.6&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;jaxb-core&lt;/artifactId&gt;\r\n                        &lt;version&gt;2.3.0.1&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;javax.activation&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;activation&lt;/artifactId&gt;\r\n                        &lt;version&gt;1.1.1&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\r\n                        &lt;version&gt;2.2&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                &lt;/dependencies&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nAnd just for the sake of completeness here is the bindings file I created to resolve some `ObjectFactory` collisions in `AIXM_Features.xsd`:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\r\n&lt;jaxb:bindings version=&quot;2.1&quot; xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns:jaxb=&quot;http://java.sun.com/xml/ns/jaxb&quot;&gt;\r\n    &lt;jaxb:bindings schemaLocation=&quot;../../xsd/aixm/AIXM_Features.xsd&quot;&gt;\r\n        &lt;jaxb:bindings node=&quot;/xs:schema/xs:element[@name=&#39;Curve&#39;]&quot;&gt;\r\n            &lt;jaxb:factoryMethod name=&quot;CurveAixm&quot;/&gt;\r\n        &lt;/jaxb:bindings&gt;\r\n        &lt;jaxb:bindings node=&quot;/xs:schema/xs:element[@name=&#39;Point&#39;]&quot;&gt;\r\n            &lt;jaxb:factoryMethod name=&quot;PointAixm&quot;/&gt;\r\n        &lt;/jaxb:bindings&gt;\r\n        &lt;jaxb:bindings node=&quot;/xs:schema/xs:element[@name=&#39;Surface&#39;]&quot;&gt;\r\n            &lt;jaxb:factoryMethod name=&quot;SurfaceAixm&quot;/&gt;\r\n        &lt;/jaxb:bindings&gt;\r\n    &lt;/jaxb:bindings&gt;\r\n    &lt;jaxb:bindings schemaLocation=&quot;http://schemas.opengis.net/iso/19139/20070417/gco/gcoBase.xsd&quot;&gt;\r\n        &lt;jaxb:bindings node=&quot;/xs:schema/xs:element[@name=&#39;AbstractObject&#39;]&quot;&gt;\r\n            &lt;jaxb:factoryMethod name=&quot;AbstractObjectIso19139&quot;/&gt;\r\n        &lt;/jaxb:bindings&gt;\r\n    &lt;/jaxb:bindings&gt;\r\n&lt;/jaxb:bindings&gt;\r\n```","title":"maven-jaxb2-plugin generates uncompilable code when using episode from org.jvnet.ogc/gml-v_3_2_1","body":"<p>I am trying to generate JAXB classes for the <a href=\"https://www.aixm.aero/document/aixm-511-xml-schema-xsd\" rel=\"nofollow noreferrer\">AIXM XSDs</a>, which unfortunately are quite complicated and reference the even more complicated OGC GML 3.2.1, xlink and ISO 19139 schemas. I would like this code generation to occur during our Maven build, and I am using the <code>maven-jaxb2-plugin</code> for this purpose.</p>\n<p>The OGC schema files require numerous patches in order to be compiled into JAXB classes by XJC. Luckily, the original developer of the <code>maven-jaxb2-plugin</code> coincidentally also created the <a href=\"https://github.com/highsource/ogc-schemas\" rel=\"nofollow noreferrer\">ogc-schemas</a> project which contains pre-built JAXB bindings and episode files for many OGC schema files, including GML 3.2.1. Unfortunately from the repository issues list, it sounds like he tragically passed away in 2021.</p>\n<p>By using the episode file from <code>org.jvnet.ogc:gml-v_3_2_1</code> together with some custom bindings for one of the AIXM schema files, I was finally able to get maven-jaxb2-plugin to generate code. However, the code it generates does not compile. I do not do much Java development, so I may be doing something obviously wrong here.</p>\n<p>Many of the classes it generates fail to compile with an error like this:</p>\n<blockquote>\n<p>aixm.ApronElementTimeSliceType is not abstract and does not override abstract method createNewInstance() in org.jvnet.jaxb2_commons.lang.CopyTo2</p>\n</blockquote>\n<p>In this case, the abstract method is declared in <code>net.opengis.gml.v_3_2_1.AbstractTimeSliceType</code> and the inheritance tree looks like this:</p>\n<pre><code>aixm.ApronElementTimeSliceType (generated in my project)\n extends aixm.AbstractAIXMTimeSliceType (generated in my project)\n  extends aixm.AbstractAIXMTimeSliceBaseType (generated in my project)\n   extends net.opengis.gml.v_3_2_1.AbstractTimeSliceType (imported from org.jvnet.ogc:gml-v_3_2_1)\n</code></pre>\n<p>It is not clear to me how I can get <code>maven-jaxb2-plugin</code> to generate an implementation for createNewInstance() in each of these generated non-abstract classes. It looks like the needed implementation is pretty simple... pretty much <code>new CLASS_NAME_HERE()</code>.</p>\n<p>Here is my pom.xml file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;&lt;!-- SNIP --&gt;&lt;/groupId&gt;\n    &lt;artifactId&gt;&lt;!-- SNIP --&gt;&lt;/artifactId&gt;\n    &lt;version&gt;&lt;!-- SNIP --&gt;&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;19&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;19&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n            &lt;version&gt;2.3.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\n            &lt;version&gt;2.3.7&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\n            &lt;version&gt;2.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jvnet.ogc&lt;/groupId&gt;\n            &lt;artifactId&gt;gml-v_3_2_1&lt;/artifactId&gt;\n            &lt;version&gt;2.6.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hisrc.w3c&lt;/groupId&gt;\n            &lt;artifactId&gt;xlink-v_1_0&lt;/artifactId&gt;\n            &lt;version&gt;1.4.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.jvnet.jaxb2.maven2&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-jaxb2-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.15.2&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;fixm&lt;/id&gt;\n                        &lt;!-- SNIP... this execution is not relevant to this question... --&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;aixm&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;generate&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;extension&gt;true&lt;/extension&gt;\n                            &lt;generatePackage&gt;aixm&lt;/generatePackage&gt;\n                            &lt;generateDirectory&gt;${project.basedir}/src/main/generated-sources-aixm&lt;/generateDirectory&gt;\n                            &lt;removeOldOutput&gt;true&lt;/removeOldOutput&gt;\n                            &lt;schemaDirectory&gt;src/main/xsd/aixm&lt;/schemaDirectory&gt;\n                            &lt;schemaIncludes&gt;\n                                &lt;include&gt;**/*.xsd&lt;/include&gt;\n                            &lt;/schemaIncludes&gt;\n                            &lt;bindingDirectory&gt;src/main/xjb/aixm&lt;/bindingDirectory&gt;\n                            &lt;bindingIncludes&gt;\n                                &lt;include&gt;**/*.xjb&lt;/include&gt;\n                            &lt;/bindingIncludes&gt;\n                            &lt;episodes&gt;\n                                &lt;episode&gt;\n                                    &lt;groupId&gt;org.jvnet.ogc&lt;/groupId&gt;\n                                    &lt;artifactId&gt;gml-v_3_2_1&lt;/artifactId&gt;\n                                &lt;/episode&gt;\n                                &lt;episode&gt;\n                                    &lt;groupId&gt;org.hisrc.w3c&lt;/groupId&gt;\n                                    &lt;artifactId&gt;xlink-v_1_0&lt;/artifactId&gt;\n                                &lt;/episode&gt;\n                            &lt;/episodes&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\n                        &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\n                        &lt;version&gt;2.3.6&lt;/version&gt;\n                    &lt;/dependency&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n                        &lt;artifactId&gt;jaxb-core&lt;/artifactId&gt;\n                        &lt;version&gt;2.3.0.1&lt;/version&gt;\n                    &lt;/dependency&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;javax.activation&lt;/groupId&gt;\n                        &lt;artifactId&gt;activation&lt;/artifactId&gt;\n                        &lt;version&gt;1.1.1&lt;/version&gt;\n                    &lt;/dependency&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\n                        &lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\n                        &lt;version&gt;2.2&lt;/version&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>And just for the sake of completeness here is the bindings file I created to resolve some <code>ObjectFactory</code> collisions in <code>AIXM_Features.xsd</code>:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\n&lt;jaxb:bindings version=&quot;2.1&quot; xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns:jaxb=&quot;http://java.sun.com/xml/ns/jaxb&quot;&gt;\n    &lt;jaxb:bindings schemaLocation=&quot;../../xsd/aixm/AIXM_Features.xsd&quot;&gt;\n        &lt;jaxb:bindings node=&quot;/xs:schema/xs:element[@name='Curve']&quot;&gt;\n            &lt;jaxb:factoryMethod name=&quot;CurveAixm&quot;/&gt;\n        &lt;/jaxb:bindings&gt;\n        &lt;jaxb:bindings node=&quot;/xs:schema/xs:element[@name='Point']&quot;&gt;\n            &lt;jaxb:factoryMethod name=&quot;PointAixm&quot;/&gt;\n        &lt;/jaxb:bindings&gt;\n        &lt;jaxb:bindings node=&quot;/xs:schema/xs:element[@name='Surface']&quot;&gt;\n            &lt;jaxb:factoryMethod name=&quot;SurfaceAixm&quot;/&gt;\n        &lt;/jaxb:bindings&gt;\n    &lt;/jaxb:bindings&gt;\n    &lt;jaxb:bindings schemaLocation=&quot;http://schemas.opengis.net/iso/19139/20070417/gco/gcoBase.xsd&quot;&gt;\n        &lt;jaxb:bindings node=&quot;/xs:schema/xs:element[@name='AbstractObject']&quot;&gt;\n            &lt;jaxb:factoryMethod name=&quot;AbstractObjectIso19139&quot;/&gt;\n        &lt;/jaxb:bindings&gt;\n    &lt;/jaxb:bindings&gt;\n&lt;/jaxb:bindings&gt;\n</code></pre>\n"},{"tags":["java","java.util.scanner"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":2,"creation_date":1673199471,"post_id":75049980,"comment_id":132439811,"body_markdown":"If this is CSV, you need a parser.  A &quot;delimiter&quot; isn&#39;t how it works.  And your example #3 is wrong, there should be a comma in the `name` field.","body":"If this is CSV, you need a parser.  A &quot;delimiter&quot; isn&#39;t how it works.  And your example #3 is wrong, there should be a comma in the <code>name</code> field."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1673201240,"post_id":75049980,"comment_id":132440168,"body_markdown":"You need a csv api such as OpenCsv. That supports binding to beans too","body":"You need a csv api such as OpenCsv. That supports binding to beans too"}],"owner":{"account_id":27470301,"reputation":1,"user_id":20959327,"display_name":"du11ard"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673199891,"creation_date":1673199425,"question_id":75049980,"body_markdown":"I have a file and I need to get objects from it. File example:\r\n\r\n```\r\n&quot;Dude1&quot;, 17, student\r\nDude2, 23, worker\r\n&quot;Dude, Dude&quot;, 11, student\r\n```\r\n\r\nWhat delimeter I need to use to avoid quotation marks and don&#39;t split sting in it?\r\n\r\nIt would be perfect to get this as a result for this example:\r\n\r\n```\r\nObject1:\r\nname: Dude1\r\nage: 17\r\nwork: student\r\n\r\nObject2:\r\nname: Dude2\r\nage: 23\r\nwork: worker\r\n\r\nObject3:\r\nname: Dude, Dude\r\nage: 11\r\nwork: student\r\n```\r\n\r\nI know how to get objects from a file. I understand that I need to use regex in delimiter, but I don&#39;t understand what exactly it should be like","title":"How can I avoid quotes in useDelimeter() method?","body":"<p>I have a file and I need to get objects from it. File example:</p>\n<pre><code>&quot;Dude1&quot;, 17, student\nDude2, 23, worker\n&quot;Dude, Dude&quot;, 11, student\n</code></pre>\n<p>What delimeter I need to use to avoid quotation marks and don't split sting in it?</p>\n<p>It would be perfect to get this as a result for this example:</p>\n<pre><code>Object1:\nname: Dude1\nage: 17\nwork: student\n\nObject2:\nname: Dude2\nage: 23\nwork: worker\n\nObject3:\nname: Dude, Dude\nage: 11\nwork: student\n</code></pre>\n<p>I know how to get objects from a file. I understand that I need to use regex in delimiter, but I don't understand what exactly it should be like</p>\n"},{"tags":["java","spring","spring-boot","spring-security","migration"],"owner":{"account_id":2647828,"reputation":99,"user_id":2290175,"display_name":"Wash"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":176,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1673199192,"creation_date":1673185587,"question_id":75048241,"body_markdown":"After the migration to spring boot 3 and spring security 6, I have issues to authorize my anonymous authentification properly. Iam using an oath2 resource server and azure active directory. The granted authority list is always empty. do i have to tweak my web security configuration somehow?\r\n\r\nsnippet from WebSecurityConfig class after migration:\r\n\r\n      @Bean\r\n      public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        log.debug(&quot;Configuring HTTP Security&quot;);\r\n        http\r\n            .csrf().disable()\r\n            .cors()\r\n            .and()\r\n            .headers()\r\n            .frameOptions().disable()\r\n            .and()\r\n            .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n            .and()\r\n            .exceptionHandling()\r\n            .and()\r\n            .authorizeRequests((authorize) -&gt;\r\n                authorize.requestMatchers(HttpMethod.GET, &quot;/sf/**&quot;, &quot;/assets/**&quot;, &quot;/resources/**&quot;, &quot;/built/**&quot;, &quot;/ui/**&quot;).permitAll()\r\n                    .and()\r\n                    .addFilterBefore(new RolesToRightsConverterFilter(s3RSpringConfig), BasicAuthenticationFilter.class)\r\n                    .addFilterAfter(new Slf4jMDCFilter(authService, tracingService), RolesToRightsConverterFilter.class))\r\n            .oauth2ResourceServer().jwt().jwtAuthenticationConverter(new JwtBearerTokenAuthenticationConverter());\r\n    \r\n        return http.build();\r\n      } \r\n\r\n\r\nand the relevant part of application.yml:\r\n\r\n      security:\r\n        oauth2:\r\n          resourceserver:\r\n            jwt:\r\n              issuer-uri: &#39;https://login.microsoftonline.com/${add_tenant_id}/v2.0&#39;\r\n              audiences: &#39;${add_client_id:xxx}&#39;\r\n    \r\n      cloud:\r\n        azure:\r\n          active-directory:\r\n            credential:\r\n              client-id: ${add_client_id:xxx}\r\n              client-secret: xxx\r\n            profile:\r\n              tenant-id: ${add_tenant_id:xxx}\r\n            jwk-set-cache-lifespan: 10m\r\n            jwk-set-cache-refresh-time: 10m\r\n            enabled: true\r\n\r\nthe xxx is just a placeholder for the actual ID.","title":"Granted Authority List is Empty after Migration to Spring Security 6","body":"<p>After the migration to spring boot 3 and spring security 6, I have issues to authorize my anonymous authentification properly. Iam using an oath2 resource server and azure active directory. The granted authority list is always empty. do i have to tweak my web security configuration somehow?</p>\n<p>snippet from WebSecurityConfig class after migration:</p>\n<pre><code>  @Bean\n  public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n    log.debug(&quot;Configuring HTTP Security&quot;);\n    http\n        .csrf().disable()\n        .cors()\n        .and()\n        .headers()\n        .frameOptions().disable()\n        .and()\n        .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n        .and()\n        .exceptionHandling()\n        .and()\n        .authorizeRequests((authorize) -&gt;\n            authorize.requestMatchers(HttpMethod.GET, &quot;/sf/**&quot;, &quot;/assets/**&quot;, &quot;/resources/**&quot;, &quot;/built/**&quot;, &quot;/ui/**&quot;).permitAll()\n                .and()\n                .addFilterBefore(new RolesToRightsConverterFilter(s3RSpringConfig), BasicAuthenticationFilter.class)\n                .addFilterAfter(new Slf4jMDCFilter(authService, tracingService), RolesToRightsConverterFilter.class))\n        .oauth2ResourceServer().jwt().jwtAuthenticationConverter(new JwtBearerTokenAuthenticationConverter());\n\n    return http.build();\n  } \n</code></pre>\n<p>and the relevant part of application.yml:</p>\n<pre><code>  security:\n    oauth2:\n      resourceserver:\n        jwt:\n          issuer-uri: 'https://login.microsoftonline.com/${add_tenant_id}/v2.0'\n          audiences: '${add_client_id:xxx}'\n\n  cloud:\n    azure:\n      active-directory:\n        credential:\n          client-id: ${add_client_id:xxx}\n          client-secret: xxx\n        profile:\n          tenant-id: ${add_tenant_id:xxx}\n        jwk-set-cache-lifespan: 10m\n        jwk-set-cache-refresh-time: 10m\n        enabled: true\n</code></pre>\n<p>the xxx is just a placeholder for the actual ID.</p>\n"},{"tags":["java","postgresql","spring-boot","nativequery"],"answers":[{"tags":[],"owner":{"account_id":15107421,"reputation":36,"user_id":10902653,"display_name":"Ion  Gatman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673198320,"creation_date":1673198320,"answer_id":75049860,"question_id":75049840,"body_markdown":"Try this\r\n```\r\n@Query(value=&quot;SELECT UserCommentsResponse(placeName, text) FROM comment c inner join place p on p.id = c.place_id where customer_id = :id&quot;, nativeQuery=true)\r\n```\r\ninstead of your original query","title":"Spring Boot Repository Native Query for DTO in Postgresql Issue","body":"<p>Try this</p>\n<pre><code>@Query(value=&quot;SELECT UserCommentsResponse(placeName, text) FROM comment c inner join place p on p.id = c.place_id where customer_id = :id&quot;, nativeQuery=true)\n</code></pre>\n<p>instead of your original query</p>\n"}],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75049860,"answer_count":1,"score":0,"last_activity_date":1673198320,"creation_date":1673198156,"question_id":75049840,"body_markdown":"I have a problem about writing a native query for dto in Spring Boot with the usage of Postgresql.\r\n\r\n\r\nHere is the dto shown below.\r\n\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public class UserCommentsResponse {\r\n        private String placeName;\r\n        private String text;\r\n    }\r\n\r\n\r\nHere is the native query shown below.\r\n\r\n    @Query(value=&quot;SELECT new com.demo.project.dao.UserCommentsResponse(placeName, text) FROM comment c inner join place p on p.id = c.place_id where customer_id = :id&quot;, nativeQuery=true)\r\n    List&lt;UserCommentsResponse&gt; getUsersComments(int id);\r\n\r\nHere is the error message shown below.\r\n\r\n    org.postgresql.util.PSQLException: ERROR: syntax error at or near &quot;.&quot;\r\n\r\nHow can I fix it?","title":"Spring Boot Repository Native Query for DTO in Postgresql Issue","body":"<p>I have a problem about writing a native query for dto in Spring Boot with the usage of Postgresql.</p>\n<p>Here is the dto shown below.</p>\n<pre><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class UserCommentsResponse {\n    private String placeName;\n    private String text;\n}\n</code></pre>\n<p>Here is the native query shown below.</p>\n<pre><code>@Query(value=&quot;SELECT new com.demo.project.dao.UserCommentsResponse(placeName, text) FROM comment c inner join place p on p.id = c.place_id where customer_id = :id&quot;, nativeQuery=true)\nList&lt;UserCommentsResponse&gt; getUsersComments(int id);\n</code></pre>\n<p>Here is the error message shown below.</p>\n<pre><code>org.postgresql.util.PSQLException: ERROR: syntax error at or near &quot;.&quot;\n</code></pre>\n<p>How can I fix it?</p>\n"},{"tags":["java","avro"],"comments":[{"owner":{"account_id":127349,"reputation":1892,"user_id":324444,"accept_rate":62,"display_name":"Tim Boland"},"score":0,"creation_date":1672935709,"post_id":16916206,"comment_id":132389848,"body_markdown":"I think this question deserves an answer.  There is no documentation as to why this isnt possible or how it is possible","body":"I think this question deserves an answer.  There is no documentation as to why this isnt possible or how it is possible"}],"answers":[{"tags":[],"owner":{"account_id":27460673,"reputation":38,"user_id":20951309,"display_name":"Javier Flores"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673198037,"creation_date":1673197763,"answer_id":75049786,"question_id":16916206,"body_markdown":"Wouldn&#39;t calling [DataFileReader#seek][1] be good enough? Or did I not understand your question?\r\n\r\nEDIT: You may use the [DataFileReader#sync][2] method too, so long you haven&#39;t disabled the sync markers as it is a faster alternative\r\n\r\n\r\n  [1]: https://avro.apache.org/docs/current/api/java/org/apache/avro/file/DataFileReader.html#seek-long-\r\n  [2]: https://avro.apache.org/docs/current/api/java/org/apache/avro/file/DataFileReader.html#sync-long-","title":"Read specific record from DataFileReader for avro files","body":"<p>Wouldn't calling <a href=\"https://avro.apache.org/docs/current/api/java/org/apache/avro/file/DataFileReader.html#seek-long-\" rel=\"nofollow noreferrer\">DataFileReader#seek</a> be good enough? Or did I not understand your question?</p>\n<p>EDIT: You may use the <a href=\"https://avro.apache.org/docs/current/api/java/org/apache/avro/file/DataFileReader.html#sync-long-\" rel=\"nofollow noreferrer\">DataFileReader#sync</a> method too, so long you haven't disabled the sync markers as it is a faster alternative</p>\n"}],"owner":{"account_id":975389,"reputation":143,"user_id":996808,"accept_rate":33,"display_name":"user996808"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":568,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1673198037,"creation_date":1370343926,"question_id":16916206,"body_markdown":"My Avro files have a number of records in it, but I want to read specific records. The reader only has an interface to traverse the whole file, but I want to jump directly to specific record. Is there a way to do this?","title":"Read specific record from DataFileReader for avro files","body":"<p>My Avro files have a number of records in it, but I want to read specific records. The reader only has an interface to traverse the whole file, but I want to jump directly to specific record. Is there a way to do this?</p>\n"},{"tags":["java","linux","file"],"comments":[{"owner":{"account_id":447475,"reputation":1,"user_id":841108,"accept_rate":61,"display_name":"Basile Starynkevitch"},"score":3,"creation_date":1389424832,"post_id":21059703,"comment_id":31667341,"body_markdown":"Linux does not have drives. It has [mounted](http://en.wikipedia.org/wiki/Mount_%28computing%29) [file systems](http://en.wikipedia.org/wiki/File_system). So on Linux your question does not make any sense. Run commands `df` and `mount` in a terminal to understand your mounted file systems.","body":"Linux does not have drives. It has <a href=\"http://en.wikipedia.org/wiki/Mount_%28computing%29\" rel=\"nofollow noreferrer\">mounted</a> <a href=\"http://en.wikipedia.org/wiki/File_system\" rel=\"nofollow noreferrer\">file systems</a>. So on Linux your question does not make any sense. Run commands <code>df</code> and <code>mount</code> in a terminal to understand your mounted file systems."},{"owner":{"account_id":1178010,"reputation":7642,"user_id":1153530,"accept_rate":80,"display_name":"Behe"},"score":0,"creation_date":1389424833,"post_id":21059703,"comment_id":31667342,"body_markdown":"What do you mean when you say &quot;only one drive information&quot;?","body":"What do you mean when you say &quot;only one drive information&quot;?"},{"owner":{"account_id":1573341,"reputation":1503,"user_id":1460514,"accept_rate":50,"display_name":"Sudarshan kumar"},"score":0,"creation_date":1389425143,"post_id":21059703,"comment_id":31667410,"body_markdown":"I mean it displays root files information. Pro grammatically how can i get all files information","body":"I mean it displays root files information. Pro grammatically how can i get all files information"}],"answers":[{"tags":[],"owner":{"account_id":3681639,"reputation":9725,"user_id":3066467,"accept_rate":67,"display_name":"Guntram Blohm"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1389424943,"creation_date":1389424943,"answer_id":21059764,"question_id":21059703,"body_markdown":"There are no drive letters on Linux. If you want to know which partitions there are, and where they are mounted, read `/proc/mounts`. When you have a mount point (2nd column in /proc/mounts), use `new File(mountpoint).getTotalSpace()` to get the total space.","title":"How can a Java program list all partitions and get the free space of them on Linux?","body":"<p>There are no drive letters on Linux. If you want to know which partitions there are, and where they are mounted, read <code>/proc/mounts</code>. When you have a mount point (2nd column in /proc/mounts), use <code>new File(mountpoint).getTotalSpace()</code> to get the total space.</p>\n"},{"tags":[],"owner":{"account_id":3458925,"reputation":937,"user_id":2896680,"accept_rate":80,"display_name":"Ned"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1389426554,"creation_date":1389426554,"answer_id":21059960,"question_id":21059703,"body_markdown":"Linux, Unix, and Unix-like systems have one filesystem with one root within which there may be multiple mount points at which partitions containing Unix filesystems, partial or complete, may be mounted -- non-Unix filesystems may also be mounted with the appropriate software available to handle the transformations necessary, but the unified, single-root filesystem model remains.\r\n\r\nIf the `FileSystemView` class you are using is from the [`javax.swing.filechooser`][1] package, don&#39;t expect too much:\r\n\r\n&gt; FileSystemView is JFileChooser&#39;s gateway to the file system. Since the JDK1.1 File API doesn&#39;t allow access to such information as root partitions, file type information, or hidden file bits, this class is designed to intuit as much OS-specific file system information as possible.\r\n&gt;\r\n&gt; Java Licensees may want to provide a different implementation of FileSystemView to better handle a given operating system.\r\n\r\nThat second paragraph is key.\r\n\r\nJava&#39;s virtual machine implementation is meant to abstract away the very kind of platform specific things you want in this case. To be successful, you will need to write or find native call wrapper classes for the native system API of each platform you will support. &quot;High-level&quot; abstractions like the `FileSystemView` class are unlikely to be complete or reliable in providing the information you need.\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/javax/swing/filechooser/FileSystemView.html","title":"How can a Java program list all partitions and get the free space of them on Linux?","body":"<p>Linux, Unix, and Unix-like systems have one filesystem with one root within which there may be multiple mount points at which partitions containing Unix filesystems, partial or complete, may be mounted -- non-Unix filesystems may also be mounted with the appropriate software available to handle the transformations necessary, but the unified, single-root filesystem model remains.</p>\n\n<p>If the <code>FileSystemView</code> class you are using is from the <a href=\"http://docs.oracle.com/javase/7/docs/api/javax/swing/filechooser/FileSystemView.html\" rel=\"nofollow\"><code>javax.swing.filechooser</code></a> package, don't expect too much:</p>\n\n<blockquote>\n  <p>FileSystemView is JFileChooser's gateway to the file system. Since the JDK1.1 File API doesn't allow access to such information as root partitions, file type information, or hidden file bits, this class is designed to intuit as much OS-specific file system information as possible.</p>\n  \n  <p>Java Licensees may want to provide a different implementation of FileSystemView to better handle a given operating system.</p>\n</blockquote>\n\n<p>That second paragraph is key.</p>\n\n<p>Java's virtual machine implementation is meant to abstract away the very kind of platform specific things you want in this case. To be successful, you will need to write or find native call wrapper classes for the native system API of each platform you will support. \"High-level\" abstractions like the <code>FileSystemView</code> class are unlikely to be complete or reliable in providing the information you need.</p>\n"},{"tags":[],"owner":{"account_id":8678332,"reputation":21,"user_id":6495086,"display_name":"Vipin Singh Negi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1466708182,"creation_date":1466705995,"answer_id":37999051,"question_id":21059703,"body_markdown":"This is a code snippet to display name mounted external media only.\r\n\r\n    String OS = System.getProperty(&quot;os.name&quot;);\r\n\tif(OS.equals(&quot;Linux&quot;))\r\n\t{\r\n\t\tString s = &quot;&quot;;\r\n\t\tRuntime rt = Runtime.getRuntime();\r\n\t\tint n=0;\r\n\t\tProcess ps = rt.exec(&quot;ls /run/media/Rancho&quot;);// Write your UserName, mine is Rancho\r\n\t\r\n\t\tInputStream in = ps.getInputStream();\r\n\t\twhile((n = in.read())!=-1)\r\n\t\t{\r\n\t\t\tchar ch = (char) n;\r\n\t\t\ts+ = ch;\r\n\t\t}\r\n\t\tSystem.out.println(s);\t\r\n\t}","title":"How can a Java program list all partitions and get the free space of them on Linux?","body":"<p>This is a code snippet to display name mounted external media only.</p>\n\n<pre><code>String OS = System.getProperty(\"os.name\");\nif(OS.equals(\"Linux\"))\n{\n    String s = \"\";\n    Runtime rt = Runtime.getRuntime();\n    int n=0;\n    Process ps = rt.exec(\"ls /run/media/Rancho\");// Write your UserName, mine is Rancho\n\n    InputStream in = ps.getInputStream();\n    while((n = in.read())!=-1)\n    {\n        char ch = (char) n;\n        s+ = ch;\n    }\n    System.out.println(s);  \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17905360,"reputation":73,"user_id":13064888,"display_name":"BeChris 100"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673197840,"creation_date":1673197840,"answer_id":75049797,"question_id":21059703,"body_markdown":"I know I&#39;m late to the party here, but I wrote a class that just does its job. What it does is reading the /proc/mounts file, parses it into the Block Device (like /dev/sda), Mount Point, file system Type and its mount options. If you don&#39;t need the additional things that I wrote, you can exclude it, but for the project that I am working on, I wanted to include it, like if the current user can write or read into/from the current mount point.\r\n\r\n```\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.StringTokenizer;\r\n\r\npublic class UnixPartition {\r\n\r\n    private final String block, mount, fsType, mntOptions;\r\n    private final long totalSpace, freeSpace, usableSpace;\r\n    private final File root;\r\n\r\n    protected UnixPartition(String block, String mount, String fsType, String mountOptions, long totalSpace, long freeSpace, long usableSpace, File root) {\r\n        this.block = block;\r\n        this.mount = mount;\r\n        this.fsType = fsType;\r\n        this.mntOptions = mountOptions;\r\n        this.totalSpace = totalSpace;\r\n        this.freeSpace = freeSpace;\r\n        this.usableSpace = usableSpace;\r\n        this.root = root;\r\n    }\r\n\r\n    public String getBlock() {\r\n        return block;\r\n    }\r\n\r\n    public String getMount() {\r\n        return mount;\r\n    }\r\n\r\n    public String getFilesystemType() {\r\n        return fsType;\r\n    }\r\n\r\n    public long getTotalSpace() {\r\n        return totalSpace;\r\n    }\r\n\r\n    public long getFreeSpace() {\r\n        return freeSpace;\r\n    }\r\n\r\n    public long getUsableSpace() {\r\n        return usableSpace;\r\n    }\r\n\r\n    public String getMountOptions() {\r\n        return mntOptions;\r\n    }\r\n\r\n    public boolean canCurrentUserWrite() {\r\n        return root.canWrite();\r\n    }\r\n\r\n    public boolean canCurrentUserRead() {\r\n        return root.canRead();\r\n    }\r\n\r\n    private String getLineSeparator(String contents) {\r\n        char[] chars = contents.toCharArray();\r\n\r\n        long r = 0;\r\n        long n = 0;\r\n\r\n        for (char c : chars) {\r\n            if (c == &#39;\\r&#39;)\r\n                r++;\r\n\r\n            if (c == &#39;\\n&#39;)\r\n                n++;\r\n        }\r\n\r\n        if (r == n)\r\n            return &quot;\\r\\n&quot;;\r\n        else if (r &gt;= 1 &amp;&amp; n == 0)\r\n            return &quot;\\r&quot;;\r\n        else if (n &gt;= 1 &amp;&amp; r == 0)\r\n            return &quot;\\n&quot;;\r\n        else\r\n            return &quot;&quot;;\r\n    }\r\n\r\n    public static List&lt;UnixPartition&gt; getPartitions(boolean filterSpecials) throws IOException {\r\n        String contents = new String(FileUtil.read(&quot;/proc/mounts&quot;));\r\n        String[] lines = contents.split(getLineSeparator(contents));\r\n\r\n        List&lt;UnixPartition&gt; partitions = new ArrayList&lt;&gt;();\r\n\r\n        for (String line : lines) {\r\n            StringTokenizer tokenizer = new StringTokenizer(line, &quot; &quot;);\r\n            String blk = tokenizer.nextToken(),\r\n                    mnt = tokenizer.nextToken(),\r\n                    type = tokenizer.nextToken(),\r\n                    opt = tokenizer.nextToken();\r\n\r\n            if (filterSpecials) {\r\n                if ((blk.contains(&quot;proc&quot;) || mnt.contains(&quot;proc&quot;) || type.contains(&quot;proc&quot;)) ||\r\n                        (blk.contains(&quot;systemd&quot;) || mnt.contains(&quot;systemd&quot;) || type.contains(&quot;systemd&quot;)) ||\r\n                        (blk.contains(&quot;binmft_misc&quot;) || mnt.contains(&quot;binmft_misc&quot;) || type.contains(&quot;binmft_misc&quot;)) ||\r\n                        (blk.contains(&quot;udev&quot;) || mnt.contains(&quot;udev&quot;) || type.contains(&quot;udev&quot;)) ||\r\n                        (blk.contains(&quot;devpts&quot;) || mnt.contains(&quot;devpts&quot;) || type.contains(&quot;devpts&quot;)) ||\r\n                        (blk.contains(&quot;fuse&quot;) || mnt.contains(&quot;fuse&quot;) || type.contains(&quot;fuse&quot;)) ||\r\n                        (blk.contains(&quot;pstore&quot;) || mnt.contains(&quot;pstore&quot;) || type.contains(&quot;pstore&quot;)) ||\r\n                        type.contains(&quot;tmp&quot;))\r\n                    continue;\r\n\r\n                if (blk.contains(&quot;none&quot;))\r\n                    continue;\r\n            }\r\n\r\n            File root = new File(mnt);\r\n\r\n            partitions.add(new UnixPartition(blk, mnt, type, opt,\r\n                    root.getTotalSpace(), root.getFreeSpace(), root.getUsableSpace(), root));\r\n        }\r\n\r\n        return partitions;\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nEdit: You might want to filter out the special mount types yourself, since I just used them from another answer here.","title":"How can a Java program list all partitions and get the free space of them on Linux?","body":"<p>I know I'm late to the party here, but I wrote a class that just does its job. What it does is reading the /proc/mounts file, parses it into the Block Device (like /dev/sda), Mount Point, file system Type and its mount options. If you don't need the additional things that I wrote, you can exclude it, but for the project that I am working on, I wanted to include it, like if the current user can write or read into/from the current mount point.</p>\n<pre><code>import java.io.File;\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.StringTokenizer;\n\npublic class UnixPartition {\n\n    private final String block, mount, fsType, mntOptions;\n    private final long totalSpace, freeSpace, usableSpace;\n    private final File root;\n\n    protected UnixPartition(String block, String mount, String fsType, String mountOptions, long totalSpace, long freeSpace, long usableSpace, File root) {\n        this.block = block;\n        this.mount = mount;\n        this.fsType = fsType;\n        this.mntOptions = mountOptions;\n        this.totalSpace = totalSpace;\n        this.freeSpace = freeSpace;\n        this.usableSpace = usableSpace;\n        this.root = root;\n    }\n\n    public String getBlock() {\n        return block;\n    }\n\n    public String getMount() {\n        return mount;\n    }\n\n    public String getFilesystemType() {\n        return fsType;\n    }\n\n    public long getTotalSpace() {\n        return totalSpace;\n    }\n\n    public long getFreeSpace() {\n        return freeSpace;\n    }\n\n    public long getUsableSpace() {\n        return usableSpace;\n    }\n\n    public String getMountOptions() {\n        return mntOptions;\n    }\n\n    public boolean canCurrentUserWrite() {\n        return root.canWrite();\n    }\n\n    public boolean canCurrentUserRead() {\n        return root.canRead();\n    }\n\n    private String getLineSeparator(String contents) {\n        char[] chars = contents.toCharArray();\n\n        long r = 0;\n        long n = 0;\n\n        for (char c : chars) {\n            if (c == '\\r')\n                r++;\n\n            if (c == '\\n')\n                n++;\n        }\n\n        if (r == n)\n            return &quot;\\r\\n&quot;;\n        else if (r &gt;= 1 &amp;&amp; n == 0)\n            return &quot;\\r&quot;;\n        else if (n &gt;= 1 &amp;&amp; r == 0)\n            return &quot;\\n&quot;;\n        else\n            return &quot;&quot;;\n    }\n\n    public static List&lt;UnixPartition&gt; getPartitions(boolean filterSpecials) throws IOException {\n        String contents = new String(FileUtil.read(&quot;/proc/mounts&quot;));\n        String[] lines = contents.split(getLineSeparator(contents));\n\n        List&lt;UnixPartition&gt; partitions = new ArrayList&lt;&gt;();\n\n        for (String line : lines) {\n            StringTokenizer tokenizer = new StringTokenizer(line, &quot; &quot;);\n            String blk = tokenizer.nextToken(),\n                    mnt = tokenizer.nextToken(),\n                    type = tokenizer.nextToken(),\n                    opt = tokenizer.nextToken();\n\n            if (filterSpecials) {\n                if ((blk.contains(&quot;proc&quot;) || mnt.contains(&quot;proc&quot;) || type.contains(&quot;proc&quot;)) ||\n                        (blk.contains(&quot;systemd&quot;) || mnt.contains(&quot;systemd&quot;) || type.contains(&quot;systemd&quot;)) ||\n                        (blk.contains(&quot;binmft_misc&quot;) || mnt.contains(&quot;binmft_misc&quot;) || type.contains(&quot;binmft_misc&quot;)) ||\n                        (blk.contains(&quot;udev&quot;) || mnt.contains(&quot;udev&quot;) || type.contains(&quot;udev&quot;)) ||\n                        (blk.contains(&quot;devpts&quot;) || mnt.contains(&quot;devpts&quot;) || type.contains(&quot;devpts&quot;)) ||\n                        (blk.contains(&quot;fuse&quot;) || mnt.contains(&quot;fuse&quot;) || type.contains(&quot;fuse&quot;)) ||\n                        (blk.contains(&quot;pstore&quot;) || mnt.contains(&quot;pstore&quot;) || type.contains(&quot;pstore&quot;)) ||\n                        type.contains(&quot;tmp&quot;))\n                    continue;\n\n                if (blk.contains(&quot;none&quot;))\n                    continue;\n            }\n\n            File root = new File(mnt);\n\n            partitions.add(new UnixPartition(blk, mnt, type, opt,\n                    root.getTotalSpace(), root.getFreeSpace(), root.getUsableSpace(), root));\n        }\n\n        return partitions;\n    }\n\n}\n\n</code></pre>\n<p>Edit: You might want to filter out the special mount types yourself, since I just used them from another answer here.</p>\n"}],"owner":{"account_id":1573341,"reputation":1503,"user_id":1460514,"accept_rate":50,"display_name":"Sudarshan kumar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6476,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":4,"score":3,"last_activity_date":1673197840,"creation_date":1389424455,"question_id":21059703,"body_markdown":"I want the name of the partition with their total space, used space and free space for the Linux system using java program.\r\n\r\nI am getting correct value in case of Windows system but in Linux I am getting only one drive information:\r\n\r\nHere is what I have tried so far.\r\n\r\n    public class DiskSpace {\r\n\r\n    public static void main(String[] args) {\r\n        FileSystemView fsv = FileSystemView.getFileSystemView();\r\n        File[] drives = File.listRoots();\r\n        if (drives != null &amp;&amp; drives.length &gt; 0) {\r\n            for (File aDrive : drives) {\r\n                System.out.println(&quot;Drive Letter: &quot; + aDrive);\r\n                System.out.println(&quot;\\tType: &quot; + fsv.getSystemTypeDescription(aDrive));\r\n                System.out.println(&quot;\\tTotal space: &quot; + aDrive.getTotalSpace());\r\n                System.out.println(&quot;\\tFree space: &quot; + aDrive.getFreeSpace());\r\n                System.out.println();\r\n            }\r\n        }\r\n    }","title":"How can a Java program list all partitions and get the free space of them on Linux?","body":"<p>I want the name of the partition with their total space, used space and free space for the Linux system using java program.</p>\n\n<p>I am getting correct value in case of Windows system but in Linux I am getting only one drive information:</p>\n\n<p>Here is what I have tried so far.</p>\n\n<pre><code>public class DiskSpace {\n\npublic static void main(String[] args) {\n    FileSystemView fsv = FileSystemView.getFileSystemView();\n    File[] drives = File.listRoots();\n    if (drives != null &amp;&amp; drives.length &gt; 0) {\n        for (File aDrive : drives) {\n            System.out.println(\"Drive Letter: \" + aDrive);\n            System.out.println(\"\\tType: \" + fsv.getSystemTypeDescription(aDrive));\n            System.out.println(\"\\tTotal space: \" + aDrive.getTotalSpace());\n            System.out.println(\"\\tFree space: \" + aDrive.getFreeSpace());\n            System.out.println();\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","graph","neo4j"],"comments":[{"owner":{"account_id":9061,"reputation":19427,"user_id":16582,"accept_rate":67,"display_name":"ravenspoint"},"score":0,"creation_date":1673197164,"post_id":75049568,"comment_id":132439292,"body_markdown":"Run some tests to check your code.","body":"Run some tests to check your code."}],"owner":{"account_id":22445743,"reputation":13,"user_id":16649693,"display_name":"Doktor_DOOM"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673196652,"creation_date":1673196084,"question_id":75049568,"body_markdown":"I&#39;m using the embedded Neo4j with Java. I&#39;m trying to get all neighbors of one single node.\r\nI tried the following approach. But im not 100% is it correct ?\r\n\r\n    \tmanagementService = new DatabaseManagementServiceBuilder(database).build();\r\n\t\tgraphDB = managementService.database(DEFAULT_DATABASE_NAME);\r\n\t\t\r\n\r\n\t\ttry (Transaction tx = graphDB.beginTx()) {\r\n\t\t\tResourceIterator&lt;Node&gt; nodelist = tx.findNodes(Labels.SINGLE_NODE, &quot;name&quot;, &quot;project&quot;);\r\n\r\n\t\t\twhile (nodelist.hasNext()) {\r\n\t\t\t\t\r\n\t\t\t\tNode n1 = nodelist.next();\r\n\t\t\t\tString test  =(String) n1.getProperty(&quot;name&quot;);\r\n\t\t\t\tIterable&lt;Relationship&gt; allRelationships = n1.getRelationships(Direction.OUTGOING);\r\n\r\n","title":"Neo4j Find alle Neighbor Nodes in JAVA","body":"<p>I'm using the embedded Neo4j with Java. I'm trying to get all neighbors of one single node.\nI tried the following approach. But im not 100% is it correct ?</p>\n<pre><code>    managementService = new DatabaseManagementServiceBuilder(database).build();\n    graphDB = managementService.database(DEFAULT_DATABASE_NAME);\n    \n\n    try (Transaction tx = graphDB.beginTx()) {\n        ResourceIterator&lt;Node&gt; nodelist = tx.findNodes(Labels.SINGLE_NODE, &quot;name&quot;, &quot;project&quot;);\n\n        while (nodelist.hasNext()) {\n            \n            Node n1 = nodelist.next();\n            String test  =(String) n1.getProperty(&quot;name&quot;);\n            Iterable&lt;Relationship&gt; allRelationships = n1.getRelationships(Direction.OUTGOING);\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":1,"creation_date":1673197148,"post_id":75049591,"comment_id":132439289,"body_markdown":"That&#39;s part of the default style that makes `Button`s look like `Button`s. If you just want flat, clickable images, you can use `ImageView`s instead, setting the drawable as `android:src` instead of `android:background`. If you really wanna stick with `Button`s, though, you can get rid of that shadow by setting `android:stateListAnimator=&quot;@null&quot;`.","body":"That&#39;s part of the default style that makes <code>Button</code>s look like <code>Button</code>s. If you just want flat, clickable images, you can use <code>ImageView</code>s instead, setting the drawable as <code>android:src</code> instead of <code>android:background</code>. If you really wanna stick with <code>Button</code>s, though, you can get rid of that shadow by setting <code>android:stateListAnimator=&quot;@null&quot;</code>."},{"owner":{"account_id":27469044,"reputation":1,"user_id":20958304,"display_name":"Carlos Serrano"},"score":1,"creation_date":1673200183,"post_id":75049591,"comment_id":132439966,"body_markdown":"THANKS a lot. Works just like I wanted!","body":"THANKS a lot. Works just like I wanted!"}],"owner":{"account_id":27469044,"reputation":1,"user_id":20958304,"display_name":"Carlos Serrano"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673196475,"creation_date":1673196296,"question_id":75049591,"body_markdown":"My problem is that when I put a Button with an image in the background, a shadow appears. This is the code for the Sound Button\r\n\r\n```\r\n &lt;androidx.appcompat.widget.AppCompatButton \r\nandroid:id=&quot;@+id/btn_atras&quot;\r\nandroid:layout_width=&quot;wrap_content&quot; \r\nandroid:layout_height=&quot;wrap_content&quot; \r\nandroid:layout_marginStart=&quot;16dp&quot; \r\nandroid:layout_marginTop=&quot;16dp&quot; \r\nandroid:background=&quot;@drawable/atras&quot; \r\napp:layout_constraintStart_toStartOf=&quot;parent&quot; \r\napp:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n```\r\n\r\nPS: When I touch any of these button, the shadow makes like an effect, contracting the shadow.\r\n\r\n```\r\n[Back Button](https://i.stack.imgur.com/upQmm.png)\r\n[Button](https://i.stack.imgur.com/zo9RT.png)\r\n[Sound Button](https://i.stack.imgur.com/NHtln.png)\r\n```\r\n[Button][1]\r\n\r\nI tried to change the style and put transparent background, nothing worked.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qVmNv.png","title":"Shadow when I put a background image in a Button","body":"<p>My problem is that when I put a Button with an image in the background, a shadow appears. This is the code for the Sound Button</p>\n<pre><code> &lt;androidx.appcompat.widget.AppCompatButton \nandroid:id=&quot;@+id/btn_atras&quot;\nandroid:layout_width=&quot;wrap_content&quot; \nandroid:layout_height=&quot;wrap_content&quot; \nandroid:layout_marginStart=&quot;16dp&quot; \nandroid:layout_marginTop=&quot;16dp&quot; \nandroid:background=&quot;@drawable/atras&quot; \napp:layout_constraintStart_toStartOf=&quot;parent&quot; \napp:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n</code></pre>\n<p>PS: When I touch any of these button, the shadow makes like an effect, contracting the shadow.</p>\n<pre><code>[Back Button](https://i.stack.imgur.com/upQmm.png)\n[Button](https://i.stack.imgur.com/zo9RT.png)\n[Sound Button](https://i.stack.imgur.com/NHtln.png)\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/qVmNv.png\" rel=\"nofollow noreferrer\">Button</a></p>\n<p>I tried to change the style and put transparent background, nothing worked.</p>\n"},{"tags":["java","unit-testing","testing","junit","mockito"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1673200862,"post_id":75049382,"comment_id":132440085,"body_markdown":"Usually, the answer here is that you&#39;re testing the wrong thing, and you _shouldn&#39;t_ be testing calls to static methods.  You should either change how B is organized to make it an instance method, or test the effects that `tesetMe` is supposed to have, whether it calls `staticMethod` or not.","body":"Usually, the answer here is that you&#39;re testing the wrong thing, and you <i>shouldn&#39;t</i> be testing calls to static methods.  You should either change how B is organized to make it an instance method, or test the effects that <code>tesetMe</code> is supposed to have, whether it calls <code>staticMethod</code> or not."}],"answers":[{"tags":[],"owner":{"account_id":14095625,"reputation":35,"user_id":10182496,"display_name":"Mark Ardman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673196441,"creation_date":1673196441,"answer_id":75049605,"question_id":75049382,"body_markdown":"So I looked this up and I think this can solve your problem. One can mock a static class by calling mockStatic function, here is a quick example:\r\n\r\n    MockedStatic&lt;StaticClass&gt; x = Mockito.mockStatic(StaticClass.class);\r\n\r\n After that, you can call all the usual functons you would on x variable like that:\r\n\r\n    x.verify(() -&gt; StaticClass.staticFunction(&quot;x&quot;));\r\n\r\nI found [this Baeldung tutorial][1] and also found a [similar question][2].\r\nHope this helps!\r\n\r\n\r\n  [1]: https://www.baeldung.com/mockito-mock-static-methods\r\n  [2]: https://stackoverflow.com/questions/34610042/how-to-use-mockito-verify-on-static-methods","title":"How to unit test a Java method which calls a different class&#39;s static method","body":"<p>So I looked this up and I think this can solve your problem. One can mock a static class by calling mockStatic function, here is a quick example:</p>\n<pre><code>MockedStatic&lt;StaticClass&gt; x = Mockito.mockStatic(StaticClass.class);\n</code></pre>\n<p>After that, you can call all the usual functons you would on x variable like that:</p>\n<pre><code>x.verify(() -&gt; StaticClass.staticFunction(&quot;x&quot;));\n</code></pre>\n<p>I found <a href=\"https://www.baeldung.com/mockito-mock-static-methods\" rel=\"nofollow noreferrer\">this Baeldung tutorial</a> and also found a <a href=\"https://stackoverflow.com/questions/34610042/how-to-use-mockito-verify-on-static-methods\">similar question</a>.\nHope this helps!</p>\n"}],"owner":{"account_id":3105949,"reputation":39,"user_id":2628742,"accept_rate":17,"display_name":"Antei"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":364,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673196441,"creation_date":1673194638,"question_id":75049382,"body_markdown":"I use plain Java and Junit.\r\n\r\n\r\n   ```  \r\n      Class A {\r\n          public void tesetMe(arg1, arg2) {\r\n           arg3 = getArg3(arg1);\r\n           B.staticMethod(arg1, arg2, arg3);\r\n      }\r\n\r\n      Class B {\r\n        public static void staticMethod(String arg1, String arg2, int arg3) {\r\n           //---\r\n        }\r\n      }\r\n  \r\n  ```\r\n\r\n  I am testing Class A&#39;s testMe method.\r\n  I want to verify if B&#39;s staticMethod is called with specific values of arg1, arg2 and arg3.\r\n  I cannot have a data member of type Class B.\r\n I can use mockito but not powermock or any other library. I do not have a container where I can inject an instance of Class B. I have this like a plain simple java programs calling each other.\r\n\r\n\r\n\r\n    ","title":"How to unit test a Java method which calls a different class&#39;s static method","body":"<p>I use plain Java and Junit.</p>\n<pre><code>   Class A {\n       public void tesetMe(arg1, arg2) {\n        arg3 = getArg3(arg1);\n        B.staticMethod(arg1, arg2, arg3);\n   }\n\n   Class B {\n     public static void staticMethod(String arg1, String arg2, int arg3) {\n        //---\n     }\n   }\n\n</code></pre>\n<p>I am testing Class A's testMe method.\nI want to verify if B's staticMethod is called with specific values of arg1, arg2 and arg3.\nI cannot have a data member of type Class B.\nI can use mockito but not powermock or any other library. I do not have a container where I can inject an instance of Class B. I have this like a plain simple java programs calling each other.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1677570,"reputation":18354,"user_id":1542723,"display_name":"Ferrybig"},"score":0,"creation_date":1457795515,"post_id":35941337,"comment_id":59574020,"body_markdown":"Please clarify your specific problem or add additional details to highlight exactly what you need. As it&#39;s currently written, its hard to tell exactly what you&#39;re asking. See the How to Ask page for help clarifying this question.","body":"Please clarify your specific problem or add additional details to highlight exactly what you need. As it&#39;s currently written, its hard to tell exactly what you&#39;re asking. See the How to Ask page for help clarifying this question."},{"owner":{"account_id":2723804,"reputation":123,"user_id":2349455,"accept_rate":89,"display_name":"MrDoda"},"score":0,"creation_date":1457968654,"post_id":35941337,"comment_id":59635185,"body_markdown":"@Ferrybig I am sorry that I didn&#39;t make my problem clear to you. But I wasnt sure what I wanted.","body":"@Ferrybig I am sorry that I didn&#39;t make my problem clear to you. But I wasnt sure what I wanted."}],"answers":[{"tags":[],"owner":{"account_id":1063012,"reputation":71986,"user_id":1064245,"accept_rate":82,"display_name":"M A"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1457702870,"creation_date":1457702511,"answer_id":35941375,"question_id":35941337,"body_markdown":"Pass it the `Class` instance:\r\n\r\n    private Object getObjectFromData(Class clazz, String data) {\r\n        Object o = mapper.readValue(data,clazz);\r\n        return o;\r\n    }\r\n\r\nand call it as follows:\r\n\r\n    Task task = (Task) getObjectFromData(Task.class, data);\r\n\r\nYou should also make the method generic (don&#39;t use the raw type `Class` but use `Class&lt;T&gt;` instead), which removes the need to cast:\r\n   \r\n    private &lt;T&gt; T getObjectFromData(Class&lt;T&gt; clazz, String data) {\r\n\r\nand call it as follows:\r\n\r\n    Task task = getObjectFromData(Task.class, data);\r\n","title":"Java How to send class Type in parameter","body":"<p>Pass it the <code>Class</code> instance:</p>\n\n<pre><code>private Object getObjectFromData(Class clazz, String data) {\n    Object o = mapper.readValue(data,clazz);\n    return o;\n}\n</code></pre>\n\n<p>and call it as follows:</p>\n\n<pre><code>Task task = (Task) getObjectFromData(Task.class, data);\n</code></pre>\n\n<p>You should also make the method generic (don't use the raw type <code>Class</code> but use <code>Class&lt;T&gt;</code> instead), which removes the need to cast:</p>\n\n<pre><code>private &lt;T&gt; T getObjectFromData(Class&lt;T&gt; clazz, String data) {\n</code></pre>\n\n<p>and call it as follows:</p>\n\n<pre><code>Task task = getObjectFromData(Task.class, data);\n</code></pre>\n"}],"owner":{"account_id":2723804,"reputation":123,"user_id":2349455,"accept_rate":89,"display_name":"MrDoda"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10606,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":35941375,"answer_count":1,"score":0,"last_activity_date":1673196247,"creation_date":1457702400,"question_id":35941337,"body_markdown":"I would like to create a method that would accept any class type and send it to another method. and then returns object: Example:\r\n\r\n    private Object getObjectFromData(Object object, String data) {\r\n\t\tObject o = mapper.readValue(data,Object.class);\r\n\t\treturn o;\r\n\t}\r\n\r\nWell this works. And does exactly what I want. But to call this function I have to initialize one empty project: like below:\r\n\r\n    final Task t = new Task();\r\n\tTask task = (Task)getObjectFromData(t,data);\r\nIs it possible to somehow skip the line :\r\n\r\n    final Task t = new Task();\r\n? Thanks for your response.","title":"Java How to send class Type in parameter","body":"<p>I would like to create a method that would accept any class type and send it to another method. and then returns object: Example:</p>\n\n<pre><code>private Object getObjectFromData(Object object, String data) {\n    Object o = mapper.readValue(data,Object.class);\n    return o;\n}\n</code></pre>\n\n<p>Well this works. And does exactly what I want. But to call this function I have to initialize one empty project: like below:</p>\n\n<pre><code>final Task t = new Task();\nTask task = (Task)getObjectFromData(t,data);\n</code></pre>\n\n<p>Is it possible to somehow skip the line :</p>\n\n<pre><code>final Task t = new Task();\n</code></pre>\n\n<p>? Thanks for your response.</p>\n"},{"tags":["java","android-tv","leanback"],"comments":[{"owner":{"account_id":13962640,"reputation":723,"user_id":10086742,"display_name":"mahdi"},"score":0,"creation_date":1674473975,"post_id":75049572,"comment_id":132714216,"body_markdown":"Where are you calling this method to disable headers? Make sure to call it inside `onCreate` of your fragment.","body":"Where are you calling this method to disable headers? Make sure to call it inside <code>onCreate</code> of your fragment."}],"owner":{"account_id":24580690,"reputation":33,"user_id":18485872,"display_name":"Iam Me"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673196123,"creation_date":1673196123,"question_id":75049572,"body_markdown":"I&#39;m new to AndroidTv and Leanback. In my app I only want to display the RowsFragment in the BrowseFragment and NOT the HeadersFragment. Android docs state that the HeadersFragment can be disabled using this code, but it also disables the RowsFragment. \r\n\r\n        private void setupUIElements() {\r\n            setTitle(getString(R.string.browse_title)); \r\n            setHeadersState(HEADERS_DISABLED);\r\n    }\r\n\r\nHow can I only disable the HeadersFragment and have the RowsFragment visible? ","title":"Android tv Leanback disable HeadersFragment in BrowseFragment without losing RowsFragment?","body":"<p>I'm new to AndroidTv and Leanback. In my app I only want to display the RowsFragment in the BrowseFragment and NOT the HeadersFragment. Android docs state that the HeadersFragment can be disabled using this code, but it also disables the RowsFragment.</p>\n<pre><code>    private void setupUIElements() {\n        setTitle(getString(R.string.browse_title)); \n        setHeadersState(HEADERS_DISABLED);\n}\n</code></pre>\n<p>How can I only disable the HeadersFragment and have the RowsFragment visible?</p>\n"},{"tags":["java","function","recursion","math"],"comments":[{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":0,"creation_date":1673201571,"post_id":75049247,"comment_id":132440238,"body_markdown":"You seem to mix 2 questions in 1: Why are you getting a StackOverflowError with large input? and: Why are you only getting integer (floored) results? Please pick one and only one.","body":"You seem to mix 2 questions in 1: Why are you getting a StackOverflowError with large input? and: Why are you only getting integer (floored) results? Please pick one and only one."},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1673205556,"post_id":75049247,"comment_id":132441057,"body_markdown":"The algorithm you&#39;ve written doesn&#39;t include any fractional values, so what would you expect?  (You will probably be best off starting from `Math.log`.)","body":"The algorithm you&#39;ve written doesn&#39;t include any fractional values, so what would you expect?  (You will probably be best off starting from <code>Math.log</code>.)"}],"answers":[{"tags":[],"owner":{"account_id":5823420,"reputation":785,"user_id":6656833,"display_name":"Pavel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673195398,"creation_date":1673195398,"answer_id":75049474,"question_id":75049247,"body_markdown":"To avoid the stack overflow error with large input you would have to rewrite it to a loop. For example using a while loop:\r\n```java\r\n    static double logbase2(double x) {\r\n        double acc = 0;\r\n        double temp = x;\r\n        while (temp &gt; 1) {\r\n            temp /= 2;\r\n            acc += 1;\r\n        }\r\n        return acc;\r\n    }\r\n```\r\nJVM does not support the tail call optimisation unfortunately (although in scala or kotlin you can write recursive functions with tail calls and during the compilation those will be rewritten to loops). \r\nIf a a TCO would work in Java you would be able to write something like this:\r\n```java\r\n    static double logbase2Acc(double x, double acc) {// It calculates Log base 2 n\r\n        if (x &lt;= 1)\r\n            return acc;\r\n        else\r\n            return logbase2Acc(x / 2, acc + 1);\r\n    }\r\n```","title":"How to Fix Stack Overflow Error in Log base 2 Calculator using Java","body":"<p>To avoid the stack overflow error with large input you would have to rewrite it to a loop. For example using a while loop:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    static double logbase2(double x) {\n        double acc = 0;\n        double temp = x;\n        while (temp &gt; 1) {\n            temp /= 2;\n            acc += 1;\n        }\n        return acc;\n    }\n</code></pre>\n<p>JVM does not support the tail call optimisation unfortunately (although in scala or kotlin you can write recursive functions with tail calls and during the compilation those will be rewritten to loops).\nIf a a TCO would work in Java you would be able to write something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    static double logbase2Acc(double x, double acc) {// It calculates Log base 2 n\n        if (x &lt;= 1)\n            return acc;\n        else\n            return logbase2Acc(x / 2, acc + 1);\n    }\n</code></pre>\n"}],"owner":{"account_id":26357323,"reputation":1,"user_id":20014110,"display_name":"tratum"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1674062043,"answer_count":1,"score":0,"last_activity_date":1673195880,"creation_date":1673193623,"question_id":75049247,"body_markdown":"For calculating Log base 2 values with up to 2 decimal values and not floor of Log base 2 values\r\n\r\nMy Flawed Solution:\r\n\r\n```java\r\nstatic double logbase2(double x) {// It calculates Log base 2 n\r\n\t\tif(x&lt;=1)\r\n\t\t\treturn 0;\r\n\t\telse\r\n\t\t\treturn 1+logbase2(x/2);\r\n\t}\r\n```\r\n\r\nI want Log value of up to 2 decimal points so please give pointers\r\n   \r\nWhen I am trying, I am always getting floor values.","title":"How to Fix Stack Overflow Error in Log base 2 Calculator using Java","body":"<p>For calculating Log base 2 values with up to 2 decimal values and not floor of Log base 2 values</p>\n<p>My Flawed Solution:</p>\n<pre class=\"lang-java prettyprint-override\"><code>static double logbase2(double x) {// It calculates Log base 2 n\n        if(x&lt;=1)\n            return 0;\n        else\n            return 1+logbase2(x/2);\n    }\n</code></pre>\n<p>I want Log value of up to 2 decimal points so please give pointers</p>\n<p>When I am trying, I am always getting floor values.</p>\n"},{"tags":["java","datetime","oop","arraylist"],"comments":[{"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":2,"creation_date":1673189177,"post_id":75048640,"comment_id":132437575,"body_markdown":"On a side note, the `java.util` date-time API and their formatting API, `SimpleDateFormat` were supplanted by the [modern date-time API](https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html). Use the modern API.","body":"On a side note, the <code>java.util</code> date-time API and their formatting API, <code>SimpleDateFormat</code> were supplanted by the <a href=\"https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html\" rel=\"nofollow noreferrer\">modern date-time API</a>. Use the modern API."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":2,"creation_date":1673189825,"post_id":75048640,"comment_id":132437717,"body_markdown":"*// Handle the exception* But you&#39;re not doing - you&#39;re ignoring it. You really need to provide a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example). You need to take it further and debug `doc.isAvailable`","body":"<i>// Handle the exception</i> But you&#39;re not doing - you&#39;re ignoring it. You really need to provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. You need to take it further and debug <code>doc.isAvailable</code>"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1673195098,"post_id":75048640,"comment_id":132438842,"body_markdown":"I strongly recommend you dont use `SimpleDateFormat` and `Date`. Those classes are poorly designed and long outdated, the former in particular notoriously troublesome. Stick to `LocalDateTime` from [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/) and use a `DateTimeFormatter` for parsing.","body":"I strongly recommend you dont use <code>SimpleDateFormat</code> and <code>Date</code>. Those classes are poorly designed and long outdated, the former in particular notoriously troublesome. Stick to <code>LocalDateTime</code> from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a> and use a <code>DateTimeFormatter</code> for parsing."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1673256230,"post_id":75048640,"comment_id":132449051,"body_markdown":"@LajosArpad I didnt downvote. Might we have expected a shorter code example for demonstrating the problem?","body":"@LajosArpad I didnt downvote. Might we have expected a shorter code example for demonstrating the problem?"}],"answers":[{"tags":[],"owner":{"account_id":194308,"reputation":66720,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673195678,"creation_date":1673195678,"answer_id":75049516,"question_id":75048640,"body_markdown":"You are looping through consultations and you return false at the first unavailability. However, you do not correctly check this.\r\n\r\n# Criteria 1\r\n\r\nYou are returning `false` if your `startTime` is during a consultation, independently of whether that doctor is the one you are searching for. So, for instance, if you are searching for the availability of doctor1, but the first iteration of the loop finds a consultation of doctor2, who is not available at the `startTime` of your choice, then you conclude - incorrectly - that doctor1 is unavailable.\r\n\r\n# Criteria 2\r\n\r\nYou are returning `false` if your `endTime` is during a consultation, independently of whether that doctor is the one you are searching for. So, for instance, if you are searching for the availability of doctor1, but the first iteration of the loop finds a consultation of doctor2, who is not available at the `endTime` of your choice, then you conclude - incorrectly - that doctor1 is unavailable.\r\n\r\n# Criteria 3\r\n\r\nYou are returning `false` for availability if the doctor is the same you are searching for. So, if you want an appointment to a doctor who has an appointment at any time, even if it does not overlap your time interval, then `false` will be returned.\r\n\r\n# Solution\r\n\r\nYou need to avoid returning a truth value just because the doctor matches your searched doctor, because we are not interested in whether the doctor has some arbitrary appointments, but we are interested whether the doctor has an appointment at the time in search. Instead, wrap this if around the two other criterias, like below:\r\n\r\n```\r\n    public boolean isAvailable(Doctor doctor, LocalDateTime startTime, int duration, List&lt;Consultation&gt; consultationList) {\r\n    for (Consultation consultation : consultationList) {\r\n        if (doctor == consultation.getDoctor()) {\r\n            // Check if the start time of the desired consultation falls within the duration of an existing consultation\r\n            if (startTime.isAfter(consultation.getDateTime()) &amp;&amp; startTime.isBefore(consultation.getDateTime().plusHours(consultation.getHourCount()))) {\r\n                return false;\r\n            }\r\n\r\n            // Check if the end time of the desired consultation falls within the duration of an existing consultation\r\n            LocalDateTime endTime = startTime.plusHours(duration);\r\n            if (endTime.isAfter(consultation.getDateTime()) &amp;&amp; endTime.isBefore(consultation.getDateTime().plusHours(consultation.getHourCount()))) {\r\n                return false;\r\n            }\r\n        }\r\n    }\r\n    return true;\r\n}\r\n```\r\n\r\nYou can also simplify your criteria by stating that if it&#39;s not true that `startTime` is later than the end time of the consultation or `endTime` is earlier than the start time of the consultation, then return false, but I avoided doing that refactor to keep the code close to your initial version.","title":"Why is For loop not correctly adding elements to the arraylist object?","body":"<p>You are looping through consultations and you return false at the first unavailability. However, you do not correctly check this.</p>\n<h1>Criteria 1</h1>\n<p>You are returning <code>false</code> if your <code>startTime</code> is during a consultation, independently of whether that doctor is the one you are searching for. So, for instance, if you are searching for the availability of doctor1, but the first iteration of the loop finds a consultation of doctor2, who is not available at the <code>startTime</code> of your choice, then you conclude - incorrectly - that doctor1 is unavailable.</p>\n<h1>Criteria 2</h1>\n<p>You are returning <code>false</code> if your <code>endTime</code> is during a consultation, independently of whether that doctor is the one you are searching for. So, for instance, if you are searching for the availability of doctor1, but the first iteration of the loop finds a consultation of doctor2, who is not available at the <code>endTime</code> of your choice, then you conclude - incorrectly - that doctor1 is unavailable.</p>\n<h1>Criteria 3</h1>\n<p>You are returning <code>false</code> for availability if the doctor is the same you are searching for. So, if you want an appointment to a doctor who has an appointment at any time, even if it does not overlap your time interval, then <code>false</code> will be returned.</p>\n<h1>Solution</h1>\n<p>You need to avoid returning a truth value just because the doctor matches your searched doctor, because we are not interested in whether the doctor has some arbitrary appointments, but we are interested whether the doctor has an appointment at the time in search. Instead, wrap this if around the two other criterias, like below:</p>\n<pre><code>    public boolean isAvailable(Doctor doctor, LocalDateTime startTime, int duration, List&lt;Consultation&gt; consultationList) {\n    for (Consultation consultation : consultationList) {\n        if (doctor == consultation.getDoctor()) {\n            // Check if the start time of the desired consultation falls within the duration of an existing consultation\n            if (startTime.isAfter(consultation.getDateTime()) &amp;&amp; startTime.isBefore(consultation.getDateTime().plusHours(consultation.getHourCount()))) {\n                return false;\n            }\n\n            // Check if the end time of the desired consultation falls within the duration of an existing consultation\n            LocalDateTime endTime = startTime.plusHours(duration);\n            if (endTime.isAfter(consultation.getDateTime()) &amp;&amp; endTime.isBefore(consultation.getDateTime().plusHours(consultation.getHourCount()))) {\n                return false;\n            }\n        }\n    }\n    return true;\n}\n</code></pre>\n<p>You can also simplify your criteria by stating that if it's not true that <code>startTime</code> is later than the end time of the consultation or <code>endTime</code> is earlier than the start time of the consultation, then return false, but I avoided doing that refactor to keep the code close to your initial version.</p>\n"}],"owner":{"account_id":12534084,"reputation":41,"user_id":9121266,"display_name":"Yasiru Ruwantha Weerakoon"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":1,"score":0,"last_activity_date":1673195678,"creation_date":1673188840,"question_id":75048640,"body_markdown":"I&#39;m doing a consultation center program a part of it is to select a doctor and enter the start time then enter for how many hours then check if the selected doctor already has a booked appointment at that time and if he has a appointment the program checks for other doctors who doesn&#39;t have a appointment at that time period and assign a doctor from available doctors randomly so. I created the program but the problem is if a consultation is not available the program identifies it but it doesn&#39;t randomly assign a doctor.\r\n\r\nhere is my code,\r\n\r\n    // Check if both the date and time inputs are in the correct format\r\n            if (dateMatcher.matches() &amp;&amp; timeMatcher.matches()) {\r\n                // Concatenate the date input and time input to create a combined date-time string in the format &quot;MM/dd/yyyy HH:mm&quot;\r\n\r\n                // Convert the combined date-time input to a Date object\r\n                SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy/MM/dd HH:mm&quot;);\r\n                Date dateTime = null;\r\n                LocalDateTime ldt = null;\r\n                try {\r\n                    dateTime = sdf.parse(dateInput + &quot; &quot; + startTimeInput);\r\n                    ldt = dateTime.toInstant().atZone(ZoneId.systemDefault()).toLocalDateTime();\r\n                } catch (ParseException e) {\r\n                    // Handle the exception\r\n                }\r\n\r\n                // Check if the combined date-time is in the future\r\n                assert dateTime != null;\r\n                if (dateTime.after(new Date())) {\r\n                    // Get the index of the selected doctor in the doctorArrayList\r\n                    int selectedIndex = doctorComboBox.getSelectedIndex();\r\n                    // Get the selected doctor object from the doctorArrayList\r\n                    Doctor selectedDoctor = doctorArrayList.get(selectedIndex);\r\n\r\n                    // Check if the selected doctor is available at the specified date and time\r\n                    if (selectedDoctor.isAvailable(selectedDoctor, ldt, Integer.parseInt(hourCountInput), Consultation.getConsultationList())) {\r\n                        JOptionPane.showMessageDialog(null, &quot;The selected doctor is available at the specified date and time.&quot;);\r\n\r\n                        // Close the current frame\r\n                        setVisible(false);\r\n                        dispose();\r\n\r\n                        // Open the patient details page\r\n                        GUIPatientDetailsPage patientDetailsPage = new GUIPatientDetailsPage();\r\n                        patientDetailsPage.patientDetailsPage(ldt, selectedIndex, hourCountInput);\r\n                    } else {\r\n                        // If the doctor is not available, create a list of available doctors\r\n                        List&lt;Doctor&gt; availableDoctors = new ArrayList&lt;&gt;();\r\n                        for (Doctor doc : doctorArrayList) {\r\n                            if (doc.isAvailable(selectedDoctor, ldt, Integer.parseInt(hourCountInput), Consultation.getConsultationList())) {\r\n                                availableDoctors.add(doc);\r\n                            }\r\n                        }\r\n                        if (availableDoctors.isEmpty()) {\r\n                            System.out.println(&quot;empty&quot;);\r\n                        }\r\n\r\n                        if (!availableDoctors.isEmpty()) {\r\n                            // If there are available doctors, randomly select one of them\r\n                            Random rand = new Random();\r\n                            int index = rand.nextInt(availableDoctors.size());\r\n                            Doctor newSelectedDoctor = availableDoctors.get(index);\r\n\r\n                            // Open the patient details page\r\n                            GUIPatientDetailsPage patientDetailsPage = new GUIPatientDetailsPage();\r\n                            patientDetailsPage.patientDetailsPage(ldt, index, hourCountInput);\r\n\r\n                            // Display a confirmation message\r\n                            JOptionPane.showMessageDialog(null, &quot;The Doctor you selected is not available at that time,But we have selected another doctor available at that time. Please enter your details below&quot;);\r\n                        }\r\n                    } //else {\r\n                    // If there are no available doctors, display an error message\r\n                    // JOptionPane.showMessageDialog(null, &quot;Sorry, there are no doctors available at the specified date and time. Please try again.&quot;);\r\n                    // }\r\n                }\r\n\r\n            }\r\n        });\r\n\r\n\r\nAnd `isAvailable` method is here,\r\n\r\n        public boolean isAvailable(Doctor doctor, LocalDateTime startTime, int duration, List&lt;Consultation&gt; consultationList) {\r\n        for (Consultation consultation : consultationList) {\r\n            // Check if the start time of the desired consultation falls within the duration of an existing consultation\r\n            if (startTime.isAfter(consultation.getDateTime()) &amp;&amp; startTime.isBefore(consultation.getDateTime().plusHours(consultation.getHourCount()))) {\r\n                return false;\r\n            }\r\n\r\n            // Check if the end time of the desired consultation falls within the duration of an existing consultation\r\n            LocalDateTime endTime = startTime.plusHours(duration);\r\n            if (endTime.isAfter(consultation.getDateTime()) &amp;&amp; endTime.isBefore(consultation.getDateTime().plusHours(consultation.getHourCount()))) {\r\n                return false;\r\n            }\r\n\r\n            // Check if the doctor of the desired consultation is the same as the doctor of an existing consultation\r\n            if (doctor == consultation.getDoctor()) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nin this input there&#39;s already appointment to this doctor in this time period so it should check and tell me if the appointment is available. if not it has to assign a random doctor then display a message.\r\n\r\nThis is what happens when I click submit.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nit doesn&#39;t do anything from what I suspected was that with this for loop is not adding anything to `availableDoctors` list\r\n\r\n         // If the doctor is not available, create a list of available doctors\r\n                        List&lt;Doctor&gt; availableDoctors = new ArrayList&lt;&gt;();\r\n                        for (Doctor doc : doctorArrayList) {\r\n                            if (doc.isAvailable(selectedDoctor, ldt, Integer.parseInt(hourCountInput), Consultation.getConsultationList())) {\r\n                                availableDoctors.add(doc);\r\n                            }\r\n                        } \r\n\r\n\r\nSo i added this part to verify,\r\n\r\n    if (availableDoctors.isEmpty()) {\r\n                            System.out.println(&quot;empty&quot;);\r\n                        }\r\n\r\nand I was right it printed empty.\r\n\r\nWhat can I do to make this correct?\r\n\r\n  [1]: https://i.stack.imgur.com/cA4BM.png\r\n  [2]: https://i.stack.imgur.com/Ich1f.png","title":"Why is For loop not correctly adding elements to the arraylist object?","body":"<p>I'm doing a consultation center program a part of it is to select a doctor and enter the start time then enter for how many hours then check if the selected doctor already has a booked appointment at that time and if he has a appointment the program checks for other doctors who doesn't have a appointment at that time period and assign a doctor from available doctors randomly so. I created the program but the problem is if a consultation is not available the program identifies it but it doesn't randomly assign a doctor.</p>\n<p>here is my code,</p>\n<pre><code>// Check if both the date and time inputs are in the correct format\n        if (dateMatcher.matches() &amp;&amp; timeMatcher.matches()) {\n            // Concatenate the date input and time input to create a combined date-time string in the format &quot;MM/dd/yyyy HH:mm&quot;\n\n            // Convert the combined date-time input to a Date object\n            SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy/MM/dd HH:mm&quot;);\n            Date dateTime = null;\n            LocalDateTime ldt = null;\n            try {\n                dateTime = sdf.parse(dateInput + &quot; &quot; + startTimeInput);\n                ldt = dateTime.toInstant().atZone(ZoneId.systemDefault()).toLocalDateTime();\n            } catch (ParseException e) {\n                // Handle the exception\n            }\n\n            // Check if the combined date-time is in the future\n            assert dateTime != null;\n            if (dateTime.after(new Date())) {\n                // Get the index of the selected doctor in the doctorArrayList\n                int selectedIndex = doctorComboBox.getSelectedIndex();\n                // Get the selected doctor object from the doctorArrayList\n                Doctor selectedDoctor = doctorArrayList.get(selectedIndex);\n\n                // Check if the selected doctor is available at the specified date and time\n                if (selectedDoctor.isAvailable(selectedDoctor, ldt, Integer.parseInt(hourCountInput), Consultation.getConsultationList())) {\n                    JOptionPane.showMessageDialog(null, &quot;The selected doctor is available at the specified date and time.&quot;);\n\n                    // Close the current frame\n                    setVisible(false);\n                    dispose();\n\n                    // Open the patient details page\n                    GUIPatientDetailsPage patientDetailsPage = new GUIPatientDetailsPage();\n                    patientDetailsPage.patientDetailsPage(ldt, selectedIndex, hourCountInput);\n                } else {\n                    // If the doctor is not available, create a list of available doctors\n                    List&lt;Doctor&gt; availableDoctors = new ArrayList&lt;&gt;();\n                    for (Doctor doc : doctorArrayList) {\n                        if (doc.isAvailable(selectedDoctor, ldt, Integer.parseInt(hourCountInput), Consultation.getConsultationList())) {\n                            availableDoctors.add(doc);\n                        }\n                    }\n                    if (availableDoctors.isEmpty()) {\n                        System.out.println(&quot;empty&quot;);\n                    }\n\n                    if (!availableDoctors.isEmpty()) {\n                        // If there are available doctors, randomly select one of them\n                        Random rand = new Random();\n                        int index = rand.nextInt(availableDoctors.size());\n                        Doctor newSelectedDoctor = availableDoctors.get(index);\n\n                        // Open the patient details page\n                        GUIPatientDetailsPage patientDetailsPage = new GUIPatientDetailsPage();\n                        patientDetailsPage.patientDetailsPage(ldt, index, hourCountInput);\n\n                        // Display a confirmation message\n                        JOptionPane.showMessageDialog(null, &quot;The Doctor you selected is not available at that time,But we have selected another doctor available at that time. Please enter your details below&quot;);\n                    }\n                } //else {\n                // If there are no available doctors, display an error message\n                // JOptionPane.showMessageDialog(null, &quot;Sorry, there are no doctors available at the specified date and time. Please try again.&quot;);\n                // }\n            }\n\n        }\n    });\n</code></pre>\n<p>And <code>isAvailable</code> method is here,</p>\n<pre><code>    public boolean isAvailable(Doctor doctor, LocalDateTime startTime, int duration, List&lt;Consultation&gt; consultationList) {\n    for (Consultation consultation : consultationList) {\n        // Check if the start time of the desired consultation falls within the duration of an existing consultation\n        if (startTime.isAfter(consultation.getDateTime()) &amp;&amp; startTime.isBefore(consultation.getDateTime().plusHours(consultation.getHourCount()))) {\n            return false;\n        }\n\n        // Check if the end time of the desired consultation falls within the duration of an existing consultation\n        LocalDateTime endTime = startTime.plusHours(duration);\n        if (endTime.isAfter(consultation.getDateTime()) &amp;&amp; endTime.isBefore(consultation.getDateTime().plusHours(consultation.getHourCount()))) {\n            return false;\n        }\n\n        // Check if the doctor of the desired consultation is the same as the doctor of an existing consultation\n        if (doctor == consultation.getDoctor()) {\n            return false;\n        }\n    }\n    return true;\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/cA4BM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cA4BM.png\" alt=\"enter image description here\" /></a></p>\n<p>in this input there's already appointment to this doctor in this time period so it should check and tell me if the appointment is available. if not it has to assign a random doctor then display a message.</p>\n<p>This is what happens when I click submit.</p>\n<p><a href=\"https://i.stack.imgur.com/Ich1f.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ich1f.png\" alt=\"enter image description here\" /></a></p>\n<p>it doesn't do anything from what I suspected was that with this for loop is not adding anything to <code>availableDoctors</code> list</p>\n<pre><code>     // If the doctor is not available, create a list of available doctors\n                    List&lt;Doctor&gt; availableDoctors = new ArrayList&lt;&gt;();\n                    for (Doctor doc : doctorArrayList) {\n                        if (doc.isAvailable(selectedDoctor, ldt, Integer.parseInt(hourCountInput), Consultation.getConsultationList())) {\n                            availableDoctors.add(doc);\n                        }\n                    } \n</code></pre>\n<p>So i added this part to verify,</p>\n<pre><code>if (availableDoctors.isEmpty()) {\n                        System.out.println(&quot;empty&quot;);\n                    }\n</code></pre>\n<p>and I was right it printed empty.</p>\n<p>What can I do to make this correct?</p>\n"},{"tags":["java","constants"],"comments":[{"owner":{"account_id":36858,"reputation":113744,"user_id":105224,"accept_rate":73,"display_name":"Andreas Dolk"},"score":1,"creation_date":1278414772,"post_id":3185494,"comment_id":3280713,"body_markdown":"Please have a look at this question about storing constants in interfaces: http://stackoverflow.com/questions/1372991/should-a-collection-of-constants-be-placed-in-a-class-or-interface Most people agree, that an interface is not a good entity to store constants.","body":"Please have a look at this question about storing constants in interfaces: <a href=\"http://stackoverflow.com/questions/1372991/should-a-collection-of-constants-be-placed-in-a-class-or-interface\" title=\"should a collection of constants be placed in a class or interface\">stackoverflow.com/questions/1372991/&hellip;</a> Most people agree, that an interface is not a good entity to store constants."},{"owner":{"account_id":627426,"reputation":97,"user_id":379827,"accept_rate":100,"display_name":"Michael Jones"},"score":0,"creation_date":1278415495,"post_id":3185494,"comment_id":3280802,"body_markdown":"Thanks, I hadn&#39;t seen that. The interfaces I&#39;ve created aren&#39;t collections of constants. I could thought about adding accessor methods to the interface, but for brevity I think in this case it&#39;s simpler to add constants to the interface.","body":"Thanks, I hadn&#39;t seen that. The interfaces I&#39;ve created aren&#39;t collections of constants. I could thought about adding accessor methods to the interface, but for brevity I think in this case it&#39;s simpler to add constants to the interface."},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":1,"creation_date":1278420767,"post_id":3185494,"comment_id":3281474,"body_markdown":"@Andreas, the typical reason was to avoid having to type the Class.CONSTANT, but just be able to use CONSTANT.  This has gone away with static imports.","body":"@Andreas, the typical reason was to avoid having to type the Class.CONSTANT, but just be able to use CONSTANT.  This has gone away with static imports."}],"answers":[{"tags":[],"owner":{"account_id":153796,"reputation":20684,"user_id":369310,"accept_rate":67,"display_name":"Janick Bernet"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1673195617,"creation_date":1278413219,"answer_id":3185524,"question_id":3185494,"body_markdown":"This can be achieved using [reflection][1] (also see corresponding [javadoc][2]).\r\n\r\n    public void indexRootNode(Node node, Class rootNodeClass)\r\n    {\r\n        Field idField = rootNodeClass.getField(&quot;ID&quot;);\r\n        Object idValue = idField.get(null);\r\n        Field rootField = rootNodeClass.getField(&quot;ROOT&quot;);\r\n        Object rootValue = rootField.get(null);\r\n\r\n        indexService.index(node, idValue, rootValue);\r\n    }\r\n\r\nMaybe you may additionaly have to cast the values to the corresponding type.\r\n\r\n\r\n  [1]: http://java.sun.com/developer/technicalArticles/ALT/Reflection/\r\n  [2]: http://java.sun.com/javase/6/docs/api/java/lang/reflect/package-summary.html\r\n","title":"How to dynamically retrieve a constant in java?","body":"<p>This can be achieved using <a href=\"http://java.sun.com/developer/technicalArticles/ALT/Reflection/\" rel=\"nofollow noreferrer\">reflection</a> (also see corresponding <a href=\"http://java.sun.com/javase/6/docs/api/java/lang/reflect/package-summary.html\" rel=\"nofollow noreferrer\">javadoc</a>).</p>\n<pre><code>public void indexRootNode(Node node, Class rootNodeClass)\n{\n    Field idField = rootNodeClass.getField(&quot;ID&quot;);\n    Object idValue = idField.get(null);\n    Field rootField = rootNodeClass.getField(&quot;ROOT&quot;);\n    Object rootValue = rootField.get(null);\n\n    indexService.index(node, idValue, rootValue);\n}\n</code></pre>\n<p>Maybe you may additionaly have to cast the values to the corresponding type.</p>\n"},{"tags":[],"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1278420929,"creation_date":1278420929,"answer_id":3186323,"question_id":3185494,"body_markdown":"Please read chapter 19 [use interfaces only to define types][1] from Joshua Bloch&#39;s [Effective Java][2] (in fact, please read the entire book)\r\n\r\n[1]:http://books.google.com/books?id=ka2VUBqHiWkC&amp;lpg=PA98&amp;ots=yXJnMfw3TX&amp;dq=%22use%20interfaces%20only%20to%20define%20types%22&amp;pg=PA98#v=onepage&amp;q=%22use%20interfaces%20only%20to%20define%20types%22&amp;f=false\r\n[2]:http://books.google.com/url?client=ca-print-pearson-addison_wesley_pro&amp;format=googleprint&amp;num=0&amp;channel=BTB-ca-print-pearson-addison_wesley_pro+BTB-ISBN:0321356683&amp;q=http://www.amazon.com/Effective-Java-2nd-Joshua-Bloch/dp/0321356683&amp;usg=AFQjCNE5BjN9BaNo2A6ftJk0BwRERxbqFw&amp;source=gbs_buy_s&amp;cad=0\r\n\r\nConstants do not belong in an interface!!! Constants should be tied to implementing classes, not interfaces.\r\n\r\nEither use non-constant methods:\r\n\r\n    // the implementing classes can define these values\r\n    // and internally use constants if they wish to\r\n    public interface BaseInterface{\r\n        String id(); // or getId()\r\n        String root(); // or getRoot()\r\n    }\r\n    \r\n    public interface MyInterface1 extends BaseInterface{\r\n        void myMethodA();\r\n    }\r\n    \r\n    public interface MyInterface2 extends BaseInterface{\r\n        void myMethodB();\r\n    }\r\n\r\nor use an enum to tie things together:\r\n\r\n    public enum Helper{\r\n\r\n        ITEM1(MyInterface1.class, &quot;foo&quot;, &quot;bar&quot;),\r\n        ITEM2(MyInterface2.class, &quot;foo2&quot;, &quot;baz&quot;),\r\n        ;\r\n\r\n        public static String getId(final Class&lt;? extends BaseInterface&gt; clazz){\r\n            return fromInterfaceClass(clazz).getId();\r\n\r\n        }\r\n\r\n        public static String getRoot(final Class&lt;? extends BaseInterface&gt; clazz){\r\n            return fromInterfaceClass(clazz).getRoot();\r\n        }\r\n\r\n        private static Helper fromInterfaceClass(final Class&lt;? extends BaseInterface&gt; clazz){\r\n            Helper result = null;\r\n            for(final Helper candidate : values()){\r\n                if(candidate.clazz.isAssignableFrom(clazz)){\r\n                    result = candidate;\r\n                }\r\n            }\r\n            return result;\r\n        }\r\n\r\n        private final Class&lt;? extends BaseInterface&gt; clazz;\r\n\r\n        private final String root;\r\n\r\n        private final String id;\r\n\r\n        private Helper(final Class&lt;? extends BaseInterface&gt; clazz,\r\n            final String root,\r\n            final String id){\r\n            this.clazz = clazz;\r\n            this.root = root;\r\n            this.id = id;\r\n\r\n        };\r\n\r\n        public String getId(){\r\n            return this.id;\r\n        }\r\n\r\n        public String getRoot(){\r\n            return this.root;\r\n        }\r\n\r\n    }\r\n\r\n    // use it like this\r\n    String root = Helper.fromInterfaceClass(MyInterface1.class).getRoot();\r\n","title":"How to dynamically retrieve a constant in java?","body":"<p>Please read chapter 19 <a href=\"http://books.google.com/books?id=ka2VUBqHiWkC&amp;lpg=PA98&amp;ots=yXJnMfw3TX&amp;dq=%22use%20interfaces%20only%20to%20define%20types%22&amp;pg=PA98#v=onepage&amp;q=%22use%20interfaces%20only%20to%20define%20types%22&amp;f=false\" rel=\"nofollow noreferrer\">use interfaces only to define types</a> from Joshua Bloch's <a href=\"http://books.google.com/url?client=ca-print-pearson-addison_wesley_pro&amp;format=googleprint&amp;num=0&amp;channel=BTB-ca-print-pearson-addison_wesley_pro+BTB-ISBN:0321356683&amp;q=http://www.amazon.com/Effective-Java-2nd-Joshua-Bloch/dp/0321356683&amp;usg=AFQjCNE5BjN9BaNo2A6ftJk0BwRERxbqFw&amp;source=gbs_buy_s&amp;cad=0\" rel=\"nofollow noreferrer\">Effective Java</a> (in fact, please read the entire book)</p>\n\n<p>Constants do not belong in an interface!!! Constants should be tied to implementing classes, not interfaces.</p>\n\n<p>Either use non-constant methods:</p>\n\n<pre><code>// the implementing classes can define these values\n// and internally use constants if they wish to\npublic interface BaseInterface{\n    String id(); // or getId()\n    String root(); // or getRoot()\n}\n\npublic interface MyInterface1 extends BaseInterface{\n    void myMethodA();\n}\n\npublic interface MyInterface2 extends BaseInterface{\n    void myMethodB();\n}\n</code></pre>\n\n<p>or use an enum to tie things together:</p>\n\n<pre><code>public enum Helper{\n\n    ITEM1(MyInterface1.class, \"foo\", \"bar\"),\n    ITEM2(MyInterface2.class, \"foo2\", \"baz\"),\n    ;\n\n    public static String getId(final Class&lt;? extends BaseInterface&gt; clazz){\n        return fromInterfaceClass(clazz).getId();\n\n    }\n\n    public static String getRoot(final Class&lt;? extends BaseInterface&gt; clazz){\n        return fromInterfaceClass(clazz).getRoot();\n    }\n\n    private static Helper fromInterfaceClass(final Class&lt;? extends BaseInterface&gt; clazz){\n        Helper result = null;\n        for(final Helper candidate : values()){\n            if(candidate.clazz.isAssignableFrom(clazz)){\n                result = candidate;\n            }\n        }\n        return result;\n    }\n\n    private final Class&lt;? extends BaseInterface&gt; clazz;\n\n    private final String root;\n\n    private final String id;\n\n    private Helper(final Class&lt;? extends BaseInterface&gt; clazz,\n        final String root,\n        final String id){\n        this.clazz = clazz;\n        this.root = root;\n        this.id = id;\n\n    };\n\n    public String getId(){\n        return this.id;\n    }\n\n    public String getRoot(){\n        return this.root;\n    }\n\n}\n\n// use it like this\nString root = Helper.fromInterfaceClass(MyInterface1.class).getRoot();\n</code></pre>\n"}],"owner":{"account_id":627426,"reputation":97,"user_id":379827,"accept_rate":100,"display_name":"Michael Jones"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7349,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":3185524,"answer_count":2,"score":7,"last_activity_date":1673195617,"creation_date":1278412934,"question_id":3185494,"body_markdown":"I have several interfaces all with the same constants - ID and ROOT. I also have a method into which I pass an object that will be an implementation of one of these interfaces.\r\n\r\nHow can I dynamically retrieve the value of the constant depending on the class passed in - i.e. I want to do something like the following:\r\n\r\n    public void indexRootNode(Node node, Class rootNodeClass)\r\n    {\r\n        indexService.index(node, rootNodeClass.getConstant(&#39;ID&#39;), \r\n            rootNodeClass.getConstant(&#39;ROOT&#39;));\r\n    }\r\n\r\nIn PHP this is easy, but is this possible in Java? I&#39;ve seen this problem solved using accessors on the constant, but I want to retrieve the constant directly. Annotations won&#39;t help me here either.\r\n\r\nThanks","title":"How to dynamically retrieve a constant in java?","body":"<p>I have several interfaces all with the same constants - ID and ROOT. I also have a method into which I pass an object that will be an implementation of one of these interfaces.</p>\n\n<p>How can I dynamically retrieve the value of the constant depending on the class passed in - i.e. I want to do something like the following:</p>\n\n<pre><code>public void indexRootNode(Node node, Class rootNodeClass)\n{\n    indexService.index(node, rootNodeClass.getConstant('ID'), \n        rootNodeClass.getConstant('ROOT'));\n}\n</code></pre>\n\n<p>In PHP this is easy, but is this possible in Java? I've seen this problem solved using accessors on the constant, but I want to retrieve the constant directly. Annotations won't help me here either.</p>\n\n<p>Thanks</p>\n"},{"tags":["java","kotlin","graphql"],"comments":[{"owner":{"account_id":11312519,"reputation":3618,"user_id":8295283,"accept_rate":100,"display_name":"Arnold Schrijver"},"score":0,"creation_date":1530776900,"post_id":51185242,"comment_id":89353726,"body_markdown":"I am not into Kotlin, but as I read it, this is a known problem in Kotlin that is not solved yet: [KT-24822](https://youtrack.jetbrains.com/issue/KT-24822) (and others)","body":"I am not into Kotlin, but as I read it, this is a known problem in Kotlin that is not solved yet: <a href=\"https://youtrack.jetbrains.com/issue/KT-24822\" rel=\"nofollow noreferrer\">KT-24822</a> (and others)"},{"owner":{"account_id":8297156,"reputation":4423,"user_id":6237026,"accept_rate":57,"display_name":"Dina Bogdan"},"score":0,"creation_date":1530777861,"post_id":51185242,"comment_id":89354326,"body_markdown":"Yeah, I understand that problem, but my question was about another fact: why I need to override the getMessage() method in Kotlin, but not in Java.","body":"Yeah, I understand that problem, but my question was about another fact: why I need to override the getMessage() method in Kotlin, but not in Java."}],"answers":[{"tags":[],"owner":{"account_id":10975531,"reputation":1408,"user_id":8064335,"display_name":"tompee"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1530778707,"creation_date":1530777300,"answer_id":51186032,"question_id":51185242,"body_markdown":"It seems overriding a property accessor with a function is not yet seemlessly supported. It is currently a bug as per your link. This can be easily verified by a simple example like this one:\r\n\r\n    class Sample(val message : String) {\r\n        fun getMessage() :String = &quot;MyString&quot;\r\n    }\r\n\r\nThis happens because the property `message` (in your case, the message from `Throwable`) and the `getMessage` function (in your case, the `getMessage` from GraphQL) converts to the same JVM signature. It seems to me that the current status quo is that property accessors are not treated as individual members so they cannot be overriden by member functions or even implement abstract functions. I am not sure why that is the case though.","title":"RuntimeException and GraphQLError in Kotlin and Java","body":"<p>It seems overriding a property accessor with a function is not yet seemlessly supported. It is currently a bug as per your link. This can be easily verified by a simple example like this one:</p>\n\n<pre><code>class Sample(val message : String) {\n    fun getMessage() :String = \"MyString\"\n}\n</code></pre>\n\n<p>This happens because the property <code>message</code> (in your case, the message from <code>Throwable</code>) and the <code>getMessage</code> function (in your case, the <code>getMessage</code> from GraphQL) converts to the same JVM signature. It seems to me that the current status quo is that property accessors are not treated as individual members so they cannot be overriden by member functions or even implement abstract functions. I am not sure why that is the case though.</p>\n"},{"tags":[],"owner":{"account_id":18392538,"reputation":31,"user_id":13397877,"display_name":"Kisschr"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1587723511,"creation_date":1587723511,"answer_id":61406095,"question_id":51185242,"body_markdown":"Annotate message with @JvmField like:\r\n\r\n    class MyError(@JvmField override val message: String?, private val invalidField: String? = null) : RuntimeException(message), GraphQLError {\r\n    \r\n        override fun getMessage(): String = super.message ?: &quot;no error message set&quot;\r\n    \r\n        override fun getLocations(): List&lt;SourceLocation&gt; = emptyList()\r\n    \r\n        override fun getErrorType(): ErrorType = ErrorType.DataFetchingException\r\n    \r\n        override fun getExtensions(): Map&lt;String, Any&gt; = if(invalidField!=null)\r\n            Collections.singletonMap&lt;String, Any&gt;(&quot;invalidField&quot;, invalidField)\r\n        else\r\n            Collections.emptyMap()\r\n    }","title":"RuntimeException and GraphQLError in Kotlin and Java","body":"<p>Annotate message with @JvmField like:</p>\n\n<pre><code>class MyError(@JvmField override val message: String?, private val invalidField: String? = null) : RuntimeException(message), GraphQLError {\n\n    override fun getMessage(): String = super.message ?: \"no error message set\"\n\n    override fun getLocations(): List&lt;SourceLocation&gt; = emptyList()\n\n    override fun getErrorType(): ErrorType = ErrorType.DataFetchingException\n\n    override fun getExtensions(): Map&lt;String, Any&gt; = if(invalidField!=null)\n        Collections.singletonMap&lt;String, Any&gt;(\"invalidField\", invalidField)\n    else\n        Collections.emptyMap()\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15599130,"reputation":455,"user_id":11253709,"display_name":"mixnix"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673194936,"creation_date":1673194936,"answer_id":75049416,"question_id":51185242,"body_markdown":"@Kisschr answer doesn&#39;t work anymore.\r\nYou have to add another annotation beside @JvmField so your code will look like this:\r\n```\r\nclass MyError(\r\n    @JvmField \r\n    @Suppress(&quot;INAPPLICABLE_JVM_FIELD&quot;)\r\n    override val message: String?, \r\n    private val invalidField: String? = null\r\n) : RuntimeException(message), GraphQLError {\r\n\r\n    override fun getMessage(): String = super.message ?: &quot;no error message set&quot;\r\n\r\n    override fun getLocations(): List&lt;SourceLocation&gt; = emptyList()\r\n\r\n    override fun getErrorType(): ErrorType = ErrorType.DataFetchingException\r\n\r\n    override fun getExtensions(): Map&lt;String, Any&gt; = if(invalidField!=null)\r\n        Collections.singletonMap&lt;String, Any&gt;(&quot;invalidField&quot;, invalidField)\r\n    else\r\n        Collections.emptyMap()\r\n}\r\n```\r\nThis bug is caused by known Kotlin [issue][1], kotlin property doesn&#39;t override RuntimeException getter for message. So you have to tell kotlin not to generate getter for this property.\r\n\r\n\r\n  [1]: https://youtrack.jetbrains.com/issue/KT-24822","title":"RuntimeException and GraphQLError in Kotlin and Java","body":"<p>@Kisschr answer doesn't work anymore.\nYou have to add another annotation beside @JvmField so your code will look like this:</p>\n<pre><code>class MyError(\n    @JvmField \n    @Suppress(&quot;INAPPLICABLE_JVM_FIELD&quot;)\n    override val message: String?, \n    private val invalidField: String? = null\n) : RuntimeException(message), GraphQLError {\n\n    override fun getMessage(): String = super.message ?: &quot;no error message set&quot;\n\n    override fun getLocations(): List&lt;SourceLocation&gt; = emptyList()\n\n    override fun getErrorType(): ErrorType = ErrorType.DataFetchingException\n\n    override fun getExtensions(): Map&lt;String, Any&gt; = if(invalidField!=null)\n        Collections.singletonMap&lt;String, Any&gt;(&quot;invalidField&quot;, invalidField)\n    else\n        Collections.emptyMap()\n}\n</code></pre>\n<p>This bug is caused by known Kotlin <a href=\"https://youtrack.jetbrains.com/issue/KT-24822\" rel=\"nofollow noreferrer\">issue</a>, kotlin property doesn't override RuntimeException getter for message. So you have to tell kotlin not to generate getter for this property.</p>\n"}],"owner":{"account_id":8297156,"reputation":4423,"user_id":6237026,"accept_rate":57,"display_name":"Dina Bogdan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":745,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1673194936,"creation_date":1530774487,"question_id":51185242,"body_markdown":"I try to develop a REST API with GraphQL and Kotlin and I&#39;m facing the following problem: I try to create a custom Exception that extends RuntimeException and implements GraphQLError and in Kotlin I can not do this because I&#39;m receiveing this: [Accidental override when using third party Java interface and extending RuntimeException in kotlin](https://discuss.kotlinlang.org/t/accidental-override-when-using-third-party-java-interface-and-extending-runtimeexception-in-kotlin/7658).\r\n\r\nI resolve this problem with an workaround by creating a Java class for my CustomException.\r\n\r\nBut I don&#39;t know why, when I create a kotlin class that extends `RuntimeException` and implements `GraphQLError`, I need to override the `getMessage()` method from GraphQLError, but when I create a java class that extends RuntimeException and implements GraphQLError I don&#39;t need to override the `getMessage()` method from GraphQLError.\r\n\r\nThank you!","title":"RuntimeException and GraphQLError in Kotlin and Java","body":"<p>I try to develop a REST API with GraphQL and Kotlin and I'm facing the following problem: I try to create a custom Exception that extends RuntimeException and implements GraphQLError and in Kotlin I can not do this because I'm receiveing this: <a href=\"https://discuss.kotlinlang.org/t/accidental-override-when-using-third-party-java-interface-and-extending-runtimeexception-in-kotlin/7658\" rel=\"nofollow noreferrer\">Accidental override when using third party Java interface and extending RuntimeException in kotlin</a>.</p>\n\n<p>I resolve this problem with an workaround by creating a Java class for my CustomException.</p>\n\n<p>But I don't know why, when I create a kotlin class that extends <code>RuntimeException</code> and implements <code>GraphQLError</code>, I need to override the <code>getMessage()</code> method from GraphQLError, but when I create a java class that extends RuntimeException and implements GraphQLError I don't need to override the <code>getMessage()</code> method from GraphQLError.</p>\n\n<p>Thank you!</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673193689,"creation_date":1673166318,"answer_id":75046396,"question_id":75043369,"body_markdown":"You&#39;re getting the following error:\r\n\r\n&gt; com.google.firebase.database.DatabaseException: Can&#39;t convert object of type java.lang.String to type com.example.newp.Fly\r\n\r\nBecause when you&#39;re creating a reference that points to `db/FLY/-NJzbEcGdb8_fvLxWFJk` and you&#39;re looping through the results, you aren&#39;t getting `Fly` objects but strings, hence the error. If you want to get all objects that exist under the `FLY` node and add them to a list, then you have to remove the call to `.child(&quot;-NJzbEcGdb8_fvLxWFJk&quot;)`. So your reference should look like this:\r\n\r\n    DatabaseReference ref = FirebaseDatabase.getInstance().getReference().child(&quot;FLY&quot;);\r\n    ref.addValueEventListener(/* ... /*);\r\n\r\n**Edit:**\r\n\r\n    DatabaseReference ref = FirebaseDatabase.getInstance().getReference().child(&quot;FLY&quot;);\r\n    ref.addValueEventListener(new ValueEventListener() {\r\n        @Override\r\n        public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\r\n            for (DataSnapshot dataSnapshot1: dataSnapshot.getChildren()) {\r\n                String nameFly = dataSnapshot1.child(&quot;nameFly&quot;).getValue(String.class);\r\n                Log.d(TAG, nameFly);\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public void onCancelled(@NonNull DatabaseError error) {\r\n            Log.d(&quot;TAG&quot;, error.getMessage()); //Never ignore potential errors!\r\n        }\r\n    });","title":"search in android studio with firebase","body":"<p>You're getting the following error:</p>\n<blockquote>\n<p>com.google.firebase.database.DatabaseException: Can't convert object of type java.lang.String to type com.example.newp.Fly</p>\n</blockquote>\n<p>Because when you're creating a reference that points to <code>db/FLY/-NJzbEcGdb8_fvLxWFJk</code> and you're looping through the results, you aren't getting <code>Fly</code> objects but strings, hence the error. If you want to get all objects that exist under the <code>FLY</code> node and add them to a list, then you have to remove the call to <code>.child(&quot;-NJzbEcGdb8_fvLxWFJk&quot;)</code>. So your reference should look like this:</p>\n<pre><code>DatabaseReference ref = FirebaseDatabase.getInstance().getReference().child(&quot;FLY&quot;);\nref.addValueEventListener(/* ... /*);\n</code></pre>\n<p><strong>Edit:</strong></p>\n<pre><code>DatabaseReference ref = FirebaseDatabase.getInstance().getReference().child(&quot;FLY&quot;);\nref.addValueEventListener(new ValueEventListener() {\n    @Override\n    public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\n        for (DataSnapshot dataSnapshot1: dataSnapshot.getChildren()) {\n            String nameFly = dataSnapshot1.child(&quot;nameFly&quot;).getValue(String.class);\n            Log.d(TAG, nameFly);\n        }\n    }\n\n    @Override\n    public void onCancelled(@NonNull DatabaseError error) {\n        Log.d(&quot;TAG&quot;, error.getMessage()); //Never ignore potential errors!\n    }\n});\n</code></pre>\n"}],"owner":{"account_id":15395599,"reputation":15,"user_id":17826655,"display_name":"derey yovel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673194440,"creation_date":1673121356,"question_id":75043369,"body_markdown":"I&#39;m trying to search for that specific entry but I&#39;m getting an error\r\nIt is important to note that the code of the RecylerView is correct and indeed displays elements only in the search I get an error and I don&#39;t know where:\r\n\r\n\r\n            recyclerView= findViewById(R.id.recycleview);\r\n            getmRootFLY = FirebaseDatabase.getInstance().getReference(&quot;FLY&quot;);\r\n            list = new ArrayList&lt;&gt;();\r\n            arrayList = new ArrayList&lt;&gt;();\r\n            recyclerView.setLayoutManager(new LinearLayoutManager(this));\r\n            myAdapter = new MyAdapter(this,list);\r\n            recyclerView.setAdapter(myAdapter);\r\n            getmRootFLY.addValueEventListener(new ValueEventListener() {\r\n                @Override\r\n                public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                    for (DataSnapshot dataSnapshot: snapshot.getChildren())\r\n                    {\r\n                        Fly fly = dataSnapshot.getValue(Fly.class);\r\n                        list.add(fly);\r\n                    }\r\n                    myAdapter.notifyDataSetChanged();\r\n                }\r\n                @Override\r\n                public void onCancelled(@NonNull DatabaseError error) {\r\n    \r\n                }\r\n            });\r\n    \r\n    \\\\search func.................................\r\n    \r\n                    DatabaseReference ref = FirebaseDatabase.getInstance().getReference().child(&quot;FLY&quot;).child(&quot;-NJzbEcGdb8_fvLxWFJk&quot;);\r\n                    ref.addValueEventListener(new ValueEventListener() {\r\n                        @Override\r\n                        public void onDataChange(@NonNull DataSnapshot dataSnapshot)\r\n                        {\r\n                                list.clear();\r\n                                for (DataSnapshot dataSnapshot1: dataSnapshot.getChildren())\r\n                                {\r\n                                    Fly fly = dataSnapshot1.getValue(Fly.class);\r\n                                    list.add(fly);\r\n                                }\r\n                                myAdapter.notifyDataSetChanged();\r\n                                \r\n                        }\r\n    \r\n                        @Override\r\n                        public void onCancelled(@NonNull DatabaseError error) {\r\n    \r\n                        }\r\n                    });\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n\r\n    //worng in console..............................\r\n     com.google.firebase.database.DatabaseException: Can&#39;t convert object of type java.lang.String to type com.example.newp.Fly\r\n            at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.convertBean(CustomClassMapper.java:436)\r\n            at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.deserializeToClass(CustomClassMapper.java:232)\r\n            at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.convertToCustomClass(CustomClassMapper.java:80)\r\n            at com.google.firebase.database.DataSnapshot.getValue(DataSnapshot.java:203)\r\n            at com.example.newp.MainActivity$4$1.onDataChange(MainActivity.java:150)\r\n            at com.google.firebase.database.core.ValueEventRegistration.fireEvent(ValueEventRegistration.java:75)\r\n            at com.google.firebase.database.core.view.DataEvent.fire(DataEvent.java:63)\r\n            at com.google.firebase.database.core.view.EventRaiser$1.run(EventRaiser.java:55)\r\n            at android.os.Handler.handleCallback(Handler.java:942)\r\n            at android.os.Handler.dispatchMessage(Handler.java:99)\r\n            at android.os.Looper.loopOnce(Looper.java:201)\r\n            at android.os.Looper.loop(Looper.java:288)\r\n            at android.app.ActivityThread.main(ActivityThread.java:7872)\r\n            at java.lang.reflect.Method.invoke(Native Method)\r\n            at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)\r\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:936)\r\n\r\n[![fire base][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/t6lav.png","title":"search in android studio with firebase","body":"<p>I'm trying to search for that specific entry but I'm getting an error\nIt is important to note that the code of the RecylerView is correct and indeed displays elements only in the search I get an error and I don't know where:</p>\n<pre><code>        recyclerView= findViewById(R.id.recycleview);\n        getmRootFLY = FirebaseDatabase.getInstance().getReference(&quot;FLY&quot;);\n        list = new ArrayList&lt;&gt;();\n        arrayList = new ArrayList&lt;&gt;();\n        recyclerView.setLayoutManager(new LinearLayoutManager(this));\n        myAdapter = new MyAdapter(this,list);\n        recyclerView.setAdapter(myAdapter);\n        getmRootFLY.addValueEventListener(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\n                for (DataSnapshot dataSnapshot: snapshot.getChildren())\n                {\n                    Fly fly = dataSnapshot.getValue(Fly.class);\n                    list.add(fly);\n                }\n                myAdapter.notifyDataSetChanged();\n            }\n            @Override\n            public void onCancelled(@NonNull DatabaseError error) {\n\n            }\n        });\n\n\\\\search func.................................\n\n                DatabaseReference ref = FirebaseDatabase.getInstance().getReference().child(&quot;FLY&quot;).child(&quot;-NJzbEcGdb8_fvLxWFJk&quot;);\n                ref.addValueEventListener(new ValueEventListener() {\n                    @Override\n                    public void onDataChange(@NonNull DataSnapshot dataSnapshot)\n                    {\n                            list.clear();\n                            for (DataSnapshot dataSnapshot1: dataSnapshot.getChildren())\n                            {\n                                Fly fly = dataSnapshot1.getValue(Fly.class);\n                                list.add(fly);\n                            }\n                            myAdapter.notifyDataSetChanged();\n                            \n                    }\n\n                    @Override\n                    public void onCancelled(@NonNull DatabaseError error) {\n\n                    }\n                });\n            }\n        });\n    }\n}\n\n\n//worng in console..............................\n com.google.firebase.database.DatabaseException: Can't convert object of type java.lang.String to type com.example.newp.Fly\n        at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.convertBean(CustomClassMapper.java:436)\n        at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.deserializeToClass(CustomClassMapper.java:232)\n        at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.convertToCustomClass(CustomClassMapper.java:80)\n        at com.google.firebase.database.DataSnapshot.getValue(DataSnapshot.java:203)\n        at com.example.newp.MainActivity$4$1.onDataChange(MainActivity.java:150)\n        at com.google.firebase.database.core.ValueEventRegistration.fireEvent(ValueEventRegistration.java:75)\n        at com.google.firebase.database.core.view.DataEvent.fire(DataEvent.java:63)\n        at com.google.firebase.database.core.view.EventRaiser$1.run(EventRaiser.java:55)\n        at android.os.Handler.handleCallback(Handler.java:942)\n        at android.os.Handler.dispatchMessage(Handler.java:99)\n        at android.os.Looper.loopOnce(Looper.java:201)\n        at android.os.Looper.loop(Looper.java:288)\n        at android.app.ActivityThread.main(ActivityThread.java:7872)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:936)\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/t6lav.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/t6lav.png\" alt=\"fire base\" /></a></p>\n"},{"tags":["java","amazon-s3","aws-sdk"],"comments":[{"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":0,"creation_date":1673195615,"post_id":75049342,"comment_id":132438949,"body_markdown":"You do not need `s3.close()` in your code.\nIn [these examples](https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/examples-s3-buckets.html), the client has been closed only in the case when the bucket has been deleted. Check the [documentation](https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/services/s3/S3Client.html) to learn more about it.","body":"You do not need <code>s3.close()</code> in your code. In <a href=\"https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/examples-s3-buckets.html\" rel=\"nofollow noreferrer\">these examples</a>, the client has been closed only in the case when the bucket has been deleted. Check the <a href=\"https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/services/s3/S3Client.html\" rel=\"nofollow noreferrer\">documentation</a> to learn more about it."},{"owner":{"account_id":7473334,"reputation":1161,"user_id":5680504,"accept_rate":98,"display_name":"sclee1"},"score":0,"creation_date":1673195958,"post_id":75049342,"comment_id":132439029,"body_markdown":"I didn&#39;t understand. First code has `close` method while the second code does not have it. I questioned why these two have differnece.","body":"I didn&#39;t understand. First code has <code>close</code> method while the second code does not have it. I questioned why these two have differnece."},{"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":0,"creation_date":1673196021,"post_id":75049342,"comment_id":132439037,"body_markdown":"That&#39;s what I have mentioned. The `close` method call is not required in the first code. It&#39;s not doing any harm but it&#39;s not required.","body":"That&#39;s what I have mentioned. The <code>close</code> method call is not required in the first code. It&#39;s not doing any harm but it&#39;s not required."},{"owner":{"account_id":7473334,"reputation":1161,"user_id":5680504,"accept_rate":98,"display_name":"sclee1"},"score":0,"creation_date":1673196115,"post_id":75049342,"comment_id":132439068,"body_markdown":"Thanks. But in the code &lt;https://github.com/awsdocs/aws-doc-sdk-examples/blob/main/javav2/example_code/s3/src/main/java/com/example/s3/GetObjectData.java&gt; which is official aws sdk reference, you can see the s3 client&#39;s close in the code.","body":"Thanks. But in the code &lt;<a href=\"https://github.com/awsdocs/aws-doc-sdk-examples/blob/main/javav2/example_code/s3/src/main/java/com/example/s3/GetObjectData.java\" rel=\"nofollow noreferrer\">github.com/awsdocs/aws-doc-sdk-examples/blob/main/javav2/&hellip;</a>&gt; which is official aws sdk reference, you can see the s3 client&#39;s close in the code."},{"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":0,"creation_date":1673433427,"post_id":75049342,"comment_id":132496308,"body_markdown":"I have corrected it on [github](https://github.com/awsdocs/aws-doc-sdk-examples/pull/4203/commits/7e36a869adad8369d9dafe9deeef8fe5e68df48d). I hope it helps.","body":"I have corrected it on <a href=\"https://github.com/awsdocs/aws-doc-sdk-examples/pull/4203/commits/7e36a869adad8369d9dafe9deeef8fe5e68df48d\" rel=\"nofollow noreferrer\">github</a>. I hope it helps."}],"owner":{"account_id":7473334,"reputation":1161,"user_id":5680504,"accept_rate":98,"display_name":"sclee1"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":331,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673194313,"creation_date":1673194313,"question_id":75049342,"body_markdown":"Below is official aws sdk source regarding getting s3 object.\r\n\r\n&lt;https://github.com/awsdocs/aws-doc-sdk-examples/blob/main/javav2/example_code/s3/src/main/java/com/example/s3/GetObjectData.java&gt;\r\n\r\n    public class GetObjectData {\r\n\r\n    public static void main(String[] args) {\r\n        String bucketName = args[0];\r\n        String keyName = args[1];\r\n        String path = args[2];\r\n\r\n        ProfileCredentialsProvider credentialsProvider = ProfileCredentialsProvider.create();\r\n        Region region = Region.US_EAST_1;\r\n        S3Client s3 = S3Client.builder()\r\n            .region(region)\r\n            .credentialsProvider(credentialsProvider)\r\n            .build();\r\n\r\n        getObjectBytes(s3,bucketName,keyName, path);\r\n        s3.close();\r\n    }\r\n\r\n    // snippet-start:[s3.java2.getobjectdata.main]\r\n    public static void getObjectBytes (S3Client s3, String bucketName, String keyName, String path) {\r\n\r\n        try {\r\n            GetObjectRequest objectRequest = GetObjectRequest\r\n                .builder()\r\n                .key(keyName)\r\n                .bucket(bucketName)\r\n                .build();\r\n\r\n            ResponseBytes&lt;GetObjectResponse&gt; objectBytes = s3.getObjectAsBytes(objectRequest);\r\n            byte[] data = objectBytes.asByteArray();\r\n\r\n            // Write the data to a local file.\r\n            File myFile = new File(path );\r\n            OutputStream os = new FileOutputStream(myFile);\r\n            os.write(data);\r\n            System.out.println(&quot;Successfully obtained bytes from an S3 object&quot;);\r\n            os.close();\r\n\r\n        } catch (IOException ex) {\r\n            ex.printStackTrace();\r\n        } catch (S3Exception e) {\r\n            System.err.println(e.awsErrorDetails().errorMessage());\r\n            System.exit(1);\r\n        }\r\n    }\r\n    // snippet-end:[s3.java2.getobjectdata.main]\r\n    }\r\n\r\nAs you can see, there is `s3.close` in the middle of the code block.\r\n\r\nHowever, I have the second code which does not close the `s3 client` in the official aws sdk as below.\r\n\r\nthe code below can be seen in the link here &lt;https://docs.aws.amazon.com/AmazonS3/latest/userguide/download-objects.htm&gt;\r\n\r\n    public class GetObject2 {\r\n    \r\n        public static void main(String[] args) throws IOException {\r\n            Regions clientRegion = Regions.DEFAULT_REGION;\r\n            String bucketName = &quot;*** Bucket name ***&quot;;\r\n            String key = &quot;*** Object key ***&quot;;\r\n    \r\n            S3Object fullObject = null, objectPortion = null, headerOverrideObject = null;\r\n            try {\r\n                AmazonS3 s3Client = AmazonS3ClientBuilder.standard()\r\n                        .withRegion(clientRegion)\r\n                        .withCredentials(new ProfileCredentialsProvider())\r\n                        .build();\r\n    \r\n                // Get an object and print its contents.\r\n                System.out.println(&quot;Downloading an object&quot;);\r\n                fullObject = s3Client.getObject(new GetObjectRequest(bucketName, key));\r\n                System.out.println(&quot;Content-Type: &quot; + fullObject.getObjectMetadata().getContentType());\r\n                System.out.println(&quot;Content: &quot;);\r\n                displayTextInputStream(fullObject.getObjectContent());\r\n    \r\n                // Get a range of bytes from an object and print the bytes.\r\n                GetObjectRequest rangeObjectRequest = new GetObjectRequest(bucketName, key)\r\n                        .withRange(0, 9);\r\n                objectPortion = s3Client.getObject(rangeObjectRequest);\r\n                System.out.println(&quot;Printing bytes retrieved.&quot;);\r\n                displayTextInputStream(objectPortion.getObjectContent());\r\n    \r\n                // Get an entire object, overriding the specified response headers, and print the object&#39;s content.\r\n                ResponseHeaderOverrides headerOverrides = new ResponseHeaderOverrides()\r\n                        .withCacheControl(&quot;No-cache&quot;)\r\n                        .withContentDisposition(&quot;attachment; filename=example.txt&quot;);\r\n                GetObjectRequest getObjectRequestHeaderOverride = new GetObjectRequest(bucketName, key)\r\n                        .withResponseHeaders(headerOverrides);\r\n                headerOverrideObject = s3Client.getObject(getObjectRequestHeaderOverride);\r\n                displayTextInputStream(headerOverrideObject.getObjectContent());\r\n            } catch (AmazonServiceException e) {\r\n                // The call was transmitted successfully, but Amazon S3 couldn&#39;t process \r\n                // it, so it returned an error response.\r\n                e.printStackTrace();\r\n            } catch (SdkClientException e) {\r\n                // Amazon S3 couldn&#39;t be contacted for a response, or the client\r\n                // couldn&#39;t parse the response from Amazon S3.\r\n                e.printStackTrace();\r\n            } finally {\r\n                // To ensure that the network connection doesn&#39;t remain open, close any open input streams.\r\n                if (fullObject != null) {\r\n                    fullObject.close();\r\n                }\r\n                if (objectPortion != null) {\r\n                    objectPortion.close();\r\n                }\r\n                if (headerOverrideObject != null) {\r\n                    headerOverrideObject.close();\r\n                }\r\n            }\r\n        }\r\n    \r\n        private static void displayTextInputStream(InputStream input) throws IOException {\r\n            // Read the text input stream one line at a time and display each line.\r\n            BufferedReader reader = new BufferedReader(new InputStreamReader(input));\r\n            String line = null;\r\n            while ((line = reader.readLine()) != null) {\r\n                System.out.println(line);\r\n            }\r\n            System.out.println();\r\n        }\r\n    }\r\n\r\n\r\nThe code above you can see that there is no close for `AmazonS3` client.\r\nIt is created by the `AwsClientBuilder`. \r\n\r\nSo.  when you creat the aws s3 client by `AwsClientBuilder` then it is no needed for close? why is it?\r\n\r\nThanks.","title":"Difference between S3Client and AmazonS3Client","body":"<p>Below is official aws sdk source regarding getting s3 object.</p>\n<p><a href=\"https://github.com/awsdocs/aws-doc-sdk-examples/blob/main/javav2/example_code/s3/src/main/java/com/example/s3/GetObjectData.java\" rel=\"nofollow noreferrer\">https://github.com/awsdocs/aws-doc-sdk-examples/blob/main/javav2/example_code/s3/src/main/java/com/example/s3/GetObjectData.java</a></p>\n<pre><code>public class GetObjectData {\n\npublic static void main(String[] args) {\n    String bucketName = args[0];\n    String keyName = args[1];\n    String path = args[2];\n\n    ProfileCredentialsProvider credentialsProvider = ProfileCredentialsProvider.create();\n    Region region = Region.US_EAST_1;\n    S3Client s3 = S3Client.builder()\n        .region(region)\n        .credentialsProvider(credentialsProvider)\n        .build();\n\n    getObjectBytes(s3,bucketName,keyName, path);\n    s3.close();\n}\n\n// snippet-start:[s3.java2.getobjectdata.main]\npublic static void getObjectBytes (S3Client s3, String bucketName, String keyName, String path) {\n\n    try {\n        GetObjectRequest objectRequest = GetObjectRequest\n            .builder()\n            .key(keyName)\n            .bucket(bucketName)\n            .build();\n\n        ResponseBytes&lt;GetObjectResponse&gt; objectBytes = s3.getObjectAsBytes(objectRequest);\n        byte[] data = objectBytes.asByteArray();\n\n        // Write the data to a local file.\n        File myFile = new File(path );\n        OutputStream os = new FileOutputStream(myFile);\n        os.write(data);\n        System.out.println(&quot;Successfully obtained bytes from an S3 object&quot;);\n        os.close();\n\n    } catch (IOException ex) {\n        ex.printStackTrace();\n    } catch (S3Exception e) {\n        System.err.println(e.awsErrorDetails().errorMessage());\n        System.exit(1);\n    }\n}\n// snippet-end:[s3.java2.getobjectdata.main]\n}\n</code></pre>\n<p>As you can see, there is <code>s3.close</code> in the middle of the code block.</p>\n<p>However, I have the second code which does not close the <code>s3 client</code> in the official aws sdk as below.</p>\n<p>the code below can be seen in the link here <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/userguide/download-objects.htm\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/AmazonS3/latest/userguide/download-objects.htm</a></p>\n<pre><code>public class GetObject2 {\n\n    public static void main(String[] args) throws IOException {\n        Regions clientRegion = Regions.DEFAULT_REGION;\n        String bucketName = &quot;*** Bucket name ***&quot;;\n        String key = &quot;*** Object key ***&quot;;\n\n        S3Object fullObject = null, objectPortion = null, headerOverrideObject = null;\n        try {\n            AmazonS3 s3Client = AmazonS3ClientBuilder.standard()\n                    .withRegion(clientRegion)\n                    .withCredentials(new ProfileCredentialsProvider())\n                    .build();\n\n            // Get an object and print its contents.\n            System.out.println(&quot;Downloading an object&quot;);\n            fullObject = s3Client.getObject(new GetObjectRequest(bucketName, key));\n            System.out.println(&quot;Content-Type: &quot; + fullObject.getObjectMetadata().getContentType());\n            System.out.println(&quot;Content: &quot;);\n            displayTextInputStream(fullObject.getObjectContent());\n\n            // Get a range of bytes from an object and print the bytes.\n            GetObjectRequest rangeObjectRequest = new GetObjectRequest(bucketName, key)\n                    .withRange(0, 9);\n            objectPortion = s3Client.getObject(rangeObjectRequest);\n            System.out.println(&quot;Printing bytes retrieved.&quot;);\n            displayTextInputStream(objectPortion.getObjectContent());\n\n            // Get an entire object, overriding the specified response headers, and print the object's content.\n            ResponseHeaderOverrides headerOverrides = new ResponseHeaderOverrides()\n                    .withCacheControl(&quot;No-cache&quot;)\n                    .withContentDisposition(&quot;attachment; filename=example.txt&quot;);\n            GetObjectRequest getObjectRequestHeaderOverride = new GetObjectRequest(bucketName, key)\n                    .withResponseHeaders(headerOverrides);\n            headerOverrideObject = s3Client.getObject(getObjectRequestHeaderOverride);\n            displayTextInputStream(headerOverrideObject.getObjectContent());\n        } catch (AmazonServiceException e) {\n            // The call was transmitted successfully, but Amazon S3 couldn't process \n            // it, so it returned an error response.\n            e.printStackTrace();\n        } catch (SdkClientException e) {\n            // Amazon S3 couldn't be contacted for a response, or the client\n            // couldn't parse the response from Amazon S3.\n            e.printStackTrace();\n        } finally {\n            // To ensure that the network connection doesn't remain open, close any open input streams.\n            if (fullObject != null) {\n                fullObject.close();\n            }\n            if (objectPortion != null) {\n                objectPortion.close();\n            }\n            if (headerOverrideObject != null) {\n                headerOverrideObject.close();\n            }\n        }\n    }\n\n    private static void displayTextInputStream(InputStream input) throws IOException {\n        // Read the text input stream one line at a time and display each line.\n        BufferedReader reader = new BufferedReader(new InputStreamReader(input));\n        String line = null;\n        while ((line = reader.readLine()) != null) {\n            System.out.println(line);\n        }\n        System.out.println();\n    }\n}\n</code></pre>\n<p>The code above you can see that there is no close for <code>AmazonS3</code> client.\nIt is created by the <code>AwsClientBuilder</code>.</p>\n<p>So.  when you creat the aws s3 client by <code>AwsClientBuilder</code> then it is no needed for close? why is it?</p>\n<p>Thanks.</p>\n"},{"tags":["java","selenium","appium"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":2,"creation_date":1673186331,"post_id":75048308,"comment_id":132436939,"body_markdown":"*NodeJS is either not installed or its executable not present in PATH* have you checked it?","body":"<i>NodeJS is either not installed or its executable not present in PATH</i> have you checked it?"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1673186370,"post_id":75048308,"comment_id":132436950,"body_markdown":"BTW: add the console output as  text not as image","body":"BTW: add the console output as  text not as image"},{"owner":{"account_id":27468740,"reputation":1,"user_id":20958040,"display_name":"Tark KILI&#199;KAYA"},"score":0,"creation_date":1673188494,"post_id":75048308,"comment_id":132437424,"body_markdown":"@Jens Sorry for the late reply. Like I said, I&#39;m new to this site.\nI installed Node.js and set the path too, but I&#39;m getting the same error.","body":"@Jens Sorry for the late reply. Like I said, I&#39;m new to this site. I installed Node.js and set the path too, but I&#39;m getting the same error."},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1673188620,"post_id":75048308,"comment_id":132437452,"body_markdown":"Have you restarted  atleast your console after setting the path?","body":"Have you restarted  atleast your console after setting the path?"},{"owner":{"account_id":27468740,"reputation":1,"user_id":20958040,"display_name":"Tark KILI&#199;KAYA"},"score":0,"creation_date":1673188723,"post_id":75048308,"comment_id":132437479,"body_markdown":"Yes, I even restarted the computer.","body":"Yes, I even restarted the computer."},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1673188793,"post_id":75048308,"comment_id":132437498,"body_markdown":"what is heppening if you call nodejs from your console?","body":"what is heppening if you call nodejs from your console?"},{"owner":{"account_id":27468740,"reputation":1,"user_id":20958040,"display_name":"Tark KILI&#199;KAYA"},"score":0,"creation_date":1673189033,"post_id":75048308,"comment_id":132437554,"body_markdown":"I&#39;m sorry, I don&#39;t quite understand the question, but by this you mean [link](https://i.hizliresim.com/t5hr8nt.png)","body":"I&#39;m sorry, I don&#39;t quite understand the question, but by this you mean <a href=\"https://i.hizliresim.com/t5hr8nt.png\" rel=\"nofollow noreferrer\">link</a>"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1673190317,"post_id":75048308,"comment_id":132437814,"body_markdown":"Yes and you are sure it is exactly the same exception?","body":"Yes and you are sure it is exactly the same exception?"},{"owner":{"account_id":27468740,"reputation":1,"user_id":20958040,"display_name":"Tark KILI&#199;KAYA"},"score":0,"creation_date":1673190547,"post_id":75048308,"comment_id":132437865,"body_markdown":"Yes, same exception. I can also post the console message here: [link](https://i.hizliresim.com/7mss3x2.png)","body":"Yes, same exception. I can also post the console message here: <a href=\"https://i.hizliresim.com/7mss3x2.png\" rel=\"nofollow noreferrer\">link</a>"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1673190574,"post_id":75048308,"comment_id":132437871,"body_markdown":"I need the end of the stacktrace","body":"I need the end of the stacktrace"},{"owner":{"account_id":27468740,"reputation":1,"user_id":20958040,"display_name":"Tark KILI&#199;KAYA"},"score":0,"creation_date":1673191226,"post_id":75048308,"comment_id":132438004,"body_markdown":"I added the entire console as an answer","body":"I added the entire console as an answer"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1673193798,"post_id":75048308,"comment_id":132438555,"body_markdown":"*The main Appium script does not exist at &#39;C:\\Users\\Tarik\\AppData\\Roaming\\npm\\node_modules\\appium\\build\\lib\\main.js&#39;* it  is an other execption. looks like a problem with your configuration","body":"<i>The main Appium script does not exist at &#39;C:\\Users\\Tarik\\AppData\\Roaming\\npm\\node_modules\\appium\\buil&zwnj;&#8203;d\\lib\\main.js&#39;</i> it  is an other execption. looks like a problem with your configuration"},{"owner":{"account_id":27468740,"reputation":1,"user_id":20958040,"display_name":"Tark KILI&#199;KAYA"},"score":0,"creation_date":1673194525,"post_id":75048308,"comment_id":132438717,"body_markdown":"So how can I solve it? Because I really don&#39;t know.","body":"So how can I solve it? Because I really don&#39;t know."},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1673201980,"post_id":75048308,"comment_id":132440332,"body_markdown":"Maybe [this](https://github.com/appium/appium/issues/12979) helps","body":"Maybe <a href=\"https://github.com/appium/appium/issues/12979\" rel=\"nofollow noreferrer\">this</a> helps"},{"owner":{"account_id":27468740,"reputation":1,"user_id":20958040,"display_name":"Tark KILI&#199;KAYA"},"score":0,"creation_date":1673257028,"post_id":75048308,"comment_id":132449279,"body_markdown":"The answer in [this link](https://stackoverflow.com/questions/54017732/appium-exception-invalid-server-instance-exception-has-occured-there-is-no-in) solved my problem. Thank you very much. You made time for me, you tried to help me. These are priceless things. Thank you very much, I wish you success. Good bye.","body":"The answer in <a href=\"https://stackoverflow.com/questions/54017732/appium-exception-invalid-server-instance-exception-has-occured-there-is-no-in\">this link</a> solved my problem. Thank you very much. You made time for me, you tried to help me. These are priceless things. Thank you very much, I wish you success. Good bye."}],"owner":{"account_id":27468740,"reputation":1,"user_id":20958040,"display_name":"Tark KILI&#199;KAYA"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673193759,"creation_date":1673186219,"question_id":75048308,"body_markdown":"This question is my first on stackoverflow. I don&#39;t know English so I use translate. Sorry if I did something wrong. I want to work with Appium in Cucumber framework. I have a ready-made framework. However, when I want to run my tests, it gives an error in the Hooks class. It shows the error on the following line in the Hooks class:\r\n\r\n```\r\nprivate AppiumDriverLocalService appiumServer = AppiumDriverLocalService.buildDefaultService();\r\n```\r\n\r\nI couldn&#39;t figure it out. Could you please help?\r\nThank you from now.\r\n\r\nError message in console:\r\n\r\n```\r\nSLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\r\nSLF4J: Defaulting to no-operation (NOP) logger implementation\r\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\r\n\r\nStep failed\r\nio.cucumber.core.exception.CucumberException: Failed to instantiate class stepDefinitions.Hooks\r\n\tat io.cucumber.core.runtime.ObjectFactoryServiceLoader$DefaultJavaObjectFactory.cacheNewInstance(ObjectFactoryServiceLoader.java:140)\r\n\tat io.cucumber.core.runtime.ObjectFactoryServiceLoader$DefaultJavaObjectFactory.getInstance(ObjectFactoryServiceLoader.java:124)\r\n\tat io.cucumber.java.AbstractGlueDefinition.invokeMethod(AbstractGlueDefinition.java:47)\r\n\tat io.cucumber.java.JavaHookDefinition.execute(JavaHookDefinition.java:59)\r\n\tat io.cucumber.core.runner.CoreHookDefinition.execute(CoreHookDefinition.java:46)\r\n\tat io.cucumber.core.runner.HookDefinitionMatch.runStep(HookDefinitionMatch.java:21)\r\n\tat io.cucumber.core.runner.ExecutionMode$1.execute(ExecutionMode.java:10)\r\n\tat io.cucumber.core.runner.TestStep.executeStep(TestStep.java:92)\r\n\tat io.cucumber.core.runner.TestStep.run(TestStep.java:64)\r\n\tat io.cucumber.core.runner.TestCase.run(TestCase.java:98)\r\n\tat io.cucumber.core.runner.Runner.runPickle(Runner.java:71)\r\n\tat io.cucumber.core.runtime.Runtime.lambda$execute$5(Runtime.java:110)\r\n\tat io.cucumber.core.runtime.CucumberExecutionContext.runTestCase(CucumberExecutionContext.java:117)\r\n\tat io.cucumber.core.runtime.Runtime.lambda$execute$6(Runtime.java:110)\r\n\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n\tat io.cucumber.core.runtime.Runtime$SameThreadExecutorService.execute(Runtime.java:233)\r\n\tat java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:112)\r\n\tat io.cucumber.core.runtime.Runtime.lambda$run$2(Runtime.java:86)\r\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\r\n\tat java.util.stream.SliceOps$1$1.accept(SliceOps.java:204)\r\n\tat java.util.ArrayList$ArrayListSpliterator.tryAdvance(ArrayList.java:1361)\r\n\tat java.util.stream.ReferencePipeline.forEachWithCancel(ReferencePipeline.java:126)\r\n\tat java.util.stream.AbstractPipeline.copyIntoWithCancel(AbstractPipeline.java:499)\r\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:486)\r\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\r\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\r\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\r\n\tat io.cucumber.core.runtime.Runtime.run(Runtime.java:87)\r\n\tat io.cucumber.core.cli.Main.run(Main.java:92)\r\n\tat io.cucumber.core.cli.Main.main(Main.java:34)\r\nCaused by: java.lang.reflect.InvocationTargetException\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n\tat io.cucumber.core.runtime.ObjectFactoryServiceLoader$DefaultJavaObjectFactory.cacheNewInstance(ObjectFactoryServiceLoader.java:132)\r\n\t... 31 more\r\nCaused by: io.appium.java_client.service.local.InvalidServerInstanceException: NodeJS is either not installed or its executable not present in PATH\r\n\tat io.appium.java_client.service.local.AppiumServiceBuilder.validatePath(AppiumServiceBuilder.java:127)\r\n\tat io.appium.java_client.service.local.AppiumServiceBuilder.findBinary(AppiumServiceBuilder.java:137)\r\n\tat io.appium.java_client.service.local.AppiumServiceBuilder.findDefaultExecutable(AppiumServiceBuilder.java:180)\r\n\tat org.openqa.selenium.remote.service.DriverService$Builder.build(DriverService.java:355)\r\n\tat io.appium.java_client.service.local.AppiumDriverLocalService.buildService(AppiumDriverLocalService.java:87)\r\n\tat io.appium.java_client.service.local.AppiumDriverLocalService.buildDefaultService(AppiumDriverLocalService.java:83)\r\n\tat stepDefinitions.Hooks.&lt;init&gt;(Hooks.java:16)\r\n\t... 36 more\r\n```\r\n\r\nHooks class:\r\n\r\n```\r\npackage stepDefinitions;\r\n\r\nimport io.appium.java_client.service.local.AppiumDriverLocalService;\r\nimport io.cucumber.java.After;\r\nimport io.cucumber.java.Before;\r\nimport io.cucumber.java.Scenario;\r\nimport org.openqa.selenium.OutputType;\r\nimport org.openqa.selenium.TakesScreenshot;\r\nimport utils.Driver;\r\n\r\nimport java.io.IOException;\r\nimport java.util.logging.Logger;\r\n\r\npublic class Hooks {\r\n    \r\n    private AppiumDriverLocalService appiumServer = AppiumDriverLocalService.buildDefaultService();\r\n    final Runtime runtime = Runtime.getRuntime();\r\n\r\n    @Before\r\n    public void setUp() {\r\n        \r\n        forceStopAppiumServer();\r\n\r\n        appiumServer.start();\r\n\r\n    }\r\n\r\n    @After\r\n    public void tearDown(Scenario scenario) {\r\n        final byte[] screenshot = ((TakesScreenshot) Driver.getAppiumDriver()).getScreenshotAs(OutputType.BYTES);\r\n        if (scenario.isFailed()) {\r\n            scenario.attach(screenshot, &quot;image/png&quot;, &quot;screenshots&quot;);\r\n        }\r\n        Driver.quitAppiumDriver();\r\n        appiumServer.stop();\r\n    }\r\n\r\n    public void forceStopAppiumServer() {\r\n        try {\r\n            runtime.exec(&quot;killall node&quot;);\r\n            runtime.exec(&quot;pkill  -i xcodebuild&quot;);\r\n            System.out.println(&quot;Kill all nodes&quot;);\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\npom.xml file :\r\n\r\n```\r\n\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;8&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;8&lt;/maven.compiler.target&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;jvm.options&gt;--add-opens java.base/java.lang=ALL-UNNAMED&lt;/jvm.options&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/io.cucumber/cucumber-java --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\r\n            &lt;version&gt;6.9.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/io.cucumber/cucumber-junit --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\r\n            &lt;version&gt;6.9.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n            &lt;version&gt;3.141.59&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/io.appium/java-client --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.appium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;java-client&lt;/artifactId&gt;\r\n            &lt;version&gt;7.3.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n\r\n    &lt;build&gt;\r\n\r\n        &lt;plugins&gt;\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0.0-M1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;testFailureIgnore&gt;true&lt;/testFailureIgnore&gt;\r\n                    &lt;skipTests&gt;false&lt;/skipTests&gt;\r\n                    &lt;includes&gt;\r\n                        &lt;include&gt;**/runners/*TestRunner*.java&lt;/include&gt;\r\n                    &lt;/includes&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0.0-M1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;parallel&gt;classes&lt;/parallel&gt;\r\n                    &lt;forkMode&gt;perthread&lt;/forkMode&gt;\r\n                    &lt;threadCount&gt;4&lt;/threadCount&gt;\r\n                    &lt;reuseForks&gt;false&lt;/reuseForks&gt;\r\n                    &lt;argLine&gt;-Duser.language=en&lt;/argLine&gt;\r\n                    &lt;argLine&gt;-Xmx1024m&lt;/argLine&gt;\r\n                    &lt;argLine&gt;-XX:MaxPermSize=256m&lt;/argLine&gt;\r\n                    &lt;argLine&gt;-Dfile.encoding=UTF-8&lt;/argLine&gt;\r\n                    &lt;useFile&gt;false&lt;/useFile&gt;\r\n                    &lt;includes&gt;\r\n                        &lt;include&gt;**/runners/*Runner*.java&lt;/include&gt;\r\n                    &lt;/includes&gt;\r\n                    &lt;testFailureIgnore&gt;true&lt;/testFailureIgnore&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;net.masterthought&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-cucumber-reporting&lt;/artifactId&gt;\r\n                &lt;version&gt;5.0.0&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;execution&lt;/id&gt;\r\n                        &lt;phase&gt;verify&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;generate&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;projectName&gt;cucumber-jvm-example&lt;/projectName&gt;\r\n                            &lt;outputDirectory&gt;${project.build.directory}&lt;/outputDirectory&gt;\r\n                            &lt;inputDirectory&gt;${project.build.directory}&lt;/inputDirectory&gt;\r\n                            &lt;jsonFiles&gt;\r\n                                &lt;param&gt;**/json-reports/*.json&lt;/param&gt;\r\n                            &lt;/jsonFiles&gt;&lt;classificationFiles&gt;-&gt;\r\n                            &lt;param&gt;sample.properties&lt;/param&gt;\r\n                            &lt;param&gt;other.properties&lt;/param&gt;\r\n                        &lt;/classificationFiles&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n\r\n        &lt;/plugins&gt;\r\n\r\n\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nJDK version on my computer 11 :\r\n\r\n[enter image description here](https://i.stack.imgur.com/3EtDU.png)\r\n\r\nJDK version in project 1.8 :\r\n\r\n[enter image description here](https://i.stack.imgur.com/A2HWE.png)\r\n\r\nI changed the JDK versions, I changed the versions of the dependencies in the pom.xml file, I even formatted the computer but I could not solve the problem.","title":"Failed to instantiate Hooks class in Appium Cucumber","body":"<p>This question is my first on stackoverflow. I don't know English so I use translate. Sorry if I did something wrong. I want to work with Appium in Cucumber framework. I have a ready-made framework. However, when I want to run my tests, it gives an error in the Hooks class. It shows the error on the following line in the Hooks class:</p>\n<pre><code>private AppiumDriverLocalService appiumServer = AppiumDriverLocalService.buildDefaultService();\n</code></pre>\n<p>I couldn't figure it out. Could you please help?\nThank you from now.</p>\n<p>Error message in console:</p>\n<pre><code>SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\n\nStep failed\nio.cucumber.core.exception.CucumberException: Failed to instantiate class stepDefinitions.Hooks\n    at io.cucumber.core.runtime.ObjectFactoryServiceLoader$DefaultJavaObjectFactory.cacheNewInstance(ObjectFactoryServiceLoader.java:140)\n    at io.cucumber.core.runtime.ObjectFactoryServiceLoader$DefaultJavaObjectFactory.getInstance(ObjectFactoryServiceLoader.java:124)\n    at io.cucumber.java.AbstractGlueDefinition.invokeMethod(AbstractGlueDefinition.java:47)\n    at io.cucumber.java.JavaHookDefinition.execute(JavaHookDefinition.java:59)\n    at io.cucumber.core.runner.CoreHookDefinition.execute(CoreHookDefinition.java:46)\n    at io.cucumber.core.runner.HookDefinitionMatch.runStep(HookDefinitionMatch.java:21)\n    at io.cucumber.core.runner.ExecutionMode$1.execute(ExecutionMode.java:10)\n    at io.cucumber.core.runner.TestStep.executeStep(TestStep.java:92)\n    at io.cucumber.core.runner.TestStep.run(TestStep.java:64)\n    at io.cucumber.core.runner.TestCase.run(TestCase.java:98)\n    at io.cucumber.core.runner.Runner.runPickle(Runner.java:71)\n    at io.cucumber.core.runtime.Runtime.lambda$execute$5(Runtime.java:110)\n    at io.cucumber.core.runtime.CucumberExecutionContext.runTestCase(CucumberExecutionContext.java:117)\n    at io.cucumber.core.runtime.Runtime.lambda$execute$6(Runtime.java:110)\n    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n    at io.cucumber.core.runtime.Runtime$SameThreadExecutorService.execute(Runtime.java:233)\n    at java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:112)\n    at io.cucumber.core.runtime.Runtime.lambda$run$2(Runtime.java:86)\n    at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n    at java.util.stream.SliceOps$1$1.accept(SliceOps.java:204)\n    at java.util.ArrayList$ArrayListSpliterator.tryAdvance(ArrayList.java:1361)\n    at java.util.stream.ReferencePipeline.forEachWithCancel(ReferencePipeline.java:126)\n    at java.util.stream.AbstractPipeline.copyIntoWithCancel(AbstractPipeline.java:499)\n    at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:486)\n    at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n    at java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n    at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n    at java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n    at io.cucumber.core.runtime.Runtime.run(Runtime.java:87)\n    at io.cucumber.core.cli.Main.run(Main.java:92)\n    at io.cucumber.core.cli.Main.main(Main.java:34)\nCaused by: java.lang.reflect.InvocationTargetException\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\n    at io.cucumber.core.runtime.ObjectFactoryServiceLoader$DefaultJavaObjectFactory.cacheNewInstance(ObjectFactoryServiceLoader.java:132)\n    ... 31 more\nCaused by: io.appium.java_client.service.local.InvalidServerInstanceException: NodeJS is either not installed or its executable not present in PATH\n    at io.appium.java_client.service.local.AppiumServiceBuilder.validatePath(AppiumServiceBuilder.java:127)\n    at io.appium.java_client.service.local.AppiumServiceBuilder.findBinary(AppiumServiceBuilder.java:137)\n    at io.appium.java_client.service.local.AppiumServiceBuilder.findDefaultExecutable(AppiumServiceBuilder.java:180)\n    at org.openqa.selenium.remote.service.DriverService$Builder.build(DriverService.java:355)\n    at io.appium.java_client.service.local.AppiumDriverLocalService.buildService(AppiumDriverLocalService.java:87)\n    at io.appium.java_client.service.local.AppiumDriverLocalService.buildDefaultService(AppiumDriverLocalService.java:83)\n    at stepDefinitions.Hooks.&lt;init&gt;(Hooks.java:16)\n    ... 36 more\n</code></pre>\n<p>Hooks class:</p>\n<pre><code>package stepDefinitions;\n\nimport io.appium.java_client.service.local.AppiumDriverLocalService;\nimport io.cucumber.java.After;\nimport io.cucumber.java.Before;\nimport io.cucumber.java.Scenario;\nimport org.openqa.selenium.OutputType;\nimport org.openqa.selenium.TakesScreenshot;\nimport utils.Driver;\n\nimport java.io.IOException;\nimport java.util.logging.Logger;\n\npublic class Hooks {\n    \n    private AppiumDriverLocalService appiumServer = AppiumDriverLocalService.buildDefaultService();\n    final Runtime runtime = Runtime.getRuntime();\n\n    @Before\n    public void setUp() {\n        \n        forceStopAppiumServer();\n\n        appiumServer.start();\n\n    }\n\n    @After\n    public void tearDown(Scenario scenario) {\n        final byte[] screenshot = ((TakesScreenshot) Driver.getAppiumDriver()).getScreenshotAs(OutputType.BYTES);\n        if (scenario.isFailed()) {\n            scenario.attach(screenshot, &quot;image/png&quot;, &quot;screenshots&quot;);\n        }\n        Driver.quitAppiumDriver();\n        appiumServer.stop();\n    }\n\n    public void forceStopAppiumServer() {\n        try {\n            runtime.exec(&quot;killall node&quot;);\n            runtime.exec(&quot;pkill  -i xcodebuild&quot;);\n            System.out.println(&quot;Kill all nodes&quot;);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>pom.xml file :</p>\n<pre><code>\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;8&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;jvm.options&gt;--add-opens java.base/java.lang=ALL-UNNAMED&lt;/jvm.options&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/io.cucumber/cucumber-java --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\n            &lt;version&gt;6.9.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/io.cucumber/cucumber-junit --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\n            &lt;version&gt;6.9.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n            &lt;version&gt;3.141.59&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/io.appium/java-client --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.appium&lt;/groupId&gt;\n            &lt;artifactId&gt;java-client&lt;/artifactId&gt;\n            &lt;version&gt;7.3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n\n    &lt;build&gt;\n\n        &lt;plugins&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.0-M1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;testFailureIgnore&gt;true&lt;/testFailureIgnore&gt;\n                    &lt;skipTests&gt;false&lt;/skipTests&gt;\n                    &lt;includes&gt;\n                        &lt;include&gt;**/runners/*TestRunner*.java&lt;/include&gt;\n                    &lt;/includes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.0-M1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;parallel&gt;classes&lt;/parallel&gt;\n                    &lt;forkMode&gt;perthread&lt;/forkMode&gt;\n                    &lt;threadCount&gt;4&lt;/threadCount&gt;\n                    &lt;reuseForks&gt;false&lt;/reuseForks&gt;\n                    &lt;argLine&gt;-Duser.language=en&lt;/argLine&gt;\n                    &lt;argLine&gt;-Xmx1024m&lt;/argLine&gt;\n                    &lt;argLine&gt;-XX:MaxPermSize=256m&lt;/argLine&gt;\n                    &lt;argLine&gt;-Dfile.encoding=UTF-8&lt;/argLine&gt;\n                    &lt;useFile&gt;false&lt;/useFile&gt;\n                    &lt;includes&gt;\n                        &lt;include&gt;**/runners/*Runner*.java&lt;/include&gt;\n                    &lt;/includes&gt;\n                    &lt;testFailureIgnore&gt;true&lt;/testFailureIgnore&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;net.masterthought&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-cucumber-reporting&lt;/artifactId&gt;\n                &lt;version&gt;5.0.0&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;execution&lt;/id&gt;\n                        &lt;phase&gt;verify&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;generate&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;projectName&gt;cucumber-jvm-example&lt;/projectName&gt;\n                            &lt;outputDirectory&gt;${project.build.directory}&lt;/outputDirectory&gt;\n                            &lt;inputDirectory&gt;${project.build.directory}&lt;/inputDirectory&gt;\n                            &lt;jsonFiles&gt;\n                                &lt;param&gt;**/json-reports/*.json&lt;/param&gt;\n                            &lt;/jsonFiles&gt;&lt;classificationFiles&gt;-&gt;\n                            &lt;param&gt;sample.properties&lt;/param&gt;\n                            &lt;param&gt;other.properties&lt;/param&gt;\n                        &lt;/classificationFiles&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n\n        &lt;/plugins&gt;\n\n\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>JDK version on my computer 11 :</p>\n<p><a href=\"https://i.stack.imgur.com/3EtDU.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>JDK version in project 1.8 :</p>\n<p><a href=\"https://i.stack.imgur.com/A2HWE.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I changed the JDK versions, I changed the versions of the dependencies in the pom.xml file, I even formatted the computer but I could not solve the problem.</p>\n"},{"tags":["java","regex","file","text"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1673191341,"post_id":75048929,"comment_id":132438023,"body_markdown":"What exactly do you mean by &quot;*expressions*&quot;? Does that eintail expressions with multiple operators and multiple layers of parenthesis (e.g. `((1 +2) * 3) / 4`)?","body":"What exactly do you mean by &quot;<i>expressions</i>&quot;? Does that eintail expressions with multiple operators and multiple layers of parenthesis (e.g. <code>((1 +2) * 3) &#47; 4</code>)?"},{"owner":{"account_id":25873634,"reputation":51,"user_id":19604090,"display_name":"wieszak09"},"score":0,"creation_date":1673191855,"post_id":75048929,"comment_id":132438144,"body_markdown":"I believe its only going to be something simple such as 2 + 2 / 6 * 7 etc. Although if you have something in mind could you present regex for both? ((1 +2) * 3) / 4) as well as 2 + 2 ||  6 * 7? \n\nThanks!","body":"I believe its only going to be something simple such as 2 + 2 / 6 * 7 etc. Although if you have something in mind could you present regex for both? ((1 +2) * 3) / 4) as well as 2 + 2 ||  6 * 7?   Thanks!"},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1673192369,"post_id":75048929,"comment_id":132438251,"body_markdown":"Why is `12345678901` not to be matched, but e.g. `2 + 2` is? Do you mean: There MUST be an operator (`+` is an operator) involved? Why is `02-495` not okay, but `2 - 495` should be matched? What specific part of it do you want to encode in your regex? The lack of spaces around the operator? The fact that the 02 starts with a 0? It sounds like what you want is utterly impossible, there&#39;s no way to tell the difference.","body":"Why is <code>12345678901</code> not to be matched, but e.g. <code>2 + 2</code> is? Do you mean: There MUST be an operator (<code>+</code> is an operator) involved? Why is <code>02-495</code> not okay, but <code>2 - 495</code> should be matched? What specific part of it do you want to encode in your regex? The lack of spaces around the operator? The fact that the 02 starts with a 0? It sounds like what you want is utterly impossible, there&#39;s no way to tell the difference."},{"owner":{"account_id":25873634,"reputation":51,"user_id":19604090,"display_name":"wieszak09"},"score":0,"creation_date":1673192564,"post_id":75048929,"comment_id":132438302,"body_markdown":"@rzwitserloot 12345678901 is a PESEL number &amp; a different extractor is used for that. No there should be any operator involved such as +/-/*//","body":"@rzwitserloot 12345678901 is a PESEL number &amp; a different extractor is used for that. No there should be any operator involved such as +/-/*//"},{"owner":{"account_id":25873634,"reputation":51,"user_id":19604090,"display_name":"wieszak09"},"score":0,"creation_date":1673192821,"post_id":75048929,"comment_id":132438359,"body_markdown":"@rzwitserloot so 02-495 is a Polish post code &amp; for that ive got a different extractor where the regex for that is: \\d{2}-\\d{3}\n\nI believe its only has to be something simple such as 2 * 2 / 2 + 2 rather than big numbers as youve mentioned 2 - 495","body":"@rzwitserloot so 02-495 is a Polish post code &amp; for that ive got a different extractor where the regex for that is: \\d{2}-\\d{3}  I believe its only has to be something simple such as 2 * 2 / 2 + 2 rather than big numbers as youve mentioned 2 - 495"},{"owner":{"account_id":25873634,"reputation":51,"user_id":19604090,"display_name":"wieszak09"},"score":0,"creation_date":1673193230,"post_id":75048929,"comment_id":132438447,"body_markdown":"@RonielL&#243;pez Thank you this is working now :) Could you share with me how you created this regex? Did you use some kind of generator or how did you come about coming up with this?","body":"@RonielL&#243;pez Thank you this is working now :) Could you share with me how you created this regex? Did you use some kind of generator or how did you come about coming up with this?"}],"answers":[{"tags":[],"owner":{"account_id":16807985,"reputation":403,"user_id":12151634,"display_name":"Roniel L&#243;pez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673193420,"creation_date":1673193420,"answer_id":75049218,"question_id":75048929,"body_markdown":"This regular expression will give you the desired output: \r\n```\r\n(?&lt;![a-zA-Z])[+-]?(?:0|[1-9]\\d*)(?:\\.\\d+)?\\s+[*/+-]\\s+[+-]?(?:0|[1-9]\\d*)(?:\\.\\d+)?(?![a-zA-Z])\r\n```\r\nbut there will be some scenarios not covered\r\n\r\nNote: to obtain this regular expression I started working with your regular expression and changing things to obtain the desired output","title":"Regex to find positive &amp; negative numbers + expressions","body":"<p>This regular expression will give you the desired output:</p>\n<pre><code>(?&lt;![a-zA-Z])[+-]?(?:0|[1-9]\\d*)(?:\\.\\d+)?\\s+[*/+-]\\s+[+-]?(?:0|[1-9]\\d*)(?:\\.\\d+)?(?![a-zA-Z])\n</code></pre>\n<p>but there will be some scenarios not covered</p>\n<p>Note: to obtain this regular expression I started working with your regular expression and changing things to obtain the desired output</p>\n"}],"owner":{"account_id":25873634,"reputation":51,"user_id":19604090,"display_name":"wieszak09"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75049218,"answer_count":1,"score":0,"last_activity_date":1673193420,"creation_date":1673191117,"question_id":75048929,"body_markdown":"I&#39;m looking for regex to find positive &amp; negative numbers + any expressions in a text file. Here is what I&#39;ve currenly done:\r\n\r\n    public class EquationsTextExtractor implements RegexTextExtractor{\r\n    @Override\r\n    public List&lt;String&gt; extract(String source) {\r\n        List&lt;String&gt; equations = new ArrayList&lt;&gt;();\r\n        Matcher matcher = Pattern.compile(&quot;\\\\d+(\\\\.\\\\d+)?\\\\s*[+\\\\-*/]\\\\s*\\\\d+(\\\\.\\\\d+)?&quot;).matcher(source);\r\n        while (matcher.find()) {\r\n            equations.add(matcher.group());\r\n        }\r\n        return equations;\r\n    }\r\n}\r\n\r\nThe current output is: \r\n\r\n    [02-495, 00-120, 2 + 2]\r\nThe desired output is: \r\n\r\n     2 + 2, -5.4 / -3.33\r\n\r\nHere is sample text: \r\n\r\n    This is an example source in which a person with the PESEL number 12345678901 came to a course with a person with the PESEL number 09876543211. This course took place at the address Warszawa 02-495 Orlt Lwowskich street, although originally they wanted to do it at 00-120 Zota 44, but the place ended, at the course they did arithmetic operations, the first example was solving 2 + 2, but then we moved on to negative numbers and it was -5.4 / -3.33 and it got a little harder.","title":"Regex to find positive &amp; negative numbers + expressions","body":"<p>I'm looking for regex to find positive &amp; negative numbers + any expressions in a text file. Here is what I've currenly done:</p>\n<pre><code>public class EquationsTextExtractor implements RegexTextExtractor{\n@Override\npublic List&lt;String&gt; extract(String source) {\n    List&lt;String&gt; equations = new ArrayList&lt;&gt;();\n    Matcher matcher = Pattern.compile(&quot;\\\\d+(\\\\.\\\\d+)?\\\\s*[+\\\\-*/]\\\\s*\\\\d+(\\\\.\\\\d+)?&quot;).matcher(source);\n    while (matcher.find()) {\n        equations.add(matcher.group());\n    }\n    return equations;\n}\n</code></pre>\n<p>}</p>\n<p>The current output is:</p>\n<pre><code>[02-495, 00-120, 2 + 2]\n</code></pre>\n<p>The desired output is:</p>\n<pre><code> 2 + 2, -5.4 / -3.33\n</code></pre>\n<p>Here is sample text:</p>\n<pre><code>This is an example source in which a person with the PESEL number 12345678901 came to a course with a person with the PESEL number 09876543211. This course took place at the address Warszawa 02-495 Orlt Lwowskich street, although originally they wanted to do it at 00-120 Zota 44, but the place ended, at the course they did arithmetic operations, the first example was solving 2 + 2, but then we moved on to negative numbers and it was -5.4 / -3.33 and it got a little harder.\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1673221842,"post_id":75049210,"comment_id":132443601,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":27469504,"reputation":23,"user_id":20958695,"display_name":"user20958695"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673193380,"creation_date":1673193356,"question_id":75049210,"body_markdown":"I&#39;m trying to trigger an animation on a button press where one view is cloned and its clone is animated to another location on the screen.\r\n\r\nIs there any existing animation method to do the trick? \r\n\r\nSince I couldn&#39;t find one, I tried the following:\r\n\r\nCreated another &#39;ghost&#39; view in the XML with the same properties but with visibility of `View.GONE` and in the activity file tried the following: \r\n\r\n1. Move the position of the &#39;ghost view&#39; to where the original view is using `View.SetX()`, `View.SetY()`.\r\n2. Set the visibility of the &#39;ghost view&#39; to `View.VISIBLE`.\r\n3. animate the now visible &#39;ghost view&#39; using `View.animate().xBy().yBy()`\r\n\r\nThe result was that the &#39;ghost view&#39; was animated back to where it originally was and not to the location specified in the `xBy().yBy()` method and seems like it was caused by the `View.SetX()`, `View.SetY()` calls for some reason.\r\n\r\nThis is a part of a complex activity that isn&#39;t quite readable but if necessary I will create a project with an isolated example.\r\n\r\nThis is in Java. \r\n\r\nThanks for any help.","title":"Android animating a (clone of a) view while keeping original view unchanged","body":"<p>I'm trying to trigger an animation on a button press where one view is cloned and its clone is animated to another location on the screen.</p>\n<p>Is there any existing animation method to do the trick?</p>\n<p>Since I couldn't find one, I tried the following:</p>\n<p>Created another 'ghost' view in the XML with the same properties but with visibility of <code>View.GONE</code> and in the activity file tried the following:</p>\n<ol>\n<li>Move the position of the 'ghost view' to where the original view is using <code>View.SetX()</code>, <code>View.SetY()</code>.</li>\n<li>Set the visibility of the 'ghost view' to <code>View.VISIBLE</code>.</li>\n<li>animate the now visible 'ghost view' using <code>View.animate().xBy().yBy()</code></li>\n</ol>\n<p>The result was that the 'ghost view' was animated back to where it originally was and not to the location specified in the <code>xBy().yBy()</code> method and seems like it was caused by the <code>View.SetX()</code>, <code>View.SetY()</code> calls for some reason.</p>\n<p>This is a part of a complex activity that isn't quite readable but if necessary I will create a project with an isolated example.</p>\n<p>This is in Java.</p>\n<p>Thanks for any help.</p>\n"},{"tags":["java","spring-boot"],"owner":{"account_id":22246447,"reputation":17,"user_id":16480070,"display_name":"Sizor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1673191886,"creation_date":1673191859,"question_id":75049019,"body_markdown":"I am using `spring.servlet.multipart.location` property for uploading temp directory, but i want to temp directory stay longer. Normally tmp directory is deleted when request send response but i need it even after response is sent. So is there any way to turn off automatic tmp deleting and delete it manually after all what i need to do or any other way? Thanks!","title":"Sprignboot multipart temp location stay longer","body":"<p>I am using <code>spring.servlet.multipart.location</code> property for uploading temp directory, but i want to temp directory stay longer. Normally tmp directory is deleted when request send response but i need it even after response is sent. So is there any way to turn off automatic tmp deleting and delete it manually after all what i need to do or any other way? Thanks!</p>\n"},{"tags":["java","web-scraping","htmlunit"],"answers":[{"tags":[],"owner":{"account_id":6163228,"reputation":2754,"user_id":4804091,"display_name":"RBRi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673191116,"creation_date":1673191116,"answer_id":75048928,"question_id":75013478,"body_markdown":"Just a guess...\r\n\r\nHtmlUnit is a bit different from what you expect from your browser in handling downloads. Maybe for your case it is helpful to implement your own AttachmentHanlder (https://htmlunit.sourceforge.io/filedownload-howto.html).\r\n\r\nI think you have to implement \r\n\r\n    boolean handleAttachment(final WebResponse response)\r\n\r\nin a way this method saves the Attachment and also returns true. This will avoid the replacement of the page in the current window with the downloaded content. And in the end you have still the table in your window and further navigation should work.\r\n\r\nIf not please open an issue on github and i will try to have a closer look.","title":"Iterative download using HtmlUnit","body":"<p>Just a guess...</p>\n<p>HtmlUnit is a bit different from what you expect from your browser in handling downloads. Maybe for your case it is helpful to implement your own AttachmentHanlder (<a href=\"https://htmlunit.sourceforge.io/filedownload-howto.html\" rel=\"nofollow noreferrer\">https://htmlunit.sourceforge.io/filedownload-howto.html</a>).</p>\n<p>I think you have to implement</p>\n<pre><code>boolean handleAttachment(final WebResponse response)\n</code></pre>\n<p>in a way this method saves the Attachment and also returns true. This will avoid the replacement of the page in the current window with the downloaded content. And in the end you have still the table in your window and further navigation should work.</p>\n<p>If not please open an issue on github and i will try to have a closer look.</p>\n"}],"owner":{"account_id":6286943,"reputation":121,"user_id":12678986,"display_name":"OGmaps"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673191116,"creation_date":1672888147,"question_id":75013478,"body_markdown":"# **My Issue:**\r\nI am attempting to download all files located [here](mft.rrc.texas.gov/link/1bf41875-3edd-4660-8ec5-b4cd15880563) (https://mft.rrc.texas.gov/link/1bf41875-3edd-4660-8ec5-b4cd15880563) using Java/HtmlUnit. (Each &#39;download&#39; is a returned as a .zip containing selected files)\r\n\r\nI have been able to download multiple files by checking the individual boxes on the left and then clicking on &#39;Download&#39; at the bottom of the page with out issue.\r\n\r\nHowever, I am unable to download the files from the first page *and then* click on the &#39;next page&#39; button at the bottom - such that I may download files not displayed on the initial page.\r\n\r\n\r\n# **What I&#39;ve Tried:**\r\nI have tried several variations of this, and have not been able to download anything from the second page. Any time I download a file, the following navigation step takes me back to the first page.\r\n\r\nSaid another way, I am able to navigate through any number of pages one by one, but if at any point I attempt the download, the next page I hit is identical to the first.\r\n\r\nSome example code below.\r\n\r\n**Note(1):** I am calling navigateTable(...) which is calling downloadAll(...). I have tried doing this in a single code block as well but end up with the same results.\r\n\r\n**Note(2):** &#39;Page&#39; may not be the most appropriate term here as the &#39;next&#39; anchor just loads new content into a webtable at the same url.\r\n\r\n# **Code:**\r\n```\r\n\tpublic static synchronized void downloadAll(WebClient wc, HtmlPage page, String downloadpath, String downloadname) throws Exception {\r\n\r\n\t\tHtmlPage queue) = (HtmlPage)wc.getCurrentWindow().getEnclosedPage();\r\n\r\n\t\twc.waitForBackgroundJavaScript(10000);\r\n\t\t\r\n\t\t//find and click checkbox indicating download all files on page\r\n\t\tHtmlCheckBoxInput queuebox = (HtmlCheckBoxInput)queue.getByXPath(&quot;//*[@id=\\&quot;fileTable:j_id_1s\\&quot;]/div/div[1]/input&quot;).get(0);\r\n\t\tqueue = (HtmlPage)queuebox.setChecked(true);\r\n\t\twc.waitForBackgroundJavaScript(10000);\r\n\t\t\r\n\t\t//print element showing how many rows are selected\r\n\t\tString numselected = queue.getElementById(&quot;totalRows&quot;).asNormalizedText();\r\n\t\tSystem.out.println(numselected);\r\n\t\t\r\n\t\t//find and click download button (should download all rows checked as a single zip file)\r\n\t\tSystem.out.println(&quot;Downloading file...&quot;);\r\n\t\tHtmlButton downloadbutton = (HtmlButton)queue.getHtmlElementById(&quot;j_id_3c:j_id_3c&quot;);\r\n\t\tSystem.out.println(downloadbutton.asNormalizedText());\r\n\t\tSystem.out.println(&quot;Clicking Download...&quot;);\r\n\t\tdownloadbutton.click();\r\n\t\tSystem.out.println(&quot;Waiting for js...&quot;);\r\n\t\twc.waitForBackgroundJavaScript(10000);\r\n\t\tPage downloadpage = wc.getCurrentWindow().getEnclosedPage(); \r\n\t\t\r\n\t\t//save download to disk\r\n\t    File destfile = new File(downloadpath, downloadname);                                                            \r\n\t    try (InputStream contentAsStream = downloadpage.getWebResponse().getContentAsStream()) {                   \r\n\t        try (OutputStream out = new FileOutputStream(destfile)) {                                              \r\n\t            IOUtils.copy(contentAsStream, out);                                                                \r\n\t        }                                                                                                      \r\n\t    }\r\n\t    System.out.println(&quot;File downloaded to:&quot; + destfile.getAbsolutePath());\r\n\t}\r\n\t\r\n\t\r\n\tpublic static synchronized void navigateTable(String url, int npages, String downloadpath, String downloadname, String downloadext) throws Exception {\r\n\t\t//suppress logs\r\n\t\tjava.util.logging.Logger.getLogger(&quot;com.gargoylesoftware&quot;).setLevel(java.util.logging.Level.OFF);\r\n\t\t\r\n\t\t//create webclient\r\n\t\tWebClient wc = new WebClient(); //BrowserVersion.CHROME\r\n\t\twc.getOptions().setJavaScriptEnabled(true);\r\n\t\twc.getOptions().setCssEnabled(true);\r\n\t\twc.setAjaxController(new NicelyResynchronizingAjaxController());\r\n\t\twc.getCookieManager().setCookiesEnabled(true);\r\n\t\t\r\n\t\t//get initial page\r\n\t\tHtmlPage queue = wc.getPage(url);\r\n\t\t\r\n\t\t//do n times\r\n\t\tfor (int i = 1; i &lt; npages+1; i++) {\r\n\t\t\tSystem.out.println(String.format(&quot;Current Iteration: %d&quot;, i));\r\n\t\t\t\r\n\t\t\t//print &#39;showing&#39; status from page\r\n\t\t\tHtmlElement showing = (HtmlElement)queue.getByXPath(&quot;//*[@id=\\&quot;fileTable_paginator_bottom\\&quot;]/span[1]&quot;).get(0);\r\n\t\t\tSystem.out.println(showing.asNormalizedText());\r\n\t\t\t\r\n\t\t\t//call download\r\n\t\t\tdownloadAll(wc, queue, downloadpath, String.format(&quot;%s_%d.%s&quot;, downloadname, i, downloadext));\r\n\t\t\t\r\n\t\t\t//get &#39;next page&#39; button and click it, resetting current page to be next page\r\n\t\t\tSystem.out.println(&quot;Navigating to next queue page...&quot;);\r\n\t\t\tHtmlAnchor nextpageanchor = (HtmlAnchor)queue.getByXPath(&quot;//*[@id=\\&quot;fileTable_paginator_bottom\\&quot;]/a[3]&quot;).get(0);\r\n\t\t\tqueue = (HtmlPage)nextpageanchor.click();\r\n\t\t\t\r\n\t\t\t//wait a sec for page to load\r\n\t\t\twc.waitForBackgroundJavaScript(5000);\r\n\t\t\tSystem.out.println(&quot;Arrived at next queue page...&quot;);\r\n\t\t}\r\n\t\t\r\n\t\t//close webclient\r\n\t\twc.close();\r\n\t}\r\n```\r\n\r\n# **Console output:**\r\n```\r\nCurrent Iteration: 1\r\nShowing 1 - 250 of 15544\r\n250 Rows Selected\r\nDownloading file...\r\nDownload\r\nClicking Download...\r\nWaiting for js...\r\nFile downloaded to:C:\\Drilling Permits Pending Approval_2023-01-04_204350_1.zip\r\nNavigating to next queue page...\r\nArrived at next queue page...\r\nCurrent Iteration: 2\r\nShowing 1 - 250 of 15544\r\n250 Rows Selected\r\nDownloading file...\r\nDownload\r\nClicking Download...\r\nWaiting for js...\r\nFile downloaded to:C:\\Drilling Permits Pending Approval_2023-01-04_204350_2.zip\r\nNavigating to next queue page...\r\nArrived at next queue page...\r\nCurrent Iteration: 3\r\nShowing 1 - 250 of 15544\r\n250 Rows Selected\r\nDownloading file...\r\nDownload\r\nClicking Download...\r\nWaiting for js...\r\nFile downloaded to:C:\\Drilling Permits Pending Approval_2023-01-04_204350_3.zip\r\nNavigating to next queue page...\r\nArrived at next queue page...\r\n```\r\n\r\n# **Console output with downloadAll(...) line commented out:**\r\n```\r\nCurrent Iteration: 1\r\nShowing 1 - 250 of 15544\r\nNavigating to next queue page...\r\nArrived at next queue page...\r\nCurrent Iteration: 2\r\nShowing 251 - 500 of 15544\r\nNavigating to next queue page...\r\nArrived at next queue page...\r\nCurrent Iteration: 3\r\nShowing 501 - 750 of 15544\r\nNavigating to next queue page...\r\nArrived at next queue page...\r\n```\r\n\r\n# **Final Thoughts:**\r\nAgain, my problem is not navigating, or the downloading of files specifically.. But, how to do both at the same time.\r\n\r\nNotice that without the download portion the table is updated as expected (illustrated by the *Showing ### - ### of 15544* line of the console output)\r\n\r\nWhat is going on here?\r\n\r\nYour help is greatly appreciated.","title":"Iterative download using HtmlUnit","body":"<h1><strong>My Issue:</strong></h1>\n<p>I am attempting to download all files located here (<a href=\"https://mft.rrc.texas.gov/link/1bf41875-3edd-4660-8ec5-b4cd15880563\" rel=\"nofollow noreferrer\">https://mft.rrc.texas.gov/link/1bf41875-3edd-4660-8ec5-b4cd15880563</a>) using Java/HtmlUnit. (Each 'download' is a returned as a .zip containing selected files)</p>\n<p>I have been able to download multiple files by checking the individual boxes on the left and then clicking on 'Download' at the bottom of the page with out issue.</p>\n<p>However, I am unable to download the files from the first page <em>and then</em> click on the 'next page' button at the bottom - such that I may download files not displayed on the initial page.</p>\n<h1><strong>What I've Tried:</strong></h1>\n<p>I have tried several variations of this, and have not been able to download anything from the second page. Any time I download a file, the following navigation step takes me back to the first page.</p>\n<p>Said another way, I am able to navigate through any number of pages one by one, but if at any point I attempt the download, the next page I hit is identical to the first.</p>\n<p>Some example code below.</p>\n<p><strong>Note(1):</strong> I am calling navigateTable(...) which is calling downloadAll(...). I have tried doing this in a single code block as well but end up with the same results.</p>\n<p><strong>Note(2):</strong> 'Page' may not be the most appropriate term here as the 'next' anchor just loads new content into a webtable at the same url.</p>\n<h1><strong>Code:</strong></h1>\n<pre><code>    public static synchronized void downloadAll(WebClient wc, HtmlPage page, String downloadpath, String downloadname) throws Exception {\n\n        HtmlPage queue) = (HtmlPage)wc.getCurrentWindow().getEnclosedPage();\n\n        wc.waitForBackgroundJavaScript(10000);\n        \n        //find and click checkbox indicating download all files on page\n        HtmlCheckBoxInput queuebox = (HtmlCheckBoxInput)queue.getByXPath(&quot;//*[@id=\\&quot;fileTable:j_id_1s\\&quot;]/div/div[1]/input&quot;).get(0);\n        queue = (HtmlPage)queuebox.setChecked(true);\n        wc.waitForBackgroundJavaScript(10000);\n        \n        //print element showing how many rows are selected\n        String numselected = queue.getElementById(&quot;totalRows&quot;).asNormalizedText();\n        System.out.println(numselected);\n        \n        //find and click download button (should download all rows checked as a single zip file)\n        System.out.println(&quot;Downloading file...&quot;);\n        HtmlButton downloadbutton = (HtmlButton)queue.getHtmlElementById(&quot;j_id_3c:j_id_3c&quot;);\n        System.out.println(downloadbutton.asNormalizedText());\n        System.out.println(&quot;Clicking Download...&quot;);\n        downloadbutton.click();\n        System.out.println(&quot;Waiting for js...&quot;);\n        wc.waitForBackgroundJavaScript(10000);\n        Page downloadpage = wc.getCurrentWindow().getEnclosedPage(); \n        \n        //save download to disk\n        File destfile = new File(downloadpath, downloadname);                                                            \n        try (InputStream contentAsStream = downloadpage.getWebResponse().getContentAsStream()) {                   \n            try (OutputStream out = new FileOutputStream(destfile)) {                                              \n                IOUtils.copy(contentAsStream, out);                                                                \n            }                                                                                                      \n        }\n        System.out.println(&quot;File downloaded to:&quot; + destfile.getAbsolutePath());\n    }\n    \n    \n    public static synchronized void navigateTable(String url, int npages, String downloadpath, String downloadname, String downloadext) throws Exception {\n        //suppress logs\n        java.util.logging.Logger.getLogger(&quot;com.gargoylesoftware&quot;).setLevel(java.util.logging.Level.OFF);\n        \n        //create webclient\n        WebClient wc = new WebClient(); //BrowserVersion.CHROME\n        wc.getOptions().setJavaScriptEnabled(true);\n        wc.getOptions().setCssEnabled(true);\n        wc.setAjaxController(new NicelyResynchronizingAjaxController());\n        wc.getCookieManager().setCookiesEnabled(true);\n        \n        //get initial page\n        HtmlPage queue = wc.getPage(url);\n        \n        //do n times\n        for (int i = 1; i &lt; npages+1; i++) {\n            System.out.println(String.format(&quot;Current Iteration: %d&quot;, i));\n            \n            //print 'showing' status from page\n            HtmlElement showing = (HtmlElement)queue.getByXPath(&quot;//*[@id=\\&quot;fileTable_paginator_bottom\\&quot;]/span[1]&quot;).get(0);\n            System.out.println(showing.asNormalizedText());\n            \n            //call download\n            downloadAll(wc, queue, downloadpath, String.format(&quot;%s_%d.%s&quot;, downloadname, i, downloadext));\n            \n            //get 'next page' button and click it, resetting current page to be next page\n            System.out.println(&quot;Navigating to next queue page...&quot;);\n            HtmlAnchor nextpageanchor = (HtmlAnchor)queue.getByXPath(&quot;//*[@id=\\&quot;fileTable_paginator_bottom\\&quot;]/a[3]&quot;).get(0);\n            queue = (HtmlPage)nextpageanchor.click();\n            \n            //wait a sec for page to load\n            wc.waitForBackgroundJavaScript(5000);\n            System.out.println(&quot;Arrived at next queue page...&quot;);\n        }\n        \n        //close webclient\n        wc.close();\n    }\n</code></pre>\n<h1><strong>Console output:</strong></h1>\n<pre><code>Current Iteration: 1\nShowing 1 - 250 of 15544\n250 Rows Selected\nDownloading file...\nDownload\nClicking Download...\nWaiting for js...\nFile downloaded to:C:\\Drilling Permits Pending Approval_2023-01-04_204350_1.zip\nNavigating to next queue page...\nArrived at next queue page...\nCurrent Iteration: 2\nShowing 1 - 250 of 15544\n250 Rows Selected\nDownloading file...\nDownload\nClicking Download...\nWaiting for js...\nFile downloaded to:C:\\Drilling Permits Pending Approval_2023-01-04_204350_2.zip\nNavigating to next queue page...\nArrived at next queue page...\nCurrent Iteration: 3\nShowing 1 - 250 of 15544\n250 Rows Selected\nDownloading file...\nDownload\nClicking Download...\nWaiting for js...\nFile downloaded to:C:\\Drilling Permits Pending Approval_2023-01-04_204350_3.zip\nNavigating to next queue page...\nArrived at next queue page...\n</code></pre>\n<h1><strong>Console output with downloadAll(...) line commented out:</strong></h1>\n<pre><code>Current Iteration: 1\nShowing 1 - 250 of 15544\nNavigating to next queue page...\nArrived at next queue page...\nCurrent Iteration: 2\nShowing 251 - 500 of 15544\nNavigating to next queue page...\nArrived at next queue page...\nCurrent Iteration: 3\nShowing 501 - 750 of 15544\nNavigating to next queue page...\nArrived at next queue page...\n</code></pre>\n<h1><strong>Final Thoughts:</strong></h1>\n<p>Again, my problem is not navigating, or the downloading of files specifically.. But, how to do both at the same time.</p>\n<p>Notice that without the download portion the table is updated as expected (illustrated by the <em>Showing ### - ### of 15544</em> line of the console output)</p>\n<p>What is going on here?</p>\n<p>Your help is greatly appreciated.</p>\n"},{"tags":["java","multithreading"],"owner":{"account_id":19761741,"reputation":68,"user_id":14470687,"display_name":"CHUANWISE"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673191063,"creation_date":1673191063,"question_id":75048922,"body_markdown":"## Background\r\n\r\nI&#39;m designing a plugin system, in which plugins can register event listeners and commands in their `onEnable()` method. We inevitably encounter the question of whether the thread of the callback `onEnable()` method is the same thread as the thread of the listener or command method registered by the callback plugin. \r\n\r\n## Question\r\n\r\nBecause plugin developers may not write thread-safe codes, which may cause unexpected results, we can design a mechanism so that all codes of the same plugin will be called in the same thread called its main thread. Every time the plugin system want to call a plugin code, it can invoke a method like this:\r\n\r\n```java\r\napplication.getTaskManager().submit(\r\n    Task.builder()\r\n        .plugin(plugin)\r\n        .action(context -&gt; {\r\n             // ...\r\n             plugin.onEnable();\r\n             // ...\r\n         })\r\n        .build()\r\n);\r\n```\r\n\r\nHow to implement it gracefully?\r\n\r\n## Thinkings\r\n\r\nConsider 3 types of solutions:\r\n\r\n* Specialized main thread: Assign a specialized thread to each plugin.\r\n* Reusable main thread: One thread corresponds to multiple (or single) plugins, at the same time threads can be used to execute other asynchronous tasks. It can save some resources, but it may cause its plugin callbacks to be delayed, which may come to results that are not in line with expectations.\r\n* Dynamic main thread: First assign the same thread to all plug-ins and dynamically decide whether the code of a time-consuming plugin should be called on a special main thread or several time-saving plugins in the same main thread based on the runtime data.\r\n\r\nObviously, the last solution is probably the best, but it need to clear the JVM thread cache when we adjust the correspondence between main threads and plugins. How to clear the JVM thread cache?","title":"How to ensure that the codes of the same plugin are called in the same thread gracefully in a plugin system?","body":"<h2>Background</h2>\n<p>I'm designing a plugin system, in which plugins can register event listeners and commands in their <code>onEnable()</code> method. We inevitably encounter the question of whether the thread of the callback <code>onEnable()</code> method is the same thread as the thread of the listener or command method registered by the callback plugin.</p>\n<h2>Question</h2>\n<p>Because plugin developers may not write thread-safe codes, which may cause unexpected results, we can design a mechanism so that all codes of the same plugin will be called in the same thread called its main thread. Every time the plugin system want to call a plugin code, it can invoke a method like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>application.getTaskManager().submit(\n    Task.builder()\n        .plugin(plugin)\n        .action(context -&gt; {\n             // ...\n             plugin.onEnable();\n             // ...\n         })\n        .build()\n);\n</code></pre>\n<p>How to implement it gracefully?</p>\n<h2>Thinkings</h2>\n<p>Consider 3 types of solutions:</p>\n<ul>\n<li>Specialized main thread: Assign a specialized thread to each plugin.</li>\n<li>Reusable main thread: One thread corresponds to multiple (or single) plugins, at the same time threads can be used to execute other asynchronous tasks. It can save some resources, but it may cause its plugin callbacks to be delayed, which may come to results that are not in line with expectations.</li>\n<li>Dynamic main thread: First assign the same thread to all plug-ins and dynamically decide whether the code of a time-consuming plugin should be called on a special main thread or several time-saving plugins in the same main thread based on the runtime data.</li>\n</ul>\n<p>Obviously, the last solution is probably the best, but it need to clear the JVM thread cache when we adjust the correspondence between main threads and plugins. How to clear the JVM thread cache?</p>\n"},{"tags":["java","android","numbers","rounding","number-formatting"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":3,"creation_date":1673186666,"post_id":75048348,"comment_id":132437014,"body_markdown":"`NumberFormat.Style` was introduced in java 12. I guess you use a older version","body":"<code>NumberFormat.Style</code> was introduced in java 12. I guess you use a older version"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1673188541,"post_id":75048348,"comment_id":132437431,"body_markdown":"but  `getCompactNumberInstance` is also not available before Java 12 ....","body":"but  <code>getCompactNumberInstance</code> is also not available before Java 12 ...."},{"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":0,"creation_date":1673188817,"post_id":75048348,"comment_id":132437502,"body_markdown":"Probably your Android API level is not compatible with [Java-12](https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/text/NumberFormat.Style.html).  Check [this](https://ideone.com/OQhUpi).","body":"Probably your Android API level is not compatible with <a href=\"https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/text/NumberFormat.Style.html\" rel=\"nofollow noreferrer\">Java-12</a>.  Check <a href=\"https://ideone.com/OQhUpi\" rel=\"nofollow noreferrer\">this</a>."}],"answers":[{"tags":[],"owner":{"account_id":15483805,"reputation":242,"user_id":11170352,"display_name":"Mokhtar Abdelhalim"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1673190400,"creation_date":1673190400,"answer_id":75048844,"question_id":75048348,"body_markdown":"Here you go, try using  this, it will solve your problem\r\n\r\n        public static String formatValue(float value) {\r\n          String arr[] = {&quot;&quot;, &quot;K&quot;, &quot;M&quot;, &quot;B&quot;, &quot;T&quot;, &quot;P&quot;, &quot;E&quot;};\r\n          int index = 0;\r\n          while ((value / 1000) &gt;= 1) {\r\n              value = value / 1000;\r\n              index++;\r\n          }\r\n          DecimalFormat decimalFormat = new DecimalFormat(&quot;#.##&quot;);\r\n          return String.format(&quot;%s %s&quot;, decimalFormat.format(value), arr[index]);\r\n        }","title":"Using Number formater java","body":"<p>Here you go, try using  this, it will solve your problem</p>\n<pre><code>    public static String formatValue(float value) {\n      String arr[] = {&quot;&quot;, &quot;K&quot;, &quot;M&quot;, &quot;B&quot;, &quot;T&quot;, &quot;P&quot;, &quot;E&quot;};\n      int index = 0;\n      while ((value / 1000) &gt;= 1) {\n          value = value / 1000;\n          index++;\n      }\n      DecimalFormat decimalFormat = new DecimalFormat(&quot;#.##&quot;);\n      return String.format(&quot;%s %s&quot;, decimalFormat.format(value), arr[index]);\n    }\n</code></pre>\n"}],"owner":{"account_id":19420822,"reputation":11,"user_id":14203393,"display_name":"EmLeons"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":114,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1673190400,"creation_date":1673186499,"question_id":75048348,"body_markdown":"I am try to use number formatter in java to formart intiger in to compact number fomart like 1000 to 1k but it give error\r\nMy code \r\n\r\n```\r\npackage com.project.newproject;\r\nimport java.text.NumberFormat;\r\nimport java.util.Locale;\r\n\r\nprotected void onCreate(Bundle _savedInstanceState) {\r\nsuper.onCreate(_savedInstanceState);\r\nsetContentView(R.layout.main);\r\nNumberFormat formatter =  NumberFormat.getCompactNumberInstance( Locale.US,NumberFormat.Style.SHORT);\r\n\r\n\t}\r\n```\r\n\r\nHow to fix the error:\r\n**Style** cannot be resolved or is not a field\r\n\r\n\r\nHow to fix issue Style cannot be resolved.\r\n","title":"Using Number formater java","body":"<p>I am try to use number formatter in java to formart intiger in to compact number fomart like 1000 to 1k but it give error\nMy code</p>\n<pre><code>package com.project.newproject;\nimport java.text.NumberFormat;\nimport java.util.Locale;\n\nprotected void onCreate(Bundle _savedInstanceState) {\nsuper.onCreate(_savedInstanceState);\nsetContentView(R.layout.main);\nNumberFormat formatter =  NumberFormat.getCompactNumberInstance( Locale.US,NumberFormat.Style.SHORT);\n\n    }\n</code></pre>\n<p>How to fix the error:\n<strong>Style</strong> cannot be resolved or is not a field</p>\n<p>How to fix issue Style cannot be resolved.</p>\n"},{"tags":["java","akka","distributed-system"],"comments":[{"owner":{"account_id":16130307,"reputation":257,"user_id":11644183,"display_name":"user1234"},"score":0,"creation_date":1575412169,"post_id":59166048,"comment_id":104556450,"body_markdown":"Use this documentation for clear understanding: https://doc.akka.io/docs/akka/current/general/message-delivery-reliability.html , and yes, if the messages are not delivered, there are considered lost. This can be due to several reasons including transmission errors in both sending and receiving messages.","body":"Use this documentation for clear understanding: <a href=\"https://doc.akka.io/docs/akka/current/general/message-delivery-reliability.html\" rel=\"nofollow noreferrer\">doc.akka.io/docs/akka/current/general/&hellip;</a> , and yes, if the messages are not delivered, there are considered lost. This can be due to several reasons including transmission errors in both sending and receiving messages."}],"answers":[{"tags":[],"owner":{"account_id":181329,"reputation":4496,"user_id":415251,"accept_rate":83,"display_name":"David Ogren"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1673190282,"creation_date":1575466752,"answer_id":59177374,"question_id":59166048,"body_markdown":"So, Akka actually offers both options of &quot;at-most once delivery&quot; and guaranteed delivery aka &quot;at least once delivery&quot;. See [the link user1234 posted](https://doc.akka.io/docs/akka/current/general/message-delivery-reliability.html) in the comments for a good introduction into the concepts of &quot;at least once&quot; vs &quot;at most once&quot;.\r\n\r\nSo Akka can do either option. Why is &quot;at most once&quot; the default?\r\n\r\nThe short answer to your question is that switching to guaranteed delivery has at least five very significant costs:\r\n\r\n* Guaranteed delivery in a distributed system requires persistence (otherwise you can&#39;t guarantee delivery in case of node failure). This introduces an enormous performance overhead, however.\r\n\r\n* Guaranteed delivery in a distributed system introduces the chance of duplicate deliveries. (If you can&#39;t confirm delivery, fundamentally the only thing you can do is retry, introducing potential duplicates). For some applications this is problematic. (You can resolve this with de-duping, but this introduces additional overhead and is generally easier to do in application code.) Thus the term &quot;at least once&quot;.\r\n\r\n* Guaranteed delivery can also affect message order. e.g. you can either wait for each acknowledgement before attempting the next (which would be insanely slow) or you can deliver retries out of order. Which, for many applications, can be problematic.\r\n\r\n* Guaranteed delivery just has a lot more overhead. This includes both the bookkeeping necessary, the memory to basically keep messages around longer, and also the network chatter of acknowledgements.\r\n\r\n* Guaranteed delivery also requires persistence, as noted above. But not only does this add overhead as already mentioned, but this just also adds complexity. Especially since this generally means centralized storage if you want to handle failed nodes well and/or expanding/contracting clusters.\r\n\r\nSo, Akka gives you the choice. But it also cautions you (in that doc) that for most applications it is much easier to handle message delivery failures via application code than by relying on guaranteed delivery. (Both for performance reasons and because guaranteed delivery introduces its own problems like duplicates and out of order messages.)\r\n\r\nEDIT:\r\nIn response to the follow up on how reliable &quot;at most once&quot; messaging is, it&#39;s better to think in terms of resiliency, not &quot;reliability&quot;. In other words, under normal circumstances both &quot;at most once&quot; and &quot;at least once&quot; will deliver a message exactly once.\r\n\r\nWhat distinguishes &quot;at most once&quot; and &quot;at least once&quot; is how they handle problems. For example, imagine a sample application that sends a million messages from actor A on node A to actor B on node B. Under normal circumstances, both &quot;at most once&quot; and &quot;at least once&quot; will have a 100% success rate. But if I shutdown node B in the middle of the test run, the &quot;at most once&quot; application will start having network timeout errors and some messages will fail. Whereas, the &quot;at least once&quot; version will save all messages to persistence once sent. I could actually shutdown both node A and node B, wait a month, turn them back on and the system would recover and all messages would have been delivered.\r\n\r\nThe key thing to understand is that it&#39;s not as if the messaging protocol is inherently unreliable: there&#39;s no &quot;how many messages will ordinarily fail&quot; because messages don&#39;t fail under ordinary circumstances even in &quot;at most once&quot;. If your hardware is 100% reliable and your network is 100% reliable and your software is 100% reliable, then  your messages will be delivered 100% of the time with either approach. But if your network is down then you will lose 100% of your messages with &quot;at most once&quot; and you will lose 0% with &quot;at least once&quot;. If your destination server crashed due to an NPE, you will lose 100% your messages with &quot;at most once&quot; and 0% with &quot;at least once&quot;.\r\n\r\nUnder normal circumstances all messages will arrive. The only question is how often you experience abnormal circumstances.","title":"Akka: - why is it that messages are not guaranteed to arrive (after being send)? What is the failure rate for messages?","body":"<p>So, Akka actually offers both options of &quot;at-most once delivery&quot; and guaranteed delivery aka &quot;at least once delivery&quot;. See <a href=\"https://doc.akka.io/docs/akka/current/general/message-delivery-reliability.html\" rel=\"nofollow noreferrer\">the link user1234 posted</a> in the comments for a good introduction into the concepts of &quot;at least once&quot; vs &quot;at most once&quot;.</p>\n<p>So Akka can do either option. Why is &quot;at most once&quot; the default?</p>\n<p>The short answer to your question is that switching to guaranteed delivery has at least five very significant costs:</p>\n<ul>\n<li><p>Guaranteed delivery in a distributed system requires persistence (otherwise you can't guarantee delivery in case of node failure). This introduces an enormous performance overhead, however.</p>\n</li>\n<li><p>Guaranteed delivery in a distributed system introduces the chance of duplicate deliveries. (If you can't confirm delivery, fundamentally the only thing you can do is retry, introducing potential duplicates). For some applications this is problematic. (You can resolve this with de-duping, but this introduces additional overhead and is generally easier to do in application code.) Thus the term &quot;at least once&quot;.</p>\n</li>\n<li><p>Guaranteed delivery can also affect message order. e.g. you can either wait for each acknowledgement before attempting the next (which would be insanely slow) or you can deliver retries out of order. Which, for many applications, can be problematic.</p>\n</li>\n<li><p>Guaranteed delivery just has a lot more overhead. This includes both the bookkeeping necessary, the memory to basically keep messages around longer, and also the network chatter of acknowledgements.</p>\n</li>\n<li><p>Guaranteed delivery also requires persistence, as noted above. But not only does this add overhead as already mentioned, but this just also adds complexity. Especially since this generally means centralized storage if you want to handle failed nodes well and/or expanding/contracting clusters.</p>\n</li>\n</ul>\n<p>So, Akka gives you the choice. But it also cautions you (in that doc) that for most applications it is much easier to handle message delivery failures via application code than by relying on guaranteed delivery. (Both for performance reasons and because guaranteed delivery introduces its own problems like duplicates and out of order messages.)</p>\n<p>EDIT:\nIn response to the follow up on how reliable &quot;at most once&quot; messaging is, it's better to think in terms of resiliency, not &quot;reliability&quot;. In other words, under normal circumstances both &quot;at most once&quot; and &quot;at least once&quot; will deliver a message exactly once.</p>\n<p>What distinguishes &quot;at most once&quot; and &quot;at least once&quot; is how they handle problems. For example, imagine a sample application that sends a million messages from actor A on node A to actor B on node B. Under normal circumstances, both &quot;at most once&quot; and &quot;at least once&quot; will have a 100% success rate. But if I shutdown node B in the middle of the test run, the &quot;at most once&quot; application will start having network timeout errors and some messages will fail. Whereas, the &quot;at least once&quot; version will save all messages to persistence once sent. I could actually shutdown both node A and node B, wait a month, turn them back on and the system would recover and all messages would have been delivered.</p>\n<p>The key thing to understand is that it's not as if the messaging protocol is inherently unreliable: there's no &quot;how many messages will ordinarily fail&quot; because messages don't fail under ordinary circumstances even in &quot;at most once&quot;. If your hardware is 100% reliable and your network is 100% reliable and your software is 100% reliable, then  your messages will be delivered 100% of the time with either approach. But if your network is down then you will lose 100% of your messages with &quot;at most once&quot; and you will lose 0% with &quot;at least once&quot;. If your destination server crashed due to an NPE, you will lose 100% your messages with &quot;at most once&quot; and 0% with &quot;at least once&quot;.</p>\n<p>Under normal circumstances all messages will arrive. The only question is how often you experience abnormal circumstances.</p>\n"}],"owner":{"account_id":3645217,"reputation":341,"user_id":3038404,"accept_rate":0,"display_name":"user3038404"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":252,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1673190282,"creation_date":1575410552,"question_id":59166048,"body_markdown":"It says in the documentation that akka has &quot;at-most once delivery&quot;, and that messages are not guaranteed to arrive at destination.\r\n\r\nWhat is the reason for this behavior? What happens to the messages which are not delivered? Are they considered lost?\r\n\r\nEdit: I forgot the most important part. Is there a rate of loss I can refer to?\r\nDo you know how pessimistic I have to be as regards message delivery guarantee (like is there % rate of failures?).. Just because I have a cluster of actors, and they will be running on the same web-server, and I don&#39;t know If I should be thinking if message failures will be 1 in 5, or 1 in 100.","title":"Akka: - why is it that messages are not guaranteed to arrive (after being send)? What is the failure rate for messages?","body":"<p>It says in the documentation that akka has \"at-most once delivery\", and that messages are not guaranteed to arrive at destination.</p>\n\n<p>What is the reason for this behavior? What happens to the messages which are not delivered? Are they considered lost?</p>\n\n<p>Edit: I forgot the most important part. Is there a rate of loss I can refer to?\nDo you know how pessimistic I have to be as regards message delivery guarantee (like is there % rate of failures?).. Just because I have a cluster of actors, and they will be running on the same web-server, and I don't know If I should be thinking if message failures will be 1 in 5, or 1 in 100.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":893101,"reputation":3385,"user_id":931004,"accept_rate":100,"display_name":"Ghokun"},"score":1,"creation_date":1623579817,"post_id":67957102,"comment_id":120114498,"body_markdown":"Take a look at `org.eclipse.jdt.core.formatter.CodeFormatter`. This plugin uses it https://github.com/revelc/formatter-maven-plugin/blob/main/src/main/java/net/revelc/code/formatter/java/JavaFormatter.java","body":"Take a look at <code>org.eclipse.jdt.core.formatter.CodeFormatter</code>. This plugin uses it <a href=\"https://github.com/revelc/formatter-maven-plugin/blob/main/src/main/java/net/revelc/code/formatter/java/JavaFormatter.java\" rel=\"nofollow noreferrer\">github.com/revelc/formatter-maven-plugin/blob/main/src/main/&zwnj;&#8203;&hellip;</a>"},{"owner":{"account_id":956558,"reputation":30924,"user_id":981744,"display_name":"Erwin Bolwidt"},"score":0,"creation_date":1623629277,"post_id":67957102,"comment_id":120125846,"body_markdown":"Looks like the Google formatter only formats entire Java compilation units, not single methods. If you know it&#39;s a method, you could put a class declaration around the method before formatting. If the declaration that you put around it is properly formatted, the `formatSource` method shouldn&#39;t change it, so you can lift out the formatted method again after formatting.","body":"Looks like the Google formatter only formats entire Java compilation units, not single methods. If you know it&#39;s a method, you could put a class declaration around the method before formatting. If the declaration that you put around it is properly formatted, the <code>formatSource</code> method shouldn&#39;t change it, so you can lift out the formatted method again after formatting."}],"answers":[{"tags":[],"owner":{"account_id":8613651,"reputation":71,"user_id":6451344,"display_name":"MoneyPenny"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658644105,"creation_date":1658642940,"answer_id":73096170,"question_id":67957102,"body_markdown":"\r\nCreate custom template code as a full compilation unit and remove the template back to snippet after formatting. \r\n\r\nsee below\r\n \r\n\r\n        public String formatSnippet(String snippet) throws FormatterException {\r\n        final String CUNIT = &quot;class code { public method() { /*;*/&quot;;\r\n        String fCode = new Formatter().formatSource(CUNIT + snippet + &quot;/*;*/}}&quot;);\r\n        int startIndex = fCode.indexOf(&quot;/*;*/&quot;) + 5;\r\n        int endIndex = fCode.indexOf(&quot;/*;*/&quot;, startIndex) - 1;\r\n        return startIndex &gt; 0 &amp;&amp; endIndex &gt; 0 &amp;&amp; endIndex &gt; startIndex ? fCode.substring(startIndex, endIndex) : snippet;\r\n    }","title":"How to format Java code snippets programmatically","body":"<p>Create custom template code as a full compilation unit and remove the template back to snippet after formatting.</p>\n<p>see below</p>\n<pre><code>    public String formatSnippet(String snippet) throws FormatterException {\n    final String CUNIT = &quot;class code { public method() { /*;*/&quot;;\n    String fCode = new Formatter().formatSource(CUNIT + snippet + &quot;/*;*/}}&quot;);\n    int startIndex = fCode.indexOf(&quot;/*;*/&quot;) + 5;\n    int endIndex = fCode.indexOf(&quot;/*;*/&quot;, startIndex) - 1;\n    return startIndex &gt; 0 &amp;&amp; endIndex &gt; 0 &amp;&amp; endIndex &gt; startIndex ? fCode.substring(startIndex, endIndex) : snippet;\n}\n</code></pre>\n"}],"owner":{"account_id":7843748,"reputation":3156,"user_id":5929425,"accept_rate":81,"display_name":"Carla"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":402,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1673189661,"creation_date":1623579159,"question_id":67957102,"body_markdown":"I&#39;m looking for a java library to format/beautify Java code snippets. So for I have been using Google Java Format however it seems to work just for fully-fledged Java classes and not for code snippets. For example, the following code snippet has been formatted online without an issue:\r\n\r\n    @Bean public ConfigurableServletWebServerFactory webServerFactory() {\r\n      JettyServletWebServerFactory factory = new JettyServletWebServerFactory();\r\n      factory.setPort(9000);\r\n      factory.setContextPath(&quot;/myapp&quot;);\r\n      factory.addErrorPages(new ErrorPage(HttpStatus.NOT_FOUND, &quot;/notfound.html&quot;));\r\n      return factory;\r\n    }\r\nBut using Google Formatter, the following error is returned:\r\n\r\n     error: class, interface, or enum expected\r\n\r\nI&#39;ve used the following code to attempt parsing it:\r\n\r\n    String formattedSource = new Formatter().formatSource(code);\r\n\r\nAny idea how to fix it?","title":"How to format Java code snippets programmatically","body":"<p>I'm looking for a java library to format/beautify Java code snippets. So for I have been using Google Java Format however it seems to work just for fully-fledged Java classes and not for code snippets. For example, the following code snippet has been formatted online without an issue:</p>\n<pre><code>@Bean public ConfigurableServletWebServerFactory webServerFactory() {\n  JettyServletWebServerFactory factory = new JettyServletWebServerFactory();\n  factory.setPort(9000);\n  factory.setContextPath(&quot;/myapp&quot;);\n  factory.addErrorPages(new ErrorPage(HttpStatus.NOT_FOUND, &quot;/notfound.html&quot;));\n  return factory;\n}\n</code></pre>\n<p>But using Google Formatter, the following error is returned:</p>\n<pre><code> error: class, interface, or enum expected\n</code></pre>\n<p>I've used the following code to attempt parsing it:</p>\n<pre><code>String formattedSource = new Formatter().formatSource(code);\n</code></pre>\n<p>Any idea how to fix it?</p>\n"},{"tags":["java","android","android-intent","android-manifest","android-permissions"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1633511331,"post_id":69462727,"comment_id":122776368,"body_markdown":"`catch (Exception ex)` You are not printing the stack trace nor logging ex.getMessage(). So what do you know?","body":"<code>catch (Exception ex)</code> You are not printing the stack trace nor logging ex.getMessage(). So what do you know?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1633511388,"post_id":69462727,"comment_id":122776391,"body_markdown":"`the error that I get when trying to open intent:` That is while trying the second intent.","body":"<code>the error that I get when trying to open intent:</code> That is while trying the second intent."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1633511457,"post_id":69462727,"comment_id":122776422,"body_markdown":"`need to get the MANAGE_ALL_FILES_ACCESS_PERMISSION to be able to download and install APK&#39;s from my application.` I doubt that. You can do such things without i think.","body":"<code>need to get the MANAGE_ALL_FILES_ACCESS_PERMISSION to be able to download and install APK&#39;s from my application.</code> I doubt that. You can do such things without i think."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1633511499,"post_id":69462727,"comment_id":122776448,"body_markdown":"`I am using (XCover 4s).` But not telling Android version of that device.","body":"<code>I am using (XCover 4s).</code> But not telling Android version of that device."},{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1633516871,"post_id":69462727,"comment_id":122778726,"body_markdown":"Generally speaking, there is no requirement for a device manufacturer to support all possible `Settings` `Intent` actions. So, my guess is that your device lacks support for those all-files permissions `Intent` actions.","body":"Generally speaking, there is no requirement for a device manufacturer to support all possible <code>Settings</code> <code>Intent</code> actions. So, my guess is that your device lacks support for those all-files permissions <code>Intent</code> actions."},{"owner":{"account_id":6997264,"reputation":1097,"user_id":9695530,"display_name":"Richard"},"score":0,"creation_date":1633525207,"post_id":69462727,"comment_id":122782323,"body_markdown":"@blackapps Well I do need the permission, I have tried basically all the other ways around that, that I could think of. About my device, its like I mentioned.. If I try a device with Android 6, 7, 8, 9 everything works but when I try it with Android 10 or 11 I get the error I was mentioning. Also about the exception that I am not printing.. I have tried printing it and it is exactly the same: `android.content.ActivityNotFoundException: No Activity found to handle Intent { act=android.settings.MANAGE_ALL_FILES_ACCESS_PERMISSION }`","body":"@blackapps Well I do need the permission, I have tried basically all the other ways around that, that I could think of. About my device, its like I mentioned.. If I try a device with Android 6, 7, 8, 9 everything works but when I try it with Android 10 or 11 I get the error I was mentioning. Also about the exception that I am not printing.. I have tried printing it and it is exactly the same: <code>android.content.ActivityNotFoundException: No Activity found to handle Intent { act=android.settings.MANAGE_ALL_FILES_ACCESS_PERMISSION }</code>"},{"owner":{"account_id":6997264,"reputation":1097,"user_id":9695530,"display_name":"Richard"},"score":0,"creation_date":1633525278,"post_id":69462727,"comment_id":122782363,"body_markdown":"@CommonsWare So does that mean that there is no way around this?","body":"@CommonsWare So does that mean that there is no way around this?"},{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1633525669,"post_id":69462727,"comment_id":122782548,"body_markdown":"&quot;So does that mean that there is no way around this?&quot; -- I do not have a workaround for you, sorry.","body":"&quot;So does that mean that there is no way around this?&quot; -- I do not have a workaround for you, sorry."}],"answers":[{"tags":[],"owner":{"account_id":6997264,"reputation":1097,"user_id":9695530,"display_name":"Richard"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1633678742,"creation_date":1633677726,"answer_id":69492014,"question_id":69462727,"body_markdown":"The answer to getting the storage permission that worked for me.\r\n\r\nI had to change the `Manifest.permission. strings` so instead of what was written in the question I used.\r\n\r\n    \r\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {\r\n        ActivityCompat.requestPermissions(\r\n                activity,\r\n                new String[]{\r\n                        Manifest.permission.READ_EXTERNAL_STORAGE,\r\n                        Manifest.permission.MANAGE_EXTERNAL_STORAGE\r\n                },\r\n                1\r\n        );\r\n    } else {\r\n        ActivityCompat.requestPermissions(activity,\r\n                new String[]{Manifest.permission.WRITE_EXTERNAL_STORAGE},\r\n                100);\r\n    }\r\n\r\nOr similarly this could be used :\r\n\r\n    \r\n    if (ContextCompat.checkSelfPermission(activity, Manifest.permission.READ_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED) {\r\n        ActivityCompat.requestPermissions(activity, new String[]{Manifest.permission.WRITE_EXTERNAL_STORAGE,Manifest.permission.READ_EXTERNAL_STORAGE}, 1);\r\n    }\r\n\r\n    if (ContextCompat.checkSelfPermission(activity, Manifest.permission.WRITE_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED) {\r\n        ActivityCompat.requestPermissions(activity, new String[]{Manifest.permission.WRITE_EXTERNAL_STORAGE}, 1);\r\n    }\r\n\r\nThen to get the prompt to allow user to install `Apps from unkown sources` :\r\n\r\n    \r\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n        if (!activity.getPackageManager().canRequestPackageInstalls()) {\r\n            activity.startActivityForResult(new Intent(Settings.ACTION_MANAGE_UNKNOWN_APP_SOURCES).setData(Uri.parse(String.format(&quot;package:%s&quot;, activity.getPackageName()))), 1234);\r\n        } else {\r\n        }\r\n    }","title":"No Activity found to handle Intent when trying to programmatically ask for permissions","body":"<p>The answer to getting the storage permission that worked for me.</p>\n<p>I had to change the <code>Manifest.permission. strings</code> so instead of what was written in the question I used.</p>\n<pre><code>if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {\n    ActivityCompat.requestPermissions(\n            activity,\n            new String[]{\n                    Manifest.permission.READ_EXTERNAL_STORAGE,\n                    Manifest.permission.MANAGE_EXTERNAL_STORAGE\n            },\n            1\n    );\n} else {\n    ActivityCompat.requestPermissions(activity,\n            new String[]{Manifest.permission.WRITE_EXTERNAL_STORAGE},\n            100);\n}\n</code></pre>\n<p>Or similarly this could be used :</p>\n<pre><code>if (ContextCompat.checkSelfPermission(activity, Manifest.permission.READ_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED) {\n    ActivityCompat.requestPermissions(activity, new String[]{Manifest.permission.WRITE_EXTERNAL_STORAGE,Manifest.permission.READ_EXTERNAL_STORAGE}, 1);\n}\n\nif (ContextCompat.checkSelfPermission(activity, Manifest.permission.WRITE_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED) {\n    ActivityCompat.requestPermissions(activity, new String[]{Manifest.permission.WRITE_EXTERNAL_STORAGE}, 1);\n}\n</code></pre>\n<p>Then to get the prompt to allow user to install <code>Apps from unkown sources</code> :</p>\n<pre><code>if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n    if (!activity.getPackageManager().canRequestPackageInstalls()) {\n        activity.startActivityForResult(new Intent(Settings.ACTION_MANAGE_UNKNOWN_APP_SOURCES).setData(Uri.parse(String.format(&quot;package:%s&quot;, activity.getPackageName()))), 1234);\n    } else {\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23306790,"reputation":1,"user_id":17386659,"display_name":"arsoo amgad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673189624,"creation_date":1673189533,"answer_id":75048727,"question_id":69462727,"body_markdown":"I had this problem when I was trying to navigate the user to enable all files access permission on the app screen directly.\r\n\r\nSolution for this one is to add the package name like this:\r\n\r\n    val storageIntent = Intent(Settings.ACTION_MANAGE_APP_ALL_FILES_ACCESS_PERMISSION,\r\n                        Uri.parse(&quot;package:$packageName&quot;))","title":"No Activity found to handle Intent when trying to programmatically ask for permissions","body":"<p>I had this problem when I was trying to navigate the user to enable all files access permission on the app screen directly.</p>\n<p>Solution for this one is to add the package name like this:</p>\n<pre><code>val storageIntent = Intent(Settings.ACTION_MANAGE_APP_ALL_FILES_ACCESS_PERMISSION,\n                    Uri.parse(&quot;package:$packageName&quot;))\n</code></pre>\n"}],"owner":{"account_id":6997264,"reputation":1097,"user_id":9695530,"display_name":"Richard"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4320,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":69492014,"answer_count":2,"score":3,"last_activity_date":1673189624,"creation_date":1633510898,"question_id":69462727,"body_markdown":"I need to get the `MANAGE_ALL_FILES_ACCESS_PERMISSION` to be able to download and install APK&#39;s from my application. &lt;br&gt;\r\nWhen I was targeting SDK 27 and lower, everything worked fine, when I declared \r\n\r\n        &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;/&gt;\r\nin the manifest and asked for permission with             `ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.WRITE_EXTERNAL_STORAGE}, 100);`\r\n\r\n\r\nBut now I need to target SDK 30, meaning that `WRITE_EXTERNAL_STORAGE` is deprecated and not working for API versions 29 and 30. \r\n\r\nI have been trying to find a workaround and one that I could think of was starting the `Intent` to allow users to switch the permission on by themselves but I cannot get it to work.\r\n\r\nThe code I am using:\r\n\r\n\r\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {\r\n        try {\r\n            Uri uri = Uri.parse(&quot;package:&quot; + BuildConfig.APPLICATION_ID);\r\n            Intent intent = new Intent(Settings.ACTION_MANAGE_APP_ALL_FILES_ACCESS_PERMISSION, uri);\r\n            startActivity(intent);\r\n        } catch (Exception ex){\r\n            Intent intent = new Intent();\r\n            intent.setAction(Settings.ACTION_MANAGE_ALL_FILES_ACCESS_PERMISSION);\r\n            startActivity(intent);\r\n        }\r\n    } else {\r\n        ActivityCompat.requestPermissions(this,\r\n                new String[]{Manifest.permission.WRITE_EXTERNAL_STORAGE},\r\n                100);\r\n    }\r\n\r\nAnd the error that I get when trying to open intent: \r\n\r\n    android.content.ActivityNotFoundException: No Activity found to handle Intent { act=android.settings.MANAGE_ALL_FILES_ACCESS_PERMISSION }\r\n\r\nThe error comes from the catch block but the `Exception ex` gives the same error.\r\n\r\nWhat am I doing wrong or is this just not allowed on the current phone I am using (XCover 4s Android 10).","title":"No Activity found to handle Intent when trying to programmatically ask for permissions","body":"<p>I need to get the <code>MANAGE_ALL_FILES_ACCESS_PERMISSION</code> to be able to download and install APK's from my application. <br>\nWhen I was targeting SDK 27 and lower, everything worked fine, when I declared</p>\n<pre><code>    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;/&gt;\n</code></pre>\n<p>in the manifest and asked for permission with             <code>ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.WRITE_EXTERNAL_STORAGE}, 100);</code></p>\n<p>But now I need to target SDK 30, meaning that <code>WRITE_EXTERNAL_STORAGE</code> is deprecated and not working for API versions 29 and 30.</p>\n<p>I have been trying to find a workaround and one that I could think of was starting the <code>Intent</code> to allow users to switch the permission on by themselves but I cannot get it to work.</p>\n<p>The code I am using:</p>\n<pre><code>if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {\n    try {\n        Uri uri = Uri.parse(&quot;package:&quot; + BuildConfig.APPLICATION_ID);\n        Intent intent = new Intent(Settings.ACTION_MANAGE_APP_ALL_FILES_ACCESS_PERMISSION, uri);\n        startActivity(intent);\n    } catch (Exception ex){\n        Intent intent = new Intent();\n        intent.setAction(Settings.ACTION_MANAGE_ALL_FILES_ACCESS_PERMISSION);\n        startActivity(intent);\n    }\n} else {\n    ActivityCompat.requestPermissions(this,\n            new String[]{Manifest.permission.WRITE_EXTERNAL_STORAGE},\n            100);\n}\n</code></pre>\n<p>And the error that I get when trying to open intent:</p>\n<pre><code>android.content.ActivityNotFoundException: No Activity found to handle Intent { act=android.settings.MANAGE_ALL_FILES_ACCESS_PERMISSION }\n</code></pre>\n<p>The error comes from the catch block but the <code>Exception ex</code> gives the same error.</p>\n<p>What am I doing wrong or is this just not allowed on the current phone I am using (XCover 4s Android 10).</p>\n"},{"tags":["java","android","proguard","google-directions-api"],"comments":[{"owner":{"account_id":5823420,"reputation":785,"user_id":6656833,"display_name":"Pavel"},"score":0,"creation_date":1673190173,"post_id":75048723,"comment_id":132437786,"body_markdown":"The `results.routes` returns an empty array, but you don&#39;t have any guard against it","body":"The <code>results.routes</code> returns an empty array, but you don&#39;t have any guard against it"},{"owner":{"account_id":19089752,"reputation":167,"user_id":13940268,"display_name":"Mohanasundar"},"score":0,"creation_date":1673190617,"post_id":75048723,"comment_id":132437877,"body_markdown":"@Pavel but it works on debug build","body":"@Pavel but it works on debug build"},{"owner":{"account_id":5823420,"reputation":785,"user_id":6656833,"display_name":"Pavel"},"score":0,"creation_date":1673191038,"post_id":75048723,"comment_id":132437962,"body_markdown":"maybe compare your configuration of the direction api connection between the debug and release build","body":"maybe compare your configuration of the direction api connection between the debug and release build"},{"owner":{"account_id":19089752,"reputation":167,"user_id":13940268,"display_name":"Mohanasundar"},"score":0,"creation_date":1673192435,"post_id":75048723,"comment_id":132438270,"body_markdown":"@Pavel thank you sir it actually proguard issue only I resolved by adding this `-keep class com.google.maps.model.DirectionsRoute` `-keep class com.google.maps.model.EncodedPolyline` `-keep class com.google.maps.model.DirectionsLeg`","body":"@Pavel thank you sir it actually proguard issue only I resolved by adding this <code>-keep class com.google.maps.model.DirectionsRoute</code> <code>-keep class com.google.maps.model.EncodedPolyline</code> <code>-keep class com.google.maps.model.DirectionsLeg</code>"}],"owner":{"account_id":19089752,"reputation":167,"user_id":13940268,"display_name":"Mohanasundar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":167,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1673189504,"creation_date":1673189504,"question_id":75048723,"body_markdown":"I implemented Direction API in my app it works perfectly on debug build but getting crash on release build I think it is because of proguard rules what rule I want to add in proguard to resolve this issue.\r\n\r\n```\r\nprivate void getDirections() {\r\n            DirectionsResult result = getDirectionsDetails(&quot;place_id:&quot; + pickupPlaceID, &quot;place_id:&quot; + dropPlaceID, TravelMode.DRIVING);\r\n            if (result != null) {\r\n                addPolyline(result);\r\n                positionCamera(result.routes[0]);\r\n            }\r\n    }\r\n\r\nprivate DirectionsResult getDirectionsDetails(String origin, String destination, TravelMode mode) {\r\n            return DirectionsApi.newRequest(geoApiContext).mode(mode).origin(origin).destination(destination).await();\r\n        \r\n    }\r\nprivate void addPolyline(DirectionsResult results) {\r\n\r\n                try {\r\n\r\n                    DirectionsRoute[] routes = results.routes;\r\n                    DirectionsRoute route = routes[0];\r\n                    EncodedPolyline overviewPolyline = route.overviewPolyline; //getting error here\r\n                    String encodedPath = overviewPolyline.getEncodedPath();\r\n                    List&lt;LatLng&gt; decodedPath = PolyUtil.decode(encodedPath);\r\n                    nGoogleMap.addPolyline(new PolylineOptions().addAll(decodedPath));\r\n                }catch (Exception e){\r\n                    e.printStackTrace();\r\n                }\r\n\r\n    }\r\n```\r\n\r\n```\r\njava.lang.NullPointerException: \r\nAttempt to invoke virtual method &#39;java.lang.Class java.lang.Object.getClass()&#39; on a null object reference\r\nSystem.err com.example.newapp at com.example.newapp.ui.home.HomeFragment.lambda$addPolyline$30(HomeFragment.java:1110)\r\n```","title":"getting null pointer exception java.lang.Class java.lang.Object.getClass()","body":"<p>I implemented Direction API in my app it works perfectly on debug build but getting crash on release build I think it is because of proguard rules what rule I want to add in proguard to resolve this issue.</p>\n<pre><code>private void getDirections() {\n            DirectionsResult result = getDirectionsDetails(&quot;place_id:&quot; + pickupPlaceID, &quot;place_id:&quot; + dropPlaceID, TravelMode.DRIVING);\n            if (result != null) {\n                addPolyline(result);\n                positionCamera(result.routes[0]);\n            }\n    }\n\nprivate DirectionsResult getDirectionsDetails(String origin, String destination, TravelMode mode) {\n            return DirectionsApi.newRequest(geoApiContext).mode(mode).origin(origin).destination(destination).await();\n        \n    }\nprivate void addPolyline(DirectionsResult results) {\n\n                try {\n\n                    DirectionsRoute[] routes = results.routes;\n                    DirectionsRoute route = routes[0];\n                    EncodedPolyline overviewPolyline = route.overviewPolyline; //getting error here\n                    String encodedPath = overviewPolyline.getEncodedPath();\n                    List&lt;LatLng&gt; decodedPath = PolyUtil.decode(encodedPath);\n                    nGoogleMap.addPolyline(new PolylineOptions().addAll(decodedPath));\n                }catch (Exception e){\n                    e.printStackTrace();\n                }\n\n    }\n</code></pre>\n<pre><code>java.lang.NullPointerException: \nAttempt to invoke virtual method 'java.lang.Class java.lang.Object.getClass()' on a null object reference\nSystem.err com.example.newapp at com.example.newapp.ui.home.HomeFragment.lambda$addPolyline$30(HomeFragment.java:1110)\n</code></pre>\n"},{"tags":["java","kubernetes","ssl","jenkins","cryptography"],"comments":[{"owner":{"account_id":26127214,"reputation":1801,"user_id":19818461,"display_name":"Veera Nagireddy"},"score":0,"creation_date":1673188704,"post_id":75048080,"comment_id":132437472,"body_markdown":"Try adding this to the JVM settings:\n\n&quot;-Djdk.tls.client.protocols=TLSv1.2&quot; and also check versions compatibility..refer to this [SO](https://stackoverflow.com/questions/7587851/openssl-unable-to-verify-the-first-certificate-for-experian-url) &amp; [link](https://github.com/kubernetes-client/java/issues/893) for more information","body":"Try adding this to the JVM settings:  &quot;-Djdk.tls.client.protocols=TLSv1.2&quot; and also check versions compatibility..refer to this <a href=\"https://stackoverflow.com/questions/7587851/openssl-unable-to-verify-the-first-certificate-for-experian-url\">SO</a> &amp; <a href=\"https://github.com/kubernetes-client/java/issues/893\" rel=\"nofollow noreferrer\">link</a> for more information"},{"owner":{"account_id":15755358,"reputation":25,"user_id":11368695,"display_name":"Martin Smola"},"score":0,"creation_date":1673190390,"post_id":75048080,"comment_id":132437830,"body_markdown":"It didn&#39;t helped :( ```java -Duser.home=/var/jenkins_home -Dcasc.reload.token=jenkins-0 -Djdk.tls.client.protocols=TLSv1.2 -Djenkins.model.Jenkins.slaveAgentPort=50000 -Dhudson.lifecycle=hudson.lifecycle.ExitLifecycle -jar /usr/share/jenkins/jenkins.war --webroot=/var/jenkins_cache/war --httpPort=8080```","body":"It didn&#39;t helped :( <code>java -Duser.home=&#47;var&#47;jenkins_home -Dcasc.reload.token=jenkins-0 -Djdk.tls.client.protocols=TLSv1.2 -Djenkins.model.Jenkins.slaveAgentPort=50000 -Dhudson.lifecycle=hudson.lifecycle.ExitLifecycle -jar &#47;usr&#47;share&#47;jenkins&#47;jenkins.war --webroot=&#47;var&#47;jenkins_cache&#47;war --httpPort=8080</code>"},{"owner":{"account_id":26127214,"reputation":1801,"user_id":19818461,"display_name":"Veera Nagireddy"},"score":0,"creation_date":1673190892,"post_id":75048080,"comment_id":132437929,"body_markdown":"Versions compatibility ? refer this [link](https://issues.jenkins.io/browse/JENKINS-37643)","body":"Versions compatibility ? refer this <a href=\"https://issues.jenkins.io/browse/JENKINS-37643\" rel=\"nofollow noreferrer\">link</a>"}],"owner":{"account_id":15755358,"reputation":25,"user_id":11368695,"display_name":"Martin Smola"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":154,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673188393,"creation_date":1673184115,"question_id":75048080,"body_markdown":"I am running Jenkins inside k8s cluster(1.25.5) with CRI-O and ingress-nginx deployed by kubespray and it is installed by this helm chart:\r\nhttps://github.com/jenkinsci/helm-charts\r\n\r\nI installed the latest Kubernetes plugin but I can&#39;t connect to Kubernetes cluster.\r\nI am getting this error:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jDYwy.png\r\n\r\nI tried to make diagnose so I enabled ssl handshake debug in Jenkins and getting these values:\r\n```\r\njavax.net.ssl|DEBUG|77|Handling POST /manage/descriptorByName/org.csanchez.jenkins.plugins.kubernetes.KubernetesCloud/testConnection from 78.45.197.14 : Jetty (winstone)-119|2023-01-08 14:16:53.525 CET|SupportedGroupsExtension.java:365|Ignore inactive or disabled named group: ffdhe2048\r\njavax.net.ssl|DEBUG|77|Handling POST /manage/descriptorByName/org.csanchez.jenkins.plugins.kubernetes.KubernetesCloud/testConnection from 78.45.197.14 : Jetty (winstone)-119|2023-01-08 14:16:53.525 CET|SupportedGroupsExtension.java:365|Ignore inactive or disabled named group: ffdhe3072\r\njavax.net.ssl|DEBUG|77|Handling POST /manage/descriptorByName/org.csanchez.jenkins.plugins.kubernetes.KubernetesCloud/testConnection from 78.45.197.14 : Jetty (winstone)-119|2023-01-08 14:16:53.525 CET|SupportedGroupsExtension.java:365|Ignore inactive or disabled named group: ffdhe4096\r\njavax.net.ssl|DEBUG|77|Handling POST /manage/descriptorByName/org.csanchez.jenkins.plugins.kubernetes.KubernetesCloud/testConnection from 78.45.197.14 : Jetty (winstone)-119|2023-01-08 14:16:53.525 CET|SupportedGroupsExtension.java:365|Ignore inactive or disabled named group: ffdhe6144\r\njavax.net.ssl|DEBUG|77|Handling POST /manage/descriptorByName/org.csanchez.jenkins.plugins.kubernetes.KubernetesCloud/testConnection from 78.45.197.14 : Jetty (winstone)-119|2023-01-08 14:16:53.525 CET|SupportedGroupsExtension.java:365|Ignore inactive or disabled named group: ffdhe8192\r\njavax.net.ssl|DEBUG|77|Handling POST /manage/descriptorByName/org.csanchez.jenkins.plugins.kubernetes.KubernetesCloud/testConnection from 78.45.197.14 : Jetty (winstone)-119|2023-01-08 14:16:53.526 CET|SessionTicketExtension.java:408|Stateless resumption supported\r\njavax.net.ssl|DEBUG|77|Handling POST /manage/descriptorByName/org.csanchez.jenkins.plugins.kubernetes.KubernetesCloud/testConnection from 78.45.197.14 : Jetty (winstone)-119|2023-01-08 14:16:53.527 CET|ClientHello.java:641|Produced ClientHello handshake message (\r\n&quot;ClientHello&quot;: {\r\n  &quot;client version&quot;      : &quot;TLSv1.2&quot;,\r\n  &quot;random&quot;              : &quot;08D49711B6FB43B5C3BB9E5EE3A61BDE866BA66CDE9152DBC67B25A0E67C4BD0&quot;,\r\n  &quot;session id&quot;          : &quot;&quot;,\r\n  &quot;cipher suites&quot;       : &quot;[TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384(0xC02C), TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256(0xC02B), TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256(0xCCA9), TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384(0xC030), TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305_SHA256(0xCCA8), TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256(0xC02F), TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA(0xC014), TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA(0xC013), TLS_RSA_WITH_AES_256_GCM_SHA384(0x009D), TLS_RSA_WITH_AES_128_GCM_SHA256(0x009C), TLS_RSA_WITH_AES_256_CBC_SHA(0x0035), TLS_RSA_WITH_AES_128_CBC_SHA(0x002F)]&quot;,\r\n  &quot;compression methods&quot; : &quot;00&quot;,\r\n  &quot;extensions&quot;          : [\r\n    &quot;status_request (5)&quot;: {\r\n      &quot;certificate status type&quot;: ocsp\r\n      &quot;OCSP status request&quot;: {\r\n        &quot;responder_id&quot;: &lt;empty&gt;\r\n        &quot;request extensions&quot;: {\r\n          &lt;empty&gt;\r\n        }\r\n      }\r\n    },\r\n    &quot;supported_groups (10)&quot;: {\r\n      &quot;versions&quot;: [x25519, secp256r1, secp384r1, secp521r1, x448]\r\n    },\r\n    &quot;ec_point_formats (11)&quot;: {\r\n      &quot;formats&quot;: [uncompressed]\r\n    },\r\n    &quot;application_layer_protocol_negotiation (16)&quot;: {\r\n      [h2, http/1.1]\r\n    },\r\n    &quot;status_request_v2 (17)&quot;: {\r\n      &quot;cert status request&quot;: {\r\n        &quot;certificate status type&quot;: ocsp_multi\r\n        &quot;OCSP status request&quot;: {\r\n          &quot;responder_id&quot;: &lt;empty&gt;\r\n          &quot;request extensions&quot;: {\r\n            &lt;empty&gt;\r\n          }\r\n        }\r\n      }\r\n    },\r\n    &quot;extended_master_secret (23)&quot;: {\r\n      &lt;empty&gt;\r\n    },\r\n    &quot;session_ticket (35)&quot;: {\r\n      &lt;empty&gt;\r\n    },\r\n    &quot;signature_algorithms (13)&quot;: {\r\n      &quot;signature schemes&quot;: [ecdsa_secp256r1_sha256, ecdsa_secp384r1_sha384, ecdsa_secp521r1_sha512, ed25519, ed448, rsa_pss_rsae_sha256, rsa_pss_rsae_sha384, rsa_pss_rsae_sha512, rsa_pss_pss_sha256, rsa_pss_pss_sha384, rsa_pss_pss_sha512, rsa_pkcs1_sha256, rsa_pkcs1_sha384, rsa_pkcs1_sha512, dsa_sha256, ecdsa_sha224, rsa_sha224, dsa_sha224, ecdsa_sha1, rsa_pkcs1_sha1, dsa_sha1]\r\n    },\r\n    &quot;supported_versions (43)&quot;: {\r\n      &quot;versions&quot;: [TLSv1.2]\r\n    },\r\n    &quot;signature_algorithms_cert (50)&quot;: {\r\n      &quot;signature schemes&quot;: [ecdsa_secp256r1_sha256, ecdsa_secp384r1_sha384, ecdsa_secp521r1_sha512, ed25519, ed448, rsa_pss_rsae_sha256, rsa_pss_rsae_sha384, rsa_pss_rsae_sha512, rsa_pss_pss_sha256, rsa_pss_pss_sha384, rsa_pss_pss_sha512, rsa_pkcs1_sha256, rsa_pkcs1_sha384, rsa_pkcs1_sha512, dsa_sha256, ecdsa_sha224, rsa_sha224, dsa_sha224, ecdsa_sha1, rsa_pkcs1_sha1, dsa_sha1]\r\n    },\r\n    &quot;renegotiation_info (65,281)&quot;: {\r\n      &quot;renegotiated connection&quot;: [&lt;no renegotiated connection&gt;]\r\n    }\r\n  ]\r\n}\r\n)\r\njavax.net.ssl|DEBUG|77|Handling POST /manage/descriptorByName/org.csanchez.jenkins.plugins.kubernetes.KubernetesCloud/testConnection from 78.45.197.14 : Jetty (winstone)-119|2023-01-08 14:16:53.528 CET|Alert.java:238|Received alert message (\r\n&quot;Alert&quot;: {\r\n  &quot;level&quot;      : &quot;fatal&quot;,\r\n  &quot;description&quot;: &quot;protocol_version&quot;\r\n}\r\n)\r\njavax.net.ssl|ERROR|77|Handling POST /manage/descriptorByName/org.csanchez.jenkins.plugins.kubernetes.KubernetesCloud/testConnection from 78.45.197.14 : Jetty (winstone)-119|2023-01-08 14:16:53.531 CET|TransportContext.java:363|Fatal (PROTOCOL_VERSION): Received fatal alert: protocol_version (\r\n&quot;throwable&quot; : {\r\n  javax.net.ssl.SSLHandshakeException: Received fatal alert: protocol_version\r\n        at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131)\r\n        at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:117)\r\n        at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:358)\r\n        at java.base/sun.security.ssl.Alert$AlertConsumer.consume(Alert.java:293)\r\n        at java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:204)\r\n        at java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:172)\r\n        at java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1505)\r\n        at java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1420)\r\n        at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:455)\r\n        at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:426)\r\n        at okhttp3.internal.connection.RealConnection.connectTls(RealConnection.java:320)\r\n        at okhttp3.internal.connection.RealConnection.establishProtocol(RealConnection.java:284)\r\n        at okhttp3.internal.connection.RealConnection.connect(RealConnection.java:169)\r\n        at okhttp3.internal.connection.StreamAllocation.findConnection(StreamAllocation.java:258)\r\n        at okhttp3.internal.connection.StreamAllocation.findHealthyConnection(StreamAllocation.java:135)\r\n        at okhttp3.internal.connection.StreamAllocation.newStream(StreamAllocation.java:114)\r\n        at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.java:42)\r\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\r\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)\r\n        at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.java:93)\r\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\r\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)\r\n        at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.java:93)\r\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\r\n        at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.java:127)\r\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\r\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)\r\n        at io.fabric8.kubernetes.client.okhttp.OkHttpClientBuilderImpl$InteceptorAdapter.intercept(OkHttpClientBuilderImpl.java:62)\r\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\r\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)\r\n        at io.fabric8.kubernetes.client.okhttp.OkHttpClientBuilderImpl$InteceptorAdapter.intercept(OkHttpClientBuilderImpl.java:62)\r\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\r\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)\r\n        at io.fabric8.kubernetes.client.okhttp.OkHttpClientBuilderImpl$InteceptorAdapter.intercept(OkHttpClientBuilderImpl.java:62)\r\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\r\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)\r\n        at io.fabric8.kubernetes.client.okhttp.OkHttpClientBuilderImpl$InteceptorAdapter.intercept(OkHttpClientBuilderImpl.java:62)\r\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\r\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)\r\n        at okhttp3.RealCall.getResponseWithInterceptorChain(RealCall.java:257)\r\n        at okhttp3.RealCall.execute(RealCall.java:93)\r\n        at io.fabric8.kubernetes.client.okhttp.OkHttpClientImpl.send(OkHttpClientImpl.java:138)\r\n        at io.fabric8.kubernetes.client.dsl.base.OperationSupport.retryWithExponentialBackoff(OperationSupport.java:574)\r\n        at io.fabric8.kubernetes.client.dsl.base.OperationSupport.handleResponse(OperationSupport.java:553)\r\n        at io.fabric8.kubernetes.client.dsl.base.OperationSupport.handleResponse(OperationSupport.java:518)\r\n        at io.fabric8.kubernetes.client.dsl.base.OperationSupport.handleResponse(OperationSupport.java:502)\r\n        at io.fabric8.kubernetes.client.dsl.base.BaseOperation.listRequestHelper(BaseOperation.java:133)\r\n        at io.fabric8.kubernetes.client.dsl.base.BaseOperation.list(BaseOperation.java:415)\r\n        at io.fabric8.kubernetes.client.dsl.base.BaseOperation.list(BaseOperation.java:404)\r\n        at io.fabric8.kubernetes.client.dsl.base.BaseOperation.list(BaseOperation.java:83)\r\n        at org.csanchez.jenkins.plugins.kubernetes.KubernetesCloud$DescriptorImpl.doTestConnection(KubernetesCloud.java:744)\r\n        at java.base/java.lang.invoke.MethodHandle.invokeWithArguments(MethodHandle.java:732)\r\n        at org.kohsuke.stapler.Function$MethodFunction.invoke(Function.java:397)\r\n        at org.kohsuke.stapler.Function$InstanceFunction.invoke(Function.java:409)\r\n        at org.kohsuke.stapler.interceptor.RequirePOST$Processor.invoke(RequirePOST.java:78)\r\n        at org.kohsuke.stapler.PreInvokeInterceptedFunction.invoke(PreInvokeInterceptedFunction.java:26)\r\n        at org.kohsuke.stapler.Function.bindAndInvoke(Function.java:207)\r\n        at org.kohsuke.stapler.Function.bindAndInvokeAndServeResponse(Function.java:140)\r\n        at org.kohsuke.stapler.MetaClass$11.doDispatch(MetaClass.java:558)\r\n        at org.kohsuke.stapler.NameBasedDispatcher.dispatch(NameBasedDispatcher.java:59)\r\n        at org.kohsuke.stapler.Stapler.tryInvoke(Stapler.java:770)\r\n        at org.kohsuke.stapler.Stapler.invoke(Stapler.java:900)\r\n        at org.kohsuke.stapler.MetaClass$4.doDispatch(MetaClass.java:289)\r\n        at org.kohsuke.stapler.NameBasedDispatcher.dispatch(NameBasedDispatcher.java:59)\r\n        at org.kohsuke.stapler.Stapler.tryInvoke(Stapler.java:770)\r\n        at org.kohsuke.stapler.Stapler.invoke(Stapler.java:900)\r\n        at org.kohsuke.stapler.Stapler.tryInvoke(Stapler.java:836)\r\n        at org.kohsuke.stapler.Stapler.invoke(Stapler.java:900)\r\n        at org.kohsuke.stapler.MetaClass$9.dispatch(MetaClass.java:475)\r\n        at org.kohsuke.stapler.Stapler.tryInvoke(Stapler.java:770)\r\n        at org.kohsuke.stapler.Stapler.invoke(Stapler.java:900)\r\n        at org.kohsuke.stapler.Stapler.invoke(Stapler.java:698)\r\n        at org.kohsuke.stapler.Stapler.service(Stapler.java:248)\r\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:590)\r\n        at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:764)\r\n        at org.eclipse.jetty.servlet.ServletHandler$ChainEnd.doFilter(ServletHandler.java:1665)\r\n        at hudson.util.PluginServletFilter$1.doFilter(PluginServletFilter.java:157)\r\n        at hudson.security.HudsonPrivateSecurityRealm$2.doFilter(HudsonPrivateSecurityRealm.java:1022)\r\n        at hudson.util.PluginServletFilter$1.doFilter(PluginServletFilter.java:154)\r\n        at hudson.security.HudsonPrivateSecurityRealm$2.doFilter(HudsonPrivateSecurityRealm.java:1022)\r\n        at hudson.util.PluginServletFilter$1.doFilter(PluginServletFilter.java:154)\r\n        at jenkins.security.ResourceDomainFilter.doFilter(ResourceDomainFilter.java:81)\r\n        at hudson.util.PluginServletFilter$1.doFilter(PluginServletFilter.java:154)\r\n        at hudson.plugins.locale.LocaleFilter.doFilter(LocaleFilter.java:42)\r\n        at hudson.util.PluginServletFilter$1.doFilter(PluginServletFilter.java:154)\r\n        at jenkins.telemetry.impl.UserLanguages$AcceptLanguageFilter.doFilter(UserLanguages.java:129)\r\n        at hudson.util.PluginServletFilter$1.doFilter(PluginServletFilter.java:154)\r\n        at org.jenkinsci.plugins.ssegateway.Endpoint$SSEListenChannelFilter.doFilter(Endpoint.java:248)\r\n        at hudson.util.PluginServletFilter$1.doFilter(PluginServletFilter.java:154)\r\n        at io.jenkins.blueocean.ResourceCacheControl.doFilter(ResourceCacheControl.java:134)\r\n        at hudson.util.PluginServletFilter$1.doFilter(PluginServletFilter.java:154)\r\n        at io.jenkins.blueocean.auth.jwt.impl.JwtAuthenticationFilter.doFilter(JwtAuthenticationFilter.java:60)\r\n        at hudson.util.PluginServletFilter$1.doFilter(PluginServletFilter.java:154)\r\n        at jenkins.metrics.impl.MetricsFilter.doFilter(MetricsFilter.java:125)\r\n        at hudson.util.PluginServletFilter$1.doFilter(PluginServletFilter.java:154)\r\n        at hudson.util.PluginServletFilter.doFilter(PluginServletFilter.java:160)\r\n        at org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:202)\r\n        at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1635)\r\n        at hudson.security.csrf.CrumbFilter.doFilter(CrumbFilter.java:154)\r\n        at org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:202)\r\n        at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1635)\r\n        at hudson.security.ChainedServletFilter$1.doFilter(ChainedServletFilter.java:94)\r\n        at jenkins.security.AcegiSecurityExceptionFilter.doFilter(AcegiSecurityExceptionFilter.java:52)\r\n        at hudson.security.ChainedServletFilter$1.doFilter(ChainedServletFilter.java:99)\r\n        at hudson.security.UnwrapSecurityExceptionFilter.doFilter(UnwrapSecurityExceptionFilter.java:54)\r\n        at hudson.security.ChainedServletFilter$1.doFilter(ChainedServletFilter.java:99)\r\n        at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)\r\n        at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)\r\n        at hudson.security.ChainedServletFilter$1.doFilter(ChainedServletFilter.java:99)\r\n        at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)\r\n        at hudson.security.ChainedServletFilter$1.doFilter(ChainedServletFilter.java:99)\r\n        at org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter.doFilter(RememberMeAuthenticationFilter.java:110)\r\n        at org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter.doFilter(RememberMeAuthenticationFilter.java:101)\r\n        at hudson.security.ChainedServletFilter$1.doFilter(ChainedServletFilter.java:99)\r\n        at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)\r\n        at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)\r\n        at hudson.security.ChainedServletFilter$1.doFilter(ChainedServletFilter.java:99)\r\n        at jenkins.security.BasicHeaderProcessor.doFilter(BasicHeaderProcessor.java:97)\r\n        at hudson.security.ChainedServletFilter$1.doFilter(ChainedServletFilter.java:99)\r\n        at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:117)\r\n        at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:87)\r\n        at hudson.security.HttpSessionContextIntegrationFilter2.doFilter(HttpSessionContextIntegrationFilter2.java:63)\r\n        at hudson.security.ChainedServletFilter$1.doFilter(ChainedServletFilter.java:99)\r\n        at hudson.security.ChainedServletFilter.doFilter(ChainedServletFilter.java:111)\r\n        at hudson.security.HudsonFilter.doFilter(HudsonFilter.java:172)\r\n        at org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:202)\r\n        at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1635)\r\n        at org.kohsuke.stapler.compression.CompressionFilter.doFilter(CompressionFilter.java:53)\r\n        at org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:202)\r\n        at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1635)\r\n        at hudson.util.CharacterEncodingFilter.doFilter(CharacterEncodingFilter.java:86)\r\n        at org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:202)\r\n        at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1635)\r\n        at org.kohsuke.stapler.DiagnosticThreadNameFilter.doFilter(DiagnosticThreadNameFilter.java:30)\r\n        at org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:202)\r\n        at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1635)\r\n        at jenkins.security.SuspiciousRequestFilter.doFilter(SuspiciousRequestFilter.java:38)\r\n        at org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:202)\r\n        at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1635)\r\n        at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:527)\r\n        at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:131)\r\n        at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:549)\r\n        at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:122)\r\n        at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:223)\r\n        at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:1570)\r\n        at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:221)\r\n        at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1383)\r\n        at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:176)\r\n        at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:484)\r\n        at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1543)\r\n        at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:174)\r\n        at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1305)\r\n        at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:129)\r\n        at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:122)\r\n        at org.eclipse.jetty.server.Server.handle(Server.java:563)\r\n        at org.eclipse.jetty.server.HttpChannel.lambda$handle$0(HttpChannel.java:505)\r\n        at org.eclipse.jetty.server.HttpChannel.dispatch(HttpChannel.java:762)\r\n        at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:497)\r\n        at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:282)\r\n        at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:314)\r\n        at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:100)\r\n        at org.eclipse.jetty.io.SelectableChannelEndPoint$1.run(SelectableChannelEndPoint.java:53)\r\n        at org.eclipse.jetty.util.thread.strategy.AdaptiveExecutionStrategy.runTask(AdaptiveExecutionStrategy.java:416)\r\n        at org.eclipse.jetty.util.thread.strategy.AdaptiveExecutionStrategy.consumeTask(AdaptiveExecutionStrategy.java:385)\r\n        at org.eclipse.jetty.util.thread.strategy.AdaptiveExecutionStrategy.tryProduce(AdaptiveExecutionStrategy.java:272)\r\n        at org.eclipse.jetty.util.thread.strategy.AdaptiveExecutionStrategy.lambda$new$0(AdaptiveExecutionStrategy.java:140)\r\n        at org.eclipse.jetty.util.thread.ReservedThreadExecutor$ReservedThread.run(ReservedThreadExecutor.java:411)\r\n        at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:934)\r\n        at org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:1078)\r\n        at java.base/java.lang.Thread.run(Thread.java:833)}\r\n\r\n)\r\njavax.net.ssl|DEBUG|77|Handling POST /manage/descriptorByName/org.csanchez.jenkins.plugins.kubernetes.KubernetesCloud/testConnection from 78.45.197.14 : Jetty (winstone)-119|2023-01-08 14:16:53.532 CET|SSLSocketImpl.java:1754|close the underlying socket\r\njavax.net.ssl|DEBUG|77|Handling POST /manage/descriptorByName/org.csanchez.jenkins.plugins.kubernetes.KubernetesCloud/testConnection from 78.45.197.14 : Jetty (winstone)-119|2023-01-08 14:16:53.532 CET|SSLSocketImpl.java:1780|close the SSL connection (passive)\r\n```\r\n\r\nAlso when I tried this command \r\n```\r\nopenssl s_client -connect kubernetes.default.svc.cluster.local:443\r\n```\r\nI am getting this:\r\n```\r\nCONNECTED(00000003)\r\ndepth=0 CN = kube-apiserver\r\nverify error:num=20:unable to get local issuer certificate\r\nverify return:1\r\ndepth=0 CN = kube-apiserver\r\nverify error:num=21:unable to verify the first certificate\r\nverify return:1\r\ndepth=0 CN = kube-apiserver\r\nverify return:1\r\n---\r\nCertificate chain\r\n 0 s:CN = kube-apiserver\r\n   i:CN = kubernetes\r\n   a:PKEY: rsaEncryption, 2048 (bit); sigalg: RSA-SHA256\r\n   v:NotBefore: Dec 30 13:24:38 2022 GMT; NotAfter: Jan  2 02:10:40 2024 GMT\r\n---\r\nServer certificate\r\n-----BEGIN CERTIFICATE-----\r\n\r\n-----END CERTIFICATE-----\r\nsubject=CN = kube-apiserver\r\nissuer=CN = kubernetes\r\n---\r\nAcceptable client certificate CA names\r\nCN = kubernetes\r\nCN = front-proxy-ca\r\nRequested Signature Algorithms: RSA-PSS+SHA256:ECDSA+SHA256:Ed25519:RSA-PSS+SHA384:RSA-PSS+SHA512:RSA+SHA256:RSA+SHA384:RSA+SHA512:ECDSA+SHA384:ECDSA+SHA512:0x01+0x02:0x03+0x02\r\nShared Requested Signature Algorithms: RSA-PSS+SHA256:ECDSA+SHA256:Ed25519:RSA-PSS+SHA384:RSA-PSS+SHA512:RSA+SHA256:RSA+SHA384:RSA+SHA512:ECDSA+SHA384:ECDSA+SHA512\r\nPeer signing digest: SHA256\r\nPeer signature type: RSA-PSS\r\nServer Temp Key: X25519, 253 bits\r\n---\r\nSSL handshake has read 1679 bytes and written 434 bytes\r\nVerification error: unable to verify the first certificate\r\n---\r\nNew, TLSv1.3, Cipher is TLS_AES_128_GCM_SHA256\r\nServer public key is 2048 bit\r\nSecure Renegotiation IS NOT supported\r\nCompression: NONE\r\nExpansion: NONE\r\nNo ALPN negotiated\r\nEarly data was not sent\r\nVerify return code: 21 (unable to verify the first certificate)\r\n---\r\n---\r\nPost-Handshake New Session Ticket arrived:\r\nSSL-Session:\r\n    Protocol  : TLSv1.3\r\n    Cipher    : TLS_AES_128_GCM_SHA256\r\n    Session-ID: 0468FD5467824F8B449513B6A09E2D975CD1690AE5DFBD0B3BB713AD4D86D02C\r\n    Session-ID-ctx:\r\n    Resumption PSK: 3BC22E3A910C771317E8F624DAB40723E70802964B2230AE31E9E37F211E1EDF\r\n    PSK identity: None\r\n    PSK identity hint: None\r\n    SRP username: None\r\n    TLS session ticket lifetime hint: 604800 (seconds)\r\n    TLS session ticket:\r\n    0000 - 59 da 44 7f 6c f7 bf 1f-95 3e 4c 90 34 b0 5e 4b   Y.D.l....&gt;L.4.^K\r\n    0010 - 5f b4 78 ca fd 3a 84 62-4a a3 d8 f7 56 eb 9e 6f   _.x..:.bJ...V..o\r\n    0020 - f2 15 38 e1 38 de 57 07-c0 c4 ef 4b b9 0f ac 7c   ..8.8.W....K...|\r\n    0030 - 18 6a ba 7e 25 ce df b8-a5 8e 45 8d c8 30 3a 91   .j.~%.....E..0:.\r\n    0040 - 7c fc 53 d3 09 e0 12 7b-61 be 83 29 a3 f5 49 52   |.S....{a..)..IR\r\n    0050 - 66 5c 52 5f 10 4f f0 d5-b7 d6 91 02 39 b8 0d 32   f\\R_.O......9..2\r\n    0060 - f9 9d 47 59 50 7b cc c3-bd 4e 29 dc 6c 82 b1 4b   ..GYP{...N).l..K\r\n    0070 - e2                                                .\r\n\r\n    Start Time: 1673186073\r\n    Timeout   : 7200 (sec)\r\n    Verify return code: 21 (unable to verify the first certificate)\r\n    Extended master secret: no\r\n    Max Early Data: 0\r\n---\r\nread R BLOCK\r\nclosed\r\n```\r\n\r\nDoes anyone know how to fix that, please? \r\n\r\nThanks in advance.","title":"Jenkins and Kubernetes plugin Received fatal alert: protocol_version","body":"<p>I am running Jenkins inside k8s cluster(1.25.5) with CRI-O and ingress-nginx deployed by kubespray and it is installed by this helm chart:\n<a href=\"https://github.com/jenkinsci/helm-charts\" rel=\"nofollow noreferrer\">https://github.com/jenkinsci/helm-charts</a></p>\n<p>I installed the latest Kubernetes plugin but I can't connect to Kubernetes cluster.\nI am getting this error:\n<a href=\"https://i.stack.imgur.com/jDYwy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jDYwy.png\" alt=\"enter image description here\" /></a></p>\n<p>I tried to make diagnose so I enabled ssl handshake debug in Jenkins and getting these values:</p>\n<pre><code>javax.net.ssl|DEBUG|77|Handling POST /manage/descriptorByName/org.csanchez.jenkins.plugins.kubernetes.KubernetesCloud/testConnection from 78.45.197.14 : Jetty (winstone)-119|2023-01-08 14:16:53.525 CET|SupportedGroupsExtension.java:365|Ignore inactive or disabled named group: ffdhe2048\njavax.net.ssl|DEBUG|77|Handling POST /manage/descriptorByName/org.csanchez.jenkins.plugins.kubernetes.KubernetesCloud/testConnection from 78.45.197.14 : Jetty (winstone)-119|2023-01-08 14:16:53.525 CET|SupportedGroupsExtension.java:365|Ignore inactive or disabled named group: ffdhe3072\njavax.net.ssl|DEBUG|77|Handling POST /manage/descriptorByName/org.csanchez.jenkins.plugins.kubernetes.KubernetesCloud/testConnection from 78.45.197.14 : Jetty (winstone)-119|2023-01-08 14:16:53.525 CET|SupportedGroupsExtension.java:365|Ignore inactive or disabled named group: ffdhe4096\njavax.net.ssl|DEBUG|77|Handling POST /manage/descriptorByName/org.csanchez.jenkins.plugins.kubernetes.KubernetesCloud/testConnection from 78.45.197.14 : Jetty (winstone)-119|2023-01-08 14:16:53.525 CET|SupportedGroupsExtension.java:365|Ignore inactive or disabled named group: ffdhe6144\njavax.net.ssl|DEBUG|77|Handling POST /manage/descriptorByName/org.csanchez.jenkins.plugins.kubernetes.KubernetesCloud/testConnection from 78.45.197.14 : Jetty (winstone)-119|2023-01-08 14:16:53.525 CET|SupportedGroupsExtension.java:365|Ignore inactive or disabled named group: ffdhe8192\njavax.net.ssl|DEBUG|77|Handling POST /manage/descriptorByName/org.csanchez.jenkins.plugins.kubernetes.KubernetesCloud/testConnection from 78.45.197.14 : Jetty (winstone)-119|2023-01-08 14:16:53.526 CET|SessionTicketExtension.java:408|Stateless resumption supported\njavax.net.ssl|DEBUG|77|Handling POST /manage/descriptorByName/org.csanchez.jenkins.plugins.kubernetes.KubernetesCloud/testConnection from 78.45.197.14 : Jetty (winstone)-119|2023-01-08 14:16:53.527 CET|ClientHello.java:641|Produced ClientHello handshake message (\n&quot;ClientHello&quot;: {\n  &quot;client version&quot;      : &quot;TLSv1.2&quot;,\n  &quot;random&quot;              : &quot;08D49711B6FB43B5C3BB9E5EE3A61BDE866BA66CDE9152DBC67B25A0E67C4BD0&quot;,\n  &quot;session id&quot;          : &quot;&quot;,\n  &quot;cipher suites&quot;       : &quot;[TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384(0xC02C), TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256(0xC02B), TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256(0xCCA9), TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384(0xC030), TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305_SHA256(0xCCA8), TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256(0xC02F), TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA(0xC014), TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA(0xC013), TLS_RSA_WITH_AES_256_GCM_SHA384(0x009D), TLS_RSA_WITH_AES_128_GCM_SHA256(0x009C), TLS_RSA_WITH_AES_256_CBC_SHA(0x0035), TLS_RSA_WITH_AES_128_CBC_SHA(0x002F)]&quot;,\n  &quot;compression methods&quot; : &quot;00&quot;,\n  &quot;extensions&quot;          : [\n    &quot;status_request (5)&quot;: {\n      &quot;certificate status type&quot;: ocsp\n      &quot;OCSP status request&quot;: {\n        &quot;responder_id&quot;: &lt;empty&gt;\n        &quot;request extensions&quot;: {\n          &lt;empty&gt;\n        }\n      }\n    },\n    &quot;supported_groups (10)&quot;: {\n      &quot;versions&quot;: [x25519, secp256r1, secp384r1, secp521r1, x448]\n    },\n    &quot;ec_point_formats (11)&quot;: {\n      &quot;formats&quot;: [uncompressed]\n    },\n    &quot;application_layer_protocol_negotiation (16)&quot;: {\n      [h2, http/1.1]\n    },\n    &quot;status_request_v2 (17)&quot;: {\n      &quot;cert status request&quot;: {\n        &quot;certificate status type&quot;: ocsp_multi\n        &quot;OCSP status request&quot;: {\n          &quot;responder_id&quot;: &lt;empty&gt;\n          &quot;request extensions&quot;: {\n            &lt;empty&gt;\n          }\n        }\n      }\n    },\n    &quot;extended_master_secret (23)&quot;: {\n      &lt;empty&gt;\n    },\n    &quot;session_ticket (35)&quot;: {\n      &lt;empty&gt;\n    },\n    &quot;signature_algorithms (13)&quot;: {\n      &quot;signature schemes&quot;: [ecdsa_secp256r1_sha256, ecdsa_secp384r1_sha384, ecdsa_secp521r1_sha512, ed25519, ed448, rsa_pss_rsae_sha256, rsa_pss_rsae_sha384, rsa_pss_rsae_sha512, rsa_pss_pss_sha256, rsa_pss_pss_sha384, rsa_pss_pss_sha512, rsa_pkcs1_sha256, rsa_pkcs1_sha384, rsa_pkcs1_sha512, dsa_sha256, ecdsa_sha224, rsa_sha224, dsa_sha224, ecdsa_sha1, rsa_pkcs1_sha1, dsa_sha1]\n    },\n    &quot;supported_versions (43)&quot;: {\n      &quot;versions&quot;: [TLSv1.2]\n    },\n    &quot;signature_algorithms_cert (50)&quot;: {\n      &quot;signature schemes&quot;: [ecdsa_secp256r1_sha256, ecdsa_secp384r1_sha384, ecdsa_secp521r1_sha512, ed25519, ed448, rsa_pss_rsae_sha256, rsa_pss_rsae_sha384, rsa_pss_rsae_sha512, rsa_pss_pss_sha256, rsa_pss_pss_sha384, rsa_pss_pss_sha512, rsa_pkcs1_sha256, rsa_pkcs1_sha384, rsa_pkcs1_sha512, dsa_sha256, ecdsa_sha224, rsa_sha224, dsa_sha224, ecdsa_sha1, rsa_pkcs1_sha1, dsa_sha1]\n    },\n    &quot;renegotiation_info (65,281)&quot;: {\n      &quot;renegotiated connection&quot;: [&lt;no renegotiated connection&gt;]\n    }\n  ]\n}\n)\njavax.net.ssl|DEBUG|77|Handling POST /manage/descriptorByName/org.csanchez.jenkins.plugins.kubernetes.KubernetesCloud/testConnection from 78.45.197.14 : Jetty (winstone)-119|2023-01-08 14:16:53.528 CET|Alert.java:238|Received alert message (\n&quot;Alert&quot;: {\n  &quot;level&quot;      : &quot;fatal&quot;,\n  &quot;description&quot;: &quot;protocol_version&quot;\n}\n)\njavax.net.ssl|ERROR|77|Handling POST /manage/descriptorByName/org.csanchez.jenkins.plugins.kubernetes.KubernetesCloud/testConnection from 78.45.197.14 : Jetty (winstone)-119|2023-01-08 14:16:53.531 CET|TransportContext.java:363|Fatal (PROTOCOL_VERSION): Received fatal alert: protocol_version (\n&quot;throwable&quot; : {\n  javax.net.ssl.SSLHandshakeException: Received fatal alert: protocol_version\n        at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131)\n        at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:117)\n        at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:358)\n        at java.base/sun.security.ssl.Alert$AlertConsumer.consume(Alert.java:293)\n        at java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:204)\n        at java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:172)\n        at java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1505)\n        at java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1420)\n        at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:455)\n        at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:426)\n        at okhttp3.internal.connection.RealConnection.connectTls(RealConnection.java:320)\n        at okhttp3.internal.connection.RealConnection.establishProtocol(RealConnection.java:284)\n        at okhttp3.internal.connection.RealConnection.connect(RealConnection.java:169)\n        at okhttp3.internal.connection.StreamAllocation.findConnection(StreamAllocation.java:258)\n        at okhttp3.internal.connection.StreamAllocation.findHealthyConnection(StreamAllocation.java:135)\n        at okhttp3.internal.connection.StreamAllocation.newStream(StreamAllocation.java:114)\n        at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.java:42)\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)\n        at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.java:93)\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)\n        at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.java:93)\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\n        at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.java:127)\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)\n        at io.fabric8.kubernetes.client.okhttp.OkHttpClientBuilderImpl$InteceptorAdapter.intercept(OkHttpClientBuilderImpl.java:62)\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)\n        at io.fabric8.kubernetes.client.okhttp.OkHttpClientBuilderImpl$InteceptorAdapter.intercept(OkHttpClientBuilderImpl.java:62)\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)\n        at io.fabric8.kubernetes.client.okhttp.OkHttpClientBuilderImpl$InteceptorAdapter.intercept(OkHttpClientBuilderImpl.java:62)\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)\n        at io.fabric8.kubernetes.client.okhttp.OkHttpClientBuilderImpl$InteceptorAdapter.intercept(OkHttpClientBuilderImpl.java:62)\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)\n        at okhttp3.RealCall.getResponseWithInterceptorChain(RealCall.java:257)\n        at okhttp3.RealCall.execute(RealCall.java:93)\n        at io.fabric8.kubernetes.client.okhttp.OkHttpClientImpl.send(OkHttpClientImpl.java:138)\n        at io.fabric8.kubernetes.client.dsl.base.OperationSupport.retryWithExponentialBackoff(OperationSupport.java:574)\n        at io.fabric8.kubernetes.client.dsl.base.OperationSupport.handleResponse(OperationSupport.java:553)\n        at io.fabric8.kubernetes.client.dsl.base.OperationSupport.handleResponse(OperationSupport.java:518)\n        at io.fabric8.kubernetes.client.dsl.base.OperationSupport.handleResponse(OperationSupport.java:502)\n        at io.fabric8.kubernetes.client.dsl.base.BaseOperation.listRequestHelper(BaseOperation.java:133)\n        at io.fabric8.kubernetes.client.dsl.base.BaseOperation.list(BaseOperation.java:415)\n        at io.fabric8.kubernetes.client.dsl.base.BaseOperation.list(BaseOperation.java:404)\n        at io.fabric8.kubernetes.client.dsl.base.BaseOperation.list(BaseOperation.java:83)\n        at org.csanchez.jenkins.plugins.kubernetes.KubernetesCloud$DescriptorImpl.doTestConnection(KubernetesCloud.java:744)\n        at java.base/java.lang.invoke.MethodHandle.invokeWithArguments(MethodHandle.java:732)\n        at org.kohsuke.stapler.Function$MethodFunction.invoke(Function.java:397)\n        at org.kohsuke.stapler.Function$InstanceFunction.invoke(Function.java:409)\n        at org.kohsuke.stapler.interceptor.RequirePOST$Processor.invoke(RequirePOST.java:78)\n        at org.kohsuke.stapler.PreInvokeInterceptedFunction.invoke(PreInvokeInterceptedFunction.java:26)\n        at org.kohsuke.stapler.Function.bindAndInvoke(Function.java:207)\n        at org.kohsuke.stapler.Function.bindAndInvokeAndServeResponse(Function.java:140)\n        at org.kohsuke.stapler.MetaClass$11.doDispatch(MetaClass.java:558)\n        at org.kohsuke.stapler.NameBasedDispatcher.dispatch(NameBasedDispatcher.java:59)\n        at org.kohsuke.stapler.Stapler.tryInvoke(Stapler.java:770)\n        at org.kohsuke.stapler.Stapler.invoke(Stapler.java:900)\n        at org.kohsuke.stapler.MetaClass$4.doDispatch(MetaClass.java:289)\n        at org.kohsuke.stapler.NameBasedDispatcher.dispatch(NameBasedDispatcher.java:59)\n        at org.kohsuke.stapler.Stapler.tryInvoke(Stapler.java:770)\n        at org.kohsuke.stapler.Stapler.invoke(Stapler.java:900)\n        at org.kohsuke.stapler.Stapler.tryInvoke(Stapler.java:836)\n        at org.kohsuke.stapler.Stapler.invoke(Stapler.java:900)\n        at org.kohsuke.stapler.MetaClass$9.dispatch(MetaClass.java:475)\n        at org.kohsuke.stapler.Stapler.tryInvoke(Stapler.java:770)\n        at org.kohsuke.stapler.Stapler.invoke(Stapler.java:900)\n        at org.kohsuke.stapler.Stapler.invoke(Stapler.java:698)\n        at org.kohsuke.stapler.Stapler.service(Stapler.java:248)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:590)\n        at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:764)\n        at org.eclipse.jetty.servlet.ServletHandler$ChainEnd.doFilter(ServletHandler.java:1665)\n        at hudson.util.PluginServletFilter$1.doFilter(PluginServletFilter.java:157)\n        at hudson.security.HudsonPrivateSecurityRealm$2.doFilter(HudsonPrivateSecurityRealm.java:1022)\n        at hudson.util.PluginServletFilter$1.doFilter(PluginServletFilter.java:154)\n        at hudson.security.HudsonPrivateSecurityRealm$2.doFilter(HudsonPrivateSecurityRealm.java:1022)\n        at hudson.util.PluginServletFilter$1.doFilter(PluginServletFilter.java:154)\n        at jenkins.security.ResourceDomainFilter.doFilter(ResourceDomainFilter.java:81)\n        at hudson.util.PluginServletFilter$1.doFilter(PluginServletFilter.java:154)\n        at hudson.plugins.locale.LocaleFilter.doFilter(LocaleFilter.java:42)\n        at hudson.util.PluginServletFilter$1.doFilter(PluginServletFilter.java:154)\n        at jenkins.telemetry.impl.UserLanguages$AcceptLanguageFilter.doFilter(UserLanguages.java:129)\n        at hudson.util.PluginServletFilter$1.doFilter(PluginServletFilter.java:154)\n        at org.jenkinsci.plugins.ssegateway.Endpoint$SSEListenChannelFilter.doFilter(Endpoint.java:248)\n        at hudson.util.PluginServletFilter$1.doFilter(PluginServletFilter.java:154)\n        at io.jenkins.blueocean.ResourceCacheControl.doFilter(ResourceCacheControl.java:134)\n        at hudson.util.PluginServletFilter$1.doFilter(PluginServletFilter.java:154)\n        at io.jenkins.blueocean.auth.jwt.impl.JwtAuthenticationFilter.doFilter(JwtAuthenticationFilter.java:60)\n        at hudson.util.PluginServletFilter$1.doFilter(PluginServletFilter.java:154)\n        at jenkins.metrics.impl.MetricsFilter.doFilter(MetricsFilter.java:125)\n        at hudson.util.PluginServletFilter$1.doFilter(PluginServletFilter.java:154)\n        at hudson.util.PluginServletFilter.doFilter(PluginServletFilter.java:160)\n        at org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:202)\n        at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1635)\n        at hudson.security.csrf.CrumbFilter.doFilter(CrumbFilter.java:154)\n        at org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:202)\n        at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1635)\n        at hudson.security.ChainedServletFilter$1.doFilter(ChainedServletFilter.java:94)\n        at jenkins.security.AcegiSecurityExceptionFilter.doFilter(AcegiSecurityExceptionFilter.java:52)\n        at hudson.security.ChainedServletFilter$1.doFilter(ChainedServletFilter.java:99)\n        at hudson.security.UnwrapSecurityExceptionFilter.doFilter(UnwrapSecurityExceptionFilter.java:54)\n        at hudson.security.ChainedServletFilter$1.doFilter(ChainedServletFilter.java:99)\n        at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)\n        at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)\n        at hudson.security.ChainedServletFilter$1.doFilter(ChainedServletFilter.java:99)\n        at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)\n        at hudson.security.ChainedServletFilter$1.doFilter(ChainedServletFilter.java:99)\n        at org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter.doFilter(RememberMeAuthenticationFilter.java:110)\n        at org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter.doFilter(RememberMeAuthenticationFilter.java:101)\n        at hudson.security.ChainedServletFilter$1.doFilter(ChainedServletFilter.java:99)\n        at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)\n        at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)\n        at hudson.security.ChainedServletFilter$1.doFilter(ChainedServletFilter.java:99)\n        at jenkins.security.BasicHeaderProcessor.doFilter(BasicHeaderProcessor.java:97)\n        at hudson.security.ChainedServletFilter$1.doFilter(ChainedServletFilter.java:99)\n        at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:117)\n        at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:87)\n        at hudson.security.HttpSessionContextIntegrationFilter2.doFilter(HttpSessionContextIntegrationFilter2.java:63)\n        at hudson.security.ChainedServletFilter$1.doFilter(ChainedServletFilter.java:99)\n        at hudson.security.ChainedServletFilter.doFilter(ChainedServletFilter.java:111)\n        at hudson.security.HudsonFilter.doFilter(HudsonFilter.java:172)\n        at org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:202)\n        at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1635)\n        at org.kohsuke.stapler.compression.CompressionFilter.doFilter(CompressionFilter.java:53)\n        at org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:202)\n        at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1635)\n        at hudson.util.CharacterEncodingFilter.doFilter(CharacterEncodingFilter.java:86)\n        at org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:202)\n        at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1635)\n        at org.kohsuke.stapler.DiagnosticThreadNameFilter.doFilter(DiagnosticThreadNameFilter.java:30)\n        at org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:202)\n        at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1635)\n        at jenkins.security.SuspiciousRequestFilter.doFilter(SuspiciousRequestFilter.java:38)\n        at org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:202)\n        at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1635)\n        at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:527)\n        at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:131)\n        at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:549)\n        at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:122)\n        at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:223)\n        at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:1570)\n        at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:221)\n        at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1383)\n        at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:176)\n        at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:484)\n        at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1543)\n        at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:174)\n        at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1305)\n        at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:129)\n        at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:122)\n        at org.eclipse.jetty.server.Server.handle(Server.java:563)\n        at org.eclipse.jetty.server.HttpChannel.lambda$handle$0(HttpChannel.java:505)\n        at org.eclipse.jetty.server.HttpChannel.dispatch(HttpChannel.java:762)\n        at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:497)\n        at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:282)\n        at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:314)\n        at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:100)\n        at org.eclipse.jetty.io.SelectableChannelEndPoint$1.run(SelectableChannelEndPoint.java:53)\n        at org.eclipse.jetty.util.thread.strategy.AdaptiveExecutionStrategy.runTask(AdaptiveExecutionStrategy.java:416)\n        at org.eclipse.jetty.util.thread.strategy.AdaptiveExecutionStrategy.consumeTask(AdaptiveExecutionStrategy.java:385)\n        at org.eclipse.jetty.util.thread.strategy.AdaptiveExecutionStrategy.tryProduce(AdaptiveExecutionStrategy.java:272)\n        at org.eclipse.jetty.util.thread.strategy.AdaptiveExecutionStrategy.lambda$new$0(AdaptiveExecutionStrategy.java:140)\n        at org.eclipse.jetty.util.thread.ReservedThreadExecutor$ReservedThread.run(ReservedThreadExecutor.java:411)\n        at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:934)\n        at org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:1078)\n        at java.base/java.lang.Thread.run(Thread.java:833)}\n\n)\njavax.net.ssl|DEBUG|77|Handling POST /manage/descriptorByName/org.csanchez.jenkins.plugins.kubernetes.KubernetesCloud/testConnection from 78.45.197.14 : Jetty (winstone)-119|2023-01-08 14:16:53.532 CET|SSLSocketImpl.java:1754|close the underlying socket\njavax.net.ssl|DEBUG|77|Handling POST /manage/descriptorByName/org.csanchez.jenkins.plugins.kubernetes.KubernetesCloud/testConnection from 78.45.197.14 : Jetty (winstone)-119|2023-01-08 14:16:53.532 CET|SSLSocketImpl.java:1780|close the SSL connection (passive)\n</code></pre>\n<p>Also when I tried this command</p>\n<pre><code>openssl s_client -connect kubernetes.default.svc.cluster.local:443\n</code></pre>\n<p>I am getting this:</p>\n<pre><code>CONNECTED(00000003)\ndepth=0 CN = kube-apiserver\nverify error:num=20:unable to get local issuer certificate\nverify return:1\ndepth=0 CN = kube-apiserver\nverify error:num=21:unable to verify the first certificate\nverify return:1\ndepth=0 CN = kube-apiserver\nverify return:1\n---\nCertificate chain\n 0 s:CN = kube-apiserver\n   i:CN = kubernetes\n   a:PKEY: rsaEncryption, 2048 (bit); sigalg: RSA-SHA256\n   v:NotBefore: Dec 30 13:24:38 2022 GMT; NotAfter: Jan  2 02:10:40 2024 GMT\n---\nServer certificate\n-----BEGIN CERTIFICATE-----\n\n-----END CERTIFICATE-----\nsubject=CN = kube-apiserver\nissuer=CN = kubernetes\n---\nAcceptable client certificate CA names\nCN = kubernetes\nCN = front-proxy-ca\nRequested Signature Algorithms: RSA-PSS+SHA256:ECDSA+SHA256:Ed25519:RSA-PSS+SHA384:RSA-PSS+SHA512:RSA+SHA256:RSA+SHA384:RSA+SHA512:ECDSA+SHA384:ECDSA+SHA512:0x01+0x02:0x03+0x02\nShared Requested Signature Algorithms: RSA-PSS+SHA256:ECDSA+SHA256:Ed25519:RSA-PSS+SHA384:RSA-PSS+SHA512:RSA+SHA256:RSA+SHA384:RSA+SHA512:ECDSA+SHA384:ECDSA+SHA512\nPeer signing digest: SHA256\nPeer signature type: RSA-PSS\nServer Temp Key: X25519, 253 bits\n---\nSSL handshake has read 1679 bytes and written 434 bytes\nVerification error: unable to verify the first certificate\n---\nNew, TLSv1.3, Cipher is TLS_AES_128_GCM_SHA256\nServer public key is 2048 bit\nSecure Renegotiation IS NOT supported\nCompression: NONE\nExpansion: NONE\nNo ALPN negotiated\nEarly data was not sent\nVerify return code: 21 (unable to verify the first certificate)\n---\n---\nPost-Handshake New Session Ticket arrived:\nSSL-Session:\n    Protocol  : TLSv1.3\n    Cipher    : TLS_AES_128_GCM_SHA256\n    Session-ID: 0468FD5467824F8B449513B6A09E2D975CD1690AE5DFBD0B3BB713AD4D86D02C\n    Session-ID-ctx:\n    Resumption PSK: 3BC22E3A910C771317E8F624DAB40723E70802964B2230AE31E9E37F211E1EDF\n    PSK identity: None\n    PSK identity hint: None\n    SRP username: None\n    TLS session ticket lifetime hint: 604800 (seconds)\n    TLS session ticket:\n    0000 - 59 da 44 7f 6c f7 bf 1f-95 3e 4c 90 34 b0 5e 4b   Y.D.l....&gt;L.4.^K\n    0010 - 5f b4 78 ca fd 3a 84 62-4a a3 d8 f7 56 eb 9e 6f   _.x..:.bJ...V..o\n    0020 - f2 15 38 e1 38 de 57 07-c0 c4 ef 4b b9 0f ac 7c   ..8.8.W....K...|\n    0030 - 18 6a ba 7e 25 ce df b8-a5 8e 45 8d c8 30 3a 91   .j.~%.....E..0:.\n    0040 - 7c fc 53 d3 09 e0 12 7b-61 be 83 29 a3 f5 49 52   |.S....{a..)..IR\n    0050 - 66 5c 52 5f 10 4f f0 d5-b7 d6 91 02 39 b8 0d 32   f\\R_.O......9..2\n    0060 - f9 9d 47 59 50 7b cc c3-bd 4e 29 dc 6c 82 b1 4b   ..GYP{...N).l..K\n    0070 - e2                                                .\n\n    Start Time: 1673186073\n    Timeout   : 7200 (sec)\n    Verify return code: 21 (unable to verify the first certificate)\n    Extended master secret: no\n    Max Early Data: 0\n---\nread R BLOCK\nclosed\n</code></pre>\n<p>Does anyone know how to fix that, please?</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","openssl","rsa"],"comments":[{"owner":{"account_id":46972,"reputation":356179,"user_id":139010,"accept_rate":81,"display_name":"Matt Ball"},"score":2,"creation_date":1336573699,"post_id":10517930,"comment_id":13601880,"body_markdown":"[Stack Overflow is not a Mind Reader.](http://meta.stackexchange.com/a/128551/133242)","body":"<a href=\"http://meta.stackexchange.com/a/128551/133242\">Stack Overflow is not a Mind Reader.</a>"},{"owner":{"account_id":56519,"reputation":22672,"user_id":169277,"accept_rate":97,"display_name":"ant"},"score":0,"creation_date":1336573744,"post_id":10517930,"comment_id":13601909,"body_markdown":"ang about I&#39;m getting my crystal ball ready","body":"ang about I&#39;m getting my crystal ball ready"},{"owner":{"account_id":301110,"reputation":98844,"user_id":608639,"accept_rate":64,"display_name":"jww"},"score":0,"creation_date":1519384461,"post_id":10517930,"comment_id":84899431,"body_markdown":"Also see [How to encrypt decrypt with RSA keys in java](https://stackoverflow.com/q/10517930/608639), [Equivalent to OpenSSL commands in java](https://stackoverflow.com/q/39084741/608639), [How to encrypt decrypt with RSA keys in java](https://stackoverflow.com/q/10517930/608639), [OpenSSL Encryption of Session Key](https://stackoverflow.com/q/23114808/608639)","body":"Also see <a href=\"https://stackoverflow.com/q/10517930/608639\">How to encrypt decrypt with RSA keys in java</a>, <a href=\"https://stackoverflow.com/q/39084741/608639\">Equivalent to OpenSSL commands in java</a>, <a href=\"https://stackoverflow.com/q/10517930/608639\">How to encrypt decrypt with RSA keys in java</a>, <a href=\"https://stackoverflow.com/q/23114808/608639\">OpenSSL Encryption of Session Key</a>"}],"answers":[{"tags":[],"owner":{"account_id":1017281,"reputation":1537,"user_id":1028560,"accept_rate":83,"display_name":"Sanjeev"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1525908202,"creation_date":1336577029,"answer_id":10519159,"question_id":10517930,"body_markdown":"I think you&#39;re having problems reading PEM files.  The JPA doesn&#39;t directly support the PEM format.  You have two options, either convert them to DER encoded files (you can use openSSL to do this) or the you can use the bouncy castle API to read (or write) PEM files.  the class you&#39;d be interested in is called PEMReader (and maybe also PEMWriter).  [Here is the Javadoc][1] on the bouncycastle website.\r\n\r\n\r\n  [1]: https://www.bouncycastle.org/docs/docs1.5on/org/bouncycastle/util/io/pem/PemReader.html","title":"How to encrypt decrypt with RSA keys in java","body":"<p>I think you're having problems reading PEM files.  The JPA doesn't directly support the PEM format.  You have two options, either convert them to DER encoded files (you can use openSSL to do this) or the you can use the bouncy castle API to read (or write) PEM files.  the class you'd be interested in is called PEMReader (and maybe also PEMWriter).  <a href=\"https://www.bouncycastle.org/docs/docs1.5on/org/bouncycastle/util/io/pem/PemReader.html\" rel=\"nofollow noreferrer\">Here is the Javadoc</a> on the bouncycastle website.</p>\n"},{"tags":[],"owner":{"account_id":166556,"reputation":1157,"user_id":390757,"accept_rate":55,"display_name":"caeycae"},"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1556152405,"creation_date":1336664212,"answer_id":10537489,"question_id":10517930,"body_markdown":"Solution:\r\n\r\nThanks to @Sanjeev, using the bouncy castle API, I was able to encrypt/decrypt with the keys generated by openssl\r\n\r\n\r\n    public static void main(String[] args) throws IOException {\r\n\r\n\t\tSecurity.addProvider(new BouncyCastleProvider());\r\n                \r\n\t\tKeyPair keyPair = readKeyPair(new File(PRIVATE_PATH), &quot;pass&quot;); \r\n\t\t// if the private key is not encripted, pass can be anything.\r\n\t\tKey publickey = readPublicKey(new File(PUBLIC_PATH), &quot;pass&quot;); \r\n\t\tBase64 base64 = new Base64();\r\n\t\tString text = &quot;this is the input text&quot;;\r\n\t\tbyte[] encripted;\r\n\t\tSystem.out.println(&quot;input:\\n&quot; + text);\r\n\t\tencripted = encrypt(keyPair.getPublic(), text);\r\n\t\tSystem.out.println(&quot;cipher:\\n&quot; + base64.encodeAsString(encripted));\r\n\t\tSystem.out.println(&quot;decrypt:\\n&quot; + decrypt(keyPair.getPrivate(), encripted));\t\t\r\n\t}\r\n\t\r\n\tprivate static byte[] encrypt(Key pubkey, String text) {\r\n\t\ttry {\r\n\t\t\tCipher rsa;\r\n\t\t\trsa = Cipher.getInstance(&quot;RSA&quot;);\r\n\t\t\trsa.init(Cipher.ENCRYPT_MODE, pubkey);\r\n\t\t\treturn rsa.doFinal(text.getBytes());\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n\r\n\tprivate static String decrypt(Key decryptionKey, byte[] buffer) {\r\n\t\ttry {\r\n\t\t\tCipher rsa;\r\n\t\t\trsa = Cipher.getInstance(&quot;RSA&quot;);\r\n\t\t\trsa.init(Cipher.DECRYPT_MODE, decryptionKey);\r\n\t\t\tbyte[] utf8 = rsa.doFinal(buffer);\r\n\t\t\treturn new String(utf8, &quot;UTF8&quot;);\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\t\r\n\tprivate static KeyPair readKeyPair(File privateKey, String keyPassword) throws IOException {\r\n        FileReader fileReader = new FileReader(privateKey);\r\n        PEMReader r = new PEMReader(fileReader, new DefaultPasswordFinder(keyPassword.toCharArray()));\r\n        try {\r\n            return (KeyPair) r.readObject();\r\n        } catch (IOException ex) {\r\n            throw ex;\r\n        } finally {\r\n            r.close();\r\n            fileReader.close();\r\n        }\r\n    }\r\n\t\r\n\tprivate static Key readPublicKey(File privateKey, String keyPassword) throws IOException {\r\n        FileReader fileReader = new FileReader(privateKey);\r\n        PEMReader r = new PEMReader(fileReader, new DefaultPasswordFinder(keyPassword.toCharArray()));\r\n        try {\r\n            return (RSAPublicKey) r.readObject();\r\n        } catch (IOException ex) {\r\n            throw ex;\r\n        } finally {\r\n            r.close();\r\n            fileReader.close();\r\n        }\r\n    }\r\n\r\n","title":"How to encrypt decrypt with RSA keys in java","body":"<p>Solution:</p>\n\n<p>Thanks to @Sanjeev, using the bouncy castle API, I was able to encrypt/decrypt with the keys generated by openssl</p>\n\n<pre><code>public static void main(String[] args) throws IOException {\n\n    Security.addProvider(new BouncyCastleProvider());\n\n    KeyPair keyPair = readKeyPair(new File(PRIVATE_PATH), \"pass\"); \n    // if the private key is not encripted, pass can be anything.\n    Key publickey = readPublicKey(new File(PUBLIC_PATH), \"pass\"); \n    Base64 base64 = new Base64();\n    String text = \"this is the input text\";\n    byte[] encripted;\n    System.out.println(\"input:\\n\" + text);\n    encripted = encrypt(keyPair.getPublic(), text);\n    System.out.println(\"cipher:\\n\" + base64.encodeAsString(encripted));\n    System.out.println(\"decrypt:\\n\" + decrypt(keyPair.getPrivate(), encripted));        \n}\n\nprivate static byte[] encrypt(Key pubkey, String text) {\n    try {\n        Cipher rsa;\n        rsa = Cipher.getInstance(\"RSA\");\n        rsa.init(Cipher.ENCRYPT_MODE, pubkey);\n        return rsa.doFinal(text.getBytes());\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n    return null;\n}\n\n\nprivate static String decrypt(Key decryptionKey, byte[] buffer) {\n    try {\n        Cipher rsa;\n        rsa = Cipher.getInstance(\"RSA\");\n        rsa.init(Cipher.DECRYPT_MODE, decryptionKey);\n        byte[] utf8 = rsa.doFinal(buffer);\n        return new String(utf8, \"UTF8\");\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n    return null;\n}\n\nprivate static KeyPair readKeyPair(File privateKey, String keyPassword) throws IOException {\n    FileReader fileReader = new FileReader(privateKey);\n    PEMReader r = new PEMReader(fileReader, new DefaultPasswordFinder(keyPassword.toCharArray()));\n    try {\n        return (KeyPair) r.readObject();\n    } catch (IOException ex) {\n        throw ex;\n    } finally {\n        r.close();\n        fileReader.close();\n    }\n}\n\nprivate static Key readPublicKey(File privateKey, String keyPassword) throws IOException {\n    FileReader fileReader = new FileReader(privateKey);\n    PEMReader r = new PEMReader(fileReader, new DefaultPasswordFinder(keyPassword.toCharArray()));\n    try {\n        return (RSAPublicKey) r.readObject();\n    } catch (IOException ex) {\n        throw ex;\n    } finally {\n        r.close();\n        fileReader.close();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":166556,"reputation":1157,"user_id":390757,"accept_rate":55,"display_name":"caeycae"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67419,"favorite_count":0,"down_vote_count":1,"up_vote_count":13,"accepted_answer_id":10519159,"answer_count":2,"score":12,"last_activity_date":1673188055,"creation_date":1336572893,"question_id":10517930,"body_markdown":"I need to replace the encrypt and decrypt step from Unix to java code with the `rsaprivatekey.pem` and `rsapublickey.pem` keys generated with openssl\r\n\r\nI generate the keys\r\n\r\n    openssl  genrsa  -out /tmp/rsaprivatekey.pem  -des3 1024\r\n    openssl rsa -in /tmp/rsaprivatekey.pem -pubout -out /tmp/rsapublickey.pem\r\n\r\ni use the keys in unix (i need do it in java)\r\n\r\n    echo &quot;Text to encript&quot;| openssl rsautl -encrypt -inkey /tmp/rsapublickey.pem -pubin -out out.enc\r\n    openssl rsautl -decrypt -inkey /tmp/rsaprivatekey.pem -in out.enc\r\n\r\n\r\nThis was my attempt to do it\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\r\n\t\tBase64 base64 = new Base64();\r\n\r\n\t\tString TextStream = &quot;this is the input text&quot;;\r\n\t\tbyte[] Cipher;\r\n\t\tSystem.out.println(&quot;input:\\n&quot; + TextStream);\r\n\t\tCipher = encrypt(TextStream);\r\n\t\tSystem.out.println(&quot;cipher:\\n&quot; + base64.encodeAsString(Cipher));\r\n\t\tSystem.out.println(&quot;decrypt:\\n&quot; + decrypt(Cipher));\r\n\t}\r\n\r\n\tprivate static byte[] encrypt(String Buffer) {\r\n\t\ttry {\r\n\r\n\t\t\tCipher rsa;\r\n\t\t\trsa = Cipher.getInstance(&quot;RSA&quot;);\r\n\t\t\trsa.init(Cipher.ENCRYPT_MODE, getPrivateKey(PRIVATE_PATH));\r\n\t\t\treturn rsa.doFinal(Buffer.getBytes());\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n\r\n\tprivate static String decrypt(byte[] buffer) {\r\n\t\ttry {\r\n\t\t\tCipher rsa;\r\n\t\t\trsa = Cipher.getInstance(&quot;RSA&quot;);\r\n\t\t\trsa.init(Cipher.DECRYPT_MODE, getPrivateKey(PUBLIC_PATH));\r\n\t\t\tbyte[] utf8 = rsa.doFinal(buffer);\r\n\t\t\treturn new String(utf8, &quot;UTF8&quot;);\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n\tpublic static PrivateKey getPrivateKey(String filename) throws Exception {\r\n\t\tFile f = new File(filename);\r\n\t\tFileInputStream fis = new FileInputStream(f);\r\n\t\tDataInputStream dis = new DataInputStream(fis);\r\n\t\tbyte[] keyBytes = new byte[(int) f.length()];\r\n\t\tdis.readFully(keyBytes);\r\n\t\tdis.close();\r\n\r\n\t\tPKCS8EncodedKeySpec spec = new PKCS8EncodedKeySpec(keyBytes);\r\n\t\tKeyFactory kf = KeyFactory.getInstance(&quot;RSA&quot;);\r\n\t\treturn kf.generatePrivate(spec);\r\n\t}\r\n\r\n\tpublic static PublicKey getPublicKey(String filename) throws Exception {\r\n\t\tFile f = new File(filename);\r\n\t\tFileInputStream fis = new FileInputStream(f);\r\n\t\tDataInputStream dis = new DataInputStream(fis);\r\n\t\tbyte[] keyBytes = new byte[(int) f.length()];\r\n\t\tdis.readFully(keyBytes);\r\n\t\tdis.close();\r\n\r\n\t\tX509EncodedKeySpec spec = new X509EncodedKeySpec(keyBytes);\r\n\t\tKeyFactory kf = KeyFactory.getInstance(&quot;RSA&quot;);\r\n\t\treturn kf.generatePublic(spec);\r\n\t}\r\n\r\nbut it not works, the PKCS8EncodedKeySpec/X509EncodedKeySpec are not correct... but i do not know what to put","title":"How to encrypt decrypt with RSA keys in java","body":"<p>I need to replace the encrypt and decrypt step from Unix to java code with the <code>rsaprivatekey.pem</code> and <code>rsapublickey.pem</code> keys generated with openssl</p>\n\n<p>I generate the keys</p>\n\n<pre><code>openssl  genrsa  -out /tmp/rsaprivatekey.pem  -des3 1024\nopenssl rsa -in /tmp/rsaprivatekey.pem -pubout -out /tmp/rsapublickey.pem\n</code></pre>\n\n<p>i use the keys in unix (i need do it in java)</p>\n\n<pre><code>echo \"Text to encript\"| openssl rsautl -encrypt -inkey /tmp/rsapublickey.pem -pubin -out out.enc\nopenssl rsautl -decrypt -inkey /tmp/rsaprivatekey.pem -in out.enc\n</code></pre>\n\n<p>This was my attempt to do it</p>\n\n<pre><code>public static void main(String[] args) {\n\n\n    Base64 base64 = new Base64();\n\n    String TextStream = \"this is the input text\";\n    byte[] Cipher;\n    System.out.println(\"input:\\n\" + TextStream);\n    Cipher = encrypt(TextStream);\n    System.out.println(\"cipher:\\n\" + base64.encodeAsString(Cipher));\n    System.out.println(\"decrypt:\\n\" + decrypt(Cipher));\n}\n\nprivate static byte[] encrypt(String Buffer) {\n    try {\n\n        Cipher rsa;\n        rsa = Cipher.getInstance(\"RSA\");\n        rsa.init(Cipher.ENCRYPT_MODE, getPrivateKey(PRIVATE_PATH));\n        return rsa.doFinal(Buffer.getBytes());\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n    return null;\n}\n\n\nprivate static String decrypt(byte[] buffer) {\n    try {\n        Cipher rsa;\n        rsa = Cipher.getInstance(\"RSA\");\n        rsa.init(Cipher.DECRYPT_MODE, getPrivateKey(PUBLIC_PATH));\n        byte[] utf8 = rsa.doFinal(buffer);\n        return new String(utf8, \"UTF8\");\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n    return null;\n}\n\npublic static PrivateKey getPrivateKey(String filename) throws Exception {\n    File f = new File(filename);\n    FileInputStream fis = new FileInputStream(f);\n    DataInputStream dis = new DataInputStream(fis);\n    byte[] keyBytes = new byte[(int) f.length()];\n    dis.readFully(keyBytes);\n    dis.close();\n\n    PKCS8EncodedKeySpec spec = new PKCS8EncodedKeySpec(keyBytes);\n    KeyFactory kf = KeyFactory.getInstance(\"RSA\");\n    return kf.generatePrivate(spec);\n}\n\npublic static PublicKey getPublicKey(String filename) throws Exception {\n    File f = new File(filename);\n    FileInputStream fis = new FileInputStream(f);\n    DataInputStream dis = new DataInputStream(fis);\n    byte[] keyBytes = new byte[(int) f.length()];\n    dis.readFully(keyBytes);\n    dis.close();\n\n    X509EncodedKeySpec spec = new X509EncodedKeySpec(keyBytes);\n    KeyFactory kf = KeyFactory.getInstance(\"RSA\");\n    return kf.generatePublic(spec);\n}\n</code></pre>\n\n<p>but it not works, the PKCS8EncodedKeySpec/X509EncodedKeySpec are not correct... but i do not know what to put</p>\n"},{"tags":["java","android","jar","java-17","termux"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1673135484,"post_id":75044535,"comment_id":132430929,"body_markdown":"Was the JAR generated by you?","body":"Was the JAR generated by you?"}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1673187751,"creation_date":1673146987,"answer_id":75045241,"question_id":75044535,"body_markdown":"Q: Is loading the code into your Android application an option?\r\n\r\nA: No.\r\n\r\n  - Android loads code from &quot;.dex&quot; files not &quot;.class&quot; files.  \r\n  - The &quot;.class&quot; files would need to be translated using `dx`.  \r\n  - The Android `dx` command doesn&#39;t understand Java 17 &quot;.class&quot; file format.\r\n  - Also the code in the JAR is likely to depend on classes in the Java SE class library that the Android doesn&#39;t provide.\r\n\r\nQ: What about running it in a separate Android VM?\r\n\r\nA: No.\r\n\r\n  - An Android VM requires &quot;.dex&quot; files; see above.\r\n  - Also, the Java SE class library issue; see above.\r\n\r\nQ: What about launching an OpenJDK or Oracle Java 17 JVM on the Android device to run the JAR?\r\n\r\nA: In theory Yes, but in practice No.  As far as I am aware, there is no port of OpenJDK Java SE to the Android OS platform.\r\n\r\nQ: What about using Termux?\r\n\r\nA: OK ... that might work.  See https://stackoverflow.com/questions/36539308.  \r\n\r\nI have no experience with this, and don&#39;t know what problems you may run into doing this.  But I suspect that you wouldn&#39;t be able to distribute something that relies on Termux via the Google Playstore.\r\n\r\n----------------------\r\n\r\nAnother option is to download the source code&lt;sup&gt;1&lt;/sup&gt; for the application and try to build it in your Android dev environment\r\n\r\n  - If the code uses Java classes / packages / libraries that are not available for Android, recode the relevant parts of the application to use Android equivalents instead.  \r\n  - Ditto if the code uses Java language features that are not yet supported in Android Java.\r\n  - It probably won&#39;t be easy.  It may turn out to be impractical.\r\n\r\n&lt;sup&gt;1 - You said in a comment that the code your are trying to use is &quot;open source&quot;.  So the &quot;download source and build it&quot; option is available to you.  I&#39;m puzzled why you tried to decompile and recompile it instead ...&lt;/sup&gt; ","title":"Is there a possibility to run a jar file within an android application with another jdk?","body":"<p>Q: Is loading the code into your Android application an option?</p>\n<p>A: No.</p>\n<ul>\n<li>Android loads code from &quot;.dex&quot; files not &quot;.class&quot; files.</li>\n<li>The &quot;.class&quot; files would need to be translated using <code>dx</code>.</li>\n<li>The Android <code>dx</code> command doesn't understand Java 17 &quot;.class&quot; file format.</li>\n<li>Also the code in the JAR is likely to depend on classes in the Java SE class library that the Android doesn't provide.</li>\n</ul>\n<p>Q: What about running it in a separate Android VM?</p>\n<p>A: No.</p>\n<ul>\n<li>An Android VM requires &quot;.dex&quot; files; see above.</li>\n<li>Also, the Java SE class library issue; see above.</li>\n</ul>\n<p>Q: What about launching an OpenJDK or Oracle Java 17 JVM on the Android device to run the JAR?</p>\n<p>A: In theory Yes, but in practice No.  As far as I am aware, there is no port of OpenJDK Java SE to the Android OS platform.</p>\n<p>Q: What about using Termux?</p>\n<p>A: OK ... that might work.  See <a href=\"https://stackoverflow.com/questions/36539308\">Is it possible to install the JDK on an android device?</a>.</p>\n<p>I have no experience with this, and don't know what problems you may run into doing this.  But I suspect that you wouldn't be able to distribute something that relies on Termux via the Google Playstore.</p>\n<hr />\n<p>Another option is to download the source code<sup>1</sup> for the application and try to build it in your Android dev environment</p>\n<ul>\n<li>If the code uses Java classes / packages / libraries that are not available for Android, recode the relevant parts of the application to use Android equivalents instead.</li>\n<li>Ditto if the code uses Java language features that are not yet supported in Android Java.</li>\n<li>It probably won't be easy.  It may turn out to be impractical.</li>\n</ul>\n<p><sup>1 - You said in a comment that the code your are trying to use is &quot;open source&quot;.  So the &quot;download source and build it&quot; option is available to you.  I'm puzzled why you tried to decompile and recompile it instead ...</sup></p>\n"}],"owner":{"account_id":22457856,"reputation":23,"user_id":16660286,"display_name":"Packesl"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":600,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673187751,"creation_date":1673134839,"question_id":75044535,"body_markdown":"Im new to app development and was wondering if it would be possible to include another jdk. For example java 17 and run a jar that needs to be run in this exact version? I think termux has an api that you may use for these purposes but is there another possibility? These jars are only console based and without any gui.\r\n\r\nI first tried to use the jar as a android library inside the app, which did not work since it was compiled in java version 17. I tried decompiling the jar and recompiling it with the version I was using. The problem is that all the libraries used are on other versions than I need them to be and so I could not recompile it. I also thought about writing the application in c# but I am not used to it at all, which would throw many new problems that I would be willing to take if it would be a possibility to work out my project.","title":"Is there a possibility to run a jar file within an android application with another jdk?","body":"<p>Im new to app development and was wondering if it would be possible to include another jdk. For example java 17 and run a jar that needs to be run in this exact version? I think termux has an api that you may use for these purposes but is there another possibility? These jars are only console based and without any gui.</p>\n<p>I first tried to use the jar as a android library inside the app, which did not work since it was compiled in java version 17. I tried decompiling the jar and recompiling it with the version I was using. The problem is that all the libraries used are on other versions than I need them to be and so I could not recompile it. I also thought about writing the application in c# but I am not used to it at all, which would throw many new problems that I would be willing to take if it would be a possibility to work out my project.</p>\n"},{"tags":["java","swing","jtable","uimanager"],"answers":[{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1617811109,"creation_date":1617809323,"answer_id":66989269,"question_id":66989162,"body_markdown":"&gt; Can anybody tell me what can I write inside UIManager.put(); to change the color of rows.\r\n\r\nGenerally you would change  the properties of the `JTable`:\r\n\r\n    table.setBackground(...);\r\n    table.setSelectionBackground(...);\r\n\r\nIf you really want to try to change the defaults for all JTables in your application then check out [UIManager Defaults](https://tips4java.wordpress.com/2008/10/09/uimanager-defaults/). It provides a list of properties that can be changed for each Swing component.","title":"How to change row color in Jtable using UIManager","body":"<blockquote>\n<p>Can anybody tell me what can I write inside UIManager.put(); to change the color of rows.</p>\n</blockquote>\n<p>Generally you would change  the properties of the <code>JTable</code>:</p>\n<pre><code>table.setBackground(...);\ntable.setSelectionBackground(...);\n</code></pre>\n<p>If you really want to try to change the defaults for all JTables in your application then check out <a href=\"https://tips4java.wordpress.com/2008/10/09/uimanager-defaults/\" rel=\"nofollow noreferrer\">UIManager Defaults</a>. It provides a list of properties that can be changed for each Swing component.</p>\n"},{"tags":[],"owner":{"account_id":9572330,"reputation":924,"user_id":7930987,"accept_rate":50,"display_name":"BabaNew"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673187325,"creation_date":1673187185,"answer_id":75048426,"question_id":66989162,"body_markdown":"    UIManager.put(&quot;Table.selectionBackground&quot;, Color.PINK);","title":"How to change row color in Jtable using UIManager","body":"<pre><code>UIManager.put(&quot;Table.selectionBackground&quot;, Color.PINK);\n</code></pre>\n"}],"owner":{"account_id":18467532,"reputation":29,"user_id":13453302,"display_name":"Raj Parayane"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":204,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":66989269,"answer_count":2,"score":0,"last_activity_date":1673187325,"creation_date":1617808948,"question_id":66989162,"body_markdown":"I tried using UIManager to change border color of the focused cell in my JTable, and it works fine.\r\nBut I don&#39;t know how to change the color of rows in my JTable using UIManager.\r\nCan anybody tell me what can I write inside UIManager.put(); to change the color of rows.\r\n\r\nHere&#39;s the code\r\n\r\n```\r\npublic class JTableExample \r\n{    \r\n    JFrame f;  \r\n    JPanel p2;\r\n\r\n    JTableExample()\r\n    {    \r\n    f=new JFrame();  \r\n    \r\n    p2=new JPanel(new GridLayout());\r\n    p2.setBackground(Color.white);\r\n    p2.setBounds(0, 40, 946, 561);\r\n    \r\n    String data[][]={ {&quot;0&quot;,&quot;Raj&quot;,&quot;67&quot;},    \r\n                          {&quot;1&quot;,&quot;Pranav&quot;,&quot;78&quot;},    \r\n                          {&quot;2&quot;,&quot;Saurabh&quot;,&quot;70&quot;}};  \r\n  \r\n    String column[]={&quot;ID&quot;,&quot;NAME&quot;,&quot;Percentage&quot;};   \r\n      \r\n    JTable jt=new JTable(data,column);    \r\n    UIManager.put(&quot;Table.focusCellHighlightBorder&quot;,new BorderUIResource(BorderFactory.createLineBorder(Color.red)));\r\n    JScrollPane sp=new JScrollPane(jt);  \r\n    \r\n    p2.add(sp);  \r\n    \r\n    f.setBounds(170, 100, 1250, 600);    \r\n    f.setVisible(true);\r\n    f.add(p2);\r\n    \r\n    }     \r\n    public static void main(String[] args)\r\n    {    \r\n    \tnew JTableExample();    \r\n    }    \r\n}  \r\n```","title":"How to change row color in Jtable using UIManager","body":"<p>I tried using UIManager to change border color of the focused cell in my JTable, and it works fine.\nBut I don't know how to change the color of rows in my JTable using UIManager.\nCan anybody tell me what can I write inside UIManager.put(); to change the color of rows.</p>\n<p>Here's the code</p>\n<pre><code>public class JTableExample \n{    \n    JFrame f;  \n    JPanel p2;\n\n    JTableExample()\n    {    \n    f=new JFrame();  \n    \n    p2=new JPanel(new GridLayout());\n    p2.setBackground(Color.white);\n    p2.setBounds(0, 40, 946, 561);\n    \n    String data[][]={ {&quot;0&quot;,&quot;Raj&quot;,&quot;67&quot;},    \n                          {&quot;1&quot;,&quot;Pranav&quot;,&quot;78&quot;},    \n                          {&quot;2&quot;,&quot;Saurabh&quot;,&quot;70&quot;}};  \n  \n    String column[]={&quot;ID&quot;,&quot;NAME&quot;,&quot;Percentage&quot;};   \n      \n    JTable jt=new JTable(data,column);    \n    UIManager.put(&quot;Table.focusCellHighlightBorder&quot;,new BorderUIResource(BorderFactory.createLineBorder(Color.red)));\n    JScrollPane sp=new JScrollPane(jt);  \n    \n    p2.add(sp);  \n    \n    f.setBounds(170, 100, 1250, 600);    \n    f.setVisible(true);\n    f.add(p2);\n    \n    }     \n    public static void main(String[] args)\n    {    \n        new JTableExample();    \n    }    \n}  \n</code></pre>\n"},{"tags":["java","spring-boot","ftp-client"],"comments":[{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":1,"creation_date":1673186292,"post_id":75047695,"comment_id":132436934,"body_markdown":"as far as i can tell, you didn&#39;t provide the complete code, but only parts which you believe are relevant, unfortunately they aren&#39;t: it is not clear whether `FtpClientWrapper` is thread-safe or not, not clear how you close `FtpClientWrapper` and `InputStream` received from `#downloadFile`","body":"as far as i can tell, you didn&#39;t provide the complete code, but only parts which you believe are relevant, unfortunately they aren&#39;t: it is not clear whether <code>FtpClientWrapper</code> is thread-safe or not, not clear how you close <code>FtpClientWrapper</code> and <code>InputStream</code> received from <code>#downloadFile</code>"},{"owner":{"account_id":11809743,"reputation":450,"user_id":8641425,"display_name":"Saphyra"},"score":0,"creation_date":1673186614,"post_id":75047695,"comment_id":132436997,"body_markdown":"I wrap the input stream by InputStreamResource, and return it in the controller. As far as I unserstood InputStreamResource expects an open stream to operate with, so I cannot close it manually. I&#39;ll add the github link to the question for each involved class, so you can check it","body":"I wrap the input stream by InputStreamResource, and return it in the controller. As far as I unserstood InputStreamResource expects an open stream to operate with, so I cannot close it manually. I&#39;ll add the github link to the question for each involved class, so you can check it"},{"owner":{"account_id":11809743,"reputation":450,"user_id":8641425,"display_name":"Saphyra"},"score":0,"creation_date":1673186993,"post_id":75047695,"comment_id":132437080,"body_markdown":"Ah never mind, you were right. The problem was in the part I thought was irrelevant. I opened the FtpClient with a try-with-resources block, and the client was closed before the response was returned.","body":"Ah never mind, you were right. The problem was in the part I thought was irrelevant. I opened the FtpClient with a try-with-resources block, and the client was closed before the response was returned."},{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":1,"creation_date":1673187144,"post_id":75047695,"comment_id":132437113,"body_markdown":"I would recommend to use/implement `StreamingResponseBody` instead of `InputStreamResource` for such cases - you will able to control all resources in a single method.","body":"I would recommend to use/implement <code>StreamingResponseBody</code> instead of <code>InputStreamResource</code> for such cases - you will able to control all resources in a single method."}],"answers":[{"tags":[],"owner":{"account_id":11809743,"reputation":450,"user_id":8641425,"display_name":"Saphyra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673187028,"creation_date":1673187028,"answer_id":75048411,"question_id":75047695,"body_markdown":"Problem solved - It is not a good idea closing the FtpClient before the InputStream is read.","title":"Java FTP client does not download the whole file","body":"<p>Problem solved - It is not a good idea closing the FtpClient before the InputStream is read.</p>\n"}],"owner":{"account_id":11809743,"reputation":450,"user_id":8641425,"display_name":"Saphyra"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":228,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673187028,"creation_date":1673180455,"question_id":75047695,"body_markdown":"I need to download files (currently images) from an FTP server by a Java client, and return it to a web application.\r\n\r\nThe problem is: A few kilobytes (maybe 64KB) of the image is downloaded, but the rest is missing, so only the upper part of the image is displayed on the UI. No exceptions, no errors in the logs - simply it looks like my machine is lazy.\r\n\r\nWhen suggesting solutions, please keep in mind this function will be used for downloading large files (with size bigger than the available memory or disk space), so I need to forward the data to the client without actually reading it at once.\r\n\r\nMy code:\r\n\r\nFTP client:\r\n\r\n\timport lombok.SneakyThrows;\r\n\timport lombok.extern.slf4j.Slf4j;\r\n\timport org.apache.commons.net.ftp.FTP;\r\n\timport org.apache.commons.net.ftp.FTPClient;\r\n\timport org.apache.commons.net.ftp.FTPReply;\r\n\r\n\timport java.io.IOException;\r\n\timport java.io.InputStream;\r\n\r\n\t@Slf4j\r\n\tpublic class FtpClientWrapper implements AutoCloseable {\r\n\t\tprivate final FTPClient client;\r\n\r\n\t\t@SneakyThrows\r\n\t\tpublic FtpClientWrapper(FtpClientProperties properties) {\r\n\t\t\tFTPClient client = new FTPClient();\r\n\r\n\t\t\tclient.connect(properties.getServer(), properties.getPort());\r\n\r\n\t\t\tclient.enterLocalPassiveMode();\r\n\r\n\t\t\tint reply = client.getReplyCode();\r\n\t\t\tif (!FTPReply.isPositiveCompletion(reply)) {\r\n\t\t\t\tclient.disconnect();\r\n\t\t\t\tthrow new IOException(&quot;Exception in connecting to FTP Server. ReplyCode: &quot; + reply);\r\n\t\t\t}\r\n\r\n\t\t\tboolean loginSuccess = client.login(properties.getUsername(), properties.getPassword());\r\n\r\n\t\t\tif (!loginSuccess) {\r\n\t\t\t\tthrow new RuntimeException(&quot;FTP login failed.&quot;);\r\n\t\t\t}\r\n\r\n\t\t\tthis.client = client;\r\n\t\t}\r\n\r\n\t\t@SneakyThrows\r\n\t\tpublic InputStream downloadFile(String fileName) {\r\n\t\t\tclient.setFileType(FTP.BINARY_FILE_TYPE);\r\n\t\t\treturn client.retrieveFileStream(fileName);\r\n\t\t}\r\n\t}\r\n\r\n\r\n\r\nController method:\r\n\r\n        @Override\r\n    public ResponseEntity&lt;InputStreamResource&gt; downloadFile(String fileName) {\r\n        InputStream result = ftpClient.downloadFile(fileName);\r\n\r\n        return ResponseEntity.ok()\r\n            .contentLength(&lt;correct file size&gt;)\r\n            .contentType(&lt;proper content type&gt;)\r\n            .body(new InputStreamResource(result));\r\n    }\r\n\r\nAnd the result:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rF1YN.png","title":"Java FTP client does not download the whole file","body":"<p>I need to download files (currently images) from an FTP server by a Java client, and return it to a web application.</p>\n<p>The problem is: A few kilobytes (maybe 64KB) of the image is downloaded, but the rest is missing, so only the upper part of the image is displayed on the UI. No exceptions, no errors in the logs - simply it looks like my machine is lazy.</p>\n<p>When suggesting solutions, please keep in mind this function will be used for downloading large files (with size bigger than the available memory or disk space), so I need to forward the data to the client without actually reading it at once.</p>\n<p>My code:</p>\n<p>FTP client:</p>\n<pre><code>import lombok.SneakyThrows;\nimport lombok.extern.slf4j.Slf4j;\nimport org.apache.commons.net.ftp.FTP;\nimport org.apache.commons.net.ftp.FTPClient;\nimport org.apache.commons.net.ftp.FTPReply;\n\nimport java.io.IOException;\nimport java.io.InputStream;\n\n@Slf4j\npublic class FtpClientWrapper implements AutoCloseable {\n    private final FTPClient client;\n\n    @SneakyThrows\n    public FtpClientWrapper(FtpClientProperties properties) {\n        FTPClient client = new FTPClient();\n\n        client.connect(properties.getServer(), properties.getPort());\n\n        client.enterLocalPassiveMode();\n\n        int reply = client.getReplyCode();\n        if (!FTPReply.isPositiveCompletion(reply)) {\n            client.disconnect();\n            throw new IOException(&quot;Exception in connecting to FTP Server. ReplyCode: &quot; + reply);\n        }\n\n        boolean loginSuccess = client.login(properties.getUsername(), properties.getPassword());\n\n        if (!loginSuccess) {\n            throw new RuntimeException(&quot;FTP login failed.&quot;);\n        }\n\n        this.client = client;\n    }\n\n    @SneakyThrows\n    public InputStream downloadFile(String fileName) {\n        client.setFileType(FTP.BINARY_FILE_TYPE);\n        return client.retrieveFileStream(fileName);\n    }\n}\n</code></pre>\n<p>Controller method:</p>\n<pre><code>    @Override\npublic ResponseEntity&lt;InputStreamResource&gt; downloadFile(String fileName) {\n    InputStream result = ftpClient.downloadFile(fileName);\n\n    return ResponseEntity.ok()\n        .contentLength(&lt;correct file size&gt;)\n        .contentType(&lt;proper content type&gt;)\n        .body(new InputStreamResource(result));\n}\n</code></pre>\n<p>And the result:</p>\n<p><a href=\"https://i.stack.imgur.com/rF1YN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rF1YN.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android-layout","android-recyclerview","settext"],"comments":[{"owner":{"account_id":8373673,"reputation":61868,"user_id":6287910,"display_name":"Cheticamp"},"score":0,"creation_date":1673188463,"post_id":75048331,"comment_id":132437417,"body_markdown":"Not an answer, but you should restructure the code in `onResponse()` to move everything inside the `for` loop outside of the loop and preferably into the main body of the code. You are now creating an adapter and layout manager for each item in `modelArrayList`. You only need to do it once and then make a call to `notifyDataSetChanged()`. You may delete the `for` loop altogether, but you may have other code there that you haven&#39;t posted.","body":"Not an answer, but you should restructure the code in <code>onResponse()</code> to move everything inside the <code>for</code> loop outside of the loop and preferably into the main body of the code. You are now creating an adapter and layout manager for each item in <code>modelArrayList</code>. You only need to do it once and then make a call to <code>notifyDataSetChanged()</code>. You may delete the <code>for</code> loop altogether, but you may have other code there that you haven&#39;t posted."},{"owner":{"account_id":27468829,"reputation":1,"user_id":20958111,"display_name":"eri"},"score":0,"creation_date":1673194254,"post_id":75048331,"comment_id":132438653,"body_markdown":"thanks for the comment! I removed the for loop altogether and put the contents outside the loop and called the notifyDataSetChanged() but the data is still not showing... now im thinking that maybe the 6 layouts just fitted in the recyclerview conveniently and everything is just not working lol\nalso these are all my codes for the arraylist.. the code i didnt show is just the constructor and getter of the variables.","body":"thanks for the comment! I removed the for loop altogether and put the contents outside the loop and called the notifyDataSetChanged() but the data is still not showing... now im thinking that maybe the 6 layouts just fitted in the recyclerview conveniently and everything is just not working lol also these are all my codes for the arraylist.. the code i didnt show is just the constructor and getter of the variables."},{"owner":{"account_id":8373673,"reputation":61868,"user_id":6287910,"display_name":"Cheticamp"},"score":0,"creation_date":1673202157,"post_id":75048331,"comment_id":132440375,"body_markdown":"Post your item layout and your updated code. Check that the view code binding method is being called and `modelArrayList.get(position).getVaccineName()` has a value.","body":"Post your item layout and your updated code. Check that the view code binding method is being called and <code>modelArrayList.get(position).getVaccineName()</code> has a value."}],"owner":{"account_id":27468829,"reputation":1,"user_id":20958111,"display_name":"eri"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673186382,"creation_date":1673186382,"question_id":75048331,"body_markdown":"I am doing a vaccine name list which shows the list of vaccine names from a table in a database. Once run, the RecyclerView was multiplied to the correct array size which is 6 but the names were not showing and null.\r\n\r\nThese are my block of codes for that particular list view\r\n\r\n**AboutVaccines.java**\r\n\r\n```\r\nprivate void viewJsonData() {\r\n        Retrofit retrofit = new Retrofit.Builder()\r\n                .baseUrl(BaseUrl)\r\n                .addConverterFactory(GsonConverterFactory.create())\r\n                .build();\r\n        myApi = retrofit.create(MyAPI.class);\r\n\r\n        Call&lt;ArrayList&lt;VaccineModel&gt;&gt; modelarraylist = myApi.callArrayList();\r\n        modelarraylist.enqueue(new Callback&lt;ArrayList&lt;VaccineModel&gt;&gt;() {\r\n            @Override\r\n            public void onResponse(Call&lt;ArrayList&lt;VaccineModel&gt;&gt; call, retrofit2.Response&lt;ArrayList&lt;VaccineModel&gt;&gt; response) {\r\n                modelArrayList = response.body();\r\n                int i = 0;\r\n\r\n                for(i = 0; i &lt; modelArrayList.size(); i++){\r\n                    vaccineAdapter = new VaccineAdapter(modelArrayList, AboutVaccines.this);\r\n\r\n                    LinearLayoutManager manager = new LinearLayoutManager(AboutVaccines.this,\r\n                            RecyclerView.VERTICAL, false);\r\n                    vaccinerecycler.setLayoutManager(manager);\r\n                    vaccinerecycler.setAdapter(vaccineAdapter);\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onFailure(Call&lt;ArrayList&lt;VaccineModel&gt;&gt; call, Throwable t) {\r\n                Toast.makeText(AboutVaccines.this, &quot;data was not fetched!&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n\r\n    }\r\n```\r\n\r\n**VaccineAdapter.java**\r\n\r\n```\r\npublic class VaccineAdapter extends RecyclerView.Adapter&lt;VaccineAdapter.ViewHolder&gt; {\r\n\r\n    private ArrayList&lt;VaccineModel&gt; modelArrayList;\r\n    private Context context;\r\n\r\n    public VaccineAdapter(ArrayList&lt;VaccineModel&gt; modelArrayList, Context context) {\r\n        this.modelArrayList = modelArrayList;\r\n        this.context = context;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public VaccineAdapter.ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n\r\n        LayoutInflater inflater = LayoutInflater.from(context);\r\n        View view = inflater.inflate(R.layout.abtvaccinesrecyclerview, parent, false);\r\n        return new VaccineAdapter.ViewHolder(view);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull VaccineAdapter.ViewHolder holder, int position) {\r\n        holder.vname.setText(modelArrayList.get(position).getVaccineName());\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return modelArrayList.size();\r\n    }\r\n\r\n    public class ViewHolder extends RecyclerView.ViewHolder {\r\n\r\n        TextView vname;\r\n        public ViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n            vname = itemView.findViewById(R.id.vaccinename);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n**MyAPI.java**\r\n\r\n```\r\npublic interface MyAPI {\r\n    @GET(&quot;vaccinedata.php&quot;)\r\n    Call&lt;ArrayList&lt;VaccineModel&gt;&gt; callArrayList();\r\n}\r\n```\r\n\r\n[RecyclerView shows 6 layouts but the vaccine names is still not shown](https://i.stack.imgur.com/GKM8Y.png)\r\n\r\nThe logcat also shows error &quot;No adapter attached; skipping layout&quot; for the RecyclerView","title":"RecyclerView shows layout and size is correct but the setText is still null and empty","body":"<p>I am doing a vaccine name list which shows the list of vaccine names from a table in a database. Once run, the RecyclerView was multiplied to the correct array size which is 6 but the names were not showing and null.</p>\n<p>These are my block of codes for that particular list view</p>\n<p><strong>AboutVaccines.java</strong></p>\n<pre><code>private void viewJsonData() {\n        Retrofit retrofit = new Retrofit.Builder()\n                .baseUrl(BaseUrl)\n                .addConverterFactory(GsonConverterFactory.create())\n                .build();\n        myApi = retrofit.create(MyAPI.class);\n\n        Call&lt;ArrayList&lt;VaccineModel&gt;&gt; modelarraylist = myApi.callArrayList();\n        modelarraylist.enqueue(new Callback&lt;ArrayList&lt;VaccineModel&gt;&gt;() {\n            @Override\n            public void onResponse(Call&lt;ArrayList&lt;VaccineModel&gt;&gt; call, retrofit2.Response&lt;ArrayList&lt;VaccineModel&gt;&gt; response) {\n                modelArrayList = response.body();\n                int i = 0;\n\n                for(i = 0; i &lt; modelArrayList.size(); i++){\n                    vaccineAdapter = new VaccineAdapter(modelArrayList, AboutVaccines.this);\n\n                    LinearLayoutManager manager = new LinearLayoutManager(AboutVaccines.this,\n                            RecyclerView.VERTICAL, false);\n                    vaccinerecycler.setLayoutManager(manager);\n                    vaccinerecycler.setAdapter(vaccineAdapter);\n                }\n            }\n\n            @Override\n            public void onFailure(Call&lt;ArrayList&lt;VaccineModel&gt;&gt; call, Throwable t) {\n                Toast.makeText(AboutVaccines.this, &quot;data was not fetched!&quot;, Toast.LENGTH_SHORT).show();\n            }\n        });\n\n    }\n</code></pre>\n<p><strong>VaccineAdapter.java</strong></p>\n<pre><code>public class VaccineAdapter extends RecyclerView.Adapter&lt;VaccineAdapter.ViewHolder&gt; {\n\n    private ArrayList&lt;VaccineModel&gt; modelArrayList;\n    private Context context;\n\n    public VaccineAdapter(ArrayList&lt;VaccineModel&gt; modelArrayList, Context context) {\n        this.modelArrayList = modelArrayList;\n        this.context = context;\n    }\n\n    @NonNull\n    @Override\n    public VaccineAdapter.ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n\n        LayoutInflater inflater = LayoutInflater.from(context);\n        View view = inflater.inflate(R.layout.abtvaccinesrecyclerview, parent, false);\n        return new VaccineAdapter.ViewHolder(view);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull VaccineAdapter.ViewHolder holder, int position) {\n        holder.vname.setText(modelArrayList.get(position).getVaccineName());\n    }\n\n    @Override\n    public int getItemCount() {\n        return modelArrayList.size();\n    }\n\n    public class ViewHolder extends RecyclerView.ViewHolder {\n\n        TextView vname;\n        public ViewHolder(@NonNull View itemView) {\n            super(itemView);\n            vname = itemView.findViewById(R.id.vaccinename);\n        }\n    }\n}\n</code></pre>\n<p><strong>MyAPI.java</strong></p>\n<pre><code>public interface MyAPI {\n    @GET(&quot;vaccinedata.php&quot;)\n    Call&lt;ArrayList&lt;VaccineModel&gt;&gt; callArrayList();\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/GKM8Y.png\" rel=\"nofollow noreferrer\">RecyclerView shows 6 layouts but the vaccine names is still not shown</a></p>\n<p>The logcat also shows error &quot;No adapter attached; skipping layout&quot; for the RecyclerView</p>\n"},{"tags":["java","algorithm","data-structures","time-complexity","space-complexity"],"comments":[{"owner":{"account_id":17000499,"reputation":48397,"user_id":12299000,"display_name":"kaya3"},"score":0,"creation_date":1673181025,"post_id":75047725,"comment_id":132436033,"body_markdown":"What is it supposed to do, and how is it supposed to work?","body":"What is it supposed to do, and how is it supposed to work?"},{"owner":{"account_id":22393728,"reputation":91,"user_id":16605320,"display_name":"Nandini Agarwal"},"score":0,"creation_date":1673181813,"post_id":75047725,"comment_id":132436167,"body_markdown":"Move all negative elements of the array to the end.","body":"Move all negative elements of the array to the end."},{"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"score":1,"creation_date":1673181967,"post_id":75047725,"comment_id":132436193,"body_markdown":"Yes, time and space complexity is as you say.","body":"Yes, time and space complexity is as you say."},{"owner":{"account_id":17000499,"reputation":48397,"user_id":12299000,"display_name":"kaya3"},"score":1,"creation_date":1673182167,"post_id":75047725,"comment_id":132436220,"body_markdown":"It&#39;s not quite as simple as the classic nested loops making `n * n`, because of the `k`. It is still O(n^2), but you should try to think of a family of inputs that it&#39;s O(n^2) on.","body":"It&#39;s not quite as simple as the classic nested loops making <code>n * n</code>, because of the <code>k</code>. It is still O(n^2), but you should try to think of a family of inputs that it&#39;s O(n^2) on."}],"answers":[{"tags":[],"owner":{"display_name":"user1196549"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673186051,"creation_date":1673186051,"answer_id":75048288,"question_id":75047725,"body_markdown":"The inner loop runs for `n-1-i` times (when it runs). Assuming the probability `p` of an array element to be negative, every element contributes `p(n-1-i)` swaps. Now you sum this for `i` in `[n-1, 0]`, i.e. `n-1-i` in `[0, n-1]`, and the expected cost is\r\n\r\n    p(n-1)n/2\r\n\r\nswaps.\r\n","title":"Time Complexity And Space Complexity Of This Code?","body":"<p>The inner loop runs for <code>n-1-i</code> times (when it runs). Assuming the probability <code>p</code> of an array element to be negative, every element contributes <code>p(n-1-i)</code> swaps. Now you sum this for <code>i</code> in <code>[n-1, 0]</code>, i.e. <code>n-1-i</code> in <code>[0, n-1]</code>, and the expected cost is</p>\n<pre><code>p(n-1)n/2\n</code></pre>\n<p>swaps.</p>\n"}],"owner":{"account_id":22393728,"reputation":91,"user_id":16605320,"display_name":"Nandini Agarwal"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":4,"up_vote_count":2,"answer_count":1,"score":-2,"last_activity_date":1673186051,"creation_date":1673180708,"question_id":75047725,"body_markdown":"What is the Time &amp; Space Complexity of this code ?\r\n\r\nHere,is the code for moving all the negative elements of any array to the end of the array while maintaining the order of all non-negative elements as well as negative elements - as,\r\n\r\nInput : {-11,-1,3, 24, -7, -5, 11, -6}\r\n\r\nOutput : {3, 24, 11, -11, -1, -7, -5, -6}\r\n\r\n\r\n\r\n    public static void MoveNegativeElementsToEnd(int arr[])\r\n        {\r\n            int k=arr.length-1;\r\n            int n=arr.length;\r\n    \r\n            for(int i=n-1;i&gt;=0;i--){\r\n                if(arr[i]&lt;0){\r\n                    for(int j=i;j&lt;k;j++){\r\n                        swap(arr,j,j+1);\r\n                    }\r\n                    k--;\r\n                }\r\n            }\r\n        }\r\n        public static void swap(int[] arr, int a, int b){\r\n            int temp=arr[a];\r\n            arr[a]=arr[b];\r\n            arr[b]=temp;\r\n        }\r\n\r\nAcco. to me, time complexity is O(N^2),\r\n\r\nn -&gt; for traversing the array\r\n\r\nn -&gt; for swapping the negative elements to the end each time.\r\nIs this correct ?\r\n\r\n\r\nAnd is the space complexity is O(1) as, for all the inputs it takes the same no. of variables ?","title":"Time Complexity And Space Complexity Of This Code?","body":"<p>What is the Time &amp; Space Complexity of this code ?</p>\n<p>Here,is the code for moving all the negative elements of any array to the end of the array while maintaining the order of all non-negative elements as well as negative elements - as,</p>\n<p>Input : {-11,-1,3, 24, -7, -5, 11, -6}</p>\n<p>Output : {3, 24, 11, -11, -1, -7, -5, -6}</p>\n<pre><code>public static void MoveNegativeElementsToEnd(int arr[])\n    {\n        int k=arr.length-1;\n        int n=arr.length;\n\n        for(int i=n-1;i&gt;=0;i--){\n            if(arr[i]&lt;0){\n                for(int j=i;j&lt;k;j++){\n                    swap(arr,j,j+1);\n                }\n                k--;\n            }\n        }\n    }\n    public static void swap(int[] arr, int a, int b){\n        int temp=arr[a];\n        arr[a]=arr[b];\n        arr[b]=temp;\n    }\n</code></pre>\n<p>Acco. to me, time complexity is O(N^2),</p>\n<p>n -&gt; for traversing the array</p>\n<p>n -&gt; for swapping the negative elements to the end each time.\nIs this correct ?</p>\n<p>And is the space complexity is O(1) as, for all the inputs it takes the same no. of variables ?</p>\n"},{"tags":["java","android","seekbar"],"comments":[{"owner":{"account_id":1980300,"reputation":28633,"user_id":1777090,"accept_rate":89,"display_name":"MysticMagic"},"score":1,"creation_date":1387892741,"post_id":20762001,"comment_id":31115516,"body_markdown":"Check [this](https://code.google.com/p/range-seek-bar/)","body":"Check <a href=\"https://code.google.com/p/range-seek-bar/\" rel=\"nofollow noreferrer\">this</a>"},{"owner":{"account_id":452941,"reputation":2058,"user_id":849664,"accept_rate":50,"display_name":"Chirag Shah"},"score":0,"creation_date":1387893118,"post_id":20762001,"comment_id":31115664,"body_markdown":"try [this](http://stackoverflow.com/questions/3490951/how-to-limit-seekbar)","body":"try <a href=\"http://stackoverflow.com/questions/3490951/how-to-limit-seekbar\">this</a>"},{"owner":{"account_id":3734008,"reputation":1887,"user_id":3105452,"display_name":"GareginSargsyan"},"score":1,"creation_date":1387894980,"post_id":20762001,"comment_id":31116304,"body_markdown":"The min value is always 0. You cannot change it.","body":"The min value is always 0. You cannot change it."}],"answers":[{"tags":[],"owner":{"account_id":1186131,"reputation":6203,"user_id":1160045,"accept_rate":0,"display_name":"Md Abdul Gafur"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1387892740,"creation_date":1387892740,"answer_id":20762045,"question_id":20762001,"body_markdown":"Set seekbar max and min value \r\n\r\n    seekbar have method that setmax(int position) and setProgress(int position)\r\n\r\nthanks","title":"How to set seekbar min and max value","body":"<p>Set seekbar max and min value </p>\n\n<pre><code>seekbar have method that setmax(int position) and setProgress(int position)\n</code></pre>\n\n<p>thanks</p>\n"},{"tags":[],"owner":{"account_id":2464737,"reputation":1322,"user_id":2148099,"accept_rate":100,"display_name":"ishu"},"down_vote_count":3,"up_vote_count":18,"is_accepted":false,"score":15,"last_activity_date":1387892769,"creation_date":1387892769,"answer_id":20762048,"question_id":20762001,"body_markdown":"    seekbar.setOnSeekBarChangeListener(new OnSeekBarChangeListener() {\r\n    \r\n    \t\t\t@Override\r\n    \t\t\tpublic void onStopTrackingTouch(SeekBar seekBar) {\r\n    \r\n    \t\t\t}\r\n    \r\n    \t\t\t@Override\r\n    \t\t\tpublic void onStartTrackingTouch(SeekBar seekBar) {\r\n    \r\n    \t\t\t}\r\n    \r\n    \t\t\t@Override\r\n    \t\t\tpublic void onProgressChanged(SeekBar seekBar, int progress,\r\n    \t\t\t\t\tboolean fromUser) {\r\n    \r\n    \t\t\t\tint MIN = 5;\r\n    \t\t\t\tif (progress &lt; MIN) {\r\n    \t\t\t\t\r\n    \t\t\t\t\tvalue.setText(&quot; Time Interval (&quot; + seektime + &quot; sec)&quot;);\r\n    \t\t\t\t} else {\r\n    \t\t\t\t\tseektime = progress;\r\n    \t\t\t\t}\r\n    \t\t\t\tvalue.setText(&quot; Time Interval (&quot; + seektime + &quot; sec)&quot;);\r\n    \r\n    \t\t\t}\r\n    \t\t});","title":"How to set seekbar min and max value","body":"<pre><code>seekbar.setOnSeekBarChangeListener(new OnSeekBarChangeListener() {\n\n            @Override\n            public void onStopTrackingTouch(SeekBar seekBar) {\n\n            }\n\n            @Override\n            public void onStartTrackingTouch(SeekBar seekBar) {\n\n            }\n\n            @Override\n            public void onProgressChanged(SeekBar seekBar, int progress,\n                    boolean fromUser) {\n\n                int MIN = 5;\n                if (progress &lt; MIN) {\n\n                    value.setText(\" Time Interval (\" + seektime + \" sec)\");\n                } else {\n                    seektime = progress;\n                }\n                value.setText(\" Time Interval (\" + seektime + \" sec)\");\n\n            }\n        });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1791933,"reputation":3483,"user_id":1632100,"accept_rate":76,"display_name":"Kailash Dabhi"},"down_vote_count":1,"up_vote_count":41,"is_accepted":false,"score":40,"last_activity_date":1609532207,"creation_date":1387893083,"answer_id":20762136,"question_id":20762001,"body_markdown":"You can set max value for your seekbar by using this code:\r\n\r\n\r\n\t\tsb1.setMax(100);\r\nThis will set the max value for your seekbar.\r\n\r\n\r\n   But you cannot set the minimum value but yes you can do some arithmetic to adjust value.\r\nUse arithmetic to adjust your application-required value.\r\n\r\n   For example, suppose you have data values from -50 to 100 you want to\r\n    display on the SeekBar. Set the SeekBar&#39;s maximum to be 150 (100-(-50)),\r\n    then subtract 50 from the raw value to get the number you should use when setting\r\n    the bar position.\r\n\r\nYou can get more info via this [link][1].\r\n\r\n\r\n  [1]: https://groups.google.com/forum/#!topic/android-beginners/q3SQzvwwQLE","title":"How to set seekbar min and max value","body":"<p>You can set max value for your seekbar by using this code:</p>\n<pre><code>    sb1.setMax(100);\n</code></pre>\n<p>This will set the max value for your seekbar.</p>\n<p>But you cannot set the minimum value but yes you can do some arithmetic to adjust value.\nUse arithmetic to adjust your application-required value.</p>\n<p>For example, suppose you have data values from -50 to 100 you want to\ndisplay on the SeekBar. Set the SeekBar's maximum to be 150 (100-(-50)),\nthen subtract 50 from the raw value to get the number you should use when setting\nthe bar position.</p>\n<p>You can get more info via this <a href=\"https://groups.google.com/forum/#!topic/android-beginners/q3SQzvwwQLE\" rel=\"noreferrer\">link</a>.</p>\n"},{"tags":[],"owner":{"account_id":3768598,"reputation":292,"user_id":3131373,"display_name":"user3131373"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1673185942,"creation_date":1399532518,"answer_id":23534952,"question_id":20762001,"body_markdown":"Seek  Bar has methods for setting max values but not for setting min value\r\nhere i write a code for setting minimum seek bar value\r\nwhen we add this code then your seek bar values not less then mim value\r\ntry this its work fine for me\r\n\r\n              /*   This methods call after seek bar value change */           \r\n\r\n                public void onProgressChanged(SeekBar seekBar, int progress,\r\n                    boolean fromUser) {\r\n                /* Check the current seekbar value is greather than min value*/\r\n                if (progress &lt; MIN_VALUE) {\r\n                    /* if seek bar value is lesser than min value then set min value to seek bar */\r\n                    seekBar.setProgress(MIN_VALUE);\r\n                }\r\n\r\n            }","title":"How to set seekbar min and max value","body":"<p>Seek  Bar has methods for setting max values but not for setting min value\nhere i write a code for setting minimum seek bar value\nwhen we add this code then your seek bar values not less then mim value\ntry this its work fine for me</p>\n<pre><code>          /*   This methods call after seek bar value change */           \n\n            public void onProgressChanged(SeekBar seekBar, int progress,\n                boolean fromUser) {\n            /* Check the current seekbar value is greather than min value*/\n            if (progress &lt; MIN_VALUE) {\n                /* if seek bar value is lesser than min value then set min value to seek bar */\n                seekBar.setProgress(MIN_VALUE);\n            }\n\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4436961,"reputation":3834,"user_id":3612559,"display_name":"WannaGetHigh"},"down_vote_count":0,"up_vote_count":120,"is_accepted":true,"score":120,"last_activity_date":1544153750,"creation_date":1407154741,"answer_id":25118544,"question_id":20762001,"body_markdown":"You cannot set the `min` value of a SeekBar (always 0) and you cannot set the `step` value of a SeekBar (always 1).\r\n\r\nTo set the value from **60** to **180** with a step of **1**:\r\n\r\n\r\n    int step = 1;\r\n    int max = 180;\r\n    int min = 60;\r\n\r\n    // Ex : \r\n    // If you want values from 3 to 5 with a step of 0.1 (3, 3.1, 3.2, ..., 5)\r\n    // this means that you have 21 possible values in the seekbar.\r\n    // So the range of the seek bar will be [0 ; (5-3)/0.1 = 20].\r\n    seekbar.setMax( (max - min) / step );\r\n    \r\n\r\n    seekbar.setOnSeekBarChangeListener(\r\n        new OnSeekBarChangeListener()\r\n        {\r\n            @Override\r\n            public void onStopTrackingTouch(SeekBar seekBar) {}\r\n\r\n            @Override\r\n            public void onStartTrackingTouch(SeekBar seekBar) {}\r\n\r\n            @Override\r\n            public void onProgressChanged(SeekBar seekBar, int progress, \r\n                boolean fromUser) \r\n            {\r\n                // Ex :\r\n                // And finally when you want to retrieve the value in the range you\r\n                // wanted in the first place -&gt; [3-5]\r\n                //\r\n                // if progress = 13 -&gt; value = 3 + (13 * 0.1) = 4.3\r\n                double value = min + (progress * step);\r\n\r\n            }\r\n        }\r\n    );\r\n\r\n\r\nI put another example within the code so that you understand the math.\r\n","title":"How to set seekbar min and max value","body":"<p>You cannot set the <code>min</code> value of a SeekBar (always 0) and you cannot set the <code>step</code> value of a SeekBar (always 1).</p>\n\n<p>To set the value from <strong>60</strong> to <strong>180</strong> with a step of <strong>1</strong>:</p>\n\n<pre><code>int step = 1;\nint max = 180;\nint min = 60;\n\n// Ex : \n// If you want values from 3 to 5 with a step of 0.1 (3, 3.1, 3.2, ..., 5)\n// this means that you have 21 possible values in the seekbar.\n// So the range of the seek bar will be [0 ; (5-3)/0.1 = 20].\nseekbar.setMax( (max - min) / step );\n\n\nseekbar.setOnSeekBarChangeListener(\n    new OnSeekBarChangeListener()\n    {\n        @Override\n        public void onStopTrackingTouch(SeekBar seekBar) {}\n\n        @Override\n        public void onStartTrackingTouch(SeekBar seekBar) {}\n\n        @Override\n        public void onProgressChanged(SeekBar seekBar, int progress, \n            boolean fromUser) \n        {\n            // Ex :\n            // And finally when you want to retrieve the value in the range you\n            // wanted in the first place -&gt; [3-5]\n            //\n            // if progress = 13 -&gt; value = 3 + (13 * 0.1) = 4.3\n            double value = min + (progress * step);\n\n        }\n    }\n);\n</code></pre>\n\n<p>I put another example within the code so that you understand the math.</p>\n"},{"tags":[],"owner":{"account_id":5646886,"reputation":1,"user_id":4468647,"display_name":"Muhammed Thasneem"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672327433,"creation_date":1427110302,"answer_id":29209156,"question_id":20762001,"body_markdown":"Copy this class and use custom Seek Bar :\r\n\r\n    public class MinMaxSeekBar extends SeekBar implements SeekBar.OnSeekBarChangeListener {\r\n    private OnMinMaxSeekBarChangeListener onMinMaxSeekBarChangeListener = null;\r\n    private int intMaxValue = 100;\r\n    private int intPrgress = 0;\r\n    private int minPrgress = 0;\r\n\r\n\r\n    public int getIntMaxValue() {\r\n        return intMaxValue;\r\n    }\r\n\r\n    public void setIntMaxValue(int intMaxValue) {\r\n        this.intMaxValue = intMaxValue;\r\n        int middle = getMiddle(intMaxValue, minPrgress);\r\n        super.setMax(middle);\r\n    }\r\n\r\n    public int getIntPrgress() {\r\n        return intPrgress;\r\n    }\r\n\r\n    public void setIntPrgress(int intPrgress) {\r\n        this.intPrgress = intPrgress;\r\n    }\r\n\r\n    public int getMinPrgress() {\r\n        return minPrgress;\r\n    }\r\n\r\n    public void setMinPrgress(int minPrgress) {\r\n        this.minPrgress = minPrgress;\r\n        int middle = getMiddle(intMaxValue, minPrgress);\r\n        super.setMax(middle);\r\n    }\r\n\r\n    private int getMiddle(int floatMaxValue, int minPrgress) {\r\n        int v = floatMaxValue - minPrgress;\r\n        return v;\r\n    }\r\n\r\n    public MinMaxSeekBar(Context context, AttributeSet attrs) {\r\n        super(context, attrs);\r\n        this.setOnSeekBarChangeListener(this);\r\n    }\r\n\r\n    public MinMaxSeekBar(Context context) {\r\n        super(context);\r\n        this.setOnSeekBarChangeListener(this);\r\n    }\r\n\r\n    @Override\r\n    public void onProgressChanged(SeekBar seekBar, int i, boolean b) {\r\n        intPrgress = minPrgress + i;\r\n        onMinMaxSeekBarChangeListener.onMinMaxSeekProgressChanged(seekBar, intPrgress, b);\r\n    }\r\n\r\n    @Override\r\n    public void onStartTrackingTouch(SeekBar seekBar) {\r\n        onMinMaxSeekBarChangeListener.onStartTrackingTouch(seekBar);\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onStopTrackingTouch(SeekBar seekBar) {\r\n        onMinMaxSeekBarChangeListener.onStopTrackingTouch(seekBar);\r\n    }\r\n\r\n    public static interface OnMinMaxSeekBarChangeListener {\r\n        public void onMinMaxSeekProgressChanged(SeekBar seekBar, int i, boolean b);\r\n\r\n        public void onStartTrackingTouch(SeekBar seekBar);\r\n\r\n        public void onStopTrackingTouch(SeekBar seekBar);\r\n    }\r\n\r\n    public void setOnIntegerSeekBarChangeListener(OnMinMaxSeekBarChangeListener floatListener) {\r\n        this.onMinMaxSeekBarChangeListener = floatListener;\r\n    }\r\n    }\r\n\r\n&gt; This class contains method `public void setMin(int minPrgress)` for setting minimum value of Seek Bar\r\nThis class contains method `public void setMax(int maxPrgress)` for setting maximum value of Seek Bar","title":"How to set seekbar min and max value","body":"<p>Copy this class and use custom Seek Bar :</p>\n<pre><code>public class MinMaxSeekBar extends SeekBar implements SeekBar.OnSeekBarChangeListener {\nprivate OnMinMaxSeekBarChangeListener onMinMaxSeekBarChangeListener = null;\nprivate int intMaxValue = 100;\nprivate int intPrgress = 0;\nprivate int minPrgress = 0;\n\n\npublic int getIntMaxValue() {\n    return intMaxValue;\n}\n\npublic void setIntMaxValue(int intMaxValue) {\n    this.intMaxValue = intMaxValue;\n    int middle = getMiddle(intMaxValue, minPrgress);\n    super.setMax(middle);\n}\n\npublic int getIntPrgress() {\n    return intPrgress;\n}\n\npublic void setIntPrgress(int intPrgress) {\n    this.intPrgress = intPrgress;\n}\n\npublic int getMinPrgress() {\n    return minPrgress;\n}\n\npublic void setMinPrgress(int minPrgress) {\n    this.minPrgress = minPrgress;\n    int middle = getMiddle(intMaxValue, minPrgress);\n    super.setMax(middle);\n}\n\nprivate int getMiddle(int floatMaxValue, int minPrgress) {\n    int v = floatMaxValue - minPrgress;\n    return v;\n}\n\npublic MinMaxSeekBar(Context context, AttributeSet attrs) {\n    super(context, attrs);\n    this.setOnSeekBarChangeListener(this);\n}\n\npublic MinMaxSeekBar(Context context) {\n    super(context);\n    this.setOnSeekBarChangeListener(this);\n}\n\n@Override\npublic void onProgressChanged(SeekBar seekBar, int i, boolean b) {\n    intPrgress = minPrgress + i;\n    onMinMaxSeekBarChangeListener.onMinMaxSeekProgressChanged(seekBar, intPrgress, b);\n}\n\n@Override\npublic void onStartTrackingTouch(SeekBar seekBar) {\n    onMinMaxSeekBarChangeListener.onStartTrackingTouch(seekBar);\n\n}\n\n@Override\npublic void onStopTrackingTouch(SeekBar seekBar) {\n    onMinMaxSeekBarChangeListener.onStopTrackingTouch(seekBar);\n}\n\npublic static interface OnMinMaxSeekBarChangeListener {\n    public void onMinMaxSeekProgressChanged(SeekBar seekBar, int i, boolean b);\n\n    public void onStartTrackingTouch(SeekBar seekBar);\n\n    public void onStopTrackingTouch(SeekBar seekBar);\n}\n\npublic void setOnIntegerSeekBarChangeListener(OnMinMaxSeekBarChangeListener floatListener) {\n    this.onMinMaxSeekBarChangeListener = floatListener;\n}\n}\n</code></pre>\n<blockquote>\n<p>This class contains method <code>public void setMin(int minPrgress)</code> for setting minimum value of Seek Bar\nThis class contains method <code>public void setMax(int maxPrgress)</code> for setting maximum value of Seek Bar</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":3085249,"reputation":2907,"user_id":2612536,"accept_rate":67,"display_name":"Sindri &#222;&#243;r"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1449614882,"creation_date":1449614882,"answer_id":34167542,"question_id":20762001,"body_markdown":"Min-value will always start at zero and its nothing you can do about it. But you can change its value when user start scrolling it around. \r\n\r\nHere I set the max-value as 64.\r\nThis calculations are simple: I want the user to pick a time from 15min to 16 hours, and he picks one of every 15min to 16 hours, clear? I know, very simple :)\r\n\r\n        SeekBar seekBar = (SeekBar) dialog.findViewById(R.id.seekBar);\r\n        seekBar.setMax(64);\r\n\r\n        seekBar.setOnSeekBarChangeListener(new SeekBar.OnSeekBarChangeListener() {\r\n            float b;\r\n\r\n            @Override\r\n            public void onProgressChanged(SeekBar seekBar, int progress, boolean fromUser) {\r\n                float des = (float) progress / 4;\r\n                b = des;\r\n                hours.setText(des + &quot; hours&quot;);\r\n            }\r\n\r\n            @Override\r\n            public void onStartTrackingTouch(SeekBar seekBar) {\r\n\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onStopTrackingTouch(SeekBar seekBar) {\r\n                hoursSelected = b;\r\n            }\r\n        });","title":"How to set seekbar min and max value","body":"<p>Min-value will always start at zero and its nothing you can do about it. But you can change its value when user start scrolling it around. </p>\n\n<p>Here I set the max-value as 64.\nThis calculations are simple: I want the user to pick a time from 15min to 16 hours, and he picks one of every 15min to 16 hours, clear? I know, very simple :)</p>\n\n<pre><code>    SeekBar seekBar = (SeekBar) dialog.findViewById(R.id.seekBar);\n    seekBar.setMax(64);\n\n    seekBar.setOnSeekBarChangeListener(new SeekBar.OnSeekBarChangeListener() {\n        float b;\n\n        @Override\n        public void onProgressChanged(SeekBar seekBar, int progress, boolean fromUser) {\n            float des = (float) progress / 4;\n            b = des;\n            hours.setText(des + \" hours\");\n        }\n\n        @Override\n        public void onStartTrackingTouch(SeekBar seekBar) {\n\n\n        }\n\n        @Override\n        public void onStopTrackingTouch(SeekBar seekBar) {\n            hoursSelected = b;\n        }\n    });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1226958,"reputation":3451,"user_id":1192333,"accept_rate":75,"display_name":"Pelanes"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1469536275,"creation_date":1469535840,"answer_id":38589845,"question_id":20762001,"body_markdown":"The easiest way to set a min and max value to a seekbar for me: if you want values min=60 to max=180, this is equal to min=0 max=120. So in your seekbar xml set property:\r\n\r\n    android:max=&quot;120&quot;\r\n\r\n**min will be always 0**.\r\n\r\nNow you only need to do what your are doing, add the amount to get your translated value in any change, in this case +60.\r\n\r\n        seekBar.setOnSeekBarChangeListener(new SeekBar.OnSeekBarChangeListener() {\r\n            @Override\r\n            public void onProgressChanged(SeekBar seekBar, int progress, boolean fromUser) {\r\n                int translatedProgress = progress + 60;\r\n            }\r\n\r\n            @Override\r\n            public void onStartTrackingTouch(SeekBar seekBar) {\r\n            }\r\n\r\n            @Override\r\n            public void onStopTrackingTouch(SeekBar seekBar) {\r\n            }\r\n        });\r\n\r\nBe careful with the seekbar property android:progress, if you change the range you must recalculate your initial progress. If you want 50%, max/2, in my example 120/2 = 60;","title":"How to set seekbar min and max value","body":"<p>The easiest way to set a min and max value to a seekbar for me: if you want values min=60 to max=180, this is equal to min=0 max=120. So in your seekbar xml set property:</p>\n\n<pre><code>android:max=\"120\"\n</code></pre>\n\n<p><strong>min will be always 0</strong>.</p>\n\n<p>Now you only need to do what your are doing, add the amount to get your translated value in any change, in this case +60.</p>\n\n<pre><code>    seekBar.setOnSeekBarChangeListener(new SeekBar.OnSeekBarChangeListener() {\n        @Override\n        public void onProgressChanged(SeekBar seekBar, int progress, boolean fromUser) {\n            int translatedProgress = progress + 60;\n        }\n\n        @Override\n        public void onStartTrackingTouch(SeekBar seekBar) {\n        }\n\n        @Override\n        public void onStopTrackingTouch(SeekBar seekBar) {\n        }\n    });\n</code></pre>\n\n<p>Be careful with the seekbar property android:progress, if you change the range you must recalculate your initial progress. If you want 50%, max/2, in my example 120/2 = 60;</p>\n"},{"tags":[],"owner":{"account_id":11400797,"reputation":21,"user_id":8450643,"display_name":"Priyanshu Patel"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1502898077,"creation_date":1502881898,"answer_id":45711977,"question_id":20762001,"body_markdown":"There is no option to set a min or max value in seekbar , so you can use a formula here to scale your value.\r\n    \r\n    Desired_value = ( progress * ( Max_value - Min_value) / 100 ) + Min_value\r\n\r\nI have tested this formula in many examples. In your example,\r\n if the progressBar is the middle(i.e. progress = 50 ) and your Min_val and Max_val are 60 and 180 respectively, then this formula will give you the Desired_value &#39;120&#39;.","title":"How to set seekbar min and max value","body":"<p>There is no option to set a min or max value in seekbar , so you can use a formula here to scale your value.</p>\n\n<pre><code>Desired_value = ( progress * ( Max_value - Min_value) / 100 ) + Min_value\n</code></pre>\n\n<p>I have tested this formula in many examples. In your example,\n if the progressBar is the middle(i.e. progress = 50 ) and your Min_val and Max_val are 60 and 180 respectively, then this formula will give you the Desired_value '120'.</p>\n"},{"tags":[],"owner":{"account_id":10764570,"reputation":21,"user_id":7919993,"display_name":"TamirB"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1519024409,"creation_date":1519024409,"answer_id":48861159,"question_id":20762001,"body_markdown":"        private static final int MIN_METERS = 100;\r\n        private static final int JUMP_BY = 50;\r\n\r\n        metersText.setText(meters+&quot;&quot;);\r\n        metersBar.setProgress((meters-MIN_METERS));\r\n        metersBar.setOnSeekBarChangeListener(new SeekBar.OnSeekBarChangeListener() {\r\n            @Override\r\n            public void onStopTrackingTouch(SeekBar seekBar) {\r\n                // TODO Auto-generated method stub\r\n            }\r\n            @Override\r\n            public void onStartTrackingTouch(SeekBar seekBar) {\r\n                // TODO Auto-generated method stub\r\n            }\r\n            @Override\r\n            public void onProgressChanged(SeekBar seekBar, int progress,boolean fromUser) {\r\n                progress = progress + MIN_METERS;\r\n                progress = progress / JUMP_BY;\r\n                progress = progress * JUMP_BY;\r\n                metersText.setText((progress)+&quot;&quot;);\r\n            }\r\n        });\r\n    }","title":"How to set seekbar min and max value","body":"<pre><code>    private static final int MIN_METERS = 100;\n    private static final int JUMP_BY = 50;\n\n    metersText.setText(meters+\"\");\n    metersBar.setProgress((meters-MIN_METERS));\n    metersBar.setOnSeekBarChangeListener(new SeekBar.OnSeekBarChangeListener() {\n        @Override\n        public void onStopTrackingTouch(SeekBar seekBar) {\n            // TODO Auto-generated method stub\n        }\n        @Override\n        public void onStartTrackingTouch(SeekBar seekBar) {\n            // TODO Auto-generated method stub\n        }\n        @Override\n        public void onProgressChanged(SeekBar seekBar, int progress,boolean fromUser) {\n            progress = progress + MIN_METERS;\n            progress = progress / JUMP_BY;\n            progress = progress * JUMP_BY;\n            metersText.setText((progress)+\"\");\n        }\n    });\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3225868,"reputation":1863,"user_id":2722270,"display_name":"Weiyi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1537068606,"creation_date":1537068606,"answer_id":52350712,"question_id":20762001,"body_markdown":"Another solution to handle this case is creating a customized Seekbar, to get ride of converting the real value and SeekBar progress every time:\r\n\r\n\r\n    import android.content.Context\r\n    import android.util.AttributeSet\r\n    import android.widget.SeekBar\r\n    \r\n    //\r\n    // Require SeekBar with range [Min, Max] and INCREMENT value,\r\n    // However, Android Seekbar starts from 0 and increment is 1 by default, Android supports min attr on API 26,\r\n    // To make a increment &amp; range Seekbar, we can do the following conversion:\r\n    //\r\n    //     seekbar.setMax((Max - Min) / Increment)\r\n    //     seekbar.setProgress((actualValue - Min) / Increment)\r\n    //     seekbar.getProgress = Min + (progress * Increment)\r\n    //\r\n    // The RangeSeekBar is responsible for handling all these logic inside the class.\r\n    \r\n    data class Range(val min: Int, val max: Int, private val defaultIncrement: Int) {\r\n        val increment = if ((max - min) &lt; defaultIncrement) 1 else defaultIncrement\r\n    }\r\n    \r\n    \r\n    internal fun Range.toSeekbarMaximum(): Int = (max - min) / increment\r\n    \r\n    \r\n    class RangeSeekBar: SeekBar, SeekBar.OnSeekBarChangeListener {\r\n    \r\n        constructor(context: Context) : super(context)\r\n        constructor(context: Context, attrs: AttributeSet) : super(context, attrs)\r\n    \r\n        var range: Range = Range(0, 100, 1)\r\n            set(value) {\r\n                field = value\r\n                max = value.toSeekbarMaximum()\r\n            }\r\n    \r\n        var value: Int = 0\r\n            get() = range.min + progress * range.increment\r\n            set(value) {\r\n                progress = (value - range.min) / range.increment\r\n                field = value\r\n            }\r\n    \r\n        var onSeekBarChangeListenerDelegate: OnSeekBarChangeListener? = this\r\n    \r\n        override fun setOnSeekBarChangeListener(l: OnSeekBarChangeListener?) {\r\n            onSeekBarChangeListenerDelegate = l\r\n            super.setOnSeekBarChangeListener(this)\r\n        }\r\n    \r\n        override fun onProgressChanged(seekBar: SeekBar?, progress: Int, fromUser: Boolean) {\r\n            onSeekBarChangeListenerDelegate?.onProgressChanged(seekBar, value, fromUser)\r\n        }\r\n    \r\n        override fun onStartTrackingTouch(seekBar: SeekBar?) {\r\n            onSeekBarChangeListenerDelegate?.onStartTrackingTouch(seekBar)\r\n        }\r\n    \r\n        override fun onStopTrackingTouch(seekBar: SeekBar?) {\r\n            onSeekBarChangeListenerDelegate?.onStopTrackingTouch(seekBar)\r\n        }\r\n    }\r\n\r\nThen in your fragment, \r\n\r\n        // init\r\n        range_seekbar.range = Range(10, 110, 10)\r\n        range_seekbar.value = 20\r\n        \r\n        // observe value changes\r\n        range_seekbar.userChanges().skipInitialValue().subscribe {\r\n            println(&quot;current value=$it&quot;)\r\n        }\r\n\r\nKeywords: Kotlin, range SeekBar, Rx","title":"How to set seekbar min and max value","body":"<p>Another solution to handle this case is creating a customized Seekbar, to get ride of converting the real value and SeekBar progress every time:</p>\n\n<pre><code>import android.content.Context\nimport android.util.AttributeSet\nimport android.widget.SeekBar\n\n//\n// Require SeekBar with range [Min, Max] and INCREMENT value,\n// However, Android Seekbar starts from 0 and increment is 1 by default, Android supports min attr on API 26,\n// To make a increment &amp; range Seekbar, we can do the following conversion:\n//\n//     seekbar.setMax((Max - Min) / Increment)\n//     seekbar.setProgress((actualValue - Min) / Increment)\n//     seekbar.getProgress = Min + (progress * Increment)\n//\n// The RangeSeekBar is responsible for handling all these logic inside the class.\n\ndata class Range(val min: Int, val max: Int, private val defaultIncrement: Int) {\n    val increment = if ((max - min) &lt; defaultIncrement) 1 else defaultIncrement\n}\n\n\ninternal fun Range.toSeekbarMaximum(): Int = (max - min) / increment\n\n\nclass RangeSeekBar: SeekBar, SeekBar.OnSeekBarChangeListener {\n\n    constructor(context: Context) : super(context)\n    constructor(context: Context, attrs: AttributeSet) : super(context, attrs)\n\n    var range: Range = Range(0, 100, 1)\n        set(value) {\n            field = value\n            max = value.toSeekbarMaximum()\n        }\n\n    var value: Int = 0\n        get() = range.min + progress * range.increment\n        set(value) {\n            progress = (value - range.min) / range.increment\n            field = value\n        }\n\n    var onSeekBarChangeListenerDelegate: OnSeekBarChangeListener? = this\n\n    override fun setOnSeekBarChangeListener(l: OnSeekBarChangeListener?) {\n        onSeekBarChangeListenerDelegate = l\n        super.setOnSeekBarChangeListener(this)\n    }\n\n    override fun onProgressChanged(seekBar: SeekBar?, progress: Int, fromUser: Boolean) {\n        onSeekBarChangeListenerDelegate?.onProgressChanged(seekBar, value, fromUser)\n    }\n\n    override fun onStartTrackingTouch(seekBar: SeekBar?) {\n        onSeekBarChangeListenerDelegate?.onStartTrackingTouch(seekBar)\n    }\n\n    override fun onStopTrackingTouch(seekBar: SeekBar?) {\n        onSeekBarChangeListenerDelegate?.onStopTrackingTouch(seekBar)\n    }\n}\n</code></pre>\n\n<p>Then in your fragment, </p>\n\n<pre><code>    // init\n    range_seekbar.range = Range(10, 110, 10)\n    range_seekbar.value = 20\n\n    // observe value changes\n    range_seekbar.userChanges().skipInitialValue().subscribe {\n        println(\"current value=$it\")\n    }\n</code></pre>\n\n<p>Keywords: Kotlin, range SeekBar, Rx</p>\n"},{"tags":[],"owner":{"account_id":300897,"reputation":7589,"user_id":608312,"accept_rate":91,"display_name":"Jake Lee"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1545440482,"creation_date":1545440482,"answer_id":53892285,"question_id":20762001,"body_markdown":"If you are using the [AndroidX libraries][1] (`import androidx.preference.*`), this functionality exists without any hacky workarounds!\r\n\r\n        val seekbar = findPreference(&quot;your_seekbar&quot;) as SeekBarPreference\r\n        seekbar.min = 1\r\n        seekbar.max = 10\r\n        seekbar.seekBarIncrement = 1\r\n\r\n\r\n  [1]: https://developer.android.com/reference/kotlin/androidx/preference/SeekBarPreference","title":"How to set seekbar min and max value","body":"<p>If you are using the <a href=\"https://developer.android.com/reference/kotlin/androidx/preference/SeekBarPreference\" rel=\"nofollow noreferrer\">AndroidX libraries</a> (<code>import androidx.preference.*</code>), this functionality exists without any hacky workarounds!</p>\n\n<pre><code>    val seekbar = findPreference(\"your_seekbar\") as SeekBarPreference\n    seekbar.min = 1\n    seekbar.max = 10\n    seekbar.seekBarIncrement = 1\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11233157,"reputation":21,"user_id":8240393,"display_name":"vishal panchal"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1562217746,"creation_date":1545459004,"answer_id":53893455,"question_id":20762001,"body_markdown":"        paySeekRange.setOnSeekBarChangeListener(new SeekBar.OnSeekBarChangeListener() {\r\n            @Override\r\n            public void onProgressChanged(SeekBar seekBar, int progress, boolean fromUser) {\r\n                Debug.i(TAG, &quot;onProgressChanged 1: &quot; + progress);\r\n                int progressMin = (progress * (maxPayRange - minPayRange) / 100) + minPayRange;\r\n                Debug.i(TAG, &quot;onProgressChanged 2: &quot; + progress);\r\n                int progressMax = (progress * (maxPayRange) / 100);\r\n                progress = (progress * (progressMax - progressMin) / 100) + progressMin;\r\n                Debug.i(TAG, &quot;onProgressChanged 3: &quot; + progress);\r\n                txtWeeklyPay.setText(&quot;$&quot;.concat(String.valueOf(progress)));\r\n            }\r\n\r\n            @Override\r\n            public void onStartTrackingTouch(SeekBar seekBar) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onStopTrackingTouch(SeekBar seekBar) {\r\n\r\n            }\r\n        });\r\n","title":"How to set seekbar min and max value","body":"<pre><code>    paySeekRange.setOnSeekBarChangeListener(new SeekBar.OnSeekBarChangeListener() {\n        @Override\n        public void onProgressChanged(SeekBar seekBar, int progress, boolean fromUser) {\n            Debug.i(TAG, \"onProgressChanged 1: \" + progress);\n            int progressMin = (progress * (maxPayRange - minPayRange) / 100) + minPayRange;\n            Debug.i(TAG, \"onProgressChanged 2: \" + progress);\n            int progressMax = (progress * (maxPayRange) / 100);\n            progress = (progress * (progressMax - progressMin) / 100) + progressMin;\n            Debug.i(TAG, \"onProgressChanged 3: \" + progress);\n            txtWeeklyPay.setText(\"$\".concat(String.valueOf(progress)));\n        }\n\n        @Override\n        public void onStartTrackingTouch(SeekBar seekBar) {\n\n        }\n\n        @Override\n        public void onStopTrackingTouch(SeekBar seekBar) {\n\n        }\n    });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3735124,"reputation":582,"user_id":3106234,"display_name":"Rahul_Pawar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1547036263,"creation_date":1547036263,"answer_id":54109992,"question_id":20762001,"body_markdown":"For requirements like this I have created Utility to customize Seekbar progress like below code:\r\n\r\n**SeekBarUtil.class**\r\n\r\n       import android.widget.SeekBar;\r\n    import android.widget.TextView;\r\n    \r\n    public class SeekBarUtil {\r\n    \r\n        public static void setSeekBar(SeekBar mSeekbar, int minVal, int maxVal, int intervalVal, final TextView mTextView, String startPrefix, String endSuffix) {\r\n    \r\n            int totalCount = (maxVal - minVal) / intervalVal;\r\n            mSeekbar.setMax(totalCount);\r\n            mSeekbar.setOnSeekBarChangeListener(new CustomSeekBarListener(minVal, maxVal, intervalVal) {\r\n                @Override\r\n                public void onProgressChanged(SeekBar seekBar, int progress, boolean fromUser) {\r\n                    //progress = ((int)Math.round(progress/interval))*interval;\r\n                    int val = min;\r\n                    if (interval == totalCount) {\r\n                        val = max;\r\n                    } else {\r\n                        val = min + (progress * interval);\r\n                    }\r\n                    seekBar.setProgress(progress);\r\n                    mTextView.setText(startPrefix + val + endSuffix);\r\n                }\r\n                @Override\r\n                public void onStartTrackingTouch(SeekBar seekBar) {  }\r\n    \r\n                @Override\r\n                public void onStopTrackingTouch(SeekBar seekBar) {   }\r\n            });\r\n    \r\n        }\r\n    }\r\n\r\nand\r\n **CustomSeekBarListener.class**\r\n\r\n    import android.widget.SeekBar;\r\n    \r\n    class CustomSeekBarListener implements SeekBar.OnSeekBarChangeListener {\r\n        int min=0,max=0,interval=1;\r\n        int totalCount;\r\n        public CustomSeekBarListener(int min, int max, int interval) {\r\n            this.min = min;\r\n            this.max = max;\r\n            this.interval = interval;\r\n            totalCount= (max - min) / interval;\r\n        }\r\n        @Override\r\n        public void onProgressChanged(SeekBar seekBar, int i, boolean b) { }\r\n        @Override\r\n        public void onStartTrackingTouch(SeekBar seekBar) { }\r\n        @Override\r\n        public void onStopTrackingTouch(SeekBar seekBar) { }\r\n    }\r\n\r\n\r\nand you can use it like below code snippet\r\n\r\n\r\n    SeekBarUtil.setSeekBar(seekbarAmountNeeded,10000,200000,5000,textAmount,&quot;$&quot;,&quot; PA&quot;);","title":"How to set seekbar min and max value","body":"<p>For requirements like this I have created Utility to customize Seekbar progress like below code:</p>\n\n<p><strong>SeekBarUtil.class</strong></p>\n\n<pre><code>   import android.widget.SeekBar;\nimport android.widget.TextView;\n\npublic class SeekBarUtil {\n\n    public static void setSeekBar(SeekBar mSeekbar, int minVal, int maxVal, int intervalVal, final TextView mTextView, String startPrefix, String endSuffix) {\n\n        int totalCount = (maxVal - minVal) / intervalVal;\n        mSeekbar.setMax(totalCount);\n        mSeekbar.setOnSeekBarChangeListener(new CustomSeekBarListener(minVal, maxVal, intervalVal) {\n            @Override\n            public void onProgressChanged(SeekBar seekBar, int progress, boolean fromUser) {\n                //progress = ((int)Math.round(progress/interval))*interval;\n                int val = min;\n                if (interval == totalCount) {\n                    val = max;\n                } else {\n                    val = min + (progress * interval);\n                }\n                seekBar.setProgress(progress);\n                mTextView.setText(startPrefix + val + endSuffix);\n            }\n            @Override\n            public void onStartTrackingTouch(SeekBar seekBar) {  }\n\n            @Override\n            public void onStopTrackingTouch(SeekBar seekBar) {   }\n        });\n\n    }\n}\n</code></pre>\n\n<p>and\n <strong>CustomSeekBarListener.class</strong></p>\n\n<pre><code>import android.widget.SeekBar;\n\nclass CustomSeekBarListener implements SeekBar.OnSeekBarChangeListener {\n    int min=0,max=0,interval=1;\n    int totalCount;\n    public CustomSeekBarListener(int min, int max, int interval) {\n        this.min = min;\n        this.max = max;\n        this.interval = interval;\n        totalCount= (max - min) / interval;\n    }\n    @Override\n    public void onProgressChanged(SeekBar seekBar, int i, boolean b) { }\n    @Override\n    public void onStartTrackingTouch(SeekBar seekBar) { }\n    @Override\n    public void onStopTrackingTouch(SeekBar seekBar) { }\n}\n</code></pre>\n\n<p>and you can use it like below code snippet</p>\n\n<pre><code>SeekBarUtil.setSeekBar(seekbarAmountNeeded,10000,200000,5000,textAmount,\"$\",\" PA\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12201687,"reputation":645,"user_id":8905812,"display_name":"Devinder Jhinjer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1613734119,"creation_date":1613734119,"answer_id":66276735,"question_id":20762001,"body_markdown":"You can use Material design sliders instead of seekbar\r\n\r\n    &lt;com.google.android.material.slider.Slider\r\n        ...\r\n        android:valueFrom=&quot;60&quot;\r\n        android:valueTo=&quot;180&quot;\r\n        android:stepSize=&quot;10.0&quot;  /&gt;&#39;\r\n\r\n\r\nfor more check here https://material.io/components/sliders/android","title":"How to set seekbar min and max value","body":"<p>You can use Material design sliders instead of seekbar</p>\n<pre><code>&lt;com.google.android.material.slider.Slider\n    ...\n    android:valueFrom=&quot;60&quot;\n    android:valueTo=&quot;180&quot;\n    android:stepSize=&quot;10.0&quot;  /&gt;'\n</code></pre>\n<p>for more check here <a href=\"https://material.io/components/sliders/android\" rel=\"nofollow noreferrer\">https://material.io/components/sliders/android</a></p>\n"}],"owner":{"account_id":445336,"reputation":9179,"user_id":837722,"accept_rate":87,"display_name":"Si8"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":137767,"favorite_count":0,"down_vote_count":0,"up_vote_count":51,"accepted_answer_id":25118544,"answer_count":15,"score":51,"last_activity_date":1673185942,"creation_date":1387892492,"question_id":20762001,"body_markdown":"I have a seekbar and trying to set the value from 60 to 180 for one and 40 to 190 for the second one in step of 1.\r\n\r\n    sb1 = (SeekBar) findViewById(R.id.progresss);\r\n    \t\tsb1.setOnSeekBarChangeListener(new OnSeekBarChangeListener() {       \r\n    \r\n    \t\t    @Override       \r\n    \t\t    public void onStopTrackingTouch(SeekBar seekBar) {      \r\n    \t\t        // TODO Auto-generated method stub\r\n    \t\t    \t//int inVal = Integer.parseInt(String.valueOf(seekBar.getProgress()));\r\n    \t\t    \t//inVal =+ 70;\r\n    \t\t    \t//Toast.makeText(getApplicationContext(), String.valueOf(inVal),Toast.LENGTH_LONG).show();\r\n    \t\t    }       \r\n    \r\n    \t\t    @Override       \r\n    \t\t    public void onStartTrackingTouch(SeekBar seekBar) {     \r\n    \t\t        // TODO Auto-generated method stub      \r\n    \t\t    }       \r\n    \r\n    \t\t    @Override       \r\n    \t\t    public void onProgressChanged(SeekBar seekBar, int progress,boolean fromUser) {     \r\n    \t\t        // TODO Auto-generated method stub\r\n    \t\t    \tprogress =+ 70;\r\n    \t\t        Toast.makeText(getApplicationContext(), String.valueOf(progress),Toast.LENGTH_LONG).show();\r\n    \r\n    \t\t    }       \r\n    \t\t});\r\n\r\nis not working. Any idea how to fix it?","title":"How to set seekbar min and max value","body":"<p>I have a seekbar and trying to set the value from 60 to 180 for one and 40 to 190 for the second one in step of 1.</p>\n\n<pre><code>sb1 = (SeekBar) findViewById(R.id.progresss);\n        sb1.setOnSeekBarChangeListener(new OnSeekBarChangeListener() {       \n\n            @Override       \n            public void onStopTrackingTouch(SeekBar seekBar) {      \n                // TODO Auto-generated method stub\n                //int inVal = Integer.parseInt(String.valueOf(seekBar.getProgress()));\n                //inVal =+ 70;\n                //Toast.makeText(getApplicationContext(), String.valueOf(inVal),Toast.LENGTH_LONG).show();\n            }       \n\n            @Override       \n            public void onStartTrackingTouch(SeekBar seekBar) {     \n                // TODO Auto-generated method stub      \n            }       \n\n            @Override       \n            public void onProgressChanged(SeekBar seekBar, int progress,boolean fromUser) {     \n                // TODO Auto-generated method stub\n                progress =+ 70;\n                Toast.makeText(getApplicationContext(), String.valueOf(progress),Toast.LENGTH_LONG).show();\n\n            }       \n        });\n</code></pre>\n\n<p>is not working. Any idea how to fix it?</p>\n"},{"tags":["java","arraylist","hashmap"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1673184618,"post_id":75048034,"comment_id":132436615,"body_markdown":"You need to watch your [naming](https://technojeeves.com/index.php/aliasjava1/106-java-style-conventions)\nUnclear what you need: do you want a list of sales people in descending order of sales, displaying both their names and sales?","body":"You need to watch your <a href=\"https://technojeeves.com/index.php/aliasjava1/106-java-style-conventions\" rel=\"nofollow noreferrer\">naming</a> Unclear what you need: do you want a list of sales people in descending order of sales, displaying both their names and sales?"},{"owner":{"account_id":27393596,"reputation":21,"user_id":20896185,"display_name":"Jitheesh Justin"},"score":0,"creation_date":1673184872,"post_id":75048034,"comment_id":132436661,"body_markdown":"I want to print out a specific name of the person from the hashmap that enters the largest number","body":"I want to print out a specific name of the person from the hashmap that enters the largest number"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1673184918,"post_id":75048034,"comment_id":132436672,"body_markdown":"So, the person with the highest sales?","body":"So, the person with the highest sales?"},{"owner":{"account_id":27393596,"reputation":21,"user_id":20896185,"display_name":"Jitheesh Justin"},"score":0,"creation_date":1673185095,"post_id":75048034,"comment_id":132436703,"body_markdown":"Yes the person with the highest sales","body":"Yes the person with the highest sales"}],"answers":[{"tags":[],"owner":{"account_id":17137251,"reputation":19,"user_id":12401995,"display_name":"Shantanu Srivastava"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673185399,"creation_date":1673185399,"answer_id":75048221,"question_id":75048034,"body_markdown":"I suppose this is what you&#39;re trying to achieve ?\r\n\r\n    public class DumbCode {\r\n        public static void main(String[] args) {\r\n            Scanner scanner = new Scanner(System.in);\r\n            final HashMap&lt;String, Integer&gt; hashMap = new HashMap&lt;&gt;();\r\n    \r\n            System.out.println(&quot;Enter the number of employees working with you this week:&quot;);\r\n            int numberOfEmployees = scanner.nextInt();\r\n            while(numberOfEmployees&lt;2 || numberOfEmployees&gt;5) {\r\n                numberOfEmployees = scanner.nextInt();\r\n            }\r\n    \r\n            int i=0;\r\n            while(i++&lt;numberOfEmployees) {\r\n                System.out.println(&quot;Enter the name:&quot;);\r\n                final String name = scanner.next();\r\n                System.out.println(&quot;Enter the number of cars sold&quot;);\r\n                final int carsSold = scanner.nextInt();\r\n                hashMap.put(name, carsSold);\r\n            }\r\n    \r\n            hashMap.entrySet().stream()\r\n                    .sorted((o1, o2) -&gt; o1.getValue() &gt; o2.getValue() ? 1 : 0)\r\n                    .limit(1)\r\n                    .forEach(o -&gt; {\r\n                        System.out.println(o.getKey() + &quot; sold &quot;+ o.getValue()+&quot; cars.&quot;);\r\n                    });\r\n        }\r\n    }\r\nHowever I will also leave some advice for future, when asking questions, be clear in what your goal is. \r\nAlso try to write cleaner code, For example, there are so many issues when trying to read your code.\r\n\r\n 1. Variables names should not start with a capital letter unless you&#39;re declaring a constant.\r\n 2. `int Number = sc.nextInt();` does not convey the intention of the variable. `int numberOfEmployees` is much better name.\r\n 3. `for (String i: Car.keySet()) {  }` What is the use of putting this for loop if it&#39;s doing nothing ?\r\n 4. If you want to store things in a HashMap, then you can take inputs of Key and Value at the same time and put them in directly instead of using 3 loops just to fill up a HashMap.\r\n 5. Try using Functional programming over imperative programming since it&#39;s much more readable and concise.","title":"Printing out a specific value after keyset","body":"<p>I suppose this is what you're trying to achieve ?</p>\n<pre><code>public class DumbCode {\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n        final HashMap&lt;String, Integer&gt; hashMap = new HashMap&lt;&gt;();\n\n        System.out.println(&quot;Enter the number of employees working with you this week:&quot;);\n        int numberOfEmployees = scanner.nextInt();\n        while(numberOfEmployees&lt;2 || numberOfEmployees&gt;5) {\n            numberOfEmployees = scanner.nextInt();\n        }\n\n        int i=0;\n        while(i++&lt;numberOfEmployees) {\n            System.out.println(&quot;Enter the name:&quot;);\n            final String name = scanner.next();\n            System.out.println(&quot;Enter the number of cars sold&quot;);\n            final int carsSold = scanner.nextInt();\n            hashMap.put(name, carsSold);\n        }\n\n        hashMap.entrySet().stream()\n                .sorted((o1, o2) -&gt; o1.getValue() &gt; o2.getValue() ? 1 : 0)\n                .limit(1)\n                .forEach(o -&gt; {\n                    System.out.println(o.getKey() + &quot; sold &quot;+ o.getValue()+&quot; cars.&quot;);\n                });\n    }\n}\n</code></pre>\n<p>However I will also leave some advice for future, when asking questions, be clear in what your goal is.\nAlso try to write cleaner code, For example, there are so many issues when trying to read your code.</p>\n<ol>\n<li>Variables names should not start with a capital letter unless you're declaring a constant.</li>\n<li><code>int Number = sc.nextInt();</code> does not convey the intention of the variable. <code>int numberOfEmployees</code> is much better name.</li>\n<li><code>for (String i: Car.keySet()) {  }</code> What is the use of putting this for loop if it's doing nothing ?</li>\n<li>If you want to store things in a HashMap, then you can take inputs of Key and Value at the same time and put them in directly instead of using 3 loops just to fill up a HashMap.</li>\n<li>Try using Functional programming over imperative programming since it's much more readable and concise.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":18203305,"reputation":45,"user_id":13247077,"display_name":"Qasim Malik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673185794,"creation_date":1673185794,"answer_id":75048261,"question_id":75048034,"body_markdown":"What I understood from your question is that you want to display the Name of the Employee who sold the most cars at the end of the program. If that&#39;s the case see the code below, I have replaced some of your code to get the job done, see comments in the code to find what part of the code is replaced: \r\n\r\n    public static void main(String[] args) {\r\n    HashMap&lt;String, Integer&gt;Car = new HashMap();\r\n    Scanner sc = new Scanner(System.in);\r\n    System.out.println(&quot;Enter the number of employees worked with you this week&quot;);\r\n    int Number = sc.nextInt();\r\n    while (Number &lt; 2 || Number &gt; 5) {\r\n        System.out.println(&quot;Enter a number between 2 and 5&quot;);\r\n        Number = sc.nextInt();\r\n    }\r\n    System.out.println(&quot;Enter their names&quot;);\r\n    String [] Name = new String [Number];\r\n    sc.nextLine();\r\n    for (int i=0; i&lt;Number; i++) {\r\n        int a = i+1;\r\n        System.out.println(&quot;Enter name of employee &quot; + a);\r\n        Name[i] = sc.nextLine();\r\n    }\r\n    int[] Cars = new int[Number];\r\n    for (int i=0; i&lt;Number; i++) {\r\n        String b = Name[i];\r\n        System.out.println(&quot;Enter the number of cars sold by the employee &quot; + b);\r\n        Cars[i] = sc.nextInt();\r\n        Car.put(Name[i], Cars[i]);\r\n    }\r\n    for (String i: Car.keySet()) {\r\n        \r\n    }\r\n    ArrayList&lt;Integer&gt;CarOnly = new ArrayList&lt;&gt;(Car.values());\r\n    Collections.sort(CarOnly, Collections.reverseOrder());\r\n\r\n\r\n    // i have replaced the code that is using nested loops with the code below\r\n    int maxCars = 0;\r\n    String maxEmployee = &quot;&quot;;\r\n    for (String name : Car.keySet()) {\r\n        int numCars = Car.get(name);\r\n        if (numCars &gt; maxCars) {\r\n            maxCars = numCars;\r\n            maxEmployee = name;\r\n        }\r\n    }\r\n    System.out.println(&quot;The employee who sold the most cars is &quot; + maxEmployee + &quot; with &quot; + maxCars + &quot; cars sold.&quot;);\r\n   \r\n}\r\n\r\nHope it Helps and please do consider reading this [How do I ask a good question? ][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/help/how-to-ask","title":"Printing out a specific value after keyset","body":"<p>What I understood from your question is that you want to display the Name of the Employee who sold the most cars at the end of the program. If that's the case see the code below, I have replaced some of your code to get the job done, see comments in the code to find what part of the code is replaced:</p>\n<pre><code>public static void main(String[] args) {\nHashMap&lt;String, Integer&gt;Car = new HashMap();\nScanner sc = new Scanner(System.in);\nSystem.out.println(&quot;Enter the number of employees worked with you this week&quot;);\nint Number = sc.nextInt();\nwhile (Number &lt; 2 || Number &gt; 5) {\n    System.out.println(&quot;Enter a number between 2 and 5&quot;);\n    Number = sc.nextInt();\n}\nSystem.out.println(&quot;Enter their names&quot;);\nString [] Name = new String [Number];\nsc.nextLine();\nfor (int i=0; i&lt;Number; i++) {\n    int a = i+1;\n    System.out.println(&quot;Enter name of employee &quot; + a);\n    Name[i] = sc.nextLine();\n}\nint[] Cars = new int[Number];\nfor (int i=0; i&lt;Number; i++) {\n    String b = Name[i];\n    System.out.println(&quot;Enter the number of cars sold by the employee &quot; + b);\n    Cars[i] = sc.nextInt();\n    Car.put(Name[i], Cars[i]);\n}\nfor (String i: Car.keySet()) {\n    \n}\nArrayList&lt;Integer&gt;CarOnly = new ArrayList&lt;&gt;(Car.values());\nCollections.sort(CarOnly, Collections.reverseOrder());\n\n\n// i have replaced the code that is using nested loops with the code below\nint maxCars = 0;\nString maxEmployee = &quot;&quot;;\nfor (String name : Car.keySet()) {\n    int numCars = Car.get(name);\n    if (numCars &gt; maxCars) {\n        maxCars = numCars;\n        maxEmployee = name;\n    }\n}\nSystem.out.println(&quot;The employee who sold the most cars is &quot; + maxEmployee + &quot; with &quot; + maxCars + &quot; cars sold.&quot;);\n</code></pre>\n<p>}</p>\n<p>Hope it Helps and please do consider reading this <a href=\"https://stackoverflow.com/help/how-to-ask\">How do I ask a good question? </a></p>\n"}],"owner":{"account_id":27393596,"reputation":21,"user_id":20896185,"display_name":"Jitheesh Justin"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1673185794,"creation_date":1673183582,"question_id":75048034,"body_markdown":"\r\n    public static void main(String[] args) {\r\n        HashMap&lt;String, Integer&gt;Car = new HashMap();\r\n        Scanner sc = new Scanner(System.in);\r\n        System.out.println(&quot;Enter the number of employees worked with you this week&quot;);\r\n        int Number = sc.nextInt();\r\n        while (Number &lt; 2 || Number &gt; 5) {\r\n            System.out.println(&quot;Enter a number between 2 and 5&quot;);\r\n            Number = sc.nextInt();\r\n        }\r\n        System.out.println(&quot;Enter their names&quot;);\r\n        String [] Name = new String [Number];\r\n        sc.nextLine();\r\n        for (int i=0; i&lt;Number; i++) {\r\n            int a = i+1;\r\n            System.out.println(&quot;Enter name of employee &quot; + a);\r\n            Name[i] = sc.nextLine();\r\n        }\r\n        int[] Cars = new int[Number];\r\n        for (int i=0; i&lt;Number; i++) {\r\n            String b = Name[i];\r\n            System.out.println(&quot;Enter the number of cars sold by the employee &quot; + b);\r\n            Cars[i] = sc.nextInt();\r\n            Car.put(Name[i], Cars[i]);\r\n        }\r\n        for (String i: Car.keySet()) {\r\n            \r\n        }\r\n        ArrayList&lt;Integer&gt;CarOnly = new ArrayList&lt;&gt;(Car.values());\r\n        Collections.sort(CarOnly, Collections.reverseOrder());\r\n        for (int i: CarOnly) {\r\n            for (String j: Car.keySet()) {\r\n                if (i == Car.get(j))\r\n                    System.out.println(j);\r\n            }\r\n        }\r\n        \r\n\r\n    }\r\n    \r\n}\r\n\r\n\r\nI made this code to display the largest value with its String, however, instead of printing out a specific value, it prints out the entire value that is in the HashMap","title":"Printing out a specific value after keyset","body":"<pre><code>public static void main(String[] args) {\n    HashMap&lt;String, Integer&gt;Car = new HashMap();\n    Scanner sc = new Scanner(System.in);\n    System.out.println(&quot;Enter the number of employees worked with you this week&quot;);\n    int Number = sc.nextInt();\n    while (Number &lt; 2 || Number &gt; 5) {\n        System.out.println(&quot;Enter a number between 2 and 5&quot;);\n        Number = sc.nextInt();\n    }\n    System.out.println(&quot;Enter their names&quot;);\n    String [] Name = new String [Number];\n    sc.nextLine();\n    for (int i=0; i&lt;Number; i++) {\n        int a = i+1;\n        System.out.println(&quot;Enter name of employee &quot; + a);\n        Name[i] = sc.nextLine();\n    }\n    int[] Cars = new int[Number];\n    for (int i=0; i&lt;Number; i++) {\n        String b = Name[i];\n        System.out.println(&quot;Enter the number of cars sold by the employee &quot; + b);\n        Cars[i] = sc.nextInt();\n        Car.put(Name[i], Cars[i]);\n    }\n    for (String i: Car.keySet()) {\n        \n    }\n    ArrayList&lt;Integer&gt;CarOnly = new ArrayList&lt;&gt;(Car.values());\n    Collections.sort(CarOnly, Collections.reverseOrder());\n    for (int i: CarOnly) {\n        for (String j: Car.keySet()) {\n            if (i == Car.get(j))\n                System.out.println(j);\n        }\n    }\n    \n\n}\n</code></pre>\n<p>}</p>\n<p>I made this code to display the largest value with its String, however, instead of printing out a specific value, it prints out the entire value that is in the HashMap</p>\n"},{"tags":["java","image","image-processing","screenshot"],"comments":[{"owner":{"account_id":7590669,"reputation":1088,"user_id":5758441,"display_name":"Ashraff Ali Wahab"},"score":1,"creation_date":1540925525,"post_id":53070245,"comment_id":93040428,"body_markdown":"Each pixel is not represented as a self contained byte in JPEG representation. It is not that simple to do just contains to find the sub image is part of super image.","body":"Each pixel is not represented as a self contained byte in JPEG representation. It is not that simple to do just contains to find the sub image is part of super image."}],"answers":[{"tags":[],"owner":{"account_id":3093821,"reputation":53931,"user_id":3182664,"accept_rate":55,"display_name":"Marco13"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1540939414,"creation_date":1540939414,"answer_id":53073917,"question_id":53070245,"body_markdown":"A brute-force approach is to simply load both images as `BufferedImage` objects, and then walk through the &quot;main&quot; image, pixel by pixel, and see if the &quot;sub image&quot; can be found there.\r\n\r\nI have implemented this a while ago, and will post the code below as a MCVE.\r\n\r\nBut **note**: When you save images as JPG files, then they are compressed, and this compression is *lossy*. This means that the pixels will not have the perfectly same colors, even if they have been equal on the screen. In the example below, this is solved pragmatically, with a &quot;threshold&quot; that defines how different the pixels may be. But this is a bit arbitrary and not so reliable. (A more robust solution would require more effort).\r\n\r\nI&#39;d **strongly** recommend to save the images as PNG files. They use a lossless compression. So for PNG files, you can set `threshold=0` in the code below.\r\n\r\n\r\n    import java.awt.Color;\r\n    import java.awt.Graphics;\r\n    import java.awt.Point;\r\n    import java.awt.image.BufferedImage;\r\n    import java.net.URL;\r\n    import java.util.function.IntBinaryOperator;\r\n    \r\n    import javax.imageio.ImageIO;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.SwingUtilities;\r\n    \r\n    public class FindImageInImage\r\n    {\r\n        public static void main(String[] args) throws Exception\r\n        {\r\n            BufferedImage mainImage = \r\n                ImageIO.read(new URL(&quot;https://i.stack.imgur.com/rEouF.jpg&quot;));\r\n            BufferedImage subImage = \r\n                ImageIO.read(new URL(&quot;https://i.stack.imgur.com/wISyn.jpg&quot;));\r\n            \r\n            int threshold = 100;\r\n            Point location = findImageLocation(\r\n                mainImage, subImage, threshold);\r\n            System.out.println(&quot;At &quot; + location);\r\n            \r\n            SwingUtilities.invokeLater(() -&gt; showIt(mainImage, subImage, location));\r\n        }\r\n        \r\n        private static void showIt(\r\n            BufferedImage mainImage, BufferedImage subImage, Point location)\r\n        {\r\n            JFrame f = new JFrame();\r\n            f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            \r\n            f.getContentPane().add(new JPanel()\r\n            {\r\n                @Override\r\n                protected void paintComponent(Graphics g)\r\n                {\r\n                    super.paintComponent(g);\r\n                    g.drawImage(mainImage, 0, 0, null);\r\n                    if (location != null)\r\n                    {\r\n                        g.setColor(Color.RED);\r\n                        g.drawRect(location.x, location.y, \r\n                            subImage.getWidth(), subImage.getHeight());\r\n                    }\r\n                }\r\n            });\r\n            f.setSize(1500, 800);\r\n            f.setLocationRelativeTo(null);\r\n            f.setVisible(true);\r\n        }\r\n        \r\n        \r\n        static Point findImageLocation(\r\n            BufferedImage mainImage, \r\n            BufferedImage subImage, \r\n            int threshold)\r\n        {\r\n            return findImageLocation(mainImage, subImage, (rgb0, rgb1) -&gt; \r\n            {\r\n                int difference = computeDifference(rgb0, rgb1);\r\n                if (difference &gt; threshold)\r\n                {\r\n                    return 1;\r\n                }\r\n                return 0;\r\n            });\r\n        }\r\n        \r\n        private static int computeDifference(int rgb0, int rgb1)\r\n        {\r\n            int r0 = (rgb0 &amp; 0x00FF0000) &gt;&gt; 16;\r\n            int g0 = (rgb0 &amp; 0x0000FF00) &gt;&gt; 8;\r\n            int b0 = (rgb0 &amp; 0x000000FF);\r\n    \r\n            int r1 = (rgb1 &amp; 0x00FF0000) &gt;&gt; 16;\r\n            int g1 = (rgb1 &amp; 0x0000FF00) &gt;&gt; 8;\r\n            int b1 = (rgb1 &amp; 0x000000FF);\r\n            \r\n            int dr = Math.abs(r0 - r1);\r\n            int dg = Math.abs(g0 - g1);\r\n            int db = Math.abs(b0 - b1);\r\n            \r\n            return dr + dg + db;\r\n        }\r\n        \r\n        static Point findImageLocation(\r\n            BufferedImage mainImage, \r\n            BufferedImage subImage, \r\n            IntBinaryOperator rgbComparator)\r\n        {\r\n            int w = mainImage.getWidth();\r\n            int h = mainImage.getHeight();\r\n            for (int x=0; x &lt; w; x++)\r\n            {\r\n                for (int y = 0; y &lt; h; y++)\r\n                {\r\n                    if (isSubImageAt(mainImage, x, y, subImage, rgbComparator))\r\n                    {\r\n                        return new Point(x, y);\r\n                    }\r\n                }\r\n            }\r\n            return null;\r\n        }\r\n        \r\n        static boolean isSubImageAt(\r\n            BufferedImage mainImage, int x, int y, \r\n            BufferedImage subImage, \r\n            IntBinaryOperator rgbComparator)\r\n        {\r\n            int w = subImage.getWidth(); \r\n            int h = subImage.getHeight();\r\n            if (x + w &gt; mainImage.getWidth())\r\n            {\r\n                return false;\r\n            }\r\n            if (y + h &gt; mainImage.getHeight())\r\n            {\r\n                return false;\r\n            }\r\n            for (int ix=0; ix &lt; w; ix++)\r\n            {\r\n                for (int iy = 0; iy &lt; h; iy++)\r\n                {\r\n                    int mainRgb = mainImage.getRGB(x + ix, y + iy);\r\n                    int subRgb = subImage.getRGB(ix, iy);\r\n                    if (rgbComparator.applyAsInt(mainRgb, subRgb) != 0)\r\n                    {\r\n                        return false;\r\n                    }\r\n                }\r\n            }\r\n            return true;\r\n        }\r\n        \r\n    }\r\n","title":"How to recognize an image in another image?","body":"<p>A brute-force approach is to simply load both images as <code>BufferedImage</code> objects, and then walk through the \"main\" image, pixel by pixel, and see if the \"sub image\" can be found there.</p>\n\n<p>I have implemented this a while ago, and will post the code below as a MCVE.</p>\n\n<p>But <strong>note</strong>: When you save images as JPG files, then they are compressed, and this compression is <em>lossy</em>. This means that the pixels will not have the perfectly same colors, even if they have been equal on the screen. In the example below, this is solved pragmatically, with a \"threshold\" that defines how different the pixels may be. But this is a bit arbitrary and not so reliable. (A more robust solution would require more effort).</p>\n\n<p>I'd <strong>strongly</strong> recommend to save the images as PNG files. They use a lossless compression. So for PNG files, you can set <code>threshold=0</code> in the code below.</p>\n\n<pre><code>import java.awt.Color;\nimport java.awt.Graphics;\nimport java.awt.Point;\nimport java.awt.image.BufferedImage;\nimport java.net.URL;\nimport java.util.function.IntBinaryOperator;\n\nimport javax.imageio.ImageIO;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.SwingUtilities;\n\npublic class FindImageInImage\n{\n    public static void main(String[] args) throws Exception\n    {\n        BufferedImage mainImage = \n            ImageIO.read(new URL(\"https://i.stack.imgur.com/rEouF.jpg\"));\n        BufferedImage subImage = \n            ImageIO.read(new URL(\"https://i.stack.imgur.com/wISyn.jpg\"));\n\n        int threshold = 100;\n        Point location = findImageLocation(\n            mainImage, subImage, threshold);\n        System.out.println(\"At \" + location);\n\n        SwingUtilities.invokeLater(() -&gt; showIt(mainImage, subImage, location));\n    }\n\n    private static void showIt(\n        BufferedImage mainImage, BufferedImage subImage, Point location)\n    {\n        JFrame f = new JFrame();\n        f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n        f.getContentPane().add(new JPanel()\n        {\n            @Override\n            protected void paintComponent(Graphics g)\n            {\n                super.paintComponent(g);\n                g.drawImage(mainImage, 0, 0, null);\n                if (location != null)\n                {\n                    g.setColor(Color.RED);\n                    g.drawRect(location.x, location.y, \n                        subImage.getWidth(), subImage.getHeight());\n                }\n            }\n        });\n        f.setSize(1500, 800);\n        f.setLocationRelativeTo(null);\n        f.setVisible(true);\n    }\n\n\n    static Point findImageLocation(\n        BufferedImage mainImage, \n        BufferedImage subImage, \n        int threshold)\n    {\n        return findImageLocation(mainImage, subImage, (rgb0, rgb1) -&gt; \n        {\n            int difference = computeDifference(rgb0, rgb1);\n            if (difference &gt; threshold)\n            {\n                return 1;\n            }\n            return 0;\n        });\n    }\n\n    private static int computeDifference(int rgb0, int rgb1)\n    {\n        int r0 = (rgb0 &amp; 0x00FF0000) &gt;&gt; 16;\n        int g0 = (rgb0 &amp; 0x0000FF00) &gt;&gt; 8;\n        int b0 = (rgb0 &amp; 0x000000FF);\n\n        int r1 = (rgb1 &amp; 0x00FF0000) &gt;&gt; 16;\n        int g1 = (rgb1 &amp; 0x0000FF00) &gt;&gt; 8;\n        int b1 = (rgb1 &amp; 0x000000FF);\n\n        int dr = Math.abs(r0 - r1);\n        int dg = Math.abs(g0 - g1);\n        int db = Math.abs(b0 - b1);\n\n        return dr + dg + db;\n    }\n\n    static Point findImageLocation(\n        BufferedImage mainImage, \n        BufferedImage subImage, \n        IntBinaryOperator rgbComparator)\n    {\n        int w = mainImage.getWidth();\n        int h = mainImage.getHeight();\n        for (int x=0; x &lt; w; x++)\n        {\n            for (int y = 0; y &lt; h; y++)\n            {\n                if (isSubImageAt(mainImage, x, y, subImage, rgbComparator))\n                {\n                    return new Point(x, y);\n                }\n            }\n        }\n        return null;\n    }\n\n    static boolean isSubImageAt(\n        BufferedImage mainImage, int x, int y, \n        BufferedImage subImage, \n        IntBinaryOperator rgbComparator)\n    {\n        int w = subImage.getWidth(); \n        int h = subImage.getHeight();\n        if (x + w &gt; mainImage.getWidth())\n        {\n            return false;\n        }\n        if (y + h &gt; mainImage.getHeight())\n        {\n            return false;\n        }\n        for (int ix=0; ix &lt; w; ix++)\n        {\n            for (int iy = 0; iy &lt; h; iy++)\n            {\n                int mainRgb = mainImage.getRGB(x + ix, y + iy);\n                int subRgb = subImage.getRGB(ix, iy);\n                if (rgbComparator.applyAsInt(mainRgb, subRgb) != 0)\n                {\n                    return false;\n                }\n            }\n        }\n        return true;\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":14652329,"reputation":1,"user_id":10581985,"display_name":"J. Doe"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1539,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673185180,"creation_date":1540922341,"question_id":53070245,"body_markdown":"So I&#39;m fairly new to Java, so I&#39;m not sure that this my method of doing this is actually a good idea, but basically I am trying to check for an instance of an image inside another image. So for my testing to see if this would work, I had a 200x148 `jpg`, got the bytes from that, then got the bytes from a screenshot of the window, and got the bytes from that, and then compared them.\r\n\r\nNow, since normally the first image wouldn&#39;t be in that screenshot, I opened it in my photos app and put it in while the program was sleeping (before it took the screenshot). And yes, I can confirm that the first image was in the screenshot by looking at the screenshot. However, when I compare the strings (to check if a String with all of the byte data of image one is in a String with all of the byte data of image two), it turns out negative.\r\n\r\nHere&#39;s the code that I&#39;m trying to use so far:\r\n\r\n    public static void main(String[] args) throws IOException, HeadlessException, AWTException, InterruptedException  {\r\n    \t // Get the first image\r\n    \t ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n    \t ImageIO.write(ImageIO.read(new File(&quot;profile.jpg&quot;)), &quot;jpg&quot;, baos);\r\n    \t byte[] bytes = baos.toByteArray();\r\n    \t \r\n    \t String bytes1S = &quot;&quot;;\r\n    \t for (int i = 0; i &lt; bytes.length; i++) {\r\n    \t\t bytes1S += bytes[i];\r\n    \t }\r\n         // Give yourself enough time to open the other image\r\n    \t TimeUnit.SECONDS.sleep(6);\r\n         // Take the screenshot\r\n    \t BufferedImage image = new Robot().createScreenCapture(new Rectangle(Toolkit.getDefaultToolkit().getScreenSize()));\r\n    \t ImageIO.write(image, &quot;jpg&quot;, new File(&quot;screenshot.jpg&quot;));\r\n    \t baos = new ByteArrayOutputStream();\r\n    \t ImageIO.write(ImageIO.read(new File(&quot;screenshot.jpg&quot;)), &quot;jpg&quot;, baos);\r\n    \t byte[] bytes2 = baos.toByteArray();\r\n    \t String bytes2S = &quot;&quot;;\r\n    \t for (int i = 0; i &lt; bytes2.length; i++) {\r\n    \t\t bytes2S += bytes2[i];\r\n    \t }\r\n    \t // Check if the second String of bytes contains the first String of bytes.\r\n    \t if (bytes2S.contains(bytes1S))\r\n    \t\t System.out.println(&quot;Yes&quot;);\r\n    \t else\r\n    \t\t System.out.println(&quot;No&quot;);\r\n    \t \r\n    }\r\n\r\nAnd for reference, here&#39;s the first image, and the screenshot that it took:\r\n\r\n![First image][1]\r\n\r\n![Screenshot][2]\r\n\r\nWhat&#39;s the reason behind it not detecting the first image in the screenshot, and is there a better way to do this (preferably without another library)?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wISyn.jpg\r\n  [2]: https://i.stack.imgur.com/rEouF.jpg","title":"How to recognize an image in another image?","body":"<p>So I'm fairly new to Java, so I'm not sure that this my method of doing this is actually a good idea, but basically I am trying to check for an instance of an image inside another image. So for my testing to see if this would work, I had a 200x148 <code>jpg</code>, got the bytes from that, then got the bytes from a screenshot of the window, and got the bytes from that, and then compared them.</p>\n<p>Now, since normally the first image wouldn't be in that screenshot, I opened it in my photos app and put it in while the program was sleeping (before it took the screenshot). And yes, I can confirm that the first image was in the screenshot by looking at the screenshot. However, when I compare the strings (to check if a String with all of the byte data of image one is in a String with all of the byte data of image two), it turns out negative.</p>\n<p>Here's the code that I'm trying to use so far:</p>\n<pre><code>public static void main(String[] args) throws IOException, HeadlessException, AWTException, InterruptedException  {\n     // Get the first image\n     ByteArrayOutputStream baos = new ByteArrayOutputStream();\n     ImageIO.write(ImageIO.read(new File(&quot;profile.jpg&quot;)), &quot;jpg&quot;, baos);\n     byte[] bytes = baos.toByteArray();\n     \n     String bytes1S = &quot;&quot;;\n     for (int i = 0; i &lt; bytes.length; i++) {\n         bytes1S += bytes[i];\n     }\n     // Give yourself enough time to open the other image\n     TimeUnit.SECONDS.sleep(6);\n     // Take the screenshot\n     BufferedImage image = new Robot().createScreenCapture(new Rectangle(Toolkit.getDefaultToolkit().getScreenSize()));\n     ImageIO.write(image, &quot;jpg&quot;, new File(&quot;screenshot.jpg&quot;));\n     baos = new ByteArrayOutputStream();\n     ImageIO.write(ImageIO.read(new File(&quot;screenshot.jpg&quot;)), &quot;jpg&quot;, baos);\n     byte[] bytes2 = baos.toByteArray();\n     String bytes2S = &quot;&quot;;\n     for (int i = 0; i &lt; bytes2.length; i++) {\n         bytes2S += bytes2[i];\n     }\n     // Check if the second String of bytes contains the first String of bytes.\n     if (bytes2S.contains(bytes1S))\n         System.out.println(&quot;Yes&quot;);\n     else\n         System.out.println(&quot;No&quot;);\n     \n}\n</code></pre>\n<p>And for reference, here's the first image, and the screenshot that it took:</p>\n<p><img src=\"https://i.stack.imgur.com/wISyn.jpg\" alt=\"First image\" /></p>\n<p><img src=\"https://i.stack.imgur.com/rEouF.jpg\" alt=\"Screenshot\" /></p>\n<p>What's the reason behind it not detecting the first image in the screenshot, and is there a better way to do this (preferably without another library)?</p>\n"},{"tags":["java","itext"],"comments":[{"owner":{"account_id":67966,"reputation":12546,"user_id":2145769,"accept_rate":67,"display_name":"Leonard Br&#252;nings"},"score":0,"creation_date":1391709989,"post_id":21610545,"comment_id":32651388,"body_markdown":"What do you mean by validate in this context? Check a digital signature, or something else?","body":"What do you mean by validate in this context? Check a digital signature, or something else?"},{"owner":{"account_id":3228396,"reputation":11,"user_id":2724185,"display_name":"Ameya Bapat"},"score":0,"creation_date":1391710151,"post_id":21610545,"comment_id":32651485,"body_markdown":"@LeonardBr&#252;nings: I mean if i have existing pdf with some watermarked text [as done in 2nd link in above ref]. I want to check whether it has expected text.","body":"@LeonardBr&#252;nings: I mean if i have existing pdf with some watermarked text [as done in 2nd link in above ref]. I want to check whether it has expected text."},{"owner":{"account_id":67966,"reputation":12546,"user_id":2145769,"accept_rate":67,"display_name":"Leonard Br&#252;nings"},"score":0,"creation_date":1391710488,"post_id":21610545,"comment_id":32651668,"body_markdown":"I&#39;m no expert but you could check http://itext-general.2136553.n4.nabble.com/iText-how-to-remove-the-layer-watermark-td3576811.html for info. However, it will not be a trivial task.","body":"I&#39;m no expert but you could check <a href=\"http://itext-general.2136553.n4.nabble.com/iText-how-to-remove-the-layer-watermark-td3576811.html\" rel=\"nofollow noreferrer\">itext-general.2136553.n4.nabble.com/&hellip;</a> for info. However, it will not be a trivial task."}],"answers":[{"tags":[],"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1391726085,"creation_date":1391726085,"answer_id":21615559,"question_id":21610545,"body_markdown":"&gt; How to extract watermark content using iText apis? Or is there any other way to validate watermark content?\r\n\r\nExtracting watermark content?\r\n---\r\nThere is nothing special about watermarks in PDFs in contrast to regular page content. They merely\r\n\r\n* appear pretty early in the content stream and other content later in the stream, therefore, is drawn above it; or they\r\n\r\n* appear pretty late in the content stream but have some kind of transparency applied.\r\n\r\n*Actually there is another type of watermarks which **is** special, the so-called* Watermark Annotations. *As these annotation can easily be lost when documents are merged or otherwise manipulated, though, they hardly ever are used.*\r\n\r\nFurthermore different PDF generating software suites offering a way to add watermarks do so in their respective individual way. Thus, you cannot even recognize watermarks by some special operations done in some specific unique pattern.\r\n\r\nAlready the iText examples you referred to apply different kinds of watermarks\r\n\r\n* `MovieCountries2` simply draws some gray large Text using an angled base line.\r\n* `StampStationery` copies a complete page from some PDF (which itself may visually have foreground and background material) into a separate object inside the target PDF and adds a reference to this object at the beginning of every page of the target.\r\n* `InsertPages` similarly references a page from some PDF on every newly generated target document page.\r\n\r\nThus, blind watermark extraction is virtually impossible.\r\n\r\nValidating watermark content!\r\n---\r\nYou might try some validation, though, if you know what you are searching for. You simply do not merely search some (in PDF not existing) fixed watermark stream but instead the whole page content.\r\n\r\niText offers the classes of the `parser` package which allow extraction of text and/or bitmap images from content streams. Look at the samples referenced from the keywords [PARSING PDF &gt; EXTRACTING IMAGES][1] and [PARSING PDF &gt; EXTRACTING TEXT][2].\r\n\r\nYou merely have to check whether the image or text which you expect can be found by these classes positioned and styled as you expect.\r\n\r\n\r\n  [1]: http://itextpdf.com/themes/keyword.php?id=487\r\n  [2]: http://itextpdf.com/themes/keyword.php?id=482","title":"how to extract PDF watermark content using iText apis","body":"<blockquote>\n  <p>How to extract watermark content using iText apis? Or is there any other way to validate watermark content?</p>\n</blockquote>\n\n<h2>Extracting watermark content?</h2>\n\n<p>There is nothing special about watermarks in PDFs in contrast to regular page content. They merely</p>\n\n<ul>\n<li><p>appear pretty early in the content stream and other content later in the stream, therefore, is drawn above it; or they</p></li>\n<li><p>appear pretty late in the content stream but have some kind of transparency applied.</p></li>\n</ul>\n\n<p><em>Actually there is another type of watermarks which <strong>is</strong> special, the so-called</em> Watermark Annotations. <em>As these annotation can easily be lost when documents are merged or otherwise manipulated, though, they hardly ever are used.</em></p>\n\n<p>Furthermore different PDF generating software suites offering a way to add watermarks do so in their respective individual way. Thus, you cannot even recognize watermarks by some special operations done in some specific unique pattern.</p>\n\n<p>Already the iText examples you referred to apply different kinds of watermarks</p>\n\n<ul>\n<li><code>MovieCountries2</code> simply draws some gray large Text using an angled base line.</li>\n<li><code>StampStationery</code> copies a complete page from some PDF (which itself may visually have foreground and background material) into a separate object inside the target PDF and adds a reference to this object at the beginning of every page of the target.</li>\n<li><code>InsertPages</code> similarly references a page from some PDF on every newly generated target document page.</li>\n</ul>\n\n<p>Thus, blind watermark extraction is virtually impossible.</p>\n\n<h2>Validating watermark content!</h2>\n\n<p>You might try some validation, though, if you know what you are searching for. You simply do not merely search some (in PDF not existing) fixed watermark stream but instead the whole page content.</p>\n\n<p>iText offers the classes of the <code>parser</code> package which allow extraction of text and/or bitmap images from content streams. Look at the samples referenced from the keywords <a href=\"http://itextpdf.com/themes/keyword.php?id=487\" rel=\"nofollow\">PARSING PDF > EXTRACTING IMAGES</a> and <a href=\"http://itextpdf.com/themes/keyword.php?id=482\" rel=\"nofollow\">PARSING PDF > EXTRACTING TEXT</a>.</p>\n\n<p>You merely have to check whether the image or text which you expect can be found by these classes positioned and styled as you expect.</p>\n"}],"owner":{"account_id":3228396,"reputation":11,"user_id":2724185,"display_name":"Ameya Bapat"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2724,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1673183445,"creation_date":1391709677,"question_id":21610545,"body_markdown":"I was going through the itext api docs &amp; I was able create a pdf with a watermark image or text but did not find a method to get/extract watermark content from pdf.\r\n\r\nSo I have a pdf document containing watermarked text/image &amp; I want to extract that text or img and validate which I am not able to do.\r\n\r\nHow to extract watermark content using iText apis?  Or is there any other way to validate watermark content?\r\n\r\nBy validate I mean if I have an existing pdf/image with some watermarked text [as done in 2nd link in above ref], I want to check whether it has expected text/image.\r\n\r\nReferences:\r\n\r\n - http://itextpdf.com/themes/keyword.php?id=226\r\n - http://www.java-connect.com/itext/add-watermark-in-PDF-document-using-java-iText-library.html\r\n\r\n","title":"how to extract PDF watermark content using iText apis","body":"<p>I was going through the itext api docs &amp; I was able create a pdf with a watermark image or text but did not find a method to get/extract watermark content from pdf.</p>\n\n<p>So I have a pdf document containing watermarked text/image &amp; I want to extract that text or img and validate which I am not able to do.</p>\n\n<p>How to extract watermark content using iText apis?  Or is there any other way to validate watermark content?</p>\n\n<p>By validate I mean if I have an existing pdf/image with some watermarked text [as done in 2nd link in above ref], I want to check whether it has expected text/image.</p>\n\n<p>References:</p>\n\n<ul>\n<li><a href=\"http://itextpdf.com/themes/keyword.php?id=226\" rel=\"nofollow\">http://itextpdf.com/themes/keyword.php?id=226</a></li>\n<li><a href=\"http://www.java-connect.com/itext/add-watermark-in-PDF-document-using-java-iText-library.html\" rel=\"nofollow\">http://www.java-connect.com/itext/add-watermark-in-PDF-document-using-java-iText-library.html</a></li>\n</ul>\n"},{"tags":["java","api","jakarta-ee","basic-authentication","bearer-token"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1673201887,"post_id":75048000,"comment_id":132440308,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":2717250,"reputation":1,"user_id":2344347,"display_name":"Mishal"},"score":0,"creation_date":1673256047,"post_id":75048000,"comment_id":132448988,"body_markdown":"I dont have the code the vendor requested 10 days working days, does this worth that time or this is only small configuration?","body":"I dont have the code the vendor requested 10 days working days, does this worth that time or this is only small configuration?"}],"owner":{"account_id":2717250,"reputation":1,"user_id":2344347,"display_name":"Mishal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673183302,"creation_date":1673183302,"question_id":75048000,"body_markdown":"I am new to Java Jakarta development, please could someone tell me how to convert authentication type in existing Java Jakarta-ee API from basic-auth to bearer-token, does it need a lot of effort? \r\n\r\nI searched in internet, it seems it uses specific libraries.","title":"Java Jakarta API from basic to bearer","body":"<p>I am new to Java Jakarta development, please could someone tell me how to convert authentication type in existing Java Jakarta-ee API from basic-auth to bearer-token, does it need a lot of effort?</p>\n<p>I searched in internet, it seems it uses specific libraries.</p>\n"},{"tags":["java","validation","enums","annotations","java-ee-6"],"owner":{"account_id":17137251,"reputation":19,"user_id":12401995,"display_name":"Shantanu Srivastava"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673182524,"creation_date":1673182524,"question_id":75047923,"body_markdown":"I am currently working with Java EE and I have a requirement to validate a field using a custom annotation and if it&#39;s valid, do nothing, but if it&#39;s not, then return a response. Let me explain it in a bit more detail below.\r\n\r\nFirstly I have this Enum called Weekday.\r\n\r\n```\r\npublic enum Weekday {\r\n    Monday(&quot;monday&quot;),\r\n    Tuesday(&quot;tuesday&quot;),\r\n    Wednesday(&quot;wednesday&quot;),\r\n    Thursday(&quot;thursday&quot;),\r\n    Friday(&quot;Friday),\r\n    Saturday(&quot;saturday&quot;),\r\n    Sunday(&quot;sunday&quot;);\r\n\r\n    private final String value;\r\n    Weekday(String value) { \r\n        this.value = value \r\n    }\r\n}\r\n```\r\n\r\nThen I have this request that accepts a weekday. Now I want to check if the weekday value is either Monday or Tuesday, if it&#39;s not then I want to respond with the HTTP error code 400 Bad request instead of proceeding with processing the request.\r\n\r\n```\r\n\r\n@Path(&quot;/dosomething&quot;)\r\n@GET\r\npublic Response doSomething(@QueryParam(&quot;weekday&quot;) Weekday weekday) {\r\n    return Response.ok().build();\r\n}\r\n\r\n```\r\n\r\nI want to create a @ValidateWeekday annotation for the field which will validate it and send an Error 400 response.\r\n\r\nMy first approach involved using if-else then a switch case, but that is not clean looking. I want to do it using a custom annotation.\r\n\r\n```\r\n\r\nif (weekday =! Weekday.Monday &amp;&amp; weekday != Weekday.Tuesday) {\r\n    return Response.status(400).build();\r\n}\r\n\r\n```\r\n\r\nThis is a bad practice and I want to avoid this.\r\n\r\nWhat I want is something like this.\r\n```\r\n\r\n@Path(&quot;/dosomething&quot;)\r\n@GET\r\npublic Response doSomething(@QueryParam(&quot;weekday&quot;) @ValidateWeekday Weekday weekday) {\r\n    return Response.ok().build();\r\n}\r\n\r\n```\r\n\r\nSo, how do I go about doing this by making my own @ValidateWeekday annotaion ?\r\n\r\n**In Spring we can simply use @ControllerAdvice and @ExceptionHandler annotations, but I&#39;m not using Spring so I have to build my own annotations that can achieve this.**","title":"Performing validation using a custom annotation and returning a Response with HTTP error code","body":"<p>I am currently working with Java EE and I have a requirement to validate a field using a custom annotation and if it's valid, do nothing, but if it's not, then return a response. Let me explain it in a bit more detail below.</p>\n<p>Firstly I have this Enum called Weekday.</p>\n<pre><code>public enum Weekday {\n    Monday(&quot;monday&quot;),\n    Tuesday(&quot;tuesday&quot;),\n    Wednesday(&quot;wednesday&quot;),\n    Thursday(&quot;thursday&quot;),\n    Friday(&quot;Friday),\n    Saturday(&quot;saturday&quot;),\n    Sunday(&quot;sunday&quot;);\n\n    private final String value;\n    Weekday(String value) { \n        this.value = value \n    }\n}\n</code></pre>\n<p>Then I have this request that accepts a weekday. Now I want to check if the weekday value is either Monday or Tuesday, if it's not then I want to respond with the HTTP error code 400 Bad request instead of proceeding with processing the request.</p>\n<pre><code>\n@Path(&quot;/dosomething&quot;)\n@GET\npublic Response doSomething(@QueryParam(&quot;weekday&quot;) Weekday weekday) {\n    return Response.ok().build();\n}\n\n</code></pre>\n<p>I want to create a @ValidateWeekday annotation for the field which will validate it and send an Error 400 response.</p>\n<p>My first approach involved using if-else then a switch case, but that is not clean looking. I want to do it using a custom annotation.</p>\n<pre><code>\nif (weekday =! Weekday.Monday &amp;&amp; weekday != Weekday.Tuesday) {\n    return Response.status(400).build();\n}\n\n</code></pre>\n<p>This is a bad practice and I want to avoid this.</p>\n<p>What I want is something like this.</p>\n<pre><code>\n@Path(&quot;/dosomething&quot;)\n@GET\npublic Response doSomething(@QueryParam(&quot;weekday&quot;) @ValidateWeekday Weekday weekday) {\n    return Response.ok().build();\n}\n\n</code></pre>\n<p>So, how do I go about doing this by making my own @ValidateWeekday annotaion ?</p>\n<p><strong>In Spring we can simply use @ControllerAdvice and @ExceptionHandler annotations, but I'm not using Spring so I have to build my own annotations that can achieve this.</strong></p>\n"},{"tags":["java","spring","spring-boot","kotlin","caching"],"comments":[{"owner":{"account_id":1675086,"reputation":33855,"user_id":1540818,"accept_rate":82,"display_name":"Joffrey"},"score":0,"creation_date":1673181630,"post_id":75047444,"comment_id":132436136,"body_markdown":"Maybe you could consider ETags or similar mechanisms","body":"Maybe you could consider ETags or similar mechanisms"}],"answers":[{"tags":[],"owner":{"account_id":12302157,"reputation":1,"user_id":8976213,"display_name":"M. Alkhairi Mashuri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673182284,"creation_date":1673182284,"answer_id":75047895,"question_id":75047444,"body_markdown":"Where do you will store the cache? Some of them, like Redis, you can set the expiry of the cached data. So it will refresh the data for every time that you have set.\r\n\r\nOr you can store something like &#39;version&#39; in the database, and also add to cache. So everytime you add new customer, you also update the version. Then it can be used to compare the version in db and cache are same or not, if not then get new list to database and re-add to cache. But this way need to call db every time you hit the GET /customers.","title":"How to cache data if there is no unique identifier?","body":"<p>Where do you will store the cache? Some of them, like Redis, you can set the expiry of the cached data. So it will refresh the data for every time that you have set.</p>\n<p>Or you can store something like 'version' in the database, and also add to cache. So everytime you add new customer, you also update the version. Then it can be used to compare the version in db and cache are same or not, if not then get new list to database and re-add to cache. But this way need to call db every time you hit the GET /customers.</p>\n"}],"owner":{"account_id":17217428,"reputation":53,"user_id":13959870,"display_name":"fckNewbee"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673182284,"creation_date":1673178067,"question_id":75047444,"body_markdown":"I have a spring-boot application. I have a method that gives away some content. Let&#39;s say bank customers. Let&#39;s say that bank customers are not added to the database very often. How can I **cache** this method so that the method follows a new list to the database only **when a new customer is added there**?\r\n\r\nSounds trivial enough, but I can&#39;t think of a mechanism.\r\nThat is, we have a method of say\r\n\r\n    GET /customers\r\n\r\nThe cache is tuned to the unique parameters in the request. Since this method has no unique parameters, the data will always be returned from the cache, even if the list of clients is added one extra.\r\n\r\n\r\nFor example, you can think of some method with a **boolean response**. It would return true when the list is updated. But this looks like a nasty solution. And it also means that **instead of one request you have to do two at once**. And if you also have authorization, authentication - that&#39;s three requests. That sounds bad.\r\n\r\nCan you give me a hint?","title":"How to cache data if there is no unique identifier?","body":"<p>I have a spring-boot application. I have a method that gives away some content. Let's say bank customers. Let's say that bank customers are not added to the database very often. How can I <strong>cache</strong> this method so that the method follows a new list to the database only <strong>when a new customer is added there</strong>?</p>\n<p>Sounds trivial enough, but I can't think of a mechanism.\nThat is, we have a method of say</p>\n<pre><code>GET /customers\n</code></pre>\n<p>The cache is tuned to the unique parameters in the request. Since this method has no unique parameters, the data will always be returned from the cache, even if the list of clients is added one extra.</p>\n<p>For example, you can think of some method with a <strong>boolean response</strong>. It would return true when the list is updated. But this looks like a nasty solution. And it also means that <strong>instead of one request you have to do two at once</strong>. And if you also have authorization, authentication - that's three requests. That sounds bad.</p>\n<p>Can you give me a hint?</p>\n"},{"tags":["java","spring","rest","spring-security"],"comments":[{"owner":{"account_id":3789939,"reputation":1421,"user_id":3146801,"display_name":"&#193;kos Ratku"},"score":2,"creation_date":1457168255,"post_id":35811582,"comment_id":59292485,"body_markdown":"What challanges are you facing? Spring SEC is great for securing REST API-s.","body":"What challanges are you facing? Spring SEC is great for securing REST API-s."}],"answers":[{"tags":[],"owner":{"account_id":166382,"reputation":2080,"user_id":390462,"display_name":"BendaThierry.com"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673180929,"creation_date":1457173856,"answer_id":35812985,"question_id":35811582,"body_markdown":"I can involve to look deeply inside the spring security docs and inside the blog (and certainly the book too) of Eugen Parashiv you will find in [http://www.baeldung.com][1]\r\n\r\n[Search on Baeldung website for Spring Security, REST API][2]\r\n\r\nI can tell Spring Security is a great tool to secure many applications, and not only web ones! SWT or SWING ones too, because of endpoints secured techniques :)\r\n\r\n\r\n  [1]: http://www.baeldung.com\r\n  [2]: https://www.baeldung.com/?s=Spring+Security%2C+REST+API","title":"spring security for REST API","body":"<p>I can involve to look deeply inside the spring security docs and inside the blog (and certainly the book too) of Eugen Parashiv you will find in <a href=\"http://www.baeldung.com\" rel=\"nofollow noreferrer\">http://www.baeldung.com</a></p>\n<p><a href=\"https://www.baeldung.com/?s=Spring+Security%2C+REST+API\" rel=\"nofollow noreferrer\">Search on Baeldung website for Spring Security, REST API</a></p>\n<p>I can tell Spring Security is a great tool to secure many applications, and not only web ones! SWT or SWING ones too, because of endpoints secured techniques :)</p>\n"},{"tags":[],"owner":{"account_id":1077174,"reputation":8775,"user_id":1075051,"accept_rate":75,"display_name":"Sanjay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1457231633,"creation_date":1457231633,"answer_id":35822424,"question_id":35811582,"body_markdown":"How about using the built-in _remember-me_ feature? Just mimicking the browsers, first time when a user signs in, have the remember-me flag set and preserve the returned remember-me cookie. Next time onward, send the cookie along with the requests.","title":"spring security for REST API","body":"<p>How about using the built-in <em>remember-me</em> feature? Just mimicking the browsers, first time when a user signs in, have the remember-me flag set and preserve the returned remember-me cookie. Next time onward, send the cookie along with the requests.</p>\n"}],"owner":{"account_id":1876439,"reputation":1065,"user_id":1697572,"accept_rate":44,"display_name":"Shahnaz Khan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":362,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":35812985,"answer_count":2,"score":0,"last_activity_date":1673180929,"creation_date":1457164308,"question_id":35811582,"body_markdown":"I don&#39;t know whether it is already under development or not as spring project, but i strongly that there should be separate spring security for REST API. Right now we use and customize spring security to address REST API requirement but basically it is addressed to web mvc. Personally i face lots of challenge to handle REST API security requirement and i believe other developers also. If spring can provide such standard security framework for REST API, will be great. Comments please!!!   ","title":"spring security for REST API","body":"<p>I don't know whether it is already under development or not as spring project, but i strongly that there should be separate spring security for REST API. Right now we use and customize spring security to address REST API requirement but basically it is addressed to web mvc. Personally i face lots of challenge to handle REST API security requirement and i believe other developers also. If spring can provide such standard security framework for REST API, will be great. Comments please!!!   </p>\n"},{"tags":["java","mysql","jdbc"],"answers":[{"tags":[],"owner":{"account_id":2818342,"reputation":299848,"user_id":2422776,"display_name":"Mureinik"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1673179758,"creation_date":1673168824,"answer_id":75046592,"question_id":75046553,"body_markdown":"You can use [`ResultSet#getInt(int)`](https://docs.oracle.com/en/java/javase/19/docs/api/java.sql/java/sql/ResultSet.html#getInt(int)) to return the integer value of a queried column by its ordinal place (i.e., first column is 1, second column is 2, etc):\r\n\r\n```\r\ntry (Connection con = /* connect to the database */;\r\n     Statement s = conn.createStatement();\r\n     ResultSet rs = s.executeQuery(&quot;select count(*) from employeedetails&quot;) {\r\n\r\n     // This query returns at most only one row\r\n     if (rs.next()) {\r\n         int numEmployees = rs.getInt(1);\r\n         // Do something with numEmployees\r\n     }\r\n}\r\n```","title":"How to find count(*) using JDBC in MySQL?","body":"<p>You can use <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.sql/java/sql/ResultSet.html#getInt(int)\" rel=\"nofollow noreferrer\"><code>ResultSet#getInt(int)</code></a> to return the integer value of a queried column by its ordinal place (i.e., first column is 1, second column is 2, etc):</p>\n<pre><code>try (Connection con = /* connect to the database */;\n     Statement s = conn.createStatement();\n     ResultSet rs = s.executeQuery(&quot;select count(*) from employeedetails&quot;) {\n\n     // This query returns at most only one row\n     if (rs.next()) {\n         int numEmployees = rs.getInt(1);\n         // Do something with numEmployees\n     }\n}\n</code></pre>\n"}],"owner":{"account_id":18524725,"reputation":31,"user_id":13496869,"display_name":"lord foul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1673179496,"accepted_answer_id":75046592,"answer_count":1,"score":-1,"last_activity_date":1673179758,"creation_date":1673168441,"question_id":75046553,"body_markdown":"I want to find the count of the occurence of a name in a mysql table using the query:\r\n\r\n``` select count(*) from employeedetails``` \r\n\r\nHow do I fetch the result to a java integer variable?","title":"How to find count(*) using JDBC in MySQL?","body":"<p>I want to find the count of the occurence of a name in a mysql table using the query:</p>\n<p><code> select count(*) from employeedetails</code></p>\n<p>How do I fetch the result to a java integer variable?</p>\n"},{"tags":["java","sqlite","jdbc","resultset"],"comments":[{"owner":{"account_id":200733,"reputation":4871,"user_id":446747,"accept_rate":75,"display_name":"josh.trow"},"score":0,"creation_date":1303839357,"post_id":5794186,"comment_id":6643224,"body_markdown":"Are you sure you get the correct result from a query such as `SELECT COUNT(*) FROM Signal WHERE SignalID = &#39;12345&#39;`, when you pull the `COUNT(*)` value itself?","body":"Are you sure you get the correct result from a query such as <code>SELECT COUNT(*) FROM Signal WHERE SignalID = &#39;12345&#39;</code>, when you pull the <code>COUNT(*)</code> value itself?"},{"owner":{"account_id":327869,"reputation":74762,"user_id":650492,"accept_rate":77,"display_name":"Johan"},"score":0,"creation_date":1303839535,"post_id":5794186,"comment_id":6643263,"body_markdown":"@kunal, thanks for editing, but next time please take the time to clean up the code as well so it does not run off the screen.......","body":"@kunal, thanks for editing, but next time please take the time to clean up the code as well so it does not run off the screen......."},{"owner":{"account_id":215055,"reputation":9713,"user_id":469414,"accept_rate":75,"display_name":"kdabir"},"score":1,"creation_date":1303839590,"post_id":5794186,"comment_id":6643275,"body_markdown":"your question is tagged `mysql` but driver looks like sqlite  `org.sqlite.RS.findColumn`. can you check your driver once.","body":"your question is tagged <code>mysql</code> but driver looks like sqlite  <code>org.sqlite.RS.findColumn</code>. can you check your driver once."},{"owner":{"account_id":43373,"reputation":224943,"user_id":126769,"accept_rate":94,"display_name":"nos"},"score":0,"creation_date":1303839749,"post_id":5794186,"comment_id":6643318,"body_markdown":"Don&#39;t include a trailing `;` in your queries when you query through JDBC","body":"Don&#39;t include a trailing <code>;</code> in your queries when you query through JDBC"},{"owner":{"account_id":790079,"reputation":31,"user_id":725848,"display_name":"Ruth"},"score":0,"creation_date":1303839863,"post_id":5794186,"comment_id":6643349,"body_markdown":"Yes, I am getting the correct result but for some reason it can not assign it to a variable.","body":"Yes, I am getting the correct result but for some reason it can not assign it to a variable."},{"owner":{"account_id":369568,"reputation":6016,"user_id":717027,"accept_rate":75,"display_name":"Liv"},"score":2,"creation_date":1303840455,"post_id":5794186,"comment_id":6643490,"body_markdown":"getInt(0) won&#39;t work @Srinivas -- the column numbering starts at 1.","body":"getInt(0) won&#39;t work @Srinivas -- the column numbering starts at 1."}],"answers":[{"tags":[],"owner":{"account_id":369568,"reputation":6016,"user_id":717027,"accept_rate":75,"display_name":"Liv"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1303850600,"creation_date":1303839354,"answer_id":5794215,"question_id":5794186,"body_markdown":"Simply use `rp1.getInt(1)` -- this returns the first column from the resultset as an int -- which is what you want.\r\n\r\nIf you have more values use `rp1.getInt(2)` to get the second value etc...","title":"Assigning SELECT COUNT(*) Query Result to a Java Variable","body":"<p>Simply use <code>rp1.getInt(1)</code> -- this returns the first column from the resultset as an int -- which is what you want.</p>\n\n<p>If you have more values use <code>rp1.getInt(2)</code> to get the second value etc...</p>\n"},{"tags":[],"owner":{"account_id":206199,"reputation":604,"user_id":455339,"display_name":"Sitnik"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1304376255,"creation_date":1303840893,"answer_id":5794481,"question_id":5794186,"body_markdown":"The second example has an error: \r\n\r\n    rp1 = stat.executeQuery(&quot;SELECT Signal AS Sig1 \r\n      FROM Observations WHERE SignalId = 1;&quot;);\r\n    ...\r\n       rowCount1 = rp1.getInt(&quot;rowcount1&quot;)\r\n\r\nwill always fail because you have no `rowcount1` column in your query.\r\n","title":"Assigning SELECT COUNT(*) Query Result to a Java Variable","body":"<p>The second example has an error: </p>\n\n<pre><code>rp1 = stat.executeQuery(\"SELECT Signal AS Sig1 \n  FROM Observations WHERE SignalId = 1;\");\n...\n   rowCount1 = rp1.getInt(\"rowcount1\")\n</code></pre>\n\n<p>will always fail because you have no <code>rowcount1</code> column in your query.</p>\n"}],"owner":{"account_id":790079,"reputation":31,"user_id":725848,"display_name":"Ruth"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30872,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1673179638,"creation_date":1303839205,"question_id":5794186,"body_markdown":"I have been having problems assigning the result of a `SELECT COUNT(*)` query to a Java variable. I am assigning the result of the query to a ResultSet.  Then, I am trying to retrieve the value of the count and assigning it to a variable.  I am getting an error when trying to do this.\r\n\r\nHere is my code:\r\n\r\n    \r\n    ResultSet rc1 = null;\r\n    int rowCount1;\r\n    Statement stat = conn.createStatement();\r\n    \r\n    rc1 = stat.executeQuery(&quot;SELECT COUNT(*) AS rowcount1 \r\n       FROM Signal WHERE SignalId = 1;&quot;);\r\n    \r\n    if (rc1.next())\r\n            rowCount1 = rc1.getInt(&quot;rowcount1&quot;);\r\n\r\nThen I get the following error:\r\n\r\n&gt;java.sql.SQLException: no such column: &#39;rowcount1&#39;  \r\n&gt;at org.sqlite.RS.findColumn(RS.java:116)  \r\n&gt;at org.sqlite.RS.getInt(RS.java:219)\r\n\r\nApparently, the problem is when trying to assign what goes after AS to a variable.  I can&#39;t find a lot of information on queries containing AS.  I get the same error with queries where I am not counting.  For example if I have the following code:\r\n\r\n    ResultSet rp1 = null;\r\n    int rowCount1 = 0;\r\n    Statement stat = conn.createStatement();\r\n         \r\n    rp1 = stat.executeQuery(&quot;SELECT Signal AS Sig1 \r\n      FROM Observations WHERE SignalId = 1;&quot;);\r\n    \r\n    if (rp1.next())\r\n           rowCount1 = rp1.getInt(&quot;rowcount1&quot;);\r\n\r\nI get the same error with the previous code (no such column: rowCount1). What I am doing wrong?  I am making sure the table I am reading contains the correct values so the query has to be true.\r\n","title":"Assigning SELECT COUNT(*) Query Result to a Java Variable","body":"<p>I have been having problems assigning the result of a <code>SELECT COUNT(*)</code> query to a Java variable. I am assigning the result of the query to a ResultSet.  Then, I am trying to retrieve the value of the count and assigning it to a variable.  I am getting an error when trying to do this.</p>\n\n<p>Here is my code:</p>\n\n<pre><code>ResultSet rc1 = null;\nint rowCount1;\nStatement stat = conn.createStatement();\n\nrc1 = stat.executeQuery(\"SELECT COUNT(*) AS rowcount1 \n   FROM Signal WHERE SignalId = 1;\");\n\nif (rc1.next())\n        rowCount1 = rc1.getInt(\"rowcount1\");\n</code></pre>\n\n<p>Then I get the following error:</p>\n\n<blockquote>\n  <p>java.sql.SQLException: no such column: 'rowcount1'<br>\n  at org.sqlite.RS.findColumn(RS.java:116)<br>\n  at org.sqlite.RS.getInt(RS.java:219)</p>\n</blockquote>\n\n<p>Apparently, the problem is when trying to assign what goes after AS to a variable.  I can't find a lot of information on queries containing AS.  I get the same error with queries where I am not counting.  For example if I have the following code:</p>\n\n<pre><code>ResultSet rp1 = null;\nint rowCount1 = 0;\nStatement stat = conn.createStatement();\n\nrp1 = stat.executeQuery(\"SELECT Signal AS Sig1 \n  FROM Observations WHERE SignalId = 1;\");\n\nif (rp1.next())\n       rowCount1 = rp1.getInt(\"rowcount1\");\n</code></pre>\n\n<p>I get the same error with the previous code (no such column: rowCount1). What I am doing wrong?  I am making sure the table I am reading contains the correct values so the query has to be true.</p>\n"},{"tags":["java","mysql","sql","jdbc"],"comments":[{"owner":{"account_id":1544012,"reputation":1776,"user_id":1437988,"display_name":"Nikolay Dimitrov"},"score":0,"creation_date":1398789124,"post_id":23370243,"comment_id":35797262,"body_markdown":"Check this answer http://stackoverflow.com/questions/192078/how-do-i-get-the-size-of-a-java-sql-resultset","body":"Check this answer <a href=\"http://stackoverflow.com/questions/192078/how-do-i-get-the-size-of-a-java-sql-resultset\" title=\"how do i get the size of a java sql resultset\">stackoverflow.com/questions/192078/&hellip;</a>"},{"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"score":1,"creation_date":1398789303,"post_id":23370243,"comment_id":35797366,"body_markdown":"@gubble in this case, applying the result in that answer would give 1, while OP needs to execute a `COUNT` function on database.","body":"@gubble in this case, applying the result in that answer would give 1, while OP needs to execute a <code>COUNT</code> function on database."},{"owner":{"account_id":4139856,"reputation":8722,"user_id":3395512,"accept_rate":79,"display_name":"Solace"},"score":0,"creation_date":1398790003,"post_id":23370243,"comment_id":35797822,"body_markdown":"My question is different from that question. They want to get the size of the result set. I directly want to execute a query to get the row count! @gubble","body":"My question is different from that question. They want to get the size of the result set. I directly want to execute a query to get the row count! @gubble"},{"owner":{"account_id":4139856,"reputation":8722,"user_id":3395512,"accept_rate":79,"display_name":"Solace"},"score":0,"creation_date":1398790043,"post_id":23370243,"comment_id":35797851,"body_markdown":"@a_horse_with_no_name Right! An example typed in haste, I am going to correct that.","body":"@a_horse_with_no_name Right! An example typed in haste, I am going to correct that."}],"answers":[{"tags":[],"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1597449301,"creation_date":1398788937,"answer_id":23370254,"question_id":23370243,"body_markdown":"Give a name to the column:\r\n\r\n    ResultSet rs= stmt.executeQuery(&quot;select count(name) AS count_name from db.persons where school =&#39;&quot;+sch+&quot;&#39;&quot;);\r\n    if (rs.next()) {\r\n        int count= rs.getInt(&quot;count_name&quot;);\r\n    }\r\n\r\nYou could also pass the number of the index of the column (in case you don&#39;t want to modify your query) which is 1 based. Check [`ResultSet#getInt(int columnIndex)`](http://docs.oracle.com/javase/7/docs/api/java/sql/ResultSet.html#getInt(int)):\r\n\r\n    ResultSet rs= stmt.executeQuery(&quot;select count(name) from db.persons where school =&#39;&quot;+sch+&quot;&#39;&quot;);\r\n    if (rs.next()) {\r\n        int count= rs.getInt(1);\r\n    }\r\n\r\n----\r\n\r\nApart from this, it would be better if you use a [`PreparedStatement`](http://docs.oracle.com/javase/7/docs/api/java/sql/PreparedStatement.html) to execute your queries, it has many advantages over plain `Statement` as explained here: https://stackoverflow.com/q/3271249/1065197. Your code would look like:\r\n\r\n    String sql = &quot;select count(name) AS count_name from db.persons where school = ?&quot;;\r\n    PreparedStatement pstmt = con.prepareStatement(sql);\r\n    pstmt.setString(1, sch);\r\n    ResultSet rs = pstmt.executeQuery();\r\n    if (rs.next()) {\r\n        int count = rs.getInt(&quot;count_name&quot;);\r\n    }\r\n","title":"How to retrieve the result of SQL COUNT function from the result set?","body":"<p>Give a name to the column:</p>\n<pre><code>ResultSet rs= stmt.executeQuery(&quot;select count(name) AS count_name from db.persons where school ='&quot;+sch+&quot;'&quot;);\nif (rs.next()) {\n    int count= rs.getInt(&quot;count_name&quot;);\n}\n</code></pre>\n<p>You could also pass the number of the index of the column (in case you don't want to modify your query) which is 1 based. Check <a href=\"http://docs.oracle.com/javase/7/docs/api/java/sql/ResultSet.html#getInt(int)\" rel=\"nofollow noreferrer\"><code>ResultSet#getInt(int columnIndex)</code></a>:</p>\n<pre><code>ResultSet rs= stmt.executeQuery(&quot;select count(name) from db.persons where school ='&quot;+sch+&quot;'&quot;);\nif (rs.next()) {\n    int count= rs.getInt(1);\n}\n</code></pre>\n<hr />\n<p>Apart from this, it would be better if you use a <a href=\"http://docs.oracle.com/javase/7/docs/api/java/sql/PreparedStatement.html\" rel=\"nofollow noreferrer\"><code>PreparedStatement</code></a> to execute your queries, it has many advantages over plain <code>Statement</code> as explained here: <a href=\"https://stackoverflow.com/q/3271249/1065197\">Difference between Statement and PreparedStatement</a>. Your code would look like:</p>\n<pre><code>String sql = &quot;select count(name) AS count_name from db.persons where school = ?&quot;;\nPreparedStatement pstmt = con.prepareStatement(sql);\npstmt.setString(1, sch);\nResultSet rs = pstmt.executeQuery();\nif (rs.next()) {\n    int count = rs.getInt(&quot;count_name&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":4139856,"reputation":8722,"user_id":3395512,"accept_rate":79,"display_name":"Solace"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10065,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":23370254,"answer_count":1,"score":0,"last_activity_date":1673179535,"creation_date":1398788883,"question_id":23370243,"body_markdown":"Normally, when we want to retrieve a value from our database which is present in the table, we call the appropriate method of ResultSet and pass it the column name which we want to retrieve. \r\n\r\n       ResultSet rs= stmt.executeQuery(&quot;select name from db.persons where school =&#39;&quot;+sch+&quot;&#39;&quot;);\r\n        int count= rs.getString(&quot;person_name&quot;);\r\n\r\nBut when we want to get a count of rows (or fields) in a particular column (we use the SQL COUNT function), how do we retrieve the result. What argument should I pass in the rs.getInt() method in the following piece of code?\r\n\r\n    ResultSet rs= stmt.executeQuery(&quot;select count(name) from db.persons where school =&#39;&quot;+sch+&quot;&#39;&quot;);\r\n    int count= rs.getInt( ????? );","title":"How to retrieve the result of SQL COUNT function from the result set?","body":"<p>Normally, when we want to retrieve a value from our database which is present in the table, we call the appropriate method of ResultSet and pass it the column name which we want to retrieve.</p>\n<pre><code>   ResultSet rs= stmt.executeQuery(&quot;select name from db.persons where school ='&quot;+sch+&quot;'&quot;);\n    int count= rs.getString(&quot;person_name&quot;);\n</code></pre>\n<p>But when we want to get a count of rows (or fields) in a particular column (we use the SQL COUNT function), how do we retrieve the result. What argument should I pass in the rs.getInt() method in the following piece of code?</p>\n<pre><code>ResultSet rs= stmt.executeQuery(&quot;select count(name) from db.persons where school ='&quot;+sch+&quot;'&quot;);\nint count= rs.getInt( ????? );\n</code></pre>\n"},{"tags":["java","javafx","javafx-17"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":3,"creation_date":1673178363,"post_id":75047346,"comment_id":132435561,"body_markdown":"Most likely there&#39;s an error in the math somewhere. But as an aside, but why not just use a `VBox` for this? If you want stuff to appear at the top and the bottom, then place an empty `Region` / `Pane` with its `vgrow` set to `ALWAYS` between the top buttons and the bottom buttons. Note `VBox` has a spacing property and, given it inherits `Region`, has a padding property; it also has an `alignment` property. And you may also want to look at e.g., `BorderPane` to layout the button box on the left.","body":"Most likely there&#39;s an error in the math somewhere. But as an aside, but why not just use a <code>VBox</code> for this? If you want stuff to appear at the top and the bottom, then place an empty <code>Region</code> / <code>Pane</code> with its <code>vgrow</code> set to <code>ALWAYS</code> between the top buttons and the bottom buttons. Note <code>VBox</code> has a spacing property and, given it inherits <code>Region</code>, has a padding property; it also has an <code>alignment</code> property. And you may also want to look at e.g., <code>BorderPane</code> to layout the button box on the left."},{"owner":{"account_id":16559,"reputation":1856,"user_id":36223,"display_name":"DaveB"},"score":3,"creation_date":1673188247,"post_id":75047346,"comment_id":132437369,"body_markdown":"Why are we seeing this so often now?  People using Pane, Group and AnchorPane and then manually positioning Nodes with setLayoutX/setLayoutY all kinds of complicated math?  Just use an appropriate layout class.  In this case, VBox would do the trick.","body":"Why are we seeing this so often now?  People using Pane, Group and AnchorPane and then manually positioning Nodes with setLayoutX/setLayoutY all kinds of complicated math?  Just use an appropriate layout class.  In this case, VBox would do the trick."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":3,"creation_date":1673192684,"post_id":75047346,"comment_id":132438329,"body_markdown":"Don&#39;t import `awt` classes into a JavaFX app.  Use [MaterialFX](https://github.com/palexdev/MaterialFX), not JFoenix (my opinion).","body":"Don&#39;t import <code>awt</code> classes into a JavaFX app.  Use <a href=\"https://github.com/palexdev/MaterialFX\" rel=\"nofollow noreferrer\">MaterialFX</a>, not JFoenix (my opinion)."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1673207316,"post_id":75047346,"comment_id":132441346,"body_markdown":"When you call `addDownButton()`, `downButtonsQuantity` is zero, so you set `layoutY` of the button to the height of the pane, minus 5 pixels (the value of `downSpace`). This means there is only 5 pixels of vertical space for the button, which is nowhere near enough, especially as you have set the preferred height of the button to 48 pixels. As others have commented, you should use predefined layout panes for this, instead of reinventing the wheel. (If you really did need to write your own layout code, which you dont, this is not the way to do it.)","body":"When you call <code>addDownButton()</code>, <code>downButtonsQuantity</code> is zero, so you set <code>layoutY</code> of the button to the height of the pane, minus 5 pixels (the value of <code>downSpace</code>). This means there is only 5 pixels of vertical space for the button, which is nowhere near enough, especially as you have set the preferred height of the button to 48 pixels. As others have commented, you should use predefined layout panes for this, instead of reinventing the wheel. (If you really did need to write your own layout code, which you dont, this is not the way to do it.)"},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1673218480,"post_id":75047346,"comment_id":132443193,"body_markdown":"See if the layout ideas here can help -&gt; https://github.com/sedj601/SimpleTextFileLoginApp/blob/main/src/main/resources/com/mycompany/sqliteloginapp/MainScreen.fxml","body":"See if the layout ideas here can help -&gt; <a href=\"https://github.com/sedj601/SimpleTextFileLoginApp/blob/main/src/main/resources/com/mycompany/sqliteloginapp/MainScreen.fxml\" rel=\"nofollow noreferrer\">github.com/sedj601/SimpleTextFileLoginApp/blob/main/src/main&zwnj;&#8203;/&hellip;</a>"}],"owner":{"account_id":27467517,"reputation":1,"user_id":20956983,"display_name":"CTimet"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673179408,"creation_date":1673176903,"question_id":75047346,"body_markdown":"I wrote a javafx program(use maven + java17 + javafx17.0.1 + jfoenix9.0.10), which generates a window 1035 wide and 680 high. I made a black box on the left side of the window. The black box is a ButtonsBox component, and the height of the component is 680, too. But when I tried to add a button at the bottom of the component, the button was blocked by the window. Why is the height of the component the same as that of the scene, but the button was blocked by the window ? &lt;br&gt;\r\nHere are the codes of drawing class. When the application starts, the &quot;start&quot; method in the main class will call the &quot;draw&quot; method in &quot;Draw&quot; class.\r\n\r\n```\r\n\r\npackage io.github.ctimet.lieinbedapp.gui;\r\n\r\nimport io.github.ctimet.lieinbedapp.gui.ui.ButtonsBox;\r\nimport io.github.ctimet.lieinbedapp.gui.util.CSSStyle;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Alert;\r\nimport javafx.scene.control.ButtonType;\r\nimport javafx.scene.control.TextArea;\r\nimport javafx.scene.image.Image;\r\nimport javafx.scene.layout.AnchorPane;\r\nimport javafx.scene.paint.Color;\r\nimport javafx.stage.Stage;\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\n\r\nimport java.awt.*;\r\nimport java.awt.datatransfer.Clipboard;\r\nimport java.awt.datatransfer.StringSelection;\r\nimport java.io.PrintWriter;\r\nimport java.io.StringWriter;\r\nimport java.net.URI;\r\nimport java.util.Objects;\r\nimport java.util.Optional;\r\n\r\npublic class Draw {\r\n    private static final Logger logger = LoggerFactory.getLogger(Draw.class);\r\n\r\n    private static final AnchorPane pane = new AnchorPane();\r\n\r\n    public static void draw(Stage stage) {\r\n        ButtonsBox box = new ButtonsBox(0, 0, 162, 680)\r\n                .setSidesSpace(0)\r\n                .setTopSpace(5)\r\n                .setDownSpace(5)\r\n                .setChildrenHeight(48)\r\n                .setEachSpace(5)\r\n                .setTextFill(Color.valueOf(&quot;#f5f5f5&quot;))\r\n                .setButtonStyle(&quot;/node.css&quot;, &quot;button&quot;)\r\n                .addTopButton(&quot;label&quot;, null, event -&gt; {\r\n                    System.out.println(&quot;Label&quot;);\r\n                })\r\n                .addTopButton(&quot;label2&quot;, null, event -&gt; {\r\n                    System.out.println(&quot;Label2&quot;);\r\n                })\r\n                .addDownButton(&quot;label3&quot;, null, event -&gt; {\r\n                    System.out.println(&quot;1&quot;);\r\n                });\r\n        CSSStyle.addDefaultStyle(box, &quot;box&quot;);\r\n\r\n        pane.getChildren().add(box);\r\n\r\n        pane.setStyle(&quot;-fx-background-color: #f5f5f5;&quot;);\r\n\r\n        Scene scene = new Scene(pane, 1035, 680);\r\n        stage.setScene(scene);\r\n        stage.setTitle(&quot;Lie In Bed&quot;);\r\n\r\n        Image icon = new Image(Objects.requireNonNull(Draw.class.getResourceAsStream(&quot;/icon.png&quot;)));\r\n        stage.getIcons().add(icon);\r\n        stage.show();\r\n    }\r\n    \r\n}\r\n```\r\n\r\nAnd here are the codes of ButtonsBox class\r\n\r\n```\r\npackage io.github.ctimet.lieinbedapp.gui.ui;\r\n\r\nimport com.jfoenix.controls.JFXButton;\r\nimport io.github.ctimet.lieinbedapp.gui.util.CSSStyle;\r\nimport javafx.event.ActionEvent;\r\nimport javafx.event.EventHandler;\r\nimport javafx.scene.Cursor;\r\nimport javafx.scene.Node;\r\nimport javafx.scene.layout.Pane;\r\nimport javafx.scene.paint.Color;\r\nimport javafx.scene.paint.Paint;\r\n\r\npublic class ButtonsBox extends Pane {\r\n    private double childrenHeight;\r\n    private double sidesSpace;\r\n    private double topSpace;\r\n    private double downSpace;\r\n    private double eachSpace;\r\n    private String cssFile;\r\n    private String cssClass;\r\n\r\n    private Paint textFill = Color.WHITE;\r\n    private int topButtonsQuantity = 0;\r\n    private int downButtonsQuantity = 0;\r\n\r\n    public ButtonsBox(double layoutX, double layoutY, double prefWidth, double prefHeight) {\r\n        setLayoutX(layoutX);\r\n        setLayoutY(layoutY);\r\n        setPrefWidth(prefWidth);\r\n        setPrefHeight(prefHeight);\r\n    }\r\n\r\n    public ButtonsBox setTopSpace(double topSpace) {\r\n        this.topSpace = topSpace;\r\n        return this;\r\n    }\r\n\r\n    public ButtonsBox setDownSpace(double downSpace) {\r\n        this.downSpace = downSpace;\r\n        return this;\r\n    }\r\n\r\n    public ButtonsBox setChildrenHeight(double childrenHeight) {\r\n        this.childrenHeight = childrenHeight;\r\n        return this;\r\n    }\r\n\r\n    public ButtonsBox setSidesSpace(double sidesSpace) {\r\n        this.sidesSpace = sidesSpace;\r\n        return this;\r\n    }\r\n\r\n    public ButtonsBox setEachSpace(double eachSpace) {\r\n        this.eachSpace = eachSpace;\r\n        return this;\r\n    }\r\n\r\n    public ButtonsBox setTextFill(Paint paint) {\r\n        this.textFill = paint;\r\n        return this;\r\n    }\r\n\r\n    public ButtonsBox setButtonStyle(String cssFile, String cssClass) {\r\n        this.cssFile = cssFile;\r\n        this.cssClass = cssClass;\r\n        return this;\r\n    }\r\n\r\n    public ButtonsBox addTopButton(String label, Node graphic, EventHandler&lt;ActionEvent&gt; handler) {\r\n        JFXButton child = new JFXButton(label);\r\n        child.setLayoutX(getLayoutX() + sidesSpace);\r\n        child.setLayoutY(topButtonsQuantity * (childrenHeight + eachSpace) + topSpace);\r\n        child.setPrefWidth(getPrefWidth() - 2*sidesSpace);\r\n        child.setPrefHeight(childrenHeight);\r\n        child.setTextFill(textFill);\r\n        child.setCursor(Cursor.HAND);\r\n        if (graphic != null)\r\n            child.setGraphic(graphic);\r\n        if (cssClass != null &amp;&amp; cssFile != null)\r\n            CSSStyle.addStyle(child, cssClass, cssFile);\r\n        child.setOnAction(handler);\r\n\r\n        getChildren().add(child);\r\n        topButtonsQuantity += 1;\r\n        return this;\r\n    }\r\n\r\n    public ButtonsBox addDownButton(String label, Node graphic, EventHandler&lt;ActionEvent&gt; handler)  {\r\n        JFXButton child = new JFXButton(label);\r\n        child.setLayoutX(getLayoutX() + sidesSpace);\r\n        System.out.println(getPrefHeight() - downButtonsQuantity * (childrenHeight + eachSpace) - downSpace);\r\n        child.setLayoutY(getPrefHeight() - downButtonsQuantity * (childrenHeight + eachSpace) - downSpace);\r\n        child.setPrefWidth(getPrefWidth() - 2*sidesSpace);\r\n        child.setPrefHeight(childrenHeight);\r\n        child.setTextFill(textFill);\r\n        child.setCursor(Cursor.HAND);\r\n        if (graphic != null)\r\n            child.setGraphic(graphic);\r\n        if (cssFile != null &amp;&amp; cssClass != null)\r\n            CSSStyle.addStyle(child, cssClass, cssFile);\r\n        child.setOnAction(handler);\r\n\r\n        getChildren().add(child);\r\n        downButtonsQuantity += 1;\r\n        return this;\r\n    }\r\n}\r\n\r\n```\r\n\r\nWhen I start this Application, It will show\r\n[this](https://i.stack.imgur.com/L65l5.png).\r\nAs you can see. The Button &quot;Label3&quot; does not appear in the window.But when I maximize the window, the button Label3 appears in the lower left corner of the window.\r\n[this](https://i.stack.imgur.com/MTmnH.png)&lt;br&gt;\r\nWhat should I do to make the button Label3 display normally instead of being blocked?\r\n\r\nI tried to set the width and height of the stage manually, but it didn&#39;t work. Only when I change the height of ButtonsBox, can the button be displayed normally, but I don&#39;t understand why the height of ButtonsBox is the same as that of scene, but the button Label3 is blocked.&lt;br&gt;\r\nI hope the button Label3 can be displayed normally, and I also want to know why the button Label3 is blocked","title":"Why is the height of the component the same as the scene, but the button at the bottom of the component is blocked?","body":"<p>I wrote a javafx program(use maven + java17 + javafx17.0.1 + jfoenix9.0.10), which generates a window 1035 wide and 680 high. I made a black box on the left side of the window. The black box is a ButtonsBox component, and the height of the component is 680, too. But when I tried to add a button at the bottom of the component, the button was blocked by the window. Why is the height of the component the same as that of the scene, but the button was blocked by the window ? <br>\nHere are the codes of drawing class. When the application starts, the &quot;start&quot; method in the main class will call the &quot;draw&quot; method in &quot;Draw&quot; class.</p>\n<pre><code>\npackage io.github.ctimet.lieinbedapp.gui;\n\nimport io.github.ctimet.lieinbedapp.gui.ui.ButtonsBox;\nimport io.github.ctimet.lieinbedapp.gui.util.CSSStyle;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Alert;\nimport javafx.scene.control.ButtonType;\nimport javafx.scene.control.TextArea;\nimport javafx.scene.image.Image;\nimport javafx.scene.layout.AnchorPane;\nimport javafx.scene.paint.Color;\nimport javafx.stage.Stage;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\nimport java.awt.*;\nimport java.awt.datatransfer.Clipboard;\nimport java.awt.datatransfer.StringSelection;\nimport java.io.PrintWriter;\nimport java.io.StringWriter;\nimport java.net.URI;\nimport java.util.Objects;\nimport java.util.Optional;\n\npublic class Draw {\n    private static final Logger logger = LoggerFactory.getLogger(Draw.class);\n\n    private static final AnchorPane pane = new AnchorPane();\n\n    public static void draw(Stage stage) {\n        ButtonsBox box = new ButtonsBox(0, 0, 162, 680)\n                .setSidesSpace(0)\n                .setTopSpace(5)\n                .setDownSpace(5)\n                .setChildrenHeight(48)\n                .setEachSpace(5)\n                .setTextFill(Color.valueOf(&quot;#f5f5f5&quot;))\n                .setButtonStyle(&quot;/node.css&quot;, &quot;button&quot;)\n                .addTopButton(&quot;label&quot;, null, event -&gt; {\n                    System.out.println(&quot;Label&quot;);\n                })\n                .addTopButton(&quot;label2&quot;, null, event -&gt; {\n                    System.out.println(&quot;Label2&quot;);\n                })\n                .addDownButton(&quot;label3&quot;, null, event -&gt; {\n                    System.out.println(&quot;1&quot;);\n                });\n        CSSStyle.addDefaultStyle(box, &quot;box&quot;);\n\n        pane.getChildren().add(box);\n\n        pane.setStyle(&quot;-fx-background-color: #f5f5f5;&quot;);\n\n        Scene scene = new Scene(pane, 1035, 680);\n        stage.setScene(scene);\n        stage.setTitle(&quot;Lie In Bed&quot;);\n\n        Image icon = new Image(Objects.requireNonNull(Draw.class.getResourceAsStream(&quot;/icon.png&quot;)));\n        stage.getIcons().add(icon);\n        stage.show();\n    }\n    \n}\n</code></pre>\n<p>And here are the codes of ButtonsBox class</p>\n<pre><code>package io.github.ctimet.lieinbedapp.gui.ui;\n\nimport com.jfoenix.controls.JFXButton;\nimport io.github.ctimet.lieinbedapp.gui.util.CSSStyle;\nimport javafx.event.ActionEvent;\nimport javafx.event.EventHandler;\nimport javafx.scene.Cursor;\nimport javafx.scene.Node;\nimport javafx.scene.layout.Pane;\nimport javafx.scene.paint.Color;\nimport javafx.scene.paint.Paint;\n\npublic class ButtonsBox extends Pane {\n    private double childrenHeight;\n    private double sidesSpace;\n    private double topSpace;\n    private double downSpace;\n    private double eachSpace;\n    private String cssFile;\n    private String cssClass;\n\n    private Paint textFill = Color.WHITE;\n    private int topButtonsQuantity = 0;\n    private int downButtonsQuantity = 0;\n\n    public ButtonsBox(double layoutX, double layoutY, double prefWidth, double prefHeight) {\n        setLayoutX(layoutX);\n        setLayoutY(layoutY);\n        setPrefWidth(prefWidth);\n        setPrefHeight(prefHeight);\n    }\n\n    public ButtonsBox setTopSpace(double topSpace) {\n        this.topSpace = topSpace;\n        return this;\n    }\n\n    public ButtonsBox setDownSpace(double downSpace) {\n        this.downSpace = downSpace;\n        return this;\n    }\n\n    public ButtonsBox setChildrenHeight(double childrenHeight) {\n        this.childrenHeight = childrenHeight;\n        return this;\n    }\n\n    public ButtonsBox setSidesSpace(double sidesSpace) {\n        this.sidesSpace = sidesSpace;\n        return this;\n    }\n\n    public ButtonsBox setEachSpace(double eachSpace) {\n        this.eachSpace = eachSpace;\n        return this;\n    }\n\n    public ButtonsBox setTextFill(Paint paint) {\n        this.textFill = paint;\n        return this;\n    }\n\n    public ButtonsBox setButtonStyle(String cssFile, String cssClass) {\n        this.cssFile = cssFile;\n        this.cssClass = cssClass;\n        return this;\n    }\n\n    public ButtonsBox addTopButton(String label, Node graphic, EventHandler&lt;ActionEvent&gt; handler) {\n        JFXButton child = new JFXButton(label);\n        child.setLayoutX(getLayoutX() + sidesSpace);\n        child.setLayoutY(topButtonsQuantity * (childrenHeight + eachSpace) + topSpace);\n        child.setPrefWidth(getPrefWidth() - 2*sidesSpace);\n        child.setPrefHeight(childrenHeight);\n        child.setTextFill(textFill);\n        child.setCursor(Cursor.HAND);\n        if (graphic != null)\n            child.setGraphic(graphic);\n        if (cssClass != null &amp;&amp; cssFile != null)\n            CSSStyle.addStyle(child, cssClass, cssFile);\n        child.setOnAction(handler);\n\n        getChildren().add(child);\n        topButtonsQuantity += 1;\n        return this;\n    }\n\n    public ButtonsBox addDownButton(String label, Node graphic, EventHandler&lt;ActionEvent&gt; handler)  {\n        JFXButton child = new JFXButton(label);\n        child.setLayoutX(getLayoutX() + sidesSpace);\n        System.out.println(getPrefHeight() - downButtonsQuantity * (childrenHeight + eachSpace) - downSpace);\n        child.setLayoutY(getPrefHeight() - downButtonsQuantity * (childrenHeight + eachSpace) - downSpace);\n        child.setPrefWidth(getPrefWidth() - 2*sidesSpace);\n        child.setPrefHeight(childrenHeight);\n        child.setTextFill(textFill);\n        child.setCursor(Cursor.HAND);\n        if (graphic != null)\n            child.setGraphic(graphic);\n        if (cssFile != null &amp;&amp; cssClass != null)\n            CSSStyle.addStyle(child, cssClass, cssFile);\n        child.setOnAction(handler);\n\n        getChildren().add(child);\n        downButtonsQuantity += 1;\n        return this;\n    }\n}\n\n</code></pre>\n<p>When I start this Application, It will show\n<a href=\"https://i.stack.imgur.com/L65l5.png\" rel=\"nofollow noreferrer\">this</a>.\nAs you can see. The Button &quot;Label3&quot; does not appear in the window.But when I maximize the window, the button Label3 appears in the lower left corner of the window.\n<a href=\"https://i.stack.imgur.com/MTmnH.png\" rel=\"nofollow noreferrer\">this</a><br>\nWhat should I do to make the button Label3 display normally instead of being blocked?</p>\n<p>I tried to set the width and height of the stage manually, but it didn't work. Only when I change the height of ButtonsBox, can the button be displayed normally, but I don't understand why the height of ButtonsBox is the same as that of scene, but the button Label3 is blocked.<br>\nI hope the button Label3 can be displayed normally, and I also want to know why the button Label3 is blocked</p>\n"},{"tags":["java","sockets","server","client","socketexception"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1673133879,"post_id":75044348,"comment_id":132430704,"body_markdown":"Looks to me like as soon as you connect, the server writes a message to the client and then immediately closes the connection. So how could the client then write to the server?","body":"Looks to me like as soon as you connect, the server writes a message to the client and then immediately closes the connection. So how could the client then write to the server?"},{"owner":{"account_id":20213984,"reputation":1,"user_id":14825386,"display_name":"Adrian S&#226;rbu"},"score":0,"creation_date":1673134912,"post_id":75044348,"comment_id":132430842,"body_markdown":"I am sorry, I forgot to put the code from the Callable that I gave to the executor service, I edited the question now. In the call method I read the sent object from the client.","body":"I am sorry, I forgot to put the code from the Callable that I gave to the executor service, I edited the question now. In the call method I read the sent object from the client."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1673171843,"post_id":75044348,"comment_id":132434582,"body_markdown":"Generally speaking, the correct design of the protocol prevents this problem. Each side needs to know what to expect before closing in an orderly way.","body":"Generally speaking, the correct design of the protocol prevents this problem. Each side needs to know what to expect before closing in an orderly way."},{"owner":{"account_id":20213984,"reputation":1,"user_id":14825386,"display_name":"Adrian S&#226;rbu"},"score":0,"creation_date":1673173905,"post_id":75044348,"comment_id":132434891,"body_markdown":"So how do i solve this","body":"So how do i solve this"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1673175663,"post_id":75044348,"comment_id":132435156,"body_markdown":"For example close when the client has sent &quot;goodbye&quot;","body":"For example close when the client has sent &quot;goodbye&quot;"},{"owner":{"account_id":20213984,"reputation":1,"user_id":14825386,"display_name":"Adrian S&#226;rbu"},"score":0,"creation_date":1673179268,"post_id":75044348,"comment_id":132435731,"body_markdown":"I added an edit to the question at the end with what I tried","body":"I added an edit to the question at the end with what I tried"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1673179736,"post_id":75044348,"comment_id":132435807,"body_markdown":"Don&#39;t close *any* stream (in addtion obvs. to the connection) until your protocol says all is done","body":"Don&#39;t close <i>any</i> stream (in addtion obvs. to the connection) until your protocol says all is done"},{"owner":{"account_id":20213984,"reputation":1,"user_id":14825386,"display_name":"Adrian S&#226;rbu"},"score":0,"creation_date":1673180896,"post_id":75044348,"comment_id":132436009,"body_markdown":"Wow... that was really the problem, I didnt even think of that. Im so happy that it works now, thank you so much!","body":"Wow... that was really the problem, I didnt even think of that. Im so happy that it works now, thank you so much!"}],"owner":{"account_id":20213984,"reputation":1,"user_id":14825386,"display_name":"Adrian S&#226;rbu"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":334,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673179314,"creation_date":1673132174,"question_id":75044348,"body_markdown":"I am working on a project in Java and I am trying to send an object from the client to the server and then waiting for a String response, but I get SocketException with the message &quot;Socket is closed&quot; on server at the line where I&#39;m creating the DataOutputStream and SocketException with the message &quot;Socket closed&quot; on client at the line where I called the readUTF method.\r\n\r\nClient error:\r\n```\r\njava.net.SocketException: Socket closed\r\n\tat java.base/sun.nio.ch.NioSocketImpl.ensureOpenAndConnected(NioSocketImpl.java:165)\r\n\tat java.base/sun.nio.ch.NioSocketImpl.beginRead(NioSocketImpl.java:231)\r\n\tat java.base/sun.nio.ch.NioSocketImpl.implRead(NioSocketImpl.java:299)\r\n\tat java.base/sun.nio.ch.NioSocketImpl.read(NioSocketImpl.java:350)\r\n\tat java.base/sun.nio.ch.NioSocketImpl$1.read(NioSocketImpl.java:803)\r\n\tat java.base/java.net.Socket$SocketInputStream.read(Socket.java:976)\r\n\tat java.base/java.net.Socket$SocketInputStream.read(Socket.java:971)\r\n\tat java.base/java.io.DataInputStream.readUnsignedShort(DataInputStream.java:343)\r\n\tat java.base/java.io.DataInputStream.readUTF(DataInputStream.java:595)\r\n\tat java.base/java.io.DataInputStream.readUTF(DataInputStream.java:570)\r\n\tat client.Client.main(Client.java:26)\r\n```\r\nServer error:\r\n```\r\njava.net.SocketException: Socket is closed\r\n\tat java.base/java.net.Socket.getOutputStream(Socket.java:1008)\r\n\tat server.Server.handleRequest(Server.java:83)\r\n\tat server.Server.run(Server.java:74)\r\n\tat server.Server.main(Server.java:63)\r\n```\r\n\r\nClient code:\r\n```\r\npublic class Client {\r\n    public static void main(String[] args) {\r\n        try {\r\n            Socket soc = new Socket(&quot;localhost&quot;, 8080);\r\n\r\n            ObjectOutputStream out = new ObjectOutputStream(soc.getOutputStream());\r\n            DataInputStream in = new DataInputStream(soc.getInputStream());\r\n\r\n            Planification p = new Planification(0, &quot;Alex&quot;, &quot;5070921647382&quot;, LocalDate.now(), 2, 1, LocalDate.of(2023, 1, 15), LocalTime.of(12, 0, 0));\r\n            out.writeObject(p);\r\n            out.flush();\r\n            out.close();\r\n\r\n            System.out.println(in.readUTF()); //ERROR HERE\r\n            in.close();\r\n\r\n            soc.close();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\nServer code:\r\n```\r\nprivate void run() throws IOException, ExecutionException, InterruptedException {\r\n    ServerSocket socket = new ServerSocket(8080);\r\n    System.out.println(&quot;Server started on port 8080&quot;);\r\n    while (true) {\r\n        final Socket connection = socket.accept();\r\n        this.handleRequest(connection);\r\n        connection.close();\r\n    }\r\n}\r\n\r\nprivate void handleRequest(Socket connection) throws IOException, ExecutionException, InterruptedException {\r\n    Future&lt;String&gt; result = executorService.submit(new ServiceCallable(this.locationsRepository, this.paymentsRepository, this.planificationsRepository, this.treatmentsRepository, connection));\r\n    String res = result.get();\r\n    System.out.println(res);\r\n    DataOutputStream out = new DataOutputStream(connection.getOutputStream()); //ERROR HERE\r\n    out.writeUTF(res);\r\n    out.flush();\r\n    out.close();\r\n}\r\n```\r\nCall method from the ServiceCallable class:\r\n```\r\npublic synchronized String call() throws Exception {\r\n    ObjectInputStream objectInputStream = new ObjectInputStream(socket.getInputStream());\r\n\r\n    Object object = objectInputStream.readObject();\r\n    objectInputStream.close();\r\n        \r\n    ...\r\n    Some verifications and return of the String message\r\n    ...\r\n}\r\n```\r\n\r\nAny help is appreciated...\r\n\r\n\r\n**Edit:**\r\nI changed the handleRequest method so that I dont give the connection to ServiceCallable but instead give the object read and changed the call method too (because i dont have the connection anymore) and I still have the same errors.\r\n```\r\nprivate void handleRequest(Socket connection) throws ... {\r\n    ObjectInputStream objectInputStream = new ObjectInputStream(connection.getInputStream());\r\n    Object command = objectInputStream.readObject();\r\n    objectInputStream.close();\r\n\r\n    Future&lt;String&gt; result = executorService.submit(new ServiceCallable(command, ...));\r\n    String res = result.get();\r\n    System.out.println(res);\r\n\r\n    DataOutputStream out = new DataOutputStream(connection.getOutputStream());\r\n    out.writeUTF(res);\r\n    out.flush();\r\n    out.close();\r\n}\r\n```\r\n```\r\npublic synchronized String call() throws Exception {\r\n    ...\r\n    Some verifications and return of the String message\r\n    ...\r\n}\r\n```","title":"Java SocketException after trying to send and receive data on the same socket connection","body":"<p>I am working on a project in Java and I am trying to send an object from the client to the server and then waiting for a String response, but I get SocketException with the message &quot;Socket is closed&quot; on server at the line where I'm creating the DataOutputStream and SocketException with the message &quot;Socket closed&quot; on client at the line where I called the readUTF method.</p>\n<p>Client error:</p>\n<pre><code>java.net.SocketException: Socket closed\n    at java.base/sun.nio.ch.NioSocketImpl.ensureOpenAndConnected(NioSocketImpl.java:165)\n    at java.base/sun.nio.ch.NioSocketImpl.beginRead(NioSocketImpl.java:231)\n    at java.base/sun.nio.ch.NioSocketImpl.implRead(NioSocketImpl.java:299)\n    at java.base/sun.nio.ch.NioSocketImpl.read(NioSocketImpl.java:350)\n    at java.base/sun.nio.ch.NioSocketImpl$1.read(NioSocketImpl.java:803)\n    at java.base/java.net.Socket$SocketInputStream.read(Socket.java:976)\n    at java.base/java.net.Socket$SocketInputStream.read(Socket.java:971)\n    at java.base/java.io.DataInputStream.readUnsignedShort(DataInputStream.java:343)\n    at java.base/java.io.DataInputStream.readUTF(DataInputStream.java:595)\n    at java.base/java.io.DataInputStream.readUTF(DataInputStream.java:570)\n    at client.Client.main(Client.java:26)\n</code></pre>\n<p>Server error:</p>\n<pre><code>java.net.SocketException: Socket is closed\n    at java.base/java.net.Socket.getOutputStream(Socket.java:1008)\n    at server.Server.handleRequest(Server.java:83)\n    at server.Server.run(Server.java:74)\n    at server.Server.main(Server.java:63)\n</code></pre>\n<p>Client code:</p>\n<pre><code>public class Client {\n    public static void main(String[] args) {\n        try {\n            Socket soc = new Socket(&quot;localhost&quot;, 8080);\n\n            ObjectOutputStream out = new ObjectOutputStream(soc.getOutputStream());\n            DataInputStream in = new DataInputStream(soc.getInputStream());\n\n            Planification p = new Planification(0, &quot;Alex&quot;, &quot;5070921647382&quot;, LocalDate.now(), 2, 1, LocalDate.of(2023, 1, 15), LocalTime.of(12, 0, 0));\n            out.writeObject(p);\n            out.flush();\n            out.close();\n\n            System.out.println(in.readUTF()); //ERROR HERE\n            in.close();\n\n            soc.close();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>Server code:</p>\n<pre><code>private void run() throws IOException, ExecutionException, InterruptedException {\n    ServerSocket socket = new ServerSocket(8080);\n    System.out.println(&quot;Server started on port 8080&quot;);\n    while (true) {\n        final Socket connection = socket.accept();\n        this.handleRequest(connection);\n        connection.close();\n    }\n}\n\nprivate void handleRequest(Socket connection) throws IOException, ExecutionException, InterruptedException {\n    Future&lt;String&gt; result = executorService.submit(new ServiceCallable(this.locationsRepository, this.paymentsRepository, this.planificationsRepository, this.treatmentsRepository, connection));\n    String res = result.get();\n    System.out.println(res);\n    DataOutputStream out = new DataOutputStream(connection.getOutputStream()); //ERROR HERE\n    out.writeUTF(res);\n    out.flush();\n    out.close();\n}\n</code></pre>\n<p>Call method from the ServiceCallable class:</p>\n<pre><code>public synchronized String call() throws Exception {\n    ObjectInputStream objectInputStream = new ObjectInputStream(socket.getInputStream());\n\n    Object object = objectInputStream.readObject();\n    objectInputStream.close();\n        \n    ...\n    Some verifications and return of the String message\n    ...\n}\n</code></pre>\n<p>Any help is appreciated...</p>\n<p><strong>Edit:</strong>\nI changed the handleRequest method so that I dont give the connection to ServiceCallable but instead give the object read and changed the call method too (because i dont have the connection anymore) and I still have the same errors.</p>\n<pre><code>private void handleRequest(Socket connection) throws ... {\n    ObjectInputStream objectInputStream = new ObjectInputStream(connection.getInputStream());\n    Object command = objectInputStream.readObject();\n    objectInputStream.close();\n\n    Future&lt;String&gt; result = executorService.submit(new ServiceCallable(command, ...));\n    String res = result.get();\n    System.out.println(res);\n\n    DataOutputStream out = new DataOutputStream(connection.getOutputStream());\n    out.writeUTF(res);\n    out.flush();\n    out.close();\n}\n</code></pre>\n<pre><code>public synchronized String call() throws Exception {\n    ...\n    Some verifications and return of the String message\n    ...\n}\n</code></pre>\n"},{"tags":["java","android","image","picasso","image-resizing"],"comments":[{"owner":{"account_id":18203305,"reputation":45,"user_id":13247077,"display_name":"Qasim Malik"},"score":0,"creation_date":1673101637,"post_id":75040877,"comment_id":132424432,"body_markdown":"Have you tried using Glide or Fresco?","body":"Have you tried using Glide or Fresco?"},{"owner":{"account_id":15608330,"reputation":1466,"user_id":11260467,"display_name":"Xiidref"},"score":0,"creation_date":1673104940,"post_id":75040877,"comment_id":132425192,"body_markdown":"I didn&#39;t, i&#39;ll try them and post the result when done","body":"I didn&#39;t, i&#39;ll try them and post the result when done"},{"owner":{"account_id":15608330,"reputation":1466,"user_id":11260467,"display_name":"Xiidref"},"score":0,"creation_date":1673178466,"post_id":75040877,"comment_id":132435582,"body_markdown":"I did try both but ended with similar issues","body":"I did try both but ended with similar issues"}],"answers":[{"tags":[],"owner":{"account_id":15608330,"reputation":1466,"user_id":11260467,"display_name":"Xiidref"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673179263,"creation_date":1673179263,"answer_id":75047578,"question_id":75040877,"body_markdown":"I ended giving up on using a library, as @Qasim Malik suggested I&#39;ve tried Glide and Fresco as alternatives, but I still got similar issues.\r\n\r\nSo since I wasn&#39;t able to do it with a library, I did it myself by handling the request and image resizing directly :  \r\n\r\n```java\r\nprivate final static OkHttpClient client = new OkHttpClient();\r\npublic void displayImages(List&lt;ImageContent&gt; images) {\r\n        for(ImageContent img:images) {\r\n            ImageView imgView = new ImageView(this);\r\n            this.frameHolder.addView(imgView);\r\n\r\n            Request.Builder requestBuilder = new Request.Builder()\r\n                .addHeader(img.getHeaderKey(), img.getHeaderValue())\r\n                .url(content.getUrlContentData());\r\n\r\n\r\n            client.newCall(requestBuilder.build()).enqueue(new Callback() {\r\n                @Override\r\n                public void onFailure(Call call, IOException e) {\r\n                    loadFailed();\r\n                }\r\n\r\n                @Override\r\n                public void onResponse(Call call, Response response) throws IOException {\r\n                    Bitmap bitmap = BitmapFactory.decodeStream(response.body().byteStream());\r\n                    float widthInitial =  bitmap.getWidth() ;\r\n                    float heightInitial =  bitmap.getHeight() ;\r\n                    Bitmap resizedImage = Bitmap.createScaledBitmap(bitmap, frameHolder.getWidth(), Math.round(frameHolder.getWidth() * (heightInitial / widthInitial)), true);\r\n                    \r\n                    imgView.setImageBitmap(resizedImage);\r\n                }\r\n        });\r\n        }\r\n    }\r\n```\r\n\r\nThis work fine, and there are no more performance issues, but I&#39;m still unsure of why the libraries are so slow at it...","title":"Picasso performance issues when resizing multiple images","body":"<p>I ended giving up on using a library, as @Qasim Malik suggested I've tried Glide and Fresco as alternatives, but I still got similar issues.</p>\n<p>So since I wasn't able to do it with a library, I did it myself by handling the request and image resizing directly :</p>\n<pre class=\"lang-java prettyprint-override\"><code>private final static OkHttpClient client = new OkHttpClient();\npublic void displayImages(List&lt;ImageContent&gt; images) {\n        for(ImageContent img:images) {\n            ImageView imgView = new ImageView(this);\n            this.frameHolder.addView(imgView);\n\n            Request.Builder requestBuilder = new Request.Builder()\n                .addHeader(img.getHeaderKey(), img.getHeaderValue())\n                .url(content.getUrlContentData());\n\n\n            client.newCall(requestBuilder.build()).enqueue(new Callback() {\n                @Override\n                public void onFailure(Call call, IOException e) {\n                    loadFailed();\n                }\n\n                @Override\n                public void onResponse(Call call, Response response) throws IOException {\n                    Bitmap bitmap = BitmapFactory.decodeStream(response.body().byteStream());\n                    float widthInitial =  bitmap.getWidth() ;\n                    float heightInitial =  bitmap.getHeight() ;\n                    Bitmap resizedImage = Bitmap.createScaledBitmap(bitmap, frameHolder.getWidth(), Math.round(frameHolder.getWidth() * (heightInitial / widthInitial)), true);\n                    \n                    imgView.setImageBitmap(resizedImage);\n                }\n        });\n        }\n    }\n</code></pre>\n<p>This work fine, and there are no more performance issues, but I'm still unsure of why the libraries are so slow at it...</p>\n"}],"owner":{"account_id":15608330,"reputation":1466,"user_id":11260467,"display_name":"Xiidref"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75047578,"answer_count":1,"score":0,"last_activity_date":1673179263,"creation_date":1673099924,"question_id":75040877,"body_markdown":"I have an activity that need to load multiples images and resize them so that they fit screen width.\r\n\r\nI try to load the images into `this.frameHolder` which is a LinearLayout inside a NestedScrollView and do match the screen width.\r\n\r\nThe code below is working but make the application very slow as soon as there is more than few images.\r\n\r\n```java\r\n    public void displayImages(List&lt;ImageContent&gt; images) {\r\n        for(ImageContent img:images) {\r\n            //Create an new view for image\r\n            ImageView imgView = new ImageView(this);\r\n            this.frameHolder.addView(imgView);\r\n\r\n            //Create a client with custom header for this image\r\n            OkHttpClient client = new OkHttpClient.Builder()\r\n                    .addInterceptor(chain -&gt; {\r\n                        Request.Builder newRequest = chain.request().newBuilder();\r\n                        newRequest.addHeader(img.getHeaderKey(), img.getHeaderValue());\r\n                        return chain.proceed(newRequest.build());\r\n                    }).build();\r\n            \r\n            //Create a picasso instance for this client\r\n            Picasso.Builder builder = new Picasso.Builder(this).downloader(new OkHttp3Downloader(client));\r\n            Picasso pic = builder.build();\r\n\r\n            //Load and resize the image to fit screen width\r\n            pic.load(img.getUrlContentData()).resize(frameHolder.getWidth(), 0).into(imgView);\r\n        }\r\n    }\r\n```\r\n\r\nHow can I load multiple images and make them fit the screen width, without degrading performance too much ? I&#39;m open to other solution than Picasso if that make it possible. ","title":"Picasso performance issues when resizing multiple images","body":"<p>I have an activity that need to load multiples images and resize them so that they fit screen width.</p>\n<p>I try to load the images into <code>this.frameHolder</code> which is a LinearLayout inside a NestedScrollView and do match the screen width.</p>\n<p>The code below is working but make the application very slow as soon as there is more than few images.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public void displayImages(List&lt;ImageContent&gt; images) {\n        for(ImageContent img:images) {\n            //Create an new view for image\n            ImageView imgView = new ImageView(this);\n            this.frameHolder.addView(imgView);\n\n            //Create a client with custom header for this image\n            OkHttpClient client = new OkHttpClient.Builder()\n                    .addInterceptor(chain -&gt; {\n                        Request.Builder newRequest = chain.request().newBuilder();\n                        newRequest.addHeader(img.getHeaderKey(), img.getHeaderValue());\n                        return chain.proceed(newRequest.build());\n                    }).build();\n            \n            //Create a picasso instance for this client\n            Picasso.Builder builder = new Picasso.Builder(this).downloader(new OkHttp3Downloader(client));\n            Picasso pic = builder.build();\n\n            //Load and resize the image to fit screen width\n            pic.load(img.getUrlContentData()).resize(frameHolder.getWidth(), 0).into(imgView);\n        }\n    }\n</code></pre>\n<p>How can I load multiple images and make them fit the screen width, without degrading performance too much ? I'm open to other solution than Picasso if that make it possible.</p>\n"},{"tags":["java","for-loop","anylogic","population"],"comments":[{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1673179307,"post_id":75047503,"comment_id":132435737,"body_markdown":"Loop over a copy of `testpops` (e.g. `for testpop t : new ArrayList(testpops)) ...`, or use an iterator to iterate and use its remove method. I&#39;m not sure why _&quot;because my code is in an event, which occurs every minute new&quot;_ would be a reason that an iterator wouldn&#39;t work.","body":"Loop over a copy of <code>testpops</code> (e.g. <code>for testpop t : new ArrayList(testpops)) ...</code>, or use an iterator to iterate and use its remove method. I&#39;m not sure why <i>&quot;because my code is in an event, which occurs every minute new&quot;</i> would be a reason that an iterator wouldn&#39;t work."},{"owner":{"account_id":5255222,"reputation":573,"user_id":4198317,"display_name":"St&#233;phane Jeandeaux"},"score":0,"creation_date":1673180344,"post_id":75047503,"comment_id":132435919,"body_markdown":"you should probably use an iterator which offers remove.","body":"you should probably use an iterator which offers remove."}],"owner":{"account_id":27438857,"reputation":41,"user_id":20934165,"display_name":"Steffen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1673179380,"answer_count":0,"score":0,"last_activity_date":1673179217,"creation_date":1673178636,"question_id":75047503,"body_markdown":"I have a for-loop to iterate over my population. For a condition, I want to remove that object from my population. When I run my model, a `ConcurrentModificationException` occurs. The reason should be, that I cannot modify my population, while iterating over the collection in a for-loop.\r\n\r\nIs there any simple way to fix that problem?\r\nI tried using an iterator, but because my code is in an event, which occurs every minute new, it did not really work.\r\n\r\n    for (testpop t : testpops) {\r\n    \tif (dateToTime(t.arrival) &lt;= time()) {\r\n    \t\tSystem.out.println(t.arrival);\r\n    \t\tremove_testpops(t);\r\n    \t}\r\n    }","title":"How to modify population within for-loop?","body":"<p>I have a for-loop to iterate over my population. For a condition, I want to remove that object from my population. When I run my model, a <code>ConcurrentModificationException</code> occurs. The reason should be, that I cannot modify my population, while iterating over the collection in a for-loop.</p>\n<p>Is there any simple way to fix that problem?\nI tried using an iterator, but because my code is in an event, which occurs every minute new, it did not really work.</p>\n<pre><code>for (testpop t : testpops) {\n    if (dateToTime(t.arrival) &lt;= time()) {\n        System.out.println(t.arrival);\n        remove_testpops(t);\n    }\n}\n</code></pre>\n"},{"tags":["java","string-pool"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":3,"creation_date":1673174875,"post_id":75047133,"comment_id":132435031,"body_markdown":"Only string literals are automatically interned in the string pool. String instances created any other way are not part of the pool unless you call `intern()` on them (which returns the cached instance, adding the current instance to the pool if not already present). And `new String(&quot;Literal&quot;)` involves two objects, one via a string literal, and another via the string constructor (i.e., not a string literal).","body":"Only string literals are automatically interned in the string pool. String instances created any other way are not part of the pool unless you call <code>intern()</code> on them (which returns the cached instance, adding the current instance to the pool if not already present). And <code>new String(&quot;Literal&quot;)</code> involves two objects, one via a string literal, and another via the string constructor (i.e., not a string literal)."}],"owner":{"account_id":27467643,"reputation":1,"user_id":20957093,"display_name":"Sv_BS"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1673178544,"answer_count":0,"score":0,"last_activity_date":1673179007,"creation_date":1673174696,"question_id":75047133,"body_markdown":"When we create a String using = we create (if it does not exist) a new String literal in the String pool. I know the String pool contains only unique values. \r\n\r\nStep 1:\r\n\r\n```java\r\nString var1 = &quot;Java&quot;;\r\n```\r\n\r\nOK. We now have 1 literal in the String pool and 1 object created in the Heap.\r\nNow if we create String using new String() with the same literal value:\r\n\r\nStep 2:\r\n\r\n```java\r\nString var2 = new String(&quot;Java&quot;);\r\n```\r\n\r\nWe now have 2 different objects created in the heap. \r\nThe main question is: Do both String literals refer to the one in the String pool or do we have one String literal var1 - &quot;Java&quot; and one that&#39;s outside that String pool var2 - &quot;Java&quot;? \r\n\r\nI just want to know do we have one literal or two literals or 1 in the String pool and one outside (waiting to be added to the String pool).","title":"Comparing String literal to String object&#39;s literal in Java","body":"<p>When we create a String using = we create (if it does not exist) a new String literal in the String pool. I know the String pool contains only unique values.</p>\n<p>Step 1:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String var1 = &quot;Java&quot;;\n</code></pre>\n<p>OK. We now have 1 literal in the String pool and 1 object created in the Heap.\nNow if we create String using new String() with the same literal value:</p>\n<p>Step 2:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String var2 = new String(&quot;Java&quot;);\n</code></pre>\n<p>We now have 2 different objects created in the heap.\nThe main question is: Do both String literals refer to the one in the String pool or do we have one String literal var1 - &quot;Java&quot; and one that's outside that String pool var2 - &quot;Java&quot;?</p>\n<p>I just want to know do we have one literal or two literals or 1 in the String pool and one outside (waiting to be added to the String pool).</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":4271183,"reputation":99,"user_id":3492951,"accept_rate":50,"display_name":"Deepak Sharma"},"score":0,"creation_date":1396519957,"post_id":22832671,"comment_id":34829281,"body_markdown":"@KishanSarsechaGajjar Thanks for your suggestion  but my statement order is different from the link you mentioned...","body":"@KishanSarsechaGajjar Thanks for your suggestion  but my statement order is different from the link you mentioned..."}],"answers":[{"tags":[],"owner":{"account_id":243084,"reputation":31440,"user_id":515034,"accept_rate":59,"display_name":"Abimaran Kugathasan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1396516119,"creation_date":1396515759,"answer_id":22832691,"question_id":22832671,"body_markdown":"&gt; In the above programming code ,when string pool get updated?\r\n\r\nThe first statement will update/add to the String pool with `&quot;ABC&quot;` String literal, but create another object in the heap and the variable `s1` will refer the heap object.\r\n\r\nThe second statement will refer the already created Pool String object.\r\n\r\n","title":"Does new String() update the string pool in Java?","body":"<blockquote>\n  <p>In the above programming code ,when string pool get updated?</p>\n</blockquote>\n\n<p>The first statement will update/add to the String pool with <code>\"ABC\"</code> String literal, but create another object in the heap and the variable <code>s1</code> will refer the heap object.</p>\n\n<p>The second statement will refer the already created Pool String object.</p>\n"},{"tags":[],"owner":{"account_id":2660818,"reputation":645,"user_id":2300554,"display_name":"Florescent Ticker"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1396516119,"creation_date":1396516119,"answer_id":22832855,"question_id":22832671,"body_markdown":"    String s = new String(&quot;ABC&quot;);\r\nthis always create a new String object on the heap and add &quot;ABC&quot; to the pool(if not present).\r\n\r\n    String s= &quot;ABC&quot;;\r\nWhereas this line is called string literal. It checks whether the string pool already has the same string &quot;ABC&quot; or not. If present then s will refer to that object otherwise a new object will be created.\r\n\r\nConclusion: new String() will always create a new object and string literal checks the string pool before creating one.","title":"Does new String() update the string pool in Java?","body":"<pre><code>String s = new String(\"ABC\");\n</code></pre>\n\n<p>this always create a new String object on the heap and add \"ABC\" to the pool(if not present).</p>\n\n<pre><code>String s= \"ABC\";\n</code></pre>\n\n<p>Whereas this line is called string literal. It checks whether the string pool already has the same string \"ABC\" or not. If present then s will refer to that object otherwise a new object will be created.</p>\n\n<p>Conclusion: new String() will always create a new object and string literal checks the string pool before creating one.</p>\n"},{"tags":[],"owner":{"account_id":2622304,"reputation":780,"user_id":2270081,"accept_rate":53,"display_name":"Gundamaiah"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1396518856,"creation_date":1396517922,"answer_id":22833604,"question_id":22832671,"body_markdown":"   \r\n   \r\n\r\n     String s1=new String(&quot;ABC&quot;);//creates two objects and one reference variable  \r\n\r\nIn your case, JVM will create a new String object in normal(nonpool) Heap memory and the literal &quot;ABC&quot; will be placed in the string constant pool.The variable s1 will refer to the object in Heap(nonpool). \r\n\r\n\r\n[String Constant Pool][1]\r\n\r\n&gt; String objects created with the new operator do not refer to objects\r\n&gt; in the string pool but can be made to using Strings intern() method.\r\n&gt; The java.lang.String.intern() returns an interned String, that is, one\r\n&gt; that has an entry in the global String literal pool. If the String is\r\n&gt; not already in the global String literal pool, then it will be added.\r\n\r\n![enter image description here][2]\r\n\r\n\r\nWhenever you use new keyword to create String Object,it will create in Heap and then it will check the String Constant Pool for the same String Literal.If SCP doesn&#39;t contain that String literal then Only it will create String literal in the SCP.\r\n\r\n\r\n  [1]: http://theopentutorials.com/tutorials/java/strings/string-literal-pool/\r\n  [2]: http://i.stack.imgur.com/HmWR0.jpg","title":"Does new String() update the string pool in Java?","body":"<pre><code> String s1=new String(\"ABC\");//creates two objects and one reference variable  \n</code></pre>\n\n<p>In your case, JVM will create a new String object in normal(nonpool) Heap memory and the literal \"ABC\" will be placed in the string constant pool.The variable s1 will refer to the object in Heap(nonpool). </p>\n\n<p><a href=\"http://theopentutorials.com/tutorials/java/strings/string-literal-pool/\" rel=\"nofollow noreferrer\">String Constant Pool</a></p>\n\n<blockquote>\n  <p>String objects created with the new operator do not refer to objects\n  in the string pool but can be made to using Strings intern() method.\n  The java.lang.String.intern() returns an interned String, that is, one\n  that has an entry in the global String literal pool. If the String is\n  not already in the global String literal pool, then it will be added.</p>\n</blockquote>\n\n<p><img src=\"https://i.stack.imgur.com/HmWR0.jpg\" alt=\"enter image description here\"></p>\n\n<p>Whenever you use new keyword to create String Object,it will create in Heap and then it will check the String Constant Pool for the same String Literal.If SCP doesn't contain that String literal then Only it will create String literal in the SCP.</p>\n"},{"tags":[],"owner":{"display_name":"user12077627"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654759726,"creation_date":1654759726,"answer_id":72556281,"question_id":22832671,"body_markdown":"Nope. Strings created with the constructor never enter the string pool. \r\nIn the example, two separate objects are created. Therefore:\r\n\r\ns1 != s2\r\n\r\n\r\n\r\n","title":"Does new String() update the string pool in Java?","body":"<p>Nope. Strings created with the constructor never enter the string pool.\nIn the example, two separate objects are created. Therefore:</p>\n<p>s1 != s2</p>\n"}],"owner":{"account_id":4271183,"reputation":99,"user_id":3492951,"accept_rate":50,"display_name":"Deepak Sharma"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4622,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"closed_date":1673178993,"accepted_answer_id":22833604,"answer_count":4,"score":3,"last_activity_date":1673178989,"creation_date":1396515706,"question_id":22832671,"body_markdown":"If I write something like this: \r\n\r\n    String s1 = new String(&quot;ABC&quot;);\r\n    String s2 = &quot;ABC&quot;;\r\n\r\nIn which scenarios does the string pool get updated? The first, second or both?\r\n\r\n","title":"Does new String() update the string pool in Java?","body":"<p>If I write something like this:</p>\n<pre><code>String s1 = new String(&quot;ABC&quot;);\nString s2 = &quot;ABC&quot;;\n</code></pre>\n<p>In which scenarios does the string pool get updated? The first, second or both?</p>\n"},{"tags":["java","amazon-web-services","lambda","header"],"owner":{"account_id":24021030,"reputation":1,"user_id":18003334,"display_name":"Hayk Asatryan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673178776,"creation_date":1673178776,"question_id":75047521,"body_markdown":"I am trying to send a redirection response from AWS lambda to API gateway resource, But unfortunately, Api gateway can not see the headers of my redirection response. Here is my return statement from java based lambda function\r\n\r\n`return APIGatewayV2HTTPResponse httpResponse = APIGatewayV2HTTPResponse.builder()                                                   .withHeaders(                                                       Map.of(&quot;Location&quot;, backEnd, &quot;Code&quot;, idToken,                                                           &quot;Content-Type&quot;, &quot;application/json&quot;))                                                   .withStatusCode(302)                                                   .build();`\r\n\r\n[Configs in Apigateway](https://i.stack.imgur.com/GJ5mb.png)\r\n[Configs in Apigateway](https://i.stack.imgur.com/7DDa4.png)\r\n\r\nIs there anything wrong?\r\n\r\nI tried to add a mapping template like this\r\n\r\n`{   &quot;method&quot;: &quot;$context.httpMethod&quot;,   &quot;body&quot; : $input.json(&#39;$&#39;),   &quot;headers&quot;: {     #foreach($param in $input.params().header.keySet())     &quot;$param&quot;: &quot;$util.escapeJavaScript($input.params().header.get($param))&quot;     #if($foreach.hasNext),#end     #end   } }`\r\n\r\nbut it did not help.","title":"AWS Apigateway can not receive headers from Aws Lambda response","body":"<p>I am trying to send a redirection response from AWS lambda to API gateway resource, But unfortunately, Api gateway can not see the headers of my redirection response. Here is my return statement from java based lambda function</p>\n<p><code>return APIGatewayV2HTTPResponse httpResponse = APIGatewayV2HTTPResponse.builder()                                                   .withHeaders(                                                       Map.of(&quot;Location&quot;, backEnd, &quot;Code&quot;, idToken,                                                           &quot;Content-Type&quot;, &quot;application/json&quot;))                                                   .withStatusCode(302)                                                   .build();</code></p>\n<p><a href=\"https://i.stack.imgur.com/GJ5mb.png\" rel=\"nofollow noreferrer\">Configs in Apigateway</a>\n<a href=\"https://i.stack.imgur.com/7DDa4.png\" rel=\"nofollow noreferrer\">Configs in Apigateway</a></p>\n<p>Is there anything wrong?</p>\n<p>I tried to add a mapping template like this</p>\n<p><code>{   &quot;method&quot;: &quot;$context.httpMethod&quot;,   &quot;body&quot; : $input.json('$'),   &quot;headers&quot;: {     #foreach($param in $input.params().header.keySet())     &quot;$param&quot;: &quot;$util.escapeJavaScript($input.params().header.get($param))&quot;     #if($foreach.hasNext),#end     #end   } }</code></p>\n<p>but it did not help.</p>\n"},{"tags":["java","android","android-linearlayout"],"answers":[{"tags":[],"owner":{"account_id":15714451,"reputation":184,"user_id":20839582,"display_name":"sajidjuneja"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673178338,"creation_date":1673178338,"answer_id":75047472,"question_id":75047431,"body_markdown":"First create a LinearLayout with orientation = vertical then create another LinearLayout inside this with orientation = horizontal with your image and textview. Like this\r\n````\r\n&lt;LinearLayout\r\nandroid:orientation=&quot;vertical&quot;\r\n&gt;\r\n//Your other views\r\n&lt;LinearLayout\r\nandroid:orientation=&quot;horizontal&quot;\r\n&gt;\r\n// Your image and textview\r\n&lt;/LinearLayout&gt;\r\n&lt;/LinearLayout&gt;\r\n````","title":"How to create horizontal layout programmatically in java?","body":"<p>First create a LinearLayout with orientation = vertical then create another LinearLayout inside this with orientation = horizontal with your image and textview. Like this</p>\n<pre><code>&lt;LinearLayout\nandroid:orientation=&quot;vertical&quot;\n&gt;\n//Your other views\n&lt;LinearLayout\nandroid:orientation=&quot;horizontal&quot;\n&gt;\n// Your image and textview\n&lt;/LinearLayout&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n"}],"owner":{"account_id":25610720,"reputation":31,"user_id":19384274,"display_name":"Timur"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1673178534,"creation_date":1673177906,"question_id":75047431,"body_markdown":"I have XML file where I display information using LinearLayout vertical. All what I need to do is to create horizontal LinearLayout and attach there an image and a TextView. Then I need to display this horizontal LinearLayout on my main vertical LinearLayout. How can I do this? I need to do this programmatically in java","title":"How to create horizontal layout programmatically in java?","body":"<p>I have XML file where I display information using LinearLayout vertical. All what I need to do is to create horizontal LinearLayout and attach there an image and a TextView. Then I need to display this horizontal LinearLayout on my main vertical LinearLayout. How can I do this? I need to do this programmatically in java</p>\n"},{"tags":["java","gradle","libgdx"],"answers":[{"tags":[],"owner":{"account_id":1956083,"reputation":4432,"user_id":1759063,"accept_rate":53,"display_name":"Eljah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673178275,"creation_date":1673178275,"answer_id":75047469,"question_id":75047468,"body_markdown":"The error has gone after updating `sourceCompatibility` to 1.8 in all modules.","title":"Unable to build libGDX example https://github.com/libgdx/libgdx-demo-invaders out of box","body":"<p>The error has gone after updating <code>sourceCompatibility</code> to 1.8 in all modules.</p>\n"}],"owner":{"account_id":1956083,"reputation":4432,"user_id":1759063,"accept_rate":53,"display_name":"Eljah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75047469,"answer_count":1,"score":0,"last_activity_date":1673178275,"creation_date":1673178275,"question_id":75047468,"body_markdown":"It is running  with Gradle 6.7.1 from gradle.wrapper and fails with:\r\n\r\n    ./gradlew --gradle-user-home D:\\Java\\.gradle core:compileJava\r\n    Configuration on demand is an incubating feature.\r\n    \r\n    &gt; Configure project :\r\n    WARNING: Configuration &#39;compile&#39; is obsolete and has been replaced with &#39;implementation&#39; and &#39;api&#39;.\r\n    It will be removed in version 5.0 of the Android Gradle plugin.\r\n    For more information, see http://d.android.com/r/tools/update-dependency-configurations.html.\r\n    \r\n    &gt; Task :core:compileJava FAILED\r\n    \r\n    FAILURE: Build failed with an exception.\r\n\r\n    * What went wrong:\r\n    Execution failed for task &#39;:core:compileJava&#39;.\r\n    &gt; Could not resolve all files for configuration &#39;:core:compileClasspath&#39;.\r\n       &gt; Could not resolve com.badlogicgames.gdx:gdx:1.11.0.\r\n         Required by:\r\n             project :core\r\n          &gt; No matching variant of com.badlogicgames.gdx:gdx:1.11.0 was found. The consumer was configured to find an API of a library compatible with Java 6, preferably in the form of class files, and its dependencies declared extern\r\n    ally but:\r\n              - Variant &#39;apiElements&#39; capability com.badlogicgames.gdx:gdx:1.11.0 declares an API of a library, packaged as a jar, and its dependencies declared externally:\r\n                  - Incompatible because this component declares a component compatible with Java 7 and the consumer needed a component compatible with Java 6\r\n              - Variant &#39;javadocElements&#39; capability com.badlogicgames.gdx:gdx:1.11.0 declares a runtime of a component, and its dependencies declared externally:\r\n                  - Incompatible because this component declares documentation and the consumer needed a library\r\n                  - Other compatible attributes:\r\n                      - Doesn&#39;t say anything about its target Java version (required compatibility with Java 6)\r\n                      - Doesn&#39;t say anything about its elements (required them preferably in the form of class files)\r\n              - Variant &#39;runtimeElements&#39; capability com.badlogicgames.gdx:gdx:1.11.0 declares a runtime of a library, packaged as a jar, and its dependencies declared externally:\r\n                  - Incompatible because this component declares a component compatible with Java 7 and the consumer needed a component compatible with Java 6\r\n              - Variant &#39;sourcesElements&#39; capability com.badlogicgames.gdx:gdx:1.11.0 declares a runtime of a component, and its dependencies declared externally:\r\n                  - Incompatible because this component declares documentation and the consumer needed a library\r\n                  - Other compatible attributes:\r\n                      - Doesn&#39;t say anything about its target Java version (required compatibility with Java 6)\r\n                      - Doesn&#39;t say anything about its elements (required them preferably in the form of class files)\r\n    \r\n    * Try:\r\n    Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n    \r\n    * Get more help at https://help.gradle.org\r\n    \r\n    Deprecated Gradle features were used in this build, making it incompatible with Gradle 7.0.\r\n    Use &#39;--warning-mode all&#39; to show the individual deprecation warnings.\r\n    See https://docs.gradle.org/6.7.1/userguide/command_line_interface.html#sec:command_line_warnings\r\n    \r\n    BUILD FAILED in 2s\r\n    1 actionable task: 1 executed\r\n\r\n\r\n","title":"Unable to build libGDX example https://github.com/libgdx/libgdx-demo-invaders out of box","body":"<p>It is running  with Gradle 6.7.1 from gradle.wrapper and fails with:</p>\n<pre><code>./gradlew --gradle-user-home D:\\Java\\.gradle core:compileJava\nConfiguration on demand is an incubating feature.\n\n&gt; Configure project :\nWARNING: Configuration 'compile' is obsolete and has been replaced with 'implementation' and 'api'.\nIt will be removed in version 5.0 of the Android Gradle plugin.\nFor more information, see http://d.android.com/r/tools/update-dependency-configurations.html.\n\n&gt; Task :core:compileJava FAILED\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':core:compileJava'.\n&gt; Could not resolve all files for configuration ':core:compileClasspath'.\n   &gt; Could not resolve com.badlogicgames.gdx:gdx:1.11.0.\n     Required by:\n         project :core\n      &gt; No matching variant of com.badlogicgames.gdx:gdx:1.11.0 was found. The consumer was configured to find an API of a library compatible with Java 6, preferably in the form of class files, and its dependencies declared extern\nally but:\n          - Variant 'apiElements' capability com.badlogicgames.gdx:gdx:1.11.0 declares an API of a library, packaged as a jar, and its dependencies declared externally:\n              - Incompatible because this component declares a component compatible with Java 7 and the consumer needed a component compatible with Java 6\n          - Variant 'javadocElements' capability com.badlogicgames.gdx:gdx:1.11.0 declares a runtime of a component, and its dependencies declared externally:\n              - Incompatible because this component declares documentation and the consumer needed a library\n              - Other compatible attributes:\n                  - Doesn't say anything about its target Java version (required compatibility with Java 6)\n                  - Doesn't say anything about its elements (required them preferably in the form of class files)\n          - Variant 'runtimeElements' capability com.badlogicgames.gdx:gdx:1.11.0 declares a runtime of a library, packaged as a jar, and its dependencies declared externally:\n              - Incompatible because this component declares a component compatible with Java 7 and the consumer needed a component compatible with Java 6\n          - Variant 'sourcesElements' capability com.badlogicgames.gdx:gdx:1.11.0 declares a runtime of a component, and its dependencies declared externally:\n              - Incompatible because this component declares documentation and the consumer needed a library\n              - Other compatible attributes:\n                  - Doesn't say anything about its target Java version (required compatibility with Java 6)\n                  - Doesn't say anything about its elements (required them preferably in the form of class files)\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nDeprecated Gradle features were used in this build, making it incompatible with Gradle 7.0.\nUse '--warning-mode all' to show the individual deprecation warnings.\nSee https://docs.gradle.org/6.7.1/userguide/command_line_interface.html#sec:command_line_warnings\n\nBUILD FAILED in 2s\n1 actionable task: 1 executed\n</code></pre>\n"},{"tags":["java","tomcat","intellij-idea","remote-debugging"],"comments":[{"owner":{"account_id":17693330,"reputation":3781,"user_id":12844632,"display_name":"Egor Klepikov"},"score":0,"creation_date":1673260343,"post_id":75041568,"comment_id":132450371,"body_markdown":"Option A: The message &quot;Connected to the target VM&quot; means that debugger was managed to connect to the server. Try to put breakpoints in the code to see if it works. Ensure that the app you need to debug is launched in debug mode. See also https://www.jetbrains.com/help/idea/tutorial-remote-debug.html","body":"Option A: The message &quot;Connected to the target VM&quot; means that debugger was managed to connect to the server. Try to put breakpoints in the code to see if it works. Ensure that the app you need to debug is launched in debug mode. See also <a href=\"https://www.jetbrains.com/help/idea/tutorial-remote-debug.html\" rel=\"nofollow noreferrer\">jetbrains.com/help/idea/tutorial-remote-debug.html</a>"},{"owner":{"account_id":17693330,"reputation":3781,"user_id":12844632,"display_name":"Egor Klepikov"},"score":0,"creation_date":1673260408,"post_id":75041568,"comment_id":132450393,"body_markdown":"Option B: Please provide a complete TimeoutException stack trace","body":"Option B: Please provide a complete TimeoutException stack trace"}],"owner":{"account_id":27443023,"reputation":11,"user_id":20937397,"display_name":"Andrea"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673178056,"creation_date":1673105817,"question_id":75041568,"body_markdown":"I&#39;ve some problems during configuration of remote Tomcat Server in Intellij\r\nI&#39;ve got a java web app that need to run in a cluster configuration, so I&#39;ve got 3 Linux VMS in which I&#39;ve installed tomcat server.\r\n\r\nThe problem is that I need to use this 3 tomcat servers together in debug mode in order to test and check issues.\r\nI&#39;ve tried some things but I was not able to get a solution.\r\n\r\n---\r\n\r\nOPTION A: configuring Remote JVM Debug:\r\nI&#39;ve tried to configure a Remote JVM Debug on my intellij configuring Catalina to listen to another port (2001) and launch it with the command: `sh catalina.sh jpda start -agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=*:2001` but it stucks on this message &quot;Connected to the target VM, address: &#39;*IP:2001*&#39;, transport: &#39;socket&#39;&quot;\r\n   \r\n---\r\n\r\nOPTION B: remote Tomcat server:\r\nI&#39;ve tried configuring a remote Tomcat server (that is the thing I prefer) configuring remote host with SFTP, but in this case Tomcat service start, it works for some minutes and after that it goes in TimeoutException \r\n[\\[\\](https://i.stack.imgur.com/XmDKx.png)][1]\r\n\r\n\r\nI hope anyone can help me, I read a lot of thing on the internet but no-one works.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/LidfX.png","title":"Error during Intellij idea remote Tomcat Server debug","body":"<p>I've some problems during configuration of remote Tomcat Server in Intellij\nI've got a java web app that need to run in a cluster configuration, so I've got 3 Linux VMS in which I've installed tomcat server.</p>\n<p>The problem is that I need to use this 3 tomcat servers together in debug mode in order to test and check issues.\nI've tried some things but I was not able to get a solution.</p>\n<hr />\n<p>OPTION A: configuring Remote JVM Debug:\nI've tried to configure a Remote JVM Debug on my intellij configuring Catalina to listen to another port (2001) and launch it with the command: <code>sh catalina.sh jpda start -agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=*:2001</code> but it stucks on this message &quot;Connected to the target VM, address: '<em>IP:2001</em>', transport: 'socket'&quot;</p>\n<hr />\n<p>OPTION B: remote Tomcat server:\nI've tried configuring a remote Tomcat server (that is the thing I prefer) configuring remote host with SFTP, but in this case Tomcat service start, it works for some minutes and after that it goes in TimeoutException\n<a href=\"https://i.stack.imgur.com/LidfX.png\" rel=\"nofollow noreferrer\">[](https://i.stack.imgur.com/XmDKx.png)</a></p>\n<p>I hope anyone can help me, I read a lot of thing on the internet but no-one works.</p>\n"},{"tags":["java","android","macros"],"owner":{"account_id":27309046,"reputation":1,"user_id":20954666,"display_name":"TonyTonyChopper"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673178028,"creation_date":1673147777,"question_id":75045281,"body_markdown":"[1]:https://i.stack.imgur.com/22D8d.png\r\n\r\n![1]\r\n\r\nIt is necessary that when you click on the button in the application, the phone turns on this slider. How can this be done in Java? Application made in Android Studio\r\n\r\nI imagine this as a macro that goes into the settings of my phone and switches the slider. I think this is the easiest thing to do","title":"How to change settings in phone via Android Studio SDK?","body":"<p><img src=\"https://i.stack.imgur.com/22D8d.png\" alt=\"1\" /></p>\n<p>It is necessary that when you click on the button in the application, the phone turns on this slider. How can this be done in Java? Application made in Android Studio</p>\n<p>I imagine this as a macro that goes into the settings of my phone and switches the slider. I think this is the easiest thing to do</p>\n"},{"tags":["java","spring","hashicorp-vault","spring-vault"],"answers":[{"tags":[],"owner":{"account_id":16747966,"reputation":11,"user_id":12105703,"display_name":"Flonoff"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673177766,"creation_date":1618493500,"answer_id":67109447,"question_id":67096521,"body_markdown":"After further investigation, the issue was how I instanciated the restTemplate. \r\nI added the spring context library to my project and implemented the *AbstractVaultConfiguration* class. This class contains a *restOperations()* function that solved my problem. \r\n\r\nThis is how I solved the issue : \r\n\r\n    public class AppRoleAuthenticationService extends AbstractVaultConfiguration {\r\n\r\n\tprivate String roleId;\r\n\tprivate String secretId;\r\n\tprivate String host;\r\n\tprivate String scheme;\r\n\tprivate String port;\r\n\r\n\tpublic AppRoleAuthenticationService(String roleId, String secretId, String host, String scheme, String port) {\r\n\t\tthis.roleId = roleId;\r\n\t\tthis.secretId = secretId;\r\n\t\tthis.host = host;\r\n\t\tthis.scheme = scheme;\r\n\t\tthis.port = port;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic VaultEndpoint vaultEndpoint() {\r\n\t\tint portInt = Integer.parseInt(port);\r\n\t\tVaultEndpoint ep = VaultEndpoint.create(host, portInt);\r\n\t\tif (scheme != null) {\r\n\t\t\tep.setScheme(scheme);\r\n\t\t}\r\n\r\n\t\treturn ep;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic ClientAuthentication clientAuthentication() {\r\n\r\n\t\tAppRoleAuthenticationOptions options = AppRoleAuthenticationOptions.builder()\r\n\t\t\t\t.roleId(AppRoleAuthenticationOptions.RoleId.provided(roleId))\r\n\t\t\t\t.secretId(AppRoleAuthenticationOptions.SecretId.provided(secretId)).build();\r\n\r\n\t\treturn new AppRoleAuthentication(options, restOperations());\r\n\t}\r\n\r\n}\r\n\r\nAnd then just use this class : \r\n\r\n```java\r\nAppRoleAuthenticationService appRoleAuth = new AppRoleAuthenticationService(roleId, \r\n      uncryptedSecretId, host, scheme, port);\r\nVaultEndpoint vaultEp = appRoleAuth.vaultEndpoint();\r\nClientAuthentication auth = appRoleAuth.clientAuthentication();\r\n\r\nvaultTemplate = new VaultTemplate(vaultEp, auth);\r\n```","title":"Error with Spring AppRoleAuthentication - URI is not absolute","body":"<p>After further investigation, the issue was how I instanciated the restTemplate.\nI added the spring context library to my project and implemented the <em>AbstractVaultConfiguration</em> class. This class contains a <em>restOperations()</em> function that solved my problem.</p>\n<p>This is how I solved the issue :</p>\n<pre><code>public class AppRoleAuthenticationService extends AbstractVaultConfiguration {\n\nprivate String roleId;\nprivate String secretId;\nprivate String host;\nprivate String scheme;\nprivate String port;\n\npublic AppRoleAuthenticationService(String roleId, String secretId, String host, String scheme, String port) {\n    this.roleId = roleId;\n    this.secretId = secretId;\n    this.host = host;\n    this.scheme = scheme;\n    this.port = port;\n}\n\n@Override\npublic VaultEndpoint vaultEndpoint() {\n    int portInt = Integer.parseInt(port);\n    VaultEndpoint ep = VaultEndpoint.create(host, portInt);\n    if (scheme != null) {\n        ep.setScheme(scheme);\n    }\n\n    return ep;\n}\n\n@Override\npublic ClientAuthentication clientAuthentication() {\n\n    AppRoleAuthenticationOptions options = AppRoleAuthenticationOptions.builder()\n            .roleId(AppRoleAuthenticationOptions.RoleId.provided(roleId))\n            .secretId(AppRoleAuthenticationOptions.SecretId.provided(secretId)).build();\n\n    return new AppRoleAuthentication(options, restOperations());\n}\n</code></pre>\n<p>}</p>\n<p>And then just use this class :</p>\n<pre class=\"lang-java prettyprint-override\"><code>AppRoleAuthenticationService appRoleAuth = new AppRoleAuthenticationService(roleId, \n      uncryptedSecretId, host, scheme, port);\nVaultEndpoint vaultEp = appRoleAuth.vaultEndpoint();\nClientAuthentication auth = appRoleAuth.clientAuthentication();\n\nvaultTemplate = new VaultTemplate(vaultEp, auth);\n</code></pre>\n"}],"owner":{"account_id":16747966,"reputation":11,"user_id":12105703,"display_name":"Flonoff"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":964,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":67109447,"answer_count":1,"score":0,"last_activity_date":1673177766,"creation_date":1618421720,"question_id":67096521,"body_markdown":"I&#39;m trying to retrieve secrets from vault using the AppRole authentication. But I get the error : \r\n&gt; java.lang.IllegalArgumentException: URI is not absolute \r\n\r\nWhat I do is create a vaultEndpoint then depending on the method choosen I use token authentication or AppRole authentication. There&#39;s no issue with the token authentication, however whenever I try to retrive a secret or even get the vaultToken to login with AppRole the *URI is not absolute* error occurs.\r\n\r\nI &#39;ve seen in https://docs.oracle.com/javase/8/docs/api/java/net/URI.html that an URI is absolute when it specifies a scheme otherwise it is relative. But I think that my URI is specifing a scheme.\r\n\r\nSo I&#39;m a bit lost here.\r\nDoes anyone know what I am doing wrong ? Or why I get this error ? \r\n\r\n\r\nI use spring-vault-core-2.2.0.RELEASE\r\n\r\nHere&#39;s my code :\r\n\r\n    VaultEndpoint ep = VaultEndpoint.create(host, portInt);\r\n\t\tif (scheme != null) {\r\n\t\t\tep.setScheme(scheme);\r\n\t\t}\r\n\r\n\t\tif (authMethod.equals(&quot;token&quot;)) {\r\n\t\t\tvaultTemplate = new VaultTemplate(ep, new TokenAuthentication(token));\r\n\r\n\t\t} else if (authMethod.equals(&quot;appRole&quot;)) {\r\n\r\n\t\t\tRestOperations restOperations = VaultClients.createRestTemplate();\r\n\r\n\t\t\tAppRoleAuthenticationOptions options = AppRoleAuthenticationOptions.builder()\r\n\t\t\t\t\t.roleId(AppRoleAuthenticationOptions.RoleId.provided(roleId))\r\n\t\t\t\t\t.secretId(AppRoleAuthenticationOptions.SecretId.wrapped(VaultToken.of(secretId))).build();\r\n\r\n\t\t\tvaultTemplate = new VaultTemplate(ep, new AppRoleAuthentication(options, restOperations));\r\n\t\t}\r\n      }\r\n\r\nI have the same error if I try to get the vaultToken : \r\n\r\n    \t\t\tRestOperations restOperations = VaultClients.createRestTemplate();\r\n\t\t\tAppRoleAuthenticationOptions options = AppRoleAuthenticationOptions.builder()\r\n\t\t\t\t\t.roleId(AppRoleAuthenticationOptions.RoleId.provided(roleId))\r\n\t\t\t\t\t.secretId(AppRoleAuthenticationOptions.SecretId.wrapped(VaultToken.of(uncryptedSecretId))).build();\r\n\r\n\t\t\tAppRoleAuthentication appRoleAuth = new AppRoleAuthentication(options, restOperations);\r\n\t\t\tVaultToken appRoleToken = appRoleAuth.login();\r\n\r\nHere is the error : \r\n\r\n```shell\r\njava.lang.IllegalArgumentException: URI is not absolute\r\n\tat java.net.URI.toURL(Unknown Source)\r\n\tat org.springframework.http.client.SimpleClientHttpRequestFactory.createRequest(SimpleClientHttpRequestFactory.java:145)\r\n\tat org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:98)\r\n\tat org.springframework.vault.client.VaultClients.lambda$createRestTemplate$0(VaultClients.java:128)\r\n\tat org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:93)\r\n\tat org.springframework.http.client.InterceptingClientHttpRequest.executeInternal(InterceptingClientHttpRequest.java:77)\r\n\tat org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)\r\n\tat org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:53)\r\n\tat org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:742)\r\n\tat org.springframework.web.client.RestTemplate.execute(RestTemplate.java:677)\r\n\tat org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:586)\r\n\tat org.springframework.vault.authentication.AppRoleAuthentication.getSecretId(AppRoleAuthentication.java:305)\r\n\tat org.springframework.vault.authentication.AppRoleAuthentication.getAppRoleLoginBody(AppRoleAuthentication.java:344)\r\n\tat org.springframework.vault.authentication.AppRoleAuthentication.createTokenUsingAppRole(AppRoleAuthentication.java:201)\r\n\tat org.springframework.vault.authentication.AppRoleAuthentication.login(AppRoleAuthentication.java:191)\r\n```","title":"Error with Spring AppRoleAuthentication - URI is not absolute","body":"<p>I'm trying to retrieve secrets from vault using the AppRole authentication. But I get the error :</p>\n<blockquote>\n<p>java.lang.IllegalArgumentException: URI is not absolute</p>\n</blockquote>\n<p>What I do is create a vaultEndpoint then depending on the method choosen I use token authentication or AppRole authentication. There's no issue with the token authentication, however whenever I try to retrive a secret or even get the vaultToken to login with AppRole the <em>URI is not absolute</em> error occurs.</p>\n<p>I 've seen in <a href=\"https://docs.oracle.com/javase/8/docs/api/java/net/URI.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/net/URI.html</a> that an URI is absolute when it specifies a scheme otherwise it is relative. But I think that my URI is specifing a scheme.</p>\n<p>So I'm a bit lost here.\nDoes anyone know what I am doing wrong ? Or why I get this error ?</p>\n<p>I use spring-vault-core-2.2.0.RELEASE</p>\n<p>Here's my code :</p>\n<pre><code>VaultEndpoint ep = VaultEndpoint.create(host, portInt);\n    if (scheme != null) {\n        ep.setScheme(scheme);\n    }\n\n    if (authMethod.equals(&quot;token&quot;)) {\n        vaultTemplate = new VaultTemplate(ep, new TokenAuthentication(token));\n\n    } else if (authMethod.equals(&quot;appRole&quot;)) {\n\n        RestOperations restOperations = VaultClients.createRestTemplate();\n\n        AppRoleAuthenticationOptions options = AppRoleAuthenticationOptions.builder()\n                .roleId(AppRoleAuthenticationOptions.RoleId.provided(roleId))\n                .secretId(AppRoleAuthenticationOptions.SecretId.wrapped(VaultToken.of(secretId))).build();\n\n        vaultTemplate = new VaultTemplate(ep, new AppRoleAuthentication(options, restOperations));\n    }\n  }\n</code></pre>\n<p>I have the same error if I try to get the vaultToken :</p>\n<pre><code>            RestOperations restOperations = VaultClients.createRestTemplate();\n        AppRoleAuthenticationOptions options = AppRoleAuthenticationOptions.builder()\n                .roleId(AppRoleAuthenticationOptions.RoleId.provided(roleId))\n                .secretId(AppRoleAuthenticationOptions.SecretId.wrapped(VaultToken.of(uncryptedSecretId))).build();\n\n        AppRoleAuthentication appRoleAuth = new AppRoleAuthentication(options, restOperations);\n        VaultToken appRoleToken = appRoleAuth.login();\n</code></pre>\n<p>Here is the error :</p>\n<pre class=\"lang-bash prettyprint-override\"><code>java.lang.IllegalArgumentException: URI is not absolute\n    at java.net.URI.toURL(Unknown Source)\n    at org.springframework.http.client.SimpleClientHttpRequestFactory.createRequest(SimpleClientHttpRequestFactory.java:145)\n    at org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:98)\n    at org.springframework.vault.client.VaultClients.lambda$createRestTemplate$0(VaultClients.java:128)\n    at org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:93)\n    at org.springframework.http.client.InterceptingClientHttpRequest.executeInternal(InterceptingClientHttpRequest.java:77)\n    at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)\n    at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:53)\n    at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:742)\n    at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:677)\n    at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:586)\n    at org.springframework.vault.authentication.AppRoleAuthentication.getSecretId(AppRoleAuthentication.java:305)\n    at org.springframework.vault.authentication.AppRoleAuthentication.getAppRoleLoginBody(AppRoleAuthentication.java:344)\n    at org.springframework.vault.authentication.AppRoleAuthentication.createTokenUsingAppRole(AppRoleAuthentication.java:201)\n    at org.springframework.vault.authentication.AppRoleAuthentication.login(AppRoleAuthentication.java:191)\n</code></pre>\n"},{"tags":["java","spring","spring-context"],"answers":[{"tags":[],"owner":{"account_id":27465465,"reputation":1,"user_id":20955255,"display_name":"Ajay Patidar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673153926,"creation_date":1673148793,"answer_id":75045330,"question_id":75045022,"body_markdown":"I am able to resolve the errors by following below steps\r\n\r\n1. Right click on pom.xml -&gt; maven-&gt;Reload Project\r\nalso i have tried (Load Maven Changes option) with other dependencies \r\n2. Added imports \r\nimport org.springframework.context.annotation.AnnotationConfigApplicationContext;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\n\r\nwith these steps no more error now.\r\n\r\nLearning: Need to properly add imports and dependencies for spring projects","title":"Getting errors ( can not resolve @Configuration, @Bean, AnnotaionConfigApplicationContext) in loading spring-context version in intelij idea","body":"<p>I am able to resolve the errors by following below steps</p>\n<ol>\n<li>Right click on pom.xml -&gt; maven-&gt;Reload Project\nalso i have tried (Load Maven Changes option) with other dependencies</li>\n<li>Added imports\nimport org.springframework.context.annotation.AnnotationConfigApplicationContext;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;</li>\n</ol>\n<p>with these steps no more error now.</p>\n<p>Learning: Need to properly add imports and dependencies for spring projects</p>\n"}],"owner":{"account_id":27465465,"reputation":1,"user_id":20955255,"display_name":"Ajay Patidar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673177464,"creation_date":1673142433,"question_id":75045022,"body_markdown":"I am learning Spring and trying to practice the example from a book.\r\n\r\nin pom.xml i have used dependency as below.\r\nwhile i am using the annotations and classes which are related to spring-context, it says error can not resolve the values (@Configuration, @Bean, AnnotaionConfigApplicationContext)\r\n\r\nPlease suggest how to resolve and move ahead.\r\n\r\nin pom.xml itself the version tag is with error\r\n\r\npom.xml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;SpringLearning&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n            &lt;version&gt;5.2.6.RELEASE&lt;/version&gt; !-- this is RED highlighted &quot;dependency not found&quot; \r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nClasses\r\n\r\n```\r\n@Configuration\r\npublic class MyConfig {\r\n\r\n    @Bean\r\n    public Parrot parrot() {\r\n        var p = new Parrot();\r\n        p.setName(&quot;abc&quot;);\r\n        return p;\r\n    }\r\n}\r\n```\r\n\r\nmain class\r\n\r\n```\r\npublic class Main {\r\n\r\n    public static void main(String[] args) {\r\n        var context = new AnnotaionConfigApplicationContext();\r\n        Parrot p = new Parrot();\r\n    }\r\n}\r\n\r\n```\r\n\r\n```\r\npublic class Parrot {\r\n    private String name;\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n}\r\n\r\n```\r\n\r\nI tried changing the versions like 6.0.3 referring from spring.io but similar error.\r\ntried searching the resolution online but no clues yet hence writing here.","title":"Getting errors ( can not resolve @Configuration, @Bean, AnnotaionConfigApplicationContext) in loading spring-context version in intelij idea","body":"<p>I am learning Spring and trying to practice the example from a book.</p>\n<p>in pom.xml i have used dependency as below.\nwhile i am using the annotations and classes which are related to spring-context, it says error can not resolve the values (@Configuration, @Bean, AnnotaionConfigApplicationContext)</p>\n<p>Please suggest how to resolve and move ahead.</p>\n<p>in pom.xml itself the version tag is with error</p>\n<p>pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\n    &lt;artifactId&gt;SpringLearning&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n            &lt;version&gt;5.2.6.RELEASE&lt;/version&gt; !-- this is RED highlighted &quot;dependency not found&quot; \n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Classes</p>\n<pre><code>@Configuration\npublic class MyConfig {\n\n    @Bean\n    public Parrot parrot() {\n        var p = new Parrot();\n        p.setName(&quot;abc&quot;);\n        return p;\n    }\n}\n</code></pre>\n<p>main class</p>\n<pre><code>public class Main {\n\n    public static void main(String[] args) {\n        var context = new AnnotaionConfigApplicationContext();\n        Parrot p = new Parrot();\n    }\n}\n\n</code></pre>\n<pre><code>public class Parrot {\n    private String name;\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n}\n\n</code></pre>\n<p>I tried changing the versions like 6.0.3 referring from spring.io but similar error.\ntried searching the resolution online but no clues yet hence writing here.</p>\n"},{"tags":["java","spring-boot","qualifiers"],"answers":[{"tags":[],"owner":{"account_id":9176602,"reputation":26,"user_id":14393863,"display_name":"hariprasad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673173991,"creation_date":1673173991,"answer_id":75047055,"question_id":75046995,"body_markdown":"TodoRepo.java - extends JPA repo with &lt;TodoItem, Integer&gt;\r\n\r\nHere TodoItem is an interface. Springboot JPA gets confused about which entity it is going to handle(two class implements the TodItem interface). Instead of Interface, declaring a specified entity class won&#39;t throw the error.","title":"How do I use Qualifiers in Spring boot","body":"<p>TodoRepo.java - extends JPA repo with &lt;TodoItem, Integer&gt;</p>\n<p>Here TodoItem is an interface. Springboot JPA gets confused about which entity it is going to handle(two class implements the TodItem interface). Instead of Interface, declaring a specified entity class won't throw the error.</p>\n"},{"tags":[],"owner":{"account_id":17875756,"reputation":106,"user_id":12985876,"display_name":"Taras"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1673176407,"creation_date":1673176407,"answer_id":75047304,"question_id":75046995,"body_markdown":"I think you need to create two different repositories. And then you can use the @Autowired annotation to inject the desired bean into your controller. \r\n\r\nThis will inject the appropriate repository implementation (TodoType1Repo or TodoType2Repo) into your controller based on the value of the @Qualifier annotation.\r\n\r\nmore about @Qualifier https://www.baeldung.com/spring-qualifier-annotation\r\n\r\n    @Qualifier(&quot;todoType1Repo&quot;)\r\n    @Repository\r\n    public class TodoType1Repo extends JpaRepository&lt;TodoType1, Integer&gt; {}\r\n    \r\n    @Qualifier(&quot;todoType2Repo&quot;)\r\n    @Repository\r\n    public class TodoType2Repo extends JpaRepository&lt;TodoType2, Integer&gt; {}\r\n    \r\n      \r\n    @Autowired\r\n    @Qualifier(&quot;todoType1Repo&quot;)\r\n    private TodoRepo todoType1Repo;\r\n    \r\n    @Autowired\r\n    @Qualifier(&quot;todoType2Repo&quot;)\r\n    private TodoRepo todoType2Repo;\r\n    \r\n    public void handleRequest1() {\r\n      // Use todoType1Repo to perform CRUD operations on TodoType1 objects\r\n    }\r\n    \r\n    public void handleRequest2() {\r\n      // Use todoType2Repo to perform CRUD operations on TodoType2 objects\r\n    }","title":"How do I use Qualifiers in Spring boot","body":"<p>I think you need to create two different repositories. And then you can use the @Autowired annotation to inject the desired bean into your controller.</p>\n<p>This will inject the appropriate repository implementation (TodoType1Repo or TodoType2Repo) into your controller based on the value of the @Qualifier annotation.</p>\n<p>more about @Qualifier <a href=\"https://www.baeldung.com/spring-qualifier-annotation\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-qualifier-annotation</a></p>\n<pre><code>@Qualifier(&quot;todoType1Repo&quot;)\n@Repository\npublic class TodoType1Repo extends JpaRepository&lt;TodoType1, Integer&gt; {}\n\n@Qualifier(&quot;todoType2Repo&quot;)\n@Repository\npublic class TodoType2Repo extends JpaRepository&lt;TodoType2, Integer&gt; {}\n\n  \n@Autowired\n@Qualifier(&quot;todoType1Repo&quot;)\nprivate TodoRepo todoType1Repo;\n\n@Autowired\n@Qualifier(&quot;todoType2Repo&quot;)\nprivate TodoRepo todoType2Repo;\n\npublic void handleRequest1() {\n  // Use todoType1Repo to perform CRUD operations on TodoType1 objects\n}\n\npublic void handleRequest2() {\n  // Use todoType2Repo to perform CRUD operations on TodoType2 objects\n}\n</code></pre>\n"}],"owner":{"account_id":17416736,"reputation":72,"user_id":12622973,"display_name":"S VAIBHAVE"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":275,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1673176407,"creation_date":1673173302,"question_id":75046995,"body_markdown":"This is my project structure\r\n\r\nMODEL \r\n   \r\n\r\n 1. TodoItem.java - this is an interface    \r\n 2. TodoType1  - this implements the interface     \r\n 3. TodoType2 - this implements the interface\r\n\r\nRepo\r\n   \r\n\r\n 1. TodoRepo.java - extends JPA repo with &lt;TodoItem, Integer&gt;\r\n\r\nController (uses the TodoRepo for CRUD operations)\r\n   \r\n \r\n 1. request 1 - needs to work with todotype1     \r\n 2. request 2 - needs to work with todotype2\r\n\r\nI am a bit confused, how should i go about using qualifiers here? Should I create different Repositories for each type? ","title":"How do I use Qualifiers in Spring boot","body":"<p>This is my project structure</p>\n<p>MODEL</p>\n<ol>\n<li>TodoItem.java - this is an interface</li>\n<li>TodoType1  - this implements the interface</li>\n<li>TodoType2 - this implements the interface</li>\n</ol>\n<p>Repo</p>\n<ol>\n<li>TodoRepo.java - extends JPA repo with &lt;TodoItem, Integer&gt;</li>\n</ol>\n<p>Controller (uses the TodoRepo for CRUD operations)</p>\n<ol>\n<li>request 1 - needs to work with todotype1</li>\n<li>request 2 - needs to work with todotype2</li>\n</ol>\n<p>I am a bit confused, how should i go about using qualifiers here? Should I create different Repositories for each type?</p>\n"},{"tags":["java","xml","exception","edi","smooks"],"answers":[{"tags":[],"owner":{"account_id":451283,"reputation":489,"user_id":847102,"accept_rate":75,"display_name":"Claude"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673176115,"creation_date":1673174294,"answer_id":75047086,"question_id":74738839,"body_markdown":"You are missing a newline at the end of the EDI document hence the error. For some reason, the newline isn&#39;t rendered when [viewing the example file from GitHub][1] but it&#39;s present when you view it locally.\r\n\r\n  [1]: https://github.com/smooks/smooks-examples/blob/master/edi-to-java/input-message.edi#L4","title":"Parse error while converting edi to java?","body":"<p>You are missing a newline at the end of the EDI document hence the error. For some reason, the newline isn't rendered when <a href=\"https://github.com/smooks/smooks-examples/blob/master/edi-to-java/input-message.edi#L4\" rel=\"nofollow noreferrer\">viewing the example file from GitHub</a> but it's present when you view it locally.</p>\n"}],"owner":{"account_id":27172946,"reputation":1,"user_id":20709338,"display_name":"Pooja"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673176115,"creation_date":1670558946,"question_id":74738839,"body_markdown":"I am trying to convert EDI data format to java. \r\n\r\nThe EDI data is as follows\r\n\r\n```\r\nHDR*1*0*59.97*64.92*4.95*Wed Nov 15 13:45:28 EST 2006\r\nCUS*user1*Harry^Fletcher*SD\r\nORD*1*1*364*The 40-Year-Old Virgin*29.98\r\nORD*2*1*299*Pulp Fiction*29.99\r\n```\r\n\r\nI have referred to the folllowing [link][1] while implementing this.\r\n\r\nWhile executing the project, getting the below error:\r\n\r\n```\r\nCaused by: org.smooks.api.SmooksException: Parse Error: Failed to populate order-item[2]. Cause: Parse Error: Terminator &#39;%NL;&#39; not found\r\n```\r\n\r\n\r\n\r\n\r\nI tired executing the mentioned project, wanted data formatted to be java object.\r\nBut ended up with the below error \r\n\r\n```\r\nCaused by: org.smooks.api.SmooksException: Parse Error: Failed to populate order-item[2]. Cause: Parse Error: Terminator &#39;%NL;&#39; not found\r\n\r\n```\r\n\r\n\r\n  [1]: https://github.com/smooks/smooks-examples/tree/master/edi-to-java","title":"Parse error while converting edi to java?","body":"<p>I am trying to convert EDI data format to java.</p>\n<p>The EDI data is as follows</p>\n<pre><code>HDR*1*0*59.97*64.92*4.95*Wed Nov 15 13:45:28 EST 2006\nCUS*user1*Harry^Fletcher*SD\nORD*1*1*364*The 40-Year-Old Virgin*29.98\nORD*2*1*299*Pulp Fiction*29.99\n</code></pre>\n<p>I have referred to the folllowing <a href=\"https://github.com/smooks/smooks-examples/tree/master/edi-to-java\" rel=\"nofollow noreferrer\">link</a> while implementing this.</p>\n<p>While executing the project, getting the below error:</p>\n<pre><code>Caused by: org.smooks.api.SmooksException: Parse Error: Failed to populate order-item[2]. Cause: Parse Error: Terminator '%NL;' not found\n</code></pre>\n<p>I tired executing the mentioned project, wanted data formatted to be java object.\nBut ended up with the below error</p>\n<pre><code>Caused by: org.smooks.api.SmooksException: Parse Error: Failed to populate order-item[2]. Cause: Parse Error: Terminator '%NL;' not found\n\n</code></pre>\n"},{"tags":["java","android","xml"],"owner":{"account_id":21457695,"reputation":3,"user_id":17337697,"display_name":"Akshay Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673174335,"creation_date":1673174335,"question_id":75047093,"body_markdown":"setOnItemClickListener not working with custom Item. I wanna transition from one Activity to another by clicking ListView item\r\n\r\n# Here is my java code\r\n\r\n```\r\nSimpleCursorAdapter simpleCursorAdapter = dbHandler.ShowTransaction();\r\n        transactionListView = findViewById(R.id.transaction_list);\r\n        transactionListView.setAdapter(simpleCursorAdapter);\r\n        transactionListView.setOnItemClickListener(new AdapterView.OnItemClickListener() {\r\n            @Override\r\n            public void onItemClick(AdapterView&lt;?&gt; adapterView, View view, int i, long l) {\r\n                Cursor cursor = (Cursor) simpleCursorAdapter.getItem(i);\r\n                int _id = cursor.getInt(0);\r\n                String _variable = cursor.getString(1);\r\n                float _amount = cursor.getFloat(2);\r\n                Intent intent = new Intent(TransactionDisplayActivity.this,UpdateTransaction.class);\r\n                intent.putExtra(&quot;id&quot;, _id);\r\n                intent.putExtra(&quot;money&quot;, _amount);\r\n                intent.putExtra(&quot;v_name&quot;, _variable);\r\n                startActivity(intent);\r\n            }\r\n        });\r\n\r\n```\r\n\r\n# Here is my xml\r\n\r\n\r\n```\r\n&lt;ListView\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:id=&quot;@+id/transaction_list&quot;\r\n        android:divider=&quot;@null&quot;\r\n        android:clickable=&quot;true&quot;\r\n        android:focusable=&quot;false&quot;\r\n        android:focusableInTouchMode=&quot;false&quot;\r\n        android:dividerHeight=&quot;40dp&quot;\r\n        android:smoothScrollbar=&quot;true&quot;/&gt;\r\n```\r\n\r\n# Here is the custom list-view item\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    android:orientation=&quot;horizontal&quot;\r\n    android:layout_margin=&quot;10dp&quot;\r\n    android:gravity=&quot;center_horizontal&quot;&gt;\r\n\r\n    &lt;com.google.android.material.card.MaterialCardView\r\n        android:layout_width=&quot;60dp&quot;\r\n        android:layout_height=&quot;75dp&quot;\r\n        android:backgroundTint=&quot;@color/orange&quot;\r\n        app:cardCornerRadius=&quot;20dp&quot;&gt;\r\n\r\n        &lt;com.google.android.material.imageview.ShapeableImageView\r\n            android:layout_width=&quot;48dp&quot;\r\n            android:layout_height=&quot;48dp&quot;\r\n            android:src=&quot;@drawable/payments_48px&quot;\r\n            android:layout_gravity=&quot;center&quot;/&gt;\r\n\r\n    &lt;/com.google.android.material.card.MaterialCardView&gt;\r\n    \r\n    &lt;LinearLayout\r\n        android:layout_width=&quot;170dp&quot;\r\n        android:layout_height=&quot;75dp&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        android:layout_marginLeft=&quot;20dp&quot;\r\n        android:gravity=&quot;center&quot;&gt;\r\n\r\n        &lt;TextView\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;Spotify&quot;\r\n            android:id=&quot;@+id/transaction_name_display&quot;\r\n            android:textSize=&quot;18sp&quot;/&gt;\r\n\r\n        &lt;TextView\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;sdfasdffdsdfsdfsdf dsfsdfdf&quot;\r\n            android:id=&quot;@+id/date_display&quot;\r\n            android:layout_marginTop=&quot;10dp&quot;/&gt;\r\n\r\n    &lt;/LinearLayout&gt;\r\n\r\n    &lt;com.google.android.material.chip.Chip\r\n        android:layout_width=&quot;80dp&quot;\r\n        android:layout_height=&quot;40dp&quot;\r\n        android:layout_marginLeft=&quot;20dp&quot;\r\n        android:layout_marginTop=&quot;15dp&quot;\r\n        android:text=&quot;150&quot;\r\n        android:id=&quot;@+id/amount_display&quot;\r\n        android:textAlignment=&quot;center&quot;\r\n        app:chipBackgroundColor=&quot;@color/yellow&quot;/&gt;\r\n\r\n    &lt;TextView\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;1&quot;\r\n        android:id=&quot;@+id/id_display&quot;\r\n        android:layout_marginTop=&quot;10dp&quot;\r\n        android:visibility=&quot;gone&quot;/&gt;\r\n\r\n&lt;/LinearLayout&gt;\r\n```\r\n\r\n\r\n\r\nI made a custom item for list-view. I wanted to make something happen by clicking on listview item but I don&#39;t know why its not working","title":"setOnItemClickListener not working in list view","body":"<p>setOnItemClickListener not working with custom Item. I wanna transition from one Activity to another by clicking ListView item</p>\n<h1>Here is my java code</h1>\n<pre><code>SimpleCursorAdapter simpleCursorAdapter = dbHandler.ShowTransaction();\n        transactionListView = findViewById(R.id.transaction_list);\n        transactionListView.setAdapter(simpleCursorAdapter);\n        transactionListView.setOnItemClickListener(new AdapterView.OnItemClickListener() {\n            @Override\n            public void onItemClick(AdapterView&lt;?&gt; adapterView, View view, int i, long l) {\n                Cursor cursor = (Cursor) simpleCursorAdapter.getItem(i);\n                int _id = cursor.getInt(0);\n                String _variable = cursor.getString(1);\n                float _amount = cursor.getFloat(2);\n                Intent intent = new Intent(TransactionDisplayActivity.this,UpdateTransaction.class);\n                intent.putExtra(&quot;id&quot;, _id);\n                intent.putExtra(&quot;money&quot;, _amount);\n                intent.putExtra(&quot;v_name&quot;, _variable);\n                startActivity(intent);\n            }\n        });\n\n</code></pre>\n<h1>Here is my xml</h1>\n<pre><code>&lt;ListView\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:id=&quot;@+id/transaction_list&quot;\n        android:divider=&quot;@null&quot;\n        android:clickable=&quot;true&quot;\n        android:focusable=&quot;false&quot;\n        android:focusableInTouchMode=&quot;false&quot;\n        android:dividerHeight=&quot;40dp&quot;\n        android:smoothScrollbar=&quot;true&quot;/&gt;\n</code></pre>\n<h1>Here is the custom list-view item</h1>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:orientation=&quot;horizontal&quot;\n    android:layout_margin=&quot;10dp&quot;\n    android:gravity=&quot;center_horizontal&quot;&gt;\n\n    &lt;com.google.android.material.card.MaterialCardView\n        android:layout_width=&quot;60dp&quot;\n        android:layout_height=&quot;75dp&quot;\n        android:backgroundTint=&quot;@color/orange&quot;\n        app:cardCornerRadius=&quot;20dp&quot;&gt;\n\n        &lt;com.google.android.material.imageview.ShapeableImageView\n            android:layout_width=&quot;48dp&quot;\n            android:layout_height=&quot;48dp&quot;\n            android:src=&quot;@drawable/payments_48px&quot;\n            android:layout_gravity=&quot;center&quot;/&gt;\n\n    &lt;/com.google.android.material.card.MaterialCardView&gt;\n    \n    &lt;LinearLayout\n        android:layout_width=&quot;170dp&quot;\n        android:layout_height=&quot;75dp&quot;\n        android:orientation=&quot;vertical&quot;\n        android:layout_marginLeft=&quot;20dp&quot;\n        android:gravity=&quot;center&quot;&gt;\n\n        &lt;TextView\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;Spotify&quot;\n            android:id=&quot;@+id/transaction_name_display&quot;\n            android:textSize=&quot;18sp&quot;/&gt;\n\n        &lt;TextView\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;sdfasdffdsdfsdfsdf dsfsdfdf&quot;\n            android:id=&quot;@+id/date_display&quot;\n            android:layout_marginTop=&quot;10dp&quot;/&gt;\n\n    &lt;/LinearLayout&gt;\n\n    &lt;com.google.android.material.chip.Chip\n        android:layout_width=&quot;80dp&quot;\n        android:layout_height=&quot;40dp&quot;\n        android:layout_marginLeft=&quot;20dp&quot;\n        android:layout_marginTop=&quot;15dp&quot;\n        android:text=&quot;150&quot;\n        android:id=&quot;@+id/amount_display&quot;\n        android:textAlignment=&quot;center&quot;\n        app:chipBackgroundColor=&quot;@color/yellow&quot;/&gt;\n\n    &lt;TextView\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;1&quot;\n        android:id=&quot;@+id/id_display&quot;\n        android:layout_marginTop=&quot;10dp&quot;\n        android:visibility=&quot;gone&quot;/&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>I made a custom item for list-view. I wanted to make something happen by clicking on listview item but I don't know why its not working</p>\n"},{"tags":["java","arrays","collections","hashmap","maps"],"comments":[{"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"score":0,"creation_date":1673168965,"post_id":75046510,"comment_id":132434150,"body_markdown":"You know you can&#39;t have duplicated keys, but you want duplicated keys: that&#39;s hard. What you can have is `{value1: [key1, key2], value2: [key3]}`","body":"You know you can&#39;t have duplicated keys, but you want duplicated keys: that&#39;s hard. What you can have is <code>{value1: [key1, key2], value2: [key3]}</code>"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1673169008,"post_id":75046510,"comment_id":132434160,"body_markdown":"Or you can use a multimap structure, like [Guava](https://guava.dev/releases/23.0/api/docs/com/google/common/collect/Multimap.html) offers.","body":"Or you can use a multimap structure, like <a href=\"https://guava.dev/releases/23.0/api/docs/com/google/common/collect/Multimap.html\" rel=\"nofollow noreferrer\">Guava</a> offers."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1673172353,"post_id":75046510,"comment_id":132434651,"body_markdown":"What you want is a tuple, not a map entry. Java doesn&#39;t have such a class, but you could go 3rd party or make your own","body":"What you want is a tuple, not a map entry. Java doesn&#39;t have such a class, but you could go 3rd party or make your own"}],"answers":[{"tags":[],"owner":{"account_id":26044286,"reputation":21,"user_id":19748514,"display_name":"raghava narasimman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673171733,"creation_date":1673171733,"answer_id":75046866,"question_id":75046510,"body_markdown":"you can&#39;t.,\r\nkeys cant be duplicates\r\n\r\n1st you are assigning value1=key1\r\n\r\n2n time when u assign value1= key2\r\n\r\n&quot;key1&quot; is replaced by &quot;key2&quot;","title":"How to Inverse a Map with Duplicate Keys/Values","body":"<p>you can't.,\nkeys cant be duplicates</p>\n<p>1st you are assigning value1=key1</p>\n<p>2n time when u assign value1= key2</p>\n<p>&quot;key1&quot; is replaced by &quot;key2&quot;</p>\n"},{"tags":[],"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673173688,"creation_date":1673173688,"answer_id":75047029,"question_id":75046510,"body_markdown":"Picking up on @shmosel&#39;s idea of using Guava:\r\n\r\n```java\r\nMultimap&lt;String, String&gt; inverseMap = ImmutableListMultimap.copyOf(map.entrySet()).inverse();\r\nSystem.out.println(inverseMap);\r\nSystem.out.println(inverseMap.entries());\r\n```\r\nThis prints:\r\n```none\r\n{value1=[key1, key2], value2=[key3]}\r\n[value1=key1, value1=key2, value2=key3]\r\n```\r\nA [Multimap][1] is\r\n&gt;A collection that maps keys to values, similar to Map, but in which each key may be associated with multiple values.\r\n\r\n  [1]: https://javadoc.io/doc/com.google.guava/guava/latest/com/google/common/collect/Multimap.html","title":"How to Inverse a Map with Duplicate Keys/Values","body":"<p>Picking up on @shmosel's idea of using Guava:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Multimap&lt;String, String&gt; inverseMap = ImmutableListMultimap.copyOf(map.entrySet()).inverse();\nSystem.out.println(inverseMap);\nSystem.out.println(inverseMap.entries());\n</code></pre>\n<p>This prints:</p>\n<pre class=\"lang-none prettyprint-override\"><code>{value1=[key1, key2], value2=[key3]}\n[value1=key1, value1=key2, value2=key3]\n</code></pre>\n<p>A <a href=\"https://javadoc.io/doc/com.google.guava/guava/latest/com/google/common/collect/Multimap.html\" rel=\"nofollow noreferrer\">Multimap</a> is</p>\n<blockquote>\n<p>A collection that maps keys to values, similar to Map, but in which each key may be associated with multiple values.</p>\n</blockquote>\n"}],"owner":{"account_id":21976362,"reputation":19,"user_id":16252121,"display_name":"Rahul Maurya"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":180,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1673173688,"creation_date":1673167957,"question_id":75046510,"body_markdown":"I have a map with duplicate values and different keys. I want to reverse a map but want to retain the values associated to keys. It&#39;ll be more clear from below:\r\n\r\nOriginal Map - \r\n\r\n    {key1=value1, key2=value1, key3=value2}\r\n\r\nExpected Output - \r\n\r\n    {value1=key1, value1=Key2, value2=key3}\r\n\r\n&lt;!-- --&gt;\r\n        \r\n        Map&lt;String, String&gt; map = new HashMap&lt;&gt;();\r\n\t\tmap.put(&quot;key1&quot;,&quot;value1&quot;);\r\n\t\tmap.put(&quot;key2&quot;,&quot;value1&quot;);\r\n        map.put(&quot;key3&quot;,&quot;value2&quot;);\r\n \r\n\t\tSystem.out.println(map);\r\n\t\t\r\n\t\tMap&lt;String, String&gt; inverseMap = MapUtils.invertMap(map); \r\n\t\tSystem.out.println(inverseMap);\r\n\r\nI am getting only `{value1=key2, value2=key3}` as duplicate keys are not allowed in maps. So is there any way get the expected output. \r\n\r\nThanks in Advance!","title":"How to Inverse a Map with Duplicate Keys/Values","body":"<p>I have a map with duplicate values and different keys. I want to reverse a map but want to retain the values associated to keys. It'll be more clear from below:</p>\n<p>Original Map -</p>\n<pre><code>{key1=value1, key2=value1, key3=value2}\n</code></pre>\n<p>Expected Output -</p>\n<pre><code>{value1=key1, value1=Key2, value2=key3}\n</code></pre>\n\n<pre><code>    Map&lt;String, String&gt; map = new HashMap&lt;&gt;();\n    map.put(&quot;key1&quot;,&quot;value1&quot;);\n    map.put(&quot;key2&quot;,&quot;value1&quot;);\n    map.put(&quot;key3&quot;,&quot;value2&quot;);\n\n    System.out.println(map);\n    \n    Map&lt;String, String&gt; inverseMap = MapUtils.invertMap(map); \n    System.out.println(inverseMap);\n</code></pre>\n<p>I am getting only <code>{value1=key2, value2=key3}</code> as duplicate keys are not allowed in maps. So is there any way get the expected output.</p>\n<p>Thanks in Advance!</p>\n"},{"tags":["java","multithreading","algorithm","performance","loops"],"comments":[{"owner":{"account_id":370994,"reputation":35154,"user_id":719263,"accept_rate":100,"display_name":"Jean-Baptiste Yun&#232;s"},"score":0,"creation_date":1673026740,"post_id":75031864,"comment_id":132412426,"body_markdown":"Use `RecursiveTask`, which is appropriate for such a problem. It is based on the `ForkJoinPool` threading, which will create all necessary thread for you.","body":"Use <code>RecursiveTask</code>, which is appropriate for such a problem. It is based on the <code>ForkJoinPool</code> threading, which will create all necessary thread for you."}],"answers":[{"tags":[],"owner":{"account_id":5168089,"reputation":26671,"user_id":4137489,"accept_rate":100,"display_name":"marstran"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1673172989,"creation_date":1673013820,"answer_id":75031948,"question_id":75031864,"body_markdown":"This particular use-case fits very well for a parallel stream. See [tutorial by Oracle][1]. Use [`java.util.stream.LongStream`][2] class for a stream of 64-bit `long` integers. \r\n\r\nYou can implement it like this:\r\n\r\n```java\r\nlong sum = LongStream.rangeClosed(a, b)\r\n    .parallel()\r\n    .map(n -&gt; f(n))\r\n    .sum();\r\n\r\nSystem.out.println(sum);\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/collections/streams/parallelism.html\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/LongStream.html","title":"Generally multithreading a for loop in Java","body":"<p>This particular use-case fits very well for a parallel stream. See <a href=\"https://docs.oracle.com/javase/tutorial/collections/streams/parallelism.html\" rel=\"nofollow noreferrer\">tutorial by Oracle</a>. Use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/LongStream.html\" rel=\"nofollow noreferrer\"><code>java.util.stream.LongStream</code></a> class for a stream of 64-bit <code>long</code> integers.</p>\n<p>You can implement it like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>long sum = LongStream.rangeClosed(a, b)\n    .parallel()\n    .map(n -&gt; f(n))\n    .sum();\n\nSystem.out.println(sum);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673015674,"creation_date":1673015574,"answer_id":75032276,"question_id":75031864,"body_markdown":"You probably want to look into the [fork/join framework](https://www.baeldung.com/java-fork-join); it&#39;s a generalized approach to this principle of splitting up a task into a great many little independent tasks and then combining them back together, and gives you all control you&#39;d want about how to spin off threads.\r\n\r\nAlternatively, you can use the `parallel()` method of the stream API, but note that this method doesn&#39;t explain or guarantee much about how it works. You have no control over which aspect is parallelized, and no control over the amount of threads that&#39;ll be involved. For trivial cases you might as well use it, but as a rule, if &#39;uhoh I better write this in parallel or it would be too slow&#39; is relevant, then you need some guarantees and some control. Here&#39;s [oracle&#39;s tutorial/explanation on parallel streams](https://docs.oracle.com/javase/tutorial/collections/streams/parallelism.html). For this specific case it does seem like it would more or less do what you want (it gets tricky if e.g. the stream you attempt to apply this to is e.g. what `Files.lines` gives you - where the parallelism gets potentially stymied by where it is applied vs. where the bottleneck is).","title":"Generally multithreading a for loop in Java","body":"<p>You probably want to look into the <a href=\"https://www.baeldung.com/java-fork-join\" rel=\"nofollow noreferrer\">fork/join framework</a>; it's a generalized approach to this principle of splitting up a task into a great many little independent tasks and then combining them back together, and gives you all control you'd want about how to spin off threads.</p>\n<p>Alternatively, you can use the <code>parallel()</code> method of the stream API, but note that this method doesn't explain or guarantee much about how it works. You have no control over which aspect is parallelized, and no control over the amount of threads that'll be involved. For trivial cases you might as well use it, but as a rule, if 'uhoh I better write this in parallel or it would be too slow' is relevant, then you need some guarantees and some control. Here's <a href=\"https://docs.oracle.com/javase/tutorial/collections/streams/parallelism.html\" rel=\"nofollow noreferrer\">oracle's tutorial/explanation on parallel streams</a>. For this specific case it does seem like it would more or less do what you want (it gets tricky if e.g. the stream you attempt to apply this to is e.g. what <code>Files.lines</code> gives you - where the parallelism gets potentially stymied by where it is applied vs. where the bottleneck is).</p>\n"},{"tags":[],"owner":{"account_id":27289041,"reputation":1,"user_id":20807758,"display_name":"Omar Altinawi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673022072,"creation_date":1673022072,"answer_id":75033471,"question_id":75031864,"body_markdown":"1. create your sum class (edit &#39;f&#39; function to your function): \r\n\r\n       class sumFun implements Callable&lt;Long&gt; {\r\n          public long f(long num){\r\n             return num;\r\n          }\r\n          private long a;\r\n          private long b;\r\n          public sumFun(long a, long b) {\r\n              this.a = a;\r\n              this.b = b;\r\n          }\r\n          @Override\r\n          public Long call() {\r\n              long sum = 0;\r\n              for (long i = a; i &lt;= b; i++) {\r\n                  sum += f(i);\r\n              }\r\n              return sum;\r\n          }\r\n       }\r\n\r\n2. in main : \r\n\r\n        public static void main(String[] args) throws InterruptedException, ExecutionException {\r\n           long start = 1;\r\n           long end = 10000000;\r\n           int numOfThreads = 5;\r\n           long step = (end - start + 1) / numOfThreads;\r\n           List&lt;sumFun&gt; tasks = new ArrayList&lt;&gt;();\r\n           for (long i = start; i &lt;= end; i += step) {\r\n               long tmp = end;\r\n               if(i+step-1 &lt; end){\r\n                   tmp = i+step-1;\r\n               }\r\n               tasks.add(new sumFun(i, tmp));\r\n           }\r\n           ExecutorService executor = Executors.newFixedThreadPool(numOfThreads);\r\n           List&lt;Future&lt;Long&gt;&gt; results = executor.invokeAll(tasks);\r\n           long sum = 0;\r\n           for (Future&lt;Long&gt; result : results) {\r\n               sum += result.get();\r\n           }\r\n           System.out.println(&quot;sum = &quot; + sum);\r\n           executor.shutdown();\r\n        }","title":"Generally multithreading a for loop in Java","body":"<ol>\n<li><p>create your sum class (edit 'f' function to your function):</p>\n<pre><code>class sumFun implements Callable&lt;Long&gt; {\n   public long f(long num){\n      return num;\n   }\n   private long a;\n   private long b;\n   public sumFun(long a, long b) {\n       this.a = a;\n       this.b = b;\n   }\n   @Override\n   public Long call() {\n       long sum = 0;\n       for (long i = a; i &lt;= b; i++) {\n           sum += f(i);\n       }\n       return sum;\n   }\n}\n</code></pre>\n</li>\n<li><p>in main :</p>\n<pre><code> public static void main(String[] args) throws InterruptedException, ExecutionException {\n    long start = 1;\n    long end = 10000000;\n    int numOfThreads = 5;\n    long step = (end - start + 1) / numOfThreads;\n    List&lt;sumFun&gt; tasks = new ArrayList&lt;&gt;();\n    for (long i = start; i &lt;= end; i += step) {\n        long tmp = end;\n        if(i+step-1 &lt; end){\n            tmp = i+step-1;\n        }\n        tasks.add(new sumFun(i, tmp));\n    }\n    ExecutorService executor = Executors.newFixedThreadPool(numOfThreads);\n    List&lt;Future&lt;Long&gt;&gt; results = executor.invokeAll(tasks);\n    long sum = 0;\n    for (Future&lt;Long&gt; result : results) {\n        sum += result.get();\n    }\n    System.out.println(&quot;sum = &quot; + sum);\n    executor.shutdown();\n }\n</code></pre>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":370994,"reputation":35154,"user_id":719263,"accept_rate":100,"display_name":"Jean-Baptiste Yun&#232;s"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673027043,"creation_date":1673027043,"answer_id":75034361,"question_id":75031864,"body_markdown":"`RecursiveTask` is suitable for such a problem. Threads will be managed by the `ForkJoinPool`.\r\n\r\nThe general idea is to decompose the problem into shorter sub-problems, up to the point a single thread is able to manage the given sub-problem by itself.\r\n\r\n    class RecursiveSum extends RecursiveTask&lt;Long&gt; {\r\n    \tprivate final int THLD = 1_000;\r\n    \tprivate int low, high;\r\n    \tpublic RecursiveSum(int high) {\r\n    \t\tthis(0,high);\r\n    \t}\r\n    \tpublic RecursiveSum(int low, int high) {\r\n    \t\tthis.low = low; this.high = high;\r\n    \t}\r\n    \t\r\n    \tprivate long sum(int l,int h) {\r\n    \t\tlong sum = 0;\r\n    \t\tfor (int i=l; i&lt;h; i++) sum += i;\r\n    \t\treturn sum;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tprotected Long compute() {\r\n    \t\tint len = high-low;\r\n    \t\tif (len&lt;=THLD) return sum(low,high);\r\n    \t\tRecursiveSum rhalf = new RecursiveSum(low+len/2,high);\r\n    \t\trhalf.fork();\r\n    \t\tRecursiveSum lhalf = new RecursiveSum(low,low+len/2);\r\n    \t\thigh = low+len/2;\r\n    \t\treturn lhalf.compute()+rhalf.join();\r\n    \t}\r\n    }\r\n\r\nand use it like this:\r\n\r\n    long r = new RecursiveSum(1_000_000_000).invoke();\r\n\tSystem.out.println(&quot;Sum=&quot;+r);\r\n\r\n","title":"Generally multithreading a for loop in Java","body":"<p><code>RecursiveTask</code> is suitable for such a problem. Threads will be managed by the <code>ForkJoinPool</code>.</p>\n<p>The general idea is to decompose the problem into shorter sub-problems, up to the point a single thread is able to manage the given sub-problem by itself.</p>\n<pre><code>class RecursiveSum extends RecursiveTask&lt;Long&gt; {\n    private final int THLD = 1_000;\n    private int low, high;\n    public RecursiveSum(int high) {\n        this(0,high);\n    }\n    public RecursiveSum(int low, int high) {\n        this.low = low; this.high = high;\n    }\n    \n    private long sum(int l,int h) {\n        long sum = 0;\n        for (int i=l; i&lt;h; i++) sum += i;\n        return sum;\n    }\n\n    @Override\n    protected Long compute() {\n        int len = high-low;\n        if (len&lt;=THLD) return sum(low,high);\n        RecursiveSum rhalf = new RecursiveSum(low+len/2,high);\n        rhalf.fork();\n        RecursiveSum lhalf = new RecursiveSum(low,low+len/2);\n        high = low+len/2;\n        return lhalf.compute()+rhalf.join();\n    }\n}\n</code></pre>\n<p>and use it like this:</p>\n<pre><code>long r = new RecursiveSum(1_000_000_000).invoke();\nSystem.out.println(&quot;Sum=&quot;+r);\n</code></pre>\n"}],"owner":{"account_id":5681698,"reputation":259,"user_id":4492659,"display_name":"Matan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":160,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":75031948,"answer_count":4,"score":6,"last_activity_date":1673172989,"creation_date":1673013359,"question_id":75031864,"body_markdown":"Suppose I am given integers `a` and `b` such that a range of interest is formed, of integers in `[a,b]`. The range can span well over `10^9` integers. I want to sum the values of a given function `f : N -&gt; N` over all integers `a &lt;= n &lt;= b`. The range is very large so I want to do this using multithreading. \r\n\r\nLess formaly, I want to parallelize the following code:\r\n\r\n    long sum = 0;\r\n\t\t\r\n    for (long n = a ; n &lt;= b ; n++)\r\n\t\tsum += f(n);\r\n\t\t\r\n\tSystem.out.println(sum);\r\n\r\nIdeally (at least in my mind), the range will divided equally across the available number of threads available by the processor (suppose `f(n)` has near-identical complexity and running time for each `n` in range). The values are completely independent, and `f` could really be any function. For example, it could output the sum of digits of the number, but it really could be anything, it&#39;s just an example. \r\n\r\nIs there a general way to do exactly that in Java using multithreading?","title":"Generally multithreading a for loop in Java","body":"<p>Suppose I am given integers <code>a</code> and <code>b</code> such that a range of interest is formed, of integers in <code>[a,b]</code>. The range can span well over <code>10^9</code> integers. I want to sum the values of a given function <code>f : N -&gt; N</code> over all integers <code>a &lt;= n &lt;= b</code>. The range is very large so I want to do this using multithreading.</p>\n<p>Less formaly, I want to parallelize the following code:</p>\n<pre><code>long sum = 0;\n    \nfor (long n = a ; n &lt;= b ; n++)\n    sum += f(n);\n    \nSystem.out.println(sum);\n</code></pre>\n<p>Ideally (at least in my mind), the range will divided equally across the available number of threads available by the processor (suppose <code>f(n)</code> has near-identical complexity and running time for each <code>n</code> in range). The values are completely independent, and <code>f</code> could really be any function. For example, it could output the sum of digits of the number, but it really could be anything, it's just an example.</p>\n<p>Is there a general way to do exactly that in Java using multithreading?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673172975,"creation_date":1673172638,"answer_id":75046943,"question_id":75046917,"body_markdown":"Using String it would be easier as we don&#39;t need to know how many decimal there is\r\n\r\n    double a = 13.564;\r\n\r\n    String[] parts = Double.toString(a).split(&quot;\\\\.&quot;);\r\n\r\n    int b = Integer.parseInt(parts[0]);\r\n    int c = Integer.parseInt(parts[1]);\r\n    System.out.println(b + &quot;/&quot; + c);\r\n\r\n---\r\n\r\nWith math only, you need to be careful so, a way is so multiply the number so there is no decimal part, the retrieve what was the decimal part\r\n\r\n    double a = 13.564;\r\n\r\n    int b = (int) a;\r\n\r\n    double power = Math.pow(10, BigDecimal.valueOf(a).scale());\r\n    int c = (int) (a * power - b * power);\r\n    System.out.println(b + &quot;/&quot; + c);\r\n\r\n","title":"how to store a left hand data seperate and right hand data seperately from a given variable","body":"<p>Using String it would be easier as we don't need to know how many decimal there is</p>\n<pre><code>double a = 13.564;\n\nString[] parts = Double.toString(a).split(&quot;\\\\.&quot;);\n\nint b = Integer.parseInt(parts[0]);\nint c = Integer.parseInt(parts[1]);\nSystem.out.println(b + &quot;/&quot; + c);\n</code></pre>\n<hr />\n<p>With math only, you need to be careful so, a way is so multiply the number so there is no decimal part, the retrieve what was the decimal part</p>\n<pre><code>double a = 13.564;\n\nint b = (int) a;\n\ndouble power = Math.pow(10, BigDecimal.valueOf(a).scale());\nint c = (int) (a * power - b * power);\nSystem.out.println(b + &quot;/&quot; + c);\n</code></pre>\n"}],"owner":{"account_id":26826904,"reputation":3,"user_id":20415420,"display_name":"19D4239 M.SAIPRASAD REDDY"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75046943,"answer_count":1,"score":-1,"last_activity_date":1673172975,"creation_date":1673172404,"question_id":75046917,"body_markdown":"Only required in java, also without using strings or any specific objects, (just use maths)\r\n\r\nproblem is \r\n\r\n    double a = 13.564;\r\n    //now i want  \r\n    \r\n    int b = 13;\r\n    int c = 564;\r\n","title":"how to store a left hand data seperate and right hand data seperately from a given variable","body":"<p>Only required in java, also without using strings or any specific objects, (just use maths)</p>\n<p>problem is</p>\n<pre><code>double a = 13.564;\n//now i want  \n\nint b = 13;\nint c = 564;\n</code></pre>\n"},{"tags":["java","image","encog"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1673188266,"post_id":75046968,"comment_id":132437378,"body_markdown":"Please never post images of text. They are not searchable, we cannot copy-paste... Always copy-paste the text and format it properly.","body":"Please never post images of text. They are not searchable, we cannot copy-paste... Always copy-paste the text and format it properly."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1673188932,"post_id":75046968,"comment_id":132437530,"body_markdown":"There are two different problems there. Your larger one is of understanding, and I&#39;m guessing you haven&#39;t read the documentation. How could a png file be a &quot;command file&quot;?","body":"There are two different problems there. Your larger one is of understanding, and I&#39;m guessing you haven&#39;t read the documentation. How could a png file be a &quot;command file&quot;?"}],"owner":{"account_id":19829970,"reputation":13,"user_id":14677576,"display_name":"KonTiki"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673172970,"creation_date":1673172970,"question_id":75046968,"body_markdown":"I am trying to run image recognition code in Encog framework.\r\n\r\n[This][1] one\r\n\r\n\r\nBut I am having problems with the input. I am getting the following error\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://github.com/jeffheaton/encog-java-examples/blob/master/src/main/java/org/encog/examples/neural/image/ImageNeuralNetwork.java\r\n  [2]: https://i.stack.imgur.com/XqwUs.png\r\n\r\nI am trying to get the picture into the program. I did it the following way.\r\n\r\n    public static void main(final String[] args) {\r\n\r\n        /*\r\n        if (args.length &lt; 1) {\r\n            System.out\r\n                    .println(&quot;Must specify command file.  See source for format.&quot;);\r\n        } else {\r\n\r\n         */\r\n\r\n        String string = &quot;/Users/hehe/Downloads/Screenshot_2023-01-08_at_08.11.24-removebg-preview.png&quot;;\r\n        try {\r\n            final ImageNeuralNetwork program = new ImageNeuralNetwork();\r\n            program.execute(string);\r\n        } catch (final Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        Encog.getInstance().shutdown();\r\n    }\r\n\r\nI commented first part of the code because I can&#39;t run this program in command line.\r\n\r\nWhen I try to compile it like this \r\n\r\njavac /Users/hehe/IdeaProjects/TestRencognition/src/main/java/ImageNeuralNetwork.java \r\n\r\nI am getting error that the package org.encog does not exist","title":"Encog Image Recognition, Invalid command Error","body":"<p>I am trying to run image recognition code in Encog framework.</p>\n<p><a href=\"https://github.com/jeffheaton/encog-java-examples/blob/master/src/main/java/org/encog/examples/neural/image/ImageNeuralNetwork.java\" rel=\"nofollow noreferrer\">This</a> one</p>\n<p>But I am having problems with the input. I am getting the following error</p>\n<p><a href=\"https://i.stack.imgur.com/XqwUs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XqwUs.png\" alt=\"enter image description here\" /></a></p>\n<p>I am trying to get the picture into the program. I did it the following way.</p>\n<pre><code>public static void main(final String[] args) {\n\n    /*\n    if (args.length &lt; 1) {\n        System.out\n                .println(&quot;Must specify command file.  See source for format.&quot;);\n    } else {\n\n     */\n\n    String string = &quot;/Users/hehe/Downloads/Screenshot_2023-01-08_at_08.11.24-removebg-preview.png&quot;;\n    try {\n        final ImageNeuralNetwork program = new ImageNeuralNetwork();\n        program.execute(string);\n    } catch (final Exception e) {\n        e.printStackTrace();\n    }\n\n    Encog.getInstance().shutdown();\n}\n</code></pre>\n<p>I commented first part of the code because I can't run this program in command line.</p>\n<p>When I try to compile it like this</p>\n<p>javac /Users/hehe/IdeaProjects/TestRencognition/src/main/java/ImageNeuralNetwork.java</p>\n<p>I am getting error that the package org.encog does not exist</p>\n"},{"tags":["java","android","spinner"],"comments":[{"owner":{"account_id":11021611,"reputation":9242,"user_id":8112541,"display_name":"Goku"},"score":0,"creation_date":1511335138,"post_id":47428873,"comment_id":81812057,"body_markdown":"why **`country.setSelection(Country_listItems.indexOf(country_value));`** inside **`setOnItemSelectedListener`**","body":"why <b><code>country.setSelection(Country_listItems.indexOf(country_value&zwnj;&#8203;));</code></b> inside <b><code>setOnItemSelectedListener</code></b>"},{"owner":{"account_id":10017708,"reputation":21,"user_id":7408393,"accept_rate":0,"display_name":"Shafin Raza"},"score":0,"creation_date":1511335470,"post_id":47428873,"comment_id":81812229,"body_markdown":"so where Should i use that?","body":"so where Should i use that?"},{"owner":{"account_id":12256082,"reputation":417,"user_id":8945091,"display_name":"Sara Tirmizi"},"score":1,"creation_date":1511335631,"post_id":47428873,"comment_id":81812304,"body_markdown":"Whenever you tap any item it automatically sets your selection to that. No need to call setSelection","body":"Whenever you tap any item it automatically sets your selection to that. No need to call setSelection"},{"owner":{"account_id":10017708,"reputation":21,"user_id":7408393,"accept_rate":0,"display_name":"Shafin Raza"},"score":0,"creation_date":1511336002,"post_id":47428873,"comment_id":81812479,"body_markdown":"@SaraTirmizi i am updating my activity so setselection is for privious selected value","body":"@SaraTirmizi i am updating my activity so setselection is for privious selected value"},{"owner":{"account_id":12256082,"reputation":417,"user_id":8945091,"display_name":"Sara Tirmizi"},"score":0,"creation_date":1511336396,"post_id":47428873,"comment_id":81812692,"body_markdown":"@ShafinRaza Can you briefly explain what you are trying to achieve? \nsee if if you are trying to update your previously selected item , say suppose   &quot;coutry_value&quot; is the previously selected value then instead of calling set selection you need to update `country_value =  Country_listItems.get(position);` and later you can compare it any where in  code even in  `public void onItemSelected(AdapterView&lt;?&gt; adapterView, View view, int position, long l)` method like if (condition() ) and later at the end of method update your country_value","body":"@ShafinRaza Can you briefly explain what you are trying to achieve?  see if if you are trying to update your previously selected item , say suppose   &quot;coutry_value&quot; is the previously selected value then instead of calling set selection you need to update <code>country_value =  Country_listItems.get(position);</code> and later you can compare it any where in  code even in  <code>public void onItemSelected(AdapterView&lt;?&gt; adapterView, View view, int position, long l)</code> method like if (condition() ) and later at the end of method update your country_value"},{"owner":{"account_id":10017708,"reputation":21,"user_id":7408393,"accept_rate":0,"display_name":"Shafin Raza"},"score":0,"creation_date":1511336894,"post_id":47428873,"comment_id":81812958,"body_markdown":"@SaraTirmizi please read my question again..hope u will get the idea","body":"@SaraTirmizi please read my question again..hope u will get the idea"},{"owner":{"account_id":12256082,"reputation":417,"user_id":8945091,"display_name":"Sara Tirmizi"},"score":0,"creation_date":1511337147,"post_id":47428873,"comment_id":81813108,"body_markdown":"For scenario mentioned in question , upon going profile he must have the selected country reference so after `country.setAdapter(country_adapter_list);` call `country.setSelection(indexOfSelectedCountry);` then on spinner of the onItemSelected udpate your indexOfSelectedCountry , Remember since you can come and go back to the profile activity you should always have index of user&#39;s country","body":"For scenario mentioned in question , upon going profile he must have the selected country reference so after <code>country.setAdapter(country_adapter_list);</code> call <code>country.setSelection(indexOfSelectedCountry);</code> then on spinner of the onItemSelected udpate your indexOfSelectedCountry , Remember since you can come and go back to the profile activity you should always have index of user&#39;s country"},{"owner":{"account_id":6191476,"reputation":2537,"user_id":4824088,"display_name":"Mohamed Mohaideen AH"},"score":0,"creation_date":1511337902,"post_id":47428873,"comment_id":81813572,"body_markdown":"call this method \n  -- &quot;country.setSelection(Country_listItems.indexOf(country_value));&quot; outside country.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() { this line..","body":"call this method    -- &quot;country.setSelection(Country_listItems.indexOf(country_valu&zwnj;&#8203;e));&quot; outside country.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() { this line.."}],"answers":[{"tags":[],"owner":{"account_id":11426148,"reputation":544,"user_id":8376244,"display_name":"Durga M"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1511335616,"creation_date":1511335616,"answer_id":47428994,"question_id":47428873,"body_markdown":"`OnItemSelected()` method will select the item present in list at `position`.\r\nThe `setSelection()` will internally call the `onItemSelected()` to set the selected item in the spinner. So calling `setSelection()` inside `onItemselected()` will not help you. ","title":"Spinner setSelected not working properly","body":"<p><code>OnItemSelected()</code> method will select the item present in list at <code>position</code>.\nThe <code>setSelection()</code> will internally call the <code>onItemSelected()</code> to set the selected item in the spinner. So calling <code>setSelection()</code> inside <code>onItemselected()</code> will not help you. </p>\n"},{"tags":[],"owner":{"account_id":7882264,"reputation":2751,"user_id":5955784,"display_name":"Ankit Patidar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673172811,"creation_date":1511335619,"answer_id":47428995,"question_id":47428873,"body_markdown":"Your code is working fine, but it will not set selection on Spinner if &quot;country_value&quot; is not found in arraylist that  you set.\r\n\r\n\r\n[Video Link][1]\r\n\r\n\r\n  [1]: https://s3-eu-west-1.amazonaws.com/bbi.appsdata.2013/gl_dummy_app/ios/20171122_125919.mp4","title":"Spinner setSelected not working properly","body":"<p>Your code is working fine, but it will not set selection on Spinner if &quot;country_value&quot; is not found in arraylist that  you set.</p>\n<p><a href=\"https://s3-eu-west-1.amazonaws.com/bbi.appsdata.2013/gl_dummy_app/ios/20171122_125919.mp4\" rel=\"nofollow noreferrer\">Video Link</a></p>\n"},{"tags":[],"owner":{"account_id":6482233,"reputation":108,"user_id":5018881,"display_name":"Himanshu Rathore"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1511335718,"creation_date":1511335718,"answer_id":47429018,"question_id":47428873,"body_markdown":"Try below code.\r\n\r\n    @Override\r\n    public void onItemSelected(AdapterView&lt;?&gt; **adapterView**, View view,int position, long l) {\r\n    **adapterView**.setSelection(Country_listItems.indexOf(country_value));\r\n    country_data = Country_listItems.get(position);\r\n}","title":"Spinner setSelected not working properly","body":"<p>Try below code.</p>\n\n<pre><code>@Override\npublic void onItemSelected(AdapterView&lt;?&gt; **adapterView**, View view,int position, long l) {\n**adapterView**.setSelection(Country_listItems.indexOf(country_value));\ncountry_data = Country_listItems.get(position);\n</code></pre>\n\n<p>}</p>\n"}],"owner":{"account_id":10017708,"reputation":21,"user_id":7408393,"accept_rate":0,"display_name":"Shafin Raza"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":192,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1673172811,"creation_date":1511335054,"question_id":47428873,"body_markdown":"I have a profile activity where user select there country for the first time ,after that when user wish to change the country he will go to profile activity there he should see the previous selected country in the spinner and then he must be able to select another country from the spinner.\r\nI am trying to update my profile activity ,I have a spinner named country in it..I am using set selected for getting the previous selected value .i am getting the value but when i am trying to change that value its not happening .\r\nThe Country_value is string \r\nBelow is the code for spinner :\r\n \r\n\r\n    country_adapter_list = new ArrayAdapter(MyProfile.this, R.layout.support_simple_spinner_dropdown_item,Country_listItems);\r\n    country = (Spinner) findViewById(R.id.sp_country);\r\n    country.setAdapter(country_adapter_list);\r\n    \r\n    country.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {\r\n    @Override\r\n    public void onItemSelected(AdapterView&lt;?&gt; adapterView, View view, int position, long l) {\r\n    country.setSelection(Country_listItems.indexOf(country_value));\r\n    country_data = Country_listItems.get(position);\r\n    }\r\n    \r\n    @Override\r\n    public void onNothingSelected(AdapterView&lt;?&gt; adapterView) {\r\n    \r\n    }\r\n    });","title":"Spinner setSelected not working properly","body":"<p>I have a profile activity where user select there country for the first time ,after that when user wish to change the country he will go to profile activity there he should see the previous selected country in the spinner and then he must be able to select another country from the spinner.\nI am trying to update my profile activity ,I have a spinner named country in it..I am using set selected for getting the previous selected value .i am getting the value but when i am trying to change that value its not happening .\nThe Country_value is string \nBelow is the code for spinner :</p>\n\n<pre><code>country_adapter_list = new ArrayAdapter(MyProfile.this, R.layout.support_simple_spinner_dropdown_item,Country_listItems);\ncountry = (Spinner) findViewById(R.id.sp_country);\ncountry.setAdapter(country_adapter_list);\n\ncountry.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {\n@Override\npublic void onItemSelected(AdapterView&lt;?&gt; adapterView, View view, int position, long l) {\ncountry.setSelection(Country_listItems.indexOf(country_value));\ncountry_data = Country_listItems.get(position);\n}\n\n@Override\npublic void onNothingSelected(AdapterView&lt;?&gt; adapterView) {\n\n}\n});\n</code></pre>\n"},{"tags":["java","eclipse","maven","neo4j","lucene"],"answers":[{"tags":[],"owner":{"account_id":4431041,"reputation":9073,"user_id":3608192,"display_name":"Stefan Isele - prefabware.com"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1673172784,"creation_date":1468696960,"answer_id":38414769,"question_id":38413864,"body_markdown":"Regarding \r\n[https://github.com/dbpedia-spotlight/dbpedia-spotlight/blob/master/pom.xml][1]\r\n\r\norg.dbpedia.spotlight in version 0.7 requires lucene version 3.6.0.\r\n\r\nThe only component of neo4j with dependencies to lucene, that I found googeling is neo4j-lucene-index.\r\nYou did not list it in your pom, but may be you have it as a transitive (indirect) dependency.\r\nThis works with lucene version 5.5, see [neo4j-lucene-index/3.0.3][2]\r\n\r\nSo what you have  now does just not fit, you have to find versions of dbpedia that use the same version of lucene. \r\n\r\nIn both above links you find different versions of dbpedia and neo4j with their dependencies. Search the versions until you find some that use the same lucene version.\r\n\r\nYou can also run \r\n\r\n    mvn dependency:tree\r\n\r\non your project to get information about the used versions. Version conflicts should be shown there also.\r\n\r\n**Is it possible to use different versions ?**\r\n\r\nShort answer: No \r\n\r\nMaven uses the dependency only to download the required jars and to put them in the classpath of your project. It will always put only one version of a jar file for every dependency into the classpath.  \r\n\r\nIf this jar contains classes, that one of the other jars (dbpedia or neo4j) are not compatible with, you will get problems (exceptions).\r\n\r\nThat is not a maven specific problem, its just how java works.\r\n\r\nAt runtime neo4j and dbpedia want to use the same instances of lucene classes, and so they must somehow share the same version of lucene.\r\n\r\nHowever, if you find a lucene version thats close to what dbpedia and neo4j use, you can give it a try, sometimes it works...\r\n\r\n\r\n\r\n  [1]: http://dbpedia-spotlight/dbpedia-spotlight%20pom.xml\r\n  [2]: https://neo4j.com/docs/","title":"Resolving conflicting dependencies (Maven)","body":"<p>Regarding\n<a href=\"http://dbpedia-spotlight/dbpedia-spotlight%20pom.xml\" rel=\"nofollow noreferrer\">https://github.com/dbpedia-spotlight/dbpedia-spotlight/blob/master/pom.xml</a></p>\n<p>org.dbpedia.spotlight in version 0.7 requires lucene version 3.6.0.</p>\n<p>The only component of neo4j with dependencies to lucene, that I found googeling is neo4j-lucene-index.\nYou did not list it in your pom, but may be you have it as a transitive (indirect) dependency.\nThis works with lucene version 5.5, see <a href=\"https://neo4j.com/docs/\" rel=\"nofollow noreferrer\">neo4j-lucene-index/3.0.3</a></p>\n<p>So what you have  now does just not fit, you have to find versions of dbpedia that use the same version of lucene.</p>\n<p>In both above links you find different versions of dbpedia and neo4j with their dependencies. Search the versions until you find some that use the same lucene version.</p>\n<p>You can also run</p>\n<pre><code>mvn dependency:tree\n</code></pre>\n<p>on your project to get information about the used versions. Version conflicts should be shown there also.</p>\n<p><strong>Is it possible to use different versions ?</strong></p>\n<p>Short answer: No</p>\n<p>Maven uses the dependency only to download the required jars and to put them in the classpath of your project. It will always put only one version of a jar file for every dependency into the classpath.</p>\n<p>If this jar contains classes, that one of the other jars (dbpedia or neo4j) are not compatible with, you will get problems (exceptions).</p>\n<p>That is not a maven specific problem, its just how java works.</p>\n<p>At runtime neo4j and dbpedia want to use the same instances of lucene classes, and so they must somehow share the same version of lucene.</p>\n<p>However, if you find a lucene version thats close to what dbpedia and neo4j use, you can give it a try, sometimes it works...</p>\n"}],"owner":{"account_id":2658934,"reputation":145,"user_id":2299050,"accept_rate":73,"display_name":"user2299050"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":402,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":38414769,"answer_count":1,"score":0,"last_activity_date":1673172784,"creation_date":1468690709,"question_id":38413864,"body_markdown":"I have a mavenproject in eclipse which relies on jars that include lucene.\r\n\r\nThis is my pom:\r\n\r\n\r\n\r\n \r\n\r\n          &lt;dependency&gt;\r\n          &lt;groupId&gt;org.dbpedia.spotlight&lt;/groupId&gt;\r\n          &lt;artifactId&gt;core&lt;/artifactId&gt;\r\n          &lt;version&gt;0.7&lt;/version&gt;\r\n          &lt;/dependency&gt;\r\n    \t &lt;dependency&gt;\r\n       &lt;groupId&gt;org.neo4j&lt;/groupId&gt;\r\n       &lt;artifactId&gt;neo4j&lt;/artifactId&gt;\r\n       &lt;version&gt;3.0.3&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n    \t  &lt;dependency&gt;\r\n        &lt;groupId&gt;org.neo4j&lt;/groupId&gt;\r\n        &lt;artifactId&gt;neo4j-bolt&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.3&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n       &lt;groupId&gt;org.neo4j&lt;/groupId&gt;\r\n       &lt;artifactId&gt;neo4j-kernel&lt;/artifactId&gt;\r\n       &lt;version&gt;3.0.3&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.neo4j&lt;/groupId&gt;\r\n        &lt;artifactId&gt;neo4j-cypher&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.3&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nThe issue is that I can not create/access my neo4j-Database if the dbpedia-spotlight-jar is included.\r\n\r\nThe Code\r\n\r\n\tgraphDb = new GraphDatabaseFactory().newEmbeddedDatabaseBuilder( dir )\r\n\t        .setConfig( GraphDatabaseSettings.read_only, &quot;true&quot; )\r\n\t        .newGraphDatabase();\r\n\r\ngives the errormessage\r\n\r\n    Exception in thread &quot;main&quot; java.lang.RuntimeException: Error starting org.neo4j.kernel.impl.factory.CommunityFacadeFactory, F:\\DLs\\DB\r\n    \tat org.neo4j.kernel.impl.factory.GraphDatabaseFacadeFactory.newFacade(GraphDatabaseFacadeFactory.java:144)\r\n    \tat org.neo4j.kernel.impl.factory.CommunityFacadeFactory.newFacade(CommunityFacadeFactory.java:40)\r\n    \tat org.neo4j.kernel.impl.factory.GraphDatabaseFacadeFactory.newFacade(GraphDatabaseFacadeFactory.java:108)\r\n    \tat org.neo4j.graphdb.factory.GraphDatabaseFactory.newDatabase(GraphDatabaseFactory.java:100)\r\n    \tat org.neo4j.graphdb.factory.GraphDatabaseFactory.lambda$createDatabaseCreator$203(GraphDatabaseFactory.java:89)\r\n    \tat org.neo4j.graphdb.factory.GraphDatabaseFactory$$Lambda$1/440434003.newDatabase(Unknown Source)\r\n    \tat org.neo4j.graphdb.factory.GraphDatabaseBuilder.newGraphDatabase(GraphDatabaseBuilder.java:183)\r\n    \tat neo4j.Neo4j.startServer(Neo4j.java:26)\r\n    \tat countAnnotator.Main.main(Main.java:35)\r\n    Caused by: org.neo4j.kernel.lifecycle.LifecycleException: Component &#39;org.neo4j.kernel.extension.KernelExtensions@78d4b13a&#39; failed to initialize. Please see attached cause exception.\r\n    \tat org.neo4j.kernel.lifecycle.LifeSupport$LifecycleInstance.init(LifeSupport.java:416)\r\n    \tat org.neo4j.kernel.lifecycle.LifeSupport.init(LifeSupport.java:62)\r\n    \tat org.neo4j.kernel.lifecycle.LifeSupport.start(LifeSupport.java:98)\r\n    \tat org.neo4j.kernel.impl.factory.GraphDatabaseFacadeFactory.newFacade(GraphDatabaseFacadeFactory.java:140)\r\n    \t... 8 more\r\n    Caused by: java.lang.VerifyError: Cannot inherit from final class\r\n    \tat java.lang.ClassLoader.defineClass1(Native Method)\r\n    \tat java.lang.ClassLoader.defineClass(Unknown Source)\r\n    \tat java.security.SecureClassLoader.defineClass(Unknown Source)\r\n    \tat java.net.URLClassLoader.defineClass(Unknown Source)\r\n    \tat java.net.URLClassLoader.access$100(Unknown Source)\r\n    \tat java.net.URLClassLoader$1.run(Unknown Source)\r\n    \tat java.net.URLClassLoader$1.run(Unknown Source)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat java.net.URLClassLoader.findClass(Unknown Source)\r\n    \tat java.lang.ClassLoader.loadClass(Unknown Source)\r\n    \tat sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)\r\n    \tat java.lang.ClassLoader.loadClass(Unknown Source)\r\n    \tat org.neo4j.kernel.api.impl.labelscan.storestrategy.BitmapDocumentFormat.&lt;clinit&gt;(BitmapDocumentFormat.java:40)\r\n    \tat org.neo4j.kernel.api.impl.labelscan.LuceneLabelScanIndexBuilder.&lt;init&gt;(LuceneLabelScanIndexBuilder.java:34)\r\n    \tat org.neo4j.kernel.api.impl.labelscan.LuceneLabelScanIndexBuilder.create(LuceneLabelScanIndexBuilder.java:49)\r\n    \tat org.neo4j.kernel.api.impl.labelscan.LuceneLabelScanStoreExtension.getLuceneIndex(LuceneLabelScanStoreExtension.java:90)\r\n    \tat org.neo4j.kernel.api.impl.labelscan.LuceneLabelScanStoreExtension.newInstance(LuceneLabelScanStoreExtension.java:79)\r\n    \tat org.neo4j.kernel.api.impl.labelscan.LuceneLabelScanStoreExtension.newInstance(LuceneLabelScanStoreExtension.java:40)\r\n    \tat org.neo4j.kernel.extension.KernelExtensions.init(KernelExtensions.java:69)\r\n    \tat org.neo4j.kernel.lifecycle.LifeSupport$LifecycleInstance.init(LifeSupport.java:406)\r\n    \t... 11 more\r\n\r\nIF I have the dbpedia-spotlight as a dependency.\r\n\r\nIf I dont have it as a dependency, it runs just fine. I tried manually adding the jar as external archive and putting maven-dependencies to &quot;Top&quot; in the Buildpath-Order but to no avail.\r\n\r\nIm fairly unexperienced in terms of maven so I wonder how one would go about resolving such an issue?\r\nI need both jars to run my project (first step is wikification using dbpedia-spotlight, second step is calculating shortest path using neo4j - which both work as long as the other isnt included).\r\n\r\nPutting the neo4j-part in a different proejct and the project in the buildpath of the original project didnt help either.\r\n\r\nThanks in advance!\r\n\r\n\r\n---------------------------------------------------------\r\n\r\nSo I did find a solution to my problem although I really dont understand why it is one - perhaps someone can explain it to me.\r\n\r\nI still have the original project with both the dbpedia as well as the neo4j-jars.\r\nI have also created a different empty project which only has the neo4j-dependencies and added this project to the first projects buildpath.\r\n\r\nNow I can call both the wikification as well as neo4j from the first project and they work. My assumption is that this causes the 5.5 version to take priority over the 3.6 version and dbpedia is upwards-compatible while the neo4j 5.5-version was not downwards-compatible. \r\n\r\nThat might also be completely wrong since I know very little about how build paths work in terms of priority etc. and I stumbled upon this solution through luck.\r\nAnyways - it works and thats whats important to me.\r\n------------------------------------------------------------------------------\r\nedit2: The proper solution was as simple as swapping the positions of dbpedia-spotlight and noe4j in the POM.","title":"Resolving conflicting dependencies (Maven)","body":"<p>I have a mavenproject in eclipse which relies on jars that include lucene.</p>\n\n<p>This is my pom:</p>\n\n<pre><code>      &lt;dependency&gt;\n      &lt;groupId&gt;org.dbpedia.spotlight&lt;/groupId&gt;\n      &lt;artifactId&gt;core&lt;/artifactId&gt;\n      &lt;version&gt;0.7&lt;/version&gt;\n      &lt;/dependency&gt;\n     &lt;dependency&gt;\n   &lt;groupId&gt;org.neo4j&lt;/groupId&gt;\n   &lt;artifactId&gt;neo4j&lt;/artifactId&gt;\n   &lt;version&gt;3.0.3&lt;/version&gt;\n  &lt;/dependency&gt;\n      &lt;dependency&gt;\n    &lt;groupId&gt;org.neo4j&lt;/groupId&gt;\n    &lt;artifactId&gt;neo4j-bolt&lt;/artifactId&gt;\n    &lt;version&gt;3.0.3&lt;/version&gt;\n  &lt;/dependency&gt;\n    &lt;dependency&gt;\n   &lt;groupId&gt;org.neo4j&lt;/groupId&gt;\n   &lt;artifactId&gt;neo4j-kernel&lt;/artifactId&gt;\n   &lt;version&gt;3.0.3&lt;/version&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;org.neo4j&lt;/groupId&gt;\n    &lt;artifactId&gt;neo4j-cypher&lt;/artifactId&gt;\n    &lt;version&gt;3.0.3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>The issue is that I can not create/access my neo4j-Database if the dbpedia-spotlight-jar is included.</p>\n\n<p>The Code</p>\n\n<pre><code>graphDb = new GraphDatabaseFactory().newEmbeddedDatabaseBuilder( dir )\n        .setConfig( GraphDatabaseSettings.read_only, \"true\" )\n        .newGraphDatabase();\n</code></pre>\n\n<p>gives the errormessage</p>\n\n<pre><code>Exception in thread \"main\" java.lang.RuntimeException: Error starting org.neo4j.kernel.impl.factory.CommunityFacadeFactory, F:\\DLs\\DB\n    at org.neo4j.kernel.impl.factory.GraphDatabaseFacadeFactory.newFacade(GraphDatabaseFacadeFactory.java:144)\n    at org.neo4j.kernel.impl.factory.CommunityFacadeFactory.newFacade(CommunityFacadeFactory.java:40)\n    at org.neo4j.kernel.impl.factory.GraphDatabaseFacadeFactory.newFacade(GraphDatabaseFacadeFactory.java:108)\n    at org.neo4j.graphdb.factory.GraphDatabaseFactory.newDatabase(GraphDatabaseFactory.java:100)\n    at org.neo4j.graphdb.factory.GraphDatabaseFactory.lambda$createDatabaseCreator$203(GraphDatabaseFactory.java:89)\n    at org.neo4j.graphdb.factory.GraphDatabaseFactory$$Lambda$1/440434003.newDatabase(Unknown Source)\n    at org.neo4j.graphdb.factory.GraphDatabaseBuilder.newGraphDatabase(GraphDatabaseBuilder.java:183)\n    at neo4j.Neo4j.startServer(Neo4j.java:26)\n    at countAnnotator.Main.main(Main.java:35)\nCaused by: org.neo4j.kernel.lifecycle.LifecycleException: Component 'org.neo4j.kernel.extension.KernelExtensions@78d4b13a' failed to initialize. Please see attached cause exception.\n    at org.neo4j.kernel.lifecycle.LifeSupport$LifecycleInstance.init(LifeSupport.java:416)\n    at org.neo4j.kernel.lifecycle.LifeSupport.init(LifeSupport.java:62)\n    at org.neo4j.kernel.lifecycle.LifeSupport.start(LifeSupport.java:98)\n    at org.neo4j.kernel.impl.factory.GraphDatabaseFacadeFactory.newFacade(GraphDatabaseFacadeFactory.java:140)\n    ... 8 more\nCaused by: java.lang.VerifyError: Cannot inherit from final class\n    at java.lang.ClassLoader.defineClass1(Native Method)\n    at java.lang.ClassLoader.defineClass(Unknown Source)\n    at java.security.SecureClassLoader.defineClass(Unknown Source)\n    at java.net.URLClassLoader.defineClass(Unknown Source)\n    at java.net.URLClassLoader.access$100(Unknown Source)\n    at java.net.URLClassLoader$1.run(Unknown Source)\n    at java.net.URLClassLoader$1.run(Unknown Source)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.net.URLClassLoader.findClass(Unknown Source)\n    at java.lang.ClassLoader.loadClass(Unknown Source)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)\n    at java.lang.ClassLoader.loadClass(Unknown Source)\n    at org.neo4j.kernel.api.impl.labelscan.storestrategy.BitmapDocumentFormat.&lt;clinit&gt;(BitmapDocumentFormat.java:40)\n    at org.neo4j.kernel.api.impl.labelscan.LuceneLabelScanIndexBuilder.&lt;init&gt;(LuceneLabelScanIndexBuilder.java:34)\n    at org.neo4j.kernel.api.impl.labelscan.LuceneLabelScanIndexBuilder.create(LuceneLabelScanIndexBuilder.java:49)\n    at org.neo4j.kernel.api.impl.labelscan.LuceneLabelScanStoreExtension.getLuceneIndex(LuceneLabelScanStoreExtension.java:90)\n    at org.neo4j.kernel.api.impl.labelscan.LuceneLabelScanStoreExtension.newInstance(LuceneLabelScanStoreExtension.java:79)\n    at org.neo4j.kernel.api.impl.labelscan.LuceneLabelScanStoreExtension.newInstance(LuceneLabelScanStoreExtension.java:40)\n    at org.neo4j.kernel.extension.KernelExtensions.init(KernelExtensions.java:69)\n    at org.neo4j.kernel.lifecycle.LifeSupport$LifecycleInstance.init(LifeSupport.java:406)\n    ... 11 more\n</code></pre>\n\n<p>IF I have the dbpedia-spotlight as a dependency.</p>\n\n<p>If I dont have it as a dependency, it runs just fine. I tried manually adding the jar as external archive and putting maven-dependencies to \"Top\" in the Buildpath-Order but to no avail.</p>\n\n<p>Im fairly unexperienced in terms of maven so I wonder how one would go about resolving such an issue?\nI need both jars to run my project (first step is wikification using dbpedia-spotlight, second step is calculating shortest path using neo4j - which both work as long as the other isnt included).</p>\n\n<p>Putting the neo4j-part in a different proejct and the project in the buildpath of the original project didnt help either.</p>\n\n<p>Thanks in advance!</p>\n\n<hr>\n\n<p>So I did find a solution to my problem although I really dont understand why it is one - perhaps someone can explain it to me.</p>\n\n<p>I still have the original project with both the dbpedia as well as the neo4j-jars.\nI have also created a different empty project which only has the neo4j-dependencies and added this project to the first projects buildpath.</p>\n\n<p>Now I can call both the wikification as well as neo4j from the first project and they work. My assumption is that this causes the 5.5 version to take priority over the 3.6 version and dbpedia is upwards-compatible while the neo4j 5.5-version was not downwards-compatible. </p>\n\n<p>That might also be completely wrong since I know very little about how build paths work in terms of priority etc. and I stumbled upon this solution through luck.</p>\n\n<h2>Anyways - it works and thats whats important to me.</h2>\n\n<p>edit2: The proper solution was as simple as swapping the positions of dbpedia-spotlight and noe4j in the POM.</p>\n"},{"tags":["java","jwt","apple-sign-in","nimbus-jose-jwt","p8"],"answers":[{"tags":[],"owner":{"account_id":16729724,"reputation":546,"user_id":12092416,"display_name":"Sergei"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673172751,"creation_date":1673144020,"answer_id":75045099,"question_id":75040495,"body_markdown":"Since I did not have an Apple-provided private key at hand I tried to generate one myself using this command:\r\n```shell\r\nopenssl ecparam -name prime256v1 -genkey -noout -out key.p8\r\n```\r\n\r\nHere&#39;s the code that can use such PEM file to sign a token:\r\n```java\r\n// load PEM as String from &quot;key.p8&quot; resource\r\nString p8key;\r\nClassLoader cl = Thread.currentThread().getContextClassLoader();\r\ntry (InputStream is = cl.getResourceAsStream(&quot;key2.p8&quot;);\r\n     InputStreamReader isr = new InputStreamReader(is, StandardCharsets.UTF_8);\r\n     BufferedReader r = new BufferedReader(isr)) {\r\n   p8key = r.lines().collect(Collectors.joining(&quot;\\n&quot;));\r\n}\r\n\r\n// Load ECKey from the PEM\r\nECKey ecJWK = (ECKey) ECKey.parseFromPEMEncodedObjects(p8key);\r\n\r\n// Create the EC signer\r\nJWSSigner signer = new ECDSASigner(ecJWK);\r\n\r\n// Create the JWS object with a payload\r\nJWSObject jwsObject = new JWSObject(\r\n        new JWSHeader.Builder(JWSAlgorithm.ES256).keyID(ecJWK.getKeyID()).build(),\r\n        new Payload(&quot;Elliptic cure&quot;));\r\n\r\n// Compute the EC signature\r\njwsObject.sign(signer);\r\n\r\n// Serialize the JWS to compact form\r\nString jwtToken = jwsObject.serialize();\r\n\r\n// print the generated token\r\nSystem.out.println(jwtToken);\r\n```\r\n\r\nApparently, the PKCS#8 file provided by Apple does not have a public key included in it. Hence, the above method to create `ECDSASigner` fails with `&quot;Missing PEM-encoded public key to construct JWK&quot;` exception. The code below loads the private key from such PEM file and creates an instance of `ECDSASigner` which can be used to sign the token.\r\n\r\n```java\r\nJWSSigner signer = new ECDSASigner(loadECPrivateKey(&quot;key.p8&quot;));\r\n\r\nprivate static final Provider BC = new BouncyCastleProvider();\r\n\r\nprivate ECPrivateKey loadECPrivateKey(String resource) throws Exception {\r\n  ClassLoader cl = Thread.currentThread().getContextClassLoader();\r\n  try (InputStream is = cl.getResourceAsStream(resource);\r\n       InputStreamReader isr = new InputStreamReader(is, StandardCharsets.UTF_8);\r\n       BufferedReader r = new BufferedReader(isr)) {\r\n\r\n    // strip header and footer, decode from base64, then load the key\r\n    String text = r.lines()\r\n        .filter(s -&gt; s.length() &gt; 0 &amp;&amp; !s.startsWith(&quot;---&quot;))\r\n        .collect(Collectors.joining());\r\n    byte[] bytes = Base64.getDecoder().decode(text);\r\n\r\n    PKCS8EncodedKeySpec spec = new PKCS8EncodedKeySpec(bytes);\r\n    KeyFactory factory = KeyFactory.getInstance(&quot;EC&quot;, BC);\r\n    return (ECPrivateKey)factory.generatePrivate(spec);\r\n  }\r\n}\r\n```","title":"How to sign JWT with PKCS#8 PrivateKeyInfo","body":"<p>Since I did not have an Apple-provided private key at hand I tried to generate one myself using this command:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>openssl ecparam -name prime256v1 -genkey -noout -out key.p8\n</code></pre>\n<p>Here's the code that can use such PEM file to sign a token:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// load PEM as String from &quot;key.p8&quot; resource\nString p8key;\nClassLoader cl = Thread.currentThread().getContextClassLoader();\ntry (InputStream is = cl.getResourceAsStream(&quot;key2.p8&quot;);\n     InputStreamReader isr = new InputStreamReader(is, StandardCharsets.UTF_8);\n     BufferedReader r = new BufferedReader(isr)) {\n   p8key = r.lines().collect(Collectors.joining(&quot;\\n&quot;));\n}\n\n// Load ECKey from the PEM\nECKey ecJWK = (ECKey) ECKey.parseFromPEMEncodedObjects(p8key);\n\n// Create the EC signer\nJWSSigner signer = new ECDSASigner(ecJWK);\n\n// Create the JWS object with a payload\nJWSObject jwsObject = new JWSObject(\n        new JWSHeader.Builder(JWSAlgorithm.ES256).keyID(ecJWK.getKeyID()).build(),\n        new Payload(&quot;Elliptic cure&quot;));\n\n// Compute the EC signature\njwsObject.sign(signer);\n\n// Serialize the JWS to compact form\nString jwtToken = jwsObject.serialize();\n\n// print the generated token\nSystem.out.println(jwtToken);\n</code></pre>\n<p>Apparently, the PKCS#8 file provided by Apple does not have a public key included in it. Hence, the above method to create <code>ECDSASigner</code> fails with <code>&quot;Missing PEM-encoded public key to construct JWK&quot;</code> exception. The code below loads the private key from such PEM file and creates an instance of <code>ECDSASigner</code> which can be used to sign the token.</p>\n<pre class=\"lang-java prettyprint-override\"><code>JWSSigner signer = new ECDSASigner(loadECPrivateKey(&quot;key.p8&quot;));\n\nprivate static final Provider BC = new BouncyCastleProvider();\n\nprivate ECPrivateKey loadECPrivateKey(String resource) throws Exception {\n  ClassLoader cl = Thread.currentThread().getContextClassLoader();\n  try (InputStream is = cl.getResourceAsStream(resource);\n       InputStreamReader isr = new InputStreamReader(is, StandardCharsets.UTF_8);\n       BufferedReader r = new BufferedReader(isr)) {\n\n    // strip header and footer, decode from base64, then load the key\n    String text = r.lines()\n        .filter(s -&gt; s.length() &gt; 0 &amp;&amp; !s.startsWith(&quot;---&quot;))\n        .collect(Collectors.joining());\n    byte[] bytes = Base64.getDecoder().decode(text);\n\n    PKCS8EncodedKeySpec spec = new PKCS8EncodedKeySpec(bytes);\n    KeyFactory factory = KeyFactory.getInstance(&quot;EC&quot;, BC);\n    return (ECPrivateKey)factory.generatePrivate(spec);\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":1046253,"reputation":180,"user_id":1051180,"accept_rate":50,"display_name":"MazeGen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":921,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75045099,"answer_count":1,"score":1,"last_activity_date":1673172751,"creation_date":1673096013,"question_id":75040495,"body_markdown":"I can&#39;t figure out how to sign JWT with PKCS#8 key. The key is similar to this one:\r\n\r\n    -----BEGIN PRIVATE KEY-----\r\n    MIGTAgEAMBNGByqGSM49AgEGCCqGSM49AwEHBHkwdwIBAQQgtbN7M/7webqa1i3k\r\n    3UiwERpWUIoRj6nebM7yRyFphVWgCgYIKoHihj0DAQehRANCAAQl6Z+2bWXLgxJC\r\n    J2It6UNYSuxios4A1A6/7/7hNs0y3Yus53q6RD1snvMU5yTBewrRALyDz/8MNADm\r\n    eN7dRD41\r\n    -----END PRIVATE KEY-----\r\n\r\nThe key is explained in this SO answer: https://stackoverflow.com/a/54981397/1051180\r\n\r\nI need to use the com.nimbusds library. I think it should be doable but couldn&#39;t find the way. The closest I found is this SO answer: https://stackoverflow.com/a/57437626/1051180\r\n\r\nI managed to sign it with the io.jsonwebtoken library:\r\n\r\n\tString token = Jwts.builder().signWith(getPrivateKey(), SignatureAlgorithm.ES256).compact();\r\n\r\n\tprivate static PrivateKey getPrivateKey() {\r\n\t\tPrivateKey key = null;\r\n\t\ttry (var pemParser = new PEMParser(privateKeyReader)) {\r\n\t\t\tvar keyInfo = (PrivateKeyInfo) pemParser.readObject();\r\n\t\t\tkey = new JcaPEMKeyConverter().getPrivateKey(keyInfo);\t\t\r\n\t\t}\r\n\t\treturn key;\r\n\t}\r\n\r\nBackground: I obtained the key in an .p8 file. I use it to sign JWT that is used to authenticate against Apple server during Sign In with Apple.","title":"How to sign JWT with PKCS#8 PrivateKeyInfo","body":"<p>I can't figure out how to sign JWT with PKCS#8 key. The key is similar to this one:</p>\n<pre><code>-----BEGIN PRIVATE KEY-----\nMIGTAgEAMBNGByqGSM49AgEGCCqGSM49AwEHBHkwdwIBAQQgtbN7M/7webqa1i3k\n3UiwERpWUIoRj6nebM7yRyFphVWgCgYIKoHihj0DAQehRANCAAQl6Z+2bWXLgxJC\nJ2It6UNYSuxios4A1A6/7/7hNs0y3Yus53q6RD1snvMU5yTBewrRALyDz/8MNADm\neN7dRD41\n-----END PRIVATE KEY-----\n</code></pre>\n<p>The key is explained in this SO answer: <a href=\"https://stackoverflow.com/a/54981397/1051180\">https://stackoverflow.com/a/54981397/1051180</a></p>\n<p>I need to use the com.nimbusds library. I think it should be doable but couldn't find the way. The closest I found is this SO answer: <a href=\"https://stackoverflow.com/a/57437626/1051180\">https://stackoverflow.com/a/57437626/1051180</a></p>\n<p>I managed to sign it with the io.jsonwebtoken library:</p>\n<pre><code>String token = Jwts.builder().signWith(getPrivateKey(), SignatureAlgorithm.ES256).compact();\n\nprivate static PrivateKey getPrivateKey() {\n    PrivateKey key = null;\n    try (var pemParser = new PEMParser(privateKeyReader)) {\n        var keyInfo = (PrivateKeyInfo) pemParser.readObject();\n        key = new JcaPEMKeyConverter().getPrivateKey(keyInfo);      \n    }\n    return key;\n}\n</code></pre>\n<p>Background: I obtained the key in an .p8 file. I use it to sign JWT that is used to authenticate against Apple server during Sign In with Apple.</p>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1673096819,"post_id":75036184,"comment_id":132423508,"body_markdown":"You said the error was in your style.xml, but the code you posted is from a layout.","body":"You said the error was in your style.xml, but the code you posted is from a layout."},{"owner":{"account_id":18388525,"reputation":65,"user_id":13394915,"display_name":"daritimm"},"score":0,"creation_date":1673168959,"post_id":75036184,"comment_id":132434149,"body_markdown":"Hmm.. It&#39;s from app &gt; src &gt; main &gt; res &gt; style &gt; style.xml. The &lt;androidx&gt; tag gives the error, not necessarily the ToggleButton. I&#39;m guessing it&#39;s the gradle build.","body":"Hmm.. It&#39;s from app &gt; src &gt; main &gt; res &gt; style &gt; style.xml. The &lt;androidx&gt; tag gives the error, not necessarily the ToggleButton. I&#39;m guessing it&#39;s the gradle build."}],"answers":[{"tags":[],"owner":{"account_id":18388525,"reputation":65,"user_id":13394915,"display_name":"daritimm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673172052,"creation_date":1673172052,"answer_id":75046893,"question_id":75036184,"body_markdown":"Turns out the style.xml wasn&#39;t supposed to be there, it was a weird leftover from a previous build from another developer in the team. As noted in the comments: it was a layout code in a xml file. Deleted the style.xml and everything works fine. Only help I can give others: file management.","title":"Can&#39;t Determine Type of Tag in Android Studio (Kotlin build)","body":"<p>Turns out the style.xml wasn't supposed to be there, it was a weird leftover from a previous build from another developer in the team. As noted in the comments: it was a layout code in a xml file. Deleted the style.xml and everything works fine. Only help I can give others: file management.</p>\n"}],"owner":{"account_id":18388525,"reputation":65,"user_id":13394915,"display_name":"daritimm"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673172052,"creation_date":1673040221,"question_id":75036184,"body_markdown":"I&#39;ve read most other threads with the same questions but none of the solutions seems to work for me. Trying to build a signed bundle in Android Studio 7.3.1 with Gradle 7.4. It&#39;s the only error (or the first?) during build. I get the error twice, both in the style.xml\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n    &lt;ToggleButton\r\n        android:id=&quot;@+id/toggle_button&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;Strobe&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n    &lt;SeekBar\r\n        android:id=&quot;@+id/seekBar&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:min=&quot;100&quot;\r\n        android:max=&quot;300&quot;\r\n        android:layout_marginStart=&quot;64dp&quot;\r\n        android:layout_marginEnd=&quot;64dp&quot;\r\n        android:layout_marginBottom=&quot;32dp&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot; /&gt;\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\nEDIT:\r\n\r\nThis is my build.gradle. I must admit I had this build checked over by another developer on his computer, could I be missing an installation somewhere? Do I need the google repository in my build file? Ugh.. lost.\r\n\r\n```\r\nplugins {\r\n    id &#39;com.android.application&#39;\r\n    id &#39;org.jetbrains.kotlin.android&#39;\r\n}\r\n\r\nandroid {\r\n    namespace &#39;com.example.someonestrobe&#39;\r\n    compileSdk 32\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.example.someonestrobe&quot;\r\n        minSdk 21\r\n        targetSdk 32\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n    kotlinOptions {\r\n        jvmTarget = &#39;1.8&#39;\r\n    }\r\n}\r\n\r\ndependencies {\r\n\r\n    implementation &#39;androidx.core:core-ktx:1.7.0&#39;\r\n    implementation &#39;androidx.appcompat:appcompat:1.4.1&#39;\r\n    implementation &#39;com.google.android.material:material:1.6.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.4&#39;\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.3&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.4.0&#39;\r\n}\r\n```","title":"Can&#39;t Determine Type of Tag in Android Studio (Kotlin build)","body":"<p>I've read most other threads with the same questions but none of the solutions seems to work for me. Trying to build a signed bundle in Android Studio 7.3.1 with Gradle 7.4. It's the only error (or the first?) during build. I get the error twice, both in the style.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;ToggleButton\n        android:id=&quot;@+id/toggle_button&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;Strobe&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n    &lt;SeekBar\n        android:id=&quot;@+id/seekBar&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:min=&quot;100&quot;\n        android:max=&quot;300&quot;\n        android:layout_marginStart=&quot;64dp&quot;\n        android:layout_marginEnd=&quot;64dp&quot;\n        android:layout_marginBottom=&quot;32dp&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot; /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>EDIT:</p>\n<p>This is my build.gradle. I must admit I had this build checked over by another developer on his computer, could I be missing an installation somewhere? Do I need the google repository in my build file? Ugh.. lost.</p>\n<pre><code>plugins {\n    id 'com.android.application'\n    id 'org.jetbrains.kotlin.android'\n}\n\nandroid {\n    namespace 'com.example.someonestrobe'\n    compileSdk 32\n\n    defaultConfig {\n        applicationId &quot;com.example.someonestrobe&quot;\n        minSdk 21\n        targetSdk 32\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n    kotlinOptions {\n        jvmTarget = '1.8'\n    }\n}\n\ndependencies {\n\n    implementation 'androidx.core:core-ktx:1.7.0'\n    implementation 'androidx.appcompat:appcompat:1.4.1'\n    implementation 'com.google.android.material:material:1.6.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.4'\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.3'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.4.0'\n}\n</code></pre>\n"},{"tags":["java","spring-data-jpa","thymeleaf"],"answers":[{"tags":[],"owner":{"account_id":25597717,"reputation":46,"user_id":20396069,"display_name":"Donkassu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673170016,"creation_date":1673169921,"answer_id":75046675,"question_id":75045539,"body_markdown":"If you want to solve the issue with the Spring Data JPA, you must bring the `List&lt;Prop&gt;` List-object from its repository. Then, you would not need to make your own custom converter to solve the issue.   ","title":"Spring JPA solution to Thymeleaf returning Strings instead of List&lt;Object&gt;","body":"<p>If you want to solve the issue with the Spring Data JPA, you must bring the <code>List&lt;Prop&gt;</code> List-object from its repository. Then, you would not need to make your own custom converter to solve the issue.</p>\n"}],"owner":{"account_id":22036309,"reputation":23,"user_id":16302750,"display_name":"chengyu-guide"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75046675,"answer_count":1,"score":0,"last_activity_date":1673170016,"creation_date":1673152896,"question_id":75045539,"body_markdown":"I have created a Thymeleaf form and am attempting to map a field with multiple inputs to a List in a OneToMany entity. However, I keep getting the below error:\r\n\r\n```\r\ndefault message [Failed to convert property value of type &#39;java.lang.String&#39; to required type &#39;project.model.Prop&#39; for property &#39;propList[0]&#39;; nested exception is java.lang.IllegalStateException: Cannot convert value of type &#39;java.lang.String&#39; to required type &#39;project.model.Prop&#39; for property &#39;propList[0]&#39;: no matching editors or conversion strategy found]\r\n```\r\n\r\nMany others on this site have faced a similar error, and I have found someone facing an almost identical issue [here](https://stackoverflow.com/questions/51024877/thymeleaf-returning-a-string-array-instead-of-listobject). However, for that post, one answer provides a non-JPA solution. At the same time, the answer says that there is a JPA way to handle the issue, but no additional details are provided.\r\n\r\nCan anyone explain how to resolve that post&#39;s situation with JPA?","title":"Spring JPA solution to Thymeleaf returning Strings instead of List&lt;Object&gt;","body":"<p>I have created a Thymeleaf form and am attempting to map a field with multiple inputs to a List in a OneToMany entity. However, I keep getting the below error:</p>\n<pre><code>default message [Failed to convert property value of type 'java.lang.String' to required type 'project.model.Prop' for property 'propList[0]'; nested exception is java.lang.IllegalStateException: Cannot convert value of type 'java.lang.String' to required type 'project.model.Prop' for property 'propList[0]': no matching editors or conversion strategy found]\n</code></pre>\n<p>Many others on this site have faced a similar error, and I have found someone facing an almost identical issue <a href=\"https://stackoverflow.com/questions/51024877/thymeleaf-returning-a-string-array-instead-of-listobject\">here</a>. However, for that post, one answer provides a non-JPA solution. At the same time, the answer says that there is a JPA way to handle the issue, but no additional details are provided.</p>\n<p>Can anyone explain how to resolve that post's situation with JPA?</p>\n"},{"tags":["java","threadpool","future","threadpoolexecutor","callable"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1673170591,"post_id":75046667,"comment_id":132434380,"body_markdown":"You&#39;re not supposed to write to the queue. You&#39;re supposed to submit tasks to the executor.","body":"You&#39;re not supposed to write to the queue. You&#39;re supposed to submit tasks to the executor."}],"owner":{"account_id":27425410,"reputation":13,"user_id":20923009,"display_name":"Achiya Ben Natan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673169813,"creation_date":1673169813,"question_id":75046667,"body_markdown":"I have tried to write a code for an assignment that I have. In that assignment I need to create a callable and to put it in a threadpool with a priority. I didnt succeed because I am unable to put a callable\\&lt;Object\\&gt; queue in the ThreadPoolExecutor queue section.\r\n\r\nHere is the customExecuter code which uses ThreadPoolExecuter. the queue part in the new ThreadPoolExecuter is marked in red.\r\n\r\n```\r\npackage Ex2Part2;\r\n\r\nimport java.util.concurrent.*;\r\npublic class CustomExecutor {\r\n    private final int minPoolSize;\r\n    private final int maxPoolSize;\r\n    private final PriorityBlockingQueue&lt;Callable&lt;Object&gt;&gt; queue;\r\n    private final ThreadPoolExecutor executor;\r\n\r\n    private int maxPriority = 0;\r\n    private boolean isShutdown = false;\r\n        public CustomExecutor() {\r\n        int availableProcessors = Runtime.getRuntime().availableProcessors();\r\n        this.minPoolSize = availableProcessors / 2;\r\n        this.maxPoolSize = availableProcessors - 1;\r\n        this.queue = new PriorityBlockingQueue&lt;&gt;();\r\n        this.executor = new ThreadPoolExecutor(minPoolSize, maxPoolSize, 0, TimeUnit.MILLISECONDS, queue);\r\n    }\r\n\r\n    public &lt;T&gt; CompletableFuture&lt;T&gt; submit(Callable&lt;T&gt; task, TaskType priority) throws Exception {\r\n        if (isShutdown) {\r\n            throw new IllegalStateException(&quot;Thread pool has already been shut down&quot;);\r\n        }\r\n        CompletableFuture&lt;T&gt; future = new CompletableFuture&lt;&gt;();\r\n        Task callable = new Task(task, priority);\r\n        future=callable.call();\r\n        maxPriority = Math.max(maxPriority, priority.getPriorityValue());\r\n        queue.put(callable);\r\n        return future;\r\n    }\r\n\r\n    public int getCurrentMax() {\r\n        return maxPriority;\r\n    }\r\n\r\n    public void gracefullyTerminate() {\r\n        isShutdown = true;\r\n        executor.shutdown();\r\n        try {\r\n            executor.awaitTermination(Long.MAX_VALUE, TimeUnit.NANOSECONDS);\r\n        } catch (InterruptedException e) {\r\n            // Handle interrupted exception\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nHere is my task code:\r\n\r\n```\r\npublic class Task implements Callable&lt;Object&gt; {\r\n        private  Callable&lt;?&gt; task;\r\n        private  TaskType priority;\r\n\r\n\r\n        public Task(Callable&lt;?&gt; task, TaskType priority) {\r\n            this.task = task;\r\n            this.priority = priority;\r\n        }\r\n    public static  &lt;T&gt; Task createTask(Callable&lt;T&gt; task,TaskType priority)\r\n    {\r\n        Task newTask=new Task(task,priority);\r\n        return newTask;\r\n    }\r\n    @Override\r\n    public Object call() throws Exception {\r\n        return task.call();\r\n    }\r\n\r\n    public int Comperator(Task other) {\r\n            return Integer.compare(priority.getPriorityValue(), other.priority.getPriorityValue());\r\n        }\r\n    }\r\n```\r\n\r\nAnother question that I have is in the CustomExecuter in the submit part I dont know how to return the future part so that I will be able to get it in my tests.\r\n\r\n......................","title":"Is it possible to make a ThreadPoolExecutor with a PriorityBlockingQueue&lt;Callable&lt;Object&gt;&gt; queue?","body":"<p>I have tried to write a code for an assignment that I have. In that assignment I need to create a callable and to put it in a threadpool with a priority. I didnt succeed because I am unable to put a callable&lt;Object&gt; queue in the ThreadPoolExecutor queue section.</p>\n<p>Here is the customExecuter code which uses ThreadPoolExecuter. the queue part in the new ThreadPoolExecuter is marked in red.</p>\n<pre><code>package Ex2Part2;\n\nimport java.util.concurrent.*;\npublic class CustomExecutor {\n    private final int minPoolSize;\n    private final int maxPoolSize;\n    private final PriorityBlockingQueue&lt;Callable&lt;Object&gt;&gt; queue;\n    private final ThreadPoolExecutor executor;\n\n    private int maxPriority = 0;\n    private boolean isShutdown = false;\n        public CustomExecutor() {\n        int availableProcessors = Runtime.getRuntime().availableProcessors();\n        this.minPoolSize = availableProcessors / 2;\n        this.maxPoolSize = availableProcessors - 1;\n        this.queue = new PriorityBlockingQueue&lt;&gt;();\n        this.executor = new ThreadPoolExecutor(minPoolSize, maxPoolSize, 0, TimeUnit.MILLISECONDS, queue);\n    }\n\n    public &lt;T&gt; CompletableFuture&lt;T&gt; submit(Callable&lt;T&gt; task, TaskType priority) throws Exception {\n        if (isShutdown) {\n            throw new IllegalStateException(&quot;Thread pool has already been shut down&quot;);\n        }\n        CompletableFuture&lt;T&gt; future = new CompletableFuture&lt;&gt;();\n        Task callable = new Task(task, priority);\n        future=callable.call();\n        maxPriority = Math.max(maxPriority, priority.getPriorityValue());\n        queue.put(callable);\n        return future;\n    }\n\n    public int getCurrentMax() {\n        return maxPriority;\n    }\n\n    public void gracefullyTerminate() {\n        isShutdown = true;\n        executor.shutdown();\n        try {\n            executor.awaitTermination(Long.MAX_VALUE, TimeUnit.NANOSECONDS);\n        } catch (InterruptedException e) {\n            // Handle interrupted exception\n        }\n    }\n}\n</code></pre>\n<p>Here is my task code:</p>\n<pre><code>public class Task implements Callable&lt;Object&gt; {\n        private  Callable&lt;?&gt; task;\n        private  TaskType priority;\n\n\n        public Task(Callable&lt;?&gt; task, TaskType priority) {\n            this.task = task;\n            this.priority = priority;\n        }\n    public static  &lt;T&gt; Task createTask(Callable&lt;T&gt; task,TaskType priority)\n    {\n        Task newTask=new Task(task,priority);\n        return newTask;\n    }\n    @Override\n    public Object call() throws Exception {\n        return task.call();\n    }\n\n    public int Comperator(Task other) {\n            return Integer.compare(priority.getPriorityValue(), other.priority.getPriorityValue());\n        }\n    }\n</code></pre>\n<p>Another question that I have is in the CustomExecuter in the submit part I dont know how to return the future part so that I will be able to get it in my tests.</p>\n<p>......................</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5823420,"reputation":785,"user_id":6656833,"display_name":"Pavel"},"score":0,"creation_date":1673109602,"post_id":75041976,"comment_id":132426227,"body_markdown":"it does not, it compiles and works perfectly fine","body":"it does not, it compiles and works perfectly fine"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1673109681,"post_id":75041976,"comment_id":132426253,"body_markdown":"@Pavel [It depends on the Java version used](https://ideone.com/FOpxz0).","body":"@Pavel <a href=\"https://ideone.com/FOpxz0\" rel=\"nofollow noreferrer\">It depends on the Java version used</a>."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1673143700,"post_id":75041976,"comment_id":132431800,"body_markdown":"A quick glance at the Javadoc would have solved your own question.","body":"A quick glance at the Javadoc would have solved your own question."},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1673163513,"post_id":75041976,"comment_id":132433406,"body_markdown":"*Any* time you ask a question with an error (whether that&#39;s a compilation error or an exception), please make sure you include the *full* details of the error in the question. &quot;Has error message&quot; isn&#39;t *nearly* as useful as showing the error you receive. (It&#39;s also often useful to include details of the version of the platform you&#39;re using.)","body":"<i>Any</i> time you ask a question with an error (whether that&#39;s a compilation error or an exception), please make sure you include the <i>full</i> details of the error in the question. &quot;Has error message&quot; isn&#39;t <i>nearly</i> as useful as showing the error you receive. (It&#39;s also often useful to include details of the version of the platform you&#39;re using.)"}],"answers":[{"tags":[],"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1673169071,"creation_date":1673109899,"answer_id":75042065,"question_id":75041976,"body_markdown":"The method `nextFloat(float)` is implemented in interface [`java.util.random.RandomGenerator` (`docs.oracle.com`)][randomGeneratorApi], which was introduced in [Java 17 (`en.wikipedia.org`)][javaVersionWiki]. \r\n\r\nCompiling this code with a JDK &lt; 17 will result in a compilation error: \r\n\r\n    ...\r\n    ... error: method nextFloat in class Random cannot be applied to given types;\r\n    ...\r\n\r\nThere are two ways to solve this issue:\r\n- Upgrade to a JDK &gt;= 17 (the recommended approach)\r\n- Copy what `RandomGenerator.nextFloat(float)` does (the actual implementation can be found in [`jdk.internal.util.random.RandomSupport` (`github.com`)][randomSupportSrc]):\r\n\r\n      float distance = ran2.nextFloat();\r\n      distance = distance * 50f;\r\n      if (distance &gt;= 50f) // may need to codistancedistanceect a distanceounding pdistanceoblem\r\n        distance = Float.intBitsToFloat(Float.floatToIntBits(50f) - 1);\r\n\r\n[randomGeneratorApi]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/random/RandomGenerator.html\r\n\r\n[javaVersionWiki]: https://en.wikipedia.org/wiki/Java_version_history#Java_17\r\n\r\n[randomSupportSrc]: https://github.com/openjdk/jdk/blob/jdk-17+35/src/java.base/share/classes/jdk/internal/util/random/RandomSupport.java#L747","title":"nextFloat is not working on Random object","body":"<p>The method <code>nextFloat(float)</code> is implemented in interface <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/random/RandomGenerator.html\" rel=\"nofollow noreferrer\"><code>java.util.random.RandomGenerator</code> (<code>docs.oracle.com</code>)</a>, which was introduced in <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_17\" rel=\"nofollow noreferrer\">Java 17 (<code>en.wikipedia.org</code>)</a>.</p>\n<p>Compiling this code with a JDK &lt; 17 will result in a compilation error:</p>\n<pre><code>...\n... error: method nextFloat in class Random cannot be applied to given types;\n...\n</code></pre>\n<p>There are two ways to solve this issue:</p>\n<ul>\n<li><p>Upgrade to a JDK &gt;= 17 (the recommended approach)</p>\n</li>\n<li><p>Copy what <code>RandomGenerator.nextFloat(float)</code> does (the actual implementation can be found in <a href=\"https://github.com/openjdk/jdk/blob/jdk-17+35/src/java.base/share/classes/jdk/internal/util/random/RandomSupport.java#L747\" rel=\"nofollow noreferrer\"><code>jdk.internal.util.random.RandomSupport</code> (<code>github.com</code>)</a>):</p>\n<pre><code>float distance = ran2.nextFloat();\ndistance = distance * 50f;\nif (distance &gt;= 50f) // may need to codistancedistanceect a distanceounding pdistanceoblem\n  distance = Float.intBitsToFloat(Float.floatToIntBits(50f) - 1);\n</code></pre>\n</li>\n</ul>\n"}],"owner":{"account_id":20679840,"reputation":13,"user_id":15183681,"display_name":"aren talb"},"comment_count":4,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1673112473,"accepted_answer_id":75042065,"answer_count":1,"score":-3,"last_activity_date":1673169071,"creation_date":1673109155,"question_id":75041976,"body_markdown":"why this line of code has error message ?\r\n\r\n    Random ran2 = new Random();\r\n    float distance = ran2.nextFloat(50f);","title":"nextFloat is not working on Random object","body":"<p>why this line of code has error message ?</p>\n<pre><code>Random ran2 = new Random();\nfloat distance = ran2.nextFloat(50f);\n</code></pre>\n"},{"tags":["java","android","kotlin","session","audio"],"comments":[{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":0,"creation_date":1673168445,"post_id":75046535,"comment_id":132434075,"body_markdown":"You should [edit](https://stackoverflow.com/posts/75046535/edit) your question to include where `musicPlayingId` came from.","body":"You should <a href=\"https://stackoverflow.com/posts/75046535/edit\">edit</a> your question to include where <code>musicPlayingId</code> came from."},{"owner":{"account_id":27001377,"reputation":9,"user_id":20562610,"display_name":"UserAndroidDeveloper"},"score":0,"creation_date":1673168786,"post_id":75046535,"comment_id":132434113,"body_markdown":"musicPlayingId it ID audio session","body":"musicPlayingId it ID audio session"},{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":0,"creation_date":1673169243,"post_id":75046535,"comment_id":132434186,"body_markdown":"Please read: https://stackoverflow.com/a/41939711/295004 and show code of how it was assigned.","body":"Please read: <a href=\"https://stackoverflow.com/a/41939711/295004\">stackoverflow.com/a/41939711/295004</a> and show code of how it was assigned."},{"owner":{"account_id":27001377,"reputation":9,"user_id":20562610,"display_name":"UserAndroidDeveloper"},"score":1,"creation_date":1673170876,"post_id":75046535,"comment_id":132434434,"body_markdown":"I need a global audio session id. How to get it?  Does it default to 0?","body":"I need a global audio session id. How to get it?  Does it default to 0?"}],"owner":{"account_id":27001377,"reputation":9,"user_id":20562610,"display_name":"UserAndroidDeveloper"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":163,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673168808,"creation_date":1673168250,"question_id":75046535,"body_markdown":"When calling the setEqualizerData() method, namely when initializing myEq = Equalizer(0, musicPlayingId), an error occurs: Caused by java.lang.RuntimeException: Cannot initialize effect engine for type: 0bed4300-ddd6-11db-8f34-0002a5d5c51b Error: -3\r\n\r\n    private fun setEqualizerData() {\r\n    myEq = Equalizer(0, musicPlayingId) //Error //musicPlayingId = 0\r\n    myEq!!.enabled = true\r\n    setBoost(sharedPreferences.getFloat(LOUDER_LEVEL, 1f))\r\n    myEq!!.setBandLevel(\r\n        0,\r\n        sharedPreferences.getInt(BAND_1_LEVEL, 1500).toShort()\r\n    )\r\n    myEq!!.setBandLevel(\r\n        1,\r\n        sharedPreferences.getInt(BAND_2_LEVEL, 1500).toShort()\r\n    )\r\n    myEq!!.setBandLevel(\r\n        2,\r\n        sharedPreferences.getInt(BAND_3_LEVEL, 1500).toShort()\r\n    )\r\n    myEq!!.setBandLevel(\r\n        3,\r\n        sharedPreferences.getInt(BAND_4_LEVEL, 1500).toShort()\r\n    )\r\n    myEq!!.setBandLevel(\r\n        4,\r\n        sharedPreferences.getInt(BAND_5_LEVEL, 1500).toShort()\r\n    )\r\n    mBassBoost = BassBoost(0, musicPlayingId)\r\n    mBassBoost!!.enabled = true\r\n    setBassBoost()\r\n    virtualizer = Virtualizer(0, musicPlayingId)\r\n    virtualizer!!.enabled = true\r\n    setVirtualizer()\r\n    loudness = LoudnessEnhancer(musicPlayingId)\r\n}\r\n\r\nstacktrace:\r\n\r\n    Caused by java.lang.RuntimeException: Cannot initialize effect engine for type: 0bed4300-ddd6-11db-8f34-0002a5d5c51b Error: -3\r\n       at android.media.audiofx.AudioEffect.&lt;init&gt;(AudioEffect.java:468)\r\n       at android.media.audiofx.Equalizer.&lt;init&gt;(Equalizer.java:139)\r\n       at example.androidvolumelouder.presentation.ui.activities.MainActivity.setEqualizerData(MainActivity.kt:343)\r\n       at example.androidvolumelouder.presentation.ui.activities.MainActivity.setDataToView(MainActivity.kt:529)\r\n       at example.androidvolumelouder.presentation.ui.activities.MainActivity.onCreate(MainActivity.kt:147)\r\n       at android.app.Activity.performCreate(Activity.java:7893)\r\n       at android.app.Activity.performCreate(Activity.java:7880)\r\n       at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1306)\r\n       at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3310)\r\n       at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3484)\r\n       at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:83)\r\n       at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\r\n       at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\r\n       at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2068)\r\n       at android.os.Handler.dispatchMessage(Handler.java:107)\r\n       at android.os.Looper.loop(Looper.java:224)\r\n       at android.app.ActivityThread.main(ActivityThread.java:7551)\r\n       at java.lang.reflect.Method.invoke(Method.java)\r\n       at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:539)\r\n       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:995)\r\n\r\nHelp please, what&#39;s the problem?","title":"Cannot initialize effect engine","body":"<p>When calling the setEqualizerData() method, namely when initializing myEq = Equalizer(0, musicPlayingId), an error occurs: Caused by java.lang.RuntimeException: Cannot initialize effect engine for type: 0bed4300-ddd6-11db-8f34-0002a5d5c51b Error: -3</p>\n<pre><code>private fun setEqualizerData() {\nmyEq = Equalizer(0, musicPlayingId) //Error //musicPlayingId = 0\nmyEq!!.enabled = true\nsetBoost(sharedPreferences.getFloat(LOUDER_LEVEL, 1f))\nmyEq!!.setBandLevel(\n    0,\n    sharedPreferences.getInt(BAND_1_LEVEL, 1500).toShort()\n)\nmyEq!!.setBandLevel(\n    1,\n    sharedPreferences.getInt(BAND_2_LEVEL, 1500).toShort()\n)\nmyEq!!.setBandLevel(\n    2,\n    sharedPreferences.getInt(BAND_3_LEVEL, 1500).toShort()\n)\nmyEq!!.setBandLevel(\n    3,\n    sharedPreferences.getInt(BAND_4_LEVEL, 1500).toShort()\n)\nmyEq!!.setBandLevel(\n    4,\n    sharedPreferences.getInt(BAND_5_LEVEL, 1500).toShort()\n)\nmBassBoost = BassBoost(0, musicPlayingId)\nmBassBoost!!.enabled = true\nsetBassBoost()\nvirtualizer = Virtualizer(0, musicPlayingId)\nvirtualizer!!.enabled = true\nsetVirtualizer()\nloudness = LoudnessEnhancer(musicPlayingId)\n</code></pre>\n<p>}</p>\n<p>stacktrace:</p>\n<pre><code>Caused by java.lang.RuntimeException: Cannot initialize effect engine for type: 0bed4300-ddd6-11db-8f34-0002a5d5c51b Error: -3\n   at android.media.audiofx.AudioEffect.&lt;init&gt;(AudioEffect.java:468)\n   at android.media.audiofx.Equalizer.&lt;init&gt;(Equalizer.java:139)\n   at example.androidvolumelouder.presentation.ui.activities.MainActivity.setEqualizerData(MainActivity.kt:343)\n   at example.androidvolumelouder.presentation.ui.activities.MainActivity.setDataToView(MainActivity.kt:529)\n   at example.androidvolumelouder.presentation.ui.activities.MainActivity.onCreate(MainActivity.kt:147)\n   at android.app.Activity.performCreate(Activity.java:7893)\n   at android.app.Activity.performCreate(Activity.java:7880)\n   at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1306)\n   at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3310)\n   at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3484)\n   at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:83)\n   at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\n   at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\n   at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2068)\n   at android.os.Handler.dispatchMessage(Handler.java:107)\n   at android.os.Looper.loop(Looper.java:224)\n   at android.app.ActivityThread.main(ActivityThread.java:7551)\n   at java.lang.reflect.Method.invoke(Method.java)\n   at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:539)\n   at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:995)\n</code></pre>\n<p>Help please, what's the problem?</p>\n"},{"tags":["javascript","java","reactjs","next.js","vercel"],"comments":[{"owner":{"account_id":18046102,"reputation":859,"user_id":13117070,"display_name":"Cypherjac"},"score":1,"creation_date":1652734945,"post_id":72265537,"comment_id":127673605,"body_markdown":"Can you send a screenshot of the actual error or copy it entirely","body":"Can you send a screenshot of the actual error or copy it entirely"},{"owner":{"account_id":10302141,"reputation":198,"user_id":7600535,"display_name":"Ganzo"},"score":0,"creation_date":1652735681,"post_id":72265537,"comment_id":127673819,"body_markdown":"the two examples I posted are the complete error messages provided by Vercel, it does not give me more explanation.  That&#39;s why I don&#39;t understand.                                             OPn the learn more link it just say this :  Project names can only consist of up to 100 alphanumeric lowercase characters. Hyphens can be used in between the name, but never at the start or end.","body":"the two examples I posted are the complete error messages provided by Vercel, it does not give me more explanation.  That&#39;s why I don&#39;t understand.                                             OPn the learn more link it just say this :  Project names can only consist of up to 100 alphanumeric lowercase characters. Hyphens can be used in between the name, but never at the start or end."},{"owner":{"account_id":86810,"reputation":7271,"user_id":241153,"accept_rate":60,"display_name":"serraosays"},"score":1,"creation_date":1652741457,"post_id":72265537,"comment_id":127674941,"body_markdown":"Check your `package.json` and look for the name field. Does it match `ecommerce_sanity`?","body":"Check your <code>package.json</code> and look for the name field. Does it match <code>ecommerce_sanity</code>?"},{"owner":{"account_id":2103945,"reputation":44723,"user_id":1870780,"display_name":"juliomalves"},"score":2,"creation_date":1652791797,"post_id":72265537,"comment_id":127687705,"body_markdown":"_&quot;alphanumeric lowercase characters and hyphens&quot;_ - this does not include underscores. Have you tried using hyphens instead: `ecommerce-sanity`?","body":"<i>&quot;alphanumeric lowercase characters and hyphens&quot;</i> - this does not include underscores. Have you tried using hyphens instead: <code>ecommerce-sanity</code>?"},{"owner":{"account_id":10302141,"reputation":198,"user_id":7600535,"display_name":"Ganzo"},"score":0,"creation_date":1652860289,"post_id":72265537,"comment_id":127705823,"body_markdown":"@juliomalves, Yes i tried like this too same error.","body":"@juliomalves, Yes i tried like this too same error."},{"owner":{"account_id":10302141,"reputation":198,"user_id":7600535,"display_name":"Ganzo"},"score":0,"creation_date":1652860437,"post_id":72265537,"comment_id":127705897,"body_markdown":"@serraosays In the package.json it was only ecommerce but i figured out that it&#39;s the environnement variable that make appear the error cause when i try to deploy whithout the env variable but same name it&#39;s works so i manage to deploy the project without env variable and add them after.","body":"@serraosays In the package.json it was only ecommerce but i figured out that it&#39;s the environnement variable that make appear the error cause when i try to deploy whithout the env variable but same name it&#39;s works so i manage to deploy the project without env variable and add them after."},{"owner":{"account_id":86810,"reputation":7271,"user_id":241153,"accept_rate":60,"display_name":"serraosays"},"score":0,"creation_date":1652895300,"post_id":72265537,"comment_id":127720108,"body_markdown":"If you&#39;re deploying to Vercel, define your env up there: https://vercel.com/docs/concepts/projects/environment-variables. Make sure it matches what you have locally in your `.env.local` - remember don&#39;t commit `.env.local` to your repo!!!","body":"If you&#39;re deploying to Vercel, define your env up there: <a href=\"https://vercel.com/docs/concepts/projects/environment-variables\" rel=\"nofollow noreferrer\">vercel.com/docs/concepts/projects/environment-variables</a>. Make sure it matches what you have locally in your <code>.env.local</code> - remember don&#39;t commit <code>.env.local</code> to your repo!!!"}],"answers":[{"tags":[],"owner":{"account_id":26099399,"reputation":61,"user_id":19795068,"display_name":"kush bogati"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1665223507,"creation_date":1660835176,"answer_id":73405405,"question_id":72265537,"body_markdown":"In my case it was the `env_variables` creating the error. When I tried to copy and paste the env_variables, some spaces were there in the `env_name` like: `HELLO_WORLD ` (note the space at the end) and that was creating this error:\r\n\r\n&gt; The name contains invalid characters. Only letters, digits, and underscores are allowed. Furthermore, the name should start with a letter.","title":"Can&#39;t deploy project on Vercel due to name error","body":"<p>In my case it was the <code>env_variables</code> creating the error. When I tried to copy and paste the env_variables, some spaces were there in the <code>env_name</code> like: <code>HELLO_WORLD </code> (note the space at the end) and that was creating this error:</p>\n<blockquote>\n<p>The name contains invalid characters. Only letters, digits, and underscores are allowed. Furthermore, the name should start with a letter.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":26497710,"reputation":1,"user_id":20135145,"display_name":"toan5ks1"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665223297,"creation_date":1664597499,"answer_id":73915753,"question_id":72265537,"body_markdown":"Just rename your github repo like &quot;abc-abc&quot; and it work.  I had the same problem and that fixed it for me.","title":"Can&#39;t deploy project on Vercel due to name error","body":"<p>Just rename your github repo like &quot;abc-abc&quot; and it work.  I had the same problem and that fixed it for me.</p>\n"},{"tags":[],"owner":{"account_id":24463350,"reputation":21,"user_id":18384107,"display_name":"Moniruzzaman Shakib"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666432490,"creation_date":1666432490,"answer_id":74162553,"question_id":72265537,"body_markdown":"Rename the project name like &quot;dummy_server&quot; to &quot;dummy-server&quot;. \r\nReplace underscore to hyphen. Hope it will work.","title":"Can&#39;t deploy project on Vercel due to name error","body":"<p>Rename the project name like &quot;dummy_server&quot; to &quot;dummy-server&quot;.\nReplace underscore to hyphen. Hope it will work.</p>\n"},{"tags":[],"owner":{"account_id":20930983,"reputation":1008,"user_id":15377381,"display_name":"Cardoso"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666444470,"creation_date":1666444470,"answer_id":74163880,"question_id":72265537,"body_markdown":"I faced this kind of problem and solved it by using only lowser-case characters. I removed hypens, underscore, numbers, and upper-cases.\r\nAnd also confirm that your project name is unique. I think your project name could be long.&lt;br /&gt;\r\nAnd one more point, you have to remove un-using projects if you have many project with your basic plan. Or you can upgrade your vercel account to premium one.","title":"Can&#39;t deploy project on Vercel due to name error","body":"<p>I faced this kind of problem and solved it by using only lowser-case characters. I removed hypens, underscore, numbers, and upper-cases.\nAnd also confirm that your project name is unique. I think your project name could be long.<br />\nAnd one more point, you have to remove un-using projects if you have many project with your basic plan. Or you can upgrade your vercel account to premium one.</p>\n"},{"tags":[],"owner":{"account_id":17600227,"reputation":41,"user_id":12770378,"display_name":"Info All"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1673166956,"creation_date":1673166956,"answer_id":75046441,"question_id":72265537,"body_markdown":"Remove underscore and put Hyphen like this\r\n\r\n**headphones-ecommerce**\r\n\r\nor join them\r\n\r\n**headphonesecommerce**\r\n","title":"Can&#39;t deploy project on Vercel due to name error","body":"<p>Remove underscore and put Hyphen like this</p>\n<p><strong>headphones-ecommerce</strong></p>\n<p>or join them</p>\n<p><strong>headphonesecommerce</strong></p>\n"}],"owner":{"account_id":10302141,"reputation":198,"user_id":7600535,"display_name":"Ganzo"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4729,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"answer_count":5,"score":4,"last_activity_date":1673166956,"creation_date":1652734596,"question_id":72265537,"body_markdown":"I want to deploy on project on vercel but I keep got an error that say me the project is not valid like this message:\r\n\r\n&gt; Error: The name of a Project can only contain up to 100 alphanumeric lowercase characters and hyphens. Learn More\r\n\r\nbut my name project is: ecommerce_sanity\r\n\r\nor this error: \r\n\r\n&gt; The name contains invalid characters. Only letters, digits, and underscores are allowed. Furthermore, the name should start with a letter.\r\n\r\nfor this name project: headphones_ecommerce\r\n\r\nI try different name but keep got this error do someone already face this?\r\n\r\n","title":"Can&#39;t deploy project on Vercel due to name error","body":"<p>I want to deploy on project on vercel but I keep got an error that say me the project is not valid like this message:</p>\n<blockquote>\n<p>Error: The name of a Project can only contain up to 100 alphanumeric lowercase characters and hyphens. Learn More</p>\n</blockquote>\n<p>but my name project is: ecommerce_sanity</p>\n<p>or this error:</p>\n<blockquote>\n<p>The name contains invalid characters. Only letters, digits, and underscores are allowed. Furthermore, the name should start with a letter.</p>\n</blockquote>\n<p>for this name project: headphones_ecommerce</p>\n<p>I try different name but keep got this error do someone already face this?</p>\n"},{"tags":["java","junit","reflection"],"answers":[{"tags":[],"owner":{"account_id":17875756,"reputation":106,"user_id":12985876,"display_name":"Taras"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673166953,"creation_date":1673121134,"answer_id":75043339,"question_id":75042482,"body_markdown":"Lol. I found solution for my case.\r\nMy previous approach was incorrect. Because it&#39;s impossible to find &#39;missing&#39; and &#39;extra&#39; fields by name correctly for every case. I decided to use:\r\n\r\n    assertThat(entityClass.getDeclaredFields()).hasSameSizeAs(auditDtoClass.getDeclaredFields());\r\n\r\nSo this code is checking if the entityClass and the DtoClass have the same number of fields (properties) declared. If not it fail test and print all fields from each classes. If anyone has better ideas I&#39;ll be happy to hear.","title":"Scan all fields in dtos and find missing and extra fields by their Entities","body":"<p>Lol. I found solution for my case.\nMy previous approach was incorrect. Because it's impossible to find 'missing' and 'extra' fields by name correctly for every case. I decided to use:</p>\n<pre><code>assertThat(entityClass.getDeclaredFields()).hasSameSizeAs(auditDtoClass.getDeclaredFields());\n</code></pre>\n<p>So this code is checking if the entityClass and the DtoClass have the same number of fields (properties) declared. If not it fail test and print all fields from each classes. If anyone has better ideas I'll be happy to hear.</p>\n"}],"owner":{"account_id":17875756,"reputation":106,"user_id":12985876,"display_name":"Taras"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":299,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673166953,"creation_date":1673113295,"question_id":75042482,"body_markdown":"**I want to create a unit test that will use reflection to find all missing fields in dto that implement BaseDto by their persistence entities. This is what I did.** \r\n\r\n\r\n    @Slf4j\r\n    public class EntityAuditDtoTest {\r\n        @Test\r\n        public void find_MissingAndExtraFieldsThatUsedInAuditDtosByEntity_ReturnMissingAndExtraFields() throws ClassNotFoundException {\r\n            // Arrange\r\n            ClassPathScanningCandidateComponentProvider scanner = new ClassPathScanningCandidateComponentProvider(false);\r\n            scanner.addIncludeFilter(new AnnotationTypeFilter(AuditEntityType.class));\r\n    \r\n            // Find all classes annotated with @AuditEntityType in the package com.example.dto\r\n            Set&lt;BeanDefinition&gt; auditDtoBeans = scanner.findCandidateComponents(&quot;com.example.dto&quot;);\r\n    \r\n            // Act\r\n            for (BeanDefinition auditDtoBean : auditDtoBeans) {\r\n                Class&lt;?&gt; auditDtoClass = Class.forName(auditDtoBean.getBeanClassName());\r\n    \r\n                // Make sure the DTO class implements BaseAuditDto\r\n                if (!BaseAuditDto.class.isAssignableFrom(auditDtoClass)) {\r\n                    continue;\r\n                }\r\n    \r\n                Class&lt;?&gt; entityClass = getEntityClassForDto(auditDtoClass);\r\n    \r\n                Field[] dtoFields = auditDtoClass.getDeclaredFields();\r\n                Field[] entityFields = entityClass.getDeclaredFields();\r\n    \r\n                List&lt;String&gt; missingFields = Arrays.stream(entityFields).map(Field::getName)\r\n                        .filter(field -&gt; Arrays.stream(dtoFields).noneMatch(f -&gt; f.getName().equals(field))).toList();\r\n    \r\n                if (!missingFields.isEmpty()) {\r\n                    log.error(&quot;Missing fields in DTO class: {} \\nfor entity class: {} : {}&quot;, auditDtoClass.getName(),\r\n                            entityClass.getName(), missingFields);\r\n                }\r\n    \r\n                List&lt;String&gt; extraFields = Arrays.stream(dtoFields).map(Field::getName)\r\n                        .filter(field -&gt; Arrays.stream(entityFields).noneMatch(f -&gt; f.getName().equals(field))).toList();\r\n    \r\n                if (!extraFields.isEmpty()) {\r\n                    log.error(&quot;Extra fields in DTO class: {} \\nfor entity class: {} : {}&quot;, auditDtoClass.getName(),\r\n                            entityClass.getName(), extraFields);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n**But the problem is that the dto may have a field that is in the entity class, but the test will think that this is a missing field.**\r\n\r\n\r\n\r\nFor example: \r\n\r\nDto class: ContractAudit has customerId field (customerId). And ContractEntity has public CustomerEntity customer. \r\nThis is the same fields. But of course for test they are different. I don&#39;t understand how to ignore them. I also don&#39;t want to hardcode filter that skip all endings with &#39;id&#39; prefix. \r\n\r\n\r\n    @Data\r\n    @AuditEntityType(&quot;Contract&quot;)\r\n    public class ContractAudit implements BaseAuditDto {\r\n      private Long id;\r\n      private String ref;\r\n      private String status;\r\n      private Long customerId;\r\n    }\r\n\r\n\r\n    @Entity\r\n    @Table(name = &quot;contract&quot;)\r\n    @Getter\r\n    @Setter\r\n    @ToString\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Builder\r\n    public class ContractEntity {\r\n      @Id\r\n      @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n      @Column(name = &quot;id&quot;)\r\n      @ToString.Include\r\n      private Long id;\r\n    \r\n      @Column(name = &quot;ref&quot;, updatable = true)\r\n      @ToString.Include\r\n      private String ref;\r\n    \r\n      @Column(name = &quot;status&quot;)\r\n      @ToString.Include\r\n      @Enumerated(value = EnumType.STRING)\r\n      private ContractStatusEnum status;\r\n    \r\n      @ManyToOne\r\n      @JoinColumn(name = &quot;customer_id&quot;)\r\n      public CustomerEntity customer;\r\n    \r\n      @Column(name = &quot;deleted&quot;)\r\n      @ToString.Include\r\n      private boolean deleted;\r\n    \r\n      @OneToMany(fetch = FetchType.LAZY)\r\n      @JoinColumn(name = &quot;contract_id&quot;)\r\n      private List&lt;ContractDocumentEntity&gt; documents;\r\n    }\r\n\r\nOutput: \r\nMissing fields in DTO class: ContractAudit for entity class: ContractEntity : [customer, deleted, documents]\r\n\r\nExtra fields in DTO class: ContractAudit for entity class: ContractEntity : [customerId]\r\n\r\nI want to have missing fields: [deleted, documents]\r\n\r\nIf you have any other ideas on how to do this, I&#39;d love to hear it. I am not asking for implementation. Suggestions only)\r\n","title":"Scan all fields in dtos and find missing and extra fields by their Entities","body":"<p><strong>I want to create a unit test that will use reflection to find all missing fields in dto that implement BaseDto by their persistence entities. This is what I did.</strong></p>\n<pre><code>@Slf4j\npublic class EntityAuditDtoTest {\n    @Test\n    public void find_MissingAndExtraFieldsThatUsedInAuditDtosByEntity_ReturnMissingAndExtraFields() throws ClassNotFoundException {\n        // Arrange\n        ClassPathScanningCandidateComponentProvider scanner = new ClassPathScanningCandidateComponentProvider(false);\n        scanner.addIncludeFilter(new AnnotationTypeFilter(AuditEntityType.class));\n\n        // Find all classes annotated with @AuditEntityType in the package com.example.dto\n        Set&lt;BeanDefinition&gt; auditDtoBeans = scanner.findCandidateComponents(&quot;com.example.dto&quot;);\n\n        // Act\n        for (BeanDefinition auditDtoBean : auditDtoBeans) {\n            Class&lt;?&gt; auditDtoClass = Class.forName(auditDtoBean.getBeanClassName());\n\n            // Make sure the DTO class implements BaseAuditDto\n            if (!BaseAuditDto.class.isAssignableFrom(auditDtoClass)) {\n                continue;\n            }\n\n            Class&lt;?&gt; entityClass = getEntityClassForDto(auditDtoClass);\n\n            Field[] dtoFields = auditDtoClass.getDeclaredFields();\n            Field[] entityFields = entityClass.getDeclaredFields();\n\n            List&lt;String&gt; missingFields = Arrays.stream(entityFields).map(Field::getName)\n                    .filter(field -&gt; Arrays.stream(dtoFields).noneMatch(f -&gt; f.getName().equals(field))).toList();\n\n            if (!missingFields.isEmpty()) {\n                log.error(&quot;Missing fields in DTO class: {} \\nfor entity class: {} : {}&quot;, auditDtoClass.getName(),\n                        entityClass.getName(), missingFields);\n            }\n\n            List&lt;String&gt; extraFields = Arrays.stream(dtoFields).map(Field::getName)\n                    .filter(field -&gt; Arrays.stream(entityFields).noneMatch(f -&gt; f.getName().equals(field))).toList();\n\n            if (!extraFields.isEmpty()) {\n                log.error(&quot;Extra fields in DTO class: {} \\nfor entity class: {} : {}&quot;, auditDtoClass.getName(),\n                        entityClass.getName(), extraFields);\n            }\n        }\n    }\n}\n</code></pre>\n<p><strong>But the problem is that the dto may have a field that is in the entity class, but the test will think that this is a missing field.</strong></p>\n<p>For example:</p>\n<p>Dto class: ContractAudit has customerId field (customerId). And ContractEntity has public CustomerEntity customer.\nThis is the same fields. But of course for test they are different. I don't understand how to ignore them. I also don't want to hardcode filter that skip all endings with 'id' prefix.</p>\n<pre><code>@Data\n@AuditEntityType(&quot;Contract&quot;)\npublic class ContractAudit implements BaseAuditDto {\n  private Long id;\n  private String ref;\n  private String status;\n  private Long customerId;\n}\n\n\n@Entity\n@Table(name = &quot;contract&quot;)\n@Getter\n@Setter\n@ToString\n@AllArgsConstructor\n@NoArgsConstructor\n@Builder\npublic class ContractEntity {\n  @Id\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\n  @Column(name = &quot;id&quot;)\n  @ToString.Include\n  private Long id;\n\n  @Column(name = &quot;ref&quot;, updatable = true)\n  @ToString.Include\n  private String ref;\n\n  @Column(name = &quot;status&quot;)\n  @ToString.Include\n  @Enumerated(value = EnumType.STRING)\n  private ContractStatusEnum status;\n\n  @ManyToOne\n  @JoinColumn(name = &quot;customer_id&quot;)\n  public CustomerEntity customer;\n\n  @Column(name = &quot;deleted&quot;)\n  @ToString.Include\n  private boolean deleted;\n\n  @OneToMany(fetch = FetchType.LAZY)\n  @JoinColumn(name = &quot;contract_id&quot;)\n  private List&lt;ContractDocumentEntity&gt; documents;\n}\n</code></pre>\n<p>Output:\nMissing fields in DTO class: ContractAudit for entity class: ContractEntity : [customer, deleted, documents]</p>\n<p>Extra fields in DTO class: ContractAudit for entity class: ContractEntity : [customerId]</p>\n<p>I want to have missing fields: [deleted, documents]</p>\n<p>If you have any other ideas on how to do this, I'd love to hear it. I am not asking for implementation. Suggestions only)</p>\n"},{"tags":["java","smtp","apache-camel","mime","spring-camel"],"owner":{"account_id":25177523,"reputation":1,"user_id":19019494,"display_name":"Poorni Arjun"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673166910,"creation_date":1673166910,"question_id":75046435,"body_markdown":"I a trying to send a MIME Multipart message using Camel Java. The MIME message has a Signature file as an attachment. In the final MIME message (source), the signature file is encoded incorrectly. \r\n\r\nHere is my code:\r\n\r\n    from(source)\r\n        .bean(this, &quot;populatedestinationDetails(*)&quot;)\r\n\t.bean(this, &quot;attachSignature(*)&quot;)\r\n\t.marshal().mimeMultipart()\r\n\t.to(destination);\r\n\r\n\r\n    public void attachSignature(Exchange exchange) throws Exception {\r\n        AttachmentMessage in = exchange.getIn(AttachmentMessage.class);\r\n\tString body = in.getBody().toString();\r\n\tString signature = messageSignature.generateSignature(body);\t\t\r\n\tin.addAttachment(&quot;Signature.sig&quot;, new DataHandler(signature, &quot;application/octet-stream&quot;));\r\n    }\r\n\r\nAlso, Is there any way to avoid the base64 encoding while marshalling the mimeMultiPart message? \r\n","title":"Camel Java - MIME Message with Signature file as attachment - gives incorrect base64 encoded value","body":"<p>I a trying to send a MIME Multipart message using Camel Java. The MIME message has a Signature file as an attachment. In the final MIME message (source), the signature file is encoded incorrectly.</p>\n<p>Here is my code:</p>\n<pre><code>from(source)\n    .bean(this, &quot;populatedestinationDetails(*)&quot;)\n.bean(this, &quot;attachSignature(*)&quot;)\n.marshal().mimeMultipart()\n.to(destination);\n\n\npublic void attachSignature(Exchange exchange) throws Exception {\n    AttachmentMessage in = exchange.getIn(AttachmentMessage.class);\nString body = in.getBody().toString();\nString signature = messageSignature.generateSignature(body);        \nin.addAttachment(&quot;Signature.sig&quot;, new DataHandler(signature, &quot;application/octet-stream&quot;));\n}\n</code></pre>\n<p>Also, Is there any way to avoid the base64 encoding while marshalling the mimeMultiPart message?</p>\n"},{"tags":["java","spring","exception","aspectj","spring-aop"],"comments":[{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1388101849,"post_id":20761585,"comment_id":31170466,"body_markdown":"What kind of advice are you using?","body":"What kind of advice are you using?"}],"answers":[{"tags":[],"owner":{"account_id":1201831,"reputation":747,"user_id":1172333,"display_name":"Arunas Junevicius"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1388241090,"creation_date":1388241090,"answer_id":20815704,"question_id":20761585,"body_markdown":"Similar solution was described in AspectJ in Action. There&#39;s lots of things that might be implemented like logging of method name, arguments etc, but for simplicity sake :\r\n\r\n    public aspect ExceptionAspect {\r\n        private Log log = Logger.getLogger(&quot;error_log&quot;);\r\n        private Exception exception;\r\n    \r\n        pointcut exceptionPointcut() : execution(* my.package..*(..));\r\n    \r\n        after() throwing(Exception ex) : exceptionPointcut() {\r\n            if (exception != ex) {\r\n                exception = ex;\r\n                log.error(&quot;ERROR: {}&quot;, ex);\r\n            }\r\n        }\r\n    }","title":"Aspectj (with spring) - logging throw of an exception only once on the throwing method without the propagated methods","body":"<p>Similar solution was described in AspectJ in Action. There's lots of things that might be implemented like logging of method name, arguments etc, but for simplicity sake :</p>\n\n<pre><code>public aspect ExceptionAspect {\n    private Log log = Logger.getLogger(\"error_log\");\n    private Exception exception;\n\n    pointcut exceptionPointcut() : execution(* my.package..*(..));\n\n    after() throwing(Exception ex) : exceptionPointcut() {\n        if (exception != ex) {\n            exception = ex;\n            log.error(\"ERROR: {}\", ex);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5319768,"reputation":530,"user_id":4243558,"display_name":"khesam109"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673166635,"creation_date":1673166213,"answer_id":75046385,"question_id":20761585,"body_markdown":"A solution could be to store a reference of the throwable object in the handler class in which intercept methods to log. A good data structure for holding these references can be `WeakSet`, something like below:\r\n\r\n    Set&lt;Throwable&gt; throwableRecord = Collections.newSetFromMap(new WeakHashMap&lt;&gt;());\r\n\r\nIn the case of an occurring exception, at first, the handler checks whether the exception exists in the set or not. If not, the throwable object is added to the set and is also logged. If it exists, simply ignore the exception since it is a propagated exception, and we are sure that we logged it before.\r\n\r\n    if (throwableRecord.contains(throwable)) {\r\n        //dont&#39;t log\r\n    \t//the exception is logged before\r\n    }\r\n    throwableRecord.add(throwable);\r\n    //log the exception\r\n\r\nThe benefit of using `WeakSet` is that, whenever the throwable object is garbaged by gc, its related entry is automatically removed from the set.\r\n","title":"Aspectj (with spring) - logging throw of an exception only once on the throwing method without the propagated methods","body":"<p>A solution could be to store a reference of the throwable object in the handler class in which intercept methods to log. A good data structure for holding these references can be <code>WeakSet</code>, something like below:</p>\n<pre><code>Set&lt;Throwable&gt; throwableRecord = Collections.newSetFromMap(new WeakHashMap&lt;&gt;());\n</code></pre>\n<p>In the case of an occurring exception, at first, the handler checks whether the exception exists in the set or not. If not, the throwable object is added to the set and is also logged. If it exists, simply ignore the exception since it is a propagated exception, and we are sure that we logged it before.</p>\n<pre><code>if (throwableRecord.contains(throwable)) {\n    //dont't log\n    //the exception is logged before\n}\nthrowableRecord.add(throwable);\n//log the exception\n</code></pre>\n<p>The benefit of using <code>WeakSet</code> is that, whenever the throwable object is garbaged by gc, its related entry is automatically removed from the set.</p>\n"}],"owner":{"account_id":1114094,"reputation":6302,"user_id":1103894,"accept_rate":26,"display_name":"Urbanleg"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":900,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1673166635,"creation_date":1387890687,"question_id":20761585,"body_markdown":"We just implemented a logging aspect for all of our services methods.\r\nWe Implemented exception throwing logging as well.\r\n\r\nProblem is if we have the following scenario:\r\n\r\nClassA.method1 calls ClassB.method2 calls ClassC.method3\r\nand method3 throws an exception.\r\n\r\nWhat happens now is - we got a logging of the exception throwing in method3 AND method2 AND method1.\r\n(the excpetion is propagated and therefore rethrown from each)\r\n\r\nHow can we achieve that my aspect will handle only the last method throwing the exception (method3)?\r\n\r\nThanks!","title":"Aspectj (with spring) - logging throw of an exception only once on the throwing method without the propagated methods","body":"<p>We just implemented a logging aspect for all of our services methods.\nWe Implemented exception throwing logging as well.</p>\n\n<p>Problem is if we have the following scenario:</p>\n\n<p>ClassA.method1 calls ClassB.method2 calls ClassC.method3\nand method3 throws an exception.</p>\n\n<p>What happens now is - we got a logging of the exception throwing in method3 AND method2 AND method1.\n(the excpetion is propagated and therefore rethrown from each)</p>\n\n<p>How can we achieve that my aspect will handle only the last method throwing the exception (method3)?</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","jakarta-ee","vert.x"],"owner":{"account_id":27466590,"reputation":1,"user_id":20956193,"display_name":"Mohamed Rasvi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673165463,"creation_date":1673161822,"question_id":75046052,"body_markdown":"I use vertx and vertx mysql client in a jakartaEE10 application. I used netbeans to write code, it auto reloads once I make change by redeploying the war file in TomEE. This used to work fine in java ee 7 app (I used only Tomcat9 there, not TomEE). \r\n\r\n\r\n\r\nI closed vertx and mysqlclient. I tried closing in @Disposes, and then tried closing contextDestroyed method of ServletContextLisener. I can see the code triggers. But the next time app loads it doesnt seem to load properly. Every vertx call blocks. \r\n\r\nIs there anything more should I do please let me know.\r\n\r\nI am getting following error in logs.\r\n\r\n    08-Jan-2023 12:24:47.937 WARNING [main] org.apache.catalina.loader.WebappClassLoaderBase.clearReferencesThreads The web application [app] appears to have started a thread named [vertx-blocked-thread-checker] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\r\n    org.apache.catalina.loader.WebappClassLoaderBase.clearReferencesThreads The web application [app] appears to have started a thread named [vert.x-eventloop-thread-0] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\r\n     java.base@17.0.5/sun.nio.ch.KQueue.poll(Native Method)\r\n\r\nI would love to provide more information if needed. Plese let me know.\r\n\r\nEdit 1:\r\nI was blocking on @postconstruct to load config from database. I spawned a new thread to execute the blocking code. Now it runs fine, not sure how postconstruct thread is linked to event loop thread. This still blocks postconstruct method by calling Thread.join() but somehow it works.","title":"How to properly close vertx and vertx mysqlclient on jakartaee application?","body":"<p>I use vertx and vertx mysql client in a jakartaEE10 application. I used netbeans to write code, it auto reloads once I make change by redeploying the war file in TomEE. This used to work fine in java ee 7 app (I used only Tomcat9 there, not TomEE).</p>\n<p>I closed vertx and mysqlclient. I tried closing in @Disposes, and then tried closing contextDestroyed method of ServletContextLisener. I can see the code triggers. But the next time app loads it doesnt seem to load properly. Every vertx call blocks.</p>\n<p>Is there anything more should I do please let me know.</p>\n<p>I am getting following error in logs.</p>\n<pre><code>08-Jan-2023 12:24:47.937 WARNING [main] org.apache.catalina.loader.WebappClassLoaderBase.clearReferencesThreads The web application [app] appears to have started a thread named [vertx-blocked-thread-checker] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\norg.apache.catalina.loader.WebappClassLoaderBase.clearReferencesThreads The web application [app] appears to have started a thread named [vert.x-eventloop-thread-0] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\n java.base@17.0.5/sun.nio.ch.KQueue.poll(Native Method)\n</code></pre>\n<p>I would love to provide more information if needed. Plese let me know.</p>\n<p>Edit 1:\nI was blocking on @postconstruct to load config from database. I spawned a new thread to execute the blocking code. Now it runs fine, not sure how postconstruct thread is linked to event loop thread. This still blocks postconstruct method by calling Thread.join() but somehow it works.</p>\n"},{"tags":["java","rest","spring-boot","swagger","openapi"],"comments":[{"owner":{"account_id":10026018,"reputation":761,"user_id":7414166,"display_name":"MOnkey"},"score":0,"creation_date":1582199950,"post_id":60319201,"comment_id":106699635,"body_markdown":"Why can&#39;t you use the responseCode 204?","body":"Why can&#39;t you use the responseCode 204?"},{"owner":{"account_id":461546,"reputation":864,"user_id":863308,"display_name":"valmarv"},"score":0,"creation_date":1582200835,"post_id":60319201,"comment_id":106700123,"body_markdown":"What if I want an extra response code, like 403 for example (you are not authorized to access this object)? I want to handle the most important special cases through response codes so users don&#39;t have to bother with the response body...","body":"What if I want an extra response code, like 403 for example (you are not authorized to access this object)? I want to handle the most important special cases through response codes so users don&#39;t have to bother with the response body..."}],"answers":[{"tags":[],"owner":{"account_id":10026018,"reputation":761,"user_id":7414166,"display_name":"MOnkey"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1582209541,"creation_date":1582201399,"answer_id":60319851,"question_id":60319201,"body_markdown":"You can use the following on top of your method in v2\r\n\r\n    @ApiResponses(value = {\r\n            @ApiResponse(code = 200, message = &quot;Success&quot;, response = YourObject.class),\r\n            @ApiResponse(code = 401, message = &quot;Unauthorized&quot;),\r\n            @ApiResponse(code = 403, message=&quot;Forbidden&quot;),\r\n            @ApiResponse(code = 404, message = &quot;Not Found&quot;),\r\n            @ApiResponse(code = 500, message = &quot;Failure&quot;)\r\n    })\r\n    \r\n\r\nFor V3, you could try something like this in case your method is returning some object\r\n    \r\n    @Operation(summary = &quot;Add a new object&quot;, description = &quot;&quot;, tags = { &quot;yourObject&quot; })\r\n    @ApiResponses(value = { \r\n            @ApiResponse(responseCode = &quot;201&quot;, description = &quot;Object created&quot;,content = @Content(schema = @Schema(implementation = YourObject.class))), \r\n            @ApiResponse(responseCode = &quot;400&quot;, description = &quot;Invalid input&quot;), \r\n            @ApiResponse(responseCode = &quot;409&quot;, description = &quot;Object already exists&quot;) })\t\r\n            @PostMapping(value = &quot;/your-url&quot;, consumes = {&quot;application/json&quot;,&quot;application/xml&quot; })\r\n            public ResponseEntity&lt;YourObject&gt; addObject(\r\n                ...\r\n                return ...\r\n            }\r\n\r\nIn case your method is returning void try this one\r\n     \r\n    @Operation(summary = &quot;Update an existing object&quot;, description = &quot;&quot;, tags = { &quot;yourObject&quot; })\r\n    @ApiResponses(value = {\r\n            @ApiResponse(responseCode = &quot;200&quot;, description = &quot;successful operation&quot;),\r\n            @ApiResponse(responseCode = &quot;400&quot;, description = &quot;Invalid ID supplied&quot;),\r\n            @ApiResponse(responseCode = &quot;404&quot;, description = &quot;Object not found&quot;),\r\n            @ApiResponse(responseCode = &quot;405&quot;, description = &quot;Validation exception&quot;) })  \r\n            @PutMapping(value = &quot;/your-url/{id}&quot;, consumes = { &quot;application/json&quot;, &quot;application/xml&quot; })  \r\n            public ResponseEntity&lt;Void&gt; addObject(\r\n                ...\r\n                return ...\r\n            }","title":"@ApiResponse with empty response body (Spring Boot)","body":"<p>You can use the following on top of your method in v2</p>\n\n<pre><code>@ApiResponses(value = {\n        @ApiResponse(code = 200, message = \"Success\", response = YourObject.class),\n        @ApiResponse(code = 401, message = \"Unauthorized\"),\n        @ApiResponse(code = 403, message=\"Forbidden\"),\n        @ApiResponse(code = 404, message = \"Not Found\"),\n        @ApiResponse(code = 500, message = \"Failure\")\n})\n</code></pre>\n\n<p>For V3, you could try something like this in case your method is returning some object</p>\n\n<pre><code>@Operation(summary = \"Add a new object\", description = \"\", tags = { \"yourObject\" })\n@ApiResponses(value = { \n        @ApiResponse(responseCode = \"201\", description = \"Object created\",content = @Content(schema = @Schema(implementation = YourObject.class))), \n        @ApiResponse(responseCode = \"400\", description = \"Invalid input\"), \n        @ApiResponse(responseCode = \"409\", description = \"Object already exists\") })    \n        @PostMapping(value = \"/your-url\", consumes = {\"application/json\",\"application/xml\" })\n        public ResponseEntity&lt;YourObject&gt; addObject(\n            ...\n            return ...\n        }\n</code></pre>\n\n<p>In case your method is returning void try this one</p>\n\n<pre><code>@Operation(summary = \"Update an existing object\", description = \"\", tags = { \"yourObject\" })\n@ApiResponses(value = {\n        @ApiResponse(responseCode = \"200\", description = \"successful operation\"),\n        @ApiResponse(responseCode = \"400\", description = \"Invalid ID supplied\"),\n        @ApiResponse(responseCode = \"404\", description = \"Object not found\"),\n        @ApiResponse(responseCode = \"405\", description = \"Validation exception\") })  \n        @PutMapping(value = \"/your-url/{id}\", consumes = { \"application/json\", \"application/xml\" })  \n        public ResponseEntity&lt;Void&gt; addObject(\n            ...\n            return ...\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10183527,"reputation":2074,"user_id":7519419,"display_name":"Vladas Maier"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1582204876,"creation_date":1582204876,"answer_id":60320919,"question_id":60319201,"body_markdown":"If you are not specifying the `content` attribute of `@ApiResponse` annotation the return type of the controller method will be your response content. To prevent this define `content` explicitly:\r\n\r\n    @ApiResponse(responseCode = &quot;200&quot;, description = &quot;OK&quot;,\r\n                 content = @Content(schema = @Schema(implementation = Void.class)))\r\n\r\nOr you can simply return `ResponseEntity&lt;Void&gt;`.","title":"@ApiResponse with empty response body (Spring Boot)","body":"<p>If you are not specifying the <code>content</code> attribute of <code>@ApiResponse</code> annotation the return type of the controller method will be your response content. To prevent this define <code>content</code> explicitly:</p>\n\n<pre><code>@ApiResponse(responseCode = \"200\", description = \"OK\",\n             content = @Content(schema = @Schema(implementation = Void.class)))\n</code></pre>\n\n<p>Or you can simply return <code>ResponseEntity&lt;Void&gt;</code>.</p>\n"},{"tags":[],"owner":{"account_id":3156420,"reputation":359,"user_id":2668732,"display_name":"skeeks"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1603101482,"creation_date":1603101482,"answer_id":64425077,"question_id":60319201,"body_markdown":"This is probably the better (and shorter) way:\r\n\r\n```\r\n@ApiResponse(\r\n   responseCode = &quot;404&quot;, \r\n   description = &quot;Not found&quot;, \r\n   content = @Content(schema = @Schema(hidden = true))) \r\n```","title":"@ApiResponse with empty response body (Spring Boot)","body":"<p>This is probably the better (and shorter) way:</p>\n<pre><code>@ApiResponse(\n   responseCode = &quot;404&quot;, \n   description = &quot;Not found&quot;, \n   content = @Content(schema = @Schema(hidden = true))) \n</code></pre>\n"},{"tags":[],"owner":{"account_id":11706032,"reputation":1690,"user_id":8569585,"display_name":"Lucas Noetzold"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668004479,"creation_date":1668004479,"answer_id":74376600,"question_id":60319201,"body_markdown":"Not sure if it&#39;s a feature, but an empty `@Content` worked for me:\r\n\r\n```java\r\ninterface MyControllerOpenApiSpec {\r\n\r\n    @ApiResponse(responseCode = &quot;200&quot;) // shows MyDTO schema\r\n    @ApiResponse(responseCode = &quot;404&quot;, content = @Content) // no schema shown\r\n    MyDTO getMyDTO();\r\n\r\n}\r\n```","title":"@ApiResponse with empty response body (Spring Boot)","body":"<p>Not sure if it's a feature, but an empty <code>@Content</code> worked for me:</p>\n<pre class=\"lang-java prettyprint-override\"><code>interface MyControllerOpenApiSpec {\n\n    @ApiResponse(responseCode = &quot;200&quot;) // shows MyDTO schema\n    @ApiResponse(responseCode = &quot;404&quot;, content = @Content) // no schema shown\n    MyDTO getMyDTO();\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17509483,"reputation":45,"user_id":12697880,"display_name":"bahareh saremi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673163071,"creation_date":1673162832,"answer_id":75046122,"question_id":60319201,"body_markdown":"There is not any content method; maybe, it is changed.\r\n\r\n```\r\npublic @interface ApiResponse {\r\n    int code();\r\n\r\n    String message();\r\n\r\n    Class&lt;?&gt; response() default Void.class;\r\n\r\n    String reference() default &quot;&quot;;\r\n\r\n    ResponseHeader[] responseHeaders() default {@ResponseHeader(\r\n    name = &quot;&quot;,\r\n    response = Void.class\r\n)};\r\n\r\n    String responseContainer() default &quot;&quot;;\r\n\r\n    Example examples() default @Example({@ExampleProperty(\r\n    value = &quot;&quot;,\r\n    mediaType = &quot;&quot;\r\n)});\r\n}\r\n```","title":"@ApiResponse with empty response body (Spring Boot)","body":"<p>There is not any content method; maybe, it is changed.</p>\n<pre><code>public @interface ApiResponse {\n    int code();\n\n    String message();\n\n    Class&lt;?&gt; response() default Void.class;\n\n    String reference() default &quot;&quot;;\n\n    ResponseHeader[] responseHeaders() default {@ResponseHeader(\n    name = &quot;&quot;,\n    response = Void.class\n)};\n\n    String responseContainer() default &quot;&quot;;\n\n    Example examples() default @Example({@ExampleProperty(\n    value = &quot;&quot;,\n    mediaType = &quot;&quot;\n)});\n}\n</code></pre>\n"}],"owner":{"account_id":461546,"reputation":864,"user_id":863308,"display_name":"valmarv"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24469,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"answer_count":5,"score":14,"last_activity_date":1673163071,"creation_date":1582199096,"question_id":60319201,"body_markdown":"I&#39;m looking for a way to tell swagger that a certain API response code doesn&#39;t have a response body. A get response, for example, that can either return a 200 code with the actual object as a response or a 404 if the object associated with the passed ID doesn&#39;t exist:\r\n```\r\n@ApiResponses(value = {\r\n\t@ApiResponse(responseCode = &quot;200&quot;, description = &quot;Object found&quot;),\r\n\t@ApiResponse(responseCode = &quot;404&quot;, description = &quot;Invalid object ID&quot;, content = @Content)\r\n})\r\n```\r\nThis is the closest thing I could figure out but it&#39;s not perfect, I still get an annoying &quot;Media type&quot; under the description of the 404 response.\r\nThanks!","title":"@ApiResponse with empty response body (Spring Boot)","body":"<p>I'm looking for a way to tell swagger that a certain API response code doesn't have a response body. A get response, for example, that can either return a 200 code with the actual object as a response or a 404 if the object associated with the passed ID doesn't exist:</p>\n\n<pre><code>@ApiResponses(value = {\n    @ApiResponse(responseCode = \"200\", description = \"Object found\"),\n    @ApiResponse(responseCode = \"404\", description = \"Invalid object ID\", content = @Content)\n})\n</code></pre>\n\n<p>This is the closest thing I could figure out but it's not perfect, I still get an annoying \"Media type\" under the description of the 404 response.\nThanks!</p>\n"},{"tags":["java","spring-data-jpa","querydsl"],"owner":{"account_id":1272260,"reputation":993,"user_id":1228276,"accept_rate":18,"display_name":"rakeeee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":148,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1673162539,"creation_date":1673162539,"question_id":75046095,"body_markdown":"I am using queryDSL to fetch the inner collection of data and failed to do so. My entities are \r\n\r\n     @Entity\r\n     @Table(name = &quot;countries&quot;)\r\n     @Setter\r\n     @Getter\r\n     public class Country {\r\n        \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(name = &quot;id&quot;)\r\n        private Long countryId;\r\n    \r\n        @Column(name = &quot;name&quot;)\r\n        private String name;\r\n    \r\n        @Column(name = &quot;data&quot;)\r\n        private String data;\r\n    \r\n        @OneToOne(mappedBy = &quot;country&quot;)\r\n        private State stateJoin;\r\n    \r\n    }\r\n\r\n2)  \r\n     \r\n     @Entity\r\n     @Table(name = &quot;states&quot;)\r\n     @Setter\r\n     @Getter\r\n    public class State {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(name = &quot;id&quot;)\r\n        private Long stateId;\r\n    \r\n        @Column(name = &quot;name&quot;)\r\n        private String name;\r\n    \r\n        @Column(name = &quot;count&quot;)\r\n        private String count;\r\n    \r\n        @Column(name = &quot;co_id&quot;)\r\n        private Long countryId;\r\n    \r\n        @OneToOne(cascade = CascadeType.ALL)\r\n        @JoinColumn(name = &quot;co_id&quot;, referencedColumnName = &quot;id&quot;, updatable = false, insertable = false)\r\n        private Country country;\r\n    \r\n        @OneToMany(cascade = CascadeType.ALL)\r\n        @JoinColumn(name = &quot;state_id&quot;, referencedColumnName = &quot;id&quot;)\r\n        private Set&lt;Town&gt; towns;\r\n    }\r\n\r\n3)\r\n \r\n\r\n    @Entity\r\n    @Table(name = &quot;towns&quot;)\r\n    @Setter\r\n    @Getter\r\n    public class Town {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(name = &quot;town_id&quot;)\r\n        private Long townId;\r\n    \r\n        @Column(name = &quot;name&quot;)\r\n        private String name;\r\n    \r\n        @Column(name = &quot;people_count&quot;)\r\n        private String peopleCount;\r\n    \r\n        @Column(name = &quot;st_id&quot;)\r\n        private Long stateId;\r\n    }\r\n\r\n\r\nand in querydsl i am trying below query and always failing to retrieve inner collection `towns`\r\n\r\n\r\n   \r\n\r\n    List&lt;Expression&gt; childGroup = new ArrayList&lt;&gt;();\r\n    \r\n    query.from(countries);\r\n    \r\n    childGroup.addAll(Arrays.asList(countries.name, countries.data, countries.stateJoin));\r\n    \r\n    query.join(countries.stateJoin, State);\r\n    childGroup.add(Projections.bean(State.class, name, count, town)\r\n                    .as((Path) countries.stateJoin));\r\n    \r\n\t\t\t\r\n\t\t\t\tOR\r\n\t\t\t\t\r\n    childGroup.add(Projections.bean(State.class, name, count, list(town)).as((Path) countries.stateJoin));\r\n\r\n    query.select(fields);\r\n    query.where();\r\n    \r\n    \r\n    final Map&lt;? extends Number, ? extends Object&gt; t =\r\n            (Map&lt;? extends Number, ? extends Object&gt;)\r\n                query\r\n                    .limit(pageRequest.getPageSize())\r\n                    .offset(pageRequest.getOffset())\r\n                    .distinct()\r\n                    .transform(\r\n                        GroupBy.groupBy(groupByPath)\r\n                            .as(Projections.bean(Countris.class, childGroup.toArray(new Expression[0]))));\r\n\t\t\t\t\t\t\r\nwhile executing the above line exactly i am getting always SQLSyntax error as i see the underlying SQL is with \r\n\r\n    . as towns\r\n\r\nCan some one help me how to read the nested collection formed by JPA join?","title":"Reading nested collection QueryDSL","body":"<p>I am using queryDSL to fetch the inner collection of data and failed to do so. My entities are</p>\n<pre><code> @Entity\n @Table(name = &quot;countries&quot;)\n @Setter\n @Getter\n public class Country {\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;)\n    private Long countryId;\n\n    @Column(name = &quot;name&quot;)\n    private String name;\n\n    @Column(name = &quot;data&quot;)\n    private String data;\n\n    @OneToOne(mappedBy = &quot;country&quot;)\n    private State stateJoin;\n\n}\n</code></pre>\n<ol start=\"2\">\n<li><p>@Entity\n@Table(name = &quot;states&quot;)\n@Setter\n@Getter\npublic class State {</p>\n<pre><code>  @Id\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\n  @Column(name = &quot;id&quot;)\n  private Long stateId;\n\n  @Column(name = &quot;name&quot;)\n  private String name;\n\n  @Column(name = &quot;count&quot;)\n  private String count;\n\n  @Column(name = &quot;co_id&quot;)\n  private Long countryId;\n\n  @OneToOne(cascade = CascadeType.ALL)\n  @JoinColumn(name = &quot;co_id&quot;, referencedColumnName = &quot;id&quot;, updatable = false, insertable = false)\n  private Country country;\n\n  @OneToMany(cascade = CascadeType.ALL)\n  @JoinColumn(name = &quot;state_id&quot;, referencedColumnName = &quot;id&quot;)\n  private Set&lt;Town&gt; towns;\n</code></pre>\n<p>}</p>\n</li>\n<li></li>\n</ol>\n<pre><code>@Entity\n@Table(name = &quot;towns&quot;)\n@Setter\n@Getter\npublic class Town {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;town_id&quot;)\n    private Long townId;\n\n    @Column(name = &quot;name&quot;)\n    private String name;\n\n    @Column(name = &quot;people_count&quot;)\n    private String peopleCount;\n\n    @Column(name = &quot;st_id&quot;)\n    private Long stateId;\n}\n</code></pre>\n<p>and in querydsl i am trying below query and always failing to retrieve inner collection <code>towns</code></p>\n<pre><code>List&lt;Expression&gt; childGroup = new ArrayList&lt;&gt;();\n\nquery.from(countries);\n\nchildGroup.addAll(Arrays.asList(countries.name, countries.data, countries.stateJoin));\n\nquery.join(countries.stateJoin, State);\nchildGroup.add(Projections.bean(State.class, name, count, town)\n                .as((Path) countries.stateJoin));\n\n        \n            OR\n            \nchildGroup.add(Projections.bean(State.class, name, count, list(town)).as((Path) countries.stateJoin));\n\nquery.select(fields);\nquery.where();\n\n\nfinal Map&lt;? extends Number, ? extends Object&gt; t =\n        (Map&lt;? extends Number, ? extends Object&gt;)\n            query\n                .limit(pageRequest.getPageSize())\n                .offset(pageRequest.getOffset())\n                .distinct()\n                .transform(\n                    GroupBy.groupBy(groupByPath)\n                        .as(Projections.bean(Countris.class, childGroup.toArray(new Expression[0]))));\n                    \n</code></pre>\n<p>while executing the above line exactly i am getting always SQLSyntax error as i see the underlying SQL is with</p>\n<pre><code>. as towns\n</code></pre>\n<p>Can some one help me how to read the nested collection formed by JPA join?</p>\n"},{"tags":["java","ghidra"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":2,"creation_date":1612696189,"post_id":66087158,"comment_id":116842139,"body_markdown":"Use a version of java supported by the application. Read the documentation.","body":"Use a version of java supported by the application. Read the documentation."},{"owner":{"account_id":11364463,"reputation":21,"user_id":11622828,"display_name":"patpin"},"score":0,"creation_date":1612697330,"post_id":66087158,"comment_id":116842442,"body_markdown":"I changed version to: openjdk version &quot;11.0.10&quot; 2021-01-19\nOpenJDK Runtime Environment AdoptOpenJDK (build 11.0.10+9)\nOpenJDK 64-Bit Server VM AdoptOpenJDK (build 11.0.10+9, mixed mode). I still get the same error. Path and JAVA_HOME is also changed.","body":"I changed version to: openjdk version &quot;11.0.10&quot; 2021-01-19 OpenJDK Runtime Environment AdoptOpenJDK (build 11.0.10+9) OpenJDK 64-Bit Server VM AdoptOpenJDK (build 11.0.10+9, mixed mode). I still get the same error. Path and JAVA_HOME is also changed."},{"owner":{"account_id":13089743,"reputation":2044,"user_id":9457633,"display_name":"Md Kawser Habib"},"score":0,"creation_date":1612698301,"post_id":66087158,"comment_id":116842676,"body_markdown":"What is the Ghidra version you are currently using?","body":"What is the Ghidra version you are currently using?"},{"owner":{"account_id":11364463,"reputation":21,"user_id":11622828,"display_name":"patpin"},"score":0,"creation_date":1612699300,"post_id":66087158,"comment_id":116842916,"body_markdown":"Ghidra 9.2.2 used now.","body":"Ghidra 9.2.2 used now."},{"owner":{"account_id":13089743,"reputation":2044,"user_id":9457633,"display_name":"Md Kawser Habib"},"score":0,"creation_date":1612699495,"post_id":66087158,"comment_id":116842973,"body_markdown":"Production or Development version?","body":"Production or Development version?"},{"owner":{"account_id":11364463,"reputation":21,"user_id":11622828,"display_name":"patpin"},"score":0,"creation_date":1612700521,"post_id":66087158,"comment_id":116843263,"body_markdown":"probably ghidra_9.2.2_PUBLIC_20201229.zip was downloaded at https://ghidra-sre.org/releaseNotes_9.2.2.html, but not shure. Where can I find it.","body":"probably ghidra_9.2.2_PUBLIC_20201229.zip was downloaded at <a href=\"https://ghidra-sre.org/releaseNotes_9.2.2.html\" rel=\"nofollow noreferrer\">ghidra-sre.org/releaseNotes_9.2.2.html</a>, but not shure. Where can I find it."},{"owner":{"account_id":13089743,"reputation":2044,"user_id":9457633,"display_name":"Md Kawser Habib"},"score":0,"creation_date":1612704768,"post_id":66087158,"comment_id":116844360,"body_markdown":"It was 9.2.2 production version.","body":"It was 9.2.2 production version."}],"answers":[{"tags":[],"owner":{"account_id":13089743,"reputation":2044,"user_id":9457633,"display_name":"Md Kawser Habib"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1612702183,"creation_date":1612701203,"answer_id":66087955,"question_id":66087158,"body_markdown":"Maybe this issue can be solved by updating the **lunch.properties** file.\r\n\r\nFirst, try to fullfil their minimal requirements. According to ghidra&#39;s documentation\r\n- Current Ghidra 9.2.2 need Java 11 64-bit Runtime and Development Kit (JDK)\r\n- So, it is better to install java 11 64 bit. \r\n\r\n\r\nIf ghidra fails to locate the jdk, then force it by-\r\n- To launch with a specific version of Java, set the JAVA_HOME_OVERRIDE property in the support/launch.properties file. If this property is set to an incompatible version of Java, Ghidra will revert to automatically locating a compatible version.\r\n\r\n\r\n\r\n  ","title":"JDK for Ghidra give me Error: &quot;Could not find or load main class LaunchSupport&quot;","body":"<p>Maybe this issue can be solved by updating the <strong>lunch.properties</strong> file.</p>\n<p>First, try to fullfil their minimal requirements. According to ghidra's documentation</p>\n<ul>\n<li>Current Ghidra 9.2.2 need Java 11 64-bit Runtime and Development Kit (JDK)</li>\n<li>So, it is better to install java 11 64 bit.</li>\n</ul>\n<p>If ghidra fails to locate the jdk, then force it by-</p>\n<ul>\n<li>To launch with a specific version of Java, set the JAVA_HOME_OVERRIDE property in the support/launch.properties file. If this property is set to an incompatible version of Java, Ghidra will revert to automatically locating a compatible version.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":4728820,"reputation":295,"user_id":3825010,"accept_rate":71,"display_name":"Lou"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1618759403,"creation_date":1618759403,"answer_id":67150214,"question_id":66087158,"body_markdown":"This may be because you&#39;re using the release from github, and these releases are not built and only contain the source code.\r\nSource: https://github.com/NationalSecurityAgency/ghidra/issues/2872\r\n\r\nTo fix the issue, you can try download ghidra from here https://www.ghidra-sre.org/","title":"JDK for Ghidra give me Error: &quot;Could not find or load main class LaunchSupport&quot;","body":"<p>This may be because you're using the release from github, and these releases are not built and only contain the source code.\nSource: <a href=\"https://github.com/NationalSecurityAgency/ghidra/issues/2872\" rel=\"nofollow noreferrer\">https://github.com/NationalSecurityAgency/ghidra/issues/2872</a></p>\n<p>To fix the issue, you can try download ghidra from here <a href=\"https://www.ghidra-sre.org/\" rel=\"nofollow noreferrer\">https://www.ghidra-sre.org/</a></p>\n"}],"owner":{"account_id":11364463,"reputation":21,"user_id":11622828,"display_name":"patpin"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4325,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1673161952,"creation_date":1612695970,"question_id":66087158,"body_markdown":"I downloaded JDK 15 for my windows 10 64 bit pc and put the environment variable JAVA-HOME correct and the PATH also. This give me in cmd:\r\n```\r\n    C:\\Users\\patpin&gt;java -version\r\n    java version &quot;15.0.2&quot; 2021-01-19\r\n    Java(TM) SE Runtime Environment (build 15.0.2+7-27)\r\n    Java HotSpot(TM) 64-Bit Server VM (build 15.0.2+7-27, mixed mode, sharing)\r\n```\r\n\r\nWhen I start Ghidra (even as admin) I get:\r\n```none\r\n    Error: Could not find or load main class LaunchSupport\r\n    Caused by: java.lang.ClassNotFoundException: LaunchSupport\r\n    Error: Could not find or load main class LaunchSupport\r\n    Caused by: java.lang.ClassNotFoundException: LaunchSupport\r\n    Error: Could not find or load main class LaunchSupport\r\n    Caused by: java.lang.ClassNotFoundException: LaunchSupport\r\n```\r\nFailed to find a supported JDK.  Please refer to the Ghidra Installation Guide&#39;s Troubleshooting section.\r\n","title":"JDK for Ghidra give me Error: &quot;Could not find or load main class LaunchSupport&quot;","body":"<p>I downloaded JDK 15 for my windows 10 64 bit pc and put the environment variable JAVA-HOME correct and the PATH also. This give me in cmd:</p>\n<pre><code>    C:\\Users\\patpin&gt;java -version\n    java version &quot;15.0.2&quot; 2021-01-19\n    Java(TM) SE Runtime Environment (build 15.0.2+7-27)\n    Java HotSpot(TM) 64-Bit Server VM (build 15.0.2+7-27, mixed mode, sharing)\n</code></pre>\n<p>When I start Ghidra (even as admin) I get:</p>\n<pre class=\"lang-none prettyprint-override\"><code>    Error: Could not find or load main class LaunchSupport\n    Caused by: java.lang.ClassNotFoundException: LaunchSupport\n    Error: Could not find or load main class LaunchSupport\n    Caused by: java.lang.ClassNotFoundException: LaunchSupport\n    Error: Could not find or load main class LaunchSupport\n    Caused by: java.lang.ClassNotFoundException: LaunchSupport\n</code></pre>\n<p>Failed to find a supported JDK.  Please refer to the Ghidra Installation Guide's Troubleshooting section.</p>\n"},{"tags":["java","pact"],"answers":[{"tags":[],"owner":{"account_id":8915876,"reputation":3560,"user_id":6654475,"accept_rate":100,"display_name":"Francislainy Campos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673161924,"creation_date":1673161924,"answer_id":75046058,"question_id":74641538,"body_markdown":"We figured out that the expression needed is to include the ${} (at least if it&#39;s a string).\r\nOnce we updated it to valueFromProviderState(&quot;assignmentId&quot;, &quot;${assignmentId}&quot;, &quot;c1ef3bbf-55a2-4638-8f93-22b2916fe085&quot;) it seemed to work.","title":"How to inject dynamic id for body of pact contract written in Java?","body":"<p>We figured out that the expression needed is to include the ${} (at least if it's a string).\nOnce we updated it to valueFromProviderState(&quot;assignmentId&quot;, &quot;${assignmentId}&quot;, &quot;c1ef3bbf-55a2-4638-8f93-22b2916fe085&quot;) it seemed to work.</p>\n"}],"owner":{"account_id":8915876,"reputation":3560,"user_id":6654475,"accept_rate":100,"display_name":"Francislainy Campos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":280,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75046058,"answer_count":1,"score":0,"last_activity_date":1673161924,"creation_date":1669896076,"question_id":74641538,"body_markdown":"We have a put api that will update an assignment based on its id. As we should be cleaning up the data after a test, our assignment id would change after the original one is deleted, so we&#39;re trying to dynamically inject that into the body for the request from the provider side. However, we seem to be perhaps missing something here as it&#39;s not updating correctly and the request is still being triggered with the id set as the example.\r\n\r\nThis is the provider class:\r\n\r\n```\r\n@Slf4j\r\n@Provider(&quot;Assignments API&quot;)\r\n@Consumer(&quot;LTI-AGS-Tool&quot;)\r\n//@PactBroker(url = BROKER_PACT_URL, authentication = @PactBrokerAuth(token = &quot;${pactbroker.auth.token}&quot;))\r\n@VerificationReports(value = {&quot;console&quot;, &quot;markdown&quot;}, reportDir = &quot;target/pacts&quot;)\r\nclass PactProviderLTIAGSIT {\r\n\r\n    private HashMap&lt;String, String&gt; headers = new HashMap&lt;&gt;();\r\n    private String updateAssignmentId;\r\n    private final String SERVICE_TOKEN = &quot;myToken&quot;;\r\n\r\n    @BeforeEach\r\n    void createTeacherAssignment() {\r\n\r\n        String assignmentBody = createBodyStringForStudentAssignmentSetup();\r\n\r\n        assignmentBody = assignmentBody.replace(&quot;CPWAG&quot;, &quot;OTHER_TEXT_RESOURCE&quot;);\r\n\r\n        headers.put(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n        headers.put(&quot;Authorization&quot;, &quot;myToken&quot;);\r\n\r\n        RequestSpecification rq = Util.getRequestSpecification().baseUri(baseAssignmentUrl).headers(headers);\r\n        Response response = rq.body(assignmentBody).post();\r\n        assertEquals(201, response.getStatusCode());\r\n\r\n        updateAssignmentId = response.jsonPath().get(&quot;assignments[0].refId&quot;);\r\n\r\n        log.info(&quot;assignment id is &quot; + updateAssignmentId);\r\n    }\r\n\r\n    @TestTemplate\r\n    @ExtendWith(PactVerificationInvocationContextProvider.class)\r\n    void pactTestTemplate(PactVerificationContext context, HttpRequest request) {\r\n\r\n        request.addHeader(&quot;Authorization&quot;, SERVICE_TOKEN);\r\n        logCurlFromPact(context, request);\r\n        context.verifyInteraction();\r\n    }\r\n\r\n    @BeforeEach\r\n    void before(PactVerificationContext context) {\r\n        context.setTarget(new HttpsTestTarget(BASE_PACT_TEACHER_ASSIGNMENTS_URL, 443, &quot;&quot;));\r\n    }\r\n\r\n    @State(&quot;Scoring info is passed between ags-tool and assignmentapi&quot;)\r\n    Map&lt;String, Object&gt; getScoringInfo() {\r\n\r\n        Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();\r\n        map.put(&quot;assignmentId&quot;, updateAssignmentId);\r\n        return map;\r\n    }\r\n}\r\n```\r\n\r\nAnd here the consumer contract:\r\n\r\n```\r\n@ExtendWith(PactConsumerTestExt.class)\r\nclass PactConsumerSendScoreIT {\r\n\r\n    private final Map&lt;String, String&gt; headers = new HashMap&lt;&gt;();\r\n    private final String path = &quot;/v5/assignmentStatus/update&quot;;\r\n\r\n    @Pact(provider = PACT_PROVIDER, consumer = PACT_CONSUMER)\r\n    public RequestResponsePact scoreConsumerPact(PactDslWithProvider builder) {\r\n\r\n        headers.put(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n\r\n        //Body given and returned\r\n        DslPart body = new PactDslJsonBody()\r\n                .valueFromProviderState(&quot;assignmentId&quot;, &quot;assignmentId&quot;, &quot;c1ef3bbf-55a2-4638-8f93-22b2916fe085&quot;)\r\n                .stringType(&quot;timestamp&quot;, DateTime.now().plusHours(3).toString())\r\n                .decimalType(&quot;scoreGiven&quot;, 75.00)\r\n                .decimalType(&quot;scoreMaximum&quot;, 100.00)\r\n                .stringType(&quot;comment&quot;, &quot;Good work!&quot;)\r\n                .stringType(&quot;status&quot;, &quot;IN_PROGRESS&quot;)\r\n                .stringType(&quot;userId&quot;, &quot;c2ef3bbf-55a2-4638-8f93-22b2916fe085&quot;)\r\n                .close();\r\n\r\n        return builder\r\n                .given(&quot;Scoring info is passed between ags-tool and assignmentapi&quot;)\r\n                .uponReceiving(&quot;Scoring info is passed between ags-tool and assignmentapi&quot;)\r\n                .path(path)\r\n                .method(&quot;POST&quot;)\r\n                .body(body)\r\n                .headers(headers)\r\n                .willRespondWith()\r\n                .status(201)\r\n                .body(body)\r\n                .toPact();\r\n\r\n    }\r\n\r\n    @Test\r\n    @PactTestFor(pactMethod = &quot;scoreConsumerPact&quot;, providerName = PACT_PROVIDER, port = &quot;8080&quot;, pactVersion = PactSpecVersion.V3)\r\n    void runTest(MockServer mockServer) {\r\n\r\n        String updateAssignmentId = &quot;c2ef3bbf-55a2-4638-8f93-22b2916fe085&quot;;\r\n\r\n        HashMap&lt;String, Object&gt; map = new HashMap&lt;&gt;();\r\n        map.put(&quot;timestamp&quot;, DateTime.now().plusHours(3).toString());\r\n        map.put(&quot;scoreGiven&quot;, 75.00);\r\n        map.put(&quot;scoreMaximum&quot;, 100.00);\r\n        map.put(&quot;comment&quot;, &quot;Good work!&quot;);\r\n        map.put(&quot;status&quot;, &quot;IN_PROGRESS&quot;);\r\n        map.put(&quot;userId&quot;, &quot;c2ef3bbf-55a2-4638-8f93-22b2916fe085&quot;);\r\n        map.put(&quot;assignmentId&quot;, updateAssignmentId);\r\n\r\n        //Mock url\r\n        RequestSpecification rq = Util.getRequestSpecification().baseUri(mockServer.getUrl()).headers(headers);\r\n\r\n        Response response = rq.body(map)\r\n                .post(path);\r\n\r\n        assertEquals(201, response.getStatusCode());\r\n    }\r\n}\r\n```\r\n\r\nThank you.","title":"How to inject dynamic id for body of pact contract written in Java?","body":"<p>We have a put api that will update an assignment based on its id. As we should be cleaning up the data after a test, our assignment id would change after the original one is deleted, so we're trying to dynamically inject that into the body for the request from the provider side. However, we seem to be perhaps missing something here as it's not updating correctly and the request is still being triggered with the id set as the example.</p>\n<p>This is the provider class:</p>\n<pre><code>@Slf4j\n@Provider(&quot;Assignments API&quot;)\n@Consumer(&quot;LTI-AGS-Tool&quot;)\n//@PactBroker(url = BROKER_PACT_URL, authentication = @PactBrokerAuth(token = &quot;${pactbroker.auth.token}&quot;))\n@VerificationReports(value = {&quot;console&quot;, &quot;markdown&quot;}, reportDir = &quot;target/pacts&quot;)\nclass PactProviderLTIAGSIT {\n\n    private HashMap&lt;String, String&gt; headers = new HashMap&lt;&gt;();\n    private String updateAssignmentId;\n    private final String SERVICE_TOKEN = &quot;myToken&quot;;\n\n    @BeforeEach\n    void createTeacherAssignment() {\n\n        String assignmentBody = createBodyStringForStudentAssignmentSetup();\n\n        assignmentBody = assignmentBody.replace(&quot;CPWAG&quot;, &quot;OTHER_TEXT_RESOURCE&quot;);\n\n        headers.put(&quot;Content-Type&quot;, &quot;application/json&quot;);\n        headers.put(&quot;Authorization&quot;, &quot;myToken&quot;);\n\n        RequestSpecification rq = Util.getRequestSpecification().baseUri(baseAssignmentUrl).headers(headers);\n        Response response = rq.body(assignmentBody).post();\n        assertEquals(201, response.getStatusCode());\n\n        updateAssignmentId = response.jsonPath().get(&quot;assignments[0].refId&quot;);\n\n        log.info(&quot;assignment id is &quot; + updateAssignmentId);\n    }\n\n    @TestTemplate\n    @ExtendWith(PactVerificationInvocationContextProvider.class)\n    void pactTestTemplate(PactVerificationContext context, HttpRequest request) {\n\n        request.addHeader(&quot;Authorization&quot;, SERVICE_TOKEN);\n        logCurlFromPact(context, request);\n        context.verifyInteraction();\n    }\n\n    @BeforeEach\n    void before(PactVerificationContext context) {\n        context.setTarget(new HttpsTestTarget(BASE_PACT_TEACHER_ASSIGNMENTS_URL, 443, &quot;&quot;));\n    }\n\n    @State(&quot;Scoring info is passed between ags-tool and assignmentapi&quot;)\n    Map&lt;String, Object&gt; getScoringInfo() {\n\n        Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();\n        map.put(&quot;assignmentId&quot;, updateAssignmentId);\n        return map;\n    }\n}\n</code></pre>\n<p>And here the consumer contract:</p>\n<pre><code>@ExtendWith(PactConsumerTestExt.class)\nclass PactConsumerSendScoreIT {\n\n    private final Map&lt;String, String&gt; headers = new HashMap&lt;&gt;();\n    private final String path = &quot;/v5/assignmentStatus/update&quot;;\n\n    @Pact(provider = PACT_PROVIDER, consumer = PACT_CONSUMER)\n    public RequestResponsePact scoreConsumerPact(PactDslWithProvider builder) {\n\n        headers.put(&quot;Content-Type&quot;, &quot;application/json&quot;);\n\n        //Body given and returned\n        DslPart body = new PactDslJsonBody()\n                .valueFromProviderState(&quot;assignmentId&quot;, &quot;assignmentId&quot;, &quot;c1ef3bbf-55a2-4638-8f93-22b2916fe085&quot;)\n                .stringType(&quot;timestamp&quot;, DateTime.now().plusHours(3).toString())\n                .decimalType(&quot;scoreGiven&quot;, 75.00)\n                .decimalType(&quot;scoreMaximum&quot;, 100.00)\n                .stringType(&quot;comment&quot;, &quot;Good work!&quot;)\n                .stringType(&quot;status&quot;, &quot;IN_PROGRESS&quot;)\n                .stringType(&quot;userId&quot;, &quot;c2ef3bbf-55a2-4638-8f93-22b2916fe085&quot;)\n                .close();\n\n        return builder\n                .given(&quot;Scoring info is passed between ags-tool and assignmentapi&quot;)\n                .uponReceiving(&quot;Scoring info is passed between ags-tool and assignmentapi&quot;)\n                .path(path)\n                .method(&quot;POST&quot;)\n                .body(body)\n                .headers(headers)\n                .willRespondWith()\n                .status(201)\n                .body(body)\n                .toPact();\n\n    }\n\n    @Test\n    @PactTestFor(pactMethod = &quot;scoreConsumerPact&quot;, providerName = PACT_PROVIDER, port = &quot;8080&quot;, pactVersion = PactSpecVersion.V3)\n    void runTest(MockServer mockServer) {\n\n        String updateAssignmentId = &quot;c2ef3bbf-55a2-4638-8f93-22b2916fe085&quot;;\n\n        HashMap&lt;String, Object&gt; map = new HashMap&lt;&gt;();\n        map.put(&quot;timestamp&quot;, DateTime.now().plusHours(3).toString());\n        map.put(&quot;scoreGiven&quot;, 75.00);\n        map.put(&quot;scoreMaximum&quot;, 100.00);\n        map.put(&quot;comment&quot;, &quot;Good work!&quot;);\n        map.put(&quot;status&quot;, &quot;IN_PROGRESS&quot;);\n        map.put(&quot;userId&quot;, &quot;c2ef3bbf-55a2-4638-8f93-22b2916fe085&quot;);\n        map.put(&quot;assignmentId&quot;, updateAssignmentId);\n\n        //Mock url\n        RequestSpecification rq = Util.getRequestSpecification().baseUri(mockServer.getUrl()).headers(headers);\n\n        Response response = rq.body(map)\n                .post(path);\n\n        assertEquals(201, response.getStatusCode());\n    }\n}\n</code></pre>\n<p>Thank you.</p>\n"},{"tags":["java","ssl","apache-httpcomponents","apache-httpclient-5.x"],"answers":[{"tags":[],"owner":{"account_id":133909,"reputation":26610,"user_id":335638,"display_name":"ok2c"},"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1632946455,"creation_date":1632946455,"answer_id":69382828,"question_id":69375468,"body_markdown":"There are several specialized builders in HC 5.1 that can be used to do the same:\r\n\r\n    CloseableHttpClient httpclient = HttpClients.custom()\r\n            .setConnectionManager(PoolingHttpClientConnectionManagerBuilder.create()\r\n                    .setSSLSocketFactory(SSLConnectionSocketFactoryBuilder.create()\r\n                            .setSslContext(SSLContextBuilder.create()\r\n                                    .loadTrustMaterial(TrustAllStrategy.INSTANCE)\r\n                                    .build())\r\n                            .setHostnameVerifier(NoopHostnameVerifier.INSTANCE)\r\n                            .build())\r\n                    .build())\r\n            .build();\r\n\r\n","title":"How to ignore SSL certificate errors in Apache HttpComponents HttpClient 5.1","body":"<p>There are several specialized builders in HC 5.1 that can be used to do the same:</p>\n<pre><code>CloseableHttpClient httpclient = HttpClients.custom()\n        .setConnectionManager(PoolingHttpClientConnectionManagerBuilder.create()\n                .setSSLSocketFactory(SSLConnectionSocketFactoryBuilder.create()\n                        .setSslContext(SSLContextBuilder.create()\n                                .loadTrustMaterial(TrustAllStrategy.INSTANCE)\n                                .build())\n                        .setHostnameVerifier(NoopHostnameVerifier.INSTANCE)\n                        .build())\n                .build())\n        .build();\n</code></pre>\n"}],"owner":{"account_id":13995207,"reputation":494,"user_id":10108192,"display_name":"Yang Hanlin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7388,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":69382828,"answer_count":1,"score":10,"last_activity_date":1673161450,"creation_date":1632914738,"question_id":69375468,"body_markdown":"How do I bypass certificate verification errors with [Apache HttpComponents HttpClient 5.1](https://hc.apache.org/httpcomponents-client-5.1.x/)?\r\n\r\nI&#39;ve found a [working solution](https://stackoverflow.com/a/50274496/10108192) to bypass such errors in HttpClient 4.5 that suggests customizing `HttpClient` instance:\r\n\r\n```java\r\nHttpClient httpClient = HttpClients\r\n            .custom()\r\n            .setSSLContext(new SSLContextBuilder().loadTrustMaterial(null, TrustAllStrategy.INSTANCE).build())\r\n            .setSSLHostnameVerifier(NoopHostnameVerifier.INSTANCE)\r\n            .build();\r\n```\r\n\r\nBut it is not applicable to HttpClient 5.1, as `setSSLContext` and `setSSLHostnameVerifier` methods do not exist in [`HttpClientBuilder`](https://www.javadoc.io/doc/org.apache.httpcomponents.client5/httpclient5/5.1/org/apache/hc/client5/http/impl/classic/HttpClientBuilder.html) (which `HttpClients.custom()` returns).","title":"How to ignore SSL certificate errors in Apache HttpComponents HttpClient 5.1","body":"<p>How do I bypass certificate verification errors with <a href=\"https://hc.apache.org/httpcomponents-client-5.1.x/\" rel=\"nofollow noreferrer\">Apache HttpComponents HttpClient 5.1</a>?</p>\n<p>I've found a <a href=\"https://stackoverflow.com/a/50274496/10108192\">working solution</a> to bypass such errors in HttpClient 4.5 that suggests customizing <code>HttpClient</code> instance:</p>\n<pre class=\"lang-java prettyprint-override\"><code>HttpClient httpClient = HttpClients\n            .custom()\n            .setSSLContext(new SSLContextBuilder().loadTrustMaterial(null, TrustAllStrategy.INSTANCE).build())\n            .setSSLHostnameVerifier(NoopHostnameVerifier.INSTANCE)\n            .build();\n</code></pre>\n<p>But it is not applicable to HttpClient 5.1, as <code>setSSLContext</code> and <code>setSSLHostnameVerifier</code> methods do not exist in <a href=\"https://www.javadoc.io/doc/org.apache.httpcomponents.client5/httpclient5/5.1/org/apache/hc/client5/http/impl/classic/HttpClientBuilder.html\" rel=\"nofollow noreferrer\"><code>HttpClientBuilder</code></a> (which <code>HttpClients.custom()</code> returns).</p>\n"},{"tags":["java","android","tensorflow"],"owner":{"account_id":27466560,"reputation":1,"user_id":20956166,"display_name":"xpxchxcx"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673160978,"creation_date":1673160941,"question_id":75045984,"body_markdown":"Using an AR glass&#39; API to get its camera frames to do object detection\r\n\r\nI tried converting the frames ( Byte Buffer ) to a bitmap and feeding it into my object detection pipeline. I realised there was no detection going on and debugged to find my bitmap is being read as null. Is it possible to input the bytebuffer straight to the interpreter and do object detection? if not my byte is valid and tested just converting to bitmap returns a toast messafe that is invalid and null.\r\n\r\n\r\n\r\n```\r\npackage com.example.jjsdkcameratest;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport java.io.IOException;\r\nimport java.nio.ByteBuffer;\r\nimport android.app.Activity;\r\nimport android.content.Context;\r\nimport android.graphics.Canvas;\r\nimport android.graphics.Color;\r\nimport android.graphics.Paint;\r\nimport android.graphics.RectF;\r\nimport android.os.Bundle;\r\nimport android.os.FileUtils;\r\nimport android.util.Log;\r\nimport android.view.SurfaceView;\r\nimport android.widget.Button;\r\n\r\nimport com.example.jjsdkcameratest.ml.SsdMobilenetV11Metadata1;\r\nimport com.jorjin.jjsdk.camera.CameraManager;\r\nimport com.jorjin.jjsdk.camera.FrameListener;\r\nimport android.graphics.Bitmap;\r\nimport android.graphics.BitmapFactory;\r\nimport android.widget.ImageView;\r\nimport android.widget.Toast;\r\n\r\nimport org.tensorflow.lite.DataType;\r\nimport org.tensorflow.lite.support.common.FileUtil;\r\nimport org.tensorflow.lite.support.image.ImageProcessor;\r\nimport org.tensorflow.lite.support.image.TensorImage;\r\nimport org.tensorflow.lite.support.image.ops.ResizeOp;\r\nimport org.tensorflow.lite.support.image.ImageProcessor;\r\nimport org.tensorflow.lite.support.image.TensorImage;\r\nimport org.tensorflow.lite.support.tensorbuffer.TensorBuffer;\r\n\r\nimport java.nio.ByteBuffer;\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\n\r\n\r\npublic class MainActivity extends Activity {\r\n\r\n    private CameraManager cameraManager;\r\n    private SurfaceView cameraSurface;\r\n    private Context context;\r\n    private ImageView imageView;\r\n    private SsdMobilenetV11Metadata1 model;\r\n    private ImageProcessor imageProcessor;\r\n    private Paint paint;\r\n    private List&lt;String&gt; labels;\r\n    private List&lt;Integer&gt; colors = Arrays.asList(Color.BLUE, Color.GREEN, Color.CYAN, Color.GRAY, Color.BLACK, Color.DKGRAY, Color.MAGENTA, Color.YELLOW, Color.RED);\r\n\r\n\r\n\r\n\r\n    private FrameListener frameListener = (buffer, width, height, format) -&gt; {\r\n\r\n        // Access the data buffer of the previewing frame here\r\n        byte[] bytes = buffer.array();\r\n        if (bytes == null || bytes.length == 0) {\r\n            Log.e(&quot;MainActivity&quot;, &quot;Frame data is invalid or empty&quot;);\r\n            Toast.makeText(context, &quot;Error: Frame data not valid&quot;, Toast.LENGTH_SHORT).show();\r\n            return;\r\n        }\r\n\r\n        Bitmap bitmap = BitmapFactory.decodeByteArray(bytes, 0, bytes.length);\r\n            if (bitmap == null) {\r\n                Log.e(&quot;MainActivity&quot;, &quot;Failed to decode frame data into a bitmap&quot;);\r\n                Toast.makeText(context, &quot;Error: Failed to decode frame data into a bitmap&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n            }\r\n\r\n\r\n            // Creates inputs for reference.\r\n        try {\r\n            TensorImage image = TensorImage.fromBitmap(bitmap);\r\n            image = imageProcessor.process(image);\r\n            // Runs model inference and gets result.\r\n            SsdMobilenetV11Metadata1.Outputs outputs = model.process(image);\r\n            float[] locations = outputs.getLocationsAsTensorBuffer().getFloatArray();\r\n            float[] classes = outputs.getClassesAsTensorBuffer().getFloatArray();\r\n            float[] scores = outputs.getScoresAsTensorBuffer().getFloatArray();\r\n            float[] numberOfDetections = outputs.getNumberOfDetectionsAsTensorBuffer().getFloatArray();\r\n\r\n            Bitmap mutable = bitmap.copy(Bitmap.Config.ARGB_8888, true);\r\n            Canvas canvas = new Canvas(mutable);\r\n\r\n            int h = mutable.getHeight();\r\n            int w = mutable.getWidth();\r\n\r\n            paint.setTextSize(h/15f);\r\n            paint.setStrokeWidth(h/85f);\r\n\r\n            int x = 0;\r\n\r\n            for (int index = 0; index &lt; scores.length; index++) {\r\n                float fl = scores[index];\r\n                x = index;\r\n                x *= 4;\r\n\r\n                if (fl &gt; 0.5) {\r\n                    paint.setColor(colors.get(index));\r\n                    paint.setStyle(Paint.Style.STROKE);\r\n                    canvas.drawRect(new RectF(locations[x+1]*w, locations[x]*h, locations[x+3]*w, locations[x+2]*h), paint);\r\n                    paint.setStyle(Paint.Style.FILL);\r\n                    canvas.drawText(labels.get((int) classes[index]) + &quot; &quot; + Float.toString(fl), locations[x+1]*w, locations[x]*h, paint);\r\n                }\r\n            }\r\n            if (imageView != null) {\r\n                imageView.setImageBitmap(bitmap);\r\n            }\r\n\r\n        } catch (NullPointerException npe) {\r\n            Log.e(&quot;MainActivity&quot;, &quot;Null pointer exception occurred&quot;, npe);\r\n            Toast.makeText(this, &quot;Null pointer exception occurred&quot;, Toast.LENGTH_SHORT);\r\n        }\r\n\r\n\r\n\r\n\r\n    };\r\n\r\n    public ImageView getImageView() {\r\n        if (imageView == null) {\r\n            imageView = findViewById(R.id.image_view);\r\n        }\r\n        return imageView;\r\n    }\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        try {\r\n            labels = FileUtil.loadLabels(this, &quot;labels.txt&quot;);\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        context = this;\r\n        getImageView();\r\n        cameraSurface = findViewById(R.id.surface_camera);\r\n        cameraManager = new CameraManager(context);\r\n        cameraManager.addSurfaceHolder(cameraSurface.getHolder());\r\n        cameraManager.setCameraFrameListener(frameListener);\r\n        cameraManager.setResolutionIndex(0);\r\n        cameraManager.startCamera(CameraManager.COLOR_FORMAT_RGBA);\r\n        imageProcessor = new ImageProcessor.Builder().add(new ResizeOp(300, 300, ResizeOp.ResizeMethod.BILINEAR)).build();\r\n        try {\r\n            SsdMobilenetV11Metadata1 model = SsdMobilenetV11Metadata1.newInstance(this);\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n\r\n    @Override\r\n    protected void onDestroy() {\r\n        super.onDestroy();\r\n        // Releases model resources if no longer used.\r\n        model.close();\r\n        cameraManager.stopCamera();\r\n    }\r\n}\r\n\r\n```\r\n","title":"Why is my Bitmap null when feeding through tensorflow pipeline?","body":"<p>Using an AR glass' API to get its camera frames to do object detection</p>\n<p>I tried converting the frames ( Byte Buffer ) to a bitmap and feeding it into my object detection pipeline. I realised there was no detection going on and debugged to find my bitmap is being read as null. Is it possible to input the bytebuffer straight to the interpreter and do object detection? if not my byte is valid and tested just converting to bitmap returns a toast messafe that is invalid and null.</p>\n<pre><code>package com.example.jjsdkcameratest;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport java.io.IOException;\nimport java.nio.ByteBuffer;\nimport android.app.Activity;\nimport android.content.Context;\nimport android.graphics.Canvas;\nimport android.graphics.Color;\nimport android.graphics.Paint;\nimport android.graphics.RectF;\nimport android.os.Bundle;\nimport android.os.FileUtils;\nimport android.util.Log;\nimport android.view.SurfaceView;\nimport android.widget.Button;\n\nimport com.example.jjsdkcameratest.ml.SsdMobilenetV11Metadata1;\nimport com.jorjin.jjsdk.camera.CameraManager;\nimport com.jorjin.jjsdk.camera.FrameListener;\nimport android.graphics.Bitmap;\nimport android.graphics.BitmapFactory;\nimport android.widget.ImageView;\nimport android.widget.Toast;\n\nimport org.tensorflow.lite.DataType;\nimport org.tensorflow.lite.support.common.FileUtil;\nimport org.tensorflow.lite.support.image.ImageProcessor;\nimport org.tensorflow.lite.support.image.TensorImage;\nimport org.tensorflow.lite.support.image.ops.ResizeOp;\nimport org.tensorflow.lite.support.image.ImageProcessor;\nimport org.tensorflow.lite.support.image.TensorImage;\nimport org.tensorflow.lite.support.tensorbuffer.TensorBuffer;\n\nimport java.nio.ByteBuffer;\nimport java.util.Arrays;\nimport java.util.List;\n\n\npublic class MainActivity extends Activity {\n\n    private CameraManager cameraManager;\n    private SurfaceView cameraSurface;\n    private Context context;\n    private ImageView imageView;\n    private SsdMobilenetV11Metadata1 model;\n    private ImageProcessor imageProcessor;\n    private Paint paint;\n    private List&lt;String&gt; labels;\n    private List&lt;Integer&gt; colors = Arrays.asList(Color.BLUE, Color.GREEN, Color.CYAN, Color.GRAY, Color.BLACK, Color.DKGRAY, Color.MAGENTA, Color.YELLOW, Color.RED);\n\n\n\n\n    private FrameListener frameListener = (buffer, width, height, format) -&gt; {\n\n        // Access the data buffer of the previewing frame here\n        byte[] bytes = buffer.array();\n        if (bytes == null || bytes.length == 0) {\n            Log.e(&quot;MainActivity&quot;, &quot;Frame data is invalid or empty&quot;);\n            Toast.makeText(context, &quot;Error: Frame data not valid&quot;, Toast.LENGTH_SHORT).show();\n            return;\n        }\n\n        Bitmap bitmap = BitmapFactory.decodeByteArray(bytes, 0, bytes.length);\n            if (bitmap == null) {\n                Log.e(&quot;MainActivity&quot;, &quot;Failed to decode frame data into a bitmap&quot;);\n                Toast.makeText(context, &quot;Error: Failed to decode frame data into a bitmap&quot;, Toast.LENGTH_SHORT).show();\n\n            }\n\n\n            // Creates inputs for reference.\n        try {\n            TensorImage image = TensorImage.fromBitmap(bitmap);\n            image = imageProcessor.process(image);\n            // Runs model inference and gets result.\n            SsdMobilenetV11Metadata1.Outputs outputs = model.process(image);\n            float[] locations = outputs.getLocationsAsTensorBuffer().getFloatArray();\n            float[] classes = outputs.getClassesAsTensorBuffer().getFloatArray();\n            float[] scores = outputs.getScoresAsTensorBuffer().getFloatArray();\n            float[] numberOfDetections = outputs.getNumberOfDetectionsAsTensorBuffer().getFloatArray();\n\n            Bitmap mutable = bitmap.copy(Bitmap.Config.ARGB_8888, true);\n            Canvas canvas = new Canvas(mutable);\n\n            int h = mutable.getHeight();\n            int w = mutable.getWidth();\n\n            paint.setTextSize(h/15f);\n            paint.setStrokeWidth(h/85f);\n\n            int x = 0;\n\n            for (int index = 0; index &lt; scores.length; index++) {\n                float fl = scores[index];\n                x = index;\n                x *= 4;\n\n                if (fl &gt; 0.5) {\n                    paint.setColor(colors.get(index));\n                    paint.setStyle(Paint.Style.STROKE);\n                    canvas.drawRect(new RectF(locations[x+1]*w, locations[x]*h, locations[x+3]*w, locations[x+2]*h), paint);\n                    paint.setStyle(Paint.Style.FILL);\n                    canvas.drawText(labels.get((int) classes[index]) + &quot; &quot; + Float.toString(fl), locations[x+1]*w, locations[x]*h, paint);\n                }\n            }\n            if (imageView != null) {\n                imageView.setImageBitmap(bitmap);\n            }\n\n        } catch (NullPointerException npe) {\n            Log.e(&quot;MainActivity&quot;, &quot;Null pointer exception occurred&quot;, npe);\n            Toast.makeText(this, &quot;Null pointer exception occurred&quot;, Toast.LENGTH_SHORT);\n        }\n\n\n\n\n    };\n\n    public ImageView getImageView() {\n        if (imageView == null) {\n            imageView = findViewById(R.id.image_view);\n        }\n        return imageView;\n    }\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        try {\n            labels = FileUtil.loadLabels(this, &quot;labels.txt&quot;);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n\n        context = this;\n        getImageView();\n        cameraSurface = findViewById(R.id.surface_camera);\n        cameraManager = new CameraManager(context);\n        cameraManager.addSurfaceHolder(cameraSurface.getHolder());\n        cameraManager.setCameraFrameListener(frameListener);\n        cameraManager.setResolutionIndex(0);\n        cameraManager.startCamera(CameraManager.COLOR_FORMAT_RGBA);\n        imageProcessor = new ImageProcessor.Builder().add(new ResizeOp(300, 300, ResizeOp.ResizeMethod.BILINEAR)).build();\n        try {\n            SsdMobilenetV11Metadata1 model = SsdMobilenetV11Metadata1.newInstance(this);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n\n\n    @Override\n    protected void onDestroy() {\n        super.onDestroy();\n        // Releases model resources if no longer used.\n        model.close();\n        cameraManager.stopCamera();\n    }\n}\n\n</code></pre>\n"},{"tags":["java","jackson","jackson-databind"],"answers":[{"tags":[],"owner":{"account_id":21287,"reputation":37465,"user_id":51591,"accept_rate":82,"display_name":"Micha Ziober"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1673141171,"creation_date":1673141171,"answer_id":75044947,"question_id":75037132,"body_markdown":"Probably the simplest option would be to use `com.fasterxml.jackson.annotation.JsonAnyGetter` annotation. Create a method which returns `Map&lt;String, String&gt;` and create pair which meets your condition. Below code shows how it could look like:\r\n```java\r\nimport com.fasterxml.jackson.annotation.JsonAnyGetter;\r\nimport com.fasterxml.jackson.annotation.JsonIgnore;\r\nimport com.fasterxml.jackson.databind.SerializationFeature;\r\nimport com.fasterxml.jackson.databind.json.JsonMapper;\r\nimport com.fasterxml.jackson.datatype.jsr310.JavaTimeModule;\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\n\r\nimport java.util.List;\r\nimport java.util.Map;\r\nimport java.util.Objects;\r\n\r\npublic class DataApp {\r\n\tprivate final static JsonMapper JSON_MAPPER = JsonMapper.builder()\r\n\t\t\t.enable(SerializationFeature.INDENT_OUTPUT)\r\n\t\t\t.addModule(new JavaTimeModule())\r\n\t\t\t.build();\r\n\r\n\tpublic static void main(String[] args) throws Exception {\r\n\t\tList&lt;Role&gt; roles = List.of(new Role(&quot;John&quot;, Type.USER), new Role(&quot;Tom&quot;, Type.PERSON));\r\n\t\tJSON_MAPPER.writeValue(System.out, roles);\r\n\t}\r\n}\r\n\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\nclass Role {\r\n\r\n\t@JsonIgnore\r\n\tString name;\r\n\tType type;\r\n\r\n\t@JsonAnyGetter\r\n\tprivate Map&lt;String, String&gt; createDynamicProperties() {\r\n\t\tif (Objects.isNull(type)) {\r\n\t\t\treturn Map.of();\r\n\t\t}\r\n\t\treturn switch (type) {\r\n\t\t\tcase USER -&gt; Map.of(&quot;name&quot;, name);\r\n\t\t\tcase PERSON -&gt; Map.of(&quot;surname&quot;, name);\r\n\t\t};\r\n\t}\r\n}\r\n\r\nenum Type {\r\n\tPERSON, USER\r\n}\r\n```\r\n\r\nAbove code prints:\r\n```json\r\n[ {\r\n  &quot;type&quot; : &quot;USER&quot;,\r\n  &quot;name&quot; : &quot;John&quot;\r\n}, {\r\n  &quot;type&quot; : &quot;PERSON&quot;,\r\n  &quot;surname&quot; : &quot;Tom&quot;\r\n} ]\r\n```\r\n\r\nSee also:\r\n\r\n - [How to use dynamic property names for a Json object][1]\r\n - [Adding a dynamic json property as java pojo for jackson][2]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/55684724/how-to-use-dynamic-property-names-for-a-json-object\r\n  [2]: https://stackoverflow.com/questions/56245719/adding-a-dynamic-json-property-as-java-pojo-for-jackson","title":"Jackson diffrent name base of other field value","body":"<p>Probably the simplest option would be to use <code>com.fasterxml.jackson.annotation.JsonAnyGetter</code> annotation. Create a method which returns <code>Map&lt;String, String&gt;</code> and create pair which meets your condition. Below code shows how it could look like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.fasterxml.jackson.annotation.JsonAnyGetter;\nimport com.fasterxml.jackson.annotation.JsonIgnore;\nimport com.fasterxml.jackson.databind.SerializationFeature;\nimport com.fasterxml.jackson.databind.json.JsonMapper;\nimport com.fasterxml.jackson.datatype.jsr310.JavaTimeModule;\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\nimport java.util.List;\nimport java.util.Map;\nimport java.util.Objects;\n\npublic class DataApp {\n    private final static JsonMapper JSON_MAPPER = JsonMapper.builder()\n            .enable(SerializationFeature.INDENT_OUTPUT)\n            .addModule(new JavaTimeModule())\n            .build();\n\n    public static void main(String[] args) throws Exception {\n        List&lt;Role&gt; roles = List.of(new Role(&quot;John&quot;, Type.USER), new Role(&quot;Tom&quot;, Type.PERSON));\n        JSON_MAPPER.writeValue(System.out, roles);\n    }\n}\n\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\nclass Role {\n\n    @JsonIgnore\n    String name;\n    Type type;\n\n    @JsonAnyGetter\n    private Map&lt;String, String&gt; createDynamicProperties() {\n        if (Objects.isNull(type)) {\n            return Map.of();\n        }\n        return switch (type) {\n            case USER -&gt; Map.of(&quot;name&quot;, name);\n            case PERSON -&gt; Map.of(&quot;surname&quot;, name);\n        };\n    }\n}\n\nenum Type {\n    PERSON, USER\n}\n</code></pre>\n<p>Above code prints:</p>\n<pre class=\"lang-json prettyprint-override\"><code>[ {\n  &quot;type&quot; : &quot;USER&quot;,\n  &quot;name&quot; : &quot;John&quot;\n}, {\n  &quot;type&quot; : &quot;PERSON&quot;,\n  &quot;surname&quot; : &quot;Tom&quot;\n} ]\n</code></pre>\n<p>See also:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/55684724/how-to-use-dynamic-property-names-for-a-json-object\">How to use dynamic property names for a Json object</a></li>\n<li><a href=\"https://stackoverflow.com/questions/56245719/adding-a-dynamic-json-property-as-java-pojo-for-jackson\">Adding a dynamic json property as java pojo for jackson</a></li>\n</ul>\n"}],"owner":{"account_id":7088270,"reputation":448,"user_id":5424502,"display_name":"Mohsen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":130,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75044947,"answer_count":1,"score":1,"last_activity_date":1673160251,"creation_date":1673049188,"question_id":75037132,"body_markdown":"I have POJO class like this\r\n\r\n```\r\nclass Data {\r\n    @JsonAlias({&quot;username&quot;, &quot;name&quot;})\r\n    String surname;\r\n    Type type;\r\n}\r\n\r\nenum Type{\r\n    PERSON, USER\r\n}\r\n```\r\nI want serialization of the Data class but when type is PERSON, JSON property **surname** is *name* and when type is USER, **surname** field as the *name*\r\n\r\nActually, I can create more child classes of Data class but my real type is more than 10 types with different names, and only difference is name of JSON property and do work similar.\r\n","title":"Jackson diffrent name base of other field value","body":"<p>I have POJO class like this</p>\n<pre><code>class Data {\n    @JsonAlias({&quot;username&quot;, &quot;name&quot;})\n    String surname;\n    Type type;\n}\n\nenum Type{\n    PERSON, USER\n}\n</code></pre>\n<p>I want serialization of the Data class but when type is PERSON, JSON property <strong>surname</strong> is <em>name</em> and when type is USER, <strong>surname</strong> field as the <em>name</em></p>\n<p>Actually, I can create more child classes of Data class but my real type is more than 10 types with different names, and only difference is name of JSON property and do work similar.</p>\n"},{"tags":["java","android","android-layout","android-studio","android-emulator"],"comments":[{"owner":{"account_id":6732270,"reputation":13013,"user_id":5188159,"accept_rate":89,"display_name":"Charu"},"score":0,"creation_date":1481875496,"post_id":41179790,"comment_id":69559516,"body_markdown":"don&#39;t apologise post log where it crashes","body":"don&#39;t apologise post log where it crashes"},{"owner":{"account_id":9102811,"reputation":1194,"user_id":6774387,"accept_rate":18,"display_name":"Abhishek Bhardwaj"},"score":0,"creation_date":1481875573,"post_id":41179790,"comment_id":69559551,"body_markdown":"Please copy paste your log cat file.","body":"Please copy paste your log cat file."},{"owner":{"account_id":6244197,"reputation":903,"user_id":4856761,"accept_rate":100,"display_name":"Talha"},"score":2,"creation_date":1481875588,"post_id":41179790,"comment_id":69559556,"body_markdown":"Are you using any permissions? if yes then you willl have to write runtime code for asking permission to make your app work properly on API 23 (or above). Also target API should always be greater of the two ( 23 in your case instead of 16).","body":"Are you using any permissions? if yes then you willl have to write runtime code for asking permission to make your app work properly on API 23 (or above). Also target API should always be greater of the two ( 23 in your case instead of 16)."},{"owner":{"account_id":6625261,"reputation":133,"user_id":5115696,"display_name":"Abduaziz Kayumov"},"score":0,"creation_date":1481876919,"post_id":41179790,"comment_id":69560086,"body_markdown":"please, provide with all logcats Android Studio shows","body":"please, provide with all logcats Android Studio shows"},{"owner":{"account_id":7029130,"reputation":355,"user_id":5722062,"accept_rate":81,"display_name":"John O&#39;Neil"},"score":0,"creation_date":1481877741,"post_id":41179790,"comment_id":69560489,"body_markdown":"I don&#39;t believe I am using any permissions it is a very simple app is there a way to find out if I am.\n\nI am trying to make the app run on APIs greater than 16. I am new to android programming so I am unsure whether you are saying I should have used 23 when creating the project?","body":"I don&#39;t believe I am using any permissions it is a very simple app is there a way to find out if I am.  I am trying to make the app run on APIs greater than 16. I am new to android programming so I am unsure whether you are saying I should have used 23 when creating the project?"},{"owner":{"account_id":4951203,"reputation":7272,"user_id":3985071,"accept_rate":54,"display_name":"Arpit Patel"},"score":0,"creation_date":1481904660,"post_id":41179790,"comment_id":69576459,"body_markdown":"any library you are using?? log says that can not find MainActivity","body":"any library you are using?? log says that can not find MainActivity"},{"owner":{"account_id":4951203,"reputation":7272,"user_id":3985071,"accept_rate":54,"display_name":"Arpit Patel"},"score":0,"creation_date":1481904687,"post_id":41179790,"comment_id":69576477,"body_markdown":"Have you declare in manifest file??","body":"Have you declare in manifest file??"},{"owner":{"account_id":7029130,"reputation":355,"user_id":5722062,"accept_rate":81,"display_name":"John O&#39;Neil"},"score":0,"creation_date":1481909890,"post_id":41179790,"comment_id":69579227,"body_markdown":"What should I be looking for in the manifest file?","body":"What should I be looking for in the manifest file?"},{"owner":{"account_id":8304088,"reputation":473,"user_id":8858220,"display_name":"Junia Montana"},"score":0,"creation_date":1545682429,"post_id":41179790,"comment_id":94677550,"body_markdown":"and I have the opposite scenario! It runs on real device without any problem but when I wanna test on genymotion emulators it crashes.","body":"and I have the opposite scenario! It runs on real device without any problem but when I wanna test on genymotion emulators it crashes."}],"answers":[{"tags":[],"owner":{"account_id":9859134,"reputation":445,"user_id":7302727,"display_name":"beal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1481876404,"creation_date":1481875779,"answer_id":41179889,"question_id":41179790,"body_markdown":"Regarding your error, it seems there are missing some SDKs.\r\n\r\nCheck up your SDK manager if all the needed SDKs and SDK-tools are installed. ","title":"Android Studio app works in emulator but not on a real device","body":"<p>Regarding your error, it seems there are missing some SDKs.</p>\n\n<p>Check up your SDK manager if all the needed SDKs and SDK-tools are installed. </p>\n"},{"tags":[],"owner":{"account_id":1797312,"reputation":65,"user_id":1636461,"accept_rate":14,"display_name":"Avinash kumawat"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1481889829,"creation_date":1481889829,"answer_id":41184002,"question_id":41179790,"body_markdown":"Use multidexEnabled in your build.gradle:\r\n\r\n    defaultConfig {\r\n         multiDexEnabled true\r\n    }\r\n\r\nclean , build and run","title":"Android Studio app works in emulator but not on a real device","body":"<p>Use multidexEnabled in your build.gradle:</p>\n\n<pre><code>defaultConfig {\n     multiDexEnabled true\n}\n</code></pre>\n\n<p>clean , build and run</p>\n"},{"tags":[],"owner":{"account_id":9859134,"reputation":445,"user_id":7302727,"display_name":"beal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1482220819,"creation_date":1482220819,"answer_id":41237404,"question_id":41179790,"body_markdown":"You could also check your Build.Gradle file(s).\r\nIn your case it should look like this:\r\n\r\n    android {\r\n        compileSdkVersion 23\r\n        buildToolsVersion &quot;23.0.1&quot;\r\n\r\n        defaultConfig {\r\n            minSdkVersion 16\r\n            targetSdkVersion 23\r\n        }\r\n\r\n        buildTypes {\r\n            debug {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n    }\r\n\r\nbe sure you disabled proguard by setting minifyEnabled to false. this can cause to be sure that this causes no additional errors ;)","title":"Android Studio app works in emulator but not on a real device","body":"<p>You could also check your Build.Gradle file(s).\nIn your case it should look like this:</p>\n\n<pre><code>android {\n    compileSdkVersion 23\n    buildToolsVersion \"23.0.1\"\n\n    defaultConfig {\n        minSdkVersion 16\n        targetSdkVersion 23\n    }\n\n    buildTypes {\n        debug {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n</code></pre>\n\n<p>be sure you disabled proguard by setting minifyEnabled to false. this can cause to be sure that this causes no additional errors ;)</p>\n"},{"tags":[],"owner":{"account_id":7172156,"reputation":789,"user_id":5483914,"display_name":"Mr. Unnormalized Posterior"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1499940002,"creation_date":1499940002,"answer_id":45077370,"question_id":41179790,"body_markdown":"In most of the cases, just `cleaning` and `rebuilding` the project would do the trick.","title":"Android Studio app works in emulator but not on a real device","body":"<p>In most of the cases, just <code>cleaning</code> and <code>rebuilding</code> the project would do the trick.</p>\n"},{"tags":[],"owner":{"account_id":8981327,"reputation":145,"user_id":6696453,"accept_rate":75,"display_name":"Royz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1499941057,"creation_date":1499941057,"answer_id":45077756,"question_id":41179790,"body_markdown":"Try to enable USB Debugging Mode. [Here&#39;s][1] a manual\r\n\r\n\r\n  [1]: https://www.kingoapp.com/root-tutorials/how-to-enable-usb-debugging-mode-on-android.htm","title":"Android Studio app works in emulator but not on a real device","body":"<p>Try to enable USB Debugging Mode. <a href=\"https://www.kingoapp.com/root-tutorials/how-to-enable-usb-debugging-mode-on-android.htm\" rel=\"nofollow noreferrer\">Here's</a> a manual</p>\n"},{"tags":[],"owner":{"account_id":10214015,"reputation":433,"user_id":7540265,"accept_rate":25,"display_name":"Danger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1500622612,"creation_date":1500622612,"answer_id":45231771,"question_id":41179790,"body_markdown":"When you are debugging/ running your app using USB cable connected to Android Studio, for some devices, when you uninstall the app and try to run it again through studio it shows target error.\r\n\r\nFor this once you uninstall the app, simply disconnect your device from USB cable and connect again.","title":"Android Studio app works in emulator but not on a real device","body":"<p>When you are debugging/ running your app using USB cable connected to Android Studio, for some devices, when you uninstall the app and try to run it again through studio it shows target error.</p>\n\n<p>For this once you uninstall the app, simply disconnect your device from USB cable and connect again.</p>\n"},{"tags":[],"owner":{"account_id":2288018,"reputation":25,"user_id":2011609,"display_name":"PhilipBert"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634516035,"creation_date":1634516035,"answer_id":69609537,"question_id":41179790,"body_markdown":"For other possible reason if none above are working. \r\n\r\nMy app ran in the emulator with no problem but would not run on a Pixel device.  I had the following line in the manifest under application:\r\n\r\nandroid:testOnly=&quot;true&quot;\r\n\r\nOnce this line was removed, the app worked perfectly on the device.","title":"Android Studio app works in emulator but not on a real device","body":"<p>For other possible reason if none above are working.</p>\n<p>My app ran in the emulator with no problem but would not run on a Pixel device.  I had the following line in the manifest under application:</p>\n<p>android:testOnly=&quot;true&quot;</p>\n<p>Once this line was removed, the app worked perfectly on the device.</p>\n"},{"tags":[],"owner":{"account_id":26443994,"reputation":721,"user_id":20088068,"display_name":"Prajval Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673160113,"creation_date":1673160113,"answer_id":75045931,"question_id":41179790,"body_markdown":"**Bonus might be of help to someone:**\r\n\r\n 1. First build a debuggable build by changing the following:\r\n\r\n       `Debuggable true` and `minifyEnabled false`\r\n 2. Add logs to code bases where you expect the application crashes\r\n 3. Create an apk, and connect your device to you system and enable usb debugging on your mobile\r\n 4. open logcat in android studio and select the debuggable process from the dropdown \r\n 5. check the logs, it might give you hints on what is the issue.\r\n\r\n\r\nBesides there can be a case, specifically for the android version 31:\r\n\r\nThere is this wonderful answer [Answer][1] you can try.\r\n\r\nBesides try deleting .gradle folder inside the android folder in react native \r\n\r\nAnd also do ensure you are using JDK 11, sometimes it crashes because of this too\r\n\r\n\r\n \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/74465890/my-react-native-app-crash-after-update-target-sdk-version-31/74549190#74549190","title":"Android Studio app works in emulator but not on a real device","body":"<p><strong>Bonus might be of help to someone:</strong></p>\n<ol>\n<li><p>First build a debuggable build by changing the following:</p>\n<p><code>Debuggable true</code> and <code>minifyEnabled false</code></p>\n</li>\n<li><p>Add logs to code bases where you expect the application crashes</p>\n</li>\n<li><p>Create an apk, and connect your device to you system and enable usb debugging on your mobile</p>\n</li>\n<li><p>open logcat in android studio and select the debuggable process from the dropdown</p>\n</li>\n<li><p>check the logs, it might give you hints on what is the issue.</p>\n</li>\n</ol>\n<p>Besides there can be a case, specifically for the android version 31:</p>\n<p>There is this wonderful answer <a href=\"https://stackoverflow.com/questions/74465890/my-react-native-app-crash-after-update-target-sdk-version-31/74549190#74549190\">Answer</a> you can try.</p>\n<p>Besides try deleting .gradle folder inside the android folder in react native</p>\n<p>And also do ensure you are using JDK 11, sometimes it crashes because of this too</p>\n"}],"owner":{"account_id":7029130,"reputation":355,"user_id":5722062,"accept_rate":81,"display_name":"John O&#39;Neil"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25244,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":8,"score":3,"last_activity_date":1673160113,"creation_date":1481875402,"question_id":41179790,"body_markdown":"I am new to android programming and have been having a lot of trouble with it. I finally got my app to work in the emulator on both API 23 and 16 my target is API 16. It runs with no problems on the emulators but when I try to use it on my phone (Google Nexus 5 API 23)\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:paddingBottom=&quot;@dimen/activity_vertical_margin&quot;\r\n        android:paddingLeft=&quot;@dimen/activity_horizontal_margin&quot;\r\n        android:paddingRight=&quot;@dimen/activity_horizontal_margin&quot;\r\n        android:paddingTop=&quot;@dimen/activity_vertical_margin&quot;\r\n        android:gravity=&quot;center&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        android:background=&quot;#F44336&quot;\r\n        android:id=&quot;@+id/background&quot;\r\n        tools:context=&quot;thereisstuffhere.MainActivity&quot;&gt;\r\n    \r\n        &lt;TextView\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;Hello World!&quot;\r\n            android:layout_centerVertical=&quot;true&quot;\r\n            android:layout_centerHorizontal=&quot;true&quot;\r\n            android:id=&quot;@+id/factTextBox&quot;\r\n            android:textSize=&quot;25dp&quot;\r\n            android:textColor=&quot;#fff&quot;/&gt;\r\n    &lt;/LinearLayout&gt;\r\n\r\n\r\n    package there is stuff here too;\r\n    \r\n    import android.support.v7.app.AppCompatActivity;\r\n    import android.os.Bundle;\r\n    import android.view.GestureDetector;\r\n    import android.view.MotionEvent;\r\n    import android.view.View;\r\n    import android.widget.LinearLayout;\r\n    import android.widget.TextView;\r\n    import android.widget.Toast;\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        TextView factBox;\r\n        LinearLayout bg;\r\n        Facts factHolder = new Facts(this);\r\n        Backgrounds backs = new Backgrounds();\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            factBox = (TextView) findViewById(R.id.factTextBox);\r\n            factBox.setText(factHolder.nextFact());\r\n            bg = (LinearLayout) findViewById(R.id.background);\r\n            bg.setBackgroundColor(getResources().getColor(backs.getBackground()));\r\n            bg.setOnTouchListener(new OnSwipeTouchListener(this)\r\n            {\r\n                public void onSwipeTop()\r\n                {\r\n                    //Toast.makeText(MainActivity.this, &quot;top&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n                public void onSwipeRight()\r\n                {\r\n                    //Toast.makeText(MainActivity.this, &quot;right&quot;, Toast.LENGTH_SHORT).show();\r\n                    prev();\r\n                }\r\n                public void onSwipeLeft()\r\n                {\r\n                    //Toast.makeText(MainActivity.this, &quot;left&quot;, Toast.LENGTH_SHORT).show();\r\n                    next();\r\n                }\r\n                public void onSwipeBottom()\r\n                {\r\n                    //Toast.makeText(MainActivity.this, &quot;bottom&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n                public boolean onTouch(View v, MotionEvent event) {\r\n                    return gestureDetector.onTouchEvent(event);\r\n                }\r\n            });\r\n        }\r\n    \r\n        private void next() {\r\n            factBox.setText(factHolder.nextFact());\r\n            bg.setBackgroundColor(getResources().getColor(backs.getBackground()));\r\n        }\r\n    \r\n        private void prev() {\r\n            factBox.setText(factHolder.prevFact());\r\n            bg.setBackgroundColor(getResources().getColor(backs.getBackground()));\r\n        }\r\n    \r\n        public void genFact(View view)\r\n        {\r\n            factBox.setText(factHolder.nextFact());\r\n        }\r\n\r\nFacts.java just contains a huge list and two functions that return the next or previous string in the list\r\n\r\nBackgrounds.java does essentially the same thing only it uses an Integer list and the colors.xml file to store the &lt;color&gt; tags etc\r\n\r\nThis is my OnTouchListener class:\r\n\r\n    package stuff be here;\r\n    \r\n    import android.content.Context;\r\n    import android.view.GestureDetector;\r\n    import android.view.GestureDetector.SimpleOnGestureListener;\r\n    import android.view.MotionEvent;\r\n    import android.view.View;\r\n    import android.view.View.OnTouchListener;\r\n    \r\n    public class OnSwipeTouchListener implements OnTouchListener {\r\n        final GestureDetector gestureDetector;\r\n    \r\n        public OnSwipeTouchListener(Context ctx)\r\n        {\r\n            gestureDetector = new GestureDetector(ctx, new GestureListener());\r\n        }\r\n    \r\n        @Override\r\n        public boolean onTouch(View view, MotionEvent motionEvent)\r\n        {\r\n            return false;\r\n        }\r\n    \r\n        private final class GestureListener extends SimpleOnGestureListener{\r\n    \r\n            private static final int SWIPE_THRESHOLD = 100;\r\n            private static final int SWIPE_VELOCITY_THRESHOLD = 100;\r\n    \r\n            @Override\r\n            public boolean onDown(MotionEvent e)\r\n            {\r\n                return true;\r\n            }\r\n    \r\n            @Override\r\n            public boolean onFling(MotionEvent e1, MotionEvent e2, float velocityX, float velocityY)\r\n            {\r\n                boolean result = false;\r\n                try{\r\n                    float diffY = e2.getY() - e1.getY();\r\n                    float diffX = e2.getX() - e1.getX();\r\n                    if(Math.abs(diffX) &gt; Math.abs(diffY)){\r\n                        if(Math.abs(diffX) &gt; SWIPE_THRESHOLD &amp;&amp; Math.abs(velocityX) &gt; SWIPE_VELOCITY_THRESHOLD){\r\n                            if(diffX &gt; 0){\r\n                                onSwipeRight();\r\n                            }else{\r\n                                onSwipeLeft();\r\n                            }\r\n                        }\r\n                        result = true;\r\n                    }\r\n                    else if(Math.abs(diffY) &gt; SWIPE_THRESHOLD &amp;&amp; Math.abs(velocityY) &gt; SWIPE_VELOCITY_THRESHOLD){\r\n                        if(diffY &gt; 0){\r\n                            onSwipeBottom();\r\n                        }else{\r\n                            onSwipeTop();\r\n                        }\r\n                    }\r\n                    result = true;\r\n                } catch (Exception exception){\r\n                    exception.printStackTrace();\r\n                }\r\n                return result;\r\n            }\r\n        }\r\n        public void onSwipeRight(){}\r\n        public void onSwipeLeft(){}\r\n        public void onSwipeTop(){}\r\n        public void onSwipeBottom(){}\r\n    }\r\n\r\nI apologise for all of the code but I have been trying to fix this for a while to no avail. I get a lot of errors when I try to run like &quot;Class not found using the boot class loader; no stack trace available&quot; and &quot;Unable to instantiate activity ComponentInf...&quot; I also get some warnings like &quot;ClassLoader referenced unknown path: /data/app/packagenamehere-1/lib/x86_64 and /data/app/packagenamehere-1/lib/arm&quot; even when running in the emulator\r\n\r\nHere is my log cat file:\r\n\r\n    12-16 17:26:25.167 22237-22237/com.ubiquity.sciencefacts I/art: Late-enabling -Xcheck:jni\r\n    12-16 17:26:25.197 22237-22243/com.ubiquity.sciencefacts I/art: Ignoring second debugger -- accepting and dropping\r\n    12-16 17:26:25.203 22237-22243/com.ubiquity.sciencefacts I/art: Debugger is no longer active\r\n    12-16 17:26:25.211 22237-22243/com.ubiquity.sciencefacts W/art: Suspending all threads took: 7.324ms\r\n    12-16 17:26:25.235 22237-22237/com.ubiquity.sciencefacts W/System: ClassLoader referenced unknown path: /data/app/com.ubiquity.sciencefacts-2/lib/arm\r\n    12-16 17:26:25.248 22237-22237/com.ubiquity.sciencefacts D/AndroidRuntime: Shutting down VM\r\n    12-16 17:26:25.254 22237-22237/com.ubiquity.sciencefacts E/AndroidRuntime: FATAL EXCEPTION: main\r\n    12-16 17:26:27.065 22237-22237/com.ubiquity.sciencefacts I/Process: Sending signal. PID: 22237 SIG: 9\r\n    12-16 17:33:18.574 24986-24986/com.ubiquity.sciencefacts W/System: ClassLoader referenced unknown path: /data/app/com.ubiquity.sciencefacts-1/lib/arm\r\n    12-16 17:33:18.662 24986-24986/com.ubiquity.sciencefacts D/AndroidRuntime: Shutting down VM\r\n    12-16 17:33:18.673 24986-24986/com.ubiquity.sciencefacts E/AndroidRuntime: FATAL EXCEPTION: main\r\n    12-16 17:33:20.800 24986-24986/com.ubiquity.sciencefacts I/Process: Sending signal. PID: 24986 SIG: 9\r\n    12-16 17:34:15.668 25845-25845/com.ubiquity.sciencefacts W/System: ClassLoader referenced unknown path: /data/app/com.ubiquity.sciencefacts-1/lib/arm\r\n    12-16 17:34:15.687 25845-25845/com.ubiquity.sciencefacts D/AndroidRuntime: Shutting down VM\r\n    12-16 17:34:15.693 25845-25845/com.ubiquity.sciencefacts E/AndroidRuntime: FATAL EXCEPTION: main\r\n    12-16 18:00:52.080 2640-2640/com.ubiquity.sciencefacts I/art: Not late-enabling -Xcheck:jni (already on)\r\n    12-16 18:00:52.142 2640-2640/com.ubiquity.sciencefacts W/System: ClassLoader referenced unknown path: /data/app/com.ubiquity.sciencefacts-1/lib/x86_64\r\n    12-16 18:00:52.568 2640-2640/com.ubiquity.sciencefacts W/System: ClassLoader referenced unknown path: /data/app/com.ubiquity.sciencefacts-1/lib/x86_64\r\n    12-16 18:00:52.805 2640-2640/com.ubiquity.sciencefacts W/art: Before Android 4.1, method android.graphics.PorterDuffColorFilter android.support.graphics.drawable.VectorDrawableCompat.updateTintFilter(android.graphics.PorterDuffColorFilter, android.content.res.ColorStateList, android.graphics.PorterDuff$Mode) would have incorrectly overridden the package-private method in android.graphics.drawable.Drawable\r\n    12-16 18:00:53.993 2640-2646/com.ubiquity.sciencefacts W/art: Suspending all threads took: 633.582ms\r\n    12-16 18:00:54.020 2640-2716/com.ubiquity.sciencefacts D/OpenGLRenderer: Use EGL_SWAP_BEHAVIOR_PRESERVED: true\r\n    12-16 18:00:54.063 2640-2716/com.ubiquity.sciencefacts I/OpenGLRenderer: Initialized EGL, version 1.4\r\n    12-16 18:00:54.091 2640-2716/com.ubiquity.sciencefacts E/EGL_emulation: tid 2716: eglSurfaceAttrib(1165): error 0x3009 (EGL_BAD_MATCH)\r\n    12-16 18:00:54.091 2640-2716/com.ubiquity.sciencefacts W/OpenGLRenderer: Failed to set EGL_SWAP_BEHAVIOR on surface 0x7f8b8ec90c40, error=EGL_BAD_MATCH\r\n    12-16 18:34:41.488 27869-27869/com.ubiquity.sciencefacts I/art: Late-enabling -Xcheck:jni\r\n    12-16 18:34:41.561 27869-27869/com.ubiquity.sciencefacts W/System: ClassLoader referenced unknown path: /data/app/com.ubiquity.sciencefacts-2/lib/arm\r\n    12-16 18:34:41.586 27869-27869/com.ubiquity.sciencefacts D/AndroidRuntime: Shutting down VM\r\n    12-16 18:34:41.589 27869-27869/com.ubiquity.sciencefacts E/AndroidRuntime: FATAL EXCEPTION: main\r\n                                                                               Process: com.ubiquity.sciencefacts, PID: 27869\r\n                                                                               java.lang.RuntimeException: Unable to instantiate activity ComponentInfo{com.ubiquity.sciencefacts/com.ubiquity.sciencefacts.MainActivity}: java.lang.ClassNotFoundException: Didn&#39;t find class &quot;com.ubiquity.sciencefacts.MainActivity&quot; on path: DexPathList[[zip file &quot;/data/app/com.ubiquity.sciencefacts-2/base.apk&quot;],nativeLibraryDirectories=[/data/app/com.ubiquity.sciencefacts-2/lib/arm, /vendor/lib, /system/lib]]\r\n                                                                                   at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2327)\r\n                                                                                   at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2476)\r\n                                                                                   at android.app.ActivityThread.-wrap11(ActivityThread.java)\r\n                                                                                   at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1344)\r\n                                                                                   at android.os.Handler.dispatchMessage(Handler.java:102)\r\n                                                                                   at android.os.Looper.loop(Looper.java:148)\r\n                                                                                   at android.app.ActivityThread.main(ActivityThread.java:5417)\r\n                                                                                   at java.lang.reflect.Method.invoke(Native Method)\r\n                                                                                   at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:726)\r\n                                                                                   at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616)\r\n                                                                                Caused by: java.lang.ClassNotFoundException: Didn&#39;t find class &quot;com.ubiquity.sciencefacts.MainActivity&quot; on path: DexPathList[[zip file &quot;/data/app/com.ubiquity.sciencefacts-2/base.apk&quot;],nativeLibraryDirectories=[/data/app/com.ubiquity.sciencefacts-2/lib/arm, /vendor/lib, /system/lib]]\r\n                                                                                   at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:56)\r\n                                                                                   at java.lang.ClassLoader.loadClass(ClassLoader.java:511)\r\n                                                                                   at java.lang.ClassLoader.loadClass(ClassLoader.java:469)\r\n                                                                                   at android.app.Instrumentation.newActivity(Instrumentation.java:1067)\r\n                                                                                   at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2317)\r\n                                                                                   at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2476)&#160;\r\n                                                                                   at android.app.ActivityThread.-wrap11(ActivityThread.java)&#160;\r\n                                                                                   at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1344)&#160;\r\n                                                                                   at android.os.Handler.dispatchMessage(Handler.java:102)&#160;\r\n                                                                                   at android.os.Looper.loop(Looper.java:148)&#160;\r\n                                                                                   at android.app.ActivityThread.main(ActivityThread.java:5417)&#160;\r\n                                                                                   at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n                                                                                   at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:726)&#160;\r\n                                                                                   at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616)&#160;\r\n                                                                               \tSuppressed: java.lang.ClassNotFoundException: com.ubiquity.sciencefacts.MainActivity\r\n                                                                                   at java.lang.Class.classForName(Native Method)\r\n                                                                                   at java.lang.BootClassLoader.findClass(ClassLoader.java:781)\r\n                                                                                   at java.lang.BootClassLoader.loadClass(ClassLoader.java:841)\r\n                                                                                   at java.lang.ClassLoader.loadClass(ClassLoader.java:504)\r\n                                                                                   \t\t... 12 more\r\n                                                                                Caused by: java.lang.NoClassDefFoundError: Class not found using the boot class loader; no stack trace available\r\n    12-16 18:34:43.772 27869-27869/com.ubiquity.sciencefacts I/Process: Sending signal. PID: 27869 SIG: 9\r\n\r\nIMPORTANT UPDATE: I built the program as an apk and installed it on my phone using that and it worked without issue. Does this imply a target error as was said below in the comments? Would this affect the distribution of my app (for future reference I am not actually distributing this)?","title":"Android Studio app works in emulator but not on a real device","body":"<p>I am new to android programming and have been having a lot of trouble with it. I finally got my app to work in the emulator on both API 23 and 16 my target is API 16. It runs with no problems on the emulators but when I try to use it on my phone (Google Nexus 5 API 23)</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:paddingBottom=\"@dimen/activity_vertical_margin\"\n    android:paddingLeft=\"@dimen/activity_horizontal_margin\"\n    android:paddingRight=\"@dimen/activity_horizontal_margin\"\n    android:paddingTop=\"@dimen/activity_vertical_margin\"\n    android:gravity=\"center\"\n    android:orientation=\"vertical\"\n    android:background=\"#F44336\"\n    android:id=\"@+id/background\"\n    tools:context=\"thereisstuffhere.MainActivity\"&gt;\n\n    &lt;TextView\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:text=\"Hello World!\"\n        android:layout_centerVertical=\"true\"\n        android:layout_centerHorizontal=\"true\"\n        android:id=\"@+id/factTextBox\"\n        android:textSize=\"25dp\"\n        android:textColor=\"#fff\"/&gt;\n&lt;/LinearLayout&gt;\n\n\npackage there is stuff here too;\n\nimport android.support.v7.app.AppCompatActivity;\nimport android.os.Bundle;\nimport android.view.GestureDetector;\nimport android.view.MotionEvent;\nimport android.view.View;\nimport android.widget.LinearLayout;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\npublic class MainActivity extends AppCompatActivity {\n\n    TextView factBox;\n    LinearLayout bg;\n    Facts factHolder = new Facts(this);\n    Backgrounds backs = new Backgrounds();\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        factBox = (TextView) findViewById(R.id.factTextBox);\n        factBox.setText(factHolder.nextFact());\n        bg = (LinearLayout) findViewById(R.id.background);\n        bg.setBackgroundColor(getResources().getColor(backs.getBackground()));\n        bg.setOnTouchListener(new OnSwipeTouchListener(this)\n        {\n            public void onSwipeTop()\n            {\n                //Toast.makeText(MainActivity.this, \"top\", Toast.LENGTH_SHORT).show();\n            }\n            public void onSwipeRight()\n            {\n                //Toast.makeText(MainActivity.this, \"right\", Toast.LENGTH_SHORT).show();\n                prev();\n            }\n            public void onSwipeLeft()\n            {\n                //Toast.makeText(MainActivity.this, \"left\", Toast.LENGTH_SHORT).show();\n                next();\n            }\n            public void onSwipeBottom()\n            {\n                //Toast.makeText(MainActivity.this, \"bottom\", Toast.LENGTH_SHORT).show();\n            }\n            public boolean onTouch(View v, MotionEvent event) {\n                return gestureDetector.onTouchEvent(event);\n            }\n        });\n    }\n\n    private void next() {\n        factBox.setText(factHolder.nextFact());\n        bg.setBackgroundColor(getResources().getColor(backs.getBackground()));\n    }\n\n    private void prev() {\n        factBox.setText(factHolder.prevFact());\n        bg.setBackgroundColor(getResources().getColor(backs.getBackground()));\n    }\n\n    public void genFact(View view)\n    {\n        factBox.setText(factHolder.nextFact());\n    }\n</code></pre>\n\n<p>Facts.java just contains a huge list and two functions that return the next or previous string in the list</p>\n\n<p>Backgrounds.java does essentially the same thing only it uses an Integer list and the colors.xml file to store the  tags etc</p>\n\n<p>This is my OnTouchListener class:</p>\n\n<pre><code>package stuff be here;\n\nimport android.content.Context;\nimport android.view.GestureDetector;\nimport android.view.GestureDetector.SimpleOnGestureListener;\nimport android.view.MotionEvent;\nimport android.view.View;\nimport android.view.View.OnTouchListener;\n\npublic class OnSwipeTouchListener implements OnTouchListener {\n    final GestureDetector gestureDetector;\n\n    public OnSwipeTouchListener(Context ctx)\n    {\n        gestureDetector = new GestureDetector(ctx, new GestureListener());\n    }\n\n    @Override\n    public boolean onTouch(View view, MotionEvent motionEvent)\n    {\n        return false;\n    }\n\n    private final class GestureListener extends SimpleOnGestureListener{\n\n        private static final int SWIPE_THRESHOLD = 100;\n        private static final int SWIPE_VELOCITY_THRESHOLD = 100;\n\n        @Override\n        public boolean onDown(MotionEvent e)\n        {\n            return true;\n        }\n\n        @Override\n        public boolean onFling(MotionEvent e1, MotionEvent e2, float velocityX, float velocityY)\n        {\n            boolean result = false;\n            try{\n                float diffY = e2.getY() - e1.getY();\n                float diffX = e2.getX() - e1.getX();\n                if(Math.abs(diffX) &gt; Math.abs(diffY)){\n                    if(Math.abs(diffX) &gt; SWIPE_THRESHOLD &amp;&amp; Math.abs(velocityX) &gt; SWIPE_VELOCITY_THRESHOLD){\n                        if(diffX &gt; 0){\n                            onSwipeRight();\n                        }else{\n                            onSwipeLeft();\n                        }\n                    }\n                    result = true;\n                }\n                else if(Math.abs(diffY) &gt; SWIPE_THRESHOLD &amp;&amp; Math.abs(velocityY) &gt; SWIPE_VELOCITY_THRESHOLD){\n                    if(diffY &gt; 0){\n                        onSwipeBottom();\n                    }else{\n                        onSwipeTop();\n                    }\n                }\n                result = true;\n            } catch (Exception exception){\n                exception.printStackTrace();\n            }\n            return result;\n        }\n    }\n    public void onSwipeRight(){}\n    public void onSwipeLeft(){}\n    public void onSwipeTop(){}\n    public void onSwipeBottom(){}\n}\n</code></pre>\n\n<p>I apologise for all of the code but I have been trying to fix this for a while to no avail. I get a lot of errors when I try to run like \"Class not found using the boot class loader; no stack trace available\" and \"Unable to instantiate activity ComponentInf...\" I also get some warnings like \"ClassLoader referenced unknown path: /data/app/packagenamehere-1/lib/x86_64 and /data/app/packagenamehere-1/lib/arm\" even when running in the emulator</p>\n\n<p>Here is my log cat file:</p>\n\n<pre><code>12-16 17:26:25.167 22237-22237/com.ubiquity.sciencefacts I/art: Late-enabling -Xcheck:jni\n12-16 17:26:25.197 22237-22243/com.ubiquity.sciencefacts I/art: Ignoring second debugger -- accepting and dropping\n12-16 17:26:25.203 22237-22243/com.ubiquity.sciencefacts I/art: Debugger is no longer active\n12-16 17:26:25.211 22237-22243/com.ubiquity.sciencefacts W/art: Suspending all threads took: 7.324ms\n12-16 17:26:25.235 22237-22237/com.ubiquity.sciencefacts W/System: ClassLoader referenced unknown path: /data/app/com.ubiquity.sciencefacts-2/lib/arm\n12-16 17:26:25.248 22237-22237/com.ubiquity.sciencefacts D/AndroidRuntime: Shutting down VM\n12-16 17:26:25.254 22237-22237/com.ubiquity.sciencefacts E/AndroidRuntime: FATAL EXCEPTION: main\n12-16 17:26:27.065 22237-22237/com.ubiquity.sciencefacts I/Process: Sending signal. PID: 22237 SIG: 9\n12-16 17:33:18.574 24986-24986/com.ubiquity.sciencefacts W/System: ClassLoader referenced unknown path: /data/app/com.ubiquity.sciencefacts-1/lib/arm\n12-16 17:33:18.662 24986-24986/com.ubiquity.sciencefacts D/AndroidRuntime: Shutting down VM\n12-16 17:33:18.673 24986-24986/com.ubiquity.sciencefacts E/AndroidRuntime: FATAL EXCEPTION: main\n12-16 17:33:20.800 24986-24986/com.ubiquity.sciencefacts I/Process: Sending signal. PID: 24986 SIG: 9\n12-16 17:34:15.668 25845-25845/com.ubiquity.sciencefacts W/System: ClassLoader referenced unknown path: /data/app/com.ubiquity.sciencefacts-1/lib/arm\n12-16 17:34:15.687 25845-25845/com.ubiquity.sciencefacts D/AndroidRuntime: Shutting down VM\n12-16 17:34:15.693 25845-25845/com.ubiquity.sciencefacts E/AndroidRuntime: FATAL EXCEPTION: main\n12-16 18:00:52.080 2640-2640/com.ubiquity.sciencefacts I/art: Not late-enabling -Xcheck:jni (already on)\n12-16 18:00:52.142 2640-2640/com.ubiquity.sciencefacts W/System: ClassLoader referenced unknown path: /data/app/com.ubiquity.sciencefacts-1/lib/x86_64\n12-16 18:00:52.568 2640-2640/com.ubiquity.sciencefacts W/System: ClassLoader referenced unknown path: /data/app/com.ubiquity.sciencefacts-1/lib/x86_64\n12-16 18:00:52.805 2640-2640/com.ubiquity.sciencefacts W/art: Before Android 4.1, method android.graphics.PorterDuffColorFilter android.support.graphics.drawable.VectorDrawableCompat.updateTintFilter(android.graphics.PorterDuffColorFilter, android.content.res.ColorStateList, android.graphics.PorterDuff$Mode) would have incorrectly overridden the package-private method in android.graphics.drawable.Drawable\n12-16 18:00:53.993 2640-2646/com.ubiquity.sciencefacts W/art: Suspending all threads took: 633.582ms\n12-16 18:00:54.020 2640-2716/com.ubiquity.sciencefacts D/OpenGLRenderer: Use EGL_SWAP_BEHAVIOR_PRESERVED: true\n12-16 18:00:54.063 2640-2716/com.ubiquity.sciencefacts I/OpenGLRenderer: Initialized EGL, version 1.4\n12-16 18:00:54.091 2640-2716/com.ubiquity.sciencefacts E/EGL_emulation: tid 2716: eglSurfaceAttrib(1165): error 0x3009 (EGL_BAD_MATCH)\n12-16 18:00:54.091 2640-2716/com.ubiquity.sciencefacts W/OpenGLRenderer: Failed to set EGL_SWAP_BEHAVIOR on surface 0x7f8b8ec90c40, error=EGL_BAD_MATCH\n12-16 18:34:41.488 27869-27869/com.ubiquity.sciencefacts I/art: Late-enabling -Xcheck:jni\n12-16 18:34:41.561 27869-27869/com.ubiquity.sciencefacts W/System: ClassLoader referenced unknown path: /data/app/com.ubiquity.sciencefacts-2/lib/arm\n12-16 18:34:41.586 27869-27869/com.ubiquity.sciencefacts D/AndroidRuntime: Shutting down VM\n12-16 18:34:41.589 27869-27869/com.ubiquity.sciencefacts E/AndroidRuntime: FATAL EXCEPTION: main\n                                                                           Process: com.ubiquity.sciencefacts, PID: 27869\n                                                                           java.lang.RuntimeException: Unable to instantiate activity ComponentInfo{com.ubiquity.sciencefacts/com.ubiquity.sciencefacts.MainActivity}: java.lang.ClassNotFoundException: Didn't find class \"com.ubiquity.sciencefacts.MainActivity\" on path: DexPathList[[zip file \"/data/app/com.ubiquity.sciencefacts-2/base.apk\"],nativeLibraryDirectories=[/data/app/com.ubiquity.sciencefacts-2/lib/arm, /vendor/lib, /system/lib]]\n                                                                               at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2327)\n                                                                               at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2476)\n                                                                               at android.app.ActivityThread.-wrap11(ActivityThread.java)\n                                                                               at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1344)\n                                                                               at android.os.Handler.dispatchMessage(Handler.java:102)\n                                                                               at android.os.Looper.loop(Looper.java:148)\n                                                                               at android.app.ActivityThread.main(ActivityThread.java:5417)\n                                                                               at java.lang.reflect.Method.invoke(Native Method)\n                                                                               at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:726)\n                                                                               at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616)\n                                                                            Caused by: java.lang.ClassNotFoundException: Didn't find class \"com.ubiquity.sciencefacts.MainActivity\" on path: DexPathList[[zip file \"/data/app/com.ubiquity.sciencefacts-2/base.apk\"],nativeLibraryDirectories=[/data/app/com.ubiquity.sciencefacts-2/lib/arm, /vendor/lib, /system/lib]]\n                                                                               at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:56)\n                                                                               at java.lang.ClassLoader.loadClass(ClassLoader.java:511)\n                                                                               at java.lang.ClassLoader.loadClass(ClassLoader.java:469)\n                                                                               at android.app.Instrumentation.newActivity(Instrumentation.java:1067)\n                                                                               at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2317)\n                                                                               at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2476)\n                                                                               at android.app.ActivityThread.-wrap11(ActivityThread.java)\n                                                                               at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1344)\n                                                                               at android.os.Handler.dispatchMessage(Handler.java:102)\n                                                                               at android.os.Looper.loop(Looper.java:148)\n                                                                               at android.app.ActivityThread.main(ActivityThread.java:5417)\n                                                                               at java.lang.reflect.Method.invoke(Native Method)\n                                                                               at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:726)\n                                                                               at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616)\n                                                                            Suppressed: java.lang.ClassNotFoundException: com.ubiquity.sciencefacts.MainActivity\n                                                                               at java.lang.Class.classForName(Native Method)\n                                                                               at java.lang.BootClassLoader.findClass(ClassLoader.java:781)\n                                                                               at java.lang.BootClassLoader.loadClass(ClassLoader.java:841)\n                                                                               at java.lang.ClassLoader.loadClass(ClassLoader.java:504)\n                                                                                    ... 12 more\n                                                                            Caused by: java.lang.NoClassDefFoundError: Class not found using the boot class loader; no stack trace available\n12-16 18:34:43.772 27869-27869/com.ubiquity.sciencefacts I/Process: Sending signal. PID: 27869 SIG: 9\n</code></pre>\n\n<p>IMPORTANT UPDATE: I built the program as an apk and installed it on my phone using that and it worked without issue. Does this imply a target error as was said below in the comments? Would this affect the distribution of my app (for future reference I am not actually distributing this)?</p>\n"},{"tags":["java","input"],"answers":[{"tags":[],"owner":{"account_id":5823420,"reputation":785,"user_id":6656833,"display_name":"Pavel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673155718,"creation_date":1673155718,"answer_id":75045695,"question_id":75045416,"body_markdown":"`Integer.valueOf(br.readLine());` reads the whole line and parses it to integer value so it expects only single integer value in the string. If you want to parse multiple integers from a line separated by space you first need to split it (or use do a regex search). For example `br.readLine().split(&quot; &quot;);` and then iterate over the array of strings and parse them as integers","title":"How to accept space separated inputs as separate inputs in JAVA using BufferReader","body":"<p><code>Integer.valueOf(br.readLine());</code> reads the whole line and parses it to integer value so it expects only single integer value in the string. If you want to parse multiple integers from a line separated by space you first need to split it (or use do a regex search). For example <code>br.readLine().split(&quot; &quot;);</code> and then iterate over the array of strings and parse them as integers</p>\n"}],"owner":{"account_id":19380291,"reputation":27,"user_id":14171709,"display_name":"Dhyan Prasad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75045695,"answer_count":1,"score":1,"last_activity_date":1673157686,"creation_date":1673150528,"question_id":75045416,"body_markdown":"I tried reading the space-separated inputs `5 3` for my code using `Scanner` class which works fine using `nextInt()` method. When I switched to `BufferReader` class for faster I/O, using `readLine()` does not accept the space-separated inputs as separate integers.\r\n\r\n\r\n```\r\n\r\n\r\nimport java.util.*;\r\nimport java.lang.*;\r\nimport java.io.*;\r\n\r\n\r\npublic class Main\r\n{\r\n\tpublic static void main (String[] args) throws java.lang.Exception\r\n\t{\r\n\t\r\n\ttry{\r\n\t    InputStreamReader r=new InputStreamReader(System.in);    \r\n    BufferedReader br=new BufferedReader(r); \r\n\tint t= Integer.valueOf(br.readLine());\r\n\t\r\n\twhile(t--&gt;0){\r\n\t    \r\n\tint mel=Integer.valueOf(br.readLine());\r\n\t\r\n\tint ban=Integer.valueOf(br.readLine());\r\n\t\r\n\tSystem.out.println(cho(mel,ban));\r\n\t\r\n\t    \r\n\t}\r\n\t}catch(Exception e){\r\n\t    return;\r\n\t}\r\n\t\r\n\t}\r\n\t\r\n\tpublic static int cho(int m,int b)\r\n\t\r\n\t{\r\n\t    if(m==0 || b==0 || (m==b))\r\n\t    {\r\n\t        return (m+b);\r\n\t    }\r\n\t    else\r\n\t    {\r\n\t       return m&gt;b? cho((m-=b),b): cho(m,(b-=m));\r\n\t        \r\n\t       \r\n\t        \r\n\t    }\r\n\t}\r\n}\r\n\r\n```\r\n`**Inputs** \r\n2\r\n5 3\r\n10 10\r\n`\r\n`**Expected Outputs** \r\n2\r\n20\r\n`\r\n\r\n`**My Outputs** \r\n2\r\n5 3\r\n\r\n\r\n...Program finished with exit code 0\r\nPress ENTER to exit console.\r\n`","title":"How to accept space separated inputs as separate inputs in JAVA using BufferReader","body":"<p>I tried reading the space-separated inputs <code>5 3</code> for my code using <code>Scanner</code> class which works fine using <code>nextInt()</code> method. When I switched to <code>BufferReader</code> class for faster I/O, using <code>readLine()</code> does not accept the space-separated inputs as separate integers.</p>\n<pre><code>\n\nimport java.util.*;\nimport java.lang.*;\nimport java.io.*;\n\n\npublic class Main\n{\n    public static void main (String[] args) throws java.lang.Exception\n    {\n    \n    try{\n        InputStreamReader r=new InputStreamReader(System.in);    \n    BufferedReader br=new BufferedReader(r); \n    int t= Integer.valueOf(br.readLine());\n    \n    while(t--&gt;0){\n        \n    int mel=Integer.valueOf(br.readLine());\n    \n    int ban=Integer.valueOf(br.readLine());\n    \n    System.out.println(cho(mel,ban));\n    \n        \n    }\n    }catch(Exception e){\n        return;\n    }\n    \n    }\n    \n    public static int cho(int m,int b)\n    \n    {\n        if(m==0 || b==0 || (m==b))\n        {\n            return (m+b);\n        }\n        else\n        {\n           return m&gt;b? cho((m-=b),b): cho(m,(b-=m));\n            \n           \n            \n        }\n    }\n}\n\n</code></pre>\n<p><code>**Inputs**  2 5 3 10 10 </code>\n<code>**Expected Outputs**  2 20 </code></p>\n<p>`<strong>My Outputs</strong>\n2\n5 3</p>\n<p>...Program finished with exit code 0\nPress ENTER to exit console.\n`</p>\n"},{"tags":["java","android","flutter","kotlin","gradle"],"comments":[{"owner":{"account_id":23052429,"reputation":16032,"user_id":17169037,"display_name":"Kaushik Chandru"},"score":0,"creation_date":1654430624,"post_id":72506950,"comment_id":128084464,"body_markdown":"Are you using the latest version of image picker?","body":"Are you using the latest version of image picker?"}],"answers":[{"tags":[],"owner":{"account_id":7440248,"reputation":1448,"user_id":5658233,"accept_rate":25,"display_name":"Viktar K"},"down_vote_count":3,"up_vote_count":21,"is_accepted":false,"score":18,"last_activity_date":1654511972,"creation_date":1654511972,"answer_id":72516446,"question_id":72506950,"body_markdown":"The solution is actual on 06.06.2022. Adding these lines in pubspec.yaml fixed the problem:\r\n\r\n    dependency_overrides:\r\n      image_picker_android: 0.8.4+13","title":"Flutter Error : Could not resolve all artifacts for configuration &#39;:image_picker_android:debugUnitTestRuntimeClasspath&#39;","body":"<p>The solution is actual on 06.06.2022. Adding these lines in pubspec.yaml fixed the problem:</p>\n<pre><code>dependency_overrides:\n  image_picker_android: 0.8.4+13\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18248350,"reputation":2230,"user_id":13283931,"display_name":"Bilal Saeed"},"down_vote_count":2,"up_vote_count":96,"is_accepted":true,"score":94,"last_activity_date":1666677522,"creation_date":1654524354,"answer_id":72518904,"question_id":72506950,"body_markdown":"**This was my solution which I recommend to be the 2nd option:**\r\n\r\n**Solution 1:**\r\nI added following lines in the **android directory of app level build.gradle *i.e android/app/build.gradle*** of my  project.\r\n```\r\n   lintOptions {\r\n        disable &#39;InvalidPackage&#39;\r\n        disable &quot;Instantiatable&quot;\r\n        checkReleaseBuilds false\r\n        abortOnError false\r\n    }\r\n```\r\nAnd every thing started to work fine.\r\n[Check out my Gradle File][1]\r\n\r\n**Solution 2:**\r\n\r\nHowever I suggest you people by the solution of @Vinadon and agree with the comment of @raiderOne:\r\n1st recommended solution should be:\r\n\r\nThe issues lies in image_picker_android being updated to gradle 7.1.2. See their changelog. Following an issue on GitHub you have to update your gradle version like so:\r\n\r\nIn android/gradle/wrapper/gradle-wrapper.properties update your distributionUrl to\r\n```\r\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-7.2-all.zip\r\n```\r\nand in android/build.gradle change the gradle version to at least 7.1.2\r\n```\r\nclasspath &#39;com.android.tools.build:gradle:7.1.2\r\n```\r\nIn @Vinadon case, He had to update his Android Studio for a newer Java version too. \r\n***Upvote Vindadon answer below for this solution.*** Thanks!\r\n\r\n\r\n\r\n\r\n  [1]: https://firebasestorage.googleapis.com/v0/b/learning-firebase-2d636.appspot.com/o/build.gradle?alt=media&amp;token=801bbb4a-6560-45f7-88de-7d9b594f3dfe","title":"Flutter Error : Could not resolve all artifacts for configuration &#39;:image_picker_android:debugUnitTestRuntimeClasspath&#39;","body":"<p><strong>This was my solution which I recommend to be the 2nd option:</strong></p>\n<p><strong>Solution 1:</strong>\nI added following lines in the <strong>android directory of app level build.gradle <em>i.e android/app/build.gradle</em></strong> of my  project.</p>\n<pre><code>   lintOptions {\n        disable 'InvalidPackage'\n        disable &quot;Instantiatable&quot;\n        checkReleaseBuilds false\n        abortOnError false\n    }\n</code></pre>\n<p>And every thing started to work fine.\n<a href=\"https://firebasestorage.googleapis.com/v0/b/learning-firebase-2d636.appspot.com/o/build.gradle?alt=media&amp;token=801bbb4a-6560-45f7-88de-7d9b594f3dfe\" rel=\"noreferrer\">Check out my Gradle File</a></p>\n<p><strong>Solution 2:</strong></p>\n<p>However I suggest you people by the solution of @Vinadon and agree with the comment of @raiderOne:\n1st recommended solution should be:</p>\n<p>The issues lies in image_picker_android being updated to gradle 7.1.2. See their changelog. Following an issue on GitHub you have to update your gradle version like so:</p>\n<p>In android/gradle/wrapper/gradle-wrapper.properties update your distributionUrl to</p>\n<pre><code>distributionUrl=https\\://services.gradle.org/distributions/gradle-7.2-all.zip\n</code></pre>\n<p>and in android/build.gradle change the gradle version to at least 7.1.2</p>\n<pre><code>classpath 'com.android.tools.build:gradle:7.1.2\n</code></pre>\n<p>In @Vinadon case, He had to update his Android Studio for a newer Java version too.\n<em><strong>Upvote Vindadon answer below for this solution.</strong></em> Thanks!</p>\n"},{"tags":[],"owner":{"account_id":22257690,"reputation":279,"user_id":16489623,"display_name":"Faraz Rasool"},"down_vote_count":1,"up_vote_count":28,"is_accepted":false,"score":27,"last_activity_date":1673155487,"creation_date":1655157990,"answer_id":72609554,"question_id":72506950,"body_markdown":"**Let me help you a little bit in finding the correct place to paste the code**\r\n\r\n1: Go to your app-level build.grade.\r\n\r\n![enter image description here][1]\r\n\r\n\r\n2:Scroll down to &quot;android{ &quot; \r\npaste this code carefully(not disturbing any other brakets.)\r\n\r\n    \r\n\r\n    lintOptions {\r\n                disable &#39;InvalidPackage&#39;\r\n                disable &quot;Instantiatable&quot;\r\n                checkReleaseBuilds false\r\n                abortOnError false\r\n            }\r\n\r\n![enter image description here][2]\r\n\r\n3:run &quot;flutter clean&quot;\r\n4:run &quot;flutter pub get&quot;\r\n5:If you want to build apk of your project then run &quot;flutter build apk&quot;\r\n\r\nI hope it works for you.\r\n  \r\n\r\n  [1]: https://i.stack.imgur.com/SXjn7.png\r\n  [2]: https://i.stack.imgur.com/nUpft.png","title":"Flutter Error : Could not resolve all artifacts for configuration &#39;:image_picker_android:debugUnitTestRuntimeClasspath&#39;","body":"<p><strong>Let me help you a little bit in finding the correct place to paste the code</strong></p>\n<p>1: Go to your app-level build.grade.</p>\n<p><img src=\"https://i.stack.imgur.com/SXjn7.png\" alt=\"enter image description here\" /></p>\n<p>2:Scroll down to &quot;android{ &quot;\npaste this code carefully(not disturbing any other brakets.)</p>\n<pre><code>lintOptions {\n            disable 'InvalidPackage'\n            disable &quot;Instantiatable&quot;\n            checkReleaseBuilds false\n            abortOnError false\n        }\n</code></pre>\n<p><img src=\"https://i.stack.imgur.com/nUpft.png\" alt=\"enter image description here\" /></p>\n<p>3:run &quot;flutter clean&quot;\n4:run &quot;flutter pub get&quot;\n5:If you want to build apk of your project then run &quot;flutter build apk&quot;</p>\n<p>I hope it works for you.</p>\n"},{"tags":[],"owner":{"account_id":19883056,"reputation":560,"user_id":14566634,"display_name":"Vinzent"},"down_vote_count":0,"up_vote_count":46,"is_accepted":false,"score":46,"last_activity_date":1655564964,"creation_date":1655564964,"answer_id":72670332,"question_id":72506950,"body_markdown":"The issues lies in `image_picker_android` being updated to gradle 7.1.2. See their [changelog][1]. Following an [issue on GitHub][2] you have to update your gradle version like so:\r\n\r\nIn `android/gradle/wrapper/gradle-wrapper.properties` update your distributionUrl to\r\n\r\n```\r\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-7.2-all.zip\r\n```\r\n\r\nand in `android/build.gradle` change the gradle version to at least `7.1.2`\r\n\r\n```\r\nclasspath &#39;com.android.tools.build:gradle:7.1.2\r\n```\r\n\r\nIn my case, I had to update my Android Studio for a newer Java version too.\r\n\r\n  [1]: https://pub.dev/packages/image_picker_android/changelog\r\n  [2]: https://github.com/flutter/flutter/issues/105573","title":"Flutter Error : Could not resolve all artifacts for configuration &#39;:image_picker_android:debugUnitTestRuntimeClasspath&#39;","body":"<p>The issues lies in <code>image_picker_android</code> being updated to gradle 7.1.2. See their <a href=\"https://pub.dev/packages/image_picker_android/changelog\" rel=\"noreferrer\">changelog</a>. Following an <a href=\"https://github.com/flutter/flutter/issues/105573\" rel=\"noreferrer\">issue on GitHub</a> you have to update your gradle version like so:</p>\n<p>In <code>android/gradle/wrapper/gradle-wrapper.properties</code> update your distributionUrl to</p>\n<pre><code>distributionUrl=https\\://services.gradle.org/distributions/gradle-7.2-all.zip\n</code></pre>\n<p>and in <code>android/build.gradle</code> change the gradle version to at least <code>7.1.2</code></p>\n<pre><code>classpath 'com.android.tools.build:gradle:7.1.2\n</code></pre>\n<p>In my case, I had to update my Android Studio for a newer Java version too.</p>\n"},{"tags":[],"owner":{"account_id":16254245,"reputation":61,"user_id":16547252,"display_name":"HoangAnhTran"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1659856794,"creation_date":1655801491,"answer_id":72697839,"question_id":72506950,"body_markdown":"if you are using flutter 3.0 and image_picker, try this:\r\n```yaml\r\ndependency_overrides:\r\n  image_picker_android: 0.8.4+13\r\n```","title":"Flutter Error : Could not resolve all artifacts for configuration &#39;:image_picker_android:debugUnitTestRuntimeClasspath&#39;","body":"<p>if you are using flutter 3.0 and image_picker, try this:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>dependency_overrides:\n  image_picker_android: 0.8.4+13\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17406522,"reputation":83,"user_id":13049880,"display_name":"raider0ne"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663399111,"creation_date":1663399111,"answer_id":73752943,"question_id":72506950,"body_markdown":"This issue is usually because the gradle plugin is outdated. If your project was created using an older version of flutter the gradle plugin will be old. The actual fix to this issue would be to upgrade the gradle plugin version.\r\n\r\nRefer to this [issue](https://github.com/flutter/flutter/issues/105573)\r\n\r\nYou can use android studio to do this for you  or just edit the files on your own.","title":"Flutter Error : Could not resolve all artifacts for configuration &#39;:image_picker_android:debugUnitTestRuntimeClasspath&#39;","body":"<p>This issue is usually because the gradle plugin is outdated. If your project was created using an older version of flutter the gradle plugin will be old. The actual fix to this issue would be to upgrade the gradle plugin version.</p>\n<p>Refer to this <a href=\"https://github.com/flutter/flutter/issues/105573\" rel=\"nofollow noreferrer\">issue</a></p>\n<p>You can use android studio to do this for you  or just edit the files on your own.</p>\n"},{"tags":[],"owner":{"account_id":26495145,"reputation":1,"user_id":20133025,"display_name":"Vishu Gupta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664562556,"creation_date":1664562556,"answer_id":73912677,"question_id":72506950,"body_markdown":"if you are using flutter 3.3 and image_picker, try this:\r\n\r\n      dependency_overrides:\r\n      image_picker_android: 0.8.5+3\r\n\r\n\r\n","title":"Flutter Error : Could not resolve all artifacts for configuration &#39;:image_picker_android:debugUnitTestRuntimeClasspath&#39;","body":"<p>if you are using flutter 3.3 and image_picker, try this:</p>\n<pre><code>  dependency_overrides:\n  image_picker_android: 0.8.5+3\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6676835,"reputation":324,"user_id":5151198,"display_name":"Dilanka Fernando"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666846250,"creation_date":1666846250,"answer_id":74216954,"question_id":72506950,"body_markdown":"I had the same issue, I fixed that by adding the line `android.jetifier.blacklist=org.robolectric.*,bcprov` in gradle.properties\r\n\r\nThis is the error message I got,\r\n [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/UDfD1.png","title":"Flutter Error : Could not resolve all artifacts for configuration &#39;:image_picker_android:debugUnitTestRuntimeClasspath&#39;","body":"<p>I had the same issue, I fixed that by adding the line <code>android.jetifier.blacklist=org.robolectric.*,bcprov</code> in gradle.properties</p>\n<p>This is the error message I got,\n<a href=\"https://i.stack.imgur.com/UDfD1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UDfD1.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":25478224,"reputation":681,"user_id":19275078,"display_name":"Abhishek Joshi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30279,"favorite_count":0,"down_vote_count":1,"up_vote_count":66,"accepted_answer_id":72518904,"answer_count":8,"score":65,"last_activity_date":1673155487,"creation_date":1654428700,"question_id":72506950,"body_markdown":"The application which I am working on is debugging fine in emulator or in mobiles but when I try to build the apk it gives the following Error:\r\n\r\n    Building without sound null safety\r\n    For more information see https://dart.dev/null-safety/unsound-null-safety\r\n    \r\n    Running Gradle task &#39;assembleRelease&#39;...                        \r\n    \r\n    \r\n    FAILURE: Build failed with an exception.\r\n    \r\n    * What went wrong:\r\n    Execution failed for task &#39;:app:lintVitalRelease&#39;.\r\n    &gt; Could not resolve all artifacts for configuration &#39;:image_picker_android:debugUnitTestRuntimeClasspath&#39;.\r\n       &gt; Failed to transform bcprov-jdk15on-1.68.jar (org.bouncycastle:bcprov-jdk15on:1.68) to match attributes {artifactType=processed-jar, org.gradle.category=library, org.gradle.libraryelements=jar, org.gradle.status=release, org.gradle.usage=java-runtime}.\r\n          &gt; Execution failed for JetifyTransform: /home/cicada/.gradle/caches/modules-2/files-2.1/org.bouncycastle/bcprov-jdk15on/1.68/46a080368d38b428d237a59458f9bc915222894d/bcprov-jdk15on-1.68.jar.\r\n             &gt; Failed to transform &#39;/home/cicada/.gradle/caches/modules-2/files-2.1/org.bouncycastle/bcprov-jdk15on/1.68/46a080368d38b428d237a59458f9bc915222894d/bcprov-jdk15on-1.68.jar&#39; using Jetifier. Reason: IllegalArgumentException, message: Unsupported class file major version 59. (Run with --stacktrace for more details.)\r\n               Suggestions:\r\n                - Check out existing issues at https://issuetracker.google.com/issues?q=componentid:460323&amp;s=modified_time:desc, it&#39;s possible that this issue has already been filed there.\r\n                - If this issue has not been filed, please report it at https://issuetracker.google.com/issues/new?component=460323 (run with --stacktrace and provide a stack trace if possible).\r\n    \r\n    * Try:\r\n    Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n    \r\n    * Get more help at https://help.gradle.org\r\n    \r\n    BUILD FAILED in 19s\r\n    Running Gradle task &#39;assembleRelease&#39;...                           20.7s\r\n    Gradle task assembleRelease failed with exit code 1\r\n    Process finished with exit code 1","title":"Flutter Error : Could not resolve all artifacts for configuration &#39;:image_picker_android:debugUnitTestRuntimeClasspath&#39;","body":"<p>The application which I am working on is debugging fine in emulator or in mobiles but when I try to build the apk it gives the following Error:</p>\n<pre><code>Building without sound null safety\nFor more information see https://dart.dev/null-safety/unsound-null-safety\n\nRunning Gradle task 'assembleRelease'...                        \n\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':app:lintVitalRelease'.\n&gt; Could not resolve all artifacts for configuration ':image_picker_android:debugUnitTestRuntimeClasspath'.\n   &gt; Failed to transform bcprov-jdk15on-1.68.jar (org.bouncycastle:bcprov-jdk15on:1.68) to match attributes {artifactType=processed-jar, org.gradle.category=library, org.gradle.libraryelements=jar, org.gradle.status=release, org.gradle.usage=java-runtime}.\n      &gt; Execution failed for JetifyTransform: /home/cicada/.gradle/caches/modules-2/files-2.1/org.bouncycastle/bcprov-jdk15on/1.68/46a080368d38b428d237a59458f9bc915222894d/bcprov-jdk15on-1.68.jar.\n         &gt; Failed to transform '/home/cicada/.gradle/caches/modules-2/files-2.1/org.bouncycastle/bcprov-jdk15on/1.68/46a080368d38b428d237a59458f9bc915222894d/bcprov-jdk15on-1.68.jar' using Jetifier. Reason: IllegalArgumentException, message: Unsupported class file major version 59. (Run with --stacktrace for more details.)\n           Suggestions:\n            - Check out existing issues at https://issuetracker.google.com/issues?q=componentid:460323&amp;s=modified_time:desc, it's possible that this issue has already been filed there.\n            - If this issue has not been filed, please report it at https://issuetracker.google.com/issues/new?component=460323 (run with --stacktrace and provide a stack trace if possible).\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 19s\nRunning Gradle task 'assembleRelease'...                           20.7s\nGradle task assembleRelease failed with exit code 1\nProcess finished with exit code 1\n</code></pre>\n"},{"tags":["java","generics"],"answers":[{"tags":[],"owner":{"account_id":27397242,"reputation":36,"user_id":20899247,"display_name":"Fahad Khan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1673154562,"creation_date":1673106819,"answer_id":75041691,"question_id":75041091,"body_markdown":"It is a non Generic Class with Generic Methods.\r\n\r\n    public class SelectionSort {\r\n        public static &lt;T extends Comparable&lt;T&gt;&gt; void sort(T[] a) {\r\n            int n = a.length;\r\n    \r\n            for (int i = 0; i &lt; n; i++) {\r\n                int min = i;\r\n    \r\n                for (int j = i; j &lt; n; j++)\r\n                    if (less(a[j], a[min]))\r\n                        min = j;\r\n    \r\n                exchange(a, i, min);\r\n            }\r\n        }\r\n    \r\n        private static &lt;T extends Comparable&lt;T&gt;&gt; boolean less(T a, T b) {\r\n            return a.compareTo(b) &lt; 0;\r\n        }\r\n    \r\n        private static &lt;T extends Comparable&lt;T&gt;&gt; void exchange(T[] a, int i, int j) {\r\n            T temp = a[i];\r\n            a[i] = a[j];\r\n            a[j] = temp;\r\n        }\r\n    \r\n        public static &lt;T extends Comparable&lt;T&gt;&gt; boolean isSorted(T[] a) {\r\n            for (int i = 1; i &lt; a.length; i++)\r\n                if (less(a[i], a[i - 1]))\r\n                    return false;\r\n    \r\n            return true;\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            Integer [] arr = {4,9,5,2,67};\r\n            SelectionSort.sort(arr);\r\n            for(int j=0; j&lt;arr.length; j++){\r\n                System.out.println(arr[j]);\r\n            }\r\n        }\r\n    }\r\n\r\nThis code will throw Exception if you call sort method on an object whose class does not implement `Comparable` interface","title":"Do I need to specify a parameter type generic when dealing with Comparable interface?","body":"<p>It is a non Generic Class with Generic Methods.</p>\n<pre><code>public class SelectionSort {\n    public static &lt;T extends Comparable&lt;T&gt;&gt; void sort(T[] a) {\n        int n = a.length;\n\n        for (int i = 0; i &lt; n; i++) {\n            int min = i;\n\n            for (int j = i; j &lt; n; j++)\n                if (less(a[j], a[min]))\n                    min = j;\n\n            exchange(a, i, min);\n        }\n    }\n\n    private static &lt;T extends Comparable&lt;T&gt;&gt; boolean less(T a, T b) {\n        return a.compareTo(b) &lt; 0;\n    }\n\n    private static &lt;T extends Comparable&lt;T&gt;&gt; void exchange(T[] a, int i, int j) {\n        T temp = a[i];\n        a[i] = a[j];\n        a[j] = temp;\n    }\n\n    public static &lt;T extends Comparable&lt;T&gt;&gt; boolean isSorted(T[] a) {\n        for (int i = 1; i &lt; a.length; i++)\n            if (less(a[i], a[i - 1]))\n                return false;\n\n        return true;\n    }\n\n    public static void main(String[] args) {\n        Integer [] arr = {4,9,5,2,67};\n        SelectionSort.sort(arr);\n        for(int j=0; j&lt;arr.length; j++){\n            System.out.println(arr[j]);\n        }\n    }\n}\n</code></pre>\n<p>This code will throw Exception if you call sort method on an object whose class does not implement <code>Comparable</code> interface</p>\n"}],"owner":{"account_id":12374572,"reputation":82,"user_id":9023151,"display_name":"kumarhimself"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75041691,"answer_count":1,"score":0,"last_activity_date":1673154562,"creation_date":1673101773,"question_id":75041091,"body_markdown":"I have a selection sort algorithm that will work for any data type that implements the comparable interface (e.g. Integer, Double, Character).\r\n\r\n```\r\npublic class SelectionSort {\r\n    public static void sort(Comparable[] a) {\r\n        int n = a.length;\r\n\r\n        for (int i = 0; i &lt; n; i++) {\r\n            int min = i;\r\n\r\n            for (int j = i; j &lt; n; j++)\r\n                if (less(a[j], a[min]))\r\n                    min = j;\r\n\r\n            exchange(a, i, min);\r\n        }\r\n    }\r\n\r\n    private static boolean less(Comparable a, Comparable b) {\r\n        return a.compareTo(b) &lt; 0;\r\n    }\r\n\r\n    private static void exchange(Comparable[] a, int i, int j) {\r\n        Comparable temp = a[i];\r\n        a[i] = a[j];\r\n        a[j] = temp;\r\n    }\r\n\r\n    public static boolean isSorted(Comparable[] a) {\r\n        for (int i = 1; i &lt; a.length; i++)\r\n            if (less(a[i], a[i - 1]))\r\n                return false;\r\n\r\n        return true;\r\n    }\r\n}\r\n```\r\n\r\nHowever, I get a multiple warnings telling me that &quot;Comparable is a raw type. References to generic type Comparable&lt;T&gt; should be parameterized&quot;. Do I need to implement the class as a generic or can I leave it as it is? If I need to implement the class as a generic, how can I do it, as the methods are static.","title":"Do I need to specify a parameter type generic when dealing with Comparable interface?","body":"<p>I have a selection sort algorithm that will work for any data type that implements the comparable interface (e.g. Integer, Double, Character).</p>\n<pre><code>public class SelectionSort {\n    public static void sort(Comparable[] a) {\n        int n = a.length;\n\n        for (int i = 0; i &lt; n; i++) {\n            int min = i;\n\n            for (int j = i; j &lt; n; j++)\n                if (less(a[j], a[min]))\n                    min = j;\n\n            exchange(a, i, min);\n        }\n    }\n\n    private static boolean less(Comparable a, Comparable b) {\n        return a.compareTo(b) &lt; 0;\n    }\n\n    private static void exchange(Comparable[] a, int i, int j) {\n        Comparable temp = a[i];\n        a[i] = a[j];\n        a[j] = temp;\n    }\n\n    public static boolean isSorted(Comparable[] a) {\n        for (int i = 1; i &lt; a.length; i++)\n            if (less(a[i], a[i - 1]))\n                return false;\n\n        return true;\n    }\n}\n</code></pre>\n<p>However, I get a multiple warnings telling me that &quot;Comparable is a raw type. References to generic type Comparable should be parameterized&quot;. Do I need to implement the class as a generic or can I leave it as it is? If I need to implement the class as a generic, how can I do it, as the methods are static.</p>\n"},{"tags":["java","encryption"],"comments":[{"owner":{"account_id":6876679,"reputation":2100,"user_id":5284909,"accept_rate":67,"display_name":"Nilesh"},"score":0,"creation_date":1506582646,"post_id":1205135,"comment_id":79880739,"body_markdown":"Visit: http://www.software-architect.net/articles/using-strong-encryption-in-java/introduction.html","body":"Visit: <a href=\"http://www.software-architect.net/articles/using-strong-encryption-in-java/introduction.html\" rel=\"nofollow noreferrer\">software-architect.net/articles/using-strong-encryption-in-j&zwnj;&#8203;ava/&hellip;</a>"},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":2,"creation_date":1543918323,"post_id":1205135,"comment_id":94082135,"body_markdown":"**Warning**. A lot of the answers below show one method or other to perform *any kind of cryptography* on Java. Answers *may* not reflect good cryptographic practices and *may* not be reviewed well; *there is no such thing as copy / paste security*. Answers *should* at least take string conversion into account. The actual question with the 2D barcode included is way too broad, and should require a customer specific solution.","body":"<b>Warning</b>. A lot of the answers below show one method or other to perform <i>any kind of cryptography</i> on Java. Answers <i>may</i> not reflect good cryptographic practices and <i>may</i> not be reviewed well; <i>there is no such thing as copy / paste security</i>. Answers <i>should</i> at least take string conversion into account. The actual question with the 2D barcode included is way too broad, and should require a customer specific solution."}],"answers":[{"tags":[],"owner":{"account_id":17450,"reputation":12197,"user_id":39062,"accept_rate":100,"display_name":"Markus Lausberg"},"down_vote_count":3,"up_vote_count":5,"is_accepted":false,"score":2,"last_activity_date":1248942531,"creation_date":1248941843,"answer_id":1205147,"question_id":1205135,"body_markdown":"Here are some links you can read what Java supports\r\n\r\n\r\n[Encrypting/decrypting a data stream.][1]\r\n\r\n&gt; This example demonstrates how to\r\n&gt; encrypt (using a symmetric encryption\r\n&gt; algorithm such as AES, Blowfish, RC2,\r\n&gt; 3DES, etc) a large amount of data. The\r\n&gt; data is passed in chunks to one of the\r\n&gt; encrypt methods: EncryptBytes,\r\n&gt; EncryptString, EncryptBytesENC, or\r\n&gt; EncryptStringENC. (The method name\r\n&gt; indicates the type of input (string or\r\n&gt; byte array) and the return type\r\n&gt; (encoded string or byte array). The\r\n&gt; FirstChunk and LastChunk properties\r\n&gt; are used to indicate whether a chunk\r\n&gt; is the first, middle, or last in a\r\n&gt; stream to be encrypted. By default,\r\n&gt; both FirstChunk and LastChunk equal\r\n&gt; true -- meaning that the data passed\r\n&gt; is the entire amount.\r\n\r\n\r\n[JCERefGuide][2]\r\n\r\n[Java Encryption Examples][3]\r\n\r\n\r\n  [1]: http://www.example-code.com/java/aes_dataStream.asp\r\n  [2]: http://java.sun.com/j2se/1.4.2/docs/guide/security/jce/JCERefGuide.html\r\n  [3]: http://www.example-code.com/java/encryption.asp","title":"How to encrypt String in Java","body":"<p>Here are some links you can read what Java supports</p>\n\n<p><a href=\"http://www.example-code.com/java/aes_dataStream.asp\" rel=\"nofollow noreferrer\">Encrypting/decrypting a data stream.</a></p>\n\n<blockquote>\n  <p>This example demonstrates how to\n  encrypt (using a symmetric encryption\n  algorithm such as AES, Blowfish, RC2,\n  3DES, etc) a large amount of data. The\n  data is passed in chunks to one of the\n  encrypt methods: EncryptBytes,\n  EncryptString, EncryptBytesENC, or\n  EncryptStringENC. (The method name\n  indicates the type of input (string or\n  byte array) and the return type\n  (encoded string or byte array). The\n  FirstChunk and LastChunk properties\n  are used to indicate whether a chunk\n  is the first, middle, or last in a\n  stream to be encrypted. By default,\n  both FirstChunk and LastChunk equal\n  true -- meaning that the data passed\n  is the entire amount.</p>\n</blockquote>\n\n<p><a href=\"http://java.sun.com/j2se/1.4.2/docs/guide/security/jce/JCERefGuide.html\" rel=\"nofollow noreferrer\">JCERefGuide</a></p>\n\n<p><a href=\"http://www.example-code.com/java/encryption.asp\" rel=\"nofollow noreferrer\">Java Encryption Examples</a></p>\n"},{"tags":[],"owner":{"account_id":12007,"reputation":17671,"user_id":23424,"accept_rate":92,"display_name":"VoidPointer"},"down_vote_count":5,"up_vote_count":115,"is_accepted":false,"score":110,"last_activity_date":1383669251,"creation_date":1248943461,"answer_id":1205272,"question_id":1205135,"body_markdown":"I&#39;d recommend to use some standard symmetric cypher that is widely available like [DES][1], [3DES][2] or [AES][3]. While that is not the most secure algorithm, there are loads of implementations and you&#39;d just need to give the key to anyone that is supposed to decrypt the information in the barcode. [javax.crypto.Cipher][4] is what you want to work with here.\r\n\r\n**Let&#39;s assume the bytes to encrypt are in**\r\n\r\n&lt;!-- language-all: lang-js --&gt;\r\n    \r\n    byte[] input;\r\n\r\n**Next, you&#39;ll need the key and [initialization vector][5] bytes**\r\n\r\n    byte[] keyBytes;\r\n    byte[] ivBytes;\r\n\r\n**Now you can initialize the Cipher for the algorithm that you select:**\r\n\r\n    // wrap key data in Key/IV specs to pass to cipher\r\n    SecretKeySpec key = new SecretKeySpec(keyBytes, &quot;DES&quot;);\r\n    IvParameterSpec ivSpec = new IvParameterSpec(ivBytes);\r\n    // create the cipher with the algorithm you choose\r\n    // see javadoc for Cipher class for more info, e.g.\r\n    Cipher cipher = Cipher.getInstance(&quot;DES/CBC/PKCS5Padding&quot;);\r\n\r\n**Encryption would go like this:**\r\n\r\n    cipher.init(Cipher.ENCRYPT_MODE, key, ivSpec);\r\n    byte[] encrypted= new byte[cipher.getOutputSize(input.length)];\r\n    int enc_len = cipher.update(input, 0, input.length, encrypted, 0);\r\n    enc_len += cipher.doFinal(encrypted, enc_len);\r\n\r\n**And decryption like this:**\r\n\r\n    cipher.init(Cipher.DECRYPT_MODE, key, ivSpec);\r\n    byte[] decrypted = new byte[cipher.getOutputSize(enc_len)];\r\n    int dec_len = cipher.update(encrypted, 0, enc_len, decrypted, 0);\r\n    dec_len += cipher.doFinal(decrypted, dec_len);\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Data_Encryption_Standard\r\n  [2]: http://en.wikipedia.org/wiki/3DES\r\n  [3]: http://en.wikipedia.org/wiki/Advanced_Encryption_Standard\r\n  [4]: http://java.sun.com/javase/6/docs/api/javax/crypto/Cipher.html\r\n  [5]: http://en.wikipedia.org/wiki/Initialization_vector","title":"How to encrypt String in Java","body":"<p>I'd recommend to use some standard symmetric cypher that is widely available like <a href=\"http://en.wikipedia.org/wiki/Data_Encryption_Standard\" rel=\"noreferrer\">DES</a>, <a href=\"http://en.wikipedia.org/wiki/3DES\" rel=\"noreferrer\">3DES</a> or <a href=\"http://en.wikipedia.org/wiki/Advanced_Encryption_Standard\" rel=\"noreferrer\">AES</a>. While that is not the most secure algorithm, there are loads of implementations and you'd just need to give the key to anyone that is supposed to decrypt the information in the barcode. <a href=\"http://java.sun.com/javase/6/docs/api/javax/crypto/Cipher.html\" rel=\"noreferrer\">javax.crypto.Cipher</a> is what you want to work with here.</p>\n\n<p><strong>Let's assume the bytes to encrypt are in</strong></p>\n\n\n\n<pre class=\"lang-js prettyprint-override\"><code>byte[] input;\n</code></pre>\n\n<p><strong>Next, you'll need the key and <a href=\"http://en.wikipedia.org/wiki/Initialization_vector\" rel=\"noreferrer\">initialization vector</a> bytes</strong></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>byte[] keyBytes;\nbyte[] ivBytes;\n</code></pre>\n\n<p><strong>Now you can initialize the Cipher for the algorithm that you select:</strong></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>// wrap key data in Key/IV specs to pass to cipher\nSecretKeySpec key = new SecretKeySpec(keyBytes, \"DES\");\nIvParameterSpec ivSpec = new IvParameterSpec(ivBytes);\n// create the cipher with the algorithm you choose\n// see javadoc for Cipher class for more info, e.g.\nCipher cipher = Cipher.getInstance(\"DES/CBC/PKCS5Padding\");\n</code></pre>\n\n<p><strong>Encryption would go like this:</strong></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>cipher.init(Cipher.ENCRYPT_MODE, key, ivSpec);\nbyte[] encrypted= new byte[cipher.getOutputSize(input.length)];\nint enc_len = cipher.update(input, 0, input.length, encrypted, 0);\nenc_len += cipher.doFinal(encrypted, enc_len);\n</code></pre>\n\n<p><strong>And decryption like this:</strong></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>cipher.init(Cipher.DECRYPT_MODE, key, ivSpec);\nbyte[] decrypted = new byte[cipher.getOutputSize(enc_len)];\nint dec_len = cipher.update(encrypted, 0, enc_len, decrypted, 0);\ndec_len += cipher.doFinal(decrypted, dec_len);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":32049,"reputation":3191,"user_id":88448,"accept_rate":65,"display_name":"ante.sabo"},"down_vote_count":27,"up_vote_count":37,"is_accepted":false,"score":10,"last_activity_date":1464695202,"creation_date":1249024646,"answer_id":1211117,"question_id":1205135,"body_markdown":"&gt; **Warning**\n&gt;\n&gt; Do not use this as some kind of security measurement.\n&gt;\n&gt; The encryption mechanism in this post is a One-time pad, which means that the secret key can be easily recovered by an attacker using 2 encrypted messages. XOR 2 encrypted messages and you get the key. That simple! \n&gt;\n&gt; &lt;sub&gt;Pointed out by Moussa&lt;/sub&gt;\n\n---\n\nI am using Sun&#39;s Base64Encoder/Decoder which is to be found in Sun&#39;s JRE, to avoid yet another JAR in lib. That&#39;s dangerous from point of using OpenJDK or some other&#39;s JRE. Besides that, is there another reason I should consider using Apache commons lib with Encoder/Decoder? \n\n\n    public class EncryptUtils {\n        public static final String DEFAULT_ENCODING = &quot;UTF-8&quot;; \n        static BASE64Encoder enc = new BASE64Encoder();\n        static BASE64Decoder dec = new BASE64Decoder();\n\n        public static String base64encode(String text) {\n            try {\n                return enc.encode(text.getBytes(DEFAULT_ENCODING));\n            } catch (UnsupportedEncodingException e) {\n                return null;\n            }\n        }//base64encode\n\n        public static String base64decode(String text) {\n            try {\n                return new String(dec.decodeBuffer(text), DEFAULT_ENCODING);\n            } catch (IOException e) {\n                return null;\n            }\n        }//base64decode\n\n        public static void main(String[] args) {\n            String txt = &quot;some text to be encrypted&quot;;\n            String key = &quot;key phrase used for XOR-ing&quot;;\n            System.out.println(txt + &quot; XOR-ed to: &quot; + (txt = xorMessage(txt, key)));\n\n            String encoded = base64encode(txt);       \n            System.out.println(&quot; is encoded to: &quot; + encoded + &quot; and that is decoding to: &quot; + (txt = base64decode(encoded)));\n            System.out.print(&quot;XOR-ing back to original: &quot; + xorMessage(txt, key));\n        }\n\n        public static String xorMessage(String message, String key) {\n            try {\n                if (message == null || key == null) return null;\n\n                char[] keys = key.toCharArray();\n                char[] mesg = message.toCharArray();\n\n                int ml = mesg.length;\n                int kl = keys.length;\n                char[] newmsg = new char[ml];\n\n                for (int i = 0; i &lt; ml; i++) {\n                    newmsg[i] = (char)(mesg[i] ^ keys[i % kl]);\n                }//for i\n\n                return new String(newmsg);\n            } catch (Exception e) {\n                return null;\n            }\n        }//xorMessage\n    }//class","title":"How to encrypt String in Java","body":"<blockquote>\n<p><strong>Warning</strong></p>\n<p>Do not use this as some kind of security measurement.</p>\n<p>The encryption mechanism in this post is a One-time pad, which means that the secret key can be easily recovered by an attacker using 2 encrypted messages. XOR 2 encrypted messages and you get the key. That simple!</p>\n<p><sub>Pointed out by Moussa</sub></p>\n</blockquote>\n<hr />\n<p>I am using Sun's Base64Encoder/Decoder which is to be found in Sun's JRE, to avoid yet another JAR in lib. That's dangerous from point of using OpenJDK or some other's JRE. Besides that, is there another reason I should consider using Apache commons lib with Encoder/Decoder?</p>\n<pre><code>public class EncryptUtils {\n    public static final String DEFAULT_ENCODING = &quot;UTF-8&quot;; \n    static BASE64Encoder enc = new BASE64Encoder();\n    static BASE64Decoder dec = new BASE64Decoder();\n\n    public static String base64encode(String text) {\n        try {\n            return enc.encode(text.getBytes(DEFAULT_ENCODING));\n        } catch (UnsupportedEncodingException e) {\n            return null;\n        }\n    }//base64encode\n\n    public static String base64decode(String text) {\n        try {\n            return new String(dec.decodeBuffer(text), DEFAULT_ENCODING);\n        } catch (IOException e) {\n            return null;\n        }\n    }//base64decode\n\n    public static void main(String[] args) {\n        String txt = &quot;some text to be encrypted&quot;;\n        String key = &quot;key phrase used for XOR-ing&quot;;\n        System.out.println(txt + &quot; XOR-ed to: &quot; + (txt = xorMessage(txt, key)));\n\n        String encoded = base64encode(txt);       \n        System.out.println(&quot; is encoded to: &quot; + encoded + &quot; and that is decoding to: &quot; + (txt = base64decode(encoded)));\n        System.out.print(&quot;XOR-ing back to original: &quot; + xorMessage(txt, key));\n    }\n\n    public static String xorMessage(String message, String key) {\n        try {\n            if (message == null || key == null) return null;\n\n            char[] keys = key.toCharArray();\n            char[] mesg = message.toCharArray();\n\n            int ml = mesg.length;\n            int kl = keys.length;\n            char[] newmsg = new char[ml];\n\n            for (int i = 0; i &lt; ml; i++) {\n                newmsg[i] = (char)(mesg[i] ^ keys[i % kl]);\n            }//for i\n\n            return new String(newmsg);\n        } catch (Exception e) {\n            return null;\n        }\n    }//xorMessage\n}//class\n</code></pre>\n"},{"tags":[],"owner":{"account_id":200609,"reputation":2282,"user_id":446552,"accept_rate":78,"display_name":"sherif"},"down_vote_count":3,"up_vote_count":16,"is_accepted":false,"score":13,"last_activity_date":1284836359,"creation_date":1284836359,"answer_id":3743036,"question_id":1205135,"body_markdown":"thanks ive made this class using your code maybe someone finds it userfull\r\n\r\nobject crypter \r\n\r\n\r\n    import java.io.ByteArrayInputStream;\r\n    import java.io.ByteArrayOutputStream;\r\n    import java.io.IOException;\r\n    import java.io.ObjectInputStream;\r\n    import java.io.ObjectOutputStream;\r\n    import java.security.InvalidAlgorithmParameterException;\r\n    import java.security.InvalidKeyException;\r\n    import java.security.NoSuchAlgorithmException;\r\n    \r\n    import javax.crypto.BadPaddingException;\r\n    import javax.crypto.Cipher;\r\n    import javax.crypto.IllegalBlockSizeException;\r\n    import javax.crypto.NoSuchPaddingException;\r\n    import javax.crypto.ShortBufferException;\r\n    import javax.crypto.spec.DESKeySpec;\r\n    import javax.crypto.spec.IvParameterSpec;\r\n    import javax.crypto.spec.SecretKeySpec;\r\n    \r\n    \r\n    public class ObjectCrypter {\r\n    \r\n    private Cipher deCipher;\r\n    private Cipher enCipher;\r\n    private SecretKeySpec key;\r\n    private IvParameterSpec ivSpec;\r\n    \r\n    \r\n    public ObjectCrypter(byte[] keyBytes,\tbyte[] ivBytes) {\r\n    \t// wrap key data in Key/IV specs to pass to cipher\r\n    \r\n    \r\n    \t ivSpec = new IvParameterSpec(ivBytes);\r\n    \t// create the cipher with the algorithm you choose\r\n    \t// see javadoc for Cipher class for more info, e.g.\r\n    \ttry {\r\n    \t\t DESKeySpec dkey = new  DESKeySpec(keyBytes);\r\n    \t\t  key = new SecretKeySpec(dkey.getKey(), &quot;DES&quot;);\r\n    \t\t deCipher = Cipher.getInstance(&quot;DES/CBC/PKCS5Padding&quot;);\r\n    \t\t enCipher = Cipher.getInstance(&quot;DES/CBC/PKCS5Padding&quot;);\r\n    \t} catch (NoSuchAlgorithmException e) {\r\n    \t\t// TODO Auto-generated catch block\r\n    \t\te.printStackTrace();\r\n    \t} catch (NoSuchPaddingException e) {\r\n    \t\t// TODO Auto-generated catch block\r\n    \t\te.printStackTrace();\r\n    \t} catch (InvalidKeyException e) {\r\n    \t\t// TODO Auto-generated catch block\r\n    \t\te.printStackTrace();\r\n    \t}\r\n    }\r\n    public byte[] encrypt(Object obj) throws InvalidKeyException, InvalidAlgorithmParameterException, IOException, IllegalBlockSizeException, ShortBufferException, BadPaddingException {\r\n    \tbyte[] input = convertToByteArray(obj);\r\n    \tenCipher.init(Cipher.ENCRYPT_MODE, key, ivSpec);\r\n    \r\n    \treturn enCipher.doFinal(input);\r\n    \r\n    \t\r\n    \t\r\n    \t\r\n    //\tcipher.init(Cipher.ENCRYPT_MODE, key, ivSpec);\r\n    //\tbyte[] encypted = new byte[cipher.getOutputSize(input.length)];\r\n    //\tint enc_len = cipher.update(input, 0, input.length, encypted, 0);\r\n    //\tenc_len += cipher.doFinal(encypted, enc_len);\r\n    //\treturn encypted;\r\n    \r\n    \r\n    }\r\n    public Object decrypt( byte[]  encrypted) throws InvalidKeyException, InvalidAlgorithmParameterException, IllegalBlockSizeException, BadPaddingException, IOException, ClassNotFoundException {\r\n    \tdeCipher.init(Cipher.DECRYPT_MODE, key, ivSpec);\r\n    \r\n    \treturn convertFromByteArray(deCipher.doFinal(encrypted));\r\n    \r\n    }\r\n    \r\n    \r\n    \r\n    private Object convertFromByteArray(byte[] byteObject) throws IOException,\r\n    \t\tClassNotFoundException {\r\n    \tByteArrayInputStream bais;\r\n    \r\n    \tObjectInputStream in;\r\n    \tbais = new ByteArrayInputStream(byteObject);\r\n    \tin = new ObjectInputStream(bais);\r\n    \tObject o = in.readObject();\r\n    \tin.close();\r\n    \treturn o;\r\n    \r\n    }\r\n    \r\n    \r\n    \r\n    private byte[] convertToByteArray(Object complexObject) throws IOException {\r\n    \tByteArrayOutputStream baos;\r\n    \r\n    \tObjectOutputStream out;\r\n    \r\n    \tbaos = new ByteArrayOutputStream();\r\n    \r\n    \tout = new ObjectOutputStream(baos);\r\n    \r\n    \tout.writeObject(complexObject);\r\n    \r\n    \tout.close();\r\n    \r\n    \treturn baos.toByteArray();\r\n    \r\n    }\r\n    \r\n    \r\n    }","title":"How to encrypt String in Java","body":"<p>thanks ive made this class using your code maybe someone finds it userfull</p>\n\n<p>object crypter </p>\n\n<pre><code>import java.io.ByteArrayInputStream;\nimport java.io.ByteArrayOutputStream;\nimport java.io.IOException;\nimport java.io.ObjectInputStream;\nimport java.io.ObjectOutputStream;\nimport java.security.InvalidAlgorithmParameterException;\nimport java.security.InvalidKeyException;\nimport java.security.NoSuchAlgorithmException;\n\nimport javax.crypto.BadPaddingException;\nimport javax.crypto.Cipher;\nimport javax.crypto.IllegalBlockSizeException;\nimport javax.crypto.NoSuchPaddingException;\nimport javax.crypto.ShortBufferException;\nimport javax.crypto.spec.DESKeySpec;\nimport javax.crypto.spec.IvParameterSpec;\nimport javax.crypto.spec.SecretKeySpec;\n\n\npublic class ObjectCrypter {\n\nprivate Cipher deCipher;\nprivate Cipher enCipher;\nprivate SecretKeySpec key;\nprivate IvParameterSpec ivSpec;\n\n\npublic ObjectCrypter(byte[] keyBytes,   byte[] ivBytes) {\n    // wrap key data in Key/IV specs to pass to cipher\n\n\n     ivSpec = new IvParameterSpec(ivBytes);\n    // create the cipher with the algorithm you choose\n    // see javadoc for Cipher class for more info, e.g.\n    try {\n         DESKeySpec dkey = new  DESKeySpec(keyBytes);\n          key = new SecretKeySpec(dkey.getKey(), \"DES\");\n         deCipher = Cipher.getInstance(\"DES/CBC/PKCS5Padding\");\n         enCipher = Cipher.getInstance(\"DES/CBC/PKCS5Padding\");\n    } catch (NoSuchAlgorithmException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    } catch (NoSuchPaddingException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    } catch (InvalidKeyException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n}\npublic byte[] encrypt(Object obj) throws InvalidKeyException, InvalidAlgorithmParameterException, IOException, IllegalBlockSizeException, ShortBufferException, BadPaddingException {\n    byte[] input = convertToByteArray(obj);\n    enCipher.init(Cipher.ENCRYPT_MODE, key, ivSpec);\n\n    return enCipher.doFinal(input);\n\n\n\n\n//  cipher.init(Cipher.ENCRYPT_MODE, key, ivSpec);\n//  byte[] encypted = new byte[cipher.getOutputSize(input.length)];\n//  int enc_len = cipher.update(input, 0, input.length, encypted, 0);\n//  enc_len += cipher.doFinal(encypted, enc_len);\n//  return encypted;\n\n\n}\npublic Object decrypt( byte[]  encrypted) throws InvalidKeyException, InvalidAlgorithmParameterException, IllegalBlockSizeException, BadPaddingException, IOException, ClassNotFoundException {\n    deCipher.init(Cipher.DECRYPT_MODE, key, ivSpec);\n\n    return convertFromByteArray(deCipher.doFinal(encrypted));\n\n}\n\n\n\nprivate Object convertFromByteArray(byte[] byteObject) throws IOException,\n        ClassNotFoundException {\n    ByteArrayInputStream bais;\n\n    ObjectInputStream in;\n    bais = new ByteArrayInputStream(byteObject);\n    in = new ObjectInputStream(bais);\n    Object o = in.readObject();\n    in.close();\n    return o;\n\n}\n\n\n\nprivate byte[] convertToByteArray(Object complexObject) throws IOException {\n    ByteArrayOutputStream baos;\n\n    ObjectOutputStream out;\n\n    baos = new ByteArrayOutputStream();\n\n    out = new ObjectOutputStream(baos);\n\n    out.writeObject(complexObject);\n\n    out.close();\n\n    return baos.toByteArray();\n\n}\n\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":63162,"reputation":102381,"user_id":187141,"accept_rate":82,"display_name":"yegor256"},"down_vote_count":5,"up_vote_count":10,"is_accepted":false,"score":5,"last_activity_date":1673154446,"creation_date":1356537574,"answer_id":14042969,"question_id":1205135,"body_markdown":"How about this:\r\n\r\n    // It is assumed that neither &quot;input&quot; nor &quot;secret&quot; is NULL\r\n    private static byte[] xor(final byte[] input, final byte[] secret) {\r\n        final byte[] output = new byte[input.length];\r\n        if (secret.length == 0) {\r\n            throw new IllegalArgumentException(&quot;empty security key&quot;);\r\n        }\r\n        int spos = 0;\r\n        for (int pos = 0; pos &lt; input.length; ++pos) {\r\n            output[pos] = (byte) (input[pos] ^ secret[spos]);\r\n            ++spos;\r\n            if (spos &gt;= secret.length) {\r\n                spos = 0;\r\n            }\r\n        }\r\n        return output;\r\n    }\r\n\r\nWorks fine for me and is rather compact. Keep in mind that it&#39;s a _very weak_ encryption.","title":"How to encrypt String in Java","body":"<p>How about this:</p>\n<pre><code>// It is assumed that neither &quot;input&quot; nor &quot;secret&quot; is NULL\nprivate static byte[] xor(final byte[] input, final byte[] secret) {\n    final byte[] output = new byte[input.length];\n    if (secret.length == 0) {\n        throw new IllegalArgumentException(&quot;empty security key&quot;);\n    }\n    int spos = 0;\n    for (int pos = 0; pos &lt; input.length; ++pos) {\n        output[pos] = (byte) (input[pos] ^ secret[spos]);\n        ++spos;\n        if (spos &gt;= secret.length) {\n            spos = 0;\n        }\n    }\n    return output;\n}\n</code></pre>\n<p>Works fine for me and is rather compact. Keep in mind that it's a <em>very weak</em> encryption.</p>\n"},{"tags":[],"owner":{"account_id":2749025,"reputation":15,"user_id":2368787,"display_name":"rishikesh"},"down_vote_count":6,"up_vote_count":1,"is_accepted":false,"score":-5,"last_activity_date":1398368181,"creation_date":1393498107,"answer_id":22066206,"question_id":1205135,"body_markdown":"\r\n\r\n    public static String encryptParams(String myTextInput) {\r\n    \t\t\r\n    \t\tString myKey = &quot;40674244454045cb9a70040a30e1c007&quot;;\r\n    \t\tString myVector = &quot;@1B2c3D4e5F6g7H8&quot;;\r\n    \r\n    \t\tString encData = &quot;&quot;;\r\n    \r\n    \t\ttry{\r\n    \t\t\tJavaEncryprtionUtil encUtil = new JavaEncryprtionUtil();\r\n    \t\t\tencData = Base64.encodeToString(encUtil.encrypt(myTextInput.getBytes(&quot;UTF-8&quot;), myKey.getBytes(&quot;UTF-8&quot;), myVector.getBytes(&quot;UTF-8&quot;)),Base64.DEFAULT);\r\n    \t\t\tSystem.out.println(encData);\r\n    \t\t}catch(NoSuchAlgorithmException ex){\r\n    \t\t\tex.printStackTrace();\r\n    \t\t}catch(NoSuchPaddingException ex){\r\n    \t\t\tex.printStackTrace();\r\n    \t\t}catch(InvalidKeyException ex){\r\n    \t\t\tex.printStackTrace();\r\n    \t\t}catch(InvalidAlgorithmParameterException ex){\r\n    \t\t\tex.printStackTrace();\r\n    \t\t}catch(IllegalBlockSizeException ex){\r\n    \t\t\tex.printStackTrace();\r\n    \t\t}catch(BadPaddingException ex){\r\n    \t\t\tex.printStackTrace();\r\n    \t\t}catch(UnsupportedEncodingException ex){\r\n    \t\t\tex.printStackTrace();\r\n    \t\t}\r\n    \t\t\r\n    \t\treturn encData;\r\n    \t}","title":"How to encrypt String in Java","body":"<pre><code>public static String encryptParams(String myTextInput) {\n\n        String myKey = \"40674244454045cb9a70040a30e1c007\";\n        String myVector = \"@1B2c3D4e5F6g7H8\";\n\n        String encData = \"\";\n\n        try{\n            JavaEncryprtionUtil encUtil = new JavaEncryprtionUtil();\n            encData = Base64.encodeToString(encUtil.encrypt(myTextInput.getBytes(\"UTF-8\"), myKey.getBytes(\"UTF-8\"), myVector.getBytes(\"UTF-8\")),Base64.DEFAULT);\n            System.out.println(encData);\n        }catch(NoSuchAlgorithmException ex){\n            ex.printStackTrace();\n        }catch(NoSuchPaddingException ex){\n            ex.printStackTrace();\n        }catch(InvalidKeyException ex){\n            ex.printStackTrace();\n        }catch(InvalidAlgorithmParameterException ex){\n            ex.printStackTrace();\n        }catch(IllegalBlockSizeException ex){\n            ex.printStackTrace();\n        }catch(BadPaddingException ex){\n            ex.printStackTrace();\n        }catch(UnsupportedEncodingException ex){\n            ex.printStackTrace();\n        }\n\n        return encData;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2228695,"reputation":883,"user_id":1966876,"accept_rate":100,"display_name":"hdost"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1420579568,"creation_date":1420579464,"answer_id":27807422,"question_id":1205135,"body_markdown":"I would consider using something like https://www.bouncycastle.org/ It is a prebuilt library that allows you to encrypt whatever you like with a number of different Ciphers\r\nI understand that you only want to protect from snooping, but if you really want to protect the information, using Base64 won&#39;t actually protect you.","title":"How to encrypt String in Java","body":"<p>I would consider using something like <a href=\"https://www.bouncycastle.org/\" rel=\"nofollow\">https://www.bouncycastle.org/</a> It is a prebuilt library that allows you to encrypt whatever you like with a number of different Ciphers\nI understand that you only want to protect from snooping, but if you really want to protect the information, using Base64 won't actually protect you.</p>\n"},{"tags":[],"owner":{"display_name":"user2080225"},"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1438625857,"creation_date":1438619530,"answer_id":31792400,"question_id":1205135,"body_markdown":"Here&#39;s my implementation from meta64.com as a Spring Singleton. If you want to create a ciper instance for each call that would work also, and then you could remove the &#39;synchronized&#39; calls, but beware &#39;cipher&#39; is not thread-safe.\r\n    \r\n\timport java.security.Key;\r\n\t\r\n\timport javax.crypto.Cipher;\r\n\timport javax.crypto.spec.SecretKeySpec;\r\n\timport javax.xml.bind.DatatypeConverter;\r\n\t\r\n\timport org.springframework.beans.factory.annotation.Value;\r\n\timport org.springframework.context.annotation.Scope;\r\n\timport org.springframework.stereotype.Component;\r\n\t\r\n\t@Component\r\n\t@Scope(&quot;singleton&quot;)\r\n\tpublic class Encryptor {\r\n\t\r\n\t\t@Value(&quot;${aeskey}&quot;)\r\n\t\tprivate String keyStr;\r\n\t\r\n\t\tprivate Key aesKey = null;\r\n\t\tprivate Cipher cipher = null;\r\n\t\r\n\t\tsynchronized private void init() throws Exception {\r\n\t\t\tif (keyStr == null || keyStr.length() != 16) {\r\n\t\t\t\tthrow new Exception(&quot;bad aes key configured&quot;);\r\n\t\t\t}\r\n\t\t\tif (aesKey == null) {\r\n\t\t\t\taesKey = new SecretKeySpec(keyStr.getBytes(), &quot;AES&quot;);\r\n\t\t\t\tcipher = Cipher.getInstance(&quot;AES&quot;);\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t\tsynchronized public String encrypt(String text) throws Exception {\r\n\t\t\tinit();\r\n\t\t\tcipher.init(Cipher.ENCRYPT_MODE, aesKey);\r\n\t\t\treturn toHexString(cipher.doFinal(text.getBytes()));\r\n\t\t}\r\n\t\r\n\t\tsynchronized public String decrypt(String text) throws Exception {\r\n\t\t\tinit();\r\n\t\t\tcipher.init(Cipher.DECRYPT_MODE, aesKey);\r\n\t\t\treturn new String(cipher.doFinal(toByteArray(text)));\r\n\t\t}\r\n\t\r\n\t\tpublic static String toHexString(byte[] array) {\r\n\t\t\treturn DatatypeConverter.printHexBinary(array);\r\n\t\t}\r\n\t\r\n\t\tpublic static byte[] toByteArray(String s) {\r\n\t\t\treturn DatatypeConverter.parseHexBinary(s);\r\n\t\t}\r\n\t\r\n\t\t/*\r\n\t\t * DO NOT DELETE\r\n\t\t * \r\n\t\t * Use this commented code if you don&#39;t like using DatatypeConverter dependency\r\n\t\t */\r\n\t\t// public static String toHexStringOld(byte[] bytes) {\r\n\t\t// StringBuilder sb = new StringBuilder();\r\n\t\t// for (byte b : bytes) {\r\n\t\t// sb.append(String.format(&quot;%02X&quot;, b));\r\n\t\t// }\r\n\t\t// return sb.toString();\r\n\t\t// }\r\n\t\t//\r\n\t\t// public static byte[] toByteArrayOld(String s) {\r\n\t\t// int len = s.length();\r\n\t\t// byte[] data = new byte[len / 2];\r\n\t\t// for (int i = 0; i &lt; len; i += 2) {\r\n\t\t// data[i / 2] = (byte) ((Character.digit(s.charAt(i), 16) &lt;&lt; 4) + Character.digit(s.charAt(i +\r\n\t\t// 1), 16));\r\n\t\t// }\r\n\t\t// return data;\r\n\t\t// }\r\n\t}","title":"How to encrypt String in Java","body":"<p>Here's my implementation from meta64.com as a Spring Singleton. If you want to create a ciper instance for each call that would work also, and then you could remove the 'synchronized' calls, but beware 'cipher' is not thread-safe.</p>\n\n<pre><code>import java.security.Key;\n\nimport javax.crypto.Cipher;\nimport javax.crypto.spec.SecretKeySpec;\nimport javax.xml.bind.DatatypeConverter;\n\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.context.annotation.Scope;\nimport org.springframework.stereotype.Component;\n\n@Component\n@Scope(\"singleton\")\npublic class Encryptor {\n\n    @Value(\"${aeskey}\")\n    private String keyStr;\n\n    private Key aesKey = null;\n    private Cipher cipher = null;\n\n    synchronized private void init() throws Exception {\n        if (keyStr == null || keyStr.length() != 16) {\n            throw new Exception(\"bad aes key configured\");\n        }\n        if (aesKey == null) {\n            aesKey = new SecretKeySpec(keyStr.getBytes(), \"AES\");\n            cipher = Cipher.getInstance(\"AES\");\n        }\n    }\n\n    synchronized public String encrypt(String text) throws Exception {\n        init();\n        cipher.init(Cipher.ENCRYPT_MODE, aesKey);\n        return toHexString(cipher.doFinal(text.getBytes()));\n    }\n\n    synchronized public String decrypt(String text) throws Exception {\n        init();\n        cipher.init(Cipher.DECRYPT_MODE, aesKey);\n        return new String(cipher.doFinal(toByteArray(text)));\n    }\n\n    public static String toHexString(byte[] array) {\n        return DatatypeConverter.printHexBinary(array);\n    }\n\n    public static byte[] toByteArray(String s) {\n        return DatatypeConverter.parseHexBinary(s);\n    }\n\n    /*\n     * DO NOT DELETE\n     * \n     * Use this commented code if you don't like using DatatypeConverter dependency\n     */\n    // public static String toHexStringOld(byte[] bytes) {\n    // StringBuilder sb = new StringBuilder();\n    // for (byte b : bytes) {\n    // sb.append(String.format(\"%02X\", b));\n    // }\n    // return sb.toString();\n    // }\n    //\n    // public static byte[] toByteArrayOld(String s) {\n    // int len = s.length();\n    // byte[] data = new byte[len / 2];\n    // for (int i = 0; i &lt; len; i += 2) {\n    // data[i / 2] = (byte) ((Character.digit(s.charAt(i), 16) &lt;&lt; 4) + Character.digit(s.charAt(i +\n    // 1), 16));\n    // }\n    // return data;\n    // }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":70829,"reputation":1,"user_id":205036,"accept_rate":38,"display_name":"Bartosz W&#243;jcik"},"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1445885485,"creation_date":1439331404,"answer_id":31952926,"question_id":1205135,"body_markdown":"You might want to consider some automated tool to do the encryption / decryption code generation eg. https://www.stringencrypt.com/java-encryption/\r\n\r\nIt can generate different encryption and decryption code each time for the string or file encryption.\r\n\r\nIt&#39;s pretty handy when it comes to fast string encryption without using RSA, AES etc.\r\n\r\nSample results:\r\n    \r\n\r\n    // encrypted with https://www.stringencrypt.com (v1.1.0) [Java]\r\n    // szTest = &quot;Encryption in Java!&quot;\r\n    String szTest = &quot;\\u9E3F\\uA60F\\uAE07\\uB61B\\uBE1F\\uC62B\\uCE2D\\uD611&quot; +\r\n                    &quot;\\uDE03\\uE5FF\\uEEED\\uF699\\uFE3D\\u071C\\u0ED2\\u1692&quot; +\r\n                    &quot;\\u1E06\\u26AE\\u2EDC&quot;;\r\n     \r\n    for (int iatwS = 0, qUJQG = 0; iatwS &lt; 19; iatwS++)\r\n    {\r\n            qUJQG = szTest.charAt(iatwS);\r\n            qUJQG ++;\r\n            qUJQG = ((qUJQG &lt;&lt; 5) | ( (qUJQG &amp; 0xFFFF) &gt;&gt; 11)) &amp; 0xFFFF;\r\n            qUJQG -= iatwS;\r\n            qUJQG = (((qUJQG &amp; 0xFFFF) &gt;&gt; 6) | (qUJQG &lt;&lt; 10)) &amp; 0xFFFF;\r\n            qUJQG ^= iatwS;\r\n            qUJQG -= iatwS;\r\n            qUJQG = (((qUJQG &amp; 0xFFFF) &gt;&gt; 3) | (qUJQG &lt;&lt; 13)) &amp; 0xFFFF;\r\n            qUJQG ^= 0xFFFF;\r\n            qUJQG ^= 0xB6EC;\r\n            qUJQG = ((qUJQG &lt;&lt; 8) | ( (qUJQG &amp; 0xFFFF) &gt;&gt; 8)) &amp; 0xFFFF;\r\n            qUJQG --;\r\n            qUJQG = (((qUJQG &amp; 0xFFFF) &gt;&gt; 5) | (qUJQG &lt;&lt; 11)) &amp; 0xFFFF;\r\n            qUJQG ++;\r\n            qUJQG ^= 0xFFFF;\r\n            qUJQG += iatwS;\r\n            szTest = szTest.substring(0, iatwS) + (char)(qUJQG &amp; 0xFFFF) + szTest.substring(iatwS + 1);\r\n    }\r\n     \r\n    System.out.println(szTest);\r\n\r\nWe use it all the time in our company.","title":"How to encrypt String in Java","body":"<p>You might want to consider some automated tool to do the encryption / decryption code generation eg. <a href=\"https://www.stringencrypt.com/java-encryption/\" rel=\"nofollow\">https://www.stringencrypt.com/java-encryption/</a></p>\n\n<p>It can generate different encryption and decryption code each time for the string or file encryption.</p>\n\n<p>It's pretty handy when it comes to fast string encryption without using RSA, AES etc.</p>\n\n<p>Sample results:</p>\n\n<pre><code>// encrypted with https://www.stringencrypt.com (v1.1.0) [Java]\n// szTest = \"Encryption in Java!\"\nString szTest = \"\\u9E3F\\uA60F\\uAE07\\uB61B\\uBE1F\\uC62B\\uCE2D\\uD611\" +\n                \"\\uDE03\\uE5FF\\uEEED\\uF699\\uFE3D\\u071C\\u0ED2\\u1692\" +\n                \"\\u1E06\\u26AE\\u2EDC\";\n\nfor (int iatwS = 0, qUJQG = 0; iatwS &lt; 19; iatwS++)\n{\n        qUJQG = szTest.charAt(iatwS);\n        qUJQG ++;\n        qUJQG = ((qUJQG &lt;&lt; 5) | ( (qUJQG &amp; 0xFFFF) &gt;&gt; 11)) &amp; 0xFFFF;\n        qUJQG -= iatwS;\n        qUJQG = (((qUJQG &amp; 0xFFFF) &gt;&gt; 6) | (qUJQG &lt;&lt; 10)) &amp; 0xFFFF;\n        qUJQG ^= iatwS;\n        qUJQG -= iatwS;\n        qUJQG = (((qUJQG &amp; 0xFFFF) &gt;&gt; 3) | (qUJQG &lt;&lt; 13)) &amp; 0xFFFF;\n        qUJQG ^= 0xFFFF;\n        qUJQG ^= 0xB6EC;\n        qUJQG = ((qUJQG &lt;&lt; 8) | ( (qUJQG &amp; 0xFFFF) &gt;&gt; 8)) &amp; 0xFFFF;\n        qUJQG --;\n        qUJQG = (((qUJQG &amp; 0xFFFF) &gt;&gt; 5) | (qUJQG &lt;&lt; 11)) &amp; 0xFFFF;\n        qUJQG ++;\n        qUJQG ^= 0xFFFF;\n        qUJQG += iatwS;\n        szTest = szTest.substring(0, iatwS) + (char)(qUJQG &amp; 0xFFFF) + szTest.substring(iatwS + 1);\n}\n\nSystem.out.println(szTest);\n</code></pre>\n\n<p>We use it all the time in our company.</p>\n"},{"tags":[],"owner":{"account_id":4793155,"reputation":6314,"user_id":3871754,"accept_rate":68,"display_name":"Kamil Nkanowicz"},"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1523065618,"creation_date":1483947959,"answer_id":41543194,"question_id":1205135,"body_markdown":"You can use [Jasypt][1]\n\nWith Jasypt, encrypting and checking a password can be as simple as...\n\n    StrongTextEncryptor textEncryptor = new StrongTextEncryptor();\n    textEncryptor.setPassword(myEncryptionPassword);\n\n**Encryption:**\n\n    String myEncryptedText = textEncryptor.encrypt(myText);\n\n**Decryption:**\n\n    String plainText = textEncryptor.decrypt(myEncryptedText);\n\n**Gradle:**\n\n    compile group: &#39;org.jasypt&#39;, name: &#39;jasypt&#39;, version: &#39;1.9.2&#39;\n\n\n**Features:**\n\n&gt;Jasypt provides you with easy unidirectional (digest) and bidirectional encryption techniques. \n&gt;\n&gt;Open API for use with any JCE provider, and not only the default Java VM one. Jasypt can be easily used with well-known providers like Bouncy Castle. Learn more.\n&gt;\n&gt;Higher security for your users&#39; passwords. Learn more.\n&gt;\n&gt;Binary encryption support. Jasypt allows the digest and encryption of binaries (byte arrays). Encrypt your objects or files when needed (for being sent over the net, for example).\n&gt;\n&gt;    Number encryption support. Besides texts and binaries, it allows the digest and encryption of numeric values (BigInteger and BigDecimal, other numeric types are supported when encrypting for Hibernate persistence). Learn more.\n&gt;\n&gt;    Completely thread-safe.\n&gt;\n&gt;    Support for encryptor/digester pooling, in order to achieve high performance in multi-processor/multi-core systems.\n&gt;\n&gt;    Includes a lightweight (&quot;lite&quot;) version of the library for better manageability in size-restrictive environments like mobile platforms. \n&gt;\n&gt;    Provides both easy, no-configuration encryption tools for users new to encryption, and also highly configurable standard encryption tools, for power-users.\n&gt;\n&gt;    Hibernate 3 and 4 optional integration for persisting fields of your mapped entities in an encrypted manner. Encryption of fields is defined in the Hibernate mapping files, and it remains transparent for the rest of the application (useful for sensitive personal data, databases with many read-enabled users...). Encrypt texts, binaries, numbers, booleans, dates... Learn more.\n&gt;\n&gt;    Seamlessly integrable into a Spring application, with specific integration features for Spring 2, Spring 3.0 and Spring 3.1. All the digesters and encryptors in jasypt are designed to be easily used (instantiated, dependency-injected...) from Spring. And, because of their being thread-safe, they can be used without synchronization worries in a singleton-oriented environment like Spring. Learn more: Spring 2, Spring 3.0, Spring 3.1.\n&gt;\n&gt;    Spring Security (formerly Acegi Security) optional integration for performing password encryption and matching tasks for the security framework, improving the security of your users&#39; passwords by using safer password encryption mechanisms and providing you with a higher degree of configuration and control. Learn more.\n&gt;\n&gt;    Provides advanced functionality for encrypting all or part of an application&#39;s configuration files, including sensitive information like database passwords. Seamlessly integrate encrypted configuration into plain, Spring-based and/or Hibernate-enabled applications. Learn more.\n&gt;\n&gt;    Provides easy to use CLI (Command Line Interface) tools to allow developers initialise their encrypted data and include encryption/decryption/digest operations in maintenance tasks or scripts. Learn more.\n&gt;\n&gt;    Integrates into Apache Wicket, for more robust encryption of URLs in your secure applications. \n&gt;\n&gt;    Comprehensive guides and javadoc documentation, to allow developers to better understand what they are really doing to their data.\n&gt;\n&gt;    Robust charset support, designed to adequately encrypt and digest texts whichever the original charset is. Complete support for languages like Japanese, Korean, Arabic... with no encoding or platform issues.\n&gt;\n&gt;    Very high level of configuration capabilities: The developer can implement tricks like instructing an &quot;encryptor&quot; to ask a, for example, remote HTTPS server for the password to be used for encryption. It lets you meet your security needs.\n\n  [1]: http://www.jasypt.org/","title":"How to encrypt String in Java","body":"<p>You can use <a href=\"http://www.jasypt.org/\" rel=\"noreferrer\">Jasypt</a></p>\n<p>With Jasypt, encrypting and checking a password can be as simple as...</p>\n<pre><code>StrongTextEncryptor textEncryptor = new StrongTextEncryptor();\ntextEncryptor.setPassword(myEncryptionPassword);\n</code></pre>\n<p><strong>Encryption:</strong></p>\n<pre><code>String myEncryptedText = textEncryptor.encrypt(myText);\n</code></pre>\n<p><strong>Decryption:</strong></p>\n<pre><code>String plainText = textEncryptor.decrypt(myEncryptedText);\n</code></pre>\n<p><strong>Gradle:</strong></p>\n<pre><code>compile group: 'org.jasypt', name: 'jasypt', version: '1.9.2'\n</code></pre>\n<p><strong>Features:</strong></p>\n<blockquote>\n<p>Jasypt provides you with easy unidirectional (digest) and bidirectional encryption techniques.</p>\n<p>Open API for use with any JCE provider, and not only the default Java VM one. Jasypt can be easily used with well-known providers like Bouncy Castle. Learn more.</p>\n<p>Higher security for your users' passwords. Learn more.</p>\n<p>Binary encryption support. Jasypt allows the digest and encryption of binaries (byte arrays). Encrypt your objects or files when needed (for being sent over the net, for example).</p>\n<p>Number encryption support. Besides texts and binaries, it allows the digest and encryption of numeric values (BigInteger and BigDecimal, other numeric types are supported when encrypting for Hibernate persistence). Learn more.</p>\n<p>Completely thread-safe.</p>\n<p>Support for encryptor/digester pooling, in order to achieve high performance in multi-processor/multi-core systems.</p>\n<p>Includes a lightweight (&quot;lite&quot;) version of the library for better manageability in size-restrictive environments like mobile platforms.</p>\n<p>Provides both easy, no-configuration encryption tools for users new to encryption, and also highly configurable standard encryption tools, for power-users.</p>\n<p>Hibernate 3 and 4 optional integration for persisting fields of your mapped entities in an encrypted manner. Encryption of fields is defined in the Hibernate mapping files, and it remains transparent for the rest of the application (useful for sensitive personal data, databases with many read-enabled users...). Encrypt texts, binaries, numbers, booleans, dates... Learn more.</p>\n<p>Seamlessly integrable into a Spring application, with specific integration features for Spring 2, Spring 3.0 and Spring 3.1. All the digesters and encryptors in jasypt are designed to be easily used (instantiated, dependency-injected...) from Spring. And, because of their being thread-safe, they can be used without synchronization worries in a singleton-oriented environment like Spring. Learn more: Spring 2, Spring 3.0, Spring 3.1.</p>\n<p>Spring Security (formerly Acegi Security) optional integration for performing password encryption and matching tasks for the security framework, improving the security of your users' passwords by using safer password encryption mechanisms and providing you with a higher degree of configuration and control. Learn more.</p>\n<p>Provides advanced functionality for encrypting all or part of an application's configuration files, including sensitive information like database passwords. Seamlessly integrate encrypted configuration into plain, Spring-based and/or Hibernate-enabled applications. Learn more.</p>\n<p>Provides easy to use CLI (Command Line Interface) tools to allow developers initialise their encrypted data and include encryption/decryption/digest operations in maintenance tasks or scripts. Learn more.</p>\n<p>Integrates into Apache Wicket, for more robust encryption of URLs in your secure applications.</p>\n<p>Comprehensive guides and javadoc documentation, to allow developers to better understand what they are really doing to their data.</p>\n<p>Robust charset support, designed to adequately encrypt and digest texts whichever the original charset is. Complete support for languages like Japanese, Korean, Arabic... with no encoding or platform issues.</p>\n<p>Very high level of configuration capabilities: The developer can implement tricks like instructing an &quot;encryptor&quot; to ask a, for example, remote HTTPS server for the password to be used for encryption. It lets you meet your security needs.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":3079378,"reputation":2882,"user_id":2607972,"accept_rate":100,"display_name":"Konstantino Sparakis"},"down_vote_count":0,"up_vote_count":229,"is_accepted":true,"score":229,"last_activity_date":1647228852,"creation_date":1493890644,"answer_id":43779197,"question_id":1205135,"body_markdown":"&gt; This is the first page that shows up via Google and the security\r\n&gt; vulnerabilities in all the implementations make me cringe so I&#39;m\r\n&gt; posting this to add information regarding encryption for others as it\r\n&gt; has been **7 Years** from the original post. I hold a **Masters Degree** in\r\n&gt; Computer Engineering and spent a lot of time studying and learning\r\n&gt; Cryptography so I&#39;m throwing my two cents to make the internet a\r\n&gt; safer place.\r\n&gt; \r\n&gt; \r\n&gt; \r\n&gt; Also, do note that a lot of implementation might be secure for a given\r\n&gt; situation, but why use those and potentially accidentally make a\r\n&gt; mistake? Use the strongest tools you have available unless you have a\r\n&gt; specific reason not to. Overall I highly advise using a library and\r\n&gt; staying away from the nitty gritty details if you can.\r\n&gt; \r\n&gt; **UPDATE 4/5/18:** I rewrote some parts to make them simpler to understand and changed the recommended library from [Jasypt][7] to [Google&#39;s new library Tink][9], I would recommend completely removing [Jasypt][7] from an existing setup.\r\n\r\n**Foreword**\r\n\r\nI will outline the basics of secure symmetric cryptography below and point out common mistakes I see online when people implement crypto on their own with the standard Java library. If you want to just skip all the details run over to [Google&#39;s new library Tink][9] import that into your project and use AES-GCM mode for all your encryptions and you shall be secure. \r\n\r\nNow if you want to learn the nitty gritty details on how to encrypt in java read on :) \r\n\r\n**Block Ciphers**\r\n\r\nFirst thing first you need to pick a symmetric key Block Cipher. A Block Cipher is a computer function/program used to create Pseudo-Randomness. Pseudo-Randomness is fake randomness that no computer other than a Quantum Computer would be able to tell the difference between it and real randomness. The Block Cipher is like the building block to cryptography, and when used with different modes or schemes we can create encryptions.\r\n\r\nNow regarding Block Cipher Algorithms available today, Make sure to **NEVER**, I repeat **NEVER** use [DES][1], I would even say NEVER use [3DES][2]. The only Block Cipher that even Snowden&#39;s NSA release was able to verify being truly as close to Pseudo-Random as possible is [AES 256][3]. There also exists AES 128; the difference is AES 256 works in 256-bit blocks, while AES 128 works in 128 blocks. All in all, AES 128 is considered secure although some weaknesses have been discovered, but 256 is as solid as it gets.\r\n\r\nFun fact [DES][1] was broken by the NSA back when it was initially founded and actually kept a secret for a few years. Although some people still claim [3DES][2] is secure, there are quite a few research papers that have found and analyzed weaknesses in [3DES][2].\r\n\r\n**Encryption Modes**\r\n\r\nEncryption is created when you take a block cipher and use a specific scheme so that the randomness is combined with a key to creating something that is reversible as long as you know the key. This is referred to as an Encryption Mode.\r\n\r\nHere is an example of an encryption mode and the simplest mode known as ECB just so you can visually understand what is happening:\r\n\r\n[![ECB Mode][4]][4]\r\n\r\n\r\nThe encryption modes you will see most commonly online are the following:\r\n\r\n*ECB CTR, CBC, GCM*\r\n\r\nThere exist other modes outside of the ones listed and researchers are always working toward new modes to improve existing problems.\r\n\r\nNow let&#39;s move on to implementations and what is secure. **NEVER** use ECB this is bad at hiding repeating data as shown by the famous [Linux penguin][5].[![Linux Penguin Example][6]][6]\r\n\r\nWhen implementing in Java, note that if you use the following code, ECB mode is set by default:\r\n\r\n    Cipher cipher = Cipher.getInstance(&quot;AES&quot;);\r\n\r\n**... DANGER THIS IS A VULNERABILITY!** and unfortunately, this is seen all over StackOverflow and online in tutorials and examples.\r\n\r\n**Nonces and IVs**\r\n\r\nIn response to the issue found with ECB mode nounces also known as IVs were created. The idea is that we generate a new random variable and attach it to every encryption so that when you encrypt two messages that are the same they come out different. The beauty behind this is that an IV or nonce is public knowledge. That means an attacker can have access to this but as long as they don&#39;t have your key, they cant do anything with that knowledge.\r\n\r\nCommon issues I will see is that people will set the IV as a static value as in the same fixed value in their code. and here is the pitfall to IVs the moment you repeat one you actually compromise the entire security of your encryption.\r\n\r\n**Generating A Random IV**\r\n\r\n    SecureRandom randomSecureRandom = new SecureRandom();\r\n    byte[] iv = new byte[cipher.getBlockSize()];\r\n    randomSecureRandom.nextBytes(iv);\r\n    IvParameterSpec ivParams = new IvParameterSpec(iv);\r\n\r\n**Note:** SHA1 is broken but I couldn&#39;t find how to implement SHA256 into this use case properly, so if anyone wants to take a crack at this and update it would be awesome! Also SHA1 attacks still are unconventional as it can take a few years on a huge cluster to crack. [Check out details here.][10]\r\n\r\n**CTR Implementation**\r\n\r\nNo padding is required for CTR mode.\r\n\r\n     Cipher cipher = Cipher.getInstance(&quot;AES/CTR/NoPadding&quot;);\r\n\r\n**CBC Implementation**\r\n\r\nIf you choose to implement CBC Mode do so with PKCS7Padding as follows:\r\n\r\n     Cipher cipher = Cipher.getInstance(&quot;AES/CBC/PKCS7Padding&quot;);\r\n\r\n \r\n\r\n**CBC and CTR Vulnerability and Why You Should Use GCM**\r\n\r\nAlthough some other modes such as CBC and CTR are secure they run into the issue where an attacker can flip the encrypted data, changing its value when decrypted. So let&#39;s say you encrypt an imaginary bank message &quot;Sell 100&quot;, your encrypted message looks like this &quot;eu23ng&quot; the attacker changes one bit to &quot;eu53ng&quot; and all of a sudden when decrypted your message, it reads as &quot;Sell 900&quot;.  \r\n\r\nTo avoid this the majority of the internet uses GCM, and every time you see HTTPS they are probably using GCM. GCM signs the encrypted message with a hash and checks to verify that the message has not been changed using this signature. \r\n\r\nI would avoid implementing GCM because of its complexity. You are better off using [Googles new library Tink][9] because here again if you accidentally repeat an IV you are compromising the key in the case with GCM, which is the ultimate security flaw. New researchers are working towards IV repeat resistant encryption modes where even if you repeat the IV the key is not in danger but this has yet to come mainstream.\r\n\r\nNow if you do want to implement GCM, here is a [link to a nice GCM implementation][11]. However, I can not ensure the security or if its properly implemented but it gets the basis down. Also note with GCM there is no padding.\r\n\r\n    Cipher cipher = Cipher.getInstance(&quot;AES/GCM/NoPadding&quot;);\r\n\r\n**Keys vs Passwords**\r\n\r\nAnother very important note, is that when it comes to cryptography a Key and a Password are not the same things. A Key in cryptography needs to have a certain amount of entropy and randomness to be considered secure. This is why you need to make sure to use the proper cryptographic libraries to generate the key for you.\r\n\r\nSo you really have two implementations you can do here, the first is to use the code found on [this StackOverflow thread for Random Key Generation][12]. This solution uses a secure random number generator to create a key from scratch that you can the use.\r\n\r\nThe other less secure option is to use, user input such as a password. The issue as we discussed is that the password doesn&#39;t have enough entropy, so we would have to use [PBKDF2][13], an algorithm that takes the password and strengthens it. Here is a [StackOverflow implementation I liked][14]. However Google Tink library has all this built in and you should take advantage of it.\r\n\r\n\r\n**Android Developers**\r\n\r\nOne important point to point out here is know that your android code is reverse engineerable and most cases most java code is too. That means if you store the password in plain text in your code. A hacker can easily retrieve it. Usually, for these type of encryption, you want to use Asymmetric Cryptography and so on. This is outside the scope of this post so I will avoid diving into it.\r\n\r\nAn [interesting reading from 2013][8]: Points out that 88% of Crypto implementations in Android were done improperly.\r\n\r\n**Final Thoughts**\r\n\r\nOnce again I would suggest avoid implementing the java library for crypto directly and use [Google Tink][9], it will save you the headache as they have really done a good job of implementing all the algorithms properly. And even then make sure you check up on issues brought up on the Tink github, vulnerabilities popup here and there.\r\n\r\nIf you have any questions or feedback feel free to comment! \r\nSecurity is always changing and you need to do your best to keep up with it :) \r\n\r\n  [1]: http://en.wikipedia.org/wiki/Data_Encryption_Standard\r\n  [2]: http://en.wikipedia.org/wiki/3DES\r\n  [3]: http://en.wikipedia.org/wiki/Advanced_Encryption_Standard\r\n  [4]: https://i.stack.imgur.com/DOlZl.png\r\n  [5]: https://en.wikipedia.org/wiki/Block_cipher_mode_of_operation\r\n  [6]: https://i.stack.imgur.com/X67ZV.jpg\r\n  [7]: http://www.jasypt.org/\r\n  [8]: https://cs.ucsb.edu/~chris/research/doc/ccs13_cryptolint.pdf\r\n  [9]: https://github.com/google/tink/\r\n  [10]: https://shattered.io/\r\n  [11]: https://gist.github.com/praseodym/f2499b3e14d872fe5b4a\r\n  [12]: https://stackoverflow.com/questions/18228579/how-to-create-a-secure-random-aes-key-in-java\r\n  [13]: https://en.wikipedia.org/wiki/PBKDF2\r\n  [14]: https://stackoverflow.com/a/27928435/2607972","title":"How to encrypt String in Java","body":"<blockquote>\n<p>This is the first page that shows up via Google and the security\nvulnerabilities in all the implementations make me cringe so I'm\nposting this to add information regarding encryption for others as it\nhas been <strong>7 Years</strong> from the original post. I hold a <strong>Masters Degree</strong> in\nComputer Engineering and spent a lot of time studying and learning\nCryptography so I'm throwing my two cents to make the internet a\nsafer place.</p>\n<p>Also, do note that a lot of implementation might be secure for a given\nsituation, but why use those and potentially accidentally make a\nmistake? Use the strongest tools you have available unless you have a\nspecific reason not to. Overall I highly advise using a library and\nstaying away from the nitty gritty details if you can.</p>\n<p><strong>UPDATE 4/5/18:</strong> I rewrote some parts to make them simpler to understand and changed the recommended library from <a href=\"http://www.jasypt.org/\" rel=\"noreferrer\">Jasypt</a> to <a href=\"https://github.com/google/tink/\" rel=\"noreferrer\">Google's new library Tink</a>, I would recommend completely removing <a href=\"http://www.jasypt.org/\" rel=\"noreferrer\">Jasypt</a> from an existing setup.</p>\n</blockquote>\n<p><strong>Foreword</strong></p>\n<p>I will outline the basics of secure symmetric cryptography below and point out common mistakes I see online when people implement crypto on their own with the standard Java library. If you want to just skip all the details run over to <a href=\"https://github.com/google/tink/\" rel=\"noreferrer\">Google's new library Tink</a> import that into your project and use AES-GCM mode for all your encryptions and you shall be secure.</p>\n<p>Now if you want to learn the nitty gritty details on how to encrypt in java read on :)</p>\n<p><strong>Block Ciphers</strong></p>\n<p>First thing first you need to pick a symmetric key Block Cipher. A Block Cipher is a computer function/program used to create Pseudo-Randomness. Pseudo-Randomness is fake randomness that no computer other than a Quantum Computer would be able to tell the difference between it and real randomness. The Block Cipher is like the building block to cryptography, and when used with different modes or schemes we can create encryptions.</p>\n<p>Now regarding Block Cipher Algorithms available today, Make sure to <strong>NEVER</strong>, I repeat <strong>NEVER</strong> use <a href=\"http://en.wikipedia.org/wiki/Data_Encryption_Standard\" rel=\"noreferrer\">DES</a>, I would even say NEVER use <a href=\"http://en.wikipedia.org/wiki/3DES\" rel=\"noreferrer\">3DES</a>. The only Block Cipher that even Snowden's NSA release was able to verify being truly as close to Pseudo-Random as possible is <a href=\"http://en.wikipedia.org/wiki/Advanced_Encryption_Standard\" rel=\"noreferrer\">AES 256</a>. There also exists AES 128; the difference is AES 256 works in 256-bit blocks, while AES 128 works in 128 blocks. All in all, AES 128 is considered secure although some weaknesses have been discovered, but 256 is as solid as it gets.</p>\n<p>Fun fact <a href=\"http://en.wikipedia.org/wiki/Data_Encryption_Standard\" rel=\"noreferrer\">DES</a> was broken by the NSA back when it was initially founded and actually kept a secret for a few years. Although some people still claim <a href=\"http://en.wikipedia.org/wiki/3DES\" rel=\"noreferrer\">3DES</a> is secure, there are quite a few research papers that have found and analyzed weaknesses in <a href=\"http://en.wikipedia.org/wiki/3DES\" rel=\"noreferrer\">3DES</a>.</p>\n<p><strong>Encryption Modes</strong></p>\n<p>Encryption is created when you take a block cipher and use a specific scheme so that the randomness is combined with a key to creating something that is reversible as long as you know the key. This is referred to as an Encryption Mode.</p>\n<p>Here is an example of an encryption mode and the simplest mode known as ECB just so you can visually understand what is happening:</p>\n<p><a href=\"https://i.stack.imgur.com/DOlZl.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/DOlZl.png\" alt=\"ECB Mode\" /></a></p>\n<p>The encryption modes you will see most commonly online are the following:</p>\n<p><em>ECB CTR, CBC, GCM</em></p>\n<p>There exist other modes outside of the ones listed and researchers are always working toward new modes to improve existing problems.</p>\n<p>Now let's move on to implementations and what is secure. <strong>NEVER</strong> use ECB this is bad at hiding repeating data as shown by the famous <a href=\"https://en.wikipedia.org/wiki/Block_cipher_mode_of_operation\" rel=\"noreferrer\">Linux penguin</a>.<a href=\"https://i.stack.imgur.com/X67ZV.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/X67ZV.jpg\" alt=\"Linux Penguin Example\" /></a></p>\n<p>When implementing in Java, note that if you use the following code, ECB mode is set by default:</p>\n<pre><code>Cipher cipher = Cipher.getInstance(&quot;AES&quot;);\n</code></pre>\n<p><strong>... DANGER THIS IS A VULNERABILITY!</strong> and unfortunately, this is seen all over StackOverflow and online in tutorials and examples.</p>\n<p><strong>Nonces and IVs</strong></p>\n<p>In response to the issue found with ECB mode nounces also known as IVs were created. The idea is that we generate a new random variable and attach it to every encryption so that when you encrypt two messages that are the same they come out different. The beauty behind this is that an IV or nonce is public knowledge. That means an attacker can have access to this but as long as they don't have your key, they cant do anything with that knowledge.</p>\n<p>Common issues I will see is that people will set the IV as a static value as in the same fixed value in their code. and here is the pitfall to IVs the moment you repeat one you actually compromise the entire security of your encryption.</p>\n<p><strong>Generating A Random IV</strong></p>\n<pre><code>SecureRandom randomSecureRandom = new SecureRandom();\nbyte[] iv = new byte[cipher.getBlockSize()];\nrandomSecureRandom.nextBytes(iv);\nIvParameterSpec ivParams = new IvParameterSpec(iv);\n</code></pre>\n<p><strong>Note:</strong> SHA1 is broken but I couldn't find how to implement SHA256 into this use case properly, so if anyone wants to take a crack at this and update it would be awesome! Also SHA1 attacks still are unconventional as it can take a few years on a huge cluster to crack. <a href=\"https://shattered.io/\" rel=\"noreferrer\">Check out details here.</a></p>\n<p><strong>CTR Implementation</strong></p>\n<p>No padding is required for CTR mode.</p>\n<pre><code> Cipher cipher = Cipher.getInstance(&quot;AES/CTR/NoPadding&quot;);\n</code></pre>\n<p><strong>CBC Implementation</strong></p>\n<p>If you choose to implement CBC Mode do so with PKCS7Padding as follows:</p>\n<pre><code> Cipher cipher = Cipher.getInstance(&quot;AES/CBC/PKCS7Padding&quot;);\n</code></pre>\n<p><strong>CBC and CTR Vulnerability and Why You Should Use GCM</strong></p>\n<p>Although some other modes such as CBC and CTR are secure they run into the issue where an attacker can flip the encrypted data, changing its value when decrypted. So let's say you encrypt an imaginary bank message &quot;Sell 100&quot;, your encrypted message looks like this &quot;eu23ng&quot; the attacker changes one bit to &quot;eu53ng&quot; and all of a sudden when decrypted your message, it reads as &quot;Sell 900&quot;.</p>\n<p>To avoid this the majority of the internet uses GCM, and every time you see HTTPS they are probably using GCM. GCM signs the encrypted message with a hash and checks to verify that the message has not been changed using this signature.</p>\n<p>I would avoid implementing GCM because of its complexity. You are better off using <a href=\"https://github.com/google/tink/\" rel=\"noreferrer\">Googles new library Tink</a> because here again if you accidentally repeat an IV you are compromising the key in the case with GCM, which is the ultimate security flaw. New researchers are working towards IV repeat resistant encryption modes where even if you repeat the IV the key is not in danger but this has yet to come mainstream.</p>\n<p>Now if you do want to implement GCM, here is a <a href=\"https://gist.github.com/praseodym/f2499b3e14d872fe5b4a\" rel=\"noreferrer\">link to a nice GCM implementation</a>. However, I can not ensure the security or if its properly implemented but it gets the basis down. Also note with GCM there is no padding.</p>\n<pre><code>Cipher cipher = Cipher.getInstance(&quot;AES/GCM/NoPadding&quot;);\n</code></pre>\n<p><strong>Keys vs Passwords</strong></p>\n<p>Another very important note, is that when it comes to cryptography a Key and a Password are not the same things. A Key in cryptography needs to have a certain amount of entropy and randomness to be considered secure. This is why you need to make sure to use the proper cryptographic libraries to generate the key for you.</p>\n<p>So you really have two implementations you can do here, the first is to use the code found on <a href=\"https://stackoverflow.com/questions/18228579/how-to-create-a-secure-random-aes-key-in-java\">this StackOverflow thread for Random Key Generation</a>. This solution uses a secure random number generator to create a key from scratch that you can the use.</p>\n<p>The other less secure option is to use, user input such as a password. The issue as we discussed is that the password doesn't have enough entropy, so we would have to use <a href=\"https://en.wikipedia.org/wiki/PBKDF2\" rel=\"noreferrer\">PBKDF2</a>, an algorithm that takes the password and strengthens it. Here is a <a href=\"https://stackoverflow.com/a/27928435/2607972\">StackOverflow implementation I liked</a>. However Google Tink library has all this built in and you should take advantage of it.</p>\n<p><strong>Android Developers</strong></p>\n<p>One important point to point out here is know that your android code is reverse engineerable and most cases most java code is too. That means if you store the password in plain text in your code. A hacker can easily retrieve it. Usually, for these type of encryption, you want to use Asymmetric Cryptography and so on. This is outside the scope of this post so I will avoid diving into it.</p>\n<p>An <a href=\"https://cs.ucsb.edu/%7Echris/research/doc/ccs13_cryptolint.pdf\" rel=\"noreferrer\">interesting reading from 2013</a>: Points out that 88% of Crypto implementations in Android were done improperly.</p>\n<p><strong>Final Thoughts</strong></p>\n<p>Once again I would suggest avoid implementing the java library for crypto directly and use <a href=\"https://github.com/google/tink/\" rel=\"noreferrer\">Google Tink</a>, it will save you the headache as they have really done a good job of implementing all the algorithms properly. And even then make sure you check up on issues brought up on the Tink github, vulnerabilities popup here and there.</p>\n<p>If you have any questions or feedback feel free to comment!\nSecurity is always changing and you need to do your best to keep up with it :)</p>\n"},{"tags":[],"owner":{"account_id":11544720,"reputation":7,"user_id":8459197,"display_name":"Arshad shaik"},"down_vote_count":7,"up_vote_count":2,"is_accepted":false,"score":-5,"last_activity_date":1504291127,"creation_date":1502854230,"answer_id":45704677,"question_id":1205135,"body_markdown":"\r\n\r\n\r\n\r\n    String s1=&quot;arshad&quot;; \r\n    char[] s2=s1.toCharArray(); \r\n    int s3= s2.length; \r\n\r\n      System.out.println(s3);\r\n     int i=0; \r\n\r\n    // for(int j=0;j&lt;s3;j++) \r\n    // System.out.println(s2[j]); \r\n\r\n    for(i=0;i&lt;((s3)/2);i++) { \r\n\r\n    char z,f=10; \r\n    z=(char) (s2[i] * f); \r\n    s2[i]=s2[(s3-1)-i]; \r\n    s2[(s3-1)-i]=z; \r\n\r\n    String b=new String(s2);\r\n\r\n     print(b);  }\r\n\r\n","title":"How to encrypt String in Java","body":"<pre><code>String s1=\"arshad\"; \nchar[] s2=s1.toCharArray(); \nint s3= s2.length; \n\n  System.out.println(s3);\n int i=0; \n\n// for(int j=0;j&lt;s3;j++) \n// System.out.println(s2[j]); \n\nfor(i=0;i&lt;((s3)/2);i++) { \n\nchar z,f=10; \nz=(char) (s2[i] * f); \ns2[i]=s2[(s3-1)-i]; \ns2[(s3-1)-i]=z; \n\nString b=new String(s2);\n\n print(b);  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1387675,"reputation":840,"user_id":1319304,"accept_rate":40,"display_name":"trichner"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1544240434,"creation_date":1519837647,"answer_id":49034994,"question_id":1205135,"body_markdown":"Here a simple solution with only `java.*` and `javax.crypto.*` dependencies for encryption of bytes providing **confidentiality** and **integrity**. It shall be [indistinguishable under a choosen plaintext attack][1] for short messages in the order of kilobytes.\r\n\r\nIt uses `AES` in the `GCM` mode with no padding, a 128bit key is derived by `PBKDF2` with lots of iterations and a static salt from the provided password. This makes sure brute forcing passwords is hard and distributes the entropy over the entire key.\r\n\r\nA random initialisation vector (IV) is generated and will be prepended to the ciphertext. Furthermore, the static byte `0x01` is prepended as the first byte as a &#39;version&#39;.\r\n\r\nThe entire message goes into the message authentication code (MAC) generated by `AES/GCM`.\r\n\r\nHere it goes, zero external dependencies encryption class providing **confidentiality** and **integrity**:\r\n\r\n\r\n    package ch.n1b.tcrypt.utils;\r\n    \r\n    import java.nio.charset.StandardCharsets;\r\n    import java.security.InvalidAlgorithmParameterException;\r\n    import java.security.InvalidKeyException;\r\n    import java.security.NoSuchAlgorithmException;\r\n    import java.security.NoSuchProviderException;\r\n    import java.security.SecureRandom;\r\n    import java.security.spec.InvalidKeySpecException;\r\n    import java.security.spec.KeySpec;\r\n    \r\n    import javax.crypto.*;\r\n    import javax.crypto.spec.GCMParameterSpec;\r\n    import javax.crypto.spec.PBEKeySpec;\r\n    import javax.crypto.spec.SecretKeySpec;\r\n    \r\n    /**\r\n     * This class implements AES-GCM symmetric key encryption with a PBKDF2 derived password.\r\n     * It provides confidentiality and integrity of the plaintext.\r\n     *\r\n     * @author Thomas Richner\r\n     * @created 2018-12-07\r\n     */\r\n    public class AesGcmCryptor {\r\n    \r\n        // https://crypto.stackexchange.com/questions/26783/ciphertext-and-tag-size-and-iv-transmission-with-aes-in-gcm-mode\r\n        private static final byte VERSION_BYTE = 0x01;\r\n        private static final int VERSION_BYTE_LENGTH = 1;\r\n        private static final int AES_KEY_BITS_LENGTH = 128;\r\n    \r\n    \r\n        // fixed AES-GCM constants\r\n        private static final String GCM_CRYPTO_NAME = &quot;AES/GCM/NoPadding&quot;;\r\n        private static final int GCM_IV_BYTES_LENGTH = 12;\r\n        private static final int GCM_TAG_BYTES_LENGTH = 16;\r\n    \r\n        // can be tweaked, more iterations = more compute intensive to brute-force password\r\n        private static final int PBKDF2_ITERATIONS = 1024;\r\n    \r\n        // protects against rainbow tables\r\n        private static final byte[] PBKDF2_SALT = hexStringToByteArray(&quot;4d3fe0d71d2abd2828e7a3196ea450d4&quot;);\r\n    \r\n        public String encryptString(char[] password, String plaintext) throws CryptoException {\r\n    \r\n            byte[] encrypted = null;\r\n            try {\r\n                encrypted = encrypt(password, plaintext.getBytes(StandardCharsets.UTF_8));\r\n            } catch (NoSuchAlgorithmException | NoSuchPaddingException | InvalidKeyException //\r\n                    | InvalidAlgorithmParameterException | IllegalBlockSizeException | BadPaddingException //\r\n                    | InvalidKeySpecException e) {\r\n                throw new CryptoException(e);\r\n            }\r\n            return byteArrayToHexString(encrypted);\r\n        }\r\n    \r\n        public String decryptString(char[] password, String ciphertext)\r\n                throws CryptoException {\r\n    \r\n            byte[] ct = hexStringToByteArray(ciphertext);\r\n            byte[] plaintext = null;\r\n            try {\r\n                plaintext = decrypt(password, ct);\r\n            } catch (AEADBadTagException e) {\r\n                throw new CryptoException(e);\r\n            } catch ( //\r\n                    NoSuchPaddingException | NoSuchAlgorithmException | InvalidKeySpecException //\r\n                            | InvalidKeyException | InvalidAlgorithmParameterException | IllegalBlockSizeException //\r\n                            | BadPaddingException e) {\r\n                throw new CryptoException(e);\r\n            }\r\n            return new String(plaintext, StandardCharsets.UTF_8);\r\n        }\r\n    \r\n        /**\r\n         * Decrypts an AES-GCM encrypted ciphertext and is\r\n         * the reverse operation of {@link AesGcmCryptor#encrypt(char[], byte[])}\r\n         *\r\n         * @param password   passphrase for decryption\r\n         * @param ciphertext encrypted bytes\r\n         * @return plaintext bytes\r\n         * @throws NoSuchPaddingException\r\n         * @throws NoSuchAlgorithmException\r\n         * @throws NoSuchProviderException\r\n         * @throws InvalidKeySpecException\r\n         * @throws InvalidAlgorithmParameterException\r\n         * @throws InvalidKeyException\r\n         * @throws BadPaddingException\r\n         * @throws IllegalBlockSizeException\r\n         * @throws IllegalArgumentException           if the length or format of the ciphertext is bad\r\n         * @throws CryptoException\r\n         */\r\n        public byte[] decrypt(char[] password, byte[] ciphertext)\r\n                throws NoSuchPaddingException, NoSuchAlgorithmException, InvalidKeySpecException,\r\n                InvalidAlgorithmParameterException, InvalidKeyException, BadPaddingException, IllegalBlockSizeException {\r\n    \r\n            // input validation\r\n            if (ciphertext == null) {\r\n                throw new IllegalArgumentException(&quot;ciphertext cannot be null&quot;);\r\n            }\r\n    \r\n            if (ciphertext.length &lt;= VERSION_BYTE_LENGTH + GCM_IV_BYTES_LENGTH + GCM_TAG_BYTES_LENGTH) {\r\n                throw new IllegalArgumentException(&quot;ciphertext too short&quot;);\r\n            }\r\n    \r\n            // the version must match, we don&#39;t decrypt other versions\r\n            if (ciphertext[0] != VERSION_BYTE) {\r\n                throw new IllegalArgumentException(&quot;wrong version: &quot; + ciphertext[0]);\r\n            }\r\n    \r\n            // input seems legit, lets decrypt and check integrity\r\n    \r\n            // derive key from password\r\n            SecretKey key = deriveAesKey(password, PBKDF2_SALT, AES_KEY_BITS_LENGTH);\r\n    \r\n            // init cipher\r\n            Cipher cipher = Cipher.getInstance(GCM_CRYPTO_NAME);\r\n            GCMParameterSpec params = new GCMParameterSpec(GCM_TAG_BYTES_LENGTH * 8,\r\n                    ciphertext,\r\n                    VERSION_BYTE_LENGTH,\r\n                    GCM_IV_BYTES_LENGTH\r\n            );\r\n            cipher.init(Cipher.DECRYPT_MODE, key, params);\r\n    \r\n            final int ciphertextOffset = VERSION_BYTE_LENGTH + GCM_IV_BYTES_LENGTH;\r\n    \r\n            // add version and IV to MAC\r\n            cipher.updateAAD(ciphertext, 0, ciphertextOffset);\r\n    \r\n            // decipher and check MAC\r\n            return cipher.doFinal(ciphertext, ciphertextOffset, ciphertext.length - ciphertextOffset);\r\n        }\r\n    \r\n        /**\r\n         * Encrypts a plaintext with a password.\r\n         * &lt;p&gt;\r\n         * The encryption provides the following security properties:\r\n         * Confidentiality + Integrity\r\n         * &lt;p&gt;\r\n         * This is achieved my using the AES-GCM AEAD blockmode with a randomized IV.\r\n         * &lt;p&gt;\r\n         * The tag is calculated over the version byte, the IV as well as the ciphertext.\r\n         * &lt;p&gt;\r\n         * Finally the encrypted bytes have the following structure:\r\n         * &lt;pre&gt;\r\n         *          +-------------------------------------------------------------------+\r\n         *          |         |               |                             |           |\r\n         *          | version | IV bytes      | ciphertext bytes            |    tag    |\r\n         *          |         |               |                             |           |\r\n         *          +-------------------------------------------------------------------+\r\n         * Length:     1B        12B            len(plaintext) bytes            16B\r\n         * &lt;/pre&gt;\r\n         * Note: There is no padding required for AES-GCM, but this also implies that\r\n         * the exact plaintext length is revealed.\r\n         *\r\n         * @param password  password to use for encryption\r\n         * @param plaintext plaintext to encrypt\r\n         * @throws NoSuchAlgorithmException\r\n         * @throws NoSuchProviderException\r\n         * @throws NoSuchPaddingException\r\n         * @throws InvalidAlgorithmParameterException\r\n         * @throws InvalidKeyException\r\n         * @throws BadPaddingException\r\n         * @throws IllegalBlockSizeException\r\n         * @throws InvalidKeySpecException\r\n         */\r\n        public byte[] encrypt(char[] password, byte[] plaintext)\r\n                throws NoSuchAlgorithmException, NoSuchPaddingException,\r\n                InvalidAlgorithmParameterException, InvalidKeyException, BadPaddingException, IllegalBlockSizeException,\r\n                InvalidKeySpecException {\r\n    \r\n            // initialise random and generate IV (initialisation vector)\r\n            SecretKey key = deriveAesKey(password, PBKDF2_SALT, AES_KEY_BITS_LENGTH);\r\n            final byte[] iv = new byte[GCM_IV_BYTES_LENGTH];\r\n            SecureRandom random = SecureRandom.getInstanceStrong();\r\n            random.nextBytes(iv);\r\n    \r\n            // encrypt\r\n            Cipher cipher = Cipher.getInstance(GCM_CRYPTO_NAME);\r\n            GCMParameterSpec spec = new GCMParameterSpec(GCM_TAG_BYTES_LENGTH * 8, iv);\r\n            cipher.init(Cipher.ENCRYPT_MODE, key, spec);\r\n    \r\n            // add IV to MAC\r\n            final byte[] versionBytes = new byte[]{VERSION_BYTE};\r\n            cipher.updateAAD(versionBytes);\r\n            cipher.updateAAD(iv);\r\n    \r\n            // encrypt and MAC plaintext\r\n            byte[] ciphertext = cipher.doFinal(plaintext);\r\n    \r\n            // prepend VERSION and IV to ciphertext\r\n            byte[] encrypted = new byte[1 + GCM_IV_BYTES_LENGTH + ciphertext.length];\r\n            int pos = 0;\r\n            System.arraycopy(versionBytes, 0, encrypted, 0, VERSION_BYTE_LENGTH);\r\n            pos += VERSION_BYTE_LENGTH;\r\n            System.arraycopy(iv, 0, encrypted, pos, iv.length);\r\n            pos += iv.length;\r\n            System.arraycopy(ciphertext, 0, encrypted, pos, ciphertext.length);\r\n    \r\n            return encrypted;\r\n        }\r\n    \r\n        /**\r\n         * We derive a fixed length AES key with uniform entropy from a provided\r\n         * passphrase. This is done with PBKDF2/HMAC256 with a fixed count\r\n         * of iterations and a provided salt.\r\n         *\r\n         * @param password passphrase to derive key from\r\n         * @param salt     salt for PBKDF2 if possible use a per-key salt, alternatively\r\n         *                 a random constant salt is better than no salt.\r\n         * @param keyLen   number of key bits to output\r\n         * @return a SecretKey for AES derived from a passphrase\r\n         * @throws NoSuchAlgorithmException\r\n         * @throws InvalidKeySpecException\r\n         */\r\n        private SecretKey deriveAesKey(char[] password, byte[] salt, int keyLen)\r\n                throws NoSuchAlgorithmException, InvalidKeySpecException {\r\n    \r\n            if (password == null || salt == null || keyLen &lt;= 0) {\r\n                throw new IllegalArgumentException();\r\n            }\r\n            SecretKeyFactory factory = SecretKeyFactory.getInstance(&quot;PBKDF2WithHmacSHA256&quot;);\r\n            KeySpec spec = new PBEKeySpec(password, salt, PBKDF2_ITERATIONS, keyLen);\r\n            SecretKey pbeKey = factory.generateSecret(spec);\r\n    \r\n            return new SecretKeySpec(pbeKey.getEncoded(), &quot;AES&quot;);\r\n        }\r\n    \r\n        /**\r\n         * Helper to convert hex strings to bytes.\r\n         * &lt;p&gt;\r\n         * May be used to read bytes from constants.\r\n         */\r\n        private static byte[] hexStringToByteArray(String s) {\r\n    \r\n            if (s == null) {\r\n                throw new IllegalArgumentException(&quot;Provided `null` string.&quot;);\r\n            }\r\n    \r\n            int len = s.length();\r\n            if (len % 2 != 0) {\r\n                throw new IllegalArgumentException(&quot;Invalid length: &quot; + len);\r\n            }\r\n    \r\n            byte[] data = new byte[len / 2];\r\n            for (int i = 0; i &lt; len - 1; i += 2) {\r\n                byte b = (byte) toHexDigit(s, i);\r\n                b &lt;&lt;= 4;\r\n                b |= toHexDigit(s, i + 1);\r\n                data[i / 2] = b;\r\n            }\r\n            return data;\r\n        }\r\n    \r\n        private static int toHexDigit(String s, int pos) {\r\n            int d = Character.digit(s.charAt(pos), 16);\r\n            if (d &lt; 0) {\r\n                throw new IllegalArgumentException(&quot;Cannot parse hex digit: &quot; + s + &quot; at &quot; + pos);\r\n            }\r\n            return d;\r\n        }\r\n    \r\n        private static String byteArrayToHexString(byte[] bytes) {\r\n            StringBuilder sb = new StringBuilder();\r\n            for (byte b : bytes) {\r\n                sb.append(String.format(&quot;%02X&quot;, b));\r\n            }\r\n            return sb.toString();\r\n        }\r\n    \r\n        public class CryptoException extends Exception {\r\n    \r\n            public CryptoException(Throwable cause) {\r\n                super(cause);\r\n            }\r\n        }\r\n    }\r\n\r\nHere the entire project with a nice CLI: https://github.com/trichner/tcrypt\r\n\r\n**Edit:** now with appropriate `encryptString` and `decryptString`\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Ciphertext_indistinguishability","title":"How to encrypt String in Java","body":"<p>Here a simple solution with only <code>java.*</code> and <code>javax.crypto.*</code> dependencies for encryption of bytes providing <strong>confidentiality</strong> and <strong>integrity</strong>. It shall be <a href=\"https://en.wikipedia.org/wiki/Ciphertext_indistinguishability\" rel=\"noreferrer\">indistinguishable under a choosen plaintext attack</a> for short messages in the order of kilobytes.</p>\n\n<p>It uses <code>AES</code> in the <code>GCM</code> mode with no padding, a 128bit key is derived by <code>PBKDF2</code> with lots of iterations and a static salt from the provided password. This makes sure brute forcing passwords is hard and distributes the entropy over the entire key.</p>\n\n<p>A random initialisation vector (IV) is generated and will be prepended to the ciphertext. Furthermore, the static byte <code>0x01</code> is prepended as the first byte as a 'version'.</p>\n\n<p>The entire message goes into the message authentication code (MAC) generated by <code>AES/GCM</code>.</p>\n\n<p>Here it goes, zero external dependencies encryption class providing <strong>confidentiality</strong> and <strong>integrity</strong>:</p>\n\n<pre><code>package ch.n1b.tcrypt.utils;\n\nimport java.nio.charset.StandardCharsets;\nimport java.security.InvalidAlgorithmParameterException;\nimport java.security.InvalidKeyException;\nimport java.security.NoSuchAlgorithmException;\nimport java.security.NoSuchProviderException;\nimport java.security.SecureRandom;\nimport java.security.spec.InvalidKeySpecException;\nimport java.security.spec.KeySpec;\n\nimport javax.crypto.*;\nimport javax.crypto.spec.GCMParameterSpec;\nimport javax.crypto.spec.PBEKeySpec;\nimport javax.crypto.spec.SecretKeySpec;\n\n/**\n * This class implements AES-GCM symmetric key encryption with a PBKDF2 derived password.\n * It provides confidentiality and integrity of the plaintext.\n *\n * @author Thomas Richner\n * @created 2018-12-07\n */\npublic class AesGcmCryptor {\n\n    // https://crypto.stackexchange.com/questions/26783/ciphertext-and-tag-size-and-iv-transmission-with-aes-in-gcm-mode\n    private static final byte VERSION_BYTE = 0x01;\n    private static final int VERSION_BYTE_LENGTH = 1;\n    private static final int AES_KEY_BITS_LENGTH = 128;\n\n\n    // fixed AES-GCM constants\n    private static final String GCM_CRYPTO_NAME = \"AES/GCM/NoPadding\";\n    private static final int GCM_IV_BYTES_LENGTH = 12;\n    private static final int GCM_TAG_BYTES_LENGTH = 16;\n\n    // can be tweaked, more iterations = more compute intensive to brute-force password\n    private static final int PBKDF2_ITERATIONS = 1024;\n\n    // protects against rainbow tables\n    private static final byte[] PBKDF2_SALT = hexStringToByteArray(\"4d3fe0d71d2abd2828e7a3196ea450d4\");\n\n    public String encryptString(char[] password, String plaintext) throws CryptoException {\n\n        byte[] encrypted = null;\n        try {\n            encrypted = encrypt(password, plaintext.getBytes(StandardCharsets.UTF_8));\n        } catch (NoSuchAlgorithmException | NoSuchPaddingException | InvalidKeyException //\n                | InvalidAlgorithmParameterException | IllegalBlockSizeException | BadPaddingException //\n                | InvalidKeySpecException e) {\n            throw new CryptoException(e);\n        }\n        return byteArrayToHexString(encrypted);\n    }\n\n    public String decryptString(char[] password, String ciphertext)\n            throws CryptoException {\n\n        byte[] ct = hexStringToByteArray(ciphertext);\n        byte[] plaintext = null;\n        try {\n            plaintext = decrypt(password, ct);\n        } catch (AEADBadTagException e) {\n            throw new CryptoException(e);\n        } catch ( //\n                NoSuchPaddingException | NoSuchAlgorithmException | InvalidKeySpecException //\n                        | InvalidKeyException | InvalidAlgorithmParameterException | IllegalBlockSizeException //\n                        | BadPaddingException e) {\n            throw new CryptoException(e);\n        }\n        return new String(plaintext, StandardCharsets.UTF_8);\n    }\n\n    /**\n     * Decrypts an AES-GCM encrypted ciphertext and is\n     * the reverse operation of {@link AesGcmCryptor#encrypt(char[], byte[])}\n     *\n     * @param password   passphrase for decryption\n     * @param ciphertext encrypted bytes\n     * @return plaintext bytes\n     * @throws NoSuchPaddingException\n     * @throws NoSuchAlgorithmException\n     * @throws NoSuchProviderException\n     * @throws InvalidKeySpecException\n     * @throws InvalidAlgorithmParameterException\n     * @throws InvalidKeyException\n     * @throws BadPaddingException\n     * @throws IllegalBlockSizeException\n     * @throws IllegalArgumentException           if the length or format of the ciphertext is bad\n     * @throws CryptoException\n     */\n    public byte[] decrypt(char[] password, byte[] ciphertext)\n            throws NoSuchPaddingException, NoSuchAlgorithmException, InvalidKeySpecException,\n            InvalidAlgorithmParameterException, InvalidKeyException, BadPaddingException, IllegalBlockSizeException {\n\n        // input validation\n        if (ciphertext == null) {\n            throw new IllegalArgumentException(\"ciphertext cannot be null\");\n        }\n\n        if (ciphertext.length &lt;= VERSION_BYTE_LENGTH + GCM_IV_BYTES_LENGTH + GCM_TAG_BYTES_LENGTH) {\n            throw new IllegalArgumentException(\"ciphertext too short\");\n        }\n\n        // the version must match, we don't decrypt other versions\n        if (ciphertext[0] != VERSION_BYTE) {\n            throw new IllegalArgumentException(\"wrong version: \" + ciphertext[0]);\n        }\n\n        // input seems legit, lets decrypt and check integrity\n\n        // derive key from password\n        SecretKey key = deriveAesKey(password, PBKDF2_SALT, AES_KEY_BITS_LENGTH);\n\n        // init cipher\n        Cipher cipher = Cipher.getInstance(GCM_CRYPTO_NAME);\n        GCMParameterSpec params = new GCMParameterSpec(GCM_TAG_BYTES_LENGTH * 8,\n                ciphertext,\n                VERSION_BYTE_LENGTH,\n                GCM_IV_BYTES_LENGTH\n        );\n        cipher.init(Cipher.DECRYPT_MODE, key, params);\n\n        final int ciphertextOffset = VERSION_BYTE_LENGTH + GCM_IV_BYTES_LENGTH;\n\n        // add version and IV to MAC\n        cipher.updateAAD(ciphertext, 0, ciphertextOffset);\n\n        // decipher and check MAC\n        return cipher.doFinal(ciphertext, ciphertextOffset, ciphertext.length - ciphertextOffset);\n    }\n\n    /**\n     * Encrypts a plaintext with a password.\n     * &lt;p&gt;\n     * The encryption provides the following security properties:\n     * Confidentiality + Integrity\n     * &lt;p&gt;\n     * This is achieved my using the AES-GCM AEAD blockmode with a randomized IV.\n     * &lt;p&gt;\n     * The tag is calculated over the version byte, the IV as well as the ciphertext.\n     * &lt;p&gt;\n     * Finally the encrypted bytes have the following structure:\n     * &lt;pre&gt;\n     *          +-------------------------------------------------------------------+\n     *          |         |               |                             |           |\n     *          | version | IV bytes      | ciphertext bytes            |    tag    |\n     *          |         |               |                             |           |\n     *          +-------------------------------------------------------------------+\n     * Length:     1B        12B            len(plaintext) bytes            16B\n     * &lt;/pre&gt;\n     * Note: There is no padding required for AES-GCM, but this also implies that\n     * the exact plaintext length is revealed.\n     *\n     * @param password  password to use for encryption\n     * @param plaintext plaintext to encrypt\n     * @throws NoSuchAlgorithmException\n     * @throws NoSuchProviderException\n     * @throws NoSuchPaddingException\n     * @throws InvalidAlgorithmParameterException\n     * @throws InvalidKeyException\n     * @throws BadPaddingException\n     * @throws IllegalBlockSizeException\n     * @throws InvalidKeySpecException\n     */\n    public byte[] encrypt(char[] password, byte[] plaintext)\n            throws NoSuchAlgorithmException, NoSuchPaddingException,\n            InvalidAlgorithmParameterException, InvalidKeyException, BadPaddingException, IllegalBlockSizeException,\n            InvalidKeySpecException {\n\n        // initialise random and generate IV (initialisation vector)\n        SecretKey key = deriveAesKey(password, PBKDF2_SALT, AES_KEY_BITS_LENGTH);\n        final byte[] iv = new byte[GCM_IV_BYTES_LENGTH];\n        SecureRandom random = SecureRandom.getInstanceStrong();\n        random.nextBytes(iv);\n\n        // encrypt\n        Cipher cipher = Cipher.getInstance(GCM_CRYPTO_NAME);\n        GCMParameterSpec spec = new GCMParameterSpec(GCM_TAG_BYTES_LENGTH * 8, iv);\n        cipher.init(Cipher.ENCRYPT_MODE, key, spec);\n\n        // add IV to MAC\n        final byte[] versionBytes = new byte[]{VERSION_BYTE};\n        cipher.updateAAD(versionBytes);\n        cipher.updateAAD(iv);\n\n        // encrypt and MAC plaintext\n        byte[] ciphertext = cipher.doFinal(plaintext);\n\n        // prepend VERSION and IV to ciphertext\n        byte[] encrypted = new byte[1 + GCM_IV_BYTES_LENGTH + ciphertext.length];\n        int pos = 0;\n        System.arraycopy(versionBytes, 0, encrypted, 0, VERSION_BYTE_LENGTH);\n        pos += VERSION_BYTE_LENGTH;\n        System.arraycopy(iv, 0, encrypted, pos, iv.length);\n        pos += iv.length;\n        System.arraycopy(ciphertext, 0, encrypted, pos, ciphertext.length);\n\n        return encrypted;\n    }\n\n    /**\n     * We derive a fixed length AES key with uniform entropy from a provided\n     * passphrase. This is done with PBKDF2/HMAC256 with a fixed count\n     * of iterations and a provided salt.\n     *\n     * @param password passphrase to derive key from\n     * @param salt     salt for PBKDF2 if possible use a per-key salt, alternatively\n     *                 a random constant salt is better than no salt.\n     * @param keyLen   number of key bits to output\n     * @return a SecretKey for AES derived from a passphrase\n     * @throws NoSuchAlgorithmException\n     * @throws InvalidKeySpecException\n     */\n    private SecretKey deriveAesKey(char[] password, byte[] salt, int keyLen)\n            throws NoSuchAlgorithmException, InvalidKeySpecException {\n\n        if (password == null || salt == null || keyLen &lt;= 0) {\n            throw new IllegalArgumentException();\n        }\n        SecretKeyFactory factory = SecretKeyFactory.getInstance(\"PBKDF2WithHmacSHA256\");\n        KeySpec spec = new PBEKeySpec(password, salt, PBKDF2_ITERATIONS, keyLen);\n        SecretKey pbeKey = factory.generateSecret(spec);\n\n        return new SecretKeySpec(pbeKey.getEncoded(), \"AES\");\n    }\n\n    /**\n     * Helper to convert hex strings to bytes.\n     * &lt;p&gt;\n     * May be used to read bytes from constants.\n     */\n    private static byte[] hexStringToByteArray(String s) {\n\n        if (s == null) {\n            throw new IllegalArgumentException(\"Provided `null` string.\");\n        }\n\n        int len = s.length();\n        if (len % 2 != 0) {\n            throw new IllegalArgumentException(\"Invalid length: \" + len);\n        }\n\n        byte[] data = new byte[len / 2];\n        for (int i = 0; i &lt; len - 1; i += 2) {\n            byte b = (byte) toHexDigit(s, i);\n            b &lt;&lt;= 4;\n            b |= toHexDigit(s, i + 1);\n            data[i / 2] = b;\n        }\n        return data;\n    }\n\n    private static int toHexDigit(String s, int pos) {\n        int d = Character.digit(s.charAt(pos), 16);\n        if (d &lt; 0) {\n            throw new IllegalArgumentException(\"Cannot parse hex digit: \" + s + \" at \" + pos);\n        }\n        return d;\n    }\n\n    private static String byteArrayToHexString(byte[] bytes) {\n        StringBuilder sb = new StringBuilder();\n        for (byte b : bytes) {\n            sb.append(String.format(\"%02X\", b));\n        }\n        return sb.toString();\n    }\n\n    public class CryptoException extends Exception {\n\n        public CryptoException(Throwable cause) {\n            super(cause);\n        }\n    }\n}\n</code></pre>\n\n<p>Here the entire project with a nice CLI: <a href=\"https://github.com/trichner/tcrypt\" rel=\"noreferrer\">https://github.com/trichner/tcrypt</a></p>\n\n<p><strong>Edit:</strong> now with appropriate <code>encryptString</code> and <code>decryptString</code></p>\n"},{"tags":[],"owner":{"account_id":10553380,"reputation":2165,"user_id":10324087,"display_name":"viveknaskar"},"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1536246630,"creation_date":1536246630,"answer_id":52207201,"question_id":1205135,"body_markdown":"Like many of the guys have already told, you should use a standard cypher that is overly used like DES or AES. \r\n\r\nA simple example of how you can encrypt and decrypt a string in java using **AES**.\r\n\r\n    import org.apache.commons.codec.binary.Base64;\r\n    \r\n    import javax.crypto.Cipher;\r\n    import javax.crypto.spec.IvParameterSpec;\r\n    import javax.crypto.spec.SecretKeySpec;\r\n    \r\n    public class EncryptorDemo {\r\n    \r\n        public static String encrypt(String key, String randomVector, String value) {\r\n            try {\r\n                IvParameterSpec iv = new IvParameterSpec(randomVector.getBytes(&quot;UTF-8&quot;));\r\n                SecretKeySpec skeySpec = new SecretKeySpec(key.getBytes(&quot;UTF-8&quot;), &quot;AES&quot;);\r\n                Cipher cipher = Cipher.getInstance(&quot;AES/CBC/PKCS5PADDING&quot;);\r\n                cipher.init(Cipher.ENCRYPT_MODE, skeySpec, iv);\r\n                byte[] encrypted = cipher.doFinal(value.getBytes());\r\n                System.out.println(&quot;encrypted text: &quot;  + Base64.encodeBase64String(encrypted));\r\n                return Base64.encodeBase64String(encrypted);\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n            return null;\r\n        }\r\n    \r\n        public static String decrypt(String key, String randomVector, String encrypted) {\r\n            try {\r\n                IvParameterSpec iv = new IvParameterSpec(randomVector.getBytes(&quot;UTF-8&quot;));\r\n                SecretKeySpec skeySpec = new SecretKeySpec(key.getBytes(&quot;UTF-8&quot;), &quot;AES&quot;);\r\n                Cipher cipher = Cipher.getInstance(&quot;AES/CBC/PKCS5PADDING&quot;);\r\n                cipher.init(Cipher.DECRYPT_MODE, skeySpec, iv);\r\n                byte[] originalText = cipher.doFinal(Base64.decodeBase64(encrypted));\r\n                System.out.println(&quot;decrypted text: &quot;  + new String(originalText));\r\n                return new String(originalText);\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n            return null;\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            String key = &quot;JavasEncryptDemo&quot;; // 128 bit key\r\n            String randomVector = &quot;RandomJavaVector&quot;; // 16 bytes IV\r\n            decrypt(key, randomVector, encrypt(key, randomVector, &quot;Anything you want to encrypt!&quot;));\r\n    \r\n        }\r\n    }","title":"How to encrypt String in Java","body":"<p>Like many of the guys have already told, you should use a standard cypher that is overly used like DES or AES. </p>\n\n<p>A simple example of how you can encrypt and decrypt a string in java using <strong>AES</strong>.</p>\n\n<pre><code>import org.apache.commons.codec.binary.Base64;\n\nimport javax.crypto.Cipher;\nimport javax.crypto.spec.IvParameterSpec;\nimport javax.crypto.spec.SecretKeySpec;\n\npublic class EncryptorDemo {\n\n    public static String encrypt(String key, String randomVector, String value) {\n        try {\n            IvParameterSpec iv = new IvParameterSpec(randomVector.getBytes(\"UTF-8\"));\n            SecretKeySpec skeySpec = new SecretKeySpec(key.getBytes(\"UTF-8\"), \"AES\");\n            Cipher cipher = Cipher.getInstance(\"AES/CBC/PKCS5PADDING\");\n            cipher.init(Cipher.ENCRYPT_MODE, skeySpec, iv);\n            byte[] encrypted = cipher.doFinal(value.getBytes());\n            System.out.println(\"encrypted text: \"  + Base64.encodeBase64String(encrypted));\n            return Base64.encodeBase64String(encrypted);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        return null;\n    }\n\n    public static String decrypt(String key, String randomVector, String encrypted) {\n        try {\n            IvParameterSpec iv = new IvParameterSpec(randomVector.getBytes(\"UTF-8\"));\n            SecretKeySpec skeySpec = new SecretKeySpec(key.getBytes(\"UTF-8\"), \"AES\");\n            Cipher cipher = Cipher.getInstance(\"AES/CBC/PKCS5PADDING\");\n            cipher.init(Cipher.DECRYPT_MODE, skeySpec, iv);\n            byte[] originalText = cipher.doFinal(Base64.decodeBase64(encrypted));\n            System.out.println(\"decrypted text: \"  + new String(originalText));\n            return new String(originalText);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        return null;\n    }\n\n    public static void main(String[] args) {\n        String key = \"JavasEncryptDemo\"; // 128 bit key\n        String randomVector = \"RandomJavaVector\"; // 16 bytes IV\n        decrypt(key, randomVector, encrypt(key, randomVector, \"Anything you want to encrypt!\"));\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1282025,"reputation":8750,"user_id":1235935,"accept_rate":88,"display_name":"Saptarshi Basu"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1576108182,"creation_date":1540581942,"answer_id":53015144,"question_id":1205135,"body_markdown":"**Update on 12-DEC-2019**\r\n\r\nUnlike some other modes like CBC, GCM mode does not require the IV to be unpredictable. The only requirement is that the IV has to be unique for each invocation with a given key. If it repeats once for a given key, security can be compromised. An easy way to achieve this is to use a random IV from a strong pseudo random number generator as shown below.\r\n\r\nUsing a sequence or timestamp as IV is also possible, but it may not be as trivial as it may sound. For example, if the system does not correctly keep track of the sequences already used as IV in a persistent store, an invocation may repeat an IV after a system reboot. Likewise, there is no perfect clock. Computer clock readjusts etc.\r\n\r\nAlso, the key should be rotated after every 2^32 invocations. For further details on the IV requirement, refer to this [answer][1] and the [NIST recommendations][2].\r\n\r\n---\r\n\r\n\r\nThis is the encryption &amp; decryption code I just wrote in Java 8 considering the following points. Hope someone would find this useful:\r\n\r\n 1. **Encryption Algorithm**: Block cipher AES with 256 bits key is considered secure enough. To encrypt a complete message, a mode needs to be selected. Authenticated encryption (which provides both confidentiality and integrity) is recommended. GCM, CCM and EAX are most commonly used authenticated encryption modes. GCM is usually preferred and it performs well in Intel architectures which provide dedicated instructions for GCM.  All these three modes are CTR-based (counter-based) modes and therefore they do not need padding. As a result they are not vulnerable to padding related attacks\r\n\r\n 2. An initialization Vector (IV) is required for GCM. The IV is not a secret. The only requirement being it has to be random or unpredictable. In Java, the `SecuredRandom` class is meant to produce cryptographically strong pseudo random numbers. The pseudo-random number generation algorithm can be specified in the `getInstance()` method. However, since Java 8, the recommended way is to use `getInstanceStrong()` method which will use the strongest algorithm configured and provided by the `Provider`\r\n\r\n 3. NIST recommends 96 bit IV for GCM to promote interoperability, efficiency, and simplicity of design\r\n\r\n 4. To ensure additional security, in the following implementation `SecureRandom` is re-seeded after producing every 2^16 bytes of pseudo random byte generation\r\n\r\n 5. The recipient needs to know the IV to be able to decrypt the cipher text. Therefore the IV needs to be transferred along with the cipher text. Some implementations send the IV as AD (Associated Data) which means that the authentication tag will be calculated on both the cipher text and the IV. However, that is not required. The IV can be simply pre-pended with the cipher text because if the IV is changed during transmission due to a deliberate attack or network/file system error, the authentication tag validation will fail anyway\r\n\r\n 6. Strings should not be used to hold the clear text message or the key as Strings are immutable and thus we cannot clear them after use. These uncleared Strings then linger in the memory and may show up in a heap dump. For the same reason, the client calling these encryption or decryption methods should clear all the variables or arrays holding the message or the key after they are no longer needed. \r\n\r\n 7. No provider is hard coded in the code following the general recommendations\r\n\r\n 8. Finally for transmission over network or storage, the key or the cipher text should be encoded using Base64 encoding. The details of Base64 can be found [here][3]. The Java 8 approach should be followed\r\n\r\nByte arrays can be cleared using:\r\n\r\n    Arrays.fill(clearTextMessageByteArray, Byte.MIN_VALUE);\r\n\r\nHowever, as of Java 8, there is no easy way to clear `SecretKeyspec` and `SecretKey` as the implementations of these two interfaces do not seem to have implemented the method `destroy()` of the interface `Destroyable`. In the following code, a separate method is written to clear the `SecretKeySpec` and `SecretKey` using reflection.\r\n\r\nKey should be generated using one of the two approaches mentioned below.\r\n\r\nNote that keys are secrets like passwords, but unlike passwords which are meant for human use, keys are meant to be used by cryptographic algorithms and hence should be generated using the above way only.\r\n\r\n\tpackage com.sapbasu.javastudy;\r\n\r\n\timport java.lang.reflect.Field;\r\n\timport java.security.NoSuchAlgorithmException;\r\n\timport java.security.SecureRandom;\r\n\timport java.util.Arrays;\r\n\timport java.util.List;\r\n\timport java.util.Objects;\r\n\timport java.util.Optional;\r\n\r\n\timport javax.crypto.Cipher;\r\n\timport javax.crypto.spec.GCMParameterSpec;\r\n\timport javax.crypto.spec.SecretKeySpec;\r\n\r\n\tpublic class Crypto {\r\n\t  \r\n\t  private static final int AUTH_TAG_SIZE = 128; // bits\r\n\t  \r\n\t  // NIST recommendation: &quot;For IVs, it is recommended that implementations\r\n\t  // restrict support to the length of 96 bits, to\r\n\t  // promote interoperability, efficiency, and simplicity of design.&quot;\r\n\t  private static final int IV_LEN = 12; // bytes\r\n\t  \r\n\t  // number of random number bytes generated before re-seeding\r\n\t  private static final double PRNG_RESEED_INTERVAL = Math.pow(2, 16);\r\n\t  \r\n\t  private static final String ENCRYPT_ALGO = &quot;AES/GCM/NoPadding&quot;;\r\n\t  \r\n\t  private static final List&lt;Integer&gt; ALLOWED_KEY_SIZES = Arrays\r\n\t\t  .asList(new Integer[] {128, 192, 256}); // bits\r\n\t  \r\n\t  private static SecureRandom prng;\r\n\t  \r\n\t  // Used to keep track of random number bytes generated by PRNG\r\n\t  // (for the purpose of re-seeding)\r\n\t  private static int bytesGenerated = 0;\r\n\t  \r\n\t  public byte[] encrypt(byte[] input, SecretKeySpec key) throws Exception {\r\n\t\t\r\n\t\tObjects.requireNonNull(input, &quot;Input message cannot be null&quot;);\r\n\t\tObjects.requireNonNull(key, &quot;key cannot be null&quot;);\r\n\t\t\r\n\t\tif (input.length == 0) {\r\n\t\t  throw new IllegalArgumentException(&quot;Length of message cannot be 0&quot;);\r\n\t\t}\r\n\t\t\r\n\t\tif (!ALLOWED_KEY_SIZES.contains(key.getEncoded().length * 8)) {\r\n\t\t  throw new IllegalArgumentException(&quot;Size of key must be 128, 192 or 256&quot;);\r\n\t\t}\r\n\t\t\r\n\t\tCipher cipher = Cipher.getInstance(ENCRYPT_ALGO);\r\n\t\t\r\n\t\tbyte[] iv = getIV(IV_LEN);\r\n\t\t\r\n\t\tGCMParameterSpec gcmParamSpec = new GCMParameterSpec(AUTH_TAG_SIZE, iv);\r\n\t\t\r\n\t\tcipher.init(Cipher.ENCRYPT_MODE, key, gcmParamSpec);\r\n\t\tbyte[] messageCipher = cipher.doFinal(input);\r\n\t\t\r\n\t\t// Prepend the IV with the message cipher\r\n\t\tbyte[] cipherText = new byte[messageCipher.length + IV_LEN];\r\n\t\tSystem.arraycopy(iv, 0, cipherText, 0, IV_LEN);\r\n\t\tSystem.arraycopy(messageCipher, 0, cipherText, IV_LEN,\r\n\t\t\tmessageCipher.length);\r\n\t\treturn cipherText;\r\n\t  }\r\n\t  \r\n\t  public byte[] decrypt(byte[] input, SecretKeySpec key) throws Exception {\r\n\t\tObjects.requireNonNull(input, &quot;Input message cannot be null&quot;);\r\n\t\tObjects.requireNonNull(key, &quot;key cannot be null&quot;);\r\n\t\t\r\n\t\tif (input.length == 0) {\r\n\t\t  throw new IllegalArgumentException(&quot;Input array cannot be empty&quot;);\r\n\t\t}\r\n\t\t\r\n\t\tbyte[] iv = new byte[IV_LEN];\r\n\t\tSystem.arraycopy(input, 0, iv, 0, IV_LEN);\r\n\t\t\r\n\t\tbyte[] messageCipher = new byte[input.length - IV_LEN];\r\n\t\tSystem.arraycopy(input, IV_LEN, messageCipher, 0, input.length - IV_LEN);\r\n\t\t\r\n\t\tGCMParameterSpec gcmParamSpec = new GCMParameterSpec(AUTH_TAG_SIZE, iv);\r\n\t\t\r\n\t\tCipher cipher = Cipher.getInstance(ENCRYPT_ALGO);\r\n\t\tcipher.init(Cipher.DECRYPT_MODE, key, gcmParamSpec);\r\n\t\t\r\n\t\treturn cipher.doFinal(messageCipher);\r\n\t  }\r\n\t  \r\n\t  public byte[] getIV(int bytesNum) {\r\n\t\t\r\n\t\tif (bytesNum &lt; 1) throw new IllegalArgumentException(\r\n\t\t\t&quot;Number of bytes must be greater than 0&quot;);\r\n\t\t\r\n\t\tbyte[] iv = new byte[bytesNum];\r\n\t\t\r\n\t\tprng = Optional.ofNullable(prng).orElseGet(() -&gt; {\r\n\t\t  try {\r\n\t\t\tprng = SecureRandom.getInstanceStrong();\r\n\t\t  } catch (NoSuchAlgorithmException e) {\r\n\t\t\tthrow new RuntimeException(&quot;Wrong algorithm name&quot;, e);\r\n\t\t  }\r\n\t\t  return prng;\r\n\t\t});\r\n\t\t\r\n\t\tif (bytesGenerated &gt; PRNG_RESEED_INTERVAL || bytesGenerated == 0) {\r\n\t\t  prng.setSeed(prng.generateSeed(bytesNum));\r\n\t\t  bytesGenerated = 0;\r\n\t\t}\r\n\t\t\r\n\t\tprng.nextBytes(iv);\r\n\t\tbytesGenerated = bytesGenerated + bytesNum;\r\n\t\t\r\n\t\treturn iv;\r\n\t  }\r\n\t  \r\n\t  private static void clearSecret(Destroyable key)\r\n\t\t  throws IllegalArgumentException, IllegalAccessException,\r\n\t\t  NoSuchFieldException, SecurityException {\r\n\t\tField keyField = key.getClass().getDeclaredField(&quot;key&quot;);\r\n\t\tkeyField.setAccessible(true);\r\n\t\tbyte[] encodedKey = (byte[]) keyField.get(key);\r\n\t\tArrays.fill(encodedKey, Byte.MIN_VALUE);\r\n\t  }\r\n\t}\r\n\r\nThe encryption key can be generated primarily in two ways:\r\n\r\n - **Without any password**\r\n\r\n        KeyGenerator keyGen = KeyGenerator.getInstance(&quot;AES&quot;);\r\n        keyGen.init(KEY_LEN, SecureRandom.getInstanceStrong());\r\n        SecretKey secretKey = keyGen.generateKey();\r\n        SecretKeySpec secretKeySpec = new SecretKeySpec(secretKey.getEncoded(),\r\n            &quot;AES&quot;);\r\n        Crypto.clearSecret(secretKey);\r\n        // After encryption or decryption with key\r\n        Crypto.clearSecret(secretKeySpec);\r\n\r\n - **With password**\r\n\r\n        SecureRandom random = SecureRandom.getInstanceStrong();\r\n        byte[] salt = new byte[32];\r\n        random.nextBytes(salt);\r\n        PBEKeySpec keySpec = new PBEKeySpec(password, salt, iterations, \r\n           keyLength);\r\n        SecretKeyFactory keyFactory = \r\n            SecretKeyFactory.getInstance(&quot;PBKDF2WithHmacSHA256&quot;);\r\n        SecretKey secretKey = keyFactory.generateSecret(keySpec);\r\n        SecretKeySpec secretKeySpec = new SecretKeySpec(secretKey.getEncoded(),\r\n            &quot;AES&quot;);\r\n        Crypto.clearSecret(secretKey);\r\n        // After encryption or decryption with key\r\n        Crypto.clearSecret(secretKeySpec);\r\n\r\n\r\n---\r\nUpdate Based on Comments\r\n========================\r\n\r\nAs pointed out by @MaartenBodewes, my answer did not handle any `String` as is required by the question. Therefore, I&#39;ll make an attempt to fill that gap just in case someone stumbles upon this answer and leaves wondering about handling `String`.\r\n\r\nAs indicated earlier in the answer, handling sensitive information in a `String` is, in general, not a good idea because `String` is immutable and thus we cannot clear it off after use. And as we know, even when a `String` doesn&#39;t have a strong reference, the garbage collector does not immediately rush to remove it off heap. Thus, the `String` continues to be around in the memory for an unknown window of time even though it is not accessible to the program. The issue with that is, a heap dump during that time frame would reveal the sensitive information. Therefore, it is always better to handle all sensitive information in a byte array or char array and then fill the array with 0s once their purpose is served.\r\n\r\nHowever, with all that knowledge, if we still end up in a situation where the sensitive information to be encrypted is in a `String`, we first need to convert it into a byte array and invoke the `encrypt` and `decrypt` functions introduced above. (The other input key can be generated using the code snippet provided above).\r\n\r\nA `String` can be converted into bytes in the following way:\r\n\r\n    byte[] inputBytes = inputString.getBytes(StandardCharsets.UTF_8);\r\n\r\nAs of Java 8, `String` is internally stored in heap with `UTF-16` encoding. However, we have used `UTF-8` here as it usually takes less space than `UTF-16`, especially for ASCII characters.\r\n\r\nLikewise, the encrypted byte array can also be converted into a String as below:\r\n\r\n    String encryptedString = new String(encryptedBytes, StandardCharsets.UTF_8);\r\n\r\n\r\n  [1]: https://crypto.stackexchange.com/a/58494/62426\r\n  [2]: https://nvlpubs.nist.gov/nistpubs/Legacy/SP/nistspecialpublication800-38d.pdf\r\n  [3]: https://stackoverflow.com/a/13109632/1235935","title":"How to encrypt String in Java","body":"<p><strong>Update on 12-DEC-2019</strong></p>\n\n<p>Unlike some other modes like CBC, GCM mode does not require the IV to be unpredictable. The only requirement is that the IV has to be unique for each invocation with a given key. If it repeats once for a given key, security can be compromised. An easy way to achieve this is to use a random IV from a strong pseudo random number generator as shown below.</p>\n\n<p>Using a sequence or timestamp as IV is also possible, but it may not be as trivial as it may sound. For example, if the system does not correctly keep track of the sequences already used as IV in a persistent store, an invocation may repeat an IV after a system reboot. Likewise, there is no perfect clock. Computer clock readjusts etc.</p>\n\n<p>Also, the key should be rotated after every 2^32 invocations. For further details on the IV requirement, refer to this <a href=\"https://crypto.stackexchange.com/a/58494/62426\">answer</a> and the <a href=\"https://nvlpubs.nist.gov/nistpubs/Legacy/SP/nistspecialpublication800-38d.pdf\" rel=\"noreferrer\">NIST recommendations</a>.</p>\n\n<hr>\n\n<p>This is the encryption &amp; decryption code I just wrote in Java 8 considering the following points. Hope someone would find this useful:</p>\n\n<ol>\n<li><p><strong>Encryption Algorithm</strong>: Block cipher AES with 256 bits key is considered secure enough. To encrypt a complete message, a mode needs to be selected. Authenticated encryption (which provides both confidentiality and integrity) is recommended. GCM, CCM and EAX are most commonly used authenticated encryption modes. GCM is usually preferred and it performs well in Intel architectures which provide dedicated instructions for GCM.  All these three modes are CTR-based (counter-based) modes and therefore they do not need padding. As a result they are not vulnerable to padding related attacks</p></li>\n<li><p>An initialization Vector (IV) is required for GCM. The IV is not a secret. The only requirement being it has to be random or unpredictable. In Java, the <code>SecuredRandom</code> class is meant to produce cryptographically strong pseudo random numbers. The pseudo-random number generation algorithm can be specified in the <code>getInstance()</code> method. However, since Java 8, the recommended way is to use <code>getInstanceStrong()</code> method which will use the strongest algorithm configured and provided by the <code>Provider</code></p></li>\n<li><p>NIST recommends 96 bit IV for GCM to promote interoperability, efficiency, and simplicity of design</p></li>\n<li><p>To ensure additional security, in the following implementation <code>SecureRandom</code> is re-seeded after producing every 2^16 bytes of pseudo random byte generation</p></li>\n<li><p>The recipient needs to know the IV to be able to decrypt the cipher text. Therefore the IV needs to be transferred along with the cipher text. Some implementations send the IV as AD (Associated Data) which means that the authentication tag will be calculated on both the cipher text and the IV. However, that is not required. The IV can be simply pre-pended with the cipher text because if the IV is changed during transmission due to a deliberate attack or network/file system error, the authentication tag validation will fail anyway</p></li>\n<li><p>Strings should not be used to hold the clear text message or the key as Strings are immutable and thus we cannot clear them after use. These uncleared Strings then linger in the memory and may show up in a heap dump. For the same reason, the client calling these encryption or decryption methods should clear all the variables or arrays holding the message or the key after they are no longer needed. </p></li>\n<li><p>No provider is hard coded in the code following the general recommendations</p></li>\n<li><p>Finally for transmission over network or storage, the key or the cipher text should be encoded using Base64 encoding. The details of Base64 can be found <a href=\"https://stackoverflow.com/a/13109632/1235935\">here</a>. The Java 8 approach should be followed</p></li>\n</ol>\n\n<p>Byte arrays can be cleared using:</p>\n\n<pre><code>Arrays.fill(clearTextMessageByteArray, Byte.MIN_VALUE);\n</code></pre>\n\n<p>However, as of Java 8, there is no easy way to clear <code>SecretKeyspec</code> and <code>SecretKey</code> as the implementations of these two interfaces do not seem to have implemented the method <code>destroy()</code> of the interface <code>Destroyable</code>. In the following code, a separate method is written to clear the <code>SecretKeySpec</code> and <code>SecretKey</code> using reflection.</p>\n\n<p>Key should be generated using one of the two approaches mentioned below.</p>\n\n<p>Note that keys are secrets like passwords, but unlike passwords which are meant for human use, keys are meant to be used by cryptographic algorithms and hence should be generated using the above way only.</p>\n\n<pre><code>package com.sapbasu.javastudy;\n\nimport java.lang.reflect.Field;\nimport java.security.NoSuchAlgorithmException;\nimport java.security.SecureRandom;\nimport java.util.Arrays;\nimport java.util.List;\nimport java.util.Objects;\nimport java.util.Optional;\n\nimport javax.crypto.Cipher;\nimport javax.crypto.spec.GCMParameterSpec;\nimport javax.crypto.spec.SecretKeySpec;\n\npublic class Crypto {\n\n  private static final int AUTH_TAG_SIZE = 128; // bits\n\n  // NIST recommendation: \"For IVs, it is recommended that implementations\n  // restrict support to the length of 96 bits, to\n  // promote interoperability, efficiency, and simplicity of design.\"\n  private static final int IV_LEN = 12; // bytes\n\n  // number of random number bytes generated before re-seeding\n  private static final double PRNG_RESEED_INTERVAL = Math.pow(2, 16);\n\n  private static final String ENCRYPT_ALGO = \"AES/GCM/NoPadding\";\n\n  private static final List&lt;Integer&gt; ALLOWED_KEY_SIZES = Arrays\n      .asList(new Integer[] {128, 192, 256}); // bits\n\n  private static SecureRandom prng;\n\n  // Used to keep track of random number bytes generated by PRNG\n  // (for the purpose of re-seeding)\n  private static int bytesGenerated = 0;\n\n  public byte[] encrypt(byte[] input, SecretKeySpec key) throws Exception {\n\n    Objects.requireNonNull(input, \"Input message cannot be null\");\n    Objects.requireNonNull(key, \"key cannot be null\");\n\n    if (input.length == 0) {\n      throw new IllegalArgumentException(\"Length of message cannot be 0\");\n    }\n\n    if (!ALLOWED_KEY_SIZES.contains(key.getEncoded().length * 8)) {\n      throw new IllegalArgumentException(\"Size of key must be 128, 192 or 256\");\n    }\n\n    Cipher cipher = Cipher.getInstance(ENCRYPT_ALGO);\n\n    byte[] iv = getIV(IV_LEN);\n\n    GCMParameterSpec gcmParamSpec = new GCMParameterSpec(AUTH_TAG_SIZE, iv);\n\n    cipher.init(Cipher.ENCRYPT_MODE, key, gcmParamSpec);\n    byte[] messageCipher = cipher.doFinal(input);\n\n    // Prepend the IV with the message cipher\n    byte[] cipherText = new byte[messageCipher.length + IV_LEN];\n    System.arraycopy(iv, 0, cipherText, 0, IV_LEN);\n    System.arraycopy(messageCipher, 0, cipherText, IV_LEN,\n        messageCipher.length);\n    return cipherText;\n  }\n\n  public byte[] decrypt(byte[] input, SecretKeySpec key) throws Exception {\n    Objects.requireNonNull(input, \"Input message cannot be null\");\n    Objects.requireNonNull(key, \"key cannot be null\");\n\n    if (input.length == 0) {\n      throw new IllegalArgumentException(\"Input array cannot be empty\");\n    }\n\n    byte[] iv = new byte[IV_LEN];\n    System.arraycopy(input, 0, iv, 0, IV_LEN);\n\n    byte[] messageCipher = new byte[input.length - IV_LEN];\n    System.arraycopy(input, IV_LEN, messageCipher, 0, input.length - IV_LEN);\n\n    GCMParameterSpec gcmParamSpec = new GCMParameterSpec(AUTH_TAG_SIZE, iv);\n\n    Cipher cipher = Cipher.getInstance(ENCRYPT_ALGO);\n    cipher.init(Cipher.DECRYPT_MODE, key, gcmParamSpec);\n\n    return cipher.doFinal(messageCipher);\n  }\n\n  public byte[] getIV(int bytesNum) {\n\n    if (bytesNum &lt; 1) throw new IllegalArgumentException(\n        \"Number of bytes must be greater than 0\");\n\n    byte[] iv = new byte[bytesNum];\n\n    prng = Optional.ofNullable(prng).orElseGet(() -&gt; {\n      try {\n        prng = SecureRandom.getInstanceStrong();\n      } catch (NoSuchAlgorithmException e) {\n        throw new RuntimeException(\"Wrong algorithm name\", e);\n      }\n      return prng;\n    });\n\n    if (bytesGenerated &gt; PRNG_RESEED_INTERVAL || bytesGenerated == 0) {\n      prng.setSeed(prng.generateSeed(bytesNum));\n      bytesGenerated = 0;\n    }\n\n    prng.nextBytes(iv);\n    bytesGenerated = bytesGenerated + bytesNum;\n\n    return iv;\n  }\n\n  private static void clearSecret(Destroyable key)\n      throws IllegalArgumentException, IllegalAccessException,\n      NoSuchFieldException, SecurityException {\n    Field keyField = key.getClass().getDeclaredField(\"key\");\n    keyField.setAccessible(true);\n    byte[] encodedKey = (byte[]) keyField.get(key);\n    Arrays.fill(encodedKey, Byte.MIN_VALUE);\n  }\n}\n</code></pre>\n\n<p>The encryption key can be generated primarily in two ways:</p>\n\n<ul>\n<li><p><strong>Without any password</strong></p>\n\n<pre><code>KeyGenerator keyGen = KeyGenerator.getInstance(\"AES\");\nkeyGen.init(KEY_LEN, SecureRandom.getInstanceStrong());\nSecretKey secretKey = keyGen.generateKey();\nSecretKeySpec secretKeySpec = new SecretKeySpec(secretKey.getEncoded(),\n    \"AES\");\nCrypto.clearSecret(secretKey);\n// After encryption or decryption with key\nCrypto.clearSecret(secretKeySpec);\n</code></pre></li>\n<li><p><strong>With password</strong></p>\n\n<pre><code>SecureRandom random = SecureRandom.getInstanceStrong();\nbyte[] salt = new byte[32];\nrandom.nextBytes(salt);\nPBEKeySpec keySpec = new PBEKeySpec(password, salt, iterations, \n   keyLength);\nSecretKeyFactory keyFactory = \n    SecretKeyFactory.getInstance(\"PBKDF2WithHmacSHA256\");\nSecretKey secretKey = keyFactory.generateSecret(keySpec);\nSecretKeySpec secretKeySpec = new SecretKeySpec(secretKey.getEncoded(),\n    \"AES\");\nCrypto.clearSecret(secretKey);\n// After encryption or decryption with key\nCrypto.clearSecret(secretKeySpec);\n</code></pre></li>\n</ul>\n\n<hr>\n\n<h1>Update Based on Comments</h1>\n\n<p>As pointed out by @MaartenBodewes, my answer did not handle any <code>String</code> as is required by the question. Therefore, I'll make an attempt to fill that gap just in case someone stumbles upon this answer and leaves wondering about handling <code>String</code>.</p>\n\n<p>As indicated earlier in the answer, handling sensitive information in a <code>String</code> is, in general, not a good idea because <code>String</code> is immutable and thus we cannot clear it off after use. And as we know, even when a <code>String</code> doesn't have a strong reference, the garbage collector does not immediately rush to remove it off heap. Thus, the <code>String</code> continues to be around in the memory for an unknown window of time even though it is not accessible to the program. The issue with that is, a heap dump during that time frame would reveal the sensitive information. Therefore, it is always better to handle all sensitive information in a byte array or char array and then fill the array with 0s once their purpose is served.</p>\n\n<p>However, with all that knowledge, if we still end up in a situation where the sensitive information to be encrypted is in a <code>String</code>, we first need to convert it into a byte array and invoke the <code>encrypt</code> and <code>decrypt</code> functions introduced above. (The other input key can be generated using the code snippet provided above).</p>\n\n<p>A <code>String</code> can be converted into bytes in the following way:</p>\n\n<pre><code>byte[] inputBytes = inputString.getBytes(StandardCharsets.UTF_8);\n</code></pre>\n\n<p>As of Java 8, <code>String</code> is internally stored in heap with <code>UTF-16</code> encoding. However, we have used <code>UTF-8</code> here as it usually takes less space than <code>UTF-16</code>, especially for ASCII characters.</p>\n\n<p>Likewise, the encrypted byte array can also be converted into a String as below:</p>\n\n<pre><code>String encryptedString = new String(encryptedBytes, StandardCharsets.UTF_8);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":49931,"reputation":25463,"user_id":148844,"accept_rate":67,"display_name":"Chloe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1552113682,"creation_date":1552113682,"answer_id":55074753,"question_id":1205135,"body_markdown":"Here is a copy/paste solution. I also recommend reading and voting for [@Konstantino&#39;s answer](https://stackoverflow.com/a/43779197/148844) even though it doesn&#39;t provider any code. The initialization vector (IV) is like a salt - it doesn&#39;t have to be kept secret. I am new to GCM and apparently AAD is optional and only used in certain circumstances. Set the key in the environment variable `SECRET_KEY_BASE`. Use something like [KeePass](https://keepass.info) to generate a 32 character password. This solution is modeled after my Ruby solution.\r\n\r\n\r\n    \tpublic static String encrypt(String s) {\r\n    \t\ttry {\r\n    \t\t\tbyte[] input = s.getBytes(&quot;UTF-8&quot;);\r\n    \t\t\tString keyString = System.getProperty(&quot;SECRET_KEY_BASE&quot;, System.getenv(&quot;SECRET_KEY_BASE&quot;));\r\n    \t\t\tif (keyString == null || keyString.length() == 0) {\r\n    \t\t\t\tLogger.error(Utils.class, &quot;encrypt()&quot;, &quot;$SECRET_KEY_BASE is not set.&quot;);\r\n    \t\t\t\treturn null;\r\n    \t\t\t}\r\n    \t\t\tbyte[] keyBytes = keyString.getBytes(&quot;UTF-8&quot;);\r\n    \t\t\tSecretKeySpec keySpec = new SecretKeySpec(keyBytes, &quot;AES&quot;);\r\n    \t\t\t// generate IV\r\n    \t\t\tSecureRandom secureRandom = SecureRandom.getInstanceStrong();\r\n    \t\t\tCipher cipher = Cipher.getInstance(&quot;AES/GCM/NoPadding&quot;);\r\n    \t\t\tbyte[] ivBytes = new byte[cipher.getBlockSize()];\r\n    \t\t\tsecureRandom.nextBytes(ivBytes);\r\n    \t\t\tGCMParameterSpec gcmSpec = new GCMParameterSpec(96, ivBytes); // 96 bit tag length\r\n    \t\t\tcipher.init(Cipher.ENCRYPT_MODE, keySpec, gcmSpec);\r\n    \t\t\t// generate AAD\r\n    //\t\t\tbyte[] aadBytes = new byte[cipher.getBlockSize()];\r\n    //\t\t\tsecureRandom.nextBytes(aadBytes);\r\n    //\t\t\tcipher.updateAAD(aadBytes);\r\n    \t\t\t// encrypt\r\n    \t\t\tbyte[] encrypted = cipher.doFinal(input);\r\n    \t\t\tbyte[] returnBytes = new byte[ivBytes.length + encrypted.length];\r\n    //\t\t\tbyte[] returnBytes = new byte[ivBytes.length + aadBytes.length + encrypted.length];\r\n    \t\t\tSystem.arraycopy(ivBytes, 0, returnBytes, 0, ivBytes.length);\r\n    //\t\t\tSystem.arraycopy(aadBytes, 0, returnBytes, ivBytes.length, aadBytes.length);\r\n    \t\t\tSystem.arraycopy(encrypted, 0, returnBytes, ivBytes.length, encrypted.length);\r\n    //\t\t\tSystem.arraycopy(encrypted, 0, returnBytes, ivBytes.length+aadBytes.length, encrypted.length);\r\n    \t\t\tString encryptedString = Base64.getEncoder().encodeToString(returnBytes);\r\n    \t\t\treturn encryptedString;\r\n    \t\t} catch (UnsupportedEncodingException | NoSuchAlgorithmException | NoSuchPaddingException | InvalidKeyException | \r\n    \t\t\t\tInvalidAlgorithmParameterException | IllegalBlockSizeException | BadPaddingException e) {\r\n    \t\t\tLogger.error(Utils.class, &quot;encrypt()&quot;, &quot;Could not encrypt string: &quot; + e.getMessage());\r\n    \t\t\treturn null;\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tpublic static String decrypt(String s) {\r\n    \t\tif (s == null || s.length() == 0) return &quot;&quot;;\r\n    \t\ttry {\r\n    \t\t\tbyte[] encrypted = Base64.getDecoder().decode(s);\r\n    \t\t\tString keyString = System.getProperty(&quot;SECRET_KEY_BASE&quot;, System.getenv(&quot;SECRET_KEY_BASE&quot;));\r\n    \t\t\tif (keyString == null || keyString.length() == 0) {\r\n    \t\t\t\tLogger.error(Utils.class, &quot;encrypt()&quot;, &quot;$SECRET_KEY_BASE is not set.&quot;);\r\n    \t\t\t\treturn null;\r\n    \t\t\t}\r\n    \t\t\tbyte[] keyBytes = keyString.getBytes(&quot;UTF-8&quot;);\r\n    \t\t\tSecretKeySpec keySpec = new SecretKeySpec(keyBytes, &quot;AES&quot;);\r\n    \t\t\tCipher cipher = Cipher.getInstance(&quot;AES/GCM/NoPadding&quot;);\r\n    \t\t\tbyte[] ivBytes = new byte[cipher.getBlockSize()];\r\n    \t\t\tSystem.arraycopy(encrypted, 0, ivBytes, 0, ivBytes.length);\r\n    \t\t\tGCMParameterSpec gcmSpec = new GCMParameterSpec(96, ivBytes);\r\n    \t\t\tcipher.init(Cipher.DECRYPT_MODE, keySpec, gcmSpec);\r\n    //\t\t\tcipher.updateAAD(encrypted, ivBytes.length, cipher.getBlockSize());\r\n    \t\t\tbyte[] decrypted = cipher.doFinal(encrypted, cipher.getBlockSize(), encrypted.length - cipher.getBlockSize());\r\n    //\t\t\tbyte[] decrypted = cipher.doFinal(encrypted, cipher.getBlockSize()*2, encrypted.length - cipher.getBlockSize()*2);\r\n    \t\t\tString decryptedString = new String(decrypted, &quot;UTF-8&quot;);\r\n    \t\t\treturn decryptedString;\r\n    \t\t} catch (NoSuchAlgorithmException | NoSuchPaddingException | UnsupportedEncodingException | InvalidKeyException | \r\n    \t\t\t\tInvalidAlgorithmParameterException | IllegalBlockSizeException | BadPaddingException e) {\r\n    \t\t\tLogger.error(Utils.class, &quot;decrypt()&quot;, &quot;Could not decrypt string: &quot; + e.getMessage());\r\n    \t\t\treturn null;\r\n    \t\t}\r\n    \t}\r\n\r\n\r\nHere is an example:\r\n\r\n\t\tString s = &quot;This is a test.&quot;;\r\n\t\tString enc = Utils.encrypt(s);\r\n\t\tSystem.out.println(enc);\r\n        // fQHfYjbD+xAuN5XzH2ojk/EWNeKXUrKRSfx8LU+5dpuKkM/pueCMBjKCZw==\r\n\t\tString dec = Utils.decrypt(enc);\r\n\t\tSystem.out.println(dec);\r\n        // This is a test.\r\n","title":"How to encrypt String in Java","body":"<p>Here is a copy/paste solution. I also recommend reading and voting for <a href=\"https://stackoverflow.com/a/43779197/148844\">@Konstantino's answer</a> even though it doesn't provider any code. The initialization vector (IV) is like a salt - it doesn't have to be kept secret. I am new to GCM and apparently AAD is optional and only used in certain circumstances. Set the key in the environment variable <code>SECRET_KEY_BASE</code>. Use something like <a href=\"https://keepass.info\" rel=\"nofollow noreferrer\">KeePass</a> to generate a 32 character password. This solution is modeled after my Ruby solution.</p>\n\n<pre><code>    public static String encrypt(String s) {\n        try {\n            byte[] input = s.getBytes(\"UTF-8\");\n            String keyString = System.getProperty(\"SECRET_KEY_BASE\", System.getenv(\"SECRET_KEY_BASE\"));\n            if (keyString == null || keyString.length() == 0) {\n                Logger.error(Utils.class, \"encrypt()\", \"$SECRET_KEY_BASE is not set.\");\n                return null;\n            }\n            byte[] keyBytes = keyString.getBytes(\"UTF-8\");\n            SecretKeySpec keySpec = new SecretKeySpec(keyBytes, \"AES\");\n            // generate IV\n            SecureRandom secureRandom = SecureRandom.getInstanceStrong();\n            Cipher cipher = Cipher.getInstance(\"AES/GCM/NoPadding\");\n            byte[] ivBytes = new byte[cipher.getBlockSize()];\n            secureRandom.nextBytes(ivBytes);\n            GCMParameterSpec gcmSpec = new GCMParameterSpec(96, ivBytes); // 96 bit tag length\n            cipher.init(Cipher.ENCRYPT_MODE, keySpec, gcmSpec);\n            // generate AAD\n//          byte[] aadBytes = new byte[cipher.getBlockSize()];\n//          secureRandom.nextBytes(aadBytes);\n//          cipher.updateAAD(aadBytes);\n            // encrypt\n            byte[] encrypted = cipher.doFinal(input);\n            byte[] returnBytes = new byte[ivBytes.length + encrypted.length];\n//          byte[] returnBytes = new byte[ivBytes.length + aadBytes.length + encrypted.length];\n            System.arraycopy(ivBytes, 0, returnBytes, 0, ivBytes.length);\n//          System.arraycopy(aadBytes, 0, returnBytes, ivBytes.length, aadBytes.length);\n            System.arraycopy(encrypted, 0, returnBytes, ivBytes.length, encrypted.length);\n//          System.arraycopy(encrypted, 0, returnBytes, ivBytes.length+aadBytes.length, encrypted.length);\n            String encryptedString = Base64.getEncoder().encodeToString(returnBytes);\n            return encryptedString;\n        } catch (UnsupportedEncodingException | NoSuchAlgorithmException | NoSuchPaddingException | InvalidKeyException | \n                InvalidAlgorithmParameterException | IllegalBlockSizeException | BadPaddingException e) {\n            Logger.error(Utils.class, \"encrypt()\", \"Could not encrypt string: \" + e.getMessage());\n            return null;\n        }\n    }\n\n    public static String decrypt(String s) {\n        if (s == null || s.length() == 0) return \"\";\n        try {\n            byte[] encrypted = Base64.getDecoder().decode(s);\n            String keyString = System.getProperty(\"SECRET_KEY_BASE\", System.getenv(\"SECRET_KEY_BASE\"));\n            if (keyString == null || keyString.length() == 0) {\n                Logger.error(Utils.class, \"encrypt()\", \"$SECRET_KEY_BASE is not set.\");\n                return null;\n            }\n            byte[] keyBytes = keyString.getBytes(\"UTF-8\");\n            SecretKeySpec keySpec = new SecretKeySpec(keyBytes, \"AES\");\n            Cipher cipher = Cipher.getInstance(\"AES/GCM/NoPadding\");\n            byte[] ivBytes = new byte[cipher.getBlockSize()];\n            System.arraycopy(encrypted, 0, ivBytes, 0, ivBytes.length);\n            GCMParameterSpec gcmSpec = new GCMParameterSpec(96, ivBytes);\n            cipher.init(Cipher.DECRYPT_MODE, keySpec, gcmSpec);\n//          cipher.updateAAD(encrypted, ivBytes.length, cipher.getBlockSize());\n            byte[] decrypted = cipher.doFinal(encrypted, cipher.getBlockSize(), encrypted.length - cipher.getBlockSize());\n//          byte[] decrypted = cipher.doFinal(encrypted, cipher.getBlockSize()*2, encrypted.length - cipher.getBlockSize()*2);\n            String decryptedString = new String(decrypted, \"UTF-8\");\n            return decryptedString;\n        } catch (NoSuchAlgorithmException | NoSuchPaddingException | UnsupportedEncodingException | InvalidKeyException | \n                InvalidAlgorithmParameterException | IllegalBlockSizeException | BadPaddingException e) {\n            Logger.error(Utils.class, \"decrypt()\", \"Could not decrypt string: \" + e.getMessage());\n            return null;\n        }\n    }\n</code></pre>\n\n<p>Here is an example:</p>\n\n<pre><code>    String s = \"This is a test.\";\n    String enc = Utils.encrypt(s);\n    System.out.println(enc);\n    // fQHfYjbD+xAuN5XzH2ojk/EWNeKXUrKRSfx8LU+5dpuKkM/pueCMBjKCZw==\n    String dec = Utils.decrypt(enc);\n    System.out.println(dec);\n    // This is a test.\n</code></pre>\n"}],"owner":{"account_id":32049,"reputation":3191,"user_id":88448,"accept_rate":65,"display_name":"ante.sabo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":510031,"favorite_count":0,"down_vote_count":1,"up_vote_count":185,"accepted_answer_id":43779197,"answer_count":16,"score":184,"last_activity_date":1673154446,"creation_date":1248941590,"question_id":1205135,"body_markdown":"What I need is to encrypt string which will show up in 2D barcode(PDF-417) so when someone get an idea to scan it will get nothing readable. \r\n\r\nOther requirements: \r\n\r\n- should not be complicated\r\n- it should not consist of RSA, PKI infrastructure, key pairs, etc.\r\n\r\nIt must be simple enough to get rid of the people snooping around, and easy to decrypt for other companies interested in getting that data. They call us, we tell them the standard or give them some simple key which can then be used for decryption. \r\n\r\nProbably those companies could use different technologies so it would be good to stick to some standard which is not tied to some special platform or technology. \r\n\r\nWhat do you suggest? Is there some Java class doing `encrypt()` &amp; `decrypt()` without much complication in achieving high security standards? \r\n\r\n\r\n","title":"How to encrypt String in Java","body":"<p>What I need is to encrypt string which will show up in 2D barcode(PDF-417) so when someone get an idea to scan it will get nothing readable. </p>\n\n<p>Other requirements: </p>\n\n<ul>\n<li>should not be complicated</li>\n<li>it should not consist of RSA, PKI infrastructure, key pairs, etc.</li>\n</ul>\n\n<p>It must be simple enough to get rid of the people snooping around, and easy to decrypt for other companies interested in getting that data. They call us, we tell them the standard or give them some simple key which can then be used for decryption. </p>\n\n<p>Probably those companies could use different technologies so it would be good to stick to some standard which is not tied to some special platform or technology. </p>\n\n<p>What do you suggest? Is there some Java class doing <code>encrypt()</code> &amp; <code>decrypt()</code> without much complication in achieving high security standards? </p>\n"},{"tags":["javascript","java","selenium","datepicker","browserstack"],"owner":{"account_id":19136440,"reputation":11,"user_id":13977333,"display_name":"amar shiral"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1673153868,"creation_date":1646932461,"question_id":71428187,"body_markdown":"I am automating the web based application for desktop and mobile devices. I am using browserstack to run the test cases on different devices/browsers.\r\nI am using selenium webdriver with java for automation.\r\nIn one of the scenario, I want to select a date from calendar, for desktop browser sendkeys is working however for samsung galaxy tab s7 sendkeys is not working. When I click on the calendar it opens up like below given screenshot. I am not able to locate the date/month or set button of the calendar.\r\n\r\nCode working for Desktop -\r\nenterDetails(findTextBox(&quot;Date of Birth&quot;), &quot;01/01/2002&quot;);\r\n\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/X4ipv.png","title":"Not able to pick the Date in samsung galaxy s7 tab using selenium","body":"<p>I am automating the web based application for desktop and mobile devices. I am using browserstack to run the test cases on different devices/browsers.\nI am using selenium webdriver with java for automation.\nIn one of the scenario, I want to select a date from calendar, for desktop browser sendkeys is working however for samsung galaxy tab s7 sendkeys is not working. When I click on the calendar it opens up like below given screenshot. I am not able to locate the date/month or set button of the calendar.</p>\n<p>Code working for Desktop -\nenterDetails(findTextBox(&quot;Date of Birth&quot;), &quot;01/01/2002&quot;);</p>\n<p><img src=\"https://i.stack.imgur.com/X4ipv.png\" alt=\"enter image description here\" /></p>\n"},{"tags":["java","eclipse","dependencies","manifest"],"comments":[{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1646984671,"post_id":71434193,"comment_id":126263082,"body_markdown":"I think that is the icon for a &#39;fragment&#39;. You use the parent of the fragment as the dependency.","body":"I think that is the icon for a &#39;fragment&#39;. You use the parent of the fragment as the dependency."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1646985157,"post_id":71434193,"comment_id":126263215,"body_markdown":"Yes, as greg-449 already said, that&#39;s a fragment. See [here](https://help.eclipse.org/latest/topic/org.eclipse.platform.doc.isv/guide/product_def_plugins.htm) and [here](https://www.vogella.com/tutorials/EclipseFragmentProject/article.html).","body":"Yes, as greg-449 already said, that&#39;s a fragment. See <a href=\"https://help.eclipse.org/latest/topic/org.eclipse.platform.doc.isv/guide/product_def_plugins.htm\" rel=\"nofollow noreferrer\">here</a> and <a href=\"https://www.vogella.com/tutorials/EclipseFragmentProject/article.html\" rel=\"nofollow noreferrer\">here</a>."}],"owner":{"account_id":7344434,"reputation":1,"user_id":7302424,"display_name":"Limanan Nursalim"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673153554,"creation_date":1646978206,"question_id":71434193,"body_markdown":"I&#39;m currently working with bundles in Eclipse and I found some packages aren&#39;t properly imported. I then press the &quot;Show the plug-in dependency hierarchy&quot; in MANIFEST.MF and found that the bundle wouldn&#39;t import the packages with this purple icon ![enter image description here][1]. Can anyone tell me what I can do so it would read the packages as well?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CBqUI.png","title":"What does this icon in the dependency hierarchy mean and how to import the packages properly?","body":"<p>I'm currently working with bundles in Eclipse and I found some packages aren't properly imported. I then press the &quot;Show the plug-in dependency hierarchy&quot; in MANIFEST.MF and found that the bundle wouldn't import the packages with this purple icon <img src=\"https://i.stack.imgur.com/CBqUI.png\" alt=\"enter image description here\" />. Can anyone tell me what I can do so it would read the packages as well?</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":21180,"reputation":9893,"user_id":51292,"accept_rate":59,"display_name":"Ray Tayek"},"score":0,"creation_date":1488429926,"post_id":42546950,"comment_id":72229558,"body_markdown":"maybe use optional: https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html","body":"maybe use optional: <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/util/Optional.html</a>"},{"owner":{"account_id":4475914,"reputation":14400,"user_id":3641067,"accept_rate":73,"display_name":"bur&#230;quete"},"score":0,"creation_date":1488429975,"post_id":42546950,"comment_id":72229579,"body_markdown":"toMap method throws that NPE for you have a null value, thanks @dkatzel","body":"toMap method throws that NPE for you have a null value, thanks @dkatzel"},{"owner":{"account_id":3089665,"reputation":31308,"user_id":2616073,"display_name":"dkatzel"},"score":3,"creation_date":1488430036,"post_id":42546950,"comment_id":72229598,"body_markdown":"Actually `key` can be null. `value` can&#39;t be null","body":"Actually <code>key</code> can be null. <code>value</code> can&#39;t be null"}],"answers":[{"tags":[],"owner":{"account_id":3089665,"reputation":31308,"user_id":2616073,"display_name":"dkatzel"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1488430370,"creation_date":1488429937,"answer_id":42547059,"question_id":42546950,"body_markdown":"The problem is `toMap()` invokes the underlying Map implementation being built&#39;s `merge()` function which does not allow values to be null\r\n\r\nfrom the javadoc for [`Map#merge`](https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#merge-K-V-java.util.function.BiFunction-) (emphasis mine)\r\n\r\n&gt; If the specified key is not already associated with a value or is associated with null, associates it with the **given non-null** value. Otherwise, replaces the associated value with the results of the given remapping function, or removes if the result is null. \r\n\r\n\r\nSo using `Collectors.toMap()` will not work.\r\n\r\nYou can do this without stream just fine:\r\n\r\n    Map&lt;String,String&gt; copy = new HashMap&lt;&gt;();\r\n\r\n    for(Entry&lt;String, String&gt; entry : headers.entrySet()){\r\n        copy.put(entry.getKey() !=null ? entry.getKey().toLowerCase() : null, \r\n                 entry.getValue() !=null ? entry.getValue().toLowerCase() : null\r\n                );\r\n    }","title":"Use Java 8 streams to transform a Map with nulls","body":"<p>The problem is <code>toMap()</code> invokes the underlying Map implementation being built's <code>merge()</code> function which does not allow values to be null</p>\n\n<p>from the javadoc for <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#merge-K-V-java.util.function.BiFunction-\" rel=\"noreferrer\"><code>Map#merge</code></a> (emphasis mine)</p>\n\n<blockquote>\n  <p>If the specified key is not already associated with a value or is associated with null, associates it with the <strong>given non-null</strong> value. Otherwise, replaces the associated value with the results of the given remapping function, or removes if the result is null. </p>\n</blockquote>\n\n<p>So using <code>Collectors.toMap()</code> will not work.</p>\n\n<p>You can do this without stream just fine:</p>\n\n<pre><code>Map&lt;String,String&gt; copy = new HashMap&lt;&gt;();\n\nfor(Entry&lt;String, String&gt; entry : headers.entrySet()){\n    copy.put(entry.getKey() !=null ? entry.getKey().toLowerCase() : null, \n             entry.getValue() !=null ? entry.getValue().toLowerCase() : null\n            );\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4475914,"reputation":14400,"user_id":3641067,"accept_rate":73,"display_name":"bur&#230;quete"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1488440380,"creation_date":1488430987,"answer_id":42547246,"question_id":42546950,"body_markdown":"You cannot use `Collectors.toMap()` without getting a NPE since you have a `null` `value` present in your `map`, as explained by @dkatzel already, but I still wanted to use `Stream API`;\r\n\r\n    \r\n\r\n    Map&lt;String, String&gt; headers = new HashMap&lt;&gt;();\r\n    headers.put(&quot;good&quot;, &quot;AsDf&quot;);\r\n    headers.put(&quot;SomE&quot;, &quot;GreETing&quot;);\r\n    headers.put(&quot;HELLO&quot;, null);\r\n    headers.put(null, &quot;WOrLd&quot;);\r\n    \r\n    new HashSet&lt;&gt;(headers.entrySet()).stream()\r\n    \t.peek(entry -&gt; entry.setValue(Objects.isNull(entry.getValue()) ? null : entry.getValue().toLowerCase()))\r\n    \t.filter(entry -&gt; !Objects.isNull(entry.getKey()) &amp;&amp; !entry.getKey().equals(entry.getKey().toLowerCase()))\r\n    \t.forEach(entry -&gt; {\r\n    \t\theaders.put(entry.getKey().toLowerCase(), entry.getValue());\r\n    \t\theaders.remove(entry.getKey());\r\n    \t});\r\n    \r\n    System.out.println(headers);\r\n\r\nPrints out;\r\n\r\n    {null=world, some=greeting, hello=null, good=asdf}","title":"Use Java 8 streams to transform a Map with nulls","body":"<p>You cannot use <code>Collectors.toMap()</code> without getting a NPE since you have a <code>null</code> <code>value</code> present in your <code>map</code>, as explained by @dkatzel already, but I still wanted to use <code>Stream API</code>;</p>\n\n<pre><code>Map&lt;String, String&gt; headers = new HashMap&lt;&gt;();\nheaders.put(\"good\", \"AsDf\");\nheaders.put(\"SomE\", \"GreETing\");\nheaders.put(\"HELLO\", null);\nheaders.put(null, \"WOrLd\");\n\nnew HashSet&lt;&gt;(headers.entrySet()).stream()\n    .peek(entry -&gt; entry.setValue(Objects.isNull(entry.getValue()) ? null : entry.getValue().toLowerCase()))\n    .filter(entry -&gt; !Objects.isNull(entry.getKey()) &amp;&amp; !entry.getKey().equals(entry.getKey().toLowerCase()))\n    .forEach(entry -&gt; {\n        headers.put(entry.getKey().toLowerCase(), entry.getValue());\n        headers.remove(entry.getKey());\n    });\n\nSystem.out.println(headers);\n</code></pre>\n\n<p>Prints out;</p>\n\n<pre><code>{null=world, some=greeting, hello=null, good=asdf}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4120139,"reputation":1,"user_id":3380739,"display_name":"user_3380739"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1673151143,"creation_date":1488467636,"answer_id":42559100,"question_id":42546950,"body_markdown":"Use Collect:\r\n\r\n    final Function&lt;String, String&gt; fn= str -&gt; str == null ? null : str.toLowerCase();\r\n    Map&lt;String, String&gt; copy = headers.entrySet().stream()\r\n       .collect(HashMap::new,\r\n                (m, e) -&gt; m.put(fn.apply(e.getKey()), fn.apply(e.getValue())), \r\n                Map::putAll);\r\n\r\nOr with [abacus-common][1]\r\n\r\n    Map&lt;String, String&gt; copy = Stream.of(headers)\r\n       .collect(HashMap::new, \r\n         (m, e) -&gt; m.put(N.toLowerCase(e.getKey()), N.toLowerCase(e.getValue())));\r\n\r\n\r\nupdated on 2/4, Or:\r\n\r\n    Map&lt;String, String&gt; copy = EntryStream.of(headers)\r\n       .toMap(entry -&gt; N.toLowerCase(entry.getKey()), entry -&gt; N.toLowerCase(entry.getValue()));\r\n\r\n\r\n\r\n  [1]: https://github.com/landawn/abacus-common","title":"Use Java 8 streams to transform a Map with nulls","body":"<p>Use Collect:</p>\n<pre><code>final Function&lt;String, String&gt; fn= str -&gt; str == null ? null : str.toLowerCase();\nMap&lt;String, String&gt; copy = headers.entrySet().stream()\n   .collect(HashMap::new,\n            (m, e) -&gt; m.put(fn.apply(e.getKey()), fn.apply(e.getValue())), \n            Map::putAll);\n</code></pre>\n<p>Or with <a href=\"https://github.com/landawn/abacus-common\" rel=\"nofollow noreferrer\">abacus-common</a></p>\n<pre><code>Map&lt;String, String&gt; copy = Stream.of(headers)\n   .collect(HashMap::new, \n     (m, e) -&gt; m.put(N.toLowerCase(e.getKey()), N.toLowerCase(e.getValue())));\n</code></pre>\n<p>updated on 2/4, Or:</p>\n<pre><code>Map&lt;String, String&gt; copy = EntryStream.of(headers)\n   .toMap(entry -&gt; N.toLowerCase(entry.getKey()), entry -&gt; N.toLowerCase(entry.getValue()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":215223,"reputation":2949,"user_id":469718,"accept_rate":12,"display_name":"kisna"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1630081101,"creation_date":1630081101,"answer_id":68956586,"question_id":42546950,"body_markdown":"If you have complicated checks and still want to use Collectors.toMap() without nulls\r\n\r\n    // convert data to a final key, value pairs using Pair.of(key, value)\r\n    .map(data -&gt; {\r\n        SomeKey key = makeKey(data.getKey());\r\n        SomeVal val = makeValue(data.getValue());\r\n        \r\n        // validate and return \r\n        if(key.foo != null &amp;&amp; val.bar != null) {\r\n            return Pair.of(key.foo, val.bar);\r\n        }\r\n        return null;\r\n    })\r\n    .filter(Objects::nonNull)   // remove the ones that don&#39;t satisy criteria\r\n    .collect(Collectors.toMap(pair -&gt; pair.getLeft(), pair -&gt; pair.getRight(),  // then collect final key/value data without NPE checks\r\n        (left, right) -&gt; {\r\n            left.merge(right); // can return null\r\n            return left;\r\n        }\r\n    )));\r\n\r\n","title":"Use Java 8 streams to transform a Map with nulls","body":"<p>If you have complicated checks and still want to use Collectors.toMap() without nulls</p>\n<pre><code>// convert data to a final key, value pairs using Pair.of(key, value)\n.map(data -&gt; {\n    SomeKey key = makeKey(data.getKey());\n    SomeVal val = makeValue(data.getValue());\n    \n    // validate and return \n    if(key.foo != null &amp;&amp; val.bar != null) {\n        return Pair.of(key.foo, val.bar);\n    }\n    return null;\n})\n.filter(Objects::nonNull)   // remove the ones that don't satisy criteria\n.collect(Collectors.toMap(pair -&gt; pair.getLeft(), pair -&gt; pair.getRight(),  // then collect final key/value data without NPE checks\n    (left, right) -&gt; {\n        left.merge(right); // can return null\n        return left;\n    }\n)));\n</code></pre>\n"}],"owner":{"account_id":155026,"reputation":7508,"user_id":371392,"accept_rate":67,"display_name":"Web User"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23274,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":42547059,"answer_count":4,"score":14,"last_activity_date":1673151143,"creation_date":1488429345,"question_id":42546950,"body_markdown":"I am dealing with a `Map&lt;String,String&gt;` that has `null` entries in the key and/or value:\r\n\r\n    Map&lt;String, String&gt; headers = new HashMap&lt;&gt;();\r\n    headers.put(&quot;SomE&quot;, &quot;GreETing&quot;);\r\n    headers.put(&quot;HELLO&quot;, null);\r\n    headers.put(null, &quot;WOrLd&quot;);\r\n\r\n    headers.keySet().stream().forEach(k -&gt; System.out.println(k + &quot; =&gt; &quot; + copy.get(k)));\r\n\r\nI get the following output:\r\n\r\n    SomE =&gt; GreETing\r\n    HELLO =&gt; null\r\n    null =&gt; WOrLd\r\n\r\nI need to transform the map, so all the non-null values are converted to lowercase, like so:\r\n\r\n    some =&gt; greeting\r\n    hello =&gt; null\r\n    null =&gt; world\r\n\r\nI am trying to use Java 8 streams API, but the following code is throwing `NullPointerException`:\r\n\r\n    Map&lt;String,String&gt; copy\r\n        = headers.entrySet()\r\n                 .stream()\r\n                 .collect(\r\n                     Collectors.toMap(\r\n                         it -&gt; it.getKey() != null ? it.getKey().toLowerCase() : null,\r\n                         it -&gt; it.getValue() != null ? it.getValue().toLowerCase() : null));\r\n\r\n    copy.keySet().stream().forEach(k -&gt; System.out.println(k + &quot; =&gt; &quot; + copy.get(k)));\r\n\r\nIf I comment out the last two map entries, the program executes, so there must be an issue with how `Collectors.toMap` works when keys or values are null. How do I use the streams API to work around this?","title":"Use Java 8 streams to transform a Map with nulls","body":"<p>I am dealing with a <code>Map&lt;String,String&gt;</code> that has <code>null</code> entries in the key and/or value:</p>\n\n<pre><code>Map&lt;String, String&gt; headers = new HashMap&lt;&gt;();\nheaders.put(\"SomE\", \"GreETing\");\nheaders.put(\"HELLO\", null);\nheaders.put(null, \"WOrLd\");\n\nheaders.keySet().stream().forEach(k -&gt; System.out.println(k + \" =&gt; \" + copy.get(k)));\n</code></pre>\n\n<p>I get the following output:</p>\n\n<pre><code>SomE =&gt; GreETing\nHELLO =&gt; null\nnull =&gt; WOrLd\n</code></pre>\n\n<p>I need to transform the map, so all the non-null values are converted to lowercase, like so:</p>\n\n<pre><code>some =&gt; greeting\nhello =&gt; null\nnull =&gt; world\n</code></pre>\n\n<p>I am trying to use Java 8 streams API, but the following code is throwing <code>NullPointerException</code>:</p>\n\n<pre><code>Map&lt;String,String&gt; copy\n    = headers.entrySet()\n             .stream()\n             .collect(\n                 Collectors.toMap(\n                     it -&gt; it.getKey() != null ? it.getKey().toLowerCase() : null,\n                     it -&gt; it.getValue() != null ? it.getValue().toLowerCase() : null));\n\ncopy.keySet().stream().forEach(k -&gt; System.out.println(k + \" =&gt; \" + copy.get(k)));\n</code></pre>\n\n<p>If I comment out the last two map entries, the program executes, so there must be an issue with how <code>Collectors.toMap</code> works when keys or values are null. How do I use the streams API to work around this?</p>\n"},{"tags":["java","java-8","java-stream"],"comments":[{"owner":{"account_id":10051238,"reputation":486,"user_id":7430994,"display_name":"FrederikVH"},"score":3,"creation_date":1487944605,"post_id":42440189,"comment_id":72024709,"body_markdown":"Possible, probably. I&#39;m not sure that you should though, unless you want to trade readability for a single line of code. Which you shouldn&#39;t.","body":"Possible, probably. I&#39;m not sure that you should though, unless you want to trade readability for a single line of code. Which you shouldn&#39;t."}],"answers":[{"tags":[],"owner":{"account_id":4528587,"reputation":516,"user_id":3679732,"accept_rate":81,"display_name":"dylaniato"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1487944507,"creation_date":1487944507,"answer_id":42440427,"question_id":42440189,"body_markdown":"I think you could do something like\r\n \r\n    List&lt;Integer&gt; reducedId = dtos.stream().map(DTO::getFirstId).distinct().filter(\r\n        (dtos.stream().map(DTO::getSecondId).distinct().collect(Collectors.toList()))::contains\r\n    ).collect(Collectors.toList());\r\n\r\nNot tested in my local, but it seems reasonable to me :)","title":"Java 8 stream unique Integers","body":"<p>I think you could do something like</p>\n\n<pre><code>List&lt;Integer&gt; reducedId = dtos.stream().map(DTO::getFirstId).distinct().filter(\n    (dtos.stream().map(DTO::getSecondId).distinct().collect(Collectors.toList()))::contains\n).collect(Collectors.toList());\n</code></pre>\n\n<p>Not tested in my local, but it seems reasonable to me :)</p>\n"},{"tags":[],"owner":{"account_id":7537037,"reputation":4882,"user_id":7098259,"display_name":"Patrick Parker"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1487944722,"creation_date":1487944722,"answer_id":42440517,"question_id":42440189,"body_markdown":"Using a single Java 8 stream is not a great choice here.\r\nInstead you should first create a Set so that you can perform an efficient contains test.\r\n\r\n    Set&lt;Integer&gt; secondIds = dtos.stream().map(DTO::getSecondId).collect(Collectors.toSet());\r\n    List&lt;Integer&gt; reducedIds = dtos.stream().map(DTO::getFirstId).distinct()\r\n\t\t\t.filter(secondIds::contains).collect(Collectors.toList());\r\n","title":"Java 8 stream unique Integers","body":"<p>Using a single Java 8 stream is not a great choice here.\nInstead you should first create a Set so that you can perform an efficient contains test.</p>\n\n<pre><code>Set&lt;Integer&gt; secondIds = dtos.stream().map(DTO::getSecondId).collect(Collectors.toSet());\nList&lt;Integer&gt; reducedIds = dtos.stream().map(DTO::getFirstId).distinct()\n        .filter(secondIds::contains).collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1487957967,"creation_date":1487957967,"answer_id":42444973,"question_id":42440189,"body_markdown":"You may force it into one stream operation, but the performance would be even worse than what you have now, i.e. an operation with quadratic time complexity.\r\n\r\nA better approach would be:\r\n\r\n    Set&lt;Integer&gt; set = dtos.stream().map(DTO::getSecondId).collect(Collectors.toSet());\r\n    List&lt;Integer&gt; result = dtos.stream().map(DTO::getFirstId)\r\n        .distinct().filter(set::contains).collect(Collectors.toList());\r\n    // result now contains the common IDs\r\n\r\nBy collecting the second IDs into a `Set` instead of a `List`, you dont need to use `distinct()` in the first stream operation and avoid the linear search applied to every element in the second stream operation when `contains` is invoked.\r\n\r\nYou may generally consider using a `Set` for remembering unique IDs. When using a `Set` as result type, you may avoid the `distinct()` of the second stream operation too:\r\n\r\n    Set&lt;Integer&gt; set = dtos.stream().map(DTO::getSecondId).collect(Collectors.toSet());\r\n    Set&lt;Integer&gt; result = dtos.stream().map(DTO::getFirstId)\r\n        .filter(set::contains).collect(Collectors.toSet());\r\nIf you suspect lots of duplicate IDs and want to keep the behavior of sorting out duplicates before checking the other `Set`, you may use:\r\n\r\n    Set&lt;Integer&gt; set = dtos.stream().map(DTO::getSecondId).collect(Collectors.toSet());\r\n    Set&lt;Integer&gt; result = dtos.stream().map(DTO::getFirstId)\r\n        .collect(Collectors.toCollection(HashSet::new));\r\n    result.retainAll(set);\r\n\r\nNote that if you prefer long, hard too read one liner, you can inline the `set` variable in all variants.\r\n","title":"Java 8 stream unique Integers","body":"<p>You may force it into one stream operation, but the performance would be even worse than what you have now, i.e. an operation with quadratic time complexity.</p>\n\n<p>A better approach would be:</p>\n\n<pre><code>Set&lt;Integer&gt; set = dtos.stream().map(DTO::getSecondId).collect(Collectors.toSet());\nList&lt;Integer&gt; result = dtos.stream().map(DTO::getFirstId)\n    .distinct().filter(set::contains).collect(Collectors.toList());\n// result now contains the common IDs\n</code></pre>\n\n<p>By collecting the second IDs into a <code>Set</code> instead of a <code>List</code>, you dont need to use <code>distinct()</code> in the first stream operation and avoid the linear search applied to every element in the second stream operation when <code>contains</code> is invoked.</p>\n\n<p>You may generally consider using a <code>Set</code> for remembering unique IDs. When using a <code>Set</code> as result type, you may avoid the <code>distinct()</code> of the second stream operation too:</p>\n\n<pre><code>Set&lt;Integer&gt; set = dtos.stream().map(DTO::getSecondId).collect(Collectors.toSet());\nSet&lt;Integer&gt; result = dtos.stream().map(DTO::getFirstId)\n    .filter(set::contains).collect(Collectors.toSet());\n</code></pre>\n\n<p>If you suspect lots of duplicate IDs and want to keep the behavior of sorting out duplicates before checking the other <code>Set</code>, you may use:</p>\n\n<pre><code>Set&lt;Integer&gt; set = dtos.stream().map(DTO::getSecondId).collect(Collectors.toSet());\nSet&lt;Integer&gt; result = dtos.stream().map(DTO::getFirstId)\n    .collect(Collectors.toCollection(HashSet::new));\nresult.retainAll(set);\n</code></pre>\n\n<p>Note that if you prefer long, hard too read one liner, you can inline the <code>set</code> variable in all variants.</p>\n"},{"tags":[],"owner":{"account_id":4120139,"reputation":1,"user_id":3380739,"display_name":"user_3380739"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1673151124,"creation_date":1487961382,"answer_id":42445959,"question_id":42440189,"body_markdown":"With [StreamEx][1]:\r\n\r\n    Set&lt;Integer&gt; set = StreamEx.of(dtos).map(DTO::getSecondId).toSet();\r\n    List&lt;Integer&gt; result = StreamEx.of(dtos).map(DTO::getFirstId)\r\n                                            .filter(set::contains).distinct().toList();\r\n\r\nOr by [abacus-common][2]\r\n\r\n    Set&lt;Integer&gt; set = Stream.of(dtos).map(DTO::getSecondId).toSet();\r\n    List&lt;Integer&gt; result = Stream.of(dtos).map(DTO::getFirstId)\r\n                                            .filter(set::contains).distinct().toList();\r\n\r\n    // OR:\r\n\r\n    List&lt;Integer&gt; result = Stream.of(dtos).map(DTO::getFirstId)\r\n           .intersection(Stream.of(dtos).map(DTO::getSecondId).toSet()).toList();\r\n\r\n  [1]: https://github.com/amaembo/streamex\r\n  [2]: https://github.com/landawn/abacus-common","title":"Java 8 stream unique Integers","body":"<p>With <a href=\"https://github.com/amaembo/streamex\" rel=\"nofollow noreferrer\">StreamEx</a>:</p>\n<pre><code>Set&lt;Integer&gt; set = StreamEx.of(dtos).map(DTO::getSecondId).toSet();\nList&lt;Integer&gt; result = StreamEx.of(dtos).map(DTO::getFirstId)\n                                        .filter(set::contains).distinct().toList();\n</code></pre>\n<p>Or by <a href=\"https://github.com/landawn/abacus-common\" rel=\"nofollow noreferrer\">abacus-common</a></p>\n<pre><code>Set&lt;Integer&gt; set = Stream.of(dtos).map(DTO::getSecondId).toSet();\nList&lt;Integer&gt; result = Stream.of(dtos).map(DTO::getFirstId)\n                                        .filter(set::contains).distinct().toList();\n\n// OR:\n\nList&lt;Integer&gt; result = Stream.of(dtos).map(DTO::getFirstId)\n       .intersection(Stream.of(dtos).map(DTO::getSecondId).toSet()).toList();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1712726,"reputation":6528,"user_id":1570415,"display_name":"Donald Raab"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1490974674,"creation_date":1488004857,"answer_id":42452875,"question_id":42440189,"body_markdown":"If you&#39;re open to using a third-party library, you have a few options using [Eclipse Collections][1].  If you want to use `Stream`, the following should work using `Collectors2`.\r\n\r\n    MutableList&lt;Integer&gt; result =\r\n        dtos.stream().map(DTO::getFirstId).collect(Collectors2.toSet())\r\n            .intersect(dtos.stream().map(DTO::getSecondId).collect(Collectors2.toSet()))\r\n            .toList();\r\n\r\nEclipse Collections also has its only `LazyIterable` type that can be used instead of `Stream`.\r\n\r\n    LazyIterable&lt;DTO&gt; iterable = LazyIterate.adapt(dtos);\r\n    MutableList&lt;Integer&gt; result =\r\n        iterable.collect(DTO::getFirstId).toSet()\r\n            .intersect(iterable.collect(DTO::getSecondId).toSet())\r\n            .toList();\r\n\r\nFinally, if you have large numbers of ids, you might want to use primitive sets to avoid boxing `Integer` objects.  You can either work with `Stream` and `Collectors2` again as follows:\r\n\r\n    IntSet second = dtos.stream().collect(\r\n        Collectors2.collectInt(DTO::getSecondId, IntSets.mutable::empty));\r\n    IntList result = dtos.stream().collect(\r\n        Collectors2.collectInt(DTO::getFirstId, IntSets.mutable::empty))\r\n            .select(second::contains).toList();\r\n\r\nOr you can use `LazyIterable` as follows:\r\n\r\n    LazyIterable&lt;DTO&gt; iterable = LazyIterate.adapt(dtos);\r\n    IntList result =\r\n        iterable.collectInt(DTO::getFirstId).toSet()\r\n            .select(iterable.collectInt(DTO::getSecondId).toSet()::contains)\r\n            .toList();\r\n\r\nNote: I am a committer for [Eclipse Collections][1].\r\n\r\n  [1]: https://www.eclipse.org/collections/\r\n\r\n\r\n","title":"Java 8 stream unique Integers","body":"<p>If you're open to using a third-party library, you have a few options using <a href=\"https://www.eclipse.org/collections/\" rel=\"nofollow noreferrer\">Eclipse Collections</a>.  If you want to use <code>Stream</code>, the following should work using <code>Collectors2</code>.</p>\n\n<pre><code>MutableList&lt;Integer&gt; result =\n    dtos.stream().map(DTO::getFirstId).collect(Collectors2.toSet())\n        .intersect(dtos.stream().map(DTO::getSecondId).collect(Collectors2.toSet()))\n        .toList();\n</code></pre>\n\n<p>Eclipse Collections also has its only <code>LazyIterable</code> type that can be used instead of <code>Stream</code>.</p>\n\n<pre><code>LazyIterable&lt;DTO&gt; iterable = LazyIterate.adapt(dtos);\nMutableList&lt;Integer&gt; result =\n    iterable.collect(DTO::getFirstId).toSet()\n        .intersect(iterable.collect(DTO::getSecondId).toSet())\n        .toList();\n</code></pre>\n\n<p>Finally, if you have large numbers of ids, you might want to use primitive sets to avoid boxing <code>Integer</code> objects.  You can either work with <code>Stream</code> and <code>Collectors2</code> again as follows:</p>\n\n<pre><code>IntSet second = dtos.stream().collect(\n    Collectors2.collectInt(DTO::getSecondId, IntSets.mutable::empty));\nIntList result = dtos.stream().collect(\n    Collectors2.collectInt(DTO::getFirstId, IntSets.mutable::empty))\n        .select(second::contains).toList();\n</code></pre>\n\n<p>Or you can use <code>LazyIterable</code> as follows:</p>\n\n<pre><code>LazyIterable&lt;DTO&gt; iterable = LazyIterate.adapt(dtos);\nIntList result =\n    iterable.collectInt(DTO::getFirstId).toSet()\n        .select(iterable.collectInt(DTO::getSecondId).toSet()::contains)\n        .toList();\n</code></pre>\n\n<p>Note: I am a committer for <a href=\"https://www.eclipse.org/collections/\" rel=\"nofollow noreferrer\">Eclipse Collections</a>.</p>\n"}],"owner":{"account_id":10107763,"reputation":61,"user_id":7469768,"display_name":"seba21007"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9318,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":5,"score":6,"last_activity_date":1673151124,"creation_date":1487943812,"question_id":42440189,"body_markdown":"Can i reduce the following code to one/two line? \r\n\r\n\r\n    DTO dto;\r\n    List&lt;DTO&gt; dtos;\r\n    List&lt;Integer&gt; list1 = dtos.stream().map(DTO::getFirstId).distinct().collect(Collectors.toList());\r\n    List&lt;Integer&gt; list2 = dtos.stream().map(DTO::getSecondId).distinct().collect(Collectors.toList());\r\n\r\n    List&lt;Integer&gt; reducedId = list1.stream().filter(list2::contains).collect(Collectors.toList());","title":"Java 8 stream unique Integers","body":"<p>Can i reduce the following code to one/two line? </p>\n\n<pre><code>DTO dto;\nList&lt;DTO&gt; dtos;\nList&lt;Integer&gt; list1 = dtos.stream().map(DTO::getFirstId).distinct().collect(Collectors.toList());\nList&lt;Integer&gt; list2 = dtos.stream().map(DTO::getSecondId).distinct().collect(Collectors.toList());\n\nList&lt;Integer&gt; reducedId = list1.stream().filter(list2::contains).collect(Collectors.toList());\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1487369073,"creation_date":1487366748,"answer_id":42307654,"question_id":42307549,"body_markdown":"Use an `IntStream` between 0 and half the list&#39;s size, and multiply the elements by 2:\r\n\r\n    List&lt;String&gt; joined = \r\n        IntStream.range(0, strList.size() / 2)\r\n            .mapToObj(i -&gt; &quot;(&quot; + strList.get(2*i) + &quot; &quot;\r\n                    + strList.get(2*i + 1) + &quot;)&quot;)\r\n            .collect(Collectors.toList());\r\n\r\nThis puts the joined elements into a new list. To get rid of the un-joined elements from the original list, and prepend the joined elements, we can use a [`subList`](https://docs.oracle.com/javase/7/docs/api/java/util/List.html#subList(int,%20int)), which is a mutable view of the list:\r\n\r\n    List&lt;String&gt; subList = strList.subList(0, strList.size() / 2 * 2);\r\n    subList.clear();\r\n    subList.addAll(joined);\r\n\r\n[&lt;kbd&gt;Ideone Demo&lt;/kbd&gt;](http://ideone.com/CIpZik)\r\n\r\n----\r\n\r\nAn alternative to the sublist stuff would be to handle the last element in the stream too:\r\n\r\n    List&lt;String&gt; joined = \r\n        IntStream.range(0, (1 + strList.size()) / 2)\r\n            .mapToObj(i -&gt;\r\n                (2*i + 1) &lt; strList.size()\r\n                    ? &quot;(&quot; + strList.get(2*i) + &quot; &quot; + strList.get(2*i + 1) + &quot;)&quot;\r\n                    : strList.get(2*i))\r\n            .collect(Collectors.toList());\r\n\r\n[&lt;kbd&gt;Ideone demo&lt;/kbd&gt;](http://ideone.com/jDvtgA)","title":"Concatenating every other array element","body":"<p>Use an <code>IntStream</code> between 0 and half the list's size, and multiply the elements by 2:</p>\n\n<pre><code>List&lt;String&gt; joined = \n    IntStream.range(0, strList.size() / 2)\n        .mapToObj(i -&gt; \"(\" + strList.get(2*i) + \" \"\n                + strList.get(2*i + 1) + \")\")\n        .collect(Collectors.toList());\n</code></pre>\n\n<p>This puts the joined elements into a new list. To get rid of the un-joined elements from the original list, and prepend the joined elements, we can use a <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/List.html#subList(int,%20int)\" rel=\"nofollow noreferrer\"><code>subList</code></a>, which is a mutable view of the list:</p>\n\n<pre><code>List&lt;String&gt; subList = strList.subList(0, strList.size() / 2 * 2);\nsubList.clear();\nsubList.addAll(joined);\n</code></pre>\n\n<p><a href=\"http://ideone.com/CIpZik\" rel=\"nofollow noreferrer\"><kbd>Ideone Demo</kbd></a></p>\n\n<hr>\n\n<p>An alternative to the sublist stuff would be to handle the last element in the stream too:</p>\n\n<pre><code>List&lt;String&gt; joined = \n    IntStream.range(0, (1 + strList.size()) / 2)\n        .mapToObj(i -&gt;\n            (2*i + 1) &lt; strList.size()\n                ? \"(\" + strList.get(2*i) + \" \" + strList.get(2*i + 1) + \")\"\n                : strList.get(2*i))\n        .collect(Collectors.toList());\n</code></pre>\n\n<p><a href=\"http://ideone.com/jDvtgA\" rel=\"nofollow noreferrer\"><kbd>Ideone demo</kbd></a></p>\n"},{"tags":[],"owner":{"account_id":4120139,"reputation":1,"user_id":3380739,"display_name":"user_3380739"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673151105,"creation_date":1487378222,"answer_id":42309710,"question_id":42307549,"body_markdown":"The answer provided by @Andy Turner looks wonderful. Here I just provide alternative solution by [abacus-common][1].\r\n\r\n    List&lt;String&gt; strList = N.asList(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;);\r\n    List&lt;String&gt; result = Stream.of(strList).split(2).map(e -&gt; e.join(&quot; &quot;, &quot;(&quot;, &quot;)&quot;)).toList();\r\n    N.println(result); // [(a b), (c d)]\r\n\r\n    strList = N.asList(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;);\r\n    result = Stream.of(strList).split(2).map(e -&gt; e.join(&quot; &quot;, &quot;(&quot;, &quot;)&quot;)).toList();\r\n    N.println(result); // [(a b), (c d), (e)]\r\n\r\n\r\n  [1]: https://github.com/landawn/abacus-common","title":"Concatenating every other array element","body":"<p>The answer provided by @Andy Turner looks wonderful. Here I just provide alternative solution by <a href=\"https://github.com/landawn/abacus-common\" rel=\"nofollow noreferrer\">abacus-common</a>.</p>\n<pre><code>List&lt;String&gt; strList = N.asList(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;);\nList&lt;String&gt; result = Stream.of(strList).split(2).map(e -&gt; e.join(&quot; &quot;, &quot;(&quot;, &quot;)&quot;)).toList();\nN.println(result); // [(a b), (c d)]\n\nstrList = N.asList(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;);\nresult = Stream.of(strList).split(2).map(e -&gt; e.join(&quot; &quot;, &quot;(&quot;, &quot;)&quot;)).toList();\nN.println(result); // [(a b), (c d), (e)]\n</code></pre>\n"}],"owner":{"account_id":237112,"reputation":734,"user_id":505062,"accept_rate":47,"display_name":"Sultan Shakir"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":374,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1673151105,"creation_date":1487366306,"question_id":42307549,"body_markdown":"I am learning how to use Java 8 streams.  How can I do the following using streams instead of a for loop:\r\n\r\n    public static void clump(ArrayList strList)\r\n\t{\r\n\t\tfor(int i = 0; i &lt; strList.size() - 1; i++)\r\n\t\t{\r\n\t\t\tString newStr = &quot;(&quot; + strList.get(i) + &quot; &quot;\r\n\t\t\t\t\t+ strList.get(i + 1) + &quot;)&quot;;\r\n\r\n\t\t\tstrList.set(i, newStr);\r\n\t\t\tstrList.remove(i + 1);\r\n\t\t}\r\n\t}","title":"Concatenating every other array element","body":"<p>I am learning how to use Java 8 streams.  How can I do the following using streams instead of a for loop:</p>\n\n<pre><code>public static void clump(ArrayList strList)\n{\n    for(int i = 0; i &lt; strList.size() - 1; i++)\n    {\n        String newStr = \"(\" + strList.get(i) + \" \"\n                + strList.get(i + 1) + \")\";\n\n        strList.set(i, newStr);\n        strList.remove(i + 1);\n    }\n}\n</code></pre>\n"},{"tags":["java","java-8","java-stream"],"answers":[{"tags":[],"owner":{"account_id":257991,"reputation":951,"user_id":539864,"display_name":"xiumeteo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1487363854,"creation_date":1487363854,"answer_id":42306956,"question_id":42303654,"body_markdown":"I think this could be a solution:\r\n\r\n\r\n    final Map&lt;String, List&lt;Optional&lt;RowForCsv&gt;&gt;&gt; collect1 =\r\n                rows.stream().collect(Collectors.groupingBy(RowForCsv::getCompanyName, Collectors.collectingAndThen(Collectors.toList(), byBank -&gt; {\r\n                    return byBank.stream() //\r\n                        .collect(Collectors.groupingBy(RowForCsv::getCustomerName)).values().stream()\r\n                        .map(byUser -&gt; byUser.stream().reduce((r1, r2) -&gt; r2)).collect(Collectors.toList()); //\r\n                })));\r\n\r\nAnother approach could be to &quot;reduce&quot; the initial rows so that you have unique rows per User, and then groupBy companies. \r\n\r\nIf I have more time I will get back to this. Interesting issue tho. Maybe you can try improving your queries from db. Grouping by from the db side it is always faster.\r\n","title":"Reparse and map elements from list","body":"<p>I think this could be a solution:</p>\n\n<pre><code>final Map&lt;String, List&lt;Optional&lt;RowForCsv&gt;&gt;&gt; collect1 =\n            rows.stream().collect(Collectors.groupingBy(RowForCsv::getCompanyName, Collectors.collectingAndThen(Collectors.toList(), byBank -&gt; {\n                return byBank.stream() //\n                    .collect(Collectors.groupingBy(RowForCsv::getCustomerName)).values().stream()\n                    .map(byUser -&gt; byUser.stream().reduce((r1, r2) -&gt; r2)).collect(Collectors.toList()); //\n            })));\n</code></pre>\n\n<p>Another approach could be to \"reduce\" the initial rows so that you have unique rows per User, and then groupBy companies. </p>\n\n<p>If I have more time I will get back to this. Interesting issue tho. Maybe you can try improving your queries from db. Grouping by from the db side it is always faster.</p>\n"},{"tags":[],"owner":{"account_id":4120139,"reputation":1,"user_id":3380739,"display_name":"user_3380739"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673151090,"creation_date":1487380914,"answer_id":42310031,"question_id":42303654,"body_markdown":"If I understand your question correctly: you want to group by the records by company name, and merge the transactions by maximum creditAmount/debitAmount with same customer name. Here is my solution by [abacus-common][1]\r\n\r\n    // merge two records with same customer name by using the maximum creditAmount/debitAmount\r\n    BinaryOperator&lt;RowForCsv&gt; mergeFunction = (a, b) -&gt; {\r\n        RowForCsv c = new RowForCsv();\r\n        c.companyName = a.companyName;\r\n        c.customerName = a.customerName;\r\n        c.creditAmount = N.max(a.creditAmount, b.creditAmount);\r\n        c.debitAmount = N.max(a.creditAmount, b.creditAmount);\r\n        return c;\r\n    };\r\n\r\n    Map&lt;String, Collection&lt;RowForCsv&gt;&gt; mergedAmountByCompanyName = \r\n      Stream.of(records).groupBy(e -&gt; e.getCompanyName())\r\n      .toMap(e -&gt; e.getKey(),\r\n             e -&gt; Stream.of(e.getValue())\r\n                 .toMap(e2 -&gt; e2.getCustomerName(), e2 -&gt; e2, mergeFunction).values());\r\n\r\n\r\n  [1]: https://github.com/landawn/abacus-common","title":"Reparse and map elements from list","body":"<p>If I understand your question correctly: you want to group by the records by company name, and merge the transactions by maximum creditAmount/debitAmount with same customer name. Here is my solution by <a href=\"https://github.com/landawn/abacus-common\" rel=\"nofollow noreferrer\">abacus-common</a></p>\n<pre><code>// merge two records with same customer name by using the maximum creditAmount/debitAmount\nBinaryOperator&lt;RowForCsv&gt; mergeFunction = (a, b) -&gt; {\n    RowForCsv c = new RowForCsv();\n    c.companyName = a.companyName;\n    c.customerName = a.customerName;\n    c.creditAmount = N.max(a.creditAmount, b.creditAmount);\n    c.debitAmount = N.max(a.creditAmount, b.creditAmount);\n    return c;\n};\n\nMap&lt;String, Collection&lt;RowForCsv&gt;&gt; mergedAmountByCompanyName = \n  Stream.of(records).groupBy(e -&gt; e.getCompanyName())\n  .toMap(e -&gt; e.getKey(),\n         e -&gt; Stream.of(e.getValue())\n             .toMap(e2 -&gt; e2.getCustomerName(), e2 -&gt; e2, mergeFunction).values());\n</code></pre>\n"}],"owner":{"account_id":1426721,"reputation":13,"user_id":1350028,"display_name":"iamthereplicant"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1673151090,"creation_date":1487351416,"question_id":42303654,"body_markdown":"I&#39;m relatively new to Java 8 and trying to wrap my head around streams.\r\nI have a query from a database that returns the following:\r\n\r\n    String companyName | \r\n    String clientName | \r\n    BigDecimal amount | \r\n    String transactionType (either credit or debit) | \r\n    long numberOfTransactions\r\n\r\nI store each row in this object, using the value of the transactionType field to determine which of creditAmount or debitAmount amount gets filled\r\n\r\n    public RowForCsv{\r\n        private String companyName;\r\n\t    private String customerName;\r\n\t    private BigDecimal creditAmount;\r\n\t    private BigDecimal debitAmount;\r\n        @Override\r\n\t    public int hashCode() {\r\n\t\t    final int prime = 31;\r\n\t\t    int result = 1;\r\n\t\t    result = prime * result + ((companyName == null) ? 0 : companyName.hashCode());\r\n\t\t    result = prime * result + ((customerName == null) ? 0 : customerName.hashCode());\r\n\t\t    return result;\r\n\t    }\r\n    }\r\n\r\nI need to use this data to make separate CSV files for the transactions associated with each company name, meaning ultimately I&#39;d like a \r\n\r\n    `Map&lt;String companyName, List&lt;RowForCsv&gt; associatedTransactions&gt;`\r\n\r\nSince clients can issue both credits and debits I&#39;d also like to merge separate RowForCsv objects with the same customer and company names into one RowForCsv object.\r\n\r\nHere&#39;s what I&#39;ve tried:\r\n    \r\n    //Get Map&lt;name, list of transactions&gt;\r\n    Map&lt;String, List&lt;ReconciliationRecordForCsv&gt;&gt; mapByCompanyName = records.stream().collect(Collectors.groupingBy(ReconciliationRecordForCsv::getCompanyName));\r\n    // Merge duplicates\r\n    mapByCompanyName.replaceAll((k, v) -&gt; {\r\n        v.stream().collect(Collectors.collectingAndThen(\r\n            Collectors.groupingBy(RowForCsv::hashCode), \r\n                Collectors.collectingAndThen(Collectors.reducing((a, b) -&gt; mergeCreditAndDebitRecords(a, b)), Optional::get)), \r\n                    m -&gt; new ArrayList&lt;&gt;(m.values()));\r\n\t\t});\r\n\r\nThis is my merging function, which I think I&#39;ve misunderstood the concept of...\r\n    \r\n    private RowForCsv mergeCreditAndDebitRecords(RowForCsv first, RowForCsv second) {\r\n\t\tRowForCsv.Builder merged = new RowForCsv.Builder();\r\n\t\treturn merged.companyName(first.getCompanyName())\r\n\t\t\t\t.customerName(first.getCustomerName())\r\n\t\t\t\t.creditAmount(getLarger(first.getCreditAmount(), second.getCreditAmount()))\r\n\t\t\t\t.debitAmount(getLarger(first.getDebitAmount(), second.getDebitAmount()))\r\n\t\t\t\t.build();\r\n\t}\r\n\r\nAt this point I&#39;m getting errors relating to the replace all (k,v) having no types, the collectingAndThens are all throwing errors related to their chaining, and the merge function is not valid for types (Object, Object).\r\n\r\nI have a feeling I&#39;m approaching this in the wrong way but I don&#39;t see what I should be doing differently, and any guidance would be greatly appreciated.\r\n","title":"Reparse and map elements from list","body":"<p>I'm relatively new to Java 8 and trying to wrap my head around streams.\nI have a query from a database that returns the following:</p>\n\n<pre><code>String companyName | \nString clientName | \nBigDecimal amount | \nString transactionType (either credit or debit) | \nlong numberOfTransactions\n</code></pre>\n\n<p>I store each row in this object, using the value of the transactionType field to determine which of creditAmount or debitAmount amount gets filled</p>\n\n<pre><code>public RowForCsv{\n    private String companyName;\n    private String customerName;\n    private BigDecimal creditAmount;\n    private BigDecimal debitAmount;\n    @Override\n    public int hashCode() {\n        final int prime = 31;\n        int result = 1;\n        result = prime * result + ((companyName == null) ? 0 : companyName.hashCode());\n        result = prime * result + ((customerName == null) ? 0 : customerName.hashCode());\n        return result;\n    }\n}\n</code></pre>\n\n<p>I need to use this data to make separate CSV files for the transactions associated with each company name, meaning ultimately I'd like a </p>\n\n<pre><code>`Map&lt;String companyName, List&lt;RowForCsv&gt; associatedTransactions&gt;`\n</code></pre>\n\n<p>Since clients can issue both credits and debits I'd also like to merge separate RowForCsv objects with the same customer and company names into one RowForCsv object.</p>\n\n<p>Here's what I've tried:</p>\n\n<pre><code>//Get Map&lt;name, list of transactions&gt;\nMap&lt;String, List&lt;ReconciliationRecordForCsv&gt;&gt; mapByCompanyName = records.stream().collect(Collectors.groupingBy(ReconciliationRecordForCsv::getCompanyName));\n// Merge duplicates\nmapByCompanyName.replaceAll((k, v) -&gt; {\n    v.stream().collect(Collectors.collectingAndThen(\n        Collectors.groupingBy(RowForCsv::hashCode), \n            Collectors.collectingAndThen(Collectors.reducing((a, b) -&gt; mergeCreditAndDebitRecords(a, b)), Optional::get)), \n                m -&gt; new ArrayList&lt;&gt;(m.values()));\n    });\n</code></pre>\n\n<p>This is my merging function, which I think I've misunderstood the concept of...</p>\n\n<pre><code>private RowForCsv mergeCreditAndDebitRecords(RowForCsv first, RowForCsv second) {\n    RowForCsv.Builder merged = new RowForCsv.Builder();\n    return merged.companyName(first.getCompanyName())\n            .customerName(first.getCustomerName())\n            .creditAmount(getLarger(first.getCreditAmount(), second.getCreditAmount()))\n            .debitAmount(getLarger(first.getDebitAmount(), second.getDebitAmount()))\n            .build();\n}\n</code></pre>\n\n<p>At this point I'm getting errors relating to the replace all (k,v) having no types, the collectingAndThens are all throwing errors related to their chaining, and the merge function is not valid for types (Object, Object).</p>\n\n<p>I have a feeling I'm approaching this in the wrong way but I don't see what I should be doing differently, and any guidance would be greatly appreciated.</p>\n"},{"tags":["java","lambda","java-8","java-stream"],"comments":[{"owner":{"account_id":4146553,"reputation":32805,"user_id":5743988,"accept_rate":67,"display_name":"4castle"},"score":0,"creation_date":1487630200,"post_id":42353730,"comment_id":71861565,"body_markdown":"Possible duplicate of [Java Lambda Stream Distinct() on arbitrary key?](http://stackoverflow.com/questions/27870136/java-lambda-stream-distinct-on-arbitrary-key)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/27870136/java-lambda-stream-distinct-on-arbitrary-key\">Java Lambda Stream Distinct() on arbitrary key?</a>"}],"answers":[{"tags":[],"owner":{"account_id":316371,"reputation":9541,"user_id":632516,"accept_rate":74,"display_name":"Divers"},"down_vote_count":1,"up_vote_count":5,"is_accepted":true,"score":4,"last_activity_date":1487628052,"creation_date":1487625149,"answer_id":42354291,"question_id":42353730,"body_markdown":"You can do it that way:\r\n\r\n    originalList.stream()\r\n        .collect(Collectors.toMap(thing -&gt; thing.getNestedThingy().getAttr(), p -&gt; p, (p, q) -&gt; p))\r\n        .values();\r\n\r\nNot sure if the most optimal way though, I&#39;m on Android, so don&#39;t use streams in daily job.\r\n\r\n**UPD**\r\n\r\nFor someone can not compile it, there is [full code][1] of my test file.\r\n\r\n\r\n  [1]: https://gist.github.com/kidinov/39daa2fa0beedc0261730505f3799b0a","title":"Java 8 filter list of pojos based on nested object attribute","body":"<p>You can do it that way:</p>\n\n<pre><code>originalList.stream()\n    .collect(Collectors.toMap(thing -&gt; thing.getNestedThingy().getAttr(), p -&gt; p, (p, q) -&gt; p))\n    .values();\n</code></pre>\n\n<p>Not sure if the most optimal way though, I'm on Android, so don't use streams in daily job.</p>\n\n<p><strong>UPD</strong></p>\n\n<p>For someone can not compile it, there is <a href=\"https://gist.github.com/kidinov/39daa2fa0beedc0261730505f3799b0a\" rel=\"nofollow noreferrer\">full code</a> of my test file.</p>\n"},{"tags":[],"owner":{"account_id":5372162,"reputation":4506,"user_id":4280359,"accept_rate":100,"display_name":"Grzegorz G&#243;rkiewicz"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1487630897,"creation_date":1487625830,"answer_id":42354475,"question_id":42353730,"body_markdown":"I keep a set of unique nested thingies&#39; attributes...\r\nthen I try to add an element to it.\r\nWhen the set &quot;grows&quot;, it means that an unique element has been encountered.\r\nWhen the set size does not change, it means that this `Thingy` has a `NestedThingy` with an already encountered attribute.\r\nTogether with a simple test that would be:\r\n\r\n    public class Thingies {\r\n    \r\n        public static &lt;T&gt; Predicate&lt;T&gt; distinctByKey(Function&lt;? super T, ?&gt; keyExtractor) {\r\n            final Set&lt;Object&gt; seen = Collections.synchronizedSet(new HashSet&lt;&gt;());\r\n            return t -&gt; seen.add(keyExtractor.apply(t));\r\n        }\r\n        \r\n        private static List&lt;Thingy&gt; getUniqueBasedOnDifferentThingyAttr(List&lt;Thingy&gt; originalList) {\r\n            return originalList.stream()\r\n                    .filter(distinctByKey(thingy -&gt; thingy.getNestedThingy().getAttr()))\r\n                    .collect(toList());\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            List&lt;Thingy&gt; originalList = new ArrayList&lt;&gt;();\r\n            originalList.add(new Thingy(new DifferentThingy(&quot;first&quot;)));\r\n            originalList.add(new Thingy(new DifferentThingy(&quot;first&quot;)));\r\n            originalList.add(new Thingy(new DifferentThingy(&quot;second&quot;)));\r\n            System.out.println(getUniqueBasedOnDifferentThingyAttr(originalList));\r\n        }\r\n    }\r\n\r\nOutput:\r\n\r\n    [first, second]\r\n\r\nThe original answer, which helped the OP, (a bit lengthy and not good for parallel streams) contained such a method instead:\r\n\r\n    private static List&lt;Thingy&gt; getUniqueBasedOnDifferentThingyAttr(List&lt;Thingy&gt; originalList) {\r\n        final Set&lt;String&gt; uniqueAttributes = new HashSet&lt;&gt;(originalList.size());\r\n        return originalList.stream()\r\n                .filter(thingy -&gt; {\r\n                    int initialSize = uniqueAttributes.size();\r\n                    uniqueAttributes.add(thingy.getNestedThingy().getAttr());\r\n                    return initialSize != uniqueAttributes.size();\r\n                }).collect(toList());\r\n    }\r\n\r\n\r\n","title":"Java 8 filter list of pojos based on nested object attribute","body":"<p>I keep a set of unique nested thingies' attributes...\nthen I try to add an element to it.\nWhen the set \"grows\", it means that an unique element has been encountered.\nWhen the set size does not change, it means that this <code>Thingy</code> has a <code>NestedThingy</code> with an already encountered attribute.\nTogether with a simple test that would be:</p>\n\n<pre><code>public class Thingies {\n\n    public static &lt;T&gt; Predicate&lt;T&gt; distinctByKey(Function&lt;? super T, ?&gt; keyExtractor) {\n        final Set&lt;Object&gt; seen = Collections.synchronizedSet(new HashSet&lt;&gt;());\n        return t -&gt; seen.add(keyExtractor.apply(t));\n    }\n\n    private static List&lt;Thingy&gt; getUniqueBasedOnDifferentThingyAttr(List&lt;Thingy&gt; originalList) {\n        return originalList.stream()\n                .filter(distinctByKey(thingy -&gt; thingy.getNestedThingy().getAttr()))\n                .collect(toList());\n    }\n\n    public static void main(String[] args) {\n        List&lt;Thingy&gt; originalList = new ArrayList&lt;&gt;();\n        originalList.add(new Thingy(new DifferentThingy(\"first\")));\n        originalList.add(new Thingy(new DifferentThingy(\"first\")));\n        originalList.add(new Thingy(new DifferentThingy(\"second\")));\n        System.out.println(getUniqueBasedOnDifferentThingyAttr(originalList));\n    }\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>[first, second]\n</code></pre>\n\n<p>The original answer, which helped the OP, (a bit lengthy and not good for parallel streams) contained such a method instead:</p>\n\n<pre><code>private static List&lt;Thingy&gt; getUniqueBasedOnDifferentThingyAttr(List&lt;Thingy&gt; originalList) {\n    final Set&lt;String&gt; uniqueAttributes = new HashSet&lt;&gt;(originalList.size());\n    return originalList.stream()\n            .filter(thingy -&gt; {\n                int initialSize = uniqueAttributes.size();\n                uniqueAttributes.add(thingy.getNestedThingy().getAttr());\n                return initialSize != uniqueAttributes.size();\n            }).collect(toList());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7007911,"reputation":11784,"user_id":5371736,"accept_rate":56,"display_name":"Mathias Dpunkt"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1487626540,"creation_date":1487626540,"answer_id":42354643,"question_id":42353730,"body_markdown":"What about making it far more explicit using [javaslang][1]\r\n\r\n    javaslang.collection.List.ofAll(thingies)\r\n      .distinctBy(t -&gt; t.getNestedThingy().getAttr());\r\n\r\n\r\n&gt; Javaslang core is a functional library for Java 8+. It helps to reduce the amount of code and to increase the robustness. A first step towards functional programming is to start thinking in immutable values. Javaslang provides immutable collections and the necessary functions and control structures to operate on these values. The results are beautiful and just work.\r\n\r\n  [1]: http://www.javaslang.io/","title":"Java 8 filter list of pojos based on nested object attribute","body":"<p>What about making it far more explicit using <a href=\"http://www.javaslang.io/\" rel=\"nofollow noreferrer\">javaslang</a></p>\n\n<pre><code>javaslang.collection.List.ofAll(thingies)\n  .distinctBy(t -&gt; t.getNestedThingy().getAttr());\n</code></pre>\n\n<blockquote>\n  <p>Javaslang core is a functional library for Java 8+. It helps to reduce the amount of code and to increase the robustness. A first step towards functional programming is to start thinking in immutable values. Javaslang provides immutable collections and the necessary functions and control structures to operate on these values. The results are beautiful and just work.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":4264083,"reputation":6317,"user_id":3487617,"display_name":"Hank D"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1487692389,"creation_date":1487692389,"answer_id":42371995,"question_id":42353730,"body_markdown":"You might use a `TreeSet` whose comparator reaches into the subobject&#39;s attribute:\r\n\r\n    private static List&lt;Thingy&gt; getUniqueBasedOnDifferentThingyAttr(List&lt;Thingy&gt; originalList) {\r\n        \r\n        Set&lt;Thingy&gt; uniqueSet = new TreeSet&lt;Thingy&gt;(Comparator.comparing(thingy -&gt; thingy.getNestedThingy().getAttr()));\r\n        \r\n        return originalList.stream()\r\n                .filter(uniqueSet::add)\r\n                .collect(Collectors.toList());\r\n    }\r\n\r\n`uniqueSet::add` makes an adequate uniqueness filter because it returns true only if the item is not already in the set.","title":"Java 8 filter list of pojos based on nested object attribute","body":"<p>You might use a <code>TreeSet</code> whose comparator reaches into the subobject's attribute:</p>\n\n<pre><code>private static List&lt;Thingy&gt; getUniqueBasedOnDifferentThingyAttr(List&lt;Thingy&gt; originalList) {\n\n    Set&lt;Thingy&gt; uniqueSet = new TreeSet&lt;Thingy&gt;(Comparator.comparing(thingy -&gt; thingy.getNestedThingy().getAttr()));\n\n    return originalList.stream()\n            .filter(uniqueSet::add)\n            .collect(Collectors.toList());\n}\n</code></pre>\n\n<p><code>uniqueSet::add</code> makes an adequate uniqueness filter because it returns true only if the item is not already in the set.</p>\n"},{"tags":[],"owner":{"account_id":4120139,"reputation":1,"user_id":3380739,"display_name":"user_3380739"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673151071,"creation_date":1487705069,"answer_id":42376181,"question_id":42353730,"body_markdown":"With [StreamEx][1]:\r\n\r\n    StreamEx.of(originalList).distinct(e -&gt; e.getNestedThingy().getAttr()).toList();\r\n\r\nOr by [abacus-common][2]\r\n\r\n    Stream.of(originalList).distinct(e -&gt; e.getNestedThingy().getAttr()).toList();\r\n\r\n  [1]: https://github.com/amaembo/streamex\r\n  [2]: https://github.com/landawn/abacus-common","title":"Java 8 filter list of pojos based on nested object attribute","body":"<p>With <a href=\"https://github.com/amaembo/streamex\" rel=\"nofollow noreferrer\">StreamEx</a>:</p>\n<pre><code>StreamEx.of(originalList).distinct(e -&gt; e.getNestedThingy().getAttr()).toList();\n</code></pre>\n<p>Or by <a href=\"https://github.com/landawn/abacus-common\" rel=\"nofollow noreferrer\">abacus-common</a></p>\n<pre><code>Stream.of(originalList).distinct(e -&gt; e.getNestedThingy().getAttr()).toList();\n</code></pre>\n"}],"owner":{"account_id":8229032,"reputation":735,"user_id":6190338,"accept_rate":67,"display_name":"JellyRaptor"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5372,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":42354291,"answer_count":5,"score":4,"last_activity_date":1673151071,"creation_date":1487622848,"question_id":42353730,"body_markdown":"I have a list of Thingy pojos, such that:\r\n\r\n    public class Thingy {\r\n        private DifferentThingy nestedThingy;\r\n        public DifferentThingy getNestedThingy() {\r\n            return this.nestedThingy;\r\n        }\r\n    }\r\n...\r\n\r\n    public class DifferentThingy {\r\n        private String attr;\r\n        public String getAttr() {\r\n            return this.attr;\r\n        }\r\n    }\r\n\r\nI want to filter a\r\n\r\n    List&lt;Thingy&gt;\r\nto be unique based on the\r\n\r\n    attr\r\nof the Thingy&#39;s\r\n\r\n    DifferentThingy\r\n\r\nHere is what I have tried so far:\r\n\r\n    private List&lt;Thingy&gt; getUniqueBasedOnDifferentThingyAttr(List&lt;Thingy&gt; originalList) {\r\n    \tList&lt;Thingy&gt; uniqueItems = new ArrayList&lt;Thingy&gt;();\r\n    \tSet&lt;String&gt; encounteredNestedDiffThingyAttrs= new HashSet&lt;String&gt;();\r\n    \tfor (Thingy t: originalList) {\r\n    \t\tString nestedDiffThingyAttr = t.getNestedThingy().getAttr();\r\n    \t\tif(!encounteredNestedDiffThingyAttrs.contains(nestedDiffThingyAttr)) {\r\n    \t\t\tencounteredNestedDiffThingyAttrs.add(nestedDiffThingyAttr);\r\n    \t\t\tuniqueItems.add(t);\r\n    \t\t}\r\n    \t}\r\n    \treturn uniqueItems;\r\n    }\r\n\r\nI want to do this using a Java 8 stream and lambdas for the two getters that end up retrieving the attribute used for determining uniqueness, but am unsure how.  I know how to do it when the attribute for comparison is on the top level of the pojo, but not when the attribute is nested in another object.","title":"Java 8 filter list of pojos based on nested object attribute","body":"<p>I have a list of Thingy pojos, such that:</p>\n\n<pre><code>public class Thingy {\n    private DifferentThingy nestedThingy;\n    public DifferentThingy getNestedThingy() {\n        return this.nestedThingy;\n    }\n}\n</code></pre>\n\n<p>...</p>\n\n<pre><code>public class DifferentThingy {\n    private String attr;\n    public String getAttr() {\n        return this.attr;\n    }\n}\n</code></pre>\n\n<p>I want to filter a</p>\n\n<pre><code>List&lt;Thingy&gt;\n</code></pre>\n\n<p>to be unique based on the</p>\n\n<pre><code>attr\n</code></pre>\n\n<p>of the Thingy's</p>\n\n<pre><code>DifferentThingy\n</code></pre>\n\n<p>Here is what I have tried so far:</p>\n\n<pre><code>private List&lt;Thingy&gt; getUniqueBasedOnDifferentThingyAttr(List&lt;Thingy&gt; originalList) {\n    List&lt;Thingy&gt; uniqueItems = new ArrayList&lt;Thingy&gt;();\n    Set&lt;String&gt; encounteredNestedDiffThingyAttrs= new HashSet&lt;String&gt;();\n    for (Thingy t: originalList) {\n        String nestedDiffThingyAttr = t.getNestedThingy().getAttr();\n        if(!encounteredNestedDiffThingyAttrs.contains(nestedDiffThingyAttr)) {\n            encounteredNestedDiffThingyAttrs.add(nestedDiffThingyAttr);\n            uniqueItems.add(t);\n        }\n    }\n    return uniqueItems;\n}\n</code></pre>\n\n<p>I want to do this using a Java 8 stream and lambdas for the two getters that end up retrieving the attribute used for determining uniqueness, but am unsure how.  I know how to do it when the attribute for comparison is on the top level of the pojo, but not when the attribute is nested in another object.</p>\n"},{"tags":["java","java-8","iterator","java-stream"],"comments":[{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":5,"creation_date":1581574121,"post_id":60200986,"comment_id":106482154,"body_markdown":"If I may try to (over)simplify the problem, given that the benefit to processing these data sets in parallel is established, I&#39;d do something that easily achieves exactly that, but simply and reliably (like a correctly sized executor service taking a stream task for each iterator). IMO, trying to run this through a single parallel stream pipeline will take a bit of engineering to come up with a split iterator that would partition collections exactly as desired, and in a deterministic way.","body":"If I may try to (over)simplify the problem, given that the benefit to processing these data sets in parallel is established, I&#39;d do something that easily achieves exactly that, but simply and reliably (like a correctly sized executor service taking a stream task for each iterator). IMO, trying to run this through a single parallel stream pipeline will take a bit of engineering to come up with a split iterator that would partition collections exactly as desired, and in a deterministic way."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1581587514,"post_id":60200986,"comment_id":106488320,"body_markdown":"@ernest_k actually, composed streams (`concat` or `flatMap`) tend to split precisely at their components, which would be these iterators. The bigger problem is that the parallel stream will be configured according to the local number of CPU cores, instead of the number of database partitions.","body":"@ernest_k actually, composed streams (<code>concat</code> or <code>flatMap</code>) tend to split precisely at their components, which would be these iterators. The bigger problem is that the parallel stream will be configured according to the local number of CPU cores, instead of the number of database partitions."},{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":1,"creation_date":1581588590,"post_id":60200986,"comment_id":106488970,"body_markdown":"@Holger great, that makes an easy-ish answer for the OP&#39;s question (unless that&#39;s up to the implementation - tl;dr)","body":"@Holger great, that makes an easy-ish answer for the OP&#39;s question (unless that&#39;s up to the implementation - tl;dr)"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1581592491,"post_id":60200986,"comment_id":106491279,"body_markdown":"@ernest_k Id prefer your approach of telling about the right tool for the job.","body":"@ernest_k Id prefer your approach of telling about the right tool for the job."}],"answers":[{"tags":[],"owner":{"account_id":4120139,"reputation":1,"user_id":3380739,"display_name":"user_3380739"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673150903,"creation_date":1581698759,"answer_id":60230421,"question_id":60200986,"body_markdown":"You may could have a try with `Stream` provided in [abacus-common][1]\r\n\r\n\r\n    List&lt;Stream&lt;Integer&gt;&gt; iters = IntStream.range(1, 32).mapToObj(it -&gt; Stream.repeat(1, it).peek(Fn.sleep(3))).toList();\r\n\r\n    long startTime = System.currentTimeMillis();\r\n    Stream.concat(iters).sumInt(Integer::intValue);\r\n    System.out.println(&quot;Took: &quot; + (System.currentTimeMillis() - startTime)); // print out: Took: 1535\r\n\r\n    iters = IntStream.range(1, 32).mapToObj(it -&gt; Stream.repeat(1, it).peek(Fn.sleep(3))).toList();\r\n\r\n    startTime = System.currentTimeMillis();\r\n    Stream.parallelConcat(iters).sumInt(Integer::intValue);\r\n    System.out.println(&quot;Took: &quot; + (System.currentTimeMillis() - startTime)); // print out: Took: 251\r\n\r\nDisclaimerI&#39;m the developer of [abacus-common][1].\r\n\r\n  [1]: https://github.com/landawn/abacus-common","title":"How do I create a parallel spliterator from multiple iterators?","body":"<p>You may could have a try with <code>Stream</code> provided in <a href=\"https://github.com/landawn/abacus-common\" rel=\"nofollow noreferrer\">abacus-common</a></p>\n<pre><code>List&lt;Stream&lt;Integer&gt;&gt; iters = IntStream.range(1, 32).mapToObj(it -&gt; Stream.repeat(1, it).peek(Fn.sleep(3))).toList();\n\nlong startTime = System.currentTimeMillis();\nStream.concat(iters).sumInt(Integer::intValue);\nSystem.out.println(&quot;Took: &quot; + (System.currentTimeMillis() - startTime)); // print out: Took: 1535\n\niters = IntStream.range(1, 32).mapToObj(it -&gt; Stream.repeat(1, it).peek(Fn.sleep(3))).toList();\n\nstartTime = System.currentTimeMillis();\nStream.parallelConcat(iters).sumInt(Integer::intValue);\nSystem.out.println(&quot;Took: &quot; + (System.currentTimeMillis() - startTime)); // print out: Took: 251\n</code></pre>\n<p>DisclaimerI'm the developer of <a href=\"https://github.com/landawn/abacus-common\" rel=\"nofollow noreferrer\">abacus-common</a>.</p>\n"}],"owner":{"account_id":115919,"reputation":43529,"user_id":304151,"accept_rate":81,"display_name":"Mridang Agarwalla"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":288,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":1,"score":2,"last_activity_date":1673150903,"creation_date":1581571573,"question_id":60200986,"body_markdown":"I have a list of cursor-backed iterators that are returned by a method that executes multiple database queries. \r\n\r\nSince each cursor-backed iterator is partitioned as such on the database, I&#39;d like to leverage parallel-stream operations on the resultant stream as well. For this, I&#39;d like to create a spliterator.\r\n\r\n    List&lt;Iterator&lt;Article&gt;&gt; articleIterators = executeQuery();\r\n\r\nHow would I go about creating a spliterator? Assume that the items in each iterator are ordered. It is possible that my thinking is fundamentally flawed.\r\n\r\n-- -\r\n\r\nA bit more background: I run multiple Cassandra queries so each query hits a different partition. Each query returns its own lazy paging iterator.","title":"How do I create a parallel spliterator from multiple iterators?","body":"<p>I have a list of cursor-backed iterators that are returned by a method that executes multiple database queries. </p>\n\n<p>Since each cursor-backed iterator is partitioned as such on the database, I'd like to leverage parallel-stream operations on the resultant stream as well. For this, I'd like to create a spliterator.</p>\n\n<pre><code>List&lt;Iterator&lt;Article&gt;&gt; articleIterators = executeQuery();\n</code></pre>\n\n<p>How would I go about creating a spliterator? Assume that the items in each iterator are ordered. It is possible that my thinking is fundamentally flawed.</p>\n\n<hr>\n\n<p>A bit more background: I run multiple Cassandra queries so each query hits a different partition. Each query returns its own lazy paging iterator.</p>\n"},{"tags":["java","multithreading","java-8","java-stream"],"answers":[{"tags":[],"owner":{"account_id":1607778,"reputation":4341,"user_id":1487469,"accept_rate":76,"display_name":"Pramod S. Nikam"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1577181777,"creation_date":1577100177,"answer_id":59454482,"question_id":59454398,"body_markdown":"You can use :\r\n\r\n    orders.stream().parallel().forEachOrdered(// Your rules logic goes here. )\r\n\r\n**ForEachOrdered guarantees to maintain the order of the Stream.**\r\n\r\nSo for your reference:\r\n\r\n    orders.stream().parallel().forEachOrdered( order -&gt; {\r\n    \r\n                rules.stream().parallel().forEachOrdered ( rule -&gt; {\r\n    \r\n                     System.out.println( &quot; Order : &quot; + order + &quot; rule :&quot; + rule);\r\n                });\r\n    \r\n            });\r\n\r\n**Note :** While we can do this , performance should be closely watched because parellelism and order do not marry each other very well!\r\n\r\n**Output**\r\n```\r\n Order : order1 rule :rule1\r\n Order : order1 rule :rule2\r\n Order : order1 rule :rule3\r\n Order : order2 rule :rule1\r\n Order : order2 rule :rule2\r\n Order : order2 rule :rule3\r\n Order : order3 rule :rule1\r\n Order : order3 rule :rule2\r\n Order : order3 rule :rule3\r\n Order : order4 rule :rule1\r\n Order : order4 rule :rule2\r\n Order : order4 rule :rule3\r\n Order : order1 rule :rule1\r\n Order : order1 rule :rule2\r\n Order : order1 rule :rule3\r\n```","title":"How to create multiple threads for each request item","body":"<p>You can use :</p>\n\n<pre><code>orders.stream().parallel().forEachOrdered(// Your rules logic goes here. )\n</code></pre>\n\n<p><strong>ForEachOrdered guarantees to maintain the order of the Stream.</strong></p>\n\n<p>So for your reference:</p>\n\n<pre><code>orders.stream().parallel().forEachOrdered( order -&gt; {\n\n            rules.stream().parallel().forEachOrdered ( rule -&gt; {\n\n                 System.out.println( \" Order : \" + order + \" rule :\" + rule);\n            });\n\n        });\n</code></pre>\n\n<p><strong>Note :</strong> While we can do this , performance should be closely watched because parellelism and order do not marry each other very well!</p>\n\n<p><strong>Output</strong></p>\n\n<pre><code> Order : order1 rule :rule1\n Order : order1 rule :rule2\n Order : order1 rule :rule3\n Order : order2 rule :rule1\n Order : order2 rule :rule2\n Order : order2 rule :rule3\n Order : order3 rule :rule1\n Order : order3 rule :rule2\n Order : order3 rule :rule3\n Order : order4 rule :rule1\n Order : order4 rule :rule2\n Order : order4 rule :rule3\n Order : order1 rule :rule1\n Order : order1 rule :rule2\n Order : order1 rule :rule3\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8712192,"reputation":729,"user_id":6518046,"display_name":"BHAWANI SINGH"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1577115141,"creation_date":1577104693,"answer_id":59455527,"question_id":59454398,"body_markdown":"Will this work?\r\n```\r\nfinal int rulesSize = rules.size();\r\nAtomicInteger atomicInteger = new AtomicInteger(0);\r\norders.stream().parallel().forEach(order -&gt; {\r\n    IntStream.range(0, rulesSize).parallel().forEach( i -&gt; {\r\n        synchronized (atomicInteger) {\r\n            System.out.println(&quot; Order : &quot; + order + &quot; rule :&quot; + rules.get(atomicInteger.getAndIncrement() % rulesSize));\r\n        }\r\n    });\r\n});\r\n```\r\n\r\n**Output**\r\n```\r\n Order : order1 rule :rule1\r\n Order : order4 rule :rule2\r\n Order : order1 rule :rule3\r\n Order : order3 rule :rule1\r\n Order : order3 rule :rule2\r\n Order : order3 rule :rule3\r\n Order : order2 rule :rule1\r\n Order : order2 rule :rule2\r\n Order : order2 rule :rule3\r\n Order : order1 rule :rule1\r\n Order : order1 rule :rule2\r\n Order : order4 rule :rule3\r\n Order : order1 rule :rule1\r\n Order : order4 rule :rule2\r\n Order : order1 rule :rule3\r\n```","title":"How to create multiple threads for each request item","body":"<p>Will this work?</p>\n\n<pre><code>final int rulesSize = rules.size();\nAtomicInteger atomicInteger = new AtomicInteger(0);\norders.stream().parallel().forEach(order -&gt; {\n    IntStream.range(0, rulesSize).parallel().forEach( i -&gt; {\n        synchronized (atomicInteger) {\n            System.out.println(\" Order : \" + order + \" rule :\" + rules.get(atomicInteger.getAndIncrement() % rulesSize));\n        }\n    });\n});\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<pre><code> Order : order1 rule :rule1\n Order : order4 rule :rule2\n Order : order1 rule :rule3\n Order : order3 rule :rule1\n Order : order3 rule :rule2\n Order : order3 rule :rule3\n Order : order2 rule :rule1\n Order : order2 rule :rule2\n Order : order2 rule :rule3\n Order : order1 rule :rule1\n Order : order1 rule :rule2\n Order : order4 rule :rule3\n Order : order1 rule :rule1\n Order : order4 rule :rule2\n Order : order1 rule :rule3\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10759610,"reputation":12628,"user_id":7916438,"display_name":"tevemadar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1577182505,"creation_date":1577134726,"answer_id":59461233,"question_id":59454398,"body_markdown":"&gt; The order of orders can be anything, but the order of rules should not change. Also for a particular order rule should come in a group.\r\n\r\nIf that is the case, there is no room for actual parallelism.\r\n\r\nWhen\r\n\r\n&gt;     order1-rule1\r\n    order1-rule2\r\n    order2-rule1\r\n    order2-rule2\r\n\r\nand\r\n\r\n&gt;     order2-rule1\r\n    order2-rule2\r\n    order1-rule1\r\n    order1-rule2\r\n\r\nare the only valid runs for 2 orders and 2 rules,  \r\nand\r\n\r\n&gt;     order1-rule1\r\n    order2-rule1\r\n    order1-rule2\r\n    order2-rule2\r\n\r\nis considered invalid, that is not parallelism, just randomization of `order`s, presumably without gain. If you are &quot;bored&quot; with `order1` coming first all the time, you can shuffle the list, but that is all:\r\n\r\n\tpublic static void main (String[] args) throws java.lang.Exception\r\n\t{\r\n    \tList&lt;String&gt; orders = Arrays.asList(&quot;order1&quot;, &quot;order2&quot;, &quot;order3&quot;, &quot;order4&quot;);\r\n\t\tList&lt;String&gt; rules = Arrays.asList(&quot;rule1&quot;, &quot;rule2&quot;, &quot;rule3&quot;);\r\n\t\tCollections.shuffle(orders);\r\n\t\torders.forEach(order-&gt;{\r\n\t\t\trules.forEach(rule-&gt;{\r\n\t\t\t\tSystem.out.println(order+&quot;-&quot;+rule);\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\nNot even streaming is necessary, just two nested loops. Test: https://ideone.com/qI3dqd\r\n\r\n&gt;     order2-rule1\r\n    order2-rule2\r\n    order2-rule3\r\n    order4-rule1\r\n    order4-rule2\r\n    order4-rule3\r\n    order1-rule1\r\n    order1-rule2\r\n    order1-rule3\r\n    order3-rule1\r\n    order3-rule2\r\n    order3-rule3\r\n\r\n&lt;hr&gt;\r\n**Original answer**\r\n\r\n&gt; But it is changing the rules.forEach(rule -&gt; {}} order.\r\n\r\nNo, it does not. The `order`s may overlap, but the order of `rule`s for each order are kept. Why would a non-parallel `forEach` do anything else?\r\n\r\nExample code:\r\n\r\n\tpublic static void main (String[] args) throws java.lang.Exception\r\n\t{\r\n    \tList&lt;String&gt; orders = Arrays.asList(&quot;order1&quot;, &quot;order2&quot;, &quot;order3&quot;, &quot;order4&quot;);\r\n\t\tList&lt;String&gt; rules = Arrays.asList(&quot;rule1&quot;, &quot;rule2&quot;, &quot;rule3&quot;);\r\n\t\torders.stream().parallel().forEach(order-&gt;{\r\n\t\t\trules.forEach(rule-&gt;{\r\n\t\t\t\tSystem.out.println(order+&quot;-&quot;+rule);\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\nTest: https://ideone.com/95Cybg  \r\nExample output:\r\n\r\n&gt;     order2-rule1\r\n    order2-rule2\r\n    order2-rule3\r\n    order1-rule1\r\n    order1-rule2\r\n    order1-rule3\r\n    order4-rule1\r\n    order4-rule2\r\n    order4-rule3\r\n    order3-rule1\r\n    order3-rule2\r\n    order3-rule3\r\n\r\nThe order of `order`s is mixed, but the `rule`s are always 1-2-3. I think your output simply hid the pairings (actually you did not show how it was generated).\r\n\r\nOf course it can be extended with some delays, so processing of `order`s will actually overlap:\r\n\r\n\tpublic static void delay(){\r\n\t\ttry{\r\n\t\t\tThread.sleep(ThreadLocalRandom.current().nextInt(100,300));\r\n\t\t}catch(Exception ex){}\r\n\t}\r\n \r\n\tpublic static void main (String[] args) throws java.lang.Exception\r\n\t{\r\n    \tList&lt;String&gt; orders = Arrays.asList(&quot;order1&quot;, &quot;order2&quot;, &quot;order3&quot;, &quot;order4&quot;);\r\n\t\tList&lt;String&gt; rules = Arrays.asList(&quot;rule1&quot;, &quot;rule2&quot;, &quot;rule3&quot;);\r\n\t\torders.stream().parallel().forEach(order-&gt;{\r\n\t\t\trules.forEach(rule-&gt;{\r\n\t\t\t\tdelay();\r\n\t\t\t\tSystem.out.println(order+&quot;-&quot;+rule);\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\nTest: https://ideone.com/cSFaqS  \r\nExample output:\r\n\r\n&gt;     order3-rule1\r\n    order2-rule1\r\n    order2-rule2\r\n    order3-rule2\r\n    order3-rule3\r\n    order2-rule3\r\n    order1-rule1\r\n    order4-rule1\r\n    order1-rule2\r\n    order4-rule2\r\n    order4-rule3\r\n    order1-rule3\r\n\r\nThis may be something what you have seen, just without the `orderx` part. With the `order`s visible it can be tracked that `rule`s keep coming as 1-2-3, *per `order`*. Also, your example list contained `order1` twice which for sure did not help in seeing what was happening.\r\n","title":"How to create multiple threads for each request item","body":"<blockquote>\n  <p>The order of orders can be anything, but the order of rules should not change. Also for a particular order rule should come in a group.</p>\n</blockquote>\n\n<p>If that is the case, there is no room for actual parallelism.</p>\n\n<p>When</p>\n\n<blockquote>\n<pre><code>order1-rule1\norder1-rule2\norder2-rule1\norder2-rule2\n</code></pre>\n</blockquote>\n\n<p>and</p>\n\n<blockquote>\n<pre><code>order2-rule1\norder2-rule2\norder1-rule1\norder1-rule2\n</code></pre>\n</blockquote>\n\n<p>are the only valid runs for 2 orders and 2 rules,<br>\nand</p>\n\n<blockquote>\n<pre><code>order1-rule1\norder2-rule1\norder1-rule2\norder2-rule2\n</code></pre>\n</blockquote>\n\n<p>is considered invalid, that is not parallelism, just randomization of <code>order</code>s, presumably without gain. If you are \"bored\" with <code>order1</code> coming first all the time, you can shuffle the list, but that is all:</p>\n\n<pre><code>public static void main (String[] args) throws java.lang.Exception\n{\n    List&lt;String&gt; orders = Arrays.asList(\"order1\", \"order2\", \"order3\", \"order4\");\n    List&lt;String&gt; rules = Arrays.asList(\"rule1\", \"rule2\", \"rule3\");\n    Collections.shuffle(orders);\n    orders.forEach(order-&gt;{\n        rules.forEach(rule-&gt;{\n            System.out.println(order+\"-\"+rule);\n        });\n    });\n}\n</code></pre>\n\n<p>Not even streaming is necessary, just two nested loops. Test: <a href=\"https://ideone.com/qI3dqd\" rel=\"nofollow noreferrer\">https://ideone.com/qI3dqd</a></p>\n\n<blockquote>\n<pre><code>order2-rule1\norder2-rule2\norder2-rule3\norder4-rule1\norder4-rule2\norder4-rule3\norder1-rule1\norder1-rule2\norder1-rule3\norder3-rule1\norder3-rule2\norder3-rule3\n</code></pre>\n</blockquote>\n\n<p><hr>\n<strong>Original answer</strong></p>\n\n<blockquote>\n  <p>But it is changing the rules.forEach(rule -> {}} order.</p>\n</blockquote>\n\n<p>No, it does not. The <code>order</code>s may overlap, but the order of <code>rule</code>s for each order are kept. Why would a non-parallel <code>forEach</code> do anything else?</p>\n\n<p>Example code:</p>\n\n<pre><code>public static void main (String[] args) throws java.lang.Exception\n{\n    List&lt;String&gt; orders = Arrays.asList(\"order1\", \"order2\", \"order3\", \"order4\");\n    List&lt;String&gt; rules = Arrays.asList(\"rule1\", \"rule2\", \"rule3\");\n    orders.stream().parallel().forEach(order-&gt;{\n        rules.forEach(rule-&gt;{\n            System.out.println(order+\"-\"+rule);\n        });\n    });\n}\n</code></pre>\n\n<p>Test: <a href=\"https://ideone.com/95Cybg\" rel=\"nofollow noreferrer\">https://ideone.com/95Cybg</a><br>\nExample output:</p>\n\n<blockquote>\n<pre><code>order2-rule1\norder2-rule2\norder2-rule3\norder1-rule1\norder1-rule2\norder1-rule3\norder4-rule1\norder4-rule2\norder4-rule3\norder3-rule1\norder3-rule2\norder3-rule3\n</code></pre>\n</blockquote>\n\n<p>The order of <code>order</code>s is mixed, but the <code>rule</code>s are always 1-2-3. I think your output simply hid the pairings (actually you did not show how it was generated).</p>\n\n<p>Of course it can be extended with some delays, so processing of <code>order</code>s will actually overlap:</p>\n\n<pre><code>public static void delay(){\n    try{\n        Thread.sleep(ThreadLocalRandom.current().nextInt(100,300));\n    }catch(Exception ex){}\n}\n\npublic static void main (String[] args) throws java.lang.Exception\n{\n    List&lt;String&gt; orders = Arrays.asList(\"order1\", \"order2\", \"order3\", \"order4\");\n    List&lt;String&gt; rules = Arrays.asList(\"rule1\", \"rule2\", \"rule3\");\n    orders.stream().parallel().forEach(order-&gt;{\n        rules.forEach(rule-&gt;{\n            delay();\n            System.out.println(order+\"-\"+rule);\n        });\n    });\n}\n</code></pre>\n\n<p>Test: <a href=\"https://ideone.com/cSFaqS\" rel=\"nofollow noreferrer\">https://ideone.com/cSFaqS</a><br>\nExample output:</p>\n\n<blockquote>\n<pre><code>order3-rule1\norder2-rule1\norder2-rule2\norder3-rule2\norder3-rule3\norder2-rule3\norder1-rule1\norder4-rule1\norder1-rule2\norder4-rule2\norder4-rule3\norder1-rule3\n</code></pre>\n</blockquote>\n\n<p>This may be something what you have seen, just without the <code>orderx</code> part. With the <code>order</code>s visible it can be tracked that <code>rule</code>s keep coming as 1-2-3, <em>per <code>order</code></em>. Also, your example list contained <code>order1</code> twice which for sure did not help in seeing what was happening.</p>\n"},{"tags":[],"owner":{"account_id":14587998,"reputation":2412,"user_id":10536125,"display_name":"IlyaMuravjov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1577215994,"creation_date":1577215994,"answer_id":59472830,"question_id":59454398,"body_markdown":"You add elements to the `finalList` from different threads at the same time. This is causing mixing results of applying rules to different orders (rules aren&#39;t being grouped by their orders).\r\n\r\nYou can fix it by creating a temporary list for each `order` and then synchronously merging all temporary lists in a `finalList`. \r\n\r\nHere is how you can do it using Stream-API (Java 9+):\r\n```\r\nList&lt;AppliedRule&gt; finalList = orders.parallelStream().map(order -&gt;\r\n        rules.stream().map(rule -&gt; applyRule(order, rule)).collect(Collectors.toList())\r\n).collect(Collectors.flatMapping(Collection::stream, Collectors.toList()));\r\n```\r\nNote: `Collectors.flatMapping()` is used here instead of simple `flatMap` to run flat mapping synchronously during stream collection.\r\n\r\n\r\n----------\r\n\r\nJava 8 analog:\r\n```\r\nList&lt;AppliedRule&gt; finalList = orders.parallelStream().map(order -&gt;\r\n        rules.stream().map(rule -&gt; applyRule(order, rule)).collect(Collectors.toList())\r\n).collect(Collectors.toList())\r\n        .stream()\r\n        .flatMap(Collection::stream)\r\n        .collect(Collectors.toList());\r\n```","title":"How to create multiple threads for each request item","body":"<p>You add elements to the <code>finalList</code> from different threads at the same time. This is causing mixing results of applying rules to different orders (rules aren't being grouped by their orders).</p>\n\n<p>You can fix it by creating a temporary list for each <code>order</code> and then synchronously merging all temporary lists in a <code>finalList</code>. </p>\n\n<p>Here is how you can do it using Stream-API (Java 9+):</p>\n\n<pre><code>List&lt;AppliedRule&gt; finalList = orders.parallelStream().map(order -&gt;\n        rules.stream().map(rule -&gt; applyRule(order, rule)).collect(Collectors.toList())\n).collect(Collectors.flatMapping(Collection::stream, Collectors.toList()));\n</code></pre>\n\n<p>Note: <code>Collectors.flatMapping()</code> is used here instead of simple <code>flatMap</code> to run flat mapping synchronously during stream collection.</p>\n\n<hr>\n\n<p>Java 8 analog:</p>\n\n<pre><code>List&lt;AppliedRule&gt; finalList = orders.parallelStream().map(order -&gt;\n        rules.stream().map(rule -&gt; applyRule(order, rule)).collect(Collectors.toList())\n).collect(Collectors.toList())\n        .stream()\n        .flatMap(Collection::stream)\n        .collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4120139,"reputation":1,"user_id":3380739,"display_name":"user_3380739"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673150871,"creation_date":1577725348,"answer_id":59534322,"question_id":59454398,"body_markdown":"If you don&#39;t mind to try third-party library. Here is sample with my library: [abacus-common][1] \r\n\r\n    StreamEx.of(orders).parallelStream().forEach(order -&gt; {}}\r\n\r\nAnd you can even specify the thread number:\r\n\r\n    StreamEx.of(orders).parallelStream(maxThreadNum).forEach(order -&gt; {}}\r\n\r\nThe order of `rule` will be kept.\r\n\r\nBy the way, since it&#39;s in parallel stream, the piece of code `...finalList.add(...` most likely won&#39;t work. I think it&#39;s better to collect the result to list: \r\n\r\n    StreamEx.of(orders).parallelStream().map/flatMap(order -&gt; {...}}.toList()\r\n\r\nit&#39;s also doable even if you want to keep the order of `order` for some reason later:\r\n\r\n    StreamEx.of(orders).indexed().parallelStream()\r\n          .map/flatMap(order -&gt; {...}}.sortedBy(...index).toList()\r\n\r\n\r\n\r\n  [1]: https://github.com/landawn/abacus-common","title":"How to create multiple threads for each request item","body":"<p>If you don't mind to try third-party library. Here is sample with my library: <a href=\"https://github.com/landawn/abacus-common\" rel=\"nofollow noreferrer\">abacus-common</a></p>\n<pre><code>StreamEx.of(orders).parallelStream().forEach(order -&gt; {}}\n</code></pre>\n<p>And you can even specify the thread number:</p>\n<pre><code>StreamEx.of(orders).parallelStream(maxThreadNum).forEach(order -&gt; {}}\n</code></pre>\n<p>The order of <code>rule</code> will be kept.</p>\n<p>By the way, since it's in parallel stream, the piece of code <code>...finalList.add(...</code> most likely won't work. I think it's better to collect the result to list:</p>\n<pre><code>StreamEx.of(orders).parallelStream().map/flatMap(order -&gt; {...}}.toList()\n</code></pre>\n<p>it's also doable even if you want to keep the order of <code>order</code> for some reason later:</p>\n<pre><code>StreamEx.of(orders).indexed().parallelStream()\n      .map/flatMap(order -&gt; {...}}.sortedBy(...index).toList()\n</code></pre>\n"}],"owner":{"account_id":6115119,"reputation":618,"user_id":4770397,"accept_rate":26,"display_name":"mayank bisht"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":301,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":5,"score":8,"last_activity_date":1673150871,"creation_date":1577099853,"question_id":59454398,"body_markdown":"I am trying to process the below code using multithreading at the order level.\r\n\r\n    List&lt;String&gt; orders = Arrays.asList(&quot;order1&quot;, &quot;order2&quot;, \r\n                       &quot;order3&quot;, &quot;order4&quot;, &quot;order1&quot;);\r\n\r\n**Current sequential execution:**\r\n\r\n\torders.stream().forEach(order -&gt; {\r\n\t\trules.forEach(rule -&gt; {\r\n\t\t\tfinalList.add(beanMapper.getBean(rule)\r\n\t\t\t\t\t.applyRule(createTemplate.apply(getMetaData.apply(rule), command),\r\n\t\t\t\t\t\t\t   order));\r\n\t\t});\r\n\t});\r\n\r\nI have tried using:\r\n\r\n    orders.parallelStream().forEach(order -&gt; {}} // code snippet.\r\nBut it is changing the **rules.forEach(rule -&gt; {}}** order.\r\n\r\n\r\nFor example: &lt;br/&gt;\r\nInput : \r\n          \r\n     List&lt;String&gt; orders = Arrays.asList(&quot;order1&quot;, &quot;order2&quot;, \r\n                             &quot;order3&quot;, &quot;order4&quot;, &quot;order1&quot;);\r\n     List&lt;String&gt; rules = Arrays.asList(&quot;rule1&quot;, &quot;rule2&quot;, &quot;rule3&quot;);\r\n\r\nExpected output:&lt;br/&gt;\r\n\r\n    order1 with rule1, rule2, rule3\r\n    order2 with rule1, rule2, rule3\r\n\r\nActual output with `parallelStream()`: \r\n\r\n    order1 with rule3, rule1, rule2\r\n    order1 with rule2, rule1, rule3\r\n\r\nI am not bothered about the order of **orders**, but I am bothered about eh order of **rules**.\r\nOrders can process in any order, but rules should execute in the same order for each order.\r\n\r\nPlease help.","title":"How to create multiple threads for each request item","body":"<p>I am trying to process the below code using multithreading at the order level.</p>\n\n<pre><code>List&lt;String&gt; orders = Arrays.asList(\"order1\", \"order2\", \n                   \"order3\", \"order4\", \"order1\");\n</code></pre>\n\n<p><strong>Current sequential execution:</strong></p>\n\n<pre><code>orders.stream().forEach(order -&gt; {\n    rules.forEach(rule -&gt; {\n        finalList.add(beanMapper.getBean(rule)\n                .applyRule(createTemplate.apply(getMetaData.apply(rule), command),\n                           order));\n    });\n});\n</code></pre>\n\n<p>I have tried using:</p>\n\n<pre><code>orders.parallelStream().forEach(order -&gt; {}} // code snippet.\n</code></pre>\n\n<p>But it is changing the <strong>rules.forEach(rule -> {}}</strong> order.</p>\n\n<p>For example: <br/>\nInput : </p>\n\n<pre><code> List&lt;String&gt; orders = Arrays.asList(\"order1\", \"order2\", \n                         \"order3\", \"order4\", \"order1\");\n List&lt;String&gt; rules = Arrays.asList(\"rule1\", \"rule2\", \"rule3\");\n</code></pre>\n\n<p>Expected output:<br/></p>\n\n<pre><code>order1 with rule1, rule2, rule3\norder2 with rule1, rule2, rule3\n</code></pre>\n\n<p>Actual output with <code>parallelStream()</code>: </p>\n\n<pre><code>order1 with rule3, rule1, rule2\norder1 with rule2, rule1, rule3\n</code></pre>\n\n<p>I am not bothered about the order of <strong>orders</strong>, but I am bothered about eh order of <strong>rules</strong>.\nOrders can process in any order, but rules should execute in the same order for each order.</p>\n\n<p>Please help.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9246,"page":746,"page_size":100}
