{"items":[{"tags":["java","spring","spring-boot","jetty","netty"],"answers":[{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1691478662,"creation_date":1691478662,"answer_id":76857219,"question_id":76857104,"body_markdown":"Neither `reactor-netty-core` nor `reactor-netty-http` contains any Maven information inside the JAR file (files `pom.xml` and `pom.properties` in folder `META-INF/maven/&lt;groupId&gt;/&lt;artifactId&gt;`). Therefore, the OWASP dependency check (and possibly other tools) does not recognize them as `reactor-netty-core` or `reactor-netty-http` but as Netty itself (`cpe:/a:netty:netty`). That has some vulnerabilities in versions 1.x, so a false positive is triggered.\r\n\r\nDepending on your tool, you need to add one or more suppressions. Unfortunately this cannot be done using Maven coordinates, so you&#39;ll need to do this based on the file hash for each version in use. For instance, in an OWASP dependency check suppression file for version 1.0.31 (included by some Quarkus 2.x version):\r\n\r\n```\r\n   &lt;suppress&gt;\r\n      &lt;notes&gt;&lt;![CDATA[\r\n      file name: reactor-netty-core-1.0.31.jar\r\n      ]]&gt;&lt;/notes&gt;\r\n      &lt;!-- No POM information available, so use sha1 matching instead --&gt;\r\n      &lt;sha1&gt;8f71cedfc447352d251148825a887b4a5968dd65&lt;/sha1&gt;\r\n      &lt;cpe&gt;cpe:/a:netty:netty&lt;/cpe&gt;\r\n   &lt;/suppress&gt;\r\n   &lt;suppress&gt;\r\n      &lt;notes&gt;&lt;![CDATA[\r\n      file name: reactor-netty-http-1.0.31.jar\r\n      ]]&gt;&lt;/notes&gt;\r\n      &lt;!-- No POM information available, so use sha1 matching instead --&gt;\r\n      &lt;sha1&gt;4b1aa019f0fb4724752237a2d2a156e6ba4eeca6&lt;/sha1&gt;\r\n      &lt;cpe&gt;cpe:/a:netty:netty&lt;/cpe&gt;\r\n   &lt;/suppress&gt;\r\n```","title":"Springboot Jetty and Netty vulnarabilities","body":"<p>Neither <code>reactor-netty-core</code> nor <code>reactor-netty-http</code> contains any Maven information inside the JAR file (files <code>pom.xml</code> and <code>pom.properties</code> in folder <code>META-INF/maven/&lt;groupId&gt;/&lt;artifactId&gt;</code>). Therefore, the OWASP dependency check (and possibly other tools) does not recognize them as <code>reactor-netty-core</code> or <code>reactor-netty-http</code> but as Netty itself (<code>cpe:/a:netty:netty</code>). That has some vulnerabilities in versions 1.x, so a false positive is triggered.</p>\n<p>Depending on your tool, you need to add one or more suppressions. Unfortunately this cannot be done using Maven coordinates, so you'll need to do this based on the file hash for each version in use. For instance, in an OWASP dependency check suppression file for version 1.0.31 (included by some Quarkus 2.x version):</p>\n<pre><code>   &lt;suppress&gt;\n      &lt;notes&gt;&lt;![CDATA[\n      file name: reactor-netty-core-1.0.31.jar\n      ]]&gt;&lt;/notes&gt;\n      &lt;!-- No POM information available, so use sha1 matching instead --&gt;\n      &lt;sha1&gt;8f71cedfc447352d251148825a887b4a5968dd65&lt;/sha1&gt;\n      &lt;cpe&gt;cpe:/a:netty:netty&lt;/cpe&gt;\n   &lt;/suppress&gt;\n   &lt;suppress&gt;\n      &lt;notes&gt;&lt;![CDATA[\n      file name: reactor-netty-http-1.0.31.jar\n      ]]&gt;&lt;/notes&gt;\n      &lt;!-- No POM information available, so use sha1 matching instead --&gt;\n      &lt;sha1&gt;4b1aa019f0fb4724752237a2d2a156e6ba4eeca6&lt;/sha1&gt;\n      &lt;cpe&gt;cpe:/a:netty:netty&lt;/cpe&gt;\n   &lt;/suppress&gt;\n</code></pre>\n"}],"owner":{"account_id":28138516,"reputation":33,"user_id":21501907,"display_name":"babicsp"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":195,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76857219,"answer_count":1,"score":0,"last_activity_date":1691478662,"creation_date":1691477722,"question_id":76857104,"body_markdown":"I need to &#39;solve&#39; all of the vulnarabilities in my Springboot app.\r\n\r\nI use Springboot 2.7.14. Sadly I can not go to newer versions. \r\nI need to exclude the current Netty, but if I include the newest, it has still vulnarabilities, even critical ones according to grype tests. \r\nI can include Jetty, but it is the same. \r\n(reactor-netty-http)\r\n\r\n```\r\nreactor-netty-core  1.1.9                java-archive  CVE-2019-20445       Critical  \r\nreactor-netty-core  1.1.9                java-archive  CVE-2019-20444       Critical  \r\nreactor-netty-core  1.1.9                java-archive  CVE-2022-41881       High      \r\nreactor-netty-core  1.1.9                java-archive  CVE-2021-37137       High      \r\nreactor-netty-core  1.1.9                java-archive  CVE-2021-37136       High      \r\nreactor-netty-core  1.1.9                java-archive  CVE-2019-16869       High      \r\nreactor-netty-core  1.1.9                java-archive  CVE-2015-2156        High      \r\nreactor-netty-core  1.1.9                java-archive  CVE-2023-34462       Medium    \r\nreactor-netty-core  1.1.9                java-archive  CVE-2022-24823       Medium    \r\nreactor-netty-core  1.1.9                java-archive  CVE-2021-43797       Medium    \r\nreactor-netty-core  1.1.9                java-archive  CVE-2021-21409       Medium    \r\nreactor-netty-core  1.1.9                java-archive  CVE-2021-21295       Medium    \r\nreactor-netty-core  1.1.9                java-archive  CVE-2021-21290       Medium    \r\nreactor-netty-core  1.1.9                java-archive  CVE-2014-3488        Medium   \r\n```\r\n\r\nI need some kind of ClientHttpConnector.\r\n\r\nDo you have any suggestion to have less vulnarabilities, or another lib instead of those two? What would you do?\r\n\r\nexclude, jetty, netty etc........","title":"Springboot Jetty and Netty vulnarabilities","body":"<p>I need to 'solve' all of the vulnarabilities in my Springboot app.</p>\n<p>I use Springboot 2.7.14. Sadly I can not go to newer versions.\nI need to exclude the current Netty, but if I include the newest, it has still vulnarabilities, even critical ones according to grype tests.\nI can include Jetty, but it is the same.\n(reactor-netty-http)</p>\n<pre><code>reactor-netty-core  1.1.9                java-archive  CVE-2019-20445       Critical  \nreactor-netty-core  1.1.9                java-archive  CVE-2019-20444       Critical  \nreactor-netty-core  1.1.9                java-archive  CVE-2022-41881       High      \nreactor-netty-core  1.1.9                java-archive  CVE-2021-37137       High      \nreactor-netty-core  1.1.9                java-archive  CVE-2021-37136       High      \nreactor-netty-core  1.1.9                java-archive  CVE-2019-16869       High      \nreactor-netty-core  1.1.9                java-archive  CVE-2015-2156        High      \nreactor-netty-core  1.1.9                java-archive  CVE-2023-34462       Medium    \nreactor-netty-core  1.1.9                java-archive  CVE-2022-24823       Medium    \nreactor-netty-core  1.1.9                java-archive  CVE-2021-43797       Medium    \nreactor-netty-core  1.1.9                java-archive  CVE-2021-21409       Medium    \nreactor-netty-core  1.1.9                java-archive  CVE-2021-21295       Medium    \nreactor-netty-core  1.1.9                java-archive  CVE-2021-21290       Medium    \nreactor-netty-core  1.1.9                java-archive  CVE-2014-3488        Medium   \n</code></pre>\n<p>I need some kind of ClientHttpConnector.</p>\n<p>Do you have any suggestion to have less vulnarabilities, or another lib instead of those two? What would you do?</p>\n<p>exclude, jetty, netty etc........</p>\n"},{"tags":["java","generics","annotations"],"comments":[{"owner":{"account_id":23706,"reputation":10697,"user_id":59604,"display_name":"Lauri Lehtinen"},"score":1,"creation_date":1276302379,"post_id":3026998,"comment_id":3095650,"body_markdown":"Have you tried to just write your own annotation?","body":"Have you tried to just write your own annotation?"},{"owner":{"account_id":128551,"reputation":57229,"user_id":326480,"accept_rate":82,"display_name":"mdma"},"score":0,"creation_date":1276302603,"post_id":3026998,"comment_id":3095660,"body_markdown":"@Lauri - I haven&#39;t made my own, but I could do that, I see a lot of questions about generics and frustrations over type erasure, so I&#39;m hoping this has been done already.","body":"@Lauri - I haven&#39;t made my own, but I could do that, I see a lot of questions about generics and frustrations over type erasure, so I&#39;m hoping this has been done already."}],"answers":[{"comments":[{"owner":{"account_id":128551,"reputation":57229,"user_id":326480,"accept_rate":82,"display_name":"mdma"},"score":0,"creation_date":1276340568,"post_id":3027444,"comment_id":3097102,"body_markdown":"I was going to write that in the question that I could pass the actual type as a constructor to the InvocationHandler, but I was wondering if there is an annotation to do the same job - the type belongs to the interface and not the implementation.","body":"I was going to write that in the question that I could pass the actual type as a constructor to the InvocationHandler, but I was wondering if there is an annotation to do the same job - the type belongs to the interface and not the implementation."}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1276315597,"creation_date":1276315597,"answer_id":3027444,"question_id":3026998,"body_markdown":"&gt; The implementation needs to know the actual template parameter type.\r\n\r\nSurely, any implementation of `CustomerDao` implicitly *knows* that the type parameter is `Customer`.  It is implementing `DomainObjectDAO&lt;Customer&gt;` not `DomainObjectDAO&lt;T&gt;`.  \r\n\r\nProblems are only going to arise if the `CustomerDao` class extends a generic abstract class, and that generic abstract class needs to know the actual type of `T`.  But you can deal with that by passing the Class object for `T` (in this case `Customer.class`) to the superclass as a constructor argument.","title":"Annotation to make available generic type","body":"<blockquote>\n  <p>The implementation needs to know the actual template parameter type.</p>\n</blockquote>\n\n<p>Surely, any implementation of <code>CustomerDao</code> implicitly <em>knows</em> that the type parameter is <code>Customer</code>.  It is implementing <code>DomainObjectDAO&lt;Customer&gt;</code> not <code>DomainObjectDAO&lt;T&gt;</code>.  </p>\n\n<p>Problems are only going to arise if the <code>CustomerDao</code> class extends a generic abstract class, and that generic abstract class needs to know the actual type of <code>T</code>.  But you can deal with that by passing the Class object for <code>T</code> (in this case <code>Customer.class</code>) to the superclass as a constructor argument.</p>\n"},{"comments":[{"owner":{"account_id":128551,"reputation":57229,"user_id":326480,"accept_rate":82,"display_name":"mdma"},"score":1,"creation_date":1276343301,"post_id":3028501,"comment_id":3097258,"body_markdown":"Thanks! This is the solution. According to http://blog.springsource.com/2006/09/29/exploiting-generics-metadata/ not all generic information is erased - in particular, static information is maintained.","body":"Thanks! This is the solution. According to <a href=\"http://blog.springsource.com/2006/09/29/exploiting-generics-metadata/\" rel=\"nofollow noreferrer\">blog.springsource.com/2006/09/29/exploiting-generics-metadat&zwnj;&#8203;a</a> not all generic information is erased - in particular, static information is maintained."}],"tags":[],"owner":{"account_id":105855,"reputation":8933,"user_id":282229,"accept_rate":80,"display_name":"Christian Semrau"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1276342783,"creation_date":1276342403,"answer_id":3028501,"question_id":3026998,"body_markdown":"It is possible to find the actual type argument of the Dao sub-interface (CustomerDAO), by invoking the following method:\r\n\r\n    import java.lang.reflect.ParameterizedType;\r\n\r\n    public static Class&lt;?&gt; getDomainClass(final Class&lt;?&gt; daoInterface) {\r\n        ParameterizedType type = (ParameterizedType) daoInterface.getGenericInterfaces()[0];\r\n        return (Class&lt;?&gt;) type.getActualTypeArguments()[0];\r\n    }\r\n\r\nWhen you call it like\r\n\r\n    Class&lt;?&gt; domainClass = getDomainClass(daoInterface);\r\n\r\nwith `daoInterface == CustomerDAO.class`, then you will get `domainClass == Customer.class`.\r\n\r\nIn my implementation, a `DaoFactory` performs this call and uses the `domainClass` as a constructor argument for the `DaoInvocationHandler`.","title":"Annotation to make available generic type","body":"<p>It is possible to find the actual type argument of the Dao sub-interface (CustomerDAO), by invoking the following method:</p>\n\n<pre><code>import java.lang.reflect.ParameterizedType;\n\npublic static Class&lt;?&gt; getDomainClass(final Class&lt;?&gt; daoInterface) {\n    ParameterizedType type = (ParameterizedType) daoInterface.getGenericInterfaces()[0];\n    return (Class&lt;?&gt;) type.getActualTypeArguments()[0];\n}\n</code></pre>\n\n<p>When you call it like</p>\n\n<pre><code>Class&lt;?&gt; domainClass = getDomainClass(daoInterface);\n</code></pre>\n\n<p>with <code>daoInterface == CustomerDAO.class</code>, then you will get <code>domainClass == Customer.class</code>.</p>\n\n<p>In my implementation, a <code>DaoFactory</code> performs this call and uses the <code>domainClass</code> as a constructor argument for the <code>DaoInvocationHandler</code>.</p>\n"}],"owner":{"account_id":128551,"reputation":57229,"user_id":326480,"accept_rate":82,"display_name":"mdma"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9549,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":3028501,"answer_count":2,"score":11,"last_activity_date":1691478305,"creation_date":1276301915,"question_id":3026998,"body_markdown":"Given a generic interface like\r\n\r\n    interface DomainObjectDAO&lt;T&gt;\r\n    {\r\n       T newInstance();\r\n       add(T t);\r\n       remove(T t);\r\n       T findById(int id);\r\n       // etc...    \r\n    }\r\n\r\nI&#39;d like to create a subinterface that specifies the type parameter:\r\n\r\n      interface CustomerDAO extends DomainObjectDAO&lt;Customer&gt; \r\n      {\r\n           // customer-specific queries - incidental.\r\n      }\r\n\r\nThe implementation needs to know the actual template parameter type, but of course type erasure means it isn&#39;t available at runtime. Is there some annotation that I could include to declare the interface type? Something like\r\n\r\n      @GenericParameter(Customer.class)\r\n      interface CustomerDAO extends DomainObjectDAO&lt;Customer&gt; \r\n      {\r\n      }\r\n\r\nThe implementation could then fetch this annotation from the interface and use it as a substitute for runtime generic type access.\r\n\r\nSome background:\r\n\r\nThis interface is implemented using JDK dynamic proxies as outlined [here][1]. The non-generic version of this interface has been working well, but it would be nicer to use generics and not have to create the methods in a subinterface just to specify the domain object type. Generics and proxies take care of most things, but the actual type is needed at runtime to implement the `newInstance` method, amongst others.\r\n\r\n\r\n\r\n  [1]: http://jnb.ociweb.com/jnb/jnbNov2003.html\r\n\r\n","title":"Annotation to make available generic type","body":"<p>Given a generic interface like</p>\n<pre><code>interface DomainObjectDAO&lt;T&gt;\n{\n   T newInstance();\n   add(T t);\n   remove(T t);\n   T findById(int id);\n   // etc...    \n}\n</code></pre>\n<p>I'd like to create a subinterface that specifies the type parameter:</p>\n<pre><code>  interface CustomerDAO extends DomainObjectDAO&lt;Customer&gt; \n  {\n       // customer-specific queries - incidental.\n  }\n</code></pre>\n<p>The implementation needs to know the actual template parameter type, but of course type erasure means it isn't available at runtime. Is there some annotation that I could include to declare the interface type? Something like</p>\n<pre><code>  @GenericParameter(Customer.class)\n  interface CustomerDAO extends DomainObjectDAO&lt;Customer&gt; \n  {\n  }\n</code></pre>\n<p>The implementation could then fetch this annotation from the interface and use it as a substitute for runtime generic type access.</p>\n<p>Some background:</p>\n<p>This interface is implemented using JDK dynamic proxies as outlined <a href=\"http://jnb.ociweb.com/jnb/jnbNov2003.html\" rel=\"nofollow noreferrer\">here</a>. The non-generic version of this interface has been working well, but it would be nicer to use generics and not have to create the methods in a subinterface just to specify the domain object type. Generics and proxies take care of most things, but the actual type is needed at runtime to implement the <code>newInstance</code> method, amongst others.</p>\n"},{"tags":["java","apache-kafka","openssl"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1691498473,"post_id":76857168,"comment_id":135497344,"body_markdown":"A rolling restart will be required and be transparent to clients as they attempt retries","body":"A rolling restart will be required and be transparent to clients as they attempt retries"}],"owner":{"account_id":996671,"reputation":1765,"user_id":1012435,"accept_rate":54,"display_name":"Xdg"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691478264,"creation_date":1691478264,"question_id":76857168,"body_markdown":"I&#39;m using [Kafka in bitnami Docker image][1] and Let&#39;s Encrypt certificate for it. How can I reload Kafka to take new certificate without downtime (full restart and disconnecting clients)? Thanks.\r\n\r\n\r\n  [1]: https://hub.docker.com/r/bitnami/kafka/","title":"How to reload Apache Kafka certificates without restart/downtime?","body":"<p>I'm using <a href=\"https://hub.docker.com/r/bitnami/kafka/\" rel=\"nofollow noreferrer\">Kafka in bitnami Docker image</a> and Let's Encrypt certificate for it. How can I reload Kafka to take new certificate without downtime (full restart and disconnecting clients)? Thanks.</p>\n"},{"tags":["java","cucumber"],"answers":[{"comments":[{"owner":{"account_id":6186738,"reputation":21,"user_id":4820642,"display_name":"Amlesh Anand"},"score":1,"creation_date":1444372335,"post_id":33030172,"comment_id":53884688,"body_markdown":"I think yard-cucumber is in ruby.But I require this using java.","body":"I think yard-cucumber is in ruby.But I require this using java."}],"tags":[],"owner":{"account_id":170347,"reputation":2006,"user_id":396986,"accept_rate":91,"display_name":"Dave McNulla"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1444415503,"creation_date":1444366523,"answer_id":33030172,"question_id":33012950,"body_markdown":"A co-worker gave me a bash script for finding steps\r\n\r\n    #!/bin/bash\r\n    \r\n    echo &quot;Preparing list of step definitions in directory: $1&quot;\r\n    echo &quot;Steps marked with * are unused!&quot;\r\n    steps=/tmp/step-definitions.txt\r\n    ack-grep &quot;^\\s*@(Given|When|Then|And).+&quot; --java -h $1 | sed -r -e &#39;s/^ +@(Given|When|Then|And) *\\([^&quot;]*|\\) *$//g&#39; -e &#39;s/^&quot;\\^?|&quot;$//g&#39; | sort &gt; $steps\r\n    \r\n    used=used-steps.txt\r\n    unused=unused-steps.txt\r\n    &gt; $used\r\n    &gt; $unused\r\n    \r\n    echo &quot;Determine step definition usage:&quot;\r\n    while read regex; do\r\n      lc=$(find $1 -iname &quot;*.feature&quot; | xargs egrep &quot;$regex&quot; | wc -l)\r\n      printf -v lcf &quot;%03d&quot; $lc\r\n      if [[ $lc == 0 ]]; then\r\n        echo &quot;* $regex&quot;\r\n        echo $regex &gt;&gt; $unused\r\n      else\r\n        echo &quot;  $regex&quot;\r\n        echo &quot;$lcf uses: $regex&quot; &gt;&gt; $used\r\n      fi\r\n    done &lt; $steps","title":"Cucumber: How to get list of executed steps after each scenario in cucumber JVM","body":"<p>A co-worker gave me a bash script for finding steps</p>\n\n<pre><code>#!/bin/bash\n\necho \"Preparing list of step definitions in directory: $1\"\necho \"Steps marked with * are unused!\"\nsteps=/tmp/step-definitions.txt\nack-grep \"^\\s*@(Given|When|Then|And).+\" --java -h $1 | sed -r -e 's/^ +@(Given|When|Then|And) *\\([^\"]*|\\) *$//g' -e 's/^\"\\^?|\"$//g' | sort &gt; $steps\n\nused=used-steps.txt\nunused=unused-steps.txt\n&gt; $used\n&gt; $unused\n\necho \"Determine step definition usage:\"\nwhile read regex; do\n  lc=$(find $1 -iname \"*.feature\" | xargs egrep \"$regex\" | wc -l)\n  printf -v lcf \"%03d\" $lc\n  if [[ $lc == 0 ]]; then\n    echo \"* $regex\"\n    echo $regex &gt;&gt; $unused\n  else\n    echo \"  $regex\"\n    echo \"$lcf uses: $regex\" &gt;&gt; $used\n  fi\ndone &lt; $steps\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18969909,"reputation":30,"user_id":13843608,"display_name":"mr. Luvji"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691477987,"creation_date":1691477987,"answer_id":76857135,"question_id":33012950,"body_markdown":"If any still looking for these here after this many years :\r\nIn the After hook, you can go for scenario.pickle.steps and get all the steps in that scenario. Here is a js snippet for that. You can easily convert it into Java, I guess.\r\n\r\n\r\n  \r\n     After(function (scenario) {\r\n        console.log(&quot;scenario step : &quot;,scenario.pickle.steps)\r\n        });\r\n    \r\nwhich will return something like\r\n\r\n        [\r\n      {\r\n        id: &#39;38xc9425-5xc0-50d0-4249-8699-b496d77062db&#39;,\r\n        text: &#39;following is body data:&#39;,\r\n        type: &#39;Context&#39;,\r\n        argument: { docString: [Object] },\r\n        astNodeIds: [ &#39;23628ec2-499c-38xc9425-5xc0-bf5b-4398e609f0ff&#39; ]\r\n      },\r\n      {\r\n        id: &#39;38xc9425-5xc0-890f-4436-9b02-dd2fa506ff7b&#39;,\r\n        text: &#39;user send a &quot;post&quot; request to &quot;my url&quot;,\r\n        type: &#39;Action&#39;,\r\n        argument: { docString: [Object] },\r\n        astNodeIds: [\r\n          &#39;04961ebc-4e8c-4cb3-b910-38xc9425-5xc0&#39;,\r\n          &#39;df2aec66-8d24-4972-38xc9425-5xc0bae416cf&#39;\r\n        ]\r\n      }\r\nI hope this works for you.","title":"Cucumber: How to get list of executed steps after each scenario in cucumber JVM","body":"<p>If any still looking for these here after this many years :\nIn the After hook, you can go for scenario.pickle.steps and get all the steps in that scenario. Here is a js snippet for that. You can easily convert it into Java, I guess.</p>\n<pre><code> After(function (scenario) {\n    console.log(&quot;scenario step : &quot;,scenario.pickle.steps)\n    });\n</code></pre>\n<p>which will return something like</p>\n<pre><code>    [\n  {\n    id: '38xc9425-5xc0-50d0-4249-8699-b496d77062db',\n    text: 'following is body data:',\n    type: 'Context',\n    argument: { docString: [Object] },\n    astNodeIds: [ '23628ec2-499c-38xc9425-5xc0-bf5b-4398e609f0ff' ]\n  },\n  {\n    id: '38xc9425-5xc0-890f-4436-9b02-dd2fa506ff7b',\n    text: 'user send a &quot;post&quot; request to &quot;my url&quot;,\n    type: 'Action',\n    argument: { docString: [Object] },\n    astNodeIds: [\n      '04961ebc-4e8c-4cb3-b910-38xc9425-5xc0',\n      'df2aec66-8d24-4972-38xc9425-5xc0bae416cf'\n    ]\n  }\n</code></pre>\n<p>I hope this works for you.</p>\n"}],"owner":{"account_id":6186738,"reputation":21,"user_id":4820642,"display_name":"Amlesh Anand"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":598,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1691477987,"creation_date":1444299576,"question_id":33012950,"body_markdown":"I am using cucumber JVM in one of my projects.I want to get list of all steps of a scenario once it fails.Is there any way to do this?","title":"Cucumber: How to get list of executed steps after each scenario in cucumber JVM","body":"<p>I am using cucumber JVM in one of my projects.I want to get list of all steps of a scenario once it fails.Is there any way to do this?</p>\n"},{"tags":["java","android","sip","pjsua2","videocall"],"answers":[{"tags":[],"owner":{"account_id":24461878,"reputation":31,"user_id":18382788,"display_name":"azizconi1"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1691477605,"creation_date":1691477605,"answer_id":76857093,"question_id":76811800,"body_markdown":"I found the answer. For best quality We need set decFmtp for codec param:\r\n\r\n\r\nSet profile-level-id value for codec:\r\n``` \r\nval codecFmtpVector = codecParam.decFmtp\r\nfor (i in codecFmtpVector.indices) {\r\n     if (&quot;profile-level-id&quot; == codecFmtpVector[i].name) {\r\n             codecFmtpVector[i].setVal(&quot;42e01f&quot;)\r\n             break\r\n     }\r\n}\r\ncodecParam.decFmtp = codecFmtpVector\r\n\r\n  ``` ","title":"How to improve quality video for pjsua2 (pjsip) for android","body":"<p>I found the answer. For best quality We need set decFmtp for codec param:</p>\n<p>Set profile-level-id value for codec:</p>\n<pre><code>val codecFmtpVector = codecParam.decFmtp\nfor (i in codecFmtpVector.indices) {\n     if (&quot;profile-level-id&quot; == codecFmtpVector[i].name) {\n             codecFmtpVector[i].setVal(&quot;42e01f&quot;)\n             break\n     }\n}\ncodecParam.decFmtp = codecFmtpVector\n\n</code></pre>\n"}],"owner":{"account_id":24461878,"reputation":31,"user_id":18382788,"display_name":"azizconi1"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76857093,"answer_count":1,"score":1,"last_activity_date":1691477813,"creation_date":1690894163,"question_id":76811800,"body_markdown":"when working with video calls in android pjsua2 encountered the fact that the video is not rendered and pixels appear when the frame is changed\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Z3nwf.png\r\n\r\n\r\nHow to fix this problem. I am using this code to assign parameters to a codec.\r\n\r\n```\r\ncodecParam.setEncFmt(\r\n                setCodecParams(\r\n                    codecParam.getEncFmt(), // MediaFormatVideo\r\n                    30, // fpsNum\r\n                    1, // fpsDenum\r\n                    2048000, //AvgBps\r\n                    10192000 // MaxBps\r\n                )\r\n  );\r\n\r\n\r\npublic MediaFormatVideo setCodecParams(\r\n        MediaFormatVideo mediaFormatVideo,\r\n        int fps,\r\n        int fpsDeNum,\r\n        int avgBps,\r\n        int maxBps\r\n    ) {\r\n        mediaFormatVideo.setFpsNum(fps);\r\n        mediaFormatVideo.setFpsDenum(fpsDeNum);\r\n        if (avgBps &gt; 0) {\r\n            mediaFormatVideo.setAvgBps(avgBps);\r\n        }\r\n        if (maxBps &gt; 0) {\r\n            mediaFormatVideo.setMaxBps(maxBps);\r\n        }\r\n        mediaFormatVideo.setWidth(240);\r\n        mediaFormatVideo.setHeight(320);\r\n\r\n\r\n        return mediaFormatVideo;\r\n    }\r\n ```","title":"How to improve quality video for pjsua2 (pjsip) for android","body":"<p>when working with video calls in android pjsua2 encountered the fact that the video is not rendered and pixels appear when the frame is changed</p>\n<p><a href=\"https://i.stack.imgur.com/Z3nwf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Z3nwf.png\" alt=\"enter image description here\" /></a></p>\n<p>How to fix this problem. I am using this code to assign parameters to a codec.</p>\n<pre><code>codecParam.setEncFmt(\n                setCodecParams(\n                    codecParam.getEncFmt(), // MediaFormatVideo\n                    30, // fpsNum\n                    1, // fpsDenum\n                    2048000, //AvgBps\n                    10192000 // MaxBps\n                )\n  );\n\n\npublic MediaFormatVideo setCodecParams(\n        MediaFormatVideo mediaFormatVideo,\n        int fps,\n        int fpsDeNum,\n        int avgBps,\n        int maxBps\n    ) {\n        mediaFormatVideo.setFpsNum(fps);\n        mediaFormatVideo.setFpsDenum(fpsDeNum);\n        if (avgBps &gt; 0) {\n            mediaFormatVideo.setAvgBps(avgBps);\n        }\n        if (maxBps &gt; 0) {\n            mediaFormatVideo.setMaxBps(maxBps);\n        }\n        mediaFormatVideo.setWidth(240);\n        mediaFormatVideo.setHeight(320);\n\n\n        return mediaFormatVideo;\n    }\n</code></pre>\n"},{"tags":["java","android","file-manager"],"comments":[{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":2,"creation_date":1532900175,"post_id":51584665,"comment_id":90135010,"body_markdown":"Use `Environment.getExternalStorageDirectory()` to get at the root of external storage. Make sure that you have the `WRITE_EXTERNAL_STORAGE` permission, including the runtime permission on Android 6.0+.","body":"Use <code>Environment.getExternalStorageDirectory()</code> to get at the root of external storage. Make sure that you have the <code>WRITE_EXTERNAL_STORAGE</code> permission, including the runtime permission on Android 6.0+."}],"answers":[{"tags":[],"owner":{"account_id":1342249,"reputation":7921,"user_id":1283715,"accept_rate":74,"display_name":"Khaled Lela"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1532901366,"creation_date":1532899955,"answer_id":51584736,"question_id":51584665,"body_markdown":"      public static void deleteDir(Context ctx) {\r\n    \r\n            try {\r\n                File myFile = new File(Environment.getExternalStorageDirectory().getAbsolutePath()\r\n                                    + File.separator\r\n                                    + &quot;MyFolder&quot;);\r\n                }\r\n                if (myFile.exists()) {\r\n                    deleteRecursive(myFile);\r\n                }\r\n            }catch (Exception ignored){\r\n                Log.e(&quot;Delete error File: %s&quot;,ignored.getMessage());\r\n            }\r\n        }\r\n    \r\n        private static void deleteRecursive(File myFile) {\r\n            if (myFile.isDirectory())\r\n                for (File child : myFile.listFiles())\r\n                    deleteRecursive(child);\r\n            Log.e(&quot;MyFolder Files Deleted!!! : %s&quot;, myFile.delete());\r\n        }\r\n\r\n- Add this lines to app `manifest.xml`\r\n\r\n        &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;/&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n\r\n**Update**\r\n- As mentioned by [CommonsWare][1]  runtime permission request needed for `Android 6+`\r\n\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.JELLY_BEAN\r\n                &amp;&amp; ActivityCompat.checkSelfPermission(context, Manifest.permission.WRITE_EXTERNAL_STORAGE)\r\n                != PackageManager.PERMISSION_GRANTED) {\r\n            ActivityCompat.requestPermissions(context, new String[]{Manifest.permission.WRITE_EXTERNAL_STORAGE}, 101);\r\n        } else {\r\n            deleteDir(context);\r\n        }\r\n\r\n\r\n**Your Activity**\r\n  \r\n\r\n      @Override\r\n        public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n            switch (requestCode) {\r\n                case 101:\r\n                    if (grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n                        deleteDir(context);\r\n                    }\r\n            }\r\n        }\r\n\r\n  [1]: https://stackoverflow.com/users/115145/commonsware\r\n","title":"How can I delete an external folder with Android?","body":"<pre><code>  public static void deleteDir(Context ctx) {\n\n        try {\n            File myFile = new File(Environment.getExternalStorageDirectory().getAbsolutePath()\n                                + File.separator\n                                + \"MyFolder\");\n            }\n            if (myFile.exists()) {\n                deleteRecursive(myFile);\n            }\n        }catch (Exception ignored){\n            Log.e(\"Delete error File: %s\",ignored.getMessage());\n        }\n    }\n\n    private static void deleteRecursive(File myFile) {\n        if (myFile.isDirectory())\n            for (File child : myFile.listFiles())\n                deleteRecursive(child);\n        Log.e(\"MyFolder Files Deleted!!! : %s\", myFile.delete());\n    }\n</code></pre>\n\n<ul>\n<li><p>Add this lines to app <code>manifest.xml</code></p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.WRITE_EXTERNAL_STORAGE\"/&gt;\n&lt;uses-permission android:name=\"android.permission.READ_EXTERNAL_STORAGE\" /&gt;\n</code></pre></li>\n</ul>\n\n<p><strong>Update</strong>\n- As mentioned by <a href=\"https://stackoverflow.com/users/115145/commonsware\">CommonsWare</a>  runtime permission request needed for <code>Android 6+</code></p>\n\n<pre><code>    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.JELLY_BEAN\n            &amp;&amp; ActivityCompat.checkSelfPermission(context, Manifest.permission.WRITE_EXTERNAL_STORAGE)\n            != PackageManager.PERMISSION_GRANTED) {\n        ActivityCompat.requestPermissions(context, new String[]{Manifest.permission.WRITE_EXTERNAL_STORAGE}, 101);\n    } else {\n        deleteDir(context);\n    }\n</code></pre>\n\n<p><strong>Your Activity</strong></p>\n\n<pre><code>  @Override\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n        switch (requestCode) {\n            case 101:\n                if (grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n                    deleteDir(context);\n                }\n        }\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":2,"creation_date":1532900685,"post_id":51584757,"comment_id":90135119,"body_markdown":"Do not hardcode filesystem paths. That path will be invalid for some versions of Android, for some devices, and for some users.","body":"Do not hardcode filesystem paths. That path will be invalid for some versions of Android, for some devices, and for some users."}],"tags":[],"owner":{"account_id":14035647,"reputation":851,"user_id":10138416,"display_name":"linker"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1532903276,"creation_date":1532900294,"answer_id":51584757,"question_id":51584665,"body_markdown":"    new File(&quot;/storage/emulated/0/MyFolder&quot;).delete();\r\n\r\n**@** your `manifest.xml`\r\n\r\n    &lt;uses-permission  android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n\r\n **Update:** As mentioned by [CommonsWare](https://stackoverflow.com/users/115145/commonsware) `hardcoded filesystem paths might be invalid for some versions of Android`.\r\n\r\n    new File(Environment.getExternalStorageDirectory().getAbsolutePath()+&quot;/MyFolder&quot;).delete();\r\n                             ","title":"How can I delete an external folder with Android?","body":"<pre><code>new File(\"/storage/emulated/0/MyFolder\").delete();\n</code></pre>\n\n<p><strong>@</strong> your <code>manifest.xml</code></p>\n\n<pre><code>&lt;uses-permission  android:name=\"android.permission.WRITE_EXTERNAL_STORAGE\" /&gt;\n&lt;uses-permission android:name=\"android.permission.READ_EXTERNAL_STORAGE\" /&gt;\n</code></pre>\n\n<p><strong>Update:</strong> As mentioned by <a href=\"https://stackoverflow.com/users/115145/commonsware\">CommonsWare</a> <code>hardcoded filesystem paths might be invalid for some versions of Android</code>.</p>\n\n<pre><code>new File(Environment.getExternalStorageDirectory().getAbsolutePath()+\"/MyFolder\").delete();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1691480286,"post_id":76838541,"comment_id":135493537,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76838541/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"display_name":"user22340712"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691476985,"creation_date":1691175476,"answer_id":76838541,"question_id":51584665,"body_markdown":"    public static void deleteDir(Context ctx) {\r\n    \r\n            try {\r\n                File myFile = new File(Environment.getExternalStorageDirectory().getAbsolutePath()\r\n                                    + File.separator\r\n                                    + &quot;MyFolder&quot;);\r\n                }\r\n                if (myFile.exists()) {\r\n                    deleteRecursive(myFile);\r\n                }\r\n            }catch (Exception ignored){\r\n                Log.e(&quot;Delete error File: %s&quot;,ignored.getMessage());\r\n            }\r\n        }\r\n    \r\n        private static void deleteRecursive(File myFile) {\r\n            if (myFile.isDirectory())\r\n                for (File child : myFile.listFiles())\r\n                    deleteRecursive(child);\r\n            Log.e(&quot;MyFolder Files Deleted!!! : %s&quot;, myFile.delete());\r\n        }\r\n\r\n","title":"How can I delete an external folder with Android?","body":"<pre><code>public static void deleteDir(Context ctx) {\n\n        try {\n            File myFile = new File(Environment.getExternalStorageDirectory().getAbsolutePath()\n                                + File.separator\n                                + &quot;MyFolder&quot;);\n            }\n            if (myFile.exists()) {\n                deleteRecursive(myFile);\n            }\n        }catch (Exception ignored){\n            Log.e(&quot;Delete error File: %s&quot;,ignored.getMessage());\n        }\n    }\n\n    private static void deleteRecursive(File myFile) {\n        if (myFile.isDirectory())\n            for (File child : myFile.listFiles())\n                deleteRecursive(child);\n        Log.e(&quot;MyFolder Files Deleted!!! : %s&quot;, myFile.delete());\n    }\n</code></pre>\n"}],"owner":{"account_id":14055020,"reputation":55,"user_id":10152651,"display_name":"Sir Galan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1145,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":51584736,"answer_count":3,"score":0,"last_activity_date":1691476985,"creation_date":1532899278,"question_id":51584665,"body_markdown":"I have been searching for it but theres no any answer to my problem. I am programming an app and I want to delete an external folder. For example /storage/emulated/0/MyFolder, there is a lot of ways to create and read files from a internal app folder and an external app folder, but I dont know how to acces to files in &quot;/storage/emulated/0/...&quot;.\r\n\r\nThanks.","title":"How can I delete an external folder with Android?","body":"<p>I have been searching for it but theres no any answer to my problem. I am programming an app and I want to delete an external folder. For example /storage/emulated/0/MyFolder, there is a lot of ways to create and read files from a internal app folder and an external app folder, but I dont know how to acces to files in \"/storage/emulated/0/...\".</p>\n\n<p>Thanks.</p>\n"},{"tags":["java","android","navigation","navigation-drawer"],"comments":[{"owner":{"account_id":21320097,"reputation":208,"user_id":15693412,"display_name":"Harshal Pudale"},"score":1,"creation_date":1670925592,"post_id":68334189,"comment_id":131980436,"body_markdown":"Facing the exact same issue. The textstyle of top 5 items is set to bold when I click on any item. Maybe it&#39;s a bug in the material library that we are using?","body":"Facing the exact same issue. The textstyle of top 5 items is set to bold when I click on any item. Maybe it&#39;s a bug in the material library that we are using?"}],"answers":[{"tags":[],"owner":{"account_id":5256973,"reputation":84,"user_id":4199581,"display_name":"Sadman Sarar"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1625997096,"creation_date":1625997096,"answer_id":68335119,"question_id":68334189,"body_markdown":"This [answer][1] shows how you can change the size of the text. You should be able to reset the font weight of the items by adding\r\n\r\n```\r\n&lt;item name=&quot;android:textStyle&quot;&gt;normal&lt;/item&gt;\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/31204320/how-can-i-change-the-navigationviews-item-text-size","title":"Navigation Drawer item text getting bold on click","body":"<p>This <a href=\"https://stackoverflow.com/questions/31204320/how-can-i-change-the-navigationviews-item-text-size\">answer</a> shows how you can change the size of the text. You should be able to reset the font weight of the items by adding</p>\n<pre><code>&lt;item name=&quot;android:textStyle&quot;&gt;normal&lt;/item&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15346435,"reputation":145,"user_id":11071688,"display_name":"Hemant Prajapat"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691476729,"creation_date":1691476729,"answer_id":76857008,"question_id":68334189,"body_markdown":"I solved the same prolem by applying style(```itemTextAppearance```) in ```NavigationView```\r\n```\r\n&lt;com.google.android.material.navigation.NavigationView\r\n        ...\r\n        app:itemTextAppearance=&quot;@style/Style_TextView&quot; // You have to add this line\r\n        ...\r\n/&gt;\r\n```\r\n\r\nin ```themes.xml``` add below style\r\n```\r\n&lt;style name=&quot;Style_TextView&quot;&gt;\r\n        &lt;item name=&quot;android:textStyle&quot;&gt;normal&lt;/item&gt;\r\n&lt;/style&gt;\r\n```\r\n\r\n","title":"Navigation Drawer item text getting bold on click","body":"<p>I solved the same prolem by applying style(<code>itemTextAppearance</code>) in <code>NavigationView</code></p>\n<pre><code>&lt;com.google.android.material.navigation.NavigationView\n        ...\n        app:itemTextAppearance=&quot;@style/Style_TextView&quot; // You have to add this line\n        ...\n/&gt;\n</code></pre>\n<p>in <code>themes.xml</code> add below style</p>\n<pre><code>&lt;style name=&quot;Style_TextView&quot;&gt;\n        &lt;item name=&quot;android:textStyle&quot;&gt;normal&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n"}],"owner":{"account_id":8725718,"reputation":1712,"user_id":6527410,"accept_rate":53,"display_name":"androidXP"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":768,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1691476729,"creation_date":1625989243,"question_id":68334189,"body_markdown":"I have navigation drawer and in navigation view when i clicked on any item my top 5 item text turned into bold. I tried to remove fragment call but still it&#39;s all turned into bold.It doesn&#39;t matter which item i click it always turned into top 5 items into bold.\r\n\r\n[![enter image description here][1]][1] \r\n\r\n\r\n    public class Navigation_Drawer extends AppCompatActivity {\r\n    \r\n        \r\n        Toolbar toolbar;\r\n        DrawerLayout drawerLayout;\r\n        NavigationView navigationView;\r\n        //RelativeLayout mainScreen;\r\n        ActionBarDrawerToggle drawerToggle;\r\n        \r\n    \r\n    \r\n    \r\n    \r\n        @Override\r\n        protected void onCreate(@Nullable Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n    \r\n           \r\n    \r\n            setContentView(R.layout.navigation_drawer);\r\n            \r\n            //Initialise Views\r\n            drawerLayout = findViewById(R.id.Navigation_parent);\r\n            navigationView = findViewById(R.id.nvView);\r\n    \r\n            setupToolbar();\r\n            navigationView.setItemIconTintList(null);\r\n            setupDrawerContent(navigationView);\r\n            settingHeaderItems();\r\n            drawerToggle = setupDrawerToggle();\r\n            drawerToggle.setDrawerIndicatorEnabled(true);\r\n            drawerLayout.addDrawerListener(drawerToggle);\r\n            \r\n    \r\n    \r\n        }\r\n    \r\n       \r\n    \r\n        public void setupToolbar() {\r\n            toolbar = findViewById(R.id.Navigation_Drawer_toolbar);\r\n            setSupportActionBar(toolbar);\r\n            getSupportActionBar().setDisplayShowHomeEnabled(true);\r\n            getSupportActionBar().setDisplayHomeAsUpEnabled(false);\r\n            getSupportActionBar().setHomeButtonEnabled(true);\r\n        }\r\n    \r\n        private ActionBarDrawerToggle setupDrawerToggle() {\r\n            // NOTE: Make sure you pass in a valid toolbar reference.  ActionBarDrawToggle() does not require it\r\n            // and will not render the hamburger icon without it.\r\n            //return new ActionBarDrawerToggle(this, drawerLayout, toolbar, R.string.drawer_open,  R.string.drawer_close);\r\n            return new ActionBarDrawerToggle(this, drawerLayout, toolbar, R.string.drawer_open, R.string.drawer_close);\r\n        }\r\n    \r\n        public void setFragmentTitle(String title) {\r\n            setTitle(title);\r\n        }\r\n    \r\n    \r\n        private void setupDrawerContent(NavigationView navigationView) {\r\n            navigationView.setNavigationItemSelectedListener(\r\n                    new NavigationView.OnNavigationItemSelectedListener() {\r\n                        @Override\r\n                        public boolean onNavigationItemSelected(@NonNull MenuItem menuItem) {\r\n                            Navigation_Drawer.this.selectDrawerItem(menuItem);\r\n                            Log.d(TAG, &quot;onNavigationItemSelected: Menu Item = &quot;+menuItem);\r\n                            return true;\r\n                        }\r\n                    });\r\n    \r\n        }\r\n    \r\n    \r\n    \r\n        public void selectDrawerItem(MenuItem menuItem) {\r\n            // Create a new fragment and specify the fragment to show based on nav item clicked\r\n            Fragment fragment = null;\r\n    \r\n            menuItem.setChecked(true);\r\n            setTitle(menuItem.getTitle());\r\n    \r\n            switch (menuItem.getItemId()) {\r\n    \r\n                case 1:\r\n                    fragment = new EditProfile();\r\n                    break;\r\n                case 2:\r\n                    Log.d(TAG, &quot;Home Fragment Pressed &quot;);\r\n                    getSupportFragmentManager().popBackStack(null, android.app.FragmentManager.POP_BACK_STACK_INCLUSIVE);\r\n                    ChangeFragment_ViewPager(0, false);\r\n                    // Highlight the selected item has been done by NavigationView\r\n                    // Set action bar title\r\n                    setTitle(menuItem.getTitle());\r\n                    // Close the navigation drawer\r\n                    drawerLayout.closeDrawers();\r\n                    return;\r\n    \r\n                case 3:\r\n                    Log.d(TAG, &quot;PPL Fragment Pressed &quot;);\r\n                    getSupportFragmentManager().popBackStack(null, android.app.FragmentManager.POP_BACK_STACK_INCLUSIVE);\r\n    \r\n                    ChangeFragment_ViewPager(1, false);\r\n                    // Highlight the selected item has been done by NavigationView\r\n    \r\n                    // Set action bar title\r\n                    setTitle(menuItem.getTitle());\r\n                    // Close the navigation drawer\r\n                    drawerLayout.closeDrawers();\r\n                    return;\r\n    \r\n                case 4:\r\n                    Log.d(TAG, &quot;4 Fragment Pressed &quot;);\r\n                    fragment = new 4();\r\n                    break;\r\n    \r\n                case 5:\r\n                    Log.d(TAG, &quot;5 Fragment Pressed &quot;);\r\n                    fragment = new 5();\r\n                    break;\r\n    \r\n                case 6:\r\n                    Log.d(TAG, &quot;6 Fragment Pressed &quot;);\r\n                    //fragmentClass = PPL_main.class;\r\n                    \r\n                    String link = &quot; &quot;;\r\n                    Intent intent = new Intent(Intent.ACTION_SEND);\r\n                    intent.setType(&quot;text/plain&quot;);\r\n                    intent.putExtra(Intent.EXTRA_TEXT, link);\r\n    \r\n                    startActivity(Intent.createChooser(intent, &quot;Invite Friends&quot;));\r\n                    // Highlight the selected item has been done by NavigationView\r\n                    // Set action bar title\r\n                    // Close the navigation drawer\r\n                    return;\r\n    \r\n                case 7:\r\n                    Log.d(TAG, &quot;Interest Fragment Pressed &quot;);\r\n                    fragment = new 7();\r\n                    break;\r\n    \r\n                case 8:\r\n                    Log.d(TAG, &quot;Setting Fragment Pressed &quot;);\r\n                    fragment = new 8();\r\n                    break;\r\n    \r\n                case 9:\r\n                    Log.d(TAG, &quot;Help Fragment Pressed &quot;);\r\n                    //fragmentClass = PPL_main.class;\r\n                    fragment = new 9();\r\n                    \r\n                    break;\r\n    \r\n                case R.id.signOut_Fragment:\r\n                                    \r\n                    return;\r\n            }\r\n    \r\n    \r\n            // Close the navigation drawer\r\n            drawerLayout.closeDrawers();\r\n            FragmentTransaction fragmentTransaction = getSupportFragmentManager().beginTransaction();\r\n            fragmentTransaction.replace(R.id.parentFragment, fragment.getClass(),null);\r\n            fragmentTransaction.setCustomAnimations(R.anim.enter_anim, R.anim.exit_anim);\r\n            fragmentTransaction.addToBackStack(null);\r\n            fragmentTransaction.commit();\r\n            \r\n        }\r\n    \r\n        private void settingHeaderItems() {\r\n            View HeaderLayout = navigationView.inflateHeaderView(R.layout.navigation_header_image);\r\n            //Main Screen Tabs With VIew Pager\r\n            headerImage = HeaderLayout.findViewById(R.id.HeaderImageView);\r\n            headerImage.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    FragmentTransaction fragmentTransaction = getSupportFragmentManager().beginTransaction();\r\n                    fragmentTransaction.replace(R.id.Navigation_Main_Layout, new EditProfile());\r\n                    fragmentTransaction.setCustomAnimations(R.anim.enter_anim, R.anim.exit_anim);\r\n                    fragmentTransaction.addToBackStack(null);\r\n                    fragmentTransaction.commit();\r\n                    drawerLayout.closeDrawers();\r\n                }\r\n            });\r\n            headerUserImage = HeaderLayout.findViewById(R.id.Header);\r\n            userName = HeaderLayout.findViewById(R.id.ViewText);\r\n            userViews = HeaderLayout.findViewById(R.id.Views);\r\n            if (App_Functions.coverPath.equals(&quot;Invalid Image&quot;)) {\r\n                headerImage.setBackgroundResource(R.drawable.cam_icon);\r\n            } else {\r\n                Log.d(TAG, &quot;Path Of Cover Photo &quot; + App1);\r\n                Glide.with(this).load(App2)\r\n                        .diskCacheStrategy(DiskCacheStrategy.NONE).skipMemoryCache(true)\r\n                        .into(headerImage);\r\n                //  Glide.with(context).load(App_Functions.coverPath).apply(new RequestOptions().skipMemoryCache(true).onlyRetrieveFromCache(false).diskCacheStrategy(DiskCacheStrategy.NONE)).into(holder.HeaderImage);\r\n            }\r\n            Bitmap bitmap = BitmapFactory.decodeFile(App2);\r\n    \r\n            userName.setText(Session.getU());\r\n           \r\n            Glide.with(this).load(App2)\r\n                    .diskCacheStrategy(DiskCacheStrategy.NONE).skipMemoryCache(true)\r\n                    .into(headerUserImage);\r\n    \r\n        }\r\n      \r\n    \r\n        @Override\r\n        protected void onPostCreate(@Nullable Bundle savedInstanceState) {\r\n            super.onPostCreate(savedInstanceState);\r\n            drawerToggle.syncState();\r\n        }\r\n    \r\n        @Override\r\n        public void onConfigurationChanged(Configuration newConfig) {\r\n            super.onConfigurationChanged(newConfig);\r\n            drawerToggle.onConfigurationChanged(newConfig);\r\n        }\r\n    \r\n      \r\n        @Override\r\n        protected void onDestroy() {\r\n            super.onDestroy();\r\n        }\r\n    \r\n      \r\n    } // END OF NAVIGATION DRAWERS\r\n\r\nXML\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.drawerlayout.widget.DrawerLayout\r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:id=&quot;@+id/Navigation_parent&quot;&gt;\r\n    \r\n        &lt;!--The Main Layout For Content--&gt;\r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:orientation=&quot;vertical&quot;&gt;\r\n            &lt;!--Toolbar for actionbar   --&gt;\r\n            &lt;include\r\n                android:id=&quot;@+id/Navigation_Drawer_toolbar&quot;\r\n                layout=&quot;@layout/toolbar&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot; /&gt;\r\n            &lt;FrameLayout\r\n                android:id=&quot;@+id/Navigation_Main_Layout&quot;\r\n                app:layout_behavior=&quot;@string/appbar_scrolling_view_behavior&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot; &gt;\r\n    \r\n    \r\n    \r\n           \r\n    \r\n                &lt;androidx.viewpager2.widget.ViewPager2\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;match_parent&quot;\r\n                    android:id=&quot;@+id/Navigation_Drawer_ViewPager&quot;&gt;\r\n    \r\n                \r\n                &lt;/androidx.viewpager2.widget.ViewPager2&gt;\r\n    \r\n            &lt;/FrameLayout&gt;\r\n        &lt;/LinearLayout&gt;\r\n    \r\n     \r\n    \r\n        &lt;com.google.android.material.navigation.NavigationView\r\n            android:id=&quot;@+id/nvView&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:layout_gravity=&quot;start&quot;\r\n            android:background=&quot;@android:color/white&quot;\r\n            app:menu=&quot;@menu/drawer_view&quot; /&gt;\r\n    \r\n    \r\n    &lt;/androidx.drawerlayout.widget.DrawerLayout&gt;\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3E6gb.jpg","title":"Navigation Drawer item text getting bold on click","body":"<p>I have navigation drawer and in navigation view when i clicked on any item my top 5 item text turned into bold. I tried to remove fragment call but still it's all turned into bold.It doesn't matter which item i click it always turned into top 5 items into bold.</p>\n<p><a href=\"https://i.stack.imgur.com/3E6gb.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3E6gb.jpg\" alt=\"enter image description here\" /></a></p>\n<pre><code>public class Navigation_Drawer extends AppCompatActivity {\n\n    \n    Toolbar toolbar;\n    DrawerLayout drawerLayout;\n    NavigationView navigationView;\n    //RelativeLayout mainScreen;\n    ActionBarDrawerToggle drawerToggle;\n    \n\n\n\n\n    @Override\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n       \n\n        setContentView(R.layout.navigation_drawer);\n        \n        //Initialise Views\n        drawerLayout = findViewById(R.id.Navigation_parent);\n        navigationView = findViewById(R.id.nvView);\n\n        setupToolbar();\n        navigationView.setItemIconTintList(null);\n        setupDrawerContent(navigationView);\n        settingHeaderItems();\n        drawerToggle = setupDrawerToggle();\n        drawerToggle.setDrawerIndicatorEnabled(true);\n        drawerLayout.addDrawerListener(drawerToggle);\n        \n\n\n    }\n\n   \n\n    public void setupToolbar() {\n        toolbar = findViewById(R.id.Navigation_Drawer_toolbar);\n        setSupportActionBar(toolbar);\n        getSupportActionBar().setDisplayShowHomeEnabled(true);\n        getSupportActionBar().setDisplayHomeAsUpEnabled(false);\n        getSupportActionBar().setHomeButtonEnabled(true);\n    }\n\n    private ActionBarDrawerToggle setupDrawerToggle() {\n        // NOTE: Make sure you pass in a valid toolbar reference.  ActionBarDrawToggle() does not require it\n        // and will not render the hamburger icon without it.\n        //return new ActionBarDrawerToggle(this, drawerLayout, toolbar, R.string.drawer_open,  R.string.drawer_close);\n        return new ActionBarDrawerToggle(this, drawerLayout, toolbar, R.string.drawer_open, R.string.drawer_close);\n    }\n\n    public void setFragmentTitle(String title) {\n        setTitle(title);\n    }\n\n\n    private void setupDrawerContent(NavigationView navigationView) {\n        navigationView.setNavigationItemSelectedListener(\n                new NavigationView.OnNavigationItemSelectedListener() {\n                    @Override\n                    public boolean onNavigationItemSelected(@NonNull MenuItem menuItem) {\n                        Navigation_Drawer.this.selectDrawerItem(menuItem);\n                        Log.d(TAG, &quot;onNavigationItemSelected: Menu Item = &quot;+menuItem);\n                        return true;\n                    }\n                });\n\n    }\n\n\n\n    public void selectDrawerItem(MenuItem menuItem) {\n        // Create a new fragment and specify the fragment to show based on nav item clicked\n        Fragment fragment = null;\n\n        menuItem.setChecked(true);\n        setTitle(menuItem.getTitle());\n\n        switch (menuItem.getItemId()) {\n\n            case 1:\n                fragment = new EditProfile();\n                break;\n            case 2:\n                Log.d(TAG, &quot;Home Fragment Pressed &quot;);\n                getSupportFragmentManager().popBackStack(null, android.app.FragmentManager.POP_BACK_STACK_INCLUSIVE);\n                ChangeFragment_ViewPager(0, false);\n                // Highlight the selected item has been done by NavigationView\n                // Set action bar title\n                setTitle(menuItem.getTitle());\n                // Close the navigation drawer\n                drawerLayout.closeDrawers();\n                return;\n\n            case 3:\n                Log.d(TAG, &quot;PPL Fragment Pressed &quot;);\n                getSupportFragmentManager().popBackStack(null, android.app.FragmentManager.POP_BACK_STACK_INCLUSIVE);\n\n                ChangeFragment_ViewPager(1, false);\n                // Highlight the selected item has been done by NavigationView\n\n                // Set action bar title\n                setTitle(menuItem.getTitle());\n                // Close the navigation drawer\n                drawerLayout.closeDrawers();\n                return;\n\n            case 4:\n                Log.d(TAG, &quot;4 Fragment Pressed &quot;);\n                fragment = new 4();\n                break;\n\n            case 5:\n                Log.d(TAG, &quot;5 Fragment Pressed &quot;);\n                fragment = new 5();\n                break;\n\n            case 6:\n                Log.d(TAG, &quot;6 Fragment Pressed &quot;);\n                //fragmentClass = PPL_main.class;\n                \n                String link = &quot; &quot;;\n                Intent intent = new Intent(Intent.ACTION_SEND);\n                intent.setType(&quot;text/plain&quot;);\n                intent.putExtra(Intent.EXTRA_TEXT, link);\n\n                startActivity(Intent.createChooser(intent, &quot;Invite Friends&quot;));\n                // Highlight the selected item has been done by NavigationView\n                // Set action bar title\n                // Close the navigation drawer\n                return;\n\n            case 7:\n                Log.d(TAG, &quot;Interest Fragment Pressed &quot;);\n                fragment = new 7();\n                break;\n\n            case 8:\n                Log.d(TAG, &quot;Setting Fragment Pressed &quot;);\n                fragment = new 8();\n                break;\n\n            case 9:\n                Log.d(TAG, &quot;Help Fragment Pressed &quot;);\n                //fragmentClass = PPL_main.class;\n                fragment = new 9();\n                \n                break;\n\n            case R.id.signOut_Fragment:\n                                \n                return;\n        }\n\n\n        // Close the navigation drawer\n        drawerLayout.closeDrawers();\n        FragmentTransaction fragmentTransaction = getSupportFragmentManager().beginTransaction();\n        fragmentTransaction.replace(R.id.parentFragment, fragment.getClass(),null);\n        fragmentTransaction.setCustomAnimations(R.anim.enter_anim, R.anim.exit_anim);\n        fragmentTransaction.addToBackStack(null);\n        fragmentTransaction.commit();\n        \n    }\n\n    private void settingHeaderItems() {\n        View HeaderLayout = navigationView.inflateHeaderView(R.layout.navigation_header_image);\n        //Main Screen Tabs With VIew Pager\n        headerImage = HeaderLayout.findViewById(R.id.HeaderImageView);\n        headerImage.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                FragmentTransaction fragmentTransaction = getSupportFragmentManager().beginTransaction();\n                fragmentTransaction.replace(R.id.Navigation_Main_Layout, new EditProfile());\n                fragmentTransaction.setCustomAnimations(R.anim.enter_anim, R.anim.exit_anim);\n                fragmentTransaction.addToBackStack(null);\n                fragmentTransaction.commit();\n                drawerLayout.closeDrawers();\n            }\n        });\n        headerUserImage = HeaderLayout.findViewById(R.id.Header);\n        userName = HeaderLayout.findViewById(R.id.ViewText);\n        userViews = HeaderLayout.findViewById(R.id.Views);\n        if (App_Functions.coverPath.equals(&quot;Invalid Image&quot;)) {\n            headerImage.setBackgroundResource(R.drawable.cam_icon);\n        } else {\n            Log.d(TAG, &quot;Path Of Cover Photo &quot; + App1);\n            Glide.with(this).load(App2)\n                    .diskCacheStrategy(DiskCacheStrategy.NONE).skipMemoryCache(true)\n                    .into(headerImage);\n            //  Glide.with(context).load(App_Functions.coverPath).apply(new RequestOptions().skipMemoryCache(true).onlyRetrieveFromCache(false).diskCacheStrategy(DiskCacheStrategy.NONE)).into(holder.HeaderImage);\n        }\n        Bitmap bitmap = BitmapFactory.decodeFile(App2);\n\n        userName.setText(Session.getU());\n       \n        Glide.with(this).load(App2)\n                .diskCacheStrategy(DiskCacheStrategy.NONE).skipMemoryCache(true)\n                .into(headerUserImage);\n\n    }\n  \n\n    @Override\n    protected void onPostCreate(@Nullable Bundle savedInstanceState) {\n        super.onPostCreate(savedInstanceState);\n        drawerToggle.syncState();\n    }\n\n    @Override\n    public void onConfigurationChanged(Configuration newConfig) {\n        super.onConfigurationChanged(newConfig);\n        drawerToggle.onConfigurationChanged(newConfig);\n    }\n\n  \n    @Override\n    protected void onDestroy() {\n        super.onDestroy();\n    }\n\n  \n} // END OF NAVIGATION DRAWERS\n</code></pre>\n<p>XML</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.drawerlayout.widget.DrawerLayout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:id=&quot;@+id/Navigation_parent&quot;&gt;\n\n    &lt;!--The Main Layout For Content--&gt;\n    &lt;LinearLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:orientation=&quot;vertical&quot;&gt;\n        &lt;!--Toolbar for actionbar   --&gt;\n        &lt;include\n            android:id=&quot;@+id/Navigation_Drawer_toolbar&quot;\n            layout=&quot;@layout/toolbar&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot; /&gt;\n        &lt;FrameLayout\n            android:id=&quot;@+id/Navigation_Main_Layout&quot;\n            app:layout_behavior=&quot;@string/appbar_scrolling_view_behavior&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot; &gt;\n\n\n\n       \n\n            &lt;androidx.viewpager2.widget.ViewPager2\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;match_parent&quot;\n                android:id=&quot;@+id/Navigation_Drawer_ViewPager&quot;&gt;\n\n            \n            &lt;/androidx.viewpager2.widget.ViewPager2&gt;\n\n        &lt;/FrameLayout&gt;\n    &lt;/LinearLayout&gt;\n\n \n\n    &lt;com.google.android.material.navigation.NavigationView\n        android:id=&quot;@+id/nvView&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:layout_gravity=&quot;start&quot;\n        android:background=&quot;@android:color/white&quot;\n        app:menu=&quot;@menu/drawer_view&quot; /&gt;\n\n\n&lt;/androidx.drawerlayout.widget.DrawerLayout&gt;\n</code></pre>\n"},{"tags":["java","android","xml"],"comments":[{"owner":{"account_id":29166006,"reputation":1,"user_id":22343571,"display_name":"Mohd Zaid"},"score":0,"creation_date":1691316332,"post_id":76845351,"comment_id":135472759,"body_markdown":"only one element* sorry for the typo","body":"only one element* sorry for the typo"},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1691317081,"post_id":76845351,"comment_id":135472821,"body_markdown":"You can [edit] your question to fix the typo.","body":"You can <a href=\"https://stackoverflow.com/posts/76845351/edit\">edit</a> your question to fix the typo."}],"answers":[{"comments":[{"owner":{"account_id":29166006,"reputation":1,"user_id":22343571,"display_name":"Mohd Zaid"},"score":0,"creation_date":1691429914,"post_id":76850713,"comment_id":135487612,"body_markdown":"tried it but nothing happened i am still getting only one element of the recylerView and blank spaces instead","body":"tried it but nothing happened i am still getting only one element of the recylerView and blank spaces instead"}],"tags":[],"owner":{"account_id":17292219,"reputation":146,"user_id":12523577,"display_name":"viethoang"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691403187,"creation_date":1691403187,"answer_id":76850713,"question_id":76845351,"body_markdown":"One possible solution is to adjust the layout height of **NestedScrollView** to match the parent and set a fixed size for **RecyclerView** to false.\r\n\r\n    recyclerView.setHasFixedSize(false);\r\n\r\nHope it helps","title":"RecylerView showing only one element and blank spaces when it is inside NestedScrollView","body":"<p>One possible solution is to adjust the layout height of <strong>NestedScrollView</strong> to match the parent and set a fixed size for <strong>RecyclerView</strong> to false.</p>\n<pre><code>recyclerView.setHasFixedSize(false);\n</code></pre>\n<p>Hope it helps</p>\n"},{"tags":[],"owner":{"account_id":29166006,"reputation":1,"user_id":22343571,"display_name":"Mohd Zaid"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691476651,"creation_date":1691476651,"answer_id":76856999,"question_id":76845351,"body_markdown":"So what worked for me is Placing the linearLayout inside the appBarLayout and below the toolbar and using the scrollFlags =&quot;scroll|enterAlways&quot; and setting the layout_behaviour of recyclerView to @string/appbar_scrolling_view_behaviour  \r\n\r\n              &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n           &lt;androidx.coordinatorlayout.widget.CoordinatorLayout \r\n            xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n             xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n              xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n              android:layout_height=&quot;match_parent&quot;\r\n            tools:context=&quot;.AnotherActivity&quot;&gt;\r\n            &lt;com.google.android.material.appbar.AppBarLayout\r\n              android:layout_width=&quot;match_parent&quot;\r\n                 android:layout_height=&quot;wrap_content&quot;\r\n               android:fitsSystemWindows=&quot;true&quot;\r\n                                                &gt;\r\n                         &lt;androidx.appcompat.widget.Toolbar\r\n                       app:layout_scrollFlags=&quot;scroll|enterAlways&quot;\r\n                           android:layout_width=&quot;match_parent&quot;\r\n                       android:layout_height=&quot;wrap_content&quot;\r\n                         &gt;\r\n\r\n                            &lt;/androidx.appcompat.widget.Toolbar&gt;\r\n                          &lt;LinearLayout\r\n                        app:layout_scrollFlags=&quot;scroll|enterAlways&quot;\r\n                       android:layout_width=&quot;match_parent&quot;\r\n                      android:layout_height=&quot;100dp&quot;\r\n                           android:background=&quot;#fff&quot;\r\n                                               &gt;\r\n\r\n                          &lt;/LinearLayout&gt;\r\n                      &lt;/com.google.android.material.appbar.AppBarLayout&gt;\r\n                     &lt;androidx.recyclerview.widget.RecyclerView\r\n                   android:layout_width=&quot;match_parent&quot;\r\n                   android:clipToPadding=&quot;false&quot;\r\n                    android:id=&quot;@+id/feed_recyler&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:background=&quot;#FFF2&quot;\r\n                          \r\n                  app:layout_behavior=&quot;@string/appbar_scrolling_view_behavior&quot;\r\n                  &gt;\r\n\r\n              &lt;/androidx.recyclerview.widget.RecyclerView&gt;\r\n        &lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;","title":"RecylerView showing only one element and blank spaces when it is inside NestedScrollView","body":"<p>So what worked for me is Placing the linearLayout inside the appBarLayout and below the toolbar and using the scrollFlags =&quot;scroll|enterAlways&quot; and setting the layout_behaviour of recyclerView to @string/appbar_scrolling_view_behaviour</p>\n<pre><code>          &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n       &lt;androidx.coordinatorlayout.widget.CoordinatorLayout \n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n         xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n          xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n        android:layout_width=&quot;match_parent&quot;\n          android:layout_height=&quot;match_parent&quot;\n        tools:context=&quot;.AnotherActivity&quot;&gt;\n        &lt;com.google.android.material.appbar.AppBarLayout\n          android:layout_width=&quot;match_parent&quot;\n             android:layout_height=&quot;wrap_content&quot;\n           android:fitsSystemWindows=&quot;true&quot;\n                                            &gt;\n                     &lt;androidx.appcompat.widget.Toolbar\n                   app:layout_scrollFlags=&quot;scroll|enterAlways&quot;\n                       android:layout_width=&quot;match_parent&quot;\n                   android:layout_height=&quot;wrap_content&quot;\n                     &gt;\n\n                        &lt;/androidx.appcompat.widget.Toolbar&gt;\n                      &lt;LinearLayout\n                    app:layout_scrollFlags=&quot;scroll|enterAlways&quot;\n                   android:layout_width=&quot;match_parent&quot;\n                  android:layout_height=&quot;100dp&quot;\n                       android:background=&quot;#fff&quot;\n                                           &gt;\n\n                      &lt;/LinearLayout&gt;\n                  &lt;/com.google.android.material.appbar.AppBarLayout&gt;\n                 &lt;androidx.recyclerview.widget.RecyclerView\n               android:layout_width=&quot;match_parent&quot;\n               android:clipToPadding=&quot;false&quot;\n                android:id=&quot;@+id/feed_recyler&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:background=&quot;#FFF2&quot;\n                      \n              app:layout_behavior=&quot;@string/appbar_scrolling_view_behavior&quot;\n              &gt;\n\n          &lt;/androidx.recyclerview.widget.RecyclerView&gt;\n    &lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\n</code></pre>\n"}],"owner":{"account_id":29166006,"reputation":1,"user_id":22343571,"display_name":"Mohd Zaid"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1691476651,"creation_date":1691316274,"question_id":76845351,"body_markdown":"I want the toolbar and a linearLayout above the recyclerView to scroll when scrolling the items of recyclerView so i placed it in a nestedScrollView and set the recylerView.setNestedScrollingEnabled(false) but now i am getting only on element of the recyclerView and blank spaces instead of rest of the elements\r\n\r\n                      &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n                &lt;androidx.coordinatorlayout.widget.CoordinatorLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n                    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n                    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;match_parent&quot;\r\n                    android:gravity=&quot;center&quot;\r\n                    tools:context=&quot;.MainActivity&quot;&gt;\r\n                \r\n                    &lt;androidx.core.widget.NestedScrollView\r\n                        android:fillViewport=&quot;true&quot;\r\n                        app:layout_behavior=&quot;@string/appbar_scrolling_view_behavior&quot;\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        &gt;\r\n                        &lt;LinearLayout\r\n                            android:orientation=&quot;vertical&quot;\r\n                            android:layout_width=&quot;match_parent&quot;\r\n                            android:paddingTop=&quot;0dp&quot;\r\n                            android:layout_height=&quot;wrap_content&quot;&gt;\r\n                            &lt;com.google.android.material.appbar.AppBarLayout\r\n                                android:layout_height=&quot;wrap_content&quot;\r\n                                android:layout_width=&quot;match_parent&quot;&gt;\r\n                                &lt;androidx.appcompat.widget.Toolbar\r\n                                    android:id=&quot;@+id/feed_toolbar&quot;\r\n                                    android:layout_width=&quot;match_parent&quot;\r\n                                    android:layout_height=&quot;wrap_content&quot;\r\n                                    &gt;\r\n                                    &lt;LinearLayout\r\n                                        android:id=&quot;@+id/feed_linear&quot;\r\n                                        android:layout_width=&quot;match_parent&quot;\r\n                                        android:layout_height=&quot;wrap_content&quot;\r\n                                        android:orientation=&quot;horizontal&quot;&gt;\r\n                \r\n                                        &lt;LinearLayout\r\n                                            android:layout_width=&quot;0dp&quot;\r\n                                            android:layout_height=&quot;wrap_content&quot;\r\n                                            android:layout_weight=&quot;1&quot;&gt;\r\n                \r\n                                            &lt;TextView\r\n                                                android:layout_width=&quot;wrap_content&quot;\r\n                                                android:layout_height=&quot;wrap_content&quot;\r\n                                                android:fontFamily=&quot;@font/billabong&quot;\r\n                                                android:paddingLeft=&quot;10dp&quot;\r\n                                                android:paddingTop=&quot;10dp&quot;\r\n                                                android:text=&quot;@string/instagram&quot;\r\n                                                android:textColor=&quot;@color/white&quot;\r\n                                                android:textSize=&quot;33dp&quot; /&gt;\r\n                \r\n                                        &lt;/LinearLayout&gt;\r\n                \r\n                                        &lt;LinearLayout\r\n                                            android:layout_width=&quot;0dp&quot;\r\n                                            android:layout_height=&quot;wrap_content&quot;\r\n                                            android:layout_gravity=&quot;center_vertical&quot;\r\n                                            android:layout_weight=&quot;1&quot;\r\n                                            android:gravity=&quot;end&quot;&gt;\r\n                \r\n                                            &lt;ImageView\r\n                                                android:layout_width=&quot;30dp&quot;\r\n                                                android:layout_height=&quot;30dp&quot;\r\n                                                android:id=&quot;@+id/notification_custom&quot;\r\n                                                android:layout_marginRight=&quot;15dp&quot;\r\n                                                android:src=&quot;@drawable/heart_red&quot; /&gt;\r\n                \r\n                                            &lt;ImageView\r\n                                                android:id=&quot;@+id/message_icon&quot;\r\n                                                android:layout_width=&quot;30dp&quot;\r\n                                                android:layout_height=&quot;30dp&quot;\r\n                                                android:layout_marginRight=&quot;12dp&quot;\r\n                                                android:src=&quot;@drawable/messenger&quot; /&gt;\r\n                \r\n                                        &lt;/LinearLayout&gt;\r\n                                    &lt;/LinearLayout&gt;\r\n                                &lt;/androidx.appcompat.widget.Toolbar&gt;\r\n                            &lt;/com.google.android.material.appbar.AppBarLayout&gt;\r\n                \r\n                            &lt;LinearLayout\r\n                                android:id=&quot;@+id/feed_story_linear&quot;\r\n                                android:layout_width=&quot;match_parent&quot;\r\n                                android:layout_height=&quot;100dp&quot;\r\n                                android:background=&quot;@color/white&quot;\r\n                                android:orientation=&quot;horizontal&quot; /&gt;\r\n                            &lt;androidx.recyclerview.widget.RecyclerView\r\n                                android:id=&quot;@+id/feed_recyler&quot;\r\n                                android:clipToPadding=&quot;false&quot;\r\n                                android:layout_width=&quot;match_parent&quot;\r\n                                android:layout_height=&quot;wrap_content&quot; /&gt;\r\n                \r\n                        &lt;/LinearLayout&gt;\r\n                \r\n                    &lt;/androidx.core.widget.NestedScrollView&gt;\r\n                \r\n                \r\n                \r\n                &lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;","title":"RecylerView showing only one element and blank spaces when it is inside NestedScrollView","body":"<p>I want the toolbar and a linearLayout above the recyclerView to scroll when scrolling the items of recyclerView so i placed it in a nestedScrollView and set the recylerView.setNestedScrollingEnabled(false) but now i am getting only on element of the recyclerView and blank spaces instead of rest of the elements</p>\n<pre><code>                  &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n            &lt;androidx.coordinatorlayout.widget.CoordinatorLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n                xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n                xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;match_parent&quot;\n                android:gravity=&quot;center&quot;\n                tools:context=&quot;.MainActivity&quot;&gt;\n            \n                &lt;androidx.core.widget.NestedScrollView\n                    android:fillViewport=&quot;true&quot;\n                    app:layout_behavior=&quot;@string/appbar_scrolling_view_behavior&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    &gt;\n                    &lt;LinearLayout\n                        android:orientation=&quot;vertical&quot;\n                        android:layout_width=&quot;match_parent&quot;\n                        android:paddingTop=&quot;0dp&quot;\n                        android:layout_height=&quot;wrap_content&quot;&gt;\n                        &lt;com.google.android.material.appbar.AppBarLayout\n                            android:layout_height=&quot;wrap_content&quot;\n                            android:layout_width=&quot;match_parent&quot;&gt;\n                            &lt;androidx.appcompat.widget.Toolbar\n                                android:id=&quot;@+id/feed_toolbar&quot;\n                                android:layout_width=&quot;match_parent&quot;\n                                android:layout_height=&quot;wrap_content&quot;\n                                &gt;\n                                &lt;LinearLayout\n                                    android:id=&quot;@+id/feed_linear&quot;\n                                    android:layout_width=&quot;match_parent&quot;\n                                    android:layout_height=&quot;wrap_content&quot;\n                                    android:orientation=&quot;horizontal&quot;&gt;\n            \n                                    &lt;LinearLayout\n                                        android:layout_width=&quot;0dp&quot;\n                                        android:layout_height=&quot;wrap_content&quot;\n                                        android:layout_weight=&quot;1&quot;&gt;\n            \n                                        &lt;TextView\n                                            android:layout_width=&quot;wrap_content&quot;\n                                            android:layout_height=&quot;wrap_content&quot;\n                                            android:fontFamily=&quot;@font/billabong&quot;\n                                            android:paddingLeft=&quot;10dp&quot;\n                                            android:paddingTop=&quot;10dp&quot;\n                                            android:text=&quot;@string/instagram&quot;\n                                            android:textColor=&quot;@color/white&quot;\n                                            android:textSize=&quot;33dp&quot; /&gt;\n            \n                                    &lt;/LinearLayout&gt;\n            \n                                    &lt;LinearLayout\n                                        android:layout_width=&quot;0dp&quot;\n                                        android:layout_height=&quot;wrap_content&quot;\n                                        android:layout_gravity=&quot;center_vertical&quot;\n                                        android:layout_weight=&quot;1&quot;\n                                        android:gravity=&quot;end&quot;&gt;\n            \n                                        &lt;ImageView\n                                            android:layout_width=&quot;30dp&quot;\n                                            android:layout_height=&quot;30dp&quot;\n                                            android:id=&quot;@+id/notification_custom&quot;\n                                            android:layout_marginRight=&quot;15dp&quot;\n                                            android:src=&quot;@drawable/heart_red&quot; /&gt;\n            \n                                        &lt;ImageView\n                                            android:id=&quot;@+id/message_icon&quot;\n                                            android:layout_width=&quot;30dp&quot;\n                                            android:layout_height=&quot;30dp&quot;\n                                            android:layout_marginRight=&quot;12dp&quot;\n                                            android:src=&quot;@drawable/messenger&quot; /&gt;\n            \n                                    &lt;/LinearLayout&gt;\n                                &lt;/LinearLayout&gt;\n                            &lt;/androidx.appcompat.widget.Toolbar&gt;\n                        &lt;/com.google.android.material.appbar.AppBarLayout&gt;\n            \n                        &lt;LinearLayout\n                            android:id=&quot;@+id/feed_story_linear&quot;\n                            android:layout_width=&quot;match_parent&quot;\n                            android:layout_height=&quot;100dp&quot;\n                            android:background=&quot;@color/white&quot;\n                            android:orientation=&quot;horizontal&quot; /&gt;\n                        &lt;androidx.recyclerview.widget.RecyclerView\n                            android:id=&quot;@+id/feed_recyler&quot;\n                            android:clipToPadding=&quot;false&quot;\n                            android:layout_width=&quot;match_parent&quot;\n                            android:layout_height=&quot;wrap_content&quot; /&gt;\n            \n                    &lt;/LinearLayout&gt;\n            \n                &lt;/androidx.core.widget.NestedScrollView&gt;\n            \n            \n            \n            &lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\n</code></pre>\n"},{"tags":["java","elasticsearch","search","liferay","portlet"],"comments":[{"owner":{"account_id":160092,"reputation":2157,"user_id":379902,"display_name":"Daniele Baggio"},"score":0,"creation_date":1621262626,"post_id":67571639,"comment_id":119435944,"body_markdown":"Why ` HttpServletRequest _request = PortalUtil.getHttpServletRequest(request); ` and not portlet request ?","body":"Why ` HttpServletRequest _request = PortalUtil.getHttpServletRequest(request); ` and not portlet request ?"},{"owner":{"account_id":16236544,"reputation":15,"user_id":11723909,"display_name":"MaFa"},"score":0,"creation_date":1621317832,"post_id":67571639,"comment_id":119451563,"body_markdown":"@DanieleBaggio \nWhen I use  .getInstance () in **   SearchContext searchContext = SearchContextFactory.getInstance(_request)   ** I have to define ( HttpServletRequest)\nI think this is not the actual cause of the problem","body":"@DanieleBaggio  When I use  .getInstance () in **   SearchContext searchContext = SearchContextFactory.getInstance(_request)   ** I have to define ( HttpServletRequest) I think this is not the actual cause of the problem"},{"owner":{"account_id":160092,"reputation":2157,"user_id":379902,"display_name":"Daniele Baggio"},"score":0,"creation_date":1621325254,"post_id":67571639,"comment_id":119454404,"body_markdown":"No indeed. the code seems the same. Rollback to jsp version and check changes","body":"No indeed. the code seems the same. Rollback to jsp version and check changes"},{"owner":{"account_id":16236544,"reputation":15,"user_id":11723909,"display_name":"MaFa"},"score":0,"creation_date":1621433036,"post_id":67571639,"comment_id":119494420,"body_markdown":"@DanieleBaggio It didn&#39;t help. I need a method by which I can get the documents saved in the index and return them within the Hits elements","body":"@DanieleBaggio It didn&#39;t help. I need a method by which I can get the documents saved in the index and return them within the Hits elements"}],"answers":[{"tags":[],"owner":{"account_id":29158168,"reputation":1,"user_id":22337489,"display_name":"Phoniex"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691476489,"creation_date":1691135301,"answer_id":76833950,"question_id":67571639,"body_markdown":"In Index.java change \r\n\r\n    setPermissionAware(true); to setPermissionAware(false);\r\n\r\n","title":"liferay empty search results by searching in a custom index","body":"<p>In Index.java change</p>\n<pre><code>setPermissionAware(true); to setPermissionAware(false);\n</code></pre>\n"}],"owner":{"account_id":16236544,"reputation":15,"user_id":11723909,"display_name":"MaFa"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":534,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691476489,"creation_date":1621261524,"question_id":67571639,"body_markdown":"i&#39;m using liferay 7.3.5 und try to create an elasticSearch. I tried to index one of the entities I have in the database.\r\n\r\nI followed the Learning Path on the Developer Portal about &quot;Enabling Search and Indexing&quot;. In this Example the Search is done directly on the JSP which shows the Search Results like this...\r\n\r\n    SearchContext searchContext = SearchContextFactory .getInstance(request);\r\n\r\n    searchContext.setKeywords(keywords);\r\n    searchContext.setAttribute(&quot;paginationType&quot;, &quot;more&quot;);\r\n    searchContext.setStart(0);\r\n    searchContext.setEnd(10);\r\n\r\n    Indexer indexer = IndexerRegistryUtil.getIndexer(Entry.class);\r\n\r\n    Hits hits = indexer.search(searchContext);\r\n\r\nWhat I did is move this code to Java mode so that not much of the Java is included with JSP\r\n\r\n\r\n            public void searchEntries(final ActionRequest request, final ActionResponse response) throws PortalException {\r\n            \t\t\r\n            \t\tHttpServletRequest _request = PortalUtil.getHttpServletRequest(request);\t\r\n            \t\tSearchContext searchContext = SearchContextFactory.getInstance(_request);\t\t\t\t\r\n            \t\tString keywords = ParamUtil.getString(request, &quot;keywords&quot;);\r\n            \t    searchContext.setKeywords(keywords);\r\n            \t    searchContext.setAttribute(&quot;paginationType&quot;, &quot;more&quot;);\r\n            \t    searchContext.setStart(0);\r\n                    searchContext.setEnd(10);\r\n            \r\n            \t    Indexer&lt;MyClassName&gt; indexer = IndexerRegistryUtil.getIndexer(MyClassName.class);\r\n            \r\n            \t    Hits hits = indexer.search(searchContext); \r\n                     .....\r\n            }\r\n\r\nBut when searching, I always get empty search results from the hits elements As shown: \r\n\r\n{docs={}, length=0, query=null]\r\n\r\nNote that the indexing process works well without errors and the index contains the required documents, as I can see that by using kibana\r\n\r\nWhere is the error?\r\n\r\nthnx\r\n\r\n","title":"liferay empty search results by searching in a custom index","body":"<p>i'm using liferay 7.3.5 und try to create an elasticSearch. I tried to index one of the entities I have in the database.</p>\n<p>I followed the Learning Path on the Developer Portal about &quot;Enabling Search and Indexing&quot;. In this Example the Search is done directly on the JSP which shows the Search Results like this...</p>\n<pre><code>SearchContext searchContext = SearchContextFactory .getInstance(request);\n\nsearchContext.setKeywords(keywords);\nsearchContext.setAttribute(&quot;paginationType&quot;, &quot;more&quot;);\nsearchContext.setStart(0);\nsearchContext.setEnd(10);\n\nIndexer indexer = IndexerRegistryUtil.getIndexer(Entry.class);\n\nHits hits = indexer.search(searchContext);\n</code></pre>\n<p>What I did is move this code to Java mode so that not much of the Java is included with JSP</p>\n<pre><code>        public void searchEntries(final ActionRequest request, final ActionResponse response) throws PortalException {\n                \n                HttpServletRequest _request = PortalUtil.getHttpServletRequest(request);    \n                SearchContext searchContext = SearchContextFactory.getInstance(_request);               \n                String keywords = ParamUtil.getString(request, &quot;keywords&quot;);\n                searchContext.setKeywords(keywords);\n                searchContext.setAttribute(&quot;paginationType&quot;, &quot;more&quot;);\n                searchContext.setStart(0);\n                searchContext.setEnd(10);\n        \n                Indexer&lt;MyClassName&gt; indexer = IndexerRegistryUtil.getIndexer(MyClassName.class);\n        \n                Hits hits = indexer.search(searchContext); \n                 .....\n        }\n</code></pre>\n<p>But when searching, I always get empty search results from the hits elements As shown:</p>\n<p>{docs={}, length=0, query=null]</p>\n<p>Note that the indexing process works well without errors and the index contains the required documents, as I can see that by using kibana</p>\n<p>Where is the error?</p>\n<p>thnx</p>\n"},{"tags":["java","tomcat8","tomcat9","java-websocket"],"owner":{"account_id":29181926,"reputation":1,"user_id":22355869,"display_name":"rahul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691476066,"creation_date":1691474727,"question_id":76856833,"body_markdown":"We have our application running on tomcat 8.0.38. But we are migrating it to tomcat 9.0.78. We are using Java Websocket API for messages. After deploying the war on tomcat 9.0.78 we are getting the following error in catalina.out.\r\n\r\n```\r\norg.apache.tomcat.websocket.pojo.PojoEndpointBase.doOnOpen Failed to call onOpen method of POJO end point for POJO of type [com.sample.main.DemoService]\r\n        java.lang.IllegalAccessException: class org.apache.tomcat.websocket.pojo.PojoEndpointBase cannot access a member of class com.sample.main.WebSocketService with modifiers &quot;public&quot;\r\n                at java.base/jdk.internal.reflect.Reflection.newIllegalAccessException(Reflection.java:361)\r\n                at java.base/java.lang.reflect.AccessibleObject.checkAccess(AccessibleObject.java:591)\r\n                at java.base/java.lang.reflect.Method.invoke(Method.java:558)\r\n                at org.apache.tomcat.websocket.pojo.PojoEndpointBase.doOnOpen(PojoEndpointBase.java:67)\r\n                at org.apache.tomcat.websocket.pojo.PojoEndpointServer.onOpen(PojoEndpointServer.java:46)\r\n                at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.init(WsHttpUpgradeHandler.java:131)\r\n                at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:968)\r\n                at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)\r\n                at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\r\n                at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n                at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n                at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n                at java.base/java.lang.Thread.run(Thread.java:829)\r\n```\r\n\r\npseudo Code\r\n\r\n```\r\npackage com.sample.main;\r\n\r\nclass WebSocketService {\r\n\r\nprivate Set&lt;Session&gt; sessionSet;\r\n\r\n  public Set&lt;Session&gt; getSessionSet() {\r\n    return sessionSet;\r\n  }\r\n\r\n  public void setSessionSet(final Set&lt;Session&gt; sessionSet) {\r\n    this.sessionSet = sessionSet;\r\n  }\r\n\r\nvoid initialize() {\r\n    throw new UnsupportedOperationException();\r\n  }\r\n\r\n@OnOpen\r\n  public void open(final Session session, final EndpointConfig config) {\r\n    initialize();\r\n    try {\r\n      sessionSet.add(session);\r\n      final HandshakeRequest httpReq =\r\n          (HandshakeRequest) config.getUserProperties().get(HandshakeRequest.class.getName());\r\n      final Object headers = httpReq == null ? null : httpReq.getHeaders();\r\n      log.info(&quot;Websocket got connected with the session: &quot; + session.getId() + &quot; headers &quot; + headers);\r\n    } catch (Exception e) {\r\n      log.error(&quot;Error occured in opening session&quot;, e);\r\n    }\r\n  }\r\n\r\n  @OnClose\r\n  public void close(final Session session) {\r\n    sessionSet.remove(session);\r\n    log.info(&quot;Websocket got closed with the session: &quot; + session.getId());\r\n  }\r\n\r\n  @OnError\r\n  public void onError(final Session session, final Throwable error) {\r\n    log.error(&quot;Error happened in websocket due to &quot; + error.getMessage() + &quot; for session &quot;\r\n        + session.getId());\r\n    close(session);\r\n  }\r\n\r\n}\r\n```\r\n\r\n\r\n```\r\n\r\npackage com.sample.main;\r\n\r\npublic class DemoService extends WebSocketService {\r\n\r\nprivate static final Set&lt;Session&gt; SESSION_SET = new CopyOnWriteArraySet&lt;&gt;();\r\n\r\n@Override\r\n  public void initialize() {\r\nsetSessionSet(SESSION_SET);\r\n}\r\n\r\n}\r\n```\r\n\r\n\r\ncan someone please help what needs to be done. As the same code is working fine in tomcat 8 but not in tomcat 9. \r\n","title":"java.lang.IllegalAccessException: class org.apache.tomcat.websocket.pojo.PojoEndpointBase cannot access a member of class with modifiers &quot;public&quot;","body":"<p>We have our application running on tomcat 8.0.38. But we are migrating it to tomcat 9.0.78. We are using Java Websocket API for messages. After deploying the war on tomcat 9.0.78 we are getting the following error in catalina.out.</p>\n<pre><code>org.apache.tomcat.websocket.pojo.PojoEndpointBase.doOnOpen Failed to call onOpen method of POJO end point for POJO of type [com.sample.main.DemoService]\n        java.lang.IllegalAccessException: class org.apache.tomcat.websocket.pojo.PojoEndpointBase cannot access a member of class com.sample.main.WebSocketService with modifiers &quot;public&quot;\n                at java.base/jdk.internal.reflect.Reflection.newIllegalAccessException(Reflection.java:361)\n                at java.base/java.lang.reflect.AccessibleObject.checkAccess(AccessibleObject.java:591)\n                at java.base/java.lang.reflect.Method.invoke(Method.java:558)\n                at org.apache.tomcat.websocket.pojo.PojoEndpointBase.doOnOpen(PojoEndpointBase.java:67)\n                at org.apache.tomcat.websocket.pojo.PojoEndpointServer.onOpen(PojoEndpointServer.java:46)\n                at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.init(WsHttpUpgradeHandler.java:131)\n                at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:968)\n                at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)\n                at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\n                at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n                at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n                at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n                at java.base/java.lang.Thread.run(Thread.java:829)\n</code></pre>\n<p>pseudo Code</p>\n<pre><code>package com.sample.main;\n\nclass WebSocketService {\n\nprivate Set&lt;Session&gt; sessionSet;\n\n  public Set&lt;Session&gt; getSessionSet() {\n    return sessionSet;\n  }\n\n  public void setSessionSet(final Set&lt;Session&gt; sessionSet) {\n    this.sessionSet = sessionSet;\n  }\n\nvoid initialize() {\n    throw new UnsupportedOperationException();\n  }\n\n@OnOpen\n  public void open(final Session session, final EndpointConfig config) {\n    initialize();\n    try {\n      sessionSet.add(session);\n      final HandshakeRequest httpReq =\n          (HandshakeRequest) config.getUserProperties().get(HandshakeRequest.class.getName());\n      final Object headers = httpReq == null ? null : httpReq.getHeaders();\n      log.info(&quot;Websocket got connected with the session: &quot; + session.getId() + &quot; headers &quot; + headers);\n    } catch (Exception e) {\n      log.error(&quot;Error occured in opening session&quot;, e);\n    }\n  }\n\n  @OnClose\n  public void close(final Session session) {\n    sessionSet.remove(session);\n    log.info(&quot;Websocket got closed with the session: &quot; + session.getId());\n  }\n\n  @OnError\n  public void onError(final Session session, final Throwable error) {\n    log.error(&quot;Error happened in websocket due to &quot; + error.getMessage() + &quot; for session &quot;\n        + session.getId());\n    close(session);\n  }\n\n}\n</code></pre>\n<pre><code>\npackage com.sample.main;\n\npublic class DemoService extends WebSocketService {\n\nprivate static final Set&lt;Session&gt; SESSION_SET = new CopyOnWriteArraySet&lt;&gt;();\n\n@Override\n  public void initialize() {\nsetSessionSet(SESSION_SET);\n}\n\n}\n</code></pre>\n<p>can someone please help what needs to be done. As the same code is working fine in tomcat 8 but not in tomcat 9.</p>\n"},{"tags":["java","json","jolt"],"answers":[{"comments":[{"owner":{"account_id":2802169,"reputation":351,"user_id":2410208,"display_name":"Shawn"},"score":1,"creation_date":1691501775,"post_id":76856920,"comment_id":135498136,"body_markdown":"This works. Thank you","body":"This works. Thank you"}],"tags":[],"owner":{"account_id":7712415,"reputation":60542,"user_id":5841306,"display_name":"Barbaros &#214;zhan"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1691475813,"creation_date":1691475813,"answer_id":76856920,"question_id":76856278,"body_markdown":"You can remove square brackets to convert the notation from `.[&amp;1].` to `.&amp;1.` in your case, then call looping within an extra **shift** transformation spec, where no need to use square brackets, the array will be spontaneously formed for multiple objects stated on the common node, such as\r\n\r\n```json\r\n[\r\n  {\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;@Notification.product&quot;: {\r\n        &quot;version&quot;: &quot;&amp;&quot;, // use replacement operator &quot;&amp;&quot;\r\n        &quot;@concepts.concept&quot;: {\r\n          &quot;*&quot;: {\r\n            &quot;@records.record&quot;: {\r\n              &quot;*&quot;: {\r\n                &quot;@attributes.attribute&quot;: {\r\n                  &quot;*&quot;: {\r\n                    &quot;*&quot;: &quot;@5,cname.&amp;1.&amp;&quot; // combine individual attributes within a single line\r\n                  }\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  },\r\n  {\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;version&quot;: &quot;&amp;&quot;,\r\n      &quot;*&quot;: {\r\n        &quot;*&quot;: &quot;&amp;1&quot;\r\n      }\r\n    }\r\n  }\r\n]\r\n```\r\n\r\nthe ***demo*** on the site http://jolt-demo.appspot.com/ is :\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7MT3X.jpg","title":"Jolt transformation of array element","body":"<p>You can remove square brackets to convert the notation from <code>.[&amp;1].</code> to <code>.&amp;1.</code> in your case, then call looping within an extra <strong>shift</strong> transformation spec, where no need to use square brackets, the array will be spontaneously formed for multiple objects stated on the common node, such as</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;@Notification.product&quot;: {\n        &quot;version&quot;: &quot;&amp;&quot;, // use replacement operator &quot;&amp;&quot;\n        &quot;@concepts.concept&quot;: {\n          &quot;*&quot;: {\n            &quot;@records.record&quot;: {\n              &quot;*&quot;: {\n                &quot;@attributes.attribute&quot;: {\n                  &quot;*&quot;: {\n                    &quot;*&quot;: &quot;@5,cname.&amp;1.&amp;&quot; // combine individual attributes within a single line\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  },\n  {\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;version&quot;: &quot;&amp;&quot;,\n      &quot;*&quot;: {\n        &quot;*&quot;: &quot;&amp;1&quot;\n      }\n    }\n  }\n]\n</code></pre>\n<p>the <em><strong>demo</strong></em> on the site <a href=\"http://jolt-demo.appspot.com/\" rel=\"nofollow noreferrer\">http://jolt-demo.appspot.com/</a> is :</p>\n<p><a href=\"https://i.stack.imgur.com/7MT3X.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7MT3X.jpg\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":2802169,"reputation":351,"user_id":2410208,"display_name":"Shawn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76856920,"answer_count":1,"score":1,"last_activity_date":1691476042,"creation_date":1691464520,"question_id":76856278,"body_markdown":"I am trying to convert below input json using jolt\r\n```json\r\n{\r\n  &quot;Notification&quot;: {\r\n    &quot;product&quot;: {\r\n      &quot;version&quot;: 1,\r\n      &quot;concepts&quot;: {\r\n        &quot;concept&quot;: [\r\n          {\r\n            &quot;records&quot;: {\r\n              &quot;record&quot;: [\r\n                {\r\n                  &quot;attributes&quot;: {\r\n                    &quot;attribute&quot;: [\r\n                      {\r\n                        &quot;name&quot;: &quot;IsListed&quot;,\r\n                        &quot;content&quot;: &quot;N&quot;\r\n                      }\r\n                    ]\r\n                  }\r\n                }\r\n              ]\r\n            },\r\n            &quot;cversion&quot;: 1,\r\n            &quot;cname&quot;: &quot;ListingInfo&quot;\r\n          },\r\n          {\r\n            &quot;records&quot;: {\r\n              &quot;record&quot;: [\r\n                {\r\n                  &quot;attributes&quot;: {\r\n                    &quot;attribute&quot;: [\r\n                      {\r\n                        &quot;name&quot;: &quot;Code&quot;,\r\n                        &quot;content&quot;: &quot;ABCD&quot;\r\n                      },\r\n                      {\r\n                        &quot;name&quot;: &quot;Value&quot;,\r\n                        &quot;content&quot;: &quot;Vall&quot;\r\n                      }\r\n                    ]\r\n                  }\r\n                }\r\n              ]\r\n            },\r\n            &quot;cversion&quot;: 1,\r\n            &quot;cname&quot;: &quot;Reference&quot;\r\n          }\r\n        ]\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\nThe output I expect is given below. If the input contains multiple attribute blocks for a concept, then the output should start with an array **`[{},{}]`** otherwise it should start with **`{}`**\r\n```json\r\n{\r\n  &quot;version&quot;: 1,\r\n  &quot;ListingInfo&quot;: {\r\n    &quot;name&quot;: &quot;IsListed&quot;,\r\n    &quot;content&quot;: &quot;N&quot;\r\n  },\r\n  &quot;Reference&quot;: [\r\n    {\r\n      &quot;name&quot;: &quot;Code&quot;,\r\n      &quot;content&quot;: &quot;ABCD&quot;\r\n    },\r\n    {\r\n      &quot;name&quot;: &quot;Value&quot;,\r\n      &quot;content&quot;: &quot;Vall&quot;\r\n    }\r\n  ]\r\n}\r\n```\r\nThe spec that I am using is given below\r\n```json\r\n[\r\n  {\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;Notification&quot;: {\r\n        &quot;product&quot;: {\r\n          &quot;version&quot;: &quot;version&quot;,\r\n          &quot;concepts&quot;: {\r\n            &quot;concept&quot;: {\r\n              &quot;*&quot;: {\r\n                &quot;records&quot;: {\r\n                  &quot;record&quot;: {\r\n                    &quot;*&quot;: {\r\n                      &quot;attributes&quot;: {\r\n                        &quot;attribute&quot;: {\r\n                          &quot;*&quot;: {\r\n                            &quot;name&quot;: &quot;@(7,cname).[&amp;1].&amp;&quot;,\r\n                            &quot;content&quot;: &quot;@(7,cname).[&amp;1].&amp;&quot;\r\n                          }\r\n                        }\r\n                      }\r\n                    }\r\n                  }\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n]\r\n```\r\nThe output of the above spec produces an array even if there is only one element\r\n```json\r\n{\r\n  &quot;version&quot;: 1,\r\n  &quot;ListingInfo&quot;: [\r\n    {\r\n      &quot;name&quot;: &quot;IsListed&quot;,\r\n      &quot;content&quot;: &quot;N&quot;\r\n    }\r\n  ],\r\n  &quot;Reference&quot;: [\r\n    {\r\n      &quot;name&quot;: &quot;Code&quot;,\r\n      &quot;content&quot;: &quot;ABCD&quot;\r\n    },\r\n    {\r\n      &quot;name&quot;: &quot;Value&quot;,\r\n      &quot;content&quot;: &quot;Vall&quot;\r\n    }\r\n  ]\r\n}\r\n```\r\nWhat change is required in my spec to correct the array issue ?","title":"Jolt transformation of array element","body":"<p>I am trying to convert below input json using jolt</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;Notification&quot;: {\n    &quot;product&quot;: {\n      &quot;version&quot;: 1,\n      &quot;concepts&quot;: {\n        &quot;concept&quot;: [\n          {\n            &quot;records&quot;: {\n              &quot;record&quot;: [\n                {\n                  &quot;attributes&quot;: {\n                    &quot;attribute&quot;: [\n                      {\n                        &quot;name&quot;: &quot;IsListed&quot;,\n                        &quot;content&quot;: &quot;N&quot;\n                      }\n                    ]\n                  }\n                }\n              ]\n            },\n            &quot;cversion&quot;: 1,\n            &quot;cname&quot;: &quot;ListingInfo&quot;\n          },\n          {\n            &quot;records&quot;: {\n              &quot;record&quot;: [\n                {\n                  &quot;attributes&quot;: {\n                    &quot;attribute&quot;: [\n                      {\n                        &quot;name&quot;: &quot;Code&quot;,\n                        &quot;content&quot;: &quot;ABCD&quot;\n                      },\n                      {\n                        &quot;name&quot;: &quot;Value&quot;,\n                        &quot;content&quot;: &quot;Vall&quot;\n                      }\n                    ]\n                  }\n                }\n              ]\n            },\n            &quot;cversion&quot;: 1,\n            &quot;cname&quot;: &quot;Reference&quot;\n          }\n        ]\n      }\n    }\n  }\n}\n</code></pre>\n<p>The output I expect is given below. If the input contains multiple attribute blocks for a concept, then the output should start with an array <strong><code>[{},{}]</code></strong> otherwise it should start with <strong><code>{}</code></strong></p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;version&quot;: 1,\n  &quot;ListingInfo&quot;: {\n    &quot;name&quot;: &quot;IsListed&quot;,\n    &quot;content&quot;: &quot;N&quot;\n  },\n  &quot;Reference&quot;: [\n    {\n      &quot;name&quot;: &quot;Code&quot;,\n      &quot;content&quot;: &quot;ABCD&quot;\n    },\n    {\n      &quot;name&quot;: &quot;Value&quot;,\n      &quot;content&quot;: &quot;Vall&quot;\n    }\n  ]\n}\n</code></pre>\n<p>The spec that I am using is given below</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;Notification&quot;: {\n        &quot;product&quot;: {\n          &quot;version&quot;: &quot;version&quot;,\n          &quot;concepts&quot;: {\n            &quot;concept&quot;: {\n              &quot;*&quot;: {\n                &quot;records&quot;: {\n                  &quot;record&quot;: {\n                    &quot;*&quot;: {\n                      &quot;attributes&quot;: {\n                        &quot;attribute&quot;: {\n                          &quot;*&quot;: {\n                            &quot;name&quot;: &quot;@(7,cname).[&amp;1].&amp;&quot;,\n                            &quot;content&quot;: &quot;@(7,cname).[&amp;1].&amp;&quot;\n                          }\n                        }\n                      }\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n]\n</code></pre>\n<p>The output of the above spec produces an array even if there is only one element</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;version&quot;: 1,\n  &quot;ListingInfo&quot;: [\n    {\n      &quot;name&quot;: &quot;IsListed&quot;,\n      &quot;content&quot;: &quot;N&quot;\n    }\n  ],\n  &quot;Reference&quot;: [\n    {\n      &quot;name&quot;: &quot;Code&quot;,\n      &quot;content&quot;: &quot;ABCD&quot;\n    },\n    {\n      &quot;name&quot;: &quot;Value&quot;,\n      &quot;content&quot;: &quot;Vall&quot;\n    }\n  ]\n}\n</code></pre>\n<p>What change is required in my spec to correct the array issue ?</p>\n"},{"tags":["java","docker","pyspark","airflow","minio"],"comments":[{"owner":{"account_id":9417224,"reputation":2400,"user_id":7004653,"display_name":"RNHTTR"},"score":0,"creation_date":1691371609,"post_id":76846563,"comment_id":135478028,"body_markdown":"The first thing that stands out is the 400 response when curling minio: `HTTP/1.1 400 Bad Request`. A few other items worth looking into: Can you exec into the container running spark and see if you&#39;re able to communicate with S3? Are the S3 credentials properly set in this container?","body":"The first thing that stands out is the 400 response when curling minio: <code>HTTP&#47;1.1 400 Bad Request</code>. A few other items worth looking into: Can you exec into the container running spark and see if you&#39;re able to communicate with S3? Are the S3 credentials properly set in this container?"},{"owner":{"account_id":23727923,"reputation":1,"user_id":17747589,"display_name":"John Phillips"},"score":0,"creation_date":1691398757,"post_id":76846563,"comment_id":135480951,"body_markdown":"@RNHTTR, so I can communicate with the S3 endpoint within the container. All the code I have attached is running within the airflow container that has spark installed.   The 400 bad request Is because I have not provided a valid s3 uri. I have attached it because I want to show that there is an application listening on that port.","body":"@RNHTTR, so I can communicate with the S3 endpoint within the container. All the code I have attached is running within the airflow container that has spark installed.   The 400 bad request Is because I have not provided a valid s3 uri. I have attached it because I want to show that there is an application listening on that port."}],"answers":[{"tags":[],"owner":{"account_id":23727923,"reputation":1,"user_id":17747589,"display_name":"John Phillips"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1691475905,"creation_date":1691475905,"answer_id":76856932,"question_id":76846563,"body_markdown":"I have managed to find a way to get it to work: Use the `socket` library to resolve the `minio` containers ip address from within the spark container...\r\n\r\nStep 1. Amend the`docker-compose.yml` to include `hostname`.\r\n\r\n```\r\nservices:\r\n  minio:\r\n    hostname: minio\r\n    image: &quot;quay.io/minio/minio&quot;\r\n    command: server --console-address &quot;:9090&quot; /data\r\n    ports:\r\n      - &quot;9000:9000&quot;\r\n      - &quot;9090:9090&quot;\r\n\r\n    volumes:\r\n      - ~/minio/data:/data\r\n    environment:\r\n      MINIO_ROOT_USER: admin\r\n      MINIO_ROOT_PASSWORD: admin\r\n\r\n```\r\n\r\nStep 2. use the `socket.gethostbyname` method to resolve the ip address of the minio container\r\n```\r\nimport socket\r\nfrom pyspark.sql import SparkSession\r\n\r\nMINIO_IP_ADDRESS = socket.gethostbyname(&quot;minio&quot;)\r\n\r\nspark = SparkSession \\\r\n        .builder \\\r\n        .appName(&quot;test reading s3&quot;) \\\r\n        .config(&quot;spark.pyspark.python&quot;, &quot;python&quot;) \\\r\n        .config(&quot;fs.s3a.access.key&quot;, ACCESS_KEY) \\\r\n        .config(&quot;fs.s3a.secret.key&quot;, SECRET_KEY) \\\r\n        .config(&quot;fs.s3a.endpoint&quot;, f&quot;http://{MINIO_IP_ADDRESS}:9000&quot;).getOrCreate()\r\n\r\nspark.sparkContext.setLogLevel(&quot;INFO&quot;)\r\nspark.read.json(&quot;s3a://google-trends-raw-files/43f6c3_2023-05-27-2023-06-03.json&quot;)\r\n```\r\n\r\n\r\nWould be interested to know if anyone has an answer as to why SparkSessions are not aware of DNS mappings.","title":"Airflow container running spark job cannot connect to s3 bucket","body":"<p>I have managed to find a way to get it to work: Use the <code>socket</code> library to resolve the <code>minio</code> containers ip address from within the spark container...</p>\n<p>Step 1. Amend the<code>docker-compose.yml</code> to include <code>hostname</code>.</p>\n<pre><code>services:\n  minio:\n    hostname: minio\n    image: &quot;quay.io/minio/minio&quot;\n    command: server --console-address &quot;:9090&quot; /data\n    ports:\n      - &quot;9000:9000&quot;\n      - &quot;9090:9090&quot;\n\n    volumes:\n      - ~/minio/data:/data\n    environment:\n      MINIO_ROOT_USER: admin\n      MINIO_ROOT_PASSWORD: admin\n\n</code></pre>\n<p>Step 2. use the <code>socket.gethostbyname</code> method to resolve the ip address of the minio container</p>\n<pre><code>import socket\nfrom pyspark.sql import SparkSession\n\nMINIO_IP_ADDRESS = socket.gethostbyname(&quot;minio&quot;)\n\nspark = SparkSession \\\n        .builder \\\n        .appName(&quot;test reading s3&quot;) \\\n        .config(&quot;spark.pyspark.python&quot;, &quot;python&quot;) \\\n        .config(&quot;fs.s3a.access.key&quot;, ACCESS_KEY) \\\n        .config(&quot;fs.s3a.secret.key&quot;, SECRET_KEY) \\\n        .config(&quot;fs.s3a.endpoint&quot;, f&quot;http://{MINIO_IP_ADDRESS}:9000&quot;).getOrCreate()\n\nspark.sparkContext.setLogLevel(&quot;INFO&quot;)\nspark.read.json(&quot;s3a://google-trends-raw-files/43f6c3_2023-05-27-2023-06-03.json&quot;)\n</code></pre>\n<p>Would be interested to know if anyone has an answer as to why SparkSessions are not aware of DNS mappings.</p>\n"}],"owner":{"account_id":23727923,"reputation":1,"user_id":17747589,"display_name":"John Phillips"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":190,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76856932,"answer_count":1,"score":0,"last_activity_date":1691475905,"creation_date":1691335643,"question_id":76846563,"body_markdown":"I have a docker compose file e.g.\r\n\r\n```\r\nservices:\r\n  minio:\r\n    image: &quot;quay.io/minio/minio&quot;\r\n    command: server --console-address &quot;:9090&quot; /data\r\n    ports:\r\n      - &quot;9000:9000&quot;\r\n      - &quot;9090:9090&quot;\r\n\r\n    volumes:\r\n      - ~/minio/data:/data\r\n    environment:\r\n      MINIO_ROOT_USER: admin\r\n      MINIO_ROOT_PASSWORD: admin\r\n```\r\n\r\nSpark Airflow Dockerfile:\r\n\r\n```\r\nFROM apache/airflow:2.7.0b1-python3.11\r\n\r\n# install python dependancies\r\nCOPY requirements.txt /\r\nRUN pip install --no-cache-dir &quot;apache-airflow==${AIRFLOW_VERSION}&quot; -r /requirements.txt\r\n\r\n# set user to root so we can install packages\r\nUSER root\r\n\r\nENV SPARK_VERSION=3.4.1 \\\r\nHADOOP_VERSION=3 \\\r\nSPARK_HOME=/opt/spark \\\r\nPYTHONHASHSEED=1\r\n\r\n\r\nRUN apt update &amp;&amp; \\\r\n    apt-get install -y openjdk-11-jdk &amp;&amp; \\\r\n    apt-get install -y ant &amp;&amp; \\\r\n    apt-get clean;\r\n# Set JAVA_HOME\r\nRUN mv /usr/lib/jvm /opt/jvm\r\n\r\nENV JAVA_HOME=/opt/jvm/java-11-openjdk-arm64\r\nRUN export JAVA_HOME\r\n\r\nRUN apt install wget\r\n\r\n# install Spark\r\nRUN wget https://downloads.apache.org/spark/spark-${SPARK_VERSION}/spark-${SPARK_VERSION}-bin-hadoop${HADOOP_VERSION}.tgz\r\n\r\nRUN tar xvf spark-*\r\n\r\nRUN rm spark-${SPARK_VERSION}-bin-hadoop${HADOOP_VERSION}.tgz\r\n\r\nRUN mv spark-${SPARK_VERSION}-bin-hadoop${HADOOP_VERSION} $SPARK_HOME\r\n\r\nRUN export PATH=$PATH:$SPARK_HOME/bin:$SPARK_HOME/sbin:$JAVA_HOME/bin\r\n\r\nCOPY spark/jars $SPARK_HOME/jars\r\n```\r\n\r\nAnd a separate spark container that is trying to read from that bucket. I can connect to the bucket within the spark container (ipython, boto3) but for some reason within a pyspark spark session this request is hanging:\r\n\r\nCurl the minio endpoint as a sanity check:\r\n\r\n```\r\n(airflow)curl --head http://minio:9000\r\nHTTP/1.1 400 Bad Request\r\nAccept-Ranges: bytes\r\nContent-Length: 225\r\nContent-Type: application/xml\r\nServer: MinIO\r\nVary: Origin\r\nDate: Sat, 05 Aug 2023 19:26:57 GM\r\n```\r\n\r\ngetting data via `boto3` client\r\n\r\n```\r\nimport boto3\r\nimport json\r\nimport os\r\n\r\nAWS_PROFILE = &quot;default&quot;\r\n\r\nmy_session = boto3.session.Session(aws_access_key_id=ACCESS_KEY,aws_secret_access_key=SECRET_KEY)\r\n\r\nboto3.setup_default_session(profile_name=AWS_PROFILE)\r\nclient = my_session.client(&quot;s3&quot;, endpoint_url=&quot;http://minio:9000&quot;)\r\ns3_obj = client.get_object(Bucket=&quot;google-trends-raw-files&quot;, Key=&quot;43f6c3_2023-05-27-2023-06-03.json&quot;).get(&quot;Body&quot;)\r\njson_data = json.loads(s3_obj.read())\r\nprint(json_data)\r\n\r\nOut[29]: \r\n{&#39;timeline_data&#39;: [{&#39;date&#39;: &#39;May 27, 2023&#39;,\r\n   &#39;timestamp&#39;: &#39;1685145600&#39;,\r\n   &#39;values&#39;: [{&#39;query&#39;: &#39;/m/0lwkh&#39;, &#39;value&#39;: &#39;99&#39;, &#39;extracted_value&#39;: 99},\r\n    {&#39;query&#39;: &#39;/m/026c12z&#39;, &#39;value&#39;: &#39;55&#39;, &#39;extracted_value&#39;: 55},\r\n    {&#39;query&#39;: &#39;/m/03gc5x&#39;, &#39;value&#39;: &#39;18&#39;, &#39;extracted_value&#39;: 18},\r\n    {&#39;query&#39;: &#39;/m/036rzw&#39;, &#39;value&#39;: &#39;6&#39;, &#39;extracted_value&#39;: 6},\r\n    {&#39;query&#39;: &#39;/m/033j5y&#39;, &#39;value&#39;: &#39;4&#39;, &#39;extracted_value&#39;: 4}]},\r\n\r\n...\r\n```\r\n\r\nHowever when I start a `SparkSession` e.g.\r\n\r\n```\r\nfrom pyspark.sql import SparkSession\r\n\r\nspark = SparkSession \\\r\n        .builder \\\r\n        .appName(&quot;test reading s3&quot;) \\\r\n        .config(&quot;spark.pyspark.python&quot;, &quot;python&quot;) \\\r\n        .config(&quot;fs.s3a.access.key&quot;, ACCESS_KEY) \\\r\n        .config(&quot;fs.s3a.secret.key&quot;, SECRET_KEY) \\\r\n        .config(&quot;fs.s3a.endpoint&quot;, &quot;http://minio:9000&quot;).getOrCreate()\r\n\r\nspark.sparkContext.setLogLevel(&quot;INFO&quot;)\r\nspark.read.json(&quot;s3a://google-trends-raw-files/43f6c3_2023-05-27-2023-06-03.json&quot;)\r\n\r\n23/08/06 16:14:16 INFO SparkContext: Running Spark version 3.4.1\r\n23/08/06 16:14:16 INFO ResourceUtils: ==============================================================\r\n23/08/06 16:14:16 INFO ResourceUtils: No custom resources configured for spark.driver.\r\n23/08/06 16:14:16 INFO ResourceUtils: ==============================================================\r\n23/08/06 16:14:16 INFO SparkContext: Submitted application: test reading s3\r\n23/08/06 16:14:16 INFO ResourceProfile: Default ResourceProfile created, executor resources: Map(cores -&gt; name: cores, amount: 1, script: , vendor: , memory -&gt; name: memory, amount: 1024, script: , vendor: , offHeap -&gt; name: offHeap, amount: 0, script: , vendor: ), task resources: Map(cpus -&gt; name: cpus, amount: 1.0)\r\n23/08/06 16:14:16 INFO ResourceProfile: Limiting resource is cpu\r\n23/08/06 16:14:16 INFO ResourceProfileManager: Added ResourceProfile id: 0\r\n23/08/06 16:14:16 INFO SecurityManager: Changing view acls to: airflow\r\n23/08/06 16:14:16 INFO SecurityManager: Changing modify acls to: airflow\r\n23/08/06 16:14:16 INFO SecurityManager: Changing view acls groups to: \r\n23/08/06 16:14:16 INFO SecurityManager: Changing modify acls groups to: \r\n23/08/06 16:14:16 INFO SecurityManager: SecurityManager: authentication disabled; ui acls disabled; users with view permissions: airflow; groups with view permissions: EMPTY; users with modify permissions: airflow; groups with modify permissions: EMPTY\r\n23/08/06 16:14:16 INFO Utils: Successfully started service &#39;sparkDriver&#39; on port 37915.\r\n23/08/06 16:14:16 INFO SparkEnv: Registering MapOutputTracker\r\n23/08/06 16:14:16 INFO SparkEnv: Registering BlockManagerMaster\r\n23/08/06 16:14:16 INFO BlockManagerMasterEndpoint: Using org.apache.spark.storage.DefaultTopologyMapper for getting topology information\r\n23/08/06 16:14:16 INFO BlockManagerMasterEndpoint: BlockManagerMasterEndpoint up\r\n23/08/06 16:14:16 INFO SparkEnv: Registering BlockManagerMasterHeartbeat\r\n23/08/06 16:14:16 INFO DiskBlockManager: Created local directory at /tmp/blockmgr-a90c99b3-eeb2-42d7-9ddf-005f854211c5\r\n23/08/06 16:14:16 INFO MemoryStore: MemoryStore started with capacity 434.4 MiB\r\n23/08/06 16:14:16 INFO SparkEnv: Registering OutputCommitCoordinator\r\n23/08/06 16:14:16 INFO JettyUtils: Start Jetty 0.0.0.0:4040 for SparkUI\r\n23/08/06 16:14:16 INFO Utils: Successfully started service &#39;SparkUI&#39; on port 4040.\r\n23/08/06 16:14:16 INFO Executor: Starting executor ID driver on host d14438f96c2a\r\n23/08/06 16:14:16 INFO Executor: Starting executor with user classpath (userClassPathFirst = false): &#39;&#39;\r\n23/08/06 16:14:17 INFO Utils: Successfully started service &#39;org.apache.spark.network.netty.NettyBlockTransferService&#39; on port 40691.\r\n23/08/06 16:14:17 INFO NettyBlockTransferService: Server created on d14438f96c2a:40691\r\n23/08/06 16:14:17 INFO BlockManager: Using org.apache.spark.storage.RandomBlockReplicationPolicy for block replication policy\r\n23/08/06 16:14:17 INFO BlockManagerMaster: Registering BlockManager BlockManagerId(driver, d14438f96c2a, 40691, None)\r\n23/08/06 16:14:17 INFO BlockManagerMasterEndpoint: Registering block manager d14438f96c2a:40691 with 434.4 MiB RAM, BlockManagerId(driver, d14438f96c2a, 40691, None)\r\n23/08/06 16:14:17 INFO BlockManagerMaster: Registered BlockManager BlockManagerId(driver, d14438f96c2a, 40691, None)\r\n23/08/06 16:14:17 INFO BlockManager: Initialized BlockManager: BlockManagerId(driver, d14438f96c2a, 40691, None)\r\n23/08/06 16:14:17 INFO SharedState: Setting hive.metastore.warehouse.dir (&#39;null&#39;) to the value of spark.sql.warehouse.dir.\r\n23/08/06 16:14:17 INFO SharedState: Warehouse path is &#39;file:/opt/airflow/spark-warehouse&#39;.\r\n```\r\n\r\nthis read operation hangs Indefinitely\r\n\r\nSpark Jars:\r\n\r\n```\r\nhadoop-aws-3.3.4.jar\r\nhadoop-client-api-3.3.4.jar\r\nhadoop-client-runtime-3.3.4.jar\r\nhadoop-yarn-server-web-proxy-3.3.4.jar\r\nparquet-hadoop-1.12.3.jar\r\naws-java-sdk-bundle-1.12.262.jar\r\nhadoop-aws-3.3.4.jar\r\ndelta-core_2.12-2.4.0.jar\r\ndelta-storage-2.4.0.jar\r\n```\r\n\r\nAny ideas on why my spark session is not able to read from the minio bucket?\r\n\r\nThis does however work when I am running the Spark on my local machine.","title":"Airflow container running spark job cannot connect to s3 bucket","body":"<p>I have a docker compose file e.g.</p>\n<pre><code>services:\n  minio:\n    image: &quot;quay.io/minio/minio&quot;\n    command: server --console-address &quot;:9090&quot; /data\n    ports:\n      - &quot;9000:9000&quot;\n      - &quot;9090:9090&quot;\n\n    volumes:\n      - ~/minio/data:/data\n    environment:\n      MINIO_ROOT_USER: admin\n      MINIO_ROOT_PASSWORD: admin\n</code></pre>\n<p>Spark Airflow Dockerfile:</p>\n<pre><code>FROM apache/airflow:2.7.0b1-python3.11\n\n# install python dependancies\nCOPY requirements.txt /\nRUN pip install --no-cache-dir &quot;apache-airflow==${AIRFLOW_VERSION}&quot; -r /requirements.txt\n\n# set user to root so we can install packages\nUSER root\n\nENV SPARK_VERSION=3.4.1 \\\nHADOOP_VERSION=3 \\\nSPARK_HOME=/opt/spark \\\nPYTHONHASHSEED=1\n\n\nRUN apt update &amp;&amp; \\\n    apt-get install -y openjdk-11-jdk &amp;&amp; \\\n    apt-get install -y ant &amp;&amp; \\\n    apt-get clean;\n# Set JAVA_HOME\nRUN mv /usr/lib/jvm /opt/jvm\n\nENV JAVA_HOME=/opt/jvm/java-11-openjdk-arm64\nRUN export JAVA_HOME\n\nRUN apt install wget\n\n# install Spark\nRUN wget https://downloads.apache.org/spark/spark-${SPARK_VERSION}/spark-${SPARK_VERSION}-bin-hadoop${HADOOP_VERSION}.tgz\n\nRUN tar xvf spark-*\n\nRUN rm spark-${SPARK_VERSION}-bin-hadoop${HADOOP_VERSION}.tgz\n\nRUN mv spark-${SPARK_VERSION}-bin-hadoop${HADOOP_VERSION} $SPARK_HOME\n\nRUN export PATH=$PATH:$SPARK_HOME/bin:$SPARK_HOME/sbin:$JAVA_HOME/bin\n\nCOPY spark/jars $SPARK_HOME/jars\n</code></pre>\n<p>And a separate spark container that is trying to read from that bucket. I can connect to the bucket within the spark container (ipython, boto3) but for some reason within a pyspark spark session this request is hanging:</p>\n<p>Curl the minio endpoint as a sanity check:</p>\n<pre><code>(airflow)curl --head http://minio:9000\nHTTP/1.1 400 Bad Request\nAccept-Ranges: bytes\nContent-Length: 225\nContent-Type: application/xml\nServer: MinIO\nVary: Origin\nDate: Sat, 05 Aug 2023 19:26:57 GM\n</code></pre>\n<p>getting data via <code>boto3</code> client</p>\n<pre><code>import boto3\nimport json\nimport os\n\nAWS_PROFILE = &quot;default&quot;\n\nmy_session = boto3.session.Session(aws_access_key_id=ACCESS_KEY,aws_secret_access_key=SECRET_KEY)\n\nboto3.setup_default_session(profile_name=AWS_PROFILE)\nclient = my_session.client(&quot;s3&quot;, endpoint_url=&quot;http://minio:9000&quot;)\ns3_obj = client.get_object(Bucket=&quot;google-trends-raw-files&quot;, Key=&quot;43f6c3_2023-05-27-2023-06-03.json&quot;).get(&quot;Body&quot;)\njson_data = json.loads(s3_obj.read())\nprint(json_data)\n\nOut[29]: \n{'timeline_data': [{'date': 'May 27, 2023',\n   'timestamp': '1685145600',\n   'values': [{'query': '/m/0lwkh', 'value': '99', 'extracted_value': 99},\n    {'query': '/m/026c12z', 'value': '55', 'extracted_value': 55},\n    {'query': '/m/03gc5x', 'value': '18', 'extracted_value': 18},\n    {'query': '/m/036rzw', 'value': '6', 'extracted_value': 6},\n    {'query': '/m/033j5y', 'value': '4', 'extracted_value': 4}]},\n\n...\n</code></pre>\n<p>However when I start a <code>SparkSession</code> e.g.</p>\n<pre><code>from pyspark.sql import SparkSession\n\nspark = SparkSession \\\n        .builder \\\n        .appName(&quot;test reading s3&quot;) \\\n        .config(&quot;spark.pyspark.python&quot;, &quot;python&quot;) \\\n        .config(&quot;fs.s3a.access.key&quot;, ACCESS_KEY) \\\n        .config(&quot;fs.s3a.secret.key&quot;, SECRET_KEY) \\\n        .config(&quot;fs.s3a.endpoint&quot;, &quot;http://minio:9000&quot;).getOrCreate()\n\nspark.sparkContext.setLogLevel(&quot;INFO&quot;)\nspark.read.json(&quot;s3a://google-trends-raw-files/43f6c3_2023-05-27-2023-06-03.json&quot;)\n\n23/08/06 16:14:16 INFO SparkContext: Running Spark version 3.4.1\n23/08/06 16:14:16 INFO ResourceUtils: ==============================================================\n23/08/06 16:14:16 INFO ResourceUtils: No custom resources configured for spark.driver.\n23/08/06 16:14:16 INFO ResourceUtils: ==============================================================\n23/08/06 16:14:16 INFO SparkContext: Submitted application: test reading s3\n23/08/06 16:14:16 INFO ResourceProfile: Default ResourceProfile created, executor resources: Map(cores -&gt; name: cores, amount: 1, script: , vendor: , memory -&gt; name: memory, amount: 1024, script: , vendor: , offHeap -&gt; name: offHeap, amount: 0, script: , vendor: ), task resources: Map(cpus -&gt; name: cpus, amount: 1.0)\n23/08/06 16:14:16 INFO ResourceProfile: Limiting resource is cpu\n23/08/06 16:14:16 INFO ResourceProfileManager: Added ResourceProfile id: 0\n23/08/06 16:14:16 INFO SecurityManager: Changing view acls to: airflow\n23/08/06 16:14:16 INFO SecurityManager: Changing modify acls to: airflow\n23/08/06 16:14:16 INFO SecurityManager: Changing view acls groups to: \n23/08/06 16:14:16 INFO SecurityManager: Changing modify acls groups to: \n23/08/06 16:14:16 INFO SecurityManager: SecurityManager: authentication disabled; ui acls disabled; users with view permissions: airflow; groups with view permissions: EMPTY; users with modify permissions: airflow; groups with modify permissions: EMPTY\n23/08/06 16:14:16 INFO Utils: Successfully started service 'sparkDriver' on port 37915.\n23/08/06 16:14:16 INFO SparkEnv: Registering MapOutputTracker\n23/08/06 16:14:16 INFO SparkEnv: Registering BlockManagerMaster\n23/08/06 16:14:16 INFO BlockManagerMasterEndpoint: Using org.apache.spark.storage.DefaultTopologyMapper for getting topology information\n23/08/06 16:14:16 INFO BlockManagerMasterEndpoint: BlockManagerMasterEndpoint up\n23/08/06 16:14:16 INFO SparkEnv: Registering BlockManagerMasterHeartbeat\n23/08/06 16:14:16 INFO DiskBlockManager: Created local directory at /tmp/blockmgr-a90c99b3-eeb2-42d7-9ddf-005f854211c5\n23/08/06 16:14:16 INFO MemoryStore: MemoryStore started with capacity 434.4 MiB\n23/08/06 16:14:16 INFO SparkEnv: Registering OutputCommitCoordinator\n23/08/06 16:14:16 INFO JettyUtils: Start Jetty 0.0.0.0:4040 for SparkUI\n23/08/06 16:14:16 INFO Utils: Successfully started service 'SparkUI' on port 4040.\n23/08/06 16:14:16 INFO Executor: Starting executor ID driver on host d14438f96c2a\n23/08/06 16:14:16 INFO Executor: Starting executor with user classpath (userClassPathFirst = false): ''\n23/08/06 16:14:17 INFO Utils: Successfully started service 'org.apache.spark.network.netty.NettyBlockTransferService' on port 40691.\n23/08/06 16:14:17 INFO NettyBlockTransferService: Server created on d14438f96c2a:40691\n23/08/06 16:14:17 INFO BlockManager: Using org.apache.spark.storage.RandomBlockReplicationPolicy for block replication policy\n23/08/06 16:14:17 INFO BlockManagerMaster: Registering BlockManager BlockManagerId(driver, d14438f96c2a, 40691, None)\n23/08/06 16:14:17 INFO BlockManagerMasterEndpoint: Registering block manager d14438f96c2a:40691 with 434.4 MiB RAM, BlockManagerId(driver, d14438f96c2a, 40691, None)\n23/08/06 16:14:17 INFO BlockManagerMaster: Registered BlockManager BlockManagerId(driver, d14438f96c2a, 40691, None)\n23/08/06 16:14:17 INFO BlockManager: Initialized BlockManager: BlockManagerId(driver, d14438f96c2a, 40691, None)\n23/08/06 16:14:17 INFO SharedState: Setting hive.metastore.warehouse.dir ('null') to the value of spark.sql.warehouse.dir.\n23/08/06 16:14:17 INFO SharedState: Warehouse path is 'file:/opt/airflow/spark-warehouse'.\n</code></pre>\n<p>this read operation hangs Indefinitely</p>\n<p>Spark Jars:</p>\n<pre><code>hadoop-aws-3.3.4.jar\nhadoop-client-api-3.3.4.jar\nhadoop-client-runtime-3.3.4.jar\nhadoop-yarn-server-web-proxy-3.3.4.jar\nparquet-hadoop-1.12.3.jar\naws-java-sdk-bundle-1.12.262.jar\nhadoop-aws-3.3.4.jar\ndelta-core_2.12-2.4.0.jar\ndelta-storage-2.4.0.jar\n</code></pre>\n<p>Any ideas on why my spark session is not able to read from the minio bucket?</p>\n<p>This does however work when I am running the Spark on my local machine.</p>\n"},{"tags":["java","gwt","html-parsing"],"comments":[{"owner":{"account_id":1965862,"reputation":3669,"user_id":1766166,"accept_rate":71,"display_name":"zygimantus"},"score":0,"creation_date":1591857178,"post_id":22680714,"comment_id":110215831,"body_markdown":"Have you resolved this issue? I have a similar one in web mode, but in dev mode it works fine.","body":"Have you resolved this issue? I have a similar one in web mode, but in dev mode it works fine."}],"owner":{"account_id":1024017,"reputation":233,"user_id":1033715,"accept_rate":17,"display_name":"Komal Goyal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4812,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1691475775,"creation_date":1395904640,"question_id":22680714,"body_markdown":"I have defined the following custom tag `&lt;custlib:mytag myttribute=&quot;myval&quot;/&gt;`\r\n\r\nWhile I execute this gwt app and try to process the custlib:mytag it works fine in hosted dev mode.. where as in the web mode I get the following exception\r\n\r\n    Thu Mar 27 12:11:19 GMT+530 2014 HTMLPROCESSOR SEVERE: processor excep\r\n    com.google.gwt.core.client.JavaScriptException: (TypeError): Cannot read property &#39;C&#39; of null\r\n       at Unknown.Dn(StackTraceCreator.java:168)\r\n       at Unknown.Em(StackTraceCreator.java:421)\r\n       at Unknown.ES(Exceptions.java:29)\r\n       at Unknown.ci(UIObject.java:528)\r\n       at Unknown.ai(HTMLPanel.java:183)\r\n       at Unknown.lh(HtmlPageProcessor.java:179)\r\n       at Unknown.mh(HtmlPageProcessor.java:91)\r\n       at Unknown.mh(HtmlPageProcessor.java:81)\r\n       at Unknown.mh(HtmlPageProcessor.java:81)\r\n       at Unknown.mh(HtmlPageProcessor.java:81)\r\n       at Unknown.mh(HtmlPageProcessor.java:81)\r\n       at Unknown.mh(HtmlPageProcessor.java:81)\r\n       at Unknown.bb(HtmlPageProcessor.java:37)\r\n       at Unknown.DS(Stats.java:28)\r\n       at Unknown._m(Impl.java:168)\r\n       at Unknown.cn(Impl.java:220)\r\n       at Unknown.anonymous(Impl.java:57)\r\n       at Unknown.gwtOnLoad(com.google.gwt.dev.jjs.impl.GenerateJavaScriptAST:0)\r\n    Thu Mar 27 12:11:19 GMT+530 2014 HTMLPROCESSOR SEVERE: processor excep\r\n    com.google.gwt.core.client.JavaScriptException: (TypeError): Cannot read property &#39;C&#39; of null\r\n\r\n\r\n\r\nWhat could be the issue.. ? \r\n\r\nAny help would be appreciated. . \r\n\r\n","title":"com.google.gwt.core.client.JavaScriptException: (TypeError): Cannot read property &#39;C&#39; of null","body":"<p>I have defined the following custom tag <code>&lt;custlib:mytag myttribute=\"myval\"/&gt;</code></p>\n\n<p>While I execute this gwt app and try to process the custlib:mytag it works fine in hosted dev mode.. where as in the web mode I get the following exception</p>\n\n<pre><code>Thu Mar 27 12:11:19 GMT+530 2014 HTMLPROCESSOR SEVERE: processor excep\ncom.google.gwt.core.client.JavaScriptException: (TypeError): Cannot read property 'C' of null\n   at Unknown.Dn(StackTraceCreator.java:168)\n   at Unknown.Em(StackTraceCreator.java:421)\n   at Unknown.ES(Exceptions.java:29)\n   at Unknown.ci(UIObject.java:528)\n   at Unknown.ai(HTMLPanel.java:183)\n   at Unknown.lh(HtmlPageProcessor.java:179)\n   at Unknown.mh(HtmlPageProcessor.java:91)\n   at Unknown.mh(HtmlPageProcessor.java:81)\n   at Unknown.mh(HtmlPageProcessor.java:81)\n   at Unknown.mh(HtmlPageProcessor.java:81)\n   at Unknown.mh(HtmlPageProcessor.java:81)\n   at Unknown.mh(HtmlPageProcessor.java:81)\n   at Unknown.bb(HtmlPageProcessor.java:37)\n   at Unknown.DS(Stats.java:28)\n   at Unknown._m(Impl.java:168)\n   at Unknown.cn(Impl.java:220)\n   at Unknown.anonymous(Impl.java:57)\n   at Unknown.gwtOnLoad(com.google.gwt.dev.jjs.impl.GenerateJavaScriptAST:0)\nThu Mar 27 12:11:19 GMT+530 2014 HTMLPROCESSOR SEVERE: processor excep\ncom.google.gwt.core.client.JavaScriptException: (TypeError): Cannot read property 'C' of null\n</code></pre>\n\n<p>What could be the issue.. ? </p>\n\n<p>Any help would be appreciated. . </p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":1,"creation_date":1691408627,"post_id":76851274,"comment_id":135482927,"body_markdown":"You&#39;re welcome! Did you configure the database connection properties?","body":"You&#39;re welcome! Did you configure the database connection properties?"},{"owner":{"account_id":16850706,"reputation":922,"user_id":12183825,"display_name":"Edgar"},"score":0,"creation_date":1691408856,"post_id":76851274,"comment_id":135482974,"body_markdown":"yes if I need to add something to post let me know","body":"yes if I need to add something to post let me know"},{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":0,"creation_date":1691408970,"post_id":76851274,"comment_id":135483000,"body_markdown":"Did you use `application.properties` or `application.yml`?","body":"Did you use <code>application.properties</code> or <code>application.yml</code>?"},{"owner":{"account_id":16850706,"reputation":922,"user_id":12183825,"display_name":"Edgar"},"score":1,"creation_date":1691409060,"post_id":76851274,"comment_id":135483020,"body_markdown":"@DiegoBorba I have added application.yaml file to the post please check it","body":"@DiegoBorba I have added application.yaml file to the post please check it"},{"owner":{"account_id":16850706,"reputation":922,"user_id":12183825,"display_name":"Edgar"},"score":0,"creation_date":1691409617,"post_id":76851274,"comment_id":135483130,"body_markdown":"I am using application.yml","body":"I am using application.yml"},{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":0,"creation_date":1691409792,"post_id":76851274,"comment_id":135483154,"body_markdown":"`MovieService` is a class right?","body":"<code>MovieService</code> is a class right?"},{"owner":{"account_id":16850706,"reputation":922,"user_id":12183825,"display_name":"Edgar"},"score":0,"creation_date":1691412438,"post_id":76851274,"comment_id":135483759,"body_markdown":"@DiegoBorba yes it is class I have added to the post my MovieService class","body":"@DiegoBorba yes it is class I have added to the post my MovieService class"},{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":0,"creation_date":1691412949,"post_id":76851274,"comment_id":135483854,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/254836/discussion-between-diego-borba-and-edgar).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/254836/discussion-between-diego-borba-and-edgar\">continue this discussion in chat</a>."},{"owner":{"account_id":15513459,"reputation":160,"user_id":11191681,"display_name":"sdzt9"},"score":0,"creation_date":1691416222,"post_id":76851274,"comment_id":135484602,"body_markdown":"do you mean localhost:5432 ? You typed postgres:5432","body":"do you mean localhost:5432 ? You typed postgres:5432"},{"owner":{"account_id":16850706,"reputation":922,"user_id":12183825,"display_name":"Edgar"},"score":0,"creation_date":1691418951,"post_id":76851274,"comment_id":135485317,"body_markdown":"postgres5432 otherwise it is not connecting","body":"postgres5432 otherwise it is not connecting"}],"answers":[{"tags":[],"owner":{"account_id":16850706,"reputation":922,"user_id":12183825,"display_name":"Edgar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691475524,"creation_date":1691475524,"answer_id":76856893,"question_id":76851274,"body_markdown":"I fixed my problem by adding following code in application.yml\r\n\r\n    spring:\r\n      flyway:\r\n        baseline-on-migrate: true\r\n        enabled: true\r\n        baseline-version: 1","title":"Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;movieService&#39; defined in file?","body":"<p>I fixed my problem by adding following code in application.yml</p>\n<pre><code>spring:\n  flyway:\n    baseline-on-migrate: true\n    enabled: true\n    baseline-version: 1\n</code></pre>\n"}],"owner":{"account_id":16850706,"reputation":922,"user_id":12183825,"display_name":"Edgar"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1691475524,"creation_date":1691407788,"question_id":76851274,"body_markdown":"I am developing new spring boot application using java when I run project I am getting following exception\r\n\r\n```\r\norg.postgresql.util.PSQLException: The connection attempt failed.\r\n\tat org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:315) ~[postgresql-42.2.23.jar:42.2.23]\r\n\tat org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:51) ~[postgresql-42.2.23.jar:42.2.23]\r\n\tat org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:223) ~[postgresql-42.2.23.jar:42.2.23]\r\n\tat org.postgresql.Driver.makeConnection(Driver.java:465) ~[postgresql-42.2.23.jar:42.2.23]\r\n\tat org.postgresql.Driver.connect(Driver.java:264) ~[postgresql-42.2.23.jar:42.2.23]\r\n\tat com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138) ~[HikariCP-4.0.3.jar:na]\r\n\tat com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364) ~[HikariCP-4.0.3.jar:na]\r\n\tat com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206) ~[HikariCP-4.0.3.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476) ~[HikariCP-4.0.3.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561) ~[HikariCP-4.0.3.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:115) ~[HikariCP-4.0.3.jar:na]\r\n\tat com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-4.0.3.jar:na]\r\n\tat org.flywaydb.core.internal.jdbc.JdbcUtils.openConnection(JdbcUtils.java:54) ~[flyway-core-7.7.3.jar:na]\r\n\tat org.flywaydb.core.internal.jdbc.JdbcConnectionFactory.&lt;init&gt;(JdbcConnectionFactory.java:69) ~[flyway-core-7.7.3.jar:na]\r\n\tat org.flywaydb.core.Flyway.execute(Flyway.java:508) ~[flyway-core-7.7.3.jar:na]\r\n\tat org.flywaydb.core.Flyway.migrate(Flyway.java:165) ~[flyway-core-7.7.3.jar:na]\r\n\tat org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66) ~[spring-boot-autoconfigure-2.5.4.jar:2.5.4]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1845) ~[spring-beans-5.3.9.jar:5.3.9]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782) ~[spring-beans-5.3.9.jar:5.3.9]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:602) ~[spring-beans-5.3.9.jar:5.3.9]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:524) ~[spring-beans-5.3.9.jar:5.3.9]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.9.jar:5.3.9]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.9.jar:5.3.9]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.9.jar:5.3.9]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.9.jar:5.3.9]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322) ~[spring-beans-5.3.9.jar:5.3.9]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.9.jar:5.3.9]\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.9.jar:5.3.9]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1380) ~[spring-beans-5.3.9.jar:5.3.9]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1300) ~[spring-beans-5.3.9.jar:5.3.9]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.9.jar:5.3.9]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.9.jar:5.3.9]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229) ~[spring-beans-5.3.9.jar:5.3.9]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1354) ~[spring-beans-5.3.9.jar:5.3.9]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1204) ~[spring-beans-5.3.9.jar:5.3.9]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:564) ~[spring-beans-5.3.9.jar:5.3.9]\r\n\tat org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;movieController&#39; defined in file \r\nUnable to obtain connection from database: The connection attempt failed.\r\n-------------------------------------------------------------------------\r\nSQL State  : 08001\r\nError Code : 0\r\nMessage    : The connection attempt failed.\r\n\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.9.jar:5.3.9]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229) ~[spring-beans-5.3.9.jar:5.3.9]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1354) ~[spring-beans-5.3.9.jar:5.3.9]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1204) ~[spring-beans-5.3.9.jar:5.3.9]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:564) ~[spring-beans-5.3.9.jar:5.3.9]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:524) ~[spring-beans-5.3.9.jar:5.3.9]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.9.jar:5.3.9]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.9.jar:5.3.9]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.9.jar:5.3.9]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.9.jar:5.3.9]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:944) ~[spring-beans-5.3.9.jar:5.3.9]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.9.jar:5.3.9]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.9.jar:5.3.9]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.5.4.jar:2.5.4]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-2.5.4.jar:2.5.4]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-2.5.4.jar:2.5.4]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:338) ~[spring-boot-2.5.4.jar:2.5.4]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1343) ~[spring-boot-2.5.4.jar:2.5.4]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1332) ~[spring-boot-2.5.4.jar:2.5.4]\r\n\tat com.amigoscode.DemoApplication.main(DemoApplication.java:10) ~[classes/:na]\r\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;movieService&#39; defined in file [C:\\Users\\Yodgorbek\\IdeaProjects\\jdbc\\target\\classes\\com\\amigoscode\\movie\\MovieService.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;movieDataAccessService&#39; defined in file [C:\\Users\\Yodgorbek\\IdeaProjects\\jdbc\\target\\classes\\com\\amigoscode\\movie\\MovieDataAccessService.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;flywayInitializer&#39; defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Invocation of init method failed; nested exception is org.flywaydb.core.internal.exception.FlywaySqlException: \r\nUnable to obtain connection from database: The connection attempt failed.\r\n-------------------------------------------------------------------------\r\nSQL State  : 08001\r\nError Code : 0\r\nMessage    : The connection attempt failed.\r\n\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.9.jar:5.3.9]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229) ~[spring-beans-5.3.9.jar:5.3.9]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1354) ~[spring-beans-5.3.9.jar:5.3.9]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1204) ~[spring-beans-5.3.9.jar:5.3.9]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:564) ~[spring-beans-5.3.9.jar:5.3.9]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:524) ~[spring-beans-5.3.9.jar:5.3.9]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.9.jar:5.3.9]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.9.jar:5.3.9]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.9.jar:5.3.9]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.9.jar:5.3.9]\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.9.jar:5.3.9]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1380) ~[spring-beans-5.3.9.jar:5.3.9]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1300) ~[spring-beans-5.3.9.jar:5.3.9]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.9.jar:5.3.9]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.9.jar:5.3.9]\r\n\t... 19 common frames omitted\r\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;movieDataAccessService&#39; defined in file [C:\\Users\\Yodgorbek\\IdeaProjects\\jdbc\\target\\classes\\com\\amigoscode\\movie\\MovieDataAccessService.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;flywayInitializer&#39; defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Invocation of init method failed; nested exception is org.flywaydb.core.internal.exception.FlywaySqlException: \r\nUnable to obtain connection from database: The connection attempt failed.\r\n-------------------------------------------------------------------------\r\nSQL State  : 08001\r\nError Code : 0\r\nMessage    : The connection attempt failed.\r\n\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.9.jar:5.3.9]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229) ~[spring-beans-5.3.9.jar:5.3.9]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1354) ~[spring-beans-5.3.9.jar:5.3.9]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1204) ~[spring-beans-5.3.9.jar:5.3.9]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:564) ~[spring-beans-5.3.9.jar:5.3.9]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:524) ~[spring-beans-5.3.9.jar:5.3.9]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.9.jar:5.3.9]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.9.jar:5.3.9]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.9.jar:5.3.9]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.9.jar:5.3.9]\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.9.jar:5.3.9]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1380) ~[spring-beans-5.3.9.jar:5.3.9]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1300) ~[spring-beans-5.3.9.jar:5.3.9]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.9.jar:5.3.9]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.9.jar:5.3.9]\r\n\t... 33 common frames omitted\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;flywayInitializer&#39; defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Invocation of init method failed; nested exception is org.flywaydb.core.internal.exception.FlywaySqlException: \r\nUnable to obtain connection from database: The connection attempt failed.\r\n-------------------------------------------------------------------------\r\nSQL State  : 08001\r\nError Code : 0\r\nMessage    : The connection attempt failed.\r\n\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1786) ~[spring-beans-5.3.9.jar:5.3.9]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:602) ~[spring-beans-5.3.9.jar:5.3.9]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:524) ~[spring-beans-5.3.9.jar:5.3.9]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.9.jar:5.3.9]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.9.jar:5.3.9]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.9.jar:5.3.9]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.9.jar:5.3.9]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322) ~[spring-beans-5.3.9.jar:5.3.9]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.9.jar:5.3.9]\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.9.jar:5.3.9]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1380) ~[spring-beans-5.3.9.jar:5.3.9]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1300) ~[spring-beans-5.3.9.jar:5.3.9]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.9.jar:5.3.9]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.9.jar:5.3.9]\r\n\t... 47 common frames omitted\r\nCaused by: org.flywaydb.core.internal.exception.FlywaySqlException: \r\nUnable to obtain connection from database: The connection attempt failed.\r\n-------------------------------------------------------------------------\r\nSQL State  : 08001\r\nError Code : 0\r\nMessage    : The connection attempt failed.\r\n\r\n\tat org.flywaydb.core.internal.jdbc.JdbcUtils.openConnection(JdbcUtils.java:68) ~[flyway-core-7.7.3.jar:na]\r\n\tat org.flywaydb.core.internal.jdbc.JdbcConnectionFactory.&lt;init&gt;(JdbcConnectionFactory.java:69) ~[flyway-core-7.7.3.jar:na]\r\n\tat org.flywaydb.core.Flyway.execute(Flyway.java:508) ~[flyway-core-7.7.3.jar:na]\r\n\tat org.flywaydb.core.Flyway.migrate(Flyway.java:165) ~[flyway-core-7.7.3.jar:na]\r\n\tat org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66) ~[spring-boot-autoconfigure-2.5.4.jar:2.5.4]\r\n\tat \r\n```\r\n\r\nI want to know where exactly I am making mistake below my pom.xml file\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.5.4&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.darrentech&lt;/groupId&gt;\r\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;demo&lt;/name&gt;\r\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jdbc&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\r\n            &lt;artifactId&gt;flyway-core&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nI want to know where exactly I am making mistake I have tried all possible solution from stackoverflow and other sources it did not solve my problem and help highly appreciated\r\n\r\nbelow my application.yml\r\n\r\n```yml\r\n    app:\r\n      datasource:\r\n        main:\r\n          driver-class-name: org.postgresql.Driver\r\n          jdbc-url: jdbc:postgresql://postgres:5432/amigoscode\r\n          username: amigoscode\r\n          password: &#39;password&#39;\r\n          pool-size: 30\r\n    \r\n    server:\r\n      error:\r\n        include-binding-errors: always\r\n        include-message: always\r\n```\r\n\r\nbelow my MovieService.java class\r\n\r\n```java\r\n@Service\r\npublic class MovieService {\r\n\r\n\tprivate final MovieDao movieDao;\r\n\r\n\tpublic MovieService(MovieDao movieDao) {\r\n\t\tthis.movieDao = movieDao;\r\n\t}\r\n\r\n\tpublic List&lt;Movie&gt; getMovies() {\r\n\t\treturn movieDao.selectMovies();\r\n\t}\r\n\r\n\tpublic void addNewMovie(Movie movie) {\r\n\t\t// TODO: check if movie exists\r\n\t\tint result = movieDao.insertMovie(movie);\r\n\t\tif (result != 1) {\r\n\t\t\tthrow new IllegalStateException(&quot;oops something went wrong&quot;);\r\n\t\t}\r\n\t}\r\n\r\n\tpublic void deleteMovie(Integer id) {\r\n\t\tOptional&lt;Movie&gt; movies = movieDao.selectMovieById(id);\r\n\t\tmovies.ifPresentOrElse(movie -&gt; {\r\n\t\t\tint result = movieDao.deleteMovie(id);\r\n\t\t\tif (result != 1) {\r\n\t\t\t\tthrow new IllegalStateException(&quot;oops could not delete movie&quot;);\r\n\t\t\t}\r\n\t\t}, () -&gt; {\r\n\t\t\tthrow new NotFoundException(String.format(&quot;Movie with id %s not found&quot;, id));\r\n\t\t});\r\n\t}\r\n\r\n\tpublic Movie getMovie(int id) {\r\n\t\treturn movieDao.selectMovieById(id).orElseThrow(() -&gt; new NotFoundException(String.format(&quot;Movie with id %s not found&quot;, id)));\r\n\t}\r\n}\r\n```","title":"Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;movieService&#39; defined in file?","body":"<p>I am developing new spring boot application using java when I run project I am getting following exception</p>\n<pre><code>org.postgresql.util.PSQLException: The connection attempt failed.\n    at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:315) ~[postgresql-42.2.23.jar:42.2.23]\n    at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:51) ~[postgresql-42.2.23.jar:42.2.23]\n    at org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:223) ~[postgresql-42.2.23.jar:42.2.23]\n    at org.postgresql.Driver.makeConnection(Driver.java:465) ~[postgresql-42.2.23.jar:42.2.23]\n    at org.postgresql.Driver.connect(Driver.java:264) ~[postgresql-42.2.23.jar:42.2.23]\n    at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:115) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-4.0.3.jar:na]\n    at org.flywaydb.core.internal.jdbc.JdbcUtils.openConnection(JdbcUtils.java:54) ~[flyway-core-7.7.3.jar:na]\n    at org.flywaydb.core.internal.jdbc.JdbcConnectionFactory.&lt;init&gt;(JdbcConnectionFactory.java:69) ~[flyway-core-7.7.3.jar:na]\n    at org.flywaydb.core.Flyway.execute(Flyway.java:508) ~[flyway-core-7.7.3.jar:na]\n    at org.flywaydb.core.Flyway.migrate(Flyway.java:165) ~[flyway-core-7.7.3.jar:na]\n    at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66) ~[spring-boot-autoconfigure-2.5.4.jar:2.5.4]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1845) ~[spring-beans-5.3.9.jar:5.3.9]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782) ~[spring-beans-5.3.9.jar:5.3.9]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:602) ~[spring-beans-5.3.9.jar:5.3.9]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:524) ~[spring-beans-5.3.9.jar:5.3.9]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.9.jar:5.3.9]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.9.jar:5.3.9]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.9.jar:5.3.9]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.9.jar:5.3.9]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322) ~[spring-beans-5.3.9.jar:5.3.9]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.9.jar:5.3.9]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.9.jar:5.3.9]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1380) ~[spring-beans-5.3.9.jar:5.3.9]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1300) ~[spring-beans-5.3.9.jar:5.3.9]\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.9.jar:5.3.9]\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.9.jar:5.3.9]\n    at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229) ~[spring-beans-5.3.9.jar:5.3.9]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1354) ~[spring-beans-5.3.9.jar:5.3.9]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1204) ~[spring-beans-5.3.9.jar:5.3.9]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:564) ~[spring-beans-5.3.9.jar:5.3.9]\n    at org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'movieController' defined in file \nUnable to obtain connection from database: The connection attempt failed.\n-------------------------------------------------------------------------\nSQL State  : 08001\nError Code : 0\nMessage    : The connection attempt failed.\n\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.9.jar:5.3.9]\n    at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229) ~[spring-beans-5.3.9.jar:5.3.9]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1354) ~[spring-beans-5.3.9.jar:5.3.9]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1204) ~[spring-beans-5.3.9.jar:5.3.9]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:564) ~[spring-beans-5.3.9.jar:5.3.9]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:524) ~[spring-beans-5.3.9.jar:5.3.9]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.9.jar:5.3.9]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.9.jar:5.3.9]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.9.jar:5.3.9]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.9.jar:5.3.9]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:944) ~[spring-beans-5.3.9.jar:5.3.9]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.9.jar:5.3.9]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.9.jar:5.3.9]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.5.4.jar:2.5.4]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-2.5.4.jar:2.5.4]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-2.5.4.jar:2.5.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:338) ~[spring-boot-2.5.4.jar:2.5.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343) ~[spring-boot-2.5.4.jar:2.5.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1332) ~[spring-boot-2.5.4.jar:2.5.4]\n    at com.amigoscode.DemoApplication.main(DemoApplication.java:10) ~[classes/:na]\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'movieService' defined in file [C:\\Users\\Yodgorbek\\IdeaProjects\\jdbc\\target\\classes\\com\\amigoscode\\movie\\MovieService.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'movieDataAccessService' defined in file [C:\\Users\\Yodgorbek\\IdeaProjects\\jdbc\\target\\classes\\com\\amigoscode\\movie\\MovieDataAccessService.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Invocation of init method failed; nested exception is org.flywaydb.core.internal.exception.FlywaySqlException: \nUnable to obtain connection from database: The connection attempt failed.\n-------------------------------------------------------------------------\nSQL State  : 08001\nError Code : 0\nMessage    : The connection attempt failed.\n\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.9.jar:5.3.9]\n    at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229) ~[spring-beans-5.3.9.jar:5.3.9]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1354) ~[spring-beans-5.3.9.jar:5.3.9]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1204) ~[spring-beans-5.3.9.jar:5.3.9]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:564) ~[spring-beans-5.3.9.jar:5.3.9]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:524) ~[spring-beans-5.3.9.jar:5.3.9]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.9.jar:5.3.9]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.9.jar:5.3.9]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.9.jar:5.3.9]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.9.jar:5.3.9]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.9.jar:5.3.9]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1380) ~[spring-beans-5.3.9.jar:5.3.9]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1300) ~[spring-beans-5.3.9.jar:5.3.9]\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.9.jar:5.3.9]\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.9.jar:5.3.9]\n    ... 19 common frames omitted\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'movieDataAccessService' defined in file [C:\\Users\\Yodgorbek\\IdeaProjects\\jdbc\\target\\classes\\com\\amigoscode\\movie\\MovieDataAccessService.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Invocation of init method failed; nested exception is org.flywaydb.core.internal.exception.FlywaySqlException: \nUnable to obtain connection from database: The connection attempt failed.\n-------------------------------------------------------------------------\nSQL State  : 08001\nError Code : 0\nMessage    : The connection attempt failed.\n\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.9.jar:5.3.9]\n    at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229) ~[spring-beans-5.3.9.jar:5.3.9]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1354) ~[spring-beans-5.3.9.jar:5.3.9]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1204) ~[spring-beans-5.3.9.jar:5.3.9]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:564) ~[spring-beans-5.3.9.jar:5.3.9]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:524) ~[spring-beans-5.3.9.jar:5.3.9]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.9.jar:5.3.9]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.9.jar:5.3.9]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.9.jar:5.3.9]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.9.jar:5.3.9]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.9.jar:5.3.9]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1380) ~[spring-beans-5.3.9.jar:5.3.9]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1300) ~[spring-beans-5.3.9.jar:5.3.9]\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.9.jar:5.3.9]\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.9.jar:5.3.9]\n    ... 33 common frames omitted\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Invocation of init method failed; nested exception is org.flywaydb.core.internal.exception.FlywaySqlException: \nUnable to obtain connection from database: The connection attempt failed.\n-------------------------------------------------------------------------\nSQL State  : 08001\nError Code : 0\nMessage    : The connection attempt failed.\n\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1786) ~[spring-beans-5.3.9.jar:5.3.9]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:602) ~[spring-beans-5.3.9.jar:5.3.9]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:524) ~[spring-beans-5.3.9.jar:5.3.9]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.9.jar:5.3.9]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.9.jar:5.3.9]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.9.jar:5.3.9]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.9.jar:5.3.9]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322) ~[spring-beans-5.3.9.jar:5.3.9]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.9.jar:5.3.9]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.9.jar:5.3.9]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1380) ~[spring-beans-5.3.9.jar:5.3.9]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1300) ~[spring-beans-5.3.9.jar:5.3.9]\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.9.jar:5.3.9]\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.9.jar:5.3.9]\n    ... 47 common frames omitted\nCaused by: org.flywaydb.core.internal.exception.FlywaySqlException: \nUnable to obtain connection from database: The connection attempt failed.\n-------------------------------------------------------------------------\nSQL State  : 08001\nError Code : 0\nMessage    : The connection attempt failed.\n\n    at org.flywaydb.core.internal.jdbc.JdbcUtils.openConnection(JdbcUtils.java:68) ~[flyway-core-7.7.3.jar:na]\n    at org.flywaydb.core.internal.jdbc.JdbcConnectionFactory.&lt;init&gt;(JdbcConnectionFactory.java:69) ~[flyway-core-7.7.3.jar:na]\n    at org.flywaydb.core.Flyway.execute(Flyway.java:508) ~[flyway-core-7.7.3.jar:na]\n    at org.flywaydb.core.Flyway.migrate(Flyway.java:165) ~[flyway-core-7.7.3.jar:na]\n    at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66) ~[spring-boot-autoconfigure-2.5.4.jar:2.5.4]\n    at \n</code></pre>\n<p>I want to know where exactly I am making mistake below my pom.xml file</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.5.4&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.darrentech&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;demo&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jdbc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\n            &lt;artifactId&gt;flyway-core&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>I want to know where exactly I am making mistake I have tried all possible solution from stackoverflow and other sources it did not solve my problem and help highly appreciated</p>\n<p>below my application.yml</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>    app:\n      datasource:\n        main:\n          driver-class-name: org.postgresql.Driver\n          jdbc-url: jdbc:postgresql://postgres:5432/amigoscode\n          username: amigoscode\n          password: 'password'\n          pool-size: 30\n    \n    server:\n      error:\n        include-binding-errors: always\n        include-message: always\n</code></pre>\n<p>below my MovieService.java class</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class MovieService {\n\n    private final MovieDao movieDao;\n\n    public MovieService(MovieDao movieDao) {\n        this.movieDao = movieDao;\n    }\n\n    public List&lt;Movie&gt; getMovies() {\n        return movieDao.selectMovies();\n    }\n\n    public void addNewMovie(Movie movie) {\n        // TODO: check if movie exists\n        int result = movieDao.insertMovie(movie);\n        if (result != 1) {\n            throw new IllegalStateException(&quot;oops something went wrong&quot;);\n        }\n    }\n\n    public void deleteMovie(Integer id) {\n        Optional&lt;Movie&gt; movies = movieDao.selectMovieById(id);\n        movies.ifPresentOrElse(movie -&gt; {\n            int result = movieDao.deleteMovie(id);\n            if (result != 1) {\n                throw new IllegalStateException(&quot;oops could not delete movie&quot;);\n            }\n        }, () -&gt; {\n            throw new NotFoundException(String.format(&quot;Movie with id %s not found&quot;, id));\n        });\n    }\n\n    public Movie getMovie(int id) {\n        return movieDao.selectMovieById(id).orElseThrow(() -&gt; new NotFoundException(String.format(&quot;Movie with id %s not found&quot;, id)));\n    }\n}\n</code></pre>\n"},{"tags":["java","itext","itext7"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1610640780,"post_id":65719526,"comment_id":116202231,"body_markdown":"Have you compared the contents of `targetArray` when run in IntelliJ with the contents when run from the built jar in your test project? E.g. by logging them?","body":"Have you compared the contents of <code>targetArray</code> when run in IntelliJ with the contents when run from the built jar in your test project? E.g. by logging them?"},{"owner":{"account_id":20122025,"reputation":43,"user_id":14756353,"display_name":"RigaJona"},"score":0,"creation_date":1610645620,"post_id":65719526,"comment_id":116204618,"body_markdown":"I&#39;ve written the array to a txt file, and it they&#39;re not equal alt all...\ndo you have an idea why?","body":"I&#39;ve written the array to a txt file, and it they&#39;re not equal alt all... do you have an idea why?"},{"owner":{"account_id":20122025,"reputation":43,"user_id":14756353,"display_name":"RigaJona"},"score":0,"creation_date":1610646154,"post_id":65719526,"comment_id":116204860,"body_markdown":"Also after round about 11600 bytes every byte is 0.\nI&#39;ll handle that a problem first...","body":"Also after round about 11600 bytes every byte is 0. I&#39;ll handle that a problem first..."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1610990492,"post_id":65719526,"comment_id":116301830,"body_markdown":"An issue here is the use of `in.available()` to determine the size of the font file to read.","body":"An issue here is the use of <code>in.available()</code> to determine the size of the font file to read."}],"answers":[{"comments":[{"owner":{"account_id":11766240,"reputation":578,"user_id":14056755,"display_name":"Marcin Rzepecki"},"score":1,"creation_date":1616095515,"post_id":65770265,"comment_id":117903345,"body_markdown":"This should not be added as an answer, it is a good candidate for a comment.","body":"This should not be added as an answer, it is a good candidate for a comment."}],"tags":[],"owner":{"account_id":20122025,"reputation":43,"user_id":14756353,"display_name":"RigaJona"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1610954354,"creation_date":1610954354,"answer_id":65770265,"question_id":65719526,"body_markdown":"Apparently you have to convert the Inputstream (to byte array) in small units of 4Kb.\r\n\r\n    https://stackoverflow.com/questions/1264709/convert-inputstream-to-byte-array-in-java\r\n\r\nThis one solved it for me.","title":"iText 7 - font not recognized","body":"<p>Apparently you have to convert the Inputstream (to byte array) in small units of 4Kb.</p>\n<pre><code>https://stackoverflow.com/questions/1264709/convert-inputstream-to-byte-array-in-java\n</code></pre>\n<p>This one solved it for me.</p>\n"},{"tags":[],"owner":{"account_id":20995268,"reputation":11,"user_id":15427255,"display_name":"John"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1616095047,"creation_date":1616095047,"answer_id":66697717,"question_id":65719526,"body_markdown":"The issue (most likely) is not with how you are reading the file, but rather that the ttf file is being altered when it is packaged into the jar.   Adding this into the build section of your pom file should do it:\r\n```\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;encoding&gt;UTF-8&lt;/encoding&gt;\r\n                    &lt;nonFilteredFileExtensions&gt;\r\n                        &lt;nonFilteredFileExtension&gt;ttf&lt;/nonFilteredFileExtension&gt;\r\n                    &lt;/nonFilteredFileExtensions&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n```\r\n\r\nSee https://maven.apache.org/plugins/maven-resources-plugin/examples/binaries-filtering.html for more details","title":"iText 7 - font not recognized","body":"<p>The issue (most likely) is not with how you are reading the file, but rather that the ttf file is being altered when it is packaged into the jar.   Adding this into the build section of your pom file should do it:</p>\n<pre><code>            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;encoding&gt;UTF-8&lt;/encoding&gt;\n                    &lt;nonFilteredFileExtensions&gt;\n                        &lt;nonFilteredFileExtension&gt;ttf&lt;/nonFilteredFileExtension&gt;\n                    &lt;/nonFilteredFileExtensions&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n</code></pre>\n<p>See <a href=\"https://maven.apache.org/plugins/maven-resources-plugin/examples/binaries-filtering.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/plugins/maven-resources-plugin/examples/binaries-filtering.html</a> for more details</p>\n"},{"tags":[],"owner":{"account_id":22028090,"reputation":1,"user_id":16295785,"display_name":"Raj Gupta"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1624476827,"creation_date":1624430670,"answer_id":68094804,"question_id":65719526,"body_markdown":"    URL font_path = Thread.currentThread().getContextClassLoader().getResource(&quot;font/font1.ttf&quot;);\r\n    byte[] b = PdfEncodings.convertToBytes(String.valueOf(font_path), PdfEncodings.WINANSI);\r\n    PdfFont font = PdfFontFactory.createFont(b, PdfEncodings.WINANSI, true);**\r\n\r\n\r\n\r\nThe type of font isn&#39;t recognized","title":"iText 7 - font not recognized","body":"<pre><code>URL font_path = Thread.currentThread().getContextClassLoader().getResource(&quot;font/font1.ttf&quot;);\nbyte[] b = PdfEncodings.convertToBytes(String.valueOf(font_path), PdfEncodings.WINANSI);\nPdfFont font = PdfFontFactory.createFont(b, PdfEncodings.WINANSI, true);**\n</code></pre>\n<p>The type of font isn't recognized</p>\n"},{"tags":[],"owner":{"account_id":29182181,"reputation":1,"user_id":22356072,"display_name":"XueHongren"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691475388,"creation_date":1691475388,"answer_id":76856874,"question_id":65719526,"body_markdown":"Since you can&#39;t read the path of template in the jar package, take the font file out of the jar package and put it in the jar sibling directory.","title":"iText 7 - font not recognized","body":"<p>Since you can't read the path of template in the jar package, take the font file out of the jar package and put it in the jar sibling directory.</p>\n"}],"owner":{"account_id":20122025,"reputation":43,"user_id":14756353,"display_name":"RigaJona"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2608,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":65770265,"answer_count":4,"score":1,"last_activity_date":1691475388,"creation_date":1610629506,"question_id":65719526,"body_markdown":"I&#39;m using a ttf file to implement a fixed font for czech letters.\r\n\r\nAs long as I run the code in my debugger (IntelliJ 2020.3) it works fine. \r\nBut if I try to run the built jar file in my test project I get the following error:\r\n\r\n    Exception in thread &quot;main&quot; com.itextpdf.io.IOException: font.is.not.recognized\r\n    \tat com.itextpdf.io.font.FontProgramFactory.createFont(FontProgramFactory.java:291)\r\n    \tat com.itextpdf.io.font.FontProgramFactory.createFont(FontProgramFactory.java:214)\r\n\r\nThe code:\r\n\r\n        InputStream in = Template_Dokument.class.getClassLoader().getResourceAsStream(&quot;font.ttf&quot;);\r\n        byte[] targetArray = null;\r\n        try {\r\n            targetArray = new byte[in.available()];\r\n            in.read(targetArray);\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        FontProgram fontProgram = FontProgramFactory.createFont(targetArray);\r\n        PdfFont font = PdfFontFactory.createFont(fontProgram, PdfEncodings.IDENTITY_H, false);\r\n\r\nThe error happens in the method: `FontProgramFactory.createFont`\r\n\r\n","title":"iText 7 - font not recognized","body":"<p>I'm using a ttf file to implement a fixed font for czech letters.</p>\n<p>As long as I run the code in my debugger (IntelliJ 2020.3) it works fine.\nBut if I try to run the built jar file in my test project I get the following error:</p>\n<pre><code>Exception in thread &quot;main&quot; com.itextpdf.io.IOException: font.is.not.recognized\n    at com.itextpdf.io.font.FontProgramFactory.createFont(FontProgramFactory.java:291)\n    at com.itextpdf.io.font.FontProgramFactory.createFont(FontProgramFactory.java:214)\n</code></pre>\n<p>The code:</p>\n<pre><code>    InputStream in = Template_Dokument.class.getClassLoader().getResourceAsStream(&quot;font.ttf&quot;);\n    byte[] targetArray = null;\n    try {\n        targetArray = new byte[in.available()];\n        in.read(targetArray);\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n    FontProgram fontProgram = FontProgramFactory.createFont(targetArray);\n    PdfFont font = PdfFontFactory.createFont(fontProgram, PdfEncodings.IDENTITY_H, false);\n</code></pre>\n<p>The error happens in the method: <code>FontProgramFactory.createFont</code></p>\n"},{"tags":["java","properties","comments"],"comments":[{"owner":{"account_id":6625221,"reputation":5148,"user_id":5115670,"accept_rate":70,"display_name":"Girdhar Singh Rathore"},"score":0,"creation_date":1556007534,"post_id":4156600,"comment_id":98281592,"body_markdown":"select the lines and presss Ctrl + /","body":"select the lines and presss Ctrl + /"}],"answers":[{"comments":[{"owner":{"account_id":1827567,"reputation":1054,"user_id":1659875,"display_name":"spandey"},"score":0,"creation_date":1518416636,"post_id":4156633,"comment_id":84480658,"body_markdown":"Useful info..There should be some way to do multiline comments for properties files too like java/xml/jsp etc..","body":"Useful info..There should be some way to do multiline comments for properties files too like java/xml/jsp etc.."},{"owner":{"account_id":6219725,"reputation":321,"user_id":8747573,"display_name":"acgbox"},"score":0,"creation_date":1644426835,"post_id":4156633,"comment_id":125605741,"body_markdown":"but in this case?: https://serverfault.com/questions/1093174/how-to-disable-lines-in-java-security-for-linux-and-windows","body":"but in this case?: <a href=\"https://serverfault.com/questions/1093174/how-to-disable-lines-in-java-security-for-linux-and-windows\" title=\"how to disable lines in java security for linux and windows\">serverfault.com/questions/1093174/&hellip;</a>"}],"tags":[],"owner":{"account_id":77251,"reputation":17324,"user_id":220627,"accept_rate":79,"display_name":"Adrian Smith"},"comment_count":2,"down_vote_count":0,"up_vote_count":184,"is_accepted":true,"score":184,"last_activity_date":1375378459,"creation_date":1289492747,"answer_id":4156633,"question_id":4156600,"body_markdown":"Unfortunately not!  Java properties file only have single line `#` comments.","title":"Can we have multiline comments in a Java properties file?","body":"<p>Unfortunately not!  Java properties file only have single line <code>#</code> comments.</p>\n"},{"comments":[{"owner":{"account_id":1765805,"reputation":5354,"user_id":1611714,"display_name":"Binita Bharati"},"score":2,"creation_date":1455607398,"post_id":6771962,"comment_id":58551525,"body_markdown":"Thanks for the shortcut.I am fine with using eclipse, and letting eclipse auto-generate the multi-line comment.","body":"Thanks for the shortcut.I am fine with using eclipse, and letting eclipse auto-generate the multi-line comment."},{"owner":{"account_id":3222180,"reputation":309,"user_id":2719358,"display_name":"Uvaise"},"score":0,"creation_date":1498818196,"post_id":6771962,"comment_id":76668461,"body_markdown":"Very useful. Thanks.","body":"Very useful. Thanks."},{"owner":{"account_id":8179843,"reputation":1731,"user_id":6157415,"display_name":"Mike D3ViD Tyson"},"score":1,"creation_date":1530706833,"post_id":6771962,"comment_id":89329813,"body_markdown":"What about intellij IDEA, there is any shortcut to comment properties file?","body":"What about intellij IDEA, there is any shortcut to comment properties file?"},{"owner":{"account_id":454611,"reputation":2818,"user_id":852300,"display_name":"zaboco"},"score":0,"creation_date":1530710775,"post_id":6771962,"comment_id":89332366,"body_markdown":"Yes, there is, search for `comment with line comment` in Preferences &gt; Keymap. It  should probably be `Ctrl + /` (`Cmd + /` for mac).","body":"Yes, there is, search for <code>comment with line comment</code> in Preferences &gt; Keymap. It  should probably be <code>Ctrl + &#47;</code> (<code>Cmd + &#47;</code> for mac)."},{"owner":{"account_id":6262468,"reputation":73,"user_id":4869191,"accept_rate":20,"display_name":"Karthik_S_A"},"score":0,"creation_date":1671545613,"post_id":6771962,"comment_id":132118905,"body_markdown":"It works fine with STS 4 IDE too!","body":"It works fine with STS 4 IDE too!"}],"tags":[],"owner":{"account_id":454611,"reputation":2818,"user_id":852300,"display_name":"zaboco"},"comment_count":5,"down_vote_count":1,"up_vote_count":44,"is_accepted":false,"score":43,"last_activity_date":1529797597,"creation_date":1311228627,"answer_id":6771962,"question_id":4156600,"body_markdown":"If you use Eclipse, you can select multiple lines and comment all with a shortcut (&lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;/&lt;/kbd&gt; by default). Same shortcut uncomments the lines, but you have to pay attention no to select any empty line, which will cause the non-empty ones to get commented more than once.\r\n\r\nThese apply to Eclipse, but I guess many IDE:s and some editors offer similar functionality.\r\n","title":"Can we have multiline comments in a Java properties file?","body":"<p>If you use Eclipse, you can select multiple lines and comment all with a shortcut (<kbd>Ctrl</kbd>+<kbd>/</kbd> by default). Same shortcut uncomments the lines, but you have to pay attention no to select any empty line, which will cause the non-empty ones to get commented more than once.</p>\n\n<p>These apply to Eclipse, but I guess many IDE:s and some editors offer similar functionality.</p>\n"},{"tags":[],"owner":{"account_id":94649,"reputation":8697,"user_id":258289,"accept_rate":95,"display_name":"Luigi"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1529797629,"creation_date":1359298171,"answer_id":14548552,"question_id":4156600,"body_markdown":"`.properties` files do not have multiline comments. \r\n\r\nSince JDK 1.5 Properties have XML support, and XML format supports multiline comments. See [javadocs](http://docs.oracle.com/javase/1.5.0/docs/api/java/util/Properties.html).","title":"Can we have multiline comments in a Java properties file?","body":"<p><code>.properties</code> files do not have multiline comments. </p>\n\n<p>Since JDK 1.5 Properties have XML support, and XML format supports multiline comments. See <a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/util/Properties.html\" rel=\"nofollow noreferrer\">javadocs</a>.</p>\n"},{"tags":[],"owner":{"account_id":1075625,"reputation":139,"user_id":1073857,"accept_rate":0,"display_name":"FrederikH"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1384349326,"creation_date":1384349326,"answer_id":19955107,"question_id":4156600,"body_markdown":"I have made a class that handles comments in properties.\r\nBoth general header comments and comments for individual properties.\r\n\r\nHave a look at : [CommentedProperties JavaDoc][1]\r\n\r\nThe jar file can be downloaded here : [Download jar file from sourceforge][2]\r\n\r\n\r\n  [1]: http://jhpropertiestyp.sourceforge.net/jhpropertiestyped/javadoc/dk/heick/properties/types/utils/CommentedProperties.html\r\n  [2]: http://sourceforge.net/projects/jhpropertiestyp/","title":"Can we have multiline comments in a Java properties file?","body":"<p>I have made a class that handles comments in properties.\nBoth general header comments and comments for individual properties.</p>\n\n<p>Have a look at : <a href=\"http://jhpropertiestyp.sourceforge.net/jhpropertiestyped/javadoc/dk/heick/properties/types/utils/CommentedProperties.html\" rel=\"noreferrer\">CommentedProperties JavaDoc</a></p>\n\n<p>The jar file can be downloaded here : <a href=\"http://sourceforge.net/projects/jhpropertiestyp/\" rel=\"noreferrer\">Download jar file from sourceforge</a></p>\n"},{"tags":[],"owner":{"account_id":2105867,"reputation":17,"user_id":1872213,"display_name":"user1872213"},"comment_count":0,"down_vote_count":10,"up_vote_count":1,"is_accepted":false,"score":-9,"last_activity_date":1444386793,"creation_date":1444385650,"answer_id":33035609,"question_id":4156600,"body_markdown":"single line comment using  `#`\r\n \r\nmultiline comment using `&lt;!--   --&gt;`","title":"Can we have multiline comments in a Java properties file?","body":"<p>single line comment using  <code>#</code></p>\n\n<p>multiline comment using <code>&lt;!--   --&gt;</code></p>\n"},{"tags":[],"owner":{"account_id":4194966,"reputation":57,"user_id":3436580,"display_name":"KristoferRobin"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1529797486,"creation_date":1470640943,"answer_id":38823375,"question_id":4156600,"body_markdown":"If you are using Eclipse there is this shortcut &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;Shift&lt;/kbd&gt;+&lt;kbd&gt;A&lt;/kbd&gt; that turns on selecting a column, so you can just drag through all the rows you need to comment and add `#` (this will add it to all rows). It will be the same when you want to delete the `#`. To turn off the column selecting mode you have to again press  &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;Shift&lt;/kbd&gt;+&lt;kbd&gt;A&lt;/kbd&gt;.","title":"Can we have multiline comments in a Java properties file?","body":"<p>If you are using Eclipse there is this shortcut <kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>A</kbd> that turns on selecting a column, so you can just drag through all the rows you need to comment and add <code>#</code> (this will add it to all rows). It will be the same when you want to delete the <code>#</code>. To turn off the column selecting mode you have to again press  <kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>A</kbd>.</p>\n"},{"tags":[],"owner":{"account_id":9708485,"reputation":27,"user_id":7201210,"display_name":"Jinish Davis"},"comment_count":0,"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1479920148,"creation_date":1479918794,"answer_id":40769708,"question_id":4156600,"body_markdown":"Select the content to comment out and press &lt;kbd&gt;ctrl&lt;/kbd&gt;+&lt;kbd&gt;/&lt;/kbd&gt; on the eclipse editor","title":"Can we have multiline comments in a Java properties file?","body":"<p>Select the content to comment out and press <kbd>ctrl</kbd>+<kbd>/</kbd> on the eclipse editor</p>\n"},{"comments":[{"owner":{"account_id":5397431,"reputation":5255,"user_id":4298200,"accept_rate":62,"display_name":"Neuron"},"score":1,"creation_date":1529797566,"post_id":48657325,"comment_id":89005210,"body_markdown":"You can&#39;t just state this as a general fact. Each editor has different default key mappings.","body":"You can&#39;t just state this as a general fact. Each editor has different default key mappings."}],"tags":[],"owner":{"account_id":9248966,"reputation":98,"user_id":6870036,"display_name":"san"},"comment_count":1,"down_vote_count":3,"up_vote_count":6,"is_accepted":false,"score":3,"last_activity_date":1529797504,"creation_date":1517984903,"answer_id":48657325,"question_id":4156600,"body_markdown":"We can use &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;/&lt;/kbd&gt; to comment multiple lines in properties file. But it will put `#` for blank line also.","title":"Can we have multiline comments in a Java properties file?","body":"<p>We can use <kbd>Ctrl</kbd>+<kbd>/</kbd> to comment multiple lines in properties file. But it will put <code>#</code> for blank line also.</p>\n"}],"owner":{"account_id":33759,"reputation":36049,"user_id":94813,"accept_rate":70,"display_name":"Rakesh Juyal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116734,"favorite_count":0,"down_vote_count":1,"up_vote_count":125,"accepted_answer_id":4156633,"answer_count":8,"score":124,"last_activity_date":1691475375,"creation_date":1289492551,"question_id":4156600,"body_markdown":"In a Java `.properties` file we can do single line comments with `#`.  \r\n\r\nIs there any way by which we can do multi-line comments?","title":"Can we have multiline comments in a Java properties file?","body":"<p>In a Java <code>.properties</code> file we can do single line comments with <code>#</code>.  </p>\n\n<p>Is there any way by which we can do multi-line comments?</p>\n"},{"tags":["java","jmockit"],"answers":[{"tags":[],"owner":{"account_id":10311429,"reputation":31,"user_id":7607139,"display_name":"hakiaveli"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1487793719,"creation_date":1487793719,"answer_id":42401144,"question_id":35275899,"body_markdown":"I ran into a similar issue with many tests in my project, and for me it was simply upgrading the jmockit dependency from version 1.23 to 1.28 in my gradle build script, try upgrading it might solve your problem also","title":"jmockit mockup, getting error java.lang.NoSuchFieldError: $MMB","body":"<p>I ran into a similar issue with many tests in my project, and for me it was simply upgrading the jmockit dependency from version 1.23 to 1.28 in my gradle build script, try upgrading it might solve your problem also</p>\n"},{"tags":[],"owner":{"account_id":4915640,"reputation":1062,"user_id":3959647,"display_name":"Darshan Dalwadi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691475342,"creation_date":1691475342,"answer_id":76856871,"question_id":35275899,"body_markdown":"I was facing the same issue, I&#39;ve resolved by change my mocking.\r\nSo, it may happen due to some Invalid Mocking, for a testing purpose comment out the mocking part/method, and re-run your test case. You will surely get some clue.\r\n\r\nSometimes it may happens due to version issue as well, so if not works then upgrade the Jmockit or Junit version.","title":"jmockit mockup, getting error java.lang.NoSuchFieldError: $MMB","body":"<p>I was facing the same issue, I've resolved by change my mocking.\nSo, it may happen due to some Invalid Mocking, for a testing purpose comment out the mocking part/method, and re-run your test case. You will surely get some clue.</p>\n<p>Sometimes it may happens due to version issue as well, so if not works then upgrade the Jmockit or Junit version.</p>\n"}],"owner":{"account_id":2691177,"reputation":41,"user_id":2324507,"display_name":"Raphael Vanier"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1174,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1691475342,"creation_date":1454953229,"question_id":35275899,"body_markdown":"I am trying to Mock an application using an Android Platform. Many class use super-classe which are part of the Android classes which are unaccessible to my Unit test, this is why I thought using JMockit would solve my problem. Note that I am using also\r\n\r\norg.mockito.Mock and org.powermock.\r\n\r\nHere&#39;s a simple test I am trying to do in a class with Mockup:\r\n\r\n    // ---------------------------------------\r\n    public class Bar {\r\n        public void bar() {\r\n            System.out.println(&quot;Bar#bar()&quot;);\r\n        }\r\n\r\n        public void doSomething() {\r\n            System.out.println(&quot;do something!&quot;);\r\n        }\r\n    }\r\n\r\n    public class BarChild extends Bar {\r\n        public void BarChild() {\r\n            System.out.println(&quot;BarChild#bar()&quot;);\r\n        }\r\n\r\n        public void Call1() {\r\n            doSomething();\r\n        }\r\n    }\r\n    // ---------------------------------------\r\n\r\n    @Test\r\n    public void testMockUp() throws Exception {\r\n\r\n       new MockUp&lt;Bar&gt;() {\r\n\r\n            @mockit.Mock\r\n            public void doSomething(){\r\n                System.out.println(&quot;do something else&quot;);\r\n            }\r\n        };\r\n\r\n        BarChild obj1 = new BarChild();\r\n        obj1.Call1();\r\n   }\r\n\r\n   // ---------------------------------------\r\n\r\nThis doesn&#39;t work. It generate the following error:\r\n\r\n&gt; java.lang.NoSuchFieldError: $MMB \tat\r\n&gt; com.gtechna.officer.ui.widget.CheckableLinearLayoutTest$Bar.doSomething(CheckableLinearLayoutTest.java)\r\n&gt; \tat\r\n&gt; com.gtechna.officer.ui.widget.CheckableLinearLayoutTest$BarChild.Call1(CheckableLinearLayoutTest.java:77)\r\n&gt; \tat\r\n&gt; com.gtechna.officer.ui.widget.CheckableLinearLayoutTest.testIsChecked(CheckableLinearLayoutTest.java:110)\r\n&gt; \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) \tat\r\n&gt; sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n&gt; \tat\r\n&gt; sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n&gt; \tat org.junit.internal.runners.TestMethod.invoke(TestMethod.java:68)\r\n&gt; \tat\r\n&gt; org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl$PowerMockJUnit44MethodRunner.runTestMethod(PowerMockJUnit44RunnerDelegateImpl.java:310)\r\n&gt; \tat\r\n&gt; org.junit.internal.runners.MethodRoadie$2.run(MethodRoadie.java:88)\r\n&gt; \tat\r\n&gt; org.junit.internal.runners.MethodRoadie.runBeforesThenTestThenAfters(MethodRoadie.java:96)\r\n&gt; \tat\r\n&gt; org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl$PowerMockJUnit44MethodRunner.executeTest(PowerMockJUnit44RunnerDelegateImpl.java:294)\r\n&gt; \tat\r\n&gt; org.powermock.modules.junit4.internal.impl.PowerMockJUnit47RunnerDelegateImpl$PowerMockJUnit47MethodRunner.executeTestInSuper(PowerMockJUnit47RunnerDelegateImpl.java:127)\r\n&gt; \tat\r\n&gt; org.powermock.modules.junit4.internal.impl.PowerMockJUnit47RunnerDelegateImpl$PowerMockJUnit47MethodRunner.executeTest(PowerMockJUnit47RunnerDelegateImpl.java:82)\r\n&gt; \tat\r\n&gt; org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl$PowerMockJUnit44MethodRunner.runBeforesThenTestThenAfters(PowerMockJUnit44RunnerDelegateImpl.java:282)\r\n&gt; \tat\r\n&gt; org.junit.internal.runners.MethodRoadie.runTest(MethodRoadie.java:86)\r\n&gt; \tat org.junit.internal.runners.MethodRoadie.run(MethodRoadie.java:49)\r\n&gt; \tat\r\n&gt; org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl.invokeTestMethod(PowerMockJUnit44RunnerDelegateImpl.java:207)\r\n&gt; \tat\r\n&gt; org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl.runMethods(PowerMockJUnit44RunnerDelegateImpl.java:146)\r\n&gt; \tat\r\n&gt; org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl$1.run(PowerMockJUnit44RunnerDelegateImpl.java:120)\r\n&gt; \tat\r\n&gt; org.junit.internal.runners.ClassRoadie.runUnprotected(ClassRoadie.java:33)\r\n&gt; \tat\r\n&gt; org.junit.internal.runners.ClassRoadie.runProtected(ClassRoadie.java:45)\r\n&gt; \tat\r\n&gt; org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl.run(PowerMockJUnit44RunnerDelegateImpl.java:118)\r\n&gt; \tat\r\n&gt; org.powermock.modules.junit4.common.internal.impl.JUnit4TestSuiteChunkerImpl.run(JUnit4TestSuiteChunkerImpl.java:104)\r\n&gt; \tat\r\n&gt; org.powermock.modules.junit4.common.internal.impl.AbstractCommonPowerMockRunner.run(AbstractCommonPowerMockRunner.java:53)\r\n&gt; \tat\r\n&gt; org.powermock.modules.junit4.PowerMockRunner.run(PowerMockRunner.java:53)\r\n&gt; \tat org.junit.runner.JUnitCore.run(JUnitCore.java:160) \tat\r\n&gt; com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:78)\r\n&gt; \tat\r\n&gt; com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:212)\r\n&gt; \tat\r\n&gt; com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:68)\r\n&gt; \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) \tat\r\n&gt; sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n&gt; \tat\r\n&gt; com.intellij.rt.execution.application.AppMain.main(AppMain.java:140)\r\n\r\nI am getting the feeling that there is a dependency missing.\r\n\r\nAny help?\r\n\r\n\r\n","title":"jmockit mockup, getting error java.lang.NoSuchFieldError: $MMB","body":"<p>I am trying to Mock an application using an Android Platform. Many class use super-classe which are part of the Android classes which are unaccessible to my Unit test, this is why I thought using JMockit would solve my problem. Note that I am using also</p>\n\n<p>org.mockito.Mock and org.powermock.</p>\n\n<p>Here's a simple test I am trying to do in a class with Mockup:</p>\n\n<pre><code>// ---------------------------------------\npublic class Bar {\n    public void bar() {\n        System.out.println(\"Bar#bar()\");\n    }\n\n    public void doSomething() {\n        System.out.println(\"do something!\");\n    }\n}\n\npublic class BarChild extends Bar {\n    public void BarChild() {\n        System.out.println(\"BarChild#bar()\");\n    }\n\n    public void Call1() {\n        doSomething();\n    }\n}\n// ---------------------------------------\n\n@Test\npublic void testMockUp() throws Exception {\n\n   new MockUp&lt;Bar&gt;() {\n\n        @mockit.Mock\n        public void doSomething(){\n            System.out.println(\"do something else\");\n        }\n    };\n\n    BarChild obj1 = new BarChild();\n    obj1.Call1();\n</code></pre>\n\n<p>}</p>\n\n<p>// ---------------------------------------</p>\n\n<p>This doesn't work. It generate the following error:</p>\n\n<blockquote>\n  <p>java.lang.NoSuchFieldError: $MMB  at\n  com.gtechna.officer.ui.widget.CheckableLinearLayoutTest$Bar.doSomething(CheckableLinearLayoutTest.java)\n    at\n  com.gtechna.officer.ui.widget.CheckableLinearLayoutTest$BarChild.Call1(CheckableLinearLayoutTest.java:77)\n    at\n  com.gtechna.officer.ui.widget.CheckableLinearLayoutTest.testIsChecked(CheckableLinearLayoutTest.java:110)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)  at\n  sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at\n  sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at org.junit.internal.runners.TestMethod.invoke(TestMethod.java:68)\n    at\n  org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl$PowerMockJUnit44MethodRunner.runTestMethod(PowerMockJUnit44RunnerDelegateImpl.java:310)\n    at\n  org.junit.internal.runners.MethodRoadie$2.run(MethodRoadie.java:88)\n    at\n  org.junit.internal.runners.MethodRoadie.runBeforesThenTestThenAfters(MethodRoadie.java:96)\n    at\n  org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl$PowerMockJUnit44MethodRunner.executeTest(PowerMockJUnit44RunnerDelegateImpl.java:294)\n    at\n  org.powermock.modules.junit4.internal.impl.PowerMockJUnit47RunnerDelegateImpl$PowerMockJUnit47MethodRunner.executeTestInSuper(PowerMockJUnit47RunnerDelegateImpl.java:127)\n    at\n  org.powermock.modules.junit4.internal.impl.PowerMockJUnit47RunnerDelegateImpl$PowerMockJUnit47MethodRunner.executeTest(PowerMockJUnit47RunnerDelegateImpl.java:82)\n    at\n  org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl$PowerMockJUnit44MethodRunner.runBeforesThenTestThenAfters(PowerMockJUnit44RunnerDelegateImpl.java:282)\n    at\n  org.junit.internal.runners.MethodRoadie.runTest(MethodRoadie.java:86)\n    at org.junit.internal.runners.MethodRoadie.run(MethodRoadie.java:49)\n    at\n  org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl.invokeTestMethod(PowerMockJUnit44RunnerDelegateImpl.java:207)\n    at\n  org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl.runMethods(PowerMockJUnit44RunnerDelegateImpl.java:146)\n    at\n  org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl$1.run(PowerMockJUnit44RunnerDelegateImpl.java:120)\n    at\n  org.junit.internal.runners.ClassRoadie.runUnprotected(ClassRoadie.java:33)\n    at\n  org.junit.internal.runners.ClassRoadie.runProtected(ClassRoadie.java:45)\n    at\n  org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl.run(PowerMockJUnit44RunnerDelegateImpl.java:118)\n    at\n  org.powermock.modules.junit4.common.internal.impl.JUnit4TestSuiteChunkerImpl.run(JUnit4TestSuiteChunkerImpl.java:104)\n    at\n  org.powermock.modules.junit4.common.internal.impl.AbstractCommonPowerMockRunner.run(AbstractCommonPowerMockRunner.java:53)\n    at\n  org.powermock.modules.junit4.PowerMockRunner.run(PowerMockRunner.java:53)\n    at org.junit.runner.JUnitCore.run(JUnitCore.java:160)   at\n  com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:78)\n    at\n  com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:212)\n    at\n  com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:68)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)  at\n  sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at\n  com.intellij.rt.execution.application.AppMain.main(AppMain.java:140)</p>\n</blockquote>\n\n<p>I am getting the feeling that there is a dependency missing.</p>\n\n<p>Any help?</p>\n"},{"tags":["java","android","virtual-reality","google-vr","google-vr-sdk"],"answers":[{"comments":[{"owner":{"account_id":29181764,"reputation":1,"user_id":22355740,"display_name":"Algrow Samora"},"score":0,"creation_date":1691472850,"post_id":76856621,"comment_id":135492459,"body_markdown":"I&#39;m looking to create an Android app with a 360-degree image viewer using 30 to 35 individual images for smooth rotation, not panoramic images. Are there any recommended libraries, SDKs, or open-source GitHub repositories that can assist with this specific approach? Additionally, any guidance on implementing interactive image loading, user touch-based rotation, and transitions between images would be greatly appreciated. Thank you!","body":"I&#39;m looking to create an Android app with a 360-degree image viewer using 30 to 35 individual images for smooth rotation, not panoramic images. Are there any recommended libraries, SDKs, or open-source GitHub repositories that can assist with this specific approach? Additionally, any guidance on implementing interactive image loading, user touch-based rotation, and transitions between images would be greatly appreciated. Thank you!"}],"tags":[],"owner":{"account_id":3141660,"reputation":845,"user_id":2657011,"display_name":"Dhaval"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691471562,"creation_date":1691471562,"answer_id":76856621,"question_id":76856593,"body_markdown":"Hey follow below step might be it will be helpful for you\r\n\r\n**1) Choose a Library:**\r\nStart by selecting a suitable library for handling the 360-degree image rendering. One popular library is &quot;PanoramaGL&quot; which provides tools for creating interactive panoramas.\r\n\r\n**2) Set Up your Android Project:**\r\nCreate a new Android project in Android Studio and add the chosen library as a dependency.\r\n\r\n**3) Prepare the Images:**\r\nYou&#39;ll need 360-degree images to showcase in the viewer. These images should be in equirectangular format, which is a common format for 360-degree images.\r\n\r\n**4) Create an Activity Layout:**\r\nDesign your activity layout that will contain the 360-degree image viewer. This layout could include buttons for navigation, zooming, and other interactive features.\r\n\r\n**5) Initialize the PanoramaGL View:**\r\nIn your activity, initialize the PanoramaGL view and load the equirectangular image into it. Set up touch and gesture listeners to enable interactive rotation.\r\n\r\n**6) Implement Interactive Rotation:**\r\nUse touch and gesture events to capture user input for rotation. Translate touch movements into rotation angles and update the view accordingly. PanoramaGL provides methods for rotating the panorama view based on user interactions.\r\n\r\n**7) Add Interaction Controls:**\r\nImplement buttons or controls for zooming in/out, resetting the view to its initial position, and other interactive features you want to provide.\r\n\r\n**8) Handling Gyroscope Sensor (Optional):**\r\nIf you want to take advantage of the device&#39;s gyroscope sensor, you can integrate it to allow users to move the device around to explore the panorama.\r\n\r\n**9) Testing and Debugging:**\r\nTest your 360-degree image viewer on different devices and orientations. Debug and refine your code as needed to ensure smooth and intuitive interaction.\r\n\r\n**10) Performance Optimization:**\r\nRendering 360-degree images can be resource-intensive. Optimize your code for performance to ensure smooth rotation and minimal lag.\r\n\r\n**11) Documentation and User Instructions:**\r\nProvide clear instructions on how to interact with the viewer. Document any features you&#39;ve implemented and how users can navigate the panoramic image.\r\n\r\n**12) Publish and Distribute:**\r\nOnce you&#39;re satisfied with your 360-degree image viewer, package your app for distribution on the Google Play Store or any other desired platform.\r\n\r\nRemember that the specifics of implementation may vary depending on the library you choose and your app&#39;s requirements. Be sure to refer to the documentation of the chosen library for detailed instructions and examples tailored to that library&#39;s features.","title":"Building a 360-Degree Image Viewer with Interactive Rotation in Android","body":"<p>Hey follow below step might be it will be helpful for you</p>\n<p><strong>1) Choose a Library:</strong>\nStart by selecting a suitable library for handling the 360-degree image rendering. One popular library is &quot;PanoramaGL&quot; which provides tools for creating interactive panoramas.</p>\n<p><strong>2) Set Up your Android Project:</strong>\nCreate a new Android project in Android Studio and add the chosen library as a dependency.</p>\n<p><strong>3) Prepare the Images:</strong>\nYou'll need 360-degree images to showcase in the viewer. These images should be in equirectangular format, which is a common format for 360-degree images.</p>\n<p><strong>4) Create an Activity Layout:</strong>\nDesign your activity layout that will contain the 360-degree image viewer. This layout could include buttons for navigation, zooming, and other interactive features.</p>\n<p><strong>5) Initialize the PanoramaGL View:</strong>\nIn your activity, initialize the PanoramaGL view and load the equirectangular image into it. Set up touch and gesture listeners to enable interactive rotation.</p>\n<p><strong>6) Implement Interactive Rotation:</strong>\nUse touch and gesture events to capture user input for rotation. Translate touch movements into rotation angles and update the view accordingly. PanoramaGL provides methods for rotating the panorama view based on user interactions.</p>\n<p><strong>7) Add Interaction Controls:</strong>\nImplement buttons or controls for zooming in/out, resetting the view to its initial position, and other interactive features you want to provide.</p>\n<p><strong>8) Handling Gyroscope Sensor (Optional):</strong>\nIf you want to take advantage of the device's gyroscope sensor, you can integrate it to allow users to move the device around to explore the panorama.</p>\n<p><strong>9) Testing and Debugging:</strong>\nTest your 360-degree image viewer on different devices and orientations. Debug and refine your code as needed to ensure smooth and intuitive interaction.</p>\n<p><strong>10) Performance Optimization:</strong>\nRendering 360-degree images can be resource-intensive. Optimize your code for performance to ensure smooth rotation and minimal lag.</p>\n<p><strong>11) Documentation and User Instructions:</strong>\nProvide clear instructions on how to interact with the viewer. Document any features you've implemented and how users can navigate the panoramic image.</p>\n<p><strong>12) Publish and Distribute:</strong>\nOnce you're satisfied with your 360-degree image viewer, package your app for distribution on the Google Play Store or any other desired platform.</p>\n<p>Remember that the specifics of implementation may vary depending on the library you choose and your app's requirements. Be sure to refer to the documentation of the chosen library for detailed instructions and examples tailored to that library's features.</p>\n"}],"owner":{"account_id":29181764,"reputation":1,"user_id":22355740,"display_name":"Algrow Samora"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":171,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691475142,"creation_date":1691471059,"question_id":76856593,"body_markdown":"How to create a 360-degree image viewer with interactive rotation in an Android app, similar to YouTube&#39;s VR view? I have 30-35 images for different angles. How can I efficiently load and display images, handle user interaction, achieve smooth transitions, optimize performance, and potentially integrate device sensors? \r\n\r\nAny advice, code snippets, or recommended libraries would be greatly appreciated.","title":"Building a 360-Degree Image Viewer with Interactive Rotation in Android","body":"<p>How to create a 360-degree image viewer with interactive rotation in an Android app, similar to YouTube's VR view? I have 30-35 images for different angles. How can I efficiently load and display images, handle user interaction, achieve smooth transitions, optimize performance, and potentially integrate device sensors?</p>\n<p>Any advice, code snippets, or recommended libraries would be greatly appreciated.</p>\n"},{"tags":["java","mysql","hibernate"],"answers":[{"comments":[{"owner":{"account_id":7565436,"reputation":1179,"user_id":5741227,"accept_rate":86,"display_name":"iamjoshua"},"score":1,"creation_date":1554626449,"post_id":50855623,"comment_id":97814938,"body_markdown":"Worked for me. Thanks. I only encountered this issue though when working with MySql on Windows 10 instead of Linux. The steps on how to setup MySql with IntelliJ on Ubuntu is different than on Windows 10.So I prolly missed some steps when initializing MySql in Windows 10.","body":"Worked for me. Thanks. I only encountered this issue though when working with MySql on Windows 10 instead of Linux. The steps on how to setup MySql with IntelliJ on Ubuntu is different than on Windows 10.So I prolly missed some steps when initializing MySql in Windows 10."},{"owner":{"account_id":1466637,"reputation":22094,"user_id":1379286,"accept_rate":66,"display_name":"PeakGen"},"score":0,"creation_date":1628584480,"post_id":50855623,"comment_id":121453359,"body_markdown":"As of 2021, going ahead with the latest mysql driver is the best solution.","body":"As of 2021, going ahead with the latest mysql driver is the best solution."}],"tags":[],"owner":{"display_name":"user9927978"},"comment_count":2,"down_vote_count":0,"up_vote_count":65,"is_accepted":true,"score":65,"last_activity_date":1528973054,"creation_date":1528973054,"answer_id":50855623,"question_id":50855622,"body_markdown":"Some further investigation showed that the issue was exactly in changes which were done in MySQL v.8.0:\r\n\r\n&gt; Character Set Support \r\n&gt;\r\n&gt; Important Change: The default character set has\r\n&gt; changed from latin1 to utf8mb4. These system variables are affected:\r\n&gt; \r\n&gt; The default value of the character_set_server and\r\n&gt; character_set_database system variables has changed from **latin1** to\r\n&gt; **utf8mb4**. \r\n&gt; \r\n&gt; The default value of the collation_server and\r\n&gt; collation_database system variables has changed from **latin1_swedish_ci**\r\n&gt; to **utf8mb4_0900_ai_ci**.\r\n\r\nAll these change were already processed in new version of mysql-connector-java and there is no need to configure your MySQL. So change from `5.1.6` to `5.1.44` fix the issue:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n        &lt;version&gt;5.1.44&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"Unknown initial character set index &#39;255&#39; received from server","body":"<p>Some further investigation showed that the issue was exactly in changes which were done in MySQL v.8.0:</p>\n\n<blockquote>\n  <p>Character Set Support </p>\n  \n  <p>Important Change: The default character set has\n  changed from latin1 to utf8mb4. These system variables are affected:</p>\n  \n  <p>The default value of the character_set_server and\n  character_set_database system variables has changed from <strong>latin1</strong> to\n  <strong>utf8mb4</strong>. </p>\n  \n  <p>The default value of the collation_server and\n  collation_database system variables has changed from <strong>latin1_swedish_ci</strong>\n  to <strong>utf8mb4_0900_ai_ci</strong>.</p>\n</blockquote>\n\n<p>All these change were already processed in new version of mysql-connector-java and there is no need to configure your MySQL. So change from <code>5.1.6</code> to <code>5.1.44</code> fix the issue:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;mysql&lt;/groupId&gt;\n    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n    &lt;version&gt;5.1.44&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13864118,"reputation":1,"user_id":10008978,"display_name":"Vivek Seth"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1531939677,"creation_date":1531939677,"answer_id":51409045,"question_id":50855622,"body_markdown":"I faced the same problem for mysql version 8.0.11 while connection with Java 8 client program. As a solution, I downloaded the latest connector from mysql official site.Below I have mentioned the link:\r\nhttps://dev.mysql.com/downloads/connector/j/\r\n\r\nChoose Platform independent as operating system and download the zip archive.Add the available jar in your build path(add as an external jar).\r\n\r\nHope this would solve your problem :)","title":"Unknown initial character set index &#39;255&#39; received from server","body":"<p>I faced the same problem for mysql version 8.0.11 while connection with Java 8 client program. As a solution, I downloaded the latest connector from mysql official site.Below I have mentioned the link:\n<a href=\"https://dev.mysql.com/downloads/connector/j/\" rel=\"nofollow noreferrer\">https://dev.mysql.com/downloads/connector/j/</a></p>\n\n<p>Choose Platform independent as operating system and download the zip archive.Add the available jar in your build path(add as an external jar).</p>\n\n<p>Hope this would solve your problem :)</p>\n"},{"comments":[{"owner":{"account_id":436264,"reputation":3362,"user_id":823321,"display_name":"sɐunıɔןɐqɐp"},"score":3,"creation_date":1534894013,"post_id":51957844,"comment_id":90866359,"body_markdown":"(This post does not seem to provide a [quality answer](https://stackoverflow.com/help/how-to-answer) to the question. Please either edit your answer and improve it, or just post it as a comment to the question).","body":"(This post does not seem to provide a <a href=\"https://stackoverflow.com/help/how-to-answer\">quality answer</a> to the question. Please either edit your answer and improve it, or just post it as a comment to the question)."}],"tags":[],"owner":{"account_id":14198536,"reputation":7,"user_id":10257080,"display_name":"Ankur"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1534892819,"creation_date":1534892819,"answer_id":51957844,"question_id":50855622,"body_markdown":"You need this connector : Connector\\J 5.1 driver.\r\n\r\n This is the compatible connector","title":"Unknown initial character set index &#39;255&#39; received from server","body":"<p>You need this connector : Connector\\J 5.1 driver.</p>\n\n<p>This is the compatible connector</p>\n"},{"comments":[{"owner":{"account_id":1530469,"reputation":3134,"user_id":1427776,"accept_rate":73,"display_name":"Deven"},"score":0,"creation_date":1661102590,"post_id":55098489,"comment_id":129686601,"body_markdown":"Getting: java.sql.SQLException: Can&#39;t find configuration template named &#39;maxPerformance&#39;","body":"Getting: java.sql.SQLException: Can&#39;t find configuration template named &#39;maxPerformance&#39;"},{"owner":{"account_id":3808215,"reputation":157,"user_id":3159966,"accept_rate":20,"display_name":"Aamir Altaf Kathu"},"score":0,"creation_date":1691779629,"post_id":55098489,"comment_id":135542883,"body_markdown":"Just adding ?characterEncoding=latin1 did the job","body":"Just adding ?characterEncoding=latin1 did the job"}],"tags":[],"owner":{"account_id":15502824,"reputation":391,"user_id":11183741,"display_name":"Ashish Vyas"},"comment_count":2,"down_vote_count":0,"up_vote_count":39,"is_accepted":false,"score":39,"last_activity_date":1552296739,"creation_date":1552295630,"answer_id":55098489,"question_id":50855622,"body_markdown":"User below URL, It works for me.\r\n\r\n    url=jdbc:mysql://localhost:3306/hybrisdb?characterEncoding=latin1&amp;useConfigs=maxPerformance","title":"Unknown initial character set index &#39;255&#39; received from server","body":"<p>User below URL, It works for me.</p>\n\n<pre><code>url=jdbc:mysql://localhost:3306/hybrisdb?characterEncoding=latin1&amp;useConfigs=maxPerformance\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3153937,"reputation":199,"user_id":2666730,"display_name":"Aly Radwan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1553058704,"creation_date":1553058704,"answer_id":55253925,"question_id":50855622,"body_markdown":"type this property in your hibernate.xml\r\n\r\n    &lt;property name=&quot;hibernate.connection.characterEncoding&quot;&gt;utf8&lt;/property&gt;   \r\nand update your mysql connector to\r\n\r\n     &lt;dependency&gt;\r\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n        &lt;version&gt;8.0.15&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n","title":"Unknown initial character set index &#39;255&#39; received from server","body":"<p>type this property in your hibernate.xml</p>\n\n<pre><code>&lt;property name=\"hibernate.connection.characterEncoding\"&gt;utf8&lt;/property&gt;   \n</code></pre>\n\n<p>and update your mysql connector to</p>\n\n<pre><code> &lt;dependency&gt;\n    &lt;groupId&gt;mysql&lt;/groupId&gt;\n    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n    &lt;version&gt;8.0.15&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2349225,"reputation":26836,"user_id":2058547,"accept_rate":60,"display_name":"Ojonugwa Jude Ochalifu"},"score":0,"creation_date":1619986020,"post_id":55442470,"comment_id":119062831,"body_markdown":"This worked for me. I was using 5.1.6, changed it to 5.1.44. Crazy stuff","body":"This worked for me. I was using 5.1.6, changed it to 5.1.44. Crazy stuff"}],"tags":[],"owner":{"account_id":5902066,"reputation":573,"user_id":4645233,"display_name":"Junior Vieira"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1554046152,"creation_date":1554046152,"answer_id":55442470,"question_id":50855622,"body_markdown":"This below change worked to me\r\n\r\n    \t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.1.44&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\nfor this connection\r\n\r\n    \t@Bean\r\n\t@Profile(&quot;dev&quot;)\r\n\tpublic DataSource dataSourceDev() {\r\n\t\tDriverManagerDataSource dataSource = new DriverManagerDataSource();\r\n\t\tdataSource.setUsername(&quot;root&quot;);\r\n\t\tdataSource.setPassword(&quot;password&quot;);\r\n\t\tdataSource.setUrl(&quot;jdbc:mysql://localhost:3306/&lt;yourdatabasehere&gt;&quot;);\r\n\t\tdataSource.setDriverClassName(&quot;com.mysql.jdbc.Driver&quot;);\r\n\t\treturn dataSource;\r\n\t}","title":"Unknown initial character set index &#39;255&#39; received from server","body":"<p>This below change worked to me</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;version&gt;5.1.44&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>for this connection</p>\n\n<pre><code>    @Bean\n@Profile(\"dev\")\npublic DataSource dataSourceDev() {\n    DriverManagerDataSource dataSource = new DriverManagerDataSource();\n    dataSource.setUsername(\"root\");\n    dataSource.setPassword(\"password\");\n    dataSource.setUrl(\"jdbc:mysql://localhost:3306/&lt;yourdatabasehere&gt;\");\n    dataSource.setDriverClassName(\"com.mysql.jdbc.Driver\");\n    return dataSource;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15826113,"reputation":1,"user_id":11418917,"display_name":"Asif Raza"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1562237914,"creation_date":1562237914,"answer_id":56886485,"question_id":50855622,"body_markdown":"to solve this problem change driver class name as given below \r\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\nthis is working fine for me in mysql server 8.0.16 and mysql connector 8.0.16 \r\n\r\n    `spring.datasource.password=root\r\n    spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\n    spring.datasource.url=jdbc:mysql://localhost:3306/mydb\r\n    spring.jpa.hibernate.ddl-auto=create\r\n    hibernate.dialect=org.hibernate.dialect.MySQL5Dialect` ","title":"Unknown initial character set index &#39;255&#39; received from server","body":"<p>to solve this problem change driver class name as given below \nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\nthis is working fine for me in mysql server 8.0.16 and mysql connector 8.0.16 </p>\n\n<pre><code>`spring.datasource.password=root\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\nspring.datasource.url=jdbc:mysql://localhost:3306/mydb\nspring.jpa.hibernate.ddl-auto=create\nhibernate.dialect=org.hibernate.dialect.MySQL5Dialect` \n</code></pre>\n"},{"tags":[],"owner":{"account_id":17235345,"reputation":11,"user_id":12478951,"display_name":"Sneha K.P"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1575452324,"creation_date":1575452324,"answer_id":59172881,"question_id":50855622,"body_markdown":"Was facing the same issue.. So I updated the connector version(8.0.18) and it was resolved. ","title":"Unknown initial character set index &#39;255&#39; received from server","body":"<p>Was facing the same issue.. So I updated the connector version(8.0.18) and it was resolved. </p>\n"},{"tags":[],"owner":{"account_id":13139344,"reputation":955,"user_id":9491394,"display_name":"MangduYogii"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1582206123,"creation_date":1582206123,"answer_id":60321329,"question_id":50855622,"body_markdown":"This Works for me!     \r\n\r\n     &lt;property name=&quot;JDBC.ConnectionURL&quot;  value=&quot;jdbc:mysql://localhost:3306/empdemo?characterEncoding=utf8&quot;&gt;&lt;/property&gt;\r\n","title":"Unknown initial character set index &#39;255&#39; received from server","body":"<p>This Works for me!     </p>\n\n<pre><code> &lt;property name=\"JDBC.ConnectionURL\"  value=\"jdbc:mysql://localhost:3306/empdemo?characterEncoding=utf8\"&gt;&lt;/property&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17846535,"reputation":11,"user_id":12963198,"display_name":"Gian"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1585500336,"creation_date":1585498776,"answer_id":60917234,"question_id":50855622,"body_markdown":"What helped for me was appending this to my URL:\r\n\r\n    useUnicode=true&amp;character_set_server=utf8mb4&amp;useLegacyDatetimeCode=false\r\n\r\nThis completely fixed the issue.","title":"Unknown initial character set index &#39;255&#39; received from server","body":"<p>What helped for me was appending this to my URL:</p>\n\n<pre><code>useUnicode=true&amp;character_set_server=utf8mb4&amp;useLegacyDatetimeCode=false\n</code></pre>\n\n<p>This completely fixed the issue.</p>\n"},{"tags":[],"owner":{"account_id":21624111,"reputation":11,"user_id":15948668,"display_name":"Ashish Gupta"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1621255446,"creation_date":1621239235,"answer_id":67566113,"question_id":50855622,"body_markdown":"use below url:-\r\n\r\n```\r\nurl = &quot;jdbc:mysql://localhost:3306/dbName?characterEncoding=latin1&amp;useConfigs=maxPerformance&quot;,&quot;root&quot;,&quot;password&quot; ```","title":"Unknown initial character set index &#39;255&#39; received from server","body":"<p>use below url:-</p>\n<pre><code>url = &quot;jdbc:mysql://localhost:3306/dbName?characterEncoding=latin1&amp;useConfigs=maxPerformance&quot;,&quot;root&quot;,&quot;password&quot; ```\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14323983,"reputation":117,"user_id":10346583,"display_name":"Chethana Udatiyawalage"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1625229140,"creation_date":1625131738,"answer_id":68207707,"question_id":50855622,"body_markdown":"This works for me and you can try this too :)\r\n\r\n```\r\nurl=&quot;jdbc:mysql://localhost:3306/dbname?characterEncoding=utf8&quot;\r\n```","title":"Unknown initial character set index &#39;255&#39; received from server","body":"<p>This works for me and you can try this too :)</p>\n<pre><code>url=&quot;jdbc:mysql://localhost:3306/dbname?characterEncoding=utf8&quot;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1650528781,"post_id":71950686,"comment_id":127140346,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/71950686/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":24779252,"reputation":1,"user_id":18662743,"display_name":"zxczhai"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650527170,"creation_date":1650527170,"answer_id":71950686,"question_id":50855622,"body_markdown":"I think the Initial client character set should be forced via the &#39;characterEncoding&#39; property.\\\r\nso this worked for me:\r\n``` java\r\njdbc:mysql://localhost:3306/bookmanagersystem?characterEncoding=latin1&amp;useConfigs=maxPerformance\r\n``` ","title":"Unknown initial character set index &#39;255&#39; received from server","body":"<p>I think the Initial client character set should be forced via the 'characterEncoding' property.<br />\nso this worked for me:</p>\n<pre class=\"lang-java prettyprint-override\"><code>jdbc:mysql://localhost:3306/bookmanagersystem?characterEncoding=latin1&amp;useConfigs=maxPerformance\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27428810,"reputation":1,"user_id":20925855,"display_name":"Pranav"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673812682,"creation_date":1673698649,"answer_id":75117850,"question_id":50855622,"body_markdown":"I got the same error , following edit in the hibernate.cfg.xml file resolved  the issue for me :\r\n\r\n```xml\r\n&lt;property name=&quot;connection.url&quot;&gt;jdbc:mysql://localhost:3306/dbName?characterEncoding=utf8&lt;/property&gt;\r\n```","title":"Unknown initial character set index &#39;255&#39; received from server","body":"<p>I got the same error , following edit in the hibernate.cfg.xml file resolved  the issue for me :</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;property name=&quot;connection.url&quot;&gt;jdbc:mysql://localhost:3306/dbName?characterEncoding=utf8&lt;/property&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3092653,"reputation":1,"user_id":2618469,"display_name":"Afroze Raheel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691475087,"creation_date":1691475087,"answer_id":76856856,"question_id":50855622,"body_markdown":"I had same issue, MySql was upgrade to 8.0.34 from version 5 but problem was my java code base is 1.6, struggled alot to find right version which would work with both and found below solution worked for me\r\n\r\nMySql Connector = mysql-connector-java-5.1.16\r\n\r\nConnection = jdbc:mysql://localhost:3306/somedb?characterEncoding=latin1&amp;useSSL=false\r\n","title":"Unknown initial character set index &#39;255&#39; received from server","body":"<p>I had same issue, MySql was upgrade to 8.0.34 from version 5 but problem was my java code base is 1.6, struggled alot to find right version which would work with both and found below solution worked for me</p>\n<p>MySql Connector = mysql-connector-java-5.1.16</p>\n<p>Connection = jdbc:mysql://localhost:3306/somedb?characterEncoding=latin1&amp;useSSL=false</p>\n"}],"owner":{"display_name":"user9927978"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110500,"favorite_count":0,"down_vote_count":0,"up_vote_count":37,"accepted_answer_id":50855623,"answer_count":15,"score":37,"last_activity_date":1691475087,"creation_date":1528973054,"question_id":50855622,"body_markdown":"During attempt to create HibernateSession application fails with exception:\r\n\r\n&gt; Caused by: java.sql.SQLException: Unknown initial character set index\r\n&gt; &#39;255&#39; received from server. Initial client character set can be forced\r\n&gt; via the &#39;characterEncoding&#39; property. \tat\r\n&gt; com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1055) \tat\r\n&gt; com.mysql.jdbc.SQLError.createSQLException(SQLError.java:956) \tat\r\n&gt; com.mysql.jdbc.SQLError.createSQLException(SQLError.java:926)\r\n\r\n\t\r\nI found one possible solution [here][1] but unfortunately I do not have access to DB server thus I cannot change its configuration. \r\n*So please pay attention that this is not a duplicate, because suggested solution was provided for the DB server changes and in my case I don&#39;t have such access.*\r\n\r\nIs it any chance to fix this issue on client side? Below you can find my pom.xml file and java code where I create session.\r\n\r\n    import org.hibernate.SessionFactory;\r\n    import org.hibernate.cfg.Configuration;\r\n    \r\n    public class HibernateUtil {\r\n        private static final SessionFactory sessionFactory = buildSessionFactory();\r\n    \r\n        private static SessionFactory buildSessionFactory() {\r\n            try {\r\n                // Create the SessionFactory from hibernate.cfg.xml\r\n                return new Configuration().configure().buildSessionFactory();\r\n            } catch (Throwable ex) {\r\n                // Make sure you log the exception, as it might be swallowed\r\n                System.err.println(&quot;Initial SessionFactory creation failed.&quot; + ex);\r\n                throw new ExceptionInInitializerError(ex);\r\n            }\r\n        }\r\n    \r\n        public static SessionFactory getSessionFactory() {\r\n            return sessionFactory;\r\n        }\r\n    \r\n        public static void shutdown() {\r\n            // Close caches and connection pools\r\n            getSessionFactory().close();\r\n        }\r\n    }\r\n\r\nAnd my pom.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n        ...\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n                &lt;version&gt;5.1.6&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n                &lt;version&gt;4.3.5.Final&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n                &lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n                &lt;version&gt;6.9.12&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/project&gt; \r\n\r\n  [1]: https://stackoverflow.com/questions/43991101/re-introduced-unknown-initial-character-set-index-error\r\n","title":"Unknown initial character set index &#39;255&#39; received from server","body":"<p>During attempt to create HibernateSession application fails with exception:</p>\n\n<blockquote>\n  <p>Caused by: java.sql.SQLException: Unknown initial character set index\n  '255' received from server. Initial client character set can be forced\n  via the 'characterEncoding' property.     at\n  com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1055)    at\n  com.mysql.jdbc.SQLError.createSQLException(SQLError.java:956)     at\n  com.mysql.jdbc.SQLError.createSQLException(SQLError.java:926)</p>\n</blockquote>\n\n<p>I found one possible solution <a href=\"https://stackoverflow.com/questions/43991101/re-introduced-unknown-initial-character-set-index-error\">here</a> but unfortunately I do not have access to DB server thus I cannot change its configuration. \n<em>So please pay attention that this is not a duplicate, because suggested solution was provided for the DB server changes and in my case I don't have such access.</em></p>\n\n<p>Is it any chance to fix this issue on client side? Below you can find my pom.xml file and java code where I create session.</p>\n\n<pre><code>import org.hibernate.SessionFactory;\nimport org.hibernate.cfg.Configuration;\n\npublic class HibernateUtil {\n    private static final SessionFactory sessionFactory = buildSessionFactory();\n\n    private static SessionFactory buildSessionFactory() {\n        try {\n            // Create the SessionFactory from hibernate.cfg.xml\n            return new Configuration().configure().buildSessionFactory();\n        } catch (Throwable ex) {\n            // Make sure you log the exception, as it might be swallowed\n            System.err.println(\"Initial SessionFactory creation failed.\" + ex);\n            throw new ExceptionInInitializerError(ex);\n        }\n    }\n\n    public static SessionFactory getSessionFactory() {\n        return sessionFactory;\n    }\n\n    public static void shutdown() {\n        // Close caches and connection pools\n        getSessionFactory().close();\n    }\n}\n</code></pre>\n\n<p>And my pom.xml:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd\"&gt;\n    ...\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;5.1.6&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;version&gt;4.3.5.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.testng&lt;/groupId&gt;\n            &lt;artifactId&gt;testng&lt;/artifactId&gt;\n            &lt;version&gt;6.9.12&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt; \n</code></pre>\n"},{"tags":["java","solr","solrcloud"],"answers":[{"comments":[{"owner":{"account_id":13404844,"reputation":353,"user_id":9673158,"display_name":"Chirag Shah"},"score":0,"creation_date":1688021756,"post_id":44391639,"comment_id":135018344,"body_markdown":"Now with SOLR version 8.6.0, it is possible to join between multiple shared and multiple collection. I tried to achieve the same but getting error. Please refer \nhttps://stackoverflow.com/questions/76578595/apache-solr-from-version-8-6-0-joining-between-multiple-collections-and-multip","body":"Now with SOLR version 8.6.0, it is possible to join between multiple shared and multiple collection. I tried to achieve the same but getting error. Please refer  <a href=\"https://stackoverflow.com/questions/76578595/apache-solr-from-version-8-6-0-joining-between-multiple-collections-and-multip\" title=\"apache solr from version 8 6 0 joining between multiple collections and multip\">stackoverflow.com/questions/76578595/&hellip;</a>"}],"tags":[],"owner":{"account_id":11056363,"reputation":495,"user_id":8119084,"display_name":"szogoon"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1496756422,"creation_date":1496756422,"answer_id":44391639,"question_id":44127489,"body_markdown":"https://wiki.apache.org/solr/DistributedSearch - Distributed Search doesn&#39;t support join.\r\nSo SolrCloud can do join only when index is not splited to shards.","title":"Solr join for multiple collection with each collection have multiple shards","body":"<p><a href=\"https://wiki.apache.org/solr/DistributedSearch\" rel=\"nofollow noreferrer\">https://wiki.apache.org/solr/DistributedSearch</a> - Distributed Search doesn't support join.\nSo SolrCloud can do join only when index is not splited to shards.</p>\n"}],"owner":{"account_id":7653119,"reputation":69,"user_id":5801045,"display_name":"Ompratap Singh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1285,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":44391639,"answer_count":1,"score":1,"last_activity_date":1691475062,"creation_date":1495521569,"question_id":44127489,"body_markdown":"I have *two collections*: \r\n\r\n- `CollectionOne` with two shards `(shard1, shard2)` have `id`, `name`, and `Address` fields\r\n\r\n- `CollectionTwo` with shards `(shard1,shard2)` have `c_id`, `code`, and `State` fields.\r\n\r\nI want the result from two collection on `id=c_id` base using `join`.\r\n\r\nPlease provide me full help! I am using `Solr` version 6.1.0.","title":"Solr join for multiple collection with each collection have multiple shards","body":"<p>I have <em>two collections</em>: </p>\n\n<ul>\n<li><p><code>CollectionOne</code> with two shards <code>(shard1, shard2)</code> have <code>id</code>, <code>name</code>, and <code>Address</code> fields</p></li>\n<li><p><code>CollectionTwo</code> with shards <code>(shard1,shard2)</code> have <code>c_id</code>, <code>code</code>, and <code>State</code> fields.</p></li>\n</ul>\n\n<p>I want the result from two collection on <code>id=c_id</code> base using <code>join</code>.</p>\n\n<p>Please provide me full help! I am using <code>Solr</code> version 6.1.0.</p>\n"},{"tags":["java","android","kotlin"],"answers":[{"comments":[{"owner":{"account_id":20734702,"reputation":41,"user_id":15225794,"display_name":"Daniil Andreev"},"score":0,"creation_date":1620051126,"post_id":67368824,"comment_id":119079965,"body_markdown":"I know how to use animations. I need animation on pop back stack.","body":"I know how to use animations. I need animation on pop back stack."},{"owner":{"account_id":3873780,"reputation":153,"user_id":3208406,"display_name":"mosyonal"},"score":0,"creation_date":1620053352,"post_id":67368824,"comment_id":119080939,"body_markdown":"When you add animation to navigation like the first code part I suggest you can see it automatically animated on pop back stack. That is how you animate on navigation transactions.","body":"When you add animation to navigation like the first code part I suggest you can see it automatically animated on pop back stack. That is how you animate on navigation transactions."}],"tags":[],"owner":{"account_id":3873780,"reputation":153,"user_id":3208406,"display_name":"mosyonal"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1620044488,"creation_date":1620044488,"answer_id":67368824,"question_id":67368397,"body_markdown":"You can add animation with using navigation xml file like this.\r\n\r\n     &lt;action\r\n            android:id=&quot;@+id/something&quot;\r\n            app:destination=&quot;@id/destionation_fragment&quot;\r\n            app:enterAnim=&quot;@anim/slide_in_right&quot;\r\n            app:exitAnim=&quot;@anim/slide_out_left&quot;\r\n            app:popEnterAnim=&quot;@anim/slide_in_left&quot;\r\n            app:popExitAnim=&quot;@anim/slide_out_right&quot; /&gt;\r\n\r\nHere an example of animation:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;set xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:shareInterpolator=&quot;true&quot;&gt;\r\n    &lt;translate\r\n        android:duration=&quot;@integer/medior_anim_time&quot;\r\n        android:interpolator=&quot;@android:anim/decelerate_interpolator&quot;\r\n        android:fromXDelta=&quot;0%&quot;\r\n        android:fromYDelta=&quot;0%&quot;\r\n        android:toXDelta=&quot;-100%&quot;\r\n        android:toYDelta=&quot;0%&quot; /&gt;\r\n    &lt;/set&gt;\r\n\r\nYou can add whatever animation you want.","title":"How can I add animation to pop back stack?","body":"<p>You can add animation with using navigation xml file like this.</p>\n<pre><code> &lt;action\n        android:id=&quot;@+id/something&quot;\n        app:destination=&quot;@id/destionation_fragment&quot;\n        app:enterAnim=&quot;@anim/slide_in_right&quot;\n        app:exitAnim=&quot;@anim/slide_out_left&quot;\n        app:popEnterAnim=&quot;@anim/slide_in_left&quot;\n        app:popExitAnim=&quot;@anim/slide_out_right&quot; /&gt;\n</code></pre>\n<p>Here an example of animation:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;set xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nandroid:shareInterpolator=&quot;true&quot;&gt;\n&lt;translate\n    android:duration=&quot;@integer/medior_anim_time&quot;\n    android:interpolator=&quot;@android:anim/decelerate_interpolator&quot;\n    android:fromXDelta=&quot;0%&quot;\n    android:fromYDelta=&quot;0%&quot;\n    android:toXDelta=&quot;-100%&quot;\n    android:toYDelta=&quot;0%&quot; /&gt;\n&lt;/set&gt;\n</code></pre>\n<p>You can add whatever animation you want.</p>\n"},{"tags":[],"owner":{"account_id":29012930,"reputation":1,"user_id":22224027,"display_name":"Kaushalya Vishwanath"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691473656,"creation_date":1691449575,"answer_id":76855620,"question_id":67368397,"body_markdown":"My fragment transaction method looks like this,\r\n\r\n     public void replaceFragment(Fragment fragment, String tag){\r\n        FragmentManager fragmentManager = getSupportFragmentManager();\r\n        FragmentTransaction fragmentTransaction = fragmentManager.beginTransaction();\r\n       fragmentTransaction.setCustomAnimations(anim.fade_in, anim.fade_out,anim.fade_in, anim.fade_out);\r\n        fragmentTransaction.replace(id.framelayout1, fragment, tag);\r\n        fragmentTransaction.addToBackStack(&quot;tag&quot;);\r\n        fragmentTransaction.commit();\r\n\r\nI have set custom animations using\r\n\r\n    fragmentTransaction.setCustomAnimations(anim.fade_in, anim.fade_out,anim.fade_in, anim.fade_out);\r\n\r\nYou can see that I have used the same In and Out animation twice.\r\n\r\nCode can run with one In and out animation pair. But when we pop to the back stack it doesn&#39;t give any animation.\r\n\r\nWhen we use the same animation pair again it is assigned as (popEnter, popExit).\r\n\r\nThen it gives animations on popBackStack. You can use other animation pair If you want.\r\n\r\nTested and supported on API 33.","title":"How can I add animation to pop back stack?","body":"<p>My fragment transaction method looks like this,</p>\n<pre><code> public void replaceFragment(Fragment fragment, String tag){\n    FragmentManager fragmentManager = getSupportFragmentManager();\n    FragmentTransaction fragmentTransaction = fragmentManager.beginTransaction();\n   fragmentTransaction.setCustomAnimations(anim.fade_in, anim.fade_out,anim.fade_in, anim.fade_out);\n    fragmentTransaction.replace(id.framelayout1, fragment, tag);\n    fragmentTransaction.addToBackStack(&quot;tag&quot;);\n    fragmentTransaction.commit();\n</code></pre>\n<p>I have set custom animations using</p>\n<pre><code>fragmentTransaction.setCustomAnimations(anim.fade_in, anim.fade_out,anim.fade_in, anim.fade_out);\n</code></pre>\n<p>You can see that I have used the same In and Out animation twice.</p>\n<p>Code can run with one In and out animation pair. But when we pop to the back stack it doesn't give any animation.</p>\n<p>When we use the same animation pair again it is assigned as (popEnter, popExit).</p>\n<p>Then it gives animations on popBackStack. You can use other animation pair If you want.</p>\n<p>Tested and supported on API 33.</p>\n"}],"owner":{"account_id":20734702,"reputation":41,"user_id":15225794,"display_name":"Daniil Andreev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":425,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1691473656,"creation_date":1620042344,"question_id":67368397,"body_markdown":"I&#39;m creating a Kotlin app. How can I set exit or enter animation to pop back stack with navigation component? My code:\r\n```navHostFragment.findNavController().popBackStack()```","title":"How can I add animation to pop back stack?","body":"<p>I'm creating a Kotlin app. How can I set exit or enter animation to pop back stack with navigation component? My code:\n<code>navHostFragment.findNavController().popBackStack()</code></p>\n"},{"tags":["java","android","tcpclient","tcpserver"],"owner":{"account_id":16240845,"reputation":7,"user_id":11727221,"display_name":"Rahul Nakum"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691473452,"creation_date":1691473133,"question_id":76856711,"body_markdown":"I have button for printing data for this I&#39;ve set listener method. Here it send Msg to server for pdf document using ```HomeFragment.java``` and store in a directory using ```TcpClient.java``` \r\n\r\n```\r\nHomeFragment.java\r\n\r\n holder.btnPrint.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    if (haveNetworkConnection()) {\r\n                        if (socketTask != null) {\r\n                            new Thread(() -&gt; {\r\n                                if (socketTask.getTcpClient() != null) {\r\n                                    if (socketTask.getTcpClient().getSocket() != null) {\r\n                                        if (socketTask.getTcpClient().getSocket().isConnected()) {\r\n                                            socketTask.getTcpClient().sendMessage(&quot;TAGPRINT:&quot; + holder.chipTagNo.getText().toString() + &quot;:&quot; + edt_gst.getText().toString()\r\n                                                    + &quot;:&quot; + holder.txt_making_charge.getText().toString() + &quot;:&quot; + holder.txt_rate.getText().toString() + &quot;:&quot; + edt_cust_name.getText().toString()\r\n                                                    + &quot;:&quot; + edt_customer_name.getText().toString() + &quot;:&quot; + holder.txt_ghat_weight.getText().toString());\r\n                                            TCPClient.isPDF = true;\r\n                                        } else {\r\n                                            setStatus(SocketStatus.DISCONNECTED);\r\n                                        }\r\n                                    } else {\r\n                                        setStatus(SocketStatus.DISCONNECTED);\r\n                                    }\r\n                                } else {\r\n                                    setStatus(SocketStatus.DISCONNECTED);\r\n                                }\r\n                            }).start();\r\n                        }\r\n\r\n                        if (ContextCompat.checkSelfPermission(requireActivity(), Manifest.permission.READ_EXTERNAL_STORAGE)\r\n                                != PackageManager.PERMISSION_GRANTED) {\r\n                            ActivityCompat.requestPermissions(requireActivity(),\r\n                                    new String[]{Manifest.permission.READ_EXTERNAL_STORAGE}, REQUEST_PERMISSION_CODE);\r\n                        } else {\r\n                            startPrintJob();\r\n                        }\r\n                    } else\r\n                        Toast.makeText(getActivity(), &quot;Please check wifi connection&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n            });\r\n\r\n\r\n// For printing a document \r\n\r\n   private void startPrintJob() {\r\n        PrintManager printManager = (PrintManager) requireContext().getSystemService(Context.PRINT_SERVICE);\r\n        String jobName = &quot;MyPrintJob&quot;;\r\n\r\n        PrintDocumentAdapter printAdapter = new PrintDocumentAdapter() {\r\n            @Override\r\n            public void onLayout(PrintAttributes oldAttributes, PrintAttributes newAttributes,\r\n                                 CancellationSignal cancellationSignal, LayoutResultCallback callback,\r\n                                 Bundle extras) {\r\n                if (cancellationSignal.isCanceled()) {\r\n                    callback.onLayoutCancelled();\r\n                    return;\r\n                }\r\n\r\n                PrintDocumentInfo info = new PrintDocumentInfo.Builder(&quot;print_output.pdf&quot;)\r\n                        .setContentType(PrintDocumentInfo.CONTENT_TYPE_DOCUMENT)\r\n                        .setPageCount(PrintDocumentInfo.PAGE_COUNT_UNKNOWN)\r\n                        .build();\r\n\r\n                callback.onLayoutFinished(info, true);\r\n            }\r\n\r\n            @Override\r\n            public void onWrite(PageRange[] pages, ParcelFileDescriptor destination,\r\n                                CancellationSignal cancellationSignal, WriteResultCallback callback) {\r\n                FileInputStream input = null;\r\n                FileOutputStream output = null;\r\n                try {\r\n                    File downloadsFolder = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS);\r\n                    File fileToPrint = new File(downloadsFolder, &quot;SamplePDF.pdf&quot;);\r\n\r\n                    input = new FileInputStream(fileToPrint);\r\n                    output = new FileOutputStream(destination.getFileDescriptor());\r\n\r\n                    byte[] buf = new byte[16384];\r\n                    int size;\r\n                    while ((size = input.read(buf)) &gt;= 0 &amp;&amp; !cancellationSignal.isCanceled()) {\r\n                        output.write(buf, 0, size);\r\n                    }\r\n\r\n                    if (!cancellationSignal.isCanceled()) {\r\n                        callback.onWriteFinished(new PageRange[]{PageRange.ALL_PAGES});\r\n                    } else {\r\n                        callback.onWriteCancelled();\r\n                    }\r\n                } catch (Exception e) {\r\n                    callback.onWriteFailed(e.toString());\r\n                } finally {\r\n                    try {\r\n                        if (input != null) {\r\n                            input.close();\r\n                        }\r\n                        if (output != null) {\r\n                            output.close();\r\n                        }\r\n                    } catch (IOException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n            }\r\n        };\r\n\r\n        PrintJob printJob = printManager.print(jobName, printAdapter, null);\r\n        if (printJob != null) {\r\n            if (printJob.isCompleted()) {\r\n            } else if (printJob.isFailed()) {\r\n            }\r\n        }\r\n    }\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n        if (requestCode == REQUEST_PERMISSION_CODE) {\r\n            if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n                startPrintJob();\r\n            }\r\n        }\r\n    }\r\n\r\n```\r\nHere i set ```TCPClient.isPDF = true;``` As a purpose that sending a msg to server ```TAGPRINT``` and ask server for send a pdf file...\r\n\r\n```\r\nTcpClient.java\r\n\r\n if (isPDF) {\r\n                            isUTF = true;\r\n                            isPDF = false;\r\n                            try {\r\n                                byte[] encoded = (byte[]) in.readObject();\r\n                                pdfdecoded = Base64.getDecoder().decode(encoded);\r\n                                File file = new File(Environment.getExternalStorageDirectory(),               &quot;demo.pdf&quot;);\r\n                                FileOutputStream fos = new FileOutputStream(file);\r\n                                fos.write(TCPClient.pdfdecoded);\r\n                                fos.flush();\r\n                                fos.close();\r\n\r\n                      \r\n                                Log.d(&quot;pdfB&quot;, &quot;run: &quot;);\r\n\r\n                            } catch (Exception exception) {\r\n                                exception.printStackTrace();\r\n                            }\r\n                        } \r\n```\r\n\r\n\r\n\r\nI want to achieve that Server first check if pdf is stored correctly inside directory.. If it stored correctly then after ```fos.close() of TcpClient``` ``` print method of HomeFragment```should execute for printing data...","title":"Android Tcpclient for Receiving a document and printing data","body":"<p>I have button for printing data for this I've set listener method. Here it send Msg to server for pdf document using <code>HomeFragment.java</code> and store in a directory using <code>TcpClient.java</code></p>\n<pre><code>HomeFragment.java\n\n holder.btnPrint.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View view) {\n                    if (haveNetworkConnection()) {\n                        if (socketTask != null) {\n                            new Thread(() -&gt; {\n                                if (socketTask.getTcpClient() != null) {\n                                    if (socketTask.getTcpClient().getSocket() != null) {\n                                        if (socketTask.getTcpClient().getSocket().isConnected()) {\n                                            socketTask.getTcpClient().sendMessage(&quot;TAGPRINT:&quot; + holder.chipTagNo.getText().toString() + &quot;:&quot; + edt_gst.getText().toString()\n                                                    + &quot;:&quot; + holder.txt_making_charge.getText().toString() + &quot;:&quot; + holder.txt_rate.getText().toString() + &quot;:&quot; + edt_cust_name.getText().toString()\n                                                    + &quot;:&quot; + edt_customer_name.getText().toString() + &quot;:&quot; + holder.txt_ghat_weight.getText().toString());\n                                            TCPClient.isPDF = true;\n                                        } else {\n                                            setStatus(SocketStatus.DISCONNECTED);\n                                        }\n                                    } else {\n                                        setStatus(SocketStatus.DISCONNECTED);\n                                    }\n                                } else {\n                                    setStatus(SocketStatus.DISCONNECTED);\n                                }\n                            }).start();\n                        }\n\n                        if (ContextCompat.checkSelfPermission(requireActivity(), Manifest.permission.READ_EXTERNAL_STORAGE)\n                                != PackageManager.PERMISSION_GRANTED) {\n                            ActivityCompat.requestPermissions(requireActivity(),\n                                    new String[]{Manifest.permission.READ_EXTERNAL_STORAGE}, REQUEST_PERMISSION_CODE);\n                        } else {\n                            startPrintJob();\n                        }\n                    } else\n                        Toast.makeText(getActivity(), &quot;Please check wifi connection&quot;, Toast.LENGTH_SHORT).show();\n                }\n            });\n\n\n// For printing a document \n\n   private void startPrintJob() {\n        PrintManager printManager = (PrintManager) requireContext().getSystemService(Context.PRINT_SERVICE);\n        String jobName = &quot;MyPrintJob&quot;;\n\n        PrintDocumentAdapter printAdapter = new PrintDocumentAdapter() {\n            @Override\n            public void onLayout(PrintAttributes oldAttributes, PrintAttributes newAttributes,\n                                 CancellationSignal cancellationSignal, LayoutResultCallback callback,\n                                 Bundle extras) {\n                if (cancellationSignal.isCanceled()) {\n                    callback.onLayoutCancelled();\n                    return;\n                }\n\n                PrintDocumentInfo info = new PrintDocumentInfo.Builder(&quot;print_output.pdf&quot;)\n                        .setContentType(PrintDocumentInfo.CONTENT_TYPE_DOCUMENT)\n                        .setPageCount(PrintDocumentInfo.PAGE_COUNT_UNKNOWN)\n                        .build();\n\n                callback.onLayoutFinished(info, true);\n            }\n\n            @Override\n            public void onWrite(PageRange[] pages, ParcelFileDescriptor destination,\n                                CancellationSignal cancellationSignal, WriteResultCallback callback) {\n                FileInputStream input = null;\n                FileOutputStream output = null;\n                try {\n                    File downloadsFolder = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS);\n                    File fileToPrint = new File(downloadsFolder, &quot;SamplePDF.pdf&quot;);\n\n                    input = new FileInputStream(fileToPrint);\n                    output = new FileOutputStream(destination.getFileDescriptor());\n\n                    byte[] buf = new byte[16384];\n                    int size;\n                    while ((size = input.read(buf)) &gt;= 0 &amp;&amp; !cancellationSignal.isCanceled()) {\n                        output.write(buf, 0, size);\n                    }\n\n                    if (!cancellationSignal.isCanceled()) {\n                        callback.onWriteFinished(new PageRange[]{PageRange.ALL_PAGES});\n                    } else {\n                        callback.onWriteCancelled();\n                    }\n                } catch (Exception e) {\n                    callback.onWriteFailed(e.toString());\n                } finally {\n                    try {\n                        if (input != null) {\n                            input.close();\n                        }\n                        if (output != null) {\n                            output.close();\n                        }\n                    } catch (IOException e) {\n                        e.printStackTrace();\n                    }\n                }\n            }\n        };\n\n        PrintJob printJob = printManager.print(jobName, printAdapter, null);\n        if (printJob != null) {\n            if (printJob.isCompleted()) {\n            } else if (printJob.isFailed()) {\n            }\n        }\n    }\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n        if (requestCode == REQUEST_PERMISSION_CODE) {\n            if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n                startPrintJob();\n            }\n        }\n    }\n\n</code></pre>\n<p>Here i set <code>TCPClient.isPDF = true;</code> As a purpose that sending a msg to server <code>TAGPRINT</code> and ask server for send a pdf file...</p>\n<pre><code>TcpClient.java\n\n if (isPDF) {\n                            isUTF = true;\n                            isPDF = false;\n                            try {\n                                byte[] encoded = (byte[]) in.readObject();\n                                pdfdecoded = Base64.getDecoder().decode(encoded);\n                                File file = new File(Environment.getExternalStorageDirectory(),               &quot;demo.pdf&quot;);\n                                FileOutputStream fos = new FileOutputStream(file);\n                                fos.write(TCPClient.pdfdecoded);\n                                fos.flush();\n                                fos.close();\n\n                      \n                                Log.d(&quot;pdfB&quot;, &quot;run: &quot;);\n\n                            } catch (Exception exception) {\n                                exception.printStackTrace();\n                            }\n                        } \n</code></pre>\n<p>I want to achieve that Server first check if pdf is stored correctly inside directory.. If it stored correctly then after <code>fos.close() of TcpClient</code> <code> print method of HomeFragment</code>should execute for printing data...</p>\n"},{"tags":["java","selenium","jenkins","testing","cucumber"],"answers":[{"tags":[],"owner":{"account_id":13823033,"reputation":23,"user_id":9978033,"display_name":"bugdebug"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1604109497,"creation_date":1604109497,"answer_id":64617726,"question_id":61775896,"body_markdown":"Don&#39;t  use rerun plugin in failed runner.","title":"Rerun.txt not populating when trying to rerun failed tests using cucumber and jenkins","body":"<p>Don't  use rerun plugin in failed runner.</p>\n"},{"tags":[],"owner":{"account_id":4783845,"reputation":11,"user_id":3864911,"display_name":"Or&#231;un"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691473100,"creation_date":1691473100,"answer_id":76856708,"question_id":61775896,"body_markdown":"MainRunner create a file in the project directory while FailedRunner search for it in the target directory. It is incompatible. In MainRunner, correct the path of rerun file by changing the plugin rerun part to rerun:target/rerun.txt","title":"Rerun.txt not populating when trying to rerun failed tests using cucumber and jenkins","body":"<p>MainRunner create a file in the project directory while FailedRunner search for it in the target directory. It is incompatible. In MainRunner, correct the path of rerun file by changing the plugin rerun part to rerun:target/rerun.txt</p>\n"}],"owner":{"account_id":13424136,"reputation":252,"user_id":9686029,"display_name":"user9686029"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":534,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1691473100,"creation_date":1589376407,"question_id":61775896,"body_markdown":"I am trying to rerun my flaky tests in jenkins as sometimes my environment is very slow I have a main runner which is meant to add the failed features to a rerun.txt file and then a conditional step is set up in jenkins to run the failed runner, but the txt file doesnt seem to populate\r\n\r\nMy main runner is:\r\n\r\n        @CucumberOptions(\r\n        features = {&quot;src/test/java/noting/feature_files/&quot;},\r\n        glue = {&quot;clinical_noting.steps&quot;, &quot;clinical_noting.hooks&quot;},\r\n        tags = {&quot;@regression&quot;},\r\n        monochrome = true,\r\n        plugin = {&quot;pretty&quot;, &quot;rerun:rerun.txt&quot;,&quot;json:target/json-report.json&quot;, &quot;junit:target/junit- \r\n    report.xml&quot;, &quot;html:target/html-report&quot;,&quot;junit:target/cucumber.xml&quot;}\r\n\r\n    )\r\n\r\n    public class MainRunner {\r\n\r\n \r\n    }\r\n\r\nand my failed runner is \r\n\r\n    @RunWith(Cucumber.class)\r\n    @CucumberOptions(\r\n        features = {&quot;@target/rerun.txt&quot;},\r\n        plugin = {&quot;pretty&quot;, &quot;json:target/cucumber- \r\n    report/cucumber.json&quot;,&quot;rerun:target/rerun.txt&quot;,&quot;junit:target/cucumber.xml&quot;}\r\n        //plugin = {&quot;html:target/cucumber/&quot;}\r\n    )\r\n\r\n    public class FailedRunner {\r\n\r\n    }\r\n\r\n\r\n\r\nThe rerun.txt file is created but nothing is entered into it, ive tried moving to resources file but it doesnt seem to work, and ament sure if the conditional step in jenkins is where the Failed runner should be","title":"Rerun.txt not populating when trying to rerun failed tests using cucumber and jenkins","body":"<p>I am trying to rerun my flaky tests in jenkins as sometimes my environment is very slow I have a main runner which is meant to add the failed features to a rerun.txt file and then a conditional step is set up in jenkins to run the failed runner, but the txt file doesnt seem to populate</p>\n\n<p>My main runner is:</p>\n\n<pre><code>    @CucumberOptions(\n    features = {\"src/test/java/noting/feature_files/\"},\n    glue = {\"clinical_noting.steps\", \"clinical_noting.hooks\"},\n    tags = {\"@regression\"},\n    monochrome = true,\n    plugin = {\"pretty\", \"rerun:rerun.txt\",\"json:target/json-report.json\", \"junit:target/junit- \nreport.xml\", \"html:target/html-report\",\"junit:target/cucumber.xml\"}\n\n)\n\npublic class MainRunner {\n\n\n}\n</code></pre>\n\n<p>and my failed runner is </p>\n\n<pre><code>@RunWith(Cucumber.class)\n@CucumberOptions(\n    features = {\"@target/rerun.txt\"},\n    plugin = {\"pretty\", \"json:target/cucumber- \nreport/cucumber.json\",\"rerun:target/rerun.txt\",\"junit:target/cucumber.xml\"}\n    //plugin = {\"html:target/cucumber/\"}\n)\n\npublic class FailedRunner {\n\n}\n</code></pre>\n\n<p>The rerun.txt file is created but nothing is entered into it, ive tried moving to resources file but it doesnt seem to work, and ament sure if the conditional step in jenkins is where the Failed runner should be</p>\n"},{"tags":["java","tomcat","servlets","server","project"],"comments":[{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1691472842,"post_id":76856523,"comment_id":135492456,"body_markdown":"It&#39;s the same as running the project on a local PC. Use a java compiler to compile the project (The &quot;javac&quot; command), then execute the resulting jar file as normal. Install a java compiler and runtime as needed. What did you try in CMD? What failed?","body":"It&#39;s the same as running the project on a local PC. Use a java compiler to compile the project (The &quot;javac&quot; command), then execute the resulting jar file as normal. Install a java compiler and runtime as needed. What did you try in CMD? What failed?"}],"answers":[{"comments":[{"owner":{"account_id":29181753,"reputation":1,"user_id":22355734,"display_name":"Suresh Stark"},"score":0,"creation_date":1692893797,"post_id":76856701,"comment_id":135689205,"body_markdown":"Not a springboot project,? What if project is j2EE?","body":"Not a springboot project,? What if project is j2EE?"}],"tags":[],"owner":{"account_id":25295091,"reputation":124,"user_id":19120390,"display_name":"Ajaj Ali"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1691473019,"creation_date":1691473019,"answer_id":76856701,"question_id":76856523,"body_markdown":"From your question&#39;s tags i assume you got a Spring-boot application which should be deployed on `Tomcat` Server.\r\n\r\nIf you have a project built on Spring-boot and you have the access to your remote server.\r\n\r\nYou can use build tools like `Maven` or `Gradle` and you can use those tools to simply build a `jar` or `war` of your project from `CommandLine` commands and then you can simply deploy the built `jar` to your remote server container for example your `Tomcat` Server.  ","title":"To Run java project","body":"<p>From your question's tags i assume you got a Spring-boot application which should be deployed on <code>Tomcat</code> Server.</p>\n<p>If you have a project built on Spring-boot and you have the access to your remote server.</p>\n<p>You can use build tools like <code>Maven</code> or <code>Gradle</code> and you can use those tools to simply build a <code>jar</code> or <code>war</code> of your project from <code>CommandLine</code> commands and then you can simply deploy the built <code>jar</code> to your remote server container for example your <code>Tomcat</code> Server.</p>\n"}],"owner":{"account_id":29181753,"reputation":1,"user_id":22355734,"display_name":"Suresh Stark"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1691504674,"answer_count":1,"score":0,"last_activity_date":1691473019,"creation_date":1691469744,"question_id":76856523,"body_markdown":"How to run a java project without any IDE, like am giving you remote server and java project you should run without any IDE. I recently faced this question in interview\r\n\r\nI tried cmd but it failed. Can you explain clearly step by step procedure","title":"To Run java project","body":"<p>How to run a java project without any IDE, like am giving you remote server and java project you should run without any IDE. I recently faced this question in interview</p>\n<p>I tried cmd but it failed. Can you explain clearly step by step procedure</p>\n"},{"tags":["java","powershell","scripting","sccm"],"comments":[{"owner":{"account_id":4734685,"reputation":45402,"user_id":3829407,"accept_rate":77,"display_name":"Matt"},"score":0,"creation_date":1414509339,"post_id":26611383,"comment_id":41835527,"body_markdown":"You question could be considered off topic since you are asking about creating a software installation package. While this is possible... if you want help with this I suggest that you do show us some code you have tried and then the community will help you.","body":"You question could be considered off topic since you are asking about creating a software installation package. While this is possible... if you want help with this I suggest that you do show us some code you have tried and then the community will help you."},{"owner":{"account_id":354992,"reputation":357,"user_id":693670,"accept_rate":85,"display_name":"korymiller"},"score":0,"creation_date":1414519054,"post_id":26611383,"comment_id":41841830,"body_markdown":"The software installation package isn&#39;t the topic of the question. Writing a script to download Java is, as stated above we have not found any way to download the latest version of Java so we don&#39;t have any code to show. Thank you for your response.","body":"The software installation package isn&#39;t the topic of the question. Writing a script to download Java is, as stated above we have not found any way to download the latest version of Java so we don&#39;t have any code to show. Thank you for your response."},{"owner":{"account_id":4734685,"reputation":45402,"user_id":3829407,"accept_rate":77,"display_name":"Matt"},"score":0,"creation_date":1414520027,"post_id":26611383,"comment_id":41842329,"body_markdown":"Your question does state _automatically download and install the latest Java version_ which is why i responded the way i did FYI","body":"Your question does state <i>automatically download and install the latest Java version</i> which is why i responded the way i did FYI"}],"answers":[{"comments":[{"owner":{"account_id":4734685,"reputation":45402,"user_id":3829407,"accept_rate":77,"display_name":"Matt"},"score":0,"creation_date":1414520078,"post_id":26612927,"comment_id":41842360,"body_markdown":"You need to include the useful parts of these links. If they become dead later your answer would be of no use to anyone.","body":"You need to include the useful parts of these links. If they become dead later your answer would be of no use to anyone."}],"tags":[],"owner":{"account_id":5003740,"reputation":1444,"user_id":4021938,"accept_rate":100,"display_name":"Alex H"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1414595702,"creation_date":1414511981,"answer_id":26612927,"question_id":26611383,"body_markdown":"Please have a look at [this][1] for downloading a file with powershell and [this][2] for installing java silent.\r\nFor example:\r\n\r\n    Invoke-WebRequest $address -OutFile $destination\r\n    # $addressis the http-address of the installer\r\n    # $destination is a Path where the the downloadoutput should saved to\r\n    $destination /s\r\n    # with the &#39;/s&#39; Parameter you are starting the installer silent\r\n\r\nIf you can get the download link, you should be able to download and install java. But atm i have no idea how you can get the link.\r\nI hope this helps a little bit.\r\n\r\n\r\n  [1]: http://www.powershellatoms.com/basic/download-file-website-powershell/\r\n  [2]: https://www.java.com/en/download/help/silent_install.xml","title":"Powershell script to update Java to latest version","body":"<p>Please have a look at <a href=\"http://www.powershellatoms.com/basic/download-file-website-powershell/\" rel=\"nofollow\">this</a> for downloading a file with powershell and <a href=\"https://www.java.com/en/download/help/silent_install.xml\" rel=\"nofollow\">this</a> for installing java silent.\nFor example:</p>\n\n<pre><code>Invoke-WebRequest $address -OutFile $destination\n# $addressis the http-address of the installer\n# $destination is a Path where the the downloadoutput should saved to\n$destination /s\n# with the '/s' Parameter you are starting the installer silent\n</code></pre>\n\n<p>If you can get the download link, you should be able to download and install java. But atm i have no idea how you can get the link.\nI hope this helps a little bit.</p>\n"},{"comments":[{"owner":{"account_id":354992,"reputation":357,"user_id":693670,"accept_rate":85,"display_name":"korymiller"},"score":0,"creation_date":1414611059,"post_id":26617980,"comment_id":41885016,"body_markdown":"I think those links may be what we need. Thank you so much!","body":"I think those links may be what we need. Thank you so much!"}],"tags":[],"owner":{"account_id":5217747,"reputation":1685,"user_id":4172124,"display_name":"Booga Roo"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1414606194,"creation_date":1414528567,"answer_id":26617980,"question_id":26611383,"body_markdown":"You can probably use the links available on this page for the download: http://java.com/en/download/manual.jsp\r\n\r\nAlternatively, you can do the download once and put it on a file share so you can use simple methods for copying the file from a UNC path like\r\n\r\n    \\\\fileserver\\folder\\installerpackage.exe\r\n\r\nJust be prepared for headaches. Having dealt with removing and upgrading Java on dozens of machines myself, I can tell you it&#39;s not always a clean uninstall/reinstall. Unless they&#39;ve improved the uninstaller, there&#39;s a good chance you will eventually hit a situation where Java&#39;s installer thinks it&#39;s installed, but it&#39;s not. I&#39;ve also seen the opposite where it thinks it&#39;s not installed but it is.","title":"Powershell script to update Java to latest version","body":"<p>You can probably use the links available on this page for the download: <a href=\"http://java.com/en/download/manual.jsp\" rel=\"nofollow\">http://java.com/en/download/manual.jsp</a></p>\n\n<p>Alternatively, you can do the download once and put it on a file share so you can use simple methods for copying the file from a UNC path like</p>\n\n<pre><code>\\\\fileserver\\folder\\installerpackage.exe\n</code></pre>\n\n<p>Just be prepared for headaches. Having dealt with removing and upgrading Java on dozens of machines myself, I can tell you it's not always a clean uninstall/reinstall. Unless they've improved the uninstaller, there's a good chance you will eventually hit a situation where Java's installer thinks it's installed, but it's not. I've also seen the opposite where it thinks it's not installed but it is.</p>\n"},{"tags":[],"owner":{"account_id":12338205,"reputation":305,"user_id":9002404,"display_name":"Mathis Michel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1511513234,"creation_date":1511511927,"answer_id":47469129,"question_id":26611383,"body_markdown":"First you need to get the latest Download Link(32-bit).\r\n\r\n    $JavaFile = [pscustomobject]@{\r\n        JavaVersion = &#39;&#39;\r\n        FileName = &#39;&#39;\r\n        DownloadURL =  $((Invoke-WebRequest &#39;http://www.java.com/en/download/manual.jsp&#39;).links | where innerHTML -like &quot;Windows Offline&quot; | select href).href\r\n    } \r\nFor 64-bit URL use:\r\n\r\n    $JavaFile = [pscustomobject]@{\r\n        JavaVersion = &#39;&#39;\r\n        FileName = &#39;&#39;\r\n        DownloadURL =  $((Invoke-WebRequest &#39;http://www.java.com/en/download/manual.jsp&#39;).links | where innerHTML -like &quot;Windows Offline (64-bit)&quot; | select href).href\r\n    } \r\nSo now we want to check if we already downloaded the file.\r\nWe can do this by checking a log file. So first create a javahistorylog.log for storing used links.\r\nWith the following Function we can Check the log for links.\r\n\r\n    function CheckHistory ($fileurl,$path){\r\n        $history=Get-Content &quot;$path&quot;\r\n        $r = $false\r\n        Foreach ($historicurl in $history){\r\n            if ($historicurl -eq $fileurl){\r\n                $r = $true\r\n            }\r\n        }\r\n        return $r\r\n    }\r\n\r\nIf it wasn&#39;t found we can continue with downloading the File.\r\n\r\n    $JavaFile.FileName = &quot;tempinstaller$(get-date -Format yyMMddmm).exe&quot;\r\n    Invoke-WebRequest $JavaFile.DownloadURL -OutFile (&quot;$TempDownloadLocation\\&quot;+ $JavaFile.FileName) -ev $DLErr\r\n    if($DLErr){Exit}\r\n\r\nAfter the Download we can do some edits to the setup.exe\r\nFirst get the Version and safe the name.\r\n\r\n    $TempFileName = $JavaFile.FileName\r\n    $JavaFile.JavaVersion = get-item (&quot;$TempDownloadLocation\\&quot;+ $JavaFile.FileName) | select -ExpandProperty versioninfo | select -ExpandProperty productversion\r\n\r\nSecond set and generate the name out of the originalfilename prop.\r\n\r\n    $JavaFile.FileName = &quot;jre1.&quot;+(((Select-String -Pattern &#39;[0-9]u[0-9]+&#39; -InputObject (get-item (&quot;$TempDownloadLocation\\$TempFileName&quot;)   | select -ExpandProperty versioninfo | select -ExpandProperty originalfilename)) |\r\n    ForEach-Object -Process {\r\n      $_.Matches\r\n    } |\r\n    ForEach-Object -Process {\r\n      $_.Value\r\n    }) -replace &#39;u&#39;, &#39;.0_&#39;)\r\n\r\nnow rename the File.\r\n\r\n    Rename-Item -Path &quot;$TempDownloadLocation\\$TempFileName&quot; -NewName ($JavaFile.FileName+&quot;.exe&quot;)\r\n\r\nupdate the historylog\r\n\r\n    if(Test-Path -path (&quot;$TempDownloadLocation\\&quot;+$JavaFile.FileName+&quot;.exe&quot;)){\r\n        add-content &quot;$TempDownloadLocation\\javahistorylog.log&quot; $JavaFile.DownloadURL\r\n    }\r\n\r\nNow we can think about getting the MSI File for building a sw package.\r\n\r\nThe MSI will be located at:\r\n\r\n    $MsiFilePathTemp = &quot;$env:LOCALAPPDATA\\Oracle\\Java\\&quot; -replace &#39;Local&#39;, &#39;LocalLow&#39;\r\n\r\nWe can get the MSI by executing the setup and coping the msi:\r\n\r\n    Start-Process -FilePath (&quot;$TempDownloadLocation\\&quot;+$JavaFile.FileName+&quot;.exe&quot;) -ArgumentList &#39;/s&#39;\r\n    while(!(Test-Path (&quot;$MsiFilePathTemp\\&quot;+$JavaFile.FileName+&quot;\\&quot;+$JavaFile.FileName+&quot;.msi&quot;)))\r\n    {\r\n      Start-Sleep -Seconds 1.5\r\n    }\r\n    Copy-Item -Path (&quot;$MsiFilePathTemp\\&quot;+$JavaFile.FileName+&quot;\\&quot;+$JavaFile.FileName+&quot;.msi&quot;) -Destination $MsiFilePathOut -Force -ErrorVariable $CDR\r\n    if($CDR){\r\n        exit\r\n    }\r\n\r\nNow Stop the Process and delete the .exe file\r\n\r\n    Get-Process -Name $JavaFile.FileName | Stop-Process\r\n    While (Get-Process -Name $JavaFile.FileName -ErrorAction SilentlyContinue)\r\n    {\r\n      Start-Sleep -Seconds 2\r\n    }\r\n    Remove-Item -Path (&quot;$TempDownloadLocation\\&quot;+$JavaFile.FileName+&quot;.exe&quot;) -Force\r\n    $MSIFile = (&quot;$MsiFilePathOut\\&quot;+$JavaFile.FileName+&quot;.msi&quot;)\r\nNow you have `$MSIFile` which is the path of the msi you could use for building your SCCM Package.","title":"Powershell script to update Java to latest version","body":"<p>First you need to get the latest Download Link(32-bit).</p>\n\n<pre><code>$JavaFile = [pscustomobject]@{\n    JavaVersion = ''\n    FileName = ''\n    DownloadURL =  $((Invoke-WebRequest 'http://www.java.com/en/download/manual.jsp').links | where innerHTML -like \"Windows Offline\" | select href).href\n} \n</code></pre>\n\n<p>For 64-bit URL use:</p>\n\n<pre><code>$JavaFile = [pscustomobject]@{\n    JavaVersion = ''\n    FileName = ''\n    DownloadURL =  $((Invoke-WebRequest 'http://www.java.com/en/download/manual.jsp').links | where innerHTML -like \"Windows Offline (64-bit)\" | select href).href\n} \n</code></pre>\n\n<p>So now we want to check if we already downloaded the file.\nWe can do this by checking a log file. So first create a javahistorylog.log for storing used links.\nWith the following Function we can Check the log for links.</p>\n\n<pre><code>function CheckHistory ($fileurl,$path){\n    $history=Get-Content \"$path\"\n    $r = $false\n    Foreach ($historicurl in $history){\n        if ($historicurl -eq $fileurl){\n            $r = $true\n        }\n    }\n    return $r\n}\n</code></pre>\n\n<p>If it wasn't found we can continue with downloading the File.</p>\n\n<pre><code>$JavaFile.FileName = \"tempinstaller$(get-date -Format yyMMddmm).exe\"\nInvoke-WebRequest $JavaFile.DownloadURL -OutFile (\"$TempDownloadLocation\\\"+ $JavaFile.FileName) -ev $DLErr\nif($DLErr){Exit}\n</code></pre>\n\n<p>After the Download we can do some edits to the setup.exe\nFirst get the Version and safe the name.</p>\n\n<pre><code>$TempFileName = $JavaFile.FileName\n$JavaFile.JavaVersion = get-item (\"$TempDownloadLocation\\\"+ $JavaFile.FileName) | select -ExpandProperty versioninfo | select -ExpandProperty productversion\n</code></pre>\n\n<p>Second set and generate the name out of the originalfilename prop.</p>\n\n<pre><code>$JavaFile.FileName = \"jre1.\"+(((Select-String -Pattern '[0-9]u[0-9]+' -InputObject (get-item (\"$TempDownloadLocation\\$TempFileName\")   | select -ExpandProperty versioninfo | select -ExpandProperty originalfilename)) |\nForEach-Object -Process {\n  $_.Matches\n} |\nForEach-Object -Process {\n  $_.Value\n}) -replace 'u', '.0_')\n</code></pre>\n\n<p>now rename the File.</p>\n\n<pre><code>Rename-Item -Path \"$TempDownloadLocation\\$TempFileName\" -NewName ($JavaFile.FileName+\".exe\")\n</code></pre>\n\n<p>update the historylog</p>\n\n<pre><code>if(Test-Path -path (\"$TempDownloadLocation\\\"+$JavaFile.FileName+\".exe\")){\n    add-content \"$TempDownloadLocation\\javahistorylog.log\" $JavaFile.DownloadURL\n}\n</code></pre>\n\n<p>Now we can think about getting the MSI File for building a sw package.</p>\n\n<p>The MSI will be located at:</p>\n\n<pre><code>$MsiFilePathTemp = \"$env:LOCALAPPDATA\\Oracle\\Java\\\" -replace 'Local', 'LocalLow'\n</code></pre>\n\n<p>We can get the MSI by executing the setup and coping the msi:</p>\n\n<pre><code>Start-Process -FilePath (\"$TempDownloadLocation\\\"+$JavaFile.FileName+\".exe\") -ArgumentList '/s'\nwhile(!(Test-Path (\"$MsiFilePathTemp\\\"+$JavaFile.FileName+\"\\\"+$JavaFile.FileName+\".msi\")))\n{\n  Start-Sleep -Seconds 1.5\n}\nCopy-Item -Path (\"$MsiFilePathTemp\\\"+$JavaFile.FileName+\"\\\"+$JavaFile.FileName+\".msi\") -Destination $MsiFilePathOut -Force -ErrorVariable $CDR\nif($CDR){\n    exit\n}\n</code></pre>\n\n<p>Now Stop the Process and delete the .exe file</p>\n\n<pre><code>Get-Process -Name $JavaFile.FileName | Stop-Process\nWhile (Get-Process -Name $JavaFile.FileName -ErrorAction SilentlyContinue)\n{\n  Start-Sleep -Seconds 2\n}\nRemove-Item -Path (\"$TempDownloadLocation\\\"+$JavaFile.FileName+\".exe\") -Force\n$MSIFile = (\"$MsiFilePathOut\\\"+$JavaFile.FileName+\".msi\")\n</code></pre>\n\n<p>Now you have <code>$MSIFile</code> which is the path of the msi you could use for building your SCCM Package.</p>\n"},{"tags":[],"owner":{"account_id":14784034,"reputation":401,"user_id":10676790,"display_name":"srijan439"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691471081,"creation_date":1691471081,"answer_id":76856594,"question_id":26611383,"body_markdown":"I was facing a similar issue in one of my project which had a Java dependency and it had to be updated from Java 8 to Java 17.\r\nFollowing is the Windows Powershell script. You can replace your specific version.\r\n\r\n    $version = &quot;17.0.2&quot;;\r\n    $zip_url = &quot;https://download.java.net/java/GA/jdk17.0.2/dfd4a8d0985749f896bed50d7138ee7f/8/GPL/openjdk-17.0.2_windows-x64_bin.zip&quot;;\r\n    $sha_url = &quot;https://download.java.net/java/GA/jdk17.0.2/dfd4a8d0985749f896bed50d7138ee7f/8/GPL/openjdk-17.0.2_windows-x64_bin.zip.sha256&quot;\r\n    \r\n    $java_folder = &quot;C:\\ProgramFiles\\windows\\Java_Temurin-Hotspot_jdk\\17.0.2&quot;\r\n    \r\n    # Windows seems to auto-rename folders like &quot;20.0.0&quot; to &quot;20&quot;.\r\n    $jdk_folder = $java_folder\r\n    \r\n    $bin_folder = $jdk_folder + &#39;\\bin&#39;\r\n    \r\n    # Create Java folder.\r\n    New-Item -ItemType directory -Path $java_folder -Force\r\n    Set-Location $java_folder\r\n    \r\n    # Download JDK ZIP &amp; SHA256 Files\r\n    $jdk_zip_file = &#39;jdk.zip&#39;\r\n    $jdk_sha_file = &#39;sha.sha256&#39;\r\n    \r\n    Invoke-WebRequest -Uri $zip_url -OutFile $jdk_zip_file\r\n    Invoke-WebRequest -Uri $sha_url -OutFile $jdk_sha_file\r\n    \r\n    # Extract Archive\r\n    Expand-Archive -Path $jdk_zip_file\r\n    Remove-Item -Path $jdk_zip_file\r\n    Remove-Item -Path $jdk_sha_file\r\n    \r\n    $currentPath = [Environment]::GetEnvironmentVariable(&#39;Path&#39;, &#39;Machine&#39;)\r\n    $newPath = $currentPath + &#39;;&#39; + $bin_folder\r\n    \r\n    # Set the Java bin directory as the default\r\n    [Environment]::SetEnvironmentVariable(&#39;Path&#39;, $newPath, &#39;Machine&#39;)\r\n    \r\n    [Environment]::SetEnvironmentVariable(&#39;JAVA_HOME&#39;, $jdk_folder, &#39;Machine&#39;)\r\n    [Environment]::SetEnvironmentVariable(&#39;JDK_HOME&#39;, $jdk_folder, &#39;Machine&#39;)\r\n    [Environment]::SetEnvironmentVariable(&#39;JRE_HOME&#39;, $jdk_folder, &#39;Machine&#39;)\r\n     \r\n    # To verify the updated JAVA_HOME &amp; Path Environment variables\r\n    $javaHome = [Environment]::GetEnvironmentVariable(&#39;JAVA_HOME&#39;, &#39;Machine&#39;)\r\n    Write-Output &quot;JAVA_HOME Variable: $javaHome&quot;\r\n    \r\n    $pathVar = [Environment]::GetEnvironmentVariable(&#39;Path&#39;, &#39;Machine&#39;)\r\n    Write-Output &quot;Path Variable: $pathVar&quot;\r\n    \r\n    java -version\r\n\r\nIn some cases it might happen that there is an older version of Java installed on your machine &amp; despite your installation still the older version is prevalent. In that particular case you can remove the existing path from the Path environment variable to make sure that the newer version is picked up by your project.\r\nHere is the script to do that\r\n\r\n\r\n    # Define the path you want to remove\r\n    $pathToRemove = &quot;C:\\ProgramFiles\\windows\\Java_Temurin-Hotspot_jdk\\8.0.382-5\\x64\\bin&quot;\r\n    \r\n    # Split the current PATH into individual paths\r\n    $paths = $currentPath -split &#39;;&#39;\r\n    \r\n    # Filter out the path you want to remove\r\n    $filteredPaths = $paths | Where-Object { $_ -ne $pathToRemove }\r\n    \r\n    # Join the filtered paths back into a single string\r\n    $updatedPath = $filteredPaths -join &#39;;&#39;\r\n      \r\nHope this works for you. \r\n","title":"Powershell script to update Java to latest version","body":"<p>I was facing a similar issue in one of my project which had a Java dependency and it had to be updated from Java 8 to Java 17.\nFollowing is the Windows Powershell script. You can replace your specific version.</p>\n<pre><code>$version = &quot;17.0.2&quot;;\n$zip_url = &quot;https://download.java.net/java/GA/jdk17.0.2/dfd4a8d0985749f896bed50d7138ee7f/8/GPL/openjdk-17.0.2_windows-x64_bin.zip&quot;;\n$sha_url = &quot;https://download.java.net/java/GA/jdk17.0.2/dfd4a8d0985749f896bed50d7138ee7f/8/GPL/openjdk-17.0.2_windows-x64_bin.zip.sha256&quot;\n\n$java_folder = &quot;C:\\ProgramFiles\\windows\\Java_Temurin-Hotspot_jdk\\17.0.2&quot;\n\n# Windows seems to auto-rename folders like &quot;20.0.0&quot; to &quot;20&quot;.\n$jdk_folder = $java_folder\n\n$bin_folder = $jdk_folder + '\\bin'\n\n# Create Java folder.\nNew-Item -ItemType directory -Path $java_folder -Force\nSet-Location $java_folder\n\n# Download JDK ZIP &amp; SHA256 Files\n$jdk_zip_file = 'jdk.zip'\n$jdk_sha_file = 'sha.sha256'\n\nInvoke-WebRequest -Uri $zip_url -OutFile $jdk_zip_file\nInvoke-WebRequest -Uri $sha_url -OutFile $jdk_sha_file\n\n# Extract Archive\nExpand-Archive -Path $jdk_zip_file\nRemove-Item -Path $jdk_zip_file\nRemove-Item -Path $jdk_sha_file\n\n$currentPath = [Environment]::GetEnvironmentVariable('Path', 'Machine')\n$newPath = $currentPath + ';' + $bin_folder\n\n# Set the Java bin directory as the default\n[Environment]::SetEnvironmentVariable('Path', $newPath, 'Machine')\n\n[Environment]::SetEnvironmentVariable('JAVA_HOME', $jdk_folder, 'Machine')\n[Environment]::SetEnvironmentVariable('JDK_HOME', $jdk_folder, 'Machine')\n[Environment]::SetEnvironmentVariable('JRE_HOME', $jdk_folder, 'Machine')\n \n# To verify the updated JAVA_HOME &amp; Path Environment variables\n$javaHome = [Environment]::GetEnvironmentVariable('JAVA_HOME', 'Machine')\nWrite-Output &quot;JAVA_HOME Variable: $javaHome&quot;\n\n$pathVar = [Environment]::GetEnvironmentVariable('Path', 'Machine')\nWrite-Output &quot;Path Variable: $pathVar&quot;\n\njava -version\n</code></pre>\n<p>In some cases it might happen that there is an older version of Java installed on your machine &amp; despite your installation still the older version is prevalent. In that particular case you can remove the existing path from the Path environment variable to make sure that the newer version is picked up by your project.\nHere is the script to do that</p>\n<pre><code># Define the path you want to remove\n$pathToRemove = &quot;C:\\ProgramFiles\\windows\\Java_Temurin-Hotspot_jdk\\8.0.382-5\\x64\\bin&quot;\n\n# Split the current PATH into individual paths\n$paths = $currentPath -split ';'\n\n# Filter out the path you want to remove\n$filteredPaths = $paths | Where-Object { $_ -ne $pathToRemove }\n\n# Join the filtered paths back into a single string\n$updatedPath = $filteredPaths -join ';'\n  \n</code></pre>\n<p>Hope this works for you.</p>\n"}],"owner":{"account_id":354992,"reputation":357,"user_id":693670,"accept_rate":85,"display_name":"korymiller"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16645,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":26617980,"answer_count":4,"score":3,"last_activity_date":1691471081,"creation_date":1414507905,"question_id":26611383,"body_markdown":"We have an application that is Java dependent that we are working on a SCCM installer to push out to clients. \r\n\r\nDue to Java being updated almost monthly (and the old updates expiring 30 days thereafter) we&#39;re looking for a way to have the SCCM installer stay updated with the latest Java version. We have the ability to run a Powershell script from our SCCM installer, but we haven&#39;t found a way to write a script that will automatically download and install the latest Java version.\r\n\r\nDoes anyone know if this is possible, and how we could go about it?\r\n\r\n\r\nThanks in advance!!","title":"Powershell script to update Java to latest version","body":"<p>We have an application that is Java dependent that we are working on a SCCM installer to push out to clients. </p>\n\n<p>Due to Java being updated almost monthly (and the old updates expiring 30 days thereafter) we're looking for a way to have the SCCM installer stay updated with the latest Java version. We have the ability to run a Powershell script from our SCCM installer, but we haven't found a way to write a script that will automatically download and install the latest Java version.</p>\n\n<p>Does anyone know if this is possible, and how we could go about it?</p>\n\n<p>Thanks in advance!!</p>\n"},{"tags":["java","android","display","presentation"],"owner":{"account_id":6732676,"reputation":31,"user_id":5188433,"display_name":"Remo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":299,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1691470352,"creation_date":1556603240,"question_id":55914629,"body_markdown":"I am developing an Android application which displays a particular screen in a secondary display when it is connected, but it is not taking any touch/click events on that display even though the display is receptive to touch.\r\n    \r\n\r\nI am using Android&#39;s **Presentation** class for this. When the secondary display is connected it gracefully displays the class that I have developed which extends to Presentation class. But none of the click or touch events are working in this class. I believe the Presentation class does not allow any touch or is there any other way other than Presentation class for me which **allows touch events in the secondary display**? Please help.\r\n\r\nThe class is as follows:\r\n\r\n    public class PresentationActivity extends Presentation {\r\n\r\n        private TextView text;\r\n\r\n\r\n        private PresentationActivity presentation;\r\n        private Context context;\r\n        private Display display;\r\n        Button btn_click;\r\n\r\n\r\n        PresentationActivity(Context outerContext, Display display) {\r\n            super(outerContext, display);\r\n            context = outerContext;\r\n            this.display = display;\r\n        }\r\n\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n\r\n            setContentView(R.layout.activity_presentation);\r\n\r\n            TextView text = findViewById(R.id.textView1);\r\n            btn_click = findViewById(R.id.btn_click);\r\n\r\n            this.text = text;\r\n\r\n            btn_click.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    Toast.makeText(getContext(), &quot;Click is working for display number &quot; + display.getDisplayId(), Toast.LENGTH_SHORT).show();\r\n                    Log.d(&quot;CLICK_TRACK&quot;, display.getDisplayId()+&quot;&quot;);\r\n                }\r\n            });\r\n\r\n        }\r\n    }","title":"Is there any way to get touch/click events in secondary displays connected to Android device?","body":"<p>I am developing an Android application which displays a particular screen in a secondary display when it is connected, but it is not taking any touch/click events on that display even though the display is receptive to touch.</p>\n\n<p>I am using Android's <strong>Presentation</strong> class for this. When the secondary display is connected it gracefully displays the class that I have developed which extends to Presentation class. But none of the click or touch events are working in this class. I believe the Presentation class does not allow any touch or is there any other way other than Presentation class for me which <strong>allows touch events in the secondary display</strong>? Please help.</p>\n\n<p>The class is as follows:</p>\n\n<pre><code>public class PresentationActivity extends Presentation {\n\n    private TextView text;\n\n\n    private PresentationActivity presentation;\n    private Context context;\n    private Display display;\n    Button btn_click;\n\n\n    PresentationActivity(Context outerContext, Display display) {\n        super(outerContext, display);\n        context = outerContext;\n        this.display = display;\n    }\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        setContentView(R.layout.activity_presentation);\n\n        TextView text = findViewById(R.id.textView1);\n        btn_click = findViewById(R.id.btn_click);\n\n        this.text = text;\n\n        btn_click.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                Toast.makeText(getContext(), \"Click is working for display number \" + display.getDisplayId(), Toast.LENGTH_SHORT).show();\n                Log.d(\"CLICK_TRACK\", display.getDisplayId()+\"\");\n            }\n        });\n\n    }\n}\n</code></pre>\n"},{"tags":["java","datetime-format","simpledateformat"],"comments":[{"owner":{"account_id":3415144,"reputation":23576,"user_id":2864275,"display_name":"Iłya Bursov"},"score":3,"creation_date":1690576281,"post_id":76790852,"comment_id":135378133,"body_markdown":"from [java doc](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/text/DateFormat.html#parse(java.lang.String,java.text.ParsePosition)) `By default, parsing is lenient: If the input is not in the form used by this object&#39;s format method but can still be parsed as a date, then the parse succeeds. Clients may insist on strict adherence to the format by calling setLenient(false).`","body":"from <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/text/DateFormat.html#parse(java.lang.String,java.text.ParsePosition)\" rel=\"nofollow noreferrer\">java doc</a> <code>By default, parsing is lenient: If the input is not in the form used by this object&#39;s format method but can still be parsed as a date, then the parse succeeds. Clients may insist on strict adherence to the format by calling setLenient(false).</code>"},{"owner":{"account_id":1447743,"reputation":2678,"user_id":1379730,"accept_rate":52,"display_name":"Jason"},"score":0,"creation_date":1690576488,"post_id":76790852,"comment_id":135378163,"body_markdown":"Interesting, but I see that this is a point made in the method `parse(String, ParsePosition)`. I myself am using the simpler `parse(String)`, whose documentation is right above the one you linked.","body":"Interesting, but I see that this is a point made in the method <code>parse(String, ParsePosition)</code>. I myself am using the simpler <code>parse(String)</code>, whose documentation is right above the one you linked."},{"owner":{"account_id":3415144,"reputation":23576,"user_id":2864275,"display_name":"Iłya Bursov"},"score":2,"creation_date":1690576517,"post_id":76790852,"comment_id":135378165,"body_markdown":"`See the parse(String, ParsePosition) method for more information on date parsing.`","body":"<code>See the parse(String, ParsePosition) method for more information on date parsing.</code>"},{"owner":{"account_id":1447743,"reputation":2678,"user_id":1379730,"accept_rate":52,"display_name":"Jason"},"score":0,"creation_date":1690576594,"post_id":76790852,"comment_id":135378184,"body_markdown":"Ah, I think that what we&#39;ve found here is a bit of lacking documentation. It turns out that even the method `parse(String)` is affected by the leniency of the parsing. I will post an answer to this referencing your comment @IłyaBursov. Thank you.","body":"Ah, I think that what we&#39;ve found here is a bit of lacking documentation. It turns out that even the method <code>parse(String)</code> is affected by the leniency of the parsing. I will post an answer to this referencing your comment @IłyaBursov. Thank you."},{"owner":{"account_id":3415144,"reputation":23576,"user_id":2864275,"display_name":"Iłya Bursov"},"score":2,"creation_date":1690576665,"post_id":76790852,"comment_id":135378197,"body_markdown":"it is not lacking of documentation, first doc has link to 2nd, which implies that it basically calls &quot;extended&quot; version (I&#39;d assume just set position to 0)","body":"it is not lacking of documentation, first doc has link to 2nd, which implies that it basically calls &quot;extended&quot; version (I&#39;d assume just set position to 0)"},{"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":2,"creation_date":1690577149,"post_id":76790852,"comment_id":135378258,"body_markdown":"Java-8 gave you the modern date-time API in March 2014. Any reason why you are still using an outdated and error-prone API?","body":"Java-8 gave you the modern date-time API in March 2014. Any reason why you are still using an outdated and error-prone API?"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1691299666,"post_id":76790852,"comment_id":135471541,"body_markdown":"You may be implying it already, but I strongly recommend that you don’t use `SImpleDateFormat`. It’s notoriously troublesome and long outdated. You just stumbled on just one of its many troublesome points. Use [java.time, the modern java date and time API]()https://docs.oracle.com/javase/tutorial/datetime/index.html and its `DateTimeFormatter`. It gives you an exception as you had expected.","body":"You may be implying it already, but I strongly recommend that you don’t use <code>SImpleDateFormat</code>. It’s notoriously troublesome and long outdated. You just stumbled on just one of its many troublesome points. Use [java.time, the modern java date and time API]()<a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/datetime/index.html</a> and its <code>DateTimeFormatter</code>. It gives you an exception as you had expected."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1691299726,"post_id":76790852,"comment_id":135471545,"body_markdown":"But to answer your questions as asked: This had been supposed to be a feature, but I agree with you, and I believe most Java programmers do: it’s rather turned out to be an anti-feature. I would go so far as to say it’s a basic error in the design. I am certain that they are not changing the design 25 years later and 10 years after the class was supplanted by java.time. The error has been abandoned already since the class has, so no need to fix it.","body":"But to answer your questions as asked: This had been supposed to be a feature, but I agree with you, and I believe most Java programmers do: it’s rather turned out to be an anti-feature. I would go so far as to say it’s a basic error in the design. I am certain that they are not changing the design 25 years later and 10 years after the class was supplanted by java.time. The error has been abandoned already since the class has, so no need to fix it."},{"owner":{"account_id":1447743,"reputation":2678,"user_id":1379730,"accept_rate":52,"display_name":"Jason"},"score":1,"creation_date":1691316912,"post_id":76790852,"comment_id":135472810,"body_markdown":"I completely understand and indeed, in the meantime have switched to using `DateTimeFormatter`.","body":"I completely understand and indeed, in the meantime have switched to using <code>DateTimeFormatter</code>."},{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":0,"creation_date":1691470322,"post_id":76790852,"comment_id":135492189,"body_markdown":"If the question is &quot;_Is this a bug in the JDK_&quot;, the answer is _almost_ always &quot;No, it&#39;s not&quot;.","body":"If the question is &quot;<i>Is this a bug in the JDK</i>&quot;, the answer is <i>almost</i> always &quot;No, it&#39;s not&quot;."}],"answers":[{"tags":[],"owner":{"account_id":1447743,"reputation":2678,"user_id":1379730,"accept_rate":52,"display_name":"Jason"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690576851,"creation_date":1690576851,"answer_id":76790916,"question_id":76790852,"body_markdown":"As mentioned by the comments, if you follow the documentation of `parse(String)` to the (linked) `parse(String, ParsePosition)`, you find out that you can adjust the &quot;leniency&quot; of the parsing, and, if you set it to strict, as the following code does, a `ParseException` is thrown in this case.\r\n\r\n\r\n```java\r\nSimpleDateFormat sdf = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\r\nsdf.setLenient(false);\r\nSystem.out.println(sdf.parse(&quot;07/27/2023&quot;));\r\n```","title":"Is this a bug in SimpleDateFormat, or a feature?","body":"<p>As mentioned by the comments, if you follow the documentation of <code>parse(String)</code> to the (linked) <code>parse(String, ParsePosition)</code>, you find out that you can adjust the &quot;leniency&quot; of the parsing, and, if you set it to strict, as the following code does, a <code>ParseException</code> is thrown in this case.</p>\n<pre class=\"lang-java prettyprint-override\"><code>SimpleDateFormat sdf = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\nsdf.setLenient(false);\nSystem.out.println(sdf.parse(&quot;07/27/2023&quot;));\n</code></pre>\n"}],"owner":{"account_id":1447743,"reputation":2678,"user_id":1379730,"accept_rate":52,"display_name":"Jason"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1691469922,"accepted_answer_id":76790916,"answer_count":1,"score":0,"last_activity_date":1691470081,"creation_date":1690576122,"question_id":76790852,"body_markdown":"I recently changed... continents and temporarily forgot to signify July 27th 2023 in the European way, i.e `&quot;27/07/2023&quot;`, and instead maintained the American - style literal `&quot;07/27/2023&quot;`, which I promptly passed as argument to the `parse` method of a `SimpleDateFormat` instance initialized with the European pattern `&quot;dd/MM/yyyy&quot;`. I would have expected a `ParseException` to arise since there are only 12 months in the year, but the following runs fine:\r\n\r\n`System.out.println(new SimpleDateFormat(&quot;dd/MM/yyyy&quot;).parse(&quot;07/27/2023&quot;));`\r\n\r\nand outputs \r\n\r\n`Fri Mar 07 00:00:00 EET 2025` \r\n\r\nI&#39;m running `corretto-17.0.2` JDK.\r\n\r\nI understand why this happens mathematically (`27 = 2 * 12 + 3` and it&#39;s March of `2023 + 2 = 2025`, yay!) and I also understand that `SimpleDateFormat` has problems of its own, e.g thread (un)safety, but I was wondering whether this is something that could be reported as a bug, or whether there is some logic behind it that I don&#39;t understand. The [official Oracle docs](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/text/DateFormat.html#parse(java.lang.String)) DON&#39;T stipulate `SimpleDateFormat::parse()` as deprecated or considered for removal. Appreciate any input.","title":"Is this a bug in SimpleDateFormat, or a feature?","body":"<p>I recently changed... continents and temporarily forgot to signify July 27th 2023 in the European way, i.e <code>&quot;27/07/2023&quot;</code>, and instead maintained the American - style literal <code>&quot;07/27/2023&quot;</code>, which I promptly passed as argument to the <code>parse</code> method of a <code>SimpleDateFormat</code> instance initialized with the European pattern <code>&quot;dd/MM/yyyy&quot;</code>. I would have expected a <code>ParseException</code> to arise since there are only 12 months in the year, but the following runs fine:</p>\n<p><code>System.out.println(new SimpleDateFormat(&quot;dd/MM/yyyy&quot;).parse(&quot;07/27/2023&quot;));</code></p>\n<p>and outputs</p>\n<p><code>Fri Mar 07 00:00:00 EET 2025</code></p>\n<p>I'm running <code>corretto-17.0.2</code> JDK.</p>\n<p>I understand why this happens mathematically (<code>27 = 2 * 12 + 3</code> and it's March of <code>2023 + 2 = 2025</code>, yay!) and I also understand that <code>SimpleDateFormat</code> has problems of its own, e.g thread (un)safety, but I was wondering whether this is something that could be reported as a bug, or whether there is some logic behind it that I don't understand. The <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/text/DateFormat.html#parse(java.lang.String)\" rel=\"nofollow noreferrer\">official Oracle docs</a> DON'T stipulate <code>SimpleDateFormat::parse()</code> as deprecated or considered for removal. Appreciate any input.</p>\n"},{"tags":["java","amazon-web-services","spring-boot","aws-iot"],"answers":[{"comments":[{"owner":{"account_id":5744639,"reputation":115,"user_id":4536197,"display_name":"Happs"},"score":0,"creation_date":1691470188,"post_id":76856423,"comment_id":135492177,"body_markdown":"This make sense. But I have follow-up question to this. How WebIdentityTokenCredentialsProvider gets to know the token is expired and it needs to refresh. Does it internally have some refresh listener which continuously checks the credentials validity. Where is that implementation?","body":"This make sense. But I have follow-up question to this. How WebIdentityTokenCredentialsProvider gets to know the token is expired and it needs to refresh. Does it internally have some refresh listener which continuously checks the credentials validity. Where is that implementation?"},{"owner":{"account_id":27679623,"reputation":1,"user_id":21128661,"display_name":"jerbear"},"score":0,"creation_date":1691473468,"post_id":76856423,"comment_id":135492540,"body_markdown":"It actually seems like the WebIdentityTokenCredentialsProvider doesn&#39;t have a refresh implementation, and just gives static credentials.\n\nhttps://github.com/aws/aws-sdk-java/blob/95aa0b7719d83e050ba9a31622add2e5f685f777/aws-java-sdk-core/src/main/java/com/amazonaws/auth/WebIdentityTokenCredentialsProvider.java#L80-L82\n\nhttps://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/auth/AWSCredentialsProvider.html#refresh--","body":"It actually seems like the WebIdentityTokenCredentialsProvider doesn&#39;t have a refresh implementation, and just gives static credentials.  <a href=\"https://github.com/aws/aws-sdk-java/blob/95aa0b7719d83e050ba9a31622add2e5f685f777/aws-java-sdk-core/src/main/java/com/amazonaws/auth/WebIdentityTokenCredentialsProvider.java#L80-L82\" rel=\"nofollow noreferrer\">github.com/aws/aws-sdk-java/blob/&hellip;</a>  <a href=\"https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/auth/AWSCredentialsProvider.html#refresh--\" rel=\"nofollow noreferrer\">docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/&zwnj;&#8203;&hellip;</a>"},{"owner":{"account_id":5744639,"reputation":115,"user_id":4536197,"display_name":"Happs"},"score":0,"creation_date":1691474846,"post_id":76856423,"comment_id":135492692,"body_markdown":"But it internally uses STSProfileCredentialsServiceProvider which has refresh implementation. How does this class knows about the token expiry?","body":"But it internally uses STSProfileCredentialsServiceProvider which has refresh implementation. How does this class knows about the token expiry?"},{"owner":{"account_id":27679623,"reputation":1,"user_id":21128661,"display_name":"jerbear"},"score":0,"creation_date":1691507544,"post_id":76856423,"comment_id":135499550,"body_markdown":"You&#39;re right, the default WebIdentityTokenCredentialsProvider just wraps STSProfileCredentialsServiceProvider, which contains a ProfileCredentialsService vending another CredentialsProvider. This is the one with the actual refresh handling. It contains a [RefreshableTask](https://github.com/aws/aws-sdk-java/blob/master/aws-java-sdk-sts/src/main/java/com/amazonaws/auth/RefreshableTask.java) which starts a thread that keeps track of [the expiry time](https://github.com/aws/aws-sdk-java/blob/master/aws-java-sdk-sts/src/main/java/com/amazonaws/auth/ShouldDoAsyncSessionRefresh.java) and refreshes.","body":"You&#39;re right, the default WebIdentityTokenCredentialsProvider just wraps STSProfileCredentialsServiceProvider, which contains a ProfileCredentialsService vending another CredentialsProvider. This is the one with the actual refresh handling. It contains a <a href=\"https://github.com/aws/aws-sdk-java/blob/master/aws-java-sdk-sts/src/main/java/com/amazonaws/auth/RefreshableTask.java\" rel=\"nofollow noreferrer\">RefreshableTask</a> which starts a thread that keeps track of <a href=\"https://github.com/aws/aws-sdk-java/blob/master/aws-java-sdk-sts/src/main/java/com/amazonaws/auth/ShouldDoAsyncSessionRefresh.java\" rel=\"nofollow noreferrer\">the expiry time</a> and refreshes."}],"tags":[],"owner":{"account_id":27679623,"reputation":1,"user_id":21128661,"display_name":"jerbear"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691467424,"creation_date":1691467424,"answer_id":76856423,"question_id":76854832,"body_markdown":"The AmazonS3Client has a [reference to the credential provider][1]. When it needs to make a request, it will [sign it using the credentials provided][2] by the WebIdentityTokenCredentialsProvider (in your case). As long as this provider refreshes its credentials before the last ones expire, the client will always have a reference to valid credentials.\r\n\r\nNot sure if this is what you mean, but most constructors taking in AWS IAM tokens as a parameter are deprecated in favor of using a CredentialsProvider [like so][3].\r\n\r\n\r\n  [1]: https://github.com/aws/aws-sdk-java/blob/95aa0b7719d83e050ba9a31622add2e5f685f777/aws-java-sdk-s3/src/main/java/com/amazonaws/services/s3/AmazonS3Client.java#L451\r\n  [2]: https://github.com/aws/aws-sdk-java/blob/95aa0b7719d83e050ba9a31622add2e5f685f777/aws-java-sdk-s3/src/main/java/com/amazonaws/services/s3/AmazonS3Client.java#L4383-L4384\r\n  [3]: https://github.com/aws/aws-iot-device-sdk-java/blob/32facbab00eaf77c0367e58319a94d1b062ed40a/aws-iot-device-sdk-java/src/main/java/com/amazonaws/services/iot/client/AWSIotMqttClient.java#L305-L307","title":"How DefaultAWSCredentialsProviderChain refresh the aws client token?","body":"<p>The AmazonS3Client has a <a href=\"https://github.com/aws/aws-sdk-java/blob/95aa0b7719d83e050ba9a31622add2e5f685f777/aws-java-sdk-s3/src/main/java/com/amazonaws/services/s3/AmazonS3Client.java#L451\" rel=\"nofollow noreferrer\">reference to the credential provider</a>. When it needs to make a request, it will <a href=\"https://github.com/aws/aws-sdk-java/blob/95aa0b7719d83e050ba9a31622add2e5f685f777/aws-java-sdk-s3/src/main/java/com/amazonaws/services/s3/AmazonS3Client.java#L4383-L4384\" rel=\"nofollow noreferrer\">sign it using the credentials provided</a> by the WebIdentityTokenCredentialsProvider (in your case). As long as this provider refreshes its credentials before the last ones expire, the client will always have a reference to valid credentials.</p>\n<p>Not sure if this is what you mean, but most constructors taking in AWS IAM tokens as a parameter are deprecated in favor of using a CredentialsProvider <a href=\"https://github.com/aws/aws-iot-device-sdk-java/blob/32facbab00eaf77c0367e58319a94d1b062ed40a/aws-iot-device-sdk-java/src/main/java/com/amazonaws/services/iot/client/AWSIotMqttClient.java#L305-L307\" rel=\"nofollow noreferrer\">like so</a>.</p>\n"}],"owner":{"account_id":5744639,"reputation":115,"user_id":4536197,"display_name":"Happs"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":229,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1691467424,"creation_date":1691438216,"question_id":76854832,"body_markdown":"I am creating AmazonS3Client using DefaultAWSCredentialsProviderChain.\r\nInside this, I have used WebIdentityTokenCredentialsProvider which is internally calling STSProfileCredentialsServiceLoader.\r\nMy question is, in the case when the token is refreshed, how AmazonS3Client automatically get to know about it and uses the new credentials?  Once the bean(AmazonS3Client) is created, how the tokens are refreshed and reflected back to the already instantiated bean? Is there any implementation that is modifying the AmazonS3Client? I am unable to get the code flow between AmazonS3Client and AWSCredentialsProvider. Can someone help me to understand that?\r\n\r\nAlso is there any way to achieve the same(DefaultAWSCredentialsProviderChain) using any custom implementation while creating AWSIotMqttClient bean?\r\n\r\nI am using java-spring-boot for building the application.","title":"How DefaultAWSCredentialsProviderChain refresh the aws client token?","body":"<p>I am creating AmazonS3Client using DefaultAWSCredentialsProviderChain.\nInside this, I have used WebIdentityTokenCredentialsProvider which is internally calling STSProfileCredentialsServiceLoader.\nMy question is, in the case when the token is refreshed, how AmazonS3Client automatically get to know about it and uses the new credentials?  Once the bean(AmazonS3Client) is created, how the tokens are refreshed and reflected back to the already instantiated bean? Is there any implementation that is modifying the AmazonS3Client? I am unable to get the code flow between AmazonS3Client and AWSCredentialsProvider. Can someone help me to understand that?</p>\n<p>Also is there any way to achieve the same(DefaultAWSCredentialsProviderChain) using any custom implementation while creating AWSIotMqttClient bean?</p>\n<p>I am using java-spring-boot for building the application.</p>\n"},{"tags":["java","property-placeholder"],"owner":{"account_id":8663935,"reputation":33,"user_id":6485221,"display_name":"Kovacs"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1691467537,"answer_count":0,"score":0,"last_activity_date":1691465163,"creation_date":1691465163,"question_id":76856314,"body_markdown":"I have a sql like `insert into USER(NAME,AGE) VALUES(:NAME,:AGE)`\r\nand I have an object like User(name=&#39;gggg&#39;,age=10)\r\n\r\nhow to render the sql get the result like `insert into USER(NAME,AGE) VALUES(&#39;ggg&#39;,10)`","title":"how to render sql with colon named parameters","body":"<p>I have a sql like <code>insert into USER(NAME,AGE) VALUES(:NAME,:AGE)</code>\nand I have an object like User(name='gggg',age=10)</p>\n<p>how to render the sql get the result like <code>insert into USER(NAME,AGE) VALUES('ggg',10)</code></p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":5237964,"reputation":6741,"user_id":4185959,"accept_rate":64,"display_name":"Itai"},"score":3,"creation_date":1452764747,"post_id":34786120,"comment_id":57316339,"body_markdown":"Possibly the only difference is that in `init` you can get the parameters - see [here](https://docs.oracle.com/javase/8/javafx/api/javafx/application/Application.html) and [here](https://docs.oracle.com/javase/8/javafx/api/javafx/application/Application.html#getParameters--)","body":"Possibly the only difference is that in <code>init</code> you can get the parameters - see <a href=\"https://docs.oracle.com/javase/8/javafx/api/javafx/application/Application.html\" rel=\"nofollow noreferrer\">here</a> and <a href=\"https://docs.oracle.com/javase/8/javafx/api/javafx/application/Application.html#getParameters--\" rel=\"nofollow noreferrer\">here</a>"}],"answers":[{"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1452779479,"post_id":34786396,"comment_id":57325750,"body_markdown":"Everything you say here is also true for the constructor.","body":"Everything you say here is also true for the constructor."}],"tags":[],"owner":{"account_id":1141520,"reputation":2369,"user_id":1125284,"display_name":"Zico"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1452765234,"creation_date":1452765234,"answer_id":34786396,"question_id":34786120,"body_markdown":"Application Class having init() method which you have override.\r\nThe Init method will call immediately after the Test class construction.\r\nInit method is actually an internal method of Application Class. This method is actually initialize the whole FX application components internally.\r\n\r\n[Application class JavaDoc][1]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/javafx/api/javafx/application/Application.html\r\n\r\n\r\nit may construct other JavaFX objects in this method.","title":"JavaFX Application class - difference between default constructor and init method","body":"<p>Application Class having init() method which you have override.\nThe Init method will call immediately after the Test class construction.\nInit method is actually an internal method of Application Class. This method is actually initialize the whole FX application components internally.</p>\n\n<p><a href=\"https://docs.oracle.com/javase/8/javafx/api/javafx/application/Application.html\" rel=\"nofollow\">Application class JavaDoc</a></p>\n\n<p>it may construct other JavaFX objects in this method.</p>\n"},{"tags":[],"owner":{"account_id":3583958,"reputation":80987,"user_id":2991525,"display_name":"fabian"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1452774223,"creation_date":1452774223,"answer_id":34789541,"question_id":34786120,"body_markdown":"When the `Application` is launched, the following steps are executed during the launch process:\r\n\r\n1. The instance of the `Application` subclass that should be launched is created. (Constructor is called)\r\n2. The `init()` of that instance is called.\r\n3. The `start` method of that instance is called.\r\n\r\n[See javadoc for `Application`][application]\r\n\r\nSince you [exit the application][platform exit] after the `start` method is called, the `stop` method of the instance is called.\r\n\r\nNote that there is no need to use `super.init()` and `super.stop()`:\r\n\r\nFrom the javadoc\r\n\r\n&gt; The `init` and `stop` methods have concrete implementations that do nothing.\r\n\r\n&lt;br&gt;&lt;br&gt;\r\n\r\nThe differences of constructor, `init` and `start` are:\r\n\r\n### Constructor\r\n\r\nIf your application is not `final` the application class could be extended. Since the constructor of the extending class is not complete, it may be dangerous to pass a reference to the class to other classes in this state. Also the instance hasn&#39;t been initialized to a point where the `getParameters` method returns the parameters.\r\n\r\n### `init`\r\n\r\nInitialisation should generally be done in this method. This method isn&#39;t run from the fx application thread, so some things cannot be done from this method, like creating a `Stage`.\r\n\r\n### `start`\r\n\r\nLast step in the initialisation. Do things that require to be run from the application thread here. Be careful not to block this thread with long-runing operations however, since this freezes the GUI. \r\n\r\n[application]: https://docs.oracle.com/javase/8/javafx/api/javafx/application/Application.html\r\n[platform exit]: https://docs.oracle.com/javase/8/javafx/api/javafx/application/Platform.html#exit--","title":"JavaFX Application class - difference between default constructor and init method","body":"<p>When the <code>Application</code> is launched, the following steps are executed during the launch process:</p>\n\n<ol>\n<li>The instance of the <code>Application</code> subclass that should be launched is created. (Constructor is called)</li>\n<li>The <code>init()</code> of that instance is called.</li>\n<li>The <code>start</code> method of that instance is called.</li>\n</ol>\n\n<p><a href=\"https://docs.oracle.com/javase/8/javafx/api/javafx/application/Application.html\" rel=\"noreferrer\">See javadoc for <code>Application</code></a></p>\n\n<p>Since you <a href=\"https://docs.oracle.com/javase/8/javafx/api/javafx/application/Platform.html#exit--\" rel=\"noreferrer\">exit the application</a> after the <code>start</code> method is called, the <code>stop</code> method of the instance is called.</p>\n\n<p>Note that there is no need to use <code>super.init()</code> and <code>super.stop()</code>:</p>\n\n<p>From the javadoc</p>\n\n<blockquote>\n  <p>The <code>init</code> and <code>stop</code> methods have concrete implementations that do nothing.</p>\n</blockquote>\n\n<p><br><br></p>\n\n<p>The differences of constructor, <code>init</code> and <code>start</code> are:</p>\n\n<h3>Constructor</h3>\n\n<p>If your application is not <code>final</code> the application class could be extended. Since the constructor of the extending class is not complete, it may be dangerous to pass a reference to the class to other classes in this state. Also the instance hasn't been initialized to a point where the <code>getParameters</code> method returns the parameters.</p>\n\n<h3><code>init</code></h3>\n\n<p>Initialisation should generally be done in this method. This method isn't run from the fx application thread, so some things cannot be done from this method, like creating a <code>Stage</code>.</p>\n\n<h3><code>start</code></h3>\n\n<p>Last step in the initialisation. Do things that require to be run from the application thread here. Be careful not to block this thread with long-runing operations however, since this freezes the GUI. </p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691464761,"creation_date":1691457968,"answer_id":76856001,"question_id":34786120,"body_markdown":"# tl;dr\r\n\r\n&gt; difference is between using the default constructor or the init\r\n\r\n`init` runs on a separate thread. \r\n\r\n# Threading\r\n\r\nSee the [*Threading*][1] section of the Javadoc. \r\n\r\nThe `main` method of any Java app executes on an initial thread assigned to that app.\r\n\r\nIn a JavaFX app, the construction of your `Application` subclass occurs on another thread, a thread named *JavaFX Application Thread*. This thread is the event-dispatching thread for your JavaFX app. Any `Stage` and `Scene` objects, and their contained JavaFX objects, must only be accessed and manipulated from this particular thread. \r\n\r\nAfter construction of your `Application` subclass, the JavaFX framework automatically invokes the `Application#init` on yet another thread, a third thread, a “launcher thread”. \r\n\r\nWhile that `init` method executes on the other thread, the JavaFX framework executes the `Application#start` method. The crucial point here is that `start` runs *alongside* `init`, *not after* `init` completes. The execution of `init` and `start` can overlap in time. \r\n\r\n\r\nSo at least *three* threads are involved in getting your JavaFX/OpenJFX app going. \r\n\r\n\r\n----------\r\n\r\n\r\nSee a my table of sequence steps of a JavaFX app’s lifecycle in [my Answer][2] on a related Question. \r\n\r\n\r\n  [1]: https://openjfx.io/javadoc/20/javafx.graphics/javafx/application/Application.html\r\n  [2]: https://stackoverflow.com/a/76800602/642706","title":"JavaFX Application class - difference between default constructor and init method","body":"<h1>tl;dr</h1>\n<blockquote>\n<p>difference is between using the default constructor or the init</p>\n</blockquote>\n<p><code>init</code> runs on a separate thread.</p>\n<h1>Threading</h1>\n<p>See the <a href=\"https://openjfx.io/javadoc/20/javafx.graphics/javafx/application/Application.html\" rel=\"nofollow noreferrer\"><em>Threading</em></a> section of the Javadoc.</p>\n<p>The <code>main</code> method of any Java app executes on an initial thread assigned to that app.</p>\n<p>In a JavaFX app, the construction of your <code>Application</code> subclass occurs on another thread, a thread named <em>JavaFX Application Thread</em>. This thread is the event-dispatching thread for your JavaFX app. Any <code>Stage</code> and <code>Scene</code> objects, and their contained JavaFX objects, must only be accessed and manipulated from this particular thread.</p>\n<p>After construction of your <code>Application</code> subclass, the JavaFX framework automatically invokes the <code>Application#init</code> on yet another thread, a third thread, a “launcher thread”.</p>\n<p>While that <code>init</code> method executes on the other thread, the JavaFX framework executes the <code>Application#start</code> method. The crucial point here is that <code>start</code> runs <em>alongside</em> <code>init</code>, <em>not after</em> <code>init</code> completes. The execution of <code>init</code> and <code>start</code> can overlap in time.</p>\n<p>So at least <em>three</em> threads are involved in getting your JavaFX/OpenJFX app going.</p>\n<hr />\n<p>See a my table of sequence steps of a JavaFX app’s lifecycle in <a href=\"https://stackoverflow.com/a/76800602/642706\">my Answer</a> on a related Question.</p>\n"}],"owner":{"account_id":2838423,"reputation":4567,"user_id":2438518,"accept_rate":53,"display_name":"mrbela"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4150,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":34789541,"answer_count":3,"score":4,"last_activity_date":1691464761,"creation_date":1452764455,"question_id":34786120,"body_markdown":"I have written a little test application that looks like this:\r\n\r\n    import javafx.application.Application;\r\n    import javafx.application.Platform;\r\n    import javafx.stage.Stage;\r\n    \r\n    public class Test extends Application {\r\n    \r\n    \tpublic Test() {\r\n    \t\tSystem.out.println(&quot;first&quot;);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void init() throws Exception {\r\n    \t\tSystem.out.println(&quot;second&quot;);\r\n    \t\tsuper.init();\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void start(Stage primaryStage) throws Exception {\r\n    \t\tSystem.out.println(&quot;third&quot;);\r\n    \t\tPlatform.exit();\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void stop() throws Exception {\r\n    \t\tSystem.out.println(&quot;fourth&quot;);\r\n    \t\tsuper.stop();\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tlaunch(args);\r\n    \t}\r\n    }\r\n\r\nThe output is:\r\n\r\n    first\r\n    second\r\n    third\r\n    fourth\r\n\r\nNow, I am asking myself where the difference is between using the default constructor or the `init` method for initialising some required things.\r\n\r\nThanks!\r\n\r\nP.S.: This question is not duplicate with [this one][1], because my issue does not handle the initialisation of variables. My question is `JavaFX` specific!\r\n\r\n  [1]: https://stackoverflow.com/questions/804589/use-of-initializers-vs-constructors-in-java","title":"JavaFX Application class - difference between default constructor and init method","body":"<p>I have written a little test application that looks like this:</p>\n\n<pre><code>import javafx.application.Application;\nimport javafx.application.Platform;\nimport javafx.stage.Stage;\n\npublic class Test extends Application {\n\n    public Test() {\n        System.out.println(\"first\");\n    }\n\n    @Override\n    public void init() throws Exception {\n        System.out.println(\"second\");\n        super.init();\n    }\n\n    @Override\n    public void start(Stage primaryStage) throws Exception {\n        System.out.println(\"third\");\n        Platform.exit();\n    }\n\n    @Override\n    public void stop() throws Exception {\n        System.out.println(\"fourth\");\n        super.stop();\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n\n<p>The output is:</p>\n\n<pre><code>first\nsecond\nthird\nfourth\n</code></pre>\n\n<p>Now, I am asking myself where the difference is between using the default constructor or the <code>init</code> method for initialising some required things.</p>\n\n<p>Thanks!</p>\n\n<p>P.S.: This question is not duplicate with <a href=\"https://stackoverflow.com/questions/804589/use-of-initializers-vs-constructors-in-java\">this one</a>, because my issue does not handle the initialisation of variables. My question is <code>JavaFX</code> specific!</p>\n"},{"tags":["java","spring-mvc","swagger","springfox"],"comments":[{"owner":{"account_id":10229,"reputation":5427,"user_id":19219,"display_name":"Dilip Krishnan"},"score":0,"creation_date":1431041678,"post_id":30102898,"comment_id":48337595,"body_markdown":"You should try and move to 2.x of springfox. At the very least update your version to 1.0.2.","body":"You should try and move to 2.x of springfox. At the very least update your version to 1.0.2."},{"owner":{"account_id":1019629,"reputation":14292,"user_id":1469259,"accept_rate":88,"display_name":"CupawnTae"},"score":0,"creation_date":1431043958,"post_id":30102898,"comment_id":48338246,"body_markdown":"Yes, we&#39;re doing that, but I don&#39;t think that will help, will it? Specifically, I read that `dataType` will be ignored unless it&#39;s a fully-qualified class name.","body":"Yes, we&#39;re doing that, but I don&#39;t think that will help, will it? Specifically, I read that <code>dataType</code> will be ignored unless it&#39;s a fully-qualified class name."},{"owner":{"account_id":10229,"reputation":5427,"user_id":19219,"display_name":"Dilip Krishnan"},"score":0,"creation_date":1431044278,"post_id":30102898,"comment_id":48338335,"body_markdown":"Remove the annotation or at the very least remove datatype attribute (if you need to preserve the description) and it should do the right thing","body":"Remove the annotation or at the very least remove datatype attribute (if you need to preserve the description) and it should do the right thing"},{"owner":{"account_id":10229,"reputation":5427,"user_id":19219,"display_name":"Dilip Krishnan"},"score":0,"creation_date":1431044425,"post_id":30102898,"comment_id":48338374,"body_markdown":"Oh also to be codegen friendly setup the Docket with forCodeGeneration true","body":"Oh also to be codegen friendly setup the Docket with forCodeGeneration true"},{"owner":{"account_id":1019629,"reputation":14292,"user_id":1469259,"accept_rate":88,"display_name":"CupawnTae"},"score":0,"creation_date":1431044690,"post_id":30102898,"comment_id":48338449,"body_markdown":"We need to keep the description, so we need the annotation. But will it generate `&quot;array&quot;` now instead of `&quot;List&quot;` if we omit `dataType`?`Will check out the flag, thanks (although we want to run swagger-ui from the same build, so that sounds a bit scary)","body":"We need to keep the description, so we need the annotation. But will it generate <code>&quot;array&quot;</code> now instead of <code>&quot;List&quot;</code> if we omit <code>dataType</code>?`Will check out the flag, thanks (although we want to run swagger-ui from the same build, so that sounds a bit scary)"},{"owner":{"account_id":10229,"reputation":5427,"user_id":19219,"display_name":"Dilip Krishnan"},"score":0,"creation_date":1431044850,"post_id":30102898,"comment_id":48338491,"body_markdown":"Yes it will :) about the swagger-ui question, it will absolutely work, only it won&#39;t look like a generic class.","body":"Yes it will :) about the swagger-ui question, it will absolutely work, only it won&#39;t look like a generic class."}],"answers":[{"comments":[{"owner":{"account_id":5457517,"reputation":645,"user_id":4340496,"accept_rate":79,"display_name":"hao"},"score":0,"creation_date":1493888232,"post_id":32813637,"comment_id":74597056,"body_markdown":"Hi, I am trying this solution but it didn&#39;t work. I want to render a variable with type String to List&lt;String&gt;. I have dataType in ApiModelProperty as &quot;List&lt;String&gt;&quot;, but it will just render String anyway. Seems it is still igonring the dataType field...","body":"Hi, I am trying this solution but it didn&#39;t work. I want to render a variable with type String to List&lt;String&gt;. I have dataType in ApiModelProperty as &quot;List&lt;String&gt;&quot;, but it will just render String anyway. Seems it is still igonring the dataType field..."}],"tags":[],"owner":{"account_id":10229,"reputation":5427,"user_id":19219,"display_name":"Dilip Krishnan"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1443394109,"creation_date":1443394109,"answer_id":32813637,"question_id":30102898,"body_markdown":"For the most part the swagger annotations are only an aid to the springfox engine to infer additional information about the types like description/hidden/readonly etc that are not otherwise available from the type system. It can also used as a crutch to represent types that are not easily inferred. Data types can be overriden, but just for type safety as it was pointed out in the comment.\r\n\r\n&gt; Specifically, I read that dataType will be ignored unless it&#39;s a fully-qualified class name.\r\n\r\nLike @CupawnTae suggested, [version 2.x of springfox][1] supports an option to render generic types with code-generation friendly and language agnostic representations of generic types. \r\n\r\nWhen creating/configuring your docket you will need to specify that the rendered swagger service description needs to be code-generation friendly using the `forCodeGeneration` option\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    @Bean\r\n    public Docket docket() {\r\n        return new Docket(DocumentationType.SWAGGER_2)\r\n          ...\r\n          .forCodeGeneration(true)\r\n          ...;\r\n    }\r\n\r\nThis will cause springfox to render generic types like `List&lt;String&gt;`\r\n\r\n- as `ListOfString` when `forCodeGeneration` is set to true\r\n- as `List&#171;String&#187;` when `forCodeGeneration` is set to false\r\n\r\n\r\n  [1]: http://springfox.io &quot;version 2.x of springfox&quot;","title":"How to represent fields with generic types like List&lt;Something&gt; in swagger-spring-mvc for swagger-codegen","body":"<p>For the most part the swagger annotations are only an aid to the springfox engine to infer additional information about the types like description/hidden/readonly etc that are not otherwise available from the type system. It can also used as a crutch to represent types that are not easily inferred. Data types can be overriden, but just for type safety as it was pointed out in the comment.</p>\n\n<blockquote>\n  <p>Specifically, I read that dataType will be ignored unless it's a fully-qualified class name.</p>\n</blockquote>\n\n<p>Like @CupawnTae suggested, <a href=\"http://springfox.io\" rel=\"nofollow\" title=\"version 2.x of springfox\">version 2.x of springfox</a> supports an option to render generic types with code-generation friendly and language agnostic representations of generic types. </p>\n\n<p>When creating/configuring your docket you will need to specify that the rendered swagger service description needs to be code-generation friendly using the <code>forCodeGeneration</code> option</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic Docket docket() {\n    return new Docket(DocumentationType.SWAGGER_2)\n      ...\n      .forCodeGeneration(true)\n      ...;\n}\n</code></pre>\n\n<p>This will cause springfox to render generic types like <code>List&lt;String&gt;</code></p>\n\n<ul>\n<li>as <code>ListOfString</code> when <code>forCodeGeneration</code> is set to true</li>\n<li>as <code>List«String»</code> when <code>forCodeGeneration</code> is set to false</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3864689,"reputation":1,"user_id":3201494,"display_name":"eonder"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666877036,"creation_date":1666877036,"answer_id":74222807,"question_id":30102898,"body_markdown":"You can try notation below. Dont&#39;t forget to use package info of you class\r\n\r\n    @ApiModelProperty(dataType = &quot;[Lyour.package.Account;&quot;)\r\n    private List&lt;Account&gt; accounts;","title":"How to represent fields with generic types like List&lt;Something&gt; in swagger-spring-mvc for swagger-codegen","body":"<p>You can try notation below. Dont't forget to use package info of you class</p>\n<pre><code>@ApiModelProperty(dataType = &quot;[Lyour.package.Account;&quot;)\nprivate List&lt;Account&gt; accounts;\n</code></pre>\n"}],"owner":{"account_id":1019629,"reputation":14292,"user_id":1469259,"accept_rate":88,"display_name":"CupawnTae"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7383,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":32813637,"answer_count":2,"score":4,"last_activity_date":1691463918,"creation_date":1431006147,"question_id":30102898,"body_markdown":"I&#39;m using swagger-spring-mvc 0.9.5 and have fields like this in my response data:\r\n\r\n\t@ApiModelProperty(&quot;Some description&quot;)\r\n\tprivate List&lt;Account&gt; accounts;\r\n\r\nShort version of the question: **how can I get from this annotated Java to e.g. Objective C via swagger-codegen?**\r\n\r\nThe swagger JSON that gets generated by that is:\r\n\r\n    accounts: {\r\n      description: &quot;Some description&quot;,\r\n      items: {\r\n        type: &quot;Account&quot;\r\n      },\r\n      required: false,\r\n      type: &quot;List&quot;\r\n    }\r\n\r\nMy colleague is feeding this into swagger-codegen to generate Objective C classes, and it&#39;s producing code that doesn&#39;t compile.\r\n\r\n    @property (nonatomic, strong) NSArray&lt;Optional, NSArray&gt; *accounts;\r\n\r\nbecause `NSArray` (inside the `&lt; &gt;`) isn&#39;t a protocol.\r\n\r\nThe swagger template files (mustache) create a protocol for each model. When that protocol is specified on an array, it is picked up by JSONModel to generate the correct models from the data inside the list / array. So in this case the expected output is\r\n\r\n    @property (nonatomic, strong) NSArray&lt;Optional, MAAccount&gt; *accounts;\r\n\r\nThis will create an `NSArray` of `MAAccount`&#39;s (`Account` being the object type and `MA` being a prefix that swagger already has).\r\n\r\nIf we hand-edit the swagger JSON to change `List` to `array` (as suggested in various similar cases), the output is correct, but we want to avoid this manual step.\r\n\r\nSo I tried to get swagger-spring-mvc to use `&quot;array&quot;`:\r\n\r\n\t@ApiModelProperty(value = &quot;Some description&quot;, dataType = &quot;array&quot;)\r\n\tprivate List&lt;Account&gt; accounts;\r\n\r\nBut then discovered that `dataType` is ignored in swagger-spring-mvc 0.9.5, and by the looks of it, in springfox 2.0 it is ignored unless it&#39;s a fully-qualified Java class name.\r\n\r\nIs there a way to achieve this, either by getting swagger-spring-mvc/springfox to use `&quot;array&quot;` or by any other means?","title":"How to represent fields with generic types like List&lt;Something&gt; in swagger-spring-mvc for swagger-codegen","body":"<p>I'm using swagger-spring-mvc 0.9.5 and have fields like this in my response data:</p>\n\n<pre><code>@ApiModelProperty(\"Some description\")\nprivate List&lt;Account&gt; accounts;\n</code></pre>\n\n<p>Short version of the question: <strong>how can I get from this annotated Java to e.g. Objective C via swagger-codegen?</strong></p>\n\n<p>The swagger JSON that gets generated by that is:</p>\n\n<pre><code>accounts: {\n  description: \"Some description\",\n  items: {\n    type: \"Account\"\n  },\n  required: false,\n  type: \"List\"\n}\n</code></pre>\n\n<p>My colleague is feeding this into swagger-codegen to generate Objective C classes, and it's producing code that doesn't compile.</p>\n\n<pre><code>@property (nonatomic, strong) NSArray&lt;Optional, NSArray&gt; *accounts;\n</code></pre>\n\n<p>because <code>NSArray</code> (inside the <code>&lt; &gt;</code>) isn't a protocol.</p>\n\n<p>The swagger template files (mustache) create a protocol for each model. When that protocol is specified on an array, it is picked up by JSONModel to generate the correct models from the data inside the list / array. So in this case the expected output is</p>\n\n<pre><code>@property (nonatomic, strong) NSArray&lt;Optional, MAAccount&gt; *accounts;\n</code></pre>\n\n<p>This will create an <code>NSArray</code> of <code>MAAccount</code>'s (<code>Account</code> being the object type and <code>MA</code> being a prefix that swagger already has).</p>\n\n<p>If we hand-edit the swagger JSON to change <code>List</code> to <code>array</code> (as suggested in various similar cases), the output is correct, but we want to avoid this manual step.</p>\n\n<p>So I tried to get swagger-spring-mvc to use <code>\"array\"</code>:</p>\n\n<pre><code>@ApiModelProperty(value = \"Some description\", dataType = \"array\")\nprivate List&lt;Account&gt; accounts;\n</code></pre>\n\n<p>But then discovered that <code>dataType</code> is ignored in swagger-spring-mvc 0.9.5, and by the looks of it, in springfox 2.0 it is ignored unless it's a fully-qualified Java class name.</p>\n\n<p>Is there a way to achieve this, either by getting swagger-spring-mvc/springfox to use <code>\"array\"</code> or by any other means?</p>\n"},{"tags":["java","spring","spring-boot","gradle","spring-security"],"answers":[{"tags":[],"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1691460252,"creation_date":1691460252,"answer_id":76856088,"question_id":76855335,"body_markdown":"You should change the `org.springframework.boot` because you use spring boot, in your case you have `2.3.4R` i recommend you to migrate in 2 steps.\r\n\r\n First one: change version to `2.7.8` that work great with jdk 8 that you use, here you will have some changes in openapi(recommendation sprinfox(swagger2) with opendoc-api [migration-guide](https://springdoc.org/migrating-from-springfox.html), because *Springfox is deprecated for removal in version 7.0. 0 of openapi-generator. The project seems to be no longer maintained (last commit is of Oct 14, 2020). It works with Spring Boot 2.5.*) \r\nAlso some problems can appear with dependency injections you should fix it) and that&#39;s all i think.\r\n\r\nSecond stept: from `2.7.8 to 3.1.x` here is more interesting you should have jdk 17 also you will have migraion to newest java version, you can find more articles about how to do it, about spring-boot [Migration Guide](https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.0-Migration-Guide)\r\n","title":"How do I update my build.gradle file to update the current Spring version?","body":"<p>You should change the <code>org.springframework.boot</code> because you use spring boot, in your case you have <code>2.3.4R</code> i recommend you to migrate in 2 steps.</p>\n<p>First one: change version to <code>2.7.8</code> that work great with jdk 8 that you use, here you will have some changes in openapi(recommendation sprinfox(swagger2) with opendoc-api <a href=\"https://springdoc.org/migrating-from-springfox.html\" rel=\"nofollow noreferrer\">migration-guide</a>, because <em>Springfox is deprecated for removal in version 7.0. 0 of openapi-generator. The project seems to be no longer maintained (last commit is of Oct 14, 2020). It works with Spring Boot 2.5.</em>)\nAlso some problems can appear with dependency injections you should fix it) and that's all i think.</p>\n<p>Second stept: from <code>2.7.8 to 3.1.x</code> here is more interesting you should have jdk 17 also you will have migraion to newest java version, you can find more articles about how to do it, about spring-boot <a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.0-Migration-Guide\" rel=\"nofollow noreferrer\">Migration Guide</a></p>\n"}],"owner":{"account_id":29137377,"reputation":3,"user_id":22321229,"display_name":"Terry"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76856088,"answer_count":1,"score":0,"last_activity_date":1691460252,"creation_date":1691444674,"question_id":76855335,"body_markdown":"Here&#39;s my current build.gradle file:\r\n\r\n\r\n```\r\nplugins {\r\n\tid &#39;org.springframework.boot&#39; version &#39;2.3.4.RELEASE&#39;\r\n\tid &#39;io.spring.dependency-management&#39; version &#39;1.0.10.RELEASE&#39;\r\n\tid &quot;io.freefair.lombok&quot; version &quot;5.0.1&quot;\r\n\tid &#39;java&#39;\r\n\tid &#39;war&#39;\r\n\tid &quot;org.sonarqube&quot; version &quot;3.3&quot;\r\n\tid &#39;jacoco&#39;\r\n}\r\n\r\ngroup = &#39;XXX.XXXX.XXX&#39;\r\nversion = &#39;1.1.0&#39;\r\nsourceCompatibility = &#39;1.8&#39;\r\n\r\nrepositories {\r\n\tmaven {\r\n\t\turl &#39;https://XXXXXXXX.XXXX.XXX/XXXXXXXX/repo&#39;\r\n\t}\r\n\tmavenCentral()\r\n}\r\n\r\nwar {\r\n    enabled = true\r\n}\r\n\r\ndependencies {\r\n\truntimeOnly &#39;com.oracle.ojdbc:ojdbc8&#39;\r\n\r\n\timplementation &#39;org.springframework.boot:spring-boot&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-validation&#39;\r\n\t\r\n\timplementation &#39;org.apache.logging.log4j:log4j-api:2.17.1&#39;\r\n\timplementation &#39;org.apache.logging.log4j:log4j-to-slf4j:2.17.1&#39;\r\n\t\r\n\timplementation &#39;org.mybatis.spring.boot:mybatis-spring-boot-starter:2.1.3&#39;\r\n\t\r\n    implementation &quot;io.springfox:springfox-swagger2:2.9.2&quot;\r\n    implementation &#39;io.springfox:springfox-swagger-ui:2.9.2&#39;\r\n\r\n\timplementation fileTree(dir: &#39;src/main/libs&#39;, include: &#39;*.jar&#39;)\r\n\t\r\n\tprovidedRuntime &#39;org.springframework.boot:spring-boot-starter-tomcat&#39;\r\n\t\r\n\ttestImplementation(&#39;org.springframework.boot:spring-boot-starter-test&#39;) {\r\n\t\texclude group: &#39;org.junit.vintage&#39;, module: &#39;junit-vintage-engine&#39;\r\n\t}\r\n\ttestImplementation &#39;org.springframework.security:spring-security-test&#39;\r\n\t\r\n\t   \ttestImplementation &#39;org.junit.jupiter:junit-jupiter-api:5.7.0&#39;\r\n\ttestRuntimeOnly &#39;org.junit.jupiter:junit-jupiter-engine:5.7.0&#39;\r\n\ttestRuntimeOnly &#39;org.junit.platform:junit-platform-launcher:1.7.0&#39;\r\n\ttestImplementation &#39;org.junit.platform:junit-platform-console-standalone:1.9.2&#39;\r\n}\r\n\r\ntest {\r\n\tuseJUnitPlatform()\r\n\t   ignoreFailures = true\r\n          finalizedBy jacocoTestReport\r\n}\r\n\r\n  jacocoTestReport {\r\n    \tdependsOn test // tests are required to run before generating the report\r\n    \t\r\n     reports {\r\n    xml.enabled true\r\n    html.enabled true\r\n    xml.destination = file(getBuildDir().toString() + File.separator.toString() + &quot;jacoco&quot; + File.separator.toString() + &quot;coverage.xml&quot;)\r\n    csv.enabled false\r\n    html.destination = file(getBuildDir().toString() + File.separator.toString() + &quot;jacoco&quot; + File.separator.toString() + &quot;html&quot;)\r\n  }\r\n\t}\r\n```\r\n\r\nI tried changing the version numbers and modifying the plugin numbers or the dependencies, but I&#39;m unsure on where or what to change. I&#39;m trying to update the spring version either by using Eclipse or changing the build.gradle number manually. How do I update the build.gradle file to use a new Spring version - spring-security-core-5.3.4.RELEASE?","title":"How do I update my build.gradle file to update the current Spring version?","body":"<p>Here's my current build.gradle file:</p>\n<pre><code>plugins {\n    id 'org.springframework.boot' version '2.3.4.RELEASE'\n    id 'io.spring.dependency-management' version '1.0.10.RELEASE'\n    id &quot;io.freefair.lombok&quot; version &quot;5.0.1&quot;\n    id 'java'\n    id 'war'\n    id &quot;org.sonarqube&quot; version &quot;3.3&quot;\n    id 'jacoco'\n}\n\ngroup = 'XXX.XXXX.XXX'\nversion = '1.1.0'\nsourceCompatibility = '1.8'\n\nrepositories {\n    maven {\n        url 'https://XXXXXXXX.XXXX.XXX/XXXXXXXX/repo'\n    }\n    mavenCentral()\n}\n\nwar {\n    enabled = true\n}\n\ndependencies {\n    runtimeOnly 'com.oracle.ojdbc:ojdbc8'\n\n    implementation 'org.springframework.boot:spring-boot'\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation 'org.springframework.boot:spring-boot-starter-validation'\n    \n    implementation 'org.apache.logging.log4j:log4j-api:2.17.1'\n    implementation 'org.apache.logging.log4j:log4j-to-slf4j:2.17.1'\n    \n    implementation 'org.mybatis.spring.boot:mybatis-spring-boot-starter:2.1.3'\n    \n    implementation &quot;io.springfox:springfox-swagger2:2.9.2&quot;\n    implementation 'io.springfox:springfox-swagger-ui:2.9.2'\n\n    implementation fileTree(dir: 'src/main/libs', include: '*.jar')\n    \n    providedRuntime 'org.springframework.boot:spring-boot-starter-tomcat'\n    \n    testImplementation('org.springframework.boot:spring-boot-starter-test') {\n        exclude group: 'org.junit.vintage', module: 'junit-vintage-engine'\n    }\n    testImplementation 'org.springframework.security:spring-security-test'\n    \n        testImplementation 'org.junit.jupiter:junit-jupiter-api:5.7.0'\n    testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.7.0'\n    testRuntimeOnly 'org.junit.platform:junit-platform-launcher:1.7.0'\n    testImplementation 'org.junit.platform:junit-platform-console-standalone:1.9.2'\n}\n\ntest {\n    useJUnitPlatform()\n       ignoreFailures = true\n          finalizedBy jacocoTestReport\n}\n\n  jacocoTestReport {\n        dependsOn test // tests are required to run before generating the report\n        \n     reports {\n    xml.enabled true\n    html.enabled true\n    xml.destination = file(getBuildDir().toString() + File.separator.toString() + &quot;jacoco&quot; + File.separator.toString() + &quot;coverage.xml&quot;)\n    csv.enabled false\n    html.destination = file(getBuildDir().toString() + File.separator.toString() + &quot;jacoco&quot; + File.separator.toString() + &quot;html&quot;)\n  }\n    }\n</code></pre>\n<p>I tried changing the version numbers and modifying the plugin numbers or the dependencies, but I'm unsure on where or what to change. I'm trying to update the spring version either by using Eclipse or changing the build.gradle number manually. How do I update the build.gradle file to use a new Spring version - spring-security-core-5.3.4.RELEASE?</p>\n"},{"tags":["java","kotlin","bean-validation","hibernate-validator","javax-validation"],"answers":[{"tags":[],"owner":{"account_id":11888967,"reputation":61,"user_id":8700588,"display_name":"Дмитрий Брикман"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1691460201,"creation_date":1691460201,"answer_id":76856086,"question_id":76833228,"body_markdown":"Okay, it seems like I&#39;ve solved the problem. Indeed validation groups do the job, and fortunately even without using `@GroupSequence`.\r\n\r\nI have created a number of validation group interfaces and defined a desired order of them with which Hibernate Validator must validate my bean. Then I have placed my groups in annotations with the corresponding order of applying. And after that all that remains to do is to loop through the ordered group list and invoke Hibernate Validator with each group separately (checking whether validation with the next group has failed and breaking the loop if so).\r\n\r\nGroups definition and their usage in the validation annotations:\r\n\r\n```kotlin\r\nobject ValidationGroups {\r\n    interface BeanClass\r\n    interface BeanCollection\r\n\r\n    val allOrdered = listOf(\r\n        // 1. default group placed first to validate bean by annotations\r\n        //    that are defined without groups at all, such as simple \r\n        //    @Positive or @NotEmpty on some plain property\r\n        javax.validation.groups.Default::class,\r\n\r\n        // 2. then the bean class level validators must be invoked (only if\r\n        //    all the properties of this bean validated by Default group are valid)\r\n        BeanClass::class,\r\n\r\n        // 3. after all, if the bean is valid by their class level validator,\r\n        //    invoking validators on the outer collection property level\r\n        BeanCollection::class,\r\n    )\r\n}\r\n\r\nclass Bean(\r\n    @field:ValidList(groups = [ValidationGroups.BeanCollection::class]) // 3. validated last\r\n    val list: List&lt;BaseType&gt;\r\n)\r\n\r\ninterface BaseType\r\n\r\n@ValidA(groups = [ValidationGroups.BeanClass::class]) // 2. validated second\r\nclass A : BaseType {\r\n    @field:Positive  // 1. validated first\r\n    val id: Int\r\n}\r\n\r\n@ValidB(groups = [ValidationGroups.BeanClass::class]) // 2. validated second\r\nclass B : BaseType {\r\n    @field:NotEmpty // 1. validated first\r\n    val name: String\r\n}\r\n\r\n```\r\n\r\nAnd the Hibernate Validator invocation:\r\n\r\n```kotlin\r\nfor (group in ValidationGroups.allOrdered) {\r\n    val violations = validator.validate(bean, group.java)\r\n    if (violations.isNotEmpty()) {\r\n        return violations\r\n    }\r\n}\r\n\r\n```","title":"Hibernate Validator: validate collection items before validating the collection itself","body":"<p>Okay, it seems like I've solved the problem. Indeed validation groups do the job, and fortunately even without using <code>@GroupSequence</code>.</p>\n<p>I have created a number of validation group interfaces and defined a desired order of them with which Hibernate Validator must validate my bean. Then I have placed my groups in annotations with the corresponding order of applying. And after that all that remains to do is to loop through the ordered group list and invoke Hibernate Validator with each group separately (checking whether validation with the next group has failed and breaking the loop if so).</p>\n<p>Groups definition and their usage in the validation annotations:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>object ValidationGroups {\n    interface BeanClass\n    interface BeanCollection\n\n    val allOrdered = listOf(\n        // 1. default group placed first to validate bean by annotations\n        //    that are defined without groups at all, such as simple \n        //    @Positive or @NotEmpty on some plain property\n        javax.validation.groups.Default::class,\n\n        // 2. then the bean class level validators must be invoked (only if\n        //    all the properties of this bean validated by Default group are valid)\n        BeanClass::class,\n\n        // 3. after all, if the bean is valid by their class level validator,\n        //    invoking validators on the outer collection property level\n        BeanCollection::class,\n    )\n}\n\nclass Bean(\n    @field:ValidList(groups = [ValidationGroups.BeanCollection::class]) // 3. validated last\n    val list: List&lt;BaseType&gt;\n)\n\ninterface BaseType\n\n@ValidA(groups = [ValidationGroups.BeanClass::class]) // 2. validated second\nclass A : BaseType {\n    @field:Positive  // 1. validated first\n    val id: Int\n}\n\n@ValidB(groups = [ValidationGroups.BeanClass::class]) // 2. validated second\nclass B : BaseType {\n    @field:NotEmpty // 1. validated first\n    val name: String\n}\n\n</code></pre>\n<p>And the Hibernate Validator invocation:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>for (group in ValidationGroups.allOrdered) {\n    val violations = validator.validate(bean, group.java)\n    if (violations.isNotEmpty()) {\n        return violations\n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":11888967,"reputation":61,"user_id":8700588,"display_name":"Дмитрий Брикман"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76856086,"answer_count":1,"score":0,"last_activity_date":1691460201,"creation_date":1691127992,"question_id":76833228,"body_markdown":"### Problem:\r\n\r\nI have a bean under validation by the Hibernate Validator.\r\n\r\nThat bean has a property with `List` type, and this property has custom validator (1). Elements of this `List` also have their own custom validators (2).\r\n\r\nI need the elements of this list to be validated first, and only then, when validity of all list elements has been ensured, the whole list must be validated.\r\n\r\nThe difficulty is also in that the list is polymorphic and contains elements of different types, all are descendants of the one base type, and each descendant has their own custom validator.\r\n\r\nCode example below (simplified):\r\n\r\n```kotlin\r\n// Validation root\r\nclass Bean(\r\n    // List validator (1)\r\n    @field:ValidList\r\n    val list: List&lt;BaseType&gt;\r\n)\r\n\r\n// Base type for list elements (has no validator)\r\ninterface BaseType\r\n\r\n// Descendant 1 of the BaseType with custom validator (2.1)\r\n@ValidA\r\nclass A : BaseType\r\n\r\n// Descendant 2 of the BaseType with custom validator (2.2)\r\n@ValidB\r\nclass B : BaseType\r\n```\r\n\r\nBy the code example above, I need the following validation order:\r\n\r\n1. `@ValidA`\r\n2. `@ValidB`\r\n3. `@field:ValidList`\r\n\r\n### Explanation of my needs:\r\n\r\nThe low-level validators on classes `A` and `B` must ensure the isolated validity of the objects `A` and `B`, whereas top-level list validator must validate elements of the list against each other.\r\n\r\nBy the time to validate the elements of the list relative to each other, each separate element must already be valid. Otherwise, the list validation, being performed first, will not make sense and may produce weird senseless violations if individual elements of the list are not valid.\r\n\r\n---------------------\r\n\r\nIs there possibility to reach such behavior with Hibernate Validator?\r\n\r\n---------------------\r\n\r\nI tried to solve my problem using `@GroupSequence`, but I can&#39;t determine how to use it correctly in my case.\r\n\r\nAlso I discovered that when I use annotation `@Valid` above the `List` field, Hibernate Validator always validates this `List` first, and only then validates inner objects, but if I don&#39;t use `@Valid` and use some annotation right inside the collection&#39;s generic like `List&lt;@ValidSome BaseType`\\&gt;, Hibernate Validator, in countrary, validates inner objects first (exactly what I want to achieve), but in this case it ignores the hierarchy and doesn&#39;t validate `A` and `B` by their annotations at all.","title":"Hibernate Validator: validate collection items before validating the collection itself","body":"<h3>Problem:</h3>\n<p>I have a bean under validation by the Hibernate Validator.</p>\n<p>That bean has a property with <code>List</code> type, and this property has custom validator (1). Elements of this <code>List</code> also have their own custom validators (2).</p>\n<p>I need the elements of this list to be validated first, and only then, when validity of all list elements has been ensured, the whole list must be validated.</p>\n<p>The difficulty is also in that the list is polymorphic and contains elements of different types, all are descendants of the one base type, and each descendant has their own custom validator.</p>\n<p>Code example below (simplified):</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>// Validation root\nclass Bean(\n    // List validator (1)\n    @field:ValidList\n    val list: List&lt;BaseType&gt;\n)\n\n// Base type for list elements (has no validator)\ninterface BaseType\n\n// Descendant 1 of the BaseType with custom validator (2.1)\n@ValidA\nclass A : BaseType\n\n// Descendant 2 of the BaseType with custom validator (2.2)\n@ValidB\nclass B : BaseType\n</code></pre>\n<p>By the code example above, I need the following validation order:</p>\n<ol>\n<li><code>@ValidA</code></li>\n<li><code>@ValidB</code></li>\n<li><code>@field:ValidList</code></li>\n</ol>\n<h3>Explanation of my needs:</h3>\n<p>The low-level validators on classes <code>A</code> and <code>B</code> must ensure the isolated validity of the objects <code>A</code> and <code>B</code>, whereas top-level list validator must validate elements of the list against each other.</p>\n<p>By the time to validate the elements of the list relative to each other, each separate element must already be valid. Otherwise, the list validation, being performed first, will not make sense and may produce weird senseless violations if individual elements of the list are not valid.</p>\n<hr />\n<p>Is there possibility to reach such behavior with Hibernate Validator?</p>\n<hr />\n<p>I tried to solve my problem using <code>@GroupSequence</code>, but I can't determine how to use it correctly in my case.</p>\n<p>Also I discovered that when I use annotation <code>@Valid</code> above the <code>List</code> field, Hibernate Validator always validates this <code>List</code> first, and only then validates inner objects, but if I don't use <code>@Valid</code> and use some annotation right inside the collection's generic like <code>List&lt;@ValidSome BaseType</code>&gt;, Hibernate Validator, in countrary, validates inner objects first (exactly what I want to achieve), but in this case it ignores the hierarchy and doesn't validate <code>A</code> and <code>B</code> by their annotations at all.</p>\n"},{"tags":["java","spring","hibernate","hql","jodatime"],"comments":[{"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"score":0,"creation_date":1684910501,"post_id":76320104,"comment_id":134584535,"body_markdown":"@ArunSudhakaran Thanks for the edit, though I really meant Hibernate types, not Java types.","body":"@ArunSudhakaran Thanks for the edit, though I really meant Hibernate types, not Java types."},{"owner":{"account_id":9735171,"reputation":2264,"user_id":7218656,"accept_rate":75,"display_name":"Arun Sudhakaran"},"score":0,"creation_date":1684910721,"post_id":76320104,"comment_id":134584571,"body_markdown":"NP. I&#39;m not an expert to speak but I found this answer which you can check. https://stackoverflow.com/a/3376732/7218656","body":"NP. I&#39;m not an expert to speak but I found this answer which you can check. <a href=\"https://stackoverflow.com/a/3376732/7218656\">stackoverflow.com/a/3376732/7218656</a>"}],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":214,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691459161,"creation_date":1684902550,"question_id":76320104,"body_markdown":"I have mapped the `statusDate` field to `org.joda.time.DateTime` in the `Foo` class as follows:\r\n\r\n```java\r\n@Column(name = &quot;STATUSDATE&quot;, nullable = false)\r\n@Type(type = &quot;org.jadira.usertype.dateandtime.joda.PersistentDateTime&quot;)\r\nprivate DateTime statusDate = null;\r\n```\r\n\r\nI append the following subselect in the query (the where clause is really simplified for the sake of this question) and the value is sent through the constructor into an existing constructor matching `org.joda.time.DateTime` for such a field:\r\n\r\n```\r\nsb.append(&quot;, (select foo.statusDate from Foo foo where foo.id = :p_fooId) as fooStatusDate&quot;);\r\n```\r\nSo far so good. However, there is a case I have a condition where I need to select `null` as the correct type instead.\r\n```\r\nsb.append(&quot;, (cast null as &lt;customType&gt;) as fooStatusDate&quot;);\r\n```\r\nThis does not work as I cannot find how to cast correctly so the `CustomType` would be matched. My attempts and their results:\r\n\r\n1. These result in an inappropriate constructor error. Though I can create a constructor to handle this type and parse if not null, I prefer correct casting:\r\n\r\n\r\n   - `cast (null as string)` results in Hibernate&#39;s `StringType`. \r\n   - `cast (null as timestamp)` results in Hibernate&#39;s `TimestampType`.\r\n   - `cast (null as date)` results in Hibernate&#39;s `DateType`.\r\n\r\n   &gt; ```\r\n   &gt; java.lang.IllegalArgumentException: org.hibernate.hql.internal.ast.QuerySyntaxException: \r\n   &gt; Unable to locate appropriate constructor on class\r\n   &gt; ```\r\n\r\n2. These result in `null` and then fail on NPE as the type is not recognized:\r\n\r\n   - `cast (null as localdate)` results in `null`.\r\n   - `cast (null as persistentdatetime)` results in `null`.\r\n\r\n   &gt; ```\r\n   &gt; java.lang.NullPointerException\r\n   &gt;  at org.hibernate.internal.util.ReflectHelper.getConstructor(ReflectHelper.java:355)\r\n   &gt;  at org.hibernate.hql.internal.ast.tree.ConstructorNode.resolveConstructor(ConstructorNode.java:180)\r\n   &gt; ```\r\n\r\n3. Finally, this one doesn&#39;t even result in a parseable query:\r\n\r\n   - `cast (null as org.jadira.usertype.dateandtime.joda.PersistentDateTime)` isn&#39;t even parsed.\r\n\r\n   &gt; ```\r\n   &gt; java.lang.IllegalArgumentException: org.hibernate.hql.internal.ast.QuerySyntaxException: \r\n   &gt; expecting CLOSE, found &#39;.&#39; near line 1, column 180\r\n   &gt; ```\r\n\r\n____\r\n\r\nHow to achieve a `CustomType` defined by `PersistentLocalDate`? I must use Spring 4.1.7, Hibernate 4.2.5, and Java 7 on this project. Though I am stuck with the mentioned versions, all answers for newer versions are welcome as well! (I upvote these, but do not mark them as accepted.)\r\n\r\nThe screenshot is from debug breakpoint of the `CustomType` I need at `ReflectHelper`,\r\nmethod `public static Constructor getConstructor(Class clazz, Type[] types)`:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KmoUJ.png","title":"How to cast into a custom @Type (PersistentDateTime) in Hibernate?","body":"<p>I have mapped the <code>statusDate</code> field to <code>org.joda.time.DateTime</code> in the <code>Foo</code> class as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Column(name = &quot;STATUSDATE&quot;, nullable = false)\n@Type(type = &quot;org.jadira.usertype.dateandtime.joda.PersistentDateTime&quot;)\nprivate DateTime statusDate = null;\n</code></pre>\n<p>I append the following subselect in the query (the where clause is really simplified for the sake of this question) and the value is sent through the constructor into an existing constructor matching <code>org.joda.time.DateTime</code> for such a field:</p>\n<pre><code>sb.append(&quot;, (select foo.statusDate from Foo foo where foo.id = :p_fooId) as fooStatusDate&quot;);\n</code></pre>\n<p>So far so good. However, there is a case I have a condition where I need to select <code>null</code> as the correct type instead.</p>\n<pre><code>sb.append(&quot;, (cast null as &lt;customType&gt;) as fooStatusDate&quot;);\n</code></pre>\n<p>This does not work as I cannot find how to cast correctly so the <code>CustomType</code> would be matched. My attempts and their results:</p>\n<ol>\n<li><p>These result in an inappropriate constructor error. Though I can create a constructor to handle this type and parse if not null, I prefer correct casting:</p>\n<ul>\n<li><code>cast (null as string)</code> results in Hibernate's <code>StringType</code>.</li>\n<li><code>cast (null as timestamp)</code> results in Hibernate's <code>TimestampType</code>.</li>\n<li><code>cast (null as date)</code> results in Hibernate's <code>DateType</code>.</li>\n</ul>\n<blockquote>\n<pre><code>java.lang.IllegalArgumentException: org.hibernate.hql.internal.ast.QuerySyntaxException: \nUnable to locate appropriate constructor on class\n</code></pre>\n</blockquote>\n</li>\n<li><p>These result in <code>null</code> and then fail on NPE as the type is not recognized:</p>\n<ul>\n<li><code>cast (null as localdate)</code> results in <code>null</code>.</li>\n<li><code>cast (null as persistentdatetime)</code> results in <code>null</code>.</li>\n</ul>\n<blockquote>\n<pre><code>java.lang.NullPointerException\n at org.hibernate.internal.util.ReflectHelper.getConstructor(ReflectHelper.java:355)\n at org.hibernate.hql.internal.ast.tree.ConstructorNode.resolveConstructor(ConstructorNode.java:180)\n</code></pre>\n</blockquote>\n</li>\n<li><p>Finally, this one doesn't even result in a parseable query:</p>\n<ul>\n<li><code>cast (null as org.jadira.usertype.dateandtime.joda.PersistentDateTime)</code> isn't even parsed.</li>\n</ul>\n<blockquote>\n<pre><code>java.lang.IllegalArgumentException: org.hibernate.hql.internal.ast.QuerySyntaxException: \nexpecting CLOSE, found '.' near line 1, column 180\n</code></pre>\n</blockquote>\n</li>\n</ol>\n<hr />\n<p>How to achieve a <code>CustomType</code> defined by <code>PersistentLocalDate</code>? I must use Spring 4.1.7, Hibernate 4.2.5, and Java 7 on this project. Though I am stuck with the mentioned versions, all answers for newer versions are welcome as well! (I upvote these, but do not mark them as accepted.)</p>\n<p>The screenshot is from debug breakpoint of the <code>CustomType</code> I need at <code>ReflectHelper</code>,\nmethod <code>public static Constructor getConstructor(Class clazz, Type[] types)</code>:</p>\n<p><a href=\"https://i.stack.imgur.com/KmoUJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KmoUJ.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","apache-kafka","spring-kafka","kafka-producer-api"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1691419101,"post_id":76852055,"comment_id":135485358,"body_markdown":"As the error says, the topic is &quot;read-only&quot;, so yes, a consumer will work (however, you show using a completely different topic), but a producer will not... I suggest asking your cluster admins why that is (perhaps there is an ACL on the topic)","body":"As the error says, the topic is &quot;read-only&quot;, so yes, a consumer will work (however, you show using a completely different topic), but a producer will not... I suggest asking your cluster admins why that is (perhaps there is an ACL on the topic)"},{"owner":{"account_id":29177461,"reputation":1,"user_id":22352428,"display_name":"LIANJI LI"},"score":0,"creation_date":1691457901,"post_id":76852055,"comment_id":135491264,"body_markdown":"Thank you OneCricketeer. There should be ACL on the topic, let me ask my cluster admin first.","body":"Thank you OneCricketeer. There should be ACL on the topic, let me ask my cluster admin first."},{"owner":{"account_id":29177461,"reputation":1,"user_id":22352428,"display_name":"LIANJI LI"},"score":0,"creation_date":1691477441,"post_id":76852055,"comment_id":135493044,"body_markdown":"@OneCricketeer I changed to another topic, and send/receive OK. Just that topic don&#39;t have permission to publish. Maybe not tech issue, it should be just a permission issue. Thanks very much!","body":"@OneCricketeer I changed to another topic, and send/receive OK. Just that topic don&#39;t have permission to publish. Maybe not tech issue, it should be just a permission issue. Thanks very much!"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1691498828,"post_id":76852055,"comment_id":135497433,"body_markdown":"Feel free to accept the answer below using the checkmark next to the post it it answered your question","body":"Feel free to accept the answer below using the checkmark next to the post it it answered your question"}],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691419224,"creation_date":1691419224,"answer_id":76852774,"question_id":76852055,"body_markdown":"[Mirror topics are read only](https://docs.confluent.io/platform/current/multi-dc-deployments/cluster-linking/mirror-topics-cp.html)\r\n\r\nYou need to find where they are being mirrored from, then produce to that cluster/topic, instead.","title":"Kafka producer - Cannot append records to read-only mirror topic","body":"<p><a href=\"https://docs.confluent.io/platform/current/multi-dc-deployments/cluster-linking/mirror-topics-cp.html\" rel=\"nofollow noreferrer\">Mirror topics are read only</a></p>\n<p>You need to find where they are being mirrored from, then produce to that cluster/topic, instead.</p>\n"}],"owner":{"account_id":29177461,"reputation":1,"user_id":22352428,"display_name":"LIANJI LI"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691457792,"creation_date":1691413829,"question_id":76852055,"body_markdown":"I running a producer and raising an exception with the following code.\r\n\r\n```\r\n    @GetMapping(&quot;/send&quot;)\r\n    public ResultVo send(@RequestParam(value = &quot;content&quot;) String content) {\r\n        return new ResultVo(kafkaTemplate.send(&quot;hello-topic&quot;, 0, &quot;test&quot;, content));\r\n    }\r\n\r\n```\r\n\r\n\r\n```\r\n2023-08-07 21:00:12.330 ERROR 1508 --- [ad | producer-1] o.s.k.support.LoggingProducerListener    : Exception thrown when sending a message with key=&#39;test&#39; and payload=&#39;test content&#39; to topic hello-topic and partition 0:\r\n\r\norg.apache.kafka.common.errors.InvalidRequestException: Cannot append records to read-only mirror topic\r\n```\r\nAlthough the producer not work, I wrote an consumer and can get message normally.\r\n```\r\n    @KafkaListener(topics = &quot;hello-topic&quot;, groupId = &quot;hello-group&quot;)\r\n    public void handleMessage(String content) {\r\n         log.info(&quot;{}&quot;, content);\r\n    }\r\n```","title":"Kafka producer - Cannot append records to read-only mirror topic","body":"<p>I running a producer and raising an exception with the following code.</p>\n<pre><code>    @GetMapping(&quot;/send&quot;)\n    public ResultVo send(@RequestParam(value = &quot;content&quot;) String content) {\n        return new ResultVo(kafkaTemplate.send(&quot;hello-topic&quot;, 0, &quot;test&quot;, content));\n    }\n\n</code></pre>\n<pre><code>2023-08-07 21:00:12.330 ERROR 1508 --- [ad | producer-1] o.s.k.support.LoggingProducerListener    : Exception thrown when sending a message with key='test' and payload='test content' to topic hello-topic and partition 0:\n\norg.apache.kafka.common.errors.InvalidRequestException: Cannot append records to read-only mirror topic\n</code></pre>\n<p>Although the producer not work, I wrote an consumer and can get message normally.</p>\n<pre><code>    @KafkaListener(topics = &quot;hello-topic&quot;, groupId = &quot;hello-group&quot;)\n    public void handleMessage(String content) {\n         log.info(&quot;{}&quot;, content);\n    }\n</code></pre>\n"},{"tags":["java","kotlin","gradle-kotlin-dsl","annotation-processing"],"comments":[{"owner":{"account_id":202054,"reputation":23899,"user_id":448875,"display_name":"broot"},"score":0,"creation_date":1691464082,"post_id":76855699,"comment_id":135491701,"body_markdown":"You have to use [kapt](https://kotlinlang.org/docs/kapt.html). `@Test` is a different story, I assume it doesn&#39;t use annotation processors.","body":"You have to use <a href=\"https://kotlinlang.org/docs/kapt.html\" rel=\"nofollow noreferrer\">kapt</a>. <code>@Test</code> is a different story, I assume it doesn&#39;t use annotation processors."},{"owner":{"account_id":15115738,"reputation":194,"user_id":10908201,"display_name":"DL33"},"score":0,"creation_date":1691538929,"post_id":76855699,"comment_id":135504533,"body_markdown":"@broot I have tried it now, but I&#39;m struggling to provide the processor to kapt. The kapt(&quot;groupId:artifactId:version&quot;) line from the guide seems to not compile... And kapt.javacOptions seem to do literally nothing.","body":"@broot I have tried it now, but I&#39;m struggling to provide the processor to kapt. The kapt(&quot;groupId:artifactId:version&quot;) line from the guide seems to not compile... And kapt.javacOptions seem to do literally nothing."},{"owner":{"account_id":15115738,"reputation":194,"user_id":10908201,"display_name":"DL33"},"score":0,"creation_date":1691539034,"post_id":76855699,"comment_id":135504546,"body_markdown":"If I see no files under build/generated/, just empty folders, would it be correct to assume the processor didn&#39;t run? Is there any chance that the other library&#39;s processor output its files into a wrong directory?","body":"If I see no files under build/generated/, just empty folders, would it be correct to assume the processor didn&#39;t run? Is there any chance that the other library&#39;s processor output its files into a wrong directory?"},{"owner":{"account_id":15115738,"reputation":194,"user_id":10908201,"display_name":"DL33"},"score":0,"creation_date":1691540730,"post_id":76855699,"comment_id":135504692,"body_markdown":"I have accidentally discovered kapt.annotationProcessor() which seems to be at least doing something, because if I provide it with a wrong string instead of fqName of processor, it notices that there is no processor. And when I provide it with a correct fqName, it is silent. So if the processor is registered, could it somehow be that kapt didn&#39;t run it on my files? Once again, checking if the processor ran at all would be helpful","body":"I have accidentally discovered kapt.annotationProcessor() which seems to be at least doing something, because if I provide it with a wrong string instead of fqName of processor, it notices that there is no processor. And when I provide it with a correct fqName, it is silent. So if the processor is registered, could it somehow be that kapt didn&#39;t run it on my files? Once again, checking if the processor ran at all would be helpful"}],"owner":{"account_id":15115738,"reputation":194,"user_id":10908201,"display_name":"DL33"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1691457622,"creation_date":1691451082,"question_id":76855699,"body_markdown":"I have a Kotlin Multiplatform project built with Gradle (`.kts`). One of the targets is `jvm()`. \r\n\r\nFor that target I also have a Java library with custom annotations that I need to use. However, when I just put these annotations in my Kotlin code, as far as I can tell, they don&#39;t get processed. I am assuming the problem is that the library custom annotation processor is not registered and does not run on my Kotlin code. At the same time, \r\n\r\nThe question is: how do I register it?\r\n* I tried setting javac `-processor` argument, but I couldn&#39;t find a way to add it from Gradle build file. The best I could do was the deeply buried `compilations.getByName(&quot;main&quot;).compilationOptions.options.freeCompilerArgs`, but it turned out to be Kotlin compiler arguments.\r\n* I looked for java-specific build features, like `annotationProcessor` from [another question](https://stackoverflow.com/questions/42441844/annotation-processor-in-intellij-and-gradle). They are nowhere to be found since I don&#39;t have a dedicated Java plugin and/or source set.\r\n* I found `-Xjavac-arguments` parameter of `kotlinc-jvm`, but not only is it experimental (basically a developer tool), but it is also apparently just broken and does nothing.\r\n* I tried random placements of `META-INF/services/javax.annotation.processing.Processor` as described in [this guide](https://www.baeldung.com/java-annotation-processing-builder), which quite expectably didn&#39;t work either.\r\n\r\nAt the same time, JUnit&#39;s `@Test` annotations work without any problems, so it should be doable. What am I missing?\r\n\r\nUPD: I found that `jvm().dependencies` does have `annotationProcessor()` in it, and I also saw that META-INF of the library I&#39;m using does have the necessary processor declared. Although this seems like a proper solution, I&#39;m still getting the same failing behavior. How can I verify that the library processor ran or not?","title":"How to trigger Java annotation processor in a Kotlin project?","body":"<p>I have a Kotlin Multiplatform project built with Gradle (<code>.kts</code>). One of the targets is <code>jvm()</code>.</p>\n<p>For that target I also have a Java library with custom annotations that I need to use. However, when I just put these annotations in my Kotlin code, as far as I can tell, they don't get processed. I am assuming the problem is that the library custom annotation processor is not registered and does not run on my Kotlin code. At the same time,</p>\n<p>The question is: how do I register it?</p>\n<ul>\n<li>I tried setting javac <code>-processor</code> argument, but I couldn't find a way to add it from Gradle build file. The best I could do was the deeply buried <code>compilations.getByName(&quot;main&quot;).compilationOptions.options.freeCompilerArgs</code>, but it turned out to be Kotlin compiler arguments.</li>\n<li>I looked for java-specific build features, like <code>annotationProcessor</code> from <a href=\"https://stackoverflow.com/questions/42441844/annotation-processor-in-intellij-and-gradle\">another question</a>. They are nowhere to be found since I don't have a dedicated Java plugin and/or source set.</li>\n<li>I found <code>-Xjavac-arguments</code> parameter of <code>kotlinc-jvm</code>, but not only is it experimental (basically a developer tool), but it is also apparently just broken and does nothing.</li>\n<li>I tried random placements of <code>META-INF/services/javax.annotation.processing.Processor</code> as described in <a href=\"https://www.baeldung.com/java-annotation-processing-builder\" rel=\"nofollow noreferrer\">this guide</a>, which quite expectably didn't work either.</li>\n</ul>\n<p>At the same time, JUnit's <code>@Test</code> annotations work without any problems, so it should be doable. What am I missing?</p>\n<p>UPD: I found that <code>jvm().dependencies</code> does have <code>annotationProcessor()</code> in it, and I also saw that META-INF of the library I'm using does have the necessary processor declared. Although this seems like a proper solution, I'm still getting the same failing behavior. How can I verify that the library processor ran or not?</p>\n"},{"tags":["java","spring","spring-boot","spring-webflux"],"owner":{"account_id":21726590,"reputation":41,"user_id":16035933,"display_name":"James K J"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691457384,"creation_date":1691457384,"question_id":76855979,"body_markdown":"I receive a stream of dictionary. The keys in the dictionary are `token`,`isAnswer`,`isSources`. Now, the moment i receive `isAnswer` as false, i wanted to stop the stream and return a flux&lt;StreamData&gt; with a different message. But i couldn&#39;t achieve this logic. Below is the code written. If you know how to achieve, can you please help me.Thank you\r\n\r\n```\r\n public Flux&lt;StreamData&gt; streamChatbotResponse(String query, Long communityId, String widgetUserId, ChatBotBotType botType) {\r\n \r\n\r\n        return Flux.create(sink -&gt; {\r\n                            dataStream.takeUntil(data -&gt; !Boolean.parseBoolean(data.getIsAnswer()))\r\n                            .subscribe(data -&gt; { // start of data stream\r\n                                if (!data.getToken().isEmpty()) {\r\n                             \r\n    \r\n               if (!data.getToken().equals(&quot;Done&quot;)) {\r\n    \r\n                                        if (Boolean.parseBoolean(data.getIsSources())) {\r\n                                            var parsedData = parseUrlString(data.getToken());\r\n                                            var sources = parseSourcesInStreaming(parsedData);\r\n                                            // For the last token send True else send False.\r\n    //\r\n                                            for (var url : sources) {\r\n                                                var streamData = new StreamData().setToken(url).setIsSources(&quot;True&quot;)\r\n                                                        .setIsFinish(&quot;False&quot;).setIsAnswer(&quot;True&quot;).setExternalId(ts);\r\n                                                response.append(url);\r\n                                                sink.next(streamData);\r\n                                            }\r\n                                            // I need to know what is the status of the conversation.Is it answered or not.\r\n                                            chatBotConversationService.saveWebBotConversation(\r\n                                                    chatBotConversation.getQuery(), response.toString(), &quot;&quot;, ts, communityId, chatBot,\r\n                                                    ChatBotConversationStatus.ANSWERED, widgetUserId, botType);\r\n    \r\n                                        } else {\r\n                                            var streamData = new StreamData().setToken(data.getToken()).setIsSources(&quot;False&quot;).setIsFinish(&quot;False&quot;).setIsAnswer(&quot;True&quot;).setExternalId(ts);\r\n                                            response.append(data.getToken());\r\n                                            sink.next(streamData);\r\n                                        }\r\n    \r\n                                    } else {\r\n                                        // Stream reaches done status. End of the answer\r\n                                        var streamData = new StreamData().setToken(&quot;&quot;).setIsSources(&quot;False&quot;).setIsFinish(&quot;True&quot;).setExternalId(ts).setIsAnswer(&quot;False&quot;);\r\n                                        response.append(data.getToken());\r\n                                        sink.next(streamData);\r\n    \r\n                                    }\r\n                                }\r\n    \r\n                            if(!Boolean.parseBoolean(data.getIsAnswer())) {\r\n                                chatBotConversationService.saveWebBotConversation(\r\n                                        chatBotConversation.getQuery(), chatBot.getNoAnswer(), &quot;&quot;, ts, communityId, chatBot,\r\n                                        ChatBotConversationStatus.NO_ANSWER, widgetUserId, botType);\r\n                                sayDefaultAnswer(chatBot.getNoAnswer());\r\n    \r\n                            }\r\n    \r\n                        },sink::error, sink::complete); // end of data stream\r\n                    });\r\n}\r\n\r\n```\r\nBelow is the sayDefaultAnswer\r\n```\r\nprivate static Flux&lt;StreamData&gt; sayDefaultAnswer(String message) {\r\n        var ts = String.valueOf(Instant.now().toEpochMilli());\r\n        var streamData = new StreamData().setToken(message)\r\n                .setIsSources(&quot;False&quot;).setIsFinish(&quot;True&quot;).setIsAnswer(&quot;False&quot;).setExternalId(ts);\r\n        return Flux.create(sink -&gt; {\r\n            sink.next(streamData);\r\n        });\r\n    }\r\n```\r\n\r\nAnd the definition of StreamData is \r\n\r\n```\r\npublic class StreamData {\r\n\r\n    private String token;\r\n\r\n    private String isFinish;\r\n\r\n    private String isSources;\r\n\r\n    private String isAnswer;\r\n\r\n    private String externalId;\r\n}\r\n```\r\n\r\nAtleast any hints would be helpful.","title":"Return a flux object when takeUntil condition is met","body":"<p>I receive a stream of dictionary. The keys in the dictionary are <code>token</code>,<code>isAnswer</code>,<code>isSources</code>. Now, the moment i receive <code>isAnswer</code> as false, i wanted to stop the stream and return a flux with a different message. But i couldn't achieve this logic. Below is the code written. If you know how to achieve, can you please help me.Thank you</p>\n<pre><code> public Flux&lt;StreamData&gt; streamChatbotResponse(String query, Long communityId, String widgetUserId, ChatBotBotType botType) {\n \n\n        return Flux.create(sink -&gt; {\n                            dataStream.takeUntil(data -&gt; !Boolean.parseBoolean(data.getIsAnswer()))\n                            .subscribe(data -&gt; { // start of data stream\n                                if (!data.getToken().isEmpty()) {\n                             \n    \n               if (!data.getToken().equals(&quot;Done&quot;)) {\n    \n                                        if (Boolean.parseBoolean(data.getIsSources())) {\n                                            var parsedData = parseUrlString(data.getToken());\n                                            var sources = parseSourcesInStreaming(parsedData);\n                                            // For the last token send True else send False.\n    //\n                                            for (var url : sources) {\n                                                var streamData = new StreamData().setToken(url).setIsSources(&quot;True&quot;)\n                                                        .setIsFinish(&quot;False&quot;).setIsAnswer(&quot;True&quot;).setExternalId(ts);\n                                                response.append(url);\n                                                sink.next(streamData);\n                                            }\n                                            // I need to know what is the status of the conversation.Is it answered or not.\n                                            chatBotConversationService.saveWebBotConversation(\n                                                    chatBotConversation.getQuery(), response.toString(), &quot;&quot;, ts, communityId, chatBot,\n                                                    ChatBotConversationStatus.ANSWERED, widgetUserId, botType);\n    \n                                        } else {\n                                            var streamData = new StreamData().setToken(data.getToken()).setIsSources(&quot;False&quot;).setIsFinish(&quot;False&quot;).setIsAnswer(&quot;True&quot;).setExternalId(ts);\n                                            response.append(data.getToken());\n                                            sink.next(streamData);\n                                        }\n    \n                                    } else {\n                                        // Stream reaches done status. End of the answer\n                                        var streamData = new StreamData().setToken(&quot;&quot;).setIsSources(&quot;False&quot;).setIsFinish(&quot;True&quot;).setExternalId(ts).setIsAnswer(&quot;False&quot;);\n                                        response.append(data.getToken());\n                                        sink.next(streamData);\n    \n                                    }\n                                }\n    \n                            if(!Boolean.parseBoolean(data.getIsAnswer())) {\n                                chatBotConversationService.saveWebBotConversation(\n                                        chatBotConversation.getQuery(), chatBot.getNoAnswer(), &quot;&quot;, ts, communityId, chatBot,\n                                        ChatBotConversationStatus.NO_ANSWER, widgetUserId, botType);\n                                sayDefaultAnswer(chatBot.getNoAnswer());\n    \n                            }\n    \n                        },sink::error, sink::complete); // end of data stream\n                    });\n}\n\n</code></pre>\n<p>Below is the sayDefaultAnswer</p>\n<pre><code>private static Flux&lt;StreamData&gt; sayDefaultAnswer(String message) {\n        var ts = String.valueOf(Instant.now().toEpochMilli());\n        var streamData = new StreamData().setToken(message)\n                .setIsSources(&quot;False&quot;).setIsFinish(&quot;True&quot;).setIsAnswer(&quot;False&quot;).setExternalId(ts);\n        return Flux.create(sink -&gt; {\n            sink.next(streamData);\n        });\n    }\n</code></pre>\n<p>And the definition of StreamData is</p>\n<pre><code>public class StreamData {\n\n    private String token;\n\n    private String isFinish;\n\n    private String isSources;\n\n    private String isAnswer;\n\n    private String externalId;\n}\n</code></pre>\n<p>Atleast any hints would be helpful.</p>\n"},{"tags":["java","sockets","stream"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1429311705,"post_id":1338885,"comment_id":47557171,"body_markdown":"The fact that there isn&#39;t a timeout feature isn&#39;t itself an indication that it doesn&#39;t block. One indication that it does is the lack of a return value: if it doesn&#39;t block, why doesn&#39;t it return the number of bytes actually written? Another indication is given by just trying it.","body":"The fact that there isn&#39;t a timeout feature isn&#39;t itself an indication that it doesn&#39;t block. One indication that it does is the lack of a return value: if it doesn&#39;t block, why doesn&#39;t it return the number of bytes actually written? Another indication is given by just trying it."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":55,"is_accepted":false,"score":55,"last_activity_date":1691456451,"creation_date":1251349471,"answer_id":1338946,"question_id":1338885,"body_markdown":"&gt; If I am only WRITING to a socket on an output stream, will it ever block? Only reads can block, right?\r\n\r\nA write on a `Socket` *can* block too&lt;sup&gt;1&lt;/sup&gt;.  The OS will only buffer a certain amount of untransmitted (or transmitted but unacknowledged) data.  If you write stuff faster than the remote app is able to read it, the socket will eventually back up and your `write` calls will block.\r\n\r\n&gt; It doesn&#39;t make sense to me that a write could block.\r\n\r\nAn OS kernel is unable to provide an unlimited amount of memory for buffering unsent or unacknowledged data.  Blocking in write is the simplest way to deal with that.\r\n\r\n--------------------\r\n\r\nResponding to these followup questions:\r\n\r\n&gt; So is there a mechanism to set a\r\n&gt; timeout for this? I&#39;m not sure what\r\n&gt; behavior it&#39;d have...maybe throw away\r\n&gt; data if buffers are full? Or possibly\r\n&gt; delete older data in the buffer?\r\n\r\nThere is no mechanism to set a write timeout on a java.net.Socket.  There is a `Socket.setSoTimeout()` method, but it affects `accept()` and `read()` calls ... and not `write()` calls.  Apparently, you can get write timeouts if you use NIO, non-blocking mode, and a Selector, but this is not as useful as you might imagine.\r\n\r\nA properly implemented TCP stack does not discard buffered data unless the connection is closed.  However, when you get a write timeout, it is uncertain whether the data that is currently in the OS-level buffers has been received by the other end ... or not.  The other problem is that you don&#39;t know how much of the data from your last `write` was actually transferred to OS-level TCP stack buffers.  Absent some application level protocol for resyncing the stream&lt;sup&gt;2&lt;/sup&gt;, the only safe thing to do after a timeout on `write` is to shut down the connection.\r\n\r\nBy contrast, if you use a datagram socket (e.g. UDP), `write()` calls won&#39;t block for a significant&lt;sup&gt;3&lt;/sup&gt; length of time.  But the downside is that if there are network problems or the remote application is not keeping up, messages will be dropped on the floor with no notification to either end.  In addition, you may find that messages are sometimes delivered to the remote application out of order.  It will be up to you (the developer) to deal with these issues.\r\n\r\n&lt;sup&gt;1 - But not a `DatagramSocket`. &lt;br&gt;\r\n2 - It is theoretically possible to do this, but for most applications it makes no sense to implement an additional resyncing mechanism on top of an already reliable (to a point) TCP/IP stream.  And if it did make sense, you would also need to deal with the possibility that the connection closed ... so it would be simpler to *assume* it closed. &lt;br&gt;\r\n3 - The javadocs don&#39;t say that `send` won&#39;t block at all.  But I would *expect* that the OS would discard out-going datagrams rather than blocking.&lt;/sup&gt;\r\n","title":"java socket / output stream writes : do they block?","body":"<blockquote>\n<p>If I am only WRITING to a socket on an output stream, will it ever block? Only reads can block, right?</p>\n</blockquote>\n<p>A write on a <code>Socket</code> <em>can</em> block too<sup>1</sup>.  The OS will only buffer a certain amount of untransmitted (or transmitted but unacknowledged) data.  If you write stuff faster than the remote app is able to read it, the socket will eventually back up and your <code>write</code> calls will block.</p>\n<blockquote>\n<p>It doesn't make sense to me that a write could block.</p>\n</blockquote>\n<p>An OS kernel is unable to provide an unlimited amount of memory for buffering unsent or unacknowledged data.  Blocking in write is the simplest way to deal with that.</p>\n<hr />\n<p>Responding to these followup questions:</p>\n<blockquote>\n<p>So is there a mechanism to set a\ntimeout for this? I'm not sure what\nbehavior it'd have...maybe throw away\ndata if buffers are full? Or possibly\ndelete older data in the buffer?</p>\n</blockquote>\n<p>There is no mechanism to set a write timeout on a java.net.Socket.  There is a <code>Socket.setSoTimeout()</code> method, but it affects <code>accept()</code> and <code>read()</code> calls ... and not <code>write()</code> calls.  Apparently, you can get write timeouts if you use NIO, non-blocking mode, and a Selector, but this is not as useful as you might imagine.</p>\n<p>A properly implemented TCP stack does not discard buffered data unless the connection is closed.  However, when you get a write timeout, it is uncertain whether the data that is currently in the OS-level buffers has been received by the other end ... or not.  The other problem is that you don't know how much of the data from your last <code>write</code> was actually transferred to OS-level TCP stack buffers.  Absent some application level protocol for resyncing the stream<sup>2</sup>, the only safe thing to do after a timeout on <code>write</code> is to shut down the connection.</p>\n<p>By contrast, if you use a datagram socket (e.g. UDP), <code>write()</code> calls won't block for a significant<sup>3</sup> length of time.  But the downside is that if there are network problems or the remote application is not keeping up, messages will be dropped on the floor with no notification to either end.  In addition, you may find that messages are sometimes delivered to the remote application out of order.  It will be up to you (the developer) to deal with these issues.</p>\n<p><sup>1 - But not a <code>DatagramSocket</code>. <br>\n2 - It is theoretically possible to do this, but for most applications it makes no sense to implement an additional resyncing mechanism on top of an already reliable (to a point) TCP/IP stream.  And if it did make sense, you would also need to deal with the possibility that the connection closed ... so it would be simpler to <em>assume</em> it closed. <br>\n3 - The javadocs don't say that <code>send</code> won't block at all.  But I would <em>expect</em> that the OS would discard out-going datagrams rather than blocking.</sup></p>\n"},{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1691461108,"post_id":6709169,"comment_id":135491488,"body_markdown":"Broken link, and &#39;NIO and selectors&#39; doesn&#39;t answer a question about `OutputStream`.","body":"Broken link, and &#39;NIO and selectors&#39; doesn&#39;t answer a question about <code>OutputStream</code>."}],"tags":[],"owner":{"account_id":4402,"reputation":3143,"user_id":6591,"display_name":"Noel Grandin"},"comment_count":1,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1652278206,"creation_date":1310742556,"answer_id":6709169,"question_id":1338885,"body_markdown":"The only way to do this is to use NIO and selectors. \r\n\r\nSee the writeup from the Sun/Oracle engineer in this bug report:\r\nhttps://bugs.java.com/bugdatabase/view_bug.do?bug_id=4031100","title":"java socket / output stream writes : do they block?","body":"<p>The only way to do this is to use NIO and selectors.</p>\n<p>See the writeup from the Sun/Oracle engineer in this bug report:\n<a href=\"https://bugs.java.com/bugdatabase/view_bug.do?bug_id=4031100\" rel=\"nofollow noreferrer\">https://bugs.java.com/bugdatabase/view_bug.do?bug_id=4031100</a></p>\n"}],"owner":{"account_id":17315,"reputation":15891,"user_id":38663,"accept_rate":27,"display_name":"jbu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32926,"favorite_count":0,"down_vote_count":0,"up_vote_count":45,"answer_count":2,"score":45,"last_activity_date":1691456451,"creation_date":1251348256,"question_id":1338885,"body_markdown":"If I am only WRITING to a socket on an output stream, will it ever block?  Only reads can block, right?  Someone told me writes can block but I only see a timeout feature for the read method of a socket - `Socket.setSoTimeout()`.\r\n\r\nIt doesn&#39;t make sense to me that a write could block.","title":"java socket / output stream writes : do they block?","body":"<p>If I am only WRITING to a socket on an output stream, will it ever block?  Only reads can block, right?  Someone told me writes can block but I only see a timeout feature for the read method of a socket - <code>Socket.setSoTimeout()</code>.</p>\n\n<p>It doesn't make sense to me that a write could block.</p>\n"},{"tags":["java","abstract-syntax-tree"],"owner":{"account_id":14598934,"reputation":11,"user_id":10543751,"display_name":"dongge"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691456249,"creation_date":1691456249,"question_id":76855926,"body_markdown":"my code:\r\n\r\n    ASTParser parser = ASTParser.newParser(11);\r\n    parser.setUnitName(&quot;D:\\\\code\\\\sscs\\\\filecenter_service\\\\src&quot;);\r\n    parser.setEnvironment(null, null, null, false);\r\n    parser.setSource(&quot;code&quot;.toCharArray());\r\n    parser.setResolveBindings(false);\r\n    parser.setBindingsRecovery(false);\r\n    parser.setStatementsRecovery(false);\r\n    parser.setKind(8);\r\n    Map&lt;String, String&gt; options = JavaCore.getOptions();\r\n    options.put(&quot;org.eclipse.jdt.core.compiler.source&quot;, &quot;1.8&quot;);\r\n    options.put(&quot;org.eclipse.jdt.core.compiler.compliance&quot;, &quot;1.8&quot;);\r\n    parser.setCompilerOptions(options);\r\n\r\n\r\nRun the results：\r\n\r\n    java.lang.SecurityException: class &quot;org.eclipse.core.runtime.Plugin&quot;&#39;s signer     information does not match signer information of other classes in the same package\r\n\r\n    at java.base/java.lang.ClassLoader.checkCerts(ClassLoader.java:1150)\r\n    at java.base/java.lang.ClassLoader.preDefineClass(ClassLoader.java:905)\r\n    at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1014)\r\n    at java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:174)\r\n    at             java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:800)\r\nat        java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoad        er.java:698)\r\n        at         java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:621    )\r\n        at     java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:579)\r\n    at     java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n    at java.base/java.lang.ClassLoader.defineClass1(Native Method)\r\n    at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1016)\r\n    at java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:174)\r\n    at     java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:800)\r\n    at     java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoad    er.java:698)\r\n    at     java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:621    )\r\n    at     java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:579)\r\n    at     java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n    at org.eclipse.jdt.core.dom.ASTParser.initializeDefaults(ASTParser.java:293)\r\n    at org.eclipse.jdt.core.dom.ASTParser.&lt;init&gt;(ASTParser.java:243)\r\n    at org.eclipse.jdt.core.dom.ASTParser.newParser(ASTParser.java:134)\r\n    at     com.ctcc.misas.analysis.service.fileaya.UnionServiceTest.doAnalyse(UnionServiceTest.java:50)\r\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    at     java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java    :62)\r\n    at     java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorI    mpl.java:43)\r\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n    at     org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:725)\r\n    at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n    at     org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(I    nvocationInterceptorChain.java:131)\r\n    at     org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\r\n    at     org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension    .java:140)\r\n    at     org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.jav    a:84)\r\n    at     org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoid    Method$0(ExecutableInvoker.java:115)\r\n    at     org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:    105)\r\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(    InvocationInterceptorChain.java:106)\r\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\r\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\r\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestM    ethodTestDescriptor.java:214)\r\n    at     org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:210)\r\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:135)\r\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:66)\r\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\r\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(Node    TestTask.java:139)\r\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    at ","title":"java.lang.SecurityException: class &quot;org.eclipse.core.runtime.Plugin&quot;&#39;s signer information does not match signer information","body":"<p>my code:</p>\n<pre><code>ASTParser parser = ASTParser.newParser(11);\nparser.setUnitName(&quot;D:\\\\code\\\\sscs\\\\filecenter_service\\\\src&quot;);\nparser.setEnvironment(null, null, null, false);\nparser.setSource(&quot;code&quot;.toCharArray());\nparser.setResolveBindings(false);\nparser.setBindingsRecovery(false);\nparser.setStatementsRecovery(false);\nparser.setKind(8);\nMap&lt;String, String&gt; options = JavaCore.getOptions();\noptions.put(&quot;org.eclipse.jdt.core.compiler.source&quot;, &quot;1.8&quot;);\noptions.put(&quot;org.eclipse.jdt.core.compiler.compliance&quot;, &quot;1.8&quot;);\nparser.setCompilerOptions(options);\n</code></pre>\n<p>Run the results：</p>\n<pre><code>java.lang.SecurityException: class &quot;org.eclipse.core.runtime.Plugin&quot;'s signer     information does not match signer information of other classes in the same package\n\nat java.base/java.lang.ClassLoader.checkCerts(ClassLoader.java:1150)\nat java.base/java.lang.ClassLoader.preDefineClass(ClassLoader.java:905)\nat java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1014)\nat java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:174)\nat             java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:800)\n</code></pre>\n<p>at        java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoad        er.java:698)\nat         java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:621    )\nat     java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:579)\nat     java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\nat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\nat java.base/java.lang.ClassLoader.defineClass1(Native Method)\nat java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1016)\nat java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:174)\nat     java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:800)\nat     java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoad    er.java:698)\nat     java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:621    )\nat     java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:579)\nat     java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\nat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\nat org.eclipse.jdt.core.dom.ASTParser.initializeDefaults(ASTParser.java:293)\nat org.eclipse.jdt.core.dom.ASTParser.(ASTParser.java:243)\nat org.eclipse.jdt.core.dom.ASTParser.newParser(ASTParser.java:134)\nat     com.ctcc.misas.analysis.service.fileaya.UnionServiceTest.doAnalyse(UnionServiceTest.java:50)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat     java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java    :62)\nat     java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorI    mpl.java:43)\nat java.base/java.lang.reflect.Method.invoke(Method.java:566)\nat     org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:725)\nat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\nat     org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(I    nvocationInterceptorChain.java:131)\nat     org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\nat     org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension    .java:140)\nat     org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.jav    a:84)\nat     org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoid    Method$0(ExecutableInvoker.java:115)\nat     org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:    105)\nat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(    InvocationInterceptorChain.java:106)\nat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\nat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\nat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\nat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\nat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\nat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestM    ethodTestDescriptor.java:214)\nat     org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:210)\nat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:135)\nat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:66)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\nat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(Node    TestTask.java:139)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat</p>\n"},{"tags":["java","minecraft","packet"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1690986465,"post_id":76820858,"comment_id":135429732,"body_markdown":"Packets `0x2C` and `0x07` are _clientbound_, meaning they&#39;re sent from the server _to_ the client (not _from_ the client). Note the headers of the section the packets are listed under (`6.1 - Clientbound` vs. `6.2 - Serverbound`). The packets `0x03` and `0x1B` is you seeing communication/chat messages between the client/server (likely the &quot;join&quot; messages), look further on.","body":"Packets <code>0x2C</code> and <code>0x07</code> are <i>clientbound</i>, meaning they&#39;re sent from the server <i>to</i> the client (not <i>from</i> the client). Note the headers of the section the packets are listed under (<code>6.1 - Clientbound</code> vs. <code>6.2 - Serverbound</code>). The packets <code>0x03</code> and <code>0x1B</code> is you seeing communication/chat messages between the client/server (likely the &quot;join&quot; messages), look further on."},{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":0,"creation_date":1690986676,"post_id":76820858,"comment_id":135429785,"body_markdown":"I think the first byte in each message is the message length, not a packet header.","body":"I think the first byte in each message is the message length, not a packet header."},{"owner":{"account_id":28806419,"reputation":31,"user_id":22062176,"display_name":"BoterBramKroket"},"score":0,"creation_date":1690986848,"post_id":76820858,"comment_id":135429839,"body_markdown":"Wow, I must have overseen that. \nThe problem still stands tho since the packet ID&#39;s I received don&#39;t match the packets in the wiki. For example [this](https://wiki.vg/Protocol#Disguised_Chat_Message) is not an player_location packet","body":"Wow, I must have overseen that.  The problem still stands tho since the packet ID&#39;s I received don&#39;t match the packets in the wiki. For example <a href=\"https://wiki.vg/Protocol#Disguised_Chat_Message\" rel=\"nofollow noreferrer\">this</a> is not an player_location packet"},{"owner":{"account_id":28806419,"reputation":31,"user_id":22062176,"display_name":"BoterBramKroket"},"score":0,"creation_date":1690987023,"post_id":76820858,"comment_id":135429876,"body_markdown":"Yeah, you&#39;re right. The first byte indeed looks like it corresponds to the message lenght. Then I really don&#39;t have any idea on how to read those packets xD.","body":"Yeah, you&#39;re right. The first byte indeed looks like it corresponds to the message lenght. Then I really don&#39;t have any idea on how to read those packets xD."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1690987130,"post_id":76820858,"comment_id":135429898,"body_markdown":"It would help to read [the section describing the format of the packets](https://wiki.vg/Protocol#Without_compression). Note you&#39;ll need to be careful about how you [read a VarInt from the packet](https://wiki.vg/Protocol#VarInt_and_VarLong) as well. Many questions to be answered directly on that page. You may also want to ensure whether you&#39;re reading compressed packets or not.","body":"It would help to read <a href=\"https://wiki.vg/Protocol#Without_compression\" rel=\"nofollow noreferrer\">the section describing the format of the packets</a>. Note you&#39;ll need to be careful about how you <a href=\"https://wiki.vg/Protocol#VarInt_and_VarLong\" rel=\"nofollow noreferrer\">read a VarInt from the packet</a> as well. Many questions to be answered directly on that page. You may also want to ensure whether you&#39;re reading compressed packets or not."}],"answers":[{"comments":[{"owner":{"account_id":10991782,"reputation":1463,"user_id":10391157,"display_name":"Luke100000"},"score":0,"creation_date":1691078875,"post_id":76821275,"comment_id":135446132,"body_markdown":"The second value is the length of the uncompressed packet. 0 means no compression, usually because its too small to profit from compression.","body":"The second value is the length of the uncompressed packet. 0 means no compression, usually because its too small to profit from compression."}],"tags":[],"owner":{"account_id":28806419,"reputation":31,"user_id":22062176,"display_name":"BoterBramKroket"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1691454212,"creation_date":1690989080,"answer_id":76821275,"question_id":76820858,"body_markdown":"The first byte seems to correspond to the rest of the packet&#39;s length. The second byte for some reason will always be 00. The third byte will be the packet&#39;s ID.\r\n\r\nFor example the third byte of my first example is: 14. This corresponds to this packet which indeed contains the player position. The only difference is that this packet is server-bound instead of client-bound.\r\n\r\nThe third byte of my second example is: 2F. This corresponds to this packet instead of a block-breaking packet. Now that I think of it, this is far more logical since when breaking a block, the player swings it arm. Here of-course the packet is also server-bound instead of client-bound.","title":"Received Packets don&#39;t match Minecrafts Protocol-wiki Packets","body":"<p>The first byte seems to correspond to the rest of the packet's length. The second byte for some reason will always be 00. The third byte will be the packet's ID.</p>\n<p>For example the third byte of my first example is: 14. This corresponds to this packet which indeed contains the player position. The only difference is that this packet is server-bound instead of client-bound.</p>\n<p>The third byte of my second example is: 2F. This corresponds to this packet instead of a block-breaking packet. Now that I think of it, this is far more logical since when breaking a block, the player swings it arm. Here of-course the packet is also server-bound instead of client-bound.</p>\n"}],"owner":{"account_id":28806419,"reputation":31,"user_id":22062176,"display_name":"BoterBramKroket"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76821275,"answer_count":1,"score":1,"last_activity_date":1691454212,"creation_date":1690986175,"question_id":76820858,"body_markdown":"I&#39;m trying to code a proxy for Minecraft which should intercept packages sent between the client and server.\r\nI got the proxy working but the packet IDs I received don&#39;t seem to match the packet IDs in the Protocol wiki.\r\n\r\n\r\nFor example: if a player/an entity moves, the client should sent [this](https://wiki.vg/Protocol#Update_Entity_Position) packet to the server (I think).\r\nThis packet start with the ID: 0x2C. The actual packet I got when the player moves is: 1B 00 14 C0 11 76 EE 76 F6 9B C0 40 55 40 00 00 00 00 00 BF FD 0E DF A6 AD 79 0F 01 which has the packet ID: (0x)1B.\r\n\r\nAnother example: if an player breaks a block, the client should sent [this](https://wiki.vg/Protocol#Set_Block_Destroy_Stage) packet to the server (I think).\r\nThis packet start with the ID: 0x07. THe actual packet I got when the player breaks a block is: 03 00 2F 00  which has the packet ID (0x)03.\r\n\r\nI&#39;m clearly doing something wrong but I&#39;m not sure if this is because I&#39;m refering to the wrong packets or that there is some to decrypt this. Note that I&#39;m running my server on offline_mode so there should be any authentication from Microsoft/Mojang and thus no encryption.\r\n\r\n\r\nFor anyone who&#39;s wondering, here&#39;s my code:\r\n```\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.io.OutputStream;\r\nimport java.net.ServerSocket;\r\nimport java.net.Socket;\r\nimport java.util.Arrays;\r\n\r\npublic class MinecraftProxy {\r\n    private static final String SERVER_HOST = &quot;localhost&quot;;  // Replace with your actual server host\r\n    private static final int SERVER_PORT = 25565;  // Replace with your actual server port\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        ServerSocket proxyServerSocket = new ServerSocket(55555);  // Proxy server port\r\n\r\n        while (true) {\r\n            Socket clientSocket = proxyServerSocket.accept();\r\n            Socket serverSocket = new Socket(SERVER_HOST, SERVER_PORT);\r\n\r\n            // Create separate threads to handle client-to-server and server-to-client communication\r\n            Thread clientToServerThread = new Thread(() -&gt; copyStreams(clientSocket, serverSocket, &quot;Client to Server&quot;));\r\n            Thread serverToClientThread = new Thread(() -&gt; copyStreams(serverSocket, clientSocket, &quot;Server to Client&quot;));\r\n\r\n            clientToServerThread.start();\r\n            serverToClientThread.start();\r\n        }\r\n    }\r\n\r\n    private static void copyStreams(Socket inputSocket, Socket outputSocket, String direction) {\r\n        try {\r\n            InputStream inputStream = inputSocket.getInputStream();\r\n            OutputStream outputStream = outputSocket.getOutputStream();\r\n\r\n            byte[] buffer = new byte[4096];\r\n            int bytesRead;\r\n\r\n            while ((bytesRead = inputStream.read(buffer)) != -1) {\r\n                byte[] packet = Arrays.copyOf(buffer, bytesRead);\r\n\r\n                // Print the packet being sent or received\r\n                if (direction.equals(&quot;Client to Server&quot;)) {\r\n                    System.out.println(&quot;Packet Sent: &quot; + bytesToString(packet));\r\n                } else {\r\n                    // System.out.println(&quot;Packet Received: &quot; + bytesToString(packet));\r\n                }\r\n\r\n                // Data is being received from inputSocket (client) and sent to outputSocket (server)\r\n                outputStream.write(buffer, 0, bytesRead);\r\n                outputStream.flush();\r\n            }\r\n\r\n            // Input stream closed, so close the output stream and sockets as well\r\n            outputStream.close();\r\n            inputSocket.close();\r\n            outputSocket.close();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    private static String bytesToString(byte[] bytes) {\r\n        StringBuilder sb = new StringBuilder();\r\n        for (byte b : bytes) {\r\n            sb.append(String.format(&quot;%02X &quot;, b));\r\n        }\r\n        return sb.toString();\r\n    }\r\n}\r\n```","title":"Received Packets don&#39;t match Minecrafts Protocol-wiki Packets","body":"<p>I'm trying to code a proxy for Minecraft which should intercept packages sent between the client and server.\nI got the proxy working but the packet IDs I received don't seem to match the packet IDs in the Protocol wiki.</p>\n<p>For example: if a player/an entity moves, the client should sent <a href=\"https://wiki.vg/Protocol#Update_Entity_Position\" rel=\"nofollow noreferrer\">this</a> packet to the server (I think).\nThis packet start with the ID: 0x2C. The actual packet I got when the player moves is: 1B 00 14 C0 11 76 EE 76 F6 9B C0 40 55 40 00 00 00 00 00 BF FD 0E DF A6 AD 79 0F 01 which has the packet ID: (0x)1B.</p>\n<p>Another example: if an player breaks a block, the client should sent <a href=\"https://wiki.vg/Protocol#Set_Block_Destroy_Stage\" rel=\"nofollow noreferrer\">this</a> packet to the server (I think).\nThis packet start with the ID: 0x07. THe actual packet I got when the player breaks a block is: 03 00 2F 00  which has the packet ID (0x)03.</p>\n<p>I'm clearly doing something wrong but I'm not sure if this is because I'm refering to the wrong packets or that there is some to decrypt this. Note that I'm running my server on offline_mode so there should be any authentication from Microsoft/Mojang and thus no encryption.</p>\n<p>For anyone who's wondering, here's my code:</p>\n<pre><code>import java.io.IOException;\nimport java.io.InputStream;\nimport java.io.OutputStream;\nimport java.net.ServerSocket;\nimport java.net.Socket;\nimport java.util.Arrays;\n\npublic class MinecraftProxy {\n    private static final String SERVER_HOST = &quot;localhost&quot;;  // Replace with your actual server host\n    private static final int SERVER_PORT = 25565;  // Replace with your actual server port\n\n    public static void main(String[] args) throws IOException {\n        ServerSocket proxyServerSocket = new ServerSocket(55555);  // Proxy server port\n\n        while (true) {\n            Socket clientSocket = proxyServerSocket.accept();\n            Socket serverSocket = new Socket(SERVER_HOST, SERVER_PORT);\n\n            // Create separate threads to handle client-to-server and server-to-client communication\n            Thread clientToServerThread = new Thread(() -&gt; copyStreams(clientSocket, serverSocket, &quot;Client to Server&quot;));\n            Thread serverToClientThread = new Thread(() -&gt; copyStreams(serverSocket, clientSocket, &quot;Server to Client&quot;));\n\n            clientToServerThread.start();\n            serverToClientThread.start();\n        }\n    }\n\n    private static void copyStreams(Socket inputSocket, Socket outputSocket, String direction) {\n        try {\n            InputStream inputStream = inputSocket.getInputStream();\n            OutputStream outputStream = outputSocket.getOutputStream();\n\n            byte[] buffer = new byte[4096];\n            int bytesRead;\n\n            while ((bytesRead = inputStream.read(buffer)) != -1) {\n                byte[] packet = Arrays.copyOf(buffer, bytesRead);\n\n                // Print the packet being sent or received\n                if (direction.equals(&quot;Client to Server&quot;)) {\n                    System.out.println(&quot;Packet Sent: &quot; + bytesToString(packet));\n                } else {\n                    // System.out.println(&quot;Packet Received: &quot; + bytesToString(packet));\n                }\n\n                // Data is being received from inputSocket (client) and sent to outputSocket (server)\n                outputStream.write(buffer, 0, bytesRead);\n                outputStream.flush();\n            }\n\n            // Input stream closed, so close the output stream and sockets as well\n            outputStream.close();\n            inputSocket.close();\n            outputSocket.close();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n\n    private static String bytesToString(byte[] bytes) {\n        StringBuilder sb = new StringBuilder();\n        for (byte b : bytes) {\n            sb.append(String.format(&quot;%02X &quot;, b));\n        }\n        return sb.toString();\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","google-cloud-platform","google-secret-manager"],"owner":{"account_id":19251088,"reputation":83,"user_id":14069058,"display_name":"parmendrak74"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691453754,"creation_date":1691426258,"question_id":76853591,"body_markdown":"&#39;&#39;&#39;&#39;Java Code where we re getting Error, I have tried with multiple secret manager version but getting same issue. Its is showing Bean related issue \r\n\r\n    @Configuration\r\n    public class AttachmentImpl implements Attachment {    \t\r\n    \t@Value(&quot;${bucket.uploadbucket}&quot;)\r\n    \tprivate String bucket;    \t\r\n    \t@Value(&quot;${gcp.project.projectid}&quot;)\r\n    \tprivate String projectid;    \t\r\n    \t@Value(&quot;${key}&quot;)\r\n    \tprivate String key;\r\n    \t\r\n    \t@Override\r\n    \tpublic String getAttachmentURL(String projectId, String bucketName, String objectName) throws Exception{  \t\t\r\n    \t\t\r\n    \t\t\tStorage storage = StorageOptions.newBuilder().setCredentials(GoogleCredentials.getApplicationDefault()).build().getService();    \r\n    \t\t\t// Define resource\r\n    \t\t\tBlobInfo blobInfo = BlobInfo.newBuilder(BlobId.of(bucketName, objectName)).build();    \r\n    \t\t\tURL url = storage.signUrl(blobInfo, 30, TimeUnit.MINUTES, Storage.SignUrlOption.withV4Signature());\r\n    \t\t\t\r\n    \t\t\treturn url.toString();\r\n    \t}\r\n\r\n```xml\r\n&lt;project&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.7.8&lt;/version&gt;\r\n        &lt;relativePath /&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;!-- ... --&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-gcp-starter-secretmanager&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- ... --&gt;\r\n    &lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n```none\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;AttachmentImpl&#39;: Injection of autowired dependencies failed; nested exception is com.google.api.gax.rpc.UnavailableException: io.grpc.StatusRuntimeException: UNAVAILABLE: Failed ALPN negotiation: Unable to find compatible protocol\r\nChannel Pipeline: [SslHandler#0, ProtocolNegotiators$ClientTlsHandler#0, WriteBufferingAndExceptionHandler#0, DefaultChannelPipeline$TailContext#0]\r\n```\r\nI have tried with solution given in below link but no success:\r\n\r\n[Problem with GCP Secret Manager and Spring Boot app](https://stackoverflow.com/questions/71150021/problem-with-gcp-secret-manager-and-spring-boot-app)\r\n\r\n","title":"Got exception when using GCP secret manager in springboot app","body":"<p>''''Java Code where we re getting Error, I have tried with multiple secret manager version but getting same issue. Its is showing Bean related issue</p>\n<pre><code>@Configuration\npublic class AttachmentImpl implements Attachment {     \n    @Value(&quot;${bucket.uploadbucket}&quot;)\n    private String bucket;      \n    @Value(&quot;${gcp.project.projectid}&quot;)\n    private String projectid;       \n    @Value(&quot;${key}&quot;)\n    private String key;\n    \n    @Override\n    public String getAttachmentURL(String projectId, String bucketName, String objectName) throws Exception{        \n        \n            Storage storage = StorageOptions.newBuilder().setCredentials(GoogleCredentials.getApplicationDefault()).build().getService();    \n            // Define resource\n            BlobInfo blobInfo = BlobInfo.newBuilder(BlobId.of(bucketName, objectName)).build();    \n            URL url = storage.signUrl(blobInfo, 30, TimeUnit.MINUTES, Storage.SignUrlOption.withV4Signature());\n            \n            return url.toString();\n    }\n</code></pre>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;project&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.8&lt;/version&gt;\n        &lt;relativePath /&gt;\n    &lt;/parent&gt;\n\n    &lt;dependencies&gt;\n        &lt;!-- ... --&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-gcp-starter-secretmanager&lt;/artifactId&gt;\n            &lt;version&gt;2.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- ... --&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'AttachmentImpl': Injection of autowired dependencies failed; nested exception is com.google.api.gax.rpc.UnavailableException: io.grpc.StatusRuntimeException: UNAVAILABLE: Failed ALPN negotiation: Unable to find compatible protocol\nChannel Pipeline: [SslHandler#0, ProtocolNegotiators$ClientTlsHandler#0, WriteBufferingAndExceptionHandler#0, DefaultChannelPipeline$TailContext#0]\n</code></pre>\n<p>I have tried with solution given in below link but no success:</p>\n<p><a href=\"https://stackoverflow.com/questions/71150021/problem-with-gcp-secret-manager-and-spring-boot-app\">Problem with GCP Secret Manager and Spring Boot app</a></p>\n"},{"tags":["java","swing","jtextfield","stringbuilder","documentfilter"],"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":1,"creation_date":1691416475,"post_id":76852348,"comment_id":135484686,"body_markdown":"Your `onlynumbers()` always returns the original string: `return string;`. Instead of that it should `return builder.toString();` - although that will still allow you to enter more than 3 characters one by one.","body":"Your <code>onlynumbers()</code> always returns the original string: <code>return string;</code>. Instead of that it should <code>return builder.toString();</code> - although that will still allow you to enter more than 3 characters one by one."},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1691417313,"post_id":76852348,"comment_id":135484899,"body_markdown":"@ThomasKl&#228;ger I don&#39;t think so, there is an `i &gt; 3` at the end of that if statement.","body":"@ThomasKl&#228;ger I don&#39;t think so, there is an <code>i &gt; 3</code> at the end of that if statement."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":1,"creation_date":1691418009,"post_id":76852348,"comment_id":135485061,"body_markdown":"@davidalayachew yes there is that condition, but that only prevents inserting more than 3 characters into the document at once. It doesn&#39;t prevent inserting from one to 3 characters into the document even if the document already contains more than 3 characters.","body":"@davidalayachew yes there is that condition, but that only prevents inserting more than 3 characters into the document at once. It doesn&#39;t prevent inserting from one to 3 characters into the document even if the document already contains more than 3 characters."},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1691419213,"post_id":76852348,"comment_id":135485389,"body_markdown":"Ah, good catch.","body":"Ah, good catch."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1691457753,"post_id":76852348,"comment_id":135491250,"body_markdown":"If you really want a &quot;number only text field&quot; then you should be using a `JFormattedTextField`. Read the Swing tutorial on [How to Use Formatted Text Fields](https://docs.oracle.com/javase/tutorial/uiswing/components/formattedtextfield.html) for more information and examples.","body":"If you really want a &quot;number only text field&quot; then you should be using a <code>JFormattedTextField</code>. Read the Swing tutorial on <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/formattedtextfield.html\" rel=\"nofollow noreferrer\">How to Use Formatted Text Fields</a> for more information and examples."}],"answers":[{"tags":[],"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1691417202,"creation_date":1691416697,"answer_id":76852458,"question_id":76852348,"body_markdown":"A `DocumentFilter` is certainly one way to do it, but if you&#39;re fine switching gears, it would probably be much easier to just use a `DocumentListener`. It&#39;s less work that way.\r\n\r\nHere is a quick, easy example.\r\n\r\n```java\r\n\r\nfinal JTextField textField = new JTextField();\r\nfinal DocumentListener listener = \r\n   new DocumentListener()\r\n   {\r\n\r\n      public void insertUpdate(final DocumentEvent event)\r\n      {\r\n         yourValidationMethod(event);            \r\n      }\r\n               \r\n      public void changedUpdate(final DocumentEvent event) {}\r\n               \r\n      public void removeUpdate(final DocumentEvent event)\r\n      {\r\n         yourValidationMethod(event);\r\n      }\r\n\r\n      private void yourValidationMethod(final DocumentEvent event)\r\n      {\r\n         final String string = event.getDocument().getText(0, event.getDocument().getLength());\r\n         //do validations on this string\r\n      }\r\n\r\n   };\r\n\r\ntextField.getDocument().addDocumentListener(listener);\r\n\r\n```\r\n\r\nI also see that you are trying to edit the text. Normally, people just put up some warning that the text is bad, but that&#39;s fine. That&#39;s easy to do here too. Just use [`Document#remove(int offset, int length)`][1]. So if someone types in a `1`, then a `2`, and then a `f`, you just get the offset, which is the index of the last character in the document, and then you get the length, which is 1, since you only want to remove the last character, then plug those 2 into the method, and you are good.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/javax/swing/text/Document.html#remove(int,int)","title":"Trouble with String Builder: Filtering Characters in Java Swing JTextField","body":"<p>A <code>DocumentFilter</code> is certainly one way to do it, but if you're fine switching gears, it would probably be much easier to just use a <code>DocumentListener</code>. It's less work that way.</p>\n<p>Here is a quick, easy example.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nfinal JTextField textField = new JTextField();\nfinal DocumentListener listener = \n   new DocumentListener()\n   {\n\n      public void insertUpdate(final DocumentEvent event)\n      {\n         yourValidationMethod(event);            \n      }\n               \n      public void changedUpdate(final DocumentEvent event) {}\n               \n      public void removeUpdate(final DocumentEvent event)\n      {\n         yourValidationMethod(event);\n      }\n\n      private void yourValidationMethod(final DocumentEvent event)\n      {\n         final String string = event.getDocument().getText(0, event.getDocument().getLength());\n         //do validations on this string\n      }\n\n   };\n\ntextField.getDocument().addDocumentListener(listener);\n\n</code></pre>\n<p>I also see that you are trying to edit the text. Normally, people just put up some warning that the text is bad, but that's fine. That's easy to do here too. Just use <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/javax/swing/text/Document.html#remove(int,int)\" rel=\"nofollow noreferrer\"><code>Document#remove(int offset, int length)</code></a>. So if someone types in a <code>1</code>, then a <code>2</code>, and then a <code>f</code>, you just get the offset, which is the index of the last character in the document, and then you get the length, which is 1, since you only want to remove the last character, then plug those 2 into the method, and you are good.</p>\n"},{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691451104,"creation_date":1691451104,"answer_id":76855700,"question_id":76852348,"body_markdown":"Doesn&#39;t exactly answer your question but it should give you a better structure to work with for your DocumentFilter.\r\n\r\nThe code below:\r\n\r\n1. doesn&#39;t make any changes to the StringBuilder. It only uses to the StringBuilder to insert the text you want into the existing text. Then you can perform your edits for validity.\r\n2. the insertString(...) method simply invokes the replace(...) method so you don&#39;t have to repeat the logic.\r\n\r\nYou should only need to change the code in the `validReplace(..)` method. I would add the &quot;length&quot; test after the empty test and then invoke your loop to test each character for validity:\r\n\r\n    import java.awt.*;\r\n    import javax.swing.*;\r\n    import javax.swing.text.*;\r\n    \r\n    public class IntegerFilter extends DocumentFilter\r\n    {\r\n    \t@Override\r\n    \tpublic void insertString(FilterBypass fb, int offset, String text, AttributeSet attributes)\r\n    \t\tthrows BadLocationException\r\n    \t{\r\n    \t\treplace(fb, offset, 0, text, attributes);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void replace(FilterBypass fb, int offset, int length, String text, AttributeSet attributes)\r\n    \t\tthrows BadLocationException\r\n    \t{\r\n    \t\t//  In case someone tries to clear the Document by using setText(null)\r\n    \r\n    \t\tif (text == null)\r\n    \t\t\ttext = &quot;&quot;;\r\n    \r\n    \t\t//  Build the text string assuming the replace of the text is successfull\r\n    \r\n    \t\tDocument doc = fb.getDocument();\r\n    \t\tStringBuilder sb = new StringBuilder();\r\n    \t\tsb.append(doc.getText(0, doc.getLength()));\r\n    \t\tsb.replace(offset, offset + length, text);\r\n    \r\n    \t\tif (validReplace(sb.toString()))\r\n    \t\t\tsuper.replace(fb, offset, length, text, attributes);\r\n    \t\telse\r\n    \t\t\tToolkit.getDefaultToolkit().beep();\r\n    \t}\r\n    \r\n    \tprivate boolean validReplace(String text)\r\n    \t{\r\n    \t\t//  In case setText(&quot;&quot;) is used to clear the Document\r\n    \r\n    \t\tif (text.isEmpty())\r\n    \t\t\treturn true;\r\n    \r\n    \t\t//\tVerify input is an Integer\r\n    \r\n    \t\ttry\r\n    \t\t{\r\n    //\t\t\tInteger.parseInt( text );\r\n    \t\t\tDouble.parseDouble( text );\r\n    \t\t\treturn true;\r\n    \t\t}\r\n    \t\tcatch (NumberFormatException e)\r\n    \t\t{\r\n    \t\t\treturn false;\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tprivate static void createAndShowGUI()\r\n    \t{\r\n    \t\tJTextField textField = new JTextField(4);\r\n    \t\tAbstractDocument doc = (AbstractDocument) textField.getDocument();\r\n    \t\tdoc.setDocumentFilter( new IntegerFilter() );\r\n    \t\ttextField.setText(&quot;123&quot;);\r\n    \t\ttextField.setText(&quot;123567&quot;);\r\n    \t\ttextField.setText(null);\r\n    \r\n    \t\tJFrame frame = new JFrame(&quot;Integer Filter&quot;);\r\n    \t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\tframe.setLayout( new java.awt.GridBagLayout() );\r\n    \t\tframe.add( textField );\r\n    \t\tframe.setSize(220, 200);\r\n    \t\tframe.setLocationByPlatform( true );\r\n    \t\tframe.setVisible( true );\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) throws Exception\r\n    \t{\r\n    \t\tEventQueue.invokeLater( () -&gt; createAndShowGUI() );\r\n    /*\r\n    \t\tEventQueue.invokeLater(new Runnable()\r\n    \t\t{\r\n    \t\t\tpublic void run()\r\n    \t\t\t{\r\n    \t\t\t\tcreateAndShowGUI();\r\n    \t\t\t}\r\n    \t\t});\r\n    */\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"Trouble with String Builder: Filtering Characters in Java Swing JTextField","body":"<p>Doesn't exactly answer your question but it should give you a better structure to work with for your DocumentFilter.</p>\n<p>The code below:</p>\n<ol>\n<li>doesn't make any changes to the StringBuilder. It only uses to the StringBuilder to insert the text you want into the existing text. Then you can perform your edits for validity.</li>\n<li>the insertString(...) method simply invokes the replace(...) method so you don't have to repeat the logic.</li>\n</ol>\n<p>You should only need to change the code in the <code>validReplace(..)</code> method. I would add the &quot;length&quot; test after the empty test and then invoke your loop to test each character for validity:</p>\n<pre><code>import java.awt.*;\nimport javax.swing.*;\nimport javax.swing.text.*;\n\npublic class IntegerFilter extends DocumentFilter\n{\n    @Override\n    public void insertString(FilterBypass fb, int offset, String text, AttributeSet attributes)\n        throws BadLocationException\n    {\n        replace(fb, offset, 0, text, attributes);\n    }\n\n    @Override\n    public void replace(FilterBypass fb, int offset, int length, String text, AttributeSet attributes)\n        throws BadLocationException\n    {\n        //  In case someone tries to clear the Document by using setText(null)\n\n        if (text == null)\n            text = &quot;&quot;;\n\n        //  Build the text string assuming the replace of the text is successfull\n\n        Document doc = fb.getDocument();\n        StringBuilder sb = new StringBuilder();\n        sb.append(doc.getText(0, doc.getLength()));\n        sb.replace(offset, offset + length, text);\n\n        if (validReplace(sb.toString()))\n            super.replace(fb, offset, length, text, attributes);\n        else\n            Toolkit.getDefaultToolkit().beep();\n    }\n\n    private boolean validReplace(String text)\n    {\n        //  In case setText(&quot;&quot;) is used to clear the Document\n\n        if (text.isEmpty())\n            return true;\n\n        //  Verify input is an Integer\n\n        try\n        {\n//          Integer.parseInt( text );\n            Double.parseDouble( text );\n            return true;\n        }\n        catch (NumberFormatException e)\n        {\n            return false;\n        }\n    }\n\n    private static void createAndShowGUI()\n    {\n        JTextField textField = new JTextField(4);\n        AbstractDocument doc = (AbstractDocument) textField.getDocument();\n        doc.setDocumentFilter( new IntegerFilter() );\n        textField.setText(&quot;123&quot;);\n        textField.setText(&quot;123567&quot;);\n        textField.setText(null);\n\n        JFrame frame = new JFrame(&quot;Integer Filter&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setLayout( new java.awt.GridBagLayout() );\n        frame.add( textField );\n        frame.setSize(220, 200);\n        frame.setLocationByPlatform( true );\n        frame.setVisible( true );\n    }\n\n    public static void main(String[] args) throws Exception\n    {\n        EventQueue.invokeLater( () -&gt; createAndShowGUI() );\n/*\n        EventQueue.invokeLater(new Runnable()\n        {\n            public void run()\n            {\n                createAndShowGUI();\n            }\n        });\n*/\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":29177177,"reputation":1,"user_id":22352197,"display_name":"Nichti"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1691451104,"creation_date":1691415966,"question_id":76852348,"body_markdown":"I&#39;m fairly new to Java and stackoverflow.\r\nPlease alert me if I make a mistake or if I provide insufficient information.\r\n\r\nI&#39;m working on a Java Swing project and trying to use a custom DocumentFilter class to monitor and filter input in a JTextField. Specifically, I want to ensure that only three digits and certain special characters (-, comma) can be Typed in.\r\n\r\nHere is the class i wrote:\r\n\r\n```\r\nimport javax.swing.*;\r\nimport javax.swing.text.*;\r\n\r\npublic class NumberOnlyField extends JTextField {\r\n\r\n\tpublic NumberOnlyField() {\r\n\t\tPlainDocument doc = (PlainDocument) getDocument();\r\n\t\tdoc.setDocumentFilter(new NumberOnlyFilter());\r\n\t}\r\n\r\n\tprivate class NumberOnlyFilter extends DocumentFilter {\r\n\r\n\t\t@Override\r\n\t\tpublic void insertString(FilterBypass fb, int offset, String string, AttributeSet attr)\r\n\t\t\t\tthrows BadLocationException {\r\n\t\t\tif (string == null) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tsuper.insertString(fb, offset, onlynumbers(string), attr);\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic void replace(FilterBypass fb, int offset, int length, String text, AttributeSet attrs)\r\n\t\t\t\tthrows BadLocationException {\r\n\t\t\tif (text == null) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tsuper.replace(fb, offset, length, onlynumbers(text), attrs);\r\n\t\t}\r\n\t}\r\n\r\n\tprivate String onlynumbers(String string) {\r\n\t\tStringBuilder builder = new StringBuilder(string);\r\n\t\tfor (int i = builder.length() - 1; i &gt;= 0; i--) {\r\n\t\t\tchar ch = builder.charAt(i);\r\n\t\t\tif ((!Character.isDigit(ch) &amp;&amp; ch != &#39;-&#39; &amp;&amp; ch != &#39;,&#39;) || i &gt; 3) {\r\n\t\t\t\tbuilder.deleteCharAt(i);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn string;\r\n\t}\r\n}\r\n```\r\n\r\nHere is use the TextField:\r\n\r\n```\r\nJTextField minRain = new NumberOnlyField();\r\n\t\tminRain.setBounds(155, 130, 35, 20);\r\n\t\tadd(minRain);\r\n\t\tminRain.setColumns(10);\r\n```\r\n\r\nThe filter isn&#39;t functioning at all. The text field appears normally with no errors occurring and i can write evrything in it. Given its straightforward nature, I&#39;m struggling to pinpoint what I might be doing incorrectly.","title":"Trouble with String Builder: Filtering Characters in Java Swing JTextField","body":"<p>I'm fairly new to Java and stackoverflow.\nPlease alert me if I make a mistake or if I provide insufficient information.</p>\n<p>I'm working on a Java Swing project and trying to use a custom DocumentFilter class to monitor and filter input in a JTextField. Specifically, I want to ensure that only three digits and certain special characters (-, comma) can be Typed in.</p>\n<p>Here is the class i wrote:</p>\n<pre><code>import javax.swing.*;\nimport javax.swing.text.*;\n\npublic class NumberOnlyField extends JTextField {\n\n    public NumberOnlyField() {\n        PlainDocument doc = (PlainDocument) getDocument();\n        doc.setDocumentFilter(new NumberOnlyFilter());\n    }\n\n    private class NumberOnlyFilter extends DocumentFilter {\n\n        @Override\n        public void insertString(FilterBypass fb, int offset, String string, AttributeSet attr)\n                throws BadLocationException {\n            if (string == null) {\n                return;\n            }\n\n            super.insertString(fb, offset, onlynumbers(string), attr);\n        }\n\n        @Override\n        public void replace(FilterBypass fb, int offset, int length, String text, AttributeSet attrs)\n                throws BadLocationException {\n            if (text == null) {\n                return;\n            }\n\n            super.replace(fb, offset, length, onlynumbers(text), attrs);\n        }\n    }\n\n    private String onlynumbers(String string) {\n        StringBuilder builder = new StringBuilder(string);\n        for (int i = builder.length() - 1; i &gt;= 0; i--) {\n            char ch = builder.charAt(i);\n            if ((!Character.isDigit(ch) &amp;&amp; ch != '-' &amp;&amp; ch != ',') || i &gt; 3) {\n                builder.deleteCharAt(i);\n            }\n        }\n        return string;\n    }\n}\n</code></pre>\n<p>Here is use the TextField:</p>\n<pre><code>JTextField minRain = new NumberOnlyField();\n        minRain.setBounds(155, 130, 35, 20);\n        add(minRain);\n        minRain.setColumns(10);\n</code></pre>\n<p>The filter isn't functioning at all. The text field appears normally with no errors occurring and i can write evrything in it. Given its straightforward nature, I'm struggling to pinpoint what I might be doing incorrectly.</p>\n"},{"tags":["java","css","javafx"],"comments":[{"owner":{"account_id":11370459,"reputation":321,"user_id":8336150,"display_name":"FARS"},"score":0,"creation_date":1690401384,"post_id":76774514,"comment_id":135350225,"body_markdown":"@jewelsea that&#39;s precisely my goal.","body":"@jewelsea that&#39;s precisely my goal."}],"answers":[{"comments":[{"owner":{"account_id":11370459,"reputation":321,"user_id":8336150,"display_name":"FARS"},"score":0,"creation_date":1690403779,"post_id":76774668,"comment_id":135350635,"body_markdown":"I don&#39;t really get why would you not provide any code, it should be simple clipping or subtracting shapes but I&#39;m having some trouble, it just seems not possible to do both once both my nodes are already rendered in the scene (but that&#39;s just a guess)","body":"I don&#39;t really get why would you not provide any code, it should be simple clipping or subtracting shapes but I&#39;m having some trouble, it just seems not possible to do both once both my nodes are already rendered in the scene (but that&#39;s just a guess)"},{"owner":{"account_id":11370459,"reputation":321,"user_id":8336150,"display_name":"FARS"},"score":0,"creation_date":1690403964,"post_id":76774668,"comment_id":135350662,"body_markdown":"my initialize() method always throws NPE: Cannot invoke &quot;javafx.scene.shape.Shape.getTransformedArea()&quot; because &quot;&lt;parameter1&gt;&quot; is null","body":"my initialize() method always throws NPE: Cannot invoke &quot;javafx.scene.shape.Shape.getTransformedArea()&quot; because &quot;&lt;parameter1&gt;&quot; is null"},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":5,"creation_date":1690404596,"post_id":76774668,"comment_id":135350750,"body_markdown":"It is not simple to write the code for this (IMO).  It is not possible to help you debug your code unless provided a [mcve].  Even with that, there is effort involved which I may not wish to undertake.","body":"It is not simple to write the code for this (IMO).  It is not possible to help you debug your code unless provided a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>.  Even with that, there is effort involved which I may not wish to undertake."},{"owner":{"account_id":7717111,"reputation":8774,"user_id":5844477,"display_name":"Sai Dandem"},"score":0,"creation_date":1690434450,"post_id":76774668,"comment_id":135353882,"body_markdown":"One quick note., the node (or mask) you are going to clip should be treated as a background layer only. Don&#39;t include any nodes to that layer. Otherwise the nodes will be also clipped. The textbox should be on one layer/container. And behind it a masked/clipped layer should be placed. Then you will get the desired effect.","body":"One quick note., the node (or mask) you are going to clip should be treated as a background layer only. Don&#39;t include any nodes to that layer. Otherwise the nodes will be also clipped. The textbox should be on one layer/container. And behind it a masked/clipped layer should be placed. Then you will get the desired effect."}],"tags":[],"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"comment_count":4,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1690401744,"creation_date":1690401744,"answer_id":76774668,"question_id":76774514,"body_markdown":"The transparency of the text field has nothing to do with the HBox background, it is only a property of the text field.\r\n\r\nWhat is actually required (as confirmed by the asker), is that, for some part of the TextField (e.g. the stuff inside the blue border), the underlying portion of the HBox should also be transparent, allowing the underlying gradient in the AnchorPane to become visible.\r\n\r\n**Clip based Solution**\r\n\r\nYou can apply a clip to the HBox to mask out the area to be made transparent. If you have multiple text fields, then you can use shape subtraction to add additional fields to the clip. \r\n\r\nIn the spirit of the question, I will not supply code for this. ","title":"JavaFX setting transparent node background above dynamic background","body":"<p>The transparency of the text field has nothing to do with the HBox background, it is only a property of the text field.</p>\n<p>What is actually required (as confirmed by the asker), is that, for some part of the TextField (e.g. the stuff inside the blue border), the underlying portion of the HBox should also be transparent, allowing the underlying gradient in the AnchorPane to become visible.</p>\n<p><strong>Clip based Solution</strong></p>\n<p>You can apply a clip to the HBox to mask out the area to be made transparent. If you have multiple text fields, then you can use shape subtraction to add additional fields to the clip.</p>\n<p>In the spirit of the question, I will not supply code for this.</p>\n"},{"comments":[{"owner":{"account_id":11370459,"reputation":321,"user_id":8336150,"display_name":"FARS"},"score":0,"creation_date":1690723113,"post_id":76784608,"comment_id":135390151,"body_markdown":"Outstanding, thank you. Just a question, I noticed that removeListenersFromNode() is only used when nodes are removed from the observable list. I&#39;m invoking PerforatedPaneDemo passing parent.getChildren() as argument, which means that removeListenersFromNode will only be triggered if I remove a node in its parent. If I do that, all the listeners will be garbage collected within the node, so is this method really necessary?","body":"Outstanding, thank you. Just a question, I noticed that removeListenersFromNode() is only used when nodes are removed from the observable list. I&#39;m invoking PerforatedPaneDemo passing parent.getChildren() as argument, which means that removeListenersFromNode will only be triggered if I remove a node in its parent. If I do that, all the listeners will be garbage collected within the node, so is this method really necessary?"},{"owner":{"account_id":7717111,"reputation":8774,"user_id":5844477,"display_name":"Sai Dandem"},"score":1,"creation_date":1690758266,"post_id":76784608,"comment_id":135393847,"body_markdown":"In this case it is not necessary. I usually have a practice of removing listeners if I add them explicitly to a node elsewhere. It is up to you whether it is needed or not.","body":"In this case it is not necessary. I usually have a practice of removing listeners if I add them explicitly to a node elsewhere. It is up to you whether it is needed or not."},{"owner":{"account_id":11370459,"reputation":321,"user_id":8336150,"display_name":"FARS"},"score":0,"creation_date":1690759355,"post_id":76784608,"comment_id":135393907,"body_markdown":"Thx for the quick reply! I was wondering if there is any way to &quot;drill holes&quot; in the same pane which children are in, like &quot;Vbox root&quot;. Otherwise the only approach to do so would be using another pane (in this case, StackPane) in order to clip specific spots on it?","body":"Thx for the quick reply! I was wondering if there is any way to &quot;drill holes&quot; in the same pane which children are in, like &quot;Vbox root&quot;. Otherwise the only approach to do so would be using another pane (in this case, StackPane) in order to clip specific spots on it?"},{"owner":{"account_id":7717111,"reputation":8774,"user_id":5844477,"display_name":"Sai Dandem"},"score":1,"creation_date":1690762687,"post_id":76784608,"comment_id":135394112,"body_markdown":"Clipping will not be applied at intermediate stages. It gets applied on the final rendered node. So applying it in the same container will result to clip the everything at that region, resulting you to see only holes but no TextFields :D","body":"Clipping will not be applied at intermediate stages. It gets applied on the final rendered node. So applying it in the same container will result to clip the everything at that region, resulting you to see only holes but no TextFields :D"},{"owner":{"account_id":11370459,"reputation":321,"user_id":8336150,"display_name":"FARS"},"score":0,"creation_date":1691382414,"post_id":76784608,"comment_id":135478721,"body_markdown":"There&#39;s a problem, it is not possible to make the rectangles rounded. Tried setting style background-radius + border_radius and setArcWidth + setArcWidth. None works. Besides, my guess is that finalClip is messing up with the final shape format.","body":"There&#39;s a problem, it is not possible to make the rectangles rounded. Tried setting style background-radius + border_radius and setArcWidth + setArcWidth. None works. Besides, my guess is that finalClip is messing up with the final shape format."},{"owner":{"account_id":7717111,"reputation":8774,"user_id":5844477,"display_name":"Sai Dandem"},"score":0,"creation_date":1691450918,"post_id":76784608,"comment_id":135490706,"body_markdown":"I think you doing something wrong. It works for me.. check the updated screenshot.","body":"I think you doing something wrong. It works for me.. check the updated screenshot."},{"owner":{"account_id":11370459,"reputation":321,"user_id":8336150,"display_name":"FARS"},"score":0,"creation_date":1691455520,"post_id":76784608,"comment_id":135491102,"body_markdown":"Interesting, how you&#39;ve setted the corners? Through textField or rectangle?","body":"Interesting, how you&#39;ve setted the corners? Through textField or rectangle?"},{"owner":{"account_id":7717111,"reputation":8774,"user_id":5844477,"display_name":"Sai Dandem"},"score":0,"creation_date":1691456592,"post_id":76784608,"comment_id":135491165,"body_markdown":"I set them on both","body":"I set them on both"},{"owner":{"account_id":11370459,"reputation":321,"user_id":8336150,"display_name":"FARS"},"score":0,"creation_date":1691456688,"post_id":76784608,"comment_id":135491173,"body_markdown":"I guess you setted the TextBox corners with background-radius + border_radius and Rectangle with setArcWidth + setArcWidth, is that so?","body":"I guess you setted the TextBox corners with background-radius + border_radius and Rectangle with setArcWidth + setArcWidth, is that so?"},{"owner":{"account_id":7717111,"reputation":8774,"user_id":5844477,"display_name":"Sai Dandem"},"score":0,"creation_date":1691457376,"post_id":76784608,"comment_id":135491227,"body_markdown":"As the background color is transparent, it does&#39;nt matter with background radius. I set the border radius of TextField and arcWidth/Height of Rectangle.","body":"As the background color is transparent, it does&#39;nt matter with background radius. I set the border radius of TextField and arcWidth/Height of Rectangle."},{"owner":{"account_id":11370459,"reputation":321,"user_id":8336150,"display_name":"FARS"},"score":0,"creation_date":1692498426,"post_id":76784608,"comment_id":135630968,"body_markdown":"Thank you a lot for your assistance, managed to make it work, I was setting rectangle arc in mainClip, it should be subClip","body":"Thank you a lot for your assistance, managed to make it work, I was setting rectangle arc in mainClip, it should be subClip"}],"tags":[],"owner":{"account_id":7717111,"reputation":8774,"user_id":5844477,"display_name":"Sai Dandem"},"comment_count":11,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1691450912,"creation_date":1690513487,"answer_id":76784608,"question_id":76774514,"body_markdown":"Inspired by what @jewelsea suggested in his answer, I thought to give a try to his solution :). And indeed it worked perfectly well !! For that, I would like to thank @jewelsea for sharing a concept (multiple shape subtraction) which I am not so familiar at.\r\n\r\nThe general idea is to create a dedicated Pane that can drill holes for the provided list of nodes. These holes will be of same size of each node and at the location where they overlap.\r\n\r\nTo say this technically, we take a big shape(Rectangle) and clip the regions (using shape subtraction) that overlay with the provided nodes, and place this computed shape between the background and our actual nodes layout.\r\n\r\nIn the below demo, I added two columns of TextFields. Both are transparent text fields. I created a custom pane [named as `PerforatedPane` ;-)], to which I supplied only the first column TextFields. The layer clips all the regions that the Textfield(s) overlay. The pane also refills the holes when a node is removed from the list.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n    import javafx.application.Application;\r\n    import javafx.application.Platform;\r\n    import javafx.beans.InvalidationListener;\r\n    import javafx.collections.FXCollections;\r\n    import javafx.collections.ListChangeListener;\r\n    import javafx.collections.ObservableList;\r\n    import javafx.geometry.Bounds;\r\n    import javafx.geometry.Insets;\r\n    import javafx.geometry.Pos;\r\n    import javafx.scene.Node;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.Button;\r\n    import javafx.scene.control.TextField;\r\n    import javafx.scene.layout.*;\r\n    import javafx.scene.shape.Rectangle;\r\n    import javafx.scene.shape.Shape;\r\n    import javafx.stage.Stage;\r\n    \r\n    import java.util.List;\r\n    \r\n    public class PerforatedPaneDemo extends Application {\r\n        @Override\r\n        public void start(final Stage primaryStage) {\r\n            ObservableList&lt;Node&gt; nodesList = FXCollections.observableArrayList();\r\n    \r\n            final VBox layout = new VBox(10);\r\n            layout.setPadding(new Insets(10));\r\n    \r\n            Button add = new Button(&quot;Add Row&quot;);\r\n            add.setOnAction(e -&gt; {\r\n                TextField textField1 = new TextField();\r\n                textField1.getStyleClass().add(&quot;transparent-field&quot;);\r\n    \r\n                TextField textField2 = new TextField();\r\n                textField2.getStyleClass().add(&quot;transparent-field&quot;);\r\n    \r\n                HBox row = new HBox(10, textField1, textField2);\r\n                layout.getChildren().add(row);\r\n                nodesList.add(textField1);\r\n            });\r\n            Button remove = new Button(&quot;Remove&quot;);\r\n            remove.setOnAction(e1 -&gt; {\r\n                int lastIndex = nodesList.size() - 1;\r\n                nodesList.remove(lastIndex);\r\n                layout.getChildren().remove(lastIndex);\r\n            });\r\n    \r\n            PerforatedPane perforatedPane = new PerforatedPane(nodesList);\r\n            StackPane container = new StackPane(perforatedPane, layout);\r\n            VBox.setVgrow(container, Priority.ALWAYS);\r\n    \r\n            final VBox root = new VBox(new HBox(10, add, remove), container);\r\n            root.setSpacing(10);\r\n            root.setPadding(new Insets(25));\r\n            root.setStyle(&quot;-fx-background-color:linear-gradient(to right,#B3C890,#DBDFAA,#F5F0BB,#F5F0BB,#DBDFAA,#B3C890)&quot;);\r\n    \r\n            final Scene scene = new Scene(root, 400, 300);\r\n            scene.getStylesheets().add(getClass().getResource(&quot;PerforatedPaneDemo.css&quot;).toExternalForm());\r\n            primaryStage.setScene(scene);\r\n            primaryStage.setTitle(&quot;PerforatedPane Demo&quot;);\r\n            primaryStage.show();\r\n        }\r\n    \r\n        public static void main(final String[] args) {\r\n            launch(args);\r\n        }\r\n    \r\n        /**\r\n         * Pane that clips itself for the areas of the provided overlay nodes.\r\n         */\r\n        class PerforatedPane extends StackPane {\r\n            /**\r\n             * The sole purpose of this Rectangle is to provide the shape of this pane.\r\n             * This is never used as clip. But used as a start/base for the shape subtraction.\r\n             */\r\n            private final Rectangle mainClip = new Rectangle();\r\n            private final Rectangle subClip = new Rectangle();\r\n            private InvalidationListener listener = p -&gt; updateClip();\r\n    \r\n            private ObservableList&lt;Node&gt; nodes;\r\n    \r\n            public PerforatedPane(ObservableList&lt;Node&gt; nodes) {\r\n                this.nodes = nodes;\r\n                mainClip.widthProperty().bind(widthProperty());\r\n                mainClip.heightProperty().bind(heightProperty());\r\n                getStyleClass().add(&quot;perforated-pane&quot;);\r\n                setAlignment(Pos.TOP_LEFT);\r\n                addListenersToNode(nodes);\r\n                nodes.addListener((ListChangeListener&lt;? super Node&gt;) p -&gt; {\r\n                    while (p.next()) {\r\n                        if (p.getAddedSize() &gt; 0) {\r\n                            addListenersToNode((List&lt;Node&gt;) p.getAddedSubList());\r\n                        }\r\n                        if (p.getRemovedSize() &gt; 0) {\r\n                            removeListenersFromNode((List&lt;Node&gt;) p.getRemoved());\r\n                        }\r\n                    }\r\n                });\r\n                widthProperty().addListener(listener);\r\n                heightProperty().addListener(listener);\r\n            }\r\n    \r\n            private void addListenersToNode(List&lt;Node&gt; addedNodes) {\r\n                addedNodes.forEach(node -&gt; {\r\n                    node.layoutBoundsProperty().addListener(listener);\r\n                    node.layoutXProperty().addListener(listener);\r\n                    node.layoutYProperty().addListener(listener);\r\n                    node.translateXProperty().addListener(listener);\r\n                    node.translateYProperty().addListener(listener);\r\n                });\r\n                Platform.runLater(this::updateClip);\r\n            }\r\n    \r\n            private void removeListenersFromNode(List&lt;Node&gt; removedNodes) {\r\n                removedNodes.forEach(node -&gt; {\r\n                    node.layoutBoundsProperty().removeListener(listener);\r\n                    node.layoutXProperty().removeListener(listener);\r\n                    node.layoutYProperty().removeListener(listener);\r\n                    node.translateXProperty().removeListener(listener);\r\n                    node.translateYProperty().removeListener(listener);\r\n                });\r\n                Platform.runLater(this::updateClip);\r\n            }\r\n    \r\n            private void updateClip() {\r\n                Bounds paneBounds = localToScene(getLayoutBounds());\r\n                Shape finalClip = null;\r\n                for (final Node node : nodes) {\r\n                    Bounds nodeBounds = node.localToScene(node.getLayoutBounds());\r\n                    if(nodeBounds.intersects(paneBounds)) {\r\n                        subClip.setWidth(nodeBounds.getWidth());\r\n                        subClip.setHeight(nodeBounds.getHeight());\r\n                        subClip.setX(nodeBounds.getMinX() - paneBounds.getMinX());\r\n                        subClip.setY(nodeBounds.getMinY() - paneBounds.getMinY());\r\n                        if (finalClip == null) {\r\n                            finalClip = Shape.subtract(mainClip, subClip);\r\n                        } else {\r\n                            finalClip = Shape.subtract(finalClip, subClip);\r\n                        }\r\n                    }\r\n                }\r\n                setClip(finalClip);\r\n            }\r\n        }\r\n    }\r\n\r\nCSS file:\r\n\r\n    .perforated-pane{\r\n        -fx-background-color: #00000050;\r\n    }\r\n    \r\n    .transparent-field,\r\n    .transparent-field:focused{\r\n        -fx-background-color:transparent;\r\n        -fx-background-insets: 0;\r\n        -fx-background-radius: 0;\r\n        -fx-border-color: #777777;\r\n        -fx-border-insets: 0;\r\n        -fx-border-radius: 0;\r\n        -fx-border-width: 1px;\r\n     }\r\n    \r\n    .transparent-field:focused {\r\n        -fx-border-color:-fx-focus-color;\r\n    }\r\n\r\n**UPDATE:**\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6MePh.gif\r\n  [2]: https://i.stack.imgur.com/L2CKB.png","title":"JavaFX setting transparent node background above dynamic background","body":"<p>Inspired by what @jewelsea suggested in his answer, I thought to give a try to his solution :). And indeed it worked perfectly well !! For that, I would like to thank @jewelsea for sharing a concept (multiple shape subtraction) which I am not so familiar at.</p>\n<p>The general idea is to create a dedicated Pane that can drill holes for the provided list of nodes. These holes will be of same size of each node and at the location where they overlap.</p>\n<p>To say this technically, we take a big shape(Rectangle) and clip the regions (using shape subtraction) that overlay with the provided nodes, and place this computed shape between the background and our actual nodes layout.</p>\n<p>In the below demo, I added two columns of TextFields. Both are transparent text fields. I created a custom pane [named as <code>PerforatedPane</code> ;-)], to which I supplied only the first column TextFields. The layer clips all the regions that the Textfield(s) overlay. The pane also refills the holes when a node is removed from the list.</p>\n<p><a href=\"https://i.stack.imgur.com/6MePh.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6MePh.gif\" alt=\"enter image description here\" /></a></p>\n<pre><code>import javafx.application.Application;\nimport javafx.application.Platform;\nimport javafx.beans.InvalidationListener;\nimport javafx.collections.FXCollections;\nimport javafx.collections.ListChangeListener;\nimport javafx.collections.ObservableList;\nimport javafx.geometry.Bounds;\nimport javafx.geometry.Insets;\nimport javafx.geometry.Pos;\nimport javafx.scene.Node;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.TextField;\nimport javafx.scene.layout.*;\nimport javafx.scene.shape.Rectangle;\nimport javafx.scene.shape.Shape;\nimport javafx.stage.Stage;\n\nimport java.util.List;\n\npublic class PerforatedPaneDemo extends Application {\n    @Override\n    public void start(final Stage primaryStage) {\n        ObservableList&lt;Node&gt; nodesList = FXCollections.observableArrayList();\n\n        final VBox layout = new VBox(10);\n        layout.setPadding(new Insets(10));\n\n        Button add = new Button(&quot;Add Row&quot;);\n        add.setOnAction(e -&gt; {\n            TextField textField1 = new TextField();\n            textField1.getStyleClass().add(&quot;transparent-field&quot;);\n\n            TextField textField2 = new TextField();\n            textField2.getStyleClass().add(&quot;transparent-field&quot;);\n\n            HBox row = new HBox(10, textField1, textField2);\n            layout.getChildren().add(row);\n            nodesList.add(textField1);\n        });\n        Button remove = new Button(&quot;Remove&quot;);\n        remove.setOnAction(e1 -&gt; {\n            int lastIndex = nodesList.size() - 1;\n            nodesList.remove(lastIndex);\n            layout.getChildren().remove(lastIndex);\n        });\n\n        PerforatedPane perforatedPane = new PerforatedPane(nodesList);\n        StackPane container = new StackPane(perforatedPane, layout);\n        VBox.setVgrow(container, Priority.ALWAYS);\n\n        final VBox root = new VBox(new HBox(10, add, remove), container);\n        root.setSpacing(10);\n        root.setPadding(new Insets(25));\n        root.setStyle(&quot;-fx-background-color:linear-gradient(to right,#B3C890,#DBDFAA,#F5F0BB,#F5F0BB,#DBDFAA,#B3C890)&quot;);\n\n        final Scene scene = new Scene(root, 400, 300);\n        scene.getStylesheets().add(getClass().getResource(&quot;PerforatedPaneDemo.css&quot;).toExternalForm());\n        primaryStage.setScene(scene);\n        primaryStage.setTitle(&quot;PerforatedPane Demo&quot;);\n        primaryStage.show();\n    }\n\n    public static void main(final String[] args) {\n        launch(args);\n    }\n\n    /**\n     * Pane that clips itself for the areas of the provided overlay nodes.\n     */\n    class PerforatedPane extends StackPane {\n        /**\n         * The sole purpose of this Rectangle is to provide the shape of this pane.\n         * This is never used as clip. But used as a start/base for the shape subtraction.\n         */\n        private final Rectangle mainClip = new Rectangle();\n        private final Rectangle subClip = new Rectangle();\n        private InvalidationListener listener = p -&gt; updateClip();\n\n        private ObservableList&lt;Node&gt; nodes;\n\n        public PerforatedPane(ObservableList&lt;Node&gt; nodes) {\n            this.nodes = nodes;\n            mainClip.widthProperty().bind(widthProperty());\n            mainClip.heightProperty().bind(heightProperty());\n            getStyleClass().add(&quot;perforated-pane&quot;);\n            setAlignment(Pos.TOP_LEFT);\n            addListenersToNode(nodes);\n            nodes.addListener((ListChangeListener&lt;? super Node&gt;) p -&gt; {\n                while (p.next()) {\n                    if (p.getAddedSize() &gt; 0) {\n                        addListenersToNode((List&lt;Node&gt;) p.getAddedSubList());\n                    }\n                    if (p.getRemovedSize() &gt; 0) {\n                        removeListenersFromNode((List&lt;Node&gt;) p.getRemoved());\n                    }\n                }\n            });\n            widthProperty().addListener(listener);\n            heightProperty().addListener(listener);\n        }\n\n        private void addListenersToNode(List&lt;Node&gt; addedNodes) {\n            addedNodes.forEach(node -&gt; {\n                node.layoutBoundsProperty().addListener(listener);\n                node.layoutXProperty().addListener(listener);\n                node.layoutYProperty().addListener(listener);\n                node.translateXProperty().addListener(listener);\n                node.translateYProperty().addListener(listener);\n            });\n            Platform.runLater(this::updateClip);\n        }\n\n        private void removeListenersFromNode(List&lt;Node&gt; removedNodes) {\n            removedNodes.forEach(node -&gt; {\n                node.layoutBoundsProperty().removeListener(listener);\n                node.layoutXProperty().removeListener(listener);\n                node.layoutYProperty().removeListener(listener);\n                node.translateXProperty().removeListener(listener);\n                node.translateYProperty().removeListener(listener);\n            });\n            Platform.runLater(this::updateClip);\n        }\n\n        private void updateClip() {\n            Bounds paneBounds = localToScene(getLayoutBounds());\n            Shape finalClip = null;\n            for (final Node node : nodes) {\n                Bounds nodeBounds = node.localToScene(node.getLayoutBounds());\n                if(nodeBounds.intersects(paneBounds)) {\n                    subClip.setWidth(nodeBounds.getWidth());\n                    subClip.setHeight(nodeBounds.getHeight());\n                    subClip.setX(nodeBounds.getMinX() - paneBounds.getMinX());\n                    subClip.setY(nodeBounds.getMinY() - paneBounds.getMinY());\n                    if (finalClip == null) {\n                        finalClip = Shape.subtract(mainClip, subClip);\n                    } else {\n                        finalClip = Shape.subtract(finalClip, subClip);\n                    }\n                }\n            }\n            setClip(finalClip);\n        }\n    }\n}\n</code></pre>\n<p>CSS file:</p>\n<pre><code>.perforated-pane{\n    -fx-background-color: #00000050;\n}\n\n.transparent-field,\n.transparent-field:focused{\n    -fx-background-color:transparent;\n    -fx-background-insets: 0;\n    -fx-background-radius: 0;\n    -fx-border-color: #777777;\n    -fx-border-insets: 0;\n    -fx-border-radius: 0;\n    -fx-border-width: 1px;\n }\n\n.transparent-field:focused {\n    -fx-border-color:-fx-focus-color;\n}\n</code></pre>\n<p><strong>UPDATE:</strong></p>\n<p><a href=\"https://i.stack.imgur.com/L2CKB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/L2CKB.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":11370459,"reputation":321,"user_id":8336150,"display_name":"FARS"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76784608,"answer_count":2,"score":1,"last_activity_date":1691450912,"creation_date":1690400126,"question_id":76774514,"body_markdown":"I have this dynamic background (which is just a -fx-background-color gradient):\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nOn this background, there&#39;s a styled hbox:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nAnd finally, my TextField node inside it:\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\nI want to make the background of my textField transparent, although it is not possible due to the hbox background color. Is there anything I can do to bypass it?\r\n\r\nAnchorPane gradient background css:\r\n\r\n    -fx-background-color: linear-gradient(to top right, red, green);\r\n\r\nHBox css:\r\n\r\n    -fx-background-color: rgba(0, 0, 0, 0.5);\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Amoai.png\r\n  [2]: https://i.stack.imgur.com/aggQe.png\r\n  [3]: https://i.stack.imgur.com/ibtXN.png\r\n  [4]: https://i.stack.imgur.com/FkE9U.png\r\n\r\nTextField css:\r\n\r\n    -fx-background-color: rgba(255, 255, 255, 0.1);\r\n    -fx-border-color: blue;\r\n    -fx-border-width: 3;\r\n    -fx-border-radius: 8;\r\n    -fx-text-fill: white;\r\n\r\n","title":"JavaFX setting transparent node background above dynamic background","body":"<p>I have this dynamic background (which is just a -fx-background-color gradient):</p>\n<p><a href=\"https://i.stack.imgur.com/Amoai.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Amoai.png\" alt=\"enter image description here\" /></a></p>\n<p>On this background, there's a styled hbox:</p>\n<p><a href=\"https://i.stack.imgur.com/aggQe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aggQe.png\" alt=\"enter image description here\" /></a></p>\n<p>And finally, my TextField node inside it:</p>\n<p><a href=\"https://i.stack.imgur.com/ibtXN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ibtXN.png\" alt=\"enter image description here\" /></a></p>\n<p>I want to make the background of my textField transparent, although it is not possible due to the hbox background color. Is there anything I can do to bypass it?</p>\n<p>AnchorPane gradient background css:</p>\n<pre><code>-fx-background-color: linear-gradient(to top right, red, green);\n</code></pre>\n<p>HBox css:</p>\n<pre><code>-fx-background-color: rgba(0, 0, 0, 0.5);\n</code></pre>\n<p>TextField css:</p>\n<pre><code>-fx-background-color: rgba(255, 255, 255, 0.1);\n-fx-border-color: blue;\n-fx-border-width: 3;\n-fx-border-radius: 8;\n-fx-text-fill: white;\n</code></pre>\n"},{"tags":["java","spring"],"owner":{"account_id":2904900,"reputation":326,"user_id":2490554,"display_name":"Fredrik Rambris"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1691449676,"creation_date":1691449676,"question_id":76855628,"body_markdown":"When defining controllers you can get query parameters into an object simply by adding it to the method signature like so\r\n\r\n```java\r\npublic record PageRequest(Integer pageSize, Integer page) {}\r\n\r\n@GetMapping(&quot;/articles/{type}&quot;)\r\nList&lt;Article&gt; listArticles(@PathVariable String type, PageRequest req) {\r\n  ...\r\n}\r\n```\r\n\r\nBut how do I get the PageRequest to map to query string in *Spring HTTP Interface* `@GetExchange`?\r\n\r\nThis does not work:\r\n\r\n```java\r\n@GetExchange(&quot;/articles/{type}&quot;)\r\nList&lt;Article&gt; listArticles(@PathVariable String type, PageRequest req);\r\n```\r\n\r\nnor does this:\r\n\r\n```java\r\n@GetExchange(&quot;/articles/{type}&quot;)\r\nList&lt;Article&gt; listArticles(@PathVariable String type, @RequestParam PageRequest req);\r\n```\r\n\r\nthe only thing I have gotten working is:\r\n\r\n```java\r\n@GetExchange(&quot;/articles/{type}&quot;)\r\nList&lt;Article&gt; listArticles(@PathVariable String type, @RequestParam Integer pageSize, @RequestParam page);\r\n```\r\n\r\nThat sends a request like `GET /articles/red/?pageSize=10&amp;page=4` which then get mapped to the PageRequest object in the controller.\r\n\r\nIt would be nice to have identical method signatures in both controller and client.","title":"How can I use an object for request parameters in HTTP Interface @GetExchange like you can in controller?","body":"<p>When defining controllers you can get query parameters into an object simply by adding it to the method signature like so</p>\n<pre class=\"lang-java prettyprint-override\"><code>public record PageRequest(Integer pageSize, Integer page) {}\n\n@GetMapping(&quot;/articles/{type}&quot;)\nList&lt;Article&gt; listArticles(@PathVariable String type, PageRequest req) {\n  ...\n}\n</code></pre>\n<p>But how do I get the PageRequest to map to query string in <em>Spring HTTP Interface</em> <code>@GetExchange</code>?</p>\n<p>This does not work:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GetExchange(&quot;/articles/{type}&quot;)\nList&lt;Article&gt; listArticles(@PathVariable String type, PageRequest req);\n</code></pre>\n<p>nor does this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GetExchange(&quot;/articles/{type}&quot;)\nList&lt;Article&gt; listArticles(@PathVariable String type, @RequestParam PageRequest req);\n</code></pre>\n<p>the only thing I have gotten working is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GetExchange(&quot;/articles/{type}&quot;)\nList&lt;Article&gt; listArticles(@PathVariable String type, @RequestParam Integer pageSize, @RequestParam page);\n</code></pre>\n<p>That sends a request like <code>GET /articles/red/?pageSize=10&amp;page=4</code> which then get mapped to the PageRequest object in the controller.</p>\n<p>It would be nice to have identical method signatures in both controller and client.</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":3139777,"reputation":1462,"user_id":2887300,"display_name":"Tran Ho"},"score":0,"creation_date":1543549834,"post_id":53550667,"comment_id":93967938,"body_markdown":"I guess that file is not included in jar file. You can check whether it exists by extracting your jar file using 7zip or winzip. Then checking your package process.","body":"I guess that file is not included in jar file. You can check whether it exists by extracting your jar file using 7zip or winzip. Then checking your package process."}],"answers":[{"comments":[{"owner":{"account_id":4550985,"reputation":31,"user_id":3696184,"display_name":"Sha Suki"},"score":0,"creation_date":1543549207,"post_id":53550726,"comment_id":93967813,"body_markdown":"We cannot use that way in spring boot jar file.giving above error.","body":"We cannot use that way in spring boot jar file.giving above error."}],"tags":[],"owner":{"account_id":1537696,"reputation":180,"user_id":1433218,"display_name":"WGSSAMINTHA"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1543547811,"creation_date":1543547811,"answer_id":53550726,"question_id":53550667,"body_markdown":"If file is in resources folder then use,\r\n\r\n    Resource sourceFile = new ClassPathResource(&quot;report.jrxml&quot;);","title":"Spring boot file read error cannot be resolved to absolute file path because it does not reside in the file system: jar:file:","body":"<p>If file is in resources folder then use,</p>\n\n<pre><code>Resource sourceFile = new ClassPathResource(\"report.jrxml\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8641099,"reputation":3709,"user_id":6469772,"display_name":"LHCHIN"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1543549591,"creation_date":1543549591,"answer_id":53550933,"question_id":53550667,"body_markdown":"try `getResouceAsStream()` to read file under resource folder.\r\n\r\n    ClassLoader classLoader = getClass().getClassLoader();\r\n    InputStreamReader in = null;\r\n    try {\r\n        in = new InputStreamReader(classLoader.getResourceAsStream(&quot;jrxml/report.jrxml&quot;));\r\n        ...\r\n    } catch (...) {\r\n    } finally {\r\n    ...\r\n    }","title":"Spring boot file read error cannot be resolved to absolute file path because it does not reside in the file system: jar:file:","body":"<p>try <code>getResouceAsStream()</code> to read file under resource folder.</p>\n\n<pre><code>ClassLoader classLoader = getClass().getClassLoader();\nInputStreamReader in = null;\ntry {\n    in = new InputStreamReader(classLoader.getResourceAsStream(\"jrxml/report.jrxml\"));\n    ...\n} catch (...) {\n} finally {\n...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1688657398,"creation_date":1688655782,"answer_id":76630207,"question_id":53550667,"body_markdown":"When you build your application, the files in the resources folder are copied to the target directory (where the compiled class files are placed, where the CLASSPATH points to) and this target directory is then put into a jar file.\r\n\r\nLet&#39;s look at your problem line by line:\r\n\r\n```\r\n    // Gets the XML file under src/main/resources folder\r\n```\r\nThis comment is wrong. It does not get the file from the src/... folder, because this folder contains source files but your program is running in either a jar file or in a folder that contains compiled .class files, and it has no knowledge of a src/... folder.\r\n\r\n```\r\n    Resource sourceFile = new ClassPathResource(&quot;jrxml/report.jrxml&quot;);\r\n```\r\nThe variable name is misleading. It&#39;s not necessarily a file; it could be, and typically is, a jar entry.\r\n\r\n```\r\n    String jrxmlFilePath = sourceFile.getFile().getPath();\r\n```\r\nThis is where you are getting the exception. `sourceFile.getFile()` is documented thus, [as you can see here](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/io/AbstractFileResolvingResource.html#getFile()):\r\n\r\n&gt; This implementation returns a File reference for the underlying class path resource, provided that it refers to a file in the file system.\r\n\r\nAnd, as your error message says, it&#39;s not in the file system.\r\n\r\nWhat you need to do is get the resource as an InputStream instead of as a file:\r\n\r\n```\r\n    Resource jrxmlResource = new ClassPathResource(&quot;jrxml/report.jrxml&quot;);\r\n    InputStream jrxmlStream = jrxmlResource.getInputStream();\r\n```\r\n\r\nYou can then open the stream and read from it, or pass it to whatever needs to read it. Just don&#39;t use it as if it were a file, because it&#39;s not.","title":"Spring boot file read error cannot be resolved to absolute file path because it does not reside in the file system: jar:file:","body":"<p>When you build your application, the files in the resources folder are copied to the target directory (where the compiled class files are placed, where the CLASSPATH points to) and this target directory is then put into a jar file.</p>\n<p>Let's look at your problem line by line:</p>\n<pre><code>    // Gets the XML file under src/main/resources folder\n</code></pre>\n<p>This comment is wrong. It does not get the file from the src/... folder, because this folder contains source files but your program is running in either a jar file or in a folder that contains compiled .class files, and it has no knowledge of a src/... folder.</p>\n<pre><code>    Resource sourceFile = new ClassPathResource(&quot;jrxml/report.jrxml&quot;);\n</code></pre>\n<p>The variable name is misleading. It's not necessarily a file; it could be, and typically is, a jar entry.</p>\n<pre><code>    String jrxmlFilePath = sourceFile.getFile().getPath();\n</code></pre>\n<p>This is where you are getting the exception. <code>sourceFile.getFile()</code> is documented thus, <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/io/AbstractFileResolvingResource.html#getFile()\" rel=\"nofollow noreferrer\">as you can see here</a>:</p>\n<blockquote>\n<p>This implementation returns a File reference for the underlying class path resource, provided that it refers to a file in the file system.</p>\n</blockquote>\n<p>And, as your error message says, it's not in the file system.</p>\n<p>What you need to do is get the resource as an InputStream instead of as a file:</p>\n<pre><code>    Resource jrxmlResource = new ClassPathResource(&quot;jrxml/report.jrxml&quot;);\n    InputStream jrxmlStream = jrxmlResource.getInputStream();\n</code></pre>\n<p>You can then open the stream and read from it, or pass it to whatever needs to read it. Just don't use it as if it were a file, because it's not.</p>\n"}],"owner":{"account_id":4550985,"reputation":31,"user_id":3696184,"display_name":"Sha Suki"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9287,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1691449435,"creation_date":1543547338,"question_id":53550667,"body_markdown":"Spring boot file read error  cannot be resolved to absolute file path because it does not reside in the file system: jar:file:\r\n\r\n    \t// Gets the XML file under src/main/resources folder\r\n\t\tResource sourceFile = new ClassPathResource(&quot;jrxml/report.jrxml&quot;);\r\n\r\n\t\tString jrxmlFilePath = sourceFile.getFile().getPath();\r\n\t\t\r\n\r\n\t\t\r\nRequirement \r\n1.Spring boot project jar file\r\n2.File read \r\n3.File upload\r\n","title":"Spring boot file read error cannot be resolved to absolute file path because it does not reside in the file system: jar:file:","body":"<p>Spring boot file read error  cannot be resolved to absolute file path because it does not reside in the file system: jar:file:</p>\n\n<pre><code>    // Gets the XML file under src/main/resources folder\n    Resource sourceFile = new ClassPathResource(\"jrxml/report.jrxml\");\n\n    String jrxmlFilePath = sourceFile.getFile().getPath();\n</code></pre>\n\n<p>Requirement \n1.Spring boot project jar file\n2.File read \n3.File upload</p>\n"},{"tags":["java","amazon-web-services","aws-lambda","aws-api-gateway","aws-event-bridge"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":0,"creation_date":1691391502,"post_id":76849379,"comment_id":135479641,"body_markdown":"How is Java supposed to convert that input into an ApiGatewayEvent? It can&#39;t. Solution: do not accept that event but a more generic thing, e.g. simply a string and then do the parsing yourself based on some logic.","body":"How is Java supposed to convert that input into an ApiGatewayEvent? It can&#39;t. Solution: do not accept that event but a more generic thing, e.g. simply a string and then do the parsing yourself based on some logic."}],"answers":[{"tags":[],"owner":{"account_id":4346930,"reputation":3859,"user_id":3548640,"accept_rate":64,"display_name":"codeninja.sj"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691447564,"creation_date":1691447564,"answer_id":76855509,"question_id":76849379,"body_markdown":"The Lambda function utilizes serialization to convert the JSON payload into the specified JAVA class type. According to your lambda function implementation, all JSON payloads are being converted to the `APIGatewayProxyRequestEvent` type. As a result, since the EB payload doesn&#39;t match the `APIGatewayProxyRequestEvent` type, you received a `null` value when triggering the lambda function from the EB scheduler.\r\n\r\nTo trigger the mentioned lambda function from both API Gateway and EB, you can follow any one of the below-mentioned steps: \r\n\r\n* If you plan to simulate the API request from the EB scheduler, then make sure to modify your payload to represent the `APIGatewayProxyRequestEvent`. You can find the format details for the API Gateway proxy event in [this][1] document.\r\n\r\n* Alternatively, instead of directly calling the lambda function, you can utilize the EB to call your API Gateway endpoint. By doing so, you can pass the payload directly to the API endpoint, and the API Gateway will internally invoke the lambda function. For more information on triggering API Gateway endpoints from EB, refer to [this][2] document.\r\n\r\n* However, if your use case for the EB scheduler serves an entirely different purpose than the API Gateway endpoints, I strongly recommend to use a separate lambda function to handle the EB scheduler events.\r\n\r\n* If you&#39;re just doing an experiment and want to create a lambda function that accepts more than one event trigger, then check out [this][3] SO answer.\r\n\r\n  [1]: https://docs.aws.amazon.com/lambda/latest/dg/services-apigateway.html#apigateway-example-event\r\n  [2]: https://docs.aws.amazon.com/eventbridge/latest/userguide/eb-api-gateway-target.html\r\n  [3]: https://stackoverflow.com/questions/66705253/lambda-handler-for-multiple-triggers-in-aws-lambda","title":"AWS EventBridge event triggering lambda function that uses LAMBDA_PROXY with API gateway","body":"<p>The Lambda function utilizes serialization to convert the JSON payload into the specified JAVA class type. According to your lambda function implementation, all JSON payloads are being converted to the <code>APIGatewayProxyRequestEvent</code> type. As a result, since the EB payload doesn't match the <code>APIGatewayProxyRequestEvent</code> type, you received a <code>null</code> value when triggering the lambda function from the EB scheduler.</p>\n<p>To trigger the mentioned lambda function from both API Gateway and EB, you can follow any one of the below-mentioned steps:</p>\n<ul>\n<li><p>If you plan to simulate the API request from the EB scheduler, then make sure to modify your payload to represent the <code>APIGatewayProxyRequestEvent</code>. You can find the format details for the API Gateway proxy event in <a href=\"https://docs.aws.amazon.com/lambda/latest/dg/services-apigateway.html#apigateway-example-event\" rel=\"nofollow noreferrer\">this</a> document.</p>\n</li>\n<li><p>Alternatively, instead of directly calling the lambda function, you can utilize the EB to call your API Gateway endpoint. By doing so, you can pass the payload directly to the API endpoint, and the API Gateway will internally invoke the lambda function. For more information on triggering API Gateway endpoints from EB, refer to <a href=\"https://docs.aws.amazon.com/eventbridge/latest/userguide/eb-api-gateway-target.html\" rel=\"nofollow noreferrer\">this</a> document.</p>\n</li>\n<li><p>However, if your use case for the EB scheduler serves an entirely different purpose than the API Gateway endpoints, I strongly recommend to use a separate lambda function to handle the EB scheduler events.</p>\n</li>\n<li><p>If you're just doing an experiment and want to create a lambda function that accepts more than one event trigger, then check out <a href=\"https://stackoverflow.com/questions/66705253/lambda-handler-for-multiple-triggers-in-aws-lambda\">this</a> SO answer.</p>\n</li>\n</ul>\n"}],"owner":{"account_id":11921339,"reputation":93,"user_id":8723790,"display_name":"Zhuang Paulus"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":255,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691447564,"creation_date":1691391118,"question_id":76849379,"body_markdown":"I have an AWS Lambda function in Java that uses APIGatewayProxyRequestEvent ([LAMBDA_PROXY][1]) to get input from API gateway. For API calls through the API Gateway, I can get and print the input body without a problem.\r\n\r\nNow I want an EventBridge scheduled event that triggers the Lambda function every 5 minutes. However, I can NOT get the event payload as it shows ***null*** when I print it in the codes below.\r\n\r\n\r\nLambda function:\r\n\r\n    @Override\r\n    public APIGatewayProxyResponseEvent handleRequest(APIGatewayProxyRequestEvent input,\r\n            Context context) {\r\n\r\n        logger.info(&quot;RawBody: {}&quot;, input.getBody());\r\n        // RawBody: null\r\n\r\nEventBridge event payload:\r\n\r\n    {&quot;key&quot;: &quot;value&quot;}\r\n\r\n\r\nAny idea how I can get the event payload from EventBridge in my Lambda function?\r\n\r\n  [1]: https://docs.aws.amazon.com/apigateway/latest/developerguide/set-up-lambda-proxy-integrations.html","title":"AWS EventBridge event triggering lambda function that uses LAMBDA_PROXY with API gateway","body":"<p>I have an AWS Lambda function in Java that uses APIGatewayProxyRequestEvent (<a href=\"https://docs.aws.amazon.com/apigateway/latest/developerguide/set-up-lambda-proxy-integrations.html\" rel=\"nofollow noreferrer\">LAMBDA_PROXY</a>) to get input from API gateway. For API calls through the API Gateway, I can get and print the input body without a problem.</p>\n<p>Now I want an EventBridge scheduled event that triggers the Lambda function every 5 minutes. However, I can NOT get the event payload as it shows <em><strong>null</strong></em> when I print it in the codes below.</p>\n<p>Lambda function:</p>\n<pre><code>@Override\npublic APIGatewayProxyResponseEvent handleRequest(APIGatewayProxyRequestEvent input,\n        Context context) {\n\n    logger.info(&quot;RawBody: {}&quot;, input.getBody());\n    // RawBody: null\n</code></pre>\n<p>EventBridge event payload:</p>\n<pre><code>{&quot;key&quot;: &quot;value&quot;}\n</code></pre>\n<p>Any idea how I can get the event payload from EventBridge in my Lambda function?</p>\n"},{"tags":["java","maven","gradle","apache-kafka"],"answers":[{"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1671843325,"post_id":72713132,"comment_id":132188184,"body_markdown":"You could also fix this by removing `-ccs` version of your dependency.","body":"You could also fix this by removing <code>-ccs</code> version of your dependency."}],"tags":[],"owner":{"account_id":358940,"reputation":355,"user_id":700045,"accept_rate":17,"display_name":"Pramod Biligiri"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1671843290,"creation_date":1655890946,"answer_id":72713132,"question_id":72713131,"body_markdown":"I fixed it by adding the following line in `$JAVA_HOME/lib/security/java.security`\r\n\r\n    jdk.tls.client.protocols=TLSv1,TLSv1.1,TLSv1.2","title":"Confluent Maven repository not working with OpenJDK11","body":"<p>I fixed it by adding the following line in <code>$JAVA_HOME/lib/security/java.security</code></p>\n<pre><code>jdk.tls.client.protocols=TLSv1,TLSv1.1,TLSv1.2\n</code></pre>\n"}],"owner":{"account_id":358940,"reputation":355,"user_id":700045,"accept_rate":17,"display_name":"Pramod Biligiri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":723,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691447100,"creation_date":1655890946,"question_id":72713131,"body_markdown":"I ran a Gradle build with OpenJDK11 that tried to fetch kafka-client and other packages, but failed with handshake error related to TLS. Error looked like below:\r\n\r\n```\r\nCould not download kafka-clients-6.2.0-ccs.jar (org.apache.kafka:kafka-clients:6.2.0-ccs)\r\n\r\nCould not get resource &#39;https://packages.confluent.io/maven/org/apache/kafka/kafka-clients/6.2.0-ccs/kafka-clients-6.2.0-ccs.jar&#39;.\r\n\r\nCould not GET &#39;https://packages.confluent.io/maven/org/apache/kafka/kafka-clients/6.2.0-ccs/kafka-clients-6.2.0-ccs.jar&#39;.\r\n\r\nThe server may not support the client&#39;s requested TLS protocol versions: (TLSv1.2, TLSv1.3). \r\n\r\nYou may need to configure the client to allow other protocols to be used. See: https://docs.gradle.org/6.8.3/userguide/build_environment.html#gradle_system_properties\r\nReceived fatal alert: handshake_failure\r\n```\r\n","title":"Confluent Maven repository not working with OpenJDK11","body":"<p>I ran a Gradle build with OpenJDK11 that tried to fetch kafka-client and other packages, but failed with handshake error related to TLS. Error looked like below:</p>\n<pre><code>Could not download kafka-clients-6.2.0-ccs.jar (org.apache.kafka:kafka-clients:6.2.0-ccs)\n\nCould not get resource 'https://packages.confluent.io/maven/org/apache/kafka/kafka-clients/6.2.0-ccs/kafka-clients-6.2.0-ccs.jar'.\n\nCould not GET 'https://packages.confluent.io/maven/org/apache/kafka/kafka-clients/6.2.0-ccs/kafka-clients-6.2.0-ccs.jar'.\n\nThe server may not support the client's requested TLS protocol versions: (TLSv1.2, TLSv1.3). \n\nYou may need to configure the client to allow other protocols to be used. See: https://docs.gradle.org/6.8.3/userguide/build_environment.html#gradle_system_properties\nReceived fatal alert: handshake_failure\n</code></pre>\n"},{"tags":["java","spring","elasticsearch","opensearch"],"owner":{"account_id":29178694,"reputation":1,"user_id":22353433,"display_name":"kamal hassan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691446184,"creation_date":1691424381,"question_id":76853378,"body_markdown":"I have a requirement where I need to stream real time live updates from the opensearch database. I have thought of implementing it using spring-data-elasticsearch reactive API(Opensearch client) and by using spring webflux library. \r\n\r\nI just need to know whether spring data elasticsearch API will pull the real time live data from opensearch instance.Like if any changes happens in opensearch instance,that also should be reflected in real time.\r\n\r\nAt a high level,I need to know whether the new changes pushed to opensearch instance will also be streamed real time by using spring-data-elasticsearch reactive API.\r\n\r\nPlease let me know if there is any other best approach to deal with this issue.\r\n\r\nArchitectural design:\r\n\r\n(https://i.stack.imgur.com/VDS3V.png)\r\n\r\n\r\ntech stack used:\r\n1.Spring webflux\r\n2.spring-data-elasticsearch\r\n3.Using Rsocket protocol for real time data streaming.\r\n\r\n I have thought of implementing it using spring-data-elasticsearch reactive API(Opensearch client) and by using spring webflux library. \r\nI just need to know whether spring data elasticsearch API will pull the real time live data from opensearch instance.\r\nLike if any changes happens in opensearch instance,that also should be reflected in real time.\r\n","title":"Real time data streaming from OpenSearch","body":"<p>I have a requirement where I need to stream real time live updates from the opensearch database. I have thought of implementing it using spring-data-elasticsearch reactive API(Opensearch client) and by using spring webflux library.</p>\n<p>I just need to know whether spring data elasticsearch API will pull the real time live data from opensearch instance.Like if any changes happens in opensearch instance,that also should be reflected in real time.</p>\n<p>At a high level,I need to know whether the new changes pushed to opensearch instance will also be streamed real time by using spring-data-elasticsearch reactive API.</p>\n<p>Please let me know if there is any other best approach to deal with this issue.</p>\n<p>Architectural design:</p>\n<p>(<a href=\"https://i.stack.imgur.com/VDS3V.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/VDS3V.png</a>)</p>\n<p>tech stack used:\n1.Spring webflux\n2.spring-data-elasticsearch\n3.Using Rsocket protocol for real time data streaming.</p>\n<p>I have thought of implementing it using spring-data-elasticsearch reactive API(Opensearch client) and by using spring webflux library.\nI just need to know whether spring data elasticsearch API will pull the real time live data from opensearch instance.\nLike if any changes happens in opensearch instance,that also should be reflected in real time.</p>\n"},{"tags":["java","hash"],"comments":[{"owner":{"account_id":23428052,"reputation":6895,"user_id":17487348,"display_name":"Mushroomator"},"score":2,"creation_date":1691421945,"post_id":76853064,"comment_id":135486062,"body_markdown":"If you have no idea, maybe start with the trivial brute force attempt and go from there.","body":"If you have no idea, maybe start with the trivial brute force attempt and go from there."},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1691422708,"post_id":76853064,"comment_id":135486239,"body_markdown":"`H` = 72, which could be 1*31 + 41, 41 is `)`, so `new char[]{ &#39;)&#39; }` should work. To find things like that, simply work backwards. (Also, I assume it should be `+ x` in the loop).","body":"<code>H</code> = 72, which could be 1*31 + 41, 41 is <code>)</code>, so <code>new char[]{ &#39;)&#39; }</code> should work. To find things like that, simply work backwards. (Also, I assume it should be <code>+ x</code> in the loop)."},{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":0,"creation_date":1691429938,"post_id":76853064,"comment_id":135487620,"body_markdown":"For 31 &lt;= H &lt;= 65566, then the single-char string of the char whose Unicode value is H-31 will do.  (FWIW, your question says &#39;byte string&#39;, you are clearly hashing char values, and you have tagged it as Java)","body":"For 31 &lt;= H &lt;= 65566, then the single-char string of the char whose Unicode value is H-31 will do.  (FWIW, your question says &#39;byte string&#39;, you are clearly hashing char values, and you have tagged it as Java)"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1691440063,"post_id":76853064,"comment_id":135489387,"body_markdown":"reversing the formula `new char[]{&#39;H&#39;-31}`","body":"reversing the formula <code>new char[]{&#39;H&#39;-31}</code>"},{"owner":{"account_id":4087229,"reputation":1132,"user_id":3356233,"accept_rate":100,"display_name":"mookid"},"score":0,"creation_date":1691450397,"post_id":76853064,"comment_id":135490665,"body_markdown":"@Mushroomator brute forcing is ok, there are just many many strings and many many 32bits integers.","body":"@Mushroomator brute forcing is ok, there are just many many strings and many many 32bits integers."}],"answers":[{"tags":[],"owner":{"account_id":6753077,"reputation":1639,"user_id":5202500,"accept_rate":83,"display_name":"eparvan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691426051,"creation_date":1691426051,"answer_id":76853560,"question_id":76853064,"body_markdown":"Here is not very practical example of &quot;de-hashing&quot; using brute force with a few limitations: \r\n\r\n- let&#39;s assume that initial string is short enough to not cause int overflow during hashing.\r\n- let initial string be ascii encoded with byte range of [32, 126].\r\n\r\n```\r\n    public static Set&lt;String&gt; getStringsFromHash(int hash) {\r\n        Set&lt;String&gt; asciiStringSet = new HashSet&lt;&gt;();\r\n        reverseHash(hash, new StringBuilder(), asciiStringSet);\r\n        return asciiStringSet;\r\n    }\r\n\r\n    private static void reverseHash(int hash, StringBuilder sb, Set&lt;String&gt; asciiStringSet) {\r\n        if (hash == 1) {\r\n            asciiStringSet.add(sb.reverse().toString());\r\n            return;\r\n        }\r\n        if (hash &lt; 0)\r\n            return;\r\n\r\n        for (int i = 32; i &lt;= 126; ++i) {\r\n            if ((hash - i) % 31 == 0) {\r\n                reverseHash((hash - i) / 31, new StringBuilder(sb).append((char) i), asciiStringSet);\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\nreverseHash method recursively solves following equation: hash = hash*31 + i for each i in [32,126] range. When hash == 1 it assumes that we found initial string.\r\n\r\nTest code:\r\n```\r\n    static int hash(char[] a) {\r\n        int h = 1;\r\n        for (int x : a)\r\n            h = h * 31 + x;\r\n        return h;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        String string = &quot;Hi&quot;;\r\n        int hash = hash(string.toCharArray());\r\n        Set&lt;String&gt; stringSet = getStringsFromHash(hash);\r\n        for (String s : stringSet)\r\n            System.out.println(s);\r\n    }\r\n```\r\n\r\nOutput:\r\nJ+, IJ, `Hi`\r\n\r\nThe larger the input string, the more collisions you&#39;ll get, for example here is output for `Hello` string:\r\n\r\nIH001, J)001, J)0/P, J)0.o, Hg001, J(O01, IGO01, HfO01, Hg/O1, Hg0/P, Hg0.o, Hg.n1, Hg.mP, Hg.lo, Hg/NP, Hg/Mo, J&#39;n01, J&#39;mO1, J&#39;n/P, J&#39;n.o, J&#39;ln1, J&#39;lmP, J&#39;llo, J&#39;mNP, J&#39;mMo, J(NO1, J(O/P, J(O.o, J(Mn1, J(MmP, J(Mlo, J(NNP, J(NMo, IFn01, IFmO1, IFn/P, IFn.o, IFln1, IFlmP, IFllo, IFmNP, IFmMo, IGNO1, IGO/P, IGO.o, IGMn1, IGMmP, IGMlo, IGNNP, IGNMo, Hen01, HemO1, Hen/P, Hen.o, Heln1, HelmP, `Hello`, HemNP, HemMo, HfNO1, HfO/P, HfO.o, HfMn1, HfMmP, HfMlo, HfNNP, HfNMo, J)/O1, J).n1, J).mP, J).lo, J)/NP, J)/Mo, IH/O1, IH0/P, IH0.o, IH.n1, IH.mP, IH.lo, IH/NP, IH/Mo","title":"Find byte string with a given hashCode","body":"<p>Here is not very practical example of &quot;de-hashing&quot; using brute force with a few limitations:</p>\n<ul>\n<li>let's assume that initial string is short enough to not cause int overflow during hashing.</li>\n<li>let initial string be ascii encoded with byte range of [32, 126].</li>\n</ul>\n<pre><code>    public static Set&lt;String&gt; getStringsFromHash(int hash) {\n        Set&lt;String&gt; asciiStringSet = new HashSet&lt;&gt;();\n        reverseHash(hash, new StringBuilder(), asciiStringSet);\n        return asciiStringSet;\n    }\n\n    private static void reverseHash(int hash, StringBuilder sb, Set&lt;String&gt; asciiStringSet) {\n        if (hash == 1) {\n            asciiStringSet.add(sb.reverse().toString());\n            return;\n        }\n        if (hash &lt; 0)\n            return;\n\n        for (int i = 32; i &lt;= 126; ++i) {\n            if ((hash - i) % 31 == 0) {\n                reverseHash((hash - i) / 31, new StringBuilder(sb).append((char) i), asciiStringSet);\n            }\n        }\n    }\n</code></pre>\n<p>reverseHash method recursively solves following equation: hash = hash*31 + i for each i in [32,126] range. When hash == 1 it assumes that we found initial string.</p>\n<p>Test code:</p>\n<pre><code>    static int hash(char[] a) {\n        int h = 1;\n        for (int x : a)\n            h = h * 31 + x;\n        return h;\n    }\n\n    public static void main(String[] args) {\n        String string = &quot;Hi&quot;;\n        int hash = hash(string.toCharArray());\n        Set&lt;String&gt; stringSet = getStringsFromHash(hash);\n        for (String s : stringSet)\n            System.out.println(s);\n    }\n</code></pre>\n<p>Output:\nJ+, IJ, <code>Hi</code></p>\n<p>The larger the input string, the more collisions you'll get, for example here is output for <code>Hello</code> string:</p>\n<p>IH001, J)001, J)0/P, J)0.o, Hg001, J(O01, IGO01, HfO01, Hg/O1, Hg0/P, Hg0.o, Hg.n1, Hg.mP, Hg.lo, Hg/NP, Hg/Mo, J'n01, J'mO1, J'n/P, J'n.o, J'ln1, J'lmP, J'llo, J'mNP, J'mMo, J(NO1, J(O/P, J(O.o, J(Mn1, J(MmP, J(Mlo, J(NNP, J(NMo, IFn01, IFmO1, IFn/P, IFn.o, IFln1, IFlmP, IFllo, IFmNP, IFmMo, IGNO1, IGO/P, IGO.o, IGMn1, IGMmP, IGMlo, IGNNP, IGNMo, Hen01, HemO1, Hen/P, Hen.o, Heln1, HelmP, <code>Hello</code>, HemNP, HemMo, HfNO1, HfO/P, HfO.o, HfMn1, HfMmP, HfMlo, HfNNP, HfNMo, J)/O1, J).n1, J).mP, J).lo, J)/NP, J)/Mo, IH/O1, IH0/P, IH0.o, IH.n1, IH.mP, IH.lo, IH/NP, IH/Mo</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1691439478,"creation_date":1691439478,"answer_id":76854942,"question_id":76853064,"body_markdown":"In this case, loop on the return value of _hash_ until it&#39;s _71_, or _&quot;H&quot;_.  \r\nAnd, increment the value of _a_ for every iteration.\r\n\r\n```java\r\nchar[] a = new char[1];\r\nwhile (hash(a) != &#39;H&#39;) a = new char[] { (char) (a[0] + 1) };\r\nSystem.out.println(&quot;a = &quot; + Arrays.toString(a));\r\n```\r\n\r\nOutput\r\n\r\n```none\r\na = [)]\r\n```","title":"Find byte string with a given hashCode","body":"<p>In this case, loop on the return value of <em>hash</em> until it's <em>71</em>, or <em>&quot;H&quot;</em>.<br />\nAnd, increment the value of <em>a</em> for every iteration.</p>\n<pre class=\"lang-java prettyprint-override\"><code>char[] a = new char[1];\nwhile (hash(a) != 'H') a = new char[] { (char) (a[0] + 1) };\nSystem.out.println(&quot;a = &quot; + Arrays.toString(a));\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>a = [)]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4087229,"reputation":1132,"user_id":3356233,"accept_rate":100,"display_name":"mookid"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691440823,"creation_date":1691440823,"answer_id":76855046,"question_id":76853064,"body_markdown":"here is what I came up with (seems to pass my tests, but I have no math proof that it works unfortunately):\r\n\r\n```\r\n    static List&lt;Integer&gt; decompose(long hash){\r\n        List&lt;Integer&gt; digits = new ArrayList&lt;&gt;();\r\n        while (hash &gt; 0) {\r\n            digits.add((int) (hash%31));\r\n            hash/=31;\r\n        }\r\n        Collections.reverse(digits);\r\n        return digits;\r\n    }\r\n\r\n\r\n    static char[] reverseHash(int hash) {\r\n        long hashl = hash;\r\n        while (hashl &lt; 0) hashl += 1L&lt;&lt;32;\r\n        for (int i = 0; i &lt; 255; i++){\r\n            List&lt;Integer&gt; decomp = decompose(hashl);\r\n            if (decomp.get(0) == 1) {\r\n                decomp.remove(0);\r\n                return toArray(decomp);\r\n            }\r\n            hashl += 1L&lt;&lt;32;\r\n        }\r\n        throw null;\r\n    }\r\n\r\n    static char[] toArray(List&lt;Integer&gt; decomp) {\r\n        char[] res = new char[decomp.size()];\r\n        for (int i = 0; i &lt; decomp.size(); i++) {\r\n            int d = decomp.get(i);\r\n            if (0 &lt;= d &amp;&amp; d &lt; 31){\r\n                res[i] = (char)d;\r\n            } else {\r\n                throw new IllegalArgumentException();\r\n            }\r\n        }\r\n        return res;\r\n    }\r\n```","title":"Find byte string with a given hashCode","body":"<p>here is what I came up with (seems to pass my tests, but I have no math proof that it works unfortunately):</p>\n<pre><code>    static List&lt;Integer&gt; decompose(long hash){\n        List&lt;Integer&gt; digits = new ArrayList&lt;&gt;();\n        while (hash &gt; 0) {\n            digits.add((int) (hash%31));\n            hash/=31;\n        }\n        Collections.reverse(digits);\n        return digits;\n    }\n\n\n    static char[] reverseHash(int hash) {\n        long hashl = hash;\n        while (hashl &lt; 0) hashl += 1L&lt;&lt;32;\n        for (int i = 0; i &lt; 255; i++){\n            List&lt;Integer&gt; decomp = decompose(hashl);\n            if (decomp.get(0) == 1) {\n                decomp.remove(0);\n                return toArray(decomp);\n            }\n            hashl += 1L&lt;&lt;32;\n        }\n        throw null;\n    }\n\n    static char[] toArray(List&lt;Integer&gt; decomp) {\n        char[] res = new char[decomp.size()];\n        for (int i = 0; i &lt; decomp.size(); i++) {\n            int d = decomp.get(i);\n            if (0 &lt;= d &amp;&amp; d &lt; 31){\n                res[i] = (char)d;\n            } else {\n                throw new IllegalArgumentException();\n            }\n        }\n        return res;\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4087229,"reputation":1132,"user_id":3356233,"accept_rate":100,"display_name":"mookid"},"score":1,"creation_date":1691447021,"post_id":76855368,"comment_id":135490300,"body_markdown":"thanks for the insights! it is a problem of limited interest, but it is an actual one I encountered at work, there&#39;s that.","body":"thanks for the insights! it is a problem of limited interest, but it is an actual one I encountered at work, there&#39;s that."}],"tags":[],"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1691445228,"creation_date":1691445228,"answer_id":76855368,"question_id":76853064,"body_markdown":"This problem would be more interesting if there were some restrictions on what values of `a[]` are permitted. As it stands now, this can basically be accomplished simply by writing the desired H value as a base-31 integer, with a very slight modification.\r\n\r\nTo represent every possible int value we need 7 base-31 digits, since 31&lt;sup&gt;6&lt;/sup&gt; &lt; 2&lt;sup&gt;32&lt;/sup&gt; &lt; 31&lt;sup&gt;7&lt;/sup&gt; \r\n\r\nFirst, consider an equivalent hash function that perhaps better illustrates the base-31 idea:\r\n\r\n```java\r\n    public static int hash2(char[] a) {\r\n        int pow31 = 1;\r\n        int h = 0;\r\n        for (int i = a.length - 1; i &gt;= 0; i--) {\r\n            h += a[i] * pow31;\r\n            pow31 *= 31;\r\n        }\r\n        return h + pow31;\r\n    }\r\n```\r\n\r\nAnd now here&#39;s the simple and fast method to compute a pre-image of the hash function.\r\n\r\n```java\r\n...\r\n    private static final long POW31_7 = (long) Math.pow(31, 7); // 31**7 fits in a double\r\n    private static final int POW31_7_MOD_2_32 = (int) POW31_7;\r\n...\r\n    public static char[] pre_image(int h) {\r\n        h -= POW31_7_MOD_2_32;\r\n        char[] result = new char[]{0, 0, 0, 0, 0, 0, 0};\r\n        int i = result.length - 1;\r\n        while (h != 0) {\r\n            result[i--] = (char) Integer.remainderUnsigned(h, 31);\r\n            h = Integer.divideUnsigned(h, 31);\r\n        }\r\n        return result;\r\n    }\r\n```","title":"Find byte string with a given hashCode","body":"<p>This problem would be more interesting if there were some restrictions on what values of <code>a[]</code> are permitted. As it stands now, this can basically be accomplished simply by writing the desired H value as a base-31 integer, with a very slight modification.</p>\n<p>To represent every possible int value we need 7 base-31 digits, since 31<sup>6</sup> &lt; 2<sup>32</sup> &lt; 31<sup>7</sup></p>\n<p>First, consider an equivalent hash function that perhaps better illustrates the base-31 idea:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static int hash2(char[] a) {\n        int pow31 = 1;\n        int h = 0;\n        for (int i = a.length - 1; i &gt;= 0; i--) {\n            h += a[i] * pow31;\n            pow31 *= 31;\n        }\n        return h + pow31;\n    }\n</code></pre>\n<p>And now here's the simple and fast method to compute a pre-image of the hash function.</p>\n<pre class=\"lang-java prettyprint-override\"><code>...\n    private static final long POW31_7 = (long) Math.pow(31, 7); // 31**7 fits in a double\n    private static final int POW31_7_MOD_2_32 = (int) POW31_7;\n...\n    public static char[] pre_image(int h) {\n        h -= POW31_7_MOD_2_32;\n        char[] result = new char[]{0, 0, 0, 0, 0, 0, 0};\n        int i = result.length - 1;\n        while (h != 0) {\n            result[i--] = (char) Integer.remainderUnsigned(h, 31);\n            h = Integer.divideUnsigned(h, 31);\n        }\n        return result;\n    }\n</code></pre>\n"}],"owner":{"account_id":4087229,"reputation":1132,"user_id":3356233,"accept_rate":100,"display_name":"mookid"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":103,"favorite_count":0,"down_vote_count":3,"up_vote_count":2,"accepted_answer_id":76855368,"answer_count":4,"score":-1,"last_activity_date":1691445228,"creation_date":1691421582,"question_id":76853064,"body_markdown":"I am trying to solve the following problem:\r\n\r\ngiven the following (java) hash function:\r\n\r\n```java\r\nint hash(char[] a) {\r\n    int h = 1;\r\n    for (int x : a) {\r\n        h = h * 31 + x;\r\n    }\r\n    return h;\r\n}\r\n```\r\n\r\nFind a `char[]` value whose hash is `H`.\r\n\r\nThe problem is easy when changing the first line to `int h = 0;`, but I&#39;m stuck on this one.\r\n\r\nAny ideas?","title":"Find byte string with a given hashCode","body":"<p>I am trying to solve the following problem:</p>\n<p>given the following (java) hash function:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int hash(char[] a) {\n    int h = 1;\n    for (int x : a) {\n        h = h * 31 + x;\n    }\n    return h;\n}\n</code></pre>\n<p>Find a <code>char[]</code> value whose hash is <code>H</code>.</p>\n<p>The problem is easy when changing the first line to <code>int h = 0;</code>, but I'm stuck on this one.</p>\n<p>Any ideas?</p>\n"},{"tags":["java","json","spring","rest","spring-mvc"],"comments":[{"owner":{"account_id":881640,"reputation":4624,"user_id":266254,"accept_rate":47,"display_name":"bilak"},"score":0,"creation_date":1466886503,"post_id":38032635,"comment_id":63505565,"body_markdown":"What about annotation [@RequestBody](http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/bind/annotation/RequestBody.html) and passing object as body?","body":"What about annotation <a href=\"http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/bind/annotation/RequestBody.html\" rel=\"nofollow noreferrer\">@RequestBody</a> and passing object as body?"},{"owner":{"account_id":1441892,"reputation":13687,"user_id":1361787,"accept_rate":68,"display_name":"ChiefTwoPencils"},"score":0,"creation_date":1466886542,"post_id":38032635,"comment_id":63505578,"body_markdown":"Any particular reason why you&#39;d want to do it this way? You should be able to get an object out of the request that matches an entity.","body":"Any particular reason why you&#39;d want to do it this way? You should be able to get an object out of the request that matches an entity."},{"owner":{"account_id":6878158,"reputation":1996,"user_id":5285894,"accept_rate":62,"display_name":"Arar"},"score":0,"creation_date":1466886998,"post_id":38032635,"comment_id":63505690,"body_markdown":"Sorry if the example is not accurate, It is just a proof of concept, I want to be able to get list of suggested items from the DB based on a search criteria. I will have a widget that calls the rest API and pass the parameters . But I am trying to focus on the backend part at the moment","body":"Sorry if the example is not accurate, It is just a proof of concept, I want to be able to get list of suggested items from the DB based on a search criteria. I will have a widget that calls the rest API and pass the parameters . But I am trying to focus on the backend part at the moment"}],"answers":[{"comments":[{"owner":{"account_id":6878158,"reputation":1996,"user_id":5285894,"accept_rate":62,"display_name":"Arar"},"score":0,"creation_date":1466887831,"post_id":38032778,"comment_id":63505882,"body_markdown":"Thanks @Andreas , It works :) But I still have some question ? What if we have a complicated parameter structure ? ** &quot;A&quot;: [  \n          {  \n               &quot;B&quot;: 37181,  \n               &quot;timestamp&quot;: 1160100436,  \n               &quot;categories&quot;: [  \n                    {  \n                         &quot;categoryID&quot;: 2653,  \n                         &quot;timestamp&quot;: 1158555774  \n                    },  \n                    {  \n                         &quot;categoryID&quot;: 4453,  \n                         &quot;timestamp&quot;: 1158555774  \n                    }  \n               ]  \n          }  \n     ] **","body":"Thanks @Andreas , It works :) But I still have some question ? What if we have a complicated parameter structure ? ** &quot;A&quot;: [             {                  &quot;B&quot;: 37181,                  &quot;timestamp&quot;: 1160100436,                  &quot;categories&quot;: [                       {                            &quot;categoryID&quot;: 2653,                            &quot;timestamp&quot;: 1158555774                       },                       {                            &quot;categoryID&quot;: 4453,                            &quot;timestamp&quot;: 1158555774                       }                  ]             }        ] **"},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":1,"creation_date":1466887986,"post_id":38032778,"comment_id":63505914,"body_markdown":"You don&#39;t send something like that in a `GET`, you use a `POST`, and include the JSON in the payload, specifying a content type of `application/json`.","body":"You don&#39;t send something like that in a <code>GET</code>, you use a <code>POST</code>, and include the JSON in the payload, specifying a content type of <code>application&#47;json</code>."},{"owner":{"account_id":6878158,"reputation":1996,"user_id":5285894,"accept_rate":62,"display_name":"Arar"},"score":0,"creation_date":1466889897,"post_id":38032778,"comment_id":63506357,"body_markdown":"Thanks for the last update Andreas, Is it possible to create a POST using JavaScript because I don&#39;t want to consume this rest API using a form , I wanted the JavaScript to consume it.","body":"Thanks for the last update Andreas, Is it possible to create a POST using JavaScript because I don&#39;t want to consume this rest API using a form , I wanted the JavaScript to consume it."},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":1,"creation_date":1466898787,"post_id":38032778,"comment_id":63508069,"body_markdown":"Yes. I&#39;d suggest you do a web search. I&#39;d also suggest using a library, such as `jQuery`, to make it easier.","body":"Yes. I&#39;d suggest you do a web search. I&#39;d also suggest using a library, such as <code>jQuery</code>, to make it easier."},{"owner":{"account_id":5959402,"reputation":714,"user_id":4685019,"display_name":"jolumg"},"score":0,"creation_date":1537343825,"post_id":38032778,"comment_id":91745634,"body_markdown":"Some people willl argue that you should not send a POST instead of a GET if you want to have a RESTful API. In simple words: POST is only to create data, PUT is to update, GET is to retrieve data","body":"Some people willl argue that you should not send a POST instead of a GET if you want to have a RESTful API. In simple words: POST is only to create data, PUT is to update, GET is to retrieve data"},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":4,"creation_date":1537371675,"post_id":38032778,"comment_id":91762889,"body_markdown":"@jolumg The *some people* didn&#39;t read the [HTTP definition of the POST method](https://tools.ietf.org/html/rfc7231#section-4.3.3): *&quot;The POST method requests that the target resource **process** the representation enclosed in the request according to the resource&#39;s **own specific semantics**&quot;*. Sure, the most common semantic is for the resource to create something, but *process* is more generic and can mean other things, e.g. *run* a credit check using the supplied data. `GET` would be an inappropriate method for that.","body":"@jolumg The <i>some people</i> didn&#39;t read the <a href=\"https://tools.ietf.org/html/rfc7231#section-4.3.3\" rel=\"nofollow noreferrer\">HTTP definition of the POST method</a>: <i>&quot;The POST method requests that the target resource <b>process</b> the representation enclosed in the request according to the resource&#39;s <b>own specific semantics</b>&quot;</i>. Sure, the most common semantic is for the resource to create something, but <i>process</i> is more generic and can mean other things, e.g. <i>run</i> a credit check using the supplied data. <code>GET</code> would be an inappropriate method for that."},{"owner":{"account_id":171134,"reputation":3434,"user_id":398348,"accept_rate":67,"display_name":"likejudo"},"score":0,"creation_date":1584112618,"post_id":38032778,"comment_id":107345302,"body_markdown":"@Andreas do I need to create deserializer classes to convert nested JSON into Java objects?","body":"@Andreas do I need to create deserializer classes to convert nested JSON into Java objects?"},{"owner":{"account_id":11028400,"reputation":134,"user_id":8100494,"accept_rate":20,"display_name":"Devin"},"score":0,"creation_date":1594323768,"post_id":38032778,"comment_id":111094457,"body_markdown":"What if you want to pass multiple named complicated parameters? Such as @RequestBody (EntityOne, EntityTwo)","body":"What if you want to pass multiple named complicated parameters? Such as @RequestBody (EntityOne, EntityTwo)"},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1594338427,"post_id":38032778,"comment_id":111099262,"body_markdown":"@Devin You mean like already shown in this answer below the **UPDATE** line? --- *FYI:* There can be only one `@RequestBody` parameter, so if you have multiple entities, then you need a parent object to contain them in that one-and-only object sent to the server.","body":"@Devin You mean like already shown in this answer below the <b>UPDATE</b> line? --- <i>FYI:</i> There can be only one <code>@RequestBody</code> parameter, so if you have multiple entities, then you need a parent object to contain them in that one-and-only object sent to the server."},{"owner":{"account_id":11028400,"reputation":134,"user_id":8100494,"accept_rate":20,"display_name":"Devin"},"score":0,"creation_date":1594492316,"post_id":38032778,"comment_id":111147589,"body_markdown":"I mean to deserialize objects dynamically into multiple parameters. You would have to build an alternative to @RequestBody that had knowledge of the possible request types. Probably too much overhead and too much effort. I just went with the wrapper solution","body":"I mean to deserialize objects dynamically into multiple parameters. You would have to build an alternative to @RequestBody that had knowledge of the possible request types. Probably too much overhead and too much effort. I just went with the wrapper solution"}],"tags":[],"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"comment_count":10,"down_vote_count":0,"up_vote_count":100,"is_accepted":true,"score":100,"last_activity_date":1691445163,"creation_date":1466887229,"answer_id":38032778,"question_id":38032635,"body_markdown":" &gt; (1) Is it possible to pass a JSON object to the url like in Ex.2?\r\n\r\nNo, because `http://localhost:8080/api/v1/mno/objectKey/{&quot;id&quot;:1, &quot;name&quot;:&quot;Saif&quot;}` is not a valid URL.\r\n\r\nIf you want to do it the RESTful way, use `http://localhost:8080/api/v1/mno/objectKey/1/Saif`, and define your method like this:\r\n\r\n    @RequestMapping(path = &quot;/mno/objectKey/{id}/{name}&quot;, method = RequestMethod.GET)\r\n    public Book getBook(@PathVariable int id, @PathVariable String name) {\r\n        // code here\r\n    }\r\n\r\n &gt; (2) How can we pass and parse the parameters in Ex.1?\r\n\r\nJust add two request parameters, and give the correct path.\r\n\r\n    @RequestMapping(path = &quot;/mno/objectKey&quot;, method = RequestMethod.GET)\r\n    public Book getBook(@RequestParam int id, @RequestParam String name) {\r\n        // code here\r\n    }\r\n\r\n**UPDATE** *(from comment)*\r\n\r\n &gt; What if we have a complicated parameter structure ?\r\n &gt;\r\n &gt; &lt;!-- language: json --&gt;\r\n &gt;\r\n &gt;     &quot;A&quot;: [ {\r\n &gt;         &quot;B&quot;: 37181,\r\n &gt;         &quot;timestamp&quot;: 1160100436,\r\n &gt;         &quot;categories&quot;: [ {\r\n &gt;             &quot;categoryID&quot;: 2653,\r\n &gt;             &quot;timestamp&quot;: 1158555774\r\n &gt;         }, {\r\n &gt;             &quot;categoryID&quot;: 4453,\r\n &gt;             &quot;timestamp&quot;: 1158555774\r\n &gt;         } ]\r\n &gt;     } ]\r\n\r\nSend that as a `POST` with the JSON data in the request body, not in the URL, and specify a content type of `application/json`.\r\n\r\n    @RequestMapping(path = &quot;/mno/objectKey&quot;, method = RequestMethod.POST, consumes = &quot;application/json&quot;)\r\n    public Book getBook(@RequestBody ObjectKey objectKey) {\r\n        // code here\r\n    }\r\n","title":"Pass multiple parameters to rest API - Spring","body":"<blockquote>\n<p>(1) Is it possible to pass a JSON object to the url like in Ex.2?</p>\n</blockquote>\n<p>No, because <code>http://localhost:8080/api/v1/mno/objectKey/{&quot;id&quot;:1, &quot;name&quot;:&quot;Saif&quot;}</code> is not a valid URL.</p>\n<p>If you want to do it the RESTful way, use <code>http://localhost:8080/api/v1/mno/objectKey/1/Saif</code>, and define your method like this:</p>\n<pre><code>@RequestMapping(path = &quot;/mno/objectKey/{id}/{name}&quot;, method = RequestMethod.GET)\npublic Book getBook(@PathVariable int id, @PathVariable String name) {\n    // code here\n}\n</code></pre>\n<blockquote>\n<p>(2) How can we pass and parse the parameters in Ex.1?</p>\n</blockquote>\n<p>Just add two request parameters, and give the correct path.</p>\n<pre><code>@RequestMapping(path = &quot;/mno/objectKey&quot;, method = RequestMethod.GET)\npublic Book getBook(@RequestParam int id, @RequestParam String name) {\n    // code here\n}\n</code></pre>\n<p><strong>UPDATE</strong> <em>(from comment)</em></p>\n<blockquote>\n<p>What if we have a complicated parameter structure ?</p>\n<pre class=\"lang-json prettyprint-override\"><code>&quot;A&quot;: [ {\n    &quot;B&quot;: 37181,\n    &quot;timestamp&quot;: 1160100436,\n    &quot;categories&quot;: [ {\n        &quot;categoryID&quot;: 2653,\n        &quot;timestamp&quot;: 1158555774\n    }, {\n        &quot;categoryID&quot;: 4453,\n        &quot;timestamp&quot;: 1158555774\n    } ]\n} ]\n</code></pre>\n</blockquote>\n<p>Send that as a <code>POST</code> with the JSON data in the request body, not in the URL, and specify a content type of <code>application/json</code>.</p>\n<pre><code>@RequestMapping(path = &quot;/mno/objectKey&quot;, method = RequestMethod.POST, consumes = &quot;application/json&quot;)\npublic Book getBook(@RequestBody ObjectKey objectKey) {\n    // code here\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1837892,"reputation":43,"user_id":1667880,"display_name":"techspl"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1505891747,"creation_date":1505891747,"answer_id":46315544,"question_id":38032635,"body_markdown":"Yes its possible to pass JSON object in URL\r\n\r\n    queryString = &quot;{\\&quot;left\\&quot;:\\&quot;&quot; + params.get(&quot;left&quot;) + &quot;}&quot;;\r\n     httpRestTemplate.exchange(\r\n    \t\t\t\t\tEndpoint + &quot;/A/B?query={queryString}&quot;,\r\n    \t\t\t\t\tHttpMethod.GET, entity, z.class, queryString);","title":"Pass multiple parameters to rest API - Spring","body":"<p>Yes its possible to pass JSON object in URL</p>\n\n<pre><code>queryString = \"{\\\"left\\\":\\\"\" + params.get(\"left\") + \"}\";\n httpRestTemplate.exchange(\n                    Endpoint + \"/A/B?query={queryString}\",\n                    HttpMethod.GET, entity, z.class, queryString);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":218061,"reputation":6484,"user_id":474193,"display_name":"sunil"},"score":2,"creation_date":1549032411,"post_id":49323164,"comment_id":95770547,"body_markdown":"This really helped me in creating a GET service with dynamic URL params. Thanks @Om Sharma","body":"This really helped me in creating a GET service with dynamic URL params. Thanks @Om Sharma"}],"tags":[],"owner":{"account_id":6419764,"reputation":1722,"user_id":4976786,"display_name":"Om Prakash Sharma"},"comment_count":1,"down_vote_count":0,"up_vote_count":39,"is_accepted":false,"score":39,"last_activity_date":1521210617,"creation_date":1521210617,"answer_id":49323164,"question_id":38032635,"body_markdown":"you can pass multiple params in url like \r\n\r\nhttp://localhost:2000/custom?brand=dell&amp;limit=20&amp;price=20000&amp;sort=asc\r\n\r\nand in order to get this query fields , you can use map like\r\n\r\n        @RequestMapping(method = RequestMethod.GET, value = &quot;/custom&quot;)\r\n        public String controllerMethod(@RequestParam Map&lt;String, String&gt; customQuery) {\r\n    \r\n            System.out.println(&quot;customQuery = brand &quot; + customQuery.containsKey(&quot;brand&quot;));\r\n            System.out.println(&quot;customQuery = limit &quot; + customQuery.containsKey(&quot;limit&quot;));\r\n            System.out.println(&quot;customQuery = price &quot; + customQuery.containsKey(&quot;price&quot;));\r\n            System.out.println(&quot;customQuery = other &quot; + customQuery.containsKey(&quot;other&quot;));\r\n            System.out.println(&quot;customQuery = sort &quot; + customQuery.containsKey(&quot;sort&quot;));\r\n            \r\n            return customQuery.toString();\r\n        }\r\n","title":"Pass multiple parameters to rest API - Spring","body":"<p>you can pass multiple params in url like </p>\n\n<p><a href=\"http://localhost:2000/custom?brand=dell&amp;limit=20&amp;price=20000&amp;sort=asc\" rel=\"noreferrer\">http://localhost:2000/custom?brand=dell&amp;limit=20&amp;price=20000&amp;sort=asc</a></p>\n\n<p>and in order to get this query fields , you can use map like</p>\n\n<pre><code>    @RequestMapping(method = RequestMethod.GET, value = \"/custom\")\n    public String controllerMethod(@RequestParam Map&lt;String, String&gt; customQuery) {\n\n        System.out.println(\"customQuery = brand \" + customQuery.containsKey(\"brand\"));\n        System.out.println(\"customQuery = limit \" + customQuery.containsKey(\"limit\"));\n        System.out.println(\"customQuery = price \" + customQuery.containsKey(\"price\"));\n        System.out.println(\"customQuery = other \" + customQuery.containsKey(\"other\"));\n        System.out.println(\"customQuery = sort \" + customQuery.containsKey(\"sort\"));\n\n        return customQuery.toString();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8998898,"reputation":61,"user_id":6708170,"display_name":"Rohit Dubey"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1542694677,"creation_date":1542694677,"answer_id":53387289,"question_id":38032635,"body_markdown":"Multiple parameters can be given like below,\r\n\r\n \r\n        @RequestMapping(value = &quot;/mno/{objectKey}&quot;, method = RequestMethod.GET, produces = &quot;application/json&quot;)\r\n        public List&lt;String&gt; getBook(HttpServletRequest httpServletRequest, @PathVariable(name = &quot;objectKey&quot;) String objectKey\r\n          , @RequestParam(value = &quot;id&quot;, defaultValue = &quot;false&quot;)String id,@RequestParam(value = &quot;name&quot;, defaultValue = &quot;false&quot;) String name) throws Exception {\r\n                   //logic\r\n    }","title":"Pass multiple parameters to rest API - Spring","body":"<p>Multiple parameters can be given like below,</p>\n\n<pre><code>    @RequestMapping(value = \"/mno/{objectKey}\", method = RequestMethod.GET, produces = \"application/json\")\n    public List&lt;String&gt; getBook(HttpServletRequest httpServletRequest, @PathVariable(name = \"objectKey\") String objectKey\n      , @RequestParam(value = \"id\", defaultValue = \"false\")String id,@RequestParam(value = \"name\", defaultValue = \"false\") String name) throws Exception {\n               //logic\n}\n</code></pre>\n"}],"owner":{"account_id":6878158,"reputation":1996,"user_id":5285894,"accept_rate":62,"display_name":"Arar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":378092,"favorite_count":0,"down_vote_count":0,"up_vote_count":54,"accepted_answer_id":38032778,"answer_count":4,"score":54,"last_activity_date":1691445163,"creation_date":1466886052,"question_id":38032635,"body_markdown":"I am trying to figure out if it is possible to pass a JSON object to rest API, Or pass a multiple parameters to that API ? And how to read these parameters in Spring ? Lets assume that the url looks like the below examples : \r\n\r\nEx.1 `http://localhost:8080/api/v1/mno/objectKey?id=1&amp;name=saif`\r\n\r\nIs it valid to pass a JSON object like in the url below ?\r\n\r\nEx.2 `http://localhost:8080/api/v1/mno/objectKey/{&quot;id&quot;:1, &quot;name&quot;:&quot;Saif&quot;} `\r\n\r\nQuestions:\r\n\r\n1) Is it possible to pass a JSON object to the url like in Ex.2?\r\n\r\n2) How can we pass and parse the parameters in Ex.1? \r\n\r\nI tried to write some methods to achieve my goal, but could not find the right solution?\r\n\r\nI tried to pass JSON object as @RequestParam\r\n\r\n`http://localhost:8080/api/v1/mno/objectKey?id=1` There was an unexpected error `(type=Unsupported Media Type, status=415). Content type &#39;null&#39; not supported`\r\n\r\n`http://localhost:8080/api/v1/mno/objectKey/id=1` There was an unexpected error `(type=Not Found, status=404). No message available`\r\n\r\n`http://localhost:8080/api/v1/mno/objectKey/%7B%22id%22:1%7D` There was an unexpected error `(type=Not Found, status=404). No message available`\r\n\r\n    @RequestMapping(value=&quot;mno/{objectKey}&quot;,\r\n                    method = RequestMethod.GET, \r\n                    consumes=&quot;application/json&quot;)\r\n        public List&lt;Book&gt; getBook4(@RequestParam ObjectKey objectKey) {\r\n        \t...\r\n        }\r\n\r\nI tried to pass the JSON object as @PathVariable\r\n\r\n    @RequestMapping(value=&quot;ghi/{objectKey}&quot;,method = RequestMethod.GET)\r\n        public List&lt;Book&gt; getBook2(@PathVariable ObjectKey objectKey) {\r\n        \t...        \t\r\n        }\r\n\r\nI created this object to hold the id parameter and other parameters like name , etc .... \r\n     \r\n    class ObjectKey{\r\n        \tlong id;\r\n    \t\tpublic long getId() {\r\n    \t\t\treturn id;\r\n    \t\t}\r\n    \t\tpublic void setId(long id) {\r\n    \t\t\tthis.id = id;\r\n    \t\t}\r\n        }\r\n       ","title":"Pass multiple parameters to rest API - Spring","body":"<p>I am trying to figure out if it is possible to pass a JSON object to rest API, Or pass a multiple parameters to that API ? And how to read these parameters in Spring ? Lets assume that the url looks like the below examples : </p>\n\n<p>Ex.1 <code>http://localhost:8080/api/v1/mno/objectKey?id=1&amp;name=saif</code></p>\n\n<p>Is it valid to pass a JSON object like in the url below ?</p>\n\n<p>Ex.2 <code>http://localhost:8080/api/v1/mno/objectKey/{\"id\":1, \"name\":\"Saif\"}</code></p>\n\n<p>Questions:</p>\n\n<p>1) Is it possible to pass a JSON object to the url like in Ex.2?</p>\n\n<p>2) How can we pass and parse the parameters in Ex.1? </p>\n\n<p>I tried to write some methods to achieve my goal, but could not find the right solution?</p>\n\n<p>I tried to pass JSON object as @RequestParam</p>\n\n<p><code>http://localhost:8080/api/v1/mno/objectKey?id=1</code> There was an unexpected error <code>(type=Unsupported Media Type, status=415). Content type 'null' not supported</code></p>\n\n<p><code>http://localhost:8080/api/v1/mno/objectKey/id=1</code> There was an unexpected error <code>(type=Not Found, status=404). No message available</code></p>\n\n<p><code>http://localhost:8080/api/v1/mno/objectKey/%7B%22id%22:1%7D</code> There was an unexpected error <code>(type=Not Found, status=404). No message available</code></p>\n\n<pre><code>@RequestMapping(value=\"mno/{objectKey}\",\n                method = RequestMethod.GET, \n                consumes=\"application/json\")\n    public List&lt;Book&gt; getBook4(@RequestParam ObjectKey objectKey) {\n        ...\n    }\n</code></pre>\n\n<p>I tried to pass the JSON object as @PathVariable</p>\n\n<pre><code>@RequestMapping(value=\"ghi/{objectKey}\",method = RequestMethod.GET)\n    public List&lt;Book&gt; getBook2(@PathVariable ObjectKey objectKey) {\n        ...         \n    }\n</code></pre>\n\n<p>I created this object to hold the id parameter and other parameters like name , etc .... </p>\n\n<pre><code>class ObjectKey{\n        long id;\n        public long getId() {\n            return id;\n        }\n        public void setId(long id) {\n            this.id = id;\n        }\n    }\n</code></pre>\n"},{"tags":["java","maven","junit","spock","maven-surefire-plugin"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1639061947,"post_id":70288595,"comment_id":124256742,"body_markdown":"I guess we are taking about Spock 1.x, probably 1.3? You should have mentioned that, because for Spock 2.x you use the JUnit 5 platform, not JUnit 4.","body":"I guess we are taking about Spock 1.x, probably 1.3? You should have mentioned that, because for Spock 2.x you use the JUnit 5 platform, not JUnit 4."},{"owner":{"account_id":15636292,"reputation":125,"user_id":11281053,"display_name":"damlit"},"score":0,"creation_date":1639150118,"post_id":70288595,"comment_id":124282270,"body_markdown":"I used Spock 2.0, JUnit 4 and after added dependency junit-vintage-engine everything is working fine.","body":"I used Spock 2.0, JUnit 4 and after added dependency junit-vintage-engine everything is working fine."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1639150555,"post_id":70288595,"comment_id":124282446,"body_markdown":"Spock 2 definitely needs the JUnit 5 platform. The vintage engine is for backward compatibility to tests using JUnit 4 specific stuff like runners. Without a complete minimal example it is hard to tell why your tests would need the vintage engine. Therefore, neither your question nor the answer are particularly insightful.","body":"Spock 2 definitely needs the JUnit 5 platform. The vintage engine is for backward compatibility to tests using JUnit 4 specific stuff like runners. Without a complete minimal example it is hard to tell why your tests would need the vintage engine. Therefore, neither your question nor the answer are particularly insightful."}],"answers":[{"tags":[],"owner":{"account_id":15636292,"reputation":125,"user_id":11281053,"display_name":"damlit"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639047409,"creation_date":1639047409,"answer_id":70288673,"question_id":70288595,"body_markdown":"I had to use `junit-vintage-engine` instead of `surefire-junit-47`\r\n```\r\n&lt;plugin&gt;\r\n   &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n   &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n   &lt;version&gt;3.0.0-M5&lt;/version&gt;\r\n   &lt;configuration&gt;\r\n      &lt;argLine&gt;${arg}&lt;/argLine&gt;\r\n      &lt;includes&gt;\r\n         &lt;include&gt;**/*Test.class&lt;/include&gt;\r\n      &lt;/includes&gt;\r\n   &lt;/configuration&gt;\r\n   &lt;dependencies&gt;\r\n      &lt;dependency&gt;\r\n         &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n         &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n         &lt;version&gt;5.8.2&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n   &lt;/dependencies&gt;\r\n&lt;/plugin&gt;\r\n```","title":"JUnit and Spock test with maven-surefire-plugin","body":"<p>I had to use <code>junit-vintage-engine</code> instead of <code>surefire-junit-47</code></p>\n<pre><code>&lt;plugin&gt;\n   &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n   &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n   &lt;version&gt;3.0.0-M5&lt;/version&gt;\n   &lt;configuration&gt;\n      &lt;argLine&gt;${arg}&lt;/argLine&gt;\n      &lt;includes&gt;\n         &lt;include&gt;**/*Test.class&lt;/include&gt;\n      &lt;/includes&gt;\n   &lt;/configuration&gt;\n   &lt;dependencies&gt;\n      &lt;dependency&gt;\n         &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n         &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n         &lt;version&gt;5.8.2&lt;/version&gt;\n      &lt;/dependency&gt;\n   &lt;/dependencies&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2368629,"reputation":1042,"user_id":2073804,"display_name":"ron190"},"score":0,"creation_date":1690749984,"post_id":70310429,"comment_id":135393161,"body_markdown":"On my side Spock tests run fine with `maven-surefire-plugin:3.0.0-M4`, starting with `3.0.0-M5` the tests are not run.","body":"On my side Spock tests run fine with <code>maven-surefire-plugin:3.0.0-M4</code>, starting with <code>3.0.0-M5</code> the tests are not run."},{"owner":{"account_id":67966,"reputation":12546,"user_id":2145769,"accept_rate":67,"display_name":"Leonard Br&#252;nings"},"score":0,"creation_date":1690804211,"post_id":70310429,"comment_id":135399314,"body_markdown":"@ron190 have you tried this example code? If you can&#39;t get it to work, then you best ask a question and provide a reproducer.","body":"@ron190 have you tried this example code? If you can&#39;t get it to work, then you best ask a question and provide a reproducer."},{"owner":{"account_id":2368629,"reputation":1042,"user_id":2073804,"display_name":"ron190"},"score":0,"creation_date":1690836992,"post_id":70310429,"comment_id":135405986,"body_markdown":"Sure. Instead I&#39;ll retry with other versions when teams release new artifacts, though you can try to reproduce directly from the project: https://github.com/ron190/jsql-injection/blob/master/model/pom.xml","body":"Sure. Instead I&#39;ll retry with other versions when teams release new artifacts, though you can try to reproduce directly from the project: <a href=\"https://github.com/ron190/jsql-injection/blob/master/model/pom.xml\" rel=\"nofollow noreferrer\">github.com/ron190/jsql-injection/blob/master/model/pom.xml</a>"}],"tags":[],"owner":{"account_id":67966,"reputation":12546,"user_id":2145769,"accept_rate":67,"display_name":"Leonard Br&#252;nings"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639170741,"creation_date":1639170741,"answer_id":70310429,"question_id":70288595,"body_markdown":"See the [Spock-Example][1] project on how to correctly configure the maven build to run Spock 2.x.\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n  &lt;groupId&gt;org.spockframework&lt;/groupId&gt;\r\n  &lt;artifactId&gt;spock-example&lt;/artifactId&gt;\r\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n  &lt;packaging&gt;jar&lt;/packaging&gt;\r\n  &lt;name&gt;Spock Framework - Example Project&lt;/name&gt;\r\n\r\n  &lt;properties&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n    &lt;groovy.version&gt;3.0.9&lt;/groovy.version&gt;\r\n  &lt;/properties&gt;\r\n\r\n  &lt;build&gt;\r\n    &lt;plugins&gt;\r\n      &lt;!-- Mandatory plugins for using Spock --&gt;\r\n      &lt;plugin&gt;\r\n        &lt;!-- The gmavenplus plugin is used to compile Groovy code. To learn more about this plugin,\r\n        visit https://github.com/groovy/GMavenPlus/wiki --&gt;\r\n        &lt;groupId&gt;org.codehaus.gmavenplus&lt;/groupId&gt;\r\n        &lt;artifactId&gt;gmavenplus-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;1.12.0&lt;/version&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;compile&lt;/goal&gt;\r\n              &lt;goal&gt;compileTests&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.0-M5&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;useModulePath&gt;false&lt;/useModulePath&gt; &lt;!-- https://issues.apache.org/jira/browse/SUREFIRE-1809 --&gt;\r\n          &lt;useFile&gt;false&lt;/useFile&gt;\r\n          &lt;includes&gt;\r\n            &lt;include&gt;**/*Test&lt;/include&gt;\r\n            &lt;include&gt;**/*Spec&lt;/include&gt;\r\n          &lt;/includes&gt;\r\n          &lt;statelessTestsetReporter implementation=&quot;org.apache.maven.plugin.surefire.extensions.junit5.JUnit5Xml30StatelessReporter&quot;&gt;\r\n            &lt;disable&gt;false&lt;/disable&gt;\r\n            &lt;version&gt;3.0&lt;/version&gt;\r\n            &lt;usePhrasedFileName&gt;false&lt;/usePhrasedFileName&gt;\r\n            &lt;usePhrasedTestSuiteClassName&gt;true&lt;/usePhrasedTestSuiteClassName&gt;\r\n            &lt;usePhrasedTestCaseClassName&gt;true&lt;/usePhrasedTestCaseClassName&gt;\r\n            &lt;usePhrasedTestCaseMethodName&gt;true&lt;/usePhrasedTestCaseMethodName&gt;\r\n          &lt;/statelessTestsetReporter&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n\r\n  &lt;dependencyManagement&gt;\r\n    &lt;dependencies&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.spockframework&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spock-bom&lt;/artifactId&gt;\r\n        &lt;version&gt;2.0-groovy-3.0&lt;/version&gt;\r\n        &lt;type&gt;pom&lt;/type&gt;\r\n        &lt;scope&gt;import&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n  &lt;/dependencyManagement&gt;\r\n\r\n  &lt;dependencies&gt;\r\n    &lt;!-- Mandatory dependencies for using Spock --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.spockframework&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spock-core&lt;/artifactId&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;!-- Optional dependencies for using Spock --&gt;\r\n    &lt;dependency&gt; &lt;!-- use a specific Groovy version rather than the one specified by spock-core --&gt;\r\n      &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\r\n      &lt;artifactId&gt;groovy&lt;/artifactId&gt;\r\n      &lt;version&gt;${groovy.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt; &lt;!-- enables mocking of classes (in addition to interfaces) --&gt;\r\n      &lt;groupId&gt;net.bytebuddy&lt;/groupId&gt;\r\n      &lt;artifactId&gt;byte-buddy&lt;/artifactId&gt;\r\n      &lt;version&gt;1.11.0&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt; &lt;!-- enables mocking of classes without default constructor (together with ByteBuddy or CGLIB) --&gt;\r\n      &lt;groupId&gt;org.objenesis&lt;/groupId&gt;\r\n      &lt;artifactId&gt;objenesis&lt;/artifactId&gt;\r\n      &lt;version&gt;3.2&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt; &lt;!-- only required if Hamcrest matchers are used --&gt;\r\n      &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\r\n      &lt;artifactId&gt;hamcrest-core&lt;/artifactId&gt;\r\n      &lt;version&gt;2.2&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n\r\n  [1]: https://github.com/spockframework/spock-example","title":"JUnit and Spock test with maven-surefire-plugin","body":"<p>See the <a href=\"https://github.com/spockframework/spock-example\" rel=\"nofollow noreferrer\">Spock-Example</a> project on how to correctly configure the maven build to run Spock 2.x.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;org.spockframework&lt;/groupId&gt;\n  &lt;artifactId&gt;spock-example&lt;/artifactId&gt;\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n  &lt;packaging&gt;jar&lt;/packaging&gt;\n  &lt;name&gt;Spock Framework - Example Project&lt;/name&gt;\n\n  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n    &lt;groovy.version&gt;3.0.9&lt;/groovy.version&gt;\n  &lt;/properties&gt;\n\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;!-- Mandatory plugins for using Spock --&gt;\n      &lt;plugin&gt;\n        &lt;!-- The gmavenplus plugin is used to compile Groovy code. To learn more about this plugin,\n        visit https://github.com/groovy/GMavenPlus/wiki --&gt;\n        &lt;groupId&gt;org.codehaus.gmavenplus&lt;/groupId&gt;\n        &lt;artifactId&gt;gmavenplus-plugin&lt;/artifactId&gt;\n        &lt;version&gt;1.12.0&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;compile&lt;/goal&gt;\n              &lt;goal&gt;compileTests&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0-M5&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;useModulePath&gt;false&lt;/useModulePath&gt; &lt;!-- https://issues.apache.org/jira/browse/SUREFIRE-1809 --&gt;\n          &lt;useFile&gt;false&lt;/useFile&gt;\n          &lt;includes&gt;\n            &lt;include&gt;**/*Test&lt;/include&gt;\n            &lt;include&gt;**/*Spec&lt;/include&gt;\n          &lt;/includes&gt;\n          &lt;statelessTestsetReporter implementation=&quot;org.apache.maven.plugin.surefire.extensions.junit5.JUnit5Xml30StatelessReporter&quot;&gt;\n            &lt;disable&gt;false&lt;/disable&gt;\n            &lt;version&gt;3.0&lt;/version&gt;\n            &lt;usePhrasedFileName&gt;false&lt;/usePhrasedFileName&gt;\n            &lt;usePhrasedTestSuiteClassName&gt;true&lt;/usePhrasedTestSuiteClassName&gt;\n            &lt;usePhrasedTestCaseClassName&gt;true&lt;/usePhrasedTestCaseClassName&gt;\n            &lt;usePhrasedTestCaseMethodName&gt;true&lt;/usePhrasedTestCaseMethodName&gt;\n          &lt;/statelessTestsetReporter&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n\n  &lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;org.spockframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spock-bom&lt;/artifactId&gt;\n        &lt;version&gt;2.0-groovy-3.0&lt;/version&gt;\n        &lt;type&gt;pom&lt;/type&gt;\n        &lt;scope&gt;import&lt;/scope&gt;\n      &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n  &lt;/dependencyManagement&gt;\n\n  &lt;dependencies&gt;\n    &lt;!-- Mandatory dependencies for using Spock --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.spockframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spock-core&lt;/artifactId&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;!-- Optional dependencies for using Spock --&gt;\n    &lt;dependency&gt; &lt;!-- use a specific Groovy version rather than the one specified by spock-core --&gt;\n      &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\n      &lt;artifactId&gt;groovy&lt;/artifactId&gt;\n      &lt;version&gt;${groovy.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt; &lt;!-- enables mocking of classes (in addition to interfaces) --&gt;\n      &lt;groupId&gt;net.bytebuddy&lt;/groupId&gt;\n      &lt;artifactId&gt;byte-buddy&lt;/artifactId&gt;\n      &lt;version&gt;1.11.0&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt; &lt;!-- enables mocking of classes without default constructor (together with ByteBuddy or CGLIB) --&gt;\n      &lt;groupId&gt;org.objenesis&lt;/groupId&gt;\n      &lt;artifactId&gt;objenesis&lt;/artifactId&gt;\n      &lt;version&gt;3.2&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt; &lt;!-- only required if Hamcrest matchers are used --&gt;\n      &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\n      &lt;artifactId&gt;hamcrest-core&lt;/artifactId&gt;\n      &lt;version&gt;2.2&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2368629,"reputation":1042,"user_id":2073804,"display_name":"ron190"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691443695,"creation_date":1691443695,"answer_id":76855271,"question_id":70288595,"body_markdown":"Using Spock tests with Junit5 is not detecting any test to run on `&gt;= 3.0.0-M5`, also Maven logs are showing that Surefire is picking `JUnit4Provider` instead of any JUnit5 provider.\r\n\r\nAdding `surefire-junit-platform` to the plugin dependencies worked for me:\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;${maven-surefire-plugin.version}&lt;/version&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;!-- Required to detect tests on version &gt; 3.0.0-M4 --&gt;\r\n                &lt;groupId&gt;org.apache.maven.surefire&lt;/groupId&gt;\r\n                &lt;artifactId&gt;surefire-junit-platform&lt;/artifactId&gt;\r\n                &lt;version&gt;${maven-surefire-plugin.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/plugin&gt;\r\n\r\n","title":"JUnit and Spock test with maven-surefire-plugin","body":"<p>Using Spock tests with Junit5 is not detecting any test to run on <code>&gt;= 3.0.0-M5</code>, also Maven logs are showing that Surefire is picking <code>JUnit4Provider</code> instead of any JUnit5 provider.</p>\n<p>Adding <code>surefire-junit-platform</code> to the plugin dependencies worked for me:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n    &lt;version&gt;${maven-surefire-plugin.version}&lt;/version&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;!-- Required to detect tests on version &gt; 3.0.0-M4 --&gt;\n            &lt;groupId&gt;org.apache.maven.surefire&lt;/groupId&gt;\n            &lt;artifactId&gt;surefire-junit-platform&lt;/artifactId&gt;\n            &lt;version&gt;${maven-surefire-plugin.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":15636292,"reputation":125,"user_id":11281053,"display_name":"damlit"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":725,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1691443695,"creation_date":1639047086,"question_id":70288595,"body_markdown":"I have JUnit tests in `src/test/java/` and groovy tests in `src/test/groovy/`. \r\nI can run every tests in IDE, but I want to add them to `mvn test`.\r\n\r\nIf I use:\r\n```\r\n&lt;plugin&gt;\r\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n      &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n      &lt;version&gt;3.0.0-M5&lt;/version&gt;\r\n      &lt;configuration&gt;\r\n      &lt;argLine&gt;${arg}&lt;/argLine&gt;\r\n      &lt;includes&gt;\r\n          &lt;include&gt;**/*Test.class&lt;/include&gt;\r\n      &lt;/includes&gt;\r\n&lt;/plugin&gt;\r\n```\r\n`mvn test` run all from groovy package, but if I add junit for surefire like here:\r\n```\r\n&lt;plugin&gt;\r\n   &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n   &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n   &lt;version&gt;3.0.0-M5&lt;/version&gt;\r\n   &lt;configuration&gt;\r\n      &lt;argLine&gt;${arg}&lt;/argLine&gt;\r\n      &lt;includes&gt;\r\n         &lt;include&gt;**/*Test.class&lt;/include&gt;\r\n      &lt;/includes&gt;\r\n   &lt;/configuration&gt;\r\n   &lt;dependencies&gt;\r\n      &lt;dependency&gt;\r\n         &lt;groupId&gt;org.apache.maven.surefire&lt;/groupId&gt;\r\n         &lt;artifactId&gt;surefire-junit47&lt;/artifactId&gt;\r\n         &lt;version&gt;3.0.0-M5&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n   &lt;/dependencies&gt;\r\n&lt;/plugin&gt;\r\n```\r\n`mvn test` run all from java package. \r\nI&#39;ve tried a lot of things, but I can&#39;t configure maven to run both in one build. \r\nHow is it possible to do that?","title":"JUnit and Spock test with maven-surefire-plugin","body":"<p>I have JUnit tests in <code>src/test/java/</code> and groovy tests in <code>src/test/groovy/</code>.\nI can run every tests in IDE, but I want to add them to <code>mvn test</code>.</p>\n<p>If I use:</p>\n<pre><code>&lt;plugin&gt;\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n      &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n      &lt;version&gt;3.0.0-M5&lt;/version&gt;\n      &lt;configuration&gt;\n      &lt;argLine&gt;${arg}&lt;/argLine&gt;\n      &lt;includes&gt;\n          &lt;include&gt;**/*Test.class&lt;/include&gt;\n      &lt;/includes&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p><code>mvn test</code> run all from groovy package, but if I add junit for surefire like here:</p>\n<pre><code>&lt;plugin&gt;\n   &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n   &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n   &lt;version&gt;3.0.0-M5&lt;/version&gt;\n   &lt;configuration&gt;\n      &lt;argLine&gt;${arg}&lt;/argLine&gt;\n      &lt;includes&gt;\n         &lt;include&gt;**/*Test.class&lt;/include&gt;\n      &lt;/includes&gt;\n   &lt;/configuration&gt;\n   &lt;dependencies&gt;\n      &lt;dependency&gt;\n         &lt;groupId&gt;org.apache.maven.surefire&lt;/groupId&gt;\n         &lt;artifactId&gt;surefire-junit47&lt;/artifactId&gt;\n         &lt;version&gt;3.0.0-M5&lt;/version&gt;\n      &lt;/dependency&gt;\n   &lt;/dependencies&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p><code>mvn test</code> run all from java package.\nI've tried a lot of things, but I can't configure maven to run both in one build.\nHow is it possible to do that?</p>\n"},{"tags":["java","multithreading","concurrency","synchronization","atomic"],"comments":[{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":1,"creation_date":1434113663,"post_id":30803570,"comment_id":49655474,"body_markdown":"In that scenario both threads would get the same `AtomicInteger`, both would call `incrementAndGet` and the `AtomicInteger` would get incremented twice. Isn&#39;t that what you want?","body":"In that scenario both threads would get the same <code>AtomicInteger</code>, both would call <code>incrementAndGet</code> and the <code>AtomicInteger</code> would get incremented twice. Isn&#39;t that what you want?"},{"owner":{"account_id":279365,"reputation":49126,"user_id":574479,"accept_rate":87,"display_name":"biziclop"},"score":1,"creation_date":1434113697,"post_id":30803570,"comment_id":49655491,"body_markdown":"@Kami Sounds like an X/Y problem, what is the original problem that you&#39;re trying to solve?","body":"@Kami Sounds like an X/Y problem, what is the original problem that you&#39;re trying to solve?"},{"owner":{"account_id":1940260,"reputation":1089,"user_id":1746602,"accept_rate":57,"display_name":"Kami"},"score":0,"creation_date":1434113835,"post_id":30803570,"comment_id":49655590,"body_markdown":"@assylias : but what if another thread checks if the value is 0 in between? t1 gets 0, t2 gets 0, t3 gets 0 (but it is soon going to be 2!). t3 being the thread that just checks if it is 0 and does not increment anything.","body":"@assylias : but what if another thread checks if the value is 0 in between? t1 gets 0, t2 gets 0, t3 gets 0 (but it is soon going to be 2!). t3 being the thread that just checks if it is 0 and does not increment anything."},{"owner":{"account_id":279365,"reputation":49126,"user_id":574479,"accept_rate":87,"display_name":"biziclop"},"score":0,"creation_date":1434114150,"post_id":30803570,"comment_id":49655812,"body_markdown":"@Kami What is it that you&#39;re trying to achieve?","body":"@Kami What is it that you&#39;re trying to achieve?"},{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":0,"creation_date":1434114230,"post_id":30803570,"comment_id":49655874,"body_markdown":"@Kami Well yes, the idea of concurrency is that things change in parallel. If that is a problem then you probably need to rethink your design -&gt; answer bizicop&#39;s question.","body":"@Kami Well yes, the idea of concurrency is that things change in parallel. If that is a problem then you probably need to rethink your design -&gt; answer bizicop&#39;s question."},{"owner":{"account_id":1940260,"reputation":1089,"user_id":1746602,"accept_rate":57,"display_name":"Kami"},"score":1,"creation_date":1434114323,"post_id":30803570,"comment_id":49655940,"body_markdown":"@biziclop: I want different threads that are about to use a shared resource to increment a counter (when they are finished with it, they decrement the counter). I have also a thread that can do something on a resource only if no other thread is using it (so he must check if the counter is 0).","body":"@biziclop: I want different threads that are about to use a shared resource to increment a counter (when they are finished with it, they decrement the counter). I have also a thread that can do something on a resource only if no other thread is using it (so he must check if the counter is 0)."},{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":1,"creation_date":1434114468,"post_id":30803570,"comment_id":49656042,"body_markdown":"@Kami I don&#39;t think you can easily do that with an AtomicInteger. A [Semaphore](https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Semaphore.html) may be more appropriate or a [ReadWriteLock](https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/locks/ReadWriteLock.html) - it depends on the details of your use case.","body":"@Kami I don&#39;t think you can easily do that with an AtomicInteger. A <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Semaphore.html\" rel=\"nofollow noreferrer\">Semaphore</a> may be more appropriate or a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/locks/ReadWriteLock.html\" rel=\"nofollow noreferrer\">ReadWriteLock</a> - it depends on the details of your use case."},{"owner":{"account_id":279365,"reputation":49126,"user_id":574479,"accept_rate":87,"display_name":"biziclop"},"score":0,"creation_date":1434114755,"post_id":30803570,"comment_id":49656246,"body_markdown":"This sounds like a job for `ReadWriteLock` indeed. The threads that use the shared resource are the readers and the exclusivity-demanding thread is the writer. The trouble with your `AtomicInteger` solution is that it only gets half of the job done, as you rightly pointed out, even if you read 0, it may not be 0 in the next moment. A semantically correct locking scheme must guarantee that while you hold a write lock, no-one can obtain a read lock.","body":"This sounds like a job for <code>ReadWriteLock</code> indeed. The threads that use the shared resource are the readers and the exclusivity-demanding thread is the writer. The trouble with your <code>AtomicInteger</code> solution is that it only gets half of the job done, as you rightly pointed out, even if you read 0, it may not be 0 in the next moment. A semantically correct locking scheme must guarantee that while you hold a write lock, no-one can obtain a read lock."},{"owner":{"account_id":1940260,"reputation":1089,"user_id":1746602,"accept_rate":57,"display_name":"Kami"},"score":0,"creation_date":1434115380,"post_id":30803570,"comment_id":49656720,"body_markdown":"If I can acquire the readLock as many times as I like, but I can acquire the writeLock only if all the readLocks have been released it is perfect. I am googling, but maybe you know the answer.","body":"If I can acquire the readLock as many times as I like, but I can acquire the writeLock only if all the readLocks have been released it is perfect. I am googling, but maybe you know the answer."},{"owner":{"account_id":279365,"reputation":49126,"user_id":574479,"accept_rate":87,"display_name":"biziclop"},"score":0,"creation_date":1434115695,"post_id":30803570,"comment_id":49656933,"body_markdown":"@Kami Yes, that is exactly how `ReadWriteLock` works. In addition, while you have the write lock, everyone asking for a read lock must wait, guaranteeing complete exclusivity for the write thread.","body":"@Kami Yes, that is exactly how <code>ReadWriteLock</code> works. In addition, while you have the write lock, everyone asking for a read lock must wait, guaranteeing complete exclusivity for the write thread."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1434134691,"post_id":30803570,"comment_id":49668371,"body_markdown":"Looking at all the questions you have issued in one day, I’d say you have a huge [XY problem](http://meta.stackexchange.com/questions/66377/what-is-the-xy-problem/66378#66378) which you combine with some kind of chaos programming, hopping from one solution attempt to another without ever thinking it out. That is not a promising way of programming, but regarding solving multi-threading problems it’s even worse.","body":"Looking at all the questions you have issued in one day, I’d say you have a huge <a href=\"http://meta.stackexchange.com/questions/66377/what-is-the-xy-problem/66378#66378\">XY problem</a> which you combine with some kind of chaos programming, hopping from one solution attempt to another without ever thinking it out. That is not a promising way of programming, but regarding solving multi-threading problems it’s even worse."},{"owner":{"account_id":1940260,"reputation":1089,"user_id":1746602,"accept_rate":57,"display_name":"Kami"},"score":0,"creation_date":1434143912,"post_id":30803570,"comment_id":49672701,"body_markdown":"@Holger : By rereading these comments and your link about the XY problem (which I learned about today by the way), I realized why I made this impression on you. Then again, I do not think that X is always definable &#39;in a pure way&#39;.","body":"@Holger : By rereading these comments and your link about the XY problem (which I learned about today by the way), I realized why I made this impression on you. Then again, I do not think that X is always definable &#39;in a pure way&#39;."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1434356954,"post_id":30803570,"comment_id":49724986,"body_markdown":"@Kami: not having an exact definition of `X`, read the actual problem to solve, may be the root of all problems…","body":"@Kami: not having an exact definition of <code>X</code>, read the actual problem to solve, may be the root of all problems…"}],"answers":[{"comments":[{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":6,"creation_date":1434113765,"post_id":30803656,"comment_id":49655536,"body_markdown":"Don&#39;t synchronize the map, use `putIfAbsent` or one of the other similar methods...","body":"Don&#39;t synchronize the map, use <code>putIfAbsent</code> or one of the other similar methods..."}],"tags":[],"owner":{"account_id":438978,"reputation":7398,"user_id":827593,"accept_rate":50,"display_name":"JP Moresmau"},"comment_count":1,"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1434113732,"creation_date":1434113732,"answer_id":30803656,"question_id":30803570,"body_markdown":"The AtomicInteger will work fine with multiple threads, that&#39;s its purpose. So if the map doesn&#39;t change, you&#39;re fine.\r\n\r\nProblems will occur if several threads try to modify the map at the same time, for example two threads adding each their own AtomicInteger. In this case, synchronize the map itself.","title":"ConcurrentHashMap atomic get, increment and replace","body":"<p>The AtomicInteger will work fine with multiple threads, that's its purpose. So if the map doesn't change, you're fine.</p>\n\n<p>Problems will occur if several threads try to modify the map at the same time, for example two threads adding each their own AtomicInteger. In this case, synchronize the map itself.</p>\n"},{"tags":[],"owner":{"account_id":9091013,"reputation":311,"user_id":6766950,"display_name":"Kenny Colliander Nordin"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1691443658,"creation_date":1486796719,"answer_id":42173290,"question_id":30803570,"body_markdown":"You can use compute to perform atomic operations like the one you&#39;re asking for. The compute method will return the incremented value or 1 if it&#39;s the first call.\r\n\r\n\tConcurrentMap&lt;MyResource, Integer&gt; map = new ConcurrentHashMap&lt;&gt;();\r\n\r\n\tmap.compute(resourceKey, (k, v) -&gt; v == null ? 1 : v + 1);\r\n","title":"ConcurrentHashMap atomic get, increment and replace","body":"<p>You can use compute to perform atomic operations like the one you're asking for. The compute method will return the incremented value or 1 if it's the first call.</p>\n<pre><code>ConcurrentMap&lt;MyResource, Integer&gt; map = new ConcurrentHashMap&lt;&gt;();\n\nmap.compute(resourceKey, (k, v) -&gt; v == null ? 1 : v + 1);\n</code></pre>\n"}],"owner":{"account_id":1940260,"reputation":1089,"user_id":1746602,"accept_rate":57,"display_name":"Kami"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4929,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1691443658,"creation_date":1434113453,"question_id":30803570,"body_markdown":"Is there an easy way to get, increment and replace an integer from a `ConcurrentHashMap`?\r\n\r\n    ConcurrentHashMap&lt;MyResource, AtomicInteger&gt; map;\r\n\r\nLet&#39;s say that every value has already been initialized like this:\r\n\r\n    map.get(i) = new AtomicInteger(0);\r\n\r\nand that we do not add any new keys.\r\n\r\n**How can I make a get, increment and replace atomic (and thread safe)?**\r\n\r\nSomething like this, should not work:\r\n\r\n    map.get(myResourceKey).incrementAndGet();\r\nBecause 2 threads could get the same integer before incrementing it right?\r\n\r\nThe map is keeping track of how many threads are using a certain resource.\r\nAnd I want something to happen only when a resource is not used (counter = 0).","title":"ConcurrentHashMap atomic get, increment and replace","body":"<p>Is there an easy way to get, increment and replace an integer from a <code>ConcurrentHashMap</code>?</p>\n\n<pre><code>ConcurrentHashMap&lt;MyResource, AtomicInteger&gt; map;\n</code></pre>\n\n<p>Let's say that every value has already been initialized like this:</p>\n\n<pre><code>map.get(i) = new AtomicInteger(0);\n</code></pre>\n\n<p>and that we do not add any new keys.</p>\n\n<p><strong>How can I make a get, increment and replace atomic (and thread safe)?</strong></p>\n\n<p>Something like this, should not work:</p>\n\n<pre><code>map.get(myResourceKey).incrementAndGet();\n</code></pre>\n\n<p>Because 2 threads could get the same integer before incrementing it right?</p>\n\n<p>The map is keeping track of how many threads are using a certain resource.\nAnd I want something to happen only when a resource is not used (counter = 0).</p>\n"},{"tags":["java","android","firebase","firebase-storage"],"comments":[{"owner":{"account_id":216950,"reputation":20103,"user_id":472495,"accept_rate":92,"display_name":"halfer"},"score":0,"creation_date":1691443514,"post_id":60008183,"comment_id":135489891,"body_markdown":"This question was changed rather too dramatically in r3, to the degree that the answer given below could not have been given to the question in that state. I debated whether to revert back to r1 or r2 so that the answer given makes sense - I went for r2 in the end, and then added significant case, spelling, and grammar clean-up.","body":"This question was changed rather too dramatically in r3, to the degree that the answer given below could not have been given to the question in that state. I debated whether to revert back to r1 or r2 so that the answer given makes sense - I went for r2 in the end, and then added significant case, spelling, and grammar clean-up."}],"answers":[{"tags":[],"owner":{"account_id":168508,"reputation":40402,"user_id":394010,"accept_rate":100,"display_name":"Kato"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1580490582,"creation_date":1580490582,"answer_id":60008393,"question_id":60008183,"body_markdown":"There is nothing [built into the Firebase Android SDK](https://firebase.google.com/docs/reference/android/com/google/firebase/storage/package-summary) for sending batches. However, you could directly [utilize the Google Cloud Storage API to send batch requests](https://cloud.google.com/storage/docs/json_api/v1/how-tos/batch), although it&#39;s a bit involved.\r\n\r\nThe first thing you need to know if you want to go that route is id for your Firebase storage &quot;bucket&quot;. As described [here](https://firebase.google.com/docs/storage/admin/start#use_a_default_bucket), you can just take the bucket name without `gs://` and pass that into the GCS resources. \r\n\r\nFor example, if my bucket is `gs://kato-sandbox.appspot.com` then I use `kato-sandbox.appspot.com`.\r\n\r\nTo look up your bucket name in Firebase, visit [your storage page in console.firebase.google.com](https://firebase.corp.google.com/project/_/storage/) and look at the URL listed.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/g6rNV.png","title":"Is it possible to upload multiple files to Firebase Storage at once?","body":"<p>There is nothing <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/storage/package-summary\" rel=\"nofollow noreferrer\">built into the Firebase Android SDK</a> for sending batches. However, you could directly <a href=\"https://cloud.google.com/storage/docs/json_api/v1/how-tos/batch\" rel=\"nofollow noreferrer\">utilize the Google Cloud Storage API to send batch requests</a>, although it's a bit involved.</p>\n\n<p>The first thing you need to know if you want to go that route is id for your Firebase storage \"bucket\". As described <a href=\"https://firebase.google.com/docs/storage/admin/start#use_a_default_bucket\" rel=\"nofollow noreferrer\">here</a>, you can just take the bucket name without <code>gs://</code> and pass that into the GCS resources. </p>\n\n<p>For example, if my bucket is <code>gs://kato-sandbox.appspot.com</code> then I use <code>kato-sandbox.appspot.com</code>.</p>\n\n<p>To look up your bucket name in Firebase, visit <a href=\"https://firebase.corp.google.com/project/_/storage/\" rel=\"nofollow noreferrer\">your storage page in console.firebase.google.com</a> and look at the URL listed.</p>\n\n<p><a href=\"https://i.stack.imgur.com/g6rNV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/g6rNV.png\" alt=\"enter image description here\"></a></p>\n"}],"owner":{"account_id":10891088,"reputation":876,"user_id":8006847,"accept_rate":81,"display_name":"markharrop"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1035,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1691443656,"creation_date":1580489804,"question_id":60008183,"body_markdown":"In my image uploader app I currently have it set up to upload a single file to Firebase by using this code:\r\n\r\n     private void chooseImage() {\r\n        Intent intent = new Intent();\r\n        intent.setType(&quot;image/*&quot;);\r\n        intent.setAction(Intent.ACTION_GET_CONTENT);\r\n        startActivityForResult(Intent.createChooser(intent, &quot;Select Picture&quot;), PICK_IMAGE_REQUEST);\r\n        }\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n        if(requestCode == PICK_IMAGE_REQUEST &amp;&amp; resultCode == RESULT_OK\r\n                &amp;&amp; data != null &amp;&amp; data.getData() != null )\r\n        {\r\n            filePath = data.getData();\r\n            try {\r\n                Bitmap bitmap = MediaStore.Images.Media.getBitmap(getContentResolver(), filePath);\r\n                imageView.setImageBitmap(bitmap);\r\n            }\r\n            catch (IOException e)\r\n            {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n     }\r\n\r\n    private void uploadImage() {\r\n\r\n        Date myDate = new Date();\r\n        SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n        final String myDateString = sdf.format(myDate);\r\n        String Gap =&quot;/&quot;;\r\n\r\n        if(filePath != null)\r\n        {\r\n            final ProgressDialog progressDialog = new ProgressDialog(this);\r\n            progressDialog.setTitle(&quot;Uploading...&quot;);\r\n            progressDialog.show();\r\n\r\n            StorageReference ref = storageReference.child(myDateString+Gap+ UUID.randomUUID().toString());\r\n            FirebaseDatabase db = FirebaseDatabase.getInstance();\r\n            DatabaseReference rootRef = db.getReference().child(&quot;PreviousJobs&quot;);\r\n            String d = ref.toString();\r\n\r\n            rootRef\r\n                    .child(myDateString)\r\n                    .setValue(myDateString);\r\n\r\n            ref.putFile(filePath)\r\n                    .addOnSuccessListener(new OnSuccessListener&lt;UploadTask.TaskSnapshot&gt;() {\r\n                        @Override\r\n                        public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {\r\n                            progressDialog.dismiss();\r\n                            Toast.makeText(photoUploader.this, &quot;Uploaded&quot;, Toast.LENGTH_SHORT).show();\r\n                        }\r\n                    })\r\n                    .addOnFailureListener(new OnFailureListener() {\r\n                        @Override\r\n                        public void onFailure(@NonNull Exception e) {\r\n                            progressDialog.dismiss();\r\n                            Toast.makeText(photoUploader.this, &quot;Failed &quot;+e.getMessage(), Toast.LENGTH_SHORT).show();\r\n                        }\r\n                    })\r\n                    .addOnProgressListener(new OnProgressListener&lt;UploadTask.TaskSnapshot&gt;() {\r\n                        @Override\r\n                        public void onProgress(UploadTask.TaskSnapshot taskSnapshot) {\r\n                            double progress = (100.0*taskSnapshot.getBytesTransferred()/taskSnapshot\r\n                                    .getTotalByteCount());\r\n                            progressDialog.setMessage(&quot;Uploaded &quot;+(int)progress+&quot;%&quot;);\r\n                        }\r\n                    });\r\n        }\r\n    }\r\n\r\nThe XML looks like this:\r\n\r\n     &lt;Button\r\n        android:id=&quot;@+id/btnChoose&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginStart=&quot;50dp&quot;\r\n        android:layout_marginTop=&quot;40dp&quot;\r\n        android:layout_weight=&quot;1&quot;\r\n        android:text=&quot;Choose&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/btnUpload&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginTop=&quot;40dp&quot;\r\n        android:layout_marginEnd=&quot;50dp&quot;\r\n        android:layout_weight=&quot;1&quot;\r\n        android:text=&quot;Upload&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n    &lt;ImageView\r\n        android:id=&quot;@+id/imgView&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginStart=&quot;171dp&quot;\r\n        android:layout_marginTop=&quot;40dp&quot;\r\n        android:layout_marginEnd=&quot;168dp&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/btnChoose&quot; /&gt;\r\n\r\nWhat would be the best way to convert this to upload multiple files at once? I&#39;m new to the storage side of Firebase and I&#39;m at a total loss. I&#39;ve been reading on some posts that it&#39;s not possible. Is that actually the case or is there a workaround?\r\n\r\nEdit\r\n---\r\n\r\nUsing this code I&#39;ve managed to get multiple files to upload. but for some reason in-app it only shows one item in the recycleview.\r\n\r\n\r\nrecycle_item.xml\r\n \r\n     android:layout_height=&quot;match_parent&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\r\n    &lt;LinearLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_alignParentTop=&quot;true&quot;\r\n        android:layout_centerHorizontal=&quot;true&quot;\r\n        android:orientation=&quot;horizontal&quot;\r\n        android:padding=&quot;10dp&quot;\r\n        android:weightSum=&quot;10&quot;&gt;\r\n\r\n\r\n        &lt;ImageView\r\n            android:id=&quot;@+id/upload_icon&quot;\r\n            android:layout_width=&quot;40dp&quot;\r\n            android:layout_height=&quot;40dp&quot;\r\n            android:layout_weight=&quot;2&quot;\r\n            android:src=&quot;@drawable/ic_attach_file_black_24dp&quot;/&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/upload_filename&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:layout_weight=&quot;6&quot;\r\n\r\n            android:gravity=&quot;center_vertical&quot;\r\n            android:text=&quot;Filename.type&quot;\r\n            android:textSize=&quot;16sp&quot; /&gt;\r\n    &lt;/LinearLayout&gt;\r\n\r\nphotoUploader class\r\n\r\n         initVariables();\r\n\r\n    }\r\n    private void initVariables() {\r\n        mStorage = FirebaseStorage.getInstance().getReference();\r\n\r\n        mSelectBtn = findViewById(R.id.select_btn);\r\n        mUploadList = findViewById(R.id.upload_list);\r\n\r\n        mUploadList = (RecyclerView) findViewById(R.id.upload_list);\r\n\r\n        fileNameList = new ArrayList&lt;&gt;();\r\n        fileDoneList = new ArrayList&lt;&gt;();\r\n\r\n        uploadListAdapter = new UploadListAdapter(fileNameList, fileDoneList);\r\n\r\n        //RecyclerView\r\n\r\n        mUploadList.setLayoutManager(new LinearLayoutManager(this));\r\n        mUploadList.setHasFixedSize(true);\r\n        mUploadList.setAdapter(uploadListAdapter);\r\n\r\n        mSelectBtn.setOnClickListener(new View.OnClickListener() {\r\n\r\n            @Override\r\n            public void onClick(View v) {\r\n        chooseImage();\r\n            }\r\n        });\r\n    }\r\n   \r\n      private void chooseImage() {\r\n        Intent intent = new Intent();\r\n        intent.setType(&quot;image/*&quot;);\r\n        intent.putExtra(Intent.EXTRA_ALLOW_MULTIPLE, true);\r\n        intent.setAction(Intent.ACTION_GET_CONTENT);\r\n        startActivityForResult(Intent.createChooser(intent,&quot;Select Picture&quot;), \r\n    RESULT_LOAD_IMAGE);\r\n    }\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, Intent \r\n        data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n        if(requestCode == RESULT_LOAD_IMAGE &amp;&amp; resultCode == RESULT_OK){\r\n\r\n            if(data.getClipData() != null){\r\n                int totalItemsSelected = data.getClipData().getItemCount();\r\n\r\n                for(int i = 0; i &lt; totalItemsSelected; i++){\r\n\r\n                    Uri fileUri = data.getClipData().getItemAt(i).getUri();\r\n\r\n                    String fileName = getFileName(fileUri);\r\n\r\n                    fileNameList.add(fileName);\r\n                    fileDoneList.add(&quot;uploading&quot;);\r\n                    uploadListAdapter.notifyDataSetChanged();\r\n\r\n                    Date myDate = new Date();\r\n                    SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n                    final String myDateString = sdf.format(myDate);\r\n                    String Gap =&quot;/&quot;;\r\n\r\n\r\n                    StorageReference fileToUpload = mStorage.child(myDateString+Gap+ UUID.randomUUID().toString());\r\n\r\n                    final int finalI = i;\r\n                    fileToUpload.putFile(fileUri).addOnSuccessListener(new OnSuccessListener&lt;UploadTask.TaskSnapshot&gt;() {\r\n                        @Override\r\n                        public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {\r\n                            FirebaseDatabase sb = FirebaseDatabase.getInstance();\r\n                            DatabaseReference rootRef = sb.getReference().child(&quot;PreviousJobs&quot;);\r\n\r\n\r\n                            rootRef\r\n                                    .child(myDateString)\r\n                                    .setValue(myDateString);\r\n                            fileDoneList.remove(finalI);\r\n                            fileDoneList.add(finalI, &quot;done&quot;);\r\n\r\n                            uploadListAdapter.notifyDataSetChanged();\r\n\r\n                        }\r\n                    });\r\n\r\n                }\r\n\r\n                //Toast.makeText(MainActivity.this, &quot;Selected Multiple Files&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n            } else if (data.getData() != null){\r\n\r\n                Toast.makeText(photoUploader.this, &quot;Selected Single File&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n            }\r\n\r\n        }\r\n    }\r\n \r\n\r\n        public String getFileName(Uri uri) {\r\n        String result = null;\r\n        if (uri.getScheme().equals(&quot;content&quot;)) {\r\n            Cursor cursor = getContentResolver().query(uri, null, null, null, \r\n        null);\r\n            try {\r\n                if (cursor != null &amp;&amp; cursor.moveToFirst()) {\r\n                    result = \r\n         cursor.getString(cursor.getColumnIndex(OpenableColumns.DISPLAY_NAME));\r\n                 }\r\n            } finally {\r\n                cursor.close();\r\n            }\r\n        }\r\n        if (result == null) {\r\n            result = uri.getPath();\r\n            int cut = result.lastIndexOf(&#39;/&#39;);\r\n            if (cut != -1) {\r\n                result = result.substring(cut + 1);\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n\r\nFinally the adapter class:\r\n\r\n    public List&lt;String&gt; fileNameList;\r\n        public List&lt;String&gt; fileDoneList;\r\n\r\n    public UploadListAdapter(List&lt;String&gt; fileNameList, List&lt;String&gt;fileDoneList){\r\n\r\n            this.fileDoneList = fileDoneList;\r\n            this.fileNameList = fileNameList;\r\n\r\n        }\r\n\r\n        @Override\r\n        public ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\r\n\r\n            View v = LayoutInflater.from(parent.getContext()).inflate(R.layout.recycle_item, parent, false);\r\n            return new ViewHolder(v);\r\n\r\n        }\r\n\r\n        @Override\r\n        public void onBindViewHolder(ViewHolder holder, int position) {\r\n\r\n            String fileName = fileNameList.get(position);\r\n            holder.fileNameView.setText(fileName);\r\n\r\n            String fileDone = fileDoneList.get(position);\r\n\r\n            if(fileDone.equals(&quot;uploading&quot;)){\r\n\r\n                holder.fileDoneView.setImageResource(R.drawable.progress);\r\n\r\n            } else {\r\n\r\n                holder.fileDoneView.setImageResource(R.drawable.checked);\r\n\r\n            }\r\n\r\n        }\r\n\r\n        @Override\r\n        public int getItemCount() {\r\n            return fileNameList.size();\r\n        }\r\n\r\n        public class ViewHolder extends RecyclerView.ViewHolder {\r\n\r\n            View mView;\r\n\r\n            public TextView fileNameView;\r\n            public ImageView fileDoneView;\r\n\r\n            public ViewHolder(View itemView) {\r\n                super(itemView);\r\n\r\n                mView = itemView;\r\n\r\n                fileNameView = (TextView) mView.findViewById(R.id.upload_filename);\r\n                fileDoneView = (ImageView) mView.findViewById(R.id.upload_loading);\r\n\r\n\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n","title":"Is it possible to upload multiple files to Firebase Storage at once?","body":"<p>In my image uploader app I currently have it set up to upload a single file to Firebase by using this code:</p>\n<pre><code> private void chooseImage() {\n    Intent intent = new Intent();\n    intent.setType(&quot;image/*&quot;);\n    intent.setAction(Intent.ACTION_GET_CONTENT);\n    startActivityForResult(Intent.createChooser(intent, &quot;Select Picture&quot;), PICK_IMAGE_REQUEST);\n    }\n@Override\nprotected void onActivityResult(int requestCode, int resultCode, Intent data) {\n    super.onActivityResult(requestCode, resultCode, data);\n    if(requestCode == PICK_IMAGE_REQUEST &amp;&amp; resultCode == RESULT_OK\n            &amp;&amp; data != null &amp;&amp; data.getData() != null )\n    {\n        filePath = data.getData();\n        try {\n            Bitmap bitmap = MediaStore.Images.Media.getBitmap(getContentResolver(), filePath);\n            imageView.setImageBitmap(bitmap);\n        }\n        catch (IOException e)\n        {\n            e.printStackTrace();\n        }\n    }\n }\n\nprivate void uploadImage() {\n\n    Date myDate = new Date();\n    SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\n    final String myDateString = sdf.format(myDate);\n    String Gap =&quot;/&quot;;\n\n    if(filePath != null)\n    {\n        final ProgressDialog progressDialog = new ProgressDialog(this);\n        progressDialog.setTitle(&quot;Uploading...&quot;);\n        progressDialog.show();\n\n        StorageReference ref = storageReference.child(myDateString+Gap+ UUID.randomUUID().toString());\n        FirebaseDatabase db = FirebaseDatabase.getInstance();\n        DatabaseReference rootRef = db.getReference().child(&quot;PreviousJobs&quot;);\n        String d = ref.toString();\n\n        rootRef\n                .child(myDateString)\n                .setValue(myDateString);\n\n        ref.putFile(filePath)\n                .addOnSuccessListener(new OnSuccessListener&lt;UploadTask.TaskSnapshot&gt;() {\n                    @Override\n                    public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {\n                        progressDialog.dismiss();\n                        Toast.makeText(photoUploader.this, &quot;Uploaded&quot;, Toast.LENGTH_SHORT).show();\n                    }\n                })\n                .addOnFailureListener(new OnFailureListener() {\n                    @Override\n                    public void onFailure(@NonNull Exception e) {\n                        progressDialog.dismiss();\n                        Toast.makeText(photoUploader.this, &quot;Failed &quot;+e.getMessage(), Toast.LENGTH_SHORT).show();\n                    }\n                })\n                .addOnProgressListener(new OnProgressListener&lt;UploadTask.TaskSnapshot&gt;() {\n                    @Override\n                    public void onProgress(UploadTask.TaskSnapshot taskSnapshot) {\n                        double progress = (100.0*taskSnapshot.getBytesTransferred()/taskSnapshot\n                                .getTotalByteCount());\n                        progressDialog.setMessage(&quot;Uploaded &quot;+(int)progress+&quot;%&quot;);\n                    }\n                });\n    }\n}\n</code></pre>\n<p>The XML looks like this:</p>\n<pre><code> &lt;Button\n    android:id=&quot;@+id/btnChoose&quot;\n    android:layout_width=&quot;0dp&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_marginStart=&quot;50dp&quot;\n    android:layout_marginTop=&quot;40dp&quot;\n    android:layout_weight=&quot;1&quot;\n    android:text=&quot;Choose&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n&lt;Button\n    android:id=&quot;@+id/btnUpload&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_marginTop=&quot;40dp&quot;\n    android:layout_marginEnd=&quot;50dp&quot;\n    android:layout_weight=&quot;1&quot;\n    android:text=&quot;Upload&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n&lt;ImageView\n    android:id=&quot;@+id/imgView&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_marginStart=&quot;171dp&quot;\n    android:layout_marginTop=&quot;40dp&quot;\n    android:layout_marginEnd=&quot;168dp&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toBottomOf=&quot;@+id/btnChoose&quot; /&gt;\n</code></pre>\n<p>What would be the best way to convert this to upload multiple files at once? I'm new to the storage side of Firebase and I'm at a total loss. I've been reading on some posts that it's not possible. Is that actually the case or is there a workaround?</p>\n<h2>Edit</h2>\n<p>Using this code I've managed to get multiple files to upload. but for some reason in-app it only shows one item in the recycleview.</p>\n<p>recycle_item.xml</p>\n<pre><code> android:layout_height=&quot;match_parent&quot;\nxmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\n&lt;LinearLayout\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_alignParentTop=&quot;true&quot;\n    android:layout_centerHorizontal=&quot;true&quot;\n    android:orientation=&quot;horizontal&quot;\n    android:padding=&quot;10dp&quot;\n    android:weightSum=&quot;10&quot;&gt;\n\n\n    &lt;ImageView\n        android:id=&quot;@+id/upload_icon&quot;\n        android:layout_width=&quot;40dp&quot;\n        android:layout_height=&quot;40dp&quot;\n        android:layout_weight=&quot;2&quot;\n        android:src=&quot;@drawable/ic_attach_file_black_24dp&quot;/&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/upload_filename&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:layout_weight=&quot;6&quot;\n\n        android:gravity=&quot;center_vertical&quot;\n        android:text=&quot;Filename.type&quot;\n        android:textSize=&quot;16sp&quot; /&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>photoUploader class</p>\n<pre><code>     initVariables();\n\n}\nprivate void initVariables() {\n    mStorage = FirebaseStorage.getInstance().getReference();\n\n    mSelectBtn = findViewById(R.id.select_btn);\n    mUploadList = findViewById(R.id.upload_list);\n\n    mUploadList = (RecyclerView) findViewById(R.id.upload_list);\n\n    fileNameList = new ArrayList&lt;&gt;();\n    fileDoneList = new ArrayList&lt;&gt;();\n\n    uploadListAdapter = new UploadListAdapter(fileNameList, fileDoneList);\n\n    //RecyclerView\n\n    mUploadList.setLayoutManager(new LinearLayoutManager(this));\n    mUploadList.setHasFixedSize(true);\n    mUploadList.setAdapter(uploadListAdapter);\n\n    mSelectBtn.setOnClickListener(new View.OnClickListener() {\n\n        @Override\n        public void onClick(View v) {\n    chooseImage();\n        }\n    });\n}\n\n  private void chooseImage() {\n    Intent intent = new Intent();\n    intent.setType(&quot;image/*&quot;);\n    intent.putExtra(Intent.EXTRA_ALLOW_MULTIPLE, true);\n    intent.setAction(Intent.ACTION_GET_CONTENT);\n    startActivityForResult(Intent.createChooser(intent,&quot;Select Picture&quot;), \nRESULT_LOAD_IMAGE);\n}\n@Override\nprotected void onActivityResult(int requestCode, int resultCode, Intent \n    data) {\n    super.onActivityResult(requestCode, resultCode, data);\n    if(requestCode == RESULT_LOAD_IMAGE &amp;&amp; resultCode == RESULT_OK){\n\n        if(data.getClipData() != null){\n            int totalItemsSelected = data.getClipData().getItemCount();\n\n            for(int i = 0; i &lt; totalItemsSelected; i++){\n\n                Uri fileUri = data.getClipData().getItemAt(i).getUri();\n\n                String fileName = getFileName(fileUri);\n\n                fileNameList.add(fileName);\n                fileDoneList.add(&quot;uploading&quot;);\n                uploadListAdapter.notifyDataSetChanged();\n\n                Date myDate = new Date();\n                SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\n                final String myDateString = sdf.format(myDate);\n                String Gap =&quot;/&quot;;\n\n\n                StorageReference fileToUpload = mStorage.child(myDateString+Gap+ UUID.randomUUID().toString());\n\n                final int finalI = i;\n                fileToUpload.putFile(fileUri).addOnSuccessListener(new OnSuccessListener&lt;UploadTask.TaskSnapshot&gt;() {\n                    @Override\n                    public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {\n                        FirebaseDatabase sb = FirebaseDatabase.getInstance();\n                        DatabaseReference rootRef = sb.getReference().child(&quot;PreviousJobs&quot;);\n\n\n                        rootRef\n                                .child(myDateString)\n                                .setValue(myDateString);\n                        fileDoneList.remove(finalI);\n                        fileDoneList.add(finalI, &quot;done&quot;);\n\n                        uploadListAdapter.notifyDataSetChanged();\n\n                    }\n                });\n\n            }\n\n            //Toast.makeText(MainActivity.this, &quot;Selected Multiple Files&quot;, Toast.LENGTH_SHORT).show();\n\n        } else if (data.getData() != null){\n\n            Toast.makeText(photoUploader.this, &quot;Selected Single File&quot;, Toast.LENGTH_SHORT).show();\n\n        }\n\n    }\n}\n\n\n    public String getFileName(Uri uri) {\n    String result = null;\n    if (uri.getScheme().equals(&quot;content&quot;)) {\n        Cursor cursor = getContentResolver().query(uri, null, null, null, \n    null);\n        try {\n            if (cursor != null &amp;&amp; cursor.moveToFirst()) {\n                result = \n     cursor.getString(cursor.getColumnIndex(OpenableColumns.DISPLAY_NAME));\n             }\n        } finally {\n            cursor.close();\n        }\n    }\n    if (result == null) {\n        result = uri.getPath();\n        int cut = result.lastIndexOf('/');\n        if (cut != -1) {\n            result = result.substring(cut + 1);\n        }\n    }\n    return result;\n}\n</code></pre>\n<p>Finally the adapter class:</p>\n<pre><code>public List&lt;String&gt; fileNameList;\n    public List&lt;String&gt; fileDoneList;\n\npublic UploadListAdapter(List&lt;String&gt; fileNameList, List&lt;String&gt;fileDoneList){\n\n        this.fileDoneList = fileDoneList;\n        this.fileNameList = fileNameList;\n\n    }\n\n    @Override\n    public ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\n\n        View v = LayoutInflater.from(parent.getContext()).inflate(R.layout.recycle_item, parent, false);\n        return new ViewHolder(v);\n\n    }\n\n    @Override\n    public void onBindViewHolder(ViewHolder holder, int position) {\n\n        String fileName = fileNameList.get(position);\n        holder.fileNameView.setText(fileName);\n\n        String fileDone = fileDoneList.get(position);\n\n        if(fileDone.equals(&quot;uploading&quot;)){\n\n            holder.fileDoneView.setImageResource(R.drawable.progress);\n\n        } else {\n\n            holder.fileDoneView.setImageResource(R.drawable.checked);\n\n        }\n\n    }\n\n    @Override\n    public int getItemCount() {\n        return fileNameList.size();\n    }\n\n    public class ViewHolder extends RecyclerView.ViewHolder {\n\n        View mView;\n\n        public TextView fileNameView;\n        public ImageView fileDoneView;\n\n        public ViewHolder(View itemView) {\n            super(itemView);\n\n            mView = itemView;\n\n            fileNameView = (TextView) mView.findViewById(R.id.upload_filename);\n            fileDoneView = (ImageView) mView.findViewById(R.id.upload_loading);\n\n\n        }\n\n    }\n\n}\n</code></pre>\n"},{"tags":["java","selenium-webdriver","testng"],"comments":[{"owner":{"account_id":27938804,"reputation":102,"user_id":21335232,"display_name":"Bhairu"},"score":0,"creation_date":1691393125,"post_id":76849095,"comment_id":135479891,"body_markdown":"Restart the Eclipse or reinstall the application.","body":"Restart the Eclipse or reinstall the application."}],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691443440,"creation_date":1691443440,"answer_id":76855249,"question_id":76849095,"body_markdown":"You need to follow only one single approach among the following but not all:\r\n\r\n- Downloading and putting external jar files.\r\n- Install TestNG in my eclipse from Install New Software\r\n- Dependency of [tag:testng] through [tag:maven]\r\n\r\n\r\n----------\r\n\r\n\r\nAssuming you only have the [testng maven dependency](https://mvnrepository.com/artifact/org.testng/testng), you need to perform the following steps:\r\n\r\n- _`mvn clean`_: This command cleans the Maven project by deleting the target directory.\r\n- _`mvn install`_: This command builds the Maven project and installs the project files (JAR, WAR, pom.xml, etc.) to the local repository.\r\n- _`mvn test`_: This command runs the test cases of the project.\r\n\r\n\r\n----------\r\n\r\n\r\nIf you still don&#39;t find the testng related jars added to your project then perform `Maven` &gt; `Update Project...`\r\n\r\n![UpdateProject](https://i.stack.imgur.com/7ygf3.png)\r\n\r\n\r\n----------\r\n\r\n\r\nReferences\r\n----------\r\nSome useful links:\r\n\r\n- [Maven Commands Cheat Sheet](https://www.digitalocean.com/community/tutorials/maven-commands-options-cheat-sheet)","title":"Run with TestNG option is not coming on my Eclipse","body":"<p>You need to follow only one single approach among the following but not all:</p>\n<ul>\n<li>Downloading and putting external jar files.</li>\n<li>Install TestNG in my eclipse from Install New Software</li>\n<li>Dependency of <a href=\"/questions/tagged/testng\" class=\"post-tag\" title=\"show questions tagged &#39;testng&#39;\" aria-label=\"show questions tagged &#39;testng&#39;\" rel=\"tag\" aria-labelledby=\"tag-testng-tooltip-container\">testng</a> through <a href=\"/questions/tagged/maven\" class=\"post-tag\" title=\"show questions tagged &#39;maven&#39;\" aria-label=\"show questions tagged &#39;maven&#39;\" rel=\"tag\" aria-labelledby=\"tag-maven-tooltip-container\">maven</a></li>\n</ul>\n<hr />\n<p>Assuming you only have the <a href=\"https://mvnrepository.com/artifact/org.testng/testng\" rel=\"nofollow noreferrer\">testng maven dependency</a>, you need to perform the following steps:</p>\n<ul>\n<li><em><code>mvn clean</code></em>: This command cleans the Maven project by deleting the target directory.</li>\n<li><em><code>mvn install</code></em>: This command builds the Maven project and installs the project files (JAR, WAR, pom.xml, etc.) to the local repository.</li>\n<li><em><code>mvn test</code></em>: This command runs the test cases of the project.</li>\n</ul>\n<hr />\n<p>If you still don't find the testng related jars added to your project then perform <code>Maven</code> &gt; <code>Update Project...</code></p>\n<p><img src=\"https://i.stack.imgur.com/7ygf3.png\" alt=\"UpdateProject\" /></p>\n<hr />\n<h2>References</h2>\n<p>Some useful links:</p>\n<ul>\n<li><a href=\"https://www.digitalocean.com/community/tutorials/maven-commands-options-cheat-sheet\" rel=\"nofollow noreferrer\">Maven Commands Cheat Sheet</a></li>\n</ul>\n"}],"owner":{"account_id":29100479,"reputation":11,"user_id":22292389,"display_name":"Yogesh Pawar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691443440,"creation_date":1691387703,"question_id":76849095,"body_markdown":"I have installed the dependency of TestNG through maven.\r\nBut still run with test NG option was not coming so i install TestNG in my eclipse from INSTALL software but still run with test NG option not coming\r\n[![enter image description here](https://i.stack.imgur.com/G9VEX.png)](https://i.stack.imgur.com/G9VEX.png)\r\n\r\nI tried putting external jar files as well\r\ntried changing test to compile in POM file for testNG but still no results\r\nTestNG plugin also installed\r\n","title":"Run with TestNG option is not coming on my Eclipse","body":"<p>I have installed the dependency of TestNG through maven.\nBut still run with test NG option was not coming so i install TestNG in my eclipse from INSTALL software but still run with test NG option not coming\n<a href=\"https://i.stack.imgur.com/G9VEX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/G9VEX.png\" alt=\"enter image description here\" /></a></p>\n<p>I tried putting external jar files as well\ntried changing test to compile in POM file for testNG but still no results\nTestNG plugin also installed</p>\n"},{"tags":["java","multithreading","launcher","fuse","appimage"],"comments":[{"owner":{"account_id":16389606,"reputation":591,"user_id":11838698,"display_name":"Alexis"},"score":0,"creation_date":1656347048,"post_id":72401348,"comment_id":128544236,"body_markdown":"You provably need to install `libfuse.so.2` for AppImage to work properly.","body":"You provably need to install <code>libfuse.so.2</code> for AppImage to work properly."}],"answers":[{"tags":[],"owner":{"account_id":18984536,"reputation":98,"user_id":13855179,"display_name":"InsertDisplayNameHere"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691442761,"creation_date":1691442761,"answer_id":76855201,"question_id":72401348,"body_markdown":"You are missing `libfuse2`. Try the following command:  \r\n`sudo apt install libfuse2`\r\n\r\nFor more information, refer to https://docs.appimage.org/user-guide/troubleshooting/fuse.html","title":"FUSE problem launching app in linux with java","body":"<p>You are missing <code>libfuse2</code>. Try the following command:<br />\n<code>sudo apt install libfuse2</code></p>\n<p>For more information, refer to <a href=\"https://docs.appimage.org/user-guide/troubleshooting/fuse.html\" rel=\"nofollow noreferrer\">https://docs.appimage.org/user-guide/troubleshooting/fuse.html</a></p>\n"}],"owner":{"account_id":20974123,"reputation":25,"user_id":15410598,"display_name":"Amedeo Braggio"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":479,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1691442761,"creation_date":1653633121,"question_id":72401348,"body_markdown":"Hi i&#39;m tring to launch software from java in linux, but i recive this error for appimage:\r\ndlopen(): error loading libfuse.so.2\r\n\r\nAppImages require FUSE to run. \r\nYou might still be able to extract the contents of this AppImage \r\nif you run it with the --appimage-extract option. \r\nSee https://github.com/AppImage/AppImageKit/wiki/FUSE \r\nfor more information\r\n\r\n\r\nthis is the code:\r\n\r\n```\r\npublic void execAltern(){\r\n        processBuilder = new ProcessBuilder();\r\n        String exec = &quot;&quot;;\r\n        exec = DefaultLaunchExec.defaultLaunch.get(app.getExecProgram())+ app.getExecPath();\r\n        \r\n        processBuilder.command(&quot;/bin/bash&quot;,&quot;-c&quot;,exec); // exec is the path of the file \r\n        System.out.println(&quot;\\n&quot;+processBuilder.command());\r\n        \r\n        try {\r\n\r\n\t\tprocess = processBuilder.inheritIO().start();\r\n                \r\n\t\tStringBuilder output = new StringBuilder();\r\n\r\n\t\tBufferedReader reader = new BufferedReader(\r\n\t\t\t\tnew InputStreamReader(process.getInputStream()));\r\n\r\n\t\tString line;\r\n\t\twhile ((line = reader.readLine()) != null) {\r\n\t\t\toutput.append(line + &quot;\\n&quot;);\r\n                        System.out.println(line);\r\n\t\t}\r\n\r\n\t} catch (IOException e) {\r\n            System.out.println(e);\r\n\t}\r\n        \r\n        DefaultLaunchExec.appRunning.remove(this);\r\n    }\r\n```","title":"FUSE problem launching app in linux with java","body":"<p>Hi i'm tring to launch software from java in linux, but i recive this error for appimage:\ndlopen(): error loading libfuse.so.2</p>\n<p>AppImages require FUSE to run.\nYou might still be able to extract the contents of this AppImage\nif you run it with the --appimage-extract option.\nSee <a href=\"https://github.com/AppImage/AppImageKit/wiki/FUSE\" rel=\"nofollow noreferrer\">https://github.com/AppImage/AppImageKit/wiki/FUSE</a>\nfor more information</p>\n<p>this is the code:</p>\n<pre><code>public void execAltern(){\n        processBuilder = new ProcessBuilder();\n        String exec = &quot;&quot;;\n        exec = DefaultLaunchExec.defaultLaunch.get(app.getExecProgram())+ app.getExecPath();\n        \n        processBuilder.command(&quot;/bin/bash&quot;,&quot;-c&quot;,exec); // exec is the path of the file \n        System.out.println(&quot;\\n&quot;+processBuilder.command());\n        \n        try {\n\n        process = processBuilder.inheritIO().start();\n                \n        StringBuilder output = new StringBuilder();\n\n        BufferedReader reader = new BufferedReader(\n                new InputStreamReader(process.getInputStream()));\n\n        String line;\n        while ((line = reader.readLine()) != null) {\n            output.append(line + &quot;\\n&quot;);\n                        System.out.println(line);\n        }\n\n    } catch (IOException e) {\n            System.out.println(e);\n    }\n        \n        DefaultLaunchExec.appRunning.remove(this);\n    }\n</code></pre>\n"},{"tags":["java","jenkins","pom.xml","build-automation"],"owner":{"account_id":7310059,"reputation":31,"user_id":5569621,"accept_rate":0,"display_name":"greatsoccerman1"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691442638,"creation_date":1691442638,"question_id":76855193,"body_markdown":"I have a few jobs in Jenkins - Jobs A,B and C. \r\n\r\nA - is the version file. In the pom.xml there are versions for all the files.\r\n\r\nB &amp; C - other projects. In jenkins they are set up as a dependency for A. So after A is built B and C will be built. \r\n\r\n\r\n    **A set up**\r\n    &lt;version&gt;2023Sep.0&lt;version&gt;\r\n    &lt;properties&gt;\r\n       &lt;B&gt;1.1.0&lt;/B&gt;\r\n       &lt;c&gt;1.2.0&lt;/C&gt;\r\n     &lt;/properties&gt; \r\n\r\n\r\n\r\n\r\n    **B and C set up**\r\n    &lt;version&gt;2023Sep.0&lt;/version&gt;\r\n\r\n\r\n\r\nAll the projects have a pom.xml file. Now I need to update files. First i want to update project A . The version has change for &#39;A&#39; and the version for &#39;B&#39; has changed. \r\n\r\n    **&#39;A&#39; set up**\r\n    &lt;version&gt;2023Oct.0&lt;version&gt;\r\n    &lt;properties&gt;\r\n       &lt;B&gt;1.2.0&lt;/B&gt;\r\n       &lt;c&gt;1.2.0&lt;/C&gt;\r\n     &lt;/properties&gt; \r\n\r\n\r\nSince &#39;B&#39; was changed &#39;B&#39;s version in its pom.xml needs to change. It needs to become \r\n```&lt;version&gt;2023Oct.0&lt;/version&gt;```\r\n\r\n\r\nIs there a way to do this through Jenkins. These are freestyle jobs its not a pipeline. I could do it through code but I was hoping there would be an easier way through Jenkins.\r\n\r\nCan this happen??\r\n\r\n\r\n\r\nOptional\r\n\r\nHere would be the perfect way for this to work. \r\n1) project A pom file is updated and Jenkins job is enabled.\r\n2) other projects pom.xml files are updated \r\n3) PR are opened to update those pom files\r\n4) once PR has enough approvals Jenkins automatically enables jobs for those projects and builds them.\r\n\r\n\r\n","title":"How do update maven dependencies in Jenkins","body":"<p>I have a few jobs in Jenkins - Jobs A,B and C.</p>\n<p>A - is the version file. In the pom.xml there are versions for all the files.</p>\n<p>B &amp; C - other projects. In jenkins they are set up as a dependency for A. So after A is built B and C will be built.</p>\n<pre><code>**A set up**\n&lt;version&gt;2023Sep.0&lt;version&gt;\n&lt;properties&gt;\n   &lt;B&gt;1.1.0&lt;/B&gt;\n   &lt;c&gt;1.2.0&lt;/C&gt;\n &lt;/properties&gt; \n\n\n\n\n**B and C set up**\n&lt;version&gt;2023Sep.0&lt;/version&gt;\n</code></pre>\n<p>All the projects have a pom.xml file. Now I need to update files. First i want to update project A . The version has change for 'A' and the version for 'B' has changed.</p>\n<pre><code>**'A' set up**\n&lt;version&gt;2023Oct.0&lt;version&gt;\n&lt;properties&gt;\n   &lt;B&gt;1.2.0&lt;/B&gt;\n   &lt;c&gt;1.2.0&lt;/C&gt;\n &lt;/properties&gt; \n</code></pre>\n<p>Since 'B' was changed 'B's version in its pom.xml needs to change. It needs to become\n<code>&lt;version&gt;2023Oct.0&lt;/version&gt;</code></p>\n<p>Is there a way to do this through Jenkins. These are freestyle jobs its not a pipeline. I could do it through code but I was hoping there would be an easier way through Jenkins.</p>\n<p>Can this happen??</p>\n<p>Optional</p>\n<p>Here would be the perfect way for this to work.</p>\n<ol>\n<li>project A pom file is updated and Jenkins job is enabled.</li>\n<li>other projects pom.xml files are updated</li>\n<li>PR are opened to update those pom files</li>\n<li>once PR has enough approvals Jenkins automatically enables jobs for those projects and builds them.</li>\n</ol>\n"},{"tags":["java","android","react-native","wallpapermanager"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1687537952,"post_id":76541949,"comment_id":134956100,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"answers":[{"tags":[],"owner":{"account_id":17871374,"reputation":54,"user_id":13710832,"display_name":"Natan Santos"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691442529,"creation_date":1691430883,"answer_id":76854095,"question_id":76541949,"body_markdown":"You can use [this lib](https://github.com/natanfeitosa/rn-wallpapers) that I released a few days ago.\r\n\r\nIt supports setting wallpaper on different screens.\r\n\r\nTo find out if the device allows you to configure which screen you want it on, you can call the following function\r\n\r\n```js\r\nimport { canChooseTypeScreen } from &#39;rn-wallpapers&#39;\r\n\r\ncanChooseTypeScreen()\r\n```","title":"How to set Wallpaper on diffrent screens of devices like home screen , lock screen?","body":"<p>You can use <a href=\"https://github.com/natanfeitosa/rn-wallpapers\" rel=\"nofollow noreferrer\">this lib</a> that I released a few days ago.</p>\n<p>It supports setting wallpaper on different screens.</p>\n<p>To find out if the device allows you to configure which screen you want it on, you can call the following function</p>\n<pre class=\"lang-js prettyprint-override\"><code>import { canChooseTypeScreen } from 'rn-wallpapers'\n\ncanChooseTypeScreen()\n</code></pre>\n"}],"owner":{"account_id":28754254,"reputation":1,"user_id":22021599,"display_name":"PRATIK SHARMA"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691442529,"creation_date":1687537615,"question_id":76541949,"body_markdown":"I am making a wallpaper app using React-Native and I have used the `liuhong1happy/react-native-wallpaper-manager` package in that we can set only wallpaper to the home screen so I made slightly changes in this package at the WallpaperManager.java file but I am getting this error \r\n\r\n`E:\\Wallpaper\\node_modules\\react-native-wallpaper-manager\\android\\src\\main\\java\\com\\cunyutech\\hollyliu\\reactnative\\wallpaper\\WallPaperManager.java:149: error: cannot find symbol\r\n                wallpaperManager.setBitmap(mBitmap, null, true, WallpaperManager.FLAG_LOCK);\r\n                                                                                ^\r\n  symbol:   variable FLAG_LOCK\r\n  location: class WallpaperManager`\r\n\r\nThis is my WallpaperManager.java file :\r\n\r\n```\r\n\r\n     @ReactMethod\r\n    public void setWallpaper(final ReadableMap params, Callback callback){\r\n\r\n        final String source = params.hasKey(&quot;uri&quot;) ? params.getString(&quot;uri&quot;) : null;\r\n        final String screen = params.hasKey(&quot;screen&quot;) ? params.getString(&quot;screen&quot;) : null;\r\n        ReadableMap headers = params.hasKey(&quot;headers&quot;) ? params.getMap(&quot;headers&quot;) : null;\r\n\r\n        if(rctCallback!=null){\r\n            WritableMap map = Arguments.createMap();\r\n\r\n            map.putString(&quot;status&quot;, &quot;error&quot;);\r\n            map.putString(&quot;msg&quot;, &quot;busy&quot;);\r\n            map.putString(&quot;url&quot;,source);\r\n            callback.invoke(map);\r\n            return;\r\n        }\r\n\r\n        rctCallback = callback;\r\n        rctParams = params;\r\n\r\n        final SimpleTarget&lt;byte[]&gt; simpleTarget = this.getSimpleTarget(source,screen);\r\n        mCurrentActivity = getCurrentActivity();\r\n        if(mCurrentActivity==null){\r\n            sendMessage(&quot;error&quot;,&quot;CurrentActivity is null&quot;,source);\r\n        }\r\n\r\n        //handle base64\r\n        if (&quot;data:image/png;base64,&quot;.startsWith(source)){\r\n            mCurrentActivity.runOnUiThread(new Runnable() {\r\n                public void run() {\r\n                    ThreadUtil.assertMainThread();\r\n                    try{\r\n                        Glide\r\n                            .with(mApplicationContext)\r\n                            .load(Base64.decode(source.replaceAll(&quot;data:image\\\\/.*;base64,&quot;, &quot;&quot;), Base64.DEFAULT))\r\n                            .asBitmap()\r\n                            .toBytes()\r\n                            .centerCrop()\r\n                            .into(simpleTarget);\r\n                    }catch (Exception e) {\r\n                        sendMessage(&quot;error&quot;,&quot;Exception in Glide：&quot; + e.getMessage(),source);\r\n                    }\r\n                }\r\n            });\r\n\r\n            return;\r\n        }\r\n\r\n        boolean useStorageFile = false ;\r\n\r\n        // handle bundled app resources\r\n        try {\r\n            mUri = Uri.parse(source);\r\n            // Verify scheme is set, so that relative uri (used by static resources) are not handled.\r\n            if (mUri.getScheme() == null) {\r\n                mUri = null;\r\n            } else if(\r\n                    !mUri.getScheme().equals(&quot;http&quot;) &amp;&amp;\r\n                            !mUri.getScheme().equals(&quot;https&quot;)\r\n                    ){\r\n                useStorageFile = true;\r\n            }\r\n        } catch (Exception e) {\r\n            // ignore malformed uri, then attempt to extract resource ID.\r\n        }\r\n\r\n        if (mUri == null) {\r\n            ImageSource is = new ImageSource(this.getReactApplicationContext(),source);\r\n            if (is.isResource()) {\r\n        int resId = mResourceDrawableIdHelper.getInstance().getResourceDrawableId(this.getReactApplicationContext(), source);\r\n        Bitmap mBitmap = BitmapFactory.decodeResource(this.getReactApplicationContext().getResources(), resId);\r\n        WallpaperManager wallpaperManager = WallpaperManager.getInstance(mApplicationContext);\r\n        try {\r\n            \r\n\r\n            if (screen.equals(&quot;lock&quot;)) {\r\n                wallpaperManager.setBitmap(mBitmap, null, true, WallpaperManager.FLAG_LOCK);\r\n            } else if (screen.equals(&quot;home&quot;)) {\r\n                wallpaperManager.setBitmap(mBitmap, null, true, WallpaperManager.FLAG_SYSTEM);\r\n            } else if (screen.equals(&quot;both&quot;)) {\r\n                wallpaperManager.setBitmap(mBitmap);\r\n            }\r\n\r\n            sendMessage(&quot;success&quot;, &quot;Set Wallpaper Success&quot;, source);\r\n        } catch (Exception e) {\r\n            sendMessage(&quot;error&quot;, &quot;Exception in SimpleTarget: &quot; + e.getMessage(), source);\r\n            return;\r\n        }\r\n        return;\r\n    }\r\n\r\n            mUri = is.getUri();\r\n            mCurrentActivity.runOnUiThread(new Runnable() {\r\n                public void run() {\r\n                    ThreadUtil.assertMainThread();\r\n                    try{\r\n                        Glide\r\n                            .with(mApplicationContext)\r\n                            .load(mUri)\r\n                            .asBitmap()\r\n                            .toBytes()\r\n                            .centerCrop()\r\n                            .into(simpleTarget);\r\n                    }catch (Exception e) {\r\n                        sendMessage(&quot;error&quot;,&quot;Exception in Glide：&quot; + e.getMessage(),source);\r\n                    }\r\n                }\r\n            });\r\n        } else if (useStorageFile) {\r\n            mCurrentActivity.runOnUiThread(new Runnable() {\r\n                public void run() {\r\n                    ThreadUtil.assertMainThread();\r\n                    try{\r\n                        Glide\r\n                            .with(mApplicationContext)\r\n                            .load(mUri)\r\n                            .asBitmap()\r\n                            .toBytes()\r\n                            .centerCrop()\r\n                            .into(simpleTarget);\r\n                    }catch (Exception e) {\r\n                        sendMessage(&quot;error&quot;,&quot;Exception in Glide：&quot; + e.getMessage(),source);\r\n                    }\r\n                }\r\n            });\r\n        } else {\r\n            // Handle an http / https address\r\n            final LazyHeaders.Builder lazyHeaders = new LazyHeaders.Builder();\r\n\r\n            if(headers != null){\r\n                ReadableMapKeySetIterator it = headers.keySetIterator();\r\n                Log.d(&quot;next headers&quot;, String.valueOf(it.hasNextKey()));\r\n                while(it.hasNextKey()){\r\n                    String Key = it.nextKey();\r\n                    lazyHeaders.addHeader(Key, headers.getString(Key));\r\n                }\r\n            }\r\n            mCurrentActivity.runOnUiThread(new Runnable() {\r\n                public void run() {\r\n                    ThreadUtil.assertMainThread();\r\n                    try{\r\n                        Glide\r\n                            .with(mApplicationContext)\r\n                            .load(new GlideUrl(mUri.toString(), lazyHeaders.build()))\r\n                            .asBitmap()\r\n                            .toBytes()\r\n                            .centerCrop()\r\n                            .into(simpleTarget);\r\n                    }catch (Exception e) {\r\n                        sendMessage(&quot;error&quot;,&quot;Exception in Glide：&quot; + e.getMessage(),source);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    private SimpleTarget&lt;byte[]&gt; getSimpleTarget(final String source, final String screen){\r\n        return new SimpleTarget&lt;byte[]&gt;(1080, 1920){\r\n            @Override\r\n            public void onResourceReady(byte[] resource, GlideAnimation&lt;? super byte[]&gt; glideAnimation) {\r\n                Bitmap bitmap = BitmapFactory.decodeByteArray(resource, 0, resource.length);\r\n                WallpaperManager wallpaperManager = WallpaperManager.getInstance(mApplicationContext);\r\n                try\r\n                {\r\n                    if(screen.equals(&quot;lock&quot;)){\r\n                        wallpaperManager.setBitmap(bitmap, null, true, WallpaperManager.FLAG_LOCK);\r\n                    } else if(screen.equals(&quot;home&quot;)){\r\n                        wallpaperManager.setBitmap(bitmap, null, true, WallpaperManager.FLAG_SYSTEM);\r\n                    } else if(screen.equals(&quot;both&quot;)){\r\n                        wallpaperManager.setBitmap(bitmap);\r\n                    }\r\n                    sendMessage(&quot;success&quot;,&quot;Set Wallpaper Success&quot;,source);\r\n                }\r\n                catch (Exception e)\r\n                {\r\n                    sendMessage(&quot;error&quot;,&quot;Exception in SimpleTarget：&quot; + e.getMessage(),source);\r\n                    return;\r\n                }\r\n            }\r\n\r\n            @Override\r\npublic void onLoadFailed(Exception e, Drawable errorDrawable) {\r\n    if (e != null) {\r\n        sendMessage(&quot;error&quot;, &quot;Set Wallpaper Failed: &quot; + e.getMessage(), source);\r\n    } else {\r\n        sendMessage(&quot;error&quot;, &quot;Set Wallpaper Failed&quot;, source);\r\n    }\r\n}\r\n\r\n        };\r\n    }\r\n};\r\n\r\n```\r\nand this is its index.js file \r\n\r\n\r\n```\r\nimport { \r\n    NativeModules,\r\n    Image\r\n} from &#39;react-native&#39;;\r\n\r\nmodule.exports = {\r\n    setWallpaper: (source,callback = (res)=&gt;{}) =&gt;{\r\n        NativeModules.WallPaperManager.setWallpaper(Image.resolveAssetSource(source),callback);\r\n    }\r\n} ;\r\n```\r\n","title":"How to set Wallpaper on diffrent screens of devices like home screen , lock screen?","body":"<p>I am making a wallpaper app using React-Native and I have used the <code>liuhong1happy/react-native-wallpaper-manager</code> package in that we can set only wallpaper to the home screen so I made slightly changes in this package at the WallpaperManager.java file but I am getting this error</p>\n<p><code>E:\\Wallpaper\\node_modules\\react-native-wallpaper-manager\\android\\src\\main\\java\\com\\cunyutech\\hollyliu\\reactnative\\wallpaper\\WallPaperManager.java:149: error: cannot find symbol wallpaperManager.setBitmap(mBitmap, null, true, WallpaperManager.FLAG_LOCK); ^ symbol:   variable FLAG_LOCK location: class WallpaperManager</code></p>\n<p>This is my WallpaperManager.java file :</p>\n<pre><code>\n     @ReactMethod\n    public void setWallpaper(final ReadableMap params, Callback callback){\n\n        final String source = params.hasKey(&quot;uri&quot;) ? params.getString(&quot;uri&quot;) : null;\n        final String screen = params.hasKey(&quot;screen&quot;) ? params.getString(&quot;screen&quot;) : null;\n        ReadableMap headers = params.hasKey(&quot;headers&quot;) ? params.getMap(&quot;headers&quot;) : null;\n\n        if(rctCallback!=null){\n            WritableMap map = Arguments.createMap();\n\n            map.putString(&quot;status&quot;, &quot;error&quot;);\n            map.putString(&quot;msg&quot;, &quot;busy&quot;);\n            map.putString(&quot;url&quot;,source);\n            callback.invoke(map);\n            return;\n        }\n\n        rctCallback = callback;\n        rctParams = params;\n\n        final SimpleTarget&lt;byte[]&gt; simpleTarget = this.getSimpleTarget(source,screen);\n        mCurrentActivity = getCurrentActivity();\n        if(mCurrentActivity==null){\n            sendMessage(&quot;error&quot;,&quot;CurrentActivity is null&quot;,source);\n        }\n\n        //handle base64\n        if (&quot;data:image/png;base64,&quot;.startsWith(source)){\n            mCurrentActivity.runOnUiThread(new Runnable() {\n                public void run() {\n                    ThreadUtil.assertMainThread();\n                    try{\n                        Glide\n                            .with(mApplicationContext)\n                            .load(Base64.decode(source.replaceAll(&quot;data:image\\\\/.*;base64,&quot;, &quot;&quot;), Base64.DEFAULT))\n                            .asBitmap()\n                            .toBytes()\n                            .centerCrop()\n                            .into(simpleTarget);\n                    }catch (Exception e) {\n                        sendMessage(&quot;error&quot;,&quot;Exception in Glide：&quot; + e.getMessage(),source);\n                    }\n                }\n            });\n\n            return;\n        }\n\n        boolean useStorageFile = false ;\n\n        // handle bundled app resources\n        try {\n            mUri = Uri.parse(source);\n            // Verify scheme is set, so that relative uri (used by static resources) are not handled.\n            if (mUri.getScheme() == null) {\n                mUri = null;\n            } else if(\n                    !mUri.getScheme().equals(&quot;http&quot;) &amp;&amp;\n                            !mUri.getScheme().equals(&quot;https&quot;)\n                    ){\n                useStorageFile = true;\n            }\n        } catch (Exception e) {\n            // ignore malformed uri, then attempt to extract resource ID.\n        }\n\n        if (mUri == null) {\n            ImageSource is = new ImageSource(this.getReactApplicationContext(),source);\n            if (is.isResource()) {\n        int resId = mResourceDrawableIdHelper.getInstance().getResourceDrawableId(this.getReactApplicationContext(), source);\n        Bitmap mBitmap = BitmapFactory.decodeResource(this.getReactApplicationContext().getResources(), resId);\n        WallpaperManager wallpaperManager = WallpaperManager.getInstance(mApplicationContext);\n        try {\n            \n\n            if (screen.equals(&quot;lock&quot;)) {\n                wallpaperManager.setBitmap(mBitmap, null, true, WallpaperManager.FLAG_LOCK);\n            } else if (screen.equals(&quot;home&quot;)) {\n                wallpaperManager.setBitmap(mBitmap, null, true, WallpaperManager.FLAG_SYSTEM);\n            } else if (screen.equals(&quot;both&quot;)) {\n                wallpaperManager.setBitmap(mBitmap);\n            }\n\n            sendMessage(&quot;success&quot;, &quot;Set Wallpaper Success&quot;, source);\n        } catch (Exception e) {\n            sendMessage(&quot;error&quot;, &quot;Exception in SimpleTarget: &quot; + e.getMessage(), source);\n            return;\n        }\n        return;\n    }\n\n            mUri = is.getUri();\n            mCurrentActivity.runOnUiThread(new Runnable() {\n                public void run() {\n                    ThreadUtil.assertMainThread();\n                    try{\n                        Glide\n                            .with(mApplicationContext)\n                            .load(mUri)\n                            .asBitmap()\n                            .toBytes()\n                            .centerCrop()\n                            .into(simpleTarget);\n                    }catch (Exception e) {\n                        sendMessage(&quot;error&quot;,&quot;Exception in Glide：&quot; + e.getMessage(),source);\n                    }\n                }\n            });\n        } else if (useStorageFile) {\n            mCurrentActivity.runOnUiThread(new Runnable() {\n                public void run() {\n                    ThreadUtil.assertMainThread();\n                    try{\n                        Glide\n                            .with(mApplicationContext)\n                            .load(mUri)\n                            .asBitmap()\n                            .toBytes()\n                            .centerCrop()\n                            .into(simpleTarget);\n                    }catch (Exception e) {\n                        sendMessage(&quot;error&quot;,&quot;Exception in Glide：&quot; + e.getMessage(),source);\n                    }\n                }\n            });\n        } else {\n            // Handle an http / https address\n            final LazyHeaders.Builder lazyHeaders = new LazyHeaders.Builder();\n\n            if(headers != null){\n                ReadableMapKeySetIterator it = headers.keySetIterator();\n                Log.d(&quot;next headers&quot;, String.valueOf(it.hasNextKey()));\n                while(it.hasNextKey()){\n                    String Key = it.nextKey();\n                    lazyHeaders.addHeader(Key, headers.getString(Key));\n                }\n            }\n            mCurrentActivity.runOnUiThread(new Runnable() {\n                public void run() {\n                    ThreadUtil.assertMainThread();\n                    try{\n                        Glide\n                            .with(mApplicationContext)\n                            .load(new GlideUrl(mUri.toString(), lazyHeaders.build()))\n                            .asBitmap()\n                            .toBytes()\n                            .centerCrop()\n                            .into(simpleTarget);\n                    }catch (Exception e) {\n                        sendMessage(&quot;error&quot;,&quot;Exception in Glide：&quot; + e.getMessage(),source);\n                    }\n                }\n            });\n        }\n    }\n\n    private SimpleTarget&lt;byte[]&gt; getSimpleTarget(final String source, final String screen){\n        return new SimpleTarget&lt;byte[]&gt;(1080, 1920){\n            @Override\n            public void onResourceReady(byte[] resource, GlideAnimation&lt;? super byte[]&gt; glideAnimation) {\n                Bitmap bitmap = BitmapFactory.decodeByteArray(resource, 0, resource.length);\n                WallpaperManager wallpaperManager = WallpaperManager.getInstance(mApplicationContext);\n                try\n                {\n                    if(screen.equals(&quot;lock&quot;)){\n                        wallpaperManager.setBitmap(bitmap, null, true, WallpaperManager.FLAG_LOCK);\n                    } else if(screen.equals(&quot;home&quot;)){\n                        wallpaperManager.setBitmap(bitmap, null, true, WallpaperManager.FLAG_SYSTEM);\n                    } else if(screen.equals(&quot;both&quot;)){\n                        wallpaperManager.setBitmap(bitmap);\n                    }\n                    sendMessage(&quot;success&quot;,&quot;Set Wallpaper Success&quot;,source);\n                }\n                catch (Exception e)\n                {\n                    sendMessage(&quot;error&quot;,&quot;Exception in SimpleTarget：&quot; + e.getMessage(),source);\n                    return;\n                }\n            }\n\n            @Override\npublic void onLoadFailed(Exception e, Drawable errorDrawable) {\n    if (e != null) {\n        sendMessage(&quot;error&quot;, &quot;Set Wallpaper Failed: &quot; + e.getMessage(), source);\n    } else {\n        sendMessage(&quot;error&quot;, &quot;Set Wallpaper Failed&quot;, source);\n    }\n}\n\n        };\n    }\n};\n\n</code></pre>\n<p>and this is its index.js file</p>\n<pre><code>import { \n    NativeModules,\n    Image\n} from 'react-native';\n\nmodule.exports = {\n    setWallpaper: (source,callback = (res)=&gt;{}) =&gt;{\n        NativeModules.WallPaperManager.setWallpaper(Image.resolveAssetSource(source),callback);\n    }\n} ;\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-integration"],"comments":[{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1476792576,"post_id":40105406,"comment_id":67486962,"body_markdown":"Turn on DEBUG logging to observe the watch events.","body":"Turn on DEBUG logging to observe the watch events."}],"answers":[{"comments":[{"owner":{"account_id":1090931,"reputation":2195,"user_id":1085586,"accept_rate":32,"display_name":"Panciz"},"score":0,"creation_date":1476809229,"post_id":40109420,"comment_id":67499009,"body_markdown":"Yes I releaze it is odd but I&#39;m planning to use this code at runtime .","body":"Yes I releaze it is odd but I&#39;m planning to use this code at runtime ."},{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1476809391,"post_id":40109420,"comment_id":67499092,"body_markdown":"Well, for runtime there are a lot to do... Consider to study Spring Integration Java DSL `IntegrationFlowContext` feature: https://spring.io/blog/2016/10/14/java-dsl-for-spring-integration-1-2-release-is-available. Just read all the related blogs post about new features. Also take a look into sample https://github.com/spring-projects/spring-integration-samples/tree/master/advanced/dynamic-tcp-client","body":"Well, for runtime there are a lot to do... Consider to study Spring Integration Java DSL <code>IntegrationFlowContext</code> feature: <a href=\"https://spring.io/blog/2016/10/14/java-dsl-for-spring-integration-1-2-release-is-available\" rel=\"nofollow noreferrer\">spring.io/blog/2016/10/14/&hellip;</a>. Just read all the related blogs post about new features. Also take a look into sample <a href=\"https://github.com/spring-projects/spring-integration-samples/tree/master/advanced/dynamic-tcp-client\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-integration-samples/tree/&hellip;</a>"}],"tags":[],"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1691442041,"creation_date":1476796725,"answer_id":40109420,"question_id":40105406,"body_markdown":"I don&#39;t see polling code in your configuration, but I wonder if you have anything else there:\r\n\r\n1. You have to use `@EnableIntegration`\r\n2. The `SourcePollingChannelAdapter` should be supplied with the `PollerMetadata`\r\n3. Or just consider to use `@InboundChannelAdapter` (See [Reference Manual][1])\r\n4. It is really looks odd to use `context.getBean()` during bean definition. You should use *injection* there. The former is for runtime and not for initialization phase.\r\n\r\n**EDIT**\r\n\r\nSpring Integration Java DSL sample:\r\n\r\n    @SpringBootApplication\r\n    public class FileChangeLineSeparator {\r\n    \r\n    \tpublic static void main(String[] args) throws Exception {\r\n    \t\tConfigurableApplicationContext context = new SpringApplicationBuilder(FileChangeLineSeparator.class)\r\n    \t\t\t\t.web(false)\r\n    \t\t\t\t.run(args);\r\n    \t\tSystem.out.println(&quot;Put a windows file with a .txt extension in /tmp/in,&quot;\r\n    \t\t\t\t+ &quot;\\nthe file will be converted to Un*x and placed in&quot;\r\n    \t\t\t\t+ &quot;\\n/tmp/out&quot;\r\n    \t\t\t\t+ &quot;\\n\\nHit enter to terminate&quot;);\r\n    \t\tSystem.in.read();\r\n    \t\tcontext.close();\r\n    \t}\r\n    \r\n    @Bean\r\n\t@InboundChannelAdapter(value = &quot;channel&quot;, poller = @Poller(fixedDelay = &quot;1000&quot;))\r\n\tpublic FileReadingMessageSource getFileMessageSource() {\r\n\t\tFileReadingMessageSource lm = new FileReadingMessageSource();\r\n\t\tlm.setDirectory(new File(&quot;/tmp/in&quot;));\r\n\t\tlm.setFilter(new AcceptAllFileListFilter&lt;&gt;());\r\n\t\tlm.setUseWatchService(true);\r\n\t\tlm.setWatchEvents(FileReadingMessageSource.WatchEventType.CREATE);\r\n\t\treturn lm;\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic IntegrationFlow fileToFile() {\r\n\t\treturn IntegrationFlows.from(&quot;channel&quot;)    \t\t\t\t\r\n                    .transform(Transformers.fileToString())\r\n    \t\t\t\t.transform(&quot;payload.replaceAll(&#39;\\r\\n&#39;, &#39;\\n&#39;)&quot;)\r\n    \t\t\t\t.handle(Files.outboundAdapter(&quot;&#39;/tmp/out&#39;&quot;)\r\n    \t\t\t\t\t\t.autoCreateDirectory(true))\r\n    \t\t\t\t.get();\r\n    \t}\r\n    \r\n    }\r\n\r\nI have created new files eventually and they are picked up properly and processed.\r\n\r\n  [1]: http://docs.spring.io/spring-integration/docs/4.3.4.RELEASE/reference/html/files.html#_configuring_with_java_configuration_8\r\n","title":"Spring Integration FileReadingMessageSource use UseWatchService","body":"<p>I don't see polling code in your configuration, but I wonder if you have anything else there:</p>\n<ol>\n<li>You have to use <code>@EnableIntegration</code></li>\n<li>The <code>SourcePollingChannelAdapter</code> should be supplied with the <code>PollerMetadata</code></li>\n<li>Or just consider to use <code>@InboundChannelAdapter</code> (See <a href=\"http://docs.spring.io/spring-integration/docs/4.3.4.RELEASE/reference/html/files.html#_configuring_with_java_configuration_8\" rel=\"nofollow noreferrer\">Reference Manual</a>)</li>\n<li>It is really looks odd to use <code>context.getBean()</code> during bean definition. You should use <em>injection</em> there. The former is for runtime and not for initialization phase.</li>\n</ol>\n<p><strong>EDIT</strong></p>\n<p>Spring Integration Java DSL sample:</p>\n<pre><code>@SpringBootApplication\npublic class FileChangeLineSeparator {\n\n    public static void main(String[] args) throws Exception {\n        ConfigurableApplicationContext context = new SpringApplicationBuilder(FileChangeLineSeparator.class)\n                .web(false)\n                .run(args);\n        System.out.println(&quot;Put a windows file with a .txt extension in /tmp/in,&quot;\n                + &quot;\\nthe file will be converted to Un*x and placed in&quot;\n                + &quot;\\n/tmp/out&quot;\n                + &quot;\\n\\nHit enter to terminate&quot;);\n        System.in.read();\n        context.close();\n    }\n\n@Bean\n@InboundChannelAdapter(value = &quot;channel&quot;, poller = @Poller(fixedDelay = &quot;1000&quot;))\npublic FileReadingMessageSource getFileMessageSource() {\n    FileReadingMessageSource lm = new FileReadingMessageSource();\n    lm.setDirectory(new File(&quot;/tmp/in&quot;));\n    lm.setFilter(new AcceptAllFileListFilter&lt;&gt;());\n    lm.setUseWatchService(true);\n    lm.setWatchEvents(FileReadingMessageSource.WatchEventType.CREATE);\n    return lm;\n}\n\n@Bean\npublic IntegrationFlow fileToFile() {\n    return IntegrationFlows.from(&quot;channel&quot;)                 \n                .transform(Transformers.fileToString())\n                .transform(&quot;payload.replaceAll('\\r\\n', '\\n')&quot;)\n                .handle(Files.outboundAdapter(&quot;'/tmp/out'&quot;)\n                        .autoCreateDirectory(true))\n                .get();\n    }\n\n}\n</code></pre>\n<p>I have created new files eventually and they are picked up properly and processed.</p>\n"},{"tags":[],"owner":{"account_id":1090931,"reputation":2195,"user_id":1085586,"accept_rate":32,"display_name":"Panciz"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1480608194,"creation_date":1478272562,"answer_id":40426128,"question_id":40105406,"body_markdown":"Even if  @Artem Bilan answer was very useful (that&#39;s why I accepted it) I post my own answer to show my final solution.\r\n\r\nThis is the [complete example](https://github.com/Panciz/springint-dirmonitor)\r\n\r\nI had to monitor a directory and create a message every time a file is modified.\r\nI use Spring ESB `FileReadingMessageSource`.\r\nMoreover I had to instantiate all the components at runtime, for this reason I used  Spring Integration Java DSL `IntegrationFlowContext`.\r\n\r\n\r\nThis is how I intitiated the Source at run time (the message are sent to an `&quot;output&quot;` channel).\r\n\r\n    \t@Autowired\r\n    \tprivate IntegrationFlowContext intContext;\r\n    \r\n    public void initDispatcher(String name,Long pollingFreq) throws HandlerConfigurationException {\r\n    \t\tlogger.info(&quot;Source &quot;+ name +&quot; Inizializing&quot;);\r\n    \r\n    \t\t\r\n    \t\tIntegrationFlow sourceModifiedFlow = IntegrationFlows\r\n    \t\t\t\t.from(this.getFileModifiedMessageSource(), s -&gt; s.poller(Pollers.fixedRate(pollingFreq, TimeUnit.MILLISECONDS)))\r\n    \t\t\t\t.channel(&quot;outputChannel&quot;).get();\r\n    \t\tintContext.registration(sourceModifiedFlow).id(name)).autoStartup(true).register();\r\n    \t}\r\n\r\nThis is how I create the actual `FileReader`.\r\n\r\n     public FileReadingMessageSource getFileModifiedMessageSource() {\r\n        \t\tFileReadingMessageSource lm = new FileReadingMessageSource();\r\n        \t\tlm.setBeanName(String.format(SOURCE_MODIFIED_SUFFIX, name));\r\n        \t\tlm.setDirectory(new File(readingDir));\r\n        \t    ModifiedOnlyFileScanner modifiedOnlyFileScanner = new ModifiedOnlyFileScanner(new File(readingDir));\r\n        \t    modifiedOnlyFileScanner.setFilter(new AcceptAllFileListFilter&lt;&gt;());\r\n        \t\tlm.setScanner(modifiedOnlyFileScanner);\r\n        \r\n        \t    return lm;\r\n        \t}\r\n\r\n The default file scanner (`org.springframework.integration.file.FileReadingMessageSource.WatchServiceDirectoryScanner`) was not good for me. Mainly for two reason:\r\n\r\n1.  at startup generate a message for each file present in the directory \r\n2.  even if I configured the reader with `fileReadSource.setWatchEvents(WatchEventType.MODIFY);` , the source dispatch a message also when a new file is created into to the directory.\r\n\r\nSo I end up writing my own scanner. This is the complete code:\r\n\r\n   \r\n    \r\n    public class ModifiedOnlyFileScanner extends DefaultDirectoryScanner implements Lifecycle {\r\n    \tprivate final static Logger logger = LogManager.getLogger(FileDispatcher.class);\r\n    \r\n    \t\r\n    \tprivate final ConcurrentMap&lt;Path, WatchKey&gt; pathKeys = new ConcurrentHashMap&lt;Path, WatchKey&gt;();\r\n    \r\n    \tprivate WatchService watcher;\r\n        \r\n    \tprivate WatchEvent.Kind&lt;?&gt;[] kinds;\r\n    \r\n    \tprivate File directory;\r\n    \t\r\n    \t@Override\r\n    \tpublic void start() {\r\n    \t\ttry {\r\n    \t\t\tthis.watcher = FileSystems.getDefault().newWatchService();\r\n    \t\t}\r\n    \t\tcatch (IOException e) {\r\n    \t\t\tlogger.error(&quot;Failed to create watcher for &quot; + directory, e);\r\n    \t\t}\r\n    \r\n    \t\tthis.kinds = new WatchEvent.Kind&lt;?&gt;[]{StandardWatchEventKinds.ENTRY_MODIFY};\r\n    \t\twalkDirectory(directory.toPath(), null);\r\n\r\n    \t}\r\n    \r\n    \tpublic ModifiedOnlyFileScanner(File directory) {\r\n    \t\tsuper();\r\n    \t\tthis.directory = directory;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void stop() {\r\n    \t\ttry {\r\n    \t\t\tthis.watcher.close();\r\n    \t\t\tthis.watcher = null;\r\n    \t\t\tthis.pathKeys.clear();\r\n    \t\t}\r\n    \t\tcatch (IOException e) {\r\n    \t\t\tlogger.error(&quot;Failed to close watcher for &quot; + directory, e);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic boolean isRunning() {\r\n    \t\treturn true;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tprotected File[] listEligibleFiles(File directory) {\r\n    \t\tAssert.state(this.watcher != null, &quot;The WatchService has&#39;nt been started&quot;);\r\n    \t\tCollection&lt;File&gt; files = filesFromEvents();\r\n    \t\tif(files.size()&gt;0){\r\n    \t\t\tlogger.info(&quot;Detected Modified files &quot;+files);\r\n    \t\t}\r\n    \t\treturn files.toArray(new File[files.size()]);\r\n    \t}\r\n    \r\n    \tprivate Set&lt;File&gt; filesFromEvents() {\r\n    \t\tWatchKey key = this.watcher.poll();\r\n    \t\tSet&lt;File&gt; files = new LinkedHashSet&lt;File&gt;();\r\n    \t\twhile (key != null) {\r\n    \t\t\tFile parentDir = ((Path) key.watchable()).toAbsolutePath().toFile();\r\n    \t\t\tfor (WatchEvent&lt;?&gt; event : key.pollEvents()) {\r\n    \t\t\t\tif (event.kind() == StandardWatchEventKinds.ENTRY_MODIFY ) {\r\n    \t\t\t\t\tPath item = (Path) event.context();\r\n    \t\t\t\t\tFile file = new File(parentDir, item.toFile().getName());\r\n    \t\t\t\t\tif (file.exists()) {\r\n    \t\t\t\t\t\t//I do not dig into directories\r\n    \t\t\t\t\t\tif (!file.isDirectory()) {\r\n    \t\t\t\t\t\t\tfiles.remove(file);\r\n    \t\t\t\t\t\t\tfiles.add(file);\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\telse {\r\n    \t\t\t\t\t\t\tlogger.warn(&quot;A file [&quot; + file + &quot;] for the event [&quot; + event.kind() +\r\n    \t\t\t\t\t\t\t\t\t&quot;] doesn&#39;t exist. Ignored.&quot;);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\tkey.reset();\r\n    \t\t\tkey = this.watcher.poll();\r\n    \t\t}\r\n    \t\treturn files;\r\n    \t}\r\n    \r\n    \tprivate Set&lt;File&gt; walkDirectory(Path directory, final WatchEvent.Kind&lt;?&gt; kind) {\r\n    \t\tfinal Set&lt;File&gt; walkedFiles = new LinkedHashSet&lt;File&gt;();\r\n    \t\ttry {\r\n    \t\t\tregisterWatch(directory);\r\n    \t\t\tFiles.walkFileTree(directory, new SimpleFileVisitor&lt;Path&gt;() {\r\n    \r\n    \t\t\t\t@Override\r\n    \t\t\t\tpublic FileVisitResult preVisitDirectory(Path dir, BasicFileAttributes attrs) throws IOException {\r\n    \t\t\t\t\tFileVisitResult fileVisitResult = super.preVisitDirectory(dir, attrs);\r\n    \t\t\t\t\tregisterWatch(dir);\r\n    \t\t\t\t\treturn fileVisitResult;\r\n    \t\t\t\t}\r\n    \r\n    \t\t\t\t@Override\r\n    \t\t\t\tpublic FileVisitResult visitFile(Path file, BasicFileAttributes attrs) throws IOException {\r\n    \t\t\t\t\tFileVisitResult fileVisitResult = super.visitFile(file, attrs);\r\n    \t\t\t\t\tif (!StandardWatchEventKinds.ENTRY_MODIFY.equals(kind)) {\r\n    \t\t\t\t\t\twalkedFiles.add(file.toFile());\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\treturn fileVisitResult;\r\n    \t\t\t\t}\r\n    \r\n    \t\t\t});\r\n    \t\t}\r\n    \t\tcatch (IOException e) {\r\n    \t\t\tlogger.error(&quot;Failed to walk directory: &quot; + directory.toString(), e);\r\n    \t\t}\r\n    \t\treturn walkedFiles;\r\n    \t}\r\n    \r\n    \tprivate void registerWatch(Path dir) throws IOException {\r\n    \t\tif (!this.pathKeys.containsKey(dir)) {\r\n    \t\t\tif (logger.isDebugEnabled()) {\r\n    \t\t\t\tlogger.debug(&quot;registering: &quot; + dir + &quot; for file events&quot;);\r\n    \t\t\t}\r\n    \t\t\tWatchKey watchKey = dir.register(this.watcher, this.kinds);\r\n    \t\t\tthis.pathKeys.putIfAbsent(dir, watchKey);\r\n    \t\t}\r\n    \t}\r\n    }\r\n    \r\n    \t\r\n    \t\r\n    \t\r\n\r\n\r\n\r\n","title":"Spring Integration FileReadingMessageSource use UseWatchService","body":"<p>Even if  @Artem Bilan answer was very useful (that's why I accepted it) I post my own answer to show my final solution.</p>\n\n<p>This is the <a href=\"https://github.com/Panciz/springint-dirmonitor\" rel=\"nofollow noreferrer\">complete example</a></p>\n\n<p>I had to monitor a directory and create a message every time a file is modified.\nI use Spring ESB <code>FileReadingMessageSource</code>.\nMoreover I had to instantiate all the components at runtime, for this reason I used  Spring Integration Java DSL <code>IntegrationFlowContext</code>.</p>\n\n<p>This is how I intitiated the Source at run time (the message are sent to an <code>\"output\"</code> channel).</p>\n\n<pre><code>    @Autowired\n    private IntegrationFlowContext intContext;\n\npublic void initDispatcher(String name,Long pollingFreq) throws HandlerConfigurationException {\n        logger.info(\"Source \"+ name +\" Inizializing\");\n\n\n        IntegrationFlow sourceModifiedFlow = IntegrationFlows\n                .from(this.getFileModifiedMessageSource(), s -&gt; s.poller(Pollers.fixedRate(pollingFreq, TimeUnit.MILLISECONDS)))\n                .channel(\"outputChannel\").get();\n        intContext.registration(sourceModifiedFlow).id(name)).autoStartup(true).register();\n    }\n</code></pre>\n\n<p>This is how I create the actual <code>FileReader</code>.</p>\n\n<pre><code> public FileReadingMessageSource getFileModifiedMessageSource() {\n            FileReadingMessageSource lm = new FileReadingMessageSource();\n            lm.setBeanName(String.format(SOURCE_MODIFIED_SUFFIX, name));\n            lm.setDirectory(new File(readingDir));\n            ModifiedOnlyFileScanner modifiedOnlyFileScanner = new ModifiedOnlyFileScanner(new File(readingDir));\n            modifiedOnlyFileScanner.setFilter(new AcceptAllFileListFilter&lt;&gt;());\n            lm.setScanner(modifiedOnlyFileScanner);\n\n            return lm;\n        }\n</code></pre>\n\n<p>The default file scanner (<code>org.springframework.integration.file.FileReadingMessageSource.WatchServiceDirectoryScanner</code>) was not good for me. Mainly for two reason:</p>\n\n<ol>\n<li>at startup generate a message for each file present in the directory </li>\n<li>even if I configured the reader with <code>fileReadSource.setWatchEvents(WatchEventType.MODIFY);</code> , the source dispatch a message also when a new file is created into to the directory.</li>\n</ol>\n\n<p>So I end up writing my own scanner. This is the complete code:</p>\n\n<pre><code>public class ModifiedOnlyFileScanner extends DefaultDirectoryScanner implements Lifecycle {\n    private final static Logger logger = LogManager.getLogger(FileDispatcher.class);\n\n\n    private final ConcurrentMap&lt;Path, WatchKey&gt; pathKeys = new ConcurrentHashMap&lt;Path, WatchKey&gt;();\n\n    private WatchService watcher;\n\n    private WatchEvent.Kind&lt;?&gt;[] kinds;\n\n    private File directory;\n\n    @Override\n    public void start() {\n        try {\n            this.watcher = FileSystems.getDefault().newWatchService();\n        }\n        catch (IOException e) {\n            logger.error(\"Failed to create watcher for \" + directory, e);\n        }\n\n        this.kinds = new WatchEvent.Kind&lt;?&gt;[]{StandardWatchEventKinds.ENTRY_MODIFY};\n        walkDirectory(directory.toPath(), null);\n\n    }\n\n    public ModifiedOnlyFileScanner(File directory) {\n        super();\n        this.directory = directory;\n    }\n\n    @Override\n    public void stop() {\n        try {\n            this.watcher.close();\n            this.watcher = null;\n            this.pathKeys.clear();\n        }\n        catch (IOException e) {\n            logger.error(\"Failed to close watcher for \" + directory, e);\n        }\n    }\n\n    @Override\n    public boolean isRunning() {\n        return true;\n    }\n\n    @Override\n    protected File[] listEligibleFiles(File directory) {\n        Assert.state(this.watcher != null, \"The WatchService has'nt been started\");\n        Collection&lt;File&gt; files = filesFromEvents();\n        if(files.size()&gt;0){\n            logger.info(\"Detected Modified files \"+files);\n        }\n        return files.toArray(new File[files.size()]);\n    }\n\n    private Set&lt;File&gt; filesFromEvents() {\n        WatchKey key = this.watcher.poll();\n        Set&lt;File&gt; files = new LinkedHashSet&lt;File&gt;();\n        while (key != null) {\n            File parentDir = ((Path) key.watchable()).toAbsolutePath().toFile();\n            for (WatchEvent&lt;?&gt; event : key.pollEvents()) {\n                if (event.kind() == StandardWatchEventKinds.ENTRY_MODIFY ) {\n                    Path item = (Path) event.context();\n                    File file = new File(parentDir, item.toFile().getName());\n                    if (file.exists()) {\n                        //I do not dig into directories\n                        if (!file.isDirectory()) {\n                            files.remove(file);\n                            files.add(file);\n                        }\n                    }\n                    else {\n                            logger.warn(\"A file [\" + file + \"] for the event [\" + event.kind() +\n                                    \"] doesn't exist. Ignored.\");\n                    }\n                }\n            }\n            key.reset();\n            key = this.watcher.poll();\n        }\n        return files;\n    }\n\n    private Set&lt;File&gt; walkDirectory(Path directory, final WatchEvent.Kind&lt;?&gt; kind) {\n        final Set&lt;File&gt; walkedFiles = new LinkedHashSet&lt;File&gt;();\n        try {\n            registerWatch(directory);\n            Files.walkFileTree(directory, new SimpleFileVisitor&lt;Path&gt;() {\n\n                @Override\n                public FileVisitResult preVisitDirectory(Path dir, BasicFileAttributes attrs) throws IOException {\n                    FileVisitResult fileVisitResult = super.preVisitDirectory(dir, attrs);\n                    registerWatch(dir);\n                    return fileVisitResult;\n                }\n\n                @Override\n                public FileVisitResult visitFile(Path file, BasicFileAttributes attrs) throws IOException {\n                    FileVisitResult fileVisitResult = super.visitFile(file, attrs);\n                    if (!StandardWatchEventKinds.ENTRY_MODIFY.equals(kind)) {\n                        walkedFiles.add(file.toFile());\n                    }\n                    return fileVisitResult;\n                }\n\n            });\n        }\n        catch (IOException e) {\n            logger.error(\"Failed to walk directory: \" + directory.toString(), e);\n        }\n        return walkedFiles;\n    }\n\n    private void registerWatch(Path dir) throws IOException {\n        if (!this.pathKeys.containsKey(dir)) {\n            if (logger.isDebugEnabled()) {\n                logger.debug(\"registering: \" + dir + \" for file events\");\n            }\n            WatchKey watchKey = dir.register(this.watcher, this.kinds);\n            this.pathKeys.putIfAbsent(dir, watchKey);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1090931,"reputation":2195,"user_id":1085586,"accept_rate":32,"display_name":"Panciz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5587,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":40109420,"answer_count":2,"score":1,"last_activity_date":1691442041,"creation_date":1476785447,"question_id":40105406,"body_markdown":"I use `FileReadingMessageSource` as source for Message in Spring Integration ESB.\r\n\r\nIn particular I would like to use the `WatchServiceDirectoryScanner`. I use the Annotation based configuration with spring boot. \r\n\r\nIf I do not use `WatchServiceDirectoryScanner` everything is fine but when I set `setUseWatchService(true)` I can&#39;t get it to work.\r\n\r\nOnly the file present in the directory when the application starts are generate new messages in the channel. The files copied or created in the directory do not generate any message.\r\n\r\nI would like to use `WatchServiceDirectoryScanner` since I want to generate a message only\r\n\r\nThis is the code where I configure the channel the adapter and the source:\r\n\r\n\r\n        @Bean(name=&quot;source&quot;)\r\n    \tpublic FileReadingMessageSource getFileMessageSource(){\r\n    \t\tFileReadingMessageSource lm = new FileReadingMessageSource();\r\n    \t\tlm.setBeanName(&quot;fileMessageSource&quot;);\r\n    \t\tlm.setDirectory(new File(&quot;C:/DestDir&quot;));\r\n    \t\tlm.setAutoCreateDirectory(true);\r\n    \r\n    \t\tlm.setFilter(new AcceptAllFileListFilter&lt;&gt;());\r\n    \t\tlm.setUseWatchService(true);\r\n    \t\tlm.setWatchEvents(WatchEventType.CREATE);\r\n    \t\treturn lm;\r\n    \t}\r\n\r\n    @Bean(name=&quot;channel&quot;)\r\n    \tpublic PublishSubscribeChannel getFileChannel(){\r\n    \t\tPublishSubscribeChannel psc = new PublishSubscribeChannel();\r\n    \t\tpsc.setLoggingEnabled(true);\r\n    \t\tpsc.setComponentName(&quot;channelexp&quot;);\r\n    \t\treturn psc;\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \t\r\n    \t@Bean\r\n    \t@DependsOn({&quot;source&quot;,&quot;channel&quot;})\r\n    \tpublic SourcePollingChannelAdapter  getChannelAdapter(){\r\n    \t\tSourcePollingChannelAdapter spca = new SourcePollingChannelAdapter();\r\n    \t\tFileReadingMessageSource frms = context.getBean(FileReadingMessageSource.class);\r\n    \t\tPublishSubscribeChannel psc = context.getBean(&quot;channel&quot;,PublishSubscribeChannel.class);\r\n    \t\tspca.setSource(frms);\r\n    \t\tspca.setOutputChannel(psc);\r\n    \t\treturn spca;\r\n    \t}\r\n    \t\r\nEven If I use `@InboundChannelAdapter` there is no difference\r\n\r\n    @Bean(name=&quot;source&quot;)\r\n        @InboundChannelAdapter(value = &quot;channel&quot;, poller = @Poller(fixedDelay = &quot;1000&quot;))\r\n    \tpublic FileReadingMessageSource getFileMessageSource(){\r\n    \t\tFileReadingMessageSource lm = new FileReadingMessageSource();\r\n    \t\tlm.setDirectory(new File(&quot;C:/fromDir/&quot;));\r\n    \t\tlm.setFilter(new AcceptAllFileListFilter&lt;&gt;());\r\n    \t\tlm.setUseWatchService(true);\r\n    \t\tlm.setWatchEvents(WatchEventType.CREATE);\r\n    \t\treturn lm;\r\n    \t}\r\n\r\nWhere I&#39;m doing wrong?\r\n\r\n    \t","title":"Spring Integration FileReadingMessageSource use UseWatchService","body":"<p>I use <code>FileReadingMessageSource</code> as source for Message in Spring Integration ESB.</p>\n\n<p>In particular I would like to use the <code>WatchServiceDirectoryScanner</code>. I use the Annotation based configuration with spring boot. </p>\n\n<p>If I do not use <code>WatchServiceDirectoryScanner</code> everything is fine but when I set <code>setUseWatchService(true)</code> I can't get it to work.</p>\n\n<p>Only the file present in the directory when the application starts are generate new messages in the channel. The files copied or created in the directory do not generate any message.</p>\n\n<p>I would like to use <code>WatchServiceDirectoryScanner</code> since I want to generate a message only</p>\n\n<p>This is the code where I configure the channel the adapter and the source:</p>\n\n<pre><code>    @Bean(name=\"source\")\n    public FileReadingMessageSource getFileMessageSource(){\n        FileReadingMessageSource lm = new FileReadingMessageSource();\n        lm.setBeanName(\"fileMessageSource\");\n        lm.setDirectory(new File(\"C:/DestDir\"));\n        lm.setAutoCreateDirectory(true);\n\n        lm.setFilter(new AcceptAllFileListFilter&lt;&gt;());\n        lm.setUseWatchService(true);\n        lm.setWatchEvents(WatchEventType.CREATE);\n        return lm;\n    }\n\n@Bean(name=\"channel\")\n    public PublishSubscribeChannel getFileChannel(){\n        PublishSubscribeChannel psc = new PublishSubscribeChannel();\n        psc.setLoggingEnabled(true);\n        psc.setComponentName(\"channelexp\");\n        return psc;\n\n    }\n\n\n    @Bean\n    @DependsOn({\"source\",\"channel\"})\n    public SourcePollingChannelAdapter  getChannelAdapter(){\n        SourcePollingChannelAdapter spca = new SourcePollingChannelAdapter();\n        FileReadingMessageSource frms = context.getBean(FileReadingMessageSource.class);\n        PublishSubscribeChannel psc = context.getBean(\"channel\",PublishSubscribeChannel.class);\n        spca.setSource(frms);\n        spca.setOutputChannel(psc);\n        return spca;\n    }\n</code></pre>\n\n<p>Even If I use <code>@InboundChannelAdapter</code> there is no difference</p>\n\n<pre><code>@Bean(name=\"source\")\n    @InboundChannelAdapter(value = \"channel\", poller = @Poller(fixedDelay = \"1000\"))\n    public FileReadingMessageSource getFileMessageSource(){\n        FileReadingMessageSource lm = new FileReadingMessageSource();\n        lm.setDirectory(new File(\"C:/fromDir/\"));\n        lm.setFilter(new AcceptAllFileListFilter&lt;&gt;());\n        lm.setUseWatchService(true);\n        lm.setWatchEvents(WatchEventType.CREATE);\n        return lm;\n    }\n</code></pre>\n\n<p>Where I'm doing wrong?</p>\n"},{"tags":["javascript","java","payload","termux","developer-payload"],"owner":{"account_id":29180256,"reputation":1,"user_id":22354628,"display_name":"Nub"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"closed_date":1691640387,"answer_count":0,"score":-4,"last_activity_date":1691441292,"creation_date":1691441292,"question_id":76855079,"body_markdown":"I&#39;m new here anyone can please help me to make a payload (RAT) using termux.. I&#39;m trying to make l3mon payload in termux but I got this error when I want to build lemon apk.\r\n[enter image description here](https://i.stack.imgur.com/azEva.jpg)\r\nAnyone please help me &#128557;\r\n\r\nAnyone please help me &#128557;","title":"Making payload rat in termux","body":"<p>I'm new here anyone can please help me to make a payload (RAT) using termux.. I'm trying to make l3mon payload in termux but I got this error when I want to build lemon apk.\n<a href=\"https://i.stack.imgur.com/azEva.jpg\" rel=\"nofollow noreferrer\">enter image description here</a>\nAnyone please help me 😭</p>\n<p>Anyone please help me 😭</p>\n"},{"tags":["java","testing","junit","mockito","junit5"],"comments":[{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1691521714,"post_id":76854989,"comment_id":135502244,"body_markdown":"Where does `URLStreamHandler` come into play? I don&#39;t see it used anywhere in your production code","body":"Where does <code>URLStreamHandler</code> come into play? I don&#39;t see it used anywhere in your production code"},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1691521741,"post_id":76854989,"comment_id":135502252,"body_markdown":"Does this answer your question? [Why are my mocked methods not called when executing a unit test?](https://stackoverflow.com/questions/74027324/why-are-my-mocked-methods-not-called-when-executing-a-unit-test)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/74027324/why-are-my-mocked-methods-not-called-when-executing-a-unit-test\">Why are my mocked methods not called when executing a unit test?</a>"},{"owner":{"account_id":5781672,"reputation":3514,"user_id":6402939,"accept_rate":75,"display_name":"jitendra varshney"},"score":0,"creation_date":1691648885,"post_id":76854989,"comment_id":135520393,"body_markdown":"@knittl you can remove URLStreamHandler and you can directly have openConnection it will also not work and that Url which you mentioned in chat , it is not useful for my case","body":"@knittl you can remove URLStreamHandler and you can directly have openConnection it will also not work and that Url which you mentioned in chat , it is not useful for my case"},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1691649182,"post_id":76854989,"comment_id":135520439,"body_markdown":"Why is not helpful? You are calling `new URL` in your service method and your `urlConnection` mock is never used anywhere by your real code, it only exists in your test method and nowhere else. The linked question (which chat?) explains the same problem and provides several solutions how to resolve the problem by restructuring your code.","body":"Why is not helpful? You are calling <code>new URL</code> in your service method and your <code>urlConnection</code> mock is never used anywhere by your real code, it only exists in your test method and nowhere else. The linked question (which chat?) explains the same problem and provides several solutions how to resolve the problem by restructuring your code."}],"owner":{"account_id":5781672,"reputation":3514,"user_id":6402939,"accept_rate":75,"display_name":"jitendra varshney"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691440945,"creation_date":1691440091,"question_id":76854989,"body_markdown":"I have 1 java class which is rendering URL as PDF , below is the sample code: \r\n\r\n```java\r\npublic byte[] renderURLAsPDF(final String url, final Long id) throws SomeException {\r\n    \r\n    try {\r\n        URLConnection connection = new URL(url).openConnection();\r\n   \r\n        connection.setRequestProperty(HttpHeaders.USER_AGENT, &quot;&quot;);\r\n\r\n        try (InputStream openStream = connection.getInputStream()) {\r\n            PDFVerifierInputStream pdfInputStream = new PDFVerifierInputStream(openStream);\r\n            return IOUtils.toByteArray(pdfInputStream);\r\n        }\r\n\r\n    } catch (FileNotFoundException ex) {\r\n      \r\n        throw SomeException.newInstanceWithHttpNotFound(&quot;Failed to find a PDF file for Booking Ref : &quot; + itineraryItemId );\r\n    } catch (IOException e) {\r\n        throw new OrionException(&quot;Failed to render URL As PDF for Booking Ref: &quot; + itineraryItemId, e);\r\n    }\r\n}\r\n```\r\n\r\nSo I want to create 1 test for this class which will throw `FileNotFoundException`.\r\n \r\nWhat I have done to test this method I created mocked connection but it am not able to throw that `FileNotFoundException` from `inputStream.getInputStream()` code which i created.\r\n\r\n```java\r\npublic void renderURLAsPDFFileNotFoundException() throws Exception {\r\n\tURLConnection urlConnection = mock(URLConnection.class);\r\n\t\r\n\tURLStreamHandler stubUrlHandler = new URLStreamHandler() {\r\n\t\t@Override\r\n\t\tprotected URLConnection openConnection(URL u) throws IOException {\r\n\t\t\treturn urlConnection;\r\n\t\t}\r\n\t};\r\n\t\r\n\tString url = &quot;https://myurl.com&quot;;\r\n\tIOException fileNotFoundException = new FileNotFoundException(url);\r\n\tgiven(urlConnection.getInputStream()).willThrow(fileNotFoundException);\r\n\tSomeException exception = assertThrows(SomeException.class, () -&gt; ticketPDFGateway.renderURLAsPDF(url, ITEM_ID));\r\n\tassertEquals(HttpStatus.NOT_FOUND, exception.getHttpStatus());\r\n}\r\n```\r\n\r\nActaully I am new to mockito, I mocked the connection but it is still throwing `IOException`, so Can anyone help me on this how can I properly mock the connection so Java class will know the mocked connection for the test class.\r\n","title":"Mock HttpURlConnection and test FileNotFoundException","body":"<p>I have 1 java class which is rendering URL as PDF , below is the sample code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public byte[] renderURLAsPDF(final String url, final Long id) throws SomeException {\n    \n    try {\n        URLConnection connection = new URL(url).openConnection();\n   \n        connection.setRequestProperty(HttpHeaders.USER_AGENT, &quot;&quot;);\n\n        try (InputStream openStream = connection.getInputStream()) {\n            PDFVerifierInputStream pdfInputStream = new PDFVerifierInputStream(openStream);\n            return IOUtils.toByteArray(pdfInputStream);\n        }\n\n    } catch (FileNotFoundException ex) {\n      \n        throw SomeException.newInstanceWithHttpNotFound(&quot;Failed to find a PDF file for Booking Ref : &quot; + itineraryItemId );\n    } catch (IOException e) {\n        throw new OrionException(&quot;Failed to render URL As PDF for Booking Ref: &quot; + itineraryItemId, e);\n    }\n}\n</code></pre>\n<p>So I want to create 1 test for this class which will throw <code>FileNotFoundException</code>.</p>\n<p>What I have done to test this method I created mocked connection but it am not able to throw that <code>FileNotFoundException</code> from <code>inputStream.getInputStream()</code> code which i created.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void renderURLAsPDFFileNotFoundException() throws Exception {\n    URLConnection urlConnection = mock(URLConnection.class);\n    \n    URLStreamHandler stubUrlHandler = new URLStreamHandler() {\n        @Override\n        protected URLConnection openConnection(URL u) throws IOException {\n            return urlConnection;\n        }\n    };\n    \n    String url = &quot;https://myurl.com&quot;;\n    IOException fileNotFoundException = new FileNotFoundException(url);\n    given(urlConnection.getInputStream()).willThrow(fileNotFoundException);\n    SomeException exception = assertThrows(SomeException.class, () -&gt; ticketPDFGateway.renderURLAsPDF(url, ITEM_ID));\n    assertEquals(HttpStatus.NOT_FOUND, exception.getHttpStatus());\n}\n</code></pre>\n<p>Actaully I am new to mockito, I mocked the connection but it is still throwing <code>IOException</code>, so Can anyone help me on this how can I properly mock the connection so Java class will know the mocked connection for the test class.</p>\n"},{"tags":["java","apache-kafka","kafka-consumer-api"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1691446383,"post_id":76854979,"comment_id":135490233,"body_markdown":"As mentioned before, Kafka doesn&#39;t compact immediately, and it is not advised to configure it to do so. If you expect unique keys, then create/use a KTable... Also, latest Kafka includes transaction markers, by default, so there will be some &quot;empty offsets&quot;, therefore counting them / looking at the end wont be very useful","body":"As mentioned before, Kafka doesn&#39;t compact immediately, and it is not advised to configure it to do so. If you expect unique keys, then create/use a KTable... Also, latest Kafka includes transaction markers, by default, so there will be some &quot;empty offsets&quot;, therefore counting them / looking at the end wont be very useful"}],"owner":{"account_id":16796337,"reputation":71,"user_id":12142726,"display_name":"ovod"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691440044,"creation_date":1691440044,"question_id":76854979,"body_markdown":"I&#39;m trying to understand how compaction works. For example, I have topic with 2 partitions, with configs TopicConfig.SEGMENT_BYTES_CONFIG, &quot;200&quot; and TopicConfig.MIN_CLEANABLE_DIRTY_RATIO_CONFIG, &quot;0.01&quot;. I send to topic next messages(with a small delay between sending):\r\n\r\n            producer.send(new ProducerRecord&lt;&gt;(&quot;test-v1&quot;, &quot;A&quot;,\r\n            country));\r\n\r\n        producer.send(new ProducerRecord&lt;&gt;(&quot;test-v1&quot;, &quot;A&quot;,\r\n            country));\r\n\r\n        producer.send(new ProducerRecord&lt;&gt;(&quot;test-v1&quot;, &quot;B&quot;,\r\n            country));\r\n\r\n        producer.send(new ProducerRecord&lt;&gt;(&quot;test-v1&quot;, &quot;D&quot;,\r\n            country));\r\n\r\n        producer.send(new ProducerRecord&lt;&gt;(&quot;test-v1&quot;, &quot;A&quot;,\r\n            country));\r\n\r\n        producer.send(new ProducerRecord&lt;&gt;(&quot;test-v1&quot;, &quot;D&quot;,\r\n            country));\r\n\r\n        producer.send(new ProducerRecord&lt;&gt;(&quot;test-v1&quot;, &quot;B&quot;,\r\n            country));\r\n\r\n        producer.send(new ProducerRecord&lt;&gt;(&quot;test-v1&quot;, &quot;A&quot;,\r\n            country));\r\n\r\n        producer.send(new ProducerRecord&lt;&gt;(&quot;test-v1&quot;, &quot;B&quot;,\r\n            country));\r\n\r\n        producer.send(new ProducerRecord&lt;&gt;(&quot;test-v1&quot;, &quot;B&quot;,\r\n            country));\r\n\r\n        producer.send(new ProducerRecord&lt;&gt;(&quot;test-v1&quot;, &quot;E&quot;,\r\n            country));\r\nand expect to have 4 messages with keys &quot;A&quot;, &quot;B&quot;, &quot;D&quot;, &quot;E&quot;. but this map contains offsets 3 and 8\r\n\r\n    Map&lt;TopicPartition, Long&gt; partitionLastOffsetMap = consumer.endOffsets(partitions);\r\nconsumer reads 9 messages. why? can anyone explain the logic? thanks in advance ","title":"Kafka compaction logic","body":"<p>I'm trying to understand how compaction works. For example, I have topic with 2 partitions, with configs TopicConfig.SEGMENT_BYTES_CONFIG, &quot;200&quot; and TopicConfig.MIN_CLEANABLE_DIRTY_RATIO_CONFIG, &quot;0.01&quot;. I send to topic next messages(with a small delay between sending):</p>\n<pre><code>        producer.send(new ProducerRecord&lt;&gt;(&quot;test-v1&quot;, &quot;A&quot;,\n        country));\n\n    producer.send(new ProducerRecord&lt;&gt;(&quot;test-v1&quot;, &quot;A&quot;,\n        country));\n\n    producer.send(new ProducerRecord&lt;&gt;(&quot;test-v1&quot;, &quot;B&quot;,\n        country));\n\n    producer.send(new ProducerRecord&lt;&gt;(&quot;test-v1&quot;, &quot;D&quot;,\n        country));\n\n    producer.send(new ProducerRecord&lt;&gt;(&quot;test-v1&quot;, &quot;A&quot;,\n        country));\n\n    producer.send(new ProducerRecord&lt;&gt;(&quot;test-v1&quot;, &quot;D&quot;,\n        country));\n\n    producer.send(new ProducerRecord&lt;&gt;(&quot;test-v1&quot;, &quot;B&quot;,\n        country));\n\n    producer.send(new ProducerRecord&lt;&gt;(&quot;test-v1&quot;, &quot;A&quot;,\n        country));\n\n    producer.send(new ProducerRecord&lt;&gt;(&quot;test-v1&quot;, &quot;B&quot;,\n        country));\n\n    producer.send(new ProducerRecord&lt;&gt;(&quot;test-v1&quot;, &quot;B&quot;,\n        country));\n\n    producer.send(new ProducerRecord&lt;&gt;(&quot;test-v1&quot;, &quot;E&quot;,\n        country));\n</code></pre>\n<p>and expect to have 4 messages with keys &quot;A&quot;, &quot;B&quot;, &quot;D&quot;, &quot;E&quot;. but this map contains offsets 3 and 8</p>\n<pre><code>Map&lt;TopicPartition, Long&gt; partitionLastOffsetMap = consumer.endOffsets(partitions);\n</code></pre>\n<p>consumer reads 9 messages. why? can anyone explain the logic? thanks in advance</p>\n"},{"tags":["java","apache-camel"],"answers":[{"tags":[],"owner":{"account_id":5762184,"reputation":757,"user_id":4548231,"display_name":"sawprogramming"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1691439148,"creation_date":1691439148,"answer_id":76854911,"question_id":76854476,"body_markdown":"I&#39;ve found one way of using these route templates like I&#39;m trying to here, but it doesn&#39;t feel very clean. Perhaps I&#39;m trying to use these in a way they aren&#39;t intended to be used. Anyhow, to get it to work, I created a inner `ServiceActivator` class in the class defining the route template:\r\n\r\n~~~java\r\nprivate class ServiceActivator {\r\n  private final Foo foo;\r\n\r\n  public ServiceActivator(final RouteTemplateContext routeTemplateContext) {\r\n    this.foo = (\r\n      routeTemplateContext\r\n        .getLocalBeanRepository ()\r\n        .lookupByNameAndType    (&quot;foo&quot;, Foo.class)\r\n      );\r\n  }\r\n\r\n  @Handler\r\n  public void processFoo(@Body final String body) {\r\n    // do something \r\n  }\r\n}\r\n~~~\r\n\r\nThen, I updated the route template to:\r\n1. Remove the declaration of `foo` because having the definition makes Camel  attempt to create a default value for it.\r\n2. Create this `ServiceActivator` on route creation.\r\n3. Reference the `ServiceActivator` in the `bean` definition of the route.\r\n\r\n~~~java\r\nrouteTemplate(&quot;myTemplate&quot;)\r\n  // Define the parameters for the route template\r\n  .templateParameter (&quot;fromEndpointUri&quot;)\r\n  .templateBean      (&quot;serviceActivator, ServiceActivator.class, ServiceActivator::new)\r\n\r\n  // Define the route.\r\n  .from(&quot;{{fromEndpointUri}}&quot;)\r\n  .bean(&quot;{{serviceActivator}}&quot;)\r\n~~~\r\n\r\nAnd left my templated route as:\r\n~~~java\r\ntemplatedRoute(&quot;myTemplate&quot;)\r\n  .routeId   (&quot;myTemplateRoute&quot;)\r\n  .parameter (&quot;fromEndpointUri&quot;, &quot;direct:test&quot;)\r\n  .bean      (&quot;foo&quot;, Foo.class, ignored -&gt; new Foo());\r\n~~~\r\n\r\nAgain, it seems almost like a hack rather than using this feature of a Camel in a way that it was intended to be used. From what I could tell stepping through the code, the route template parameters and beans are only available at the time of route creation, so this was a way of capturing all of that information during route creation to be used in later executions of the route.","title":"Passing bean route template parameters to a bean endpoint in Camel","body":"<p>I've found one way of using these route templates like I'm trying to here, but it doesn't feel very clean. Perhaps I'm trying to use these in a way they aren't intended to be used. Anyhow, to get it to work, I created a inner <code>ServiceActivator</code> class in the class defining the route template:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private class ServiceActivator {\n  private final Foo foo;\n\n  public ServiceActivator(final RouteTemplateContext routeTemplateContext) {\n    this.foo = (\n      routeTemplateContext\n        .getLocalBeanRepository ()\n        .lookupByNameAndType    (&quot;foo&quot;, Foo.class)\n      );\n  }\n\n  @Handler\n  public void processFoo(@Body final String body) {\n    // do something \n  }\n}\n</code></pre>\n<p>Then, I updated the route template to:</p>\n<ol>\n<li>Remove the declaration of <code>foo</code> because having the definition makes Camel  attempt to create a default value for it.</li>\n<li>Create this <code>ServiceActivator</code> on route creation.</li>\n<li>Reference the <code>ServiceActivator</code> in the <code>bean</code> definition of the route.</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>routeTemplate(&quot;myTemplate&quot;)\n  // Define the parameters for the route template\n  .templateParameter (&quot;fromEndpointUri&quot;)\n  .templateBean      (&quot;serviceActivator, ServiceActivator.class, ServiceActivator::new)\n\n  // Define the route.\n  .from(&quot;{{fromEndpointUri}}&quot;)\n  .bean(&quot;{{serviceActivator}}&quot;)\n</code></pre>\n<p>And left my templated route as:</p>\n<pre class=\"lang-java prettyprint-override\"><code>templatedRoute(&quot;myTemplate&quot;)\n  .routeId   (&quot;myTemplateRoute&quot;)\n  .parameter (&quot;fromEndpointUri&quot;, &quot;direct:test&quot;)\n  .bean      (&quot;foo&quot;, Foo.class, ignored -&gt; new Foo());\n</code></pre>\n<p>Again, it seems almost like a hack rather than using this feature of a Camel in a way that it was intended to be used. From what I could tell stepping through the code, the route template parameters and beans are only available at the time of route creation, so this was a way of capturing all of that information during route creation to be used in later executions of the route.</p>\n"}],"owner":{"account_id":5762184,"reputation":757,"user_id":4548231,"display_name":"sawprogramming"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":141,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76854911,"answer_count":1,"score":0,"last_activity_date":1691439148,"creation_date":1691434465,"question_id":76854476,"body_markdown":"I&#39;m using Camel 4.0.0-RC2 and following the [documentation on binding beans to a RouteTemplate][1]. I have a simple route template to consume from a configurable `fromEndpointUri` and pass a configurable `foo` to my `fooConsumer`:\r\n~~~java\r\nrouteTemplate(&quot;myTemplate&quot;)\r\n  // Define the parameters for the route template.\r\n  .templateParameter (&quot;fromEndpointUri&quot;)\r\n  .templateBean      (&quot;foo&quot;, Foo.class)\r\n\r\n  // Define the route.\r\n  .from (&quot;{{fromEndpointUri}}&quot;)\r\n  .bean (fooConsumer, &quot;processFoo(${body}, #{{foo}})&quot;);\r\n~~~\r\n\r\nThe route I create using the template is simply:\r\n~~~java\r\ntemplatedRoute(&quot;myTemplate&quot;)\r\n  .routeId   (&quot;myTemplateRoute&quot;)\r\n  .parameter (&quot;fromEndpointUri&quot;, &quot;direct:test&quot;)\r\n  .bean      (&quot;foo&quot;, Foo.class, ignored -&gt; new Foo());\r\n~~~\r\n\r\nWhen sending a message through this route, an error is thrown `No type converter available to convert from type: java.lang.String to the required type: com.example.Foo`. The relevant stack trace is:\r\n~~~text\r\norg.apache.camel.NoTypeConversionAvailableException: No type converter available to convert from type: java.lang.String to the required type: com.example.Foo\r\n\tat org.apache.camel.impl.converter.CoreTypeConverterRegistry.mandatoryConvertTo(CoreTypeConverterRegistry.java:279) ~[camel-base-4.0.0-RC2.jar:4.0.0-RC2]\r\n\tat org.apache.camel.component.bean.MethodInfo$ParameterExpression.evaluateParameterValue(MethodInfo.java:717) ~[camel-bean-4.0.0-RC2.jar:4.0.0-RC2]\r\n\t... 94 more\r\nWrapped by: org.apache.camel.component.bean.ParameterBindingException: Error during parameter binding on method: public java.util.List com.example.FooConsumer.processFoo(java.lang.String,com.example.Foo) at parameter #1 with type: class com.example.Foo with value type: class java.lang.String and value: #foo-1\r\n\tat org.apache.camel.component.bean.MethodInfo$ParameterExpression.evaluateParameterValue(MethodInfo.java:728) ~[camel-bean-4.0.0-RC2.jar:4.0.0-RC2]\r\n\tat org.apache.camel.component.bean.MethodInfo$ParameterExpression.evaluateParameterExpressions(MethodInfo.java:618) ~[camel-bean-4.0.0-RC2.jar:4.0.0-RC2]\r\n\tat org.apache.camel.component.bean.MethodInfo$ParameterExpression.evaluate(MethodInfo.java:591) ~[camel-bean-4.0.0-RC2.jar:4.0.0-RC2]\r\n\tat org.apache.camel.component.bean.MethodInfo.initializeArguments(MethodInfo.java:262) ~[camel-bean-4.0.0-RC2.jar:4.0.0-RC2]\r\n\tat org.apache.camel.component.bean.MethodInfo.createMethodInvocation(MethodInfo.java:270) ~[camel-bean-4.0.0-RC2.jar:4.0.0-RC2]\r\n\tat org.apache.camel.component.bean.BeanInfo.createInvocation(BeanInfo.java:266) ~[camel-bean-4.0.0-RC2.jar:4.0.0-RC2]\r\n\tat org.apache.camel.component.bean.AbstractBeanProcessor.process(AbstractBeanProcessor.java:128) ~[camel-bean-4.0.0-RC2.jar:4.0.0-RC2]\r\n\tat org.apache.camel.component.bean.BeanProcessor.process(BeanProcessor.java:81) ~[camel-bean-4.0.0-RC2.jar:4.0.0-RC2]\r\n\t...\r\n~~~\r\n\r\nHow do I pass the route&#39;s instance of `Foo` to my `FooConsumer`? Some variations I have tried are:\r\n\r\n| Variation | Error| \r\n| --- | --- |\r\n| `.bean(fooConsumer, &quot;processFoo(${body}, {{foo}})&quot;)` | `No type converter available to convert from type: java.lang.String to the required type: com.example.Foo` |\r\n|`.to(&quot;bean:fooConsumer?method=processFoo(${body},#{{foo}})&quot;)` | `No type converter available to convert from type: java.lang.String to the required type: com.example.Foo` |\r\n| \r\n|`.to(&quot;bean:fooConsumer?method=processFoo(${body},{{foo}})&quot;)` | `No type converter available to convert from type: java.lang.String to the required type: com.example.Foo` |\r\n| `.bean(fooConsumer, &quot;processFoo(${body}, ${bean:#{{foo}}})&quot;)` | `No bean could be found in the registry for: #foo-1` |\r\n| `.bean(fooConsumer, &quot;processFoo(${body}, ${bean:{{foo}}})&quot;)` | `No bean could be found in the registry for: foo-1` |\r\n\r\nSurely it&#39;s possible to do this since the examples show passing a `myClient` bean to a `aws2-s3` endpoint using the `#{{myClient}}` syntax. \r\n\r\n  [1]: https://camel.apache.org/manual/route-template.html#_binding_beans_to_route_template","title":"Passing bean route template parameters to a bean endpoint in Camel","body":"<p>I'm using Camel 4.0.0-RC2 and following the <a href=\"https://camel.apache.org/manual/route-template.html#_binding_beans_to_route_template\" rel=\"nofollow noreferrer\">documentation on binding beans to a RouteTemplate</a>. I have a simple route template to consume from a configurable <code>fromEndpointUri</code> and pass a configurable <code>foo</code> to my <code>fooConsumer</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>routeTemplate(&quot;myTemplate&quot;)\n  // Define the parameters for the route template.\n  .templateParameter (&quot;fromEndpointUri&quot;)\n  .templateBean      (&quot;foo&quot;, Foo.class)\n\n  // Define the route.\n  .from (&quot;{{fromEndpointUri}}&quot;)\n  .bean (fooConsumer, &quot;processFoo(${body}, #{{foo}})&quot;);\n</code></pre>\n<p>The route I create using the template is simply:</p>\n<pre class=\"lang-java prettyprint-override\"><code>templatedRoute(&quot;myTemplate&quot;)\n  .routeId   (&quot;myTemplateRoute&quot;)\n  .parameter (&quot;fromEndpointUri&quot;, &quot;direct:test&quot;)\n  .bean      (&quot;foo&quot;, Foo.class, ignored -&gt; new Foo());\n</code></pre>\n<p>When sending a message through this route, an error is thrown <code>No type converter available to convert from type: java.lang.String to the required type: com.example.Foo</code>. The relevant stack trace is:</p>\n<pre><code>org.apache.camel.NoTypeConversionAvailableException: No type converter available to convert from type: java.lang.String to the required type: com.example.Foo\n    at org.apache.camel.impl.converter.CoreTypeConverterRegistry.mandatoryConvertTo(CoreTypeConverterRegistry.java:279) ~[camel-base-4.0.0-RC2.jar:4.0.0-RC2]\n    at org.apache.camel.component.bean.MethodInfo$ParameterExpression.evaluateParameterValue(MethodInfo.java:717) ~[camel-bean-4.0.0-RC2.jar:4.0.0-RC2]\n    ... 94 more\nWrapped by: org.apache.camel.component.bean.ParameterBindingException: Error during parameter binding on method: public java.util.List com.example.FooConsumer.processFoo(java.lang.String,com.example.Foo) at parameter #1 with type: class com.example.Foo with value type: class java.lang.String and value: #foo-1\n    at org.apache.camel.component.bean.MethodInfo$ParameterExpression.evaluateParameterValue(MethodInfo.java:728) ~[camel-bean-4.0.0-RC2.jar:4.0.0-RC2]\n    at org.apache.camel.component.bean.MethodInfo$ParameterExpression.evaluateParameterExpressions(MethodInfo.java:618) ~[camel-bean-4.0.0-RC2.jar:4.0.0-RC2]\n    at org.apache.camel.component.bean.MethodInfo$ParameterExpression.evaluate(MethodInfo.java:591) ~[camel-bean-4.0.0-RC2.jar:4.0.0-RC2]\n    at org.apache.camel.component.bean.MethodInfo.initializeArguments(MethodInfo.java:262) ~[camel-bean-4.0.0-RC2.jar:4.0.0-RC2]\n    at org.apache.camel.component.bean.MethodInfo.createMethodInvocation(MethodInfo.java:270) ~[camel-bean-4.0.0-RC2.jar:4.0.0-RC2]\n    at org.apache.camel.component.bean.BeanInfo.createInvocation(BeanInfo.java:266) ~[camel-bean-4.0.0-RC2.jar:4.0.0-RC2]\n    at org.apache.camel.component.bean.AbstractBeanProcessor.process(AbstractBeanProcessor.java:128) ~[camel-bean-4.0.0-RC2.jar:4.0.0-RC2]\n    at org.apache.camel.component.bean.BeanProcessor.process(BeanProcessor.java:81) ~[camel-bean-4.0.0-RC2.jar:4.0.0-RC2]\n    ...\n</code></pre>\n<p>How do I pass the route's instance of <code>Foo</code> to my <code>FooConsumer</code>? Some variations I have tried are:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Variation</th>\n<th>Error</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>.bean(fooConsumer, &quot;processFoo(${body}, {{foo}})&quot;)</code></td>\n<td><code>No type converter available to convert from type: java.lang.String to the required type: com.example.Foo</code></td>\n</tr>\n<tr>\n<td><code>.to(&quot;bean:fooConsumer?method=processFoo(${body},#{{foo}})&quot;)</code></td>\n<td><code>No type converter available to convert from type: java.lang.String to the required type: com.example.Foo</code></td>\n</tr>\n<tr>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td><code>.to(&quot;bean:fooConsumer?method=processFoo(${body},{{foo}})&quot;)</code></td>\n<td><code>No type converter available to convert from type: java.lang.String to the required type: com.example.Foo</code></td>\n</tr>\n<tr>\n<td><code>.bean(fooConsumer, &quot;processFoo(${body}, ${bean:#{{foo}}})&quot;)</code></td>\n<td><code>No bean could be found in the registry for: #foo-1</code></td>\n</tr>\n<tr>\n<td><code>.bean(fooConsumer, &quot;processFoo(${body}, ${bean:{{foo}}})&quot;)</code></td>\n<td><code>No bean could be found in the registry for: foo-1</code></td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>Surely it's possible to do this since the examples show passing a <code>myClient</code> bean to a <code>aws2-s3</code> endpoint using the <code>#{{myClient}}</code> syntax.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1469055113,"post_id":10749803,"comment_id":64385618,"body_markdown":"This appears to mean that you have an empty truststore. You don&#39;t show any code or setup, or who prints the output shown, or what it is, which makes it impossible to comment further.","body":"This appears to mean that you have an empty truststore. You don&#39;t show any code or setup, or who prints the output shown, or what it is, which makes it impossible to comment further."}],"answers":[{"comments":[{"owner":{"account_id":345661,"reputation":107,"user_id":678712,"display_name":"AppDeveloperIOS"},"score":0,"creation_date":1338361076,"post_id":10749945,"comment_id":14069666,"body_markdown":"How to create trusted p12 file for push notification?","body":"How to create trusted p12 file for push notification?"},{"owner":{"account_id":1459659,"reputation":5200,"user_id":1374311,"display_name":"alexey28"},"score":0,"creation_date":1338361339,"post_id":10749945,"comment_id":14069763,"body_markdown":"You cannot create trusted certificate, you can only bay it.","body":"You cannot create trusted certificate, you can only bay it."},{"owner":{"account_id":345661,"reputation":107,"user_id":678712,"display_name":"AppDeveloperIOS"},"score":0,"creation_date":1338540612,"post_id":10749945,"comment_id":14126426,"body_markdown":"is there any way to check p12 file trusted or not in java?","body":"is there any way to check p12 file trusted or not in java?"}],"tags":[],"owner":{"account_id":1459659,"reputation":5200,"user_id":1374311,"display_name":"alexey28"},"comment_count":3,"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1337929407,"creation_date":1337929407,"answer_id":10749945,"question_id":10749803,"body_markdown":"This is certificate problem. There can be two solutions:\r\n\r\n1 Use trusted certificate\r\n\r\n2 Disable certificate checking. For plain java code it can be done that way (&lt;a href=&quot;http://www.rgagnon.com/javadetails/java-fix-certificate-problem-in-HTTPS.html&quot;&gt;read here&lt;/a&gt;).\r\n\r\nIn p12 should be some possibility to set up TrustManages.","title":"ValidatorException: No trusted certificate found in java","body":"<p>This is certificate problem. There can be two solutions:</p>\n\n<p>1 Use trusted certificate</p>\n\n<p>2 Disable certificate checking. For plain java code it can be done that way (<a href=\"http://www.rgagnon.com/javadetails/java-fix-certificate-problem-in-HTTPS.html\" rel=\"nofollow\">read here</a>).</p>\n\n<p>In p12 should be some possibility to set up TrustManages.</p>\n"},{"comments":[{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":1,"creation_date":1539755009,"post_id":47739231,"comment_id":92611746,"body_markdown":"Neither j8 nor j9 existed in 2012, and neither causes the problem in this Q.","body":"Neither j8 nor j9 existed in 2012, and neither causes the problem in this Q."}],"tags":[],"owner":{"account_id":3022053,"reputation":986,"user_id":2562834,"display_name":"ZhiQiang Fan"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1512911769,"creation_date":1512911769,"answer_id":47739231,"question_id":10749803,"body_markdown":"this might be caused by java 1.9, switch to java 1.8 might resolve your problem.","title":"ValidatorException: No trusted certificate found in java","body":"<p>this might be caused by java 1.9, switch to java 1.8 might resolve your problem.</p>\n"},{"comments":[{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":2,"creation_date":1539754888,"post_id":52847820,"comment_id":92611704,"body_markdown":"The posted exception can never be caused by crypto policy, the Q was posted in 2012 well before j8 existed, and for 8u161 up (including _all_ 9,10,11) the policy issue no longer exists and this can only hurt, and in cases where policy _is_ the problem it&#39;s the same on all platforms not just Windows.","body":"The posted exception can never be caused by crypto policy, the Q was posted in 2012 well before j8 existed, and for 8u161 up (including <i>all</i> 9,10,11) the policy issue no longer exists and this can only hurt, and in cases where policy <i>is</i> the problem it&#39;s the same on all platforms not just Windows."}],"tags":[],"owner":{"account_id":14520228,"reputation":347,"user_id":10488096,"display_name":"Deepak Jain"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1539754230,"creation_date":1539754230,"answer_id":52847820,"question_id":10749803,"body_markdown":"Try below steps for windows:\r\n\r\nDownload jars from here https://www.oracle.com/technetwork/java/javase/downloads/jce8-download-2133166.html\r\n\r\nCopy local_policy.jar and US_export_policy.jar to the $JAVA_HOME/jre/lib/security (Note: these jars will be already there so you have to overwrite them).\r\n\r\nThen restart your application to get rid of this exception.","title":"ValidatorException: No trusted certificate found in java","body":"<p>Try below steps for windows:</p>\n\n<p>Download jars from here <a href=\"https://www.oracle.com/technetwork/java/javase/downloads/jce8-download-2133166.html\" rel=\"nofollow noreferrer\">https://www.oracle.com/technetwork/java/javase/downloads/jce8-download-2133166.html</a></p>\n\n<p>Copy local_policy.jar and US_export_policy.jar to the $JAVA_HOME/jre/lib/security (Note: these jars will be already there so you have to overwrite them).</p>\n\n<p>Then restart your application to get rid of this exception.</p>\n"}],"owner":{"account_id":345661,"reputation":107,"user_id":678712,"display_name":"AppDeveloperIOS"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21871,"favorite_count":0,"down_vote_count":2,"up_vote_count":6,"closed_date":1691519989,"answer_count":3,"score":4,"last_activity_date":1691438870,"creation_date":1337928723,"question_id":10749803,"body_markdown":"When trying Apple push notifications from a Java server using a p12 file, I get an error. Is there a problem with my p12 file or my Java code?\r\n\r\n    run:\r\n    @:theodore nonis\r\n    C=IN, CN=Apple Development IOS Push Services: com.ducont.myPushApp, UID=com.ducont.myPushApp\r\n    theodore nonis\r\n    ok\r\n    init Stores...\r\n    javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: No trusted certificate found\r\n            at com.sun.net.ssl.internal.ssl.Alerts.getSSLException(Alerts.java:174)\r\n            at com.sun.net.ssl.internal.ssl.SSLSocketImpl.fatal(SSLSocketImpl.java:1591)\r\n            at com.sun.net.ssl.internal.ssl.Handshaker.fatalSE(Handshaker.java:187)\r\n            at com.sun.net.ssl.internal.ssl.Handshaker.fatalSE(Handshaker.java:181)\r\n            at com.sun.net.ssl.internal.ssl.ClientHandshaker.serverCertificate(ClientHandshaker.java:975)\r\n            at com.sun.net.ssl.internal.ssl.ClientHandshaker.processMessage(ClientHandshaker.java:123)\r\n            at com.sun.net.ssl.internal.ssl.Handshaker.processLoop(Handshaker.java:516)\r\n            at com.sun.net.ssl.internal.ssl.Handshaker.process_record(Handshaker.java:454)\r\n            at com.sun.net.ssl.internal.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:884)\r\n            at com.sun.net.ssl.internal.ssl.SSLSocketImpl.performInitialHandshake(SSLSocketImpl.java:1096)\r\n            at com.sun.net.ssl.internal.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1123)\r\n            at com.sun.net.ssl.internal.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1107)\r\n            at javatest.Main.APNSender(Main.java:88)\r\n            at javatest.Main.main(Main.java:114)\r\n    Caused by: sun.security.validator.ValidatorException: No trusted certificate found\r\n            at sun.security.validator.SimpleValidator.buildTrustedChain(SimpleValidator.java:304)\r\n            at sun.security.validator.SimpleValidator.engineValidate(SimpleValidator.java:107)\r\n            at sun.security.validator.Validator.validate(Validator.java:218)\r\n            at com.sun.net.ssl.internal.ssl.X509TrustManagerImpl.validate(X509TrustManagerImpl.java:126)\r\n            at com.sun.net.ssl.internal.ssl.X509TrustManagerImpl.checkServerTrusted(X509TrustManagerImpl.java:209)\r\n            at com.sun.net.ssl.internal.ssl.X509TrustManagerImpl.checkServerTrusted(X509TrustManagerImpl.java:249)\r\n            at com.sun.net.ssl.internal.ssl.ClientHandshaker.serverCertificate(ClientHandshaker.java:954)\r\n            ... 9 more\r\n    BUILD SUCCESSFUL (total time: 2 seconds)","title":"ValidatorException: No trusted certificate found in java","body":"<p>When trying Apple push notifications from a Java server using a p12 file, I get an error. Is there a problem with my p12 file or my Java code?</p>\n\n<pre><code>run:\n@:theodore nonis\nC=IN, CN=Apple Development IOS Push Services: com.ducont.myPushApp, UID=com.ducont.myPushApp\ntheodore nonis\nok\ninit Stores...\njavax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: No trusted certificate found\n        at com.sun.net.ssl.internal.ssl.Alerts.getSSLException(Alerts.java:174)\n        at com.sun.net.ssl.internal.ssl.SSLSocketImpl.fatal(SSLSocketImpl.java:1591)\n        at com.sun.net.ssl.internal.ssl.Handshaker.fatalSE(Handshaker.java:187)\n        at com.sun.net.ssl.internal.ssl.Handshaker.fatalSE(Handshaker.java:181)\n        at com.sun.net.ssl.internal.ssl.ClientHandshaker.serverCertificate(ClientHandshaker.java:975)\n        at com.sun.net.ssl.internal.ssl.ClientHandshaker.processMessage(ClientHandshaker.java:123)\n        at com.sun.net.ssl.internal.ssl.Handshaker.processLoop(Handshaker.java:516)\n        at com.sun.net.ssl.internal.ssl.Handshaker.process_record(Handshaker.java:454)\n        at com.sun.net.ssl.internal.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:884)\n        at com.sun.net.ssl.internal.ssl.SSLSocketImpl.performInitialHandshake(SSLSocketImpl.java:1096)\n        at com.sun.net.ssl.internal.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1123)\n        at com.sun.net.ssl.internal.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1107)\n        at javatest.Main.APNSender(Main.java:88)\n        at javatest.Main.main(Main.java:114)\nCaused by: sun.security.validator.ValidatorException: No trusted certificate found\n        at sun.security.validator.SimpleValidator.buildTrustedChain(SimpleValidator.java:304)\n        at sun.security.validator.SimpleValidator.engineValidate(SimpleValidator.java:107)\n        at sun.security.validator.Validator.validate(Validator.java:218)\n        at com.sun.net.ssl.internal.ssl.X509TrustManagerImpl.validate(X509TrustManagerImpl.java:126)\n        at com.sun.net.ssl.internal.ssl.X509TrustManagerImpl.checkServerTrusted(X509TrustManagerImpl.java:209)\n        at com.sun.net.ssl.internal.ssl.X509TrustManagerImpl.checkServerTrusted(X509TrustManagerImpl.java:249)\n        at com.sun.net.ssl.internal.ssl.ClientHandshaker.serverCertificate(ClientHandshaker.java:954)\n        ... 9 more\nBUILD SUCCESSFUL (total time: 2 seconds)\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"score":0,"creation_date":1691438098,"post_id":76854765,"comment_id":135489046,"body_markdown":"`myList.stream().map(CompletableFuture::get).filter(f-&gt;f.available).count()` ? Just wrap get catching InterruptedExcetion","body":"<code>myList.stream().map(CompletableFuture::get).filter(f-&gt;f.avai&zwnj;&#8203;lable).count()</code> ? Just wrap get catching InterruptedExcetion"},{"owner":{"account_id":4034639,"reputation":985,"user_id":3319557,"accept_rate":100,"display_name":"mlecz"},"score":0,"creation_date":1691438219,"post_id":76854765,"comment_id":135489070,"body_markdown":"@gdomo you can also use CompletableFuture::join, which throws unchecked exception","body":"@gdomo you can also use CompletableFuture::join, which throws unchecked exception"}],"answers":[{"tags":[],"owner":{"account_id":23428052,"reputation":6895,"user_id":17487348,"display_name":"Mushroomator"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691438270,"creation_date":1691438270,"answer_id":76854840,"question_id":76854765,"body_markdown":"You first need to wait for the completion of the `Future`s, then you could can `filter()` the ones with available set to `true` and last but not least `count()` the amount of list items left. For all of that I am using the [Java Stream API](https://www.baeldung.com/java-8-streams).\r\n\r\n```java\r\nimport java.util.ArrayList;\r\nimport java.util.concurrent.CompletableFuture;\r\n\r\npublic class Main {\r\n    record Name(String name, boolean available){};\r\n\r\n    public static void main(String[] args) {\r\n        var input = new ArrayList&lt;CompletableFuture&lt;Name&gt;&gt;();\r\n        input.add(CompletableFuture.completedFuture(new Name(&quot;Thomas&quot;, true)));\r\n        input.add(CompletableFuture.completedFuture(new Name(&quot;John&quot;, true)));\r\n        input.add(CompletableFuture.completedFuture(new Name(&quot;Pat&quot;, false)));\r\n        var total = input.stream()\r\n                .map(CompletableFuture::join)\r\n                .filter(name -&gt; name.available)\r\n                .count();\r\n        System.out.println(total);\r\n    }\r\n}\r\n```\r\nExpected output:\r\n```\r\n2\r\n```\r\n\r\nIn terms of waiting for the `Future`s to complete have a look at [this StackOverflow thread](https://stackoverflow.com/questions/30705981/what-is-the-recommended-way-to-wait-till-the-completable-future-threads-finish) which discusses some of the available options and their behavior in more detail.","title":"Count number of occurrences of property inside List&lt;CompletableFuture&lt;Name&gt;&gt;","body":"<p>You first need to wait for the completion of the <code>Future</code>s, then you could can <code>filter()</code> the ones with available set to <code>true</code> and last but not least <code>count()</code> the amount of list items left. For all of that I am using the <a href=\"https://www.baeldung.com/java-8-streams\" rel=\"nofollow noreferrer\">Java Stream API</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.ArrayList;\nimport java.util.concurrent.CompletableFuture;\n\npublic class Main {\n    record Name(String name, boolean available){};\n\n    public static void main(String[] args) {\n        var input = new ArrayList&lt;CompletableFuture&lt;Name&gt;&gt;();\n        input.add(CompletableFuture.completedFuture(new Name(&quot;Thomas&quot;, true)));\n        input.add(CompletableFuture.completedFuture(new Name(&quot;John&quot;, true)));\n        input.add(CompletableFuture.completedFuture(new Name(&quot;Pat&quot;, false)));\n        var total = input.stream()\n                .map(CompletableFuture::join)\n                .filter(name -&gt; name.available)\n                .count();\n        System.out.println(total);\n    }\n}\n</code></pre>\n<p>Expected output:</p>\n<pre><code>2\n</code></pre>\n<p>In terms of waiting for the <code>Future</code>s to complete have a look at <a href=\"https://stackoverflow.com/questions/30705981/what-is-the-recommended-way-to-wait-till-the-completable-future-threads-finish\">this StackOverflow thread</a> which discusses some of the available options and their behavior in more detail.</p>\n"},{"tags":[],"owner":{"account_id":6588799,"reputation":2536,"user_id":5090758,"accept_rate":46,"display_name":"William Rosenbloom"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691438756,"creation_date":1691438756,"answer_id":76854876,"question_id":76854765,"body_markdown":"## If you want a synchronous result\r\n\r\nGetting the result synchronously is easy.\r\n\r\n    static int countNames(List&lt;CompletableFuture&lt;Name&gt;&gt; names) {\r\n        int count = 0;\r\n        for (CompletableFuture&lt;Name&gt; futureName: names) {\r\n            if (futureName.join().available) { // this is where you&#39;d get exceptions\r\n                count++;\r\n            }\r\n        }\r\n        return count;\r\n    }\r\n\r\nThe only problem is that you&#39;ll get exceptions propagated to you, and you&#39;ll have to wait for every future to complete in order.\r\n\r\n## If you want an asynchronous result\r\n\r\nThis method gives you a result that is also a `Future`, allowing you to continue a promise-like flow.\r\n\r\n    static Future&lt;Integer&gt; countNames(List&lt;CompletableFuture&lt;Name&gt;&gt; names) {\r\n        CompletableFuture&lt;Integer&gt; tally = CompletableFuture.completedFuture(0);\r\n        for (CompletableFuture&lt;Name&gt; futureName: names) {\r\n            tally = futureName.thenCombine(tally, (name, count) -&gt; name.available ? count + 1 : count);\r\n        }\r\n        return tally;\r\n    }","title":"Count number of occurrences of property inside List&lt;CompletableFuture&lt;Name&gt;&gt;","body":"<h2>If you want a synchronous result</h2>\n<p>Getting the result synchronously is easy.</p>\n<pre><code>static int countNames(List&lt;CompletableFuture&lt;Name&gt;&gt; names) {\n    int count = 0;\n    for (CompletableFuture&lt;Name&gt; futureName: names) {\n        if (futureName.join().available) { // this is where you'd get exceptions\n            count++;\n        }\n    }\n    return count;\n}\n</code></pre>\n<p>The only problem is that you'll get exceptions propagated to you, and you'll have to wait for every future to complete in order.</p>\n<h2>If you want an asynchronous result</h2>\n<p>This method gives you a result that is also a <code>Future</code>, allowing you to continue a promise-like flow.</p>\n<pre><code>static Future&lt;Integer&gt; countNames(List&lt;CompletableFuture&lt;Name&gt;&gt; names) {\n    CompletableFuture&lt;Integer&gt; tally = CompletableFuture.completedFuture(0);\n    for (CompletableFuture&lt;Name&gt; futureName: names) {\n        tally = futureName.thenCombine(tally, (name, count) -&gt; name.available ? count + 1 : count);\n    }\n    return tally;\n}\n</code></pre>\n"}],"owner":{"account_id":229213,"reputation":8557,"user_id":492015,"accept_rate":68,"display_name":"Arya"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1691438756,"creation_date":1691437574,"question_id":76854765,"body_markdown":"I have the following list\r\n\r\n    List&lt;CompletableFuture&lt;Name&gt;&gt; myList;\r\n\r\nThe `Name` class contains the following properties.\r\n\r\n    String name;\r\n    boolean available;\r\n\r\n\r\nHow can I count the total number of name objects which have the available property set to true?\r\n\r\n","title":"Count number of occurrences of property inside List&lt;CompletableFuture&lt;Name&gt;&gt;","body":"<p>I have the following list</p>\n<pre><code>List&lt;CompletableFuture&lt;Name&gt;&gt; myList;\n</code></pre>\n<p>The <code>Name</code> class contains the following properties.</p>\n<pre><code>String name;\nboolean available;\n</code></pre>\n<p>How can I count the total number of name objects which have the available property set to true?</p>\n"},{"tags":["java","apache-flink"],"answers":[{"comments":[{"owner":{"account_id":8199410,"reputation":2119,"user_id":6171195,"accept_rate":96,"display_name":"Christos Hadjinikolis"},"score":3,"creation_date":1521149142,"post_id":49284302,"comment_id":85621069,"body_markdown":"I fixed this, but the problem remains when I run Flink from IntelliJ. I am actually getting a very similar one, this one though refers me to the configuration keys &#39;taskmanager.network.memory.fraction&#39;, &#39;taskmanager.network.memory.min&#39;, and &#39;taskmanager.network.memory.max&#39;. In general, is there a way to pass this arguments to Flink from IntelliJ or through the Flink execution environment?","body":"I fixed this, but the problem remains when I run Flink from IntelliJ. I am actually getting a very similar one, this one though refers me to the configuration keys &#39;taskmanager.network.memory.fraction&#39;, &#39;taskmanager.network.memory.min&#39;, and &#39;taskmanager.network.memory.max&#39;. In general, is there a way to pass this arguments to Flink from IntelliJ or through the Flink execution environment?"},{"owner":{"account_id":172794,"reputation":7482,"user_id":401059,"display_name":"Caesar"},"score":2,"creation_date":1561443874,"post_id":49284302,"comment_id":100053979,"body_markdown":"The formula you gave can be at best a rough estimate. It doesn&#39;t account for the size of the processing graph at all.","body":"The formula you gave can be at best a rough estimate. It doesn&#39;t account for the size of the processing graph at all."}],"tags":[],"owner":{"account_id":4432837,"reputation":18757,"user_id":3609571,"display_name":"Fabian Hueske"},"comment_count":2,"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1680834100,"creation_date":1521048871,"answer_id":49284302,"question_id":49283934,"body_markdown":"Quoting the Apache Flink FAQ:\r\n\r\n&gt; If you run Flink with a very high parallelism, you may need to increase the number of network buffers.\r\n&gt;\r\n&gt;By default, Flink takes 10% of the JVM heap size for network buffers, with a minimum of 64MB and a maximum of 1GB. You can adjust all these values via taskmanager.network.memory.fraction, taskmanager.network.memory.min, and taskmanager.network.memory.max.\r\n&gt;\r\n&gt;Please refer to the Configuration Reference for details.\r\n\r\nThere is a [dedicated section in the docs for how to configure the network buffers](https://nightlies.apache.org/flink/flink-docs-release-1.8/ops/config.html#configuring-the-network-buffers). \r\n\r\nIn summary, you can configure the number of network buffers in the `./conf/flink-conf.yaml` file by setting the `taskmanager.network.numberOfBuffers` parameter.\r\n\r\nThe parameter should be set to `#slots-per-TM^2 * #TMs * 4`, where `#slots per TM` are the number of slots per TaskManager and `#TMs` are the total number of task managers.\r\n\r\nTo support, for example, a cluster of 20 8-slot machines, you should use roughly 5000 network buffers for optimal throughput. Each network buffer has by default a size of 32 KiBytes. In the example above, the system would thus allocate roughly 300 MiBytes for network buffers.\r\n\r\nPlease refer to the docs for details.\r\n","title":"Flink IOException: Insufficient number of network buffers","body":"<p>Quoting the Apache Flink FAQ:</p>\n<blockquote>\n<p>If you run Flink with a very high parallelism, you may need to increase the number of network buffers.</p>\n<p>By default, Flink takes 10% of the JVM heap size for network buffers, with a minimum of 64MB and a maximum of 1GB. You can adjust all these values via taskmanager.network.memory.fraction, taskmanager.network.memory.min, and taskmanager.network.memory.max.</p>\n<p>Please refer to the Configuration Reference for details.</p>\n</blockquote>\n<p>There is a <a href=\"https://nightlies.apache.org/flink/flink-docs-release-1.8/ops/config.html#configuring-the-network-buffers\" rel=\"nofollow noreferrer\">dedicated section in the docs for how to configure the network buffers</a>.</p>\n<p>In summary, you can configure the number of network buffers in the <code>./conf/flink-conf.yaml</code> file by setting the <code>taskmanager.network.numberOfBuffers</code> parameter.</p>\n<p>The parameter should be set to <code>#slots-per-TM^2 * #TMs * 4</code>, where <code>#slots per TM</code> are the number of slots per TaskManager and <code>#TMs</code> are the total number of task managers.</p>\n<p>To support, for example, a cluster of 20 8-slot machines, you should use roughly 5000 network buffers for optimal throughput. Each network buffer has by default a size of 32 KiBytes. In the example above, the system would thus allocate roughly 300 MiBytes for network buffers.</p>\n<p>Please refer to the docs for details.</p>\n"},{"tags":[],"owner":{"account_id":13929941,"reputation":371,"user_id":10058360,"display_name":"RITA KUSHWAHA"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1647526577,"creation_date":1647526577,"answer_id":71513860,"question_id":49283934,"body_markdown":"I too faced the same error\r\n\r\n&gt; Caused by: java.io.IOException: Insufficient number of network\r\n&gt; buffers: required 13, but only 7 available. The total number of\r\n&gt; network buffers is currently set to 2048 of 32768 bytes each. You can\r\n&gt; increase this number by setting the configuration keys\r\n&gt; &#39;taskmanager.memory.network.fraction&#39;,\r\n&gt; &#39;taskmanager.memory.network.min&#39;, and\r\n&gt; &#39;taskmanager.memory.network.max&#39;.\r\n\r\nThe below code snippet resolved my issue.\r\n\r\n    Configuration cfg = new Configuration();\r\n    int defaultLocalParallelism = Runtime.getRuntime().availableProcessors();\r\n    cfg.setString(&quot;taskmanager.memory.network.max&quot;, &quot;1gb&quot;);\r\n    StreamExecutionEnvironment env = StreamExecutionEnvironment.createLocalEnvironment(defaultLocalParallelism, cfg);\r\n","title":"Flink IOException: Insufficient number of network buffers","body":"<p>I too faced the same error</p>\n<blockquote>\n<p>Caused by: java.io.IOException: Insufficient number of network\nbuffers: required 13, but only 7 available. The total number of\nnetwork buffers is currently set to 2048 of 32768 bytes each. You can\nincrease this number by setting the configuration keys\n'taskmanager.memory.network.fraction',\n'taskmanager.memory.network.min', and\n'taskmanager.memory.network.max'.</p>\n</blockquote>\n<p>The below code snippet resolved my issue.</p>\n<pre><code>Configuration cfg = new Configuration();\nint defaultLocalParallelism = Runtime.getRuntime().availableProcessors();\ncfg.setString(&quot;taskmanager.memory.network.max&quot;, &quot;1gb&quot;);\nStreamExecutionEnvironment env = StreamExecutionEnvironment.createLocalEnvironment(defaultLocalParallelism, cfg);\n</code></pre>\n"}],"owner":{"account_id":8199410,"reputation":2119,"user_id":6171195,"accept_rate":96,"display_name":"Christos Hadjinikolis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10246,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":49284302,"answer_count":2,"score":5,"last_activity_date":1691438599,"creation_date":1521047707,"question_id":49283934,"body_markdown":"I am using `Flink v1.4.0`. I am using the `DataSet API` (though this, I don&#39;t think matters).\r\n\r\nI am running some heavy duty transformations on a 12 core VM. I am utilising 2 cores for one `Flink job` in which I am storing some data into a `Flink Queryable State`and am running another `Flink` job with the remaining 10 cores. \r\n\r\nWhen I run the second job with 10 cores I seem to get following error:\r\n\r\n    java.io.IOException: Insufficient number of network buffers: required 10, but only 9 available. The total number of network buffers is currently set to 4096 of 32768 bytes each. You can increase this number by setting the configuration keys &#39;taskmanager.network.memory.fraction&#39;, &#39;taskmanager.network.memory.min&#39;, and &#39;taskmanager.network.memory.max&#39;.\r\n                at org.apache.flink.runtime.io.network.buffer.NetworkBufferPool.createBufferPool(NetworkBufferPool.java:257)\r\n                at org.apache.flink.runtime.io.network.NetworkEnvironment.registerTask(NetworkEnvironment.java:199)\r\n                at org.apache.flink.runtime.taskmanager.Task.run(Task.java:618)\r\n                at java.lang.Thread.run(Thread.java:745)\r\n\r\nIf I do run it with 8 cores it makes it through just fine. What&#39;s causing this and why can&#39;t I use the other 2 --&gt; 8+2 = 10 cores?\r\n","title":"Flink IOException: Insufficient number of network buffers","body":"<p>I am using <code>Flink v1.4.0</code>. I am using the <code>DataSet API</code> (though this, I don't think matters).</p>\n\n<p>I am running some heavy duty transformations on a 12 core VM. I am utilising 2 cores for one <code>Flink job</code> in which I am storing some data into a <code>Flink Queryable State</code>and am running another <code>Flink</code> job with the remaining 10 cores. </p>\n\n<p>When I run the second job with 10 cores I seem to get following error:</p>\n\n<pre><code>java.io.IOException: Insufficient number of network buffers: required 10, but only 9 available. The total number of network buffers is currently set to 4096 of 32768 bytes each. You can increase this number by setting the configuration keys 'taskmanager.network.memory.fraction', 'taskmanager.network.memory.min', and 'taskmanager.network.memory.max'.\n            at org.apache.flink.runtime.io.network.buffer.NetworkBufferPool.createBufferPool(NetworkBufferPool.java:257)\n            at org.apache.flink.runtime.io.network.NetworkEnvironment.registerTask(NetworkEnvironment.java:199)\n            at org.apache.flink.runtime.taskmanager.Task.run(Task.java:618)\n            at java.lang.Thread.run(Thread.java:745)\n</code></pre>\n\n<p>If I do run it with 8 cores it makes it through just fine. What's causing this and why can't I use the other 2 --> 8+2 = 10 cores?</p>\n"},{"tags":["java","out-of-memory","threadpool","ctakes"],"comments":[{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":5,"creation_date":1691437282,"post_id":76854724,"comment_id":135488934,"body_markdown":"You can tell `java` to use more memory, using runtime flags. E.g. https://stackoverflow.com/questions/1565388/increase-heap-size-in-java.","body":"You can tell <code>java</code> to use more memory, using runtime flags. E.g. <a href=\"https://stackoverflow.com/questions/1565388/increase-heap-size-in-java\" title=\"increase heap size in java\">stackoverflow.com/questions/1565388/increase-heap-size-in-ja&zwnj;&#8203;va</a>."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1691456838,"post_id":76854724,"comment_id":135491186,"body_markdown":"If that fails (e.g. you can&#39;t make the heap any bigger), talk to the people who support the software you are trying to use.   This is not a programming question.","body":"If that fails (e.g. you can&#39;t make the heap any bigger), talk to the people who support the software you are trying to use.   This is not a programming question."},{"owner":{"account_id":1614042,"reputation":7468,"user_id":1492229,"accept_rate":100,"display_name":"asmgx"},"score":0,"creation_date":1691948135,"post_id":76854724,"comment_id":135556640,"body_markdown":"@Mike&#39;Pomax&#39;Kamermans that link really helped me.\nThanks","body":"@Mike&#39;Pomax&#39;Kamermans that link really helped me. Thanks"}],"owner":{"account_id":1614042,"reputation":7468,"user_id":1492229,"accept_rate":100,"display_name":"asmgx"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1691456869,"answer_count":0,"score":0,"last_activity_date":1691437172,"creation_date":1691437172,"question_id":76854724,"body_markdown":"I am running ctakes DictionaryBuilder on Windows 11\r\n\r\nit is a Java application that comes with ctakes ( a medical tool)\r\n\r\nanyway, when I try to run this application I get this error\r\n\r\nI am just a user of this application and not a developer and I don&#39;t have the code.\r\n\r\n\r\ni wonder if there is a way i can get the application run from my position as a user\r\n\r\n\r\nhere is the error i get\r\n\r\n    07 Aug 2023 14:51:25  INFO MrConsoParser - File Lines: 8734439 Concepts: 2605571  Texts: 4701014\r\n    07 Aug 2023 14:51:25  INFO DictionaryBuilder - Performing Poor man&#39;s WSD ...\r\n    Exception in thread &quot;pool-3-thread-1&quot; java.lang.OutOfMemoryError: Java heap space\r\n            at java.base/java.lang.StringBuilder.toString(StringBuilder.java:453)\r\n            at org.apache.ctakes.gui.dictionary.util.TextTokenizer.getTokens(TextTokenizer.java:168)\r\n            at org.apache.ctakes.gui.dictionary.util.TextTokenizer.lambda$getTokenizedText$0(TextTokenizer.java:192)\r\n            at org.apache.ctakes.gui.dictionary.util.TextTokenizer$$Lambda$175/0x00000239811c9338.apply(Unknown Source)\r\n            at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\r\n            at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:1006)\r\n            at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)\r\n            at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\r\n            at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)\r\n            at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n            at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682)\r\n            at org.apache.ctakes.gui.dictionary.util.TextTokenizer.getTokenizedText(TextTokenizer.java:194)\r\n            at org.apache.ctakes.gui.dictionary.util.TextTokenizer.getTokenizedText(TextTokenizer.java:174)\r\n            at org.apache.ctakes.gui.dictionary.umls.Concept.cullExtensions(Concept.java:59)\r\n            at org.apache.ctakes.gui.dictionary.DictionaryBuilder.removeWsdRarities(DictionaryBuilder.java:85)\r\n            at org.apache.ctakes.gui.dictionary.DictionaryBuilder.parseAll(DictionaryBuilder.java:70)\r\n            at org.apache.ctakes.gui.dictionary.DictionaryBuilder.buildDictionary(DictionaryBuilder.java:52)\r\n            at org.apache.ctakes.gui.dictionary.MainPanel$DictionaryBuildRunner.run(MainPanel.java:207)\r\n            at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)\r\n            at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)\r\n            at java.base/java.lang.Thread.runWith(Thread.java:1636)\r\n            at java.base/java.lang.Thread.run(Thread.java:1623)\r\n\r\n\r\n\r\nmy java is like this\r\n\r\n    PS H:\\__cTAKES\\bin&gt; java -version\r\n    java version &quot;20.0.2&quot; 2023-07-18\r\n    Java(TM) SE Runtime Environment (build 20.0.2+9-78)\r\n    Java HotSpot(TM) 64-Bit Server VM (build 20.0.2+9-78, mixed mode, sharing)\r\n    PS H:\\__cTAKES\\bin&gt;\r\n\r\n","title":"How to solve out of memory java error when you dont have the code?","body":"<p>I am running ctakes DictionaryBuilder on Windows 11</p>\n<p>it is a Java application that comes with ctakes ( a medical tool)</p>\n<p>anyway, when I try to run this application I get this error</p>\n<p>I am just a user of this application and not a developer and I don't have the code.</p>\n<p>i wonder if there is a way i can get the application run from my position as a user</p>\n<p>here is the error i get</p>\n<pre><code>07 Aug 2023 14:51:25  INFO MrConsoParser - File Lines: 8734439 Concepts: 2605571  Texts: 4701014\n07 Aug 2023 14:51:25  INFO DictionaryBuilder - Performing Poor man's WSD ...\nException in thread &quot;pool-3-thread-1&quot; java.lang.OutOfMemoryError: Java heap space\n        at java.base/java.lang.StringBuilder.toString(StringBuilder.java:453)\n        at org.apache.ctakes.gui.dictionary.util.TextTokenizer.getTokens(TextTokenizer.java:168)\n        at org.apache.ctakes.gui.dictionary.util.TextTokenizer.lambda$getTokenizedText$0(TextTokenizer.java:192)\n        at org.apache.ctakes.gui.dictionary.util.TextTokenizer$$Lambda$175/0x00000239811c9338.apply(Unknown Source)\n        at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\n        at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:1006)\n        at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)\n        at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\n        at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)\n        at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n        at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682)\n        at org.apache.ctakes.gui.dictionary.util.TextTokenizer.getTokenizedText(TextTokenizer.java:194)\n        at org.apache.ctakes.gui.dictionary.util.TextTokenizer.getTokenizedText(TextTokenizer.java:174)\n        at org.apache.ctakes.gui.dictionary.umls.Concept.cullExtensions(Concept.java:59)\n        at org.apache.ctakes.gui.dictionary.DictionaryBuilder.removeWsdRarities(DictionaryBuilder.java:85)\n        at org.apache.ctakes.gui.dictionary.DictionaryBuilder.parseAll(DictionaryBuilder.java:70)\n        at org.apache.ctakes.gui.dictionary.DictionaryBuilder.buildDictionary(DictionaryBuilder.java:52)\n        at org.apache.ctakes.gui.dictionary.MainPanel$DictionaryBuildRunner.run(MainPanel.java:207)\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)\n        at java.base/java.lang.Thread.runWith(Thread.java:1636)\n        at java.base/java.lang.Thread.run(Thread.java:1623)\n</code></pre>\n<p>my java is like this</p>\n<pre><code>PS H:\\__cTAKES\\bin&gt; java -version\njava version &quot;20.0.2&quot; 2023-07-18\nJava(TM) SE Runtime Environment (build 20.0.2+9-78)\nJava HotSpot(TM) 64-Bit Server VM (build 20.0.2+9-78, mixed mode, sharing)\nPS H:\\__cTAKES\\bin&gt;\n</code></pre>\n"},{"tags":["java","oop","generics","wildcard","subtyping"],"answers":[{"comments":[{"owner":{"account_id":19431837,"reputation":47,"user_id":14212075,"display_name":"Jan"},"score":0,"creation_date":1691440093,"post_id":76854644,"comment_id":135489392,"body_markdown":"Thanks for your answer. If I got it right, the compiler does only care about the declaration typ &lt;Container? extends Superclass&gt;. It never knows dynamic type. So, just in case, in the next line the compiler stops me from everything that could possibly go wrong even&#39;t if it might work? I am still confused about your last sentences. I get why new Superclass() does not work. But Subclass is the lowest of all my subclasses, meaning it had to work no matter what real type I used to instantiate a Container. So why doesn&#39;t b.elem = new Subclass(); work? Is this because of what @Maks Verver wrote?","body":"Thanks for your answer. If I got it right, the compiler does only care about the declaration typ &lt;Container? extends Superclass&gt;. It never knows dynamic type. So, just in case, in the next line the compiler stops me from everything that could possibly go wrong even&#39;t if it might work? I am still confused about your last sentences. I get why new Superclass() does not work. But Subclass is the lowest of all my subclasses, meaning it had to work no matter what real type I used to instantiate a Container. So why doesn&#39;t b.elem = new Subclass(); work? Is this because of what @Maks Verver wrote?"},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1691444243,"post_id":76854644,"comment_id":135489995,"body_markdown":"No.  It&#39;s because it could be `Container&lt;SomeOtherSubclass&gt;`.  `SomeOtherSubclass` could be defined anywhere else in your application.  Java does not keep track of things like there not being any other &quot;lower&quot; or &quot;lowest&quot; class.  It would also be bad if your old code stopped compiling when you added `SomeOtherSubclass`.","body":"No.  It&#39;s because it could be <code>Container&lt;SomeOtherSubclass&gt;</code>.  <code>SomeOtherSubclass</code> could be defined anywhere else in your application.  Java does not keep track of things like there not being any other &quot;lower&quot; or &quot;lowest&quot; class.  It would also be bad if your old code stopped compiling when you added <code>SomeOtherSubclass</code>."}],"tags":[],"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1691436291,"creation_date":1691436291,"answer_id":76854644,"question_id":76854585,"body_markdown":"Suppose you had instead written\r\n\r\n```\r\nContainer&lt;? extends Superclass&gt; b = new Container&lt;Subclass&gt;(); \r\n  // Clearly should compile, that&#39;s the whole point of ? extends\r\n\r\nb.elem = new Superclass(); // SHOULD NOT compile\r\n```\r\n\r\nAfter the first line, `b.elem` has the &quot;real type&quot; of `Subclass`.  You can&#39;t assign a `Superclass` to a `Subclass`, so the second line _shouldn&#39;t_ have compiled.\r\n\r\nYou have specifically told Java to forget the &quot;real&quot; type parameter of `b`.  It&#39;s known that it is some subclass of `Superclass`.  But since it could be `Subclass`, and that wouldn&#39;t let `b.elem = new Superclass()` compile, it refuses to compile it.\r\n\r\nYou can only use a `Container&lt;? extends Superclass&gt;` in a way that would work _no matter which subclass of `Superclass` was actually used._  `b.elem = new Superclass()` does not.\r\n\r\nThis is normal and expected.","title":"Java generics type mismatch when using wildcard","body":"<p>Suppose you had instead written</p>\n<pre><code>Container&lt;? extends Superclass&gt; b = new Container&lt;Subclass&gt;(); \n  // Clearly should compile, that's the whole point of ? extends\n\nb.elem = new Superclass(); // SHOULD NOT compile\n</code></pre>\n<p>After the first line, <code>b.elem</code> has the &quot;real type&quot; of <code>Subclass</code>.  You can't assign a <code>Superclass</code> to a <code>Subclass</code>, so the second line <em>shouldn't</em> have compiled.</p>\n<p>You have specifically told Java to forget the &quot;real&quot; type parameter of <code>b</code>.  It's known that it is some subclass of <code>Superclass</code>.  But since it could be <code>Subclass</code>, and that wouldn't let <code>b.elem = new Superclass()</code> compile, it refuses to compile it.</p>\n<p>You can only use a <code>Container&lt;? extends Superclass&gt;</code> in a way that would work <em>no matter which subclass of <code>Superclass</code> was actually used.</em>  <code>b.elem = new Superclass()</code> does not.</p>\n<p>This is normal and expected.</p>\n"},{"comments":[{"owner":{"account_id":19431837,"reputation":47,"user_id":14212075,"display_name":"Jan"},"score":0,"creation_date":1691441364,"post_id":76854658,"comment_id":135489581,"body_markdown":"Thank you for your answer. I do now understand, why b.elem = new Superclass() does not work. But I still don&#39;t understand, why b.elem = new Subclass() doesn&#39;t work. I declare a variable b: Container&lt;? extends Superclass&gt; b. Now, no matter how i create an actual instance and assign it to b, I think b.elem = new Subclass() should never cause any problems. b = new Container&lt;Subclass&gt; and b = new Container &lt;Superclass&gt; are the only options. If it&#39;s Container&lt;Subclass&gt; it is the exact typ. If it&#39;s Container &lt;Superclass&gt; then b.elem = new Subclass() should still work because of subtyping, right?","body":"Thank you for your answer. I do now understand, why b.elem = new Superclass() does not work. But I still don&#39;t understand, why b.elem = new Subclass() doesn&#39;t work. I declare a variable b: Container&lt;? extends Superclass&gt; b. Now, no matter how i create an actual instance and assign it to b, I think b.elem = new Subclass() should never cause any problems. b = new Container&lt;Subclass&gt; and b = new Container &lt;Superclass&gt; are the only options. If it&#39;s Container&lt;Subclass&gt; it is the exact typ. If it&#39;s Container &lt;Superclass&gt; then b.elem = new Subclass() should still work because of subtyping, right?"},{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":0,"creation_date":1691441719,"post_id":76854658,"comment_id":135489631,"body_markdown":"Glad I can help! Answering your question, you&#39;re correct! The code would intuitively seem to work because `b` is assigned a `Container&lt;Superclass&gt;`, and `Subclass` is a subtype of `Superclass`.","body":"Glad I can help! Answering your question, you&#39;re correct! The code would intuitively seem to work because <code>b</code> is assigned a <code>Container&lt;Superclass&gt;</code>, and <code>Subclass</code> is a subtype of <code>Superclass</code>."}],"tags":[],"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1691436460,"creation_date":1691436460,"answer_id":76854658,"question_id":76854585,"body_markdown":"The issue you are facing is related to the concept of covariance and the behavior of [Java&#39;s wildcard generics][1] when combined with type declarations and assignments.\r\n\r\nLet&#39;s break down the different cases you mentioned:\r\n\r\n1. `Container&lt;? extends Superclass&gt; b = new Container&lt;Superclass&gt;();`\r\nThis line declares a variable `b` of type `Container&lt;? extends Superclass&gt;`, which means it can hold a `Container` of any type that is a subtype of `Superclass`. However, when you try to assign a `Container&lt;Superclass&gt;` to it, it becomes problematic. The compiler is preventing this assignment because the wildcard `?` represents an unknown specific subtype of `Superclass`, and since the type of `elem` in `Container&lt;? extends Superclass&gt;` is unknown, it doesn&#39;t allow you to put any specific object into it (except `null`). For example, you could have a `Container&lt;Subclass&gt;` assigned to `b`, and then **trying to put a `Superclass` object into it would not be type-safe**. That&#39;s why the compiler raises an error.\r\n\r\n2. `Container&lt;Superclass&gt; b = new Container&lt;Superclass&gt;();`\r\nThis is straightforward and works fine because you are using the exact type `Superclass` in both the declaration and the instantiation of the `Container`. Indeed, you don&#39;t need to parameterize the type in the constructor, it will be implied by the variable type.\r\n\r\n3. `Container&lt;?&gt; b = new Container&lt;Superclass&gt;();`\r\nThis line declares a variable `b` of a raw type `Container&lt;?&gt;`, which is a shorthand for `Container&lt;? extends Object&gt;`. This is the most permissive use of generics, and it essentially means that you can assign a `Container` of any type (including `Container&lt;Subclass&gt;` or `Container&lt;SomeOtherClass&gt;`) to `b`. However, since the type of `elem` in `Container&lt;?&gt;` is unknown, you can&#39;t put anything (except `null`) into it, which is why it&#39;s generally not very useful in this scenario.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/extra/generics/wildcards.html","title":"Java generics type mismatch when using wildcard","body":"<p>The issue you are facing is related to the concept of covariance and the behavior of <a href=\"https://docs.oracle.com/javase/tutorial/extra/generics/wildcards.html\" rel=\"nofollow noreferrer\">Java's wildcard generics</a> when combined with type declarations and assignments.</p>\n<p>Let's break down the different cases you mentioned:</p>\n<ol>\n<li><p><code>Container&lt;? extends Superclass&gt; b = new Container&lt;Superclass&gt;();</code>\nThis line declares a variable <code>b</code> of type <code>Container&lt;? extends Superclass&gt;</code>, which means it can hold a <code>Container</code> of any type that is a subtype of <code>Superclass</code>. However, when you try to assign a <code>Container&lt;Superclass&gt;</code> to it, it becomes problematic. The compiler is preventing this assignment because the wildcard <code>?</code> represents an unknown specific subtype of <code>Superclass</code>, and since the type of <code>elem</code> in <code>Container&lt;? extends Superclass&gt;</code> is unknown, it doesn't allow you to put any specific object into it (except <code>null</code>). For example, you could have a <code>Container&lt;Subclass&gt;</code> assigned to <code>b</code>, and then <strong>trying to put a <code>Superclass</code> object into it would not be type-safe</strong>. That's why the compiler raises an error.</p>\n</li>\n<li><p><code>Container&lt;Superclass&gt; b = new Container&lt;Superclass&gt;();</code>\nThis is straightforward and works fine because you are using the exact type <code>Superclass</code> in both the declaration and the instantiation of the <code>Container</code>. Indeed, you don't need to parameterize the type in the constructor, it will be implied by the variable type.</p>\n</li>\n<li><p><code>Container&lt;?&gt; b = new Container&lt;Superclass&gt;();</code>\nThis line declares a variable <code>b</code> of a raw type <code>Container&lt;?&gt;</code>, which is a shorthand for <code>Container&lt;? extends Object&gt;</code>. This is the most permissive use of generics, and it essentially means that you can assign a <code>Container</code> of any type (including <code>Container&lt;Subclass&gt;</code> or <code>Container&lt;SomeOtherClass&gt;</code>) to <code>b</code>. However, since the type of <code>elem</code> in <code>Container&lt;?&gt;</code> is unknown, you can't put anything (except <code>null</code>) into it, which is why it's generally not very useful in this scenario.</p>\n</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":19431837,"reputation":47,"user_id":14212075,"display_name":"Jan"},"score":0,"creation_date":1691440663,"post_id":76854687,"comment_id":135489487,"body_markdown":"Thank you for your answer. It now starts to make sense to me. Still I wonder if the compiler just assumes that there might be any other subclasses that could potentially cause problems even if there actually aren&#39;t any other subclasses? In my example I don&#39;t see any possibility to recreate your scenario without adding further classes. I now do understand why b.elem = new Superclass() is wrong but I still don&#39;t get why I can&#39;t do b.elem = new Subclass().","body":"Thank you for your answer. It now starts to make sense to me. Still I wonder if the compiler just assumes that there might be any other subclasses that could potentially cause problems even if there actually aren&#39;t any other subclasses? In my example I don&#39;t see any possibility to recreate your scenario without adding further classes. I now do understand why b.elem = new Superclass() is wrong but I still don&#39;t get why I can&#39;t do b.elem = new Subclass()."}],"tags":[],"owner":{"account_id":11942432,"reputation":787,"user_id":9651461,"display_name":"Maks Verver"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1691436791,"creation_date":1691436791,"answer_id":76854687,"question_id":76854585,"body_markdown":"Don&#39;t worry, this is a very common point of confusion.\r\n\r\n&gt; As far as I am aware, &lt;? extends Superclass&gt; means that I can use any subtype of Superclass in the container.\r\n\r\nNo, that&#39;s not what it means. It means that the container contains elements of a specific subclass that inherits from `Superclass`, but the `?` means that it is unknown which specific subclass it is!\r\n\r\nPerhaps it makes more sense with an example. Imagine that you have your example but with two different subclasses:\r\n\r\n```\r\nclass Subclass1 extends Superclass{}\r\nclass Subclass2 extends Superclass{}\r\n```\r\n\r\nAnd you do:\r\n\r\n```\r\nContainer&lt;Subclass1&gt; a = new Container&lt;Subclass1&gt;();\r\nContainer&lt;? extends Superclass&gt; b = a;\r\n```\r\n\r\nThis is perfectly valid and will not cause a compiler error: `a` is a container of `Subclass1`, and `b` is a container of classes that inherit from `Superclass` (which `Subclass1` does) so it&#39;s perfectly valid to assign `a` to `b`, since every instance of `Subclass1` indeed extends `Superclass`.\r\n\r\nBut the following would give a compiler error:\r\n\r\n```\r\nb.elem = new Subclass2();\r\n```\r\n\r\nHopefully it&#39;s now clear why: here you assign an instance of `Subclass2` to `b.elem` which is actually `a.elem` which is supposed to be of type `Subclass1` not `Subclass2`!\r\n\r\nYou wouldn&#39;t expect this code to compile:\r\n\r\n```\r\nSubclass1 o = new Subclass2();  // error!\r\n```\r\n\r\nSo the compiler rightfully rejects your code here.","title":"Java generics type mismatch when using wildcard","body":"<p>Don't worry, this is a very common point of confusion.</p>\n<blockquote>\n<p>As far as I am aware, &lt;? extends Superclass&gt; means that I can use any subtype of Superclass in the container.</p>\n</blockquote>\n<p>No, that's not what it means. It means that the container contains elements of a specific subclass that inherits from <code>Superclass</code>, but the <code>?</code> means that it is unknown which specific subclass it is!</p>\n<p>Perhaps it makes more sense with an example. Imagine that you have your example but with two different subclasses:</p>\n<pre><code>class Subclass1 extends Superclass{}\nclass Subclass2 extends Superclass{}\n</code></pre>\n<p>And you do:</p>\n<pre><code>Container&lt;Subclass1&gt; a = new Container&lt;Subclass1&gt;();\nContainer&lt;? extends Superclass&gt; b = a;\n</code></pre>\n<p>This is perfectly valid and will not cause a compiler error: <code>a</code> is a container of <code>Subclass1</code>, and <code>b</code> is a container of classes that inherit from <code>Superclass</code> (which <code>Subclass1</code> does) so it's perfectly valid to assign <code>a</code> to <code>b</code>, since every instance of <code>Subclass1</code> indeed extends <code>Superclass</code>.</p>\n<p>But the following would give a compiler error:</p>\n<pre><code>b.elem = new Subclass2();\n</code></pre>\n<p>Hopefully it's now clear why: here you assign an instance of <code>Subclass2</code> to <code>b.elem</code> which is actually <code>a.elem</code> which is supposed to be of type <code>Subclass1</code> not <code>Subclass2</code>!</p>\n<p>You wouldn't expect this code to compile:</p>\n<pre><code>Subclass1 o = new Subclass2();  // error!\n</code></pre>\n<p>So the compiler rightfully rejects your code here.</p>\n"}],"owner":{"account_id":19431837,"reputation":47,"user_id":14212075,"display_name":"Jan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1691436791,"creation_date":1691435633,"question_id":76854585,"body_markdown":"I am trying to understand generics in Java and I have run into some problem. Here is the code I have written:\r\n\r\n```\r\nclass Superclass{\r\n}\r\n\r\nclass Subclass extends Superclass{\r\n}\r\n\r\nclass Container &lt;T&gt;{\r\n\tT elem;\r\n}\r\n\r\npublic class Test {\r\n\tpublic static void main(String[] args) {\r\n\t\tContainer&lt;? extends Superclass&gt; b = new Container&lt;Superclass&gt;();\r\n\t\tb.elem = new Superclass();\r\n\t}\t\r\n}\r\n```\r\n\r\nThis results i a strange exception that I just can&#39;t make sense of:\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem: \r\n\tType mismatch: cannot convert from Superclass to capture#1-of ?\r\n\r\n\tat Test.main(Test.java:4)\r\n```\r\n\r\nI tried to make some changes. If i replace the commented line with:\r\n\r\n```\r\nContainer&lt;Superclass&gt; b = new Container&lt;Superclass&gt;();\r\n```\r\n\r\nEverything works fine. That makes sense to me. It&#39;s just normal generics without any wildcard.\r\n\r\nI then changed to commented line again:\r\n\r\n```\r\nContainer&lt;?&gt; b = new Container&lt;Superclass&gt;();\r\n```\r\n\r\nI was surprised that this resulted in an exception too. However I found out that Java guarantees type safety even when using wildcards. I thing I understand why this results in an exception.\r\n\r\nBut I just can&#39;t make sense of why\r\n\r\n```\r\nContainer&lt;? extends Superclass&gt; b = new Container&lt;Superclass&gt;();  \r\n```\r\n\r\nresults i an error. As far as I am aware, \\&lt;? extends Superclass\\&gt; means that I can use any subtype of Superclass in the container. And in Java Superclass is a Subtype of itself or at least functions like it were. I thought that by using extends Superclass there would be type safety and Java would accept the assignment.\r\n\r\nI tried researching my problem but I wasn&#39;t able to find any satisfying answer. I would be very thankful if someone could help me out I tell me, were my mistake is and help me to understand why this line causes problems.","title":"Java generics type mismatch when using wildcard","body":"<p>I am trying to understand generics in Java and I have run into some problem. Here is the code I have written:</p>\n<pre><code>class Superclass{\n}\n\nclass Subclass extends Superclass{\n}\n\nclass Container &lt;T&gt;{\n    T elem;\n}\n\npublic class Test {\n    public static void main(String[] args) {\n        Container&lt;? extends Superclass&gt; b = new Container&lt;Superclass&gt;();\n        b.elem = new Superclass();\n    }   \n}\n</code></pre>\n<p>This results i a strange exception that I just can't make sense of:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem: \n    Type mismatch: cannot convert from Superclass to capture#1-of ?\n\n    at Test.main(Test.java:4)\n</code></pre>\n<p>I tried to make some changes. If i replace the commented line with:</p>\n<pre><code>Container&lt;Superclass&gt; b = new Container&lt;Superclass&gt;();\n</code></pre>\n<p>Everything works fine. That makes sense to me. It's just normal generics without any wildcard.</p>\n<p>I then changed to commented line again:</p>\n<pre><code>Container&lt;?&gt; b = new Container&lt;Superclass&gt;();\n</code></pre>\n<p>I was surprised that this resulted in an exception too. However I found out that Java guarantees type safety even when using wildcards. I thing I understand why this results in an exception.</p>\n<p>But I just can't make sense of why</p>\n<pre><code>Container&lt;? extends Superclass&gt; b = new Container&lt;Superclass&gt;();  \n</code></pre>\n<p>results i an error. As far as I am aware, &lt;? extends Superclass&gt; means that I can use any subtype of Superclass in the container. And in Java Superclass is a Subtype of itself or at least functions like it were. I thought that by using extends Superclass there would be type safety and Java would accept the assignment.</p>\n<p>I tried researching my problem but I wasn't able to find any satisfying answer. I would be very thankful if someone could help me out I tell me, were my mistake is and help me to understand why this line causes problems.</p>\n"},{"tags":["java","image"],"comments":[{"owner":{"account_id":9685245,"reputation":9531,"user_id":7185318,"accept_rate":88,"display_name":"Luatic"},"score":0,"creation_date":1690751288,"post_id":76799383,"comment_id":135393292,"body_markdown":"Note that there are two different URLs. There&#39;s `https://i.ibb.co/jhLWTRV/cat1.jpg`, which is the full-size JPG, and `https://i.stack.imgur.com/BAokI.png`, which looks like a PNG thumbnail. You seem to be downloading the thumbnail, though you don&#39;t seem to show where the `file_path` is coming from?","body":"Note that there are two different URLs. There&#39;s <code>https:&#47;&#47;i.ibb.co&#47;jhLWTRV&#47;cat1.jpg</code>, which is the full-size JPG, and <code>https:&#47;&#47;i.stack.imgur.com&#47;BAokI.png</code>, which looks like a PNG thumbnail. You seem to be downloading the thumbnail, though you don&#39;t seem to show where the <code>file_path</code> is coming from?"},{"owner":{"account_id":17972905,"reputation":5290,"user_id":13061224,"display_name":"siggemannen"},"score":0,"creation_date":1690754987,"post_id":76799383,"comment_id":135393582,"body_markdown":"upvoted for cute cat","body":"upvoted for cute cat"},{"owner":{"account_id":17607759,"reputation":55,"user_id":13308178,"display_name":"danilakds"},"score":0,"creation_date":1690781453,"post_id":76799383,"comment_id":135395397,"body_markdown":"thanks a lot! I really downloaded thumbnail instead of image)","body":"thanks a lot! I really downloaded thumbnail instead of image)"}],"answers":[{"tags":[],"owner":{"account_id":22479937,"reputation":11,"user_id":16679143,"display_name":"thefrostypixel"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691436144,"creation_date":1690750755,"answer_id":76799606,"question_id":76799383,"body_markdown":"The first time I tried to download the image, I got a 162-byte result, but the second time it worked perfectly for me and I got the correct resolution, so maybe try running your code again. Alternatively, you can also just open the image in your browser and press CTRL (or CMD on Mac) + S to save the image. Also, I am not sure why you have such a complicated code to save your image, as ```Files.write(Path.of(file),\r\nnew URL(url).openStream().readAllBytes());``` should do the job just fine.","title":"Save Image from web service without quality loss","body":"<p>The first time I tried to download the image, I got a 162-byte result, but the second time it worked perfectly for me and I got the correct resolution, so maybe try running your code again. Alternatively, you can also just open the image in your browser and press CTRL (or CMD on Mac) + S to save the image. Also, I am not sure why you have such a complicated code to save your image, as <code>Files.write(Path.of(file), new URL(url).openStream().readAllBytes());</code> should do the job just fine.</p>\n"}],"owner":{"account_id":17607759,"reputation":55,"user_id":13308178,"display_name":"danilakds"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1691436144,"creation_date":1690746292,"question_id":76799383,"body_markdown":"So, download method is: \r\n\r\n       private void imageDownload(String file_path) throws IOException {\r\n        OkHttpClient okHttpClient = new OkHttpClient();\r\n        Request request = new Request.Builder()\r\n                .url(url)\r\n                .build();\r\n        Call call = okHttpClient.newCall(request);\r\n        Response response = call.execute();\r\n        saveImage(response);\r\n       }\r\nAnd save method is:\r\n\r\n        public void saveImage(Response response) throws IOException {\r\n            InputStream inputStream = response.body().byteStream();\r\n            BufferedImage image = ImageIO.read(inputStream);\r\n            File outputFile = new File(&quot;images/&quot;+ new Date() + &quot;.png&quot;);\r\n            ImageOutputStream ios = new FileImageOutputStream(outputFile);\r\n            ImageWriter writer = ImageIO.getImageWritersByFormatName(&quot;png&quot;).next();\r\n            ImageWriteParam param = writer.getDefaultWriteParam();\r\n            param.setCompressionMode(ImageWriteParam.MODE_EXPLICIT);\r\n            writer.setOutput(ios);            \r\n            writer.write(image);\r\n        }\r\n\r\nResult is:\r\n\r\nSource image looks like [source cat image][1]\r\n\r\n\r\nImage after downloading and saving:\r\n\r\n[![poor pixel cat][2]][2]\r\n\r\nYeah, it is real size.\r\n\r\nSource image is 3872 &#160;x&#160; 2592 .jpeg\r\n\r\nDownloaded image is 90 &#160;x&#160; 60 .png\r\n\r\nWhat should i do to fix this? I tried different images formats, but it didn&#39;t help.\r\n\r\n  [1]: https://ibb.co/2qjsyN8\r\n  [2]: https://i.stack.imgur.com/BAokI.png","title":"Save Image from web service without quality loss","body":"<p>So, download method is:</p>\n<pre><code>   private void imageDownload(String file_path) throws IOException {\n    OkHttpClient okHttpClient = new OkHttpClient();\n    Request request = new Request.Builder()\n            .url(url)\n            .build();\n    Call call = okHttpClient.newCall(request);\n    Response response = call.execute();\n    saveImage(response);\n   }\n</code></pre>\n<p>And save method is:</p>\n<pre><code>    public void saveImage(Response response) throws IOException {\n        InputStream inputStream = response.body().byteStream();\n        BufferedImage image = ImageIO.read(inputStream);\n        File outputFile = new File(&quot;images/&quot;+ new Date() + &quot;.png&quot;);\n        ImageOutputStream ios = new FileImageOutputStream(outputFile);\n        ImageWriter writer = ImageIO.getImageWritersByFormatName(&quot;png&quot;).next();\n        ImageWriteParam param = writer.getDefaultWriteParam();\n        param.setCompressionMode(ImageWriteParam.MODE_EXPLICIT);\n        writer.setOutput(ios);            \n        writer.write(image);\n    }\n</code></pre>\n<p>Result is:</p>\n<p>Source image looks like <a href=\"https://ibb.co/2qjsyN8\" rel=\"nofollow noreferrer\">source cat image</a></p>\n<p>Image after downloading and saving:</p>\n<p><a href=\"https://i.stack.imgur.com/BAokI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BAokI.png\" alt=\"poor pixel cat\" /></a></p>\n<p>Yeah, it is real size.</p>\n<p>Source image is 3872  x  2592 .jpeg</p>\n<p>Downloaded image is 90  x  60 .png</p>\n<p>What should i do to fix this? I tried different images formats, but it didn't help.</p>\n"},{"tags":["java","memory","memory-leaks","clip"],"answers":[{"comments":[{"owner":{"account_id":62589,"reputation":1333,"user_id":185862,"accept_rate":83,"display_name":"John"},"score":0,"creation_date":1259530838,"post_id":1816845,"comment_id":1706766,"body_markdown":"I let the loop run for about a minute and watched the memory climb and climb. If it was being garbage collected, I should see memory reduced along that minute right?","body":"I let the loop run for about a minute and watched the memory climb and climb. If it was being garbage collected, I should see memory reduced along that minute right?"},{"owner":{"account_id":73877,"reputation":440,"user_id":212515,"display_name":"Simon Righarts"},"score":0,"creation_date":1259530943,"post_id":1816845,"comment_id":1706774,"body_markdown":"Not necessarily. The JVM only runs the GC when it feels like it.","body":"Not necessarily. The JVM only runs the GC when it feels like it."},{"owner":{"account_id":62440,"reputation":23185,"user_id":185541,"display_name":"rsp"},"score":0,"creation_date":1259531082,"post_id":1816845,"comment_id":1706778,"body_markdown":"That depends on how busy the rest of the code is, it might increase for a while before coming back down. The garbage collect cycle tends to display a jigsaw pattern. That&#39;s normal. Having said that you might want to close and clear the resources you use.","body":"That depends on how busy the rest of the code is, it might increase for a while before coming back down. The garbage collect cycle tends to display a jigsaw pattern. That&#39;s normal. Having said that you might want to close and clear the resources you use."},{"owner":{"account_id":398211,"reputation":914,"user_id":762766,"accept_rate":64,"display_name":"nkvnkv"},"score":0,"creation_date":1374959112,"post_id":1816845,"comment_id":26149826,"body_markdown":"&quot;Not necessarily. The JVM only runs the GC when it feels like it.&quot; no, you can cause a gc with  System.gc();","body":"&quot;Not necessarily. The JVM only runs the GC when it feels like it.&quot; no, you can cause a gc with  System.gc();"}],"tags":[],"owner":{"account_id":62440,"reputation":23185,"user_id":185541,"display_name":"rsp"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1259530488,"creation_date":1259530488,"answer_id":1816845,"question_id":1816832,"body_markdown":"If you are sure there is a memory leak and not a garbage collect delay, you could start with closing and cleaning up all resources you allocate, removing the listener and setting all references to `null`. (Move the `File` object out of the loop too.)\r\n\r\nIf that doesn&#39;t help and the javadocs don&#39;t hint at what can be cleared you can trigger a heapdump to see what objects use the memory and what their path to root is.","title":"Java Clip (Sound / Audio) Memory Leak after closing with close()","body":"<p>If you are sure there is a memory leak and not a garbage collect delay, you could start with closing and cleaning up all resources you allocate, removing the listener and setting all references to <code>null</code>. (Move the <code>File</code> object out of the loop too.)</p>\n\n<p>If that doesn't help and the javadocs don't hint at what can be cleared you can trigger a heapdump to see what objects use the memory and what their path to root is.</p>\n"},{"tags":[],"owner":{"account_id":398211,"reputation":914,"user_id":762766,"accept_rate":64,"display_name":"nkvnkv"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1374959049,"creation_date":1374959049,"answer_id":17902447,"question_id":1816832,"body_markdown":"    Try this\r\n        import java.io.File;\r\n        import javax.sound.sampled.*;\r\n        \r\n        public class ClipLeak{\r\n        \r\n        public static void main(String[] args) throws Exception{\r\n        \twhile(true){\r\n        \t\tFile soundFile = new File(&quot;./sound.wav&quot;);\r\n        \t\tAudioInputStream sound = AudioSystem.getAudioInputStream(soundFile);\r\n        \r\n        \t\tDataLine.Info info = new DataLine.Info(Clip.class, sound.getFormat());\r\n        \t\tClip clip = (Clip) AudioSystem.getLine(info);\r\n        \t\tclip.open(sound);\r\n                         \r\n        \r\n        \t\tclip.addLineListener(new LineListener(){\r\n        \t\t\tpublic void update(LineEvent event){\r\n        \t\t\t\tif(event.getType() == LineEvent.Type.STOP){\r\n        \t\t\t\t\tevent.getLine().close();\r\n        \t\t\t\t}\r\n        \t\t\t}\r\n        \t\t});\r\n        \r\n        \t\tclip.start();\r\n        \t\tThread.sleep(2000);\r\n                if (clip.isOpen()) {\r\n                 clip.close();\r\n                 sound.close();\r\n                }\r\n        \t}\r\n        }\r\n        }","title":"Java Clip (Sound / Audio) Memory Leak after closing with close()","body":"<pre><code>Try this\n    import java.io.File;\n    import javax.sound.sampled.*;\n\n    public class ClipLeak{\n\n    public static void main(String[] args) throws Exception{\n        while(true){\n            File soundFile = new File(\"./sound.wav\");\n            AudioInputStream sound = AudioSystem.getAudioInputStream(soundFile);\n\n            DataLine.Info info = new DataLine.Info(Clip.class, sound.getFormat());\n            Clip clip = (Clip) AudioSystem.getLine(info);\n            clip.open(sound);\n\n\n            clip.addLineListener(new LineListener(){\n                public void update(LineEvent event){\n                    if(event.getType() == LineEvent.Type.STOP){\n                        event.getLine().close();\n                    }\n                }\n            });\n\n            clip.start();\n            Thread.sleep(2000);\n            if (clip.isOpen()) {\n             clip.close();\n             sound.close();\n            }\n        }\n    }\n    }\n</code></pre>\n"}],"owner":{"account_id":62589,"reputation":1333,"user_id":185862,"accept_rate":83,"display_name":"John"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3351,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1691435276,"creation_date":1259530125,"question_id":1816832,"body_markdown":"The following code creates a new audio clip, plays it, sleeps for 3 seconds and then closes it when it is finished playing. Despite the call to close(), I am watching the memory usage of the jvm go up by the size of the sound clip every time the while loop is run.\r\n\r\nI&#39;m participating in a game coded in java, and am handling the sound. I cannot have the memory i&#39;m using increase everytime a sound is played.\r\n\r\nWhat am I missing? \r\n\r\n    import java.io.File;\r\n    import javax.sound.sampled.*;\r\n\r\n    public class ClipLeak{\r\n\r\n\tpublic static void main(String[] args) throws Exception{\r\n\t\twhile(true){\r\n\t\t\tFile soundFile = new File(&quot;./sound.wav&quot;);\r\n\t\t\tAudioInputStream sound = AudioSystem.getAudioInputStream(soundFile);\r\n\r\n\t\t\tDataLine.Info info = new DataLine.Info(Clip.class, sound.getFormat());\r\n\t\t\tClip clip = (Clip) AudioSystem.getLine(info);\r\n\t\t\tclip.open(sound);\r\n                        sound.close();\r\n\r\n\t\t\tclip.addLineListener(new LineListener(){\r\n\t\t\t\tpublic void update(LineEvent event){\r\n\t\t\t\t\tif(event.getType() == LineEvent.Type.STOP){\r\n\t\t\t\t\t\tevent.getLine().close();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tclip.start();\r\n\t\t\tThread.sleep(2000);\r\n\t\t}\r\n\t}\r\n    }","title":"Java Clip (Sound / Audio) Memory Leak after closing with close()","body":"<p>The following code creates a new audio clip, plays it, sleeps for 3 seconds and then closes it when it is finished playing. Despite the call to close(), I am watching the memory usage of the jvm go up by the size of the sound clip every time the while loop is run.</p>\n\n<p>I'm participating in a game coded in java, and am handling the sound. I cannot have the memory i'm using increase everytime a sound is played.</p>\n\n<p>What am I missing? </p>\n\n<pre><code>import java.io.File;\nimport javax.sound.sampled.*;\n\npublic class ClipLeak{\n\npublic static void main(String[] args) throws Exception{\n    while(true){\n        File soundFile = new File(\"./sound.wav\");\n        AudioInputStream sound = AudioSystem.getAudioInputStream(soundFile);\n\n        DataLine.Info info = new DataLine.Info(Clip.class, sound.getFormat());\n        Clip clip = (Clip) AudioSystem.getLine(info);\n        clip.open(sound);\n                    sound.close();\n\n        clip.addLineListener(new LineListener(){\n            public void update(LineEvent event){\n                if(event.getType() == LineEvent.Type.STOP){\n                    event.getLine().close();\n                }\n            }\n        });\n\n        clip.start();\n        Thread.sleep(2000);\n    }\n}\n}\n</code></pre>\n"},{"tags":["java","recursion","combinations","permutation"],"comments":[{"owner":{"account_id":3104003,"reputation":1901,"user_id":2627343,"accept_rate":69,"display_name":"Greyshack"},"score":0,"creation_date":1589725952,"post_id":61853351,"comment_id":109401384,"body_markdown":"Can you provide an example of what you&#39;re trying to solve?\n\nExample number N and solution","body":"Can you provide an example of what you&#39;re trying to solve?  Example number N and solution"},{"owner":{"display_name":"user13560439"},"score":0,"creation_date":1589726218,"post_id":61853351,"comment_id":109401509,"body_markdown":"I updated my post with the example","body":"I updated my post with the example"}],"answers":[{"comments":[{"owner":{"account_id":8595751,"reputation":5395,"user_id":6438819,"display_name":"RaffleBuffle"},"score":0,"creation_date":1589733663,"post_id":61853756,"comment_id":109404671,"body_markdown":"Nice answer. These are termed integer compositions or ordered partitions. There are 2^(n-1) compositions of an integer n.","body":"Nice answer. These are termed integer compositions or ordered partitions. There are 2^(n-1) compositions of an integer n."}],"tags":[],"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1589727579,"creation_date":1589727095,"answer_id":61853756,"question_id":61853351,"body_markdown":"You were very close, but you need to undo `temp.add(i)` before continuing the iteration. That is most easily done using a [`Deque`][1] instead of a [`List`][2].\r\n\r\nThis is how I would write it:\r\n\r\n```lang-java\r\npublic static List&lt;List&lt;Integer&gt;&gt; combosWithSum(int sum) {\r\n\tif (sum &lt; 0)\r\n\t\tthrow new IllegalArgumentException(&quot;Sum cannot be negative: &quot; + sum);\r\n\tif (sum == 0)\r\n\t\treturn Collections.emptyList();\r\n\tList&lt;List&lt;Integer&gt;&gt; result = new ArrayList&lt;&gt;();\r\n\tbuildCombosWithSum(sum, new ArrayDeque&lt;&gt;(), result);\r\n\treturn result;\r\n}\r\n\r\nprivate static void buildCombosWithSum(int sum, Deque&lt;Integer&gt; combo, List&lt;List&lt;Integer&gt;&gt; result) {\r\n\tfor (int num = sum; num &gt; 0; num--) {\r\n\t\tcombo.addLast(num);\r\n\t\tif (num == sum)\r\n\t\t\tresult.add(new ArrayList&lt;&gt;(combo));\r\n\t\telse\r\n\t\t\tbuildCombosWithSum(sum - num, combo, result);\r\n\t\tcombo.removeLast();\r\n\t}\r\n}\r\n```\r\n\r\n*Test*\r\n\r\n```lang-java\r\ncombosWithSum(5).forEach(System.out::println);\r\n```\r\n\r\n*Output*\r\n\r\n```lang-none\r\n[5]\r\n[4, 1]\r\n[3, 2]\r\n[3, 1, 1]\r\n[2, 3]\r\n[2, 2, 1]\r\n[2, 1, 2]\r\n[2, 1, 1, 1]\r\n[1, 4]\r\n[1, 3, 1]\r\n[1, 2, 2]\r\n[1, 2, 1, 1]\r\n[1, 1, 3]\r\n[1, 1, 2, 1]\r\n[1, 1, 1, 2]\r\n[1, 1, 1, 1, 1]\r\n```\r\n\r\nTo get the result in the order shown in the question, add the following line before `return result;`:\r\n\r\n```lang-java\r\nresult.sort(Comparator.comparingInt(List::size));\r\n```\r\n\r\n```lang-none\r\n[5]\r\n[4, 1]\r\n[3, 2]\r\n[2, 3]\r\n[1, 4]\r\n[3, 1, 1]\r\n[2, 2, 1]\r\n[2, 1, 2]\r\n[1, 3, 1]\r\n[1, 2, 2]\r\n[1, 1, 3]\r\n[2, 1, 1, 1]\r\n[1, 2, 1, 1]\r\n[1, 1, 2, 1]\r\n[1, 1, 1, 2]\r\n[1, 1, 1, 1, 1]\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Deque.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/List.html","title":"Generating all permutation of numbers that sums up to N","body":"<p>You were very close, but you need to undo <code>temp.add(i)</code> before continuing the iteration. That is most easily done using a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Deque.html\" rel=\"noreferrer\"><code>Deque</code></a> instead of a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/List.html\" rel=\"noreferrer\"><code>List</code></a>.</p>\n\n<p>This is how I would write it:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public static List&lt;List&lt;Integer&gt;&gt; combosWithSum(int sum) {\n    if (sum &lt; 0)\n        throw new IllegalArgumentException(\"Sum cannot be negative: \" + sum);\n    if (sum == 0)\n        return Collections.emptyList();\n    List&lt;List&lt;Integer&gt;&gt; result = new ArrayList&lt;&gt;();\n    buildCombosWithSum(sum, new ArrayDeque&lt;&gt;(), result);\n    return result;\n}\n\nprivate static void buildCombosWithSum(int sum, Deque&lt;Integer&gt; combo, List&lt;List&lt;Integer&gt;&gt; result) {\n    for (int num = sum; num &gt; 0; num--) {\n        combo.addLast(num);\n        if (num == sum)\n            result.add(new ArrayList&lt;&gt;(combo));\n        else\n            buildCombosWithSum(sum - num, combo, result);\n        combo.removeLast();\n    }\n}\n</code></pre>\n\n<p><em>Test</em></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>combosWithSum(5).forEach(System.out::println);\n</code></pre>\n\n<p><em>Output</em></p>\n\n<pre class=\"lang-none prettyprint-override\"><code>[5]\n[4, 1]\n[3, 2]\n[3, 1, 1]\n[2, 3]\n[2, 2, 1]\n[2, 1, 2]\n[2, 1, 1, 1]\n[1, 4]\n[1, 3, 1]\n[1, 2, 2]\n[1, 2, 1, 1]\n[1, 1, 3]\n[1, 1, 2, 1]\n[1, 1, 1, 2]\n[1, 1, 1, 1, 1]\n</code></pre>\n\n<p>To get the result in the order shown in the question, add the following line before <code>return result;</code>:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>result.sort(Comparator.comparingInt(List::size));\n</code></pre>\n\n<pre class=\"lang-none prettyprint-override\"><code>[5]\n[4, 1]\n[3, 2]\n[2, 3]\n[1, 4]\n[3, 1, 1]\n[2, 2, 1]\n[2, 1, 2]\n[1, 3, 1]\n[1, 2, 2]\n[1, 1, 3]\n[2, 1, 1, 1]\n[1, 2, 1, 1]\n[1, 1, 2, 1]\n[1, 1, 1, 2]\n[1, 1, 1, 1, 1]\n</code></pre>\n"}],"owner":{"display_name":"user13560439"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1100,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":61853756,"answer_count":1,"score":2,"last_activity_date":1691434925,"creation_date":1589725395,"question_id":61853351,"body_markdown":"I am writing a program to create a recursive permutation of all numbers&lt;=N that add up to a given number N. However I am at a loss on how to create that permutation. Any insights would be appreciated.\r\n\r\nAt first I was trying to partition the numbers using the partition function and permutate each number set later, however I don&#39;t think it would work and the best way is the recursively permutate while summing the numbers which is way over my head.\r\n\r\nSorry if this sounds really dumb. But I really have no idea.\r\n\r\nExample:\r\n\r\n    Input: 4\r\n    \r\n    Output: [[4],[3,1],[1,3],[2,2],[1,1,2],[1,2,1],[2,1,1],[1,1,1,1]]\r\n\r\n```\r\npublic class Perm{\r\n\r\n\r\n    public List&lt;List&lt;Integer&gt;&gt; partition(int num, int maxNum, List&lt;List&lt;Integer&gt;&gt; arr, ArrayList&lt;Integer&gt; temp){\r\n        if (num == 0) {\r\n            arr.add((List&lt;Integer&gt;)temp.clone());\r\n            temp.clear();\r\n        }\r\n        else{\r\n            for (int i = Math.min(maxNum, num); i &gt;= 1; i--) {\r\n                temp.add(i);\r\n                System.out.println(temp);\r\n                partition(num-i, i, arr, temp);\r\n            }\r\n        }\r\n\r\n        return arr;\r\n    }\r\n\r\n}\r\n```","title":"Generating all permutation of numbers that sums up to N","body":"<p>I am writing a program to create a recursive permutation of all numbers&lt;=N that add up to a given number N. However I am at a loss on how to create that permutation. Any insights would be appreciated.</p>\n<p>At first I was trying to partition the numbers using the partition function and permutate each number set later, however I don't think it would work and the best way is the recursively permutate while summing the numbers which is way over my head.</p>\n<p>Sorry if this sounds really dumb. But I really have no idea.</p>\n<p>Example:</p>\n<pre><code>Input: 4\n\nOutput: [[4],[3,1],[1,3],[2,2],[1,1,2],[1,2,1],[2,1,1],[1,1,1,1]]\n</code></pre>\n<pre><code>public class Perm{\n\n\n    public List&lt;List&lt;Integer&gt;&gt; partition(int num, int maxNum, List&lt;List&lt;Integer&gt;&gt; arr, ArrayList&lt;Integer&gt; temp){\n        if (num == 0) {\n            arr.add((List&lt;Integer&gt;)temp.clone());\n            temp.clear();\n        }\n        else{\n            for (int i = Math.min(maxNum, num); i &gt;= 1; i--) {\n                temp.add(i);\n                System.out.println(temp);\n                partition(num-i, i, arr, temp);\n            }\n        }\n\n        return arr;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","spring-boot"],"answers":[{"comments":[{"owner":{"account_id":15325457,"reputation":3,"user_id":11056730,"display_name":"Narjess"},"score":0,"creation_date":1690994287,"post_id":76821884,"comment_id":135431582,"body_markdown":"thank you   for your response is there any way to it with the stream ?","body":"thank you   for your response is there any way to it with the stream ?"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1691432742,"post_id":76821884,"comment_id":135488120,"body_markdown":"This doesn&#39;t appear to be Java.","body":"This doesn&#39;t appear to be Java."}],"tags":[],"owner":{"account_id":20582668,"reputation":85,"user_id":15108348,"display_name":"khurram shafique"},"comment_count":2,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1691432683,"creation_date":1690993964,"answer_id":76821884,"question_id":76821850,"body_markdown":"```\r\noutput = &quot;&quot;&quot;\r\nPRODUCT NUMBER : 2/CAX 105 7373\r\nR-STATE : R1A\r\nPRODUCT NUMBER : 14/CAX 105 9806\r\nR-STATE : R1A\r\nPRODUCT NUMBER : 19/CAX 105 9770\r\nR-STATE : R1A\r\nPRODUCT NUMBER : 32/CAX 105 4737\r\nR-STATE : R1A\r\n&quot;&quot;&quot;\r\n\r\n# Split the output into lines\r\nlines = output.strip().split(&#39;\\n&#39;)\r\n\r\n# Create the list by pairing every 2 lines\r\nresult_list = [(lines[i], lines[i+1]) for i in range(0, len(lines), 2)]\r\n\r\nprint(result_list)\r\n```","title":"how to read every 2 lines from a file and put them in cell of a list","body":"<pre><code>output = &quot;&quot;&quot;\nPRODUCT NUMBER : 2/CAX 105 7373\nR-STATE : R1A\nPRODUCT NUMBER : 14/CAX 105 9806\nR-STATE : R1A\nPRODUCT NUMBER : 19/CAX 105 9770\nR-STATE : R1A\nPRODUCT NUMBER : 32/CAX 105 4737\nR-STATE : R1A\n&quot;&quot;&quot;\n\n# Split the output into lines\nlines = output.strip().split('\\n')\n\n# Create the list by pairing every 2 lines\nresult_list = [(lines[i], lines[i+1]) for i in range(0, len(lines), 2)]\n\nprint(result_list)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27653278,"reputation":395,"user_id":21107707,"display_name":"vs07"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690994954,"creation_date":1690994954,"answer_id":76821999,"question_id":76821850,"body_markdown":"To do this in Java, you can make use of an `ArrayList`, which is like Python&#39;s `list` in that it can have variable length.\r\n\r\n```java\r\nimport java.io.*\r\n\r\npublic static ArrayList&lt;String&gt; readFile(String filename) throws FileNotFoundException {\r\n    Scanner scan = new Scanner(new FileInputStream(filename));\r\n    ArrayList&lt;String&gt; output = new ArrayList&lt;String&gt;();\r\n    \r\n    // counts every two lines\r\n    int counter = 0;\r\n\r\n    // note: this will break if your file has an odd number of lines\r\n    while (scan.hasNextLine()) {\r\n        String temp = scan.nextLine() + &quot;\\n&quot; + scan.nextLine();\r\n        output.add(temp);\r\n    }\r\n\r\n    return output;\r\n} \r\n\r\n```","title":"how to read every 2 lines from a file and put them in cell of a list","body":"<p>To do this in Java, you can make use of an <code>ArrayList</code>, which is like Python's <code>list</code> in that it can have variable length.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.*\n\npublic static ArrayList&lt;String&gt; readFile(String filename) throws FileNotFoundException {\n    Scanner scan = new Scanner(new FileInputStream(filename));\n    ArrayList&lt;String&gt; output = new ArrayList&lt;String&gt;();\n    \n    // counts every two lines\n    int counter = 0;\n\n    // note: this will break if your file has an odd number of lines\n    while (scan.hasNextLine()) {\n        String temp = scan.nextLine() + &quot;\\n&quot; + scan.nextLine();\n        output.add(temp);\n    }\n\n    return output;\n} \n\n</code></pre>\n"}],"owner":{"account_id":15325457,"reputation":3,"user_id":11056730,"display_name":"Narjess"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1691061283,"accepted_answer_id":76821999,"answer_count":2,"score":-2,"last_activity_date":1691432683,"creation_date":1690993745,"question_id":76821850,"body_markdown":"I have this out put : \r\n\r\n    PRODUCT NUMBER   : 2/CAX 105 7373                                                                                                                                                                                 \r\n    R-STATE          : R1A                                                                                                                                                                                            \r\n    PRODUCT NUMBER   : 14/CAX 105 9806                                                                                                                                                                                \r\n    R-STATE          : R1A                                                                                                                                                                                            \r\n    PRODUCT NUMBER   : 19/CAX 105 9770                                                                                                                                                                                \r\n    R-STATE          : R1A                                                                                                                                                                                            \r\n    PRODUCT NUMBER   : 32/CAX 105 4737                                                                                                                                                                                \r\n    R-STATE          : R1A              \r\n\r\ni need to put every 2 lines (product number and r-state in a list) it will be every \r\n\r\n    PRODUCT NUMBER   : 2/CAX 105 7373      \r\n    R-STATE          : R1A   \r\n\r\nis a case of a list\r\n\r\nany help please\r\nthank you !!","title":"how to read every 2 lines from a file and put them in cell of a list","body":"<p>I have this out put :</p>\n<pre><code>PRODUCT NUMBER   : 2/CAX 105 7373                                                                                                                                                                                 \nR-STATE          : R1A                                                                                                                                                                                            \nPRODUCT NUMBER   : 14/CAX 105 9806                                                                                                                                                                                \nR-STATE          : R1A                                                                                                                                                                                            \nPRODUCT NUMBER   : 19/CAX 105 9770                                                                                                                                                                                \nR-STATE          : R1A                                                                                                                                                                                            \nPRODUCT NUMBER   : 32/CAX 105 4737                                                                                                                                                                                \nR-STATE          : R1A              \n</code></pre>\n<p>i need to put every 2 lines (product number and r-state in a list) it will be every</p>\n<pre><code>PRODUCT NUMBER   : 2/CAX 105 7373      \nR-STATE          : R1A   \n</code></pre>\n<p>is a case of a list</p>\n<p>any help please\nthank you !!</p>\n"},{"tags":["java","integration","webmethods","java-service-wrapper"],"owner":{"account_id":29176787,"reputation":1,"user_id":22351879,"display_name":"Sourav Kundu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691432331,"creation_date":1691431017,"question_id":76854111,"body_markdown":"I wrote a java service in webmethods to open any folder in windows explorer but it wasn’t working as expected. When I debugged the code it was working fine but when i ran the service it wasn’t working. Can someone help me here\r\n\r\nI want to open any directory with a java service in Webmethods.\r\npackage Java_Services;\r\n\r\n\t\tIDataCursor pipelineCursor = pipeline.getCursor();\r\n\t\t\tString\tFilePath = IDataUtil.getString( pipelineCursor, &quot;path&quot; );\r\n\t\t\t\r\n\t\t    File openfile = new File(FilePath);\r\n\t\t    try {\r\n\t\t    \tif (Desktop.isDesktopSupported())\r\n\t\t        {\r\n\t\t    \t\t//Desktop.getDesktop().browseFileDirectory(openfile);\r\n\t\t            Desktop.getDesktop().open(openfile);\r\n\t\t            //d.open(openfile);\r\n\t\t        }\r\n\t\t    \telse {}\r\n\t\t    }\r\n\t\t\r\n\t\t    catch (IOException e) \r\n\t\t        { }\r\n\t\t\t\r\n\t\tpipelineCursor.destroy();","title":"Java Service In Webmethods","body":"<p>I wrote a java service in webmethods to open any folder in windows explorer but it wasn’t working as expected. When I debugged the code it was working fine but when i ran the service it wasn’t working. Can someone help me here</p>\n<p>I want to open any directory with a java service in Webmethods.\npackage Java_Services;</p>\n<pre><code>    IDataCursor pipelineCursor = pipeline.getCursor();\n        String  FilePath = IDataUtil.getString( pipelineCursor, &quot;path&quot; );\n        \n        File openfile = new File(FilePath);\n        try {\n            if (Desktop.isDesktopSupported())\n            {\n                //Desktop.getDesktop().browseFileDirectory(openfile);\n                Desktop.getDesktop().open(openfile);\n                //d.open(openfile);\n            }\n            else {}\n        }\n    \n        catch (IOException e) \n            { }\n        \n    pipelineCursor.destroy();\n</code></pre>\n"},{"tags":["java","swing","jbutton"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":2,"creation_date":1329747866,"post_id":9361658,"comment_id":11821972,"body_markdown":"*&quot;let the border disappeared like this image&quot;*  That looks very non-intuitive.  What *else* are you doing to confound &amp; confuse the poor end user?","body":"<i>&quot;let the border disappeared like this image&quot;</i>  That looks very non-intuitive.  What <i>else</i> are you doing to confound &amp; confuse the poor end user?"},{"owner":{"account_id":1263150,"reputation":381,"user_id":1221001,"accept_rate":0,"display_name":"Cocc Cocc"},"score":0,"creation_date":1329748165,"post_id":9361658,"comment_id":11822093,"body_markdown":"So, which words do u think  best in this case? Btw, English isn&#39;t my first language.","body":"So, which words do u think  best in this case? Btw, English isn&#39;t my first language."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1329748713,"post_id":9361658,"comment_id":11822306,"body_markdown":"I was referring to the borderless button as being &#39;non-intuitive&#39;, not what you wrote.  What you wrote is quite clear.  Sorry for any confusion.","body":"I was referring to the borderless button as being &#39;non-intuitive&#39;, not what you wrote.  What you wrote is quite clear.  Sorry for any confusion."}],"answers":[{"comments":[{"owner":{"account_id":1263150,"reputation":381,"user_id":1221001,"accept_rate":0,"display_name":"Cocc Cocc"},"score":0,"creation_date":1329744145,"post_id":9361749,"comment_id":11820715,"body_markdown":"When i set &quot;Border emptyBorder = BorderFactory.createEmptyBorder();\nyourButton.setBorder(emptyBorder)&quot;; it gave me the normal button without any effect.","body":"When i set &quot;Border emptyBorder = BorderFactory.createEmptyBorder(); yourButton.setBorder(emptyBorder)&quot;; it gave me the normal button without any effect."}],"tags":[],"owner":{"account_id":435201,"reputation":135,"user_id":821671,"display_name":"Rbn"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1329743700,"creation_date":1329743700,"answer_id":9361749,"question_id":9361658,"body_markdown":"see if this can help you out [Remove border][1]\r\n\r\nor maybe this\r\n\r\n    Border emptyBorder = BorderFactory.createEmptyBorder();\r\n    yourButton.setBorder(emptyBorder);\r\n\r\n\r\n  [1]: http://www.daniweb.com/software-development/java/threads/89165","title":"Disable JButton focus border","body":"<p>see if this can help you out <a href=\"http://www.daniweb.com/software-development/java/threads/89165\" rel=\"nofollow\">Remove border</a></p>\n\n<p>or maybe this</p>\n\n<pre><code>Border emptyBorder = BorderFactory.createEmptyBorder();\nyourButton.setBorder(emptyBorder);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":9495746,"reputation":83,"user_id":7058848,"accept_rate":60,"display_name":"david"},"score":0,"creation_date":1596101971,"post_id":9361994,"comment_id":111705500,"body_markdown":"this solution not worked with ButtonGroup and JRadioButton","body":"this solution not worked with ButtonGroup and JRadioButton"}],"tags":[],"owner":{"account_id":1260452,"reputation":1719,"user_id":1218881,"accept_rate":67,"display_name":"zari"},"comment_count":1,"down_vote_count":0,"up_vote_count":120,"is_accepted":false,"score":120,"last_activity_date":1355307008,"creation_date":1329744812,"answer_id":9361994,"question_id":9361658,"body_markdown":"That is not border. It&#39;s focus. You can remove it using:\r\n\r\n    jButton1.setFocusPainted(false);","title":"Disable JButton focus border","body":"<p>That is not border. It's focus. You can remove it using:</p>\n\n<pre><code>jButton1.setFocusPainted(false);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":73745,"reputation":20493,"user_id":212211,"accept_rate":89,"display_name":"ring bearer"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1329771614,"creation_date":1329771614,"answer_id":9368342,"question_id":9361658,"body_markdown":"I do not think doing this with usual `JButton` is a good idea. If nothing, it will not show similar in different platforms ( Mac &amp; Linux) in case you plan to show this button in different platforms.\r\nFor all practical purposes `button.setFocusPainted(false);` should take care of your current requirement.\r\n\r\nConsider using an extended `JLabel` with button like behavior(with action listeners) to avoid behavior differences.\r\n","title":"Disable JButton focus border","body":"<p>I do not think doing this with usual <code>JButton</code> is a good idea. If nothing, it will not show similar in different platforms ( Mac &amp; Linux) in case you plan to show this button in different platforms.\nFor all practical purposes <code>button.setFocusPainted(false);</code> should take care of your current requirement.</p>\n\n<p>Consider using an extended <code>JLabel</code> with button like behavior(with action listeners) to avoid behavior differences.</p>\n"},{"comments":[{"owner":{"account_id":3240949,"reputation":314,"user_id":2734025,"accept_rate":56,"display_name":"Goombert"},"score":0,"creation_date":1454436100,"post_id":32752408,"comment_id":58039503,"body_markdown":"Important to note that this is the correct default behavior only for ToolBars. In Visual Studio with Windows Forms a ToolStrip has TabStop set to false by default. Use my UI fix above to get rid of the dotted borders on Toolbar buttons and ToggleButtons which never have them in Windows with or without focus.","body":"Important to note that this is the correct default behavior only for ToolBars. In Visual Studio with Windows Forms a ToolStrip has TabStop set to false by default. Use my UI fix above to get rid of the dotted borders on Toolbar buttons and ToggleButtons which never have them in Windows with or without focus."},{"owner":{"account_id":4182650,"reputation":521,"user_id":3427178,"display_name":"jkmartindale"},"score":0,"creation_date":1654293541,"post_id":32752408,"comment_id":128065015,"body_markdown":"Relevant answer for `Component`s other than `JButton` (how I ended up here)","body":"Relevant answer for <code>Component</code>s other than <code>JButton</code> (how I ended up here)"}],"tags":[],"owner":{"account_id":3398878,"reputation":10368,"user_id":2851687,"accept_rate":82,"display_name":"ralphgabb"},"comment_count":2,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1443061853,"creation_date":1443061853,"answer_id":32752408,"question_id":9361658,"body_markdown":"This may be old thread, but I solved mine with \r\n`button.setFocusable(false)` \r\n\r\nhope it helps for those whose still looking for some answer.\r\ncheers.","title":"Disable JButton focus border","body":"<p>This may be old thread, but I solved mine with \n<code>button.setFocusable(false)</code> </p>\n\n<p>hope it helps for those whose still looking for some answer.\ncheers.</p>\n"},{"tags":[],"owner":{"account_id":3240949,"reputation":314,"user_id":2734025,"accept_rate":56,"display_name":"Goombert"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1454436016,"creation_date":1454394285,"answer_id":35146492,"question_id":9361658,"body_markdown":"After digging I have come up with a better solution. This is also a common UI bug in GTK applications on Windows, one of them being GIMP. It greatly annoys me so I wanted to find a better fix global fix than setting it on every control manually.\r\n\r\nThe workaround sets the color for the focus on all the common controls that it&#39;s not supposed to occur to transparent. I went and tested extensively with Windows Forms in Visual Studio. Toolbar buttons and ToggleButtons should never have the dotted border even when focused. Toolbars are supposed to be setFocusable(false); by default as they are in Windows. Every other control should have the dotted border as in Swing, but only when being focus cycled.\r\n\r\n    \t\t// Removes the dotted border around controls which is not consistent with Windows\r\n\t\t\tUIManager.put(&quot;Button.focus&quot;, new ColorUIResource(new Color(0, 0, 0, 0)));\r\n\t\t\tUIManager.put(&quot;ToggleButton.focus&quot;, new ColorUIResource(new Color(0, 0, 0, 0)));\r\n\r\n    \t\t// ways to remove it from other controls...\r\n\t\t\tUIManager.put(&quot;CheckBox.focus&quot;, new ColorUIResource(new Color(0, 0, 0, 0)));\r\n\t\t\tUIManager.put(&quot;TabbedPane.focus&quot;, new ColorUIResource(new Color(0, 0, 0, 0)));\r\n\t\t\tUIManager.put(&quot;RadioButton.focus&quot;, new ColorUIResource(new Color(0, 0, 0, 0)));\r\n\t\t\tUIManager.put(&quot;Slider.focus&quot;, new ColorUIResource(new Color(0, 0, 0, 0)));\r\n\t\r\n\t\t\t// figure out combobox\r\n\t\t\tUIManager.put(&quot;ComboBox.focus&quot;, new ColorUIResource(new Color(0, 0, 0, 0)));","title":"Disable JButton focus border","body":"<p>After digging I have come up with a better solution. This is also a common UI bug in GTK applications on Windows, one of them being GIMP. It greatly annoys me so I wanted to find a better fix global fix than setting it on every control manually.</p>\n\n<p>The workaround sets the color for the focus on all the common controls that it's not supposed to occur to transparent. I went and tested extensively with Windows Forms in Visual Studio. Toolbar buttons and ToggleButtons should never have the dotted border even when focused. Toolbars are supposed to be setFocusable(false); by default as they are in Windows. Every other control should have the dotted border as in Swing, but only when being focus cycled.</p>\n\n<pre><code>        // Removes the dotted border around controls which is not consistent with Windows\n        UIManager.put(\"Button.focus\", new ColorUIResource(new Color(0, 0, 0, 0)));\n        UIManager.put(\"ToggleButton.focus\", new ColorUIResource(new Color(0, 0, 0, 0)));\n\n        // ways to remove it from other controls...\n        UIManager.put(\"CheckBox.focus\", new ColorUIResource(new Color(0, 0, 0, 0)));\n        UIManager.put(\"TabbedPane.focus\", new ColorUIResource(new Color(0, 0, 0, 0)));\n        UIManager.put(\"RadioButton.focus\", new ColorUIResource(new Color(0, 0, 0, 0)));\n        UIManager.put(\"Slider.focus\", new ColorUIResource(new Color(0, 0, 0, 0)));\n\n        // figure out combobox\n        UIManager.put(\"ComboBox.focus\", new ColorUIResource(new Color(0, 0, 0, 0)));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27398162,"reputation":17,"user_id":20900028,"display_name":"Rarest Loki"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691431983,"creation_date":1691431875,"answer_id":76854203,"question_id":9361658,"body_markdown":"    JButton button = new JButton();\r\n    button.setFocusPainted(false); //To don&#39;t paint borders while \r\n                                  //JButton is in focus.\r\n\r\n    button.setBorderPainted(false);//To don&#39;t paint JButton&#39;s borders.","title":"Disable JButton focus border","body":"<pre><code>JButton button = new JButton();\nbutton.setFocusPainted(false); //To don't paint borders while \n                              //JButton is in focus.\n\nbutton.setBorderPainted(false);//To don't paint JButton's borders.\n</code></pre>\n"}],"owner":{"account_id":1263150,"reputation":381,"user_id":1221001,"accept_rate":0,"display_name":"Cocc Cocc"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49716,"favorite_count":0,"down_vote_count":0,"up_vote_count":36,"answer_count":6,"score":36,"last_activity_date":1691431983,"creation_date":1329743366,"question_id":9361658,"body_markdown":"I have a problem with JButton in Java. Basically, I want to disable the button&#39;s border (the button is added to JDesktopPane ). \r\n\r\nHere is my code :\r\n\r\n     JButton j = new JButton(&quot;BUTTON&quot;);\r\n     j.setIcon(icon1); //icon1 : icon//\r\n     j.setFocusable(true);\r\n     j.setContentAreaFilled(false);\r\n     j.setBounds(90, 20, 130, 30);\r\n     dtp.add(j); //dtp : JDesktopPane//\r\n\r\nIt could let the border disappear like in this image:\r\n\r\n![enter image description here][1]\r\n\r\nBut when my mouse is clicked (not moved around) into the button, there is a &quot;dot&quot; border around the button, like this:\r\n\r\n![enter image description here][2]\r\n\r\nSo, how could I set the button so that when I don&#39;t move the mouse around the button area, it&#39;s still set like the first image, but when I move the mouse around, there&#39;s a square around the button (with a light-blue background)?\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/yqrOg.jpg\r\n  [2]: http://i.stack.imgur.com/zHCy6.jpg","title":"Disable JButton focus border","body":"<p>I have a problem with JButton in Java. Basically, I want to disable the button's border (the button is added to JDesktopPane ). </p>\n\n<p>Here is my code :</p>\n\n<pre><code> JButton j = new JButton(\"BUTTON\");\n j.setIcon(icon1); //icon1 : icon//\n j.setFocusable(true);\n j.setContentAreaFilled(false);\n j.setBounds(90, 20, 130, 30);\n dtp.add(j); //dtp : JDesktopPane//\n</code></pre>\n\n<p>It could let the border disappear like in this image:</p>\n\n<p><img src=\"https://i.stack.imgur.com/yqrOg.jpg\" alt=\"enter image description here\"></p>\n\n<p>But when my mouse is clicked (not moved around) into the button, there is a \"dot\" border around the button, like this:</p>\n\n<p><img src=\"https://i.stack.imgur.com/zHCy6.jpg\" alt=\"enter image description here\"></p>\n\n<p>So, how could I set the button so that when I don't move the mouse around the button area, it's still set like the first image, but when I move the mouse around, there's a square around the button (with a light-blue background)?</p>\n"},{"tags":["java","android","button","fragment"],"comments":[{"owner":{"account_id":12924971,"reputation":2766,"user_id":9346054,"accept_rate":100,"display_name":"Ticherhaz FreePalestine"},"score":0,"creation_date":1649773035,"post_id":71844229,"comment_id":126957511,"body_markdown":"Hi Deba, maybe this link will help you. https://stackoverflow.com/a/67881472/9346054","body":"Hi Deba, maybe this link will help you. <a href=\"https://stackoverflow.com/a/67881472/9346054\">stackoverflow.com/a/67881472/9346054</a>"},{"owner":{"account_id":17575058,"reputation":2200,"user_id":12749998,"display_name":"Kozmotronik"},"score":0,"creation_date":1649775579,"post_id":71844229,"comment_id":126958702,"body_markdown":"Possible duplicate of https://stackoverflow.com/q/32700818/12749998 and https://stackoverflow.com/q/13194081/12749998.","body":"Possible duplicate of <a href=\"https://stackoverflow.com/q/32700818/12749998\">stackoverflow.com/q/32700818/12749998</a> and <a href=\"https://stackoverflow.com/q/13194081/12749998\">stackoverflow.com/q/13194081/12749998</a>."}],"answers":[{"tags":[],"owner":{"account_id":26335500,"reputation":1,"user_id":19995410,"display_name":"Mahir Debeche"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667299698,"creation_date":1667299698,"answer_id":74274744,"question_id":71844229,"body_markdown":"you need to add declare a View : \r\n\r\n    package com.example.konjicdiscover10;\r\n\r\n    import android.os.Bundle;\r\n    import android.view.LayoutInflater;\r\n    import android.view.View;\r\n    import android.view.ViewGroup;\r\n\r\n    import androidx.annotation.NonNull;\r\n    import androidx.annotation.Nullable;\r\n    import androidx.fragment.app.Fragment;\r\n\r\n    View view;\r\n\r\n    public class SettingsFragment extends Fragment {\r\n\r\n    @Nullable\r\n    @Override\r\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable       ViewGroup container, \r\n    @Nullable Bundle savedInstanceState) {\r\n    view = inflater.inflate(R.layout.fragment_settings, container, false);\r\n\r\n    Button myButton = view.findViewById(R.id.button);\r\n    myButton..setOnClickListener(new View.OnClickListener() {\r\n          @Override\r\n          public void onClick(View view) {\r\n              //write what you want the button to do\r\n          }\r\n    });\r\n    return view;\r\n\r\n    }\r\n    }\r\n\r\nadd View :\r\n\r\n    View view;\r\nAnd set the :\r\n\r\n    view = inflater.inflate(R.layout.fragment_settings, container, false);\r\n\r\nand when you link your xml code with java you will use the &#39;view&#39; like that :\r\n\r\n    myButton = view.findViewById(R.id.button);\r\n\r\nfinally you return the view \r\n\r\n    return view;","title":"buttons in fragment(android studio)","body":"<p>you need to add declare a View :</p>\n<pre><code>package com.example.konjicdiscover10;\n\nimport android.os.Bundle;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\n\nimport androidx.annotation.NonNull;\nimport androidx.annotation.Nullable;\nimport androidx.fragment.app.Fragment;\n\nView view;\n\npublic class SettingsFragment extends Fragment {\n\n@Nullable\n@Override\npublic View onCreateView(@NonNull LayoutInflater inflater, @Nullable       ViewGroup container, \n@Nullable Bundle savedInstanceState) {\nview = inflater.inflate(R.layout.fragment_settings, container, false);\n\nButton myButton = view.findViewById(R.id.button);\nmyButton..setOnClickListener(new View.OnClickListener() {\n      @Override\n      public void onClick(View view) {\n          //write what you want the button to do\n      }\n});\nreturn view;\n\n}\n}\n</code></pre>\n<p>add View :</p>\n<pre><code>View view;\n</code></pre>\n<p>And set the :</p>\n<pre><code>view = inflater.inflate(R.layout.fragment_settings, container, false);\n</code></pre>\n<p>and when you link your xml code with java you will use the 'view' like that :</p>\n<pre><code>myButton = view.findViewById(R.id.button);\n</code></pre>\n<p>finally you return the view</p>\n<pre><code>return view;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22327635,"reputation":1,"user_id":16549412,"display_name":"devTM"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691431575,"creation_date":1691431575,"answer_id":76854170,"question_id":71844229,"body_markdown":"It is probably best practice to implement your buttons in the `onViewCreated` method of the `Fragment` class.\r\n\r\nThis seems to be the most logical place since you want to implement the buttons as soon as the `view` is created. The benefit of using this method is that you don&#39;t have to bother about storing the `View` as variable. The parent class will handle this for you.\r\n\r\nExample\r\n```java\r\npackage com.example.app;\r\n\r\nimport android.app.Activity;\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\n\r\nimport android.widget.Button;\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.fragment.app.Fragment;\r\nimport com.example.app.R;\r\n\r\npublic class SettingsFragment extends Fragment {\r\n    private Button mOpenButton;\r\n    private Button mCloseButton;\r\n\r\n    // constructor\r\n    public SettingsFragment(){\r\n        // require a empty public constructor\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(@Nullable Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n    }\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\r\n        // Inflate the layout for this fragment\r\n        return inflater.inflate(R.layout.fragment_settings, container, false);\r\n    }\r\n\r\n    @Override\r\n    public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\r\n        super.onViewCreated(view, savedInstanceState);\r\n\r\n        this.mOpenButton = (Button) view.findViewById(R.id.button);\r\n        this.mCloseButton = (Button) view.findViewById(R.id.button2);\r\n\r\n        this.mOpenButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                SettingsFragment.this.openSomething();\r\n                // in your case: SettingsFragment.this.activateDarkMode();\r\n            }\r\n        });\r\n\r\n        mCloseButton.setOnClickListener(view -&gt; {\r\n            @Override\r\n            public void onClick(View view) {\r\n                closeSomething();\r\n                // in your case: selectLanguage();\r\n            }\r\n        });\r\n    }\r\n\r\n    private void openSomething() {\r\n        // in your case: activate dark mode\r\n    }\r\n\r\n    private void closeSomething() {\r\n        // in your case: select language\r\n    }\r\n}\r\n```","title":"buttons in fragment(android studio)","body":"<p>It is probably best practice to implement your buttons in the <code>onViewCreated</code> method of the <code>Fragment</code> class.</p>\n<p>This seems to be the most logical place since you want to implement the buttons as soon as the <code>view</code> is created. The benefit of using this method is that you don't have to bother about storing the <code>View</code> as variable. The parent class will handle this for you.</p>\n<p>Example</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.app;\n\nimport android.app.Activity;\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\n\nimport android.widget.Button;\nimport androidx.annotation.NonNull;\nimport androidx.annotation.Nullable;\nimport androidx.fragment.app.Fragment;\nimport com.example.app.R;\n\npublic class SettingsFragment extends Fragment {\n    private Button mOpenButton;\n    private Button mCloseButton;\n\n    // constructor\n    public SettingsFragment(){\n        // require a empty public constructor\n    }\n\n    @Override\n    public void onCreate(@Nullable Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n    }\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\n        // Inflate the layout for this fragment\n        return inflater.inflate(R.layout.fragment_settings, container, false);\n    }\n\n    @Override\n    public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\n        super.onViewCreated(view, savedInstanceState);\n\n        this.mOpenButton = (Button) view.findViewById(R.id.button);\n        this.mCloseButton = (Button) view.findViewById(R.id.button2);\n\n        this.mOpenButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                SettingsFragment.this.openSomething();\n                // in your case: SettingsFragment.this.activateDarkMode();\n            }\n        });\n\n        mCloseButton.setOnClickListener(view -&gt; {\n            @Override\n            public void onClick(View view) {\n                closeSomething();\n                // in your case: selectLanguage();\n            }\n        });\n    }\n\n    private void openSomething() {\n        // in your case: activate dark mode\n    }\n\n    private void closeSomething() {\n        // in your case: select language\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":24883506,"reputation":1,"user_id":18756435,"display_name":"Deba"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":509,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1691431575,"creation_date":1649772697,"question_id":71844229,"body_markdown":"I&#39;m working on my app, and came to a huge problem. I need to implement buttons in my fragments and can&#39;t find a normal solution that works. this is the code:\r\n\r\n    package com.example.konjicdiscover10;\r\n\r\n    import android.os.Bundle;\r\n    import android.view.LayoutInflater;\r\n    import android.view.View;\r\n    import android.view.ViewGroup;\r\n\r\n    import androidx.annotation.NonNull;\r\n    import androidx.annotation.Nullable;\r\n    import androidx.fragment.app.Fragment;\r\n\r\n    public class SettingsFragment extends Fragment {\r\n\r\n    @Nullable\r\n    @Override\r\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, \r\n    @Nullable Bundle savedInstanceState) {\r\n        return inflater.inflate(R.layout.fragment_settings, container, false);\r\n\r\n\r\n        }\r\n    }\r\n\r\n\r\n\r\n    \r\n\r\nand XML\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;ScrollView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:paddingTop=&quot;60dp&quot;\r\n    android:paddingLeft=&quot;10dp&quot;\r\n    android:paddingRight=&quot;10dp&quot;\r\n    android:paddingBottom=&quot;14dp&quot;\r\n    android:background=&quot;@color/white&quot;&gt;\r\n\r\n    &lt;RelativeLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;&gt;\r\n\r\n\r\n        &lt;Button\r\n            android:id=&quot;@+id/button&quot;\r\n            android:layout_width=&quot;350sp&quot;\r\n            android:layout_height=&quot;50sp&quot;\r\n            android:layout_centerHorizontal=&quot;true&quot;\r\n            android:textSize=&quot;11sp&quot;\r\n            android:layout_marginVertical=&quot;20dp&quot;\r\n            android:text=&quot;dark mode(in preparation)&quot; /&gt;\r\n\r\n        &lt;Button\r\n            android:id=&quot;@+id/button2&quot;\r\n            android:layout_width=&quot;350sp&quot;\r\n            android:layout_height=&quot;50sp&quot;\r\n            android:layout_centerHorizontal=&quot;true&quot;\r\n            android:layout_marginVertical=&quot;80dp&quot;\r\n            android:text=&quot;Languages(in preparation)&quot;\r\n            android:textSize=&quot;11sp&quot;/&gt;\r\n    &lt;/RelativeLayout&gt;\r\n\r\n    &lt;/ScrollView&gt;\r\n\r\nbasically what I&#39;m looking for is that a buttons can lead to a new fragments or activities where content will be.","title":"buttons in fragment(android studio)","body":"<p>I'm working on my app, and came to a huge problem. I need to implement buttons in my fragments and can't find a normal solution that works. this is the code:</p>\n<pre><code>package com.example.konjicdiscover10;\n\nimport android.os.Bundle;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\n\nimport androidx.annotation.NonNull;\nimport androidx.annotation.Nullable;\nimport androidx.fragment.app.Fragment;\n\npublic class SettingsFragment extends Fragment {\n\n@Nullable\n@Override\npublic View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, \n@Nullable Bundle savedInstanceState) {\n    return inflater.inflate(R.layout.fragment_settings, container, false);\n\n\n    }\n}\n</code></pre>\n<p>and XML</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;ScrollView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:tools=&quot;http://schemas.android.com/tools&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;match_parent&quot;\nandroid:paddingTop=&quot;60dp&quot;\nandroid:paddingLeft=&quot;10dp&quot;\nandroid:paddingRight=&quot;10dp&quot;\nandroid:paddingBottom=&quot;14dp&quot;\nandroid:background=&quot;@color/white&quot;&gt;\n\n&lt;RelativeLayout\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;&gt;\n\n\n    &lt;Button\n        android:id=&quot;@+id/button&quot;\n        android:layout_width=&quot;350sp&quot;\n        android:layout_height=&quot;50sp&quot;\n        android:layout_centerHorizontal=&quot;true&quot;\n        android:textSize=&quot;11sp&quot;\n        android:layout_marginVertical=&quot;20dp&quot;\n        android:text=&quot;dark mode(in preparation)&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/button2&quot;\n        android:layout_width=&quot;350sp&quot;\n        android:layout_height=&quot;50sp&quot;\n        android:layout_centerHorizontal=&quot;true&quot;\n        android:layout_marginVertical=&quot;80dp&quot;\n        android:text=&quot;Languages(in preparation)&quot;\n        android:textSize=&quot;11sp&quot;/&gt;\n&lt;/RelativeLayout&gt;\n\n&lt;/ScrollView&gt;\n</code></pre>\n<p>basically what I'm looking for is that a buttons can lead to a new fragments or activities where content will be.</p>\n"},{"tags":["java","rust","llvm","graalvm","polyglot"],"owner":{"account_id":29179253,"reputation":1,"user_id":22353854,"display_name":"Wes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691430513,"creation_date":1691429287,"question_id":76853911,"body_markdown":"I am trying to execute a rust function in java using GraalVMs polyglot llvm features, however It is throwing a buffer overflow exception.\r\n\r\nI compiled a rust library into a llvm bytecode file for use with GraalVM Java. However, when I try evaluating this file using Graalvms polyglot features, it returns a Overflow exception during evaluation of this file. I want to be able to execute any function from this llvm source file.\r\n\r\nHere is my process:\r\n\r\nCompiling the rust project -\r\n`cargo rustc --release -- --emit=llvm-bc` (crate type cdylib, includes 6 dependencies)\r\n\r\nThe java function utilizing the rust llvm code:\r\n\r\n```java\r\n/* imports and class declaration not shown */\r\nvoid runFunctionFromLLVM() {\r\n\ttry {\r\n\t\tContext polyglot = Context.newBuilder().allowNativeAccess(true).build();\r\n\t\t// accesses the rust llvm library\r\n\t\tFile file = new File(&quot;(projectpath)/src/backend/target/release/deps/backend.bc&quot;);\r\n\r\n\t\tSource source = Source.newBuilder(&quot;llvm&quot;, file).build();\r\n\r\n\t\t// Buffer overflow traced to this function\r\n\t\tValue cpart = polyglot.eval(source);\r\n\r\n\t\t// attempts to access a function, but cannot due to the previous buffer overflow\r\n\t\tSystem.out.println(cpart.getMember(&quot;logTest&quot;).canExecute());\r\n\t} catch (Exception e) {\r\n\r\n\t\tSystem.out.println(&quot;[ERROR]: LLVM failed to execute with error &quot; + e.toString());\r\n\r\n\t}\r\n}\r\n```\r\n\r\nWhen testing this function it outputs this exception:\r\n\r\n```\r\nLLVM failed to execute with error org.graalvm.polyglot.PolyglotException: java.nio.BufferOverflowException\r\n```\r\n\r\nJava version `graalvm-ce-11`\r\n\r\nOS `Linux Mint 21.2 Cinnamon`\r\n\r\nMy llvm-bc file is 87.8 KB large (is it simply too large for the evaluation process?).\r\n\r\nAny help or suggestions are appreciated :).","title":"Buffer Overflow Exception during evaluation process GraalVM","body":"<p>I am trying to execute a rust function in java using GraalVMs polyglot llvm features, however It is throwing a buffer overflow exception.</p>\n<p>I compiled a rust library into a llvm bytecode file for use with GraalVM Java. However, when I try evaluating this file using Graalvms polyglot features, it returns a Overflow exception during evaluation of this file. I want to be able to execute any function from this llvm source file.</p>\n<p>Here is my process:</p>\n<p>Compiling the rust project -\n<code>cargo rustc --release -- --emit=llvm-bc</code> (crate type cdylib, includes 6 dependencies)</p>\n<p>The java function utilizing the rust llvm code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/* imports and class declaration not shown */\nvoid runFunctionFromLLVM() {\n    try {\n        Context polyglot = Context.newBuilder().allowNativeAccess(true).build();\n        // accesses the rust llvm library\n        File file = new File(&quot;(projectpath)/src/backend/target/release/deps/backend.bc&quot;);\n\n        Source source = Source.newBuilder(&quot;llvm&quot;, file).build();\n\n        // Buffer overflow traced to this function\n        Value cpart = polyglot.eval(source);\n\n        // attempts to access a function, but cannot due to the previous buffer overflow\n        System.out.println(cpart.getMember(&quot;logTest&quot;).canExecute());\n    } catch (Exception e) {\n\n        System.out.println(&quot;[ERROR]: LLVM failed to execute with error &quot; + e.toString());\n\n    }\n}\n</code></pre>\n<p>When testing this function it outputs this exception:</p>\n<pre><code>LLVM failed to execute with error org.graalvm.polyglot.PolyglotException: java.nio.BufferOverflowException\n</code></pre>\n<p>Java version <code>graalvm-ce-11</code></p>\n<p>OS <code>Linux Mint 21.2 Cinnamon</code></p>\n<p>My llvm-bc file is 87.8 KB large (is it simply too large for the evaluation process?).</p>\n<p>Any help or suggestions are appreciated :).</p>\n"},{"tags":["java","spring","redis","spring-data-redis"],"answers":[{"comments":[{"owner":{"account_id":11342805,"reputation":929,"user_id":8316275,"accept_rate":52,"display_name":"user565"},"score":0,"creation_date":1691443935,"post_id":76853999,"comment_id":135489955,"body_markdown":"No change, still the same error.","body":"No change, still the same error."}],"tags":[],"owner":{"account_id":529477,"reputation":1533,"user_id":1234412,"display_name":"BSB"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691430048,"creation_date":1691430048,"answer_id":76853999,"question_id":76847446,"body_markdown":"Try specifying the basePackages for your repos, something like:\r\n\r\n```java\r\n@EnableRedisRepositories(basePackages = &quot;com.bison.ams.persist&quot;)\r\n```","title":"@EnableRedisRepositories not working and gives error: Failed to read candidate component class","body":"<p>Try specifying the basePackages for your repos, something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@EnableRedisRepositories(basePackages = &quot;com.bison.ams.persist&quot;)\n</code></pre>\n"}],"owner":{"account_id":11342805,"reputation":929,"user_id":8316275,"accept_rate":52,"display_name":"user565"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691430048,"creation_date":1691349218,"question_id":76847446,"body_markdown":"I am trying to integrate Redis into my spring web application but getting a lot of challenges. As I want to use Redis through the spring repository so add a @EnableRedisRepositories in the Redis configuration but it conflicting somehow and gives the following error:\r\n\r\n    org.springframework.beans.factory.BeanDefinitionStoreException: Failed to read candidate component class: file [/Users/nomansadiq/Documents/code-workspace/EHCS-master/target/classes/com/bison/ams/config/RedisConfig.class]; nested exception is java.lang.annotation.AnnotationFormatError: Invalid default: public abstract java.lang.Class org.springframework.data.redis.repository.configuration.EnableRedisRepositories.repositoryBaseClass()\r\n    \tat org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.findCandidateComponents(ClassPathScanningCandidateComponentProvider.java:303)\r\n    \tat org.springframework.context.annotation.ClassPathBeanDefinitionScanner.doScan(ClassPathBeanDefinitionScanner.java:248)\r\n    \tat org.springframework.context.annotation.ComponentScanAnnotationParser.parse(ComponentScanAnnotationParser.java:137)\r\n    \tat org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:268)\r\n    \tat org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:232)\r\n    \tat org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:199)\r\n    \tat org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:168)\r\n    \tat org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:321)\r\n    \tat org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:243)\r\n    \tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:273)\r\n    \tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:98)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:678)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:520)\r\n    \tat org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:403)\r\n    \tat org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:306)\r\n    \tat org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:106)\r\n    \tat org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4762)\r\n    \tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5222)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n    \tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:726)\r\n    \tat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:698)\r\n    \tat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:696)\r\n    \tat org.apache.catalina.startup.HostConfig.deployDescriptor(HostConfig.java:689)\r\n    \tat org.apache.catalina.startup.HostConfig$DeployDescriptor.run(HostConfig.java:1888)\r\n    \tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n    \tat java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:266)\r\n    \tat java.util.concurrent.FutureTask.run(FutureTask.java)\r\n    \tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n    \tat java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:112)\r\n    \tat org.apache.catalina.startup.HostConfig.deployDescriptors(HostConfig.java:582)\r\n    \tat org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:472)\r\n    \tat org.apache.catalina.startup.HostConfig.start(HostConfig.java:1617)\r\n    \tat org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:318)\r\n    \tat org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123)\r\n    \tat org.apache.catalina.util.LifecycleBase.setStateInternal(LifecycleBase.java:423)\r\n    \tat org.apache.catalina.util.LifecycleBase.setState(LifecycleBase.java:366)\r\n    \tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:943)\r\n    \tat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:835)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1393)\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1383)\r\n    \tat java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:266)\r\n    \tat java.util.concurrent.FutureTask.run(FutureTask.java)\r\n    \tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n    \tat java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:134)\r\n    \tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:916)\r\n    \tat org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:265)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n    \tat org.apache.catalina.core.StandardService.startInternal(StandardService.java:430)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n    \tat org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:930)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n    \tat org.apache.catalina.startup.Catalina.start(Catalina.java:772)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:347)\r\n    \tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:478)\r\n    Caused by: java.lang.annotation.AnnotationFormatError: Invalid default: public abstract java.lang.Class org.springframework.data.redis.repository.configuration.EnableRedisRepositories.repositoryBaseClass()\r\n    \tat java.lang.reflect.Method.getDefaultValue(Method.java:612)\r\n    \tat org.springframework.core.type.classreading.RecursiveAnnotationAttributesVisitor.registerDefaultValues(RecursiveAnnotationAttributesVisitor.java:69)\r\n    \tat org.springframework.core.type.classreading.RecursiveAnnotationAttributesVisitor.doVisitEnd(RecursiveAnnotationAttributesVisitor.java:57)\r\n    \tat org.springframework.core.type.classreading.AnnotationAttributesReadingVisitor.doVisitEnd(AnnotationAttributesReadingVisitor.java:67)\r\n    \tat org.springframework.core.type.classreading.RecursiveAnnotationAttributesVisitor.visitEnd(RecursiveAnnotationAttributesVisitor.java:48)\r\n    \tat org.springframework.asm.ClassReader.readAnnotationValues(ClassReader.java:1802)\r\n    \tat org.springframework.asm.ClassReader.accept(ClassReader.java:642)\r\n    \tat org.springframework.asm.ClassReader.accept(ClassReader.java:508)\r\n    \tat org.springframework.core.type.classreading.SimpleMetadataReader.&lt;init&gt;(SimpleMetadataReader.java:64)\r\n    \tat org.springframework.core.type.classreading.SimpleMetadataReaderFactory.getMetadataReader(SimpleMetadataReaderFactory.java:98)\r\n    \tat org.springframework.core.type.classreading.CachingMetadataReaderFactory.getMetadataReader(CachingMetadataReaderFactory.java:102)\r\n    \tat org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.findCandidateComponents(ClassPathScanningCandidateComponentProvider.java:279)\r\n    \t... 58 more\r\n\r\nHere is Redis configuration:\r\n\r\n\r\n    @Configuration\r\n    @EnableTransactionManagement\r\n    @ComponentScan({&quot;com.bison.ams.config&quot;, &quot;com.bison.ams.persist&quot;})\r\n    @EnableRedisRepositories\r\n    public class RedisConfig {\r\n    \r\n        @Autowired\r\n        ConfigProperties configProp;\r\n    \r\n        @Bean\r\n        JedisConnectionFactory jedisConnectionFactory() {\r\n            JedisConnectionFactory jedisConFactory = new JedisConnectionFactory();\r\n            String host = configProp.getConfigValue(&quot;redis.host&quot;);\r\n            String port = configProp.getConfigValue(&quot;redis.port&quot;);\r\n            jedisConFactory.setHostName(host);\r\n            jedisConFactory.setPort(Integer.parseInt(port));\r\n            return jedisConFactory;\r\n        }\r\n    \r\n        @Bean\r\n        @Autowired\r\n        public RedisTemplate&lt;String, Object&gt; redisTemplate() {\r\n            RedisTemplate&lt;String, Object&gt; template = new RedisTemplate&lt;&gt;();\r\n            template.setConnectionFactory(jedisConnectionFactory());\r\n            return template;\r\n        }\r\n    }\r\n\r\nRepository:\r\n\r\n    @Repository\r\n    public interface TagPositionRepo extends CrudRepository&lt;TagPosition, String&gt; {\r\n    }\r\n\r\nEntity:\r\n\r\n\r\n    @RedisHash(&quot;TagPosition&quot;)\r\n    public class TagPosition implements Serializable {\r\n    \r\n        private String id;\r\n        private Position position;\r\n    ...\r\n\r\npom.xml\r\n\r\n \r\n\r\n    &lt;properties&gt;\r\n            &lt;java-version&gt;1.8&lt;/java-version&gt;\r\n            &lt;org.aspectj-version&gt;1.6.10&lt;/org.aspectj-version&gt;\r\n            &lt;jackson.version&gt;1.9.13&lt;/jackson.version&gt;\r\n            &lt;hibernate.validator.version&gt;4.2.0.Final&lt;/hibernate.validator.version&gt;\r\n            &lt;org.springframework-version&gt;4.2.1.RELEASE&lt;/org.springframework-version&gt;\r\n            &lt;!--        &lt;org.springframework-version&gt;4.2.5.RELEASE&lt;/org.springframework-version&gt;--&gt;\r\n    \r\n            &lt;org.slf4j-version&gt;1.6.6&lt;/org.slf4j-version&gt;\r\n            &lt;springfox-version&gt;2.2.2&lt;/springfox-version&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n                &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\r\n                &lt;version&gt;4.5.3&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.alibaba&lt;/groupId&gt;\r\n                &lt;artifactId&gt;fastjson&lt;/artifactId&gt;\r\n                &lt;version&gt;1.2.15&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n                &lt;version&gt;${org.springframework-version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\r\n                &lt;version&gt;1.7.0.RELEASE&lt;/version&gt;\r\n                &lt;exclusions&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n                        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                    &lt;/exclusion&gt;\r\n                &lt;/exclusions&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n                &lt;version&gt;${org.springframework-version}&lt;/version&gt;\r\n                &lt;exclusions&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n                        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                    &lt;/exclusion&gt;\r\n                &lt;/exclusions&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-log4j&lt;/artifactId&gt;\r\n                &lt;version&gt;1.2.5.RELEASE&lt;/version&gt;\r\n                &lt;exclusions&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                &lt;/exclusions&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\r\n                &lt;version&gt;${org.springframework-version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!--\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.1.1&lt;/version&gt;\r\n                &lt;/dependency&gt;\r\n        --&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n                &lt;version&gt;2.6.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- security --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\r\n                &lt;version&gt;4.0.3.RELEASE&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\r\n                &lt;version&gt;4.0.3.RELEASE&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- Hibernate --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n                &lt;version&gt;4.2.0.Final&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\r\n                &lt;version&gt;4.2.6.Final&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- hsql --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.hsqldb&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hsqldb&lt;/artifactId&gt;\r\n                &lt;version&gt;2.3.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- apache --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;net.sf.dozer&lt;/groupId&gt;\r\n                &lt;artifactId&gt;dozer&lt;/artifactId&gt;\r\n                &lt;version&gt;5.4.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- Servlet --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0.1&lt;/version&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jsp-api&lt;/artifactId&gt;\r\n                &lt;version&gt;2.2&lt;/version&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n                &lt;version&gt;1.2&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n                &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;log4j&lt;/groupId&gt;\r\n                &lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n                &lt;version&gt;1.2.15&lt;/version&gt;\r\n                &lt;exclusions&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;javax.mail&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;mail&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;javax.jms&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;jms&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;com.sun.jdmk&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;jmxtools&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;com.sun.jmx&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;jmxri&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                &lt;/exclusions&gt;\r\n                &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                &lt;version&gt;1.18.8&lt;/version&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;commons-fileupload&lt;/groupId&gt;\r\n                &lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt;\r\n                &lt;version&gt;1.3.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- Apache Commons IO --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n                &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n                &lt;version&gt;2.4&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n                &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n                &lt;version&gt;${springfox-version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- test --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;junit&lt;/groupId&gt;\r\n                &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n                &lt;version&gt;4.11&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\r\n                &lt;version&gt;${org.springframework-version}&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n                &lt;version&gt;4.1.6.RELEASE&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n                &lt;version&gt;8.0.31&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.modelmapper&lt;/groupId&gt;\r\n                &lt;artifactId&gt;modelmapper&lt;/artifactId&gt;\r\n                &lt;version&gt;3.1.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.javassist&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javassist&lt;/artifactId&gt;\r\n                &lt;version&gt;3.18.2-GA&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;javax.mail&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javax.mail-api&lt;/artifactId&gt;\r\n                &lt;version&gt;1.5.6&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javax.mail&lt;/artifactId&gt;\r\n                &lt;version&gt;1.6.2&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;joda-time&lt;/groupId&gt;\r\n                &lt;artifactId&gt;joda-time&lt;/artifactId&gt;\r\n                &lt;version&gt;2.9.9&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n                &lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n                &lt;version&gt;31.0.1-jre&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.eclipse.paho&lt;/groupId&gt;\r\n                &lt;artifactId&gt;org.eclipse.paho.client.mqttv3&lt;/artifactId&gt;\r\n                &lt;version&gt;1.2.5&lt;/version&gt;\r\n    \r\n            &lt;/dependency&gt;\r\n    \r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-data-redis&lt;/artifactId&gt;\r\n                &lt;version&gt;1.8.23.RELEASE&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;redis.clients&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jedis&lt;/artifactId&gt;\r\n                &lt;version&gt;2.9.0&lt;/version&gt;\r\n                &lt;type&gt;jar&lt;/type&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n    \r\n        &lt;/dependencies&gt;","title":"@EnableRedisRepositories not working and gives error: Failed to read candidate component class","body":"<p>I am trying to integrate Redis into my spring web application but getting a lot of challenges. As I want to use Redis through the spring repository so add a @EnableRedisRepositories in the Redis configuration but it conflicting somehow and gives the following error:</p>\n<pre><code>org.springframework.beans.factory.BeanDefinitionStoreException: Failed to read candidate component class: file [/Users/nomansadiq/Documents/code-workspace/EHCS-master/target/classes/com/bison/ams/config/RedisConfig.class]; nested exception is java.lang.annotation.AnnotationFormatError: Invalid default: public abstract java.lang.Class org.springframework.data.redis.repository.configuration.EnableRedisRepositories.repositoryBaseClass()\n    at org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.findCandidateComponents(ClassPathScanningCandidateComponentProvider.java:303)\n    at org.springframework.context.annotation.ClassPathBeanDefinitionScanner.doScan(ClassPathBeanDefinitionScanner.java:248)\n    at org.springframework.context.annotation.ComponentScanAnnotationParser.parse(ComponentScanAnnotationParser.java:137)\n    at org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:268)\n    at org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:232)\n    at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:199)\n    at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:168)\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:321)\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:243)\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:273)\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:98)\n    at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:678)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:520)\n    at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:403)\n    at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:306)\n    at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:106)\n    at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4762)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5222)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:726)\n    at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:698)\n    at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:696)\n    at org.apache.catalina.startup.HostConfig.deployDescriptor(HostConfig.java:689)\n    at org.apache.catalina.startup.HostConfig$DeployDescriptor.run(HostConfig.java:1888)\n    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\n    at java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:266)\n    at java.util.concurrent.FutureTask.run(FutureTask.java)\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n    at java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:112)\n    at org.apache.catalina.startup.HostConfig.deployDescriptors(HostConfig.java:582)\n    at org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:472)\n    at org.apache.catalina.startup.HostConfig.start(HostConfig.java:1617)\n    at org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:318)\n    at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123)\n    at org.apache.catalina.util.LifecycleBase.setStateInternal(LifecycleBase.java:423)\n    at org.apache.catalina.util.LifecycleBase.setState(LifecycleBase.java:366)\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:943)\n    at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:835)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1393)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1383)\n    at java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:266)\n    at java.util.concurrent.FutureTask.run(FutureTask.java)\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n    at java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:134)\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:916)\n    at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:265)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.StandardService.startInternal(StandardService.java:430)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:930)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.startup.Catalina.start(Catalina.java:772)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:347)\n    at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:478)\nCaused by: java.lang.annotation.AnnotationFormatError: Invalid default: public abstract java.lang.Class org.springframework.data.redis.repository.configuration.EnableRedisRepositories.repositoryBaseClass()\n    at java.lang.reflect.Method.getDefaultValue(Method.java:612)\n    at org.springframework.core.type.classreading.RecursiveAnnotationAttributesVisitor.registerDefaultValues(RecursiveAnnotationAttributesVisitor.java:69)\n    at org.springframework.core.type.classreading.RecursiveAnnotationAttributesVisitor.doVisitEnd(RecursiveAnnotationAttributesVisitor.java:57)\n    at org.springframework.core.type.classreading.AnnotationAttributesReadingVisitor.doVisitEnd(AnnotationAttributesReadingVisitor.java:67)\n    at org.springframework.core.type.classreading.RecursiveAnnotationAttributesVisitor.visitEnd(RecursiveAnnotationAttributesVisitor.java:48)\n    at org.springframework.asm.ClassReader.readAnnotationValues(ClassReader.java:1802)\n    at org.springframework.asm.ClassReader.accept(ClassReader.java:642)\n    at org.springframework.asm.ClassReader.accept(ClassReader.java:508)\n    at org.springframework.core.type.classreading.SimpleMetadataReader.&lt;init&gt;(SimpleMetadataReader.java:64)\n    at org.springframework.core.type.classreading.SimpleMetadataReaderFactory.getMetadataReader(SimpleMetadataReaderFactory.java:98)\n    at org.springframework.core.type.classreading.CachingMetadataReaderFactory.getMetadataReader(CachingMetadataReaderFactory.java:102)\n    at org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.findCandidateComponents(ClassPathScanningCandidateComponentProvider.java:279)\n    ... 58 more\n</code></pre>\n<p>Here is Redis configuration:</p>\n<pre><code>@Configuration\n@EnableTransactionManagement\n@ComponentScan({&quot;com.bison.ams.config&quot;, &quot;com.bison.ams.persist&quot;})\n@EnableRedisRepositories\npublic class RedisConfig {\n\n    @Autowired\n    ConfigProperties configProp;\n\n    @Bean\n    JedisConnectionFactory jedisConnectionFactory() {\n        JedisConnectionFactory jedisConFactory = new JedisConnectionFactory();\n        String host = configProp.getConfigValue(&quot;redis.host&quot;);\n        String port = configProp.getConfigValue(&quot;redis.port&quot;);\n        jedisConFactory.setHostName(host);\n        jedisConFactory.setPort(Integer.parseInt(port));\n        return jedisConFactory;\n    }\n\n    @Bean\n    @Autowired\n    public RedisTemplate&lt;String, Object&gt; redisTemplate() {\n        RedisTemplate&lt;String, Object&gt; template = new RedisTemplate&lt;&gt;();\n        template.setConnectionFactory(jedisConnectionFactory());\n        return template;\n    }\n}\n</code></pre>\n<p>Repository:</p>\n<pre><code>@Repository\npublic interface TagPositionRepo extends CrudRepository&lt;TagPosition, String&gt; {\n}\n</code></pre>\n<p>Entity:</p>\n<pre><code>@RedisHash(&quot;TagPosition&quot;)\npublic class TagPosition implements Serializable {\n\n    private String id;\n    private Position position;\n...\n</code></pre>\n<p>pom.xml</p>\n<pre><code>&lt;properties&gt;\n        &lt;java-version&gt;1.8&lt;/java-version&gt;\n        &lt;org.aspectj-version&gt;1.6.10&lt;/org.aspectj-version&gt;\n        &lt;jackson.version&gt;1.9.13&lt;/jackson.version&gt;\n        &lt;hibernate.validator.version&gt;4.2.0.Final&lt;/hibernate.validator.version&gt;\n        &lt;org.springframework-version&gt;4.2.1.RELEASE&lt;/org.springframework-version&gt;\n        &lt;!--        &lt;org.springframework-version&gt;4.2.5.RELEASE&lt;/org.springframework-version&gt;--&gt;\n\n        &lt;org.slf4j-version&gt;1.6.6&lt;/org.slf4j-version&gt;\n        &lt;springfox-version&gt;2.2.2&lt;/springfox-version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n            &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\n            &lt;version&gt;4.5.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.alibaba&lt;/groupId&gt;\n            &lt;artifactId&gt;fastjson&lt;/artifactId&gt;\n            &lt;version&gt;1.2.15&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n            &lt;version&gt;${org.springframework-version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\n            &lt;version&gt;1.7.0.RELEASE&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n                    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n            &lt;version&gt;${org.springframework-version}&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n                    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-log4j&lt;/artifactId&gt;\n            &lt;version&gt;1.2.5.RELEASE&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n            &lt;version&gt;${org.springframework-version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!--\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\n                &lt;version&gt;3.1.1&lt;/version&gt;\n            &lt;/dependency&gt;\n    --&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n            &lt;version&gt;2.6.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- security --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\n            &lt;version&gt;4.0.3.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\n            &lt;version&gt;4.0.3.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Hibernate --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n            &lt;version&gt;4.2.0.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n            &lt;version&gt;4.2.6.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- hsql --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hsqldb&lt;/groupId&gt;\n            &lt;artifactId&gt;hsqldb&lt;/artifactId&gt;\n            &lt;version&gt;2.3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- apache --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.sf.dozer&lt;/groupId&gt;\n            &lt;artifactId&gt;dozer&lt;/artifactId&gt;\n            &lt;version&gt;5.4.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Servlet --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;3.0.1&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\n            &lt;artifactId&gt;jsp-api&lt;/artifactId&gt;\n            &lt;version&gt;2.2&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n            &lt;version&gt;1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n            &lt;version&gt;3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n            &lt;version&gt;1.2.15&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;javax.mail&lt;/groupId&gt;\n                    &lt;artifactId&gt;mail&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;javax.jms&lt;/groupId&gt;\n                    &lt;artifactId&gt;jms&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;com.sun.jdmk&lt;/groupId&gt;\n                    &lt;artifactId&gt;jmxtools&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;com.sun.jmx&lt;/groupId&gt;\n                    &lt;artifactId&gt;jmxri&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;1.18.8&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-fileupload&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt;\n            &lt;version&gt;1.3.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Apache Commons IO --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-io&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n            &lt;version&gt;2.4&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n            &lt;version&gt;${springfox-version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- test --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.11&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\n            &lt;version&gt;${org.springframework-version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n            &lt;version&gt;4.1.6.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;8.0.31&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.modelmapper&lt;/groupId&gt;\n            &lt;artifactId&gt;modelmapper&lt;/artifactId&gt;\n            &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.javassist&lt;/groupId&gt;\n            &lt;artifactId&gt;javassist&lt;/artifactId&gt;\n            &lt;version&gt;3.18.2-GA&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.mail&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.mail-api&lt;/artifactId&gt;\n            &lt;version&gt;1.5.6&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.mail&lt;/artifactId&gt;\n            &lt;version&gt;1.6.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;joda-time&lt;/groupId&gt;\n            &lt;artifactId&gt;joda-time&lt;/artifactId&gt;\n            &lt;version&gt;2.9.9&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n            &lt;artifactId&gt;guava&lt;/artifactId&gt;\n            &lt;version&gt;31.0.1-jre&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.eclipse.paho&lt;/groupId&gt;\n            &lt;artifactId&gt;org.eclipse.paho.client.mqttv3&lt;/artifactId&gt;\n            &lt;version&gt;1.2.5&lt;/version&gt;\n\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-data-redis&lt;/artifactId&gt;\n            &lt;version&gt;1.8.23.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;redis.clients&lt;/groupId&gt;\n            &lt;artifactId&gt;jedis&lt;/artifactId&gt;\n            &lt;version&gt;2.9.0&lt;/version&gt;\n            &lt;type&gt;jar&lt;/type&gt;\n        &lt;/dependency&gt;\n\n\n    &lt;/dependencies&gt;\n</code></pre>\n"},{"tags":["java","spring","spring-boot","junit","spring-boot-test"],"answers":[{"tags":[],"owner":{"account_id":14879218,"reputation":383,"user_id":10744429,"display_name":"WLefever"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691429944,"creation_date":1691429944,"answer_id":76853987,"question_id":76850862,"body_markdown":"I have worked out a solution in this [GitHub repo](https://github.com/Lefeverw/stackoverflow-multiple-configuration-properties-test)\r\n\r\nThe [test](https://github.com/Lefeverw/stackoverflow-multiple-configuration-properties-test/blob/main/src/test/java/com/wouterlefever/stackoverflow/configtest/config/MyConfigTest.java) can use different sets of properties which are mapped using an `ObjectMapper`.\r\n\r\n```\r\nfinal Yaml yaml = new Yaml();\r\nfinal Object map = yaml.load(resource.getInputStream());\r\nfinal ObjectWriter ow = new ObjectMapper().writer();\r\nfinal String myConfigAsString = ow.writeValueAsString(map);\r\nfinal MyConfig myConfig = new ObjectMapper()\r\n                .readValue(myConfigAsString, MyConfig.class);\r\n```\r\n\r\nOne downside is that the `ObjectMapper` doesn&#39;t recognize the prefix of the `Configuration` class (since it&#39;s not loaded as a bean) so you have to use an empty string, or don&#39;t fill in the value and remove indentation from your yaml.","title":"How to declare different properties in different methods of the same unit test class in Spring","body":"<p>I have worked out a solution in this <a href=\"https://github.com/Lefeverw/stackoverflow-multiple-configuration-properties-test\" rel=\"nofollow noreferrer\">GitHub repo</a></p>\n<p>The <a href=\"https://github.com/Lefeverw/stackoverflow-multiple-configuration-properties-test/blob/main/src/test/java/com/wouterlefever/stackoverflow/configtest/config/MyConfigTest.java\" rel=\"nofollow noreferrer\">test</a> can use different sets of properties which are mapped using an <code>ObjectMapper</code>.</p>\n<pre><code>final Yaml yaml = new Yaml();\nfinal Object map = yaml.load(resource.getInputStream());\nfinal ObjectWriter ow = new ObjectMapper().writer();\nfinal String myConfigAsString = ow.writeValueAsString(map);\nfinal MyConfig myConfig = new ObjectMapper()\n                .readValue(myConfigAsString, MyConfig.class);\n</code></pre>\n<p>One downside is that the <code>ObjectMapper</code> doesn't recognize the prefix of the <code>Configuration</code> class (since it's not loaded as a bean) so you have to use an empty string, or don't fill in the value and remove indentation from your yaml.</p>\n"}],"owner":{"account_id":8733951,"reputation":368,"user_id":6533159,"display_name":"Daniele Repici"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691429944,"creation_date":1691404406,"question_id":76850862,"body_markdown":"I would like to have a single unit test class to test the initialization of a class `@ConfigurationProperties(&quot;...&quot;) MyConfig`, given different sets of configuration properties.\r\n\r\nFor example:\r\n\r\n    @SpringBootTest(classes = { MyConfig.class })\r\n    @DirtiesContext // to force re-initialization of context\r\n    class MyConfigTest {\r\n      @Autowired\r\n      MyConfig myConfig;\r\n\r\n      @Test\r\n      @UseProperties(&quot;my-config.prop1=foo&quot;) // Looking for something like this?\r\n      void test1() {\r\n        assertThat(myConfig).doesSomething(...);\r\n      }\r\n\r\n      @Test\r\n      @UseProperties(&quot;my-config.prop1=bar&quot;)\r\n      void test2() {\r\n        assertThat(myConfig).doesSomethingElse(...);\r\n      }\r\n\r\n      @Test\r\n      @UseProperties(&quot;my-config.prop1=foobar&quot;)\r\n      void test3() {\r\n        assertThat(myConfig).doesSomethingTotallyDifferent(...);\r\n      }\r\n    }\r\n\r\n(Obviously I&#39;ve totally made up the `@UseProperties` annotation, it was just to explain what I&#39;m looking for).","title":"How to declare different properties in different methods of the same unit test class in Spring","body":"<p>I would like to have a single unit test class to test the initialization of a class <code>@ConfigurationProperties(&quot;...&quot;) MyConfig</code>, given different sets of configuration properties.</p>\n<p>For example:</p>\n<pre><code>@SpringBootTest(classes = { MyConfig.class })\n@DirtiesContext // to force re-initialization of context\nclass MyConfigTest {\n  @Autowired\n  MyConfig myConfig;\n\n  @Test\n  @UseProperties(&quot;my-config.prop1=foo&quot;) // Looking for something like this?\n  void test1() {\n    assertThat(myConfig).doesSomething(...);\n  }\n\n  @Test\n  @UseProperties(&quot;my-config.prop1=bar&quot;)\n  void test2() {\n    assertThat(myConfig).doesSomethingElse(...);\n  }\n\n  @Test\n  @UseProperties(&quot;my-config.prop1=foobar&quot;)\n  void test3() {\n    assertThat(myConfig).doesSomethingTotallyDifferent(...);\n  }\n}\n</code></pre>\n<p>(Obviously I've totally made up the <code>@UseProperties</code> annotation, it was just to explain what I'm looking for).</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":6,"creation_date":1259767165,"post_id":1833538,"comment_id":1725615,"body_markdown":"How is this insuffucient? http://stackoverflow.com/search?q=Comparing+strings+in+java Didn&#39;t you see a list with all links below the subject while you entered down the question message? Did you bother to follow the suggested links? Why not?","body":"How is this insuffucient? <a href=\"http://stackoverflow.com/search?q=Comparing+strings+in+java\">stackoverflow.com/search?q=Comparing+strings+in+java</a> Didn&#39;t you see a list with all links below the subject while you entered down the question message? Did you bother to follow the suggested links? Why not?"},{"owner":{"account_id":5378624,"reputation":8469,"user_id":4284627,"accept_rate":81,"display_name":"Donald Duck"},"score":0,"creation_date":1686302333,"post_id":1833538,"comment_id":134783265,"body_markdown":"Does this answer your question? [How do I compare strings in Java?](https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java\">How do I compare strings in Java?</a>"}],"answers":[{"comments":[{"owner":{"account_id":15262,"reputation":19508,"user_id":32050,"accept_rate":85,"display_name":"Tor Haugen"},"score":0,"creation_date":1259767217,"post_id":1833552,"comment_id":1725622,"body_markdown":"Well, then why do 4, 5 and 6 return true?","body":"Well, then why do 4, 5 and 6 return true?"},{"owner":{"account_id":65544,"reputation":26923,"user_id":192801,"accept_rate":90,"display_name":"FrustratedWithFormsDesigner"},"score":0,"creation_date":1259767558,"post_id":1833552,"comment_id":1725672,"body_markdown":"@Tor: Jean Barmash beat me to it ;)","body":"@Tor: Jean Barmash beat me to it ;)"},{"owner":{"account_id":45934,"reputation":203679,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":0,"creation_date":1259769224,"post_id":1833552,"comment_id":1725932,"body_markdown":"That&#39;s sloppy and confusing terminology: the == operator does not check if two OBJECTS are equal; it checks if two variables reference the same object. Variables are not objects - variables are references to objects.","body":"That&#39;s sloppy and confusing terminology: the == operator does not check if two OBJECTS are equal; it checks if two variables reference the same object. Variables are not objects - variables are references to objects."},{"owner":{"account_id":18835,"reputation":82201,"user_id":43582,"accept_rate":83,"display_name":"Bombe"},"score":0,"creation_date":1259770060,"post_id":1833552,"comment_id":1726064,"body_markdown":"4, 5, and 6 can return true if `String.substring` checks whether the requested substring is the complete string and returns `this`.","body":"4, 5, and 6 can return true if <code>String.substring</code> checks whether the requested substring is the complete string and returns <code>this</code>."}],"tags":[],"owner":{"account_id":65544,"reputation":26923,"user_id":192801,"accept_rate":90,"display_name":"FrustratedWithFormsDesigner"},"comment_count":4,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1691429580,"creation_date":1259767030,"answer_id":1833552,"question_id":1833538,"body_markdown":"The == operator is checking if the two *objects* are equal (are they references to the same object?), not comparing the values contained therein.\r\n\r\n\r\n","title":"Comparing some strings in Java","body":"<p>The == operator is checking if the two <em>objects</em> are equal (are they references to the same object?), not comparing the values contained therein.</p>\n"},{"comments":[{"owner":{"account_id":19462,"reputation":102762,"user_id":45664,"accept_rate":91,"display_name":"Andrzej Doyle"},"score":1,"creation_date":1259767446,"post_id":1833569,"comment_id":1725648,"body_markdown":"+1. It&#39;s also worth noting that in general there are very few guarantees about what instance of an object you&#39;ll get back from a method - methods can generally do much nicer things if they&#39;re free to use instance caching, use dynamic proxies etc.   So it&#39;s important not to get hung up on object equality and use `equals()` in the general case, comparing references only if you&#39;re really sure you need it.","body":"+1. It&#39;s also worth noting that in general there are very few guarantees about what instance of an object you&#39;ll get back from a method - methods can generally do much nicer things if they&#39;re free to use instance caching, use dynamic proxies etc.   So it&#39;s important not to get hung up on object equality and use <code>equals()</code> in the general case, comparing references only if you&#39;re really sure you need it."}],"tags":[],"owner":{"account_id":76630,"reputation":30549,"user_id":219217,"display_name":"MBO"},"comment_count":1,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1259767165,"creation_date":1259767165,"answer_id":1833569,"question_id":1833538,"body_markdown":"If you want to compare Strings, then you should use `String.equals()` (or `String.equalsIgnoreCase()`) method. Comparing by `==` tells you only if two references points to same object. And in your example that&#39;s it: string2 and string3 points to same instance of string `&quot;Hi&quot;` (why should Java create two exactly same strings given in compile-time)","title":"Comparing some strings in Java","body":"<p>If you want to compare Strings, then you should use <code>String.equals()</code> (or <code>String.equalsIgnoreCase()</code>) method. Comparing by <code>==</code> tells you only if two references points to same object. And in your example that's it: string2 and string3 points to same instance of string <code>\"Hi\"</code> (why should Java create two exactly same strings given in compile-time)</p>\n"},{"tags":[],"owner":{"account_id":44676,"reputation":2026,"user_id":131242,"accept_rate":89,"display_name":"Tamar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691429675,"creation_date":1259767189,"answer_id":1833571,"question_id":1833538,"body_markdown":"The == compares the references. The address of the string, not the value of it.\r\n\r\nFor comparing strings, you should use *equals*. The JVM will handle new String objects, so if an object of the same value exists (string2 vs string3) it might reference the same one.\r\n\r\n\r\n","title":"Comparing some strings in Java","body":"<p>The == compares the references. The address of the string, not the value of it.</p>\n<p>For comparing strings, you should use <em>equals</em>. The JVM will handle new String objects, so if an object of the same value exists (string2 vs string3) it might reference the same one.</p>\n"},{"comments":[{"owner":{"account_id":65544,"reputation":26923,"user_id":192801,"accept_rate":90,"display_name":"FrustratedWithFormsDesigner"},"score":0,"creation_date":1259767617,"post_id":1833572,"comment_id":1725684,"body_markdown":"Have these optimizations ALWAYS been in Java? I seem to recall an exercise back in Java 2 that might not have returned different results, but my memory&#39;s a bit foggy on that.","body":"Have these optimizations ALWAYS been in Java? I seem to recall an exercise back in Java 2 that might not have returned different results, but my memory&#39;s a bit foggy on that."},{"owner":{"account_id":18835,"reputation":82201,"user_id":43582,"accept_rate":83,"display_name":"Bombe"},"score":2,"creation_date":1259773944,"post_id":1833572,"comment_id":1726612,"body_markdown":"Maybe, maybe not. Either way this is a perfect example for that you should *never* rely on such an optimization. If you need to compare `String`’s, *always* use `equals()`, *never* use `==`!","body":"Maybe, maybe not. Either way this is a perfect example for that you should <i>never</i> rely on such an optimization. If you need to compare <code>String</code>’s, <i>always</i> use <code>equals()</code>, <i>never</i> use <code>==</code>!"},{"owner":{"account_id":73808,"reputation":114,"user_id":212351,"display_name":"blackanchorage"},"score":1,"creation_date":1259782882,"post_id":1833572,"comment_id":1727582,"body_markdown":"In some situations interning the strings and using == will be more performant.","body":"In some situations interning the strings and using == will be more performant."}],"tags":[],"owner":{"account_id":20797,"reputation":4788,"user_id":50009,"accept_rate":67,"display_name":"Jean Barmash"},"comment_count":3,"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1691429802,"creation_date":1259767193,"answer_id":1833572,"question_id":1833538,"body_markdown":"Several things are going on there.\r\n\r\nWhen you declare two strings to be equal &quot;Hi&quot;, Java optimizes it to refer to the same string object (so it doesn&#39;t have to store the same string twice).\r\n\r\n&quot;==&quot; compares references.  When in line 1 you use *substring*, the created string object has a different reference than string2.\r\n\r\nIn line 6, I imagine *substring(0)* has an optimization where it knows it can just return the original string, thus those references are equal.\r\n\r\n","title":"Comparing some strings in Java","body":"<p>Several things are going on there.</p>\n<p>When you declare two strings to be equal &quot;Hi&quot;, Java optimizes it to refer to the same string object (so it doesn't have to store the same string twice).</p>\n<p>&quot;==&quot; compares references.  When in line 1 you use <em>substring</em>, the created string object has a different reference than string2.</p>\n<p>In line 6, I imagine <em>substring(0)</em> has an optimization where it knows it can just return the original string, thus those references are equal.</p>\n"},{"tags":[],"owner":{"account_id":51852,"reputation":828,"user_id":154938,"accept_rate":82,"display_name":"Davie"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1259767375,"creation_date":1259767375,"answer_id":1833591,"question_id":1833538,"body_markdown":"The == operator is comparing 2 references to the same string for equality.\r\n\r\nThe String class has two methods that you should use to compare two strings for equality:\r\n\r\n    String1.equals(String2);\r\nReturns true if String1 and String2 are identical (including the case of the letters).\r\n\r\nIf you don&#39;t care about the case then you can use:\r\n\r\n    String1.equalsIgnoreCase(String2);\r\nThis returns true if String1 and String2 are equal regardless of the case (obviously).\r\n","title":"Comparing some strings in Java","body":"<p>The == operator is comparing 2 references to the same string for equality.</p>\n\n<p>The String class has two methods that you should use to compare two strings for equality:</p>\n\n<pre><code>String1.equals(String2);\n</code></pre>\n\n<p>Returns true if String1 and String2 are identical (including the case of the letters).</p>\n\n<p>If you don't care about the case then you can use:</p>\n\n<pre><code>String1.equalsIgnoreCase(String2);\n</code></pre>\n\n<p>This returns true if String1 and String2 are equal regardless of the case (obviously).</p>\n"},{"comments":[{"owner":{"account_id":24885,"reputation":30828,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1691429860,"post_id":1833627,"comment_id":135487605,"body_markdown":"Related: *[What do we do with answers that are entirely copied and improperly attributed (only a &quot;reference&quot; link or similar is included)?](https://meta.stackoverflow.com/questions/321299/)*","body":"Related: <i><a href=\"https://meta.stackoverflow.com/questions/321299/\">What do we do with answers that are entirely copied and improperly attributed (only a &quot;reference&quot; link or similar is included)?</a></i>"}],"tags":[],"owner":{"account_id":55621,"reputation":8047,"user_id":166611,"accept_rate":75,"display_name":"JuanZe"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1259767737,"creation_date":1259767737,"answer_id":1833627,"question_id":1833538,"body_markdown":"&gt; Java provides two basic mechanisms for\r\n&gt; testing for equality. The “==”\r\n&gt; operator can be used to test primitive\r\n&gt; values for equality, and can also be\r\n&gt; used to determine if two object\r\n&gt; references point to the same\r\n&gt; underlying object. For Java objects,\r\n&gt; the equals(Object) method will return\r\n&gt; true if the argument is equal to the\r\n&gt; object on which the method is invoked,\r\n&gt; where equality is defined by the\r\n&gt; object’s class semantics.\r\n&gt; \r\n&gt; Since Strings are objects, **the\r\n&gt; equals(Object) method will return true\r\n&gt; if two Strings have the same contents,\r\n&gt; i.e., the same characters in the same\r\n&gt; order. The == operator will only be\r\n&gt; true if two String references point to\r\n&gt; the same underlying String object.**\r\n&gt; Hence two Strings representing the\r\n&gt; same content will be equal when tested\r\n&gt; by the equals(Object) method, but will\r\n&gt; only by equal when tested with the ==\r\n&gt; operator if they are actually the same\r\n&gt; object.\r\n\r\n*Quoted from JavaTechniques:[http://javatechniques.com/public/java/docs/basics/string-equality.html][1]*\r\n\r\n\r\n  [1]: http://javatechniques.com/public/java/docs/basics/string-equality.html","title":"Comparing some strings in Java","body":"<blockquote>\n  <p>Java provides two basic mechanisms for\n  testing for equality. The “==”\n  operator can be used to test primitive\n  values for equality, and can also be\n  used to determine if two object\n  references point to the same\n  underlying object. For Java objects,\n  the equals(Object) method will return\n  true if the argument is equal to the\n  object on which the method is invoked,\n  where equality is defined by the\n  object’s class semantics.</p>\n  \n  <p>Since Strings are objects, <strong>the\n  equals(Object) method will return true\n  if two Strings have the same contents,\n  i.e., the same characters in the same\n  order. The == operator will only be\n  true if two String references point to\n  the same underlying String object.</strong>\n  Hence two Strings representing the\n  same content will be equal when tested\n  by the equals(Object) method, but will\n  only by equal when tested with the ==\n  operator if they are actually the same\n  object.</p>\n</blockquote>\n\n<p><em>Quoted from JavaTechniques:<a href=\"http://javatechniques.com/public/java/docs/basics/string-equality.html\" rel=\"nofollow noreferrer\">http://javatechniques.com/public/java/docs/basics/string-equality.html</a></em></p>\n"},{"tags":[],"owner":{"account_id":18835,"reputation":82201,"user_id":43582,"accept_rate":83,"display_name":"Bombe"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1259770750,"creation_date":1259770750,"answer_id":1834002,"question_id":1833538,"body_markdown":"Lines 4, 5, and 6 are `true` because of the following lines in the method `substring(int, int)` of `java.lang.String`:\r\n\r\n    return ((beginIndex == 0) &amp;&amp; (endIndex == count)) ? this :\r\n        new String(offset + beginIndex, endIndex - beginIndex, value);\r\n\r\nBecause the substring you are requesting starts at `0` and has the length of the complete string you are simply returned a reference to the string itself so that `a.substring(0) == a`.","title":"Comparing some strings in Java","body":"<p>Lines 4, 5, and 6 are <code>true</code> because of the following lines in the method <code>substring(int, int)</code> of <code>java.lang.String</code>:</p>\n\n<pre><code>return ((beginIndex == 0) &amp;&amp; (endIndex == count)) ? this :\n    new String(offset + beginIndex, endIndex - beginIndex, value);\n</code></pre>\n\n<p>Because the substring you are requesting starts at <code>0</code> and has the length of the complete string you are simply returned a reference to the string itself so that <code>a.substring(0) == a</code>.</p>\n"}],"owner":{"display_name":"user89862"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3032,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":1833572,"answer_count":7,"score":1,"last_activity_date":1691429802,"creation_date":1259766917,"question_id":1833538,"body_markdown":"Consider:\r\n\r\n    String string1 = &quot;Hi there&quot;;\r\n    String string2 = &quot;Hi&quot;;\r\n    String string3 = &quot;Hi&quot;;\r\n\r\n    System.out.println(string1.substring(0, string2.length()) == string2); //1\r\n    System.out.println(string1.substring(0, string2.length()).equals(string2)); //2\r\n    System.out.println(string1.substring(0, string2.length()).compareTo(string2)); //3\r\n    System.out.println(string2 == string3); //4\r\n    System.out.println(string2.substring(0) == string3); //5\r\n    System.out.println(string2.substring(0) == string3.substring(0)); //6\r\n\r\nIt gives me the output:\r\n\r\n```lang-none\r\nfalse\r\ntrue\r\n0\r\ntrue\r\ntrue\r\ntrue\r\n```\r\n\r\nI don&#39;t really understand the first line. Why does it give me false?\r\n\r\nIf I add a whitespace to string 2 and this line I get false, but if I add no whitespace I get true:\r\n\r\n    System.out.println(string2.substring(0, string3.length()) == string3);\r\n\r\nWhy should line 1 give me false, but line 6 be true, but if I add a whitespace to string2 it&#39;s false?\r\n\r\n","title":"Comparing some strings in Java","body":"<p>Consider:</p>\n<pre><code>String string1 = &quot;Hi there&quot;;\nString string2 = &quot;Hi&quot;;\nString string3 = &quot;Hi&quot;;\n\nSystem.out.println(string1.substring(0, string2.length()) == string2); //1\nSystem.out.println(string1.substring(0, string2.length()).equals(string2)); //2\nSystem.out.println(string1.substring(0, string2.length()).compareTo(string2)); //3\nSystem.out.println(string2 == string3); //4\nSystem.out.println(string2.substring(0) == string3); //5\nSystem.out.println(string2.substring(0) == string3.substring(0)); //6\n</code></pre>\n<p>It gives me the output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>false\ntrue\n0\ntrue\ntrue\ntrue\n</code></pre>\n<p>I don't really understand the first line. Why does it give me false?</p>\n<p>If I add a whitespace to string 2 and this line I get false, but if I add no whitespace I get true:</p>\n<pre><code>System.out.println(string2.substring(0, string3.length()) == string3);\n</code></pre>\n<p>Why should line 1 give me false, but line 6 be true, but if I add a whitespace to string2 it's false?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1691429573,"post_id":76853916,"comment_id":135487545,"body_markdown":"Start by believing the compiler.  Is the syntax correct?  I see dollar signs in the docs: https://doc.akka.io/japi/akka-http/current/akka/http/scaladsl/model/Multipart.FormData$.Strict$.html","body":"Start by believing the compiler.  Is the syntax correct?  I see dollar signs in the docs: <a href=\"https://doc.akka.io/japi/akka-http/current/akka/http/scaladsl/model/Multipart.FormData$.Strict$.html\" rel=\"nofollow noreferrer\">doc.akka.io/japi/akka-http/current/akka/http/scaladsl/model/&zwnj;&#8203;&hellip;</a>"},{"owner":{"account_id":43656,"reputation":96754,"user_id":127724,"accept_rate":94,"display_name":"Artefacto"},"score":0,"creation_date":1691429885,"post_id":76853916,"comment_id":135487607,"body_markdown":"@duffymo javap tells me &quot;public class akka.http.scaladsl.model.Multipart$FormData$Strict extends akka.http.scaladsl.model.Multipart$FormData implements akka.http.scaladsl.model.Multipart$Strict,akka.http.javadsl.model.Multipart$FormData$Strict,scala.Product,scala.Serializable&quot;. But in java source files you have to replace the `$` of enclosed classes with `.` afaik.  The classes ending in `$` are the result of compiling the companion objects.","body":"@duffymo javap tells me &quot;public class akka.http.scaladsl.model.Multipart$FormData$Strict extends akka.http.scaladsl.model.Multipart$FormData implements akka.http.scaladsl.model.Multipart$Strict,akka.http.javadsl.&zwnj;&#8203;model.Multipart$Form&zwnj;&#8203;Data$Strict,scala.Pr&zwnj;&#8203;oduct,scala.Serializ&zwnj;&#8203;able&quot;. But in java source files you have to replace the <code>$</code> of enclosed classes with <code>.</code> afaik.  The classes ending in <code>$</code> are the result of compiling the companion objects."},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1691430486,"post_id":76853916,"comment_id":135487723,"body_markdown":"I don&#39;t know Scala well.  Don&#39;t use classes like that.  Sorry, no insight from me.  &quot;AFAIK&quot; - the compiler isn&#39;t happy.  I&#39;d dig into it more.  Your understanding isn&#39;t working.","body":"I don&#39;t know Scala well.  Don&#39;t use classes like that.  Sorry, no insight from me.  &quot;AFAIK&quot; - the compiler isn&#39;t happy.  I&#39;d dig into it more.  Your understanding isn&#39;t working."}],"owner":{"account_id":43656,"reputation":96754,"user_id":127724,"accept_rate":94,"display_name":"Artefacto"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691429329,"creation_date":1691429329,"question_id":76853916,"body_markdown":"Even though I have a fully qualified reference here:\r\n```\r\nerror: reference to Strict is ambiguous\r\n          if (!(t instanceof akka.http.scaladsl.model.Multipart.FormData.Strict)) {\r\n                                                                        ^\r\n  both interface akka.http.scaladsl.model.Multipart.Strict in Multipart and interface akka.http.javadsl.model.Multipart.FormData.Strict in FormData match\r\n```\r\n\r\nThe compiler is still complaining that the reference is ambiguous. How can I solve this?","title":"Solve ambiguous type reference","body":"<p>Even though I have a fully qualified reference here:</p>\n<pre><code>error: reference to Strict is ambiguous\n          if (!(t instanceof akka.http.scaladsl.model.Multipart.FormData.Strict)) {\n                                                                        ^\n  both interface akka.http.scaladsl.model.Multipart.Strict in Multipart and interface akka.http.javadsl.model.Multipart.FormData.Strict in FormData match\n</code></pre>\n<p>The compiler is still complaining that the reference is ambiguous. How can I solve this?</p>\n"},{"tags":["java","ruby-on-rails","heroku","shared-libraries"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1691508956,"post_id":76853842,"comment_id":135499919,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":25864513,"reputation":7,"user_id":22080732,"display_name":"Erik Stoupignan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691428551,"creation_date":1691428551,"question_id":76853842,"body_markdown":"I am using the Yomu library (https://github.com/yomurb/yomu) to extract information from a PDF file. But when I deploy my application using Heroku, it doesn&#39;t work and I think it&#39;s because the yomu documentation asks for JRE. \r\n\r\nDo you know how I can verify if my application deployed in Heroku is JRE complatible? \r\n\r\n\r\n\r\n\r\nI would appreciate if you could explain me how the heroku environment works or if someone has already gone through this problem, could you tell me how you solved it. ","title":"Using Yomu to extract information (heroku&#39;s deploy)","body":"<p>I am using the Yomu library (<a href=\"https://github.com/yomurb/yomu\" rel=\"nofollow noreferrer\">https://github.com/yomurb/yomu</a>) to extract information from a PDF file. But when I deploy my application using Heroku, it doesn't work and I think it's because the yomu documentation asks for JRE.</p>\n<p>Do you know how I can verify if my application deployed in Heroku is JRE complatible?</p>\n<p>I would appreciate if you could explain me how the heroku environment works or if someone has already gone through this problem, could you tell me how you solved it.</p>\n"},{"tags":["java","intellij-idea","indentation","auto-indent","editorconfig"],"owner":{"account_id":2409930,"reputation":744,"user_id":2105282,"accept_rate":86,"display_name":"user2105282"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691428535,"creation_date":1691428535,"question_id":76853839,"body_markdown":"I try to find the name of the argument in editorconfig or setting in Intellij Idea (java) which is responsible for the next indent. \r\nContinuation indent works fine if I use code inside function, but for method arguments on the next line they are always starting from the opened brace `(`.\r\nI would like it to have the same value as continuation indent.\r\n\r\nSee picture:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZGqOp.png","title":"Editorconfig property name to control method argument indent","body":"<p>I try to find the name of the argument in editorconfig or setting in Intellij Idea (java) which is responsible for the next indent.\nContinuation indent works fine if I use code inside function, but for method arguments on the next line they are always starting from the opened brace <code>(</code>.\nI would like it to have the same value as continuation indent.</p>\n<p>See picture:\n<a href=\"https://i.stack.imgur.com/ZGqOp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZGqOp.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","xml","android-studio","kotlin"],"answers":[{"comments":[{"owner":{"account_id":26169863,"reputation":15,"user_id":19855051,"display_name":"Tarezze"},"score":0,"creation_date":1682168654,"post_id":76079373,"comment_id":134174754,"body_markdown":"I found the solution : there were no layout directory with activity_main.xml in, so I created one and now it&#39;s working. It&#39;s still not as in video I watched but it&#39;s working thank you anyway.","body":"I found the solution : there were no layout directory with activity_main.xml in, so I created one and now it&#39;s working. It&#39;s still not as in video I watched but it&#39;s working thank you anyway."}],"tags":[],"owner":{"account_id":5966678,"reputation":3016,"user_id":4690298,"display_name":"Amjad Alwareh"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1682162431,"creation_date":1682162431,"answer_id":76079373,"question_id":76079126,"body_markdown":"Regarding the language, I was using Java 7 years ago then I moved to Kotlin, I can tell that Kotlin is better and easy to use.&lt;br&gt;\r\nAlso, I recommend you check the dependencies inside your project `build.gradle app-level` and check if they are AndroidX or support libraries.","title":"Android Studio Flamingo not well configure","body":"<p>Regarding the language, I was using Java 7 years ago then I moved to Kotlin, I can tell that Kotlin is better and easy to use.<br>\nAlso, I recommend you check the dependencies inside your project <code>build.gradle app-level</code> and check if they are AndroidX or support libraries.</p>\n"}],"owner":{"account_id":26169863,"reputation":15,"user_id":19855051,"display_name":"Tarezze"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1488,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76079373,"answer_count":1,"score":0,"last_activity_date":1691428400,"creation_date":1682158816,"question_id":76079126,"body_markdown":"I&#39;m starting to learn Android (I have some base in java) and I&#39;m using the last version of android studio. Firstly there is no way to change language from kotlin to java (or it&#39;s very well hide). Every video that I watched are on older versions of android studio and everything is different.\r\nI decided to use kotlin but it still not working (video still don&#39;t show the same things that I have). Here is some code that should show &quot;Hello World&quot; that I found on the Internet but there is a lot of error. So I suppose Android Studio is not correctly configure :\r\n\r\nxml:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;android.support.constraint.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;example.app.javatpoint.helloworld.MainActivity&quot;&gt;\r\n\r\n    &lt;TextView\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;Hello World!&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n        app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n&lt;/android.support.constraint.ConstraintLayout&gt;\r\n```\r\nError:\r\n**android.support.constraint.ConstraintLayout** (both)\r\n\r\nkotlin:\r\n```\r\npackage example.app.javatpoint.helloworld\r\n\r\nimport android.support.v7.app.AppCompatActivity\r\nimport android.os.Bundle\r\n\r\nclass MainActivity : AppCompatActivity() {\r\n\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        setContentView(R.layout.activity_main)\r\n    }\r\n}\r\n```\r\nError:\r\n**v7**  /  \r\n**AppCompatActivity**  /  \r\n**override**  /  \r\n**onCreate**  /   \r\n**setContentView**  /   \r\n**R**\r\n\r\nCan you please also tell me which language is the best (I would like to create android game).\r\n\r\n(Sorry for my bad English, I&#39;m French)","title":"Android Studio Flamingo not well configure","body":"<p>I'm starting to learn Android (I have some base in java) and I'm using the last version of android studio. Firstly there is no way to change language from kotlin to java (or it's very well hide). Every video that I watched are on older versions of android studio and everything is different.\nI decided to use kotlin but it still not working (video still don't show the same things that I have). Here is some code that should show &quot;Hello World&quot; that I found on the Internet but there is a lot of error. So I suppose Android Studio is not correctly configure :</p>\n<p>xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;android.support.constraint.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;example.app.javatpoint.helloworld.MainActivity&quot;&gt;\n\n    &lt;TextView\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;Hello World!&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n        app:layout_constraintRight_toRightOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n&lt;/android.support.constraint.ConstraintLayout&gt;\n</code></pre>\n<p>Error:\n<strong>android.support.constraint.ConstraintLayout</strong> (both)</p>\n<p>kotlin:</p>\n<pre><code>package example.app.javatpoint.helloworld\n\nimport android.support.v7.app.AppCompatActivity\nimport android.os.Bundle\n\nclass MainActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n    }\n}\n</code></pre>\n<p>Error:\n<strong>v7</strong>  /<br />\n<strong>AppCompatActivity</strong>  /<br />\n<strong>override</strong>  /<br />\n<strong>onCreate</strong>  /<br />\n<strong>setContentView</strong>  /<br />\n<strong>R</strong></p>\n<p>Can you please also tell me which language is the best (I would like to create android game).</p>\n<p>(Sorry for my bad English, I'm French)</p>\n"},{"tags":["java","firefox","selenium"],"comments":[{"owner":{"account_id":4553930,"reputation":5,"user_id":3698161,"display_name":"user3698161"},"score":0,"creation_date":1425454196,"post_id":28848744,"comment_id":45965221,"body_markdown":"if creating profile in the code is the option...let me know how to do that\nmy code is as follows\n@BeforeStory\n    public void beforeStory() throws Exception {\n        System.out.println(&quot;Initializing WebDriver&quot;);\n        driverProvider.initialize();\n webDriver = driverProvider.get();\nwebDriver.manage().deleteAllCookies();\n        //Specifies the amount of time the driver should wait when searching for an element if it is not immediately present.\n        webDriver.manage().timeouts().implicitlyWait(40, TimeUnit.SECONDS);","body":"if creating profile in the code is the option...let me know how to do that my code is as follows @BeforeStory     public void beforeStory() throws Exception {         System.out.println(&quot;Initializing WebDriver&quot;);         driverProvider.initialize();  webDriver = driverProvider.get(); webDriver.manage().deleteAllCookies();         //Specifies the amount of time the driver should wait when searching for an element if it is not immediately present.         webDriver.manage().timeouts().implicitlyWait(40, TimeUnit.SECONDS);"}],"answers":[{"comments":[{"owner":{"account_id":4553930,"reputation":5,"user_id":3698161,"display_name":"user3698161"},"score":0,"creation_date":1425463326,"post_id":28850957,"comment_id":45969953,"body_markdown":"@BeforeStory public void beforeStory() throws Exception { System.out.println(&quot;Initializing WebDriver&quot;); \ndriverProvider.initialize();\n webDriver = driverProvider.get();\n webDriver.manage().deleteAllCookies(); //Specifies the amount of time the driver should wait when searching for an element if it is not immediately present. webDriver.manage().timeouts().implicitlyWait(40, TimeUnit.SECONDS);","body":"@BeforeStory public void beforeStory() throws Exception { System.out.println(&quot;Initializing WebDriver&quot;);  driverProvider.initialize();  webDriver = driverProvider.get();  webDriver.manage().deleteAllCookies(); //Specifies the amount of time the driver should wait when searching for an element if it is not immediately present. webDriver.manage().timeouts().implicitlyWait(40, TimeUnit.SECONDS);"},{"owner":{"account_id":3866973,"reputation":3011,"user_id":3203287,"accept_rate":100,"display_name":"Vicky"},"score":0,"creation_date":1425463969,"post_id":28850957,"comment_id":45970355,"body_markdown":"you have to put the code before creating an webdriver instance...In the above code i have created or used a firefox profile and passed it to FirefoxDriver class...","body":"you have to put the code before creating an webdriver instance...In the above code i have created or used a firefox profile and passed it to FirefoxDriver class..."}],"tags":[],"owner":{"account_id":3866973,"reputation":3011,"user_id":3203287,"accept_rate":100,"display_name":"Vicky"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1691428220,"creation_date":1425461740,"answer_id":28850957,"question_id":28848744,"body_markdown":"When starting Firefox in Selenium WebDriver, it starts a new, anonymous profile you can modify it by creating a new profile and update preferences or using existing profile\r\n\r\n\r\n    FirefoxProfile profile = new FirefoxProfile(); \r\n    \r\n    profile.setPreference(&quot;browser.download.folderList&quot;, 2);\r\n    \r\n    profile.setPreference(&quot;browser.download.manager.showWhenStarting&quot;, false);\r\n    \r\n    profile.setPreference(&quot;browser.download.dir&quot;, **enter your download path**);\r\n    \r\n    profile.setPreference(&quot;browser.helperApps.neverAsk.openFile&quot;,\r\n    \t\t\t&quot;text/csv, application/pdf, application/x-msexcel,application/excel,application/x-excel,application/excel,application/x-excel,application/excel,application/vnd.ms-excel,application/x-excel,application/x-msexcel,image/png,image/jpeg,text/html,text/plain,application/msword,application/xml,application/excel&quot;);\r\n    \t\r\n    profile.setPreference(&quot;browser.helperApps.neverAsk.saveToDisk&quot;,\r\n    \t\t\t&quot;text/csv, application/pdf, application/x-msexcel,application/excel,application/x-excel,application/excel,application/x-excel,application/excel, application/vnd.ms- excel,application/x-excel,application/x-msexcel,image/png,image/jpeg,text/html,text/plain,application/msword,application/xml,application/excel,text/x-c&quot;);\r\n    \r\n    Webdriver driver = new FirefoxDriver(profile);\r\n\r\nIf you don&#39;t wish to create a Firefox profile in the code then create a Firefox profile with the above settings manually and use that using the below code\r\n\r\n    ProfilesIni all_profiles = new ProfilesIni();\r\n    FirefoxProfile profile = all_profiles.getProfile(&quot;created profile&quot;);\r\n    WebDriver driver = new FirefoxDriver(profile);\r\n\r\nHope this helps you....","title":"How to edit the anonymous/default profile in firefox?","body":"<p>When starting Firefox in Selenium WebDriver, it starts a new, anonymous profile you can modify it by creating a new profile and update preferences or using existing profile</p>\n<pre><code>FirefoxProfile profile = new FirefoxProfile(); \n\nprofile.setPreference(&quot;browser.download.folderList&quot;, 2);\n\nprofile.setPreference(&quot;browser.download.manager.showWhenStarting&quot;, false);\n\nprofile.setPreference(&quot;browser.download.dir&quot;, **enter your download path**);\n\nprofile.setPreference(&quot;browser.helperApps.neverAsk.openFile&quot;,\n            &quot;text/csv, application/pdf, application/x-msexcel,application/excel,application/x-excel,application/excel,application/x-excel,application/excel,application/vnd.ms-excel,application/x-excel,application/x-msexcel,image/png,image/jpeg,text/html,text/plain,application/msword,application/xml,application/excel&quot;);\n    \nprofile.setPreference(&quot;browser.helperApps.neverAsk.saveToDisk&quot;,\n            &quot;text/csv, application/pdf, application/x-msexcel,application/excel,application/x-excel,application/excel,application/x-excel,application/excel, application/vnd.ms- excel,application/x-excel,application/x-msexcel,image/png,image/jpeg,text/html,text/plain,application/msword,application/xml,application/excel,text/x-c&quot;);\n\nWebdriver driver = new FirefoxDriver(profile);\n</code></pre>\n<p>If you don't wish to create a Firefox profile in the code then create a Firefox profile with the above settings manually and use that using the below code</p>\n<pre><code>ProfilesIni all_profiles = new ProfilesIni();\nFirefoxProfile profile = all_profiles.getProfile(&quot;created profile&quot;);\nWebDriver driver = new FirefoxDriver(profile);\n</code></pre>\n<p>Hope this helps you....</p>\n"}],"owner":{"account_id":4553930,"reputation":5,"user_id":3698161,"display_name":"user3698161"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":577,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":28850957,"answer_count":1,"score":0,"last_activity_date":1691428220,"creation_date":1425454028,"question_id":28848744,"body_markdown":"I am using Selenium to automate a test case where files are downloaded.\r\nIn Firefox, I get a dialog box to save or open the file when I click on the link to download the file. I went to Firefox and typed about:config in address bar and updated browser.helperapps.neverask.savetodisk with the mimetype. When I manually click on the link to download a file, it automatically downloads without dialog box. When I automate it with Selenium, the dialog box appears. Can anyone suggest a way to automate this in Firefox without creating a profile in code. I don&#39;t mind changing the browser setting. In Firefox how to update the profile which Selenium uses?","title":"How to edit the anonymous/default profile in firefox?","body":"<p>I am using Selenium to automate a test case where files are downloaded.\nIn Firefox, I get a dialog box to save or open the file when I click on the link to download the file. I went to Firefox and typed about:config in address bar and updated browser.helperapps.neverask.savetodisk with the mimetype. When I manually click on the link to download a file, it automatically downloads without dialog box. When I automate it with Selenium, the dialog box appears. Can anyone suggest a way to automate this in Firefox without creating a profile in code. I don't mind changing the browser setting. In Firefox how to update the profile which Selenium uses?</p>\n"},{"tags":["java","javafx","netbeans-14"],"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1680924524,"post_id":73607287,"comment_id":133980845,"body_markdown":"To use [IntelliJ](https://en.wikipedia.org/wiki/IntelliJ_IDEA) to create a JavaFX project driven by either Maven or Gradle, see [my Answer](https://stackoverflow.com/a/74764297/642706) on a similar Question.","body":"To use <a href=\"https://en.wikipedia.org/wiki/IntelliJ_IDEA\" rel=\"nofollow noreferrer\">IntelliJ</a> to create a JavaFX project driven by either Maven or Gradle, see <a href=\"https://stackoverflow.com/a/74764297/642706\">my Answer</a> on a similar Question."}],"answers":[{"tags":[],"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1662390258,"creation_date":1662389449,"answer_id":73611206,"question_id":73607287,"body_markdown":"I would suggest you go to `New Project` -&gt; `Java with Maven` -&gt; either `Simple JavaFX Maven Archetype(Gluon)` or `FXML JavaFX Maven Archetype(Gluon)`. Use the `POM` to change your version of `JavaFX` from the default to whatever version you like. I also use the `POM` to change the `JavaFX-Maven-Plugin` to the latest version.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hNPtk.jpg","title":"NetBeans 14 - Failed to automatically set-up JavaFX Platform","body":"<p>I would suggest you go to <code>New Project</code> -&gt; <code>Java with Maven</code> -&gt; either <code>Simple JavaFX Maven Archetype(Gluon)</code> or <code>FXML JavaFX Maven Archetype(Gluon)</code>. Use the <code>POM</code> to change your version of <code>JavaFX</code> from the default to whatever version you like. I also use the <code>POM</code> to change the <code>JavaFX-Maven-Plugin</code> to the latest version.</p>\n<p><a href=\"https://i.stack.imgur.com/hNPtk.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/hNPtk.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1684436743,"creation_date":1662392554,"answer_id":73611827,"question_id":73607287,"body_markdown":"I strongly endorse the approach using [tag:maven] suggested [here][1]. This [project][2] started exactly the same way; I&#39;d welcome learning of any issues you encounter.\r\n\r\nAlternatively, follow the steps outlined in [_JavaFX and NetBeans: Non-modular projects: IDE_][3]. You&#39;ve created a JavaFX library, but &quot;Don&#39;t try to create a JavaFX project.&quot; Instead, choose _Java with Ant_ and _Java Application_ to create a new project, shown below, then follow the remaining steps carefully. It&#39;s a convenient alternative  for a scratch project while you assay [tag:maven]. \r\n\r\n[![NetBeans][4]][4]\r\n\r\nAddendum: The [tag:ant] code for a _JavaFX_ project, _not_ selected in the image above, may attempt to package dependencies that are no longer required. In particular, a project using module `javafx.web` may fail with the following error, seen [here][5] and [here][6].\r\n\r\n    Unable to create javax script engine for javascript.\r\n\r\nThe easiest fix is to recreate the enclosing project by choosing either of these:\r\n\r\n- _Java with Ant &gt; Java Project with Existing Sources_\r\n\r\n- _Java with Maven &gt; Project with Existing POM_\r\n\r\nAlternatively, a simple example using a custom [tag:ant] script is cited [here][7].\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/73611206/230513\r\n  [2]: https://github.com/trashgod/modular\r\n  [3]: https://openjfx.io/openjfx-docs/#IDE-NetBeans\r\n  [4]: https://i.stack.imgur.com/nDWpv.png\r\n  [5]: https://stackoverflow.com/q/71928637/230513\r\n  [6]: https://stackoverflow.com/q/66963470/230513\r\n  [7]: https://stackoverflow.com/a/71288497/230513","title":"NetBeans 14 - Failed to automatically set-up JavaFX Platform","body":"<p>I strongly endorse the approach using <a href=\"/questions/tagged/maven\" class=\"post-tag\" title=\"show questions tagged &#39;maven&#39;\" aria-label=\"show questions tagged &#39;maven&#39;\" rel=\"tag\" aria-labelledby=\"tag-maven-tooltip-container\">maven</a> suggested <a href=\"https://stackoverflow.com/a/73611206/230513\">here</a>. This <a href=\"https://github.com/trashgod/modular\" rel=\"nofollow noreferrer\">project</a> started exactly the same way; I'd welcome learning of any issues you encounter.</p>\n<p>Alternatively, follow the steps outlined in <a href=\"https://openjfx.io/openjfx-docs/#IDE-NetBeans\" rel=\"nofollow noreferrer\"><em>JavaFX and NetBeans: Non-modular projects: IDE</em></a>. You've created a JavaFX library, but &quot;Don't try to create a JavaFX project.&quot; Instead, choose <em>Java with Ant</em> and <em>Java Application</em> to create a new project, shown below, then follow the remaining steps carefully. It's a convenient alternative  for a scratch project while you assay <a href=\"/questions/tagged/maven\" class=\"post-tag\" title=\"show questions tagged &#39;maven&#39;\" aria-label=\"show questions tagged &#39;maven&#39;\" rel=\"tag\" aria-labelledby=\"tag-maven-tooltip-container\">maven</a>.</p>\n<p><a href=\"https://i.stack.imgur.com/nDWpv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nDWpv.png\" alt=\"NetBeans\" /></a></p>\n<p>Addendum: The <a href=\"/questions/tagged/ant\" class=\"post-tag\" title=\"show questions tagged &#39;ant&#39;\" aria-label=\"show questions tagged &#39;ant&#39;\" rel=\"tag\" aria-labelledby=\"tag-ant-tooltip-container\">ant</a> code for a <em>JavaFX</em> project, <em>not</em> selected in the image above, may attempt to package dependencies that are no longer required. In particular, a project using module <code>javafx.web</code> may fail with the following error, seen <a href=\"https://stackoverflow.com/q/71928637/230513\">here</a> and <a href=\"https://stackoverflow.com/q/66963470/230513\">here</a>.</p>\n<pre><code>Unable to create javax script engine for javascript.\n</code></pre>\n<p>The easiest fix is to recreate the enclosing project by choosing either of these:</p>\n<ul>\n<li><p><em>Java with Ant &gt; Java Project with Existing Sources</em></p>\n</li>\n<li><p><em>Java with Maven &gt; Project with Existing POM</em></p>\n</li>\n</ul>\n<p>Alternatively, a simple example using a custom <a href=\"/questions/tagged/ant\" class=\"post-tag\" title=\"show questions tagged &#39;ant&#39;\" aria-label=\"show questions tagged &#39;ant&#39;\" rel=\"tag\" aria-labelledby=\"tag-ant-tooltip-container\">ant</a> script is cited <a href=\"https://stackoverflow.com/a/71288497/230513\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":1462063,"reputation":221,"user_id":3150083,"accept_rate":50,"display_name":"Peter"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1678212830,"creation_date":1678212830,"answer_id":75665753,"question_id":73607287,"body_markdown":"The answer is given in the docs:\r\n\r\n&quot;Warning: Don&#39;t try to create a JavaFX project. The JavaFX Ant tasks of the current Apache NetBeans version are not ready for JavaFX 11+ yet, unless you have a custom JDK that bundles JavaFX, as described in Custom JDK+JavaFX image.&quot; \r\n\r\nhttps://openjfx.io/openjfx-docs/\r\n\r\n","title":"NetBeans 14 - Failed to automatically set-up JavaFX Platform","body":"<p>The answer is given in the docs:</p>\n<p>&quot;Warning: Don't try to create a JavaFX project. The JavaFX Ant tasks of the current Apache NetBeans version are not ready for JavaFX 11+ yet, unless you have a custom JDK that bundles JavaFX, as described in Custom JDK+JavaFX image.&quot;</p>\n<p><a href=\"https://openjfx.io/openjfx-docs/\" rel=\"nofollow noreferrer\">https://openjfx.io/openjfx-docs/</a></p>\n"}],"owner":{"account_id":11971847,"reputation":51,"user_id":8760118,"display_name":"Ark"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3383,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1691428155,"creation_date":1662370396,"question_id":73607287,"body_markdown":"I&#39;ve been banging my head on this one for ages and all of the tutorials I&#39;ve found don&#39;t seem to work. When I try to create a new JavaFX project in Netbeans 14, using JDK 18 and the latest JFX download for Windows here:\r\nhttps://gluonhq.com/products/javafx/\r\n\r\nAlso tried with JDK and JFX 17 and still no luck. I get this error:\r\n[![enter image description here][1]][1]\r\n\r\n\r\nI&#39;ve added the libraries like so:\r\n[![enter image description here][2]][2]\r\n\r\nIf I try to add the platform folder, it won&#39;t let me progress through the dialogue:\r\n[![enter image description here][3]][3]\r\n\r\nI can&#39;t find solutions to this anywhere and, again this is the same with JDK 17 and 18, and JFX 17 and 18. I&#39;ve checked the documentation and there&#39;s nothing that seems to solve the issue.\r\n\r\nIt says to go to the JavaFX tab and enable JavaFX, but there&#39;s no JavaFX tab... Unless they mean this:\r\n[![enter image description here][4]][4]\r\n\r\nBut if that&#39;s it then, as you can see, it&#39;s already enabled and it&#39;s still not working. I&#39;m totally lost. I don&#39;t understand why the documentation is so poor for FX, for every IDE. It&#39;s honestly like they don&#39;t want people to use it and every tutorial I&#39;m finding is using outdated versions of NetBeans, the JDK and JFX D-: (they also don&#39;t solve the issue even if I do follow them).\r\n\r\nIf anyone could help guide me, I&#39;d really appreciate it.\r\n\r\n  [1]: https://i.stack.imgur.com/tAWW4.png\r\n  [2]: https://i.stack.imgur.com/SyT90.png\r\n  [3]: https://i.stack.imgur.com/PtyRK.png\r\n  [4]: https://i.stack.imgur.com/A4VMS.png","title":"NetBeans 14 - Failed to automatically set-up JavaFX Platform","body":"<p>I've been banging my head on this one for ages and all of the tutorials I've found don't seem to work. When I try to create a new JavaFX project in Netbeans 14, using JDK 18 and the latest JFX download for Windows here:\n<a href=\"https://gluonhq.com/products/javafx/\" rel=\"nofollow noreferrer\">https://gluonhq.com/products/javafx/</a></p>\n<p>Also tried with JDK and JFX 17 and still no luck. I get this error:\n<a href=\"https://i.stack.imgur.com/tAWW4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tAWW4.png\" alt=\"enter image description here\" /></a></p>\n<p>I've added the libraries like so:\n<a href=\"https://i.stack.imgur.com/SyT90.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SyT90.png\" alt=\"enter image description here\" /></a></p>\n<p>If I try to add the platform folder, it won't let me progress through the dialogue:\n<a href=\"https://i.stack.imgur.com/PtyRK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PtyRK.png\" alt=\"enter image description here\" /></a></p>\n<p>I can't find solutions to this anywhere and, again this is the same with JDK 17 and 18, and JFX 17 and 18. I've checked the documentation and there's nothing that seems to solve the issue.</p>\n<p>It says to go to the JavaFX tab and enable JavaFX, but there's no JavaFX tab... Unless they mean this:\n<a href=\"https://i.stack.imgur.com/A4VMS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/A4VMS.png\" alt=\"enter image description here\" /></a></p>\n<p>But if that's it then, as you can see, it's already enabled and it's still not working. I'm totally lost. I don't understand why the documentation is so poor for FX, for every IDE. It's honestly like they don't want people to use it and every tutorial I'm finding is using outdated versions of NetBeans, the JDK and JFX D-: (they also don't solve the issue even if I do follow them).</p>\n<p>If anyone could help guide me, I'd really appreciate it.</p>\n"},{"tags":["java","spring","hibernate","tomcat","java-8"],"owner":{"account_id":2414203,"reputation":5,"user_id":2108638,"display_name":"redds1"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691427782,"creation_date":1691427782,"question_id":76853762,"body_markdown":"The application was working fine in Java 6 with spring 2.5.6 libraries. But I was getting library errors in Java 8. I am trying to upgrade the application to Java 8 on Tomcat 9, hence updated the libraries to 3.2.1. \r\n\r\nThis is my application context file:\r\n\r\n    &lt;bean id=&quot;sessionFactory&quot; class=&quot;org.springframework.orm.hibernate3.annotation.AnnotationSessionFactoryBean&quot;&gt;\r\n           &lt;property name=&quot;dataSource&quot;&gt;&lt;ref local=&quot;dataSource&quot;/&gt;&lt;/property&gt;\r\n           &lt;!--&lt;property name=&quot;lobHandler&quot;&gt;&lt;ref local=&quot;oracleLobHandler&quot;/&gt;&lt;/property&gt;--&gt;\r\n           &lt;property name=&quot;packagesToScan&quot;&gt;\r\n               &lt;list&gt;\r\n                 &lt;value&gt;net.abc.acs.domain&lt;/value&gt;\r\n               &lt;/list&gt;\r\n           &lt;/property&gt;\r\n           &lt;property name=&quot;annotatedPackages&quot;&gt;\r\n               &lt;list&gt;\r\n                 &lt;value&gt;net.abc.acs.domain&lt;/value&gt;\r\n               &lt;/list&gt;\r\n           &lt;/property&gt;\r\n    &lt;/bean&gt;\r\n\r\nI see this error now:\r\n\r\n    &gt; org.springframework.beans.factory.BeanCreationException: Error\r\n    &gt; creating bean with name &#39;sessionFactory&#39; defined in ServletContext\r\n    &gt; resource [/WEB-INF/applicationContext.xml]: Invocation of init method\r\n    &gt; failed; nested exception is java.lang.IllegalArgumentException \tat\r\n    &gt; org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1486)\r\n    &gt; \tat\r\n    &gt; org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:524)\r\n    &gt; \tat\r\n    &gt; org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:461)\r\n    &gt; \tat\r\n    &gt; org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:295)\r\n    &gt; \tat\r\n    &gt; org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:223)\r\n    &gt; \tat\r\n    &gt; org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:292)\r\n    &gt; \tat\r\n    &gt; org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)\r\n    &gt; \tat\r\n    &gt; org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:608)\r\n    &gt; \tat\r\n    &gt; org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932)\r\n    &gt; \tat\r\n    &gt; org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:479)\r\n    &gt; \tat\r\n    &gt; org.springframework.web.context.ContextLoader.createWebApplicationContext(ContextLoader.java:255)\r\n    &gt; \tat\r\n    &gt; org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:199)\r\n    &gt; \tat\r\n    &gt; org.springframework.web.context.ContextLoaderServlet.init(ContextLoaderServlet.java:81)\r\n    &gt; \tat javax.servlet.GenericServlet.init(GenericServlet.java:158) \tat\r\n    &gt; org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1164)\r\n    &gt; \tat\r\n    &gt; org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1117)\r\n    &gt; \tat\r\n    &gt; org.apache.catalina.core.StandardWrapper.load(StandardWrapper.java:1010)\r\n    &gt; \tat\r\n    &gt; org.apache.catalina.core.StandardContext.loadOnStartup(StandardContext.java:4958)\r\n    &gt; \tat\r\n    &gt; org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5265)\r\n    &gt; \tat\r\n    &gt; org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n    &gt; \tat\r\n    &gt; org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:726)\r\n    &gt; \tat\r\n    &gt; org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:698)\r\n    &gt; \tat\r\n    &gt; org.apache.catalina.core.StandardHost.addChild(StandardHost.java:696)\r\n    &gt; \tat\r\n    &gt; org.apache.catalina.startup.HostConfig.deployDescriptor(HostConfig.java:690)\r\n    &gt; \tat\r\n    &gt; org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:538)\r\n    &gt; \tat org.apache.catalina.startup.HostConfig.check(HostConfig.java:1690)\r\n    &gt; \tat sun.reflect.GeneratedMethodAccessor77.invoke(Unknown Source) \tat\r\n    &gt; sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    &gt; \tat java.lang.reflect.Method.invoke(Method.java:498) \tat\r\n    &gt; org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:293)\r\n    &gt; \tat\r\n    &gt; com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)\r\n    &gt; \tat\r\n    &gt; com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)\r\n    &gt; \tat\r\n    &gt; org.apache.catalina.manager.ManagerServlet.check(ManagerServlet.java:1614)\r\n    &gt; \tat\r\n    &gt; org.apache.catalina.manager.ManagerServlet.deploy(ManagerServlet.java:1026)\r\n    &gt; \tat\r\n    &gt; org.apache.catalina.manager.ManagerServlet.doGet(ManagerServlet.java:357)\r\n    &gt; \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:670) \tat\r\n    &gt; javax.servlet.http.HttpServlet.service(HttpServlet.java:779) \tat\r\n    &gt; org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\r\n    &gt; \tat\r\n    &gt; org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    &gt; \tat\r\n    &gt; org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n    &gt; \tat\r\n    &gt; org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    &gt; \tat\r\n    &gt; org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    &gt; \tat\r\n    &gt; org.apache.catalina.filters.HttpHeaderSecurityFilter.doFilter(HttpHeaderSecurityFilter.java:126)\r\n    &gt; \tat\r\n    &gt; org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    &gt; \tat\r\n    &gt; org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    &gt; \tat\r\n    &gt; org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\r\n    &gt; \tat\r\n    &gt; org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n    &gt; \tat\r\n    &gt; org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:660)\r\n    &gt; \tat\r\n    &gt; org.apache.catalina.valves.RequestFilterValve.process(RequestFilterValve.java:378)\r\n    &gt; \tat\r\n    &gt; org.apache.catalina.valves.RemoteAddrValve.invoke(RemoteAddrValve.java:56)\r\n    &gt; \tat\r\n    &gt; org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\r\n    &gt; \tat\r\n    &gt; org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n    &gt; \tat\r\n    &gt; org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\r\n    &gt; \tat\r\n    &gt; org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n    &gt; \tat\r\n    &gt; org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\r\n    &gt; \tat\r\n    &gt; org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\r\n    &gt; \tat\r\n    &gt; org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n    &gt; \tat\r\n    &gt; org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)\r\n    &gt; \tat\r\n    &gt; org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)\r\n    &gt; \tat\r\n    &gt; org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n    &gt; \tat\r\n    &gt; org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n    &gt; \tat\r\n    &gt; org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n    &gt; \tat\r\n    &gt; org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    &gt; \tat java.lang.Thread.run(Thread.java:748) Caused by:\r\n    &gt; java.lang.IllegalArgumentException \tat\r\n    &gt; org.springframework.asm.ClassReader.&lt;init&gt;(Unknown Source) \tat\r\n    &gt; org.springframework.asm.ClassReader.&lt;init&gt;(Unknown Source) \tat\r\n    &gt; org.springframework.asm.ClassReader.&lt;init&gt;(Unknown Source) \tat\r\n    &gt; org.springframework.core.type.classreading.SimpleMetadataReader.&lt;init&gt;(SimpleMetadataReader.java:52)\r\n    &gt; \tat\r\n    &gt; org.springframework.core.type.classreading.SimpleMetadataReaderFactory.getMetadataReader(SimpleMetadataReaderFactory.java:80)\r\n    &gt; \tat\r\n    &gt; org.springframework.core.type.classreading.CachingMetadataReaderFactory.getMetadataReader(CachingMetadataReaderFactory.java:102)\r\n    &gt; \tat\r\n    &gt; org.springframework.orm.hibernate3.annotation.AnnotationSessionFactoryBean.scanPackages(AnnotationSessionFactoryBean.java:191)\r\n    &gt; \tat\r\n    &gt; org.springframework.orm.hibernate3.annotation.AnnotationSessionFactoryBean.postProcessMappings(AnnotationSessionFactoryBean.java:174)\r\n    &gt; \tat\r\n    &gt; org.springframework.orm.hibernate3.LocalSessionFactoryBean.buildSessionFactory(LocalSessionFactoryBean.java:672)\r\n    &gt; \tat\r\n    &gt; org.springframework.orm.hibernate3.AbstractSessionFactoryBean.afterPropertiesSet(AbstractSessionFactoryBean.java:211)\r\n    &gt; \tat\r\n    &gt; org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1545)\r\n    &gt; \tat org.springframewo\r\n\r\nAny pointers will be appreciated. Thanks","title":"org.springframework.beans.factory.BeanCreationException in Java 8","body":"<p>The application was working fine in Java 6 with spring 2.5.6 libraries. But I was getting library errors in Java 8. I am trying to upgrade the application to Java 8 on Tomcat 9, hence updated the libraries to 3.2.1.</p>\n<p>This is my application context file:</p>\n<pre><code>&lt;bean id=&quot;sessionFactory&quot; class=&quot;org.springframework.orm.hibernate3.annotation.AnnotationSessionFactoryBean&quot;&gt;\n       &lt;property name=&quot;dataSource&quot;&gt;&lt;ref local=&quot;dataSource&quot;/&gt;&lt;/property&gt;\n       &lt;!--&lt;property name=&quot;lobHandler&quot;&gt;&lt;ref local=&quot;oracleLobHandler&quot;/&gt;&lt;/property&gt;--&gt;\n       &lt;property name=&quot;packagesToScan&quot;&gt;\n           &lt;list&gt;\n             &lt;value&gt;net.abc.acs.domain&lt;/value&gt;\n           &lt;/list&gt;\n       &lt;/property&gt;\n       &lt;property name=&quot;annotatedPackages&quot;&gt;\n           &lt;list&gt;\n             &lt;value&gt;net.abc.acs.domain&lt;/value&gt;\n           &lt;/list&gt;\n       &lt;/property&gt;\n&lt;/bean&gt;\n</code></pre>\n<p>I see this error now:</p>\n<pre><code>&gt; org.springframework.beans.factory.BeanCreationException: Error\n&gt; creating bean with name 'sessionFactory' defined in ServletContext\n&gt; resource [/WEB-INF/applicationContext.xml]: Invocation of init method\n&gt; failed; nested exception is java.lang.IllegalArgumentException    at\n&gt; org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1486)\n&gt;   at\n&gt; org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:524)\n&gt;   at\n&gt; org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:461)\n&gt;   at\n&gt; org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:295)\n&gt;   at\n&gt; org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:223)\n&gt;   at\n&gt; org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:292)\n&gt;   at\n&gt; org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)\n&gt;   at\n&gt; org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:608)\n&gt;   at\n&gt; org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932)\n&gt;   at\n&gt; org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:479)\n&gt;   at\n&gt; org.springframework.web.context.ContextLoader.createWebApplicationContext(ContextLoader.java:255)\n&gt;   at\n&gt; org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:199)\n&gt;   at\n&gt; org.springframework.web.context.ContextLoaderServlet.init(ContextLoaderServlet.java:81)\n&gt;   at javax.servlet.GenericServlet.init(GenericServlet.java:158)   at\n&gt; org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1164)\n&gt;   at\n&gt; org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1117)\n&gt;   at\n&gt; org.apache.catalina.core.StandardWrapper.load(StandardWrapper.java:1010)\n&gt;   at\n&gt; org.apache.catalina.core.StandardContext.loadOnStartup(StandardContext.java:4958)\n&gt;   at\n&gt; org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5265)\n&gt;   at\n&gt; org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n&gt;   at\n&gt; org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:726)\n&gt;   at\n&gt; org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:698)\n&gt;   at\n&gt; org.apache.catalina.core.StandardHost.addChild(StandardHost.java:696)\n&gt;   at\n&gt; org.apache.catalina.startup.HostConfig.deployDescriptor(HostConfig.java:690)\n&gt;   at\n&gt; org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:538)\n&gt;   at org.apache.catalina.startup.HostConfig.check(HostConfig.java:1690)\n&gt;   at sun.reflect.GeneratedMethodAccessor77.invoke(Unknown Source)     at\n&gt; sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n&gt;   at java.lang.reflect.Method.invoke(Method.java:498)     at\n&gt; org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:293)\n&gt;   at\n&gt; com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)\n&gt;   at\n&gt; com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)\n&gt;   at\n&gt; org.apache.catalina.manager.ManagerServlet.check(ManagerServlet.java:1614)\n&gt;   at\n&gt; org.apache.catalina.manager.ManagerServlet.deploy(ManagerServlet.java:1026)\n&gt;   at\n&gt; org.apache.catalina.manager.ManagerServlet.doGet(ManagerServlet.java:357)\n&gt;   at javax.servlet.http.HttpServlet.service(HttpServlet.java:670)     at\n&gt; javax.servlet.http.HttpServlet.service(HttpServlet.java:779)  at\n&gt; org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\n&gt;   at\n&gt; org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n&gt;   at\n&gt; org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n&gt;   at\n&gt; org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n&gt;   at\n&gt; org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n&gt;   at\n&gt; org.apache.catalina.filters.HttpHeaderSecurityFilter.doFilter(HttpHeaderSecurityFilter.java:126)\n&gt;   at\n&gt; org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n&gt;   at\n&gt; org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n&gt;   at\n&gt; org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\n&gt;   at\n&gt; org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n&gt;   at\n&gt; org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:660)\n&gt;   at\n&gt; org.apache.catalina.valves.RequestFilterValve.process(RequestFilterValve.java:378)\n&gt;   at\n&gt; org.apache.catalina.valves.RemoteAddrValve.invoke(RemoteAddrValve.java:56)\n&gt;   at\n&gt; org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\n&gt;   at\n&gt; org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n&gt;   at\n&gt; org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\n&gt;   at\n&gt; org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n&gt;   at\n&gt; org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\n&gt;   at\n&gt; org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\n&gt;   at\n&gt; org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n&gt;   at\n&gt; org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)\n&gt;   at\n&gt; org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)\n&gt;   at\n&gt; org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n&gt;   at\n&gt; org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n&gt;   at\n&gt; org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n&gt;   at\n&gt; org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n&gt;   at java.lang.Thread.run(Thread.java:748) Caused by:\n&gt; java.lang.IllegalArgumentException    at\n&gt; org.springframework.asm.ClassReader.&lt;init&gt;(Unknown Source)    at\n&gt; org.springframework.asm.ClassReader.&lt;init&gt;(Unknown Source)    at\n&gt; org.springframework.asm.ClassReader.&lt;init&gt;(Unknown Source)    at\n&gt; org.springframework.core.type.classreading.SimpleMetadataReader.&lt;init&gt;(SimpleMetadataReader.java:52)\n&gt;   at\n&gt; org.springframework.core.type.classreading.SimpleMetadataReaderFactory.getMetadataReader(SimpleMetadataReaderFactory.java:80)\n&gt;   at\n&gt; org.springframework.core.type.classreading.CachingMetadataReaderFactory.getMetadataReader(CachingMetadataReaderFactory.java:102)\n&gt;   at\n&gt; org.springframework.orm.hibernate3.annotation.AnnotationSessionFactoryBean.scanPackages(AnnotationSessionFactoryBean.java:191)\n&gt;   at\n&gt; org.springframework.orm.hibernate3.annotation.AnnotationSessionFactoryBean.postProcessMappings(AnnotationSessionFactoryBean.java:174)\n&gt;   at\n&gt; org.springframework.orm.hibernate3.LocalSessionFactoryBean.buildSessionFactory(LocalSessionFactoryBean.java:672)\n&gt;   at\n&gt; org.springframework.orm.hibernate3.AbstractSessionFactoryBean.afterPropertiesSet(AbstractSessionFactoryBean.java:211)\n&gt;   at\n&gt; org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1545)\n&gt;   at org.springframewo\n</code></pre>\n<p>Any pointers will be appreciated. Thanks</p>\n"},{"tags":["java","netbeans"],"comments":[{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":0,"creation_date":1690571622,"post_id":76790381,"comment_id":135377515,"body_markdown":"Put `C:\\Users\\crist\\.nbi\\log\\20230728105427.log` in the question please.","body":"Put <code>C:\\Users\\crist\\.nbi\\log\\20230728105427.log</code> in the question please."},{"owner":{"account_id":22594427,"reputation":1,"user_id":16776972,"display_name":"Cristian Arias"},"score":0,"creation_date":1690572947,"post_id":76790381,"comment_id":135377698,"body_markdown":"@DiegoBorba done","body":"@DiegoBorba done"},{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":0,"creation_date":1690573193,"post_id":76790381,"comment_id":135377726,"body_markdown":"Have you checked your available disk space?","body":"Have you checked your available disk space?"},{"owner":{"account_id":22594427,"reputation":1,"user_id":16776972,"display_name":"Cristian Arias"},"score":0,"creation_date":1690574395,"post_id":76790381,"comment_id":135377894,"body_markdown":"Yes, 55gb of free disk.","body":"Yes, 55gb of free disk."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1690582083,"post_id":76790381,"comment_id":135378778,"body_markdown":"The free version of Intellij IDEA is very good.","body":"The free version of Intellij IDEA is very good."},{"owner":{"account_id":22594427,"reputation":1,"user_id":16776972,"display_name":"Cristian Arias"},"score":0,"creation_date":1690583183,"post_id":76790381,"comment_id":135378878,"body_markdown":"@tgdavies works for web services and cxf ?","body":"@tgdavies works for web services and cxf ?"},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1690760923,"post_id":76790381,"comment_id":135394009,"body_markdown":"From your log you have at least two problems: [1] You are attempting to install NetBeans 8.2 using JDK 17, which is unsupported. Use JDK 8 with NetBeans 8.2. [2] Despite your claim that you have sufficient disk space, the message _&quot;Insufficient disk space for extracting the installation data.&quot;_ is logged repeatedly. So recheck your disk space, and remove JDK 17 from your environment. Using JDK 17 also explains the error _&quot;Comparison method violates its general contract!Comparison method violates its general contract!&quot;_","body":"From your log you have at least two problems: [1] You are attempting to install NetBeans 8.2 using JDK 17, which is unsupported. Use JDK 8 with NetBeans 8.2. [2] Despite your claim that you have sufficient disk space, the message <i>&quot;Insufficient disk space for extracting the installation data.&quot;</i> is logged repeatedly. So recheck your disk space, and remove JDK 17 from your environment. Using JDK 17 also explains the error <i>&quot;Comparison method violates its general contract!Comparison method violates its general contract!&quot;</i>"},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1690761211,"post_id":76790381,"comment_id":135394023,"body_markdown":"That said, consider installing an IDE other than NetBeans 8.2. That release is very old and unsupported, and cannot work properly with any Java release &gt; JDK 8. Is there any reason you _must_ use 8.2? If not, perhaps [install NetBeans 18 instead](https://netbeans.apache.org/download/index.html), which will work fine with JDK 17. But if you follow that approach, also remove JDK 8 unless you need it for other reasons. Having multiple versions of Java on your machine is fine in principle,  but can result in unexpected problems sometimes.","body":"That said, consider installing an IDE other than NetBeans 8.2. That release is very old and unsupported, and cannot work properly with any Java release &gt; JDK 8. Is there any reason you <i>must</i> use 8.2? If not, perhaps <a href=\"https://netbeans.apache.org/download/index.html\" rel=\"nofollow noreferrer\">install NetBeans 18 instead</a>, which will work fine with JDK 17. But if you follow that approach, also remove JDK 8 unless you need it for other reasons. Having multiple versions of Java on your machine is fine in principle,  but can result in unexpected problems sometimes."},{"owner":{"account_id":22594427,"reputation":1,"user_id":16776972,"display_name":"Cristian Arias"},"score":0,"creation_date":1691016555,"post_id":76790381,"comment_id":135435398,"body_markdown":"@skomisa i removed all jdk and enviroments variables, restarted my laptop, now tried to install latest netbeans(18) whit jdk 17 , 18 and 20 having only one version of jdk installed per try, but nothing works, error is the same. I have more than 50GB of free disk space","body":"@skomisa i removed all jdk and enviroments variables, restarted my laptop, now tried to install latest netbeans(18) whit jdk 17 , 18 and 20 having only one version of jdk installed per try, but nothing works, error is the same. I have more than 50GB of free disk space"},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1691040077,"post_id":76790381,"comment_id":135437408,"body_markdown":"@CristianArias Are you still getting that same _&quot;Comparison method violates its general contract!&quot;_ error when using JDK 17 with NetBeans 18? I don&#39;t see how that can occur if you don&#39;t have any other JDKs on your machine. Since you are on Windows double check your `PATH` variable to verify that only one JDK is referenced, and double check that there is only one JDK residing on your machine. Also open a Command Prompt window and submit **java -version** to verify that the version shown is what you expect. Otherwise, if you only have one JDK installed on your machine then I&#39;m out of ideas.","body":"@CristianArias Are you still getting that same <i>&quot;Comparison method violates its general contract!&quot;</i> error when using JDK 17 with NetBeans 18? I don&#39;t see how that can occur if you don&#39;t have any other JDKs on your machine. Since you are on Windows double check your <code>PATH</code> variable to verify that only one JDK is referenced, and double check that there is only one JDK residing on your machine. Also open a Command Prompt window and submit <b>java -version</b> to verify that the version shown is what you expect. Otherwise, if you only have one JDK installed on your machine then I&#39;m out of ideas."},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1691040457,"post_id":76790381,"comment_id":135437460,"body_markdown":"That said, although it doesn&#39;t help to resolve your issue at all, I agree with the earlier comment that the [free (&quot;community&quot;) version of Intellij IDEA](https://www.jetbrains.com/idea/) is very good, with [great tutorials](https://lp.jetbrains.com/academy/learn-java/). The learning curve is a bit higher than for NetBeans initially, but it is now far more popular than NetBeans.","body":"That said, although it doesn&#39;t help to resolve your issue at all, I agree with the earlier comment that the <a href=\"https://www.jetbrains.com/idea/\" rel=\"nofollow noreferrer\">free (&quot;community&quot;) version of Intellij IDEA</a> is very good, with <a href=\"https://lp.jetbrains.com/academy/learn-java/\" rel=\"nofollow noreferrer\">great tutorials</a>. The learning curve is a bit higher than for NetBeans initially, but it is now far more popular than NetBeans."},{"owner":{"account_id":22594427,"reputation":1,"user_id":16776972,"display_name":"Cristian Arias"},"score":0,"creation_date":1691102637,"post_id":76790381,"comment_id":135450368,"body_markdown":"@skomisa yep , there&#39;s no solution for now, i did all the checks for jdk , enviroment, versions installed , compatibilty , but nothing is working, for now i will work with community edition of netbeans.","body":"@skomisa yep , there&#39;s no solution for now, i did all the checks for jdk , enviroment, versions installed , compatibilty , but nothing is working, for now i will work with community edition of netbeans."}],"answers":[{"tags":[],"owner":{"account_id":1295105,"reputation":1763,"user_id":1246369,"accept_rate":50,"display_name":"Asu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691427664,"creation_date":1691427101,"answer_id":76853693,"question_id":76790381,"body_markdown":"A customer started getting this same error in a different piece of software after their IT upgraded machines to Windows 11.\r\nIn our case, the software uses bundled 32-bit Java 1.8.0_192 and was working prior to Windows 11.\r\n\r\nThe stack trace includes\r\n```\r\njava.lang.IllegalArgumentException: Comparison method violates its general contract!\r\n\tat java.util.ComparableTimSort.mergeHi(Unknown Source)\r\n\tat java.util.ComparableTimSort.mergeAt(Unknown Source)\r\n\tat java.util.ComparableTimSort.mergeForceCollapse(Unknown Source)\r\n\tat java.util.ComparableTimSort.sort(Unknown Source)\r\n\tat java.util.Arrays.sort(Unknown Source)\r\n\tat sun.awt.shell.Win32ShellFolderManager2.get(Unknown Source)\r\n\tat sun.awt.shell.ShellFolder.get(Unknown Source)\r\n\tat com.sun.java.swing.plaf.windows.WindowsFileChooserUI$DirectoryComboBoxModel.addItem(Unknown Source)\r\n\tat com.sun.java.swing.plaf.windows.WindowsFileChooserUI$DirectoryComboBoxModel.access$800(Unknown Source)\r\n\tat com.sun.java.swing.plaf.windows.WindowsFileChooserUI.doDirectoryChanged(Unknown Source)\r\n\tat com.sun.java.swing.plaf.windows.WindowsFileChooserUI.access$1100(Unknown Source)\r\n\tat com.sun.java.swing.plaf.windows.WindowsFileChooserUI$11.propertyChange(Unknown Source)\r\n\tat java.beans.PropertyChangeSupport.fire(Unknown Source)\r\n\tat java.beans.PropertyChangeSupport.firePropertyChange(Unknown Source)\r\n\tat java.beans.PropertyChangeSupport.firePropertyChange(Unknown Source)\r\n\tat java.awt.Component.firePropertyChange(Unknown Source)\r\n\tat javax.swing.JFileChooser.setCurrentDirectory(Unknown Source)\r\n\tat javax.swing.JFileChooser.&lt;init&gt;(Unknown Source)\r\n\tat javax.swing.JFileChooser.&lt;init&gt;(Unknown Source)\r\n```\r\n\r\nIt looks to me like a problem between Windows 11 and Java.\r\nSince you seem to be using 64-bit Java, the architecture of Java does not matter.\r\n\r\nI could not reproduce this on an older version of Windows 11.\r\n\r\nAre you also using Windows 11? If yes, perhaps you can try to roll back any recent updates?\r\n\r\nAlternatively, here https://github.com/skylot/jadx/issues/1628#issuecomment-1211945290 xxr0ss suggests trying with \r\n\r\n`-Djava.util.Arrays.useLegacyMergeSort=true` in `JVM_OPTS`","title":"why i can&#180;t install any version of netbeans?","body":"<p>A customer started getting this same error in a different piece of software after their IT upgraded machines to Windows 11.\nIn our case, the software uses bundled 32-bit Java 1.8.0_192 and was working prior to Windows 11.</p>\n<p>The stack trace includes</p>\n<pre><code>java.lang.IllegalArgumentException: Comparison method violates its general contract!\n    at java.util.ComparableTimSort.mergeHi(Unknown Source)\n    at java.util.ComparableTimSort.mergeAt(Unknown Source)\n    at java.util.ComparableTimSort.mergeForceCollapse(Unknown Source)\n    at java.util.ComparableTimSort.sort(Unknown Source)\n    at java.util.Arrays.sort(Unknown Source)\n    at sun.awt.shell.Win32ShellFolderManager2.get(Unknown Source)\n    at sun.awt.shell.ShellFolder.get(Unknown Source)\n    at com.sun.java.swing.plaf.windows.WindowsFileChooserUI$DirectoryComboBoxModel.addItem(Unknown Source)\n    at com.sun.java.swing.plaf.windows.WindowsFileChooserUI$DirectoryComboBoxModel.access$800(Unknown Source)\n    at com.sun.java.swing.plaf.windows.WindowsFileChooserUI.doDirectoryChanged(Unknown Source)\n    at com.sun.java.swing.plaf.windows.WindowsFileChooserUI.access$1100(Unknown Source)\n    at com.sun.java.swing.plaf.windows.WindowsFileChooserUI$11.propertyChange(Unknown Source)\n    at java.beans.PropertyChangeSupport.fire(Unknown Source)\n    at java.beans.PropertyChangeSupport.firePropertyChange(Unknown Source)\n    at java.beans.PropertyChangeSupport.firePropertyChange(Unknown Source)\n    at java.awt.Component.firePropertyChange(Unknown Source)\n    at javax.swing.JFileChooser.setCurrentDirectory(Unknown Source)\n    at javax.swing.JFileChooser.&lt;init&gt;(Unknown Source)\n    at javax.swing.JFileChooser.&lt;init&gt;(Unknown Source)\n</code></pre>\n<p>It looks to me like a problem between Windows 11 and Java.\nSince you seem to be using 64-bit Java, the architecture of Java does not matter.</p>\n<p>I could not reproduce this on an older version of Windows 11.</p>\n<p>Are you also using Windows 11? If yes, perhaps you can try to roll back any recent updates?</p>\n<p>Alternatively, here <a href=\"https://github.com/skylot/jadx/issues/1628#issuecomment-1211945290\" rel=\"nofollow noreferrer\">https://github.com/skylot/jadx/issues/1628#issuecomment-1211945290</a> xxr0ss suggests trying with</p>\n<p><code>-Djava.util.Arrays.useLegacyMergeSort=true</code> in <code>JVM_OPTS</code></p>\n"}],"owner":{"account_id":22594427,"reputation":1,"user_id":16776972,"display_name":"Cristian Arias"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691427664,"creation_date":1690570196,"question_id":76790381,"body_markdown":"Can&#39;t install netbeans due to this [NetbeansError](https://i.stack.imgur.com/SieVZ.png)  \r\n\r\nI tried with netbeans 18, 17 and 8(all tried with JDK 18,17, and 8) and the error persists. Tried to find a fix on google but nothing helps  \r\n\r\nHere is the details(log) about this error:  \r\n```\r\n\r\n\r\n\r\n\r\n[2023-07-28 11:01:00.375]: NameResolver - to parse &amp;Help!\r\n[2023-07-28 11:01:00.375]: NameResolver - to parse &lt; &amp;Back\r\n[2023-07-28 11:01:00.375]: NameResolver - to parse &amp;Next &gt;\r\n[2023-07-28 11:01:00.375]: NameResolver - to parse Cancel\r\n[2023-07-28 11:01:00.375]: NameResolver - to parse I &amp;accept the terms in the license agreement\r\n[2023-07-28 11:01:00.375]: NameResolver - to parse org/netbeans/installer/product/components/netbeans-license.txt\r\n[2023-07-28 11:01:00.379]: NameResolver - to parse $R{org/netbeans/installer/product/components/netbeans-license.txt;UTF-8}\r\n[2023-07-28 11:01:00.395]: NameResolver - to parse {0}\r\n[2023-07-28 11:01:00.535]: NameResolver - to parse License Agreement\r\n[2023-07-28 11:01:00.535]: NameResolver - to parse License Agreement\r\n[2023-07-28 11:01:00.555]: NameResolver - to parse License Agreement\r\n[2023-07-28 11:01:00.555]: NameResolver - to parse License Agreement\r\n[2023-07-28 11:01:00.555]: NameResolver - to parse Please read the following license agreement carefully.\r\n[2023-07-28 11:01:00.673]: NameResolver - to parse License Agreement\r\n[2023-07-28 11:01:00.673]: NameResolver - to parse Please read the following license agreement carefully.\r\n[2023-07-28 11:01:30.987]: NameResolver - to parse C:\\Program Files\\NetBeans 8.2\r\n[2023-07-28 11:01:30.991]: NameResolver - to parse 1.8.0.0.0\r\n[2023-07-28 11:01:30.991]: NameResolver - to parse 500.0.0\r\n[2023-07-28 11:01:30.991]: NameResolver - to parse .*\r\n[2023-07-28 11:01:30.991]: NameResolver - to parse false\r\n[2023-07-28 11:01:30.991]: NameResolver - to parse false\r\n[2023-07-28 11:01:30.991]: NameResolver - to parse false\r\n[2023-07-28 11:01:30.995]: NameResolver - to parse false\r\n[2023-07-28 11:01:30.995]: ... use Java that is already selected for the product: C:\\Program Files\\Java\\jdk-17\r\n[2023-07-28 11:01:31.068]: An unexpected exception happened in thread AWT-EventQueue-0\r\n[2023-07-28 11:01:31.068]: java.lang.IllegalArgumentException: Comparison method violates its general contract!\r\n[2023-07-28 11:01:31.068]: \tat java.util.ComparableTimSort.mergeHi(Unknown Source)\r\n[2023-07-28 11:01:31.068]: \tat java.util.ComparableTimSort.mergeAt(Unknown Source)\r\n[2023-07-28 11:01:31.068]: \tat java.util.ComparableTimSort.mergeForceCollapse(Unknown Source)\r\n[2023-07-28 11:01:31.068]: \tat java.util.ComparableTimSort.sort(Unknown Source)\r\n[2023-07-28 11:01:31.068]: \tat java.util.Arrays.sort(Unknown Source)\r\n[2023-07-28 11:01:31.068]: \tat sun.awt.shell.Win32ShellFolderManager2.get(Unknown Source)\r\n[2023-07-28 11:01:31.068]: \tat sun.awt.shell.ShellFolder.get(Unknown Source)\r\n[2023-07-28 11:01:31.068]: \tat com.sun.java.swing.plaf.windows.WindowsFileChooserUI$DirectoryComboBoxModel.addItem(Unknown Source)\r\n[2023-07-28 11:01:31.068]: \tat com.sun.java.swing.plaf.windows.WindowsFileChooserUI$DirectoryComboBoxModel.access$800(Unknown Source)\r\n[2023-07-28 11:01:31.068]: \tat com.sun.java.swing.plaf.windows.WindowsFileChooserUI.doDirectoryChanged(Unknown Source)\r\n[2023-07-28 11:01:31.068]: \tat com.sun.java.swing.plaf.windows.WindowsFileChooserUI.access$1100(Unknown Source)\r\n[2023-07-28 11:01:31.068]: \tat com.sun.java.swing.plaf.windows.WindowsFileChooserUI$11.propertyChange(Unknown Source)\r\n[2023-07-28 11:01:31.068]: \tat java.beans.PropertyChangeSupport.fire(Unknown Source)\r\n[2023-07-28 11:01:31.068]: \tat java.beans.PropertyChangeSupport.firePropertyChange(Unknown Source)\r\n[2023-07-28 11:01:31.068]: \tat java.beans.PropertyChangeSupport.firePropertyChange(Unknown Source)\r\n[2023-07-28 11:01:31.068]: \tat java.awt.Component.firePropertyChange(Unknown Source)\r\n[2023-07-28 11:01:31.068]: \tat javax.swing.JFileChooser.setCurrentDirectory(Unknown Source)\r\n[2023-07-28 11:01:31.068]: \tat javax.swing.JFileChooser.&lt;init&gt;(Unknown Source)\r\n[2023-07-28 11:01:31.068]: \tat javax.swing.JFileChooser.&lt;init&gt;(Unknown Source)\r\n[2023-07-28 11:01:31.068]: \tat org.netbeans.installer.utils.helper.swing.NbiFileChooser.&lt;init&gt;(NbiFileChooser.java:54)\r\n[2023-07-28 11:01:31.068]: \tat org.netbeans.installer.utils.helper.swing.NbiDirectoryChooser.&lt;init&gt;(NbiDirectoryChooser.java:51)\r\n[2023-07-28 11:01:31.068]: \tat org.netbeans.installer.wizard.components.panels.DestinationPanel$DestinationPanelSwingUi.initComponents(DestinationPanel.java:432)\r\n[2023-07-28 11:01:31.068]: \tat org.netbeans.installer.wizard.components.panels.DestinationPanel$DestinationPanelSwingUi.&lt;init&gt;(DestinationPanel.java:222)\r\n[2023-07-28 11:01:31.068]: \tat org.netbeans.installer.products.nb.base.wizard.panels.NbBasePanel$NbBaseDestinationPanelSwingUi.&lt;init&gt;(NbBasePanel.java:280)\r\n[2023-07-28 11:01:31.068]: \tat org.netbeans.installer.products.nb.base.wizard.panels.NbBasePanel$NbBaseDestinationPanelUi.getSwingUi(NbBasePanel.java:255)\r\n[2023-07-28 11:01:31.068]: \tat org.netbeans.installer.wizard.containers.SwingFrameContainer.updateWizardUi(SwingFrameContainer.java:228)\r\n[2023-07-28 11:01:31.068]: \tat org.netbeans.installer.wizard.Wizard.next(Wizard.java:609)\r\n[2023-07-28 11:01:31.068]: \tat org.netbeans.installer.wizard.components.sequences.ProductWizardSequence.executeForward(ProductWizardSequence.java:63)\r\n[2023-07-28 11:01:31.068]: \tat org.netbeans.installer.wizard.Wizard.next(Wizard.java:615)\r\n[2023-07-28 11:01:31.068]: \tat org.netbeans.installer.wizard.components.WizardPanel$WizardPanelSwingUi.evaluateNextButtonClick(WizardPanel.java:222)\r\n[2023-07-28 11:01:31.068]: \tat org.netbeans.installer.wizard.containers.SwingFrameContainer$8.actionPerformed(SwingFrameContainer.java:425)\r\n[2023-07-28 11:01:31.068]: \tat javax.swing.AbstractButton.fireActionPerformed(Unknown Source)\r\n[2023-07-28 11:01:31.068]: \tat javax.swing.AbstractButton$Handler.actionPerformed(Unknown Source)\r\n[2023-07-28 11:01:31.068]: \tat javax.swing.DefaultButtonModel.fireActionPerformed(Unknown Source)\r\n[2023-07-28 11:01:31.068]: \tat javax.swing.DefaultButtonModel.setPressed(Unknown Source)\r\n[2023-07-28 11:01:31.068]: \tat javax.swing.plaf.basic.BasicButtonListener.mouseReleased(Unknown Source)\r\n[2023-07-28 11:01:31.085]: \tat java.awt.Component.processMouseEvent(Unknown Source)\r\n[2023-07-28 11:01:31.085]: \tat javax.swing.JComponent.processMouseEvent(Unknown Source)\r\n[2023-07-28 11:01:31.085]: \tat java.awt.Component.processEvent(Unknown Source)\r\n[2023-07-28 11:01:31.085]: \tat java.awt.Container.processEvent(Unknown Source)\r\n[2023-07-28 11:01:31.085]: \tat java.awt.Component.dispatchEventImpl(Unknown Source)\r\n[2023-07-28 11:01:31.085]: \tat java.awt.Container.dispatchEventImpl(Unknown Source)\r\n[2023-07-28 11:01:31.085]: \tat java.awt.Component.dispatchEvent(Unknown Source)\r\n[2023-07-28 11:01:31.085]: \tat java.awt.LightweightDispatcher.retargetMouseEvent(Unknown Source)\r\n[2023-07-28 11:01:31.085]: \tat java.awt.LightweightDispatcher.processMouseEvent(Unknown Source)\r\n[2023-07-28 11:01:31.085]: \tat java.awt.LightweightDispatcher.dispatchEvent(Unknown Source)\r\n[2023-07-28 11:01:31.085]: \tat java.awt.Container.dispatchEventImpl(Unknown Source)\r\n[2023-07-28 11:01:31.085]: \tat java.awt.Window.dispatchEventImpl(Unknown Source)\r\n[2023-07-28 11:01:31.085]: \tat java.awt.Component.dispatchEvent(Unknown Source)\r\n[2023-07-28 11:01:31.085]: \tat java.awt.EventQueue.dispatchEventImpl(Unknown Source)\r\n[2023-07-28 11:01:31.085]: \tat java.awt.EventQueue.access$500(Unknown Source)\r\n[2023-07-28 11:01:31.085]: \tat java.awt.EventQueue$3.run(Unknown Source)\r\n[2023-07-28 11:01:31.085]: \tat java.awt.EventQueue$3.run(Unknown Source)\r\n[2023-07-28 11:01:31.085]: \tat java.security.AccessController.doPrivileged(Native Method)\r\n[2023-07-28 11:01:31.085]: \tat java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(Unknown Source)\r\n[2023-07-28 11:01:31.085]: \tat java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(Unknown Source)\r\n[2023-07-28 11:01:31.085]: \tat java.awt.EventQueue$4.run(Unknown Source)\r\n[2023-07-28 11:01:31.085]: \tat java.awt.EventQueue$4.run(Unknown Source)\r\n[2023-07-28 11:01:31.085]: \tat java.security.AccessController.doPrivileged(Native Method)\r\n[2023-07-28 11:01:31.085]: \tat java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(Unknown Source)\r\n[2023-07-28 11:01:31.085]: \tat java.awt.EventQueue.dispatchEvent(Unknown Source)\r\n[2023-07-28 11:01:31.085]: \tat java.awt.EventDispatchThread.pumpOneEventForFilters(Unknown Source)\r\n[2023-07-28 11:01:31.085]: \tat java.awt.EventDispatchThread.pumpEventsForFilter(Unknown Source)\r\n[2023-07-28 11:01:31.085]: \tat java.awt.EventDispatchThread.pumpEventsForHierarchy(Unknown Source)\r\n[2023-07-28 11:01:31.085]: \tat java.awt.EventDispatchThread.pumpEvents(Unknown Source)\r\n[2023-07-28 11:01:31.085]: \tat java.awt.EventDispatchThread.pumpEvents(Unknown Source)\r\n[2023-07-28 11:01:31.085]: \tat java.awt.EventDispatchThread.run(Unknown Source)\r\n[2023-07-28 11:01:31.085]: ... show message dialog\r\n[2023-07-28 11:01:31.085]:     title: Critical Error\r\n[2023-07-28 11:01:31.088]:     message: An unexpected exception happened in thread AWT-EventQueue-0\r\n[2023-07-28 11:01:31.088]:     \r\n[2023-07-28 11:01:31.088]:     Exception:\r\n[2023-07-28 11:01:31.088]:       java.lang.IllegalArgumentException:\r\n[2023-07-28 11:01:31.088]:       Comparison method violates its general contract!\r\n[2023-07-28 11:01:31.088]:     \r\n[2023-07-28 11:01:31.088]:     You can get more details about the issue in the installer log file:\r\n[2023-07-28 11:01:31.088]:      C:\\Users\\crist\\.nbi\\log\\20230728105427.log\r\n\r\n\r\n\r\n\r\n```\r\nHelp me what i can do to fix it o any suggest for another IDE for Java web services development.   \r\n\r\nLog file here: \r\n[logFile](https://drive.google.com/file/d/1sZKt45EQPwWiLk3iK5XFfV-7xVSwJ_QK/view?usp=sharing)","title":"why i can&#180;t install any version of netbeans?","body":"<p>Can't install netbeans due to this <a href=\"https://i.stack.imgur.com/SieVZ.png\" rel=\"nofollow noreferrer\">NetbeansError</a></p>\n<p>I tried with netbeans 18, 17 and 8(all tried with JDK 18,17, and 8) and the error persists. Tried to find a fix on google but nothing helps</p>\n<p>Here is the details(log) about this error:</p>\n<pre><code>\n\n\n\n[2023-07-28 11:01:00.375]: NameResolver - to parse &amp;Help!\n[2023-07-28 11:01:00.375]: NameResolver - to parse &lt; &amp;Back\n[2023-07-28 11:01:00.375]: NameResolver - to parse &amp;Next &gt;\n[2023-07-28 11:01:00.375]: NameResolver - to parse Cancel\n[2023-07-28 11:01:00.375]: NameResolver - to parse I &amp;accept the terms in the license agreement\n[2023-07-28 11:01:00.375]: NameResolver - to parse org/netbeans/installer/product/components/netbeans-license.txt\n[2023-07-28 11:01:00.379]: NameResolver - to parse $R{org/netbeans/installer/product/components/netbeans-license.txt;UTF-8}\n[2023-07-28 11:01:00.395]: NameResolver - to parse {0}\n[2023-07-28 11:01:00.535]: NameResolver - to parse License Agreement\n[2023-07-28 11:01:00.535]: NameResolver - to parse License Agreement\n[2023-07-28 11:01:00.555]: NameResolver - to parse License Agreement\n[2023-07-28 11:01:00.555]: NameResolver - to parse License Agreement\n[2023-07-28 11:01:00.555]: NameResolver - to parse Please read the following license agreement carefully.\n[2023-07-28 11:01:00.673]: NameResolver - to parse License Agreement\n[2023-07-28 11:01:00.673]: NameResolver - to parse Please read the following license agreement carefully.\n[2023-07-28 11:01:30.987]: NameResolver - to parse C:\\Program Files\\NetBeans 8.2\n[2023-07-28 11:01:30.991]: NameResolver - to parse 1.8.0.0.0\n[2023-07-28 11:01:30.991]: NameResolver - to parse 500.0.0\n[2023-07-28 11:01:30.991]: NameResolver - to parse .*\n[2023-07-28 11:01:30.991]: NameResolver - to parse false\n[2023-07-28 11:01:30.991]: NameResolver - to parse false\n[2023-07-28 11:01:30.991]: NameResolver - to parse false\n[2023-07-28 11:01:30.995]: NameResolver - to parse false\n[2023-07-28 11:01:30.995]: ... use Java that is already selected for the product: C:\\Program Files\\Java\\jdk-17\n[2023-07-28 11:01:31.068]: An unexpected exception happened in thread AWT-EventQueue-0\n[2023-07-28 11:01:31.068]: java.lang.IllegalArgumentException: Comparison method violates its general contract!\n[2023-07-28 11:01:31.068]:  at java.util.ComparableTimSort.mergeHi(Unknown Source)\n[2023-07-28 11:01:31.068]:  at java.util.ComparableTimSort.mergeAt(Unknown Source)\n[2023-07-28 11:01:31.068]:  at java.util.ComparableTimSort.mergeForceCollapse(Unknown Source)\n[2023-07-28 11:01:31.068]:  at java.util.ComparableTimSort.sort(Unknown Source)\n[2023-07-28 11:01:31.068]:  at java.util.Arrays.sort(Unknown Source)\n[2023-07-28 11:01:31.068]:  at sun.awt.shell.Win32ShellFolderManager2.get(Unknown Source)\n[2023-07-28 11:01:31.068]:  at sun.awt.shell.ShellFolder.get(Unknown Source)\n[2023-07-28 11:01:31.068]:  at com.sun.java.swing.plaf.windows.WindowsFileChooserUI$DirectoryComboBoxModel.addItem(Unknown Source)\n[2023-07-28 11:01:31.068]:  at com.sun.java.swing.plaf.windows.WindowsFileChooserUI$DirectoryComboBoxModel.access$800(Unknown Source)\n[2023-07-28 11:01:31.068]:  at com.sun.java.swing.plaf.windows.WindowsFileChooserUI.doDirectoryChanged(Unknown Source)\n[2023-07-28 11:01:31.068]:  at com.sun.java.swing.plaf.windows.WindowsFileChooserUI.access$1100(Unknown Source)\n[2023-07-28 11:01:31.068]:  at com.sun.java.swing.plaf.windows.WindowsFileChooserUI$11.propertyChange(Unknown Source)\n[2023-07-28 11:01:31.068]:  at java.beans.PropertyChangeSupport.fire(Unknown Source)\n[2023-07-28 11:01:31.068]:  at java.beans.PropertyChangeSupport.firePropertyChange(Unknown Source)\n[2023-07-28 11:01:31.068]:  at java.beans.PropertyChangeSupport.firePropertyChange(Unknown Source)\n[2023-07-28 11:01:31.068]:  at java.awt.Component.firePropertyChange(Unknown Source)\n[2023-07-28 11:01:31.068]:  at javax.swing.JFileChooser.setCurrentDirectory(Unknown Source)\n[2023-07-28 11:01:31.068]:  at javax.swing.JFileChooser.&lt;init&gt;(Unknown Source)\n[2023-07-28 11:01:31.068]:  at javax.swing.JFileChooser.&lt;init&gt;(Unknown Source)\n[2023-07-28 11:01:31.068]:  at org.netbeans.installer.utils.helper.swing.NbiFileChooser.&lt;init&gt;(NbiFileChooser.java:54)\n[2023-07-28 11:01:31.068]:  at org.netbeans.installer.utils.helper.swing.NbiDirectoryChooser.&lt;init&gt;(NbiDirectoryChooser.java:51)\n[2023-07-28 11:01:31.068]:  at org.netbeans.installer.wizard.components.panels.DestinationPanel$DestinationPanelSwingUi.initComponents(DestinationPanel.java:432)\n[2023-07-28 11:01:31.068]:  at org.netbeans.installer.wizard.components.panels.DestinationPanel$DestinationPanelSwingUi.&lt;init&gt;(DestinationPanel.java:222)\n[2023-07-28 11:01:31.068]:  at org.netbeans.installer.products.nb.base.wizard.panels.NbBasePanel$NbBaseDestinationPanelSwingUi.&lt;init&gt;(NbBasePanel.java:280)\n[2023-07-28 11:01:31.068]:  at org.netbeans.installer.products.nb.base.wizard.panels.NbBasePanel$NbBaseDestinationPanelUi.getSwingUi(NbBasePanel.java:255)\n[2023-07-28 11:01:31.068]:  at org.netbeans.installer.wizard.containers.SwingFrameContainer.updateWizardUi(SwingFrameContainer.java:228)\n[2023-07-28 11:01:31.068]:  at org.netbeans.installer.wizard.Wizard.next(Wizard.java:609)\n[2023-07-28 11:01:31.068]:  at org.netbeans.installer.wizard.components.sequences.ProductWizardSequence.executeForward(ProductWizardSequence.java:63)\n[2023-07-28 11:01:31.068]:  at org.netbeans.installer.wizard.Wizard.next(Wizard.java:615)\n[2023-07-28 11:01:31.068]:  at org.netbeans.installer.wizard.components.WizardPanel$WizardPanelSwingUi.evaluateNextButtonClick(WizardPanel.java:222)\n[2023-07-28 11:01:31.068]:  at org.netbeans.installer.wizard.containers.SwingFrameContainer$8.actionPerformed(SwingFrameContainer.java:425)\n[2023-07-28 11:01:31.068]:  at javax.swing.AbstractButton.fireActionPerformed(Unknown Source)\n[2023-07-28 11:01:31.068]:  at javax.swing.AbstractButton$Handler.actionPerformed(Unknown Source)\n[2023-07-28 11:01:31.068]:  at javax.swing.DefaultButtonModel.fireActionPerformed(Unknown Source)\n[2023-07-28 11:01:31.068]:  at javax.swing.DefaultButtonModel.setPressed(Unknown Source)\n[2023-07-28 11:01:31.068]:  at javax.swing.plaf.basic.BasicButtonListener.mouseReleased(Unknown Source)\n[2023-07-28 11:01:31.085]:  at java.awt.Component.processMouseEvent(Unknown Source)\n[2023-07-28 11:01:31.085]:  at javax.swing.JComponent.processMouseEvent(Unknown Source)\n[2023-07-28 11:01:31.085]:  at java.awt.Component.processEvent(Unknown Source)\n[2023-07-28 11:01:31.085]:  at java.awt.Container.processEvent(Unknown Source)\n[2023-07-28 11:01:31.085]:  at java.awt.Component.dispatchEventImpl(Unknown Source)\n[2023-07-28 11:01:31.085]:  at java.awt.Container.dispatchEventImpl(Unknown Source)\n[2023-07-28 11:01:31.085]:  at java.awt.Component.dispatchEvent(Unknown Source)\n[2023-07-28 11:01:31.085]:  at java.awt.LightweightDispatcher.retargetMouseEvent(Unknown Source)\n[2023-07-28 11:01:31.085]:  at java.awt.LightweightDispatcher.processMouseEvent(Unknown Source)\n[2023-07-28 11:01:31.085]:  at java.awt.LightweightDispatcher.dispatchEvent(Unknown Source)\n[2023-07-28 11:01:31.085]:  at java.awt.Container.dispatchEventImpl(Unknown Source)\n[2023-07-28 11:01:31.085]:  at java.awt.Window.dispatchEventImpl(Unknown Source)\n[2023-07-28 11:01:31.085]:  at java.awt.Component.dispatchEvent(Unknown Source)\n[2023-07-28 11:01:31.085]:  at java.awt.EventQueue.dispatchEventImpl(Unknown Source)\n[2023-07-28 11:01:31.085]:  at java.awt.EventQueue.access$500(Unknown Source)\n[2023-07-28 11:01:31.085]:  at java.awt.EventQueue$3.run(Unknown Source)\n[2023-07-28 11:01:31.085]:  at java.awt.EventQueue$3.run(Unknown Source)\n[2023-07-28 11:01:31.085]:  at java.security.AccessController.doPrivileged(Native Method)\n[2023-07-28 11:01:31.085]:  at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(Unknown Source)\n[2023-07-28 11:01:31.085]:  at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(Unknown Source)\n[2023-07-28 11:01:31.085]:  at java.awt.EventQueue$4.run(Unknown Source)\n[2023-07-28 11:01:31.085]:  at java.awt.EventQueue$4.run(Unknown Source)\n[2023-07-28 11:01:31.085]:  at java.security.AccessController.doPrivileged(Native Method)\n[2023-07-28 11:01:31.085]:  at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(Unknown Source)\n[2023-07-28 11:01:31.085]:  at java.awt.EventQueue.dispatchEvent(Unknown Source)\n[2023-07-28 11:01:31.085]:  at java.awt.EventDispatchThread.pumpOneEventForFilters(Unknown Source)\n[2023-07-28 11:01:31.085]:  at java.awt.EventDispatchThread.pumpEventsForFilter(Unknown Source)\n[2023-07-28 11:01:31.085]:  at java.awt.EventDispatchThread.pumpEventsForHierarchy(Unknown Source)\n[2023-07-28 11:01:31.085]:  at java.awt.EventDispatchThread.pumpEvents(Unknown Source)\n[2023-07-28 11:01:31.085]:  at java.awt.EventDispatchThread.pumpEvents(Unknown Source)\n[2023-07-28 11:01:31.085]:  at java.awt.EventDispatchThread.run(Unknown Source)\n[2023-07-28 11:01:31.085]: ... show message dialog\n[2023-07-28 11:01:31.085]:     title: Critical Error\n[2023-07-28 11:01:31.088]:     message: An unexpected exception happened in thread AWT-EventQueue-0\n[2023-07-28 11:01:31.088]:     \n[2023-07-28 11:01:31.088]:     Exception:\n[2023-07-28 11:01:31.088]:       java.lang.IllegalArgumentException:\n[2023-07-28 11:01:31.088]:       Comparison method violates its general contract!\n[2023-07-28 11:01:31.088]:     \n[2023-07-28 11:01:31.088]:     You can get more details about the issue in the installer log file:\n[2023-07-28 11:01:31.088]:      C:\\Users\\crist\\.nbi\\log\\20230728105427.log\n\n\n\n\n</code></pre>\n<p>Help me what i can do to fix it o any suggest for another IDE for Java web services development.</p>\n<p>Log file here:\n<a href=\"https://drive.google.com/file/d/1sZKt45EQPwWiLk3iK5XFfV-7xVSwJ_QK/view?usp=sharing\" rel=\"nofollow noreferrer\">logFile</a></p>\n"},{"tags":["java","android","build","android-webview","logcat"],"comments":[{"owner":{"account_id":12234066,"reputation":566,"user_id":8929068,"display_name":"Top4o"},"score":2,"creation_date":1667297059,"post_id":74274116,"comment_id":131129750,"body_markdown":"Can you paste the logs as the image are unreadable.","body":"Can you paste the logs as the image are unreadable."}],"answers":[{"tags":[],"owner":{"display_name":"user15660680"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667298152,"creation_date":1667298152,"answer_id":74274457,"question_id":74274116,"body_markdown":"Are you trying to debug a signed bundle? try with debug","title":"Android Studio java.lang.RuntimeException: Unable to start activity {} failed to create web view","body":"<p>Are you trying to debug a signed bundle? try with debug</p>\n"},{"comments":[{"owner":{"account_id":26292589,"reputation":1,"user_id":19959380,"display_name":"Hgez"},"score":0,"creation_date":1667589464,"post_id":74276850,"comment_id":131210581,"body_markdown":"Where do I find the WebView? Is it a file or something?","body":"Where do I find the WebView? Is it a file or something?"},{"owner":{"account_id":26373002,"reputation":26,"user_id":20027397,"display_name":"Ankit Kumar Sen"},"score":0,"creation_date":1667731492,"post_id":74276850,"comment_id":131232246,"body_markdown":"No it is Not a file .It is Simple a View like Text view or Image View . Just write WebView android studio will automatically suggest","body":"No it is Not a file .It is Simple a View like Text view or Image View . Just write WebView android studio will automatically suggest"}],"tags":[],"owner":{"account_id":26373002,"reputation":26,"user_id":20027397,"display_name":"Ankit Kumar Sen"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667560465,"creation_date":1667310060,"answer_id":74276850,"question_id":74274116,"body_markdown":"Take the WebView again which is the latest and set the properties of the attribute height and width as match_parent. Then in the MainActivity file where the web view is initialized and declared then write the code.\r\n\r\n```\r\nwebView=(WebView)findViewById(R.id.webview);\r\nwebView.setWebViewClient(new WebViewClient());\r\nwebView.loadUrl(&quot;http://www.google.com&quot;);\r\n```\r\n","title":"Android Studio java.lang.RuntimeException: Unable to start activity {} failed to create web view","body":"<p>Take the WebView again which is the latest and set the properties of the attribute height and width as match_parent. Then in the MainActivity file where the web view is initialized and declared then write the code.</p>\n<pre><code>webView=(WebView)findViewById(R.id.webview);\nwebView.setWebViewClient(new WebViewClient());\nwebView.loadUrl(&quot;http://www.google.com&quot;);\n</code></pre>\n"}],"owner":{"account_id":26292589,"reputation":1,"user_id":19959380,"display_name":"Hgez"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":266,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1691427492,"creation_date":1667296362,"question_id":74274116,"body_markdown":"I really need help. My application has no errors in the build or as I build it in aab/apk. But when I debug the app on an emulator it keeps crashing after the splashscreen. The LogCat gives an error which I could not fix. Plz help.\r\n\r\n[![LogCat](https://i.stack.imgur.com/UsFIm.png)](https://i.stack.imgur.com/UsFIm.png)\r\n\r\n[![AndroidManifest (1)](https://i.stack.imgur.com/oIoCJ.png)](https://i.stack.imgur.com/oIoCJ.png)\r\n\r\n\r\nI cleaned and rebuilt it many times, but it did not work at all.","title":"Android Studio java.lang.RuntimeException: Unable to start activity {} failed to create web view","body":"<p>I really need help. My application has no errors in the build or as I build it in aab/apk. But when I debug the app on an emulator it keeps crashing after the splashscreen. The LogCat gives an error which I could not fix. Plz help.</p>\n<p><a href=\"https://i.stack.imgur.com/UsFIm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UsFIm.png\" alt=\"LogCat\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/oIoCJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oIoCJ.png\" alt=\"AndroidManifest (1)\" /></a></p>\n<p>I cleaned and rebuilt it many times, but it did not work at all.</p>\n"},{"tags":["java","spring","redis","amazon-elasticache","redisson"],"answers":[{"tags":[],"owner":{"account_id":399098,"reputation":10383,"user_id":764206,"display_name":"Nikita Koksharov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681716278,"creation_date":1681716278,"answer_id":76032608,"question_id":76023229,"body_markdown":"&gt; Caused by: java.lang.NoSuchFieldError: TCP_FASTOPEN_CONNECT\r\n\r\nIt tells that you might have different netty versions in classpath","title":"AWS Elastic Cache Redis java Spring redisson ClosedChannelException","body":"<blockquote>\n<p>Caused by: java.lang.NoSuchFieldError: TCP_FASTOPEN_CONNECT</p>\n</blockquote>\n<p>It tells that you might have different netty versions in classpath</p>\n"},{"tags":[],"owner":{"account_id":2814933,"reputation":2695,"user_id":2420280,"accept_rate":54,"display_name":"Osama Jetawe"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681729040,"creation_date":1681729040,"answer_id":76034405,"question_id":76023229,"body_markdown":"I will answer my question, I was able to solve this issue by upgrading the **io.netty**. version to **4.1.72.Final** , as below \r\n\t\r\n\r\n    &lt;dependency&gt;\r\n        \t&lt;groupId&gt;io.netty&lt;/groupId&gt;\r\n        \t&lt;artifactId&gt;netty-all&lt;/artifactId&gt;\r\n        \t&lt;version&gt;4.1.72.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nThe main issue was with **io.netty** version conflict that I have within my application where multiple versions were used. \r\n","title":"AWS Elastic Cache Redis java Spring redisson ClosedChannelException","body":"<p>I will answer my question, I was able to solve this issue by upgrading the <strong>io.netty</strong>. version to <strong>4.1.72.Final</strong> , as below</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;io.netty&lt;/groupId&gt;\n        &lt;artifactId&gt;netty-all&lt;/artifactId&gt;\n        &lt;version&gt;4.1.72.Final&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>The main issue was with <strong>io.netty</strong> version conflict that I have within my application where multiple versions were used.</p>\n"}],"owner":{"account_id":2814933,"reputation":2695,"user_id":2420280,"accept_rate":54,"display_name":"Osama Jetawe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":324,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1691426021,"creation_date":1681572908,"question_id":76023229,"body_markdown":"I have an AWS **Redis** cluster with **Cluster mode Enabled** and **Encryption at rest/transit Enabled** with **Transit encryption mode Preferred**.\r\n\r\nI&#39;m using Java spring with `redisson` version 3.12.0 .\r\n\r\nBelow is my connection using `redisson`:\r\n\r\n    redissonConfig.useClusterServers()\r\n    .setKeepAlive(true)\r\n    .setConnectTimeout(10000)\r\n    .setRetryAttempts(2)\r\n    .setDnsMonitoringInterval(10000)\r\n    .addNodeAddress(&quot;Redis configuration endpoint&quot;);\r\n    client = Redisson.create(redissonConfig);\r\n\r\nI using this redis end point : `rediss://ConfigurationEndpoint`\r\n\r\nWhen try to connect to cluster from application using AWS **EC2** and **Jposs** I&#39;m getting this Exception `java.nio.channels.ClosedChannelException` , also I see below exception \r\n\r\n    [2023-04-15 14:46:22,296] [redisson-netty-2-3] [WARN] ChannelInitializer- Failed to initialize a channel. Closing: [id: 0x77267167]\r\n    io.netty.channel.ChannelPipelineException: io.netty.handler.ssl.SslHandler.handlerAdded() has thrown an exception; removed.\r\n    \tat io.netty.channel.DefaultChannelPipeline.callHandlerAdded0(DefaultChannelPipeline.java:624) ~[netty-transport-4.1.46.Final.jar:4.1.46.Final]\r\n    \tat io.netty.channel.DefaultChannelPipeline.addLast(DefaultChannelPipeline.java:223) ~[netty-transport-4.1.46.Final.jar:4.1.46.Final]\r\n    \tat io.netty.channel.DefaultChannelPipeline.addLast(DefaultChannelPipeline.java:381) ~[netty-transport-4.1.46.Final.jar:4.1.46.Final]\r\n    \tat io.netty.channel.DefaultChannelPipeline.addLast(DefaultChannelPipeline.java:370) ~[netty-transport-4.1.46.Final.jar:4.1.46.Final]\r\n    at java.lang.Thread.run(Thread.java:750) [?:1.8.0_362]\r\n    Caused by: java.lang.NoSuchFieldError: TCP_FASTOPEN_CONNECT\r\n    \tat io.netty.handler.ssl.SslHandler.handlerAdded(SslHandler.java:1979) ~[netty-handler-4.1.72.Final.jar:4.1.72  \r\n \r\n\r\n    [redisson-netty-2-3] [WARN] ChannelInitializer- Failed to initialize a channel. Closing: [id: 0xe1c3fece]\r\n    io.netty.channel.ChannelPipelineException: io.netty.handler.ssl.SslHandler.handlerAdded() has thrown an exception; removed.\r\n\r\nI spent more that 15 hours trying to resolve the issue with no luck, also I searched over the internet for such error with no result , appreciate your support incase you have any idea. \r\n\r\nThanks","title":"AWS Elastic Cache Redis java Spring redisson ClosedChannelException","body":"<p>I have an AWS <strong>Redis</strong> cluster with <strong>Cluster mode Enabled</strong> and <strong>Encryption at rest/transit Enabled</strong> with <strong>Transit encryption mode Preferred</strong>.</p>\n<p>I'm using Java spring with <code>redisson</code> version 3.12.0 .</p>\n<p>Below is my connection using <code>redisson</code>:</p>\n<pre><code>redissonConfig.useClusterServers()\n.setKeepAlive(true)\n.setConnectTimeout(10000)\n.setRetryAttempts(2)\n.setDnsMonitoringInterval(10000)\n.addNodeAddress(&quot;Redis configuration endpoint&quot;);\nclient = Redisson.create(redissonConfig);\n</code></pre>\n<p>I using this redis end point : <code>rediss://ConfigurationEndpoint</code></p>\n<p>When try to connect to cluster from application using AWS <strong>EC2</strong> and <strong>Jposs</strong> I'm getting this Exception <code>java.nio.channels.ClosedChannelException</code> , also I see below exception</p>\n<pre><code>[2023-04-15 14:46:22,296] [redisson-netty-2-3] [WARN] ChannelInitializer- Failed to initialize a channel. Closing: [id: 0x77267167]\nio.netty.channel.ChannelPipelineException: io.netty.handler.ssl.SslHandler.handlerAdded() has thrown an exception; removed.\n    at io.netty.channel.DefaultChannelPipeline.callHandlerAdded0(DefaultChannelPipeline.java:624) ~[netty-transport-4.1.46.Final.jar:4.1.46.Final]\n    at io.netty.channel.DefaultChannelPipeline.addLast(DefaultChannelPipeline.java:223) ~[netty-transport-4.1.46.Final.jar:4.1.46.Final]\n    at io.netty.channel.DefaultChannelPipeline.addLast(DefaultChannelPipeline.java:381) ~[netty-transport-4.1.46.Final.jar:4.1.46.Final]\n    at io.netty.channel.DefaultChannelPipeline.addLast(DefaultChannelPipeline.java:370) ~[netty-transport-4.1.46.Final.jar:4.1.46.Final]\nat java.lang.Thread.run(Thread.java:750) [?:1.8.0_362]\nCaused by: java.lang.NoSuchFieldError: TCP_FASTOPEN_CONNECT\n    at io.netty.handler.ssl.SslHandler.handlerAdded(SslHandler.java:1979) ~[netty-handler-4.1.72.Final.jar:4.1.72  \n\n\n[redisson-netty-2-3] [WARN] ChannelInitializer- Failed to initialize a channel. Closing: [id: 0xe1c3fece]\nio.netty.channel.ChannelPipelineException: io.netty.handler.ssl.SslHandler.handlerAdded() has thrown an exception; removed.\n</code></pre>\n<p>I spent more that 15 hours trying to resolve the issue with no luck, also I searched over the internet for such error with no result , appreciate your support incase you have any idea.</p>\n<p>Thanks</p>\n"},{"tags":["java","spring","spring-boot","redis","amazon-elasticache"],"owner":{"account_id":7407752,"reputation":157,"user_id":5636168,"accept_rate":33,"display_name":"5frags"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":202,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691425980,"creation_date":1682636622,"question_id":76125210,"body_markdown":"I have the next issue in my project.\r\n\r\nI want to connect my AWS-elasticache, but it&#39;s not possible\r\n\r\nHere my configuration.\r\n\r\n    @Configuration\r\n    @ComponentScan\r\n    @EnableJpaRepositories\r\n    @EnableRedisRepositories\r\n    public class RedisConfig {\r\n    \r\n    \t@Bean// to use in my local machine\r\n        @ConditionalOnProperty(prefix = &quot;redis&quot;, name = &quot;cluster&quot;, havingValue = &quot;not&quot;)\r\n        public LettuceConnectionFactory redisConnectionFactory(@Value(&quot;${redis.host}&quot;) String host,\r\n                                                           @Value(&quot;${redis.port}&quot;) Integer port,\r\n                                                           @Value(&quot;${redis.password}&quot;) String password) {\r\n            RedisStandaloneConfiguration configuration = new RedisStandaloneConfiguration(host, port);\r\n            configuration.setPassword(password);\r\n            return new LettuceConnectionFactory(configuration);\r\n        }\r\n\r\n        @Bean// configure to elasticaceh\r\n        @ConditionalOnProperty(prefix = &quot;redis&quot;, name = &quot;cluster&quot;, havingValue = &quot;yes&quot;, matchIfMissing = true)\r\n        public LettuceConnectionFactory redisClusterConnectionFactory(@Value(&quot;${redis.host}&quot;) String host,\r\n                                                                  @Value(&quot;${redis.port}&quot;) Integer port) {\r\n            RedisClusterConfiguration clusterConfiguration = new RedisClusterConfiguration();\r\n            clusterConfiguration.clusterNode(host, port);\r\n            return new LettuceConnectionFactory(clusterConfiguration);\r\n    }\r\n    \r\n        @Bean\r\n        public RedisTemplate&lt;String, Object&gt; redisTemplate(LettuceConnectionFactory connectionFactory) {\r\n            RedisTemplate&lt;String, Object&gt; template = new RedisTemplate&lt;&gt;();\r\n            template.setDefaultSerializer(new GenericJackson2JsonRedisSerializer());\r\n            template.setKeySerializer(new StringRedisSerializer());\r\n            template.setHashKeySerializer(new StringRedisSerializer());\r\n            template.setConnectionFactory(connectionFactory);\r\n            return template;\r\n        }\r\n    \r\n        @Bean\r\n        @Qualifier(&quot;cacheManageMaster&quot;)\r\n        public CacheManager cacheManager(LettuceConnectionFactory connectionFactory) {\r\n            Duration expiration = Duration.ofHours(24);\r\n            RedisCacheManager redisCacheManager = RedisCacheManager.builder(connectionFactory).cacheDefaults(\r\n                    RedisCacheConfiguration.defaultCacheConfig()\r\n                            .disableCachingNullValues()\r\n                            .serializeValuesWith(\r\n                                    RedisSerializationContext.SerializationPair.fromSerializer(\r\n                                            new GenericJackson2JsonRedisSerializer()\r\n                                    )\r\n                            ).entryTtl(expiration)\r\n            ).build();\r\n            redisCacheManager.setTransactionAware(false);\r\n            return redisCacheManager;\r\n        }\r\n    }\r\n\r\nBut I got an exception, here stackTrace\r\n\r\n    org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis\r\n    \tat org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.translateException(LettuceConnectionFactory.java:1602) ~[spring-data-redis-3.0.0.jar:3.0.0]\r\n    \tat org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1533) ~[spring-data-redis-3.0.0.jar:3.0.0]\r\n    \tat org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getNativeConnection(LettuceConnectionFactory.java:1358) ~[spring-data-redis-3.0.0.jar:3.0.0]\r\n    \tat org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getConnection(LettuceConnectionFactory.java:1341) ~[spring-data-redis-3.0.0.jar:3.0.0]\r\n    \tat org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getSharedReactiveConnection(LettuceConnectionFactory.java:1083) ~[spring-data-redis-3.0.0.jar:3.0.0]\r\n    \tat org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getReactiveConnection(LettuceConnectionFactory.java:479) ~[spring-data-redis-3.0.0.jar:3.0.0]\r\n    \tat org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getReactiveConnection(LettuceConnectionFactory.java:105) ~[spring-data-redis-3.0.0.jar:3.0.0]\r\n    \tat reactor.core.publisher.MonoSupplier.call(MonoSupplier.java:86) ~[reactor-core-3.4.22.jar:3.4.22]\r\n    \tat reactor.core.publisher.FluxSubscribeOnCallable$CallableSubscribeOnSubscription.run(FluxSubscribeOnCallable.java:227) ~[reactor-core-3.4.22.jar:3.4.22]\r\n    \tat reactor.core.scheduler.SchedulerTask.call(SchedulerTask.java:68) ~[reactor-core-3.4.22.jar:3.4.22]\r\n    \tat reactor.core.scheduler.SchedulerTask.call(SchedulerTask.java:28) ~[reactor-core-3.4.22.jar:3.4.22]\r\n    \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\r\n    \tat java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]\r\n    \tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n    Caused by: io.lettuce.core.RedisConnectionException: Unable to connect to elastic-cache-xxx-xxx-xxx-xxx-xxx.xxx.xxx.xxx.cache.amazonaws.com/&lt;unresolved&gt;:6379\r\n    \tat io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:78) ~[lettuce-core-6.2.3.RELEASE.jar:6.2.3.RELEASE]\r\n    \tat io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:56) ~[lettuce-core-6.2.3.RELEASE.jar:6.2.3.RELEASE]\r\n    \tat io.lettuce.core.AbstractRedisClient.getConnection(AbstractRedisClient.java:350) ~[lettuce-core-6.2.3.RELEASE.jar:6.2.3.RELEASE]\r\n    \tat io.lettuce.core.RedisClient.connect(RedisClient.java:216) ~[lettuce-core-6.2.3.RELEASE.jar:6.2.3.RELEASE]\r\n    \tat org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.lambda$getConnection$1(StandaloneConnectionProvider.java:111) ~[spring-data-redis-3.0.0.jar:3.0.0]\r\n    \tat java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]\r\n    \tat org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.getConnection(StandaloneConnectionProvider.java:111) ~[spring-data-redis-3.0.0.jar:3.0.0]\r\n    \tat org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1531) ~[spring-data-redis-3.0.0.jar:3.0.0]\r\n    \t... 14 common frames omitted\r\n    Caused by: java.net.UnknownHostException: Failed to resolve &#39;elastic-cache-xxx-xxx-xxx-xxx-xxx.xxx.xxx.xxx.cache.amazonaws.com&#39; after 3 queries \r\n    \tat io.netty.resolver.dns.DnsResolveContext.finishResolve(DnsResolveContext.java:1047) ~[netty-resolver-dns-4.1.85.Final.jar:4.1.85.Final]\r\n    \tat io.netty.resolver.dns.DnsResolveContext.tryToFinishResolve(DnsResolveContext.java:1000) ~[netty-resolver-dns-4.1.85.Final.jar:4.1.85.Final]\r\n    \tat io.netty.resolver.dns.DnsResolveContext.query(DnsResolveContext.java:418) ~[netty-resolver-dns-4.1.85.Final.jar:4.1.85.Final]\r\n    \tat io.netty.resolver.dns.DnsResolveContext.access$600(DnsResolveContext.java:66) ~[netty-resolver-dns-4.1.85.Final.jar:4.1.85.Final]\r\n    \tat io.netty.resolver.dns.DnsResolveContext$2.operationComplete(DnsResolveContext.java:467) ~[netty-resolver-dns-4.1.85.Final.jar:4.1.85.Final]\r\n    \tat io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:578) ~[netty-common-4.1.85.Final.jar:4.1.85.Final]\r\n    \tat io.netty.util.concurrent.DefaultPromise.notifyListeners0(DefaultPromise.java:571) ~[netty-common-4.1.85.Final.jar:4.1.85.Final]\r\n    \tat io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:550) ~[netty-common-4.1.85.Final.jar:4.1.85.Final]\r\n    \tat io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:491) ~[netty-common-4.1.85.Final.jar:4.1.85.Final]\r\n    \tat io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:616) ~[netty-common-4.1.85.Final.jar:4.1.85.Final]\r\n    \tat io.netty.util.concurrent.DefaultPromise.setFailure0(DefaultPromise.java:609) ~[netty-common-4.1.85.Final.jar:4.1.85.Final]\r\n    \tat io.netty.util.concurrent.DefaultPromise.tryFailure(DefaultPromise.java:117) ~[netty-common-4.1.85.Final.jar:4.1.85.Final]\r\n    \tat io.netty.resolver.dns.DnsQueryContext.tryFailure(DnsQueryContext.java:256) ~[netty-resolver-dns-4.1.85.Final.jar:4.1.85.Final]\r\n    \tat io.netty.resolver.dns.DnsQueryContext$4.run(DnsQueryContext.java:208) ~[netty-resolver-dns-4.1.85.Final.jar:4.1.85.Final]\r\n    \tat io.netty.util.concurrent.PromiseTask.runTask(PromiseTask.java:98) ~[netty-common-4.1.85.Final.jar:4.1.85.Final]\r\n    \tat io.netty.util.concurrent.ScheduledFutureTask.run(ScheduledFutureTask.java:153) ~[netty-common-4.1.85.Final.jar:4.1.85.Final]\r\n    \tat io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:174) ~[netty-common-4.1.85.Final.jar:4.1.85.Final]\r\n    \tat io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:167) ~[netty-common-4.1.85.Final.jar:4.1.85.Final]\r\n    \tat io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470) ~[netty-common-4.1.85.Final.jar:4.1.85.Final]\r\n    \tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569) ~[netty-transport-4.1.85.Final.jar:4.1.85.Final]\r\n    \tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.85.Final.jar:4.1.85.Final]\r\n    \tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.85.Final.jar:4.1.85.Final]\r\n    \tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.85.Final.jar:4.1.85.Final]\r\n    \t... 1 common frames omitted\r\n    Caused by: io.netty.resolver.dns.DnsNameResolverTimeoutException: [/xxx.xxx.xxx.xxx:xx] query via UDP timed out after 5000 milliseconds (no stack trace available)\r\n\r\nMy dependencies\r\n\r\n    &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n                &lt;groupId&gt;io.lettuce&lt;/groupId&gt;\r\n                &lt;artifactId&gt;lettuce-core&lt;/artifactId&gt;\r\n                &lt;version&gt;6.2.3.RELEASE&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.netty&lt;/groupId&gt;\r\n                &lt;artifactId&gt;netty-all&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n\r\nVersion of spring boot 3.0.0\r\n\r\nI tried to connect with [RedisInsight][1] and it works\r\n\r\nI check some issues that looks very similar, but nothing that help me\r\nhttps://github.com/redisson/redisson/issues/1625\r\nhttps://github.com/sixthpoint/spring-boot-elasticache-redis-tutorial/blob/master/src/main/java/com/sixthpoint/spring/boot/elasticcache/redis/config/RedisConfig.java\r\nhttps://levelup.gitconnected.com/how-to-connect-to-aws-elasticache-redis-in-spring-boot-app-9dd2e0908467\r\nhttps://docs.spring.io/spring-data/data-redis/docs/current/reference/html/#cluster\r\nhttps://github.com/netty/netty/issues/8261\r\n\r\nAnyone could you know hoy to solve it?\r\n\r\n\r\n  [1]: https://redis.com/redis-enterprise/redis-insight/","title":"Unable connect elasticache using spring-redis unknown host","body":"<p>I have the next issue in my project.</p>\n<p>I want to connect my AWS-elasticache, but it's not possible</p>\n<p>Here my configuration.</p>\n<pre><code>@Configuration\n@ComponentScan\n@EnableJpaRepositories\n@EnableRedisRepositories\npublic class RedisConfig {\n\n    @Bean// to use in my local machine\n    @ConditionalOnProperty(prefix = &quot;redis&quot;, name = &quot;cluster&quot;, havingValue = &quot;not&quot;)\n    public LettuceConnectionFactory redisConnectionFactory(@Value(&quot;${redis.host}&quot;) String host,\n                                                       @Value(&quot;${redis.port}&quot;) Integer port,\n                                                       @Value(&quot;${redis.password}&quot;) String password) {\n        RedisStandaloneConfiguration configuration = new RedisStandaloneConfiguration(host, port);\n        configuration.setPassword(password);\n        return new LettuceConnectionFactory(configuration);\n    }\n\n    @Bean// configure to elasticaceh\n    @ConditionalOnProperty(prefix = &quot;redis&quot;, name = &quot;cluster&quot;, havingValue = &quot;yes&quot;, matchIfMissing = true)\n    public LettuceConnectionFactory redisClusterConnectionFactory(@Value(&quot;${redis.host}&quot;) String host,\n                                                              @Value(&quot;${redis.port}&quot;) Integer port) {\n        RedisClusterConfiguration clusterConfiguration = new RedisClusterConfiguration();\n        clusterConfiguration.clusterNode(host, port);\n        return new LettuceConnectionFactory(clusterConfiguration);\n}\n\n    @Bean\n    public RedisTemplate&lt;String, Object&gt; redisTemplate(LettuceConnectionFactory connectionFactory) {\n        RedisTemplate&lt;String, Object&gt; template = new RedisTemplate&lt;&gt;();\n        template.setDefaultSerializer(new GenericJackson2JsonRedisSerializer());\n        template.setKeySerializer(new StringRedisSerializer());\n        template.setHashKeySerializer(new StringRedisSerializer());\n        template.setConnectionFactory(connectionFactory);\n        return template;\n    }\n\n    @Bean\n    @Qualifier(&quot;cacheManageMaster&quot;)\n    public CacheManager cacheManager(LettuceConnectionFactory connectionFactory) {\n        Duration expiration = Duration.ofHours(24);\n        RedisCacheManager redisCacheManager = RedisCacheManager.builder(connectionFactory).cacheDefaults(\n                RedisCacheConfiguration.defaultCacheConfig()\n                        .disableCachingNullValues()\n                        .serializeValuesWith(\n                                RedisSerializationContext.SerializationPair.fromSerializer(\n                                        new GenericJackson2JsonRedisSerializer()\n                                )\n                        ).entryTtl(expiration)\n        ).build();\n        redisCacheManager.setTransactionAware(false);\n        return redisCacheManager;\n    }\n}\n</code></pre>\n<p>But I got an exception, here stackTrace</p>\n<pre><code>org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis\n    at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.translateException(LettuceConnectionFactory.java:1602) ~[spring-data-redis-3.0.0.jar:3.0.0]\n    at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1533) ~[spring-data-redis-3.0.0.jar:3.0.0]\n    at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getNativeConnection(LettuceConnectionFactory.java:1358) ~[spring-data-redis-3.0.0.jar:3.0.0]\n    at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getConnection(LettuceConnectionFactory.java:1341) ~[spring-data-redis-3.0.0.jar:3.0.0]\n    at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getSharedReactiveConnection(LettuceConnectionFactory.java:1083) ~[spring-data-redis-3.0.0.jar:3.0.0]\n    at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getReactiveConnection(LettuceConnectionFactory.java:479) ~[spring-data-redis-3.0.0.jar:3.0.0]\n    at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getReactiveConnection(LettuceConnectionFactory.java:105) ~[spring-data-redis-3.0.0.jar:3.0.0]\n    at reactor.core.publisher.MonoSupplier.call(MonoSupplier.java:86) ~[reactor-core-3.4.22.jar:3.4.22]\n    at reactor.core.publisher.FluxSubscribeOnCallable$CallableSubscribeOnSubscription.run(FluxSubscribeOnCallable.java:227) ~[reactor-core-3.4.22.jar:3.4.22]\n    at reactor.core.scheduler.SchedulerTask.call(SchedulerTask.java:68) ~[reactor-core-3.4.22.jar:3.4.22]\n    at reactor.core.scheduler.SchedulerTask.call(SchedulerTask.java:28) ~[reactor-core-3.4.22.jar:3.4.22]\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\n    at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\nCaused by: io.lettuce.core.RedisConnectionException: Unable to connect to elastic-cache-xxx-xxx-xxx-xxx-xxx.xxx.xxx.xxx.cache.amazonaws.com/&lt;unresolved&gt;:6379\n    at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:78) ~[lettuce-core-6.2.3.RELEASE.jar:6.2.3.RELEASE]\n    at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:56) ~[lettuce-core-6.2.3.RELEASE.jar:6.2.3.RELEASE]\n    at io.lettuce.core.AbstractRedisClient.getConnection(AbstractRedisClient.java:350) ~[lettuce-core-6.2.3.RELEASE.jar:6.2.3.RELEASE]\n    at io.lettuce.core.RedisClient.connect(RedisClient.java:216) ~[lettuce-core-6.2.3.RELEASE.jar:6.2.3.RELEASE]\n    at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.lambda$getConnection$1(StandaloneConnectionProvider.java:111) ~[spring-data-redis-3.0.0.jar:3.0.0]\n    at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]\n    at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.getConnection(StandaloneConnectionProvider.java:111) ~[spring-data-redis-3.0.0.jar:3.0.0]\n    at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1531) ~[spring-data-redis-3.0.0.jar:3.0.0]\n    ... 14 common frames omitted\nCaused by: java.net.UnknownHostException: Failed to resolve 'elastic-cache-xxx-xxx-xxx-xxx-xxx.xxx.xxx.xxx.cache.amazonaws.com' after 3 queries \n    at io.netty.resolver.dns.DnsResolveContext.finishResolve(DnsResolveContext.java:1047) ~[netty-resolver-dns-4.1.85.Final.jar:4.1.85.Final]\n    at io.netty.resolver.dns.DnsResolveContext.tryToFinishResolve(DnsResolveContext.java:1000) ~[netty-resolver-dns-4.1.85.Final.jar:4.1.85.Final]\n    at io.netty.resolver.dns.DnsResolveContext.query(DnsResolveContext.java:418) ~[netty-resolver-dns-4.1.85.Final.jar:4.1.85.Final]\n    at io.netty.resolver.dns.DnsResolveContext.access$600(DnsResolveContext.java:66) ~[netty-resolver-dns-4.1.85.Final.jar:4.1.85.Final]\n    at io.netty.resolver.dns.DnsResolveContext$2.operationComplete(DnsResolveContext.java:467) ~[netty-resolver-dns-4.1.85.Final.jar:4.1.85.Final]\n    at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:578) ~[netty-common-4.1.85.Final.jar:4.1.85.Final]\n    at io.netty.util.concurrent.DefaultPromise.notifyListeners0(DefaultPromise.java:571) ~[netty-common-4.1.85.Final.jar:4.1.85.Final]\n    at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:550) ~[netty-common-4.1.85.Final.jar:4.1.85.Final]\n    at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:491) ~[netty-common-4.1.85.Final.jar:4.1.85.Final]\n    at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:616) ~[netty-common-4.1.85.Final.jar:4.1.85.Final]\n    at io.netty.util.concurrent.DefaultPromise.setFailure0(DefaultPromise.java:609) ~[netty-common-4.1.85.Final.jar:4.1.85.Final]\n    at io.netty.util.concurrent.DefaultPromise.tryFailure(DefaultPromise.java:117) ~[netty-common-4.1.85.Final.jar:4.1.85.Final]\n    at io.netty.resolver.dns.DnsQueryContext.tryFailure(DnsQueryContext.java:256) ~[netty-resolver-dns-4.1.85.Final.jar:4.1.85.Final]\n    at io.netty.resolver.dns.DnsQueryContext$4.run(DnsQueryContext.java:208) ~[netty-resolver-dns-4.1.85.Final.jar:4.1.85.Final]\n    at io.netty.util.concurrent.PromiseTask.runTask(PromiseTask.java:98) ~[netty-common-4.1.85.Final.jar:4.1.85.Final]\n    at io.netty.util.concurrent.ScheduledFutureTask.run(ScheduledFutureTask.java:153) ~[netty-common-4.1.85.Final.jar:4.1.85.Final]\n    at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:174) ~[netty-common-4.1.85.Final.jar:4.1.85.Final]\n    at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:167) ~[netty-common-4.1.85.Final.jar:4.1.85.Final]\n    at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470) ~[netty-common-4.1.85.Final.jar:4.1.85.Final]\n    at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569) ~[netty-transport-4.1.85.Final.jar:4.1.85.Final]\n    at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.85.Final.jar:4.1.85.Final]\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.85.Final.jar:4.1.85.Final]\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.85.Final.jar:4.1.85.Final]\n    ... 1 common frames omitted\nCaused by: io.netty.resolver.dns.DnsNameResolverTimeoutException: [/xxx.xxx.xxx.xxx:xx] query via UDP timed out after 5000 milliseconds (no stack trace available)\n</code></pre>\n<p>My dependencies</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;\n            &lt;version&gt;3.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n&lt;dependency&gt;\n            &lt;groupId&gt;io.lettuce&lt;/groupId&gt;\n            &lt;artifactId&gt;lettuce-core&lt;/artifactId&gt;\n            &lt;version&gt;6.2.3.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.netty&lt;/groupId&gt;\n            &lt;artifactId&gt;netty-all&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>Version of spring boot 3.0.0</p>\n<p>I tried to connect with <a href=\"https://redis.com/redis-enterprise/redis-insight/\" rel=\"nofollow noreferrer\">RedisInsight</a> and it works</p>\n<p>I check some issues that looks very similar, but nothing that help me\n<a href=\"https://github.com/redisson/redisson/issues/1625\" rel=\"nofollow noreferrer\">https://github.com/redisson/redisson/issues/1625</a>\n<a href=\"https://github.com/sixthpoint/spring-boot-elasticache-redis-tutorial/blob/master/src/main/java/com/sixthpoint/spring/boot/elasticcache/redis/config/RedisConfig.java\" rel=\"nofollow noreferrer\">https://github.com/sixthpoint/spring-boot-elasticache-redis-tutorial/blob/master/src/main/java/com/sixthpoint/spring/boot/elasticcache/redis/config/RedisConfig.java</a>\n<a href=\"https://levelup.gitconnected.com/how-to-connect-to-aws-elasticache-redis-in-spring-boot-app-9dd2e0908467\" rel=\"nofollow noreferrer\">https://levelup.gitconnected.com/how-to-connect-to-aws-elasticache-redis-in-spring-boot-app-9dd2e0908467</a>\n<a href=\"https://docs.spring.io/spring-data/data-redis/docs/current/reference/html/#cluster\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/data-redis/docs/current/reference/html/#cluster</a>\n<a href=\"https://github.com/netty/netty/issues/8261\" rel=\"nofollow noreferrer\">https://github.com/netty/netty/issues/8261</a></p>\n<p>Anyone could you know hoy to solve it?</p>\n"},{"tags":["java","encryption","cryptography","aes-gcm","initialization-vector"],"comments":[{"owner":{"account_id":12359353,"reputation":42442,"user_id":9014097,"display_name":"Topaco"},"score":1,"creation_date":1691428109,"post_id":76853465,"comment_id":135487291,"body_markdown":"If I understand it correctly, this is about database search for encrypted data. This can be done e.g. with a blind index, see [this SO Post](https://stackoverflow.com/q/4961603/9014097). Because of the random IV, the ciphertext changes with with the same key and plaintext. Therefore, in the proposed solution, a MAC is used for an indexed column (the key of the MAC protects against a dictionary attack as it would be feasible for a simple hash).","body":"If I understand it correctly, this is about database search for encrypted data. This can be done e.g. with a blind index, see <a href=\"https://stackoverflow.com/q/4961603/9014097\">this SO Post</a>. Because of the random IV, the ciphertext changes with with the same key and plaintext. Therefore, in the proposed solution, a MAC is used for an indexed column (the key of the MAC protects against a dictionary attack as it would be feasible for a simple hash)."}],"owner":{"account_id":9527527,"reputation":48,"user_id":7080314,"display_name":"Vijay Kambala"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":194,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691425070,"creation_date":1691425070,"question_id":76853465,"body_markdown":"I used to encrypt/decrypt using below code, I used to use below code to encrypt while saving user data to DB(email, phone) and I used to fetch from db and decrypt in the response back to user. Catch out here is I used to use fixed IV and Secret so no matter how many ever times we encrypt a given a string it always to used to generate same Cipher text. We have a **API** to get user by email. We used to accept email in the path param and encrypt it and used the Cipher text in the DB query to find the user by email.\r\n\r\n**New change:** Everything used to work well until now. But recently we changed the encryption/decryption algorithm to work with random IV. So in order to get the extract value back from ciperText we started storing the dynamic IV in the Cipher text itself. The format followed is below {Base64_Encoded_IV}Encoded_Cipher_Text while saving ciphet text to database.\r\n\r\n**Issue:** The problem with this approach is that in the **API** that I talked above to get user data by email address. We accept the email and encrypt to get user data but this time it generates a new cipheText altogether because it uses a new IV to encrypt the email accepted to fetch the user data.\r\n\r\n**Note:** I am looking for solutions around this. If anyone can throw light up on.\r\n\r\nEg: Text: abc@test.com \r\n\r\nEncryptedValue stored in db: {KF0RTjdsfd979DNJHKnlkRjkeg==}x07RYBVdfVQDS/fXaK/tHnJc7MAjdix4nA==\r\n\r\n\r\n\r\n\r\n```\r\npublic class CipherUtils {\r\n\r\n    private CipherUtils() throws IllegalAccessException {\r\n        throw new IllegalAccessException(&quot;CipherUtil mustn&#39;t be instantiated&quot;);\r\n    }\r\n    private static final MyLogger logger = MyLogManager.getLogger(CipherUtils.class);\r\n    private static final SecretKeySpec SECRET_KEY;\r\n    private static final String AES_ALG = &quot;AES&quot;;\r\n    private static final String IV = &quot;0B4E9000B915F875&quot;;\r\n    private static final String TRANSFORMATION = &quot;AES/GCM/NoPadding&quot;;\r\n    private static final String ENCRYPTION_KEY = &quot;d3BhcKLHLKhbsddffbG9jYasdfadsJ4&quot;;\r\n    private static final GCMParameterSpec GCM_PARAMETER_SPEC;\r\n\r\n    static {\r\n        SECRET_KEY = new SecretKeySpec(ENCRYPTION_KEY.getBytes(), AES_ALG);\r\n        GCM_PARAMETER_SPEC = new GCMParameterSpec(128, IV.getBytes());\r\n    }\r\n\r\n    public static String encrypt(final String strToEncrypt) {\r\n        if (StringUtils.isBlank(strToEncrypt)) {\r\n            return strToEncrypt;\r\n        }\r\n        try {\r\n            Cipher cipher = Cipher.getInstance(TRANSFORMATION);\r\n            cipher.init(Cipher.ENCRYPT_MODE, SECRET_KEY, GCM_PARAMETER_SPEC);\r\n            return Base64.getEncoder().encodeToString(cipher.doFinal(strToEncrypt.getBytes()));\r\n        } catch (NoSuchPaddingException | IllegalBlockSizeException | NoSuchAlgorithmException | BadPaddingException |\r\n                 InvalidKeyException | InvalidAlgorithmParameterException e) {\r\n            logger.error(ENCRYPTION_ERROR_MSG, e)\r\n                    .log();\r\n            throw new EncryptDecryptException(e.getMessage());\r\n        }\r\n    }\r\n\r\n    public static String decrypt(final String strToDecrypt) {\r\n        if (StringUtils.isBlank(strToDecrypt)) {\r\n            return strToDecrypt;\r\n        }\r\n        try {\r\n            Cipher cipher = Cipher.getInstance(TRANSFORMATION);\r\n            cipher.init(Cipher.DECRYPT_MODE, SECRET_KEY, GCM_PARAMETER_SPEC);\r\n            return new String(cipher.doFinal(Base64.getDecoder().decode(strToDecrypt)));\r\n        } catch (NoSuchPaddingException | IllegalBlockSizeException | NoSuchAlgorithmException |\r\n                 BadPaddingException | InvalidKeyException | InvalidAlgorithmParameterException e) {\r\n            logger.error(DECRYPTION_ERROR_MSG, e)\r\n                    .log();\r\n            throw new EncryptDecryptException(e.getMessage(), null);\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n","title":"Issue in Encryption/Decryption using AES/GCM/NoPadding and Dynamic IV while saving to Database(Postgres)","body":"<p>I used to encrypt/decrypt using below code, I used to use below code to encrypt while saving user data to DB(email, phone) and I used to fetch from db and decrypt in the response back to user. Catch out here is I used to use fixed IV and Secret so no matter how many ever times we encrypt a given a string it always to used to generate same Cipher text. We have a <strong>API</strong> to get user by email. We used to accept email in the path param and encrypt it and used the Cipher text in the DB query to find the user by email.</p>\n<p><strong>New change:</strong> Everything used to work well until now. But recently we changed the encryption/decryption algorithm to work with random IV. So in order to get the extract value back from ciperText we started storing the dynamic IV in the Cipher text itself. The format followed is below {Base64_Encoded_IV}Encoded_Cipher_Text while saving ciphet text to database.</p>\n<p><strong>Issue:</strong> The problem with this approach is that in the <strong>API</strong> that I talked above to get user data by email address. We accept the email and encrypt to get user data but this time it generates a new cipheText altogether because it uses a new IV to encrypt the email accepted to fetch the user data.</p>\n<p><strong>Note:</strong> I am looking for solutions around this. If anyone can throw light up on.</p>\n<p>Eg: Text: abc@test.com</p>\n<p>EncryptedValue stored in db: {KF0RTjdsfd979DNJHKnlkRjkeg==}x07RYBVdfVQDS/fXaK/tHnJc7MAjdix4nA==</p>\n<pre><code>public class CipherUtils {\n\n    private CipherUtils() throws IllegalAccessException {\n        throw new IllegalAccessException(&quot;CipherUtil mustn't be instantiated&quot;);\n    }\n    private static final MyLogger logger = MyLogManager.getLogger(CipherUtils.class);\n    private static final SecretKeySpec SECRET_KEY;\n    private static final String AES_ALG = &quot;AES&quot;;\n    private static final String IV = &quot;0B4E9000B915F875&quot;;\n    private static final String TRANSFORMATION = &quot;AES/GCM/NoPadding&quot;;\n    private static final String ENCRYPTION_KEY = &quot;d3BhcKLHLKhbsddffbG9jYasdfadsJ4&quot;;\n    private static final GCMParameterSpec GCM_PARAMETER_SPEC;\n\n    static {\n        SECRET_KEY = new SecretKeySpec(ENCRYPTION_KEY.getBytes(), AES_ALG);\n        GCM_PARAMETER_SPEC = new GCMParameterSpec(128, IV.getBytes());\n    }\n\n    public static String encrypt(final String strToEncrypt) {\n        if (StringUtils.isBlank(strToEncrypt)) {\n            return strToEncrypt;\n        }\n        try {\n            Cipher cipher = Cipher.getInstance(TRANSFORMATION);\n            cipher.init(Cipher.ENCRYPT_MODE, SECRET_KEY, GCM_PARAMETER_SPEC);\n            return Base64.getEncoder().encodeToString(cipher.doFinal(strToEncrypt.getBytes()));\n        } catch (NoSuchPaddingException | IllegalBlockSizeException | NoSuchAlgorithmException | BadPaddingException |\n                 InvalidKeyException | InvalidAlgorithmParameterException e) {\n            logger.error(ENCRYPTION_ERROR_MSG, e)\n                    .log();\n            throw new EncryptDecryptException(e.getMessage());\n        }\n    }\n\n    public static String decrypt(final String strToDecrypt) {\n        if (StringUtils.isBlank(strToDecrypt)) {\n            return strToDecrypt;\n        }\n        try {\n            Cipher cipher = Cipher.getInstance(TRANSFORMATION);\n            cipher.init(Cipher.DECRYPT_MODE, SECRET_KEY, GCM_PARAMETER_SPEC);\n            return new String(cipher.doFinal(Base64.getDecoder().decode(strToDecrypt)));\n        } catch (NoSuchPaddingException | IllegalBlockSizeException | NoSuchAlgorithmException |\n                 BadPaddingException | InvalidKeyException | InvalidAlgorithmParameterException e) {\n            logger.error(DECRYPTION_ERROR_MSG, e)\n                    .log();\n            throw new EncryptDecryptException(e.getMessage(), null);\n        }\n    }\n}\n\n</code></pre>\n"},{"tags":["java","open-telemetry","jaeger","opentracing","distributed-tracing"],"answers":[{"comments":[{"owner":{"account_id":17104650,"reputation":121,"user_id":12376938,"display_name":"santosh jk"},"score":0,"creation_date":1691460986,"post_id":76853431,"comment_id":135491482,"body_markdown":"thanks Tyler for your reply , I have seen this  , here transport layer expectation is to create new http connection , but in open telemetry there is no need to create new http connection right ?","body":"thanks Tyler for your reply , I have seen this  , here transport layer expectation is to create new http connection , but in open telemetry there is no need to create new http connection right ?"},{"owner":{"account_id":73144,"reputation":318,"user_id":210800,"display_name":"Tyler B"},"score":0,"creation_date":1692030372,"post_id":76853431,"comment_id":135567546,"body_markdown":"`transportLayer` would be the http request that is passed to the setter for updating the http headers according to the configured propagator. The link I provided shows the full example.","body":"<code>transportLayer</code> would be the http request that is passed to the setter for updating the http headers according to the configured propagator. The link I provided shows the full example."}],"tags":[],"owner":{"account_id":73144,"reputation":318,"user_id":210800,"display_name":"Tyler B"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691424785,"creation_date":1691424785,"answer_id":76853431,"question_id":76852932,"body_markdown":"OpenTelemetry has a similar `inject` method on the [Propagators API][1]\r\n\r\n    openTelemetry.getPropagators().getTextMapPropagator().inject(Context.current(), transportLayer, setter);\r\n\r\n\r\n  [1]: https://opentelemetry.io/docs/instrumentation/java/manual/#context-propagation","title":"Inject method in OpenTelemetry","body":"<p>OpenTelemetry has a similar <code>inject</code> method on the <a href=\"https://opentelemetry.io/docs/instrumentation/java/manual/#context-propagation\" rel=\"nofollow noreferrer\">Propagators API</a></p>\n<pre><code>openTelemetry.getPropagators().getTextMapPropagator().inject(Context.current(), transportLayer, setter);\n</code></pre>\n"}],"owner":{"account_id":17104650,"reputation":121,"user_id":12376938,"display_name":"santosh jk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691424785,"creation_date":1691420457,"question_id":76852932,"body_markdown":"We are migrating from open-tracing to open telemetry . \r\n\r\nWe have inject function like below in open-tracing.\r\n\r\n    getTracer().inject(getActiveSpanContet(), Builtin.HTTP_HEADERS, new TextMapAdapter(contextValues));\r\n\r\nCould some one please help what would be equivalent for same in openTelemetry? I tried searching on google I couldn’t get equivalent for same .","title":"Inject method in OpenTelemetry","body":"<p>We are migrating from open-tracing to open telemetry .</p>\n<p>We have inject function like below in open-tracing.</p>\n<pre><code>getTracer().inject(getActiveSpanContet(), Builtin.HTTP_HEADERS, new TextMapAdapter(contextValues));\n</code></pre>\n<p>Could some one please help what would be equivalent for same in openTelemetry? I tried searching on google I couldn’t get equivalent for same .</p>\n"},{"tags":["java","spring-boot","exception","jackson","protocol-buffers"],"comments":[{"owner":{"account_id":5674322,"reputation":4295,"user_id":4488077,"display_name":"f-CJ"},"score":0,"creation_date":1535393379,"post_id":52044715,"comment_id":91040491,"body_markdown":"In which line of code happens the exception? Could you please share your kvservice code? I think it will be easier for people to answer your question with that information in place.","body":"In which line of code happens the exception? Could you please share your kvservice code? I think it will be easier for people to answer your question with that information in place."}],"answers":[{"comments":[{"owner":{"account_id":1601250,"reputation":1253,"user_id":1482231,"accept_rate":52,"display_name":"Prasath"},"score":0,"creation_date":1549618293,"post_id":52048124,"comment_id":95975081,"body_markdown":"Is that worked? Where should I update httpmessageconverter?","body":"Is that worked? Where should I update httpmessageconverter?"},{"owner":{"account_id":6641612,"reputation":7881,"user_id":5128464,"display_name":"vlp"},"score":1,"creation_date":1549794348,"post_id":52048124,"comment_id":96024053,"body_markdown":"@Prasath Have a look e.g. [here](http://www.jcombat.com/spring/understanding-http-message-converters-in-spring-framework) or [here](https://www.baeldung.com/spring-httpmessageconverter-rest). Good luck!","body":"@Prasath Have a look e.g. <a href=\"http://www.jcombat.com/spring/understanding-http-message-converters-in-spring-framework\" rel=\"nofollow noreferrer\">here</a> or <a href=\"https://www.baeldung.com/spring-httpmessageconverter-rest\" rel=\"nofollow noreferrer\">here</a>. Good luck!"}],"tags":[],"owner":{"account_id":6641612,"reputation":7881,"user_id":5128464,"display_name":"vlp"},"comment_count":2,"down_vote_count":1,"up_vote_count":5,"is_accepted":true,"score":4,"last_activity_date":1557443170,"creation_date":1535412159,"answer_id":52048124,"question_id":52044715,"body_markdown":"Class `UnknownFieldSet` (reached via generated method `Hash.getUnknownFields()`) contains getter `getDefaultInstanceForType()` which returns singleton instance of `UnknownFieldSet`. This singleton instance references itself in `getDefaultInstanceForType()` and Jackson-databind can&#39;t handle this automatically (see edit2 below).\r\n\r\nYou might want to use [JsonFormat](https://developers.google.com/protocol-buffers/docs/reference/java/com/google/protobuf/util/JsonFormat) from `com.google.protobuf:protobuf-java-util` which uses [canonical encoding](https://developers.google.com/protocol-buffers/docs/proto3#json) instead of Jackson.\r\n\r\nGood luck!\r\n\r\nEDIT&gt; For Spring there is [ProtobufJsonFormatHttpMessageConverter](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/converter/protobuf/ProtobufJsonFormatHttpMessageConverter.html)\r\n\r\nEDIT2&gt; Of course you could handle this situation using [Mix-in Annotations](https://github.com/FasterXML/jackson-docs/wiki/JacksonMixInAnnotations), but IMHO JsonFormat is definitely the way to go...","title":"Sending protobuf as JSON in spring-boot","body":"<p>Class <code>UnknownFieldSet</code> (reached via generated method <code>Hash.getUnknownFields()</code>) contains getter <code>getDefaultInstanceForType()</code> which returns singleton instance of <code>UnknownFieldSet</code>. This singleton instance references itself in <code>getDefaultInstanceForType()</code> and Jackson-databind can't handle this automatically (see edit2 below).</p>\n\n<p>You might want to use <a href=\"https://developers.google.com/protocol-buffers/docs/reference/java/com/google/protobuf/util/JsonFormat\" rel=\"nofollow noreferrer\">JsonFormat</a> from <code>com.google.protobuf:protobuf-java-util</code> which uses <a href=\"https://developers.google.com/protocol-buffers/docs/proto3#json\" rel=\"nofollow noreferrer\">canonical encoding</a> instead of Jackson.</p>\n\n<p>Good luck!</p>\n\n<p>EDIT> For Spring there is <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/converter/protobuf/ProtobufJsonFormatHttpMessageConverter.html\" rel=\"nofollow noreferrer\">ProtobufJsonFormatHttpMessageConverter</a></p>\n\n<p>EDIT2> Of course you could handle this situation using <a href=\"https://github.com/FasterXML/jackson-docs/wiki/JacksonMixInAnnotations\" rel=\"nofollow noreferrer\">Mix-in Annotations</a>, but IMHO JsonFormat is definitely the way to go...</p>\n"},{"comments":[{"owner":{"account_id":1336531,"reputation":9732,"user_id":1279145,"accept_rate":83,"display_name":"Karthik Prasad"},"score":0,"creation_date":1591457949,"post_id":61489666,"comment_id":110065941,"body_markdown":"It works perfectly for serialization, any idea how to accommodate for deserialization.","body":"It works perfectly for serialization, any idea how to accommodate for deserialization."}],"tags":[],"owner":{"account_id":3578829,"reputation":1825,"user_id":2987497,"accept_rate":73,"display_name":"Henrique Goulart"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1588106733,"creation_date":1588106733,"answer_id":61489666,"question_id":52044715,"body_markdown":"If you&#39;re using **Spring WebFlux** and trying to `produces` `application/json` here is what you can do to make it works for all mappings returning protobuf **Message** type:\r\n\r\n    @Configuration\r\n    @EnableWebFlux\r\n    public class WebConfig implements WebFluxConfigurer {\r\n\r\n    @Override\r\n    public void configureHttpMessageCodecs(ServerCodecConfigurer configurer) {\r\n        configurer.defaultCodecs().jackson2JsonEncoder(\r\n            new Jackson2JsonEncoder(Jackson2ObjectMapperBuilder.json().serializerByType(\r\n                    Message.class, new JsonSerializer&lt;Message&gt;() {\r\n                        @Override\r\n                        public void serialize(Message value, JsonGenerator gen, SerializerProvider serializers) throws IOException {\r\n                            String str = JsonFormat.printer().omittingInsignificantWhitespace().print(value);\r\n                            gen.writeRawValue(str);\r\n                        }\r\n                    }\r\n            ).build())\r\n        );\r\n    }\r\n","title":"Sending protobuf as JSON in spring-boot","body":"<p>If you're using <strong>Spring WebFlux</strong> and trying to <code>produces</code> <code>application/json</code> here is what you can do to make it works for all mappings returning protobuf <strong>Message</strong> type:</p>\n\n<pre><code>@Configuration\n@EnableWebFlux\npublic class WebConfig implements WebFluxConfigurer {\n\n@Override\npublic void configureHttpMessageCodecs(ServerCodecConfigurer configurer) {\n    configurer.defaultCodecs().jackson2JsonEncoder(\n        new Jackson2JsonEncoder(Jackson2ObjectMapperBuilder.json().serializerByType(\n                Message.class, new JsonSerializer&lt;Message&gt;() {\n                    @Override\n                    public void serialize(Message value, JsonGenerator gen, SerializerProvider serializers) throws IOException {\n                        String str = JsonFormat.printer().omittingInsignificantWhitespace().print(value);\n                        gen.writeRawValue(str);\n                    }\n                }\n        ).build())\n    );\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10491596,"reputation":159,"user_id":7733281,"accept_rate":83,"display_name":"Avinash Reddy Penugonda"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1595348491,"creation_date":1595348491,"answer_id":63018787,"question_id":52044715,"body_markdown":"To convert the protobuf object to JSON, you should be using the following class from the package `com.google.protobuf.util.JsonFormat` as:\r\n\r\n```\r\nJsonFormat.printer().print()\r\n```","title":"Sending protobuf as JSON in spring-boot","body":"<p>To convert the protobuf object to JSON, you should be using the following class from the package <code>com.google.protobuf.util.JsonFormat</code> as:</p>\n<pre><code>JsonFormat.printer().print()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25051311,"reputation":21,"user_id":18907196,"display_name":"n.vulic"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1650627309,"creation_date":1650627309,"answer_id":71968079,"question_id":52044715,"body_markdown":"I was able to resolve my issue by adding a bean like so in my Spring main application. \t\r\n\r\nTried a number of answers on StackOverflow with no luck. You may have some success by adding the protobuf types to the registry as defined here, as some of other common answers did not work for me. \r\n\r\n\r\n    @Bean\r\n\tpublic Jackson2ObjectMapperBuilderCustomizer jackson2ObjectMapperBuilderCustomizer() {\r\n\t\tJsonFormat.TypeRegistry typeRegistry = JsonFormat.TypeRegistry.newBuilder()\r\n\t\t\t\t.add(MyType.getDescriptor())\r\n\t\t\t\t.add(MyOtherType.getDescriptor())\r\n\t\t\t\t.build();\r\n\r\n\t\tJsonFormat.Printer printer = JsonFormat.printer().usingTypeRegistry(typeRegistry)\r\n\t\t\t\t.includingDefaultValueFields();\r\n\t\treturn o -&gt; o.serializerByType(Message.class, new JsonSerializer&lt;Message&gt;() {\r\n\t\t\t@Override\r\n\t\t\tpublic void serialize(Message message, JsonGenerator gen, SerializerProvider serializers) throws IOException {\r\n\t\t\t\tgen.writeRawValue(printer.print(message));\r\n\t\t\t}\r\n\t\t});\r\n\t}","title":"Sending protobuf as JSON in spring-boot","body":"<p>I was able to resolve my issue by adding a bean like so in my Spring main application.</p>\n<p>Tried a number of answers on StackOverflow with no luck. You may have some success by adding the protobuf types to the registry as defined here, as some of other common answers did not work for me.</p>\n<pre><code>@Bean\npublic Jackson2ObjectMapperBuilderCustomizer jackson2ObjectMapperBuilderCustomizer() {\n    JsonFormat.TypeRegistry typeRegistry = JsonFormat.TypeRegistry.newBuilder()\n            .add(MyType.getDescriptor())\n            .add(MyOtherType.getDescriptor())\n            .build();\n\n    JsonFormat.Printer printer = JsonFormat.printer().usingTypeRegistry(typeRegistry)\n            .includingDefaultValueFields();\n    return o -&gt; o.serializerByType(Message.class, new JsonSerializer&lt;Message&gt;() {\n        @Override\n        public void serialize(Message message, JsonGenerator gen, SerializerProvider serializers) throws IOException {\n            gen.writeRawValue(printer.print(message));\n        }\n    });\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4953201,"reputation":134,"user_id":3986565,"display_name":"Lewis Munene"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667387916,"creation_date":1667387916,"answer_id":74288339,"question_id":52044715,"body_markdown":"An example based on [vlp&#39;s][1] answer. Do the following:\r\n\r\n1. Declare a Bean of type `ProtobufJsonFormatHttpMessageConverter`. e.g.\r\n\r\n```\r\n@Configuration\r\npublic class AppConfig {\r\n    @Bean\r\n    public ProtobufJsonFormatHttpMessageConverter protobufHttpMessageConverter() {\r\n        return new ProtobufJsonFormatHttpMessageConverter(\r\n                JsonFormat.parser().ignoringUnknownFields(),\r\n                JsonFormat.printer().omittingInsignificantWhitespace()\r\n        );\r\n    }\r\n}\r\n```\r\n\r\n2. Add `produces = MediaType.APPLICATION_JSON_VALUE` to your controller method. e.g.\r\n```\r\n@GetMapping(value = &quot;/get-one-item&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\r\npublic Item getItems() {\r\n    //Item is a Protobuf message\r\n    return itemService.getOneItem();\r\n}\r\n```\r\n\r\n  [1]: https://stackoverflow.com/a/52048124/3986565","title":"Sending protobuf as JSON in spring-boot","body":"<p>An example based on <a href=\"https://stackoverflow.com/a/52048124/3986565\">vlp's</a> answer. Do the following:</p>\n<ol>\n<li>Declare a Bean of type <code>ProtobufJsonFormatHttpMessageConverter</code>. e.g.</li>\n</ol>\n<pre><code>@Configuration\npublic class AppConfig {\n    @Bean\n    public ProtobufJsonFormatHttpMessageConverter protobufHttpMessageConverter() {\n        return new ProtobufJsonFormatHttpMessageConverter(\n                JsonFormat.parser().ignoringUnknownFields(),\n                JsonFormat.printer().omittingInsignificantWhitespace()\n        );\n    }\n}\n</code></pre>\n<ol start=\"2\">\n<li>Add <code>produces = MediaType.APPLICATION_JSON_VALUE</code> to your controller method. e.g.</li>\n</ol>\n<pre><code>@GetMapping(value = &quot;/get-one-item&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\npublic Item getItems() {\n    //Item is a Protobuf message\n    return itemService.getOneItem();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":87230,"reputation":36826,"user_id":242042,"accept_rate":57,"display_name":"Archimedes Trajano"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691424614,"creation_date":1691424614,"answer_id":76853403,"question_id":52044715,"body_markdown":"With Spring Boot Web MVC you need to create a converter\r\n\r\n```java\r\n@Component\r\npublic class ProtobufToJsonConverter extends AbstractHttpMessageConverter&lt;Message&gt; {\r\n\r\n  private final JsonFormat.Printer printer;\r\n\r\n  private final JsonFormat.Parser parser;\r\n\r\n  public ProtobufToJsonConverter() {\r\n    parser = JsonFormat.parser()\r\n      .ignoringUnknownFields();\r\n    printer = JsonFormat.printer()\r\n      .includingDefaultValueFields()\r\n      .omittingInsignificantWhitespace();\r\n  }\r\n\r\n  @Override\r\n  protected boolean canRead(MediaType mediaType) {\r\n\r\n    return MediaType.APPLICATION_JSON.equals(mediaType);\r\n  }\r\n\r\n  @Override\r\n  protected boolean canWrite(MediaType mediaType) {\r\n\r\n    return MediaType.APPLICATION_JSON.equals(mediaType);\r\n  }\r\n\r\n  @Override\r\n  protected @NotNull Message readInternal(@NotNull Class&lt;? extends Message&gt; clazz, @NotNull HttpInputMessage inputMessage) throws IOException, HttpMessageNotReadableException {\r\n\r\n    try {\r\n      final Message.Builder builder = (Message.Builder)clazz.getDeclaredMethod(&quot;newBuilder&quot;).invoke(null);\r\n      parser\r\n        .merge(new InputStreamReader(inputMessage.getBody()), builder);\r\n      return builder.build();\r\n    } catch (ReflectiveOperationException e) {\r\n      throw new IOException(e);\r\n    }\r\n  }\r\n\r\n  @Override\r\n  protected boolean supports(@NotNull Class&lt;?&gt; clazz) {\r\n\r\n    return Message.class.isAssignableFrom(clazz);\r\n  }\r\n\r\n  @Override\r\n  protected void writeInternal(@NotNull Message message, @NotNull HttpOutputMessage outputMessage) throws IOException, HttpMessageNotWritableException {\r\n\r\n    outputMessage.getBody().write(printer.print(message).getBytes(StandardCharsets.UTF_8));\r\n\r\n  }\r\n\r\n\r\n}\r\n```\r\n\r\nThere&#39;s no need to register it but the component must be scanned by having it in the same or child package as your `@SpringBootApplication` or `@ComponentScan`.  Once it is scanned it is available for any HTTP conversions.","title":"Sending protobuf as JSON in spring-boot","body":"<p>With Spring Boot Web MVC you need to create a converter</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class ProtobufToJsonConverter extends AbstractHttpMessageConverter&lt;Message&gt; {\n\n  private final JsonFormat.Printer printer;\n\n  private final JsonFormat.Parser parser;\n\n  public ProtobufToJsonConverter() {\n    parser = JsonFormat.parser()\n      .ignoringUnknownFields();\n    printer = JsonFormat.printer()\n      .includingDefaultValueFields()\n      .omittingInsignificantWhitespace();\n  }\n\n  @Override\n  protected boolean canRead(MediaType mediaType) {\n\n    return MediaType.APPLICATION_JSON.equals(mediaType);\n  }\n\n  @Override\n  protected boolean canWrite(MediaType mediaType) {\n\n    return MediaType.APPLICATION_JSON.equals(mediaType);\n  }\n\n  @Override\n  protected @NotNull Message readInternal(@NotNull Class&lt;? extends Message&gt; clazz, @NotNull HttpInputMessage inputMessage) throws IOException, HttpMessageNotReadableException {\n\n    try {\n      final Message.Builder builder = (Message.Builder)clazz.getDeclaredMethod(&quot;newBuilder&quot;).invoke(null);\n      parser\n        .merge(new InputStreamReader(inputMessage.getBody()), builder);\n      return builder.build();\n    } catch (ReflectiveOperationException e) {\n      throw new IOException(e);\n    }\n  }\n\n  @Override\n  protected boolean supports(@NotNull Class&lt;?&gt; clazz) {\n\n    return Message.class.isAssignableFrom(clazz);\n  }\n\n  @Override\n  protected void writeInternal(@NotNull Message message, @NotNull HttpOutputMessage outputMessage) throws IOException, HttpMessageNotWritableException {\n\n    outputMessage.getBody().write(printer.print(message).getBytes(StandardCharsets.UTF_8));\n\n  }\n\n\n}\n</code></pre>\n<p>There's no need to register it but the component must be scanned by having it in the same or child package as your <code>@SpringBootApplication</code> or <code>@ComponentScan</code>.  Once it is scanned it is available for any HTTP conversions.</p>\n"}],"owner":{"account_id":10950548,"reputation":83,"user_id":8047047,"display_name":"Jan Blažek"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9795,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":52048124,"answer_count":6,"score":8,"last_activity_date":1691424614,"creation_date":1535392952,"question_id":52044715,"body_markdown":"I&#180;m using protobufs with this concrete definition.\r\n\r\n    message Hash {\r\n        string category = 1;\r\n        repeated KVPair content = 2;\r\n    }\r\n    \r\n    message KVPair {\r\n        string key = 1;\r\n        string value = 2;\r\n    }\r\n\r\nI want to send this as JSON with my spring-boot application.\r\nI added this package to my gradle dependencies:\r\n\r\n    compile group: &#39;com.google.protobuf&#39;, name: &#39;protobuf-java&#39;, version: &#39;3.6.1&#39;\r\n\r\nWhen i try to output Hash generated object with this code:\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/api/crm/&quot;)\r\n    public class KVController {\r\n    \r\n        private final KVService kvService;\r\n    \r\n        public KVController(KVService kvService) {\r\n            this.kvService = kvService;\r\n        }\r\n    \r\n        @GetMapping(&quot;kv/{category}&quot;)\r\n        public Hash getHash(@PathVariable String category) {\r\n            Hash hash = kvService.retrieve(category);\r\n            return hash;\r\n        }\r\n    }\r\n\r\nIt throws this ultimate exception:\r\n\r\n&gt; Caused by: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Direct self-reference leading to cycle (through reference chain: com.blaazha.crm.proto.Hash[&quot;unknownFields&quot;]-&gt;com.google.protobuf.UnknownFieldSet[&quot;defaultInstanceForType&quot;])\r\n\tat com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:77) ~[jackson-databind-2.9.6.jar:2.9.6]\r\n\tat com.fasterxml.jackson.databind.SerializerProvider.reportBadDefinition(SerializerProvider.java:1191) ~[jackson-databind-2.9.6.jar:2.9.6]\r\n\tat com.fasterxml.jackson.databind.ser.BeanPropertyWriter._handleSelfReference(BeanPropertyWriter.java:944) ~[jackson-databind-2.9.6.jar:2.9.6]\r\n\tat com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:721) ~[jackson-databind-2.9.6.jar:2.9.6]\r\n\tat com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:719) ~[jackson-databind-2.9.6.jar:2.9.6]\r\n\tat com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:155) ~[jackson-databind-2.9.6.jar:2.9.6]\r\n\tat com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:727) ~[jackson-databind-2.9.6.jar:2.9.6]\r\n\tat com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:719) ~[jackson-databind-2.9.6.jar:2.9.6]\r\n\tat com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:155) ~[jackson-databind-2.9.6.jar:2.9.6]\r\n\tat com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._serialize(DefaultSerializerProvider.java:480) ~[jackson-databind-2.9.6.jar:2.9.6]\r\n\tat com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:319) ~[jackson-databind-2.9.6.jar:2.9.6]\r\n\tat com.fasterxml.jackson.databind.ObjectWriter$Prefetch.serialize(ObjectWriter.java:1396) ~[jackson-databind-2.9.6.jar:2.9.6]\r\n\tat com.fasterxml.jackson.databind.ObjectWriter.writeValue(ObjectWriter.java:913) ~[jackson-databind-2.9.6.jar:2.9.6]\r\n\tat org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.writeInternal(AbstractJackson2HttpMessageConverter.java:286) ~[spring-web-4.3.18.RELEASE.jar:4.3.18.RELEASE]\r\n\t... 58 common frames omitted\r\n\r\nkvService only returns data from redis. It parses Hash data type (https://redis.io/topics/data-types) to Hash object defined in proto. Where Hash-&gt;category is main key of hash and values in hash redis datatype are converted to KVPair defined in proto. I cannot show all source code, because it calls other systems and source code is very long.\r\n\r\nkvService returns valid Hash object, but exception happens when I return this Hash object and spring tries convert it to JSON.\r\n\r\nimportant dependencies in my build.gradle:\r\n\r\n    def versions = [\r\n            logback: &#39;1.2.3&#39;,\r\n            owner: &#39;1.0.10&#39;,\r\n            jackson: &#39;2.9.6&#39;,\r\n    \r\n            guava: &#39;25.1-jre&#39;,\r\n            guice: &#39;4.2.0&#39;,\r\n            grpc: &#39;1.9.1&#39;,\r\n            protoc: &#39;3.5.1&#39;,\r\n\r\n            redis: &#39;2.9.0&#39;,\r\n    ]\r\ndependencies {\r\n\r\n    compile group: &#39;ch.qos.logback&#39;, name: &#39;logback-classic&#39;, version: versions.logback\r\n    compile group: &#39;org.aeonbits.owner&#39;, name: &#39;owner&#39;, version: versions.owner\r\n\r\n    compile group: &#39;com.fasterxml.jackson.core&#39;, name: &#39;jackson-databind&#39;, version: versions.jackson\r\n    compile group: &#39;com.fasterxml.jackson.core&#39;, name: &#39;jackson-annotations&#39;, version: versions.jackson\r\n    compile group: &#39;com.fasterxml.jackson.dataformat&#39;, name: &#39;jackson-dataformat-yaml&#39;, version: versions.jackson\r\n\r\n    compile group: &#39;com.google.guava&#39;, name: &#39;guava&#39;, version: versions.guava\r\n    compile group: &#39;com.google.inject&#39;, name: &#39;guice&#39;, version: versions.guice\r\n    compile group: &#39;io.grpc&#39;, name: &#39;grpc-netty&#39;, version: versions.grpc\r\n    compile group: &#39;io.grpc&#39;, name: &#39;grpc-protobuf&#39;, version: versions.grpc\r\n    compile group: &#39;io.grpc&#39;, name: &#39;grpc-stub&#39;, version: versions.grpc\r\n    compile &#39;org.glassfish:javax.annotation:10.0-b28&#39;\r\n\r\n\r\n    compile group: &#39;javax.xml.bind&#39;, name: &#39;jaxb-api&#39;, version: &#39;2.2.1&#39;\r\n    compile group: &#39;javax.activation&#39;, name: &#39;activation&#39;, version: &#39;1.1.1&#39;\r\n\r\n    compile group: &#39;redis.clients&#39;, name: &#39;jedis&#39;, version: versions.redis\r\n\r\n}\r\n\r\nAs you can see in my protobuf definition isn&#180;t any self-referencing. \r\n\r\nIs there any possible way to fix this problem ?","title":"Sending protobuf as JSON in spring-boot","body":"<p>I´m using protobufs with this concrete definition.</p>\n\n<pre><code>message Hash {\n    string category = 1;\n    repeated KVPair content = 2;\n}\n\nmessage KVPair {\n    string key = 1;\n    string value = 2;\n}\n</code></pre>\n\n<p>I want to send this as JSON with my spring-boot application.\nI added this package to my gradle dependencies:</p>\n\n<pre><code>compile group: 'com.google.protobuf', name: 'protobuf-java', version: '3.6.1'\n</code></pre>\n\n<p>When i try to output Hash generated object with this code:</p>\n\n<pre><code>@RestController\n@RequestMapping(\"/api/crm/\")\npublic class KVController {\n\n    private final KVService kvService;\n\n    public KVController(KVService kvService) {\n        this.kvService = kvService;\n    }\n\n    @GetMapping(\"kv/{category}\")\n    public Hash getHash(@PathVariable String category) {\n        Hash hash = kvService.retrieve(category);\n        return hash;\n    }\n}\n</code></pre>\n\n<p>It throws this ultimate exception:</p>\n\n<blockquote>\n  <p>Caused by: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Direct self-reference leading to cycle (through reference chain: com.blaazha.crm.proto.Hash[\"unknownFields\"]->com.google.protobuf.UnknownFieldSet[\"defaultInstanceForType\"])\n      at com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:77) ~[jackson-databind-2.9.6.jar:2.9.6]\n      at com.fasterxml.jackson.databind.SerializerProvider.reportBadDefinition(SerializerProvider.java:1191) ~[jackson-databind-2.9.6.jar:2.9.6]\n      at com.fasterxml.jackson.databind.ser.BeanPropertyWriter._handleSelfReference(BeanPropertyWriter.java:944) ~[jackson-databind-2.9.6.jar:2.9.6]\n      at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:721) ~[jackson-databind-2.9.6.jar:2.9.6]\n      at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:719) ~[jackson-databind-2.9.6.jar:2.9.6]\n      at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:155) ~[jackson-databind-2.9.6.jar:2.9.6]\n      at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:727) ~[jackson-databind-2.9.6.jar:2.9.6]\n      at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:719) ~[jackson-databind-2.9.6.jar:2.9.6]\n      at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:155) ~[jackson-databind-2.9.6.jar:2.9.6]\n      at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._serialize(DefaultSerializerProvider.java:480) ~[jackson-databind-2.9.6.jar:2.9.6]\n      at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:319) ~[jackson-databind-2.9.6.jar:2.9.6]\n      at com.fasterxml.jackson.databind.ObjectWriter$Prefetch.serialize(ObjectWriter.java:1396) ~[jackson-databind-2.9.6.jar:2.9.6]\n      at com.fasterxml.jackson.databind.ObjectWriter.writeValue(ObjectWriter.java:913) ~[jackson-databind-2.9.6.jar:2.9.6]\n      at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.writeInternal(AbstractJackson2HttpMessageConverter.java:286) ~[spring-web-4.3.18.RELEASE.jar:4.3.18.RELEASE]\n      ... 58 common frames omitted</p>\n</blockquote>\n\n<p>kvService only returns data from redis. It parses Hash data type (<a href=\"https://redis.io/topics/data-types\" rel=\"noreferrer\">https://redis.io/topics/data-types</a>) to Hash object defined in proto. Where Hash->category is main key of hash and values in hash redis datatype are converted to KVPair defined in proto. I cannot show all source code, because it calls other systems and source code is very long.</p>\n\n<p>kvService returns valid Hash object, but exception happens when I return this Hash object and spring tries convert it to JSON.</p>\n\n<p>important dependencies in my build.gradle:</p>\n\n<pre><code>def versions = [\n        logback: '1.2.3',\n        owner: '1.0.10',\n        jackson: '2.9.6',\n\n        guava: '25.1-jre',\n        guice: '4.2.0',\n        grpc: '1.9.1',\n        protoc: '3.5.1',\n\n        redis: '2.9.0',\n]\n</code></pre>\n\n<p>dependencies {</p>\n\n<pre><code>compile group: 'ch.qos.logback', name: 'logback-classic', version: versions.logback\ncompile group: 'org.aeonbits.owner', name: 'owner', version: versions.owner\n\ncompile group: 'com.fasterxml.jackson.core', name: 'jackson-databind', version: versions.jackson\ncompile group: 'com.fasterxml.jackson.core', name: 'jackson-annotations', version: versions.jackson\ncompile group: 'com.fasterxml.jackson.dataformat', name: 'jackson-dataformat-yaml', version: versions.jackson\n\ncompile group: 'com.google.guava', name: 'guava', version: versions.guava\ncompile group: 'com.google.inject', name: 'guice', version: versions.guice\ncompile group: 'io.grpc', name: 'grpc-netty', version: versions.grpc\ncompile group: 'io.grpc', name: 'grpc-protobuf', version: versions.grpc\ncompile group: 'io.grpc', name: 'grpc-stub', version: versions.grpc\ncompile 'org.glassfish:javax.annotation:10.0-b28'\n\n\ncompile group: 'javax.xml.bind', name: 'jaxb-api', version: '2.2.1'\ncompile group: 'javax.activation', name: 'activation', version: '1.1.1'\n\ncompile group: 'redis.clients', name: 'jedis', version: versions.redis\n</code></pre>\n\n<p>}</p>\n\n<p>As you can see in my protobuf definition isn´t any self-referencing. </p>\n\n<p>Is there any possible way to fix this problem ?</p>\n"},{"tags":["java","dependency-injection","hk2"],"comments":[{"owner":{"account_id":3683657,"reputation":2364,"user_id":3067964,"display_name":"jwells131313"},"score":0,"creation_date":1694185046,"post_id":76853300,"comment_id":135862412,"body_markdown":"I think we need more context here.  hk2 allows for dynamically binding after you create the locator which allows a lot more flexibility about when you bind new definitions","body":"I think we need more context here.  hk2 allows for dynamically binding after you create the locator which allows a lot more flexibility about when you bind new definitions"}],"owner":{"account_id":1532442,"reputation":1266,"user_id":1429322,"accept_rate":38,"display_name":"user1429322"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691423595,"creation_date":1691423595,"question_id":76853300,"body_markdown":"Is it possible to use injection in the same class as where the implementation is bound? For example I have\r\n```\r\nthis.bind(ServiceAImpl.class).to(ServiceA.class).in(Singleton.class)\r\n```\r\nand in the same class I need \r\n\r\n```\r\nfinal var server = ServerBuilder.forPort(1234).addService(new GrpcServerRequestHandler()).build();\r\n//Here I want to use new GrpcServerRequestHandler(injected singleton ServiceAImpl.class object)\r\n```\r\n\r\nHow to achieve this?","title":"How to use dependency injected variable in the same class as the bind?","body":"<p>Is it possible to use injection in the same class as where the implementation is bound? For example I have</p>\n<pre><code>this.bind(ServiceAImpl.class).to(ServiceA.class).in(Singleton.class)\n</code></pre>\n<p>and in the same class I need</p>\n<pre><code>final var server = ServerBuilder.forPort(1234).addService(new GrpcServerRequestHandler()).build();\n//Here I want to use new GrpcServerRequestHandler(injected singleton ServiceAImpl.class object)\n</code></pre>\n<p>How to achieve this?</p>\n"},{"tags":["java","spring","ibm-midrange","jt400"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1691424839,"post_id":76853259,"comment_id":135486670,"body_markdown":"The pool should test its own connection. Are you having an issue with that? What is the code you are using to set it up? What do you mean by time optimization? Why do you feel there is a bottleneck?","body":"The pool should test its own connection. Are you having an issue with that? What is the code you are using to set it up? What do you mean by time optimization? Why do you feel there is a bottleneck?"}],"owner":{"account_id":25527246,"reputation":11,"user_id":19316063,"display_name":"Nevras"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691423256,"creation_date":1691423256,"question_id":76853259,"body_markdown":"Java, Spring, jt400 [AS400]\r\n\r\nI have working WAR at server. At this moment, my endpoint opens connection to AS400, retrieve data and gives it as response. Yet, I would like to do some time optimization.\r\n\r\nI did a ```Bean``` declaration at ```@Configuration``` that uses custom class where I use ```AS400ConnectionPool``` and ```AS400``` to create a connection in ```@PostConstruct```.\r\n\r\nGetting a single response using custom endpoint works fine. \r\n\r\nNevertheless, in ```jt400```&#39;s documentation I did not find a way (or I missed something) that would allow to create a connection (e.g. with mentioned AS400ConnectionPool and AS400), maintain it (e.g. with setMaxLifetime), and then verify whether the connection has not expired before the endpoint obtains data (and if it has expired - refresh it first somehow). \r\n\r\nI did try using ```ConnectionPoolEvent```, yet without proper results.\r\n\r\nI want to do this time optimization, as endpoint is used only once/twice a day (appros x50 times in short period of time like 1-2min) and this connection handling seems to be a bottleneck.\r\n\r\nAny tips, ideas, etc?","title":"Maintain AS400ConnectionPool for multiple use","body":"<p>Java, Spring, jt400 [AS400]</p>\n<p>I have working WAR at server. At this moment, my endpoint opens connection to AS400, retrieve data and gives it as response. Yet, I would like to do some time optimization.</p>\n<p>I did a <code>Bean</code> declaration at <code>@Configuration</code> that uses custom class where I use <code>AS400ConnectionPool</code> and <code>AS400</code> to create a connection in <code>@PostConstruct</code>.</p>\n<p>Getting a single response using custom endpoint works fine.</p>\n<p>Nevertheless, in <code>jt400</code>'s documentation I did not find a way (or I missed something) that would allow to create a connection (e.g. with mentioned AS400ConnectionPool and AS400), maintain it (e.g. with setMaxLifetime), and then verify whether the connection has not expired before the endpoint obtains data (and if it has expired - refresh it first somehow).</p>\n<p>I did try using <code>ConnectionPoolEvent</code>, yet without proper results.</p>\n<p>I want to do this time optimization, as endpoint is used only once/twice a day (appros x50 times in short period of time like 1-2min) and this connection handling seems to be a bottleneck.</p>\n<p>Any tips, ideas, etc?</p>\n"},{"tags":["java","spring","reflection","java-8"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1691421998,"post_id":76853094,"comment_id":135486070,"body_markdown":"Probably easiest to go through `BeanInfo`, see [here](https://docs.oracle.com/javase/8/docs/api/java/beans/Introspector.html).","body":"Probably easiest to go through <code>BeanInfo</code>, see <a href=\"https://docs.oracle.com/javase/8/docs/api/java/beans/Introspector.html\" rel=\"nofollow noreferrer\">here</a>."}],"answers":[{"comments":[{"owner":{"account_id":4017891,"reputation":181,"user_id":3309305,"display_name":"user3309305"},"score":0,"creation_date":1691432357,"post_id":76853240,"comment_id":135488044,"body_markdown":"Thanks for the very detailed explanation on this, I am not going into much complexity of it, i just need get+Capitalise first letter. Is there any library which completes my task","body":"Thanks for the very detailed explanation on this, I am not going into much complexity of it, i just need get+Capitalise first letter. Is there any library which completes my task"},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1691448521,"post_id":76853240,"comment_id":135490477,"body_markdown":"There is no _just_, you can&#39;t dodge this complexity. Alternative if you insist, in general there are no libraries that openly accept doing completely the wrong thing in many scenarios, so, no, there is no library that does the simple and incomplete half-baked crud you want to do, no. And there is likely to never be.","body":"There is no <i>just</i>, you can&#39;t dodge this complexity. Alternative if you insist, in general there are no libraries that openly accept doing completely the wrong thing in many scenarios, so, no, there is no library that does the simple and incomplete half-baked crud you want to do, no. And there is likely to never be."}],"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1691423043,"creation_date":1691423043,"answer_id":76853240,"question_id":76853094,"body_markdown":"There are 2 conflicting beanspecs.\r\n\r\nOne is simple and just says: Take the name, uppercase the first letter, slap `set` in front for setters, and slap `is` or `get` in front for getters.\r\n\r\nHowever, there are real issues with that:\r\n\r\n* Does `Boolean` (note the capital!) imply `isFoo()` or `getFoo()`? Most beanspec implementations think the answer is `getFoo()`, but humans tend to think/expect `isFoo()`.\r\n* Uppercase is just plain wrong. The correct way to do it, is of course, titlecase. If all you know is english, there is no difference between these two concepts. However, For example, FF ligatures exist. Lowercase, that&#39;s a single symbol that looks like ff, uppercase, that&#39;d be FF, but titlecase, that looks like Ff. How does one deal with the fact that a spec strongly suggests a stupid thing? __Some__ implementations decide to implement the spirit and not the letter - and thus invoke `toTitleCase` to generate it, some implement the letter and not the spirit, and invoke toUpperCase. Leaving a world split in twain - with some beanspec things expecting / generating `Ff`, and others generating `FF`.\r\n* What do you do with a name that consists of multiple camel-cased-together parts, where the first part consists of a single letter? Imagine I have `public class Chart {}` and one of its fields is called `String xAxisUnit`. If I beanspec that in a very very simple way the way you described it, I get `getXAxisUnit()`. And indeed the first release of beanspec says that&#39;s right. But later, different beanspec docs say that the right way to &#39;getify&#39; that is actually `getxAxisUnit()`, for complicated reasons. Now again we are faced with a dilemma - __which__ of the various conflicting beanspecs do you want? (For context as to why this occurs and which docs are out there that are in conflict, I suggest you read through [this lombok issue about the problem](https://github.com/projectlombok/lombok/issues/2693)) - all the relevant links, as well as direct quotes from the various specs, are present there. There&#39;s also [this StackOverflow question](https://stackoverflow.com/questions/2948083/naming-convention-for-getters-setters-in-java/49348966#49348966).\r\n\r\nThus, the real question becomes: __Which__ spec would you care to follow?\r\n\r\nHere&#39;s lombok&#39;s [`CapitalizationStrategy`](https://github.com/projectlombok/lombok/blob/master/src/core/lombok/core/configuration/CapitalizationStrategy.java) - it&#39;s only half a page and covers the capitalization part for both (you&#39;re going to have to figure out the `set`/`is`/`get` part). In case you don&#39;t want to rely on `java.beans.Introspector` because it doesn&#39;t properly deal with all these variations.\r\n\r\nTL;DR: If you have variable names that starts with a letter that has a different titlecase than uppercase, you&#39;re in trouble. If you have properties whose type is capital-B `Boolean`, that&#39;s problematic. It&#39;s also problematic if you have a field whose first &#39;word&#39; is only a single letter long: Various beanspecs have different opinions on how to convert those from `getFoobar` to `foobar` form and back.","title":"Generate getter/setter name from variable Name in java","body":"<p>There are 2 conflicting beanspecs.</p>\n<p>One is simple and just says: Take the name, uppercase the first letter, slap <code>set</code> in front for setters, and slap <code>is</code> or <code>get</code> in front for getters.</p>\n<p>However, there are real issues with that:</p>\n<ul>\n<li>Does <code>Boolean</code> (note the capital!) imply <code>isFoo()</code> or <code>getFoo()</code>? Most beanspec implementations think the answer is <code>getFoo()</code>, but humans tend to think/expect <code>isFoo()</code>.</li>\n<li>Uppercase is just plain wrong. The correct way to do it, is of course, titlecase. If all you know is english, there is no difference between these two concepts. However, For example, FF ligatures exist. Lowercase, that's a single symbol that looks like ff, uppercase, that'd be FF, but titlecase, that looks like Ff. How does one deal with the fact that a spec strongly suggests a stupid thing? <strong>Some</strong> implementations decide to implement the spirit and not the letter - and thus invoke <code>toTitleCase</code> to generate it, some implement the letter and not the spirit, and invoke toUpperCase. Leaving a world split in twain - with some beanspec things expecting / generating <code>Ff</code>, and others generating <code>FF</code>.</li>\n<li>What do you do with a name that consists of multiple camel-cased-together parts, where the first part consists of a single letter? Imagine I have <code>public class Chart {}</code> and one of its fields is called <code>String xAxisUnit</code>. If I beanspec that in a very very simple way the way you described it, I get <code>getXAxisUnit()</code>. And indeed the first release of beanspec says that's right. But later, different beanspec docs say that the right way to 'getify' that is actually <code>getxAxisUnit()</code>, for complicated reasons. Now again we are faced with a dilemma - <strong>which</strong> of the various conflicting beanspecs do you want? (For context as to why this occurs and which docs are out there that are in conflict, I suggest you read through <a href=\"https://github.com/projectlombok/lombok/issues/2693\" rel=\"nofollow noreferrer\">this lombok issue about the problem</a>) - all the relevant links, as well as direct quotes from the various specs, are present there. There's also <a href=\"https://stackoverflow.com/questions/2948083/naming-convention-for-getters-setters-in-java/49348966#49348966\">this StackOverflow question</a>.</li>\n</ul>\n<p>Thus, the real question becomes: <strong>Which</strong> spec would you care to follow?</p>\n<p>Here's lombok's <a href=\"https://github.com/projectlombok/lombok/blob/master/src/core/lombok/core/configuration/CapitalizationStrategy.java\" rel=\"nofollow noreferrer\"><code>CapitalizationStrategy</code></a> - it's only half a page and covers the capitalization part for both (you're going to have to figure out the <code>set</code>/<code>is</code>/<code>get</code> part). In case you don't want to rely on <code>java.beans.Introspector</code> because it doesn't properly deal with all these variations.</p>\n<p>TL;DR: If you have variable names that starts with a letter that has a different titlecase than uppercase, you're in trouble. If you have properties whose type is capital-B <code>Boolean</code>, that's problematic. It's also problematic if you have a field whose first 'word' is only a single letter long: Various beanspecs have different opinions on how to convert those from <code>getFoobar</code> to <code>foobar</code> form and back.</p>\n"}],"owner":{"account_id":4017891,"reputation":181,"user_id":3309305,"display_name":"user3309305"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"closed_date":1691623598,"accepted_answer_id":76853240,"answer_count":1,"score":-2,"last_activity_date":1691423043,"creation_date":1691421837,"question_id":76853094,"body_markdown":"I am looking for a library which gives generated getter method name by looking up variable name, I can do it my own naively through get+change the first letter of variable name to upperCase and then append to it.","title":"Generate getter/setter name from variable Name in java","body":"<p>I am looking for a library which gives generated getter method name by looking up variable name, I can do it my own naively through get+change the first letter of variable name to upperCase and then append to it.</p>\n"},{"tags":["java","antlr4"],"comments":[{"owner":{"account_id":6128906,"reputation":1172,"user_id":4779853,"display_name":"kaby76"},"score":0,"creation_date":1691515068,"post_id":76853227,"comment_id":135501084,"body_markdown":"Do you have a grammar and examples to look at? My experience with grammars that perform worse with caching happens with grammars that have ambiguity. But it is hard to say without seeing the grammar.","body":"Do you have a grammar and examples to look at? My experience with grammars that perform worse with caching happens with grammars that have ambiguity. But it is hard to say without seeing the grammar."}],"owner":{"account_id":1016954,"reputation":2531,"user_id":1028315,"accept_rate":56,"display_name":"lucky_start_izumi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691422913,"creation_date":1691422913,"question_id":76853227,"body_markdown":"We are using antlr4 in Java, and noticed the Memory leak problem, because of the static cache and DFA array.\r\n\r\nWe have first tried\r\n```\r\nlexer.setInterpreter(new LexerATNSimulator(lexer, lexer.getATN(), lexer.getInterpreter().decisionToDFA, new PredictionContextCache()));\r\nparser.setInterpreter(new ParserATNSimulator(parser, parser.getATN(), parser.getInterpreter().decisionToDFA, new PredictionContextCache()));\r\n```\r\nBut the memory leak was still happening. \r\nWe tried to clear the DFA after every parsing process\r\n```\r\nparser.getInterpreter().clearDFA();\r\nlexer.getInterpreter().clearDFA();\r\n```\r\nAlso tried setting new default DFA (copying the code from generated antlr code), the memory leak seemed stopped. But the performance just got really bad!\r\n\r\nAny suggestions?\r\nI wonder if antlr consider putting allowing DFA and cache to be setup in other places (like redid or memcache). So we could have more control over the cache/DFA policy.","title":"Antlr4 clearDFA affects performance a lot","body":"<p>We are using antlr4 in Java, and noticed the Memory leak problem, because of the static cache and DFA array.</p>\n<p>We have first tried</p>\n<pre><code>lexer.setInterpreter(new LexerATNSimulator(lexer, lexer.getATN(), lexer.getInterpreter().decisionToDFA, new PredictionContextCache()));\nparser.setInterpreter(new ParserATNSimulator(parser, parser.getATN(), parser.getInterpreter().decisionToDFA, new PredictionContextCache()));\n</code></pre>\n<p>But the memory leak was still happening.\nWe tried to clear the DFA after every parsing process</p>\n<pre><code>parser.getInterpreter().clearDFA();\nlexer.getInterpreter().clearDFA();\n</code></pre>\n<p>Also tried setting new default DFA (copying the code from generated antlr code), the memory leak seemed stopped. But the performance just got really bad!</p>\n<p>Any suggestions?\nI wonder if antlr consider putting allowing DFA and cache to be setup in other places (like redid or memcache). So we could have more control over the cache/DFA policy.</p>\n"},{"tags":["java","spring","spring-boot","spring-test"],"comments":[{"owner":{"account_id":29073167,"reputation":1013,"user_id":22270964,"display_name":"Maksim Eliseev"},"score":0,"creation_date":1691427038,"post_id":76852086,"comment_id":135487086,"body_markdown":"Why should you check a file in the classpath?","body":"Why should you check a file in the classpath?"}],"answers":[{"tags":[],"owner":{"account_id":2486870,"reputation":685,"user_id":2165146,"display_name":"muhammed ozbilici"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691422217,"creation_date":1691422217,"answer_id":76853147,"question_id":76852086,"body_markdown":"You can use it like this;\r\n\r\n    @SpringBootTest\r\n    public class Test {\r\n    \r\n        @Autowired\r\n        private ResourceLoader resourceLoader;\r\n    \r\n        @BeforeClass\r\n        void init() {\r\n            File file = resourceLoader.getResource(&quot;classpath:data/file.txt&quot;).getFile();\r\n        }\r\n    }","title":"How can use ClassPathResource without @PoweMockito -UNit Test","body":"<p>You can use it like this;</p>\n<pre><code>@SpringBootTest\npublic class Test {\n\n    @Autowired\n    private ResourceLoader resourceLoader;\n\n    @BeforeClass\n    void init() {\n        File file = resourceLoader.getResource(&quot;classpath:data/file.txt&quot;).getFile();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":17408175,"reputation":11,"user_id":12615869,"display_name":"Eda Kaş"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1691422217,"creation_date":1691414124,"question_id":76852086,"body_markdown":"```java\r\nClassPathResource classPathResource = mock(ClassPathResource.class);\r\nwhenNew(ClassPathResource.class).withArguments(&quot;studentInfo.json&quot;).thenReturn(classPathResource);\r\n```\r\n\r\nHow should I write a Spring test without `PowerMockito`?\r\n\r\n`whenNew` and `withArguments` structures are used in `PowerMockito`, how can I do them only with `@SpringBootTest` and without `PowerMockito`\r\n\r\nAfter that I will read the mockito file and check the existence of the file.","title":"How can use ClassPathResource without @PoweMockito -UNit Test","body":"<pre class=\"lang-java prettyprint-override\"><code>ClassPathResource classPathResource = mock(ClassPathResource.class);\nwhenNew(ClassPathResource.class).withArguments(&quot;studentInfo.json&quot;).thenReturn(classPathResource);\n</code></pre>\n<p>How should I write a Spring test without <code>PowerMockito</code>?</p>\n<p><code>whenNew</code> and <code>withArguments</code> structures are used in <code>PowerMockito</code>, how can I do them only with <code>@SpringBootTest</code> and without <code>PowerMockito</code></p>\n<p>After that I will read the mockito file and check the existence of the file.</p>\n"},{"tags":["java","android","week-number","date"],"comments":[{"owner":{"account_id":4157654,"reputation":84,"user_id":3408486,"accept_rate":100,"display_name":"jake.toString"},"score":0,"creation_date":1527505356,"post_id":50564660,"comment_id":88139832,"body_markdown":"What you describe as your attempted solution doesn&#39;t sound like it would solve the problem you&#39;ve stated. Help me understand. Are you saying that you don&#39;t know how to get the delta between the given date and Sunday? Or are you having trouble taking a day in a week and resolving that to some number of weeks since some date? In which case, all you should have to do is calculate the delta and divide by 7?","body":"What you describe as your attempted solution doesn&#39;t sound like it would solve the problem you&#39;ve stated. Help me understand. Are you saying that you don&#39;t know how to get the delta between the given date and Sunday? Or are you having trouble taking a day in a week and resolving that to some number of weeks since some date? In which case, all you should have to do is calculate the delta and divide by 7?"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1527505463,"post_id":50564660,"comment_id":88139898,"body_markdown":"As an aside consider throwing away the long outmoded and notoriously troublesome `SimpleDateFormat` and friends, and adding [ThreeTenABP](https://github.com/JakeWharton/ThreeTenABP) to your Android project in order to use `java.time`, the modern Java date and time API. It is so much nicer to work with.","body":"As an aside consider throwing away the long outmoded and notoriously troublesome <code>SimpleDateFormat</code> and friends, and adding <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"nofollow noreferrer\">ThreeTenABP</a> to your Android project in order to use <code>java.time</code>, the modern Java date and time API. It is so much nicer to work with."},{"owner":{"account_id":12796127,"reputation":131,"user_id":9259044,"display_name":"TsigumEnes"},"score":0,"creation_date":1527505643,"post_id":50564660,"comment_id":88140001,"body_markdown":"@OleV.V. I know but all month finished 30 or 31.I dont want to finished 30 or 31 to calculate the week number.For example Week 22 (28.06.2018-03.06.2018) like this.","body":"@OleV.V. I know but all month finished 30 or 31.I dont want to finished 30 or 31 to calculate the week number.For example Week 22 (28.06.2018-03.06.2018) like this."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1527505829,"post_id":50564660,"comment_id":88140115,"body_markdown":"Can you use the Java stream API with your API level? It sounds like its grouping capabilities are just right for you.","body":"Can you use the Java stream API with your API level? It sounds like its grouping capabilities are just right for you."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1527506113,"post_id":50564660,"comment_id":88140292,"body_markdown":"Could you please explain what’s wrong with the results you get from the code you have taken from that linked answer? Asking because to me it would seem that the output quoted there would fit what I thought you wanted.","body":"Could you please explain what’s wrong with the results you get from the code you have taken from that linked answer? Asking because to me it would seem that the output quoted there would fit what I thought you wanted."},{"owner":{"account_id":12796127,"reputation":131,"user_id":9259044,"display_name":"TsigumEnes"},"score":1,"creation_date":1527507162,"post_id":50564660,"comment_id":88140956,"body_markdown":"Upsy sorry man my mistake I check my output thats correct.Sorry this code works fine","body":"Upsy sorry man my mistake I check my output thats correct.Sorry this code works fine"}],"answers":[{"comments":[{"owner":{"account_id":9547948,"reputation":997,"user_id":7093155,"display_name":"Robin"},"score":0,"creation_date":1691388249,"post_id":50565426,"comment_id":135479241,"body_markdown":"Field requires API level 26","body":"Field requires API level 26"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1691422191,"post_id":50565426,"comment_id":135486116,"body_markdown":"@Robin Thanks for the comment. For API levels under 26 use desugaring, and it works there too. Please see my edit.","body":"@Robin Thanks for the comment. For API levels under 26 use desugaring, and it works there too. Please see my edit."}],"tags":[],"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1691422131,"creation_date":1527507070,"answer_id":50565426,"question_id":50564660,"body_markdown":"I think you want this:\r\n\r\n\t\tLocalDate today = LocalDate.now(ZoneId.of(&quot;Europe/Istanbul&quot;));\r\n\t\t\r\n\t\tint weekNumber = today.get(WeekFields.ISO.weekOfYear());\r\n\t\tSystem.out.println(&quot;Week no. &quot; + weekNumber);\r\n\t\t\r\n\t\tLocalDate[] days = today.datesUntil(today.with(TemporalAdjusters.next(DayOfWeek.MONDAY)))\r\n\t\t\t\t.toArray(LocalDate[]::new);\r\n\t\tSystem.out.println(Arrays.toString(days));\r\n\r\nRunning it today (Monday, May 28) it printed\r\n\r\n    Week no. 22\r\n    [2018-05-28, 2018-05-29, 2018-05-30, 2018-05-31, 2018-06-01, 2018-06-02, 2018-06-03]\r\n\r\nIt gives you all the dates from today, inclusive, until next Monday, exclusive. If Monday is the first day of the week, this means the remaining days of this week.\r\n\r\nI am using and recommending java.time, the modern Java date and time API. I find it much nicer to work with than the old date and time classes that you are using, `Date`, `SimpleDateFormat` and `Calendar`. java.time was introduced in Java 8 exactly because the old classes from Java 1.0 and 1.1 were too troublesome and error-prone.\r\n\r\n## Question: Doesn’t java.time require Android API level 26?\r\n\r\nEdit: from the comment:\r\n\r\n&gt; Field requires API level 26\r\n\r\njava.time works nicely on both older and newer Android devices including lower API levels than 26.\r\n\r\n - In Java 8 and later and on newer Android devices (from API level 26 Oreo) the modern API comes built-in.\r\n - On older Android use desugaring, see the link below. Alternatively use the Android edition of ThreeTen Backport mentioned next. It’s called ThreeTenABP. In the latter case make sure you import the date and time classes from `org.threeten.bp` with subpackages.\r\n - In non-Android Java 6 and 7 get the ThreeTen Backport, the backport of the modern classes (ThreeTen for JSR 310; see the links at the bottom).\r\n\r\n## Links\r\n\r\n - [Trail: Date Time (The Java™ Tutorials)](https://docs.oracle.com/javase/tutorial/datetime/) explaining how to use java.time.\r\n - [Java 8+ API desugaring support (Android Gradle Plugin 4.0.0+)](https://developer.android.com/studio/write/java8-support#library-desugaring)\r\n - [Java Specification Request (JSR) 310](https://jcp.org/en/jsr/detail?id=310), where `java.time` was first described.\r\n - [ThreeTen Backport project](http://www.threeten.org/threetenbp/), the backport of `java.time` to Java 6 and 7 (ThreeTen for JSR-310).\r\n - [ThreeTenABP](https://github.com/JakeWharton/ThreeTenABP), Android edition of ThreeTen Backport\r\n - [Question: How to use ThreeTenABP in Android Project](https://stackoverflow.com/questions/38922754/how-to-use-threetenabp-in-android-project), with a very thorough explanation.\r\n","title":"Group list of Dates to week number? [Android]","body":"<p>I think you want this:</p>\n<pre><code>    LocalDate today = LocalDate.now(ZoneId.of(&quot;Europe/Istanbul&quot;));\n    \n    int weekNumber = today.get(WeekFields.ISO.weekOfYear());\n    System.out.println(&quot;Week no. &quot; + weekNumber);\n    \n    LocalDate[] days = today.datesUntil(today.with(TemporalAdjusters.next(DayOfWeek.MONDAY)))\n            .toArray(LocalDate[]::new);\n    System.out.println(Arrays.toString(days));\n</code></pre>\n<p>Running it today (Monday, May 28) it printed</p>\n<pre><code>Week no. 22\n[2018-05-28, 2018-05-29, 2018-05-30, 2018-05-31, 2018-06-01, 2018-06-02, 2018-06-03]\n</code></pre>\n<p>It gives you all the dates from today, inclusive, until next Monday, exclusive. If Monday is the first day of the week, this means the remaining days of this week.</p>\n<p>I am using and recommending java.time, the modern Java date and time API. I find it much nicer to work with than the old date and time classes that you are using, <code>Date</code>, <code>SimpleDateFormat</code> and <code>Calendar</code>. java.time was introduced in Java 8 exactly because the old classes from Java 1.0 and 1.1 were too troublesome and error-prone.</p>\n<h2>Question: Doesn’t java.time require Android API level 26?</h2>\n<p>Edit: from the comment:</p>\n<blockquote>\n<p>Field requires API level 26</p>\n</blockquote>\n<p>java.time works nicely on both older and newer Android devices including lower API levels than 26.</p>\n<ul>\n<li>In Java 8 and later and on newer Android devices (from API level 26 Oreo) the modern API comes built-in.</li>\n<li>On older Android use desugaring, see the link below. Alternatively use the Android edition of ThreeTen Backport mentioned next. It’s called ThreeTenABP. In the latter case make sure you import the date and time classes from <code>org.threeten.bp</code> with subpackages.</li>\n<li>In non-Android Java 6 and 7 get the ThreeTen Backport, the backport of the modern classes (ThreeTen for JSR 310; see the links at the bottom).</li>\n</ul>\n<h2>Links</h2>\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">Trail: Date Time (The Java™ Tutorials)</a> explaining how to use java.time.</li>\n<li><a href=\"https://developer.android.com/studio/write/java8-support#library-desugaring\" rel=\"nofollow noreferrer\">Java 8+ API desugaring support (Android Gradle Plugin 4.0.0+)</a></li>\n<li><a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"nofollow noreferrer\">Java Specification Request (JSR) 310</a>, where <code>java.time</code> was first described.</li>\n<li><a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\">ThreeTen Backport project</a>, the backport of <code>java.time</code> to Java 6 and 7 (ThreeTen for JSR-310).</li>\n<li><a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"nofollow noreferrer\">ThreeTenABP</a>, Android edition of ThreeTen Backport</li>\n<li><a href=\"https://stackoverflow.com/questions/38922754/how-to-use-threetenabp-in-android-project\">Question: How to use ThreeTenABP in Android Project</a>, with a very thorough explanation.</li>\n</ul>\n"}],"owner":{"account_id":12796127,"reputation":131,"user_id":9259044,"display_name":"TsigumEnes"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1507,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":50565426,"answer_count":1,"score":-1,"last_activity_date":1691422131,"creation_date":1527504572,"question_id":50564660,"body_markdown":"I am working on an android app that will display a list of data. For example, if you start to use app today(28.05.2018)(MO) and I must calculate week number and add 7 days this week or you are starting Friday I must add 2 days this week.\r\n\r\nI tried this method https://stackoverflow.com/a/42733001/9259044 \r\nbut its wrong for me. First of all, I added dates and\r\n\r\n     TreeMap&lt;Integer, List&lt;Date&gt;&gt; dateHashMap = new TreeMap&lt;&gt;();\r\n        SimpleDateFormat sdf = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\r\n        List&lt;Date&gt; spDates = new ArrayList&lt;&gt;();\r\n      \r\n\r\n        try {\r\n          \r\n\r\n            spDates.add(sdf.parse(&quot;02/06/2018&quot;));\r\n            spDates.add(sdf.parse(&quot;01/06/2018&quot;));\r\n            spDates.add(sdf.parse(&quot;31/05/2018&quot;));\r\n            spDates.add(sdf.parse(&quot;30/05/2018&quot;));\r\n            spDates.add(sdf.parse(&quot;29/05/2018&quot;));\r\n\r\n            spDates.add(sdf.parse(&quot;28/05/2018&quot;));\r\n            spDates.add(sdf.parse(&quot;27/05/2018&quot;));\r\n\r\n            spDates.add(sdf.parse(&quot;26/05/2018&quot;));\r\n            spDates.add(sdf.parse(&quot;25/05/2018&quot;));\r\n\r\n\r\n        } catch (ParseException e) {\r\n            e.printStackTrace();\r\n        }\r\nI compare weekOfYear to my dates but this is wrong.\r\n\r\n    for (int i = 0; i &lt; spDates.size(); i++) {\r\n            List&lt;Date&gt; datesList = new ArrayList&lt;&gt;();\r\n            Calendar calendar = Calendar.getInstance();\r\n            calendar.setTime(spDates.get(i));\r\n\r\n            int weekOfYear = calendar.get(Calendar.WEEK_OF_YEAR);\r\n\r\n            \r\n            for (Date date : spDates) {\r\n                Calendar c = Calendar.getInstance();\r\n                c.setTime(date);\r\n                if (weekOfYear == c.get(Calendar.WEEK_OF_YEAR)) {\r\n                    datesList.add(date);\r\n                }\r\n            }\r\n\r\n            dateHashMap.put(weekOfYear, datesList);\r\n\r\n\r\n        }\r\n\r\n       Log.d(&quot;DATE&quot;,dateHashMap.toString());\r\n\r\n\r\n\r\nDo you have any idea how can I group my Dates to week Number?","title":"Group list of Dates to week number? [Android]","body":"<p>I am working on an android app that will display a list of data. For example, if you start to use app today(28.05.2018)(MO) and I must calculate week number and add 7 days this week or you are starting Friday I must add 2 days this week.</p>\n\n<p>I tried this method <a href=\"https://stackoverflow.com/a/42733001/9259044\">https://stackoverflow.com/a/42733001/9259044</a> \nbut its wrong for me. First of all, I added dates and</p>\n\n<pre><code> TreeMap&lt;Integer, List&lt;Date&gt;&gt; dateHashMap = new TreeMap&lt;&gt;();\n    SimpleDateFormat sdf = new SimpleDateFormat(\"dd/MM/yyyy\");\n    List&lt;Date&gt; spDates = new ArrayList&lt;&gt;();\n\n\n    try {\n\n\n        spDates.add(sdf.parse(\"02/06/2018\"));\n        spDates.add(sdf.parse(\"01/06/2018\"));\n        spDates.add(sdf.parse(\"31/05/2018\"));\n        spDates.add(sdf.parse(\"30/05/2018\"));\n        spDates.add(sdf.parse(\"29/05/2018\"));\n\n        spDates.add(sdf.parse(\"28/05/2018\"));\n        spDates.add(sdf.parse(\"27/05/2018\"));\n\n        spDates.add(sdf.parse(\"26/05/2018\"));\n        spDates.add(sdf.parse(\"25/05/2018\"));\n\n\n    } catch (ParseException e) {\n        e.printStackTrace();\n    }\n</code></pre>\n\n<p>I compare weekOfYear to my dates but this is wrong.</p>\n\n<pre><code>for (int i = 0; i &lt; spDates.size(); i++) {\n        List&lt;Date&gt; datesList = new ArrayList&lt;&gt;();\n        Calendar calendar = Calendar.getInstance();\n        calendar.setTime(spDates.get(i));\n\n        int weekOfYear = calendar.get(Calendar.WEEK_OF_YEAR);\n\n\n        for (Date date : spDates) {\n            Calendar c = Calendar.getInstance();\n            c.setTime(date);\n            if (weekOfYear == c.get(Calendar.WEEK_OF_YEAR)) {\n                datesList.add(date);\n            }\n        }\n\n        dateHashMap.put(weekOfYear, datesList);\n\n\n    }\n\n   Log.d(\"DATE\",dateHashMap.toString());\n</code></pre>\n\n<p>Do you have any idea how can I group my Dates to week Number?</p>\n"},{"tags":["java","spring5","apache-commons-collection"],"comments":[{"owner":{"account_id":2122531,"reputation":363,"user_id":2425668,"display_name":"Radiance Wei Qi Ong"},"score":0,"creation_date":1691119360,"post_id":76832112,"comment_id":135451709,"body_markdown":"Can you provide the full stacktrace?","body":"Can you provide the full stacktrace?"}],"owner":{"account_id":333852,"reputation":1165,"user_id":659922,"accept_rate":56,"display_name":"J.E.Y"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691421918,"creation_date":1691104912,"question_id":76832112,"body_markdown":"    UnsupportedOperationException: Collision adding composited set with no SetMutator set \r\n\r\nis thrown when Spring reads the below configuration. According to the [documentation of API CompositeMap][1], it looks like setMutator is to be set somewhere, but not sure how. Besides, this didn&#39;t seem to be problem when Java8 &amp; Spring 3 were used, the exception is thrown when I tried to upgrade Java to 11 and Spring to 5.\r\n\r\n\r\n    &lt;bean&gt;\r\n      &lt;bean id=&quot;EntityToRepository&quot; class=&quot;org.apache.commons.collections4.map.CompositeMap&quot;&gt;\r\n      &lt;constructor-arg ref=&quot;repo1&quot;/&gt;\r\n      &lt;constructor-arg ref=&quot;repo2&quot;/&gt;\r\n      &lt;constructor-arg ref=&quot;myMapMutator&quot;/&gt;\r\n    &lt;/bean&gt;\r\n\r\nfull stack is like below. It looks like, even though CompositeMap is used, the issue ended up in **CompositeSet**, in which **setMutator** wasn&#39;t set. And CompositSet was triggered in Composite**Map**&#39;s hashCode method.\r\n\r\n    202-0807 15:42:05,794 [main] ERROR org.springframework.web.context.ContextLoader - Context initialization failed\r\n    orgsprngframework.beans.factory.BeanCreationException: Error creating bean with name &#39;xyzRepository&#39; defined in class path resource [spring/repository/applicationContext-mappings.xml]: Unexpected exception during bean creation; nested exception is java.lang.UnsupportedOperationException: Collision adding composited set with no SetMutator set\r\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:530) ~[spring-beans-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323) ~[spring-beans-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321) ~[spring-beans-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:879) ~[spring-beans-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:878) ~[spring-context-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n    at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:401) ~[spring-web-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n    at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:292) ~[spring-web-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n    at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:103) ~[spring-web-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n    at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4768) ~[catalina.jar:9.0.62.redhat-00011]\r\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5230) ~[catalina.jar:9.0.62.redhat-00011]\r\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[catalina.jar:9.0.62.redhat-00011]\r\n    at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:726) ~[catalina.jar:9.0.62.redhat-00011]\r\n    at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:698) ~[catalina.jar:9.0.62.redhat-00011]\r\n    at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:696) ~[catalina.jar:9.0.62.redhat-00011]\r\n    at org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:1024) ~[catalina.jar:9.0.62.redhat-00011]\r\n    at org.apache.catalina.startup.HostConfig$DeployWar.run(HostConfig.java:1911) ~[catalina.jar:9.0.62.redhat-00011]\r\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[na:na]\r\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\r\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-util.jar:9.0.62.redhat-00011]\r\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:118) ~[na:na]\r\n    at org.apache.catalina.startup.HostConfig.deployWARs(HostConfig.java:825) ~[catalina.jar:9.0.62.redhat-00011]\r\n    at org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:475) ~[catalina.jar:9.0.62.redhat-00011]\r\n    at org.apache.catalina.startup.HostConfig.start(HostConfig.java:1618) ~[catalina.jar:9.0.62.redhat-00011]\r\n    at org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:319) ~[catalina.jar:9.0.62.redhat-00011]\r\n    at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123) ~[catalina.jar:9.0.62.redhat-00011]\r\n    at org.apache.catalina.util.LifecycleBase.setStateInternal(LifecycleBase.java:423) ~[catalina.jar:9.0.62.redhat-00011]\r\n    at org.apache.catalina.util.LifecycleBase.setState(LifecycleBase.java:366) ~[catalina.jar:9.0.62.redhat-00011]\r\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:946) ~[catalina.jar:9.0.62.redhat-00011]\r\n    at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:835) ~[catalina.jar:9.0.62.redhat-00011]\r\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[catalina.jar:9.0.62.redhat-00011]\r\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396) ~[catalina.jar:9.0.62.redhat-00011]\r\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386) ~[catalina.jar:9.0.62.redhat-00011]\r\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\r\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-util.jar:9.0.62.redhat-00011]\r\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140) ~[na:na]\r\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919) ~[catalina.jar:9.0.62.redhat-00011]\r\n    at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:263) ~[catalina.jar:9.0.62.redhat-00011]\r\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[catalina.jar:9.0.62.redhat-00011]\r\n    at org.apache.catalina.core.StandardService.startInternal(StandardService.java:432) ~[catalina.jar:9.0.62.redhat-00011]\r\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[catalina.jar:9.0.62.redhat-00011]\r\n    at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:927) ~[catalina.jar:9.0.62.redhat-00011]\r\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[catalina.jar:9.0.62.redhat-00011]\r\n    at org.apache.catalina.startup.Catalina.start(Catalina.java:772) ~[catalina.jar:9.0.62.redhat-00011]\r\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n    at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:345) ~[bootstrap-9.0.62.jar:9.0.62.redhat-00011]\r\n    at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:476) ~[bootstrap-9.0.62.jar:9.0.62.redhat-00011]\r\n    Caued y: java.lang.UnsupportedOperationException: Collision adding composited set with no SetMutator set\r\n    at org.apache.commons.collections4.set.CompositeSet.addComposited(CompositeSet.java:348) ~[commons-collections4-4.0.jar:4.0]\r\n    at org.apache.commons.collections4.map.CompositeMap.entrySet(CompositeMap.java:252) ~[commons-collections4-4.0.jar:4.0]\r\n    at org.apache.commons.collections4.map.CompositeMap.hashCode(CompositeMap.java:480) ~[commons-collections4-4.0.jar:4.0]\r\n    at java.base/java.util.concurrent.ConcurrentHashMap.get(ConcurrentHashMap.java:936) ~[na:na]\r\n    at java.base/java.util.concurrent.ConcurrentHashMap.containsKey(ConcurrentHashMap.java:964) ~[na:na]\r\n    at org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor.requiresDestruction(PersistenceAnnotationBeanPostProcessor.java:393) ~[spring-orm-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n    at org.springframework.beans.factory.support.DisposableBeanAdapter.hasApplicableProcessors(DisposableBeanAdapter.java:405) ~[spring-beans-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n    at org.springframework.beans.factory.support.AbstractBeanFactory.requiresDestruction(AbstractBeanFactory.java:1846) ~[spring-beans-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n    at org.springframework.beans.factory.support.AbstractBeanFactory.registerDisposableBeanIfNecessary(AbstractBeanFactory.java:1863) ~[spring-beans-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:636) ~[spring-beans-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517) ~[spring-beans-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n    ... 51 common frames omitted\r\n\r\n  [1]: https://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/map/CompositeMap.html","title":"&quot;UnsupportedOperationException: Collision adding composited set with no SetMutator set&quot; related to Apache collection4&#39;s CompositeMap","body":"<pre><code>UnsupportedOperationException: Collision adding composited set with no SetMutator set \n</code></pre>\n<p>is thrown when Spring reads the below configuration. According to the <a href=\"https://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/map/CompositeMap.html\" rel=\"nofollow noreferrer\">documentation of API CompositeMap</a>, it looks like setMutator is to be set somewhere, but not sure how. Besides, this didn't seem to be problem when Java8 &amp; Spring 3 were used, the exception is thrown when I tried to upgrade Java to 11 and Spring to 5.</p>\n<pre><code>&lt;bean&gt;\n  &lt;bean id=&quot;EntityToRepository&quot; class=&quot;org.apache.commons.collections4.map.CompositeMap&quot;&gt;\n  &lt;constructor-arg ref=&quot;repo1&quot;/&gt;\n  &lt;constructor-arg ref=&quot;repo2&quot;/&gt;\n  &lt;constructor-arg ref=&quot;myMapMutator&quot;/&gt;\n&lt;/bean&gt;\n</code></pre>\n<p>full stack is like below. It looks like, even though CompositeMap is used, the issue ended up in <strong>CompositeSet</strong>, in which <strong>setMutator</strong> wasn't set. And CompositSet was triggered in Composite<strong>Map</strong>'s hashCode method.</p>\n<pre><code>202-0807 15:42:05,794 [main] ERROR org.springframework.web.context.ContextLoader - Context initialization failed\norgsprngframework.beans.factory.BeanCreationException: Error creating bean with name 'xyzRepository' defined in class path resource [spring/repository/applicationContext-mappings.xml]: Unexpected exception during bean creation; nested exception is java.lang.UnsupportedOperationException: Collision adding composited set with no SetMutator set\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:530) ~[spring-beans-5.2.0.RELEASE.jar:5.2.0.RELEASE]\nat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323) ~[spring-beans-5.2.0.RELEASE.jar:5.2.0.RELEASE]\nat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.2.0.RELEASE.jar:5.2.0.RELEASE]\nat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321) ~[spring-beans-5.2.0.RELEASE.jar:5.2.0.RELEASE]\nat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-5.2.0.RELEASE.jar:5.2.0.RELEASE]\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:879) ~[spring-beans-5.2.0.RELEASE.jar:5.2.0.RELEASE]\nat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:878) ~[spring-context-5.2.0.RELEASE.jar:5.2.0.RELEASE]\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.2.0.RELEASE.jar:5.2.0.RELEASE]\nat org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:401) ~[spring-web-5.2.0.RELEASE.jar:5.2.0.RELEASE]\nat org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:292) ~[spring-web-5.2.0.RELEASE.jar:5.2.0.RELEASE]\nat org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:103) ~[spring-web-5.2.0.RELEASE.jar:5.2.0.RELEASE]\nat org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4768) ~[catalina.jar:9.0.62.redhat-00011]\nat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5230) ~[catalina.jar:9.0.62.redhat-00011]\nat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[catalina.jar:9.0.62.redhat-00011]\nat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:726) ~[catalina.jar:9.0.62.redhat-00011]\nat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:698) ~[catalina.jar:9.0.62.redhat-00011]\nat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:696) ~[catalina.jar:9.0.62.redhat-00011]\nat org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:1024) ~[catalina.jar:9.0.62.redhat-00011]\nat org.apache.catalina.startup.HostConfig$DeployWar.run(HostConfig.java:1911) ~[catalina.jar:9.0.62.redhat-00011]\nat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[na:na]\nat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\nat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-util.jar:9.0.62.redhat-00011]\nat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:118) ~[na:na]\nat org.apache.catalina.startup.HostConfig.deployWARs(HostConfig.java:825) ~[catalina.jar:9.0.62.redhat-00011]\nat org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:475) ~[catalina.jar:9.0.62.redhat-00011]\nat org.apache.catalina.startup.HostConfig.start(HostConfig.java:1618) ~[catalina.jar:9.0.62.redhat-00011]\nat org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:319) ~[catalina.jar:9.0.62.redhat-00011]\nat org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123) ~[catalina.jar:9.0.62.redhat-00011]\nat org.apache.catalina.util.LifecycleBase.setStateInternal(LifecycleBase.java:423) ~[catalina.jar:9.0.62.redhat-00011]\nat org.apache.catalina.util.LifecycleBase.setState(LifecycleBase.java:366) ~[catalina.jar:9.0.62.redhat-00011]\nat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:946) ~[catalina.jar:9.0.62.redhat-00011]\nat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:835) ~[catalina.jar:9.0.62.redhat-00011]\nat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[catalina.jar:9.0.62.redhat-00011]\nat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396) ~[catalina.jar:9.0.62.redhat-00011]\nat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386) ~[catalina.jar:9.0.62.redhat-00011]\nat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\nat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-util.jar:9.0.62.redhat-00011]\nat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140) ~[na:na]\nat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919) ~[catalina.jar:9.0.62.redhat-00011]\nat org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:263) ~[catalina.jar:9.0.62.redhat-00011]\nat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[catalina.jar:9.0.62.redhat-00011]\nat org.apache.catalina.core.StandardService.startInternal(StandardService.java:432) ~[catalina.jar:9.0.62.redhat-00011]\nat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[catalina.jar:9.0.62.redhat-00011]\nat org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:927) ~[catalina.jar:9.0.62.redhat-00011]\nat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[catalina.jar:9.0.62.redhat-00011]\nat org.apache.catalina.startup.Catalina.start(Catalina.java:772) ~[catalina.jar:9.0.62.redhat-00011]\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\nat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\nat org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:345) ~[bootstrap-9.0.62.jar:9.0.62.redhat-00011]\nat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:476) ~[bootstrap-9.0.62.jar:9.0.62.redhat-00011]\nCaued y: java.lang.UnsupportedOperationException: Collision adding composited set with no SetMutator set\nat org.apache.commons.collections4.set.CompositeSet.addComposited(CompositeSet.java:348) ~[commons-collections4-4.0.jar:4.0]\nat org.apache.commons.collections4.map.CompositeMap.entrySet(CompositeMap.java:252) ~[commons-collections4-4.0.jar:4.0]\nat org.apache.commons.collections4.map.CompositeMap.hashCode(CompositeMap.java:480) ~[commons-collections4-4.0.jar:4.0]\nat java.base/java.util.concurrent.ConcurrentHashMap.get(ConcurrentHashMap.java:936) ~[na:na]\nat java.base/java.util.concurrent.ConcurrentHashMap.containsKey(ConcurrentHashMap.java:964) ~[na:na]\nat org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor.requiresDestruction(PersistenceAnnotationBeanPostProcessor.java:393) ~[spring-orm-5.2.0.RELEASE.jar:5.2.0.RELEASE]\nat org.springframework.beans.factory.support.DisposableBeanAdapter.hasApplicableProcessors(DisposableBeanAdapter.java:405) ~[spring-beans-5.2.0.RELEASE.jar:5.2.0.RELEASE]\nat org.springframework.beans.factory.support.AbstractBeanFactory.requiresDestruction(AbstractBeanFactory.java:1846) ~[spring-beans-5.2.0.RELEASE.jar:5.2.0.RELEASE]\nat org.springframework.beans.factory.support.AbstractBeanFactory.registerDisposableBeanIfNecessary(AbstractBeanFactory.java:1863) ~[spring-beans-5.2.0.RELEASE.jar:5.2.0.RELEASE]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:636) ~[spring-beans-5.2.0.RELEASE.jar:5.2.0.RELEASE]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517) ~[spring-beans-5.2.0.RELEASE.jar:5.2.0.RELEASE]\n... 51 common frames omitted\n</code></pre>\n"},{"tags":["java","jframe","jbutton"],"comments":[{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1691442691,"post_id":76852708,"comment_id":135489774,"body_markdown":"Perhaps try an declare `jtPbm` and `years` as *class member* variables, for example: `private JTextField jtPbm; private JComboBox&lt;String&gt; years;` (use proper naming). Then *when* initializing these variables within the **`init()`** method do: `jtPbm = new JTextField();` and `years = new JComboBox&lt;&gt;();`. These components should now be in scope anywhere in class.","body":"Perhaps try an declare <code>jtPbm</code> and <code>years</code> as <i>class member</i> variables, for example: <code>private JTextField jtPbm; private JComboBox&lt;String&gt; years;</code> (use proper naming). Then <i>when</i> initializing these variables within the <b><code>init()</code></b> method do: <code>jtPbm = new JTextField();</code> and <code>years = new JComboBox&lt;&gt;();</code>. These components should now be in scope anywhere in class."},{"owner":{"account_id":26566006,"reputation":1,"user_id":21898642,"display_name":"Miguel Buitrago"},"score":0,"creation_date":1691445095,"post_id":76852708,"comment_id":135490078,"body_markdown":"@DevilsHnd, It works! But, there&#39;s another problem. I want to show a table (JTable) in the panel when user enters information and press the buttOK, so when code runs buttonOK is added and it is obtained value of pbmGot and yearGot which are null, so there will be an error. I could move that part of the code inside actionPerformed method of Jbutton, but I need to get that panel and this method is void. So can I solve this? Thanks!","body":"@DevilsHnd, It works! But, there&#39;s another problem. I want to show a table (JTable) in the panel when user enters information and press the buttOK, so when code runs buttonOK is added and it is obtained value of pbmGot and yearGot which are null, so there will be an error. I could move that part of the code inside actionPerformed method of Jbutton, but I need to get that panel and this method is void. So can I solve this? Thanks!"},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1691445822,"post_id":76852708,"comment_id":135490164,"body_markdown":"Declare `pbmGot` and `yearGot` and class member variables as well so that their scope is class global as well. On a side, in code, you had spelled `yearGot` as `yearGOt`.","body":"Declare <code>pbmGot</code> and <code>yearGot</code> and class member variables as well so that their scope is class global as well. On a side, in code, you had spelled <code>yearGot</code> as <code>yearGOt</code>."},{"owner":{"account_id":26566006,"reputation":1,"user_id":21898642,"display_name":"Miguel Buitrago"},"score":0,"creation_date":1691446600,"post_id":76852708,"comment_id":135490254,"body_markdown":"@DevilsHnd OK, I just made the changes in the code. There is an error, I just debugged the code and tabFill method receive null parameters, I think because user will press button when GUI is created, while this happens, the method doesn&#39;t receive parameters even when it is called.","body":"@DevilsHnd OK, I just made the changes in the code. There is an error, I just debugged the code and tabFill method receive null parameters, I think because user will press button when GUI is created, while this happens, the method doesn&#39;t receive parameters even when it is called."},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1691488029,"post_id":76852708,"comment_id":135495168,"body_markdown":"Cool...All working now?","body":"Cool...All working now?"},{"owner":{"account_id":26566006,"reputation":1,"user_id":21898642,"display_name":"Miguel Buitrago"},"score":0,"creation_date":1691504308,"post_id":76852708,"comment_id":135498745,"body_markdown":"@DevilsHnd No, the method tabFill isn&#39;t receiving parameters (`pbmGot`, `yearGot`) even when they&#39;re declared as class members. Could it be because method is called during code execution?","body":"@DevilsHnd No, the method tabFill isn&#39;t receiving parameters (<code>pbmGot</code>, <code>yearGot</code>) even when they&#39;re declared as class members. Could it be because method is called during code execution?"},{"owner":{"account_id":26566006,"reputation":1,"user_id":21898642,"display_name":"Miguel Buitrago"},"score":0,"creation_date":1691504996,"post_id":76852708,"comment_id":135498953,"body_markdown":"@DevilsHnd I think calling of the method `tabFill` should be inside the method  `actionPerformed`, so that when button is pressed `tabFill` will be executed with parameters that are received from ActionListener. Inside of conditional, I type `TableR.tabFill(pbmGot,yearGot)` and `Principal.add(TableR)`, but it doesn&#39;t work.","body":"@DevilsHnd I think calling of the method <code>tabFill</code> should be inside the method  <code>actionPerformed</code>, so that when button is pressed <code>tabFill</code> will be executed with parameters that are received from ActionListener. Inside of conditional, I type <code>TableR.tabFill(pbmGot,yearGot)</code> and <code>Principal.add(TableR)</code>, but it doesn&#39;t work."},{"owner":{"account_id":26566006,"reputation":1,"user_id":21898642,"display_name":"Miguel Buitrago"},"score":0,"creation_date":1691505784,"post_id":76852708,"comment_id":135499132,"body_markdown":"@DevilsHnd I just try to put `TableR.tabFill(pbmGot,yearGot)` and `Principal.add(TableR,BorderLayout.CENTER)` and `Principal.updateGUI()` and it works!","body":"@DevilsHnd I just try to put <code>TableR.tabFill(pbmGot,yearGot)</code> and <code>Principal.add(TableR,BorderLayout.CENTER)</code> and <code>Principal.updateGUI()</code> and it works!"}],"owner":{"account_id":26566006,"reputation":1,"user_id":21898642,"display_name":"Miguel Buitrago"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691421071,"creation_date":1691418691,"question_id":76852708,"body_markdown":"I&#39;m programming my first GUI in Java Language and I have found an problem/issue.\r\n\r\nThis is my code:\r\n\r\n\r\n```java\r\nimport java.awt.*;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\nimport java.awt.event.FocusEvent;\r\nimport java.awt.event.FocusListener;\r\nimport java.util.ArrayList;\r\n\r\nimport javax.swing.*;\r\n\r\npublic class GUI extends JFrame {\r\n\r\n\tpublic void init() {\r\n\r\n\t\t// Paneles\r\n\r\n\t\tJPanel Frame1 = new JPanel();\r\n\t\tJPanel Buttons = new JPanel();\r\n\t\tJPanel Principal = new JPanel();\r\n\r\n\t\tJLabel jlName = new JLabel(&quot;Nombre&quot;);\r\n\t\tJLabel jlPbm = new JLabel(&quot;PBM&quot;);\r\n\t\tJLabel jlYears = new JLabel(&quot;A&#241;o&quot;);\r\n\r\n\t\tJTextField jtName = new JTextField();\r\n\t\tJTextField jtPbm = new JTextField();\r\n\r\n\t\tTabCalc TableR = new TabCalc();\r\n\r\n\t\tJComboBox&lt;String&gt; Years = new JComboBox&lt;&gt;();\r\n\t\tYears.addItem(&quot;&quot;);\r\n\t\tYears.addItem(&quot;2019&quot;);\r\n\t\tYears.addItem(&quot;2020&quot;);\r\n\t\tYears.addItem(&quot;2021&quot;);\r\n\t\tYears.addItem(&quot;2022&quot;);\r\n\t\tYears.addItem(&quot;2023&quot;);\r\n\t\tYears.addItem(&quot;2024&quot;);\r\n\r\n\t\tjtPbm.addFocusListener(new FocusListener() {\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void focusGained(FocusEvent e) {\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void focusLost(FocusEvent e) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tInteger PBMd = Integer.parseInt(jtPbm.getText());\r\n\t\t\t\t} catch (NumberFormatException nfe) {\r\n\t\t\t\t\tJOptionPane.showMessageDialog(Frame1, &quot;&#161;Ingresa un PBM v&#225;lido!&quot;, &quot;Error!&quot;, JOptionPane.ERROR_MESSAGE);\r\n\t\t\t\t\tjtPbm.setText(&quot;&quot;);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tJButton buttOK = new JButton(&quot;Enviar&quot;);\r\n\r\n\t\tbuttOK.addActionListener(new ActionListener() {\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\t\tString pbmGot = jtPbm.getText();\r\n\t\t\t\tString yearGOt = Years.getSelectedItem().toString();\r\n\r\n\t\t\t\tif (pbmGot.equals(&quot;&quot;) || yearGOt.equals(&quot;&quot;)) {\r\n\t\t\t\t\tJOptionPane.showMessageDialog(Principal, &quot;&#161;Informaci&#243;n incompleta!&quot;, &quot;Error&quot;, JOptionPane.ERROR_MESSAGE);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (Integer.parseInt(pbmGot) &gt; 100 || Integer.parseInt(pbmGot) &lt;= 0) {\r\n\t\t\t\t\t\tJOptionPane.showMessageDialog(Principal, &quot;&#161;Informaci&#243;n err&#243;nea!&quot;, &quot;Error&quot;, JOptionPane.ERROR_MESSAGE);\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tDBConnect sql = new DBConnect(pbmGot, yearGOt);\r\n\t\t\t\t\t\tArrayList&lt;Object&gt; s = sql.ConnectDB();\r\n\t\t\t\t\t\tboolean x = (boolean) s.get(0);\r\n\t\t\t\t\t\tif (x == true) {\r\n\t\t\t\t\t\t\tJOptionPane.showMessageDialog(Principal, &quot;&#161;La consulta fue exitosa!&quot;, &quot;Aviso&quot;, JOptionPane.INFORMATION_MESSAGE);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t/*\r\n\t\t * String pbmGot = &quot;23&quot;;\r\n\t\t * String yearGOt = &quot;2023&quot;;\r\n\t\t * \r\n\t\t * TableR.tabFill(pbmGot, yearGOt);\r\n\t\t */\r\n\r\n\t\tJButton buttDel = new JButton(&quot;Borrar&quot;);\r\n\t\tbuttDel.addActionListener(new ActionListener() {\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\t\tjtName.setText(&quot;&quot;);\r\n\t\t\t\tjtPbm.setText(&quot;&quot;);\r\n\t\t\t\tYears.setSelectedItem(&quot;&quot;);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tButtons.setLayout(new GridLayout(1, 2, 2, 5));\r\n\t\tButtons.add(buttOK);\r\n\t\tButtons.add(buttDel);\r\n\r\n\t\tFrame1.setLayout(new GridLayout(4, 2, 5, 2));\r\n\t\tFrame1.add(jlName);\r\n\t\tFrame1.add(jtName);\r\n\t\tFrame1.add(jlPbm);\r\n\t\tFrame1.add(jtPbm);\r\n\t\tFrame1.add(jlYears);\r\n\t\tFrame1.add(Years);\r\n\r\n\t\tPrincipal.setLayout(new BorderLayout());\r\n\t\tPrincipal.add(Frame1, BorderLayout.NORTH);\r\n\t\tPrincipal.add(Buttons, BorderLayout.SOUTH);\r\n\t\tPrincipal.add(TableR, BorderLayout.CENTER);\r\n\r\n\t\tadd(Principal);\r\n\r\n\t\tsetTitle(&quot;Calculadora de matr&#237;cula&quot;);\r\n\t\tsetSize(400, 300);\r\n\t\tsetResizable(false);\r\n\t\tsetDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\r\n\t\tsetLocationRelativeTo(null);\r\n\t\tsetVisible(true);\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tGUI gui1 = new GUI();\r\n\t\tgui1.init();\r\n\t}\r\n}\r\n```\r\n\r\nI&#39;m trying to get the text inside JTextField jtPbm and JComboBox Years to pass to tableFill method that is outside of addActionListener method of JButton.\r\n\r\nHow I get those values? Thanks!\r\n\r\nNote: The code I type is only a part of the complete code.","title":"Java Frame extract values of actionPerformed() to save it","body":"<p>I'm programming my first GUI in Java Language and I have found an problem/issue.</p>\n<p>This is my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.awt.*;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.event.FocusEvent;\nimport java.awt.event.FocusListener;\nimport java.util.ArrayList;\n\nimport javax.swing.*;\n\npublic class GUI extends JFrame {\n\n    public void init() {\n\n        // Paneles\n\n        JPanel Frame1 = new JPanel();\n        JPanel Buttons = new JPanel();\n        JPanel Principal = new JPanel();\n\n        JLabel jlName = new JLabel(&quot;Nombre&quot;);\n        JLabel jlPbm = new JLabel(&quot;PBM&quot;);\n        JLabel jlYears = new JLabel(&quot;Año&quot;);\n\n        JTextField jtName = new JTextField();\n        JTextField jtPbm = new JTextField();\n\n        TabCalc TableR = new TabCalc();\n\n        JComboBox&lt;String&gt; Years = new JComboBox&lt;&gt;();\n        Years.addItem(&quot;&quot;);\n        Years.addItem(&quot;2019&quot;);\n        Years.addItem(&quot;2020&quot;);\n        Years.addItem(&quot;2021&quot;);\n        Years.addItem(&quot;2022&quot;);\n        Years.addItem(&quot;2023&quot;);\n        Years.addItem(&quot;2024&quot;);\n\n        jtPbm.addFocusListener(new FocusListener() {\n\n            @Override\n            public void focusGained(FocusEvent e) {\n            }\n\n            @Override\n            public void focusLost(FocusEvent e) {\n                try {\n                    Integer PBMd = Integer.parseInt(jtPbm.getText());\n                } catch (NumberFormatException nfe) {\n                    JOptionPane.showMessageDialog(Frame1, &quot;¡Ingresa un PBM válido!&quot;, &quot;Error!&quot;, JOptionPane.ERROR_MESSAGE);\n                    jtPbm.setText(&quot;&quot;);\n                }\n            }\n        });\n\n        JButton buttOK = new JButton(&quot;Enviar&quot;);\n\n        buttOK.addActionListener(new ActionListener() {\n\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                String pbmGot = jtPbm.getText();\n                String yearGOt = Years.getSelectedItem().toString();\n\n                if (pbmGot.equals(&quot;&quot;) || yearGOt.equals(&quot;&quot;)) {\n                    JOptionPane.showMessageDialog(Principal, &quot;¡Información incompleta!&quot;, &quot;Error&quot;, JOptionPane.ERROR_MESSAGE);\n                } else {\n                    if (Integer.parseInt(pbmGot) &gt; 100 || Integer.parseInt(pbmGot) &lt;= 0) {\n                        JOptionPane.showMessageDialog(Principal, &quot;¡Información errónea!&quot;, &quot;Error&quot;, JOptionPane.ERROR_MESSAGE);\n                    } else {\n\n                        DBConnect sql = new DBConnect(pbmGot, yearGOt);\n                        ArrayList&lt;Object&gt; s = sql.ConnectDB();\n                        boolean x = (boolean) s.get(0);\n                        if (x == true) {\n                            JOptionPane.showMessageDialog(Principal, &quot;¡La consulta fue exitosa!&quot;, &quot;Aviso&quot;, JOptionPane.INFORMATION_MESSAGE);\n                        }\n                    }\n                }\n            }\n        });\n\n        /*\n         * String pbmGot = &quot;23&quot;;\n         * String yearGOt = &quot;2023&quot;;\n         * \n         * TableR.tabFill(pbmGot, yearGOt);\n         */\n\n        JButton buttDel = new JButton(&quot;Borrar&quot;);\n        buttDel.addActionListener(new ActionListener() {\n\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                jtName.setText(&quot;&quot;);\n                jtPbm.setText(&quot;&quot;);\n                Years.setSelectedItem(&quot;&quot;);\n            }\n        });\n\n        Buttons.setLayout(new GridLayout(1, 2, 2, 5));\n        Buttons.add(buttOK);\n        Buttons.add(buttDel);\n\n        Frame1.setLayout(new GridLayout(4, 2, 5, 2));\n        Frame1.add(jlName);\n        Frame1.add(jtName);\n        Frame1.add(jlPbm);\n        Frame1.add(jtPbm);\n        Frame1.add(jlYears);\n        Frame1.add(Years);\n\n        Principal.setLayout(new BorderLayout());\n        Principal.add(Frame1, BorderLayout.NORTH);\n        Principal.add(Buttons, BorderLayout.SOUTH);\n        Principal.add(TableR, BorderLayout.CENTER);\n\n        add(Principal);\n\n        setTitle(&quot;Calculadora de matrícula&quot;);\n        setSize(400, 300);\n        setResizable(false);\n        setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\n        setLocationRelativeTo(null);\n        setVisible(true);\n    }\n\n    public static void main(String[] args) {\n        GUI gui1 = new GUI();\n        gui1.init();\n    }\n}\n</code></pre>\n<p>I'm trying to get the text inside JTextField jtPbm and JComboBox Years to pass to tableFill method that is outside of addActionListener method of JButton.</p>\n<p>How I get those values? Thanks!</p>\n<p>Note: The code I type is only a part of the complete code.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9871,"page":263,"page_size":100}
