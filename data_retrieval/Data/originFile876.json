{"items":[{"tags":["java","spring-mvc","thymeleaf","spring-restcontroller"],"comments":[{"owner":{"account_id":1887204,"reputation":13,"user_id":1706183,"display_name":"Edi"},"score":0,"creation_date":1470407658,"post_id":38748909,"comment_id":64953750,"body_markdown":"guys, please help :|","body":"guys, please help :|"},{"owner":{"account_id":2003177,"reputation":16895,"user_id":1793718,"accept_rate":69,"display_name":"Lucky"},"score":0,"creation_date":1470653435,"post_id":38748909,"comment_id":65020243,"body_markdown":"What&#39;s wrong with your current code? What output do you get? post a screenshot or html output you get?","body":"What&#39;s wrong with your current code? What output do you get? post a screenshot or html output you get?"}],"owner":{"account_id":1887204,"reputation":13,"user_id":1706183,"display_name":"Edi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1771,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668698375,"creation_date":1470241155,"question_id":38748909,"body_markdown":"I am new in thymeleaf. I have question about dynamic table. Here is my case : \r\n\r\n    [\r\n       {\r\n          &quot;country&quot;:&quot;country 1&quot;,\r\n          &quot;districs&quot;:[\r\n             {\r\n                &quot;district&quot;:&quot;district 1&quot;,\r\n                &quot;cinemas&quot;:[\r\n                   {\r\n                      &quot;cinema&quot;: &quot;cinema 1&quot;\r\n                      &quot;movie&quot;:&quot;Sherlock&quot;,\r\n                      &quot;visitor&quot;:30\r\n                   },{\r\n                      &quot;cinema&quot;: &quot;cinema 2&quot;\r\n                      &quot;movie&quot;:&quot;Terminator&quot;,\r\n                      &quot;visitor&quot;:40\r\n                   },{\r\n                      &quot;cinema&quot;: &quot;cinema 2&quot;\r\n                      &quot;movie&quot;:&quot;Tarzan&quot;,\r\n                      &quot;visitor&quot;:20\r\n                   }]\r\n    \t\t }, {\r\n                &quot;district&quot;:&quot;district 2&quot;,\r\n                &quot;cinemas&quot;:[\r\n                   {\r\n                      &quot;cinema&quot;: &quot;cinema 1&quot;\r\n                      &quot;movie&quot;:&quot;Sherlock&quot;,\r\n                      &quot;visitor&quot;:12\r\n                   },{\r\n                      &quot;cinema&quot;: &quot;cinema 2&quot;\r\n                      &quot;movie&quot;:&quot;Terminator&quot;,\r\n                      &quot;visitor&quot;:41\r\n                   },{\r\n                      &quot;cinema&quot;: &quot;cinema 2&quot;\r\n                      &quot;movie&quot;:&quot;Tarzan&quot;,\r\n                      &quot;visitor&quot;:24\r\n                   }]\r\n    \t\t\t}, {\r\n                &quot;district&quot;:&quot;district 3&quot;,\r\n                &quot;cinemas&quot;:[\r\n                   {\r\n                      &quot;cinema&quot;: &quot;cinema 1&quot;\r\n                      &quot;movie&quot;:&quot;Sherlock&quot;,\r\n                      &quot;visitor&quot;:12\r\n                   },{\r\n                      &quot;cinema&quot;: &quot;cinema 2&quot;\r\n                      &quot;movie&quot;:&quot;Terminator&quot;,\r\n                      &quot;visitor&quot;:41\r\n                   }]\r\n    \t\t\t}]\r\n    \t},    {\r\n          &quot;country&quot;:&quot;country 2&quot;,\r\n          &quot;districs&quot;:[\r\n             {\r\n                &quot;district&quot;:&quot;district 1&quot;,\r\n                &quot;cinemas&quot;:[\r\n                   {\r\n                      &quot;cinema&quot;: &quot;cinema 2&quot;\r\n                      &quot;movie&quot;:&quot;Terminator&quot;,\r\n                      &quot;visitor&quot;:40\r\n                   },{\r\n                      &quot;cinema&quot;: &quot;cinema 2&quot;\r\n                      &quot;movie&quot;:&quot;Tarzan&quot;,\r\n                      &quot;visitor&quot;:20\r\n                   }]\r\n    \t\t }, {\r\n                &quot;district&quot;:&quot;district 2&quot;,\r\n                &quot;cinemas&quot;:[\r\n                   {\r\n                      &quot;cinema&quot;: &quot;cinema 1&quot;\r\n                      &quot;movie&quot;:&quot;Sherlock&quot;,\r\n                      &quot;visitor&quot;:12\r\n                   },{\r\n                      &quot;cinema&quot;: &quot;cinema 2&quot;\r\n                      &quot;movie&quot;:&quot;Tarzan&quot;,\r\n                      &quot;visitor&quot;:24\r\n                   }]\r\n    \t\t\t}, {\r\n                &quot;district&quot;:&quot;district 3&quot;,\r\n                &quot;cinemas&quot;:[\r\n                   {\r\n                      &quot;cinema&quot;: &quot;cinema 1&quot;\r\n                      &quot;movie&quot;:&quot;Sherlock&quot;,\r\n                      &quot;visitor&quot;:12\r\n                   },{\r\n                      &quot;cinema&quot;: &quot;cinema 2&quot;\r\n                      &quot;movie&quot;:&quot;Terminator&quot;,\r\n                      &quot;visitor&quot;:41\r\n                   }]\r\n    \t\t\t}]\r\n    \t}]\r\n\r\n And then I want to display like this :\r\n\r\n    ---------------------------------------------------------------------------------------------------------\r\n    Movies     |country 1                                   | country 2                                     |\r\n               ----------------------------------------------------------------------------------------------\r\n               |district 1   | district 2  | district 3   | district 1    | district 2    | district 3      |\r\n    ---------------------------------------------------------------------------------------------------------\r\n    Sherlock   | 30          | 12          | 12           | 0             | 12            | 12              |\r\n    Terminat   | 40          | 41          | 41           | 40            | 0             | 41              |\r\n    Tarzan     | 20          | 24          | 0            | 20            | 24            | 0               |\r\n    ---------------------------------------------------------------------------------------------------------\r\n\r\nHow I could achieve this in thymeleaf? \r\nMy code as below, but still cannot achieve this output. \r\n\r\n    &lt;table&gt;\r\n        \t&lt;thead&gt;\r\n              &lt;tr&gt;                    \r\n                  &lt;th:block th:each=&quot;data : ${countries}&quot;&gt;\r\n                       &lt;th th:colspan=&quot;${data.districts.size()}&quot; th:text=&quot;${data.country}&quot; &gt;&lt;/th&gt;\r\n                  &lt;/th:block&gt;\r\n              &lt;/tr&gt;\r\n              &lt;tr&gt;    \r\n                 &lt;th:block th:each=&quot;data : ${countries}&quot;&gt;\r\n                      &lt;th:block th:each=&quot;district :${data.districts}&quot;&gt;\r\n                          &lt;th th:text=&quot;${district.district}&quot;&gt;&lt;/th&gt;\r\n                       &lt;/th:block&gt;\r\n                  &lt;/th:block&gt;\r\n              &lt;/tr&gt;\r\n    \t&lt;thead&gt;\r\n            &lt;tbody&gt;\r\n               &lt;tr&gt;\r\n                 &lt;th:block th:each=&quot;data : ${countries}&quot;&gt;\r\n                     &lt;th:block th:each=&quot;district :${data.districts}&quot;&gt;\r\n                          &lt;th:block th:each=&quot;cinema :${district.cinemas}&quot;&gt;\r\n                             &lt;td th:text=&quot;${cinema.visitor}&quot; /&gt;\r\n                          &lt;/th:block&gt;\r\n                     &lt;/th:block&gt;\r\n                  &lt;/th:block&gt;\r\n              &lt;/tr&gt;\r\n            &lt;/tbody&gt;\r\n    &lt;/table&gt;\r\n\r\nPlease if anyone has any idea to solve this problem. \r\nBTW, for json I generated using spring rest. \r\nThanks a lot. ","title":"Thymeleaf dynamic header and content table from database","body":"<p>I am new in thymeleaf. I have question about dynamic table. Here is my case : </p>\n\n<pre><code>[\n   {\n      \"country\":\"country 1\",\n      \"districs\":[\n         {\n            \"district\":\"district 1\",\n            \"cinemas\":[\n               {\n                  \"cinema\": \"cinema 1\"\n                  \"movie\":\"Sherlock\",\n                  \"visitor\":30\n               },{\n                  \"cinema\": \"cinema 2\"\n                  \"movie\":\"Terminator\",\n                  \"visitor\":40\n               },{\n                  \"cinema\": \"cinema 2\"\n                  \"movie\":\"Tarzan\",\n                  \"visitor\":20\n               }]\n         }, {\n            \"district\":\"district 2\",\n            \"cinemas\":[\n               {\n                  \"cinema\": \"cinema 1\"\n                  \"movie\":\"Sherlock\",\n                  \"visitor\":12\n               },{\n                  \"cinema\": \"cinema 2\"\n                  \"movie\":\"Terminator\",\n                  \"visitor\":41\n               },{\n                  \"cinema\": \"cinema 2\"\n                  \"movie\":\"Tarzan\",\n                  \"visitor\":24\n               }]\n            }, {\n            \"district\":\"district 3\",\n            \"cinemas\":[\n               {\n                  \"cinema\": \"cinema 1\"\n                  \"movie\":\"Sherlock\",\n                  \"visitor\":12\n               },{\n                  \"cinema\": \"cinema 2\"\n                  \"movie\":\"Terminator\",\n                  \"visitor\":41\n               }]\n            }]\n    },    {\n      \"country\":\"country 2\",\n      \"districs\":[\n         {\n            \"district\":\"district 1\",\n            \"cinemas\":[\n               {\n                  \"cinema\": \"cinema 2\"\n                  \"movie\":\"Terminator\",\n                  \"visitor\":40\n               },{\n                  \"cinema\": \"cinema 2\"\n                  \"movie\":\"Tarzan\",\n                  \"visitor\":20\n               }]\n         }, {\n            \"district\":\"district 2\",\n            \"cinemas\":[\n               {\n                  \"cinema\": \"cinema 1\"\n                  \"movie\":\"Sherlock\",\n                  \"visitor\":12\n               },{\n                  \"cinema\": \"cinema 2\"\n                  \"movie\":\"Tarzan\",\n                  \"visitor\":24\n               }]\n            }, {\n            \"district\":\"district 3\",\n            \"cinemas\":[\n               {\n                  \"cinema\": \"cinema 1\"\n                  \"movie\":\"Sherlock\",\n                  \"visitor\":12\n               },{\n                  \"cinema\": \"cinema 2\"\n                  \"movie\":\"Terminator\",\n                  \"visitor\":41\n               }]\n            }]\n    }]\n</code></pre>\n\n<p>And then I want to display like this :</p>\n\n<pre><code>---------------------------------------------------------------------------------------------------------\nMovies     |country 1                                   | country 2                                     |\n           ----------------------------------------------------------------------------------------------\n           |district 1   | district 2  | district 3   | district 1    | district 2    | district 3      |\n---------------------------------------------------------------------------------------------------------\nSherlock   | 30          | 12          | 12           | 0             | 12            | 12              |\nTerminat   | 40          | 41          | 41           | 40            | 0             | 41              |\nTarzan     | 20          | 24          | 0            | 20            | 24            | 0               |\n---------------------------------------------------------------------------------------------------------\n</code></pre>\n\n<p>How I could achieve this in thymeleaf? \nMy code as below, but still cannot achieve this output. </p>\n\n<pre><code>&lt;table&gt;\n        &lt;thead&gt;\n          &lt;tr&gt;                    \n              &lt;th:block th:each=\"data : ${countries}\"&gt;\n                   &lt;th th:colspan=\"${data.districts.size()}\" th:text=\"${data.country}\" &gt;&lt;/th&gt;\n              &lt;/th:block&gt;\n          &lt;/tr&gt;\n          &lt;tr&gt;    \n             &lt;th:block th:each=\"data : ${countries}\"&gt;\n                  &lt;th:block th:each=\"district :${data.districts}\"&gt;\n                      &lt;th th:text=\"${district.district}\"&gt;&lt;/th&gt;\n                   &lt;/th:block&gt;\n              &lt;/th:block&gt;\n          &lt;/tr&gt;\n    &lt;thead&gt;\n        &lt;tbody&gt;\n           &lt;tr&gt;\n             &lt;th:block th:each=\"data : ${countries}\"&gt;\n                 &lt;th:block th:each=\"district :${data.districts}\"&gt;\n                      &lt;th:block th:each=\"cinema :${district.cinemas}\"&gt;\n                         &lt;td th:text=\"${cinema.visitor}\" /&gt;\n                      &lt;/th:block&gt;\n                 &lt;/th:block&gt;\n              &lt;/th:block&gt;\n          &lt;/tr&gt;\n        &lt;/tbody&gt;\n&lt;/table&gt;\n</code></pre>\n\n<p>Please if anyone has any idea to solve this problem. \nBTW, for json I generated using spring rest. \nThanks a lot. </p>\n"},{"tags":["java","android","progress-bar","calculator"],"comments":[{"owner":{"account_id":7699298,"reputation":64,"user_id":5832512,"display_name":"pan he"},"score":0,"creation_date":1668579247,"post_id":74451641,"comment_id":131436908,"body_markdown":"can u put the xml file here?","body":"can u put the xml file here?"},{"owner":{"account_id":26818043,"reputation":1,"user_id":20407764,"display_name":"Arlexx Junior"},"score":0,"creation_date":1668583582,"post_id":74451641,"comment_id":131437928,"body_markdown":"sure, give me a second","body":"sure, give me a second"},{"owner":{"account_id":26818043,"reputation":1,"user_id":20407764,"display_name":"Arlexx Junior"},"score":0,"creation_date":1668698292,"post_id":74451641,"comment_id":131473920,"body_markdown":"hey i solved myself, i have anoher problem now","body":"hey i solved myself, i have anoher problem now"}],"owner":{"account_id":26818043,"reputation":1,"user_id":20407764,"display_name":"Arlexx Junior"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668698236,"creation_date":1668543333,"question_id":74451641,"body_markdown":"I need help with this, I made this calculator, and a progressbar , i need it to when its finish so i can click again and run again, i didnt found a way to do that, and do the same with anothr data or the same data as well\r\n\r\n```\r\n private TextView textResultado;\r\n    private TextView editpeso;\r\n    private TextView editaltura;\r\n    private Button botao;\r\n    private ProgressBar pb;\r\n    private TextView txt;\r\n    int i = 0;\r\n    Handler handler = new Handler();\r\n    String[] mensagens = {&quot;Preencha todos os campos!&quot;};\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        getSupportActionBar().hide();\r\n        iniciar();\r\n\r\n        botao.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                pb.setVisibility(View.VISIBLE);\r\n                String peso = editpeso.getText().toString();\r\n                String altura = editaltura.getText().toString();\r\n\r\n                if (peso.isEmpty() || altura.isEmpty()) {\r\n                    Snackbar snackbar = Snackbar.make(view, mensagens[0], Snackbar.LENGTH_SHORT);\r\n                    snackbar.setBackgroundTint(getResources().getColor(R.color.white));\r\n                    snackbar.setTextColor(getResources().getColor(R.color.black));\r\n                    snackbar.show();\r\n                }\r\n\r\n\r\n\r\n\r\n        new Thread(new Runnable() {\r\n            @Override\r\n            public void run() {calculadoramm(view);\r\n                while (i &lt; 100) {\r\n                    i += 1;\r\n                    try {\r\n                        Thread.sleep(60);\r\n                    } catch (InterruptedException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                    handler.post(new Runnable() {\r\n                        @Override\r\n                        public void run() {\r\n                            pb.setProgress(i);\r\n                            txt.setText(i + &quot;% Verificando...&quot;);\r\n                         if (i == pb.getMax())\r\n                                Toast.makeText(MainActivity.this, &quot;Completo!&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n\r\n                        }\r\n                    });\r\n                }\r\n\r\n            }\r\n        }).start();\r\n    }\r\n        });\r\n\r\n\r\n    }\r\n\r\n\r\n    private void iniciar() {\r\n\r\n        textResultado = findViewById(R.id.textResultado);\r\n        editpeso = findViewById(R.id.editpeso);\r\n        editaltura = findViewById(R.id.editaltura);\r\n        botao = (Button) findViewById(R.id.botao);\r\n        pb = (ProgressBar) findViewById(R.id.pb);\r\n        txt = (TextView) findViewById(R.id.txt);\r\n\r\n\r\n    }\r\n\r\n\r\n    public void calculadoramm(View view) {\r\n\r\n        double peso = Double.parseDouble(editpeso.getText().toString());\r\n        double altura = Double.parseDouble(editaltura.getText().toString());\r\n        double resultado = peso / (altura * altura);\r\n\r\n        //Se\r\n\r\n        if (resultado &lt;= 18.5) {\r\n            textResultado.setText(&quot;Abaixo do Peso!&quot;);\r\n            textResultado.setTextColor(getResources().getColor(android.R.color.holo_blue_bright));\r\n\r\n        }\r\n        if (resultado &lt;= 18.5 || resultado &gt;= 24.9) {\r\n            textResultado.setText(&quot;Peso normal!&quot;);\r\n            textResultado.setTextColor(getResources().getColor(android.R.color.holo_green_light));\r\n\r\n        }\r\n        if (resultado &lt;= 25 || resultado &gt;= 29.9) {\r\n            textResultado.setText(&quot;Excesso de peso!&quot;);\r\n            textResultado.setTextColor(getResources().getColor(android.R.color.holo_green_light));\r\n\r\n\r\n            if (resultado &lt;= 30 || resultado &gt;= 34.9) {\r\n                textResultado.setText(&quot;Obesidade nivel I!&quot;);\r\n                textResultado.setTextColor(getResources().getColor(android.R.color.holo_orange_light));\r\n\r\n                if (resultado &lt;= 35 || resultado &gt;= 39.9) {\r\n                    textResultado.setText(&quot;Obesidade nivel II!&quot;);\r\n                    textResultado.setTextColor(getResources().getColor(android.R.color.holo_red_light));\r\n\r\n                    if (resultado &gt;= 40) {\r\n                        textResultado.setText(&quot;Obesidade nivel III ou Morbida!&quot;);\r\n                        textResultado.setTextColor(getResources().getColor(android.R.color.holo_red_light));\r\n                    }\r\n\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n\r\n```\r\n\r\nI&#39;ve tried to add an Intent to start activity from Main to my results and None seems to work, and updated the code","title":"How to Re-Run my ProgressBar after its completes hi activity?","body":"<p>I need help with this, I made this calculator, and a progressbar , i need it to when its finish so i can click again and run again, i didnt found a way to do that, and do the same with anothr data or the same data as well</p>\n<pre><code> private TextView textResultado;\n    private TextView editpeso;\n    private TextView editaltura;\n    private Button botao;\n    private ProgressBar pb;\n    private TextView txt;\n    int i = 0;\n    Handler handler = new Handler();\n    String[] mensagens = {&quot;Preencha todos os campos!&quot;};\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        getSupportActionBar().hide();\n        iniciar();\n\n        botao.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                pb.setVisibility(View.VISIBLE);\n                String peso = editpeso.getText().toString();\n                String altura = editaltura.getText().toString();\n\n                if (peso.isEmpty() || altura.isEmpty()) {\n                    Snackbar snackbar = Snackbar.make(view, mensagens[0], Snackbar.LENGTH_SHORT);\n                    snackbar.setBackgroundTint(getResources().getColor(R.color.white));\n                    snackbar.setTextColor(getResources().getColor(R.color.black));\n                    snackbar.show();\n                }\n\n\n\n\n        new Thread(new Runnable() {\n            @Override\n            public void run() {calculadoramm(view);\n                while (i &lt; 100) {\n                    i += 1;\n                    try {\n                        Thread.sleep(60);\n                    } catch (InterruptedException e) {\n                        e.printStackTrace();\n                    }\n                    handler.post(new Runnable() {\n                        @Override\n                        public void run() {\n                            pb.setProgress(i);\n                            txt.setText(i + &quot;% Verificando...&quot;);\n                         if (i == pb.getMax())\n                                Toast.makeText(MainActivity.this, &quot;Completo!&quot;, Toast.LENGTH_SHORT).show();\n\n\n                        }\n                    });\n                }\n\n            }\n        }).start();\n    }\n        });\n\n\n    }\n\n\n    private void iniciar() {\n\n        textResultado = findViewById(R.id.textResultado);\n        editpeso = findViewById(R.id.editpeso);\n        editaltura = findViewById(R.id.editaltura);\n        botao = (Button) findViewById(R.id.botao);\n        pb = (ProgressBar) findViewById(R.id.pb);\n        txt = (TextView) findViewById(R.id.txt);\n\n\n    }\n\n\n    public void calculadoramm(View view) {\n\n        double peso = Double.parseDouble(editpeso.getText().toString());\n        double altura = Double.parseDouble(editaltura.getText().toString());\n        double resultado = peso / (altura * altura);\n\n        //Se\n\n        if (resultado &lt;= 18.5) {\n            textResultado.setText(&quot;Abaixo do Peso!&quot;);\n            textResultado.setTextColor(getResources().getColor(android.R.color.holo_blue_bright));\n\n        }\n        if (resultado &lt;= 18.5 || resultado &gt;= 24.9) {\n            textResultado.setText(&quot;Peso normal!&quot;);\n            textResultado.setTextColor(getResources().getColor(android.R.color.holo_green_light));\n\n        }\n        if (resultado &lt;= 25 || resultado &gt;= 29.9) {\n            textResultado.setText(&quot;Excesso de peso!&quot;);\n            textResultado.setTextColor(getResources().getColor(android.R.color.holo_green_light));\n\n\n            if (resultado &lt;= 30 || resultado &gt;= 34.9) {\n                textResultado.setText(&quot;Obesidade nivel I!&quot;);\n                textResultado.setTextColor(getResources().getColor(android.R.color.holo_orange_light));\n\n                if (resultado &lt;= 35 || resultado &gt;= 39.9) {\n                    textResultado.setText(&quot;Obesidade nivel II!&quot;);\n                    textResultado.setTextColor(getResources().getColor(android.R.color.holo_red_light));\n\n                    if (resultado &gt;= 40) {\n                        textResultado.setText(&quot;Obesidade nivel III ou Morbida!&quot;);\n                        textResultado.setTextColor(getResources().getColor(android.R.color.holo_red_light));\n                    }\n\n                }\n            }\n        }\n    }\n}\n\n\n</code></pre>\n<p>I've tried to add an Intent to start activity from Main to my results and None seems to work, and updated the code</p>\n"},{"tags":["java","parquet","bytearrayoutputstream"],"comments":[{"owner":{"account_id":7428434,"reputation":1471,"user_id":5650224,"display_name":"m4gic"},"score":0,"creation_date":1569934465,"post_id":58141248,"comment_id":102750047,"body_markdown":"Just implement the org.apache.parquet.io.InputFile interface, as the org.apache.parquet.hadoop.util.HadoopInputFile does. The only thing you have to do is to make a bytearray out of your outputstream, make a bytearrayinputstream out of it and pass it to org.apache.parquet.io.DelegatingSeekableInputStream","body":"Just implement the org.apache.parquet.io.InputFile interface, as the org.apache.parquet.hadoop.util.HadoopInputFile does. The only thing you have to do is to make a bytearray out of your outputstream, make a bytearrayinputstream out of it and pass it to org.apache.parquet.io.DelegatingSeekableInputStream"},{"owner":{"account_id":1529019,"reputation":2193,"user_id":1426724,"accept_rate":83,"display_name":"chrismead"},"score":0,"creation_date":1570218546,"post_id":58141248,"comment_id":102857025,"body_markdown":"Thanks for the tip, @m4gic.  I will try this once the bounty expires.","body":"Thanks for the tip, @m4gic.  I will try this once the bounty expires."}],"answers":[{"tags":[],"owner":{"account_id":7428434,"reputation":1471,"user_id":5650224,"display_name":"m4gic"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1599692152,"creation_date":1570398410,"answer_id":58261488,"question_id":58141248,"body_markdown":"So without deeper testing, I would try with this class (albeit the content of the outputstream should be parquet-compatible). I put there a streamId to make the identification of the processed bytearray easier (the ParquetFileReader prints the instance.toString() out if something went wrong).\r\n\r\n```java\r\npublic class ParquetStream implements InputFile {\r\n    private final String streamId;\r\n    private final byte[] data;\r\n\r\n    private static class SeekableByteArrayInputStream extends ByteArrayInputStream {\r\n        public SeekableByteArrayInputStream(byte[] buf) {\r\n            super(buf);\r\n        }\r\n\r\n        public void setPos(int pos) {\r\n            this.pos = pos;\r\n        }\r\n\r\n        public int getPos() {\r\n            return this.pos;\r\n        }\r\n    }\r\n\r\n    public ParquetStream(String streamId, ByteArrayOutputStream stream) {\r\n        this.streamId = streamId;\r\n        this.data = stream.toByteArray();\r\n    }\r\n\r\n    @Override\r\n    public long getLength() throws IOException {\r\n        return this.data.length;\r\n    }\r\n\r\n    @Override\r\n    public SeekableInputStream newStream() throws IOException {\r\n        return new DelegatingSeekableInputStream(new SeekableByteArrayInputStream(this.data)) {\r\n            @Override\r\n            public void seek(long newPos) throws IOException {\r\n                ((SeekableByteArrayInputStream) this.getStream()).setPos((int) newPos);\r\n            }\r\n\r\n            @Override\r\n            public long getPos() throws IOException {\r\n                return ((SeekableByteArrayInputStream) this.getStream()).getPos();\r\n            }\r\n        };\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;ParquetStream[&quot; + streamId + &quot;]&quot;;\r\n    }\r\n}\r\n","title":"Read parquet data from ByteArrayOutputStream instead of file","body":"<p>So without deeper testing, I would try with this class (albeit the content of the outputstream should be parquet-compatible). I put there a streamId to make the identification of the processed bytearray easier (the ParquetFileReader prints the instance.toString() out if something went wrong).</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ParquetStream implements InputFile {\n    private final String streamId;\n    private final byte[] data;\n\n    private static class SeekableByteArrayInputStream extends ByteArrayInputStream {\n        public SeekableByteArrayInputStream(byte[] buf) {\n            super(buf);\n        }\n\n        public void setPos(int pos) {\n            this.pos = pos;\n        }\n\n        public int getPos() {\n            return this.pos;\n        }\n    }\n\n    public ParquetStream(String streamId, ByteArrayOutputStream stream) {\n        this.streamId = streamId;\n        this.data = stream.toByteArray();\n    }\n\n    @Override\n    public long getLength() throws IOException {\n        return this.data.length;\n    }\n\n    @Override\n    public SeekableInputStream newStream() throws IOException {\n        return new DelegatingSeekableInputStream(new SeekableByteArrayInputStream(this.data)) {\n            @Override\n            public void seek(long newPos) throws IOException {\n                ((SeekableByteArrayInputStream) this.getStream()).setPos((int) newPos);\n            }\n\n            @Override\n            public long getPos() throws IOException {\n                return ((SeekableByteArrayInputStream) this.getStream()).getPos();\n            }\n        };\n    }\n\n    @Override\n    public String toString() {\n        return &quot;ParquetStream[&quot; + streamId + &quot;]&quot;;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1529019,"reputation":2193,"user_id":1426724,"accept_rate":83,"display_name":"chrismead"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5933,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":58261488,"answer_count":1,"score":12,"last_activity_date":1668698226,"creation_date":1569617786,"question_id":58141248,"body_markdown":"I would like to convert this code:\r\n```\r\nimport org.apache.hadoop.conf.Configuration;\r\nimport org.apache.hadoop.fs.Path;\r\nimport org.apache.parquet.column.page.PageReadStore;\r\nimport org.apache.parquet.example.data.simple.SimpleGroup;\r\nimport org.apache.parquet.example.data.simple.convert.GroupRecordConverter;\r\nimport org.apache.parquet.hadoop.ParquetFileReader;\r\nimport org.apache.parquet.hadoop.util.HadoopInputFile;\r\nimport org.apache.parquet.io.ColumnIOFactory;\r\nimport org.apache.parquet.io.MessageColumnIO;\r\nimport org.apache.parquet.io.RecordReader;\r\nimport org.apache.parquet.schema.MessageType;\r\n\r\nimport java.io.IOException;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\n\r\npublic class ParquetReaderUtils {\r\n\r\n    public static Parquet getParquetData(String filePath) throws IOException {\r\n        List&lt;SimpleGroup&gt; simpleGroups = new ArrayList&lt;&gt;();\r\n        ParquetFileReader reader = ParquetFileReader.open(HadoopInputFile.fromPath(new Path(filePath), new Configuration()));\r\n        MessageType schema = reader.getFooter().getFileMetaData().getSchema();\r\n        //List&lt;Type&gt; fields = schema.getFields();\r\n        PageReadStore pages;\r\n        while ((pages = reader.readNextRowGroup()) != null) {\r\n            long rows = pages.getRowCount();\r\n            MessageColumnIO columnIO = new ColumnIOFactory().getColumnIO(schema);\r\n            RecordReader recordReader = columnIO.getRecordReader(pages, new GroupRecordConverter(schema));\r\n\r\n            for (int i = 0; i &lt; rows; i++) {\r\n                SimpleGroup simpleGroup = (SimpleGroup) recordReader.read();\r\n                simpleGroups.add(simpleGroup);\r\n            }\r\n        }\r\n        reader.close();\r\n        return new Parquet(simpleGroups, schema);\r\n    }\r\n}\r\n```\r\n(which is from https://www.arm64.ca/post/reading-parquet-files-java/)\r\n\r\nto take a ByteArrayOutputStream parameter instead of a filePath.\r\n\r\nIs this possible?  I don&#39;t see a ParquetStreamReader in org.apache.parquet.hadoop.\r\n\r\nAny help is appreciated.  I am trying to write a test app for parquet coming from kafka and writing each of many messages out to a file is rather slow.","title":"Read parquet data from ByteArrayOutputStream instead of file","body":"<p>I would like to convert this code:</p>\n\n<pre><code>import org.apache.hadoop.conf.Configuration;\nimport org.apache.hadoop.fs.Path;\nimport org.apache.parquet.column.page.PageReadStore;\nimport org.apache.parquet.example.data.simple.SimpleGroup;\nimport org.apache.parquet.example.data.simple.convert.GroupRecordConverter;\nimport org.apache.parquet.hadoop.ParquetFileReader;\nimport org.apache.parquet.hadoop.util.HadoopInputFile;\nimport org.apache.parquet.io.ColumnIOFactory;\nimport org.apache.parquet.io.MessageColumnIO;\nimport org.apache.parquet.io.RecordReader;\nimport org.apache.parquet.schema.MessageType;\n\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.List;\n\n\npublic class ParquetReaderUtils {\n\n    public static Parquet getParquetData(String filePath) throws IOException {\n        List&lt;SimpleGroup&gt; simpleGroups = new ArrayList&lt;&gt;();\n        ParquetFileReader reader = ParquetFileReader.open(HadoopInputFile.fromPath(new Path(filePath), new Configuration()));\n        MessageType schema = reader.getFooter().getFileMetaData().getSchema();\n        //List&lt;Type&gt; fields = schema.getFields();\n        PageReadStore pages;\n        while ((pages = reader.readNextRowGroup()) != null) {\n            long rows = pages.getRowCount();\n            MessageColumnIO columnIO = new ColumnIOFactory().getColumnIO(schema);\n            RecordReader recordReader = columnIO.getRecordReader(pages, new GroupRecordConverter(schema));\n\n            for (int i = 0; i &lt; rows; i++) {\n                SimpleGroup simpleGroup = (SimpleGroup) recordReader.read();\n                simpleGroups.add(simpleGroup);\n            }\n        }\n        reader.close();\n        return new Parquet(simpleGroups, schema);\n    }\n}\n</code></pre>\n\n<p>(which is from <a href=\"https://www.arm64.ca/post/reading-parquet-files-java/\" rel=\"noreferrer\">https://www.arm64.ca/post/reading-parquet-files-java/</a>)</p>\n\n<p>to take a ByteArrayOutputStream parameter instead of a filePath.</p>\n\n<p>Is this possible?  I don't see a ParquetStreamReader in org.apache.parquet.hadoop.</p>\n\n<p>Any help is appreciated.  I am trying to write a test app for parquet coming from kafka and writing each of many messages out to a file is rather slow.</p>\n"},{"tags":["java","swagger","openapi","java-record"],"owner":{"account_id":25192367,"reputation":55,"user_id":19032411,"display_name":"stakeika"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":945,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1668698198,"creation_date":1668698198,"question_id":74477852,"body_markdown":"I have a controller below:\r\n\r\n    @RestController\r\n    @RequestMapping(value = &quot;/client&quot;, produces = APPLICATION_JSON_VALUE)\r\n    @Tag(name = &quot;Client&quot;)\r\n    @RequiredArgsConstructor\r\n    @Validated\r\n    public class PersonController {\r\n        @Operation(summary = &quot;Get client info&quot;)\r\n        @GetMapping\r\n        public PersonInfoResponse getPersonInfo(\r\n                @Valid PersonSearchParameters parameters\r\n        ) {\r\n           // some logic\r\n        }\r\n    }\r\n\r\nSearch parameters are grouped together inside `PersonSearchParameters` class. Java takes them as query parameters even without annotation `@RequestParam`\r\n\r\n    @ValidPersonSearchParameter // custom validation\r\n    public record PersonSearchParameters(\r\n            @Schema(required = true, description = &quot;Search key&quot;)\r\n            @NotNull SearchKey searchKey,\r\n\r\n            @Schema(required = true, description = &quot;Value&quot;)\r\n            @NotBlank String value,\r\n\r\n            @Schema(description = &quot;Birthday&quot;)\r\n            @DateTimeFormat(pattern = &quot;yyyy-MM-dd&quot;) LocalDate birthday\r\n    ) {\r\n    }\r\n\r\nI want to have Schema description right inside the request in Swagger as it is for JSON request body.\r\n\r\n[![image from the internet][1]][1]\r\n\r\n\r\nBut I only have an example value. By the way, name &quot;parameters&quot; was given automatically even before I specified it.\r\n\r\n[![example value][2]][2]\r\n\r\n\r\nAnd I also can scroll down the page and see documentation on PersonSearchParameters\r\n[![schema described separately][3]][3]\r\n\r\nDo you know how to put them together? My try was like that, but it didn&#39;t help:\r\n\r\n    @Parameters({\r\n            @Parameter(name = &quot;parameters&quot;, description = &quot;Search parameters&quot;, required = true,\r\n                    schema = @Schema(implementation = PersonSearchParameters.class))\r\n    })\r\n    public PersonInfoResponse getPersonInfo(\r\n            @Valid @RequestParam(&quot;parameters&quot;) PersonSearchParameters parameters\r\n\r\nHere I added `@Parameters` description on my controller method and `@RequestParam(&quot;parameters&quot;)` on the argument. I hoped that `schema = @Schema...` would help, but it didn&#39;t. Any ideas?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/MDy5X.png\r\n  [2]: https://i.stack.imgur.com/yFbMp.png\r\n  [3]: https://i.stack.imgur.com/wxTCd.png","title":"Add Swagger 3 OpenAPI documentation on RequestParams packed into java record","body":"<p>I have a controller below:</p>\n<pre><code>@RestController\n@RequestMapping(value = &quot;/client&quot;, produces = APPLICATION_JSON_VALUE)\n@Tag(name = &quot;Client&quot;)\n@RequiredArgsConstructor\n@Validated\npublic class PersonController {\n    @Operation(summary = &quot;Get client info&quot;)\n    @GetMapping\n    public PersonInfoResponse getPersonInfo(\n            @Valid PersonSearchParameters parameters\n    ) {\n       // some logic\n    }\n}\n</code></pre>\n<p>Search parameters are grouped together inside <code>PersonSearchParameters</code> class. Java takes them as query parameters even without annotation <code>@RequestParam</code></p>\n<pre><code>@ValidPersonSearchParameter // custom validation\npublic record PersonSearchParameters(\n        @Schema(required = true, description = &quot;Search key&quot;)\n        @NotNull SearchKey searchKey,\n\n        @Schema(required = true, description = &quot;Value&quot;)\n        @NotBlank String value,\n\n        @Schema(description = &quot;Birthday&quot;)\n        @DateTimeFormat(pattern = &quot;yyyy-MM-dd&quot;) LocalDate birthday\n) {\n}\n</code></pre>\n<p>I want to have Schema description right inside the request in Swagger as it is for JSON request body.</p>\n<p><a href=\"https://i.stack.imgur.com/MDy5X.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MDy5X.png\" alt=\"image from the internet\" /></a></p>\n<p>But I only have an example value. By the way, name &quot;parameters&quot; was given automatically even before I specified it.</p>\n<p><a href=\"https://i.stack.imgur.com/yFbMp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yFbMp.png\" alt=\"example value\" /></a></p>\n<p>And I also can scroll down the page and see documentation on PersonSearchParameters\n<a href=\"https://i.stack.imgur.com/wxTCd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wxTCd.png\" alt=\"schema described separately\" /></a></p>\n<p>Do you know how to put them together? My try was like that, but it didn't help:</p>\n<pre><code>@Parameters({\n        @Parameter(name = &quot;parameters&quot;, description = &quot;Search parameters&quot;, required = true,\n                schema = @Schema(implementation = PersonSearchParameters.class))\n})\npublic PersonInfoResponse getPersonInfo(\n        @Valid @RequestParam(&quot;parameters&quot;) PersonSearchParameters parameters\n</code></pre>\n<p>Here I added <code>@Parameters</code> description on my controller method and <code>@RequestParam(&quot;parameters&quot;)</code> on the argument. I hoped that <code>schema = @Schema...</code> would help, but it didn't. Any ideas?</p>\n"},{"tags":["java","spring","spring-boot","spring-security"],"comments":[{"owner":{"display_name":"user10639668"},"score":0,"creation_date":1543847811,"post_id":53595574,"comment_id":94054249,"body_markdown":"The performance penalty is because it tries to authenticate with each request and fails. API works fine probably  because Spring Security actually doesn&#39;t protect your endpoints.","body":"The performance penalty is because it tries to authenticate with each request and fails. API works fine probably  because Spring Security actually doesn&#39;t protect your endpoints."},{"owner":{"account_id":4671837,"reputation":390,"user_id":3783432,"accept_rate":80,"display_name":"Dynamite"},"score":0,"creation_date":1543847966,"post_id":53595574,"comment_id":94054333,"body_markdown":"@EugenCovaci So can I disable Spring internal filters and use only mine ?","body":"@EugenCovaci So can I disable Spring internal filters and use only mine ?"},{"owner":{"display_name":"user10639668"},"score":0,"creation_date":1543848148,"post_id":53595574,"comment_id":94054451,"body_markdown":"No, as a first step,  try to log the `List&lt;ApiUser&gt; users`, maybe in production the list in not as expected.","body":"No, as a first step,  try to log the <code>List&lt;ApiUser&gt; users</code>, maybe in production the list in not as expected."},{"owner":{"account_id":4671837,"reputation":390,"user_id":3783432,"accept_rate":80,"display_name":"Dynamite"},"score":0,"creation_date":1543848642,"post_id":53595574,"comment_id":94054788,"body_markdown":"@EugenCovaci It is correct because API authentication works fine (I mean credentials are effectively required and wrong user/psw ends in 401)","body":"@EugenCovaci It is correct because API authentication works fine (I mean credentials are effectively required and wrong user/psw ends in 401)"},{"owner":{"account_id":2774008,"reputation":18025,"user_id":2387977,"accept_rate":69,"display_name":"Dherik"},"score":0,"creation_date":1543848728,"post_id":53595574,"comment_id":94054837,"body_markdown":"Hi! Can you show the entire `UsernameNotFoundExcption` stacktrace error?","body":"Hi! Can you show the entire <code>UsernameNotFoundExcption</code> stacktrace error?"},{"owner":{"account_id":4671837,"reputation":390,"user_id":3783432,"accept_rate":80,"display_name":"Dynamite"},"score":0,"creation_date":1543849104,"post_id":53595574,"comment_id":94055066,"body_markdown":"@Dherik Have fun ;)","body":"@Dherik Have fun ;)"},{"owner":{"display_name":"user10639668"},"score":0,"creation_date":1543850280,"post_id":53595574,"comment_id":94055814,"body_markdown":"Please run it in debug mode.","body":"Please run it in debug mode."}],"answers":[{"tags":[],"owner":{"account_id":134781,"reputation":105,"user_id":337156,"display_name":"comrad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1543849292,"creation_date":1543849292,"answer_id":53596378,"question_id":53595574,"body_markdown":"You are Performing security checks on your resources and other files as well. You should exclude them to be authenticated at all.\r\n\r\nHave a look here: https://stackoverflow.com/questions/3394657/spring-security-how-to-exclude-certain-resources","title":"Spring security - Errors causes performance issues","body":"<p>You are Performing security checks on your resources and other files as well. You should exclude them to be authenticated at all.</p>\n\n<p>Have a look here: <a href=\"https://stackoverflow.com/questions/3394657/spring-security-how-to-exclude-certain-resources\">Spring Security: how to exclude certain resources?</a></p>\n"},{"tags":[],"owner":{"account_id":2588110,"reputation":7132,"user_id":2243324,"display_name":"jzheaux"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1543947719,"creation_date":1543855991,"answer_id":53598286,"question_id":53595574,"body_markdown":"I believe the reason that it is taking 500ms is due to password encoding. BCrypt is an encoding mechanism that is designed to make authentication take longer in order to mitigate brute force attacks.\r\n\r\nTypically, this performance issue is solved by exchanging long-lived credentials (like passwords) with short-lived ones like tokens. [OAuth][1] is a framework that attempts to standardize this practice. [Spring Security 5.1 introduces support for protecting APIs with OAuth 2.0][2]. This won&#39;t immediately fix your performance issue since it may require introducing more infrastructure, but it is probably a better security design choice in the long term.\r\n\r\nAs an alternative, you could use a weaker encoder or possibly fewer rounds of BCrypt, but note that both of these are a performance-security tradeoff. You&#39;d change out your `BCryptPasswordEncoder` for something else, e.g.:\r\n\r\n    @Bean\r\n    public PasswordEncoder encoder() {\r\n        // ...\r\n    }\r\n\r\n**EDIT**: Glad you found the issue! Tangentially, I&#39;d recommend cleaning up the way that you are describing your authentication manager. It can be replaced with a `UserDetailsService`:\r\n\r\n    @Bean\r\n    @Override\r\n    public UserDetailsService userDetailsService() {\r\n        Resource confFile = resourceLoader.getResource(&quot;classpath:users.list&quot;);\r\n        Collection&lt;UserDetails&gt; users = ApiUtils.getUsersFromFile(confFile)\r\n            .stream().map(this::toUserDetails)\r\n            .collect(Collectors.toList());\r\n        return new InMemoryUserDetailsManager(users);\r\n    }\r\n\r\n    private UserDetails toUserDetails(ApiUser apiUser) {\r\n        UserBuilder builder = User.builder()\r\n            .username(apiUser.username)\r\n            .password(apiUser.password);\r\n        return apiUser.admin ?\r\n            builder.roles(&quot;USER&quot;, &quot;ADMIN&quot;).build() :\r\n            builder.roles(&quot;USER&quot;).build();\r\n    }\r\n\r\nThis is nice because it has a smaller configuration footprint (an authentication manager is a &quot;bigger&quot; thing than a user details service). If you are just wanting to supply users, then it is more typical to [override the `UserDetailsService`][3] instead of the `AuthenticationManager`.\r\n\r\n\r\n  [1]: https://oauth.net/2/\r\n  [2]: https://github.com/spring-projects/spring-security/tree/5.1.2.RELEASE/samples/boot/oauth2resourceserver\r\n  [3]: https://docs.spring.io/spring-security/site/docs/current/reference/htmlsingle/#jc-authentication-inmemory","title":"Spring security - Errors causes performance issues","body":"<p>I believe the reason that it is taking 500ms is due to password encoding. BCrypt is an encoding mechanism that is designed to make authentication take longer in order to mitigate brute force attacks.</p>\n\n<p>Typically, this performance issue is solved by exchanging long-lived credentials (like passwords) with short-lived ones like tokens. <a href=\"https://oauth.net/2/\" rel=\"nofollow noreferrer\">OAuth</a> is a framework that attempts to standardize this practice. <a href=\"https://github.com/spring-projects/spring-security/tree/5.1.2.RELEASE/samples/boot/oauth2resourceserver\" rel=\"nofollow noreferrer\">Spring Security 5.1 introduces support for protecting APIs with OAuth 2.0</a>. This won't immediately fix your performance issue since it may require introducing more infrastructure, but it is probably a better security design choice in the long term.</p>\n\n<p>As an alternative, you could use a weaker encoder or possibly fewer rounds of BCrypt, but note that both of these are a performance-security tradeoff. You'd change out your <code>BCryptPasswordEncoder</code> for something else, e.g.:</p>\n\n<pre><code>@Bean\npublic PasswordEncoder encoder() {\n    // ...\n}\n</code></pre>\n\n<p><strong>EDIT</strong>: Glad you found the issue! Tangentially, I'd recommend cleaning up the way that you are describing your authentication manager. It can be replaced with a <code>UserDetailsService</code>:</p>\n\n<pre><code>@Bean\n@Override\npublic UserDetailsService userDetailsService() {\n    Resource confFile = resourceLoader.getResource(\"classpath:users.list\");\n    Collection&lt;UserDetails&gt; users = ApiUtils.getUsersFromFile(confFile)\n        .stream().map(this::toUserDetails)\n        .collect(Collectors.toList());\n    return new InMemoryUserDetailsManager(users);\n}\n\nprivate UserDetails toUserDetails(ApiUser apiUser) {\n    UserBuilder builder = User.builder()\n        .username(apiUser.username)\n        .password(apiUser.password);\n    return apiUser.admin ?\n        builder.roles(\"USER\", \"ADMIN\").build() :\n        builder.roles(\"USER\").build();\n}\n</code></pre>\n\n<p>This is nice because it has a smaller configuration footprint (an authentication manager is a \"bigger\" thing than a user details service). If you are just wanting to supply users, then it is more typical to <a href=\"https://docs.spring.io/spring-security/site/docs/current/reference/htmlsingle/#jc-authentication-inmemory\" rel=\"nofollow noreferrer\">override the <code>UserDetailsService</code></a> instead of the <code>AuthenticationManager</code>.</p>\n"},{"tags":[],"owner":{"account_id":4671837,"reputation":390,"user_id":3783432,"accept_rate":80,"display_name":"Dynamite"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1543930688,"creation_date":1543930688,"answer_id":53614205,"question_id":53595574,"body_markdown":"Okay, after a lot of debug, I found the problem !\r\n\r\nThe issue is in the code I use to fill the in memory authenticator:\r\n\r\n\r\n    for(ApiUser u : users){\r\n    \t// Add the username/password to the in-memory authentication manager\r\n    \tif (u.admin)\r\n    \t\tauth.inMemoryAuthentication().withUser(u.username).password(u.password).roles(&quot;USER&quot;, &quot;ADMIN&quot;);\r\n    \telse\r\n    \t\tauth.inMemoryAuthentication().withUser(u.username).password(u.password).roles(&quot;USER&quot;);\r\n    }\r\n\r\nThe fact of calling `auth.inMemoryAuthentication()` many times creates a new `InMemoryUserDetailsManagerConfigurer&lt;AuthenticationManagerBuilder&gt;` on each time ([Spring code][1]), and so we have as many different `AuthenticationManager` as users (one user per each) so the authentication process is performed multiple times for each requests.\r\n\r\nHere is how I fixed the bug:\r\n\r\n    @Autowired\r\n    public void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\r\n    \t// Load users file\r\n    \tResource confFile = resourceLoader.getResource(&quot;classpath:users.list&quot;);\r\n    \r\n    \t// Returns users from the configuration file &lt;username, password (BCrypted), admin (boolean)&gt;\r\n    \tList&lt;ApiUser&gt; users = ApiUtils.getUsersFromFile(confFile);\r\n    \t\r\n    \t@SuppressWarnings(&quot;rawtypes&quot;)\r\n    \tUserDetailsBuilder udb = null;\r\n    \r\n    \tfor(ApiUser u : users){\r\n    \t\t// Add the username/password to the in-memory authentication manager\r\n    \t\tif (udb == null)\r\n    \t\t\tudb = auth.inMemoryAuthentication().withUser(u.username).password(u.password);\r\n    \t\telse\r\n    \t\t\tudb = udb.and().withUser(u.username).password(u.password);\r\n    \r\n    \t\tif (u.admin)\r\n    \t\t\tudb.roles(&quot;USER&quot;, &quot;ADMIN&quot;);\r\n    \t\telse\r\n    \t\t\tudb.roles(&quot;USER&quot;);\r\n    \t}\r\n    }\r\n\r\nNow my average response time is 80ms\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-security/blob/3c35f4cfab2838e5b45357332d607adf91332f33/config/src/main/java/org/springframework/security/config/annotation/authentication/builders/AuthenticationManagerBuilder.java#L132","title":"Spring security - Errors causes performance issues","body":"<p>Okay, after a lot of debug, I found the problem !</p>\n\n<p>The issue is in the code I use to fill the in memory authenticator:</p>\n\n<pre><code>for(ApiUser u : users){\n    // Add the username/password to the in-memory authentication manager\n    if (u.admin)\n        auth.inMemoryAuthentication().withUser(u.username).password(u.password).roles(\"USER\", \"ADMIN\");\n    else\n        auth.inMemoryAuthentication().withUser(u.username).password(u.password).roles(\"USER\");\n}\n</code></pre>\n\n<p>The fact of calling <code>auth.inMemoryAuthentication()</code> many times creates a new <code>InMemoryUserDetailsManagerConfigurer&lt;AuthenticationManagerBuilder&gt;</code> on each time (<a href=\"https://github.com/spring-projects/spring-security/blob/3c35f4cfab2838e5b45357332d607adf91332f33/config/src/main/java/org/springframework/security/config/annotation/authentication/builders/AuthenticationManagerBuilder.java#L132\" rel=\"nofollow noreferrer\">Spring code</a>), and so we have as many different <code>AuthenticationManager</code> as users (one user per each) so the authentication process is performed multiple times for each requests.</p>\n\n<p>Here is how I fixed the bug:</p>\n\n<pre><code>@Autowired\npublic void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\n    // Load users file\n    Resource confFile = resourceLoader.getResource(\"classpath:users.list\");\n\n    // Returns users from the configuration file &lt;username, password (BCrypted), admin (boolean)&gt;\n    List&lt;ApiUser&gt; users = ApiUtils.getUsersFromFile(confFile);\n\n    @SuppressWarnings(\"rawtypes\")\n    UserDetailsBuilder udb = null;\n\n    for(ApiUser u : users){\n        // Add the username/password to the in-memory authentication manager\n        if (udb == null)\n            udb = auth.inMemoryAuthentication().withUser(u.username).password(u.password);\n        else\n            udb = udb.and().withUser(u.username).password(u.password);\n\n        if (u.admin)\n            udb.roles(\"USER\", \"ADMIN\");\n        else\n            udb.roles(\"USER\");\n    }\n}\n</code></pre>\n\n<p>Now my average response time is 80ms</p>\n"}],"owner":{"account_id":4671837,"reputation":390,"user_id":3783432,"accept_rate":80,"display_name":"Dynamite"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2300,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":53614205,"answer_count":3,"score":1,"last_activity_date":1668698094,"creation_date":1543846329,"question_id":53595574,"body_markdown":"I&#39;m facing an issue with a SpringBoot application. My ICS reports **high response times** on this API **but my code metrics says it&#39;s all fine**, for example a query which is sent to my API takes only 50ms to run the &quot;business&quot; code but the effective response takes more than 500ms !\r\n\r\nThe internal logs of my JVM says that on each request, I have a &quot;**UsernameNotFoundExcption**&quot; even if credentials are correct and API works fine. That&#39;s why I think my problem comes from SpringSecurity layer but I can&#39;t identify the cause.\r\n\r\nMy entry point:\r\n\r\n    @Component\r\n    public class BasicAuthenticationPoint extends BasicAuthenticationEntryPoint {\r\n    \t@Override\r\n    \tpublic void commence(HttpServletRequest request, HttpServletResponse response, AuthenticationException authEx)\r\n    \t\t\tthrows IOException, ServletException {\r\n    \t\tresponse.addHeader(&quot;WWW-Authenticate&quot;, &quot;Basic realm=&quot; + getRealmName());\r\n    \t\tresponse.setStatus(HttpServletResponse.SC_UNAUTHORIZED);\r\n    \t\tresponse.setCharacterEncoding(&quot;utf-8&quot;);\r\n    \t\tPrintWriter writer = response.getWriter();\r\n    \t\twriter.println(&quot;HTTP Status 401 - &quot; + authEx.getMessage());\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void afterPropertiesSet() throws Exception {\r\n    \t\tsetRealmName(&quot;MYAPI&quot;);\r\n    \t\tsuper.afterPropertiesSet();\r\n    \t}\r\n    }\r\n\r\nAnd my adapter:\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class SpringSecurityConfig extends WebSecurityConfigurerAdapter {\r\n    \r\n    \t@Autowired\r\n    \tprivate BasicAuthenticationPoint basicAuthenticationPoint;\r\n    \r\n    \t@Bean\r\n    \tpublic BCryptPasswordEncoder encoder() {\r\n    \t\treturn new BCryptPasswordEncoder();\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tprotected void configure(HttpSecurity http) throws Exception {\r\n    \t\tHttpSecurity httpSec = http.csrf().disable();\r\n    \t\thttpSec = httpSec.authorizeRequests()\r\n    \t\t\t\t.antMatchers(&quot;/my-business-resources/**&quot;).hasRole(&quot;USER&quot;)\r\n    \t\t\t\t.antMatchers(&quot;/actuator/**&quot;).hasRole(&quot;ADMIN&quot;)\r\n    \t\t\t\t.and();\r\n    \t\thttpSec.httpBasic().authenticationEntryPoint(basicAuthenticationPoint).and()\r\n    \t\t.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n    \t}\r\n    \r\n    \t@Autowired\r\n    \tpublic void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\r\n    \t\t// Load users file\r\n    \t\tResource confFile = resourceLoader.getResource(&quot;classpath:users.list&quot;);\r\n    \t\t\r\n    \t\t// Returns users from the configuration file &lt;username, password (BCrypted), admin (boolean)&gt;\r\n    \t\tList&lt;ApiUser&gt; users = ApiUtils.getUsersFromFile(confFile);\r\n    \t\t\r\n    \t\tfor(ApiUser u : users){\r\n    \t\t\t// Add the username/password to the in-memory authentication manager\r\n    \t\t\tif (u.admin)\r\n    \t\t\t\tauth.inMemoryAuthentication().withUser(u.username).password(u.password).roles(&quot;USER&quot;, &quot;ADMIN&quot;);\r\n    \t\t\telse\r\n    \t\t\t\tauth.inMemoryAuthentication().withUser(u.username).password(u.password).roles(&quot;USER&quot;);\r\n    \r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nDid I miss something?\r\n\r\n**PS:** My Spring Boot application is packaged as a WAR and executed inside a Tomcat server for standardization purposes.\r\n\r\n**EDIT:**\r\n\r\nHere&#39;s the full UsernameNotFound stacktrace (ICS formatted):\r\n\r\n    Exception Details\r\n    Type:\tUsernameNotFoundException\r\n    Exception Class:\torg.springframework.security.core.userdetails.UsernameNotFoundException\r\n    API:\tException\r\n    Thread Name:\thttps-openssl-apr-9343-exec-10 &lt;522634598&gt;\r\n    \r\n    Exception StackTrace\r\n    Method\tClass\tLine\tFile Name\r\n    loadUserByUsername\torg.springframework.security.provisioning.InMemoryUserDetailsManager\t146\t&lt;unknown&gt;\r\n    retrieveUser\torg.springframework.security.authentication.dao.DaoAuthenticationProvider\t104\t&lt;unknown&gt;\r\n    authenticate\torg.springframework.security.authentication.dao.AbstractUserDetailsAuthenticationProvider\t144\t&lt;unknown&gt;\r\n    authenticate\torg.springframework.security.authentication.ProviderManager\t174\t&lt;unknown&gt;\r\n    authenticate\torg.springframework.security.authentication.ProviderManager\t199\t&lt;unknown&gt;\r\n    doFilterInternal\torg.springframework.security.web.authentication.www.BasicAuthenticationFilter\t180\t&lt;unknown&gt;\r\n    doFilter\torg.springframework.web.filter.OncePerRequestFilter\t107\t&lt;unknown&gt;\r\n    doFilter\torg.springframework.security.web.FilterChainProxy$VirtualFilterChain\t334\t&lt;unknown&gt;\r\n    doFilter\torg.springframework.security.web.authentication.logout.LogoutFilter\t116\t&lt;unknown&gt;\r\n    doFilter\torg.springframework.security.web.FilterChainProxy$VirtualFilterChain\t334\t&lt;unknown&gt;\r\n    doFilterInternal\torg.springframework.security.web.header.HeaderWriterFilter\t66\t&lt;unknown&gt;\r\n    doFilter\torg.springframework.web.filter.OncePerRequestFilter\t107\t&lt;unknown&gt;\r\n    doFilter\torg.springframework.security.web.FilterChainProxy$VirtualFilterChain\t334\t&lt;unknown&gt;\r\n    doFilter\torg.springframework.security.web.context.SecurityContextPersistenceFilter\t105\t&lt;unknown&gt;\r\n    doFilter\torg.springframework.security.web.FilterChainProxy$VirtualFilterChain\t334\t&lt;unknown&gt;\r\n    doFilterInternal\torg.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter\t56\t&lt;unknown&gt;\r\n    doFilter\torg.springframework.web.filter.OncePerRequestFilter\t107\t&lt;unknown&gt;\r\n    doFilter\torg.springframework.security.web.FilterChainProxy$VirtualFilterChain\t334\t&lt;unknown&gt;\r\n    doFilterInternal\torg.springframework.security.web.FilterChainProxy\t215\t&lt;unknown&gt;\r\n    doFilter\torg.springframework.security.web.FilterChainProxy\t178\t&lt;unknown&gt;\r\n    invokeDelegate\torg.springframework.web.filter.DelegatingFilterProxy\t357\t&lt;unknown&gt;\r\n    doFilter\torg.springframework.web.filter.DelegatingFilterProxy\t270\t&lt;unknown&gt;\r\n    internalDoFilter\torg.apache.catalina.core.ApplicationFilterChain\t193\t&lt;unknown&gt;\r\n    doFilter\torg.apache.catalina.core.ApplicationFilterChain\t166\t&lt;unknown&gt;\r\n    doFilter\torg.springframework.boot.web.servlet.support.ErrorPageFilter\t130\t&lt;unknown&gt;\r\n    access$000\torg.springframework.boot.web.servlet.support.ErrorPageFilter\t66\t&lt;unknown&gt;\r\n    doFilterInternal\torg.springframework.boot.web.servlet.support.ErrorPageFilter$1\t105\t&lt;unknown&gt;\r\n    doFilter\torg.springframework.web.filter.OncePerRequestFilter\t107\t&lt;unknown&gt;\r\n    doFilter\torg.springframework.boot.web.servlet.support.ErrorPageFilter\t123\t&lt;unknown&gt;\r\n    internalDoFilter\torg.apache.catalina.core.ApplicationFilterChain\t193\t&lt;unknown&gt;\r\n    doFilter\torg.apache.catalina.core.ApplicationFilterChain\t166\t&lt;unknown&gt;\r\n    filterAndRecordMetrics\torg.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter\t155\t&lt;unknown&gt;\r\n    filterAndRecordMetrics\torg.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter\t123\t&lt;unknown&gt;\r\n    doFilterInternal\torg.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter\t108\t&lt;unknown&gt;\r\n    doFilter\torg.springframework.web.filter.OncePerRequestFilter\t107\t&lt;unknown&gt;\r\n    internalDoFilter\torg.apache.catalina.core.ApplicationFilterChain\t193\t&lt;unknown&gt;\r\n    doFilter\torg.apache.catalina.core.ApplicationFilterChain\t166\t&lt;unknown&gt;\r\n    doFilterInternal\torg.springframework.web.filter.CharacterEncodingFilter\t200\t&lt;unknown&gt;\r\n    doFilter\torg.springframework.web.filter.OncePerRequestFilter\t107\t&lt;unknown&gt;\r\n    internalDoFilter\torg.apache.catalina.core.ApplicationFilterChain\t193\t&lt;unknown&gt;\r\n\r\n","title":"Spring security - Errors causes performance issues","body":"<p>I'm facing an issue with a SpringBoot application. My ICS reports <strong>high response times</strong> on this API <strong>but my code metrics says it's all fine</strong>, for example a query which is sent to my API takes only 50ms to run the &quot;business&quot; code but the effective response takes more than 500ms !</p>\n<p>The internal logs of my JVM says that on each request, I have a &quot;<strong>UsernameNotFoundExcption</strong>&quot; even if credentials are correct and API works fine. That's why I think my problem comes from SpringSecurity layer but I can't identify the cause.</p>\n<p>My entry point:</p>\n<pre><code>@Component\npublic class BasicAuthenticationPoint extends BasicAuthenticationEntryPoint {\n    @Override\n    public void commence(HttpServletRequest request, HttpServletResponse response, AuthenticationException authEx)\n            throws IOException, ServletException {\n        response.addHeader(&quot;WWW-Authenticate&quot;, &quot;Basic realm=&quot; + getRealmName());\n        response.setStatus(HttpServletResponse.SC_UNAUTHORIZED);\n        response.setCharacterEncoding(&quot;utf-8&quot;);\n        PrintWriter writer = response.getWriter();\n        writer.println(&quot;HTTP Status 401 - &quot; + authEx.getMessage());\n    }\n\n    @Override\n    public void afterPropertiesSet() throws Exception {\n        setRealmName(&quot;MYAPI&quot;);\n        super.afterPropertiesSet();\n    }\n}\n</code></pre>\n<p>And my adapter:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class SpringSecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Autowired\n    private BasicAuthenticationPoint basicAuthenticationPoint;\n\n    @Bean\n    public BCryptPasswordEncoder encoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        HttpSecurity httpSec = http.csrf().disable();\n        httpSec = httpSec.authorizeRequests()\n                .antMatchers(&quot;/my-business-resources/**&quot;).hasRole(&quot;USER&quot;)\n                .antMatchers(&quot;/actuator/**&quot;).hasRole(&quot;ADMIN&quot;)\n                .and();\n        httpSec.httpBasic().authenticationEntryPoint(basicAuthenticationPoint).and()\n        .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n    }\n\n    @Autowired\n    public void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\n        // Load users file\n        Resource confFile = resourceLoader.getResource(&quot;classpath:users.list&quot;);\n        \n        // Returns users from the configuration file &lt;username, password (BCrypted), admin (boolean)&gt;\n        List&lt;ApiUser&gt; users = ApiUtils.getUsersFromFile(confFile);\n        \n        for(ApiUser u : users){\n            // Add the username/password to the in-memory authentication manager\n            if (u.admin)\n                auth.inMemoryAuthentication().withUser(u.username).password(u.password).roles(&quot;USER&quot;, &quot;ADMIN&quot;);\n            else\n                auth.inMemoryAuthentication().withUser(u.username).password(u.password).roles(&quot;USER&quot;);\n\n        }\n    }\n}\n</code></pre>\n<p>Did I miss something?</p>\n<p><strong>PS:</strong> My Spring Boot application is packaged as a WAR and executed inside a Tomcat server for standardization purposes.</p>\n<p><strong>EDIT:</strong></p>\n<p>Here's the full UsernameNotFound stacktrace (ICS formatted):</p>\n<pre><code>Exception Details\nType:   UsernameNotFoundException\nException Class:    org.springframework.security.core.userdetails.UsernameNotFoundException\nAPI:    Exception\nThread Name:    https-openssl-apr-9343-exec-10 &lt;522634598&gt;\n\nException StackTrace\nMethod  Class   Line    File Name\nloadUserByUsername  org.springframework.security.provisioning.InMemoryUserDetailsManager    146 &lt;unknown&gt;\nretrieveUser    org.springframework.security.authentication.dao.DaoAuthenticationProvider   104 &lt;unknown&gt;\nauthenticate    org.springframework.security.authentication.dao.AbstractUserDetailsAuthenticationProvider   144 &lt;unknown&gt;\nauthenticate    org.springframework.security.authentication.ProviderManager 174 &lt;unknown&gt;\nauthenticate    org.springframework.security.authentication.ProviderManager 199 &lt;unknown&gt;\ndoFilterInternal    org.springframework.security.web.authentication.www.BasicAuthenticationFilter   180 &lt;unknown&gt;\ndoFilter    org.springframework.web.filter.OncePerRequestFilter 107 &lt;unknown&gt;\ndoFilter    org.springframework.security.web.FilterChainProxy$VirtualFilterChain    334 &lt;unknown&gt;\ndoFilter    org.springframework.security.web.authentication.logout.LogoutFilter 116 &lt;unknown&gt;\ndoFilter    org.springframework.security.web.FilterChainProxy$VirtualFilterChain    334 &lt;unknown&gt;\ndoFilterInternal    org.springframework.security.web.header.HeaderWriterFilter  66  &lt;unknown&gt;\ndoFilter    org.springframework.web.filter.OncePerRequestFilter 107 &lt;unknown&gt;\ndoFilter    org.springframework.security.web.FilterChainProxy$VirtualFilterChain    334 &lt;unknown&gt;\ndoFilter    org.springframework.security.web.context.SecurityContextPersistenceFilter   105 &lt;unknown&gt;\ndoFilter    org.springframework.security.web.FilterChainProxy$VirtualFilterChain    334 &lt;unknown&gt;\ndoFilterInternal    org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter 56  &lt;unknown&gt;\ndoFilter    org.springframework.web.filter.OncePerRequestFilter 107 &lt;unknown&gt;\ndoFilter    org.springframework.security.web.FilterChainProxy$VirtualFilterChain    334 &lt;unknown&gt;\ndoFilterInternal    org.springframework.security.web.FilterChainProxy   215 &lt;unknown&gt;\ndoFilter    org.springframework.security.web.FilterChainProxy   178 &lt;unknown&gt;\ninvokeDelegate  org.springframework.web.filter.DelegatingFilterProxy    357 &lt;unknown&gt;\ndoFilter    org.springframework.web.filter.DelegatingFilterProxy    270 &lt;unknown&gt;\ninternalDoFilter    org.apache.catalina.core.ApplicationFilterChain 193 &lt;unknown&gt;\ndoFilter    org.apache.catalina.core.ApplicationFilterChain 166 &lt;unknown&gt;\ndoFilter    org.springframework.boot.web.servlet.support.ErrorPageFilter    130 &lt;unknown&gt;\naccess$000  org.springframework.boot.web.servlet.support.ErrorPageFilter    66  &lt;unknown&gt;\ndoFilterInternal    org.springframework.boot.web.servlet.support.ErrorPageFilter$1  105 &lt;unknown&gt;\ndoFilter    org.springframework.web.filter.OncePerRequestFilter 107 &lt;unknown&gt;\ndoFilter    org.springframework.boot.web.servlet.support.ErrorPageFilter    123 &lt;unknown&gt;\ninternalDoFilter    org.apache.catalina.core.ApplicationFilterChain 193 &lt;unknown&gt;\ndoFilter    org.apache.catalina.core.ApplicationFilterChain 166 &lt;unknown&gt;\nfilterAndRecordMetrics  org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter    155 &lt;unknown&gt;\nfilterAndRecordMetrics  org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter    123 &lt;unknown&gt;\ndoFilterInternal    org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter    108 &lt;unknown&gt;\ndoFilter    org.springframework.web.filter.OncePerRequestFilter 107 &lt;unknown&gt;\ninternalDoFilter    org.apache.catalina.core.ApplicationFilterChain 193 &lt;unknown&gt;\ndoFilter    org.apache.catalina.core.ApplicationFilterChain 166 &lt;unknown&gt;\ndoFilterInternal    org.springframework.web.filter.CharacterEncodingFilter  200 &lt;unknown&gt;\ndoFilter    org.springframework.web.filter.OncePerRequestFilter 107 &lt;unknown&gt;\ninternalDoFilter    org.apache.catalina.core.ApplicationFilterChain 193 &lt;unknown&gt;\n</code></pre>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"score":1,"creation_date":1668693779,"post_id":74476426,"comment_id":131471944,"body_markdown":"Very interesting point. The Javadocs say nothing about it. But the stream, being not parallel, processes the items of the ordered list one-by-one. Then it puts them in the corresponding bucket which is a list too. It is reasonable to assume order is preserved. But, since it is not specified in contract, I would prefer to group-by first, and then sort the resulting lists individually.","body":"Very interesting point. The Javadocs say nothing about it. But the stream, being not parallel, processes the items of the ordered list one-by-one. Then it puts them in the corresponding bucket which is a list too. It is reasonable to assume order is preserved. But, since it is not specified in contract, I would prefer to group-by first, and then sort the resulting lists individually."},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1668694702,"post_id":74476426,"comment_id":131472372,"body_markdown":"@NikosParaskevopoulos the map used is probably a `HashMap`, which definitely does *not* preserve insertion order.","body":"@NikosParaskevopoulos the map used is probably a <code>HashMap</code>, which definitely does <i>not</i> preserve insertion order."},{"owner":{"account_id":23497752,"reputation":23,"user_id":17547980,"display_name":"Olliert"},"score":0,"creation_date":1669379583,"post_id":74476426,"comment_id":131634180,"body_markdown":"@RobSpoor I should clarify, the values in this map are themselves lists, and I am referring to the internal ordering of those lists.","body":"@RobSpoor I should clarify, the values in this map are themselves lists, and I am referring to the internal ordering of those lists."}],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1668698021,"creation_date":1668698021,"answer_id":74477818,"question_id":74476426,"body_markdown":"The [`groupingBy(function)`][1] collector is a short-hand for `groupingBy(function, toList())`. While there are no guarantees about the order of the map entries, the lists collected by `toList()` will reflect the encounter order.\r\n\r\nWhile it is not spelled out explicitly, how the `groupingBy` collector affects the operation of the downstream collector regarding the order, there is a remark in [the documentation][1] about the difference to `groupingByConcurrent(Function)`:\r\n\r\n&gt; For parallel stream pipelines, the `combiner` function operates by merging the keys from one map into another, which can be an expensive operation. If preservation of the order in which elements appear in the resulting `Map` collector is not required, using `groupingByConcurrent(Function)` may offer better parallel performance.\r\n\r\nThis hints at the fact that the `groupingBy` collector will preserve the order if the downstream collector is not *unordered*, whereas the `groupingByConcurrent` collector will enforce *unordered* behavior, even if the downstream collector would otherwise retain the order, like `toList()`.\r\n\r\nSo the following program\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n  System.out.println(isUnordered(Collectors.groupingBy(Function.identity())));\r\n  System.out.println(isUnordered(Collectors.groupingByConcurrent(Function.identity())));\r\n}\r\nstatic boolean isUnordered(Collector&lt;?, ?, ?&gt; c) {\r\n  return c.characteristics().contains(Collector.Characteristics.UNORDERED);\r\n}\r\n```\r\n\r\nwill print\r\n\r\n```none\r\nfalse\r\ntrue\r\n```\r\n\r\n---\r\n\r\nAs a reminder to those who didnt read carefully enough, were only talking about the order of the elements within the lists, not the order of the entries within the map.\r\n\r\nSo when we take the following program, for example\r\n\r\n```java\r\nMap&lt;Integer, List&lt;Integer&gt;&gt; m = IntStream.rangeClosed(0, 10).boxed()\r\n    .collect(Collectors.groupingBy(i -&gt; i % 2));\r\n\r\nSystem.out.println(m.keySet());\r\nSystem.out.println(m.get(0));\r\nSystem.out.println(m.get(1));\r\n```\r\n\r\nThere is no guaranty whether the first line will be `[0, 1]` or `[1, 0]`, as the maps order is unspecified, but we can be sure that the other two lines will be\r\n\r\n```none\r\n[0, 2, 4, 6, 8, 10]\r\n[1, 3, 5, 7, 9]\r\n```\r\nas the lists have a guaranteed order and `m.get(0)`/`m.get(1)` do not rely on the maps order.\r\n\r\n[1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#groupingBy(java.util.function.Function)\r\n","title":"Does stream().groupingBy maintain sorted order for the resulting map value lists?","body":"<p>The <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#groupingBy(java.util.function.Function)\" rel=\"nofollow noreferrer\"><code>groupingBy(function)</code></a> collector is a short-hand for <code>groupingBy(function, toList())</code>. While there are no guarantees about the order of the map entries, the lists collected by <code>toList()</code> will reflect the encounter order.</p>\n<p>While it is not spelled out explicitly, how the <code>groupingBy</code> collector affects the operation of the downstream collector regarding the order, there is a remark in <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#groupingBy(java.util.function.Function)\" rel=\"nofollow noreferrer\">the documentation</a> about the difference to <code>groupingByConcurrent(Function)</code>:</p>\n<blockquote>\n<p>For parallel stream pipelines, the <code>combiner</code> function operates by merging the keys from one map into another, which can be an expensive operation. If preservation of the order in which elements appear in the resulting <code>Map</code> collector is not required, using <code>groupingByConcurrent(Function)</code> may offer better parallel performance.</p>\n</blockquote>\n<p>This hints at the fact that the <code>groupingBy</code> collector will preserve the order if the downstream collector is not <em>unordered</em>, whereas the <code>groupingByConcurrent</code> collector will enforce <em>unordered</em> behavior, even if the downstream collector would otherwise retain the order, like <code>toList()</code>.</p>\n<p>So the following program</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n  System.out.println(isUnordered(Collectors.groupingBy(Function.identity())));\n  System.out.println(isUnordered(Collectors.groupingByConcurrent(Function.identity())));\n}\nstatic boolean isUnordered(Collector&lt;?, ?, ?&gt; c) {\n  return c.characteristics().contains(Collector.Characteristics.UNORDERED);\n}\n</code></pre>\n<p>will print</p>\n<pre class=\"lang-none prettyprint-override\"><code>false\ntrue\n</code></pre>\n<hr />\n<p>As a reminder to those who didnt read carefully enough, were only talking about the order of the elements within the lists, not the order of the entries within the map.</p>\n<p>So when we take the following program, for example</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;Integer, List&lt;Integer&gt;&gt; m = IntStream.rangeClosed(0, 10).boxed()\n    .collect(Collectors.groupingBy(i -&gt; i % 2));\n\nSystem.out.println(m.keySet());\nSystem.out.println(m.get(0));\nSystem.out.println(m.get(1));\n</code></pre>\n<p>There is no guaranty whether the first line will be <code>[0, 1]</code> or <code>[1, 0]</code>, as the maps order is unspecified, but we can be sure that the other two lines will be</p>\n<pre class=\"lang-none prettyprint-override\"><code>[0, 2, 4, 6, 8, 10]\n[1, 3, 5, 7, 9]\n</code></pre>\n<p>as the lists have a guaranteed order and <code>m.get(0)</code>/<code>m.get(1)</code> do not rely on the maps order.</p>\n"}],"owner":{"account_id":23497752,"reputation":23,"user_id":17547980,"display_name":"Olliert"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":268,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74477818,"answer_count":1,"score":2,"last_activity_date":1668698021,"creation_date":1668692256,"question_id":74476426,"body_markdown":"Say I have an ArrayList which I stream, then sort, then group by some attribute of the list values. Will the lists in the resulting map be internally sorted (i.e. maintain the ordering of the stream before it was grouped)?\r\n\r\nIn the [documentation](https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#groupingBy-java.util.function.Function-java.util.stream.Collector-) it says groupingBy is not an unordered collector but I wasn&#39;t sure if the above is what that means. If not, what does ordered/unordered collector mean?\r\n\r\n```\r\n    arrayList.stream()\r\n        .sorted((o1, o2) -&gt; o1.compareTo(o2))\r\n        .collect(Collectors.groupingBy(o-&gt;o.getAttribute())\r\n```\r\n\r\n\r\n\r\nWhen I tried this gave me ordered lists but I need to be able to guarantee it will always result in ordered lists and wasn&#39;t sure if it would break with different input or when using multiple threads etc.","title":"Does stream().groupingBy maintain sorted order for the resulting map value lists?","body":"<p>Say I have an ArrayList which I stream, then sort, then group by some attribute of the list values. Will the lists in the resulting map be internally sorted (i.e. maintain the ordering of the stream before it was grouped)?</p>\n<p>In the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#groupingBy-java.util.function.Function-java.util.stream.Collector-\" rel=\"nofollow noreferrer\">documentation</a> it says groupingBy is not an unordered collector but I wasn't sure if the above is what that means. If not, what does ordered/unordered collector mean?</p>\n<pre><code>    arrayList.stream()\n        .sorted((o1, o2) -&gt; o1.compareTo(o2))\n        .collect(Collectors.groupingBy(o-&gt;o.getAttribute())\n</code></pre>\n<p>When I tried this gave me ordered lists but I need to be able to guarantee it will always result in ordered lists and wasn't sure if it would break with different input or when using multiple threads etc.</p>\n"},{"tags":["java","jframe","jlabel","imageicon"],"answers":[{"tags":[],"owner":{"account_id":13203350,"reputation":868,"user_id":9535950,"display_name":"Thomas Behr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668696845,"creation_date":1668696845,"answer_id":74477515,"question_id":74477362,"body_markdown":"Try replacing `new ImageIcon(&quot;key2.png&quot;)` with\r\n```\r\nnew ImageIcon(Main.class.getResource(&quot;key2.png&quot;))\r\n```\r\nand make sure your `key2.png` image file is copied into the directory that contains the `Main.class` file before running your application.\r\n\r\n`Class.getResource` finds application resource files and should be used for files that are meant to be distributed with the application. See the [getResource API documentation](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html#getResource(java.lang.String)) for more details.","title":"Image not being added to panel - Java","body":"<p>Try replacing <code>new ImageIcon(&quot;key2.png&quot;)</code> with</p>\n<pre><code>new ImageIcon(Main.class.getResource(&quot;key2.png&quot;))\n</code></pre>\n<p>and make sure your <code>key2.png</code> image file is copied into the directory that contains the <code>Main.class</code> file before running your application.</p>\n<p><code>Class.getResource</code> finds application resource files and should be used for files that are meant to be distributed with the application. See the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html#getResource(java.lang.String)\" rel=\"nofollow noreferrer\">getResource API documentation</a> for more details.</p>\n"},{"tags":[],"owner":{"account_id":24849412,"reputation":66,"user_id":18726537,"display_name":"Kavya Kommuri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668696990,"creation_date":1668696990,"answer_id":74477550,"question_id":74477362,"body_markdown":"Since you are using JPanel and working with spring try the below method which turns the image to a swing component. Hence it becomes subject to layout conditions like any other component:\r\n\r\n    BufferedImage myPicture = ImageIO.read(new File(&quot;path-to-file&quot;));\r\n    JLabel picLabel = new JLabel(new ImageIcon(myPicture));\r\n    add(picLabel);","title":"Image not being added to panel - Java","body":"<p>Since you are using JPanel and working with spring try the below method which turns the image to a swing component. Hence it becomes subject to layout conditions like any other component:</p>\n<pre><code>BufferedImage myPicture = ImageIO.read(new File(&quot;path-to-file&quot;));\nJLabel picLabel = new JLabel(new ImageIcon(myPicture));\nadd(picLabel);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14772731,"reputation":16,"user_id":10668679,"display_name":"TwoStone"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668697640,"creation_date":1668697640,"answer_id":74477710,"question_id":74477362,"body_markdown":"You actually need to put the image into the Project folder. As the Program running directory is not the source directory.\r\nPut it into a subfolder like textures and reference it with the path like\r\n\r\n    ImageIcon icon = new ImageIcon(&quot;textures/key2.png&quot;);\r\n","title":"Image not being added to panel - Java","body":"<p>You actually need to put the image into the Project folder. As the Program running directory is not the source directory.\nPut it into a subfolder like textures and reference it with the path like</p>\n<pre><code>ImageIcon icon = new ImageIcon(&quot;textures/key2.png&quot;);\n</code></pre>\n"}],"owner":{"account_id":26786606,"reputation":23,"user_id":20380700,"display_name":"Bean"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74477710,"answer_count":3,"score":0,"last_activity_date":1668697640,"creation_date":1668696232,"question_id":74477362,"body_markdown":"I am trying to practice JLabel/JFrame and I am have trouble having my image &quot;key2.png&quot; appear.\r\nI am using Visual Studio Code and I have both my code and the image in the same src folder. \r\n\r\n`\r\n```\r\nimport javax.swing.ImageIcon;\r\nimport javax.swing.JFrame;\r\nimport java.awt.Color;\r\nimport javax.swing.JLabel;\r\nimport javax.swing.JPanel;\r\n\r\nclass Main {\r\n  public static void main(String[] args) {\r\n\r\n    ImageIcon icon = new ImageIcon(&quot;key2.png&quot;);\r\n\r\n    JLabel label = new JLabel();\r\n    label.setText(&quot;Hello&quot;);\r\n    label.setIcon(icon);\r\n\r\n    JPanel redPanel = new JPanel();\r\n    redPanel.setBackground(Color.red);\r\n    redPanel.setBounds(0, 0, 250, 250);\r\n\r\n    JPanel bluePanel = new JPanel();\r\n    bluePanel.setBackground(Color.blue);\r\n    bluePanel.setBounds(250, 0, 250, 250);\r\n\r\n    JPanel greenPanel = new JPanel();\r\n    greenPanel.setBackground(Color.green);\r\n    greenPanel.setBounds(0, 250, 500, 250);\r\n    \r\n    \r\n    MyFrame myFrame = new MyFrame();   //makes frame\r\n    myFrame.setLayout(null);  //disable defualt layout\r\n    myFrame.add(redPanel);\r\n    redPanel.add(label);   //add text and image to panel\r\n    myFrame.add(bluePanel);\r\n    myFrame.add(greenPanel);\r\n  }\r\n}\r\n```\r\n`\r\n\r\nOutput:\r\n[Output](https://i.stack.imgur.com/nh890.png)\r\n\r\nExpecting to see a black key image in the red panel.","title":"Image not being added to panel - Java","body":"<p>I am trying to practice JLabel/JFrame and I am have trouble having my image &quot;key2.png&quot; appear.\nI am using Visual Studio Code and I have both my code and the image in the same src folder.</p>\n<p>`</p>\n<pre><code>import javax.swing.ImageIcon;\nimport javax.swing.JFrame;\nimport java.awt.Color;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\n\nclass Main {\n  public static void main(String[] args) {\n\n    ImageIcon icon = new ImageIcon(&quot;key2.png&quot;);\n\n    JLabel label = new JLabel();\n    label.setText(&quot;Hello&quot;);\n    label.setIcon(icon);\n\n    JPanel redPanel = new JPanel();\n    redPanel.setBackground(Color.red);\n    redPanel.setBounds(0, 0, 250, 250);\n\n    JPanel bluePanel = new JPanel();\n    bluePanel.setBackground(Color.blue);\n    bluePanel.setBounds(250, 0, 250, 250);\n\n    JPanel greenPanel = new JPanel();\n    greenPanel.setBackground(Color.green);\n    greenPanel.setBounds(0, 250, 500, 250);\n    \n    \n    MyFrame myFrame = new MyFrame();   //makes frame\n    myFrame.setLayout(null);  //disable defualt layout\n    myFrame.add(redPanel);\n    redPanel.add(label);   //add text and image to panel\n    myFrame.add(bluePanel);\n    myFrame.add(greenPanel);\n  }\n}\n</code></pre>\n<p>`</p>\n<p>Output:\n<a href=\"https://i.stack.imgur.com/nh890.png\" rel=\"nofollow noreferrer\">Output</a></p>\n<p>Expecting to see a black key image in the red panel.</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":15486586,"reputation":106,"user_id":11185081,"display_name":"Manir Mahamat"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1668696192,"creation_date":1668696192,"answer_id":74477354,"question_id":74476781,"body_markdown":"Here are some steps to follow :\r\nWhat I did here is basic implementation because I did not consider if the User was authenticated or not.\r\n\r\n1- Add the following relation to the User entity\r\n\r\n    public class User {\r\n      /**\r\n        other attributes\r\n      **/\r\n\r\n     //relation with comment\r\n     @OneToMany(cascade = CascadeType.ALL,\r\n            fetch = FetchType.LAZY, orphanRemoval = true,\r\n            mappedBy = &quot;user&quot;)\r\n     private Set&lt;Comment&gt; comments;\r\n    }\r\n\r\n2- Then you should add the relation to the Comment entity also:\r\n\r\n     public class Comment {\r\n      /**\r\n       other attributes\r\n       **/\r\n\r\n      //relation with user\r\n      @ManyToOne()\r\n      @JoinColumn(name = &quot;user_id&quot;)\r\n      private User user;\r\n    }\r\n3- At the comment service just add userId as a parameter to your function\r\n\r\n     public class CommentService {\r\n     private CommentRepository commentRepository;\r\n     private UserRepository userRepository;\r\n     public Comment userPostComment(Comment comment, Long userId){\r\n        User user = userRepository.findById(userId).orElseThrow(\r\n                      () -&gt; new UsernameNotFoundException(&quot;User not found&quot;));\r\n        /**\r\n            set other attributes\r\n         **/\r\n        //add found user to the comment\r\n        comment.setUser(user);\r\n        return commentRepository.save(comment);\r\n    }\r\n\r\n\r\n4- Finally at your controller, you should give userId as a PathVariable\r\n\r\n     public class CommentController {\r\n     private CommentService commentService;\r\n\r\n     @PostMapping(&quot;/addComment/{userId}&quot;)\r\n     public ResponseEntity&lt;Comment&gt; addComment(@RequestBody Comment comment,\r\n                                              @PathVariable Long userId){\r\n        return new ResponseEntity&lt;&gt;(\r\n                             commentService.userPostComment(comment, userId), \r\n                             HttpStatus.CREATED);\r\n      }\r\n    }\r\n\r\n","title":"PostMapping passing Object with oneToMany relationship | Java spring-boot","body":"<p>Here are some steps to follow :\nWhat I did here is basic implementation because I did not consider if the User was authenticated or not.</p>\n<p>1- Add the following relation to the User entity</p>\n<pre><code>public class User {\n  /**\n    other attributes\n  **/\n\n //relation with comment\n @OneToMany(cascade = CascadeType.ALL,\n        fetch = FetchType.LAZY, orphanRemoval = true,\n        mappedBy = &quot;user&quot;)\n private Set&lt;Comment&gt; comments;\n}\n</code></pre>\n<p>2- Then you should add the relation to the Comment entity also:</p>\n<pre><code> public class Comment {\n  /**\n   other attributes\n   **/\n\n  //relation with user\n  @ManyToOne()\n  @JoinColumn(name = &quot;user_id&quot;)\n  private User user;\n}\n</code></pre>\n<p>3- At the comment service just add userId as a parameter to your function</p>\n<pre><code> public class CommentService {\n private CommentRepository commentRepository;\n private UserRepository userRepository;\n public Comment userPostComment(Comment comment, Long userId){\n    User user = userRepository.findById(userId).orElseThrow(\n                  () -&gt; new UsernameNotFoundException(&quot;User not found&quot;));\n    /**\n        set other attributes\n     **/\n    //add found user to the comment\n    comment.setUser(user);\n    return commentRepository.save(comment);\n}\n</code></pre>\n<p>4- Finally at your controller, you should give userId as a PathVariable</p>\n<pre><code> public class CommentController {\n private CommentService commentService;\n\n @PostMapping(&quot;/addComment/{userId}&quot;)\n public ResponseEntity&lt;Comment&gt; addComment(@RequestBody Comment comment,\n                                          @PathVariable Long userId){\n    return new ResponseEntity&lt;&gt;(\n                         commentService.userPostComment(comment, userId), \n                         HttpStatus.CREATED);\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20014169,"reputation":1,"user_id":19045480,"display_name":"Verduttio"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668696230,"creation_date":1668696230,"answer_id":74477360,"question_id":74476781,"body_markdown":"One of the solutions is to create a CommentRequest class\r\n```\r\npublic class CommentRequest {\r\n   private String message;\r\n   private int userId;\r\n\r\n   getters, setters\r\n\r\n}\r\n```\r\n\r\n\r\nThen in the CommentController you should change the method to:\r\n\r\n    @PostMapping\r\n    public void createComment(@RequestBody CommentRequest commentRequest) {\r\n        commentService.createComment(commentRequest);\r\n    }\r\n\r\nAnd also in the CommentService:\r\n```\r\npublic void createComment(CommentRequest commentRequest) {\r\n        if(!userRepository.existsById(commentRequest.getUserId())) {\r\n            throw new UserNotFoundException(&quot;Writer does not exist&quot;);\r\n        }\r\n        User user = userRepository.getById(commentRequest.getUserId());\r\n        commentRepository.save(new Comment(commentRequest.getMessage(), user));\r\n    }\r\n```\r\n","title":"PostMapping passing Object with oneToMany relationship | Java spring-boot","body":"<p>One of the solutions is to create a CommentRequest class</p>\n<pre><code>public class CommentRequest {\n   private String message;\n   private int userId;\n\n   getters, setters\n\n}\n</code></pre>\n<p>Then in the CommentController you should change the method to:</p>\n<pre><code>@PostMapping\npublic void createComment(@RequestBody CommentRequest commentRequest) {\n    commentService.createComment(commentRequest);\n}\n</code></pre>\n<p>And also in the CommentService:</p>\n<pre><code>public void createComment(CommentRequest commentRequest) {\n        if(!userRepository.existsById(commentRequest.getUserId())) {\n            throw new UserNotFoundException(&quot;Writer does not exist&quot;);\n        }\n        User user = userRepository.getById(commentRequest.getUserId());\n        commentRepository.save(new Comment(commentRequest.getMessage(), user));\n    }\n</code></pre>\n"}],"owner":{"account_id":22749514,"reputation":123,"user_id":16909865,"display_name":"Leon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":512,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74477354,"answer_count":2,"score":0,"last_activity_date":1668697635,"creation_date":1668693716,"question_id":74476781,"body_markdown":"I am new to spring boot. \r\nI have a class Comment which has a oneToMany relationship to the class User.\r\nNow I want to create a Comment with a post request. But how can I pass only the userId of the user who writes the comment? So I can save this Object to the database. \r\n\r\nI hope somebody could help me with this. I would appreciate it. \r\n\r\nPost Request:\r\n```\r\n{\r\n    &quot;message&quot;: &quot;This is a message&quot;,\r\n    &quot;writer_id&quot;: 1\r\n}\r\n```\r\n\r\n## User ##\r\n```\r\n@Entity\r\n@Table(name=&quot;tbl_users&quot;)\r\npublic class User {\r\n\t\r\n\t@Id\r\n\t@GeneratedValue(\r\n\t\t\tstrategy = GenerationType.AUTO,\r\n\t\t\tgenerator = &quot;user_sequence&quot;\r\n\t\t\t)\r\n\t@SequenceGenerator(\r\n\t\t\tname = &quot;user_sequence&quot;,\r\n\t\t\tallocationSize = 1,\r\n\t\t\tsequenceName = &quot;user_sequence&quot;\r\n\t\t\t)\r\n\tprivate Long id;\r\n\tprivate String name;\r\n\tpublic User(String name) {\r\n\t\tthis.name = name;\r\n\t}\r\n\tpublic User(Long id, String name) {\r\n\t\tthis.id = id;\r\n\t\tthis.name = name;\r\n\t}\r\n\tpublic User() {\r\n\t}\r\n    \r\n    getter, setter ...\r\n```\r\n\r\n## Comment ##\r\n```\r\n@Entity\r\n@Table(name=&quot;tbl_comments&quot;)\r\npublic class Comment {\r\n\t\r\n\t@Id\r\n\t@GeneratedValue(\r\n\t\t\tstrategy = GenerationType.AUTO,\r\n\t\t\tgenerator = &quot;comment_sequence&quot;\r\n\t\t\t)\r\n\t@SequenceGenerator(\r\n\t\t\tname = &quot;comment_sequence&quot;,\r\n\t\t\tallocationSize = 1,\r\n\t\t\tsequenceName = &quot;comment_sequence&quot;\r\n\t\t\t)\r\n\tprivate Long id;\r\n\tprivate String message;\r\n\t@ManyToOne\r\n\t@JoinColumn(name=&quot;user_id&quot;, nullable=false)\r\n\tprivate User writer;\r\n\t\r\n\tpublic Comment(String message, User writer) {\r\n\t\tthis.message = message;\r\n\t\tthis.writer = writer;\r\n\t}\r\n\r\n\tpublic Comment(Long id, String message, User writer) {\r\n\t\tthis.id = id;\r\n\t\tthis.message = message;\r\n\t\tthis.writer = writer;\r\n\t}\r\n\r\n\tpublic Comment() {\r\n\t}\r\n\r\n    getter, setter...\r\n```\r\n\r\n## CommentController ##\r\n```\r\n@PostMapping\r\n\tpublic void createComment(@RequestBody Comment comment) {\r\n\t\tcommentService.createComment(comment);\r\n\t}\r\n```\r\n\r\n## CommentService ##\r\n```\r\npublic void createComment(Comment comment) {\r\n\t\tif(!userRepository.existsById(comment.getWriter().getId())) {\r\n\t\t\tthrow new UserNotFoundException(&quot;Writer does not exist&quot;);\r\n\t\t}\r\n\t\tcommentRepository.save(comment);\r\n\t}\r\n```","title":"PostMapping passing Object with oneToMany relationship | Java spring-boot","body":"<p>I am new to spring boot.\nI have a class Comment which has a oneToMany relationship to the class User.\nNow I want to create a Comment with a post request. But how can I pass only the userId of the user who writes the comment? So I can save this Object to the database.</p>\n<p>I hope somebody could help me with this. I would appreciate it.</p>\n<p>Post Request:</p>\n<pre><code>{\n    &quot;message&quot;: &quot;This is a message&quot;,\n    &quot;writer_id&quot;: 1\n}\n</code></pre>\n<h2>User</h2>\n<pre><code>@Entity\n@Table(name=&quot;tbl_users&quot;)\npublic class User {\n    \n    @Id\n    @GeneratedValue(\n            strategy = GenerationType.AUTO,\n            generator = &quot;user_sequence&quot;\n            )\n    @SequenceGenerator(\n            name = &quot;user_sequence&quot;,\n            allocationSize = 1,\n            sequenceName = &quot;user_sequence&quot;\n            )\n    private Long id;\n    private String name;\n    public User(String name) {\n        this.name = name;\n    }\n    public User(Long id, String name) {\n        this.id = id;\n        this.name = name;\n    }\n    public User() {\n    }\n    \n    getter, setter ...\n</code></pre>\n<h2>Comment</h2>\n<pre><code>@Entity\n@Table(name=&quot;tbl_comments&quot;)\npublic class Comment {\n    \n    @Id\n    @GeneratedValue(\n            strategy = GenerationType.AUTO,\n            generator = &quot;comment_sequence&quot;\n            )\n    @SequenceGenerator(\n            name = &quot;comment_sequence&quot;,\n            allocationSize = 1,\n            sequenceName = &quot;comment_sequence&quot;\n            )\n    private Long id;\n    private String message;\n    @ManyToOne\n    @JoinColumn(name=&quot;user_id&quot;, nullable=false)\n    private User writer;\n    \n    public Comment(String message, User writer) {\n        this.message = message;\n        this.writer = writer;\n    }\n\n    public Comment(Long id, String message, User writer) {\n        this.id = id;\n        this.message = message;\n        this.writer = writer;\n    }\n\n    public Comment() {\n    }\n\n    getter, setter...\n</code></pre>\n<h2>CommentController</h2>\n<pre><code>@PostMapping\n    public void createComment(@RequestBody Comment comment) {\n        commentService.createComment(comment);\n    }\n</code></pre>\n<h2>CommentService</h2>\n<pre><code>public void createComment(Comment comment) {\n        if(!userRepository.existsById(comment.getWriter().getId())) {\n            throw new UserNotFoundException(&quot;Writer does not exist&quot;);\n        }\n        commentRepository.save(comment);\n    }\n</code></pre>\n"},{"tags":["java","android","telecom-manager"],"comments":[{"owner":{"account_id":20029443,"reputation":297,"user_id":14682570,"display_name":"Dev007"},"score":0,"creation_date":1668536666,"post_id":74449902,"comment_id":131427910,"body_markdown":"I think there is a full working code example you can refer and create your own from here https://github.com/SimpleMobileTools/Simple-Dialer","body":"I think there is a full working code example you can refer and create your own from here <a href=\"https://github.com/SimpleMobileTools/Simple-Dialer\" rel=\"nofollow noreferrer\">github.com/SimpleMobileTools/Simple-Dialer</a>"},{"owner":{"account_id":20029443,"reputation":297,"user_id":14682570,"display_name":"Dev007"},"score":0,"creation_date":1668537025,"post_id":74449902,"comment_id":131428045,"body_markdown":"Appreciated @Gabe answer. Meanwhile in your code you have to add that check once you got any result code. it should be call with startResultForActivity or ResultContracts.","body":"Appreciated @Gabe answer. Meanwhile in your code you have to add that check once you got any result code. it should be call with startResultForActivity or ResultContracts."}],"answers":[{"tags":[],"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668536330,"creation_date":1668536330,"answer_id":74450473,"question_id":74449902,"body_markdown":"Intents are asynchronous.  If you start an activity to do something, you have to wait for that intent to finish before using the results of it.  You&#39;re instead immediately querying for the default dialer package.  That will always fail, because it wouldn&#39;t even have shown the picker on screen yet.","title":"How do you change the default dialer package in android studio?","body":"<p>Intents are asynchronous.  If you start an activity to do something, you have to wait for that intent to finish before using the results of it.  You're instead immediately querying for the default dialer package.  That will always fail, because it wouldn't even have shown the picker on screen yet.</p>\n"}],"owner":{"account_id":25450221,"reputation":17,"user_id":19251775,"display_name":"Jacob Z"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":309,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668697167,"creation_date":1668533531,"question_id":74449902,"body_markdown":"I&#39;m currently trying to change the default dialer package of the machine to my application. When running the code that is supposed to change it, however, it results in the default dialer package retaining a value of NULL. This is loosely following the guide [here][1], but some of it is deprecated so I&#39;ve had to make some adjustments. \r\n\r\nEDIT: has REQUEST_CODE_DEFAULT_DIALER been changed somehow? I can&#39;t find it referenced anywhere other than outdated tutorials on how to do this, so I&#39;m not sure what it would even have been changed to. I&#39;m getting a &quot;cannot resolve symbol&quot; error whenever I try to use it. \r\n\r\n\r\n\r\n\r\n\r\nI&#39;ve included the following under the relevant activity in my AndroidManifest.xml:\r\n\r\n```\r\n&lt;intent-filter&gt;\r\n    &lt;action android:name=&quot;android.intent.action.DIAL&quot; /&gt;\r\n    &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n&lt;/intent-filter&gt;\r\n&lt;intent-filter&gt;\r\n    &lt;action android:name=&quot;android.intent.action.DIAL&quot; /&gt;\r\n    &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n    &lt;data android:scheme = &quot;tel&quot;/&gt;\r\n&lt;/intent-filter&gt;\r\n```\r\n\r\nThe following code executes the package change and then prints its value to logcat so I can see what happens: \r\n\r\n```\r\nLog.i(&quot;Before&quot;, &quot;Before default dialer change&quot;);\r\nstartActivity(new Intent(TelecomManager.ACTION_CHANGE_DEFAULT_DIALER).putExtra(TelecomManager.EXTRA_CHANGE_DEFAULT_DIALER_PACKAGE_NAME,getPackageName()));\r\nTelecomManager telecomManager = ((TelecomManager) getSystemService(Context.TELECOM_SERVICE));\r\nif(telecomManager.getDefaultDialerPackage() == null) {\r\n    Log.i(&quot;Default dialer package:&quot;, &quot;NULL&quot;);\r\n} else {\r\n    Log.i(&quot;Default Dialer Package:&quot;, telecomManager.getDefaultDialerPackage());\r\n\r\n}\r\n```\r\nI&#39;m getting &quot;Default&#160;dialer&#160;package:: NULL&quot; in logcat every time I try this. \r\n\r\n\r\n  [1]: https://www.gsrikar.com/2019/02/set-android-app-default-dialer.html","title":"How do you change the default dialer package in android studio?","body":"<p>I'm currently trying to change the default dialer package of the machine to my application. When running the code that is supposed to change it, however, it results in the default dialer package retaining a value of NULL. This is loosely following the guide <a href=\"https://www.gsrikar.com/2019/02/set-android-app-default-dialer.html\" rel=\"nofollow noreferrer\">here</a>, but some of it is deprecated so I've had to make some adjustments.</p>\n<p>EDIT: has REQUEST_CODE_DEFAULT_DIALER been changed somehow? I can't find it referenced anywhere other than outdated tutorials on how to do this, so I'm not sure what it would even have been changed to. I'm getting a &quot;cannot resolve symbol&quot; error whenever I try to use it.</p>\n<p>I've included the following under the relevant activity in my AndroidManifest.xml:</p>\n<pre><code>&lt;intent-filter&gt;\n    &lt;action android:name=&quot;android.intent.action.DIAL&quot; /&gt;\n    &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n&lt;/intent-filter&gt;\n&lt;intent-filter&gt;\n    &lt;action android:name=&quot;android.intent.action.DIAL&quot; /&gt;\n    &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n    &lt;data android:scheme = &quot;tel&quot;/&gt;\n&lt;/intent-filter&gt;\n</code></pre>\n<p>The following code executes the package change and then prints its value to logcat so I can see what happens:</p>\n<pre><code>Log.i(&quot;Before&quot;, &quot;Before default dialer change&quot;);\nstartActivity(new Intent(TelecomManager.ACTION_CHANGE_DEFAULT_DIALER).putExtra(TelecomManager.EXTRA_CHANGE_DEFAULT_DIALER_PACKAGE_NAME,getPackageName()));\nTelecomManager telecomManager = ((TelecomManager) getSystemService(Context.TELECOM_SERVICE));\nif(telecomManager.getDefaultDialerPackage() == null) {\n    Log.i(&quot;Default dialer package:&quot;, &quot;NULL&quot;);\n} else {\n    Log.i(&quot;Default Dialer Package:&quot;, telecomManager.getDefaultDialerPackage());\n\n}\n</code></pre>\n<p>I'm getting &quot;Defaultdialerpackage:: NULL&quot; in logcat every time I try this.</p>\n"},{"tags":["java","spring","jpa","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1668696927,"creation_date":1668678674,"answer_id":74473336,"question_id":74473266,"body_markdown":"The difference is literally the `Is` part. Functionally they are the same.\r\n\r\nYou can find this information in https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repository-query-keywords\r\n\r\nOr if you prefer the [source code you should take a look at org.springframework.data.repository.query.parser.Part.Type][1]\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-data-commons/blob/1f1c34b4238f74263d02169a8b71b612c2e4e16b/src/main/java/org/springframework/data/repository/query/parser/Part.java#L175","title":"What is the difference between DateGreaterThanEqual and DateIsGreaterThanEqual in JPA Repository?","body":"<p>The difference is literally the <code>Is</code> part. Functionally they are the same.</p>\n<p>You can find this information in <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repository-query-keywords\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repository-query-keywords</a></p>\n<p>Or if you prefer the <a href=\"https://github.com/spring-projects/spring-data-commons/blob/1f1c34b4238f74263d02169a8b71b612c2e4e16b/src/main/java/org/springframework/data/repository/query/parser/Part.java#L175\" rel=\"nofollow noreferrer\">source code you should take a look at org.springframework.data.repository.query.parser.Part.Type</a></p>\n"}],"owner":{"account_id":20705572,"reputation":401,"user_id":17565149,"display_name":"DJ Freeman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74473336,"answer_count":1,"score":1,"last_activity_date":1668696927,"creation_date":1668678418,"question_id":74473266,"body_markdown":"I&#39;m trying to get all the Reservations for a user with username that are after the current date or equal the current date\r\n\r\nDo I need to use:\r\n\r\n```\r\nList&lt;Reservation&gt; findReservationsByUsernameAndDateGreaterThanEqual(String username, Date date);\r\n```\r\nOR\r\n```\r\nList&lt;Reservation&gt; findReservationsByUsernameAndDateIsGreaterThanEqual(String username, Date date);\r\n```\r\n\r\nWhat is the difference between them?","title":"What is the difference between DateGreaterThanEqual and DateIsGreaterThanEqual in JPA Repository?","body":"<p>I'm trying to get all the Reservations for a user with username that are after the current date or equal the current date</p>\n<p>Do I need to use:</p>\n<pre><code>List&lt;Reservation&gt; findReservationsByUsernameAndDateGreaterThanEqual(String username, Date date);\n</code></pre>\n<p>OR</p>\n<pre><code>List&lt;Reservation&gt; findReservationsByUsernameAndDateIsGreaterThanEqual(String username, Date date);\n</code></pre>\n<p>What is the difference between them?</p>\n"},{"tags":["java","android","vibration"],"comments":[{"owner":{"account_id":5170464,"reputation":857,"user_id":4139138,"accept_rate":20,"display_name":"Mike"},"score":0,"creation_date":1424326535,"post_id":28599455,"comment_id":45505429,"body_markdown":"Check With `Log` if your `else if` is called. Or maybe something different handles the motion up event therefore your onTouchListener on uour button won&#39;t receive the event. Also check which int you get from action when releasing your finger from the screen","body":"Check With <code>Log</code> if your <code>else if</code> is called. Or maybe something different handles the motion up event therefore your onTouchListener on uour button won&#39;t receive the event. Also check which int you get from action when releasing your finger from the screen"},{"owner":{"account_id":5738914,"reputation":61,"user_id":4532165,"accept_rate":56,"display_name":"Aleem Ahmed"},"score":0,"creation_date":1424723499,"post_id":28599455,"comment_id":45658511,"body_markdown":"Thankyou so much bro (yshahak). looking forward for your more support in the comming future.","body":"Thankyou so much bro (yshahak). looking forward for your more support in the comming future."}],"answers":[{"tags":[],"owner":{"account_id":4054044,"reputation":5026,"user_id":3332634,"display_name":"yshahak"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1424338922,"creation_date":1424330758,"answer_id":28600721,"question_id":28599455,"body_markdown":"**EDIT**: corrected code:\r\n\r\ntry this:\r\n\r\n    int action = event.getActionMasked();\r\n\r\n    if (action == MotionEvent.ACTION_DOWN) {\r\n        long[] pattern = { 0, 200, 0 }; //0 to start now, 200 to vibrate 200 ms, 0 to sleep for 0 ms.\r\n        vibrator.vibrate(pattern, 0); // 0 to repeat endlessly.\r\n    } else if (action == MotionEvent.ACTION_UP || action == MotionEvent.ACTION_CANCEL) {\r\n        vibrator.cancel();\r\n    }    ","title":"Vibrate until the button is pressed and stops vibrating when the button is unpressed (or the finger is taken off)","body":"<p><strong>EDIT</strong>: corrected code:</p>\n\n<p>try this:</p>\n\n<pre><code>int action = event.getActionMasked();\n\nif (action == MotionEvent.ACTION_DOWN) {\n    long[] pattern = { 0, 200, 0 }; //0 to start now, 200 to vibrate 200 ms, 0 to sleep for 0 ms.\n    vibrator.vibrate(pattern, 0); // 0 to repeat endlessly.\n} else if (action == MotionEvent.ACTION_UP || action == MotionEvent.ACTION_CANCEL) {\n    vibrator.cancel();\n}    \n</code></pre>\n"}],"owner":{"account_id":5738914,"reputation":61,"user_id":4532165,"accept_rate":56,"display_name":"Aleem Ahmed"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2819,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":28600721,"answer_count":1,"score":2,"last_activity_date":1668696688,"creation_date":1424324979,"question_id":28599455,"body_markdown":"I am planning to program a button in such a way that when the button is pressed, vibration starts and keeps on vibrating until the finger is up or button is unpressed.\r\n\r\nI am using OnTouchListener for this purpose.\r\n\r\nMy code is as follows:\r\n\r\n    package com.example.vibrator;\r\n    \r\n    import android.app.Activity;\r\n    import android.os.Bundle;\r\n    import android.os.Vibrator;\r\n    import android.view.MotionEvent;\r\n    import android.view.View;\r\n    import android.view.View.OnTouchListener;\r\n    import android.widget.Button;\r\n    \r\n    public class MainActivity extends Activity {\r\n    \r\n    \t@Override\r\n    \tprotected void onCreate(Bundle savedInstanceState) {\r\n    \t\tsuper.onCreate(savedInstanceState);\r\n    \t\tsetContentView(R.layout.activity_main);\r\n    \r\n    \t\tfinal Vibrator vibrator;\r\n    \r\n    \t\tvibrator = (Vibrator) getSystemService(MainActivity.VIBRATOR_SERVICE);\r\n    \r\n    \t\tButton btn = (Button) findViewById(R.id.button1);\r\n    \t\tbtn.setOnTouchListener(new OnTouchListener() {\r\n    \r\n    \t\t\t@Override\r\n    \t\t\tpublic boolean onTouch(View v, MotionEvent event) {\r\n    \t\t\t\tint action = event.getAction();\r\n    \r\n    \t\t\t\tif (action == MotionEvent.ACTION_DOWN) {\r\n    \t\t\t\t\tvibrator.vibrate(60000);\r\n    \t\t\t\t} else if (action == MotionEvent.ACTION_UP) {\r\n    \t\t\t\t\tvibrator.cancel();\r\n    \t\t\t\t}\r\n    \r\n    \t\t\t\treturn true;\r\n    \t\t\t}\r\n    \t\t});\r\n    \t}\r\n    }\r\n\r\n\r\nThe problem in this code is that it keeps on vibrating and when the finger is up, the vibration does not stop nor cancelled.\r\n\r\nP.S. I have used the permission in manifest.\r\n","title":"Vibrate until the button is pressed and stops vibrating when the button is unpressed (or the finger is taken off)","body":"<p>I am planning to program a button in such a way that when the button is pressed, vibration starts and keeps on vibrating until the finger is up or button is unpressed.</p>\n<p>I am using OnTouchListener for this purpose.</p>\n<p>My code is as follows:</p>\n<pre><code>package com.example.vibrator;\n\nimport android.app.Activity;\nimport android.os.Bundle;\nimport android.os.Vibrator;\nimport android.view.MotionEvent;\nimport android.view.View;\nimport android.view.View.OnTouchListener;\nimport android.widget.Button;\n\npublic class MainActivity extends Activity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        final Vibrator vibrator;\n\n        vibrator = (Vibrator) getSystemService(MainActivity.VIBRATOR_SERVICE);\n\n        Button btn = (Button) findViewById(R.id.button1);\n        btn.setOnTouchListener(new OnTouchListener() {\n\n            @Override\n            public boolean onTouch(View v, MotionEvent event) {\n                int action = event.getAction();\n\n                if (action == MotionEvent.ACTION_DOWN) {\n                    vibrator.vibrate(60000);\n                } else if (action == MotionEvent.ACTION_UP) {\n                    vibrator.cancel();\n                }\n\n                return true;\n            }\n        });\n    }\n}\n</code></pre>\n<p>The problem in this code is that it keeps on vibrating and when the finger is up, the vibration does not stop nor cancelled.</p>\n<p>P.S. I have used the permission in manifest.</p>\n"},{"tags":["java","libgdx","game-ai"],"comments":[{"owner":{"account_id":3281797,"reputation":323,"user_id":2762231,"accept_rate":80,"display_name":"therainycat"},"score":0,"creation_date":1668220734,"post_id":74393188,"comment_id":131359523,"body_markdown":"Just my first thoughts: use dot product and check `dist` to adjust the magnitude of your force, or simply turn off the wandering if enemy travels too far away and re-enable it when `dist` becomes small enough again","body":"Just my first thoughts: use dot product and check <code>dist</code> to adjust the magnitude of your force, or simply turn off the wandering if enemy travels too far away and re-enable it when <code>dist</code> becomes small enough again"},{"owner":{"account_id":6450014,"reputation":11895,"user_id":4997239,"accept_rate":61,"display_name":"Hasen"},"score":0,"creation_date":1668376838,"post_id":74393188,"comment_id":131384421,"body_markdown":"@therainycat But if you just adjust the magnitude when he walks too far away, he&#39;ll just get slower or stop and just sit there....same with disabling wandering, he&#39;ll just stop and sit there doing nothing..I need him to return back towards to the spawn point to a certain extent. He wanders out, then if he wanders out too far he&#39;ll turn and wander back in some.","body":"@therainycat But if you just adjust the magnitude when he walks too far away, he&#39;ll just get slower or stop and just sit there....same with disabling wandering, he&#39;ll just stop and sit there doing nothing..I need him to return back towards to the spawn point to a certain extent. He wanders out, then if he wanders out too far he&#39;ll turn and wander back in some."},{"owner":{"account_id":3281797,"reputation":323,"user_id":2762231,"accept_rate":80,"display_name":"therainycat"},"score":0,"creation_date":1668392721,"post_id":74393188,"comment_id":131386704,"body_markdown":"So it seems you need the second solution - remove &quot;wander&quot; and add &quot;go back home&quot;, then when an enemy is close enough - do exactly opposite","body":"So it seems you need the second solution - remove &quot;wander&quot; and add &quot;go back home&quot;, then when an enemy is close enough - do exactly opposite"},{"owner":{"account_id":6450014,"reputation":11895,"user_id":4997239,"accept_rate":61,"display_name":"Hasen"},"score":0,"creation_date":1668690532,"post_id":74393188,"comment_id":131470530,"body_markdown":"@therainycat No because then he&#39;ll wander out and then walk directly home, it won&#39;t look natural. When you &#39;wander&#39; you also wander back so you take time to turn around before heading back. A complete reversal won&#39;t look like that.","body":"@therainycat No because then he&#39;ll wander out and then walk directly home, it won&#39;t look natural. When you &#39;wander&#39; you also wander back so you take time to turn around before heading back. A complete reversal won&#39;t look like that."}],"answers":[{"tags":[],"owner":{"account_id":422872,"reputation":656,"user_id":801899,"display_name":"londonBadger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668696668,"creation_date":1668449214,"answer_id":74436035,"question_id":74393188,"body_markdown":"If you want wandering then your perlin function that dictates motion should be based from the starting position offset i.e. xOffset AND time, and yOffset AND time. This will give true random coherent wandering. Perlin functions are deterministic so you have to have time.\r\nIf you were using the above to directly establish position there would be no problem and the enemy would wander around the starting position. However, because you use this to provide a wanderforce then the link to the original starting position is broken.\r\nFrom that, to provide a bias to return to the original starting position (or wander back I should say) then consider if the wandering force function is towards the starting position or away. If away multiply by .9 or some such. This function could also be a function of distance i.e. over a certain distance reduction becomes higher.\r\n\r\nThis is one way. Another way that fits with using angles is to grab the difference between the wanderingAngle and the angleToOrigin and reduce that by 0.9 etc in the same way so there is a bias in direction.\r\n\r\nEDIT\r\nAlthough its a bit different from above I think this is better. This code is for perlin wandering -location- around the spawn point (yes square not circle as the limit)\r\n\r\n```float xSpawnOffset = SimplexNoise.noise(spawnX+(System.currentTimeInMillis() % 1000/1000f))* wanderMaxDistance;```\r\n\r\n```float ySpawnOffset = SimplexNoise.noise(spawnY+(System.currentTimeInMillis() % 1000/1000f))* wanderMaxDistance;```\r\n\r\nYou need different spawn positions in there to make sure you don&#39;t get the same wander on both axis, and also so its a different wander for all enemies. This gives you a non-escaping wander. You may need to put a random into this as well in the case you have xSpawn and ySpawn being exactly the same.\r\n\r\nCreate targetWanderPosition from the original spawn position plus offsets. Then the enemy simply heads towards this point.\r\n\r\n```Vector2 wanderForce = (currentPosition.sub(targetWanderPosition)).scl(movementStrength);```\r\n\r\nSo basically the enemy -continuously heads- to the ideal wanderPoint, which will itself be a wander around the spawn point.","title":"AI Wander how to weight wander to return to spawn point","body":"<p>If you want wandering then your perlin function that dictates motion should be based from the starting position offset i.e. xOffset AND time, and yOffset AND time. This will give true random coherent wandering. Perlin functions are deterministic so you have to have time.\nIf you were using the above to directly establish position there would be no problem and the enemy would wander around the starting position. However, because you use this to provide a wanderforce then the link to the original starting position is broken.\nFrom that, to provide a bias to return to the original starting position (or wander back I should say) then consider if the wandering force function is towards the starting position or away. If away multiply by .9 or some such. This function could also be a function of distance i.e. over a certain distance reduction becomes higher.</p>\n<p>This is one way. Another way that fits with using angles is to grab the difference between the wanderingAngle and the angleToOrigin and reduce that by 0.9 etc in the same way so there is a bias in direction.</p>\n<p>EDIT\nAlthough its a bit different from above I think this is better. This code is for perlin wandering -location- around the spawn point (yes square not circle as the limit)</p>\n<p><code>float xSpawnOffset = SimplexNoise.noise(spawnX+(System.currentTimeInMillis() % 1000/1000f))* wanderMaxDistance;</code></p>\n<p><code>float ySpawnOffset = SimplexNoise.noise(spawnY+(System.currentTimeInMillis() % 1000/1000f))* wanderMaxDistance;</code></p>\n<p>You need different spawn positions in there to make sure you don't get the same wander on both axis, and also so its a different wander for all enemies. This gives you a non-escaping wander. You may need to put a random into this as well in the case you have xSpawn and ySpawn being exactly the same.</p>\n<p>Create targetWanderPosition from the original spawn position plus offsets. Then the enemy simply heads towards this point.</p>\n<p><code>Vector2 wanderForce = (currentPosition.sub(targetWanderPosition)).scl(movementStrength);</code></p>\n<p>So basically the enemy -continuously heads- to the ideal wanderPoint, which will itself be a wander around the spawn point.</p>\n"}],"owner":{"account_id":6450014,"reputation":11895,"user_id":4997239,"accept_rate":61,"display_name":"Hasen"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668696668,"creation_date":1668101908,"question_id":74393188,"body_markdown":"I have a function that returns a random wander force for an enemy AI using perlin noise but I want to know how I can &#39;weight&#39; it so if it gets too far away from its original spawn point, it will gradually turn around and return.\r\n\r\n    private Vector2 wanderForce() {\r\n        perlinPos += inc;\r\n        float tempAngle = (float) (SimplexNoise.noise(perlinPos, 100.213) * wanderPower) + startAngle;\r\n        float dist = origPos.cpy().sub(pos).len();// distance from spawn point\r\n        wanderForce = AngVecTools.angleToVect(tempAngle);\r\n        return wanderForce;\r\n    }","title":"AI Wander how to weight wander to return to spawn point","body":"<p>I have a function that returns a random wander force for an enemy AI using perlin noise but I want to know how I can 'weight' it so if it gets too far away from its original spawn point, it will gradually turn around and return.</p>\n<pre><code>private Vector2 wanderForce() {\n    perlinPos += inc;\n    float tempAngle = (float) (SimplexNoise.noise(perlinPos, 100.213) * wanderPower) + startAngle;\n    float dist = origPos.cpy().sub(pos).len();// distance from spawn point\n    wanderForce = AngVecTools.angleToVect(tempAngle);\n    return wanderForce;\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":9072254,"reputation":1014,"user_id":6754986,"display_name":"LinFelix"},"score":1,"creation_date":1668688420,"post_id":74475531,"comment_id":131469705,"body_markdown":"Why not linke the official documentation that you found if it confuses you?","body":"Why not linke the official documentation that you found if it confuses you?"},{"owner":{"account_id":1677570,"reputation":18354,"user_id":1542723,"display_name":"Ferrybig"},"score":2,"creation_date":1668688445,"post_id":74475531,"comment_id":131469713,"body_markdown":"No, those methods are not the same, `FileInputStream` overrides the method with its own (faster) implementation","body":"No, those methods are not the same, <code>FileInputStream</code> overrides the method with its own (faster) implementation"},{"owner":{"account_id":26962173,"reputation":41,"user_id":20529695,"display_name":"cuo yiban"},"score":0,"creation_date":1668689440,"post_id":74475531,"comment_id":131470074,"body_markdown":"@Ferrybig So the only way to know how it works in code is to read openJDK code?","body":"@Ferrybig So the only way to know how it works in code is to read openJDK code?"},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1668696363,"post_id":74475531,"comment_id":131473068,"body_markdown":"As a new Java programmer, why are you even trying to read this? You don&#39;t need read the Java implementation code to be able to *use* it.","body":"As a new Java programmer, why are you even trying to read this? You don&#39;t need read the Java implementation code to be able to <i>use</i> it."},{"owner":{"account_id":26962173,"reputation":41,"user_id":20529695,"display_name":"cuo yiban"},"score":0,"creation_date":1668738899,"post_id":74475531,"comment_id":131485337,"body_markdown":"@MarkRotteveel Well,I want to lay a good foundation.If I just know how to use it instead of how it works,I may forget it easily.","body":"@MarkRotteveel Well,I want to lay a good foundation.If I just know how to use it instead of how it works,I may forget it easily."}],"answers":[{"tags":[],"owner":{"account_id":19780517,"reputation":141,"user_id":14485623,"display_name":"kuriboh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668696420,"creation_date":1668693328,"answer_id":74476681,"question_id":74475531,"body_markdown":"```FileInputStream``` extends ```InputStream``` and overrides ```read``` in ```InputStream```. Its difference can be found in the [documentation](https://docs.oracle.com/javase/8/docs/api/java/io/FileInputStream.html). They are not the same.\r\n\r\nTo be more specific, in ```FileInputStream```, its [```readBytes```](https://hg.openjdk.java.net/jdk8/jdk8/jdk/file/687fd7c7986d/src/share/native/java/io/io_util.c) calls ```IO_read```(which finally calls ```read``` function in C) one time to read files. \r\n\r\n```nread = IO_Read(fd, buf, len);```\r\n\r\nWhile in ```InputStream```, it calls ```read()``` byte by byte.\r\n```\r\nint c = read();\r\nif (c == -1) {\r\n    return -1;\r\n}\r\nb[off] = (byte)c;\r\n\r\nint i = 1;\r\ntry {\r\n    for (; i &lt; len ; i++) {\r\n        c = read();\r\n        if (c == -1) {\r\n            break;\r\n        }\r\n        b[off + i] = (byte)c;\r\n    }\r\n} catch (IOException ee) {\r\n}\r\n```\r\nAnd because of its inheritance, you can call ```InputStream```&#39;s ```read``` using ```super``` keyword.","title":"Is the method read(byte b[], int off, int len) in InputStream same as the method read(byte b[], int off, int len) in FileInputStream?","body":"<p><code>FileInputStream</code> extends <code>InputStream</code> and overrides <code>read</code> in <code>InputStream</code>. Its difference can be found in the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/io/FileInputStream.html\" rel=\"nofollow noreferrer\">documentation</a>. They are not the same.</p>\n<p>To be more specific, in <code>FileInputStream</code>, its <a href=\"https://hg.openjdk.java.net/jdk8/jdk8/jdk/file/687fd7c7986d/src/share/native/java/io/io_util.c\" rel=\"nofollow noreferrer\"><code>readBytes</code></a> calls <code>IO_read</code>(which finally calls <code>read</code> function in C) one time to read files.</p>\n<p><code>nread = IO_Read(fd, buf, len);</code></p>\n<p>While in <code>InputStream</code>, it calls <code>read()</code> byte by byte.</p>\n<pre><code>int c = read();\nif (c == -1) {\n    return -1;\n}\nb[off] = (byte)c;\n\nint i = 1;\ntry {\n    for (; i &lt; len ; i++) {\n        c = read();\n        if (c == -1) {\n            break;\n        }\n        b[off + i] = (byte)c;\n    }\n} catch (IOException ee) {\n}\n</code></pre>\n<p>And because of its inheritance, you can call <code>InputStream</code>'s <code>read</code> using <code>super</code> keyword.</p>\n"}],"owner":{"account_id":26962173,"reputation":41,"user_id":20529695,"display_name":"cuo yiban"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74476681,"answer_count":1,"score":-1,"last_activity_date":1668696420,"creation_date":1668688285,"question_id":74475531,"body_markdown":"I am a new Java programmer. When I read source code of Java 17, I want to know how the method of `read(byte b[], int off, int len)` works in FileInputStream, [FileInputStream&#39;s read method](https://i.stack.imgur.com/oV9oi.png). I found it returns readBytes which is a native method, [FileInputStream&#39;s native readBytes method](https://i.stack.imgur.com/ELq9x.png). I didn&#39;t learn C code, so I can&#39;t read OpenJDK&#39;s source code. When I read Java official documen, I noticed that sentences in `FileInputStream read(byte b[], int off, int len)`&#39;s description: _&quot;See Also:InputStream.read()&quot;_ ([Java official documentation](https://i.stack.imgur.com/GQMVu.png)). I really found a method in InputStream with the same name and parameters. \r\n\r\nSo, I want to ask, are these two read methods the same? [InputStream&#39;s read method](https://i.stack.imgur.com/76kI9.png)\r\n\r\nCan I just read `InputStream&#39;s read(byte b[], int off, int len)` to replace the native read method in FileInputStream?\r\n\r\nI didn&#39;t learn C code, so I can&#39;t read OpenJDK&#39;s source code. I try to resolve my question with Java official documentation.\r\n\r\n\r\n\r\n","title":"Is the method read(byte b[], int off, int len) in InputStream same as the method read(byte b[], int off, int len) in FileInputStream?","body":"<p>I am a new Java programmer. When I read source code of Java 17, I want to know how the method of <code>read(byte b[], int off, int len)</code> works in FileInputStream, <a href=\"https://i.stack.imgur.com/oV9oi.png\" rel=\"nofollow noreferrer\">FileInputStream's read method</a>. I found it returns readBytes which is a native method, <a href=\"https://i.stack.imgur.com/ELq9x.png\" rel=\"nofollow noreferrer\">FileInputStream's native readBytes method</a>. I didn't learn C code, so I can't read OpenJDK's source code. When I read Java official documen, I noticed that sentences in <code>FileInputStream read(byte b[], int off, int len)</code>'s description: <em>&quot;See Also:InputStream.read()&quot;</em> (<a href=\"https://i.stack.imgur.com/GQMVu.png\" rel=\"nofollow noreferrer\">Java official documentation</a>). I really found a method in InputStream with the same name and parameters.</p>\n<p>So, I want to ask, are these two read methods the same? <a href=\"https://i.stack.imgur.com/76kI9.png\" rel=\"nofollow noreferrer\">InputStream's read method</a></p>\n<p>Can I just read <code>InputStream's read(byte b[], int off, int len)</code> to replace the native read method in FileInputStream?</p>\n<p>I didn't learn C code, so I can't read OpenJDK's source code. I try to resolve my question with Java official documentation.</p>\n"},{"tags":["java","ant","build","gradle"],"comments":[{"owner":{"account_id":413995,"reputation":28249,"user_id":787968,"accept_rate":25,"display_name":"Rene Groeschke"},"score":2,"creation_date":1411457858,"post_id":25989407,"comment_id":40698611,"body_markdown":"what kind of dependencies do you mean? do you mean task dependencies or library dependencies?","body":"what kind of dependencies do you mean? do you mean task dependencies or library dependencies?"},{"owner":{"account_id":343146,"reputation":11083,"user_id":674669,"accept_rate":58,"display_name":"user674669"},"score":1,"creation_date":1411461116,"post_id":25989407,"comment_id":40700375,"body_markdown":"I just want to do gradle run as fast as possible because I know all dependencies have been built. I just want it to start the task ASAP.","body":"I just want to do gradle run as fast as possible because I know all dependencies have been built. I just want it to start the task ASAP."},{"owner":{"account_id":403352,"reputation":4731,"user_id":771055,"display_name":"Radim"},"score":0,"creation_date":1411478361,"post_id":25989407,"comment_id":40710348,"body_markdown":"I believe you already use Gradle daemon mode to speed up your build.","body":"I believe you already use Gradle daemon mode to speed up your build."},{"owner":{"account_id":343146,"reputation":11083,"user_id":674669,"accept_rate":58,"display_name":"user674669"},"score":0,"creation_date":1411488327,"post_id":25989407,"comment_id":40717106,"body_markdown":"I have org.gradle.daemon=true and configureondemand=true in ~/.gradle/gradle.properties.","body":"I have org.gradle.daemon=true and configureondemand=true in ~/.gradle/gradle.properties."}],"answers":[{"tags":[],"owner":{"account_id":396919,"reputation":3944,"user_id":760757,"display_name":"Adam Adamaszek"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1460019140,"creation_date":1460019140,"answer_id":36471181,"question_id":25989407,"body_markdown":"If you want to exclude module dependencies, there is a `-a`, or `--no-rebuild` option to skip other subprojects/modules.\r\n\r\nIf you want to skip the compilation, or resources tasks, you can use the `-x` option.","title":"How do I gradle run without any dependency checking?","body":"<p>If you want to exclude module dependencies, there is a <code>-a</code>, or <code>--no-rebuild</code> option to skip other subprojects/modules.</p>\n\n<p>If you want to skip the compilation, or resources tasks, you can use the <code>-x</code> option.</p>\n"},{"tags":[],"owner":{"account_id":303225,"reputation":1793,"user_id":5690147,"display_name":"Yann Vo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668696295,"creation_date":1668696295,"answer_id":74477372,"question_id":25989407,"body_markdown":"If running on bash, you can skip all dependencies like this\r\n\r\n    ./gradlew test $(./gradlew test --dry-run | awk &#39;/^:/ { print &quot;-x&quot; $1 }&#39; | sed &#39;$ d&#39;)\r\n\r\nWhat this does is simply \r\n* to do a dry-run of the build, to detect all dependencies and \r\n* build a command line with all required -x flags.\r\n\r\nNotice:\r\n* you can use the Gradle `--console plain` flag if you want to see the initial output without the pretty-print features of Gradle\r\n* the sed allows to skip the last line... awk being quite complex to do the same...","title":"How do I gradle run without any dependency checking?","body":"<p>If running on bash, you can skip all dependencies like this</p>\n<pre><code>./gradlew test $(./gradlew test --dry-run | awk '/^:/ { print &quot;-x&quot; $1 }' | sed '$ d')\n</code></pre>\n<p>What this does is simply</p>\n<ul>\n<li>to do a dry-run of the build, to detect all dependencies and</li>\n<li>build a command line with all required -x flags.</li>\n</ul>\n<p>Notice:</p>\n<ul>\n<li>you can use the Gradle <code>--console plain</code> flag if you want to see the initial output without the pretty-print features of Gradle</li>\n<li>the sed allows to skip the last line... awk being quite complex to do the same...</li>\n</ul>\n"}],"owner":{"account_id":343146,"reputation":11083,"user_id":674669,"accept_rate":58,"display_name":"user674669"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4540,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1668696295,"creation_date":1411457496,"question_id":25989407,"body_markdown":"We have a complex set of build.gradle scripts.\r\n\r\nIs it possible to run a task without dependency checking of any kind?\r\n\r\ne.g.\r\n\r\n    gradle run\r\n\r\nshould just start the jvm and nothing else?\r\n\r\nThank you.\r\n\r\n","title":"How do I gradle run without any dependency checking?","body":"<p>We have a complex set of build.gradle scripts.</p>\n\n<p>Is it possible to run a task without dependency checking of any kind?</p>\n\n<p>e.g.</p>\n\n<pre><code>gradle run\n</code></pre>\n\n<p>should just start the jvm and nothing else?</p>\n\n<p>Thank you.</p>\n"},{"tags":["java","ant","cucumber","hacl"],"comments":[{"owner":{"account_id":3890138,"reputation":2674,"user_id":3220554,"display_name":"phunsoft"},"score":0,"creation_date":1668688060,"post_id":74475143,"comment_id":131469571,"body_markdown":"How does your question relate to `mainframe`?","body":"How does your question relate to <code>mainframe</code>?"},{"owner":{"account_id":26886017,"reputation":1,"user_id":20465575,"display_name":"amar"},"score":0,"creation_date":1668688841,"post_id":74475143,"comment_id":131469849,"body_markdown":"My application is Mainframe application using HACL library","body":"My application is Mainframe application using HACL library"}],"owner":{"account_id":26886017,"reputation":1,"user_id":20465575,"display_name":"amar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668695976,"creation_date":1668686570,"question_id":74475143,"body_markdown":"I want to execute cucumber feature file parallel, I am using ant build file for build the application below is the sample cucumber file I am reading the data from excel sheet, If excel sheet has 10 data, I want split the data into 2 parts and each part 5 data and execute that 2 parts parallel. In cucumber how can we execute parallel without maven plugin and TestNg, here I am using ant file for build, How can we implement this? Through Java or multi threading can we implement this?\r\n\r\n    Scenario: Read excel files data \r\n    Given Launch mainframe application with &quot;Host&quot; &quot;Port&quot; \r\n    Given Login credentials with &quot;UserId&quot; &quot;Pwd&quot; \r\n    Then I want to read excel data from &quot;abc.xlsx&quot; and process \r\n    Then I logout`","title":"How can we Cucumber file Parallel execution using Ant","body":"<p>I want to execute cucumber feature file parallel, I am using ant build file for build the application below is the sample cucumber file I am reading the data from excel sheet, If excel sheet has 10 data, I want split the data into 2 parts and each part 5 data and execute that 2 parts parallel. In cucumber how can we execute parallel without maven plugin and TestNg, here I am using ant file for build, How can we implement this? Through Java or multi threading can we implement this?</p>\n<pre><code>Scenario: Read excel files data \nGiven Launch mainframe application with &quot;Host&quot; &quot;Port&quot; \nGiven Login credentials with &quot;UserId&quot; &quot;Pwd&quot; \nThen I want to read excel data from &quot;abc.xlsx&quot; and process \nThen I logout`\n</code></pre>\n"},{"tags":["java","gzip","parallel-processing"],"comments":[{"owner":{"account_id":25066,"reputation":66292,"user_id":64174,"accept_rate":100,"display_name":"Sean Owen"},"score":1,"creation_date":1319269512,"post_id":7858101,"comment_id":9584480,"body_markdown":"Is this homework? It certainly seems like the intent is for you to implement this from scratch, rather than copy `GZIPOutputStream` if so. As you say that class is not parallelized already for you.","body":"Is this homework? It certainly seems like the intent is for you to implement this from scratch, rather than copy <code>GZIPOutputStream</code> if so. As you say that class is not parallelized already for you."},{"owner":{"account_id":114848,"reputation":134179,"user_id":301832,"accept_rate":60,"display_name":"Donal Fellows"},"score":0,"creation_date":1319271887,"post_id":7858101,"comment_id":9584677,"body_markdown":"The GzipOutputStream is a wrapper round the Deflater, surely?","body":"The GzipOutputStream is a wrapper round the Deflater, surely?"},{"owner":{"account_id":944942,"reputation":61,"user_id":972352,"display_name":"am3692"},"score":0,"creation_date":1319306200,"post_id":7858101,"comment_id":9589028,"body_markdown":"Yea, this is a homework assignment. I was told Deflaters should work, but I can&#39;t seem to get them to compress properly in GZip format.","body":"Yea, this is a homework assignment. I was told Deflaters should work, but I can&#39;t seem to get them to compress properly in GZip format."}],"answers":[{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1319270703,"creation_date":1319270703,"answer_id":7858202,"question_id":7858101,"body_markdown":"To make a process concurrent, you need to have portions of code which can run concurrently and independently.  Most compression algorithms are designed to be run sequentially, where every byte depends on every byte has comes before.\r\n\r\nThe only way to do compression concurrently is to change the algorythm (making it incompatible with existing approaches) ","title":"Java - Parallelizing Gzip","body":"<p>To make a process concurrent, you need to have portions of code which can run concurrently and independently.  Most compression algorithms are designed to be run sequentially, where every byte depends on every byte has comes before.</p>\n\n<p>The only way to do compression concurrently is to change the algorythm (making it incompatible with existing approaches) </p>\n"},{"tags":[],"owner":{"account_id":903562,"reputation":15094,"user_id":939023,"accept_rate":90,"display_name":"Shivan Dragon"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1668695784,"creation_date":1319271447,"answer_id":7858264,"question_id":7858101,"body_markdown":"Yep, zipping a file with dictionary can&#39;t be parallelized, as everything depends on everything. Maybe your teacher asked you to parallelize the individual gzipping of multiple files in a folder? That would be a great example of parallelized work.","title":"Java - Parallelizing Gzip","body":"<p>Yep, zipping a file with dictionary can't be parallelized, as everything depends on everything. Maybe your teacher asked you to parallelize the individual gzipping of multiple files in a folder? That would be a great example of parallelized work.</p>\n"},{"tags":[],"owner":{"account_id":114848,"reputation":134179,"user_id":301832,"accept_rate":60,"display_name":"Donal Fellows"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1319271831,"creation_date":1319271523,"answer_id":7858274,"question_id":7858101,"body_markdown":"I ***think*** you can do it by inserting appropriate resets in the compression stream. The idea is that the underlying compression engine used in gzip _allows_ the [deflater](http://download.oracle.com/javase/7/docs/api/java/util/zip/Deflater.html) to be reset, with an aim that it makes it easier to recover from stream corruption, though at a cost of making the compression ratio worse. After reset, the deflater will be in a known state and thus you could in fact start from that state (which is independent of the content being compressed) in multiple threads (and from many locations in the input data, of course) produce a compressed chunk and include the data produced when doing the following reset so that it takes the deflater back to the known state. Then you&#39;ve just to reassemble the compressed pieces into the overall compressed stream. Simple! (Hah!)\r\n\r\nI don&#39;t know if this will work, and I suspect that the complexity of the whole thing will make it not a viable choice except when you&#39;re compressing single very large files. (If you had many files, it would be _much_ easier to just compress each of those in parallel.) Still, that&#39;s what I&#39;d try first.\r\n\r\n(Also note that the gzip format is just a deflated stream with extra metadata.)","title":"Java - Parallelizing Gzip","body":"<p>I <strong><em>think</em></strong> you can do it by inserting appropriate resets in the compression stream. The idea is that the underlying compression engine used in gzip <em>allows</em> the <a href=\"http://download.oracle.com/javase/7/docs/api/java/util/zip/Deflater.html\" rel=\"nofollow\">deflater</a> to be reset, with an aim that it makes it easier to recover from stream corruption, though at a cost of making the compression ratio worse. After reset, the deflater will be in a known state and thus you could in fact start from that state (which is independent of the content being compressed) in multiple threads (and from many locations in the input data, of course) produce a compressed chunk and include the data produced when doing the following reset so that it takes the deflater back to the known state. Then you've just to reassemble the compressed pieces into the overall compressed stream. Simple! (Hah!)</p>\n\n<p>I don't know if this will work, and I suspect that the complexity of the whole thing will make it not a viable choice except when you're compressing single very large files. (If you had many files, it would be <em>much</em> easier to just compress each of those in parallel.) Still, that's what I'd try first.</p>\n\n<p>(Also note that the gzip format is just a deflated stream with extra metadata.)</p>\n"}],"owner":{"account_id":944942,"reputation":61,"user_id":972352,"display_name":"am3692"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3363,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":3,"score":5,"last_activity_date":1668695784,"creation_date":1319269352,"question_id":7858101,"body_markdown":"I was assigned to parallelize GZip in Java 7, and I am not sure which is possible.\r\n\r\nThe assignment is: \r\n\r\n - Parallelize gzip using a given number of threads\r\n - Each thread takes a 1024 KiB block, using the last 32 KiB block from\r\n   the previous block as a dictionary. There is an option to use no\r\n   dicitionary\r\n - Read from Stdin and stdout\r\n\r\nWhat I have tried:\r\n\r\n - I have tried using GZIPOutputStream, but there doesn&#39;t seem to be a\r\n   way to isolate and parallelize the deflate(), nor can I access the\r\n   deflater to alter the dictionary. I tried extending off of GZIPOutputStream, but it didn&#39;t seem to act as I wanted to, since I still couldn&#39;t isolate the compress/deflate.\r\n - I tried using Deflater with wrap enabled and a FilterOutputStream to\r\n   output the compressed bytes, but I wasn&#39;t able to get it to compress\r\n   properly in GZip format. I made it so each thread had a compressor that will write to a byte array, then it will write to the OutputStream.\r\n\r\nI am not sure if I am did my approaches wrong or took the wrong approaches completely. Can anyone point me the right direction for which classes to use for this project?","title":"Java - Parallelizing Gzip","body":"<p>I was assigned to parallelize GZip in Java 7, and I am not sure which is possible.</p>\n\n<p>The assignment is: </p>\n\n<ul>\n<li>Parallelize gzip using a given number of threads</li>\n<li>Each thread takes a 1024 KiB block, using the last 32 KiB block from\nthe previous block as a dictionary. There is an option to use no\ndicitionary</li>\n<li>Read from Stdin and stdout</li>\n</ul>\n\n<p>What I have tried:</p>\n\n<ul>\n<li>I have tried using GZIPOutputStream, but there doesn't seem to be a\nway to isolate and parallelize the deflate(), nor can I access the\ndeflater to alter the dictionary. I tried extending off of GZIPOutputStream, but it didn't seem to act as I wanted to, since I still couldn't isolate the compress/deflate.</li>\n<li>I tried using Deflater with wrap enabled and a FilterOutputStream to\noutput the compressed bytes, but I wasn't able to get it to compress\nproperly in GZip format. I made it so each thread had a compressor that will write to a byte array, then it will write to the OutputStream.</li>\n</ul>\n\n<p>I am not sure if I am did my approaches wrong or took the wrong approaches completely. Can anyone point me the right direction for which classes to use for this project?</p>\n"},{"tags":["java","amazon-dynamodb"],"comments":[{"owner":{"account_id":10112469,"reputation":638,"user_id":7472239,"accept_rate":68,"display_name":"Sikandar Sahab"},"score":0,"creation_date":1668690344,"post_id":74475887,"comment_id":131470456,"body_markdown":"@RobertHarvey please check edited question, I have defined how does getItems() method looks like","body":"@RobertHarvey please check edited question, I have defined how does getItems() method looks like"}],"answers":[{"tags":[],"owner":{"account_id":2163224,"reputation":6602,"user_id":1916917,"accept_rate":60,"display_name":"Holloway"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668690976,"creation_date":1668690784,"answer_id":74476086,"question_id":74475887,"body_markdown":"You can&#39;t cast directly so you will need to implement something like `PricingRule::fromMap` and do something like\r\n\r\n    class PricingRule {\r\n        // everything you already have\r\n        public static PricingRule fromMap(Map&lt;String, AttributeValue&gt; items) {\r\n            // create PricingRule\r\n        }\r\n    }\r\n\r\nThen when you need your list you can use something like\r\n\r\n    List&lt;java.util.Map&lt;String, AttributeValue&gt;&gt; items =  executeStatementResult.getItems();\r\n    \r\n    // assumes java 17+, alternatively use .collect(Collectors.toList())\r\n    List&lt;PricingRule&gt; pricingRules = items.stream().map(PricingRule::fromMap).toList();\r\n\r\n","title":"is it possible to convert statement result to List&lt;Object&gt; in java","body":"<p>You can't cast directly so you will need to implement something like <code>PricingRule::fromMap</code> and do something like</p>\n<pre><code>class PricingRule {\n    // everything you already have\n    public static PricingRule fromMap(Map&lt;String, AttributeValue&gt; items) {\n        // create PricingRule\n    }\n}\n</code></pre>\n<p>Then when you need your list you can use something like</p>\n<pre><code>List&lt;java.util.Map&lt;String, AttributeValue&gt;&gt; items =  executeStatementResult.getItems();\n\n// assumes java 17+, alternatively use .collect(Collectors.toList())\nList&lt;PricingRule&gt; pricingRules = items.stream().map(PricingRule::fromMap).toList();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10112469,"reputation":638,"user_id":7472239,"accept_rate":68,"display_name":"Sikandar Sahab"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668692842,"creation_date":1668692842,"answer_id":74476569,"question_id":74475887,"body_markdown":"I got solution and posting if someone may come up with this problem in future.\r\n\r\n    public List&lt;PricingRule&gt; statementToList() {\r\n\r\n        List&lt;PricingRule&gt; pricingRules = new ArrayList&lt;&gt;();\r\n\r\n        try {\r\n            // Create ExecuteStatementRequest\r\n            ExecuteStatementRequest executeStatementRequest = createExecuteStatementRequest();\r\n            ExecuteStatementResult executeStatementResult = dynamoDB.executeStatement(executeStatementRequest);\r\n\r\n            final ObjectMapper mapper = new ObjectMapper();\r\n            executeStatementResult.getItems().forEach(item -&gt; pricingRules.add(mapper.convertValue(ItemUtils.toSimpleMapValue(item), PricingRule.class)));\r\n\r\n        } catch (Exception e) {\r\n            handleExecuteStatementErrors(e);\r\n        }\r\n\r\n        return pricingRules;\r\n\r\n    }","title":"is it possible to convert statement result to List&lt;Object&gt; in java","body":"<p>I got solution and posting if someone may come up with this problem in future.</p>\n<pre><code>public List&lt;PricingRule&gt; statementToList() {\n\n    List&lt;PricingRule&gt; pricingRules = new ArrayList&lt;&gt;();\n\n    try {\n        // Create ExecuteStatementRequest\n        ExecuteStatementRequest executeStatementRequest = createExecuteStatementRequest();\n        ExecuteStatementResult executeStatementResult = dynamoDB.executeStatement(executeStatementRequest);\n\n        final ObjectMapper mapper = new ObjectMapper();\n        executeStatementResult.getItems().forEach(item -&gt; pricingRules.add(mapper.convertValue(ItemUtils.toSimpleMapValue(item), PricingRule.class)));\n\n    } catch (Exception e) {\n        handleExecuteStatementErrors(e);\n    }\n\n    return pricingRules;\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7392763,"reputation":3367,"user_id":5625696,"accept_rate":50,"display_name":"Borislav Stoilov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668695762,"creation_date":1668695762,"answer_id":74477251,"question_id":74475887,"body_markdown":"Glad you managed to solve your problem, but have you considered using the table resource?\r\n\r\n```java\r\nvar table = dynamoDbEnhancedClient.table(&quot;TableName&quot;, TableSchema.fromClass(PricingRule.class));\r\nList&lt;PricingRule&gt; items = table.query(&lt;condition&gt;).items().stream().toList();\r\n```\r\n\r\nThis code requires that PricingRule is defined as a dynamo bean, for example\r\n\r\n```java\r\n@DynamoDbBean\r\npublic class PricingRule {\r\n    private String pk;\r\n    private String sk;\r\n    private String field1;\r\n    private String field2;\r\n\r\n    public PricingRule() {\r\n        \r\n    }\r\n\r\n    @DynamoDbPartitionKey\r\n    public String getPk() {\r\n        return pk;\r\n    }\r\n\r\n    public void setPk(String pk) {\r\n        this.pk = pk;\r\n    }\r\n    \r\n    @DynamoDbSortKey\r\n    public String getSk() {\r\n        return sk;\r\n    }\r\n\r\n    public void setSk(String sk) {\r\n        this.sk = sk;\r\n    }\r\n\r\n    public String getField1() {\r\n        return field1;\r\n    }\r\n\r\n    public void setField1(String field1) {\r\n        this.field1 = field1;\r\n    }\r\n\r\n    public String getField2() {\r\n        return field2;\r\n    }\r\n\r\n    public void setField2(String field2) {\r\n        this.field2 = field2;\r\n    }\r\n}\r\n```","title":"is it possible to convert statement result to List&lt;Object&gt; in java","body":"<p>Glad you managed to solve your problem, but have you considered using the table resource?</p>\n<pre class=\"lang-java prettyprint-override\"><code>var table = dynamoDbEnhancedClient.table(&quot;TableName&quot;, TableSchema.fromClass(PricingRule.class));\nList&lt;PricingRule&gt; items = table.query(&lt;condition&gt;).items().stream().toList();\n</code></pre>\n<p>This code requires that PricingRule is defined as a dynamo bean, for example</p>\n<pre class=\"lang-java prettyprint-override\"><code>@DynamoDbBean\npublic class PricingRule {\n    private String pk;\n    private String sk;\n    private String field1;\n    private String field2;\n\n    public PricingRule() {\n        \n    }\n\n    @DynamoDbPartitionKey\n    public String getPk() {\n        return pk;\n    }\n\n    public void setPk(String pk) {\n        this.pk = pk;\n    }\n    \n    @DynamoDbSortKey\n    public String getSk() {\n        return sk;\n    }\n\n    public void setSk(String sk) {\n        this.sk = sk;\n    }\n\n    public String getField1() {\n        return field1;\n    }\n\n    public void setField1(String field1) {\n        this.field1 = field1;\n    }\n\n    public String getField2() {\n        return field2;\n    }\n\n    public void setField2(String field2) {\n        this.field2 = field2;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":10112469,"reputation":638,"user_id":7472239,"accept_rate":68,"display_name":"Sikandar Sahab"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":348,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74476569,"answer_count":3,"score":0,"last_activity_date":1668695762,"creation_date":1668689977,"question_id":74475887,"body_markdown":"I want to convert the below statement result to list of my object. \r\n\r\n    import com.amazonaws.services.dynamodbv2.model.ExecuteStatementResult;\r\n    \r\n    ExecuteStatementResult executeStatementResult = dynamoDB.executeStatement(executeStatementRequest);\r\n    System.out.println( executeStatementResult.getItems() );\r\n\r\nOutput:\r\n\r\n    [{bookingClasses={S: A,B,C,}, suppliers={S: BA,1A,TF,}, adjustmentType={S: PERCENTAGE,}, departureStartDate={S: 2022-11-17,}}]\r\n\r\nPlease note .getItems() method is like below:\r\n\r\n    public java.util.List&lt;java.util.Map&lt;String, AttributeValue&gt;&gt; getItems() {\r\n        return items;\r\n    }\r\n\r\nI want something like this to work for me:\r\n\r\n    List&lt;java.util.Map&lt;String, AttributeValue&gt;&gt; items =  executeStatementResult.getItems();\r\n\r\n    List&lt;PricingRule&gt; pricingRules = ( List&lt;PricingRule&gt; ) items;\r\n\r\nAny help suggestion or workaround appreciated. \r\n\r\nThank you\r\n\r\n","title":"is it possible to convert statement result to List&lt;Object&gt; in java","body":"<p>I want to convert the below statement result to list of my object.</p>\n<pre><code>import com.amazonaws.services.dynamodbv2.model.ExecuteStatementResult;\n\nExecuteStatementResult executeStatementResult = dynamoDB.executeStatement(executeStatementRequest);\nSystem.out.println( executeStatementResult.getItems() );\n</code></pre>\n<p>Output:</p>\n<pre><code>[{bookingClasses={S: A,B,C,}, suppliers={S: BA,1A,TF,}, adjustmentType={S: PERCENTAGE,}, departureStartDate={S: 2022-11-17,}}]\n</code></pre>\n<p>Please note .getItems() method is like below:</p>\n<pre><code>public java.util.List&lt;java.util.Map&lt;String, AttributeValue&gt;&gt; getItems() {\n    return items;\n}\n</code></pre>\n<p>I want something like this to work for me:</p>\n<pre><code>List&lt;java.util.Map&lt;String, AttributeValue&gt;&gt; items =  executeStatementResult.getItems();\n\nList&lt;PricingRule&gt; pricingRules = ( List&lt;PricingRule&gt; ) items;\n</code></pre>\n<p>Any help suggestion or workaround appreciated.</p>\n<p>Thank you</p>\n"},{"tags":["java","quarkus"],"comments":[{"owner":{"account_id":1954609,"reputation":903,"user_id":1757919,"display_name":"Roberto Cortez"},"score":0,"creation_date":1668798362,"post_id":74477221,"comment_id":131501948,"body_markdown":"I&#39;ve tried reproducing the problem with your description, but everything seems to work as expected. Any change you can provide me with your reproducer that shows the issue? Thanks!","body":"I&#39;ve tried reproducing the problem with your description, but everything seems to work as expected. Any change you can provide me with your reproducer that shows the issue? Thanks!"},{"owner":{"account_id":14962556,"reputation":1,"user_id":10801887,"display_name":"elagabalus"},"score":0,"creation_date":1669123952,"post_id":74477221,"comment_id":131568478,"body_markdown":"thanks for reading the question, I&#39;m assigning thath variables in a bean, I see that the class is initialized at compile time so it keeps the same environment variable&#39;s value that had when it was compiled\nI tried --initialize-at-run-time but it did&#39;n work since its a bean","body":"thanks for reading the question, I&#39;m assigning thath variables in a bean, I see that the class is initialized at compile time so it keeps the same environment variable&#39;s value that had when it was compiled I tried --initialize-at-run-time but it did&#39;n work since its a bean"},{"owner":{"account_id":1954609,"reputation":903,"user_id":1757919,"display_name":"Roberto Cortez"},"score":0,"creation_date":1669209813,"post_id":74477221,"comment_id":131592205,"body_markdown":"Ah, so this really depends on how you are using the bean. In certain situations, Quarkus will eagerly initialize the bean and take the configuration used during the build, so you won&#39;t see a difference when you change it in runtime. An example is JAX-RS Providers, which are initialized during the native image build. For these cases, you should use `Instance&lt;T&gt;` injection, so you get an updated value.","body":"Ah, so this really depends on how you are using the bean. In certain situations, Quarkus will eagerly initialize the bean and take the configuration used during the build, so you won&#39;t see a difference when you change it in runtime. An example is JAX-RS Providers, which are initialized during the native image build. For these cases, you should use <code>Instance&lt;T&gt;</code> injection, so you get an updated value."},{"owner":{"account_id":14962556,"reputation":1,"user_id":10801887,"display_name":"elagabalus"},"score":0,"creation_date":1669296019,"post_id":74477221,"comment_id":131615683,"body_markdown":"Sorry I didn&#39;t understand, can you detail this Instance&lt;T&gt; solution?","body":"Sorry I didn&#39;t understand, can you detail this Instance&lt;T&gt; solution?"},{"owner":{"account_id":1954609,"reputation":903,"user_id":1757919,"display_name":"Roberto Cortez"},"score":0,"creation_date":1669721171,"post_id":74477221,"comment_id":131702151,"body_markdown":"Try `@ConfigProperty(name = &quot;LOCAL.JWT_PUBLIC_KEY&quot;) Instance&lt;String&gt; jwtPublicKey`.","body":"Try <code>@ConfigProperty(name = &quot;LOCAL.JWT_PUBLIC_KEY&quot;) Instance&lt;String&gt; jwtPublicKey</code>."}],"owner":{"account_id":14962556,"reputation":1,"user_id":10801887,"display_name":"elagabalus"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668695716,"creation_date":1668695634,"question_id":74477221,"body_markdown":"I have the following property in my application.properties\r\n\r\n    // application.properties\r\n    LOCAL.JWT_PUBLIC_KEY=${JWT_PUBLIC_KEY:KEY_JWT}\r\n\r\nAnd I&#39;m injecting that property using the microprofile config anotation ConfigProperty\r\n\r\n    // OnPremiseSecrets.java\r\n    public JwtConfig(@ConfigProperty(name = &quot;LOCAL.JWT_PUBLIC_KEY&quot;) String jwtPublicKey)\r\n\r\nit works perfectly while running the program in JVM with a compiled jar quarkusDev\r\nbut it doesn&#39;t work in a native graalvm compilation, in the logs it return KEY_JWT as jwtPublicKey value which is the default.\r\n\r\n\r\nI tried reading enviernment variables directry using \r\n```\r\nSystem.getenv\r\n```\r\nand it returns the right value, the environment variable is configured\r\n\r\n\r\n","title":"property expressions not working in quarkus native","body":"<p>I have the following property in my application.properties</p>\n<pre><code>// application.properties\nLOCAL.JWT_PUBLIC_KEY=${JWT_PUBLIC_KEY:KEY_JWT}\n</code></pre>\n<p>And I'm injecting that property using the microprofile config anotation ConfigProperty</p>\n<pre><code>// OnPremiseSecrets.java\npublic JwtConfig(@ConfigProperty(name = &quot;LOCAL.JWT_PUBLIC_KEY&quot;) String jwtPublicKey)\n</code></pre>\n<p>it works perfectly while running the program in JVM with a compiled jar quarkusDev\nbut it doesn't work in a native graalvm compilation, in the logs it return KEY_JWT as jwtPublicKey value which is the default.</p>\n<p>I tried reading enviernment variables directry using</p>\n<pre><code>System.getenv\n</code></pre>\n<p>and it returns the right value, the environment variable is configured</p>\n"},{"tags":["java","flutter","encryption","dart","media"],"answers":[{"tags":[],"owner":{"account_id":11131060,"reputation":183,"user_id":8511016,"display_name":"Jan Ndungu"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1580808429,"creation_date":1580807996,"answer_id":60054142,"question_id":59981337,"body_markdown":"Here is the solution that I found. Hope it helps. Remember to add the package [encryption package](https://pub.dev/packages/encrypt) to pubspec.yaml\r\n\r\n    import &#39;dart:convert&#39;;\r\n    import &#39;dart:io&#39;;\r\n    \r\n    import &#39;package:encrypt/encrypt.dart&#39;;\r\n    \r\n    main() {\r\n     \r\n      perfomEncryptionTasks();\r\n    }\r\n    \r\n    perfomEncryptionTasks() async {\r\n      await encryptFile();\r\n      await decryptFile();\r\n    }\r\n    \r\n    encryptFile() async {\r\n      File inFile = new File(&quot;video.mp4&quot;);\r\n      File outFile = new File(&quot;videoenc.aes&quot;);\r\n    \r\n      bool outFileExists = await outFile.exists();\r\n    \r\n      if(!outFileExists){\r\n        await outFile.create();\r\n      }\r\n    \r\n      final videoFileContents = await inFile.readAsStringSync(encoding: latin1);\r\n    \r\n      final key = Key.fromUtf8(&#39;my 32 length key................&#39;);\r\n      final iv = IV.fromLength(16);\r\n    \r\n      final encrypter = Encrypter(AES(key));\r\n    \r\n      final encrypted = encrypter.encrypt(videoFileContents, iv: iv);\r\n      await outFile.writeAsBytes(encrypted.bytes);\r\n    }\r\n    \r\n    decryptFile() async {\r\n      File inFile = new File(&quot;videoenc.aes&quot;);\r\n      File outFile = new File(&quot;videodec.mp4&quot;);\r\n    \r\n      bool outFileExists = await outFile.exists();\r\n    \r\n      if(!outFileExists){\r\n        await outFile.create();\r\n      }\r\n    \r\n      final videoFileContents = await inFile.readAsBytesSync();\r\n    \r\n      final key = Key.fromUtf8(&#39;my 32 length key................&#39;);\r\n      final iv = IV.fromLength(16);\r\n    \r\n      final encrypter = Encrypter(AES(key));\r\n    \r\n      final encryptedFile = Encrypted(videoFileContents);\r\n      final decrypted = encrypter.decrypt(encryptedFile, iv: iv);\r\n    \r\n      final decryptedBytes = latin1.encode(decrypted);\r\n      await outFile.writeAsBytes(decryptedBytes);\r\n      \r\n    }\r\n\r\n\r\n","title":"How can I encrypt video file using Dart?","body":"<p>Here is the solution that I found. Hope it helps. Remember to add the package <a href=\"https://pub.dev/packages/encrypt\" rel=\"noreferrer\">encryption package</a> to pubspec.yaml</p>\n\n<pre><code>import 'dart:convert';\nimport 'dart:io';\n\nimport 'package:encrypt/encrypt.dart';\n\nmain() {\n\n  perfomEncryptionTasks();\n}\n\nperfomEncryptionTasks() async {\n  await encryptFile();\n  await decryptFile();\n}\n\nencryptFile() async {\n  File inFile = new File(\"video.mp4\");\n  File outFile = new File(\"videoenc.aes\");\n\n  bool outFileExists = await outFile.exists();\n\n  if(!outFileExists){\n    await outFile.create();\n  }\n\n  final videoFileContents = await inFile.readAsStringSync(encoding: latin1);\n\n  final key = Key.fromUtf8('my 32 length key................');\n  final iv = IV.fromLength(16);\n\n  final encrypter = Encrypter(AES(key));\n\n  final encrypted = encrypter.encrypt(videoFileContents, iv: iv);\n  await outFile.writeAsBytes(encrypted.bytes);\n}\n\ndecryptFile() async {\n  File inFile = new File(\"videoenc.aes\");\n  File outFile = new File(\"videodec.mp4\");\n\n  bool outFileExists = await outFile.exists();\n\n  if(!outFileExists){\n    await outFile.create();\n  }\n\n  final videoFileContents = await inFile.readAsBytesSync();\n\n  final key = Key.fromUtf8('my 32 length key................');\n  final iv = IV.fromLength(16);\n\n  final encrypter = Encrypter(AES(key));\n\n  final encryptedFile = Encrypted(videoFileContents);\n  final decrypted = encrypter.decrypt(encryptedFile, iv: iv);\n\n  final decryptedBytes = latin1.encode(decrypted);\n  await outFile.writeAsBytes(decryptedBytes);\n\n}\n</code></pre>\n"}],"owner":{"account_id":11131060,"reputation":183,"user_id":8511016,"display_name":"Jan Ndungu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3589,"favorite_count":0,"down_vote_count":2,"up_vote_count":5,"accepted_answer_id":60054142,"answer_count":1,"score":3,"last_activity_date":1668695609,"creation_date":1580371009,"question_id":59981337,"body_markdown":"I am trying to encrypt a video clip using dart. I have tested this java code https://stackoverflow.com/a/9496626/8511016 and would like to do the same but using dart. ","title":"How can I encrypt video file using Dart?","body":"<p>I am trying to encrypt a video clip using dart. I have tested this java code <a href=\"https://stackoverflow.com/a/9496626/8511016\">https://stackoverflow.com/a/9496626/8511016</a> and would like to do the same but using dart. </p>\n"},{"tags":["java","jakarta-ee","jpa","jpql","entities"],"comments":[{"owner":{"account_id":160350,"reputation":11421,"user_id":380338,"display_name":"Neil Stockton"},"score":0,"creation_date":1435241842,"post_id":31052792,"comment_id":50126949,"body_markdown":"you don&#39;t have the same situation as that linked post ... your List is of a String, not an Embeddable. Consequently your JPQL &quot;ideatags.tags&quot; makes no sense at all. So are you trying to find all Idea objects that have a specific &quot;tag&quot; contained?","body":"you don&#39;t have the same situation as that linked post ... your List is of a String, not an Embeddable. Consequently your JPQL &quot;ideatags.tags&quot; makes no sense at all. So are you trying to find all Idea objects that have a specific &quot;tag&quot; contained?"},{"owner":{"account_id":2905205,"reputation":334,"user_id":2490798,"accept_rate":83,"display_name":"jmcorallo"},"score":0,"creation_date":1435242009,"post_id":31052792,"comment_id":50127076,"body_markdown":"Oh thanks (i&#39;m new to JEE and JPQL). Exactly, I want to get all the Idea objects that contain that &quot;tag&quot;","body":"Oh thanks (i&#39;m new to JEE and JPQL). Exactly, I want to get all the Idea objects that contain that &quot;tag&quot;"}],"answers":[{"tags":[],"owner":{"account_id":5813910,"reputation":820,"user_id":4584155,"display_name":"Panchitoboy"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1435243452,"creation_date":1435242275,"answer_id":31053173,"question_id":31052792,"body_markdown":"You have some problems with your query:\r\n\r\n    select ideatags \r\n    from Idea i inner join i.tags ideatags\r\n    where ideatags.tags = :pTag\r\n\r\nYou want the result as Idea but you select a List&lt;String&gt;.\r\n\r\nYou get your List&lt;String&gt; tags in ideatags, therefore you cant get the attribute tag of ideatags.\r\n\r\nif you want to search in the list you have to use IN.\r\n\r\n\r\nYou can try this:\r\n\r\n    select i\r\n    from Idea i\r\n    where :pTag IN (i.tags)","title":"JPQL Query a list of Strings inside an Entity","body":"<p>You have some problems with your query:</p>\n\n<pre><code>select ideatags \nfrom Idea i inner join i.tags ideatags\nwhere ideatags.tags = :pTag\n</code></pre>\n\n<p>You want the result as Idea but you select a List.</p>\n\n<p>You get your List tags in ideatags, therefore you cant get the attribute tag of ideatags.</p>\n\n<p>if you want to search in the list you have to use IN.</p>\n\n<p>You can try this:</p>\n\n<pre><code>select i\nfrom Idea i\nwhere :pTag IN (i.tags)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15763432,"reputation":163,"user_id":11374561,"display_name":"Vikcen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1616012508,"creation_date":1616012508,"answer_id":66680662,"question_id":31052792,"body_markdown":"Try this:\r\n\r\n```\r\nselect e from entity e WHERE :element in elements(e.listOfStrings)\r\n```","title":"JPQL Query a list of Strings inside an Entity","body":"<p>Try this:</p>\n<pre><code>select e from entity e WHERE :element in elements(e.listOfStrings)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14528775,"reputation":1,"user_id":10494256,"display_name":"Roman Katzendorn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668695186,"creation_date":1668695083,"answer_id":74477111,"question_id":31052792,"body_markdown":"elements() - this work!\r\n\r\nwhere :pTag IN (i.tags) is not work ( ","title":"JPQL Query a list of Strings inside an Entity","body":"<p>elements() - this work!</p>\n<p>where :pTag IN (i.tags) is not work (</p>\n"}],"owner":{"account_id":2905205,"reputation":334,"user_id":2490798,"accept_rate":83,"display_name":"jmcorallo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6063,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":31053173,"answer_count":3,"score":2,"last_activity_date":1668695186,"creation_date":1435241369,"question_id":31052792,"body_markdown":"I&#39;m using Java EE7 with a GlassFish 4.1 Server to build a system where basically you can post Ideas, and each Idea may have tags.\r\nI&#39;ve declared the entity Idea as:\r\n\r\n    @Entity\r\n    @Table(name = &quot;IDEAS&quot;)\r\n    public class Idea implements Serializable {\r\n    \r\n    // Id, description, etc.\r\n    \r\n    @ElementCollection\r\n    private List&lt;String&gt; tags;\r\n    \r\n    // Getters, Setter, etc.\r\n    }\r\n\r\nAfter reading https://stackoverflow.com/questions/9137610/jpa-query-an-embeddable-list-inside-an-entity I tried to find by Tag the following way:\r\n\r\n    public List&lt;Idea&gt; getIdeasWithTag(String tag) {\r\n        String queryStr = &quot;select ideatags from Idea i &quot;\r\n                + &quot;inner join i.tags ideatags &quot;\r\n                + &quot;where ideatags.tags = :pTag&quot;;\r\n        Object res = em.createQuery(queryStr)\r\n                .setParameter(&quot;pTag&quot;, tag)\r\n                .getResultList();\r\n        return (List&lt;Idea&gt;) res;\r\n    }\r\n\r\nBut I&#39;m getting a TransactionRolledbackLocalException caused by:\r\n&gt;Caused by: java.lang.IllegalArgumentException: An exception occurred while creating a query in EntityManager:\r\nException Description: Problem compiling [select ideatags from Idea i inner join i.tags ideatags where ideatags.tags = :pTag]. \r\n[61, 74] The state field path &#39;ideatags.tags&#39; cannot be resolved to a valid type.\r\n\r\nI appreciate any help, thanks in advance!!","title":"JPQL Query a list of Strings inside an Entity","body":"<p>I'm using Java EE7 with a GlassFish 4.1 Server to build a system where basically you can post Ideas, and each Idea may have tags.\nI've declared the entity Idea as:</p>\n\n<pre><code>@Entity\n@Table(name = \"IDEAS\")\npublic class Idea implements Serializable {\n\n// Id, description, etc.\n\n@ElementCollection\nprivate List&lt;String&gt; tags;\n\n// Getters, Setter, etc.\n}\n</code></pre>\n\n<p>After reading <a href=\"https://stackoverflow.com/questions/9137610/jpa-query-an-embeddable-list-inside-an-entity\">JPA: Query an embeddable List inside an entity</a> I tried to find by Tag the following way:</p>\n\n<pre><code>public List&lt;Idea&gt; getIdeasWithTag(String tag) {\n    String queryStr = \"select ideatags from Idea i \"\n            + \"inner join i.tags ideatags \"\n            + \"where ideatags.tags = :pTag\";\n    Object res = em.createQuery(queryStr)\n            .setParameter(\"pTag\", tag)\n            .getResultList();\n    return (List&lt;Idea&gt;) res;\n}\n</code></pre>\n\n<p>But I'm getting a TransactionRolledbackLocalException caused by:</p>\n\n<blockquote>\n  <p>Caused by: java.lang.IllegalArgumentException: An exception occurred while creating a query in EntityManager:\n  Exception Description: Problem compiling [select ideatags from Idea i inner join i.tags ideatags where ideatags.tags = :pTag]. \n  [61, 74] The state field path 'ideatags.tags' cannot be resolved to a valid type.</p>\n</blockquote>\n\n<p>I appreciate any help, thanks in advance!!</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":19257864,"reputation":107,"user_id":14074381,"display_name":"ADP"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1597202104,"creation_date":1597202104,"answer_id":63369227,"question_id":63323707,"body_markdown":"I didn&#39;t understand what was the problem.But it was solved when I changed ```onActivityResult``` to\r\n\r\n```super.onActivityResult(requestCode, resultCode, data);\r\n        switch (requestCode) {\r\n            case 7:\r\n                if (resultCode == RESULT_OK) {\r\n                    setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_LANDSCAPE);\r\n                    videoPlayer.setVideoURI(data.getData());\r\n                    videoPlayer.requestFocus();\r\n                    videoPlayer.start();\r\n                }\r\n        }\r\n```","title":"Simple Media Player in Android","body":"<p>I didn't understand what was the problem.But it was solved when I changed <code>onActivityResult</code> to</p>\n<pre><code>        switch (requestCode) {\n            case 7:\n                if (resultCode == RESULT_OK) {\n                    setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_LANDSCAPE);\n                    videoPlayer.setVideoURI(data.getData());\n                    videoPlayer.requestFocus();\n                    videoPlayer.start();\n                }\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19252916,"reputation":55,"user_id":14070467,"display_name":"Kushal Prajapati"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663737508,"creation_date":1663737508,"answer_id":73795681,"question_id":63323707,"body_markdown":"Try to set orientation with object of video player\r\n\r\n\r\n\r\n\r\n\r\n\r\n    case 7:\r\n                if (resultCode == RESULT_OK) {\r\n                    String PathHolder = data.getData().getPath();\r\n                    Toast.makeText(this, PathHolder, Toast.LENGTH_SHORT).show();\r\n                    videoPlayer.setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_LANDSCAPE);\r\n                    videoPlayer.setVideoURI(Uri.parse(PathHolder));\r\n                    videoPlayer.requestFocus();\r\n                    videoPlayer.start();\r\n                }\r\n \r\n\r\n\r\n","title":"Simple Media Player in Android","body":"<p>Try to set orientation with object of video player</p>\n<pre><code>case 7:\n            if (resultCode == RESULT_OK) {\n                String PathHolder = data.getData().getPath();\n                Toast.makeText(this, PathHolder, Toast.LENGTH_SHORT).show();\n                videoPlayer.setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_LANDSCAPE);\n                videoPlayer.setVideoURI(Uri.parse(PathHolder));\n                videoPlayer.requestFocus();\n                videoPlayer.start();\n            }\n</code></pre>\n"}],"owner":{"account_id":19257864,"reputation":107,"user_id":14074381,"display_name":"ADP"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":63369227,"answer_count":2,"score":0,"last_activity_date":1668695105,"creation_date":1596958550,"question_id":63323707,"body_markdown":"I am trying to create a media player without ```MediaPlayer``` class, just a very basic VideoView which selects a file from device and plays it. But I am receiving an error \r\n\r\n&gt; Can&#39;t play this video.\r\n\r\nHere&#39;s my code:\r\n```package com.phantom.player;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.content.Intent;\r\nimport android.content.pm.ActivityInfo;\r\nimport android.net.Uri;\r\nimport android.os.Bundle;\r\nimport android.widget.Toast;\r\nimport android.widget.VideoView;\r\n\r\npublic class PlayerActivity extends AppCompatActivity {\r\n\r\n    VideoView videoPlayer;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        videoPlayer = findViewById(R.id.videoView);\r\n        Intent intent = new Intent(Intent.ACTION_GET_CONTENT);\r\n        intent.setType(&quot;*/*&quot;);\r\n        startActivityForResult(intent, 7);\r\n    }\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n        switch (requestCode) {\r\n            case 7:\r\n                if (resultCode == RESULT_OK) {\r\n                    String PathHolder = data.getData().getPath();\r\n                    Toast.makeText(this, PathHolder, Toast.LENGTH_SHORT).show();\r\n                    setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_LANDSCAPE);\r\n                    videoPlayer.setVideoURI(Uri.parse(PathHolder));\r\n                    videoPlayer.requestFocus();\r\n                    videoPlayer.start();\r\n                }\r\n        }\r\n    }\r\n}\r\n``` \r\n\r\nXML file:\r\n```&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;&gt;\r\n        &lt;VideoView\r\n        android:id=&quot;@+id/videoView&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        tools:layout_editor_absoluteX=&quot;318dp&quot;\r\n        tools:layout_editor_absoluteY=&quot;716dp&quot; /&gt;\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\nThis is what logcat shows (i guess this contains the error):\r\n\r\n&gt; 2020-08-09 12:55:37.585 21894-21894/com.phantom.player W/MediaPlayer:\r\n&gt; Couldn&#39;t open /document/primary:WhatsApp/Media/WhatsApp\r\n&gt; Video/VID-20191031-WA0041.mp4\r\n&gt;     java.io.FileNotFoundException: No content provider: /document/primary:WhatsApp/Media/WhatsApp\r\n&gt; Video/VID-20191031-WA0041.mp4\r\n&gt;         at android.content.ContentResolver.openTypedAssetFileDescriptor(ContentResolver.java:1680)\r\n&gt;         at android.content.ContentResolver.openAssetFileDescriptor(ContentResolver.java:1510)\r\n&gt;         at android.content.ContentResolver.openAssetFileDescriptor(ContentResolver.java:1427)\r\n&gt;         at android.media.MediaPlayer.attemptDataSource(MediaPlayer.java:1149)\r\n&gt;         at android.media.MediaPlayer.setDataSource(MediaPlayer.java:1121)\r\n&gt;         at android.media.MediaPlayer.setDataSource(MediaPlayer.java:1145)\r\n&gt;         at android.widget.VideoView.openVideo(VideoView.java:412)\r\n&gt;         at android.widget.VideoView.access$2200(VideoView.java:83)\r\n&gt;         at android.widget.VideoView$7.surfaceCreated(VideoView.java:694)\r\n&gt;         at android.view.SurfaceView.updateSurface(SurfaceView.java:926)\r\n&gt;         at android.view.SurfaceView.windowStopped(SurfaceView.java:315)\r\n&gt;         at android.view.ViewRootImpl.setWindowStopped(ViewRootImpl.java:1973)\r\n&gt;         at android.view.WindowManagerGlobal.setStoppedState(WindowManagerGlobal.java:709)\r\n&gt;         at android.app.Activity.performRestart(Activity.java:8039)\r\n&gt;         at android.app.ActivityThread.handleSleeping(ActivityThread.java:5007)\r\n&gt;         at android.app.ActivityThread.access$2500(ActivityThread.java:268)\r\n&gt;         at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2080)\r\n&gt;         at android.os.Handler.dispatchMessage(Handler.java:107)\r\n&gt;         at android.os.Looper.loop(Looper.java:237)\r\n&gt;         at android.app.ActivityThread.main(ActivityThread.java:7807)\r\n&gt;         at java.lang.reflect.Method.invoke(Native Method)\r\n&gt;         at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)\r\n&gt;         at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1047)\r\n\r\nI am not used to content provider.Please help.","title":"Simple Media Player in Android","body":"<p>I am trying to create a media player without <code>MediaPlayer</code> class, just a very basic VideoView which selects a file from device and plays it. But I am receiving an error</p>\n<blockquote>\n<p>Can't play this video.</p>\n</blockquote>\n<p>Here's my code:</p>\n<pre><code>\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.content.Intent;\nimport android.content.pm.ActivityInfo;\nimport android.net.Uri;\nimport android.os.Bundle;\nimport android.widget.Toast;\nimport android.widget.VideoView;\n\npublic class PlayerActivity extends AppCompatActivity {\n\n    VideoView videoPlayer;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        videoPlayer = findViewById(R.id.videoView);\n        Intent intent = new Intent(Intent.ACTION_GET_CONTENT);\n        intent.setType(&quot;*/*&quot;);\n        startActivityForResult(intent, 7);\n    }\n\n    @Override\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\n        super.onActivityResult(requestCode, resultCode, data);\n        switch (requestCode) {\n            case 7:\n                if (resultCode == RESULT_OK) {\n                    String PathHolder = data.getData().getPath();\n                    Toast.makeText(this, PathHolder, Toast.LENGTH_SHORT).show();\n                    setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_LANDSCAPE);\n                    videoPlayer.setVideoURI(Uri.parse(PathHolder));\n                    videoPlayer.requestFocus();\n                    videoPlayer.start();\n                }\n        }\n    }\n}\n</code></pre>\n<p>XML file:</p>\n<pre><code>&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_height=&quot;match_parent&quot;\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;match_parent&quot;&gt;\n        &lt;VideoView\n        android:id=&quot;@+id/videoView&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        tools:layout_editor_absoluteX=&quot;318dp&quot;\n        tools:layout_editor_absoluteY=&quot;716dp&quot; /&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>This is what logcat shows (i guess this contains the error):</p>\n<blockquote>\n<p>2020-08-09 12:55:37.585 21894-21894/com.phantom.player W/MediaPlayer:\nCouldn't open /document/primary:WhatsApp/Media/WhatsApp\nVideo/VID-20191031-WA0041.mp4\njava.io.FileNotFoundException: No content provider: /document/primary:WhatsApp/Media/WhatsApp\nVideo/VID-20191031-WA0041.mp4\nat android.content.ContentResolver.openTypedAssetFileDescriptor(ContentResolver.java:1680)\nat android.content.ContentResolver.openAssetFileDescriptor(ContentResolver.java:1510)\nat android.content.ContentResolver.openAssetFileDescriptor(ContentResolver.java:1427)\nat android.media.MediaPlayer.attemptDataSource(MediaPlayer.java:1149)\nat android.media.MediaPlayer.setDataSource(MediaPlayer.java:1121)\nat android.media.MediaPlayer.setDataSource(MediaPlayer.java:1145)\nat android.widget.VideoView.openVideo(VideoView.java:412)\nat android.widget.VideoView.access$2200(VideoView.java:83)\nat android.widget.VideoView$7.surfaceCreated(VideoView.java:694)\nat android.view.SurfaceView.updateSurface(SurfaceView.java:926)\nat android.view.SurfaceView.windowStopped(SurfaceView.java:315)\nat android.view.ViewRootImpl.setWindowStopped(ViewRootImpl.java:1973)\nat android.view.WindowManagerGlobal.setStoppedState(WindowManagerGlobal.java:709)\nat android.app.Activity.performRestart(Activity.java:8039)\nat android.app.ActivityThread.handleSleeping(ActivityThread.java:5007)\nat android.app.ActivityThread.access$2500(ActivityThread.java:268)\nat android.app.ActivityThread$H.handleMessage(ActivityThread.java:2080)\nat android.os.Handler.dispatchMessage(Handler.java:107)\nat android.os.Looper.loop(Looper.java:237)\nat android.app.ActivityThread.main(ActivityThread.java:7807)\nat java.lang.reflect.Method.invoke(Native Method)\nat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1047)</p>\n</blockquote>\n<p>I am not used to content provider.Please help.</p>\n"},{"tags":["java","regex"],"answers":[{"tags":[],"owner":{"account_id":9118538,"reputation":319,"user_id":6784846,"display_name":"Annamalai Palanikumar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668694681,"creation_date":1668694681,"answer_id":74477012,"question_id":74475963,"body_markdown":"You may need to refer to the documentation of **Container element constraints**.\r\n\r\n    List&lt;@Pattern(regexp = &quot;^(.+)@(gmail.com)$&quot;) String&gt; mails;\r\n\r\nReference: https://beanvalidation.org/2.0/spec/#constraintdeclarationvalidationprocess-containerelementconstraints","title":"Pattern constraints for a list of strings","body":"<p>You may need to refer to the documentation of <strong>Container element constraints</strong>.</p>\n<pre><code>List&lt;@Pattern(regexp = &quot;^(.+)@(gmail.com)$&quot;) String&gt; mails;\n</code></pre>\n<p>Reference: <a href=\"https://beanvalidation.org/2.0/spec/#constraintdeclarationvalidationprocess-containerelementconstraints\" rel=\"nofollow noreferrer\">https://beanvalidation.org/2.0/spec/#constraintdeclarationvalidationprocess-containerelementconstraints</a></p>\n"}],"owner":{"account_id":20518165,"reputation":25,"user_id":15058338,"display_name":"Ioanaa 98"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":127,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74477012,"answer_count":1,"score":0,"last_activity_date":1668694681,"creation_date":1668690277,"question_id":74475963,"body_markdown":"I have a `List&lt;String&gt;` that contains a list of emails, something like  \r\n`{&quot;email1@gmail.com&quot;, &quot;email2@gmail.com&quot;}`\r\n\r\nThe problem is I don&#39;t really know how to create a @Pattern, and I want to put the condition that the pattern should only allow emails from list that ends with `@gmail.com`. I used\r\n\r\n    @Pattern(regexp = &quot;^(.+)@(.+)$&quot;)\r\n\r\nfor the case when I had a String, not a List&lt;String&gt;.","title":"Pattern constraints for a list of strings","body":"<p>I have a <code>List&lt;String&gt;</code> that contains a list of emails, something like<br />\n<code>{&quot;email1@gmail.com&quot;, &quot;email2@gmail.com&quot;}</code></p>\n<p>The problem is I don't really know how to create a @Pattern, and I want to put the condition that the pattern should only allow emails from list that ends with <code>@gmail.com</code>. I used</p>\n<pre><code>@Pattern(regexp = &quot;^(.+)@(.+)$&quot;)\n</code></pre>\n<p>for the case when I had a String, not a List.</p>\n"},{"tags":["java","arraylist"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":3,"creation_date":1668608148,"post_id":74461952,"comment_id":131446807,"body_markdown":"of course you can save them, and you are doing so, but you declare those ints in those if-else blocks, meaning they don&#39;t exist outside of the scope of them. declare the variable before the if, and just assign the value in the if-else blocks to solve your issues","body":"of course you can save them, and you are doing so, but you declare those ints in those if-else blocks, meaning they don&#39;t exist outside of the scope of them. declare the variable before the if, and just assign the value in the if-else blocks to solve your issues"},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1668608159,"post_id":74461952,"comment_id":131446812,"body_markdown":"You define the variable inside curly braces. It does not exist outside of those braces. That is called the scope of the variable.","body":"You define the variable inside curly braces. It does not exist outside of those braces. That is called the scope of the variable."},{"owner":{"account_id":6338626,"reputation":2513,"user_id":4921317,"accept_rate":91,"display_name":"Gatusko"},"score":1,"creation_date":1668608192,"post_id":74461952,"comment_id":131446830,"body_markdown":"You need to understand a lot more about scopes. Currently your variable maxSize is only working in the scope of if.","body":"You need to understand a lot more about scopes. Currently your variable maxSize is only working in the scope of if."},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1668608204,"post_id":74461952,"comment_id":131446834,"body_markdown":"You are misinterpreting the error you get. Of course you can save the size in an in t variable and you do that at 2 places in your code. Your error is however that you try to use those maxSize variables outside their scope. See [What is &#39;scope&#39; in Java?](https://stackoverflow.com/questions/38177140/what-is-scope-in-java)","body":"You are misinterpreting the error you get. Of course you can save the size in an in t variable and you do that at 2 places in your code. Your error is however that you try to use those maxSize variables outside their scope. See <a href=\"https://stackoverflow.com/questions/38177140/what-is-scope-in-java\">What is &#39;scope&#39; in Java?</a>"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1668651119,"post_id":74461952,"comment_id":131459838,"body_markdown":"https://docs.oracle.com/javase/tutorial/java/TOC.html","body":"<a href=\"https://docs.oracle.com/javase/tutorial/java/TOC.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/java/TOC.html</a>"}],"answers":[{"tags":[],"owner":{"account_id":1198039,"reputation":10944,"user_id":1169349,"display_name":"Reg"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1668675024,"creation_date":1668608271,"answer_id":74462030,"question_id":74461952,"body_markdown":"## TLDR;\r\nJust declare maxSize above the if and else statements. And Bob&#39;s your uncle. Then you can use maxSize everywhere in your method/function.\r\n\r\n## Solution\r\n\r\nThis is a scope problem. To solve your issue, declare the variable (maxSize) outside the brackets of the if-else statement.\r\nWhen you declare them in the brackets, you will only be able to use them within them (Scope).  \r\n\r\n\r\n    int maxSize = 0;\r\n    if (list1.size() &gt;= list2.size()) {\r\n        maxSize = list1.size(); \r\n    } else {\r\n        maxSize = list2.size();\r\n    }\r\n    \r\n    // Now maxSize can be used as you wish :)\r\n    for (int i = 0; i &lt; maxSize; i++) { ...\r\n\r\n   \r\n**Notes:**\r\n- As @berse2212 pointed out if you add or remove items to your array, you need to update your maxSize again. \r\n- Also, like with @so-random-dude showed, you can replace the if else statement with this gem :\r\n\r\n&gt; int maxSize = Math.max(list1.size(), list2.size());\r\n\r\n## What on earth is Scope about?\r\n\r\nScope defines the lifetime of a variable. Let&#39;s take a deeper look at your example. For simplicity, let us ignore the else.\r\n\r\n\r\n```\r\n...\r\n    if (list1.size() &gt;= list2.size()) {\r\n        // Start If statement&#39;s Scope. \r\n        int maxSize = list1.size(); // Add maxSize to scope\r\n        // Max Size is in scope and can be used as you wish\r\n        // End the scope, in other words, maxSize does not exist anymore.\r\n    }\r\n\r\n// maxSize has left the building, and the compiler does not know about it.\r\n... \r\n```\r\n\r\nThis is just a small example. But you can find more (and better) information [here][1] or [here][2]\r\n\r\nHope this helps \r\n\r\n\r\n  [1]: https://www.w3schools.com/java/java_scope.asp\r\n  [2]: https://stackoverflow.com/questions/38177140/what-is-scope-in-java","title":"ArrayList size as a variable","body":"<h2>TLDR;</h2>\n<p>Just declare maxSize above the if and else statements. And Bob's your uncle. Then you can use maxSize everywhere in your method/function.</p>\n<h2>Solution</h2>\n<p>This is a scope problem. To solve your issue, declare the variable (maxSize) outside the brackets of the if-else statement.\nWhen you declare them in the brackets, you will only be able to use them within them (Scope).</p>\n<pre><code>int maxSize = 0;\nif (list1.size() &gt;= list2.size()) {\n    maxSize = list1.size(); \n} else {\n    maxSize = list2.size();\n}\n\n// Now maxSize can be used as you wish :)\nfor (int i = 0; i &lt; maxSize; i++) { ...\n</code></pre>\n<p><strong>Notes:</strong></p>\n<ul>\n<li>As @berse2212 pointed out if you add or remove items to your array, you need to update your maxSize again.</li>\n<li>Also, like with @so-random-dude showed, you can replace the if else statement with this gem :</li>\n</ul>\n<blockquote>\n<p>int maxSize = Math.max(list1.size(), list2.size());</p>\n</blockquote>\n<h2>What on earth is Scope about?</h2>\n<p>Scope defines the lifetime of a variable. Let's take a deeper look at your example. For simplicity, let us ignore the else.</p>\n<pre><code>...\n    if (list1.size() &gt;= list2.size()) {\n        // Start If statement's Scope. \n        int maxSize = list1.size(); // Add maxSize to scope\n        // Max Size is in scope and can be used as you wish\n        // End the scope, in other words, maxSize does not exist anymore.\n    }\n\n// maxSize has left the building, and the compiler does not know about it.\n... \n</code></pre>\n<p>This is just a small example. But you can find more (and better) information <a href=\"https://www.w3schools.com/java/java_scope.asp\" rel=\"nofollow noreferrer\">here</a> or <a href=\"https://stackoverflow.com/questions/38177140/what-is-scope-in-java\">here</a></p>\n<p>Hope this helps</p>\n"},{"tags":[],"owner":{"account_id":9120249,"reputation":15521,"user_id":6785908,"accept_rate":70,"display_name":"so-random-dude"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1668694418,"creation_date":1668608515,"answer_id":74462094,"question_id":74461952,"body_markdown":"As others have already pointed out, it&#39;s indeed a scope problem. The variable `maxSize` is born and died with in the `if` block (and another one with the same name again in the `else` block - See, compiler didn&#39;t complain even when you had 2 reference variables with the same name, one in the if block and another one in the else block - Because compiler knows that the `maxSize` that you created in the `if` is out-of-scope for `else` ). \r\n\r\nWhat Reg given is the correct solution\r\n\r\nThe following is just a different, concise way to solve the problem\r\n\r\n You can use **ternary operator** like this\r\n\r\n    int maxSize = (list1.size() &gt;= list2.size()) ? list1.size() : list2.size();\r\n\r\nOr even better\r\n\r\n    int maxSize = Math.max(list1.size(), list2.size());\r\n\r\n\r\nAlso, next time, when you ask the question, try to isolate the problem and eliminate all the unnecessary details. For example, in this case, if you have tried\r\n\r\n    if (true) {\r\n            int maxSize = 1; \r\n        } else {\r\n            int maxSize = 2;\r\n        }\r\n    \r\n    System.out.println(maxSize); // Compiler will scream at you.\r\n\r\nyou could have avoided talking about arrayList and come to the crux of the problem. See, arrayList was just a red herring, Probably you could have figured it all by yourself.\r\n","title":"ArrayList size as a variable","body":"<p>As others have already pointed out, it's indeed a scope problem. The variable <code>maxSize</code> is born and died with in the <code>if</code> block (and another one with the same name again in the <code>else</code> block - See, compiler didn't complain even when you had 2 reference variables with the same name, one in the if block and another one in the else block - Because compiler knows that the <code>maxSize</code> that you created in the <code>if</code> is out-of-scope for <code>else</code> ).</p>\n<p>What Reg given is the correct solution</p>\n<p>The following is just a different, concise way to solve the problem</p>\n<p>You can use <strong>ternary operator</strong> like this</p>\n<pre><code>int maxSize = (list1.size() &gt;= list2.size()) ? list1.size() : list2.size();\n</code></pre>\n<p>Or even better</p>\n<pre><code>int maxSize = Math.max(list1.size(), list2.size());\n</code></pre>\n<p>Also, next time, when you ask the question, try to isolate the problem and eliminate all the unnecessary details. For example, in this case, if you have tried</p>\n<pre><code>if (true) {\n        int maxSize = 1; \n    } else {\n        int maxSize = 2;\n    }\n\nSystem.out.println(maxSize); // Compiler will scream at you.\n</code></pre>\n<p>you could have avoided talking about arrayList and come to the crux of the problem. See, arrayList was just a red herring, Probably you could have figured it all by yourself.</p>\n"},{"tags":[],"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668616897,"creation_date":1668616450,"answer_id":74464091,"question_id":74461952,"body_markdown":"The variable is scoped to the `if`, declare it outside to bring it to scope:\r\n\r\n```java\r\nint maxSize;\r\nif (condition) {\r\n   maxSize = ... \r\n} else {\r\n   maxSize = ... \r\n}\r\n// now can be used in the for\r\nfor (int i = 0; i &lt; maxSize; i++ ) {\r\n}\r\n```\r\n\r\nAs pointed in [another answer](https://stackoverflow.com/a/74462094/20654), you can also use the ternary operator\r\n\r\n```java\r\nint maxSize = list1.size() &gt;= list2.size() ? list1.size() : list2.size(); \r\nfor (int i = 0; i &lt; maxSize; i++ ) {\r\n}\r\n```\r\nJust be aware to balance readability.  ","title":"ArrayList size as a variable","body":"<p>The variable is scoped to the <code>if</code>, declare it outside to bring it to scope:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int maxSize;\nif (condition) {\n   maxSize = ... \n} else {\n   maxSize = ... \n}\n// now can be used in the for\nfor (int i = 0; i &lt; maxSize; i++ ) {\n}\n</code></pre>\n<p>As pointed in <a href=\"https://stackoverflow.com/a/74462094/20654\">another answer</a>, you can also use the ternary operator</p>\n<pre class=\"lang-java prettyprint-override\"><code>int maxSize = list1.size() &gt;= list2.size() ? list1.size() : list2.size(); \nfor (int i = 0; i &lt; maxSize; i++ ) {\n}\n</code></pre>\n<p>Just be aware to balance readability.</p>\n"}],"owner":{"account_id":26424622,"reputation":31,"user_id":20071783,"display_name":"Ida"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":140,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":74462030,"answer_count":3,"score":0,"last_activity_date":1668694418,"creation_date":1668608021,"question_id":74461952,"body_markdown":"Why can&#39;t I save ArrayList size as a variable?\r\n\r\n```\r\npublic static ArrayList &lt;Integer &gt; merge(ArrayList &lt;Integer &gt; list1,\r\n                                          ArrayList &lt;Integer &gt; list2 ) {\r\n\r\n    if (list1.size() &gt;= list2.size()) {\r\n        int maxSize = list1.size(); \r\n    } else {\r\n        int maxSize = list2.size();\r\n    }\r\n\r\n    for (int i = 0; i &lt; maxSize; i++) {\r\n\r\n        if (i &lt;= list2.size()) {\r\n            int nextInList2 = list2.get(i);\r\n            list1.add(i, nextInList2);\r\n        }\r\n    }\r\n    System.out.println(list1);\r\n    return (list1);\r\n```\r\n\r\nin:\r\nint maxSize = list1.size(); \r\nI assume that it&#39;s not saving the variable as I want to.\r\n\r\n\r\n\r\nI assume that \r\n```\r\nlist1.size()\r\n```\r\nis an integer","title":"ArrayList size as a variable","body":"<p>Why can't I save ArrayList size as a variable?</p>\n<pre><code>public static ArrayList &lt;Integer &gt; merge(ArrayList &lt;Integer &gt; list1,\n                                          ArrayList &lt;Integer &gt; list2 ) {\n\n    if (list1.size() &gt;= list2.size()) {\n        int maxSize = list1.size(); \n    } else {\n        int maxSize = list2.size();\n    }\n\n    for (int i = 0; i &lt; maxSize; i++) {\n\n        if (i &lt;= list2.size()) {\n            int nextInList2 = list2.get(i);\n            list1.add(i, nextInList2);\n        }\n    }\n    System.out.println(list1);\n    return (list1);\n</code></pre>\n<p>in:\nint maxSize = list1.size();\nI assume that it's not saving the variable as I want to.</p>\n<p>I assume that</p>\n<pre><code>list1.size()\n</code></pre>\n<p>is an integer</p>\n"},{"tags":["javascript","java","android","react-native"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1668593478,"post_id":74458607,"comment_id":131441212,"body_markdown":"most likely, it&#39;s issues with syntax, but since you didn&#39;t provide any of the code you&#39;ve written, nor shown the actual errors, there&#39;s not much we can say","body":"most likely, it&#39;s issues with syntax, but since you didn&#39;t provide any of the code you&#39;ve written, nor shown the actual errors, there&#39;s not much we can say"},{"owner":{"account_id":6818910,"reputation":156,"user_id":12238257,"display_name":"MAYUR SANCHETI"},"score":0,"creation_date":1668593995,"post_id":74458607,"comment_id":131441423,"body_markdown":"@Slavi Enchev ,  add your gradle code here so we help you.  and top right side of your image click on &quot;17&quot; -- this is shows error comes in program.","body":"@Slavi Enchev ,  add your gradle code here so we help you.  and top right side of your image click on &quot;17&quot; -- this is shows error comes in program."},{"owner":{"account_id":26948810,"reputation":11,"user_id":20518365,"display_name":"Slavi Enchev"},"score":0,"creation_date":1668595982,"post_id":74458607,"comment_id":131442161,"body_markdown":"@Stultuske I have updated the question, hope it&#39;s what you&#39;ve asked for. Thank you so much for replying.","body":"@Stultuske I have updated the question, hope it&#39;s what you&#39;ve asked for. Thank you so much for replying."},{"owner":{"account_id":26948810,"reputation":11,"user_id":20518365,"display_name":"Slavi Enchev"},"score":0,"creation_date":1668596021,"post_id":74458607,"comment_id":131442181,"body_markdown":"@MAYUR SANCHETI I have updated it for you too, I appreciate your answer.","body":"@MAYUR SANCHETI I have updated it for you too, I appreciate your answer."}],"owner":{"account_id":26948810,"reputation":11,"user_id":20518365,"display_name":"Slavi Enchev"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1668694285,"creation_date":1668593289,"question_id":74458607,"body_markdown":"I&#39;ve been trying to get an app running on Android Studio for a couple of days but no results so far.\r\nWhen running the app it gets up to\r\n[1000 errors](https://i.stack.imgur.com/BH8Eb.png)\r\nin the project, \r\n[like imports from react-native, symbols and some other stuff.](https://i.stack.imgur.com/mONkb.png)\r\n\r\nI have downloaded the project, installed the packages with &#39;yarn install&#39;, imported and made the configurations on Android Studio, installed the necessary tools so I can use the app (jdk, sdk, etc) but nothing seems to going smoothly, already hate it.\r\n\r\n- Android Studio Version:  Bumblebee 2021.1.1 Canary 11\r\n- SDK 28.0.3\r\n- Node: 16.4.0\r\n- react-native-cli: 2.0.1\r\n- react-native: 0.60.4\r\n- Anroid Gradle Plugin: 3.5.1\r\n- Gradle Version: 5.4.1\r\n- Gradle JDK: 11.0.11\r\n\r\n\r\nbuild.grandle:\r\n\r\n        buildscript {\r\n        ext {\r\n        buildToolsVersion = &quot;28.0.3&quot;\r\n        minSdkVersion = 23\r\n        //        googlePlayServicesVersion = &quot;17.0.2&quot;\r\n        compileSdkVersion = &quot;28&quot;\r\n        targetSdkVersion = &quot;28&quot;\r\n        supportLibVersion = &#39;1.0.2&#39;\r\n        mediaCompatVersion = &#39;1.0.1&#39;\r\n        supportV4Version = &#39;1.0.0&#39;\r\n          }\r\n           repositories {\r\n        google()\r\n        jcenter()\r\n          }\r\n         dependencies {\r\n        classpath(&#39;com.android.tools.build:gradle:3.5.1&#39;)\r\n\r\n        }\r\n      }\r\n\r\n           allprojects {\r\n           repositories {\r\n            mavenLocal()\r\n            maven {\r\n            // All of React Native (JS, Obj-C sources, Android binaries) is installed from npm\r\n            url(&quot;$rootDir/../node_modules/react-native/android&quot;)\r\n        }\r\n        maven {\r\n            // Android JSC is installed from npm\r\n            url(&quot;$rootDir/../node_modules/jsc-android/dist&quot;)\r\n        }\r\n\r\n        google()\r\n        jcenter()\r\n          }\r\n        }\r\n\r\n             subprojects {\r\n         afterEvaluate { project -&gt;\r\n        if (project.hasProperty(&quot;android&quot;)) {\r\n            android {\r\n                compileSdkVersion 28\r\n                buildToolsVersion &quot;28.0.3&quot;\r\n\r\n                lintOptions {\r\n                    abortOnError false\r\n                }\r\n            }\r\n        }\r\n       }\r\n      }\r\n\r\n\r\n\r\nERRORS:\r\n[CLICK HERE][1]\r\n[![moar][2]][2]\r\nC:\\Users\\senchev\\Desktop\\workpls\\allexc-app-react-native\\allexc-app-react-native\\node_modules\\@react-native-community\\async-storage\\android\\src\\main\\java\\com\\reactnativecommunity\\asyncstorage\\AsyncStoragePackage.java:33: error: cannot find symbol\r\n    public List&lt;ViewManager&gt; createViewManagers(ReactApplicationContext reactContext) {\r\n                ^\r\n  symbol:   class ViewManager\r\n  location: class AsyncStoragePackage\r\n\r\n[here&#39;s more][3]\r\n\r\n\r\nI have tried:\r\n\r\n1. Installing different versions of SDK, JDK, grandle, Android Studio\r\n2. Syncing project with grade files (a thousand times)\r\n3. Deleting .idea &amp; .grandle folder.\r\n4. Build &gt; clean &amp; rebuild\r\n5. Invalidate cache and restart(including the clear file system cache and local history)\r\nand maybe some other things but I can&#39;t seem to rememeber.\r\n\r\nSame errors appear when I have tried all those things.\r\n\r\nI thought it was a problem with the library but they are imported and I&#39;m really confused...\r\n\r\nhelp\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ePxUl.png\r\n  [2]: https://i.stack.imgur.com/5VxwT.png\r\n  [3]: https://i.stack.imgur.com/40qSQ.png","title":"Android Studio cannot resolve symbols and recognise packages","body":"<p>I've been trying to get an app running on Android Studio for a couple of days but no results so far.\nWhen running the app it gets up to\n<a href=\"https://i.stack.imgur.com/BH8Eb.png\" rel=\"nofollow noreferrer\">1000 errors</a>\nin the project,\n<a href=\"https://i.stack.imgur.com/mONkb.png\" rel=\"nofollow noreferrer\">like imports from react-native, symbols and some other stuff.</a></p>\n<p>I have downloaded the project, installed the packages with 'yarn install', imported and made the configurations on Android Studio, installed the necessary tools so I can use the app (jdk, sdk, etc) but nothing seems to going smoothly, already hate it.</p>\n<ul>\n<li>Android Studio Version:  Bumblebee 2021.1.1 Canary 11</li>\n<li>SDK 28.0.3</li>\n<li>Node: 16.4.0</li>\n<li>react-native-cli: 2.0.1</li>\n<li>react-native: 0.60.4</li>\n<li>Anroid Gradle Plugin: 3.5.1</li>\n<li>Gradle Version: 5.4.1</li>\n<li>Gradle JDK: 11.0.11</li>\n</ul>\n<p>build.grandle:</p>\n<pre><code>    buildscript {\n    ext {\n    buildToolsVersion = &quot;28.0.3&quot;\n    minSdkVersion = 23\n    //        googlePlayServicesVersion = &quot;17.0.2&quot;\n    compileSdkVersion = &quot;28&quot;\n    targetSdkVersion = &quot;28&quot;\n    supportLibVersion = '1.0.2'\n    mediaCompatVersion = '1.0.1'\n    supportV4Version = '1.0.0'\n      }\n       repositories {\n    google()\n    jcenter()\n      }\n     dependencies {\n    classpath('com.android.tools.build:gradle:3.5.1')\n\n    }\n  }\n\n       allprojects {\n       repositories {\n        mavenLocal()\n        maven {\n        // All of React Native (JS, Obj-C sources, Android binaries) is installed from npm\n        url(&quot;$rootDir/../node_modules/react-native/android&quot;)\n    }\n    maven {\n        // Android JSC is installed from npm\n        url(&quot;$rootDir/../node_modules/jsc-android/dist&quot;)\n    }\n\n    google()\n    jcenter()\n      }\n    }\n\n         subprojects {\n     afterEvaluate { project -&gt;\n    if (project.hasProperty(&quot;android&quot;)) {\n        android {\n            compileSdkVersion 28\n            buildToolsVersion &quot;28.0.3&quot;\n\n            lintOptions {\n                abortOnError false\n            }\n        }\n    }\n   }\n  }\n</code></pre>\n<p>ERRORS:\n<a href=\"https://i.stack.imgur.com/ePxUl.png\" rel=\"nofollow noreferrer\">CLICK HERE</a>\n<a href=\"https://i.stack.imgur.com/5VxwT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5VxwT.png\" alt=\"moar\" /></a>\nC:\\Users\\senchev\\Desktop\\workpls\\allexc-app-react-native\\allexc-app-react-native\\node_modules@react-native-community\\async-storage\\android\\src\\main\\java\\com\\reactnativecommunity\\asyncstorage\\AsyncStoragePackage.java:33: error: cannot find symbol\npublic List createViewManagers(ReactApplicationContext reactContext) {\n^\nsymbol:   class ViewManager\nlocation: class AsyncStoragePackage</p>\n<p><a href=\"https://i.stack.imgur.com/40qSQ.png\" rel=\"nofollow noreferrer\">here's more</a></p>\n<p>I have tried:</p>\n<ol>\n<li>Installing different versions of SDK, JDK, grandle, Android Studio</li>\n<li>Syncing project with grade files (a thousand times)</li>\n<li>Deleting .idea &amp; .grandle folder.</li>\n<li>Build &gt; clean &amp; rebuild</li>\n<li>Invalidate cache and restart(including the clear file system cache and local history)\nand maybe some other things but I can't seem to rememeber.</li>\n</ol>\n<p>Same errors appear when I have tried all those things.</p>\n<p>I thought it was a problem with the library but they are imported and I'm really confused...</p>\n<p>help</p>\n"},{"tags":["java","generics","collections","java-stream"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1668676294,"post_id":74472542,"comment_id":131465254,"body_markdown":"No. Theres no even a guaranty that it is possible to construct a collection of the same type, in general. Just think about what should happen when someone passes [`someMap.values()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#values()) to your method.","body":"No. Theres no even a guaranty that it is possible to construct a collection of the same type, in general. Just think about what should happen when someone passes <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#values()\" rel=\"nofollow noreferrer\"><code>someMap.values()</code></a> to your method."}],"answers":[{"tags":[],"owner":{"account_id":173621,"reputation":10596,"user_id":402428,"display_name":"michid"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1668694217,"creation_date":1668680412,"answer_id":74473719,"question_id":74472542,"body_markdown":"There&#39;s no sane (*) way to create a new collection of the generic type `T` inside `limit`. Your best bet is to pass a factory for creating that type into the `limit` function: \r\n\r\n    public static &lt;E, T extends Collection&lt;E&gt;&gt; T limit(T collection, long limit, Supplier&lt;T&gt; factory) {\r\n        return collection.stream()\r\n            .limit(limit)\r\n            .collect(Collectors.toCollection(factory));\r\n    }\r\n\r\nand use it like this:\r\n\r\n    var limited = limit(List.of(1, 2, 3, 4), 2, ArrayList::new);\r\n\r\n(*) You could resort to [using reflection][1], but that would not work with all collection types and thus defeat the purpose of genericity.  \r\n\r\n\r\n  [1]: https://stackoverflow.com/a/74473721/402428","title":"Collect stream to generic Collection","body":"<p>There's no sane (*) way to create a new collection of the generic type <code>T</code> inside <code>limit</code>. Your best bet is to pass a factory for creating that type into the <code>limit</code> function:</p>\n<pre><code>public static &lt;E, T extends Collection&lt;E&gt;&gt; T limit(T collection, long limit, Supplier&lt;T&gt; factory) {\n    return collection.stream()\n        .limit(limit)\n        .collect(Collectors.toCollection(factory));\n}\n</code></pre>\n<p>and use it like this:</p>\n<pre><code>var limited = limit(List.of(1, 2, 3, 4), 2, ArrayList::new);\n</code></pre>\n<p>(*) You could resort to <a href=\"https://stackoverflow.com/a/74473721/402428\">using reflection</a>, but that would not work with all collection types and thus defeat the purpose of genericity.</p>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1668685815,"creation_date":1668680420,"answer_id":74473721,"question_id":74472542,"body_markdown":"***Disclaimer:** It wouldn&#39;t work in any scenario. For instance, it would be no possible to constructusing this code [*unmodifiable collections*][unmodifiableCollections] like `ListN`, `SetN`, views of over collections (e.g. `sublist()`), synchronized collections, with lists created via `Collections.nCopies`, `Arrays.asList()`, and with `EnumSet` since it has no default constructor.*\r\n\r\nTo provide an empty collection in the Collector of the stream, we can make use of reflection to try to get access to the *no-args* constructor of the Collection.\r\n\r\n    public static &lt;T&gt; Collection&lt;T&gt; limit(Collection&lt;T&gt; collection, long limit) {\r\n        \r\n        Class&lt;?&gt; c = collection.getClass();\r\n        \r\n        return collection.stream()\r\n            .limit(limit)\r\n            .collect(Collectors.toCollection(\r\n                () -&gt; (Collection&lt;T&gt;) getCollectionInstance(c)\r\n            ));\r\n    }\r\n\r\n    public static Collection&lt;?&gt; getCollectionInstance(Class&lt;?&gt; c) {\r\n            try {\r\n                return (Collection&lt;?&gt;) c.getConstructor().newInstance();\r\n            } catch (NoSuchMethodException | InvocationTargetException |\r\n                     InstantiationException | IllegalAccessException e) {\r\n                e.printStackTrace();\r\n            }\r\n        throw new IllegalArgumentException();\r\n    }\r\n\r\n*Usage example:*\r\n\r\n    public static void main(String[] args) {\r\n        Deque&lt;Integer&gt; deque = new ArrayDeque&lt;&gt;(List.of(1, 2, 3, 4, 5));\r\n        Set&lt;String&gt; set = new HashSet&lt;&gt;(Set.of(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;, &quot;E&quot;));\r\n    \r\n        Collection&lt;Integer&gt; dequeCopy = limit(deque, 3);\r\n        Collection&lt;String&gt; setCopy = limit(set, 3);\r\n    \r\n        System.out.println(dequeCopy.getClass().getCanonicalName());\r\n        System.out.println(dequeCopy);\r\n        \r\n        System.out.println(setCopy.getClass().getCanonicalName());\r\n        System.out.println(setCopy);\r\n    }\r\n\r\n*Output:*\r\n\r\n```\r\njava.util.ArrayDeque\r\n[1, 2, 3]\r\njava.util.HashSet\r\n[A, B, C]\r\n```\r\n\r\n\r\n\r\n   [unmodifiableCollections]: https://docs.oracle.com/en/java/javase/11/core/creating-immutable-lists-sets-and-maps.html#GUID-DD066F67-9C9B-444E-A3CB-820503735951","title":"Collect stream to generic Collection","body":"<p><em><strong>Disclaimer:</strong> It wouldn't work in any scenario. For instance, it would be no possible to constructusing this code <a href=\"https://docs.oracle.com/en/java/javase/11/core/creating-immutable-lists-sets-and-maps.html#GUID-DD066F67-9C9B-444E-A3CB-820503735951\" rel=\"nofollow noreferrer\"><em>unmodifiable collections</em></a> like <code>ListN</code>, <code>SetN</code>, views of over collections (e.g. <code>sublist()</code>), synchronized collections, with lists created via <code>Collections.nCopies</code>, <code>Arrays.asList()</code>, and with <code>EnumSet</code> since it has no default constructor.</em></p>\n<p>To provide an empty collection in the Collector of the stream, we can make use of reflection to try to get access to the <em>no-args</em> constructor of the Collection.</p>\n<pre><code>public static &lt;T&gt; Collection&lt;T&gt; limit(Collection&lt;T&gt; collection, long limit) {\n    \n    Class&lt;?&gt; c = collection.getClass();\n    \n    return collection.stream()\n        .limit(limit)\n        .collect(Collectors.toCollection(\n            () -&gt; (Collection&lt;T&gt;) getCollectionInstance(c)\n        ));\n}\n\npublic static Collection&lt;?&gt; getCollectionInstance(Class&lt;?&gt; c) {\n        try {\n            return (Collection&lt;?&gt;) c.getConstructor().newInstance();\n        } catch (NoSuchMethodException | InvocationTargetException |\n                 InstantiationException | IllegalAccessException e) {\n            e.printStackTrace();\n        }\n    throw new IllegalArgumentException();\n}\n</code></pre>\n<p><em>Usage example:</em></p>\n<pre><code>public static void main(String[] args) {\n    Deque&lt;Integer&gt; deque = new ArrayDeque&lt;&gt;(List.of(1, 2, 3, 4, 5));\n    Set&lt;String&gt; set = new HashSet&lt;&gt;(Set.of(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;, &quot;E&quot;));\n\n    Collection&lt;Integer&gt; dequeCopy = limit(deque, 3);\n    Collection&lt;String&gt; setCopy = limit(set, 3);\n\n    System.out.println(dequeCopy.getClass().getCanonicalName());\n    System.out.println(dequeCopy);\n    \n    System.out.println(setCopy.getClass().getCanonicalName());\n    System.out.println(setCopy);\n}\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>java.util.ArrayDeque\n[1, 2, 3]\njava.util.HashSet\n[A, B, C]\n</code></pre>\n"}],"owner":{"account_id":22807677,"reputation":414,"user_id":16959486,"display_name":"Teddy Tsai"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":250,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":74473719,"answer_count":2,"score":3,"last_activity_date":1668694217,"creation_date":1668675185,"question_id":74472542,"body_markdown":"Say I want to make a simple method which takes in a collection and cuts the number of its elements:\r\n\r\n\r\n```\r\n    public static &lt;T extends Collection&lt;?&gt;&gt; T limit(T collection, long limit){\r\n        return collection.stream().limit(limit).collect(Collectors.toCollection(???));\r\n    }\r\n```\r\n\r\nIs it possible to collect it back to a collection of the generic type?","title":"Collect stream to generic Collection","body":"<p>Say I want to make a simple method which takes in a collection and cuts the number of its elements:</p>\n<pre><code>    public static &lt;T extends Collection&lt;?&gt;&gt; T limit(T collection, long limit){\n        return collection.stream().limit(limit).collect(Collectors.toCollection(???));\n    }\n</code></pre>\n<p>Is it possible to collect it back to a collection of the generic type?</p>\n"},{"tags":["java","wildfly","bouncycastle","pki","ejbca"],"comments":[{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1668553078,"post_id":74448839,"comment_id":131432693,"body_markdown":"Can you upgrade WildFly? I think you&#39;ll need a newer version of Jandex that can handle MR JAR&#39;s.","body":"Can you upgrade WildFly? I think you&#39;ll need a newer version of Jandex that can handle MR JAR&#39;s."},{"owner":{"account_id":4471856,"reputation":315,"user_id":3637971,"accept_rate":14,"display_name":"user3637971"},"score":0,"creation_date":1668565144,"post_id":74448839,"comment_id":131434770,"body_markdown":"I tested on Wildfly 24 but the Admin Console doesn&#39;t allow the deployment either. Even though  I could deploy it on Tomcat 9 although I need more tests for the application itself but I don&#39;t get the error message as Wildfly at least. The idea is to make it works for Wildfly.","body":"I tested on Wildfly 24 but the Admin Console doesn&#39;t allow the deployment either. Even though  I could deploy it on Tomcat 9 although I need more tests for the application itself but I don&#39;t get the error message as Wildfly at least. The idea is to make it works for Wildfly."},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1668628894,"post_id":74448839,"comment_id":131454802,"body_markdown":"Did you get the exact same error on WildFly 24? The error is Jandex not being able to read Java 9 byte code.","body":"Did you get the exact same error on WildFly 24? The error is Jandex not being able to read Java 9 byte code."},{"owner":{"account_id":4471856,"reputation":315,"user_id":3637971,"accept_rate":14,"display_name":"user3637971"},"score":0,"creation_date":1668631929,"post_id":74448839,"comment_id":131455793,"body_markdown":"Yes. I added as Edit the messages when I tried to deploy it to Wildfly 24","body":"Yes. I added as Edit the messages when I tried to deploy it to Wildfly 24"},{"owner":{"account_id":4471856,"reputation":315,"user_id":3637971,"accept_rate":14,"display_name":"user3637971"},"score":0,"creation_date":1668633358,"post_id":74448839,"comment_id":131456180,"body_markdown":"By the way. I&#39;m using Java SE 8 / 1.8 update 341","body":"By the way. I&#39;m using Java SE 8 / 1.8 update 341"},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":1,"creation_date":1668637531,"post_id":74448839,"comment_id":131457421,"body_markdown":"That&#39;s a different error. While it is on both, that error has to do with Jersey. Are you packaging Jersey in your deployment?","body":"That&#39;s a different error. While it is on both, that error has to do with Jersey. Are you packaging Jersey in your deployment?"},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":1,"creation_date":1668646700,"post_id":74448839,"comment_id":131459109,"body_markdown":"Instead of the  -jdk15on jars, which as @JamesR.Perkins says contain j9-style multirelease, try the -jdk15to18 jars.","body":"Instead of the  -jdk15on jars, which as @JamesR.Perkins says contain j9-style multirelease, try the -jdk15to18 jars."},{"owner":{"account_id":4471856,"reputation":315,"user_id":3637971,"accept_rate":14,"display_name":"user3637971"},"score":0,"creation_date":1668693210,"post_id":74448839,"comment_id":131471717,"body_markdown":"How do you figure it out about Java 9 byte code or j9-style multirelease?","body":"How do you figure it out about Java 9 byte code or j9-style multirelease?"},{"owner":{"account_id":4471856,"reputation":315,"user_id":3637971,"accept_rate":14,"display_name":"user3637971"},"score":0,"creation_date":1668693444,"post_id":74448839,"comment_id":131471810,"body_markdown":"The application uses jersey-server, jersey-json and jersey-client 1.8 from com.sun.jersey in pom file","body":"The application uses jersey-server, jersey-json and jersey-client 1.8 from com.sun.jersey in pom file"},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1668723862,"post_id":74448839,"comment_id":131482601,"body_markdown":"Right, but do you need Jersey? WildFly uses RESTEasy for it&#39;s Jakarta REST implementation.","body":"Right, but do you need Jersey? WildFly uses RESTEasy for it&#39;s Jakarta REST implementation."},{"owner":{"account_id":4471856,"reputation":315,"user_id":3637971,"accept_rate":14,"display_name":"user3637971"},"score":0,"creation_date":1668806470,"post_id":74448839,"comment_id":131503959,"body_markdown":"Jersey is part of the application. I made the changes in order it works. I upgraded Jersey to 2.1x and I could deployed it to Wildfly 10 with jdk 1.8u341 and BouncyCastle 1.66. Even though, there are parts of the application related to jersey 2 to be adapted.","body":"Jersey is part of the application. I made the changes in order it works. I upgraded Jersey to 2.1x and I could deployed it to Wildfly 10 with jdk 1.8u341 and BouncyCastle 1.66. Even though, there are parts of the application related to jersey 2 to be adapted."}],"owner":{"account_id":4471856,"reputation":315,"user_id":3637971,"accept_rate":14,"display_name":"user3637971"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":206,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1668693547,"creation_date":1668528820,"question_id":74448839,"body_markdown":"I got a Java application which is using BouncyCastle bcprov-jdk15on, bcpmail-jdk15on and bcpkix-jdk15on version 1.62. Then I wish to upgrade BouncyCastle library from 1.62 to 1.66. I&#39;ll show the following pom source code:\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\r\n            &lt;artifactId&gt;bcprov-jdk15on&lt;/artifactId&gt;\r\n            &lt;version&gt;1.66&lt;/version&gt;    \r\n            &lt;scope&gt;provided&lt;/scope&gt;   \r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\r\n            &lt;artifactId&gt;bcmail-jdk15on&lt;/artifactId&gt;\r\n            &lt;version&gt;1.66&lt;/version&gt;    \r\n            &lt;scope&gt;provided&lt;/scope&gt;   \r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\r\n            &lt;artifactId&gt;bcpkix-jdk15on&lt;/artifactId&gt;\r\n            &lt;version&gt;1.66&lt;/version&gt;    \r\n            &lt;scope&gt;provided&lt;/scope&gt;   \r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-server&lt;/artifactId&gt;\r\n            &lt;version&gt;1.8&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-json&lt;/artifactId&gt;\r\n            &lt;version&gt;1.8&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-client&lt;/artifactId&gt;\r\n            &lt;version&gt;1.8&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\t\r\nThen I tried to deploy the application as War file to RHEL server with Wildfly 10, jdk 1.8u341. Even though I have the following message:\r\n\r\n    Cannot upload deployment: \r\n    {&quot;WFLYCTL0080: Failed services&quot; =&gt; \r\n        {&quot;jboss.undertow.deployment.default-server.default-host./myJavaApp&quot; =&gt; \r\n              &quot;org.jboss.msc.service.StartException in service jboss.undertow.deployment.default-server.default-host./myJavaApp: java.lang.ArrayIndexOutOfBoundsException: 1612 Caused by: java.lang.ArrayIndexOutOfBoundsException: 1612&quot;},\r\n    &quot;WFLYCTL0412: Required services that are not installed:&quot; =&gt; [&quot;jboss.undertow.deployment.default-server.default-host./myJavaApp&quot;],\r\n    &quot;WFLYCTL0180: Services with missing/unavailable dependencies&quot; =&gt; undefined}\r\n\t\r\n\r\nI also checked in Wildfly log and I have the following messages:\r\n\r\n\r\n    10:44:48,116 WARN  [org.jboss.as.server.deployment] (MSC service thread 1-2) WFLYSRV0059: Class Path entry lib/bcpkix-jdk15on-151.jar in /content/myJavaApp.war/WEB-INF/lib/ejbca-ws-cli-6-6.0.jar  does not point to a valid jar for a Class-Path reference.\r\n    10:44:48,116 WARN  [org.jboss.as.server.deployment] (MSC service thread 1-2) WFLYSRV0059: Class Path entry lib/bcprov-jdk15on-151.jar in /content/myJavaApp.war/WEB-INF/lib/ejbca-ws-cli-6-6.0.jar  does not point to a valid jar for a Class-Path reference.\r\n    \r\n    10:44:48,147 WARN  [org.jboss.as.server.deployment] (MSC service thread 1-2) WFLYSRV0003: Could not index class bcpkix-jdk15on-1.66.jar/META-INF/versions/9/module-info.class at /content/myJavaApp.war/WEB-INF/lib: java.lang.IllegalStateException: Unknown tag! pos=4 poolCount = 107\r\n            at org.jboss.jandex.Indexer.processConstantPool(Indexer.java:1416)\r\n            at org.jboss.jandex.Indexer.index(Indexer.java:1450)\r\n            at java.lang.Thread.run(Thread.java:750)\r\n    \t\t.....\r\n    \r\n    10:44:48,283 WARN  [org.jboss.as.server.deployment] (MSC service thread 1-2) WFLYSRV0003: Could not index class bcprov-jdk15on-1.66.jar/META-INF/versions/9/module-info.class at /content/myJavaApp.war/WEB-INF/lib: java.lang.IllegalStateException: Unknown tag! pos=4 poolCount = 337\r\n            at org.jboss.jandex.Indexer.processConstantPool(Indexer.java:1416)\r\n            at org.jboss.jandex.Indexer.index(Indexer.java:1450)\r\n            ....\r\n    \r\n    10:44:51,082 WARN  [org.jboss.as.server.deployment] (MSC service thread 1-2) WFLYSRV0059: Class Path entry jaxb-api.jar in /content/myJavaApp.war/WEB-INF/lib/jaxb-impl-2.2.3-1.jar  does not point to a valid jar for a Class-Path reference.\r\n    \r\n      /WEB-INF/lib\r\n      /WEB-INF/classes\r\n    10:44:52,100 ERROR [org.jboss.msc.service.fail] (ServerService Thread Pool -- 182) MSC000001: Failed to start service jboss.undertow.deployment.default-server.default-host./myJavaApp: org.jboss.msc.service.StartException in service jboss.undertow.deployment.default-server.default-host./myJavaApp: java.lang.ArrayIndexOutOfBoundsException: 1612\r\n            at org.wildfly.extension.undertow.deployment.UndertowDeploymentService$1.run(UndertowDeploymentService.java:85)\r\n            at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n            at java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n            at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n    Caused by: java.lang.ArrayIndexOutOfBoundsException: 1612\r\n            at org.objectweb.asm.ClassReader.readClass(Unknown Source)\r\n            at org.objectweb.asm.ClassReader.accept(Unknown Source)\r\n            at org.objectweb.asm.ClassReader.accept(Unknown Source)\r\n            at com.sun.jersey.spi.scanning.AnnotationScannerListener.onProcess(AnnotationScannerListener.java:133)\r\n            at com.sun.jersey.core.spi.scanning.JarFileScanner.scan(JarFileScanner.java:97)\r\n            at com.sun.jersey.spi.scanning.WebAppResourcesScanner$1.f(WebAppResourcesScanner.java:94)\r\n            at com.sun.jersey.core.util.Closing.f(Closing.java:71)\r\n            at com.sun.jersey.spi.scanning.WebAppResourcesScanner.scan(WebAppResourcesScanner.java:92)\r\n            ... \r\n    \r\n    10:44:52,118 ERROR [org.jboss.as.controller.management-operation] (External Management Request Threads -- 8) WFLYCTL0013: Operation (&quot;add&quot;) failed - address: ([(&quot;deployment&quot; =&gt; &quot;myJavaApp.war&quot;)]) - failure description: {\r\n        &quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.undertow.deployment.default-server.default-host./myJavaApp&quot; =&gt; &quot;org.jboss.msc.service.StartException in service jboss.undertow.deployment.default-server.default-host./myJavaApp: java.lang.ArrayIndexOutOfBoundsException: 1612\r\n        Caused by: java.lang.ArrayIndexOutOfBoundsException: 1612&quot;},\r\n        &quot;WFLYCTL0412: Required services that are not installed:&quot; =&gt; [&quot;jboss.undertow.deployment.default-server.default-host./myJavaApp&quot;],\r\n        &quot;WFLYCTL0180: Services with missing/unavailable dependencies&quot; =&gt; undefined\r\n    }\r\n    10:44:52,119 ERROR [org.jboss.as.server] (External Management Request Threads -- 8) WFLYSRV0021: Deploy of deployment &quot;myJavaApp.war&quot; was rolled back with the following failure message:\r\n    {\r\n        &quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.undertow.deployment.default-server.default-host./myJavaApp&quot; =&gt; &quot;org.jboss.msc.service.StartException in service jboss.undertow.deployment.default-server.default-host./myJavaApp: java.lang.ArrayIndexOutOfBoundsException: 1612\r\n        Caused by: java.lang.ArrayIndexOutOfBoundsException: 1612&quot;},\r\n        &quot;WFLYCTL0412: Required services that are not installed:&quot; =&gt; [&quot;jboss.undertow.deployment.default-server.default-host./myJavaApp&quot;],\r\n        &quot;WFLYCTL0180: Services with missing/unavailable dependencies&quot; =&gt; undefined\r\n    }\r\n    10:44:52,265 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-1) WFLYSRV0028: Stopped deployment myJavaApp.war (runtime-name: myJavaApp.war) in 145ms\r\n    10:44:52,266 INFO  [org.jboss.as.controller] (External Management Request Threads -- 8) WFLYCTL0183: Service status report\r\n    WFLYCTL0186:   Services which failed to start:      service jboss.undertow.deployment.default-server.default-host./myJavaApp\r\n\r\nThe java app has dependencies defined from pom file and dependencies created manually by Netbeans.\r\n\t\r\nIt happens when I try to upgrade BouncyCastle library from 1.62 to 1.66. What can I do?\r\n\r\n\r\nEdits:\r\n1. When I tried to deploy it by Wildfly 24, I get the following message from Admin Console:\r\n\r\n\r\n          {&quot;WFLYCTL0080: Failed services&quot; =&gt; \r\n          {&quot;jboss.deployment.unit.\\&quot;myJavaApp.war\\&quot;.undertow-deployment&quot; =&gt; \r\n           &quot;java.lang.ArrayIndexOutOfBoundsException: 1612\r\n            Caused by: java.lang.ArrayIndexOutOfBoundsException: 1612&quot;}}\r\n\r\n    Wildfly 24 log:\r\n\r\n        15:32:20,821 ERROR [org.jboss.msc.service.fail] (ServerService Thread Pool -- 91) MSC000001: Failed to start service \r\n\t\t      jboss.deployment.unit.&quot;myJavaApp.war&quot;.undertow-deployment: org.jboss.msc.service.StartException in service jboss.deployment.unit.&quot;myJavaApp.war&quot;.undertow-deployment: java.lang.ArrayIndexOutOfBoundsException: 1612\r\n                at org.wildfly.extension.undertow.deployment.UndertowDeploymentService$1.run(UndertowDeploymentService.java:90)\r\n                at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n                at java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n                at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\r\n        Caused by: java.lang.ArrayIndexOutOfBoundsException: 1612\r\n                at org.objectweb.asm.ClassReader.readClass(Unknown Source)\r\n                at org.objectweb.asm.ClassReader.accept(Unknown Source)\r\n                at org.objectweb.asm.ClassReader.accept(Unknown Source)\r\n                at com.sun.jersey.spi.scanning.AnnotationScannerListener.onProcess(AnnotationScannerListener.java:133)\r\n                at com.sun.jersey.core.spi.scanning.JarFileScanner.scan(JarFileScanner.java:97)\r\n                at com.sun.jersey.spi.scanning.WebAppResourcesScanner$1.f(WebAppResourcesScanner.java:94)\r\n                at com.sun.jersey.core.util.Closing.f(Closing.java:71)\r\n                at com.sun.jersey.spi.scanning.WebAppResourcesScanner.scan(WebAppResourcesScanner.java:92)\r\n                ...\r\n        15:32:20,830 ERROR [org.jboss.as.controller.management-operation] (External Management Request Threads -- 1) WFLYCTL0013: Operation (&quot;add&quot;) \r\n\t\t         failed - address: ([(&quot;deployment&quot; =&gt; &quot;myJavaApp.war&quot;)]) - failure description: {&quot;WFLYCTL0080: Failed services&quot; =&gt; \r\n\t\t\t\t         {&quot;jboss.deployment.unit.\\&quot;myJavaApp.war\\&quot;.undertow-deployment&quot; =&gt; &quot;java.lang.ArrayIndexOutOfBoundsException: 1612\r\n            Caused by: java.lang.ArrayIndexOutOfBoundsException: 1612&quot;}}\r\n        15:32:20,831 ERROR [org.jboss.as.controller.management-operation] (External Management Request Threads -- 1) WFLYCTL0013: Operation (&quot;add&quot;) \r\n\t\t         failed - address: ([(&quot;deployment&quot; =&gt; &quot;myJavaApp.war&quot;)]) - failure description: {&quot;WFLYCTL0080: Failed services&quot; =&gt; \r\n\t\t\t\t         {&quot;jboss.deployment.unit.\\&quot;myJavaApp.war\\&quot;.undertow-deployment&quot; =&gt; &quot;java.lang.ArrayIndexOutOfBoundsException: 1612\r\n            Caused by: java.lang.ArrayIndexOutOfBoundsException: 1612&quot;}}\r\n        15:32:20,832 ERROR [org.jboss.as.server] (External Management Request Threads --1) WFLYSRV0021: Deploy of deployment &quot;myJavaApp.war&quot; was rolled back with the following failure message:\r\n        {&quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.deployment.unit.\\&quot;myJavaApp.war\\&quot;.undertow-deployment&quot; =&gt; &quot;java.lang.ArrayIndexOutOfBoundsException: 1612\r\n            Caused by: java.lang.ArrayIndexOutOfBoundsException: 1612&quot;}}","title":"Cannot deploy Java app to Wildfly 10 when upgrading BouncyCastle from 1.62 to 1.66","body":"<p>I got a Java application which is using BouncyCastle bcprov-jdk15on, bcpmail-jdk15on and bcpkix-jdk15on version 1.62. Then I wish to upgrade BouncyCastle library from 1.62 to 1.66. I'll show the following pom source code:</p>\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\n        &lt;artifactId&gt;bcprov-jdk15on&lt;/artifactId&gt;\n        &lt;version&gt;1.66&lt;/version&gt;    \n        &lt;scope&gt;provided&lt;/scope&gt;   \n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\n        &lt;artifactId&gt;bcmail-jdk15on&lt;/artifactId&gt;\n        &lt;version&gt;1.66&lt;/version&gt;    \n        &lt;scope&gt;provided&lt;/scope&gt;   \n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\n        &lt;artifactId&gt;bcpkix-jdk15on&lt;/artifactId&gt;\n        &lt;version&gt;1.66&lt;/version&gt;    \n        &lt;scope&gt;provided&lt;/scope&gt;   \n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\n        &lt;artifactId&gt;jersey-server&lt;/artifactId&gt;\n        &lt;version&gt;1.8&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\n        &lt;artifactId&gt;jersey-json&lt;/artifactId&gt;\n        &lt;version&gt;1.8&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\n        &lt;artifactId&gt;jersey-client&lt;/artifactId&gt;\n        &lt;version&gt;1.8&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>Then I tried to deploy the application as War file to RHEL server with Wildfly 10, jdk 1.8u341. Even though I have the following message:</p>\n<pre><code>Cannot upload deployment: \n{&quot;WFLYCTL0080: Failed services&quot; =&gt; \n    {&quot;jboss.undertow.deployment.default-server.default-host./myJavaApp&quot; =&gt; \n          &quot;org.jboss.msc.service.StartException in service jboss.undertow.deployment.default-server.default-host./myJavaApp: java.lang.ArrayIndexOutOfBoundsException: 1612 Caused by: java.lang.ArrayIndexOutOfBoundsException: 1612&quot;},\n&quot;WFLYCTL0412: Required services that are not installed:&quot; =&gt; [&quot;jboss.undertow.deployment.default-server.default-host./myJavaApp&quot;],\n&quot;WFLYCTL0180: Services with missing/unavailable dependencies&quot; =&gt; undefined}\n</code></pre>\n<p>I also checked in Wildfly log and I have the following messages:</p>\n<pre><code>10:44:48,116 WARN  [org.jboss.as.server.deployment] (MSC service thread 1-2) WFLYSRV0059: Class Path entry lib/bcpkix-jdk15on-151.jar in /content/myJavaApp.war/WEB-INF/lib/ejbca-ws-cli-6-6.0.jar  does not point to a valid jar for a Class-Path reference.\n10:44:48,116 WARN  [org.jboss.as.server.deployment] (MSC service thread 1-2) WFLYSRV0059: Class Path entry lib/bcprov-jdk15on-151.jar in /content/myJavaApp.war/WEB-INF/lib/ejbca-ws-cli-6-6.0.jar  does not point to a valid jar for a Class-Path reference.\n\n10:44:48,147 WARN  [org.jboss.as.server.deployment] (MSC service thread 1-2) WFLYSRV0003: Could not index class bcpkix-jdk15on-1.66.jar/META-INF/versions/9/module-info.class at /content/myJavaApp.war/WEB-INF/lib: java.lang.IllegalStateException: Unknown tag! pos=4 poolCount = 107\n        at org.jboss.jandex.Indexer.processConstantPool(Indexer.java:1416)\n        at org.jboss.jandex.Indexer.index(Indexer.java:1450)\n        at java.lang.Thread.run(Thread.java:750)\n        .....\n\n10:44:48,283 WARN  [org.jboss.as.server.deployment] (MSC service thread 1-2) WFLYSRV0003: Could not index class bcprov-jdk15on-1.66.jar/META-INF/versions/9/module-info.class at /content/myJavaApp.war/WEB-INF/lib: java.lang.IllegalStateException: Unknown tag! pos=4 poolCount = 337\n        at org.jboss.jandex.Indexer.processConstantPool(Indexer.java:1416)\n        at org.jboss.jandex.Indexer.index(Indexer.java:1450)\n        ....\n\n10:44:51,082 WARN  [org.jboss.as.server.deployment] (MSC service thread 1-2) WFLYSRV0059: Class Path entry jaxb-api.jar in /content/myJavaApp.war/WEB-INF/lib/jaxb-impl-2.2.3-1.jar  does not point to a valid jar for a Class-Path reference.\n\n  /WEB-INF/lib\n  /WEB-INF/classes\n10:44:52,100 ERROR [org.jboss.msc.service.fail] (ServerService Thread Pool -- 182) MSC000001: Failed to start service jboss.undertow.deployment.default-server.default-host./myJavaApp: org.jboss.msc.service.StartException in service jboss.undertow.deployment.default-server.default-host./myJavaApp: java.lang.ArrayIndexOutOfBoundsException: 1612\n        at org.wildfly.extension.undertow.deployment.UndertowDeploymentService$1.run(UndertowDeploymentService.java:85)\n        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\n        at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\nCaused by: java.lang.ArrayIndexOutOfBoundsException: 1612\n        at org.objectweb.asm.ClassReader.readClass(Unknown Source)\n        at org.objectweb.asm.ClassReader.accept(Unknown Source)\n        at org.objectweb.asm.ClassReader.accept(Unknown Source)\n        at com.sun.jersey.spi.scanning.AnnotationScannerListener.onProcess(AnnotationScannerListener.java:133)\n        at com.sun.jersey.core.spi.scanning.JarFileScanner.scan(JarFileScanner.java:97)\n        at com.sun.jersey.spi.scanning.WebAppResourcesScanner$1.f(WebAppResourcesScanner.java:94)\n        at com.sun.jersey.core.util.Closing.f(Closing.java:71)\n        at com.sun.jersey.spi.scanning.WebAppResourcesScanner.scan(WebAppResourcesScanner.java:92)\n        ... \n\n10:44:52,118 ERROR [org.jboss.as.controller.management-operation] (External Management Request Threads -- 8) WFLYCTL0013: Operation (&quot;add&quot;) failed - address: ([(&quot;deployment&quot; =&gt; &quot;myJavaApp.war&quot;)]) - failure description: {\n    &quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.undertow.deployment.default-server.default-host./myJavaApp&quot; =&gt; &quot;org.jboss.msc.service.StartException in service jboss.undertow.deployment.default-server.default-host./myJavaApp: java.lang.ArrayIndexOutOfBoundsException: 1612\n    Caused by: java.lang.ArrayIndexOutOfBoundsException: 1612&quot;},\n    &quot;WFLYCTL0412: Required services that are not installed:&quot; =&gt; [&quot;jboss.undertow.deployment.default-server.default-host./myJavaApp&quot;],\n    &quot;WFLYCTL0180: Services with missing/unavailable dependencies&quot; =&gt; undefined\n}\n10:44:52,119 ERROR [org.jboss.as.server] (External Management Request Threads -- 8) WFLYSRV0021: Deploy of deployment &quot;myJavaApp.war&quot; was rolled back with the following failure message:\n{\n    &quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.undertow.deployment.default-server.default-host./myJavaApp&quot; =&gt; &quot;org.jboss.msc.service.StartException in service jboss.undertow.deployment.default-server.default-host./myJavaApp: java.lang.ArrayIndexOutOfBoundsException: 1612\n    Caused by: java.lang.ArrayIndexOutOfBoundsException: 1612&quot;},\n    &quot;WFLYCTL0412: Required services that are not installed:&quot; =&gt; [&quot;jboss.undertow.deployment.default-server.default-host./myJavaApp&quot;],\n    &quot;WFLYCTL0180: Services with missing/unavailable dependencies&quot; =&gt; undefined\n}\n10:44:52,265 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-1) WFLYSRV0028: Stopped deployment myJavaApp.war (runtime-name: myJavaApp.war) in 145ms\n10:44:52,266 INFO  [org.jboss.as.controller] (External Management Request Threads -- 8) WFLYCTL0183: Service status report\nWFLYCTL0186:   Services which failed to start:      service jboss.undertow.deployment.default-server.default-host./myJavaApp\n</code></pre>\n<p>The java app has dependencies defined from pom file and dependencies created manually by Netbeans.</p>\n<p>It happens when I try to upgrade BouncyCastle library from 1.62 to 1.66. What can I do?</p>\n<p>Edits:</p>\n<ol>\n<li><p>When I tried to deploy it by Wildfly 24, I get the following message from Admin Console:</p>\n<pre><code>   {&quot;WFLYCTL0080: Failed services&quot; =&gt; \n   {&quot;jboss.deployment.unit.\\&quot;myJavaApp.war\\&quot;.undertow-deployment&quot; =&gt; \n    &quot;java.lang.ArrayIndexOutOfBoundsException: 1612\n     Caused by: java.lang.ArrayIndexOutOfBoundsException: 1612&quot;}}\n</code></pre>\n<p>Wildfly 24 log:</p>\n<pre><code> 15:32:20,821 ERROR [org.jboss.msc.service.fail] (ServerService Thread Pool -- 91) MSC000001: Failed to start service \n       jboss.deployment.unit.&quot;myJavaApp.war&quot;.undertow-deployment: org.jboss.msc.service.StartException in service jboss.deployment.unit.&quot;myJavaApp.war&quot;.undertow-deployment: java.lang.ArrayIndexOutOfBoundsException: 1612\n         at org.wildfly.extension.undertow.deployment.UndertowDeploymentService$1.run(UndertowDeploymentService.java:90)\n         at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\n         at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n         at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\n Caused by: java.lang.ArrayIndexOutOfBoundsException: 1612\n         at org.objectweb.asm.ClassReader.readClass(Unknown Source)\n         at org.objectweb.asm.ClassReader.accept(Unknown Source)\n         at org.objectweb.asm.ClassReader.accept(Unknown Source)\n         at com.sun.jersey.spi.scanning.AnnotationScannerListener.onProcess(AnnotationScannerListener.java:133)\n         at com.sun.jersey.core.spi.scanning.JarFileScanner.scan(JarFileScanner.java:97)\n         at com.sun.jersey.spi.scanning.WebAppResourcesScanner$1.f(WebAppResourcesScanner.java:94)\n         at com.sun.jersey.core.util.Closing.f(Closing.java:71)\n         at com.sun.jersey.spi.scanning.WebAppResourcesScanner.scan(WebAppResourcesScanner.java:92)\n         ...\n 15:32:20,830 ERROR [org.jboss.as.controller.management-operation] (External Management Request Threads -- 1) WFLYCTL0013: Operation (&quot;add&quot;) \n          failed - address: ([(&quot;deployment&quot; =&gt; &quot;myJavaApp.war&quot;)]) - failure description: {&quot;WFLYCTL0080: Failed services&quot; =&gt; \n                  {&quot;jboss.deployment.unit.\\&quot;myJavaApp.war\\&quot;.undertow-deployment&quot; =&gt; &quot;java.lang.ArrayIndexOutOfBoundsException: 1612\n     Caused by: java.lang.ArrayIndexOutOfBoundsException: 1612&quot;}}\n 15:32:20,831 ERROR [org.jboss.as.controller.management-operation] (External Management Request Threads -- 1) WFLYCTL0013: Operation (&quot;add&quot;) \n          failed - address: ([(&quot;deployment&quot; =&gt; &quot;myJavaApp.war&quot;)]) - failure description: {&quot;WFLYCTL0080: Failed services&quot; =&gt; \n                  {&quot;jboss.deployment.unit.\\&quot;myJavaApp.war\\&quot;.undertow-deployment&quot; =&gt; &quot;java.lang.ArrayIndexOutOfBoundsException: 1612\n     Caused by: java.lang.ArrayIndexOutOfBoundsException: 1612&quot;}}\n 15:32:20,832 ERROR [org.jboss.as.server] (External Management Request Threads --1) WFLYSRV0021: Deploy of deployment &quot;myJavaApp.war&quot; was rolled back with the following failure message:\n {&quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.deployment.unit.\\&quot;myJavaApp.war\\&quot;.undertow-deployment&quot; =&gt; &quot;java.lang.ArrayIndexOutOfBoundsException: 1612\n     Caused by: java.lang.ArrayIndexOutOfBoundsException: 1612&quot;}}\n</code></pre>\n</li>\n</ol>\n"},{"tags":["java","mysql","jdbc","crud"],"comments":[{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1668693108,"post_id":74476548,"comment_id":131471676,"body_markdown":"Nothing immediately jumps out. Your code only deletes and updates existing rows; nothing in your paste could ever _add_ a row. Perhaps the answer is the trivial one: You have no rows in the DB, therefore, `DELETE` and `UPDATE` run without failure, and... do nothing. Because that&#39;s by definition what they do when there are no rows. Just.. return. silently.","body":"Nothing immediately jumps out. Your code only deletes and updates existing rows; nothing in your paste could ever <i>add</i> a row. Perhaps the answer is the trivial one: You have no rows in the DB, therefore, <code>DELETE</code> and <code>UPDATE</code> run without failure, and... do nothing. Because that&#39;s by definition what they do when there are no rows. Just.. return. silently."},{"owner":{"account_id":15456066,"reputation":35,"user_id":14458269,"display_name":"SFleevo "},"score":0,"creation_date":1668693534,"post_id":74476548,"comment_id":131471840,"body_markdown":"Thanks for the response. I have added the json that I pass into the controller. Does that change your view?","body":"Thanks for the response. I have added the json that I pass into the controller. Does that change your view?"},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1668696758,"post_id":74476548,"comment_id":131473235,"body_markdown":"No, the content of the JSON seems entirely unrelated. Did you understand a word of my comment? All we need to know is: Is there an actual row with the actual ID you are using for the `?` in `DELETE ... WHERE ID =? `","body":"No, the content of the JSON seems entirely unrelated. Did you understand a word of my comment? All we need to know is: Is there an actual row with the actual ID you are using for the <code>?</code> in <code>DELETE ... WHERE ID =? </code>"},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1668696794,"post_id":74476548,"comment_id":131473253,"body_markdown":"It feels like you think an SQL `UPDATE` commands creates a new row in the database. It doesn&#39;t.","body":"It feels like you think an SQL <code>UPDATE</code> commands creates a new row in the database. It doesn&#39;t."},{"owner":{"account_id":420244,"reputation":435,"user_id":797857,"display_name":"icrovett"},"score":0,"creation_date":1668699993,"post_id":74476548,"comment_id":131474660,"body_markdown":"Look for the `INSERT` SQL usage","body":"Look for the <code>INSERT</code> SQL usage"}],"owner":{"account_id":15456066,"reputation":35,"user_id":14458269,"display_name":"SFleevo "},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":161,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1668693466,"creation_date":1668692736,"question_id":74476548,"body_markdown":"I am trying to update a row in mysql database by the id of the row, but it isn&#39;t inputting the new values into the database. I have tried to tinker with the code but I just can&#39;t figure it out. I test by passing the data as json via postman. Can you spot what is wrong with my code? Code files below (update sql script in the jdbc is probably most relevant):\r\n\r\nRepo:\r\n\r\n\r\nJDBC repo:\r\n\r\n```\r\n@Repository\r\npublic class QuizRepositoryJDBC implements QuizRepository{\r\nprivate static final String UPDATE_QUESTION = &quot;UPDATE Quiz SET type=?, level=?, choiceNum=?, question=?, choiceA=?, choiceB=?, &quot; +\r\n        &quot;choiceC=?, choiceD=?, correct=?, hint=? WHERE ID=?&quot;;\r\n\r\n    private static final String DELETE_QUESTION_BY_ID = &quot;DELETE FROM Quiz WHERE ID=?&quot;;\r\n\r\n    private JdbcTemplate jdbcTemplate;\r\n\r\n    @Autowired(required = false)\r\n    public QuizRepositoryJDBC(JdbcTemplate aTemplate){\r\n        jdbcTemplate = aTemplate;\r\n    }\r\n\r\n    @Override\r\n    public QuizDTO updateQuestion(QuizDTO quizDTO) {\r\n        jdbcTemplate.update(UPDATE_QUESTION, quizDTO.getID(), quizDTO.getType(), quizDTO.getLevel(), quizDTO.getChoiceNum(),quizDTO.getQuestion(), quizDTO.getChoiceA(),\r\n                quizDTO.getChoiceB(), quizDTO.getChoiceC(), quizDTO.getChoiceD(), quizDTO.getCorrect(), quizDTO.getHint());\r\n        return quizDTO;\r\n    }\r\n\r\n    @Override\r\n    public String deleteQuestion(int id) {\r\n        jdbcTemplate.update(DELETE_QUESTION_BY_ID, id);\r\n        return &quot;Deleted question with id:&quot; + id;\r\n    }\r\n```\r\n\r\nController:\r\n\r\n```\r\n@RestController\r\npublic class QuizController {\r\n\r\n    private QuizRepository quizRepo;\r\n\r\n    @Autowired\r\n    public QuizController(QuizRepository pRepo) {\r\n        quizRepo = pRepo;\r\n    }\r\n\r\n    @PutMapping(&quot;/adminupdate&quot;)\r\n    public QuizDTO updateQuestion(@RequestBody QuizDTO quizDTO) {\r\n\r\n        return quizRepo.updateQuestion(quizDTO);\r\n    }\r\n\r\n    @DeleteMapping(&quot;/admindelete/{id}&quot;)\r\n    public String deleteQuestion(@PathVariable(&quot;id&quot;) int id){\r\n        return quizRepo.deleteQuestion(id);\r\n    }\r\n\r\n}\r\n```\r\nJSON that I pass into postman:\r\n```\r\n{\r\n&quot;id&quot;: 104,\r\n&quot;type&quot;:&quot;epidemics&quot;,\r\n&quot;level&quot;:1,\r\n&quot;choiceNum&quot;:4,\r\n&quot;question&quot;:&quot;another one question&quot;,\r\n&quot;choiceA&quot;: &quot;no1&quot;,\r\n&quot;choiceB&quot;:&quot;yes2&quot;,\r\n&quot;choiceC&quot;:&quot;no3&quot;,\r\n&quot;choiceD&quot;:&quot;yes4&quot;,\r\n&quot;correct&quot;:&quot;no1&quot;,\r\n&quot;hint&quot;:&quot;second answer&quot;\r\n}\r\n```\r\n","title":"How to update row by id in jdbc?","body":"<p>I am trying to update a row in mysql database by the id of the row, but it isn't inputting the new values into the database. I have tried to tinker with the code but I just can't figure it out. I test by passing the data as json via postman. Can you spot what is wrong with my code? Code files below (update sql script in the jdbc is probably most relevant):</p>\n<p>Repo:</p>\n<p>JDBC repo:</p>\n<pre><code>@Repository\npublic class QuizRepositoryJDBC implements QuizRepository{\nprivate static final String UPDATE_QUESTION = &quot;UPDATE Quiz SET type=?, level=?, choiceNum=?, question=?, choiceA=?, choiceB=?, &quot; +\n        &quot;choiceC=?, choiceD=?, correct=?, hint=? WHERE ID=?&quot;;\n\n    private static final String DELETE_QUESTION_BY_ID = &quot;DELETE FROM Quiz WHERE ID=?&quot;;\n\n    private JdbcTemplate jdbcTemplate;\n\n    @Autowired(required = false)\n    public QuizRepositoryJDBC(JdbcTemplate aTemplate){\n        jdbcTemplate = aTemplate;\n    }\n\n    @Override\n    public QuizDTO updateQuestion(QuizDTO quizDTO) {\n        jdbcTemplate.update(UPDATE_QUESTION, quizDTO.getID(), quizDTO.getType(), quizDTO.getLevel(), quizDTO.getChoiceNum(),quizDTO.getQuestion(), quizDTO.getChoiceA(),\n                quizDTO.getChoiceB(), quizDTO.getChoiceC(), quizDTO.getChoiceD(), quizDTO.getCorrect(), quizDTO.getHint());\n        return quizDTO;\n    }\n\n    @Override\n    public String deleteQuestion(int id) {\n        jdbcTemplate.update(DELETE_QUESTION_BY_ID, id);\n        return &quot;Deleted question with id:&quot; + id;\n    }\n</code></pre>\n<p>Controller:</p>\n<pre><code>@RestController\npublic class QuizController {\n\n    private QuizRepository quizRepo;\n\n    @Autowired\n    public QuizController(QuizRepository pRepo) {\n        quizRepo = pRepo;\n    }\n\n    @PutMapping(&quot;/adminupdate&quot;)\n    public QuizDTO updateQuestion(@RequestBody QuizDTO quizDTO) {\n\n        return quizRepo.updateQuestion(quizDTO);\n    }\n\n    @DeleteMapping(&quot;/admindelete/{id}&quot;)\n    public String deleteQuestion(@PathVariable(&quot;id&quot;) int id){\n        return quizRepo.deleteQuestion(id);\n    }\n\n}\n</code></pre>\n<p>JSON that I pass into postman:</p>\n<pre><code>{\n&quot;id&quot;: 104,\n&quot;type&quot;:&quot;epidemics&quot;,\n&quot;level&quot;:1,\n&quot;choiceNum&quot;:4,\n&quot;question&quot;:&quot;another one question&quot;,\n&quot;choiceA&quot;: &quot;no1&quot;,\n&quot;choiceB&quot;:&quot;yes2&quot;,\n&quot;choiceC&quot;:&quot;no3&quot;,\n&quot;choiceD&quot;:&quot;yes4&quot;,\n&quot;correct&quot;:&quot;no1&quot;,\n&quot;hint&quot;:&quot;second answer&quot;\n}\n</code></pre>\n"},{"tags":["java","recursion","search","null","avl-tree"],"comments":[{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1668693617,"post_id":74476629,"comment_id":131471879,"body_markdown":"Inserting has to be done as `root = insertNode(data, root);`. Because assigning to the local parameter `root` does not assign to the passed global variable `root`, In java `f(x)` will never assign to a passed variable `x` _(=pass-by-value)_. Better also rename the root parameter to `node` or such, as root means top node.","body":"Inserting has to be done as <code>root = insertNode(data, root);</code>. Because assigning to the local parameter <code>root</code> does not assign to the passed global variable <code>root</code>, In java <code>f(x)</code> will never assign to a passed variable <code>x</code> <i>(=pass-by-value)</i>. Better also rename the root parameter to <code>node</code> or such, as root means top node."},{"owner":{"account_id":26963239,"reputation":1,"user_id":20530574,"display_name":"wantoimprove"},"score":0,"creation_date":1668694106,"post_id":74476629,"comment_id":131472103,"body_markdown":"@JoopEggen Did you mean I should replace all instances of &#39;root&#39; with &#39;node&#39; inside the method? I&#39;ve done that and now I&#39;m getting a StackOverflow error that&#39;s saying I should create a breakpoint to resolve it","body":"@JoopEggen Did you mean I should replace all instances of &#39;root&#39; with &#39;node&#39; inside the method? I&#39;ve done that and now I&#39;m getting a StackOverflow error that&#39;s saying I should create a breakpoint to resolve it"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1668694601,"post_id":74476629,"comment_id":131472319,"body_markdown":"Inside `insertNode` a rename of _root_ to _node_ is more clear and should not have changed anything.  The stacktrace itself should already show where an endless loop happens.","body":"Inside <code>insertNode</code> a rename of <i>root</i> to <i>node</i> is more clear and should not have changed anything.  The stacktrace itself should already show where an endless loop happens."},{"owner":{"account_id":26963239,"reputation":1,"user_id":20530574,"display_name":"wantoimprove"},"score":0,"creation_date":1668775208,"post_id":74476629,"comment_id":131494059,"body_markdown":"@JoopEggen Thanks for correcting me on that. I&#39;m still having the same problem with my search though. The suggestion I get from my compiler when looking at the code tells me that the check variable is never used or accessed because the root is null (it&#39;s throwing a NullPointerException). Any tips on that?","body":"@JoopEggen Thanks for correcting me on that. I&#39;m still having the same problem with my search though. The suggestion I get from my compiler when looking at the code tells me that the check variable is never used or accessed because the root is null (it&#39;s throwing a NullPointerException). Any tips on that?"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1668787659,"post_id":74476629,"comment_id":131498614,"body_markdown":"Sorry for the late return here. No, I have no idea. Keep thing readable, a classs in its own file, the usage separate. And the debugger is your best friend to inspect along what code the program runs.","body":"Sorry for the late return here. No, I have no idea. Keep thing readable, a classs in its own file, the usage separate. And the debugger is your best friend to inspect along what code the program runs."}],"owner":{"account_id":26963239,"reputation":1,"user_id":20530574,"display_name":"wantoimprove"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668693148,"creation_date":1668693076,"question_id":74476629,"body_markdown":"This is the insertion method: \r\n\r\n\r\n```\r\nprivate Node insertNode(Person data, Node root)\r\n{\r\n    //check whether the node is null or not\r\n    if (root == null)\r\n        root = new Node(data);\r\n        //insert a node in case when the given data is lesser than the data of the root node\r\n    else if (getCountCommon(data, root.getRoot()) == 0)\r\n    {\r\n        root.setLeftSubTree(insertNode(data, root.getLeftSubTree()));\r\n        if(getHeight(root.getLeftSubTree()) - getHeight(root.getRightSubTree()) == 2 )\r\n            if(getCountCommon(data, root.getLeftSubTree().getRoot()) == 0)\r\n                root = rotateWithleftSubTree(root);\r\n            else\r\n                root = doubleWithleftSubTree(root);\r\n    }\r\n    else if(getCountCommon(data, root.getRoot()) &gt; 0)\r\n    {\r\n        root.setRightSubTree(insertNode(data, root.getRightSubTree()));\r\n        if(getHeight(root.getRightSubTree()) - getHeight(root.getLeftSubTree()) == 2 )\r\n            if(getCountCommon(data, root.getRightSubTree().getRoot()) &gt; 0)\r\n                root = rotateWithrightSubTree(root);\r\n            else\r\n                root = doubleWithrightSubTree(root);\r\n    }\r\n    else\r\n          ;// if the data is already present in the tree, we will do nothing\r\n\r\n    root.setHeight(getMaxHeight(getHeight(root.getLeftSubTree()), getHeight(root.getRightSubTree())) + 1);\r\n\r\n    return root;\r\n\r\n}\r\n```\r\n\r\nAnd this is the method I use to get a count of all nodes:\r\n\r\n\r\n```\r\nprivate int getTotalNumberOfNodes(Node root)\r\n{\r\n    if (root == null)\r\n        return 0;\r\n    else\r\n    {\r\n        int size = 1;\r\n        size = size + getTotalNumberOfNodes(root.getLeftSubTree());\r\n        size = size + getTotalNumberOfNodes(root.getRightSubTree());\r\n        return size;\r\n    }\r\n}\r\n```\r\n\r\n\r\nWhen I populate the tree with an ArrayList of 20000 objects... \r\n\r\n```\r\nSystem.out.println(&quot;\\nPopulating tree with data from personList...&quot;);\r\n\r\nfor (int index=0; index&lt;size; index++){\r\n\r\n    personTree.insertNode(personList.get(index));\r\n}\r\n\r\nSystem.out.println(&quot;Tree populated.&quot;);\r\n\r\n//Checking number of nodes in tree\r\nSystem.out.println(&quot;Number of nodes in tree: &quot; + personTree.getTotalNumberOfNodes() + &quot;\\n&quot;);\r\n\r\n```\r\n\r\nI get this output:\r\nPopulating tree with data from personList...\r\nTree populated.\r\nNumber of nodes in tree: 20000\r\n\r\n\r\nThen, when I attempt to search the tree...\r\n\r\n```\r\nTree class:\r\npublic void searchData(Person data){\r\n    searchData(getRoot(), data);\r\n}\r\n\r\npublic void searchData(Node root, Person data)\r\n{\r\n    Person check = new Person();\r\n\r\n    if(root == null)\r\n    {\r\n        System.out.println(data.getFirstName() + &quot; was not found.&quot;);\r\n    }\r\n    else if (root.getRoot() == data)\r\n    {\r\n        System.out.println(data.getFirstName() + &quot;was found!&quot;);\r\n        check = root.getRoot();\r\n    }\r\n    else\r\n    {\r\n        if (getCountCommon(root.getRoot(), data) == 0){\r\n            root = root.getLeftSubTree();\r\n            searchData(root, data);\r\n        } else if (getCountCommon(root.getRoot(), data) &gt; 0){\r\n            root = root.getRightSubTree();\r\n            searchData(root, data);\r\n        }\r\n    }\r\n}\r\n\r\nMain:\r\nSystem.out.println(&quot;\\nSearching tree for &#39;&quot; + personList.get(6889).getFirstName() + &quot; &quot; + personList.get(6889).getLastName() + &quot;&#39;...&quot;);\r\npersonTree.searchData(personList.get(6889));\r\n\r\n```\r\n\r\nI keep getting this output:\r\nSearching tree for &#39;Hugh Senior&#39;...\r\nHugh was not found.\r\n\r\n\r\nWhen I checked to see if there was anything at the root using this code:\r\n\r\n```\r\nSystem.out.println(&quot;\\nData at tree root is: \\n&quot; + personTree.getRoot().getRoot());\r\n```\r\n\r\nI get this output, which tells me it&#39;s not empty:\r\n\r\n```\r\nData at tree root is: \r\nFirst Name:    Robert\r\nLast Name:   Bell\r\nTelephone:   8766554539\r\nEmail:       RoBell15@hotmail.com\r\nCommunity:   Liguanea\r\nSchool:      Camperdown\r\nEmployer:    NCB\r\nPrivacy:     Y\r\n     ---Activity/Activities---    \r\n\r\n\r\n\r\n```\r\n\r\n\r\n\r\n\r\nOn some occasions, when I directly called the root accessor from the tree class and tried using it as input directly into the second search method, it threw errors saying my root was null. And the warnings in IntelliJ are telling me that nothing past the first if statement in searchData(Node root, Person data) gets checked since the root is always null. \r\n\r\nI tried directly checking the tree&#39;s root again in main, and it shows that data is there so I&#39;m stumped.\r\n","title":"Why does the root of this AVL tree keep being treated as null even though it has been populated with objects?","body":"<p>This is the insertion method:</p>\n<pre><code>private Node insertNode(Person data, Node root)\n{\n    //check whether the node is null or not\n    if (root == null)\n        root = new Node(data);\n        //insert a node in case when the given data is lesser than the data of the root node\n    else if (getCountCommon(data, root.getRoot()) == 0)\n    {\n        root.setLeftSubTree(insertNode(data, root.getLeftSubTree()));\n        if(getHeight(root.getLeftSubTree()) - getHeight(root.getRightSubTree()) == 2 )\n            if(getCountCommon(data, root.getLeftSubTree().getRoot()) == 0)\n                root = rotateWithleftSubTree(root);\n            else\n                root = doubleWithleftSubTree(root);\n    }\n    else if(getCountCommon(data, root.getRoot()) &gt; 0)\n    {\n        root.setRightSubTree(insertNode(data, root.getRightSubTree()));\n        if(getHeight(root.getRightSubTree()) - getHeight(root.getLeftSubTree()) == 2 )\n            if(getCountCommon(data, root.getRightSubTree().getRoot()) &gt; 0)\n                root = rotateWithrightSubTree(root);\n            else\n                root = doubleWithrightSubTree(root);\n    }\n    else\n          ;// if the data is already present in the tree, we will do nothing\n\n    root.setHeight(getMaxHeight(getHeight(root.getLeftSubTree()), getHeight(root.getRightSubTree())) + 1);\n\n    return root;\n\n}\n</code></pre>\n<p>And this is the method I use to get a count of all nodes:</p>\n<pre><code>private int getTotalNumberOfNodes(Node root)\n{\n    if (root == null)\n        return 0;\n    else\n    {\n        int size = 1;\n        size = size + getTotalNumberOfNodes(root.getLeftSubTree());\n        size = size + getTotalNumberOfNodes(root.getRightSubTree());\n        return size;\n    }\n}\n</code></pre>\n<p>When I populate the tree with an ArrayList of 20000 objects...</p>\n<pre><code>System.out.println(&quot;\\nPopulating tree with data from personList...&quot;);\n\nfor (int index=0; index&lt;size; index++){\n\n    personTree.insertNode(personList.get(index));\n}\n\nSystem.out.println(&quot;Tree populated.&quot;);\n\n//Checking number of nodes in tree\nSystem.out.println(&quot;Number of nodes in tree: &quot; + personTree.getTotalNumberOfNodes() + &quot;\\n&quot;);\n\n</code></pre>\n<p>I get this output:\nPopulating tree with data from personList...\nTree populated.\nNumber of nodes in tree: 20000</p>\n<p>Then, when I attempt to search the tree...</p>\n<pre><code>Tree class:\npublic void searchData(Person data){\n    searchData(getRoot(), data);\n}\n\npublic void searchData(Node root, Person data)\n{\n    Person check = new Person();\n\n    if(root == null)\n    {\n        System.out.println(data.getFirstName() + &quot; was not found.&quot;);\n    }\n    else if (root.getRoot() == data)\n    {\n        System.out.println(data.getFirstName() + &quot;was found!&quot;);\n        check = root.getRoot();\n    }\n    else\n    {\n        if (getCountCommon(root.getRoot(), data) == 0){\n            root = root.getLeftSubTree();\n            searchData(root, data);\n        } else if (getCountCommon(root.getRoot(), data) &gt; 0){\n            root = root.getRightSubTree();\n            searchData(root, data);\n        }\n    }\n}\n\nMain:\nSystem.out.println(&quot;\\nSearching tree for '&quot; + personList.get(6889).getFirstName() + &quot; &quot; + personList.get(6889).getLastName() + &quot;'...&quot;);\npersonTree.searchData(personList.get(6889));\n\n</code></pre>\n<p>I keep getting this output:\nSearching tree for 'Hugh Senior'...\nHugh was not found.</p>\n<p>When I checked to see if there was anything at the root using this code:</p>\n<pre><code>System.out.println(&quot;\\nData at tree root is: \\n&quot; + personTree.getRoot().getRoot());\n</code></pre>\n<p>I get this output, which tells me it's not empty:</p>\n<pre><code>Data at tree root is: \nFirst Name:    Robert\nLast Name:   Bell\nTelephone:   8766554539\nEmail:       RoBell15@hotmail.com\nCommunity:   Liguanea\nSchool:      Camperdown\nEmployer:    NCB\nPrivacy:     Y\n     ---Activity/Activities---    \n\n\n\n</code></pre>\n<p>On some occasions, when I directly called the root accessor from the tree class and tried using it as input directly into the second search method, it threw errors saying my root was null. And the warnings in IntelliJ are telling me that nothing past the first if statement in searchData(Node root, Person data) gets checked since the root is always null.</p>\n<p>I tried directly checking the tree's root again in main, and it shows that data is there so I'm stumped.</p>\n"},{"tags":["java","spring-boot","mockito"],"answers":[{"tags":[],"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668693062,"creation_date":1668693062,"answer_id":74476625,"question_id":74473847,"body_markdown":"If you want to replace a bean in spring context, you need a `@MockBean` or `@SpyBean`","title":"doCallRealMethod not working on void return type method","body":"<p>If you want to replace a bean in spring context, you need a <code>@MockBean</code> or <code>@SpyBean</code></p>\n"}],"owner":{"account_id":5137581,"reputation":340,"user_id":4115835,"accept_rate":15,"display_name":"Loren"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668693062,"creation_date":1668680936,"question_id":74473847,"body_markdown":"I am trying to call a real method whose return type is void . I have tried both @mock and @spy both on my bean but it is still not going into actual class. \r\n\r\n    @Autowired private HelperV2 authValidationHelper;\r\n\r\n    @Override\r\n    public void postProcess(Event event) {\r\n    List&lt;Error&gt; errorList = new ArrayList&lt;&gt;();\r\n      authValidationHelper.validateOrderTotalAmount(event, errorList);\r\n      handleError(event, errorList);\r\n    }\r\n    }\r\n\r\n\r\nTest case\r\n\r\n    @Spy private HelperV2 authValidationHelper;\r\n\r\n    @Test\r\n    public void test_postProcess()  {\r\n    BaseOrderEvent event =\r\n        ParserUtil.getObjectFromFile(\r\n            &quot;events/createPaymentRequestWithShoppingCardOnly2.json&quot;, Event.class);\r\n    Mockito.doCallRealMethod()\r\n        .when(authValidationHelper)\r\n        .validateOrderTotalAmount(Mockito.any(), Mockito.any());\r\n    createOrderEventProcessor.postProcess(event);\r\n    }\r\n","title":"doCallRealMethod not working on void return type method","body":"<p>I am trying to call a real method whose return type is void . I have tried both @mock and @spy both on my bean but it is still not going into actual class.</p>\n<pre><code>@Autowired private HelperV2 authValidationHelper;\n\n@Override\npublic void postProcess(Event event) {\nList&lt;Error&gt; errorList = new ArrayList&lt;&gt;();\n  authValidationHelper.validateOrderTotalAmount(event, errorList);\n  handleError(event, errorList);\n}\n}\n</code></pre>\n<p>Test case</p>\n<pre><code>@Spy private HelperV2 authValidationHelper;\n\n@Test\npublic void test_postProcess()  {\nBaseOrderEvent event =\n    ParserUtil.getObjectFromFile(\n        &quot;events/createPaymentRequestWithShoppingCardOnly2.json&quot;, Event.class);\nMockito.doCallRealMethod()\n    .when(authValidationHelper)\n    .validateOrderTotalAmount(Mockito.any(), Mockito.any());\ncreateOrderEventProcessor.postProcess(event);\n}\n</code></pre>\n"},{"tags":["javascript","java","jsp","url","tomcat9"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1668674918,"post_id":74472425,"comment_id":131464747,"body_markdown":"`Home.jsp`, `Hoxxxme.jsp` and `xxx/Home.jsp` are different pages - what do you expect?","body":"<code>Home.jsp</code>, <code>Hoxxxme.jsp</code> and <code>xxx&#47;Home.jsp</code> are different pages - what do you expect?"},{"owner":{"account_id":24538904,"reputation":1,"user_id":18449546,"display_name":"Olcay &#199;etin"},"score":0,"creation_date":1668675768,"post_id":74472425,"comment_id":131465052,"body_markdown":"@dan1st Home.jsp is valid page but the others not.Hoxxxme.jsp is ok i am gettin 404 server error.but for xxx/Home.jsp, I cant get 404 error in proper way","body":"@dan1st Home.jsp is valid page but the others not.Hoxxxme.jsp is ok i am gettin 404 server error.but for xxx/Home.jsp, I cant get 404 error in proper way"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1668676469,"post_id":74472425,"comment_id":131465312,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1668689918,"post_id":74472425,"comment_id":131470278,"body_markdown":"Can you show the web.xml and the location of the Home.jsp file (or handler) in the project?","body":"Can you show the web.xml and the location of the Home.jsp file (or handler) in the project?"},{"owner":{"account_id":24538904,"reputation":1,"user_id":18449546,"display_name":"Olcay &#199;etin"},"score":0,"creation_date":1668691966,"post_id":74472425,"comment_id":131471172,"body_markdown":"@dan1st  which web.xml? if u asking inside web-inf which i just realized that i need add in that. Now I am trying a new library of tuckey. inside of web.inf is now ; \nedited in post","body":"@dan1st  which web.xml? if u asking inside web-inf which i just realized that i need add in that. Now I am trying a new library of tuckey. inside of web.inf is now ;  edited in post"},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1668692029,"post_id":74472425,"comment_id":131471202,"body_markdown":"There should only be a single `web.xml` file.","body":"There should only be a single <code>web.xml</code> file."},{"owner":{"account_id":24538904,"reputation":1,"user_id":18449546,"display_name":"Olcay &#199;etin"},"score":0,"creation_date":1668692849,"post_id":74472425,"comment_id":131471548,"body_markdown":"@dan1st and Home.jsp location :\n\nC:\\Users\\USER\\eclipse-workspace\\.metadata\\.plugins\\org.eclipse.wst.server.core\\tmp0\\wtpwebapps\\Company\\Pages","body":"@dan1st and Home.jsp location :  C:\\Users\\USER\\eclipse-workspace\\.metadata\\.plugins\\org.eclip&zwnj;&#8203;se.wst.server.core\\t&zwnj;&#8203;mp0\\wtpwebapps\\Compa&zwnj;&#8203;ny\\Pages"}],"owner":{"account_id":24538904,"reputation":1,"user_id":18449546,"display_name":"Olcay &#199;etin"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668692946,"creation_date":1668674600,"question_id":74472425,"body_markdown":"I am facing a issue actually it is not a big deal but i need to solve this problem for my work.\r\nWhen I write url like http://localhost:8080/****/Pages/Home.jsp it works fine but or when i try an unbeing page like http://localhost:8080/****/Pages/Hoxxxxme.jsp it redirects to my 404 error page.but when try like http://localhost:8080/****/Pages//Home.jsp loads a page but not proper way ([enter image description here](https://i.stack.imgur.com/6mklV.png) or http://localhost:8080/****/Pages/xxx/Home.jsp (unbeing page) it tries to redirect to 404 error page but not a proper way again [enter image description here](https://i.stack.imgur.com/H9kUo.png)\r\n\r\n\r\n\r\nI could not understand the problem.I tried mime type in web.xml, It didnt work.How can I solve this problem? \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot; xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot; id=&quot;WebApp_ID&quot; version=&quot;3.0&quot;&gt;\r\n      &lt;display-name&gt;CredIS&lt;/display-name&gt;\r\n      &lt;welcome-file-list&gt;\r\n        &lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt;\r\n      &lt;/welcome-file-list&gt;\r\n    &lt;!--   &lt;listener&gt;\r\n        &lt;listener-class&gt;com.crede.system.SessionListener&lt;/listener-class&gt;\r\n      &lt;/listener&gt;\r\n      &lt;listener&gt;\r\n        &lt;listener-class&gt;com.crede.system.ContextListener&lt;/listener-class&gt;\r\n      &lt;/listener&gt;\r\n\r\n       &lt;filter&gt;\r\n           &lt;filter-name&gt;UrlRewriteFilter&lt;/filter-name&gt;\r\n           &lt;filter-class&gt;org.tuckey.web.filters.urlrewrite.UrlRewriteFilter&lt;/filter-class&gt;\r\n        &lt;/filter&gt;\r\n        &lt;filter-mapping&gt;\r\n           &lt;filter-name&gt;UrlRewriteFilter&lt;/filter-name&gt;\r\n           &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n        &lt;/filter-mapping&gt;\r\n            \r\n\r\n\r\n     --&gt;  &lt;session-config&gt;\r\n        &lt;session-timeout&gt;32&lt;/session-timeout&gt;\r\n      &lt;/session-config&gt;\r\n      \r\n     &lt;!-- BLOCK COMMENT FOR TEST LINK. REMOVE COMMENTS FOR PRODUCTION --&gt;\r\n     &lt;!--&lt;security-constraint&gt;\r\n     &lt;web-resource-collection&gt;\r\n     &lt;web-resource-name&gt;Protected Context&lt;/web-resource-name&gt;\r\n     &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n     &lt;/web-resource-collection&gt;\r\n     &lt;user-data-constraint&gt;\r\n     &lt;transport-guarantee&gt;CONFIDENTIAL&lt;/transport-guarantee&gt;\r\n     &lt;/user-data-constraint&gt;\r\n     &lt;/security-constraint&gt; --&gt;\r\n     &lt;!-- BLOCK COMMENT FOR TEST LINK. REMOVE COMMENTS FOR PRODUCTION --&gt;\r\n     &lt;/web-app&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n    ","title":"Tomcat 9 adding more slash to url problem","body":"<p>I am facing a issue actually it is not a big deal but i need to solve this problem for my work.\nWhen I write url like http://localhost:8080/<strong><strong>/Pages/Home.jsp it works fine but or when i try an unbeing page like http://localhost:8080/</strong></strong>/Pages/Hoxxxxme.jsp it redirects to my 404 error page.but when try like http://localhost:8080/<strong><strong>/Pages//Home.jsp loads a page but not proper way (<a href=\"https://i.stack.imgur.com/6mklV.png\" rel=\"nofollow noreferrer\">enter image description here</a> or http://localhost:8080/</strong></strong>/Pages/xxx/Home.jsp (unbeing page) it tries to redirect to 404 error page but not a proper way again <a href=\"https://i.stack.imgur.com/H9kUo.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I could not understand the problem.I tried mime type in web.xml, It didnt work.How can I solve this problem?</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;web-app xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns=\"http://java.sun.com/xml/ns/javaee\" xsi:schemaLocation=\"http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd\" id=\"WebApp_ID\" version=\"3.0\"&gt;\n  &lt;display-name&gt;CredIS&lt;/display-name&gt;\n  &lt;welcome-file-list&gt;\n    &lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt;\n  &lt;/welcome-file-list&gt;\n&lt;!--   &lt;listener&gt;\n    &lt;listener-class&gt;com.crede.system.SessionListener&lt;/listener-class&gt;\n  &lt;/listener&gt;\n  &lt;listener&gt;\n    &lt;listener-class&gt;com.crede.system.ContextListener&lt;/listener-class&gt;\n  &lt;/listener&gt;\n\n   &lt;filter&gt;\n       &lt;filter-name&gt;UrlRewriteFilter&lt;/filter-name&gt;\n       &lt;filter-class&gt;org.tuckey.web.filters.urlrewrite.UrlRewriteFilter&lt;/filter-class&gt;\n    &lt;/filter&gt;\n    &lt;filter-mapping&gt;\n       &lt;filter-name&gt;UrlRewriteFilter&lt;/filter-name&gt;\n       &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n    &lt;/filter-mapping&gt;\n        \n\n\n --&gt;  &lt;session-config&gt;\n    &lt;session-timeout&gt;32&lt;/session-timeout&gt;\n  &lt;/session-config&gt;\n  \n &lt;!-- BLOCK COMMENT FOR TEST LINK. REMOVE COMMENTS FOR PRODUCTION --&gt;\n &lt;!--&lt;security-constraint&gt;\n &lt;web-resource-collection&gt;\n &lt;web-resource-name&gt;Protected Context&lt;/web-resource-name&gt;\n &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n &lt;/web-resource-collection&gt;\n &lt;user-data-constraint&gt;\n &lt;transport-guarantee&gt;CONFIDENTIAL&lt;/transport-guarantee&gt;\n &lt;/user-data-constraint&gt;\n &lt;/security-constraint&gt; --&gt;\n &lt;!-- BLOCK COMMENT FOR TEST LINK. REMOVE COMMENTS FOR PRODUCTION --&gt;\n &lt;/web-app&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":["java","spring","unit-testing","junit","mocking"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1668655441,"post_id":74466999,"comment_id":131460493,"body_markdown":"Don&#39;t.  Use a real one.  There&#39;s no reason to mock a Future of any kind.","body":"Don&#39;t.  Use a real one.  There&#39;s no reason to mock a Future of any kind."}],"answers":[{"tags":[],"owner":{"account_id":2681853,"reputation":148,"user_id":2317065,"display_name":"Italo Brenner"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668692884,"creation_date":1668692884,"answer_id":74476582,"question_id":74466999,"body_markdown":"I created a component with has the same method of original static class, so when you need to mock, you can use @Mock.\r\n\r\n```\r\n@Component\r\npublic class ApplicationCompletableFuture {\r\n    public &lt;U&gt; CompletableFuture&lt;U&gt; supplyAsync(Supplier&lt;U&gt; supplier,\r\n                                                ForkJoinPool forkJoinPool) {\r\n        return CompletableFuture.supplyAsync(supplier, forkJoinPool);\r\n    }\r\n}\r\n```\r\n```\r\nCompletableFuture&lt;Pet&gt; branchCompletableFuture =\r\n        applicationCompletableFuture.supplyAsync(() -&gt; petService.validatePet(dto.getPetCode), forkJoinPool);\r\n```\r\n```\r\nwhen(applicationCompletableFuture.supplyAsync(any(),any()))\r\n        .thenReturn(CompletableFuture.completedFuture(pet));\r\n```","title":"How can I Mock CompletableFuture in Java","body":"<p>I created a component with has the same method of original static class, so when you need to mock, you can use @Mock.</p>\n<pre><code>@Component\npublic class ApplicationCompletableFuture {\n    public &lt;U&gt; CompletableFuture&lt;U&gt; supplyAsync(Supplier&lt;U&gt; supplier,\n                                                ForkJoinPool forkJoinPool) {\n        return CompletableFuture.supplyAsync(supplier, forkJoinPool);\n    }\n}\n</code></pre>\n<pre><code>CompletableFuture&lt;Pet&gt; branchCompletableFuture =\n        applicationCompletableFuture.supplyAsync(() -&gt; petService.validatePet(dto.getPetCode), forkJoinPool);\n</code></pre>\n<pre><code>when(applicationCompletableFuture.supplyAsync(any(),any()))\n        .thenReturn(CompletableFuture.completedFuture(pet));\n</code></pre>\n"}],"owner":{"account_id":7993603,"reputation":1201,"user_id":6030719,"accept_rate":50,"display_name":"S&#233;rgio Thiago Mendon&#231;a"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":969,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74476582,"answer_count":1,"score":1,"last_activity_date":1668692884,"creation_date":1668631565,"question_id":74466999,"body_markdown":"The calls in API:\r\n\r\n            CompletableFuture&lt;Beneficiary&gt; beneficiaryCompletableFuture =\r\n                CompletableFuture.supplyAsync(() -&gt;\r\n                        beneficiaryService.validateAndGetCustomer(dto.getBeneficiary()), forkJoinPool);\r\n\r\n\r\n        CompletableFuture&lt;List&lt;Product&gt;&gt; productsCompletableFuture =\r\n                CompletableFuture.supplyAsync(() -&gt;\r\n                        productService.validateAndGetProducts(dto.getProductCodeList()), forkJoinPool);\r\n\r\nWhen forkJoinPool is a Spring Configuration:\r\n\r\n    @Configuration\r\n    public class ForkJoinConfig {\r\n    \r\n        @Bean\r\n        public ForkJoinPool getForkJoinPool(){\r\n            return new ForkJoinPool();\r\n        }\r\n    }\r\n\r\nWhen i try to test this in Junit the call is stucked, the test does not work...\r\n\r\n[![stucked_test][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/onZUW.png\r\n\r\n\r\nI really don&#39;t know can i simple Mock a CompletableFuture.supplyAsync and identify what is Product or what is Beneficiary...\r\n\r\n\r\n","title":"How can I Mock CompletableFuture in Java","body":"<p>The calls in API:</p>\n<pre><code>        CompletableFuture&lt;Beneficiary&gt; beneficiaryCompletableFuture =\n            CompletableFuture.supplyAsync(() -&gt;\n                    beneficiaryService.validateAndGetCustomer(dto.getBeneficiary()), forkJoinPool);\n\n\n    CompletableFuture&lt;List&lt;Product&gt;&gt; productsCompletableFuture =\n            CompletableFuture.supplyAsync(() -&gt;\n                    productService.validateAndGetProducts(dto.getProductCodeList()), forkJoinPool);\n</code></pre>\n<p>When forkJoinPool is a Spring Configuration:</p>\n<pre><code>@Configuration\npublic class ForkJoinConfig {\n\n    @Bean\n    public ForkJoinPool getForkJoinPool(){\n        return new ForkJoinPool();\n    }\n}\n</code></pre>\n<p>When i try to test this in Junit the call is stucked, the test does not work...</p>\n<p><a href=\"https://i.stack.imgur.com/onZUW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/onZUW.png\" alt=\"stucked_test\" /></a></p>\n<p>I really don't know can i simple Mock a CompletableFuture.supplyAsync and identify what is Product or what is Beneficiary...</p>\n"},{"tags":["java","hibernate","modelmapper"],"answers":[{"tags":[],"owner":{"account_id":1734438,"reputation":36245,"user_id":1587329,"accept_rate":94,"display_name":"serv-inc"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640080351,"creation_date":1640080351,"answer_id":70433482,"question_id":63718182,"body_markdown":"Look a bit deeper in the stack trace: the last mapping problem is often something more actionable. \r\n\r\nMaybe the `PhoneDTO` was not mappable ? If so, you need to create a converter and tell model mapper about it, like so:\r\n\r\n```java\r\npublic class PhoneConverter extends AbstractConverter&lt;PhoneEntity, PhoneDto&gt;\r\n{\r\n   private final StrictModelMapper strictModelMapper;\r\n\r\n   @Override\r\n   public PhoneDto convert(@NonNull final PhoneEntity source)\r\n   {\r\n      PhoneDto phoneDto = new PhoneDto();\r\n      strictModelMapper.map(source, phoneDto);\r\n      return phoneDto;\r\n   }\r\n}\r\n```\r\nand add it to the `modelMapper`.","title":"ModelMapper - failed to convert org.hibernate.collection.internal.PersistentBag to java.util.ArrayList","body":"<p>Look a bit deeper in the stack trace: the last mapping problem is often something more actionable.</p>\n<p>Maybe the <code>PhoneDTO</code> was not mappable ? If so, you need to create a converter and tell model mapper about it, like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class PhoneConverter extends AbstractConverter&lt;PhoneEntity, PhoneDto&gt;\n{\n   private final StrictModelMapper strictModelMapper;\n\n   @Override\n   public PhoneDto convert(@NonNull final PhoneEntity source)\n   {\n      PhoneDto phoneDto = new PhoneDto();\n      strictModelMapper.map(source, phoneDto);\n      return phoneDto;\n   }\n}\n</code></pre>\n<p>and add it to the <code>modelMapper</code>.</p>\n"}],"owner":{"account_id":18208271,"reputation":109,"user_id":13251293,"display_name":"Shirabu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7539,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":1,"score":8,"last_activity_date":1668692876,"creation_date":1599115363,"question_id":63718182,"body_markdown":"How should ModelMapper configuration looks like?\r\n\r\ncompile group: &#39;org.modelmapper&#39;, name: &#39;modelmapper&#39;, version: &#39;2.3.8&#39;\r\n\r\nCurrently I have:\r\n\r\n     modelMapper = new ModelMapper();\r\n                modelMapper.getConfiguration()\r\n                        .setMatchingStrategy(MatchingStrategies.STANDARD)\r\n                        .setFieldMatchingEnabled(true)\r\n                        .setFieldAccessLevel(Configuration.AccessLevel.PRIVATE);\r\n\r\n    \r\n\r\n\r\nMy Entity has\r\n\r\n    @OneToMany(mappedBy = &quot;employee&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\r\n    private List&lt;Phones&gt; phones = new ArrayList&lt;&gt;();\r\n\r\nMy second entity:\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;employee_id&quot;)\r\n    private Employee employee;\r\n\r\n\r\nMy DTO which I want to have:\r\n\r\n    @Data\r\n    @Builder\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor(force = true)\r\n    public class EmployeeDTO {\r\n    \r\n    @Singular\r\n    private final List&lt;PhoneDTO&gt; phones;\r\n    \r\n    }\r\n\r\nI am mapping this in this way:\r\n\r\n            EmployeeDTO.EmployeeDTOBuilder employeeDTOBuilder \r\n    = ObjectMapperUtils.map(employee, EmployeeDTO.employeeDTOBuilder.class);\r\n\r\nI&#39;m getting: \r\n\r\n1) Converter org.modelmapper.internal.converter.MergingCollectionConverter@969b4391 failed to convert org.hibernate.collection.internal.PersistentBag to java.util.ArrayList.\r\n","title":"ModelMapper - failed to convert org.hibernate.collection.internal.PersistentBag to java.util.ArrayList","body":"<p>How should ModelMapper configuration looks like?</p>\n<p>compile group: 'org.modelmapper', name: 'modelmapper', version: '2.3.8'</p>\n<p>Currently I have:</p>\n<pre><code> modelMapper = new ModelMapper();\n            modelMapper.getConfiguration()\n                    .setMatchingStrategy(MatchingStrategies.STANDARD)\n                    .setFieldMatchingEnabled(true)\n                    .setFieldAccessLevel(Configuration.AccessLevel.PRIVATE);\n</code></pre>\n<p>My Entity has</p>\n<pre><code>@OneToMany(mappedBy = &quot;employee&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\nprivate List&lt;Phones&gt; phones = new ArrayList&lt;&gt;();\n</code></pre>\n<p>My second entity:</p>\n<pre><code>@ManyToOne\n@JoinColumn(name = &quot;employee_id&quot;)\nprivate Employee employee;\n</code></pre>\n<p>My DTO which I want to have:</p>\n<pre><code>@Data\n@Builder\n@AllArgsConstructor\n@NoArgsConstructor(force = true)\npublic class EmployeeDTO {\n\n@Singular\nprivate final List&lt;PhoneDTO&gt; phones;\n\n}\n</code></pre>\n<p>I am mapping this in this way:</p>\n<pre><code>        EmployeeDTO.EmployeeDTOBuilder employeeDTOBuilder \n= ObjectMapperUtils.map(employee, EmployeeDTO.employeeDTOBuilder.class);\n</code></pre>\n<p>I'm getting:</p>\n<ol>\n<li>Converter org.modelmapper.internal.converter.MergingCollectionConverter@969b4391 failed to convert org.hibernate.collection.internal.PersistentBag to java.util.ArrayList.</li>\n</ol>\n"},{"tags":["java","hashmap"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1668692741,"post_id":74476539,"comment_id":131471511,"body_markdown":"can you be more specific about what your question is?","body":"can you be more specific about what your question is?"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1668692846,"post_id":74476539,"comment_id":131471545,"body_markdown":"also, check your code -&gt; user = user this renders it uncompilable","body":"also, check your code -&gt; user = user this renders it uncompilable"},{"owner":{"account_id":26963071,"reputation":19,"user_id":20530426,"display_name":"sillyconAdmin"},"score":0,"creation_date":1668692958,"post_id":74476539,"comment_id":131471598,"body_markdown":"my question is how do I access to the username and password values stored in the hashMap from my GUI class","body":"my question is how do I access to the username and password values stored in the hashMap from my GUI class"},{"owner":{"account_id":14970623,"reputation":270,"user_id":10807611,"display_name":"Zerox"},"score":0,"creation_date":1668693134,"post_id":74476539,"comment_id":131471682,"body_markdown":"Besides that your GUI-class is missing `()`, wouldn&#39;t passing the Client-Object to the constructor be your answer? Or vice-versa","body":"Besides that your GUI-class is missing <code>()</code>, wouldn&#39;t passing the Client-Object to the constructor be your answer? Or vice-versa"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1668693188,"post_id":74476539,"comment_id":131471709,"body_markdown":"by working with an instance of the Client class. It might be better if you stopped with UI coding for now, and started learning the basics first.","body":"by working with an instance of the Client class. It might be better if you stopped with UI coding for now, and started learning the basics first."},{"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"score":0,"creation_date":1668693417,"post_id":74476539,"comment_id":131471801,"body_markdown":"Your HashMap is **public** and **static**, just access it directly using the class name followed by the variable name: `if (Client.clientMap.containsKey(userId)) { ... }`","body":"Your HashMap is <b>public</b> and <b>static</b>, just access it directly using the class name followed by the variable name: <code>if (Client.clientMap.containsKey(userId)) { ... }</code>"},{"owner":{"account_id":11060443,"reputation":71,"user_id":8121935,"display_name":"Eric Ballard"},"score":0,"creation_date":1668699933,"post_id":74476539,"comment_id":131474639,"body_markdown":"Quick 7m video - does a great job at explaining constructor keywords https://www.youtube.com/watch?v=pgBk8HC7jbU&amp;ab_channel=CodingwithJohn","body":"Quick 7m video - does a great job at explaining constructor keywords <a href=\"https://www.youtube.com/watch?v=pgBk8HC7jbU&amp;ab_channel=CodingwithJohn\" rel=\"nofollow noreferrer\">youtube.com/watch?v=pgBk8HC7jbU&amp;ab_channel=CodingwithJohn</a>"}],"owner":{"account_id":26963071,"reputation":19,"user_id":20530426,"display_name":"sillyconAdmin"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1668692871,"creation_date":1668692693,"question_id":74476539,"body_markdown":"I&#39;m trying to implement a simple login form in my application. I have created a class `client.java` in which I instantiated a hashMap:\r\n\r\n```\r\npackage com.xbank.event;\r\nimport com.xbank.service.*;\r\nimport java.text.*;\r\nimport java.util.*;\r\n\r\npublic  class Client {\r\n\t\r\n\tpublic static Map&lt;String, Client&gt; clientMap;\r\n\tpublic String name;\r\n\tpublic String username;\r\n\tpublic String password;\r\n\tpublic Double balance;\r\n\tpublic String address;\r\n\tpublic String phone;\r\n\t\r\n\t// Default Constructor\r\n\tpublic Client() {\r\n\t\tname = &quot;&quot;;\r\n\t\taddress = &quot;&quot;;\r\n\t\tphone = &quot;&quot;;\r\n\t\tusername = &quot;&quot;;\r\n\t\tpassword = &quot;&quot;;\r\n\t\tbalance = 0.0;\r\n\t\tclientMap = new HashMap&lt;String, Client&gt;();\r\n\t}\r\n\r\n\t// Parameterized Constructor\r\n\tpublic Client(String name, String username,String password, String phone, String address, Date date) {\r\n\t\t\r\n\t\tthis.name = name;\r\n\t\tthis.username = username;\r\n\t\tthis.password = password;\r\n\t\tthis.address = address;\r\n\t\tthis.phone = phone;\r\n\t}\r\n\t\r\n\tpublic void verify_login(String username, String password)\r\n\t{\r\n\t\t\r\n\t\tClient client = new Client();\r\n\t\t\r\n\t\tclient = new Client(username, password, name, address, phone, new Date());\r\n\t\tclientMap.put(username, client);\r\n\t\t\r\n\t\tif (clientMap.containsKey(username)) {\r\n\t\t\tSystem.out.println(username);\r\n\t\t\tclient = client.clientMap.get(username);\r\n\t\t\tif(client.password.equals(password)) {\r\n\t\t\t\tSystem.out.println(password);\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tSystem.out.println(&quot;Wrong password&quot;);\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t\tSystem.out.println(&quot;Wrong username&quot;);\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\r\n\t\r\n\tpublic static  Map&lt;String, Client&gt; getLoginInfo() {\r\n\t\treturn clientMap;\r\n\t}\r\n\t\r\n\t\r\n\tvoid showClientInfo() {\r\n\t\tSystem.out.println(&quot;Name: &quot;+name);\r\n\t\tSystem.out.println(&quot;Phone Name: &quot;+phone);\r\n\t\tSystem.out.println(&quot;Address Name: &quot;+address);\r\n\t}\r\n\t\r\n\t\r\n\tpublic String getName() {\r\n\t\treturn name;\r\n\t}\r\n\t\r\n\tpublic String getPhone() {\r\n\t\treturn phone;\r\n\t}\r\n\t\r\n\t\r\n\tpublic String getAddress() {\r\n\t\treturn address;\r\n\t}\r\n\t\r\n\tpublic String getUsername() {\r\n\t\treturn username;\r\n\t}\r\n\t\r\n\tpublic String getPassword() {\r\n\t\treturn password;\r\n\t}\r\n\t\r\n\t\r\n\t// end of class\r\n}\r\n```\r\n\r\nI want to access the hashMap from a GUI class that I have created, and set the conditions to login, but I can&#39;t find a way to do this\r\n\r\nGUI class:\r\n\r\n```\r\npublic class GUI {\r\n\t\r\n\t// remake the screen\r\n\tpublic void remakeScreen(JFrame frame, JPanel f) {\r\n\t\tf.setLayout(null); \r\n\t\tframe.setContentPane(f);\r\n\t\tframe.setVisible(true);\r\n\t}\t\r\n\t\r\n\t//------------------------------------------------------------\r\n\t//               Login Related Screen Functions               |\r\n\t//------------------------------------------------------------\r\n\t\r\n\t\r\n\t// sign in form which is displayed at the start of program\r\n\tpublic void openSignInForm(JFrame frame, Client client) {\r\n\t\tJPanel f = new JPanel();\t\t\r\n\t\tf.setBackground(Color.black);\r\n\t\t\r\n\t\t// main screen picture\r\n\t\tJLabel imgLabel = new JLabel(new ImageIcon( System.getProperty(&quot;user.dir&quot;) + &quot;/src/main/java/com/xbank/icon/image-1.png&quot;));\r\n\t\timgLabel.setBounds(300,50,450, 400 );\r\n\t\tf.add(imgLabel);\r\n\t\t\r\n\t\t//---------------------------------Creating Labels------------------------------------------\t\t\r\n\t\tJLabel l_hSignIn = new JLabel(&quot;Sign In&quot;);\r\n\t\tl_hSignIn.setFont( l_hSignIn.getFont().deriveFont(30f) );\r\n\t\tl_hSignIn.setBounds(120,24,100, 40);\r\n\t\tl_hSignIn.setForeground(Color.white);\r\n\t\tf.add(l_hSignIn);\r\n\t\t\r\n\t\tJLabel l_UserName = new JLabel(&quot;User Name&quot;);\r\n\t\tl_UserName.setBounds(140,120,100, 40);\r\n\t\tl_UserName.setForeground(Color.white);\r\n\t\tf.add(l_UserName);\r\n\t\t\r\n\t\tJLabel l_Password = new JLabel(&quot;Password&quot;);\r\n\t\tl_Password.setBounds(140,200,100, 40);\r\n\t\tl_Password.setForeground(Color.white);\r\n\t\tf.add(l_Password);\r\n\t\t\r\n\t\tJLabel l_Signup = new JLabel(&quot;Dont have an account?&quot;);\r\n\t\tl_Signup.setBounds(20,380,150, 40);\r\n\t\tl_Signup.setForeground(Color.white);\r\n\t\tf.add(l_Signup);\r\n\t\r\n\t\t//-----------------------------------Creating TextFields--------------------------------------------------\t\t\r\n\t\tJTextField tf_UserName = new JTextField();\r\n\t\ttf_UserName.setBounds(80,170,180, 25);\r\n\t\tf.add(tf_UserName);\r\n\t\t\r\n\t\tJPasswordField tf_Password = new JPasswordField();\r\n\t\ttf_Password.setBounds(80,250,180, 25);\r\n\t\tf.add(tf_Password);\r\n\t\t\t\r\n\t\t//-------------------------------------Creating Buttons--------------------------------------------------\r\n\t\tJButton btn_SignIn = new JButton(&quot;Sign In&quot;);\r\n\t\tbtn_SignIn.setFont( btn_SignIn.getFont().deriveFont(18f) );\r\n\t\tbtn_SignIn.setBackground( new Color(0, 204, 153) );\r\n\t\tbtn_SignIn.setForeground(Color.black);\r\n\t\tbtn_SignIn.setBounds(120,300,110, 40);\r\n\t\tf.add(btn_SignIn);\r\n\t\t\r\n\t\tJButton btn_SignUp = new JButton(&quot;Sign Up&quot;);\r\n\t\tbtn_SignUp.setFont( btn_SignUp.getFont().deriveFont(18f) );\r\n\t\tbtn_SignUp.setBackground( new Color(0, 204, 153) );\r\n\t\tbtn_SignUp.setForeground(Color.black);\r\n\t\tbtn_SignUp.setBounds(180,380,110, 40);\r\n\t\tf.add(btn_SignUp);\r\n\t\t\r\n\t\t//---------------------------------------SignUp functionality----------------------------------------------\r\n\t\t\r\n\t\t\t\tbtn_SignUp.addActionListener(new ActionListener() {\r\n\t\t\t\t\tpublic void actionPerformed(ActionEvent e) {\t\t\t\t\t\t\r\n\t\t\t\t\topen_Signup_form_1(frame, client);\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\r\n\t\t//----------------------------------Sign in Functionality-----------------------------------------------\t\t\r\n\t\tbtn_SignIn.addActionListener( new ActionListener() {\r\n\t\t\tpublic void actionPerformed(ActionEvent e) {\t\r\n\t\t\t\tMap&lt;String, Client&gt; user = (Map&lt;String, Client&gt;) new Client();\r\n//\t\t\t\tHashMap&lt;String, Client&gt; logininfo = new HashMap&lt;String, Client&gt;();\t\t\t\t\r\n\t\t\t\tuser = user\r\n\t\t\t\t\r\n\t\t\t\tif(e.getSource() == btn_SignIn) {\r\n\t\t\t\t\tString userId = tf_UserName.getText();\r\n\t\t\t\t\tString password = String.valueOf(tf_Password.getPassword());\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(client.containsKey(userId)) {\r\n\t\t\t\t\t\t if (client.get(userId).equals(password)) {\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tClient Client = new Client( client.getName(), null, null, null, null, null );\r\n\t\t\t\t\t\t\t\t\t\tframe.remove(f);\r\n\t\t\t\t\t\t\t\t\t\tframe.repaint();\r\n\t\t\t\t\t\t\t\t\t\tframe.validate();\r\n\t\t\t\t\t\t\t\t\t\topenClientMenu(frame,client);\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t }else {\r\n\t\t\t\t\t\t\t System.out.println(&quot;Wrong username or password.&quot;);\r\n\t\t\t\t\t\t }\t\t\t\t\t\t\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tSystem.out.println(&quot;Wrong username or password.&quot;);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t}\t\t\r\n\t\t});\r\n\t\tremakeScreen(frame, f);\r\n\t}\r\n```\r\n","title":"Use hashMap from another class","body":"<p>I'm trying to implement a simple login form in my application. I have created a class <code>client.java</code> in which I instantiated a hashMap:</p>\n<pre><code>package com.xbank.event;\nimport com.xbank.service.*;\nimport java.text.*;\nimport java.util.*;\n\npublic  class Client {\n    \n    public static Map&lt;String, Client&gt; clientMap;\n    public String name;\n    public String username;\n    public String password;\n    public Double balance;\n    public String address;\n    public String phone;\n    \n    // Default Constructor\n    public Client() {\n        name = &quot;&quot;;\n        address = &quot;&quot;;\n        phone = &quot;&quot;;\n        username = &quot;&quot;;\n        password = &quot;&quot;;\n        balance = 0.0;\n        clientMap = new HashMap&lt;String, Client&gt;();\n    }\n\n    // Parameterized Constructor\n    public Client(String name, String username,String password, String phone, String address, Date date) {\n        \n        this.name = name;\n        this.username = username;\n        this.password = password;\n        this.address = address;\n        this.phone = phone;\n    }\n    \n    public void verify_login(String username, String password)\n    {\n        \n        Client client = new Client();\n        \n        client = new Client(username, password, name, address, phone, new Date());\n        clientMap.put(username, client);\n        \n        if (clientMap.containsKey(username)) {\n            System.out.println(username);\n            client = client.clientMap.get(username);\n            if(client.password.equals(password)) {\n                System.out.println(password);\n            }\n            else {\n                System.out.println(&quot;Wrong password&quot;);\n            }\n        }\n        else {\n            System.out.println(&quot;Wrong username&quot;);\n        }\n        \n    }\n    \n    \n    public static  Map&lt;String, Client&gt; getLoginInfo() {\n        return clientMap;\n    }\n    \n    \n    void showClientInfo() {\n        System.out.println(&quot;Name: &quot;+name);\n        System.out.println(&quot;Phone Name: &quot;+phone);\n        System.out.println(&quot;Address Name: &quot;+address);\n    }\n    \n    \n    public String getName() {\n        return name;\n    }\n    \n    public String getPhone() {\n        return phone;\n    }\n    \n    \n    public String getAddress() {\n        return address;\n    }\n    \n    public String getUsername() {\n        return username;\n    }\n    \n    public String getPassword() {\n        return password;\n    }\n    \n    \n    // end of class\n}\n</code></pre>\n<p>I want to access the hashMap from a GUI class that I have created, and set the conditions to login, but I can't find a way to do this</p>\n<p>GUI class:</p>\n<pre><code>public class GUI {\n    \n    // remake the screen\n    public void remakeScreen(JFrame frame, JPanel f) {\n        f.setLayout(null); \n        frame.setContentPane(f);\n        frame.setVisible(true);\n    }   \n    \n    //------------------------------------------------------------\n    //               Login Related Screen Functions               |\n    //------------------------------------------------------------\n    \n    \n    // sign in form which is displayed at the start of program\n    public void openSignInForm(JFrame frame, Client client) {\n        JPanel f = new JPanel();        \n        f.setBackground(Color.black);\n        \n        // main screen picture\n        JLabel imgLabel = new JLabel(new ImageIcon( System.getProperty(&quot;user.dir&quot;) + &quot;/src/main/java/com/xbank/icon/image-1.png&quot;));\n        imgLabel.setBounds(300,50,450, 400 );\n        f.add(imgLabel);\n        \n        //---------------------------------Creating Labels------------------------------------------        \n        JLabel l_hSignIn = new JLabel(&quot;Sign In&quot;);\n        l_hSignIn.setFont( l_hSignIn.getFont().deriveFont(30f) );\n        l_hSignIn.setBounds(120,24,100, 40);\n        l_hSignIn.setForeground(Color.white);\n        f.add(l_hSignIn);\n        \n        JLabel l_UserName = new JLabel(&quot;User Name&quot;);\n        l_UserName.setBounds(140,120,100, 40);\n        l_UserName.setForeground(Color.white);\n        f.add(l_UserName);\n        \n        JLabel l_Password = new JLabel(&quot;Password&quot;);\n        l_Password.setBounds(140,200,100, 40);\n        l_Password.setForeground(Color.white);\n        f.add(l_Password);\n        \n        JLabel l_Signup = new JLabel(&quot;Dont have an account?&quot;);\n        l_Signup.setBounds(20,380,150, 40);\n        l_Signup.setForeground(Color.white);\n        f.add(l_Signup);\n    \n        //-----------------------------------Creating TextFields--------------------------------------------------      \n        JTextField tf_UserName = new JTextField();\n        tf_UserName.setBounds(80,170,180, 25);\n        f.add(tf_UserName);\n        \n        JPasswordField tf_Password = new JPasswordField();\n        tf_Password.setBounds(80,250,180, 25);\n        f.add(tf_Password);\n            \n        //-------------------------------------Creating Buttons--------------------------------------------------\n        JButton btn_SignIn = new JButton(&quot;Sign In&quot;);\n        btn_SignIn.setFont( btn_SignIn.getFont().deriveFont(18f) );\n        btn_SignIn.setBackground( new Color(0, 204, 153) );\n        btn_SignIn.setForeground(Color.black);\n        btn_SignIn.setBounds(120,300,110, 40);\n        f.add(btn_SignIn);\n        \n        JButton btn_SignUp = new JButton(&quot;Sign Up&quot;);\n        btn_SignUp.setFont( btn_SignUp.getFont().deriveFont(18f) );\n        btn_SignUp.setBackground( new Color(0, 204, 153) );\n        btn_SignUp.setForeground(Color.black);\n        btn_SignUp.setBounds(180,380,110, 40);\n        f.add(btn_SignUp);\n        \n        //---------------------------------------SignUp functionality----------------------------------------------\n        \n                btn_SignUp.addActionListener(new ActionListener() {\n                    public void actionPerformed(ActionEvent e) {                        \n                    open_Signup_form_1(frame, client);                      \n                    }\n                });\n        \n        //----------------------------------Sign in Functionality-----------------------------------------------        \n        btn_SignIn.addActionListener( new ActionListener() {\n            public void actionPerformed(ActionEvent e) {    \n                Map&lt;String, Client&gt; user = (Map&lt;String, Client&gt;) new Client();\n//              HashMap&lt;String, Client&gt; logininfo = new HashMap&lt;String, Client&gt;();              \n                user = user\n                \n                if(e.getSource() == btn_SignIn) {\n                    String userId = tf_UserName.getText();\n                    String password = String.valueOf(tf_Password.getPassword());\n                    \n                    if(client.containsKey(userId)) {\n                         if (client.get(userId).equals(password)) {                             \n                                        Client Client = new Client( client.getName(), null, null, null, null, null );\n                                        frame.remove(f);\n                                        frame.repaint();\n                                        frame.validate();\n                                        openClientMenu(frame,client);                           \n                         }else {\n                             System.out.println(&quot;Wrong username or password.&quot;);\n                         }                      \n                    } else {\n                        System.out.println(&quot;Wrong username or password.&quot;);\n                    }\n                }\n                }       \n        });\n        remakeScreen(frame, f);\n    }\n</code></pre>\n"},{"tags":["java","spring-boot","spring-mvc","http-request-parameters"],"answers":[{"tags":[],"owner":{"display_name":"user15660680"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668692724,"creation_date":1668692724,"answer_id":74476543,"question_id":74476391,"body_markdown":"By using Js \r\n````\r\nvar checkbox = document.querySelector(&quot;input[name=postcheckbox]&quot;);\r\n\r\ncheckbox.addEventListener(&#39;change&#39;, function() {\r\n  if (this.checked) {\r\n    console.log(&quot;Checkbox is checked..&quot;);\r\n    //pass to model\r\n\r\n  } else {\r\n    console.log(&quot;Checkbox is not checked..&quot;);\r\n    //pass to model\r\n\r\n  }\r\n});\r\n\r\n````","title":"How do i get changed value of a single checkbox in requestparam and pass it to ModelAndView in spring boot?","body":"<p>By using Js</p>\n<pre><code>var checkbox = document.querySelector(&quot;input[name=postcheckbox]&quot;);\n\ncheckbox.addEventListener('change', function() {\n  if (this.checked) {\n    console.log(&quot;Checkbox is checked..&quot;);\n    //pass to model\n\n  } else {\n    console.log(&quot;Checkbox is not checked..&quot;);\n    //pass to model\n\n  }\n});\n\n</code></pre>\n"}],"owner":{"account_id":11521080,"reputation":39,"user_id":8442830,"display_name":"Deep Shah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1668692724,"creation_date":1668692099,"question_id":74476391,"body_markdown":"html file:\r\n\r\n         &lt;html&gt;\r\n       &lt;body&gt;\r\n          &lt;label&gt;\r\n        &lt;input type=&quot;checkbox&quot; name=&quot;postcheckbox&quot; /&gt;\r\n            demo checkbox\r\n        &lt;/label&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\nI want to get the value of changed state of checkbox in my controller.","title":"How do i get changed value of a single checkbox in requestparam and pass it to ModelAndView in spring boot?","body":"<p>html file:</p>\n<pre><code>     &lt;html&gt;\n   &lt;body&gt;\n      &lt;label&gt;\n    &lt;input type=&quot;checkbox&quot; name=&quot;postcheckbox&quot; /&gt;\n        demo checkbox\n    &lt;/label&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>I want to get the value of changed state of checkbox in my controller.</p>\n"},{"tags":["java","postgresql","spring-data-jpa"],"comments":[{"owner":{"account_id":5900048,"reputation":67,"user_id":4643879,"display_name":"jodoro"},"score":0,"creation_date":1668687573,"post_id":74474905,"comment_id":131469423,"body_markdown":"findAllByParamIn(Iterable&lt;String&gt; params)","body":"findAllByParamIn(Iterable&lt;String&gt; params)"}],"answers":[{"tags":[],"owner":{"account_id":26555431,"reputation":558,"user_id":20184128,"display_name":"berse2212"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668691913,"creation_date":1668686423,"answer_id":74475103,"question_id":74474905,"body_markdown":"You can create interfaces to represent a View like the following:\r\n\r\n    public interface UserView {\r\n    \tString getName();\r\n    }\r\n\r\nand then put it as the return value in your repository:\r\n\r\n    UserView findAll();\r\n\r\nYou can also implement a dynamic projection the following way:\r\n\r\n    T findAll(Class&lt;T&gt; type);\r\n\r\nand call it like\r\n\r\n    userRepository.findAll(UserView.class)\r\n    userRepository.findAll(User.class)\r\n\r\nRead more about projection here: https://www.baeldung.com/spring-data-jpa-projections\r\n\r\nEdit\r\n\r\nYou can be truely dynamic if you use javax.persistence.Tuple as return value in your interface:\r\n\r\n    Tuple findAll();\r\n\r\nHowever you have to extract the data yourself then:\r\n\r\n    tuple.get(&quot;NAME&quot;, String.class)\r\n\r\nHowever that still selects all fields from the database. If you truely want dynamic sql queries you can call EntityManager to create a dynamic SQL:\r\n\r\n    entityManager.createQuery(&quot;select ...&quot;), Tuple.class).getResultList();\r\n\r\nIf you do that make sure to not be vulnerable for SQL injection!","title":"JPA Query. Path array of parameters that need to be selected","body":"<p>You can create interfaces to represent a View like the following:</p>\n<pre><code>public interface UserView {\n    String getName();\n}\n</code></pre>\n<p>and then put it as the return value in your repository:</p>\n<pre><code>UserView findAll();\n</code></pre>\n<p>You can also implement a dynamic projection the following way:</p>\n<pre><code>T findAll(Class&lt;T&gt; type);\n</code></pre>\n<p>and call it like</p>\n<pre><code>userRepository.findAll(UserView.class)\nuserRepository.findAll(User.class)\n</code></pre>\n<p>Read more about projection here: <a href=\"https://www.baeldung.com/spring-data-jpa-projections\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-data-jpa-projections</a></p>\n<p>Edit</p>\n<p>You can be truely dynamic if you use javax.persistence.Tuple as return value in your interface:</p>\n<pre><code>Tuple findAll();\n</code></pre>\n<p>However you have to extract the data yourself then:</p>\n<pre><code>tuple.get(&quot;NAME&quot;, String.class)\n</code></pre>\n<p>However that still selects all fields from the database. If you truely want dynamic sql queries you can call EntityManager to create a dynamic SQL:</p>\n<pre><code>entityManager.createQuery(&quot;select ...&quot;), Tuple.class).getResultList();\n</code></pre>\n<p>If you do that make sure to not be vulnerable for SQL injection!</p>\n"}],"owner":{"account_id":18977021,"reputation":107,"user_id":13849269,"display_name":"Axel HK"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74475103,"answer_count":1,"score":0,"last_activity_date":1668691913,"creation_date":1668685466,"question_id":74474905,"body_markdown":"I need to choose dynamically which parameters should be in query output. Is there any way to do something like that:\r\n```\r\n@Query(value = &quot;select params = :arrayOfParams from myTable&quot;, nativeQuery = true)\r\nUser findparamsAll(@Param(&quot;arrayOfParams&quot;) List&lt;String&gt; params);\r\n```\r\nFor example I have Entity User with name, surname, address, age.\r\nIn one case I want to choose only name, in other sername, age and address. And e.t.c","title":"JPA Query. Path array of parameters that need to be selected","body":"<p>I need to choose dynamically which parameters should be in query output. Is there any way to do something like that:</p>\n<pre><code>@Query(value = &quot;select params = :arrayOfParams from myTable&quot;, nativeQuery = true)\nUser findparamsAll(@Param(&quot;arrayOfParams&quot;) List&lt;String&gt; params);\n</code></pre>\n<p>For example I have Entity User with name, surname, address, age.\nIn one case I want to choose only name, in other sername, age and address. And e.t.c</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","spring-data-jpa"],"comments":[{"owner":{"account_id":13537270,"reputation":379,"user_id":9766057,"display_name":"Ebenezer Nikabou"},"score":0,"creation_date":1668679892,"post_id":74473314,"comment_id":131466635,"body_markdown":"Why are you handling requests with that RequestPayload class. You can create API with just some annotations and functions. Follow the documentation : https://spring.io/guides/tutorials/rest/","body":"Why are you handling requests with that RequestPayload class. You can create API with just some annotations and functions. Follow the documentation : <a href=\"https://spring.io/guides/tutorials/rest/\" rel=\"nofollow noreferrer\">spring.io/guides/tutorials/rest</a>"}],"answers":[{"tags":[],"owner":{"account_id":11732873,"reputation":734,"user_id":8587732,"display_name":"Vitaly Chura"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668691664,"creation_date":1668680151,"answer_id":74473664,"question_id":74473314,"body_markdown":"You need a POJO class that will match the structure of your JSON payload, actually a few nested classes. Spring will automatically parse JSON into this POJO.\r\n\r\n```\r\npublic class Request {\r\n    private RequestPayload reqPayload;\r\n    // Getter Setter\r\n}\r\n\r\npublic class RequestPayload {\r\n    private Checklist checklist;\r\n    // Getter Setter\r\n}\r\n\r\npublic class Checklist {\r\n    @JsonProperty(&quot;pol_pkg_prod_code&quot;)\r\n    private String polPkgProdCode;\r\n}\r\n```\r\nThen add it to Controller as an argument like this:\r\n```\r\n@RequestBody Request request\r\n```\r\n\r\nThis tutorial explains it well\r\nhttps://www.baeldung.com/spring-request-response-body","title":"I am trying to create an API using SpringBoot but I don&#39;t know how to handle json request/response","body":"<p>You need a POJO class that will match the structure of your JSON payload, actually a few nested classes. Spring will automatically parse JSON into this POJO.</p>\n<pre><code>public class Request {\n    private RequestPayload reqPayload;\n    // Getter Setter\n}\n\npublic class RequestPayload {\n    private Checklist checklist;\n    // Getter Setter\n}\n\npublic class Checklist {\n    @JsonProperty(&quot;pol_pkg_prod_code&quot;)\n    private String polPkgProdCode;\n}\n</code></pre>\n<p>Then add it to Controller as an argument like this:</p>\n<pre><code>@RequestBody Request request\n</code></pre>\n<p>This tutorial explains it well\n<a href=\"https://www.baeldung.com/spring-request-response-body\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-request-response-body</a></p>\n"}],"owner":{"account_id":22954739,"reputation":57,"user_id":17085470,"display_name":"Sunny"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74473664,"answer_count":1,"score":0,"last_activity_date":1668691664,"creation_date":1668678592,"question_id":74473314,"body_markdown":"I am new to Java and Spring boot. I am creating a new API.\r\nUsing postman I am sending a request body which contains request header and request payload.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/77U12.png\r\n\r\n\r\n\r\n\r\n\r\n\r\nThen I have a controller which handles the request with the help of RequestPayload class. (And a service and dao file but I am sure those are ok.)\r\n\r\nKindly let me know what Am I missing here or what do I not know.\r\n\r\n    public class RequestPayload {\r\n    \r\n    \tString pol_pkg_prod_code;\r\n    \tJSONObject checklist;\r\n    \t\r\n    \tpublic JSONObject getCheckList() {\r\n    \t\treturn checklist;\r\n    \t}\r\n    \tpublic void setCheckList(JSONObject checklist) {\r\n    \t\tthis.checklist = checklist;\r\n    \t}\r\n    \tpublic String pol_pkg_prod_code() {\r\n    \t\treturn pol_pkg_prod_code;\r\n    \t}\r\n    \tpublic void setpol_pkg_prod_code(String pol_pkg_prod_code) {\r\n    \t\tthis.pol_pkg_prod_code = pol_pkg_prod_code;\r\n    \t}","title":"I am trying to create an API using SpringBoot but I don&#39;t know how to handle json request/response","body":"<p>I am new to Java and Spring boot. I am creating a new API.\nUsing postman I am sending a request body which contains request header and request payload.</p>\n<p><a href=\"https://i.stack.imgur.com/77U12.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/77U12.png\" alt=\"enter image description here\" /></a></p>\n<p>Then I have a controller which handles the request with the help of RequestPayload class. (And a service and dao file but I am sure those are ok.)</p>\n<p>Kindly let me know what Am I missing here or what do I not know.</p>\n<pre><code>public class RequestPayload {\n\n    String pol_pkg_prod_code;\n    JSONObject checklist;\n    \n    public JSONObject getCheckList() {\n        return checklist;\n    }\n    public void setCheckList(JSONObject checklist) {\n        this.checklist = checklist;\n    }\n    public String pol_pkg_prod_code() {\n        return pol_pkg_prod_code;\n    }\n    public void setpol_pkg_prod_code(String pol_pkg_prod_code) {\n        this.pol_pkg_prod_code = pol_pkg_prod_code;\n    }\n</code></pre>\n"},{"tags":["java","regex","string","string-comparison"],"comments":[{"owner":{"account_id":212518,"reputation":43399,"user_id":465378,"accept_rate":85,"display_name":"Alexis King"},"score":4,"creation_date":1422515115,"post_id":28208793,"comment_id":44782269,"body_markdown":"It&#39;s faster to not care about premature optimization and just write code.","body":"It&#39;s faster to not care about premature optimization and just write code."},{"owner":{"account_id":212518,"reputation":43399,"user_id":465378,"accept_rate":85,"display_name":"Alexis King"},"score":0,"creation_date":1422515169,"post_id":28208793,"comment_id":44782290,"body_markdown":"(But almost certainly `.contains` if you&#39;re just looking for text.)","body":"(But almost certainly <code>.contains</code> if you&#39;re just looking for text.)"},{"owner":{"account_id":277724,"reputation":3090,"user_id":571875,"accept_rate":93,"display_name":"mal"},"score":0,"creation_date":1422515220,"post_id":28208793,"comment_id":44782313,"body_markdown":"I&#39;m writing, and I definitely take your point. I&#39;m just curious is all :-D","body":"I&#39;m writing, and I definitely take your point. I&#39;m just curious is all :-D"},{"owner":{"account_id":10030,"reputation":333803,"user_id":18771,"accept_rate":87,"display_name":"Tomalak"},"score":5,"creation_date":1422515560,"post_id":28208793,"comment_id":44782489,"body_markdown":"@bot_bot Then why don&#39;t you *measure* it? It&#39;s not that difficult to do, right? Besides, unless you think you are the first person in the world to have that question, searching for it on the Internet will very likely provide an answer as well. And besides *that*, you are supposed to use a JSON parser to read JSON, and *nothing else*.","body":"@bot_bot Then why don&#39;t you <i>measure</i> it? It&#39;s not that difficult to do, right? Besides, unless you think you are the first person in the world to have that question, searching for it on the Internet will very likely provide an answer as well. And besides <i>that</i>, you are supposed to use a JSON parser to read JSON, and <i>nothing else</i>."},{"owner":{"account_id":9,"reputation":220293,"user_id":13,"accept_rate":100,"display_name":"C. K. Young"},"score":1,"creation_date":1422515814,"post_id":28208793,"comment_id":44782606,"body_markdown":"You actually should be using a JSON parser for JSON data, not regexes.","body":"You actually should be using a JSON parser for JSON data, not regexes."},{"owner":{"account_id":277724,"reputation":3090,"user_id":571875,"accept_rate":93,"display_name":"mal"},"score":0,"creation_date":1422516386,"post_id":28208793,"comment_id":44782881,"body_markdown":"@Tomalak and Chris Jester-Young , I&#39;m reading a byte stream from a socket, the client is transmitting ascii chars, I&#39;m looking for that string so I know when the string is ready to pass into a JSONObject. Should I use something else to mark end of message (\\n for example) and use something like google-json instead?","body":"@Tomalak and Chris Jester-Young , I&#39;m reading a byte stream from a socket, the client is transmitting ascii chars, I&#39;m looking for that string so I know when the string is ready to pass into a JSONObject. Should I use something else to mark end of message (\\n for example) and use something like google-json instead?"},{"owner":{"account_id":1494484,"reputation":56249,"user_id":1400768,"display_name":"nhahtdh"},"score":0,"creation_date":1422516652,"post_id":28208793,"comment_id":44782999,"body_markdown":"If this question were to ask about the performance of searching for a fixed string from a haystack, then it might be interesting, but your question body just doesn&#39;t make sense here.","body":"If this question were to ask about the performance of searching for a fixed string from a haystack, then it might be interesting, but your question body just doesn&#39;t make sense here."},{"owner":{"account_id":10030,"reputation":333803,"user_id":18771,"accept_rate":87,"display_name":"Tomalak"},"score":0,"creation_date":1422516726,"post_id":28208793,"comment_id":44783032,"body_markdown":"Regular expressions don&#39;t operate on byte streams from sockets, they operate on strings. The same goes for `.contains()`. So you&#39;d have to receive the string first and that means the whole &quot;socket&quot; thing is irrelevant. When you have received the string, is it JSON or not? If yes, use a JSON parser.","body":"Regular expressions don&#39;t operate on byte streams from sockets, they operate on strings. The same goes for <code>.contains()</code>. So you&#39;d have to receive the string first and that means the whole &quot;socket&quot; thing is irrelevant. When you have received the string, is it JSON or not? If yes, use a JSON parser."},{"owner":{"account_id":277724,"reputation":3090,"user_id":571875,"accept_rate":93,"display_name":"mal"},"score":0,"creation_date":1422517028,"post_id":28208793,"comment_id":44783171,"body_markdown":"@Tomalak it is JSON, but I need to know when the client has finished sending. Am I worrying about noting here? should I just wait until `SocketChannel.read()` returns 0 before I parse the JSON? Once I have analysed the JSON message I need to respond.","body":"@Tomalak it is JSON, but I need to know when the client has finished sending. Am I worrying about noting here? should I just wait until <code>SocketChannel.read()</code> returns 0 before I parse the JSON? Once I have analysed the JSON message I need to respond."},{"owner":{"account_id":10030,"reputation":333803,"user_id":18771,"accept_rate":87,"display_name":"Tomalak"},"score":0,"creation_date":1422517928,"post_id":28208793,"comment_id":44783599,"body_markdown":"Hm. There are libraries that do these low-level things for you. Why are you reading the socket yourself? That&#39;s a solved problem, you don&#39;t need to write your own implementation. (It starts to look like &quot;what is faster&quot; isn&#39;t your primary problem at all...)","body":"Hm. There are libraries that do these low-level things for you. Why are you reading the socket yourself? That&#39;s a solved problem, you don&#39;t need to write your own implementation. (It starts to look like &quot;what is faster&quot; isn&#39;t your primary problem at all...)"},{"owner":{"account_id":277724,"reputation":3090,"user_id":571875,"accept_rate":93,"display_name":"mal"},"score":1,"creation_date":1422519110,"post_id":28208793,"comment_id":44784178,"body_markdown":"I&#39;m working with a small embedded device with limited capabilities. it can only send bytes, it doesn&#39;t implement HTTP, we have to write our own protocol. I am looking at using something like Spring reactor to try implement this eventually, but with my lack of experience with NIO (and a lot of other stuff) I&#39;m prototyping first so I get an understanding of SocketChannels. Reactor (and quite a lot of Spring) is way over my head right now.  I&#39;ve successfully implemented a small single threaded server using  NIO ServerSocketChannels and SocketChannels. So that&#39;s where I am currently :-)","body":"I&#39;m working with a small embedded device with limited capabilities. it can only send bytes, it doesn&#39;t implement HTTP, we have to write our own protocol. I am looking at using something like Spring reactor to try implement this eventually, but with my lack of experience with NIO (and a lot of other stuff) I&#39;m prototyping first so I get an understanding of SocketChannels. Reactor (and quite a lot of Spring) is way over my head right now.  I&#39;ve successfully implemented a small single threaded server using  NIO ServerSocketChannels and SocketChannels. So that&#39;s where I am currently :-)"},{"owner":{"account_id":10030,"reputation":333803,"user_id":18771,"accept_rate":87,"display_name":"Tomalak"},"score":0,"creation_date":1422560871,"post_id":28208793,"comment_id":44809501,"body_markdown":"I see. I&#39;d first establish a protocol that gives the incoming stream a structure. JSON is defined a string of *Unicode characters* (not bytes!), so the first thing to do is to decide whether you want to support Unicode at all. If you don&#39;t, you could use 0x0 as the message terminator. Otherwise you can&#39;t, because Unicode byte encodings contain 0x0 themselves and you&#39;d have to think of a different terminator.","body":"I see. I&#39;d first establish a protocol that gives the incoming stream a structure. JSON is defined a string of <i>Unicode characters</i> (not bytes!), so the first thing to do is to decide whether you want to support Unicode at all. If you don&#39;t, you could use 0x0 as the message terminator. Otherwise you can&#39;t, because Unicode byte encodings contain 0x0 themselves and you&#39;d have to think of a different terminator."},{"owner":{"account_id":277724,"reputation":3090,"user_id":571875,"accept_rate":93,"display_name":"mal"},"score":0,"creation_date":1422606128,"post_id":28208793,"comment_id":44825792,"body_markdown":"OK, this is very helpful, thanks! I&#39;ve definitely been over thinking things.","body":"OK, this is very helpful, thanks! I&#39;ve definitely been over thinking things."}],"answers":[{"tags":[],"owner":{"account_id":1275953,"reputation":26182,"user_id":1231230,"accept_rate":76,"display_name":"Ankur Singhal"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1422515643,"creation_date":1422515643,"answer_id":28208935,"question_id":28208793,"body_markdown":"They&#39;re both fast enough to be over before you know it. Better to go for the one that you can read more easily. \r\n\r\nBut from forums, blogs `contains` is faster, but still negligible performance difference","title":"In Java, which is faster - String.contains(&quot;some text&quot;) or Regex that looks for same text?","body":"<p>They're both fast enough to be over before you know it. Better to go for the one that you can read more easily. </p>\n\n<p>But from forums, blogs <code>contains</code> is faster, but still negligible performance difference</p>\n"},{"tags":[],"owner":{"account_id":373694,"reputation":1730,"user_id":723497,"accept_rate":83,"display_name":"Wilts C"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1668690807,"creation_date":1422516017,"answer_id":28209014,"question_id":28208793,"body_markdown":"I had tried both approaches and repeated them over 100k times and `String.contains()` is a lot faster than Regex.\r\n\r\nHowever `String.Contains()` is only useful for checking the existence of an exact sub&#173;string, whereas Regex allows you to do more wonders. So it depends.","title":"In Java, which is faster - String.contains(&quot;some text&quot;) or Regex that looks for same text?","body":"<p>I had tried both approaches and repeated them over 100k times and <code>String.contains()</code> is a lot faster than Regex.</p>\n<p>However <code>String.Contains()</code> is only useful for checking the existence of an exact substring, whereas Regex allows you to do more wonders. So it depends.</p>\n"},{"tags":[],"owner":{"account_id":1293741,"reputation":4913,"user_id":1245337,"accept_rate":100,"display_name":"atish shimpi"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1422519818,"creation_date":1422516154,"answer_id":28209057,"question_id":28208793,"body_markdown":"From https://stackoverflow.com/questions/15130309/how-to-use-regex-in-string-contains-method-in-java\n\n&gt; ## String.contains\n&gt;\n&gt; `String.contains` works with String, period. It doesn&#39;t work with regex. It will check whether the exact String specified appear in the current String or not.\n&gt;\n&gt; Note that `String.contains` does not check for word boundary; it simply checks for substring.\n\n**Its performance is good it will take fraction of less seconds then Regex.**\n\n&gt; ## Regex solution\n&gt;\n&gt; Regex is more powerful than `String.contains`, since you can enforce word boundary on the keywords (among other things). This means you can search for the keywords as *words*, rather than just *substrings*.\n \n**So it is taking more time of execution to parse whole string.** \n\n  [1]: https://stackoverflow.com/questions/15130309/how-to-use-regex-in-string-contains-method-in-java","title":"In Java, which is faster - String.contains(&quot;some text&quot;) or Regex that looks for same text?","body":"<p>From <a href=\"https://stackoverflow.com/questions/15130309/how-to-use-regex-in-string-contains-method-in-java\">How to use regex in String.contains() method in Java</a></p>\n<blockquote>\n<h2>String.contains</h2>\n<p><code>String.contains</code> works with String, period. It doesn't work with regex. It will check whether the exact String specified appear in the current String or not.</p>\n<p>Note that <code>String.contains</code> does not check for word boundary; it simply checks for substring.</p>\n</blockquote>\n<p><strong>Its performance is good it will take fraction of less seconds then Regex.</strong></p>\n<blockquote>\n<h2>Regex solution</h2>\n<p>Regex is more powerful than <code>String.contains</code>, since you can enforce word boundary on the keywords (among other things). This means you can search for the keywords as <em>words</em>, rather than just <em>substrings</em>.</p>\n</blockquote>\n<p><strong>So it is taking more time of execution to parse whole string.</strong></p>\n"},{"tags":[],"owner":{"account_id":3887004,"reputation":46525,"user_id":3218114,"accept_rate":84,"display_name":"Braj"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1422517661,"creation_date":1422516710,"answer_id":28209202,"question_id":28208793,"body_markdown":"You can test it yourself by creating benchmark using [Caliper - Google&#39;s open-source framework](https://code.google.com/p/caliper/)\r\n\r\nRead more about [What is a microbenchmark?](https://code.google.com/p/caliper/wiki/JavaMicrobenchmarks)\r\n\r\n[Detailed Example](http://codingjunkie.net/micro-benchmarking-with-caliper/)","title":"In Java, which is faster - String.contains(&quot;some text&quot;) or Regex that looks for same text?","body":"<p>You can test it yourself by creating benchmark using <a href=\"https://code.google.com/p/caliper/\" rel=\"nofollow\">Caliper - Google's open-source framework</a></p>\n\n<p>Read more about <a href=\"https://code.google.com/p/caliper/wiki/JavaMicrobenchmarks\" rel=\"nofollow\">What is a microbenchmark?</a></p>\n\n<p><a href=\"http://codingjunkie.net/micro-benchmarking-with-caliper/\" rel=\"nofollow\">Detailed Example</a></p>\n"},{"tags":[],"owner":{"account_id":26320651,"reputation":49,"user_id":19982705,"display_name":"Shaikot37"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1668691373,"creation_date":1668691373,"answer_id":74476221,"question_id":28208793,"body_markdown":"To determine which is the fastest you will have to benchmark your own system. However, regular expressions are complex and chances are that `String.Contains()` will be the fastest and in your case also the simplest solution.\r\n\r\nThe implementation of `String.Contains()` will eventually call the native method IndexOfString() and the implementation of that is only known by Microsoft. However, a good algorithm for implementing this method is using what is known as the KnuthMorrisPratt algorithm. The complexity of this algorithm is O(m + n) where m is the length of the string you are searching for and n is the length of the string you are searching making it a very efficient algorithm.\r\n\r\nActually, the efficiency of search using regular expression can be as low O(n) depending on the implementation so it may still be competetive in some situations. Only a benchmark will be able to determine this.\r\n","title":"In Java, which is faster - String.contains(&quot;some text&quot;) or Regex that looks for same text?","body":"<p>To determine which is the fastest you will have to benchmark your own system. However, regular expressions are complex and chances are that <code>String.Contains()</code> will be the fastest and in your case also the simplest solution.</p>\n<p>The implementation of <code>String.Contains()</code> will eventually call the native method IndexOfString() and the implementation of that is only known by Microsoft. However, a good algorithm for implementing this method is using what is known as the KnuthMorrisPratt algorithm. The complexity of this algorithm is O(m + n) where m is the length of the string you are searching for and n is the length of the string you are searching making it a very efficient algorithm.</p>\n<p>Actually, the efficiency of search using regular expression can be as low O(n) depending on the implementation so it may still be competetive in some situations. Only a benchmark will be able to determine this.</p>\n"}],"owner":{"account_id":277724,"reputation":3090,"user_id":571875,"accept_rate":93,"display_name":"mal"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15548,"favorite_count":0,"down_vote_count":3,"up_vote_count":14,"accepted_answer_id":28208935,"answer_count":5,"score":11,"last_activity_date":1668691373,"creation_date":1422515063,"question_id":28208793,"body_markdown":"As the title says, just looking for a string to match a client finishing sending data over a socket, so I might be looking for something like `{&quot;Message&quot; : &quot;END&quot;}` in a JSON string for example. \r\nA the most the strings will be a few hundred chars long.","title":"In Java, which is faster - String.contains(&quot;some text&quot;) or Regex that looks for same text?","body":"<p>As the title says, just looking for a string to match a client finishing sending data over a socket, so I might be looking for something like <code>{\"Message\" : \"END\"}</code> in a JSON string for example. \nA the most the strings will be a few hundred chars long.</p>\n"},{"tags":["java","android","flutter","kotlin","mobile"],"answers":[{"tags":[],"owner":{"account_id":25907075,"reputation":86,"user_id":19631991,"display_name":"Shaik Ahron"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1668691322,"creation_date":1668691322,"answer_id":74476212,"question_id":73334772,"body_markdown":"I too was searching for the solution. what i did was extend **MainActivity** with **FlutterFragmentActivity** and pass *this* to method channel handler.\r\n\r\n    \r\n\r\n        public class MainActivity extends FlutterFragmentActivity{\r\n               ...\r\n               @Override\r\n               public void configureFlutterEngine(@NonNull FlutterEngine flutterEngine) \r\n               {\r\n                  handlePickerMethodChannel(flutterEngine);\r\n               }\r\n            \r\n    \r\n            private void handlePickerMethodChannel(FlutterEngine flutterEngine) {\r\n                PickerMethodChannelHandler PickerMethodChannelHandler = new PickerMethodChannelHandler(new WeakReference&lt;&gt;(this));\r\n                new MethodChannel(flutterEngine.getDartExecutor().getBinaryMessenger(), PHOTO_PICKER_METHOD_CHANNEL)\r\n                        .setMethodCallHandler(pickerMethodChannelHandler);\r\n            }\r\n        }\r\n\r\n    class PickerMethodChannelHandler(\r\n        private val activity: WeakReference&lt;Activity&gt;,\r\n    ) : MethodChannel.MethodCallHandler {\r\n    \r\n        private val pickMedia = (activity.get() as ComponentActivity).registerForActivityResult(ActivityResultContracts.PickVisualMedia()) { uri -&gt;\r\n            if (uri != null) {\r\n                Log.d(&quot;PhotoPicker&quot;, &quot;Selected URI: $uri&quot;)\r\n            } else {\r\n                Log.d(&quot;PhotoPicker&quot;, &quot;No media selected&quot;)\r\n            }\r\n        }\r\n    \r\n        override fun onMethodCall(call: MethodCall, result: MethodChannel.Result) {\r\n            when (call.method) {\r\n                &quot;pickMedia&quot; -&gt; pickMedia(call,result)\r\n                else -&gt; result.notImplemented()\r\n            }\r\n        }\r\n    \r\n        private fun pickMedia(call: MethodCall, result: MethodChannel.Result) {\r\n            val context = activity.get() as ComponentActivity\r\n    \r\n            Log.i(&quot;PICK_MEDIA&quot;,&quot;PICK ${context != null}&quot;)\r\n            pickMedia.launch(PickVisualMediaRequest(ActivityResultContracts.PickVisualMedia.ImageAndVideo))\r\n        }\r\n    \r\n    }\r\n\r\nIt worked \r\n\r\n\r\n","title":"registerForActivityResult is not working in Flutter","body":"<p>I too was searching for the solution. what i did was extend <strong>MainActivity</strong> with <strong>FlutterFragmentActivity</strong> and pass <em>this</em> to method channel handler.</p>\n<pre><code>    public class MainActivity extends FlutterFragmentActivity{\n           ...\n           @Override\n           public void configureFlutterEngine(@NonNull FlutterEngine flutterEngine) \n           {\n              handlePickerMethodChannel(flutterEngine);\n           }\n        \n\n        private void handlePickerMethodChannel(FlutterEngine flutterEngine) {\n            PickerMethodChannelHandler PickerMethodChannelHandler = new PickerMethodChannelHandler(new WeakReference&lt;&gt;(this));\n            new MethodChannel(flutterEngine.getDartExecutor().getBinaryMessenger(), PHOTO_PICKER_METHOD_CHANNEL)\n                    .setMethodCallHandler(pickerMethodChannelHandler);\n        }\n    }\n\nclass PickerMethodChannelHandler(\n    private val activity: WeakReference&lt;Activity&gt;,\n) : MethodChannel.MethodCallHandler {\n\n    private val pickMedia = (activity.get() as ComponentActivity).registerForActivityResult(ActivityResultContracts.PickVisualMedia()) { uri -&gt;\n        if (uri != null) {\n            Log.d(&quot;PhotoPicker&quot;, &quot;Selected URI: $uri&quot;)\n        } else {\n            Log.d(&quot;PhotoPicker&quot;, &quot;No media selected&quot;)\n        }\n    }\n\n    override fun onMethodCall(call: MethodCall, result: MethodChannel.Result) {\n        when (call.method) {\n            &quot;pickMedia&quot; -&gt; pickMedia(call,result)\n            else -&gt; result.notImplemented()\n        }\n    }\n\n    private fun pickMedia(call: MethodCall, result: MethodChannel.Result) {\n        val context = activity.get() as ComponentActivity\n\n        Log.i(&quot;PICK_MEDIA&quot;,&quot;PICK ${context != null}&quot;)\n        pickMedia.launch(PickVisualMediaRequest(ActivityResultContracts.PickVisualMedia.ImageAndVideo))\n    }\n\n}\n</code></pre>\n<p>It worked</p>\n"}],"owner":{"account_id":15601247,"reputation":272,"user_id":11255333,"display_name":"Oussama Rid&#233;ne"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1274,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74476212,"answer_count":1,"score":1,"last_activity_date":1668691322,"creation_date":1660310070,"question_id":73334772,"body_markdown":"I&#39;m trying to launch context from android MainActivity class to flutter.\r\n code : \r\n\r\n    val authResult = ComponentActivity().registerForActivityResult(PianoIdAuthResultContract()) { r -&gt;\r\n                    when (r) {\r\n                        null -&gt; { /* user cancelled Authorization process */ }\r\n                        is PianoIdAuthSuccessResult -&gt; {\r\n                            val token = r.token\r\n                            val isNewUserRegistered = r.isNewUser\r\n                            if (token != null) {\r\n                                if (token.emailConfirmationRequired) {\r\n                                    // process enabled Double opt-in\r\n                                }\r\n                            }\r\n                            // process successful authorization\r\n                        }\r\n                        is PianoIdAuthFailureResult -&gt; {\r\n                            val e = r.exception\r\n                            // Authorization failed, check e.cause for details\r\n                        }\r\n                    }\r\n                }\r\n\r\nand then calling the method launch \r\ncode : \r\n\r\n                try{\r\n                    authResult.launch(PianoId.signIn());\r\n                }catch (e : Exception){\r\n                    val text = e.message\r\n                    val duration = Toast.LENGTH_SHORT\r\n\r\n                    val toast = Toast.makeText(applicationContext, text, duration)\r\n                    toast.show()\r\n                }\r\n    \r\nand then I call this method from flutter by creating a channel between flutter and android and invoke it : \r\n\r\n    signInChannel.invokeMethod(&#39;testSignIn&#39;);\r\n\r\n\r\nwhen I press the sign in button it shows me this exception : \r\n\r\n&gt; Attempt to invoke virtual method &#39;android.app.ActivityThread$ApplicationThread android.app.ActivityThread.getApplicationThread()&#39; on a null object reference\r\n\r\n\r\n\r\n\r\n","title":"registerForActivityResult is not working in Flutter","body":"<p>I'm trying to launch context from android MainActivity class to flutter.\ncode :</p>\n<pre><code>val authResult = ComponentActivity().registerForActivityResult(PianoIdAuthResultContract()) { r -&gt;\n                when (r) {\n                    null -&gt; { /* user cancelled Authorization process */ }\n                    is PianoIdAuthSuccessResult -&gt; {\n                        val token = r.token\n                        val isNewUserRegistered = r.isNewUser\n                        if (token != null) {\n                            if (token.emailConfirmationRequired) {\n                                // process enabled Double opt-in\n                            }\n                        }\n                        // process successful authorization\n                    }\n                    is PianoIdAuthFailureResult -&gt; {\n                        val e = r.exception\n                        // Authorization failed, check e.cause for details\n                    }\n                }\n            }\n</code></pre>\n<p>and then calling the method launch\ncode :</p>\n<pre><code>            try{\n                authResult.launch(PianoId.signIn());\n            }catch (e : Exception){\n                val text = e.message\n                val duration = Toast.LENGTH_SHORT\n\n                val toast = Toast.makeText(applicationContext, text, duration)\n                toast.show()\n            }\n</code></pre>\n<p>and then I call this method from flutter by creating a channel between flutter and android and invoke it :</p>\n<pre><code>signInChannel.invokeMethod('testSignIn');\n</code></pre>\n<p>when I press the sign in button it shows me this exception :</p>\n<blockquote>\n<p>Attempt to invoke virtual method 'android.app.ActivityThread$ApplicationThread android.app.ActivityThread.getApplicationThread()' on a null object reference</p>\n</blockquote>\n"},{"tags":["java","asynchronous","executorservice","completable-future"],"comments":[{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":2,"creation_date":1668695296,"post_id":74475988,"comment_id":131472609,"body_markdown":"Sharing one ArrayList among several threads looks very suspicious and could be your problem. Try using a CopyOnWriteArrayList to see if it solves your problem. And if that works and performance is important, you could also use an array since you know the final size. But start with a concurrent list to check correctness.","body":"Sharing one ArrayList among several threads looks very suspicious and could be your problem. Try using a CopyOnWriteArrayList to see if it solves your problem. And if that works and performance is important, you could also use an array since you know the final size. But start with a concurrent list to check correctness."},{"owner":{"account_id":5951571,"reputation":94,"user_id":4679375,"display_name":"Sharan Rai"},"score":1,"creation_date":1668711016,"post_id":74475988,"comment_id":131478653,"body_markdown":"@assylias yes passing ArrayList was the issue. CopyOnWriteArrayList worked for me. Since it is expensive I used an array. Thanks","body":"@assylias yes passing ArrayList was the issue. CopyOnWriteArrayList worked for me. Since it is expensive I used an array. Thanks"}],"owner":{"account_id":5951571,"reputation":94,"user_id":4679375,"display_name":"Sharan Rai"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1668691128,"creation_date":1668690378,"question_id":74475988,"body_markdown":"Hi I am bit new to async programming and CompletableFuture. I want to run a list of task in asynchronously (using CompletableFuture) and update the result to multiple objects.\r\nOnce all the tasks in the list updates the objects, I want my method to execute next lines synchronously.\r\n \r\nI tried CompletableFuture.allOf() which Returns a new CompletableFuture that is completed when all of the given CompletableFutures are complete.\r\n\r\nBut in my case, I get it before all of the given CompletableFutures are complete. Please guide me if I am missing anything. \r\n\r\n\r\n\r\n ```\r\nList&lt;MyData&gt; data =  getFromAMethod();\r\nOutputObject  outputObject = new OutputObject();\r\nList&lt;AnotherValue&gt; valueList1 = new ArrayList&lt;&gt;();\r\nList&lt;Value&gt; valueList2 = new ArrayList&lt;&gt;();\r\n\r\nfor (MyData data : dataList) {\r\n  CompletableFuture&lt;Void&gt; requestCompletableFuture =\r\n      CompletableFuture.supplyAsync(\r\n              () -&gt; executeMyMethod(data))\r\n          .exceptionally(throwable -&gt; {\r\n                throw  new SomeCustomException&lt;&gt;();\r\n          })\r\n          .thenAccept(\r\n              outputFromMyMethod -&gt; {\r\n\r\n                if(outputObject.getSomeField()==null){\r\n                  outputObject,setSomeField(outputFromMyMethod.getField);\r\n                }\r\n                  valueList1.add(outputFromMyMethod.getValue1());\r\n                  valueList2.add(outputFromMyMethod.getValue2());\r\n\r\n              });\r\n  completableFutures.add(requestCompletableFuture);\r\n}\r\n\r\nCompletableFuture&lt;Void&gt; allOfcompletableFuture =\r\n    CompletableFuture.allOf(completableFutures.toArray(new CompletableFuture[0]));\r\n\r\nallOfcompletableFuture\r\n    .whenComplete(\r\n        (result, exception) -&gt; {\r\n          if (exception != null) {\r\n            throw new SomeCustomException();\r\n          } else {\r\n           outputObject.setValueList1(valueList1);\r\n           outputObject.setValueList2(valueList2);\r\n          }\r\n        })\r\n    .join();\r\n\r\n//  next lines will be executed by main thread\r\ntaskOutput.setDisplayOutputs(ffxFeeDisplayOutputList);\r\n\r\n```\r\n\r\nIn most of the runs valueList1 and valueList2 will not be getting updated with all the values, also I am not having any exceptions during these run.\r\nI have also tried with **get()** method call after **whenComplete** still I am facing same issue.\r\n\r\nI really appreciate any help you can provide.","title":"CompletableFuture.allOf() doesnt wait untill all the runs are completed","body":"<p>Hi I am bit new to async programming and CompletableFuture. I want to run a list of task in asynchronously (using CompletableFuture) and update the result to multiple objects.\nOnce all the tasks in the list updates the objects, I want my method to execute next lines synchronously.</p>\n<p>I tried CompletableFuture.allOf() which Returns a new CompletableFuture that is completed when all of the given CompletableFutures are complete.</p>\n<p>But in my case, I get it before all of the given CompletableFutures are complete. Please guide me if I am missing anything.</p>\n<pre><code>List&lt;MyData&gt; data =  getFromAMethod();\nOutputObject  outputObject = new OutputObject();\nList&lt;AnotherValue&gt; valueList1 = new ArrayList&lt;&gt;();\nList&lt;Value&gt; valueList2 = new ArrayList&lt;&gt;();\n\nfor (MyData data : dataList) {\n CompletableFuture&lt;Void&gt; requestCompletableFuture =\n     CompletableFuture.supplyAsync(\n             () -&gt; executeMyMethod(data))\n         .exceptionally(throwable -&gt; {\n               throw  new SomeCustomException&lt;&gt;();\n         })\n         .thenAccept(\n             outputFromMyMethod -&gt; {\n\n               if(outputObject.getSomeField()==null){\n                 outputObject,setSomeField(outputFromMyMethod.getField);\n               }\n                 valueList1.add(outputFromMyMethod.getValue1());\n                 valueList2.add(outputFromMyMethod.getValue2());\n\n             });\n completableFutures.add(requestCompletableFuture);\n}\n\nCompletableFuture&lt;Void&gt; allOfcompletableFuture =\n   CompletableFuture.allOf(completableFutures.toArray(new CompletableFuture[0]));\n\nallOfcompletableFuture\n   .whenComplete(\n       (result, exception) -&gt; {\n         if (exception != null) {\n           throw new SomeCustomException();\n         } else {\n          outputObject.setValueList1(valueList1);\n          outputObject.setValueList2(valueList2);\n         }\n       })\n   .join();\n\n//  next lines will be executed by main thread\ntaskOutput.setDisplayOutputs(ffxFeeDisplayOutputList);\n\n</code></pre>\n<p>In most of the runs valueList1 and valueList2 will not be getting updated with all the values, also I am not having any exceptions during these run.\nI have also tried with <strong>get()</strong> method call after <strong>whenComplete</strong> still I am facing same issue.</p>\n<p>I really appreciate any help you can provide.</p>\n"},{"tags":["java","opengl","rendering","textures","transparency"],"comments":[{"owner":{"account_id":3043323,"reputation":21366,"user_id":2579738,"display_name":"BDL"},"score":4,"creation_date":1656939466,"post_id":72857055,"comment_id":128685930,"body_markdown":"Are you anywhere enable blending? `glEnable(GL_BLEND)`? If so, please add that and your shader to the question.","body":"Are you anywhere enable blending? <code>glEnable(GL_BLEND)</code>? If so, please add that and your shader to the question."},{"owner":{"account_id":2695276,"reputation":44354,"user_id":2327517,"display_name":"derhass"},"score":2,"creation_date":1656949454,"post_id":72857055,"comment_id":128689558,"body_markdown":"transparency is order-dependent. you draw these trees first, blending against the red background, and then add the &quot;background&quot; image, that won&#39;t work.","body":"transparency is order-dependent. you draw these trees first, blending against the red background, and then add the &quot;background&quot; image, that won&#39;t work."}],"answers":[{"tags":[],"owner":{"account_id":24102515,"reputation":9,"user_id":18074158,"display_name":"Ben Solo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668690520,"creation_date":1668690520,"answer_id":74476024,"question_id":72857055,"body_markdown":"To solve the problem with the red outlines I think you need to set the threshold for discarding the pixels a bit higher. \r\n\r\nMy suspicion is that the painting program didn&#180;t draw pixels entirely transparent. E.g. if a pixel would have an alpha value of 0.2 it wouldn&#180;t be discarded and despite being a bit transparent. Then the renderer tries to blend it with the background, because it isn&#180;t in the order.\r\n\r\nThe pixels are probably red because the you set the background color to red:\r\n\r\n    GL11.glClearColor(1.0f, 0.0f, 0.0f, 0.0f);\r\n\r\nSo the solution to this would either be to sort the objects from back to front or increase the discarding threshold in your fragment shader to something like 0.9.\r\n\r\n\r\n","title":"How to draw translucent/transparent textures with lwjgl?","body":"<p>To solve the problem with the red outlines I think you need to set the threshold for discarding the pixels a bit higher.</p>\n<p>My suspicion is that the painting program didnt draw pixels entirely transparent. E.g. if a pixel would have an alpha value of 0.2 it wouldnt be discarded and despite being a bit transparent. Then the renderer tries to blend it with the background, because it isnt in the order.</p>\n<p>The pixels are probably red because the you set the background color to red:</p>\n<pre><code>GL11.glClearColor(1.0f, 0.0f, 0.0f, 0.0f);\n</code></pre>\n<p>So the solution to this would either be to sort the objects from back to front or increase the discarding threshold in your fragment shader to something like 0.9.</p>\n"}],"owner":{"account_id":22412192,"reputation":7,"user_id":16620771,"display_name":"instance"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668690520,"creation_date":1656938948,"question_id":72857055,"body_markdown":"I&#39;ve spent a lot of time trying to find out how to draw transparent textures onto the screen, however my code doesn&#39;t seem to work. So far, only textures that are fully opaque are drawn normally (like in the background of the image below). As you can see in the image below, the transparent parts are getting filled in by a red color instead of being transparent. (I used paint.net to draw transparency, is that right?)\r\n\r\nEDIT (with new code as well): Now the transparent parts have gone away, but there is a small red outline like in the image below where there are translucent pixels. How do I make it render as transparent too? Also, I don&#39;t understand why setting *glClearColor*&#39;s alpha doesn&#39;t change anything.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nI set the *glClearColor* to red, however the alpha is 0.\r\n\r\n    GL11.glClearColor(1.0f, 0.0f, 0.0f, 0.0f);\r\n\r\nHere is my code for drawing textures(using *slick-util*):\r\n\r\n            PNGDecoder decoder = null;\r\n\t\t\ttry {\r\n\t\t\t\tdecoder = new PNGDecoder(new FileInputStream(Main.projectPath + path));\r\n\t\t\t} catch (FileNotFoundException e1) {\r\n\t\t\t\te1.printStackTrace();\r\n\t\t\t} catch (IOException e1) {\r\n\t\t\t\te1.printStackTrace();\r\n\t\t\t}\r\n\r\n\t\t    ByteBuffer buffer = ByteBuffer.allocateDirect(4 * decoder.getWidth() * decoder.getHeight());\r\n\r\n\t\t    try {\r\n\t\t\t\tdecoder.decode(buffer, decoder.getWidth() * 4, PNGDecoder.RGBA);\r\n\t\t\t} catch (IOException e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\r\n\t\t    buffer.flip();\r\n\r\n\t\t    int id = GL13.glGenTextures();\r\n\r\n\t\t    GL13.glBindTexture(GL13.GL_TEXTURE_2D, id);\r\n\r\n\t\t    GL13.glPixelStorei(GL13.GL_UNPACK_ALIGNMENT, 1);\r\n\r\n\t\t    GL13.glTexParameterf(GL13.GL_TEXTURE_2D, GL13.GL_TEXTURE_MIN_FILTER, GL13.GL_NEAREST);\r\n\t\t    GL13.glTexParameterf(GL13.GL_TEXTURE_2D, GL13.GL_TEXTURE_MAG_FILTER, GL13.GL_NEAREST);\r\n\t\t    \r\n\t\t    width = decoder.getWidth();\r\n\t\t    height = decoder.getHeight();\r\n\t\t    GL13.glTexImage2D(GL13.GL_TEXTURE_2D, 0, GL13.GL_RGBA, decoder.getWidth(), decoder.getHeight(), 0, GL13.GL_RGBA, GL13.GL_UNSIGNED_BYTE, buffer);\r\n\r\n\t\t    GL30.glGenerateMipmap(GL13.GL_TEXTURE_2D);\r\n\t\t    \r\n\t\t    GL13.glTexParameteri(GL13.GL_TEXTURE_2D, GL13.GL_TEXTURE_WRAP_S, GL13.GL_RGBA);\r\n\t\t    GL13.glTexParameteri(GL13.GL_TEXTURE_2D, GL13.GL_TEXTURE_WRAP_T, GL13.GL_RGBA);\r\n\t\t    GL13.glTexParameteri(GL13.GL_TEXTURE_2D, GL13.GL_TEXTURE_MIN_FILTER, GL13.GL_NEAREST_MIPMAP_NEAREST);\r\n\t\t    GL13.glTexParameteri(GL13.GL_TEXTURE_2D, GL13.GL_TEXTURE_MAG_FILTER,GL13. GL_NEAREST);\r\n\r\n\t\t    this.texture = new Texture(id);\r\n\t\t    this.textureID =  id;\r\n\r\nHere is my code for rendering the texture to the screen:\r\n\r\n    public void renderMesh(Mesh mesh) {\r\n\t\tGL30.glBindVertexArray(mesh.getVAO());\r\n\t\tGL30.glEnableVertexAttribArray(0);\r\n\t\tGL30.glEnableVertexAttribArray(1);\r\n\t\tGL30.glEnableVertexAttribArray(2);\r\n\t\tGL15.glBindBuffer(GL15.GL_ELEMENT_ARRAY_BUFFER, mesh.getIBO());\r\n\t\tGL13.glActiveTexture(GL13.GL_TEXTURE0);\r\n\t\tGL13.glBindTexture(GL11.GL_TEXTURE_2D, mesh.getMaterial().getTextureID());\r\n\t\tshader.bind();\r\n\t\tGL11.glDrawElements(GL11.GL_TRIANGLES, mesh.getIndices().length, GL11.GL_UNSIGNED_INT, 0);\r\n\t\tshader.unbind();\r\n\t\tGL15.glBindBuffer(GL15.GL_ELEMENT_ARRAY_BUFFER, 0);\r\n\t\tGL30.glDisableVertexAttribArray(0);\r\n\t\tGL30.glDisableVertexAttribArray(1);\r\n\t\tGL30.glDisableVertexAttribArray(2);\r\n\t\tGL30.glBindVertexArray(0);\r\n\t}\r\n\r\nI would like to know what is incorrect of this code.\r\n\r\nEDIT: Here is my init and shader code as well:\r\nInitialization code:\r\n\r\n    window = GLFW.glfwCreateWindow(width, height, title, isFullscreen ? GLFW.glfwGetPrimaryMonitor() : 0, 0);\r\n\t\t\r\n\t\tif (window == 0) {\r\n\t\t\tSystem.err.println(&quot;ERROR: Window wasn&#39;t created&quot;);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\tGLFWVidMode videoMode = GLFW.glfwGetVideoMode(GLFW.glfwGetPrimaryMonitor());\r\n\t\twindowPosX[0] = (videoMode.width() - width) / 2;\r\n\t\twindowPosY[0] = (videoMode.height() - height) / 2;\r\n\t\tGLFW.glfwSetWindowPos(window, windowPosX[0], windowPosY[0]);\r\n\t\tGLFW.glfwMakeContextCurrent(window);\r\n\t\tGL.createCapabilities();\r\n\t\tGL11.glEnable(GL11.GL_DEPTH_TEST);\r\n\t\tGL11.glMatrixMode(GL11.GL_TEXTURE);\r\n\t\tGL11.glEnable(GL11.GL_TEXTURE_2D);\r\n\t\tGL11.glEnable(GL11.GL_BLEND);\r\n\t\tGL11.glEnable(GL11.GL_ALPHA_TEST);\r\n\t\tGL11.glBlendFunc(GL11.GL_SRC_ALPHA, GL11.GL_ONE_MINUS_SRC_ALPHA);\r\n\t\tGL11.glPushMatrix();   \r\n\t\t\r\n\t\t\r\n\t\tcreateCallbacks();\r\n\t\t\r\n\t\tGLFW.glfwShowWindow(window);\r\n\t\t\r\n\t\tGLFW.glfwSwapInterval(1);\r\n\r\nVertex Shader:\r\n\r\n    #version 460 core\r\n\r\n    in vec3 position;\r\n    in vec4 color;\r\n    in vec2 textureCoord;\r\n    \r\n    out vec4 passColor;\r\n    out vec2 passTextureCoord;\r\n    \r\n    void main() {\r\n    \tgl_Position = vec4(position, 1.0);\r\n    \tpassColor = color;\r\n    \tpassTextureCoord = textureCoord;\r\n    }\r\n\r\nFragment Shader:\r\n\r\n    #version 330 core\r\n    out vec4 FragColor;\r\n    \r\n    in vec2 passTextureCoord;\r\n\r\n    uniform sampler2D texture1;\r\n    \r\n    void main()\r\n    {             \r\n        vec4 texColor = texture(texture1, passTextureCoord);\r\n        if(texColor.a &lt; 0.1)\r\n            discard;\r\n        FragColor = texColor;\r\n    }  \r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QVXKZ.png","title":"How to draw translucent/transparent textures with lwjgl?","body":"<p>I've spent a lot of time trying to find out how to draw transparent textures onto the screen, however my code doesn't seem to work. So far, only textures that are fully opaque are drawn normally (like in the background of the image below). As you can see in the image below, the transparent parts are getting filled in by a red color instead of being transparent. (I used paint.net to draw transparency, is that right?)</p>\n<p>EDIT (with new code as well): Now the transparent parts have gone away, but there is a small red outline like in the image below where there are translucent pixels. How do I make it render as transparent too? Also, I don't understand why setting <em>glClearColor</em>'s alpha doesn't change anything.</p>\n<p><a href=\"https://i.stack.imgur.com/QVXKZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QVXKZ.png\" alt=\"enter image description here\" /></a></p>\n<p>I set the <em>glClearColor</em> to red, however the alpha is 0.</p>\n<pre><code>GL11.glClearColor(1.0f, 0.0f, 0.0f, 0.0f);\n</code></pre>\n<p>Here is my code for drawing textures(using <em>slick-util</em>):</p>\n<pre><code>        PNGDecoder decoder = null;\n        try {\n            decoder = new PNGDecoder(new FileInputStream(Main.projectPath + path));\n        } catch (FileNotFoundException e1) {\n            e1.printStackTrace();\n        } catch (IOException e1) {\n            e1.printStackTrace();\n        }\n\n        ByteBuffer buffer = ByteBuffer.allocateDirect(4 * decoder.getWidth() * decoder.getHeight());\n\n        try {\n            decoder.decode(buffer, decoder.getWidth() * 4, PNGDecoder.RGBA);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n\n        buffer.flip();\n\n        int id = GL13.glGenTextures();\n\n        GL13.glBindTexture(GL13.GL_TEXTURE_2D, id);\n\n        GL13.glPixelStorei(GL13.GL_UNPACK_ALIGNMENT, 1);\n\n        GL13.glTexParameterf(GL13.GL_TEXTURE_2D, GL13.GL_TEXTURE_MIN_FILTER, GL13.GL_NEAREST);\n        GL13.glTexParameterf(GL13.GL_TEXTURE_2D, GL13.GL_TEXTURE_MAG_FILTER, GL13.GL_NEAREST);\n        \n        width = decoder.getWidth();\n        height = decoder.getHeight();\n        GL13.glTexImage2D(GL13.GL_TEXTURE_2D, 0, GL13.GL_RGBA, decoder.getWidth(), decoder.getHeight(), 0, GL13.GL_RGBA, GL13.GL_UNSIGNED_BYTE, buffer);\n\n        GL30.glGenerateMipmap(GL13.GL_TEXTURE_2D);\n        \n        GL13.glTexParameteri(GL13.GL_TEXTURE_2D, GL13.GL_TEXTURE_WRAP_S, GL13.GL_RGBA);\n        GL13.glTexParameteri(GL13.GL_TEXTURE_2D, GL13.GL_TEXTURE_WRAP_T, GL13.GL_RGBA);\n        GL13.glTexParameteri(GL13.GL_TEXTURE_2D, GL13.GL_TEXTURE_MIN_FILTER, GL13.GL_NEAREST_MIPMAP_NEAREST);\n        GL13.glTexParameteri(GL13.GL_TEXTURE_2D, GL13.GL_TEXTURE_MAG_FILTER,GL13. GL_NEAREST);\n\n        this.texture = new Texture(id);\n        this.textureID =  id;\n</code></pre>\n<p>Here is my code for rendering the texture to the screen:</p>\n<pre><code>public void renderMesh(Mesh mesh) {\n    GL30.glBindVertexArray(mesh.getVAO());\n    GL30.glEnableVertexAttribArray(0);\n    GL30.glEnableVertexAttribArray(1);\n    GL30.glEnableVertexAttribArray(2);\n    GL15.glBindBuffer(GL15.GL_ELEMENT_ARRAY_BUFFER, mesh.getIBO());\n    GL13.glActiveTexture(GL13.GL_TEXTURE0);\n    GL13.glBindTexture(GL11.GL_TEXTURE_2D, mesh.getMaterial().getTextureID());\n    shader.bind();\n    GL11.glDrawElements(GL11.GL_TRIANGLES, mesh.getIndices().length, GL11.GL_UNSIGNED_INT, 0);\n    shader.unbind();\n    GL15.glBindBuffer(GL15.GL_ELEMENT_ARRAY_BUFFER, 0);\n    GL30.glDisableVertexAttribArray(0);\n    GL30.glDisableVertexAttribArray(1);\n    GL30.glDisableVertexAttribArray(2);\n    GL30.glBindVertexArray(0);\n}\n</code></pre>\n<p>I would like to know what is incorrect of this code.</p>\n<p>EDIT: Here is my init and shader code as well:\nInitialization code:</p>\n<pre><code>window = GLFW.glfwCreateWindow(width, height, title, isFullscreen ? GLFW.glfwGetPrimaryMonitor() : 0, 0);\n    \n    if (window == 0) {\n        System.err.println(&quot;ERROR: Window wasn't created&quot;);\n        return;\n    }\n    \n    GLFWVidMode videoMode = GLFW.glfwGetVideoMode(GLFW.glfwGetPrimaryMonitor());\n    windowPosX[0] = (videoMode.width() - width) / 2;\n    windowPosY[0] = (videoMode.height() - height) / 2;\n    GLFW.glfwSetWindowPos(window, windowPosX[0], windowPosY[0]);\n    GLFW.glfwMakeContextCurrent(window);\n    GL.createCapabilities();\n    GL11.glEnable(GL11.GL_DEPTH_TEST);\n    GL11.glMatrixMode(GL11.GL_TEXTURE);\n    GL11.glEnable(GL11.GL_TEXTURE_2D);\n    GL11.glEnable(GL11.GL_BLEND);\n    GL11.glEnable(GL11.GL_ALPHA_TEST);\n    GL11.glBlendFunc(GL11.GL_SRC_ALPHA, GL11.GL_ONE_MINUS_SRC_ALPHA);\n    GL11.glPushMatrix();   \n    \n    \n    createCallbacks();\n    \n    GLFW.glfwShowWindow(window);\n    \n    GLFW.glfwSwapInterval(1);\n</code></pre>\n<p>Vertex Shader:</p>\n<pre><code>#version 460 core\n\nin vec3 position;\nin vec4 color;\nin vec2 textureCoord;\n\nout vec4 passColor;\nout vec2 passTextureCoord;\n\nvoid main() {\n    gl_Position = vec4(position, 1.0);\n    passColor = color;\n    passTextureCoord = textureCoord;\n}\n</code></pre>\n<p>Fragment Shader:</p>\n<pre><code>#version 330 core\nout vec4 FragColor;\n\nin vec2 passTextureCoord;\n\nuniform sampler2D texture1;\n\nvoid main()\n{             \n    vec4 texColor = texture(texture1, passTextureCoord);\n    if(texColor.a &lt; 0.1)\n        discard;\n    FragColor = texColor;\n}  \n</code></pre>\n"},{"tags":["java","spring","spring-boot","authentication","spring-security"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1668594058,"post_id":74458719,"comment_id":131441446,"body_markdown":"It isn&#39;t a bean, it internally uses a `ThreadLocal` to hold the current user. This is set by the spring security filter chain. There are several of such like the `RequestContextHolder`, `LocaleContextHolder` to name a few.","body":"It isn&#39;t a bean, it internally uses a <code>ThreadLocal</code> to hold the current user. This is set by the spring security filter chain. There are several of such like the <code>RequestContextHolder</code>, <code>LocaleContextHolder</code> to name a few."},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":1,"creation_date":1668596083,"post_id":74458719,"comment_id":131442197,"body_markdown":"This method exists to allow you to get access to the `Authentication` in places where you _can&#39;t_ inject it. If you try to autowire the `SecurityContextHolder` just to get the `Authentication`, autowire the latter instead.","body":"This method exists to allow you to get access to the <code>Authentication</code> in places where you <i>can&#39;t</i> inject it. If you try to autowire the <code>SecurityContextHolder</code> just to get the <code>Authentication</code>, autowire the latter instead."}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1668690359,"creation_date":1668641807,"answer_id":74468527,"question_id":74458719,"body_markdown":"[`SecurityContextHolder`][contextHolder] is a utility class which declares a bunch of `static` methods, which can be accessed using class name.\r\n\r\nIt doesn&#39;t make much sense to instantiate utility classes (their constructors are usually private to emphasize that), and for that reason `SecurityContextHolder` is not a Bean in the Context, hence there&#39;s no way (*and no need*) to inject it.\r\n\r\nThe purpose `SecurityContextHolder` to facilitate access to the [`SecurityContext`][context], which contains information specific to the currently authenticated user. Also, `SecurityContextHolder` offers various strategies for managing `SecurityContext`:\r\n* `MODE_THREADLOCAL` is the default one, that is suitable for so-called servlet-based Web Application, which are using thread-per-request model. In this case, each thread would have its own context and Spring uses [`TreadLocal`][threadLocal] to manage the context.\r\n* `MODE_INHERITABLETHREADLOCAL` is similar to the previous one with one difference - it allows to use multiple threads per request, and if we spawn a new thread it inherits the context of the parent thread.\r\n* `MODE_GLOBAL` - is not appropriate for server use. This strategy is not based on `TreadLocal`, every thread is expected to see the same context. And can be used in a standalone application (for instance in a Swing client).\r\n\r\nHere&#39;s a short quote from the [Spring Security documentation][sch] (*have a closer at this link if you want to learn more*):\r\n\r\n&gt; **10.1. SecurityContextHolder**\r\n&gt; \r\n&gt; At the heart of Spring Securitys authentication model is the\r\n&gt; `SecurityContextHolder`. It contains the `SecurityContext`.\r\n&gt; securitycontextholder\r\n&gt; \r\n&gt; [![enter image description here][1]][1]\r\n&gt; \r\n&gt; The `SecurityContextHolder` is where Spring Security stores the\r\n&gt; details of who is authenticated. Spring Security does not care how the\r\n&gt; `SecurityContextHolder` is populated. If it contains a value, then it\r\n&gt; is used as the currently authenticated user.\r\n&gt; \r\n&gt; ...\r\n\r\nSo, as a recap, the main purpose of `SecurityContextHolder` is to manage `SecurityContext`. And security context is meant to provide access to the user&#39;s [`Authentication`][auth].\r\n\r\n`Authentication` represents the currently authenticated user. And since `Authentication` a Bean, it can be provided through dependency injection in another Bean, for instance as a method parameter.\r\n\r\nLet&#39;s have a look at an example. Assume we have a controller which has an endpoint returning an instance of `Foo` which requires some user&#39;s information from the `Authentication`:\r\n\r\n```\r\n@RestController\r\npublic class FooController {\r\n    \r\n    @GetMapping(&quot;/foo&quot;)\r\n    Foo getFoo(Authentication a) {\r\n        \r\n        return FooUtils.generateFoo(a);\r\n    }\r\n}\r\n```\r\n\r\nIt makes use of the `generateFoo()` method by passing `Authentication` injected a parameter. Method `generateFoo()` located in the `FooUtils` which is a utility class.\r\n\r\n```\r\npublic class FooUtils {\r\n    public static Foo generateFoo(Authentication a) {\r\n        \r\n        return new Foo(a.getPrincipal());\r\n    }\r\n}\r\n```\r\n\r\n`Authentication` can&#39;t be injected in the methods of `FooUtils`, since it&#39;s a not a Bean, therefore it&#39;s being handed out by the caller. If we imagine that chain of calls would be longer, i.e. there would be more actions in between the calling endpoint method and `FooUtils.generateFoo()` it would not be very convenient to pass around `Authentication` through several methods where it&#39;s not going to be used.\r\n\r\nInstead, can make use of the `SecurityContextHolder` and obtain `Authentication` right on the spot inside the `FooUtils`:\r\n\r\n```\r\npublic class FooUtils {\r\n    public static Foo generateFoo() {\r\n        Authentication a = SecurityContextHolder\r\n            .getContext()\r\n            .getAuthentication();\r\n        \r\n        return new Foo(a.getPrincipal());\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n   [contextHolder]: https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/core/context/SecurityContextHolder.html\r\n\r\n   [sch]: https://docs.spring.io/spring-security/site/docs/5.3.9.RELEASE/reference/html5/#servlet-authentication-securitycontextholder\r\n\r\n   [context]: https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/core/context/SecurityContext.html\r\n\r\n   [auth]: https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/core/Authentication.html\r\n\r\n   [threadLocal]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/ThreadLocal.html\r\n\r\n   [1]: https://i.stack.imgur.com/uwq93.png","title":"Isn&#39;t SecurityContextHolder a Bean?","body":"<p><a href=\"https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/core/context/SecurityContextHolder.html\" rel=\"nofollow noreferrer\"><code>SecurityContextHolder</code></a> is a utility class which declares a bunch of <code>static</code> methods, which can be accessed using class name.</p>\n<p>It doesn't make much sense to instantiate utility classes (their constructors are usually private to emphasize that), and for that reason <code>SecurityContextHolder</code> is not a Bean in the Context, hence there's no way (<em>and no need</em>) to inject it.</p>\n<p>The purpose <code>SecurityContextHolder</code> to facilitate access to the <a href=\"https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/core/context/SecurityContext.html\" rel=\"nofollow noreferrer\"><code>SecurityContext</code></a>, which contains information specific to the currently authenticated user. Also, <code>SecurityContextHolder</code> offers various strategies for managing <code>SecurityContext</code>:</p>\n<ul>\n<li><code>MODE_THREADLOCAL</code> is the default one, that is suitable for so-called servlet-based Web Application, which are using thread-per-request model. In this case, each thread would have its own context and Spring uses <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/ThreadLocal.html\" rel=\"nofollow noreferrer\"><code>TreadLocal</code></a> to manage the context.</li>\n<li><code>MODE_INHERITABLETHREADLOCAL</code> is similar to the previous one with one difference - it allows to use multiple threads per request, and if we spawn a new thread it inherits the context of the parent thread.</li>\n<li><code>MODE_GLOBAL</code> - is not appropriate for server use. This strategy is not based on <code>TreadLocal</code>, every thread is expected to see the same context. And can be used in a standalone application (for instance in a Swing client).</li>\n</ul>\n<p>Here's a short quote from the <a href=\"https://docs.spring.io/spring-security/site/docs/5.3.9.RELEASE/reference/html5/#servlet-authentication-securitycontextholder\" rel=\"nofollow noreferrer\">Spring Security documentation</a> (<em>have a closer at this link if you want to learn more</em>):</p>\n<blockquote>\n<p><strong>10.1. SecurityContextHolder</strong></p>\n<p>At the heart of Spring Securitys authentication model is the\n<code>SecurityContextHolder</code>. It contains the <code>SecurityContext</code>.\nsecuritycontextholder</p>\n<p><a href=\"https://i.stack.imgur.com/uwq93.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uwq93.png\" alt=\"enter image description here\" /></a></p>\n<p>The <code>SecurityContextHolder</code> is where Spring Security stores the\ndetails of who is authenticated. Spring Security does not care how the\n<code>SecurityContextHolder</code> is populated. If it contains a value, then it\nis used as the currently authenticated user.</p>\n<p>...</p>\n</blockquote>\n<p>So, as a recap, the main purpose of <code>SecurityContextHolder</code> is to manage <code>SecurityContext</code>. And security context is meant to provide access to the user's <a href=\"https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/core/Authentication.html\" rel=\"nofollow noreferrer\"><code>Authentication</code></a>.</p>\n<p><code>Authentication</code> represents the currently authenticated user. And since <code>Authentication</code> a Bean, it can be provided through dependency injection in another Bean, for instance as a method parameter.</p>\n<p>Let's have a look at an example. Assume we have a controller which has an endpoint returning an instance of <code>Foo</code> which requires some user's information from the <code>Authentication</code>:</p>\n<pre><code>@RestController\npublic class FooController {\n    \n    @GetMapping(&quot;/foo&quot;)\n    Foo getFoo(Authentication a) {\n        \n        return FooUtils.generateFoo(a);\n    }\n}\n</code></pre>\n<p>It makes use of the <code>generateFoo()</code> method by passing <code>Authentication</code> injected a parameter. Method <code>generateFoo()</code> located in the <code>FooUtils</code> which is a utility class.</p>\n<pre><code>public class FooUtils {\n    public static Foo generateFoo(Authentication a) {\n        \n        return new Foo(a.getPrincipal());\n    }\n}\n</code></pre>\n<p><code>Authentication</code> can't be injected in the methods of <code>FooUtils</code>, since it's a not a Bean, therefore it's being handed out by the caller. If we imagine that chain of calls would be longer, i.e. there would be more actions in between the calling endpoint method and <code>FooUtils.generateFoo()</code> it would not be very convenient to pass around <code>Authentication</code> through several methods where it's not going to be used.</p>\n<p>Instead, can make use of the <code>SecurityContextHolder</code> and obtain <code>Authentication</code> right on the spot inside the <code>FooUtils</code>:</p>\n<pre><code>public class FooUtils {\n    public static Foo generateFoo() {\n        Authentication a = SecurityContextHolder\n            .getContext()\n            .getAuthentication();\n        \n        return new Foo(a.getPrincipal());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1622560,"reputation":1026,"user_id":1498827,"accept_rate":84,"display_name":"microwth"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1024,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74468527,"answer_count":1,"score":2,"last_activity_date":1668690490,"creation_date":1668593789,"question_id":74458719,"body_markdown":"Trying to Autowire SecurityContextHolder\r\nI get error \r\n\r\n    required a bean of type &#39;org.springframework.security.core.context.SecurityContextHolder&#39; that could not be found.\r\n\r\nTurns out that it is available from any part of the code like\r\n\r\n    Authentication authentication = SecurityContextHolder.getContext().getAuthentication();\r\n\r\nHow come it isn&#39;t a bean and how does it get initialized under the hood?\r\nAre there other static utility classes like that available to be consumed from anywhere and how do I find them?\r\n","title":"Isn&#39;t SecurityContextHolder a Bean?","body":"<p>Trying to Autowire SecurityContextHolder\nI get error</p>\n<pre><code>required a bean of type 'org.springframework.security.core.context.SecurityContextHolder' that could not be found.\n</code></pre>\n<p>Turns out that it is available from any part of the code like</p>\n<pre><code>Authentication authentication = SecurityContextHolder.getContext().getAuthentication();\n</code></pre>\n<p>How come it isn't a bean and how does it get initialized under the hood?\nAre there other static utility classes like that available to be consumed from anywhere and how do I find them?</p>\n"},{"tags":["java","spring","tomcat","http-headers","httprequest"],"owner":{"account_id":22553349,"reputation":31,"user_id":16742146,"display_name":"RobinP2000"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1668690391,"creation_date":1668690391,"question_id":74475989,"body_markdown":"I programmed a website with Spring and everything works fine.\r\nBut when I run the website on my server where everyone has access to then sometimes I get a weird error message and I think that someone tries to hack my website.\r\n\r\n    2022-11-17 13:44:28.935  INFO 17736 --- [nio-9000-exec-3] o.apache.coyote.http11.Http11Processor   : Error parsing HTTP request header\r\n     Note: further occurrences of HTTP request parsing errors will be logged at DEBUG level.\r\n    \r\n    java.lang.IllegalArgumentException: Invalid character found in method name [0x160x030x010x000xee0x010x000x000xea0x030x030xfa!&quot;0xbe,0x14`0x860xc00x0e0xd2k0xed0x840x100xb6;0xc84?zh0x1by0xc6y0x7fiz(0xa2= ]. HTTP method names must be tokens\r\n            at org.apache.coyote.http11.Http11InputBuffer.parseRequestLine(Http11InputBuffer.java:419) ~[tomcat-embed-core-9.0.65.jar!/:na]\r\n            at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:271) ~[tomcat-embed-core-9.0.65.jar!/:na]\r\n            at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.65.jar!/:na]\r\n            at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.65.jar!/:na]\r\n            at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789) ~[tomcat-embed-core-9.0.65.jar!/:na]\r\n            at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.65.jar!/:na]\r\n            at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.65.jar!/:na]\r\n            at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.65.jar!/:na]\r\n            at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.65.jar!/:na]\r\n            at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n\r\n \r\nI think this because when I run the website on my local computer I don&#39;t get such messages and on my local computer I am the only one that has access to the website.\r\n\r\nIf someone tries to hack me I don&#39;t really care because as you can see in the error message it is not working.\r\nBut the error message is annoying so does someone know how/where to handle the exception?","title":"Spring handle &quot;invalid character found&quot; error","body":"<p>I programmed a website with Spring and everything works fine.\nBut when I run the website on my server where everyone has access to then sometimes I get a weird error message and I think that someone tries to hack my website.</p>\n<pre><code>2022-11-17 13:44:28.935  INFO 17736 --- [nio-9000-exec-3] o.apache.coyote.http11.Http11Processor   : Error parsing HTTP request header\n Note: further occurrences of HTTP request parsing errors will be logged at DEBUG level.\n\njava.lang.IllegalArgumentException: Invalid character found in method name [0x160x030x010x000xee0x010x000x000xea0x030x030xfa!&quot;0xbe,0x14`0x860xc00x0e0xd2k0xed0x840x100xb6;0xc84?zh0x1by0xc6y0x7fiz(0xa2= ]. HTTP method names must be tokens\n        at org.apache.coyote.http11.Http11InputBuffer.parseRequestLine(Http11InputBuffer.java:419) ~[tomcat-embed-core-9.0.65.jar!/:na]\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:271) ~[tomcat-embed-core-9.0.65.jar!/:na]\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.65.jar!/:na]\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.65.jar!/:na]\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789) ~[tomcat-embed-core-9.0.65.jar!/:na]\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.65.jar!/:na]\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.65.jar!/:na]\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.65.jar!/:na]\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.65.jar!/:na]\n        at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n</code></pre>\n<p>I think this because when I run the website on my local computer I don't get such messages and on my local computer I am the only one that has access to the website.</p>\n<p>If someone tries to hack me I don't really care because as you can see in the error message it is not working.\nBut the error message is annoying so does someone know how/where to handle the exception?</p>\n"},{"tags":["java","hibernate","websocket","quarkus","hibernate-reactive"],"answers":[{"tags":[],"owner":{"account_id":272310,"reputation":6057,"user_id":563323,"display_name":"Sanne"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1626785938,"creation_date":1626785938,"answer_id":68455324,"question_id":68355159,"body_markdown":"As you can see, the response from the DB is being handled by a thread named `vert.x-eventloop-thread-8`. This is expected: all responses from the reactive sql drivers are delivered on the eventloop threads.\r\n\r\nThe `IllegalStateException` you&#39;re seeing is likely being caused by the fact that the Session has not been opened on an eventloop thread - which causes such problems as you&#39;re making it run multi-threaded when all this code is designed to be run in a single eventloop (and doesn&#39;t need multiple threads, not to mention making it multi-threaded would degrade the performance).\r\nYou should be able to verify this by logging the thread name from the code just before invoking Panache Reactive: I bet it&#39;s not a `vert.x-eventloop-thread-X`.\r\n\r\nIn other words, Panache Reactive is designed to be used from a fully reactive context.\r\n\r\nSince Quarkus 2.1, Panache Reactive should be able to detect such a pattern and offload the operations onto the correct threads.","title":"How to access reactive Panache Entity Session Manager from a websocket endpoint? (Quarkus, Mutiny, Panache, Reactive)","body":"<p>As you can see, the response from the DB is being handled by a thread named <code>vert.x-eventloop-thread-8</code>. This is expected: all responses from the reactive sql drivers are delivered on the eventloop threads.</p>\n<p>The <code>IllegalStateException</code> you're seeing is likely being caused by the fact that the Session has not been opened on an eventloop thread - which causes such problems as you're making it run multi-threaded when all this code is designed to be run in a single eventloop (and doesn't need multiple threads, not to mention making it multi-threaded would degrade the performance).\nYou should be able to verify this by logging the thread name from the code just before invoking Panache Reactive: I bet it's not a <code>vert.x-eventloop-thread-X</code>.</p>\n<p>In other words, Panache Reactive is designed to be used from a fully reactive context.</p>\n<p>Since Quarkus 2.1, Panache Reactive should be able to detect such a pattern and offload the operations onto the correct threads.</p>\n"},{"tags":[],"owner":{"account_id":20731762,"reputation":21,"user_id":15223555,"display_name":"Feavy"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1660308264,"creation_date":1660307957,"answer_id":73334333,"question_id":68355159,"body_markdown":"I have found a way to access reactive panache entities but for some reason it only works 3 times and then the other calls fail because of timeout.\r\n\r\n```kt\r\n@ServerEndpoint(&quot;/websocket/{name}&quot;)\r\n@ApplicationScoped\r\nclass StartWebSocket(\r\n    val sessionFactory: SessionFactory\r\n) {\r\n\r\n    @OnOpen\r\n    fun onOpen(session: Session, @PathParam(&quot;name&quot;) name: String) {\r\n        sessionFactory.withSession { SimpleUser.findByName(name) }.subscribe().with{ println(&quot;Found: ${it?.username}&quot;) }\r\n   }\r\n}\r\n```","title":"How to access reactive Panache Entity Session Manager from a websocket endpoint? (Quarkus, Mutiny, Panache, Reactive)","body":"<p>I have found a way to access reactive panache entities but for some reason it only works 3 times and then the other calls fail because of timeout.</p>\n<pre><code>@ServerEndpoint(&quot;/websocket/{name}&quot;)\n@ApplicationScoped\nclass StartWebSocket(\n    val sessionFactory: SessionFactory\n) {\n\n    @OnOpen\n    fun onOpen(session: Session, @PathParam(&quot;name&quot;) name: String) {\n        sessionFactory.withSession { SimpleUser.findByName(name) }.subscribe().with{ println(&quot;Found: ${it?.username}&quot;) }\n   }\n}\n</code></pre>\n"}],"owner":{"account_id":10764067,"reputation":106,"user_id":10808187,"display_name":"chamoK"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1804,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1668690244,"creation_date":1626136167,"question_id":68355159,"body_markdown":"I am trying to build an example application where messages can be saved to a db, then when a websocket connects with the sessionId those messages are saved under, they are all sent out.\r\n\r\nHere is my code:\r\n\r\n```\r\nMessage.java\r\n---\r\npackage org.acme.hibernate.orm.panache;\r\n\r\nimport java.util.Date;\r\n\r\nimport javax.persistence.Cacheable;\r\nimport javax.persistence.Entity;\r\nimport io.quarkus.panache.common.Sort;\r\n\r\nimport io.quarkus.hibernate.reactive.panache.PanacheEntity;\r\nimport io.smallrye.mutiny.Multi;\r\n\r\n@Entity\r\n@Cacheable\r\npublic class Message extends PanacheEntity {\r\n\r\n  public String sessionId;\r\n  public String content;\r\n  public Date timestamp;\r\n\r\n  public Message() {\r\n    this.timestamp = new Date();\r\n  }\r\n\r\n  public Message(String content, String sessionId) {\r\n    this.content = content;\r\n    this.timestamp = new Date();\r\n    this.sessionId = sessionId;\r\n  }  \r\n\r\n  public static Multi&lt;Message&gt; getBySessionId(String sessionId) {\r\n    return stream(&quot;sessionId&quot;, Sort.by(&quot;timestamp&quot;), sessionId);\r\n  }\r\n\r\n}\r\n\r\n```\r\n```\r\nMessageResource.java\r\n---\r\npackage org.acme.hibernate.orm.panache;\r\n\r\nimport java.util.Date;\r\nimport java.util.List;\r\n\r\nimport static javax.ws.rs.core.Response.Status.CREATED;\r\n\r\nimport javax.inject.Inject;\r\nimport javax.transaction.Transactional;\r\nimport javax.ws.rs.Consumes;\r\nimport javax.ws.rs.GET;\r\nimport javax.ws.rs.POST;\r\nimport javax.ws.rs.Path;\r\nimport javax.ws.rs.PathParam;\r\nimport javax.ws.rs.Produces;\r\nimport javax.ws.rs.WebApplicationException;\r\nimport javax.ws.rs.core.MediaType;\r\nimport javax.ws.rs.core.Response;\r\nimport javax.ws.rs.ext.ExceptionMapper;\r\nimport javax.ws.rs.ext.Provider;\r\n\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\nimport com.fasterxml.jackson.databind.node.ObjectNode;\r\n\r\nimport io.quarkus.hibernate.reactive.panache.Panache;\r\nimport io.smallrye.mutiny.CompositeException;\r\nimport io.smallrye.mutiny.Multi;\r\nimport io.smallrye.mutiny.Uni;\r\n\r\n\r\n@Path(&quot;/message&quot;)\r\n@Produces(MediaType.APPLICATION_JSON)\r\n@Consumes(MediaType.APPLICATION_JSON)\r\npublic class MessageResource {\r\n  \r\n  @GET\r\n  public Uni&lt;List&lt;Message&gt;&gt; list() {\r\n    return Message.listAll();\r\n  }\r\n\r\n  @GET\r\n  @Path(&quot;/{sessionId}&quot;)\r\n  public Multi&lt;Message&gt; listBySessionId(@PathParam(&quot;sessionId&quot;) String sessionId) {\r\n    return Message.getBySessionId(sessionId);\r\n  }\r\n\r\n  @POST\r\n  @Transactional\r\n  public Uni&lt;Response&gt; create(Message message) {\r\n    message.timestamp = new Date();\r\n    message.persist();\r\n    return Panache.withTransaction(message::persist)\r\n      .replaceWith(Response.ok(message).status(CREATED)::build);\r\n  }\r\n\r\n\r\n  /**\r\n     * Create a HTTP response from an exception.\r\n     *\r\n     * Response Example:\r\n     *\r\n     * &lt;pre&gt;\r\n     * HTTP/1.1 422 Unprocessable Entity\r\n     * Content-Length: 111\r\n     * Content-Type: application/json\r\n     *\r\n     * {\r\n     *     &quot;code&quot;: 422,\r\n     *     &quot;error&quot;: &quot;Fruit name was not set on request.&quot;,\r\n     *     &quot;exceptionType&quot;: &quot;javax.ws.rs.WebApplicationException&quot;\r\n     * }\r\n     * &lt;/pre&gt;\r\n     */\r\n    @Provider\r\n    public static class ErrorMapper implements ExceptionMapper&lt;Exception&gt; {\r\n\r\n        @Inject\r\n        ObjectMapper objectMapper;\r\n\r\n        @Override\r\n        public Response toResponse(Exception exception) {\r\n\r\n            Throwable throwable = exception;\r\n\r\n            int code = 500;\r\n            if (throwable instanceof WebApplicationException) {\r\n                code = ((WebApplicationException) exception).getResponse().getStatus();\r\n            }\r\n\r\n            // This is a Mutiny exception and it happens, for example, when we try to insert a new\r\n            // fruit but the name is already in the database\r\n            if (throwable instanceof CompositeException) {\r\n                throwable = ((CompositeException) throwable).getCause();\r\n            }\r\n\r\n            ObjectNode exceptionJson = objectMapper.createObjectNode();\r\n            exceptionJson.put(&quot;exceptionType&quot;, throwable.getClass().getName());\r\n            exceptionJson.put(&quot;code&quot;, code);\r\n\r\n            if (exception.getMessage() != null) {\r\n                exceptionJson.put(&quot;error&quot;, throwable.getMessage());\r\n            }\r\n\r\n            return Response.status(code)\r\n                    .entity(exceptionJson)\r\n                    .build();\r\n        }\r\n      }\r\n}\r\n```\r\n```\r\nReplaySocket.java\r\n---\r\npackage org.acme.websockets;\r\n\r\nimport java.util.List;\r\nimport java.util.Map;\r\nimport java.util.concurrent.ConcurrentHashMap;\r\n\r\nimport io.quarkus.hibernate.reactive.panache.PanacheEntityBase;\r\nimport io.quarkus.panache.common.Sort;\r\n\r\nimport javax.enterprise.context.ApplicationScoped;\r\nimport javax.inject.Inject;\r\nimport javax.websocket.OnOpen;\r\nimport javax.websocket.Session;\r\nimport javax.websocket.server.PathParam;\r\nimport javax.websocket.server.ServerEndpoint;\r\n\r\nimport org.acme.hibernate.orm.panache.Message;\r\nimport org.acme.hibernate.orm.panache.MessageResource;\r\nimport org.jboss.logging.Logger;\r\n\r\nimport io.smallrye.mutiny.Multi;\r\nimport io.smallrye.mutiny.Uni;\r\n\r\n@ServerEndpoint(&quot;/replay/{sessionId}&quot;)         \r\n@ApplicationScoped\r\npublic class ReplaySocket {\r\n\r\n  @Inject\r\n  MessageResource messageResource;\r\n\r\n  private static final Logger LOG = Logger.getLogger(ReplaySocket.class.getName());\r\n  \r\n  Map&lt;String, Session&gt; sessions = new ConcurrentHashMap&lt;&gt;(); \r\n\r\n  @OnOpen\r\n    public void onOpen(Session session, @PathParam(&quot;sessionId&quot;) String sessionId) {\r\n        sessions.put(sessionId, session);\r\n        broadcast(&quot;Starting&quot;);\r\n        replayMessages(sessionId);\r\n    }\r\n\r\n    private void replayMessages(String sessionId) {\r\n      Multi&lt;Message&gt; messages = Message.stream(&quot;sessionId&quot;, Sort.by(&quot;timestamp&quot;), sessionId);\r\n\r\n      \r\n      messages.subscribe().with(\r\n        message -&gt; broadcast(message.content),\r\n        failure -&gt; System.out.println(failure)\r\n      );\r\n    }\r\n\r\n    private void broadcast(String message) {\r\n      sessions.values().forEach(s -&gt; {\r\n          s.getAsyncRemote().sendObject(message, result -&gt;  {\r\n              if (result.getException() != null) {\r\n                  System.out.println(&quot;Unable to send message: &quot; + result.getException());\r\n              }\r\n          });\r\n      });\r\n  }\r\n\r\n}\r\n```\r\n\r\nWhen I run this, I can save and get from the MessageResource endpoint. However when I try to get the messages in the websocket I get this error:\r\n\r\n```\r\n2021-07-13 10:23:57,016 ERROR [org.hib.rea.errors] (vert.x-eventloop-thread-8) failed to execute statement [select message0_.id as id1_0_, message0_.content as content2_0_, message0_.sessionId as sessioni3_0_, message0_.timestamp as timestam4_0_ from Message message0_ where message0_.sessionId=$1 order by message0_.timestamp]\r\n2021-07-13 10:23:57,017 ERROR [org.hib.rea.errors] (vert.x-eventloop-thread-8) could not execute query: java.util.concurrent.CompletionException: java.lang.IllegalStateException: Session/EntityManager is closed\r\n\tat java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:314)\r\n\tat java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:319)\r\n\tat java.base/java.util.concurrent.CompletableFuture$UniCompose.tryFire(CompletableFuture.java:1081)\r\n\tat java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)\r\n\tat java.base/java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:2073)\r\n\tat io.vertx.core.Future.lambda$toCompletionStage$2(Future.java:360)\r\n\tat io.vertx.core.Future$$Lambda$889/0x0000000000000000.handle(Unknown Source)\r\n\tat io.vertx.core.impl.future.FutureImpl$3.onSuccess(FutureImpl.java:124)\r\n\tat io.vertx.core.impl.future.FutureBase.emitSuccess(FutureBase.java:62)\r\n\tat io.vertx.core.impl.future.FutureImpl.tryComplete(FutureImpl.java:179)\r\n\tat io.vertx.core.impl.future.PromiseImpl.tryComplete(PromiseImpl.java:23)\r\n\tat io.vertx.sqlclient.impl.QueryResultBuilder.tryComplete(QueryResultBuilder.java:102)\r\n\tat io.vertx.sqlclient.impl.QueryResultBuilder.tryComplete(QueryResultBuilder.java:35)\r\n\tat io.vertx.core.Promise.complete(Promise.java:66)\r\n\tat io.vertx.core.Promise.handle(Promise.java:51)\r\n\tat io.vertx.core.Promise.handle(Promise.java:29)\r\n\tat io.vertx.core.impl.future.FutureImpl$3.onSuccess(FutureImpl.java:124)\r\n\tat io.vertx.core.impl.future.FutureBase.lambda$emitSuccess$0(FutureBase.java:54)\r\n\tat io.vertx.core.impl.future.FutureBase$$Lambda$625/0x0000000000000000.run(Unknown Source)\r\n\tat io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:164)\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472)\r\n\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:500)\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\r\n\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n\tat java.base/java.lang.Thread.run(Thread.java:836)\r\nCaused by: java.lang.IllegalStateException: Session/EntityManager is closed\r\n\tat org.hibernate.internal.AbstractSharedSessionContract.checkOpen(AbstractSharedSessionContract.java:393)\r\n\tat org.hibernate.engine.spi.SharedSessionContractImplementor.checkOpen(SharedSessionContractImplementor.java:148)\r\n\tat org.hibernate.reactive.session.impl.ReactiveSessionImpl.checkOpen(ReactiveSessionImpl.java:1561)\r\n\tat org.hibernate.internal.AbstractSharedSessionContract.checkOpenOrWaitingForAutoClose(AbstractSharedSessionContract.java:399)\r\n\tat org.hibernate.internal.SessionImpl.getEntityUsingInterceptor(SessionImpl.java:592)\r\n\tat org.hibernate.loader.Loader.getRow(Loader.java:1609)\r\n\tat org.hibernate.loader.Loader.getRowFromResultSet(Loader.java:747)\r\n\tat org.hibernate.loader.Loader.getRowsFromResultSet(Loader.java:1046)\r\n\tat org.hibernate.reactive.loader.hql.impl.ReactiveQueryLoader.getRowsFromResultSet(ReactiveQueryLoader.java:223)\r\n\tat org.hibernate.reactive.loader.ReactiveLoaderBasedResultSetProcessor.reactiveExtractResults(ReactiveLoaderBasedResultSetProcessor.java:72)\r\n\tat org.hibernate.reactive.loader.hql.impl.ReactiveQueryLoader$1.reactiveExtractResults(ReactiveQueryLoader.java:72)\r\n\tat org.hibernate.reactive.loader.ReactiveLoader.reactiveProcessResultSet(ReactiveLoader.java:146)\r\n\tat org.hibernate.reactive.loader.ReactiveLoader.lambda$doReactiveQueryAndInitializeNonLazyCollections$0(ReactiveLoader.java:77)\r\n\tat org.hibernate.reactive.loader.ReactiveLoader$$Lambda$1220/0x0000000000000000.apply(Unknown Source)\r\n\tat java.base/java.util.concurrent.CompletableFuture$UniCompose.tryFire(CompletableFuture.java:1072)\r\n\t... 23 more\r\n\r\njava.lang.IllegalStateException: Session/EntityManager is closed\r\n```\r\n\r\nWhere am I going wrong? Is what I am trying to do not valid at all? If so, could you recommend something different?\r\n\r\nThanks!","title":"How to access reactive Panache Entity Session Manager from a websocket endpoint? (Quarkus, Mutiny, Panache, Reactive)","body":"<p>I am trying to build an example application where messages can be saved to a db, then when a websocket connects with the sessionId those messages are saved under, they are all sent out.</p>\n<p>Here is my code:</p>\n<pre><code>Message.java\n---\npackage org.acme.hibernate.orm.panache;\n\nimport java.util.Date;\n\nimport javax.persistence.Cacheable;\nimport javax.persistence.Entity;\nimport io.quarkus.panache.common.Sort;\n\nimport io.quarkus.hibernate.reactive.panache.PanacheEntity;\nimport io.smallrye.mutiny.Multi;\n\n@Entity\n@Cacheable\npublic class Message extends PanacheEntity {\n\n  public String sessionId;\n  public String content;\n  public Date timestamp;\n\n  public Message() {\n    this.timestamp = new Date();\n  }\n\n  public Message(String content, String sessionId) {\n    this.content = content;\n    this.timestamp = new Date();\n    this.sessionId = sessionId;\n  }  \n\n  public static Multi&lt;Message&gt; getBySessionId(String sessionId) {\n    return stream(&quot;sessionId&quot;, Sort.by(&quot;timestamp&quot;), sessionId);\n  }\n\n}\n\n</code></pre>\n<pre><code>MessageResource.java\n---\npackage org.acme.hibernate.orm.panache;\n\nimport java.util.Date;\nimport java.util.List;\n\nimport static javax.ws.rs.core.Response.Status.CREATED;\n\nimport javax.inject.Inject;\nimport javax.transaction.Transactional;\nimport javax.ws.rs.Consumes;\nimport javax.ws.rs.GET;\nimport javax.ws.rs.POST;\nimport javax.ws.rs.Path;\nimport javax.ws.rs.PathParam;\nimport javax.ws.rs.Produces;\nimport javax.ws.rs.WebApplicationException;\nimport javax.ws.rs.core.MediaType;\nimport javax.ws.rs.core.Response;\nimport javax.ws.rs.ext.ExceptionMapper;\nimport javax.ws.rs.ext.Provider;\n\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.databind.node.ObjectNode;\n\nimport io.quarkus.hibernate.reactive.panache.Panache;\nimport io.smallrye.mutiny.CompositeException;\nimport io.smallrye.mutiny.Multi;\nimport io.smallrye.mutiny.Uni;\n\n\n@Path(&quot;/message&quot;)\n@Produces(MediaType.APPLICATION_JSON)\n@Consumes(MediaType.APPLICATION_JSON)\npublic class MessageResource {\n  \n  @GET\n  public Uni&lt;List&lt;Message&gt;&gt; list() {\n    return Message.listAll();\n  }\n\n  @GET\n  @Path(&quot;/{sessionId}&quot;)\n  public Multi&lt;Message&gt; listBySessionId(@PathParam(&quot;sessionId&quot;) String sessionId) {\n    return Message.getBySessionId(sessionId);\n  }\n\n  @POST\n  @Transactional\n  public Uni&lt;Response&gt; create(Message message) {\n    message.timestamp = new Date();\n    message.persist();\n    return Panache.withTransaction(message::persist)\n      .replaceWith(Response.ok(message).status(CREATED)::build);\n  }\n\n\n  /**\n     * Create a HTTP response from an exception.\n     *\n     * Response Example:\n     *\n     * &lt;pre&gt;\n     * HTTP/1.1 422 Unprocessable Entity\n     * Content-Length: 111\n     * Content-Type: application/json\n     *\n     * {\n     *     &quot;code&quot;: 422,\n     *     &quot;error&quot;: &quot;Fruit name was not set on request.&quot;,\n     *     &quot;exceptionType&quot;: &quot;javax.ws.rs.WebApplicationException&quot;\n     * }\n     * &lt;/pre&gt;\n     */\n    @Provider\n    public static class ErrorMapper implements ExceptionMapper&lt;Exception&gt; {\n\n        @Inject\n        ObjectMapper objectMapper;\n\n        @Override\n        public Response toResponse(Exception exception) {\n\n            Throwable throwable = exception;\n\n            int code = 500;\n            if (throwable instanceof WebApplicationException) {\n                code = ((WebApplicationException) exception).getResponse().getStatus();\n            }\n\n            // This is a Mutiny exception and it happens, for example, when we try to insert a new\n            // fruit but the name is already in the database\n            if (throwable instanceof CompositeException) {\n                throwable = ((CompositeException) throwable).getCause();\n            }\n\n            ObjectNode exceptionJson = objectMapper.createObjectNode();\n            exceptionJson.put(&quot;exceptionType&quot;, throwable.getClass().getName());\n            exceptionJson.put(&quot;code&quot;, code);\n\n            if (exception.getMessage() != null) {\n                exceptionJson.put(&quot;error&quot;, throwable.getMessage());\n            }\n\n            return Response.status(code)\n                    .entity(exceptionJson)\n                    .build();\n        }\n      }\n}\n</code></pre>\n<pre><code>ReplaySocket.java\n---\npackage org.acme.websockets;\n\nimport java.util.List;\nimport java.util.Map;\nimport java.util.concurrent.ConcurrentHashMap;\n\nimport io.quarkus.hibernate.reactive.panache.PanacheEntityBase;\nimport io.quarkus.panache.common.Sort;\n\nimport javax.enterprise.context.ApplicationScoped;\nimport javax.inject.Inject;\nimport javax.websocket.OnOpen;\nimport javax.websocket.Session;\nimport javax.websocket.server.PathParam;\nimport javax.websocket.server.ServerEndpoint;\n\nimport org.acme.hibernate.orm.panache.Message;\nimport org.acme.hibernate.orm.panache.MessageResource;\nimport org.jboss.logging.Logger;\n\nimport io.smallrye.mutiny.Multi;\nimport io.smallrye.mutiny.Uni;\n\n@ServerEndpoint(&quot;/replay/{sessionId}&quot;)         \n@ApplicationScoped\npublic class ReplaySocket {\n\n  @Inject\n  MessageResource messageResource;\n\n  private static final Logger LOG = Logger.getLogger(ReplaySocket.class.getName());\n  \n  Map&lt;String, Session&gt; sessions = new ConcurrentHashMap&lt;&gt;(); \n\n  @OnOpen\n    public void onOpen(Session session, @PathParam(&quot;sessionId&quot;) String sessionId) {\n        sessions.put(sessionId, session);\n        broadcast(&quot;Starting&quot;);\n        replayMessages(sessionId);\n    }\n\n    private void replayMessages(String sessionId) {\n      Multi&lt;Message&gt; messages = Message.stream(&quot;sessionId&quot;, Sort.by(&quot;timestamp&quot;), sessionId);\n\n      \n      messages.subscribe().with(\n        message -&gt; broadcast(message.content),\n        failure -&gt; System.out.println(failure)\n      );\n    }\n\n    private void broadcast(String message) {\n      sessions.values().forEach(s -&gt; {\n          s.getAsyncRemote().sendObject(message, result -&gt;  {\n              if (result.getException() != null) {\n                  System.out.println(&quot;Unable to send message: &quot; + result.getException());\n              }\n          });\n      });\n  }\n\n}\n</code></pre>\n<p>When I run this, I can save and get from the MessageResource endpoint. However when I try to get the messages in the websocket I get this error:</p>\n<pre><code>2021-07-13 10:23:57,016 ERROR [org.hib.rea.errors] (vert.x-eventloop-thread-8) failed to execute statement [select message0_.id as id1_0_, message0_.content as content2_0_, message0_.sessionId as sessioni3_0_, message0_.timestamp as timestam4_0_ from Message message0_ where message0_.sessionId=$1 order by message0_.timestamp]\n2021-07-13 10:23:57,017 ERROR [org.hib.rea.errors] (vert.x-eventloop-thread-8) could not execute query: java.util.concurrent.CompletionException: java.lang.IllegalStateException: Session/EntityManager is closed\n    at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:314)\n    at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:319)\n    at java.base/java.util.concurrent.CompletableFuture$UniCompose.tryFire(CompletableFuture.java:1081)\n    at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)\n    at java.base/java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:2073)\n    at io.vertx.core.Future.lambda$toCompletionStage$2(Future.java:360)\n    at io.vertx.core.Future$$Lambda$889/0x0000000000000000.handle(Unknown Source)\n    at io.vertx.core.impl.future.FutureImpl$3.onSuccess(FutureImpl.java:124)\n    at io.vertx.core.impl.future.FutureBase.emitSuccess(FutureBase.java:62)\n    at io.vertx.core.impl.future.FutureImpl.tryComplete(FutureImpl.java:179)\n    at io.vertx.core.impl.future.PromiseImpl.tryComplete(PromiseImpl.java:23)\n    at io.vertx.sqlclient.impl.QueryResultBuilder.tryComplete(QueryResultBuilder.java:102)\n    at io.vertx.sqlclient.impl.QueryResultBuilder.tryComplete(QueryResultBuilder.java:35)\n    at io.vertx.core.Promise.complete(Promise.java:66)\n    at io.vertx.core.Promise.handle(Promise.java:51)\n    at io.vertx.core.Promise.handle(Promise.java:29)\n    at io.vertx.core.impl.future.FutureImpl$3.onSuccess(FutureImpl.java:124)\n    at io.vertx.core.impl.future.FutureBase.lambda$emitSuccess$0(FutureBase.java:54)\n    at io.vertx.core.impl.future.FutureBase$$Lambda$625/0x0000000000000000.run(Unknown Source)\n    at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:164)\n    at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472)\n    at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:500)\n    at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n    at java.base/java.lang.Thread.run(Thread.java:836)\nCaused by: java.lang.IllegalStateException: Session/EntityManager is closed\n    at org.hibernate.internal.AbstractSharedSessionContract.checkOpen(AbstractSharedSessionContract.java:393)\n    at org.hibernate.engine.spi.SharedSessionContractImplementor.checkOpen(SharedSessionContractImplementor.java:148)\n    at org.hibernate.reactive.session.impl.ReactiveSessionImpl.checkOpen(ReactiveSessionImpl.java:1561)\n    at org.hibernate.internal.AbstractSharedSessionContract.checkOpenOrWaitingForAutoClose(AbstractSharedSessionContract.java:399)\n    at org.hibernate.internal.SessionImpl.getEntityUsingInterceptor(SessionImpl.java:592)\n    at org.hibernate.loader.Loader.getRow(Loader.java:1609)\n    at org.hibernate.loader.Loader.getRowFromResultSet(Loader.java:747)\n    at org.hibernate.loader.Loader.getRowsFromResultSet(Loader.java:1046)\n    at org.hibernate.reactive.loader.hql.impl.ReactiveQueryLoader.getRowsFromResultSet(ReactiveQueryLoader.java:223)\n    at org.hibernate.reactive.loader.ReactiveLoaderBasedResultSetProcessor.reactiveExtractResults(ReactiveLoaderBasedResultSetProcessor.java:72)\n    at org.hibernate.reactive.loader.hql.impl.ReactiveQueryLoader$1.reactiveExtractResults(ReactiveQueryLoader.java:72)\n    at org.hibernate.reactive.loader.ReactiveLoader.reactiveProcessResultSet(ReactiveLoader.java:146)\n    at org.hibernate.reactive.loader.ReactiveLoader.lambda$doReactiveQueryAndInitializeNonLazyCollections$0(ReactiveLoader.java:77)\n    at org.hibernate.reactive.loader.ReactiveLoader$$Lambda$1220/0x0000000000000000.apply(Unknown Source)\n    at java.base/java.util.concurrent.CompletableFuture$UniCompose.tryFire(CompletableFuture.java:1072)\n    ... 23 more\n\njava.lang.IllegalStateException: Session/EntityManager is closed\n</code></pre>\n<p>Where am I going wrong? Is what I am trying to do not valid at all? If so, could you recommend something different?</p>\n<p>Thanks!</p>\n"},{"tags":["java","swing","jtable","jscrollbar"],"comments":[{"owner":{"account_id":4098457,"reputation":5168,"user_id":3364618,"accept_rate":100,"display_name":"Juxhin"},"score":0,"creation_date":1410082911,"post_id":25708734,"comment_id":40186861,"body_markdown":"You could also just implement a custom `Look and Feel` for it. Haven&#39;t come across that issue before","body":"You could also just implement a custom <code>Look and Feel</code> for it. Haven&#39;t come across that issue before"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1410085057,"post_id":25708734,"comment_id":40187328,"body_markdown":"It&#39;s called a corner...take a look at [JScrollPane](http://docs.oracle.com/javase/7/docs/api/javax/swing/JScrollPane.html)","body":"It&#39;s called a corner...take a look at <a href=\"http://docs.oracle.com/javase/7/docs/api/javax/swing/JScrollPane.html\" rel=\"nofollow noreferrer\">JScrollPane</a>"},{"owner":{"account_id":4436791,"reputation":860,"user_id":3612435,"accept_rate":71,"display_name":"Danielle"},"score":0,"creation_date":1410091040,"post_id":25708734,"comment_id":40188669,"body_markdown":"setCorner() helped, thanks!","body":"setCorner() helped, thanks!"}],"answers":[{"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1668689820,"creation_date":1410106779,"answer_id":25712331,"question_id":25708734,"body_markdown":"As shown in [*How to Use Scroll Panes: Providing Custom Decorations*][1], you can use the scroll pane&#39;s `setCorner()` method to add a colored `Component`:\r\n\r\n    JPanel panel = new JPanel();\r\n    panel.setBackground(Color.gray);\r\n    scrollPane.setCorner(JScrollPane.UPPER_RIGHT_CORNER, panel);\r\n\r\nYou may have to set the panel&#39;s [opacity][2] to `true`, and you may want to select a suitable color from the the current Look &amp; Feel using the [`UIManager`][3].\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/uiswing/components/scrollpane.html#decorations\r\n  [2]: http://www.oracle.com/technetwork/java/painting-140037.html#props\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/UIManager.html","title":"swing JTable with ScrollBar - color of square between headers and track","body":"<p>As shown in <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/components/scrollpane.html#decorations\" rel=\"nofollow noreferrer\"><em>How to Use Scroll Panes: Providing Custom Decorations</em></a>, you can use the scroll pane's <code>setCorner()</code> method to add a colored <code>Component</code>:</p>\n<pre><code>JPanel panel = new JPanel();\npanel.setBackground(Color.gray);\nscrollPane.setCorner(JScrollPane.UPPER_RIGHT_CORNER, panel);\n</code></pre>\n<p>You may have to set the panel's <a href=\"http://www.oracle.com/technetwork/java/painting-140037.html#props\" rel=\"nofollow noreferrer\">opacity</a> to <code>true</code>, and you may want to select a suitable color from the the current Look &amp; Feel using the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/UIManager.html\" rel=\"nofollow noreferrer\"><code>UIManager</code></a>.</p>\n"}],"owner":{"account_id":4436791,"reputation":860,"user_id":3612435,"accept_rate":71,"display_name":"Danielle"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1345,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":25712331,"answer_count":1,"score":2,"last_activity_date":1668689820,"creation_date":1410081515,"question_id":25708734,"body_markdown":"![enter image description here][1]\r\n\r\n\r\nI have a JTable with BasicScrollBarUI, I set the headers background color: table.getTableHeader().setBackground(GuiConstants.backgroundColor);\r\n\r\nand the scrolbar background color:\r\npublic class ScrollBarUI extends BasicScrollBarUI {\r\n\r\n\t\r\n    @Override\r\n    protected void paintTrack(Graphics g, JComponent c, Rectangle trackBounds) {\r\n    \tc.setBackground(GuiConstants.backgroundColor);\r\n    \t\r\n    }\r\n}\r\n\r\nI still have a square between them that its color won&#39;t change.\r\ndoes anybody knows how to change it also to their color?\r\n\r\nthanks\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/zNXXh.png","title":"swing JTable with ScrollBar - color of square between headers and track","body":"<p><img src=\"https://i.stack.imgur.com/zNXXh.png\" alt=\"enter image description here\"></p>\n\n<p>I have a JTable with BasicScrollBarUI, I set the headers background color: table.getTableHeader().setBackground(GuiConstants.backgroundColor);</p>\n\n<p>and the scrolbar background color:\npublic class ScrollBarUI extends BasicScrollBarUI {</p>\n\n<pre><code>@Override\nprotected void paintTrack(Graphics g, JComponent c, Rectangle trackBounds) {\n    c.setBackground(GuiConstants.backgroundColor);\n\n}\n</code></pre>\n\n<p>}</p>\n\n<p>I still have a square between them that its color won't change.\ndoes anybody knows how to change it also to their color?</p>\n\n<p>thanks</p>\n"},{"tags":["java","android","retrofit2","google-maps-markers","google-maps-android-api-2"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1668689361,"post_id":74475697,"comment_id":131470038,"body_markdown":"and how do you expect to do so without connectivity?","body":"and how do you expect to do so without connectivity?"},{"owner":{"account_id":20655059,"reputation":15,"user_id":20477244,"display_name":"Leyoussi Lauriel"},"score":0,"creation_date":1668689604,"post_id":74475697,"comment_id":131470147,"body_markdown":"@Stultuske i would like my app to close with toast message not by crashing. but i do not know wher to put myConnectivityManager code.","body":"@Stultuske i would like my app to close with toast message not by crashing. but i do not know wher to put myConnectivityManager code."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1668689706,"post_id":74475697,"comment_id":131470189,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"answers":[{"tags":[],"owner":{"display_name":"user15660680"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668689593,"creation_date":1668689593,"answer_id":74475797,"question_id":74475697,"body_markdown":"For the crashing issue \r\n create a class\r\n````\r\n\r\npublic class NetWorkChecker {\r\n    static NetworkInfo wifi, mobile;\r\n\r\n    public static Boolean check(Context c) {\r\n\r\n        ConnectivityManager cm = (ConnectivityManager) c.getSystemService(Context.CONNECTIVITY_SERVICE);\r\n        try {\r\n            wifi = cm.getNetworkInfo(ConnectivityManager.TYPE_WIFI);\r\n            mobile = cm.getNetworkInfo(ConnectivityManager.TYPE_MOBILE);\r\n\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        if (wifi != null &amp;&amp; wifi.isConnected() &amp;&amp; wifi.isAvailable()) {\r\n\r\n            return true;\r\n        } else if (mobile != null &amp;&amp; mobile.isAvailable() &amp;&amp; mobile.isConnected()) {\r\n\r\n            return true;\r\n        } else {\r\n            //Toast.makeText(c, &quot;No Network Connection&quot;, Toast.LENGTH_SHORT).show();\r\n           // ((Activity) c).finish();\r\n            displayMobileDataSettingsDialog(c,&quot;No Network Connection&quot;,&quot;No Network Connection&quot;);\r\n            return false;\r\n        }\r\n\r\n    }\r\n\r\n    public static AlertDialog displayMobileDataSettingsDialog(final Context context, String title, String message) {\r\n        AlertDialog.Builder builder = new AlertDialog.Builder(context);\r\n        builder.setTitle(title);\r\n        builder.setMessage(message);\r\n        builder.setCancelable(false);\r\n        builder.setPositiveButton(&quot;Settings&quot;, new DialogInterface.OnClickListener() {\r\n            @Override\r\n            public void onClick(DialogInterface dialog, int which) {\r\n                Intent intent = new Intent(Settings.ACTION_DATA_ROAMING_SETTINGS);\r\n                context.startActivity(intent);\r\n            }\r\n        });\r\n\r\n        builder.show();\r\n        return builder.create();\r\n    }\r\n\r\n}\r\n\r\n````\r\nto check if the devise have an active internet connection \r\ncall\r\n````\r\nif (!NetWorkChecker.check(this)){\r\n\r\n////do your refres\r\n\r\n}\r\n\r\n\r\n\r\n````","title":"my app is crashing when there is no internet and i want my markers or my map to refresh each second","body":"<p>For the crashing issue\ncreate a class</p>\n<pre><code>\npublic class NetWorkChecker {\n    static NetworkInfo wifi, mobile;\n\n    public static Boolean check(Context c) {\n\n        ConnectivityManager cm = (ConnectivityManager) c.getSystemService(Context.CONNECTIVITY_SERVICE);\n        try {\n            wifi = cm.getNetworkInfo(ConnectivityManager.TYPE_WIFI);\n            mobile = cm.getNetworkInfo(ConnectivityManager.TYPE_MOBILE);\n\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        if (wifi != null &amp;&amp; wifi.isConnected() &amp;&amp; wifi.isAvailable()) {\n\n            return true;\n        } else if (mobile != null &amp;&amp; mobile.isAvailable() &amp;&amp; mobile.isConnected()) {\n\n            return true;\n        } else {\n            //Toast.makeText(c, &quot;No Network Connection&quot;, Toast.LENGTH_SHORT).show();\n           // ((Activity) c).finish();\n            displayMobileDataSettingsDialog(c,&quot;No Network Connection&quot;,&quot;No Network Connection&quot;);\n            return false;\n        }\n\n    }\n\n    public static AlertDialog displayMobileDataSettingsDialog(final Context context, String title, String message) {\n        AlertDialog.Builder builder = new AlertDialog.Builder(context);\n        builder.setTitle(title);\n        builder.setMessage(message);\n        builder.setCancelable(false);\n        builder.setPositiveButton(&quot;Settings&quot;, new DialogInterface.OnClickListener() {\n            @Override\n            public void onClick(DialogInterface dialog, int which) {\n                Intent intent = new Intent(Settings.ACTION_DATA_ROAMING_SETTINGS);\n                context.startActivity(intent);\n            }\n        });\n\n        builder.show();\n        return builder.create();\n    }\n\n}\n\n</code></pre>\n<p>to check if the devise have an active internet connection\ncall</p>\n<pre><code>if (!NetWorkChecker.check(this)){\n\n////do your refres\n\n}\n\n\n\n</code></pre>\n"}],"owner":{"account_id":20655059,"reputation":15,"user_id":20477244,"display_name":"Leyoussi Lauriel"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74475797,"answer_count":1,"score":-1,"last_activity_date":1668689755,"creation_date":1668689099,"question_id":74475697,"body_markdown":"i made a googlemap app where my markers are displyed.\r\nthe problem is when there no internet, the app is crashing. The code under onResume does not solve the problem.\r\nalso i want to refresh the map or markers each second on the map.\r\n if you have any ideas please i am here to learn from all of you.\r\n\r\nhere is my MapActivity code :\r\n\r\n\r\n```\r\npublic class MapActivity extends AppCompatActivity implements OnMapReadyCallback\r\n{\r\n    private static final String TAG = &quot;MapActivity&quot;;\r\n    @Bind(R.id.back)\r\n    View back;\r\n    @Bind(R.id.zoom_in)\r\n    View zoom_in;\r\n    @Bind(R.id.zoom_out)\r\n    View zoom_out;\r\n    @Bind(R.id.updatetimer)\r\n    TextView updatetimer;\r\n    @Bind(R.id.autozoom)\r\n    ImageView autozoom;\r\n    @Bind(R.id.showtails)\r\n    ImageView showtails;\r\n    @Bind(R.id.geofences)\r\n    ImageView showGeofences;\r\n    @Bind(R.id.map_layer)\r\n    ImageView map_layer_icon;\r\n    private GoogleMap map;\r\n\r\n    @Bind(R.id.content_layout)\r\n    View content_layout;\r\n    @Bind(R.id.loading_layout)\r\n    View loading_layout;\r\n    @Bind(R.id.nodata_layout)\r\n    View nodata_layout;\r\n    private Timer timer;\r\n    private int autoZoomedTimes = 0;// dl bugo osmdroid library, zoom&#39;inam du kartus ir paskui po refresh&#39;o nebe, nes greiiausiai user&#39;is bus pakeits zoom&#39;\r\n\r\n    private HashMap&lt;Integer, Marker&gt; deviceIdMarkers;\r\n    private HashMap&lt;String, Device&gt; markerIdDevices;\r\n    private HashMap&lt;Integer, Polyline&gt; deviceIdPolyline;\r\n    private HashMap&lt;Integer, LatLng&gt; deviceIdLastLatLng;\r\n    //    private HashMap&lt;Integer, Marker&gt; deviceIdSmallMarkerInfo;\r\n    private long lastRefreshTime;\r\n    boolean isAutoZoomEnabled = true;\r\n    boolean isShowTitlesEnabled;\r\n    boolean isShowTailsEnabled = true;\r\n    boolean isShowGeofencesEnabled = true;\r\n    private String stopTime;\r\n    private AsyncTask downloadingAsync;\r\n\r\n    private boolean isRefreshLoced = false;\r\n\r\n    ApiInterface.GetGeofencesResult geofencesResult;\r\n    ArrayList&lt;PolygonWithName&gt; polygonsWithDetails = new ArrayList&lt;&gt;();\r\n    float previousZoomLevel = 0;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState)\r\n    {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_map);\r\n        ButterKnife.bind(this);\r\n        deviceIdMarkers = new HashMap&lt;&gt;();\r\n        markerIdDevices = new HashMap&lt;&gt;();\r\n        deviceIdPolyline = new HashMap&lt;&gt;();\r\n        deviceIdLastLatLng = new HashMap&lt;&gt;();\r\n        //        deviceIdSmallMarkerInfo = new HashMap&lt;&gt;();\r\n\r\n       \r\n\r\n        SupportMapFragment mapFragment = (SupportMapFragment) getSupportFragmentManager()\r\n                .findFragmentById(R.id.map);\r\n        mapFragment.getMapAsync(this);\r\n    }\r\n\r\n    @Override\r\n    protected void onResume()\r\n    {\r\n        super.onResume();\r\n        timer = new Timer();\r\n        timer.schedule(new TimerTask()\r\n        {\r\n            @Override\r\n            public void run()\r\n            {\r\n                runOnUiThread(new Runnable()\r\n                {\r\n                    @Override\r\n                    public void run()\r\n                    {\r\n                        float timeleft = 10 - Math.round(System.currentTimeMillis() - lastRefreshTime) / 1000f;\r\n                        if (timeleft &lt; 0)\r\n                            timeleft = 0;\r\n                        updatetimer.setText(String.format(&quot;%.0f&quot;, timeleft));\r\n                        if (System.currentTimeMillis() - lastRefreshTime &gt;= 10 * 1000)\r\n                            if (map != null)\r\n                                refresh();\r\n                    }\r\n                });\r\n            }\r\n        }, 0, 1000);\r\n    }\r\n\r\n    @Override\r\n    protected void onPause()\r\n    {\r\n        super.onPause();\r\n        try\r\n        {\r\n            timer.cancel();\r\n            timer.purge();\r\n            downloadingAsync.cancel(true);\r\n        } catch (Exception e)\r\n        {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    private void refresh()\r\n    {\r\n        if (isRefreshLoced)\r\n            return;\r\n        isRefreshLoced = true;\r\n        lastRefreshTime = System.currentTimeMillis();\r\n        final String api_key = (String) DataSaver.getInstance(this).load(&quot;api_key&quot;);\r\n        API.getApiInterface(this).getDevices(api_key, getResources().getString(R.string.lang), new Callback&lt;ArrayList&lt;ApiInterface.GetDevicesItem&gt;&gt;()\r\n        {\r\n            @Override\r\n            public void success(final ArrayList&lt;ApiInterface.GetDevicesItem&gt; getDevicesItems, Response response)\r\n            {\r\n                Log.d(TAG, &quot;success: loaded devices array&quot;);\r\n                final ArrayList&lt;Device&gt; allDevices = new ArrayList&lt;&gt;();\r\n                if (getDevicesItems != null)\r\n                    for (ApiInterface.GetDevicesItem item : getDevicesItems)\r\n                        allDevices.addAll(item.items);\r\n                API.getApiInterface(MapActivity.this).getFieldsDataForEditing(api_key, getResources().getString(R.string.lang), 1, new Callback&lt;ApiInterface.GetFieldsDataForEditingResult&gt;()\r\n                {\r\n                    @Override\r\n                    public void success(final ApiInterface.GetFieldsDataForEditingResult getFieldsDataForEditingResult, Response response)\r\n                    {\r\n                        Log.d(TAG, &quot;success: loaded icons&quot;);\r\n                        downloadingAsync = new AsyncTask&lt;Void, Void, Void&gt;()\r\n                        {\r\n                            ArrayList&lt;MarkerOptions&gt; markers;\r\n                            ArrayList&lt;Integer&gt; deviceIds;\r\n\r\n                            @Override\r\n                            protected Void doInBackground(Void... params)\r\n                            {\r\n                                // add markers\r\n                                int dp100 = Utils.dpToPx(MapActivity.this, 50);\r\n                                markers = new ArrayList&lt;&gt;();\r\n                                deviceIds = new ArrayList&lt;&gt;();\r\n                                if (getFieldsDataForEditingResult == null || getFieldsDataForEditingResult.device_icons == null)\r\n                                    return null;\r\n                                for (Device item : allDevices)\r\n                                {\r\n                                    if (isCancelled())\r\n                                        break;\r\n                                    if (item.device_data.active == 1)\r\n                                    {\r\n                                        // iekom ikonos masyve\r\n                                        DeviceIcon mapIcon = null;\r\n                                        for (DeviceIcon icon : getFieldsDataForEditingResult.device_icons)\r\n                                            if (item.device_data.icon_id == icon.id)\r\n                                                mapIcon = icon;\r\n\r\n                                        String server_base = (String) DataSaver.getInstance(MapActivity.this).load(&quot;server_base&quot;);\r\n\r\n                                        try\r\n                                        {\r\n                                            Log.d(&quot;MapActivity&quot;, &quot;DOWNLOADING BITMAP: &quot; + server_base + mapIcon.path);\r\n                                            Bitmap bmp = BitmapFactory.decodeStream(new URL(server_base + mapIcon.path).openConnection().getInputStream());\r\n\r\n                                            int srcWidth = bmp.getWidth();\r\n                                            int srcHeight = bmp.getHeight();\r\n\r\n                                            int maxWidth = Utils.dpToPx(MapActivity.this, mapIcon.width);\r\n                                            int maxHeight = Utils.dpToPx(MapActivity.this, mapIcon.height);\r\n\r\n                                            float ratio = Math.min((float) maxWidth / (float) srcWidth, (float) maxHeight / (float) srcHeight);\r\n                                            int dstWidth = (int) (srcWidth * ratio);\r\n                                            int dstHeight = (int) (srcHeight * ratio);\r\n\r\n                                            bmp = bmp.createScaledBitmap(bmp, dp100, dp100, true);\r\n\r\n                                            // marker\r\n\r\n                                            MarkerOptions m = new MarkerOptions();\r\n                                            m.position(new LatLng(item.lat, item.lng));\r\n                                            //                                            marker.setAnchor(Marker.ANCHOR_CENTER, Marker.ANCHOR_BOTTOM);\r\n                                            //                                            marker.setIcon(new BitmapDrawable(getResources(), Bitmap.createScaledBitmap(bmp, dstWidth, dstHeight, true)));\r\n                                            m.icon(BitmapDescriptorFactory.fromBitmap(Bitmap.createScaledBitmap(bmp, dstWidth, dstHeight, true)));\r\n\r\n                                            // info window\r\n                                            //                                            MapMarkerInfoWindow infoWindow = new MapMarkerInfoWindow(MapActivity.this, item, R.layout.layout_map_infowindow, map);\r\n                                            //                                            marker.setInfoWindow(infoWindow);\r\n\r\n                                            markers.add(m);\r\n                                            deviceIds.add(item.id);\r\n                                        } catch (OutOfMemoryError outOfMemoryError)\r\n                                        {\r\n                                            Toast.makeText(MapActivity.this, &quot;Out of memory! Too many devices are selected to be displayed&quot;, Toast.LENGTH_LONG).show();\r\n                                        } catch (Exception e)\r\n                                        {\r\n                                            e.printStackTrace();\r\n                                        }\r\n                                    }\r\n                                }\r\n                                return null;\r\n                            }\r\n\r\n                            @Override\r\n                            protected void onPostExecute(Void aVoid)\r\n                            {\r\n                                ArrayList&lt;GeoPoint&gt; points = new ArrayList&lt;&gt;();\r\n\r\n                                if (autoZoomedTimes &lt; 1)\r\n                                {\r\n                                    new Handler().postDelayed(new Runnable()\r\n                                    {\r\n                                        @Override\r\n                                        public void run()\r\n                                        {\r\n                                            runOnUiThread(new Runnable()\r\n                                            {\r\n                                                @Override\r\n                                                public void run()\r\n                                                {\r\n                                                    if (markers.size() &gt; 1)\r\n                                                    {\r\n                                                        try\r\n                                                        {\r\n                                                            LatLngBounds.Builder builder = new LatLngBounds.Builder();\r\n                                                            for (MarkerOptions item : markers)\r\n                                                                builder.include(item.getPosition());\r\n                                                            LatLngBounds bounds = builder.build();\r\n                                                            //                                int padding = 0; // offset from edges of the map in pixels\r\n                                                            CameraUpdate cu = CameraUpdateFactory.newLatLngBounds(bounds, Utils.dpToPx(MapActivity.this, 50));\r\n                                                            map.animateCamera(cu);\r\n                                                        } catch (Exception e)\r\n                                                        {\r\n\r\n                                                        }\r\n                                                    } else if (markers.size() &gt; 0)\r\n                                                    {\r\n                                                        map.moveCamera(CameraUpdateFactory.newLatLngZoom(markers.get(0).getPosition(), 15));\r\n                                                    }\r\n                                                    autoZoomedTimes++;\r\n                                                }\r\n                                            });\r\n                                        }\r\n                                    }, 50);\r\n                                } else if (isAutoZoomEnabled)\r\n                                {\r\n                                    if (markers.size() &gt; 1)\r\n                                    {\r\n                                        try\r\n                                        {\r\n                                            LatLngBounds.Builder builder = new LatLngBounds.Builder();\r\n                                            for (MarkerOptions item : markers)\r\n                                                builder.include(item.getPosition());\r\n                                            LatLngBounds bounds = builder.build();\r\n                                            //                                int padding = 0; // offset from edges of the map in pixels\r\n                                            CameraUpdate cu = CameraUpdateFactory.newLatLngBounds(bounds, Utils.dpToPx(MapActivity.this, 50));\r\n                                            map.animateCamera(cu);\r\n                                        } catch (Exception e)\r\n                                        {\r\n\r\n                                        }\r\n                                    } else if (markers.size() &gt; 0)\r\n                                    {\r\n                                        map.moveCamera(CameraUpdateFactory.newLatLngZoom(markers.get(0).getPosition(), 15));\r\n                                    }\r\n                                    autoZoomedTimes++;\r\n                                }\r\n\r\n                                Log.d(TAG, &quot;onPostExecute: icons downloaded and added to map, total markers: &quot; + markers.size());\r\n\r\n                                loading_layout.setVisibility(View.GONE);\r\n                                if (markers.size() != 0)\r\n                                    content_layout.setVisibility(View.VISIBLE);\r\n                                else\r\n                                    nodata_layout.setVisibility(View.VISIBLE);\r\n\r\n                                for (int i = 0; i &lt; markers.size(); i++)\r\n                                {\r\n                                    MarkerOptions options = markers.get(i);\r\n                                    int deviceId = deviceIds.get(i);\r\n\r\n                                    Marker m;\r\n\r\n                                    Polyline polyline;\r\n                                    if (deviceIdMarkers.containsKey(deviceId))\r\n                                    {\r\n                                        Log.d(&quot;aa&quot;, &quot;moving to&quot; + options.getPosition());\r\n                                        deviceIdMarkers.get(deviceId).setPosition(new LatLng(options.getPosition().latitude, options.getPosition().longitude));\r\n                                        m = deviceIdMarkers.get(deviceId);\r\n\r\n                                        polyline = deviceIdPolyline.get(deviceId);\r\n                                    } else\r\n                                    {\r\n                                        Log.d(&quot;aa&quot;, &quot;putting new&quot;);\r\n                                        m = map.addMarker(options);\r\n                                        deviceIdMarkers.put(deviceId, m);\r\n                                        polyline = map.addPolyline(new PolylineOptions());\r\n                                        deviceIdPolyline.put(deviceId, polyline);\r\n                                    }\r\n\r\n                                    Device thatonedevice = null;\r\n                                    for (Device device : allDevices)\r\n                                        if (device.id == deviceId)\r\n                                            thatonedevice = device;\r\n                                    markerIdDevices.put(m.getId(), thatonedevice);\r\n\r\n\r\n                                    // update marker rotation based on driving direction\r\n                                    if (thatonedevice != null &amp;&amp; deviceIdLastLatLng.containsKey(deviceId))\r\n                                    {\r\n                                        double dirLat = thatonedevice.lat - deviceIdLastLatLng.get(deviceId).latitude;\r\n                                        double dirLng = thatonedevice.lng - deviceIdLastLatLng.get(deviceId).longitude;\r\n\r\n                                        m.setRotation((float) Math.toDegrees(Math.atan2(dirLng, dirLat)));\r\n                                    }\r\n                                    deviceIdLastLatLng.put(deviceId, new LatLng(thatonedevice.lat, thatonedevice.lng));\r\n\r\n                                    List&lt;LatLng&gt; polylinePoints = new ArrayList&lt;&gt;();\r\n                                    for (TailItem item : thatonedevice.tail)\r\n                                        polylinePoints.add(new LatLng(Double.valueOf(item.lat), Double.valueOf(item.lng)));\r\n                                    polyline.setPoints(polylinePoints);\r\n                                    polyline.setWidth(Utils.dpToPx(MapActivity.this, 2));\r\n                                    polyline.setColor(Color.parseColor(thatonedevice.device_data.tail_color));\r\n                                }\r\n\r\n\r\n                                // else\r\n\r\n                                map.setInfoWindowAdapter(new GoogleMap.InfoWindowAdapter()\r\n                                {\r\n                                    @Override\r\n                                    public View getInfoWindow(Marker marker)\r\n                                    {\r\n                                        return null;\r\n                                    }\r\n\r\n                                    @Override\r\n                                    public View getInfoContents(final Marker marker)\r\n                                    {\r\n                                        synchronized (this)\r\n                                        {\r\n\r\n                                        }\r\n                                        final Device device = markerIdDevices.get(marker.getId());\r\n                                        if (device != null)\r\n                                        {\r\n                                            View view = getLayoutInflater().inflate(R.layout.layout_map_infowindow, null);\r\n                                            view.bringToFront();\r\n                                            view.findViewById(R.id.close).setOnClickListener(new View.OnClickListener()\r\n                                            {\r\n                                                @Override\r\n                                                public void onClick(View v)\r\n                                                {\r\n                                                    marker.hideInfoWindow();\r\n                                                }\r\n                                            });\r\n                                            TextView device_name = (TextView) view.findViewById(R.id.device_name);\r\n                                            device_name.setText(device.name);\r\n                                            TextView altitude = (TextView) view.findViewById(R.id.altitude);\r\n                                            altitude.setText(String.valueOf(device.altitude) + &quot; &quot; + device.unit_of_altitude);\r\n                                            TextView time = (TextView) view.findViewById(R.id.time);\r\n                                            time.setText(device.time);\r\n                                            TextView stopTimeView = (TextView) view.findViewById(R.id.stopTime);\r\n                                            stopTimeView.setText(stopTime);\r\n                                            TextView speed = (TextView) view.findViewById(R.id.speed);\r\n                                            speed.setText(device.speed + &quot; &quot; + device.distance_unit_hour);\r\n                                            TextView address = (TextView) view.findViewById(R.id.address);\r\n                                            address.setText(device.address);\r\n\r\n                                            final ArrayList&lt;Sensor&gt; showableSensors = new ArrayList&lt;&gt;();\r\n                                            for (Sensor item : device.sensors)\r\n                                                if (item.show_in_popup &gt; 0)\r\n                                                    showableSensors.add(item);\r\n\r\n                                            ListView sensors_list = (ListView) view.findViewById(R.id.sensors_list);\r\n                                            sensors_list.setAdapter(new AwesomeAdapter&lt;Sensor&gt;(MapActivity.this)\r\n                                            {\r\n                                                @Override\r\n                                                public int getCount()\r\n                                                {\r\n                                                    return showableSensors.size();\r\n                                                }\r\n\r\n                                                @NonNull\r\n                                                @Override\r\n                                                public View getView(int position, View convertView, @NonNull ViewGroup parent)\r\n                                                {\r\n                                                    if (convertView == null)\r\n                                                        convertView = getLayoutInflater().inflate(R.layout.adapter_map_sensorslist, null);\r\n\r\n                                                    Sensor item = showableSensors.get(position);\r\n                                                    TextView name = (TextView) convertView.findViewById(R.id.name);\r\n                                                    name.setText(item.name);\r\n                                                    TextView value = (TextView) convertView.findViewById(R.id.value);\r\n                                                    value.setText(item.value);\r\n                                                    return convertView;\r\n                                                }\r\n                                            });\r\n\r\n                                            List&lt;Address&gt; addresses;\r\n                                            try\r\n                                            {\r\n                                                addresses = new Geocoder(MapActivity.this).getFromLocation(device.lat, device.lng, 1);\r\n                                                if (addresses.size() &gt; 0)\r\n                                                    address.setText(addresses.get(0).getAddressLine(0));\r\n                                            } catch (IOException e)\r\n                                            {\r\n                                                e.printStackTrace();\r\n                                            }\r\n\r\n                                            return view;\r\n                                        }\r\n                                        return null;\r\n                                    }\r\n                                });\r\n                                map.setOnMarkerClickListener(new GoogleMap.OnMarkerClickListener()\r\n                                {\r\n                                    @Override\r\n                                    public boolean onMarkerClick(final Marker marker)\r\n                                    {\r\n                                        int px = Utils.dpToPx(MapActivity.this, 300);\r\n                                        map.setPadding(0, px, 0, 0);\r\n                                        stopTime = &quot;...&quot;;\r\n                                        final Device device = markerIdDevices.get(marker.getId());\r\n                                        if (device != null)\r\n                                        {\r\n                                            API.getApiInterface(MapActivity.this).deviceStopTime((String) DataSaver.getInstance(MapActivity.this).load(&quot;api_key&quot;), &quot;en&quot;, device.id, new Callback&lt;ApiInterface.DeviceStopTimeResult&gt;()\r\n                                            {\r\n                                                @Override\r\n                                                public void success(ApiInterface.DeviceStopTimeResult result, Response response)\r\n                                                {\r\n                                                    stopTime = result.time;\r\n                                                    marker.showInfoWindow();\r\n                                                }\r\n\r\n                                                @Override\r\n                                                public void failure(RetrofitError retrofitError)\r\n                                                {\r\n                                                    Toast.makeText(MapActivity.this, R.string.errorHappened, Toast.LENGTH_SHORT).show();\r\n                                                }\r\n                                            });\r\n                                        }\r\n\r\n                                        return false;\r\n                                    }\r\n                                });\r\n                                map.setOnInfoWindowClickListener(new GoogleMap.OnInfoWindowClickListener()\r\n                                {\r\n                                    @Override\r\n                                    public void onInfoWindowClick(Marker marker)\r\n                                    {\r\n                                        marker.hideInfoWindow();\r\n                                    }\r\n                                });\r\n\r\n                                map.setOnInfoWindowCloseListener(new GoogleMap.OnInfoWindowCloseListener()\r\n                                {\r\n                                    @Override\r\n                                    public void onInfoWindowClose(Marker marker)\r\n                                    {\r\n                                        map.setPadding(0, 0, 0, 0);\r\n                                    }\r\n                                });\r\n\r\n                                //                                updateSmallMarkerData(allDevices);\r\n                                isRefreshLoced = false;\r\n                            }\r\n                        }.execute();\r\n                    }\r\n\r\n                    @Override\r\n                    public void failure(RetrofitError retrofitError)\r\n                    {\r\n                        Toast.makeText(MapActivity.this, R.string.errorHappened, Toast.LENGTH_SHORT).show();\r\n                        isRefreshLoced = false;\r\n                    }\r\n                });\r\n            }\r\n\r\n            @Override\r\n            public void failure(RetrofitError retrofitError)\r\n            {\r\n                Toast.makeText(MapActivity.this, R.string.errorHappened, Toast.LENGTH_SHORT).show();\r\n                isRefreshLoced = false;\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public void onMapReady(GoogleMap googleMap)\r\n    {\r\n        map = googleMap;\r\n        refresh();\r\n    }\r\n```\r\n\r\n\r\nthis MapActivity is slow to load, could you teach me a way to make it goes faster?\r\nBest regard :)\r\nwaiting for your propositions.\r\nPS: i have removed some functions to make the code look short but i kept the most important in is case.","title":"my app is crashing when there is no internet and i want my markers or my map to refresh each second","body":"<p>i made a googlemap app where my markers are displyed.\nthe problem is when there no internet, the app is crashing. The code under onResume does not solve the problem.\nalso i want to refresh the map or markers each second on the map.\nif you have any ideas please i am here to learn from all of you.</p>\n<p>here is my MapActivity code :</p>\n<pre><code>public class MapActivity extends AppCompatActivity implements OnMapReadyCallback\n{\n    private static final String TAG = &quot;MapActivity&quot;;\n    @Bind(R.id.back)\n    View back;\n    @Bind(R.id.zoom_in)\n    View zoom_in;\n    @Bind(R.id.zoom_out)\n    View zoom_out;\n    @Bind(R.id.updatetimer)\n    TextView updatetimer;\n    @Bind(R.id.autozoom)\n    ImageView autozoom;\n    @Bind(R.id.showtails)\n    ImageView showtails;\n    @Bind(R.id.geofences)\n    ImageView showGeofences;\n    @Bind(R.id.map_layer)\n    ImageView map_layer_icon;\n    private GoogleMap map;\n\n    @Bind(R.id.content_layout)\n    View content_layout;\n    @Bind(R.id.loading_layout)\n    View loading_layout;\n    @Bind(R.id.nodata_layout)\n    View nodata_layout;\n    private Timer timer;\n    private int autoZoomedTimes = 0;// dl bugo osmdroid library, zoom'inam du kartus ir paskui po refresh'o nebe, nes greiiausiai user'is bus pakeits zoom'\n\n    private HashMap&lt;Integer, Marker&gt; deviceIdMarkers;\n    private HashMap&lt;String, Device&gt; markerIdDevices;\n    private HashMap&lt;Integer, Polyline&gt; deviceIdPolyline;\n    private HashMap&lt;Integer, LatLng&gt; deviceIdLastLatLng;\n    //    private HashMap&lt;Integer, Marker&gt; deviceIdSmallMarkerInfo;\n    private long lastRefreshTime;\n    boolean isAutoZoomEnabled = true;\n    boolean isShowTitlesEnabled;\n    boolean isShowTailsEnabled = true;\n    boolean isShowGeofencesEnabled = true;\n    private String stopTime;\n    private AsyncTask downloadingAsync;\n\n    private boolean isRefreshLoced = false;\n\n    ApiInterface.GetGeofencesResult geofencesResult;\n    ArrayList&lt;PolygonWithName&gt; polygonsWithDetails = new ArrayList&lt;&gt;();\n    float previousZoomLevel = 0;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState)\n    {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_map);\n        ButterKnife.bind(this);\n        deviceIdMarkers = new HashMap&lt;&gt;();\n        markerIdDevices = new HashMap&lt;&gt;();\n        deviceIdPolyline = new HashMap&lt;&gt;();\n        deviceIdLastLatLng = new HashMap&lt;&gt;();\n        //        deviceIdSmallMarkerInfo = new HashMap&lt;&gt;();\n\n       \n\n        SupportMapFragment mapFragment = (SupportMapFragment) getSupportFragmentManager()\n                .findFragmentById(R.id.map);\n        mapFragment.getMapAsync(this);\n    }\n\n    @Override\n    protected void onResume()\n    {\n        super.onResume();\n        timer = new Timer();\n        timer.schedule(new TimerTask()\n        {\n            @Override\n            public void run()\n            {\n                runOnUiThread(new Runnable()\n                {\n                    @Override\n                    public void run()\n                    {\n                        float timeleft = 10 - Math.round(System.currentTimeMillis() - lastRefreshTime) / 1000f;\n                        if (timeleft &lt; 0)\n                            timeleft = 0;\n                        updatetimer.setText(String.format(&quot;%.0f&quot;, timeleft));\n                        if (System.currentTimeMillis() - lastRefreshTime &gt;= 10 * 1000)\n                            if (map != null)\n                                refresh();\n                    }\n                });\n            }\n        }, 0, 1000);\n    }\n\n    @Override\n    protected void onPause()\n    {\n        super.onPause();\n        try\n        {\n            timer.cancel();\n            timer.purge();\n            downloadingAsync.cancel(true);\n        } catch (Exception e)\n        {\n            e.printStackTrace();\n        }\n    }\n\n    private void refresh()\n    {\n        if (isRefreshLoced)\n            return;\n        isRefreshLoced = true;\n        lastRefreshTime = System.currentTimeMillis();\n        final String api_key = (String) DataSaver.getInstance(this).load(&quot;api_key&quot;);\n        API.getApiInterface(this).getDevices(api_key, getResources().getString(R.string.lang), new Callback&lt;ArrayList&lt;ApiInterface.GetDevicesItem&gt;&gt;()\n        {\n            @Override\n            public void success(final ArrayList&lt;ApiInterface.GetDevicesItem&gt; getDevicesItems, Response response)\n            {\n                Log.d(TAG, &quot;success: loaded devices array&quot;);\n                final ArrayList&lt;Device&gt; allDevices = new ArrayList&lt;&gt;();\n                if (getDevicesItems != null)\n                    for (ApiInterface.GetDevicesItem item : getDevicesItems)\n                        allDevices.addAll(item.items);\n                API.getApiInterface(MapActivity.this).getFieldsDataForEditing(api_key, getResources().getString(R.string.lang), 1, new Callback&lt;ApiInterface.GetFieldsDataForEditingResult&gt;()\n                {\n                    @Override\n                    public void success(final ApiInterface.GetFieldsDataForEditingResult getFieldsDataForEditingResult, Response response)\n                    {\n                        Log.d(TAG, &quot;success: loaded icons&quot;);\n                        downloadingAsync = new AsyncTask&lt;Void, Void, Void&gt;()\n                        {\n                            ArrayList&lt;MarkerOptions&gt; markers;\n                            ArrayList&lt;Integer&gt; deviceIds;\n\n                            @Override\n                            protected Void doInBackground(Void... params)\n                            {\n                                // add markers\n                                int dp100 = Utils.dpToPx(MapActivity.this, 50);\n                                markers = new ArrayList&lt;&gt;();\n                                deviceIds = new ArrayList&lt;&gt;();\n                                if (getFieldsDataForEditingResult == null || getFieldsDataForEditingResult.device_icons == null)\n                                    return null;\n                                for (Device item : allDevices)\n                                {\n                                    if (isCancelled())\n                                        break;\n                                    if (item.device_data.active == 1)\n                                    {\n                                        // iekom ikonos masyve\n                                        DeviceIcon mapIcon = null;\n                                        for (DeviceIcon icon : getFieldsDataForEditingResult.device_icons)\n                                            if (item.device_data.icon_id == icon.id)\n                                                mapIcon = icon;\n\n                                        String server_base = (String) DataSaver.getInstance(MapActivity.this).load(&quot;server_base&quot;);\n\n                                        try\n                                        {\n                                            Log.d(&quot;MapActivity&quot;, &quot;DOWNLOADING BITMAP: &quot; + server_base + mapIcon.path);\n                                            Bitmap bmp = BitmapFactory.decodeStream(new URL(server_base + mapIcon.path).openConnection().getInputStream());\n\n                                            int srcWidth = bmp.getWidth();\n                                            int srcHeight = bmp.getHeight();\n\n                                            int maxWidth = Utils.dpToPx(MapActivity.this, mapIcon.width);\n                                            int maxHeight = Utils.dpToPx(MapActivity.this, mapIcon.height);\n\n                                            float ratio = Math.min((float) maxWidth / (float) srcWidth, (float) maxHeight / (float) srcHeight);\n                                            int dstWidth = (int) (srcWidth * ratio);\n                                            int dstHeight = (int) (srcHeight * ratio);\n\n                                            bmp = bmp.createScaledBitmap(bmp, dp100, dp100, true);\n\n                                            // marker\n\n                                            MarkerOptions m = new MarkerOptions();\n                                            m.position(new LatLng(item.lat, item.lng));\n                                            //                                            marker.setAnchor(Marker.ANCHOR_CENTER, Marker.ANCHOR_BOTTOM);\n                                            //                                            marker.setIcon(new BitmapDrawable(getResources(), Bitmap.createScaledBitmap(bmp, dstWidth, dstHeight, true)));\n                                            m.icon(BitmapDescriptorFactory.fromBitmap(Bitmap.createScaledBitmap(bmp, dstWidth, dstHeight, true)));\n\n                                            // info window\n                                            //                                            MapMarkerInfoWindow infoWindow = new MapMarkerInfoWindow(MapActivity.this, item, R.layout.layout_map_infowindow, map);\n                                            //                                            marker.setInfoWindow(infoWindow);\n\n                                            markers.add(m);\n                                            deviceIds.add(item.id);\n                                        } catch (OutOfMemoryError outOfMemoryError)\n                                        {\n                                            Toast.makeText(MapActivity.this, &quot;Out of memory! Too many devices are selected to be displayed&quot;, Toast.LENGTH_LONG).show();\n                                        } catch (Exception e)\n                                        {\n                                            e.printStackTrace();\n                                        }\n                                    }\n                                }\n                                return null;\n                            }\n\n                            @Override\n                            protected void onPostExecute(Void aVoid)\n                            {\n                                ArrayList&lt;GeoPoint&gt; points = new ArrayList&lt;&gt;();\n\n                                if (autoZoomedTimes &lt; 1)\n                                {\n                                    new Handler().postDelayed(new Runnable()\n                                    {\n                                        @Override\n                                        public void run()\n                                        {\n                                            runOnUiThread(new Runnable()\n                                            {\n                                                @Override\n                                                public void run()\n                                                {\n                                                    if (markers.size() &gt; 1)\n                                                    {\n                                                        try\n                                                        {\n                                                            LatLngBounds.Builder builder = new LatLngBounds.Builder();\n                                                            for (MarkerOptions item : markers)\n                                                                builder.include(item.getPosition());\n                                                            LatLngBounds bounds = builder.build();\n                                                            //                                int padding = 0; // offset from edges of the map in pixels\n                                                            CameraUpdate cu = CameraUpdateFactory.newLatLngBounds(bounds, Utils.dpToPx(MapActivity.this, 50));\n                                                            map.animateCamera(cu);\n                                                        } catch (Exception e)\n                                                        {\n\n                                                        }\n                                                    } else if (markers.size() &gt; 0)\n                                                    {\n                                                        map.moveCamera(CameraUpdateFactory.newLatLngZoom(markers.get(0).getPosition(), 15));\n                                                    }\n                                                    autoZoomedTimes++;\n                                                }\n                                            });\n                                        }\n                                    }, 50);\n                                } else if (isAutoZoomEnabled)\n                                {\n                                    if (markers.size() &gt; 1)\n                                    {\n                                        try\n                                        {\n                                            LatLngBounds.Builder builder = new LatLngBounds.Builder();\n                                            for (MarkerOptions item : markers)\n                                                builder.include(item.getPosition());\n                                            LatLngBounds bounds = builder.build();\n                                            //                                int padding = 0; // offset from edges of the map in pixels\n                                            CameraUpdate cu = CameraUpdateFactory.newLatLngBounds(bounds, Utils.dpToPx(MapActivity.this, 50));\n                                            map.animateCamera(cu);\n                                        } catch (Exception e)\n                                        {\n\n                                        }\n                                    } else if (markers.size() &gt; 0)\n                                    {\n                                        map.moveCamera(CameraUpdateFactory.newLatLngZoom(markers.get(0).getPosition(), 15));\n                                    }\n                                    autoZoomedTimes++;\n                                }\n\n                                Log.d(TAG, &quot;onPostExecute: icons downloaded and added to map, total markers: &quot; + markers.size());\n\n                                loading_layout.setVisibility(View.GONE);\n                                if (markers.size() != 0)\n                                    content_layout.setVisibility(View.VISIBLE);\n                                else\n                                    nodata_layout.setVisibility(View.VISIBLE);\n\n                                for (int i = 0; i &lt; markers.size(); i++)\n                                {\n                                    MarkerOptions options = markers.get(i);\n                                    int deviceId = deviceIds.get(i);\n\n                                    Marker m;\n\n                                    Polyline polyline;\n                                    if (deviceIdMarkers.containsKey(deviceId))\n                                    {\n                                        Log.d(&quot;aa&quot;, &quot;moving to&quot; + options.getPosition());\n                                        deviceIdMarkers.get(deviceId).setPosition(new LatLng(options.getPosition().latitude, options.getPosition().longitude));\n                                        m = deviceIdMarkers.get(deviceId);\n\n                                        polyline = deviceIdPolyline.get(deviceId);\n                                    } else\n                                    {\n                                        Log.d(&quot;aa&quot;, &quot;putting new&quot;);\n                                        m = map.addMarker(options);\n                                        deviceIdMarkers.put(deviceId, m);\n                                        polyline = map.addPolyline(new PolylineOptions());\n                                        deviceIdPolyline.put(deviceId, polyline);\n                                    }\n\n                                    Device thatonedevice = null;\n                                    for (Device device : allDevices)\n                                        if (device.id == deviceId)\n                                            thatonedevice = device;\n                                    markerIdDevices.put(m.getId(), thatonedevice);\n\n\n                                    // update marker rotation based on driving direction\n                                    if (thatonedevice != null &amp;&amp; deviceIdLastLatLng.containsKey(deviceId))\n                                    {\n                                        double dirLat = thatonedevice.lat - deviceIdLastLatLng.get(deviceId).latitude;\n                                        double dirLng = thatonedevice.lng - deviceIdLastLatLng.get(deviceId).longitude;\n\n                                        m.setRotation((float) Math.toDegrees(Math.atan2(dirLng, dirLat)));\n                                    }\n                                    deviceIdLastLatLng.put(deviceId, new LatLng(thatonedevice.lat, thatonedevice.lng));\n\n                                    List&lt;LatLng&gt; polylinePoints = new ArrayList&lt;&gt;();\n                                    for (TailItem item : thatonedevice.tail)\n                                        polylinePoints.add(new LatLng(Double.valueOf(item.lat), Double.valueOf(item.lng)));\n                                    polyline.setPoints(polylinePoints);\n                                    polyline.setWidth(Utils.dpToPx(MapActivity.this, 2));\n                                    polyline.setColor(Color.parseColor(thatonedevice.device_data.tail_color));\n                                }\n\n\n                                // else\n\n                                map.setInfoWindowAdapter(new GoogleMap.InfoWindowAdapter()\n                                {\n                                    @Override\n                                    public View getInfoWindow(Marker marker)\n                                    {\n                                        return null;\n                                    }\n\n                                    @Override\n                                    public View getInfoContents(final Marker marker)\n                                    {\n                                        synchronized (this)\n                                        {\n\n                                        }\n                                        final Device device = markerIdDevices.get(marker.getId());\n                                        if (device != null)\n                                        {\n                                            View view = getLayoutInflater().inflate(R.layout.layout_map_infowindow, null);\n                                            view.bringToFront();\n                                            view.findViewById(R.id.close).setOnClickListener(new View.OnClickListener()\n                                            {\n                                                @Override\n                                                public void onClick(View v)\n                                                {\n                                                    marker.hideInfoWindow();\n                                                }\n                                            });\n                                            TextView device_name = (TextView) view.findViewById(R.id.device_name);\n                                            device_name.setText(device.name);\n                                            TextView altitude = (TextView) view.findViewById(R.id.altitude);\n                                            altitude.setText(String.valueOf(device.altitude) + &quot; &quot; + device.unit_of_altitude);\n                                            TextView time = (TextView) view.findViewById(R.id.time);\n                                            time.setText(device.time);\n                                            TextView stopTimeView = (TextView) view.findViewById(R.id.stopTime);\n                                            stopTimeView.setText(stopTime);\n                                            TextView speed = (TextView) view.findViewById(R.id.speed);\n                                            speed.setText(device.speed + &quot; &quot; + device.distance_unit_hour);\n                                            TextView address = (TextView) view.findViewById(R.id.address);\n                                            address.setText(device.address);\n\n                                            final ArrayList&lt;Sensor&gt; showableSensors = new ArrayList&lt;&gt;();\n                                            for (Sensor item : device.sensors)\n                                                if (item.show_in_popup &gt; 0)\n                                                    showableSensors.add(item);\n\n                                            ListView sensors_list = (ListView) view.findViewById(R.id.sensors_list);\n                                            sensors_list.setAdapter(new AwesomeAdapter&lt;Sensor&gt;(MapActivity.this)\n                                            {\n                                                @Override\n                                                public int getCount()\n                                                {\n                                                    return showableSensors.size();\n                                                }\n\n                                                @NonNull\n                                                @Override\n                                                public View getView(int position, View convertView, @NonNull ViewGroup parent)\n                                                {\n                                                    if (convertView == null)\n                                                        convertView = getLayoutInflater().inflate(R.layout.adapter_map_sensorslist, null);\n\n                                                    Sensor item = showableSensors.get(position);\n                                                    TextView name = (TextView) convertView.findViewById(R.id.name);\n                                                    name.setText(item.name);\n                                                    TextView value = (TextView) convertView.findViewById(R.id.value);\n                                                    value.setText(item.value);\n                                                    return convertView;\n                                                }\n                                            });\n\n                                            List&lt;Address&gt; addresses;\n                                            try\n                                            {\n                                                addresses = new Geocoder(MapActivity.this).getFromLocation(device.lat, device.lng, 1);\n                                                if (addresses.size() &gt; 0)\n                                                    address.setText(addresses.get(0).getAddressLine(0));\n                                            } catch (IOException e)\n                                            {\n                                                e.printStackTrace();\n                                            }\n\n                                            return view;\n                                        }\n                                        return null;\n                                    }\n                                });\n                                map.setOnMarkerClickListener(new GoogleMap.OnMarkerClickListener()\n                                {\n                                    @Override\n                                    public boolean onMarkerClick(final Marker marker)\n                                    {\n                                        int px = Utils.dpToPx(MapActivity.this, 300);\n                                        map.setPadding(0, px, 0, 0);\n                                        stopTime = &quot;...&quot;;\n                                        final Device device = markerIdDevices.get(marker.getId());\n                                        if (device != null)\n                                        {\n                                            API.getApiInterface(MapActivity.this).deviceStopTime((String) DataSaver.getInstance(MapActivity.this).load(&quot;api_key&quot;), &quot;en&quot;, device.id, new Callback&lt;ApiInterface.DeviceStopTimeResult&gt;()\n                                            {\n                                                @Override\n                                                public void success(ApiInterface.DeviceStopTimeResult result, Response response)\n                                                {\n                                                    stopTime = result.time;\n                                                    marker.showInfoWindow();\n                                                }\n\n                                                @Override\n                                                public void failure(RetrofitError retrofitError)\n                                                {\n                                                    Toast.makeText(MapActivity.this, R.string.errorHappened, Toast.LENGTH_SHORT).show();\n                                                }\n                                            });\n                                        }\n\n                                        return false;\n                                    }\n                                });\n                                map.setOnInfoWindowClickListener(new GoogleMap.OnInfoWindowClickListener()\n                                {\n                                    @Override\n                                    public void onInfoWindowClick(Marker marker)\n                                    {\n                                        marker.hideInfoWindow();\n                                    }\n                                });\n\n                                map.setOnInfoWindowCloseListener(new GoogleMap.OnInfoWindowCloseListener()\n                                {\n                                    @Override\n                                    public void onInfoWindowClose(Marker marker)\n                                    {\n                                        map.setPadding(0, 0, 0, 0);\n                                    }\n                                });\n\n                                //                                updateSmallMarkerData(allDevices);\n                                isRefreshLoced = false;\n                            }\n                        }.execute();\n                    }\n\n                    @Override\n                    public void failure(RetrofitError retrofitError)\n                    {\n                        Toast.makeText(MapActivity.this, R.string.errorHappened, Toast.LENGTH_SHORT).show();\n                        isRefreshLoced = false;\n                    }\n                });\n            }\n\n            @Override\n            public void failure(RetrofitError retrofitError)\n            {\n                Toast.makeText(MapActivity.this, R.string.errorHappened, Toast.LENGTH_SHORT).show();\n                isRefreshLoced = false;\n            }\n        });\n    }\n\n    @Override\n    public void onMapReady(GoogleMap googleMap)\n    {\n        map = googleMap;\n        refresh();\n    }\n</code></pre>\n<p>this MapActivity is slow to load, could you teach me a way to make it goes faster?\nBest regard :)\nwaiting for your propositions.\nPS: i have removed some functions to make the code look short but i kept the most important in is case.</p>\n"},{"tags":["java","spring-boot","log4j","logback"],"comments":[{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":3,"creation_date":1668534003,"post_id":74449828,"comment_id":131427007,"body_markdown":"It&#39;s following the &quot;conversionPattern&quot; that you specified in the config. If you want it to be different, then change the pattern.","body":"It&#39;s following the &quot;conversionPattern&quot; that you specified in the config. If you want it to be different, then change the pattern."},{"owner":{"account_id":8061038,"reputation":91,"user_id":6076567,"display_name":"Ivan"},"score":0,"creation_date":1668578579,"post_id":74449828,"comment_id":131436798,"body_markdown":"@Michael thx for your comment, I tried to change the &quot;conversionPattern&quot; and even delete it, but I still can&#39;t see messages in the log about the PID and the start time of the application, as it was in the logback.","body":"@Michael thx for your comment, I tried to change the &quot;conversionPattern&quot; and even delete it, but I still can&#39;t see messages in the log about the PID and the start time of the application, as it was in the logback."},{"owner":{"account_id":1674328,"reputation":2652,"user_id":1540177,"display_name":"grekier"},"score":0,"creation_date":1668588131,"post_id":74449828,"comment_id":131439274,"body_markdown":"See https://stackoverflow.com/questions/4622252/how-to-add-the-process-id-to-a-log4j-log-file","body":"See <a href=\"https://stackoverflow.com/questions/4622252/how-to-add-the-process-id-to-a-log4j-log-file\" title=\"how to add the process id to a log4j log file\">stackoverflow.com/questions/4622252/&hellip;</a>"},{"owner":{"account_id":8061038,"reputation":91,"user_id":6076567,"display_name":"Ivan"},"score":0,"creation_date":1668589667,"post_id":74449828,"comment_id":131439835,"body_markdown":"@grekier  in that topic, the message format is also considered, in my case some information has completely disappeared, i.e. there are no whole messages","body":"@grekier  in that topic, the message format is also considered, in my case some information has completely disappeared, i.e. there are no whole messages"}],"owner":{"account_id":8061038,"reputation":91,"user_id":6076567,"display_name":"Ivan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1668689729,"creation_date":1668533095,"question_id":74449828,"body_markdown":"\r\nIt was necessary to change from logback to log4j, I modified pom for this:\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n    &lt;exclusions&gt;\r\n        &lt;exclusion&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n    &lt;/exclusions&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-log4j&lt;/artifactId&gt;\r\n&lt;/dependency&gt;   \r\n```\r\n\r\nAnd &#39;log4j.properties&#39; file was added:\r\n```\r\nlog4j.rootLogger=INFO,Console\r\n\r\nlog4j.appender.console=org.apache.log4j.ConsoleAppender\r\nlog4j.appender.console.Target=System.out\r\nlog4j.appender.console.layout=org.apache.log4j.PatternLayout\r\nlog4j.appender.console.layout.conversionPattern=%d{yyyy-MM-dd HH:mm:ss,SSS} %-5p - %m%n\r\n```\r\n\r\nBut in result, there are different logs. With logback I have something like this:\r\n```\r\n2022-11-15 18:43:05.819  INFO 13700 --- [           main] en.main.com.Application                 \t: Starting Application using Java 11.0.14 on &#39;&#39; with PID 13700\r\n2022-11-15 18:43:06.710  INFO 13700 --- [           main] o.s.cloud.context.scope.GenericScope     \t: BeanFactory id=eb6a152f-721c-3012-b9ce-880d2bbbe06c\r\n2022-11-15 18:43:06.967  INFO 13700 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  \t: Tomcat initialized with port(s): 8081 (http)\r\n2022-11-15 18:43:06.974  INFO 13700 --- [           main] o.apache.catalina.core.StandardService   \t: Starting service [Tomcat]\r\n2022-11-15 18:43:06.974  INFO 13700 --- [           main] org.apache.catalina.core.StandardEngine  \t: Starting Servlet engine: [Apache Tomcat/9.0.53]\r\n2022-11-15 18:43:07.158  INFO 13700 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/main]    : Initializing Spring embedded WebApplicationContext\r\n2022-11-15 18:43:07.159  INFO 13700 --- [           main] w.s.c.ServletWebServerApplicationContext \t: Root WebApplicationContext: initialization completed in 1298 ms\r\n2022-11-15 18:43:07.898  INFO 13700 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  \t: Tomcat started on port(s): 8081 (http) with context path &#39;/main&#39;\r\n2022-11-15 18:43:07.985  INFO 13700 --- [           main] en.main.com.Application                 \t: Started Application in 2.648 seconds (JVM running for 3.726)\r\n```\r\n\r\nAnd after log4j:\r\n```\r\n2022-11-15 18:38:00,817 INFO  - Initializing ProtocolHandler [&quot;http-nio-8081&quot;]\r\n2022-11-15 18:38:00,818 INFO  - Starting service [Tomcat]\r\n2022-11-15 18:38:00,818 INFO  - Starting Servlet engine: [Apache Tomcat/9.0.53]\r\n2022-11-15 18:38:01,057 INFO  - Initializing Spring embedded WebApplicationContext\r\n2022-11-15 18:38:02,890 INFO  - Starting ProtocolHandler [&quot;http-nio-8081&quot;]\r\n2022-11-15 18:38:03,001 INFO  - HikariPool-1 - Starting...\r\n2022-11-15 18:38:03,318 INFO  - HikariPool-1 - Start completed.\r\n2022-11-15 18:38:03,340 INFO  - HikariPool-2 - Starting...\r\n2022-11-15 18:38:03,397 INFO  - HikariPool-2 - Start completed.\r\n```\r\n\r\nI can&#39;t understand why a part of useful information is missing. Also tried to display some transactions info, by adding\r\n```\r\nlog4j.logger.org.springframework.jdbc.datasource.DataSourceTransactionManager=DEBUG\r\n```\r\nbut there is no result.","title":"Why some information missing after switching from logback to log4j?","body":"<p>It was necessary to change from logback to log4j, I modified pom for this:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n    &lt;exclusions&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-log4j&lt;/artifactId&gt;\n&lt;/dependency&gt;   \n</code></pre>\n<p>And 'log4j.properties' file was added:</p>\n<pre><code>log4j.rootLogger=INFO,Console\n\nlog4j.appender.console=org.apache.log4j.ConsoleAppender\nlog4j.appender.console.Target=System.out\nlog4j.appender.console.layout=org.apache.log4j.PatternLayout\nlog4j.appender.console.layout.conversionPattern=%d{yyyy-MM-dd HH:mm:ss,SSS} %-5p - %m%n\n</code></pre>\n<p>But in result, there are different logs. With logback I have something like this:</p>\n<pre><code>2022-11-15 18:43:05.819  INFO 13700 --- [           main] en.main.com.Application                   : Starting Application using Java 11.0.14 on '' with PID 13700\n2022-11-15 18:43:06.710  INFO 13700 --- [           main] o.s.cloud.context.scope.GenericScope      : BeanFactory id=eb6a152f-721c-3012-b9ce-880d2bbbe06c\n2022-11-15 18:43:06.967  INFO 13700 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer   : Tomcat initialized with port(s): 8081 (http)\n2022-11-15 18:43:06.974  INFO 13700 --- [           main] o.apache.catalina.core.StandardService    : Starting service [Tomcat]\n2022-11-15 18:43:06.974  INFO 13700 --- [           main] org.apache.catalina.core.StandardEngine   : Starting Servlet engine: [Apache Tomcat/9.0.53]\n2022-11-15 18:43:07.158  INFO 13700 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/main]    : Initializing Spring embedded WebApplicationContext\n2022-11-15 18:43:07.159  INFO 13700 --- [           main] w.s.c.ServletWebServerApplicationContext  : Root WebApplicationContext: initialization completed in 1298 ms\n2022-11-15 18:43:07.898  INFO 13700 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer   : Tomcat started on port(s): 8081 (http) with context path '/main'\n2022-11-15 18:43:07.985  INFO 13700 --- [           main] en.main.com.Application                   : Started Application in 2.648 seconds (JVM running for 3.726)\n</code></pre>\n<p>And after log4j:</p>\n<pre><code>2022-11-15 18:38:00,817 INFO  - Initializing ProtocolHandler [&quot;http-nio-8081&quot;]\n2022-11-15 18:38:00,818 INFO  - Starting service [Tomcat]\n2022-11-15 18:38:00,818 INFO  - Starting Servlet engine: [Apache Tomcat/9.0.53]\n2022-11-15 18:38:01,057 INFO  - Initializing Spring embedded WebApplicationContext\n2022-11-15 18:38:02,890 INFO  - Starting ProtocolHandler [&quot;http-nio-8081&quot;]\n2022-11-15 18:38:03,001 INFO  - HikariPool-1 - Starting...\n2022-11-15 18:38:03,318 INFO  - HikariPool-1 - Start completed.\n2022-11-15 18:38:03,340 INFO  - HikariPool-2 - Starting...\n2022-11-15 18:38:03,397 INFO  - HikariPool-2 - Start completed.\n</code></pre>\n<p>I can't understand why a part of useful information is missing. Also tried to display some transactions info, by adding</p>\n<pre><code>log4j.logger.org.springframework.jdbc.datasource.DataSourceTransactionManager=DEBUG\n</code></pre>\n<p>but there is no result.</p>\n"},{"tags":["java","hibernate","quarkus"],"comments":[{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1668521603,"post_id":74446963,"comment_id":131421781,"body_markdown":"Is the `Datasource &#39;default&#39;` really the correct one?","body":"Is the <code>Datasource &#39;default&#39;</code> really the correct one?"},{"owner":{"account_id":4565174,"reputation":508,"user_id":3706372,"accept_rate":50,"display_name":"godo57"},"score":0,"creation_date":1668521763,"post_id":74446963,"comment_id":131421848,"body_markdown":"This seems to be a network issue ?","body":"This seems to be a network issue ?"},{"owner":{"account_id":2078465,"reputation":191,"user_id":1851136,"accept_rate":50,"display_name":"VenomBerry"},"score":0,"creation_date":1668522048,"post_id":74446963,"comment_id":131421988,"body_markdown":"problem solved, i was using the wrong data source configuration.","body":"problem solved, i was using the wrong data source configuration."},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1668584515,"post_id":74446963,"comment_id":131438152,"body_markdown":"So `default` was wrong? Surprise ^^","body":"So <code>default</code> was wrong? Surprise ^^"}],"answers":[{"tags":[],"owner":{"account_id":2078465,"reputation":191,"user_id":1851136,"accept_rate":50,"display_name":"VenomBerry"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668689597,"creation_date":1668522181,"answer_id":74447212,"question_id":74446963,"body_markdown":"I was using the wrong datasource configuration, when i put the right host, credentials and service name in the application.propreties file.","title":"Why my quarkus/hibernate rest API unable to acuire JDBC connection?","body":"<p>I was using the wrong datasource configuration, when i put the right host, credentials and service name in the application.propreties file.</p>\n"}],"owner":{"account_id":2078465,"reputation":191,"user_id":1851136,"accept_rate":50,"display_name":"VenomBerry"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668689597,"creation_date":1668521089,"question_id":74446963,"body_markdown":"The application lunches correctly, i am trying to consume a login API, when i lunch login process using swagger-ui, an exception is triggered:\r\n\r\n&gt; Caused by: javax.persistence.PersistenceException: org.hibernate.exception.JDBCConnectionException: Unable to acquire JDBC Connection\r\n\r\n&gt; Caused by: java.sql.SQLRecoverableException: Erreur d&#39;E/S: The Network Adapter could not establish the connection\r\n\r\n&gt; 2022-11-15 14:03:18,857 WARN  (Agroal_2230584771) Datasource &#39;default&#39;: Erreur d&#39;E/S: The Network Adapter could not establish the connection\r\n\r\nthis is the url from the database propreties panel: `jdbc:oracle:thin:@bodswv092:1521:DEMO`\r\n\r\nHow can i resolve this problem ?\r\n\r\n","title":"Why my quarkus/hibernate rest API unable to acuire JDBC connection?","body":"<p>The application lunches correctly, i am trying to consume a login API, when i lunch login process using swagger-ui, an exception is triggered:</p>\n<blockquote>\n<p>Caused by: javax.persistence.PersistenceException: org.hibernate.exception.JDBCConnectionException: Unable to acquire JDBC Connection</p>\n</blockquote>\n<blockquote>\n<p>Caused by: java.sql.SQLRecoverableException: Erreur d'E/S: The Network Adapter could not establish the connection</p>\n</blockquote>\n<blockquote>\n<p>2022-11-15 14:03:18,857 WARN  (Agroal_2230584771) Datasource 'default': Erreur d'E/S: The Network Adapter could not establish the connection</p>\n</blockquote>\n<p>this is the url from the database propreties panel: <code>jdbc:oracle:thin:@bodswv092:1521:DEMO</code></p>\n<p>How can i resolve this problem ?</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"score":2,"creation_date":1668676628,"post_id":74472796,"comment_id":131465366,"body_markdown":"Are you sure about `s?`, it seems you expect that to match a space..., but that would need to be `\\s?`, and in a string literal with escaped backslash...","body":"Are you sure about <code>s?</code>, it seems you expect that to match a space..., but that would need to be <code>\\s?</code>, and in a string literal with escaped backslash..."},{"owner":{"account_id":26151286,"reputation":9,"user_id":19839205,"display_name":"arunDarkDev"},"score":0,"creation_date":1668677238,"post_id":74472796,"comment_id":131465596,"body_markdown":"Yeah, you&#39;re right. that was misspelled one.","body":"Yeah, you&#39;re right. that was misspelled one."},{"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1668677305,"post_id":74472796,"comment_id":131465622,"body_markdown":"But still didn&#39;t escape that backslash -- because of the Java string literal it is in.","body":"But still didn&#39;t escape that backslash -- because of the Java string literal it is in."}],"answers":[{"tags":[],"owner":{"account_id":4739783,"reputation":612575,"user_id":3832970,"display_name":"Wiktor Stribiew"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668676912,"creation_date":1668676587,"answer_id":74472858,"question_id":74472796,"body_markdown":"You can use\r\n```none\r\nPattern.matches(&quot;[A-Z][a-z]*(?:\\\\s[A-Z][a-z]*)*&quot;,&quot;Joe V&quot;)\r\nPattern.matches(&quot;\\\\p{Lu}\\\\p{Ll}*(?:\\\\s\\\\p{Lu}\\\\p{Ll}*)*&quot;,&quot;Joe V&quot;)\r\n```\r\nSee the [regex demo #1][1] and [regex demo #2][2].\r\n\r\nNote that `.matches` requires a full string match, hence the use of `^` and `$` anchors on the testing site and their absence in the code.\r\n\r\n*Details*:\r\n\r\n - `^` - start of string (implied in `.matches`)\r\n - `[A-Z]` / `\\p{Lu}` - an (Unicode) uppercase letter\r\n - `[a-z]*` / `\\p{Ll}*` - zero or more (Unicode) lowercase letters\r\n - `(?:\\s[A-Z][a-z]*)*` / `(?:\\s\\p{Lu}\\p{Ll}*)*` - zero or more sequences of\r\n   - `\\s` - one whitespace\r\n   - `[A-Z][a-z]*` /`\\p{Lu}\\p{Ll}*` - an uppercase (Unicode) letter and then zero or more (Unicode) lowercase letters.\r\n - `$` - end of string (implied in `.matches`)\r\n\r\n  [1]: https://regex101.com/r/FqkEpu/1\r\n  [2]: https://regex101.com/r/FqkEpu/2","title":"Was there any difference between using regex in java and regex in javascript?","body":"<p>You can use</p>\n<pre class=\"lang-none prettyprint-override\"><code>Pattern.matches(&quot;[A-Z][a-z]*(?:\\\\s[A-Z][a-z]*)*&quot;,&quot;Joe V&quot;)\nPattern.matches(&quot;\\\\p{Lu}\\\\p{Ll}*(?:\\\\s\\\\p{Lu}\\\\p{Ll}*)*&quot;,&quot;Joe V&quot;)\n</code></pre>\n<p>See the <a href=\"https://regex101.com/r/FqkEpu/1\" rel=\"nofollow noreferrer\">regex demo #1</a> and <a href=\"https://regex101.com/r/FqkEpu/2\" rel=\"nofollow noreferrer\">regex demo #2</a>.</p>\n<p>Note that <code>.matches</code> requires a full string match, hence the use of <code>^</code> and <code>$</code> anchors on the testing site and their absence in the code.</p>\n<p><em>Details</em>:</p>\n<ul>\n<li><code>^</code> - start of string (implied in <code>.matches</code>)</li>\n<li><code>[A-Z]</code> / <code>\\p{Lu}</code> - an (Unicode) uppercase letter</li>\n<li><code>[a-z]*</code> / <code>\\p{Ll}*</code> - zero or more (Unicode) lowercase letters</li>\n<li><code>(?:\\s[A-Z][a-z]*)*</code> / <code>(?:\\s\\p{Lu}\\p{Ll}*)*</code> - zero or more sequences of\n<ul>\n<li><code>\\s</code> - one whitespace</li>\n<li><code>[A-Z][a-z]*</code> /<code>\\p{Lu}\\p{Ll}*</code> - an uppercase (Unicode) letter and then zero or more (Unicode) lowercase letters.</li>\n</ul>\n</li>\n<li><code>$</code> - end of string (implied in <code>.matches</code>)</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":26555431,"reputation":558,"user_id":20184128,"display_name":"berse2212"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668685994,"creation_date":1668685994,"answer_id":74475021,"question_id":74472796,"body_markdown":"Javascript has native support for regex while Java doesn&#39;t. Since Java uses `\\` for special signs in strings (like `\\n`) you have to escape the `\\` to actually be a `\\` sign. That&#39;s done with another `\\`. So any `\\` you use in Java  should be written as `\\\\`. \r\n\r\nThus your regex / code should be:\r\n\r\n    Pattern.matches(&quot;[A-Z][a-z]*\\\\s?[A-Z]?[a-z]*$&quot;, &quot;Joe V&quot;)\r\n\r\nwhich returns `true`\r\n\r\nP.s. `\\s` is interpreted as a Space in any Java-String","title":"Was there any difference between using regex in java and regex in javascript?","body":"<p>Javascript has native support for regex while Java doesn't. Since Java uses <code>\\</code> for special signs in strings (like <code>\\n</code>) you have to escape the <code>\\</code> to actually be a <code>\\</code> sign. That's done with another <code>\\</code>. So any <code>\\</code> you use in Java  should be written as <code>\\\\</code>.</p>\n<p>Thus your regex / code should be:</p>\n<pre><code>Pattern.matches(&quot;[A-Z][a-z]*\\\\s?[A-Z]?[a-z]*$&quot;, &quot;Joe V&quot;)\n</code></pre>\n<p>which returns <code>true</code></p>\n<p>P.s. <code>\\s</code> is interpreted as a Space in any Java-String</p>\n"}],"owner":{"account_id":26151286,"reputation":9,"user_id":19839205,"display_name":"arunDarkDev"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1668689427,"creation_date":1668676320,"question_id":74472796,"body_markdown":"I have a requirement to build a regex pattern to validate a String in Java. Hence I build a pattern\r\n`[A-Z][a-z]*\\s?[A-Z]?[a-z]*$` for the conditions:\r\n\r\n* Should start with caps\r\n* Every other Word should start with caps\r\n* No numbers included\r\n* no consecutive two spaces allowed\r\n\r\n`Pattern.matches(&quot;[A-Z][a-z]*\\s?[A-Z]?[a-z]*$&quot;,&quot;Joe V&quot;)`  returns `false` for me in java.\r\nBut the same pattern returns true for the data &quot;Joe V&quot; in regexr.com.\r\n\r\n\r\nWhat might be the cause?","title":"Was there any difference between using regex in java and regex in javascript?","body":"<p>I have a requirement to build a regex pattern to validate a String in Java. Hence I build a pattern\n<code>[A-Z][a-z]*\\s?[A-Z]?[a-z]*$</code> for the conditions:</p>\n<ul>\n<li>Should start with caps</li>\n<li>Every other Word should start with caps</li>\n<li>No numbers included</li>\n<li>no consecutive two spaces allowed</li>\n</ul>\n<p><code>Pattern.matches(&quot;[A-Z][a-z]*\\s?[A-Z]?[a-z]*$&quot;,&quot;Joe V&quot;)</code>  returns <code>false</code> for me in java.\nBut the same pattern returns true for the data &quot;Joe V&quot; in regexr.com.</p>\n<p>What might be the cause?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3782717,"reputation":927,"user_id":3141682,"accept_rate":75,"display_name":"Adi Ohana"},"score":0,"creation_date":1554133829,"post_id":55458996,"comment_id":97630896,"body_markdown":"this will help you: https://stackoverflow.com/questions/19299513/spring-junit-how-to-mock-autowired-component-in-autowired-component","body":"this will help you: <a href=\"https://stackoverflow.com/questions/19299513/spring-junit-how-to-mock-autowired-component-in-autowired-component\" title=\"spring junit how to mock autowired component in autowired component\">stackoverflow.com/questions/19299513/&hellip;</a>"},{"owner":{"account_id":1961640,"reputation":12136,"user_id":1763035,"accept_rate":56,"display_name":"Andy Brown"},"score":0,"creation_date":1554134210,"post_id":55458996,"comment_id":97631099,"body_markdown":"Change your `@Mock ObjectMapper` to `@MockBean ObjectMapper`","body":"Change your <code>@Mock ObjectMapper</code> to <code>@MockBean ObjectMapper</code>"},{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1554134313,"post_id":55458996,"comment_id":97631154,"body_markdown":"Also, your code passes a TypeReference as second argument, but you&#39;re mocking with a Class as second argument.","body":"Also, your code passes a TypeReference as second argument, but you&#39;re mocking with a Class as second argument."},{"owner":{"account_id":1961640,"reputation":12136,"user_id":1763035,"accept_rate":56,"display_name":"Andy Brown"},"score":0,"creation_date":1554134371,"post_id":55458996,"comment_id":97631190,"body_markdown":"Also, since you are starting a spring context you should `@Inject` your `ServiceChild` as a bean and delete the `@InjectMocks` annotation.","body":"Also, since you are starting a spring context you should <code>@Inject</code> your <code>ServiceChild</code> as a bean and delete the <code>@InjectMocks</code> annotation."},{"owner":{"account_id":15652181,"reputation":143,"user_id":11293357,"display_name":"Raikyn"},"score":1,"creation_date":1554188702,"post_id":55458996,"comment_id":97648679,"body_markdown":"Even with @MockBean objectMapper.readValues(...) returns null.","body":"Even with @MockBean objectMapper.readValues(...) returns null."},{"owner":{"account_id":15652181,"reputation":143,"user_id":11293357,"display_name":"Raikyn"},"score":0,"creation_date":1554189243,"post_id":55458996,"comment_id":97648972,"body_markdown":"@JBNizet Actually that was the problem here. I try to mock with Mockito.&lt;TypeReference&lt;Map&lt;String, Object&gt;&gt;&gt;any() instead of Mockito.any(Class.class)) and it works! Thanks!","body":"@JBNizet Actually that was the problem here. I try to mock with Mockito.&lt;TypeReference&lt;Map&lt;String, Object&gt;&gt;&gt;any() instead of Mockito.any(Class.class)) and it works! Thanks!"},{"owner":{"account_id":3635110,"reputation":1239,"user_id":3030406,"accept_rate":55,"display_name":"Rookie007"},"score":1,"creation_date":1633538774,"post_id":55458996,"comment_id":122788417,"body_markdown":"@Raikyn I am having the same issue, could you please post the full answer ?","body":"@Raikyn I am having the same issue, could you please post the full answer ?"}],"answers":[{"tags":[],"owner":{"account_id":3526421,"reputation":20884,"user_id":2947378,"display_name":"rdas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1554134469,"creation_date":1554134469,"answer_id":55459233,"question_id":55458996,"body_markdown":"`@Mock` creates a new mock. It&#39;s equivalent to calling `mock(SomeClass.class)`\r\n\r\n`@MockBean` creates a mock, like `@Mock`, but also replaces any bean already in the application context with the same type with that mock. So any code which `Autowire`s that bean will get the mock. \r\n\r\nYou need to use `@MockBean`","title":"How to mock ObjectMapper with mokito?","body":"<p><code>@Mock</code> creates a new mock. It's equivalent to calling <code>mock(SomeClass.class)</code></p>\n\n<p><code>@MockBean</code> creates a mock, like <code>@Mock</code>, but also replaces any bean already in the application context with the same type with that mock. So any code which <code>Autowire</code>s that bean will get the mock. </p>\n\n<p>You need to use <code>@MockBean</code></p>\n"},{"tags":[],"owner":{"account_id":8628085,"reputation":132,"user_id":6460660,"accept_rate":100,"display_name":"Azhagu Surya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668688916,"creation_date":1668688916,"answer_id":74475660,"question_id":55458996,"body_markdown":"I faced the same NPE with the objectmapper. This issue is resolved after adding ,\r\nmy test class has class level annotation with \r\n\r\n    @RunWith(MockitoJUnitRunner.class) \r\n\r\nand the fix \r\n\r\n     @Before\r\n        public void setupBefore() {\r\n            MockitoAnnotations.initMocks(this);\r\n    \r\n        }\r\n\r\n\r\n","title":"How to mock ObjectMapper with mokito?","body":"<p>I faced the same NPE with the objectmapper. This issue is resolved after adding ,\nmy test class has class level annotation with</p>\n<pre><code>@RunWith(MockitoJUnitRunner.class) \n</code></pre>\n<p>and the fix</p>\n<pre><code> @Before\n    public void setupBefore() {\n        MockitoAnnotations.initMocks(this);\n\n    }\n</code></pre>\n"}],"owner":{"account_id":15652181,"reputation":143,"user_id":11293357,"display_name":"Raikyn"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7450,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74475660,"answer_count":2,"score":2,"last_activity_date":1668688916,"creation_date":1554133655,"question_id":55458996,"body_markdown":"I&#39;m having trouble with mocking an ObjectMapper bean with mokito. \r\n\r\nMy class containing the ObjectMapper :\r\n```\r\npublic class ServiceParent{\r\n\r\n        @Autowired\r\n\tprotected ObjectMapper objectMapper;\r\n\r\n        public void someMethod(){\r\n        ...\r\n        Map&lt;String, String&gt; mapResponse = objectMapper.readValue(&quot;some json&quot;, new TypeReference&lt;Map&lt;String, String&gt;&gt;(){});\r\n\r\n}\r\n\r\nOther class extending previous one\r\n\r\npublic class ServiceChild extends ServiceParent{\r\n...\r\n\r\n}\r\n```\r\n\r\n\r\nMy test class :\r\n```\r\n@SpringBootTest\r\npublic class TestService{\r\n       @Mock\r\n       ObjectMapper objectMapper;\r\n\r\n\t@InjectMocks\r\n\tServiceChild  serviceChild;\r\n\r\n @Test\r\n public void test(){\r\n\tMap&lt;String, String&gt; mapResponse=new HashMap&lt;String, String&gt;();\r\n\t\tmapResponse.put(&quot;access_token&quot;, &quot;token_bouhon&quot;);\r\n        Mockito.when(objectMapper.readValue(Mockito.anyString(), Mockito.any(Class.class))).thenReturn(mapResponse);\r\n\r\n}\r\n```\r\n\r\n\r\nSo when I debug this, in ServiceParent, objectMapper isn&#39;t null but readValue(...) return null.\r\n\r\nDo you have an idea on how to return the correct mocked object?\r\n\r\nThanks","title":"How to mock ObjectMapper with mokito?","body":"<p>I'm having trouble with mocking an ObjectMapper bean with mokito. </p>\n\n<p>My class containing the ObjectMapper :</p>\n\n<pre><code>public class ServiceParent{\n\n        @Autowired\n    protected ObjectMapper objectMapper;\n\n        public void someMethod(){\n        ...\n        Map&lt;String, String&gt; mapResponse = objectMapper.readValue(\"some json\", new TypeReference&lt;Map&lt;String, String&gt;&gt;(){});\n\n}\n\nOther class extending previous one\n\npublic class ServiceChild extends ServiceParent{\n...\n\n}\n</code></pre>\n\n<p>My test class :</p>\n\n<pre><code>@SpringBootTest\npublic class TestService{\n       @Mock\n       ObjectMapper objectMapper;\n\n    @InjectMocks\n    ServiceChild  serviceChild;\n\n @Test\n public void test(){\n    Map&lt;String, String&gt; mapResponse=new HashMap&lt;String, String&gt;();\n        mapResponse.put(\"access_token\", \"token_bouhon\");\n        Mockito.when(objectMapper.readValue(Mockito.anyString(), Mockito.any(Class.class))).thenReturn(mapResponse);\n\n}\n</code></pre>\n\n<p>So when I debug this, in ServiceParent, objectMapper isn't null but readValue(...) return null.</p>\n\n<p>Do you have an idea on how to return the correct mocked object?</p>\n\n<p>Thanks</p>\n"},{"tags":["java","jvm","throwable"],"answers":[{"tags":[],"owner":{"account_id":11942036,"reputation":164,"user_id":8738512,"display_name":"David"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1668688115,"creation_date":1663249497,"answer_id":73732286,"question_id":73731547,"body_markdown":"Your guess does not seem to be right if we follow `fillInStackTrace` native method for a bit we can see that it [sets Throwable#backtrace](https://github.com/openjdk/jdk/blob/41ce6582674bb5d14f2edb34e40ee1d7ae7601d8/src/hotspot/share/classfile/javaClasses.cpp#L2713). The implementation looks complicated but it basicallly just strips out fillInStackTrace and the contructor calls (with can be overriden).\r\nFor the next thing keep in mind that `Throwable`\r\n - can be serialized (no constructor call into `readObject`)\r\n - can be created directly in the vm\r\n - `OutOfMemoryExceptions` are preloaded (because it can not be instanciated when oom)\r\n - `fillStackTrace` is commonly overriden and left empty in SubClasses (mostly for performance)\r\n\r\nThen in `getOurStackTrace()` the [real stackTrace is written](https://github.com/openjdk/jdk/blob/41ce6582674bb5d14f2edb34e40ee1d7ae7601d8/src/hotspot/share/classfile/javaClasses.cpp#L2940). This was made because after contructing the exception is in a immutable state (between backtrace set but stacktrace null).\r\n\r\nOut of protocol state refers to Throwables created without calling a constructor.\r\n\r\nIf you have further questions just ask. I really like your question :)","title":"OpenJDK-java/lang/Throwable.fillInStackTrace - awkward implementation?","body":"<p>Your guess does not seem to be right if we follow <code>fillInStackTrace</code> native method for a bit we can see that it <a href=\"https://github.com/openjdk/jdk/blob/41ce6582674bb5d14f2edb34e40ee1d7ae7601d8/src/hotspot/share/classfile/javaClasses.cpp#L2713\" rel=\"nofollow noreferrer\">sets Throwable#backtrace</a>. The implementation looks complicated but it basicallly just strips out fillInStackTrace and the contructor calls (with can be overriden).\nFor the next thing keep in mind that <code>Throwable</code></p>\n<ul>\n<li>can be serialized (no constructor call into <code>readObject</code>)</li>\n<li>can be created directly in the vm</li>\n<li><code>OutOfMemoryExceptions</code> are preloaded (because it can not be instanciated when oom)</li>\n<li><code>fillStackTrace</code> is commonly overriden and left empty in SubClasses (mostly for performance)</li>\n</ul>\n<p>Then in <code>getOurStackTrace()</code> the <a href=\"https://github.com/openjdk/jdk/blob/41ce6582674bb5d14f2edb34e40ee1d7ae7601d8/src/hotspot/share/classfile/javaClasses.cpp#L2940\" rel=\"nofollow noreferrer\">real stackTrace is written</a>. This was made because after contructing the exception is in a immutable state (between backtrace set but stacktrace null).</p>\n<p>Out of protocol state refers to Throwables created without calling a constructor.</p>\n<p>If you have further questions just ask. I really like your question :)</p>\n"},{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1663250122,"creation_date":1663249802,"answer_id":73732367,"question_id":73731547,"body_markdown":"The native `fillInStackTrace(int)` method does not create an array of `StackTraceElement` instances. It captures a snapshot of the current stack trace in an implementation specific format and stores it in the `backtrace` variable.\r\n\r\nOnly when the array of `StackTraceElement` instances is requested, the method `getOurStackTrace()` will generate the array:\r\n\r\n```java\r\nprivate synchronized StackTraceElement[] getOurStackTrace() {\r\n    // Initialize stack trace field with information from\r\n    // backtrace if this is the first call to this method\r\n    if (stackTrace == UNASSIGNED_STACK ||\r\n        (stackTrace == null &amp;&amp; backtrace != null) /* Out of protocol state */) {\r\n        int depth = getStackTraceDepth();\r\n        stackTrace = new StackTraceElement[depth];\r\n        for (int i=0; i &lt; depth; i++)\r\n            stackTrace[i] = getStackTraceElement(i);\r\n    } else if (stackTrace == null) {\r\n        return UNASSIGNED_STACK;\r\n    }\r\n    return stackTrace;\r\n}\r\n```\r\n\r\nIts using the helper method\r\n\r\n```java\r\nnative StackTraceElement getStackTraceElement(int index);\r\n```\r\n\r\nwhich knows how to decode the `backtrace`.\r\n\r\nSo if the application never accesses the stacktrace, this might be cheaper than generating the full array in advance.\r\n\r\n\r\nYou have already posted the declaration of `stackTrace` which initializes the field with `UNASSIGNED_STACK`. But there is [this special constructor] which allows to suppress stack traces altogether.\r\n\r\n```java\r\nprotected Throwable(String message, Throwable cause,\r\n                    boolean enableSuppression,\r\n                    boolean writableStackTrace) {\r\n    if (writableStackTrace) {\r\n        fillInStackTrace();\r\n    } else {\r\n        stackTrace = null;\r\n    }\r\n    detailMessage = message;\r\n    this.cause = cause;\r\n    if (!enableSuppression)\r\n        suppressedExceptions = null;\r\n}\r\n```\r\n\r\nSo, normally `stackTrace` should be either, `UNASSIGNED_STACK` or an actual array created by `getOurStackTrace()` or set using [`setStackTrace(StackTraceElement[])`][1].\r\n\r\nIf `stackTrace` is `null`, the `backtrace` should also be `null`, if stack traces are disabled. If this is not the case, the state is out of protocol, which means the throwable has not been generated using normal constructor invocation, but by native code.\r\n\r\n[this special constructor]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Throwable.html#%3Cinit%3E(java.lang.String,java.lang.Throwable,boolean,boolean)\r\n[1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Throwable.html#setStackTrace(java.lang.StackTraceElement%5B%5D)","title":"OpenJDK-java/lang/Throwable.fillInStackTrace - awkward implementation?","body":"<p>The native <code>fillInStackTrace(int)</code> method does not create an array of <code>StackTraceElement</code> instances. It captures a snapshot of the current stack trace in an implementation specific format and stores it in the <code>backtrace</code> variable.</p>\n<p>Only when the array of <code>StackTraceElement</code> instances is requested, the method <code>getOurStackTrace()</code> will generate the array:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private synchronized StackTraceElement[] getOurStackTrace() {\n    // Initialize stack trace field with information from\n    // backtrace if this is the first call to this method\n    if (stackTrace == UNASSIGNED_STACK ||\n        (stackTrace == null &amp;&amp; backtrace != null) /* Out of protocol state */) {\n        int depth = getStackTraceDepth();\n        stackTrace = new StackTraceElement[depth];\n        for (int i=0; i &lt; depth; i++)\n            stackTrace[i] = getStackTraceElement(i);\n    } else if (stackTrace == null) {\n        return UNASSIGNED_STACK;\n    }\n    return stackTrace;\n}\n</code></pre>\n<p>Its using the helper method</p>\n<pre class=\"lang-java prettyprint-override\"><code>native StackTraceElement getStackTraceElement(int index);\n</code></pre>\n<p>which knows how to decode the <code>backtrace</code>.</p>\n<p>So if the application never accesses the stacktrace, this might be cheaper than generating the full array in advance.</p>\n<p>You have already posted the declaration of <code>stackTrace</code> which initializes the field with <code>UNASSIGNED_STACK</code>. But there is <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Throwable.html#%3Cinit%3E(java.lang.String,java.lang.Throwable,boolean,boolean)\" rel=\"nofollow noreferrer\">this special constructor</a> which allows to suppress stack traces altogether.</p>\n<pre class=\"lang-java prettyprint-override\"><code>protected Throwable(String message, Throwable cause,\n                    boolean enableSuppression,\n                    boolean writableStackTrace) {\n    if (writableStackTrace) {\n        fillInStackTrace();\n    } else {\n        stackTrace = null;\n    }\n    detailMessage = message;\n    this.cause = cause;\n    if (!enableSuppression)\n        suppressedExceptions = null;\n}\n</code></pre>\n<p>So, normally <code>stackTrace</code> should be either, <code>UNASSIGNED_STACK</code> or an actual array created by <code>getOurStackTrace()</code> or set using <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Throwable.html#setStackTrace(java.lang.StackTraceElement%5B%5D)\" rel=\"nofollow noreferrer\"><code>setStackTrace(StackTraceElement[])</code></a>.</p>\n<p>If <code>stackTrace</code> is <code>null</code>, the <code>backtrace</code> should also be <code>null</code>, if stack traces are disabled. If this is not the case, the state is out of protocol, which means the throwable has not been generated using normal constructor invocation, but by native code.</p>\n"}],"owner":{"account_id":6423221,"reputation":306,"user_id":4979303,"display_name":"Antonio Noack"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":268,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":73732367,"answer_count":2,"score":4,"last_activity_date":1668688115,"creation_date":1663246534,"question_id":73731547,"body_markdown":"I am trying to understand the implementation of Throwable.fillInStackTrace():\r\n\r\n    private static final StackTraceElement[] UNASSIGNED_STACK = new StackTraceElement[0];\r\n    [...]\r\n    private StackTraceElement[] stackTrace = UNASSIGNED_STACK;\r\n    [...]\r\n\r\n    /**\r\n     * Fills in the execution stack trace. This method records within this\r\n     * {@code Throwable} object information about the current state of\r\n     * the stack frames for the current thread.\r\n     *\r\n     * &lt;p&gt;If the stack trace of this {@code Throwable} {@linkplain\r\n     * Throwable#Throwable(String, Throwable, boolean, boolean) is not\r\n     * writable}, calling this method has no effect.\r\n     *\r\n     * @return  a reference to this {@code Throwable} instance.\r\n     * @see     java.lang.Throwable#printStackTrace()\r\n     */\r\n    public synchronized Throwable fillInStackTrace() {\r\n        if (stackTrace != null ||\r\n            backtrace != null /* Out of protocol state */ ) {\r\n            fillInStackTrace(0);\r\n            stackTrace = UNASSIGNED_STACK;\r\n        }\r\n        return this;\r\n    }\r\n\r\n    private native Throwable fillInStackTrace(int dummy);\r\n\r\n(source [OpenJDK][1])\r\n\r\nI would have guess that fillInStackTrace(int) collects the stack trace from VM internals, and then creates an array of java/lang/StackTraceElement and assigns it to the Throwable.stackTrace property.\r\n\r\nHowever, the standard implementation seems to clear the value of Throwable.stackTrace directly after. When running a simple sample, the information is clearly stored in the Throwable. Sample:\r\n\r\n    Throwable th = new Throwable();\r\n    th.printStackTrace(); // prints the stack up to this point\r\n\r\nSo, where is the magic / what am I misunderstanding?\r\n\r\nPS: what does &quot;out of protocol state&quot; mean in the source code?\r\n\r\n\r\n  [1]: https://github.com/openjdk-mirror/jdk7u-jdk/blob/master/src/share/classes/java/lang/Throwable.java","title":"OpenJDK-java/lang/Throwable.fillInStackTrace - awkward implementation?","body":"<p>I am trying to understand the implementation of Throwable.fillInStackTrace():</p>\n<pre><code>private static final StackTraceElement[] UNASSIGNED_STACK = new StackTraceElement[0];\n[...]\nprivate StackTraceElement[] stackTrace = UNASSIGNED_STACK;\n[...]\n\n/**\n * Fills in the execution stack trace. This method records within this\n * {@code Throwable} object information about the current state of\n * the stack frames for the current thread.\n *\n * &lt;p&gt;If the stack trace of this {@code Throwable} {@linkplain\n * Throwable#Throwable(String, Throwable, boolean, boolean) is not\n * writable}, calling this method has no effect.\n *\n * @return  a reference to this {@code Throwable} instance.\n * @see     java.lang.Throwable#printStackTrace()\n */\npublic synchronized Throwable fillInStackTrace() {\n    if (stackTrace != null ||\n        backtrace != null /* Out of protocol state */ ) {\n        fillInStackTrace(0);\n        stackTrace = UNASSIGNED_STACK;\n    }\n    return this;\n}\n\nprivate native Throwable fillInStackTrace(int dummy);\n</code></pre>\n<p>(source <a href=\"https://github.com/openjdk-mirror/jdk7u-jdk/blob/master/src/share/classes/java/lang/Throwable.java\" rel=\"nofollow noreferrer\">OpenJDK</a>)</p>\n<p>I would have guess that fillInStackTrace(int) collects the stack trace from VM internals, and then creates an array of java/lang/StackTraceElement and assigns it to the Throwable.stackTrace property.</p>\n<p>However, the standard implementation seems to clear the value of Throwable.stackTrace directly after. When running a simple sample, the information is clearly stored in the Throwable. Sample:</p>\n<pre><code>Throwable th = new Throwable();\nth.printStackTrace(); // prints the stack up to this point\n</code></pre>\n<p>So, where is the magic / what am I misunderstanding?</p>\n<p>PS: what does &quot;out of protocol state&quot; mean in the source code?</p>\n"},{"tags":["java","ipv6","broadcast","multicast"],"comments":[{"owner":{"account_id":4620081,"reputation":6197,"user_id":3745413,"display_name":"Ron Maupin"},"score":0,"creation_date":1668621668,"post_id":74464226,"comment_id":131452293,"body_markdown":"IPv6 multicast is used on _every_ IPv6 network, and IPv4 broadcast is a host requirement (all support either the limited broadcast of `255.255.255.255` or the network broadcast), although broadcast is basically deprecated (many companies reject applications that use broadcast; multicast is the modern way of doing things).","body":"IPv6 multicast is used on <i>every</i> IPv6 network, and IPv4 broadcast is a host requirement (all support either the limited broadcast of <code>255.255.255.255</code> or the network broadcast), although broadcast is basically deprecated (many companies reject applications that use broadcast; multicast is the modern way of doing things)."},{"owner":{"account_id":5490607,"reputation":2659,"user_id":4364057,"accept_rate":29,"display_name":"Squirrelkiller"},"score":0,"creation_date":1668624541,"post_id":74464226,"comment_id":131453270,"body_markdown":"Ah so I can just iterate through all network NetworkInterface.getNetwotkInterfaces and all their IP addresses and if I find one IPv6 address I can just use multicast?","body":"Ah so I can just iterate through all network NetworkInterface.getNetwotkInterfaces and all their IP addresses and if I find one IPv6 address I can just use multicast?"},{"owner":{"account_id":430006,"reputation":9575,"user_id":813192,"display_name":"Sander Steffann"},"score":0,"creation_date":1668638225,"post_id":74464226,"comment_id":131457610,"body_markdown":"Even better: every interface should always have an IPv6 link-local address (starting with fe80:) and because you only need to send a multicast packet to the local link that is all you need.","body":"Even better: every interface should always have an IPv6 link-local address (starting with fe80:) and because you only need to send a multicast packet to the local link that is all you need."},{"owner":{"account_id":5490607,"reputation":2659,"user_id":4364057,"accept_rate":29,"display_name":"Squirrelkiller"},"score":0,"creation_date":1668664772,"post_id":74464226,"comment_id":131461906,"body_markdown":"But I want to send the multicast to a specific multicast-group so different instances can use different domains to stay in multiple, separate groups, say &quot;FF05::100&quot;, do I just send that with the first link-local address I can find as sender and others joining that group will definitely receive it? I feel like I need a diagram lol.","body":"But I want to send the multicast to a specific multicast-group so different instances can use different domains to stay in multiple, separate groups, say &quot;FF05::100&quot;, do I just send that with the first link-local address I can find as sender and others joining that group will definitely receive it? I feel like I need a diagram lol."},{"owner":{"account_id":5490607,"reputation":2659,"user_id":4364057,"accept_rate":29,"display_name":"Squirrelkiller"},"score":0,"creation_date":1668688096,"post_id":74464226,"comment_id":131469588,"body_markdown":"Tried it, didn&#39;t work. Results in post.","body":"Tried it, didn&#39;t work. Results in post."},{"owner":{"account_id":1677570,"reputation":18354,"user_id":1542723,"display_name":"Ferrybig"},"score":0,"creation_date":1668688830,"post_id":74464226,"comment_id":131469844,"body_markdown":"&quot;Tried things in the eduroam network:&quot; Test on a network you own, public wifi networks typically have peer to peer communications blocked","body":"&quot;Tried things in the eduroam network:&quot; Test on a network you own, public wifi networks typically have peer to peer communications blocked"},{"owner":{"account_id":5490607,"reputation":2659,"user_id":4364057,"accept_rate":29,"display_name":"Squirrelkiller"},"score":0,"creation_date":1668696266,"post_id":74464226,"comment_id":131473035,"body_markdown":"Well that&#39;s exactly the idea here though, I&#39;d like the program to find out whether or not P2P connection are blocked. On my own network, I don&#39;t have to find out because I already know.","body":"Well that&#39;s exactly the idea here though, I&#39;d like the program to find out whether or not P2P connection are blocked. On my own network, I don&#39;t have to find out because I already know."}],"owner":{"account_id":5490607,"reputation":2659,"user_id":4364057,"accept_rate":29,"display_name":"Squirrelkiller"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":141,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668688075,"creation_date":1668617094,"question_id":74464226,"body_markdown":"So I&#39;d like an automated network discovery for  the application I&#39;m currently building, but turns out we&#39;re not in a perfect world and neither does every network have IPv6 enabled for multicasting, nor is IPv4 UDP broadcast enabled in every network.\r\n\r\nAny idea how I can programmatically find out, if either of those are enabled in the current network? Since UDP doesn&#39;t open a connection, I can just throw datagrams and hope someone finds it, then if noone else answers after a set time (or like, offer the user a button for manual discovery from the beginning) use user provided information (or a name service / registry I&#39;d have to host somewhere).\r\n\r\nLooks like sending a multicast is received on my own machine when I send it from one port to the other, but I can&#39;t be sure it actually goes out of the device and back in or it just loops back because it&#39;s being clever.\r\n\r\nI&#39;d prefer multicast of course - broadcast would be the fallback here.\r\n\r\n**Update**\r\n\r\nTried things in the eduroam network:\r\n\r\nMade new `MulticastSocket` and joined the multicast using `joinGroup`.   \r\nMade new `DatagramSocker` and sent a message to that multicast group  \r\n-&gt; Works locally  \r\n-&gt; Doesn&#39;t work across machines\r\n\r\nSame with broadcast (interfaceAddress.getBroadcast()). Works locally (Sending from one port to another), but not across machines. \r\n\r\nSo how do I programmatically decide if these work?","title":"Find out if UDP Broadcast (IPv4) or multicast (IPv6) are enabled in the current network?","body":"<p>So I'd like an automated network discovery for  the application I'm currently building, but turns out we're not in a perfect world and neither does every network have IPv6 enabled for multicasting, nor is IPv4 UDP broadcast enabled in every network.</p>\n<p>Any idea how I can programmatically find out, if either of those are enabled in the current network? Since UDP doesn't open a connection, I can just throw datagrams and hope someone finds it, then if noone else answers after a set time (or like, offer the user a button for manual discovery from the beginning) use user provided information (or a name service / registry I'd have to host somewhere).</p>\n<p>Looks like sending a multicast is received on my own machine when I send it from one port to the other, but I can't be sure it actually goes out of the device and back in or it just loops back because it's being clever.</p>\n<p>I'd prefer multicast of course - broadcast would be the fallback here.</p>\n<p><strong>Update</strong></p>\n<p>Tried things in the eduroam network:</p>\n<p>Made new <code>MulticastSocket</code> and joined the multicast using <code>joinGroup</code>.<br />\nMade new <code>DatagramSocker</code> and sent a message to that multicast group<br />\n-&gt; Works locally<br />\n-&gt; Doesn't work across machines</p>\n<p>Same with broadcast (interfaceAddress.getBroadcast()). Works locally (Sending from one port to another), but not across machines.</p>\n<p>So how do I programmatically decide if these work?</p>\n"},{"tags":["java","swing","jfilechooser","filechooser"],"comments":[{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":2,"creation_date":1668688680,"post_id":74475473,"comment_id":131469799,"body_markdown":"What was the problem with `Locale.setDefault(new Locale(&quot;es&quot;, &quot;...&quot;));`?","body":"What was the problem with <code>Locale.setDefault(new Locale(&quot;es&quot;, &quot;...&quot;));</code>?"},{"owner":{"account_id":25682631,"reputation":21,"user_id":19445204,"display_name":"Mat2002"},"score":0,"creation_date":1668689014,"post_id":74475473,"comment_id":131469918,"body_markdown":"I have tried that but don&#39;t know why it&#39;s not working as intended, what should you put in the &quot;...&quot;?","body":"I have tried that but don&#39;t know why it&#39;s not working as intended, what should you put in the &quot;...&quot;?"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1668689277,"post_id":74475473,"comment_id":131470012,"body_markdown":"The country, like &quot;ES&quot;.","body":"The country, like &quot;ES&quot;."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1668689411,"post_id":74475473,"comment_id":131470062,"body_markdown":"There are many properties in UIManage, like &quot;Cancel&quot;. Not really familiar with myself.","body":"There are many properties in UIManage, like &quot;Cancel&quot;. Not really familiar with myself."},{"owner":{"account_id":25682631,"reputation":21,"user_id":19445204,"display_name":"Mat2002"},"score":0,"creation_date":1668689602,"post_id":74475473,"comment_id":131470145,"body_markdown":"I have added Locale.setDefault(new Locale(&quot;es&quot;,&quot;ES&quot;); but it still doesn&#39;t work, should i put it before or after the initComponents()?","body":"I have added Locale.setDefault(new Locale(&quot;es&quot;,&quot;ES&quot;); but it still doesn&#39;t work, should i put it before or after the initComponents()?"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1668689928,"post_id":74475473,"comment_id":131470284,"body_markdown":"Before. Not entirely confident it works. There are also SPANISH constants probably.","body":"Before. Not entirely confident it works. There are also SPANISH constants probably."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1668689988,"post_id":74475473,"comment_id":131470315,"body_markdown":"In every case the file chooser can be severely customized, butons and such.","body":"In every case the file chooser can be severely customized, butons and such."},{"owner":{"account_id":9059972,"reputation":3080,"user_id":6746785,"display_name":"gthanop"},"score":0,"creation_date":1668701550,"post_id":74475473,"comment_id":131475299,"body_markdown":"@Mat2002 how did you fix it?","body":"@Mat2002 how did you fix it?"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":2,"creation_date":1668702694,"post_id":74475473,"comment_id":131475727,"body_markdown":"_Fixed it!_ I see that you have the [informed](https://stackoverflow.com/help/badges/2600/informed?userid=19445204) badge which means you read the [tour] page and therefore you read this: _With your help, we&#39;re working together to build a library of detailed, high-quality answers to every question about programming._ Other people may be trying, unsuccessfully, to do what you have succeeded in doing and so may benefit from your &quot;fix&quot;. You can [answer your own question](https://stackoverflow.com/help/self-answer).","body":"<i>Fixed it!</i> I see that you have the <a href=\"https://stackoverflow.com/help/badges/2600/informed?userid=19445204\">informed</a> badge which means you read the <a href=\"https://stackoverflow.com/tour\">tour</a> page and therefore you read this: <i>With your help, we&#39;re working together to build a library of detailed, high-quality answers to every question about programming.</i> Other people may be trying, unsuccessfully, to do what you have succeeded in doing and so may benefit from your &quot;fix&quot;. You can <a href=\"https://stackoverflow.com/help/self-answer\">answer your own question</a>."}],"owner":{"account_id":25682631,"reputation":21,"user_id":19445204,"display_name":"Mat2002"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":0,"score":0,"last_activity_date":1668688042,"creation_date":1668688042,"question_id":74475473,"body_markdown":"I&#39;m doing a program that requests that I change the names on the labels of my filechooser in java\r\nI have tried multiple ways with no results.\r\nI want to switch the language to spanish that&#39;s why I can&#39;t use Locale\r\n\r\n\r\n\r\nFound this code online but don&#39;t know how to implement it:\r\nUIManager.put(&quot;FileChooser.openDialogTitleText&quot;,&quot;your text here&quot;);\r\nSwingUtilities.updateComponentTreeUI(rootComponent);","title":"Changing the language of a filechooser java","body":"<p>I'm doing a program that requests that I change the names on the labels of my filechooser in java\nI have tried multiple ways with no results.\nI want to switch the language to spanish that's why I can't use Locale</p>\n<p>Found this code online but don't know how to implement it:\nUIManager.put(&quot;FileChooser.openDialogTitleText&quot;,&quot;your text here&quot;);\nSwingUtilities.updateComponentTreeUI(rootComponent);</p>\n"},{"tags":["java","mysql","jdbc"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":1,"creation_date":1668685561,"post_id":74474789,"comment_id":131468704,"body_markdown":"It would help if you created methods for the database connection and for the individual SQL statements.  Separate methods can be tested separately.","body":"It would help if you created methods for the database connection and for the individual SQL statements.  Separate methods can be tested separately."},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1668685726,"post_id":74474789,"comment_id":131468754,"body_markdown":"Please post the entire stacktrace (use `e.printStackTrace()`, not `System.out.println(e)`)","body":"Please post the entire stacktrace (use <code>e.printStackTrace()</code>, not <code>System.out.println(e)</code>)"},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1668685809,"post_id":74474789,"comment_id":131468787,"body_markdown":"And please learn how to use prepared statements and parameters. You should not concatenate values into a query string like this, it makes your code vulnerable to SQL injection.","body":"And please learn how to use prepared statements and parameters. You should not concatenate values into a query string like this, it makes your code vulnerable to SQL injection."},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1668685862,"post_id":74474789,"comment_id":131468812,"body_markdown":"The problem is the call `insertQueryGetId(&quot;SELECT workoutID FROM workout&quot;)`. The `insertQueryGetId` method uses `executeUpdate`, which cannot work with a select.","body":"The problem is the call <code>insertQueryGetId(&quot;SELECT workoutID FROM workout&quot;)</code>. The <code>insertQueryGetId</code> method uses <code>executeUpdate</code>, which cannot work with a select."}],"answers":[{"tags":[],"owner":{"account_id":26900313,"reputation":83,"user_id":20477563,"display_name":"Syed Asad Manzoor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668686957,"creation_date":1668686608,"answer_id":74475151,"question_id":74474789,"body_markdown":"        public void  insertIntoWorkoutLogs(String field_setNumber, String field_repNumber, String field_weightAmount) {\r\n            try{\r\n                Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n                Connection connection= DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/workout&quot;,&quot;root&quot;,&quot;&quot;);\r\n                Statement statement =connection.createStatement();\r\n        \r\n                String insert =&quot;INSERT INTO `workout`.`workoutlogs`&quot; + &quot; (`SetNumber`, `RepNumber` , `WeightAmount`)&quot;\r\n                          + &quot;VALUES(&#39;&quot; +field_setNumber+&quot;&#39;,&#39;&quot;+field_repNumber+&quot;&#39;,&#39;&quot;+field_weightAmount+&quot;&#39;)&quot;;\r\n                statement.executeUpdate(insert);\r\n        \r\n                **int workoutID = insertQueryGetId(&quot;SELECT workoutID FROM workout&quot;);** // Line of Concern 1\r\n        \r\n                String insert2 =&quot;INSERT INTO `workout`.`workoutlogs`&quot; + &quot; (`WorkoutID`)&quot;\r\n                          + &quot;VALUES(&#39;&quot; +workoutID+&quot;&#39;)&quot;;\r\n                statement.executeUpdate(insert2);\r\n        \r\n                connection.close();\r\n            }catch(Exception e) {\r\n                System.out.println(e);\r\n            }\r\n        }\r\n        \r\n        public int insertQueryGetId(String query) throws ClassNotFoundException, SQLException {\r\n            Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n            Connection connection= DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/workout&quot;,&quot;root&quot;,&quot;&quot;);\r\n            Statement statement =connection.createStatement();\r\n            \r\n            int workoutID=0;\r\n            int result=-1;\r\n            \r\n            try {\r\n    // Line of Concern  2\r\n                **workoutID = statement.executeUpdate(query, Statement.RETURN_GENERATED_KEYS);**  \r\n\r\n&gt; In line (marked as Line of Concern 1 ..\r\n****int workoutID = insertQueryGetId(&quot;SELECT workoutID FROM workout&quot;);**** you are passing query as &quot;SELECT....&quot; and at point marked as Line of Concern 2\r\n****workoutID = statement.*executeUpdate(query*, Statement.RETURN_GENERATED_KEYS);****   you are using executeUpdate..  thats why exception is thrown. \r\n\r\n**Change statement.executeUpdate(query) to statement.executeQuery(query)..** \r\n\r\n            \r\n","title":"Getting error &quot;statement.executeupdate() cannot issue statements that produce result sets.&quot; when trying to insert into mysql using JDBC","body":"<pre><code>    public void  insertIntoWorkoutLogs(String field_setNumber, String field_repNumber, String field_weightAmount) {\n        try{\n            Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\n            Connection connection= DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/workout&quot;,&quot;root&quot;,&quot;&quot;);\n            Statement statement =connection.createStatement();\n    \n            String insert =&quot;INSERT INTO `workout`.`workoutlogs`&quot; + &quot; (`SetNumber`, `RepNumber` , `WeightAmount`)&quot;\n                      + &quot;VALUES('&quot; +field_setNumber+&quot;','&quot;+field_repNumber+&quot;','&quot;+field_weightAmount+&quot;')&quot;;\n            statement.executeUpdate(insert);\n    \n            **int workoutID = insertQueryGetId(&quot;SELECT workoutID FROM workout&quot;);** // Line of Concern 1\n    \n            String insert2 =&quot;INSERT INTO `workout`.`workoutlogs`&quot; + &quot; (`WorkoutID`)&quot;\n                      + &quot;VALUES('&quot; +workoutID+&quot;')&quot;;\n            statement.executeUpdate(insert2);\n    \n            connection.close();\n        }catch(Exception e) {\n            System.out.println(e);\n        }\n    }\n    \n    public int insertQueryGetId(String query) throws ClassNotFoundException, SQLException {\n        Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\n        Connection connection= DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/workout&quot;,&quot;root&quot;,&quot;&quot;);\n        Statement statement =connection.createStatement();\n        \n        int workoutID=0;\n        int result=-1;\n        \n        try {\n// Line of Concern  2\n            **workoutID = statement.executeUpdate(query, Statement.RETURN_GENERATED_KEYS);**  \n</code></pre>\n<blockquote>\n<p>In line (marked as Line of Concern 1 ..\n<strong><strong>int workoutID = insertQueryGetId(&quot;SELECT workoutID FROM workout&quot;);</strong></strong> you are passing query as &quot;SELECT....&quot; and at point marked as Line of Concern 2\n<strong><strong>workoutID = statement.<em>executeUpdate(query</em>, Statement.RETURN_GENERATED_KEYS);</strong></strong>   you are using executeUpdate..  thats why exception is thrown.</p>\n</blockquote>\n<p><strong>Change statement.executeUpdate(query) to statement.executeQuery(query)..</strong></p>\n"},{"tags":[],"owner":{"account_id":26647805,"reputation":11,"user_id":20262528,"display_name":"Akash"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668686941,"creation_date":1668686806,"answer_id":74475188,"question_id":74474789,"body_markdown":"It&#39;s because you are passing wrong query. `Statement.RETURN_GENERATED_KEYS` works with **Insert** queries not with **Select** queries.\r\nWhen you insert a row in database, an auto increment value gets generated and is returned but you are passing a Select statement\r\n\r\nAs Syed Asad Manzoor said, it will work for you but then you need to remove `Statement.RETURN_GENERATED_KEYS` and `statement.executeQuery()` has return type of `ResultSet` so you need to store the result in `ResultSet` only.","title":"Getting error &quot;statement.executeupdate() cannot issue statements that produce result sets.&quot; when trying to insert into mysql using JDBC","body":"<p>It's because you are passing wrong query. <code>Statement.RETURN_GENERATED_KEYS</code> works with <strong>Insert</strong> queries not with <strong>Select</strong> queries.\nWhen you insert a row in database, an auto increment value gets generated and is returned but you are passing a Select statement</p>\n<p>As Syed Asad Manzoor said, it will work for you but then you need to remove <code>Statement.RETURN_GENERATED_KEYS</code> and <code>statement.executeQuery()</code> has return type of <code>ResultSet</code> so you need to store the result in <code>ResultSet</code> only.</p>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668688015,"creation_date":1668688015,"answer_id":74475469,"question_id":74474789,"body_markdown":"The INSERT statement needs to have flag RETURN_GENERATED_KEYS.\r\nThen getting the ResultSet would deliver for every insert record the generated key(s).\r\n\r\nAlso use a PreparedStatement for escaping of strings and against SQL injection.\r\n\r\nUse try-with-resources to automatically close the several objects, even with exception or early return.\r\n\r\n    Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n    try (Connection connection = DriverManager.getConnection(\r\n            &quot;jdbc:mysql://localhost:3306/workout&quot;, &quot;root&quot;, &quot;&quot;)) {\r\n        String insertSql = &quot;INSERT INTO `workout`.`workoutlogs`&quot;\r\n                + &quot; (`SetNumber`, `RepNumber` , `WeightAmount`)&quot;\r\n                + &quot; VALUES(?, ?, ?)&quot;;\r\n        try (PreparedStatement statement = connection.prepareStatement(insertSql,\r\n                Statement.RETURN_GENERATED_KEYS)) {\r\n            statement.setString(field_setNumber);\r\n            statement.setString(field_repNumber);\r\n            statement.setBigDecimal(field_weightAmount);\r\n            statement.executeUpdate();\r\n            try (ResultSet rs = statement.getGeneratedKey()) {\r\n                if (rs.next()) {\r\n                    int workoutID = rs.getInt(0);\r\n                    //... second insert here\r\n                }\r\n            }\r\n        }\r\n    }\r\n","title":"Getting error &quot;statement.executeupdate() cannot issue statements that produce result sets.&quot; when trying to insert into mysql using JDBC","body":"<p>The INSERT statement needs to have flag RETURN_GENERATED_KEYS.\nThen getting the ResultSet would deliver for every insert record the generated key(s).</p>\n<p>Also use a PreparedStatement for escaping of strings and against SQL injection.</p>\n<p>Use try-with-resources to automatically close the several objects, even with exception or early return.</p>\n<pre><code>Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\ntry (Connection connection = DriverManager.getConnection(\n        &quot;jdbc:mysql://localhost:3306/workout&quot;, &quot;root&quot;, &quot;&quot;)) {\n    String insertSql = &quot;INSERT INTO `workout`.`workoutlogs`&quot;\n            + &quot; (`SetNumber`, `RepNumber` , `WeightAmount`)&quot;\n            + &quot; VALUES(?, ?, ?)&quot;;\n    try (PreparedStatement statement = connection.prepareStatement(insertSql,\n            Statement.RETURN_GENERATED_KEYS)) {\n        statement.setString(field_setNumber);\n        statement.setString(field_repNumber);\n        statement.setBigDecimal(field_weightAmount);\n        statement.executeUpdate();\n        try (ResultSet rs = statement.getGeneratedKey()) {\n            if (rs.next()) {\n                int workoutID = rs.getInt(0);\n                //... second insert here\n            }\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":26962028,"reputation":1,"user_id":20529569,"display_name":"mrjbcam"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":361,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1668688015,"creation_date":1668684931,"question_id":74474789,"body_markdown":"I&#39;m trying to get the primary auto incremented key from one table and store this in another using MySQL connector and JDBC. Although its giving me this error:\r\n\r\n&gt; statement.executeupdate() cannot issue statements that produce result\r\n&gt; sets.\r\n\r\nI think its something to do with the storing of the integer variable but not too sure.\r\n\r\n```\r\npublic void  insertIntoWorkoutLogs(String field_setNumber, String field_repNumber, String field_weightAmount) {\r\n    try{\r\n        Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n        Connection connection= DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/workout&quot;,&quot;root&quot;,&quot;&quot;);\r\n        Statement statement =connection.createStatement();\r\n\r\n        String insert =&quot;INSERT INTO `workout`.`workoutlogs`&quot; + &quot; (`SetNumber`, `RepNumber` , `WeightAmount`)&quot;\r\n                  + &quot;VALUES(&#39;&quot; +field_setNumber+&quot;&#39;,&#39;&quot;+field_repNumber+&quot;&#39;,&#39;&quot;+field_weightAmount+&quot;&#39;)&quot;;\r\n        statement.executeUpdate(insert);\r\n\r\n        int workoutID = insertQueryGetId(&quot;SELECT workoutID FROM workout&quot;);\r\n\r\n        String insert2 =&quot;INSERT INTO `workout`.`workoutlogs`&quot; + &quot; (`WorkoutID`)&quot;\r\n                  + &quot;VALUES(&#39;&quot; +workoutID+&quot;&#39;)&quot;;\r\n        statement.executeUpdate(insert2);\r\n\r\n        connection.close();\r\n    }catch(Exception e) {\r\n        System.out.println(e);\r\n    }\r\n}\r\n\r\npublic int insertQueryGetId(String query) throws ClassNotFoundException, SQLException {\r\n    Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n    Connection connection= DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/workout&quot;,&quot;root&quot;,&quot;&quot;);\r\n    Statement statement =connection.createStatement();\r\n    \r\n    int workoutID=0;\r\n    int result=-1;\r\n    \r\n    try {\r\n        workoutID = statement.executeUpdate(query, Statement.RETURN_GENERATED_KEYS);\r\n        \r\n        ResultSet rs = statement.getGeneratedKeys();\r\n        if (rs.next()){\r\n            result=rs.getInt(1);\r\n        }\r\n        rs.close();\r\n        \r\n        statement.close();\r\n    \r\n    } catch (Exception e) {\r\n        e.printStackTrace();\r\n    }\r\n    return result;\r\n}\r\n```\r\n\r\nI&#39;ve tried using statement for this, but I&#39;m thinking it may have to be prepared statement for it to work. Expecting to store the auto incremented primary key of one table (workouts) into a field within another table (workoutlogs).","title":"Getting error &quot;statement.executeupdate() cannot issue statements that produce result sets.&quot; when trying to insert into mysql using JDBC","body":"<p>I'm trying to get the primary auto incremented key from one table and store this in another using MySQL connector and JDBC. Although its giving me this error:</p>\n<blockquote>\n<p>statement.executeupdate() cannot issue statements that produce result\nsets.</p>\n</blockquote>\n<p>I think its something to do with the storing of the integer variable but not too sure.</p>\n<pre><code>public void  insertIntoWorkoutLogs(String field_setNumber, String field_repNumber, String field_weightAmount) {\n    try{\n        Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\n        Connection connection= DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/workout&quot;,&quot;root&quot;,&quot;&quot;);\n        Statement statement =connection.createStatement();\n\n        String insert =&quot;INSERT INTO `workout`.`workoutlogs`&quot; + &quot; (`SetNumber`, `RepNumber` , `WeightAmount`)&quot;\n                  + &quot;VALUES('&quot; +field_setNumber+&quot;','&quot;+field_repNumber+&quot;','&quot;+field_weightAmount+&quot;')&quot;;\n        statement.executeUpdate(insert);\n\n        int workoutID = insertQueryGetId(&quot;SELECT workoutID FROM workout&quot;);\n\n        String insert2 =&quot;INSERT INTO `workout`.`workoutlogs`&quot; + &quot; (`WorkoutID`)&quot;\n                  + &quot;VALUES('&quot; +workoutID+&quot;')&quot;;\n        statement.executeUpdate(insert2);\n\n        connection.close();\n    }catch(Exception e) {\n        System.out.println(e);\n    }\n}\n\npublic int insertQueryGetId(String query) throws ClassNotFoundException, SQLException {\n    Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\n    Connection connection= DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/workout&quot;,&quot;root&quot;,&quot;&quot;);\n    Statement statement =connection.createStatement();\n    \n    int workoutID=0;\n    int result=-1;\n    \n    try {\n        workoutID = statement.executeUpdate(query, Statement.RETURN_GENERATED_KEYS);\n        \n        ResultSet rs = statement.getGeneratedKeys();\n        if (rs.next()){\n            result=rs.getInt(1);\n        }\n        rs.close();\n        \n        statement.close();\n    \n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n    return result;\n}\n</code></pre>\n<p>I've tried using statement for this, but I'm thinking it may have to be prepared statement for it to work. Expecting to store the auto incremented primary key of one table (workouts) into a field within another table (workoutlogs).</p>\n"},{"tags":["javascript","java","base64","decoding","cryptojs"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1668688063,"post_id":74475421,"comment_id":131469573,"body_markdown":"Base64 is a way to take binary data and encode it in human readable ASCII. Take three 8 bit values, and output four base64 values. To decode you do the reverse. There are 3 distinct Base64 alphabets, so you&#39;ll need to find the correct one.","body":"Base64 is a way to take binary data and encode it in human readable ASCII. Take three 8 bit values, and output four base64 values. To decode you do the reverse. There are 3 distinct Base64 alphabets, so you&#39;ll need to find the correct one."},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1668688078,"post_id":74475421,"comment_id":131469584,"body_markdown":"I don&#39;t normally do JavaScript, but wouldn&#39;t the equivalent be `atob(encryptedString)`?","body":"I don&#39;t normally do JavaScript, but wouldn&#39;t the equivalent be <code>atob(encryptedString)</code>?"},{"owner":{"account_id":26953597,"reputation":1,"user_id":20522388,"display_name":"Riya"},"score":0,"creation_date":1668697147,"post_id":74475421,"comment_id":131473403,"body_markdown":"atob is now depricated, and I foud way to decode Uint8Arrays to string (base64 conversion). But I am looking for a way to decode Uint8array to decode into Uint8array (not to string). I am confused in this part as the Java function Base64Utils.decode() is taking byte array and returning bytearray again","body":"atob is now depricated, and I foud way to decode Uint8Arrays to string (base64 conversion). But I am looking for a way to decode Uint8array to decode into Uint8array (not to string). I am confused in this part as the Java function Base64Utils.decode() is taking byte array and returning bytearray again"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1668698992,"post_id":74475421,"comment_id":131474228,"body_markdown":"*I am confused in this part as the Java function Base64Utils.decode() is taking byte array and returning bytearray again* Because base64 usually encodes binary data, which can&#39;t be used to create a string","body":"<i>I am confused in this part as the Java function Base64Utils.decode() is taking byte array and returning bytearray again</i> Because base64 usually encodes binary data, which can&#39;t be used to create a string"}],"owner":{"account_id":26953597,"reputation":1,"user_id":20522388,"display_name":"Riya"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668687970,"creation_date":1668687821,"question_id":74475421,"body_markdown":"I have an encryption and decryption method in Java. I want to create same decryption function in JavaScript. I am translating line by line, but have an issue in one line as I am not able to understand that. That line is:\r\n```java\r\nbyte[] dec = Base64Utils.decode(encryptedString.getBytes());\r\n```\r\n\r\nHow can I do this in JavaScript. I know .getBytes can be replicated by using text encoder, but I&#39;m not sure about base64 decoding it.\r\n\r\nFor reference, here is the Java method I am trying to replicate\r\n\r\n```java\r\npublic String decrypti(String encryptedString, String encodekey) {\r\n    try {\r\n        if (encryptedString != null) {\r\n            encryptedString = encryptedString.replace(&quot;-&quot;, &quot;+&quot;).replace(&quot;_&quot;, &quot;/&quot;).concat(&quot;==&quot;);\r\n\r\n            Cipher dcipher = Cipher.getInstance(&quot;AES&quot;);\r\n            byte[] key = encodekey.getBytes(StandardCharsets.UTF_8);\r\n            MessageDigest sha = MessageDigest.getInstance(&quot;SHA-1&quot;);\r\n            key = sha.digest(key);\r\n            key = Arrays.copyOf(key, 16); // use only first 128 bit\r\n\r\n            SecretKeySpec secretKeySpec = new SecretKeySpec(key, transformation);\r\n\r\n            dcipher.init(Cipher.DECRYPT_MODE, secretKeySpec);\r\n            // decode with base64 to get bytes\r\n            byte[] dec = Base64Utils.decode(encryptedString.getBytes());\r\n            byte[] utf8 = dcipher.doFinal(dec);\r\n\r\n            // create new string based on the specified charset\r\n            return new String(utf8, StandardCharsets.UTF_8);\r\n        }\r\n\r\n    } catch (Exception e) {\r\n        log.error(&quot;Error during decrypting code - {}&quot;, e.getMessage());\r\n    }\r\n    return null;\r\n}\r\n```\r\n\r\nAnd here is the JavaScript code that I have written till now:\r\n```javascript\r\nconst decrypt = (encodedString, encodeKey) =&gt; {\r\n  let encrptedStr = encodedString.replace(/-/g, &quot;_&quot;).replace(/\\+/g, &quot;/&quot;).concat(&quot;==&quot;);\r\n  \r\n  const encoder = new TextEncoder(&#39;UTF-8&#39;);\r\n  const bytes = encoder.encode(encodeKey);  // reference to encodekey.getBytes(StandardCharsets.UTF_8);\r\n  const sha1Hash = CryptoJS.SHA1(bytes);                        // Create SHA1 hash\r\n  const secretAesKey = CryptoJS.lib.WordArray.create(sha1Hash.words.slice(0, 4)); \r\n\r\n  const decryptedBytes = CryptoJS.AES.decrypt(\r\n    encrptedStr,\r\n    secretAesKey,\r\n  );\r\n  const finalDecryptedValue = decryptedBytes.toString(CryptoJS.enc.Utf8);\r\n  return finalDecryptedValue;\r\n}\r\n```\r\n","title":"Javascript syntax for Base64Utils.decode() java code","body":"<p>I have an encryption and decryption method in Java. I want to create same decryption function in JavaScript. I am translating line by line, but have an issue in one line as I am not able to understand that. That line is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>byte[] dec = Base64Utils.decode(encryptedString.getBytes());\n</code></pre>\n<p>How can I do this in JavaScript. I know .getBytes can be replicated by using text encoder, but I'm not sure about base64 decoding it.</p>\n<p>For reference, here is the Java method I am trying to replicate</p>\n<pre class=\"lang-java prettyprint-override\"><code>public String decrypti(String encryptedString, String encodekey) {\n    try {\n        if (encryptedString != null) {\n            encryptedString = encryptedString.replace(&quot;-&quot;, &quot;+&quot;).replace(&quot;_&quot;, &quot;/&quot;).concat(&quot;==&quot;);\n\n            Cipher dcipher = Cipher.getInstance(&quot;AES&quot;);\n            byte[] key = encodekey.getBytes(StandardCharsets.UTF_8);\n            MessageDigest sha = MessageDigest.getInstance(&quot;SHA-1&quot;);\n            key = sha.digest(key);\n            key = Arrays.copyOf(key, 16); // use only first 128 bit\n\n            SecretKeySpec secretKeySpec = new SecretKeySpec(key, transformation);\n\n            dcipher.init(Cipher.DECRYPT_MODE, secretKeySpec);\n            // decode with base64 to get bytes\n            byte[] dec = Base64Utils.decode(encryptedString.getBytes());\n            byte[] utf8 = dcipher.doFinal(dec);\n\n            // create new string based on the specified charset\n            return new String(utf8, StandardCharsets.UTF_8);\n        }\n\n    } catch (Exception e) {\n        log.error(&quot;Error during decrypting code - {}&quot;, e.getMessage());\n    }\n    return null;\n}\n</code></pre>\n<p>And here is the JavaScript code that I have written till now:</p>\n<pre class=\"lang-js prettyprint-override\"><code>const decrypt = (encodedString, encodeKey) =&gt; {\n  let encrptedStr = encodedString.replace(/-/g, &quot;_&quot;).replace(/\\+/g, &quot;/&quot;).concat(&quot;==&quot;);\n  \n  const encoder = new TextEncoder('UTF-8');\n  const bytes = encoder.encode(encodeKey);  // reference to encodekey.getBytes(StandardCharsets.UTF_8);\n  const sha1Hash = CryptoJS.SHA1(bytes);                        // Create SHA1 hash\n  const secretAesKey = CryptoJS.lib.WordArray.create(sha1Hash.words.slice(0, 4)); \n\n  const decryptedBytes = CryptoJS.AES.decrypt(\n    encrptedStr,\n    secretAesKey,\n  );\n  const finalDecryptedValue = decryptedBytes.toString(CryptoJS.enc.Utf8);\n  return finalDecryptedValue;\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":6410870,"reputation":1740,"user_id":4970679,"display_name":"ahuemmer"},"score":0,"creation_date":1668686788,"post_id":74474153,"comment_id":131469163,"body_markdown":"Welcome to SO. I&#39;ve submitted an edit request to your post as there&#39;s not need to use the maximum font size for your paragraph. Also, it might be hard to help you without knowing at least the code you use to apply the filtering.","body":"Welcome to SO. I&#39;ve submitted an edit request to your post as there&#39;s not need to use the maximum font size for your paragraph. Also, it might be hard to help you without knowing at least the code you use to apply the filtering."},{"owner":{"account_id":26344333,"reputation":1,"user_id":20002956,"display_name":"Kerem Shtyn"},"score":0,"creation_date":1668687904,"post_id":74474153,"comment_id":131469518,"body_markdown":"Thanks. Do you have any idea for the problem?","body":"Thanks. Do you have any idea for the problem?"},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1668688142,"post_id":74474153,"comment_id":131469605,"body_markdown":"Do you use Lombok? How do you do the mapping from Entity to DTO?","body":"Do you use Lombok? How do you do the mapping from Entity to DTO?"},{"owner":{"account_id":26344333,"reputation":1,"user_id":20002956,"display_name":"Kerem Shtyn"},"score":0,"creation_date":1668691629,"post_id":74474153,"comment_id":131471022,"body_markdown":"Yes, i use Lombok. I use mappers to map Entity to Domain and Domain to DTO.","body":"Yes, i use Lombok. I use mappers to map Entity to Domain and Domain to DTO."},{"owner":{"account_id":6410870,"reputation":1740,"user_id":4970679,"display_name":"ahuemmer"},"score":0,"creation_date":1668691792,"post_id":74474153,"comment_id":131471085,"body_markdown":"@KeremShtyn as Simon and I said, it&#39;s quite difficult to help you without your mapping and/or filtering code...","body":"@KeremShtyn as Simon and I said, it&#39;s quite difficult to help you without your mapping and/or filtering code..."},{"owner":{"account_id":26344333,"reputation":1,"user_id":20002956,"display_name":"Kerem Shtyn"},"score":0,"creation_date":1668694356,"post_id":74474153,"comment_id":131472204,"body_markdown":"Actually I solved the problem but reason of the problem was not about mapping or filtering. Problem is about relations and toString.Firstly, I added @JsonIgnore annotation to OneToMany relations. Then, toString excludes should have applied to Entity.After that, my problem solved and application launched with zero defect.","body":"Actually I solved the problem but reason of the problem was not about mapping or filtering. Problem is about relations and toString.Firstly, I added @JsonIgnore annotation to OneToMany relations. Then, toString excludes should have applied to Entity.After that, my problem solved and application launched with zero defect."}],"owner":{"account_id":26344333,"reputation":1,"user_id":20002956,"display_name":"Kerem Shtyn"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668687863,"creation_date":1668682238,"question_id":74474153,"body_markdown":"This is the entity that I want to apply filtering to. It has a `ManyToOne` relationship with `x` entity.\r\n\r\n```java\r\npublic class BaseEntity {\r\n\r\n\r\n    private String identifier;\r\n\r\n    \r\n    private String type;\r\n\r\n\r\n    private String model;\r\n\r\n\r\n    private Integer capacity;\r\n\r\n\r\n    private Integer point;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;x_id&quot;)\r\n    private XEntity x;\r\n\r\n// getter, setters and constructors...\r\n\r\n}\r\n```\r\n\r\nAnd this is the entity which has `OneToMany` relationship with base entity is also has.\r\n\r\n```java\r\npublic class XEntity {\r\n\r\n\r\n    private String identifier;\r\n\r\n\r\n    private String code;\r\n\r\n\r\n    private String name;\r\n\r\n\r\n    private String country;\r\n\r\n\r\n    @OneToMany(mappedBy = &quot;x&quot;,cascade = {CascadeType.MERGE,CascadeType.PERSIST})\r\n    private Set&lt;BaseEntity&gt; bases;\r\n\r\n    @OneToMany(mappedBy = &quot;x&quot;,cascade = {CascadeType.MERGE,CascadeType.PERSIST})\r\n    private Set&lt;YEntity&gt; y;\r\n\r\n    // getter, setters and constructors...\r\n\r\n}\r\n```\r\n\r\nWhen I tried to code filtering with Spring Data JPA, a `StackOverflowError` has occured on mapping the `y` object in an `x` object. \r\n\r\nMY ONLY PROBLEM IS:\r\nI mapped join columns as their id columns in domain and dto layers and expect not to get the error, but it occurred.\r\n\r\nHow do I solve the problem?\r\n\r\n[This is my debug console when I launch the search request on the controller, it is showing `x` entity which tries mapping to `y` entity inside the object.]\r\n https://i.stack.imgur.com/DaiVv.png","title":"How to fix an StackOverflow Error in Searching and Filtering with Spring Data Jpa with multi relational Data Tables","body":"<p>This is the entity that I want to apply filtering to. It has a <code>ManyToOne</code> relationship with <code>x</code> entity.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class BaseEntity {\n\n\n    private String identifier;\n\n    \n    private String type;\n\n\n    private String model;\n\n\n    private Integer capacity;\n\n\n    private Integer point;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;x_id&quot;)\n    private XEntity x;\n\n// getter, setters and constructors...\n\n}\n</code></pre>\n<p>And this is the entity which has <code>OneToMany</code> relationship with base entity is also has.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class XEntity {\n\n\n    private String identifier;\n\n\n    private String code;\n\n\n    private String name;\n\n\n    private String country;\n\n\n    @OneToMany(mappedBy = &quot;x&quot;,cascade = {CascadeType.MERGE,CascadeType.PERSIST})\n    private Set&lt;BaseEntity&gt; bases;\n\n    @OneToMany(mappedBy = &quot;x&quot;,cascade = {CascadeType.MERGE,CascadeType.PERSIST})\n    private Set&lt;YEntity&gt; y;\n\n    // getter, setters and constructors...\n\n}\n</code></pre>\n<p>When I tried to code filtering with Spring Data JPA, a <code>StackOverflowError</code> has occured on mapping the <code>y</code> object in an <code>x</code> object.</p>\n<p>MY ONLY PROBLEM IS:\nI mapped join columns as their id columns in domain and dto layers and expect not to get the error, but it occurred.</p>\n<p>How do I solve the problem?</p>\n<p>[This is my debug console when I launch the search request on the controller, it is showing <code>x</code> entity which tries mapping to <code>y</code> entity inside the object.]\n<a href=\"https://i.stack.imgur.com/DaiVv.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/DaiVv.png</a></p>\n"},{"tags":["java","data-structures","priority-queue","treenode"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":4,"creation_date":1668617553,"post_id":74464025,"comment_id":131450794,"body_markdown":"please consider [Why should I not upload images of code/data/errors?](https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors?r=SearchResults&amp;s=1%7C98.8262) And can you explain what is a &quot;*huffman tree project*&quot;","body":"please consider <a href=\"https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors?r=SearchResults&amp;s=1%7C98.8262\">Why should I not upload images of code/data/errors?</a> And can you explain what is a &quot;<i>huffman tree project</i>&quot;"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1668620685,"post_id":74464025,"comment_id":131451943,"body_markdown":"( BTW a PriorityQueue is basically just a list with the additional function of returning the smallest value [and some optimization for that] - so it can be replaced by a list and some code to retrieve the smallest value )","body":"( BTW a PriorityQueue is basically just a list with the additional function of returning the smallest value [and some optimization for that] - so it can be replaced by a list and some code to retrieve the smallest value )"}],"answers":[{"tags":[],"owner":{"account_id":7178634,"reputation":55168,"user_id":5483526,"display_name":"Matt Timmermans"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668687853,"creation_date":1668687853,"answer_id":74475429,"question_id":74464025,"body_markdown":"There&#39;s a trick that is often used to build Huffman trees in practice:\r\n\r\n 1. Create a list of your symbols with probabilities, and sort it in ascending order\r\n 2. Create an initially empty list for combined symbols.  This will remain sorted as we work.\r\n\r\n 3. While there is more than one symbol in the lists:\r\n\r\n    1. Remove the two smallest symbols from the beginnings of two lists\r\n    2. Combine them and add them to the end of the combined list.  Because the new symbol has a higher combined probability than any combined symbol created before, this list remains sorted.\r\n\r\nAfter the initial sorting, the smallest probability symbol will always be the first one of one of the two lists, so no priority queues or searching is required to find it.\r\n\r\nThis technique is quite clever, and your lecturer would not expect you to think of it yourself, so it was probably taught or referenced in class.\r\n\r\n","title":"huffman tree without using priority queues","body":"<p>There's a trick that is often used to build Huffman trees in practice:</p>\n<ol>\n<li><p>Create a list of your symbols with probabilities, and sort it in ascending order</p>\n</li>\n<li><p>Create an initially empty list for combined symbols.  This will remain sorted as we work.</p>\n</li>\n<li><p>While there is more than one symbol in the lists:</p>\n<ol>\n<li>Remove the two smallest symbols from the beginnings of two lists</li>\n<li>Combine them and add them to the end of the combined list.  Because the new symbol has a higher combined probability than any combined symbol created before, this list remains sorted.</li>\n</ol>\n</li>\n</ol>\n<p>After the initial sorting, the smallest probability symbol will always be the first one of one of the two lists, so no priority queues or searching is required to find it.</p>\n<p>This technique is quite clever, and your lecturer would not expect you to think of it yourself, so it was probably taught or referenced in class.</p>\n"}],"owner":{"account_id":23586857,"reputation":9,"user_id":17625207,"display_name":"Grant Sodipo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":233,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1668696491,"answer_count":1,"score":-1,"last_activity_date":1668687853,"creation_date":1668616182,"question_id":74464025,"body_markdown":"for my project i have to create a huffman tree project, but my lecturer has said that i cannot use priority queues to build it?\r\nBut i dunno how to implement that.\r\nAre there any other ways i can create a huffman tree without using priority queues?\r\n\r\n[This is an example of a huffman tree but it is using priority queues](https://i.stack.imgur.com/wbgHf.png)\r\n[enter image description here](https://i.stack.imgur.com/jUMqA.png)\r\n[enter image description here](https://i.stack.imgur.com/3AeVi.png)\r\n","title":"huffman tree without using priority queues","body":"<p>for my project i have to create a huffman tree project, but my lecturer has said that i cannot use priority queues to build it?\nBut i dunno how to implement that.\nAre there any other ways i can create a huffman tree without using priority queues?</p>\n<p><a href=\"https://i.stack.imgur.com/wbgHf.png\" rel=\"nofollow noreferrer\">This is an example of a huffman tree but it is using priority queues</a>\n<a href=\"https://i.stack.imgur.com/jUMqA.png\" rel=\"nofollow noreferrer\">enter image description here</a>\n<a href=\"https://i.stack.imgur.com/3AeVi.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","properties-file"],"comments":[{"owner":{"account_id":1748063,"reputation":315,"user_id":1597791,"display_name":"szeak"},"score":0,"creation_date":1668675997,"post_id":74472565,"comment_id":131465142,"body_markdown":"The question is not so clear. Please give more information: sample properties file content, and code snippets you use.","body":"The question is not so clear. Please give more information: sample properties file content, and code snippets you use."},{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":0,"creation_date":1668685897,"post_id":74472565,"comment_id":131468830,"body_markdown":"Try `Map&lt;String,Map&lt;String,String&gt;&gt;` where the key is the name of the configuration, and the value (`Map&lt;String,String&gt;`) is the configuration parameters","body":"Try <code>Map&lt;String,Map&lt;String,String&gt;&gt;</code> where the key is the name of the configuration, and the value (<code>Map&lt;String,String&gt;</code>) is the configuration parameters"}],"answers":[{"tags":[],"owner":{"account_id":26959943,"reputation":11,"user_id":20527747,"display_name":"Positronator"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668685422,"creation_date":1668685388,"answer_id":74474892,"question_id":74472565,"body_markdown":"You could use a nested HashMap like this:\r\n\r\n    HashMap&lt;String, HashMap&lt;String, String&gt;&gt; conf = new HashMap&lt;&gt;();\r\n    \r\n    for(int i = 1; i &lt;= 4; i++) {\r\n        String currentConfName = &quot;conf&quot; + i;\r\n        HashMap&lt;String, String&gt; currentConf = new HashMap&lt;&gt;();\r\n        currentConf.put(&quot;UserName&quot;, prop.getProperty(currentConfName + &quot;.username&quot;));\r\n        //And everythin else you want to add\r\n\r\n        conf.put(currentConfName, currentConf);\r\n    }\r\n\r\n\r\nEqually you can then generate your files by iterating over the HashMap","title":"Which data type to use for different configurations","body":"<p>You could use a nested HashMap like this:</p>\n<pre><code>HashMap&lt;String, HashMap&lt;String, String&gt;&gt; conf = new HashMap&lt;&gt;();\n\nfor(int i = 1; i &lt;= 4; i++) {\n    String currentConfName = &quot;conf&quot; + i;\n    HashMap&lt;String, String&gt; currentConf = new HashMap&lt;&gt;();\n    currentConf.put(&quot;UserName&quot;, prop.getProperty(currentConfName + &quot;.username&quot;));\n    //And everythin else you want to add\n\n    conf.put(currentConfName, currentConf);\n}\n</code></pre>\n<p>Equally you can then generate your files by iterating over the HashMap</p>\n"},{"tags":[],"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668687450,"creation_date":1668686975,"answer_id":74475226,"question_id":74472565,"body_markdown":"You could use a `Map&lt;String,Map&lt;String,String&gt;&gt;` where the key is the name of the configuration, and the value (`Map&lt;String,String&gt;`) is the configuration parameters.\r\n\r\nTo load the file, you would do something like this:\r\n\r\n    private static Pattern RE = Pattern.compile(\r\n            &quot;([A-Za-z0-9_-]+)\\\\.([A-Za-z0-9_-]+)&quot;);\r\n\r\n    private static Map&lt;String,Map&lt;String,String&gt;&gt; loadConfs(String name)\r\n            throws IOException {\r\n        Map&lt;String,Map&lt;String,String&gt;&gt; confs = new HashMap&lt;&gt;();\r\n        Properties props = new Properties();\r\n        ClassLoader cl = Thread.currentThread().getContextClassLoader();\r\n        try (InputStream in = cl.getResourceAsStream(name)) {\r\n            props.load(in);\r\n        }\r\n        for (String propName: props.stringPropertyNames()) {\r\n            Matcher matcher = RE.matcher(propName);\r\n            if (matcher.matches()) {\r\n                String confName = matcher.group(1);\r\n                String parmName = matcher.group(2);\r\n                Map&lt;String,String&gt; conf = confs.get(confName);\r\n                if (conf == null) {\r\n                    conf = new HashMap&lt;&gt;();\r\n                    confs.put(confName, conf);\r\n                }\r\n                conf.put(parmName, props.getProperty(propName));\r\n            }\r\n        }\r\n        return confs;\r\n    }\r\n\r\nYou could then do something like this:\r\n\r\n    Map&lt;String,Map&lt;String,String&gt;&gt; confs = loadConfs(&quot;conf.properties&quot;);\r\n    ...\r\n    Map&lt;String,String&gt; conf = confs.get(confName);\r\n    if (conf != null) {\r\n        GenerateTestFile(\r\n                &quot;Name: + conf.get(&quot;Name&quot;)\r\n                + -UserName: + conf.get(&quot;UserName&quot;)\r\n                + -Password: + conf.get(&quot;Password&quot;)\r\n                + &quot;-Context: + conf.get(Context),\r\n                FileName);\r\n    }\r\n","title":"Which data type to use for different configurations","body":"<p>You could use a <code>Map&lt;String,Map&lt;String,String&gt;&gt;</code> where the key is the name of the configuration, and the value (<code>Map&lt;String,String&gt;</code>) is the configuration parameters.</p>\n<p>To load the file, you would do something like this:</p>\n<pre><code>private static Pattern RE = Pattern.compile(\n        &quot;([A-Za-z0-9_-]+)\\\\.([A-Za-z0-9_-]+)&quot;);\n\nprivate static Map&lt;String,Map&lt;String,String&gt;&gt; loadConfs(String name)\n        throws IOException {\n    Map&lt;String,Map&lt;String,String&gt;&gt; confs = new HashMap&lt;&gt;();\n    Properties props = new Properties();\n    ClassLoader cl = Thread.currentThread().getContextClassLoader();\n    try (InputStream in = cl.getResourceAsStream(name)) {\n        props.load(in);\n    }\n    for (String propName: props.stringPropertyNames()) {\n        Matcher matcher = RE.matcher(propName);\n        if (matcher.matches()) {\n            String confName = matcher.group(1);\n            String parmName = matcher.group(2);\n            Map&lt;String,String&gt; conf = confs.get(confName);\n            if (conf == null) {\n                conf = new HashMap&lt;&gt;();\n                confs.put(confName, conf);\n            }\n            conf.put(parmName, props.getProperty(propName));\n        }\n    }\n    return confs;\n}\n</code></pre>\n<p>You could then do something like this:</p>\n<pre><code>Map&lt;String,Map&lt;String,String&gt;&gt; confs = loadConfs(&quot;conf.properties&quot;);\n...\nMap&lt;String,String&gt; conf = confs.get(confName);\nif (conf != null) {\n    GenerateTestFile(\n            &quot;Name: + conf.get(&quot;Name&quot;)\n            + -UserName: + conf.get(&quot;UserName&quot;)\n            + -Password: + conf.get(&quot;Password&quot;)\n            + &quot;-Context: + conf.get(Context),\n            FileName);\n}\n</code></pre>\n"}],"owner":{"account_id":18469626,"reputation":13,"user_id":15170229,"display_name":"Irregularz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74475226,"answer_count":2,"score":1,"last_activity_date":1668687450,"creation_date":1668675288,"question_id":74472565,"body_markdown":"I have a 4 different configurations to be used and these configuration values are stored in a property file. The properties for all the configurations are same, but the values are different for each.\r\n\r\nEx:\r\nThe property file configurations I am using:\r\n\r\n```\r\n####Config1####\r\nconf1.password=admin\r\nconf1.username=admin\r\nconf1.context=123\r\nconf1.name=localhost\r\n\r\n####config2####\r\nconf2.username=app\r\nconf2.password=app\r\nconf2.context=com\r\nconf2.name=localhost\r\n\r\n####config3####\r\nconf3.username=app\r\nconf3.password=app\r\nconf3.context=com\r\nconf3.name=localhost\r\n\r\n####config4####\r\nconf4.username=app\r\nconf4.password=app\r\nconf4.context=com\r\nconf4.name=localhost\r\n\r\n```\r\n\r\n\r\nI can get the properties from the property file. Is it possible to have a single variable to store these values based on configuration and access them in an optimised and readable way?\r\n\r\nI tried using hash-map for every configuration separately and fetching it from that. But it is increasing my code redundancy as if I perform same steps for every configuration and if-elsed the configuration name to get the hashmap values.\r\n\r\n\r\nCurrently I am using the properties with hashmap like this:\r\n\r\n```\r\nHashMap&lt;String, String&gt; conf1 = new HashMap&lt;&gt;();\r\nHashMap&lt;String, String&gt; conf2 = new HashMap&lt;&gt;();\r\nHashMap&lt;String, String&gt; conf3 = new HashMap&lt;&gt;();\r\nHashMap&lt;String, String&gt; conf4 = new HashMap&lt;&gt;();\r\n\r\nconf1.put(&quot;UserName&quot;, prop.getProperty(conf1.username&quot;));\r\nconf1.put(&quot;Password&quot;,prop.getProperty(&quot;conf1.password&quot;));\r\nconf1.put(name,prop.getProperty(&quot;conf1.name&quot;));\r\nconf1.put(&quot;context,conf1,context);\r\n\r\nconf2.put(&quot;UserName&quot;, prop.getProperty(conf2.username&quot;));\r\nconf2.put(&quot;Password&quot;,prop.getProperty(&quot;conf2.password&quot;));\r\nconf2.put(name,prop.getProperty(&quot;conf2.name&quot;));\r\nconf2.put(&quot;context,conf2,context);\r\n\r\nconf3...\r\nconf4...\r\n\r\nif (Conf.equalsIgnoreCase(conf1)) {\r\n\tGenerateTestFile(\r\n          &quot;Name: + conf1.get(&quot;Name&quot;) + -UserName: +\r\n          conf1.get(&quot;UserName&quot;) + -Password: + conf1.get(&quot;Password&quot;) + \r\n        &quot;-Context: + conf1.get(Context) ,FileName);\r\n} else if (Conf.equalsIgnoreCase(conf2)) {\r\nGenerateTestFile(\r\n          &quot;Name: + conf2.get(&quot;Name&quot;) + -UserName: +\r\n          conf2.get(&quot;UserName&quot;) + -Password: + conf2.get(&quot;Password&quot;) + \r\n        &quot;-Context: + conf2.get(Context) ,FileName);\r\n}\r\nElse if(conf3){}\r\nElse if(conf4){}\r\n\r\n```","title":"Which data type to use for different configurations","body":"<p>I have a 4 different configurations to be used and these configuration values are stored in a property file. The properties for all the configurations are same, but the values are different for each.</p>\n<p>Ex:\nThe property file configurations I am using:</p>\n<pre><code>####Config1####\nconf1.password=admin\nconf1.username=admin\nconf1.context=123\nconf1.name=localhost\n\n####config2####\nconf2.username=app\nconf2.password=app\nconf2.context=com\nconf2.name=localhost\n\n####config3####\nconf3.username=app\nconf3.password=app\nconf3.context=com\nconf3.name=localhost\n\n####config4####\nconf4.username=app\nconf4.password=app\nconf4.context=com\nconf4.name=localhost\n\n</code></pre>\n<p>I can get the properties from the property file. Is it possible to have a single variable to store these values based on configuration and access them in an optimised and readable way?</p>\n<p>I tried using hash-map for every configuration separately and fetching it from that. But it is increasing my code redundancy as if I perform same steps for every configuration and if-elsed the configuration name to get the hashmap values.</p>\n<p>Currently I am using the properties with hashmap like this:</p>\n<pre><code>HashMap&lt;String, String&gt; conf1 = new HashMap&lt;&gt;();\nHashMap&lt;String, String&gt; conf2 = new HashMap&lt;&gt;();\nHashMap&lt;String, String&gt; conf3 = new HashMap&lt;&gt;();\nHashMap&lt;String, String&gt; conf4 = new HashMap&lt;&gt;();\n\nconf1.put(&quot;UserName&quot;, prop.getProperty(conf1.username&quot;));\nconf1.put(&quot;Password&quot;,prop.getProperty(&quot;conf1.password&quot;));\nconf1.put(name,prop.getProperty(&quot;conf1.name&quot;));\nconf1.put(&quot;context,conf1,context);\n\nconf2.put(&quot;UserName&quot;, prop.getProperty(conf2.username&quot;));\nconf2.put(&quot;Password&quot;,prop.getProperty(&quot;conf2.password&quot;));\nconf2.put(name,prop.getProperty(&quot;conf2.name&quot;));\nconf2.put(&quot;context,conf2,context);\n\nconf3...\nconf4...\n\nif (Conf.equalsIgnoreCase(conf1)) {\n    GenerateTestFile(\n          &quot;Name: + conf1.get(&quot;Name&quot;) + -UserName: +\n          conf1.get(&quot;UserName&quot;) + -Password: + conf1.get(&quot;Password&quot;) + \n        &quot;-Context: + conf1.get(Context) ,FileName);\n} else if (Conf.equalsIgnoreCase(conf2)) {\nGenerateTestFile(\n          &quot;Name: + conf2.get(&quot;Name&quot;) + -UserName: +\n          conf2.get(&quot;UserName&quot;) + -Password: + conf2.get(&quot;Password&quot;) + \n        &quot;-Context: + conf2.get(Context) ,FileName);\n}\nElse if(conf3){}\nElse if(conf4){}\n\n</code></pre>\n"},{"tags":["java","spring","hibernate","spring-boot","jpa"],"comments":[{"owner":{"account_id":13456279,"reputation":2278,"user_id":9709773,"display_name":"Shubham Kadlag"},"score":0,"creation_date":1527887240,"post_id":50650041,"comment_id":88312851,"body_markdown":"You should not write dao code  in service class. You should create a @Repository interface or class and perform dao operations there.","body":"You should not write dao code  in service class. You should create a @Repository interface or class and perform dao operations there."},{"owner":{"account_id":11382286,"reputation":1591,"user_id":8344882,"display_name":"gagan singh"},"score":0,"creation_date":1527890436,"post_id":50650041,"comment_id":88313865,"body_markdown":"Should @EnableTransactionManagement be on a class also annotated with @Configuration?","body":"Should @EnableTransactionManagement be on a class also annotated with @Configuration?"},{"owner":{"account_id":12139639,"reputation":365,"user_id":9549404,"display_name":"Daimon"},"score":0,"creation_date":1527909486,"post_id":50650041,"comment_id":88316922,"body_markdown":"I know that this code must be in @repository, but it doesn&#39;t solve my problem","body":"I know that this code must be in @repository, but it doesn&#39;t solve my problem"},{"owner":{"account_id":12139639,"reputation":365,"user_id":9549404,"display_name":"Daimon"},"score":0,"creation_date":1527909544,"post_id":50650041,"comment_id":88316931,"body_markdown":"@EnableTransactionManagement can also be on spring boot runner","body":"@EnableTransactionManagement can also be on spring boot runner"},{"owner":{"account_id":1714975,"reputation":20238,"user_id":1572269,"accept_rate":43,"display_name":"Naros"},"score":0,"creation_date":1527914445,"post_id":50650041,"comment_id":88317499,"body_markdown":"@ShubhamKadlag That&#39;s honestly highly subjective statement.  A lot of people view the JPA abstraction as _the DAO_ and simply use it inside their services, particularly if the application never intends to work with anything but JPA.  To me adding a `@Repository` here is just another layer of abstraction atop of an existing abstraction which effectively just adds extra function calls to the stack with little to no meaning or reward.","body":"@ShubhamKadlag That&#39;s honestly highly subjective statement.  A lot of people view the JPA abstraction as <i>the DAO</i> and simply use it inside their services, particularly if the application never intends to work with anything but JPA.  To me adding a <code>@Repository</code> here is just another layer of abstraction atop of an existing abstraction which effectively just adds extra function calls to the stack with little to no meaning or reward."}],"answers":[{"tags":[],"owner":{"account_id":1714975,"reputation":20238,"user_id":1572269,"accept_rate":43,"display_name":"Naros"},"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1527914010,"creation_date":1527913665,"answer_id":50653513,"question_id":50650041,"body_markdown":"I don&#39;t quite understand why you&#39;re making your service method so unnecessarily complex.  You should simply be able to do it this way\r\n\r\n    @Transactional\r\n    public void insertUser(User user) {\r\n      entityManager.persist( user );\r\n    }\r\n\r\nIf there are points where you need access to the native Hibernate `Session` you can simply unwrap and use the `Session` directly like this:\r\n\r\n    @Transactional\r\n    public void doSomethingFancyWithASession() {\r\n      Session session = entityManager.unwrap( Session.class );\r\n      // use session as needed\r\n    }\r\n\r\nThe notion here is that Spring provides you an already functional `EntityManager` instance by you using the `@PersistenceContext` annotation.  That instance will safely be usable by the current thread your spring bean is being executed within.\r\n\r\nSecondly, by using `@Transactional`, this causes Spring&#39;s transaction management to automatically make sure that the `EntityManager` is bound to a transaction, whether that is a `RESOURCE_LOCAL` or `JTA` transaction is based on your environment configuration.\r\n\r\nYou&#39;re running into your problem because of the call to `#getCurrentSession()`.\r\n\r\nWhat is happening is Spring creates the `EntityManager`, then inside your method when you make the call to `#getCurrentSession()`, you&#39;re asking Hibernate to create a second session that is not bound to the transaction started by your `@Transactional` annotation.  In short its  essentially akin to the following:\r\n\r\n    EntityManager entityManager = entityManagerFactory.createEntityManager();\r\n    entityManager.getTransaction().begin();\r\n    Session aNewSession = entityManager.unwrap( Session.class )\r\n      .getFactory()\r\n      .getCurrentSession();\r\n    // at this point entityManager is scoped to a transaction\r\n    // aNewSession is not scoped to any transaction\r\n    // this also likely uses 2 connections to the database which is a waste\r\n\r\nSo follow the paradigm I mention above and you should no longer run into the problem.  You should never need to call `#getCurrentSession()` or `#openSession()` in a Spring environment if you&#39;re properly allowing Spring to inject your `EntityManager` instance for you.","title":"Spring boot hibernate no transaction is in progress","body":"<p>I don't quite understand why you're making your service method so unnecessarily complex.  You should simply be able to do it this way</p>\n\n<pre><code>@Transactional\npublic void insertUser(User user) {\n  entityManager.persist( user );\n}\n</code></pre>\n\n<p>If there are points where you need access to the native Hibernate <code>Session</code> you can simply unwrap and use the <code>Session</code> directly like this:</p>\n\n<pre><code>@Transactional\npublic void doSomethingFancyWithASession() {\n  Session session = entityManager.unwrap( Session.class );\n  // use session as needed\n}\n</code></pre>\n\n<p>The notion here is that Spring provides you an already functional <code>EntityManager</code> instance by you using the <code>@PersistenceContext</code> annotation.  That instance will safely be usable by the current thread your spring bean is being executed within.</p>\n\n<p>Secondly, by using <code>@Transactional</code>, this causes Spring's transaction management to automatically make sure that the <code>EntityManager</code> is bound to a transaction, whether that is a <code>RESOURCE_LOCAL</code> or <code>JTA</code> transaction is based on your environment configuration.</p>\n\n<p>You're running into your problem because of the call to <code>#getCurrentSession()</code>.</p>\n\n<p>What is happening is Spring creates the <code>EntityManager</code>, then inside your method when you make the call to <code>#getCurrentSession()</code>, you're asking Hibernate to create a second session that is not bound to the transaction started by your <code>@Transactional</code> annotation.  In short its  essentially akin to the following:</p>\n\n<pre><code>EntityManager entityManager = entityManagerFactory.createEntityManager();\nentityManager.getTransaction().begin();\nSession aNewSession = entityManager.unwrap( Session.class )\n  .getFactory()\n  .getCurrentSession();\n// at this point entityManager is scoped to a transaction\n// aNewSession is not scoped to any transaction\n// this also likely uses 2 connections to the database which is a waste\n</code></pre>\n\n<p>So follow the paradigm I mention above and you should no longer run into the problem.  You should never need to call <code>#getCurrentSession()</code> or <code>#openSession()</code> in a Spring environment if you're properly allowing Spring to inject your <code>EntityManager</code> instance for you.</p>\n"},{"tags":[],"owner":{"account_id":1652056,"reputation":1525,"user_id":1522438,"display_name":"searching9x"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1550306792,"creation_date":1550306792,"answer_id":54721377,"question_id":50650041,"body_markdown":"I have same your error, when I deploy my spring boot app to WebLogic Server.\r\n(Even It works fine if I run it directly via Eclipse (Or deploy to Tomcat) ).\r\n\r\nI solved the problem by adding @EnableTransactionManagement to UserService.","title":"Spring boot hibernate no transaction is in progress","body":"<p>I have same your error, when I deploy my spring boot app to WebLogic Server.\n(Even It works fine if I run it directly via Eclipse (Or deploy to Tomcat) ).</p>\n\n<p>I solved the problem by adding @EnableTransactionManagement to UserService.</p>\n"},{"tags":[],"owner":{"account_id":8942000,"reputation":91,"user_id":6670693,"display_name":"Ashish Rajput"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668687404,"creation_date":1668687404,"answer_id":74475326,"question_id":50650041,"body_markdown":" salved my problem using in hibernate conf  **&quot;hibernate.allow_update_outside_transaction&quot;,&quot;true&quot;** ","title":"Spring boot hibernate no transaction is in progress","body":"<p>salved my problem using in hibernate conf  <strong>&quot;hibernate.allow_update_outside_transaction&quot;,&quot;true&quot;</strong></p>\n"}],"owner":{"account_id":12139639,"reputation":365,"user_id":9549404,"display_name":"Daimon"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19619,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":50653513,"answer_count":3,"score":9,"last_activity_date":1668687404,"creation_date":1527881844,"question_id":50650041,"body_markdown":"I&#39;m using spring boot and it perfectly makes me entity manager. And I decided to test getting session factory from the entity manager and to use it for an example. But I get the next problem:`javax.persistence.TransactionRequiredException: no transaction is in progress` \r\n\r\nproperties \r\n\r\n    spring.datasource.url= jdbc:postgresql://localhost:5432/ring\r\n    spring.datasource.username=postgres\r\n    spring.datasource.password=root\r\n    \r\n    spring.jpa.show-sql = false\r\n    spring.jpa.properties.hibernate.format_sql=false\r\n    \r\n    #Note: The last two properties on the code snippet above were added to suppress an annoying exception\r\n    # that occurs when JPA (Hibernate) tries to verify PostgreSQL CLOB feature.\r\n    spring.jpa.database-platform=org.hibernate.dialect.PostgreSQL9Dialect\r\n    spring.jpa.properties.hibernate.temp.use_jdbc_metadata_defaults = false\r\n    \r\n    spring.jpa.properties.hibernate.current_session_context_class = org.springframework.orm.hibernate5.SpringSessionContext\r\n\r\nservice class\r\n\r\n    package kz.training.springrest.service;\r\n    \r\n    import kz.training.springrest.entity.User;\r\n    import org.hibernate.Session;\r\n    import org.hibernate.SessionFactory;\r\n    import org.springframework.stereotype.Service;\r\n    import org.springframework.transaction.annotation.Transactional;\r\n    \r\n    import javax.persistence.EntityManager;\r\n    import javax.persistence.EntityManagerFactory;\r\n    import javax.persistence.PersistenceContext;\r\n    import javax.persistence.PersistenceUnit;\r\n    \r\n    @Service\r\n    public class UserService {\r\n    \r\n        @PersistenceContext\r\n        private EntityManager entityManager;\r\n    \r\n        @Transactional\r\n        public void insertUser(User user) {\r\n            SessionFactory sessionFactory = entityManager.unwrap(Session.class).getSessionFactory();\r\n            Session session = sessionFactory.getCurrentSession();\r\n            session.save(user);\r\n        }\r\n    \r\n    }\r\n\r\nrunner\r\n\r\n    package kz.training.springrest.run;\r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.boot.autoconfigure.domain.EntityScan;\r\n    import org.springframework.context.annotation.ComponentScan;\r\n    import org.springframework.data.jpa.repository.config.EnableJpaAuditing;\r\n    import org.springframework.transaction.annotation.EnableTransactionManagement;\r\n    \r\n    @SpringBootApplication\r\n    @EntityScan(&quot;kz.training.springrest.entity&quot;)\r\n    @EnableTransactionManagement\r\n    @ComponentScan(basePackages=&quot;kz.training.springrest&quot;)\r\n    public class SpringrestApplication {\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(SpringrestApplication.class, args);\r\n        }\r\n    }\r\n\r\nDo you have any ideas how to solve it?","title":"Spring boot hibernate no transaction is in progress","body":"<p>I'm using spring boot and it perfectly makes me entity manager. And I decided to test getting session factory from the entity manager and to use it for an example. But I get the next problem:<code>javax.persistence.TransactionRequiredException: no transaction is in progress</code> </p>\n\n<p>properties </p>\n\n<pre><code>spring.datasource.url= jdbc:postgresql://localhost:5432/ring\nspring.datasource.username=postgres\nspring.datasource.password=root\n\nspring.jpa.show-sql = false\nspring.jpa.properties.hibernate.format_sql=false\n\n#Note: The last two properties on the code snippet above were added to suppress an annoying exception\n# that occurs when JPA (Hibernate) tries to verify PostgreSQL CLOB feature.\nspring.jpa.database-platform=org.hibernate.dialect.PostgreSQL9Dialect\nspring.jpa.properties.hibernate.temp.use_jdbc_metadata_defaults = false\n\nspring.jpa.properties.hibernate.current_session_context_class = org.springframework.orm.hibernate5.SpringSessionContext\n</code></pre>\n\n<p>service class</p>\n\n<pre><code>package kz.training.springrest.service;\n\nimport kz.training.springrest.entity.User;\nimport org.hibernate.Session;\nimport org.hibernate.SessionFactory;\nimport org.springframework.stereotype.Service;\nimport org.springframework.transaction.annotation.Transactional;\n\nimport javax.persistence.EntityManager;\nimport javax.persistence.EntityManagerFactory;\nimport javax.persistence.PersistenceContext;\nimport javax.persistence.PersistenceUnit;\n\n@Service\npublic class UserService {\n\n    @PersistenceContext\n    private EntityManager entityManager;\n\n    @Transactional\n    public void insertUser(User user) {\n        SessionFactory sessionFactory = entityManager.unwrap(Session.class).getSessionFactory();\n        Session session = sessionFactory.getCurrentSession();\n        session.save(user);\n    }\n\n}\n</code></pre>\n\n<p>runner</p>\n\n<pre><code>package kz.training.springrest.run;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.autoconfigure.domain.EntityScan;\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.data.jpa.repository.config.EnableJpaAuditing;\nimport org.springframework.transaction.annotation.EnableTransactionManagement;\n\n@SpringBootApplication\n@EntityScan(\"kz.training.springrest.entity\")\n@EnableTransactionManagement\n@ComponentScan(basePackages=\"kz.training.springrest\")\npublic class SpringrestApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(SpringrestApplication.class, args);\n    }\n}\n</code></pre>\n\n<p>Do you have any ideas how to solve it?</p>\n"},{"tags":["javascript","java","mongodb","spring-data-mongodb"],"answers":[{"tags":[],"owner":{"account_id":14916818,"reputation":21534,"user_id":10770370,"display_name":"Tom Slabbaert"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647248534,"creation_date":1647248534,"answer_id":71465195,"question_id":71464951,"body_markdown":"You want to be using the `nested()` function, like so:\r\n\r\n```\r\nAggregationOperation project = Aggregation.project(&quot;file_name&quot;, &quot;vehicle_id&quot;).\r\n    and(&quot;errors&quot;).nested(Fields.fields(&quot;priority&quot;,&quot;category&quot;))\r\n\r\nAggregation aggregation = Aggregation.newAggregation(project);\r\n```","title":"java MongoTemplate aggregate with project nested document","body":"<p>You want to be using the <code>nested()</code> function, like so:</p>\n<pre><code>AggregationOperation project = Aggregation.project(&quot;file_name&quot;, &quot;vehicle_id&quot;).\n    and(&quot;errors&quot;).nested(Fields.fields(&quot;priority&quot;,&quot;category&quot;))\n\nAggregation aggregation = Aggregation.newAggregation(project);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5951494,"reputation":12969,"user_id":4679320,"accept_rate":67,"display_name":"prasad_"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647266410,"creation_date":1647259671,"answer_id":71467532,"question_id":71464951,"body_markdown":"Here is a way to get the desired result.\r\n\r\n    Document projectn = new Document(&quot;$project&quot;, \r\n                            new Document(&quot;_id&quot;, 0L)\r\n                            .append(&quot;file_name&quot;, 1L)\r\n                            .append(&quot;vehicle_id&quot;, 1L)\r\n                            .append(&quot;errors&quot;, \r\n                                new Document(&quot;$map&quot;, \r\n                                    new Document(&quot;input&quot;, &quot;$errors&quot;)\r\n                                    .append(&quot;in&quot;, \r\n                                        new Document(&quot;priority&quot;, &quot;$$this.priority&quot;)\r\n                                        .append(&quot;category&quot;, &quot;$$this.category&quot;)\r\n                                    )\r\n                                )\r\n                            )\r\n                        );\r\n    \r\n    List&lt;Document&gt; pipeline = Arrays.asList(projectn);\r\n    List&lt;Document&gt; results = mongoOps.getCollection(&quot;collection_name&quot;)\r\n                                     .aggregate(pipeline)\r\n                                     .into(new ArrayList&lt;&gt;());\r\n\r\nNote that this uses MongoDB Java Driver API query syntax, and `Document` is `org.bson.Document`. The conversion of the native query to Java Driver uses `$map` aggregation array operator (and it looks like thats the (maybe only) way).\r\n\r\nWith `MongoTemplate.aggregate` the code is:\r\n\r\n\t\tAggregation agg = newAggregation(\r\n\t\t\t\tproject() \r\n\t\t\t    .and( \r\n\t\t\t        VariableOperators.Map.itemsOf(&quot;errors&quot;)\r\n\t\t\t            .as(&quot;e&quot;)\r\n\t\t\t            .andApply(ctx -&gt; new Document(&quot;priority&quot;, &quot;$$e.priority&quot;).append(&quot;category&quot;, &quot;$$e.category&quot;) ))\r\n\t\t\t    .as(&quot;errors&quot;)\r\n\t\t\t    .andExclude(&quot;_id&quot;)\r\n\t\t\t    .andInclude(&quot;file_name&quot;, &quot;vehicle_id&quot;)\r\n\t\t);\r\n\r\n        AggregationResults&lt;Document&gt; results = mongoOps.aggregate(agg, &quot;collection_name&quot;, Document.class);\r\n\r\n&lt;br&gt;\r\n\r\n---\r\n\r\n**Alternate Method:**\r\n\r\nIn case your query is just about the _projection_, you can use the following query using `MongoTemplate#find` method. This is much simpler to construct and understand:\r\n\r\n    db.collection.find(\r\n        {}, // your query filter\r\n        { _id: 0, &#39;errors.category&#39;: 1, &#39;errors.priority&#39;: 1, file_name: 1, vehicle_id: 1 }\r\n    )\r\n\r\nThe `MongoTemplate` version of it:\r\n\r\n    Query query = new Query();\r\n    query.fields()\r\n         .include(&quot;errors.priority&quot;, &quot;errors.category&quot;, &quot;file_name&quot;, &quot;vehicle_id&quot;)\r\n         .exclude(&quot;_id&quot;);\r\n    List&lt;Document&gt; results = mongoOps.find(query, Document.class, &quot;collection_name&quot;);","title":"java MongoTemplate aggregate with project nested document","body":"<p>Here is a way to get the desired result.</p>\n<pre><code>Document projectn = new Document(&quot;$project&quot;, \n                        new Document(&quot;_id&quot;, 0L)\n                        .append(&quot;file_name&quot;, 1L)\n                        .append(&quot;vehicle_id&quot;, 1L)\n                        .append(&quot;errors&quot;, \n                            new Document(&quot;$map&quot;, \n                                new Document(&quot;input&quot;, &quot;$errors&quot;)\n                                .append(&quot;in&quot;, \n                                    new Document(&quot;priority&quot;, &quot;$$this.priority&quot;)\n                                    .append(&quot;category&quot;, &quot;$$this.category&quot;)\n                                )\n                            )\n                        )\n                    );\n\nList&lt;Document&gt; pipeline = Arrays.asList(projectn);\nList&lt;Document&gt; results = mongoOps.getCollection(&quot;collection_name&quot;)\n                                 .aggregate(pipeline)\n                                 .into(new ArrayList&lt;&gt;());\n</code></pre>\n<p>Note that this uses MongoDB Java Driver API query syntax, and <code>Document</code> is <code>org.bson.Document</code>. The conversion of the native query to Java Driver uses <code>$map</code> aggregation array operator (and it looks like thats the (maybe only) way).</p>\n<p>With <code>MongoTemplate.aggregate</code> the code is:</p>\n<pre><code>    Aggregation agg = newAggregation(\n            project() \n            .and( \n                VariableOperators.Map.itemsOf(&quot;errors&quot;)\n                    .as(&quot;e&quot;)\n                    .andApply(ctx -&gt; new Document(&quot;priority&quot;, &quot;$$e.priority&quot;).append(&quot;category&quot;, &quot;$$e.category&quot;) ))\n            .as(&quot;errors&quot;)\n            .andExclude(&quot;_id&quot;)\n            .andInclude(&quot;file_name&quot;, &quot;vehicle_id&quot;)\n    );\n\n    AggregationResults&lt;Document&gt; results = mongoOps.aggregate(agg, &quot;collection_name&quot;, Document.class);\n</code></pre>\n<br>\n<hr />\n<p><strong>Alternate Method:</strong></p>\n<p>In case your query is just about the <em>projection</em>, you can use the following query using <code>MongoTemplate#find</code> method. This is much simpler to construct and understand:</p>\n<pre><code>db.collection.find(\n    {}, // your query filter\n    { _id: 0, 'errors.category': 1, 'errors.priority': 1, file_name: 1, vehicle_id: 1 }\n)\n</code></pre>\n<p>The <code>MongoTemplate</code> version of it:</p>\n<pre><code>Query query = new Query();\nquery.fields()\n     .include(&quot;errors.priority&quot;, &quot;errors.category&quot;, &quot;file_name&quot;, &quot;vehicle_id&quot;)\n     .exclude(&quot;_id&quot;);\nList&lt;Document&gt; results = mongoOps.find(query, Document.class, &quot;collection_name&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26951798,"reputation":1,"user_id":20520905,"display_name":"state.wu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668687317,"creation_date":1668687317,"answer_id":74475308,"question_id":71464951,"body_markdown":"    List&lt;String&gt; projectFieldSet = Arrays.asList(&quot;errors.category&quot;,&quot;errors.priority&quot;);\r\n    List&lt;Field&gt; fieldList = projectFields.stream().map(f-&gt;{return Fields.field(f,f);}).collect(Collectors.toList());\t\t\r\n    ProjectionOperation projectAggOp = Aggregation.project(Fields.from(fieldList.toArray(new Field[fieldList.size()])));","title":"java MongoTemplate aggregate with project nested document","body":"<pre><code>List&lt;String&gt; projectFieldSet = Arrays.asList(&quot;errors.category&quot;,&quot;errors.priority&quot;);\nList&lt;Field&gt; fieldList = projectFields.stream().map(f-&gt;{return Fields.field(f,f);}).collect(Collectors.toList());        \nProjectionOperation projectAggOp = Aggregation.project(Fields.from(fieldList.toArray(new Field[fieldList.size()])));\n</code></pre>\n"}],"owner":{"account_id":20017385,"reputation":122,"user_id":14673069,"display_name":"wtyork"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1052,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71467532,"answer_count":3,"score":2,"last_activity_date":1668687317,"creation_date":1647247204,"question_id":71464951,"body_markdown":"I have a document.\r\n\r\n    {\r\n\t&quot;errors&quot; : [\r\n\t\t{\r\n\t\t\t&quot;priority&quot; : 3,\r\n\t\t\t&quot;category&quot; : &quot;aaa&quot;\r\n\t\t\t&quot;other&quot;:&quot;nothing&quot;\r\n\t\t},\r\n\t\t{\r\n\t\t\t&quot;priority&quot; : 4,\r\n\t\t\t&quot;category&quot; : &quot;bbb&quot;\r\n\t\t\t&quot;other&quot;:&quot;nothing&quot;\r\n\t\t},\r\n\t\t{\r\n\t\t\t&quot;priority&quot; : 2,\r\n\t\t\t&quot;category&quot; : &quot;ccc&quot;\r\n\t\t\t&quot;other&quot;:&quot;nothing&quot;\r\n\t\t},\r\n\t\t{\r\n\t\t\t&quot;priority&quot; : 3,\r\n\t\t\t&quot;category&quot; : &quot;ddd&quot;\r\n\t\t\t&quot;other&quot;:&quot;nothing&quot;\r\n\t\t},\r\n\t\t{\r\n\t\t\t&quot;priority&quot; : 2,\r\n\t\t\t&quot;category&quot; : &quot;eee&quot;\r\n\t\t\t&quot;other&quot;:&quot;nothing&quot;\r\n\t\t}\r\n\t\t],\r\n\t&quot;file_name&quot; : &quot;xxx.json&quot;,\r\n\t&quot;vehicle_id&quot; : &quot;esdf&quot;,\r\n\t&quot;day&quot; : &quot;2022-03-08&quot;\r\n    }\r\n\r\nI execute a command with js client.\r\n\r\n    db.wty_test.aggregate({\r\n        $project: {\r\n            &#39;_id&#39;: 0, &#39;errors.priority&#39;: 1, &#39;errors.category&#39;: 1, &#39;file_name&#39;: 1, &#39;vehicle_id&#39;: 1,\r\n        }\r\n    })\r\n\r\nI get the result I want.[![enter image description here][1]][1]\r\nThe errors is an array containing objects.\r\n\r\nNow I need to overwrite this command with java client(springboot-data-mongo).  This is my java code.\r\n\r\n    import org.springframework.data.mongodb.core.MongoTemplate;\r\n    ...\r\n    Aggregation aggregation = Aggregation.newAggregation(Aggregation.project(&quot;errors.priority&quot;, &quot;errors.category&quot;, &quot;file_name&quot;, &quot;vehicle_id&quot;));\r\n    mongoTemplate.aggregate(aggregation, &quot;wty_test&quot;, HashMap.class).getMappedResults();\r\n\r\n[![enter image description here][2]][2]\r\nThe priority and category is not in errors.\r\n\r\n**How to use java to get the same result as js?**\r\n\r\nI try the nested.But it&#39;s not what I want.\r\n\r\n[![enter image description here][3]][3]\r\n\r\n---\r\n[![enter image description here][4]][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bN2ux.png\r\n  [2]: https://i.stack.imgur.com/OEWlj.png\r\n  [3]: https://i.stack.imgur.com/sNHKT.png\r\n  [4]: https://i.stack.imgur.com/EA2YA.png","title":"java MongoTemplate aggregate with project nested document","body":"<p>I have a document.</p>\n<pre><code>{\n&quot;errors&quot; : [\n    {\n        &quot;priority&quot; : 3,\n        &quot;category&quot; : &quot;aaa&quot;\n        &quot;other&quot;:&quot;nothing&quot;\n    },\n    {\n        &quot;priority&quot; : 4,\n        &quot;category&quot; : &quot;bbb&quot;\n        &quot;other&quot;:&quot;nothing&quot;\n    },\n    {\n        &quot;priority&quot; : 2,\n        &quot;category&quot; : &quot;ccc&quot;\n        &quot;other&quot;:&quot;nothing&quot;\n    },\n    {\n        &quot;priority&quot; : 3,\n        &quot;category&quot; : &quot;ddd&quot;\n        &quot;other&quot;:&quot;nothing&quot;\n    },\n    {\n        &quot;priority&quot; : 2,\n        &quot;category&quot; : &quot;eee&quot;\n        &quot;other&quot;:&quot;nothing&quot;\n    }\n    ],\n&quot;file_name&quot; : &quot;xxx.json&quot;,\n&quot;vehicle_id&quot; : &quot;esdf&quot;,\n&quot;day&quot; : &quot;2022-03-08&quot;\n}\n</code></pre>\n<p>I execute a command with js client.</p>\n<pre><code>db.wty_test.aggregate({\n    $project: {\n        '_id': 0, 'errors.priority': 1, 'errors.category': 1, 'file_name': 1, 'vehicle_id': 1,\n    }\n})\n</code></pre>\n<p>I get the result I want.<a href=\"https://i.stack.imgur.com/bN2ux.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bN2ux.png\" alt=\"enter image description here\" /></a>\nThe errors is an array containing objects.</p>\n<p>Now I need to overwrite this command with java client(springboot-data-mongo).  This is my java code.</p>\n<pre><code>import org.springframework.data.mongodb.core.MongoTemplate;\n...\nAggregation aggregation = Aggregation.newAggregation(Aggregation.project(&quot;errors.priority&quot;, &quot;errors.category&quot;, &quot;file_name&quot;, &quot;vehicle_id&quot;));\nmongoTemplate.aggregate(aggregation, &quot;wty_test&quot;, HashMap.class).getMappedResults();\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/OEWlj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OEWlj.png\" alt=\"enter image description here\" /></a>\nThe priority and category is not in errors.</p>\n<p><strong>How to use java to get the same result as js?</strong></p>\n<p>I try the nested.But it's not what I want.</p>\n<p><a href=\"https://i.stack.imgur.com/sNHKT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sNHKT.png\" alt=\"enter image description here\" /></a></p>\n<hr />\n<p><a href=\"https://i.stack.imgur.com/EA2YA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EA2YA.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","swt","jface"],"comments":[{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1668600079,"post_id":74459686,"comment_id":131443568,"body_markdown":"`org.eclipse.jface.window.Window` is [tag:jface] not basic SWT. If you are writing a SWT only app you can&#39;t use it. There two `Dialog` classes - there is `org.eclipse.swt.Dialog`, and `org.eclipse.jface.dialogs.Dialog` - which one are you asking about.","body":"<code>org.eclipse.jface.window.Window</code> is <a href=\"https://stackoverflow.com/questions/tagged/jface\">jface</a> not basic SWT. If you are writing a SWT only app you can&#39;t use it. There two <code>Dialog</code> classes - there is <code>org.eclipse.swt.Dialog</code>, and <code>org.eclipse.jface.dialogs.Dialog</code> - which one are you asking about."},{"owner":{"account_id":16424554,"reputation":145,"user_id":11864960,"display_name":"Praveen Balasubramaniam"},"score":0,"creation_date":1668667401,"post_id":74459686,"comment_id":131462484,"body_markdown":"Hi Greg, the doubt is when to use org.eclipse.jface.dialogs.Dialog or org.eclipse.jface.window.Window ?","body":"Hi Greg, the doubt is when to use org.eclipse.jface.dialogs.Dialog or org.eclipse.jface.window.Window ?"}],"answers":[{"tags":[],"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668685113,"creation_date":1668685113,"answer_id":74474831,"question_id":74459686,"body_markdown":"`org.eclipse.jface.window.Window` just gives you a window with no special contents. \r\n\r\n`org.eclipse.jface.dialogs.Dialog` (which extends Window) is intended for dialogs and by default creates OK and Cancel buttons. Also by default it is &quot;application modal&quot; so everything else is blocked while it is open. Most parts of the dialog&#39;s behaviour can be overridden.\r\n","title":"SWT : What are the differences between Dialog and Window and when should one use which?","body":"<p><code>org.eclipse.jface.window.Window</code> just gives you a window with no special contents.</p>\n<p><code>org.eclipse.jface.dialogs.Dialog</code> (which extends Window) is intended for dialogs and by default creates OK and Cancel buttons. Also by default it is &quot;application modal&quot; so everything else is blocked while it is open. Most parts of the dialog's behaviour can be overridden.</p>\n"},{"tags":[],"owner":{"account_id":26960638,"reputation":11,"user_id":20528365,"display_name":"KS47YV"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668687168,"creation_date":1668687168,"answer_id":74475272,"question_id":74459686,"body_markdown":"I agree with:\r\n\r\norg.eclipse.jface.window.Window just gives you a window with no special contents.\r\n\r\norg.eclipse.jface.dialogs.Dialog (which extends Window) is intended for dialogs and by default creates OK and Cancel buttons. Also by default it is &quot;application modal&quot; so everything else is blocked while it is open. Most parts of the dialog&#39;s behaviour can be overridden.\r\n\r\nI think windows are particularly useful when you want to create your own custom output display. Dialogs are usually used when you want input from a user or when you want to display something like an error message. The fact that a dialog comes with OK and Cancel buttons means that it is easy to use and it is a fast solution whereas windows can do the same but they require more effort to be created and implemented. \r\n\r\n","title":"SWT : What are the differences between Dialog and Window and when should one use which?","body":"<p>I agree with:</p>\n<p>org.eclipse.jface.window.Window just gives you a window with no special contents.</p>\n<p>org.eclipse.jface.dialogs.Dialog (which extends Window) is intended for dialogs and by default creates OK and Cancel buttons. Also by default it is &quot;application modal&quot; so everything else is blocked while it is open. Most parts of the dialog's behaviour can be overridden.</p>\n<p>I think windows are particularly useful when you want to create your own custom output display. Dialogs are usually used when you want input from a user or when you want to display something like an error message. The fact that a dialog comes with OK and Cancel buttons means that it is easy to use and it is a fast solution whereas windows can do the same but they require more effort to be created and implemented.</p>\n"}],"owner":{"account_id":16424554,"reputation":145,"user_id":11864960,"display_name":"Praveen Balasubramaniam"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1668687168,"creation_date":1668598073,"question_id":74459686,"body_markdown":"Not sure about which one to use when and their differences\r\n\r\nI tried browsing the internet but didn&#39;t get any answer","title":"SWT : What are the differences between Dialog and Window and when should one use which?","body":"<p>Not sure about which one to use when and their differences</p>\n<p>I tried browsing the internet but didn't get any answer</p>\n"},{"tags":["java","list","jtextarea"],"comments":[{"owner":{"account_id":9059972,"reputation":3080,"user_id":6746785,"display_name":"gthanop"},"score":0,"creation_date":1668687035,"post_id":74475220,"comment_id":131469241,"body_markdown":"Then why not use an additional `JComponent` side-by-side of the editable one?","body":"Then why not use an additional <code>JComponent</code> side-by-side of the editable one?"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1668687291,"post_id":74475220,"comment_id":131469327,"body_markdown":"or print line by line and use String concatenation to add the  number to the front of the line","body":"or print line by line and use String concatenation to add the  number to the front of the line"},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":1,"creation_date":1668690313,"post_id":74475220,"comment_id":131470443,"body_markdown":"Instead of a single `JTextArea`, I&#39;d use a `JList` and list individual `JPanels` consisting of an edit disabled `JTextField` for the prefix and a `JTextArea` for the task.  Yes, this is more complicated to set up but more flexible.  Oracle has a helpful tutorial, [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/index.html).  Skip the Learning Swing with the NetBeans IDE section.","body":"Instead of a single <code>JTextArea</code>, I&#39;d use a <code>JList</code> and list individual <code>JPanels</code> consisting of an edit disabled <code>JTextField</code> for the prefix and a <code>JTextArea</code> for the task.  Yes, this is more complicated to set up but more flexible.  Oracle has a helpful tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>.  Skip the Learning Swing with the NetBeans IDE section."},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - "},"score":0,"creation_date":1668694891,"post_id":74475220,"comment_id":131472443,"body_markdown":"Perhaps use Rob Camik&#39;s (@camikr) [TextLineNumber class](https://tips4java.wordpress.com/2009/05/23/text-component-line-number/).","body":"Perhaps use Rob Camik&#39;s (@camikr) <a href=\"https://tips4java.wordpress.com/2009/05/23/text-component-line-number/\" rel=\"nofollow noreferrer\">TextLineNumber class</a>."}],"owner":{"account_id":26960892,"reputation":1,"user_id":20528583,"display_name":"Arkadya"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668686956,"creation_date":1668686956,"question_id":74475220,"body_markdown":"I am trying to make a program that automatically adds a set prefix on each line inputted in the JTextArea\r\n\r\nSo let&#39;s say the prefix I set in code is &quot;Step (#):&quot;, every line would be something like:\r\nStep 1: test item\r\nStep 2: test item 2\r\nStep 3: test item 3\r\n\r\nwhere the test items are inputted by the user. Preferrably the prefix is uneditable. Also curious if it was possible to automatically change the step number below incase a user makes a line break between steps.\r\n\r\nI have tried appending the step but cant figure out how to add step 2 on line break or even auto adjust. Also tried DocumentFilter but got nowhere with it.","title":"How to add a numbered prefix on each line in JTextArea","body":"<p>I am trying to make a program that automatically adds a set prefix on each line inputted in the JTextArea</p>\n<p>So let's say the prefix I set in code is &quot;Step (#):&quot;, every line would be something like:\nStep 1: test item\nStep 2: test item 2\nStep 3: test item 3</p>\n<p>where the test items are inputted by the user. Preferrably the prefix is uneditable. Also curious if it was possible to automatically change the step number below incase a user makes a line break between steps.</p>\n<p>I have tried appending the step but cant figure out how to add step 2 on line break or even auto adjust. Also tried DocumentFilter but got nowhere with it.</p>\n"},{"tags":["java","json","java-8","hashmap"],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668686803,"creation_date":1668686803,"answer_id":74475187,"question_id":74474763,"body_markdown":"The *Keys* and *Values* of the source map `Map&lt;?, ?&gt;` belong to so-called *unknown type* `?`. Therefore, they can&#39;t be treated other than as being of type `java.lang.Object`.\r\n\r\nIn order to treat the Value as a map, you need to apply casting `((Map&lt;?, ?&gt;) entry.getValue())`.\r\n\r\nThat how it would like:\r\n\r\n```\r\nMap&lt;?, ?&gt; result =  map.entrySet().stream().collect(\r\n    Collectors.toMap(\r\n        Map.Entry::getKey,\r\n        entry -&gt; ((Map&lt;?, ?&gt;) entry.getValue())\r\n            .entrySet().stream()\r\n            .filter(subEntry -&gt; subEntry.getValue().equals(true))\r\n            .collect(Collectors.toMap(\r\n                Map.Entry::getKey,\r\n                Map.Entry::getValue\r\n        ))\r\n    ));\r\n```\r\n\r\n***Note:** although this code would compile, it&#39;s still can fail at Runtime. It would be both **safer** and **cleaner** to use either Jackson&#39;s streaming API or data-binding, then dial with a `Map&lt;?,?&gt;` and operate via type casts.*","title":"Filtering through nested map without disrupting the structure of outer map","body":"<p>The <em>Keys</em> and <em>Values</em> of the source map <code>Map&lt;?, ?&gt;</code> belong to so-called <em>unknown type</em> <code>?</code>. Therefore, they can't be treated other than as being of type <code>java.lang.Object</code>.</p>\n<p>In order to treat the Value as a map, you need to apply casting <code>((Map&lt;?, ?&gt;) entry.getValue())</code>.</p>\n<p>That how it would like:</p>\n<pre><code>Map&lt;?, ?&gt; result =  map.entrySet().stream().collect(\n    Collectors.toMap(\n        Map.Entry::getKey,\n        entry -&gt; ((Map&lt;?, ?&gt;) entry.getValue())\n            .entrySet().stream()\n            .filter(subEntry -&gt; subEntry.getValue().equals(true))\n            .collect(Collectors.toMap(\n                Map.Entry::getKey,\n                Map.Entry::getValue\n        ))\n    ));\n</code></pre>\n<p><em><strong>Note:</strong> although this code would compile, it's still can fail at Runtime. It would be both <strong>safer</strong> and <strong>cleaner</strong> to use either Jackson's streaming API or data-binding, then dial with a <code>Map&lt;?,?&gt;</code> and operate via type casts.</em></p>\n"}],"owner":{"account_id":14194543,"reputation":361,"user_id":10254216,"display_name":"isilia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668686803,"creation_date":1668684826,"question_id":74474763,"body_markdown":"I am trying to write a program to filter hit movies from a json file.\r\nBut I am not able to go deep level to get the desired result.\r\n\r\nSample Json contents\r\n\r\n```\r\n{\r\n    &quot;Bollywood&quot;: {\r\n        &quot;Romance&quot;: {\r\n            &quot;hit&quot;: false,\r\n            &quot;name&quot;: &quot;Prithvi Raj&quot;\r\n        },\r\n        &quot;Action&quot;: {\r\n            &quot;hit&quot;: true,\r\n            &quot;name&quot;: &quot;3 Idiots&quot;\r\n        }\r\n\r\n\r\n     },\r\n\r\n&quot;Hollywood&quot;: {\r\n        &quot;Romance&quot;: {\r\n            &quot;hit&quot;: false,\r\n            &quot;name&quot;: &quot;Intimacy&quot;\r\n        },\r\n        &quot;Action&quot;: {\r\n            &quot;hit&quot;: true,\r\n            &quot;name&quot;: &quot;Seven Samurai&quot;\r\n        }\r\n\r\n\r\n     }\r\n\r\n\r\n     }\r\n\r\n```\r\n\r\nBelow is the code that I wrote using jackson json parser.\r\n\r\n```\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport java.io.StringWriter;\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Paths;\r\nimport java.util.ArrayList;\r\nimport java.util.HashMap;\r\nimport java.util.Iterator;\r\nimport java.util.List;\r\nimport java.util.*;\r\nimport java.util.stream.Collectors;\r\n\r\nimport com.fasterxml.jackson.core.type.TypeReference;\r\nimport com.fasterxml.jackson.databind.JsonNode;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\nimport com.fasterxml.jackson.databind.SerializationFeature;\r\nimport com.fasterxml.jackson.databind.node.ObjectNode;\r\n\r\n\r\npublic class TestJson\r\n{\r\n\tpublic static void main(String[] args)\r\n\t{\r\n\t\ttry {\r\n    // create object mapper instance\r\n    ObjectMapper mapper = new ObjectMapper();\r\n\r\n    // convert JSON file to map\r\n    Map&lt;?, ?&gt; map = mapper.readValue(Paths.get(&quot;movie.json&quot;).toFile(), Map.class);\r\n\r\n    \r\n\t\r\n\t\r\n\t\r\n\t//map = map.entrySet().stream().filter(x -&gt; x.getKey().equals(&quot;Bollywood&quot;)).collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue));\r\n\r\nmap =  map.entrySet().stream().collect(\r\n                Collectors.toMap(\r\n                        Map.Entry::getKey,\r\n                        entry -&gt; entry.getValue()\r\n                           .entrySet()\r\n                           .stream()\r\n                           .filter(subEntry -&gt; subEntry.getValue().equals(true))\r\n                           .collect(Collectors.toMap(Map.Entry::getKey,\r\n                                 Map.Entry::getValue)))\r\n                        );\r\n\t\r\n\t\r\n\tmap.forEach((k,v) -&gt; System.out.println(&quot;Key : &quot; + k + &quot;, Value : &quot; + v));\r\n\t\t\r\n\r\n} catch (Exception ex) {\r\n    ex.printStackTrace();\r\n}\r\n\t}\r\n}\r\n\r\n```\r\n\r\nThe above code is giving me below error.\r\n\r\n```\r\nTestJson.java:46: error: cannot find symbol\r\n                           .entrySet()\r\n                           ^\r\n  symbol:   method entrySet()\r\n  location: class Object\r\nTestJson.java:49: error: incompatible types: cannot infer type-variable(s) T,K#1,U\r\n                           .collect(Collectors.toMap(Map.Entry::getKey,\r\n                                                    ^\r\n    (argument mismatch; invalid method reference\r\n      method getKey in interface Entry&lt;K#2,V&gt; cannot be applied to given types\r\n        required: no arguments\r\n        found:    Object\r\n        reason: actual and formal argument lists differ in length)\r\n  where T,K#1,U,K#2,V are type-variables:\r\n    T extends Object declared in method &lt;T,K#1,U&gt;toMap(Function&lt;? super T,? extends K#1&gt;,Function&lt;? super T,? extends U&gt;)\r\n    K#1 extends Object declared in method &lt;T,K#1,U&gt;toMap(Function&lt;? super T,? extends K#1&gt;,Function&lt;? super T,? extends U&gt;)\r\n    U extends Object declared in method &lt;T,K#1,U&gt;toMap(Function&lt;? super T,? extends K#1&gt;,Function&lt;? super T,? extends U&gt;)\r\n    K#2 extends Object declared in interface Entry\r\n    V extends Object declared in interface Entry\r\n2 errors\r\n\r\n```\r\n\r\nI want below desired output as a Map. The basic idea is to keep the json structure intact and get movies whose hit value is true. Please help to provide some hint or any workable solution if possible  \r\n\r\n```\r\n{\r\n    &quot;Bollywood&quot;: {\r\n        \r\n        &quot;Action&quot;: {\r\n            &quot;hit&quot;: true,\r\n            &quot;name&quot;: &quot;3 Idiots&quot;\r\n        }\r\n\r\n\r\n     },\r\n\r\n&quot;Hollywood&quot;: {\r\n        \r\n        &quot;Action&quot;: {\r\n            &quot;hit&quot;: true,\r\n            &quot;name&quot;: &quot;Seven Samurai&quot;\r\n        }\r\n\r\n\r\n     }\r\n\r\n\r\n     }\r\n\r\n```","title":"Filtering through nested map without disrupting the structure of outer map","body":"<p>I am trying to write a program to filter hit movies from a json file.\nBut I am not able to go deep level to get the desired result.</p>\n<p>Sample Json contents</p>\n<pre><code>{\n    &quot;Bollywood&quot;: {\n        &quot;Romance&quot;: {\n            &quot;hit&quot;: false,\n            &quot;name&quot;: &quot;Prithvi Raj&quot;\n        },\n        &quot;Action&quot;: {\n            &quot;hit&quot;: true,\n            &quot;name&quot;: &quot;3 Idiots&quot;\n        }\n\n\n     },\n\n&quot;Hollywood&quot;: {\n        &quot;Romance&quot;: {\n            &quot;hit&quot;: false,\n            &quot;name&quot;: &quot;Intimacy&quot;\n        },\n        &quot;Action&quot;: {\n            &quot;hit&quot;: true,\n            &quot;name&quot;: &quot;Seven Samurai&quot;\n        }\n\n\n     }\n\n\n     }\n\n</code></pre>\n<p>Below is the code that I wrote using jackson json parser.</p>\n<pre><code>import java.io.File;\nimport java.io.IOException;\nimport java.io.StringWriter;\nimport java.nio.file.Files;\nimport java.nio.file.Paths;\nimport java.util.ArrayList;\nimport java.util.HashMap;\nimport java.util.Iterator;\nimport java.util.List;\nimport java.util.*;\nimport java.util.stream.Collectors;\n\nimport com.fasterxml.jackson.core.type.TypeReference;\nimport com.fasterxml.jackson.databind.JsonNode;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.databind.SerializationFeature;\nimport com.fasterxml.jackson.databind.node.ObjectNode;\n\n\npublic class TestJson\n{\n    public static void main(String[] args)\n    {\n        try {\n    // create object mapper instance\n    ObjectMapper mapper = new ObjectMapper();\n\n    // convert JSON file to map\n    Map&lt;?, ?&gt; map = mapper.readValue(Paths.get(&quot;movie.json&quot;).toFile(), Map.class);\n\n    \n    \n    \n    \n    //map = map.entrySet().stream().filter(x -&gt; x.getKey().equals(&quot;Bollywood&quot;)).collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue));\n\nmap =  map.entrySet().stream().collect(\n                Collectors.toMap(\n                        Map.Entry::getKey,\n                        entry -&gt; entry.getValue()\n                           .entrySet()\n                           .stream()\n                           .filter(subEntry -&gt; subEntry.getValue().equals(true))\n                           .collect(Collectors.toMap(Map.Entry::getKey,\n                                 Map.Entry::getValue)))\n                        );\n    \n    \n    map.forEach((k,v) -&gt; System.out.println(&quot;Key : &quot; + k + &quot;, Value : &quot; + v));\n        \n\n} catch (Exception ex) {\n    ex.printStackTrace();\n}\n    }\n}\n\n</code></pre>\n<p>The above code is giving me below error.</p>\n<pre><code>TestJson.java:46: error: cannot find symbol\n                           .entrySet()\n                           ^\n  symbol:   method entrySet()\n  location: class Object\nTestJson.java:49: error: incompatible types: cannot infer type-variable(s) T,K#1,U\n                           .collect(Collectors.toMap(Map.Entry::getKey,\n                                                    ^\n    (argument mismatch; invalid method reference\n      method getKey in interface Entry&lt;K#2,V&gt; cannot be applied to given types\n        required: no arguments\n        found:    Object\n        reason: actual and formal argument lists differ in length)\n  where T,K#1,U,K#2,V are type-variables:\n    T extends Object declared in method &lt;T,K#1,U&gt;toMap(Function&lt;? super T,? extends K#1&gt;,Function&lt;? super T,? extends U&gt;)\n    K#1 extends Object declared in method &lt;T,K#1,U&gt;toMap(Function&lt;? super T,? extends K#1&gt;,Function&lt;? super T,? extends U&gt;)\n    U extends Object declared in method &lt;T,K#1,U&gt;toMap(Function&lt;? super T,? extends K#1&gt;,Function&lt;? super T,? extends U&gt;)\n    K#2 extends Object declared in interface Entry\n    V extends Object declared in interface Entry\n2 errors\n\n</code></pre>\n<p>I want below desired output as a Map. The basic idea is to keep the json structure intact and get movies whose hit value is true. Please help to provide some hint or any workable solution if possible</p>\n<pre><code>{\n    &quot;Bollywood&quot;: {\n        \n        &quot;Action&quot;: {\n            &quot;hit&quot;: true,\n            &quot;name&quot;: &quot;3 Idiots&quot;\n        }\n\n\n     },\n\n&quot;Hollywood&quot;: {\n        \n        &quot;Action&quot;: {\n            &quot;hit&quot;: true,\n            &quot;name&quot;: &quot;Seven Samurai&quot;\n        }\n\n\n     }\n\n\n     }\n\n</code></pre>\n"},{"tags":["java","unit-testing","junit","mockito","powermockito"],"comments":[{"owner":{"account_id":16415077,"reputation":63,"user_id":11857423,"display_name":"Arunabha Ghosh"},"score":0,"creation_date":1692387427,"post_id":63391054,"comment_id":135621156,"body_markdown":"did you get any help on this? can you share how you did it?","body":"did you get any help on this? can you share how you did it?"}],"answers":[{"tags":[],"owner":{"account_id":2067193,"reputation":1380,"user_id":1842487,"display_name":"Saurav Kumar Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1597307821,"creation_date":1597307821,"answer_id":63391250,"question_id":63391054,"body_markdown":"    KafkaAdminClient.create\r\n\r\nThis is a static function call, so you need to mock static function, You can use **powermockit** on top of **mockito** to mock static functions.\r\n\r\n[see this example][1]\r\n\r\n\r\n  [1]: https://dzone.com/articles/using-powermock-mock-static","title":"How to mock KafkaAdminClient","body":"<pre><code>KafkaAdminClient.create\n</code></pre>\n<p>This is a static function call, so you need to mock static function, You can use <strong>powermockit</strong> on top of <strong>mockito</strong> to mock static functions.</p>\n<p><a href=\"https://dzone.com/articles/using-powermock-mock-static\" rel=\"nofollow noreferrer\">see this example</a></p>\n"},{"tags":[],"owner":{"account_id":5081423,"reputation":51,"user_id":4910370,"display_name":"shalk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668686739,"creation_date":1668686739,"answer_id":74475179,"question_id":63391054,"body_markdown":"use [mockito-inline][1] can do this. need some trick\r\n\r\n\r\n```\r\n  @Test\r\n  public void mockCreateAdmin() {\r\n    AdminClient mock = mock(KafkaAdminClient.class);\r\n    try (MockedStatic&lt;Admin&gt; staticMock = mockStatic(Admin.class)) {\r\n      staticMock.when(() -&gt; Admin.create(any(Properties.class))).thenReturn(mock);\r\n      KafkaAdminClient adminClient = (KafkaAdminClient) KafkaAdminClient.create(new Properties());\r\n      // when\r\n      \r\n      // then\r\n      assertEquals(mock, adminClient);\r\n    }\r\n  }\r\n```\r\n\r\n\r\n  [1]: https://search.maven.org/artifact/org.mockito/mockito-inline","title":"How to mock KafkaAdminClient","body":"<p>use <a href=\"https://search.maven.org/artifact/org.mockito/mockito-inline\" rel=\"nofollow noreferrer\">mockito-inline</a> can do this. need some trick</p>\n<pre><code>  @Test\n  public void mockCreateAdmin() {\n    AdminClient mock = mock(KafkaAdminClient.class);\n    try (MockedStatic&lt;Admin&gt; staticMock = mockStatic(Admin.class)) {\n      staticMock.when(() -&gt; Admin.create(any(Properties.class))).thenReturn(mock);\n      KafkaAdminClient adminClient = (KafkaAdminClient) KafkaAdminClient.create(new Properties());\n      // when\n      \n      // then\n      assertEquals(mock, adminClient);\n    }\n  }\n</code></pre>\n"}],"owner":{"account_id":6115119,"reputation":618,"user_id":4770397,"accept_rate":26,"display_name":"mayank bisht"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1214,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1668686739,"creation_date":1597307108,"question_id":63391054,"body_markdown":"I am trying to do a unit test for the code below. I am able to test the exception block but unable to test the below block as I am getting an exception.\r\n\r\nHow can I mock or set values to the `ListTopicsResult topics = client.listTopics()`, so that the flow goes into the `if` block?\r\n\r\n&gt; `if(!topics.names.get().isEmpty()) { response  = true; }`\r\n\r\n    public boolean isBrokerRunning() {\r\n        boolean response = false;\r\n        Properties property = new Properties();\r\n        \r\n        try(AdminClient client = KafkaAdminClient.create(property)) {\r\n            ListTopicsResult topics = client.listTopics();\r\n            if(!topics.names.get().isEmpty()) {\r\n                response = true;\r\n            }\r\n        } catch(Exception ex) {\r\n            response = false;\r\n        }\r\n    }","title":"How to mock KafkaAdminClient","body":"<p>I am trying to do a unit test for the code below. I am able to test the exception block but unable to test the below block as I am getting an exception.</p>\n<p>How can I mock or set values to the <code>ListTopicsResult topics = client.listTopics()</code>, so that the flow goes into the <code>if</code> block?</p>\n<blockquote>\n<p><code>if(!topics.names.get().isEmpty()) { response  = true; }</code></p>\n</blockquote>\n<pre><code>public boolean isBrokerRunning() {\n    boolean response = false;\n    Properties property = new Properties();\n    \n    try(AdminClient client = KafkaAdminClient.create(property)) {\n        ListTopicsResult topics = client.listTopics();\n        if(!topics.names.get().isEmpty()) {\n            response = true;\n        }\n    } catch(Exception ex) {\n        response = false;\n    }\n}\n</code></pre>\n"},{"tags":["java","image","swing"],"comments":[{"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"score":2,"creation_date":1289526851,"post_id":4160904,"comment_id":4491872,"body_markdown":"s/public void main(String arg)/public **static** void main(String **[]** arg)","body":"s/public void main(String arg)/public <b>static</b> void main(String <b>[]</b> arg)"}],"answers":[{"tags":[],"owner":{"account_id":83469,"reputation":9224,"user_id":234009,"display_name":"robert_x44"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1289526040,"creation_date":1289526040,"answer_id":4160922,"question_id":4160904,"body_markdown":"Your main method should be:\r\n\r\n    public static void main(String[] args)","title":"Show .png image in a JFrame?","body":"<p>Your main method should be:</p>\n\n<pre><code>public static void main(String[] args)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":178990,"reputation":4205,"user_id":411316,"accept_rate":100,"display_name":"Leo Izen"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1289527695,"creation_date":1289527695,"answer_id":4161036,"question_id":4160904,"body_markdown":"main needs to be static, and must have an argument of String[], not String.\r\n\r\nTo fix this stick everything in a constructor, such as  \r\n\r\n    import java.awt.*; \r\n    import javax.swing.*; \r\n    \r\n    @SuppressWarnings(&quot;serial&quot;)\r\n    public class ShowPNG extends JFrame\r\n    {    \r\n      private ShowPNG(String arg){\r\n          if (arg == null ) {\r\n            arg = &quot;C:/Eclipse/workspace/ShowPNG/bin/a.png&quot;;\r\n        }      \r\n        JPanel panel = new JPanel(); \r\n        panel.setSize(500,640);\r\n        panel.setBackground(Color.CYAN); \r\n        ImageIcon icon = new ImageIcon(arg); \r\n        JLabel label = new JLabel(); \r\n        label.setIcon(icon); \r\n        panel.add(label);\r\n        this.getContentPane().add(panel); \r\n      }\r\n      public static void main(String[] args) {\r\n          new ShowPNG(args.length == 0 ? null : args[0]).setVisible(true); \r\n      }\r\n    }\r\n","title":"Show .png image in a JFrame?","body":"<p>main needs to be static, and must have an argument of String[], not String.</p>\n\n<p>To fix this stick everything in a constructor, such as  </p>\n\n<pre><code>import java.awt.*; \nimport javax.swing.*; \n\n@SuppressWarnings(\"serial\")\npublic class ShowPNG extends JFrame\n{    \n  private ShowPNG(String arg){\n      if (arg == null ) {\n        arg = \"C:/Eclipse/workspace/ShowPNG/bin/a.png\";\n    }      \n    JPanel panel = new JPanel(); \n    panel.setSize(500,640);\n    panel.setBackground(Color.CYAN); \n    ImageIcon icon = new ImageIcon(arg); \n    JLabel label = new JLabel(); \n    label.setIcon(icon); \n    panel.add(label);\n    this.getContentPane().add(panel); \n  }\n  public static void main(String[] args) {\n      new ShowPNG(args.length == 0 ? null : args[0]).setVisible(true); \n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":40774,"reputation":28739,"user_id":118228,"accept_rate":85,"display_name":"djangofan"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1290116847,"creation_date":1290116847,"answer_id":4219914,"question_id":4160904,"body_markdown":"This was the finished code:\r\n\r\n    import java.awt.*;  \r\n    import javax.swing.*;  \r\n     \r\n    @SuppressWarnings(&quot;serial&quot;) \r\n    public class ShowPNG extends JFrame {   \r\n      \r\n      public ShowPNG(String argx) { \r\n        if ( argx == null ) {\r\n          argx = &quot;a.png&quot;;\r\n     }   \r\n        this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE); \r\n     this.setSize(500,640);\r\n        JPanel panel = new JPanel();  \r\n        //panel.setSize(500,640);\r\n        panel.setBackground(Color.CYAN);  \r\n        ImageIcon icon = new ImageIcon(argx);  \r\n        JLabel label = new JLabel();  \r\n        label.setIcon(icon);  \r\n        panel.add(label); \r\n        this.getContentPane().add(panel);    \r\n      } \r\n      \r\n      public static void main(String[] args) { \r\n          new ShowPNG(args.length == 0 ? null : args[0]).setVisible(true);\r\n      } \r\n      \r\n    }\r\n\r\n","title":"Show .png image in a JFrame?","body":"<p>This was the finished code:</p>\n\n<pre><code>import java.awt.*;  \nimport javax.swing.*;  \n\n@SuppressWarnings(\"serial\") \npublic class ShowPNG extends JFrame {   \n\n  public ShowPNG(String argx) { \n    if ( argx == null ) {\n      argx = \"a.png\";\n }   \n    this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE); \n this.setSize(500,640);\n    JPanel panel = new JPanel();  \n    //panel.setSize(500,640);\n    panel.setBackground(Color.CYAN);  \n    ImageIcon icon = new ImageIcon(argx);  \n    JLabel label = new JLabel();  \n    label.setIcon(icon);  \n    panel.add(label); \n    this.getContentPane().add(panel);    \n  } \n\n  public static void main(String[] args) { \n      new ShowPNG(args.length == 0 ? null : args[0]).setVisible(true);\n  } \n\n}\n</code></pre>\n"}],"owner":{"account_id":40774,"reputation":28739,"user_id":118228,"accept_rate":85,"display_name":"djangofan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33532,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":4161036,"answer_count":3,"score":5,"last_activity_date":1668686340,"creation_date":1289525710,"question_id":4160904,"body_markdown":"I am a little stuck.  Why wont this work?  I just get a error saying:\n\n&gt; java.lang.NoSuchMethodError: main\n&gt;\n&gt; Exception in thread &quot;main&quot;\n\n\n    import java.awt.*; \n    import javax.swing.*; \n    \n    @SuppressWarnings(&quot;serial&quot;)\n    public class ShowPNG extends JFrame\n    {    \n    \n      public void main(String arg) \n      { \n        if (arg == null ) {\n            arg = &quot;C:/Eclipse/workspace/ShowPNG/bin/a.png&quot;;\n        }      \n        JPanel panel = new JPanel(); \n        panel.setSize(500,640);\n        panel.setBackground(Color.CYAN); \n        ImageIcon icon = new ImageIcon(arg); \n        JLabel label = new JLabel(); \n        label.setIcon(icon); \n        panel.add(label);\n        this.getContentPane().add(panel); \n        this.setVisible(true);\n      }\n      \n    }\n\n","title":"Show .png image in a JFrame?","body":"<p>I am a little stuck.  Why wont this work?  I just get a error saying:</p>\n<blockquote>\n<p>java.lang.NoSuchMethodError: main</p>\n<p>Exception in thread &quot;main&quot;</p>\n</blockquote>\n<pre><code>import java.awt.*; \nimport javax.swing.*; \n\n@SuppressWarnings(&quot;serial&quot;)\npublic class ShowPNG extends JFrame\n{    \n\n  public void main(String arg) \n  { \n    if (arg == null ) {\n        arg = &quot;C:/Eclipse/workspace/ShowPNG/bin/a.png&quot;;\n    }      \n    JPanel panel = new JPanel(); \n    panel.setSize(500,640);\n    panel.setBackground(Color.CYAN); \n    ImageIcon icon = new ImageIcon(arg); \n    JLabel label = new JLabel(); \n    label.setIcon(icon); \n    panel.add(label);\n    this.getContentPane().add(panel); \n    this.setVisible(true);\n  }\n  \n}\n</code></pre>\n"},{"tags":["java","string","find","unique"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":2,"creation_date":1668639406,"post_id":74468204,"comment_id":131457856,"body_markdown":"Have you read the [documentation of `String.indexOf(int, int)`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#indexOf(int,int))? --- The code does not do what you say it does.","body":"Have you read the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#indexOf(int,int)\" rel=\"nofollow noreferrer\">documentation of <code>String.indexOf(int, int)</code></a>? --- The code does not do what you say it does."},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1668639803,"post_id":74468204,"comment_id":131457925,"body_markdown":"@Turing85: I&#39;m not convinced of that, actually.  It seems to look for a second `indexOf` the char, which would prove whether or not the `char` appears only once in the string.  I think it would work.","body":"@Turing85: I&#39;m not convinced of that, actually.  It seems to look for a second <code>indexOf</code> the char, which would prove whether or not the <code>char</code> appears only once in the string.  I think it would work."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1668639861,"post_id":74468204,"comment_id":131457935,"body_markdown":"@LouisWasserman so why does it return `0` on the word `&quot;leetcode&quot;`, if there are non-unique characters in it? And why does it return `3` on `&quot;leelcode&quot;`?","body":"@LouisWasserman so why does it return <code>0</code> on the word <code>&quot;leetcode&quot;</code>, if there are non-unique characters in it? And why does it return <code>3</code> on <code>&quot;leelcode&quot;</code>?"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1668639886,"post_id":74468204,"comment_id":131457941,"body_markdown":"This code tries to find index of *first* unique character in string `s`. The condition can be expresses like &quot;if currently checked character has no more same characters *after its **first** occurrence*&quot;.","body":"This code tries to find index of <i>first</i> unique character in string <code>s</code>. The condition can be expresses like &quot;if currently checked character has no more same characters <i>after its <b>first</b> occurrence</i>&quot;."},{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":0,"creation_date":1668639904,"post_id":74468204,"comment_id":131457944,"body_markdown":"If we are at index `i`, this means that we see `s.charAt(i)` for the first time. If this was not the case, and we saw same letter at index k &lt; i, we would have returned k. Thus `s.indexOf(s.charAt(i))` can be reduced to `i`, and entire condition to: `if (s.indexOf(s.charAt(i), i + 1) == -1)` =&gt; we check if there is character `s.charAt(i)` starting from position `i + 1` =&gt; if there is none, we found index of non-repeating character","body":"If we are at index <code>i</code>, this means that we see <code>s.charAt(i)</code> for the first time. If this was not the case, and we saw same letter at index k &lt; i, we would have returned k. Thus <code>s.indexOf(s.charAt(i))</code> can be reduced to <code>i</code>, and entire condition to: <code>if (s.indexOf(s.charAt(i), i + 1) == -1)</code> =&gt; we check if there is character <code>s.charAt(i)</code> starting from position <code>i + 1</code> =&gt; if there is none, we found index of non-repeating character"},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1668639954,"post_id":74468204,"comment_id":131457955,"body_markdown":"@Turing85: For &quot;leetcode&quot;, it successfully prints 0, which is the _index_ of the first unique character.  It does incorrectly match on `leelcode`, it&#39;s true, though.","body":"@Turing85: For &quot;leetcode&quot;, it successfully prints 0, which is the <i>index</i> of the first unique character.  It does incorrectly match on <code>leelcode</code>, it&#39;s true, though."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1668640008,"post_id":74468204,"comment_id":131457968,"body_markdown":"For `leelcode` it returns 4 which is index of `c`. Demo: https://ideone.com/b1qevc","body":"For <code>leelcode</code> it returns 4 which is index of <code>c</code>. Demo: <a href=\"https://ideone.com/b1qevc\" rel=\"nofollow noreferrer\">ideone.com/b1qevc</a>"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1668640193,"post_id":74468204,"comment_id":131458012,"body_markdown":"@Pshemo true that So it basically prints the index of the 1st unique character.","body":"@Pshemo true that So it basically prints the index of the 1st unique character."},{"owner":{"account_id":7324884,"reputation":1,"user_id":5579584,"display_name":"Bek150"},"score":0,"creation_date":1668640643,"post_id":74468204,"comment_id":131458095,"body_markdown":"The above code will return the index of the unique character. If there is no unique character return -1.","body":"The above code will return the index of the unique character. If there is no unique character return -1."}],"answers":[{"tags":[],"owner":{"account_id":8490654,"reputation":593,"user_id":6367109,"display_name":"Rahul"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668685270,"creation_date":1668685270,"answer_id":74474865,"question_id":74468204,"body_markdown":"For a rather verbose function like this, the best thing to do is break it down to the smallest possible computation (effectively).\r\n\r\nPlease refer to the following code snippet: \r\n\r\n```\r\npublic class App {\r\n\r\n    private static int unique(String s) {\r\n\r\n        /** The String (non-primitive) is an array of chars (primitive).\r\n         * So, it&#39;ll be iterated with a loop. S.length () is the length of the char array.\r\n         */\r\n        for (int i = 0; i &lt; s.length(); i++) {\r\n\r\n            /** This will return the char element of the index i -&gt; public char charAt(int index) */\r\n            char chatAtI = s.charAt(i);\r\n\r\n            /** Follow the println logs to see what&#39;s happening, or use a debugger on an IDE. */\r\n            System.out.println(&quot;chatAtI -&gt; &quot; + chatAtI);\r\n\r\n            /** Returns the index within this string of the first occurrence of the specified character\r\n             * or -1 if the character does not occur.\r\n             */\r\n            int charIndex = s.indexOf(chatAtI) + 1;\r\n            System.out.println(&quot;charIndex -&gt; &quot; + charIndex);\r\n\r\n            /** The indexOf() method returns the position of the first occurrence of a specified character(s) in a string.\r\n             * It&#39;s an overloaded method.\r\n             * In the if condition, you&#39;re also using the variant which [1] returns the index of the first char occurrence\r\n             * and [2] start the search at the specified index or -1 if the character does not exist.\r\n             * The moment a unique occurrence is found, it&#39;ll return the index;\r\n             * meaning - &quot;if the current char doesn&#39;t repeat in the char array, return its index and exit the method.&quot;\r\n             * Keep in mind the +1 above is what does the trick, as if that character doesn&#39;t repeat indexOf() returns -1.\r\n             */\r\n            if (s.indexOf(chatAtI, charIndex) == -1) {\r\n                return i;\r\n            }\r\n        }\r\n        return -1;\r\n    }\r\n\r\n\r\n    public static void main(String[] args) {\r\n        /** l is the first unique occurrence. Therefore, its index, 0, is returned. */\r\n        System.out.println(unique(&quot;leetcode&quot;));\r\n    }\r\n}\r\n```\r\n\r\nArticles for further reading:\r\n\r\n[https://www.digitalocean.com/community/tutorials/java-char-to-string-to-char-array][1]\r\n[https://www.freecodecamp.org/news/charat-in-java-how-to-use-the-java-charat-method-2/][2]\r\n[https://www.geeksforgeeks.org/java-string-indexof/][3]\r\n\r\nI hope this made sense. If not, let me know, as I can edit the answer and give more context.\r\n\r\n  [1]: https://www.digitalocean.com/community/tutorials/java-char-to-string-to-char-array\r\n  [2]: https://www.freecodecamp.org/news/charat-in-java-how-to-use-the-java-charat-method-2/\r\n  [3]: https://www.geeksforgeeks.org/java-string-indexof/","title":"How does if condition finds unique letter in the string?","body":"<p>For a rather verbose function like this, the best thing to do is break it down to the smallest possible computation (effectively).</p>\n<p>Please refer to the following code snippet:</p>\n<pre><code>public class App {\n\n    private static int unique(String s) {\n\n        /** The String (non-primitive) is an array of chars (primitive).\n         * So, it'll be iterated with a loop. S.length () is the length of the char array.\n         */\n        for (int i = 0; i &lt; s.length(); i++) {\n\n            /** This will return the char element of the index i -&gt; public char charAt(int index) */\n            char chatAtI = s.charAt(i);\n\n            /** Follow the println logs to see what's happening, or use a debugger on an IDE. */\n            System.out.println(&quot;chatAtI -&gt; &quot; + chatAtI);\n\n            /** Returns the index within this string of the first occurrence of the specified character\n             * or -1 if the character does not occur.\n             */\n            int charIndex = s.indexOf(chatAtI) + 1;\n            System.out.println(&quot;charIndex -&gt; &quot; + charIndex);\n\n            /** The indexOf() method returns the position of the first occurrence of a specified character(s) in a string.\n             * It's an overloaded method.\n             * In the if condition, you're also using the variant which [1] returns the index of the first char occurrence\n             * and [2] start the search at the specified index or -1 if the character does not exist.\n             * The moment a unique occurrence is found, it'll return the index;\n             * meaning - &quot;if the current char doesn't repeat in the char array, return its index and exit the method.&quot;\n             * Keep in mind the +1 above is what does the trick, as if that character doesn't repeat indexOf() returns -1.\n             */\n            if (s.indexOf(chatAtI, charIndex) == -1) {\n                return i;\n            }\n        }\n        return -1;\n    }\n\n\n    public static void main(String[] args) {\n        /** l is the first unique occurrence. Therefore, its index, 0, is returned. */\n        System.out.println(unique(&quot;leetcode&quot;));\n    }\n}\n</code></pre>\n<p>Articles for further reading:</p>\n<p><a href=\"https://www.digitalocean.com/community/tutorials/java-char-to-string-to-char-array\" rel=\"nofollow noreferrer\">https://www.digitalocean.com/community/tutorials/java-char-to-string-to-char-array</a>\n<a href=\"https://www.freecodecamp.org/news/charat-in-java-how-to-use-the-java-charat-method-2/\" rel=\"nofollow noreferrer\">https://www.freecodecamp.org/news/charat-in-java-how-to-use-the-java-charat-method-2/</a>\n<a href=\"https://www.geeksforgeeks.org/java-string-indexof/\" rel=\"nofollow noreferrer\">https://www.geeksforgeeks.org/java-string-indexof/</a></p>\n<p>I hope this made sense. If not, let me know, as I can edit the answer and give more context.</p>\n"}],"owner":{"account_id":7324884,"reputation":1,"user_id":5579584,"display_name":"Bek150"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668685270,"creation_date":1668638995,"question_id":74468204,"body_markdown":"I am newbie here!!\r\n\r\nI am unable to understand how &quot;s.indexOf(s.charAt(i), s.indexOf(s.charAt(i)) + 1) == -1 &quot; \r\n       \r\nchecking for unique letter in the string. Below is the code,\r\n\r\n\r\n\r\n       String s = &quot;leetcode&quot;;\r\n       for (int i = 0; i &lt; s.length(); i++) {\r\n \r\n          if (s.indexOf(s.charAt(i), s.indexOf(s.charAt(i)) + 1) == -1) {\r\n              return i;\r\n          }\r\n       }\r\n      return -1;\r\n        \r\nThank you for your help!\r\n\r\nI am trying to find the unique character in the given string. I came across this code. I am trying to understand how it work!","title":"How does if condition finds unique letter in the string?","body":"<p>I am newbie here!!</p>\n<p>I am unable to understand how &quot;s.indexOf(s.charAt(i), s.indexOf(s.charAt(i)) + 1) == -1 &quot;</p>\n<p>checking for unique letter in the string. Below is the code,</p>\n<pre><code>   String s = &quot;leetcode&quot;;\n   for (int i = 0; i &lt; s.length(); i++) {\n\n      if (s.indexOf(s.charAt(i), s.indexOf(s.charAt(i)) + 1) == -1) {\n          return i;\n      }\n   }\n  return -1;\n    \n</code></pre>\n<p>Thank you for your help!</p>\n<p>I am trying to find the unique character in the given string. I came across this code. I am trying to understand how it work!</p>\n"},{"tags":["java","selenium","jenkins"],"comments":[{"owner":{"account_id":4340542,"reputation":3501,"user_id":3543861,"accept_rate":98,"display_name":"MSU_Bulldog"},"score":0,"creation_date":1447699999,"post_id":33742364,"comment_id":55253386,"body_markdown":"Please post some relevant code and show us what you have tried so far.","body":"Please post some relevant code and show us what you have tried so far."},{"owner":{"account_id":2624876,"reputation":995,"user_id":2272115,"accept_rate":75,"display_name":"Andrew Bocz Jr"},"score":0,"creation_date":1447700898,"post_id":33742364,"comment_id":55253889,"body_markdown":"Please post the code by editing your original question.","body":"Please post the code by editing your original question."},{"owner":{"account_id":7308923,"reputation":1,"user_id":5568879,"display_name":"Alex honda"},"score":0,"creation_date":1447701382,"post_id":33742364,"comment_id":55254177,"body_markdown":"Thanks for the heads-up guys. Jenkins stops right after the line with the System.out.print(user on), the next element can&#39;t be located in Jenkins :(.","body":"Thanks for the heads-up guys. Jenkins stops right after the line with the System.out.print(user on), the next element can&#39;t be located in Jenkins :(."},{"owner":{"account_id":2624876,"reputation":995,"user_id":2272115,"accept_rate":75,"display_name":"Andrew Bocz Jr"},"score":0,"creation_date":1447702263,"post_id":33742364,"comment_id":55254653,"body_markdown":"What is the exception thrown?","body":"What is the exception thrown?"},{"owner":{"account_id":7308923,"reputation":1,"user_id":5568879,"display_name":"Alex honda"},"score":0,"creation_date":1447703774,"post_id":33742364,"comment_id":55255574,"body_markdown":"It&#39;s for the Thread.sleep that I use","body":"It&#39;s for the Thread.sleep that I use"}],"answers":[{"tags":[],"owner":{"account_id":4046845,"reputation":148,"user_id":3327823,"display_name":"Rakesh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668684921,"creation_date":1668684921,"answer_id":74474782,"question_id":33742364,"body_markdown":"Firstly Google Blocks testexecutions on in its products say gmail or youtube. to  do this. enable Less Secure App Access and then try it out. also. to properly mimic the user behaviour pass user agents to via scripts. ","title":"Jenkins can&#39;t login on Google accounts from Selenium FireFox webdriver","body":"<p>Firstly Google Blocks testexecutions on in its products say gmail or youtube. to  do this. enable Less Secure App Access and then try it out. also. to properly mimic the user behaviour pass user agents to via scripts.</p>\n"}],"owner":{"account_id":7308923,"reputation":1,"user_id":5568879,"display_name":"Alex honda"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":426,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668684921,"creation_date":1447699449,"question_id":33742364,"body_markdown":"I have a major problem which I can&#39;t find a fix for a few days. I made an automated test in Java which logins on Google Gmail. I integrated the test with Jenkins and when it runs it&#39;s get stucked when he has to enter the Password. So he enters the user credentials in the correct field, he clicks the next button but in the next screen where the Password field should be present, Jenkins doesn&#39;t see it. I tried to locate the element and see if it&#39;s present and nothing, It&#39;s like it doesn&#39;t actually doesn&#39;t reach that page.\r\nIf I run the test normal from Eclipse there are no issue present, the test runs well so the elements are identified properly.\r\n\r\nPlease help me, thanks\r\n\r\n    public static void sendEmail() throws InterruptedException{\r\n\t\tdriver.get(&quot;http://accounts.google.com&quot;);\r\n\t\tWebElement element2 = (new WebDriverWait(driver, 10))\r\n\t\t\t\t   .until(ExpectedConditions.visibilityOfElementLocated(By.id(&quot;Email&quot;)));\r\n\t\tSystem.out.println(&quot;email is present&quot;);\r\n\t\tdriver.findElement(By.id(&quot;Email&quot;)).sendKeys(&quot;my email@gmail.com&quot;);\r\n\t\tdriver.findElement(By.id(&quot;next&quot;)).click();\r\n\t\tThread.sleep(1000);\r\n\t\tSystem.out.println(&quot;user on&quot;);\r\n\t\t\r\n\t\tWebElement element = (new WebDriverWait(driver, 10))\r\n\t\t\t\t   .until(ExpectedConditions.visibilityOfElementLocated(By.id(&quot;Passwd&quot;)));\r\n\t\tSystem.out.println(&quot;Element is present&quot;);\r\n\t\tdriver.findElement(By.id(&quot;Passwd&quot;)).sendKeys(&quot;my pass&quot;);\r\n\t\tSystem.out.println(&quot;pass on&quot;);\r\n\t\tdriver.findElement(By.id(&quot;signIn&quot;)).click();\r\n\t\tSystem.out.println(&quot;clicked on sign on&quot;);","title":"Jenkins can&#39;t login on Google accounts from Selenium FireFox webdriver","body":"<p>I have a major problem which I can't find a fix for a few days. I made an automated test in Java which logins on Google Gmail. I integrated the test with Jenkins and when it runs it's get stucked when he has to enter the Password. So he enters the user credentials in the correct field, he clicks the next button but in the next screen where the Password field should be present, Jenkins doesn't see it. I tried to locate the element and see if it's present and nothing, It's like it doesn't actually doesn't reach that page.\nIf I run the test normal from Eclipse there are no issue present, the test runs well so the elements are identified properly.</p>\n\n<p>Please help me, thanks</p>\n\n<pre><code>public static void sendEmail() throws InterruptedException{\n    driver.get(\"http://accounts.google.com\");\n    WebElement element2 = (new WebDriverWait(driver, 10))\n               .until(ExpectedConditions.visibilityOfElementLocated(By.id(\"Email\")));\n    System.out.println(\"email is present\");\n    driver.findElement(By.id(\"Email\")).sendKeys(\"my email@gmail.com\");\n    driver.findElement(By.id(\"next\")).click();\n    Thread.sleep(1000);\n    System.out.println(\"user on\");\n\n    WebElement element = (new WebDriverWait(driver, 10))\n               .until(ExpectedConditions.visibilityOfElementLocated(By.id(\"Passwd\")));\n    System.out.println(\"Element is present\");\n    driver.findElement(By.id(\"Passwd\")).sendKeys(\"my pass\");\n    System.out.println(\"pass on\");\n    driver.findElement(By.id(\"signIn\")).click();\n    System.out.println(\"clicked on sign on\");\n</code></pre>\n"},{"tags":["java","html","jsp"],"comments":[{"owner":{"account_id":26054765,"reputation":1339,"user_id":19757319,"display_name":"Ankit"},"score":1,"creation_date":1668604035,"post_id":74460992,"comment_id":131445067,"body_markdown":"Where is `javascript` being used here?","body":"Where is <code>javascript</code> being used here?"},{"owner":{"account_id":30300,"reputation":250206,"user_id":82548,"accept_rate":85,"display_name":"David Thomas"},"score":0,"creation_date":1668604171,"post_id":74460992,"comment_id":131445120,"body_markdown":"A program, even if you call it a &#39;script,&#39; written in Java does not make that program JavaScript; the languages [tag:java] and [tag:javascript] are different languages entirely.","body":"A program, even if you call it a &#39;script,&#39; written in Java does not make that program JavaScript; the languages <a href=\"https://stackoverflow.com/questions/tagged/java\">java</a> and <a href=\"https://stackoverflow.com/questions/tagged/javascript\">javascript</a> are different languages entirely."},{"owner":{"account_id":19504668,"reputation":21,"user_id":14269959,"display_name":"Cheese"},"score":0,"creation_date":1668605358,"post_id":74460992,"comment_id":131445572,"body_markdown":"It was a mistake. I know there is a difference between javascript and java, thanks lads.","body":"It was a mistake. I know there is a difference between javascript and java, thanks lads."}],"answers":[{"tags":[],"owner":{"account_id":7657722,"reputation":174,"user_id":5803955,"display_name":"rhenesys"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668684857,"creation_date":1668684857,"answer_id":74474768,"question_id":74460992,"body_markdown":"Your loop seems to be broken. You should go with a loop considering following structure:\r\n\r\n    &lt;td&gt;\r\n      &lt;table&gt;\r\n        &lt;tbody&gt;\r\n          \r\n        \t&lt;tr&gt;&lt;td&gt;c1(obj1)&lt;/td&gt;&lt;/tr&gt;\r\n         \t &lt;tr&gt;&lt;td&gt;c1(obj2)&lt;/td&gt;&lt;/tr&gt;\r\n          \r\n        &lt;/tbody&gt;\r\n      &lt;/table&gt;\r\n      &lt;/td&gt;\r\n      \r\n      &lt;td&gt;\r\n      &lt;table&gt;\r\n        &lt;tbody&gt;\r\n          \r\n        \t&lt;tr&gt;&lt;td&gt;d1(obj1)&lt;/td&gt;&lt;/tr&gt;\r\n         \t &lt;tr&gt;&lt;td&gt;d1(obj2)&lt;/td&gt;&lt;/tr&gt;\r\n          \r\n        &lt;/tbody&gt;\r\n      &lt;/table&gt;\r\n      &lt;/td&gt;","title":"How to display a list of objects which contains a list of objects as a table?","body":"<p>Your loop seems to be broken. You should go with a loop considering following structure:</p>\n<pre><code>&lt;td&gt;\n  &lt;table&gt;\n    &lt;tbody&gt;\n      \n        &lt;tr&gt;&lt;td&gt;c1(obj1)&lt;/td&gt;&lt;/tr&gt;\n         &lt;tr&gt;&lt;td&gt;c1(obj2)&lt;/td&gt;&lt;/tr&gt;\n      \n    &lt;/tbody&gt;\n  &lt;/table&gt;\n  &lt;/td&gt;\n  \n  &lt;td&gt;\n  &lt;table&gt;\n    &lt;tbody&gt;\n      \n        &lt;tr&gt;&lt;td&gt;d1(obj1)&lt;/td&gt;&lt;/tr&gt;\n         &lt;tr&gt;&lt;td&gt;d1(obj2)&lt;/td&gt;&lt;/tr&gt;\n      \n    &lt;/tbody&gt;\n  &lt;/table&gt;\n  &lt;/td&gt;\n</code></pre>\n"}],"owner":{"account_id":19504668,"reputation":21,"user_id":14269959,"display_name":"Cheese"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1668684857,"creation_date":1668603975,"question_id":74460992,"body_markdown":"I have 2 classes in java like this:\r\n\r\n    public class Class1{\r\n    \r\n    private String a;\r\n    private String b;\r\n    private List&lt;Class2&gt; list;\r\n    // Assume constructor, getter &amp; setters\r\n    }\r\n\r\n    public class Class2{\r\n    \r\n    private String c;\r\n    private String b;\r\n    // Assume constructor, getter &amp; setters\r\n    }\r\n\r\nAnd in my .jsp, I&#39;m trying something like this:\r\n\r\n    **&lt;table&gt;\r\n       &lt;tbody&gt;\r\n          &lt;tr&gt;\r\n            &lt;th&gt; col1 &lt;/th&gt;\r\n            &lt;th&gt; col2 &lt;/th&gt;\r\n            &lt;th&gt; col3 &lt;/th&gt;\r\n            &lt;th&gt; col4 &lt;/th&gt;\r\n           &lt;/tr&gt;\r\n          &lt;%\r\n           **List&lt;Class1&gt; list1 = // assume populated;**\r\n           for(int i = 0; i &lt; list1.size(); i++){\r\n                Class1 obj = list1.get(i);\r\n           %&gt;\r\n        &lt;tr&gt;\r\n               &lt;td&gt;&lt;%=obj.getA()%&gt;&lt;/td&gt;\r\n               &lt;td&gt;&lt;%=obj.getB()%&gt;&lt;/td&gt;\r\n               &lt;td&gt;\r\n                 &lt;table&gt;\r\n                     &lt;tbody&gt;\r\n             &lt;%\r\n              List&lt;Class2&gt; list2 = obj.getList();\r\n              for(int j = 0; j &lt; list2.size(); j++){\r\n                  Class2 obj2 = list2.get(j);\r\n             %&gt;\r\n                      &lt;tr&gt;\r\n                         &lt;td&gt;&lt;%=obj2.getC()%&gt;&lt;/td&gt;\r\n                         &lt;td&gt;&lt;%=obj2.getD()%&gt;&lt;/td&gt;\r\n                      &lt;/tr&gt;\r\n                  &lt;/tbody&gt;\r\n               &lt;/table&gt;\r\n           &lt;/td&gt;\r\n              &lt;%\r\n               }\r\n               %&gt;\r\n          &lt;/tr&gt;\r\n           &lt;%\r\n            }\r\n            %&gt;\r\n        &lt;/tbody&gt;\r\n     &lt;/table&gt;**\r\n\r\nWhat I&#39;m trying to achieve is to obtain a table that looks this one in the image:\r\n[![enter image description here][1]][1]\r\n \r\nBut what I obtain is something like this:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hTAFl.png\r\n  [2]: https://i.stack.imgur.com/rG5Lo.png\r\n\r\nThe problem is I can&#39;t place the table data under the right table head.\r\n\r\nIf I missed some info, please let me know.\r\n\r\nThanks.","title":"How to display a list of objects which contains a list of objects as a table?","body":"<p>I have 2 classes in java like this:</p>\n<pre><code>public class Class1{\n\nprivate String a;\nprivate String b;\nprivate List&lt;Class2&gt; list;\n// Assume constructor, getter &amp; setters\n}\n\npublic class Class2{\n\nprivate String c;\nprivate String b;\n// Assume constructor, getter &amp; setters\n}\n</code></pre>\n<p>And in my .jsp, I'm trying something like this:</p>\n<pre><code>**&lt;table&gt;\n   &lt;tbody&gt;\n      &lt;tr&gt;\n        &lt;th&gt; col1 &lt;/th&gt;\n        &lt;th&gt; col2 &lt;/th&gt;\n        &lt;th&gt; col3 &lt;/th&gt;\n        &lt;th&gt; col4 &lt;/th&gt;\n       &lt;/tr&gt;\n      &lt;%\n       **List&lt;Class1&gt; list1 = // assume populated;**\n       for(int i = 0; i &lt; list1.size(); i++){\n            Class1 obj = list1.get(i);\n       %&gt;\n    &lt;tr&gt;\n           &lt;td&gt;&lt;%=obj.getA()%&gt;&lt;/td&gt;\n           &lt;td&gt;&lt;%=obj.getB()%&gt;&lt;/td&gt;\n           &lt;td&gt;\n             &lt;table&gt;\n                 &lt;tbody&gt;\n         &lt;%\n          List&lt;Class2&gt; list2 = obj.getList();\n          for(int j = 0; j &lt; list2.size(); j++){\n              Class2 obj2 = list2.get(j);\n         %&gt;\n                  &lt;tr&gt;\n                     &lt;td&gt;&lt;%=obj2.getC()%&gt;&lt;/td&gt;\n                     &lt;td&gt;&lt;%=obj2.getD()%&gt;&lt;/td&gt;\n                  &lt;/tr&gt;\n              &lt;/tbody&gt;\n           &lt;/table&gt;\n       &lt;/td&gt;\n          &lt;%\n           }\n           %&gt;\n      &lt;/tr&gt;\n       &lt;%\n        }\n        %&gt;\n    &lt;/tbody&gt;\n &lt;/table&gt;**\n</code></pre>\n<p>What I'm trying to achieve is to obtain a table that looks this one in the image:\n<a href=\"https://i.stack.imgur.com/hTAFl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hTAFl.png\" alt=\"enter image description here\" /></a></p>\n<p>But what I obtain is something like this:</p>\n<p><a href=\"https://i.stack.imgur.com/rG5Lo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rG5Lo.png\" alt=\"enter image description here\" /></a></p>\n<p>The problem is I can't place the table data under the right table head.</p>\n<p>If I missed some info, please let me know.</p>\n<p>Thanks.</p>\n"},{"tags":["java","servlets","backend"],"comments":[{"owner":{"account_id":95134,"reputation":691,"user_id":259281,"accept_rate":27,"display_name":"pavithraCS"},"score":3,"creation_date":1649220210,"post_id":71761125,"comment_id":126817585,"body_markdown":"can you give the stacktrace?","body":"can you give the stacktrace?"}],"answers":[{"tags":[],"owner":{"account_id":16888487,"reputation":16,"user_id":12212688,"display_name":"Praful Sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1649220374,"creation_date":1649220374,"answer_id":71761168,"question_id":71761125,"body_markdown":"it must be because &quot;gson.toJson(data);&quot; this statement returning a null object and you&#39;re trying to store it in string format.\r\nthat is why it giving you an error.\r\ntry investigate it.","title":"&quot;java.lang.NumberFormatException: Cannot parse null string &quot; why am I having this error?","body":"<p>it must be because &quot;gson.toJson(data);&quot; this statement returning a null object and you're trying to store it in string format.\nthat is why it giving you an error.\ntry investigate it.</p>\n"},{"tags":[],"owner":{"account_id":11626804,"reputation":33,"user_id":8516355,"display_name":"Erhan Kilic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649255278,"creation_date":1649227773,"answer_id":71762224,"question_id":71761125,"body_markdown":"It has to throws exception at the method\r\n\r\n    Integer.parseInt()\r\n\r\nTry to find why the below method returns null to String object.\r\n\r\n    req.getParameter(&quot;page&quot;) ","title":"&quot;java.lang.NumberFormatException: Cannot parse null string &quot; why am I having this error?","body":"<p>It has to throws exception at the method</p>\n<pre><code>Integer.parseInt()\n</code></pre>\n<p>Try to find why the below method returns null to String object.</p>\n<pre><code>req.getParameter(&quot;page&quot;) \n</code></pre>\n"},{"tags":[],"owner":{"account_id":19101732,"reputation":21,"user_id":13949856,"display_name":"Saniya Javed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668684635,"creation_date":1668499947,"answer_id":74442396,"question_id":71761125,"body_markdown":"Dont apply `Integer.parseInt()` on `null` value thats why `NumberFormat Exception` is coming.\r\n\r\nYou can take reference from below snippet-\r\n\r\n    final Integer cfp = Objects.isNull(cfpNumber) \r\n    \r\n    Integer.valueOf(cfpNumber.getCfpNumber()) : null","title":"&quot;java.lang.NumberFormatException: Cannot parse null string &quot; why am I having this error?","body":"<p>Dont apply <code>Integer.parseInt()</code> on <code>null</code> value thats why <code>NumberFormat Exception</code> is coming.</p>\n<p>You can take reference from below snippet-</p>\n<pre><code>final Integer cfp = Objects.isNull(cfpNumber) \n\nInteger.valueOf(cfpNumber.getCfpNumber()) : null\n</code></pre>\n"}],"owner":{"account_id":22466079,"reputation":31,"user_id":16667208,"display_name":"popstick"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12297,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71761168,"answer_count":3,"score":0,"last_activity_date":1668684635,"creation_date":1649219991,"question_id":71761125,"body_markdown":"    package HRCproject;\r\n    import java.io.IOException;\r\n    import java.io.PrintWriter;\r\n    import java.sql.Connection;\r\n    import java.sql.DriverManager;\r\n    import java.sql.ResultSet;\r\n    import java.sql.SQLException;\r\n    import java.sql.Statement;\r\n    import java.util.ArrayList;\r\n\r\n    import javax.servlet.ServletException;\r\n    import javax.servlet.annotation.WebServlet;\r\n    import javax.servlet.http.HttpServlet;\r\n    import javax.servlet.http.HttpServletRequest;\r\n    import javax.servlet.http.HttpServletResponse;\r\n\r\n    import com.google.gson.Gson;\r\n\r\n    import HRCproject.pojo.*;\r\n\r\n    import HRCproject.JDBC_Connection ;\r\n    @WebServlet(&quot;/fetch&quot;)\r\n    public class fetch_sevelet extends HttpServlet {\r\n\t/**\r\n\t * \r\n\t */\r\n\tprivate static final long serialVersionUID = 1L;\r\n\r\n\tpublic void doGet(HttpServletRequest req, HttpServletResponse res) throws IOException, ServletException \r\n    {   \r\n\t\tres.setContentType(&quot;application/json&quot;);\r\n\t\tres.setCharacterEncoding(&quot;UTF-8&quot;);\r\n\t\tint max_rows = 500;\r\n\t\tPrintWriter out = res.getWriter();\r\n\t\tArrayList&lt;Invoice&gt; data = new ArrayList&lt;&gt;();\r\n        //get connection\r\n\t\ttry {\r\n\t\tClass.forName(JDBC_Connection.JDBC_DRIVER);\r\n\t\t}\r\n\t\tcatch (ClassNotFoundException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\ttry {\r\n\t\t\tConnection con = DriverManager.getConnection(JDBC_Connection.URL,JDBC_Connection.USER,JDBC_Connection.PASS);\r\n\t\t\tSystem.out.println(&quot;Connection Succesful&quot;);\r\n\t\t\t\r\n\t\t\tString pageInURL = req.getParameter(&quot;page&quot;);\r\n\t\t\tint page = Integer.parseInt(pageInURL) * max_rows;\r\n\t\t\t\r\n\r\n            // executing queries\r\n\t\t\tStatement stmt = con.createStatement();  \r\n            ResultSet rs = stmt.executeQuery(&quot;SELECT * FROM winter_internship ORDER BY sl_no LIMIT &quot; + page); \r\n             \r\n            while (rs.next()) \r\n            {  \r\n     Invoice s = new Invoice();\r\n\t\t\t\t\r\n\t\t\t\ts.setSl_no(rs.getInt(&quot;sl_no&quot;));\r\n\t\t\t\ts.setBusiness_code(rs.getString(&quot;business_code&quot;));\r\n\t\t\t\ts.setCust_number(rs.getString(&quot;cust_number&quot;));\r\n\t\t\t\ts.setClear_date(rs.getString(&quot;clear_date&quot;));\r\n\t\t\t\ts.setBuisness_year(rs.getInt(&quot;buisness_year&quot;));\r\n\t\t\t\tString doc_id = rs.getString(&quot;doc_id&quot;);\r\n\t\t\t\tdoc_id.replace(&quot;0&quot;,&quot;&quot;);\r\n\t\t\t\ts.setDoc_id(doc_id);\r\n\t\t\t\ts.setPosting_date(rs.getDate(&quot;posting_date&quot;));\r\n\t\t\t\ts.setDue_in_date(rs.getDate(&quot;due_in_date&quot;));\r\n\t\t\t\ts.setBaseline_create_date(rs.getDate(&quot;baseline_create_date&quot;));\r\n\t\t\t\ts.setCust_payment_terms(rs.getString(&quot;cust_payment_terms&quot;));\r\n\t\t\t\ts.setInvoice_currency(rs.getString(&quot;invoice_currency&quot;));\r\n\t\t\t\ts.setDocument_type(rs.getString(&quot;document_type&quot;));\r\n\t\t\t\ts.setPosting_id(rs.getString(&quot;posting_id&quot;));\r\n\t\t\t\ts.setInvoice_id(rs.getInt(&quot;invoice_id&quot;));\r\n\t\t\t\ts.setTotal_open_amount(rs.getDouble(&quot;total_open_amount&quot;));\r\n\t\t\t\t\r\n\t\t\t\tdata.add(s);\r\n            } \r\n            Gson gson = new Gson();\r\n\t\t\tString invoices = gson.toJson(data);\r\n\t\t\tout.print(invoices);\r\n\t\t\t\r\n\t\t\tout.flush();\r\n            \r\n\t\t}\r\n\t\tcatch(SQLException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\tcatch(Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\t\r\n\t}\r\n\tprotected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tdoGet(request, response);\r\n\t}\r\n\t}\r\nWhy am I getting this error?\r\nI am trying to get data from the database and then get the as json file.\r\n\r\nI don&#39;t know where the error is there in the code if someone could help and figure out how to solve the problem.\r\nI have tried to replace the code in while clause with a different code which was working earlier so it seems there is not the problem in the while clause\r\n","title":"&quot;java.lang.NumberFormatException: Cannot parse null string &quot; why am I having this error?","body":"<pre><code>package HRCproject;\nimport java.io.IOException;\nimport java.io.PrintWriter;\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.sql.Statement;\nimport java.util.ArrayList;\n\nimport javax.servlet.ServletException;\nimport javax.servlet.annotation.WebServlet;\nimport javax.servlet.http.HttpServlet;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\n\nimport com.google.gson.Gson;\n\nimport HRCproject.pojo.*;\n\nimport HRCproject.JDBC_Connection ;\n@WebServlet(&quot;/fetch&quot;)\npublic class fetch_sevelet extends HttpServlet {\n/**\n * \n */\nprivate static final long serialVersionUID = 1L;\n\npublic void doGet(HttpServletRequest req, HttpServletResponse res) throws IOException, ServletException \n{   \n    res.setContentType(&quot;application/json&quot;);\n    res.setCharacterEncoding(&quot;UTF-8&quot;);\n    int max_rows = 500;\n    PrintWriter out = res.getWriter();\n    ArrayList&lt;Invoice&gt; data = new ArrayList&lt;&gt;();\n    //get connection\n    try {\n    Class.forName(JDBC_Connection.JDBC_DRIVER);\n    }\n    catch (ClassNotFoundException e) {\n        e.printStackTrace();\n    }\n    try {\n        Connection con = DriverManager.getConnection(JDBC_Connection.URL,JDBC_Connection.USER,JDBC_Connection.PASS);\n        System.out.println(&quot;Connection Succesful&quot;);\n        \n        String pageInURL = req.getParameter(&quot;page&quot;);\n        int page = Integer.parseInt(pageInURL) * max_rows;\n        \n\n        // executing queries\n        Statement stmt = con.createStatement();  \n        ResultSet rs = stmt.executeQuery(&quot;SELECT * FROM winter_internship ORDER BY sl_no LIMIT &quot; + page); \n         \n        while (rs.next()) \n        {  \n Invoice s = new Invoice();\n            \n            s.setSl_no(rs.getInt(&quot;sl_no&quot;));\n            s.setBusiness_code(rs.getString(&quot;business_code&quot;));\n            s.setCust_number(rs.getString(&quot;cust_number&quot;));\n            s.setClear_date(rs.getString(&quot;clear_date&quot;));\n            s.setBuisness_year(rs.getInt(&quot;buisness_year&quot;));\n            String doc_id = rs.getString(&quot;doc_id&quot;);\n            doc_id.replace(&quot;0&quot;,&quot;&quot;);\n            s.setDoc_id(doc_id);\n            s.setPosting_date(rs.getDate(&quot;posting_date&quot;));\n            s.setDue_in_date(rs.getDate(&quot;due_in_date&quot;));\n            s.setBaseline_create_date(rs.getDate(&quot;baseline_create_date&quot;));\n            s.setCust_payment_terms(rs.getString(&quot;cust_payment_terms&quot;));\n            s.setInvoice_currency(rs.getString(&quot;invoice_currency&quot;));\n            s.setDocument_type(rs.getString(&quot;document_type&quot;));\n            s.setPosting_id(rs.getString(&quot;posting_id&quot;));\n            s.setInvoice_id(rs.getInt(&quot;invoice_id&quot;));\n            s.setTotal_open_amount(rs.getDouble(&quot;total_open_amount&quot;));\n            \n            data.add(s);\n        } \n        Gson gson = new Gson();\n        String invoices = gson.toJson(data);\n        out.print(invoices);\n        \n        out.flush();\n        \n    }\n    catch(SQLException e) {\n        e.printStackTrace();\n    }\n    catch(Exception e) {\n        e.printStackTrace();\n    }\n    \n}\nprotected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n    // TODO Auto-generated method stub\n    doGet(request, response);\n}\n}\n</code></pre>\n<p>Why am I getting this error?\nI am trying to get data from the database and then get the as json file.</p>\n<p>I don't know where the error is there in the code if someone could help and figure out how to solve the problem.\nI have tried to replace the code in while clause with a different code which was working earlier so it seems there is not the problem in the while clause</p>\n"},{"tags":["java","xml"],"comments":[{"owner":{"account_id":208830,"reputation":10240,"user_id":459557,"display_name":"vanje"},"score":0,"creation_date":1668631864,"post_id":74466708,"comment_id":131455772,"body_markdown":"Hm, are you sure, this code is producing this XML? In your code the name of the root element is &quot;root&quot; and not &quot;dataset&quot;. And why do you create an element for each column value when you want an attribute instead? Could it be that you just copied a random piece of code from the internet without having any idea what it does?","body":"Hm, are you sure, this code is producing this XML? In your code the name of the root element is &quot;root&quot; and not &quot;dataset&quot;. And why do you create an element for each column value when you want an attribute instead? Could it be that you just copied a random piece of code from the internet without having any idea what it does?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1668634217,"post_id":74466708,"comment_id":131456437,"body_markdown":"You&#39;re creating elements where you should be creating attributes","body":"You&#39;re creating elements where you should be creating attributes"},{"owner":{"account_id":13356980,"reputation":1,"user_id":9640204,"display_name":"rx4i"},"score":0,"creation_date":1668680837,"post_id":74466708,"comment_id":131466997,"body_markdown":"thank you for your reply, i forget to update the file, it should be root, the second file with dataset is old but it is not my issue.","body":"thank you for your reply, i forget to update the file, it should be root, the second file with dataset is old but it is not my issue."},{"owner":{"account_id":13356980,"reputation":1,"user_id":9640204,"display_name":"rx4i"},"score":0,"creation_date":1668680883,"post_id":74466708,"comment_id":131467016,"body_markdown":"i meen what i&#39;m looking for is the right format for the xml,","body":"i meen what i&#39;m looking for is the right format for the xml,"}],"answers":[{"tags":[],"owner":{"account_id":17147721,"reputation":31,"user_id":12410336,"display_name":"Sach_IN"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668665157,"creation_date":1668665157,"answer_id":74470850,"question_id":74466708,"body_markdown":"The easy way of parsing this is by converting the CSV to an object of the POJO class. Using Marshaller in java you can convert it to XML directly. \r\n\r\nYes, I agree your problem is you are getting results as elements instead of attributes. It can be easily configured in the POJO class as below.\r\n\r\n`@XmlAttribute(name = &quot;&quot;)    @XmlRootElement(name = &quot;&quot;)    @XmlElement(name = &quot;&quot;)`\r\n\r\nReference - https://howtodoinjava.com/jaxb/marshaller-example/","title":"csv to xml properties using java","body":"<p>The easy way of parsing this is by converting the CSV to an object of the POJO class. Using Marshaller in java you can convert it to XML directly.</p>\n<p>Yes, I agree your problem is you are getting results as elements instead of attributes. It can be easily configured in the POJO class as below.</p>\n<p><code>@XmlAttribute(name = &quot;&quot;)    @XmlRootElement(name = &quot;&quot;)    @XmlElement(name = &quot;&quot;)</code></p>\n<p>Reference - <a href=\"https://howtodoinjava.com/jaxb/marshaller-example/\" rel=\"nofollow noreferrer\">https://howtodoinjava.com/jaxb/marshaller-example/</a></p>\n"},{"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668684478,"creation_date":1668684478,"answer_id":74474686,"question_id":74466708,"body_markdown":"I would prefer an OO approach too, as in - create a POJO and then process it to xml, but if you want a pure file to file approach, you could do something like this:\r\n```\r\nimport java.io.File;\r\nimport javax.xml.transform.TransformerFactory;\r\nimport org.w3c.dom.Attr;\r\nimport org.w3c.dom.Element;\r\nimport javax.xml.transform.stream.StreamResult;\r\n\r\nimport javax.xml.transform.Transformer;\r\nimport org.w3c.dom.Document;\r\nimport javax.xml.parsers.DocumentBuilderFactory;\r\n\r\nimport javax.xml.transform.dom.DOMSource;\r\nimport javax.xml.transform.Source;\r\nimport javax.xml.transform.Result;\r\n\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Path;\r\nimport java.util.stream.Stream;\r\nimport java.util.List;\r\n\r\nimport java.util.concurrent.atomic.AtomicInteger;\r\n\r\npublic class Csv2Xml {\r\n\r\n    private String[] headers;\r\n\r\n    public static void main(String[] args) {\r\n        try {\r\n            new Csv2Xml().convertFile(args[0], args[1], &quot;\\\\s*,\\\\s*&quot;);\r\n        } catch (Throwable t) {\r\n            t.printStackTrace();\r\n        }\r\n    }\r\n\r\n    public void convertFile(String... args) {\r\n        try {\r\n            Document newDoc = DocumentBuilderFactory.newInstance().newDocumentBuilder().newDocument();\r\n            // Root element\r\n            Element rootElement = newDoc.createElement(&quot;root&quot;);\r\n            newDoc.appendChild(rootElement);\r\n            List&lt;String&gt; lines = Files.readAllLines(Path.of(args[0]));\r\n            headers = lines.get(0).split(args[2]);\r\n            lines.stream().skip(1).map(line -&gt; line.split(args[2])).map(val -&gt; toRow(newDoc, val))\r\n                    .forEach(row -&gt; rootElement.appendChild(row));\r\n            // Save the document to the disk file\r\n            TransformerFactory tranFactory = TransformerFactory.newInstance();\r\n            Transformer aTransformer = tranFactory.newTransformer();\r\n            Source src = new DOMSource(newDoc);\r\n            Result result = new StreamResult(new File(args[1]));\r\n            aTransformer.transform(src, result);\r\n\r\n        } catch (Throwable t) {\r\n            t.printStackTrace();\r\n        }\r\n    }\r\n\r\n    private Element toRow(Document newDoc, String[] s) {\r\n        Element row = newDoc.createElement(&quot;row&quot;);\r\n        AtomicInteger index = new AtomicInteger(0);\r\n        Stream.of(s).forEach(val -&gt; {\r\n            String attName = headers[index.getAndIncrement()];\r\n            attName = sanitizeAttributeName(attName);\r\n            Attr att = newDoc.createAttribute(attName);\r\n            att.setNodeValue(val);\r\n            row.setAttributeNode(att);\r\n        });\r\n\r\n        return row;\r\n    }\r\n\r\n    protected String sanitizeAttributeName(String attName) {\r\n        final String BAD_CHARS = &quot;[&lt;&gt;&amp;&#39;\\&quot;,#~@;^$&#163;()\\\\[\\\\]=]&quot;;\r\n        return attName.replaceAll(&quot; &quot;, &quot;_&quot;).replaceAll(BAD_CHARS, &quot;&quot;);\r\n    }\r\n\r\n}\r\n```","title":"csv to xml properties using java","body":"<p>I would prefer an OO approach too, as in - create a POJO and then process it to xml, but if you want a pure file to file approach, you could do something like this:</p>\n<pre><code>import java.io.File;\nimport javax.xml.transform.TransformerFactory;\nimport org.w3c.dom.Attr;\nimport org.w3c.dom.Element;\nimport javax.xml.transform.stream.StreamResult;\n\nimport javax.xml.transform.Transformer;\nimport org.w3c.dom.Document;\nimport javax.xml.parsers.DocumentBuilderFactory;\n\nimport javax.xml.transform.dom.DOMSource;\nimport javax.xml.transform.Source;\nimport javax.xml.transform.Result;\n\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.util.stream.Stream;\nimport java.util.List;\n\nimport java.util.concurrent.atomic.AtomicInteger;\n\npublic class Csv2Xml {\n\n    private String[] headers;\n\n    public static void main(String[] args) {\n        try {\n            new Csv2Xml().convertFile(args[0], args[1], &quot;\\\\s*,\\\\s*&quot;);\n        } catch (Throwable t) {\n            t.printStackTrace();\n        }\n    }\n\n    public void convertFile(String... args) {\n        try {\n            Document newDoc = DocumentBuilderFactory.newInstance().newDocumentBuilder().newDocument();\n            // Root element\n            Element rootElement = newDoc.createElement(&quot;root&quot;);\n            newDoc.appendChild(rootElement);\n            List&lt;String&gt; lines = Files.readAllLines(Path.of(args[0]));\n            headers = lines.get(0).split(args[2]);\n            lines.stream().skip(1).map(line -&gt; line.split(args[2])).map(val -&gt; toRow(newDoc, val))\n                    .forEach(row -&gt; rootElement.appendChild(row));\n            // Save the document to the disk file\n            TransformerFactory tranFactory = TransformerFactory.newInstance();\n            Transformer aTransformer = tranFactory.newTransformer();\n            Source src = new DOMSource(newDoc);\n            Result result = new StreamResult(new File(args[1]));\n            aTransformer.transform(src, result);\n\n        } catch (Throwable t) {\n            t.printStackTrace();\n        }\n    }\n\n    private Element toRow(Document newDoc, String[] s) {\n        Element row = newDoc.createElement(&quot;row&quot;);\n        AtomicInteger index = new AtomicInteger(0);\n        Stream.of(s).forEach(val -&gt; {\n            String attName = headers[index.getAndIncrement()];\n            attName = sanitizeAttributeName(attName);\n            Attr att = newDoc.createAttribute(attName);\n            att.setNodeValue(val);\n            row.setAttributeNode(att);\n        });\n\n        return row;\n    }\n\n    protected String sanitizeAttributeName(String attName) {\n        final String BAD_CHARS = &quot;[&lt;&gt;&amp;'\\&quot;,#~@;^$()\\\\[\\\\]=]&quot;;\n        return attName.replaceAll(&quot; &quot;, &quot;_&quot;).replaceAll(BAD_CHARS, &quot;&quot;);\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":13356980,"reputation":1,"user_id":9640204,"display_name":"rx4i"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1668684478,"creation_date":1668629905,"question_id":74466708,"body_markdown":"I have a set of CSV data to convert to XML file using Java.\r\n\r\nMy issue is that I need to convert it in special format like this (XML properties format):\r\n\r\n```\r\n?xml version=&quot;1.0&quot;?&gt;\r\n&lt;root&gt;\r\n    &lt;row col1=&quot;All&quot; Col2=&quot;0&quot; Col3=&quot;&quot; Col4=&quot;0&quot; Col5=&quot;0&quot;&gt;&lt;/row&gt;\r\n    &lt;row col1=&quot;All&quot; Col2=&quot;935&quot; Col3=&quot;231&quot; Col4=&quot;0&quot; Col5=&quot;30&quot;&gt;&lt;/row&gt;\r\n    &lt;row col1=&quot;None&quot; Col2=&quot;1011&quot; Col3=&quot;257&quot; Col4=&quot;0&quot; Col5=&quot;30&quot;&gt;&lt;/row&gt;\r\n    .\r\n    .\r\n    ...\r\n&lt;/root&gt;\r\n```\r\n\r\nThe function to convert my CSV dataset to XML is: \r\n\r\n```\r\npublic void convertFile(String csvFileName, String xmlFileName,\r\n\t      String delimiter) {\r\n\r\n\t    try {\r\n\t      Document newDoc = domBuilder.newDocument();\r\n\t      // Root element\r\n\t      Element rootElement = newDoc.createElement(&quot;root&quot;);\r\n\t      newDoc.appendChild(rootElement);\r\n\t      // Read csv file\r\n\t      BufferedReader csvReader;\r\n\t      csvReader = new BufferedReader(new FileReader(csvFileName));\r\n\t      int fieldCount = 0;\r\n\t      String[] csvFields = null;\r\n\t      StringTokenizer stringTokenizer = null;\r\n\r\n\t      String curLine = csvReader.readLine();\r\n\t      if (curLine != null) {\r\n\t        // how about other form of csv files?\r\n\t        stringTokenizer = new StringTokenizer(curLine, delimiter);\r\n\t        fieldCount = stringTokenizer.countTokens();\r\n\t        if (fieldCount &gt; 0) {\r\n\t          csvFields = new String[fieldCount];\r\n\t          int i = 0;\r\n\t          while (stringTokenizer.hasMoreElements())\r\n\t            csvFields[i++] = String.valueOf(stringTokenizer.nextElement());\r\n\t        }\r\n\t      }\r\n\r\n\t      while ((curLine = csvReader.readLine()) != null) {\r\n\t        stringTokenizer = new StringTokenizer(curLine, delimiter);\r\n\t        fieldCount = stringTokenizer.countTokens();\r\n\t        if (fieldCount &gt; 0) {\r\n\t          Element rowElement = newDoc.createElement(&quot;row&quot;);\r\n\t          int i = 0;\r\n\t          while (stringTokenizer.hasMoreElements()) {\r\n\t            try {\r\n\t              String curValue = String.valueOf(stringTokenizer.nextElement());\r\n\t              Element curElement = newDoc.createElement(csvFields[i++]);\r\n\t              curElement.appendChild(newDoc.createTextNode(curValue));\r\n\t              rowElement.appendChild(curElement);\r\n\t            } catch (Exception exp) {\r\n\t            }\r\n\t          }\r\n\t          rootElement.appendChild(rowElement);\r\n\r\n\t        }\r\n\t      }\r\n\t      csvReader.close();\r\n\r\n\t      // Save the document to the disk file\r\n\t      TransformerFactory tranFactory = TransformerFactory.newInstance();\r\n\t      Transformer aTransformer = tranFactory.newTransformer();\r\n\t      Source src = new DOMSource(newDoc);\r\n\t      Result result = new StreamResult(new File(xmlFileName));\r\n\t      aTransformer.transform(src, result);\r\n\r\n\t      // Output to console for testing\r\n\t      // Resultt result = new StreamResult(System.out);\r\n\r\n\t    } catch (IOException exp) {\r\n\t      System.err.println(exp.toString());\r\n\t    } catch (Exception exp) {\r\n\t      System.err.println(exp.toString());\r\n\t    }\r\n\r\n\t  }\r\n```\r\n\r\n\r\nBut the the generated XML file was this and it is not the format that I&#39;m looking for: \r\n\r\n```\r\n&lt;dataset&gt;\r\n\t&lt;row&gt;\r\n\t\t&lt;Col1&gt;All&lt;/Col1&gt;\r\n\t\t&lt;Col2&gt;0&lt;/Col2&gt;\r\n\t\t&lt;Col3&gt;&lt;/Col3&gt;\r\n\t\t&lt;Col4&gt;0&lt;/Col4&gt;\r\n\t\t&lt;Col5&gt;0&lt;/Col5&gt;\r\n\t&lt;/row&gt;\r\n\t&lt;row&gt;\r\n\t\t&lt;Col1&gt;All&lt;/Col1&gt;\r\n\t\t&lt;Col2&gt;935&lt;/Col2&gt;\r\n\t\t&lt;Col3&gt;231&lt;/Col3&gt;\r\n\t\t&lt;Col4&gt;0&lt;/Col4&gt;\r\n\t\t&lt;Col5&gt;30&lt;/Col5&gt;\r\n\t&lt;/row&gt;\r\n\t\t&lt;row&gt;\r\n\t\t&lt;Col1&gt;None&lt;/Col1&gt;\r\n\t\t&lt;Col2&gt;1011&lt;/Col2&gt;\r\n\t\t&lt;Col3&gt;257&lt;/Col3&gt;\r\n\t\t&lt;Col4&gt;0&lt;/Col4&gt;\r\n\t\t&lt;Col5&gt;30&lt;/Col5&gt;\r\n\t&lt;/row&gt;\r\n&lt;/dataset&gt;\r\n```\r\n\r\nCould you please help me ?\r\n","title":"csv to xml properties using java","body":"<p>I have a set of CSV data to convert to XML file using Java.</p>\n<p>My issue is that I need to convert it in special format like this (XML properties format):</p>\n<pre><code>?xml version=&quot;1.0&quot;?&gt;\n&lt;root&gt;\n    &lt;row col1=&quot;All&quot; Col2=&quot;0&quot; Col3=&quot;&quot; Col4=&quot;0&quot; Col5=&quot;0&quot;&gt;&lt;/row&gt;\n    &lt;row col1=&quot;All&quot; Col2=&quot;935&quot; Col3=&quot;231&quot; Col4=&quot;0&quot; Col5=&quot;30&quot;&gt;&lt;/row&gt;\n    &lt;row col1=&quot;None&quot; Col2=&quot;1011&quot; Col3=&quot;257&quot; Col4=&quot;0&quot; Col5=&quot;30&quot;&gt;&lt;/row&gt;\n    .\n    .\n    ...\n&lt;/root&gt;\n</code></pre>\n<p>The function to convert my CSV dataset to XML is:</p>\n<pre><code>public void convertFile(String csvFileName, String xmlFileName,\n          String delimiter) {\n\n        try {\n          Document newDoc = domBuilder.newDocument();\n          // Root element\n          Element rootElement = newDoc.createElement(&quot;root&quot;);\n          newDoc.appendChild(rootElement);\n          // Read csv file\n          BufferedReader csvReader;\n          csvReader = new BufferedReader(new FileReader(csvFileName));\n          int fieldCount = 0;\n          String[] csvFields = null;\n          StringTokenizer stringTokenizer = null;\n\n          String curLine = csvReader.readLine();\n          if (curLine != null) {\n            // how about other form of csv files?\n            stringTokenizer = new StringTokenizer(curLine, delimiter);\n            fieldCount = stringTokenizer.countTokens();\n            if (fieldCount &gt; 0) {\n              csvFields = new String[fieldCount];\n              int i = 0;\n              while (stringTokenizer.hasMoreElements())\n                csvFields[i++] = String.valueOf(stringTokenizer.nextElement());\n            }\n          }\n\n          while ((curLine = csvReader.readLine()) != null) {\n            stringTokenizer = new StringTokenizer(curLine, delimiter);\n            fieldCount = stringTokenizer.countTokens();\n            if (fieldCount &gt; 0) {\n              Element rowElement = newDoc.createElement(&quot;row&quot;);\n              int i = 0;\n              while (stringTokenizer.hasMoreElements()) {\n                try {\n                  String curValue = String.valueOf(stringTokenizer.nextElement());\n                  Element curElement = newDoc.createElement(csvFields[i++]);\n                  curElement.appendChild(newDoc.createTextNode(curValue));\n                  rowElement.appendChild(curElement);\n                } catch (Exception exp) {\n                }\n              }\n              rootElement.appendChild(rowElement);\n\n            }\n          }\n          csvReader.close();\n\n          // Save the document to the disk file\n          TransformerFactory tranFactory = TransformerFactory.newInstance();\n          Transformer aTransformer = tranFactory.newTransformer();\n          Source src = new DOMSource(newDoc);\n          Result result = new StreamResult(new File(xmlFileName));\n          aTransformer.transform(src, result);\n\n          // Output to console for testing\n          // Resultt result = new StreamResult(System.out);\n\n        } catch (IOException exp) {\n          System.err.println(exp.toString());\n        } catch (Exception exp) {\n          System.err.println(exp.toString());\n        }\n\n      }\n</code></pre>\n<p>But the the generated XML file was this and it is not the format that I'm looking for:</p>\n<pre><code>&lt;dataset&gt;\n    &lt;row&gt;\n        &lt;Col1&gt;All&lt;/Col1&gt;\n        &lt;Col2&gt;0&lt;/Col2&gt;\n        &lt;Col3&gt;&lt;/Col3&gt;\n        &lt;Col4&gt;0&lt;/Col4&gt;\n        &lt;Col5&gt;0&lt;/Col5&gt;\n    &lt;/row&gt;\n    &lt;row&gt;\n        &lt;Col1&gt;All&lt;/Col1&gt;\n        &lt;Col2&gt;935&lt;/Col2&gt;\n        &lt;Col3&gt;231&lt;/Col3&gt;\n        &lt;Col4&gt;0&lt;/Col4&gt;\n        &lt;Col5&gt;30&lt;/Col5&gt;\n    &lt;/row&gt;\n        &lt;row&gt;\n        &lt;Col1&gt;None&lt;/Col1&gt;\n        &lt;Col2&gt;1011&lt;/Col2&gt;\n        &lt;Col3&gt;257&lt;/Col3&gt;\n        &lt;Col4&gt;0&lt;/Col4&gt;\n        &lt;Col5&gt;30&lt;/Col5&gt;\n    &lt;/row&gt;\n&lt;/dataset&gt;\n</code></pre>\n<p>Could you please help me ?</p>\n"},{"tags":["java","dependency-injection","factory","micronaut","inject"],"comments":[{"owner":{"account_id":930977,"reputation":8260,"user_id":960875,"accept_rate":98,"display_name":"saw303"},"score":0,"creation_date":1668684607,"post_id":74463464,"comment_id":131468360,"body_markdown":"Have you tried to qualify your list bean using an custom annotation instead the name? https://docs.micronaut.io/latest/guide/index.html#qualifiers","body":"Have you tried to qualify your list bean using an custom annotation instead the name? <a href=\"https://docs.micronaut.io/latest/guide/index.html#qualifiers\" rel=\"nofollow noreferrer\">docs.micronaut.io/latest/guide/index.html#qualifiers</a>"}],"owner":{"account_id":15623803,"reputation":25,"user_id":11271975,"display_name":"Semper_fi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":271,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1668684291,"creation_date":1668613835,"question_id":74463464,"body_markdown":"I have been trying to inject this bean (below) and have created it in a @Factory class.\r\n```\r\n@Bean\r\n@Singleton\r\n@Named(&quot;dependencyPackagesBean&quot;)\r\nList&lt;String&gt; provideDependencyPackages(Config config) {\r\n    List&lt;String&gt; dependencies = new ArrayList&lt;&gt;();\r\n    dependencies.addAll(DEPENDENCY_PACKAGES);\r\n    dependencies.addAll(config.getDependencyPackagesOverrides());\r\n    return dependencies;\r\n}\r\n```\r\n\r\nAnd injecting it in a class as such:\r\n```\r\n@Inject\r\npublic JobManager(@Named(&quot;dependencyPackagesBean&quot;) List&lt;String&gt; dependencyPackages,\r\n                  Instrumentation instrumentation) {\r\n    this.dependencyPackages = dependencyPackages;\r\n    this.instrumentation = instrumentation;\r\n}\r\n```\r\nHowever, upon running the application, I see that everytime, an empty list gets injected. \r\n`DEPENDENCY_PACKAGES` is defined as:\r\n\r\n```java\r\npublic static final List&lt;String&gt; DEPENDENCY_PACKAGES = List.of(&quot;com.stuff&quot;);\r\n```\r\n\r\nIs it not possible to inject List&lt;String&gt; as a named bean, the way I have done it? If so, what is wrong with the way I have tried to inject it?\r\n\r\nUsing a wrapper class that contains the list I am trying to inject, creating a bean for that wrapper class and injecting and then using that injected object to fetch the list works. But wanted to understand what is wrong if I don&#39;t use a wrapper class and try to inject a named bean of a list of strings directly.","title":"Can we create a singleton bean of a list of strings in a micronaut application?","body":"<p>I have been trying to inject this bean (below) and have created it in a @Factory class.</p>\n<pre><code>@Bean\n@Singleton\n@Named(&quot;dependencyPackagesBean&quot;)\nList&lt;String&gt; provideDependencyPackages(Config config) {\n    List&lt;String&gt; dependencies = new ArrayList&lt;&gt;();\n    dependencies.addAll(DEPENDENCY_PACKAGES);\n    dependencies.addAll(config.getDependencyPackagesOverrides());\n    return dependencies;\n}\n</code></pre>\n<p>And injecting it in a class as such:</p>\n<pre><code>@Inject\npublic JobManager(@Named(&quot;dependencyPackagesBean&quot;) List&lt;String&gt; dependencyPackages,\n                  Instrumentation instrumentation) {\n    this.dependencyPackages = dependencyPackages;\n    this.instrumentation = instrumentation;\n}\n</code></pre>\n<p>However, upon running the application, I see that everytime, an empty list gets injected.\n<code>DEPENDENCY_PACKAGES</code> is defined as:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static final List&lt;String&gt; DEPENDENCY_PACKAGES = List.of(&quot;com.stuff&quot;);\n</code></pre>\n<p>Is it not possible to inject List as a named bean, the way I have done it? If so, what is wrong with the way I have tried to inject it?</p>\n<p>Using a wrapper class that contains the list I am trying to inject, creating a bean for that wrapper class and injecting and then using that injected object to fetch the list works. But wanted to understand what is wrong if I don't use a wrapper class and try to inject a named bean of a list of strings directly.</p>\n"},{"tags":["java","spring-boot","hibernate","rest","spring-mvc"],"comments":[{"owner":{"account_id":7641789,"reputation":762,"user_id":5793661,"display_name":"Dejazmach"},"score":0,"creation_date":1604247469,"post_id":64457496,"comment_id":114282578,"body_markdown":"Any update on this?","body":"Any update on this?"}],"answers":[{"tags":[],"owner":{"account_id":12618797,"reputation":33,"user_id":9175166,"display_name":"Alexander Kolinchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1606322045,"creation_date":1606311784,"answer_id":65005910,"question_id":64457496,"body_markdown":"It seems I fixed the first kind of error (using `@EntityScan`, when there is \r\n\r\n&gt; Cannot invoke &quot;java.lang.reflect.AccessibleObject.setAccessible(boolean) because &quot;ao&quot; is null&quot;\r\n\r\nby replacing hibernate&#39;s bytecode provider from javassist to bytebuddy (placed `hibernate.bytecode.provider=bytebuddy` property to `hibernate.properties` file).","title":"Spring Boot Project &quot;org.springframework.beans.factory.BeanCreationException:Error creating bean with name &#39;entityManagerFactory&#39;&quot; ERROR","body":"<p>It seems I fixed the first kind of error (using <code>@EntityScan</code>, when there is</p>\n<blockquote>\n<p>Cannot invoke &quot;java.lang.reflect.AccessibleObject.setAccessible(boolean) because &quot;ao&quot; is null&quot;</p>\n</blockquote>\n<p>by replacing hibernate's bytecode provider from javassist to bytebuddy (placed <code>hibernate.bytecode.provider=bytebuddy</code> property to <code>hibernate.properties</code> file).</p>\n"},{"tags":[],"owner":{"account_id":6658534,"reputation":304,"user_id":5138313,"display_name":"Fatima Naik"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1608717249,"creation_date":1608717249,"answer_id":65422258,"question_id":64457496,"body_markdown":"by using the latest javassit on my openjdk15 solved the issue\r\nI added this \r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.javassist&lt;/groupId&gt;\r\n        &lt;artifactId&gt;javassist&lt;/artifactId&gt;\r\n        &lt;version&gt;3.27.0-GA&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nmaven dependency in my pom.xml","title":"Spring Boot Project &quot;org.springframework.beans.factory.BeanCreationException:Error creating bean with name &#39;entityManagerFactory&#39;&quot; ERROR","body":"<p>by using the latest javassit on my openjdk15 solved the issue\nI added this</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.javassist&lt;/groupId&gt;\n    &lt;artifactId&gt;javassist&lt;/artifactId&gt;\n    &lt;version&gt;3.27.0-GA&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>maven dependency in my pom.xml</p>\n"},{"tags":[],"owner":{"account_id":18710340,"reputation":409,"user_id":13640565,"display_name":"Shiru99"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1626155731,"creation_date":1626155731,"answer_id":68357144,"question_id":64457496,"body_markdown":"Adding @EntityScan(basePackages = &quot;io.summer&quot;) to your Application class. That is needed for hibernate to scan your entities. (Worked for me, for postgresql)","title":"Spring Boot Project &quot;org.springframework.beans.factory.BeanCreationException:Error creating bean with name &#39;entityManagerFactory&#39;&quot; ERROR","body":"<p>Adding @EntityScan(basePackages = &quot;io.summer&quot;) to your Application class. That is needed for hibernate to scan your entities. (Worked for me, for postgresql)</p>\n"}],"owner":{"account_id":5000876,"reputation":361,"user_id":4019953,"accept_rate":80,"display_name":"Cem"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4531,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":3,"score":7,"last_activity_date":1668684208,"creation_date":1603260022,"question_id":64457496,"body_markdown":"I&#39;m newbie on Spring Boot and I want to make a rest webservice with spring boot. I need to persist some data on database using Jpa/Hibernate. When I annotate my domain model class with @Entity annotation and I start my application as Spring boot application (My application class have an @EntityScan() annotation by the way.) I am getting error below :\r\n\r\n**org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory**\r\n\r\nWhen I don&#39;t annotate my application class with @EntityScan annotation and run my app and call my rest controller method of createOwner() , I am getting error below :\r\n\r\n**org.springframework.dao.InvalidDataAccessApiUsageException: Unknown entity: model.Owner; nested exception is java.lang.IllegalArgumentException: Unknown entity: model.Owner**\r\n\r\n\r\nI&#39;ll be happy if you inform me about why I&#39;m getting these errors, thanks. \r\n\r\nMy classes are : \r\n\r\nDomain Class : \r\n\r\n**Owner.java**\r\n\r\n    @Entity\r\n    public class Owner {\r\n    \t\r\n    \t@Id\r\n    \t@GeneratedValue(strategy=GenerationType.AUTO)\r\n    \tprivate Long id;\r\n    \tprivate String firstName;\r\n    \tprivate String lastName;\r\n    \r\n    \tpublic Owner() {}\r\n    \r\n    \r\n    \tpublic Long getId() {\r\n    \t\treturn id;\r\n    \t}\r\n    \r\n    \tpublic void setId(Long id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \r\n    \tpublic String getFirstName() {\r\n    \t\treturn firstName;\r\n    \t}\r\n    \r\n    \tpublic void setFirstName(String firstName) {\r\n    \t\tthis.firstName = firstName;\r\n    \t}\r\n    \r\n    \tpublic String getLastName() {\r\n    \t\treturn lastName;\r\n    \t}\r\n    \r\n    \tpublic void setLastName(String lastName) {\r\n    \t\tthis.lastName = lastName;\r\n    \t}\r\n    }\r\n\r\n\r\n\r\n\r\n**Application Class :** \r\n\r\n\r\n\r\n    @SpringBootApplication(scanBasePackages={&quot;web&quot;,&quot;service&quot;,&quot;dao&quot;})\r\n    @EntityScan(basePackages= {&quot;model&quot;})\r\n    @EnableConfigurationProperties(value = PetClinicProperties.class)\r\n    public class PetClinic {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \t\t\r\n    \t\tSpringApplication.run(PetClinic.class, args);\r\n    \r\n    \t}\r\n    }\r\n\r\n**Controller Class :**\r\n\r\n    @RestController\r\n    @Transactional\r\n    public class PetClinicControl {\r\n\t\r\n\t@Autowired\r\n\tprivate PetClinicService petClinicService;\r\n\t\r\n\r\n\tpublic void setPetClinicService(PetClinicService petClinicService) {\r\n\t\tthis.petClinicService = petClinicService;\r\n\t}\r\n\t\r\n\t@RequestMapping(method=RequestMethod.POST,value=&quot;/createOwner&quot;)\r\n\tpublic ResponseEntity&lt;Owner&gt; createOwner(@RequestBody Owner owner){\r\n\t\t\r\n\t\ttry {\r\n\t\t\t\r\n\t\t\tOwner ownerNew = new Owner();\r\n\t\t\townerNew.setId(owner.getId());\r\n\t\t\townerNew.setFirstName(owner.getFirstName());\r\n\t\t\townerNew.setLastName(owner.getLastName());\r\n\t\t\t\r\n\t\t\tpetClinicService.createOwner(ownerNew);\r\n\t\t\t\r\n\t\t\treturn ResponseEntity.ok(ownerNew);\r\n\t\t\t\r\n\t\t}catch(Exception ex) {\r\n\t\t\t\r\n\t\t\tex.printStackTrace();\r\n\t\t\treturn ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).build();\r\n\t     }\r\n\t   }\t\r\n     }\r\n\r\n\r\n**My application.properties :** \r\n\r\n    management.endpoints.enabled-by-default=true\r\n    management.endpoints.web.exposure.include=*\r\n    \r\n    spring.datasource.driverClassName=org.h2.Driver\r\n    spring.jpa.database-platform=org.hibernate.dialect.H2Dialect\r\n    spring.datasource.url=jdbc:h2:mem:testdb\r\n    spring.datasource.username=sa\r\n    spring.datasource.password=123456\r\n\r\n    server.port=8095\r\n\r\n\r\n\r\n**My project structure :**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n\r\n**Detailed error log when using @EntityScan on ApplicationClass**\r\n\r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1710) ~[spring-beans-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:583) ~[spring-beans-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:502) ~[spring-beans-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:312) ~[spring-beans-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n    \tat \r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:858) ~[spring-context-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549) ~[spring-context-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.0.RELEASE.jar:2.0.0.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-2.0.0.RELEASE.jar:2.0.0.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:388) ~[spring-boot-2.0.0.RELEASE.jar:2.0.0.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1234) ~[spring-boot-2.0.0.RELEASE.jar:2.0.0.RELEASE]\r\n    \tat petclinic.PetClinic.main(PetClinic.java:20) ~[classes/:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n    java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:564) ~[na:na]\r\n    \tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.0.0.RELEASE.jar:2.0.0.RELEASE]\r\n    Caused by: javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory\r\n    \tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.persistenceException(EntityManagerFactoryBuilderImpl.java:970) ~[hibernate-core-5.2.14.Final.jar:5.2.14.Final]\r\n    \tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:895) ~[hibernate-core-5.2.14.Final.jar:5.2.14.Final]\r\n    \tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:57) ~[spring-orm-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n    \tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1706) ~[spring-beans-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n    \t... 21 common frames omitted\r\n    Caused by: org.hibernate.MappingException: Could not get constructor for org.hibernate.persister.entity.SingleTableEntityPersister\r\n    \tat org.hibernate.persister.internal.PersisterFactoryImpl.createEntityPersister(PersisterFactoryImpl.java:123) ~[hibernate-core-5.2.14.Final.jar:5.2.14.Final]\r\n    \tat org.hibernate.persister.internal.PersisterFactoryImpl.createEntityPersister(PersisterFactoryImpl.java:77) ~[hibernate-core-5.2.14.Final.jar:5.2.14.Final]\r\n    \tat org.hibernate.metamodel.internal.MetamodelImpl.initialize(MetamodelImpl.java:128) ~[hibernate-core-5.2.14.Final.jar:5.2.14.Final]\r\n    \tat org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:300) ~[hibernate-core-5.2.14.Final.jar:5.2.14.Final]\r\n    \tat org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:460) ~[hibernate-core-5.2.14.Final.jar:5.2.14.Final]\r\n    \tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:892) ~[hibernate-core-5.2.14.Final.jar:5.2.14.Final]\r\n    \t... 28 common frames omitted\r\n    Caused by: org.hibernate.HibernateException: Unable to instantiate default tuplizer [org.hibernate.tuple.entity.PojoEntityTuplizer]\r\n    \tat org.hibernate.tuple.entity.EntityTuplizerFactory.constructTuplizer(EntityTuplizerFactory.java:91) ~[hibernate-core-5.2.14.Final.jar:5.2.14.Final]\r\n    \tat org.hibernate.tuple.entity.EntityTuplizerFactory.constructDefaultTuplizer(EntityTuplizerFactory.java:116) ~[hibernate-core-5.2.14.Final.jar:5.2.14.Final]\r\n    \tat org.hibernate.tuple.entity.EntityMetamodel.&lt;init&gt;(EntityMetamodel.java:385) ~[hibernate-core-5.2.14.Final.jar:5.2.14.Final]\r\n    \tat org.hibernate.persister.entity.AbstractEntityPersister.&lt;init&gt;(AbstractEntityPersister.java:519) ~[hibernate-core-5.2.14.Final.jar:5.2.14.Final]\r\n    \tat org.hibernate.persister.entity.SingleTableEntityPersister.&lt;init&gt;(SingleTableEntityPersister.java:124) ~[hibernate-core-5.2.14.Final.jar:5.2.14.Final]\r\n    \tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:500) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:481) ~[na:na]\r\n    \tat org.hibernate.persister.internal.PersisterFactoryImpl.createEntityPersister(PersisterFactoryImpl.java:96) ~[hibernate-core-5.2.14.Final.jar:5.2.14.Final]\r\n    \t... 33 common frames omitted\r\n    Caused by: java.lang.reflect.InvocationTargetException: null\r\n    \tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:500) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:481) ~[na:na]\r\n    \tat org.hibernate.tuple.entity.EntityTuplizerFactory.constructTuplizer(EntityTuplizerFactory.java:88) ~[hibernate-core-5.2.14.Final.jar:5.2.14.Final]\r\n    \t... 43 common frames omitted\r\n    Caused by: java.lang.NullPointerException: Cannot invoke &quot;java.lang.reflect.AccessibleObject.setAccessible(boolean)&quot; because &quot;ao&quot; is null\r\n    \tat javassist.util.proxy.SecurityActions.setAccessible(SecurityActions.java:103) ~[javassist-3.22.0-GA.jar:na]\r\n    \tat javassist.util.proxy.DefineClassHelper.toClass3(DefineClassHelper.java:151) ~[javassist-3.22.0-GA.jar:na]\r\n    \tat javassist.util.proxy.DefineClassHelper.toClass2(DefineClassHelper.java:134) ~[javassist-3.22.0-GA.jar:na]\r\n    \tat javassist.util.proxy.DefineClassHelper.toClass(DefineClassHelper.java:95) ~[javassist-3.22.0-GA.jar:na]\r\n    \tat javassist.util.proxy.FactoryHelper.toClass(FactoryHelper.java:131) ~[javassist-3.22.0-GA.jar:na]\r\n    \tat javassist.util.proxy.ProxyFactory.createClass3(ProxyFactory.java:530) ~[javassist-3.22.0-GA.jar:na]\r\n    \tat javassist.util.proxy.ProxyFactory.createClass2(ProxyFactory.java:515) ~[javassist-3.22.0-GA.jar:na]\r\n    \tat javassist.util.proxy.ProxyFactory.createClass1(ProxyFactory.java:451) ~[javassist-3.22.0-GA.jar:na]\r\n    \tat javassist.util.proxy.ProxyFactory.createClass(ProxyFactory.java:422) ~[javassist-3.22.0-GA.jar:na]\r\n    \tat org.hibernate.proxy.pojo.javassist.JavassistProxyFactory.postInstantiate(JavassistProxyFactory.java:75) ~[hibernate-core-5.2.14.Final.jar:5.2.14.Final]\r\n    \tat org.hibernate.tuple.entity.PojoEntityTuplizer.buildProxyFactory(PojoEntityTuplizer.java:162) ~[hibernate-core-5.2.14.Final.jar:5.2.14.Final]\r\n    \tat org.hibernate.tuple.entity.AbstractEntityTuplizer.&lt;init&gt;(AbstractEntityTuplizer.java:156) ~[hibernate-core-5.2.14.Final.jar:5.2.14.Final]\r\n    \tat org.hibernate.tuple.entity.PojoEntityTuplizer.&lt;init&gt;(PojoEntityTuplizer.java:58) ~[hibernate-core-5.2.14.Final.jar:5.2.14.Final]\r\n    \t... 49 common frames omitted\r\n\r\n\r\nAnd **Detailed error log when Not using @EntityScan on ApplicationClass**\r\n\r\n   \r\n\r\n     org.springframework.dao.InvalidDataAccessApiUsageException: Unknown entity: model.Owner; nested exception is java.lang.IllegalArgumentException: Unknown entity: model.Owner\r\n        \tat org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:368)\r\n        \tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:227)\r\n        \tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:507)\r\n        \tat org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\r\n        \tat org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242)\r\n        \tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:153)\r\n        \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185)\r\n        \tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:294)\r\n        \tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98)\r\n        \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185)\r\n        \tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)\r\n        \tat dao.jpa.OwnerRepositoryJpaImpl$$EnhancerBySpringCGLIB$$a5485909.createOwner(&lt;generated&gt;)\r\n        \tat service.PetClinicServiceImpl.createOwner(PetClinicServiceImpl.java:49)\r\n        \tat service.PetClinicServiceImpl$$FastClassBySpringCGLIB$$75117ac7.invoke(&lt;generated&gt;)\r\n        \tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)\r\n        \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:747)\r\n        \t \r\n     \r\n    org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185)\r\n        \tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)\r\n        \tat service.PetClinicServiceImpl$$EnhancerBySpringCGLIB$$25e88d7.createOwner(&lt;generated&gt;)\r\n        \tat web.PetClinicControl.createOwner(PetClinicControl.java:68)\r\n        \tat web.PetClinicControl$$FastClassBySpringCGLIB$$25258bf0.invoke(&lt;generated&gt;)\r\n        \tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)\r\n        \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:747)\r\n        \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n        \tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:294)\r\n        \tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98)\r\n        \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185)\r\n        \tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)\r\n        \tat web.PetClinicControl$$EnhancerBySpringCGLIB$$37163df2.createOwner(&lt;generated&gt;)\r\n        \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        \tat java.base/java.lang.reflect.Method.invoke(Method.java:564)\r\n        \tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209)\r\n        \tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136)\r\n        \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102)\r\n        \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:870)\r\n        \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:776)\r\n        \tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n        \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991)\r\n        \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925)\r\n        \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:978)\r\n        \tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:881)\r\n        \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:661)\r\n        \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:855)\r\n        \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:742)\r\n        \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\r\n        \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n        \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\r\n        \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n        \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n        \tat org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:158)\r\n        \tat org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:126)\r\n        \tat org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:111)\r\n        \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n        \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n        \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n        \tat org.springframework.boot.actuate.web.trace.servlet.HttpTraceFilter.doFilterInternal(HttpTraceFilter.java:84)\r\n        \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n        \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n        \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n        \tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)\r\n        \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n        \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n        \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n        \tat org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109)\r\n        \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n        \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n        \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n        \tat org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81)\r\n        \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n        \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n        \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n        \tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)\r\n        \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n        \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n        \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n        \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199)\r\n        \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\r\n        \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496)\r\n        \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)\r\n        \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)\r\n        \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)\r\n        \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)\r\n        \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803)\r\n        \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\r\n        \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790)\r\n        \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1459)\r\n        \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n        \tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)\r\n        \tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630)\r\n        \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n        \tat java.base/java.lang.Thread.run(Thread.java:832)\r\n        Caused by: java.lang.IllegalArgumentException: Unknown entity: model.Owner\r\n        \tat org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:786)\r\n        \tat org.hibernate.internal.SessionImpl.persist(SessionImpl.java:767)\r\n        \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        \tat java.base/java.lang.reflect.Method.invoke(Method.java:564)\r\n        \tat org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:350)\r\n        \tat com.sun.proxy.$Proxy114.persist(Unknown Source)\r\n        \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        \tat org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:304)\r\n        \tat com.sun.proxy.$Proxy114.persist(Unknown Source)\r\n        \tat dao.jpa.OwnerRepositoryJpaImpl.createOwner(OwnerRepositoryJpaImpl.java:57)\r\n        \tat dao.jpa.OwnerRepositoryJpaImpl$$FastClassBySpringCGLIB$$930052ed.invoke(&lt;generated&gt;)\r\n        \tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)\r\n        \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:747)\r\n        \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n        \tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\r\n        \t... 90 more\r\n        2020-10-21 08:41:32.438 ERROR 12452 --- [nio-8095-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.orm.jpa.JpaSystemException: Transaction was marked for rollback only; cannot commit; nested exception is org.hibernate.TransactionException: Transaction was marked for rollback only; cannot commit] with root cause\r\n        \r\n        org.hibernate.TransactionException: Transaction was marked for rollback only; cannot commit\r\n        \tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:228) ~[hibernate-core-5.2.14.Final.jar:5.2.14.Final]\r\n        \tat org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:68) ~[hibernate-core-5.2.14.Final.jar:5.2.14.Final]\r\n        \tat org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:536) ~[spring-orm-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n        \tat org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:746) ~[spring-tx-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n        \tat \r\n        \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n        \tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689) ~[spring-aop-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n        \tat web.PetClinicControl$$EnhancerBySpringCGLIB$$37163df2.createOwner(&lt;generated&gt;) ~[classes/:na]\r\n        \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n        \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n        \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n        \tat java.base/java.lang.reflect.Method.invoke(Method.java:564) ~[na:na]\r\n        \tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209) ~[spring-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n        \tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136) ~[spring-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n        \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n        \tat \r\n        \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n        \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.28.jar:8.5.28]\r\n        \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.28.jar:8.5.28]\r\n        \tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n        \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n        \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.28.jar:8.5.28]\r\n        \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) \r\n        \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) ~[tomcat-embed-core-8.5.28.jar:8.5.28]\r\n        \t \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-8.5.28.jar:8.5.28]\r\n        \tat java.base/java.lang.Thread.run(Thread.java:832) ~[na:na]\r\n    \r\n    \r\n      [1]: https://i.stack.imgur.com/TZHJN.png\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bZQK5.png","title":"Spring Boot Project &quot;org.springframework.beans.factory.BeanCreationException:Error creating bean with name &#39;entityManagerFactory&#39;&quot; ERROR","body":"<p>I'm newbie on Spring Boot and I want to make a rest webservice with spring boot. I need to persist some data on database using Jpa/Hibernate. When I annotate my domain model class with @Entity annotation and I start my application as Spring boot application (My application class have an @EntityScan() annotation by the way.) I am getting error below :</p>\n<p><strong>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory</strong></p>\n<p>When I don't annotate my application class with @EntityScan annotation and run my app and call my rest controller method of createOwner() , I am getting error below :</p>\n<p><strong>org.springframework.dao.InvalidDataAccessApiUsageException: Unknown entity: model.Owner; nested exception is java.lang.IllegalArgumentException: Unknown entity: model.Owner</strong></p>\n<p>I'll be happy if you inform me about why I'm getting these errors, thanks.</p>\n<p>My classes are :</p>\n<p>Domain Class :</p>\n<p><strong>Owner.java</strong></p>\n<pre><code>@Entity\npublic class Owner {\n    \n    @Id\n    @GeneratedValue(strategy=GenerationType.AUTO)\n    private Long id;\n    private String firstName;\n    private String lastName;\n\n    public Owner() {}\n\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public String getFirstName() {\n        return firstName;\n    }\n\n    public void setFirstName(String firstName) {\n        this.firstName = firstName;\n    }\n\n    public String getLastName() {\n        return lastName;\n    }\n\n    public void setLastName(String lastName) {\n        this.lastName = lastName;\n    }\n}\n</code></pre>\n<p><strong>Application Class :</strong></p>\n<pre><code>@SpringBootApplication(scanBasePackages={&quot;web&quot;,&quot;service&quot;,&quot;dao&quot;})\n@EntityScan(basePackages= {&quot;model&quot;})\n@EnableConfigurationProperties(value = PetClinicProperties.class)\npublic class PetClinic {\n\n    public static void main(String[] args) {\n\n        \n        SpringApplication.run(PetClinic.class, args);\n\n    }\n}\n</code></pre>\n<p><strong>Controller Class :</strong></p>\n<pre><code>@RestController\n@Transactional\npublic class PetClinicControl {\n\n@Autowired\nprivate PetClinicService petClinicService;\n\n\npublic void setPetClinicService(PetClinicService petClinicService) {\n    this.petClinicService = petClinicService;\n}\n\n@RequestMapping(method=RequestMethod.POST,value=&quot;/createOwner&quot;)\npublic ResponseEntity&lt;Owner&gt; createOwner(@RequestBody Owner owner){\n    \n    try {\n        \n        Owner ownerNew = new Owner();\n        ownerNew.setId(owner.getId());\n        ownerNew.setFirstName(owner.getFirstName());\n        ownerNew.setLastName(owner.getLastName());\n        \n        petClinicService.createOwner(ownerNew);\n        \n        return ResponseEntity.ok(ownerNew);\n        \n    }catch(Exception ex) {\n        \n        ex.printStackTrace();\n        return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).build();\n     }\n   }    \n }\n</code></pre>\n<p><strong>My application.properties :</strong></p>\n<pre><code>management.endpoints.enabled-by-default=true\nmanagement.endpoints.web.exposure.include=*\n\nspring.datasource.driverClassName=org.h2.Driver\nspring.jpa.database-platform=org.hibernate.dialect.H2Dialect\nspring.datasource.url=jdbc:h2:mem:testdb\nspring.datasource.username=sa\nspring.datasource.password=123456\n\nserver.port=8095\n</code></pre>\n<p><strong>My project structure :</strong></p>\n<p><a href=\"https://i.stack.imgur.com/bZQK5.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/bZQK5.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Detailed error log when using @EntityScan on ApplicationClass</strong></p>\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1710) ~[spring-beans-5.0.4.RELEASE.jar:5.0.4.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:583) ~[spring-beans-5.0.4.RELEASE.jar:5.0.4.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:502) ~[spring-beans-5.0.4.RELEASE.jar:5.0.4.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:312) ~[spring-beans-5.0.4.RELEASE.jar:5.0.4.RELEASE]\n    at \n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:858) ~[spring-context-5.0.4.RELEASE.jar:5.0.4.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549) ~[spring-context-5.0.4.RELEASE.jar:5.0.4.RELEASE]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.0.RELEASE.jar:2.0.0.RELEASE]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-2.0.0.RELEASE.jar:2.0.0.RELEASE]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:388) ~[spring-boot-2.0.0.RELEASE.jar:2.0.0.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1234) ~[spring-boot-2.0.0.RELEASE.jar:2.0.0.RELEASE]\n    at petclinic.PetClinic.main(PetClinic.java:20) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\njava.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:564) ~[na:na]\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.0.0.RELEASE.jar:2.0.0.RELEASE]\nCaused by: javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.persistenceException(EntityManagerFactoryBuilderImpl.java:970) ~[hibernate-core-5.2.14.Final.jar:5.2.14.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:895) ~[hibernate-core-5.2.14.Final.jar:5.2.14.Final]\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:57) ~[spring-orm-5.0.4.RELEASE.jar:5.0.4.RELEASE]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.0.4.RELEASE.jar:5.0.4.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1706) ~[spring-beans-5.0.4.RELEASE.jar:5.0.4.RELEASE]\n    ... 21 common frames omitted\nCaused by: org.hibernate.MappingException: Could not get constructor for org.hibernate.persister.entity.SingleTableEntityPersister\n    at org.hibernate.persister.internal.PersisterFactoryImpl.createEntityPersister(PersisterFactoryImpl.java:123) ~[hibernate-core-5.2.14.Final.jar:5.2.14.Final]\n    at org.hibernate.persister.internal.PersisterFactoryImpl.createEntityPersister(PersisterFactoryImpl.java:77) ~[hibernate-core-5.2.14.Final.jar:5.2.14.Final]\n    at org.hibernate.metamodel.internal.MetamodelImpl.initialize(MetamodelImpl.java:128) ~[hibernate-core-5.2.14.Final.jar:5.2.14.Final]\n    at org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:300) ~[hibernate-core-5.2.14.Final.jar:5.2.14.Final]\n    at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:460) ~[hibernate-core-5.2.14.Final.jar:5.2.14.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:892) ~[hibernate-core-5.2.14.Final.jar:5.2.14.Final]\n    ... 28 common frames omitted\nCaused by: org.hibernate.HibernateException: Unable to instantiate default tuplizer [org.hibernate.tuple.entity.PojoEntityTuplizer]\n    at org.hibernate.tuple.entity.EntityTuplizerFactory.constructTuplizer(EntityTuplizerFactory.java:91) ~[hibernate-core-5.2.14.Final.jar:5.2.14.Final]\n    at org.hibernate.tuple.entity.EntityTuplizerFactory.constructDefaultTuplizer(EntityTuplizerFactory.java:116) ~[hibernate-core-5.2.14.Final.jar:5.2.14.Final]\n    at org.hibernate.tuple.entity.EntityMetamodel.&lt;init&gt;(EntityMetamodel.java:385) ~[hibernate-core-5.2.14.Final.jar:5.2.14.Final]\n    at org.hibernate.persister.entity.AbstractEntityPersister.&lt;init&gt;(AbstractEntityPersister.java:519) ~[hibernate-core-5.2.14.Final.jar:5.2.14.Final]\n    at org.hibernate.persister.entity.SingleTableEntityPersister.&lt;init&gt;(SingleTableEntityPersister.java:124) ~[hibernate-core-5.2.14.Final.jar:5.2.14.Final]\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:500) ~[na:na]\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:481) ~[na:na]\n    at org.hibernate.persister.internal.PersisterFactoryImpl.createEntityPersister(PersisterFactoryImpl.java:96) ~[hibernate-core-5.2.14.Final.jar:5.2.14.Final]\n    ... 33 common frames omitted\nCaused by: java.lang.reflect.InvocationTargetException: null\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:500) ~[na:na]\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:481) ~[na:na]\n    at org.hibernate.tuple.entity.EntityTuplizerFactory.constructTuplizer(EntityTuplizerFactory.java:88) ~[hibernate-core-5.2.14.Final.jar:5.2.14.Final]\n    ... 43 common frames omitted\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;java.lang.reflect.AccessibleObject.setAccessible(boolean)&quot; because &quot;ao&quot; is null\n    at javassist.util.proxy.SecurityActions.setAccessible(SecurityActions.java:103) ~[javassist-3.22.0-GA.jar:na]\n    at javassist.util.proxy.DefineClassHelper.toClass3(DefineClassHelper.java:151) ~[javassist-3.22.0-GA.jar:na]\n    at javassist.util.proxy.DefineClassHelper.toClass2(DefineClassHelper.java:134) ~[javassist-3.22.0-GA.jar:na]\n    at javassist.util.proxy.DefineClassHelper.toClass(DefineClassHelper.java:95) ~[javassist-3.22.0-GA.jar:na]\n    at javassist.util.proxy.FactoryHelper.toClass(FactoryHelper.java:131) ~[javassist-3.22.0-GA.jar:na]\n    at javassist.util.proxy.ProxyFactory.createClass3(ProxyFactory.java:530) ~[javassist-3.22.0-GA.jar:na]\n    at javassist.util.proxy.ProxyFactory.createClass2(ProxyFactory.java:515) ~[javassist-3.22.0-GA.jar:na]\n    at javassist.util.proxy.ProxyFactory.createClass1(ProxyFactory.java:451) ~[javassist-3.22.0-GA.jar:na]\n    at javassist.util.proxy.ProxyFactory.createClass(ProxyFactory.java:422) ~[javassist-3.22.0-GA.jar:na]\n    at org.hibernate.proxy.pojo.javassist.JavassistProxyFactory.postInstantiate(JavassistProxyFactory.java:75) ~[hibernate-core-5.2.14.Final.jar:5.2.14.Final]\n    at org.hibernate.tuple.entity.PojoEntityTuplizer.buildProxyFactory(PojoEntityTuplizer.java:162) ~[hibernate-core-5.2.14.Final.jar:5.2.14.Final]\n    at org.hibernate.tuple.entity.AbstractEntityTuplizer.&lt;init&gt;(AbstractEntityTuplizer.java:156) ~[hibernate-core-5.2.14.Final.jar:5.2.14.Final]\n    at org.hibernate.tuple.entity.PojoEntityTuplizer.&lt;init&gt;(PojoEntityTuplizer.java:58) ~[hibernate-core-5.2.14.Final.jar:5.2.14.Final]\n    ... 49 common frames omitted\n</code></pre>\n<p>And <strong>Detailed error log when Not using @EntityScan on ApplicationClass</strong></p>\n<pre><code> org.springframework.dao.InvalidDataAccessApiUsageException: Unknown entity: model.Owner; nested exception is java.lang.IllegalArgumentException: Unknown entity: model.Owner\n        at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:368)\n        at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:227)\n        at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:507)\n        at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\n        at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242)\n        at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:153)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185)\n        at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:294)\n        at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185)\n        at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)\n        at dao.jpa.OwnerRepositoryJpaImpl$$EnhancerBySpringCGLIB$$a5485909.createOwner(&lt;generated&gt;)\n        at service.PetClinicServiceImpl.createOwner(PetClinicServiceImpl.java:49)\n        at service.PetClinicServiceImpl$$FastClassBySpringCGLIB$$75117ac7.invoke(&lt;generated&gt;)\n        at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:747)\n         \n \norg.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185)\n        at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)\n        at service.PetClinicServiceImpl$$EnhancerBySpringCGLIB$$25e88d7.createOwner(&lt;generated&gt;)\n        at web.PetClinicControl.createOwner(PetClinicControl.java:68)\n        at web.PetClinicControl$$FastClassBySpringCGLIB$$25258bf0.invoke(&lt;generated&gt;)\n        at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:747)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n        at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:294)\n        at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185)\n        at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)\n        at web.PetClinicControl$$EnhancerBySpringCGLIB$$37163df2.createOwner(&lt;generated&gt;)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:564)\n        at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209)\n        at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136)\n        at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102)\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:870)\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:776)\n        at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n        at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991)\n        at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925)\n        at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:978)\n        at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:881)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:661)\n        at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:855)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:742)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n        at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n        at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:158)\n        at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:126)\n        at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:111)\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n        at org.springframework.boot.actuate.web.trace.servlet.HttpTraceFilter.doFilterInternal(HttpTraceFilter.java:84)\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n        at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n        at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109)\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n        at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81)\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n        at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199)\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496)\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803)\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790)\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1459)\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630)\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n        at java.base/java.lang.Thread.run(Thread.java:832)\n    Caused by: java.lang.IllegalArgumentException: Unknown entity: model.Owner\n        at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:786)\n        at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:767)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:564)\n        at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:350)\n        at com.sun.proxy.$Proxy114.persist(Unknown Source)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:304)\n        at com.sun.proxy.$Proxy114.persist(Unknown Source)\n        at dao.jpa.OwnerRepositoryJpaImpl.createOwner(OwnerRepositoryJpaImpl.java:57)\n        at dao.jpa.OwnerRepositoryJpaImpl$$FastClassBySpringCGLIB$$930052ed.invoke(&lt;generated&gt;)\n        at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:747)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n        at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n        ... 90 more\n    2020-10-21 08:41:32.438 ERROR 12452 --- [nio-8095-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.orm.jpa.JpaSystemException: Transaction was marked for rollback only; cannot commit; nested exception is org.hibernate.TransactionException: Transaction was marked for rollback only; cannot commit] with root cause\n    \n    org.hibernate.TransactionException: Transaction was marked for rollback only; cannot commit\n        at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:228) ~[hibernate-core-5.2.14.Final.jar:5.2.14.Final]\n        at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:68) ~[hibernate-core-5.2.14.Final.jar:5.2.14.Final]\n        at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:536) ~[spring-orm-5.0.4.RELEASE.jar:5.0.4.RELEASE]\n        at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:746) ~[spring-tx-5.0.4.RELEASE.jar:5.0.4.RELEASE]\n        at \n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.4.RELEASE.jar:5.0.4.RELEASE]\n        at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689) ~[spring-aop-5.0.4.RELEASE.jar:5.0.4.RELEASE]\n        at web.PetClinicControl$$EnhancerBySpringCGLIB$$37163df2.createOwner(&lt;generated&gt;) ~[classes/:na]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n        at java.base/java.lang.reflect.Method.invoke(Method.java:564) ~[na:na]\n        at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209) ~[spring-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]\n        at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136) ~[spring-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]\n        at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.0.4.RELEASE.jar:5.0.4.RELEASE]\n        at \n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.28.jar:8.5.28]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.28.jar:8.5.28]\n        at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.28.jar:8.5.28]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) \n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) ~[tomcat-embed-core-8.5.28.jar:8.5.28]\n            at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-8.5.28.jar:8.5.28]\n        at java.base/java.lang.Thread.run(Thread.java:832) ~[na:na]\n\n\n  [1]: https://i.stack.imgur.com/TZHJN.png\n</code></pre>\n"},{"tags":["java","mysql","spring-boot","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":26185931,"reputation":386,"user_id":19868455,"display_name":"Pierre Demeestere"},"score":0,"creation_date":1668326366,"post_id":74418555,"comment_id":131374650,"body_markdown":"The problem comes from the `CascateType.ALL` on the `@ManyToMany courses`. When you create a student, hibernate tries to create the course. see https://stackoverflow.com/questions/4935095/jpa-hibernate-many-to-many-cascading. You will see that there is no 100% satisfying solution.","body":"The problem comes from the <code>CascateType.ALL</code> on the <code>@ManyToMany courses</code>. When you create a student, hibernate tries to create the course. see <a href=\"https://stackoverflow.com/questions/4935095/jpa-hibernate-many-to-many-cascading\" title=\"jpa hibernate many to many cascading\">stackoverflow.com/questions/4935095/&hellip;</a>. You will see that there is no 100% satisfying solution."},{"owner":{"account_id":15394477,"reputation":33,"user_id":11106082,"display_name":"ManishBharathi"},"score":0,"creation_date":1668327857,"post_id":74418555,"comment_id":131374847,"body_markdown":"Yeah, I saw this and tried. I&#39;m new to Spring boot and trying to find a solution to tackle this situation. All the materials I found on web doesn&#39;t speak about this use case. Any suggestions on how to get this working?","body":"Yeah, I saw this and tried. I&#39;m new to Spring boot and trying to find a solution to tackle this situation. All the materials I found on web doesn&#39;t speak about this use case. Any suggestions on how to get this working?"},{"owner":{"account_id":26185931,"reputation":386,"user_id":19868455,"display_name":"Pierre Demeestere"},"score":0,"creation_date":1668330574,"post_id":74418555,"comment_id":131375201,"body_markdown":"It seems that if none of the entity (course and student) is the owner of the relation, there is no way to get it to work properly with a cascade strategy.","body":"It seems that if none of the entity (course and student) is the owner of the relation, there is no way to get it to work properly with a cascade strategy."},{"owner":{"account_id":15394477,"reputation":33,"user_id":11106082,"display_name":"ManishBharathi"},"score":0,"creation_date":1668340401,"post_id":74418555,"comment_id":131376705,"body_markdown":"Using `CascadeType.MERGE` &amp; `CascadeType.REFRESH` I was able to prevent the duplicate from creating. Thanks @PierreDemeestere","body":"Using <code>CascadeType.MERGE</code> &amp; <code>CascadeType.REFRESH</code> I was able to prevent the duplicate from creating. Thanks @PierreDemeestere"},{"owner":{"account_id":26185931,"reputation":386,"user_id":19868455,"display_name":"Pierre Demeestere"},"score":0,"creation_date":1668343977,"post_id":74418555,"comment_id":131377357,"body_markdown":"Yes, but would it create the `course` if it did not exist : probably not. And would it work as well from the other side : i.e. creating a course containing a student ?","body":"Yes, but would it create the <code>course</code> if it did not exist : probably not. And would it work as well from the other side : i.e. creating a course containing a student ?"},{"owner":{"account_id":26185931,"reputation":386,"user_id":19868455,"display_name":"Pierre Demeestere"},"score":0,"creation_date":1668344334,"post_id":74418555,"comment_id":131377427,"body_markdown":"Could you show the source code of `studentService.saveStudent(student)` ?","body":"Could you show the source code of <code>studentService.saveStudent(student)</code> ?"},{"owner":{"account_id":26185931,"reputation":386,"user_id":19868455,"display_name":"Pierre Demeestere"},"score":0,"creation_date":1668345574,"post_id":74418555,"comment_id":131377692,"body_markdown":"Moreover, I think that, despite the MERGE, when you create a student with an existing course, if you try to change the name of the course via the inner Json structure discribing the course, then you will see no change in the database unless you use PERSIST instead of MERGE. But you will have another problem. Suppose that the existing course has already some students, you have to check if these relations won&#39;t be lost. You really have to check all data possibilities.","body":"Moreover, I think that, despite the MERGE, when you create a student with an existing course, if you try to change the name of the course via the inner Json structure discribing the course, then you will see no change in the database unless you use PERSIST instead of MERGE. But you will have another problem. Suppose that the existing course has already some students, you have to check if these relations won&#39;t be lost. You really have to check all data possibilities."},{"owner":{"account_id":10958861,"reputation":504,"user_id":8052787,"display_name":"FredvN"},"score":0,"creation_date":1668346894,"post_id":74418555,"comment_id":131377964,"body_markdown":"Can a student create a course or is the course already available for students to join?","body":"Can a student create a course or is the course already available for students to join?"},{"owner":{"account_id":15394477,"reputation":33,"user_id":11106082,"display_name":"ManishBharathi"},"score":0,"creation_date":1668423824,"post_id":74418555,"comment_id":131393572,"body_markdown":"@FredvN The use case is the course should be available, if not should be added.","body":"@FredvN The use case is the course should be available, if not should be added."}],"owner":{"account_id":15394477,"reputation":33,"user_id":11106082,"display_name":"ManishBharathi"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":559,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668683985,"creation_date":1668315172,"question_id":74418555,"body_markdown":"I have 3 tables\r\n\r\n 1. Student\r\n 2. Course\r\n 3. Enrolled Course (Join Table)\r\n\r\nThere is a many-to-many relationship between student and course.\r\nSince a student can enroll in many courses and a course can have many students enrolled.\r\n\r\nI added the corresponding List(students) and Set(courses) in Course and Student entity classes respectively.\r\n   \r\nThe `Student` Entity:\r\n``` java\r\n    @Entity\r\n    @Table(name=&quot;Student_Tbl&quot;)\r\n    public class Student {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(name = &quot;id&quot;)\r\n        private Long id;\r\n    \r\n        private String name;\r\n    \r\n        private String department;\r\n    \r\n        @JoinTable(\r\n                name = &quot;enrolled_course&quot;,\r\n                joinColumns = @JoinColumn(name = &quot;student_id&quot;,referencedColumnName = &quot;id&quot;),\r\n                inverseJoinColumns = @JoinColumn(name = &quot;course_id&quot;,referencedColumnName = &quot;title&quot;))\r\n        @ManyToMany(fetch = FetchType.EAGER,cascade = CascadeType.ALL)\r\n        private Set&lt;Course&gt; courses;\r\n```\r\nThe `Course` Entity:\r\n``` java\r\n    @Entity\r\n    @Table(name=&quot;Course_Tbl&quot;)\r\n    public class Course {\r\n        @Id\r\n        private String title;\r\n    \r\n        private String description;\r\n    \r\n        @ManyToMany(mappedBy = &quot;courses&quot;,fetch = FetchType.EAGER)\r\n        private Set&lt;Student&gt; students;\r\n```\r\nThe `Controller` Class:\r\n``` java\r\n    @RestController\r\n    @RequestMapping(&quot;/v1&quot;)\r\n    public class StudentController {\r\n      \r\n        @Autowired\r\n        private StudentRepository studentRepository;\r\n\r\n        @Autowired\r\n        private CourseRepository courseRepository;\r\n    \r\n        @Autowired\r\n        private StudentService studentService;\r\n    \r\n        @PostMapping(&quot;/student/register&quot;)\r\n        public ResponseEntity&lt;Student&gt; saveStudent(@RequestBody Student student)\r\n        {\r\n            studentService.saveStudent(student);\r\n            return ResponseEntity.ok(student);\r\n        }\r\n    }\r\n```\r\n\r\nWhen I save a Student with a course, it all works well. The data is stored in all the three tables\r\n``` json\r\n    {\r\n        &quot;name&quot;:&quot;ABC&quot;,\r\n        &quot;department&quot;:&quot;CS&quot;,\r\n        &quot;course&quot;:[\r\n            {\r\n                &quot;title&quot;:&quot;DBMS&quot;,\r\n                &quot;description&quot;:&quot;Database Management System&quot;\r\n            }\r\n            \r\n        ]\r\n    }\r\n```\r\nBut when I post another request with the same course for different students, \r\n `Duplicate entry &#39;DBMS&#39; for key &#39;course_tbl.PRIMARY&#39;` error is thrown.\r\n\r\nHow do I avoid this?\r\n\r\nEdit:\r\n\r\n    public void saveStudent(Student student){\r\n            for(Course course : student.getCourse() ){\r\n                if(courseRepository.findByTitle(course.getTitle())!= null) continue;\r\n                courseRepository.save(course);\r\n            }\r\n            studentRepository.save(student);\r\n        }\r\n\r\nHere I manually handled the case by checking if the course is already present in the table which worked as expected.","title":"Prevent Duplicate entry in many to many relationship using JPA","body":"<p>I have 3 tables</p>\n<ol>\n<li>Student</li>\n<li>Course</li>\n<li>Enrolled Course (Join Table)</li>\n</ol>\n<p>There is a many-to-many relationship between student and course.\nSince a student can enroll in many courses and a course can have many students enrolled.</p>\n<p>I added the corresponding List(students) and Set(courses) in Course and Student entity classes respectively.</p>\n<p>The <code>Student</code> Entity:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Entity\n    @Table(name=&quot;Student_Tbl&quot;)\n    public class Student {\n        @Id\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\n        @Column(name = &quot;id&quot;)\n        private Long id;\n    \n        private String name;\n    \n        private String department;\n    \n        @JoinTable(\n                name = &quot;enrolled_course&quot;,\n                joinColumns = @JoinColumn(name = &quot;student_id&quot;,referencedColumnName = &quot;id&quot;),\n                inverseJoinColumns = @JoinColumn(name = &quot;course_id&quot;,referencedColumnName = &quot;title&quot;))\n        @ManyToMany(fetch = FetchType.EAGER,cascade = CascadeType.ALL)\n        private Set&lt;Course&gt; courses;\n</code></pre>\n<p>The <code>Course</code> Entity:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Entity\n    @Table(name=&quot;Course_Tbl&quot;)\n    public class Course {\n        @Id\n        private String title;\n    \n        private String description;\n    \n        @ManyToMany(mappedBy = &quot;courses&quot;,fetch = FetchType.EAGER)\n        private Set&lt;Student&gt; students;\n</code></pre>\n<p>The <code>Controller</code> Class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @RestController\n    @RequestMapping(&quot;/v1&quot;)\n    public class StudentController {\n      \n        @Autowired\n        private StudentRepository studentRepository;\n\n        @Autowired\n        private CourseRepository courseRepository;\n    \n        @Autowired\n        private StudentService studentService;\n    \n        @PostMapping(&quot;/student/register&quot;)\n        public ResponseEntity&lt;Student&gt; saveStudent(@RequestBody Student student)\n        {\n            studentService.saveStudent(student);\n            return ResponseEntity.ok(student);\n        }\n    }\n</code></pre>\n<p>When I save a Student with a course, it all works well. The data is stored in all the three tables</p>\n<pre class=\"lang-json prettyprint-override\"><code>    {\n        &quot;name&quot;:&quot;ABC&quot;,\n        &quot;department&quot;:&quot;CS&quot;,\n        &quot;course&quot;:[\n            {\n                &quot;title&quot;:&quot;DBMS&quot;,\n                &quot;description&quot;:&quot;Database Management System&quot;\n            }\n            \n        ]\n    }\n</code></pre>\n<p>But when I post another request with the same course for different students,\n<code>Duplicate entry 'DBMS' for key 'course_tbl.PRIMARY'</code> error is thrown.</p>\n<p>How do I avoid this?</p>\n<p>Edit:</p>\n<pre><code>public void saveStudent(Student student){\n        for(Course course : student.getCourse() ){\n            if(courseRepository.findByTitle(course.getTitle())!= null) continue;\n            courseRepository.save(course);\n        }\n        studentRepository.save(student);\n    }\n</code></pre>\n<p>Here I manually handled the case by checking if the course is already present in the table which worked as expected.</p>\n"},{"tags":["java","install4j"],"answers":[{"tags":[],"owner":{"account_id":900581,"reputation":46749,"user_id":936832,"accept_rate":75,"display_name":"Ingo Kegel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1668683898,"creation_date":1513958030,"answer_id":47944169,"question_id":47943440,"body_markdown":"There is an &quot;Execute previous uninstaller&quot; action that can uninstall from any directory if the &quot;Installation directory&quot; property is set and the &quot;Only if the same application ID is found&quot; property is deselected.\r\n\r\nTo find out where previous versions with different application IDs are installed, use\r\n\r\n    ApplicationRegistry.ApplicationInfo[] applicationInfos =\r\n       ApplicationRegistry.getApplicationInfoById(&quot;&lt;application ID of previous version&gt;&quot;);\r\n\r\n    if (applicationInfos.length &gt; 0) {\r\n       context.setVariable(&quot;uninstallDir&quot;,  \r\n            applicationInfos[0].getInstallationDirectory().getPath());\r\n    }\r\n\r\nin a &quot;Run script&quot; action. Then you can set the &quot;Installation directory&quot; property of the &quot;Execute previous uninstaller&quot; action to \r\n\r\n    ${installer:uninstallDir}\r\n\r\nand its &quot;Condition expression&quot; to\r\n\r\n    context.getVariable(&quot;uninstallDir&quot;) != null\r\n\r\n","title":"Install4j - Uninstall old application with different Application ID","body":"<p>There is an &quot;Execute previous uninstaller&quot; action that can uninstall from any directory if the &quot;Installation directory&quot; property is set and the &quot;Only if the same application ID is found&quot; property is deselected.</p>\n<p>To find out where previous versions with different application IDs are installed, use</p>\n<pre><code>ApplicationRegistry.ApplicationInfo[] applicationInfos =\n   ApplicationRegistry.getApplicationInfoById(&quot;&lt;application ID of previous version&gt;&quot;);\n\nif (applicationInfos.length &gt; 0) {\n   context.setVariable(&quot;uninstallDir&quot;,  \n        applicationInfos[0].getInstallationDirectory().getPath());\n}\n</code></pre>\n<p>in a &quot;Run script&quot; action. Then you can set the &quot;Installation directory&quot; property of the &quot;Execute previous uninstaller&quot; action to</p>\n<pre><code>${installer:uninstallDir}\n</code></pre>\n<p>and its &quot;Condition expression&quot; to</p>\n<pre><code>context.getVariable(&quot;uninstallDir&quot;) != null\n</code></pre>\n"}],"owner":{"account_id":9191764,"reputation":73,"user_id":6832006,"display_name":"Felipe Seiber"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":577,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":47944169,"answer_count":1,"score":2,"last_activity_date":1668683898,"creation_date":1513954537,"question_id":47943440,"body_markdown":"We are currently using a different randomly generated Application ID &amp; installation directory for each new product version released. For example: \r\n\r\n- Version 10 would have application ID 12345 &amp; directory of &quot;ProductName10&quot;\r\n- Version 11 has an application ID of 98765 &amp; directory of &quot;ProductName11&quot;\r\n\r\nWe chose to use separate IDs &amp; installation directories for each new version to allow users to demo the new version without having to remove the previous version. If we used the same ID it would overwrite the previous version and invalidate their license. \r\n\r\nHowever, for users that know they want to upgrade it is a 2 step process for them to install the new version and then find &amp; run the uninstaller for the previous version. What we would like is to prompt the user with an option to uninstall the previous version (if found) during the installation process. \r\n\r\nWe have looked for some prebuilt option in the Install4j settings to allow this but have not found a good solution. Basically our desired workflow is as follows:\r\n\r\n 1. Display the first standard welcome screen\r\n 2. User selects our custom options and begins installation\r\n 3. During installation: FIRST check if previous versions exist (using\r\n    known Application IDs or other method), if so display message to\r\n    user with confirmation to remove previous version\r\n 4. If user selects Yes run uninstaller for previous program BEFORE\r\n    completing the installation for the current new program.\r\n\r\nUltimately I have 2 questions related to this:\r\n\r\n 1. What is the best way for us to accomplish our desired workflow?\r\n 2. If there is no easy way, is there another way to setup our\r\n    application versions so that we can have a similar process to allow\r\n    us to have separate application versions and somehow auto uninstall\r\n    the previous version?\r\n\r\n**NOTE**: Our solution needs to also be cross compatible with Windows, Mac, &amp; Linux\r\n\r\nThanks!","title":"Install4j - Uninstall old application with different Application ID","body":"<p>We are currently using a different randomly generated Application ID &amp; installation directory for each new product version released. For example: </p>\n\n<ul>\n<li>Version 10 would have application ID 12345 &amp; directory of \"ProductName10\"</li>\n<li>Version 11 has an application ID of 98765 &amp; directory of \"ProductName11\"</li>\n</ul>\n\n<p>We chose to use separate IDs &amp; installation directories for each new version to allow users to demo the new version without having to remove the previous version. If we used the same ID it would overwrite the previous version and invalidate their license. </p>\n\n<p>However, for users that know they want to upgrade it is a 2 step process for them to install the new version and then find &amp; run the uninstaller for the previous version. What we would like is to prompt the user with an option to uninstall the previous version (if found) during the installation process. </p>\n\n<p>We have looked for some prebuilt option in the Install4j settings to allow this but have not found a good solution. Basically our desired workflow is as follows:</p>\n\n<ol>\n<li>Display the first standard welcome screen</li>\n<li>User selects our custom options and begins installation</li>\n<li>During installation: FIRST check if previous versions exist (using\nknown Application IDs or other method), if so display message to\nuser with confirmation to remove previous version</li>\n<li>If user selects Yes run uninstaller for previous program BEFORE\ncompleting the installation for the current new program.</li>\n</ol>\n\n<p>Ultimately I have 2 questions related to this:</p>\n\n<ol>\n<li>What is the best way for us to accomplish our desired workflow?</li>\n<li>If there is no easy way, is there another way to setup our\napplication versions so that we can have a similar process to allow\nus to have separate application versions and somehow auto uninstall\nthe previous version?</li>\n</ol>\n\n<p><strong>NOTE</strong>: Our solution needs to also be cross compatible with Windows, Mac, &amp; Linux</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","arrays","list"],"comments":[{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1668678623,"post_id":74473182,"comment_id":131466115,"body_markdown":"So does `List&lt;UserDto&gt;` only contain 1 element and has a size of 1, or does your List contain multiple elements but all have the same email address?","body":"So does <code>List&lt;UserDto&gt;</code> only contain 1 element and has a size of 1, or does your List contain multiple elements but all have the same email address?"},{"owner":{"account_id":14561222,"reputation":93,"user_id":10517244,"display_name":"uma"},"score":0,"creation_date":1668679183,"post_id":74473182,"comment_id":131466332,"body_markdown":"@OH GOD SPIDERS List&lt;UserDto&gt; have 2 different elements (different emails), all recipients (users) have same content of the email. currently it send only for i=0 which is the first email address.","body":"@OH GOD SPIDERS List&lt;UserDto&gt; have 2 different elements (different emails), all recipients (users) have same content of the email. currently it send only for i=0 which is the first email address."},{"owner":{"account_id":12221317,"reputation":569,"user_id":8920328,"display_name":"Melron"},"score":0,"creation_date":1668679365,"post_id":74473182,"comment_id":131466412,"body_markdown":"Try to add 2 prints. The 1st one just before the sendNotification and the 2nd after the sendNotification. Print only email addresses. In case that you get 2 prints (emails) the problem is located at the method sendNotification OR the email is incorrect from your database. BTW, you should consider to change your connection structure. You are not closing the connection and the ResultSet. Just to remind you, these classes are auto-closeable, which means you can use the try-with-resources (java8+)","body":"Try to add 2 prints. The 1st one just before the sendNotification and the 2nd after the sendNotification. Print only email addresses. In case that you get 2 prints (emails) the problem is located at the method sendNotification OR the email is incorrect from your database. BTW, you should consider to change your connection structure. You are not closing the connection and the ResultSet. Just to remind you, these classes are auto-closeable, which means you can use the try-with-resources (java8+)"},{"owner":{"account_id":14561222,"reputation":93,"user_id":10517244,"display_name":"uma"},"score":0,"creation_date":1668679786,"post_id":74473182,"comment_id":131466591,"body_markdown":"@Melron\nHow I can add 2 prints? if you trace the code inside the for loop, supposed when the i increment the email address will change which is moving to the next element. Also when I print the value of i, it shows i=0 then i=1 and also the email address change but it send only one email for the first email address.","body":"@Melron How I can add 2 prints? if you trace the code inside the for loop, supposed when the i increment the email address will change which is moving to the next element. Also when I print the value of i, it shows i=0 then i=1 and also the email address change but it send only one email for the first email address."},{"owner":{"account_id":12221317,"reputation":569,"user_id":8920328,"display_name":"Melron"},"score":1,"creation_date":1668680105,"post_id":74473182,"comment_id":131466730,"body_markdown":"@uma So, since you already used the &#39;print debug&#39; thing and you got 2 different emails (inside of your loop), your problem is NOT the list or the size of the list. It is just located in the sendNotification OR (again) the email address is incorrect (doesn&#39;t exists?).","body":"@uma So, since you already used the &#39;print debug&#39; thing and you got 2 different emails (inside of your loop), your problem is NOT the list or the size of the list. It is just located in the sendNotification OR (again) the email address is incorrect (doesn&#39;t exists?)."}],"answers":[{"tags":[],"owner":{"account_id":4157889,"reputation":1,"user_id":3408646,"display_name":"Thach Le"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668683720,"creation_date":1668683720,"answer_id":74474528,"question_id":74473182,"body_markdown":"Is this query correct?\r\n`&quot;SELECT EMAIL FROM USER WHERE USER.U_SEQ IN (&#39;1&#39;,&#39;650&#39;)&quot;)`? Is it return the list of emails?","title":"Getting only the first element from the list, how we can move to the second element of the list in java","body":"<p>Is this query correct?\n<code>&quot;SELECT EMAIL FROM USER WHERE USER.U_SEQ IN ('1','650')&quot;)</code>? Is it return the list of emails?</p>\n"}],"owner":{"account_id":14561222,"reputation":93,"user_id":10517244,"display_name":"uma"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668683720,"creation_date":1668678048,"question_id":74473182,"body_markdown":"I have this code, it return for me the 2 emails. The result look like this: [email1, email2]\r\n\r\n\r\n\r\n```\r\npublic List&lt;UserDto&gt; getEmail() {\r\n    \r\n    Connection connection = null;\r\n    \r\n    PreparedStatement preparedStatement = null;\r\n    \r\n    ResultSet searchResultSet = null;\r\n    \r\n    try {\r\n    \r\n        connection = getConnection();\r\n    \r\n        preparedStatement = connection.prepareStatement(\r\n                        &quot;SELECT EMAIL FROM USER WHERE USER.U_SEQ IN (&#39;1&#39;,&#39;650&#39;)&quot;);\r\n                \r\n        searchResultSet = preparedStatement.executeQuery();\r\n    \r\n        return getEmail(searchResultSet);\r\n    \r\n    } catch (Exception e) {\r\n        throw new RuntimeException(e);\r\n    } finally {\r\n        try {\r\n            preparedStatement.close();\r\n        } catch (SQLException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n}\r\n\r\n\r\nprivate List&lt;UserDto&gt; getEmail(ResultSet searchResultSet) throws SQLException {\r\n    List&lt;UserDto&gt; result = new ArrayList&lt;UserDto &gt;();\r\n\r\n    UserDto userDto = null;\r\n  \r\n    while (searchResultSet.next()) {\r\n        userDto = new UserDto();\r\n\r\n        userDto .setEmailAddress(searchResultSet.getString(1));\r\n        result.add(userDto);\r\n       \r\n     }\r\n     return result;\r\n}\r\n```\r\nIn the second class, I&#39;m calling this method getEmail(), I want to send for first email then the second, but what I have here in the below code is only get i =0 always and it dose not go to the second email to send an email:\r\n```\r\nDelegate delegate = new Delegate();\r\n\r\n    List&lt;UserDto&gt; users = iimDelegate.getEmail();\r\n            for (int i = 0; i &lt; users.size(); i++) {\r\n\r\n                String ToEmail = users.get(i).toString();\r\n\r\n                delegate.sendNotification(&quot;****&quot;, &quot;****&quot;, toEmail , &quot;&quot;, &quot;&quot;,\r\n                   &quot;&quot;, body);\r\n            }\r\n```\r\nAny help!","title":"Getting only the first element from the list, how we can move to the second element of the list in java","body":"<p>I have this code, it return for me the 2 emails. The result look like this: [email1, email2]</p>\n<pre><code>public List&lt;UserDto&gt; getEmail() {\n    \n    Connection connection = null;\n    \n    PreparedStatement preparedStatement = null;\n    \n    ResultSet searchResultSet = null;\n    \n    try {\n    \n        connection = getConnection();\n    \n        preparedStatement = connection.prepareStatement(\n                        &quot;SELECT EMAIL FROM USER WHERE USER.U_SEQ IN ('1','650')&quot;);\n                \n        searchResultSet = preparedStatement.executeQuery();\n    \n        return getEmail(searchResultSet);\n    \n    } catch (Exception e) {\n        throw new RuntimeException(e);\n    } finally {\n        try {\n            preparedStatement.close();\n        } catch (SQLException e) {\n            throw new RuntimeException(e);\n        }\n    }\n}\n\n\nprivate List&lt;UserDto&gt; getEmail(ResultSet searchResultSet) throws SQLException {\n    List&lt;UserDto&gt; result = new ArrayList&lt;UserDto &gt;();\n\n    UserDto userDto = null;\n  \n    while (searchResultSet.next()) {\n        userDto = new UserDto();\n\n        userDto .setEmailAddress(searchResultSet.getString(1));\n        result.add(userDto);\n       \n     }\n     return result;\n}\n</code></pre>\n<p>In the second class, I'm calling this method getEmail(), I want to send for first email then the second, but what I have here in the below code is only get i =0 always and it dose not go to the second email to send an email:</p>\n<pre><code>Delegate delegate = new Delegate();\n\n    List&lt;UserDto&gt; users = iimDelegate.getEmail();\n            for (int i = 0; i &lt; users.size(); i++) {\n\n                String ToEmail = users.get(i).toString();\n\n                delegate.sendNotification(&quot;****&quot;, &quot;****&quot;, toEmail , &quot;&quot;, &quot;&quot;,\n                   &quot;&quot;, body);\n            }\n</code></pre>\n<p>Any help!</p>\n"},{"tags":["java","rest","web-services","spring-boot","pagination"],"answers":[{"tags":[],"owner":{"account_id":11865640,"reputation":395,"user_id":8683238,"accept_rate":100,"display_name":"Space Cadet"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1541004718,"creation_date":1541004718,"answer_id":53088467,"question_id":53011121,"body_markdown":"In the end I used `Pageable.unpaged()` as a parameter in place of `PageRequest.of(0, 10000)`, which seems to work.","title":"Calling Service With Pageable Parameter - Best Practice Question","body":"<p>In the end I used <code>Pageable.unpaged()</code> as a parameter in place of <code>PageRequest.of(0, 10000)</code>, which seems to work.</p>\n"},{"tags":[],"owner":{"account_id":4436369,"reputation":992,"user_id":3612124,"accept_rate":50,"display_name":"Istv&#225;n B&#233;k&#233;si"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668683046,"creation_date":1668683046,"answer_id":74474351,"question_id":53011121,"body_markdown":"Why would you pass pageable and unwrap the content if you don&#39;t need pagination in the first place?\r\nAssuming `mySecondaryService` is yours, you can add an unpaged `findAll` method to it and use that one.\r\n```\r\nList&lt;MyObject&gt; myObjects = mySecondaryService.getAllMyObjects();\r\n```\r\n\r\n(Btw, `Pageable.unpaged()` does the same under the hood)","title":"Calling Service With Pageable Parameter - Best Practice Question","body":"<p>Why would you pass pageable and unwrap the content if you don't need pagination in the first place?\nAssuming <code>mySecondaryService</code> is yours, you can add an unpaged <code>findAll</code> method to it and use that one.</p>\n<pre><code>List&lt;MyObject&gt; myObjects = mySecondaryService.getAllMyObjects();\n</code></pre>\n<p>(Btw, <code>Pageable.unpaged()</code> does the same under the hood)</p>\n"}],"owner":{"account_id":11865640,"reputation":395,"user_id":8683238,"accept_rate":100,"display_name":"Space Cadet"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":756,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1668683046,"creation_date":1540564847,"question_id":53011121,"body_markdown":"I have a service `MyMainService` that makes a call to another service `MySecondaryService` within the same package.  The method `getPagesOfMyObjects` being called in `MySecondaryService` returns a Page of objects of type `MyObject` and one of the method&#39;s parameters is a `Pageable` object.  `MyMainService` is, at present, not concerned with pagination.  But because I need to call the `getPagesOfMyObjects` method in `MySecondaryService` I need to provide it with a `Pageable` object that won&#39;t exclude any records that I might need.  My current solution (not very good) is to pass this as the `Pageable` parameter \r\n\r\n    public class MyMainServiceImpl implements MyMainService {\r\n\r\n        @Autowired\r\n        private MySecondaryService mySecondaryService\r\n\r\n        public void myMethod() {\r\n            Page&lt;MyObject&gt; pages = mySecondaryService.getPagesOfMyObjects(PageRequest.of(0, 10000));\r\n            List&lt;MyObject&gt; myObjects = pages.getContent();\r\n            //do stuff\r\n        }\r\n\r\n    }\r\n\r\nAs you can see it has 10000 hard-coded as its size parameter.  This doesn&#39;t feel like good practice to me.  Is there a better way to call this service?  I don&#39;t have the option of re-writing the existing `getPagesOfMyObjects` method.","title":"Calling Service With Pageable Parameter - Best Practice Question","body":"<p>I have a service <code>MyMainService</code> that makes a call to another service <code>MySecondaryService</code> within the same package.  The method <code>getPagesOfMyObjects</code> being called in <code>MySecondaryService</code> returns a Page of objects of type <code>MyObject</code> and one of the method's parameters is a <code>Pageable</code> object.  <code>MyMainService</code> is, at present, not concerned with pagination.  But because I need to call the <code>getPagesOfMyObjects</code> method in <code>MySecondaryService</code> I need to provide it with a <code>Pageable</code> object that won't exclude any records that I might need.  My current solution (not very good) is to pass this as the <code>Pageable</code> parameter </p>\n\n<pre><code>public class MyMainServiceImpl implements MyMainService {\n\n    @Autowired\n    private MySecondaryService mySecondaryService\n\n    public void myMethod() {\n        Page&lt;MyObject&gt; pages = mySecondaryService.getPagesOfMyObjects(PageRequest.of(0, 10000));\n        List&lt;MyObject&gt; myObjects = pages.getContent();\n        //do stuff\n    }\n\n}\n</code></pre>\n\n<p>As you can see it has 10000 hard-coded as its size parameter.  This doesn't feel like good practice to me.  Is there a better way to call this service?  I don't have the option of re-writing the existing <code>getPagesOfMyObjects</code> method.</p>\n"},{"tags":["java","regex","string"],"comments":[{"owner":{"account_id":4739783,"reputation":612575,"user_id":3832970,"display_name":"Wiktor Stribiew"},"score":1,"creation_date":1668631849,"post_id":74467019,"comment_id":131455768,"body_markdown":"Use a non-word boundary, `Pattern p = Pattern.compile(&quot;(?i).*\\\\bc\\\\+\\\\+\\\\B.*&quot;);`","body":"Use a non-word boundary, <code>Pattern p = Pattern.compile(&quot;(?i).*\\\\bc\\\\+\\\\+\\\\B.*&quot;);</code>"},{"owner":{"account_id":89018,"reputation":5520,"user_id":245858,"accept_rate":55,"display_name":"Pradyut Bhattacharya"},"score":0,"creation_date":1668632193,"post_id":74467019,"comment_id":131455852,"body_markdown":"@WiktorStribiew nice one with C++, will this work with only &quot;C&quot;","body":"@WiktorStribiew nice one with C++, will this work with only &quot;C&quot;"},{"owner":{"account_id":4739783,"reputation":612575,"user_id":3832970,"display_name":"Wiktor Stribiew"},"score":0,"creation_date":1668632847,"post_id":74467019,"comment_id":131456040,"body_markdown":"If you want to match `C` not followed with `++`, use `\\bC\\b(?!\\+\\+)`","body":"If you want to match <code>C</code> not followed with <code>++</code>, use <code>\\bC\\b(?!\\+\\+)</code>"},{"owner":{"account_id":89018,"reputation":5520,"user_id":245858,"accept_rate":55,"display_name":"Pradyut Bhattacharya"},"score":0,"creation_date":1668633365,"post_id":74467019,"comment_id":131456184,"body_markdown":"@WiktorStribiew  &#128077;   (?i).*\\\\bC\\\\b(?!\\\\+\\\\+).*","body":"@WiktorStribiew     (?i).*\\\\bC\\\\b(?!\\\\+\\\\+).*"}],"answers":[{"tags":[],"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1668632196,"creation_date":1668632196,"answer_id":74467122,"question_id":74467019,"body_markdown":"This seems to work at detecting either &quot;C++&quot; or &quot;c++&quot; anywhere in an input string.\r\n\r\n```java\r\nString regex = &quot;.*[cC]\\\\+\\\\+.*&quot;;\r\njava.util.regex.Pattern.matches(regex, &quot;This is NOT c++ !&quot;);\r\n```\r\n\r\nResults in `true`, but \r\n```java\r\njava.util.regex.Pattern.matches(regex, &quot;This is NOT c!&quot;);\r\n```\r\n\r\nresults in `false`.","title":"Java regex to find +(plus sign) with characters","body":"<p>This seems to work at detecting either &quot;C++&quot; or &quot;c++&quot; anywhere in an input string.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String regex = &quot;.*[cC]\\\\+\\\\+.*&quot;;\njava.util.regex.Pattern.matches(regex, &quot;This is NOT c++ !&quot;);\n</code></pre>\n<p>Results in <code>true</code>, but</p>\n<pre class=\"lang-java prettyprint-override\"><code>java.util.regex.Pattern.matches(regex, &quot;This is NOT c!&quot;);\n</code></pre>\n<p>results in <code>false</code>.</p>\n"},{"tags":[],"owner":{"account_id":4739783,"reputation":612575,"user_id":3832970,"display_name":"Wiktor Stribiew"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668636881,"creation_date":1668636881,"answer_id":74467902,"question_id":74467019,"body_markdown":"You can use\r\n```java\r\nPattern p = Pattern.compile(&quot;(?i).*\\\\bc\\\\+\\\\+\\\\B.*&quot;);     // C++\r\nPattern p = Pattern.compile(&quot;(?i).*\\\\bC\\\\b(?!\\\\+{2}).*&quot;); // C only\r\n```\r\nHere,\r\n\r\n - `\\b` - a word boundary\r\n - `c\\+\\+` - a `c++` string \r\n - `\\B` - a non-word boundary, on the right, there must be end of string or a non-word char\r\n - `(?!\\+{2})` - a negative lookahead that fails the match if there is a `++` string immediately to the right of the current location.","title":"Java regex to find +(plus sign) with characters","body":"<p>You can use</p>\n<pre class=\"lang-java prettyprint-override\"><code>Pattern p = Pattern.compile(&quot;(?i).*\\\\bc\\\\+\\\\+\\\\B.*&quot;);     // C++\nPattern p = Pattern.compile(&quot;(?i).*\\\\bC\\\\b(?!\\\\+{2}).*&quot;); // C only\n</code></pre>\n<p>Here,</p>\n<ul>\n<li><code>\\b</code> - a word boundary</li>\n<li><code>c\\+\\+</code> - a <code>c++</code> string</li>\n<li><code>\\B</code> - a non-word boundary, on the right, there must be end of string or a non-word char</li>\n<li><code>(?!\\+{2})</code> - a negative lookahead that fails the match if there is a <code>++</code> string immediately to the right of the current location.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":89018,"reputation":5520,"user_id":245858,"accept_rate":55,"display_name":"Pradyut Bhattacharya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668682878,"creation_date":1668638152,"answer_id":74468079,"question_id":74467019,"body_markdown":"tough time omitting characters for only C \r\n\r\n    p = Pattern.compile(&quot;(?i).*\\\\bC\\\\b(?!\\\\+|#|\\\\$|\\\\*|\\\\^|%|&amp;|\\\\.).*&quot;);\r\n      m = p.matcher(test);\r\n        if(m.find()) {\r\n            System.out.println(&quot;C is true&quot;);\r\n        }\r\n        p = Pattern.compile(&quot;(?i).*\\\\bc\\\\+\\\\+\\\\B.*&quot;);\r\n      m = p.matcher(test);\r\n        if(m.find()) {\r\n            System.out.println(&quot;C++ is true&quot;);\r\n        }\r\n        p = Pattern.compile(&quot;(?i).*\\\\bc\\\\#\\\\B.*&quot;);\r\n      m = p.matcher(test);\r\n        if(m.find()) {\r\n            System.out.println(&quot;C# is true&quot;);\r\n        }","title":"Java regex to find +(plus sign) with characters","body":"<p>tough time omitting characters for only C</p>\n<pre><code>p = Pattern.compile(&quot;(?i).*\\\\bC\\\\b(?!\\\\+|#|\\\\$|\\\\*|\\\\^|%|&amp;|\\\\.).*&quot;);\n  m = p.matcher(test);\n    if(m.find()) {\n        System.out.println(&quot;C is true&quot;);\n    }\n    p = Pattern.compile(&quot;(?i).*\\\\bc\\\\+\\\\+\\\\B.*&quot;);\n  m = p.matcher(test);\n    if(m.find()) {\n        System.out.println(&quot;C++ is true&quot;);\n    }\n    p = Pattern.compile(&quot;(?i).*\\\\bc\\\\#\\\\B.*&quot;);\n  m = p.matcher(test);\n    if(m.find()) {\n        System.out.println(&quot;C# is true&quot;);\n    }\n</code></pre>\n"}],"owner":{"account_id":89018,"reputation":5520,"user_id":245858,"accept_rate":55,"display_name":"Pradyut Bhattacharya"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1668682878,"creation_date":1668631632,"question_id":74467019,"body_markdown":"With java regex i want to find the word &quot;C++&quot; and it should not be positive with only &quot;C&quot;.\r\n\r\nThe below code should explain the rest, see [here][1]\r\n\r\n    import java.util.*;\r\n    import java.util.regex.*;\r\n    public class MyClass {\r\n    public static void main(String args[]) {\r\n      \r\n      String test = &quot;Framework, c++ and Visual Studio IDEs.&quot;;\r\n      Pattern p = Pattern.compile(&quot;(?i).*\\\\bc\\\\+\\\\+\\\\b.*&quot;);\r\n      Matcher m = p.matcher(test);\r\n        if(m.find()) {\r\n            System.out.println(&quot;Pattern1 True&quot;);\r\n        }\r\n      p = Pattern.compile(&quot;(?i).*\\\\Bc.+.+\\\\B.*&quot;);\r\n      m = p.matcher(test);\r\n        if(m.find()) {\r\n            System.out.print(&quot;Pattern2 True&quot;);\r\n        }\r\n        p = Pattern.compile(&quot;(?i).*\\\\bc+$\\\\b.*&quot;);\r\n      m = p.matcher(test);\r\n        if(m.find()) {\r\n            System.out.println(&quot;Pattern3 is True but how to return false&quot;);\r\n        }\r\n        p = Pattern.compile(&quot;(?i).*\\\\Bc\\\\B.*&quot;);\r\n      m = p.matcher(test);\r\n        if(m.find()) {\r\n            System.out.println(&quot;Pattern4 is True&quot;);\r\n        }\r\n      if(test.toLowerCase()   .contains(&quot;c++&quot;)) {\r\n            System.out.print(&quot;Contains c++ True&quot;);\r\n      }\r\n      if(test.toLowerCase().contains(&quot;C&quot;)) {\r\n            System.out.print(&quot;Contains C True&quot;);\r\n      }\r\n    }\r\n    }\r\n\r\n  [1]: https://jdoodle.com/ia/zvQ","title":"Java regex to find +(plus sign) with characters","body":"<p>With java regex i want to find the word &quot;C++&quot; and it should not be positive with only &quot;C&quot;.</p>\n<p>The below code should explain the rest, see <a href=\"https://jdoodle.com/ia/zvQ\" rel=\"nofollow noreferrer\">here</a></p>\n<pre><code>import java.util.*;\nimport java.util.regex.*;\npublic class MyClass {\npublic static void main(String args[]) {\n  \n  String test = &quot;Framework, c++ and Visual Studio IDEs.&quot;;\n  Pattern p = Pattern.compile(&quot;(?i).*\\\\bc\\\\+\\\\+\\\\b.*&quot;);\n  Matcher m = p.matcher(test);\n    if(m.find()) {\n        System.out.println(&quot;Pattern1 True&quot;);\n    }\n  p = Pattern.compile(&quot;(?i).*\\\\Bc.+.+\\\\B.*&quot;);\n  m = p.matcher(test);\n    if(m.find()) {\n        System.out.print(&quot;Pattern2 True&quot;);\n    }\n    p = Pattern.compile(&quot;(?i).*\\\\bc+$\\\\b.*&quot;);\n  m = p.matcher(test);\n    if(m.find()) {\n        System.out.println(&quot;Pattern3 is True but how to return false&quot;);\n    }\n    p = Pattern.compile(&quot;(?i).*\\\\Bc\\\\B.*&quot;);\n  m = p.matcher(test);\n    if(m.find()) {\n        System.out.println(&quot;Pattern4 is True&quot;);\n    }\n  if(test.toLowerCase()   .contains(&quot;c++&quot;)) {\n        System.out.print(&quot;Contains c++ True&quot;);\n  }\n  if(test.toLowerCase().contains(&quot;C&quot;)) {\n        System.out.print(&quot;Contains C True&quot;);\n  }\n}\n}\n</code></pre>\n"},{"tags":["java","switch-statement","java-19"],"comments":[{"owner":{"account_id":953149,"reputation":177293,"user_id":978917,"accept_rate":86,"display_name":"ruakh"},"score":3,"creation_date":1668674009,"post_id":74472289,"comment_id":131464428,"body_markdown":"Sorry if this is a stupid question, but: what&#39;s the advantage of this notation over using if/else if?","body":"Sorry if this is a stupid question, but: what&#39;s the advantage of this notation over using if/else if?"},{"owner":{"account_id":477949,"reputation":5596,"user_id":889742,"accept_rate":28,"display_name":"Gonen I"},"score":1,"creation_date":1668674042,"post_id":74472289,"comment_id":131464443,"body_markdown":"it is just more concise sometimes and looks cleaner. No need for cascading ifs that keep sliding to the right.","body":"it is just more concise sometimes and looks cleaner. No need for cascading ifs that keep sliding to the right."},{"owner":{"account_id":6457401,"reputation":583,"user_id":5002324,"display_name":"Christoph S."},"score":2,"creation_date":1668674380,"post_id":74472289,"comment_id":131464568,"body_markdown":"@GonenI `if` ... `then` ... `else if` ... is not sliding to the right","body":"@GonenI <code>if</code> ... <code>then</code> ... <code>else if</code> ... is not sliding to the right"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1668674541,"post_id":74472289,"comment_id":131464623,"body_markdown":"As Gonen said, there is no &quot;sliding to the right&quot; of ifs (I &#39;ll just assume you mean indentation) unless you nest them, and if you do so, the same will occur with switch-case","body":"As Gonen said, there is no &quot;sliding to the right&quot; of ifs (I &#39;ll just assume you mean indentation) unless you nest them, and if you do so, the same will occur with switch-case"},{"owner":{"account_id":1198039,"reputation":10944,"user_id":1169349,"display_name":"Reg"},"score":0,"creation_date":1668674723,"post_id":74472289,"comment_id":131464685,"body_markdown":"For 2 &quot;cases&quot; an if-statement is normally enough... But just for the sake of @GonenI argument, when there is 5 &quot;cases&quot; an if-statement can get messy.","body":"For 2 &quot;cases&quot; an if-statement is normally enough... But just for the sake of @GonenI argument, when there is 5 &quot;cases&quot; an if-statement can get messy."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1668675394,"post_id":74472289,"comment_id":131464941,"body_markdown":"`System.out.println(num &gt; 100? &quot;Big&quot;: num &gt; 50? &quot;Med&quot;: &quot;Small&quot;);` or, when it really has to be a `switch`, you can use `System.out.println(switch((num-1)/50) { default -&gt; &quot;Big&quot;; case 1 -&gt; &quot;Med&quot;; case 0 -&gt; &quot;Small&quot;; });`","body":"<code>System.out.println(num &gt; 100? &quot;Big&quot;: num &gt; 50? &quot;Med&quot;: &quot;Small&quot;);</code> or, when it really has to be a <code>switch</code>, you can use <code>System.out.println(switch((num-1)&#47;50) { default -&gt; &quot;Big&quot;; case 1 -&gt; &quot;Med&quot;; case 0 -&gt; &quot;Small&quot;; });</code>"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1668675647,"post_id":74472289,"comment_id":131465015,"body_markdown":"The closest to your idea would be the (modified) example taken from [JEP 427](https://openjdk.org/jeps/427) (right above section 2): `Integer num = 5; switch(num) { case Integer i when i &gt; 100 -&gt; ...; case Integer i when i &gt; 50 -&gt; ...; default -&gt; ...;}`.","body":"The closest to your idea would be the (modified) example taken from <a href=\"https://openjdk.org/jeps/427\" rel=\"nofollow noreferrer\">JEP 427</a> (right above section 2): <code>Integer num = 5; switch(num) { case Integer i when i &gt; 100 -&gt; ...; case Integer i when i &gt; 50 -&gt; ...; default -&gt; ...;}</code>."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1668675751,"post_id":74472289,"comment_id":131465046,"body_markdown":"The first example could be written as `System.out.println(&quot;It&#39;s &quot; + (LocalTime.now().get(ChronoField.AMPM_OF_DAY) == 0? &quot;before&quot;: &quot;after&quot;) + &quot; noon&quot;);` There is no elegance in using a `switch` with redundant code in each `case`","body":"The first example could be written as <code>System.out.println(&quot;It&#39;s &quot; + (LocalTime.now().get(ChronoField.AMPM_OF_DAY) == 0? &quot;before&quot;: &quot;after&quot;) + &quot; noon&quot;);</code> There is no elegance in using a <code>switch</code> with redundant code in each <code>case</code>"}],"answers":[{"tags":[],"owner":{"account_id":404649,"reputation":57172,"user_id":773113,"accept_rate":72,"display_name":"Mike Nakis"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1668682870,"creation_date":1668681370,"answer_id":74473931,"question_id":74472289,"body_markdown":"There a few principles that I can think of that can guide decisions for situations like this:\r\n\r\n1. Avoid over-engineering\r\n2. The principle of least-surprise\r\n3. Use the right tool for the job\r\n\r\nThe switch statement is used for executing different code paths based on possible values of a particular variable. The `when` extension was invented to add some flexibility and terseness to this mechanism, but the original purpose of the mechanism is still there: to switch on possible values of a particular variable.\r\n\r\nThe very concept of a &quot;switch&quot; is based on the idea of more than one outcome which is controlled by something; in the case of the `switch` statement, that something is the switch expression. If there is no switch expression, then it is not a switch, it is a collection of mutually exclusive rules.\r\n\r\nAnother idea behind the invention of the `switch` statement was the possibility of optimization. The original implementations of `switch` statements used highly efficient lookup tables, that&#39;s why they could only operate on `int`. Modern switch statements work on more complex values, but when there is a single controlling switch expression there is still some possibility of optimization. No such thing happens when there is no switch expression.\r\n\r\nWhen I see a switch statement, I expect to see various different things done based on different values of a particular variable; I do not expect to see just about anything being done in there. If I study the code and I notice that my expectation is not met, I will be mighty surprised. Disappointed even.\r\n\r\nSo, the nicer way of doing this is to go back to the good old, familiar, tried-and-true, cascaded `if-else` statement.\r\n\r\n------------------\r\nThe fact that golang allows the creation of meaningless `switch` statements means absolutely nothing to me. Many languages make useless choices. Many languages do not even have any particular reason of existence. Many people consider the &quot;idiomatic&quot; way of doing things in a particular language to be a goal in and of itself, while it is not. If you feel tempted to take an idiomatic feature of your favorite language and apply it in other languages, first ask yourself whether the feature had any merit even in the original language. Often, it does not.","title":"Java Switch Without Expression","body":"<p>There a few principles that I can think of that can guide decisions for situations like this:</p>\n<ol>\n<li>Avoid over-engineering</li>\n<li>The principle of least-surprise</li>\n<li>Use the right tool for the job</li>\n</ol>\n<p>The switch statement is used for executing different code paths based on possible values of a particular variable. The <code>when</code> extension was invented to add some flexibility and terseness to this mechanism, but the original purpose of the mechanism is still there: to switch on possible values of a particular variable.</p>\n<p>The very concept of a &quot;switch&quot; is based on the idea of more than one outcome which is controlled by something; in the case of the <code>switch</code> statement, that something is the switch expression. If there is no switch expression, then it is not a switch, it is a collection of mutually exclusive rules.</p>\n<p>Another idea behind the invention of the <code>switch</code> statement was the possibility of optimization. The original implementations of <code>switch</code> statements used highly efficient lookup tables, that's why they could only operate on <code>int</code>. Modern switch statements work on more complex values, but when there is a single controlling switch expression there is still some possibility of optimization. No such thing happens when there is no switch expression.</p>\n<p>When I see a switch statement, I expect to see various different things done based on different values of a particular variable; I do not expect to see just about anything being done in there. If I study the code and I notice that my expectation is not met, I will be mighty surprised. Disappointed even.</p>\n<p>So, the nicer way of doing this is to go back to the good old, familiar, tried-and-true, cascaded <code>if-else</code> statement.</p>\n<hr />\n<p>The fact that golang allows the creation of meaningless <code>switch</code> statements means absolutely nothing to me. Many languages make useless choices. Many languages do not even have any particular reason of existence. Many people consider the &quot;idiomatic&quot; way of doing things in a particular language to be a goal in and of itself, while it is not. If you feel tempted to take an idiomatic feature of your favorite language and apply it in other languages, first ask yourself whether the feature had any merit even in the original language. Often, it does not.</p>\n"}],"owner":{"account_id":477949,"reputation":5596,"user_id":889742,"accept_rate":28,"display_name":"Gonen I"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":247,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":1,"score":2,"last_activity_date":1668682870,"creation_date":1668673846,"question_id":74472289,"body_markdown":"In GoLang you can have a switch without an expression, where the cases replace a series of cascading ifs. \r\n\r\n    t := time.Now()\r\n    switch {\r\n    case t.Hour() &lt; 12:\r\n        fmt.Println(&quot;It&#39;s before noon&quot;)\r\n    default:\r\n        fmt.Println(&quot;It&#39;s after noon&quot;)\r\n    }\r\n\r\nIn Java 19 I can simulate this with this kind of hack by using switch pattern matching with &quot;guarded pattern `when`&quot; and when the main expression is always true and the guarded pattern does the real work. \r\n( Or in Java 17 but using `&amp;&amp;` instead of `when`)\r\n\r\n    int num=5;\r\n    switch (System.out) {\r\n        case Object o when num&gt;100 -&gt; System.out.println(&quot;Big&quot;);\r\n        case Object o when num&gt;50 -&gt; System.out.println(&quot;Med&quot;);\r\n        default -&gt; {System.out.println(&quot;Small&quot;);}\r\n    }\r\n\r\nObviously these simple cases can be written without a switch, but when you have a long series of if-else-if=else, not necessarily on the same variable, this kind of structure can be more concise.\r\n\r\nAnyone know a nicer way to do this?\r\n","title":"Java Switch Without Expression","body":"<p>In GoLang you can have a switch without an expression, where the cases replace a series of cascading ifs.</p>\n<pre><code>t := time.Now()\nswitch {\ncase t.Hour() &lt; 12:\n    fmt.Println(&quot;It's before noon&quot;)\ndefault:\n    fmt.Println(&quot;It's after noon&quot;)\n}\n</code></pre>\n<p>In Java 19 I can simulate this with this kind of hack by using switch pattern matching with &quot;guarded pattern <code>when</code>&quot; and when the main expression is always true and the guarded pattern does the real work.\n( Or in Java 17 but using <code>&amp;&amp;</code> instead of <code>when</code>)</p>\n<pre><code>int num=5;\nswitch (System.out) {\n    case Object o when num&gt;100 -&gt; System.out.println(&quot;Big&quot;);\n    case Object o when num&gt;50 -&gt; System.out.println(&quot;Med&quot;);\n    default -&gt; {System.out.println(&quot;Small&quot;);}\n}\n</code></pre>\n<p>Obviously these simple cases can be written without a switch, but when you have a long series of if-else-if=else, not necessarily on the same variable, this kind of structure can be more concise.</p>\n<p>Anyone know a nicer way to do this?</p>\n"},{"tags":["java","multithreading","scala","maven","build"],"comments":[{"owner":{"account_id":2524075,"reputation":36076,"user_id":2193767,"accept_rate":78,"display_name":"TheLostMind"},"score":0,"creation_date":1441263750,"post_id":32368976,"comment_id":52609671,"body_markdown":"Have you tried building it *offline* using the `-o` option (assuming your dependencies don&#39;t change frequently)","body":"Have you tried building it <i>offline</i> using the <code>-o</code> option (assuming your dependencies don&#39;t change frequently)"},{"owner":{"account_id":5031739,"reputation":2502,"user_id":4041711,"accept_rate":53,"display_name":"Shubham Chaurasia"},"score":0,"creation_date":1441263968,"post_id":32368976,"comment_id":52609803,"body_markdown":"No. I was unaware of -o option. Let me try it. Thanks.","body":"No. I was unaware of -o option. Let me try it. Thanks."},{"owner":{"account_id":5031739,"reputation":2502,"user_id":4041711,"accept_rate":53,"display_name":"Shubham Chaurasia"},"score":0,"creation_date":1441264298,"post_id":32368976,"comment_id":52609971,"body_markdown":"@ TheLostMind Sorry. No improvements.","body":"@ TheLostMind Sorry. No improvements."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1441264670,"post_id":32368976,"comment_id":52610170,"body_markdown":"How many tests do you have? Why are you running very often? How many modules do you have?","body":"How many tests do you have? Why are you running very often? How many modules do you have?"},{"owner":{"account_id":5031739,"reputation":2502,"user_id":4041711,"accept_rate":53,"display_name":"Shubham Chaurasia"},"score":0,"creation_date":1441264880,"post_id":32368976,"comment_id":52610301,"body_markdown":"I do skip tests. Around 30 modules","body":"I do skip tests. Around 30 modules"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1441265496,"post_id":32368976,"comment_id":52610637,"body_markdown":"How long does the clean take?","body":"How long does the clean take?"},{"owner":{"account_id":152633,"reputation":48303,"user_id":367285,"accept_rate":81,"display_name":"FrVaBe"},"score":1,"creation_date":1441288250,"post_id":32368976,"comment_id":52625776,"body_markdown":"Zeroturnaround published an interesting [article](http://zeroturnaround.com/rebellabs/your-maven-build-is-slow-speed-it-up/). Maybe you find some hints therein.","body":"Zeroturnaround published an interesting <a href=\"http://zeroturnaround.com/rebellabs/your-maven-build-is-slow-speed-it-up/\" rel=\"nofollow noreferrer\">article</a>. Maybe you find some hints therein."}],"answers":[{"tags":[],"owner":{"account_id":219754,"reputation":12930,"user_id":476828,"accept_rate":51,"display_name":"Subodh Joshi"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1441264656,"creation_date":1441264656,"answer_id":32369256,"question_id":32368976,"body_markdown":"You can optimize the build by using of some small-2 trick like \r\n\r\n 1. If you have written Junit Test and dont want to run test case every time you can use `-DskipTests=true`\r\n 2. Locally Install Nexus or Repositories\r\n 3. You can adjust memory configurations to optimum for eg: add this line to `mvn.bat` set `MAVEN_OPTS=-Xmx512m -XX:MaxPermSize=256m` \r\n\r\nFor more information you can check [How to Speed Your Maven build][1]\r\n\r\n\r\n  [1]: http://bosy.dailydev.org/2009/02/speed-up-your-maven-build-four-times.html","title":"Ways to make maven build faster?","body":"<p>You can optimize the build by using of some small-2 trick like </p>\n\n<ol>\n<li>If you have written Junit Test and dont want to run test case every time you can use <code>-DskipTests=true</code></li>\n<li>Locally Install Nexus or Repositories</li>\n<li>You can adjust memory configurations to optimum for eg: add this line to <code>mvn.bat</code> set <code>MAVEN_OPTS=-Xmx512m -XX:MaxPermSize=256m</code> </li>\n</ol>\n\n<p>For more information you can check <a href=\"http://bosy.dailydev.org/2009/02/speed-up-your-maven-build-four-times.html\" rel=\"noreferrer\">How to Speed Your Maven build</a></p>\n"},{"tags":[],"owner":{"account_id":3501268,"reputation":1387,"user_id":3219580,"display_name":"ccreedon1"},"down_vote_count":2,"up_vote_count":7,"is_accepted":false,"score":5,"last_activity_date":1553706919,"creation_date":1453719875,"answer_id":34991042,"question_id":32368976,"body_markdown":"&lt;!-- language-all: lang-none --&gt;\r\n\r\nIf using commandline you can check how many cores your machine has and use all of them, if you also want to skip your tests, you can add `-DskipTests`\r\nFor example, I have 8 core processor:\r\n\r\n    mvn -T 8C clean install -DskipTests","title":"Ways to make maven build faster?","body":"\n\n<p>If using commandline you can check how many cores your machine has and use all of them, if you also want to skip your tests, you can add <code>-DskipTests</code>\nFor example, I have 8 core processor:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>mvn -T 8C clean install -DskipTests\n</code></pre>\n"},{"tags":[],"owner":{"account_id":325703,"reputation":28507,"user_id":647053,"display_name":"Ram Ghadiyaram"},"down_vote_count":0,"up_vote_count":77,"is_accepted":true,"score":77,"last_activity_date":1541082514,"creation_date":1497944256,"answer_id":44646756,"question_id":32368976,"body_markdown":"### ***Note: First thing is AFAIK, No other in built options available in maven apart from the all answers here.***\r\n\r\n-----------------------\r\n\r\n\r\nRunning maven build with Multiple threads works for me to speed up the builds.\r\nFor example : \r\n\r\n    mvn clean install -T100\r\n\r\n&gt; where -T is for specifying how many threads you want based on your\r\n&gt; hardware.\r\n\r\n###[Below are the variants from wiki][1]\r\n\r\n&gt; Maven 3.x has the capability to perform parallel builds.    The command\r\n&gt; is as follows: \r\n&gt; \r\n&gt; - mvn -T 4 clean install   Builds with 4 threads \r\n&gt; - mvn -T 1C clean install  1 thread per cpu core   \r\n&gt; - mvn -T 1.5C clean install 1.5 thread per cpu core\r\n\r\n\r\n###How Execution is evaluated([See Parallel builds in Maven 3][1])?\r\n\r\n[![enter image description here][2]][2]\r\n\r\nEach node in the graph represents a module in a multi-module build, the &quot;levels&quot; simply indicate the distance to the first module in the internal reactor dependency graph. Maven calculates this graph based on declared inter-module dependencies for a multi-module build. Note that the parent maven project is also a dependency, which explains why there is a single node on top of most project graphs. Dependencies outside the reactor do not influence this graph.\r\n\r\n***Finally if you want to skip test execution you can also use `-DskipTests` as well.***\r\n\r\n***Caution :***  Some of your plugins may not be compatible for multithreaded builder, it may work. but it will give below warning message. you may need to see plugin documentation for multithreading support.\r\n\r\n \r\n\r\n    [WARNING] *****************************************************************                                                                                                                                 \r\n    [WARNING] * Your build is requesting parallel execution, but project      *                                                                                                                                 \r\n    [WARNING] * contains the following plugin(s) that have goals not marked   *                                                                                                                                 \r\n    [WARNING] * as @threadSafe to support parallel building.                  *                                                                                                                                 \r\n    [WARNING] * While this /may/ work fine, please look for plugin updates    *                                                                                                                                 \r\n    [WARNING] * and/or request plugins be made thread-safe.                   *                                                                                                                                 \r\n    [WARNING] * If reporting an issue, report it against the plugin in        *                                                                                                                                 \r\n    [WARNING] * question, not against maven-core                              *                                                                                                                                 \r\n    [WARNING] *****************************************************************                                                                                                                                 \r\n    [WARNING] The following plugins are not marked @threadSafe in test-project:                                                                                                                          \r\n    [WARNING] de.dentrassi.maven:rpm:0.9.2                                                                                                                                                                      \r\n    [WARNING] Enable debug to see more precisely which goals are not marked @threadSafe.                                                                                                                        \r\n    [WARNING] *****************************************************************    \r\n\r\n  [1]: https://cwiki.apache.org/confluence/display/MAVEN/Parallel+builds+in+Maven+3\r\n  [2]: https://i.stack.imgur.com/LjYla.png","title":"Ways to make maven build faster?","body":"<h3><strong><em>Note: First thing is AFAIK, No other in built options available in maven apart from the all answers here.</em></strong></h3>\n\n<hr>\n\n<p>Running maven build with Multiple threads works for me to speed up the builds.\nFor example : </p>\n\n<pre><code>mvn clean install -T100\n</code></pre>\n\n<blockquote>\n  <p>where -T is for specifying how many threads you want based on your\n  hardware.</p>\n</blockquote>\n\n<h3><a href=\"https://cwiki.apache.org/confluence/display/MAVEN/Parallel+builds+in+Maven+3\" rel=\"noreferrer\">Below are the variants from wiki</a></h3>\n\n<blockquote>\n  <p>Maven 3.x has the capability to perform parallel builds.    The command\n  is as follows: </p>\n  \n  <ul>\n  <li>mvn -T 4 clean install   Builds with 4 threads </li>\n  <li>mvn -T 1C clean install  1 thread per cpu core   </li>\n  <li>mvn -T 1.5C clean install 1.5 thread per cpu core</li>\n  </ul>\n</blockquote>\n\n<h3>How Execution is evaluated(<a href=\"https://cwiki.apache.org/confluence/display/MAVEN/Parallel+builds+in+Maven+3\" rel=\"noreferrer\">See Parallel builds in Maven 3</a>)?</h3>\n\n<p><a href=\"https://i.stack.imgur.com/LjYla.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/LjYla.png\" alt=\"enter image description here\"></a></p>\n\n<p>Each node in the graph represents a module in a multi-module build, the \"levels\" simply indicate the distance to the first module in the internal reactor dependency graph. Maven calculates this graph based on declared inter-module dependencies for a multi-module build. Note that the parent maven project is also a dependency, which explains why there is a single node on top of most project graphs. Dependencies outside the reactor do not influence this graph.</p>\n\n<p><strong><em>Finally if you want to skip test execution you can also use <code>-DskipTests</code> as well.</em></strong></p>\n\n<p><strong><em>Caution :</em></strong>  Some of your plugins may not be compatible for multithreaded builder, it may work. but it will give below warning message. you may need to see plugin documentation for multithreading support.</p>\n\n<pre><code>[WARNING] *****************************************************************                                                                                                                                 \n[WARNING] * Your build is requesting parallel execution, but project      *                                                                                                                                 \n[WARNING] * contains the following plugin(s) that have goals not marked   *                                                                                                                                 \n[WARNING] * as @threadSafe to support parallel building.                  *                                                                                                                                 \n[WARNING] * While this /may/ work fine, please look for plugin updates    *                                                                                                                                 \n[WARNING] * and/or request plugins be made thread-safe.                   *                                                                                                                                 \n[WARNING] * If reporting an issue, report it against the plugin in        *                                                                                                                                 \n[WARNING] * question, not against maven-core                              *                                                                                                                                 \n[WARNING] *****************************************************************                                                                                                                                 \n[WARNING] The following plugins are not marked @threadSafe in test-project:                                                                                                                          \n[WARNING] de.dentrassi.maven:rpm:0.9.2                                                                                                                                                                      \n[WARNING] Enable debug to see more precisely which goals are not marked @threadSafe.                                                                                                                        \n[WARNING] *****************************************************************    \n</code></pre>\n"},{"tags":[],"owner":{"account_id":8185629,"reputation":111,"user_id":6161539,"display_name":"Vladimir I"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1595400125,"creation_date":1512511283,"answer_id":47663379,"question_id":32368976,"body_markdown":"You can do a hacky way if you have some extra RAM as I do, and you don&#39;t need SSD, because it&#39;s sensitive for SSD to do a lot of read-writes. Even if you disable +a bit (MacOS - I don&#39;t remember if Win have similar issue). But\r\n\r\n1) create RAM drive (number of ways depends on your OS) and mount it to /Users/Username/volatile folder\r\n\r\n2) locate maven-module-builder-X.X.X.jar in MVN_HOME/lib\r\n\r\n3) in JAR modify file org/apache/maven/model/pom-4.0.0.xml by modifying\r\n\r\n`&amp;lt;build&gt;&amp;lt;directory&gt;/Users/Username/volatile/${project.groupId}/${project.artifactId}/${project.version}/target`\r\n\r\n4) From now on all project compilations will be done in memory. And it&#39;s a difference even in comparison with SSD.\r\n\r\nYes, its hack and some maven plugins can stop working BTW.","title":"Ways to make maven build faster?","body":"<p>You can do a hacky way if you have some extra RAM as I do, and you don't need SSD, because it's sensitive for SSD to do a lot of read-writes. Even if you disable +a bit (MacOS - I don't remember if Win have similar issue). But</p>\n<ol>\n<li><p>create RAM drive (number of ways depends on your OS) and mount it to /Users/Username/volatile folder</p>\n</li>\n<li><p>locate maven-module-builder-X.X.X.jar in MVN_HOME/lib</p>\n</li>\n<li><p>in JAR modify file org/apache/maven/model/pom-4.0.0.xml by modifying</p>\n</li>\n</ol>\n<p><code>&amp;lt;build&gt;&amp;lt;directory&gt;/Users/Username/volatile/${project.groupId}/${project.artifactId}/${project.version}/target</code></p>\n<ol start=\"4\">\n<li>From now on all project compilations will be done in memory. And it's a difference even in comparison with SSD.</li>\n</ol>\n<p>Yes, its hack and some maven plugins can stop working BTW.</p>\n"},{"tags":[],"owner":{"account_id":12553566,"reputation":897,"user_id":9134193,"display_name":"mourad m"},"down_vote_count":1,"up_vote_count":68,"is_accepted":false,"score":67,"last_activity_date":1650105390,"creation_date":1549276999,"answer_id":54514457,"question_id":32368976,"body_markdown":"On my actual project :\r\n\r\n 1. `mvn clean install` [INFO] Total time: **01:05 h** \r\n 2. `mvn clean install -DskipTests` [INFO] Total time: **18:35 min**\r\n 3. `mvn clean install -Dmaven.test.skip -DskipTests` **[INFO] Total time: 10:58 min**\r\n 4. `mvn -T 1C clean install -Dmaven.test.skip -DskipTests` [INFO] Total time: **04:00 min**\r\n 5. We can also skip the javadoc to be generated as **Archmed commented** by adding **-Dmaven.javadoc.skip=true** `mvn -T 1C clean install -Dmaven.test.skip -DskipTests -Dmaven.javadoc.skip=true`\r\n 6. Don&#39;t use **\\* imports**, on IntelliJ, choose &gt; Analyze &gt; Run inspection by name &gt; * imports , to find all * imports and correct it.\r\n 7. Remove all **unused imports** in your project &gt; on Intellij &gt; Analyze &gt; Run inspection by name &gt; unused imports\r\n 8. Remove all **unused code** (classes, variable, field, parameter, etc..), on Intellij : Analyze &gt; run inspection by name &gt; unused declaration.\r\n 9. Upgrade to **last JAVA VERSION**\r\n 10. I have found that the task **mvn clean**, is taking 2 minutes to clean the TARGET folder before building. I did create a new task called **quickclean**, and I am using it instead of clean, this way `mvn -T 1C quickclean install -Dmaven.test.skip -DskipTests` . This new task quickclean is only **renaming the build folder** from TARGET to TARGET-yyyy-MM-dd-HH-mm(*what is VERY FAST*). So now, every time you make a new `mvn quickclean install...`, you have a folder with the time of the build. **The inconvenient**, it&#39;s that this may take **a lot of space on the hard disk**, so you have to clean all these directories sometimes. So for that I have created another task called: **trashclean**, to put all this folder to trash. I am running this tasks maybe on time per week. or month, depending on my work `mvn trashclean`.\r\n\r\n\r\nHere is what you need to add to your pom.xml if you want to use this concept\r\n\r\n    &lt;properties&gt;\r\n\t\t&lt;timestamp&gt;${maven.build.timestamp}&lt;/timestamp&gt;\r\n        &lt;maven.build.timestamp.format&gt;yyyy-MM-dd-HH-mm&lt;/maven.build.timestamp.format&gt;\r\n        &lt;trashdir&gt;trash/target-${maven.build.timestamp}&lt;/trashdir&gt;\r\n\t&lt;/properties&gt;\r\n\t\r\n\t\t&lt;profile&gt;\r\n            &lt;id&gt;quickclean&lt;/id&gt;\r\n            &lt;build&gt;\r\n                &lt;plugins&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\r\n                        &lt;executions&gt;\r\n                            &lt;execution&gt;\r\n                                &lt;id&gt;rename_target&lt;/id&gt;\r\n                                &lt;phase&gt;pre-clean&lt;/phase&gt;\r\n                                &lt;goals&gt;\r\n                                    &lt;goal&gt;run&lt;/goal&gt;\r\n                                &lt;/goals&gt;\r\n                                &lt;configuration&gt;\r\n                                    &lt;tasks&gt;\r\n                                        &lt;move todir=&quot;${trashdir}&quot; failonerror=&quot;false&quot;&gt;\r\n                                            &lt;fileset dir=&quot;target/&quot;/&gt;\r\n                                        &lt;/move&gt;\r\n                                    &lt;/tasks&gt;\r\n                                &lt;/configuration&gt;\r\n                            &lt;/execution&gt;\r\n                        &lt;/executions&gt;\r\n                    &lt;/plugin&gt;\r\n                &lt;/plugins&gt;\r\n            &lt;/build&gt;\r\n        &lt;/profile&gt;\r\n        &lt;profile&gt;\r\n            &lt;id&gt;trashclean&lt;/id&gt;\r\n            &lt;build&gt;\r\n                &lt;plugins&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\r\n                        &lt;executions&gt;\r\n                            &lt;execution&gt;\r\n                                &lt;id&gt;clean_trash&lt;/id&gt;\r\n                                &lt;phase&gt;clean&lt;/phase&gt;\r\n                                &lt;goals&gt;\r\n                                    &lt;goal&gt;run&lt;/goal&gt;\r\n                                &lt;/goals&gt;\r\n                                &lt;configuration&gt;\r\n                                    &lt;tasks&gt;\r\n                                        &lt;delete dir=&quot;trash/&quot; failonerror=&quot;false&quot;/&gt;\r\n                                    &lt;/tasks&gt;\r\n                                &lt;/configuration&gt;\r\n                            &lt;/execution&gt;\r\n                        &lt;/executions&gt;\r\n                    &lt;/plugin&gt;\r\n                &lt;/plugins&gt;\r\n            &lt;/build&gt;\r\n        &lt;/profile&gt;\r\n\t\t\r\n\r\n\r\n\r\n\r\n","title":"Ways to make maven build faster?","body":"<p>On my actual project :</p>\n<ol>\n<li><code>mvn clean install</code> [INFO] Total time: <strong>01:05 h</strong></li>\n<li><code>mvn clean install -DskipTests</code> [INFO] Total time: <strong>18:35 min</strong></li>\n<li><code>mvn clean install -Dmaven.test.skip -DskipTests</code> <strong>[INFO] Total time: 10:58 min</strong></li>\n<li><code>mvn -T 1C clean install -Dmaven.test.skip -DskipTests</code> [INFO] Total time: <strong>04:00 min</strong></li>\n<li>We can also skip the javadoc to be generated as <strong>Archmed commented</strong> by adding <strong>-Dmaven.javadoc.skip=true</strong> <code>mvn -T 1C clean install -Dmaven.test.skip -DskipTests -Dmaven.javadoc.skip=true</code></li>\n<li>Don't use <strong>* imports</strong>, on IntelliJ, choose &gt; Analyze &gt; Run inspection by name &gt; * imports , to find all * imports and correct it.</li>\n<li>Remove all <strong>unused imports</strong> in your project &gt; on Intellij &gt; Analyze &gt; Run inspection by name &gt; unused imports</li>\n<li>Remove all <strong>unused code</strong> (classes, variable, field, parameter, etc..), on Intellij : Analyze &gt; run inspection by name &gt; unused declaration.</li>\n<li>Upgrade to <strong>last JAVA VERSION</strong></li>\n<li>I have found that the task <strong>mvn clean</strong>, is taking 2 minutes to clean the TARGET folder before building. I did create a new task called <strong>quickclean</strong>, and I am using it instead of clean, this way <code>mvn -T 1C quickclean install -Dmaven.test.skip -DskipTests</code> . This new task quickclean is only <strong>renaming the build folder</strong> from TARGET to TARGET-yyyy-MM-dd-HH-mm(<em>what is VERY FAST</em>). So now, every time you make a new <code>mvn quickclean install...</code>, you have a folder with the time of the build. <strong>The inconvenient</strong>, it's that this may take <strong>a lot of space on the hard disk</strong>, so you have to clean all these directories sometimes. So for that I have created another task called: <strong>trashclean</strong>, to put all this folder to trash. I am running this tasks maybe on time per week. or month, depending on my work <code>mvn trashclean</code>.</li>\n</ol>\n<p>Here is what you need to add to your pom.xml if you want to use this concept</p>\n<pre><code>&lt;properties&gt;\n    &lt;timestamp&gt;${maven.build.timestamp}&lt;/timestamp&gt;\n    &lt;maven.build.timestamp.format&gt;yyyy-MM-dd-HH-mm&lt;/maven.build.timestamp.format&gt;\n    &lt;trashdir&gt;trash/target-${maven.build.timestamp}&lt;/trashdir&gt;\n&lt;/properties&gt;\n\n    &lt;profile&gt;\n        &lt;id&gt;quickclean&lt;/id&gt;\n        &lt;build&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\n                    &lt;executions&gt;\n                        &lt;execution&gt;\n                            &lt;id&gt;rename_target&lt;/id&gt;\n                            &lt;phase&gt;pre-clean&lt;/phase&gt;\n                            &lt;goals&gt;\n                                &lt;goal&gt;run&lt;/goal&gt;\n                            &lt;/goals&gt;\n                            &lt;configuration&gt;\n                                &lt;tasks&gt;\n                                    &lt;move todir=&quot;${trashdir}&quot; failonerror=&quot;false&quot;&gt;\n                                        &lt;fileset dir=&quot;target/&quot;/&gt;\n                                    &lt;/move&gt;\n                                &lt;/tasks&gt;\n                            &lt;/configuration&gt;\n                        &lt;/execution&gt;\n                    &lt;/executions&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/build&gt;\n    &lt;/profile&gt;\n    &lt;profile&gt;\n        &lt;id&gt;trashclean&lt;/id&gt;\n        &lt;build&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\n                    &lt;executions&gt;\n                        &lt;execution&gt;\n                            &lt;id&gt;clean_trash&lt;/id&gt;\n                            &lt;phase&gt;clean&lt;/phase&gt;\n                            &lt;goals&gt;\n                                &lt;goal&gt;run&lt;/goal&gt;\n                            &lt;/goals&gt;\n                            &lt;configuration&gt;\n                                &lt;tasks&gt;\n                                    &lt;delete dir=&quot;trash/&quot; failonerror=&quot;false&quot;/&gt;\n                                &lt;/tasks&gt;\n                            &lt;/configuration&gt;\n                        &lt;/execution&gt;\n                    &lt;/executions&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/build&gt;\n    &lt;/profile&gt;\n    \n</code></pre>\n"},{"tags":[],"owner":{"account_id":1515927,"reputation":257,"user_id":1416932,"display_name":"user1416932"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1561758841,"creation_date":1561758841,"answer_id":56813509,"question_id":32368976,"body_markdown":"Apart from parallel run which many of the folks have already mentioned, try these maven options which would speed up build \r\n-XX:+TieredCompilation -XX:TieredStopAtLevel=1","title":"Ways to make maven build faster?","body":"<p>Apart from parallel run which many of the folks have already mentioned, try these maven options which would speed up build \n-XX:+TieredCompilation -XX:TieredStopAtLevel=1</p>\n"},{"tags":[],"owner":{"account_id":449256,"reputation":2122,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641119250,"creation_date":1613563811,"answer_id":66241699,"question_id":32368976,"body_markdown":"Low-Level speed using Ramdisk (Windows)\r\n-\r\n\r\nMy additional trick is using a ramdisk\r\n\r\n1. Create a Ramdisk of 2GB (in example *D:*)\r\n2. Install IDE, Maven, JDK and the `.m2/repository` to that Ramdisk (`D:/m2/`).\r\n3. Edit the Maven&#39;s `D:/maven/conf/settings.xml` to use that Ramdisked repo (`&lt;localRepository&gt;D:/m2&lt;/localRepository&gt;`)\r\n4. Put the project into the ramdisk.\r\n5. Run the project having its temp-folder in the Ramdisk.\r\n\r\nOn my machine I turned \r\n\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD SUCCESS\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time: 14.954 s (Wall Clock)\r\n    [INFO] Finished at: 2021-02-17T13:07:51+01:00\r\n    [INFO] Final Memory: 55M/642M\r\n    [INFO] ------------------------------------------------------------------------\r\n\r\nInto\r\n\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD SUCCESS\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time:  6.805 s (Wall Clock)\r\n    [INFO] Finished at: 2021-11-11T10:48:14Z\r\n    [INFO] ------------------------------------------------------------------------\r\n\r\nBoth results are high-end (`-DskipTests -T 12`)\r\n\r\nWarning: Do not forget to persist the ramdisk before shutdown or your work is lost.\r\n\r\nLook at this beast: \r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DefPM.png","title":"Ways to make maven build faster?","body":"<h2>Low-Level speed using Ramdisk (Windows)</h2>\n<p>My additional trick is using a ramdisk</p>\n<ol>\n<li>Create a Ramdisk of 2GB (in example <em>D:</em>)</li>\n<li>Install IDE, Maven, JDK and the <code>.m2/repository</code> to that Ramdisk (<code>D:/m2/</code>).</li>\n<li>Edit the Maven's <code>D:/maven/conf/settings.xml</code> to use that Ramdisked repo (<code>&lt;localRepository&gt;D:/m2&lt;/localRepository&gt;</code>)</li>\n<li>Put the project into the ramdisk.</li>\n<li>Run the project having its temp-folder in the Ramdisk.</li>\n</ol>\n<p>On my machine I turned</p>\n<pre><code>[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 14.954 s (Wall Clock)\n[INFO] Finished at: 2021-02-17T13:07:51+01:00\n[INFO] Final Memory: 55M/642M\n[INFO] ------------------------------------------------------------------------\n</code></pre>\n<p>Into</p>\n<pre><code>[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  6.805 s (Wall Clock)\n[INFO] Finished at: 2021-11-11T10:48:14Z\n[INFO] ------------------------------------------------------------------------\n</code></pre>\n<p>Both results are high-end (<code>-DskipTests -T 12</code>)</p>\n<p>Warning: Do not forget to persist the ramdisk before shutdown or your work is lost.</p>\n<p>Look at this beast:\n<a href=\"https://i.stack.imgur.com/DefPM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DefPM.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":19655273,"reputation":64,"user_id":14388047,"display_name":"Aman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658729744,"creation_date":1658729744,"answer_id":73104716,"question_id":32368976,"body_markdown":"If you are using spring boot with maven and you feel like dependencies are coming slow to your system, try following setting in pom.xml\r\n\r\n    &lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.7.0&lt;/version&gt;\r\n    \t\t&lt;relativePath /&gt; \r\n    &lt;/parent&gt;\r\n\r\n\r\nI experienced that **version 2.7.0** downloads the dependencies faster than other versions. ","title":"Ways to make maven build faster?","body":"<p>If you are using spring boot with maven and you feel like dependencies are coming slow to your system, try following setting in pom.xml</p>\n<pre><code>&lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.0&lt;/version&gt;\n        &lt;relativePath /&gt; \n&lt;/parent&gt;\n</code></pre>\n<p>I experienced that <strong>version 2.7.0</strong> downloads the dependencies faster than other versions.</p>\n"},{"tags":[],"owner":{"account_id":63558,"reputation":41,"user_id":1381810,"display_name":"vidarmoe"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1668682289,"creation_date":1668682289,"answer_id":74474167,"question_id":32368976,"body_markdown":"You can try turbo-maven-plugin to help speed up your multi module Maven builds locally (I am one of the plugin authors)?\r\n\r\nhttps://github.com/sparebank1utvikling/turbo-maven-plugin\r\n\r\nIt works by analyzing what modules actually have code changes, and build only those and the modules dependent on them. More info about how it works here:\r\n\r\nhttps://medium.com/sparebank1-digital/speed-up-your-multi-module-maven-builds-with-turbo-maven-plugin-4be0eb2a2601\r\n","title":"Ways to make maven build faster?","body":"<p>You can try turbo-maven-plugin to help speed up your multi module Maven builds locally (I am one of the plugin authors)?</p>\n<p><a href=\"https://github.com/sparebank1utvikling/turbo-maven-plugin\" rel=\"nofollow noreferrer\">https://github.com/sparebank1utvikling/turbo-maven-plugin</a></p>\n<p>It works by analyzing what modules actually have code changes, and build only those and the modules dependent on them. More info about how it works here:</p>\n<p><a href=\"https://medium.com/sparebank1-digital/speed-up-your-multi-module-maven-builds-with-turbo-maven-plugin-4be0eb2a2601\" rel=\"nofollow noreferrer\">https://medium.com/sparebank1-digital/speed-up-your-multi-module-maven-builds-with-turbo-maven-plugin-4be0eb2a2601</a></p>\n"}],"owner":{"account_id":5031739,"reputation":2502,"user_id":4041711,"accept_rate":53,"display_name":"Shubham Chaurasia"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79245,"favorite_count":0,"down_vote_count":0,"up_vote_count":81,"accepted_answer_id":44646756,"answer_count":9,"score":81,"last_activity_date":1668682289,"creation_date":1441263678,"question_id":32368976,"body_markdown":"I have a multi module java project. Maven takes almost around 40 secs to build it. I have tried maven with multi threaded builds too by specifying -T and -C args for no of threads and cores to be used. But I haven&#39;t seen any significant improvement in wall time of my builds.\r\n&lt;br&gt;\r\nI am using maven 3.2.3 and sometimes I need to build my project very frequently.\r\n&lt;br&gt;\r\nI know that clean goal take a lot of time but I can not omit it.\r\n&lt;br&gt;\r\nSuggestions please....\r\n\r\nEDIT:\r\n&lt;br&gt;\r\nNote:  In my case clean is not taking much time. It finishes in 1 sec. install is taking rest of the time.","title":"Ways to make maven build faster?","body":"<p>I have a multi module java project. Maven takes almost around 40 secs to build it. I have tried maven with multi threaded builds too by specifying -T and -C args for no of threads and cores to be used. But I haven't seen any significant improvement in wall time of my builds.\n<br>\nI am using maven 3.2.3 and sometimes I need to build my project very frequently.\n<br>\nI know that clean goal take a lot of time but I can not omit it.\n<br>\nSuggestions please....</p>\n\n<p>EDIT:\n<br>\nNote:  In my case clean is not taking much time. It finishes in 1 sec. install is taking rest of the time.</p>\n"},{"tags":["java","spring","multithreading","threadpoolexecutor"],"comments":[{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":2,"creation_date":1668682271,"post_id":74474033,"comment_id":131467510,"body_markdown":"I may have misunderstood your question, but all the interest of having more than one thread to execute some tasks is because the tasks are not correlated. If for you it is important that task 1 ends before tasks 2 starts and so on, you simply shouldn&#39;t be using parallelization but a single thread solution. Nothing stops you though from batching the 4 tasks into a single thread and parallelizing the other batches.","body":"I may have misunderstood your question, but all the interest of having more than one thread to execute some tasks is because the tasks are not correlated. If for you it is important that task 1 ends before tasks 2 starts and so on, you simply shouldn&#39;t be using parallelization but a single thread solution. Nothing stops you though from batching the 4 tasks into a single thread and parallelizing the other batches."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1668690330,"post_id":74474033,"comment_id":131470450,"body_markdown":"If you have multiple threads there is no way you can enforce the ordering, even if you have 1 thread reading from the queue and dispatching to 4 threads you don&#39;t know which one will execute first. You don&#39;t control which thread is currently active etc. If the ordering is important don&#39;t use multiple threads.","body":"If you have multiple threads there is no way you can enforce the ordering, even if you have 1 thread reading from the queue and dispatching to 4 threads you don&#39;t know which one will execute first. You don&#39;t control which thread is currently active etc. If the ordering is important don&#39;t use multiple threads."},{"owner":{"account_id":16897712,"reputation":3,"user_id":12219882,"display_name":"ANURAG BHARDWAJ"},"score":0,"creation_date":1668780081,"post_id":74474033,"comment_id":131495797,"body_markdown":"Yes, I agree. What is was looking if theres a way to enforce a task, it would be much help. Will change the design","body":"Yes, I agree. What is was looking if theres a way to enforce a task, it would be much help. Will change the design"}],"owner":{"account_id":16897712,"reputation":3,"user_id":12219882,"display_name":"ANURAG BHARDWAJ"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":177,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668681739,"creation_date":1668681739,"question_id":74474033,"body_markdown":"Working on a POC, where I&#39;m using a ThreadPoolTaskExecutor for parrallel processing, although it&#39;s a working solution, but I&#39;m trying to make my thread pool to execute in a sequential order,\r\nPoolSize: 10\r\nMaxPool: 20\r\nQueue: 1000\r\nMain thread which keeps fetching record in batch of 4 all the time, and the worker thread when task submitted\r\nStage 1 :Fetch data from db in a sequence then \r\n\r\nStage 2: submitted task\r\nStage 2.1: I have implemented a callable interface where I&#39;m doing 2 thing \r\n1. read/write operation - Ist\r\n2. proccessing operation - IInd\r\nbut the problem is sometime 1st process takes sometime due to which some other worker thread comes and process the operation\r\nWhich results in breaking the order.\r\nOrder: 1-&gt; 3-&gt; 2-&gt; 4\r\nExpected: 1-&gt; 2-&gt; 3-&gt; 4\r\n\r\nIs there a better way to approach this problem, if yes then please do share with an example\r\n\r\n\r\nI have tried few solution given,\r\n1. Thread priority\r\n2. Latch\r\n3. basic synchronization\r\n\r\nMaking single thread design is not an option\r\nExpecting: 1-&gt;2-&gt;3-&gt;4\r\nGetting: 2-&gt;1-&gt;4-&gt;3","title":"Sequential execution for thread pool","body":"<p>Working on a POC, where I'm using a ThreadPoolTaskExecutor for parrallel processing, although it's a working solution, but I'm trying to make my thread pool to execute in a sequential order,\nPoolSize: 10\nMaxPool: 20\nQueue: 1000\nMain thread which keeps fetching record in batch of 4 all the time, and the worker thread when task submitted\nStage 1 :Fetch data from db in a sequence then</p>\n<p>Stage 2: submitted task\nStage 2.1: I have implemented a callable interface where I'm doing 2 thing</p>\n<ol>\n<li>read/write operation - Ist</li>\n<li>proccessing operation - IInd\nbut the problem is sometime 1st process takes sometime due to which some other worker thread comes and process the operation\nWhich results in breaking the order.\nOrder: 1-&gt; 3-&gt; 2-&gt; 4\nExpected: 1-&gt; 2-&gt; 3-&gt; 4</li>\n</ol>\n<p>Is there a better way to approach this problem, if yes then please do share with an example</p>\n<p>I have tried few solution given,</p>\n<ol>\n<li>Thread priority</li>\n<li>Latch</li>\n<li>basic synchronization</li>\n</ol>\n<p>Making single thread design is not an option\nExpecting: 1-&gt;2-&gt;3-&gt;4\nGetting: 2-&gt;1-&gt;4-&gt;3</p>\n"},{"tags":["java"],"comments":[{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1668681326,"post_id":74473905,"comment_id":131467170,"body_markdown":"[The java tutorials - Nested Classes](https://docs.oracle.com/javase/tutorial/java/javaOO/nested.html) - What you have here is an inner class as the same would suggest.","body":"<a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/nested.html\" rel=\"nofollow noreferrer\">The java tutorials - Nested Classes</a> - What you have here is an inner class as the same would suggest."},{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":0,"creation_date":1668681496,"post_id":74473905,"comment_id":131467234,"body_markdown":"The class Inner is defined inside the class Outer, so the dot qualifies its name as Outer.Inner. The fact that the class Inner is not static, requires an instance of Outer to be created before you can create an instance of Inner.","body":"The class Inner is defined inside the class Outer, so the dot qualifies its name as Outer.Inner. The fact that the class Inner is not static, requires an instance of Outer to be created before you can create an instance of Inner."}],"owner":{"account_id":17436033,"reputation":400,"user_id":12639005,"display_name":"Name Null"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1668681450,"answer_count":0,"score":0,"last_activity_date":1668681245,"creation_date":1668681245,"question_id":74473905,"body_markdown":"```java\r\nclass Outer {\r\n\r\n    class Inner {\r\n        void print() {\r\n            System.out.println(&quot;Inner printing&quot;);\r\n        }\r\n    }\r\n\r\n\r\n    public static void main(String[] args) {\r\n        (new Outer().new Inner()).print();\r\n    }\r\n}\r\n```\r\n\r\nWhat is the syntax of `(new Outer().new Inner())`? Why the `new` operator is used after a object?\r\n","title":"What is the Java syntax of using dot new after an object?","body":"<pre class=\"lang-java prettyprint-override\"><code>class Outer {\n\n    class Inner {\n        void print() {\n            System.out.println(&quot;Inner printing&quot;);\n        }\n    }\n\n\n    public static void main(String[] args) {\n        (new Outer().new Inner()).print();\n    }\n}\n</code></pre>\n<p>What is the syntax of <code>(new Outer().new Inner())</code>? Why the <code>new</code> operator is used after a object?</p>\n"},{"tags":["java","spring-boot","swagger-ui","openapi","springdoc-openapi-ui"],"comments":[{"owner":{"account_id":12810928,"reputation":2458,"user_id":9269177,"display_name":"Debargha Roy"},"score":0,"creation_date":1631725904,"post_id":69049468,"comment_id":122302532,"body_markdown":"When you say Swagger2, do you mean the OpenAPI specification version is 2.x or the 3.x?","body":"When you say Swagger2, do you mean the OpenAPI specification version is 2.x or the 3.x?"},{"owner":{"account_id":21913606,"reputation":33,"user_id":16197776,"display_name":"Elmir Huseynov"},"score":0,"creation_date":1631903915,"post_id":69049468,"comment_id":122358723,"body_markdown":"@DebarghaRoy Thanks, for the comment. \n\nswagger 2: io.springfox:springfox-swagger2:2.9.2\n\nopenApi 3:  org.springdoc:springdoc-openapi-ui:1.5.10","body":"@DebarghaRoy Thanks, for the comment.   swagger 2: io.springfox:springfox-swagger2:2.9.2  openApi 3:  org.springdoc:springdoc-openapi-ui:1.5.10"}],"answers":[{"tags":[],"owner":{"account_id":12810928,"reputation":2458,"user_id":9269177,"display_name":"Debargha Roy"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1632380585,"creation_date":1632380585,"answer_id":69295331,"question_id":69049468,"body_markdown":"The method name in OpenAPI v3 is represented by the [`operationId`](https://swagger.io/docs/specification/paths-and-operations/) field.\r\n\r\nSpringdoc by default doesn&#39;t show the `operationId`. To enable it, you&#39;ll need to set the below property to `true` in your application&#39;s property file (for instance, `application.properties`, `application.yml` etc.)\r\n\r\n```\r\nspringdoc.swagger-ui.displayOperationId=true\r\n```\r\n\r\nAlthough the `operationId` can be specified explicitly like so\r\n```java\r\n@Operation(summary = &quot;Some method&quot;, operationId = &quot;Operation 1&quot;, description = &quot;Some Description&quot;)\r\n```\r\nwhich gives you the output as below\r\n[![custom-operation-id][1]][1]\r\n\r\nBut if you don&#39;t specify the `operationId` field explicitly, it defaults to the method name (which is your desired output).\r\n\r\nConsider the below code sample\r\n\r\n```java\r\n@PostMapping(value = &quot;/create/{userId}&quot;, consumes = {MULTIPART_FORM_DATA_VALUE, IMAGE_PNG_VALUE, IMAGE_JPEG_VALUE, MULTIPART_MIXED_VALUE}, produces = {TEXT_PLAIN_VALUE})\r\n@Operation(summary = &quot;Save File&quot;, description = &quot;Save the file to the disk&quot;)\r\npublic ResponseEntity&lt;Object&gt; saveFile(\r\n    @Parameter(description = &quot;ID of the user&quot;) \r\n    @PathVariable(value = &quot;userId&quot;) final String userId,\r\n) {\r\n    return null;\r\n}\r\n\r\n@GetMapping(value = &quot;/get&quot;, produces = MediaType.IMAGE_PNG_VALUE)\r\n@ApiResponse(responseCode = &quot;200&quot;, description = &quot;OK&quot;, content = {@Content(schema = @Schema(type = &quot;string&quot;, format = &quot;binary&quot;))})\r\npublic ResponseEntity&lt;byte[]&gt; getFile() {\r\n    return null;\r\n}\r\n```\r\nThe above code fragment will give the below output\r\n\r\n[![implicity-operation-id][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/302fA.png\r\n  [2]: https://i.stack.imgur.com/P5sXY.png","title":"Spring boot Swagger 3 - Controller summary is not getting displayed by default in OpenApi documentation","body":"<p>The method name in OpenAPI v3 is represented by the <a href=\"https://swagger.io/docs/specification/paths-and-operations/\" rel=\"nofollow noreferrer\"><code>operationId</code></a> field.</p>\n<p>Springdoc by default doesn't show the <code>operationId</code>. To enable it, you'll need to set the below property to <code>true</code> in your application's property file (for instance, <code>application.properties</code>, <code>application.yml</code> etc.)</p>\n<pre><code>springdoc.swagger-ui.displayOperationId=true\n</code></pre>\n<p>Although the <code>operationId</code> can be specified explicitly like so</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Operation(summary = &quot;Some method&quot;, operationId = &quot;Operation 1&quot;, description = &quot;Some Description&quot;)\n</code></pre>\n<p>which gives you the output as below\n<a href=\"https://i.stack.imgur.com/302fA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/302fA.png\" alt=\"custom-operation-id\" /></a></p>\n<p>But if you don't specify the <code>operationId</code> field explicitly, it defaults to the method name (which is your desired output).</p>\n<p>Consider the below code sample</p>\n<pre class=\"lang-java prettyprint-override\"><code>@PostMapping(value = &quot;/create/{userId}&quot;, consumes = {MULTIPART_FORM_DATA_VALUE, IMAGE_PNG_VALUE, IMAGE_JPEG_VALUE, MULTIPART_MIXED_VALUE}, produces = {TEXT_PLAIN_VALUE})\n@Operation(summary = &quot;Save File&quot;, description = &quot;Save the file to the disk&quot;)\npublic ResponseEntity&lt;Object&gt; saveFile(\n    @Parameter(description = &quot;ID of the user&quot;) \n    @PathVariable(value = &quot;userId&quot;) final String userId,\n) {\n    return null;\n}\n\n@GetMapping(value = &quot;/get&quot;, produces = MediaType.IMAGE_PNG_VALUE)\n@ApiResponse(responseCode = &quot;200&quot;, description = &quot;OK&quot;, content = {@Content(schema = @Schema(type = &quot;string&quot;, format = &quot;binary&quot;))})\npublic ResponseEntity&lt;byte[]&gt; getFile() {\n    return null;\n}\n</code></pre>\n<p>The above code fragment will give the below output</p>\n<p><a href=\"https://i.stack.imgur.com/P5sXY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/P5sXY.png\" alt=\"implicity-operation-id\" /></a></p>\n"},{"tags":[],"owner":{"account_id":4681256,"reputation":112,"user_id":3789907,"display_name":"Christian Oliver"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668681042,"creation_date":1668681042,"answer_id":74473870,"question_id":69049468,"body_markdown":"To see more details for each endpoint in the swagger-ui such as metadata, comments, and descriptions in the openapi3 yaml spec file; you can include javadoc by adding the following dependency:\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springdoc-openapi-javadoc&lt;/artifactId&gt;\r\n            &lt;version&gt;1.6.12&lt;/version&gt;\r\n        &lt;/dependency&gt;   \r\n\r\nThen add the plugin below:\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;annotationProcessorPaths&gt;\r\n                        &lt;path&gt;\r\n                            &lt;groupId&gt;com.github.therapi&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;therapi-runtime-javadoc-scribe&lt;/artifactId&gt;\r\n                            &lt;version&gt;0.15.0&lt;/version&gt;\r\n                        &lt;/path&gt;\r\n                    &lt;/annotationProcessorPaths&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\nSee https://springdoc.org/#javadoc-support","title":"Spring boot Swagger 3 - Controller summary is not getting displayed by default in OpenApi documentation","body":"<p>To see more details for each endpoint in the swagger-ui such as metadata, comments, and descriptions in the openapi3 yaml spec file; you can include javadoc by adding the following dependency:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n        &lt;artifactId&gt;springdoc-openapi-javadoc&lt;/artifactId&gt;\n        &lt;version&gt;1.6.12&lt;/version&gt;\n    &lt;/dependency&gt;   \n</code></pre>\n<p>Then add the plugin below:</p>\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;annotationProcessorPaths&gt;\n                    &lt;path&gt;\n                        &lt;groupId&gt;com.github.therapi&lt;/groupId&gt;\n                        &lt;artifactId&gt;therapi-runtime-javadoc-scribe&lt;/artifactId&gt;\n                        &lt;version&gt;0.15.0&lt;/version&gt;\n                    &lt;/path&gt;\n                &lt;/annotationProcessorPaths&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p>See <a href=\"https://springdoc.org/#javadoc-support\" rel=\"nofollow noreferrer\">https://springdoc.org/#javadoc-support</a></p>\n"}],"owner":{"account_id":21913606,"reputation":33,"user_id":16197776,"display_name":"Elmir Huseynov"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4085,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69295331,"answer_count":2,"score":1,"last_activity_date":1668681042,"creation_date":1630695103,"question_id":69049468,"body_markdown":" By default, the API method name is displayed as a summary in  [Swagger2][1]\r\n\r\nBut, is not displayed in [OpenApi3][2] by default.\r\n\r\nHow can I configure this property? Without using `@Operation(summary = &quot;Summary&quot;)` in each controller endpoint.\r\n\r\nDependency: `implementation group: &#39;org.springdoc&#39;, name: &#39;springdoc-openapi-ui&#39;, version: &#39;1.5.10&#39;`\r\n\r\n  [1]: https://i.stack.imgur.com/b22Va.png\r\n  [2]: https://i.stack.imgur.com/FMfuI.png","title":"Spring boot Swagger 3 - Controller summary is not getting displayed by default in OpenApi documentation","body":"<p>By default, the API method name is displayed as a summary in  <a href=\"https://i.stack.imgur.com/b22Va.png\" rel=\"nofollow noreferrer\">Swagger2</a></p>\n<p>But, is not displayed in <a href=\"https://i.stack.imgur.com/FMfuI.png\" rel=\"nofollow noreferrer\">OpenApi3</a> by default.</p>\n<p>How can I configure this property? Without using <code>@Operation(summary = &quot;Summary&quot;)</code> in each controller endpoint.</p>\n<p>Dependency: <code>implementation group: 'org.springdoc', name: 'springdoc-openapi-ui', version: '1.5.10'</code></p>\n"},{"tags":["java","sql-server","linux","hibernate","backslash"],"comments":[{"owner":{"account_id":19504418,"reputation":1,"user_id":14269770,"display_name":"KJ4 Saeko"},"score":0,"creation_date":1668616146,"post_id":74464009,"comment_id":131450248,"body_markdown":"Hello everyone *","body":"Hello everyone *"},{"owner":{"account_id":18560371,"reputation":312,"user_id":13524500,"display_name":"C-nan"},"score":0,"creation_date":1668616695,"post_id":74464009,"comment_id":131450479,"body_markdown":"Can&#39;t you add an additional property like `dbInstance` and modify your `String url` to something like `String url : jdbc:sqlserver://&quot; + prop.getDbServer() + &quot;\\&quot; + prop.getDbInstance() + &quot;:&quot; + prop.getDbPort() + &quot;;database=&quot; + prop.getDbDatabase());` ? Or put your `hostname\\instanceName` between double quotes?","body":"Can&#39;t you add an additional property like <code>dbInstance</code> and modify your <code>String url</code> to something like <code>String url : jdbc:sqlserver:&#47;&#47;&quot; + prop.getDbServer() + &quot;\\&quot; + prop.getDbInstance() + &quot;:&quot; + prop.getDbPort() + &quot;;database=&quot; + prop.getDbDatabase());</code> ? Or put your <code>hostname\\instanceName</code> between double quotes?"},{"owner":{"account_id":166167,"reputation":8075,"user_id":390122,"accept_rate":75,"display_name":"AlwaysLearning"},"score":0,"creation_date":1668634223,"post_id":74464009,"comment_id":131456438,"body_markdown":"If you know the port then just ditch the `\\InstanceName`. Instance names are only needed when you don&#39;t know the port. They cause the client library to use SQL Server Resolution Protocol to communicate with the SQL Browser service on the target machine, via udp/1434, to resolve the instance name to its listening TCP port number, then the client attempts to connect to the SQL instance using that port number. Since you already have the port number you can just bypass that entire process.","body":"If you know the port then just ditch the <code>\\InstanceName</code>. Instance names are only needed when you don&#39;t know the port. They cause the client library to use SQL Server Resolution Protocol to communicate with the SQL Browser service on the target machine, via udp/1434, to resolve the instance name to its listening TCP port number, then the client attempts to connect to the SQL instance using that port number. Since you already have the port number you can just bypass that entire process."},{"owner":{"account_id":19504418,"reputation":1,"user_id":14269770,"display_name":"KJ4 Saeko"},"score":0,"creation_date":1668680797,"post_id":74464009,"comment_id":131466982,"body_markdown":"Hello Thank you for reply guys. \n\nI finally solve my problem like that : \n\n1. Change the url on hibernate like that : \n\n`jdbc:sqlserver://&quot; + prop.getDbServer() + &quot;:&quot; + prop.getDbPort() + &quot;;databaseName=&quot;+prop.getDbDatabase()+&quot;;encrypt=true;trustServerCertificate=true;&quot;`\n\n2. Get the ip from this Serveur and replace the serverName by the ip.","body":"Hello Thank you for reply guys.   I finally solve my problem like that :   1. Change the url on hibernate like that :   <code>jdbc:sqlserver:&#47;&#47;&quot; + prop.getDbServer() + &quot;:&quot; + prop.getDbPort() + &quot;;databaseName=&quot;+prop.getDbDatabase()+&quot;;encrypt=true;trustSe&zwnj;&#8203;rverCertificate=true&zwnj;&#8203;;&quot;</code>  2. Get the ip from this Serveur and replace the serverName by the ip."}],"owner":{"account_id":19504418,"reputation":1,"user_id":14269770,"display_name":"KJ4 Saeko"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668681032,"creation_date":1668616124,"question_id":74464009,"body_markdown":"I&#39;m trying to run my jar file on linux server but I got this error : \r\n\r\n*org.hibernate.engine.jdbc.spi.SqlExceptionHelper - The TCP/IP connection to the host HostnameInstanceName, port xxxx has failed.*\r\nOf course the host is not recognized because of the backslash is missing. \r\n\r\n\r\nMy database host is like : hostname\\instanceName (with backslash) \r\nI have a file of properties where I put my database properties. \r\n\r\nLike : \r\n- dbServer=xxxx\\xxxx \r\n- dbDatabase=xxxx\r\n- dbSid=xxxx\r\n- dbSchema=xxxx\r\n- dbUser=xxxx\r\n- dbPassword=xxxx\r\n- dbPort=xxxx\r\nOn my java, I set my sessionFactory with these properties. \r\n\r\n`String url : jdbc:sqlserver://&quot; + prop.getDbServer() + &quot;:&quot; + prop.getDbPort() + &quot;;database=&quot; + prop.getDbDatabase());` \r\n\r\n\r\nNow the problem is, how can I add a backslash between my HostName And InstanceName ? \r\n\r\nThank you for help. \r\n\r\n\r\n\r\n**UPDATE**\r\n I finally solve my problem like that : 1. Change the url on hibernate like that : jdbc:sqlserver://&quot; + prop.getDbServer() + &quot;:&quot; + prop.getDbPort() + &quot;;databaseName=&quot;+prop.getDbDatabase()+&quot;;encrypt=true;trustServerCertificate=true;&quot; 2. Get the ip from this Serveur and replace the serverName by the ip\r\n","title":"Backslash SqlServeur Host / Hibernate configuration","body":"<p>I'm trying to run my jar file on linux server but I got this error :</p>\n<p><em>org.hibernate.engine.jdbc.spi.SqlExceptionHelper - The TCP/IP connection to the host HostnameInstanceName, port xxxx has failed.</em>\nOf course the host is not recognized because of the backslash is missing.</p>\n<p>My database host is like : hostname\\instanceName (with backslash)\nI have a file of properties where I put my database properties.</p>\n<p>Like :</p>\n<ul>\n<li>dbServer=xxxx\\xxxx</li>\n<li>dbDatabase=xxxx</li>\n<li>dbSid=xxxx</li>\n<li>dbSchema=xxxx</li>\n<li>dbUser=xxxx</li>\n<li>dbPassword=xxxx</li>\n<li>dbPort=xxxx\nOn my java, I set my sessionFactory with these properties.</li>\n</ul>\n<p><code>String url : jdbc:sqlserver://&quot; + prop.getDbServer() + &quot;:&quot; + prop.getDbPort() + &quot;;database=&quot; + prop.getDbDatabase());</code></p>\n<p>Now the problem is, how can I add a backslash between my HostName And InstanceName ?</p>\n<p>Thank you for help.</p>\n<p><strong>UPDATE</strong>\nI finally solve my problem like that : 1. Change the url on hibernate like that : jdbc:sqlserver://&quot; + prop.getDbServer() + &quot;:&quot; + prop.getDbPort() + &quot;;databaseName=&quot;+prop.getDbDatabase()+&quot;;encrypt=true;trustServerCertificate=true;&quot; 2. Get the ip from this Serveur and replace the serverName by the ip</p>\n"},{"tags":["java","switch-statement","do-while"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1668680872,"post_id":74473769,"comment_id":131467012,"body_markdown":"It seems the code does exactly what it is written to do. What is your question? and, since &quot;Teh Tarik is added to order&quot; and other similar statements are printed, your premise that it only prints the default is false","body":"It seems the code does exactly what it is written to do. What is your question? and, since &quot;Teh Tarik is added to order&quot; and other similar statements are printed, your premise that it only prints the default is false"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1668680911,"post_id":74473769,"comment_id":131467029,"body_markdown":"In the last iteration, it prints the default, because you don&#39;t have a case for &#39;q&#39;, and &#39;q&#39; != 1, and &#39;q&#39; != 2 or 3.","body":"In the last iteration, it prints the default, because you don&#39;t have a case for &#39;q&#39;, and &#39;q&#39; != 1, and &#39;q&#39; != 2 or 3."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":5,"creation_date":1668680960,"post_id":74473769,"comment_id":131467052,"body_markdown":"Assumption: Since `System.in.read()` only reads one char when you enter `1` and hit &quot;enter&quot; the loop reads 2 chars: `&#39;1&#39;` and `&#39;\\n&#39;`, and as you can see `&#39;\\n&#39;` would be invalid. Try using a scanner, read the next _line_, trim it (in case the user enters a space first), then take the first char or try to parse it to a number.","body":"Assumption: Since <code>System.in.read()</code> only reads one char when you enter <code>1</code> and hit &quot;enter&quot; the loop reads 2 chars: <code>&#39;1&#39;</code> and <code>&#39;\\n&#39;</code>, and as you can see <code>&#39;\\n&#39;</code> would be invalid. Try using a scanner, read the next <i>line</i>, trim it (in case the user enters a space first), then take the first char or try to parse it to a number."}],"owner":{"account_id":23217756,"reputation":11,"user_id":17310450,"display_name":"chriswong"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1668681023,"creation_date":1668680574,"question_id":74473769,"body_markdown":"This is my code which is part of a menu and the output is not what i hoped for\r\n\r\n```\r\npublic class Main {\r\npublic static void main(String[] args) throws java.io.IOException{\r\nchar choice;\r\n\r\n        System.out.println(&quot;Menu &quot;);\r\n        System.out.println(&quot;1. Nasi Lemak &quot;);\r\n        System.out.println(&quot;2. Teh Tarik &quot;);\r\n        System.out.println(&quot;3. Roti &quot;);\r\n        System.out.println(&quot; &quot;);\r\n    \r\n        System.out.println( &quot;Place order or type &#39;q&#39; to exit.&quot;);\r\n    \r\n        do {\r\n            System.out.print(&quot;Add menu: &quot;);\r\n            choice = (char) System.in.read();\r\n    \r\n            switch (choice) {\r\n                case &#39;1&#39;:\r\n                    System.out.println(&quot;Nasi Lemak is added to order&quot;);\r\n                    break;\r\n                case &#39;2&#39;:\r\n                    System.out.println(&quot;Teh Tarik is added to order&quot;);\r\n                    break;\r\n                case &#39;3&#39;:\r\n                    System.out.println(&quot;Roti is added to order&quot;);\r\n                    break;\r\n                default:\r\n                    System.out.println(&quot;Invalid Input&quot;);\r\n            }\r\n        }while(choice!=&#39;q&#39;);\r\n        System.out.println(&quot;Thank you for your order.&quot;);\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n**Why is it that the following code gives the output?**\r\n\r\n  \r\n\r\n      Menu\r\n        \r\n        1. Nasi Lemak\r\n        2. Teh Tarik\r\n        3. Roti\r\n        \r\n        Place order or type &#39;q&#39; to exit.\r\n        Add menu: 1\r\n        Nasi Lemak is added to order\r\n        Add menu: Invalid Input\r\n        Add menu: 2\r\n        Teh Tarik is added to order\r\n        Add menu: Invalid Input\r\n        Add menu: q\r\n        Invalid Input\r\n        Thank you for your order.\r\n        \r\n        Process finished with exit code 0\r\n\r\nWhat is my mistake? i&#39;ve tried brainstorming the problem and i would like to see what you guys have to say.","title":"Why does the output of my switch in a do-while loop only print out default statement?","body":"<p>This is my code which is part of a menu and the output is not what i hoped for</p>\n<pre><code>public class Main {\npublic static void main(String[] args) throws java.io.IOException{\nchar choice;\n\n        System.out.println(&quot;Menu &quot;);\n        System.out.println(&quot;1. Nasi Lemak &quot;);\n        System.out.println(&quot;2. Teh Tarik &quot;);\n        System.out.println(&quot;3. Roti &quot;);\n        System.out.println(&quot; &quot;);\n    \n        System.out.println( &quot;Place order or type 'q' to exit.&quot;);\n    \n        do {\n            System.out.print(&quot;Add menu: &quot;);\n            choice = (char) System.in.read();\n    \n            switch (choice) {\n                case '1':\n                    System.out.println(&quot;Nasi Lemak is added to order&quot;);\n                    break;\n                case '2':\n                    System.out.println(&quot;Teh Tarik is added to order&quot;);\n                    break;\n                case '3':\n                    System.out.println(&quot;Roti is added to order&quot;);\n                    break;\n                default:\n                    System.out.println(&quot;Invalid Input&quot;);\n            }\n        }while(choice!='q');\n        System.out.println(&quot;Thank you for your order.&quot;);\n    }\n\n}\n</code></pre>\n<p><strong>Why is it that the following code gives the output?</strong></p>\n<pre><code>  Menu\n    \n    1. Nasi Lemak\n    2. Teh Tarik\n    3. Roti\n    \n    Place order or type 'q' to exit.\n    Add menu: 1\n    Nasi Lemak is added to order\n    Add menu: Invalid Input\n    Add menu: 2\n    Teh Tarik is added to order\n    Add menu: Invalid Input\n    Add menu: q\n    Invalid Input\n    Thank you for your order.\n    \n    Process finished with exit code 0\n</code></pre>\n<p>What is my mistake? i've tried brainstorming the problem and i would like to see what you guys have to say.</p>\n"},{"tags":["java","string","special-characters"],"comments":[{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":0,"creation_date":1441878810,"post_id":32498432,"comment_id":52856812,"body_markdown":"What context are you using it in?  Why do you use it in a regex? Can you show the context where that error is happening (please edit the question).","body":"What context are you using it in?  Why do you use it in a regex? Can you show the context where that error is happening (please edit the question)."},{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":0,"creation_date":1441879081,"post_id":32498432,"comment_id":52857039,"body_markdown":"Also please add what database you are using.","body":"Also please add what database you are using."}],"answers":[{"tags":[],"owner":{"account_id":2764833,"reputation":232372,"user_id":2380830,"accept_rate":89,"display_name":"Bathsheba"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1441878790,"creation_date":1441878658,"answer_id":32498504,"question_id":32498432,"body_markdown":"You need to use `\\\\` to introduce a `\\` into a string literal; that is you need to *escape* the `\\`. (A single backslash is used to introduce special characters into a string: e.g. `\\t` is a tab.)\r\n\r\n`query = &quot;hello\\\\+Search\\\\}query&quot;` is what you need.","title":"Add escape &quot;\\&quot; in front of special character for a string","body":"<p>You need to use <code>\\\\</code> to introduce a <code>\\</code> into a string literal; that is you need to <em>escape</em> the <code>\\</code>. (A single backslash is used to introduce special characters into a string: e.g. <code>\\t</code> is a tab.)</p>\n\n<p><code>query = \"hello\\\\+Search\\\\}query\"</code> is what you need.</p>\n"},{"tags":[],"owner":{"account_id":6168842,"reputation":6596,"user_id":4807777,"accept_rate":100,"display_name":"Laurentiu L."},"down_vote_count":1,"up_vote_count":26,"is_accepted":true,"score":25,"last_activity_date":1530174819,"creation_date":1441878823,"answer_id":32498573,"question_id":32498432,"body_markdown":"Decide which special characters you want to escape and just call\r\n\r\n    query.replace(&quot;}&quot;, &quot;\\\\}&quot;)\r\n\r\nYou may keep all special characters you allow in some array then iterate it and replace the occurrences as exemplified.\r\nThis method replaces all [regex meta characters][metachars].\r\n\r\n\tpublic String escapeMetaCharacters(String inputString){\r\n\t\tfinal String[] metaCharacters = {&quot;\\\\&quot;,&quot;^&quot;,&quot;$&quot;,&quot;{&quot;,&quot;}&quot;,&quot;[&quot;,&quot;]&quot;,&quot;(&quot;,&quot;)&quot;,&quot;.&quot;,&quot;*&quot;,&quot;+&quot;,&quot;?&quot;,&quot;|&quot;,&quot;&lt;&quot;,&quot;&gt;&quot;,&quot;-&quot;,&quot;&amp;&quot;,&quot;%&quot;};\r\n\t\t\r\n\t\tfor (int i = 0 ; i &lt; metaCharacters.length ; i++){\r\n            if(inputString.contains(metaCharacters[i])){\r\n\t\t\t    inputString = inputString.replace(metaCharacters[i],&quot;\\\\&quot;+metaCharacters[i]);\r\n            }\r\n\t\t}\r\n\t\treturn inputString;\r\n\t}\r\nYou could use it as `query=escapeMetaCharacters(query);`\r\nDon&#39;t think that any library you would find would do anything more than that. At best it defines a complete list of specialCharacters.\r\n\r\n[metachars]:http://www.fon.hum.uva.nl/praat/manual/Regular_expressions_1__Special_characters.html","title":"Add escape &quot;\\&quot; in front of special character for a string","body":"<p>Decide which special characters you want to escape and just call</p>\n\n<pre><code>query.replace(\"}\", \"\\\\}\")\n</code></pre>\n\n<p>You may keep all special characters you allow in some array then iterate it and replace the occurrences as exemplified.\nThis method replaces all <a href=\"http://www.fon.hum.uva.nl/praat/manual/Regular_expressions_1__Special_characters.html\" rel=\"noreferrer\">regex meta characters</a>.</p>\n\n<pre><code>public String escapeMetaCharacters(String inputString){\n    final String[] metaCharacters = {\"\\\\\",\"^\",\"$\",\"{\",\"}\",\"[\",\"]\",\"(\",\")\",\".\",\"*\",\"+\",\"?\",\"|\",\"&lt;\",\"&gt;\",\"-\",\"&amp;\",\"%\"};\n\n    for (int i = 0 ; i &lt; metaCharacters.length ; i++){\n        if(inputString.contains(metaCharacters[i])){\n            inputString = inputString.replace(metaCharacters[i],\"\\\\\"+metaCharacters[i]);\n        }\n    }\n    return inputString;\n}\n</code></pre>\n\n<p>You could use it as <code>query=escapeMetaCharacters(query);</code>\nDon't think that any library you would find would do anything more than that. At best it defines a complete list of specialCharacters.</p>\n"},{"tags":[],"owner":{"account_id":6913948,"reputation":189,"user_id":5308896,"accept_rate":50,"display_name":"AMahajan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1525845420,"creation_date":1525845420,"answer_id":50246406,"question_id":32498432,"body_markdown":"I had to do same thing in javascript. I came up with below solution. I think it might help someone.\r\n\r\n    function escapeSpecialCharacters(s){\r\n     let arr = s.split(&#39;&#39;);\r\n     arr = arr.map(function(d){\r\n             return d.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g, &#39;\\\\&#39;+d)\r\n           });\r\n     let reg = new RegExp(arr.join(&#39;&#39;)); \r\n     return reg;\r\n    }\r\n\r\n    let newstring = escapeSpecialCharacters(&quot;hello+Search}query&quot;);","title":"Add escape &quot;\\&quot; in front of special character for a string","body":"<p>I had to do same thing in javascript. I came up with below solution. I think it might help someone.</p>\n\n<pre><code>function escapeSpecialCharacters(s){\n let arr = s.split('');\n arr = arr.map(function(d){\n         return d.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g, '\\\\'+d)\n       });\n let reg = new RegExp(arr.join('')); \n return reg;\n}\n\nlet newstring = escapeSpecialCharacters(\"hello+Search}query\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1358674,"reputation":21,"user_id":1296491,"display_name":"Juliano Krieger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1608287569,"creation_date":1608287569,"answer_id":65355432,"question_id":32498432,"body_markdown":"If you want to use Java 8+ and Streams, you could do something like:\r\n```java\r\nprivate String escapeSpecialCharacters(String input) {\r\n    List&lt;String&gt; specialCharacters = Lists.newArrayList(&quot;\\\\&quot;,&quot;^&quot;,&quot;$&quot;,&quot;{&quot;,&quot;}&quot;,&quot;[&quot;,&quot;]&quot;,&quot;(&quot;,&quot;)&quot;,&quot;.&quot;,&quot;*&quot;,&quot;+&quot;,&quot;?&quot;,&quot;|&quot;,&quot;&lt;&quot;,&quot;&gt;&quot;,&quot;-&quot;,&quot;&amp;&quot;,&quot;%&quot;);\r\n    return Arrays.stream(input.split(&quot;&quot;)).map((c) -&gt; {\r\n                if (specialCharacters.contains(c)) return &quot;\\\\&quot; + c;\r\n                else return c;\r\n    }).collect(Collectors.joining());\r\n}\r\n```","title":"Add escape &quot;\\&quot; in front of special character for a string","body":"<p>If you want to use Java 8+ and Streams, you could do something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private String escapeSpecialCharacters(String input) {\n    List&lt;String&gt; specialCharacters = Lists.newArrayList(&quot;\\\\&quot;,&quot;^&quot;,&quot;$&quot;,&quot;{&quot;,&quot;}&quot;,&quot;[&quot;,&quot;]&quot;,&quot;(&quot;,&quot;)&quot;,&quot;.&quot;,&quot;*&quot;,&quot;+&quot;,&quot;?&quot;,&quot;|&quot;,&quot;&lt;&quot;,&quot;&gt;&quot;,&quot;-&quot;,&quot;&amp;&quot;,&quot;%&quot;);\n    return Arrays.stream(input.split(&quot;&quot;)).map((c) -&gt; {\n                if (specialCharacters.contains(c)) return &quot;\\\\&quot; + c;\n                else return c;\n    }).collect(Collectors.joining());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9258888,"reputation":61,"user_id":6876690,"display_name":"Tauseef Rahaman"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1627378438,"creation_date":1627378438,"answer_id":68542425,"question_id":32498432,"body_markdown":"There is actually a better way of doing this in a sleek manner.\r\n\r\n    String REGEX = &quot;[\\\\[+\\\\]+:{}^~?\\\\\\\\/()&gt;&lt;=\\&quot;!]&quot;;\r\n    \r\n    StringUtils.replaceAll(inputString, REGEX, &quot;\\\\\\\\$0&quot;);","title":"Add escape &quot;\\&quot; in front of special character for a string","body":"<p>There is actually a better way of doing this in a sleek manner.</p>\n<pre><code>String REGEX = &quot;[\\\\[+\\\\]+:{}^~?\\\\\\\\/()&gt;&lt;=\\&quot;!]&quot;;\n\nStringUtils.replaceAll(inputString, REGEX, &quot;\\\\\\\\$0&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4508992,"reputation":1563,"user_id":3665662,"display_name":"amer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668680911,"creation_date":1668680911,"answer_id":74473835,"question_id":32498432,"body_markdown":"The simple version ( without deprecated `StringUtils.replaceAll` ):\r\n\r\n        String regex = &quot;[\\\\[+\\\\]+:{}^~?\\\\\\\\/()&gt;&lt;=\\&quot;!]&quot;;\r\n        String query = &quot;hello+Search}query&quot;;\r\n        String replaceAll = query.replaceAll(regex, &quot;\\\\\\\\$0&quot;);\r\n","title":"Add escape &quot;\\&quot; in front of special character for a string","body":"<p>The simple version ( without deprecated <code>StringUtils.replaceAll</code> ):</p>\n<pre><code>    String regex = &quot;[\\\\[+\\\\]+:{}^~?\\\\\\\\/()&gt;&lt;=\\&quot;!]&quot;;\n    String query = &quot;hello+Search}query&quot;;\n    String replaceAll = query.replaceAll(regex, &quot;\\\\\\\\$0&quot;);\n</code></pre>\n"}],"owner":{"account_id":1705783,"reputation":1140,"user_id":1564852,"accept_rate":60,"display_name":"Visahan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100209,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":32498573,"answer_count":6,"score":13,"last_activity_date":1668680911,"creation_date":1441878455,"question_id":32498432,"body_markdown":"I have a simple SQL query where I check whether the query matches any of the fields I have. I&#39;m using LIKE statement for this. One of my field can have special characters and so does the search query. So I&#39;m looking for a solution where I need to an escape &quot;\\&quot; in front of the special character.\r\n\r\n    query = &quot;hello+Search}query&quot;\r\n\r\nI need the above to change to \r\n\r\n    query = &quot;hello\\+Search\\}query&quot;\r\n\r\nIs there a simple way of doing this other than searching for each special character separately and adding the &quot;\\&quot;. Because if I don&#39;t have the escape character I will get the error message \r\n\r\n    java.util.regex.PatternSyntaxException: Dangling meta character &#39;+&#39; near index 0\r\n\r\nThanks in advance","title":"Add escape &quot;\\&quot; in front of special character for a string","body":"<p>I have a simple SQL query where I check whether the query matches any of the fields I have. I'm using LIKE statement for this. One of my field can have special characters and so does the search query. So I'm looking for a solution where I need to an escape \"\\\" in front of the special character.</p>\n\n<pre><code>query = \"hello+Search}query\"\n</code></pre>\n\n<p>I need the above to change to </p>\n\n<pre><code>query = \"hello\\+Search\\}query\"\n</code></pre>\n\n<p>Is there a simple way of doing this other than searching for each special character separately and adding the \"\\\". Because if I don't have the escape character I will get the error message </p>\n\n<pre><code>java.util.regex.PatternSyntaxException: Dangling meta character '+' near index 0\n</code></pre>\n\n<p>Thanks in advance</p>\n"},{"tags":["java","spring-boot","spring-boot-starter"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1661869208,"post_id":73538904,"comment_id":129871015,"body_markdown":"There is a, bit hidden, annotation for this. Use [`@AutoConfigurationPackage`] (https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/autoconfigure/AutoConfigurationPackage.html) and ditch the `@EnableJpaRepositories` and `@EntityScan`. You might even need to ditch the `@AutoConfigureAfter`.","body":"There is a, bit hidden, annotation for this. Use [<code>@AutoConfigurationPackage</code>] (<a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/autoconfigure/AutoConfigurationPackage.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/api/org/springframe&zwnj;&#8203;work/&hellip;</a>) and ditch the <code>@EnableJpaRepositories</code> and <code>@EntityScan</code>. You might even need to ditch the <code>@AutoConfigureAfter</code>."},{"owner":{"account_id":5279068,"reputation":895,"user_id":4215032,"display_name":"Pp88"},"score":0,"creation_date":1662130496,"post_id":73538904,"comment_id":129942252,"body_markdown":"@M.Deinum tryed various configurtion with `@AutoConfigurationPackage` nothing worked, if you can make an example I&#39;will be happy to make a test","body":"@M.Deinum tryed various configurtion with <code>@AutoConfigurationPackage</code> nothing worked, if you can make an example I&#39;will be happy to make a test"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1662145140,"post_id":73538904,"comment_id":129946737,"body_markdown":"What have you tried so far? What combinations? It should be a matter of putting that annotation on your auto config.","body":"What have you tried so far? What combinations? It should be a matter of putting that annotation on your auto config."},{"owner":{"account_id":5279068,"reputation":895,"user_id":4215032,"display_name":"Pp88"},"score":0,"creation_date":1662400912,"post_id":73538904,"comment_id":129992848,"body_markdown":"@M.Deinum updated the question with more infos","body":"@M.Deinum updated the question with more infos"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1662440261,"post_id":73538904,"comment_id":129999271,"body_markdown":"You need to remove the `@ComponentScan` as well and make sure you properly registered your auto configuration class in the `spring.factories` or `org.springframework.boot.autoconfigure.AutoConfiguration.imports` file, depending on your spring boot version. See https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.developing-auto-configuration","body":"You need to remove the <code>@ComponentScan</code> as well and make sure you properly registered your auto configuration class in the <code>spring.factories</code> or <code>org.springframework.boot.autoconfigure.AutoConfiguration.imp&zwnj;&#8203;orts</code> file, depending on your spring boot version. See <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.developing-auto-configuration\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/reference/html/&hellip;</a>"},{"owner":{"account_id":5279068,"reputation":895,"user_id":4215032,"display_name":"Pp88"},"score":0,"creation_date":1662443680,"post_id":73538904,"comment_id":129999858,"body_markdown":"Sorry but Im not using any @ComponentScan and my configuration class is correctly loaded","body":"Sorry but Im not using any @ComponentScan and my configuration class is correctly loaded"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1662446524,"post_id":73538904,"comment_id":130000531,"body_markdown":"Where I said `@ComponentScan` I meant `@Import`. Too early didn&#39;t have enough coffee yet :). Is it loaded or correctly loaded as those are different things :). It should be loaded through the auto configuration mechanism and not as a regular `@Configuration` class.","body":"Where I said <code>@ComponentScan</code> I meant <code>@Import</code>. Too early didn&#39;t have enough coffee yet :). Is it loaded or correctly loaded as those are different things :). It should be loaded through the auto configuration mechanism and not as a regular <code>@Configuration</code> class."},{"owner":{"account_id":5279068,"reputation":895,"user_id":4215032,"display_name":"Pp88"},"score":0,"creation_date":1662474564,"post_id":73538904,"comment_id":130010702,"body_markdown":"@M.Deinum removed `@Import` now nothing is been istantiated by the `@AutoConfiguration` the starter does nothing at all. updated question with more info","body":"@M.Deinum removed <code>@Import</code> now nothing is been istantiated by the <code>@AutoConfiguration</code> the starter does nothing at all. updated question with more info"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1662481263,"post_id":73538904,"comment_id":130013382,"body_markdown":"Enable debug (or even trace) logging and see what happens. Instead of defining classes with basepackages specify a single base package that covers all of those (if that is possible).","body":"Enable debug (or even trace) logging and see what happens. Instead of defining classes with basepackages specify a single base package that covers all of those (if that is possible)."},{"owner":{"account_id":5279068,"reputation":895,"user_id":4215032,"display_name":"Pp88"},"score":0,"creation_date":1662669465,"post_id":73538904,"comment_id":130065905,"body_markdown":"@M.Deinum tryed to put all classes in the same package but still not working. updated the question for more infos","body":"@M.Deinum tryed to put all classes in the same package but still not working. updated the question for more infos"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1662711721,"post_id":73538904,"comment_id":130073613,"body_markdown":"1 thing is that it shouldn&#39;t run after the `JpaRepositoriesAutoConfiguration.class` as that will make it run after JPA etc. has done its thing registering entities etc.","body":"1 thing is that it shouldn&#39;t run after the <code>JpaRepositoriesAutoConfiguration.class</code> as that will make it run after JPA etc. has done its thing registering entities etc."}],"answers":[{"tags":[],"owner":{"account_id":26036230,"reputation":260,"user_id":19741639,"display_name":"viking"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661847035,"creation_date":1661847035,"answer_id":73539106,"question_id":73538904,"body_markdown":"You need to add `@ComponentScan` to configuration bean.\r\n\r\n```\r\n@AutoConfiguration(after = JpaRepositoriesAutoConfiguration.class)\r\n//@AutoConfigureAfter(JpaRepositoriesAutoConfiguration.class)\r\n@EnableJpaRepositories(basePackages = &quot;com.example.springbootstarterexample.repository&quot;)\r\n@ComponentScan(&quot;com.example.springbootstarterexample&quot;)\r\n@EntityScan(basePackages = &quot;com.example.springbootstarterexample.domain&quot;)\r\npublic class ExampleAutoConfiguration {\r\n\r\n}\r\n```","title":"spring boot custom starter, define entities in it, without using @EntityScan. Is it possible?","body":"<p>You need to add <code>@ComponentScan</code> to configuration bean.</p>\n<pre><code>@AutoConfiguration(after = JpaRepositoriesAutoConfiguration.class)\n//@AutoConfigureAfter(JpaRepositoriesAutoConfiguration.class)\n@EnableJpaRepositories(basePackages = &quot;com.example.springbootstarterexample.repository&quot;)\n@ComponentScan(&quot;com.example.springbootstarterexample&quot;)\n@EntityScan(basePackages = &quot;com.example.springbootstarterexample.domain&quot;)\npublic class ExampleAutoConfiguration {\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2030,"reputation":50607,"user_id":2788,"accept_rate":69,"display_name":"Strelok"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661868903,"creation_date":1661868903,"answer_id":73543952,"question_id":73538904,"body_markdown":"An interesting problem, but if you had an agreed way with consumers of your library on how to share information where their entities are, like for example they would provide a `META-INF/entityscanforyouapp` file with a list of packages where they have their entities\r\n\r\nConsumer 1 would create `META-INF/entityscanforyouapp`\r\n\r\n    com.consumerapp1.entities\r\n\r\nConsumer 1 would create `META-INF/entityscanforyouapp`\r\n\r\n    com.consumerapp2.entities\r\n\r\nYou could discover all these files and then just create an EntityManagerFactory bean that would include all the discovered packages\r\n\r\n    @Bean\r\n\t@Primary\r\n\tpublic LocalContainerEntityManagerFactoryBean entityManagerFactory(EntityManagerFactoryBuilder factoryBuilder, DataSource dataSource) {\r\n\t\tMap&lt;String, Object&gt; vendorProperties = &lt;... read the additional hibernate properties if you need...&gt;;\r\n\r\n        String[] packagesWithEntities = discoverAllThePackages();\r\n\r\n\t\treturn factoryBuilder.dataSource(datasource).packages(packagesWithEntities).properties(vendorProperties).build();\r\n\t}\r\n\r\nThis is kind of &quot;rough and ready&quot; but should provide a good starting point if you want to go that way.\r\n","title":"spring boot custom starter, define entities in it, without using @EntityScan. Is it possible?","body":"<p>An interesting problem, but if you had an agreed way with consumers of your library on how to share information where their entities are, like for example they would provide a <code>META-INF/entityscanforyouapp</code> file with a list of packages where they have their entities</p>\n<p>Consumer 1 would create <code>META-INF/entityscanforyouapp</code></p>\n<pre><code>com.consumerapp1.entities\n</code></pre>\n<p>Consumer 1 would create <code>META-INF/entityscanforyouapp</code></p>\n<pre><code>com.consumerapp2.entities\n</code></pre>\n<p>You could discover all these files and then just create an EntityManagerFactory bean that would include all the discovered packages</p>\n<pre><code>@Bean\n@Primary\npublic LocalContainerEntityManagerFactoryBean entityManagerFactory(EntityManagerFactoryBuilder factoryBuilder, DataSource dataSource) {\n    Map&lt;String, Object&gt; vendorProperties = &lt;... read the additional hibernate properties if you need...&gt;;\n\n    String[] packagesWithEntities = discoverAllThePackages();\n\n    return factoryBuilder.dataSource(datasource).packages(packagesWithEntities).properties(vendorProperties).build();\n}\n</code></pre>\n<p>This is kind of &quot;rough and ready&quot; but should provide a good starting point if you want to go that way.</p>\n"},{"tags":[],"owner":{"account_id":5279068,"reputation":895,"user_id":4215032,"display_name":"Pp88"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1668680832,"creation_date":1668679583,"answer_id":74473532,"question_id":73538904,"body_markdown":"Finally found a solution thanks to this [post](https://stackoverflow.com/questions/66549366/spring-boot-starter-with-own-entity-and-repository). \r\nThe configuration class becomes:\r\n\r\n    @AutoConfigureBefore(JpaRepositoriesAutoConfiguration.class)\r\n    @EnableJpaRepositories(basePackages = {&quot;com.example.springbootstarterexample.repository&quot;})\r\n    @Import({SomeServiceImpl.class, SomeEntityController.class, StarterEntityRegistrar.class /*, SomeEntity.class NOT WORKING*/})\r\n    public class ExampleAutoConfiguration {\r\n    \r\n    }\r\nand the registar for entities:\r\n\r\n    public class StarterEntityRegistrar implements ImportBeanDefinitionRegistrar {\r\n    \t@Override\r\n    \tpublic void registerBeanDefinitions(AnnotationMetadata importingClassMetadata, BeanDefinitionRegistry registry) {\r\n    \t\tAutoConfigurationPackages.register(registry, SomeEntity.class.getPackageName());\r\n    \t}\r\n    \r\n    }\r\na working [example](https://github.com/paolopiccinini/spring-boot-starter-example)\r\n\r\nyou can use the register method to add all packages that you need:\r\n&gt;Programmatically registers the auto-configuration package names. Subsequentinvocations will add the given package names to those that have already beenregistered. You can use this method to manually define the base packages that willbe used for a given BeanDefinitionRegistry. Generally it&#39;s recommended thatyou don&#39;t call this method directly, but instead rely on the default conventionwhere the package name is set from your @EnableAutoConfigurationconfiguration class or classes.","title":"spring boot custom starter, define entities in it, without using @EntityScan. Is it possible?","body":"<p>Finally found a solution thanks to this <a href=\"https://stackoverflow.com/questions/66549366/spring-boot-starter-with-own-entity-and-repository\">post</a>.\nThe configuration class becomes:</p>\n<pre><code>@AutoConfigureBefore(JpaRepositoriesAutoConfiguration.class)\n@EnableJpaRepositories(basePackages = {&quot;com.example.springbootstarterexample.repository&quot;})\n@Import({SomeServiceImpl.class, SomeEntityController.class, StarterEntityRegistrar.class /*, SomeEntity.class NOT WORKING*/})\npublic class ExampleAutoConfiguration {\n\n}\n</code></pre>\n<p>and the registar for entities:</p>\n<pre><code>public class StarterEntityRegistrar implements ImportBeanDefinitionRegistrar {\n    @Override\n    public void registerBeanDefinitions(AnnotationMetadata importingClassMetadata, BeanDefinitionRegistry registry) {\n        AutoConfigurationPackages.register(registry, SomeEntity.class.getPackageName());\n    }\n\n}\n</code></pre>\n<p>a working <a href=\"https://github.com/paolopiccinini/spring-boot-starter-example\" rel=\"nofollow noreferrer\">example</a></p>\n<p>you can use the register method to add all packages that you need:</p>\n<blockquote>\n<p>Programmatically registers the auto-configuration package names. Subsequentinvocations will add the given package names to those that have already beenregistered. You can use this method to manually define the base packages that willbe used for a given BeanDefinitionRegistry. Generally it's recommended thatyou don't call this method directly, but instead rely on the default conventionwhere the package name is set from your @EnableAutoConfigurationconfiguration class or classes.</p>\n</blockquote>\n"}],"owner":{"account_id":5279068,"reputation":895,"user_id":4215032,"display_name":"Pp88"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1105,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74473532,"answer_count":3,"score":2,"last_activity_date":1668680832,"creation_date":1661845904,"question_id":73538904,"body_markdown":"I&#39;m making some tests using custom starters for spring boot. I managed to configure everything except the entities. I&#39;ve tryed using `@Import` to load entities in the `@AutoConfiguration` class but this does not work. Instead if we use `@EntityScan` in the starter the entities are loaded, but  if you import this starter and have entities in the project that depends on the starter you are forced to use `@EntityScan` also in it, and in my opinion this breaks the autoconfiguration meaning of the starter because when you import a starter you should do nothing in order to use it, yes you can override the default configuration but not forced to do anything maybe to declare some properties.\r\n\r\nExample of autoconfiguration class in the starter:\r\n```\r\n@AutoConfiguration(after = JpaRepositoriesAutoConfiguration.class)\r\n//@AutoConfigureAfter(JpaRepositoriesAutoConfiguration.class)\r\n@EnableJpaRepositories(basePackages = &quot;com.example.springbootstarterexample.repository&quot;)\r\n@Import({SomeServiceImpl.class, SomeEntityController.class /*, SomeEntity.class NOT WORKING*/})\r\n@EntityScan(basePackages = &quot;com.example.springbootstarterexample.domain&quot;)\r\npublic class ExampleAutoConfiguration {\r\n\r\n}\r\n```\r\nand then if you have entities in the consumer of the starter you have to do this if you have entities in it:\r\n```\r\n@SpringBootApplication\r\n@EntityScan(basePackages = &quot;com.example.springbootconsumer.model&quot;)\r\npublic class SpringBootConsumerApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(SpringBootConsumerApplication.class, args);\r\n\t}\r\n\r\n}\r\n```\r\nOtherwise we can remove `@EntityScan` from the starter and do this in the consumer:\r\n```\r\n@SpringBootApplication\r\n@EntityScan(basePackages = {&quot;com.example.springbootconsumer.model&quot;, &quot;com.example.springbootstarterexample.domain&quot;})\r\npublic class SpringBootConsumerApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(SpringBootConsumerApplication.class, args);\r\n\t}\r\n\r\n}\r\n```\r\nbut this totaly brakes the autoconfiguration, because you have to know where the entities are in the starter in order to start the application.\r\nI&#39;ve write an [example](https://github.com/paolopiccinini/spring-boot-starter-example) if interested.\r\n\r\n**EDIT**\r\ntryed with `@AutoConfigurationPackage`\r\n```\r\n@AutoConfiguration(after = JpaRepositoriesAutoConfiguration.class)\r\n//@AutoConfigureAfter(JpaRepositoriesAutoConfiguration.class)\r\n//@EnableJpaRepositories(basePackages = {&quot;com.example.springbootstarterexample.repository&quot;})\r\n@AutoConfigurationPackage(basePackageClasses = {SomeEntity.class, SomeEntityRepository.class})\r\n@Import({SomeServiceImpl.class, SomeEntityController.class /*, SomeEntity.class NOT WORKING*/})\r\n//@EntityScan(basePackages = &quot;com.example.springbootstarterexample.domain&quot;)\r\npublic class ExampleAutoConfiguration {\r\n\r\n}\r\n```\r\nIn this way the repository is not istantiated\r\n```\r\nDescription:\r\n\r\nParameter 0 of constructor in com.example.springbootstarterexample.service.SomeServiceImpl required a bean of type &#39;com.example.springbootstarterexample.repository.SomeEntityRepository&#39; that could not be found.\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;com.example.springbootstarterexample.repository.SomeEntityRepository&#39; in your configuration.\r\n```\r\nIf I use `@EnableJpaRepositories` the repository is find for injection but not the entity\r\n```\r\n@AutoConfiguration(after = JpaRepositoriesAutoConfiguration.class)\r\n//@AutoConfigureAfter(JpaRepositoriesAutoConfiguration.class)\r\n@EnableJpaRepositories(basePackages = {&quot;com.example.springbootstarterexample.repository&quot;})\r\n@AutoConfigurationPackage(basePackageClasses = {SomeEntity.class})\r\n@Import({SomeServiceImpl.class, SomeEntityController.class /*, SomeEntity.class NOT WORKING*/})\r\n//@EntityScan(basePackages = &quot;com.example.springbootstarterexample.domain&quot;)\r\npublic class ExampleAutoConfiguration {\r\n\r\n}\r\n```\r\nError:\r\n```\r\nCaused by: java.lang.IllegalArgumentException: Not a managed type: class com.example.springbootstarterexample.domain.SomeEntity\r\n```\r\nUsing the name of the package I have the same result\r\n\r\n**EDIT 2** The `@AutoConfiguration` class is loaded by `META-INF/spring/org.springframework.boot.autoconfigure.AutoConfiguration.imports` removed `@Import`:\r\n```\r\n@AutoConfiguration(after = JpaRepositoriesAutoConfiguration.class)\r\n//@AutoConfigureAfter(JpaRepositoriesAutoConfiguration.class)\r\n//@EnableJpaRepositories(basePackages = {&quot;com.example.springbootstarterexample.repository&quot;})\r\n@AutoConfigurationPackage(basePackageClasses = {SomeEntity.class, SomeServiceImpl.class, SomeEntityController.class, SomeEntityRepository.class})\r\n//@Import({SomeServiceImpl.class, SomeEntityController.class /*, SomeEntity.class NOT WORKING*/})\r\n//@EntityScan(basePackages = &quot;com.example.springbootstarterexample.domain&quot;)\r\npublic class ExampleAutoConfiguration {\r\n\r\n}\r\n```\r\ntrying to inject something in the consumer:\r\n```\r\nDescription:\r\n\r\nParameter 0 of constructor in com.example.springbootconsumer.SpringBootConsumerApplication required a bean of type &#39;com.example.springbootstarterexample.service.SomeService&#39; that could not be found.\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;com.example.springbootstarterexample.service.SomeService&#39; in your configuration.\r\n```\r\nThis seems to not load any configuration at all.\r\n\r\n**EDIT 3** put the log level to TRACE and put all classes under the same package, the package of `ExampleAutoConfiguration` class that now looks like this:\r\n```\r\n@AutoConfiguration(after = JpaRepositoriesAutoConfiguration.class)\r\n//@AutoConfigureAfter(JpaRepositoriesAutoConfiguration.class)\r\n//@EnableJpaRepositories(basePackages = {&quot;com.example.springbootstarterexample.repository&quot;})\r\n@AutoConfigurationPackage\r\n//@Import({SomeServiceImpl.class, SomeEntityController.class /*, SomeEntity.class NOT WORKING*/})\r\n//@EntityScan(basePackages = &quot;com.example.springbootstarterexample.domain&quot;)\r\npublic class ExampleAutoConfiguration {\r\n\r\n}\r\n```\r\nI found log of the `@AutoConfiguration` class being scanned but I can&#39;t find any bean defined in the package in the logs:\r\n```\r\n2022-09-08 20:03:24.495 TRACE 17132 --- [           main] a.ConfigurationClassBeanDefinitionReader : Registered bean definition for imported class &#39;com.example.springbootstarterexample.autoconfigure.ExampleAutoConfiguration&#39;\r\n```\r\nif I use normal configuration i see all beans been created\r\n```\r\n2022-09-08 22:31:34.580 TRACE 2308 --- [           main] a.ConfigurationClassBeanDefinitionReader : Registered bean definition for imported class &#39;com.example.springbootstarterexample.service.SomeServiceImpl&#39;\r\n2022-09-08 22:31:34.581 TRACE 2308 --- [           main] a.ConfigurationClassBeanDefinitionReader : Registered bean definition for imported class &#39;com.example.springbootstarterexample.controller.SomeEntityController&#39;\r\n2022-09-08 22:31:34.585 TRACE 2308 --- [           main] a.ConfigurationClassBeanDefinitionReader : Registered bean definition for imported class &#39;com.example.springbootstarterexample.autoconfigure.ExampleAutoConfiguration&#39;\r\n2022-09-08 22:31:34.685 TRACE 2308 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Spring Data JPA - Registering repository: someEntityRepository - Interface: com.example.springbootstarterexample.repository.SomeEntityRepository - Factory: org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean\r\n2022-09-08 22:31:39.094 DEBUG 2308 --- [           main] org.hibernate.cfg.Ejb3Column             : Binding column: Ejb3DiscriminatorColumn{logicalColumnName&#39;DTYPE&#39;, discriminatorTypeName=&#39;string&#39;}\r\n2022-09-08 22:31:39.112 DEBUG 2308 --- [           main] o.h.cfg.annotations.EntityBinder         : Import with entity name SomeEntity\r\n2022-09-08 22:31:39.113 TRACE 2308 --- [           main] o.h.b.i.InFlightMetadataCollectorImpl    : Import: SomeEntity -&gt; com.example.springbootstarterexample.domain.SomeEntity\r\n2022-09-08 22:31:39.114 TRACE 2308 --- [           main] o.h.b.i.InFlightMetadataCollectorImpl    : Import: com.example.springbootstarterexample.domain.SomeEntity -&gt; com.example.springbootstarterexample.domain.SomeEntity\r\n```","title":"spring boot custom starter, define entities in it, without using @EntityScan. Is it possible?","body":"<p>I'm making some tests using custom starters for spring boot. I managed to configure everything except the entities. I've tryed using <code>@Import</code> to load entities in the <code>@AutoConfiguration</code> class but this does not work. Instead if we use <code>@EntityScan</code> in the starter the entities are loaded, but  if you import this starter and have entities in the project that depends on the starter you are forced to use <code>@EntityScan</code> also in it, and in my opinion this breaks the autoconfiguration meaning of the starter because when you import a starter you should do nothing in order to use it, yes you can override the default configuration but not forced to do anything maybe to declare some properties.</p>\n<p>Example of autoconfiguration class in the starter:</p>\n<pre><code>@AutoConfiguration(after = JpaRepositoriesAutoConfiguration.class)\n//@AutoConfigureAfter(JpaRepositoriesAutoConfiguration.class)\n@EnableJpaRepositories(basePackages = &quot;com.example.springbootstarterexample.repository&quot;)\n@Import({SomeServiceImpl.class, SomeEntityController.class /*, SomeEntity.class NOT WORKING*/})\n@EntityScan(basePackages = &quot;com.example.springbootstarterexample.domain&quot;)\npublic class ExampleAutoConfiguration {\n\n}\n</code></pre>\n<p>and then if you have entities in the consumer of the starter you have to do this if you have entities in it:</p>\n<pre><code>@SpringBootApplication\n@EntityScan(basePackages = &quot;com.example.springbootconsumer.model&quot;)\npublic class SpringBootConsumerApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(SpringBootConsumerApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>Otherwise we can remove <code>@EntityScan</code> from the starter and do this in the consumer:</p>\n<pre><code>@SpringBootApplication\n@EntityScan(basePackages = {&quot;com.example.springbootconsumer.model&quot;, &quot;com.example.springbootstarterexample.domain&quot;})\npublic class SpringBootConsumerApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(SpringBootConsumerApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>but this totaly brakes the autoconfiguration, because you have to know where the entities are in the starter in order to start the application.\nI've write an <a href=\"https://github.com/paolopiccinini/spring-boot-starter-example\" rel=\"nofollow noreferrer\">example</a> if interested.</p>\n<p><strong>EDIT</strong>\ntryed with <code>@AutoConfigurationPackage</code></p>\n<pre><code>@AutoConfiguration(after = JpaRepositoriesAutoConfiguration.class)\n//@AutoConfigureAfter(JpaRepositoriesAutoConfiguration.class)\n//@EnableJpaRepositories(basePackages = {&quot;com.example.springbootstarterexample.repository&quot;})\n@AutoConfigurationPackage(basePackageClasses = {SomeEntity.class, SomeEntityRepository.class})\n@Import({SomeServiceImpl.class, SomeEntityController.class /*, SomeEntity.class NOT WORKING*/})\n//@EntityScan(basePackages = &quot;com.example.springbootstarterexample.domain&quot;)\npublic class ExampleAutoConfiguration {\n\n}\n</code></pre>\n<p>In this way the repository is not istantiated</p>\n<pre><code>Description:\n\nParameter 0 of constructor in com.example.springbootstarterexample.service.SomeServiceImpl required a bean of type 'com.example.springbootstarterexample.repository.SomeEntityRepository' that could not be found.\n\n\nAction:\n\nConsider defining a bean of type 'com.example.springbootstarterexample.repository.SomeEntityRepository' in your configuration.\n</code></pre>\n<p>If I use <code>@EnableJpaRepositories</code> the repository is find for injection but not the entity</p>\n<pre><code>@AutoConfiguration(after = JpaRepositoriesAutoConfiguration.class)\n//@AutoConfigureAfter(JpaRepositoriesAutoConfiguration.class)\n@EnableJpaRepositories(basePackages = {&quot;com.example.springbootstarterexample.repository&quot;})\n@AutoConfigurationPackage(basePackageClasses = {SomeEntity.class})\n@Import({SomeServiceImpl.class, SomeEntityController.class /*, SomeEntity.class NOT WORKING*/})\n//@EntityScan(basePackages = &quot;com.example.springbootstarterexample.domain&quot;)\npublic class ExampleAutoConfiguration {\n\n}\n</code></pre>\n<p>Error:</p>\n<pre><code>Caused by: java.lang.IllegalArgumentException: Not a managed type: class com.example.springbootstarterexample.domain.SomeEntity\n</code></pre>\n<p>Using the name of the package I have the same result</p>\n<p><strong>EDIT 2</strong> The <code>@AutoConfiguration</code> class is loaded by <code>META-INF/spring/org.springframework.boot.autoconfigure.AutoConfiguration.imports</code> removed <code>@Import</code>:</p>\n<pre><code>@AutoConfiguration(after = JpaRepositoriesAutoConfiguration.class)\n//@AutoConfigureAfter(JpaRepositoriesAutoConfiguration.class)\n//@EnableJpaRepositories(basePackages = {&quot;com.example.springbootstarterexample.repository&quot;})\n@AutoConfigurationPackage(basePackageClasses = {SomeEntity.class, SomeServiceImpl.class, SomeEntityController.class, SomeEntityRepository.class})\n//@Import({SomeServiceImpl.class, SomeEntityController.class /*, SomeEntity.class NOT WORKING*/})\n//@EntityScan(basePackages = &quot;com.example.springbootstarterexample.domain&quot;)\npublic class ExampleAutoConfiguration {\n\n}\n</code></pre>\n<p>trying to inject something in the consumer:</p>\n<pre><code>Description:\n\nParameter 0 of constructor in com.example.springbootconsumer.SpringBootConsumerApplication required a bean of type 'com.example.springbootstarterexample.service.SomeService' that could not be found.\n\n\nAction:\n\nConsider defining a bean of type 'com.example.springbootstarterexample.service.SomeService' in your configuration.\n</code></pre>\n<p>This seems to not load any configuration at all.</p>\n<p><strong>EDIT 3</strong> put the log level to TRACE and put all classes under the same package, the package of <code>ExampleAutoConfiguration</code> class that now looks like this:</p>\n<pre><code>@AutoConfiguration(after = JpaRepositoriesAutoConfiguration.class)\n//@AutoConfigureAfter(JpaRepositoriesAutoConfiguration.class)\n//@EnableJpaRepositories(basePackages = {&quot;com.example.springbootstarterexample.repository&quot;})\n@AutoConfigurationPackage\n//@Import({SomeServiceImpl.class, SomeEntityController.class /*, SomeEntity.class NOT WORKING*/})\n//@EntityScan(basePackages = &quot;com.example.springbootstarterexample.domain&quot;)\npublic class ExampleAutoConfiguration {\n\n}\n</code></pre>\n<p>I found log of the <code>@AutoConfiguration</code> class being scanned but I can't find any bean defined in the package in the logs:</p>\n<pre><code>2022-09-08 20:03:24.495 TRACE 17132 --- [           main] a.ConfigurationClassBeanDefinitionReader : Registered bean definition for imported class 'com.example.springbootstarterexample.autoconfigure.ExampleAutoConfiguration'\n</code></pre>\n<p>if I use normal configuration i see all beans been created</p>\n<pre><code>2022-09-08 22:31:34.580 TRACE 2308 --- [           main] a.ConfigurationClassBeanDefinitionReader : Registered bean definition for imported class 'com.example.springbootstarterexample.service.SomeServiceImpl'\n2022-09-08 22:31:34.581 TRACE 2308 --- [           main] a.ConfigurationClassBeanDefinitionReader : Registered bean definition for imported class 'com.example.springbootstarterexample.controller.SomeEntityController'\n2022-09-08 22:31:34.585 TRACE 2308 --- [           main] a.ConfigurationClassBeanDefinitionReader : Registered bean definition for imported class 'com.example.springbootstarterexample.autoconfigure.ExampleAutoConfiguration'\n2022-09-08 22:31:34.685 TRACE 2308 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Spring Data JPA - Registering repository: someEntityRepository - Interface: com.example.springbootstarterexample.repository.SomeEntityRepository - Factory: org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean\n2022-09-08 22:31:39.094 DEBUG 2308 --- [           main] org.hibernate.cfg.Ejb3Column             : Binding column: Ejb3DiscriminatorColumn{logicalColumnName'DTYPE', discriminatorTypeName='string'}\n2022-09-08 22:31:39.112 DEBUG 2308 --- [           main] o.h.cfg.annotations.EntityBinder         : Import with entity name SomeEntity\n2022-09-08 22:31:39.113 TRACE 2308 --- [           main] o.h.b.i.InFlightMetadataCollectorImpl    : Import: SomeEntity -&gt; com.example.springbootstarterexample.domain.SomeEntity\n2022-09-08 22:31:39.114 TRACE 2308 --- [           main] o.h.b.i.InFlightMetadataCollectorImpl    : Import: com.example.springbootstarterexample.domain.SomeEntity -&gt; com.example.springbootstarterexample.domain.SomeEntity\n</code></pre>\n"},{"tags":["java","spotbugs"],"answers":[{"tags":[],"owner":{"account_id":1387645,"reputation":7926,"user_id":1319284,"accept_rate":69,"display_name":"kutschkem"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1668680713,"creation_date":1597935095,"answer_id":63507712,"question_id":63507614,"body_markdown":"You can use a [filter file][1]\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;FindBugsFilter&gt;\r\n&lt;Match&gt;\r\n  &lt;Class name=&quot;my.package.*&quot; /&gt;\r\n&lt;/Match&gt;\r\n&lt;/FindBugsFilter&gt;\r\n\r\n```\r\n\r\nThis file can be given to spotbugs as command line argument `-exclude`, or if you are using an IDE it probably can be configured to be used somewhere.\r\n\r\n\r\nThis is especially useful when you want to exclude third-party code, or generated code, where you can&#39;t add the annotation to begin with. But it also helps separate the spotbugs configuration and the code.\r\n\r\nAlso note the `name` attribute can be a regular expression.\r\n\r\n  [1]: https://spotbugs.readthedocs.io/en/stable/filter.html","title":"Suppress Spotbugs warnings globally","body":"<p>You can use a <a href=\"https://spotbugs.readthedocs.io/en/stable/filter.html\" rel=\"nofollow noreferrer\">filter file</a></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;FindBugsFilter&gt;\n&lt;Match&gt;\n  &lt;Class name=&quot;my.package.*&quot; /&gt;\n&lt;/Match&gt;\n&lt;/FindBugsFilter&gt;\n\n</code></pre>\n<p>This file can be given to spotbugs as command line argument <code>-exclude</code>, or if you are using an IDE it probably can be configured to be used somewhere.</p>\n<p>This is especially useful when you want to exclude third-party code, or generated code, where you can't add the annotation to begin with. But it also helps separate the spotbugs configuration and the code.</p>\n<p>Also note the <code>name</code> attribute can be a regular expression.</p>\n"}],"owner":{"account_id":18699304,"reputation":43,"user_id":13631846,"display_name":"Chitransh Saxena"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3874,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":63507712,"answer_count":1,"score":3,"last_activity_date":1668680713,"creation_date":1597934747,"question_id":63507614,"body_markdown":"I have one warning from spotbugs. This is suppressed with @SuppressFBWarnings in all those files.\r\nI need to find a way to suppress this from one place so that I don&#39;t have to @SuppressFBWarnings in each file in that package.","title":"Suppress Spotbugs warnings globally","body":"<p>I have one warning from spotbugs. This is suppressed with @SuppressFBWarnings in all those files.\nI need to find a way to suppress this from one place so that I don't have to @SuppressFBWarnings in each file in that package.</p>\n"},{"tags":["java","pdf","merge","pdfbox"],"answers":[{"tags":[],"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1491556645,"creation_date":1464878792,"answer_id":37595137,"question_id":37589590,"body_markdown":"Call [`PDFMergerUtility.appendDocument(PDDocument destination, PDDocument source)`][1] instead of merge. To load from a byte array, call `PDDocument.load(array)`. \r\n\r\n**Btw**: I&#39;d discourage to merge PDDocument objects that you created yourself, this fails if you have font subsets (see issue [PDFBOX-3243][2]). Better save them (e.g. in a `ByteArrayOutputStream`) and reload and then merge. To get a byte array from a ByteArrayOutputStream, use [`ByteArrayOutputStream.tobytearray()`][3].\r\n\r\n\r\n  [1]: https://pdfbox.apache.org/docs/2.0.1/javadocs/org/apache/pdfbox/multipdf/PDFMergerUtility.html#appendDocument(org.apache.pdfbox.pdmodel.PDDocument,%20org.apache.pdfbox.pdmodel.PDDocument)\r\n  [2]: https://issues.apache.org/jira/browse/PDFBOX-3243\r\n  [3]: https://docs.oracle.com/javase/7/docs/api/java/io/ByteArrayOutputStream.html#toByteArray()","title":"Merge Pdf Files Using PDFBox","body":"<p>Call <a href=\"https://pdfbox.apache.org/docs/2.0.1/javadocs/org/apache/pdfbox/multipdf/PDFMergerUtility.html#appendDocument(org.apache.pdfbox.pdmodel.PDDocument,%20org.apache.pdfbox.pdmodel.PDDocument)\" rel=\"noreferrer\"><code>PDFMergerUtility.appendDocument(PDDocument destination, PDDocument source)</code></a> instead of merge. To load from a byte array, call <code>PDDocument.load(array)</code>. </p>\n\n<p><strong>Btw</strong>: I'd discourage to merge PDDocument objects that you created yourself, this fails if you have font subsets (see issue <a href=\"https://issues.apache.org/jira/browse/PDFBOX-3243\" rel=\"noreferrer\">PDFBOX-3243</a>). Better save them (e.g. in a <code>ByteArrayOutputStream</code>) and reload and then merge. To get a byte array from a ByteArrayOutputStream, use <a href=\"https://docs.oracle.com/javase/7/docs/api/java/io/ByteArrayOutputStream.html#toByteArray()\" rel=\"noreferrer\"><code>ByteArrayOutputStream.tobytearray()</code></a>.</p>\n"},{"tags":[],"owner":{"account_id":4831523,"reputation":1,"user_id":3899610,"display_name":"chandni s"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668680576,"creation_date":1668680576,"answer_id":74473770,"question_id":37589590,"body_markdown":"yes, you can convert it into byte array\r\n\r\n\r\n    PDDocument.load(path3.getBytes()));","title":"Merge Pdf Files Using PDFBox","body":"<p>yes, you can convert it into byte array</p>\n<pre><code>PDDocument.load(path3.getBytes()));\n</code></pre>\n"}],"owner":{"account_id":6332220,"reputation":224,"user_id":4916829,"accept_rate":75,"display_name":"Raushan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16158,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":2,"score":8,"last_activity_date":1668680576,"creation_date":1464864227,"question_id":37589590,"body_markdown":"I have to merge two pdf Files using PdfBox of Apache. I have taken physical pdf files to do so.\r\nBelow is the code:\r\n\r\n    PDFMergerUtility ut = new PDFMergerUtility();\r\n    ut.addSource(path1);\r\n    ut.addSource(path2);\r\n    ut.setDestinationFileName(path3);\r\n    ut.mergeDocuments(MemoryUsageSetting.setupMainMemoryOnly());\r\n\r\nFiles are merged perfectly but then have some constraints as below:\r\n\r\n1. I am creating 1st file in the code itself,so it is PDDocument object.\r\n2. The file which I have to merge with 1st file is in byte array format.\r\n3. I don&#39;t need to save the merged files but need convert it as byte array.\r\n\r\nPlease anyone help me achieve this requirement.","title":"Merge Pdf Files Using PDFBox","body":"<p>I have to merge two pdf Files using PdfBox of Apache. I have taken physical pdf files to do so.\nBelow is the code:</p>\n\n<pre><code>PDFMergerUtility ut = new PDFMergerUtility();\nut.addSource(path1);\nut.addSource(path2);\nut.setDestinationFileName(path3);\nut.mergeDocuments(MemoryUsageSetting.setupMainMemoryOnly());\n</code></pre>\n\n<p>Files are merged perfectly but then have some constraints as below:</p>\n\n<ol>\n<li>I am creating 1st file in the code itself,so it is PDDocument object.</li>\n<li>The file which I have to merge with 1st file is in byte array format.</li>\n<li>I don't need to save the merged files but need convert it as byte array.</li>\n</ol>\n\n<p>Please anyone help me achieve this requirement.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1668677562,"post_id":74473062,"comment_id":131465714,"body_markdown":"A unique query expects one and only one result. Your query returned two results. There is your error.","body":"A unique query expects one and only one result. Your query returned two results. There is your error."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1668680847,"post_id":74473062,"comment_id":131467002,"body_markdown":"Why on earth are you implementing `List`? Instead just create a `List&lt;InvoicesDTO&gt;` and remove the `implements` list.","body":"Why on earth are you implementing <code>List</code>? Instead just create a <code>List&lt;InvoicesDTO&gt;</code> and remove the <code>implements</code> list."},{"owner":{"account_id":26952196,"reputation":23,"user_id":20521229,"display_name":"TechNewPy"},"score":0,"creation_date":1668681908,"post_id":74473062,"comment_id":131467377,"body_markdown":"@M.Deinum I didn&#39;t understand you suggestion. elaborate more please!","body":"@M.Deinum I didn&#39;t understand you suggestion. elaborate more please!"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1668683614,"post_id":74473062,"comment_id":131468034,"body_markdown":"I don&#39;t see why you are implementing `List`, seems like a basic misunderstanding of java.","body":"I don&#39;t see why you are implementing <code>List</code>, seems like a basic misunderstanding of java."}],"owner":{"account_id":26952196,"reputation":23,"user_id":20521229,"display_name":"TechNewPy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":431,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668680569,"creation_date":1668677513,"question_id":74473062,"body_markdown":"I have a json file that has some parmeters with a nested object in it. And I&#39;m trying to save this json file to the database. Altough I keep reciving this Exception:\r\n\r\n&quot; Cannot invoke &quot;java.util.Iterator.hasNext()&quot; because &quot;&lt;local8&gt;&quot; is null&quot;\r\n\r\n\r\n`\r\n```\r\n\r\n{\r\n        &quot;personId&quot; : &quot;1xxxxxxx&quot;,\r\n        &quot;invoiceDate&quot; : &quot;2020-10-12&quot;,\r\n        &quot;invoices&quot;:[\r\n            {\r\n            &quot;invoiceAmount&quot; :&quot;300&quot;,\r\n            &quot;invoiceNumber&quot; :&quot;x123&quot;\r\n            },\r\n        {\r\n            &quot;invoiceAmount&quot; :&quot;100&quot;,\r\n            &quot;invoiceNumber&quot; :&quot;x122&quot;\r\n        }\r\n        ],   \r\n}\r\n```\r\n`\r\n\r\nSo to insert an object in my DTO that has an array of (Invoices) I created an Object name invoices of type InvoicesDTO, then I tried to itirate through these Object everytime a request will be reviced using this API. But Still I get this error.\r\n\r\nthe dto&#39;s for Invoice and invoices:\r\n\r\n```\r\n`\r\n\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class InvoiceDTO {\r\n  @NotNull(message = &quot;PersonId can&#39;t be null&quot;)\r\n  @PersonId\r\n  private String personId;\r\n\r\n  @NotNull(message = &quot;invoiceDate can&#39;t be null&quot;)\r\n  // @DateTimeFormat(iso = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;))\r\n  @PastOrPresent\r\n  @JsonFormat(pattern = &quot;yyyy-MM-dd&quot;)\r\n  private LocalDate invoiceDate;\r\n\r\n  private InvoicesDTO invoices;\r\n```\r\n`\r\n`\r\n`\r\n```\r\n@Getter\r\n@Setter\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class InvoicesDTO implements List&lt;InvoicesDTO&gt; {\r\n\r\n    @NotNull(message = &quot;invoice Number can&#39;t be null&quot;)\r\n    private String invoiceNumber;\r\n\r\n    @NotNull(message = &quot;invoiceAmount can&#39;t be null&quot;)\r\n    private Double invoiceAmount; \r\n```\r\n`\r\n\r\n```\r\n try {\r\n  //Add the new amount of the invoice to an existing debts\r\n    Optional&lt;Debts&gt; debts = debtsRepository.findDebtsByPersonIdAndOrganization_id(invoiceDTO.getPersonId(),organization.get().getId());\r\n    Optional&lt;Madeen&gt; madeenOptional = madeenRepository.findByPersonId(invoiceDTO.getPersonId());\r\n\r\n  List&lt;InvoicesDTO&gt; invoicesDTO = invoiceDTO.getInvoices();\r\n\r\n  for (InvoicesDTO invoices : invoicesDTO) {  //The error is here\r\n      Debts newDebt = new Debts(); //Only debts\r\n      newDebt.setPersonId(invoiceDTO.getPersonId());\r\n      newDebt.setCreatedDate(LocalDate.now());\r\n      newDebt.setUpdatedDate(invoiceDTO.getInvoiceDate());\r\n      newDebt.setDebtAmount(invoices.getInvoiceAmount());\r\n      newDebt.setInvoiceNumber(invoices.getInvoiceNumber());\r\n      newDebt.setOrganization(organization.get());\r\n      debtsRepository.save(newDebt);\r\n    }\r\n```\r\n`","title":"Json with json object nested Error: Cannot invoke &quot;java.util.Iterator.hasNext()&quot; because &quot;&lt;local8&gt;&quot; is null","body":"<p>I have a json file that has some parmeters with a nested object in it. And I'm trying to save this json file to the database. Altough I keep reciving this Exception:</p>\n<p>&quot; Cannot invoke &quot;java.util.Iterator.hasNext()&quot; because &quot;&quot; is null&quot;</p>\n<p>`</p>\n<pre><code>\n{\n        &quot;personId&quot; : &quot;1xxxxxxx&quot;,\n        &quot;invoiceDate&quot; : &quot;2020-10-12&quot;,\n        &quot;invoices&quot;:[\n            {\n            &quot;invoiceAmount&quot; :&quot;300&quot;,\n            &quot;invoiceNumber&quot; :&quot;x123&quot;\n            },\n        {\n            &quot;invoiceAmount&quot; :&quot;100&quot;,\n            &quot;invoiceNumber&quot; :&quot;x122&quot;\n        }\n        ],   \n}\n</code></pre>\n<p>`</p>\n<p>So to insert an object in my DTO that has an array of (Invoices) I created an Object name invoices of type InvoicesDTO, then I tried to itirate through these Object everytime a request will be reviced using this API. But Still I get this error.</p>\n<p>the dto's for Invoice and invoices:</p>\n<pre><code>`\n\n@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\npublic class InvoiceDTO {\n  @NotNull(message = &quot;PersonId can't be null&quot;)\n  @PersonId\n  private String personId;\n\n  @NotNull(message = &quot;invoiceDate can't be null&quot;)\n  // @DateTimeFormat(iso = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;))\n  @PastOrPresent\n  @JsonFormat(pattern = &quot;yyyy-MM-dd&quot;)\n  private LocalDate invoiceDate;\n\n  private InvoicesDTO invoices;\n</code></pre>\n<p><code> </code>\n`</p>\n<pre><code>@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\npublic class InvoicesDTO implements List&lt;InvoicesDTO&gt; {\n\n    @NotNull(message = &quot;invoice Number can't be null&quot;)\n    private String invoiceNumber;\n\n    @NotNull(message = &quot;invoiceAmount can't be null&quot;)\n    private Double invoiceAmount; \n</code></pre>\n<p>`</p>\n<pre><code> try {\n  //Add the new amount of the invoice to an existing debts\n    Optional&lt;Debts&gt; debts = debtsRepository.findDebtsByPersonIdAndOrganization_id(invoiceDTO.getPersonId(),organization.get().getId());\n    Optional&lt;Madeen&gt; madeenOptional = madeenRepository.findByPersonId(invoiceDTO.getPersonId());\n\n  List&lt;InvoicesDTO&gt; invoicesDTO = invoiceDTO.getInvoices();\n\n  for (InvoicesDTO invoices : invoicesDTO) {  //The error is here\n      Debts newDebt = new Debts(); //Only debts\n      newDebt.setPersonId(invoiceDTO.getPersonId());\n      newDebt.setCreatedDate(LocalDate.now());\n      newDebt.setUpdatedDate(invoiceDTO.getInvoiceDate());\n      newDebt.setDebtAmount(invoices.getInvoiceAmount());\n      newDebt.setInvoiceNumber(invoices.getInvoiceNumber());\n      newDebt.setOrganization(organization.get());\n      debtsRepository.save(newDebt);\n    }\n</code></pre>\n<p>`</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":1,"creation_date":1668435162,"post_id":74432785,"comment_id":131397339,"body_markdown":"@chptr-one Please take the [tour] to learn how Stack Overflow works and read [ask] on how to improve the quality of your question.\nThen [edit] your question to include your source code as a working [mcve], which can be compiled and tested by others.\nAlso add your code to the question itself, not on an external site. Currently your code results in a StackOverflowError. Also, keep in mind that you are using random numbers and you could simply have &quot;bad luck&quot; in generating a `Leaf` or a `Node` instance.","body":"@chptr-one Please take the <a href=\"https://stackoverflow.com/tour\">tour</a> to learn how Stack Overflow works and read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> on how to improve the quality of your question. Then <a href=\"https://stackoverflow.com/posts/74432785/edit\">edit</a> your question to include your source code as a working <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, which can be compiled and tested by others. Also add your code to the question itself, not on an external site. Currently your code results in a StackOverflowError. Also, keep in mind that you are using random numbers and you could simply have &quot;bad luck&quot; in generating a <code>Leaf</code> or a <code>Node</code> instance."},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1668435604,"post_id":74432785,"comment_id":131397513,"body_markdown":"@chptr-one Please [edit] your question to include the trees you want to build. Provide example trees with a big enough number of operators to use. Explain in detail how and why the trees should generate the `Leaf` and `Node` instances in such a way and how you want them.","body":"@chptr-one Please <a href=\"https://stackoverflow.com/posts/74432785/edit\">edit</a> your question to include the trees you want to build. Provide example trees with a big enough number of operators to use. Explain in detail how and why the trees should generate the <code>Leaf</code> and <code>Node</code> instances in such a way and how you want them."},{"owner":{"account_id":18911549,"reputation":600,"user_id":13797513,"display_name":"chptr-one"},"score":0,"creation_date":1668437271,"post_id":74432785,"comment_id":131398151,"body_markdown":"@Progman I fixed a problem with StackOverflowException","body":"@Progman I fixed a problem with StackOverflowException"},{"owner":{"account_id":18911549,"reputation":600,"user_id":13797513,"display_name":"chptr-one"},"score":0,"creation_date":1668438800,"post_id":74432785,"comment_id":131398765,"body_markdown":"@Progman I tested this generator on two hundred expressions and I have never received two operators at one depth of a tree. Only a `Leaf` with the `Node` in two possible combinations. This is clearly not my bad luck.","body":"@Progman I tested this generator on two hundred expressions and I have never received two operators at one depth of a tree. Only a <code>Leaf</code> with the <code>Node</code> in two possible combinations. This is clearly not my bad luck."}],"answers":[{"tags":[],"owner":{"account_id":7971577,"reputation":3673,"user_id":6016064,"accept_rate":71,"display_name":"Edward Peters"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1668436241,"creation_date":1668435772,"answer_id":74433150,"question_id":74432785,"body_markdown":"It&#39;s going to be very difficult to get balanced trees this way - you have to tune it very carefully for the left tree to probably give you half the operators. I don&#39;t think it&#39;s worth it.\r\n\r\nInstead, I would pick the target number of operators at the top level - that would be a minimum plus some random range to generate larger or smaller expressions - and then randomly assign some of them to each subtree. So you have a recursive call that takes a `size` parameter; if `size==0`, generate a leaf, otherwise make a node, and split `size-1` into a `leftSize` and `rightSize` to pass to the recursive calls.\r\n\r\nHere&#39;s some rough pseudocode (I don&#39;t write much Java these days, but hopefully it makes the algorithm clear)\r\n\r\n    private Expression build(int size){\r\n      if (size == 0) return buildLeaf()\r\n      else {\r\n        leftSize = randomInt(size-1)\r\n        rightSize = size - 1 - leftSize\r\n        leftTree = build(leftSize)\r\n        rightTree = build(rightSize)\r\n        return buildNode(leftTree, rightTree, getRandomOperator())\r\n       }\r\n    }\r\n\r\nDoes that make sense and work for you?","title":"Recursive generator of random algebraic expressions tree issue","body":"<p>It's going to be very difficult to get balanced trees this way - you have to tune it very carefully for the left tree to probably give you half the operators. I don't think it's worth it.</p>\n<p>Instead, I would pick the target number of operators at the top level - that would be a minimum plus some random range to generate larger or smaller expressions - and then randomly assign some of them to each subtree. So you have a recursive call that takes a <code>size</code> parameter; if <code>size==0</code>, generate a leaf, otherwise make a node, and split <code>size-1</code> into a <code>leftSize</code> and <code>rightSize</code> to pass to the recursive calls.</p>\n<p>Here's some rough pseudocode (I don't write much Java these days, but hopefully it makes the algorithm clear)</p>\n<pre><code>private Expression build(int size){\n  if (size == 0) return buildLeaf()\n  else {\n    leftSize = randomInt(size-1)\n    rightSize = size - 1 - leftSize\n    leftTree = build(leftSize)\n    rightTree = build(rightSize)\n    return buildNode(leftTree, rightTree, getRandomOperator())\n   }\n}\n</code></pre>\n<p>Does that make sense and work for you?</p>\n"},{"tags":[],"owner":{"account_id":18911549,"reputation":600,"user_id":13797513,"display_name":"chptr-one"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668680547,"creation_date":1668510513,"answer_id":74444601,"question_id":74432785,"body_markdown":"I rewritten my method, as [Edward Peters](https://stackoverflow.com/users/6016064/edward-peters) suggested. \r\n\r\nAt each step of recursion, I randomly determine how many `Node`&#39;s will be in the left and right trees (the sum of these numbers at the first step should be equal to the required number of operators in the expression), and return the `Leaf` if the number of nodes turns out to zero.\r\n\r\nIt&#39;s work just fine.\r\n```\r\npublic Expression build(int numberOfOperators) {                                                         \r\n    if (numberOfOperators == 0) return randomLeaf();                                                     \r\n                                                                                                         \r\n    int leftNodes = random.nextInt(numberOfOperators);                                                   \r\n    int rightNodes = numberOfOperators - leftNodes - 1;                                                  \r\n                                                                                            \r\n    return new Node(randomOperator(), build(leftNodes), build(rightNodes));                                                      \r\n}                                                                                                        \r\n```\r\nOne example of resulting expression tree:\r\n```\r\n5 + 5 - (4 + 7) = -1\r\n\r\n   -                   Node\r\n +   +    or     Node        Node\r\n5 5 4 7       Leaf  Leaf  Leaf  Leaf\r\n\r\n```","title":"Recursive generator of random algebraic expressions tree issue","body":"<p>I rewritten my method, as <a href=\"https://stackoverflow.com/users/6016064/edward-peters\">Edward Peters</a> suggested.</p>\n<p>At each step of recursion, I randomly determine how many <code>Node</code>'s will be in the left and right trees (the sum of these numbers at the first step should be equal to the required number of operators in the expression), and return the <code>Leaf</code> if the number of nodes turns out to zero.</p>\n<p>It's work just fine.</p>\n<pre><code>public Expression build(int numberOfOperators) {                                                         \n    if (numberOfOperators == 0) return randomLeaf();                                                     \n                                                                                                         \n    int leftNodes = random.nextInt(numberOfOperators);                                                   \n    int rightNodes = numberOfOperators - leftNodes - 1;                                                  \n                                                                                            \n    return new Node(randomOperator(), build(leftNodes), build(rightNodes));                                                      \n}                                                                                                        \n</code></pre>\n<p>One example of resulting expression tree:</p>\n<pre><code>5 + 5 - (4 + 7) = -1\n\n   -                   Node\n +   +    or     Node        Node\n5 5 4 7       Leaf  Leaf  Leaf  Leaf\n\n</code></pre>\n"}],"owner":{"account_id":18911549,"reputation":600,"user_id":13797513,"display_name":"chptr-one"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":113,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":74433150,"answer_count":2,"score":1,"last_activity_date":1668680547,"creation_date":1668434170,"question_id":74432785,"body_markdown":"# Problem description\r\n\r\nI am trying to write a math test for my little son. \r\nSuch test must generate a list of random algebraic expressions according to certain rules and check the correctness of solution.\r\n\r\nIn particular, I want to generate expressions consisting strictly of a given number of operators that are selected from a certain list. \r\nFor example *generate a list of expression consisting of 3 operators of addition and subtraction in random order* like:  \r\n \r\n- 12 - (5 + 2) + 2\r\n- 3 + 4 - 2 + 10\r\n- and so on\r\n\r\nTo represent and calculate the expression, I use the *binary expression tree* structure. \r\nEach tree consists of either a `Leaf` or a `Node` that contains an `Operator` and two subtrees.\r\nThis is a simple recursive structure and I want to work with it only recursively.\r\nNo setters in the classes of the tree. I can only use constructors to create a tree.\r\n\r\n#### Leaf class\r\n\r\n```\r\npublic final class Leaf implements Expression {\r\n\r\n    private final int value;\r\n    \r\n    public Leaf(int value) {\r\n        this.value = value;\r\n    }\r\n    \r\n    // ...\r\n}\r\n```\r\n\r\n#### Node Class\r\n```\r\npublic final class Node implements Expression {\r\n\r\n    private final Operator operator;\r\n    private final Expression left;\r\n    private final Expression right;\r\n    \r\n    public Node(@NotNull Operator operator, \r\n                @NotNull Expression left,\r\n                @NotNull Expression right) {\r\n        this.operator = operator;\r\n        this.left = left;\r\n        this.right = right;\r\n    }\r\n    \r\n    // ...\r\n}\r\n\r\n```\r\nAnd `Operator` is a simple `Enum` type. I simplify my classes for the purposes of this question.\r\n\r\n# My issue\r\nI am trying to build an expression based on the following rules:\r\n- There should be at least one operator in the expression, so my tree always starts from the `Node`.\r\n- I choose a random operator from a given list and increase the number of operators used\r\n- While this number less than the given number of operators I construct the left and rights subtree for current `Node`.\r\n- The left subtree can be randomly either a `Leaf` or `Node`\r\n- The right subtree can also be either a `Leaf` or `Node`, but if the left subtree is a `Leaf` and there are still unused operators, then the right must be a `Node`.\r\n\r\nI wrote such an expression builder:\r\n```\r\npublic class SmartExpressionBuilder {\r\n\r\n    private final Random random = ThreadLocalRandom.current();\r\n    private final List&lt;Operator&gt; allowedOperators;\r\n    private final int numberOfOperators;\r\n\r\n    public SmartExpressionBuilder(List&lt;Operator&gt; allowedOperators, int numberOfOperators) {\r\n        this.allowedOperators = allowedOperators;\r\n        this.numberOfOperators = numberOfOperators;\r\n    }\r\n\r\n    private int operatorsUsed;\r\n\r\n    public Expression build() {\r\n        operatorsUsed = 0;\r\n        return helper();\r\n    }\r\n\r\n    private Expression helper() {\r\n        if (operatorsUsed == numberOfOperators) return randomLeaf();\r\n\r\n        Operator op = randomOperator();\r\n\r\n        Expression left = random.nextBoolean() ? helper() : randomLeaf();\r\n        Expression right = (left instanceof Leaf || random.nextBoolean()) ? helper() : randomLeaf();\r\n\r\n        return new Node(op, left, right);\r\n    }\r\n\r\n    private Operator randomOperator() {\r\n        operatorsUsed++;\r\n        return allowedOperators.get(random.nextInt(allowedOperators.size()));\r\n    }\r\n\r\n    private Leaf randomLeaf() {\r\n        return new Leaf(random.nextInt(1, 10));\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        final var builder = new SmartExpressionBuilder(List.of(Operator.ADD, Operator.SUB), 4);\r\n        IntStream.range(0, 10)\r\n                .mapToObj(ignored -&gt; builder.build())\r\n                .forEach(exp -&gt; {\r\n                    System.out.printf(&quot;%s = %d%n&quot;, exp.infix(), exp.evaluate());\r\n                    TreePrinter.print(exp);\r\n                });\r\n    }\r\n}\r\n\r\n```\r\nThis works in principle. In the sense that a tree really builds with a given number of operators.\r\nBut there&#39;s a problem.\r\nI get nodes looks like this:\r\n```ignorelang\r\n    Node                Node\r\n   /    \\      or      /    \\\r\n Leaf  Node          Node  Leaf\r\n```\r\nFor example my actual expression and tree may looks like this:\r\n```\r\n4 + 4 - (1 + 3) - 2 = 2\r\n            +\r\n    4               -\r\n                -       2\r\n              4   +        \r\n                 1 3        \r\n```\r\n\r\nbut i never get tree like this:\r\n\r\n```\r\n    Node                  +\r\n   /    \\        or    -     +\r\n Node  Node           5 2  2   -\r\n                              6 1\r\n```\r\n\r\n\r\nI understand what the essence of the problem is.\r\nIn my recursive function, I always go into the left tree first.\r\nAnd every time my random generates an the `Node` is in the left subtree, and not the `Leaf`, recursion dive deeper and deeper int the left subtree until unused operators ends.\r\nThis means that if an `Node` appeared in the left subtree, then `Node` cannot appear in the right at the same depths of tree.\r\n\r\nI broke my brain, but did not figure out how to solve this problem without abandoning the recursive construction of my tree.\r\n\r\nI would be very grateful for any ideas how build nodes of this kind\r\n\r\n```\r\n    Node\r\n   /    \\\r\n Node  Node\r\n```\r\n","title":"Recursive generator of random algebraic expressions tree issue","body":"<h1>Problem description</h1>\n<p>I am trying to write a math test for my little son.\nSuch test must generate a list of random algebraic expressions according to certain rules and check the correctness of solution.</p>\n<p>In particular, I want to generate expressions consisting strictly of a given number of operators that are selected from a certain list.\nFor example <em>generate a list of expression consisting of 3 operators of addition and subtraction in random order</em> like:</p>\n<ul>\n<li>12 - (5 + 2) + 2</li>\n<li>3 + 4 - 2 + 10</li>\n<li>and so on</li>\n</ul>\n<p>To represent and calculate the expression, I use the <em>binary expression tree</em> structure.\nEach tree consists of either a <code>Leaf</code> or a <code>Node</code> that contains an <code>Operator</code> and two subtrees.\nThis is a simple recursive structure and I want to work with it only recursively.\nNo setters in the classes of the tree. I can only use constructors to create a tree.</p>\n<h4>Leaf class</h4>\n<pre><code>public final class Leaf implements Expression {\n\n    private final int value;\n    \n    public Leaf(int value) {\n        this.value = value;\n    }\n    \n    // ...\n}\n</code></pre>\n<h4>Node Class</h4>\n<pre><code>public final class Node implements Expression {\n\n    private final Operator operator;\n    private final Expression left;\n    private final Expression right;\n    \n    public Node(@NotNull Operator operator, \n                @NotNull Expression left,\n                @NotNull Expression right) {\n        this.operator = operator;\n        this.left = left;\n        this.right = right;\n    }\n    \n    // ...\n}\n\n</code></pre>\n<p>And <code>Operator</code> is a simple <code>Enum</code> type. I simplify my classes for the purposes of this question.</p>\n<h1>My issue</h1>\n<p>I am trying to build an expression based on the following rules:</p>\n<ul>\n<li>There should be at least one operator in the expression, so my tree always starts from the <code>Node</code>.</li>\n<li>I choose a random operator from a given list and increase the number of operators used</li>\n<li>While this number less than the given number of operators I construct the left and rights subtree for current <code>Node</code>.</li>\n<li>The left subtree can be randomly either a <code>Leaf</code> or <code>Node</code></li>\n<li>The right subtree can also be either a <code>Leaf</code> or <code>Node</code>, but if the left subtree is a <code>Leaf</code> and there are still unused operators, then the right must be a <code>Node</code>.</li>\n</ul>\n<p>I wrote such an expression builder:</p>\n<pre><code>public class SmartExpressionBuilder {\n\n    private final Random random = ThreadLocalRandom.current();\n    private final List&lt;Operator&gt; allowedOperators;\n    private final int numberOfOperators;\n\n    public SmartExpressionBuilder(List&lt;Operator&gt; allowedOperators, int numberOfOperators) {\n        this.allowedOperators = allowedOperators;\n        this.numberOfOperators = numberOfOperators;\n    }\n\n    private int operatorsUsed;\n\n    public Expression build() {\n        operatorsUsed = 0;\n        return helper();\n    }\n\n    private Expression helper() {\n        if (operatorsUsed == numberOfOperators) return randomLeaf();\n\n        Operator op = randomOperator();\n\n        Expression left = random.nextBoolean() ? helper() : randomLeaf();\n        Expression right = (left instanceof Leaf || random.nextBoolean()) ? helper() : randomLeaf();\n\n        return new Node(op, left, right);\n    }\n\n    private Operator randomOperator() {\n        operatorsUsed++;\n        return allowedOperators.get(random.nextInt(allowedOperators.size()));\n    }\n\n    private Leaf randomLeaf() {\n        return new Leaf(random.nextInt(1, 10));\n    }\n\n    public static void main(String[] args) {\n        final var builder = new SmartExpressionBuilder(List.of(Operator.ADD, Operator.SUB), 4);\n        IntStream.range(0, 10)\n                .mapToObj(ignored -&gt; builder.build())\n                .forEach(exp -&gt; {\n                    System.out.printf(&quot;%s = %d%n&quot;, exp.infix(), exp.evaluate());\n                    TreePrinter.print(exp);\n                });\n    }\n}\n\n</code></pre>\n<p>This works in principle. In the sense that a tree really builds with a given number of operators.\nBut there's a problem.\nI get nodes looks like this:</p>\n<pre><code>    Node                Node\n   /    \\      or      /    \\\n Leaf  Node          Node  Leaf\n</code></pre>\n<p>For example my actual expression and tree may looks like this:</p>\n<pre><code>4 + 4 - (1 + 3) - 2 = 2\n            +\n    4               -\n                -       2\n              4   +        \n                 1 3        \n</code></pre>\n<p>but i never get tree like this:</p>\n<pre><code>    Node                  +\n   /    \\        or    -     +\n Node  Node           5 2  2   -\n                              6 1\n</code></pre>\n<p>I understand what the essence of the problem is.\nIn my recursive function, I always go into the left tree first.\nAnd every time my random generates an the <code>Node</code> is in the left subtree, and not the <code>Leaf</code>, recursion dive deeper and deeper int the left subtree until unused operators ends.\nThis means that if an <code>Node</code> appeared in the left subtree, then <code>Node</code> cannot appear in the right at the same depths of tree.</p>\n<p>I broke my brain, but did not figure out how to solve this problem without abandoning the recursive construction of my tree.</p>\n<p>I would be very grateful for any ideas how build nodes of this kind</p>\n<pre><code>    Node\n   /    \\\n Node  Node\n</code></pre>\n"},{"tags":["java","intellij-idea","nullpointerexception"],"comments":[{"owner":{"account_id":3137088,"reputation":13783,"user_id":2653390,"accept_rate":86,"display_name":"Shashank"},"score":0,"creation_date":1425522764,"post_id":28868992,"comment_id":46002245,"body_markdown":"https://www.jetbrains.com/idea/documentation/howto.html","body":"<a href=\"https://www.jetbrains.com/idea/documentation/howto.html\" rel=\"nofollow noreferrer\">jetbrains.com/idea/documentation/howto.html</a>"},{"owner":{"account_id":24269,"reputation":63221,"user_id":61624,"accept_rate":60,"display_name":"Daniel Kaplan"},"score":0,"creation_date":1425522932,"post_id":28868992,"comment_id":46002285,"body_markdown":"@Shashank I&#39;ll read that, but I don&#39;t think `getResource` uses annotations.","body":"@Shashank I&#39;ll read that, but I don&#39;t think <code>getResource</code> uses annotations."},{"owner":{"account_id":3137088,"reputation":13783,"user_id":2653390,"accept_rate":86,"display_name":"Shashank"},"score":1,"creation_date":1425523484,"post_id":28868992,"comment_id":46002438,"body_markdown":"That&#39;s a good point...Here&#39;s another link I found: https://www.jetbrains.com/idea/documentation/static_code_analysis.html This talks about IntelliJ&#39;s static code analysis features and it seems to have a section on managing static code analysis through custom inspection profiles...Hope this helps.","body":"That&#39;s a good point...Here&#39;s another link I found: <a href=\"https://www.jetbrains.com/idea/documentation/static_code_analysis.html\" rel=\"nofollow noreferrer\">jetbrains.com/idea/documentation/static_code_analysis.html</a> This talks about IntelliJ&#39;s static code analysis features and it seems to have a section on managing static code analysis through custom inspection profiles...Hope this helps."},{"owner":{"account_id":22194,"reputation":18092,"user_id":54506,"accept_rate":78,"display_name":"Jayan"},"score":0,"creation_date":1425532300,"post_id":28868992,"comment_id":46004549,"body_markdown":"What about integrating with findbug or the likes? Would that helps?","body":"What about integrating with findbug or the likes? Would that helps?"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1425546738,"post_id":28868992,"comment_id":46010356,"body_markdown":"Practically any code can cause an NPE.","body":"Practically any code can cause an NPE."},{"owner":{"account_id":309762,"reputation":8409,"user_id":622391,"display_name":"Simon MKenzie"},"score":0,"creation_date":1427768233,"post_id":28868992,"comment_id":46903210,"body_markdown":"IntelliJ allows you to create your own `annotations.xml` containing custom annotations: https://www.jetbrains.com/idea/help/external-annotations.html","body":"IntelliJ allows you to create your own <code>annotations.xml</code> containing custom annotations: <a href=\"https://www.jetbrains.com/idea/help/external-annotations.html\" rel=\"nofollow noreferrer\">jetbrains.com/idea/help/external-annotations.html</a>"}],"answers":[{"tags":[],"owner":{"account_id":902492,"reputation":4160,"user_id":938246,"display_name":"Nader Ghanbari"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1425540867,"creation_date":1425540867,"answer_id":28872362,"question_id":28868992,"body_markdown":"## IntelliJ IDEA Inspections ##\r\nOne way is to use [Inspections](https://www.jetbrains.com/idea/help/code-inspection.html?search=inspection).\r\n\r\nProvided that the code is annotated by `@Nullable` annotations you can use inspections:\r\n\r\n![Analyze menu][1]\r\n\r\nAnd then choose `Run Inspection by Name`:\r\n\r\n![@Nullable problems][2]\r\n\r\nThen you can choose the scope (Project, Tests, etc.)\r\n\r\n![enter image description here][3]\r\n\r\nResults will be shown in inspection tab:\r\n\r\n![enter image description here][4]\r\n\r\n## Nullable How-To ##\r\nYou can find more on this in [Nullable How-To](https://www.jetbrains.com/idea/documentation/howto.html)\r\n\r\n  [1]: http://i.stack.imgur.com/zSxuk.png\r\n  [2]: http://i.stack.imgur.com/XQDHf.png\r\n  [3]: http://i.stack.imgur.com/5g5eN.png\r\n  [4]: http://i.stack.imgur.com/dGUl8.png","title":"Is there a way to get Intellij to warn me that this code may cause a NullPointerException?","body":"<h2>IntelliJ IDEA Inspections</h2>\n\n<p>One way is to use <a href=\"https://www.jetbrains.com/idea/help/code-inspection.html?search=inspection\" rel=\"nofollow noreferrer\">Inspections</a>.</p>\n\n<p>Provided that the code is annotated by <code>@Nullable</code> annotations you can use inspections:</p>\n\n<p><img src=\"https://i.stack.imgur.com/zSxuk.png\" alt=\"Analyze menu\"></p>\n\n<p>And then choose <code>Run Inspection by Name</code>:</p>\n\n<p><img src=\"https://i.stack.imgur.com/XQDHf.png\" alt=\"@Nullable problems\"></p>\n\n<p>Then you can choose the scope (Project, Tests, etc.)</p>\n\n<p><img src=\"https://i.stack.imgur.com/5g5eN.png\" alt=\"enter image description here\"></p>\n\n<p>Results will be shown in inspection tab:</p>\n\n<p><img src=\"https://i.stack.imgur.com/dGUl8.png\" alt=\"enter image description here\"></p>\n\n<h2>Nullable How-To</h2>\n\n<p>You can find more on this in <a href=\"https://www.jetbrains.com/idea/documentation/howto.html\" rel=\"nofollow noreferrer\">Nullable How-To</a></p>\n"},{"tags":[],"owner":{"account_id":1004640,"reputation":16474,"user_id":4560142,"display_name":"Vojtech Ruzicka"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1426179406,"creation_date":1425653362,"answer_id":28901286,"question_id":28868992,"body_markdown":"Intellij idea can detect where @Nullable and @NotNull annotations are appropriate and [automatically insert them][1]. This can be done with\r\n\r\n&gt; Analyze -&gt; Infer Nullity\r\n\r\nThis way you can automatically add these annotations to current file, uncommited files or various other scopes.\r\n\r\nDisadvantage of this approach is that you have to have control over the code you are analyzing, so you cannot use it for third party code. Starting with Intellij Idea 14, there is a feature called [Automatic @NotNull/@Nullable/@Contract inference][2]. This feature is active in intellij idea 14 by default. Idea analyzes the source code and automatically detects whether there should be @Nullable or @NotNull annotation. The key difference from infer nullity is that it actually does not insert the anotation to the code itself, but only displays contract information on the left editor bar. This is especially good if you are working with third party libraries or do not want proprietary jetbrains annotations in your code.\r\n\r\n![Auto-inferred @NotNull annotations][3]\r\n\r\n**UPDATE:**\r\n\r\nNote that @Nullable annotation is no longer automatically inferred asit resulted in too many false positives https://youtrack.jetbrains.com/issue/IDEA-130063#comment=27-812471\r\n \r\n\r\nAlso, according [a comment][4] by Peter Gromov for this author of the [post mentioned above][5], not all methods are inferred by this feature \r\n\r\n&gt; Please also note that contracts are not inferred for methods that can\r\n&gt; be overridden, i.e. non-static non-private non-final methods dont\r\n&gt; have contracts.\r\n\r\n\r\n  [1]: http://blog.jetbrains.com/idea/2010/12/auto-infer-nullablenotnull-annotations/\r\n  [2]: http://blog.jetbrains.com/idea/2014/10/automatic-notnullnullablecontract-inference-in-intellij-idea-14/\r\n  [3]: http://i.stack.imgur.com/yXAdE.png\r\n  [4]: http://blog.jetbrains.com/idea/2014/10/automatic-notnullnullablecontract-inference-in-intellij-idea-14/#comment-269959\r\n  [5]: http://blog.jetbrains.com/idea/2014/10/automatic-notnullnullablecontract-inference-in-intellij-idea-14/","title":"Is there a way to get Intellij to warn me that this code may cause a NullPointerException?","body":"<p>Intellij idea can detect where @Nullable and @NotNull annotations are appropriate and <a href=\"http://blog.jetbrains.com/idea/2010/12/auto-infer-nullablenotnull-annotations/\" rel=\"nofollow noreferrer\">automatically insert them</a>. This can be done with</p>\n\n<blockquote>\n  <p>Analyze -> Infer Nullity</p>\n</blockquote>\n\n<p>This way you can automatically add these annotations to current file, uncommited files or various other scopes.</p>\n\n<p>Disadvantage of this approach is that you have to have control over the code you are analyzing, so you cannot use it for third party code. Starting with Intellij Idea 14, there is a feature called <a href=\"http://blog.jetbrains.com/idea/2014/10/automatic-notnullnullablecontract-inference-in-intellij-idea-14/\" rel=\"nofollow noreferrer\">Automatic @NotNull/@Nullable/@Contract inference</a>. This feature is active in intellij idea 14 by default. Idea analyzes the source code and automatically detects whether there should be @Nullable or @NotNull annotation. The key difference from infer nullity is that it actually does not insert the anotation to the code itself, but only displays contract information on the left editor bar. This is especially good if you are working with third party libraries or do not want proprietary jetbrains annotations in your code.</p>\n\n<p><img src=\"https://i.stack.imgur.com/yXAdE.png\" alt=\"Auto-inferred @NotNull annotations\"></p>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>Note that @Nullable annotation is no longer automatically inferred asit resulted in too many false positives <a href=\"https://youtrack.jetbrains.com/issue/IDEA-130063#comment=27-812471\" rel=\"nofollow noreferrer\">https://youtrack.jetbrains.com/issue/IDEA-130063#comment=27-812471</a></p>\n\n<p>Also, according <a href=\"http://blog.jetbrains.com/idea/2014/10/automatic-notnullnullablecontract-inference-in-intellij-idea-14/#comment-269959\" rel=\"nofollow noreferrer\">a comment</a> by Peter Gromov for this author of the <a href=\"http://blog.jetbrains.com/idea/2014/10/automatic-notnullnullablecontract-inference-in-intellij-idea-14/\" rel=\"nofollow noreferrer\">post mentioned above</a>, not all methods are inferred by this feature </p>\n\n<blockquote>\n  <p>Please also note that contracts are not inferred for methods that can\n  be overridden, i.e. non-static non-private non-final methods dont\n  have contracts.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":10517283,"reputation":998,"user_id":7750999,"display_name":"Caffeine Coder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668680331,"creation_date":1668680331,"answer_id":74473704,"question_id":28868992,"body_markdown":"1. Right click on your current class &gt;&gt; analyze &gt;&gt; run inspection by name &gt;&gt; choose &#39;constant condition &amp; exception&#39;  &#39;Java||Probable bugs&#39;\r\n\r\n2. Choose what you want to inspect and press ok.\r\n\r\n3. In problems window, you will see suggestions offered by Intellij.","title":"Is there a way to get Intellij to warn me that this code may cause a NullPointerException?","body":"<ol>\n<li><p>Right click on your current class &gt;&gt; analyze &gt;&gt; run inspection by name &gt;&gt; choose 'constant condition &amp; exception'  'Java||Probable bugs'</p>\n</li>\n<li><p>Choose what you want to inspect and press ok.</p>\n</li>\n<li><p>In problems window, you will see suggestions offered by Intellij.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":24269,"reputation":63221,"user_id":61624,"accept_rate":60,"display_name":"Daniel Kaplan"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4775,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":3,"score":10,"last_activity_date":1668680331,"creation_date":1425522665,"question_id":28868992,"body_markdown":"Is there a way to get Intellij to warn me that this may cause a NullPointerException? \r\n\r\n    URL resource = Main.class.getResource(&quot;blah/ha&quot;);\r\n    System.out.println(resource.getAuthority());  //potential NPE here\r\n\r\nIntellij is great at warning me about stupid things I&#39;m doing.  Is there a way it can warn me about the potential NPE here?  \r\n\r\nPlease be aware that **`getResources` does not have any of those null/notnull annotations on it**.  At least not in JDK 1.7 which is what I&#39;m using.","title":"Is there a way to get Intellij to warn me that this code may cause a NullPointerException?","body":"<p>Is there a way to get Intellij to warn me that this may cause a NullPointerException? </p>\n\n<pre><code>URL resource = Main.class.getResource(\"blah/ha\");\nSystem.out.println(resource.getAuthority());  //potential NPE here\n</code></pre>\n\n<p>Intellij is great at warning me about stupid things I'm doing.  Is there a way it can warn me about the potential NPE here?  </p>\n\n<p>Please be aware that <strong><code>getResources</code> does not have any of those null/notnull annotations on it</strong>.  At least not in JDK 1.7 which is what I'm using.</p>\n"},{"tags":["java","android","adb"],"answers":[{"tags":[],"owner":{"account_id":2246691,"reputation":26575,"user_id":1979882,"accept_rate":90,"display_name":"Vyacheslav"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1484914477,"creation_date":1484914477,"answer_id":41763465,"question_id":41763379,"body_markdown":"this should work\r\n\r\n\r\n    ProcessBuilder pb = new ProcessBuilder(&quot;C:\\\\Users\\\\&lt;your user name&gt;\\\\AppData\\\\Local\\\\Android\\\\sdk\\\\platform-tools\\\\adb.exe&quot;, &quot;adb devices&quot;);\r\n\r\nDo not forget:\r\n `&lt;your user name&gt;` - set your name\r\n\r\nor put `C:\\Users\\&lt;your user name&gt;\\AppData\\Local\\Android\\sdk\\platform-tools\\` into windows `PATH` variable.\r\n","title":"Getting exception while running adb commands programmatically","body":"<p>this should work</p>\n\n<pre><code>ProcessBuilder pb = new ProcessBuilder(\"C:\\\\Users\\\\&lt;your user name&gt;\\\\AppData\\\\Local\\\\Android\\\\sdk\\\\platform-tools\\\\adb.exe\", \"adb devices\");\n</code></pre>\n\n<p>Do not forget:\n <code>&lt;your user name&gt;</code> - set your name</p>\n\n<p>or put <code>C:\\Users\\&lt;your user name&gt;\\AppData\\Local\\Android\\sdk\\platform-tools\\</code> into windows <code>PATH</code> variable.</p>\n"},{"tags":[],"owner":{"account_id":7006639,"reputation":163,"user_id":5370788,"display_name":"vv88"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1484920053,"creation_date":1484920053,"answer_id":41765173,"question_id":41763379,"body_markdown":"After a lot of help and suggestions from Vyacheslav over the chat here is the working solution for the community --&gt;\r\n\r\n    try \r\n    \t\t\t{\r\n    \t\t        \r\n    \t\t\t\tProcessBuilder pb = new ProcessBuilder(&quot;C:\\\\Users\\\\&lt;Your User Name Here&gt;\\\\AppData\\\\Local\\\\Android\\\\sdk\\\\platform-tools\\\\adb.exe&quot;, &quot;devices&quot;);\r\n    \t\t\t\t\r\n    \t\t\t\t//pb.redirectErrorStream(true); // can use these 2 line if you want to see output or errors in file.\r\n    \t\t\t\t//pb.redirectOutput(new File(&quot;C:/pbOutput.Txt&quot;));\r\n    \t\t\t\t\r\n    \t\t\t\tProcess p = pb.start();\r\n    \t\t\t\t\t\t\t\t\r\n    \t\t\t\twhile(p == null)\r\n    \t\t\t\t\tThread.sleep(1000);\r\n    \t\t\t\t\r\n    \t\t        BufferedReader in = new BufferedReader(new InputStreamReader(p.getInputStream()));\r\n    \t\t        \r\n    \t\t        String line = null;  \r\n    \r\n    \t\t        Pattern pattern = Pattern.compile(&quot;^([a-zA-Z0-9\\\\-]+)(\\\\s+)(device)&quot;);\r\n    \t\t        Matcher matcher;\r\n    \t\t        \r\n    \r\n    \t\t        while ((line = in.readLine()) != null) {  \r\n    \t\t            if (line.matches(pattern.pattern())) {\r\n    \t\t                matcher = pattern.matcher(line);\r\n    \t\t                if (matcher.find())\r\n    \t\t                    System.out.println(matcher.group(1));\r\n    \t\t            }\r\n    \t\t        }  \r\n    \t\t    } \r\n    \t\t\tcatch (IOException e) \r\n    \t\t\t{\r\n    \t\t        e.printStackTrace();\r\n    \t\t    }\r\n\r\nI just need to find out why &quot;adb devices&quot; did not work.","title":"Getting exception while running adb commands programmatically","body":"<p>After a lot of help and suggestions from Vyacheslav over the chat here is the working solution for the community --></p>\n\n<pre><code>try \n            {\n\n                ProcessBuilder pb = new ProcessBuilder(\"C:\\\\Users\\\\&lt;Your User Name Here&gt;\\\\AppData\\\\Local\\\\Android\\\\sdk\\\\platform-tools\\\\adb.exe\", \"devices\");\n\n                //pb.redirectErrorStream(true); // can use these 2 line if you want to see output or errors in file.\n                //pb.redirectOutput(new File(\"C:/pbOutput.Txt\"));\n\n                Process p = pb.start();\n\n                while(p == null)\n                    Thread.sleep(1000);\n\n                BufferedReader in = new BufferedReader(new InputStreamReader(p.getInputStream()));\n\n                String line = null;  \n\n                Pattern pattern = Pattern.compile(\"^([a-zA-Z0-9\\\\-]+)(\\\\s+)(device)\");\n                Matcher matcher;\n\n\n                while ((line = in.readLine()) != null) {  \n                    if (line.matches(pattern.pattern())) {\n                        matcher = pattern.matcher(line);\n                        if (matcher.find())\n                            System.out.println(matcher.group(1));\n                    }\n                }  \n            } \n            catch (IOException e) \n            {\n                e.printStackTrace();\n            }\n</code></pre>\n\n<p>I just need to find out why \"adb devices\" did not work.</p>\n"},{"tags":[],"owner":{"account_id":26524589,"reputation":7,"user_id":20157774,"display_name":"Sushil Pawar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668680143,"creation_date":1668680143,"answer_id":74473662,"question_id":41763379,"body_markdown":"This will for mac If yor are using zsh : \r\n\r\nRuntime.getRuntime().exec(new String[]{&quot;zsh&quot;, &quot;-l&quot;, &quot;-c&quot;, commands})\r\n\r\nin commands we can pass &quot;adb devices&quot; or another commands \r\n\r\nAt my end its working ","title":"Getting exception while running adb commands programmatically","body":"<p>This will for mac If yor are using zsh :</p>\n<p>Runtime.getRuntime().exec(new String[]{&quot;zsh&quot;, &quot;-l&quot;, &quot;-c&quot;, commands})</p>\n<p>in commands we can pass &quot;adb devices&quot; or another commands</p>\n<p>At my end its working</p>\n"}],"owner":{"account_id":7006639,"reputation":163,"user_id":5370788,"display_name":"vv88"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2952,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":3,"score":1,"last_activity_date":1668680143,"creation_date":1484914209,"question_id":41763379,"body_markdown":"I am trying to get list of adb devices through code but getting an exception when starting the ProcessBuilder.\r\n\r\n**Here is my Code --&gt;**\r\n\r\n    try {\r\n    \t\t        ProcessBuilder pb = new ProcessBuilder(&quot;adb.exe&quot;, &quot;adb devices&quot;);\r\n    \t\t\t\tpb.directory(new File(&quot;C:\\\\Users\\\\user\\\\AppData\\\\Local\\\\Android\\\\sdk\\\\platform-tools&quot;));\r\n    \t\t\t\t\r\n    \t\t\t\tProcess p = pb.start(); // here is the xception\r\n    \t\t        BufferedReader in = new BufferedReader(new InputStreamReader(p.getInputStream()));  \r\n    \t\t        String line = null;  \r\n    \r\n    \t\t        Pattern pattern = Pattern.compile(&quot;^([a-zA-Z0-9\\\\-]+)(\\\\s+)(device)&quot;);\r\n    \t\t        Matcher matcher;\r\n    \r\n    \t\t        while ((line = in.readLine()) != null) {  \r\n    \t\t            if (line.matches(pattern.pattern())) {\r\n    \t\t                matcher = pattern.matcher(line);\r\n    \t\t                if (matcher.find())\r\n    \t\t                    System.out.println(matcher.group(1));\r\n    \t\t            }\r\n    \t\t        } \r\n\r\n **Here is the Exception stacktrace --&gt;**\r\n\r\n&gt; java.io.IOException: Cannot run program &quot;adb.exe&quot; (in directory\r\n&gt; &quot;C:\\Users\\user\\AppData\\Local\\Android\\sdk\\platform-tools&quot;):\r\n&gt; CreateProcess error=2, The system cannot find the file specified \tat\r\n&gt; java.lang.ProcessBuilder.start(Unknown Source) \tat\r\n&gt; MainTest.Example.main(Example.java:45) Caused by: java.io.IOException:\r\n&gt; CreateProcess error=2, The system cannot find the file specified \tat\r\n&gt; java.lang.ProcessImpl.create(Native Method) \tat\r\n&gt; java.lang.ProcessImpl.&lt;init&gt;(Unknown Source) \tat\r\n&gt; java.lang.ProcessImpl.start(Unknown Source) \t... 2 more\r\n\r\nI have tried after changing commands in ProcessBuilder but no luck.\r\n\r\nNeed help please.","title":"Getting exception while running adb commands programmatically","body":"<p>I am trying to get list of adb devices through code but getting an exception when starting the ProcessBuilder.</p>\n\n<p><strong>Here is my Code --></strong></p>\n\n<pre><code>try {\n                ProcessBuilder pb = new ProcessBuilder(\"adb.exe\", \"adb devices\");\n                pb.directory(new File(\"C:\\\\Users\\\\user\\\\AppData\\\\Local\\\\Android\\\\sdk\\\\platform-tools\"));\n\n                Process p = pb.start(); // here is the xception\n                BufferedReader in = new BufferedReader(new InputStreamReader(p.getInputStream()));  \n                String line = null;  \n\n                Pattern pattern = Pattern.compile(\"^([a-zA-Z0-9\\\\-]+)(\\\\s+)(device)\");\n                Matcher matcher;\n\n                while ((line = in.readLine()) != null) {  \n                    if (line.matches(pattern.pattern())) {\n                        matcher = pattern.matcher(line);\n                        if (matcher.find())\n                            System.out.println(matcher.group(1));\n                    }\n                } \n</code></pre>\n\n<p><strong>Here is the Exception stacktrace --></strong></p>\n\n<blockquote>\n  <p>java.io.IOException: Cannot run program \"adb.exe\" (in directory\n  \"C:\\Users\\user\\AppData\\Local\\Android\\sdk\\platform-tools\"):\n  CreateProcess error=2, The system cannot find the file specified  at\n  java.lang.ProcessBuilder.start(Unknown Source)    at\n  MainTest.Example.main(Example.java:45) Caused by: java.io.IOException:\n  CreateProcess error=2, The system cannot find the file specified  at\n  java.lang.ProcessImpl.create(Native Method)   at\n  java.lang.ProcessImpl.(Unknown Source)  at\n  java.lang.ProcessImpl.start(Unknown Source)   ... 2 more</p>\n</blockquote>\n\n<p>I have tried after changing commands in ProcessBuilder but no luck.</p>\n\n<p>Need help please.</p>\n"},{"tags":["java","arrays","multidimensional-array","swap"],"answers":[{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668679667,"creation_date":1585171186,"answer_id":60857553,"question_id":60853490,"body_markdown":"You just need to swap the first row with the last row using the common swapping algorithm. Do it as follows:\r\n\r\n    import java.util.Arrays;\r\n    \r\n    public class NameSort {\r\n        public static void main(String[] args) {\r\n            int[][] array = {\r\n                    { 1, 2, 3 },\r\n                    { 2, 3, 4 },\r\n                    { 3, 4, 5 }\r\n            };\r\n            System.out.println(&quot;Original array: \\n&quot; + Arrays.deepToString(array));\r\n    \r\n            int[] temp = array[0];\r\n            array[0] = array[array.length - 1];\r\n            array[array.length - 1] = temp;\r\n            System.out.println(&quot;Updated array: \\n&quot; + Arrays.deepToString(array));\r\n        }\r\n    }\r\n\r\n**Output:**\r\n\r\n    Original array: \r\n    [[1, 2, 3], [2, 3, 4], [3, 4, 5]]\r\n    Updated array: \r\n    [[3, 4, 5], [2, 3, 4], [1, 2, 3]]\r\n\r\n","title":"How to change the first line of a 2d array with the last line?","body":"<p>You just need to swap the first row with the last row using the common swapping algorithm. Do it as follows:</p>\n<pre><code>import java.util.Arrays;\n\npublic class NameSort {\n    public static void main(String[] args) {\n        int[][] array = {\n                { 1, 2, 3 },\n                { 2, 3, 4 },\n                { 3, 4, 5 }\n        };\n        System.out.println(&quot;Original array: \\n&quot; + Arrays.deepToString(array));\n\n        int[] temp = array[0];\n        array[0] = array[array.length - 1];\n        array[array.length - 1] = temp;\n        System.out.println(&quot;Updated array: \\n&quot; + Arrays.deepToString(array));\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>Original array: \n[[1, 2, 3], [2, 3, 4], [3, 4, 5]]\nUpdated array: \n[[3, 4, 5], [2, 3, 4], [1, 2, 3]]\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user14940971"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1610546234,"creation_date":1610546234,"answer_id":65703405,"question_id":60853490,"body_markdown":"You can create standalone method for this purpose:\r\n```java\r\npublic static void swapRows(int[][] arr, int row1, int row2) {\r\n    int[] temp = arr[row1];\r\n    arr[row1] = arr[row2];\r\n    arr[row2] = temp;\r\n}\r\n```\r\n```java\r\npublic static void main(String[] args) {\r\n    int[][] arr = {\r\n            {1, 8, 4, 6, 9, 8, 7},\r\n            {1, 1, 1, 9, 8, 8, 5},\r\n            {1, 1, 1, 0, 1, 1, 1},\r\n            {1, 1, 1, 1, 1, 1, 1}};\r\n\r\n    swapRows(arr, 0, 3);\r\n\r\n    // output\r\n    Arrays.stream(arr).map(Arrays::toString).forEach(System.out::println);\r\n}\r\n```\r\nOutput:\r\n```\r\n[1, 1, 1, 1, 1, 1, 1]\r\n[1, 1, 1, 9, 8, 8, 5]\r\n[1, 1, 1, 0, 1, 1, 1]\r\n[1, 8, 4, 6, 9, 8, 7]\r\n```\r\n","title":"How to change the first line of a 2d array with the last line?","body":"<p>You can create standalone method for this purpose:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void swapRows(int[][] arr, int row1, int row2) {\n    int[] temp = arr[row1];\n    arr[row1] = arr[row2];\n    arr[row2] = temp;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    int[][] arr = {\n            {1, 8, 4, 6, 9, 8, 7},\n            {1, 1, 1, 9, 8, 8, 5},\n            {1, 1, 1, 0, 1, 1, 1},\n            {1, 1, 1, 1, 1, 1, 1}};\n\n    swapRows(arr, 0, 3);\n\n    // output\n    Arrays.stream(arr).map(Arrays::toString).forEach(System.out::println);\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>[1, 1, 1, 1, 1, 1, 1]\n[1, 1, 1, 9, 8, 8, 5]\n[1, 1, 1, 0, 1, 1, 1]\n[1, 8, 4, 6, 9, 8, 7]\n</code></pre>\n"}],"owner":{"account_id":18055049,"reputation":31,"user_id":13123731,"display_name":"Mihai012"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":268,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1668679667,"creation_date":1585155066,"question_id":60853490,"body_markdown":"So I have an 2-D array `A[4][7]`:\r\n```\r\n1 8 4 6 9 8 7\r\n1 1 1 9 8 8 5\r\n1 1 1 0 1 1 1\r\n1 1 1 1 1 1 1\r\n```\r\nHow can I change the first line with the last one?  \r\nTo look like this: \r\n```\r\n1 1 1 1 1 1 1\r\n1 1 1 9 8 8 5\r\n1 1 1 0 1 1 1\r\n1 8 4 6 9 8 7\r\n```\r\nIn Java\r\n","title":"How to change the first line of a 2d array with the last line?","body":"<p>So I have an 2-D array <code>A[4][7]</code>:</p>\n<pre><code>1 8 4 6 9 8 7\n1 1 1 9 8 8 5\n1 1 1 0 1 1 1\n1 1 1 1 1 1 1\n</code></pre>\n<p>How can I change the first line with the last one?<br />\nTo look like this:</p>\n<pre><code>1 1 1 1 1 1 1\n1 1 1 9 8 8 5\n1 1 1 0 1 1 1\n1 8 4 6 9 8 7\n</code></pre>\n<p>In Java</p>\n"},{"tags":["java","mongodb","spring-data-mongodb"],"comments":[{"owner":{"account_id":9150413,"reputation":4837,"user_id":6805190,"display_name":"dassum"},"score":0,"creation_date":1589721784,"post_id":61852306,"comment_id":109399737,"body_markdown":"what exceptions are you getting","body":"what exceptions are you getting"},{"owner":{"account_id":17963500,"reputation":311,"user_id":13053932,"display_name":"Ghiloufi"},"score":0,"creation_date":1589722407,"post_id":61852306,"comment_id":109399976,"body_markdown":"I didn&#39;t have any exceptions, but the data stays in mongodb.","body":"I didn&#39;t have any exceptions, but the data stays in mongodb."},{"owner":{"account_id":9150413,"reputation":4837,"user_id":6805190,"display_name":"dassum"},"score":0,"creation_date":1589725653,"post_id":61852306,"comment_id":109401256,"body_markdown":"can you execute patternRepository.findByName(patternName) and print the result to see if the results are coming.","body":"can you execute patternRepository.findByName(patternName) and print the result to see if the results are coming."},{"owner":{"account_id":17963500,"reputation":311,"user_id":13053932,"display_name":"Ghiloufi"},"score":0,"creation_date":1589748459,"post_id":61852306,"comment_id":109410532,"body_markdown":"yes, I received all the data. Since delete function doesn&#39;t work ,I used mongoTemplate remove function","body":"yes, I received all the data. Since delete function doesn&#39;t work ,I used mongoTemplate remove function"}],"answers":[{"tags":[],"owner":{"account_id":7632635,"reputation":463,"user_id":5787185,"accept_rate":22,"display_name":"Thanh Nhan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1627369954,"creation_date":1627369954,"answer_id":68540428,"question_id":61852306,"body_markdown":"Your data might have been created by other system, which use different presentation of &quot;_id&quot; (says `String`). With newer version of spring data mongodb, you can use `@MongoId` instead of `@Id` to control this.\r\n\r\nIn my case, the later deletes record correctly.\r\n\r\n`@Id private String id;` produces\r\n```\r\nRemove using query: { &quot;_id&quot; : { &quot;$oid&quot; : &quot;60ed51ce597826297941ade4&quot;}} in collection: sample.\r\n```\r\n\r\n`@MongoId(FieldType.STRING) private String id;` produces\r\n```\r\nRemove using query: { &quot;_id&quot; : &quot;60ed51ce597826297941ade4&quot;} in collection: sample.\r\n```\r\n","title":"spring-data-mongodb delete function doesn&#39;t work?","body":"<p>Your data might have been created by other system, which use different presentation of &quot;_id&quot; (says <code>String</code>). With newer version of spring data mongodb, you can use <code>@MongoId</code> instead of <code>@Id</code> to control this.</p>\n<p>In my case, the later deletes record correctly.</p>\n<p><code>@Id private String id;</code> produces</p>\n<pre><code>Remove using query: { &quot;_id&quot; : { &quot;$oid&quot; : &quot;60ed51ce597826297941ade4&quot;}} in collection: sample.\n</code></pre>\n<p><code>@MongoId(FieldType.STRING) private String id;</code> produces</p>\n<pre><code>Remove using query: { &quot;_id&quot; : &quot;60ed51ce597826297941ade4&quot;} in collection: sample.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5020420,"reputation":21,"user_id":4034040,"display_name":"Panachovo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668679571,"creation_date":1668679571,"answer_id":74473529,"question_id":61852306,"body_markdown":"Maybe a little late...\r\n\r\nI got the same error and saw that the delete query did not include the Object_Id, so the `findByID` method was not working either.\r\n\r\nThe solution for me was to include the targetType in the @Field annotation:\r\n\r\n    @Field(name = &quot;_id&quot;, targetType = FieldType.OBJECT_ID)","title":"spring-data-mongodb delete function doesn&#39;t work?","body":"<p>Maybe a little late...</p>\n<p>I got the same error and saw that the delete query did not include the Object_Id, so the <code>findByID</code> method was not working either.</p>\n<p>The solution for me was to include the targetType in the @Field annotation:</p>\n<pre><code>@Field(name = &quot;_id&quot;, targetType = FieldType.OBJECT_ID)\n</code></pre>\n"}],"owner":{"account_id":17963500,"reputation":311,"user_id":13053932,"display_name":"Ghiloufi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1255,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1668679571,"creation_date":1589720912,"question_id":61852306,"body_markdown":"I&#39;m using spring-data -mongodb to do crud operations (create , read , update , delete), but\r\nthe delete function doesn&#39;t work  and I don&#39;t know why? . Here is my code.\r\n\r\n```\r\nimport org.bson.types.Binary;\r\nimport org.springframework.data.annotation.Id;\r\nimport org.springframework.data.mongodb.core.index.Indexed;\r\nimport org.springframework.data.mongodb.core.mapping.Document;\r\nimport org.springframework.data.mongodb.core.mapping.Field;\r\nimport lombok.Getter;\r\nimport lombok.Setter;\r\nimport lombok.ToString;\r\n@ToString\r\n@Getter\r\n@Setter\r\n@Document(collection = &quot;patterns&quot;)\r\npublic class Pattern {\r\n\t@Id\r\n\t@Field\r\n\tprivate String id;\r\n\t@Field\r\n\t@Indexed(unique = true)\r\n\tprivate String name;\r\n\t@Field\r\n\tprivate String status;\r\n\t@Field\r\n\tprivate Binary patternFile;\r\n}\r\n```\r\n```\r\nimport java.util.List;\r\nimport org.springframework.data.mongodb.repository.MongoRepository;\r\nimport fod.pfe7.administratorportal.domain.Pattern;\r\npublic interface PatternRepository extends MongoRepository&lt;Pattern, String&gt; {\r\n\tList&lt;Pattern&gt; findByName(String name);\r\n}\r\n```\r\nin my controller I do .\r\n```\r\npatternRepository.findByName(patternName).forEach(pattern -&gt; {\r\n\t\t\tpatternRepository.deleteById(pattern.getId());\r\n\t\t\tresult.put(&quot;status&quot;, 0);\r\n\t\t\tresult.put(&quot;message&quot;, &quot;pattern deleted successfuly&quot;);\r\n\t\t});\r\n```\r\n","title":"spring-data-mongodb delete function doesn&#39;t work?","body":"<p>I'm using spring-data -mongodb to do crud operations (create , read , update , delete), but\nthe delete function doesn't work  and I don't know why? . Here is my code.</p>\n\n<pre><code>import org.bson.types.Binary;\nimport org.springframework.data.annotation.Id;\nimport org.springframework.data.mongodb.core.index.Indexed;\nimport org.springframework.data.mongodb.core.mapping.Document;\nimport org.springframework.data.mongodb.core.mapping.Field;\nimport lombok.Getter;\nimport lombok.Setter;\nimport lombok.ToString;\n@ToString\n@Getter\n@Setter\n@Document(collection = \"patterns\")\npublic class Pattern {\n    @Id\n    @Field\n    private String id;\n    @Field\n    @Indexed(unique = true)\n    private String name;\n    @Field\n    private String status;\n    @Field\n    private Binary patternFile;\n}\n</code></pre>\n\n<pre><code>import java.util.List;\nimport org.springframework.data.mongodb.repository.MongoRepository;\nimport fod.pfe7.administratorportal.domain.Pattern;\npublic interface PatternRepository extends MongoRepository&lt;Pattern, String&gt; {\n    List&lt;Pattern&gt; findByName(String name);\n}\n</code></pre>\n\n<p>in my controller I do .</p>\n\n<pre><code>patternRepository.findByName(patternName).forEach(pattern -&gt; {\n            patternRepository.deleteById(pattern.getId());\n            result.put(\"status\", 0);\n            result.put(\"message\", \"pattern deleted successfuly\");\n        });\n</code></pre>\n"},{"tags":["java","hibernate"],"comments":[{"owner":{"account_id":8357383,"reputation":11939,"user_id":6277104,"display_name":"SternK"},"score":0,"creation_date":1611824462,"post_id":65933923,"comment_id":116575941,"body_markdown":"What hibernate dialect do you use?","body":"What hibernate dialect do you use?"},{"owner":{"account_id":20371301,"reputation":45,"user_id":14943453,"display_name":"marcoF76IT"},"score":0,"creation_date":1611906930,"post_id":65933923,"comment_id":116605526,"body_markdown":"This is the dialect that I use &quot;org.hibernate.dialect.HANAColumnStoreDialect&quot;","body":"This is the dialect that I use &quot;org.hibernate.dialect.HANAColumnStoreDialect&quot;"}],"answers":[{"tags":[],"owner":{"account_id":12215811,"reputation":1,"user_id":9048079,"display_name":"JeeOpp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1628765122,"creation_date":1628765122,"answer_id":68755950,"question_id":65933923,"body_markdown":"just add following property in your persistence.xml file:\r\n\r\n    &lt;property name=&quot;hibernate.dialect.hana.use_legacy_boolean_type&quot; value=&quot;false&quot;/&gt;","title":"Hibernate HQL query with boolean attibute and SAP HANA DB","body":"<p>just add following property in your persistence.xml file:</p>\n<pre><code>&lt;property name=&quot;hibernate.dialect.hana.use_legacy_boolean_type&quot; value=&quot;false&quot;/&gt;\n</code></pre>\n"}],"owner":{"account_id":20371301,"reputation":45,"user_id":14943453,"display_name":"marcoF76IT"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":268,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1668679498,"creation_date":1611824346,"question_id":65933923,"body_markdown":"Goodmoring\r\n&lt;br&gt;I have the following situation.\r\n&lt;br&gt;I have a model with a boolean attribute \r\n\r\n      @Column(name = &quot;ELIMINATO&quot;) \r\n      private Boolean eliminato;\r\n\r\nand the following HQL query on it\r\n\r\n    Query q =  session.createQuery(&quot;from Sottoscrittore where eliminato = false&quot;);\r\n\r\nHibernate generates the following SQL query\r\n\r\n    select\r\n    \t... all fields ...\r\n    from\r\n        SOTTOSCRITTORE modulounic0_ \r\n    where\r\n        modulounic0_.ELIMINATO=0 \r\n    \t\r\nWhen I run this query the following error is returned\r\n\r\n    SAP DBTech JDBC: [266]: inconsistent datatype: INT type is not comparable with BOOLEAN type.\r\n\r\nThe problem is that in SAP HANA DB the correct query is the following \r\n\r\n    select\r\n        ... all fields ...\r\n    from\r\n        SOTTOSCRITTORE \r\n    where\r\n        ELIMINATO=FALSE;\r\n\r\nTo set the right value of the query I tried to set the hibernate property\r\n&quot;hibernate.query.substitutions&quot; in &quot;hibernate.cfg.xml&quot; in this way\r\n\r\n    &lt;property name=&quot;hibernate.query.substitutions&quot;&gt;true TRUE, false FALSE&lt;/property&gt;\r\n\r\nbut I had the same error.\r\n&lt;br&gt;It could be a Hibernate framework bug?\r\n&lt;br&gt;How can I solve the problem?\r\n&lt;br&gt;Thanks\r\n&lt;br&gt;Regards","title":"Hibernate HQL query with boolean attibute and SAP HANA DB","body":"<p>Goodmoring\n<br>I have the following situation.\n<br>I have a model with a boolean attribute</p>\n<pre><code>  @Column(name = &quot;ELIMINATO&quot;) \n  private Boolean eliminato;\n</code></pre>\n<p>and the following HQL query on it</p>\n<pre><code>Query q =  session.createQuery(&quot;from Sottoscrittore where eliminato = false&quot;);\n</code></pre>\n<p>Hibernate generates the following SQL query</p>\n<pre><code>select\n    ... all fields ...\nfrom\n    SOTTOSCRITTORE modulounic0_ \nwhere\n    modulounic0_.ELIMINATO=0 \n    \n</code></pre>\n<p>When I run this query the following error is returned</p>\n<pre><code>SAP DBTech JDBC: [266]: inconsistent datatype: INT type is not comparable with BOOLEAN type.\n</code></pre>\n<p>The problem is that in SAP HANA DB the correct query is the following</p>\n<pre><code>select\n    ... all fields ...\nfrom\n    SOTTOSCRITTORE \nwhere\n    ELIMINATO=FALSE;\n</code></pre>\n<p>To set the right value of the query I tried to set the hibernate property\n&quot;hibernate.query.substitutions&quot; in &quot;hibernate.cfg.xml&quot; in this way</p>\n<pre><code>&lt;property name=&quot;hibernate.query.substitutions&quot;&gt;true TRUE, false FALSE&lt;/property&gt;\n</code></pre>\n<p>but I had the same error.\n<br>It could be a Hibernate framework bug?\n<br>How can I solve the problem?\n<br>Thanks\n<br>Regards</p>\n"},{"tags":["java","if-statement","arraylist"],"comments":[{"owner":{"display_name":"user6073886"},"score":2,"creation_date":1668678875,"post_id":74473342,"comment_id":131466207,"body_markdown":"It iterates over the array, compares every element in the array with the value it currently has saved as `greatest` and if the element in the array is larger than `greatest` it will set `greatest` to that value. So in your example, it `greatest` will first be `2`. Then it will compare `greatest=2` to `5`, see that `5` is bigger and set `greatest=5`. Then it will compare `greatest=5` to `3`, see that it is smaller and do nothing...and that will continue until the iteration is done.","body":"It iterates over the array, compares every element in the array with the value it currently has saved as <code>greatest</code> and if the element in the array is larger than <code>greatest</code> it will set <code>greatest</code> to that value. So in your example, it <code>greatest</code> will first be <code>2</code>. Then it will compare <code>greatest=2</code> to <code>5</code>, see that <code>5</code> is bigger and set <code>greatest=5</code>. Then it will compare <code>greatest=5</code> to <code>3</code>, see that it is smaller and do nothing...and that will continue until the iteration is done."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1668678891,"post_id":74473342,"comment_id":131466214,"body_markdown":"If greatest has the value 2, number 4, then greatest gets assigned a new value 4. So `=` can be pronounced as **becomes**. An other language like Pascal would have written `greatest := number;`","body":"If greatest has the value 2, number 4, then greatest gets assigned a new value 4. So <code>=</code> can be pronounced as <b>becomes</b>. An other language like Pascal would have written <code>greatest := number;</code>"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1668680771,"post_id":74473342,"comment_id":131466968,"body_markdown":"Just imagine you were that program: you have a bucket with numbers and blindly pull one (the first). This is your greatest number... so far. Then you pull numbers one-by-one until the bucket is empty (you reached the end of the array). You compare each number you just pulled with the number you hold in your other hand (the greatest so far). If the number you just pulled is greater (or the number you hold is smaller) you throw away the number you held and keep the one you just pulled. When the bucket is empty the number you have in your hand is the greatest of all. :)","body":"Just imagine you were that program: you have a bucket with numbers and blindly pull one (the first). This is your greatest number... so far. Then you pull numbers one-by-one until the bucket is empty (you reached the end of the array). You compare each number you just pulled with the number you hold in your other hand (the greatest so far). If the number you just pulled is greater (or the number you hold is smaller) you throw away the number you held and keep the one you just pulled. When the bucket is empty the number you have in your hand is the greatest of all. :)"}],"answers":[{"tags":[],"owner":{"account_id":26912715,"reputation":36,"user_id":20488019,"display_name":"mforster"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668678949,"creation_date":1668678949,"answer_id":74473399,"question_id":74473342,"body_markdown":"The line `greatest = number;` doesn&#39;t compare the values. It assigns the value of number to the variable `greatest`. So you have to read the line like `greatest = 4;`.","title":"What does this line in array mean?","body":"<p>The line <code>greatest = number;</code> doesn't compare the values. It assigns the value of number to the variable <code>greatest</code>. So you have to read the line like <code>greatest = 4;</code>.</p>\n"}],"owner":{"account_id":26932630,"reputation":1,"user_id":20504782,"display_name":"Jay Money"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"answer_count":1,"score":-4,"last_activity_date":1668678949,"creation_date":1668678691,"question_id":74473342,"body_markdown":"```\r\n    int greatest = list.get(0);\r\n\r\n        for (int i = 0; i &lt; list.size(); i++) {\r\n            int number = list.get(i);\r\n\r\n            if (greatest &lt; number) {\r\n                greatest = number;\r\n            }\r\n        }\r\n\r\n        System.out.println(&quot;The greatest number: &quot; + greatest);\r\n```\r\n\r\n\r\n```\r\nif (greatest &lt; number) {\r\n    greatest = number;\r\n}           \r\n```\r\nI don&#39;t understand how these two codes work and how it finds the greatest number. Let&#39;s say the example is 2,5,3,4,1. Then &quot;greatest&quot; is list.get(0) which is the first number which would be 2 from example. Then, &quot;number&quot; is list.get(i) which is the array list itself. How is 2 &lt; 4 then become 2 = 4 finds the greatest number? Stuck on these two lines for a long time. Would appreciate someone helping out. Thanks! \r\n\r\n","title":"What does this line in array mean?","body":"<pre><code>    int greatest = list.get(0);\n\n        for (int i = 0; i &lt; list.size(); i++) {\n            int number = list.get(i);\n\n            if (greatest &lt; number) {\n                greatest = number;\n            }\n        }\n\n        System.out.println(&quot;The greatest number: &quot; + greatest);\n</code></pre>\n<pre><code>if (greatest &lt; number) {\n    greatest = number;\n}           \n</code></pre>\n<p>I don't understand how these two codes work and how it finds the greatest number. Let's say the example is 2,5,3,4,1. Then &quot;greatest&quot; is list.get(0) which is the first number which would be 2 from example. Then, &quot;number&quot; is list.get(i) which is the array list itself. How is 2 &lt; 4 then become 2 = 4 finds the greatest number? Stuck on these two lines for a long time. Would appreciate someone helping out. Thanks!</p>\n"},{"tags":["java","spring","spring-boot","maven","intellij-idea"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1668593487,"post_id":74458541,"comment_id":131441218,"body_markdown":"Why is there a maven-assmbly-plugin in your setup? Why `&lt;url&gt;file://${project.basedir}\\libs\\&lt;/url&gt;`??","body":"Why is there a maven-assmbly-plugin in your setup? Why <code>&lt;url&gt;file:&#47;&#47;${project.basedir}\\libs\\&lt;&#47;url&gt;</code>??"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1668594118,"post_id":74458541,"comment_id":131441458,"body_markdown":"Remove the `maven-assembly-plugin`.","body":"Remove the <code>maven-assembly-plugin</code>."},{"owner":{"account_id":14376658,"reputation":383,"user_id":10384954,"display_name":"Wladimir Diskowski"},"score":0,"creation_date":1668601038,"post_id":74458541,"comment_id":131443921,"body_markdown":"Are both machines local and server running on SAME mysql 8?","body":"Are both machines local and server running on SAME mysql 8?"},{"owner":{"account_id":15477979,"reputation":13,"user_id":11166182,"display_name":"nb13"},"score":0,"creation_date":1668674728,"post_id":74458541,"comment_id":131464687,"body_markdown":"@khmarbaise I just edited the poml.xml. I used the maven-assembly-plugin to integrate a external jar file I need. (last dependency added)","body":"@khmarbaise I just edited the poml.xml. I used the maven-assembly-plugin to integrate a external jar file I need. (last dependency added)"},{"owner":{"account_id":15477979,"reputation":13,"user_id":11166182,"display_name":"nb13"},"score":0,"creation_date":1668674750,"post_id":74458541,"comment_id":131464692,"body_markdown":"@WladimirDiskowski yes both machines are running on same mysql 8","body":"@WladimirDiskowski yes both machines are running on same mysql 8"},{"owner":{"account_id":15477979,"reputation":13,"user_id":11166182,"display_name":"nb13"},"score":0,"creation_date":1668674850,"post_id":74458541,"comment_id":131464730,"body_markdown":"@M.Deinum can not remove it because I use this to integrate a external jar file","body":"@M.Deinum can not remove it because I use this to integrate a external jar file"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1668675041,"post_id":74458541,"comment_id":131464788,"body_markdown":"That jar should be a dependency, Spring BOot will create the fat jar, doing this again with the assembly plugin will create an improper jar.","body":"That jar should be a dependency, Spring BOot will create the fat jar, doing this again with the assembly plugin will create an improper jar."},{"owner":{"account_id":15477979,"reputation":13,"user_id":11166182,"display_name":"nb13"},"score":0,"creation_date":1668676035,"post_id":74458541,"comment_id":131465154,"body_markdown":"@M.Deinum I removed the maven-assembly-plugin but I am still getting the same lazy init errors, which I do not get in my local machine. Also updated my initial post","body":"@M.Deinum I removed the maven-assembly-plugin but I am still getting the same lazy init errors, which I do not get in my local machine. Also updated my initial post"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1668676361,"post_id":74458541,"comment_id":131465280,"body_markdown":"Most important step is to show those exceptions/failures in the post...without them it&#39;s more or less impossible to even guess what the problem might cause...","body":"Most important step is to show those exceptions/failures in the post...without them it&#39;s more or less impossible to even guess what the problem might cause..."},{"owner":{"account_id":15477979,"reputation":13,"user_id":11166182,"display_name":"nb13"},"score":0,"creation_date":1668677002,"post_id":74458541,"comment_id":131465498,"body_markdown":"@khmarbaise Thank you for your comment. I added one example of the lazy init failures and I know how to handle them, but my question is why I do not have the same exceptions on my local machine.","body":"@khmarbaise Thank you for your comment. I added one example of the lazy init failures and I know how to handle them, but my question is why I do not have the same exceptions on my local machine."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1668677904,"post_id":74458541,"comment_id":131465824,"body_markdown":"Then there must be something different configuration wise. Do you provide other properties between the 2 versions?","body":"Then there must be something different configuration wise. Do you provide other properties between the 2 versions?"},{"owner":{"account_id":15477979,"reputation":13,"user_id":11166182,"display_name":"nb13"},"score":0,"creation_date":1668678948,"post_id":74458541,"comment_id":131466242,"body_markdown":"@M.Deinum I just added my application.yml file. There are the only differences configuration wise between the two builds","body":"@M.Deinum I just added my application.yml file. There are the only differences configuration wise between the two builds"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1668679825,"post_id":74458541,"comment_id":131466604,"body_markdown":"Well there is a big difference your dev doesn&#39;t contain `spring.jpa.open-in-view=false` whereas your prod does. Which is &quot;just a property&quot; but has quite big implications. Either make sure those match between dev and prod or add it to dev as well and fix the issues you get with that.","body":"Well there is a big difference your dev doesn&#39;t contain <code>spring.jpa.open-in-view=false</code> whereas your prod does. Which is &quot;just a property&quot; but has quite big implications. Either make sure those match between dev and prod or add it to dev as well and fix the issues you get with that."},{"owner":{"account_id":15477979,"reputation":13,"user_id":11166182,"display_name":"nb13"},"score":0,"creation_date":1668957001,"post_id":74458541,"comment_id":131526955,"body_markdown":"@M.Deinum thanks a lot! I should&#39;ve seen that earlier!","body":"@M.Deinum thanks a lot! I should&#39;ve seen that earlier!"}],"owner":{"account_id":15477979,"reputation":13,"user_id":11166182,"display_name":"nb13"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668678875,"creation_date":1668593062,"question_id":74458541,"body_markdown":"I am building a spring boot application and running into the following problem. When I run my application in my IDE IntelliJ everything works fine. If I then run mvn clean package, I am recieving the resulting .jar file in the /target folder. But when I run this .jar on my windows server I get lazyInit exceptions all over the place, which did not occur on my local machine.\r\n\r\nDoes anyone has a idea what could be the problem here?\r\n\r\nBoth machines local and server are running on java 11 and mysql 8.\r\n\r\nHere&#39;s my poml.xml, but feel free to ask for other information I am not sure what could be needed here...\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.5.6&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;de.schuessler-plan.&lt;/groupId&gt;\r\n    &lt;artifactId&gt;acquisition.backend&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;acquisition.backend&lt;/name&gt;\r\n    &lt;description&gt;Backend for SP acquisition&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;11&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.modelmapper&lt;/groupId&gt;\r\n            &lt;artifactId&gt;modelmapper&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;net.sf.ucanaccess&lt;/groupId&gt;\r\n            &lt;artifactId&gt;ucanaccess&lt;/artifactId&gt;\r\n            &lt;version&gt;5.0.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.monitorjbl&lt;/groupId&gt;\r\n            &lt;artifactId&gt;xlsx-streamer&lt;/artifactId&gt;\r\n            &lt;version&gt;2.1.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.vaadin.external.google&lt;/groupId&gt;\r\n            &lt;artifactId&gt;android-json&lt;/artifactId&gt;\r\n            &lt;version&gt;0.0.20131108.vaadin1&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;me.tongfei&lt;/groupId&gt;\r\n            &lt;artifactId&gt;progressbar&lt;/artifactId&gt;\r\n            &lt;version&gt;0.9.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;customJAR&lt;/groupId&gt;\r\n            &lt;artifactId&gt;SimbaJDBCClient42&lt;/artifactId&gt;\r\n            &lt;version&gt;4.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${project.parent.version}&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;mainClass&gt;de.schuesslerplan.acquisition.backend.Application&lt;/mainClass&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;executable&gt;true&lt;/executable&gt;\r\n                    &lt;jvmArguments&gt;\r\n                        -Xms256m\r\n                        -Xmx1g\r\n                    &lt;/jvmArguments&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n    &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;in-project&lt;/id&gt;\r\n            &lt;name&gt;In Project Repo&lt;/name&gt;\r\n            &lt;url&gt;file://${project.basedir}\\libs\\&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\nEDIT: One example of a lazyInit Exception.\r\n\r\n```&quot;failed to lazily initialize a collection of role: backend.model.mysql.Employee.registeredWork, could not initialize proxy - no Session&quot;```\r\n\r\nEDIT: Configuration differences in the application.yml for different profiles.\r\n\r\n```\r\nspring:\r\n  profiles:\r\n    active: dev\r\n  servlet:\r\n    multipart:\r\n      max-request-size: 10MB\r\n      max-file-size: 10MB\r\n\r\n---\r\n\r\nspring:\r\n  profiles: dev\r\n  jpa:\r\n    show-sql: &#39;true&#39;\r\nmysql:\r\n  driver-class-name: com.mysql.cj.jdbc.Driver\r\n  url: jdbc:mysql://localhost:3306/schema_name\r\n  password: pass-local\r\n  username: username-local\r\n  jpa:\r\n    hibernate:\r\n      ddl-auto: update\r\n    properties:\r\n      hibernate:\r\n        dialect: org.hibernate.dialect.MySQL8Dialect\r\nserver:\r\n  port: 8080\r\n\r\n---\r\n\r\nspring:\r\n  profiles: prod\r\n  jpa:\r\n    open-in-view: false\r\nmysql:\r\n  driver-class-name: com.mysql.cj.jdbc.Driver\r\n  url: jdbc:mysql://localhost:3306/schema_name\r\n  password: pass-server\r\n  username: username-server\r\n  jpa:\r\n    hibernate:\r\n      ddl-auto: update\r\n    properties:\r\n      hibernate:\r\n        dialect: org.hibernate.dialect.MySQL8Dialect\r\nserver:\r\n  port: 8443\r\n  ssl:\r\n    key-store-password: keystorepass\r\n    key-store: classpath:keystore.p12\r\n    enabled: &#39;true&#39;\r\n    keyStoreType: PKCS12\r\n```","title":"Spring boot mvn clean package .jar throws different exceptions than on local intellij run","body":"<p>I am building a spring boot application and running into the following problem. When I run my application in my IDE IntelliJ everything works fine. If I then run mvn clean package, I am recieving the resulting .jar file in the /target folder. But when I run this .jar on my windows server I get lazyInit exceptions all over the place, which did not occur on my local machine.</p>\n<p>Does anyone has a idea what could be the problem here?</p>\n<p>Both machines local and server are running on java 11 and mysql 8.</p>\n<p>Here's my poml.xml, but feel free to ask for other information I am not sure what could be needed here...</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.5.6&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;de.schuessler-plan.&lt;/groupId&gt;\n    &lt;artifactId&gt;acquisition.backend&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;acquisition.backend&lt;/name&gt;\n    &lt;description&gt;Backend for SP acquisition&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.modelmapper&lt;/groupId&gt;\n            &lt;artifactId&gt;modelmapper&lt;/artifactId&gt;\n            &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.sf.ucanaccess&lt;/groupId&gt;\n            &lt;artifactId&gt;ucanaccess&lt;/artifactId&gt;\n            &lt;version&gt;5.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.monitorjbl&lt;/groupId&gt;\n            &lt;artifactId&gt;xlsx-streamer&lt;/artifactId&gt;\n            &lt;version&gt;2.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.vaadin.external.google&lt;/groupId&gt;\n            &lt;artifactId&gt;android-json&lt;/artifactId&gt;\n            &lt;version&gt;0.0.20131108.vaadin1&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;me.tongfei&lt;/groupId&gt;\n            &lt;artifactId&gt;progressbar&lt;/artifactId&gt;\n            &lt;version&gt;0.9.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;customJAR&lt;/groupId&gt;\n            &lt;artifactId&gt;SimbaJDBCClient42&lt;/artifactId&gt;\n            &lt;version&gt;4.2&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${project.parent.version}&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;configuration&gt;\n                            &lt;mainClass&gt;de.schuesslerplan.acquisition.backend.Application&lt;/mainClass&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;executable&gt;true&lt;/executable&gt;\n                    &lt;jvmArguments&gt;\n                        -Xms256m\n                        -Xmx1g\n                    &lt;/jvmArguments&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;in-project&lt;/id&gt;\n            &lt;name&gt;In Project Repo&lt;/name&gt;\n            &lt;url&gt;file://${project.basedir}\\libs\\&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>EDIT: One example of a lazyInit Exception.</p>\n<p><code>&quot;failed to lazily initialize a collection of role: backend.model.mysql.Employee.registeredWork, could not initialize proxy - no Session&quot;</code></p>\n<p>EDIT: Configuration differences in the application.yml for different profiles.</p>\n<pre><code>spring:\n  profiles:\n    active: dev\n  servlet:\n    multipart:\n      max-request-size: 10MB\n      max-file-size: 10MB\n\n---\n\nspring:\n  profiles: dev\n  jpa:\n    show-sql: 'true'\nmysql:\n  driver-class-name: com.mysql.cj.jdbc.Driver\n  url: jdbc:mysql://localhost:3306/schema_name\n  password: pass-local\n  username: username-local\n  jpa:\n    hibernate:\n      ddl-auto: update\n    properties:\n      hibernate:\n        dialect: org.hibernate.dialect.MySQL8Dialect\nserver:\n  port: 8080\n\n---\n\nspring:\n  profiles: prod\n  jpa:\n    open-in-view: false\nmysql:\n  driver-class-name: com.mysql.cj.jdbc.Driver\n  url: jdbc:mysql://localhost:3306/schema_name\n  password: pass-server\n  username: username-server\n  jpa:\n    hibernate:\n      ddl-auto: update\n    properties:\n      hibernate:\n        dialect: org.hibernate.dialect.MySQL8Dialect\nserver:\n  port: 8443\n  ssl:\n    key-store-password: keystorepass\n    key-store: classpath:keystore.p12\n    enabled: 'true'\n    keyStoreType: PKCS12\n</code></pre>\n"},{"tags":["java","eclipse"],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":38,"is_accepted":false,"score":38,"last_activity_date":1301994102,"creation_date":1301994102,"answer_id":5549512,"question_id":5549464,"body_markdown":"Sure - just don&#39;t use the Sun base64 encoder/decoder. There are plenty of other options available, including [Apache Codec][1] or this [public domain implementation][2].\r\n\r\nThen read [why you shouldn&#39;t use sun.* packages][3].\r\n\r\n\r\n  [1]: http://commons.apache.org/codec/\r\n  [2]: http://www.iharder.net/current/java/base64/\r\n  [3]: http://java.sun.com/products/jdk/faq/faq-sun-packages.html","title":"import sun.misc.BASE64Encoder results in error compiled in Eclipse","body":"<p>Sure - just don't use the Sun base64 encoder/decoder. There are plenty of other options available, including <a href=\"http://commons.apache.org/codec/\" rel=\"noreferrer\">Apache Codec</a> or this <a href=\"http://www.iharder.net/current/java/base64/\" rel=\"noreferrer\">public domain implementation</a>.</p>\n\n<p>Then read <a href=\"http://java.sun.com/products/jdk/faq/faq-sun-packages.html\" rel=\"noreferrer\">why you shouldn't use sun.* packages</a>.</p>\n"},{"tags":[],"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"down_vote_count":3,"up_vote_count":72,"is_accepted":true,"score":69,"last_activity_date":1494828549,"creation_date":1301994115,"answer_id":5549514,"question_id":5549464,"body_markdown":"That error is caused by your Eclipse configuration. You can reduce it to a warning. [Better still][1], use a Base64 encoder that isn&#39;t part of a non-public API. Apache Commons has [one][2], or when you&#39;re already on Java 1.8, then use [`java.util.Base64`][3].\r\n\r\n\r\n  [1]: http://www.oracle.com/technetwork/java/faq-sun-packages-142232.html\r\n  [2]: https://commons.apache.org/proper/commons-codec/apidocs/org/apache/commons/codec/binary/Base64.html\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/util/Base64.html","title":"import sun.misc.BASE64Encoder results in error compiled in Eclipse","body":"<p>That error is caused by your Eclipse configuration. You can reduce it to a warning. <a href=\"http://www.oracle.com/technetwork/java/faq-sun-packages-142232.html\" rel=\"noreferrer\">Better still</a>, use a Base64 encoder that isn't part of a non-public API. Apache Commons has <a href=\"https://commons.apache.org/proper/commons-codec/apidocs/org/apache/commons/codec/binary/Base64.html\" rel=\"noreferrer\">one</a>, or when you're already on Java 1.8, then use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Base64.html\" rel=\"noreferrer\"><code>java.util.Base64</code></a>.</p>\n"},{"tags":[],"owner":{"account_id":249790,"reputation":3108,"user_id":526093,"accept_rate":100,"display_name":"Nikunj"},"down_vote_count":2,"up_vote_count":130,"is_accepted":false,"score":128,"last_activity_date":1424439435,"creation_date":1301994439,"answer_id":5549580,"question_id":5549464,"body_markdown":"Go to Window--&gt;Preferences--&gt;Java--&gt;Compiler--&gt;Error/Warnings.  \r\nSelect **Deprecated and Restricted API**. Change it to **warning.**  \r\nChange **forbidden** and **Discouraged** Reference and change it to warning. (or as your need.)\r\n","title":"import sun.misc.BASE64Encoder results in error compiled in Eclipse","body":"<p>Go to Window-->Preferences-->Java-->Compiler-->Error/Warnings.<br>\nSelect <strong>Deprecated and Restricted API</strong>. Change it to <strong>warning.</strong><br>\nChange <strong>forbidden</strong> and <strong>Discouraged</strong> Reference and change it to warning. (or as your need.)</p>\n"},{"tags":[],"owner":{"account_id":658420,"reputation":1019,"user_id":475496,"accept_rate":40,"display_name":"StaticBR"},"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1457004827,"creation_date":1345721516,"answer_id":12090601,"question_id":5549464,"body_markdown":"Java 6 ships the `javax.xml.bind.DatatypeConverter`. This class provides two static methods that support the same decoding &amp; encoding:\r\n\r\n`parseBase64Binary() / printBase64Binary()`\r\n\r\n**Update:**\r\nSince Java 8 we now have a much better [Base64][1] Support.\r\n\r\n\r\nUse this and you will not need an extra library, like `Apache Commons Codec`.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/util/Base64.html","title":"import sun.misc.BASE64Encoder results in error compiled in Eclipse","body":"<p>Java 6 ships the <code>javax.xml.bind.DatatypeConverter</code>. This class provides two static methods that support the same decoding &amp; encoding:</p>\n\n<p><code>parseBase64Binary() / printBase64Binary()</code></p>\n\n<p><strong>Update:</strong>\nSince Java 8 we now have a much better <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/Base64.html\" rel=\"nofollow\">Base64</a> Support.</p>\n\n<p>Use this and you will not need an extra library, like <code>Apache Commons Codec</code>.</p>\n"},{"tags":[],"owner":{"account_id":27514,"reputation":1785,"user_id":72717,"display_name":"jamshid"},"down_vote_count":2,"up_vote_count":7,"is_accepted":false,"score":5,"last_activity_date":1363101845,"creation_date":1345780935,"answer_id":12102983,"question_id":5549464,"body_markdown":"Yup, and sun.misc.BASE64Decoder is way slower: 9x slower than java.xml.bind.DatatypeConverter.parseBase64Binary() and 4x slower than org.apache.commons.codec.binary.Base64.decodeBase64(), at least for a small string on Java 6 OSX.\r\n\r\nBelow is the test program I used. With Java 1.6.0_43 on OSX:\r\n\r\n    john:password = am9objpwYXNzd29yZA==\r\n    javax.xml took 373: john:password\r\n    apache took    612: john:password\r\n    sun took       2215: john:password\r\n\r\nBtw that&#39;s with commons-codec 1.4. With 1.7 it seems to get slower:\r\n\r\n    javax.xml took 377: john:password\r\n    apache took    1681: john:password\r\n    sun took       2197: john:password\r\n\r\nDidn&#39;t test Java 7 or other OS.\r\n\r\n    import javax.xml.bind.DatatypeConverter;\r\n    import org.apache.commons.codec.binary.Base64;\r\n    import java.io.IOException;\r\n    \r\n    public class TestBase64 {\r\n        private static volatile String save = null;\r\n        public static void main(String argv[]) {\r\n            String teststr = &quot;john:password&quot;;\r\n            String b64 = DatatypeConverter.printBase64Binary(teststr.getBytes());\r\n            System.out.println(teststr + &quot; = &quot; + b64);\r\n            try {\r\n                final int COUNT = 1000000;\r\n                long start;\r\n                start = System.currentTimeMillis();\r\n                for (int i=0; i&lt;COUNT; ++i) {\r\n                    save = new String(DatatypeConverter.parseBase64Binary(b64));\r\n                }\r\n                System.out.println(&quot;javax.xml took &quot;+(System.currentTimeMillis()-start)+&quot;: &quot;+save);\r\n                start = System.currentTimeMillis();\r\n                for (int i=0; i&lt;COUNT; ++i) {\r\n                    save = new String(Base64.decodeBase64(b64));\r\n                }\r\n                System.out.println(&quot;apache took    &quot;+(System.currentTimeMillis()-start)+&quot;: &quot;+save);\r\n                sun.misc.BASE64Decoder dec = new sun.misc.BASE64Decoder();\r\n                start = System.currentTimeMillis();\r\n                for (int i=0; i&lt;COUNT; ++i) {\r\n                    save = new String(dec.decodeBuffer(b64));\r\n                }\r\n                System.out.println(&quot;sun took       &quot;+(System.currentTimeMillis()-start)+&quot;: &quot;+save);\r\n            } catch (Exception e) {\r\n                System.out.println(e);\r\n            }\r\n        }\r\n    }\r\n    ","title":"import sun.misc.BASE64Encoder results in error compiled in Eclipse","body":"<p>Yup, and sun.misc.BASE64Decoder is way slower: 9x slower than java.xml.bind.DatatypeConverter.parseBase64Binary() and 4x slower than org.apache.commons.codec.binary.Base64.decodeBase64(), at least for a small string on Java 6 OSX.</p>\n\n<p>Below is the test program I used. With Java 1.6.0_43 on OSX:</p>\n\n<pre><code>john:password = am9objpwYXNzd29yZA==\njavax.xml took 373: john:password\napache took    612: john:password\nsun took       2215: john:password\n</code></pre>\n\n<p>Btw that's with commons-codec 1.4. With 1.7 it seems to get slower:</p>\n\n<pre><code>javax.xml took 377: john:password\napache took    1681: john:password\nsun took       2197: john:password\n</code></pre>\n\n<p>Didn't test Java 7 or other OS.</p>\n\n<pre><code>import javax.xml.bind.DatatypeConverter;\nimport org.apache.commons.codec.binary.Base64;\nimport java.io.IOException;\n\npublic class TestBase64 {\n    private static volatile String save = null;\n    public static void main(String argv[]) {\n        String teststr = \"john:password\";\n        String b64 = DatatypeConverter.printBase64Binary(teststr.getBytes());\n        System.out.println(teststr + \" = \" + b64);\n        try {\n            final int COUNT = 1000000;\n            long start;\n            start = System.currentTimeMillis();\n            for (int i=0; i&lt;COUNT; ++i) {\n                save = new String(DatatypeConverter.parseBase64Binary(b64));\n            }\n            System.out.println(\"javax.xml took \"+(System.currentTimeMillis()-start)+\": \"+save);\n            start = System.currentTimeMillis();\n            for (int i=0; i&lt;COUNT; ++i) {\n                save = new String(Base64.decodeBase64(b64));\n            }\n            System.out.println(\"apache took    \"+(System.currentTimeMillis()-start)+\": \"+save);\n            sun.misc.BASE64Decoder dec = new sun.misc.BASE64Decoder();\n            start = System.currentTimeMillis();\n            for (int i=0; i&lt;COUNT; ++i) {\n                save = new String(dec.decodeBuffer(b64));\n            }\n            System.out.println(\"sun took       \"+(System.currentTimeMillis()-start)+\": \"+save);\n        } catch (Exception e) {\n            System.out.println(e);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2501709,"reputation":29,"user_id":2176617,"display_name":"ram"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1363424429,"creation_date":1363424429,"answer_id":15447452,"question_id":5549464,"body_markdown":"\r\n1. Go to the Build Path settings in the project properties.\r\n2. Remove the JRE System Library\r\n3. Add it back; Select &quot;Add Library&quot; and select the JRE System Library. The default worked for me.\r\n\r\nThis works because you have multiple classes in different jar files. Removing and re-adding the jre lib will make the right classes be first. If you want a fundamental solution make sure you exclude the jar files with the same classes.","title":"import sun.misc.BASE64Encoder results in error compiled in Eclipse","body":"<ol>\n<li>Go to the Build Path settings in the project properties.</li>\n<li>Remove the JRE System Library</li>\n<li>Add it back; Select \"Add Library\" and select the JRE System Library. The default worked for me.</li>\n</ol>\n\n<p>This works because you have multiple classes in different jar files. Removing and re-adding the jre lib will make the right classes be first. If you want a fundamental solution make sure you exclude the jar files with the same classes.</p>\n"},{"tags":[],"owner":{"account_id":2631644,"reputation":6155,"user_id":2622016,"accept_rate":69,"display_name":"user2622016"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1374829469,"creation_date":1374829469,"answer_id":17877214,"question_id":5549464,"body_markdown":"I had this problem on jdk1.6.0_37.\r\nThis is the only JDE/JRE on my system. I don&#39;t know why, but the following solved the problem:\r\n\r\n&gt; Project -&gt; Properties -&gt; Java Build Path - &gt; Libraries\r\n&gt; \r\n&gt; Switch radio button from **Execution environment** to **Alernate JRE**. \r\nThis selects the same jdk1.6.0_37, but after clean/build the compile error disappeared.\r\n\r\nMaybe clarification in answer from  *ram* (Mar 16 at 9:00) has to do something with that.\r\n","title":"import sun.misc.BASE64Encoder results in error compiled in Eclipse","body":"<p>I had this problem on jdk1.6.0_37.\nThis is the only JDE/JRE on my system. I don't know why, but the following solved the problem:</p>\n\n<blockquote>\n  <p>Project -> Properties -> Java Build Path - > Libraries</p>\n  \n  <p>Switch radio button from <strong>Execution environment</strong> to <strong>Alernate JRE</strong>. \n  This selects the same jdk1.6.0_37, but after clean/build the compile error disappeared.</p>\n</blockquote>\n\n<p>Maybe clarification in answer from  <em>ram</em> (Mar 16 at 9:00) has to do something with that.</p>\n"},{"tags":[],"owner":{"account_id":1460223,"reputation":19,"user_id":1374754,"display_name":"NehPraka"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1390210781,"creation_date":1390210781,"answer_id":21230547,"question_id":5549464,"body_markdown":"I am using unix system. \r\n\r\nIn eclipse project-&gt; Properties -&gt; Java Compiler -&gt; Errors/Warning -&gt; Forbidden Access(access rule) -&gt; Turn it to warning/Ignore(Previously it was set to Error).","title":"import sun.misc.BASE64Encoder results in error compiled in Eclipse","body":"<p>I am using unix system. </p>\n\n<p>In eclipse project-> Properties -> Java Compiler -> Errors/Warning -> Forbidden Access(access rule) -> Turn it to warning/Ignore(Previously it was set to Error).</p>\n"},{"tags":[],"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1586945649,"creation_date":1424433598,"answer_id":28628476,"question_id":5549464,"body_markdown":"This error (or warning in later versions) occurs because you are compiling against a Java Execution Environment. This shows up as `JRE System library [CDC-1.0/Foundation-1.0]` in the Build path of your Eclipse Java project. Such environments only expose the Java standard API instead of all the classes within the runtime. This means that the classes used to *implement* the Java standard API are not exposed.\r\n\r\nYou can allow access to these particular classes using access rules, you could configure Eclipse to use the JDK directly or you could disable the error. You would however be hiding a serious error as [Sun internal classes shouldn&#39;t be used](http://java.sun.com/products/jdk/faq/faq-sun-packages.html) (see below for a short explanation).\r\n\r\n---\r\n\r\nJava contains a [`Base64` class](http://docs.oracle.com/javase/8/docs/api/java/util/Base64.html) in the standard API since Java 1.8. See below for an example how to use it:\r\n\r\nJava 8 import statement:\r\n\r\n    import java.util.Base64;\r\n\r\nJava 8 example code:\r\n\r\n    // create a byte array containing data (test)\r\n    byte[] binaryData = new byte[] { 0x64, 0x61, 0x74, 0x61 };\r\n    // create and configure encoder (using method chaining) \r\n    Base64.Encoder base64Encoder = Base64.getEncoder().withoutPadding();\r\n    // encode to string (instead of a byte array containing ASCII)\r\n    String base64EncodedData = base64Encoder.encodeToString(binaryData);\r\n\r\n    // decode using a single statement (no reuse of decoder)\r\n    // NOTE the decoder won&#39;t fail because the padding is missing\r\n    byte[] base64DecodedData = Base64.getDecoder().decode(base64EncodedData);\r\n\r\n---\r\n\r\nIf Java 8 is not available a library such as [Apache Commons Codec](http://commons.apache.org/proper/commons-codec/apidocs/org/apache/commons/codec/binary/Base64.html) or [Guava](http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/io/BaseEncoding.html) should be used.\r\n\r\n---\r\n\r\n[Sun internal classes shouldn&#39;t be used](http://java.sun.com/products/jdk/faq/faq-sun-packages.html). Those classes are used to *implement* Java. They have got public methods to allow instantiation from other packages. A good build environment however *should* protect you from using them.\r\n\r\nUsing internal classes may break compatibility with future Java SE runtimes; the implementation and location of these classes can change at any time. It should be strongly discouraged to disable the error or warning (but the disabling of the error is suggested in previous answers, including the two top voted ones).\r\n\r\n","title":"import sun.misc.BASE64Encoder results in error compiled in Eclipse","body":"<p>This error (or warning in later versions) occurs because you are compiling against a Java Execution Environment. This shows up as <code>JRE System library [CDC-1.0/Foundation-1.0]</code> in the Build path of your Eclipse Java project. Such environments only expose the Java standard API instead of all the classes within the runtime. This means that the classes used to <em>implement</em> the Java standard API are not exposed.</p>\n\n<p>You can allow access to these particular classes using access rules, you could configure Eclipse to use the JDK directly or you could disable the error. You would however be hiding a serious error as <a href=\"http://java.sun.com/products/jdk/faq/faq-sun-packages.html\" rel=\"nofollow noreferrer\">Sun internal classes shouldn't be used</a> (see below for a short explanation).</p>\n\n<hr>\n\n<p>Java contains a <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/Base64.html\" rel=\"nofollow noreferrer\"><code>Base64</code> class</a> in the standard API since Java 1.8. See below for an example how to use it:</p>\n\n<p>Java 8 import statement:</p>\n\n<pre><code>import java.util.Base64;\n</code></pre>\n\n<p>Java 8 example code:</p>\n\n<pre><code>// create a byte array containing data (test)\nbyte[] binaryData = new byte[] { 0x64, 0x61, 0x74, 0x61 };\n// create and configure encoder (using method chaining) \nBase64.Encoder base64Encoder = Base64.getEncoder().withoutPadding();\n// encode to string (instead of a byte array containing ASCII)\nString base64EncodedData = base64Encoder.encodeToString(binaryData);\n\n// decode using a single statement (no reuse of decoder)\n// NOTE the decoder won't fail because the padding is missing\nbyte[] base64DecodedData = Base64.getDecoder().decode(base64EncodedData);\n</code></pre>\n\n<hr>\n\n<p>If Java 8 is not available a library such as <a href=\"http://commons.apache.org/proper/commons-codec/apidocs/org/apache/commons/codec/binary/Base64.html\" rel=\"nofollow noreferrer\">Apache Commons Codec</a> or <a href=\"http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/io/BaseEncoding.html\" rel=\"nofollow noreferrer\">Guava</a> should be used.</p>\n\n<hr>\n\n<p><a href=\"http://java.sun.com/products/jdk/faq/faq-sun-packages.html\" rel=\"nofollow noreferrer\">Sun internal classes shouldn't be used</a>. Those classes are used to <em>implement</em> Java. They have got public methods to allow instantiation from other packages. A good build environment however <em>should</em> protect you from using them.</p>\n\n<p>Using internal classes may break compatibility with future Java SE runtimes; the implementation and location of these classes can change at any time. It should be strongly discouraged to disable the error or warning (but the disabling of the error is suggested in previous answers, including the two top voted ones).</p>\n"},{"tags":[],"owner":{"account_id":5549908,"reputation":90,"user_id":4403381,"accept_rate":0,"display_name":"Mohsin Khan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1440082639,"creation_date":1440082639,"answer_id":32121660,"question_id":5549464,"body_markdown":"I know this is very Old post. Since we don&#39;t have any thing sun.misc in maven \r\nwe can easily use \r\n\r\nStringUtils.newStringUtf8(Base64.encodeBase64(encVal));\r\nFrom org.apache.commons.codec.binary.Base64","title":"import sun.misc.BASE64Encoder results in error compiled in Eclipse","body":"<p>I know this is very Old post. Since we don't have any thing sun.misc in maven \nwe can easily use </p>\n\n<p>StringUtils.newStringUtf8(Base64.encodeBase64(encVal));\nFrom org.apache.commons.codec.binary.Base64</p>\n"},{"tags":[],"owner":{"account_id":7956800,"reputation":1725,"user_id":6005797,"display_name":"PyDevSRS"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1567504626,"creation_date":1489460942,"answer_id":42777099,"question_id":5549464,"body_markdown":"This error is because of you are importing below two classes\r\nimport sun.misc.BASE64Encoder; import sun.misc.BASE64Decoder;. Maybe you are using encode and decode of that library like below.\r\n\r\n    new BASE64Encoder().encode(encVal);\r\n    newBASE64Decoder().decodeBuffer(encryptedData);\r\n\r\nYeah instead of sun.misc.BASE64Encoder you can import\r\n `java.util.Base64` class.Now change the previous encode method as below:\r\n\r\n  \r\n\r\n    encryptedData=Base64.getEncoder().encodeToString(encryptedByteArray);\r\n\r\nNow change the previous decode method as below\r\n\r\n    byte[] base64DecodedData = Base64.getDecoder().decode(base64EncodedData);\r\nNow everything is done , you can save your program and run. It will run without showing any error.\r\n\r\n","title":"import sun.misc.BASE64Encoder results in error compiled in Eclipse","body":"<p>This error is because of you are importing below two classes\nimport sun.misc.BASE64Encoder; import sun.misc.BASE64Decoder;. Maybe you are using encode and decode of that library like below.</p>\n\n<pre><code>new BASE64Encoder().encode(encVal);\nnewBASE64Decoder().decodeBuffer(encryptedData);\n</code></pre>\n\n<p>Yeah instead of sun.misc.BASE64Encoder you can import\n <code>java.util.Base64</code> class.Now change the previous encode method as below:</p>\n\n<pre><code>encryptedData=Base64.getEncoder().encodeToString(encryptedByteArray);\n</code></pre>\n\n<p>Now change the previous decode method as below</p>\n\n<pre><code>byte[] base64DecodedData = Base64.getDecoder().decode(base64EncodedData);\n</code></pre>\n\n<p>Now everything is done , you can save your program and run. It will run without showing any error.</p>\n"},{"tags":[],"owner":{"account_id":12077887,"reputation":1,"user_id":8830690,"display_name":"Rajesh Kumar Gupta"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1508925722,"creation_date":1508925007,"answer_id":46929216,"question_id":5549464,"body_markdown":"Add base64decoder jar and try these imports:\r\n\r\n    import Decoder.BASE64Decoder;\r\n    import Decoder.BASE64Encoder;","title":"import sun.misc.BASE64Encoder results in error compiled in Eclipse","body":"<p>Add base64decoder jar and try these imports:</p>\n\n<pre><code>import Decoder.BASE64Decoder;\nimport Decoder.BASE64Encoder;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6401714,"reputation":5744,"user_id":4964136,"accept_rate":100,"display_name":"Vishwa Ratna"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1578988062,"creation_date":1578988062,"answer_id":59729407,"question_id":5549464,"body_markdown":"Be careful, `sun.misc.BASE64Decoder` is not available in JDK-13","title":"import sun.misc.BASE64Encoder results in error compiled in Eclipse","body":"<p>Be careful, <code>sun.misc.BASE64Decoder</code> is not available in JDK-13</p>\n"},{"tags":[],"owner":{"account_id":5224372,"reputation":2149,"user_id":4176813,"display_name":"Maxim Akristiniy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1623262385,"creation_date":1623262385,"answer_id":67909642,"question_id":5549464,"body_markdown":"solution: go into java 8 sdk fodler, from jre\\lib\\rt.jar copy to sdklib.jar (it is somewhere in eclipse folder) classes (with same paths): \r\n\r\n&gt; sun/misc/BASE64Decoder.class,&lt;br&gt;\r\n sun/misc/BASE64Encoder.class,&lt;br&gt;\r\nsun/misc/CharacterDecoder.class,&lt;br&gt;\r\nsun/misc/CharacterEncoder.class\r\n\r\nthat&#39;s all","title":"import sun.misc.BASE64Encoder results in error compiled in Eclipse","body":"<p>solution: go into java 8 sdk fodler, from jre\\lib\\rt.jar copy to sdklib.jar (it is somewhere in eclipse folder) classes (with same paths):</p>\n<blockquote>\n<p>sun/misc/BASE64Decoder.class,<br>\nsun/misc/BASE64Encoder.class,<br>\nsun/misc/CharacterDecoder.class,<br>\nsun/misc/CharacterEncoder.class</p>\n</blockquote>\n<p>that's all</p>\n"},{"tags":[],"owner":{"account_id":15815469,"reputation":41,"user_id":11411361,"display_name":"Palak Arora"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1668678806,"creation_date":1650446803,"answer_id":71937233,"question_id":5549464,"body_markdown":"Was getting `sun.misc.base64encoder cannot be resolved to a type` on eclipse -\r\n\r\n1. Resolved this by pointing eclipse to use Java version 1.8 installed on system -\r\nWindows -&gt; Preferences -&gt; Java -&gt; Installed JREs -&gt; add jre path (eg: C:\\Program Files\\Java\\jdk1.8.0_271)\r\n\r\n2. Right-click on project -&gt; Maven -&gt; Update project\r\n\r\nThis will resolve then.\r\n\r\n\r\n","title":"import sun.misc.BASE64Encoder results in error compiled in Eclipse","body":"<p>Was getting <code>sun.misc.base64encoder cannot be resolved to a type</code> on eclipse -</p>\n<ol>\n<li><p>Resolved this by pointing eclipse to use Java version 1.8 installed on system -\nWindows -&gt; Preferences -&gt; Java -&gt; Installed JREs -&gt; add jre path (eg: C:\\Program Files\\Java\\jdk1.8.0_271)</p>\n</li>\n<li><p>Right-click on project -&gt; Maven -&gt; Update project</p>\n</li>\n</ol>\n<p>This will resolve then.</p>\n"}],"owner":{"account_id":65249,"reputation":6675,"user_id":192173,"accept_rate":93,"display_name":"karikari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":293641,"favorite_count":0,"down_vote_count":1,"up_vote_count":76,"accepted_answer_id":5549514,"answer_count":15,"score":75,"last_activity_date":1668678806,"creation_date":1301993889,"question_id":5549464,"body_markdown":"For this two imports;\r\n\r\n    import sun.misc.BASE64Encoder;\r\n    import sun.misc.BASE64Decoder;\r\n\r\n\r\nI got this error:\r\n\r\n    Access restriction: The type BASE64Decoder is not accessible due to restriction on required library C:\\Program Files\\Java\\jre6\\lib\\rt.jar\r\n\r\nHow can I resolve this error?","title":"import sun.misc.BASE64Encoder results in error compiled in Eclipse","body":"<p>For this two imports;</p>\n\n<pre><code>import sun.misc.BASE64Encoder;\nimport sun.misc.BASE64Decoder;\n</code></pre>\n\n<p>I got this error:</p>\n\n<pre><code>Access restriction: The type BASE64Decoder is not accessible due to restriction on required library C:\\Program Files\\Java\\jre6\\lib\\rt.jar\n</code></pre>\n\n<p>How can I resolve this error?</p>\n"},{"tags":["java","oracle"],"comments":[{"owner":{"account_id":1635690,"reputation":150047,"user_id":1509264,"accept_rate":58,"display_name":"MT0"},"score":0,"creation_date":1668677393,"post_id":74472850,"comment_id":131465657,"body_markdown":"You are missing a `,` at the end of the string literal of the line marked `1`.","body":"You are missing a <code>,</code> at the end of the string literal of the line marked <code>1</code>."}],"answers":[{"tags":[],"owner":{"account_id":1635690,"reputation":150047,"user_id":1509264,"accept_rate":58,"display_name":"MT0"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668677444,"creation_date":1668677081,"answer_id":74472964,"question_id":74472850,"body_markdown":"[As mentioned in comments on the answer to the previous question](https://stackoverflow.com/questions/74447208/adding-total-of-a-row-and-a-col-given-certain-conditions#comment131439217_74447863), escape the double quotes inside the string literal.\r\n\r\n```lang-java\r\nsb.Append(&quot; COUNT(CASE user_type WHEN 1 THEN 1 END) AS \\&quot;1\\&quot;, &quot;);\r\nsb.Append(&quot; COUNT(CASE user_type WHEN 2 THEN 1 END) AS \\&quot;2\\&quot;, &quot;);\r\nsb.Append(&quot; COUNT(CASE user_type WHEN 3 THEN 1 END) AS \\&quot;4\\&quot;, &quot;);\r\nsb.Append(&quot; COUNT(CASE user_type WHEN 5 THEN 1 END) AS \\&quot;5\\&quot;, &quot;);\r\n```\r\n\r\nor use a non-quoted identifier:\r\n\r\n```lang-java\r\nsb.Append(&quot; COUNT(CASE user_type WHEN 1 THEN 1 END) AS type1, &quot;);\r\nsb.Append(&quot; COUNT(CASE user_type WHEN 2 THEN 1 END) AS type2, &quot;);\r\nsb.Append(&quot; COUNT(CASE user_type WHEN 3 THEN 1 END) AS type4, &quot;);\r\nsb.Append(&quot; COUNT(CASE user_type WHEN 5 THEN 1 END) AS type5, &quot;);\r\n```","title":"how to get some kind of value inside parantheses - sql query related","body":"<p><a href=\"https://stackoverflow.com/questions/74447208/adding-total-of-a-row-and-a-col-given-certain-conditions#comment131439217_74447863\">As mentioned in comments on the answer to the previous question</a>, escape the double quotes inside the string literal.</p>\n<pre class=\"lang-java prettyprint-override\"><code>sb.Append(&quot; COUNT(CASE user_type WHEN 1 THEN 1 END) AS \\&quot;1\\&quot;, &quot;);\nsb.Append(&quot; COUNT(CASE user_type WHEN 2 THEN 1 END) AS \\&quot;2\\&quot;, &quot;);\nsb.Append(&quot; COUNT(CASE user_type WHEN 3 THEN 1 END) AS \\&quot;4\\&quot;, &quot;);\nsb.Append(&quot; COUNT(CASE user_type WHEN 5 THEN 1 END) AS \\&quot;5\\&quot;, &quot;);\n</code></pre>\n<p>or use a non-quoted identifier:</p>\n<pre class=\"lang-java prettyprint-override\"><code>sb.Append(&quot; COUNT(CASE user_type WHEN 1 THEN 1 END) AS type1, &quot;);\nsb.Append(&quot; COUNT(CASE user_type WHEN 2 THEN 1 END) AS type2, &quot;);\nsb.Append(&quot; COUNT(CASE user_type WHEN 3 THEN 1 END) AS type4, &quot;);\nsb.Append(&quot; COUNT(CASE user_type WHEN 5 THEN 1 END) AS type5, &quot;);\n</code></pre>\n"}],"owner":{"account_id":25387070,"reputation":1,"user_id":19198699,"display_name":"Gal Mor"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1668677237,"answer_count":1,"score":-1,"last_activity_date":1668677444,"creation_date":1668676549,"question_id":74472850,"body_markdown":"I have the following query which works great in my oracle developer:\r\n\r\n            sb.Append(&quot;SELECT CASE GROUPING_ID(status, CASE WHEN status IN(2, 4, 5) THEN 1 ELSE 0 END) &quot;);\r\n            sb.Append(&quot; WHEN 0 THEN TO_CHAR(status) WHEN 2 THEN &#39;SUB-TOTAL&#39; ELSE &#39;TOTAL&#39; END AS status, &quot;);\r\n    1       sb.Append(&quot; COUNT(CASE user_type WHEN 1 THEN 1 END) AS &quot;1&quot; &quot;);\r\n    2       sb.Append(&quot; COUNT(CASE user_type WHEN 2 THEN 1 END) AS &quot;2&quot;, &quot;);\r\n    3       sb.Append(&quot; COUNT(CASE user_type WHEN 3 THEN 1 END) AS &quot;4&quot;, &quot;);\r\n    4       sb.Append(&quot; COUNT(CASE user_type WHEN 5 THEN 1 END) AS &quot;5&quot;, &quot;);\r\n            sb.Append(&quot; COUNT(*) AS total &quot;);\r\n            sb.Append(&quot; FROM(Select STATUS, USER_TYPE FROM TRANSACTIONS tr  join TRANSACTION_STATUS_CODES sc on sc.id = tr.user_type join &quot;);\r\n            sb.Append(&quot; TRANSACTION_USER_TYPES ut on ut.id = tr.user_type &quot;);\r\n            sb.Append(&quot; WHERE Tr.User_Type between 1 and 5 And tr.status != 1 AND Tr.Update_Date BETWEEN     TO_DATE(&#39;2022-01-01 00:00:00&#39;, &#39;yyyy-mm-dd HH24:MI:SS&#39;)     AND TO_DATE(&#39;2022-11-13 23:59:59&#39;, &#39;yyyy-mm-dd HH24:MI:SS&#39;)) &quot;);\r\n            sb.Append(&quot; GROUP BY CUBE(status, CASE WHEN status IN(2, 4, 5) THEN 1 ELSE 0 END) &quot;);\r\n            sb.Append(&quot; HAVING GROUPING_ID(status, CASE WHEN status IN (2, 4, 5) THEN 1 ELSE 0 END) IN(0, 3) &quot;);\r\n            sb.Append(&quot; OR(GROUPING_ID(status, CASE WHEN status IN(2, 4, 5) THEN 1 ELSE 0 END) = 2 &quot;);\r\n            sb.Append(&quot;   AND CASE WHEN status IN(2, 4, 5) THEN 1 ELSE 0 END = 1) &quot; );\r\n\r\nIn the lines I marked from 1-&gt;4 I have an error because I cant use parantheses inside parantheses.\r\nwhat I want is to be able to actually put &quot;1&quot; , &quot;2&quot; inside my stringbuilder, how can I do that??\r\n\r\nthanks","title":"how to get some kind of value inside parantheses - sql query related","body":"<p>I have the following query which works great in my oracle developer:</p>\n<pre><code>        sb.Append(&quot;SELECT CASE GROUPING_ID(status, CASE WHEN status IN(2, 4, 5) THEN 1 ELSE 0 END) &quot;);\n        sb.Append(&quot; WHEN 0 THEN TO_CHAR(status) WHEN 2 THEN 'SUB-TOTAL' ELSE 'TOTAL' END AS status, &quot;);\n1       sb.Append(&quot; COUNT(CASE user_type WHEN 1 THEN 1 END) AS &quot;1&quot; &quot;);\n2       sb.Append(&quot; COUNT(CASE user_type WHEN 2 THEN 1 END) AS &quot;2&quot;, &quot;);\n3       sb.Append(&quot; COUNT(CASE user_type WHEN 3 THEN 1 END) AS &quot;4&quot;, &quot;);\n4       sb.Append(&quot; COUNT(CASE user_type WHEN 5 THEN 1 END) AS &quot;5&quot;, &quot;);\n        sb.Append(&quot; COUNT(*) AS total &quot;);\n        sb.Append(&quot; FROM(Select STATUS, USER_TYPE FROM TRANSACTIONS tr  join TRANSACTION_STATUS_CODES sc on sc.id = tr.user_type join &quot;);\n        sb.Append(&quot; TRANSACTION_USER_TYPES ut on ut.id = tr.user_type &quot;);\n        sb.Append(&quot; WHERE Tr.User_Type between 1 and 5 And tr.status != 1 AND Tr.Update_Date BETWEEN     TO_DATE('2022-01-01 00:00:00', 'yyyy-mm-dd HH24:MI:SS')     AND TO_DATE('2022-11-13 23:59:59', 'yyyy-mm-dd HH24:MI:SS')) &quot;);\n        sb.Append(&quot; GROUP BY CUBE(status, CASE WHEN status IN(2, 4, 5) THEN 1 ELSE 0 END) &quot;);\n        sb.Append(&quot; HAVING GROUPING_ID(status, CASE WHEN status IN (2, 4, 5) THEN 1 ELSE 0 END) IN(0, 3) &quot;);\n        sb.Append(&quot; OR(GROUPING_ID(status, CASE WHEN status IN(2, 4, 5) THEN 1 ELSE 0 END) = 2 &quot;);\n        sb.Append(&quot;   AND CASE WHEN status IN(2, 4, 5) THEN 1 ELSE 0 END = 1) &quot; );\n</code></pre>\n<p>In the lines I marked from 1-&gt;4 I have an error because I cant use parantheses inside parantheses.\nwhat I want is to be able to actually put &quot;1&quot; , &quot;2&quot; inside my stringbuilder, how can I do that??</p>\n<p>thanks</p>\n"},{"tags":["java","server"],"comments":[{"owner":{"account_id":8546,"reputation":17688,"user_id":15472,"accept_rate":87,"display_name":"tucuxi"},"score":0,"creation_date":1668677582,"post_id":74473003,"comment_id":131465721,"body_markdown":"What is different about other computers? Can you post the full stack-trace of the error? Images are not as useful as text - remove them and replace them with their text contents.","body":"What is different about other computers? Can you post the full stack-trace of the error? Images are not as useful as text - remove them and replace them with their text contents."},{"owner":{"account_id":24946458,"reputation":502,"user_id":18811731,"display_name":"Gicu Aftene"},"score":0,"creation_date":1668678033,"post_id":74473003,"comment_id":131465879,"body_markdown":"In the beginning try to check if the files are accessible, if not ask the user to change permission to files or to run your program with a more privileged user.","body":"In the beginning try to check if the files are accessible, if not ask the user to change permission to files or to run your program with a more privileged user."}],"owner":{"account_id":26550027,"reputation":1,"user_id":20179494,"display_name":"ohmyg"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668677402,"creation_date":1668677265,"question_id":74473003,"body_markdown":"[enter image description here][1]\r\nThe server should output text files from the folder to the client.\r\nThe program finds the folder, but there is no access. Please help me decide what to do!\r\nThe program works correctly on other computers\r\nAccess denied\r\n\r\nserver\r\n\r\n```\r\nimport java.io.*;\r\nimport java.net.*;\r\nimport java.util.*;\r\n\r\npublic class Server {\r\n\r\n    public static void main(String[] args) throws FileNotFoundException {\r\n        Socket s = null;\r\n\r\n        File file = new File (&quot;C:\\\\Users\\\\uchik\\\\sonets&quot;);\r\n\r\n        if (!file.exists())\r\n        {\r\n            System.out.println(&quot;\\n&quot; +\r\n                    &quot;FILE DOES NOT EXIST&quot;);\r\n        }\r\n        else\r\n        {\r\n            System.out.println (&quot;FILE FOUNDED&quot;);\r\n        }\r\n\r\n\r\n        try{\r\n            Random rand = new Random();\r\n\r\n            ServerSocket server = new ServerSocket(8080);\r\n            s = server.accept();\r\n            PrintStream ks = new PrintStream(s.getOutputStream());\r\n            FileReader fread = new FileReader(file);\r\n            BufferedReader bfread = new BufferedReader(fread);\r\n            List&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n            while (bfread.ready())\r\n            {\r\n                list.add(bfread.readLine());\r\n            }\r\n            String m = list.get(rand.nextInt(50));\r\n            ks.print(m);\r\n            ks.flush();\r\n            s.close();\r\n        }\r\n        catch(IOException e)\r\n        {\r\n            System.out.println (&quot;Error: &quot; + e);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n\r\n[enter image description here](https://i.stack.imgur.com/xtpha.png)\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/FPRYH.png","title":"the folder does not have access to the server","body":"<p><a href=\"https://i.stack.imgur.com/FPRYH.png\" rel=\"nofollow noreferrer\">enter image description here</a>\nThe server should output text files from the folder to the client.\nThe program finds the folder, but there is no access. Please help me decide what to do!\nThe program works correctly on other computers\nAccess denied</p>\n<p>server</p>\n<pre><code>import java.io.*;\nimport java.net.*;\nimport java.util.*;\n\npublic class Server {\n\n    public static void main(String[] args) throws FileNotFoundException {\n        Socket s = null;\n\n        File file = new File (&quot;C:\\\\Users\\\\uchik\\\\sonets&quot;);\n\n        if (!file.exists())\n        {\n            System.out.println(&quot;\\n&quot; +\n                    &quot;FILE DOES NOT EXIST&quot;);\n        }\n        else\n        {\n            System.out.println (&quot;FILE FOUNDED&quot;);\n        }\n\n\n        try{\n            Random rand = new Random();\n\n            ServerSocket server = new ServerSocket(8080);\n            s = server.accept();\n            PrintStream ks = new PrintStream(s.getOutputStream());\n            FileReader fread = new FileReader(file);\n            BufferedReader bfread = new BufferedReader(fread);\n            List&lt;String&gt; list = new ArrayList&lt;&gt;();\n            while (bfread.ready())\n            {\n                list.add(bfread.readLine());\n            }\n            String m = list.get(rand.nextInt(50));\n            ks.print(m);\n            ks.flush();\n            s.close();\n        }\n        catch(IOException e)\n        {\n            System.out.println (&quot;Error: &quot; + e);\n        }\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/xtpha.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1668675264,"post_id":74472522,"comment_id":131464881,"body_markdown":"[Please do not upload images of code/data/errors.](//meta.stackoverflow.com/q/285551) Instead [edit] your question to include the code and error messages as text. Does the site tell you which example has failed? Can the list of examples on the left be scrolled?","body":"<a href=\"//meta.stackoverflow.com/q/285551\">Please do not upload images of code/data/errors.</a> Instead <a href=\"https://stackoverflow.com/posts/74472522/edit\">edit</a> your question to include the code and error messages as text. Does the site tell you which example has failed? Can the list of examples on the left be scrolled?"},{"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"score":0,"creation_date":1668677358,"post_id":74472522,"comment_id":131465644,"body_markdown":"Radix complement: b^{n}- y , or in your code a^{count}-num .  Which produces 90 for num=10 which is correct.  What is your expected result and actual ?","body":"Radix complement: b^{n}- y , or in your code a^{count}-num .  Which produces 90 for num=10 which is correct.  What is your expected result and actual ?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1668684008,"post_id":74472522,"comment_id":131468166,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":26662415,"reputation":95,"user_id":20275037,"display_name":"Cary Zheng"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1668677243,"creation_date":1668677243,"answer_id":74473001,"question_id":74472522,"body_markdown":"To get radix complement, you need to add 1 to `rad`.\r\n","title":"how to find the radix complemnt for integer in java?","body":"<p>To get radix complement, you need to add 1 to <code>rad</code>.</p>\n"}],"owner":{"account_id":26178431,"reputation":1,"user_id":19862161,"display_name":"TSPUCH"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1668677243,"creation_date":1668675078,"question_id":74472522,"body_markdown":"I need a function that could find the radix complement for any given integer \r\n```\r\npublic static int findRadixComplement(int num) {\r\n    // write your code here\r\n    int count = 0, a = 10;\r\n    int numy = num;\r\n    while (numy != 0) {\r\n        numy /= 10;\r\n        ++count;\r\n    }\r\n    int rad = (int) Math.pow(a, count) - num;\r\n    return rad;\r\n}\r\n```\r\n\r\nI assume the problem is when I try to input &quot;10&quot;, it will output &quot;90&quot;\r\nI also try to use for loop instead of math.pow, it didn&#39;t work\r\nthere isn&#39;t much time left before the deadline \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Gcusr.png","title":"how to find the radix complemnt for integer in java?","body":"<p>I need a function that could find the radix complement for any given integer</p>\n<pre><code>public static int findRadixComplement(int num) {\n    // write your code here\n    int count = 0, a = 10;\n    int numy = num;\n    while (numy != 0) {\n        numy /= 10;\n        ++count;\n    }\n    int rad = (int) Math.pow(a, count) - num;\n    return rad;\n}\n</code></pre>\n<p>I assume the problem is when I try to input &quot;10&quot;, it will output &quot;90&quot;\nI also try to use for loop instead of math.pow, it didn't work\nthere isn't much time left before the deadline</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9116,"page":876,"page_size":100}
